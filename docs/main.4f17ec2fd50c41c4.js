"use strict";(self.webpackChunktasks=self.webpackChunktasks||[]).push([[179],{4939:(xt,je,U)=>{U.d(je,{$:()=>Zs,A:()=>se,G:()=>Ye,K:()=>zs,L:()=>ys,N:()=>_i,P:()=>Ap,R:()=>Hl,U:()=>Tt,V:()=>ps,W:()=>Qr,X:()=>gr,Y:()=>Fo,Z:()=>cs,_:()=>Ks,a:()=>Pu,a0:()=>Fi,a1:()=>Si,a2:()=>Qi,a3:()=>bo,a4:()=>Yi,a5:()=>ja,a6:()=>la,a7:()=>ua,a8:()=>Js,a9:()=>Da,aA:()=>St,aB:()=>Me,aC:()=>ye,aD:()=>ha,aE:()=>Le,aF:()=>Lt,aG:()=>$i,aH:()=>Xi,aI:()=>pl,aJ:()=>Hn,aN:()=>za,aQ:()=>ws,aa:()=>Fl,ab:()=>ul,ac:()=>Vl,ad:()=>y,ae:()=>E,af:()=>Re,ag:()=>L,ah:()=>F,ak:()=>pt,al:()=>rn,am:()=>_n,ap:()=>Ha,aq:()=>Yr,as:()=>ai,at:()=>Qo,au:()=>at,av:()=>et,aw:()=>Ie,ax:()=>ae,ay:()=>bc,az:()=>Ka,b:()=>Ul,c:()=>Ou,d:()=>Ec,e:()=>Nu,f:()=>ml,g:()=>Wa,h:()=>Mp,i:()=>v,j:()=>qa,k:()=>Rh,l:()=>Mu,m:()=>Md,p:()=>ce,r:()=>Ic,s:()=>Us,u:()=>zl});var p=U(5861),V=U(9058),b=U(534),Te=U(7879),z=U(7582),J=U(4537);const ce={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},se={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ye=function Ee(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},lt=function ze(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},tt=new V.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),st=new Te.Yd("@firebase/auth");function ut(I,...h){st.logLevel<=Te.in.ERROR&&st.error(`Auth (${b.SDK_VERSION}): ${I}`,...h)}function ae(I,...h){throw Ce(I,...h)}function Me(I,...h){return Ce(I,...h)}function me(I,h,m){const C=Object.assign(Object.assign({},lt()),{[h]:m});return new V.LL("auth","Firebase",C).create(h,{appName:I.name})}function ge(I,h,m){if(!(h instanceof m))throw m.name!==h.constructor.name&&ae(I,"argument-error"),me(I,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ce(I,...h){if("string"!=typeof I){const m=h[0],C=[...h.slice(1)];return C[0]&&(C[0].appName=I.name),I._errorFactory.create(m,...C)}return tt.create(I,...h)}function ye(I,h,...m){if(!I)throw Ce(h,...m)}function he(I){const h="INTERNAL ASSERTION FAILED: "+I;throw ut(h),new Error(h)}function at(I,h){I||he(h)}function Ct(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.href)||""}function $e(){return"http:"===Gt()||"https:"===Gt()}function Gt(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class bt{constructor(h,m){this.shortDelay=h,this.longDelay=m,at(m>h,"Short delay should be less than long delay!"),this.isMobile=(0,V.uI)()||(0,V.b$)()}get(){return function At(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&($e()||(0,V.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Nt(I,h){at(I.emulator,"Emulator should always be set here");const{url:m}=I.emulator;return h?`${m}${h.startsWith("/")?h.slice(1):h}`:m}class Se{static initialize(h,m,C){this.fetchImpl=h,m&&(this.headersImpl=m),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void he("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void he("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void he("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Oe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ze=new bt(3e4,6e4);function ke(I,h){return I.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:I.tenantId}):h}function He(I,h,m,C){return ht.apply(this,arguments)}function ht(){return(ht=(0,p.Z)(function*(I,h,m,C,K={}){return gt(I,K,(0,p.Z)(function*(){let oe={},Fe={};C&&("GET"===h?Fe=C:oe={body:JSON.stringify(C)});const it=(0,V.xO)(Object.assign({key:I.config.apiKey},Fe)).slice(1),It=yield I._getAdditionalHeaders();return It["Content-Type"]="application/json",I.languageCode&&(It["X-Firebase-Locale"]=I.languageCode),Se.fetch()(Sn(I,I.config.apiHost,m,it),Object.assign({method:h,headers:It,referrerPolicy:"no-referrer"},oe))}))})).apply(this,arguments)}function gt(I,h,m){return yt.apply(this,arguments)}function yt(){return(yt=(0,p.Z)(function*(I,h,m){I._canInitEmulator=!1;const C=Object.assign(Object.assign({},Oe),h);try{const K=new ln(I),oe=yield Promise.race([m(),K.promise]);K.clearNetworkTimeout();const Fe=yield oe.json();if("needConfirmation"in Fe)throw Un(I,"account-exists-with-different-credential",Fe);if(oe.ok&&!("errorMessage"in Fe))return Fe;{const it=oe.ok?Fe.errorMessage:Fe.error.message,[It,Jt]=it.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===It)throw Un(I,"credential-already-in-use",Fe);if("EMAIL_EXISTS"===It)throw Un(I,"email-already-in-use",Fe);if("USER_DISABLED"===It)throw Un(I,"user-disabled",Fe);const pn=C[It]||It.toLowerCase().replace(/[_\s]+/g,"-");if(Jt)throw me(I,pn,Jt);ae(I,pn)}}catch(K){if(K instanceof V.ZR)throw K;ae(I,"network-request-failed",{message:String(K)})}})).apply(this,arguments)}function Ln(I,h,m,C){return en.apply(this,arguments)}function en(){return(en=(0,p.Z)(function*(I,h,m,C,K={}){const oe=yield He(I,h,m,C,K);return"mfaPendingCredential"in oe&&ae(I,"multi-factor-auth-required",{_serverResponse:oe}),oe})).apply(this,arguments)}function Sn(I,h,m,C){const K=`${h}${m}?${C}`;return I.config.emulator?Nt(I.config,K):`${I.config.apiScheme}://${K}`}function an(I){switch(I){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ln{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((m,C)=>{this.timer=setTimeout(()=>C(Me(this.auth,"network-request-failed")),Ze.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Un(I,h,m){const C={appName:I.name};m.email&&(C.email=m.email),m.phoneNumber&&(C.phoneNumber=m.phoneNumber);const K=Me(I,h,C);return K.customData._tokenResponse=m,K}function Pn(I){return void 0!==I&&void 0!==I.getResponse}function Tn(I){return void 0!==I&&void 0!==I.enterprise}class Vt{constructor(h){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===h.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=h.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=h.recaptchaEnforcementState}getProviderEnforcementState(h){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const m of this.recaptchaEnforcementState)if(m.provider&&m.provider===h)return an(m.enforcementState);return null}isProviderEnabled(h){return"ENFORCE"===this.getProviderEnforcementState(h)||"AUDIT"===this.getProviderEnforcementState(h)}}function Er(){return(Er=(0,p.Z)(function*(I){return(yield He(I,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Mn(I,h){return kn.apply(this,arguments)}function kn(){return(kn=(0,p.Z)(function*(I,h){return He(I,"GET","/v2/recaptchaConfig",ke(I,h))})).apply(this,arguments)}function tr(){return(tr=(0,p.Z)(function*(I,h){return He(I,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function hn(){return(hn=(0,p.Z)(function*(I,h){return He(I,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Kn(){return(Kn=(0,p.Z)(function*(I,h){return He(I,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function Tr(I){if(I)try{const h=new Date(Number(I));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function Ae(){return(Ae=(0,p.Z)(function*(I,h=!1){const m=(0,V.m9)(I),C=yield m.getIdToken(h),K=Qe(C);ye(K&&K.exp&&K.auth_time&&K.iat,m.auth,"internal-error");const oe="object"==typeof K.firebase?K.firebase:void 0,Fe=oe?.sign_in_provider;return{claims:K,token:C,authTime:Tr(Ge(K.auth_time)),issuedAtTime:Tr(Ge(K.iat)),expirationTime:Tr(Ge(K.exp)),signInProvider:Fe||null,signInSecondFactor:oe?.sign_in_second_factor||null}})).apply(this,arguments)}function Ge(I){return 1e3*Number(I)}function Qe(I){const[h,m,C]=I.split(".");if(void 0===h||void 0===m||void 0===C)return ut("JWT malformed, contained fewer than 3 sections"),null;try{const K=(0,V.tV)(m);return K?JSON.parse(K):(ut("Failed to decode base64 JWT payload"),null)}catch(K){return ut("Caught error parsing JWT payload as JSON",K?.toString()),null}}function Rt(I,h){return un.apply(this,arguments)}function un(){return(un=(0,p.Z)(function*(I,h,m=!1){if(m)return h;try{return yield h}catch(C){throw C instanceof V.ZR&&function vn({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}(C)&&I.auth.currentUser===I&&(yield I.auth.signOut()),C}})).apply(this,arguments)}class qr{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var m;if(h){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const K=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,K)}}schedule(h=!1){var m=this;if(!this.isRunning)return;const C=this.getInterval(h);this.timerId=setTimeout((0,p.Z)(function*(){yield m.iteration()}),C)}iteration(){var h=this;return(0,p.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m?.code&&h.schedule(!0))}h.schedule()})()}}class Lr{constructor(h,m){this.createdAt=h,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tr(this.lastLoginAt),this.creationTime=Tr(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Bn(I){return sr.apply(this,arguments)}function sr(){return sr=(0,p.Z)(function*(I){var h;const m=I.auth,C=yield I.getIdToken(),K=yield Rt(I,function Qt(I,h){return Kn.apply(this,arguments)}(m,{idToken:C}));ye(K?.users.length,m,"internal-error");const oe=K.users[0];I._notifyReloadListener(oe);const Fe=null!==(h=oe.providerUserInfo)&&void 0!==h&&h.length?function Ar(I){return I.map(h=>{var{providerId:m}=h,C=(0,z._T)(h,["providerId"]);return{providerId:m,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}(oe.providerUserInfo):[],it=function Ti(I,h){return[...I.filter(C=>!h.some(K=>K.providerId===C.providerId)),...h]}(I.providerData,Fe),pn=!!I.isAnonymous&&!(I.email&&oe.passwordHash||it?.length),pr={uid:oe.localId,displayName:oe.displayName||null,photoURL:oe.photoUrl||null,email:oe.email||null,emailVerified:oe.emailVerified||!1,phoneNumber:oe.phoneNumber||null,tenantId:oe.tenantId||null,providerData:it,metadata:new Lr(oe.createdAt,oe.lastLoginAt),isAnonymous:pn};Object.assign(I,pr)}),sr.apply(this,arguments)}function ei(){return(ei=(0,p.Z)(function*(I){const h=(0,V.m9)(I);yield Bn(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function kr(){return(kr=(0,p.Z)(function*(I,h){const m=yield gt(I,{},(0,p.Z)(function*(){const C=(0,V.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:K,apiKey:oe}=I.config,Fe=Sn(I,K,"/v1/token",`key=${oe}`),it=yield I._getAdditionalHeaders();return it["Content-Type"]="application/x-www-form-urlencoded",Se.fetch()(Fe,{method:"POST",headers:it,body:C})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}function re(){return(re=(0,p.Z)(function*(I,h){return He(I,"POST","/v2/accounts:revokeToken",ke(I,h))})).apply(this,arguments)}class ${constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){ye(h.idToken,"internal-error"),ye(typeof h.idToken<"u","internal-error"),ye(typeof h.refreshToken<"u","internal-error");const m="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):function Ot(I){const h=Qe(I);return ye(h,"internal-error"),ye(typeof h.exp<"u","internal-error"),ye(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,m)}getToken(h,m=!1){var C=this;return(0,p.Z)(function*(){return ye(!C.accessToken||C.refreshToken,h,"user-token-expired"),m||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(h,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,m){var C=this;return(0,p.Z)(function*(){const{accessToken:K,refreshToken:oe,expiresIn:Fe}=yield function Sr(I,h){return kr.apply(this,arguments)}(h,m);C.updateTokensAndExpiration(K,oe,Number(Fe))})()}updateTokensAndExpiration(h,m,C){this.refreshToken=m||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(h,m){const{refreshToken:C,accessToken:K,expirationTime:oe}=m,Fe=new $;return C&&(ye("string"==typeof C,"internal-error",{appName:h}),Fe.refreshToken=C),K&&(ye("string"==typeof K,"internal-error",{appName:h}),Fe.accessToken=K),oe&&(ye("number"==typeof oe,"internal-error",{appName:h}),Fe.expirationTime=oe),Fe}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new $,this.toJSON())}_performRefresh(){return he("not implemented")}}function N(I,h){ye("string"==typeof I||typeof I>"u","internal-error",{appName:h})}class k{constructor(h){var{uid:m,auth:C,stsTokenManager:K}=h,oe=(0,z._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new qr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=C,this.stsTokenManager=K,this.accessToken=K.accessToken,this.displayName=oe.displayName||null,this.email=oe.email||null,this.emailVerified=oe.emailVerified||!1,this.phoneNumber=oe.phoneNumber||null,this.photoURL=oe.photoURL||null,this.isAnonymous=oe.isAnonymous||!1,this.tenantId=oe.tenantId||null,this.providerData=oe.providerData?[...oe.providerData]:[],this.metadata=new Lr(oe.createdAt||void 0,oe.lastLoginAt||void 0)}getIdToken(h){var m=this;return(0,p.Z)(function*(){const C=yield Rt(m,m.stsTokenManager.getToken(m.auth,h));return ye(C,m.auth,"internal-error"),m.accessToken!==C&&(m.accessToken=C,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),C})()}getIdTokenResult(h){return function Dt(I){return Ae.apply(this,arguments)}(this,h)}reload(){return function Br(I){return ei.apply(this,arguments)}(this)}_assign(h){this!==h&&(ye(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(m=>Object.assign({},m)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const m=new k(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return m.metadata._copy(this.metadata),m}_onReload(h){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,m=!1){var C=this;return(0,p.Z)(function*(){let K=!1;h.idToken&&h.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(h),K=!0),m&&(yield Bn(C)),yield C.auth._persistUserIfCurrent(C),K&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var h=this;return(0,p.Z)(function*(){const m=yield h.getIdToken();return yield Rt(h,function Nr(I,h){return tr.apply(this,arguments)}(h.auth,{idToken:m})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,m){var C,K,oe,Fe,it,It,Jt,pn;const pr=null!==(C=m.displayName)&&void 0!==C?C:void 0,ro=null!==(K=m.email)&&void 0!==K?K:void 0,io=null!==(oe=m.phoneNumber)&&void 0!==oe?oe:void 0,Rc=null!==(Fe=m.photoURL)&&void 0!==Fe?Fe:void 0,so=null!==(it=m.tenantId)&&void 0!==it?it:void 0,eu=null!==(It=m._redirectEventId)&&void 0!==It?It:void 0,zu=null!==(Jt=m.createdAt)&&void 0!==Jt?Jt:void 0,Oh=null!==(pn=m.lastLoginAt)&&void 0!==pn?pn:void 0,{uid:mo,emailVerified:Nh,isAnonymous:Gu,providerData:Lh,stsTokenManager:Fp}=m;ye(mo&&Fp,h,"internal-error");const er=$.fromJSON(this.name,Fp);ye("string"==typeof mo,h,"internal-error"),N(pr,h.name),N(ro,h.name),ye("boolean"==typeof Nh,h,"internal-error"),ye("boolean"==typeof Gu,h,"internal-error"),N(io,h.name),N(Rc,h.name),N(so,h.name),N(eu,h.name),N(zu,h.name),N(Oh,h.name);const Nd=new k({uid:mo,auth:h,email:ro,emailVerified:Nh,displayName:pr,isAnonymous:Gu,photoURL:Rc,phoneNumber:io,tenantId:so,stsTokenManager:er,createdAt:zu,lastLoginAt:Oh});return Lh&&Array.isArray(Lh)&&(Nd.providerData=Lh.map(tu=>Object.assign({},tu))),eu&&(Nd._redirectEventId=eu),Nd}static _fromIdTokenResponse(h,m,C=!1){return(0,p.Z)(function*(){const K=new $;K.updateFromServerResponse(m);const oe=new k({uid:m.localId,auth:h,stsTokenManager:K,isAnonymous:C});return yield Bn(oe),oe})()}}const fe=new Map;function Le(I){at(I instanceof Function,"Expected a class definition");let h=fe.get(I);return h?(at(h instanceof I,"Instance stored in cache mismatched with class"),h):(h=new I,fe.set(I,h),h)}const Tt=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,p.Z)(function*(){return!0})()}_set(m,C){var K=this;return(0,p.Z)(function*(){K.storage[m]=C})()}_get(m){var C=this;return(0,p.Z)(function*(){const K=C.storage[m];return void 0===K?null:K})()}_remove(m){var C=this;return(0,p.Z)(function*(){delete C.storage[m]})()}_addListener(m,C){}_removeListener(m,C){}}return I.type="NONE",I})();function Lt(I,h,m){return`firebase:${I}:${h}:${m}`}class kt{constructor(h,m,C){this.persistence=h,this.auth=m,this.userKey=C;const{config:K,name:oe}=this.auth;this.fullUserKey=Lt(this.userKey,K.apiKey,oe),this.fullPersistenceKey=Lt("persistence",K.apiKey,oe),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,p.Z)(function*(){const m=yield h.persistence._get(h.fullUserKey);return m?k._fromJSON(h.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var m=this;return(0,p.Z)(function*(){if(m.persistence===h)return;const C=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=h,C?m.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,m,C="authUser"){return(0,p.Z)(function*(){if(!m.length)return new kt(Le(Tt),h,C);const K=(yield Promise.all(m.map(function(){var Jt=(0,p.Z)(function*(pn){if(yield pn._isAvailable())return pn});return function(pn){return Jt.apply(this,arguments)}}()))).filter(Jt=>Jt);let oe=K[0]||Le(Tt);const Fe=Lt(C,h.config.apiKey,h.name);let it=null;for(const Jt of m)try{const pn=yield Jt._get(Fe);if(pn){const pr=k._fromJSON(h,pn);Jt!==oe&&(it=pr),oe=Jt;break}}catch{}const It=K.filter(Jt=>Jt._shouldAllowMigration);return oe._shouldAllowMigration&&It.length?(oe=It[0],it&&(yield oe._set(Fe,it.toJSON())),yield Promise.all(m.map(function(){var Jt=(0,p.Z)(function*(pn){if(pn!==oe)try{yield pn._remove(Fe)}catch{}});return function(pn){return Jt.apply(this,arguments)}}())),new kt(oe,h,C)):new kt(oe,h,C)})()}}function Kt(I){const h=I.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(xe(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(bn(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(we(h))return"Blackberry";if(Ue(h))return"Webos";if(De(h))return"Safari";if((h.includes("chrome/")||ve(h))&&!h.includes("edge/"))return"Chrome";if(Ie(h))return"Android";{const C=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===C?.length)return C[1]}return"Other"}function bn(I=(0,V.z$)()){return/firefox\//i.test(I)}function De(I=(0,V.z$)()){const h=I.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function ve(I=(0,V.z$)()){return/crios\//i.test(I)}function xe(I=(0,V.z$)()){return/iemobile/i.test(I)}function Ie(I=(0,V.z$)()){return/android/i.test(I)}function we(I=(0,V.z$)()){return/blackberry/i.test(I)}function Ue(I=(0,V.z$)()){return/webos/i.test(I)}function et(I=(0,V.z$)()){return/iphone|ipad|ipod/i.test(I)||/macintosh/i.test(I)&&/mobile/i.test(I)}function St(I=(0,V.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(I)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(I)}function Zn(I=(0,V.z$)()){return et(I)||Ie(I)||Ue(I)||we(I)||/windows phone/i.test(I)||xe(I)}function Xn(I,h=[]){let m;switch(I){case"Browser":m=Kt((0,V.z$)());break;case"Worker":m=`${Kt((0,V.z$)())}-${I}`;break;default:m=I}const C=h.length?h.join(","):"FirebaseCore-web";return`${m}/JsCore/${b.SDK_VERSION}/${C}`}class Or{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,m){const C=oe=>new Promise((Fe,it)=>{try{Fe(h(oe))}catch(It){it(It)}});C.onAbort=m,this.queue.push(C);const K=this.queue.length-1;return()=>{this.queue[K]=()=>Promise.resolve()}}runMiddleware(h){var m=this;return(0,p.Z)(function*(){if(m.auth.currentUser===h)return;const C=[];try{for(const K of m.queue)yield K(h),K.onAbort&&C.push(K.onAbort)}catch(K){C.reverse();for(const oe of C)try{oe()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:K?.message})}})()}}function nr(){return(nr=(0,p.Z)(function*(I,h={}){return He(I,"GET","/v2/passwordPolicy",ke(I,h))})).apply(this,arguments)}class Kr{constructor(h){var m,C,K,oe;const Fe=h.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(m=Fe.minPasswordLength)&&void 0!==m?m:6,Fe.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Fe.maxPasswordLength),void 0!==Fe.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Fe.containsLowercaseCharacter),void 0!==Fe.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Fe.containsUppercaseCharacter),void 0!==Fe.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Fe.containsNumericCharacter),void 0!==Fe.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Fe.containsNonAlphanumericCharacter),this.enforcementState=h.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(K=null===(C=h.allowedNonAlphanumericCharacters)||void 0===C?void 0:C.join(""))&&void 0!==K?K:"",this.forceUpgradeOnSignin=null!==(oe=h.forceUpgradeOnSignin)&&void 0!==oe&&oe,this.schemaVersion=h.schemaVersion}validatePassword(h){var m,C,K,oe,Fe,it;const It={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(h,It),this.validatePasswordCharacterOptions(h,It),It.isValid&&(It.isValid=null===(m=It.meetsMinPasswordLength)||void 0===m||m),It.isValid&&(It.isValid=null===(C=It.meetsMaxPasswordLength)||void 0===C||C),It.isValid&&(It.isValid=null===(K=It.containsLowercaseLetter)||void 0===K||K),It.isValid&&(It.isValid=null===(oe=It.containsUppercaseLetter)||void 0===oe||oe),It.isValid&&(It.isValid=null===(Fe=It.containsNumericCharacter)||void 0===Fe||Fe),It.isValid&&(It.isValid=null===(it=It.containsNonAlphanumericCharacter)||void 0===it||it),It}validatePasswordLengthOptions(h,m){const C=this.customStrengthOptions.minPasswordLength,K=this.customStrengthOptions.maxPasswordLength;C&&(m.meetsMinPasswordLength=h.length>=C),K&&(m.meetsMaxPasswordLength=h.length<=K)}validatePasswordCharacterOptions(h,m){let C;this.updatePasswordCharacterOptionsStatuses(m,!1,!1,!1,!1);for(let K=0;K<h.length;K++)C=h.charAt(K),this.updatePasswordCharacterOptionsStatuses(m,C>="a"&&C<="z",C>="A"&&C<="Z",C>="0"&&C<="9",this.allowedNonAlphanumericCharacters.includes(C))}updatePasswordCharacterOptionsStatuses(h,m,C,K,oe){this.customStrengthOptions.containsLowercaseLetter&&(h.containsLowercaseLetter||(h.containsLowercaseLetter=m)),this.customStrengthOptions.containsUppercaseLetter&&(h.containsUppercaseLetter||(h.containsUppercaseLetter=C)),this.customStrengthOptions.containsNumericCharacter&&(h.containsNumericCharacter||(h.containsNumericCharacter=K)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(h.containsNonAlphanumericCharacter||(h.containsNonAlphanumericCharacter=oe))}}class Hs{constructor(h,m,C,K){this.app=h,this.heartbeatServiceProvider=m,this.appCheckServiceProvider=C,this.config=K,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xi(this),this.idTokenSubscription=new xi(this),this.beforeStateQueue=new Or(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=K.sdkClientVersion}_initializeWithPersistence(h,m){var C=this;return m&&(this._popupRedirectResolver=Le(m)),this._initializationPromise=this.queue((0,p.Z)(function*(){var K,oe;if(!C._deleted&&(C.persistenceManager=yield kt.create(C,h),!C._deleted)){if(null!==(K=C._popupRedirectResolver)&&void 0!==K&&K._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch{}yield C.initializeCurrentUser(m),C.lastNotifiedUid=(null===(oe=C.currentUser)||void 0===oe?void 0:oe.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,p.Z)(function*(){if(h._deleted)return;const m=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||m){if(h.currentUser&&m&&h.currentUser.uid===m.uid)return h._currentUser._assign(m),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(m,!0)}})()}initializeCurrentUser(h){var m=this;return(0,p.Z)(function*(){var C;const K=yield m.assertedPersistence.getCurrentUser();let oe=K,Fe=!1;if(h&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const it=null===(C=m.redirectUser)||void 0===C?void 0:C._redirectEventId,It=oe?._redirectEventId,Jt=yield m.tryRedirectSignIn(h);(!it||it===It)&&Jt?.user&&(oe=Jt.user,Fe=!0)}if(!oe)return m.directlySetCurrentUser(null);if(!oe._redirectEventId){if(Fe)try{yield m.beforeStateQueue.runMiddleware(oe)}catch(it){oe=K,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(it))}return oe?m.reloadAndSetCurrentUserOrClear(oe):m.directlySetCurrentUser(null)}return ye(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===oe._redirectEventId?m.directlySetCurrentUser(oe):m.reloadAndSetCurrentUserOrClear(oe)})()}tryRedirectSignIn(h){var m=this;return(0,p.Z)(function*(){let C=null;try{C=yield m._popupRedirectResolver._completeRedirectFn(m,h,!0)}catch{yield m._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(h){var m=this;return(0,p.Z)(function*(){try{yield Bn(h)}catch(C){if("auth/network-request-failed"!==C?.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function gn(){if(typeof navigator>"u")return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var h=this;return(0,p.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var m=this;return(0,p.Z)(function*(){const C=h?(0,V.m9)(h):null;return C&&ye(C.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(C&&C._clone(m))})()}_updateCurrentUser(h,m=!1){var C=this;return(0,p.Z)(function*(){if(!C._deleted)return h&&ye(C.tenantId===h.tenantId,C,"tenant-id-mismatch"),m||(yield C.beforeStateQueue.runMiddleware(h)),C.queue((0,p.Z)(function*(){yield C.directlySetCurrentUser(h),C.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,p.Z)(function*(){return yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0)})()}setPersistence(h){var m=this;return this.queue((0,p.Z)(function*(){yield m.assertedPersistence.setPersistence(Le(h))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(h){var m=this;return(0,p.Z)(function*(){m._getPasswordPolicyInternal()||(yield m._updatePasswordPolicy());const C=m._getPasswordPolicyInternal();return C.schemaVersion!==m.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(m._errorFactory.create("unsupported-password-policy-schema-version",{})):C.validatePassword(h)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var h=this;return(0,p.Z)(function*(){const m=yield function ti(I){return nr.apply(this,arguments)}(h),C=new Kr(m);null===h.tenantId?h._projectPasswordPolicy=C:h._tenantPasswordPolicies[h.tenantId]=C})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new V.LL("auth","Firebase",h())}onAuthStateChanged(h,m,C){return this.registerStateListener(this.authStateSubscription,h,m,C)}beforeAuthStateChanged(h,m){return this.beforeStateQueue.pushCallback(h,m)}onIdTokenChanged(h,m,C){return this.registerStateListener(this.idTokenSubscription,h,m,C)}authStateReady(){return new Promise((h,m)=>{if(this.currentUser)h();else{const C=this.onAuthStateChanged(()=>{C(),h()},m)}})}revokeAccessToken(h){var m=this;return(0,p.Z)(function*(){if(m.currentUser){const C=yield m.currentUser.getIdToken(),K={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:h,idToken:C};null!=m.tenantId&&(K.tenantId=m.tenantId),yield function Pe(I,h){return re.apply(this,arguments)}(m,K)}})()}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,m){var C=this;return(0,p.Z)(function*(){const K=yield C.getOrInitRedirectPersistenceManager(m);return null===h?K.removeCurrentUser():K.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var m=this;return(0,p.Z)(function*(){if(!m.redirectPersistenceManager){const C=h&&Le(h)||m._popupRedirectResolver;ye(C,m,"argument-error"),m.redirectPersistenceManager=yield kt.create(m,[Le(C._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(h){var m=this;return(0,p.Z)(function*(){var C,K;return m._isInitialized&&(yield m.queue((0,p.Z)(function*(){}))),(null===(C=m._currentUser)||void 0===C?void 0:C._redirectEventId)===h?m._currentUser:(null===(K=m.redirectUser)||void 0===K?void 0:K._redirectEventId)===h?m.redirectUser:null})()}_persistUserIfCurrent(h){var m=this;return(0,p.Z)(function*(){if(h===m.currentUser)return m.queue((0,p.Z)(function*(){return m.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(m=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,m,C,K){if(this._deleted)return()=>{};const oe="function"==typeof m?m:m.next.bind(m);let Fe=!1;const it=this._isInitialized?Promise.resolve():this._initializationPromise;if(ye(it,this,"internal-error"),it.then(()=>{Fe||oe(this.currentUser)}),"function"==typeof m){const It=h.addObserver(m,C,K);return()=>{Fe=!0,It()}}{const It=h.addObserver(m);return()=>{Fe=!0,It()}}}directlySetCurrentUser(h){var m=this;return(0,p.Z)(function*(){m.currentUser&&m.currentUser!==h&&m._currentUser._stopProactiveRefresh(),h&&m.isProactiveRefreshEnabled&&h._startProactiveRefresh(),m.currentUser=h,h?yield m.assertedPersistence.setCurrentUser(h):yield m.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=Xn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,p.Z)(function*(){var m;const C={"X-Client-Version":h.clientVersion};h.app.options.appId&&(C["X-Firebase-gmpid"]=h.app.options.appId);const K=yield null===(m=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();K&&(C["X-Firebase-Client"]=K);const oe=yield h._getAppCheckToken();return oe&&(C["X-Firebase-AppCheck"]=oe),C})()}_getAppCheckToken(){var h=this;return(0,p.Z)(function*(){var m;const C=yield null===(m=h.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getToken();return C?.error&&function wt(I,...h){st.logLevel<=Te.in.WARN&&st.warn(`Auth (${b.SDK_VERSION}): ${I}`,...h)}(`Error while retrieving App Check token: ${C.error}`),C?.token})()}}function Hn(I){return(0,V.m9)(I)}class xi{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,V.ne)(m=>this.observer=m)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let wr={loadJS:()=>(0,p.Z)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function js(I){return wr.loadJS(I)}function ii(I){return`__${I}${Math.floor(1e6*Math.random())}`}class Io{constructor(h){this.type="recaptcha-enterprise",this.auth=Hn(h)}verify(h="verify",m=!1){var C=this;return(0,p.Z)(function*(){function oe(){return oe=(0,p.Z)(function*(it){if(!m){if(null==it.tenantId&&null!=it._agentRecaptchaConfig)return it._agentRecaptchaConfig.siteKey;if(null!=it.tenantId&&void 0!==it._tenantRecaptchaConfigs[it.tenantId])return it._tenantRecaptchaConfigs[it.tenantId].siteKey}return new Promise(function(){var It=(0,p.Z)(function*(Jt,pn){Mn(it,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(pr=>{if(void 0!==pr.recaptchaKey){const ro=new Vt(pr);return null==it.tenantId?it._agentRecaptchaConfig=ro:it._tenantRecaptchaConfigs[it.tenantId]=ro,Jt(ro.siteKey)}pn(new Error("recaptcha Enterprise site key undefined"))}).catch(pr=>{pn(pr)})});return function(Jt,pn){return It.apply(this,arguments)}}())}),oe.apply(this,arguments)}function Fe(it,It,Jt){const pn=window.grecaptcha;Tn(pn)?pn.enterprise.ready(()=>{pn.enterprise.execute(it,{action:h}).then(pr=>{It(pr)}).catch(()=>{It("NO_RECAPTCHA")})}):Jt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((it,It)=>{(function K(it){return oe.apply(this,arguments)})(C.auth).then(Jt=>{if(!m&&Tn(window.grecaptcha))Fe(Jt,it,It);else{if(typeof window>"u")return void It(new Error("RecaptchaVerifier is only supported in browser"));let pn=function $o(){return wr.recaptchaEnterpriseScript}();0!==pn.length&&(pn+=Jt),js(pn).then(()=>{Fe(Jt,it,It)}).catch(pr=>{It(pr)})}}).catch(Jt=>{It(Jt)})})})()}}function li(I,h,m){return $s.apply(this,arguments)}function $s(){return($s=(0,p.Z)(function*(I,h,m,C=!1){const K=new Io(I);let oe;try{oe=yield K.verify(m)}catch{oe=yield K.verify(m,!0)}const Fe=Object.assign({},h);return Object.assign(Fe,C?{captchaResp:oe}:{captchaResponse:oe}),Object.assign(Fe,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Fe,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Fe})).apply(this,arguments)}function ui(I,h,m,C){return Hi.apply(this,arguments)}function Hi(){return Hi=(0,p.Z)(function*(I,h,m,C){var K;if(null!==(K=I._getRecaptchaConfig())&&void 0!==K&&K.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const oe=yield li(I,h,m,"getOobCode"===m);return C(I,oe)}return C(I,h).catch(function(){var oe=(0,p.Z)(function*(Fe){if("auth/missing-recaptcha-token"===Fe.code){console.log(`${m} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const it=yield li(I,h,m,"getOobCode"===m);return C(I,it)}return Promise.reject(Fe)});return function(Fe){return oe.apply(this,arguments)}}())}),Hi.apply(this,arguments)}function zs(I,h,m){const C=Hn(I);ye(C._canInitEmulator,C,"emulator-config-failed"),ye(/^https?:\/\//.test(h),C,"invalid-emulator-scheme");const K=!!m?.disableWarnings,oe=uo(h),{host:Fe,port:it}=function sa(I){const h=uo(I),m=/(\/\/)?([^?#/]+)/.exec(I.substr(h.length));if(!m)return{host:"",port:null};const C=m[2].split("@").pop()||"",K=/^(\[[^\]]+\])(:|$)/.exec(C);if(K){const oe=K[1];return{host:oe,port:Gs(C.substr(oe.length+1))}}{const[oe,Fe]=C.split(":");return{host:oe,port:Gs(Fe)}}}(h);C.config.emulator={url:`${oe}//${Fe}${null===it?"":`:${it}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:Fe,port:it,protocol:oe.replace(":",""),options:Object.freeze({disableWarnings:K})}),K||function Lo(){function I(){const h=document.createElement("p"),m=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",I):I())}()}function uo(I){const h=I.indexOf(":");return h<0?"":I.substr(0,h+1)}function Gs(I){if(!I)return null;const h=Number(I);return isNaN(h)?null:h}class ys{constructor(h,m){this.providerId=h,this.signInMethod=m}toJSON(){return he("not implemented")}_getIdTokenResponse(h){return he("not implemented")}_linkToIdToken(h,m){return he("not implemented")}_getReauthenticationResolver(h){return he("not implemented")}}function Ws(I,h){return Li.apply(this,arguments)}function Li(){return(Li=(0,p.Z)(function*(I,h){return He(I,"POST","/v1/accounts:resetPassword",ke(I,h))})).apply(this,arguments)}function Pr(){return(Pr=(0,p.Z)(function*(I,h){return He(I,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Hr(I,h){return qi.apply(this,arguments)}function qi(){return(qi=(0,p.Z)(function*(I,h){return He(I,"POST","/v1/accounts:signUp",h)})).apply(this,arguments)}function To(){return(To=(0,p.Z)(function*(I,h){return He(I,"POST","/v1/accounts:update",ke(I,h))})).apply(this,arguments)}function co(I,h){return ss.apply(this,arguments)}function ss(){return(ss=(0,p.Z)(function*(I,h){return Ln(I,"POST","/v1/accounts:signInWithPassword",ke(I,h))})).apply(this,arguments)}function pi(I,h){return os.apply(this,arguments)}function os(){return(os=(0,p.Z)(function*(I,h){return He(I,"POST","/v1/accounts:sendOobCode",ke(I,h))})).apply(this,arguments)}function Ft(){return(Ft=(0,p.Z)(function*(I,h){return pi(I,h)})).apply(this,arguments)}function wn(I,h){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,p.Z)(function*(I,h){return pi(I,h)})).apply(this,arguments)}function mi(I,h){return as.apply(this,arguments)}function as(){return(as=(0,p.Z)(function*(I,h){return pi(I,h)})).apply(this,arguments)}function ci(){return(ci=(0,p.Z)(function*(I,h){return pi(I,h)})).apply(this,arguments)}function ls(){return(ls=(0,p.Z)(function*(I,h){return Ln(I,"POST","/v1/accounts:signInWithEmailLink",ke(I,h))})).apply(this,arguments)}function fn(){return(fn=(0,p.Z)(function*(I,h){return Ln(I,"POST","/v1/accounts:signInWithEmailLink",ke(I,h))})).apply(this,arguments)}class gi extends ys{constructor(h,m,C,K=null){super("password",C),this._email=h,this._password=m,this._tenantId=K}static _fromEmailAndPassword(h,m){return new gi(h,m,"password")}static _fromEmailAndCode(h,m,C=null){return new gi(h,m,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const m="string"==typeof h?JSON.parse(h):h;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(h){var m=this;return(0,p.Z)(function*(){switch(m.signInMethod){case"password":return ui(h,{returnSecureToken:!0,email:m._email,password:m._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",co);case"emailLink":return function br(I,h){return ls.apply(this,arguments)}(h,{email:m._email,oobCode:m._password});default:ae(h,"internal-error")}})()}_linkToIdToken(h,m){var C=this;return(0,p.Z)(function*(){switch(C.signInMethod){case"password":return ui(h,{idToken:m,returnSecureToken:!0,email:C._email,password:C._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Hr);case"emailLink":return function vs(I,h){return fn.apply(this,arguments)}(h,{idToken:m,email:C._email,oobCode:C._password});default:ae(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function us(I,h){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,p.Z)(function*(I,h){return Ln(I,"POST","/v1/accounts:signInWithIdp",ke(I,h))})).apply(this,arguments)}class _i extends ys{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const m=new _i(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(m.idToken=h.idToken),h.accessToken&&(m.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(m.nonce=h.nonce),h.pendingToken&&(m.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(m.accessToken=h.oauthToken,m.secret=h.oauthTokenSecret):ae("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const m="string"==typeof h?JSON.parse(h):h,{providerId:C,signInMethod:K}=m,oe=(0,z._T)(m,["providerId","signInMethod"]);if(!C||!K)return null;const Fe=new _i(C,K);return Fe.idToken=oe.idToken||void 0,Fe.accessToken=oe.accessToken||void 0,Fe.secret=oe.secret,Fe.nonce=oe.nonce,Fe.pendingToken=oe.pendingToken||null,Fe}_getIdTokenResponse(h){return us(h,this.buildRequest())}_linkToIdToken(h,m){const C=this.buildRequest();return C.idToken=m,us(h,C)}_getReauthenticationResolver(h){const m=this.buildRequest();return m.autoCreate=!1,us(h,m)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),h.postBody=(0,V.xO)(m)}return h}}function bi(){return(bi=(0,p.Z)(function*(I,h){return He(I,"POST","/v1/accounts:sendVerificationCode",ke(I,h))})).apply(this,arguments)}function Is(){return(Is=(0,p.Z)(function*(I,h){return Ln(I,"POST","/v1/accounts:signInWithPhoneNumber",ke(I,h))})).apply(this,arguments)}function jr(){return(jr=(0,p.Z)(function*(I,h){const m=yield Ln(I,"POST","/v1/accounts:signInWithPhoneNumber",ke(I,h));if(m.temporaryProof)throw Un(I,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const qs={USER_NOT_FOUND:"user-not-found"};function $n(){return($n=(0,p.Z)(function*(I,h){return Ln(I,"POST","/v1/accounts:signInWithPhoneNumber",ke(I,Object.assign(Object.assign({},h),{operation:"REAUTH"})),qs)})).apply(this,arguments)}class Es extends ys{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,m){return new Es({verificationId:h,verificationCode:m})}static _fromTokenResponse(h,m){return new Es({phoneNumber:h,temporaryProof:m})}_getIdTokenResponse(h){return function cr(I,h){return Is.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,m){return function Di(I,h){return jr.apply(this,arguments)}(h,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function Rs(I,h){return $n.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:m,verificationId:C,verificationCode:K}=this.params;return h&&m?{temporaryProof:h,phoneNumber:m}:{sessionInfo:C,code:K}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:m,verificationCode:C,phoneNumber:K,temporaryProof:oe}=h;return C||m||K||oe?new Es({verificationId:m,verificationCode:C,phoneNumber:K,temporaryProof:oe}):null}}class Zr{constructor(h){var m,C,K,oe,Fe,it;const It=(0,V.zd)((0,V.pd)(h)),Jt=null!==(m=It.apiKey)&&void 0!==m?m:null,pn=null!==(C=It.oobCode)&&void 0!==C?C:null,pr=function oa(I){switch(I){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(K=It.mode)&&void 0!==K?K:null);ye(Jt&&pn&&pr,"argument-error"),this.apiKey=Jt,this.operation=pr,this.code=pn,this.continueUrl=null!==(oe=It.continueUrl)&&void 0!==oe?oe:null,this.languageCode=null!==(Fe=It.languageCode)&&void 0!==Fe?Fe:null,this.tenantId=null!==(it=It.tenantId)&&void 0!==it?it:null}static parseLink(h){const m=function ko(I){const h=(0,V.zd)((0,V.pd)(I)).link,m=h?(0,V.zd)((0,V.pd)(h)).deep_link_id:null,C=(0,V.zd)((0,V.pd)(I)).deep_link_id;return(C?(0,V.zd)((0,V.pd)(C)).link:null)||C||m||h||I}(h);try{return new Zr(m)}catch{return null}}}let ps=(()=>{class I{constructor(){this.providerId=I.PROVIDER_ID}static credential(m,C){return gi._fromEmailAndPassword(m,C)}static credentialWithLink(m,C){const K=Zr.parseLink(C);return ye(K,"argument-error"),gi._fromEmailAndCode(m,K.code,K.tenantId)}}return I.PROVIDER_ID="password",I.EMAIL_PASSWORD_SIGN_IN_METHOD="password",I.EMAIL_LINK_SIGN_IN_METHOD="emailLink",I})();class ki{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class rr extends ki{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class cs extends rr{static credentialFromJSON(h){const m="string"==typeof h?JSON.parse(h):h;return ye("providerId"in m&&"signInMethod"in m,"argument-error"),_i._fromParams(m)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return ye(h.idToken||h.accessToken,"argument-error"),_i._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return cs.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return cs.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:m,oauthAccessToken:C,oauthTokenSecret:K,pendingToken:oe,nonce:Fe,providerId:it}=h;if(!C&&!K&&!m&&!oe||!it)return null;try{return new cs(it)._credential({idToken:m,accessToken:C,nonce:Fe,pendingToken:oe})}catch{return null}}}let Qr=(()=>{class I extends rr{constructor(){super("facebook.com")}static credential(m){return _i._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return I.credentialFromTaggedObject(m)}static credentialFromError(m){return I.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return I.credential(m.oauthAccessToken)}catch{return null}}}return I.FACEBOOK_SIGN_IN_METHOD="facebook.com",I.PROVIDER_ID="facebook.com",I})(),gr=(()=>{class I extends rr{constructor(){super("google.com"),this.addScope("profile")}static credential(m,C){return _i._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:C})}static credentialFromResult(m){return I.credentialFromTaggedObject(m)}static credentialFromError(m){return I.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:C,oauthAccessToken:K}=m;if(!C&&!K)return null;try{return I.credential(C,K)}catch{return null}}}return I.GOOGLE_SIGN_IN_METHOD="google.com",I.PROVIDER_ID="google.com",I})(),Fo=(()=>{class I extends rr{constructor(){super("github.com")}static credential(m){return _i._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return I.credentialFromTaggedObject(m)}static credentialFromError(m){return I.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return I.credential(m.oauthAccessToken)}catch{return null}}}return I.GITHUB_SIGN_IN_METHOD="github.com",I.PROVIDER_ID="github.com",I})();class ws extends ys{constructor(h,m){super(h,h),this.pendingToken=m}_getIdTokenResponse(h){return us(h,this.buildRequest())}_linkToIdToken(h,m){const C=this.buildRequest();return C.idToken=m,us(h,C)}_getReauthenticationResolver(h){const m=this.buildRequest();return m.autoCreate=!1,us(h,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const m="string"==typeof h?JSON.parse(h):h,{providerId:C,signInMethod:K,pendingToken:oe}=m;return C&&K&&oe&&C===K?new ws(C,oe):null}static _create(h,m){return new ws(h,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ks extends ki{constructor(h){ye(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return Ks.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return Ks.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const m=ws.fromJSON(h);return ye(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:m,providerId:C}=h;if(!m||!C)return null;try{return ws._create(C,m)}catch{return null}}}let Zs=(()=>{class I extends rr{constructor(){super("twitter.com")}static credential(m,C){return _i._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:C})}static credentialFromResult(m){return I.credentialFromTaggedObject(m)}static credentialFromError(m){return I.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:C,oauthTokenSecret:K}=m;if(!C||!K)return null;try{return I.credential(C,K)}catch{return null}}}return I.TWITTER_SIGN_IN_METHOD="twitter.com",I.PROVIDER_ID="twitter.com",I})();function wo(I,h){return aa.apply(this,arguments)}function aa(){return(aa=(0,p.Z)(function*(I,h){return Ln(I,"POST","/v1/accounts:signUp",ke(I,h))})).apply(this,arguments)}class Zi{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,m,C,K=!1){return(0,p.Z)(function*(){const oe=yield k._fromIdTokenResponse(h,C,K),Fe=Qs(C);return new Zi({user:oe,providerId:Fe,_tokenResponse:C,operationType:m})})()}static _forOperation(h,m,C){return(0,p.Z)(function*(){yield h._updateTokensIfNecessary(C,!0);const K=Qs(C);return new Zi({user:h,providerId:K,_tokenResponse:C,operationType:m})})()}}function Qs(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}function Fi(I){return Co.apply(this,arguments)}function Co(){return(Co=(0,p.Z)(function*(I){var h;const m=Hn(I);if(yield m._initializationPromise,null!==(h=m.currentUser)&&void 0!==h&&h.isAnonymous)return new Zi({user:m.currentUser,providerId:null,operationType:"signIn"});const C=yield wo(m,{returnSecureToken:!0}),K=yield Zi._fromIdTokenResponse(m,"signIn",C,!0);return yield m._updateCurrentUser(K.user),K})).apply(this,arguments)}class Vo extends V.ZR{constructor(h,m,C,K){var oe;super(m.code,m.message),this.operationType=C,this.user=K,Object.setPrototypeOf(this,Vo.prototype),this.customData={appName:h.name,tenantId:null!==(oe=h.tenantId)&&void 0!==oe?oe:void 0,_serverResponse:m.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(h,m,C,K){return new Vo(h,m,C,K)}}function dr(I,h,m,C){return("reauthenticate"===h?m._getReauthenticationResolver(I):m._getIdTokenResponse(I)).catch(oe=>{throw"auth/multi-factor-auth-required"===oe.code?Vo._fromErrorAndOperation(I,oe,h,C):oe})}function Ms(I){return new Set(I.map(({providerId:h})=>h).filter(h=>!!h))}function Ha(I,h){return G.apply(this,arguments)}function G(){return G=(0,p.Z)(function*(I,h){const m=(0,V.m9)(I);yield ie(!0,m,h);const{providerUserInfo:C}=yield function Xt(I,h){return hn.apply(this,arguments)}(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[h]}),K=Ms(C||[]);return m.providerData=m.providerData.filter(oe=>K.has(oe.providerId)),K.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m}),G.apply(this,arguments)}function q(I,h){return O.apply(this,arguments)}function O(){return(O=(0,p.Z)(function*(I,h,m=!1){const C=yield Rt(I,h._linkToIdToken(I.auth,yield I.getIdToken()),m);return Zi._forOperation(I,"link",C)})).apply(this,arguments)}function ie(I,h,m){return be.apply(this,arguments)}function be(){return(be=(0,p.Z)(function*(I,h,m){yield Bn(h);const K=!1===I?"provider-already-linked":"no-such-provider";ye(Ms(h.providerData).has(m)===I,h.auth,K)})).apply(this,arguments)}function tn(I,h){return In.apply(this,arguments)}function In(){return(In=(0,p.Z)(function*(I,h,m=!1){const{auth:C}=I,K="reauthenticate";try{const oe=yield Rt(I,dr(C,K,h,I),m);ye(oe.idToken,C,"internal-error");const Fe=Qe(oe.idToken);ye(Fe,C,"internal-error");const{sub:it}=Fe;return ye(I.uid===it,C,"user-mismatch"),Zi._forOperation(I,K,oe)}catch(oe){throw"auth/user-not-found"===oe?.code&&ae(C,"user-mismatch"),oe}})).apply(this,arguments)}function Ai(I,h){return ms.apply(this,arguments)}function ms(){return(ms=(0,p.Z)(function*(I,h,m=!1){const C="signIn",K=yield dr(I,C,h),oe=yield Zi._fromIdTokenResponse(I,C,K);return m||(yield I._updateCurrentUser(oe.user)),oe})).apply(this,arguments)}function Si(I,h){return ho.apply(this,arguments)}function ho(){return(ho=(0,p.Z)(function*(I,h){return Ai(Hn(I),h)})).apply(this,arguments)}function Qi(I,h){return si.apply(this,arguments)}function si(){return(si=(0,p.Z)(function*(I,h){const m=(0,V.m9)(I);return yield ie(!1,m,h.providerId),q(m,h)})).apply(this,arguments)}function bo(I,h){return xs.apply(this,arguments)}function xs(){return(xs=(0,p.Z)(function*(I,h){return tn((0,V.m9)(I),h)})).apply(this,arguments)}function Do(){return(Do=(0,p.Z)(function*(I,h){return Ln(I,"POST","/v1/accounts:signInWithCustomToken",ke(I,h))})).apply(this,arguments)}function Yi(I,h){return Go.apply(this,arguments)}function Go(){return Go=(0,p.Z)(function*(I,h){const m=Hn(I),C=yield function yi(I,h){return Do.apply(this,arguments)}(m,{token:h,returnSecureToken:!0}),K=yield Zi._fromIdTokenResponse(m,"signIn",C);return yield m._updateCurrentUser(K.user),K}),Go.apply(this,arguments)}class Os{constructor(h,m){this.factorId=h,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(h,m){return"phoneInfo"in m?Wo._fromServerResponse(h,m):"totpInfo"in m?Ns._fromServerResponse(h,m):ae(h,"internal-error")}}class Wo extends Os{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,m){return new Wo(m)}}class Ns extends Os{constructor(h){super("totp",h)}static _fromServerResponse(h,m){return new Ns(m)}}function Ls(I,h,m){var C;ye((null===(C=m.url)||void 0===C?void 0:C.length)>0,I,"invalid-continue-uri"),ye(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,I,"invalid-dynamic-link-domain"),h.continueUrl=m.url,h.dynamicLinkDomain=m.dynamicLinkDomain,h.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(ye(m.iOS.bundleId.length>0,I,"missing-ios-bundle-id"),h.iOSBundleId=m.iOS.bundleId),m.android&&(ye(m.android.packageName.length>0,I,"missing-android-pkg-name"),h.androidInstallApp=m.android.installApp,h.androidMinimumVersionCode=m.android.minimumVersion,h.androidPackageName=m.android.packageName)}function Cs(I){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,p.Z)(function*(I){const h=Hn(I);h._getPasswordPolicyInternal()&&(yield h._updatePasswordPolicy())})).apply(this,arguments)}function ja(I,h,m){return ba.apply(this,arguments)}function ba(){return(ba=(0,p.Z)(function*(I,h,m){const C=Hn(I),K={requestType:"PASSWORD_RESET",email:h,clientType:"CLIENT_TYPE_WEB"};m&&Ls(C,K,m),yield ui(C,K,"getOobCode",wn)})).apply(this,arguments)}function la(I,h,m){return qo.apply(this,arguments)}function qo(){return qo=(0,p.Z)(function*(I,h,m){yield Ws((0,V.m9)(I),{oobCode:h,newPassword:m}).catch(function(){var C=(0,p.Z)(function*(K){throw"auth/password-does-not-meet-requirements"===K.code&&Cs(I),K});return function(K){return C.apply(this,arguments)}}())}),qo.apply(this,arguments)}function ua(I,h){return bs.apply(this,arguments)}function bs(){return bs=(0,p.Z)(function*(I,h){yield function ni(I,h){return To.apply(this,arguments)}((0,V.m9)(I),{oobCode:h})}),bs.apply(this,arguments)}function Js(I,h){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,p.Z)(function*(I,h){const m=(0,V.m9)(I),C=yield Ws(m,{oobCode:h}),K=C.requestType;switch(ye(K,m,"internal-error"),K){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ye(C.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ye(C.mfaInfo,m,"internal-error");default:ye(C.email,m,"internal-error")}let oe=null;return C.mfaInfo&&(oe=Os._fromServerResponse(Hn(m),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:oe},operation:K}})).apply(this,arguments)}function Da(I,h){return $a.apply(this,arguments)}function $a(){return($a=(0,p.Z)(function*(I,h){const{data:m}=yield Js((0,V.m9)(I),h);return m.email})).apply(this,arguments)}function Fl(I,h,m){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,p.Z)(function*(I,h,m){const C=Hn(I),Fe=yield ui(C,{returnSecureToken:!0,email:h,password:m,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",wo).catch(It=>{throw"auth/password-does-not-meet-requirements"===It.code&&Cs(I),It}),it=yield Zi._fromIdTokenResponse(C,"signIn",Fe);return yield C._updateCurrentUser(it.user),it})).apply(this,arguments)}function ul(I,h,m){return Si((0,V.m9)(I),ps.credential(h,m)).catch(function(){var C=(0,p.Z)(function*(K){throw"auth/password-does-not-meet-requirements"===K.code&&Cs(I),K});return function(K){return C.apply(this,arguments)}}())}function Vl(I,h,m){return Z.apply(this,arguments)}function Z(){return(Z=(0,p.Z)(function*(I,h,m){const C=Hn(I),K={requestType:"EMAIL_SIGNIN",email:h,clientType:"CLIENT_TYPE_WEB"};(function oe(Fe,it){ye(it.handleCodeInApp,C,"argument-error"),it&&Ls(C,Fe,it)})(K,m),yield ui(C,K,"getOobCode",mi)})).apply(this,arguments)}function y(I,h){const m=Zr.parseLink(h);return"EMAIL_SIGNIN"===m?.operation}function E(I,h,m){return x.apply(this,arguments)}function x(){return(x=(0,p.Z)(function*(I,h,m){const C=(0,V.m9)(I),K=ps.credentialWithLink(h,m||Ct());return ye(K._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),Si(C,K)})).apply(this,arguments)}function le(){return(le=(0,p.Z)(function*(I,h){return He(I,"POST","/v1/accounts:createAuthUri",ke(I,h))})).apply(this,arguments)}function Re(I,h){return _.apply(this,arguments)}function _(){return _=(0,p.Z)(function*(I,h){const C={identifier:h,continueUri:$e()?Ct():"http://localhost"},{signinMethods:K}=yield function Q(I,h){return le.apply(this,arguments)}((0,V.m9)(I),C);return K||[]}),_.apply(this,arguments)}function L(I,h){return A.apply(this,arguments)}function A(){return A=(0,p.Z)(function*(I,h){const m=(0,V.m9)(I),K={requestType:"VERIFY_EMAIL",idToken:yield I.getIdToken()};h&&Ls(m.auth,K,h);const{email:oe}=yield function Cr(I,h){return Ft.apply(this,arguments)}(m.auth,K);oe!==I.email&&(yield I.reload())}),A.apply(this,arguments)}function F(I,h,m){return ue.apply(this,arguments)}function ue(){return ue=(0,p.Z)(function*(I,h,m){const C=(0,V.m9)(I),oe={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield I.getIdToken(),newEmail:h};m&&Ls(C.auth,oe,m);const{email:Fe}=yield function Fr(I,h){return ci.apply(this,arguments)}(C.auth,oe);Fe!==I.email&&(yield I.reload())}),ue.apply(this,arguments)}function We(){return(We=(0,p.Z)(function*(I,h){return He(I,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function pt(I,h){return jt.apply(this,arguments)}function jt(){return jt=(0,p.Z)(function*(I,{displayName:h,photoURL:m}){if(void 0===h&&void 0===m)return;const C=(0,V.m9)(I),oe={idToken:yield C.getIdToken(),displayName:h,photoUrl:m,returnSecureToken:!0},Fe=yield Rt(C,function Be(I,h){return We.apply(this,arguments)}(C.auth,oe));C.displayName=Fe.displayName||null,C.photoURL=Fe.photoUrl||null;const it=C.providerData.find(({providerId:It})=>"password"===It);it&&(it.displayName=C.displayName,it.photoURL=C.photoURL),yield C._updateTokensIfNecessary(Fe)}),jt.apply(this,arguments)}function rn(I,h){return sn((0,V.m9)(I),h,null)}function _n(I,h){return sn((0,V.m9)(I),null,h)}function sn(I,h,m){return On.apply(this,arguments)}function On(){return On=(0,p.Z)(function*(I,h,m){const{auth:C}=I,oe={idToken:yield I.getIdToken(),returnSecureToken:!0};h&&(oe.email=h),m&&(oe.password=m);const Fe=yield Rt(I,function jn(I,h){return Pr.apply(this,arguments)}(C,oe));yield I._updateTokensIfNecessary(Fe,!0)}),On.apply(this,arguments)}class Dn{constructor(h,m,C={}){this.isNewUser=h,this.providerId=m,this.profile=C}}class $r extends Dn{constructor(h,m,C,K){super(h,m,C),this.username=K}}class Dr extends Dn{constructor(h,m){super(h,"facebook.com",m)}}class vi extends $r{constructor(h,m){super(h,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class Vr extends Dn{constructor(h,m){super(h,"google.com",m)}}class Vi extends $r{constructor(h,m,C){super(h,"twitter.com",m,C)}}function Yr(I){const{user:h,_tokenResponse:m}=I;return h.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function dn(I){var h,m;if(!I)return null;const{providerId:C}=I,K=I.rawUserInfo?JSON.parse(I.rawUserInfo):{},oe=I.isNewUser||"identitytoolkit#SignupNewUserResponse"===I.kind;if(!C&&I?.idToken){const Fe=null===(m=null===(h=Qe(I.idToken))||void 0===h?void 0:h.firebase)||void 0===m?void 0:m.sign_in_provider;if(Fe)return new Dn(oe,"anonymous"!==Fe&&"custom"!==Fe?Fe:null)}if(!C)return null;switch(C){case"facebook.com":return new Dr(oe,K);case"github.com":return new vi(oe,K);case"google.com":return new Vr(oe,K);case"twitter.com":return new Vi(oe,K,I.screenName||null);case"custom":case"anonymous":return new Dn(oe,null);default:return new Dn(oe,C,K)}}(m)}class Ii{constructor(h,m,C){this.type=h,this.credential=m,this.user=C}static _fromIdtoken(h,m){return new Ii("enroll",h,m)}static _fromMfaPendingCredential(h){return new Ii("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var m,C;if(h?.multiFactorSession){if(null!==(m=h.multiFactorSession)&&void 0!==m&&m.pendingCredential)return Ii._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null!==(C=h.multiFactorSession)&&void 0!==C&&C.idToken)return Ii._fromIdtoken(h.multiFactorSession.idToken)}return null}}class Xs{constructor(h,m,C){this.session=h,this.hints=m,this.signInResolver=C}static _fromError(h,m){const C=Hn(h),K=m.customData._serverResponse,oe=(K.mfaInfo||[]).map(it=>Os._fromServerResponse(C,it));ye(K.mfaPendingCredential,C,"internal-error");const Fe=Ii._fromMfaPendingCredential(K.mfaPendingCredential);return new Xs(Fe,oe,function(){var it=(0,p.Z)(function*(It){const Jt=yield It._process(C,Fe);delete K.mfaInfo,delete K.mfaPendingCredential;const pn=Object.assign(Object.assign({},K),{idToken:Jt.idToken,refreshToken:Jt.refreshToken});switch(m.operationType){case"signIn":const pr=yield Zi._fromIdTokenResponse(C,m.operationType,pn);return yield C._updateCurrentUser(pr.user),pr;case"reauthenticate":return ye(m.user,C,"internal-error"),Zi._forOperation(m.user,m.operationType,pn);default:ae(C,"internal-error")}});return function(It){return it.apply(this,arguments)}}())}resolveSignIn(h){var m=this;return(0,p.Z)(function*(){return m.signInResolver(h)})()}}function ai(I,h){var m;const C=(0,V.m9)(I),K=h;return ye(h.customData.operationType,C,"argument-error"),ye(null===(m=K.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,C,"argument-error"),Xs._fromError(C,K)}class Wt{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(C=>Os._fromServerResponse(h.auth,C)))})}static _fromUser(h){return new Wt(h)}getSession(){var h=this;return(0,p.Z)(function*(){return Ii._fromIdtoken(yield h.user.getIdToken(),h.user)})()}enroll(h,m){var C=this;return(0,p.Z)(function*(){const K=h,oe=yield C.getSession(),Fe=yield Rt(C.user,K._process(C.user.auth,oe,m));return yield C.user._updateTokensIfNecessary(Fe),C.user.reload()})()}unenroll(h){var m=this;return(0,p.Z)(function*(){const C="string"==typeof h?h:h.uid,K=yield m.user.getIdToken();try{const oe=yield Rt(m.user,function An(I,h){return He(I,"POST","/v2/accounts/mfaEnrollment:withdraw",ke(I,h))}(m.user.auth,{idToken:K,mfaEnrollmentId:C}));m.enrolledFactors=m.enrolledFactors.filter(({uid:Fe})=>Fe!==C),yield m.user._updateTokensIfNecessary(oe),yield m.user.reload()}catch(oe){throw oe}})()}}const on=new WeakMap;function Qo(I){const h=(0,V.m9)(I);return on.has(h)||on.set(h,Wt._fromUser(h)),on.get(h)}const Ht="__sak";class ot{constructor(h,m){this.storageRetriever=h,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Ht,"1"),this.storage.removeItem(Ht),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,m){return this.storage.setItem(h,JSON.stringify(m)),Promise.resolve()}_get(h){const m=this.storage.getItem(h);return Promise.resolve(m?JSON.parse(m):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ul=(()=>{class I extends ot{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,C)=>this.onStorageEvent(m,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function _t(){const I=(0,V.z$)();return De(I)||et(I)}()&&function xn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Zn(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const C of Object.keys(this.listeners)){const K=this.storage.getItem(C),oe=this.localCache[C];K!==oe&&m(C,oe,K)}}onStorageEvent(m,C=!1){if(!m.key)return void this.forAllChangedKeys((it,It,Jt)=>{this.notifyListeners(it,Jt)});const K=m.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const it=this.storage.getItem(K);if(m.newValue!==it)null!==m.newValue?this.storage.setItem(K,m.newValue):this.storage.removeItem(K);else if(this.localCache[K]===m.newValue&&!C)return}const oe=()=>{const it=this.storage.getItem(K);!C&&this.localCache[K]===it||this.notifyListeners(K,it)},Fe=this.storage.getItem(K);!function nn(){return(0,V.w1)()&&10===document.documentMode}()||Fe===m.newValue||m.newValue===m.oldValue?oe():setTimeout(oe,10)}notifyListeners(m,C){this.localCache[m]=C;const K=this.listeners[m];if(K)for(const oe of Array.from(K))oe(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,C,K)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:C,newValue:K}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(C)}_removeListener(m,C){this.listeners[m]&&(this.listeners[m].delete(C),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,C){var K=()=>super._set,oe=this;return(0,p.Z)(function*(){yield K().call(oe,m,C),oe.localCache[m]=JSON.stringify(C)})()}_get(m){var C=()=>super._get,K=this;return(0,p.Z)(function*(){const oe=yield C().call(K,m);return K.localCache[m]=JSON.stringify(oe),oe})()}_remove(m){var C=()=>super._remove,K=this;return(0,p.Z)(function*(){yield C().call(K,m),delete K.localCache[m]})()}}return I.type="LOCAL",I})(),Pu=(()=>{class I extends ot{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,C){}_removeListener(m,C){}}return I.type="SESSION",I})();let ur=(()=>{class I{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const C=this.receivers.find(oe=>oe.isListeningto(m));if(C)return C;const K=new I(m);return this.receivers.push(K),K}isListeningto(m){return this.eventTarget===m}handleEvent(m){var C=this;return(0,p.Z)(function*(){const K=m,{eventId:oe,eventType:Fe,data:it}=K.data,It=C.handlersMap[Fe];if(!It?.size)return;K.ports[0].postMessage({status:"ack",eventId:oe,eventType:Fe});const Jt=Array.from(It).map(function(){var pr=(0,p.Z)(function*(ro){return ro(K.origin,it)});return function(ro){return pr.apply(this,arguments)}}()),pn=yield function vt(I){return Promise.all(I.map(function(){var h=(0,p.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(C){return{fulfilled:!1,reason:C}}});return function(m){return h.apply(this,arguments)}}()))}(Jt);K.ports[0].postMessage({status:"done",eventId:oe,eventType:Fe,response:pn})})()}_subscribe(m,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(C)}_unsubscribe(m,C){this.handlersMap[m]&&C&&this.handlersMap[m].delete(C),(!C||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();function za(I="",h=10){let m="";for(let C=0;C<h;C++)m+=Math.floor(10*Math.random());return I+m}class Eh{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,m,C=50){var K=this;return(0,p.Z)(function*(){const oe=typeof MessageChannel<"u"?new MessageChannel:null;if(!oe)throw new Error("connection_unavailable");let Fe,it;return new Promise((It,Jt)=>{const pn=za("",20);oe.port1.start();const pr=setTimeout(()=>{Jt(new Error("unsupported_event"))},C);it={messageChannel:oe,onMessage(ro){const io=ro;if(io.data.eventId===pn)switch(io.data.status){case"ack":clearTimeout(pr),Fe=setTimeout(()=>{Jt(new Error("timeout"))},3e3);break;case"done":clearTimeout(Fe),It(io.data.response);break;default:clearTimeout(pr),clearTimeout(Fe),Jt(new Error("invalid_response"))}}},K.handlers.add(it),oe.port1.addEventListener("message",it.onMessage),K.target.postMessage({eventType:h,eventId:pn,data:m},[oe.port2])}).finally(()=>{it&&K.removeMessageHandler(it)})})()}}function fr(){return window}function Cn(){return typeof fr().WorkerGlobalScope<"u"&&"function"==typeof fr().importScripts}function Aa(){return(Aa=(0,p.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const cl="firebaseLocalStorageDb",Ji="firebaseLocalStorage",_r="fbase_key";class Ut{constructor(h){this.request=h}toPromise(){return new Promise((h,m)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Fs(I,h){return I.transaction([Ji],h?"readwrite":"readonly").objectStore(Ji)}function Yo(){const I=indexedDB.open(cl,1);return new Promise((h,m)=>{I.addEventListener("error",()=>{m(I.error)}),I.addEventListener("upgradeneeded",()=>{const C=I.result;try{C.createObjectStore(Ji,{keyPath:_r})}catch(K){m(K)}}),I.addEventListener("success",(0,p.Z)(function*(){const C=I.result;C.objectStoreNames.contains(Ji)?h(C):(C.close(),yield function po(){const I=indexedDB.deleteDatabase(cl);return new Ut(I).toPromise()}(),h(yield Yo()))}))})}function yc(I,h,m){return ca.apply(this,arguments)}function ca(){return(ca=(0,p.Z)(function*(I,h,m){const C=Fs(I,!0).put({[_r]:h,value:m});return new Ut(C).toPromise()})).apply(this,arguments)}function Jo(){return(Jo=(0,p.Z)(function*(I,h){const m=Fs(I,!1).get(h),C=yield new Ut(m).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function Bl(I,h){const m=Fs(I,!0).delete(h);return new Ut(m).toPromise()}const v=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,p.Z)(function*(){return m.db||(m.db=yield Yo()),m.db})()}_withRetries(m){var C=this;return(0,p.Z)(function*(){let K=0;for(;;)try{const oe=yield C._openDb();return yield m(oe)}catch(oe){if(K++>3)throw oe;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,p.Z)(function*(){return Cn()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,p.Z)(function*(){m.receiver=ur._getInstance(function cn(){return Cn()?self:null}()),m.receiver._subscribe("keyChanged",function(){var C=(0,p.Z)(function*(K,oe){return{keyProcessed:(yield m._poll()).includes(oe.key)}});return function(K,oe){return C.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var C=(0,p.Z)(function*(K,oe){return["keyChanged"]});return function(K,oe){return C.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,p.Z)(function*(){var C,K;if(m.activeServiceWorker=yield function ks(){return Aa.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Eh(m.activeServiceWorker);const oe=yield m.sender._send("ping",{},800);oe&&null!==(C=oe[0])&&void 0!==C&&C.fulfilled&&null!==(K=oe[0])&&void 0!==K&&K.value.includes("keyChanged")&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var C=this;return(0,p.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function Xr(){var I;return(null===(I=navigator?.serviceWorker)||void 0===I?void 0:I.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:m},C.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,p.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Yo();return yield yc(m,Ht,"1"),yield Bl(m,Ht),!0}catch{}return!1})()}_withPendingWrite(m){var C=this;return(0,p.Z)(function*(){C.pendingWrites++;try{yield m()}finally{C.pendingWrites--}})()}_set(m,C){var K=this;return(0,p.Z)(function*(){return K._withPendingWrite((0,p.Z)(function*(){return yield K._withRetries(oe=>yc(oe,m,C)),K.localCache[m]=C,K.notifyServiceWorker(m)}))})()}_get(m){var C=this;return(0,p.Z)(function*(){const K=yield C._withRetries(oe=>function Th(I,h){return Jo.apply(this,arguments)}(oe,m));return C.localCache[m]=K,K})()}_remove(m){var C=this;return(0,p.Z)(function*(){return C._withPendingWrite((0,p.Z)(function*(){return yield C._withRetries(K=>Bl(K,m)),delete C.localCache[m],C.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,p.Z)(function*(){const C=yield m._withRetries(Fe=>{const it=Fs(Fe,!1).getAll();return new Ut(it).toPromise()});if(!C)return[];if(0!==m.pendingWrites)return[];const K=[],oe=new Set;if(0!==C.length)for(const{fbase_key:Fe,value:it}of C)oe.add(Fe),JSON.stringify(m.localCache[Fe])!==JSON.stringify(it)&&(m.notifyListeners(Fe,it),K.push(Fe));for(const Fe of Object.keys(m.localCache))m.localCache[Fe]&&!oe.has(Fe)&&(m.notifyListeners(Fe,null),K.push(Fe));return K})()}notifyListeners(m,C){this.localCache[m]=C;const K=this.listeners[m];if(K)for(const oe of Array.from(K))oe(C)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,p.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(C)}_removeListener(m,C){this.listeners[m]&&(this.listeners[m].delete(C),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})(),qe=1e12;class zt{constructor(h){this.auth=h,this.counter=qe,this._widgets=new Map}render(h,m){const C=this.counter;return this._widgets.set(C,new Fn(h,this.auth.name,m||{})),this.counter++,C}reset(h){var m;const C=h||qe;null===(m=this._widgets.get(C))||void 0===m||m.delete(),this._widgets.delete(C)}getResponse(h){var m;return(null===(m=this._widgets.get(h||qe))||void 0===m?void 0:m.getResponse())||""}execute(h){var m=this;return(0,p.Z)(function*(){var C;return null===(C=m._widgets.get(h||qe))||void 0===C||C.execute(),""})()}}class Fn{constructor(h,m,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const K="string"==typeof h?document.getElementById(h):h;ye(K,"argument-error",{appName:m}),this.container=K,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Vn(I){const h=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<I;C++)h.push(m.charAt(Math.floor(62*Math.random())));return h.join("")}(50);const{callback:h,"expired-callback":m}=this.params;if(h)try{h(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Qn=ii("rcb"),ar=new bt(3e4,6e4);class Sa{constructor(){var h;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(h=fr().grecaptcha)||void 0===h||!h.render)}load(h,m=""){return ye(function Pa(I){return I.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(I)}(m),h,"argument-error"),this.shouldResolveImmediately(m)&&Pn(fr().grecaptcha)?Promise.resolve(fr().grecaptcha):new Promise((C,K)=>{const oe=fr().setTimeout(()=>{K(Me(h,"network-request-failed"))},ar.get());fr()[Qn]=()=>{fr().clearTimeout(oe),delete fr()[Qn];const it=fr().grecaptcha;if(!it||!Pn(it))return void K(Me(h,"internal-error"));const It=it.render;it.render=(Jt,pn)=>{const pr=It(Jt,pn);return this.counter++,pr},this.hostLanguage=m,C(it)},js(`${function vo(){return wr.recaptchaV2Script}()}?${(0,V.xO)({onload:Qn,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(oe),K(Me(h,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){var m;return!(null===(m=fr().grecaptcha)||void 0===m||!m.render)&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ru{load(h){return(0,p.Z)(function*(){return new zt(h)})()}clearedOneInstance(){}}const Ra="recaptcha",Vs={theme:"light",type:"image"};class Hl{constructor(h,m,C=Object.assign({},Vs)){this.parameters=C,this.type=Ra,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Hn(h),this.isInvisible="invisible"===this.parameters.size,ye(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const K="string"==typeof m?document.getElementById(m):m;ye(K,this.auth,"argument-error"),this.container=K,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ru:new Sa,this.validateStartingState()}verify(){var h=this;return(0,p.Z)(function*(){h.assertNotDestroyed();const m=yield h.render(),C=h.getAssertedRecaptcha();return C.getResponse(m)||new Promise(oe=>{const Fe=it=>{it&&(h.tokenChangeListeners.delete(Fe),oe(it))};h.tokenChangeListeners.add(Fe),h.isInvisible&&C.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){ye(!this.parameters.sitekey,this.auth,"argument-error"),ye(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ye(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return m=>{if(this.tokenChangeListeners.forEach(C=>C(m)),"function"==typeof h)h(m);else if("string"==typeof h){const C=fr()[h];"function"==typeof C&&C(m)}}}assertNotDestroyed(){ye(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,p.Z)(function*(){if(yield h.init(),!h.widgetId){let m=h.container;if(!h.isInvisible){const C=document.createElement("div");m.appendChild(C),m=C}h.widgetId=h.getAssertedRecaptcha().render(m,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,p.Z)(function*(){ye($e()&&!Cn(),h.auth,"internal-error"),yield function Ga(){let I=null;return new Promise(h=>{"complete"!==document.readyState?(I=()=>h(),window.addEventListener("load",I)):h()}).catch(h=>{throw I&&window.removeEventListener("load",I),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const m=yield function Rn(I){return Er.apply(this,arguments)}(h.auth);ye(m,h.auth,"internal-error"),h.parameters.sitekey=m})()}getAssertedRecaptcha(){return ye(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Xo{constructor(h,m){this.verificationId=h,this.onConfirmation=m}confirm(h){const m=Es._fromVerification(this.verificationId,h);return this.onConfirmation(m)}}function Us(I,h,m){return jl.apply(this,arguments)}function jl(){return(jl=(0,p.Z)(function*(I,h,m){const C=Hn(I),K=yield $l(C,h,(0,V.m9)(m));return new Xo(K,oe=>Si(C,oe))})).apply(this,arguments)}function Mu(I,h,m){return eo.apply(this,arguments)}function eo(){return(eo=(0,p.Z)(function*(I,h,m){const C=(0,V.m9)(I);yield ie(!1,C,"phone");const K=yield $l(C.auth,h,(0,V.m9)(m));return new Xo(K,oe=>Qi(C,oe))})).apply(this,arguments)}function Ic(I,h,m){return dl.apply(this,arguments)}function dl(){return(dl=(0,p.Z)(function*(I,h,m){const C=(0,V.m9)(I),K=yield $l(C.auth,h,(0,V.m9)(m));return new Xo(K,oe=>bo(C,oe))})).apply(this,arguments)}function $l(I,h,m){return Cd.apply(this,arguments)}function Cd(){return Cd=(0,p.Z)(function*(I,h,m){var C;const K=yield m.verify();try{let oe;if(ye("string"==typeof K,I,"argument-error"),ye(m.type===Ra,I,"argument-error"),oe="string"==typeof h?{phoneNumber:h}:h,"session"in oe){const Fe=oe.session;if("phoneNumber"in oe)return ye("enroll"===Fe.type,I,"internal-error"),(yield function Uo(I,h){return He(I,"POST","/v2/accounts/mfaEnrollment:start",ke(I,h))}(I,{idToken:Fe.credential,phoneEnrollmentInfo:{phoneNumber:oe.phoneNumber,recaptchaToken:K}})).phoneSessionInfo.sessionInfo;{ye("signin"===Fe.type,I,"internal-error");const it=(null===(C=oe.multiFactorHint)||void 0===C?void 0:C.uid)||oe.multiFactorUid;return ye(it,I,"missing-multi-factor-info"),(yield function R(I,h){return He(I,"POST","/v2/accounts/mfaSignIn:start",ke(I,h))}(I,{mfaPendingCredential:Fe.credential,mfaEnrollmentId:it,phoneSignInInfo:{recaptchaToken:K}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Fe}=yield function Ki(I,h){return bi.apply(this,arguments)}(I,{phoneNumber:oe.phoneNumber,recaptchaToken:K});return Fe}}finally{m._reset()}}),Cd.apply(this,arguments)}function zl(I,h){return hl.apply(this,arguments)}function hl(){return(hl=(0,p.Z)(function*(I,h){yield q((0,V.m9)(I),h)})).apply(this,arguments)}let Ap=(()=>{class I{constructor(m){this.providerId=I.PROVIDER_ID,this.auth=Hn(m)}verifyPhoneNumber(m,C){return $l(this.auth,m,(0,V.m9)(C))}static credential(m,C){return Es._fromVerification(m,C)}static credentialFromResult(m){return I.credentialFromTaggedObject(m)}static credentialFromError(m){return I.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:C,temporaryProof:K}=m;return C&&K?Es._fromTokenResponse(C,K):null}}return I.PROVIDER_ID="phone",I.PHONE_SIGN_IN_METHOD="phone",I})();function Gl(I,h){return h?Le(h):(ye(I._popupRedirectResolver,I,"argument-error"),I._popupRedirectResolver)}class xu extends ys{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return us(h,this._buildIdpRequest())}_linkToIdToken(h,m){return us(h,this._buildIdpRequest(m))}_getReauthenticationResolver(h){return us(h,this._buildIdpRequest())}_buildIdpRequest(h){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(m.idToken=h),m}}function a_(I){return Ai(I.auth,new xu(I),I.bypassAuthState)}function Sp(I){const{auth:h,user:m}=I;return ye(m,h,"internal-error"),tn(m,new xu(I),I.bypassAuthState)}function Pp(I){return wh.apply(this,arguments)}function wh(){return(wh=(0,p.Z)(function*(I){const{auth:h,user:m}=I;return ye(m,h,"internal-error"),q(m,new xu(I),I.bypassAuthState)})).apply(this,arguments)}class Rp{constructor(h,m,C,K,oe=!1){this.auth=h,this.resolver=C,this.user=K,this.bypassAuthState=oe,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var h=this;return new Promise(function(){var m=(0,p.Z)(function*(C,K){h.pendingPromise={resolve:C,reject:K};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(oe){h.reject(oe)}});return function(C,K){return m.apply(this,arguments)}}())}onAuthEvent(h){var m=this;return(0,p.Z)(function*(){const{urlResponse:C,sessionId:K,postBody:oe,tenantId:Fe,error:it,type:It}=h;if(it)return void m.reject(it);const Jt={auth:m.auth,requestUri:C,sessionId:K,tenantId:Fe||void 0,postBody:oe||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(It)(Jt))}catch(pn){m.reject(pn)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return a_;case"linkViaPopup":case"linkViaRedirect":return Pp;case"reauthViaPopup":case"reauthViaRedirect":return Sp;default:ae(this.auth,"internal-error")}}resolve(h){at(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){at(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const bd=new bt(2e3,1e4);function Ou(I,h,m){return Dd.apply(this,arguments)}function Dd(){return(Dd=(0,p.Z)(function*(I,h,m){const C=Hn(I);ge(I,h,ki);const K=Gl(C,m);return new Lu(C,"signInViaPopup",h,K).executeNotNull()})).apply(this,arguments)}function Nu(I,h,m){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,p.Z)(function*(I,h,m){const C=(0,V.m9)(I);ge(C.auth,h,ki);const K=Gl(C.auth,m);return new Lu(C.auth,"reauthViaPopup",h,K,C).executeNotNull()})).apply(this,arguments)}function Ec(I,h,m){return Ad.apply(this,arguments)}function Ad(){return(Ad=(0,p.Z)(function*(I,h,m){const C=(0,V.m9)(I);ge(C.auth,h,ki);const K=Gl(C.auth,m);return new Lu(C.auth,"linkViaPopup",h,K,C).executeNotNull()})).apply(this,arguments)}let Lu=(()=>{class I extends Rp{constructor(m,C,K,oe,Fe){super(m,C,oe,Fe),this.provider=K,this.authWindow=null,this.pollId=null,I.currentPopupAction&&I.currentPopupAction.cancel(),I.currentPopupAction=this}executeNotNull(){var m=this;return(0,p.Z)(function*(){const C=yield m.execute();return ye(C,m.auth,"internal-error"),C})()}onExecution(){var m=this;return(0,p.Z)(function*(){at(1===m.filter.length,"Popup operations only handle one event");const C=za();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],C),m.authWindow.associatedEvent=C,m.resolver._originValidation(m.auth).catch(K=>{m.reject(K)}),m.resolver._isIframeWebStorageSupported(m.auth,K=>{K||m.reject(Me(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Me(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,I.currentPopupAction=null}pollUserCancellation(){const m=()=>{var C,K;this.pollId=null!==(K=null===(C=this.authWindow)||void 0===C?void 0:C.window)&&void 0!==K&&K.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Me(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(m,bd.get())};m()}}return I.currentPopupAction=null,I})();const Ch="pendingRedirect",fl=new Map;class ri extends Rp{constructor(h,m,C=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,C),this.eventId=null}execute(){var h=()=>super.execute,m=this;return(0,p.Z)(function*(){let C=fl.get(m.auth._key());if(!C){try{const oe=(yield function bh(I,h){return So.apply(this,arguments)}(m.resolver,m.auth))?yield h().call(m):null;C=()=>Promise.resolve(oe)}catch(K){C=()=>Promise.reject(K)}fl.set(m.auth._key(),C)}return m.bypassAuthState||fl.set(m.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(h){var m=()=>super.onAuthEvent,C=this;return(0,p.Z)(function*(){if("signInViaRedirect"===h.type)return m().call(C,h);if("unknown"!==h.type){if(h.eventId){const K=yield C.auth._redirectUserForId(h.eventId);if(K)return C.user=K,m().call(C,h);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,p.Z)(function*(){})()}cleanUp(){}}function So(){return(So=(0,p.Z)(function*(I,h){const m=Tc(h),C=Gr(I);if(!(yield C._isAvailable()))return!1;const K="true"===(yield C._get(m));return yield C._remove(m),K})).apply(this,arguments)}function ql(I,h){return zr.apply(this,arguments)}function zr(){return(zr=(0,p.Z)(function*(I,h){return Gr(I)._set(Tc(h),"true")})).apply(this,arguments)}function pl(){fl.clear()}function Xi(I,h){fl.set(I._key(),h)}function Gr(I){return Le(I._redirectPersistence)}function Tc(I){return Lt(Ch,I.config.apiKey,I.name)}function ml(I,h,m){return function to(I,h,m){return ku.apply(this,arguments)}(I,h,m)}function ku(){return(ku=(0,p.Z)(function*(I,h,m){const C=Hn(I);ge(I,h,ki),yield C._initializationPromise;const K=Gl(C,m);return yield ql(K,C),K._openRedirect(C,h,"signInViaRedirect")})).apply(this,arguments)}function Mp(I,h,m){return function Bi(I,h,m){return Ma.apply(this,arguments)}(I,h,m)}function Ma(){return(Ma=(0,p.Z)(function*(I,h,m){const C=(0,V.m9)(I);ge(C.auth,h,ki),yield C.auth._initializationPromise;const K=Gl(C.auth,m);yield ql(K,C.auth);const oe=yield da(C);return K._openRedirect(C.auth,h,"reauthViaRedirect",oe)})).apply(this,arguments)}function Wa(I,h,m){return function Pi(I,h,m){return Bo.apply(this,arguments)}(I,h,m)}function Bo(){return(Bo=(0,p.Z)(function*(I,h,m){const C=(0,V.m9)(I);ge(C.auth,h,ki),yield C.auth._initializationPromise;const K=Gl(C.auth,m);yield ie(!1,C,h.providerId),yield ql(K,C.auth);const oe=yield da(C);return K._openRedirect(C.auth,h,"linkViaRedirect",oe)})).apply(this,arguments)}function qa(I,h){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,p.Z)(function*(I,h){return yield Hn(I)._initializationPromise,$i(I,h,!1)})).apply(this,arguments)}function $i(I,h){return Sd.apply(this,arguments)}function Sd(){return(Sd=(0,p.Z)(function*(I,h,m=!1){const C=Hn(I),K=Gl(C,h),Fe=yield new ri(C,K,m).execute();return Fe&&!m&&(delete Fe.user._redirectEventId,yield C._persistUserIfCurrent(Fe.user),yield C._setRedirectUser(null,h)),Fe})).apply(this,arguments)}function da(I){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,p.Z)(function*(I){const h=za(`${I.uid}:::`);return I._redirectEventId=h,yield I.auth._setRedirectUser(I),yield I.auth._persistUserIfCurrent(I),h})).apply(this,arguments)}class ha{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let m=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(h,C)&&(m=!0,this.sendToConsumer(h,C),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function Ro(I){switch(I.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ea(I);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=h,m=!0)),m}sendToConsumer(h,m){var C;if(h.error&&!ea(h)){const K=(null===(C=h.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";m.onError(Me(this.auth,K))}else m.onAuthEvent(h)}isEventForConsumer(h,m){const C=null===m.eventId||!!h.eventId&&h.eventId===m.eventId;return m.filter.includes(h.type)&&C}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Po(h))}saveEventToCache(h){this.cachedEventUids.add(Po(h)),this.lastProcessedEventTime=Date.now()}}function Po(I){return[I.type,I.eventId,I.sessionId,I.tenantId].filter(h=>h).join("-")}function ea({type:I,error:h}){return"unknown"===I&&"auth/no-auth-event"===h?.code}function Ka(I){return xa.apply(this,arguments)}function xa(){return(xa=(0,p.Z)(function*(I,h={}){return He(I,"GET","/v1/projects",h)})).apply(this,arguments)}const Fu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Oa=/^https?/;function Vu(){return(Vu=(0,p.Z)(function*(I){if(I.config.emulator)return;const{authorizedDomains:h}=yield Ka(I);for(const m of h)try{if(Cc(m))return}catch{}ae(I,"unauthorized-domain")})).apply(this,arguments)}function Cc(I){const h=Ct(),{protocol:m,hostname:C}=new URL(h);if(I.startsWith("chrome-extension://")){const Fe=new URL(I);return""===Fe.hostname&&""===C?"chrome-extension:"===m&&I.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===m&&Fe.hostname===C}if(!Oa.test(m))return!1;if(Fu.test(I))return C===I;const K=I.replace(/\./g,"\\.");return new RegExp("^(.+\\."+K+"|"+K+")$","i").test(C)}const xp=new bt(3e4,6e4);function Dh(){const I=fr().___jsl;if(I?.H)for(const h of Object.keys(I.H))if(I.H[h].r=I.H[h].r||[],I.H[h].L=I.H[h].L||[],I.H[h].r=[...I.H[h].L],I.CP)for(let m=0;m<I.CP.length;m++)I.CP[m]=null}let gl=null;const Ql=new bt(5e3,15e3),Np="__/auth/iframe",Ah="emulator/auth/iframe",es={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},As=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Yl(I){const h=I.config;ye(h.authDomain,I,"auth-domain-config-required");const m=h.emulator?Nt(h,Ah):`https://${I.config.authDomain}/${Np}`,C={apiKey:h.apiKey,appName:I.name,v:b.SDK_VERSION},K=As.get(I.config.apiHost);K&&(C.eid=K);const oe=I._getFrameworks();return oe.length&&(C.fw=oe.join(",")),`${m}?${(0,V.xO)(C).slice(1)}`}function zi(){return zi=(0,p.Z)(function*(I){const h=yield function Op(I){return gl=gl||function Pd(I){return new Promise((h,m)=>{var C,K,oe;function Fe(){Dh(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{Dh(),m(Me(I,"network-request-failed"))},timeout:xp.get()})}if(null!==(K=null===(C=fr().gapi)||void 0===C?void 0:C.iframes)&&void 0!==K&&K.Iframe)h(gapi.iframes.getContext());else{if(null===(oe=fr().gapi)||void 0===oe||!oe.load){const it=ii("iframefcb");return fr()[it]=()=>{gapi.load?Fe():m(Me(I,"network-request-failed"))},js(`${function zo(){return wr.gapiScript}()}?onload=${it}`).catch(It=>m(It))}Fe()}}).catch(h=>{throw gl=null,h})}(I),gl}(I),m=fr().gapi;return ye(m,I,"internal-error"),h.open({where:document.body,url:Yl(I),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:es,dontclear:!0},C=>new Promise(function(){var K=(0,p.Z)(function*(oe,Fe){yield C.restyle({setHideOnLeave:!1});const it=Me(I,"network-request-failed"),It=fr().setTimeout(()=>{Fe(it)},Ql.get());function Jt(){fr().clearTimeout(It),oe(C)}C.ping(Jt).then(Jt,()=>{Fe(it)})});return function(oe,Fe){return K.apply(this,arguments)}}()))}),zi.apply(this,arguments)}const _l={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class yr{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const no="__/auth/handler",Hu="emulator/auth/handler",yl=encodeURIComponent("fac");function bc(I,h,m,C,K,oe){return ju.apply(this,arguments)}function ju(){return(ju=(0,p.Z)(function*(I,h,m,C,K,oe){ye(I.config.authDomain,I,"auth-domain-config-required"),ye(I.config.apiKey,I,"invalid-api-key");const Fe={apiKey:I.config.apiKey,appName:I.name,authType:m,redirectUrl:C,v:b.SDK_VERSION,eventId:K};if(h instanceof ki){h.setDefaultLanguage(I.languageCode),Fe.providerId=h.providerId||"",(0,V.xb)(h.getCustomParameters())||(Fe.customParameters=JSON.stringify(h.getCustomParameters()));for(const[pn,pr]of Object.entries(oe||{}))Fe[pn]=pr}if(h instanceof rr){const pn=h.getScopes().filter(pr=>""!==pr);pn.length>0&&(Fe.scopes=pn.join(","))}I.tenantId&&(Fe.tid=I.tenantId);const it=Fe;for(const pn of Object.keys(it))void 0===it[pn]&&delete it[pn];const It=yield I._getAppCheckToken(),Jt=It?`#${yl}=${encodeURIComponent(It)}`:"";return`${function Ph({config:I}){return I.emulator?Nt(I,Hu):`https://${I.authDomain}/${no}`}(I)}?${(0,V.xO)(it).slice(1)}${Jt}`})).apply(this,arguments)}const Dc="webStorageSupport",Rh=class Lp{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Pu,this._completeRedirectFn=$i,this._overrideRedirectResult=Xi}_openPopup(h,m,C,K){var oe=this;return(0,p.Z)(function*(){var Fe;at(null===(Fe=oe.eventManagers[h._key()])||void 0===Fe?void 0:Fe.manager,"_initialize() not called before _openPopup()");const it=yield bc(h,m,C,Ct(),K);return function Wr(I,h,m,C=500,K=600){const oe=Math.max((window.screen.availHeight-K)/2,0).toString(),Fe=Math.max((window.screen.availWidth-C)/2,0).toString();let it="";const It=Object.assign(Object.assign({},_l),{width:C.toString(),height:K.toString(),top:oe,left:Fe}),Jt=(0,V.z$)().toLowerCase();m&&(it=ve(Jt)?"_blank":m),bn(Jt)&&(h=h||"http://localhost",It.scrollbars="yes");const pn=Object.entries(It).reduce((ro,[io,Rc])=>`${ro}${io}=${Rc},`,"");if(function dt(I=(0,V.z$)()){var h;return et(I)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(Jt)&&"_self"!==it)return function Bu(I,h){const m=document.createElement("a");m.href=I,m.target=h;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(C)}(h||"",it),new yr(null);const pr=window.open(h||"",it,pn);ye(pr,I,"popup-blocked");try{pr.focus()}catch{}return new yr(pr)}(h,it,za())})()}_openRedirect(h,m,C,K){var oe=this;return(0,p.Z)(function*(){return yield oe._originValidation(h),function _c(I){fr().location.href=I}(yield bc(h,m,C,Ct(),K)),new Promise(()=>{})})()}_initialize(h){const m=h._key();if(this.eventManagers[m]){const{manager:K,promise:oe}=this.eventManagers[m];return K?Promise.resolve(K):(at(oe,"If manager is not set, promise should be"),oe)}const C=this.initAndGetManager(h);return this.eventManagers[m]={promise:C},C.catch(()=>{delete this.eventManagers[m]}),C}initAndGetManager(h){var m=this;return(0,p.Z)(function*(){const C=yield function hi(I){return zi.apply(this,arguments)}(h),K=new ha(h);return C.register("authEvent",oe=>(ye(oe?.authEvent,h,"invalid-auth-event"),{status:K.onEvent(oe.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[h._key()]={manager:K},m.iframes[h._key()]=C,K})()}_isIframeWebStorageSupported(h,m){this.iframes[h._key()].send(Dc,{type:Dc},K=>{var oe;const Fe=null===(oe=K?.[0])||void 0===oe?void 0:oe[Dc];void 0!==Fe&&m(!!Fe),ae(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const m=h._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Zl(I){return Vu.apply(this,arguments)}(h)),this.originValidationPromises[m]}get _shouldInitProactively(){return Zn()||De()||et()}};class kp{constructor(h){this.factorId=h}_process(h,m,C){switch(m.type){case"enroll":return this._finalizeEnroll(h,m.credential,C);case"signin":return this._finalizeSignIn(h,m.credential);default:return he("unexpected MultiFactorSessionType")}}}class Ac extends kp{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new Ac(h)}_finalizeEnroll(h,m,C){return function mt(I,h){return He(I,"POST","/v2/accounts/mfaEnrollment:finalize",ke(I,h))}(h,{idToken:m,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,m){return function B(I,h){return He(I,"POST","/v2/accounts/mfaSignIn:finalize",ke(I,h))}(h,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Md=(()=>{class I{constructor(){}static assertion(m){return Ac._fromCredential(m)}}return I.FACTOR_ID="phone",I})();var vl="@firebase/auth";class Jl{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var m=this;return(0,p.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const m=this.auth.onIdTokenChanged(C=>{h(C?.stsTokenManager.accessToken||null)});this.internalListeners.set(h,m),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const m=this.internalListeners.get(h);m&&(this.internalListeners.delete(h),m(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,V.Pz)("authIdTokenMaxAge"),function Gi(I){wr=I}({loadJS:I=>new Promise((h,m)=>{const C=document.createElement("script");C.setAttribute("src",I),C.onload=h,C.onerror=K=>{const oe=Me("internal-error");oe.customData=K,m(oe)},C.type="text/javascript",C.charset="UTF-8",function xh(){var I,h;return null!==(h=null===(I=document.getElementsByTagName("head"))||void 0===I?void 0:I[0])&&void 0!==h?h:document}().appendChild(C)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Il(I){(0,b._registerComponent)(new J.wA("auth",(h,{options:m})=>{const C=h.getProvider("app").getImmediate(),K=h.getProvider("heartbeat"),oe=h.getProvider("app-check-internal"),{apiKey:Fe,authDomain:it}=C.options;ye(Fe&&!Fe.includes(":"),"invalid-api-key",{appName:C.name});const It={apiKey:Fe,authDomain:it,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Xn(I)},Jt=new Hs(C,K,oe,It);return function No(I,h){const m=h?.persistence||[],C=(Array.isArray(m)?m:[m]).map(Le);h?.errorMap&&I._updateErrorMap(h.errorMap),I._initializeWithPersistence(C,h?.popupRedirectResolver)}(Jt,m),Jt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,m,C)=>{h.getProvider("auth-internal").initialize()})),(0,b._registerComponent)(new J.wA("auth-internal",h=>{const m=Hn(h.getProvider("auth").getImmediate());return new Jl(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,b.registerVersion)(vl,"1.6.0",function Xl(I){switch(I){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(I)),(0,b.registerVersion)(vl,"1.6.0","esm2017")}("Browser")},9058:(xt,je,U)=>{U.d(je,{BH:()=>me,G6:()=>Nt,L:()=>de,LL:()=>ht,Pz:()=>Me,Sg:()=>ge,UG:()=>he,ZB:()=>Ee,ZR:()=>He,aH:()=>ae,b$:()=>$e,eu:()=>Oe,hl:()=>Se,jU:()=>at,m9:()=>kr,ne:()=>Kn,pd:()=>hn,r3:()=>Tn,ru:()=>Ct,tV:()=>X,uI:()=>ye,vZ:()=>Mn,w1:()=>At,xO:()=>tr,xb:()=>Rn,z$:()=>Ce,zd:()=>Xt});const Te=function(Pe){const re=[];let $=0;for(let N=0;N<Pe.length;N++){let k=Pe.charCodeAt(N);k<128?re[$++]=k:k<2048?(re[$++]=k>>6|192,re[$++]=63&k|128):55296==(64512&k)&&N+1<Pe.length&&56320==(64512&Pe.charCodeAt(N+1))?(k=65536+((1023&k)<<10)+(1023&Pe.charCodeAt(++N)),re[$++]=k>>18|240,re[$++]=k>>12&63|128,re[$++]=k>>6&63|128,re[$++]=63&k|128):(re[$++]=k>>12|224,re[$++]=k>>6&63|128,re[$++]=63&k|128)}return re},J={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Pe,re){if(!Array.isArray(Pe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const $=re?this.byteToCharMapWebSafe_:this.byteToCharMap_,N=[];for(let k=0;k<Pe.length;k+=3){const fe=Pe[k],Le=k+1<Pe.length,ct=Le?Pe[k+1]:0,Tt=k+2<Pe.length,Lt=Tt?Pe[k+2]:0;let bn=(15&ct)<<2|Lt>>6,De=63&Lt;Tt||(De=64,Le||(bn=64)),N.push($[fe>>2],$[(3&fe)<<4|ct>>4],$[bn],$[De])}return N.join("")},encodeString(Pe,re){return this.HAS_NATIVE_SUPPORT&&!re?btoa(Pe):this.encodeByteArray(Te(Pe),re)},decodeString(Pe,re){return this.HAS_NATIVE_SUPPORT&&!re?atob(Pe):function(Pe){const re=[];let $=0,N=0;for(;$<Pe.length;){const k=Pe[$++];if(k<128)re[N++]=String.fromCharCode(k);else if(k>191&&k<224){const fe=Pe[$++];re[N++]=String.fromCharCode((31&k)<<6|63&fe)}else if(k>239&&k<365){const Tt=((7&k)<<18|(63&Pe[$++])<<12|(63&Pe[$++])<<6|63&Pe[$++])-65536;re[N++]=String.fromCharCode(55296+(Tt>>10)),re[N++]=String.fromCharCode(56320+(1023&Tt))}else{const fe=Pe[$++],Le=Pe[$++];re[N++]=String.fromCharCode((15&k)<<12|(63&fe)<<6|63&Le)}}return re.join("")}(this.decodeStringToByteArray(Pe,re))},decodeStringToByteArray(Pe,re){this.init_();const $=re?this.charToByteMapWebSafe_:this.charToByteMap_,N=[];for(let k=0;k<Pe.length;){const fe=$[Pe.charAt(k++)],ct=k<Pe.length?$[Pe.charAt(k)]:0;++k;const Lt=k<Pe.length?$[Pe.charAt(k)]:64;++k;const Kt=k<Pe.length?$[Pe.charAt(k)]:64;if(++k,null==fe||null==ct||null==Lt||null==Kt)throw new W;N.push(fe<<2|ct>>4),64!==Lt&&(N.push(ct<<4&240|Lt>>2),64!==Kt&&N.push(Lt<<6&192|Kt))}return N},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Pe=0;Pe<this.ENCODED_VALS.length;Pe++)this.byteToCharMap_[Pe]=this.ENCODED_VALS.charAt(Pe),this.charToByteMap_[this.byteToCharMap_[Pe]]=Pe,this.byteToCharMapWebSafe_[Pe]=this.ENCODED_VALS_WEBSAFE.charAt(Pe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Pe]]=Pe,Pe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Pe)]=Pe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Pe)]=Pe)}}};class W extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const de=function(Pe){return function(Pe){const re=Te(Pe);return J.encodeByteArray(re,!0)}(Pe).replace(/\./g,"")},X=function(Pe){try{return J.decodeString(Pe,!0)}catch(re){console.error("base64Decode failed: ",re)}return null};function Ee(Pe,re){if(!(re instanceof Object))return re;switch(re.constructor){case Date:return new Date(re.getTime());case Object:void 0===Pe&&(Pe={});break;case Array:Pe=[];break;default:return re}for(const $ in re)!re.hasOwnProperty($)||!ze($)||(Pe[$]=Ee(Pe[$],re[$]));return Pe}function ze(Pe){return"__proto__"!==Pe}const st=()=>{try{return function Ye(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Pe=process.env.__FIREBASE_DEFAULTS__;return Pe?JSON.parse(Pe):void 0})()||(()=>{if(typeof document>"u")return;let Pe;try{Pe=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const re=Pe&&X(Pe[1]);return re&&JSON.parse(re)})()}catch(Pe){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Pe}`)}},ae=()=>{var Pe;return null===(Pe=st())||void 0===Pe?void 0:Pe.config},Me=Pe=>{var re;return null===(re=st())||void 0===re?void 0:re[`_${Pe}`]};class me{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((re,$)=>{this.resolve=re,this.reject=$})}wrapCallback(re){return($,N)=>{$?this.reject($):this.resolve(N),"function"==typeof re&&(this.promise.catch(()=>{}),1===re.length?re($):re($,N))}}}function ge(Pe,re){if(Pe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const N=re||"demo-project",k=Pe.iat||0,fe=Pe.sub||Pe.user_id;if(!fe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Le=Object.assign({iss:`https://securetoken.google.com/${N}`,aud:N,iat:k,exp:k+3600,auth_time:k,sub:fe,user_id:fe,firebase:{sign_in_provider:"custom",identities:{}}},Pe);return[de(JSON.stringify({alg:"none",type:"JWT"})),de(JSON.stringify(Le)),""].join(".")}function Ce(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ye(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ce())}function he(){var Pe;const re=null===(Pe=st())||void 0===Pe?void 0:Pe.forceEnvironment;if("node"===re)return!0;if("browser"===re)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function at(){return"object"==typeof self&&self.self===self}function Ct(){const Pe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Pe&&void 0!==Pe.id}function $e(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function At(){const Pe=Ce();return Pe.indexOf("MSIE ")>=0||Pe.indexOf("Trident/")>=0}function Nt(){return!he()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Se(){try{return"object"==typeof indexedDB}catch{return!1}}function Oe(){return new Promise((Pe,re)=>{try{let $=!0;const N="validate-browser-context-for-indexeddb-analytics-module",k=self.indexedDB.open(N);k.onsuccess=()=>{k.result.close(),$||self.indexedDB.deleteDatabase(N),Pe(!0)},k.onupgradeneeded=()=>{$=!1},k.onerror=()=>{var fe;re((null===(fe=k.error)||void 0===fe?void 0:fe.message)||"")}}catch($){re($)}})}class He extends Error{constructor(re,$,N){super($),this.code=re,this.customData=N,this.name="FirebaseError",Object.setPrototypeOf(this,He.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ht.prototype.create)}}class ht{constructor(re,$,N){this.service=re,this.serviceName=$,this.errors=N}create(re,...$){const N=$[0]||{},k=`${this.service}/${re}`,fe=this.errors[re],Le=fe?function gt(Pe,re){return Pe.replace(yt,($,N)=>{const k=re[N];return null!=k?String(k):`<${N}?>`})}(fe,N):"Error";return new He(k,`${this.serviceName}: ${Le} (${k}).`,N)}}const yt=/\{\$([^}]+)}/g;function Tn(Pe,re){return Object.prototype.hasOwnProperty.call(Pe,re)}function Rn(Pe){for(const re in Pe)if(Object.prototype.hasOwnProperty.call(Pe,re))return!1;return!0}function Mn(Pe,re){if(Pe===re)return!0;const $=Object.keys(Pe),N=Object.keys(re);for(const k of $){if(!N.includes(k))return!1;const fe=Pe[k],Le=re[k];if(kn(fe)&&kn(Le)){if(!Mn(fe,Le))return!1}else if(fe!==Le)return!1}for(const k of N)if(!$.includes(k))return!1;return!0}function kn(Pe){return null!==Pe&&"object"==typeof Pe}function tr(Pe){const re=[];for(const[$,N]of Object.entries(Pe))Array.isArray(N)?N.forEach(k=>{re.push(encodeURIComponent($)+"="+encodeURIComponent(k))}):re.push(encodeURIComponent($)+"="+encodeURIComponent(N));return re.length?"&"+re.join("&"):""}function Xt(Pe){const re={};return Pe.replace(/^\?/,"").split("&").forEach(N=>{if(N){const[k,fe]=N.split("=");re[decodeURIComponent(k)]=decodeURIComponent(fe)}}),re}function hn(Pe){const re=Pe.indexOf("?");if(!re)return"";const $=Pe.indexOf("#",re);return Pe.substring(re,$>0?$:void 0)}function Kn(Pe,re){const $=new Tr(Pe,re);return $.subscribe.bind($)}class Tr{constructor(re,$){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=$,this.task.then(()=>{re(this)}).catch(N=>{this.error(N)})}next(re){this.forEachObserver($=>{$.next(re)})}error(re){this.forEachObserver($=>{$.error(re)}),this.close(re)}complete(){this.forEachObserver(re=>{re.complete()}),this.close()}subscribe(re,$,N){let k;if(void 0===re&&void 0===$&&void 0===N)throw new Error("Missing Observer.");k=function Dt(Pe,re){if("object"!=typeof Pe||null===Pe)return!1;for(const $ of re)if($ in Pe&&"function"==typeof Pe[$])return!0;return!1}(re,["next","error","complete"])?re:{next:re,error:$,complete:N},void 0===k.next&&(k.next=Ae),void 0===k.error&&(k.error=Ae),void 0===k.complete&&(k.complete=Ae);const fe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?k.error(this.finalError):k.complete()}catch{}}),this.observers.push(k),fe}unsubscribeOne(re){void 0===this.observers||void 0===this.observers[re]||(delete this.observers[re],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(re){if(!this.finalized)for(let $=0;$<this.observers.length;$++)this.sendOne($,re)}sendOne(re,$){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[re])try{$(this.observers[re])}catch(N){typeof console<"u"&&console.error&&console.error(N)}})}close(re){this.finalized||(this.finalized=!0,void 0!==re&&(this.finalError=re),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ae(){}function kr(Pe){return Pe&&Pe._delegate?Pe._delegate:Pe}},9445:(xt,je,U)=>{U.d(je,{e:()=>WI});var p=U(4939),V=U(9058),b=U(534),Te=U(7879),z=U(4537),J=U(5619),W=U(5879),ce=U(7213),de=U(3781),X=U(6814),se=U(8326),Ee=U(7217),ze=U(6321),Ye=U(5592),lt=U(2459),tt=U(2096),rt=U(7921),st=U(9360),wt=U(8251);function ut(){return(0,st.e)((i,e)=>{let n,s=!1;i.subscribe((0,wt.x)(e,l=>{const c=n;n=l,s&&e.next([c,l]),s=!0}))})}var $e,ae=U(7398),Me=U(6699),me=U(3997),ge=U(2181),ye=(U(6365),U(3106)),he=U(5861),at=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ct={},Gt=Gt||{},At=at||self;function gn(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function bt(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var Se="closure_uid_"+(1e9*Math.random()>>>0),Oe=0;function Ze(i,e,n){return i.call.apply(i.bind,arguments)}function ke(i,e,n){if(!i)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var l=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(l,s),i.apply(e,l)}}return function(){return i.apply(e,arguments)}}function He(i,e,n){return(He=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ze:ke).apply(null,arguments)}function ht(i,e){var n=Array.prototype.slice.call(arguments,1);return function(){var s=n.slice();return s.push.apply(s,arguments),i.apply(this,s)}}function gt(i,e){function n(){}n.prototype=e.prototype,i.$=e.prototype,i.prototype=new n,i.prototype.constructor=i,i.ac=function(s,l,c){for(var f=Array(arguments.length-2),D=2;D<arguments.length;D++)f[D-2]=arguments[D];return e.prototype[l].apply(s,f)}}function yt(){this.s=this.s,this.o=this.o}yt.prototype.s=!1,yt.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Nt(i){Object.prototype.hasOwnProperty.call(i,Se)&&i[Se]||(i[Se]=++Oe)}(this)},yt.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const en=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let n=0;n<i.length;n++)if(n in i&&i[n]===e)return n;return-1};function Sn(i){const e=i.length;if(0<e){const n=Array(e);for(let s=0;s<e;s++)n[s]=i[s];return n}return[]}function an(i,e){for(let n=1;n<arguments.length;n++){const s=arguments[n];if(gn(s)){const l=i.length||0,c=s.length||0;i.length=l+c;for(let f=0;f<c;f++)i[l+f]=s[f]}else i.push(s)}}function ln(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}ln.prototype.h=function(){this.defaultPrevented=!0};var Un=function(){if(!At.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{const n=()=>{};At.addEventListener("test",n,e),At.removeEventListener("test",n,e)}catch{}return i}();function Pn(i){return/^[\s\xa0]*$/.test(i)}function Tn(){var i=At.navigator;return i&&(i=i.userAgent)?i:""}function Vt(i){return-1!=Tn().indexOf(i)}function Rn(i){return Rn[" "](i),i}Rn[" "]=function(){};var Kn,i,Mn=Vt("Opera"),kn=Vt("Trident")||Vt("MSIE"),Nr=Vt("Edge"),tr=Nr||kn,Xt=Vt("Gecko")&&!(-1!=Tn().toLowerCase().indexOf("webkit")&&!Vt("Edge"))&&!(Vt("Trident")||Vt("MSIE"))&&!Vt("Edge"),hn=-1!=Tn().toLowerCase().indexOf("webkit")&&!Vt("Edge");function Qt(){var i=At.document;return i?i.documentMode:void 0}e:{var Tr="",Je=(i=Tn(),Xt?/rv:([^\);]+)(\)|;)/.exec(i):Nr?/Edge\/([\d\.]+)/.exec(i):kn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):hn?/WebKit\/(\S+)/.exec(i):Mn?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Je&&(Tr=Je?Je[1]:""),kn){var Dt=Qt();if(null!=Dt&&Dt>parseFloat(Tr)){Kn=String(Dt);break e}}Kn=Tr}var Qe=At.document&&kn&&(Qt()||parseInt(Kn,10))||void 0;function Ot(i,e){if(ln.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var n=this.type=i.type,s=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(Xt){e:{try{Rn(e.nodeName);var l=!0;break e}catch{}l=!1}l||(e=null)}}else"mouseover"==n?e=i.fromElement:"mouseout"==n&&(e=i.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Rt[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Ot.$.h.call(this)}}gt(Ot,ln);var Rt={2:"touch",3:"pen",4:"mouse"};Ot.prototype.h=function(){Ot.$.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var un="closure_listenable_"+(1e6*Math.random()|0),vn=0;function qr(i,e,n,s,l){this.listener=i,this.proxy=null,this.src=e,this.type=n,this.capture=!!s,this.la=l,this.key=++vn,this.fa=this.ia=!1}function Lr(i){i.fa=!0,i.listener=null,i.proxy=null,i.src=null,i.la=null}function Bn(i,e,n){for(const s in i)e.call(n,i[s],s,i)}function Br(i){const e={};for(const n in i)e[n]=i[n];return e}const ei="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ti(i,e){let n,s;for(let l=1;l<arguments.length;l++){for(n in s=arguments[l],s)i[n]=s[n];for(let c=0;c<ei.length;c++)n=ei[c],Object.prototype.hasOwnProperty.call(s,n)&&(i[n]=s[n])}}function Ar(i){this.src=i,this.g={},this.h=0}function Sr(i,e){var n=e.type;if(n in i.g){var c,s=i.g[n],l=en(s,e);(c=0<=l)&&Array.prototype.splice.call(s,l,1),c&&(Lr(e),0==i.g[n].length&&(delete i.g[n],i.h--))}}function kr(i,e,n,s){for(var l=0;l<i.length;++l){var c=i[l];if(!c.fa&&c.listener==e&&c.capture==!!n&&c.la==s)return l}return-1}Ar.prototype.add=function(i,e,n,s,l){var c=i.toString();(i=this.g[c])||(i=this.g[c]=[],this.h++);var f=kr(i,e,s,l);return-1<f?(e=i[f],n||(e.ia=!1)):((e=new qr(e,this.src,c,!!s,l)).ia=n,i.push(e)),e};var Pe="closure_lm_"+(1e6*Math.random()|0),re={};function $(i,e,n,s,l){if(s&&s.once)return fe(i,e,n,s,l);if(Array.isArray(e)){for(var c=0;c<e.length;c++)$(i,e[c],n,s,l);return null}return n=bn(n),i&&i[un]?i.O(e,n,bt(s)?!!s.capture:!!s,l):N(i,e,n,!1,s,l)}function N(i,e,n,s,l,c){if(!e)throw Error("Invalid event type");var f=bt(l)?!!l.capture:!!l,D=kt(i);if(D||(i[Pe]=D=new Ar(i)),(n=D.add(e,n,s,f,c)).proxy)return n;if(s=function k(){const e=Lt;return function i(n){return e.call(i.src,i.listener,n)}}(),n.proxy=s,s.src=i,s.listener=n,i.addEventListener)Un||(l=f),void 0===l&&(l=!1),i.addEventListener(e.toString(),s,l);else if(i.attachEvent)i.attachEvent(Tt(e.toString()),s);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(s)}return n}function fe(i,e,n,s,l){if(Array.isArray(e)){for(var c=0;c<e.length;c++)fe(i,e[c],n,s,l);return null}return n=bn(n),i&&i[un]?i.P(e,n,bt(s)?!!s.capture:!!s,l):N(i,e,n,!0,s,l)}function Le(i,e,n,s,l){if(Array.isArray(e))for(var c=0;c<e.length;c++)Le(i,e[c],n,s,l);else s=bt(s)?!!s.capture:!!s,n=bn(n),i&&i[un]?(i=i.i,(e=String(e).toString())in i.g&&-1<(n=kr(c=i.g[e],n,s,l))&&(Lr(c[n]),Array.prototype.splice.call(c,n,1),0==c.length&&(delete i.g[e],i.h--))):i&&(i=kt(i))&&(e=i.g[e.toString()],i=-1,e&&(i=kr(e,n,s,l)),(n=-1<i?e[i]:null)&&ct(n))}function ct(i){if("number"!=typeof i&&i&&!i.fa){var e=i.src;if(e&&e[un])Sr(e.i,i);else{var n=i.type,s=i.proxy;e.removeEventListener?e.removeEventListener(n,s,i.capture):e.detachEvent?e.detachEvent(Tt(n),s):e.addListener&&e.removeListener&&e.removeListener(s),(n=kt(e))?(Sr(n,i),0==n.h&&(n.src=null,e[Pe]=null)):Lr(i)}}}function Tt(i){return i in re?re[i]:re[i]="on"+i}function Lt(i,e){if(i.fa)i=!0;else{e=new Ot(e,this);var n=i.listener,s=i.la||i.src;i.ia&&ct(i),i=n.call(s,e)}return i}function kt(i){return(i=i[Pe])instanceof Ar?i:null}var Kt="__closure_events_fn_"+(1e9*Math.random()>>>0);function bn(i){return"function"==typeof i?i:(i[Kt]||(i[Kt]=function(e){return i.handleEvent(e)}),i[Kt])}function De(){yt.call(this),this.i=new Ar(this),this.S=this,this.J=null}function ve(i,e){var n,s=i.J;if(s)for(n=[];s;s=s.J)n.push(s);if(i=i.S,s=e.type||e,"string"==typeof e)e=new ln(e,i);else if(e instanceof ln)e.target=e.target||i;else{var l=e;Ti(e=new ln(s,i),l)}if(l=!0,n)for(var c=n.length-1;0<=c;c--){var f=e.g=n[c];l=xe(f,s,!0,e)&&l}if(l=xe(f=e.g=i,s,!0,e)&&l,l=xe(f,s,!1,e)&&l,n)for(c=0;c<n.length;c++)l=xe(f=e.g=n[c],s,!1,e)&&l}function xe(i,e,n,s){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var l=!0,c=0;c<e.length;++c){var f=e[c];if(f&&!f.fa&&f.capture==n){var D=f.listener,M=f.la||f.src;f.ia&&Sr(i.i,f),l=!1!==D.call(M,s)&&l}}return l&&!s.defaultPrevented}gt(De,yt),De.prototype[un]=!0,De.prototype.removeEventListener=function(i,e,n,s){Le(this,i,e,n,s)},De.prototype.N=function(){if(De.$.N.call(this),this.i){var e,i=this.i;for(e in i.g){for(var n=i.g[e],s=0;s<n.length;s++)Lr(n[s]);delete i.g[e],i.h--}}this.J=null},De.prototype.O=function(i,e,n,s){return this.i.add(String(i),e,!1,n,s)},De.prototype.P=function(i,e,n,s){return this.i.add(String(i),e,!0,n,s)};var Ie=At.JSON.stringify;function Ue(){var i=Or;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var St=new class we{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new dt,i=>i.reset());class dt{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function nn(i){var e=1;i=i.split(":");const n=[];for(;0<e&&i.length;)n.push(i.shift()),e--;return i.length&&n.push(i.join(":")),n}function Zn(i){At.setTimeout(()=>{throw i},0)}let xn,Xn=!1,Or=new class et{constructor(){this.h=this.g=null}add(e,n){const s=St.get();s.set(e,n),this.h?this.h.next=s:this.g=s,this.h=s}},ti=()=>{const i=At.Promise.resolve(void 0);xn=()=>{i.then(nr)}};var nr=()=>{for(var i;i=Ue();){try{i.h.call(i.g)}catch(n){Zn(n)}var e=St;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}Xn=!1};function mr(i,e){De.call(this),this.h=i||1,this.g=e||At,this.j=He(this.qb,this),this.l=Date.now()}function Kr(i){i.ga=!1,i.T&&(i.g.clearTimeout(i.T),i.T=null)}function Hs(i,e,n){if("function"==typeof i)n&&(i=He(i,n));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=He(i.handleEvent,i)}return 2147483647<Number(e)?-1:At.setTimeout(i,e||0)}function Hn(i){i.g=Hs(()=>{i.g=null,i.i&&(i.i=!1,Hn(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}gt(mr,De),($e=mr.prototype).ga=!1,$e.T=null,$e.qb=function(){if(this.ga){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-i):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ve(this,"tick"),this.ga&&(Kr(this),this.start()))}},$e.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},$e.N=function(){mr.$.N.call(this),Kr(this),delete this.g};class xi extends yt{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Hn(this)}N(){super.N(),this.g&&(At.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wr(i){yt.call(this),this.h=i,this.g={}}gt(wr,yt);var Gi=[];function js(i,e,n,s){Array.isArray(n)||(n&&(Gi[0]=n.toString()),n=Gi);for(var l=0;l<n.length;l++){var c=$(e,n[l],s||i.handleEvent,!1,i.h||i);if(!c)break;i.g[c.key]=c}}function vo(i){Bn(i.g,function(e,n){this.g.hasOwnProperty(n)&&ct(e)},i),i.g={}}function $o(){this.g=!0}function Wi(i,e,n,s){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Io(i,e){if(!i.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(i=0;i<n.length;i++)if(Array.isArray(n[i])){var s=n[i];if(!(2>s.length)){var l=s[1];if(Array.isArray(l)&&!(1>l.length)){var c=l[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var f=1;f<l.length;f++)l[f]=""}}}return Ie(n)}catch{return e}}(i,n)+(s?" "+s:"")})}wr.prototype.N=function(){wr.$.N.call(this),vo(this)},wr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},$o.prototype.Ea=function(){this.g=!1},$o.prototype.info=function(){};var li={},$s=null;function ui(){return $s=$s||new De}function Hi(i){ln.call(this,li.Ta,i)}function Eo(i){const e=ui();ve(e,new Hi(e))}function Oi(i,e){ln.call(this,li.STAT_EVENT,i),this.stat=e}function Ni(i){const e=ui();ve(e,new Oi(e,i))}function No(i,e){ln.call(this,li.Ua,i),this.size=e}function zs(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return At.setTimeout(function(){i()},e)}li.Ta="serverreachability",gt(Hi,ln),li.STAT_EVENT="statevent",gt(Oi,ln),li.Ua="timingevent",gt(No,ln);var uo={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},sa={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Gs(){}function ys(){}Gs.prototype.h=null;var Pr,Ws={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Li(){ln.call(this,"d")}function jn(){ln.call(this,"c")}function Hr(){}function qi(i,e,n,s){this.l=i,this.j=e,this.m=n,this.W=s||1,this.U=new wr(this),this.P=To,this.V=new mr(i=tr?125:void 0),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new ni}function ni(){this.i=null,this.g="",this.h=!1}gt(Li,ln),gt(jn,ln),gt(Hr,Gs),Hr.prototype.g=function(){return new XMLHttpRequest},Hr.prototype.i=function(){return{}},Pr=new Hr;var To=45e3,co={},ss={};function pi(i,e,n){i.L=1,i.A=Is(lr(e)),i.u=n,i.S=!0,os(i,null)}function os(i,e){i.G=Date.now(),Gn(i),i.B=lr(i.A);var n=i.B,s=i.W;Array.isArray(s)||(s=[String(s)]),rr(n.i,"t",s),i.o=0,n=i.l.J,i.h=new ni,i.g=Z(i.l,n?e:null,!i.u),0<i.O&&(i.M=new xi(He(i.Pa,i,i.g),i.O)),js(i.U,i.g,"readystatechange",i.nb),e=i.I?Br(i.I):{},i.u?(i.v||(i.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ha(i.B,i.v,i.u,e)):(i.v="GET",i.g.ha(i.B,i.v,null,e)),Eo(),function zo(i,e,n,s,l,c){i.info(function(){if(i.g)if(c)for(var f="",D=c.split("&"),M=0;M<D.length;M++){var j=D[M].split("=");if(1<j.length){var ee=j[0];j=j[1];var pe=ee.split("_");f=2<=pe.length&&"type"==pe[1]?f+(ee+"=")+j+"&":f+(ee+"=redacted&")}}else f=null;else f=c;return"XMLHTTP REQ ("+s+") [attempt "+l+"]: "+e+"\n"+n+"\n"+f})}(i.j,i.v,i.B,i.m,i.W,i.u)}function Cr(i){return!!i.g&&"GET"==i.v&&2!=i.L&&i.l.Ha}function Ft(i,e,n){let l,s=!0;for(;!i.J&&i.o<n.length;){if(l=wn(i,n),l==ss){4==e&&(i.s=4,Ni(14),s=!1),Wi(i.j,i.m,null,"[Incomplete Response]");break}if(l==co){i.s=4,Ni(15),Wi(i.j,i.m,n,"[Invalid Chunk]"),s=!1;break}Wi(i.j,i.m,l,null),br(i,l)}Cr(i)&&0!=i.o&&(i.h.g=i.h.g.slice(i.o),i.o=0),4!=e||0!=n.length||i.h.h||(i.s=1,Ni(16),s=!1),i.i=i.i&&s,s?0<n.length&&!i.ba&&(i.ba=!0,(e=i.l).g==i&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Js(e),e.M=!0,Ni(11))):(Wi(i.j,i.m,n,"[Invalid Chunked Response]"),ci(i),Fr(i))}function wn(i,e){var n=i.o,s=e.indexOf("\n",n);return-1==s?ss:(n=Number(e.substring(n,s)),isNaN(n)?co:(s+=1)+n>e.length?ss:(e=e.slice(s,s+n),i.o=s+n,e))}function Gn(i){i.Y=Date.now()+i.P,mi(i,i.P)}function mi(i,e){if(null!=i.C)throw Error("WatchDog timer not null");i.C=zs(He(i.lb,i),e)}function as(i){i.C&&(At.clearTimeout(i.C),i.C=null)}function Fr(i){0==i.l.H||i.J||$a(i.l,i)}function ci(i){as(i);var e=i.M;e&&"function"==typeof e.sa&&e.sa(),i.M=null,Kr(i.V),vo(i.U),i.g&&(e=i.g,i.g=null,e.abort(),e.sa())}function br(i,e){try{var n=i.l;if(0!=n.H&&(n.g==i||Ks(n.i,i)))if(!i.K&&Ks(n.i,i)&&3==n.H){try{var s=n.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&3==s.length){var l=s;if(0==l[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<i.G))break e;Da(n),Ls(n)}bs(n),Ni(18)}}else n.Fa=l[1],0<n.Fa-n.V&&37500>l[2]&&n.G&&0==n.A&&!n.v&&(n.v=zs(He(n.ib,n),6e3));if(1>=hs(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Ds(n,11)}else if((i.K||n.g==i)&&Da(n),!Pn(e))for(l=n.Ja.g.parse(e),e=0;e<l.length;e++){let j=l[e];if(n.V=j[0],j=j[1],2==n.H)if("c"==j[0]){n.K=j[1],n.pa=j[2];const ee=j[3];null!=ee&&(n.ra=ee,n.l.info("VER="+n.ra));const pe=j[4];null!=pe&&(n.Ga=pe,n.l.info("SVER="+n.Ga));const Ne=j[5];null!=Ne&&"number"==typeof Ne&&0<Ne&&(n.L=s=1.5*Ne,n.l.info("backChannelRequestTimeoutMs_="+s)),s=n;const Xe=i.g;if(Xe){const Mt=Xe.g?Xe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Mt){var c=s.i;c.g||-1==Mt.indexOf("spdy")&&-1==Mt.indexOf("quic")&&-1==Mt.indexOf("h2")||(c.j=c.l,c.g=new Set,c.h&&(Zs(c,c.h),c.h=null))}if(s.F){const $t=Xe.g?Xe.g.getResponseHeader("X-HTTP-Session-Id"):null;$t&&(s.Da=$t,cr(s.I,s.F,$t))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-i.G,n.l.info("Handshake RTT: "+n.S+"ms"));var f=i;if((s=n).wa=Vl(s,s.J?s.pa:null,s.Y),f.K){wo(s.i,f);var D=f,M=s.L;M&&D.setTimeout(M),D.C&&(as(D),Gn(D)),s.g=f}else ua(s);0<n.j.length&&Ys(n)}else"stop"!=j[0]&&"close"!=j[0]||Ds(n,7);else 3==n.H&&("stop"==j[0]||"close"==j[0]?"stop"==j[0]?Ds(n,7):Ns(n):"noop"!=j[0]&&n.h&&n.h.Aa(j),n.A=0)}Eo()}catch{}}function fn(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(gn(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var n=function vs(i){if(i.ta&&"function"==typeof i.ta)return i.ta();if(!i.Z||"function"!=typeof i.Z){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(gn(i)||"string"==typeof i){var e=[];i=i.length;for(var n=0;n<i;n++)e.push(n);return e}e=[],n=0;for(const s in i)e[n++]=s;return e}}}(i),s=function ls(i){if(i.Z&&"function"==typeof i.Z)return i.Z();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(gn(i)){for(var e=[],n=i.length,s=0;s<n;s++)e.push(i[s]);return e}for(s in e=[],n=0,i)e[n++]=i[s];return e}(i),l=s.length,c=0;c<l;c++)e.call(void 0,s[c],n&&n[c],i)}($e=qi.prototype).setTimeout=function(i){this.P=i},$e.nb=function(i){i=i.target;const e=this.M;e&&3==xs(i)?e.l():this.Pa(i)},$e.Pa=function(i){try{if(i==this.g)e:{const ee=xs(this.g);var e=this.g.Ia();if(this.g.da(),!(3>ee)&&(3!=ee||tr||this.g&&(this.h.h||this.g.ja()||yi(this.g)))){this.J||4!=ee||7==e||Eo(),as(this);var n=this.g.da();this.ca=n;t:if(Cr(this)){var s=yi(this.g);i="";var l=s.length,c=4==xs(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ci(this),Fr(this);var f="";break t}this.h.i=new At.TextDecoder}for(e=0;e<l;e++)this.h.h=!0,i+=this.h.i.decode(s[e],{stream:c&&e==l-1});s.length=0,this.h.g+=i,this.o=0,f=this.h.g}else f=this.g.ja();if(this.i=200==n,function ii(i,e,n,s,l,c,f){i.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+l+"]: "+e+"\n"+n+"\n"+c+" "+f})}(this.j,this.v,this.B,this.m,this.W,ee,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var D,M=this.g;if((D=M.g?M.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Pn(D)){var j=D;break t}}j=null}if(!(n=j)){this.i=!1,this.s=3,Ni(12),ci(this),Fr(this);break e}Wi(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,br(this,n)}this.S?(Ft(this,ee,f),tr&&this.i&&3==ee&&(js(this.U,this.V,"tick",this.mb),this.V.start())):(Wi(this.j,this.m,f,null),br(this,f)),4==ee&&ci(this),this.i&&!this.J&&(4==ee?$a(this.l,this):(this.i=!1,Gn(this)))}else(function Do(i){const e={};i=(i.g&&2<=xs(i)&&i.g.getAllResponseHeaders()||"").split("\r\n");for(let s=0;s<i.length;s++){if(Pn(i[s]))continue;var n=nn(i[s]);const l=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const c=e[l]||[];e[l]=c,c.push(n)}!function sr(i,e){for(const n in i)e.call(void 0,i[n],n,i)}(e,function(s){return s.join(", ")})})(this.g),400==n&&0<f.indexOf("Unknown SID")?(this.s=3,Ni(12)):(this.s=0,Ni(13)),ci(this),Fr(this)}}}catch{}},$e.mb=function(){if(this.g){var i=xs(this.g),e=this.g.ja();this.o<e.length&&(as(this),Ft(this,i,e),this.i&&4!=i&&Gn(this))}},$e.cancel=function(){this.J=!0,ci(this)},$e.lb=function(){this.C=null;const i=Date.now();0<=i-this.Y?(function wi(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.B),2!=this.L&&(Eo(),Ni(17)),ci(this),this.s=2,Fr(this)):mi(this,this.Y-i)};var gi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ci(i){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof Ci){this.h=i.h,_i(this,i.j),this.s=i.s,this.g=i.g,Ki(this,i.m),this.l=i.l;var e=i.i,n=new Zr;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),bi(this,n),this.o=i.o}else i&&(e=String(i).match(gi))?(this.h=!1,_i(this,e[1]||"",!0),this.s=Di(e[2]||""),this.g=Di(e[3]||"",!0),Ki(this,e[4]),this.l=Di(e[5]||"",!0),bi(this,e[6]||"",!0),this.o=Di(e[7]||"")):(this.h=!1,this.i=new Zr(null,this.h))}function lr(i){return new Ci(i)}function _i(i,e,n){i.j=n?Di(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function Ki(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function bi(i,e,n){e instanceof Zr?(i.i=e,function Qr(i,e){e&&!i.j&&(Ts(i),i.i=null,i.g.forEach(function(n,s){var l=s.toLowerCase();s!=l&&(ps(this,s),rr(this,l,n))},i)),i.j=e}(i.i,i.h)):(n||(e=jr(e,oa)),i.i=new Zr(e,i.h))}function cr(i,e,n){i.i.set(e,n)}function Is(i){return cr(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Di(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function jr(i,e,n){return"string"==typeof i?(i=encodeURI(i).replace(e,qs),n&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function qs(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Ci.prototype.toString=function(){var i=[],e=this.j;e&&i.push(jr(e,Rs,!0),":");var n=this.g;return(n||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(jr(e,Rs,!0),"@"),i.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&i.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&i.push("/"),i.push(jr(n,"/"==n.charAt(0)?Es:$n,!0))),(n=this.i.toString())&&i.push("?",n),(n=this.o)&&i.push("#",jr(n,ko)),i.join("")};var Rs=/[#\/\?@]/g,$n=/[#\?:]/g,Es=/[#\?]/g,oa=/[#\?@]/g,ko=/#/g;function Zr(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function Ts(i){i.g||(i.g=new Map,i.h=0,i.i&&function us(i,e){if(i){i=i.split("&");for(var n=0;n<i.length;n++){var s=i[n].indexOf("="),l=null;if(0<=s){var c=i[n].substring(0,s);l=i[n].substring(s+1)}else c=i[n];e(c,l?decodeURIComponent(l.replace(/\+/g," ")):"")}}}(i.i,function(e,n){i.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function ps(i,e){Ts(i),e=cs(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function ki(i,e){return Ts(i),e=cs(i,e),i.g.has(e)}function rr(i,e,n){ps(i,e),0<n.length&&(i.i=null,i.g.set(cs(i,e),Sn(n)),i.h+=n.length)}function cs(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function Fo(i){this.l=i||ds,i=At.PerformanceNavigationTiming?0<(i=At.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(At.g&&At.g.Ka&&At.g.Ka()&&At.g.Ka().dc),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}($e=Zr.prototype).add=function(i,e){Ts(this),this.i=null,i=cs(this,i);var n=this.g.get(i);return n||this.g.set(i,n=[]),n.push(e),this.h+=1,this},$e.forEach=function(i,e){Ts(this),this.g.forEach(function(n,s){n.forEach(function(l){i.call(e,l,s,this)},this)},this)},$e.ta=function(){Ts(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let s=0;s<e.length;s++){const l=i[s];for(let c=0;c<l.length;c++)n.push(e[s])}return n},$e.Z=function(i){Ts(this);let e=[];if("string"==typeof i)ki(this,i)&&(e=e.concat(this.g.get(cs(this,i))));else{i=Array.from(this.g.values());for(let n=0;n<i.length;n++)e=e.concat(i[n])}return e},$e.set=function(i,e){return Ts(this),this.i=null,ki(this,i=cs(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},$e.get=function(i,e){return i&&0<(i=this.Z(i)).length?String(i[0]):e},$e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var s=e[n];const c=encodeURIComponent(String(s)),f=this.Z(s);for(s=0;s<f.length;s++){var l=c;""!==f[s]&&(l+="="+encodeURIComponent(String(f[s]))),i.push(l)}}return this.i=i.join("&")};var ds=10;function ws(i){return!!i.h||!!i.g&&i.g.size>=i.j}function hs(i){return i.h?1:i.g?i.g.size:0}function Ks(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function Zs(i,e){i.g?i.g.add(e):i.h=e}function wo(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function aa(i){if(null!=i.h)return i.i.concat(i.h.F);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const n of i.g.values())e=e.concat(n.F);return e}return Sn(i.i)}Fo.prototype.cancel=function(){if(this.i=aa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}};var Zi=class{stringify(i){return At.JSON.stringify(i,void 0)}parse(i){return At.JSON.parse(i,void 0)}};function Qs(){this.g=new Zi}function Fi(i,e,n){const s=n||"";try{fn(i,function(l,c){let f=l;bt(l)&&(f=Ie(l)),e.push(s+c+"="+encodeURIComponent(f))})}catch(l){throw e.push(s+"type="+encodeURIComponent("_badmap")),l}}function Vo(i,e,n,s,l){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,l(s)}catch{}}function dr(i){this.l=i.ec||null,this.j=i.ob||!1}function Ms(i,e){De.call(this),this.F=i,this.u=e,this.m=void 0,this.readyState=Ha,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}gt(dr,Gs),dr.prototype.g=function(){return new Ms(this.l,this.j)},dr.prototype.i=function(i){return function(){return i}}({}),gt(Ms,De);var Ha=0;function G(i){i.j.read().then(i.Xa.bind(i)).catch(i.ka.bind(i))}function q(i){i.readyState=4,i.l=null,i.j=null,i.A=null,O(i)}function O(i){i.onreadystatechange&&i.onreadystatechange.call(i)}($e=Ms.prototype).open=function(i,e){if(this.readyState!=Ha)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,O(this)},$e.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.F||At).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},$e.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,q(this)),this.readyState=Ha},$e.$a=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,O(this)),this.g&&(this.readyState=3,O(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof At.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;G(this)}else i.text().then(this.Za.bind(this),this.ka.bind(this))},$e.Xa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?q(this):O(this),3==this.readyState&&G(this)}},$e.Za=function(i){this.g&&(this.response=this.responseText=i,q(this))},$e.Ya=function(i){this.g&&(this.response=i,q(this))},$e.ka=function(){this.g&&q(this)},$e.setRequestHeader=function(i,e){this.v.append(i,e)},$e.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},$e.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var n=e.next();!n.done;)i.push((n=n.value)[0]+": "+n[1]),n=e.next();return i.join("\r\n")},Object.defineProperty(Ms.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var ie=At.JSON.parse;function be(i){De.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=tn,this.L=this.M=!1}gt(be,De);var tn="",In=/^https?$/i,Ai=["POST","PUT"];function Si(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,ho(i),si(i)}function ho(i){i.F||(i.F=!0,ve(i,"complete"),ve(i,"error"))}function Qi(i){if(i.h&&typeof Gt<"u"&&(!i.C[1]||4!=xs(i)||2!=i.da()))if(i.v&&4==xs(i))Hs(i.La,0,i);else if(ve(i,"readystatechange"),4==xs(i)){i.h=!1;try{const f=i.da();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var s;if(s=0===f){var l=String(i.I).match(gi)[1]||null;!l&&At.self&&At.self.location&&(l=At.self.location.protocol.slice(0,-1)),s=!In.test(l?l.toLowerCase():"")}n=s}if(n)ve(i,"complete"),ve(i,"success");else{i.m=6;try{var c=2<xs(i)?i.g.statusText:""}catch{c=""}i.j=c+" ["+i.da()+"]",ho(i)}}finally{si(i)}}}function si(i,e){if(i.g){bo(i);const n=i.g,s=i.C[0]?()=>{}:null;i.g=null,i.C=null,e||ve(i,"ready");try{n.onreadystatechange=s}catch{}}}function bo(i){i.g&&i.L&&(i.g.ontimeout=null),i.A&&(At.clearTimeout(i.A),i.A=null)}function xs(i){return i.g?i.g.readyState:0}function yi(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.K){case tn:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function Yi(i){let e="";return Bn(i,function(n,s){e+=s,e+=":",e+=n,e+="\r\n"}),e}function Go(i,e,n){e:{for(s in n){var s=!1;break e}s=!0}s||(n=Yi(n),"string"==typeof i?null!=n&&encodeURIComponent(String(n)):cr(i,e,n))}function Os(i,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[i]||e}function Wo(i){this.Ga=0,this.j=[],this.l=new $o,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Os("failFast",!1,i),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Os("baseRetryDelayMs",5e3,i),this.hb=Os("retryDelaySeedMs",1e4,i),this.eb=Os("forwardChannelMaxRetries",2,i),this.xa=Os("forwardChannelRequestTimeoutMs",2e4,i),this.va=i&&i.xmlHttpFactory||void 0,this.Ha=i&&i.useFetchStreams||!1,this.L=void 0,this.J=i&&i.supportsCrossDomainXhr||!1,this.K="",this.i=new Fo(i&&i.concurrentRequestLimit),this.Ja=new Qs,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=i&&i.bc||!1,i&&i.Ea&&this.l.Ea(),i&&i.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&i&&i.detectBufferingProxy||!1,this.qa=void 0,i&&i.longPollingTimeout&&0<i.longPollingTimeout&&(this.qa=i.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Ns(i){if(Cs(i),3==i.H){var e=i.W++,n=lr(i.I);if(cr(n,"SID",i.K),cr(n,"RID",e),cr(n,"TYPE","terminate"),la(i,n),(e=new qi(i,i.l,e)).L=2,e.A=Is(lr(n)),n=!1,At.navigator&&At.navigator.sendBeacon)try{n=At.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&At.Image&&((new Image).src=e.A,n=!0),n||(e.g=Z(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Gn(e)}ul(i)}function Ls(i){i.g&&(Js(i),i.g.cancel(),i.g=null)}function Cs(i){Ls(i),i.u&&(At.clearTimeout(i.u),i.u=null),Da(i),i.i.cancel(),i.m&&("number"==typeof i.m&&At.clearTimeout(i.m),i.m=null)}function Ys(i){if(!ws(i.i)&&!i.m){i.m=!0;var e=i.Na;xn||ti(),Xn||(xn(),Xn=!0),Or.add(e,i),i.C=0}}function ba(i,e){var n;n=e?e.m:i.W++;const s=lr(i.I);cr(s,"SID",i.K),cr(s,"RID",n),cr(s,"AID",i.V),la(i,s),i.o&&i.s&&Go(s,i.o,i.s),n=new qi(i,i.l,n,i.C+1),null===i.o&&(n.I=i.s),e&&(i.j=e.F.concat(i.j)),e=qo(i,n,1e3),n.setTimeout(Math.round(.5*i.xa)+Math.round(.5*i.xa*Math.random())),Zs(i.i,n),pi(n,s,e)}function la(i,e){i.na&&Bn(i.na,function(n,s){cr(e,s,n)}),i.h&&fn({},function(n,s){cr(e,s,n)})}function qo(i,e,n){n=Math.min(i.j.length,n);var s=i.h?He(i.h.Va,i.h,i):null;e:{var l=i.j;let c=-1;for(;;){const f=["count="+n];-1==c?0<n?(c=l[0].g,f.push("ofs="+c)):c=0:f.push("ofs="+c);let D=!0;for(let M=0;M<n;M++){let j=l[M].g;const ee=l[M].map;if(j-=c,0>j)c=Math.max(0,l[M].g-100),D=!1;else try{Fi(ee,f,"req"+j+"_")}catch{s&&s(ee)}}if(D){s=f.join("&");break e}}}return i=i.j.splice(0,n),e.F=i,s}function ua(i){if(!i.g&&!i.u){i.ba=1;var e=i.Ma;xn||ti(),Xn||(xn(),Xn=!0),Or.add(e,i),i.A=0}}function bs(i){return!(i.g||i.u||3<=i.A||(i.ba++,i.u=zs(He(i.Ma,i),Fl(i,i.A)),i.A++,0))}function Js(i){null!=i.B&&(At.clearTimeout(i.B),i.B=null)}function Ko(i){i.g=new qi(i,i.l,"rpc",i.ba),null===i.o&&(i.g.I=i.s),i.g.O=0;var e=lr(i.wa);cr(e,"RID","rpc"),cr(e,"SID",i.K),cr(e,"AID",i.V),cr(e,"CI",i.G?"0":"1"),!i.G&&i.qa&&cr(e,"TO",i.qa),cr(e,"TYPE","xmlhttp"),la(i,e),i.o&&i.s&&Go(e,i.o,i.s),i.L&&i.g.setTimeout(i.L);var n=i.g;i=i.pa,n.L=1,n.A=Is(lr(e)),n.u=null,n.S=!0,os(n,i)}function Da(i){null!=i.v&&(At.clearTimeout(i.v),i.v=null)}function $a(i,e){var n=null;if(i.g==e){Da(i),Js(i),i.g=null;var s=2}else{if(!Ks(i.i,e))return;n=e.F,wo(i.i,e),s=1}if(0!=i.H)if(e.i)if(1==s){n=e.u?e.u.length:0,e=Date.now()-e.G;var l=i.C;ve(s=ui(),new No(s,n)),Ys(i)}else ua(i);else if(3==(l=e.s)||0==l&&0<e.ca||!(1==s&&function ja(i,e){return!(hs(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.j=e.F.concat(i.j),0):1==i.H||2==i.H||i.C>=(i.cb?0:i.eb)||(i.m=zs(He(i.Na,i,e),Fl(i,i.C)),i.C++,0)))}(i,e)||2==s&&bs(i)))switch(n&&0<n.length&&(e=i.i,e.i=e.i.concat(n)),l){case 1:Ds(i,5);break;case 4:Ds(i,10);break;case 3:Ds(i,6);break;default:Ds(i,2)}}function Fl(i,e){let n=i.ab+Math.floor(Math.random()*i.hb);return i.isActive()||(n*=2),n*e}function Ds(i,e){if(i.l.info("Error code "+e),2==e){var n=null;i.h&&(n=null);var s=He(i.pb,i);n||(n=new Ci("//www.google.com/images/cleardot.gif"),At.location&&"http"==At.location.protocol||_i(n,"https"),Is(n)),function Co(i,e){const n=new $o;if(At.Image){const s=new Image;s.onload=ht(Vo,n,s,"TestLoadImage: loaded",!0,e),s.onerror=ht(Vo,n,s,"TestLoadImage: error",!1,e),s.onabort=ht(Vo,n,s,"TestLoadImage: abort",!1,e),s.ontimeout=ht(Vo,n,s,"TestLoadImage: timeout",!1,e),At.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=i}else e(!1)}(n.toString(),s)}else Ni(2);i.H=0,i.h&&i.h.za(e),ul(i),Cs(i)}function ul(i){if(i.H=0,i.ma=[],i.h){const e=aa(i.i);(0!=e.length||0!=i.j.length)&&(an(i.ma,e),an(i.ma,i.j),i.i.i.length=0,Sn(i.j),i.j.length=0),i.h.ya()}}function Vl(i,e,n){var s=n instanceof Ci?lr(n):new Ci(n);if(""!=s.g)e&&(s.g=e+"."+s.g),Ki(s,s.m);else{var l=At.location;s=l.protocol,e=e?e+"."+l.hostname:l.hostname,l=+l.port;var c=new Ci(null);s&&_i(c,s),e&&(c.g=e),l&&Ki(c,l),n&&(c.l=n),s=c}return e=i.Da,(n=i.F)&&e&&cr(s,n,e),cr(s,"VER",i.ra),la(i,s),s}function Z(i,e,n){if(e&&!i.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new be(i.Ha&&!i.va?new dr({ob:n}):i.va)).Oa(i.J),e}function y(){}function E(){if(kn&&!(10<=Number(Qe)))throw Error("Environmental error: no available transport.")}function x(i,e){De.call(this),this.g=new Wo(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(i?i["X-WebChannel-Client-Profile"]=e.Ca:i={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=i,(i=e&&e.cc)&&!Pn(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Pn(e)&&(this.g.F=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new Re(this)}function Q(i){Li.call(this),i.__headers__&&(this.headers=i.__headers__,this.statusCode=i.__status__,delete i.__headers__,delete i.__status__);var e=i.__sm__;if(e){e:{for(const n in e){i=n;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function le(){jn.call(this),this.status=1}function Re(i){this.g=i}function L(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function A(i,e,n){n||(n=0);var s=Array(16);if("string"==typeof e)for(var l=0;16>l;++l)s[l]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(l=0;16>l;++l)s[l]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var c=i.g[3],f=(e=i.g[0])+(c^(n=i.g[1])&((l=i.g[2])^c))+s[0]+3614090360&4294967295;f=(n=(l=(c=(e=(n=(l=(c=(e=(n=(l=(c=(e=(n=(l=(c=(e=(n=(l=(c=(e=(n=(l=(c=(e=(n=(l=(c=(e=(n=(l=(c=(e=(n=(l=(c=(e=(n=(l=(c=(e=(n=(l=(c=(e=(n=(l=(c=(e=(n=(l=(c=(e=(n=(l=(c=(e=(n=(l=(c=(e=n+(f<<7&4294967295|f>>>25))+((f=c+(l^e&(n^l))+s[1]+3905402710&4294967295)<<12&4294967295|f>>>20))+((f=l+(n^c&(e^n))+s[2]+606105819&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^l&(c^e))+s[3]+3250441966&4294967295)<<22&4294967295|f>>>10))+((f=e+(c^n&(l^c))+s[4]+4118548399&4294967295)<<7&4294967295|f>>>25))+((f=c+(l^e&(n^l))+s[5]+1200080426&4294967295)<<12&4294967295|f>>>20))+((f=l+(n^c&(e^n))+s[6]+2821735955&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^l&(c^e))+s[7]+4249261313&4294967295)<<22&4294967295|f>>>10))+((f=e+(c^n&(l^c))+s[8]+1770035416&4294967295)<<7&4294967295|f>>>25))+((f=c+(l^e&(n^l))+s[9]+2336552879&4294967295)<<12&4294967295|f>>>20))+((f=l+(n^c&(e^n))+s[10]+4294925233&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^l&(c^e))+s[11]+2304563134&4294967295)<<22&4294967295|f>>>10))+((f=e+(c^n&(l^c))+s[12]+1804603682&4294967295)<<7&4294967295|f>>>25))+((f=c+(l^e&(n^l))+s[13]+4254626195&4294967295)<<12&4294967295|f>>>20))+((f=l+(n^c&(e^n))+s[14]+2792965006&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^l&(c^e))+s[15]+1236535329&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^c&(n^l))+s[1]+4129170786&4294967295)<<5&4294967295|f>>>27))+((f=c+(n^l&(e^n))+s[6]+3225465664&4294967295)<<9&4294967295|f>>>23))+((f=l+(e^n&(c^e))+s[11]+643717713&4294967295)<<14&4294967295|f>>>18))+((f=n+(c^e&(l^c))+s[0]+3921069994&4294967295)<<20&4294967295|f>>>12))+((f=e+(l^c&(n^l))+s[5]+3593408605&4294967295)<<5&4294967295|f>>>27))+((f=c+(n^l&(e^n))+s[10]+38016083&4294967295)<<9&4294967295|f>>>23))+((f=l+(e^n&(c^e))+s[15]+3634488961&4294967295)<<14&4294967295|f>>>18))+((f=n+(c^e&(l^c))+s[4]+3889429448&4294967295)<<20&4294967295|f>>>12))+((f=e+(l^c&(n^l))+s[9]+568446438&4294967295)<<5&4294967295|f>>>27))+((f=c+(n^l&(e^n))+s[14]+3275163606&4294967295)<<9&4294967295|f>>>23))+((f=l+(e^n&(c^e))+s[3]+4107603335&4294967295)<<14&4294967295|f>>>18))+((f=n+(c^e&(l^c))+s[8]+1163531501&4294967295)<<20&4294967295|f>>>12))+((f=e+(l^c&(n^l))+s[13]+2850285829&4294967295)<<5&4294967295|f>>>27))+((f=c+(n^l&(e^n))+s[2]+4243563512&4294967295)<<9&4294967295|f>>>23))+((f=l+(e^n&(c^e))+s[7]+1735328473&4294967295)<<14&4294967295|f>>>18))+((f=n+(c^e&(l^c))+s[12]+2368359562&4294967295)<<20&4294967295|f>>>12))+((f=e+(n^l^c)+s[5]+4294588738&4294967295)<<4&4294967295|f>>>28))+((f=c+(e^n^l)+s[8]+2272392833&4294967295)<<11&4294967295|f>>>21))+((f=l+(c^e^n)+s[11]+1839030562&4294967295)<<16&4294967295|f>>>16))+((f=n+(l^c^e)+s[14]+4259657740&4294967295)<<23&4294967295|f>>>9))+((f=e+(n^l^c)+s[1]+2763975236&4294967295)<<4&4294967295|f>>>28))+((f=c+(e^n^l)+s[4]+1272893353&4294967295)<<11&4294967295|f>>>21))+((f=l+(c^e^n)+s[7]+4139469664&4294967295)<<16&4294967295|f>>>16))+((f=n+(l^c^e)+s[10]+3200236656&4294967295)<<23&4294967295|f>>>9))+((f=e+(n^l^c)+s[13]+681279174&4294967295)<<4&4294967295|f>>>28))+((f=c+(e^n^l)+s[0]+3936430074&4294967295)<<11&4294967295|f>>>21))+((f=l+(c^e^n)+s[3]+3572445317&4294967295)<<16&4294967295|f>>>16))+((f=n+(l^c^e)+s[6]+76029189&4294967295)<<23&4294967295|f>>>9))+((f=e+(n^l^c)+s[9]+3654602809&4294967295)<<4&4294967295|f>>>28))+((f=c+(e^n^l)+s[12]+3873151461&4294967295)<<11&4294967295|f>>>21))+((f=l+(c^e^n)+s[15]+530742520&4294967295)<<16&4294967295|f>>>16))+((f=n+(l^c^e)+s[2]+3299628645&4294967295)<<23&4294967295|f>>>9))+((f=e+(l^(n|~c))+s[0]+4096336452&4294967295)<<6&4294967295|f>>>26))+((f=c+(n^(e|~l))+s[7]+1126891415&4294967295)<<10&4294967295|f>>>22))+((f=l+(e^(c|~n))+s[14]+2878612391&4294967295)<<15&4294967295|f>>>17))+((f=n+(c^(l|~e))+s[5]+4237533241&4294967295)<<21&4294967295|f>>>11))+((f=e+(l^(n|~c))+s[12]+1700485571&4294967295)<<6&4294967295|f>>>26))+((f=c+(n^(e|~l))+s[3]+2399980690&4294967295)<<10&4294967295|f>>>22))+((f=l+(e^(c|~n))+s[10]+4293915773&4294967295)<<15&4294967295|f>>>17))+((f=n+(c^(l|~e))+s[1]+2240044497&4294967295)<<21&4294967295|f>>>11))+((f=e+(l^(n|~c))+s[8]+1873313359&4294967295)<<6&4294967295|f>>>26))+((f=c+(n^(e|~l))+s[15]+4264355552&4294967295)<<10&4294967295|f>>>22))+((f=l+(e^(c|~n))+s[6]+2734768916&4294967295)<<15&4294967295|f>>>17))+((f=n+(c^(l|~e))+s[13]+1309151649&4294967295)<<21&4294967295|f>>>11))+((c=(e=n+((f=e+(l^(n|~c))+s[4]+4149444226&4294967295)<<6&4294967295|f>>>26))+((f=c+(n^(e|~l))+s[11]+3174756917&4294967295)<<10&4294967295|f>>>22))^((l=c+((f=l+(e^(c|~n))+s[2]+718787259&4294967295)<<15&4294967295|f>>>17))|~e))+s[9]+3951481745&4294967295,i.g[0]=i.g[0]+e&4294967295,i.g[1]=i.g[1]+(l+(f<<21&4294967295|f>>>11))&4294967295,i.g[2]=i.g[2]+l&4294967295,i.g[3]=i.g[3]+c&4294967295}function F(i,e){this.h=e;for(var n=[],s=!0,l=i.length-1;0<=l;l--){var c=0|i[l];s&&c==e||(n[l]=c,s=!1)}this.g=n}($e=be.prototype).Oa=function(i){this.M=i},$e.ha=function(i,e,n,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+i);e=e?e.toUpperCase():"GET",this.I=i,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Pr.g(),this.C=function Lo(i){return i.h||(i.h=i.i())}(this.u?this.u:Pr),this.g.onreadystatechange=He(this.La,this);try{this.G=!0,this.g.open(e,String(i),!0),this.G=!1}catch(c){return void Si(this,c)}if(i=n||"",n=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var l in s)n.set(l,s[l]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const c of s.keys())n.set(c,s.get(c))}s=Array.from(n.keys()).find(c=>"content-type"==c.toLowerCase()),l=At.FormData&&i instanceof At.FormData,!(0<=en(Ai,e))||s||l||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[c,f]of n)this.g.setRequestHeader(c,f);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{bo(this),0<this.B&&((this.L=function ms(i){return kn&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=He(this.ua,this)):this.A=Hs(this.ua,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(c){Si(this,c)}},$e.ua=function(){typeof Gt<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ve(this,"timeout"),this.abort(8))},$e.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,ve(this,"complete"),ve(this,"abort"),si(this))},$e.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),si(this,!0)),be.$.N.call(this)},$e.La=function(){this.s||(this.G||this.v||this.l?Qi(this):this.kb())},$e.kb=function(){Qi(this)},$e.isActive=function(){return!!this.g},$e.da=function(){try{return 2<xs(this)?this.g.status:-1}catch{return-1}},$e.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},$e.Wa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),ie(e)}},$e.Ia=function(){return this.m},$e.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},($e=Wo.prototype).ra=8,$e.H=1,$e.Na=function(i){if(this.m)if(this.m=null,1==this.H){if(!i){this.W=Math.floor(1e5*Math.random()),i=this.W++;const l=new qi(this,this.l,i);let c=this.s;if(this.U&&(c?(c=Br(c),Ti(c,this.U)):c=this.U),null!==this.o||this.O||(l.I=c,c=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var s=this.j[n];if(void 0===(s="__data__"in s.map&&"string"==typeof(s=s.map.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=qo(this,l,e),cr(n=lr(this.I),"RID",i),cr(n,"CVER",22),this.F&&cr(n,"X-HTTP-Session-Id",this.F),la(this,n),c&&(this.O?e="headers="+encodeURIComponent(String(Yi(c)))+"&"+e:this.o&&Go(n,this.o,c)),Zs(this.i,l),this.bb&&cr(n,"TYPE","init"),this.P?(cr(n,"$req",e),cr(n,"SID","null"),l.aa=!0,pi(l,n,null)):pi(l,n,e),this.H=2}}else 3==this.H&&(i?ba(this,i):0==this.j.length||ws(this.i)||ba(this))},$e.Ma=function(){if(this.u=null,Ko(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var i=2*this.S;this.l.info("BP detection timer enabled: "+i),this.B=zs(He(this.jb,this),i)}},$e.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ni(10),Ls(this),Ko(this))},$e.ib=function(){null!=this.v&&(this.v=null,Ls(this),bs(this),Ni(19))},$e.pb=function(i){i?(this.l.info("Successfully pinged google.com"),Ni(2)):(this.l.info("Failed to ping google.com"),Ni(1))},$e.isActive=function(){return!!this.h&&this.h.isActive(this)},($e=y.prototype).Ba=function(){},$e.Aa=function(){},$e.za=function(){},$e.ya=function(){},$e.isActive=function(){return!0},$e.Va=function(){},E.prototype.g=function(i,e){return new x(i,e)},gt(x,De),x.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var i=this.g,e=this.l,n=this.h||void 0;Ni(0),i.Y=e,i.na=n||{},i.G=i.aa,i.I=Vl(i,null,i.Y),Ys(i)},x.prototype.close=function(){Ns(this.g)},x.prototype.u=function(i){var e=this.g;if("string"==typeof i){var n={};n.__data__=i,i=n}else this.v&&((n={}).__data__=Ie(i),i=n);e.j.push(new class{constructor(i,e){this.g=i,this.map=e}}(e.fb++,i)),3==e.H&&Ys(e)},x.prototype.N=function(){this.g.h=null,delete this.j,Ns(this.g),delete this.g,x.$.N.call(this)},gt(Q,Li),gt(le,jn),gt(Re,y),Re.prototype.Ba=function(){ve(this.g,"a")},Re.prototype.Aa=function(i){ve(this.g,new Q(i))},Re.prototype.za=function(i){ve(this.g,new le)},Re.prototype.ya=function(){ve(this.g,"b")},gt(L,function _(){this.blockSize=-1}),L.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},L.prototype.j=function(i,e){void 0===e&&(e=i.length);for(var n=e-this.blockSize,s=this.m,l=this.h,c=0;c<e;){if(0==l)for(;c<=n;)A(this,i,c),c+=this.blockSize;if("string"==typeof i){for(;c<e;)if(s[l++]=i.charCodeAt(c++),l==this.blockSize){A(this,s),l=0;break}}else for(;c<e;)if(s[l++]=i[c++],l==this.blockSize){A(this,s),l=0;break}}this.h=l,this.i+=e},L.prototype.l=function(){var i=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);i[0]=128;for(var e=1;e<i.length-8;++e)i[e]=0;var n=8*this.i;for(e=i.length-8;e<i.length;++e)i[e]=255&n,n/=256;for(this.j(i),i=Array(16),e=n=0;4>e;++e)for(var s=0;32>s;s+=8)i[n++]=this.g[e]>>>s&255;return i};var ue={};function Be(i){return-128<=i&&128>i?function Er(i,e){var n=ue;return Object.prototype.hasOwnProperty.call(n,i)?n[i]:n[i]=e(i)}(i,function(e){return new F([0|e],0>e?-1:0)}):new F([0|i],0>i?-1:0)}function We(i){if(isNaN(i)||!isFinite(i))return rn;if(0>i)return Dn(We(-i));for(var e=[],n=1,s=0;i>=n;s++)e[s]=i/n|0,n*=jt;return new F(e,0)}var jt=4294967296,rn=Be(0),_n=Be(1),sn=Be(16777216);function On(i){if(0!=i.h)return!1;for(var e=0;e<i.g.length;e++)if(0!=i.g[e])return!1;return!0}function dn(i){return-1==i.h}function Dn(i){for(var e=i.g.length,n=[],s=0;s<e;s++)n[s]=~i.g[s];return new F(n,~i.h).add(_n)}function $r(i,e){return i.add(Dn(e))}function Dr(i,e){for(;(65535&i[e])!=i[e];)i[e+1]+=i[e]>>>16,i[e]&=65535,e++}function vi(i,e){this.g=i,this.h=e}function Vr(i,e){if(On(e))throw Error("division by zero");if(On(i))return new vi(rn,rn);if(dn(i))return e=Vr(Dn(i),e),new vi(Dn(e.g),Dn(e.h));if(dn(e))return e=Vr(i,Dn(e)),new vi(Dn(e.g),e.h);if(30<i.g.length){if(dn(i)||dn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=_n,s=e;0>=s.X(i);)n=Vi(n),s=Vi(s);var l=Yr(n,1),c=Yr(s,1);for(s=Yr(s,2),n=Yr(n,2);!On(s);){var f=c.add(s);0>=f.X(i)&&(l=l.add(n),c=f),s=Yr(s,1),n=Yr(n,1)}return e=$r(i,l.R(e)),new vi(l,e)}for(l=rn;0<=i.X(e);){for(n=Math.max(1,Math.floor(i.ea()/e.ea())),s=48>=(s=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,s-48),f=(c=We(n)).R(e);dn(f)||0<f.X(i);)f=(c=We(n-=s)).R(e);On(c)&&(c=_n),l=l.add(c),i=$r(i,f)}return new vi(l,i)}function Vi(i){for(var e=i.g.length+1,n=[],s=0;s<e;s++)n[s]=i.D(s)<<1|i.D(s-1)>>>31;return new F(n,i.h)}function Yr(i,e){var n=e>>5;e%=32;for(var s=i.g.length-n,l=[],c=0;c<s;c++)l[c]=0<e?i.D(c+n)>>>e|i.D(c+n+1)<<32-e:i.D(c+n);return new F(l,i.h)}($e=F.prototype).ea=function(){if(dn(this))return-Dn(this).ea();for(var i=0,e=1,n=0;n<this.g.length;n++){var s=this.D(n);i+=(0<=s?s:jt+s)*e,e*=jt}return i},$e.toString=function(i){if(2>(i=i||10)||36<i)throw Error("radix out of range: "+i);if(On(this))return"0";if(dn(this))return"-"+Dn(this).toString(i);for(var e=We(Math.pow(i,6)),n=this,s="";;){var l=Vr(n,e).g,c=((0<(n=$r(n,l.R(e))).g.length?n.g[0]:n.h)>>>0).toString(i);if(On(n=l))return c+s;for(;6>c.length;)c="0"+c;s=c+s}},$e.D=function(i){return 0>i?0:i<this.g.length?this.g[i]:this.h},$e.X=function(i){return dn(i=$r(this,i))?-1:On(i)?0:1},$e.abs=function(){return dn(this)?Dn(this):this},$e.add=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],s=0,l=0;l<=e;l++){var c=s+(65535&this.D(l))+(65535&i.D(l)),f=(c>>>16)+(this.D(l)>>>16)+(i.D(l)>>>16);s=f>>>16,n[l]=(f&=65535)<<16|(c&=65535)}return new F(n,-2147483648&n[n.length-1]?-1:0)},$e.R=function(i){if(On(this)||On(i))return rn;if(dn(this))return dn(i)?Dn(this).R(Dn(i)):Dn(Dn(this).R(i));if(dn(i))return Dn(this.R(Dn(i)));if(0>this.X(sn)&&0>i.X(sn))return We(this.ea()*i.ea());for(var e=this.g.length+i.g.length,n=[],s=0;s<2*e;s++)n[s]=0;for(s=0;s<this.g.length;s++)for(var l=0;l<i.g.length;l++){var c=this.D(s)>>>16,f=65535&this.D(s),D=i.D(l)>>>16,M=65535&i.D(l);n[2*s+2*l]+=f*M,Dr(n,2*s+2*l),n[2*s+2*l+1]+=c*M,Dr(n,2*s+2*l+1),n[2*s+2*l+1]+=f*D,Dr(n,2*s+2*l+1),n[2*s+2*l+2]+=c*D,Dr(n,2*s+2*l+2)}for(s=0;s<e;s++)n[s]=n[2*s+1]<<16|n[2*s];for(s=e;s<2*e;s++)n[s]=0;return new F(n,0)},$e.gb=function(i){return Vr(this,i).h},$e.and=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)&i.D(s);return new F(n,this.h&i.h)},$e.or=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)|i.D(s);return new F(n,this.h|i.h)},$e.xor=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)^i.D(s);return new F(n,this.h^i.h)},E.prototype.createWebChannel=E.prototype.g,x.prototype.send=x.prototype.u,x.prototype.open=x.prototype.m,x.prototype.close=x.prototype.close,uo.NO_ERROR=0,uo.TIMEOUT=8,uo.HTTP_ERROR=6,sa.COMPLETE="complete",ys.EventType=Ws,Ws.OPEN="a",Ws.CLOSE="b",Ws.ERROR="c",Ws.MESSAGE="d",De.prototype.listen=De.prototype.O,be.prototype.listenOnce=be.prototype.P,be.prototype.getLastError=be.prototype.Sa,be.prototype.getLastErrorCode=be.prototype.Ia,be.prototype.getStatus=be.prototype.da,be.prototype.getResponseJson=be.prototype.Wa,be.prototype.getResponseText=be.prototype.ja,be.prototype.send=be.prototype.ha,be.prototype.setWithCredentials=be.prototype.Oa,L.prototype.digest=L.prototype.l,L.prototype.reset=L.prototype.reset,L.prototype.update=L.prototype.j,F.prototype.add=F.prototype.add,F.prototype.multiply=F.prototype.R,F.prototype.modulo=F.prototype.gb,F.prototype.compare=F.prototype.X,F.prototype.toNumber=F.prototype.ea,F.prototype.toString=F.prototype.toString,F.prototype.getBits=F.prototype.D,F.fromNumber=We,F.fromString=function pt(i,e){if(0==i.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==i.charAt(0))return Dn(pt(i.substring(1),e));if(0<=i.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=We(Math.pow(e,8)),s=rn,l=0;l<i.length;l+=8){var c=Math.min(8,i.length-l),f=parseInt(i.substring(l,l+c),e);8>c?(c=We(Math.pow(e,c)),s=s.R(c).add(We(f))):s=(s=s.R(n)).add(We(f))}return s};var fs=Ct.createWebChannelTransport=function(){return new E},Zo=Ct.getStatEventTarget=function(){return ui()},Rr=Ct.ErrorCode=uo,fo=Ct.EventType=sa,Yt=Ct.Event=li,Zt=Ct.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},ir=(Ct.FetchXmlHttpFactory=dr,Ct.WebChannel=ys),oi=Ct.XhrIo=be,hr=Ct.Md5=L,ji=Ct.Integer=F;const Ao="@firebase/firestore";class zn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zn.UNAUTHENTICATED=new zn(null),zn.GOOGLE_CREDENTIALS=new zn("google-credentials-uid"),zn.FIRST_PARTY=new zn("first-party-uid"),zn.MOCK_USER=new zn("mock-user");let Ii="10.8.0";const Xs=new Te.Yd("@firebase/firestore");function ai(){return Xs.logLevel}function mt(i,...e){if(Xs.logLevel<=Te.in.DEBUG){const n=e.map(An);Xs.debug(`Firestore (${Ii}): ${i}`,...n)}}function Jr(i,...e){if(Xs.logLevel<=Te.in.ERROR){const n=e.map(An);Xs.error(`Firestore (${Ii}): ${i}`,...n)}}function Ui(i,...e){if(Xs.logLevel<=Te.in.WARN){const n=e.map(An);Xs.warn(`Firestore (${Ii}): ${i}`,...n)}}function An(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function Wt(i="Unexpected state"){const e=`FIRESTORE (${Ii}) INTERNAL ASSERTION FAILED: `+i;throw Jr(e),new Error(e)}function on(i,e){i||Wt()}function Ht(i,e){return i}const ot={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _t extends V.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class di{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class Su{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wd{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(zn.UNAUTHENTICATED))}shutdown(){}}class Ul{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Ih{constructor(e){this.t=e,this.currentUser=zn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var s=this;let l=this.i;const c=j=>this.i!==l?(l=this.i,n(j)):Promise.resolve();let f=new di;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new di,e.enqueueRetryable(()=>c(this.currentUser))};const D=()=>{const j=f;e.enqueueRetryable((0,he.Z)(function*(){yield j.promise,yield c(s.currentUser)}))},M=j=>{mt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=j,this.auth.addAuthTokenListener(this.o),D()};this.t.onInit(j=>M(j)),setTimeout(()=>{if(!this.auth){const j=this.t.getImmediate({optional:!0});j?M(j):(mt("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new di)}},0),D()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(mt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(on("string"==typeof s.accessToken),new Su(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return on(null===e||"string"==typeof e),new zn(e)}}class Pu{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=zn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class vt{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new Pu(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(zn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ur{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class za{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const s=c=>{null!=c.error&&mt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.R;return this.R=c.token,mt("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const l=c=>{mt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>l(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?l(c):mt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(on("string"==typeof n.token),this.R=n.token,new ur(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function fr(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}class _c{static newId(){const n=62*Math.floor(256/62);let s="";for(;s.length<20;){const l=fr(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<n&&(s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(l[c]%62))}return s}}function Cn(i,e){return i<e?-1:i>e?1:0}function ks(i,e,n){return i.length===e.length&&i.every((s,l)=>n(s,e[l]))}function Aa(i){return i+"\0"}class Xr{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new _t(ot.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new _t(ot.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new _t(ot.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _t(ot.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Xr.fromMillis(Date.now())}static fromDate(e){return Xr.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new Xr(n,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Cn(this.nanoseconds,e.nanoseconds):Cn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class cn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new cn(e)}static min(){return new cn(new Xr(0,0))}static max(){return new cn(new Xr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class cl{constructor(e,n,s){void 0===n?n=0:n>e.length&&Wt(),void 0===s?s=e.length-n:s>e.length-n&&Wt(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return 0===cl.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof cl?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let l=0;l<s;l++){const c=e.get(l),f=n.get(l);if(c<f)return-1;if(c>f)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class or extends cl{construct(e,n,s){return new or(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new _t(ot.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(l=>l.length>0))}return new or(n)}static emptyPath(){return new or([])}}const Ji=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _r extends cl{construct(e,n,s){return new _r(e,n,s)}static isValidIdentifier(e){return Ji.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_r.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new _r(["__name__"])}static fromServerFormat(e){const n=[];let s="",l=0;const c=()=>{if(0===s.length)throw new _t(ot.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;l<e.length;){const D=e[l];if("\\"===D){if(l+1===e.length)throw new _t(ot.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const M=e[l+1];if("\\"!==M&&"."!==M&&"`"!==M)throw new _t(ot.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=M,l+=2}else"`"===D?(f=!f,l++):"."!==D||f?(s+=D,l++):(c(),l++)}if(c(),f)throw new _t(ot.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _r(n)}static emptyPath(){return new _r([])}}class Ut{constructor(e){this.path=e}static fromPath(e){return new Ut(or.fromString(e))}static fromName(e){return new Ut(or.fromString(e).popFirst(5))}static empty(){return new Ut(or.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===or.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return or.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ut(new or(e.slice()))}}class Fs{constructor(e,n,s,l){this.indexId=e,this.collectionGroup=n,this.fields=s,this.indexState=l}}function po(i){return i.fields.find(e=>2===e.kind)}function Yo(i){return i.fields.filter(e=>2!==e.kind)}Fs.UNKNOWN_ID=-1;class ca{constructor(e,n){this.fieldPath=e,this.kind=n}}class Jo{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Jo(0,T.min())}}function Bl(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,l=cn.fromTimestamp(1e9===s?new Xr(n+1,0):new Xr(n,s));return new T(l,Ut.empty(),e)}function vc(i){return new T(i.readTime,i.key,-1)}class T{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new T(cn.min(),Ut.empty(),-1)}static max(){return new T(cn.max(),Ut.empty(),-1)}}function P(i,e){let n=i.readTime.compareTo(e.readTime);return 0!==n?n:(n=Ut.comparator(i.documentKey,e.documentKey),0!==n?n:Cn(i.largestBatchId,e.largestBatchId))}const v="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class R{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function B(i){return ne.apply(this,arguments)}function ne(){return ne=(0,he.Z)(function*(i){if(i.code!==ot.FAILED_PRECONDITION||i.message!==v)throw i;mt("LocalStore","Unexpectedly lost primary lease")}),ne.apply(this,arguments)}class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Wt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Y((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,l)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Y?n:Y.resolve(n)}catch(n){return Y.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Y.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Y.reject(n)}static resolve(e){return new Y((n,s)=>{n(e)})}static reject(e){return new Y((n,s)=>{s(e)})}static waitFor(e){return new Y((n,s)=>{let l=0,c=0,f=!1;e.forEach(D=>{++l,D.next(()=>{++c,f&&c===l&&n()},M=>s(M))}),f=!0,c===l&&n()})}static or(e){let n=Y.resolve(!1);for(const s of e)n=n.next(l=>l?Y.resolve(l):s());return n}static forEach(e,n){const s=[];return e.forEach((l,c)=>{s.push(n.call(this,l,c))}),this.waitFor(s)}static mapArray(e,n){return new Y((s,l)=>{const c=e.length,f=new Array(c);let D=0;for(let M=0;M<c;M++){const j=M;n(e[j]).next(ee=>{f[j]=ee,++D,D===c&&s(f)},ee=>l(ee))}})}static doWhile(e,n){return new Y((s,l)=>{const c=()=>{!0===e()?n().next(()=>{c()},l):s()};c()})}}class nt{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new di,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Fn(e,n.error)):this.V.resolve()},this.transaction.onerror=s=>{const l=Pa(s.target.error);this.V.reject(new Fn(e,l))}}static open(e,n,s,l){try{return new nt(n,e.transaction(l,s))}catch(c){throw new Fn(n,c)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(mt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const n=this.transaction.objectStore(e);return new Qn(n)}}class qe{constructor(e,n,s){this.name=e,this.version=n,this.p=s,12.2===qe.S((0,V.z$)())&&Jr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return mt("SimpleDb","Removing database:",e),ar(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,V.hl)())return!1;if(qe.C())return!0;const e=(0,V.z$)(),n=qe.S(e),s=0<n&&n<10,l=qe.v(e),c=0<l&&l<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||c)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.F)}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static v(e){const n=e.match(/Android ([\d.]+)/i),s=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(s)}O(e){var n=this;return(0,he.Z)(function*(){return n.db||(mt("SimpleDb","Opening database:",n.name),n.db=yield new Promise((s,l)=>{const c=indexedDB.open(n.name,n.version);c.onsuccess=f=>{s(f.target.result)},c.onblocked=()=>{l(new Fn(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=f=>{const D=f.target.error;l("VersionError"===D.name?new _t(ot.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===D.name?new _t(ot.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+D):new Fn(e,D))},c.onupgradeneeded=f=>{mt("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',f.oldVersion),n.p.N(f.target.result,c.transaction,f.oldVersion,n.version).next(()=>{mt("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.B&&(n.db.onversionchange=s=>n.B(s)),n.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,s,l){var c=this;return(0,he.Z)(function*(){const f="readonly"===n;let D=0;for(;;){++D;try{c.db=yield c.O(e);const M=nt.open(c.db,e,f?"readonly":"readwrite",s),j=l(M).next(ee=>(M.g(),ee)).catch(ee=>(M.abort(ee),Y.reject(ee))).toPromise();return j.catch(()=>{}),yield M.m,j}catch(M){const j=M,ee="FirebaseError"!==j.name&&D<3;if(mt("SimpleDb","Transaction failed with error:",j.message,"Retrying:",ee),c.close(),!ee)return Promise.reject(j)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class zt{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return ar(this.k.delete())}}class Fn extends _t{constructor(e,n){super(ot.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Vn(i){return"IndexedDbTransactionError"===i.name}class Qn{constructor(e){this.store=e}put(e,n){let s;return void 0!==n?(mt("SimpleDb","PUT",this.store.name,e,n),s=this.store.put(n,e)):(mt("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),ar(s)}add(e){return mt("SimpleDb","ADD",this.store.name,e,e),ar(this.store.add(e))}get(e){return ar(this.store.get(e)).next(n=>(void 0===n&&(n=null),mt("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return mt("SimpleDb","DELETE",this.store.name,e),ar(this.store.delete(e))}count(){return mt("SimpleDb","COUNT",this.store.name),ar(this.store.count())}W(e,n){const s=this.options(e,n),l=s.index?this.store.index(s.index):this.store;if("function"==typeof l.getAll){const c=l.getAll(s.range);return new Y((f,D)=>{c.onerror=M=>{D(M.target.error)},c.onsuccess=M=>{f(M.target.result)}})}{const c=this.cursor(s),f=[];return this.G(c,(D,M)=>{f.push(M)}).next(()=>f)}}j(e,n){const s=this.store.getAll(e,null===n?void 0:n);return new Y((l,c)=>{s.onerror=f=>{c(f.target.error)},s.onsuccess=f=>{l(f.target.result)}})}H(e,n){mt("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,n);s.J=!1;const l=this.cursor(s);return this.G(l,(c,f,D)=>D.delete())}Y(e,n){let s;n?s=e:(s={},n=e);const l=this.cursor(s);return this.G(l,n)}Z(e){const n=this.cursor({});return new Y((s,l)=>{n.onerror=c=>{const f=Pa(c.target.error);l(f)},n.onsuccess=c=>{const f=c.target.result;f?e(f.primaryKey,f.value).next(D=>{D?f.continue():s()}):s()}})}G(e,n){const s=[];return new Y((l,c)=>{e.onerror=f=>{c(f.target.error)},e.onsuccess=f=>{const D=f.target.result;if(!D)return void l();const M=new zt(D),j=n(D.primaryKey,D.value,M);if(j instanceof Y){const ee=j.catch(pe=>(M.done(),Y.reject(pe)));s.push(ee)}M.isDone?l():null===M.$?D.continue():D.continue(M.$)}}).next(()=>Y.waitFor(s))}options(e,n){let s;return void 0!==e&&("string"==typeof e?s=e:n=e),{index:s,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const s=this.store.index(e.index);return e.J?s.openKeyCursor(e.range,n):s.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function ar(i){return new Y((e,n)=>{i.onsuccess=s=>{e(s.target.result)},i.onerror=s=>{const l=Pa(s.target.error);n(l)}})}let Sa=!1;function Pa(i){const e=qe.S((0,V.z$)());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(n)>=0){const s=new _t("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Sa||(Sa=!0,setTimeout(()=>{throw s},0)),s}}return i}class Ru{constructor(e,n){this.asyncQueue=e,this.X=n,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){var n=this;mt("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,he.Z)(function*(){n.task=null;try{mt("IndexBackfiller",`Documents written: ${yield n.X.te()}`)}catch(s){Vn(s)?mt("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",s):yield B(s)}yield n.ee(6e4)}))}}class Ra{constructor(e,n){this.localStore=e,this.persistence=n}te(e=50){var n=this;return(0,he.Z)(function*(){return n.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>n.ne(s,e))})()}ne(e,n){const s=new Set;let l=n,c=!0;return Y.doWhile(()=>!0===c&&l>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(f=>{if(null!==f&&!s.has(f))return mt("IndexBackfiller",`Processing collection: ${f}`),this.re(e,f,l).next(D=>{l-=D,s.add(f)});c=!1})).next(()=>n-l)}re(e,n,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(l=>this.localStore.localDocuments.getNextDocuments(e,n,l,s).next(c=>{const f=c.changes;return this.localStore.indexManager.updateIndexEntries(e,f).next(()=>this.ie(l,c)).next(D=>(mt("IndexBackfiller",`Updating offset: ${D}`),this.localStore.indexManager.updateCollectionGroup(e,n,D))).next(()=>f.size)}))}ie(e,n){let s=e;return n.changes.forEach((l,c)=>{const f=vc(c);P(f,s)>0&&(s=f)}),new T(s.readTime,s.documentKey,Math.max(n.batchId,e.largestBatchId))}}let Vs=(()=>{class i{constructor(n,s){this.previousValue=n,s&&(s.sequenceNumberHandler=l=>this.se(l),this.oe=l=>s.writeSequenceNumber(l))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.oe&&this.oe(n),n}}return i._e=-1,i})();function Hl(i){return null==i}function Ga(i){return 0===i&&1/i==-1/0}function Xo(i){return"number"==typeof i&&Number.isInteger(i)&&!Ga(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}function Us(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=Mu(e)),e=jl(i.get(n),e);return Mu(e)}function jl(i,e){let n=e;const s=i.length;for(let l=0;l<s;l++){const c=i.charAt(l);switch(c){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=c}}return n}function Mu(i){return i+"\x01\x01"}function eo(i){const e=i.length;if(on(e>=2),2===e)return on("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),or.emptyPath();const n=e-2,s=[];let l="";for(let c=0;c<e;){const f=i.indexOf("\x01",c);switch((f<0||f>n)&&Wt(),i.charAt(f+1)){case"\x01":const D=i.substring(c,f);let M;0===l.length?M=D:(l+=D,M=l,l=""),s.push(M);break;case"\x10":l+=i.substring(c,f),l+="\0";break;case"\x11":l+=i.substring(c,f+1);break;default:Wt()}c=f+2}return new or(s)}const Ic=["userId","batchId"];function dl(i,e){return[i,Us(e)]}function $l(i,e,n){return[i,Us(e),n]}const Cd={},zl=["prefixPath","collectionGroup","readTime","documentId"],hl=["prefixPath","collectionGroup","documentId"],Ap=["collectionGroup","readTime","prefixPath","documentId"],Gl=["canonicalId","targetId"],xu=["targetId","path"],a_=["path","targetId"],Sp=["collectionId","parent"],Pp=["indexId","uid"],wh=["uid","sequenceNumber"],Rp=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],bd=["indexId","uid","orderedDocumentKey"],Ou=["userId","collectionPath","documentId"],Dd=["userId","collectionPath","largestBatchId"],Nu=["userId","collectionGroup","largestBatchId"],Wl=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Ec=[...Wl,"documentOverlays"],Ad=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Lu=Ad,Ch=[...Lu,"indexConfiguration","indexState","indexEntries"];class fl extends R{constructor(e,n){super(),this.ae=e,this.currentSequenceNumber=n}}function ri(i,e){const n=Ht(i);return qe.M(n.ae,e)}function bh(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function So(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function ql(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class zr{constructor(e,n){this.comparator=e,this.root=n||Xi.EMPTY}insert(e,n){return new zr(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Xi.BLACK,null,null))}remove(e){return new zr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xi.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(0===s)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(0===l)return n+s.left.size;l<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pl(this.root,e,this.comparator,!1)}getReverseIterator(){return new pl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pl(this.root,e,this.comparator,!0)}}class pl{constructor(e,n,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?s(e.key,n):1,n&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xi{constructor(e,n,s,l,c){this.key=e,this.value=n,this.color=s??Xi.RED,this.left=l??Xi.EMPTY,this.right=c??Xi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,l,c){return new Xi(e??this.key,n??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let l=this;const c=s(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,n,s),null):0===c?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Xi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===n(e,l.key)){if(l.right.isEmpty())return Xi.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Wt();const e=this.left.check();if(e!==this.right.check())throw Wt();return e+(this.isRed()?0:1)}}Xi.EMPTY=null,Xi.RED=!0,Xi.BLACK=!1,Xi.EMPTY=new class{constructor(){this.size=0}get key(){throw Wt()}get value(){throw Wt()}get color(){throw Wt()}get left(){throw Wt()}get right(){throw Wt()}copy(e,n,s,l,c){return this}insert(e,n,s){return new Xi(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Gr{constructor(e){this.comparator=e,this.data=new zr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let s;for(s=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Tc(this.data.getIterator())}getIteratorFrom(e){return new Tc(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Gr)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=s.getNext().key;if(0!==this.comparator(l,c))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Gr(this.comparator);return n.data=e,n}}class Tc{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ml(i){return i.hasNext()?i.getNext():void 0}class to{constructor(e){this.fields=e,e.sort(_r.comparator)}static empty(){return new to([])}unionWith(e){let n=new Gr(_r.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new to(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ks(this.fields,e.fields,(n,s)=>n.isEqual(s))}}class ku extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Bi{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new ku("Invalid base64 string: "+c):c}}(e);return new Bi(n)}static fromUint8Array(e){const n=function(l){let c="";for(let f=0;f<l.length;++f)c+=String.fromCharCode(l[f]);return c}(e);return new Bi(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let l=0;l<n.length;l++)s[l]=n.charCodeAt(l);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Cn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Bi.EMPTY_BYTE_STRING=new Bi("");const Ma=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wa(i){if(on(!!i),"string"==typeof i){let e=0;const n=Ma.exec(i);if(on(!!n),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Pi(i.seconds),nanos:Pi(i.nanos)}}function Pi(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Bo(i){return"string"==typeof i?Bi.fromBase64String(i):Bi.fromUint8Array(i)}function qa(i){var e,n;return"server_timestamp"===(null===(n=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Kl(i){const e=i.mapValue.fields.__previous_value__;return qa(e)?Kl(e):e}function $i(i){const e=Wa(i.mapValue.fields.__local_write_time__.timestampValue);return new Xr(e.seconds,e.nanos)}class Sd{constructor(e,n,s,l,c,f,D,M,j){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=D,this.longPollingOptions=M,this.useFetchStreams=j}}class da{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new da("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof da&&e.projectId===this.projectId&&e.database===this.database}}const Ho={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},wc={nullValue:"NULL_VALUE"};function ha(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?qa(i)?4:Op(i)?9007199254740991:10:Wt()}function Po(i,e){if(i===e)return!0;const n=ha(i);if(n!==ha(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return $i(i).isEqual($i(e));case 3:return function(l,c){if("string"==typeof l.timestampValue&&"string"==typeof c.timestampValue&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const f=Wa(l.timestampValue),D=Wa(c.timestampValue);return f.seconds===D.seconds&&f.nanos===D.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return c=e,Bo(i.bytesValue).isEqual(Bo(c.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(l,c){return Pi(l.geoPointValue.latitude)===Pi(c.geoPointValue.latitude)&&Pi(l.geoPointValue.longitude)===Pi(c.geoPointValue.longitude)}(i,e);case 2:return function(l,c){if("integerValue"in l&&"integerValue"in c)return Pi(l.integerValue)===Pi(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const f=Pi(l.doubleValue),D=Pi(c.doubleValue);return f===D?Ga(f)===Ga(D):isNaN(f)&&isNaN(D)}return!1}(i,e);case 9:return ks(i.arrayValue.values||[],e.arrayValue.values||[],Po);case 10:return function(l,c){const f=l.mapValue.fields||{},D=c.mapValue.fields||{};if(bh(f)!==bh(D))return!1;for(const M in f)if(f.hasOwnProperty(M)&&(void 0===D[M]||!Po(f[M],D[M])))return!1;return!0}(i,e);default:return Wt()}var c}function ea(i,e){return void 0!==(i.values||[]).find(n=>Po(n,e))}function Ro(i,e){if(i===e)return 0;const n=ha(i),s=ha(e);if(n!==s)return Cn(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Cn(i.booleanValue,e.booleanValue);case 2:return function(c,f){const D=Pi(c.integerValue||c.doubleValue),M=Pi(f.integerValue||f.doubleValue);return D<M?-1:D>M?1:D===M?0:isNaN(D)?isNaN(M)?0:-1:1}(i,e);case 3:return Ka(i.timestampValue,e.timestampValue);case 4:return Ka($i(i),$i(e));case 5:return Cn(i.stringValue,e.stringValue);case 6:return function(c,f){const D=Bo(c),M=Bo(f);return D.compareTo(M)}(i.bytesValue,e.bytesValue);case 7:return function(c,f){const D=c.split("/"),M=f.split("/");for(let j=0;j<D.length&&j<M.length;j++){const ee=Cn(D[j],M[j]);if(0!==ee)return ee}return Cn(D.length,M.length)}(i.referenceValue,e.referenceValue);case 8:return function(c,f){const D=Cn(Pi(c.latitude),Pi(f.latitude));return 0!==D?D:Cn(Pi(c.longitude),Pi(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(c,f){const D=c.values||[],M=f.values||[];for(let j=0;j<D.length&&j<M.length;++j){const ee=Ro(D[j],M[j]);if(ee)return ee}return Cn(D.length,M.length)}(i.arrayValue,e.arrayValue);case 10:return function(c,f){if(c===Ho.mapValue&&f===Ho.mapValue)return 0;if(c===Ho.mapValue)return 1;if(f===Ho.mapValue)return-1;const D=c.fields||{},M=Object.keys(D),j=f.fields||{},ee=Object.keys(j);M.sort(),ee.sort();for(let pe=0;pe<M.length&&pe<ee.length;++pe){const Ne=Cn(M[pe],ee[pe]);if(0!==Ne)return Ne;const Xe=Ro(D[M[pe]],j[ee[pe]]);if(0!==Xe)return Xe}return Cn(M.length,ee.length)}(i.mapValue,e.mapValue);default:throw Wt()}}function Ka(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return Cn(i,e);const n=Wa(i),s=Wa(e),l=Cn(n.seconds,s.seconds);return 0!==l?l:Cn(n.nanos,s.nanos)}function xa(i){return Fu(i)}function Fu(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=Wa(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?Bo(i.bytesValue).toBase64():"referenceValue"in i?Ut.fromName(i.referenceValue).toString():"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",l=!0;for(const c of n.values||[])l?l=!1:s+=",",s+=Fu(c);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let l="{",c=!0;for(const f of s)c?c=!1:l+=",",l+=`${f}:${Fu(n.fields[f])}`;return l+"}"}(i.mapValue):Wt()}function Zl(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Vu(i){return!!i&&"integerValue"in i}function Cc(i){return!!i&&"arrayValue"in i}function xp(i){return!!i&&"nullValue"in i}function Dh(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Pd(i){return!!i&&"mapValue"in i}function gl(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return So(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=gl(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=gl(i.arrayValue.values[n]);return e}return Object.assign({},i)}function Op(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function Ql(i){return"nullValue"in i?wc:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?Zl(da.empty(),Ut.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:Wt()}function Np(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?Zl(da.empty(),Ut.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?Ho:Wt()}function Ah(i,e){const n=Ro(i.value,e.value);return 0!==n?n:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function es(i,e){const n=Ro(i.value,e.value);return 0!==n?n:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class As{constructor(e){this.value=e}static empty(){return new As({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Pd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=gl(n)}setAll(e){let n=_r.emptyPath(),s={},l=[];e.forEach((f,D)=>{if(!n.isImmediateParentOf(D)){const M=this.getFieldsMap(n);this.applyChanges(M,s,l),s={},l=[],n=D.popLast()}f?s[D.lastSegment()]=gl(f):l.push(D.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,s,l)}delete(e){const n=this.field(e.popLast());Pd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Po(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=n.mapValue.fields[e.get(s)];Pd(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,s){So(n,(l,c)=>e[l]=c);for(const l of s)delete e[l]}clone(){return new As(gl(this.value))}}function Yl(i){const e=[];return So(i.fields,(n,s)=>{const l=new _r([n]);if(Pd(s)){const c=Yl(s.mapValue).fields;if(0===c.length)e.push(l);else for(const f of c)e.push(l.child(f))}else e.push(l)}),new to(e)}class hi{constructor(e,n,s,l,c,f,D){this.key=e,this.documentType=n,this.version=s,this.readTime=l,this.createTime=c,this.data=f,this.documentState=D}static newInvalidDocument(e){return new hi(e,0,cn.min(),cn.min(),cn.min(),As.empty(),0)}static newFoundDocument(e,n,s,l){return new hi(e,1,n,cn.min(),s,l,0)}static newNoDocument(e,n){return new hi(e,2,n,cn.min(),cn.min(),As.empty(),0)}static newUnknownDocument(e,n){return new hi(e,3,n,cn.min(),cn.min(),As.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(cn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=As.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=As.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=cn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof hi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class zi{constructor(e,n){this.position=e,this.inclusive=n}}function _l(i,e,n){let s=0;for(let l=0;l<i.position.length;l++){const c=e[l],f=i.position[l];if(s=c.field.isKeyField()?Ut.comparator(Ut.fromName(f.referenceValue),n.key):Ro(f,n.data.field(c.field)),"desc"===c.dir&&(s*=-1),0!==s)break}return s}function Rd(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Po(i.position[n],e.position[n]))return!1;return!0}class Za{constructor(e,n="asc"){this.field=e,this.dir=n}}function Uu(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class Sh{}class yr extends Sh{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,s):new Lp(e,n,s):"array-contains"===n?new Md(e,s):"in"===n?new Sc(e,s):"not-in"===n?new xd(e,s):"array-contains-any"===n?new $u(e,s):new yr(e,n,s)}static createKeyFieldInFilter(e,n,s){return"in"===n?new Rh(e,s):new kp(e,s)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Ro(n,this.value)):null!==n&&ha(this.value)===ha(n)&&this.matchesComparison(Ro(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Wt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wr extends Sh{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Wr(e,n)}matches(e){return Bu(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Bu(i){return"and"===i.op}function no(i){return"or"===i.op}function Hu(i){return yl(i)&&Bu(i)}function yl(i){for(const e of i.filters)if(e instanceof Wr)return!1;return!0}function bc(i){if(i instanceof yr)return i.field.canonicalString()+i.op.toString()+xa(i.value);if(Hu(i))return i.filters.map(e=>bc(e)).join(",");{const e=i.filters.map(n=>bc(n)).join(",");return`${i.op}(${e})`}}function ju(i,e){return i instanceof yr?(s=i,(l=e)instanceof yr&&s.op===l.op&&s.field.isEqual(l.field)&&Po(s.value,l.value)):i instanceof Wr?function(s,l){return l instanceof Wr&&s.op===l.op&&s.filters.length===l.filters.length&&s.filters.reduce((c,f,D)=>c&&ju(f,l.filters[D]),!0)}(i,e):void Wt();var s,l}function Ph(i,e){const n=i.filters.concat(e);return Wr.create(n,i.op)}function Dc(i){return i instanceof yr?`${(n=i).field.canonicalString()} ${n.op} ${xa(n.value)}`:i instanceof Wr?function(n){return n.op.toString()+" {"+n.getFilters().map(Dc).join(" ,")+"}"}(i):"Filter";var n}class Lp extends yr{constructor(e,n,s){super(e,n,s),this.key=Ut.fromName(s.referenceValue)}matches(e){const n=Ut.comparator(e.key,this.key);return this.matchesComparison(n)}}class Rh extends yr{constructor(e,n){super(e,"in",n),this.keys=Ac(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class kp extends yr{constructor(e,n){super(e,"not-in",n),this.keys=Ac(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Ac(i,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(s=>Ut.fromName(s.referenceValue))}class Md extends yr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Cc(n)&&ea(n.arrayValue,this.value)}}class Sc extends yr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&ea(this.value.arrayValue,n)}}class xd extends yr{constructor(e,n){super(e,"not-in",n)}matches(e){if(ea(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!ea(this.value.arrayValue,n)}}class $u extends yr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Cc(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>ea(this.value.arrayValue,s))}}class Pc{constructor(e,n=null,s=[],l=[],c=null,f=null,D=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=f,this.endAt=D,this.ce=null}}function vl(i,e=null,n=[],s=[],l=null,c=null,f=null){return new Pc(i,e,n,s,l,c,f)}function Qa(i){const e=Ht(i);if(null===e.ce){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>bc(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>{return(c=s).field.canonicalString()+c.dir;var c}).join(","),Hl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>xa(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>xa(s)).join(",")),e.ce=n}return e.ce}function Jl(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!Uu(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!ju(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Rd(i.startAt,e.startAt)&&Rd(i.endAt,e.endAt)}function Xl(i){return Ut.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function Il(i,e){return i.filters.filter(n=>n instanceof yr&&n.field.isEqual(e))}function Od(i,e,n){let s=wc,l=!0;for(const c of Il(i,e)){let f=wc,D=!0;switch(c.op){case"<":case"<=":f=Ql(c.value);break;case"==":case"in":case">=":f=c.value;break;case">":f=c.value,D=!1;break;case"!=":case"not-in":f=wc}Ah({value:s,inclusive:l},{value:f,inclusive:D})<0&&(s=f,l=D)}if(null!==n)for(let c=0;c<i.orderBy.length;++c)if(i.orderBy[c].field.isEqual(e)){const f=n.position[c];Ah({value:s,inclusive:l},{value:f,inclusive:n.inclusive})<0&&(s=f,l=n.inclusive);break}return{value:s,inclusive:l}}function Mh(i,e,n){let s=Ho,l=!0;for(const c of Il(i,e)){let f=Ho,D=!0;switch(c.op){case">=":case">":f=Np(c.value),D=!1;break;case"==":case"in":case"<=":f=c.value;break;case"<":f=c.value,D=!1;break;case"!=":case"not-in":f=Ho}es({value:s,inclusive:l},{value:f,inclusive:D})>0&&(s=f,l=D)}if(null!==n)for(let c=0;c<i.orderBy.length;++c)if(i.orderBy[c].field.isEqual(e)){const f=n.position[c];es({value:s,inclusive:l},{value:f,inclusive:n.inclusive})>0&&(s=f,l=n.inclusive);break}return{value:s,inclusive:l}}class fa{constructor(e,n=null,s=[],l=[],c=null,f="F",D=null,M=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=f,this.startAt=D,this.endAt=M,this.le=null,this.he=null,this.Pe=null}}function El(i,e,n,s,l,c,f,D){return new fa(i,e,n,s,l,c,f,D)}function Na(i){return new fa(i)}function xh(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function I(i){return null!==i.collectionGroup}function h(i){const e=Ht(i);if(null===e.le){e.le=[];const n=new Set;for(const c of e.explicitOrderBy)e.le.push(c),n.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let D=new Gr(_r.comparator);return f.filters.forEach(M=>{M.getFlattenedFilters().forEach(j=>{j.isInequality()&&(D=D.add(j.field))})}),D})(e).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||e.le.push(new Za(c,s))}),n.has(_r.keyField().canonicalString())||e.le.push(new Za(_r.keyField(),s))}return e.le}function m(i){const e=Ht(i);return e.he||(e.he=function C(i,e){if("F"===i.limitType)return vl(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(l=>new Za(l.field,"desc"===l.dir?"asc":"desc"));const n=i.endAt?new zi(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new zi(i.startAt.position,i.startAt.inclusive):null;return vl(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}(e,h(i))),e.he}function K(i,e){const n=i.filters.concat([e]);return new fa(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function oe(i,e,n){return new fa(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Fe(i,e){return Jl(m(i),m(e))&&i.limitType===e.limitType}function it(i){return`${Qa(m(i))}|lt:${i.limitType}`}function It(i){return`Query(target=${function(n){let s=n.path.canonicalString();return null!==n.collectionGroup&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(l=>Dc(l)).join(", ")}]`),Hl(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(l=>{return`${(f=l).field.canonicalString()} (${f.dir})`;var f}).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(l=>xa(l)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(l=>xa(l)).join(",")),`Target(${s})`}(m(i))}; limitType=${i.limitType})`}function Jt(i,e){return e.isFoundDocument()&&function(s,l){const c=l.key.path;return null!==s.collectionGroup?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):Ut.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(i,e)&&function(s,l){for(const c of h(s))if(!c.field.isKeyField()&&null===l.data.field(c.field))return!1;return!0}(i,e)&&function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0}(i,e)&&(l=e,!((s=i).startAt&&!function(f,D,M){const j=_l(f,D,M);return f.inclusive?j<=0:j<0}(s.startAt,h(s),l)||s.endAt&&!function(f,D,M){const j=_l(f,D,M);return f.inclusive?j>=0:j>0}(s.endAt,h(s),l)));var s,l}function pn(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function pr(i){return(e,n)=>{let s=!1;for(const l of h(i)){const c=ro(l,e,n);if(0!==c)return c;s=s||l.field.isKeyField()}return 0}}function ro(i,e,n){const s=i.field.isKeyField()?Ut.comparator(e.key,n.key):function(c,f,D){const M=f.data.field(c),j=D.data.field(c);return null!==M&&null!==j?Ro(M,j):Wt()}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Wt()}}class io{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(void 0!==s)for(const[l,c]of s)if(this.equalsFn(l,e))return c}has(e){return void 0!==this.get(e)}set(e,n){const s=this.mapKeyFn(e),l=this.inner[s];if(void 0===l)return this.inner[s]=[[e,n]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(void 0===s)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return 1===s.length?delete this.inner[n]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){So(this.inner,(n,s)=>{for(const[l,c]of s)e(l,c)})}isEmpty(){return ql(this.inner)}size(){return this.innerSize}}const Rc=new zr(Ut.comparator);function so(){return Rc}const eu=new zr(Ut.comparator);function zu(...i){let e=eu;for(const n of i)e=e.insert(n.key,n);return e}function Oh(i){let e=eu;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function mo(){return Gu()}function Nh(){return Gu()}function Gu(){return new io(i=>i.toString(),(i,e)=>i.isEqual(e))}const Lh=new zr(Ut.comparator),Fp=new Gr(Ut.comparator);function er(...i){let e=Fp;for(const n of i)e=e.add(n);return e}const Nd=new Gr(Cn);function tu(){return Nd}function Ld(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ga(e)?"-0":e}}function Vp(i){return{integerValue:""+i}}function Up(i,e){return Xo(e)?Vp(e):Ld(i,e)}class kd{constructor(){this._=void 0}}function Mc(i,e,n){return i instanceof Tl?function(l,c){const f={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&qa(c)&&(c=Kl(c)),c&&(f.fields.__previous_value__=c),{mapValue:f}}(n,e):i instanceof Ya?Fd(i,e):i instanceof Wu?u_(i,e):function(l,c){const f=Bp(l,c),D=Hp(f)+Hp(l.Ie);return Vu(f)&&Vu(l.Ie)?Vp(D):Ld(l.serializer,D)}(i,e)}function l_(i,e,n){return i instanceof Ya?Fd(i,e):i instanceof Wu?u_(i,e):n}function Bp(i,e){return i instanceof xc?Vu(s=e)||(c=s)&&"doubleValue"in c?e:{integerValue:0}:null;var s,c}class Tl extends kd{}class Ya extends kd{constructor(e){super(),this.elements=e}}function Fd(i,e){const n=kh(e);for(const s of i.elements)n.some(l=>Po(l,s))||n.push(s);return{arrayValue:{values:n}}}class Wu extends kd{constructor(e){super(),this.elements=e}}function u_(i,e){let n=kh(e);for(const s of i.elements)n=n.filter(l=>!Po(l,s));return{arrayValue:{values:n}}}class xc extends kd{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function Hp(i){return Pi(i.integerValue||i.doubleValue)}function kh(i){return Cc(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Vd{constructor(e,n){this.field=e,this.transform=n}}class vv{constructor(e,n){this.version=e,this.transformResults=n}}class Ri{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ri}static exists(e){return new Ri(void 0,e)}static updateTime(e){return new Ri(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fh(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class Vh{}function Mo(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new Nc(i.key,Ri.none()):new Ja(i.key,i.data,Ri.none());{const n=i.data,s=As.empty();let l=new Gr(_r.comparator);for(let c of e.fields)if(!l.has(c)){let f=n.field(c);null===f&&c.length>1&&(c=c.popLast(),f=n.field(c)),null===f?s.delete(c):s.set(c,f),l=l.add(c)}return new Xa(i.key,s,new to(l.toArray()),Ri.none())}}function jp(i,e,n){i instanceof Ja?function(l,c,f){const D=l.value.clone(),M=c_(l.fieldTransforms,c,f.transformResults);D.setAll(M),c.convertToFoundDocument(f.version,D).setHasCommittedMutations()}(i,e,n):i instanceof Xa?function(l,c,f){if(!Fh(l.precondition,c))return void c.convertToUnknownDocument(f.version);const D=c_(l.fieldTransforms,c,f.transformResults),M=c.data;M.setAll(zp(l)),M.setAll(D),c.convertToFoundDocument(f.version,M).setHasCommittedMutations()}(i,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Oc(i,e,n,s){return i instanceof Ja?function(c,f,D,M){if(!Fh(c.precondition,f))return D;const j=c.value.clone(),ee=Gp(c.fieldTransforms,M,f);return j.setAll(ee),f.convertToFoundDocument(f.version,j).setHasLocalMutations(),null}(i,e,n,s):i instanceof Xa?function(c,f,D,M){if(!Fh(c.precondition,f))return D;const j=Gp(c.fieldTransforms,M,f),ee=f.data;return ee.setAll(zp(c)),ee.setAll(j),f.convertToFoundDocument(f.version,ee).setHasLocalMutations(),null===D?null:D.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(pe=>pe.field))}(i,e,n,s):(D=n,Fh(i.precondition,f=e)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):D);var f,D}function $p(i,e){let n=null;for(const s of i.fieldTransforms){const l=e.data.field(s.field),c=Bp(s.transform,l||null);null!=c&&(null===n&&(n=As.empty()),n.set(s.field,c))}return n||null}function oo(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(l=e.fieldTransforms,!!(void 0===(s=i.fieldTransforms)&&void 0===l||s&&l&&ks(s,l,(c,f)=>function yv(i,e){return i.field.isEqual(e.field)&&(l=e.transform,(s=i.transform)instanceof Ya&&l instanceof Ya||s instanceof Wu&&l instanceof Wu?ks(s.elements,l.elements,Po):s instanceof xc&&l instanceof xc?Po(s.Ie,l.Ie):s instanceof Tl&&l instanceof Tl);var s,l}(c,f))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var s,l}class Ja extends Vh{constructor(e,n,s,l=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Xa extends Vh{constructor(e,n,s,l,c=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function zp(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function c_(i,e,n){const s=new Map;on(i.length===n.length);for(let l=0;l<n.length;l++){const c=i[l],f=c.transform,D=e.data.field(c.field);s.set(c.field,l_(f,D,n[l]))}return s}function Gp(i,e,n){const s=new Map;for(const l of i){const c=l.transform,f=n.data.field(l.field);s.set(l.field,Mc(c,f,e))}return s}class Nc extends Vh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Uh extends Vh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Wp{constructor(e,n,s,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&jp(c,e,s[l])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Oc(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Oc(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Nh();return this.mutations.forEach(l=>{const c=e.get(l.key),f=c.overlayedDocument;let D=this.applyToLocalView(f,c.mutatedFields);D=n.has(l.key)?null:D;const M=Mo(f,D);null!==M&&s.set(l.key,M),f.isValidDocument()||f.convertToNoDocument(cn.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),er())}isEqual(e){return this.batchId===e.batchId&&ks(this.mutations,e.mutations,(n,s)=>oo(n,s))&&ks(this.baseMutations,e.baseMutations,(n,s)=>oo(n,s))}}class Bh{constructor(e,n,s,l){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=l}static from(e,n,s){on(e.mutations.length===s.length);let l=Lh;const c=e.mutations;for(let f=0;f<c.length;f++)l=l.insert(c[f].key,s[f].version);return new Bh(e,n,s,l)}}class qp{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Kp{constructor(e,n){this.count=e,this.unchangedNames=n}}var ts,Mr;function Lc(i){switch(i){default:return Wt();case ot.CANCELLED:case ot.UNKNOWN:case ot.DEADLINE_EXCEEDED:case ot.RESOURCE_EXHAUSTED:case ot.INTERNAL:case ot.UNAVAILABLE:case ot.UNAUTHENTICATED:return!1;case ot.INVALID_ARGUMENT:case ot.NOT_FOUND:case ot.ALREADY_EXISTS:case ot.PERMISSION_DENIED:case ot.FAILED_PRECONDITION:case ot.ABORTED:case ot.OUT_OF_RANGE:case ot.UNIMPLEMENTED:case ot.DATA_LOSS:return!0}}function d_(i){if(void 0===i)return Jr("GRPC error has no .code"),ot.UNKNOWN;switch(i){case ts.OK:return ot.OK;case ts.CANCELLED:return ot.CANCELLED;case ts.UNKNOWN:return ot.UNKNOWN;case ts.DEADLINE_EXCEEDED:return ot.DEADLINE_EXCEEDED;case ts.RESOURCE_EXHAUSTED:return ot.RESOURCE_EXHAUSTED;case ts.INTERNAL:return ot.INTERNAL;case ts.UNAVAILABLE:return ot.UNAVAILABLE;case ts.UNAUTHENTICATED:return ot.UNAUTHENTICATED;case ts.INVALID_ARGUMENT:return ot.INVALID_ARGUMENT;case ts.NOT_FOUND:return ot.NOT_FOUND;case ts.ALREADY_EXISTS:return ot.ALREADY_EXISTS;case ts.PERMISSION_DENIED:return ot.PERMISSION_DENIED;case ts.FAILED_PRECONDITION:return ot.FAILED_PRECONDITION;case ts.ABORTED:return ot.ABORTED;case ts.OUT_OF_RANGE:return ot.OUT_OF_RANGE;case ts.UNIMPLEMENTED:return ot.UNIMPLEMENTED;case ts.DATA_LOSS:return ot.DATA_LOSS;default:return Wt()}}(Mr=ts||(ts={}))[Mr.OK=0]="OK",Mr[Mr.CANCELLED=1]="CANCELLED",Mr[Mr.UNKNOWN=2]="UNKNOWN",Mr[Mr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Mr[Mr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Mr[Mr.NOT_FOUND=5]="NOT_FOUND",Mr[Mr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Mr[Mr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Mr[Mr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Mr[Mr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Mr[Mr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Mr[Mr.ABORTED=10]="ABORTED",Mr[Mr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Mr[Mr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Mr[Mr.INTERNAL=13]="INTERNAL",Mr[Mr.UNAVAILABLE=14]="UNAVAILABLE",Mr[Mr.DATA_LOSS=15]="DATA_LOSS";function Zp(){return new TextEncoder}const h_=new ji([4294967295,4294967295],0);function Qp(i){const e=Zp().encode(i),n=new hr;return n.update(e),new Uint8Array(n.digest())}function qu(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new ji([n,s],0),new ji([l,c],0)]}class kc{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Fc(`Invalid padding: ${n}`);if(s<0)throw new Fc(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new Fc(`Invalid hash count: ${s}`);if(0===e.length&&0!==n)throw new Fc(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=ji.fromNumber(this.Te)}de(e,n,s){let l=e.add(n.multiply(ji.fromNumber(s)));return 1===l.compare(h_)&&(l=new ji([l.getBits(0),l.getBits(1)],0)),l.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const n=Qp(e),[s,l]=qu(n);for(let c=0;c<this.hashCount;c++){const f=this.de(s,l,c);if(!this.Ae(f))return!1}return!0}static create(e,n,s){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new kc(c,l,n);return s.forEach(D=>f.insert(D)),f}insert(e){if(0===this.Te)return;const n=Qp(e),[s,l]=qu(n);for(let c=0;c<this.hashCount;c++){const f=this.de(s,l,c);this.Re(f)}}Re(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class Fc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ku{constructor(e,n,s,l,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const l=new Map;return l.set(e,nu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Ku(cn.min(),l,new zr(Cn),so(),er())}}class nu{constructor(e,n,s,l,c){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new nu(s,n,er(),er(),er())}}class jh{constructor(e,n,s,l){this.Ve=e,this.removedTargetIds=n,this.key=s,this.me=l}}class f_{constructor(e,n){this.targetId=e,this.fe=n}}class p_{constructor(e,n,s=Bi.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=l}}class m_{constructor(){this.ge=0,this.pe=Yp(),this.ye=Bi.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=er(),n=er(),s=er();return this.pe.forEach((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:s=s.add(l);break;default:Wt()}}),new nu(this.ye,this.we,e,n,s)}Fe(){this.Se=!1,this.pe=Yp()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,on(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class Ev{constructor(e){this.Le=e,this.ke=new Map,this.qe=so(),this.Qe=g_(),this.Ke=new zr(Cn)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const s=this.ze(n);switch(e.state){case 0:this.je(n)&&s.Ce(e.resumeToken);break;case 1:s.Ne(),s.be||s.Fe(),s.Ce(e.resumeToken);break;case 2:s.Ne(),s.be||this.removeTarget(n);break;case 3:this.je(n)&&(s.Be(),s.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),s.Ce(e.resumeToken));break;default:Wt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((s,l)=>{this.je(l)&&n(l)})}Je(e){const n=e.targetId,s=e.fe.count,l=this.Ye(n);if(l){const c=l.target;if(Xl(c))if(0===s){const f=new Ut(c.path);this.We(n,f,hi.newNoDocument(f,cn.min()))}else on(1===s);else{const f=this.Ze(n);if(f!==s){const D=this.Xe(e),M=D?this.et(D,e,f):1;0!==M&&(this.He(n),this.Ke=this.Ke.insert(n,2===M?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=n;let f,D;try{f=Bo(s).toUint8Array()}catch(M){if(M instanceof ku)return Ui("Decoding the base64 bloom filter in existence filter failed ("+M.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw M}try{D=new kc(f,l,c)}catch(M){return Ui(M instanceof Fc?"BloomFilter error: ":"Applying bloom filter failed: ",M),null}return 0===D.Te?null:D}et(e,n,s){return n.fe.count===s-this.rt(e,n.targetId)?0:2}rt(e,n){const s=this.Le.getRemoteKeysForTarget(n);let l=0;return s.forEach(c=>{const f=this.Le.nt(),D=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;e.mightContain(D)||(this.We(n,c,null),l++)}),l}it(e){const n=new Map;this.ke.forEach((c,f)=>{const D=this.Ye(f);if(D){if(c.current&&Xl(D.target)){const M=new Ut(D.target.path);null!==this.qe.get(M)||this.st(f,M)||this.We(f,M,hi.newNoDocument(M,e))}c.De&&(n.set(f,c.ve()),c.Fe())}});let s=er();this.Qe.forEach((c,f)=>{let D=!0;f.forEachWhile(M=>{const j=this.Ye(M);return!j||"TargetPurposeLimboResolution"===j.purpose||(D=!1,!1)}),D&&(s=s.add(c))}),this.qe.forEach((c,f)=>f.setReadTime(e));const l=new Ku(e,n,this.Ke,this.qe,s);return this.qe=so(),this.Qe=g_(),this.Ke=new zr(Cn),l}Ue(e,n){if(!this.je(e))return;const s=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,s),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,s){if(!this.je(e))return;const l=this.ze(e);this.st(e,n)?l.Me(n,1):l.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),s&&(this.qe=this.qe.insert(n,s))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new m_,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Gr(Cn),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=null!==this.Ye(e);return n||mt("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new m_),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function g_(){return new zr(Ut.comparator)}function Yp(){return new zr(Ut.comparator)}const $h={asc:"ASCENDING",desc:"DESCENDING"},Jp={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Xp={and:"AND",or:"OR"};class Tv{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function em(i,e){return i.useProto3Json||Hl(e)?e:{value:e}}function ru(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tm(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function Zu(i,e){return ru(i,e.toTimestamp())}function ns(i){return on(!!i),cn.fromTimestamp(function(n){const s=Wa(n);return new Xr(s.seconds,s.nanos)}(i))}function zh(i,e){return nm(i,e).canonicalString()}function nm(i,e){const n=(l=i,new or(["projects",l.projectId,"databases",l.database])).child("documents");var l;return void 0===e?n:n.child(e)}function wv(i){const e=or.fromString(i);return on(w_(e)),e}function iu(i,e){return zh(i.databaseId,e.path)}function el(i,e){const n=wv(e);if(n.get(1)!==i.databaseId.projectId)throw new _t(ot.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new _t(ot.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Ut(Wh(n))}function rm(i,e){return zh(i.databaseId,e)}function im(i){const e=wv(i);return 4===e.length?or.emptyPath():Wh(e)}function Gh(i){return new or(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Wh(i){return on(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function sm(i,e,n){return{name:iu(i,e),fields:n.value.mapValue.fields}}function Ud(i,e,n){const s=el(i,e.name),l=ns(e.updateTime),c=e.createTime?ns(e.createTime):cn.min(),f=new As({mapValue:{fields:e.fields}}),D=hi.newFoundDocument(s,l,c,f);return n&&D.setHasCommittedMutations(),n?D.setHasCommittedMutations():D}function Qu(i,e){let n;if(e instanceof Ja)n={update:sm(i,e.key,e.value)};else if(e instanceof Nc)n={delete:iu(i,e.key)};else if(e instanceof Xa)n={update:sm(i,e.key,e.data),updateMask:Uc(e.fieldMask)};else{if(!(e instanceof Uh))return Wt();n={verify:iu(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(c,f){const D=f.transform;if(D instanceof Tl)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(D instanceof Ya)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:D.elements}};if(D instanceof Wu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:D.elements}};if(D instanceof xc)return{fieldPath:f.field.canonicalString(),increment:D.Ie};throw Wt()}(0,s))),e.precondition.isNone||(n.currentDocument=void 0!==(c=e.precondition).updateTime?{updateTime:Zu(i,c.updateTime)}:void 0!==c.exists?{exists:c.exists}:Wt()),n;var c}function Vc(i,e){const n=e.currentDocument?void 0!==(c=e.currentDocument).updateTime?Ri.updateTime(ns(c.updateTime)):void 0!==c.exists?Ri.exists(c.exists):Ri.none():Ri.none(),s=e.updateTransforms?e.updateTransforms.map(l=>function(f,D){let M=null;"setToServerValue"in D?(on("REQUEST_TIME"===D.setToServerValue),M=new Tl):"appendMissingElements"in D?M=new Ya(D.appendMissingElements.values||[]):"removeAllFromArray"in D?M=new Wu(D.removeAllFromArray.values||[]):"increment"in D?M=new xc(f,D.increment):Wt();const j=_r.fromServerFormat(D.fieldPath);return new Vd(j,M)}(i,l)):[];var c;if(e.update){const l=el(i,e.update.name),c=new As({mapValue:{fields:e.update.fields}});if(e.updateMask){const f=new to((e.updateMask.fieldPaths||[]).map(ee=>_r.fromServerFormat(ee)));return new Xa(l,c,f,n,s)}return new Ja(l,c,n,s)}if(e.delete){const l=el(i,e.delete);return new Nc(l,n)}if(e.verify){const l=el(i,e.verify);return new Uh(l,n)}return Wt()}function qh(i,e){return{documents:[rm(i,e.path)]}}function Yu(i,e){const n={structuredQuery:{}},s=e.path;let l;null!==e.collectionGroup?(l=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=rm(i,l);const c=function(j){if(0!==j.length)return Kh(Wr.create(j,"and"))}(e.filters);c&&(n.structuredQuery.where=c);const f=function(j){if(0!==j.length)return j.map(ee=>{return{field:wl((Ne=ee).field),direction:Cv(Ne.dir)};var Ne})}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const D=em(i,e.limit);return null!==D&&(n.structuredQuery.limit=D),e.startAt&&(n.structuredQuery.startAt={before:(j=e.startAt).inclusive,values:j.position}),e.endAt&&(n.structuredQuery.endAt=function(j){return{before:!j.inclusive,values:j.position}}(e.endAt)),{ut:n,parent:l};var j}function v_(i){let e=im(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let l=null;if(s>0){on(1===s);const ee=n.from[0];ee.allDescendants?l=ee.collectionId:e=e.child(ee.collectionId)}let c=[];n.where&&(c=function(pe){const Ne=E_(pe);return Ne instanceof Wr&&Hu(Ne)?Ne.getFilters():[Ne]}(n.where));let f=[];n.orderBy&&(f=n.orderBy.map(Ne=>{return new Za(Cl((Mt=Ne).field),function(Bt){switch(Bt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Mt.direction));var Mt}));let D=null;n.limit&&(D=function(pe){let Ne;return Ne="object"==typeof pe?pe.value:pe,Hl(Ne)?null:Ne}(n.limit));let M=null;var pe;n.startAt&&(M=new zi((pe=n.startAt).values||[],!!pe.before));let j=null;return n.endAt&&(j=function(pe){return new zi(pe.values||[],!pe.before)}(n.endAt)),El(e,l,f,c,D,"F",M,j)}function E_(i){return void 0!==i.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Cl(n.unaryFilter.field);return yr.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Cl(n.unaryFilter.field);return yr.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Cl(n.unaryFilter.field);return yr.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Cl(n.unaryFilter.field);return yr.create(f,"!=",{nullValue:"NULL_VALUE"});default:return Wt()}}(i):void 0!==i.fieldFilter?yr.create(Cl((n=i).fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Wt()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==i.compositeFilter?function(n){return Wr.create(n.compositeFilter.filters.map(s=>E_(s)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Wt()}}(n.compositeFilter.op))}(i):Wt();var n}function Cv(i){return $h[i]}function bv(i){return Jp[i]}function T_(i){return Xp[i]}function wl(i){return{fieldPath:i.canonicalString()}}function Cl(i){return _r.fromServerFormat(i.fieldPath)}function Kh(i){return i instanceof yr?function(n){if("=="===n.op){if(Dh(n.value))return{unaryFilter:{field:wl(n.field),op:"IS_NAN"}};if(xp(n.value))return{unaryFilter:{field:wl(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(Dh(n.value))return{unaryFilter:{field:wl(n.field),op:"IS_NOT_NAN"}};if(xp(n.value))return{unaryFilter:{field:wl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wl(n.field),op:bv(n.op),value:n.value}}}(i):i instanceof Wr?function(n){const s=n.getFilters().map(l=>Kh(l));return 1===s.length?s[0]:{compositeFilter:{op:T_(n.op),filters:s}}}(i):Wt()}function Uc(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function w_(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class bl{constructor(e,n,s,l,c=cn.min(),f=cn.min(),D=Bi.EMPTY_BYTE_STRING,M=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=D,this.expectedCount=M}withSequenceNumber(e){return new bl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new bl(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new bl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new bl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Dv{constructor(e){this.ct=e}}function Zh(i,e){const n=e.key,s={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Qh(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:iu(c=i.ct,(f=e).key),fields:f.data.value.mapValue.fields,updateTime:ru(c,f.version.toTimestamp()),createTime:ru(c,f.createTime.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:n.path.toArray(),readTime:pa(e.version)};else{if(!e.isUnknownDocument())return Wt();s.unknownDocument={path:n.path.toArray(),version:pa(e.version)}}var c,f;return s}function Qh(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function pa(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function tl(i){const e=new Xr(i.seconds,i.nanoseconds);return cn.fromTimestamp(e)}function Dl(i,e){const n=(e.baseMutations||[]).map(c=>Vc(i.ct,c));for(let c=0;c<e.mutations.length-1;++c)c+1<e.mutations.length&&void 0!==e.mutations[c+1].transform&&(e.mutations[c].updateTransforms=e.mutations[c+1].transform.fieldTransforms,e.mutations.splice(c+1,1),++c);const s=e.mutations.map(c=>Vc(i.ct,c)),l=Xr.fromMillis(e.localWriteTimeMs);return new Wp(e.batchId,l,n,s)}function Bc(i){const e=tl(i.readTime),n=void 0!==i.lastLimboFreeSnapshotVersion?tl(i.lastLimboFreeSnapshotVersion):cn.min();let s;return s=void 0!==i.query.documents?(on(1===(c=i.query).documents.length),m(Na(im(c.documents[0])))):function(c){return m(v_(c))}(i.query),new bl(s,i.targetId,"TargetPurposeListen",i.lastListenSequenceNumber,e,n,Bi.fromBase64String(i.resumeToken));var c}function om(i,e){const n=pa(e.snapshotVersion),s=pa(e.lastLimboFreeSnapshotVersion);let l;l=Xl(e.target)?qh(i.ct,e.target):Yu(i.ct,e.target).ut;const c=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Qa(e.target),readTime:n,resumeToken:c,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:l}}function Yh(i){const e=v_({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?oe(e,e.limit,"L"):e}function Jh(i,e){return new qp(e.largestBatchId,Vc(i.ct,e.overlayMutation))}function C_(i,e){const n=e.path.lastSegment();return[i,Us(e.path.popLast()),n]}function b_(i,e,n,s){return{indexId:i,uid:e,sequenceNumber:n,readTime:pa(s.readTime),documentKey:Us(s.documentKey.path),largestBatchId:s.largestBatchId}}class Sv{getBundleMetadata(e,n){return D_(e).get(n).next(s=>{if(s)return{id:(c=s).bundleId,createTime:tl(c.createTime),version:c.version};var c})}saveBundleMetadata(e,n){return D_(e).put({bundleId:(l=n).id,createTime:pa(ns(l.createTime)),version:l.version});var l}getNamedQuery(e,n){return A_(e).get(n).next(s=>{if(s)return{name:(c=s).name,query:Yh(c.bundledQuery),readTime:tl(c.readTime)};var c})}saveNamedQuery(e,n){return A_(e).put({name:(l=n).name,readTime:pa(ns(l.readTime)),bundledQuery:l.bundledQuery});var l}}function D_(i){return ri(i,"bundles")}function A_(i){return ri(i,"namedQueries")}class La{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){return new La(e,n.uid||"")}getOverlay(e,n){return Al(e).get(C_(this.userId,n)).next(s=>s?Jh(this.serializer,s):null)}getOverlays(e,n){const s=mo();return Y.forEach(n,l=>this.getOverlay(e,l).next(c=>{null!==c&&s.set(l,c)})).next(()=>s)}saveOverlays(e,n,s){const l=[];return s.forEach((c,f)=>{const D=new qp(n,f);l.push(this.ht(e,D))}),Y.waitFor(l)}removeOverlaysForBatchId(e,n,s){const l=new Set;n.forEach(f=>l.add(Us(f.getCollectionPath())));const c=[];return l.forEach(f=>{const D=IDBKeyRange.bound([this.userId,f,s],[this.userId,f,s+1],!1,!0);c.push(Al(e).H("collectionPathOverlayIndex",D))}),Y.waitFor(c)}getOverlaysForCollection(e,n,s){const l=mo(),c=Us(n),f=IDBKeyRange.bound([this.userId,c,s],[this.userId,c,Number.POSITIVE_INFINITY],!0);return Al(e).W("collectionPathOverlayIndex",f).next(D=>{for(const M of D){const j=Jh(this.serializer,M);l.set(j.getKey(),j)}return l})}getOverlaysForCollectionGroup(e,n,s,l){const c=mo();let f;const D=IDBKeyRange.bound([this.userId,n,s],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Al(e).Y({index:"collectionGroupOverlayIndex",range:D},(M,j,ee)=>{const pe=Jh(this.serializer,j);c.size()<l||pe.largestBatchId===f?(c.set(pe.getKey(),pe),f=pe.largestBatchId):ee.done()}).next(()=>c)}ht(e,n){return Al(e).put(function(l,c,f){const[D,M,j]=C_(c,f.mutation.key);return{userId:c,collectionPath:M,documentId:j,collectionGroup:f.mutation.key.getCollectionGroup(),largestBatchId:f.largestBatchId,overlayMutation:Qu(l.ct,f.mutation)}}(this.serializer,this.userId,n))}}function Al(i){return ri(i,"documentOverlays")}class Ju{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(Pi(e.integerValue));else if("doubleValue"in e){const s=Pi(e.doubleValue);isNaN(s)?this.Et(n,13):(this.Et(n,15),Ga(s)?n.dt(0):n.dt(s))}else if("timestampValue"in e){const s=e.timestampValue;this.Et(n,20),"string"==typeof s?n.At(s):(n.At(`${s.seconds||""}`),n.dt(s.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(Bo(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){const s=e.geoPointValue;this.Et(n,45),n.dt(s.latitude||0),n.dt(s.longitude||0)}else"mapValue"in e?Op(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):Wt()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){const s=e.fields||{};this.Et(n,55);for(const l of Object.keys(s))this.Rt(l,n),this.It(s[l],n)}wt(e,n){const s=e.values||[];this.Et(n,50);for(const l of s)this.It(l,n)}gt(e,n){this.Et(n,37),Ut.fromName(e).path.forEach(s=>{this.Et(n,60),this.St(s,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}}function RE(i){if(0===i)return 8;let e=0;return!(i>>4)&&(e+=4,i<<=4),!(i>>6)&&(e+=2,i<<=2),!(i>>7)&&(e+=1),e}function Pv(i){const e=64-function(s){let l=0;for(let c=0;c<8;++c){const f=RE(255&s[c]);if(l+=f,8!==f)break}return l}(i);return Math.ceil(e/8)}Ju.bt=new Ju;class ME{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const n=e[Symbol.iterator]();let s=n.next();for(;!s.done;)this.Ct(s.value),s=n.next();this.vt()}Ft(e){const n=e[Symbol.iterator]();let s=n.next();for(;!s.done;)this.Mt(s.value),s=n.next();this.xt()}Ot(e){for(const n of e){const s=n.charCodeAt(0);if(s<128)this.Ct(s);else if(s<2048)this.Ct(960|s>>>6),this.Ct(128|63&s);else if(n<"\ud800"||"\udbff"<n)this.Ct(480|s>>>12),this.Ct(128|63&s>>>6),this.Ct(128|63&s);else{const l=n.codePointAt(0);this.Ct(240|l>>>18),this.Ct(128|63&l>>>12),this.Ct(128|63&l>>>6),this.Ct(128|63&l)}}this.vt()}Nt(e){for(const n of e){const s=n.charCodeAt(0);if(s<128)this.Mt(s);else if(s<2048)this.Mt(960|s>>>6),this.Mt(128|63&s);else if(n<"\ud800"||"\udbff"<n)this.Mt(480|s>>>12),this.Mt(128|63&s>>>6),this.Mt(128|63&s);else{const l=n.codePointAt(0);this.Mt(240|l>>>18),this.Mt(128|63&l>>>12),this.Mt(128|63&l>>>6),this.Mt(128|63&l)}}this.xt()}Bt(e){const n=this.Lt(e),s=Pv(n);this.kt(1+s),this.buffer[this.position++]=255&s;for(let l=n.length-s;l<n.length;++l)this.buffer[this.position++]=255&n[l]}qt(e){const n=this.Lt(e),s=Pv(n);this.kt(1+s),this.buffer[this.position++]=~(255&s);for(let l=n.length-s;l<n.length;++l)this.buffer[this.position++]=~(255&n[l])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Lt(e){const n=function(c){const f=new DataView(new ArrayBuffer(8));return f.setFloat64(0,c,!1),new Uint8Array(f.buffer)}(e),s=0!=(128&n[0]);n[0]^=s?255:128;for(let l=1;l<n.length;++l)n[l]^=s?255:0;return n}Ct(e){const n=255&e;0===n?(this.Kt(0),this.Kt(255)):255===n?(this.Kt(255),this.Kt(0)):this.Kt(n)}Mt(e){const n=255&e;0===n?(this.Ut(0),this.Ut(255)):255===n?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const n=e+this.position;if(n<=this.buffer.length)return;let s=2*this.buffer.length;s<n&&(s=n);const l=new Uint8Array(s);l.set(this.buffer),this.buffer=l}}class xE{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Bt(e)}Tt(){this.Gt.Qt()}}class OE{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class Hc{constructor(){this.Gt=new ME,this.zt=new xE(this.Gt),this.jt=new OE(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return 0===e?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class Xu{constructor(e,n,s,l){this.indexId=e,this.documentKey=n,this.arrayValue=s,this.directionalValue=l}Jt(){const e=this.directionalValue.length,n=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(n);return s.set(this.directionalValue,0),n!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new Xu(this.indexId,this.documentKey,this.arrayValue,s)}}function su(i,e){let n=i.indexId-e.indexId;return 0!==n?n:(n=S_(i.arrayValue,e.arrayValue),0!==n?n:(n=S_(i.directionalValue,e.directionalValue),0!==n?n:Ut.comparator(i.documentKey,e.documentKey)))}function S_(i,e){for(let n=0;n<i.length&&n<e.length;++n){const s=i[n]-e[n];if(0!==s)return s}return i.length-e.length}class P_{constructor(e){this.Yt=new Gr((n,s)=>_r.comparator(n.field,s.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const n of e.filters){const s=n;s.isInequality()?this.Yt=this.Yt.add(s):this.Xt.push(s)}}get en(){return this.Yt.size>1}tn(e){if(on(e.collectionGroup===this.collectionId),this.en)return!1;const n=po(e);if(void 0!==n&&!this.nn(n))return!1;const s=Yo(e);let l=new Set,c=0,f=0;for(;c<s.length&&this.nn(s[c]);++c)l=l.add(s[c].fieldPath.canonicalString());if(c===s.length)return!0;if(this.Yt.size>0){const D=this.Yt.getIterator().getNext();if(!l.has(D.field.canonicalString())){const M=s[c];if(!this.rn(D,M)||!this.sn(this.Zt[f++],M))return!1}++c}for(;c<s.length;++c)if(f>=this.Zt.length||!this.sn(this.Zt[f++],s[c]))return!1;return!0}on(){if(this.en)return null;let e=new Gr(_r.comparator);const n=[];for(const s of this.Xt)if(!s.field.isKeyField())if("array-contains"===s.op||"array-contains-any"===s.op)n.push(new ca(s.field,2));else{if(e.has(s.field))continue;e=e.add(s.field),n.push(new ca(s.field,0))}for(const s of this.Zt)s.field.isKeyField()||e.has(s.field)||(e=e.add(s.field),n.push(new ca(s.field,"asc"===s.dir?0:1)));return new Fs(Fs.UNKNOWN_ID,this.collectionId,n,Jo.empty())}nn(e){for(const n of this.Xt)if(this.rn(n,e))return!0;return!1}rn(e,n){return!(void 0===e||!e.field.isEqual(n.fieldPath))&&2===n.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,n){return!!e.field.isEqual(n.fieldPath)&&(0===n.kind&&"asc"===e.dir||1===n.kind&&"desc"===e.dir)}}function Xh(i){var e,n;if(on(i instanceof yr||i instanceof Wr),i instanceof yr){if(i instanceof Sc){const l=(null===(n=null===(e=i.value.arrayValue)||void 0===e?void 0:e.values)||void 0===n?void 0:n.map(c=>yr.create(i.field,"==",c)))||[];return Wr.create(l,"or")}return i}const s=i.filters.map(l=>Xh(l));return Wr.create(s,i.op)}function Sl(i){if(0===i.getFilters().length)return[];const e=tf(Xh(i));return on(am(e)),ec(e)||ef(e)?[e]:e.getFilters()}function ec(i){return i instanceof yr}function ef(i){return i instanceof Wr&&Hu(i)}function am(i){return ec(i)||ef(i)||function(n){if(n instanceof Wr&&no(n)){for(const s of n.getFilters())if(!ec(s)&&!ef(s))return!1;return!0}return!1}(i)}function tf(i){if(on(i instanceof yr||i instanceof Wr),i instanceof yr)return i;if(1===i.filters.length)return tf(i.filters[0]);const e=i.filters.map(s=>tf(s));let n=Wr.create(e,i.op);return n=lm(n),am(n)?n:(on(n instanceof Wr),on(Bu(n)),on(n.filters.length>1),n.filters.reduce((s,l)=>R_(s,l)))}function R_(i,e){let n;return on(i instanceof yr||i instanceof Wr),on(e instanceof yr||e instanceof Wr),n=i instanceof yr?e instanceof yr?Wr.create([i,e],"and"):Rv(i,e):e instanceof yr?Rv(e,i):function(l,c){if(on(l.filters.length>0&&c.filters.length>0),Bu(l)&&Bu(c))return Ph(l,c.getFilters());const f=no(l)?l:c,D=no(l)?c:l,M=f.filters.map(j=>R_(j,D));return Wr.create(M,"or")}(i,e),lm(n)}function Rv(i,e){if(Bu(e))return Ph(e,i.getFilters());{const n=e.filters.map(s=>R_(i,s));return Wr.create(n,"or")}}function lm(i){if(on(i instanceof yr||i instanceof Wr),i instanceof yr)return i;const e=i.getFilters();if(1===e.length)return lm(e[0]);if(yl(i))return i;const n=e.map(l=>lm(l)),s=[];return n.forEach(l=>{l instanceof yr?s.push(l):l instanceof Wr&&(l.op===i.op?s.push(...l.filters):s.push(l))}),1===s.length?s[0]:Wr.create(s,i.op)}class um{constructor(){this._n=new Hd}addToCollectionParentIndex(e,n){return this._n.add(n),Y.resolve()}getCollectionParents(e,n){return Y.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return Y.resolve()}deleteFieldIndex(e,n){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,n){return Y.resolve()}getDocumentsMatchingTarget(e,n){return Y.resolve(null)}getIndexType(e,n){return Y.resolve(0)}getFieldIndexes(e,n){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,n){return Y.resolve(T.min())}getMinOffsetFromCollectionGroup(e,n){return Y.resolve(T.min())}updateCollectionGroup(e,n,s){return Y.resolve()}updateIndexEntries(e,n){return Y.resolve()}}class Hd{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),l=this.index[n]||new Gr(or.comparator),c=!l.has(s);return this.index[n]=l.add(s),c}has(e){const n=e.lastSegment(),s=e.popLast(),l=this.index[n];return l&&l.has(s)}getEntries(e){return(this.index[e]||new Gr(or.comparator)).toArray()}}const cm=new Uint8Array(0);class NE{constructor(e,n){this.databaseId=n,this.an=new Hd,this.un=new io(s=>Qa(s),(s,l)=>Jl(s,l)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.an.has(n)){const s=n.lastSegment(),l=n.popLast();e.addOnCommittedListener(()=>{this.an.add(n)});const c={collectionId:s,parent:Us(l)};return dm(e).put(c)}return Y.resolve()}getCollectionParents(e,n){const s=[],l=IDBKeyRange.bound([n,""],[Aa(n),""],!1,!0);return dm(e).W(l).next(c=>{for(const f of c){if(f.collectionId!==n)break;s.push(eo(f.parent))}return s})}addFieldIndex(e,n){const s=jd(e),l={indexId:(D=n).indexId,collectionGroup:D.collectionGroup,fields:D.fields.map(M=>[M.fieldPath.canonicalString(),M.kind])};var D;delete l.indexId;const c=s.add(l);if(n.indexState){const f=$c(e);return c.next(D=>{f.put(b_(D,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return c.next()}deleteFieldIndex(e,n){const s=jd(e),l=$c(e),c=jc(e);return s.delete(n.indexId).next(()=>l.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>c.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=jd(e),s=jc(e),l=$c(e);return n.H().next(()=>s.H()).next(()=>l.H())}createTargetIndexes(e,n){return Y.forEach(this.cn(n),s=>this.getIndexType(e,s).next(l=>{if(0===l||1===l){const c=new P_(s).on();if(null!=c)return this.addFieldIndex(e,c)}}))}getDocumentsMatchingTarget(e,n){const s=jc(e);let l=!0;const c=new Map;return Y.forEach(this.cn(n),f=>this.ln(e,f).next(D=>{l&&(l=!!D),c.set(f,D)})).next(()=>{if(l){let f=er();const D=[];return Y.forEach(c,(M,j)=>{var mn;mt("IndexedDbIndexManager",`Using index ${mn=M,`id=${mn.indexId}|cg=${mn.collectionGroup}|f=${mn.fields.map(qn=>`${qn.fieldPath}:${qn.kind}`).join(",")}`} to execute ${Qa(n)}`);const ee=function(mn,qn){const xr=po(qn);if(void 0===xr)return null;for(const Ur of Il(mn,xr.fieldPath))switch(Ur.op){case"array-contains-any":return Ur.value.arrayValue.values||[];case"array-contains":return[Ur.value]}return null}(j,M),pe=function(mn,qn){const xr=new Map;for(const Ur of Yo(qn))for(const is of Il(mn,Ur.fieldPath))switch(is.op){case"==":case"in":xr.set(Ur.fieldPath.canonicalString(),is.value);break;case"not-in":case"!=":return xr.set(Ur.fieldPath.canonicalString(),is.value),Array.from(xr.values())}return null}(j,M),Ne=function(mn,qn){const xr=[];let Ur=!0;for(const is of Yo(qn)){const ra=0===is.kind?Od(mn,is.fieldPath,mn.startAt):Mh(mn,is.fieldPath,mn.startAt);xr.push(ra.value),Ur&&(Ur=ra.inclusive)}return new zi(xr,Ur)}(j,M),Xe=function(mn,qn){const xr=[];let Ur=!0;for(const is of Yo(qn)){const ra=0===is.kind?Mh(mn,is.fieldPath,mn.endAt):Od(mn,is.fieldPath,mn.endAt);xr.push(ra.value),Ur&&(Ur=ra.inclusive)}return new zi(xr,Ur)}(j,M),Mt=this.hn(M,j,Ne),$t=this.hn(M,j,Xe),Bt=this.Pn(M,j,pe),yn=this.In(M.indexId,ee,Mt,Ne.inclusive,$t,Xe.inclusive,Bt);return Y.forEach(yn,Wn=>s.j(Wn,n.limit).next(mn=>{mn.forEach(qn=>{const xr=Ut.fromSegments(qn.documentKey);f.has(xr)||(f=f.add(xr),D.push(xr))})}))}).next(()=>D)}return Y.resolve(null)})}cn(e){let n=this.un.get(e);return n||(n=0===e.filters.length?[e]:Sl(Wr.create(e.filters,"and")).map(s=>vl(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,n),n)}In(e,n,s,l,c,f,D){const M=(null!=n?n.length:1)*Math.max(s.length,c.length),j=M/(null!=n?n.length:1),ee=[];for(let pe=0;pe<M;++pe){const Ne=n?this.Tn(n[pe/j]):cm,Xe=this.En(e,Ne,s[pe%j],l),Mt=this.dn(e,Ne,c[pe%j],f),$t=D.map(Bt=>this.En(e,Ne,Bt,!0));ee.push(...this.createRange(Xe,Mt,$t))}return ee}En(e,n,s,l){const c=new Xu(e,Ut.empty(),n,s);return l?c:c.Jt()}dn(e,n,s,l){const c=new Xu(e,Ut.empty(),n,s);return l?c.Jt():c}ln(e,n){const s=new P_(n),l=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,l).next(c=>{let f=null;for(const D of c)s.tn(D)&&(!f||D.fields.length>f.fields.length)&&(f=D);return f})}getIndexType(e,n){let s=2;const l=this.cn(n);return Y.forEach(l,c=>this.ln(e,c).next(f=>{f?0!==s&&f.fields.length<function(M){let j=new Gr(_r.comparator),ee=!1;for(const pe of M.filters)for(const Ne of pe.getFlattenedFilters())Ne.field.isKeyField()||("array-contains"===Ne.op||"array-contains-any"===Ne.op?ee=!0:j=j.add(Ne.field));for(const pe of M.orderBy)pe.field.isKeyField()||(j=j.add(pe.field));return j.size+(ee?1:0)}(c)&&(s=1):s=0})).next(()=>null!==n.limit&&l.length>1&&2===s?1:s)}An(e,n){const s=new Hc;for(const l of Yo(e)){const c=n.data.field(l.fieldPath);if(null==c)return null;const f=s.Ht(l.kind);Ju.bt.Pt(c,f)}return s.Wt()}Tn(e){const n=new Hc;return Ju.bt.Pt(e,n.Ht(0)),n.Wt()}Rn(e,n){const s=new Hc;return Ju.bt.Pt(Zl(this.databaseId,n),s.Ht(function(c){const f=Yo(c);return 0===f.length?0:f[f.length-1].kind}(e))),s.Wt()}Pn(e,n,s){if(null===s)return[];let l=[];l.push(new Hc);let c=0;for(const f of Yo(e)){const D=s[c++];for(const M of l)if(this.Vn(n,f.fieldPath)&&Cc(D))l=this.mn(l,f,D);else{const j=M.Ht(f.kind);Ju.bt.Pt(D,j)}}return this.fn(l)}hn(e,n,s){return this.Pn(e,n,s.position)}fn(e){const n=[];for(let s=0;s<e.length;++s)n[s]=e[s].Wt();return n}mn(e,n,s){const l=[...e],c=[];for(const f of s.arrayValue.values||[])for(const D of l){const M=new Hc;M.seed(D.Wt()),Ju.bt.Pt(f,M.Ht(n.kind)),c.push(M)}return c}Vn(e,n){return!!e.filters.find(s=>s instanceof yr&&s.field.isEqual(n)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,n){const s=jd(e),l=$c(e);return(n?s.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):s.W()).next(c=>{const f=[];return Y.forEach(c,D=>l.get([D.indexId,this.uid]).next(M=>{f.push(function(ee,pe){const Ne=pe?new Jo(pe.sequenceNumber,new T(tl(pe.readTime),new Ut(eo(pe.documentKey)),pe.largestBatchId)):Jo.empty(),Xe=ee.fields.map(([Mt,$t])=>new ca(_r.fromServerFormat(Mt),$t));return new Fs(ee.indexId,ee.collectionGroup,Xe,Ne)}(D,M))})).next(()=>f)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>0===n.length?null:(n.sort((s,l)=>{const c=s.indexState.sequenceNumber-l.indexState.sequenceNumber;return 0!==c?c:Cn(s.collectionGroup,l.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,s){const l=jd(e),c=$c(e);return this.gn(e).next(f=>l.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(D=>Y.forEach(D,M=>c.put(b_(M.indexId,this.uid,f,s)))))}updateIndexEntries(e,n){const s=new Map;return Y.forEach(n,(l,c)=>{const f=s.get(l.collectionGroup);return(f?Y.resolve(f):this.getFieldIndexes(e,l.collectionGroup)).next(D=>(s.set(l.collectionGroup,D),Y.forEach(D,M=>this.pn(e,l,M).next(j=>{const ee=this.yn(c,M);return j.isEqual(ee)?Y.resolve():this.wn(e,c,M,j,ee)}))))})}Sn(e,n,s,l){return jc(e).put({indexId:l.indexId,uid:this.uid,arrayValue:l.arrayValue,directionalValue:l.directionalValue,orderedDocumentKey:this.Rn(s,n.key),documentKey:n.key.path.toArray()})}bn(e,n,s,l){return jc(e).delete([l.indexId,this.uid,l.arrayValue,l.directionalValue,this.Rn(s,n.key),n.key.path.toArray()])}pn(e,n,s){const l=jc(e);let c=new Gr(su);return l.Y({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.Rn(s,n)])},(f,D)=>{c=c.add(new Xu(s.indexId,n,D.arrayValue,D.directionalValue))}).next(()=>c)}yn(e,n){let s=new Gr(su);const l=this.An(n,e);if(null==l)return s;const c=po(n);if(null!=c){const f=e.data.field(c.fieldPath);if(Cc(f))for(const D of f.arrayValue.values||[])s=s.add(new Xu(n.indexId,e.key,this.Tn(D),l))}else s=s.add(new Xu(n.indexId,e.key,cm,l));return s}wn(e,n,s,l,c){mt("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const f=[];return function(M,j,ee,pe,Ne){const Xe=M.getIterator(),Mt=j.getIterator();let $t=ml(Xe),Bt=ml(Mt);for(;$t||Bt;){let yn=!1,Wn=!1;if($t&&Bt){const mn=ee($t,Bt);mn<0?Wn=!0:mn>0&&(yn=!0)}else null!=$t?Wn=!0:yn=!0;yn?(pe(Bt),Bt=ml(Mt)):Wn?(Ne($t),$t=ml(Xe)):($t=ml(Xe),Bt=ml(Mt))}}(l,c,su,D=>{f.push(this.Sn(e,n,s,D))},D=>{f.push(this.bn(e,n,s,D))}),Y.waitFor(f)}gn(e){let n=1;return $c(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,l,c)=>{c.done(),n=l.sequenceNumber+1}).next(()=>n)}createRange(e,n,s){s=s.sort((f,D)=>su(f,D)).filter((f,D,M)=>!D||0!==su(f,M[D-1]));const l=[];l.push(e);for(const f of s){const D=su(f,e),M=su(f,n);if(0===D)l[0]=e.Jt();else if(D>0&&M<0)l.push(f),l.push(f.Jt());else if(M>0)break}l.push(n);const c=[];for(let f=0;f<l.length;f+=2){if(this.Dn(l[f],l[f+1]))return[];c.push(IDBKeyRange.bound([l[f].indexId,this.uid,l[f].arrayValue,l[f].directionalValue,cm,[]],[l[f+1].indexId,this.uid,l[f+1].arrayValue,l[f+1].directionalValue,cm,[]]))}return c}Dn(e,n){return su(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(M_)}getMinOffset(e,n){return Y.mapArray(this.cn(n),s=>this.ln(e,s).next(l=>l||Wt())).next(M_)}}function dm(i){return ri(i,"collectionParents")}function jc(i){return ri(i,"indexEntries")}function jd(i){return ri(i,"indexConfiguration")}function $c(i){return ri(i,"indexState")}function M_(i){on(0!==i.length);let e=i[0].indexState.offset,n=e.largestBatchId;for(let s=1;s<i.length;s++){const l=i[s].indexState.offset;P(l,e)<0&&(e=l),n<l.largestBatchId&&(n=l.largestBatchId)}return new T(e.readTime,e.documentKey,n)}const hm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ss{constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new Ss(e,Ss.DEFAULT_COLLECTION_PERCENTILE,Ss.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function x_(i,e,n){const s=i.store("mutations"),l=i.store("documentMutations"),c=[],f=IDBKeyRange.only(n.batchId);let D=0;const M=s.Y({range:f},(ee,pe,Ne)=>(D++,Ne.delete()));c.push(M.next(()=>{on(1===D)}));const j=[];for(const ee of n.mutations){const pe=$l(e,ee.key.path,n.batchId);c.push(l.delete(pe)),j.push(ee.key)}return Y.waitFor(c).next(()=>j)}function zc(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw Wt();e=i.noDocument}return JSON.stringify(e).length}Ss.DEFAULT_COLLECTION_PERCENTILE=10,Ss.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ss.DEFAULT=new Ss(41943040,Ss.DEFAULT_COLLECTION_PERCENTILE,Ss.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ss.DISABLED=new Ss(-1,0,0);class nf{constructor(e,n,s,l){this.userId=e,this.serializer=n,this.indexManager=s,this.referenceDelegate=l,this.Cn={}}static lt(e,n,s,l){on(""!==e.uid);const c=e.isAuthenticated()?e.uid:"";return new nf(c,n,s,l)}checkEmpty(e){let n=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ou(e).Y({index:"userMutationsIndex",range:s},(l,c,f)=>{n=!1,f.done()}).next(()=>n)}addMutationBatch(e,n,s,l){const c=Gc(e),f=ou(e);return f.add({}).next(D=>{on("number"==typeof D);const M=new Wp(D,n,s,l),j=function(Xe,Mt,$t){const Bt=$t.baseMutations.map(Wn=>Qu(Xe.ct,Wn)),yn=$t.mutations.map(Wn=>Qu(Xe.ct,Wn));return{userId:Mt,batchId:$t.batchId,localWriteTimeMs:$t.localWriteTime.toMillis(),baseMutations:Bt,mutations:yn}}(this.serializer,this.userId,M),ee=[];let pe=new Gr((Ne,Xe)=>Cn(Ne.canonicalString(),Xe.canonicalString()));for(const Ne of l){const Xe=$l(this.userId,Ne.key.path,D);pe=pe.add(Ne.key.path.popLast()),ee.push(f.put(j)),ee.push(c.put(Xe,Cd))}return pe.forEach(Ne=>{ee.push(this.indexManager.addToCollectionParentIndex(e,Ne))}),e.addOnCommittedListener(()=>{this.Cn[D]=M.keys()}),Y.waitFor(ee).next(()=>M)})}lookupMutationBatch(e,n){return ou(e).get(n).next(s=>s?(on(s.userId===this.userId),Dl(this.serializer,s)):null)}vn(e,n){return this.Cn[n]?Y.resolve(this.Cn[n]):this.lookupMutationBatch(e,n).next(s=>{if(s){const l=s.keys();return this.Cn[n]=l,l}return null})}getNextMutationBatchAfterBatchId(e,n){const s=n+1,l=IDBKeyRange.lowerBound([this.userId,s]);let c=null;return ou(e).Y({index:"userMutationsIndex",range:l},(f,D,M)=>{D.userId===this.userId&&(on(D.batchId>=s),c=Dl(this.serializer,D)),M.done()}).next(()=>c)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return ou(e).Y({index:"userMutationsIndex",range:n,reverse:!0},(l,c,f)=>{s=c.batchId,f.done()}).next(()=>s)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ou(e).W("userMutationsIndex",n).next(s=>s.map(l=>Dl(this.serializer,l)))}getAllMutationBatchesAffectingDocumentKey(e,n){const s=dl(this.userId,n.path),l=IDBKeyRange.lowerBound(s),c=[];return Gc(e).Y({range:l},(f,D,M)=>{const[j,ee,pe]=f,Ne=eo(ee);if(j===this.userId&&n.path.isEqual(Ne))return ou(e).get(pe).next(Xe=>{if(!Xe)throw Wt();on(Xe.userId===this.userId),c.push(Dl(this.serializer,Xe))});M.done()}).next(()=>c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Gr(Cn);const l=[];return n.forEach(c=>{const f=dl(this.userId,c.path),D=IDBKeyRange.lowerBound(f),M=Gc(e).Y({range:D},(j,ee,pe)=>{const[Ne,Xe,Mt]=j,$t=eo(Xe);Ne===this.userId&&c.path.isEqual($t)?s=s.add(Mt):pe.done()});l.push(M)}),Y.waitFor(l).next(()=>this.Fn(e,s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,l=s.length+1,c=dl(this.userId,s),f=IDBKeyRange.lowerBound(c);let D=new Gr(Cn);return Gc(e).Y({range:f},(M,j,ee)=>{const[pe,Ne,Xe]=M,Mt=eo(Ne);pe===this.userId&&s.isPrefixOf(Mt)?Mt.length===l&&(D=D.add(Xe)):ee.done()}).next(()=>this.Fn(e,D))}Fn(e,n){const s=[],l=[];return n.forEach(c=>{l.push(ou(e).get(c).next(f=>{if(null===f)throw Wt();on(f.userId===this.userId),s.push(Dl(this.serializer,f))}))}),Y.waitFor(l).next(()=>s)}removeMutationBatch(e,n){return x_(e.ae,this.userId,n).next(s=>(e.addOnCommittedListener(()=>{this.Mn(n.batchId)}),Y.forEach(s,l=>this.referenceDelegate.markPotentiallyOrphaned(e,l))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return Y.resolve();const s=IDBKeyRange.lowerBound([this.userId]),l=[];return Gc(e).Y({range:s},(c,f,D)=>{if(c[0]===this.userId){const M=eo(c[1]);l.push(M)}else D.done()}).next(()=>{on(0===l.length)})})}containsKey(e,n){return tc(e,this.userId,n)}xn(e){return rf(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function tc(i,e,n){const s=dl(e,n.path),l=s[1],c=IDBKeyRange.lowerBound(s);let f=!1;return Gc(i).Y({range:c,J:!0},(D,M,j)=>{const[ee,pe,Ne]=D;ee===e&&pe===l&&(f=!0),j.done()}).next(()=>f)}function ou(i){return ri(i,"mutations")}function Gc(i){return ri(i,"documentMutations")}function rf(i){return ri(i,"mutationQueues")}class au{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new au(0)}static Bn(){return new au(-1)}}class Mv{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Ln(e).next(n=>{const s=new au(n.highestTargetId);return n.highestTargetId=s.next(),this.kn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Ln(e).next(n=>cn.fromTimestamp(new Xr(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Ln(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,s){return this.Ln(e).next(l=>(l.highestListenSequenceNumber=n,s&&(l.lastRemoteSnapshotVersion=s.toTimestamp()),n>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=n),this.kn(e,l)))}addTargetData(e,n){return this.qn(e,n).next(()=>this.Ln(e).next(s=>(s.targetCount+=1,this.Qn(n,s),this.kn(e,s))))}updateTargetData(e,n){return this.qn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Wc(e).delete(n.targetId)).next(()=>this.Ln(e)).next(s=>(on(s.targetCount>0),s.targetCount-=1,this.kn(e,s)))}removeTargets(e,n,s){let l=0;const c=[];return Wc(e).Y((f,D)=>{const M=Bc(D);M.sequenceNumber<=n&&null===s.get(M.targetId)&&(l++,c.push(this.removeTargetData(e,M)))}).next(()=>Y.waitFor(c)).next(()=>l)}forEachTarget(e,n){return Wc(e).Y((s,l)=>{const c=Bc(l);n(c)})}Ln(e){return O_(e).get("targetGlobalKey").next(n=>(on(null!==n),n))}kn(e,n){return O_(e).put("targetGlobalKey",n)}qn(e,n){return Wc(e).put(om(this.serializer,n))}Qn(e,n){let s=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,s=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.Ln(e).next(n=>n.targetCount)}getTargetData(e,n){const s=Qa(n),l=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let c=null;return Wc(e).Y({range:l,index:"queryTargetsIndex"},(f,D,M)=>{const j=Bc(D);Jl(n,j.target)&&(c=j,M.done())}).next(()=>c)}addMatchingKeys(e,n,s){const l=[],c=lu(e);return n.forEach(f=>{const D=Us(f.path);l.push(c.put({targetId:s,path:D})),l.push(this.referenceDelegate.addReference(e,s,f))}),Y.waitFor(l)}removeMatchingKeys(e,n,s){const l=lu(e);return Y.forEach(n,c=>{const f=Us(c.path);return Y.waitFor([l.delete([s,f]),this.referenceDelegate.removeReference(e,s,c)])})}removeMatchingKeysForTargetId(e,n){const s=lu(e),l=IDBKeyRange.bound([n],[n+1],!1,!0);return s.delete(l)}getMatchingKeysForTargetId(e,n){const s=IDBKeyRange.bound([n],[n+1],!1,!0),l=lu(e);let c=er();return l.Y({range:s,J:!0},(f,D,M)=>{const j=eo(f[1]),ee=new Ut(j);c=c.add(ee)}).next(()=>c)}containsKey(e,n){const s=Us(n.path),l=IDBKeyRange.bound([s],[Aa(s)],!1,!0);let c=0;return lu(e).Y({index:"documentTargetsIndex",J:!0,range:l},([f,D],M,j)=>{0!==f&&(c++,j.done())}).next(()=>c>0)}_t(e,n){return Wc(e).get(n).next(s=>s?Bc(s):null)}}function Wc(i){return ri(i,"targets")}function O_(i){return ri(i,"targetGlobal")}function lu(i){return ri(i,"targetDocuments")}function fm([i,e],[n,s]){const l=Cn(i,n);return 0===l?Cn(e,s):l}class LE{constructor(e){this.Kn=e,this.buffer=new Gr(fm),this.$n=0}Un(){return++this.$n}Wn(e){const n=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();fm(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class xv{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(e){var n=this;mt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,he.Z)(function*(){n.Gn=null;try{yield n.localStore.collectGarbage(n.garbageCollector)}catch(s){Vn(s)?mt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield B(s)}yield n.zn(3e5)}))}}class $d{constructor(e,n){this.jn=e,this.params=n}calculateTargetCount(e,n){return this.jn.Hn(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(0===n)return Y.resolve(Vs._e);const s=new LE(n);return this.jn.forEachTarget(e,l=>s.Wn(l.sequenceNumber)).next(()=>this.jn.Jn(e,l=>s.Wn(l))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.jn.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.jn.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?(mt("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(hm)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(mt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),hm):this.Yn(e,n))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,n){let s,l,c,f,D,M,j;const ee=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(pe=>(pe>this.params.maximumSequenceNumbersToCollect?(mt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${pe}`),l=this.params.maximumSequenceNumbersToCollect):l=pe,f=Date.now(),this.nthSequenceNumber(e,l))).next(pe=>(s=pe,D=Date.now(),this.removeTargets(e,s,n))).next(pe=>(c=pe,M=Date.now(),this.removeOrphanedDocuments(e,s))).next(pe=>(j=Date.now(),ai()<=Te.in.DEBUG&&mt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${f-ee}ms\n\tDetermined least recently used ${l} in `+(D-f)+`ms\n\tRemoved ${c} targets in `+(M-D)+`ms\n\tRemoved ${pe} documents in `+(j-M)+`ms\nTotal Duration: ${j-ee}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:pe})))}}class N_{constructor(e,n){this.db=e,this.garbageCollector=function qc(i,e){return new $d(i,e)}(this,n)}Hn(e){const n=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(s=>n.next(l=>s+l))}Zn(e){let n=0;return this.Jn(e,s=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Jn(e,n){return this.Xn(e,(s,l)=>n(l))}addReference(e,n,s){return zd(e,s)}removeReference(e,n,s){return zd(e,s)}removeTargets(e,n,s){return this.db.getTargetCache().removeTargets(e,n,s)}markPotentiallyOrphaned(e,n){return zd(e,n)}er(e,n){return function(l,c){let f=!1;return rf(l).Z(D=>tc(l,D,c).next(M=>(M&&(f=!0),Y.resolve(!M)))).next(()=>f)}(e,n)}removeOrphanedDocuments(e,n){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),l=[];let c=0;return this.Xn(e,(f,D)=>{if(D<=n){const M=this.er(e,f).next(j=>{if(!j)return c++,s.getEntry(e,f).next(()=>(s.removeEntry(f,cn.min()),lu(e).delete([0,Us(f.path)])))});l.push(M)}}).next(()=>Y.waitFor(l)).next(()=>s.apply(e)).next(()=>c)}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,n){return zd(e,n)}Xn(e,n){const s=lu(e);let l,c=Vs._e;return s.Y({index:"documentTargetsIndex"},([f,D],{path:M,sequenceNumber:j})=>{0===f?(c!==Vs._e&&n(new Ut(eo(l)),c),c=j,l=M):c=Vs._e}).next(()=>{c!==Vs._e&&n(new Ut(eo(l)),c)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function zd(i,e){return lu(i).put((l=i.currentSequenceNumber,{targetId:0,path:Us(e.path),sequenceNumber:l}));var l}class sf{constructor(){this.changes=new io(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,hi.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return void 0!==s?Y.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class pm{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,s){return nl(e).put(s)}removeEntry(e,n,s){return nl(e).delete(function(c,f){const D=c.path.toArray();return[D.slice(0,D.length-2),D[D.length-2],Qh(f),D[D.length-1]]}(n,s))}updateMetadata(e,n){return this.getMetadata(e).next(s=>(s.byteSize+=n,this.tr(e,s)))}getEntry(e,n){let s=hi.newInvalidDocument(n);return nl(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(af(n))},(l,c)=>{s=this.nr(n,c)}).next(()=>s)}rr(e,n){let s={size:0,document:hi.newInvalidDocument(n)};return nl(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(af(n))},(l,c)=>{s={document:this.nr(n,c),size:zc(c)}}).next(()=>s)}getEntries(e,n){let s=so();return this.ir(e,n,(l,c)=>{const f=this.nr(l,c);s=s.insert(l,f)}).next(()=>s)}sr(e,n){let s=so(),l=new zr(Ut.comparator);return this.ir(e,n,(c,f)=>{const D=this.nr(c,f);s=s.insert(c,D),l=l.insert(c,zc(f))}).next(()=>({documents:s,_r:l}))}ir(e,n,s){if(n.isEmpty())return Y.resolve();let l=new Gr(F_);n.forEach(M=>l=l.add(M));const c=IDBKeyRange.bound(af(l.first()),af(l.last())),f=l.getIterator();let D=f.getNext();return nl(e).Y({index:"documentKeyIndex",range:c},(M,j,ee)=>{const pe=Ut.fromSegments([...j.prefixPath,j.collectionGroup,j.documentId]);for(;D&&F_(D,pe)<0;)s(D,null),D=f.getNext();D&&D.isEqual(pe)&&(s(D,j),D=f.hasNext()?f.getNext():null),D?ee.U(af(D)):ee.done()}).next(()=>{for(;D;)s(D,null),D=f.hasNext()?f.getNext():null})}getDocumentsMatchingQuery(e,n,s,l,c){const f=n.path,D=[f.popLast().toArray(),f.lastSegment(),Qh(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],M=[f.popLast().toArray(),f.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return nl(e).W(IDBKeyRange.bound(D,M,!0)).next(j=>{c?.incrementDocumentReadCount(j.length);let ee=so();for(const pe of j){const Ne=this.nr(Ut.fromSegments(pe.prefixPath.concat(pe.collectionGroup,pe.documentId)),pe);Ne.isFoundDocument()&&(Jt(n,Ne)||l.has(Ne.key))&&(ee=ee.insert(Ne.key,Ne))}return ee})}getAllFromCollectionGroup(e,n,s,l){let c=so();const f=lf(n,s),D=lf(n,T.max());return nl(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(f,D,!0)},(M,j,ee)=>{const pe=this.nr(Ut.fromSegments(j.prefixPath.concat(j.collectionGroup,j.documentId)),j);c=c.insert(pe.key,pe),c.size===l&&ee.done()}).next(()=>c)}newChangeBuffer(e){return new k_(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return mm(e).get("remoteDocumentGlobalKey").next(n=>(on(!!n),n))}tr(e,n){return mm(e).put("remoteDocumentGlobalKey",n)}nr(e,n){if(n){const s=function Av(i,e){let n;if(e.document)n=Ud(i.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=Ut.fromSegments(e.noDocument.path),l=tl(e.noDocument.readTime);n=hi.newNoDocument(s,l),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Wt();{const s=Ut.fromSegments(e.unknownDocument.path),l=tl(e.unknownDocument.version);n=hi.newUnknownDocument(s,l)}}return e.readTime&&n.setReadTime(function(l){const c=new Xr(l[0],l[1]);return cn.fromTimestamp(c)}(e.readTime)),n}(this.serializer,n);if(!s.isNoDocument()||!s.version.isEqual(cn.min()))return s}return hi.newInvalidDocument(e)}}function L_(i){return new pm(i)}class k_ extends sf{constructor(e,n){super(),this.ar=e,this.trackRemovals=n,this.ur=new io(s=>s.toString(),(s,l)=>s.isEqual(l))}applyChanges(e){const n=[];let s=0,l=new Gr((c,f)=>Cn(c.canonicalString(),f.canonicalString()));return this.changes.forEach((c,f)=>{const D=this.ur.get(c);if(n.push(this.ar.removeEntry(e,c,D.readTime)),f.isValidDocument()){const M=Zh(this.ar.serializer,f);l=l.add(c.path.popLast());const j=zc(M);s+=j-D.size,n.push(this.ar.addEntry(e,c,M))}else if(s-=D.size,this.trackRemovals){const M=Zh(this.ar.serializer,f.convertToNoDocument(cn.min()));n.push(this.ar.addEntry(e,c,M))}}),l.forEach(c=>{n.push(this.ar.indexManager.addToCollectionParentIndex(e,c))}),n.push(this.ar.updateMetadata(e,s)),Y.waitFor(n)}getFromCache(e,n){return this.ar.rr(e,n).next(s=>(this.ur.set(n,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,n){return this.ar.sr(e,n).next(({documents:s,_r:l})=>(l.forEach((c,f)=>{this.ur.set(c,{size:f,readTime:s.get(c).readTime})}),s))}}function mm(i){return ri(i,"remoteDocumentGlobal")}function nl(i){return ri(i,"remoteDocumentsV14")}function af(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function lf(i,e){const n=e.documentKey.path.toArray();return[i,Qh(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function F_(i,e){const n=i.path.toArray(),s=e.path.toArray();let l=0;for(let c=0;c<n.length-2&&c<s.length-2;++c)if(l=Cn(n[c],s[c]),l)return l;return l=Cn(n.length,s.length),l||(l=Cn(n[n.length-2],s[s.length-2]),l||Cn(n[n.length-1],s[s.length-1]))}class gm{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class _m{constructor(e,n,s,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=l}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(l=>(s=l,this.remoteDocumentCache.getEntry(e,n))).next(l=>(null!==s&&Oc(s.mutation,l,to.empty(),Xr.now()),l))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,er()).next(()=>s))}getLocalViewOfDocuments(e,n,s=er()){const l=mo();return this.populateOverlays(e,l,n).next(()=>this.computeViews(e,n,l,s).next(c=>{let f=zu();return c.forEach((D,M)=>{f=f.insert(D,M.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=mo();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,er()))}populateOverlays(e,n,s){const l=[];return s.forEach(c=>{n.has(c)||l.push(c)}),this.documentOverlayCache.getOverlays(e,l).next(c=>{c.forEach((f,D)=>{n.set(f,D)})})}computeViews(e,n,s,l){let c=so();const f=Gu(),D=Gu();return n.forEach((M,j)=>{const ee=s.get(j.key);l.has(j.key)&&(void 0===ee||ee.mutation instanceof Xa)?c=c.insert(j.key,j):void 0!==ee?(f.set(j.key,ee.mutation.getFieldMask()),Oc(ee.mutation,j,ee.mutation.getFieldMask(),Xr.now())):f.set(j.key,to.empty())}),this.recalculateAndSaveOverlays(e,c).next(M=>(M.forEach((j,ee)=>f.set(j,ee)),n.forEach((j,ee)=>{var pe;return D.set(j,new gm(ee,null!==(pe=f.get(j))&&void 0!==pe?pe:null))}),D))}recalculateAndSaveOverlays(e,n){const s=Gu();let l=new zr((f,D)=>f-D),c=er();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const D of f)D.keys().forEach(M=>{const j=n.get(M);if(null===j)return;let ee=s.get(M)||to.empty();ee=D.applyToLocalView(j,ee),s.set(M,ee);const pe=(l.get(D.batchId)||er()).add(M);l=l.insert(D.batchId,pe)})}).next(()=>{const f=[],D=l.getReverseIterator();for(;D.hasNext();){const M=D.getNext(),j=M.key,ee=M.value,pe=Nh();ee.forEach(Ne=>{if(!c.has(Ne)){const Xe=Mo(n.get(Ne),s.get(Ne));null!==Xe&&pe.set(Ne,Xe),c=c.add(Ne)}}),f.push(this.documentOverlayCache.saveOverlays(e,j,pe))}return Y.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,l){return Ut.isDocumentKey((f=n).path)&&null===f.collectionGroup&&0===f.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):I(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,l):this.getDocumentsMatchingCollectionQuery(e,n,s,l);var f}getNextDocuments(e,n,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,l).next(c=>{const f=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,l-c.size):Y.resolve(mo());let D=-1,M=c;return f.next(j=>Y.forEach(j,(ee,pe)=>(D<pe.largestBatchId&&(D=pe.largestBatchId),c.get(ee)?Y.resolve():this.remoteDocumentCache.getEntry(e,ee).next(Ne=>{M=M.insert(ee,Ne)}))).next(()=>this.populateOverlays(e,j,c)).next(()=>this.computeViews(e,M,j,er())).next(ee=>({batchId:D,changes:Oh(ee)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ut(n)).next(s=>{let l=zu();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}getDocumentsMatchingCollectionGroupQuery(e,n,s,l){const c=n.collectionGroup;let f=zu();return this.indexManager.getCollectionParents(e,c).next(D=>Y.forEach(D,M=>{const j=(pe=n,Ne=M.child(c),new fa(Ne,null,pe.explicitOrderBy.slice(),pe.filters.slice(),pe.limit,pe.limitType,pe.startAt,pe.endAt));var pe,Ne;return this.getDocumentsMatchingCollectionQuery(e,j,s,l).next(ee=>{ee.forEach((pe,Ne)=>{f=f.insert(pe,Ne)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,c,l))).next(f=>{c.forEach((M,j)=>{const ee=j.getKey();null===f.get(ee)&&(f=f.insert(ee,hi.newInvalidDocument(ee)))});let D=zu();return f.forEach((M,j)=>{const ee=c.get(M);void 0!==ee&&Oc(ee.mutation,j,to.empty(),Xr.now()),Jt(n,j)&&(D=D.insert(M,j))}),D})}}class V_{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return Y.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,{id:(l=n).id,version:l.version,createTime:ns(l.createTime)}),Y.resolve();var l}getNamedQuery(e,n){return Y.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,{name:(l=n).name,query:Yh(l.bundledQuery),readTime:ns(l.readTime)}),Y.resolve();var l}}class nc{constructor(){this.overlays=new zr(Ut.comparator),this.hr=new Map}getOverlay(e,n){return Y.resolve(this.overlays.get(n))}getOverlays(e,n){const s=mo();return Y.forEach(n,l=>this.getOverlay(e,l).next(c=>{null!==c&&s.set(l,c)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((l,c)=>{this.ht(e,n,c)}),Y.resolve()}removeOverlaysForBatchId(e,n,s){const l=this.hr.get(s);return void 0!==l&&(l.forEach(c=>this.overlays=this.overlays.remove(c)),this.hr.delete(s)),Y.resolve()}getOverlaysForCollection(e,n,s){const l=mo(),c=n.length+1,f=new Ut(n.child("")),D=this.overlays.getIteratorFrom(f);for(;D.hasNext();){const M=D.getNext().value,j=M.getKey();if(!n.isPrefixOf(j.path))break;j.path.length===c&&M.largestBatchId>s&&l.set(M.getKey(),M)}return Y.resolve(l)}getOverlaysForCollectionGroup(e,n,s,l){let c=new zr((j,ee)=>j-ee);const f=this.overlays.getIterator();for(;f.hasNext();){const j=f.getNext().value;if(j.getKey().getCollectionGroup()===n&&j.largestBatchId>s){let ee=c.get(j.largestBatchId);null===ee&&(ee=mo(),c=c.insert(j.largestBatchId,ee)),ee.set(j.getKey(),j)}}const D=mo(),M=c.getIterator();for(;M.hasNext()&&(M.getNext().value.forEach((j,ee)=>D.set(j,ee)),!(D.size()>=l)););return Y.resolve(D)}ht(e,n,s){const l=this.overlays.get(s.key);if(null!==l){const f=this.hr.get(l.largestBatchId).delete(s.key);this.hr.set(l.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new qp(n,s));let c=this.hr.get(n);void 0===c&&(c=er(),this.hr.set(n,c)),this.hr.set(n,c.add(s.key))}}class ym{constructor(){this.Pr=new Gr(gs.Ir),this.Tr=new Gr(gs.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const s=new gs(e,n);this.Pr=this.Pr.add(s),this.Tr=this.Tr.add(s)}dr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Ar(new gs(e,n))}Rr(e,n){e.forEach(s=>this.removeReference(s,n))}Vr(e){const n=new Ut(new or([])),s=new gs(n,e),l=new gs(n,e+1),c=[];return this.Tr.forEachInRange([s,l],f=>{this.Ar(f),c.push(f.key)}),c}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new Ut(new or([])),s=new gs(n,e),l=new gs(n,e+1);let c=er();return this.Tr.forEachInRange([s,l],f=>{c=c.add(f.key)}),c}containsKey(e){const n=new gs(e,0),s=this.Pr.firstAfterOrEqual(n);return null!==s&&e.isEqual(s.key)}}class gs{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return Ut.comparator(e.key,n.key)||Cn(e.pr,n.pr)}static Er(e,n){return Cn(e.pr,n.pr)||Ut.comparator(e.key,n.key)}}class uf{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Gr(gs.Ir)}checkEmpty(e){return Y.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,s,l){const c=this.yr;this.yr++;const f=new Wp(c,n,s,l);this.mutationQueue.push(f);for(const D of l)this.wr=this.wr.add(new gs(D.key,c)),this.indexManager.addToCollectionParentIndex(e,D.key.path.popLast());return Y.resolve(f)}lookupMutationBatch(e,n){return Y.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const l=this.br(n+1),c=l<0?0:l;return Y.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new gs(n,0),l=new gs(n,Number.POSITIVE_INFINITY),c=[];return this.wr.forEachInRange([s,l],f=>{const D=this.Sr(f.pr);c.push(D)}),Y.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Gr(Cn);return n.forEach(l=>{const c=new gs(l,0),f=new gs(l,Number.POSITIVE_INFINITY);this.wr.forEachInRange([c,f],D=>{s=s.add(D.pr)})}),Y.resolve(this.Dr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,l=s.length+1;let c=s;Ut.isDocumentKey(c)||(c=c.child(""));const f=new gs(new Ut(c),0);let D=new Gr(Cn);return this.wr.forEachWhile(M=>{const j=M.key.path;return!!s.isPrefixOf(j)&&(j.length===l&&(D=D.add(M.pr)),!0)},f),Y.resolve(this.Dr(D))}Dr(e){const n=[];return e.forEach(s=>{const l=this.Sr(s);null!==l&&n.push(l)}),n}removeMutationBatch(e,n){on(0===this.Cr(n.batchId,"removed")),this.mutationQueue.shift();let s=this.wr;return Y.forEach(n.mutations,l=>{const c=new gs(l.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.wr=s})}Mn(e){}containsKey(e,n){const s=new gs(n,0),l=this.wr.firstAfterOrEqual(s);return Y.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return Y.resolve()}Cr(e,n){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Ov{constructor(e){this.vr=e,this.docs=new zr(Ut.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,l=this.docs.get(s),c=l?l.size:0,f=this.vr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return Y.resolve(s?s.document.mutableCopy():hi.newInvalidDocument(n))}getEntries(e,n){let s=so();return n.forEach(l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():hi.newInvalidDocument(l))}),Y.resolve(s)}getDocumentsMatchingQuery(e,n,s,l){let c=so();const f=n.path,D=new Ut(f.child("")),M=this.docs.getIteratorFrom(D);for(;M.hasNext();){const{key:j,value:{document:ee}}=M.getNext();if(!f.isPrefixOf(j.path))break;j.path.length>f.length+1||P(vc(ee),s)<=0||(l.has(ee.key)||Jt(n,ee))&&(c=c.insert(ee.key,ee.mutableCopy()))}return Y.resolve(c)}getAllFromCollectionGroup(e,n,s,l){Wt()}Fr(e,n){return Y.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new vm(this)}getSize(e){return Y.resolve(this.size)}}class vm extends sf{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((s,l)=>{l.isValidDocument()?n.push(this.ar.addEntry(e,l)):this.ar.removeEntry(s)}),Y.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}class cf{constructor(e){this.persistence=e,this.Mr=new io(n=>Qa(n),Jl),this.lastRemoteSnapshotVersion=cn.min(),this.highestTargetId=0,this.Or=0,this.Nr=new ym,this.targetCount=0,this.Br=au.Nn()}forEachTarget(e,n){return this.Mr.forEach((s,l)=>n(l)),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.Or&&(this.Or=n),Y.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new au(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,Y.resolve()}updateTargetData(e,n){return this.qn(n),Y.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,n,s){let l=0;const c=[];return this.Mr.forEach((f,D)=>{D.sequenceNumber<=n&&null===s.get(D.targetId)&&(this.Mr.delete(f),c.push(this.removeMatchingKeysForTargetId(e,D.targetId)),l++)}),Y.waitFor(c).next(()=>l)}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,n){const s=this.Mr.get(n)||null;return Y.resolve(s)}addMatchingKeys(e,n,s){return this.Nr.dr(n,s),Y.resolve()}removeMatchingKeys(e,n,s){this.Nr.Rr(n,s);const l=this.persistence.referenceDelegate,c=[];return l&&n.forEach(f=>{c.push(l.markPotentiallyOrphaned(e,f))}),Y.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),Y.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Nr.gr(n);return Y.resolve(s)}containsKey(e,n){return Y.resolve(this.Nr.containsKey(n))}}class ma{constructor(e,n){this.Lr={},this.overlays={},this.kr=new Vs(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new cf(this),this.indexManager=new um,this.remoteDocumentCache=new Ov(s=>this.referenceDelegate.Kr(s)),this.serializer=new Dv(n),this.$r=new V_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new nc,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Lr[e.toKey()];return s||(s=new uf(n,this.referenceDelegate),this.Lr[e.toKey()]=s),s}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,s){mt("MemoryPersistence","Starting transaction:",e);const l=new Kc(this.kr.next());return this.referenceDelegate.Ur(),s(l).next(c=>this.referenceDelegate.Wr(l).next(()=>c)).toPromise().then(c=>(l.raiseOnCommittedEvent(),c))}Gr(e,n){return Y.or(Object.values(this.Lr).map(s=>()=>s.containsKey(e,n)))}}class Kc extends R{constructor(e){super(),this.currentSequenceNumber=e}}class Zc{constructor(e){this.persistence=e,this.zr=new ym,this.jr=null}static Hr(e){return new Zc(e)}get Jr(){if(this.jr)return this.jr;throw Wt()}addReference(e,n,s){return this.zr.addReference(s,n),this.Jr.delete(s.toString()),Y.resolve()}removeReference(e,n,s){return this.zr.removeReference(s,n),this.Jr.add(s.toString()),Y.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),Y.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(l=>this.Jr.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(l=>{l.forEach(c=>this.Jr.add(c.toString()))}).next(()=>s.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.Jr,s=>{const l=Ut.fromPath(s);return this.Yr(e,l).next(c=>{c||n.removeEntry(l,cn.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(s=>{s?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return Y.or([()=>Y.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}class Nv{constructor(e){this.serializer=e}N(e,n,s,l){const c=new nt("createOrUpgrade",n);var M;s<1&&l>=1&&(e.createObjectStore("owner"),(M=e).createObjectStore("mutationQueues",{keyPath:"userId"}),M.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ic,{unique:!0}),M.createObjectStore("documentMutations"),Im(e),function(M){M.createObjectStore("remoteDocuments")}(e));let f=Y.resolve();return s<3&&l>=3&&(0!==s&&(function(M){M.deleteObjectStore("targetDocuments"),M.deleteObjectStore("targets"),M.deleteObjectStore("targetGlobal")}(e),Im(e)),f=f.next(()=>function(M){const j=M.store("targetGlobal"),ee={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:cn.min().toTimestamp(),targetCount:0};return j.put("targetGlobalKey",ee)}(c))),s<4&&l>=4&&(0!==s&&(f=f.next(()=>function(M,j){return j.store("mutations").W().next(ee=>{M.deleteObjectStore("mutations"),M.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ic,{unique:!0});const pe=j.store("mutations"),Ne=ee.map(Xe=>pe.put(Xe));return Y.waitFor(Ne)})}(e,c))),f=f.next(()=>{!function(M){M.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&l>=5&&(f=f.next(()=>this.Xr(c))),s<6&&l>=6&&(f=f.next(()=>(function(M){M.createObjectStore("remoteDocumentGlobal")}(e),this.ei(c)))),s<7&&l>=7&&(f=f.next(()=>this.ti(c))),s<8&&l>=8&&(f=f.next(()=>this.ni(e,c))),s<9&&l>=9&&(f=f.next(()=>{!function(M){M.objectStoreNames.contains("remoteDocumentChanges")&&M.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&l>=10&&(f=f.next(()=>this.ri(c))),s<11&&l>=11&&(f=f.next(()=>{(function(M){M.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(M){M.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&l>=12&&(f=f.next(()=>{!function(M){const j=M.createObjectStore("documentOverlays",{keyPath:Ou});j.createIndex("collectionPathOverlayIndex",Dd,{unique:!1}),j.createIndex("collectionGroupOverlayIndex",Nu,{unique:!1})}(e)})),s<13&&l>=13&&(f=f.next(()=>function(M){const j=M.createObjectStore("remoteDocumentsV14",{keyPath:zl});j.createIndex("documentKeyIndex",hl),j.createIndex("collectionGroupIndex",Ap)}(e)).next(()=>this.ii(e,c)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&l>=14&&(f=f.next(()=>this.si(e,c))),s<15&&l>=15&&(f=f.next(()=>function(M){M.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),M.createObjectStore("indexState",{keyPath:Pp}).createIndex("sequenceNumberIndex",wh,{unique:!1}),M.createObjectStore("indexEntries",{keyPath:Rp}).createIndex("documentKeyIndex",bd,{unique:!1})}(e))),f}ei(e){let n=0;return e.store("remoteDocuments").Y((s,l)=>{n+=zc(l)}).next(()=>{const s={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}Xr(e){const n=e.store("mutationQueues"),s=e.store("mutations");return n.W().next(l=>Y.forEach(l,c=>{const f=IDBKeyRange.bound([c.userId,-1],[c.userId,c.lastAcknowledgedBatchId]);return s.W("userMutationsIndex",f).next(D=>Y.forEach(D,M=>{on(M.userId===c.userId);const j=Dl(this.serializer,M);return x_(e,c.userId,j).next(()=>{})}))}))}ti(e){const n=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(l=>{const c=[];return s.Y((f,D)=>{const M=new or(f),j=[0,Us(M)];c.push(n.get(j).next(ee=>ee?Y.resolve():n.put({targetId:0,path:Us(M),sequenceNumber:l.highestListenSequenceNumber})))}).next(()=>Y.waitFor(c))})}ni(e,n){e.createObjectStore("collectionParents",{keyPath:Sp});const s=n.store("collectionParents"),l=new Hd,c=f=>{if(l.add(f)){const D=f.lastSegment(),M=f.popLast();return s.put({collectionId:D,parent:Us(M)})}};return n.store("remoteDocuments").Y({J:!0},(f,D)=>{const M=new or(f);return c(M.popLast())}).next(()=>n.store("documentMutations").Y({J:!0},([f,D,M],j)=>{const ee=eo(D);return c(ee.popLast())}))}ri(e){const n=e.store("targets");return n.Y((s,l)=>{const c=Bc(l),f=om(this.serializer,c);return n.put(f)})}ii(e,n){const s=n.store("remoteDocuments"),l=[];return s.Y((c,f)=>{const D=n.store("remoteDocumentsV14"),M=(pe=f,pe.document?new Ut(or.fromString(pe.document.name).popFirst(5)):pe.noDocument?Ut.fromSegments(pe.noDocument.path):pe.unknownDocument?Ut.fromSegments(pe.unknownDocument.path):Wt()).path.toArray(),j={prefixPath:M.slice(0,M.length-2),collectionGroup:M[M.length-2],documentId:M[M.length-1],readTime:f.readTime||[0,0],unknownDocument:f.unknownDocument,noDocument:f.noDocument,document:f.document,hasCommittedMutations:!!f.hasCommittedMutations};var pe;l.push(D.put(j))}).next(()=>Y.waitFor(l))}si(e,n){const s=n.store("mutations"),l=L_(this.serializer),c=new ma(Zc.Hr,this.serializer.ct);return s.W().next(f=>{const D=new Map;return f.forEach(M=>{var j;let ee=null!==(j=D.get(M.userId))&&void 0!==j?j:er();Dl(this.serializer,M).keys().forEach(pe=>ee=ee.add(pe)),D.set(M.userId,ee)}),Y.forEach(D,(M,j)=>{const ee=new zn(j),pe=La.lt(this.serializer,ee),Ne=c.getIndexManager(ee),Xe=nf.lt(ee,this.serializer,Ne,c.referenceDelegate);return new _m(l,Xe,pe,Ne).recalculateAndSaveOverlaysForDocumentKeys(new fl(n,Vs._e),M).next()})})}}function Im(i){i.createObjectStore("targetDocuments",{keyPath:xu}).createIndex("documentTargetsIndex",a_,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Gl,{unique:!0}),i.createObjectStore("targetGlobal")}const uu="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Em{constructor(e,n,s,l,c,f,D,M,j,ee,pe=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=s,this.oi=c,this.window=f,this.document=D,this._i=j,this.ai=ee,this.ui=pe,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=Ne=>Promise.resolve(),!Em.D())throw new _t(ot.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new N_(this,l),this.Ti=n+"main",this.serializer=new Dv(M),this.Ei=new qe(this.Ti,this.ui,new Nv(this.serializer)),this.Qr=new Mv(this.referenceDelegate,this.serializer),this.remoteDocumentCache=L_(this.serializer),this.$r=new Sv,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===ee&&Jr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new _t(ot.FAILED_PRECONDITION,uu);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new Vs(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){var n=this;return this.Ii=function(){var s=(0,he.Z)(function*(l){if(n.started)return e(l)});return function(l){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L(function(){var n=(0,he.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return n.apply(this,arguments)}}())}setNetworkEnabled(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget((0,he.Z)(function*(){n.started&&(yield n.Ai())})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>hf(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(n=>{n||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(n=>this.isPrimary&&!n?this.yi(e).next(()=>!1):!!n&&this.wi(e).next(()=>!0))).catch(e=>{if(Vn(e))return mt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return mt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return Gd(e).get("owner").next(n=>Y.resolve(this.Si(n)))}bi(e){return hf(e).delete(this.clientId)}Di(){var e=this;return(0,he.Z)(function*(){if(e.isPrimary&&!e.Ci(e.Pi,18e5)){e.Pi=Date.now();const n=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const l=ri(s,"clientMetadata");return l.W().next(c=>{const f=e.vi(c,18e5),D=c.filter(M=>-1===f.indexOf(M));return Y.forEach(D,M=>l.delete(M.clientId)).next(()=>D)})}).catch(()=>[]);if(e.di)for(const s of n)e.di.removeItem(e.Fi(s.clientId))}})()}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?Y.resolve(!0):Gd(e).get("owner").next(n=>{if(null!==n&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)){if(this.Si(n)&&this.networkEnabled)return!0;if(!this.Si(n)){if(!n.allowTabSynchronization)throw new _t(ot.FAILED_PRECONDITION,uu);return!1}}return!(!this.networkEnabled||!this.inForeground)||hf(e).W().next(s=>void 0===this.vi(s,5e3).find(l=>!(this.clientId===l.clientId||!(!this.networkEnabled&&l.networkEnabled||!this.inForeground&&l.inForeground&&this.networkEnabled===l.networkEnabled))))}).next(n=>(this.isPrimary!==n&&mt("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var e=this;return(0,he.Z)(function*(){e.qr=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Oi(),e.Ni(),yield e.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],n=>{const s=new fl(n,Vs._e);return e.yi(s).next(()=>e.bi(s))}),e.Ei.close(),e.Bi()})()}vi(e,n){return e.filter(s=>this.Ci(s.updateTimeMs,n)&&!this.Mi(s.clientId))}Li(){return this.runTransaction("getActiveClients","readonly",e=>hf(e).W().next(n=>this.vi(n,18e5).map(s=>s.clientId)))}get started(){return this.qr}getMutationQueue(e,n){return nf.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new NE(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return La.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,n,s){mt("IndexedDbPersistence","Starting transaction:",e);const l="readonly"===n?"readonly":"readwrite",c=15===(M=this.ui)?Ch:14===M?Lu:13===M?Ad:12===M?Ec:11===M?Wl:void Wt();var M;let f;return this.Ei.runTransaction(e,l,c,D=>(f=new fl(D,this.kr?this.kr.next():Vs._e),"readwrite-primary"===n?this.gi(f).next(M=>!!M||this.pi(f)).next(M=>{if(!M)throw Jr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new _t(ot.FAILED_PRECONDITION,v);return s(f)}).next(M=>this.wi(f).next(()=>M)):this.ki(f).next(()=>s(f)))).then(D=>(f.raiseOnCommittedEvent(),D))}ki(e){return Gd(e).get("owner").next(n=>{if(null!==n&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)&&!this.Si(n)&&!(this.ai||this.allowTabSynchronization&&n.allowTabSynchronization))throw new _t(ot.FAILED_PRECONDITION,uu)})}wi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Gd(e).put("owner",n)}static D(){return qe.D()}yi(e){const n=Gd(e);return n.get("owner").next(s=>this.Si(s)?(mt("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Y.resolve())}Ci(e,n){const s=Date.now();return!(e<s-n||e>s&&(Jr(`Detected an update time that is in the future: ${e} > ${s}`),1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const n=/(?:Version|Mobile)\/1[456]/;(0,V.G6)()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var n;try{const s=null!==(null===(n=this.di)||void 0===n?void 0:n.getItem(this.Fi(e)));return mt("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return Jr("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){Jr("Failed to set zombie client id.",e)}}Bi(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Gd(i){return ri(i,"owner")}function hf(i){return ri(i,"clientMetadata")}function Wd(i,e){let n=i.projectId;return i.isDefaultDatabase||(n+="."+i.database),"firestore/"+e+"/"+n+"/"}class ff{constructor(e,n,s,l){this.targetId=e,this.fromCache=n,this.qi=s,this.Qi=l}static Ki(e,n){let s=er(),l=er();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new ff(e,n.fromCache,s,l)}}class Lv{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Tm{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=(0,V.G6)()?8:qe.v((0,V.z$)())>0?6:4}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,s,l){const c={result:null};return this.ji(e,n).next(f=>{c.result=f}).next(()=>{if(!c.result)return this.Hi(e,n,l,s).next(f=>{c.result=f})}).next(()=>{if(c.result)return;const f=new Lv;return this.Ji(e,n,f).next(D=>{if(c.result=D,this.Ui)return this.Yi(e,n,f,D.size)})}).next(()=>c.result)}Yi(e,n,s,l){return s.documentReadCount<this.Wi?(ai()<=Te.in.DEBUG&&mt("QueryEngine","SDK will not create cache indexes for query:",It(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),Y.resolve()):(ai()<=Te.in.DEBUG&&mt("QueryEngine","Query:",It(n),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.Gi*l?(ai()<=Te.in.DEBUG&&mt("QueryEngine","The SDK decides to create cache indexes for query:",It(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,m(n))):Y.resolve())}ji(e,n){if(xh(n))return Y.resolve(null);let s=m(n);return this.indexManager.getIndexType(e,s).next(l=>0===l?null:(null!==n.limit&&1===l&&(n=oe(n,null,"F"),s=m(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const f=er(...c);return this.zi.getDocuments(e,f).next(D=>this.indexManager.getMinOffset(e,s).next(M=>{const j=this.Zi(n,D);return this.Xi(n,j,f,M.readTime)?this.ji(e,oe(n,null,"F")):this.es(e,j,n,M)}))})))}Hi(e,n,s,l){return xh(n)||l.isEqual(cn.min())?Y.resolve(null):this.zi.getDocuments(e,s).next(c=>{const f=this.Zi(n,c);return this.Xi(n,f,s,l)?Y.resolve(null):(ai()<=Te.in.DEBUG&&mt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),It(n)),this.es(e,f,n,Bl(l,-1)).next(D=>D))})}Zi(e,n){let s=new Gr(pr(e));return n.forEach((l,c)=>{Jt(e,c)&&(s=s.add(c))}),s}Xi(e,n,s,l){if(null===e.limit)return!1;if(s.size!==n.size)return!0;const c="F"===e.limitType?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ji(e,n,s){return ai()<=Te.in.DEBUG&&mt("QueryEngine","Using full collection scan to execute query:",It(n)),this.zi.getDocumentsMatchingQuery(e,n,T.min(),s)}es(e,n,s,l){return this.zi.getDocumentsMatchingQuery(e,s,l).next(c=>(n.forEach(f=>{c=c.insert(f.key,f)}),c))}}class wm{constructor(e,n,s,l){this.persistence=e,this.ts=n,this.serializer=l,this.ns=new zr(Cn),this.rs=new io(c=>Qa(c),Jl),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(s)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _m(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function kv(i,e,n,s){return new wm(i,e,n,s)}function U_(i,e){return Cm.apply(this,arguments)}function Cm(){return Cm=(0,he.Z)(function*(i,e){const n=Ht(i);return yield n.persistence.runTransaction("Handle user change","readonly",s=>{let l;return n.mutationQueue.getAllMutationBatches(s).next(c=>(l=c,n._s(e),n.mutationQueue.getAllMutationBatches(s))).next(c=>{const f=[],D=[];let M=er();for(const j of l){f.push(j.batchId);for(const ee of j.mutations)M=M.add(ee.key)}for(const j of c){D.push(j.batchId);for(const ee of j.mutations)M=M.add(ee.key)}return n.localDocuments.getDocuments(s,M).next(j=>({us:j,removedBatchIds:f,addedBatchIds:D}))})})}),Cm.apply(this,arguments)}function Vv(i){const e=Ht(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function qd(i,e,n){let s=er(),l=er();return n.forEach(c=>s=s.add(c)),e.getEntries(i,s).next(c=>{let f=so();return n.forEach((D,M)=>{const j=c.get(D);M.isFoundDocument()!==j.isFoundDocument()&&(l=l.add(D)),M.isNoDocument()&&M.version.isEqual(cn.min())?(e.removeEntry(D,M.readTime),f=f.insert(D,M)):!j.isValidDocument()||M.version.compareTo(j.version)>0||0===M.version.compareTo(j.version)&&j.hasPendingWrites?(e.addEntry(M),f=f.insert(D,M)):mt("LocalStore","Ignoring outdated watch update for ",D,". Current version:",j.version," Watch version:",M.version)}),{cs:f,ls:l}})}function Uv(i,e){const n=Ht(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function cu(i,e){const n=Ht(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return n.Qr.getTargetData(s,e).next(c=>c?(l=c,Y.resolve(l)):n.Qr.allocateTargetId(s).next(f=>(l=new bl(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Qr.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=n.ns.get(s.targetId);return(null===l||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.ns=n.ns.insert(s.targetId,s),n.rs.set(e,s.targetId)),s})}function du(i,e,n){return hu.apply(this,arguments)}function hu(){return hu=(0,he.Z)(function*(i,e,n){const s=Ht(i),l=s.ns.get(e),c=n?"readwrite":"readwrite-primary";try{n||(yield s.persistence.runTransaction("Release target",c,f=>s.persistence.referenceDelegate.removeTarget(f,l)))}catch(f){if(!Vn(f))throw f;mt("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}s.ns=s.ns.remove(e),s.rs.delete(l.target)}),hu.apply(this,arguments)}function Qc(i,e,n){const s=Ht(i);let l=cn.min(),c=er();return s.persistence.runTransaction("Execute query","readwrite",f=>function(M,j,ee){const pe=Ht(M),Ne=pe.rs.get(ee);return void 0!==Ne?Y.resolve(pe.ns.get(Ne)):pe.Qr.getTargetData(j,ee)}(s,f,m(e)).next(D=>{if(D)return l=D.lastLimboFreeSnapshotVersion,s.Qr.getMatchingKeysForTargetId(f,D.targetId).next(M=>{c=M})}).next(()=>s.ts.getDocumentsMatchingQuery(f,e,n?l:cn.min(),n?c:er())).next(D=>(Kd(s,pn(e),D),{documents:D,hs:c})))}function pf(i,e){const n=Ht(i),s=Ht(n.Qr),l=n.ns.get(e);return l?Promise.resolve(l.target):n.persistence.runTransaction("Get target data","readonly",c=>s._t(c,e).next(f=>f?f.target:null))}function Yc(i,e){const n=Ht(i),s=n.ss.get(e)||cn.min();return n.persistence.runTransaction("Get new document changes","readonly",l=>n.os.getAllFromCollectionGroup(l,e,Bl(s,-1),Number.MAX_SAFE_INTEGER)).then(l=>(Kd(n,e,l),l))}function Kd(i,e,n){let s=i.ss.get(e)||cn.min();n.forEach((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),i.ss.set(e,s)}function Zd(){return Zd=(0,he.Z)(function*(i,e,n,s){const l=Ht(i);let c=er(),f=so();for(const j of n){const ee=e.Ps(j.metadata.name);j.document&&(c=c.add(ee));const pe=e.Is(j);pe.setReadTime(e.Ts(j.metadata.readTime)),f=f.insert(ee,pe)}const D=l.os.newChangeBuffer({trackRemovals:!0}),M=yield cu(l,(ee=s,m(Na(or.fromString(`__bundle__/docs/${ee}`)))));var ee;return l.persistence.runTransaction("Apply bundle documents","readwrite",j=>qd(j,D,f).next(ee=>(D.apply(j),ee)).next(ee=>l.Qr.removeMatchingKeysForTargetId(j,M.targetId).next(()=>l.Qr.addMatchingKeys(j,c,M.targetId)).next(()=>l.localDocuments.getLocalViewOfDocuments(j,ee.cs,ee.ls)).next(()=>ee.cs)))}),Zd.apply(this,arguments)}function bm(i,e){return Xc.apply(this,arguments)}function Xc(){return Xc=(0,he.Z)(function*(i,e,n=er()){const s=yield cu(i,m(Yh(e.bundledQuery))),l=Ht(i);return l.persistence.runTransaction("Save named query","readwrite",c=>{const f=ns(e.readTime);if(s.snapshotVersion.compareTo(f)>=0)return l.$r.saveNamedQuery(c,e);const D=s.withResumeToken(Bi.EMPTY_BYTE_STRING,f);return l.ns=l.ns.insert(D.targetId,D),l.Qr.updateTargetData(c,D).next(()=>l.Qr.removeMatchingKeysForTargetId(c,s.targetId)).next(()=>l.Qr.addMatchingKeys(c,n,s.targetId)).next(()=>l.$r.saveNamedQuery(c,e))})}),Xc.apply(this,arguments)}function Bv(i,e){return`firestore_clients_${i}_${e}`}function mf(i,e,n){let s=`firestore_mutations_${i}_${n}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function rc(i,e){return`firestore_targets_${i}_${e}`}class gf{constructor(e,n,s,l){this.user=e,this.batchId=n,this.state=s,this.error=l}static Es(e,n,s){const l=JSON.parse(s);let c,f="object"==typeof l&&-1!==["pending","acknowledged","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return f&&l.error&&(f="string"==typeof l.error.message&&"string"==typeof l.error.code,f&&(c=new _t(l.error.code,l.error.message))),f?new gf(e,n,l.state,c):(Jr("SharedClientState",`Failed to parse mutation state for ID '${n}': ${s}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ed{constructor(e,n,s){this.targetId=e,this.state=n,this.error=s}static Es(e,n){const s=JSON.parse(n);let l,c="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return c&&s.error&&(c="string"==typeof s.error.message&&"string"==typeof s.error.code,c&&(l=new _t(s.error.code,s.error.message))),c?new ed(e,s.state,l):(Jr("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class _f{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Es(e,n){const s=JSON.parse(n);let l="object"==typeof s&&s.activeTargetIds instanceof Array,c=tu();for(let f=0;l&&f<s.activeTargetIds.length;++f)l=Xo(s.activeTargetIds[f]),c=c.add(s.activeTargetIds[f]);return l?new _f(e,c):(Jr("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class Dm{constructor(e,n){this.clientId=e,this.onlineState=n}static Es(e){const n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new Dm(n.clientId,n.onlineState):(Jr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Qd{constructor(){this.activeTargetIds=tu()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yf{constructor(e,n,s,l,c){this.window=e,this.oi=n,this.persistenceKey=s,this.Vs=l,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new zr(Cn),this.started=!1,this.ys=[];const f=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=c,this.ws=Bv(this.persistenceKey,this.Vs),this.Ss=`firestore_sequence_number_${this.persistenceKey}`,this.ps=this.ps.insert(this.Vs,new Qd),this.bs=new RegExp(`^firestore_clients_${f}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${f}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${f}_(\\d+)$`),this.vs=`firestore_online_state_${this.persistenceKey}`,this.Fs=function(M){return`firestore_bundle_loaded_v2_${M}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,he.Z)(function*(){const n=yield e.syncEngine.Li();for(const l of n){if(l===e.Vs)continue;const c=e.getItem(Bv(e.persistenceKey,l));if(c){const f=_f.Es(l,c);f&&(e.ps=e.ps.insert(f.clientId,f))}}e.Ms();const s=e.storage.getItem(e.vs);if(s){const l=e.xs(s);l&&e.Os(l)}for(const l of e.ys)e.gs(l);e.ys=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let n=!1;return this.ps.forEach((s,l)=>{l.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Bs(e,"pending")}updateMutationState(e,n,s){this.Bs(e,n,s),this.Ls(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(rc(this.persistenceKey,e));if(s){const l=ed.Es(e,s);l&&(n=l.state)}}return this.ks.As(e),this.Ms(),n}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(rc(this.persistenceKey,e))}updateQueryState(e,n,s){this.qs(e,n,s)}handleUserChange(e,n,s){n.forEach(l=>{this.Ls(l)}),this.currentUser=e,s.forEach(l=>{this.addPendingMutation(l)})}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return mt("SharedClientState","READ",e,n),n}setItem(e,n){mt("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){mt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){var n=this;const s=e;if(s.storageArea===this.storage){if(mt("SharedClientState","EVENT",s.key,s.newValue),s.key===this.ws)return void Jr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((0,he.Z)(function*(){if(n.started){if(null!==s.key)if(n.bs.test(s.key)){if(null==s.newValue){const l=n.$s(s.key);return n.Us(l,null)}{const l=n.Ws(s.key,s.newValue);if(l)return n.Us(l.clientId,l)}}else if(n.Ds.test(s.key)){if(null!==s.newValue){const l=n.Gs(s.key,s.newValue);if(l)return n.zs(l)}}else if(n.Cs.test(s.key)){if(null!==s.newValue){const l=n.js(s.key,s.newValue);if(l)return n.Hs(l)}}else if(s.key===n.vs){if(null!==s.newValue){const l=n.xs(s.newValue);if(l)return n.Os(l)}}else if(s.key===n.Ss){const l=function(f){let D=Vs._e;if(null!=f)try{const M=JSON.parse(f);on("number"==typeof M),D=M}catch(M){Jr("SharedClientState","Failed to read sequence number from WebStorage",M)}return D}(s.newValue);l!==Vs._e&&n.sequenceNumberHandler(l)}else if(s.key===n.Fs){const l=n.Js(s.newValue);yield Promise.all(l.map(c=>n.syncEngine.Ys(c)))}}else n.ys.push(s)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Bs(e,n,s){const l=new gf(this.currentUser,e,n,s),c=mf(this.persistenceKey,this.currentUser,e);this.setItem(c,l.ds())}Ls(e){const n=mf(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Qs(e){this.storage.setItem(this.vs,JSON.stringify({clientId:this.Vs,onlineState:e}))}qs(e,n,s){const l=rc(this.persistenceKey,e),c=new ed(e,n,s);this.setItem(l,c.ds())}Ks(e){const n=JSON.stringify(Array.from(e));this.setItem(this.Fs,n)}$s(e){const n=this.bs.exec(e);return n?n[1]:null}Ws(e,n){const s=this.$s(e);return _f.Es(s,n)}Gs(e,n){const s=this.Ds.exec(e),l=Number(s[1]);return gf.Es(new zn(void 0!==s[2]?s[2]:null),l,n)}js(e,n){const s=this.Cs.exec(e),l=Number(s[1]);return ed.Es(l,n)}xs(e){return Dm.Es(e)}Js(e){return JSON.parse(e)}zs(e){var n=this;return(0,he.Z)(function*(){if(e.user.uid===n.currentUser.uid)return n.syncEngine.Zs(e.batchId,e.state,e.error);mt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,n){const s=n?this.ps.insert(e,n):this.ps.remove(e),l=this.Ns(this.ps),c=this.Ns(s),f=[],D=[];return c.forEach(M=>{l.has(M)||f.push(M)}),l.forEach(M=>{c.has(M)||D.push(M)}),this.syncEngine.eo(f,D).then(()=>{this.ps=s})}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let n=tu();return e.forEach((s,l)=>{n=n.unionWith(l.activeTargetIds)}),n}}class B_{constructor(){this.no=new Qd,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,s){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Qd,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Hv{io(e){}shutdown(){}}class jv{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){mt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){mt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let vf=null;function td(){return null===vf?vf=268435456+Math.round(2147483648*Math.random()):vf++,"0x"+vf.toString(16)}const Am={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $v{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}const ao="WebChannelConnection";class Sm extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const s=n.ssl?"https":"http",l=encodeURIComponent(this.databaseId.projectId),c=encodeURIComponent(this.databaseId.database);this.fo=s+"://"+n.host,this.po=`projects/${l}/databases/${c}`,this.yo="(default)"===this.databaseId.database?`project_id=${l}`:`project_id=${l}&database_id=${c}`}get wo(){return!1}So(n,s,l,c,f){const D=td(),M=this.bo(n,s.toUriEncodedString());mt("RestConnection",`Sending RPC '${n}' ${D}:`,M,l);const j={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(j,c,f),this.Co(n,M,j,l).then(ee=>(mt("RestConnection",`Received RPC '${n}' ${D}: `,ee),ee),ee=>{throw Ui("RestConnection",`RPC '${n}' ${D} failed with error: `,ee,"url: ",M,"request:",l),ee})}vo(n,s,l,c,f,D){return this.So(n,s,l,c,f)}Do(n,s,l){n["X-Goog-Api-Client"]="gl-js/ fire/"+Ii,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((c,f)=>n[f]=c),l&&l.headers.forEach((c,f)=>n[f]=c)}bo(n,s){return`${this.fo}/v1/${s}:${Am[n]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,s,l){const c=td();return new Promise((f,D)=>{const M=new oi;M.setWithCredentials(!0),M.listenOnce(fo.COMPLETE,()=>{try{switch(M.getLastErrorCode()){case Rr.NO_ERROR:const ee=M.getResponseJson();mt(ao,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(ee)),f(ee);break;case Rr.TIMEOUT:mt(ao,`RPC '${e}' ${c} timed out`),D(new _t(ot.DEADLINE_EXCEEDED,"Request time out"));break;case Rr.HTTP_ERROR:const pe=M.getStatus();if(mt(ao,`RPC '${e}' ${c} failed with status:`,pe,"response text:",M.getResponseText()),pe>0){let Ne=M.getResponseJson();Array.isArray(Ne)&&(Ne=Ne[0]);const Xe=Ne?.error;if(Xe&&Xe.status&&Xe.message){const Mt=function(Bt){const yn=Bt.toLowerCase().replace(/_/g,"-");return Object.values(ot).indexOf(yn)>=0?yn:ot.UNKNOWN}(Xe.status);D(new _t(Mt,Xe.message))}else D(new _t(ot.UNKNOWN,"Server responded with status "+M.getStatus()))}else D(new _t(ot.UNAVAILABLE,"Connection failed."));break;default:Wt()}}finally{mt(ao,`RPC '${e}' ${c} completed.`)}});const j=JSON.stringify(l);mt(ao,`RPC '${e}' ${c} sending request:`,l),M.send(n,"POST",j,s,15)})}Fo(e,n,s){const l=td(),c=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=fs(),D=Zo(),M={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},j=this.longPollingOptions.timeoutSeconds;void 0!==j&&(M.longPollingTimeout=Math.round(1e3*j)),this.useFetchStreams&&(M.useFetchStreams=!0),this.Do(M.initMessageHeaders,n,s),M.encodeInitMessageHeaders=!0;const ee=c.join("");mt(ao,`Creating RPC '${e}' stream ${l}: ${ee}`,M);const pe=f.createWebChannel(ee,M);let Ne=!1,Xe=!1;const Mt=new $v({lo:Bt=>{Xe?mt(ao,`Not sending because RPC '${e}' stream ${l} is closed:`,Bt):(Ne||(mt(ao,`Opening RPC '${e}' stream ${l} transport.`),pe.open(),Ne=!0),mt(ao,`RPC '${e}' stream ${l} sending:`,Bt),pe.send(Bt))},ho:()=>pe.close()}),$t=(Bt,yn,Wn)=>{Bt.listen(yn,mn=>{try{Wn(mn)}catch(qn){setTimeout(()=>{throw qn},0)}})};return $t(pe,ir.EventType.OPEN,()=>{Xe||mt(ao,`RPC '${e}' stream ${l} transport opened.`)}),$t(pe,ir.EventType.CLOSE,()=>{Xe||(Xe=!0,mt(ao,`RPC '${e}' stream ${l} transport closed`),Mt.Vo())}),$t(pe,ir.EventType.ERROR,Bt=>{Xe||(Xe=!0,Ui(ao,`RPC '${e}' stream ${l} transport errored:`,Bt),Mt.Vo(new _t(ot.UNAVAILABLE,"The operation could not be completed")))}),$t(pe,ir.EventType.MESSAGE,Bt=>{var yn;if(!Xe){const Wn=Bt.data[0];on(!!Wn);const qn=Wn.error||(null===(yn=Wn[0])||void 0===yn?void 0:yn.error);if(qn){mt(ao,`RPC '${e}' stream ${l} received error:`,qn);const xr=qn.status;let Ur=function(rv){const Qg=ts[rv];if(void 0!==Qg)return d_(Qg)}(xr),is=qn.message;void 0===Ur&&(Ur=ot.INTERNAL,is="Unknown error status: "+xr+" with message "+qn.message),Xe=!0,Mt.Vo(new _t(Ur,is)),pe.close()}else mt(ao,`RPC '${e}' stream ${l} received:`,Wn),Mt.mo(Wn)}}),$t(D,Yt.STAT_EVENT,Bt=>{Bt.stat===Zt.PROXY?mt(ao,`RPC '${e}' stream ${l} detected buffering proxy`):Bt.stat===Zt.NOPROXY&&mt(ao,`RPC '${e}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{Mt.Ro()},0),Mt}}function Yd(){return typeof window<"u"?window:null}function If(){return typeof document<"u"?document:null}function nd(i){return new Tv(i,!0)}class Pm{constructor(e,n,s=1e3,l=1.5,c=6e4){this.oi=e,this.timerId=n,this.Mo=s,this.xo=l,this.Oo=c,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),s=Math.max(0,Date.now()-this.Lo),l=Math.max(0,n-s);l>0&&mt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,l,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){null!==this.Bo&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){null!==this.Bo&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}class Rm{constructor(e,n,s,l,c,f,D,M){this.oi=e,this.$o=s,this.Uo=l,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=D,this.listener=M,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new Pm(e,n)}Ho(){return 1===this.state||5===this.state||this.Jo()}Jo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Yo()}stop(){var e=this;return(0,he.Z)(function*(){e.Ho()&&(yield e.close(0))})()}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}e_(){var e=this;return(0,he.Z)(function*(){if(e.Jo())return e.close(0)})()}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}close(e,n){var s=this;return(0,he.Z)(function*(){s.n_(),s.r_(),s.jo.cancel(),s.Wo++,4!==e?s.jo.reset():n&&n.code===ot.RESOURCE_EXHAUSTED?(Jr(n.toString()),Jr("Using maximum backoff delay to prevent overloading the backend."),s.jo.ko()):n&&n.code===ot.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.i_(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.To(n)})()}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,l])=>{this.Wo===n&&this.o_(s,l)},s=>{e(()=>{const l=new _t(ot.UNKNOWN,"Fetching auth token failed: "+s.message);return this.__(l)})})}o_(e,n){const s=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{s(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(l=>{s(()=>this.__(l))}),this.stream.onMessage(l=>{s(()=>this.onMessage(l))})}Yo(){var e=this;this.state=5,this.jo.qo((0,he.Z)(function*(){e.state=0,e.start()}))}__(e){return mt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(mt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class FE extends Rm{constructor(e,n,s,l,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,l,f),this.serializer=c}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=function __(i,e){let n;if("targetChange"in e){const s="NO_CHANGE"===(j=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===j?1:"REMOVE"===j?2:"CURRENT"===j?3:"RESET"===j?4:Wt(),l=e.targetChange.targetIds||[],c=function(j,ee){return j.useProto3Json?(on(void 0===ee||"string"==typeof ee),Bi.fromBase64String(ee||"")):(on(void 0===ee||ee instanceof Uint8Array),Bi.fromUint8Array(ee||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,D=f&&function(j){const ee=void 0===j.code?ot.UNKNOWN:d_(j.code);return new _t(ee,j.message||"")}(f);n=new p_(s,l,c,D||null)}else if("documentChange"in e){const s=e.documentChange,l=el(i,s.document.name),c=ns(s.document.updateTime),f=s.document.createTime?ns(s.document.createTime):cn.min(),D=new As({mapValue:{fields:s.document.fields}}),M=hi.newFoundDocument(l,c,f,D);n=new jh(s.targetIds||[],s.removedTargetIds||[],M.key,M)}else if("documentDelete"in e){const s=e.documentDelete,l=el(i,s.document),c=s.readTime?ns(s.readTime):cn.min(),f=hi.newNoDocument(l,c);n=new jh([],s.removedTargetIds||[],f.key,f)}else if("documentRemove"in e){const s=e.documentRemove,l=el(i,s.document);n=new jh([],s.removedTargetIds||[],l,null)}else{if(!("filter"in e))return Wt();{const s=e.filter,{count:l=0,unchangedNames:c}=s,f=new Kp(l,c);n=new f_(s.targetId,f)}}var j;return n}(this.serializer,e),s=function(c){if(!("targetChange"in c))return cn.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?cn.min():f.readTime?ns(f.readTime):cn.min()}(e);return this.listener.u_(n,s)}c_(e){const n={};n.database=Gh(this.serializer),n.addTarget=function(c,f){let D;const M=f.target;if(D=Xl(M)?{documents:qh(c,M)}:{query:Yu(c,M).ut},D.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){D.resumeToken=tm(c,f.resumeToken);const j=em(c,f.expectedCount);null!==j&&(D.expectedCount=j)}else if(f.snapshotVersion.compareTo(cn.min())>0){D.readTime=ru(c,f.snapshotVersion.toTimestamp());const j=em(c,f.expectedCount);null!==j&&(D.expectedCount=j)}return D}(this.serializer,e);const s=function I_(i,e){const n=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Wt()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);s&&(n.labels=s),this.t_(n)}l_(e){const n={};n.database=Gh(this.serializer),n.removeTarget=e,this.t_(n)}}class zv extends Rm{constructor(e,n,s,l,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,l,f),this.serializer=c,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(on(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=function y_(i,e){return i&&i.length>0?(on(void 0!==e),i.map(n=>function(l,c){let f=ns(l.updateTime?l.updateTime:c);return f.isEqual(cn.min())&&(f=ns(c)),new vv(f,l.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),s=ns(e.commitTime);return this.listener.T_(s,n)}return on(!e.writeResults||0===e.writeResults.length),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=Gh(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>Qu(this.serializer,s))};this.t_(n)}}class Ef extends class{}{constructor(e,n,s,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=l,this.A_=!1}R_(){if(this.A_)throw new _t(ot.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,s,l){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.So(e,nm(n,s),l,c,f)).catch(c=>{throw"FirebaseError"===c.name?(c.code===ot.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new _t(ot.UNKNOWN,c.toString())})}vo(e,n,s,l,c){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,D])=>this.connection.vo(e,nm(n,s),l,f,D,c)).catch(f=>{throw"FirebaseError"===f.name?(f.code===ot.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new _t(ot.UNKNOWN,f.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class Jd{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,"Online"===e&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Jr(n),this.g_=!1):mt("OnlineStateTracker",n)}b_(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}class Wv{constructor(e,n,s,l,c){var f=this;this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=c,this.M_.io(D=>{s.enqueueAndForget((0,he.Z)(function*(){var M;pu(f)&&(mt("RemoteStore","Restarting streams for network reachability change."),yield(M=(0,he.Z)(function*(ee){const pe=Ht(ee);pe.v_.add(4),yield id(pe),pe.x_.set("Unknown"),pe.v_.delete(4),yield rd(pe)}),function j(ee){return M.apply(this,arguments)})(f))}))}),this.x_=new Jd(s,l)}}function rd(i){return Mm.apply(this,arguments)}function Mm(){return Mm=(0,he.Z)(function*(i){if(pu(i))for(const e of i.F_)yield e(!0)}),Mm.apply(this,arguments)}function id(i){return xm.apply(this,arguments)}function xm(){return xm=(0,he.Z)(function*(i){for(const e of i.F_)yield e(!1)}),xm.apply(this,arguments)}function Xd(i,e){const n=Ht(i);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),Tf(n)?th(n):gu(n).Jo()&&eh(n,e))}function sd(i,e){const n=Ht(i),s=gu(n);n.C_.delete(e),s.Jo()&&qv(n,e),0===n.C_.size&&(s.Jo()?s.Xo():pu(n)&&n.x_.set("Unknown"))}function eh(i,e){if(i.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(cn.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}gu(i).c_(e)}function qv(i,e){i.O_.Oe(e),gu(i).l_(e)}function th(i){i.O_=new Ev({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>i.C_.get(e)||null,nt:()=>i.datastore.serializer.databaseId}),gu(i).start(),i.x_.p_()}function Tf(i){return pu(i)&&!gu(i).Ho()&&i.C_.size>0}function pu(i){return 0===Ht(i).v_.size}function H_(i){i.O_=void 0}function j_(i){return Om.apply(this,arguments)}function Om(){return Om=(0,he.Z)(function*(i){i.C_.forEach((e,n)=>{eh(i,e)})}),Om.apply(this,arguments)}function $_(i,e){return Nm.apply(this,arguments)}function Nm(){return Nm=(0,he.Z)(function*(i,e){H_(i),Tf(i)?(i.x_.S_(e),th(i)):i.x_.set("Unknown")}),Nm.apply(this,arguments)}function Kv(i,e,n){return z_.apply(this,arguments)}function z_(){return z_=(0,he.Z)(function*(i,e,n){if(i.x_.set("Online"),e instanceof p_&&2===e.state&&e.cause)try{yield(s=(0,he.Z)(function*(c,f){const D=f.cause;for(const M of f.targetIds)c.C_.has(M)&&(yield c.remoteSyncer.rejectListen(M,D),c.C_.delete(M),c.O_.removeTarget(M))}),function l(c,f){return s.apply(this,arguments)})(i,e)}catch(s){mt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield nh(i,s)}else if(e instanceof jh?i.O_.$e(e):e instanceof f_?i.O_.Je(e):i.O_.Ge(e),!n.isEqual(cn.min()))try{const s=yield Vv(i.localStore);n.compareTo(s)>=0&&(yield function(c,f){const D=c.O_.it(f);return D.targetChanges.forEach((M,j)=>{if(M.resumeToken.approximateByteSize()>0){const ee=c.C_.get(j);ee&&c.C_.set(j,ee.withResumeToken(M.resumeToken,f))}}),D.targetMismatches.forEach((M,j)=>{const ee=c.C_.get(M);if(!ee)return;c.C_.set(M,ee.withResumeToken(Bi.EMPTY_BYTE_STRING,ee.snapshotVersion)),qv(c,M);const pe=new bl(ee.target,M,j,ee.sequenceNumber);eh(c,pe)}),c.remoteSyncer.applyRemoteEvent(D)}(i,n))}catch(s){mt("RemoteStore","Failed to raise snapshot:",s),yield nh(i,s)}var s}),z_.apply(this,arguments)}function nh(i,e,n){return wf.apply(this,arguments)}function wf(){return wf=(0,he.Z)(function*(i,e,n){if(!Vn(e))throw e;i.v_.add(1),yield id(i),i.x_.set("Offline"),n||(n=()=>Vv(i.localStore)),i.asyncQueue.enqueueRetryable((0,he.Z)(function*(){mt("RemoteStore","Retrying IndexedDB access"),yield n(),i.v_.delete(1),yield rd(i)}))}),wf.apply(this,arguments)}function ga(i,e){return e().catch(n=>nh(i,n,e))}function ic(i){return G_.apply(this,arguments)}function G_(){return G_=(0,he.Z)(function*(i){const e=Ht(i),n=Pl(e);let s=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;Lm(e);)try{const l=yield Uv(e.localStore,s);if(null===l){0===e.D_.length&&n.Xo();break}s=l.batchId,mu(e,l)}catch(l){yield nh(e,l)}Cf(e)&&W_(e)}),G_.apply(this,arguments)}function Lm(i){return pu(i)&&i.D_.length<10}function mu(i,e){i.D_.push(e);const n=Pl(i);n.Jo()&&n.P_&&n.I_(e.mutations)}function Cf(i){return pu(i)&&!Pl(i).Ho()&&i.D_.length>0}function W_(i){Pl(i).start()}function VE(i){return km.apply(this,arguments)}function km(){return km=(0,he.Z)(function*(i){Pl(i).d_()}),km.apply(this,arguments)}function Fm(i){return _a.apply(this,arguments)}function _a(){return _a=(0,he.Z)(function*(i){const e=Pl(i);for(const n of i.D_)e.I_(n.mutations)}),_a.apply(this,arguments)}function q_(i,e,n){return Vm.apply(this,arguments)}function Vm(){return Vm=(0,he.Z)(function*(i,e,n){const s=i.D_.shift(),l=Bh.from(s,e,n);yield ga(i,()=>i.remoteSyncer.applySuccessfulWrite(l)),yield ic(i)}),Vm.apply(this,arguments)}function UE(i,e){return _s.apply(this,arguments)}function _s(){return _s=(0,he.Z)(function*(i,e){var n;e&&Pl(i).P_&&(yield(n=(0,he.Z)(function*(l,c){if(Lc(D=c.code)&&D!==ot.ABORTED){const f=l.D_.shift();Pl(l).Zo(),yield ga(l,()=>l.remoteSyncer.rejectFailedWrite(f.batchId,c)),yield ic(l)}var D}),function s(l,c){return n.apply(this,arguments)})(i,e)),Cf(i)&&W_(i)}),_s.apply(this,arguments)}function K_(i,e){return rh.apply(this,arguments)}function rh(){return rh=(0,he.Z)(function*(i,e){const n=Ht(i);n.asyncQueue.verifyOperationInProgress(),mt("RemoteStore","RemoteStore received new credentials");const s=pu(n);n.v_.add(3),yield id(n),s&&n.x_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),yield rd(n)}),rh.apply(this,arguments)}function Um(i,e){return Bm.apply(this,arguments)}function Bm(){return Bm=(0,he.Z)(function*(i,e){const n=Ht(i);e?(n.v_.delete(2),yield rd(n)):e||(n.v_.add(2),yield id(n),n.x_.set("Unknown"))}),Bm.apply(this,arguments)}function gu(i){return i.N_||(i.N_=function(n,s,l){const c=Ht(n);return c.R_(),new FE(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(i.datastore,i.asyncQueue,{Po:j_.bind(null,i),To:$_.bind(null,i),u_:Kv.bind(null,i)}),i.F_.push(function(){var e=(0,he.Z)(function*(n){n?(i.N_.Zo(),Tf(i)?th(i):i.x_.set("Unknown")):(yield i.N_.stop(),H_(i))});return function(n){return e.apply(this,arguments)}}())),i.N_}function Pl(i){return i.B_||(i.B_=function(n,s,l){const c=Ht(n);return c.R_(),new zv(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(i.datastore,i.asyncQueue,{Po:VE.bind(null,i),To:UE.bind(null,i),E_:Fm.bind(null,i),T_:q_.bind(null,i)}),i.F_.push(function(){var e=(0,he.Z)(function*(n){n?(i.B_.Zo(),yield ic(i)):(yield i.B_.stop(),i.D_.length>0&&(mt("RemoteStore",`Stopping write stream with ${i.D_.length} pending writes`),i.D_=[]))});return function(n){return e.apply(this,arguments)}}())),i.B_}class bf{constructor(e,n,s,l,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new di,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,l,c){const f=Date.now()+s,D=new bf(e,n,f,l,c);return D.start(s),D}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new _t(ot.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function od(i,e){if(Jr("AsyncQueue",`${e}: ${i}`),Vn(i))return new _t(ot.UNAVAILABLE,`${e}: ${i}`);throw i}class sc{constructor(e){this.comparator=e?(n,s)=>e(n,s)||Ut.comparator(n.key,s.key):(n,s)=>Ut.comparator(n.key,s.key),this.keyedMap=zu(),this.sortedSet=new zr(this.comparator)}static emptySet(e){return new sc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof sc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const s=new sc;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class Hm{constructor(){this.L_=new zr(Ut.comparator)}track(e){const n=e.doc.key,s=this.L_.get(n);s?0!==e.type&&3===s.type?this.L_=this.L_.insert(n,e):3===e.type&&1!==s.type?this.L_=this.L_.insert(n,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.L_=this.L_.remove(n):1===e.type&&2===s.type?this.L_=this.L_.insert(n,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):Wt():this.L_=this.L_.insert(n,e)}k_(){const e=[];return this.L_.inorderTraversal((n,s)=>{e.push(s)}),e}}class ad{constructor(e,n,s,l,c,f,D,M,j){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=D,this.excludesMetadataChanges=M,this.hasCachedResults=j}static fromInitialDocuments(e,n,s,l,c){const f=[];return n.forEach(D=>{f.push({type:0,doc:D})}),new ad(e,n,sc.emptySet(n),f,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fe(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==s[l].type||!n[l].doc.isEqual(s[l].doc))return!1;return!0}}class Zv{constructor(){this.q_=void 0,this.Q_=[]}}class Z_{constructor(){this.queries=new io(e=>it(e),Fe),this.onlineState="Unknown",this.K_=new Set}}function Df(i,e){return _u.apply(this,arguments)}function _u(){return _u=(0,he.Z)(function*(i,e){const n=Ht(i),s=e.query;let l=!1,c=n.queries.get(s);if(c||(l=!0,c=new Zv),l)try{c.q_=yield n.onListen(s)}catch(f){const D=od(f,`Initialization of query '${It(e.query)}' failed`);return void e.onError(D)}n.queries.set(s,c),c.Q_.push(e),e.U_(n.onlineState),c.q_&&e.W_(c.q_)&&Af(n)}),_u.apply(this,arguments)}function ka(i,e){return yu.apply(this,arguments)}function yu(){return yu=(0,he.Z)(function*(i,e){const n=Ht(i),s=e.query;let l=!1;const c=n.queries.get(s);if(c){const f=c.Q_.indexOf(e);f>=0&&(c.Q_.splice(f,1),l=0===c.Q_.length)}if(l)return n.queries.delete(s),n.onUnlisten(s)}),yu.apply(this,arguments)}function Qv(i,e){const n=Ht(i);let s=!1;for(const l of e){const f=n.queries.get(l.query);if(f){for(const D of f.Q_)D.W_(l)&&(s=!0);f.q_=l}}s&&Af(n)}function Yv(i,e,n){const s=Ht(i),l=s.queries.get(e);if(l)for(const c of l.Q_)c.onError(n);s.queries.delete(e)}function Af(i){i.K_.forEach(e=>{e.next()})}class Sf{constructor(e,n,s){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=s||{}}W_(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)3!==l.type&&s.push(l);e=new ad(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){return!e.fromCache||(!this.options.Z_||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}H_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Y_(e){e=ad.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}class jm{constructor(e,n){this.X_=e,this.byteLength=n}ea(){return"metadata"in this.X_}}class ld{constructor(e){this.serializer=e}Ps(e){return el(this.serializer,e)}Is(e){return e.metadata.exists?Ud(this.serializer,e.document,!1):hi.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return ns(e)}}class Pf{constructor(e,n,s){this.ta=e,this.localStore=n,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=$m(e)}na(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.X_.namedQuery)this.queries.push(e.X_.namedQuery);else if(e.X_.documentMetadata){this.documents.push({metadata:e.X_.documentMetadata}),e.X_.documentMetadata.exists||++n;const s=or.fromString(e.X_.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.X_.document&&(this.documents[this.documents.length-1].document=e.X_.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}ra(e){const n=new Map,s=new ld(this.serializer);for(const l of e)if(l.metadata.queries){const c=s.Ps(l.metadata.name);for(const f of l.metadata.queries){const D=(n.get(f)||er()).add(c);n.set(f,D)}}return n}complete(){var e=this;return(0,he.Z)(function*(){const n=yield function Jc(i,e,n,s){return Zd.apply(this,arguments)}(e.localStore,new ld(e.serializer),e.documents,e.ta.id),s=e.ra(e.documents);for(const l of e.queries)yield bm(e.localStore,l,s.get(l.name));return e.progress.taskState="Success",{progress:e.progress,ia:e.collectionGroups,sa:n}})()}}function $m(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class zm{constructor(e){this.key=e}}class Q_{constructor(e){this.key=e}}class Y_{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=er(),this.mutatedKeys=er(),this.ua=pr(e),this.ca=new sc(this.ua)}get la(){return this.oa}ha(e,n){const s=n?n.Pa:new Hm,l=n?n.ca:this.ca;let c=n?n.mutatedKeys:this.mutatedKeys,f=l,D=!1;const M="F"===this.query.limitType&&l.size===this.query.limit?l.last():null,j="L"===this.query.limitType&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((ee,pe)=>{const Ne=l.get(ee),Xe=Jt(this.query,pe)?pe:null,Mt=!!Ne&&this.mutatedKeys.has(Ne.key),$t=!!Xe&&(Xe.hasLocalMutations||this.mutatedKeys.has(Xe.key)&&Xe.hasCommittedMutations);let Bt=!1;Ne&&Xe?Ne.data.isEqual(Xe.data)?Mt!==$t&&(s.track({type:3,doc:Xe}),Bt=!0):this.Ia(Ne,Xe)||(s.track({type:2,doc:Xe}),Bt=!0,(M&&this.ua(Xe,M)>0||j&&this.ua(Xe,j)<0)&&(D=!0)):!Ne&&Xe?(s.track({type:0,doc:Xe}),Bt=!0):Ne&&!Xe&&(s.track({type:1,doc:Ne}),Bt=!0,(M||j)&&(D=!0)),Bt&&(Xe?(f=f.add(Xe),c=$t?c.add(ee):c.delete(ee)):(f=f.delete(ee),c=c.delete(ee)))}),null!==this.query.limit)for(;f.size>this.query.limit;){const ee="F"===this.query.limitType?f.last():f.first();f=f.delete(ee.key),c=c.delete(ee.key),s.track({type:1,doc:ee})}return{ca:f,Pa:s,Xi:D,mutatedKeys:c}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,l){const c=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const f=e.Pa.k_();f.sort((ee,pe)=>function(Xe,Mt){const $t=Bt=>{switch(Bt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Wt()}};return $t(Xe)-$t(Mt)}(ee.type,pe.type)||this.ua(ee.doc,pe.doc)),this.Ta(s),l=null!=l&&l;const D=n&&!l?this.Ea():[],M=0===this.aa.size&&this.current&&!l?1:0,j=M!==this._a;return this._a=M,0!==f.length||j?{snapshot:new ad(this.query,e.ca,c,f,e.mutatedKeys,0===M,j,!1,!!s&&s.resumeToken.approximateByteSize()>0),da:D}:{da:D}}U_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new Hm,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=er(),this.ca.forEach(s=>{this.Aa(s.key)&&(this.aa=this.aa.add(s.key))});const n=[];return e.forEach(s=>{this.aa.has(s)||n.push(new Q_(s))}),this.aa.forEach(s=>{e.has(s)||n.push(new zm(s))}),n}Ra(e){this.oa=e.hs,this.aa=er();const n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return ad.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,0===this._a,this.hasCachedResults)}}class Jv{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class Xv{constructor(e){this.key=e,this.ma=!1}}class J_{constructor(e,n,s,l,c,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.fa={},this.ga=new io(D=>it(D),Fe),this.pa=new Map,this.ya=new Set,this.wa=new zr(Ut.comparator),this.Sa=new Map,this.ba=new ym,this.Da={},this.Ca=new Map,this.va=au.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return!0===this.Fa}}function BE(i,e){return Gm.apply(this,arguments)}function Gm(){return Gm=(0,he.Z)(function*(i,e){const n=tg(i);let s,l;const c=n.ga.get(e);if(c)s=c.targetId,n.sharedClientState.addLocalQueryTarget(s),l=c.view.Va();else{const f=yield cu(n.localStore,m(e)),D=n.sharedClientState.addLocalQueryTarget(f.targetId);s=f.targetId,l=yield X_(n,e,s,"current"===D,f.resumeToken),n.isPrimaryClient&&Xd(n.remoteStore,f)}return l}),Gm.apply(this,arguments)}function X_(i,e,n,s,l){return ey.apply(this,arguments)}function ey(){return ey=(0,he.Z)(function*(i,e,n,s,l){i.Ma=(pe,Ne,Xe)=>{return(Mt=(0,he.Z)(function*(Bt,yn,Wn,mn){let qn=yn.view.ha(Wn);qn.Xi&&(qn=yield Qc(Bt.localStore,yn.query,!1).then(({documents:ra})=>yn.view.ha(ra,qn)));const xr=mn&&mn.targetChanges.get(yn.targetId),Ur=mn&&null!=mn.targetMismatches.get(yn.targetId),is=yn.view.applyChanges(qn,Bt.isPrimaryClient,xr,Ur);return Nf(Bt,yn.targetId,is.da),is.snapshot}),function $t(Bt,yn,Wn,mn){return Mt.apply(this,arguments)})(i,pe,Ne,Xe);var Mt};const c=yield Qc(i.localStore,e,!0),f=new Y_(e,c.hs),D=f.ha(c.documents),M=nu.createSynthesizedTargetChangeForCurrentChange(n,s&&"Offline"!==i.onlineState,l),j=f.applyChanges(D,i.isPrimaryClient,M);Nf(i,n,j.da);const ee=new Jv(e,n,f);return i.ga.set(e,ee),i.pa.has(n)?i.pa.get(n).push(e):i.pa.set(n,[e]),j.snapshot}),ey.apply(this,arguments)}function ty(i,e){return Rf.apply(this,arguments)}function Rf(){return Rf=(0,he.Z)(function*(i,e){const n=Ht(i),s=n.ga.get(e),l=n.pa.get(s.targetId);if(l.length>1)return n.pa.set(s.targetId,l.filter(c=>!Fe(c,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||(yield du(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),sd(n.remoteStore,s.targetId),Eu(n,s.targetId)}).catch(B))):(Eu(n,s.targetId),yield du(n.localStore,s.targetId,!0))}),Rf.apply(this,arguments)}function ud(){return ud=(0,he.Z)(function*(i,e,n){const s=ng(i);try{const l=yield function(f,D){const M=Ht(f),j=Xr.now(),ee=D.reduce((Xe,Mt)=>Xe.add(Mt.key),er());let pe,Ne;return M.persistence.runTransaction("Locally write mutations","readwrite",Xe=>{let Mt=so(),$t=er();return M.os.getEntries(Xe,ee).next(Bt=>{Mt=Bt,Mt.forEach((yn,Wn)=>{Wn.isValidDocument()||($t=$t.add(yn))})}).next(()=>M.localDocuments.getOverlayedDocuments(Xe,Mt)).next(Bt=>{pe=Bt;const yn=[];for(const Wn of D){const mn=$p(Wn,pe.get(Wn.key).overlayedDocument);null!=mn&&yn.push(new Xa(Wn.key,mn,Yl(mn.value.mapValue),Ri.exists(!0)))}return M.mutationQueue.addMutationBatch(Xe,j,yn,D)}).next(Bt=>{Ne=Bt;const yn=Bt.applyToLocalDocumentSet(pe,$t);return M.documentOverlayCache.saveOverlays(Xe,Bt.batchId,yn)})}).then(()=>({batchId:Ne.batchId,changes:Oh(pe)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(l.batchId),function(f,D,M){let j=f.Da[f.currentUser.toKey()];j||(j=new zr(Cn)),j=j.insert(D,M),f.Da[f.currentUser.toKey()]=j}(s,l.batchId,n),yield Fa(s,l.changes),yield ic(s.remoteStore)}catch(l){const c=od(l,"Failed to persist write");n.reject(c)}}),ud.apply(this,arguments)}function Wm(i,e){return Mf.apply(this,arguments)}function Mf(){return Mf=(0,he.Z)(function*(i,e){const n=Ht(i);try{const s=yield function kE(i,e){const n=Ht(i),s=e.snapshotVersion;let l=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const f=n.os.newChangeBuffer({trackRemovals:!0});l=n.ns;const D=[];e.targetChanges.forEach((ee,pe)=>{const Ne=l.get(pe);if(!Ne)return;D.push(n.Qr.removeMatchingKeys(c,ee.removedDocuments,pe).next(()=>n.Qr.addMatchingKeys(c,ee.addedDocuments,pe)));let Xe=Ne.withSequenceNumber(c.currentSequenceNumber);var $t,Bt,yn;null!==e.targetMismatches.get(pe)?Xe=Xe.withResumeToken(Bi.EMPTY_BYTE_STRING,cn.min()).withLastLimboFreeSnapshotVersion(cn.min()):ee.resumeToken.approximateByteSize()>0&&(Xe=Xe.withResumeToken(ee.resumeToken,s)),l=l.insert(pe,Xe),Bt=Xe,yn=ee,(0===($t=Ne).resumeToken.approximateByteSize()||Bt.snapshotVersion.toMicroseconds()-$t.snapshotVersion.toMicroseconds()>=3e8||yn.addedDocuments.size+yn.modifiedDocuments.size+yn.removedDocuments.size>0)&&D.push(n.Qr.updateTargetData(c,Xe))});let M=so(),j=er();if(e.documentUpdates.forEach(ee=>{e.resolvedLimboDocuments.has(ee)&&D.push(n.persistence.referenceDelegate.updateLimboDocument(c,ee))}),D.push(qd(c,f,e.documentUpdates).next(ee=>{M=ee.cs,j=ee.ls})),!s.isEqual(cn.min())){const ee=n.Qr.getLastRemoteSnapshotVersion(c).next(pe=>n.Qr.setTargetsMetadata(c,c.currentSequenceNumber,s));D.push(ee)}return Y.waitFor(D).next(()=>f.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,M,j)).next(()=>M)}).then(c=>(n.ns=l,c))}(n.localStore,e);e.targetChanges.forEach((l,c)=>{const f=n.Sa.get(c);f&&(on(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?f.ma=!0:l.modifiedDocuments.size>0?on(f.ma):l.removedDocuments.size>0&&(on(f.ma),f.ma=!1))}),yield Fa(n,s,e)}catch(s){yield B(s)}}),Mf.apply(this,arguments)}function ny(i,e,n){const s=Ht(i);if(s.isPrimaryClient&&0===n||!s.isPrimaryClient&&1===n){const l=[];s.ga.forEach((c,f)=>{const D=f.view.U_(e);D.snapshot&&l.push(D.snapshot)}),function(f,D){const M=Ht(f);M.onlineState=D;let j=!1;M.queries.forEach((ee,pe)=>{for(const Ne of pe.Q_)Ne.U_(D)&&(j=!0)}),j&&Af(M)}(s.eventManager,e),l.length&&s.fa.u_(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function ry(i,e,n){return xf.apply(this,arguments)}function xf(){return xf=(0,he.Z)(function*(i,e,n){const s=Ht(i);s.sharedClientState.updateQueryState(e,"rejected",n);const l=s.Sa.get(e),c=l&&l.key;if(c){let f=new zr(Ut.comparator);f=f.insert(c,hi.newNoDocument(c,cn.min()));const D=er().add(c),M=new Ku(cn.min(),new Map,new zr(Cn),f,D);yield Wm(s,M),s.wa=s.wa.remove(c),s.Sa.delete(e),ih(s)}else yield du(s.localStore,e,!1).then(()=>Eu(s,e,n)).catch(B)}),xf.apply(this,arguments)}function Jn(i,e){return Of.apply(this,arguments)}function Of(){return Of=(0,he.Z)(function*(i,e){const n=Ht(i),s=e.batch.batchId;try{const l=yield function Fv(i,e){const n=Ht(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=e.batch.keys(),c=n.os.newChangeBuffer({trackRemovals:!0});return function(D,M,j,ee){const pe=j.batch,Ne=pe.keys();let Xe=Y.resolve();return Ne.forEach(Mt=>{Xe=Xe.next(()=>ee.getEntry(M,Mt)).next($t=>{const Bt=j.docVersions.get(Mt);on(null!==Bt),$t.version.compareTo(Bt)<0&&(pe.applyToRemoteDocument($t,j),$t.isValidDocument()&&($t.setReadTime(j.commitVersion),ee.addEntry($t)))})}),Xe.next(()=>D.mutationQueue.removeMutationBatch(M,pe))}(n,s,e,c).next(()=>c.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,l,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(D){let M=er();for(let j=0;j<D.mutationResults.length;++j)D.mutationResults[j].transformResults.length>0&&(M=M.add(D.batch.mutations[j].key));return M}(e))).next(()=>n.localDocuments.getDocuments(s,l))})}(n.localStore,e);Iu(n,s,null),cd(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),yield Fa(n,l)}catch(l){yield B(l)}}),Of.apply(this,arguments)}function iy(i,e,n){return vu.apply(this,arguments)}function vu(){return vu=(0,he.Z)(function*(i,e,n){const s=Ht(i);try{const l=yield function(f,D){const M=Ht(f);return M.persistence.runTransaction("Reject batch","readwrite-primary",j=>{let ee;return M.mutationQueue.lookupMutationBatch(j,D).next(pe=>(on(null!==pe),ee=pe.keys(),M.mutationQueue.removeMutationBatch(j,pe))).next(()=>M.mutationQueue.performConsistencyCheck(j)).next(()=>M.documentOverlayCache.removeOverlaysForBatchId(j,ee,D)).next(()=>M.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(j,ee)).next(()=>M.localDocuments.getDocuments(j,ee))})}(s.localStore,e);Iu(s,e,n),cd(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),yield Fa(s,l)}catch(l){yield B(l)}}),vu.apply(this,arguments)}function qm(){return qm=(0,he.Z)(function*(i,e){const n=Ht(i);pu(n.remoteStore)||mt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(f){const D=Ht(f);return D.persistence.runTransaction("Get highest unacknowledged batch id","readonly",M=>D.mutationQueue.getHighestUnacknowledgedBatchId(M))}(n.localStore);if(-1===s)return void e.resolve();const l=n.Ca.get(s)||[];l.push(e),n.Ca.set(s,l)}catch(s){const l=od(s,"Initialization of waitForPendingWrites() operation failed");e.reject(l)}}),qm.apply(this,arguments)}function cd(i,e){(i.Ca.get(e)||[]).forEach(n=>{n.resolve()}),i.Ca.delete(e)}function Iu(i,e,n){const s=Ht(i);let l=s.Da[s.currentUser.toKey()];if(l){const c=l.get(e);c&&(n?c.reject(n):c.resolve(),l=l.remove(e)),s.Da[s.currentUser.toKey()]=l}}function Eu(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.pa.get(e))i.ga.delete(s),n&&i.fa.xa(s,n);i.pa.delete(e),i.isPrimaryClient&&i.ba.Vr(e).forEach(s=>{i.ba.containsKey(s)||dd(i,s)})}function dd(i,e){i.ya.delete(e.path.canonicalString());const n=i.wa.get(e);null!==n&&(sd(i.remoteStore,n),i.wa=i.wa.remove(e),i.Sa.delete(n),ih(i))}function Nf(i,e,n){for(const s of n)s instanceof zm?(i.ba.addReference(s.key,e),Km(i,s)):s instanceof Q_?(mt("SyncEngine","Document no longer in limbo: "+s.key),i.ba.removeReference(s.key,e),i.ba.containsKey(s.key)||dd(i,s.key)):Wt()}function Km(i,e){const n=e.key,s=n.path.canonicalString();i.wa.get(n)||i.ya.has(s)||(mt("SyncEngine","New document in limbo: "+n),i.ya.add(s),ih(i))}function ih(i){for(;i.ya.size>0&&i.wa.size<i.maxConcurrentLimboResolutions;){const e=i.ya.values().next().value;i.ya.delete(e);const n=new Ut(or.fromString(e)),s=i.va.next();i.Sa.set(s,new Xv(n)),i.wa=i.wa.insert(n,s),Xd(i.remoteStore,new bl(m(Na(n.path)),s,"TargetPurposeLimboResolution",Vs._e))}}function Fa(i,e,n){return Lf.apply(this,arguments)}function Lf(){return Lf=(0,he.Z)(function*(i,e,n){const s=Ht(i),l=[],c=[],f=[];var D;s.ga.isEmpty()||(s.ga.forEach((D,M)=>{f.push(s.Ma(M,e,n).then(j=>{if((j||n)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(M.targetId,j?.fromCache?"not-current":"current"),j){l.push(j);const ee=ff.Ki(M.targetId,j);c.push(ee)}}))}),yield Promise.all(f),s.fa.u_(l),yield(D=(0,he.Z)(function*(j,ee){const pe=Ht(j);try{yield pe.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ne=>Y.forEach(ee,Xe=>Y.forEach(Xe.qi,Mt=>pe.persistence.referenceDelegate.addReference(Ne,Xe.targetId,Mt)).next(()=>Y.forEach(Xe.Qi,Mt=>pe.persistence.referenceDelegate.removeReference(Ne,Xe.targetId,Mt)))))}catch(Ne){if(!Vn(Ne))throw Ne;mt("LocalStore","Failed to update sequence numbers: "+Ne)}for(const Ne of ee){const Xe=Ne.targetId;if(!Ne.fromCache){const Mt=pe.ns.get(Xe),Bt=Mt.withLastLimboFreeSnapshotVersion(Mt.snapshotVersion);pe.ns=pe.ns.insert(Xe,Bt)}}}),function M(j,ee){return D.apply(this,arguments)})(s.localStore,c))}),Lf.apply(this,arguments)}function Zm(i,e){return Qm.apply(this,arguments)}function Qm(){return Qm=(0,he.Z)(function*(i,e){const n=Ht(i);if(!n.currentUser.isEqual(e)){mt("SyncEngine","User change. New user:",e.toKey());const s=yield U_(n.localStore,e);n.currentUser=e,(c=n).Ca.forEach(D=>{D.forEach(M=>{M.reject(new _t(ot.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),c.Ca.clear(),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield Fa(n,s.us)}var c}),Qm.apply(this,arguments)}function eI(i,e){const n=Ht(i),s=n.Sa.get(e);if(s&&s.ma)return er().add(s.key);{let l=er();const c=n.pa.get(e);if(!c)return l;for(const f of c){const D=n.ga.get(f);l=l.unionWith(D.view.la)}return l}}function tI(i,e){return kf.apply(this,arguments)}function kf(){return kf=(0,he.Z)(function*(i,e){const n=Ht(i),s=yield Qc(n.localStore,e.query,!0),l=e.view.Ra(s);return n.isPrimaryClient&&Nf(n,e.targetId,l.da),l}),kf.apply(this,arguments)}function nI(i,e){return Ym.apply(this,arguments)}function Ym(){return Ym=(0,he.Z)(function*(i,e){const n=Ht(i);return Yc(n.localStore,e).then(s=>Fa(n,s))}),Ym.apply(this,arguments)}function rI(i,e,n,s){return Jm.apply(this,arguments)}function Jm(){return Jm=(0,he.Z)(function*(i,e,n,s){const l=Ht(i),c=yield function(D,M){const j=Ht(D),ee=Ht(j.mutationQueue);return j.persistence.runTransaction("Lookup mutation documents","readonly",pe=>ee.vn(pe,M).next(Ne=>Ne?j.localDocuments.getDocuments(pe,Ne):Y.resolve(null)))}(l.localStore,e);var M;null!==c?("pending"===n?yield ic(l.remoteStore):"acknowledged"===n||"rejected"===n?(Iu(l,e,s||null),cd(l,e),M=e,Ht(Ht(l.localStore).mutationQueue).Mn(M)):Wt(),yield Fa(l,c)):mt("SyncEngine","Cannot apply mutation batch with id: "+e)}),Jm.apply(this,arguments)}function Ff(){return Ff=(0,he.Z)(function*(i,e){const n=Ht(i);if(tg(n),ng(n),!0===e&&!0!==n.Fa){const s=n.sharedClientState.getAllActiveQueryTargets(),l=yield ay(n,s.toArray());n.Fa=!0,yield Um(n.remoteStore,!0);for(const c of l)Xd(n.remoteStore,c)}else if(!1===e&&!1!==n.Fa){const s=[];let l=Promise.resolve();n.pa.forEach((c,f)=>{n.sharedClientState.isLocalQueryTarget(f)?s.push(f):l=l.then(()=>(Eu(n,f),du(n.localStore,f,!0))),sd(n.remoteStore,f)}),yield l,yield ay(n,s),function(f){const D=Ht(f);D.Sa.forEach((M,j)=>{sd(D.remoteStore,j)}),D.ba.mr(),D.Sa=new Map,D.wa=new zr(Ut.comparator)}(n),n.Fa=!1,yield Um(n.remoteStore,!1)}}),Ff.apply(this,arguments)}function ay(i,e,n){return Xm.apply(this,arguments)}function Xm(){return Xm=(0,he.Z)(function*(i,e,n){const s=Ht(i),l=[],c=[];for(const f of e){let D;const M=s.pa.get(f);if(M&&0!==M.length){D=yield cu(s.localStore,m(M[0]));for(const j of M){const ee=s.ga.get(j),pe=yield tI(s,ee);pe.snapshot&&c.push(pe.snapshot)}}else{const j=yield pf(s.localStore,f);D=yield cu(s.localStore,j),yield X_(s,jo(j),f,!1,D.resumeToken)}l.push(D)}return s.fa.u_(c),l}),Xm.apply(this,arguments)}function jo(i){return El(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function iI(i){return n=Ht(i).localStore,Ht(Ht(n).persistence).Li();var n}function sI(i,e,n,s){return ly.apply(this,arguments)}function ly(){return ly=(0,he.Z)(function*(i,e,n,s){const l=Ht(i);if(l.Fa)return void mt("SyncEngine","Ignoring unexpected query state notification.");const c=l.pa.get(e);if(c&&c.length>0)switch(n){case"current":case"not-current":{const f=yield Yc(l.localStore,pn(c[0])),D=Ku.createSynthesizedRemoteEventForCurrentChange(e,"current"===n,Bi.EMPTY_BYTE_STRING);yield Fa(l,f,D);break}case"rejected":yield du(l.localStore,e,!0),Eu(l,e,s);break;default:Wt()}}),ly.apply(this,arguments)}function eg(i,e,n){return Vf.apply(this,arguments)}function Vf(){return Vf=(0,he.Z)(function*(i,e,n){const s=tg(i);if(s.Fa){for(const l of e){if(s.pa.has(l)){mt("SyncEngine","Adding an already active target "+l);continue}const c=yield pf(s.localStore,l),f=yield cu(s.localStore,c);yield X_(s,jo(c),f.targetId,!1,f.resumeToken),Xd(s.remoteStore,f)}for(const l of n)s.pa.has(l)&&(yield du(s.localStore,l,!1).then(()=>{sd(s.remoteStore,l),Eu(s,l)}).catch(B))}}),Vf.apply(this,arguments)}function tg(i){const e=Ht(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Wm.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=eI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ry.bind(null,e),e.fa.u_=Qv.bind(null,e.eventManager),e.fa.xa=Yv.bind(null,e.eventManager),e}function ng(i){const e=Ht(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Jn.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=iy.bind(null,e),e}class hd{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,he.Z)(function*(){n.serializer=nd(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return kv(this.persistence,new Tm,e.initialUser,this.serializer)}createPersistence(e){return new ma(Zc.Hr,this.serializer)}createSharedClientState(e){return new B_}terminate(){var e=this;return(0,he.Z)(function*(){var n,s;null===(n=e.gcScheduler)||void 0===n||n.stop(),null===(s=e.indexBackfillerScheduler)||void 0===s||s.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class rg extends hd{constructor(e,n,s){super(),this.Na=e,this.cacheSizeBytes=n,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var n=()=>super.initialize,s=this;return(0,he.Z)(function*(){yield n().call(s,e),yield s.Na.initialize(s,e),yield ng(s.Na.syncEngine),yield ic(s.Na.remoteStore),yield s.persistence.fi(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return kv(this.persistence,new Tm,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){return new xv(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const s=new Ra(n,this.persistence);return new Ru(e.asyncQueue,s)}createPersistence(e){const n=Wd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?Ss.withCacheSize(this.cacheSizeBytes):Ss.DEFAULT;return new Em(this.synchronizeTabs,n,e.clientId,s,e.asyncQueue,Yd(),If(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new B_}}class Uf extends rg{constructor(e,n){super(e,n,!1),this.Na=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){var n=()=>super.initialize,s=this;return(0,he.Z)(function*(){yield n().call(s,e);const l=s.Na.syncEngine;s.sharedClientState instanceof yf&&(s.sharedClientState.syncEngine={Zs:rI.bind(null,l),Xs:sI.bind(null,l),eo:eg.bind(null,l),Li:iI.bind(null,l),Ys:nI.bind(null,l)},yield s.sharedClientState.start()),yield s.persistence.fi(function(){var c=(0,he.Z)(function*(f){yield function oy(i,e){return Ff.apply(this,arguments)}(s.Na.syncEngine,f),s.gcScheduler&&(f&&!s.gcScheduler.started?s.gcScheduler.start():f||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(f&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():f||s.indexBackfillerScheduler.stop())});return function(f){return c.apply(this,arguments)}}())})()}createSharedClientState(e){const n=Yd();if(!yf.D(n))throw new _t(ot.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=Wd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new yf(n,e.asyncQueue,s,e.clientId,e.initialUser)}}class fd{initialize(e,n){var s=this;return(0,he.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(n),s.remoteStore=s.createRemoteStore(n),s.eventManager=s.createEventManager(n),s.syncEngine=s.createSyncEngine(n,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=l=>ny(s.syncEngine,l,1),s.remoteStore.remoteSyncer.handleCredentialChange=Zm.bind(null,s.syncEngine),yield Um(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Z_}createDatastore(e){const n=nd(e.databaseInfo.databaseId),s=new Sm(e.databaseInfo);return new Ef(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return s=this.localStore,l=this.datastore,c=e.asyncQueue,f=n=>ny(this.syncEngine,n,0),D=jv.D()?new jv:new Hv,new Wv(s,l,c,f,D);var s,l,c,f,D}createSyncEngine(e,n){return function(l,c,f,D,M,j,ee){const pe=new J_(l,c,f,D,M,j);return ee&&(pe.Fa=!0),pe}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){var e=this;return(0,he.Z)(function*(){var n,s;yield(s=(0,he.Z)(function*(c){const f=Ht(c);mt("RemoteStore","RemoteStore shutting down."),f.v_.add(5),yield id(f),f.M_.shutdown(),f.x_.set("Unknown")}),function l(c){return s.apply(this,arguments)})(e.remoteStore),null===(n=e.datastore)||void 0===n||n.terminate()})()}}function uy(i,e=10240){let n=0;return{read:()=>(0,he.Z)(function*(){if(n<i.byteLength){const s={value:i.slice(n,n+e),done:!1};return n+=e,s}return{done:!0}})(),cancel:()=>(0,he.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Bf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):Jr("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class lI{constructor(e,n){this.ka=e,this.serializer=n,this.metadata=new di,this.buffer=new Uint8Array,this.qa=new TextDecoder("utf-8"),this.Qa().then(s=>{s&&s.ea()?this.metadata.resolve(s.X_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(s?.X_)}`))},s=>this.metadata.reject(s))}close(){return this.ka.cancel()}getMetadata(){var e=this;return(0,he.Z)(function*(){return e.metadata.promise})()}Oa(){var e=this;return(0,he.Z)(function*(){return yield e.getMetadata(),e.Qa()})()}Qa(){var e=this;return(0,he.Z)(function*(){const n=yield e.Ka();if(null===n)return null;const s=e.qa.decode(n),l=Number(s);isNaN(l)&&e.$a(`length string (${s}) is not valid number`);const c=yield e.Ua(l);return new jm(JSON.parse(c),n.length+l)})()}Wa(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Ka(){var e=this;return(0,he.Z)(function*(){for(;e.Wa()<0&&!(yield e.Ga()););if(0===e.buffer.length)return null;const n=e.Wa();n<0&&e.$a("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,n);return e.buffer=e.buffer.slice(n),s})()}Ua(e){var n=this;return(0,he.Z)(function*(){for(;n.buffer.length<e;)(yield n.Ga())&&n.$a("Reached the end of bundle when more is expected.");const s=n.qa.decode(n.buffer.slice(0,e));return n.buffer=n.buffer.slice(e),s})()}$a(e){throw this.ka.cancel(),new Error(`Invalid bundle format: ${e}`)}Ga(){var e=this;return(0,he.Z)(function*(){const n=yield e.ka.read();if(!n.done){const s=new Uint8Array(e.buffer.length+n.value.length);s.set(e.buffer),s.set(n.value,e.buffer.length),e.buffer=s}return n.done})()}}class uI{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var n=this;return(0,he.Z)(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw n.lastTransactionError=new _t(ot.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),n.lastTransactionError;const s=yield(l=(0,he.Z)(function*(f,D){const M=Ht(f),j={documents:D.map(Xe=>iu(M.serializer,Xe))},ee=yield M.vo("BatchGetDocuments",M.serializer.databaseId,or.emptyPath(),j,D.length),pe=new Map;ee.forEach(Xe=>{const Mt=function Bd(i,e){return"found"in e?function(s,l){on(!!l.found);const c=el(s,l.found.name),f=ns(l.found.updateTime),D=l.found.createTime?ns(l.found.createTime):cn.min(),M=new As({mapValue:{fields:l.found.fields}});return hi.newFoundDocument(c,f,D,M)}(i,e):"missing"in e?function(s,l){on(!!l.missing),on(!!l.readTime);const c=el(s,l.missing),f=ns(l.readTime);return hi.newNoDocument(c,f)}(i,e):Wt()}(M.serializer,Xe);pe.set(Mt.key.toString(),Mt)});const Ne=[];return D.forEach(Xe=>{const Mt=pe.get(Xe.toString());on(!!Mt),Ne.push(Mt)}),Ne}),function c(f,D){return l.apply(this,arguments)})(n.datastore,e);var l;return s.forEach(l=>n.recordVersion(l)),s})()}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new Nc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,he.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const n=e.readVersions;var s;e.mutations.forEach(s=>{n.delete(s.key.toString())}),n.forEach((s,l)=>{const c=Ut.fromPath(l);e.mutations.push(new Uh(c,e.precondition(c)))}),yield(s=(0,he.Z)(function*(c,f){const D=Ht(c),M={writes:f.map(j=>Qu(D.serializer,j))};yield D.So("Commit",D.serializer.databaseId,or.emptyPath(),M)}),function l(c,f){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Wt();n=cn.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!n.isEqual(s))throw new _t(ot.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(cn.min())?Ri.exists(!1):Ri.updateTime(n):Ri.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(cn.min()))throw new _t(ot.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ri.updateTime(n)}return Ri.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class rl{constructor(e,n,s,l,c){this.asyncQueue=e,this.datastore=n,this.options=s,this.updateFunction=l,this.deferred=c,this.za=s.maxAttempts,this.jo=new Pm(this.asyncQueue,"transaction_retry")}ja(){this.za-=1,this.Ha()}Ha(){var e=this;this.jo.qo((0,he.Z)(function*(){const n=new uI(e.datastore),s=e.Ja(n);s&&s.then(l=>{e.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{e.deferred.resolve(l)}).catch(c=>{e.Ya(c)}))}).catch(l=>{e.Ya(l)})}))}Ja(e){try{const n=this.updateFunction(e);return!Hl(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Ya(e){this.za>0&&this.Za(e)?(this.za-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ha(),Promise.resolve()))):this.deferred.reject(e)}Za(e){if("FirebaseError"===e.name){const n=e.code;return"aborted"===n||"failed-precondition"===n||"already-exists"===n||!Lc(n)}return!1}}class ig{constructor(e,n,s,l){var c=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=l,this.user=zn.UNAUTHENTICATED,this.clientId=_c.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var f=(0,he.Z)(function*(D){mt("FirestoreClient","Received user=",D.uid),yield c.authCredentialListener(D),c.user=D});return function(D){return f.apply(this,arguments)}}()),this.appCheckCredentials.start(s,f=>(mt("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new _t(ot.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new di;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,he.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(s){const l=od(s,"Failed to shutdown persistence");n.reject(l)}})),n.promise}}function Hf(i,e){return jf.apply(this,arguments)}function jf(){return jf=(0,he.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),mt("FirestoreClient","Initializing OfflineComponentProvider");const n=i.configuration;yield e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(function(){var l=(0,he.Z)(function*(c){s.isEqual(c)||(yield U_(e.localStore,c),s=c)});return function(c){return l.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}),jf.apply(this,arguments)}function sg(i,e){return $f.apply(this,arguments)}function $f(){return $f=(0,he.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const n=yield pd(i);mt("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>K_(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,l)=>K_(e.remoteStore,l)),i._onlineComponents=e}),$f.apply(this,arguments)}function og(i){return"FirebaseError"===i.name?i.code===ot.FAILED_PRECONDITION||i.code===ot.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code}function pd(i){return sh.apply(this,arguments)}function sh(){return sh=(0,he.Z)(function*(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){mt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Hf(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!og(n))throw n;Ui("Error using user provided cache. Falling back to memory cache: "+n),yield Hf(i,new hd)}}else mt("FirestoreClient","Using default OfflineComponentProvider"),yield Hf(i,new hd);return i._offlineComponents}),sh.apply(this,arguments)}function ag(i){return zf.apply(this,arguments)}function zf(){return zf=(0,he.Z)(function*(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(mt("FirestoreClient","Using user provided OnlineComponentProvider"),yield sg(i,i._uninitializedComponentsProvider._online)):(mt("FirestoreClient","Using default OnlineComponentProvider"),yield sg(i,new fd))),i._onlineComponents}),zf.apply(this,arguments)}function lg(i){return pd(i).then(e=>e.persistence)}function oc(i){return pd(i).then(e=>e.localStore)}function ug(i){return ag(i).then(e=>e.remoteStore)}function oh(i){return ag(i).then(e=>e.syncEngine)}function md(i){return cg.apply(this,arguments)}function cg(){return cg=(0,he.Z)(function*(i){const e=yield ag(i),n=e.eventManager;return n.onListen=BE.bind(null,e.syncEngine),n.onUnlisten=ty.bind(null,e.syncEngine),n}),cg.apply(this,arguments)}function dy(i,e,n={}){const s=new di;return i.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return function(c,f,D,M,j){const ee=new Bf({next:Ne=>{f.enqueueAndForget(()=>ka(c,pe));const Xe=Ne.docs.has(D);!Xe&&Ne.fromCache?j.reject(new _t(ot.UNAVAILABLE,"Failed to get document because the client is offline.")):Xe&&Ne.fromCache&&M&&"server"===M.source?j.reject(new _t(ot.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):j.resolve(Ne)},error:Ne=>j.reject(Ne)}),pe=new Sf(Na(D.path),ee,{includeMetadataChanges:!0,Z_:!0});return Df(c,pe)}(yield md(i),i.asyncQueue,e,n,s)})),s.promise}function gd(i,e,n={}){const s=new di;return i.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return function(c,f,D,M,j){const ee=new Bf({next:Ne=>{f.enqueueAndForget(()=>ka(c,pe)),Ne.fromCache&&"server"===M.source?j.reject(new _t(ot.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):j.resolve(Ne)},error:Ne=>j.reject(Ne)}),pe=new Sf(D,ee,{includeMetadataChanges:!0,Z_:!0});return Df(c,pe)}(yield md(i),i.asyncQueue,e,n,s)})),s.promise}function my(i){const e={};return void 0!==i.timeoutSeconds&&(e.timeoutSeconds=i.timeoutSeconds),e}const gy=new Map;function qf(i,e,n){if(!n)throw new _t(ot.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function hg(i,e,n,s){if(!0===e&&!0===s)throw new _t(ot.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function _d(i){if(!Ut.isDocumentKey(i))throw new _t(ot.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function _y(i){if(Ut.isDocumentKey(i))throw new _t(ot.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function ah(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(s=i).constructor?s.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var s;return"function"==typeof i?"a function":Wt()}function vr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new _t(ot.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ah(i);throw new _t(ot.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function yy(i,e){if(e<=0)throw new _t(ot.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class vy{constructor(e){var n,s;if(void 0===e.host){if(void 0!==e.ssl)throw new _t(ot.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new _t(ot.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hg("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=my(null!==(s=e.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(c){if(void 0!==c.timeoutSeconds){if(isNaN(c.timeoutSeconds))throw new _t(ot.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new _t(ot.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new _t(ot.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Rl{constructor(e,n,s,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vy({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new _t(ot.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new _t(ot.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vy(e),void 0!==e.credentials&&(this._authCredentials=function(s){if(!s)return new wd;switch(s.type){case"firstParty":return new vt(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new _t(ot.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=gy.get(n);s&&(mt("ComponentProvider","Removing Datastore"),gy.delete(n),s.terminate())}(this),Promise.resolve()}}class lo{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new lo(this.firestore,e,this._query)}}class Mi{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new sl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mi(this.firestore,e,this._key)}}class sl extends lo{constructor(e,n,s){super(e,n,Na(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mi(this.firestore,null,new Ut(e))}withConverter(e){return new sl(this.firestore,e,this._path)}}function Ey(i,e,...n){if(i=(0,V.m9)(i),qf("collection","path",e),i instanceof Rl){const s=or.fromString(e,...n);return _y(s),new sl(i,null,s)}{if(!(i instanceof Mi||i instanceof sl))throw new _t(ot.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(or.fromString(e,...n));return _y(s),new sl(i.firestore,null,s)}}function Kf(i,e,...n){if(i=(0,V.m9)(i),1===arguments.length&&(e=_c.newId()),qf("doc","path",e),i instanceof Rl){const s=or.fromString(e,...n);return _d(s),new Mi(i,null,new Ut(s))}{if(!(i instanceof Mi||i instanceof sl))throw new _t(ot.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(or.fromString(e,...n));return _d(s),new Mi(i.firestore,i instanceof sl?i.converter:null,new Ut(s))}}function Ty(i,e){return i=(0,V.m9)(i),e=(0,V.m9)(e),(i instanceof Mi||i instanceof sl)&&(e instanceof Mi||e instanceof sl)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function Zf(i,e){return i=(0,V.m9)(i),e=(0,V.m9)(e),i instanceof lo&&e instanceof lo&&i.firestore===e.firestore&&Fe(i._query,e._query)&&i.converter===e.converter}class fg{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new Pm(this,"async_queue_retry"),this._u=()=>{const n=If();n&&mt("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=If();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const n=If();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});const n=new di;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}cu(){var e=this;return(0,he.Z)(function*(){if(0!==e.eu.length){try{yield e.eu[0](),e.eu.shift(),e.jo.reset()}catch(n){if(!Vn(n))throw n;mt("AsyncQueue","Operation failed with retryable error: "+n)}e.eu.length>0&&e.jo.qo(()=>e.cu())}})()}uu(e){const n=this.Xa.then(()=>(this.iu=!0,e().catch(s=>{throw this.ru=s,this.iu=!1,Jr("INTERNAL UNHANDLED ERROR: ",function(f){let D=f.message||"";return f.stack&&(D=f.stack.includes(f.message)?f.stack:f.message+"\n"+f.stack),D}(s)),s}).then(s=>(this.iu=!1,s))));return this.Xa=n,n}enqueueAfterDelay(e,n,s){this.au(),this.ou.indexOf(e)>-1&&(n=0);const l=bf.createAndSchedule(this,e,n,s,c=>this.lu(c));return this.nu.push(l),l}au(){this.ru&&Wt()}verifyOperationInProgress(){}hu(){var e=this;return(0,he.Z)(function*(){let n;do{n=e.Xa,yield n}while(n!==e.Xa)})()}Pu(e){for(const n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.nu)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){const n=this.nu.indexOf(e);this.nu.splice(n,1)}}function pg(i){return function(n,s){if("object"!=typeof n||null===n)return!1;const l=n;for(const c of["next","error","complete"])if(c in l&&"function"==typeof l[c])return!0;return!1}(i)}class Qf{constructor(){this._progressObserver={},this._taskCompletionResolver=new di,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,s){this._progressObserver={next:e,error:n,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Ei extends Rl{constructor(e,n,s,l){super(e,n,s,l),this.type="firestore",this._queue=new fg,this._persistenceKey=l?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||wy(this),this._firestoreClient.terminate()}}function rs(i){return i._firestoreClient||wy(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function wy(i){var e,n,s;const l=i._freezeSettings(),c=(M=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new Sd(i._databaseId,M,i._persistenceKey,(ee=l).host,ee.ssl,ee.experimentalForceLongPolling,ee.experimentalAutoDetectLongPolling,my(ee.experimentalLongPollingOptions),ee.useFetchStreams));var M,ee;i._firestoreClient=new ig(i._authCredentials,i._appCheckCredentials,i._queue,c),null!==(n=l.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(s=l.localCache)&&void 0!==s&&s._onlineComponentProvider&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:l.localCache.kind,_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider})}function mg(i,e,n){const s=new di;return i.asyncQueue.enqueue((0,he.Z)(function*(){try{yield Hf(i,n),yield sg(i,e),s.resolve()}catch(l){const c=l;if(!og(c))throw c;Ui("Error enabling indexeddb cache. Falling back to memory cache: "+c),s.reject(c)}})).then(()=>s.promise)}function Ay(i){if(i._initialized||i._terminated)throw new _t(ot.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ps{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ps(Bi.fromBase64String(e))}catch(n){throw new _t(ot.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ps(Bi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ta{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new _t(ot.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _r(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class na{constructor(e){this._methodName=e}}class lc{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new _t(ot.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new _t(ot.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Cn(this._lat,e._lat)||Cn(this._long,e._long)}}const ya=/^__.*__$/;class gg{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return null!==this.fieldMask?new Xa(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ja(e,this.data,n,this.fieldTransforms)}}class uc{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Xa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function cc(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Wt()}}class Ml{constructor(e,n,s,l,c,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=l,void 0===c&&this.Eu(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new Ml(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var n;const s=null===(n=this.path)||void 0===n?void 0:n.child(e),l=this.Au({path:s,Vu:!1});return l.mu(e),l}fu(e){var n;const s=null===(n=this.path)||void 0===n?void 0:n.child(e),l=this.Au({path:s,Vu:!1});return l.Eu(),l}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return rp(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(0===e.length)throw this.pu("Document fields must not be empty");if(cc(this.du)&&ya.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class yd{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||nd(e)}Su(e,n,s,l=!1){return new Ml({du:e,methodName:n,wu:s,path:_r.emptyPath(),Vu:!1,yu:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function va(i){const e=i._freezeSettings(),n=nd(i._databaseId);return new yd(i._databaseId,!!e.ignoreUndefinedProperties,n)}function xl(i,e,n,s,l,c={}){const f=i.Su(c.merge||c.mergeFields?2:0,e,n,l);lh("Data must be an object, but it was:",f,s);const D=yg(s,f);let M,j;if(c.merge)M=new to(f.fieldMask),j=f.fieldTransforms;else if(c.mergeFields){const ee=[];for(const pe of c.mergeFields){const Ne=uh(e,pe,n);if(!f.contains(Ne))throw new _t(ot.INVALID_ARGUMENT,`Field '${Ne}' is specified in your field mask but missing from your input data.`);Sy(ee,Ne)||ee.push(Ne)}M=new to(ee),j=f.fieldTransforms.filter(pe=>M.covers(pe.field))}else M=null,j=f.fieldTransforms;return new gg(new As(D),M,j)}class ol extends na{_toFieldTransform(e){if(2!==e.du)throw e.pu(1===e.du?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ol}}function dc(i,e,n){return new Ml({du:3,wu:e.settings.wu,methodName:i._methodName,Vu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Tu extends na{_toFieldTransform(e){return new Vd(e.path,new Tl)}isEqual(e){return e instanceof Tu}}class Jf extends na{constructor(e,n){super(e),this.bu=n}_toFieldTransform(e){const n=dc(this,e,!0),s=this.bu.map(c=>wu(c,n)),l=new Ya(s);return new Vd(e.path,l)}isEqual(e){return e instanceof Jf&&(0,V.vZ)(this.bu,e.bu)}}class Xf extends na{constructor(e,n){super(e),this.bu=n}_toFieldTransform(e){const n=dc(this,e,!0),s=this.bu.map(c=>wu(c,n)),l=new Wu(s);return new Vd(e.path,l)}isEqual(e){return e instanceof Xf&&(0,V.vZ)(this.bu,e.bu)}}class ep extends na{constructor(e,n){super(e),this.Du=n}_toFieldTransform(e){const n=new xc(e.serializer,Up(e.serializer,this.Du));return new Vd(e.path,n)}isEqual(e){return e instanceof ep&&this.Du===e.Du}}function tp(i,e,n,s){const l=i.Su(1,e,n);lh("Data must be an object, but it was:",l,s);const c=[],f=As.empty();So(s,(M,j)=>{const ee=Ig(e,M,n);j=(0,V.m9)(j);const pe=l.fu(ee);if(j instanceof ol)c.push(ee);else{const Ne=wu(j,pe);null!=Ne&&(c.push(ee),f.set(ee,Ne))}});const D=new to(c);return new uc(f,D,l.fieldTransforms)}function np(i,e,n,s,l,c){const f=i.Su(1,e,n),D=[uh(e,s,n)],M=[l];if(c.length%2!=0)throw new _t(ot.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Ne=0;Ne<c.length;Ne+=2)D.push(uh(e,c[Ne])),M.push(c[Ne+1]);const j=[],ee=As.empty();for(let Ne=D.length-1;Ne>=0;--Ne)if(!Sy(j,D[Ne])){const Xe=D[Ne];let Mt=M[Ne];Mt=(0,V.m9)(Mt);const $t=f.fu(Xe);if(Mt instanceof ol)j.push(Xe);else{const Bt=wu(Mt,$t);null!=Bt&&(j.push(Xe),ee.set(Xe,Bt))}}const pe=new to(j);return new uc(ee,pe,f.fieldTransforms)}function _g(i,e,n,s=!1){return wu(n,i.Su(s?4:3,e))}function wu(i,e){if(vg(i=(0,V.m9)(i)))return lh("Unsupported field value:",e,i),yg(i,e);if(i instanceof na)return function(s,l){if(!cc(l.du))throw l.pu(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.pu(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Vu&&4!==e.du)throw e.pu("Nested arrays are not supported");return function(s,l){const c=[];let f=0;for(const D of s){let M=wu(D,l.gu(f));null==M&&(M={nullValue:"NULL_VALUE"}),c.push(M),f++}return{arrayValue:{values:c}}}(i,e)}return function(s,l){if(null===(s=(0,V.m9)(s)))return{nullValue:"NULL_VALUE"};if("number"==typeof s)return Up(l.serializer,s);if("boolean"==typeof s)return{booleanValue:s};if("string"==typeof s)return{stringValue:s};if(s instanceof Date){const c=Xr.fromDate(s);return{timestampValue:ru(l.serializer,c)}}if(s instanceof Xr){const c=new Xr(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ru(l.serializer,c)}}if(s instanceof lc)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ps)return{bytesValue:tm(l.serializer,s._byteString)};if(s instanceof Mi){const c=l.databaseId,f=s.firestore._databaseId;if(!f.isEqual(c))throw l.pu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:zh(s.firestore._databaseId||l.databaseId,s._key.path)}}throw l.pu(`Unsupported field value: ${ah(s)}`)}(i,e)}function yg(i,e){const n={};return ql(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):So(i,(s,l)=>{const c=wu(l,e.Ru(s));null!=c&&(n[s]=c)}),{mapValue:{fields:n}}}function vg(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Xr||i instanceof lc||i instanceof Ps||i instanceof Mi||i instanceof na)}function lh(i,e,n){if(!vg(n)||"object"!=typeof(l=n)||null===l||Object.getPrototypeOf(l)!==Object.prototype&&null!==Object.getPrototypeOf(l)){const s=ah(n);throw e.pu("an object"===s?i+" a custom object":i+" "+s)}var l}function uh(i,e,n){if((e=(0,V.m9)(e))instanceof ta)return e._internalPath;if("string"==typeof e)return Ig(i,e);throw rp("Field path arguments must be of type string or ",i,!1,void 0,n)}const WE=new RegExp("[~\\*/\\[\\]]");function Ig(i,e,n){if(e.search(WE)>=0)throw rp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new ta(...e.split("."))._internalPath}catch{throw rp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function rp(i,e,n,s,l){const c=s&&!s.isEmpty(),f=void 0!==l;let D=`Function ${e}() called with invalid data`;n&&(D+=" (via `toFirestore()`)"),D+=". ";let M="";return(c||f)&&(M+=" (found",c&&(M+=` in field ${s}`),f&&(M+=` in document ${l}`),M+=")"),new _t(ot.INVALID_ARGUMENT,D+i+M)}function Sy(i,e){return i.some(n=>n.isEqual(e))}class ip{constructor(e,n,s,l,c){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Mi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new yI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Eg("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class yI extends ip{data(){return super.data()}}function Eg(i,e){return"string"==typeof e?Ig(i,e):e instanceof ta?e._internalPath:e._delegate._internalPath}function Py(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new _t(ot.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Tg{}class ch extends Tg{}function al(i,e,...n){let s=[];e instanceof Tg&&s.push(e),s=s.concat(n),function(c){const f=c.filter(M=>M instanceof Nl).length,D=c.filter(M=>M instanceof Ol).length;if(f>1||f>0&&D>0)throw new _t(ot.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const l of s)i=l._apply(i);return i}class Ol extends ch{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Ol(e,n,s)}_apply(e){const n=this._parse(e);return xy(e._query,n),new lo(e.firestore,e.converter,K(e._query,n))}_parse(e){const n=va(e.firestore);return function(c,f,D,M,j,ee,pe){let Ne;if(j.isKeyField()){if("array-contains"===ee||"array-contains-any"===ee)throw new _t(ot.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ee}' queries on documentId().`);if("in"===ee||"not-in"===ee){up(pe,ee);const Xe=[];for(const Mt of pe)Xe.push(My(M,c,Mt));Ne={arrayValue:{values:Xe}}}else Ne=My(M,c,pe)}else"in"!==ee&&"not-in"!==ee&&"array-contains-any"!==ee||up(pe,ee),Ne=_g(D,"where",pe,"in"===ee||"not-in"===ee);return yr.create(j,ee,Ne)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}class Nl extends Tg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Nl(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===n.length?n[0]:Wr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(l,c){let f=l;const D=c.getFlattenedFilters();for(const M of D)xy(f,M),f=K(f,M)}(e._query,n),new lo(e.firestore,e.converter,K(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class op extends ch{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new op(e,n)}_apply(e){const n=function(l,c,f){if(null!==l.startAt)throw new _t(ot.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==l.endAt)throw new _t(ot.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Za(c,f)}(e._query,this._field,this._direction);return new lo(e.firestore,e.converter,function(l,c){const f=l.explicitOrderBy.concat([c]);return new fa(l.path,l.collectionGroup,f,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(e._query,n))}}class Cu extends ch{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new Cu(e,n,s)}_apply(e){return new lo(e.firestore,e.converter,oe(e._query,this._limit,this._limitType))}}class ap extends ch{constructor(e,n,s){super(),this.type=e,this._docOrFields=n,this._inclusive=s}static _create(e,n,s){return new ap(e,n,s)}_apply(e){const n=Ry(e,this.type,this._docOrFields,this._inclusive);return new lo(e.firestore,e.converter,(c=n,new fa((l=e._query).path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,c,l.endAt)));var l,c}}class hc extends ch{constructor(e,n,s){super(),this.type=e,this._docOrFields=n,this._inclusive=s}static _create(e,n,s){return new hc(e,n,s)}_apply(e){const n=Ry(e,this.type,this._docOrFields,this._inclusive);return new lo(e.firestore,e.converter,(c=n,new fa((l=e._query).path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,c)));var l,c}}function Ry(i,e,n,s){if(n[0]=(0,V.m9)(n[0]),n[0]instanceof ip)return function(c,f,D,M,j){if(!M)throw new _t(ot.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${D}().`);const ee=[];for(const pe of h(c))if(pe.field.isKeyField())ee.push(Zl(f,M.key));else{const Ne=M.data.field(pe.field);if(qa(Ne))throw new _t(ot.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+pe.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ne){const Xe=pe.field.canonicalString();throw new _t(ot.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Xe}' (used as the orderBy) does not exist.`)}ee.push(Ne)}return new zi(ee,j)}(i._query,i.firestore._databaseId,e,n[0]._document,s);{const l=va(i.firestore);return function(f,D,M,j,ee,pe){const Ne=f.explicitOrderBy;if(ee.length>Ne.length)throw new _t(ot.INVALID_ARGUMENT,`Too many arguments provided to ${j}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Xe=[];for(let Mt=0;Mt<ee.length;Mt++){const $t=ee[Mt];if(Ne[Mt].field.isKeyField()){if("string"!=typeof $t)throw new _t(ot.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${j}(), but got a ${typeof $t}`);if(!I(f)&&-1!==$t.indexOf("/"))throw new _t(ot.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${j}() must be a plain document ID, but '${$t}' contains a slash.`);const Bt=f.path.child(or.fromString($t));if(!Ut.isDocumentKey(Bt))throw new _t(ot.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${j}() must result in a valid document path, but '${Bt}' is not because it contains an odd number of segments.`);const yn=new Ut(Bt);Xe.push(Zl(D,yn))}else{const Bt=_g(M,j,$t);Xe.push(Bt)}}return new zi(Xe,pe)}(i._query,i.firestore._databaseId,l,e,n,s)}}function My(i,e,n){if("string"==typeof(n=(0,V.m9)(n))){if(""===n)throw new _t(ot.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!I(e)&&-1!==n.indexOf("/"))throw new _t(ot.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(or.fromString(n));if(!Ut.isDocumentKey(s))throw new _t(ot.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Zl(i,new Ut(s))}if(n instanceof Mi)return Zl(i,n._key);throw new _t(ot.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ah(n)}.`)}function up(i,e){if(!Array.isArray(i)||0===i.length)throw new _t(ot.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function xy(i,e){const n=function(l,c){for(const f of l)for(const D of f.getFlattenedFilters())if(c.indexOf(D.op)>=0)return D.op;return null}(i.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new _t(ot.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Dg{convertValue(e,n="none"){switch(ha(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Bo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Wt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return So(e,(l,c)=>{s[l]=this.convertValue(c,n)}),s}convertGeoPoint(e){return new lc(Pi(e.latitude),Pi(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Kl(e);return null==s?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp($i(e));default:return null}}convertTimestamp(e){const n=Wa(e);return new Xr(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=or.fromString(e);on(w_(s));const l=new da(s.get(1),s.get(3)),c=new Ut(s.popFirst(5));return l.isEqual(n)||Jr(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}function cp(i,e,n){let s;return s=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,s}class Oy extends Dg{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ps(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Mi(this.firestore,null,n)}}class bu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Va extends ip{constructor(e,n,s,l,c,f){super(e,n,s,l,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new fc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Eg("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class fc extends Va{data(e={}){return super.data(e)}}class Du{constructor(e,n,s,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new bu(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new fc(this._firestore,this._userDataWriter,s.key,s,new bu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new _t(ot.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(l,c){if(l._snapshot.oldDocs.isEmpty()){let f=0;return l._snapshot.docChanges.map(D=>({type:"added",doc:new fc(l._firestore,l._userDataWriter,D.doc.key,D.doc,new bu(l._snapshot.mutatedKeys.has(D.doc.key),l._snapshot.fromCache),l.query.converter),oldIndex:-1,newIndex:f++}))}{let f=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(D=>c||3!==D.type).map(D=>{const M=new fc(l._firestore,l._userDataWriter,D.doc.key,D.doc,new bu(l._snapshot.mutatedKeys.has(D.doc.key),l._snapshot.fromCache),l.query.converter);let j=-1,ee=-1;return 0!==D.type&&(j=f.indexOf(D.doc.key),f=f.delete(D.doc.key)),1!==D.type&&(f=f.add(D.doc),ee=f.indexOf(D.doc.key)),{type:dp(D.type),doc:M,oldIndex:j,newIndex:ee}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function dp(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Wt()}}function dh(i,e){return i instanceof Va&&e instanceof Va?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof Du&&e instanceof Du&&i._firestore===e._firestore&&Zf(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}class Ll extends Dg{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ps(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Mi(this.firestore,null,n)}}function pp(i,e,n){i=vr(i,Mi);const s=vr(i.firestore,Ei),l=cp(i.converter,e,n);return pc(s,[xl(va(s),"setDoc",i._key,l,null!==i.converter,n).toMutation(i._key,Ri.none())])}function Sg(i,e,n,...s){i=vr(i,Mi);const l=vr(i.firestore,Ei),c=va(l);let f;return f="string"==typeof(e=(0,V.m9)(e))||e instanceof ta?np(c,"updateDoc",i._key,e,n,s):tp(c,"updateDoc",i._key,e),pc(l,[f.toMutation(i._key,Ri.exists(!0))])}function Pg(i,...e){var n,s,l;i=(0,V.m9)(i);let c={includeMetadataChanges:!1},f=0;"object"!=typeof e[f]||pg(e[f])||(c=e[f],f++);const D={includeMetadataChanges:c.includeMetadataChanges};if(pg(e[f])){const pe=e[f];e[f]=null===(n=pe.next)||void 0===n?void 0:n.bind(pe),e[f+1]=null===(s=pe.error)||void 0===s?void 0:s.bind(pe),e[f+2]=null===(l=pe.complete)||void 0===l?void 0:l.bind(pe)}let M,j,ee;if(i instanceof Mi)j=vr(i.firestore,Ei),ee=Na(i._key.path),M={next:pe=>{e[f]&&e[f](hh(j,i,pe))},error:e[f+1],complete:e[f+2]};else{const pe=vr(i,lo);j=vr(pe.firestore,Ei),ee=pe._query;const Ne=new Ll(j);M={next:Xe=>{e[f]&&e[f](new Du(j,Ne,pe,Xe))},error:e[f+1],complete:e[f+2]},Py(i._query)}return function(Ne,Xe,Mt,$t){const Bt=new Bf($t),yn=new Sf(Xe,Bt,Mt);return Ne.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return Df(yield md(Ne),yn)})),()=>{Bt.La(),Ne.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return ka(yield md(Ne),yn)}))}}(rs(j),ee,D,M)}function pc(i,e){return function(s,l){const c=new di;return s.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return function HE(i,e,n){return ud.apply(this,arguments)}(yield oh(s),l,c)})),c.promise}(rs(i),e)}function hh(i,e,n){const s=n.docs.get(e._key),l=new Ll(i);return new Va(i,l,e._key,s,new bu(n.hasPendingWrites,n.fromCache),e.converter)}const By={maxAttempts:5};class xg{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=va(e)}set(e,n,s){this._verifyNotCommitted();const l=kl(e,this._firestore),c=cp(l.converter,n,s),f=xl(this._dataReader,"WriteBatch.set",l._key,c,null!==l.converter,s);return this._mutations.push(f.toMutation(l._key,Ri.none())),this}update(e,n,s,...l){this._verifyNotCommitted();const c=kl(e,this._firestore);let f;return f="string"==typeof(n=(0,V.m9)(n))||n instanceof ta?np(this._dataReader,"WriteBatch.update",c._key,n,s,l):tp(this._dataReader,"WriteBatch.update",c._key,n),this._mutations.push(f.toMutation(c._key,Ri.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=kl(e,this._firestore);return this._mutations=this._mutations.concat(new Nc(n._key,Ri.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new _t(ot.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function kl(i,e){if((i=(0,V.m9)(i)).firestore!==e)throw new _t(ot.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class Hy extends class{constructor(n,s){this._firestore=n,this._transaction=s,this._dataReader=va(n)}get(n){const s=kl(n,this._firestore),l=new Oy(this._firestore);return this._transaction.lookup([s._key]).then(c=>{if(!c||1!==c.length)return Wt();const f=c[0];if(f.isFoundDocument())return new ip(this._firestore,l,f.key,f,s.converter);if(f.isNoDocument())return new ip(this._firestore,l,s._key,null,s.converter);throw Wt()})}set(n,s,l){const c=kl(n,this._firestore),f=cp(c.converter,s,l),D=xl(this._dataReader,"Transaction.set",c._key,f,null!==c.converter,l);return this._transaction.set(c._key,D),this}update(n,s,l,...c){const f=kl(n,this._firestore);let D;return D="string"==typeof(s=(0,V.m9)(s))||s instanceof ta?np(this._dataReader,"Transaction.update",f._key,s,l,c):tp(this._dataReader,"Transaction.update",f._key,s),this._transaction.update(f._key,D),this}delete(n){const s=kl(n,this._firestore);return this._transaction.delete(s._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=kl(e,this._firestore),s=new Ll(this._firestore);return super.get(e).then(l=>new Va(this._firestore,s,n._key,l._document,new bu(!1,!1),n.converter))}}function kg(i,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new _t("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return e}function Fg(){if(typeof Uint8Array>"u")throw new _t("unimplemented","Uint8Arrays are not available in this environment.")}function Vg(){if(!function Mp(){return typeof atob<"u"}())throw new _t("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,n=!0){Ii=b.SDK_VERSION,(0,b._registerComponent)(new z.wA("firestore",(s,{instanceIdentifier:l,options:c})=>{const f=s.getProvider("app").getImmediate(),D=new Ei(new Ih(s.getProvider("auth-internal")),new za(s.getProvider("app-check-internal")),function(j,ee){if(!Object.prototype.hasOwnProperty.apply(j.options,["projectId"]))throw new _t(ot.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new da(j.options.projectId,ee)}(f,l),f);return c=Object.assign({useFetchStreams:n},c),D._setSettings(c),D},"PUBLIC").setMultipleInstances(!0)),(0,b.registerVersion)(Ao,"4.4.2",e),(0,b.registerVersion)(Ao,"4.4.2","esm2017")}();class ll{constructor(e){this._delegate=e}static fromBase64String(e){return Vg(),new ll(Ps.fromBase64String(e))}static fromUint8Array(e){return Fg(),new ll(Ps.fromUint8Array(e))}toBase64(){return Vg(),this._delegate.toBase64()}toUint8Array(){return Fg(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Ug(i){return function HI(i,e){if("object"!=typeof i||null===i)return!1;const n=i;for(const s of e)if(s in n&&"function"==typeof n[s])return!0;return!1}(i,["next","error","complete"])}class qy{enableIndexedDbPersistence(e,n){return function pI(i,e){Ay(i=vr(i,Ei));const n=rs(i);if(n._uninitializedComponentsProvider)throw new _t(ot.FAILED_PRECONDITION,"SDK cache is already specified.");Ui("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const s=i._freezeSettings(),l=new fd;return mg(n,l,new rg(l,s.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return function Cy(i){Ay(i=vr(i,Ei));const e=rs(i);if(e._uninitializedComponentsProvider)throw new _t(ot.FAILED_PRECONDITION,"SDK cache is already specified.");Ui("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=i._freezeSettings(),s=new fd;return mg(e,s,new Uf(s,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function mI(i){if(i._initialized&&!i._terminated)throw new _t(ot.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new di;return i._queue.enqueueAndForgetEvenWhileRestricted((0,he.Z)(function*(){try{yield(n=(0,he.Z)(function*(l){if(!qe.D())return Promise.resolve();const c=l+"main";yield qe.delete(c)}),function s(l){return n.apply(this,arguments)})(Wd(i._databaseId,i._persistenceKey)),e.resolve()}catch(n){e.reject(n)}var n})),e.promise}(e._delegate)}}class Ky{constructor(e,n,s){this._delegate=n,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},e instanceof da||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Ui("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},n),e)).merge,this._delegate._setSettings(e)}useEmulator(e,n,s={}){!function Iy(i,e,n,s={}){var l;const c=(i=vr(i,Rl))._getSettings(),f=`${e}:${n}`;if("firestore.googleapis.com"!==c.host&&c.host!==f&&Ui("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},c),{host:f,ssl:!1})),s.mockUserToken){let D,M;if("string"==typeof s.mockUserToken)D=s.mockUserToken,M=zn.MOCK_USER;else{D=(0,V.Sg)(s.mockUserToken,null===(l=i._app)||void 0===l?void 0:l.options.projectId);const j=s.mockUserToken.sub||s.mockUserToken.user_id;if(!j)throw new _t(ot.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");M=new zn(j)}i._authCredentials=new Ul(new Su(D,M))}}(this._delegate,e,n,s)}enableNetwork(){return function by(i){return function dg(i){return i.asyncQueue.enqueue((0,he.Z)(function*(){const e=yield lg(i),n=yield ug(i);return e.setNetworkEnabled(!0),function(l){const c=Ht(l);return c.v_.delete(0),rd(c)}(n)}))}(rs(i=vr(i,Ei)))}(this._delegate)}disableNetwork(){return function Dy(i){return function cI(i){return i.asyncQueue.enqueue((0,he.Z)(function*(){const e=yield lg(i),n=yield ug(i);return e.setNetworkEnabled(!1),(s=(0,he.Z)(function*(c){const f=Ht(c);f.v_.add(0),yield id(f),f.x_.set("Offline")}),function l(c){return s.apply(this,arguments)})(n);var s}))}(rs(i=vr(i,Ei)))}(this._delegate)}enablePersistence(e){let n=!1,s=!1;return e&&(n=!!e.synchronizeTabs,s=!!e.experimentalForceOwningTab,hg("synchronizeTabs",n,"experimentalForceOwningTab",s)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function GE(i){return function(n){const s=new di;return n.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return function sy(i,e){return qm.apply(this,arguments)}(yield oh(n),s)})),s.promise}(rs(i=vr(i,Ei)))}(this._delegate)}onSnapshotsInSync(e){return function Rg(i,e){return function hy(i,e){const n=new Bf(e);return i.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return l=yield md(i),c=n,Ht(l).K_.add(c),void c.next();var l,c})),()=>{n.La(),i.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return l=yield md(i),c=n,void Ht(l).K_.delete(c);var l,c}))}}(rs(i=vr(i,Ei)),pg(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new _t("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Ed(this,Ey(this._delegate,e))}catch(n){throw _o(n,"collection()","Firestore.collection()")}}doc(e){try{return new Ia(this,Kf(this._delegate,e))}catch(n){throw _o(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new yo(this,function hI(i,e){if(i=vr(i,Rl),qf("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new _t(ot.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new lo(i,null,(s=e,new fa(or.emptyPath(),s)));var s}(this._delegate,e))}catch(n){throw _o(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function jy(i,e,n){i=vr(i,Ei);const s=Object.assign(Object.assign({},By),n);return function(c){if(c.maxAttempts<1)throw new _t(ot.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(c,f,D){const M=new di;return c.asyncQueue.enqueueAndForget((0,he.Z)(function*(){const j=yield function il(i){return ag(i).then(e=>e.datastore)}(c);new rl(c.asyncQueue,j,D,f,M).ja()})),M.promise}(rs(i),l=>e(new Hy(i,l)),s)}(this._delegate,n=>e(new Bg(this,n)))}batch(){return rs(this._delegate),new yp(new xg(this._delegate,e=>pc(this._delegate,e)))}loadBundle(e){return function Yf(i,e){const n=rs(i=vr(i,Ei)),s=new Qf;return function Wf(i,e,n,s){const l=function(f,D){let M;return M="string"==typeof f?Zp().encode(f):f,ee=function(ee,pe){if(ee instanceof Uint8Array)return uy(ee,void 0);if(ee instanceof ArrayBuffer)return uy(new Uint8Array(ee),void 0);if(ee instanceof ReadableStream)return ee.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(M),new lI(ee,D);var ee}(n,nd(e));i.asyncQueue.enqueueAndForget((0,he.Z)(function*(){!function oI(i,e,n){const s=Ht(i);var l;(l=(0,he.Z)(function*(f,D,M){try{const j=yield D.getMetadata();if(yield function(Mt,$t){const Bt=Ht(Mt),yn=ns($t.createTime);return Bt.persistence.runTransaction("hasNewerBundle","readonly",Wn=>Bt.$r.getBundleMetadata(Wn,$t.id)).then(Wn=>!!Wn&&Wn.createTime.compareTo(yn)>=0)}(f.localStore,j))return yield D.close(),M._completeWith({taskState:"Success",documentsLoaded:(Mt=j).totalDocuments,bytesLoaded:Mt.totalBytes,totalDocuments:Mt.totalDocuments,totalBytes:Mt.totalBytes}),Promise.resolve(new Set);M._updateProgress($m(j));const ee=new Pf(j,f.localStore,D.serializer);let pe=yield D.Oa();for(;pe;){const Xe=yield ee.na(pe);Xe&&M._updateProgress(Xe),pe=yield D.Oa()}const Ne=yield ee.complete();return yield Fa(f,Ne.sa,void 0),yield function(Mt,$t){const Bt=Ht(Mt);return Bt.persistence.runTransaction("Save bundle","readwrite",yn=>Bt.$r.saveBundleMetadata(yn,$t))}(f.localStore,j),M._completeWith(Ne.progress),Promise.resolve(Ne.ia)}catch(j){return Ui("SyncEngine",`Loading bundle failed with ${j}`),M._failWith(j),Promise.resolve(new Set)}var Mt}),function c(f,D,M){return l.apply(this,arguments)})(s,e,n).then(l=>{s.sharedClientState.notifyBundleLoaded(l)})}(yield oh(i),l,s)}))}(n,i._databaseId,e,s),s}(this._delegate,e)}namedQuery(e){return function gI(i,e){return function jE(i,e){return i.asyncQueue.enqueue((0,he.Z)(function*(){return function(s,l){const c=Ht(s);return c.persistence.runTransaction("Get named query","readonly",f=>c.$r.getNamedQuery(f,l))}(yield oc(i),e)}))}(rs(i=vr(i,Ei)),e).then(n=>n?new lo(i,null,n.query):null)}(this._delegate,e).then(n=>n?new yo(this,n):null)}}class fh extends Dg{constructor(e){super(),this.firestore=e}convertBytes(e){return new ll(new Ps(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return Ia.forKey(n,this.firestore,null)}}class Bg{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new fh(e)}get(e){const n=mc(e);return this._delegate.get(n).then(s=>new Oo(this._firestore,new Va(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,n.converter)))}set(e,n,s){const l=mc(e);return s?(kg("Transaction.set",s),this._delegate.set(l,n,s)):this._delegate.set(l,n),this}update(e,n,s,...l){const c=mc(e);return 2===arguments.length?this._delegate.update(c,n):this._delegate.update(c,n,s,...l),this}delete(e){const n=mc(e);return this._delegate.delete(n),this}}class yp{constructor(e){this._delegate=e}set(e,n,s){const l=mc(e);return s?(kg("WriteBatch.set",s),this._delegate.set(l,n,s)):this._delegate.set(l,n),this}update(e,n,s,...l){const c=mc(e);return 2===arguments.length?this._delegate.update(c,n):this._delegate.update(c,n,s,...l),this}delete(e){const n=mc(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class go{constructor(e,n,s){this._firestore=e,this._userDataWriter=n,this._delegate=s}fromFirestore(e,n){const s=new fc(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Id(this._firestore,s),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const s=go.INSTANCES;let l=s.get(e);l||(l=new WeakMap,s.set(e,l));let c=l.get(n);return c||(c=new go(e,new fh(e),n),l.set(n,c)),c}}go.INSTANCES=new WeakMap;class Ia{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new fh(e)}static forPath(e,n,s){if(e.length%2!=0)throw new _t("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ia(n,new Mi(n._delegate,s,new Ut(e)))}static forKey(e,n,s){return new Ia(n,new Mi(n._delegate,s,e))}get id(){return this._delegate.id}get parent(){return new Ed(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Ed(this.firestore,Ey(this._delegate,e))}catch(n){throw _o(n,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,V.m9)(e))instanceof Mi&&Ty(this._delegate,e)}set(e,n){n=kg("DocumentReference.set",n);try{return n?pp(this._delegate,e,n):pp(this._delegate,e)}catch(s){throw _o(s,"setDoc()","DocumentReference.set()")}}update(e,n,...s){try{return 1===arguments.length?Sg(this._delegate,e):Sg(this._delegate,e,n,...s)}catch(l){throw _o(l,"updateDoc()","DocumentReference.update()")}}delete(){return function RI(i){return pc(vr(i.firestore,Ei),[new Nc(i._key,Ri.none())])}(this._delegate)}onSnapshot(...e){const n=Ua(e),s=Ea(e,l=>new Oo(this.firestore,new Va(this.firestore._delegate,this._userDataWriter,l._key,l._document,l.metadata,this._delegate.converter)));return Pg(this._delegate,n,s)}get(e){let n;return n="cache"===e?.source?function AI(i){i=vr(i,Mi);const e=vr(i.firestore,Ei),n=rs(e),s=new Ll(e);return function cy(i,e){const n=new di;return i.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return(s=(0,he.Z)(function*(c,f,D){try{const M=yield function(ee,pe){const Ne=Ht(ee);return Ne.persistence.runTransaction("read document","readonly",Xe=>Ne.localDocuments.getDocument(Xe,pe))}(c,f);M.isFoundDocument()?D.resolve(M):M.isNoDocument()?D.resolve(null):D.reject(new _t(ot.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(M){const j=od(M,`Failed to get document '${f} from cache`);D.reject(j)}}),function l(c,f,D){return s.apply(this,arguments)})(yield oc(i),e,n);var s})),n.promise}(n,i._key).then(l=>new Va(e,s,i._key,l,new bu(null!==l&&l.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===e?.source?function SI(i){i=vr(i,Mi);const e=vr(i.firestore,Ei);return dy(rs(e),i._key,{source:"server"}).then(n=>hh(e,i,n))}(this._delegate):function Ag(i){i=vr(i,Mi);const e=vr(i.firestore,Ei);return dy(rs(e),i._key).then(n=>hh(e,i,n))}(this._delegate),n.then(s=>new Oo(this.firestore,new Va(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(e){return new Ia(this.firestore,this._delegate.withConverter(e?go.getInstance(this.firestore,e):null))}}function _o(i,e,n){return i.message=i.message.replace(e,n),i}function Ua(i){for(const e of i)if("object"==typeof e&&!Ug(e))return e;return{}}function Ea(i,e){var n,s;let l;return l=Ug(i[0])?i[0]:Ug(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:c=>{l.next&&l.next(e(c))},error:null===(n=l.error)||void 0===n?void 0:n.bind(l),complete:null===(s=l.complete)||void 0===s?void 0:s.bind(l)}}class Oo{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new Ia(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return dh(this._delegate,e._delegate)}}class Id extends Oo{data(e){const n=this._delegate.data(e);return this._delegate._converter||function Qo(i,e){i||Wt()}(void 0!==n),n}}class yo{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new fh(e)}where(e,n,s){try{return new yo(this.firestore,al(this._delegate,function wg(i,e,n){const s=e,l=Eg("where",i);return Ol._create(l,s,n)}(e,n,s)))}catch(l){throw _o(l,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new yo(this.firestore,al(this._delegate,function II(i,e="asc"){const n=e,s=Eg("orderBy",i);return op._create(s,n)}(e,n)))}catch(s){throw _o(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new yo(this.firestore,al(this._delegate,function EI(i){return yy("limit",i),Cu._create("limit",i,"F")}(e)))}catch(n){throw _o(n,"limit()","Query.limit()")}}limitToLast(e){try{return new yo(this.firestore,al(this._delegate,function TI(i){return yy("limitToLast",i),Cu._create("limitToLast",i,"L")}(e)))}catch(n){throw _o(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new yo(this.firestore,al(this._delegate,function wI(...i){return ap._create("startAt",i,!0)}(...e)))}catch(n){throw _o(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new yo(this.firestore,al(this._delegate,function Cg(...i){return ap._create("startAfter",i,!1)}(...e)))}catch(n){throw _o(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new yo(this.firestore,al(this._delegate,function lp(...i){return hc._create("endBefore",i,!1)}(...e)))}catch(n){throw _o(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new yo(this.firestore,al(this._delegate,function qE(...i){return hc._create("endAt",i,!0)}(...e)))}catch(n){throw _o(n,"endAt()","Query.endAt()")}}isEqual(e){return Zf(this._delegate,e._delegate)}get(e){let n;return n="cache"===e?.source?function hp(i){i=vr(i,lo);const e=vr(i.firestore,Ei),n=rs(e),s=new Ll(e);return function Gf(i,e){const n=new di;return i.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return(s=(0,he.Z)(function*(c,f,D){try{const M=yield Qc(c,f,!0),j=new Y_(f,M.hs),ee=j.ha(M.documents),pe=j.applyChanges(ee,!1);D.resolve(pe.snapshot)}catch(M){const j=od(M,`Failed to execute query '${f} against cache`);D.reject(j)}}),function l(c,f,D){return s.apply(this,arguments)})(yield oc(i),e,n);var s})),n.promise}(n,i._query).then(l=>new Du(e,s,i,l))}(this._delegate):"server"===e?.source?function fp(i){i=vr(i,lo);const e=vr(i.firestore,Ei),n=rs(e),s=new Ll(e);return gd(n,i._query,{source:"server"}).then(l=>new Du(e,s,i,l))}(this._delegate):function PI(i){i=vr(i,lo);const e=vr(i.firestore,Ei),n=rs(e),s=new Ll(e);return Py(i._query),gd(n,i._query).then(l=>new Du(e,s,i,l))}(this._delegate),n.then(s=>new Hg(this.firestore,new Du(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...e){const n=Ua(e),s=Ea(e,l=>new Hg(this.firestore,new Du(this.firestore._delegate,this._userDataWriter,this._delegate,l._snapshot)));return Pg(this._delegate,n,s)}withConverter(e){return new yo(this.firestore,this._delegate.withConverter(e?go.getInstance(this.firestore,e):null))}}class jI{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new Id(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Hg{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new yo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Id(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new jI(this._firestore,n))}forEach(e,n){this._delegate.forEach(s=>{e.call(n,new Id(this._firestore,s))})}isEqual(e){return dh(this._delegate,e._delegate)}}class Ed extends yo{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ia(this.firestore,e):null}doc(e){try{return new Ia(this.firestore,void 0===e?Kf(this._delegate):Kf(this._delegate,e))}catch(n){throw _o(n,"doc()","CollectionReference.doc()")}}add(e){return function MI(i,e){const n=vr(i.firestore,Ei),s=Kf(i),l=cp(i.converter,e);return pc(n,[xl(va(i.firestore),"addDoc",s._key,l,null!==i.converter,{}).toMutation(s._key,Ri.exists(!1))]).then(()=>s)}(this._delegate,e).then(n=>new Ia(this.firestore,n))}isEqual(e){return Ty(this._delegate,e._delegate)}withConverter(e){return new Ed(this.firestore,this._delegate.withConverter(e?go.getInstance(this.firestore,e):null))}}function mc(i){return vr(i,Mi)}class ph{constructor(...e){this._delegate=new ta(...e)}static documentId(){return new ph(_r.keyField().canonicalString())}isEqual(e){return(e=(0,V.m9)(e))instanceof ta&&this._delegate._internalPath.isEqual(e._internalPath)}}class Ba{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Au(){return new Tu("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Ba(e)}static delete(){const e=function mp(){return new ol("deleteField")}();return e._methodName="FieldValue.delete",new Ba(e)}static arrayUnion(...e){const n=function VI(...i){return new Jf("arrayUnion",i)}(...e);return n._methodName="FieldValue.arrayUnion",new Ba(n)}static arrayRemove(...e){const n=function UI(...i){return new Xf("arrayRemove",i)}(...e);return n._methodName="FieldValue.arrayRemove",new Ba(n)}static increment(e){const n=function Og(i){return new ep("increment",i)}(e);return n._methodName="FieldValue.increment",new Ba(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const $I={Firestore:Ky,GeoPoint:lc,Timestamp:Xr,Blob:ll,Transaction:Bg,WriteBatch:yp,DocumentReference:Ia,DocumentSnapshot:Oo,Query:yo,QueryDocumentSnapshot:Id,QuerySnapshot:Hg,CollectionReference:Ed,FieldPath:ph,FieldValue:Ba,setLogLevel:function XE(i){!function Uo(i){Xs.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};function jg(i,e){return function Qy(i,e=ze.z){return new Ye.y(n=>{let s;return null!=e?e.schedule(()=>{s=i.onSnapshot({includeMetadataChanges:!0},n)}):s=i.onSnapshot({includeMetadataChanges:!0},n),()=>{s?.()}})}(i,e)}function $g(i,e){return jg(i,e).pipe((0,ae.U)(n=>({payload:n,type:"query"})))}!function zI(i){(function Zy(i,e){i.INTERNAL.registerComponent(new z.wA("firestore-compat",n=>{const s=n.getProvider("app-compat").getImmediate(),l=n.getProvider("firestore").getImmediate();return e(s,l)},"PUBLIC").setServiceProps(Object.assign({},$I)))})(i,(e,n)=>new Ky(e,n,new qy)),i.registerVersion("@firebase/firestore-compat","0.3.25")}(ye.Z),U(7142);class zg{ref;afs;constructor(e,n){this.ref=e,this.afs=n}set(e,n){return this.ref.set(e,n)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,n){const s=this.ref.collection(e),{ref:l,query:c}=Zg(s,n);return new Kg(l,c,this.afs)}snapshotChanges(){return function vp(i,e){return jg(i,e).pipe((0,rt.O)(void 0),ut(),(0,ae.U)(n=>{const[s,l]=n;return l.exists?s?.exists?{payload:l,type:"modified"}:{payload:l,type:"added"}:{payload:l,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(se.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,ae.U)(({payload:n})=>e.idField?{...n.data(),[e.idField]:n.id}:n.data()))}get(e){return(0,lt.D)(this.ref.get(e)).pipe(se.iC)}}function mh(i,e){return $g(i,e).pipe((0,rt.O)(void 0),ut(),(0,ae.U)(n=>{const[s,l]=n,c=l.payload.docChanges(),f=c.map(D=>({type:D.type,payload:D}));return s&&JSON.stringify(s.payload.metadata)!==JSON.stringify(l.payload.metadata)&&l.payload.docs.forEach((D,M)=>{const j=c.find(pe=>pe.doc.ref.isEqual(D.ref)),ee=s?.payload.docs.find(pe=>pe.ref.isEqual(D.ref));j&&JSON.stringify(j.doc.metadata)===JSON.stringify(D.metadata)||!j&&ee&&JSON.stringify(ee.metadata)===JSON.stringify(D.metadata)||f.push({type:"modified",payload:{oldIndex:M,newIndex:M,type:"modified",doc:D}})}),f}))}function Gg(i,e,n){return mh(i,n).pipe((0,Me.R)((s,l)=>function GI(i,e,n){return e.forEach(s=>{n.indexOf(s.type)>-1&&(i=function qg(i,e){switch(e.type){case"added":if(!i[e.newIndex]||!i[e.newIndex].doc.ref.isEqual(e.doc.ref))return Wg(i,e.newIndex,0,e);break;case"modified":if(null==i[e.oldIndex]||i[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=i.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return Wg(i,e.newIndex,1,e)}break;case"removed":if(i[e.oldIndex]&&i[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Wg(i,e.oldIndex,1)}return i}(i,s))}),i}(s,l.map(c=>c.payload),e),[]),(0,me.x)(),(0,ae.U)(s=>s.map(l=>({type:l.type,payload:l}))))}function Wg(i,e,n,...s){const l=i.slice();return l.splice(e,n,...s),l}function gh(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}class Kg{ref;query;afs;constructor(e,n,s){this.ref=e,this.query=n,this.afs=s}stateChanges(e){let n=mh(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(n=n.pipe((0,ae.U)(s=>s.filter(l=>e.indexOf(l.type)>-1)))),n.pipe((0,rt.O)(void 0),ut(),(0,ge.h)(([s,l])=>l.length>0||!s),(0,ae.U)(([,s])=>s),se.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Me.R)((n,s)=>[...n,...s],[]))}snapshotChanges(e){const n=gh(e);return Gg(this.query,n,this.afs.schedulers.outsideAngular).pipe(se.iC)}valueChanges(e={}){return $g(this.query,this.afs.schedulers.outsideAngular).pipe((0,ae.U)(n=>n.payload.docs.map(s=>e.idField?{...s.data(),[e.idField]:s.id}:s.data())),se.iC)}get(e){return(0,lt.D)(this.query.get(e)).pipe(se.iC)}add(e){return this.ref.add(e)}doc(e){return new zg(this.ref.doc(e),this.afs)}}class Yy{query;afs;constructor(e,n){this.query=e,this.afs=n}stateChanges(e){return e&&0!==e.length?mh(this.query,this.afs.schedulers.outsideAngular).pipe((0,ae.U)(n=>n.filter(s=>e.indexOf(s.type)>-1)),(0,ge.h)(n=>n.length>0),se.iC):mh(this.query,this.afs.schedulers.outsideAngular).pipe(se.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Me.R)((n,s)=>[...n,...s],[]))}snapshotChanges(e){const n=gh(e);return Gg(this.query,n,this.afs.schedulers.outsideAngular).pipe(se.iC)}valueChanges(e={}){return $g(this.query,this.afs.schedulers.outsideAngular).pipe((0,ae.U)(s=>s.payload.docs.map(l=>e.idField?{[e.idField]:l.id,...l.data()}:l.data())),se.iC)}get(e){return(0,lt.D)(this.query.get(e)).pipe(se.iC)}}const Jy=new W.OlP("angularfire2.enableFirestorePersistence"),Xy=new W.OlP("angularfire2.firestore.persistenceSettings"),ev=new W.OlP("angularfire2.firestore.settings"),tv=new W.OlP("angularfire2.firestore.use-emulator");function Zg(i,e=(n=>n)){return{query:e(i),ref:i}}let nv=(()=>{class i{schedulers;firestore;persistenceEnabled$;constructor(n,s,l,c,f,D,M,j,ee,pe,Ne,Xe,Mt,$t,Bt,yn,Wn){this.schedulers=M;const mn=(0,Ee.on)(n,D,s),qn=ee;pe&&(0,ce.nw)(mn,D,Ne,Mt,$t,Bt,Xe,yn),[this.firestore,this.persistenceEnabled$]=(0,Ee.cc)(`${mn.name}.firestore`,"AngularFirestore",mn.name,()=>{const xr=D.runOutsideAngular(()=>mn.firestore());if(c&&xr.settings(c),qn&&xr.useEmulator(...qn),l&&!(0,X.PM)(f)){const Ur=()=>{try{return(0,lt.D)(xr.enablePersistence(j||void 0).then(()=>!0,()=>!1))}catch(is){return typeof console<"u"&&console.warn(is),(0,tt.of)(!1)}};return[xr,D.runOutsideAngular(Ur)]}return[xr,(0,tt.of)(!1)]},[c,qn,l])}collection(n,s){let l;l="string"==typeof n?this.firestore.collection(n):n;const{ref:c,query:f}=Zg(l,s),D=this.schedulers.ngZone.run(()=>c);return new Kg(D,f,this)}collectionGroup(n,s){const l=s||(f=>f),c=this.firestore.collectionGroup(n);return new Yy(l(c),this)}doc(n){let s;s="string"==typeof n?this.firestore.doc(n):n;const l=this.schedulers.ngZone.run(()=>s);return new zg(l,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(s){return new(s||i)(W.LFG(Ee.Dh),W.LFG(Ee.xv,8),W.LFG(Jy,8),W.LFG(ev,8),W.LFG(W.Lbi),W.LFG(W.R0b),W.LFG(se.HU),W.LFG(Xy,8),W.LFG(tv,8),W.LFG(ce.zQ,8),W.LFG(ce.Qv,8),W.LFG(ce.L6,8),W.LFG(ce._Q,8),W.LFG(ce.rT,8),W.LFG(ce.lh,8),W.LFG(ce.f7,8),W.LFG(se.Rf,8))};static \u0275prov=W.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"})}return i})(),WI=(()=>{class i{constructor(n,s,l){this.afAuth=n,this.router=s,this.firestore=l,this.userSubject=new J.X(null),this.user=this.userSubject.asObservable(),this.afAuth.authState.subscribe(c=>{this.userSubject.next(c)})}getUser(){return this.user}isLoggedIn(){return!!localStorage.getItem("token")}setDisplayName(n,s){const l=`${n} ${s}`;return this.afAuth.currentUser.then(c=>c?.updateProfile({displayName:l}))}signIn(n,s,l){this.afAuth.signInWithEmailAndPassword(n,s).then(c=>{c.user?.emailVerified?(""!=l?(localStorage.setItem("rememberMe","true"),localStorage.setItem("token",c.user?.uid)):(localStorage.setItem("rememberMe","false"),localStorage.removeItem("token")),this.router.navigate(["/tasks"])):c.user&&(c.user.sendEmailVerification(),this.router.navigate(["/verify-email"]))},c=>{alert(c.message),this.router.navigate(["/login"])})}register(n){this.afAuth.createUserWithEmailAndPassword(n.email,n.password).then(s=>{s.user?.updateProfile({displayName:n.userName}),this.storeAdditionalUserData(s.user?.uid,{fullName:n.fullName,username:n.userName}),s.user&&(s.user.sendEmailVerification(),this.router.navigate(["/verify-email"]))},s=>{alert(s.message)})}storeAdditionalUserData(n,s){n&&this.firestore.collection("users").doc(n).set(s,{merge:!0}).then(()=>{console.log("Additional user data stored successfully")}).catch(l=>{console.error("Error storing additional user data:",l)})}signOut(){this.afAuth.signOut().then(()=>{localStorage.removeItem("token"),this.router.navigate(["/login"])},n=>{alert(n.message)})}forgotPassword(n){this.afAuth.sendPasswordResetEmail(n).then(()=>{this.email=n,this.router.navigate(["/verify-email"])},s=>{alert(s.message)})}deleteCurrentUser(){this.afAuth.currentUser.then(n=>{n&&(n.delete(),localStorage.removeItem("token"),this.router.navigate(["/login"]))},n=>{alert(n.message)})}singInWithGoogle(){return this.afAuth.signInWithPopup(new p.X).then(n=>{const s=n.user;if(s){const[l,c]=s.displayName?.split(" ")||["",""];s.updateProfile({displayName:s.displayName,photoURL:s.photoURL}).then(()=>{localStorage.setItem("token",n.user?.uid),this.router.navigate(["/tasks"])})}},n=>{alert(n.message),this.router.navigate(["/login"])})}singInWithGithub(){return this.afAuth.signInWithPopup(new p.Y).then(n=>{const s=n.user;if(s){const[l,c]=s.displayName?.split(" ")||["",""];s.updateProfile({displayName:s.displayName,photoURL:s.photoURL}).then(()=>{localStorage.setItem("token",n.user?.uid),this.router.navigate(["/tasks"])})}},n=>{alert(n.message),this.router.navigate(["/login"])})}static#e=this.\u0275fac=function(s){return new(s||i)(W.LFG(ce.zQ),W.LFG(de.F0),W.LFG(nv))};static#t=this.\u0275prov=W.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})()},553:(xt,je,U)=>{U.d(je,{N:()=>p});const p={production:!0,firebase:{apiKey:"AIzaSyDEFnGE_jUVrWMEMuY2-bdk3TCL8PwiUxs",authDomain:"tasks-2aa20.firebaseapp.com",projectId:"tasks-2aa20",storageBucket:"tasks-2aa20.appspot.com",messagingSenderId:"289908118671",appId:"1:289908118671:web:40a2c8d77b6819feb10cfa",measurementId:"G-PRWGNQ569P"}}},3773:(xt,je,U)=>{var p=U(6593),V=U(3781),b=U(5879),Te=U(9445),z=U(6814);function J(Z,y){if(1&Z&&(b.TgZ(0,"span",6),b._uU(1,"We've sent a verification mail to "),b.TgZ(2,"strong",7),b._uU(3),b.qZA()()),2&Z){const E=b.oxw();b.xp6(3),b.Oqu(E.email)}}function W(Z,y){if(1&Z&&(b.TgZ(0,"span",6),b._uU(1,"We've sent instructions on how to reset "),b._UZ(2,"br"),b._uU(3," your password to "),b.TgZ(4,"strong",7),b._uU(5),b.qZA()()),2&Z){const E=b.oxw();b.xp6(5),b.Oqu(E.email)}}function ce(Z,y){1&Z&&(b.TgZ(0,"span",6),b._uU(1,"Please go to your mail to verify your email."),b.qZA())}let de=(()=>{class Z{constructor(E){this.authService=E,this.email=null,this.forgotPassLabel=!1}ngOnInit(){this.authService.getUser().subscribe(E=>{E?this.email=E.email:(this.email=this.authService.email,this.forgotPassLabel=!0)})}static#e=this.\u0275fac=function(x){return new(x||Z)(b.Y36(Te.e))};static#t=this.\u0275cmp=b.Xpm({type:Z,selectors:[["app-verifyemail"]],decls:10,vars:3,consts:[[1,"container"],[1,"box"],["src","assets/mail.png"],[1,"title"],["class","title1",4,"ngIf"],["href","login",1,"title2"],[1,"title1"],[1,"bold-email"]],template:function(x,Q){1&x&&(b.TgZ(0,"div",0)(1,"div",1),b._UZ(2,"img",2),b.TgZ(3,"span",3),b._uU(4,"Check your email"),b.qZA(),b.YNc(5,J,4,1,"span",4),b.YNc(6,W,6,1,"span",4),b.YNc(7,ce,2,0,"span",4),b.TgZ(8,"a",5),b._uU(9,"Verified logging in"),b.qZA()()()),2&x&&(b.xp6(5),b.Q6J("ngIf",!Q.forgotPassLabel),b.xp6(1),b.Q6J("ngIf",Q.forgotPassLabel),b.xp6(1),b.Q6J("ngIf",!Q.forgotPassLabel))},dependencies:[z.O5],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;height:100%;background-color:#cdcde1;max-width:1500px}.box[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;background-color:#fff;padding:75px 50px;border-radius:10px;box-shadow:0 0 10px #0003}.box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-bottom:10px}.title[_ngcontent-%COMP%]{font-weight:600;font-size:larger;margin-bottom:20px;color:#2b2b2b}.bold-email[_ngcontent-%COMP%]{font-weight:700;color:#2b2b2b}.title1[_ngcontent-%COMP%]{margin-bottom:2%;color:gray;font-size:14px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}.title2[_ngcontent-%COMP%]{color:#228be6;text-decoration:none;font-weight:500;margin-top:2%;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}.title2[_ngcontent-%COMP%]:hover{color:#00f}"]})}return Z})();var X=U(95);let se=(()=>{class Z{constructor(E){this.authService=E,this.email=""}forgotPasswordMail(){this.authService.forgotPassword(this.email)}static#e=this.\u0275fac=function(x){return new(x||Z)(b.Y36(Te.e))};static#t=this.\u0275cmp=b.Xpm({type:Z,selectors:[["app-forgotpassword"]],decls:13,vars:1,consts:[[1,"container"],[1,"box"],[1,"title"],[1,"title1"],["for","email",1,"emailLabel"],["type","email","id","email","name","email","aria-describedby","email",1,"emailInput",3,"ngModel","ngModelChange"],[1,"btn",3,"click"],["href","login",1,"title2"]],template:function(x,Q){1&x&&(b.TgZ(0,"div",0)(1,"div",1)(2,"span",2),b._uU(3,"Forgot your password?"),b.qZA(),b.TgZ(4,"span",3),b._uU(5,"Your password will be reset by email."),b.qZA(),b.TgZ(6,"label",4),b._uU(7,"Enter your email address"),b.qZA(),b.TgZ(8,"input",5),b.NdJ("ngModelChange",function(Re){return Q.email=Re}),b.qZA(),b.TgZ(9,"button",6),b.NdJ("click",function(){return Q.forgotPasswordMail()}),b._uU(10,"Next"),b.qZA(),b.TgZ(11,"a",7),b._uU(12,"Back to log in"),b.qZA()()()),2&x&&(b.xp6(8),b.Q6J("ngModel",Q.email))},dependencies:[X.Fj,X.JJ,X.On],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;height:100vh;background-color:#cdcde1;max-width:1500px}.box[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;background-color:#fff;padding:45px 80px;border-radius:10px;box-shadow:0 0 10px #0003}.title[_ngcontent-%COMP%]{font-weight:600;font-size:x-large;margin-bottom:4%;color:#228be6}.btn[_ngcontent-%COMP%]{background-color:#228be6;color:#fff;margin-top:10px;height:40px;width:125%;padding:5px;border:none;border-radius:5px;cursor:pointer;margin-bottom:5%}.title1[_ngcontent-%COMP%]{margin-bottom:6%;color:gray;font-size:13px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}.emailLabel[_ngcontent-%COMP%]{color:gray;font-size:13px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;margin-bottom:3%;font-weight:500;margin-left:-167px}.emailInput[_ngcontent-%COMP%]{padding-left:1%;border-radius:5px;border:solid 1px #3a3a3a;outline:none;height:40px;width:125%;margin-bottom:4%}.title2[_ngcontent-%COMP%]{color:#228be6;text-decoration:none;font-weight:500;margin-top:2%;font-size:14px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}.title2[_ngcontent-%COMP%]:hover{color:#00f}"]})}return Z})(),Ee=(()=>{class Z{constructor(E,x){this.authService=E,this.router=x}canActivate(E,x){return this.authService.isLoggedIn()||"false"==localStorage.getItem("rememberMe")?(localStorage.removeItem("rememberMe"),!0):(this.router.navigate(["/login"]),!1)}static#e=this.\u0275fac=function(x){return new(x||Z)(b.LFG(Te.e),b.LFG(V.F0))};static#t=this.\u0275prov=b.Yz7({token:Z,factory:Z.\u0275fac,providedIn:"root"})}return Z})();const ze=["registerationForm"];function Ye(Z,y){if(1&Z){const E=b.EpF();b.TgZ(0,"i",28),b.NdJ("click",function(){b.CHM(E);const Q=b.oxw();return b.KtG(Q.togglePasswordVisibility())}),b.qZA()}}function lt(Z,y){if(1&Z){const E=b.EpF();b.TgZ(0,"i",29),b.NdJ("click",function(){b.CHM(E);const Q=b.oxw();return b.KtG(Q.togglePasswordVisibility())}),b.qZA()}}function tt(Z,y){if(1&Z){const E=b.EpF();b.TgZ(0,"i",28),b.NdJ("click",function(){b.CHM(E);const Q=b.oxw();return b.KtG(Q.toggleConfirmPasswordVisibility())}),b.qZA()}}function rt(Z,y){if(1&Z){const E=b.EpF();b.TgZ(0,"i",29),b.NdJ("click",function(){b.CHM(E);const Q=b.oxw();return b.KtG(Q.toggleConfirmPasswordVisibility())}),b.qZA()}}let st=(()=>{class Z{constructor(E,x){this.authService=E,this.router=x,this.passwordToggle=!1,this.confirmPasswordToggle=!1}ngOnInit(){}register(){this.registerationForm.valid?this.registerationForm.valid&&this.registerationForm.value.password!=this.registerationForm.value.confirmPassword?alert("Password and Confirm password does not matching"):this.registerationForm.valid&&this.registerationForm.value.password==this.registerationForm.value.confirmPassword&&this.authService.register(this.registerationForm.value):alert("Please enter your registration details")}alreadyHaveAccount(){this.router.navigate(["/login"])}togglePasswordVisibility(){const E=document.getElementById("password");"password"===E.type?(E.type="text",this.passwordToggle=!1):(E.type="password",this.passwordToggle=!0)}toggleConfirmPasswordVisibility(){const E=document.getElementById("confirmPassword");"password"===E.type?(E.type="text",this.confirmPasswordToggle=!1):(E.type="password",this.confirmPasswordToggle=!0)}static#e=this.\u0275fac=function(x){return new(x||Z)(b.Y36(Te.e),b.Y36(V.F0))};static#t=this.\u0275cmp=b.Xpm({type:Z,selectors:[["app-register"]],viewQuery:function(x,Q){if(1&x&&b.Gf(ze,5),2&x){let le;b.iGM(le=b.CRH())&&(Q.registerationForm=le.first)}},decls:40,vars:4,consts:[[1,"pleaseFillOutFormToRegister"],[3,"ngSubmit"],["registerationForm","ngForm"],["for","fullName",1,"fullName"],["type","text","id","fullName","placeholder","Full Name","name","fullName","aria-describedby","fullName","ngModel","","required","",1,"rectangle9"],["for","userName",1,"userName"],["type","text","id","userName","placeholder","User Name","name","userName","aria-describedby","userName","ngModel","","required","",1,"rectangle2"],["for","email",1,"email"],["type","email","id","email","placeholder","Email","name","email","aria-describedby","email","ngModel","","required","",1,"rectangle10"],["for","password",1,"password"],[1,"rectangle3"],["type","password","id","password","placeholder","Password","id","password","name","password","ngModel","","required",""],[1,"passwordIcon"],["class","bx bx-show",3,"click",4,"ngIf"],["class","bx bx-hide",3,"click",4,"ngIf"],["for","confirmPassword",1,"confirmPassword"],[1,"rectangle8"],["type","password","id","confirmPassword","placeholder","Password","id","confirmPassword","name","confirmPassword","ngModel","","required",""],[1,"rectangle4"],["type","submit",1,"register"],[1,"yesIHaveAnAccountLogin"],[1,"labelWrapper"],[1,"label"],["href","login",1,"label2"],[1,"label3"],[1,"rectangle6"],[1,"rectangle7"],[1,"pc-reg"],[1,"bx","bx-show",3,"click"],[1,"bx","bx-hide",3,"click"]],template:function(x,Q){1&x&&(b.TgZ(0,"div",0),b._uU(1,"Please Fill out form to Register!"),b.qZA(),b.TgZ(2,"form",1,2),b.NdJ("ngSubmit",function(){return Q.register()}),b.TgZ(4,"label",3),b._uU(5,"Full name:"),b.qZA(),b._UZ(6,"input",4),b.TgZ(7,"label",5),b._uU(8,"Username:"),b.qZA(),b._UZ(9,"input",6),b.TgZ(10,"label",7),b._uU(11,"Email:"),b.qZA(),b._UZ(12,"input",8),b.TgZ(13,"label",9),b._uU(14,"Password:"),b.qZA(),b.TgZ(15,"div",10),b._UZ(16,"input",11),b.TgZ(17,"div",12),b.YNc(18,Ye,1,0,"i",13),b.YNc(19,lt,1,0,"i",14),b.qZA()(),b.TgZ(20,"label",15),b._uU(21,"Confirm Password:"),b.qZA(),b.TgZ(22,"div",16),b._UZ(23,"input",17),b.TgZ(24,"div",12),b.YNc(25,tt,1,0,"i",13),b.YNc(26,rt,1,0,"i",14),b.qZA()(),b._UZ(27,"div",18),b.TgZ(28,"button",19),b._uU(29,"Register"),b.qZA()(),b.TgZ(30,"div",20)(31,"p",21)(32,"span",22),b._uU(33,"Yes i have an account?"),b.qZA(),b.TgZ(34,"a",23),b._uU(35,"Login"),b.qZA(),b._UZ(36,"span",24),b.qZA()(),b._UZ(37,"div",25)(38,"div",26)(39,"div",27)),2&x&&(b.xp6(18),b.Q6J("ngIf",Q.passwordToggle),b.xp6(1),b.Q6J("ngIf",!Q.passwordToggle),b.xp6(6),b.Q6J("ngIf",Q.confirmPasswordToggle),b.xp6(1),b.Q6J("ngIf",!Q.confirmPasswordToggle))},dependencies:[z.O5,X._Y,X.Fj,X.JJ,X.JL,X.Q7,X.On,X.F],styles:['[_nghost-%COMP%], *[_ngcontent-%COMP%]{box-sizing:border-box;margin:0;padding:0;background:none;border:none;flex-shrink:0;text-decoration:none;min-width:0;overflow-wrap:anywhere}[_nghost-%COMP%], [_ngcontent-%COMP%]:not(span, a[_ngcontent-%COMP%], ul[_ngcontent-%COMP%], ol[_ngcontent-%COMP%], li[_ngcontent-%COMP%], p)[_ngcontent-%COMP%]{display:flex}ul[_ngcontent-%COMP%], ol[_ngcontent-%COMP%]{text-indent:0;padding-inline-start:1.5em}p[_ngcontent-%COMP%]:empty:before{content:"";display:inline-block}img[_ngcontent-%COMP%]{object-fit:contain}svg[_ngcontent-%COMP%]{overflow:visible}[_nghost-%COMP%]{position:relative;width:100vw;height:100vh;flex-direction:column;align-items:flex-start;background-color:#ebefff;overflow:hidden}.rectangle2[_ngcontent-%COMP%]{position:absolute;left:756px;top:240px;width:367px;height:40px;outline:solid 1px #3a3a3a;outline-offset:-1px;border-radius:5px;background-color:#afb3ff00;padding-left:1%}.rectangle9[_ngcontent-%COMP%]{position:absolute;left:756px;top:164px;width:367px;height:40px;outline:solid 1px #3a3a3a;outline-offset:-1px;border-radius:5px;background-color:#afb3ff00;padding-left:1%}.rectangle3[_ngcontent-%COMP%]{position:absolute;left:758px;top:396px;width:367px;height:40px;outline:solid 1px #3a3a3a;outline-offset:-1px;border-radius:5px;background-color:#afb3ff00;padding-left:1%}.rectangle10[_ngcontent-%COMP%]{position:absolute;left:756px;top:320px;width:367px;height:40px;outline:solid 1px #3a3a3a;outline-offset:-1px;border-radius:5px;background-color:#afb3ff00;padding-left:1%}.rectangle8[_ngcontent-%COMP%]{position:absolute;left:758px;top:472px;width:367px;height:40px;outline:solid 1px #3a3a3a;outline-offset:-1px;border-radius:5px;background-color:#afb3ff00;padding-left:1%}.userName[_ngcontent-%COMP%]{color:#000;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:756px;top:210px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.fullName[_ngcontent-%COMP%]{color:#000;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:756px;top:134px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.yesIHaveAnAccountLogin[_ngcontent-%COMP%]{position:absolute;left:838px;top:586px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.labelWrapper[_ngcontent-%COMP%]{font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;flex-shrink:1}.label[_ngcontent-%COMP%]{color:#000;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}.label2[_ngcontent-%COMP%]{color:#000;font-size:16px;font-weight:500;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}.label3[_ngcontent-%COMP%]{color:#000;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}.rectangle4[_ngcontent-%COMP%]{position:absolute;left:760px;top:532px;width:365px;height:40px;border-radius:5px;background-color:#228be6}.register[_ngcontent-%COMP%]{color:#fff;font-size:16px;font-weight:500;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:910px;top:539px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.rectangle3[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .rectangle8[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none;width:90%}.password[_ngcontent-%COMP%]{color:#000;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:760px;top:366px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.email[_ngcontent-%COMP%]{color:#000;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:758px;top:290px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.confirmPassword[_ngcontent-%COMP%]{color:#000;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:760px;top:442px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.rectangle6[_ngcontent-%COMP%]{transform-origin:top left;position:absolute;left:180.2554px;top:510.0889px;width:635px;height:377px;border-radius:105.5304px;background-color:#228be690;transform:matrix(-.1248,-.9922,.9922,-.1248,0,0)}.rectangle7[_ngcontent-%COMP%]{transform-origin:top left;position:absolute;left:165px;top:536px;width:635px;height:377px;border-radius:105.5304px;background-color:#228be61f;transform:matrix(0,-1,1,0,0,0)}.socialMediaIcons[_ngcontent-%COMP%]{position:absolute;left:917px;top:636px;width:88.2188px;height:24.2188px;overflow:visible}.icon[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.pleaseFillOutFormToRegister[_ngcontent-%COMP%]{color:#1a1a1a;font-size:17px;font-weight:700;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:818px;top:92px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.pc-reg[_ngcontent-%COMP%]{position:absolute;inset:24.5833% 45.3906% 7.0833% 12.7344%;background-image:url(/assets/pc-reg.svg);background-position:center;background-repeat:no-repeat;background-size:cover}.passwordIcon[_ngcontent-%COMP%]{position:absolute;left:335px;top:14px}']})}return Z})();const wt=["loginForm"];function ut(Z,y){if(1&Z){const E=b.EpF();b.TgZ(0,"i",29),b.NdJ("click",function(){b.CHM(E);const Q=b.oxw();return b.KtG(Q.togglePasswordVisibility())}),b.qZA()}}function ae(Z,y){if(1&Z){const E=b.EpF();b.TgZ(0,"i",30),b.NdJ("click",function(){b.CHM(E);const Q=b.oxw();return b.KtG(Q.togglePasswordVisibility())}),b.qZA()}}const me=[{path:"",redirectTo:"/tasks",pathMatch:"full"},{path:"tasks",loadChildren:()=>U.e(12).then(U.bind(U,5012)).then(Z=>Z.AdminModule),canActivate:[Ee]},{path:"login",component:(()=>{class Z{constructor(E,x){this.authService=E,this.router=x,this.passwordToggle=!1}ngOnInit(){}login(E){this.loginForm.valid?this.authService.signIn(E.email,E.password,E.rememberMe):alert("Please enter your email and password")}forgotPass(){this.router.navigate(["/forgot-password"])}togglePasswordVisibility(){const E=document.getElementById("password");"password"===E.type?(E.type="text",this.passwordToggle=!1):(E.type="password",this.passwordToggle=!0)}signInWithGoogle(){this.authService.singInWithGoogle()}signInWithGithub(){this.authService.singInWithGithub()}static#e=this.\u0275fac=function(x){return new(x||Z)(b.Y36(Te.e),b.Y36(V.F0))};static#t=this.\u0275cmp=b.Xpm({type:Z,selectors:[["app-login"]],viewQuery:function(x,Q){if(1&x&&b.Gf(wt,5),2&x){let le;b.iGM(le=b.CRH())&&(Q.loginForm=le.first)}},decls:40,vars:2,consts:[[1,"rectangle1"],[1,"pc-login"],[1,"welcomeBack"],[3,"ngSubmit"],["loginForm","ngForm"],["for","exampleInputEmail",1,"username"],["type","email","id","exampleInputEmail","placeholder","Email","name","email","aria-describedby","emailHelp","ngModel","","required","",1,"rectangle2"],["for","exampleInputPassword",1,"password"],[1,"rectangle3"],["type","password","id","exampleInputPassword","placeholder","Password","id","password","name","password","ngModel","","required",""],[1,"passwordIcon"],["class","bx bx-show",3,"click",4,"ngIf"],["class","bx bx-hide",3,"click",4,"ngIf"],[1,"dontHaveAndAccountRegister1"],[1,"labelWrapper"],["type","checkbox","id","rememberMe","name","rememberMe","ngModel",""],["for","rememberMe",1,"rememberMe"],["href","forgot-password",1,"forgotPassword"],[1,"dontHaveAndAccountRegister"],[1,"label"],["href","register",1,"label2"],[1,"rectangle4"],["type","submit",1,"login"],[1,"socialMediaIcons"],[3,"click"],["src","assets/google.svg","alt","",1,"icon"],["src","assets/github.svg","alt","",1,"icon"],[1,"rectangle5"],[1,"rectangle6"],[1,"bx","bx-show",3,"click"],[1,"bx","bx-hide",3,"click"]],template:function(x,Q){if(1&x){const le=b.EpF();b._UZ(0,"div",0)(1,"div",1),b.TgZ(2,"div",2),b._uU(3,"Welcome Back!"),b.qZA(),b.TgZ(4,"form",3,4),b.NdJ("ngSubmit",function(){b.CHM(le);const _=b.MAs(5);return b.KtG(Q.login(_.value))}),b.TgZ(6,"label",5),b._uU(7,"Username:"),b.qZA(),b._UZ(8,"input",6),b.TgZ(9,"label",7),b._uU(10,"Password:"),b.qZA(),b.TgZ(11,"div",8),b._UZ(12,"input",9),b.TgZ(13,"div",10),b.YNc(14,ut,1,0,"i",11),b.YNc(15,ae,1,0,"i",12),b.qZA()(),b.TgZ(16,"div",13)(17,"div",14)(18,"div"),b._UZ(19,"input",15),b.TgZ(20,"span",16),b._uU(21,"Remember Me"),b.qZA()(),b.TgZ(22,"a",17),b._uU(23,"Forgot Password"),b.qZA()()(),b.TgZ(24,"div",18)(25,"p",14)(26,"span",19),b._uU(27,"Dont have and account?"),b.qZA(),b.TgZ(28,"a",20),b._uU(29,"Register"),b.qZA()()(),b._UZ(30,"div",21),b.TgZ(31,"button",22),b._uU(32,"Login"),b.qZA(),b.TgZ(33,"div",23)(34,"a",24),b.NdJ("click",function(){return Q.signInWithGoogle()}),b._UZ(35,"img",25),b.qZA(),b.TgZ(36,"a",24),b.NdJ("click",function(){return Q.signInWithGithub()}),b._UZ(37,"img",26),b.qZA()()(),b._UZ(38,"div",27)(39,"div",28)}2&x&&(b.xp6(14),b.Q6J("ngIf",Q.passwordToggle),b.xp6(1),b.Q6J("ngIf",!Q.passwordToggle))},dependencies:[z.O5,X._Y,X.Fj,X.Wl,X.JJ,X.JL,X.Q7,X.On,X.F],styles:['[_nghost-%COMP%], *[_ngcontent-%COMP%]{box-sizing:border-box;margin:0;padding:0;background:none;border:none;flex-shrink:0;text-decoration:none;min-width:0;overflow-wrap:anywhere}[_nghost-%COMP%], [_ngcontent-%COMP%]:not(span, a[_ngcontent-%COMP%], ul[_ngcontent-%COMP%], ol[_ngcontent-%COMP%], li[_ngcontent-%COMP%], p)[_ngcontent-%COMP%]{display:flex}ul[_ngcontent-%COMP%], ol[_ngcontent-%COMP%]{text-indent:0;padding-inline-start:1.5em}p[_ngcontent-%COMP%]:empty:before{content:"";display:inline-block}img[_ngcontent-%COMP%]{object-fit:contain}svg[_ngcontent-%COMP%]{overflow:visible}[_nghost-%COMP%]{position:relative;width:100vw;height:100vh;flex-direction:column;align-items:flex-start;background-color:#ebefff;overflow:hidden}.rectangle1[_ngcontent-%COMP%]{position:absolute;left:842px;top:0;width:525px;height:720px;background-color:#228be62f}.socialMediaIcons[_ngcontent-%COMP%]{position:absolute;left:256px;top:530px;width:40px;height:35px;overflow:visible}.icon[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.rectangle2[_ngcontent-%COMP%]{position:absolute;left:122px;top:250px;width:367px;height:40px;padding-left:1%;outline:solid 1px #3a3a3a;outline-offset:-1px;border-radius:5px;background-color:#afb3ff00}.passwordIcon[_ngcontent-%COMP%]{position:absolute;left:335px;top:14px}.rectangle3[_ngcontent-%COMP%]{position:absolute;left:122px;top:326px;width:367px;height:40px;padding-left:1%;outline:solid 1px #3a3a3a;outline-offset:-1px;border-radius:5px;background-color:#afb3ff00}.rectangle3[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none;width:90%}.username[_ngcontent-%COMP%]{color:#000;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:122px;top:220px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.dontHaveAndAccountRegister1[_ngcontent-%COMP%]{position:absolute;left:134px;top:379px;width:max-content;height:min-content;white-space:nowrap;flex-direction:column}.rememberMe[_ngcontent-%COMP%]{margin-left:6%}.dontHaveAndAccountRegister[_ngcontent-%COMP%]{position:absolute;left:188px;top:480px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.labelWrapper[_ngcontent-%COMP%]{font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;flex-shrink:1}.label[_ngcontent-%COMP%]{color:#000;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}.label2[_ngcontent-%COMP%]{color:#000;font-size:16px;font-weight:500;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}.forgotPassword[_ngcontent-%COMP%]{color:#000;font-size:16px;font-weight:500;margin-left:30%;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}.welcomeBack[_ngcontent-%COMP%]{color:#1a1a1a;font-size:17px;font-weight:700;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:240px;top:177px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.rectangle4[_ngcontent-%COMP%]{position:absolute;left:124px;top:420px;width:365px;height:40px;border-radius:5px;background-color:#228be6}.login[_ngcontent-%COMP%]{color:#fff;font-size:16px;font-weight:500;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:285px;top:427px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.password[_ngcontent-%COMP%]{color:#000;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:124px;top:296px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.rectangle5[_ngcontent-%COMP%]{transform-origin:top left;position:absolute;left:-287px;top:912.3164px;width:596.734px;height:141.396px;border-radius:105.5304px;background-color:#228be690;transform:matrix(.7535,-.6574,.6574,.7535,0,0)}.rectangle6[_ngcontent-%COMP%]{transform-origin:top left;position:absolute;left:-252px;top:895.0518px;width:553.7418px;height:131.209px;border-radius:105.5304px;background-color:#2b3a4755;transform:matrix(.7535,-.6574,.6574,.7535,0,0)}.pc-login[_ngcontent-%COMP%]{position:absolute;left:565px;top:-37px;width:600px;height:590px;flex-direction:column;align-items:flex-start;right:0;background-image:url(/assets/pc-login.svg);background-position:center;background-repeat:no-repeat;background-size:cover}']})}return Z})()},{path:"register",component:st},{path:"verify-email",component:de},{path:"forgot-password",component:se}];let ge=(()=>{class Z{static#e=this.\u0275fac=function(x){return new(x||Z)};static#t=this.\u0275mod=b.oAB({type:Z});static#n=this.\u0275inj=b.cJS({imports:[V.Bz.forRoot(me,{preloadingStrategy:V.wm}),V.Bz]})}return Z})(),Ce=(()=>{class Z{constructor(){this.title="tasks"}static#e=this.\u0275fac=function(x){return new(x||Z)};static#t=this.\u0275cmp=b.Xpm({type:Z,selectors:[["app-root"]],decls:1,vars:0,template:function(x,Q){1&x&&b._UZ(0,"router-outlet")},dependencies:[V.lC]})}return Z})();var ye=U(9862),he=U(6825);function Ct(Z){return new b.vHH(3e3,!1)}function Ae(Z){switch(Z.length){case 0:return new he.ZN;case 1:return Z[0];default:return new he.ZE(Z)}}function Ge(Z,y,E=new Map,x=new Map){const Q=[],le=[];let Re=-1,_=null;if(y.forEach(L=>{const A=L.get("offset"),F=A==Re,ue=F&&_||new Map;L.forEach((Be,We)=>{let pt=We,jt=Be;if("offset"!==We)switch(pt=Z.normalizePropertyName(pt,Q),jt){case he.k1:jt=E.get(We);break;case he.l3:jt=x.get(We);break;default:jt=Z.normalizeStyleValue(We,pt,jt,Q)}ue.set(pt,jt)}),F||le.push(ue),_=ue,Re=A}),Q.length)throw function Rn(Z){return new b.vHH(3502,!1)}();return le}function Qe(Z,y,E,x){switch(y){case"start":Z.onStart(()=>x(E&&Ot(E,"start",Z)));break;case"done":Z.onDone(()=>x(E&&Ot(E,"done",Z)));break;case"destroy":Z.onDestroy(()=>x(E&&Ot(E,"destroy",Z)))}}function Ot(Z,y,E){const le=Rt(Z.element,Z.triggerName,Z.fromState,Z.toState,y||Z.phaseName,E.totalTime??Z.totalTime,!!E.disabled),Re=Z._data;return null!=Re&&(le._data=Re),le}function Rt(Z,y,E,x,Q="",le=0,Re){return{element:Z,triggerName:y,fromState:E,toState:x,phaseName:Q,totalTime:le,disabled:!!Re}}function un(Z,y,E){let x=Z.get(y);return x||Z.set(y,x=E),x}function vn(Z){const y=Z.indexOf(":");return[Z.substring(1,y),Z.slice(y+1)]}const qr=(()=>typeof document>"u"?null:document.documentElement)();function Lr(Z){const y=Z.parentNode||Z.host||null;return y===qr?null:y}let sr=null,Br=!1;function Sr(Z,y){for(;y;){if(y===Z)return!0;y=Lr(y)}return!1}function kr(Z,y,E){if(E)return Array.from(Z.querySelectorAll(y));const x=Z.querySelector(y);return x?[x]:[]}let re=(()=>{class Z{validateStyleProperty(E){return function ei(Z){sr||(sr=function Ar(){return typeof document<"u"?document.body:null}()||{},Br=!!sr.style&&"WebkitAppearance"in sr.style);let y=!0;return sr.style&&!function Bn(Z){return"ebkit"==Z.substring(1,6)}(Z)&&(y=Z in sr.style,!y&&Br&&(y="Webkit"+Z.charAt(0).toUpperCase()+Z.slice(1)in sr.style)),y}(E)}matchesElement(E,x){return!1}containsElement(E,x){return Sr(E,x)}getParentElement(E){return Lr(E)}query(E,x,Q){return kr(E,x,Q)}computeStyle(E,x,Q){return Q||""}animate(E,x,Q,le,Re,_=[],L){return new he.ZN(Q,le)}static#e=this.\u0275fac=function(x){return new(x||Z)};static#t=this.\u0275prov=b.Yz7({token:Z,factory:Z.\u0275fac})}return Z})(),$=(()=>{class Z{static#e=this.NOOP=new re}return Z})();const N=1e3,Le="ng-enter",ct="ng-leave",Tt="ng-trigger",Lt=".ng-trigger",kt="ng-animating",Kt=".ng-animating";function bn(Z){if("number"==typeof Z)return Z;const y=Z.match(/^(-?[\.\d]+)(m?s)/);return!y||y.length<2?0:De(parseFloat(y[1]),y[2])}function De(Z,y){return"s"===y?Z*N:Z}function ve(Z,y,E){return Z.hasOwnProperty("duration")?Z:function xe(Z,y,E){let Q,le=0,Re="";if("string"==typeof Z){const _=Z.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===_)return y.push(Ct()),{duration:0,delay:0,easing:""};Q=De(parseFloat(_[1]),_[2]);const L=_[3];null!=L&&(le=De(parseFloat(L),_[4]));const A=_[5];A&&(Re=A)}else Q=Z;if(!E){let _=!1,L=y.length;Q<0&&(y.push(function $e(){return new b.vHH(3100,!1)}()),_=!0),le<0&&(y.push(function Gt(){return new b.vHH(3101,!1)}()),_=!0),_&&y.splice(L,0,Ct())}return{duration:Q,delay:le,easing:Re}}(Z,y,E)}function Ie(Z,y={}){return Object.keys(Z).forEach(E=>{y[E]=Z[E]}),y}function we(Z){const y=new Map;return Object.keys(Z).forEach(E=>{y.set(E,Z[E])}),y}function St(Z,y=new Map,E){if(E)for(let[x,Q]of E)y.set(x,Q);for(let[x,Q]of Z)y.set(x,Q);return y}function dt(Z,y,E){y.forEach((x,Q)=>{const le=Kr(Q);E&&!E.has(Q)&&E.set(Q,Z.style[le]),Z.style[le]=x})}function nn(Z,y){y.forEach((E,x)=>{const Q=Kr(x);Z.style[Q]=""})}function Zn(Z){return Array.isArray(Z)?1==Z.length?Z[0]:(0,he.vP)(Z):Z}const Xn=new RegExp("{{\\s*(.+?)\\s*}}","g");function Or(Z){let y=[];if("string"==typeof Z){let E;for(;E=Xn.exec(Z);)y.push(E[1]);Xn.lastIndex=0}return y}function ti(Z,y,E){const x=Z.toString(),Q=x.replace(Xn,(le,Re)=>{let _=y[Re];return null==_&&(E.push(function gn(Z){return new b.vHH(3003,!1)}()),_=""),_.toString()});return Q==x?Z:Q}function nr(Z){const y=[];let E=Z.next();for(;!E.done;)y.push(E.value),E=Z.next();return y}const mr=/-+([a-z0-9])/g;function Kr(Z){return Z.replace(mr,(...y)=>y[1].toUpperCase())}function wr(Z,y,E){switch(y.type){case 7:return Z.visitTrigger(y,E);case 0:return Z.visitState(y,E);case 1:return Z.visitTransition(y,E);case 2:return Z.visitSequence(y,E);case 3:return Z.visitGroup(y,E);case 4:return Z.visitAnimate(y,E);case 5:return Z.visitKeyframes(y,E);case 6:return Z.visitStyle(y,E);case 8:return Z.visitReference(y,E);case 9:return Z.visitAnimateChild(y,E);case 10:return Z.visitAnimateRef(y,E);case 11:return Z.visitQuery(y,E);case 12:return Z.visitStagger(y,E);default:throw function bt(Z){return new b.vHH(3004,!1)}()}}function Gi(Z,y){return window.getComputedStyle(Z)[y]}const wi="*";function Io(Z,y){const E=[];return"string"==typeof Z?Z.split(/\s*,\s*/).forEach(x=>function li(Z,y,E){if(":"==Z[0]){const L=function $s(Z,y){switch(Z){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(E,x)=>parseFloat(x)>parseFloat(E);case":decrement":return(E,x)=>parseFloat(x)<parseFloat(E);default:return y.push(function Un(Z){return new b.vHH(3016,!1)}()),"* => *"}}(Z,E);if("function"==typeof L)return void y.push(L);Z=L}const x=Z.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==x||x.length<4)return E.push(function ln(Z){return new b.vHH(3015,!1)}()),y;const Q=x[1],le=x[2],Re=x[3];y.push(Eo(Q,Re));"<"==le[0]&&!(Q==wi&&Re==wi)&&y.push(Eo(Re,Q))}(x,E,y)):E.push(Z),E}const ui=new Set(["true","1"]),Hi=new Set(["false","0"]);function Eo(Z,y){const E=ui.has(Z)||Hi.has(Z),x=ui.has(y)||Hi.has(y);return(Q,le)=>{let Re=Z==wi||Z==Q,_=y==wi||y==le;return!Re&&E&&"boolean"==typeof Q&&(Re=Q?ui.has(Z):Hi.has(Z)),!_&&x&&"boolean"==typeof le&&(_=le?ui.has(y):Hi.has(y)),Re&&_}}const Ni=new RegExp("s*:selfs*,?","g");function No(Z,y,E,x){return new uo(Z).build(y,E,x)}class uo{constructor(y){this._driver=y}build(y,E,x){const Q=new Lo(E);return this._resetContextStyleTimingState(Q),wr(this,Zn(y),Q)}_resetContextStyleTimingState(y){y.currentQuerySelector="",y.collectedStyles=new Map,y.collectedStyles.set("",new Map),y.currentTime=0}visitTrigger(y,E){let x=E.queryCount=0,Q=E.depCount=0;const le=[],Re=[];return"@"==y.name.charAt(0)&&E.errors.push(function Se(){return new b.vHH(3006,!1)}()),y.definitions.forEach(_=>{if(this._resetContextStyleTimingState(E),0==_.type){const L=_,A=L.name;A.toString().split(/\s*,\s*/).forEach(F=>{L.name=F,le.push(this.visitState(L,E))}),L.name=A}else if(1==_.type){const L=this.visitTransition(_,E);x+=L.queryCount,Q+=L.depCount,Re.push(L)}else E.errors.push(function Oe(){return new b.vHH(3007,!1)}())}),{type:7,name:y.name,states:le,transitions:Re,queryCount:x,depCount:Q,options:null}}visitState(y,E){const x=this.visitStyle(y.styles,E),Q=y.options&&y.options.params||null;if(x.containsDynamicStyles){const le=new Set,Re=Q||{};x.styles.forEach(_=>{_ instanceof Map&&_.forEach(L=>{Or(L).forEach(A=>{Re.hasOwnProperty(A)||le.add(A)})})}),le.size&&(nr(le.values()),E.errors.push(function Ze(Z,y){return new b.vHH(3008,!1)}()))}return{type:0,name:y.name,style:x,options:Q?{params:Q}:null}}visitTransition(y,E){E.queryCount=0,E.depCount=0;const x=wr(this,Zn(y.animation),E);return{type:1,matchers:Io(y.expr,E.errors),animation:x,queryCount:E.queryCount,depCount:E.depCount,options:Li(y.options)}}visitSequence(y,E){return{type:2,steps:y.steps.map(x=>wr(this,x,E)),options:Li(y.options)}}visitGroup(y,E){const x=E.currentTime;let Q=0;const le=y.steps.map(Re=>{E.currentTime=x;const _=wr(this,Re,E);return Q=Math.max(Q,E.currentTime),_});return E.currentTime=Q,{type:3,steps:le,options:Li(y.options)}}visitAnimate(y,E){const x=function Ws(Z,y){if(Z.hasOwnProperty("duration"))return Z;if("number"==typeof Z)return jn(ve(Z,y).duration,0,"");const E=Z;if(E.split(/\s+/).some(le=>"{"==le.charAt(0)&&"{"==le.charAt(1))){const le=jn(0,0,"");return le.dynamic=!0,le.strValue=E,le}const Q=ve(E,y);return jn(Q.duration,Q.delay,Q.easing)}(y.timings,E.errors);E.currentAnimateTimings=x;let Q,le=y.styles?y.styles:(0,he.oB)({});if(5==le.type)Q=this.visitKeyframes(le,E);else{let Re=y.styles,_=!1;if(!Re){_=!0;const A={};x.easing&&(A.easing=x.easing),Re=(0,he.oB)(A)}E.currentTime+=x.duration+x.delay;const L=this.visitStyle(Re,E);L.isEmptyStep=_,Q=L}return E.currentAnimateTimings=null,{type:4,timings:x,style:Q,options:null}}visitStyle(y,E){const x=this._makeStyleAst(y,E);return this._validateStyleAst(x,E),x}_makeStyleAst(y,E){const x=[],Q=Array.isArray(y.styles)?y.styles:[y.styles];for(let _ of Q)"string"==typeof _?_===he.l3?x.push(_):E.errors.push(new b.vHH(3002,!1)):x.push(we(_));let le=!1,Re=null;return x.forEach(_=>{if(_ instanceof Map&&(_.has("easing")&&(Re=_.get("easing"),_.delete("easing")),!le))for(let L of _.values())if(L.toString().indexOf("{{")>=0){le=!0;break}}),{type:6,styles:x,easing:Re,offset:y.offset,containsDynamicStyles:le,options:null}}_validateStyleAst(y,E){const x=E.currentAnimateTimings;let Q=E.currentTime,le=E.currentTime;x&&le>0&&(le-=x.duration+x.delay),y.styles.forEach(Re=>{"string"!=typeof Re&&Re.forEach((_,L)=>{const A=E.collectedStyles.get(E.currentQuerySelector),F=A.get(L);let ue=!0;F&&(le!=Q&&le>=F.startTime&&Q<=F.endTime&&(E.errors.push(function ht(Z,y,E,x,Q){return new b.vHH(3010,!1)}()),ue=!1),le=F.startTime),ue&&A.set(L,{startTime:le,endTime:Q}),E.options&&function xn(Z,y,E){const x=y.params||{},Q=Or(Z);Q.length&&Q.forEach(le=>{x.hasOwnProperty(le)||E.push(function At(Z){return new b.vHH(3001,!1)}())})}(_,E.options,E.errors)})})}visitKeyframes(y,E){const x={type:5,styles:[],options:null};if(!E.currentAnimateTimings)return E.errors.push(function gt(){return new b.vHH(3011,!1)}()),x;let le=0;const Re=[];let _=!1,L=!1,A=0;const F=y.steps.map(_n=>{const sn=this._makeStyleAst(_n,E);let On=null!=sn.offset?sn.offset:function ys(Z){if("string"==typeof Z)return null;let y=null;if(Array.isArray(Z))Z.forEach(E=>{if(E instanceof Map&&E.has("offset")){const x=E;y=parseFloat(x.get("offset")),x.delete("offset")}});else if(Z instanceof Map&&Z.has("offset")){const E=Z;y=parseFloat(E.get("offset")),E.delete("offset")}return y}(sn.styles),dn=0;return null!=On&&(le++,dn=sn.offset=On),L=L||dn<0||dn>1,_=_||dn<A,A=dn,Re.push(dn),sn});L&&E.errors.push(function yt(){return new b.vHH(3012,!1)}()),_&&E.errors.push(function Ln(){return new b.vHH(3200,!1)}());const ue=y.steps.length;let Be=0;le>0&&le<ue?E.errors.push(function en(){return new b.vHH(3202,!1)}()):0==le&&(Be=1/(ue-1));const We=ue-1,pt=E.currentTime,jt=E.currentAnimateTimings,rn=jt.duration;return F.forEach((_n,sn)=>{const On=Be>0?sn==We?1:Be*sn:Re[sn],dn=On*rn;E.currentTime=pt+jt.delay+dn,jt.duration=dn,this._validateStyleAst(_n,E),_n.offset=On,x.styles.push(_n)}),x}visitReference(y,E){return{type:8,animation:wr(this,Zn(y.animation),E),options:Li(y.options)}}visitAnimateChild(y,E){return E.depCount++,{type:9,options:Li(y.options)}}visitAnimateRef(y,E){return{type:10,animation:this.visitReference(y.animation,E),options:Li(y.options)}}visitQuery(y,E){const x=E.currentQuerySelector,Q=y.options||{};E.queryCount++,E.currentQuery=y;const[le,Re]=function sa(Z){const y=!!Z.split(/\s*,\s*/).find(E=>":self"==E);return y&&(Z=Z.replace(Ni,"")),Z=Z.replace(/@\*/g,Lt).replace(/@\w+/g,E=>Lt+"-"+E.slice(1)).replace(/:animating/g,Kt),[Z,y]}(y.selector);E.currentQuerySelector=x.length?x+" "+le:le,un(E.collectedStyles,E.currentQuerySelector,new Map);const _=wr(this,Zn(y.animation),E);return E.currentQuery=null,E.currentQuerySelector=x,{type:11,selector:le,limit:Q.limit||0,optional:!!Q.optional,includeSelf:Re,animation:_,originalSelector:y.selector,options:Li(y.options)}}visitStagger(y,E){E.currentQuery||E.errors.push(function Sn(){return new b.vHH(3013,!1)}());const x="full"===y.timings?{duration:0,delay:0,easing:"full"}:ve(y.timings,E.errors,!0);return{type:12,animation:wr(this,Zn(y.animation),E),timings:x,options:null}}}class Lo{constructor(y){this.errors=y,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Li(Z){return Z?(Z=Ie(Z)).params&&(Z.params=function Gs(Z){return Z?Ie(Z):null}(Z.params)):Z={},Z}function jn(Z,y,E){return{duration:Z,delay:y,easing:E}}function Pr(Z,y,E,x,Q,le,Re=null,_=!1){return{type:1,element:Z,keyframes:y,preStyleProps:E,postStyleProps:x,duration:Q,delay:le,totalTime:Q+le,easing:Re,subTimeline:_}}class Hr{constructor(){this._map=new Map}get(y){return this._map.get(y)||[]}append(y,E){let x=this._map.get(y);x||this._map.set(y,x=[]),x.push(...E)}has(y){return this._map.has(y)}clear(){this._map.clear()}}const To=new RegExp(":enter","g"),ss=new RegExp(":leave","g");function pi(Z,y,E,x,Q,le=new Map,Re=new Map,_,L,A=[]){return(new os).buildKeyframes(Z,y,E,x,Q,le,Re,_,L,A)}class os{buildKeyframes(y,E,x,Q,le,Re,_,L,A,F=[]){A=A||new Hr;const ue=new Ft(y,E,A,Q,le,F,[]);ue.options=L;const Be=L.delay?bn(L.delay):0;ue.currentTimeline.delayNextStep(Be),ue.currentTimeline.setStyles([Re],null,ue.errors,L),wr(this,x,ue);const We=ue.timelines.filter(pt=>pt.containsAnimation());if(We.length&&_.size){let pt;for(let jt=We.length-1;jt>=0;jt--){const rn=We[jt];if(rn.element===E){pt=rn;break}}pt&&!pt.allowOnlyTimelineStyles()&&pt.setStyles([_],null,ue.errors,L)}return We.length?We.map(pt=>pt.buildKeyframes()):[Pr(E,[],[],[],0,Be,"",!1)]}visitTrigger(y,E){}visitState(y,E){}visitTransition(y,E){}visitAnimateChild(y,E){const x=E.subInstructions.get(E.element);if(x){const Q=E.createSubContext(y.options),le=E.currentTimeline.currentTime,Re=this._visitSubInstructions(x,Q,Q.options);le!=Re&&E.transformIntoNewTimeline(Re)}E.previousNode=y}visitAnimateRef(y,E){const x=E.createSubContext(y.options);x.transformIntoNewTimeline(),this._applyAnimationRefDelays([y.options,y.animation.options],E,x),this.visitReference(y.animation,x),E.transformIntoNewTimeline(x.currentTimeline.currentTime),E.previousNode=y}_applyAnimationRefDelays(y,E,x){for(const Q of y){const le=Q?.delay;if(le){const Re="number"==typeof le?le:bn(ti(le,Q?.params??{},E.errors));x.delayNextStep(Re)}}}_visitSubInstructions(y,E,x){let le=E.currentTimeline.currentTime;const Re=null!=x.duration?bn(x.duration):null,_=null!=x.delay?bn(x.delay):null;return 0!==Re&&y.forEach(L=>{const A=E.appendInstructionToTimeline(L,Re,_);le=Math.max(le,A.duration+A.delay)}),le}visitReference(y,E){E.updateOptions(y.options,!0),wr(this,y.animation,E),E.previousNode=y}visitSequence(y,E){const x=E.subContextCount;let Q=E;const le=y.options;if(le&&(le.params||le.delay)&&(Q=E.createSubContext(le),Q.transformIntoNewTimeline(),null!=le.delay)){6==Q.previousNode.type&&(Q.currentTimeline.snapshotCurrentStyles(),Q.previousNode=Cr);const Re=bn(le.delay);Q.delayNextStep(Re)}y.steps.length&&(y.steps.forEach(Re=>wr(this,Re,Q)),Q.currentTimeline.applyStylesToKeyframe(),Q.subContextCount>x&&Q.transformIntoNewTimeline()),E.previousNode=y}visitGroup(y,E){const x=[];let Q=E.currentTimeline.currentTime;const le=y.options&&y.options.delay?bn(y.options.delay):0;y.steps.forEach(Re=>{const _=E.createSubContext(y.options);le&&_.delayNextStep(le),wr(this,Re,_),Q=Math.max(Q,_.currentTimeline.currentTime),x.push(_.currentTimeline)}),x.forEach(Re=>E.currentTimeline.mergeTimelineCollectedStyles(Re)),E.transformIntoNewTimeline(Q),E.previousNode=y}_visitTiming(y,E){if(y.dynamic){const x=y.strValue;return ve(E.params?ti(x,E.params,E.errors):x,E.errors)}return{duration:y.duration,delay:y.delay,easing:y.easing}}visitAnimate(y,E){const x=E.currentAnimateTimings=this._visitTiming(y.timings,E),Q=E.currentTimeline;x.delay&&(E.incrementTime(x.delay),Q.snapshotCurrentStyles());const le=y.style;5==le.type?this.visitKeyframes(le,E):(E.incrementTime(x.duration),this.visitStyle(le,E),Q.applyStylesToKeyframe()),E.currentAnimateTimings=null,E.previousNode=y}visitStyle(y,E){const x=E.currentTimeline,Q=E.currentAnimateTimings;!Q&&x.hasCurrentStyleProperties()&&x.forwardFrame();const le=Q&&Q.easing||y.easing;y.isEmptyStep?x.applyEmptyStep(le):x.setStyles(y.styles,le,E.errors,E.options),E.previousNode=y}visitKeyframes(y,E){const x=E.currentAnimateTimings,Q=E.currentTimeline.duration,le=x.duration,_=E.createSubContext().currentTimeline;_.easing=x.easing,y.styles.forEach(L=>{_.forwardTime((L.offset||0)*le),_.setStyles(L.styles,L.easing,E.errors,E.options),_.applyStylesToKeyframe()}),E.currentTimeline.mergeTimelineCollectedStyles(_),E.transformIntoNewTimeline(Q+le),E.previousNode=y}visitQuery(y,E){const x=E.currentTimeline.currentTime,Q=y.options||{},le=Q.delay?bn(Q.delay):0;le&&(6===E.previousNode.type||0==x&&E.currentTimeline.hasCurrentStyleProperties())&&(E.currentTimeline.snapshotCurrentStyles(),E.previousNode=Cr);let Re=x;const _=E.invokeQuery(y.selector,y.originalSelector,y.limit,y.includeSelf,!!Q.optional,E.errors);E.currentQueryTotal=_.length;let L=null;_.forEach((A,F)=>{E.currentQueryIndex=F;const ue=E.createSubContext(y.options,A);le&&ue.delayNextStep(le),A===E.element&&(L=ue.currentTimeline),wr(this,y.animation,ue),ue.currentTimeline.applyStylesToKeyframe(),Re=Math.max(Re,ue.currentTimeline.currentTime)}),E.currentQueryIndex=0,E.currentQueryTotal=0,E.transformIntoNewTimeline(Re),L&&(E.currentTimeline.mergeTimelineCollectedStyles(L),E.currentTimeline.snapshotCurrentStyles()),E.previousNode=y}visitStagger(y,E){const x=E.parentContext,Q=E.currentTimeline,le=y.timings,Re=Math.abs(le.duration),_=Re*(E.currentQueryTotal-1);let L=Re*E.currentQueryIndex;switch(le.duration<0?"reverse":le.easing){case"reverse":L=_-L;break;case"full":L=x.currentStaggerTime}const F=E.currentTimeline;L&&F.delayNextStep(L);const ue=F.currentTime;wr(this,y.animation,E),E.previousNode=y,x.currentStaggerTime=Q.currentTime-ue+(Q.startTime-x.currentTimeline.startTime)}}const Cr={};class Ft{constructor(y,E,x,Q,le,Re,_,L){this._driver=y,this.element=E,this.subInstructions=x,this._enterClassName=Q,this._leaveClassName=le,this.errors=Re,this.timelines=_,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Cr,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=L||new wn(this._driver,E,0),_.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(y,E){if(!y)return;const x=y;let Q=this.options;null!=x.duration&&(Q.duration=bn(x.duration)),null!=x.delay&&(Q.delay=bn(x.delay));const le=x.params;if(le){let Re=Q.params;Re||(Re=this.options.params={}),Object.keys(le).forEach(_=>{(!E||!Re.hasOwnProperty(_))&&(Re[_]=ti(le[_],Re,this.errors))})}}_copyOptions(){const y={};if(this.options){const E=this.options.params;if(E){const x=y.params={};Object.keys(E).forEach(Q=>{x[Q]=E[Q]})}}return y}createSubContext(y=null,E,x){const Q=E||this.element,le=new Ft(this._driver,Q,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(Q,x||0));return le.previousNode=this.previousNode,le.currentAnimateTimings=this.currentAnimateTimings,le.options=this._copyOptions(),le.updateOptions(y),le.currentQueryIndex=this.currentQueryIndex,le.currentQueryTotal=this.currentQueryTotal,le.parentContext=this,this.subContextCount++,le}transformIntoNewTimeline(y){return this.previousNode=Cr,this.currentTimeline=this.currentTimeline.fork(this.element,y),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(y,E,x){const Q={duration:E??y.duration,delay:this.currentTimeline.currentTime+(x??0)+y.delay,easing:""},le=new Gn(this._driver,y.element,y.keyframes,y.preStyleProps,y.postStyleProps,Q,y.stretchStartingKeyframe);return this.timelines.push(le),Q}incrementTime(y){this.currentTimeline.forwardTime(this.currentTimeline.duration+y)}delayNextStep(y){y>0&&this.currentTimeline.delayNextStep(y)}invokeQuery(y,E,x,Q,le,Re){let _=[];if(Q&&_.push(this.element),y.length>0){y=(y=y.replace(To,"."+this._enterClassName)).replace(ss,"."+this._leaveClassName);let A=this._driver.query(this.element,y,1!=x);0!==x&&(A=x<0?A.slice(A.length+x,A.length):A.slice(0,x)),_.push(...A)}return!le&&0==_.length&&Re.push(function an(Z){return new b.vHH(3014,!1)}()),_}}class wn{constructor(y,E,x,Q){this._driver=y,this.element=E,this.startTime=x,this._elementTimelineStylesLookup=Q,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(E),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(E,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(y){const E=1===this._keyframes.size&&this._pendingStyles.size;this.duration||E?(this.forwardTime(this.currentTime+y),E&&this.snapshotCurrentStyles()):this.startTime+=y}fork(y,E){return this.applyStylesToKeyframe(),new wn(this._driver,y,E||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(y){this.applyStylesToKeyframe(),this.duration=y,this._loadKeyframe()}_updateStyle(y,E){this._localTimelineStyles.set(y,E),this._globalTimelineStyles.set(y,E),this._styleSummary.set(y,{time:this.currentTime,value:E})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(y){y&&this._previousKeyframe.set("easing",y);for(let[E,x]of this._globalTimelineStyles)this._backFill.set(E,x||he.l3),this._currentKeyframe.set(E,he.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(y,E,x,Q){E&&this._previousKeyframe.set("easing",E);const le=Q&&Q.params||{},Re=function as(Z,y){const E=new Map;let x;return Z.forEach(Q=>{if("*"===Q){x=x||y.keys();for(let le of x)E.set(le,he.l3)}else St(Q,E)}),E}(y,this._globalTimelineStyles);for(let[_,L]of Re){const A=ti(L,le,x);this._pendingStyles.set(_,A),this._localTimelineStyles.has(_)||this._backFill.set(_,this._globalTimelineStyles.get(_)??he.l3),this._updateStyle(_,A)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((y,E)=>{this._currentKeyframe.set(E,y)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((y,E)=>{this._currentKeyframe.has(E)||this._currentKeyframe.set(E,y)}))}snapshotCurrentStyles(){for(let[y,E]of this._localTimelineStyles)this._pendingStyles.set(y,E),this._updateStyle(y,E)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const y=[];for(let E in this._currentKeyframe)y.push(E);return y}mergeTimelineCollectedStyles(y){y._styleSummary.forEach((E,x)=>{const Q=this._styleSummary.get(x);(!Q||E.time>Q.time)&&this._updateStyle(x,E.value)})}buildKeyframes(){this.applyStylesToKeyframe();const y=new Set,E=new Set,x=1===this._keyframes.size&&0===this.duration;let Q=[];this._keyframes.forEach((_,L)=>{const A=St(_,new Map,this._backFill);A.forEach((F,ue)=>{F===he.k1?y.add(ue):F===he.l3&&E.add(ue)}),x||A.set("offset",L/this.duration),Q.push(A)});const le=y.size?nr(y.values()):[],Re=E.size?nr(E.values()):[];if(x){const _=Q[0],L=new Map(_);_.set("offset",0),L.set("offset",1),Q=[_,L]}return Pr(this.element,Q,le,Re,this.duration,this.startTime,this.easing,!1)}}class Gn extends wn{constructor(y,E,x,Q,le,Re,_=!1){super(y,E,Re.delay),this.keyframes=x,this.preStyleProps=Q,this.postStyleProps=le,this._stretchStartingKeyframe=_,this.timings={duration:Re.duration,delay:Re.delay,easing:Re.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let y=this.keyframes,{delay:E,duration:x,easing:Q}=this.timings;if(this._stretchStartingKeyframe&&E){const le=[],Re=x+E,_=E/Re,L=St(y[0]);L.set("offset",0),le.push(L);const A=St(y[0]);A.set("offset",mi(_)),le.push(A);const F=y.length-1;for(let ue=1;ue<=F;ue++){let Be=St(y[ue]);const We=Be.get("offset");Be.set("offset",mi((E+We*x)/Re)),le.push(Be)}x=Re,E=0,Q="",y=le}return Pr(this.element,y,this.preStyleProps,this.postStyleProps,x,E,Q,!0)}}function mi(Z,y=3){const E=Math.pow(10,y-1);return Math.round(Z*E)/E}class ci{}const ls=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class vs extends ci{normalizePropertyName(y,E){return Kr(y)}normalizeStyleValue(y,E,x,Q){let le="";const Re=x.toString().trim();if(ls.has(E)&&0!==x&&"0"!==x)if("number"==typeof x)le="px";else{const _=x.match(/^[+-]?[\d\.]+([a-z]*)$/);_&&0==_[1].length&&Q.push(function Nt(Z,y){return new b.vHH(3005,!1)}())}return Re+le}}function fn(Z,y,E,x,Q,le,Re,_,L,A,F,ue,Be){return{type:0,element:Z,triggerName:y,isRemovalTransition:Q,fromState:E,fromStyles:le,toState:x,toStyles:Re,timelines:_,queriedElements:L,preStyleProps:A,postStyleProps:F,totalTime:ue,errors:Be}}const gi={};class us{constructor(y,E,x){this._triggerName=y,this.ast=E,this._stateStyles=x}match(y,E,x,Q){return function lr(Z,y,E,x,Q){return Z.some(le=>le(y,E,x,Q))}(this.ast.matchers,y,E,x,Q)}buildStyles(y,E,x){let Q=this._stateStyles.get("*");return void 0!==y&&(Q=this._stateStyles.get(y?.toString())||Q),Q?Q.buildStyles(E,x):new Map}build(y,E,x,Q,le,Re,_,L,A,F){const ue=[],Be=this.ast.options&&this.ast.options.params||gi,pt=this.buildStyles(x,_&&_.params||gi,ue),jt=L&&L.params||gi,rn=this.buildStyles(Q,jt,ue),_n=new Set,sn=new Map,On=new Map,dn="void"===Q,Dn={params:_i(jt,Be),delay:this.ast.options?.delay},$r=F?[]:pi(y,E,this.ast.animation,le,Re,pt,rn,Dn,A,ue);let Dr=0;if($r.forEach(Vr=>{Dr=Math.max(Vr.duration+Vr.delay,Dr)}),ue.length)return fn(E,this._triggerName,x,Q,dn,pt,rn,[],[],sn,On,Dr,ue);$r.forEach(Vr=>{const Vi=Vr.element,Yr=un(sn,Vi,new Set);Vr.preStyleProps.forEach(Zo=>Yr.add(Zo));const fs=un(On,Vi,new Set);Vr.postStyleProps.forEach(Zo=>fs.add(Zo)),Vi!==E&&_n.add(Vi)});const vi=nr(_n.values());return fn(E,this._triggerName,x,Q,dn,pt,rn,$r,vi,sn,On,Dr)}}function _i(Z,y){const E=Ie(y);for(const x in Z)Z.hasOwnProperty(x)&&null!=Z[x]&&(E[x]=Z[x]);return E}class Ki{constructor(y,E,x){this.styles=y,this.defaultParams=E,this.normalizer=x}buildStyles(y,E){const x=new Map,Q=Ie(this.defaultParams);return Object.keys(y).forEach(le=>{const Re=y[le];null!==Re&&(Q[le]=Re)}),this.styles.styles.forEach(le=>{"string"!=typeof le&&le.forEach((Re,_)=>{Re&&(Re=ti(Re,Q,E));const L=this.normalizer.normalizePropertyName(_,E);Re=this.normalizer.normalizeStyleValue(_,L,Re,E),x.set(_,Re)})}),x}}class cr{constructor(y,E,x){this.name=y,this.ast=E,this._normalizer=x,this.transitionFactories=[],this.states=new Map,E.states.forEach(Q=>{this.states.set(Q.name,new Ki(Q.style,Q.options&&Q.options.params||{},x))}),Di(this.states,"true","1"),Di(this.states,"false","0"),E.transitions.forEach(Q=>{this.transitionFactories.push(new us(y,Q,this.states))}),this.fallbackTransition=function Is(Z,y,E){return new us(Z,{type:1,animation:{type:2,steps:[],options:null},matchers:[(Re,_)=>!0],options:null,queryCount:0,depCount:0},y)}(y,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(y,E,x,Q){return this.transitionFactories.find(Re=>Re.match(y,E,x,Q))||null}matchStyles(y,E,x){return this.fallbackTransition.buildStyles(y,E,x)}}function Di(Z,y,E){Z.has(y)?Z.has(E)||Z.set(E,Z.get(y)):Z.has(E)&&Z.set(y,Z.get(E))}const jr=new Hr;class qs{constructor(y,E,x){this.bodyNode=y,this._driver=E,this._normalizer=x,this._animations=new Map,this._playersById=new Map,this.players=[]}register(y,E){const x=[],le=No(this._driver,E,x,[]);if(x.length)throw function Er(Z){return new b.vHH(3503,!1)}();this._animations.set(y,le)}_buildPlayer(y,E,x){const Q=y.element,le=Ge(this._normalizer,y.keyframes,E,x);return this._driver.animate(Q,le,y.duration,y.delay,y.easing,[],!0)}create(y,E,x={}){const Q=[],le=this._animations.get(y);let Re;const _=new Map;if(le?(Re=pi(this._driver,E,le,Le,ct,new Map,new Map,x,jr,Q),Re.forEach(F=>{const ue=un(_,F.element,new Map);F.postStyleProps.forEach(Be=>ue.set(Be,null))})):(Q.push(function Mn(){return new b.vHH(3300,!1)}()),Re=[]),Q.length)throw function kn(Z){return new b.vHH(3504,!1)}();_.forEach((F,ue)=>{F.forEach((Be,We)=>{F.set(We,this._driver.computeStyle(ue,We,he.l3))})});const A=Ae(Re.map(F=>{const ue=_.get(F.element);return this._buildPlayer(F,new Map,ue)}));return this._playersById.set(y,A),A.onDestroy(()=>this.destroy(y)),this.players.push(A),A}destroy(y){const E=this._getPlayer(y);E.destroy(),this._playersById.delete(y);const x=this.players.indexOf(E);x>=0&&this.players.splice(x,1)}_getPlayer(y){const E=this._playersById.get(y);if(!E)throw function Nr(Z){return new b.vHH(3301,!1)}();return E}listen(y,E,x,Q){const le=Rt(E,"","","");return Qe(this._getPlayer(y),x,le,Q),()=>{}}command(y,E,x,Q){if("register"==x)return void this.register(y,Q[0]);if("create"==x)return void this.create(y,E,Q[0]||{});const le=this._getPlayer(y);switch(x){case"play":le.play();break;case"pause":le.pause();break;case"reset":le.reset();break;case"restart":le.restart();break;case"finish":le.finish();break;case"init":le.init();break;case"setPosition":le.setPosition(parseFloat(Q[0]));break;case"destroy":this.destroy(y)}}}const Rs="ng-animate-queued",Es="ng-animate-disabled",Ts=[],ps={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ki={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},rr="__ng_removed";class cs{get params(){return this.options.params}constructor(y,E=""){this.namespaceId=E;const x=y&&y.hasOwnProperty("value");if(this.value=function Ks(Z){return Z??null}(x?y.value:y),x){const le=Ie(y);delete le.value,this.options=le}else this.options={};this.options.params||(this.options.params={})}absorbOptions(y){const E=y.params;if(E){const x=this.options.params;Object.keys(E).forEach(Q=>{null==x[Q]&&(x[Q]=E[Q])})}}}const Qr="void",gr=new cs(Qr);class Fo{constructor(y,E,x){this.id=y,this.hostElement=E,this._engine=x,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+y,Fi(E,this._hostClassName)}listen(y,E,x,Q){if(!this._triggers.has(E))throw function tr(Z,y){return new b.vHH(3302,!1)}();if(null==x||0==x.length)throw function Xt(Z){return new b.vHH(3303,!1)}();if(!function wo(Z){return"start"==Z||"done"==Z}(x))throw function hn(Z,y){return new b.vHH(3400,!1)}();const le=un(this._elementListeners,y,[]),Re={name:E,phase:x,callback:Q};le.push(Re);const _=un(this._engine.statesByElement,y,new Map);return _.has(E)||(Fi(y,Tt),Fi(y,Tt+"-"+E),_.set(E,gr)),()=>{this._engine.afterFlush(()=>{const L=le.indexOf(Re);L>=0&&le.splice(L,1),this._triggers.has(E)||_.delete(E)})}}register(y,E){return!this._triggers.has(y)&&(this._triggers.set(y,E),!0)}_getTrigger(y){const E=this._triggers.get(y);if(!E)throw function Qt(Z){return new b.vHH(3401,!1)}();return E}trigger(y,E,x,Q=!0){const le=this._getTrigger(E),Re=new ws(this.id,E,y);let _=this._engine.statesByElement.get(y);_||(Fi(y,Tt),Fi(y,Tt+"-"+E),this._engine.statesByElement.set(y,_=new Map));let L=_.get(E);const A=new cs(x,this.id);if(!(x&&x.hasOwnProperty("value"))&&L&&A.absorbOptions(L.options),_.set(E,A),L||(L=gr),A.value!==Qr&&L.value===A.value){if(!function Ha(Z,y){const E=Object.keys(Z),x=Object.keys(y);if(E.length!=x.length)return!1;for(let Q=0;Q<E.length;Q++){const le=E[Q];if(!y.hasOwnProperty(le)||Z[le]!==y[le])return!1}return!0}(L.params,A.params)){const jt=[],rn=le.matchStyles(L.value,L.params,jt),_n=le.matchStyles(A.value,A.params,jt);jt.length?this._engine.reportError(jt):this._engine.afterFlush(()=>{nn(y,rn),dt(y,_n)})}return}const Be=un(this._engine.playersByElement,y,[]);Be.forEach(jt=>{jt.namespaceId==this.id&&jt.triggerName==E&&jt.queued&&jt.destroy()});let We=le.matchTransition(L.value,A.value,y,A.params),pt=!1;if(!We){if(!Q)return;We=le.fallbackTransition,pt=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:y,triggerName:E,transition:We,fromState:L,toState:A,player:Re,isFallbackTransition:pt}),pt||(Fi(y,Rs),Re.onStart(()=>{Co(y,Rs)})),Re.onDone(()=>{let jt=this.players.indexOf(Re);jt>=0&&this.players.splice(jt,1);const rn=this._engine.playersByElement.get(y);if(rn){let _n=rn.indexOf(Re);_n>=0&&rn.splice(_n,1)}}),this.players.push(Re),Be.push(Re),Re}deregister(y){this._triggers.delete(y),this._engine.statesByElement.forEach(E=>E.delete(y)),this._elementListeners.forEach((E,x)=>{this._elementListeners.set(x,E.filter(Q=>Q.name!=y))})}clearElementCache(y){this._engine.statesByElement.delete(y),this._elementListeners.delete(y);const E=this._engine.playersByElement.get(y);E&&(E.forEach(x=>x.destroy()),this._engine.playersByElement.delete(y))}_signalRemovalForInnerTriggers(y,E){const x=this._engine.driver.query(y,Lt,!0);x.forEach(Q=>{if(Q[rr])return;const le=this._engine.fetchNamespacesByElement(Q);le.size?le.forEach(Re=>Re.triggerLeaveAnimation(Q,E,!1,!0)):this.clearElementCache(Q)}),this._engine.afterFlushAnimationsDone(()=>x.forEach(Q=>this.clearElementCache(Q)))}triggerLeaveAnimation(y,E,x,Q){const le=this._engine.statesByElement.get(y),Re=new Map;if(le){const _=[];if(le.forEach((L,A)=>{if(Re.set(A,L.value),this._triggers.has(A)){const F=this.trigger(y,A,Qr,Q);F&&_.push(F)}}),_.length)return this._engine.markElementAsRemoved(this.id,y,!0,E,Re),x&&Ae(_).onDone(()=>this._engine.processLeaveNode(y)),!0}return!1}prepareLeaveAnimationListeners(y){const E=this._elementListeners.get(y),x=this._engine.statesByElement.get(y);if(E&&x){const Q=new Set;E.forEach(le=>{const Re=le.name;if(Q.has(Re))return;Q.add(Re);const L=this._triggers.get(Re).fallbackTransition,A=x.get(Re)||gr,F=new cs(Qr),ue=new ws(this.id,Re,y);this._engine.totalQueuedPlayers++,this._queue.push({element:y,triggerName:Re,transition:L,fromState:A,toState:F,player:ue,isFallbackTransition:!0})})}}removeNode(y,E){const x=this._engine;if(y.childElementCount&&this._signalRemovalForInnerTriggers(y,E),this.triggerLeaveAnimation(y,E,!0))return;let Q=!1;if(x.totalAnimations){const le=x.players.length?x.playersByQueriedElement.get(y):[];if(le&&le.length)Q=!0;else{let Re=y;for(;Re=Re.parentNode;)if(x.statesByElement.get(Re)){Q=!0;break}}}if(this.prepareLeaveAnimationListeners(y),Q)x.markElementAsRemoved(this.id,y,!1,E);else{const le=y[rr];(!le||le===ps)&&(x.afterFlush(()=>this.clearElementCache(y)),x.destroyInnerAnimations(y),x._onRemovalComplete(y,E))}}insertNode(y,E){Fi(y,this._hostClassName)}drainQueuedTransitions(y){const E=[];return this._queue.forEach(x=>{const Q=x.player;if(Q.destroyed)return;const le=x.element,Re=this._elementListeners.get(le);Re&&Re.forEach(_=>{if(_.name==x.triggerName){const L=Rt(le,x.triggerName,x.fromState.value,x.toState.value);L._data=y,Qe(x.player,_.phase,L,_.callback)}}),Q.markedForDestroy?this._engine.afterFlush(()=>{Q.destroy()}):E.push(x)}),this._queue=[],E.sort((x,Q)=>{const le=x.transition.ast.depCount,Re=Q.transition.ast.depCount;return 0==le||0==Re?le-Re:this._engine.driver.containsElement(x.element,Q.element)?1:-1})}destroy(y){this.players.forEach(E=>E.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,y)}}class ds{_onRemovalComplete(y,E){this.onRemovalComplete(y,E)}constructor(y,E,x){this.bodyNode=y,this.driver=E,this._normalizer=x,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(Q,le)=>{}}get queuedPlayers(){const y=[];return this._namespaceList.forEach(E=>{E.players.forEach(x=>{x.queued&&y.push(x)})}),y}createNamespace(y,E){const x=new Fo(y,E,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,E)?this._balanceNamespaceList(x,E):(this.newHostElements.set(E,x),this.collectEnterElement(E)),this._namespaceLookup[y]=x}_balanceNamespaceList(y,E){const x=this._namespaceList,Q=this.namespacesByHostElement;if(x.length-1>=0){let Re=!1,_=this.driver.getParentElement(E);for(;_;){const L=Q.get(_);if(L){const A=x.indexOf(L);x.splice(A+1,0,y),Re=!0;break}_=this.driver.getParentElement(_)}Re||x.unshift(y)}else x.push(y);return Q.set(E,y),y}register(y,E){let x=this._namespaceLookup[y];return x||(x=this.createNamespace(y,E)),x}registerTrigger(y,E,x){let Q=this._namespaceLookup[y];Q&&Q.register(E,x)&&this.totalAnimations++}destroy(y,E){y&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const x=this._fetchNamespace(y);this.namespacesByHostElement.delete(x.hostElement);const Q=this._namespaceList.indexOf(x);Q>=0&&this._namespaceList.splice(Q,1),x.destroy(E),delete this._namespaceLookup[y]}))}_fetchNamespace(y){return this._namespaceLookup[y]}fetchNamespacesByElement(y){const E=new Set,x=this.statesByElement.get(y);if(x)for(let Q of x.values())if(Q.namespaceId){const le=this._fetchNamespace(Q.namespaceId);le&&E.add(le)}return E}trigger(y,E,x,Q){if(Zs(E)){const le=this._fetchNamespace(y);if(le)return le.trigger(E,x,Q),!0}return!1}insertNode(y,E,x,Q){if(!Zs(E))return;const le=E[rr];if(le&&le.setForRemoval){le.setForRemoval=!1,le.setForMove=!0;const Re=this.collectedLeaveElements.indexOf(E);Re>=0&&this.collectedLeaveElements.splice(Re,1)}if(y){const Re=this._fetchNamespace(y);Re&&Re.insertNode(E,x)}Q&&this.collectEnterElement(E)}collectEnterElement(y){this.collectedEnterElements.push(y)}markElementAsDisabled(y,E){E?this.disabledNodes.has(y)||(this.disabledNodes.add(y),Fi(y,Es)):this.disabledNodes.has(y)&&(this.disabledNodes.delete(y),Co(y,Es))}removeNode(y,E,x){if(Zs(E)){const Q=y?this._fetchNamespace(y):null;Q?Q.removeNode(E,x):this.markElementAsRemoved(y,E,!1,x);const le=this.namespacesByHostElement.get(E);le&&le.id!==y&&le.removeNode(E,x)}else this._onRemovalComplete(E,x)}markElementAsRemoved(y,E,x,Q,le){this.collectedLeaveElements.push(E),E[rr]={namespaceId:y,setForRemoval:Q,hasAnimation:x,removedBeforeQueried:!1,previousTriggersValues:le}}listen(y,E,x,Q,le){return Zs(E)?this._fetchNamespace(y).listen(E,x,Q,le):()=>{}}_buildInstruction(y,E,x,Q,le){return y.transition.build(this.driver,y.element,y.fromState.value,y.toState.value,x,Q,y.fromState.options,y.toState.options,E,le)}destroyInnerAnimations(y){let E=this.driver.query(y,Lt,!0);E.forEach(x=>this.destroyActiveAnimationsForElement(x)),0!=this.playersByQueriedElement.size&&(E=this.driver.query(y,Kt,!0),E.forEach(x=>this.finishActiveQueriedAnimationOnElement(x)))}destroyActiveAnimationsForElement(y){const E=this.playersByElement.get(y);E&&E.forEach(x=>{x.queued?x.markedForDestroy=!0:x.destroy()})}finishActiveQueriedAnimationOnElement(y){const E=this.playersByQueriedElement.get(y);E&&E.forEach(x=>x.finish())}whenRenderingDone(){return new Promise(y=>{if(this.players.length)return Ae(this.players).onDone(()=>y());y()})}processLeaveNode(y){const E=y[rr];if(E&&E.setForRemoval){if(y[rr]=ps,E.namespaceId){this.destroyInnerAnimations(y);const x=this._fetchNamespace(E.namespaceId);x&&x.clearElementCache(y)}this._onRemovalComplete(y,E.setForRemoval)}y.classList?.contains(Es)&&this.markElementAsDisabled(y,!1),this.driver.query(y,".ng-animate-disabled",!0).forEach(x=>{this.markElementAsDisabled(x,!1)})}flush(y=-1){let E=[];if(this.newHostElements.size&&(this.newHostElements.forEach((x,Q)=>this._balanceNamespaceList(x,Q)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let x=0;x<this.collectedEnterElements.length;x++)Fi(this.collectedEnterElements[x],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const x=[];try{E=this._flushAnimations(x,y)}finally{for(let Q=0;Q<x.length;Q++)x[Q]()}}else for(let x=0;x<this.collectedLeaveElements.length;x++)this.processLeaveNode(this.collectedLeaveElements[x]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(x=>x()),this._flushFns=[],this._whenQuietFns.length){const x=this._whenQuietFns;this._whenQuietFns=[],E.length?Ae(E).onDone(()=>{x.forEach(Q=>Q())}):x.forEach(Q=>Q())}}reportError(y){throw function Kn(Z){return new b.vHH(3402,!1)}()}_flushAnimations(y,E){const x=new Hr,Q=[],le=new Map,Re=[],_=new Map,L=new Map,A=new Map,F=new Set;this.disabledNodes.forEach(Yt=>{F.add(Yt);const Zt=this.driver.query(Yt,".ng-animate-queued",!0);for(let Nn=0;Nn<Zt.length;Nn++)F.add(Zt[Nn])});const ue=this.bodyNode,Be=Array.from(this.statesByElement.keys()),We=Qs(Be,this.collectedEnterElements),pt=new Map;let jt=0;We.forEach((Yt,Zt)=>{const Nn=Le+jt++;pt.set(Zt,Nn),Yt.forEach(ir=>Fi(ir,Nn))});const rn=[],_n=new Set,sn=new Set;for(let Yt=0;Yt<this.collectedLeaveElements.length;Yt++){const Zt=this.collectedLeaveElements[Yt],Nn=Zt[rr];Nn&&Nn.setForRemoval&&(rn.push(Zt),_n.add(Zt),Nn.hasAnimation?this.driver.query(Zt,".ng-star-inserted",!0).forEach(ir=>_n.add(ir)):sn.add(Zt))}const On=new Map,dn=Qs(Be,Array.from(_n));dn.forEach((Yt,Zt)=>{const Nn=ct+jt++;On.set(Zt,Nn),Yt.forEach(ir=>Fi(ir,Nn))}),y.push(()=>{We.forEach((Yt,Zt)=>{const Nn=pt.get(Zt);Yt.forEach(ir=>Co(ir,Nn))}),dn.forEach((Yt,Zt)=>{const Nn=On.get(Zt);Yt.forEach(ir=>Co(ir,Nn))}),rn.forEach(Yt=>{this.processLeaveNode(Yt)})});const Dn=[],$r=[];for(let Yt=this._namespaceList.length-1;Yt>=0;Yt--)this._namespaceList[Yt].drainQueuedTransitions(E).forEach(Nn=>{const ir=Nn.player,oi=Nn.element;if(Dn.push(ir),this.collectedEnterElements.length){const ai=oi[rr];if(ai&&ai.setForMove){if(ai.previousTriggersValues&&ai.previousTriggersValues.has(Nn.triggerName)){const Uo=ai.previousTriggersValues.get(Nn.triggerName),mt=this.statesByElement.get(Nn.element);if(mt&&mt.has(Nn.triggerName)){const Jr=mt.get(Nn.triggerName);Jr.value=Uo,mt.set(Nn.triggerName,Jr)}}return void ir.destroy()}}const hr=!ue||!this.driver.containsElement(ue,oi),ji=On.get(oi),Ao=pt.get(oi),zn=this._buildInstruction(Nn,x,Ao,ji,hr);if(zn.errors&&zn.errors.length)return void $r.push(zn);if(hr)return ir.onStart(()=>nn(oi,zn.fromStyles)),ir.onDestroy(()=>dt(oi,zn.toStyles)),void Q.push(ir);if(Nn.isFallbackTransition)return ir.onStart(()=>nn(oi,zn.fromStyles)),ir.onDestroy(()=>dt(oi,zn.toStyles)),void Q.push(ir);const Ii=[];zn.timelines.forEach(ai=>{ai.stretchStartingKeyframe=!0,this.disabledNodes.has(ai.element)||Ii.push(ai)}),zn.timelines=Ii,x.append(oi,zn.timelines),Re.push({instruction:zn,player:ir,element:oi}),zn.queriedElements.forEach(ai=>un(_,ai,[]).push(ir)),zn.preStyleProps.forEach((ai,Uo)=>{if(ai.size){let mt=L.get(Uo);mt||L.set(Uo,mt=new Set),ai.forEach((Jr,Ui)=>mt.add(Ui))}}),zn.postStyleProps.forEach((ai,Uo)=>{let mt=A.get(Uo);mt||A.set(Uo,mt=new Set),ai.forEach((Jr,Ui)=>mt.add(Ui))})});if($r.length){const Yt=[];$r.forEach(Zt=>{Yt.push(function Je(Z,y){return new b.vHH(3505,!1)}())}),Dn.forEach(Zt=>Zt.destroy()),this.reportError(Yt)}const Dr=new Map,vi=new Map;Re.forEach(Yt=>{const Zt=Yt.element;x.has(Zt)&&(vi.set(Zt,Zt),this._beforeAnimationBuild(Yt.player.namespaceId,Yt.instruction,Dr))}),Q.forEach(Yt=>{const Zt=Yt.element;this._getPreviousPlayers(Zt,!1,Yt.namespaceId,Yt.triggerName,null).forEach(ir=>{un(Dr,Zt,[]).push(ir),ir.destroy()})});const Vr=rn.filter(Yt=>G(Yt,L,A)),Vi=new Map;Zi(Vi,this.driver,sn,A,he.l3).forEach(Yt=>{G(Yt,L,A)&&Vr.push(Yt)});const fs=new Map;We.forEach((Yt,Zt)=>{Zi(fs,this.driver,new Set(Yt),L,he.k1)}),Vr.forEach(Yt=>{const Zt=Vi.get(Yt),Nn=fs.get(Yt);Vi.set(Yt,new Map([...Zt?.entries()??[],...Nn?.entries()??[]]))});const Zo=[],Rr=[],fo={};Re.forEach(Yt=>{const{element:Zt,player:Nn,instruction:ir}=Yt;if(x.has(Zt)){if(F.has(Zt))return Nn.onDestroy(()=>dt(Zt,ir.toStyles)),Nn.disabled=!0,Nn.overrideTotalTime(ir.totalTime),void Q.push(Nn);let oi=fo;if(vi.size>1){let ji=Zt;const Ao=[];for(;ji=ji.parentNode;){const zn=vi.get(ji);if(zn){oi=zn;break}Ao.push(ji)}Ao.forEach(zn=>vi.set(zn,oi))}const hr=this._buildAnimation(Nn.namespaceId,ir,Dr,le,fs,Vi);if(Nn.setRealPlayer(hr),oi===fo)Zo.push(Nn);else{const ji=this.playersByElement.get(oi);ji&&ji.length&&(Nn.parentPlayer=Ae(ji)),Q.push(Nn)}}else nn(Zt,ir.fromStyles),Nn.onDestroy(()=>dt(Zt,ir.toStyles)),Rr.push(Nn),F.has(Zt)&&Q.push(Nn)}),Rr.forEach(Yt=>{const Zt=le.get(Yt.element);if(Zt&&Zt.length){const Nn=Ae(Zt);Yt.setRealPlayer(Nn)}}),Q.forEach(Yt=>{Yt.parentPlayer?Yt.syncPlayerEvents(Yt.parentPlayer):Yt.destroy()});for(let Yt=0;Yt<rn.length;Yt++){const Zt=rn[Yt],Nn=Zt[rr];if(Co(Zt,ct),Nn&&Nn.hasAnimation)continue;let ir=[];if(_.size){let hr=_.get(Zt);hr&&hr.length&&ir.push(...hr);let ji=this.driver.query(Zt,Kt,!0);for(let Ao=0;Ao<ji.length;Ao++){let zn=_.get(ji[Ao]);zn&&zn.length&&ir.push(...zn)}}const oi=ir.filter(hr=>!hr.destroyed);oi.length?Vo(this,Zt,oi):this.processLeaveNode(Zt)}return rn.length=0,Zo.forEach(Yt=>{this.players.push(Yt),Yt.onDone(()=>{Yt.destroy();const Zt=this.players.indexOf(Yt);this.players.splice(Zt,1)}),Yt.play()}),Zo}afterFlush(y){this._flushFns.push(y)}afterFlushAnimationsDone(y){this._whenQuietFns.push(y)}_getPreviousPlayers(y,E,x,Q,le){let Re=[];if(E){const _=this.playersByQueriedElement.get(y);_&&(Re=_)}else{const _=this.playersByElement.get(y);if(_){const L=!le||le==Qr;_.forEach(A=>{A.queued||!L&&A.triggerName!=Q||Re.push(A)})}}return(x||Q)&&(Re=Re.filter(_=>!(x&&x!=_.namespaceId||Q&&Q!=_.triggerName))),Re}_beforeAnimationBuild(y,E,x){const le=E.element,Re=E.isRemovalTransition?void 0:y,_=E.isRemovalTransition?void 0:E.triggerName;for(const L of E.timelines){const A=L.element,F=A!==le,ue=un(x,A,[]);this._getPreviousPlayers(A,F,Re,_,E.toState).forEach(We=>{const pt=We.getRealPlayer();pt.beforeDestroy&&pt.beforeDestroy(),We.destroy(),ue.push(We)})}nn(le,E.fromStyles)}_buildAnimation(y,E,x,Q,le,Re){const _=E.triggerName,L=E.element,A=[],F=new Set,ue=new Set,Be=E.timelines.map(pt=>{const jt=pt.element;F.add(jt);const rn=jt[rr];if(rn&&rn.removedBeforeQueried)return new he.ZN(pt.duration,pt.delay);const _n=jt!==L,sn=function dr(Z){const y=[];return Ms(Z,y),y}((x.get(jt)||Ts).map(Dr=>Dr.getRealPlayer())).filter(Dr=>!!Dr.element&&Dr.element===jt),On=le.get(jt),dn=Re.get(jt),Dn=Ge(this._normalizer,pt.keyframes,On,dn),$r=this._buildPlayer(pt,Dn,sn);if(pt.subTimeline&&Q&&ue.add(jt),_n){const Dr=new ws(y,_,jt);Dr.setRealPlayer($r),A.push(Dr)}return $r});A.forEach(pt=>{un(this.playersByQueriedElement,pt.element,[]).push(pt),pt.onDone(()=>function hs(Z,y,E){let x=Z.get(y);if(x){if(x.length){const Q=x.indexOf(E);x.splice(Q,1)}0==x.length&&Z.delete(y)}return x}(this.playersByQueriedElement,pt.element,pt))}),F.forEach(pt=>Fi(pt,kt));const We=Ae(Be);return We.onDestroy(()=>{F.forEach(pt=>Co(pt,kt)),dt(L,E.toStyles)}),ue.forEach(pt=>{un(Q,pt,[]).push(We)}),We}_buildPlayer(y,E,x){return E.length>0?this.driver.animate(y.element,E,y.duration,y.delay,y.easing,x):new he.ZN(y.duration,y.delay)}}class ws{constructor(y,E,x){this.namespaceId=y,this.triggerName=E,this.element=x,this._player=new he.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(y){this._containsRealPlayer||(this._player=y,this._queuedCallbacks.forEach((E,x)=>{E.forEach(Q=>Qe(y,x,void 0,Q))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(y.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(y){this.totalTime=y}syncPlayerEvents(y){const E=this._player;E.triggerCallback&&y.onStart(()=>E.triggerCallback("start")),y.onDone(()=>this.finish()),y.onDestroy(()=>this.destroy())}_queueEvent(y,E){un(this._queuedCallbacks,y,[]).push(E)}onDone(y){this.queued&&this._queueEvent("done",y),this._player.onDone(y)}onStart(y){this.queued&&this._queueEvent("start",y),this._player.onStart(y)}onDestroy(y){this.queued&&this._queueEvent("destroy",y),this._player.onDestroy(y)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(y){this.queued||this._player.setPosition(y)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(y){const E=this._player;E.triggerCallback&&E.triggerCallback(y)}}function Zs(Z){return Z&&1===Z.nodeType}function aa(Z,y){const E=Z.style.display;return Z.style.display=y??"none",E}function Zi(Z,y,E,x,Q){const le=[];E.forEach(L=>le.push(aa(L)));const Re=[];x.forEach((L,A)=>{const F=new Map;L.forEach(ue=>{const Be=y.computeStyle(A,ue,Q);F.set(ue,Be),(!Be||0==Be.length)&&(A[rr]=ki,Re.push(A))}),Z.set(A,F)});let _=0;return E.forEach(L=>aa(L,le[_++])),Re}function Qs(Z,y){const E=new Map;if(Z.forEach(_=>E.set(_,[])),0==y.length)return E;const Q=new Set(y),le=new Map;function Re(_){if(!_)return 1;let L=le.get(_);if(L)return L;const A=_.parentNode;return L=E.has(A)?A:Q.has(A)?1:Re(A),le.set(_,L),L}return y.forEach(_=>{const L=Re(_);1!==L&&E.get(L).push(_)}),E}function Fi(Z,y){Z.classList?.add(y)}function Co(Z,y){Z.classList?.remove(y)}function Vo(Z,y,E){Ae(E).onDone(()=>Z.processLeaveNode(y))}function Ms(Z,y){for(let E=0;E<Z.length;E++){const x=Z[E];x instanceof he.ZE?Ms(x.players,y):y.push(x)}}function G(Z,y,E){const x=E.get(Z);if(!x)return!1;let Q=y.get(Z);return Q?x.forEach(le=>Q.add(le)):y.set(Z,x),E.delete(Z),!0}class q{constructor(y,E,x){this.bodyNode=y,this._driver=E,this._normalizer=x,this._triggerCache={},this.onRemovalComplete=(Q,le)=>{},this._transitionEngine=new ds(y,E,x),this._timelineEngine=new qs(y,E,x),this._transitionEngine.onRemovalComplete=(Q,le)=>this.onRemovalComplete(Q,le)}registerTrigger(y,E,x,Q,le){const Re=y+"-"+Q;let _=this._triggerCache[Re];if(!_){const L=[],F=No(this._driver,le,L,[]);if(L.length)throw function Vt(Z,y){return new b.vHH(3404,!1)}();_=function bi(Z,y,E){return new cr(Z,y,E)}(Q,F,this._normalizer),this._triggerCache[Re]=_}this._transitionEngine.registerTrigger(E,Q,_)}register(y,E){this._transitionEngine.register(y,E)}destroy(y,E){this._transitionEngine.destroy(y,E)}onInsert(y,E,x,Q){this._transitionEngine.insertNode(y,E,x,Q)}onRemove(y,E,x){this._transitionEngine.removeNode(y,E,x)}disableAnimations(y,E){this._transitionEngine.markElementAsDisabled(y,E)}process(y,E,x,Q){if("@"==x.charAt(0)){const[le,Re]=vn(x);this._timelineEngine.command(le,E,Re,Q)}else this._transitionEngine.trigger(y,E,x,Q)}listen(y,E,x,Q,le){if("@"==x.charAt(0)){const[Re,_]=vn(x);return this._timelineEngine.listen(Re,E,_,le)}return this._transitionEngine.listen(y,E,x,Q,le)}flush(y=-1){this._transitionEngine.flush(y)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(y){this._transitionEngine.afterFlushAnimationsDone(y)}}let ie=(()=>{class Z{static#e=this.initialStylesByElement=new WeakMap;constructor(E,x,Q){this._element=E,this._startStyles=x,this._endStyles=Q,this._state=0;let le=Z.initialStylesByElement.get(E);le||Z.initialStylesByElement.set(E,le=new Map),this._initialStyles=le}start(){this._state<1&&(this._startStyles&&dt(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(dt(this._element,this._initialStyles),this._endStyles&&(dt(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Z.initialStylesByElement.delete(this._element),this._startStyles&&(nn(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(nn(this._element,this._endStyles),this._endStyles=null),dt(this._element,this._initialStyles),this._state=3)}}return Z})();function be(Z){let y=null;return Z.forEach((E,x)=>{(function tn(Z){return"display"===Z||"position"===Z})(x)&&(y=y||new Map,y.set(x,E))}),y}class In{constructor(y,E,x,Q){this.element=y,this.keyframes=E,this.options=x,this._specialStyles=Q,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=x.duration,this._delay=x.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(y=>y()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const y=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,y,this.options),this._finalKeyframe=y.length?y[y.length-1]:new Map;const E=()=>this._onFinish();this.domPlayer.addEventListener("finish",E),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",E)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(y){const E=[];return y.forEach(x=>{E.push(Object.fromEntries(x))}),E}_triggerWebAnimation(y,E,x){return y.animate(this._convertKeyframesToObject(E),x)}onStart(y){this._originalOnStartFns.push(y),this._onStartFns.push(y)}onDone(y){this._originalOnDoneFns.push(y),this._onDoneFns.push(y)}onDestroy(y){this._onDestroyFns.push(y)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(y=>y()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(y=>y()),this._onDestroyFns=[])}setPosition(y){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=y*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const y=new Map;this.hasStarted()&&this._finalKeyframe.forEach((x,Q)=>{"offset"!==Q&&y.set(Q,this._finished?x:Gi(this.element,Q))}),this.currentSnapshot=y}triggerCallback(y){const E="start"===y?this._onStartFns:this._onDoneFns;E.forEach(x=>x()),E.length=0}}class Ai{validateStyleProperty(y){return!0}validateAnimatableStyleProperty(y){return!0}matchesElement(y,E){return!1}containsElement(y,E){return Sr(y,E)}getParentElement(y){return Lr(y)}query(y,E,x){return kr(y,E,x)}computeStyle(y,E,x){return window.getComputedStyle(y)[E]}animate(y,E,x,Q,le,Re=[]){const L={duration:x,delay:Q,fill:0==Q?"both":"forwards"};le&&(L.easing=le);const A=new Map,F=Re.filter(We=>We instanceof In);(function Hn(Z,y){return 0===Z||0===y})(x,Q)&&F.forEach(We=>{We.currentSnapshot.forEach((pt,jt)=>A.set(jt,pt))});let ue=function Ue(Z){return Z.length?Z[0]instanceof Map?Z:Z.map(y=>we(y)):[]}(E).map(We=>St(We));ue=function xi(Z,y,E){if(E.size&&y.length){let x=y[0],Q=[];if(E.forEach((le,Re)=>{x.has(Re)||Q.push(Re),x.set(Re,le)}),Q.length)for(let le=1;le<y.length;le++){let Re=y[le];Q.forEach(_=>Re.set(_,Gi(Z,_)))}}return y}(y,ue,A);const Be=function O(Z,y){let E=null,x=null;return Array.isArray(y)&&y.length?(E=be(y[0]),y.length>1&&(x=be(y[y.length-1]))):y instanceof Map&&(E=be(y)),E||x?new ie(Z,E,x):null}(y,ue);return new In(y,ue,L,Be)}}let ms=(()=>{class Z extends he._j{constructor(E,x){super(),this._nextAnimationId=0,this._renderer=E.createRenderer(x.body,{id:"0",encapsulation:b.ifc.None,styles:[],data:{animation:[]}})}build(E){const x=this._nextAnimationId.toString();this._nextAnimationId++;const Q=Array.isArray(E)?(0,he.vP)(E):E;return Qi(this._renderer,null,x,"register",[Q]),new Si(x,this._renderer)}static#e=this.\u0275fac=function(x){return new(x||Z)(b.LFG(b.FYo),b.LFG(z.K0))};static#t=this.\u0275prov=b.Yz7({token:Z,factory:Z.\u0275fac})}return Z})();class Si extends he.LC{constructor(y,E){super(),this._id=y,this._renderer=E}create(y,E){return new ho(this._id,y,E||{},this._renderer)}}class ho{constructor(y,E,x,Q){this.id=y,this.element=E,this._renderer=Q,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",x)}_listen(y,E){return this._renderer.listen(this.element,`@@${this.id}:${y}`,E)}_command(y,...E){return Qi(this._renderer,this.element,this.id,y,E)}onDone(y){this._listen("done",y)}onStart(y){this._listen("start",y)}onDestroy(y){this._listen("destroy",y)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(y){this._command("setPosition",y)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Qi(Z,y,E,x,Q){return Z.setProperty(y,`@@${E}:${x}`,Q)}const bo="@.disabled";let xs=(()=>{class Z{constructor(E,x,Q){this.delegate=E,this.engine=x,this._zone=Q,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,x.onRemovalComplete=(le,Re)=>{const _=Re?.parentNode(le);_&&Re.removeChild(_,le)}}createRenderer(E,x){const le=this.delegate.createRenderer(E,x);if(!(E&&x&&x.data&&x.data.animation)){let F=this._rendererCache.get(le);return F||(F=new yi("",le,this.engine,()=>this._rendererCache.delete(le)),this._rendererCache.set(le,F)),F}const Re=x.id,_=x.id+"-"+this._currentId;this._currentId++,this.engine.register(_,E);const L=F=>{Array.isArray(F)?F.forEach(L):this.engine.registerTrigger(Re,_,E,F.name,F)};return x.data.animation.forEach(L),new Do(this,_,le,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(E,x,Q){E>=0&&E<this._microtaskId?this._zone.run(()=>x(Q)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(le=>{const[Re,_]=le;Re(_)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([x,Q]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(x){return new(x||Z)(b.LFG(b.FYo),b.LFG(q),b.LFG(b.R0b))};static#t=this.\u0275prov=b.Yz7({token:Z,factory:Z.\u0275fac})}return Z})();class yi{constructor(y,E,x,Q){this.namespaceId=y,this.delegate=E,this.engine=x,this._onDestroy=Q}get data(){return this.delegate.data}destroyNode(y){this.delegate.destroyNode?.(y)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(y,E){return this.delegate.createElement(y,E)}createComment(y){return this.delegate.createComment(y)}createText(y){return this.delegate.createText(y)}appendChild(y,E){this.delegate.appendChild(y,E),this.engine.onInsert(this.namespaceId,E,y,!1)}insertBefore(y,E,x,Q=!0){this.delegate.insertBefore(y,E,x),this.engine.onInsert(this.namespaceId,E,y,Q)}removeChild(y,E,x){this.engine.onRemove(this.namespaceId,E,this.delegate)}selectRootElement(y,E){return this.delegate.selectRootElement(y,E)}parentNode(y){return this.delegate.parentNode(y)}nextSibling(y){return this.delegate.nextSibling(y)}setAttribute(y,E,x,Q){this.delegate.setAttribute(y,E,x,Q)}removeAttribute(y,E,x){this.delegate.removeAttribute(y,E,x)}addClass(y,E){this.delegate.addClass(y,E)}removeClass(y,E){this.delegate.removeClass(y,E)}setStyle(y,E,x,Q){this.delegate.setStyle(y,E,x,Q)}removeStyle(y,E,x){this.delegate.removeStyle(y,E,x)}setProperty(y,E,x){"@"==E.charAt(0)&&E==bo?this.disableAnimations(y,!!x):this.delegate.setProperty(y,E,x)}setValue(y,E){this.delegate.setValue(y,E)}listen(y,E,x){return this.delegate.listen(y,E,x)}disableAnimations(y,E){this.engine.disableAnimations(y,E)}}class Do extends yi{constructor(y,E,x,Q,le){super(E,x,Q,le),this.factory=y,this.namespaceId=E}setProperty(y,E,x){"@"==E.charAt(0)?"."==E.charAt(1)&&E==bo?this.disableAnimations(y,x=void 0===x||!!x):this.engine.process(this.namespaceId,y,E.slice(1),x):this.delegate.setProperty(y,E,x)}listen(y,E,x){if("@"==E.charAt(0)){const Q=function Yi(Z){switch(Z){case"body":return document.body;case"document":return document;case"window":return window;default:return Z}}(y);let le=E.slice(1),Re="";return"@"!=le.charAt(0)&&([le,Re]=function Go(Z){const y=Z.indexOf(".");return[Z.substring(0,y),Z.slice(y+1)]}(le)),this.engine.listen(this.namespaceId,Q,le,Re,_=>{this.factory.scheduleListenerCallback(_._data||-1,x,_)})}return this.delegate.listen(y,E,x)}}const Ls=[{provide:he._j,useClass:ms},{provide:ci,useFactory:function Wo(){return new vs}},{provide:q,useClass:(()=>{class Z extends q{constructor(E,x,Q,le){super(E.body,x,Q)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(x){return new(x||Z)(b.LFG(z.K0),b.LFG($),b.LFG(ci),b.LFG(b.z2F))};static#t=this.\u0275prov=b.Yz7({token:Z,factory:Z.\u0275fac})}return Z})()},{provide:b.FYo,useFactory:function Ns(Z,y,E){return new xs(Z,y,E)},deps:[p.se,q,b.R0b]}],Cs=[{provide:$,useFactory:()=>new Ai},{provide:b.QbO,useValue:"BrowserAnimations"},...Ls],Ys=[{provide:$,useClass:re},{provide:b.QbO,useValue:"NoopAnimations"},...Ls];let ja=(()=>{class Z{static withConfig(E){return{ngModule:Z,providers:E.disableAnimations?Ys:Cs}}static#e=this.\u0275fac=function(x){return new(x||Z)};static#t=this.\u0275mod=b.oAB({type:Z});static#n=this.\u0275inj=b.cJS({providers:Cs,imports:[p.b2]})}return Z})();var ua=U(7217),bs=U(7213),Js=U(553),Ko=U(336),Da=U(5124),$a=U(4532),Fl=U(8516),Ds=U(3714),ul=U(734);let Vl=(()=>{class Z{static#e=this.\u0275fac=function(x){return new(x||Z)};static#t=this.\u0275mod=b.oAB({type:Z,bootstrap:[Ce]});static#n=this.\u0275inj=b.cJS({providers:[{provide:z.S$,useClass:z.Do}],imports:[p.b2,ge,ye.JF,X.u5,ja,$a.d,ua.hO.initializeApp(Js.N.firebase),bs.ww,Ko.hJ,Da.nD,Fl.W6,Ds.j,ul.y]})}return Z})();p.q6().bootstrapModule(Vl).catch(Z=>console.error(Z))},5619:(xt,je,U)=>{U.d(je,{X:()=>V});var p=U(8645);class V extends p.x{constructor(Te){super(),this._value=Te}get value(){return this.getValue()}_subscribe(Te){const z=super._subscribe(Te);return!z.closed&&Te.next(this._value),z}getValue(){const{hasError:Te,thrownError:z,_value:J}=this;if(Te)throw z;return this._throwIfClosed(),J}next(Te){super.next(this._value=Te)}}},5592:(xt,je,U)=>{U.d(je,{y:()=>ce});var p=U(305),V=U(7394),b=U(4850),Te=U(8407),z=U(2653),J=U(4674),W=U(1441);let ce=(()=>{class Ee{constructor(Ye){Ye&&(this._subscribe=Ye)}lift(Ye){const lt=new Ee;return lt.source=this,lt.operator=Ye,lt}subscribe(Ye,lt,tt){const rt=function se(Ee){return Ee&&Ee instanceof p.Lv||function X(Ee){return Ee&&(0,J.m)(Ee.next)&&(0,J.m)(Ee.error)&&(0,J.m)(Ee.complete)}(Ee)&&(0,V.Nn)(Ee)}(Ye)?Ye:new p.Hp(Ye,lt,tt);return(0,W.x)(()=>{const{operator:st,source:wt}=this;rt.add(st?st.call(rt,wt):wt?this._subscribe(rt):this._trySubscribe(rt))}),rt}_trySubscribe(Ye){try{return this._subscribe(Ye)}catch(lt){Ye.error(lt)}}forEach(Ye,lt){return new(lt=de(lt))((tt,rt)=>{const st=new p.Hp({next:wt=>{try{Ye(wt)}catch(ut){rt(ut),st.unsubscribe()}},error:rt,complete:tt});this.subscribe(st)})}_subscribe(Ye){var lt;return null===(lt=this.source)||void 0===lt?void 0:lt.subscribe(Ye)}[b.L](){return this}pipe(...Ye){return(0,Te.U)(Ye)(this)}toPromise(Ye){return new(Ye=de(Ye))((lt,tt)=>{let rt;this.subscribe(st=>rt=st,st=>tt(st),()=>lt(rt))})}}return Ee.create=ze=>new Ee(ze),Ee})();function de(Ee){var ze;return null!==(ze=Ee??z.config.Promise)&&void 0!==ze?ze:Promise}},8645:(xt,je,U)=>{U.d(je,{x:()=>W});var p=U(5592),V=U(7394);const Te=(0,U(2306).d)(de=>function(){de(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var z=U(9039),J=U(1441);let W=(()=>{class de extends p.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(se){const Ee=new ce(this,this);return Ee.operator=se,Ee}_throwIfClosed(){if(this.closed)throw new Te}next(se){(0,J.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Ee of this.currentObservers)Ee.next(se)}})}error(se){(0,J.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=se;const{observers:Ee}=this;for(;Ee.length;)Ee.shift().error(se)}})}complete(){(0,J.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:se}=this;for(;se.length;)se.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var se;return(null===(se=this.observers)||void 0===se?void 0:se.length)>0}_trySubscribe(se){return this._throwIfClosed(),super._trySubscribe(se)}_subscribe(se){return this._throwIfClosed(),this._checkFinalizedStatuses(se),this._innerSubscribe(se)}_innerSubscribe(se){const{hasError:Ee,isStopped:ze,observers:Ye}=this;return Ee||ze?V.Lc:(this.currentObservers=null,Ye.push(se),new V.w0(()=>{this.currentObservers=null,(0,z.P)(Ye,se)}))}_checkFinalizedStatuses(se){const{hasError:Ee,thrownError:ze,isStopped:Ye}=this;Ee?se.error(ze):Ye&&se.complete()}asObservable(){const se=new p.y;return se.source=this,se}}return de.create=(X,se)=>new ce(X,se),de})();class ce extends W{constructor(X,se){super(),this.destination=X,this.source=se}next(X){var se,Ee;null===(Ee=null===(se=this.destination)||void 0===se?void 0:se.next)||void 0===Ee||Ee.call(se,X)}error(X){var se,Ee;null===(Ee=null===(se=this.destination)||void 0===se?void 0:se.error)||void 0===Ee||Ee.call(se,X)}complete(){var X,se;null===(se=null===(X=this.destination)||void 0===X?void 0:X.complete)||void 0===se||se.call(X)}_subscribe(X){var se,Ee;return null!==(Ee=null===(se=this.source)||void 0===se?void 0:se.subscribe(X))&&void 0!==Ee?Ee:V.Lc}}},305:(xt,je,U)=>{U.d(je,{Hp:()=>tt,Lv:()=>Ee});var p=U(4674),V=U(7394),b=U(2653),Te=U(3894),z=U(2420);const J=de("C",void 0,void 0);function de(ae,Me,me){return{kind:ae,value:Me,error:me}}var X=U(7599),se=U(1441);class Ee extends V.w0{constructor(Me){super(),this.isStopped=!1,Me?(this.destination=Me,(0,V.Nn)(Me)&&Me.add(this)):this.destination=ut}static create(Me,me,ge){return new tt(Me,me,ge)}next(Me){this.isStopped?wt(function ce(ae){return de("N",ae,void 0)}(Me),this):this._next(Me)}error(Me){this.isStopped?wt(function W(ae){return de("E",void 0,ae)}(Me),this):(this.isStopped=!0,this._error(Me))}complete(){this.isStopped?wt(J,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Me){this.destination.next(Me)}_error(Me){try{this.destination.error(Me)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ze=Function.prototype.bind;function Ye(ae,Me){return ze.call(ae,Me)}class lt{constructor(Me){this.partialObserver=Me}next(Me){const{partialObserver:me}=this;if(me.next)try{me.next(Me)}catch(ge){rt(ge)}}error(Me){const{partialObserver:me}=this;if(me.error)try{me.error(Me)}catch(ge){rt(ge)}else rt(Me)}complete(){const{partialObserver:Me}=this;if(Me.complete)try{Me.complete()}catch(me){rt(me)}}}class tt extends Ee{constructor(Me,me,ge){let Ce;if(super(),(0,p.m)(Me)||!Me)Ce={next:Me??void 0,error:me??void 0,complete:ge??void 0};else{let ye;this&&b.config.useDeprecatedNextContext?(ye=Object.create(Me),ye.unsubscribe=()=>this.unsubscribe(),Ce={next:Me.next&&Ye(Me.next,ye),error:Me.error&&Ye(Me.error,ye),complete:Me.complete&&Ye(Me.complete,ye)}):Ce=Me}this.destination=new lt(Ce)}}function rt(ae){b.config.useDeprecatedSynchronousErrorHandling?(0,se.O)(ae):(0,Te.h)(ae)}function wt(ae,Me){const{onStoppedNotification:me}=b.config;me&&X.z.setTimeout(()=>me(ae,Me))}const ut={closed:!0,next:z.Z,error:function st(ae){throw ae},complete:z.Z}},7394:(xt,je,U)=>{U.d(je,{Lc:()=>J,w0:()=>z,Nn:()=>W});var p=U(4674);const b=(0,U(2306).d)(de=>function(se){de(this),this.message=se?`${se.length} errors occurred during unsubscription:\n${se.map((Ee,ze)=>`${ze+1}) ${Ee.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=se});var Te=U(9039);class z{constructor(X){this.initialTeardown=X,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let X;if(!this.closed){this.closed=!0;const{_parentage:se}=this;if(se)if(this._parentage=null,Array.isArray(se))for(const Ye of se)Ye.remove(this);else se.remove(this);const{initialTeardown:Ee}=this;if((0,p.m)(Ee))try{Ee()}catch(Ye){X=Ye instanceof b?Ye.errors:[Ye]}const{_finalizers:ze}=this;if(ze){this._finalizers=null;for(const Ye of ze)try{ce(Ye)}catch(lt){X=X??[],lt instanceof b?X=[...X,...lt.errors]:X.push(lt)}}if(X)throw new b(X)}}add(X){var se;if(X&&X!==this)if(this.closed)ce(X);else{if(X instanceof z){if(X.closed||X._hasParent(this))return;X._addParent(this)}(this._finalizers=null!==(se=this._finalizers)&&void 0!==se?se:[]).push(X)}}_hasParent(X){const{_parentage:se}=this;return se===X||Array.isArray(se)&&se.includes(X)}_addParent(X){const{_parentage:se}=this;this._parentage=Array.isArray(se)?(se.push(X),se):se?[se,X]:X}_removeParent(X){const{_parentage:se}=this;se===X?this._parentage=null:Array.isArray(se)&&(0,Te.P)(se,X)}remove(X){const{_finalizers:se}=this;se&&(0,Te.P)(se,X),X instanceof z&&X._removeParent(this)}}z.EMPTY=(()=>{const de=new z;return de.closed=!0,de})();const J=z.EMPTY;function W(de){return de instanceof z||de&&"closed"in de&&(0,p.m)(de.remove)&&(0,p.m)(de.add)&&(0,p.m)(de.unsubscribe)}function ce(de){(0,p.m)(de)?de():de.unsubscribe()}},2653:(xt,je,U)=>{U.d(je,{config:()=>p});const p={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},5211:(xt,je,U)=>{U.d(je,{z:()=>z});var p=U(7537),b=U(4564),Te=U(2459);function z(...J){return function V(){return(0,p.J)(1)}()((0,Te.D)(J,(0,b.yG)(J)))}},6232:(xt,je,U)=>{U.d(je,{E:()=>V});const V=new(U(5592).y)(z=>z.complete())},2459:(xt,je,U)=>{U.d(je,{D:()=>Me});var p=U(4829),V=U(3093),b=U(5137),J=U(5592),ce=U(4971),de=U(4674),X=U(7103);function Ee(me,ge){if(!me)throw new Error("Iterable cannot be null");return new J.y(Ce=>{(0,X.f)(Ce,ge,()=>{const ye=me[Symbol.asyncIterator]();(0,X.f)(Ce,ge,()=>{ye.next().then(he=>{he.done?Ce.complete():Ce.next(he.value)})},0,!0)})})}var ze=U(8382),Ye=U(4026),lt=U(4266),tt=U(3664),rt=U(5726),st=U(9853),wt=U(541);function Me(me,ge){return ge?function ae(me,ge){if(null!=me){if((0,ze.c)(me))return function Te(me,ge){return(0,p.Xf)(me).pipe((0,b.R)(ge),(0,V.Q)(ge))}(me,ge);if((0,lt.z)(me))return function W(me,ge){return new J.y(Ce=>{let ye=0;return ge.schedule(function(){ye===me.length?Ce.complete():(Ce.next(me[ye++]),Ce.closed||this.schedule())})})}(me,ge);if((0,Ye.t)(me))return function z(me,ge){return(0,p.Xf)(me).pipe((0,b.R)(ge),(0,V.Q)(ge))}(me,ge);if((0,rt.D)(me))return Ee(me,ge);if((0,tt.T)(me))return function se(me,ge){return new J.y(Ce=>{let ye;return(0,X.f)(Ce,ge,()=>{ye=me[ce.h](),(0,X.f)(Ce,ge,()=>{let he,at;try{({value:he,done:at}=ye.next())}catch(Ct){return void Ce.error(Ct)}at?Ce.complete():Ce.next(he)},0,!0)}),()=>(0,de.m)(ye?.return)&&ye.return()})}(me,ge);if((0,wt.L)(me))return function ut(me,ge){return Ee((0,wt.Q)(me),ge)}(me,ge)}throw(0,st.z)(me)}(me,ge):(0,p.Xf)(me)}},4829:(xt,je,U)=>{U.d(je,{Xf:()=>ze});var p=U(7582),V=U(4266),b=U(4026),Te=U(5592),z=U(8382),J=U(5726),W=U(9853),ce=U(3664),de=U(541),X=U(4674),se=U(3894),Ee=U(4850);function ze(ae){if(ae instanceof Te.y)return ae;if(null!=ae){if((0,z.c)(ae))return function Ye(ae){return new Te.y(Me=>{const me=ae[Ee.L]();if((0,X.m)(me.subscribe))return me.subscribe(Me);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ae);if((0,V.z)(ae))return function lt(ae){return new Te.y(Me=>{for(let me=0;me<ae.length&&!Me.closed;me++)Me.next(ae[me]);Me.complete()})}(ae);if((0,b.t)(ae))return function tt(ae){return new Te.y(Me=>{ae.then(me=>{Me.closed||(Me.next(me),Me.complete())},me=>Me.error(me)).then(null,se.h)})}(ae);if((0,J.D)(ae))return st(ae);if((0,ce.T)(ae))return function rt(ae){return new Te.y(Me=>{for(const me of ae)if(Me.next(me),Me.closed)return;Me.complete()})}(ae);if((0,de.L)(ae))return function wt(ae){return st((0,de.Q)(ae))}(ae)}throw(0,W.z)(ae)}function st(ae){return new Te.y(Me=>{(function ut(ae,Me){var me,ge,Ce,ye;return(0,p.mG)(this,void 0,void 0,function*(){try{for(me=(0,p.KL)(ae);!(ge=yield me.next()).done;)if(Me.next(ge.value),Me.closed)return}catch(he){Ce={error:he}}finally{try{ge&&!ge.done&&(ye=me.return)&&(yield ye.call(me))}finally{if(Ce)throw Ce.error}}Me.complete()})})(ae,Me).catch(me=>Me.error(me))})}},3019:(xt,je,U)=>{U.d(je,{T:()=>J});var p=U(7537),V=U(4829),b=U(6232),Te=U(4564),z=U(2459);function J(...W){const ce=(0,Te.yG)(W),de=(0,Te._6)(W,1/0),X=W;return X.length?1===X.length?(0,V.Xf)(X[0]):(0,p.J)(de)((0,z.D)(X,ce)):b.E}},2096:(xt,je,U)=>{U.d(je,{of:()=>b});var p=U(4564),V=U(2459);function b(...Te){const z=(0,p.yG)(Te);return(0,V.D)(Te,z)}},8251:(xt,je,U)=>{U.d(je,{x:()=>V});var p=U(305);function V(Te,z,J,W,ce){return new b(Te,z,J,W,ce)}class b extends p.Lv{constructor(z,J,W,ce,de,X){super(z),this.onFinalize=de,this.shouldUnsubscribe=X,this._next=J?function(se){try{J(se)}catch(Ee){z.error(Ee)}}:super._next,this._error=ce?function(se){try{ce(se)}catch(Ee){z.error(Ee)}finally{this.unsubscribe()}}:super._error,this._complete=W?function(){try{W()}catch(se){z.error(se)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var z;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:J}=this;super.unsubscribe(),!J&&(null===(z=this.onFinalize)||void 0===z||z.call(this))}}}},6328:(xt,je,U)=>{U.d(je,{b:()=>b});var p=U(1631),V=U(4674);function b(Te,z){return(0,V.m)(z)?(0,p.z)(Te,z,1):(0,p.z)(Te,1)}},3572:(xt,je,U)=>{U.d(je,{d:()=>b});var p=U(9360),V=U(8251);function b(Te){return(0,p.e)((z,J)=>{let W=!1;z.subscribe((0,V.x)(J,ce=>{W=!0,J.next(ce)},()=>{W||J.next(Te),J.complete()}))})}},3997:(xt,je,U)=>{U.d(je,{x:()=>Te});var p=U(2737),V=U(9360),b=U(8251);function Te(J,W=p.y){return J=J??z,(0,V.e)((ce,de)=>{let X,se=!0;ce.subscribe((0,b.x)(de,Ee=>{const ze=W(Ee);(se||!J(X,ze))&&(se=!1,X=ze,de.next(Ee))}))})}function z(J,W){return J===W}},2181:(xt,je,U)=>{U.d(je,{h:()=>b});var p=U(9360),V=U(8251);function b(Te,z){return(0,p.e)((J,W)=>{let ce=0;J.subscribe((0,V.x)(W,de=>Te.call(z,de,ce++)&&W.next(de)))})}},4716:(xt,je,U)=>{U.d(je,{x:()=>V});var p=U(9360);function V(b){return(0,p.e)((Te,z)=>{try{Te.subscribe(z)}finally{z.add(b)}})}},1374:(xt,je,U)=>{U.d(je,{P:()=>W});var p=U(6973),V=U(2181),b=U(8180),Te=U(3572),z=U(3026),J=U(2737);function W(ce,de){const X=arguments.length>=2;return se=>se.pipe(ce?(0,V.h)((Ee,ze)=>ce(Ee,ze,se)):J.y,(0,b.q)(1),X?(0,Te.d)(de):(0,z.T)(()=>new p.K))}},7398:(xt,je,U)=>{U.d(je,{U:()=>b});var p=U(9360),V=U(8251);function b(Te,z){return(0,p.e)((J,W)=>{let ce=0;J.subscribe((0,V.x)(W,de=>{W.next(Te.call(z,de,ce++))}))})}},7537:(xt,je,U)=>{U.d(je,{J:()=>b});var p=U(1631),V=U(2737);function b(Te=1/0){return(0,p.z)(V.y,Te)}},1631:(xt,je,U)=>{U.d(je,{z:()=>ce});var p=U(7398),V=U(4829),b=U(9360),Te=U(7103),z=U(8251),W=U(4674);function ce(de,X,se=1/0){return(0,W.m)(X)?ce((Ee,ze)=>(0,p.U)((Ye,lt)=>X(Ee,Ye,ze,lt))((0,V.Xf)(de(Ee,ze))),se):("number"==typeof X&&(se=X),(0,b.e)((Ee,ze)=>function J(de,X,se,Ee,ze,Ye,lt,tt){const rt=[];let st=0,wt=0,ut=!1;const ae=()=>{ut&&!rt.length&&!st&&X.complete()},Me=ge=>st<Ee?me(ge):rt.push(ge),me=ge=>{Ye&&X.next(ge),st++;let Ce=!1;(0,V.Xf)(se(ge,wt++)).subscribe((0,z.x)(X,ye=>{ze?.(ye),Ye?Me(ye):X.next(ye)},()=>{Ce=!0},void 0,()=>{if(Ce)try{for(st--;rt.length&&st<Ee;){const ye=rt.shift();lt?(0,Te.f)(X,lt,()=>me(ye)):me(ye)}ae()}catch(ye){X.error(ye)}}))};return de.subscribe((0,z.x)(X,Me,()=>{ut=!0,ae()})),()=>{tt?.()}}(Ee,ze,de,se)))}},3093:(xt,je,U)=>{U.d(je,{Q:()=>Te});var p=U(7103),V=U(9360),b=U(8251);function Te(z,J=0){return(0,V.e)((W,ce)=>{W.subscribe((0,b.x)(ce,de=>(0,p.f)(ce,z,()=>ce.next(de),J),()=>(0,p.f)(ce,z,()=>ce.complete(),J),de=>(0,p.f)(ce,z,()=>ce.error(de),J)))})}},6699:(xt,je,U)=>{U.d(je,{R:()=>Te});var p=U(9360),V=U(8251);function Te(z,J){return(0,p.e)(function b(z,J,W,ce,de){return(X,se)=>{let Ee=W,ze=J,Ye=0;X.subscribe((0,V.x)(se,lt=>{const tt=Ye++;ze=Ee?z(ze,lt,tt):(Ee=!0,lt),ce&&se.next(ze)},de&&(()=>{Ee&&se.next(ze),se.complete()})))}}(z,J,arguments.length>=2,!0))}},3020:(xt,je,U)=>{U.d(je,{B:()=>z});var p=U(4829),V=U(8645),b=U(305),Te=U(9360);function z(W={}){const{connector:ce=(()=>new V.x),resetOnError:de=!0,resetOnComplete:X=!0,resetOnRefCountZero:se=!0}=W;return Ee=>{let ze,Ye,lt,tt=0,rt=!1,st=!1;const wt=()=>{Ye?.unsubscribe(),Ye=void 0},ut=()=>{wt(),ze=lt=void 0,rt=st=!1},ae=()=>{const Me=ze;ut(),Me?.unsubscribe()};return(0,Te.e)((Me,me)=>{tt++,!st&&!rt&&wt();const ge=lt=lt??ce();me.add(()=>{tt--,0===tt&&!st&&!rt&&(Ye=J(ae,se))}),ge.subscribe(me),!ze&&tt>0&&(ze=new b.Hp({next:Ce=>ge.next(Ce),error:Ce=>{st=!0,wt(),Ye=J(ut,de,Ce),ge.error(Ce)},complete:()=>{rt=!0,wt(),Ye=J(ut,X),ge.complete()}}),(0,p.Xf)(Me).subscribe(ze))})(Ee)}}function J(W,ce,...de){if(!0===ce)return void W();if(!1===ce)return;const X=new b.Hp({next:()=>{X.unsubscribe(),W()}});return(0,p.Xf)(ce(...de)).subscribe(X)}},7921:(xt,je,U)=>{U.d(je,{O:()=>Te});var p=U(5211),V=U(4564),b=U(9360);function Te(...z){const J=(0,V.yG)(z);return(0,b.e)((W,ce)=>{(J?(0,p.z)(z,W,J):(0,p.z)(z,W)).subscribe(ce)})}},5137:(xt,je,U)=>{U.d(je,{R:()=>V});var p=U(9360);function V(b,Te=0){return(0,p.e)((z,J)=>{J.add(b.schedule(()=>z.subscribe(J),Te))})}},4664:(xt,je,U)=>{U.d(je,{w:()=>Te});var p=U(4829),V=U(9360),b=U(8251);function Te(z,J){return(0,V.e)((W,ce)=>{let de=null,X=0,se=!1;const Ee=()=>se&&!de&&ce.complete();W.subscribe((0,b.x)(ce,ze=>{de?.unsubscribe();let Ye=0;const lt=X++;(0,p.Xf)(z(ze,lt)).subscribe(de=(0,b.x)(ce,tt=>ce.next(J?J(ze,tt,lt,Ye++):tt),()=>{de=null,Ee()}))},()=>{se=!0,Ee()}))})}},8180:(xt,je,U)=>{U.d(je,{q:()=>Te});var p=U(6232),V=U(9360),b=U(8251);function Te(z){return z<=0?()=>p.E:(0,V.e)((J,W)=>{let ce=0;J.subscribe((0,b.x)(W,de=>{++ce<=z&&(W.next(de),z<=ce&&W.complete())}))})}},9397:(xt,je,U)=>{U.d(je,{b:()=>z});var p=U(4674),V=U(9360),b=U(8251),Te=U(2737);function z(J,W,ce){const de=(0,p.m)(J)||W||ce?{next:J,error:W,complete:ce}:J;return de?(0,V.e)((X,se)=>{var Ee;null===(Ee=de.subscribe)||void 0===Ee||Ee.call(de);let ze=!0;X.subscribe((0,b.x)(se,Ye=>{var lt;null===(lt=de.next)||void 0===lt||lt.call(de,Ye),se.next(Ye)},()=>{var Ye;ze=!1,null===(Ye=de.complete)||void 0===Ye||Ye.call(de),se.complete()},Ye=>{var lt;ze=!1,null===(lt=de.error)||void 0===lt||lt.call(de,Ye),se.error(Ye)},()=>{var Ye,lt;ze&&(null===(Ye=de.unsubscribe)||void 0===Ye||Ye.call(de)),null===(lt=de.finalize)||void 0===lt||lt.call(de)}))}):Te.y}},3026:(xt,je,U)=>{U.d(je,{T:()=>Te});var p=U(6973),V=U(9360),b=U(8251);function Te(J=z){return(0,V.e)((W,ce)=>{let de=!1;W.subscribe((0,b.x)(ce,X=>{de=!0,ce.next(X)},()=>de?ce.complete():ce.error(J())))})}function z(){return new p.K}},1954:(xt,je,U)=>{U.d(je,{o:()=>z});var p=U(7394);class V extends p.w0{constructor(W,ce){super()}schedule(W,ce=0){return this}}const b={setInterval(J,W,...ce){const{delegate:de}=b;return de?.setInterval?de.setInterval(J,W,...ce):setInterval(J,W,...ce)},clearInterval(J){const{delegate:W}=b;return(W?.clearInterval||clearInterval)(J)},delegate:void 0};var Te=U(9039);class z extends V{constructor(W,ce){super(W,ce),this.scheduler=W,this.work=ce,this.pending=!1}schedule(W,ce=0){var de;if(this.closed)return this;this.state=W;const X=this.id,se=this.scheduler;return null!=X&&(this.id=this.recycleAsyncId(se,X,ce)),this.pending=!0,this.delay=ce,this.id=null!==(de=this.id)&&void 0!==de?de:this.requestAsyncId(se,this.id,ce),this}requestAsyncId(W,ce,de=0){return b.setInterval(W.flush.bind(W,this),de)}recycleAsyncId(W,ce,de=0){if(null!=de&&this.delay===de&&!1===this.pending)return ce;null!=ce&&b.clearInterval(ce)}execute(W,ce){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const de=this._execute(W,ce);if(de)return de;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(W,ce){let X,de=!1;try{this.work(W)}catch(se){de=!0,X=se||new Error("Scheduled action threw falsy error")}if(de)return this.unsubscribe(),X}unsubscribe(){if(!this.closed){const{id:W,scheduler:ce}=this,{actions:de}=ce;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Te.P)(de,this),null!=W&&(this.id=this.recycleAsyncId(ce,W,null)),this.delay=null,super.unsubscribe()}}}},2631:(xt,je,U)=>{U.d(je,{v:()=>b});var p=U(4552);class V{constructor(z,J=V.now){this.schedulerActionCtor=z,this.now=J}schedule(z,J=0,W){return new this.schedulerActionCtor(this,z).schedule(W,J)}}V.now=p.l.now;class b extends V{constructor(z,J=V.now){super(z,J),this.actions=[],this._active=!1}flush(z){const{actions:J}=this;if(this._active)return void J.push(z);let W;this._active=!0;do{if(W=z.execute(z.state,z.delay))break}while(z=J.shift());if(this._active=!1,W){for(;z=J.shift();)z.unsubscribe();throw W}}}},6321:(xt,je,U)=>{U.d(je,{z:()=>b});var p=U(1954);const b=new(U(2631).v)(p.o)},4552:(xt,je,U)=>{U.d(je,{l:()=>p});const p={now:()=>(p.delegate||Date).now(),delegate:void 0}},7599:(xt,je,U)=>{U.d(je,{z:()=>p});const p={setTimeout(V,b,...Te){const{delegate:z}=p;return z?.setTimeout?z.setTimeout(V,b,...Te):setTimeout(V,b,...Te)},clearTimeout(V){const{delegate:b}=p;return(b?.clearTimeout||clearTimeout)(V)},delegate:void 0}},4971:(xt,je,U)=>{U.d(je,{h:()=>V});const V=function p(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(xt,je,U)=>{U.d(je,{L:()=>p});const p="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(xt,je,U)=>{U.d(je,{K:()=>V});const V=(0,U(2306).d)(b=>function(){b(this),this.name="EmptyError",this.message="no elements in sequence"})},4564:(xt,je,U)=>{U.d(je,{_6:()=>J,jO:()=>Te,yG:()=>z});var p=U(4674);function b(W){return W[W.length-1]}function Te(W){return(0,p.m)(b(W))?W.pop():void 0}function z(W){return function V(W){return W&&(0,p.m)(W.schedule)}(b(W))?W.pop():void 0}function J(W,ce){return"number"==typeof b(W)?W.pop():ce}},7453:(xt,je,U)=>{U.d(je,{D:()=>z});const{isArray:p}=Array,{getPrototypeOf:V,prototype:b,keys:Te}=Object;function z(W){if(1===W.length){const ce=W[0];if(p(ce))return{args:ce,keys:null};if(function J(W){return W&&"object"==typeof W&&V(W)===b}(ce)){const de=Te(ce);return{args:de.map(X=>ce[X]),keys:de}}}return{args:W,keys:null}}},9039:(xt,je,U)=>{function p(V,b){if(V){const Te=V.indexOf(b);0<=Te&&V.splice(Te,1)}}U.d(je,{P:()=>p})},2306:(xt,je,U)=>{function p(V){const Te=V(z=>{Error.call(z),z.stack=(new Error).stack});return Te.prototype=Object.create(Error.prototype),Te.prototype.constructor=Te,Te}U.d(je,{d:()=>p})},2714:(xt,je,U)=>{function p(V,b){return V.reduce((Te,z,J)=>(Te[z]=b[J],Te),{})}U.d(je,{n:()=>p})},1441:(xt,je,U)=>{U.d(je,{O:()=>Te,x:()=>b});var p=U(2653);let V=null;function b(z){if(p.config.useDeprecatedSynchronousErrorHandling){const J=!V;if(J&&(V={errorThrown:!1,error:null}),z(),J){const{errorThrown:W,error:ce}=V;if(V=null,W)throw ce}}else z()}function Te(z){p.config.useDeprecatedSynchronousErrorHandling&&V&&(V.errorThrown=!0,V.error=z)}},7103:(xt,je,U)=>{function p(V,b,Te,z=0,J=!1){const W=b.schedule(function(){Te(),J?V.add(this.schedule(null,z)):this.unsubscribe()},z);if(V.add(W),!J)return W}U.d(je,{f:()=>p})},2737:(xt,je,U)=>{function p(V){return V}U.d(je,{y:()=>p})},4266:(xt,je,U)=>{U.d(je,{z:()=>p});const p=V=>V&&"number"==typeof V.length&&"function"!=typeof V},5726:(xt,je,U)=>{U.d(je,{D:()=>V});var p=U(4674);function V(b){return Symbol.asyncIterator&&(0,p.m)(b?.[Symbol.asyncIterator])}},4674:(xt,je,U)=>{function p(V){return"function"==typeof V}U.d(je,{m:()=>p})},8382:(xt,je,U)=>{U.d(je,{c:()=>b});var p=U(4850),V=U(4674);function b(Te){return(0,V.m)(Te[p.L])}},3664:(xt,je,U)=>{U.d(je,{T:()=>b});var p=U(4971),V=U(4674);function b(Te){return(0,V.m)(Te?.[p.h])}},4026:(xt,je,U)=>{U.d(je,{t:()=>V});var p=U(4674);function V(b){return(0,p.m)(b?.then)}},541:(xt,je,U)=>{U.d(je,{L:()=>Te,Q:()=>b});var p=U(7582),V=U(4674);function b(z){return(0,p.FC)(this,arguments,function*(){const W=z.getReader();try{for(;;){const{value:ce,done:de}=yield(0,p.qq)(W.read());if(de)return yield(0,p.qq)(void 0);yield yield(0,p.qq)(ce)}}finally{W.releaseLock()}})}function Te(z){return(0,V.m)(z?.getReader)}},9360:(xt,je,U)=>{U.d(je,{A:()=>V,e:()=>b});var p=U(4674);function V(Te){return(0,p.m)(Te?.lift)}function b(Te){return z=>{if(V(z))return z.lift(function(J){try{return Te(J,this)}catch(W){this.error(W)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(xt,je,U)=>{U.d(je,{Z:()=>Te});var p=U(7398);const{isArray:V}=Array;function Te(z){return(0,p.U)(J=>function b(z,J){return V(J)?z(...J):z(J)}(z,J))}},2420:(xt,je,U)=>{function p(){}U.d(je,{Z:()=>p})},8407:(xt,je,U)=>{U.d(je,{U:()=>b,z:()=>V});var p=U(2737);function V(...Te){return b(Te)}function b(Te){return 0===Te.length?p.y:1===Te.length?Te[0]:function(J){return Te.reduce((W,ce)=>ce(W),J)}}},3894:(xt,je,U)=>{U.d(je,{h:()=>b});var p=U(2653),V=U(7599);function b(Te){V.z.setTimeout(()=>{const{onUnhandledError:z}=p.config;if(!z)throw Te;z(Te)})}},9853:(xt,je,U)=>{function p(V){return new TypeError(`You provided ${null!==V&&"object"==typeof V?"an invalid object":`'${V}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}U.d(je,{z:()=>p})},6825:(xt,je,U)=>{U.d(je,{LC:()=>V,SB:()=>de,X$:()=>Te,ZE:()=>st,ZN:()=>rt,_j:()=>p,eR:()=>se,jt:()=>z,k1:()=>wt,l3:()=>b,oB:()=>ce,vP:()=>W});class p{}class V{}const b="*";function Te(ut,ae){return{type:7,name:ut,definitions:ae,options:{}}}function z(ut,ae=null){return{type:4,styles:ae,timings:ut}}function W(ut,ae=null){return{type:2,steps:ut,options:ae}}function ce(ut){return{type:6,styles:ut,offset:null}}function de(ut,ae,Me){return{type:0,name:ut,styles:ae,options:Me}}function se(ut,ae,Me=null){return{type:1,expr:ut,animation:ae,options:Me}}class rt{constructor(ae=0,Me=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=ae+Me}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(ae=>ae()),this._onDoneFns=[])}onStart(ae){this._originalOnStartFns.push(ae),this._onStartFns.push(ae)}onDone(ae){this._originalOnDoneFns.push(ae),this._onDoneFns.push(ae)}onDestroy(ae){this._onDestroyFns.push(ae)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(ae=>ae()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(ae=>ae()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(ae){this._position=this.totalTime?ae*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(ae){const Me="start"==ae?this._onStartFns:this._onDoneFns;Me.forEach(me=>me()),Me.length=0}}class st{constructor(ae){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=ae;let Me=0,me=0,ge=0;const Ce=this.players.length;0==Ce?queueMicrotask(()=>this._onFinish()):this.players.forEach(ye=>{ye.onDone(()=>{++Me==Ce&&this._onFinish()}),ye.onDestroy(()=>{++me==Ce&&this._onDestroy()}),ye.onStart(()=>{++ge==Ce&&this._onStart()})}),this.totalTime=this.players.reduce((ye,he)=>Math.max(ye,he.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(ae=>ae()),this._onDoneFns=[])}init(){this.players.forEach(ae=>ae.init())}onStart(ae){this._onStartFns.push(ae)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(ae=>ae()),this._onStartFns=[])}onDone(ae){this._onDoneFns.push(ae)}onDestroy(ae){this._onDestroyFns.push(ae)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(ae=>ae.play())}pause(){this.players.forEach(ae=>ae.pause())}restart(){this.players.forEach(ae=>ae.restart())}finish(){this._onFinish(),this.players.forEach(ae=>ae.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(ae=>ae.destroy()),this._onDestroyFns.forEach(ae=>ae()),this._onDestroyFns=[])}reset(){this.players.forEach(ae=>ae.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(ae){const Me=ae*this.totalTime;this.players.forEach(me=>{const ge=me.totalTime?Math.min(1,Me/me.totalTime):1;me.setPosition(ge)})}getPosition(){const ae=this.players.reduce((Me,me)=>null===Me||me.totalTime>Me.totalTime?me:Me,null);return null!=ae?ae.getPosition():0}beforeDestroy(){this.players.forEach(ae=>{ae.beforeDestroy&&ae.beforeDestroy()})}triggerCallback(ae){const Me="start"==ae?this._onStartFns:this._onDoneFns;Me.forEach(me=>me()),Me.length=0}}const wt="!"},6814:(xt,je,U)=>{U.d(je,{Do:()=>tt,EM:()=>Ki,HT:()=>Te,JF:()=>Di,K0:()=>J,Mx:()=>Or,NF:()=>gi,O5:()=>js,PC:()=>ui,PM:()=>us,S$:()=>ze,V_:()=>ce,Ye:()=>rt,b0:()=>lt,bD:()=>br,ez:()=>ci,mk:()=>mr,q:()=>b,sg:()=>xi,tP:()=>Hi,w_:()=>z});var p=U(5879);let V=null;function b(){return V}function Te(_){V||(V=_)}class z{}const J=new p.OlP("DocumentToken");let W=(()=>{class _{historyGo(A){throw new Error("Not implemented")}static#e=this.\u0275fac=function(F){return new(F||_)};static#t=this.\u0275prov=p.Yz7({token:_,factory:function(){return(0,p.f3M)(de)},providedIn:"platform"})}return _})();const ce=new p.OlP("Location Initialized");let de=(()=>{class _ extends W{constructor(){super(),this._doc=(0,p.f3M)(J),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return b().getBaseHref(this._doc)}onPopState(A){const F=b().getGlobalEventTarget(this._doc,"window");return F.addEventListener("popstate",A,!1),()=>F.removeEventListener("popstate",A)}onHashChange(A){const F=b().getGlobalEventTarget(this._doc,"window");return F.addEventListener("hashchange",A,!1),()=>F.removeEventListener("hashchange",A)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(A){this._location.pathname=A}pushState(A,F,ue){this._history.pushState(A,F,ue)}replaceState(A,F,ue){this._history.replaceState(A,F,ue)}forward(){this._history.forward()}back(){this._history.back()}historyGo(A=0){this._history.go(A)}getState(){return this._history.state}static#e=this.\u0275fac=function(F){return new(F||_)};static#t=this.\u0275prov=p.Yz7({token:_,factory:function(){return new _},providedIn:"platform"})}return _})();function X(_,L){if(0==_.length)return L;if(0==L.length)return _;let A=0;return _.endsWith("/")&&A++,L.startsWith("/")&&A++,2==A?_+L.substring(1):1==A?_+L:_+"/"+L}function se(_){const L=_.match(/#|\?|$/),A=L&&L.index||_.length;return _.slice(0,A-("/"===_[A-1]?1:0))+_.slice(A)}function Ee(_){return _&&"?"!==_[0]?"?"+_:_}let ze=(()=>{class _{historyGo(A){throw new Error("Not implemented")}static#e=this.\u0275fac=function(F){return new(F||_)};static#t=this.\u0275prov=p.Yz7({token:_,factory:function(){return(0,p.f3M)(lt)},providedIn:"root"})}return _})();const Ye=new p.OlP("appBaseHref");let lt=(()=>{class _ extends ze{constructor(A,F){super(),this._platformLocation=A,this._removeListenerFns=[],this._baseHref=F??this._platformLocation.getBaseHrefFromDOM()??(0,p.f3M)(J).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(A){this._removeListenerFns.push(this._platformLocation.onPopState(A),this._platformLocation.onHashChange(A))}getBaseHref(){return this._baseHref}prepareExternalUrl(A){return X(this._baseHref,A)}path(A=!1){const F=this._platformLocation.pathname+Ee(this._platformLocation.search),ue=this._platformLocation.hash;return ue&&A?`${F}${ue}`:F}pushState(A,F,ue,Be){const We=this.prepareExternalUrl(ue+Ee(Be));this._platformLocation.pushState(A,F,We)}replaceState(A,F,ue,Be){const We=this.prepareExternalUrl(ue+Ee(Be));this._platformLocation.replaceState(A,F,We)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(A=0){this._platformLocation.historyGo?.(A)}static#e=this.\u0275fac=function(F){return new(F||_)(p.LFG(W),p.LFG(Ye,8))};static#t=this.\u0275prov=p.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})(),tt=(()=>{class _ extends ze{constructor(A,F){super(),this._platformLocation=A,this._baseHref="",this._removeListenerFns=[],null!=F&&(this._baseHref=F)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(A){this._removeListenerFns.push(this._platformLocation.onPopState(A),this._platformLocation.onHashChange(A))}getBaseHref(){return this._baseHref}path(A=!1){let F=this._platformLocation.hash;return null==F&&(F="#"),F.length>0?F.substring(1):F}prepareExternalUrl(A){const F=X(this._baseHref,A);return F.length>0?"#"+F:F}pushState(A,F,ue,Be){let We=this.prepareExternalUrl(ue+Ee(Be));0==We.length&&(We=this._platformLocation.pathname),this._platformLocation.pushState(A,F,We)}replaceState(A,F,ue,Be){let We=this.prepareExternalUrl(ue+Ee(Be));0==We.length&&(We=this._platformLocation.pathname),this._platformLocation.replaceState(A,F,We)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(A=0){this._platformLocation.historyGo?.(A)}static#e=this.\u0275fac=function(F){return new(F||_)(p.LFG(W),p.LFG(Ye,8))};static#t=this.\u0275prov=p.Yz7({token:_,factory:_.\u0275fac})}return _})(),rt=(()=>{class _{constructor(A){this._subject=new p.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=A;const F=this._locationStrategy.getBaseHref();this._basePath=function ae(_){if(new RegExp("^(https?:)?//").test(_)){const[,A]=_.split(/\/\/[^\/]+/);return A}return _}(se(ut(F))),this._locationStrategy.onPopState(ue=>{this._subject.emit({url:this.path(!0),pop:!0,state:ue.state,type:ue.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(A=!1){return this.normalize(this._locationStrategy.path(A))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(A,F=""){return this.path()==this.normalize(A+Ee(F))}normalize(A){return _.stripTrailingSlash(function wt(_,L){if(!_||!L.startsWith(_))return L;const A=L.substring(_.length);return""===A||["/",";","?","#"].includes(A[0])?A:L}(this._basePath,ut(A)))}prepareExternalUrl(A){return A&&"/"!==A[0]&&(A="/"+A),this._locationStrategy.prepareExternalUrl(A)}go(A,F="",ue=null){this._locationStrategy.pushState(ue,"",A,F),this._notifyUrlChangeListeners(this.prepareExternalUrl(A+Ee(F)),ue)}replaceState(A,F="",ue=null){this._locationStrategy.replaceState(ue,"",A,F),this._notifyUrlChangeListeners(this.prepareExternalUrl(A+Ee(F)),ue)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(A=0){this._locationStrategy.historyGo?.(A)}onUrlChange(A){return this._urlChangeListeners.push(A),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(F=>{this._notifyUrlChangeListeners(F.url,F.state)})),()=>{const F=this._urlChangeListeners.indexOf(A);this._urlChangeListeners.splice(F,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(A="",F){this._urlChangeListeners.forEach(ue=>ue(A,F))}subscribe(A,F,ue){return this._subject.subscribe({next:A,error:F,complete:ue})}static#e=this.normalizeQueryParams=Ee;static#t=this.joinWithSlash=X;static#n=this.stripTrailingSlash=se;static#r=this.\u0275fac=function(F){return new(F||_)(p.LFG(ze))};static#i=this.\u0275prov=p.Yz7({token:_,factory:function(){return function st(){return new rt((0,p.LFG)(ze))}()},providedIn:"root"})}return _})();function ut(_){return _.replace(/\/index.html$/,"")}function Or(_,L){L=encodeURIComponent(L);for(const A of _.split(";")){const F=A.indexOf("="),[ue,Be]=-1==F?[A,""]:[A.slice(0,F),A.slice(F+1)];if(ue.trim()===L)return decodeURIComponent(Be)}return null}const ti=/\s+/,nr=[];let mr=(()=>{class _{constructor(A,F,ue,Be){this._iterableDiffers=A,this._keyValueDiffers=F,this._ngEl=ue,this._renderer=Be,this.initialClasses=nr,this.stateMap=new Map}set klass(A){this.initialClasses=null!=A?A.trim().split(ti):nr}set ngClass(A){this.rawClass="string"==typeof A?A.trim().split(ti):A}ngDoCheck(){for(const F of this.initialClasses)this._updateState(F,!0);const A=this.rawClass;if(Array.isArray(A)||A instanceof Set)for(const F of A)this._updateState(F,!0);else if(null!=A)for(const F of Object.keys(A))this._updateState(F,!!A[F]);this._applyStateDiff()}_updateState(A,F){const ue=this.stateMap.get(A);void 0!==ue?(ue.enabled!==F&&(ue.changed=!0,ue.enabled=F),ue.touched=!0):this.stateMap.set(A,{enabled:F,changed:!0,touched:!0})}_applyStateDiff(){for(const A of this.stateMap){const F=A[0],ue=A[1];ue.changed?(this._toggleClass(F,ue.enabled),ue.changed=!1):ue.touched||(ue.enabled&&this._toggleClass(F,!1),this.stateMap.delete(F)),ue.touched=!1}}_toggleClass(A,F){(A=A.trim()).length>0&&A.split(ti).forEach(ue=>{F?this._renderer.addClass(this._ngEl.nativeElement,ue):this._renderer.removeClass(this._ngEl.nativeElement,ue)})}static#e=this.\u0275fac=function(F){return new(F||_)(p.Y36(p.ZZ4),p.Y36(p.aQg),p.Y36(p.SBq),p.Y36(p.Qsj))};static#t=this.\u0275dir=p.lG2({type:_,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return _})();class Hn{constructor(L,A,F,ue){this.$implicit=L,this.ngForOf=A,this.index=F,this.count=ue}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let xi=(()=>{class _{set ngForOf(A){this._ngForOf=A,this._ngForOfDirty=!0}set ngForTrackBy(A){this._trackByFn=A}get ngForTrackBy(){return this._trackByFn}constructor(A,F,ue){this._viewContainer=A,this._template=F,this._differs=ue,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(A){A&&(this._template=A)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const A=this._ngForOf;!this._differ&&A&&(this._differ=this._differs.find(A).create(this.ngForTrackBy))}if(this._differ){const A=this._differ.diff(this._ngForOf);A&&this._applyChanges(A)}}_applyChanges(A){const F=this._viewContainer;A.forEachOperation((ue,Be,We)=>{if(null==ue.previousIndex)F.createEmbeddedView(this._template,new Hn(ue.item,this._ngForOf,-1,-1),null===We?void 0:We);else if(null==We)F.remove(null===Be?void 0:Be);else if(null!==Be){const pt=F.get(Be);F.move(pt,We),wr(pt,ue)}});for(let ue=0,Be=F.length;ue<Be;ue++){const pt=F.get(ue).context;pt.index=ue,pt.count=Be,pt.ngForOf=this._ngForOf}A.forEachIdentityChange(ue=>{wr(F.get(ue.currentIndex),ue)})}static ngTemplateContextGuard(A,F){return!0}static#e=this.\u0275fac=function(F){return new(F||_)(p.Y36(p.s_b),p.Y36(p.Rgc),p.Y36(p.ZZ4))};static#t=this.\u0275dir=p.lG2({type:_,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return _})();function wr(_,L){_.context.$implicit=L.item}let js=(()=>{class _{constructor(A,F){this._viewContainer=A,this._context=new vo,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=F}set ngIf(A){this._context.$implicit=this._context.ngIf=A,this._updateView()}set ngIfThen(A){$o("ngIfThen",A),this._thenTemplateRef=A,this._thenViewRef=null,this._updateView()}set ngIfElse(A){$o("ngIfElse",A),this._elseTemplateRef=A,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(A,F){return!0}static#e=this.\u0275fac=function(F){return new(F||_)(p.Y36(p.s_b),p.Y36(p.Rgc))};static#t=this.\u0275dir=p.lG2({type:_,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return _})();class vo{constructor(){this.$implicit=null,this.ngIf=null}}function $o(_,L){if(L&&!L.createEmbeddedView)throw new Error(`${_} must be a TemplateRef, but received '${(0,p.AaK)(L)}'.`)}let ui=(()=>{class _{constructor(A,F,ue){this._ngEl=A,this._differs=F,this._renderer=ue,this._ngStyle=null,this._differ=null}set ngStyle(A){this._ngStyle=A,!this._differ&&A&&(this._differ=this._differs.find(A).create())}ngDoCheck(){if(this._differ){const A=this._differ.diff(this._ngStyle);A&&this._applyChanges(A)}}_setStyle(A,F){const[ue,Be]=A.split("."),We=-1===ue.indexOf("-")?void 0:p.JOm.DashCase;null!=F?this._renderer.setStyle(this._ngEl.nativeElement,ue,Be?`${F}${Be}`:F,We):this._renderer.removeStyle(this._ngEl.nativeElement,ue,We)}_applyChanges(A){A.forEachRemovedItem(F=>this._setStyle(F.key,null)),A.forEachAddedItem(F=>this._setStyle(F.key,F.currentValue)),A.forEachChangedItem(F=>this._setStyle(F.key,F.currentValue))}static#e=this.\u0275fac=function(F){return new(F||_)(p.Y36(p.SBq),p.Y36(p.aQg),p.Y36(p.Qsj))};static#t=this.\u0275dir=p.lG2({type:_,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return _})(),Hi=(()=>{class _{constructor(A){this._viewContainerRef=A,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(A){if(A.ngTemplateOutlet||A.ngTemplateOutletInjector){const F=this._viewContainerRef;if(this._viewRef&&F.remove(F.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:ue,ngTemplateOutletContext:Be,ngTemplateOutletInjector:We}=this;this._viewRef=F.createEmbeddedView(ue,Be,We?{injector:We}:void 0)}else this._viewRef=null}else this._viewRef&&A.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(F){return new(F||_)(p.Y36(p.s_b))};static#t=this.\u0275dir=p.lG2({type:_,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[p.TTD]})}return _})(),ci=(()=>{class _{static#e=this.\u0275fac=function(F){return new(F||_)};static#t=this.\u0275mod=p.oAB({type:_});static#n=this.\u0275inj=p.cJS({})}return _})();const br="browser",ls="server";function gi(_){return _===br}function us(_){return _===ls}let Ki=(()=>{class _{static#e=this.\u0275prov=(0,p.Yz7)({token:_,providedIn:"root",factory:()=>new bi((0,p.LFG)(J),window)})}return _})();class bi{constructor(L,A){this.document=L,this.window=A,this.offset=()=>[0,0]}setOffset(L){this.offset=Array.isArray(L)?()=>L:L}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(L){this.supportsScrolling()&&this.window.scrollTo(L[0],L[1])}scrollToAnchor(L){if(!this.supportsScrolling())return;const A=function cr(_,L){const A=_.getElementById(L)||_.getElementsByName(L)[0];if(A)return A;if("function"==typeof _.createTreeWalker&&_.body&&"function"==typeof _.body.attachShadow){const F=_.createTreeWalker(_.body,NodeFilter.SHOW_ELEMENT);let ue=F.currentNode;for(;ue;){const Be=ue.shadowRoot;if(Be){const We=Be.getElementById(L)||Be.querySelector(`[name="${L}"]`);if(We)return We}ue=F.nextNode()}}return null}(this.document,L);A&&(this.scrollToElement(A),A.focus())}setHistoryScrollRestoration(L){this.supportsScrolling()&&(this.window.history.scrollRestoration=L)}scrollToElement(L){const A=L.getBoundingClientRect(),F=A.left+this.window.pageXOffset,ue=A.top+this.window.pageYOffset,Be=this.offset();this.window.scrollTo(F-Be[0],ue-Be[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Di{}},9862:(xt,je,U)=>{U.d(je,{JF:()=>k,eN:()=>Se});var p=U(5879),V=U(2096),b=U(2459),Te=U(5592),z=U(6328),J=U(2181),W=U(7398),ce=U(4716),de=U(4664),X=U(6814);class se{}class Ee{}class ze{constructor(ve){this.normalizedNames=new Map,this.lazyUpdate=null,ve?"string"==typeof ve?this.lazyInit=()=>{this.headers=new Map,ve.split("\n").forEach(xe=>{const Ie=xe.indexOf(":");if(Ie>0){const we=xe.slice(0,Ie),Ue=we.toLowerCase(),et=xe.slice(Ie+1).trim();this.maybeSetNormalizedName(we,Ue),this.headers.has(Ue)?this.headers.get(Ue).push(et):this.headers.set(Ue,[et])}})}:typeof Headers<"u"&&ve instanceof Headers?(this.headers=new Map,ve.forEach((xe,Ie)=>{this.setHeaderEntries(Ie,xe)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(ve).forEach(([xe,Ie])=>{this.setHeaderEntries(xe,Ie)})}:this.headers=new Map}has(ve){return this.init(),this.headers.has(ve.toLowerCase())}get(ve){this.init();const xe=this.headers.get(ve.toLowerCase());return xe&&xe.length>0?xe[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(ve){return this.init(),this.headers.get(ve.toLowerCase())||null}append(ve,xe){return this.clone({name:ve,value:xe,op:"a"})}set(ve,xe){return this.clone({name:ve,value:xe,op:"s"})}delete(ve,xe){return this.clone({name:ve,value:xe,op:"d"})}maybeSetNormalizedName(ve,xe){this.normalizedNames.has(xe)||this.normalizedNames.set(xe,ve)}init(){this.lazyInit&&(this.lazyInit instanceof ze?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(ve=>this.applyUpdate(ve)),this.lazyUpdate=null))}copyFrom(ve){ve.init(),Array.from(ve.headers.keys()).forEach(xe=>{this.headers.set(xe,ve.headers.get(xe)),this.normalizedNames.set(xe,ve.normalizedNames.get(xe))})}clone(ve){const xe=new ze;return xe.lazyInit=this.lazyInit&&this.lazyInit instanceof ze?this.lazyInit:this,xe.lazyUpdate=(this.lazyUpdate||[]).concat([ve]),xe}applyUpdate(ve){const xe=ve.name.toLowerCase();switch(ve.op){case"a":case"s":let Ie=ve.value;if("string"==typeof Ie&&(Ie=[Ie]),0===Ie.length)return;this.maybeSetNormalizedName(ve.name,xe);const we=("a"===ve.op?this.headers.get(xe):void 0)||[];we.push(...Ie),this.headers.set(xe,we);break;case"d":const Ue=ve.value;if(Ue){let et=this.headers.get(xe);if(!et)return;et=et.filter(St=>-1===Ue.indexOf(St)),0===et.length?(this.headers.delete(xe),this.normalizedNames.delete(xe)):this.headers.set(xe,et)}else this.headers.delete(xe),this.normalizedNames.delete(xe)}}setHeaderEntries(ve,xe){const Ie=(Array.isArray(xe)?xe:[xe]).map(Ue=>Ue.toString()),we=ve.toLowerCase();this.headers.set(we,Ie),this.maybeSetNormalizedName(ve,we)}forEach(ve){this.init(),Array.from(this.normalizedNames.keys()).forEach(xe=>ve(this.normalizedNames.get(xe),this.headers.get(xe)))}}class lt{encodeKey(ve){return wt(ve)}encodeValue(ve){return wt(ve)}decodeKey(ve){return decodeURIComponent(ve)}decodeValue(ve){return decodeURIComponent(ve)}}const rt=/%(\d[a-f0-9])/gi,st={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function wt(De){return encodeURIComponent(De).replace(rt,(ve,xe)=>st[xe]??ve)}function ut(De){return`${De}`}class ae{constructor(ve={}){if(this.updates=null,this.cloneFrom=null,this.encoder=ve.encoder||new lt,ve.fromString){if(ve.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function tt(De,ve){const xe=new Map;return De.length>0&&De.replace(/^\?/,"").split("&").forEach(we=>{const Ue=we.indexOf("="),[et,St]=-1==Ue?[ve.decodeKey(we),""]:[ve.decodeKey(we.slice(0,Ue)),ve.decodeValue(we.slice(Ue+1))],dt=xe.get(et)||[];dt.push(St),xe.set(et,dt)}),xe}(ve.fromString,this.encoder)}else ve.fromObject?(this.map=new Map,Object.keys(ve.fromObject).forEach(xe=>{const Ie=ve.fromObject[xe],we=Array.isArray(Ie)?Ie.map(ut):[ut(Ie)];this.map.set(xe,we)})):this.map=null}has(ve){return this.init(),this.map.has(ve)}get(ve){this.init();const xe=this.map.get(ve);return xe?xe[0]:null}getAll(ve){return this.init(),this.map.get(ve)||null}keys(){return this.init(),Array.from(this.map.keys())}append(ve,xe){return this.clone({param:ve,value:xe,op:"a"})}appendAll(ve){const xe=[];return Object.keys(ve).forEach(Ie=>{const we=ve[Ie];Array.isArray(we)?we.forEach(Ue=>{xe.push({param:Ie,value:Ue,op:"a"})}):xe.push({param:Ie,value:we,op:"a"})}),this.clone(xe)}set(ve,xe){return this.clone({param:ve,value:xe,op:"s"})}delete(ve,xe){return this.clone({param:ve,value:xe,op:"d"})}toString(){return this.init(),this.keys().map(ve=>{const xe=this.encoder.encodeKey(ve);return this.map.get(ve).map(Ie=>xe+"="+this.encoder.encodeValue(Ie)).join("&")}).filter(ve=>""!==ve).join("&")}clone(ve){const xe=new ae({encoder:this.encoder});return xe.cloneFrom=this.cloneFrom||this,xe.updates=(this.updates||[]).concat(ve),xe}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(ve=>this.map.set(ve,this.cloneFrom.map.get(ve))),this.updates.forEach(ve=>{switch(ve.op){case"a":case"s":const xe=("a"===ve.op?this.map.get(ve.param):void 0)||[];xe.push(ut(ve.value)),this.map.set(ve.param,xe);break;case"d":if(void 0===ve.value){this.map.delete(ve.param);break}{let Ie=this.map.get(ve.param)||[];const we=Ie.indexOf(ut(ve.value));-1!==we&&Ie.splice(we,1),Ie.length>0?this.map.set(ve.param,Ie):this.map.delete(ve.param)}}}),this.cloneFrom=this.updates=null)}}class me{constructor(){this.map=new Map}set(ve,xe){return this.map.set(ve,xe),this}get(ve){return this.map.has(ve)||this.map.set(ve,ve.defaultValue()),this.map.get(ve)}delete(ve){return this.map.delete(ve),this}has(ve){return this.map.has(ve)}keys(){return this.map.keys()}}function Ce(De){return typeof ArrayBuffer<"u"&&De instanceof ArrayBuffer}function ye(De){return typeof Blob<"u"&&De instanceof Blob}function he(De){return typeof FormData<"u"&&De instanceof FormData}class Ct{constructor(ve,xe,Ie,we){let Ue;if(this.url=xe,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=ve.toUpperCase(),function ge(De){switch(De){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||we?(this.body=void 0!==Ie?Ie:null,Ue=we):Ue=Ie,Ue&&(this.reportProgress=!!Ue.reportProgress,this.withCredentials=!!Ue.withCredentials,Ue.responseType&&(this.responseType=Ue.responseType),Ue.headers&&(this.headers=Ue.headers),Ue.context&&(this.context=Ue.context),Ue.params&&(this.params=Ue.params)),this.headers||(this.headers=new ze),this.context||(this.context=new me),this.params){const et=this.params.toString();if(0===et.length)this.urlWithParams=xe;else{const St=xe.indexOf("?");this.urlWithParams=xe+(-1===St?"?":St<xe.length-1?"&":"")+et}}else this.params=new ae,this.urlWithParams=xe}serializeBody(){return null===this.body?null:Ce(this.body)||ye(this.body)||he(this.body)||function at(De){return typeof URLSearchParams<"u"&&De instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ae?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||he(this.body)?null:ye(this.body)?this.body.type||null:Ce(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ae?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(ve={}){const xe=ve.method||this.method,Ie=ve.url||this.url,we=ve.responseType||this.responseType,Ue=void 0!==ve.body?ve.body:this.body,et=void 0!==ve.withCredentials?ve.withCredentials:this.withCredentials,St=void 0!==ve.reportProgress?ve.reportProgress:this.reportProgress;let dt=ve.headers||this.headers,nn=ve.params||this.params;const Zn=ve.context??this.context;return void 0!==ve.setHeaders&&(dt=Object.keys(ve.setHeaders).reduce((xn,Xn)=>xn.set(Xn,ve.setHeaders[Xn]),dt)),ve.setParams&&(nn=Object.keys(ve.setParams).reduce((xn,Xn)=>xn.set(Xn,ve.setParams[Xn]),nn)),new Ct(xe,Ie,Ue,{params:nn,headers:dt,context:Zn,reportProgress:St,responseType:we,withCredentials:et})}}var $e=function(De){return De[De.Sent=0]="Sent",De[De.UploadProgress=1]="UploadProgress",De[De.ResponseHeader=2]="ResponseHeader",De[De.DownloadProgress=3]="DownloadProgress",De[De.Response=4]="Response",De[De.User=5]="User",De}($e||{});class Gt{constructor(ve,xe=200,Ie="OK"){this.headers=ve.headers||new ze,this.status=void 0!==ve.status?ve.status:xe,this.statusText=ve.statusText||Ie,this.url=ve.url||null,this.ok=this.status>=200&&this.status<300}}class At extends Gt{constructor(ve={}){super(ve),this.type=$e.ResponseHeader}clone(ve={}){return new At({headers:ve.headers||this.headers,status:void 0!==ve.status?ve.status:this.status,statusText:ve.statusText||this.statusText,url:ve.url||this.url||void 0})}}class gn extends Gt{constructor(ve={}){super(ve),this.type=$e.Response,this.body=void 0!==ve.body?ve.body:null}clone(ve={}){return new gn({body:void 0!==ve.body?ve.body:this.body,headers:ve.headers||this.headers,status:void 0!==ve.status?ve.status:this.status,statusText:ve.statusText||this.statusText,url:ve.url||this.url||void 0})}}class bt extends Gt{constructor(ve){super(ve,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${ve.url||"(unknown url)"}`:`Http failure response for ${ve.url||"(unknown url)"}: ${ve.status} ${ve.statusText}`,this.error=ve.error||null}}function Nt(De,ve){return{body:ve,headers:De.headers,context:De.context,observe:De.observe,params:De.params,reportProgress:De.reportProgress,responseType:De.responseType,withCredentials:De.withCredentials}}let Se=(()=>{class De{constructor(xe){this.handler=xe}request(xe,Ie,we={}){let Ue;if(xe instanceof Ct)Ue=xe;else{let dt,nn;dt=we.headers instanceof ze?we.headers:new ze(we.headers),we.params&&(nn=we.params instanceof ae?we.params:new ae({fromObject:we.params})),Ue=new Ct(xe,Ie,void 0!==we.body?we.body:null,{headers:dt,context:we.context,params:nn,reportProgress:we.reportProgress,responseType:we.responseType||"json",withCredentials:we.withCredentials})}const et=(0,V.of)(Ue).pipe((0,z.b)(dt=>this.handler.handle(dt)));if(xe instanceof Ct||"events"===we.observe)return et;const St=et.pipe((0,J.h)(dt=>dt instanceof gn));switch(we.observe||"body"){case"body":switch(Ue.responseType){case"arraybuffer":return St.pipe((0,W.U)(dt=>{if(null!==dt.body&&!(dt.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return dt.body}));case"blob":return St.pipe((0,W.U)(dt=>{if(null!==dt.body&&!(dt.body instanceof Blob))throw new Error("Response is not a Blob.");return dt.body}));case"text":return St.pipe((0,W.U)(dt=>{if(null!==dt.body&&"string"!=typeof dt.body)throw new Error("Response is not a string.");return dt.body}));default:return St.pipe((0,W.U)(dt=>dt.body))}case"response":return St;default:throw new Error(`Unreachable: unhandled observe type ${we.observe}}`)}}delete(xe,Ie={}){return this.request("DELETE",xe,Ie)}get(xe,Ie={}){return this.request("GET",xe,Ie)}head(xe,Ie={}){return this.request("HEAD",xe,Ie)}jsonp(xe,Ie){return this.request("JSONP",xe,{params:(new ae).append(Ie,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(xe,Ie={}){return this.request("OPTIONS",xe,Ie)}patch(xe,Ie,we={}){return this.request("PATCH",xe,Nt(we,Ie))}post(xe,Ie,we={}){return this.request("POST",xe,Nt(we,Ie))}put(xe,Ie,we={}){return this.request("PUT",xe,Nt(we,Ie))}static#e=this.\u0275fac=function(Ie){return new(Ie||De)(p.LFG(se))};static#t=this.\u0275prov=p.Yz7({token:De,factory:De.\u0275fac})}return De})();function Ln(De,ve){return ve(De)}function en(De,ve){return(xe,Ie)=>ve.intercept(xe,{handle:we=>De(we,Ie)})}const an=new p.OlP(""),ln=new p.OlP(""),Un=new p.OlP("");function Pn(){let De=null;return(ve,xe)=>{null===De&&(De=((0,p.f3M)(an,{optional:!0})??[]).reduceRight(en,Ln));const Ie=(0,p.f3M)(p.HDt),we=Ie.add();return De(ve,xe).pipe((0,ce.x)(()=>Ie.remove(we)))}}let Tn=(()=>{class De extends se{constructor(xe,Ie){super(),this.backend=xe,this.injector=Ie,this.chain=null,this.pendingTasks=(0,p.f3M)(p.HDt)}handle(xe){if(null===this.chain){const we=Array.from(new Set([...this.injector.get(ln),...this.injector.get(Un,[])]));this.chain=we.reduceRight((Ue,et)=>function Sn(De,ve,xe){return(Ie,we)=>xe.runInContext(()=>ve(Ie,Ue=>De(Ue,we)))}(Ue,et,this.injector),Ln)}const Ie=this.pendingTasks.add();return this.chain(xe,we=>this.backend.handle(we)).pipe((0,ce.x)(()=>this.pendingTasks.remove(Ie)))}static#e=this.\u0275fac=function(Ie){return new(Ie||De)(p.LFG(Ee),p.LFG(p.lqb))};static#t=this.\u0275prov=p.Yz7({token:De,factory:De.\u0275fac})}return De})();const Tr=/^\)\]\}',?\n/;let Dt=(()=>{class De{constructor(xe){this.xhrFactory=xe}handle(xe){if("JSONP"===xe.method)throw new p.vHH(-2800,!1);const Ie=this.xhrFactory;return(Ie.\u0275loadImpl?(0,b.D)(Ie.\u0275loadImpl()):(0,V.of)(null)).pipe((0,de.w)(()=>new Te.y(Ue=>{const et=Ie.build();if(et.open(xe.method,xe.urlWithParams),xe.withCredentials&&(et.withCredentials=!0),xe.headers.forEach((nr,mr)=>et.setRequestHeader(nr,mr.join(","))),xe.headers.has("Accept")||et.setRequestHeader("Accept","application/json, text/plain, */*"),!xe.headers.has("Content-Type")){const nr=xe.detectContentTypeHeader();null!==nr&&et.setRequestHeader("Content-Type",nr)}if(xe.responseType){const nr=xe.responseType.toLowerCase();et.responseType="json"!==nr?nr:"text"}const St=xe.serializeBody();let dt=null;const nn=()=>{if(null!==dt)return dt;const nr=et.statusText||"OK",mr=new ze(et.getAllResponseHeaders()),Kr=function Je(De){return"responseURL"in De&&De.responseURL?De.responseURL:/^X-Request-URL:/m.test(De.getAllResponseHeaders())?De.getResponseHeader("X-Request-URL"):null}(et)||xe.url;return dt=new At({headers:mr,status:et.status,statusText:nr,url:Kr}),dt},Zn=()=>{let{headers:nr,status:mr,statusText:Kr,url:Hs}=nn(),Hn=null;204!==mr&&(Hn=typeof et.response>"u"?et.responseText:et.response),0===mr&&(mr=Hn?200:0);let xi=mr>=200&&mr<300;if("json"===xe.responseType&&"string"==typeof Hn){const wr=Hn;Hn=Hn.replace(Tr,"");try{Hn=""!==Hn?JSON.parse(Hn):null}catch(Gi){Hn=wr,xi&&(xi=!1,Hn={error:Gi,text:Hn})}}xi?(Ue.next(new gn({body:Hn,headers:nr,status:mr,statusText:Kr,url:Hs||void 0})),Ue.complete()):Ue.error(new bt({error:Hn,headers:nr,status:mr,statusText:Kr,url:Hs||void 0}))},xn=nr=>{const{url:mr}=nn(),Kr=new bt({error:nr,status:et.status||0,statusText:et.statusText||"Unknown Error",url:mr||void 0});Ue.error(Kr)};let Xn=!1;const Or=nr=>{Xn||(Ue.next(nn()),Xn=!0);let mr={type:$e.DownloadProgress,loaded:nr.loaded};nr.lengthComputable&&(mr.total=nr.total),"text"===xe.responseType&&et.responseText&&(mr.partialText=et.responseText),Ue.next(mr)},ti=nr=>{let mr={type:$e.UploadProgress,loaded:nr.loaded};nr.lengthComputable&&(mr.total=nr.total),Ue.next(mr)};return et.addEventListener("load",Zn),et.addEventListener("error",xn),et.addEventListener("timeout",xn),et.addEventListener("abort",xn),xe.reportProgress&&(et.addEventListener("progress",Or),null!==St&&et.upload&&et.upload.addEventListener("progress",ti)),et.send(St),Ue.next({type:$e.Sent}),()=>{et.removeEventListener("error",xn),et.removeEventListener("abort",xn),et.removeEventListener("load",Zn),et.removeEventListener("timeout",xn),xe.reportProgress&&(et.removeEventListener("progress",Or),null!==St&&et.upload&&et.upload.removeEventListener("progress",ti)),et.readyState!==et.DONE&&et.abort()}})))}static#e=this.\u0275fac=function(Ie){return new(Ie||De)(p.LFG(X.JF))};static#t=this.\u0275prov=p.Yz7({token:De,factory:De.\u0275fac})}return De})();const Ae=new p.OlP("XSRF_ENABLED"),Qe=new p.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Rt=new p.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class un{}let vn=(()=>{class De{constructor(xe,Ie,we){this.doc=xe,this.platform=Ie,this.cookieName=we,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const xe=this.doc.cookie||"";return xe!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,X.Mx)(xe,this.cookieName),this.lastCookieString=xe),this.lastToken}static#e=this.\u0275fac=function(Ie){return new(Ie||De)(p.LFG(X.K0),p.LFG(p.Lbi),p.LFG(Qe))};static#t=this.\u0275prov=p.Yz7({token:De,factory:De.\u0275fac})}return De})();function qr(De,ve){const xe=De.url.toLowerCase();if(!(0,p.f3M)(Ae)||"GET"===De.method||"HEAD"===De.method||xe.startsWith("http://")||xe.startsWith("https://"))return ve(De);const Ie=(0,p.f3M)(un).getToken(),we=(0,p.f3M)(Rt);return null!=Ie&&!De.headers.has(we)&&(De=De.clone({headers:De.headers.set(we,Ie)})),ve(De)}var Bn=function(De){return De[De.Interceptors=0]="Interceptors",De[De.LegacyInterceptors=1]="LegacyInterceptors",De[De.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",De[De.NoXsrfProtection=3]="NoXsrfProtection",De[De.JsonpSupport=4]="JsonpSupport",De[De.RequestsMadeViaParent=5]="RequestsMadeViaParent",De[De.Fetch=6]="Fetch",De}(Bn||{});function Br(...De){const ve=[Se,Dt,Tn,{provide:se,useExisting:Tn},{provide:Ee,useExisting:Dt},{provide:ln,useValue:qr,multi:!0},{provide:Ae,useValue:!0},{provide:un,useClass:vn}];for(const xe of De)ve.push(...xe.\u0275providers);return(0,p.MR2)(ve)}const Ti=new p.OlP("LEGACY_INTERCEPTOR_FN");function Ar(){return function sr(De,ve){return{\u0275kind:De,\u0275providers:ve}}(Bn.LegacyInterceptors,[{provide:Ti,useFactory:Pn},{provide:ln,useExisting:Ti,multi:!0}])}let k=(()=>{class De{static#e=this.\u0275fac=function(Ie){return new(Ie||De)};static#t=this.\u0275mod=p.oAB({type:De});static#n=this.\u0275inj=p.cJS({providers:[Br(Ar())]})}return De})()},5879:(xt,je,U)=>{U.d(je,{$8M:()=>Po,$WT:()=>qi,$Z:()=>sy,AFp:()=>ff,AaK:()=>Ee,BQk:()=>fp,CHM:()=>za,CRH:()=>uT,EJc:()=>Ob,EpF:()=>Pg,F$t:()=>NI,F4k:()=>pc,FYo:()=>rd,FiY:()=>$u,Gf:()=>aT,GfV:()=>Xd,GkF:()=>pp,Gpc:()=>lt,HDt:()=>MT,Hsn:()=>LI,JOm:()=>Fd,KtG:()=>Eh,LFG:()=>Tt,LSH:()=>rf,Lbi:()=>wm,Lck:()=>_C,MAs:()=>bu,MMx:()=>N0,MR2:()=>pm,NdJ:()=>hh,O4$:()=>Sa,Ojb:()=>Cm,OlP:()=>Qe,Oqu:()=>qg,P3R:()=>fm,PXZ:()=>lD,Q6J:()=>Va,QGY:()=>Rg,QbO:()=>U_,Qsj:()=>Mm,R0b:()=>_s,RDi:()=>Qh,Rgc:()=>i_,SBq:()=>Jd,Sil:()=>kb,Suo:()=>lT,TTD:()=>sn,TgZ:()=>dp,Tol:()=>_o,VuI:()=>zD,WLB:()=>j0,X6Q:()=>gD,XFs:()=>Xt,Xpm:()=>No,Xq5:()=>Dy,Xts:()=>qc,Y36:()=>vu,YKP:()=>x0,YNc:()=>Oy,Yjl:()=>Li,Yz7:()=>an,Z0I:()=>Tn,ZZ4:()=>DE,_Bn:()=>M0,_UZ:()=>Ag,_c5:()=>xD,_uU:()=>mh,aQg:()=>AE,c2e:()=>RT,cJS:()=>Un,cg1:()=>qI,dDg:()=>iD,dqk:()=>Dt,eFA:()=>HT,eJc:()=>cE,ekj:()=>yp,eoX:()=>FT,evT:()=>Z_,f3M:()=>kt,g9A:()=>Tm,h0i:()=>yh,hGG:()=>OD,hij:()=>gh,iGM:()=>oT,ifc:()=>et,ip1:()=>PT,jDz:()=>L0,kEZ:()=>$0,kL8:()=>n0,lG2:()=>Ws,lqb:()=>ma,lri:()=>LT,n5z:()=>da,oAB:()=>Gs,oxw:()=>Fy,q4F:()=>sd,qFp:()=>WD,qLn:()=>mu,qOj:()=>fg,qZA:()=>dh,rWj:()=>kT,rg0:()=>Be,sBO:()=>_D,s_b:()=>cv,soG:()=>hv,tb:()=>IE,tp0:()=>vl,uIk:()=>gg,vHH:()=>ae,vpe:()=>_a,wAp:()=>Ep,xp6:()=>Of,ynx:()=>hp,z2F:()=>bp,zSh:()=>gs,zs3:()=>ga});var p=U(8645),V=U(7394),b=U(5592),Te=U(3019),z=U(5619),J=U(2096),W=U(3020),ce=U(4664),de=U(3997);function X(t){for(let r in t)if(t[r]===X)return r;throw Error("Could not find renamed property on target object.")}function se(t,r){for(const o in r)r.hasOwnProperty(o)&&!t.hasOwnProperty(o)&&(t[o]=r[o])}function Ee(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Ee).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const r=t.toString();if(null==r)return""+r;const o=r.indexOf("\n");return-1===o?r:r.substring(0,o)}function ze(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}const Ye=X({__forward_ref__:X});function lt(t){return t.__forward_ref__=lt,t.toString=function(){return Ee(this())},t}function tt(t){return rt(t)?t():t}function rt(t){return"function"==typeof t&&t.hasOwnProperty(Ye)&&t.__forward_ref__===lt}function st(t){return t&&!!t.\u0275providers}const ut="https://g.co/ng/security#xss";class ae extends Error{constructor(r,o){super(function Me(t,r){return`NG0${Math.abs(t)}${r?": "+r:""}`}(r,o)),this.code=r}}function me(t){return"string"==typeof t?t:null==t?"":String(t)}function at(t,r){throw new ae(-201,!1)}function gt(t,r){null==t&&function yt(t,r,o,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${o} ${a} ${r} <=Actual]`))}(r,t,null,"!=")}function an(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Un(t){return{providers:t.providers||[],imports:t.imports||[]}}function Pn(t){return Vt(t,Mn)||Vt(t,Nr)}function Tn(t){return null!==Pn(t)}function Vt(t,r){return t.hasOwnProperty(r)?t[r]:null}function Er(t){return t&&(t.hasOwnProperty(kn)||t.hasOwnProperty(tr))?t[kn]:null}const Mn=X({\u0275prov:X}),kn=X({\u0275inj:X}),Nr=X({ngInjectableDef:X}),tr=X({ngInjectorDef:X});var Xt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Xt||{});let hn;function Kn(t){const r=hn;return hn=t,r}function Tr(t,r,o){const a=Pn(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:o&Xt.Optional?null:void 0!==r?r:void at(Ee(t))}const Dt=globalThis;class Qe{constructor(r,o){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=an({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Ar={},Sr="__NG_DI_FLAG__",kr="ngTempTokenPath",re=/\n/gm,N="__source";let k;function Le(t){const r=k;return k=t,r}function ct(t,r=Xt.Default){if(void 0===k)throw new ae(-203,!1);return null===k?Tr(t,void 0,r):k.get(t,r&Xt.Optional?null:void 0,r)}function Tt(t,r=Xt.Default){return(function Qt(){return hn}()||ct)(tt(t),r)}function kt(t,r=Xt.Default){return Tt(t,Kt(r))}function Kt(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function bn(t){const r=[];for(let o=0;o<t.length;o++){const a=tt(t[o]);if(Array.isArray(a)){if(0===a.length)throw new ae(900,!1);let u,d=Xt.Default;for(let g=0;g<a.length;g++){const w=a[g],S=ve(w);"number"==typeof S?-1===S?u=w.token:d|=S:u=w}r.push(Tt(u,d))}else r.push(Tt(a))}return r}function De(t,r){return t[Sr]=r,t.prototype[Sr]=r,t}function ve(t){return t[Sr]}function we(t){return{toString:t}.toString()}var Ue=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Ue||{}),et=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(et||{});const St={},dt=[],nn=X({\u0275cmp:X}),Zn=X({\u0275dir:X}),xn=X({\u0275pipe:X}),Xn=X({\u0275mod:X}),Or=X({\u0275fac:X}),ti=X({__NG_ELEMENT_ID__:X}),nr=X({__NG_ENV_ID__:X});function mr(t,r,o){let a=t.length;for(;;){const u=t.indexOf(r,o);if(-1===u)return u;if(0===u||t.charCodeAt(u-1)<=32){const d=r.length;if(u+d===a||t.charCodeAt(u+d)<=32)return u}o=u+1}}function Kr(t,r,o){let a=0;for(;a<o.length;){const u=o[a];if("number"==typeof u){if(0!==u)break;a++;const d=o[a++],g=o[a++],w=o[a++];t.setAttribute(r,g,w,d)}else{const d=u,g=o[++a];Hn(d)?t.setProperty(r,d,g):t.setAttribute(r,d,g),a++}}return a}function Hs(t){return 3===t||4===t||6===t}function Hn(t){return 64===t.charCodeAt(0)}function xi(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else{let o=-1;for(let a=0;a<r.length;a++){const u=r[a];"number"==typeof u?o=u:0===o||wr(t,o,u,null,-1===o||2===o?r[++a]:null)}}return t}function wr(t,r,o,a,u){let d=0,g=t.length;if(-1===r)g=-1;else for(;d<t.length;){const w=t[d++];if("number"==typeof w){if(w===r){g=-1;break}if(w>r){g=d-1;break}}}for(;d<t.length;){const w=t[d];if("number"==typeof w)break;if(w===o){if(null===a)return void(null!==u&&(t[d+1]=u));if(a===t[d+1])return void(t[d+2]=u)}d++,null!==a&&d++,null!==u&&d++}-1!==g&&(t.splice(g,0,r),d=g+1),t.splice(d++,0,o),null!==a&&t.splice(d++,0,a),null!==u&&t.splice(d++,0,u)}const Gi="ng-template";function js(t,r,o){let a=0,u=!0;for(;a<t.length;){let d=t[a++];if("string"==typeof d&&u){const g=t[a++];if(o&&"class"===d&&-1!==mr(g.toLowerCase(),r,0))return!0}else{if(1===d){for(;a<t.length&&"string"==typeof(d=t[a++]);)if(d.toLowerCase()===r)return!0;return!1}"number"==typeof d&&(u=!1)}}return!1}function vo(t){return 4===t.type&&t.value!==Gi}function $o(t,r,o){return r===(4!==t.type||o?t.value:Gi)}function zo(t,r,o){let a=4;const u=t.attrs||[],d=function li(t){for(let r=0;r<t.length;r++)if(Hs(t[r]))return r;return t.length}(u);let g=!1;for(let w=0;w<r.length;w++){const S=r[w];if("number"!=typeof S){if(!g)if(4&a){if(a=2|1&a,""!==S&&!$o(t,S,o)||""===S&&1===r.length){if(ii(a))return!1;g=!0}}else{const H=8&a?S:r[++w];if(8&a&&null!==t.attrs){if(!js(t.attrs,H,o)){if(ii(a))return!1;g=!0}continue}const _e=Wi(8&a?"class":S,u,vo(t),o);if(-1===_e){if(ii(a))return!1;g=!0;continue}if(""!==H){let Ve;Ve=_e>d?"":u[_e+1].toLowerCase();const Ke=8&a?Ve:null;if(Ke&&-1!==mr(Ke,H,0)||2&a&&H!==Ve){if(ii(a))return!1;g=!0}}}}else{if(!g&&!ii(a)&&!ii(S))return!1;if(g&&ii(S))continue;g=!1,a=S|1&a}}return ii(a)||g}function ii(t){return 0==(1&t)}function Wi(t,r,o,a){if(null===r)return-1;let u=0;if(a||!o){let d=!1;for(;u<r.length;){const g=r[u];if(g===t)return u;if(3===g||6===g)d=!0;else{if(1===g||2===g){let w=r[++u];for(;"string"==typeof w;)w=r[++u];continue}if(4===g)break;if(0===g){u+=4;continue}}u+=d?1:2}return-1}return function $s(t,r){let o=t.indexOf(4);if(o>-1)for(o++;o<t.length;){const a=t[o];if("number"==typeof a)return-1;if(a===r)return o;o++}return-1}(r,t)}function wi(t,r,o=!1){for(let a=0;a<r.length;a++)if(zo(t,r[a],o))return!0;return!1}function ui(t,r){e:for(let o=0;o<r.length;o++){const a=r[o];if(t.length===a.length){for(let u=0;u<t.length;u++)if(t[u]!==a[u])continue e;return!0}}return!1}function Hi(t,r){return t?":not("+r.trim()+")":r}function Eo(t){let r=t[0],o=1,a=2,u="",d=!1;for(;o<t.length;){let g=t[o];if("string"==typeof g)if(2&a){const w=t[++o];u+="["+g+(w.length>0?'="'+w+'"':"")+"]"}else 8&a?u+="."+g:4&a&&(u+=" "+g);else""!==u&&!ii(g)&&(r+=Hi(d,u),u=""),a=g,d=d||!ii(a);o++}return""!==u&&(r+=Hi(d,u)),r}function No(t){return we(()=>{const r=To(t),o={...r,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Ue.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||et.Emulated,styles:t.styles||dt,_:null,schemas:t.schemas||null,tView:null,id:""};co(o);const a=t.dependencies;return o.directiveDefs=ss(a,!1),o.pipeDefs=ss(a,!0),o.id=function os(t){let r=0;const o=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const u of o)r=Math.imul(31,r)+u.charCodeAt(0)<<0;return r+=2147483648,"c"+r}(o),o})}function uo(t){return jn(t)||Pr(t)}function sa(t){return null!==t}function Gs(t){return we(()=>({type:t.type,bootstrap:t.bootstrap||dt,declarations:t.declarations||dt,imports:t.imports||dt,exports:t.exports||dt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function ys(t,r){if(null==t)return St;const o={};for(const a in t)if(t.hasOwnProperty(a)){let u=t[a],d=u;Array.isArray(u)&&(d=u[1],u=u[0]),o[u]=a,r&&(r[u]=d)}return o}function Ws(t){return we(()=>{const r=To(t);return co(r),r})}function Li(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function jn(t){return t[nn]||null}function Pr(t){return t[Zn]||null}function Hr(t){return t[xn]||null}function qi(t){const r=jn(t)||Pr(t)||Hr(t);return null!==r&&r.standalone}function ni(t,r){const o=t[Xn]||null;if(!o&&!0===r)throw new Error(`Type ${Ee(t)} does not have '\u0275mod' property.`);return o}function To(t){const r={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputTransforms:null,inputConfig:t.inputs||St,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||dt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ys(t.inputs,r),outputs:ys(t.outputs)}}function co(t){t.features?.forEach(r=>r(t))}function ss(t,r){if(!t)return null;const o=r?Hr:uo;return()=>("function"==typeof t?t():t).map(a=>o(a)).filter(sa)}const Cr=0,Ft=1,wn=2,Gn=3,mi=4,as=5,Fr=6,ci=7,br=8,ls=9,vs=10,fn=11,gi=12,us=13,Ci=14,lr=15,_i=16,Ki=17,bi=18,cr=19,Is=20,Di=21,jr=22,qs=23,Rs=24,$n=25,oa=1,ko=2,Zr=7,ps=9,rr=11;function Qr(t){return Array.isArray(t)&&"object"==typeof t[oa]}function gr(t){return Array.isArray(t)&&!0===t[oa]}function Fo(t){return 0!=(4&t.flags)}function ds(t){return t.componentOffset>-1}function ws(t){return 1==(1&t.flags)}function hs(t){return!!t.template}function Ks(t){return 0!=(512&t[wn])}function Qi(t,r){return t.hasOwnProperty(Or)?t[Or]:null}let yi=null,Do=!1;function Yi(t){const r=yi;return yi=t,r}const Go={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Wo(t){if(!bs(t)||t.dirty){if(!t.producerMustRecompute(t)&&!ba(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function Cs(t){t.dirty=!0,function Ns(t){if(void 0===t.liveConsumerNode)return;const r=Do;Do=!0;try{for(const o of t.liveConsumerNode)o.dirty||Cs(o)}finally{Do=r}}(t),t.consumerMarkedDirty?.(t)}function Ys(t){return t&&(t.nextProducerIndex=0),Yi(t)}function ja(t,r){if(Yi(r),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(bs(t))for(let o=t.nextProducerIndex;o<t.producerNode.length;o++)ua(t.producerNode[o],t.producerIndexOfThis[o]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function ba(t){Js(t);for(let r=0;r<t.producerNode.length;r++){const o=t.producerNode[r],a=t.producerLastReadVersion[r];if(a!==o.version||(Wo(o),a!==o.version))return!0}return!1}function la(t){if(Js(t),bs(t))for(let r=0;r<t.producerNode.length;r++)ua(t.producerNode[r],t.producerIndexOfThis[r]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function ua(t,r){if(function Ko(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Js(t),1===t.liveConsumerNode.length)for(let a=0;a<t.producerNode.length;a++)ua(t.producerNode[a],t.producerIndexOfThis[a]);const o=t.liveConsumerNode.length-1;if(t.liveConsumerNode[r]=t.liveConsumerNode[o],t.liveConsumerIndexOfThis[r]=t.liveConsumerIndexOfThis[o],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,r<t.liveConsumerNode.length){const a=t.liveConsumerIndexOfThis[r],u=t.liveConsumerNode[r];Js(u),u.producerIndexOfThis[a]=r}}function bs(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Js(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let Z=null;function Be(t){const r=Yi(null);try{return t()}finally{Yi(r)}}const pt=()=>{},jt=(()=>({...Go,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:pt}))();class _n{constructor(r,o,a){this.previousValue=r,this.currentValue=o,this.firstChange=a}isFirstChange(){return this.firstChange}}function sn(){return On}function On(t){return t.type.prototype.ngOnChanges&&(t.setInput=Dn),dn}function dn(){const t=Dr(this),r=t?.current;if(r){const o=t.previous;if(o===St)t.previous=r;else for(let a in r)o[a]=r[a];t.current=null,this.ngOnChanges(r)}}function Dn(t,r,o,a){const u=this.declaredInputs[o],d=Dr(t)||function vi(t,r){return t[$r]=r}(t,{previous:St,current:null}),g=d.current||(d.current={}),w=d.previous,S=w[u];g[u]=new _n(S&&S.currentValue,r,w===St),t[a]=r}sn.ngInherit=!0;const $r="__ngSimpleChanges__";function Dr(t){return t[$r]||null}const Yr=function(t,r,o){},fs="svg";function Rr(t){for(;Array.isArray(t);)t=t[Cr];return t}function Yt(t,r){return Rr(r[t])}function Zt(t,r){return Rr(r[t.index])}function ir(t,r){return t.data[r]}function hr(t,r){const o=r[t];return Qr(o)?o:o[Cr]}function Ii(t,r){return null==r?null:t[r]}function Xs(t){t[Ki]=0}function ai(t){1024&t[wn]||(t[wn]|=1024,mt(t,1))}function Uo(t){1024&t[wn]&&(t[wn]&=-1025,mt(t,-1))}function mt(t,r){let o=t[Gn];if(null===o)return;o[as]+=r;let a=o;for(o=o[Gn];null!==o&&(1===r&&1===a[as]||-1===r&&0===a[as]);)o[as]+=r,a=o,o=o[Gn]}const An={lFrame:ne(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function _t(){return An.bindingsEnabled}function di(){return null!==An.skipHydrationRootTNode}function vt(){return An.lFrame.lView}function ur(){return An.lFrame.tView}function za(t){return An.lFrame.contextLView=t,t[br]}function Eh(t){return An.lFrame.contextLView=null,t}function fr(){let t=_c();for(;null!==t&&64===t.type;)t=t.parent;return t}function _c(){return An.lFrame.currentTNode}function ks(t,r){const o=An.lFrame;o.currentTNode=t,o.isParent=r}function Aa(){return An.lFrame.isParent}function Xr(){An.lFrame.isParent=!1}function Ji(){const t=An.lFrame;let r=t.bindingRootIndex;return-1===r&&(r=t.bindingRootIndex=t.tView.bindingStartIndex),r}function Fs(){return An.lFrame.bindingIndex++}function po(t){const r=An.lFrame,o=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,o}function ca(t,r){const o=An.lFrame;o.bindingIndex=o.bindingRootIndex=t,Jo(r)}function Jo(t){An.lFrame.currentDirectiveIndex=t}function vc(){return An.lFrame.currentQueryIndex}function T(t){An.lFrame.currentQueryIndex=t}function P(t){const r=t[Ft];return 2===r.type?r.declTNode:1===r.type?t[Fr]:null}function v(t,r,o){if(o&Xt.SkipSelf){let u=r,d=t;for(;!(u=u.parent,null!==u||o&Xt.Host||(u=P(d),null===u||(d=d[Ci],10&u.type))););if(null===u)return!1;r=u,t=d}const a=An.lFrame=B();return a.currentTNode=r,a.lView=t,!0}function R(t){const r=B(),o=t[Ft];An.lFrame=r,r.currentTNode=o.firstChild,r.lView=t,r.tView=o,r.contextLView=t,r.bindingIndex=o.bindingStartIndex,r.inI18n=!1}function B(){const t=An.lFrame,r=null===t?null:t.child;return null===r?ne(t):r}function ne(t){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function Y(){const t=An.lFrame;return An.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const nt=Y;function qe(){const t=Y();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Vn(){return An.lFrame.selectedIndex}function Qn(t){An.lFrame.selectedIndex=t}function ar(){const t=An.lFrame;return ir(t.tView,t.selectedIndex)}function Sa(){An.lFrame.currentNamespace=fs}let Hl=!0;function Ga(){return Hl}function Xo(t){Hl=t}function jl(t,r){for(let o=r.directiveStart,a=r.directiveEnd;o<a;o++){const d=t.data[o].type.prototype,{ngAfterContentInit:g,ngAfterContentChecked:w,ngAfterViewInit:S,ngAfterViewChecked:H,ngOnDestroy:te}=d;g&&(t.contentHooks??=[]).push(-o,g),w&&((t.contentHooks??=[]).push(o,w),(t.contentCheckHooks??=[]).push(o,w)),S&&(t.viewHooks??=[]).push(-o,S),H&&((t.viewHooks??=[]).push(o,H),(t.viewCheckHooks??=[]).push(o,H)),null!=te&&(t.destroyHooks??=[]).push(o,te)}}function Mu(t,r,o){dl(t,r,3,o)}function eo(t,r,o,a){(3&t[wn])===o&&dl(t,r,o,a)}function Ic(t,r){let o=t[wn];(3&o)===r&&(o&=8191,o+=1,t[wn]=o)}function dl(t,r,o,a){const d=a??-1,g=r.length-1;let w=0;for(let S=void 0!==a?65535&t[Ki]:0;S<g;S++)if("number"==typeof r[S+1]){if(w=r[S],null!=a&&w>=a)break}else r[S]<0&&(t[Ki]+=65536),(w<d||-1==d)&&(Cd(t,o,r,S),t[Ki]=(4294901760&t[Ki])+S+2),S++}function $l(t,r){Yr(4,t,r);const o=Yi(null);try{r.call(t)}finally{Yi(o),Yr(5,t,r)}}function Cd(t,r,o,a){const u=o[a]<0,d=o[a+1],w=t[u?-o[a]:o[a]];u?t[wn]>>13<t[Ki]>>16&&(3&t[wn])===r&&(t[wn]+=8192,$l(w,d)):$l(w,d)}const zl=-1;class hl{constructor(r,o,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=a}}function bd(t){return t!==zl}function Ou(t){return 32767&t}function Nu(t,r){let o=function Dd(t){return t>>16}(t),a=r;for(;o>0;)a=a[Ci],o--;return a}let Wl=!0;function Ec(t){const r=Wl;return Wl=t,r}const Lu=255,Ch=5;let fl=0;const ri={};function So(t,r){const o=zr(t,r);if(-1!==o)return o;const a=r[Ft];a.firstCreatePass&&(t.injectorIndex=r.length,ql(a.data,t),ql(r,null),ql(a.blueprint,null));const u=pl(t,r),d=t.injectorIndex;if(bd(u)){const g=Ou(u),w=Nu(u,r),S=w[Ft].data;for(let H=0;H<8;H++)r[d+H]=w[g+H]|S[g+H]}return r[d+8]=u,d}function ql(t,r){t.push(0,0,0,0,0,0,0,0,r)}function zr(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function pl(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let o=0,a=null,u=r;for(;null!==u;){if(a=ha(u),null===a)return zl;if(o++,u=u[Ci],-1!==a.injectorIndex)return a.injectorIndex|o<<16}return zl}function Xi(t,r,o){!function bh(t,r,o){let a;"string"==typeof o?a=o.charCodeAt(0)||0:o.hasOwnProperty(ti)&&(a=o[ti]),null==a&&(a=o[ti]=fl++);const u=a&Lu;r.data[t+(u>>Ch)]|=1<<u}(t,r,o)}function Tc(t,r,o){if(o&Xt.Optional||void 0!==t)return t;at()}function ml(t,r,o,a){if(o&Xt.Optional&&void 0===a&&(a=null),!(o&(Xt.Self|Xt.Host))){const u=t[ls],d=Kn(void 0);try{return u?u.get(r,a,o&Xt.Optional):Tr(r,a,o&Xt.Optional)}finally{Kn(d)}}return Tc(a,0,o)}function to(t,r,o,a=Xt.Default,u){if(null!==t){if(2048&r[wn]&&!(a&Xt.Self)){const g=function wc(t,r,o,a,u){let d=t,g=r;for(;null!==d&&null!==g&&2048&g[wn]&&!(512&g[wn]);){const w=ku(d,g,o,a|Xt.Self,ri);if(w!==ri)return w;let S=d.parent;if(!S){const H=g[Is];if(H){const te=H.get(o,ri,a);if(te!==ri)return te}S=ha(g),g=g[Ci]}d=S}return u}(t,r,o,a,ri);if(g!==ri)return g}const d=ku(t,r,o,a,ri);if(d!==ri)return d}return ml(r,o,a,u)}function ku(t,r,o,a,u){const d=function Wa(t){if("string"==typeof t)return t.charCodeAt(0)||0;const r=t.hasOwnProperty(ti)?t[ti]:void 0;return"number"==typeof r?r>=0?r&Lu:Sd:r}(o);if("function"==typeof d){if(!v(r,t,a))return a&Xt.Host?Tc(u,0,a):ml(r,o,a,u);try{let g;if(g=d(a),null!=g||a&Xt.Optional)return g;at()}finally{nt()}}else if("number"==typeof d){let g=null,w=zr(t,r),S=zl,H=a&Xt.Host?r[lr][Fr]:null;for((-1===w||a&Xt.SkipSelf)&&(S=-1===w?pl(t,r):r[w+8],S!==zl&&Bo(a,!1)?(g=r[Ft],w=Ou(S),r=Nu(S,r)):w=-1);-1!==w;){const te=r[Ft];if(Pi(d,w,te.data)){const _e=Mp(w,r,o,g,a,H);if(_e!==ri)return _e}S=r[w+8],S!==zl&&Bo(a,r[Ft].data[w+8]===H)&&Pi(d,w,r)?(g=te,w=Ou(S),r=Nu(S,r)):w=-1}}return u}function Mp(t,r,o,a,u,d){const g=r[Ft],w=g.data[t+8],te=Bi(w,g,o,null==a?ds(w)&&Wl:a!=g&&0!=(3&w.type),u&Xt.Host&&d===w);return null!==te?Ma(r,g,te,w):ri}function Bi(t,r,o,a,u){const d=t.providerIndexes,g=r.data,w=1048575&d,S=t.directiveStart,te=d>>20,Ve=u?w+te:t.directiveEnd;for(let Ke=a?w:w+te;Ke<Ve;Ke++){const ft=g[Ke];if(Ke<S&&o===ft||Ke>=S&&ft.type===o)return Ke}if(u){const Ke=g[S];if(Ke&&hs(Ke)&&Ke.type===o)return S}return null}function Ma(t,r,o,a){let u=t[o];const d=r.data;if(function Ap(t){return t instanceof hl}(u)){const g=u;g.resolving&&function Ce(t,r){const o=r?`. Dependency path: ${r.join(" > ")} > ${t}`:"";throw new ae(-200,`Circular dependency in DI detected for ${t}${o}`)}(function ge(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():me(t)}(d[o]));const w=Ec(g.canSeeViewProviders);g.resolving=!0;const H=g.injectImpl?Kn(g.injectImpl):null;v(t,a,Xt.Default);try{u=t[o]=g.factory(void 0,d,t,a),r.firstCreatePass&&o>=a.directiveStart&&function Us(t,r,o){const{ngOnChanges:a,ngOnInit:u,ngDoCheck:d}=r.type.prototype;if(a){const g=On(r);(o.preOrderHooks??=[]).push(t,g),(o.preOrderCheckHooks??=[]).push(t,g)}u&&(o.preOrderHooks??=[]).push(0-t,u),d&&((o.preOrderHooks??=[]).push(t,d),(o.preOrderCheckHooks??=[]).push(t,d))}(o,d[o],r)}finally{null!==H&&Kn(H),Ec(w),g.resolving=!1,nt()}}return u}function Pi(t,r,o){return!!(o[r+(t>>Ch)]&1<<t)}function Bo(t,r){return!(t&Xt.Self||t&Xt.Host&&r)}class $i{constructor(r,o){this._tNode=r,this._lView=o}get(r,o,a){return to(this._tNode,this._lView,r,Kt(a),o)}}function Sd(){return new $i(fr(),vt())}function da(t){return we(()=>{const r=t.prototype.constructor,o=r[Or]||Ho(r),a=Object.prototype;let u=Object.getPrototypeOf(t.prototype).constructor;for(;u&&u!==a;){const d=u[Or]||Ho(u);if(d&&d!==o)return d;u=Object.getPrototypeOf(u)}return d=>new d})}function Ho(t){return rt(t)?()=>{const r=Ho(tt(t));return r&&r()}:Qi(t)}function ha(t){const r=t[Ft],o=r.type;return 2===o?r.declTNode:1===o?t[Fr]:null}function Po(t){return function Gr(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;const o=t.attrs;if(o){const a=o.length;let u=0;for(;u<a;){const d=o[u];if(Hs(d))break;if(0===d)u+=2;else if("number"==typeof d)for(u++;u<a&&"string"==typeof o[u];)u++;else{if(d===r)return o[u+1];u+=2}}}return null}(fr(),t)}const Ro="__parameters__";function Oa(t,r,o){return we(()=>{const a=function Fu(t){return function(...o){if(t){const a=t(...o);for(const u in a)this[u]=a[u]}}}(r);function u(...d){if(this instanceof u)return a.apply(this,d),this;const g=new u(...d);return w.annotation=g,w;function w(S,H,te){const _e=S.hasOwnProperty(Ro)?S[Ro]:Object.defineProperty(S,Ro,{value:[]})[Ro];for(;_e.length<=te;)_e.push(null);return(_e[te]=_e[te]||[]).push(g),S}}return o&&(u.prototype=Object.create(o.prototype)),u.prototype.ngMetadataName=t,u.annotationCls=u,u})}function _l(t,r){t.forEach(o=>Array.isArray(o)?_l(o,r):r(o))}function Rd(t,r,o){r>=t.length?t.push(o):t.splice(r,0,o)}function Za(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function Uu(t,r){const o=[];for(let a=0;a<t;a++)o.push(r);return o}function no(t,r,o){let a=yl(t,r);return a>=0?t[1|a]=o:(a=~a,function Wr(t,r,o,a){let u=t.length;if(u==r)t.push(o,a);else if(1===u)t.push(a,t[0]),t[0]=o;else{for(u--,t.push(t[u-1],t[u]);u>r;)t[u]=t[u-2],u--;t[r]=o,t[r+1]=a}}(t,a,r,o)),a}function Hu(t,r){const o=yl(t,r);if(o>=0)return t[1|o]}function yl(t,r){return function ju(t,r,o){let a=0,u=t.length>>o;for(;u!==a;){const d=a+(u-a>>1),g=t[d<<o];if(r===g)return d<<o;g>r?u=d:a=d+1}return~(u<<o)}(t,r,1)}const $u=De(Oa("Optional"),8),vl=De(Oa("SkipSelf"),4);function Tl(t){return 128==(128&t.flags)}var Fd=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Fd||{});const Wu=/^>|^->|<!--|-->|--!>|<!-$/g,u_=/(<|>)/g,xc="\u200b$1\u200b";const kh=new Map;let Vd=0;const $p="__ngContext__";function oo(t,r){Qr(r)?(t[$p]=r[cr],function vv(t){kh.set(t[cr],t)}(r)):t[$p]=r}let Kp;function ts(t,r){return Kp(t,r)}function Lc(t){const r=t[Gn];return gr(r)?r[Gn]:r}function Zp(t){return Qp(t[gi])}function h_(t){return Qp(t[mi])}function Qp(t){for(;null!==t&&!gr(t);)t=t[mi];return t}function qu(t,r,o,a,u){if(null!=a){let d,g=!1;gr(a)?d=a:Qr(a)&&(g=!0,a=a[Cr]);const w=Rr(a);0===t&&null!==o?null==u?ns(r,o,w):Zu(r,o,w,u||null,!0):1===t&&null!==o?Zu(r,o,w,u||null,!0):2===t?function Vc(t,r,o){const a=iu(t,r);a&&function nm(t,r,o,a){t.removeChild(r,o,a)}(t,a,r,o)}(r,w,g):3===t&&r.destroyNode(w),null!=d&&function E_(t,r,o,a,u){const d=o[Zr];d!==Rr(o)&&qu(r,t,a,d,u);for(let w=rr;w<o.length;w++){const S=o[w];Yu(S[Ft],S,t,r,a,d)}}(r,t,d,o,u)}}function Ku(t,r){return t.createComment(function Hp(t){return t.replace(Wu,r=>r.replace(u_,xc))}(r))}function nu(t,r,o){return t.createElement(r,o)}function Yp(t,r){const o=t[ps],a=o.indexOf(r);Uo(r),o.splice(a,1)}function $h(t,r){if(t.length<=rr)return;const o=rr+r,a=t[o];if(a){const u=a[_i];null!==u&&u!==t&&Yp(u,a),r>0&&(t[o-1][mi]=a[mi]);const d=Za(t,rr+r);!function jh(t,r){Yu(t,r,r[fn],2,null,null),r[Cr]=null,r[Fr]=null}(a[Ft],a);const g=d[bi];null!==g&&g.detachView(d[Ft]),a[Gn]=null,a[mi]=null,a[wn]&=-129}return a}function Jp(t,r){if(!(256&r[wn])){const o=r[fn];r[qs]&&la(r[qs]),r[Rs]&&la(r[Rs]),o.destroyNode&&Yu(t,r,o,3,null,null),function m_(t){let r=t[gi];if(!r)return Xp(t[Ft],t);for(;r;){let o=null;if(Qr(r))o=r[gi];else{const a=r[rr];a&&(o=a)}if(!o){for(;r&&!r[mi]&&r!==t;)Qr(r)&&Xp(r[Ft],r),r=r[Gn];null===r&&(r=t),Qr(r)&&Xp(r[Ft],r),o=r&&r[mi]}r=o}}(r)}}function Xp(t,r){if(!(256&r[wn])){r[wn]&=-129,r[wn]|=256,function em(t,r){let o;if(null!=t&&null!=(o=t.destroyHooks))for(let a=0;a<o.length;a+=2){const u=r[o[a]];if(!(u instanceof hl)){const d=o[a+1];if(Array.isArray(d))for(let g=0;g<d.length;g+=2){const w=u[d[g]],S=d[g+1];Yr(4,w,S);try{S.call(w)}finally{Yr(5,w,S)}}else{Yr(4,u,d);try{d.call(u)}finally{Yr(5,u,d)}}}}}(t,r),function Tv(t,r){const o=t.cleanup,a=r[ci];if(null!==o)for(let d=0;d<o.length-1;d+=2)if("string"==typeof o[d]){const g=o[d+3];g>=0?a[g]():a[-g].unsubscribe(),d+=2}else o[d].call(a[o[d+1]]);null!==a&&(r[ci]=null);const u=r[Di];if(null!==u){r[Di]=null;for(let d=0;d<u.length;d++)(0,u[d])()}}(t,r),1===r[Ft].type&&r[fn].destroy();const o=r[_i];if(null!==o&&gr(r[Gn])){o!==r[Gn]&&Yp(o,r);const a=r[bi];null!==a&&a.detachView(t)}!function Fh(t){kh.delete(t[cr])}(r)}}function ru(t,r,o){return function tm(t,r,o){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return o[Cr];{const{componentOffset:u}=a;if(u>-1){const{encapsulation:d}=t.data[a.directiveStart+u];if(d===et.None||d===et.Emulated)return null}return Zt(a,o)}}(t,r.parent,o)}function Zu(t,r,o,a,u){t.insertBefore(r,o,a,u)}function ns(t,r,o){t.appendChild(r,o)}function zh(t,r,o,a,u){null!==a?Zu(t,r,o,a,u):ns(t,r,o)}function iu(t,r){return t.parentNode(r)}function rm(t,r,o){return Gh(t,r,o)}let Wh,Zh,tl,Gh=function im(t,r,o){return 40&t.type?Zt(t,o):null};function Ud(t,r,o,a){const u=ru(t,a,r),d=r[fn],w=rm(a.parent||r[Fr],a,r);if(null!=u)if(Array.isArray(o))for(let S=0;S<o.length;S++)zh(d,u,o[S],w,!1);else zh(d,u,o,w,!1);void 0!==Wh&&Wh(d,a,r,o,u)}function Bd(t,r){if(null!==r){const o=r.type;if(3&o)return Zt(r,t);if(4&o)return Qu(-1,t[r.index]);if(8&o){const a=r.child;if(null!==a)return Bd(t,a);{const u=t[r.index];return gr(u)?Qu(-1,u):Rr(u)}}if(32&o)return ts(r,t)()||Rr(t[r.index]);{const a=__(t,r);return null!==a?Array.isArray(a)?a[0]:Bd(Lc(t[lr]),a):Bd(t,r.next)}}return null}function __(t,r){return null!==r?t[lr][Fr].projection[r.projection]:null}function Qu(t,r){const o=rr+t+1;if(o<r.length){const a=r[o],u=a[Ft].firstChild;if(null!==u)return Bd(a,u)}return r[Zr]}function qh(t,r,o,a,u,d,g){for(;null!=o;){const w=a[o.index],S=o.type;if(g&&0===r&&(w&&oo(Rr(w),a),o.flags|=2),32!=(32&o.flags))if(8&S)qh(t,r,o.child,a,u,d,!1),qu(r,t,u,w,d);else if(32&S){const H=ts(o,a);let te;for(;te=H();)qu(r,t,u,te,d);qu(r,t,u,w,d)}else 16&S?I_(t,r,a,o,u,d):qu(r,t,u,w,d);o=g?o.projectionNext:o.next}}function Yu(t,r,o,a,u,d){qh(o,a,t.firstChild,r,u,d,!1)}function I_(t,r,o,a,u,d){const g=o[lr],S=g[Fr].projection[a.projection];if(Array.isArray(S))for(let H=0;H<S.length;H++)qu(r,t,u,S[H],d);else{let H=S;const te=g[Gn];Tl(a)&&(H.flags|=128),qh(t,r,H,te,u,d,!0)}}function T_(t,r,o){""===o?t.removeAttribute(r,"class"):t.setAttribute(r,"class",o)}function wl(t,r,o){const{mergedAttrs:a,classes:u,styles:d}=o;null!==a&&Kr(t,r,a),null!==u&&T_(t,r,u),null!==d&&function bv(t,r,o){t.setAttribute(r,"style",o)}(t,r,d)}function Qh(t){Zh=t}function Yh(t){return function Dl(){if(void 0===tl&&(tl=null,Dt.trustedTypes))try{tl=Dt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return tl}()?.createScriptURL(t)||t}class Jh{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ut})`}}function La(t){return t instanceof Jh?t.changingThisBreaksApplicationSecurity:t}function Al(t,r){const o=function Ju(t){return t instanceof Jh&&t.getTypeName()||null}(t);if(null!=o&&o!==r){if("ResourceURL"===o&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${o} (see ${ut})`)}return o===r}const P_=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var tc=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(tc||{});function rf(t){const r=$d();return r?r.sanitize(tc.URL,t)||"":Al(t,"URL")?La(t):function Xh(t){return(t=String(t)).match(P_)?t:"unsafe:"+t}(me(t))}function au(t){const r=$d();if(r)return Yh(r.sanitize(tc.RESOURCE_URL,t)||"");if(Al(t,"ResourceURL"))return Yh(La(t));throw new ae(904,!1)}function fm(t,r,o){return function lu(t,r){return"src"===r&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===r&&("base"===t||"link"===t)?au:rf}(r,o)(t)}function $d(){const t=vt();return t&&t[vs].sanitizer}const qc=new Qe("ENVIRONMENT_INITIALIZER"),N_=new Qe("INJECTOR",-1),zd=new Qe("INJECTOR_DEF_TYPES");class sf{get(r,o=Ar){if(o===Ar){const a=new Error(`NullInjectorError: No provider for ${Ee(r)}!`);throw a.name="NullInjectorError",a}return o}}function pm(t){return{\u0275providers:t}}function L_(...t){return{\u0275providers:k_(0,t),\u0275fromNgModule:!0}}function k_(t,...r){const o=[],a=new Set;let u;const d=g=>{o.push(g)};return _l(r,g=>{const w=g;nl(w,d,[],a)&&(u||=[],u.push(w))}),void 0!==u&&mm(u,d),o}function mm(t,r){for(let o=0;o<t.length;o++){const{ngModule:a,providers:u}=t[o];lf(u,d=>{r(d,a)})}}function nl(t,r,o,a){if(!(t=tt(t)))return!1;let u=null,d=Er(t);const g=!d&&jn(t);if(d||g){if(g&&!g.standalone)return!1;u=t}else{const S=t.ngModule;if(d=Er(S),!d)return!1;u=S}const w=a.has(u);if(g){if(w)return!1;if(a.add(u),g.dependencies){const S="function"==typeof g.dependencies?g.dependencies():g.dependencies;for(const H of S)nl(H,r,o,a)}}else{if(!d)return!1;{if(null!=d.imports&&!w){let H;a.add(u);try{_l(d.imports,te=>{nl(te,r,o,a)&&(H||=[],H.push(te))})}finally{}void 0!==H&&mm(H,r)}if(!w){const H=Qi(u)||(()=>new u);r({provide:u,useFactory:H,deps:dt},u),r({provide:zd,useValue:u,multi:!0},u),r({provide:qc,useValue:()=>Tt(u),multi:!0},u)}const S=d.providers;if(null!=S&&!w){const H=t;lf(S,te=>{r(te,H)})}}}return u!==t&&void 0!==t.providers}function lf(t,r){for(let o of t)st(o)&&(o=o.\u0275providers),Array.isArray(o)?lf(o,r):r(o)}const F_=X({provide:String,useValue:X});function gm(t){return null!==t&&"object"==typeof t&&F_ in t}function nc(t){return"function"==typeof t}const gs=new Qe("Set Injector scope."),uf={},Ov={};let vm;function cf(){return void 0===vm&&(vm=new sf),vm}class ma{}class Kc extends ma{get destroyed(){return this._destroyed}constructor(r,o,a,u){super(),this.parent=o,this.source=a,this.scopes=u,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Wd(r,g=>this.processProvider(g)),this.records.set(N_,uu(void 0,this)),u.has("environment")&&this.records.set(ma,uu(void 0,this));const d=this.records.get(gs);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(zd.multi,dt,Xt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of r)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(r){return this.assertNotDestroyed(),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r)}runInContext(r){this.assertNotDestroyed();const o=Le(this),a=Kn(void 0);try{return r()}finally{Le(o),Kn(a)}}get(r,o=Ar,a=Xt.Default){if(this.assertNotDestroyed(),r.hasOwnProperty(nr))return r[nr](this);a=Kt(a);const d=Le(this),g=Kn(void 0);try{if(!(a&Xt.SkipSelf)){let S=this.records.get(r);if(void 0===S){const H=function hf(t){return"function"==typeof t||"object"==typeof t&&t instanceof Qe}(r)&&Pn(r);S=H&&this.injectableDefInScope(H)?uu(Zc(r),uf):null,this.records.set(r,S)}if(null!=S)return this.hydrate(r,S)}return(a&Xt.Self?cf():this.parent).get(r,o=a&Xt.Optional&&o===Ar?null:o)}catch(w){if("NullInjectorError"===w.name){if((w[kr]=w[kr]||[]).unshift(Ee(r)),d)throw w;return function xe(t,r,o,a){const u=t[kr];throw r[N]&&u.unshift(r[N]),t.message=function Ie(t,r,o,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let u=Ee(r);if(Array.isArray(r))u=r.map(Ee).join(" -> ");else if("object"==typeof r){let d=[];for(let g in r)if(r.hasOwnProperty(g)){let w=r[g];d.push(g+":"+("string"==typeof w?JSON.stringify(w):Ee(w)))}u=`{${d.join(", ")}}`}return`${o}${a?"("+a+")":""}[${u}]: ${t.replace(re,"\n  ")}`}("\n"+t.message,u,o,a),t.ngTokenPath=u,t[kr]=null,t}(w,r,"R3InjectorError",this.source)}throw w}finally{Kn(g),Le(d)}}resolveInjectorInitializers(){const r=Le(this),o=Kn(void 0);try{const u=this.get(qc.multi,dt,Xt.Self);for(const d of u)d()}finally{Le(r),Kn(o)}}toString(){const r=[],o=this.records;for(const a of o.keys())r.push(Ee(a));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ae(205,!1)}processProvider(r){let o=nc(r=tt(r))?r:tt(r&&r.provide);const a=function Nv(t){return gm(t)?uu(void 0,t.useValue):uu(Im(t),uf)}(r);if(nc(r)||!0!==r.multi)this.records.get(o);else{let u=this.records.get(o);u||(u=uu(void 0,uf,!0),u.factory=()=>bn(u.multi),this.records.set(o,u)),o=r,u.multi.push(r)}this.records.set(o,a)}hydrate(r,o){return o.value===uf&&(o.value=Ov,o.value=o.factory()),"object"==typeof o.value&&o.value&&function Gd(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(r){if(!r.providedIn)return!1;const o=tt(r.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}removeOnDestroy(r){const o=this._onDestroyHooks.indexOf(r);-1!==o&&this._onDestroyHooks.splice(o,1)}}function Zc(t){const r=Pn(t),o=null!==r?r.factory:Qi(t);if(null!==o)return o;if(t instanceof Qe)throw new ae(204,!1);if(t instanceof Function)return function df(t){const r=t.length;if(r>0)throw Uu(r,"?"),new ae(204,!1);const o=function Rn(t){return t&&(t[Mn]||t[Nr])||null}(t);return null!==o?()=>o.factory(t):()=>new t}(t);throw new ae(204,!1)}function Im(t,r,o){let a;if(nc(t)){const u=tt(t);return Qi(u)||Zc(u)}if(gm(t))a=()=>tt(t.useValue);else if(function V_(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...bn(t.deps||[]));else if(function _m(t){return!(!t||!t.useExisting)}(t))a=()=>Tt(tt(t.useExisting));else{const u=tt(t&&(t.useClass||t.provide));if(!function Em(t){return!!t.deps}(t))return Qi(u)||Zc(u);a=()=>new u(...bn(t.deps))}return a}function uu(t,r,o=!1){return{factory:t,value:r,multi:o?[]:void 0}}function Wd(t,r){for(const o of t)Array.isArray(o)?Wd(o,r):o&&st(o)?Wd(o.\u0275providers,r):r(o)}const ff=new Qe("AppId",{providedIn:"root",factory:()=>Lv}),Lv="ng",Tm=new Qe("Platform Initializer"),wm=new Qe("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),U_=new Qe("AnimationModuleType"),Cm=new Qe("CSP nonce",{providedIn:"root",factory:()=>function pa(){if(void 0!==Zh)return Zh;if(typeof document<"u")return document;throw new ae(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let ed=(t,r,o)=>null;function Qd(t,r,o=!1){return ed(t,r,o)}class If{}class nd{}class zv{resolveComponentFactory(r){throw function Pm(t){const r=Error(`No component factory found for ${Ee(t)}.`);return r.ngComponent=t,r}(r)}}let Ef=(()=>{class t{static#e=this.NULL=new zv}return t})();function Gv(){return fu(fr(),vt())}function fu(t,r){return new Jd(Zt(t,r))}let Jd=(()=>{class t{constructor(o){this.nativeElement=o}static#e=this.__NG_ELEMENT_ID__=Gv}return t})();function Wv(t){return t instanceof Jd?t.nativeElement:t}class rd{}let Mm=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function id(){const t=vt(),o=hr(fr().index,t);return(Qr(o)?o:t)[fn]}()}return t})(),xm=(()=>{class t{static#e=this.\u0275prov=an({token:t,providedIn:"root",factory:()=>null})}return t})();class Xd{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const sd=new Xd("16.2.12"),eh={};function nh(t,r=null,o=null,a){const u=wf(t,r,o,a);return u.resolveInjectorInitializers(),u}function wf(t,r=null,o=null,a,u=new Set){const d=[o||dt,L_(t)];return a=a||("object"==typeof t?void 0:Ee(t)),new Kc(d,r||cf(),a||null,u)}let ga=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=Ar;static#t=this.NULL=new sf;static create(o,a){if(Array.isArray(o))return nh({name:""},a,o,"");{const u=o.name??"";return nh({name:u},o.parent,o.providers,u)}}static#n=this.\u0275prov=an({token:t,providedIn:"any",factory:()=>Tt(N_)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function Lm(t){return t.ngOriginalError}class mu{constructor(){this._console=console}handleError(r){const o=this._findOriginalError(r);this._console.error("ERROR",r),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(r){let o=r&&Lm(r);for(;o&&Lm(o);)o=Lm(o);return o||null}}function Fm(t){return r=>{setTimeout(t,void 0,r)}}const _a=class km extends p.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,o,a){let u=r,d=o||(()=>null),g=a;if(r&&"object"==typeof r){const S=r;u=S.next?.bind(S),d=S.error?.bind(S),g=S.complete?.bind(S)}this.__isAsync&&(d=Fm(d),u&&(u=Fm(u)),g&&(g=Fm(g)));const w=super.subscribe({next:u,error:d,complete:g});return r instanceof V.w0&&r.add(w),w}};function q_(...t){}class _s{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new _a(!1),this.onMicrotaskEmpty=new _a(!1),this.onStable=new _a(!1),this.onError=new _a(!1),typeof Zone>"u")throw new ae(908,!1);Zone.assertZonePatched();const u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!a&&o,u.shouldCoalesceRunChangeDetection=a,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function Vm(){const t="function"==typeof Dt.requestAnimationFrame;let r=Dt[t?"requestAnimationFrame":"setTimeout"],o=Dt[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&r&&o){const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a);const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function Bm(t){const r=()=>{!function Um(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Dt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,gu(t),t.isCheckStableRunning=!0,rh(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),gu(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,a,u,d,g,w)=>{if(function ad(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(w))return o.invokeTask(u,d,g,w);try{return Pl(t),o.invokeTask(u,d,g,w)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||t.shouldCoalesceRunChangeDetection)&&r(),bf(t)}},onInvoke:(o,a,u,d,g,w,S)=>{try{return Pl(t),o.invoke(u,d,g,w,S)}finally{t.shouldCoalesceRunChangeDetection&&r(),bf(t)}},onHasTask:(o,a,u,d)=>{o.hasTask(u,d),a===u&&("microTask"==d.change?(t._hasPendingMicrotasks=d.microTask,gu(t),rh(t)):"macroTask"==d.change&&(t.hasPendingMacrotasks=d.macroTask))},onHandleError:(o,a,u,d)=>(o.handleError(u,d),t.runOutsideAngular(()=>t.onError.emit(d)),!1)})}(u)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!_s.isInAngularZone())throw new ae(909,!1)}static assertNotInAngularZone(){if(_s.isInAngularZone())throw new ae(909,!1)}run(r,o,a){return this._inner.run(r,o,a)}runTask(r,o,a,u){const d=this._inner,g=d.scheduleEventTask("NgZoneEvent: "+u,r,K_,q_,q_);try{return d.runTask(g,o,a)}finally{d.cancelTask(g)}}runGuarded(r,o,a){return this._inner.runGuarded(r,o,a)}runOutsideAngular(r){return this._outer.run(r)}}const K_={};function rh(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function gu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Pl(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function bf(t){t._nesting--,rh(t)}class od{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new _a,this.onMicrotaskEmpty=new _a,this.onStable=new _a,this.onError=new _a}run(r,o,a){return r.apply(o,a)}runGuarded(r,o,a){return r.apply(o,a)}runOutsideAngular(r){return r()}runTask(r,o,a,u){return r.apply(o,a)}}const sc=new Qe("",{providedIn:"root",factory:Hm});function Hm(){const t=kt(_s);let r=!0;const o=new b.y(u=>{r=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{u.next(r),u.complete()})}),a=new b.y(u=>{let d;t.runOutsideAngular(()=>{d=t.onStable.subscribe(()=>{_s.assertNotInAngularZone(),queueMicrotask(()=>{!r&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(r=!0,u.next(!0))})})});const g=t.onUnstable.subscribe(()=>{_s.assertInAngularZone(),r&&(r=!1,t.runOutsideAngular(()=>{u.next(!1)}))});return()=>{d.unsubscribe(),g.unsubscribe()}});return(0,Te.T)(o,a.pipe((0,W.B)()))}function Z_(t){return t.ownerDocument}function ka(t){return t instanceof Function?t():t}let jm=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=an({token:t,providedIn:"root",factory:()=>new t})}return t})();function ld(t){for(;t;){t[wn]|=64;const r=Lc(t);if(Ks(t)&&!r)return t;t=r}return null}const zm=new Qe("",{providedIn:"root",factory:()=>!1});let ud=null;function Wm(t,r){return t[r]??xf()}function Mf(t,r){const o=xf();o.producerNode?.length&&(t[r]=ud,o.lView=t,ud=ry())}const ny={...Go,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{ld(t.lView)},lView:null};function ry(){return Object.create(ny)}function xf(){return ud??=ry(),ud}const Jn={};function Of(t){iy(ur(),vt(),Vn()+t,!1)}function iy(t,r,o,a){if(!a)if(3==(3&r[wn])){const d=t.preOrderCheckHooks;null!==d&&Mu(r,d,o)}else{const d=t.preOrderHooks;null!==d&&eo(r,d,0,o)}Qn(o)}function vu(t,r=Xt.Default){const o=vt();return null===o?Tt(t,r):to(fr(),o,tt(t),r)}function sy(){throw new Error("invalid")}function cd(t,r,o,a,u,d,g,w,S,H,te){const _e=r.blueprint.slice();return _e[Cr]=u,_e[wn]=140|a,(null!==H||t&&2048&t[wn])&&(_e[wn]|=2048),Xs(_e),_e[Gn]=_e[Ci]=t,_e[br]=o,_e[vs]=g||t&&t[vs],_e[fn]=w||t&&t[fn],_e[ls]=S||t&&t[ls]||null,_e[Fr]=d,_e[cr]=function yv(){return Vd++}(),_e[jr]=te,_e[Is]=H,_e[lr]=2==r.type?t[lr]:_e,_e}function Iu(t,r,o,a,u){let d=t.data[r];if(null===d)d=function Eu(t,r,o,a,u){const d=_c(),g=Aa(),S=t.data[r]=function Jm(t,r,o,a,u,d){let g=r?r.injectorIndex:-1,w=0;return di()&&(w|=128),{type:o,index:a,insertBeforeIndex:null,injectorIndex:g,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:w,providerIndexes:0,value:u,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?d:d&&d.parent,o,r,a,u);return null===t.firstChild&&(t.firstChild=S),null!==d&&(g?null==d.child&&null!==S.parent&&(d.child=S):null===d.next&&(d.next=S,S.prev=d)),S}(t,r,o,a,u),function Yo(){return An.lFrame.inI18n}()&&(d.flags|=32);else if(64&d.type){d.type=o,d.value=a,d.attrs=u;const g=function Cn(){const t=An.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}();d.injectorIndex=null===g?-1:g.injectorIndex}return ks(d,!0),d}function dd(t,r,o,a){if(0===o)return-1;const u=r.length;for(let d=0;d<o;d++)r.push(a),t.blueprint.push(a),t.data.push(null);return u}function Nf(t,r,o,a,u){const d=Wm(r,qs),g=Vn(),w=2&a;try{Qn(-1),w&&r.length>$n&&iy(t,r,$n,!1),Yr(w?2:0,u);const H=w?d:null,te=Ys(H);try{null!==H&&(H.dirty=!1),o(a,u)}finally{ja(H,te)}}finally{w&&null===r[qs]&&Mf(r,qs),Qn(g),Yr(w?3:1,u)}}function Km(t,r,o){if(Fo(r)){const a=Yi(null);try{const d=r.directiveEnd;for(let g=r.directiveStart;g<d;g++){const w=t.data[g];w.contentQueries&&w.contentQueries(1,o[g],g)}}finally{Yi(a)}}}function ih(t,r,o){_t()&&(function oI(t,r,o,a){const u=o.directiveStart,d=o.directiveEnd;ds(o)&&function uI(t,r,o){const a=Zt(r,t),u=Lf(o);let g=16;o.signals?g=4096:o.onPush&&(g=64);const w=pd(t,cd(t,u,null,g,a,r,null,t[vs].rendererFactory.createRenderer(a,o),null,null,null));t[r.index]=w}(r,o,t.data[u+o.componentOffset]),t.firstCreatePass||So(o,r),oo(a,r);const g=o.initialInputs;for(let w=u;w<d;w++){const S=t.data[w],H=Ma(r,t,w,o);oo(H,r),null!==g&&Hf(0,w-u,H,S,0,g),hs(S)&&(hr(o.index,r)[br]=Ma(r,t,w,o))}}(t,r,o,Zt(o,r)),64==(64&o.flags)&&hd(t,r,o))}function Fa(t,r,o=Zt){const a=r.localNames;if(null!==a){let u=r.index+1;for(let d=0;d<a.length;d+=2){const g=a[d+1],w=-1===g?o(r,t):t[g];t[u++]=w}}}function Lf(t){const r=t.tView;return null===r||r.incompleteFirstPass?t.tView=Zm(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):r}function Zm(t,r,o,a,u,d,g,w,S,H,te){const _e=$n+a,Ve=_e+u,Ke=function Qm(t,r){const o=[];for(let a=0;a<r;a++)o.push(a<t?null:Jn);return o}(_e,Ve),ft="function"==typeof H?H():H;return Ke[Ft]={type:t,blueprint:Ke,template:o,queries:null,viewQuery:w,declTNode:r,data:Ke.slice().fill(null,_e),bindingStartIndex:_e,expandoStartIndex:Ve,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:S,consts:ft,incompleteFirstPass:!1,ssrId:te}}let kf=t=>null;function oy(t,r,o,a){for(let u in t)if(t.hasOwnProperty(u)){o=null===o?{}:o;const d=t[u];null===a?Ff(o,r,u,d):a.hasOwnProperty(u)&&Ff(o,r,a[u],d)}return o}function Ff(t,r,o,a){t.hasOwnProperty(o)?t[o].push(r,a):t[o]=[r,a]}function eg(t,r,o,a){if(_t()){const u=null===a?null:{"":-1},d=function rg(t,r){const o=t.directiveRegistry;let a=null,u=null;if(o)for(let d=0;d<o.length;d++){const g=o[d];if(wi(r,g.selectors,!1))if(a||(a=[]),hs(g))if(null!==g.findHostDirectiveDefs){const w=[];u=u||new Map,g.findHostDirectiveDefs(g,w,u),a.unshift(...w,g),Uf(t,r,w.length)}else a.unshift(g),Uf(t,r,0);else u=u||new Map,g.findHostDirectiveDefs?.(g,a,u),a.push(g)}return null===a?null:[a,u]}(t,o);let g,w;null===d?g=w=null:[g,w]=d,null!==g&&Vf(t,r,o,g,u,w),u&&function fd(t,r,o){if(r){const a=t.localNames=[];for(let u=0;u<r.length;u+=2){const d=o[r[u+1]];if(null==d)throw new ae(-301,!1);a.push(r[u],d)}}}(o,a,u)}o.mergedAttrs=xi(o.mergedAttrs,o.attrs)}function Vf(t,r,o,a,u,d){for(let H=0;H<a.length;H++)Xi(So(o,r),t,a[H].type);!function Bf(t,r,o){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+o,t.providerIndexes=r}(o,t.data.length,a.length);for(let H=0;H<a.length;H++){const te=a[H];te.providersResolver&&te.providersResolver(te)}let g=!1,w=!1,S=dd(t,r,a.length,null);for(let H=0;H<a.length;H++){const te=a[H];o.mergedAttrs=xi(o.mergedAttrs,te.hostAttrs),lI(t,o,r,S,te),uy(S,te,u),null!==te.contentQueries&&(o.flags|=4),(null!==te.hostBindings||null!==te.hostAttrs||0!==te.hostVars)&&(o.flags|=64);const _e=te.type.prototype;!g&&(_e.ngOnChanges||_e.ngOnInit||_e.ngDoCheck)&&((t.preOrderHooks??=[]).push(o.index),g=!0),!w&&(_e.ngOnChanges||_e.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(o.index),w=!0),S++}!function ay(t,r,o){const u=r.directiveEnd,d=t.data,g=r.attrs,w=[];let S=null,H=null;for(let te=r.directiveStart;te<u;te++){const _e=d[te],Ve=o?o.get(_e):null,ft=Ve?Ve.outputs:null;S=oy(_e.inputs,te,S,Ve?Ve.inputs:null),H=oy(_e.outputs,te,H,ft);const Pt=null===S||null===g||vo(r)?null:sg(S,te,g);w.push(Pt)}null!==S&&(S.hasOwnProperty("class")&&(r.flags|=8),S.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=w,r.inputs=S,r.outputs=H}(t,o,d)}function hd(t,r,o){const a=o.directiveStart,u=o.directiveEnd,d=o.index,g=function Th(){return An.lFrame.currentDirectiveIndex}();try{Qn(d);for(let w=a;w<u;w++){const S=t.data[w],H=r[w];Jo(w),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&aI(S,H)}}finally{Qn(-1),Jo(g)}}function aI(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function Uf(t,r,o){r.componentOffset=o,(t.components??=[]).push(r.index)}function uy(t,r,o){if(o){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)o[r.exportAs[a]]=t;hs(r)&&(o[""]=t)}}function lI(t,r,o,a,u){t.data[a]=u;const d=u.factory||(u.factory=Qi(u.type)),g=new hl(d,hs(u),vu);t.blueprint[a]=g,o[a]=g,function tg(t,r,o,a,u){const d=u.hostBindings;if(d){let g=t.hostBindingOpCodes;null===g&&(g=t.hostBindingOpCodes=[]);const w=~r.index;(function ng(t){let r=t.length;for(;r>0;){const o=t[--r];if("number"==typeof o&&o<0)return o}return 0})(g)!=w&&g.push(w),g.push(o,a,d)}}(t,r,a,dd(t,o,u.hostVars,Jn),u)}function rl(t,r,o,a,u,d){const g=Zt(t,r);!function ig(t,r,o,a,u,d,g){if(null==d)t.removeAttribute(r,u,o);else{const w=null==g?me(d):g(d,a||"",u);t.setAttribute(r,u,w,o)}}(r[fn],g,d,t.value,o,a,u)}function Hf(t,r,o,a,u,d){const g=d[r];if(null!==g)for(let w=0;w<g.length;)jf(a,o,g[w++],g[w++],g[w++])}function jf(t,r,o,a,u){const d=Yi(null);try{const g=t.inputTransforms;null!==g&&g.hasOwnProperty(a)&&(u=g[a].call(r,u)),null!==t.setInput?t.setInput(r,u,o,a):r[a]=u}finally{Yi(d)}}function sg(t,r,o){let a=null,u=0;for(;u<o.length;){const d=o[u];if(0!==d)if(5!==d){if("number"==typeof d)break;if(t.hasOwnProperty(d)){null===a&&(a=[]);const g=t[d];for(let w=0;w<g.length;w+=2)if(g[w]===r){a.push(d,g[w+1],o[u+1]);break}}u+=2}else u+=2;else u+=4}return a}function $f(t,r,o,a){return[t,!0,!1,r,null,0,a,o,null,null,null]}function og(t,r){const o=t.contentQueries;if(null!==o)for(let a=0;a<o.length;a+=2){const d=o[a+1];if(-1!==d){const g=t.data[d];T(o[a]),g.contentQueries(2,r[d],d)}}}function pd(t,r){return t[gi]?t[us][mi]=r:t[gi]=r,t[us]=r,r}function sh(t,r,o){T(0);const a=Yi(null);try{r(t,o)}finally{Yi(a)}}function zf(t){return t[ci]||(t[ci]=[])}function lg(t){return t.cleanup||(t.cleanup=[])}function ug(t,r){const o=t[ls],a=o?o.get(mu,null):null;a&&a.handleError(r)}function oh(t,r,o,a,u){for(let d=0;d<o.length;){const g=o[d++],w=o[d++];jf(t.data[g],r[g],a,w,u)}}function md(t,r){const o=hr(r,t),a=o[Ft];!function cg(t,r){for(let o=r.length;o<t.blueprint.length;o++)r.push(t.blueprint[o])}(a,o);const u=o[Cr];null!==u&&null===o[jr]&&(o[jr]=Qd(u,o[ls])),dg(a,o,o[br])}function dg(t,r,o){R(r);try{const a=t.viewQuery;null!==a&&sh(1,a,o);const u=t.template;null!==u&&Nf(t,r,u,1,o),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&og(t,r),t.staticViewQueries&&sh(2,t.viewQuery,o);const d=t.components;null!==d&&function cI(t,r){for(let o=0;o<r.length;o++)md(t,r[o])}(r,d)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{r[wn]&=-5,qe()}}let cy=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(o,a,u){const d=typeof Zone>"u"?null:Zone.current,g=function We(t,r,o){const a=Object.create(jt);o&&(a.consumerAllowSignalWrites=!0),a.fn=t,a.schedule=r;const u=g=>{a.cleanupFn=g};return a.ref={notify:()=>Cs(a),run:()=>{if(a.dirty=!1,a.hasRun&&!ba(a))return;a.hasRun=!0;const g=Ys(a);try{a.cleanupFn(),a.cleanupFn=pt,a.fn(u)}finally{ja(a,g)}},cleanup:()=>a.cleanupFn()},a.ref}(o,H=>{this.all.has(H)&&this.queue.set(H,d)},u);let w;this.all.add(g),g.notify();const S=()=>{g.cleanup(),w?.(),this.all.delete(g),this.queue.delete(g)};return w=a?.onDestroy(S),{destroy:S}}flush(){if(0!==this.queue.size)for(const[o,a]of this.queue)this.queue.delete(o),a?a.run(()=>o.run()):o.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=an({token:t,providedIn:"root",factory:()=>new t})}return t})();function Gf(t,r,o){let a=o?t.styles:null,u=o?t.classes:null,d=0;if(null!==r)for(let g=0;g<r.length;g++){const w=r[g];"number"==typeof w?d=w:1==d?u=ze(u,w):2==d&&(a=ze(a,w+": "+r[++g]+";"))}o?t.styles=a:t.stylesWithoutHost=a,o?t.classes=u:t.classesWithoutHost=u}function gd(t,r,o,a,u=!1){for(;null!==o;){const d=r[o.index];null!==d&&a.push(Rr(d)),gr(d)&&hy(d,a);const g=o.type;if(8&g)gd(t,r,o.child,a);else if(32&g){const w=ts(o,r);let S;for(;S=w();)a.push(S)}else if(16&g){const w=__(r,o);if(Array.isArray(w))a.push(...w);else{const S=Lc(r[lr]);gd(S[Ft],S,w,a,!0)}}o=u?o.projectionNext:o.next}return a}function hy(t,r){for(let o=rr;o<t.length;o++){const a=t[o],u=a[Ft].firstChild;null!==u&&gd(a[Ft],a,u,r)}t[Zr]!==t[Cr]&&r.push(t[Zr])}function Wf(t,r,o,a=!0){const u=r[vs],d=u.rendererFactory,g=u.afterRenderEventManager;d.begin?.(),g?.begin();try{fy(t,r,t.template,o)}catch(S){throw a&&ug(r,S),S}finally{d.end?.(),u.effectManager?.flush(),g?.end()}}function fy(t,r,o,a){const u=r[wn];if(256!=(256&u)){r[vs].effectManager?.flush(),R(r);try{Xs(r),function Ut(t){return An.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==o&&Nf(t,r,o,2,a);const g=3==(3&u);if(g){const H=t.preOrderCheckHooks;null!==H&&Mu(r,H,null)}else{const H=t.preOrderHooks;null!==H&&eo(r,H,0,null),Ic(r,0)}if(function my(t){for(let r=Zp(t);null!==r;r=h_(r)){if(!r[ko])continue;const o=r[ps];for(let a=0;a<o.length;a++){ai(o[a])}}}(r),py(r,2),null!==t.contentQueries&&og(t,r),g){const H=t.contentCheckHooks;null!==H&&Mu(r,H)}else{const H=t.contentHooks;null!==H&&eo(r,H,1),Ic(r,1)}!function qm(t,r){const o=t.hostBindingOpCodes;if(null===o)return;const a=Wm(r,Rs);try{for(let u=0;u<o.length;u++){const d=o[u];if(d<0)Qn(~d);else{const g=d,w=o[++u],S=o[++u];ca(w,g),a.dirty=!1;const H=Ys(a);try{S(2,r[g])}finally{ja(a,H)}}}}finally{null===r[Rs]&&Mf(r,Rs),Qn(-1)}}(t,r);const w=t.components;null!==w&&hg(r,w,0);const S=t.viewQuery;if(null!==S&&sh(2,S,a),g){const H=t.viewCheckHooks;null!==H&&Mu(r,H)}else{const H=t.viewHooks;null!==H&&eo(r,H,2),Ic(r,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),r[wn]&=-73,Uo(r)}finally{qe()}}}function py(t,r){for(let o=Zp(t);null!==o;o=h_(o))for(let a=rr;a<o.length;a++)qf(o[a],r)}function gy(t,r,o){qf(hr(r,t),o)}function qf(t,r){if(!function Ao(t){return 128==(128&t[wn])}(t))return;const o=t[Ft],a=t[wn];if(80&a&&0===r||1024&a||2===r)fy(o,t,o.template,t[br]);else if(t[as]>0){py(t,1);const u=o.components;null!==u&&hg(t,u,1)}}function hg(t,r,o){for(let a=0;a<r.length;a++)gy(t,r[a],o)}class _d{get rootNodes(){const r=this._lView,o=r[Ft];return gd(o,r,o.firstChild,[])}constructor(r,o){this._lView=r,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[br]}set context(r){this._lView[br]=r}get destroyed(){return 256==(256&this._lView[wn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[Gn];if(gr(r)){const o=r[8],a=o?o.indexOf(this):-1;a>-1&&($h(r,a),Za(o,a))}this._attachedToViewContainer=!1}Jp(this._lView[Ft],this._lView)}onDestroy(r){!function Jr(t,r){if(256==(256&t[wn]))throw new ae(911,!1);null===t[Di]&&(t[Di]=[]),t[Di].push(r)}(this._lView,r)}markForCheck(){ld(this._cdRefInjectingView||this._lView)}detach(){this._lView[wn]&=-129}reattach(){this._lView[wn]|=128}detectChanges(){Wf(this._lView[Ft],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ae(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function p_(t,r){Yu(t,r,r[fn],2,null,null)}(this._lView[Ft],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new ae(902,!1);this._appRef=r}}class _y extends _d{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;Wf(r[Ft],r,r[br],!1)}checkNoChanges(){}get context(){return null}}class ah extends Ef{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const o=jn(r);return new Rl(o,this.ngModule)}}function vr(t){const r=[];for(let o in t)t.hasOwnProperty(o)&&r.push({propName:t[o],templateName:o});return r}class vy{constructor(r,o){this.injector=r,this.parentInjector=o}get(r,o,a){a=Kt(a);const u=this.injector.get(r,eh,a);return u!==eh||o===eh?u:this.parentInjector.get(r,o,a)}}class Rl extends nd{get inputs(){const r=this.componentDef,o=r.inputTransforms,a=vr(r.inputs);if(null!==o)for(const u of a)o.hasOwnProperty(u.propName)&&(u.transform=o[u.propName]);return a}get outputs(){return vr(this.componentDef.outputs)}constructor(r,o){super(),this.componentDef=r,this.ngModule=o,this.componentType=r.type,this.selector=function Oi(t){return t.map(Eo).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!o}create(r,o,a,u){let d=(u=u||this.ngModule)instanceof ma?u:u?.injector;d&&null!==this.componentDef.getStandaloneInjector&&(d=this.componentDef.getStandaloneInjector(d)||d);const g=d?new vy(r,d):r,w=g.get(rd,null);if(null===w)throw new ae(407,!1);const _e={rendererFactory:w,sanitizer:g.get(xm,null),effectManager:g.get(cy,null),afterRenderEventManager:g.get(jm,null)},Ve=w.createRenderer(null,this.componentDef),Ke=this.componentDef.selectors[0][0]||"div",ft=a?function eI(t,r,o,a){const d=a.get(zm,!1)||o===et.ShadowDom,g=t.selectRootElement(r,d);return function tI(t){kf(t)}(g),g}(Ve,a,this.componentDef.encapsulation,g):nu(Ve,Ke,function yy(t){const r=t.toLowerCase();return"svg"===r?fs:"math"===r?"math":null}(Ke)),En=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Et=null;null!==ft&&(Et=Qd(ft,g,!0));const Yn=Zm(0,null,null,1,0,null,null,null,null,null,null),Ir=cd(null,Yn,null,En,null,null,_e,Ve,g,null,Et);let fi,Ca;R(Ir);try{const gc=this.componentDef;let Dp,PE=null;gc.findHostDirectiveDefs?(Dp=[],PE=new Map,gc.findHostDirectiveDefs(gc,Dp,PE),Dp.push(gc)):Dp=[gc];const qD=function lo(t,r){const o=t[Ft],a=$n;return t[a]=r,Iu(o,a,2,"#host",null)}(Ir,ft),KD=function Mi(t,r,o,a,u,d,g){const w=u[Ft];!function sl(t,r,o,a){for(const u of t)r.mergedAttrs=xi(r.mergedAttrs,u.hostAttrs);null!==r.mergedAttrs&&(Gf(r,r.mergedAttrs,!0),null!==o&&wl(a,o,r))}(a,t,r,g);let S=null;null!==r&&(S=Qd(r,u[ls]));const H=d.rendererFactory.createRenderer(r,o);let te=16;o.signals?te=4096:o.onPush&&(te=64);const _e=cd(u,Lf(o),null,te,u[t.index],t,d,H,null,null,S);return w.firstCreatePass&&Uf(w,t,a.length-1),pd(u,_e),u[t.index]=_e}(qD,ft,gc,Dp,Ir,_e,Ve);Ca=ir(Yn,$n),ft&&function hI(t,r,o,a){if(a)Kr(t,o,["ng-version",sd.full]);else{const{attrs:u,classes:d}=function Ni(t){const r=[],o=[];let a=1,u=2;for(;a<t.length;){let d=t[a];if("string"==typeof d)2===u?""!==d&&r.push(d,t[++a]):8===u&&o.push(d);else{if(!ii(u))break;u=d}a++}return{attrs:r,classes:o}}(r.selectors[0]);u&&Kr(t,o,u),d&&d.length>0&&T_(t,o,d.join(" "))}}(Ve,gc,ft,a),void 0!==o&&function Kf(t,r,o){const a=t.projection=[];for(let u=0;u<r.length;u++){const d=o[u];a.push(null!=d?Array.from(d):null)}}(Ca,this.ngContentSelectors,o),fi=function Ey(t,r,o,a,u,d){const g=fr(),w=u[Ft],S=Zt(g,u);Vf(w,u,g,o,null,a);for(let te=0;te<o.length;te++)oo(Ma(u,w,g.directiveStart+te,g),u);hd(w,u,g),S&&oo(S,u);const H=Ma(u,w,g.directiveStart+g.componentOffset,g);if(t[br]=u[br]=H,null!==d)for(const te of d)te(H,r);return Km(w,g,t),H}(KD,gc,Dp,PE,Ir,[Ty]),dg(Yn,Ir,null)}finally{qe()}return new Iy(this.componentType,fi,fu(Ca,Ir),Ir,Ca)}}class Iy extends If{constructor(r,o,a,u,d){super(),this.location=a,this._rootLView=u,this._tNode=d,this.previousInputValues=null,this.instance=o,this.hostView=this.changeDetectorRef=new _y(u),this.componentType=r}setInput(r,o){const a=this._tNode.inputs;let u;if(null!==a&&(u=a[r])){if(this.previousInputValues??=new Map,this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),o))return;const d=this._rootLView;oh(d[Ft],d,u,r,o),this.previousInputValues.set(r,o),ld(hr(this._tNode.index,d))}}get injector(){return new $i(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function Ty(){const t=fr();jl(vt()[Ft],t)}function fg(t){let r=function Zf(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),o=!0;const a=[t];for(;r;){let u;if(hs(t))u=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new ae(903,!1);u=r.\u0275dir}if(u){if(o){a.push(u);const g=t;g.inputs=Qf(t.inputs),g.inputTransforms=Qf(t.inputTransforms),g.declaredInputs=Qf(t.declaredInputs),g.outputs=Qf(t.outputs);const w=u.hostBindings;w&&$E(t,w);const S=u.viewQuery,H=u.contentQueries;if(S&&fI(t,S),H&&Ei(t,H),se(t.inputs,u.inputs),se(t.declaredInputs,u.declaredInputs),se(t.outputs,u.outputs),null!==u.inputTransforms&&(null===g.inputTransforms&&(g.inputTransforms={}),se(g.inputTransforms,u.inputTransforms)),hs(u)&&u.data.animation){const te=t.data;te.animation=(te.animation||[]).concat(u.data.animation)}}const d=u.features;if(d)for(let g=0;g<d.length;g++){const w=d[g];w&&w.ngInherit&&w(t),w===fg&&(o=!1)}}r=Object.getPrototypeOf(r)}!function pg(t){let r=0,o=null;for(let a=t.length-1;a>=0;a--){const u=t[a];u.hostVars=r+=u.hostVars,u.hostAttrs=xi(u.hostAttrs,o=xi(o,u.hostAttrs))}}(a)}function Qf(t){return t===St?{}:t===dt?[]:t}function fI(t,r){const o=t.viewQuery;t.viewQuery=o?(a,u)=>{r(a,u),o(a,u)}:r}function Ei(t,r){const o=t.contentQueries;t.contentQueries=o?(a,u,d)=>{r(a,u,d),o(a,u,d)}:r}function $E(t,r){const o=t.hostBindings;t.hostBindings=o?(a,u)=>{r(a,u),o(a,u)}:r}function Dy(t){const r=t.inputConfig,o={};for(const a in r)if(r.hasOwnProperty(a)){const u=r[a];Array.isArray(u)&&u[2]&&(o[a]=u[2])}t.inputTransforms=o}function Yf(t){return!!ac(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function ac(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ps(t,r,o){return t[r]=o}function xo(t,r,o){return!Object.is(t[r],o)&&(t[r]=o,!0)}function na(t,r,o,a){const u=xo(t,r,o);return xo(t,r+1,a)||u}function gg(t,r,o,a){const u=vt();return xo(u,Fs(),r)&&(ur(),rl(ar(),u,t,r,o,a)),gg}function Oy(t,r,o,a,u,d,g,w){const S=vt(),H=ur(),te=t+$n,_e=H.firstCreatePass?function cp(t,r,o,a,u,d,g,w,S){const H=r.consts,te=Iu(r,t,4,g||null,Ii(H,w));eg(r,o,te,Ii(H,S)),jl(r,te);const _e=te.tView=Zm(2,te,a,u,d,r.directiveRegistry,r.pipeRegistry,null,r.schemas,H,null);return null!==r.queries&&(r.queries.template(r,te),_e.queries=r.queries.embeddedTView(te)),te}(te,H,S,r,o,a,u,d,g):H.data[te];ks(_e,!1);const Ve=CI(H,S,_e,t);Ga()&&Ud(H,S,Ve,_e),oo(Ve,S),pd(S,S[te]=$f(Ve,S,Ve,_e)),ws(_e)&&ih(H,S,_e),null!=g&&Fa(S,_e,w)}let CI=function bI(t,r,o,a){return Xo(!0),r[fn].createComment("")};function bu(t){return function oi(t,r){return t[r]}(function cn(){return An.lFrame.contextLView}(),$n+t)}function Va(t,r,o){const a=vt();return xo(a,Fs(),r)&&function jo(t,r,o,a,u,d,g,w){const S=Zt(r,o);let te,H=r.inputs;!w&&null!=H&&(te=H[a])?(oh(t,o,te,a,u),ds(r)&&function iI(t,r){const o=hr(r,t);16&o[wn]||(o[wn]|=64)}(o,r.index)):3&r.type&&(a=function Xm(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),u=null!=g?g(u,r.value||"",a):u,d.setProperty(S,a,u))}(ur(),ar(),a,t,r,a[fn],o,!1),Va}function fc(t,r,o,a,u){const g=u?"class":"style";oh(t,o,r.inputs[g],g,a)}function dp(t,r,o,a){const u=vt(),d=ur(),g=$n+t,w=u[fn],S=d.firstCreatePass?function Du(t,r,o,a,u,d){const g=r.consts,S=Iu(r,t,2,a,Ii(g,u));return eg(r,o,S,Ii(g,d)),null!==S.attrs&&Gf(S,S.attrs,!1),null!==S.mergedAttrs&&Gf(S,S.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,S),S}(g,d,u,r,o,a):d.data[g],H=Ll(d,u,S,w,r,t);u[g]=H;const te=ws(S);return ks(S,!0),wl(w,H,S),32!=(32&S.flags)&&Ga()&&Ud(d,u,H,S),0===function Qo(){return An.lFrame.elementDepthCount}()&&oo(H,u),function Ht(){An.lFrame.elementDepthCount++}(),te&&(ih(d,u,S),Km(d,S,u)),null!==a&&Fa(u,S),dp}function dh(){let t=fr();Aa()?Xr():(t=t.parent,ks(t,!1));const r=t;(function Su(t){return An.skipHydrationRootTNode===t})(r)&&function Pu(){An.skipHydrationRootTNode=null}(),function ot(){An.lFrame.elementDepthCount--}();const o=ur();return o.firstCreatePass&&(jl(o,t),Fo(t)&&o.queries.elementEnd(t)),null!=r.classesWithoutHost&&function Sp(t){return 0!=(8&t.flags)}(r)&&fc(o,r,vt(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function Pp(t){return 0!=(16&t.flags)}(r)&&fc(o,r,vt(),r.stylesWithoutHost,!1),dh}function Ag(t,r,o,a){return dp(t,r,o,a),dh(),Ag}let Ll=(t,r,o,a,u,d)=>(Xo(!0),nu(a,u,function Vs(){return An.lFrame.currentNamespace}()));function hp(t,r,o){const a=vt(),u=ur(),d=t+$n,g=u.firstCreatePass?function PI(t,r,o,a,u){const d=r.consts,g=Ii(d,a),w=Iu(r,t,8,"ng-container",g);return null!==g&&Gf(w,g,!0),eg(r,o,w,Ii(d,u)),null!==r.queries&&r.queries.elementStart(r,w),w}(d,u,a,r,o):u.data[d];ks(g,!0);const w=Sg(u,a,g,t);return a[d]=w,Ga()&&Ud(u,a,w,g),oo(w,a),ws(g)&&(ih(u,a,g),Km(u,g,a)),null!=o&&Fa(a,g),hp}function fp(){let t=fr();const r=ur();return Aa()?Xr():(t=t.parent,ks(t,!1)),r.firstCreatePass&&(jl(r,t),Fo(t)&&r.queries.elementEnd(t)),fp}function pp(t,r,o){return hp(t,r,o),fp(),pp}let Sg=(t,r,o,a)=>(Xo(!0),Ku(r[fn],""));function Pg(){return vt()}function Rg(t){return!!t&&"function"==typeof t.then}function pc(t){return!!t&&"function"==typeof t.subscribe}function hh(t,r,o,a){const u=vt(),d=ur(),g=fr();return function Ny(t,r,o,a,u,d,g){const w=ws(a),H=t.firstCreatePass&&lg(t),te=r[br],_e=zf(r);let Ve=!0;if(3&a.type||g){const Pt=Zt(a,r),qt=g?g(Pt):Pt,En=_e.length,Et=g?Ir=>g(Rr(Ir[a.index])):a.index;let Yn=null;if(!g&&w&&(Yn=function OI(t,r,o,a){const u=t.cleanup;if(null!=u)for(let d=0;d<u.length-1;d+=2){const g=u[d];if(g===o&&u[d+1]===a){const w=r[ci],S=u[d+2];return w.length>S?w[S]:null}"string"==typeof g&&(d+=2)}return null}(t,r,u,a.index)),null!==Yn)(Yn.__ngLastListenerFn__||Yn).__ngNextListenerFn__=d,Yn.__ngLastListenerFn__=d,Ve=!1;else{d=ky(a,r,te,d,!1);const Ir=o.listen(qt,u,d);_e.push(d,Ir),H&&H.push(u,Et,En,En+1)}}else d=ky(a,r,te,d,!1);const Ke=a.outputs;let ft;if(Ve&&null!==Ke&&(ft=Ke[u])){const Pt=ft.length;if(Pt)for(let qt=0;qt<Pt;qt+=2){const fi=r[ft[qt]][ft[qt+1]].subscribe(d),Ca=_e.length;_e.push(d,fi),H&&H.push(u,a.index,Ca,-(Ca+1))}}}(d,u,u[fn],g,t,r,a),hh}function Ly(t,r,o,a){try{return Yr(6,r,o),!1!==o(a)}catch(u){return ug(t,u),!1}finally{Yr(7,r,o)}}function ky(t,r,o,a,u){return function d(g){if(g===Function)return a;ld(t.componentOffset>-1?hr(t.index,r):r);let S=Ly(r,o,a,g),H=d.__ngNextListenerFn__;for(;H;)S=Ly(r,o,H,g)&&S,H=H.__ngNextListenerFn__;return u&&!1===S&&g.preventDefault(),S}}function Fy(t=1){return function zt(t){return(An.lFrame.contextLView=function Fn(t,r){for(;t>0;)r=r[Ci],t--;return r}(t,An.lFrame.contextLView))[br]}(t)}function QE(t,r){let o=null;const a=function Io(t){const r=t.attrs;if(null!=r){const o=r.indexOf(5);if(!(1&o))return r[o+1]}return null}(t);for(let u=0;u<r.length;u++){const d=r[u];if("*"!==d){if(null===a?wi(t,d,!0):ui(a,d))return u}else o=u}return o}function NI(t){const r=vt()[lr][Fr];if(!r.projection){const a=r.projection=Uu(t?t.length:1,null),u=a.slice();let d=r.child;for(;null!==d;){const g=t?QE(d,t):0;null!==g&&(u[g]?u[g].projectionNext=d:a[g]=d,u[g]=d),d=d.next}}}function LI(t,r=0,o){const a=vt(),u=ur(),d=Iu(u,$n+t,16,null,o||null);null===d.projection&&(d.projection=r),Xr(),(!a[jr]||di())&&32!=(32&d.flags)&&function v_(t,r,o){I_(r[fn],0,r,o,ru(t,o,r),rm(o.parent||r[Fr],o,r))}(u,a,d)}function mp(t,r){return t<<17|r<<2}function Au(t){return t>>17&32767}function Og(t){return 2|t}function vd(t){return(131068&t)>>2}function $y(t,r){return-131069&t|r<<2}function Ng(t){return 1|t}function Lg(t,r,o,a,u){const d=t[o+1],g=null===r;let w=a?Au(d):vd(d),S=!1;for(;0!==w&&(!1===S||g);){const te=t[w+1];Gy(t[w],r)&&(S=!0,t[w+1]=a?Ng(te):Og(te)),w=a?Au(te):vd(te)}S&&(t[o+1]=a?Og(d):Ng(d))}function Gy(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&yl(t,r)>=0}const Bs={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function gp(t){return t.substring(Bs.key,Bs.keyEnd)}function Wy(t,r){const o=Bs.textEnd;return o===r?-1:(r=Bs.keyEnd=function Ug(t,r,o){for(;r<o&&t.charCodeAt(r)>32;)r++;return r}(t,Bs.key=r,o),ll(t,r,o))}function ll(t,r,o){for(;r<o&&t.charCodeAt(r)<=32;)r++;return r}function yp(t,r){return function Ea(t,r,o,a){const u=vt(),d=ur(),g=po(2);d.firstUpdatePass&&yo(d,t,g,a),r!==Jn&&xo(u,g,r)&&Qy(d,d.data[Vn()],u,u[fn],t,u[g+1]=function $g(t,r){return null==t||""===t||("string"==typeof r?t+=r:"object"==typeof t&&(t=Ee(La(t)))),t}(r,o),a,g)}(t,r,null,!0),yp}function _o(t){!function Oo(t,r,o,a){const u=ur(),d=po(2);u.firstUpdatePass&&yo(u,null,d,a);const g=vt();if(o!==Jn&&xo(g,d,o)){const w=u.data[Vn()];if(zg(w,a)&&!Id(u,d)){let S=a?w.classesWithoutHost:w.stylesWithoutHost;null!==S&&(o=ze(S,o||"")),fc(u,w,g,o,a)}else!function e0(t,r,o,a,u,d,g,w){u===Jn&&(u=dt);let S=0,H=0,te=0<u.length?u[0]:null,_e=0<d.length?d[0]:null;for(;null!==te||null!==_e;){const Ve=S<u.length?u[S+1]:void 0,Ke=H<d.length?d[H+1]:void 0;let Pt,ft=null;te===_e?(S+=2,H+=2,Ve!==Ke&&(ft=_e,Pt=Ke)):null===_e||null!==te&&te<_e?(S+=2,ft=te):(H+=2,ft=_e,Pt=Ke),null!==ft&&Qy(t,r,o,a,ft,Pt,g,w),te=S<u.length?u[S]:null,_e=H<d.length?d[H]:null}}(u,w,g,g[fn],g[d+1],g[d+1]=function $I(t,r,o){if(null==o||""===o)return dt;const a=[],u=La(o);if(Array.isArray(u))for(let d=0;d<u.length;d++)t(a,u[d],!0);else if("object"==typeof u)for(const d in u)u.hasOwnProperty(d)&&t(a,d,u[d]);else"string"==typeof u&&r(a,u);return a}(t,r,o),a,d)}}(zI,Ua,t,!0)}function Ua(t,r){for(let o=function BI(t){return function Vg(t){Bs.key=0,Bs.keyEnd=0,Bs.value=0,Bs.valueEnd=0,Bs.textEnd=t.length}(t),Wy(t,ll(t,0,Bs.textEnd))}(r);o>=0;o=Wy(r,o))no(t,gp(r),!0)}function Id(t,r){return r>=t.expandoStartIndex}function yo(t,r,o,a){const u=t.data;if(null===u[o+1]){const d=u[Vn()],g=Id(t,o);zg(d,a)&&null===r&&!g&&(r=!1),r=function jI(t,r,o,a){const u=function Bl(t){const r=An.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}(t);let d=a?r.residualClasses:r.residualStyles;if(null===u)0===(a?r.classBindings:r.styleBindings)&&(o=Ba(o=ph(null,t,r,o,a),r.attrs,a),d=null);else{const g=r.directiveStylingLast;if(-1===g||t[g]!==u)if(o=ph(u,t,r,o,a),null===d){let S=function Hg(t,r,o){const a=o?r.classBindings:r.styleBindings;if(0!==vd(a))return t[Au(a)]}(t,r,a);void 0!==S&&Array.isArray(S)&&(S=ph(null,t,r,S[1],a),S=Ba(S,r.attrs,a),function Ed(t,r,o,a){t[Au(o?r.classBindings:r.styleBindings)]=a}(t,r,a,S))}else d=function mc(t,r,o){let a;const u=r.directiveEnd;for(let d=1+r.directiveStylingLast;d<u;d++)a=Ba(a,t[d].hostAttrs,o);return Ba(a,r.attrs,o)}(t,r,a)}return void 0!==d&&(a?r.residualClasses=d:r.residualStyles=d),o}(u,d,r,a),function YE(t,r,o,a,u,d){let g=d?r.classBindings:r.styleBindings,w=Au(g),S=vd(g);t[a]=o;let te,H=!1;if(Array.isArray(o)?(te=o[1],(null===te||yl(o,te)>0)&&(H=!0)):te=o,u)if(0!==S){const Ve=Au(t[w+1]);t[a+1]=mp(Ve,w),0!==Ve&&(t[Ve+1]=$y(t[Ve+1],a)),t[w+1]=function UI(t,r){return 131071&t|r<<17}(t[w+1],a)}else t[a+1]=mp(w,0),0!==w&&(t[w+1]=$y(t[w+1],a)),w=a;else t[a+1]=mp(S,0),0===w?w=a:t[S+1]=$y(t[S+1],a),S=a;H&&(t[a+1]=Og(t[a+1])),Lg(t,te,a,!0),Lg(t,te,a,!1),function JE(t,r,o,a,u){const d=u?t.residualClasses:t.residualStyles;null!=d&&"string"==typeof r&&yl(d,r)>=0&&(o[a+1]=Ng(o[a+1]))}(r,te,t,a,d),g=mp(w,S),d?r.classBindings=g:r.styleBindings=g}(u,d,r,o,g,a)}}function ph(t,r,o,a,u){let d=null;const g=o.directiveEnd;let w=o.directiveStylingLast;for(-1===w?w=o.directiveStart:w++;w<g&&(d=r[w],a=Ba(a,d.hostAttrs,u),d!==t);)w++;return null!==t&&(o.directiveStylingLast=w),a}function Ba(t,r,o){const a=o?1:2;let u=-1;if(null!==r)for(let d=0;d<r.length;d++){const g=r[d];"number"==typeof g?u=g:u===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),no(t,g,!!o||r[++d]))}return void 0===t?null:t}function zI(t,r,o){const a=String(r);""!==a&&!a.includes(" ")&&no(t,a,o)}function Qy(t,r,o,a,u,d,g,w){if(!(3&r.type))return;const S=t.data,H=S[w+1],te=function zy(t){return 1==(1&t)}(H)?jg(S,r,o,u,vd(H),g):void 0;vp(te)||(vp(d)||function VI(t){return 2==(2&t)}(H)&&(d=jg(S,null,o,u,w,g)),function Cv(t,r,o,a,u){if(r)u?t.addClass(o,a):t.removeClass(o,a);else{let d=-1===a.indexOf("-")?void 0:Fd.DashCase;null==u?t.removeStyle(o,a,d):("string"==typeof u&&u.endsWith("!important")&&(u=u.slice(0,-10),d|=Fd.Important),t.setStyle(o,a,u,d))}}(a,g,Yt(Vn(),o),u,d))}function jg(t,r,o,a,u,d){const g=null===r;let w;for(;u>0;){const S=t[u],H=Array.isArray(S),te=H?S[1]:S,_e=null===te;let Ve=o[u+1];Ve===Jn&&(Ve=_e?dt:void 0);let Ke=_e?Hu(Ve,a):te===a?Ve:void 0;if(H&&!vp(Ke)&&(Ke=Hu(S,a)),vp(Ke)&&(w=Ke,g))return w;const ft=t[u+1];u=g?Au(ft):vd(ft)}if(null!==r){let S=d?r.residualClasses:r.residualStyles;null!=S&&(w=Hu(S,a))}return w}function vp(t){return void 0!==t}function zg(t,r){return 0!=(t.flags&(r?8:16))}function mh(t,r=""){const o=vt(),a=ur(),u=t+$n,d=a.firstCreatePass?Iu(a,u,1,r,null):a.data[u],g=Gg(a,o,d,r,t);o[u]=g,Ga()&&Ud(a,o,g,d),ks(d,!1)}let Gg=(t,r,o,a,u)=>(Xo(!0),function kc(t,r){return t.createText(r)}(r[fn],a));function qg(t){return gh("",t,""),qg}function gh(t,r,o){const a=vt(),u=function cc(t,r,o,a){return xo(t,Fs(),o)?r+me(o)+a:Jn}(a,t,r,o);return u!==Jn&&function il(t,r,o){const a=Yt(r,t);!function Fc(t,r,o){t.setValue(r,o)}(t[fn],a,o)}(a,Vn(),u),gh}const _h=void 0;var _w=["en",[["a","p"],["AM","PM"],_h],[["AM","PM"],_h,_h],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],_h,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],_h,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",_h,"{1} 'at' {0}",_h],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function gw(t){const o=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===a?1:5}];let Ip={};function qI(t){const r=function yw(t){return t.toLowerCase().replace(/_/g,"-")}(t);let o=r0(r);if(o)return o;const a=r.split("-")[0];if(o=r0(a),o)return o;if("en"===a)return _w;throw new ae(701,!1)}function n0(t){return qI(t)[Ep.PluralCase]}function r0(t){return t in Ip||(Ip[t]=Dt.ng&&Dt.ng.common&&Dt.ng.common.locales&&Dt.ng.common.locales[t]),Ip[t]}var Ep=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Ep||{});const Tp="en-US";let s0=Tp;function QI(t,r,o,a,u){if(t=tt(t),Array.isArray(t))for(let d=0;d<t.length;d++)QI(t[d],r,o,a,u);else{const d=ur(),g=vt(),w=fr();let S=nc(t)?t:tt(t.provide);const H=Im(t),te=1048575&w.providerIndexes,_e=w.directiveStart,Ve=w.providerIndexes>>20;if(nc(t)||!t.multi){const Ke=new hl(H,u,vu),ft=JI(S,r,u?te:te+Ve,_e);-1===ft?(Xi(So(w,g),d,S),YI(d,t,r.length),r.push(S),w.directiveStart++,w.directiveEnd++,u&&(w.providerIndexes+=1048576),o.push(Ke),g.push(Ke)):(o[ft]=Ke,g[ft]=Ke)}else{const Ke=JI(S,r,te+Ve,_e),ft=JI(S,r,te,te+Ve),qt=ft>=0&&o[ft];if(u&&!qt||!u&&!(Ke>=0&&o[Ke])){Xi(So(w,g),d,S);const En=function gC(t,r,o,a,u){const d=new hl(t,o,vu);return d.multi=[],d.index=r,d.componentProviders=0,R0(d,u,a&&!o),d}(u?mC:pC,o.length,u,a,H);!u&&qt&&(o[ft].providerFactory=En),YI(d,t,r.length,0),r.push(S),w.directiveStart++,w.directiveEnd++,u&&(w.providerIndexes+=1048576),o.push(En),g.push(En)}else YI(d,t,Ke>-1?Ke:ft,R0(o[u?ft:Ke],H,!u&&a));!u&&a&&qt&&o[ft].componentProviders++}}}function YI(t,r,o,a){const u=nc(r),d=function ym(t){return!!t.useClass}(r);if(u||d){const S=(d?tt(r.useClass):r).prototype.ngOnDestroy;if(S){const H=t.destroyHooks||(t.destroyHooks=[]);if(!u&&r.multi){const te=H.indexOf(o);-1===te?H.push(o,[a,S]):H[te+1].push(a,S)}else H.push(o,S)}}}function R0(t,r,o){return o&&t.componentProviders++,t.multi.push(r)-1}function JI(t,r,o,a){for(let u=o;u<a;u++)if(r[u]===t)return u;return-1}function pC(t,r,o,a){return XI(this.multi,[])}function mC(t,r,o,a){const u=this.multi;let d;if(this.providerFactory){const g=this.providerFactory.componentProviders,w=Ma(o,o[Ft],this.providerFactory.index,a);d=w.slice(0,g),XI(u,d);for(let S=g;S<w.length;S++)d.push(w[S])}else d=[],XI(u,d);return d}function XI(t,r){for(let o=0;o<t.length;o++)r.push((0,t[o])());return r}function M0(t,r=[]){return o=>{o.providersResolver=(a,u)=>function fC(t,r,o){const a=ur();if(a.firstCreatePass){const u=hs(t);QI(o,a.data,a.blueprint,u,!0),QI(r,a.data,a.blueprint,u,!1)}}(a,u?u(t):t,r)}}class yh{}class x0{}function _C(t,r){return new eE(t,r??null,[])}class eE extends yh{constructor(r,o,a){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ah(this);const u=ni(r);this._bootstrapComponents=ka(u.bootstrap),this._r3Injector=wf(r,o,[{provide:yh,useValue:this},{provide:Ef,useValue:this.componentFactoryResolver},...a],Ee(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class tE extends x0{constructor(r){super(),this.moduleType=r}create(r){return new eE(this.moduleType,r,[])}}class O0 extends yh{constructor(r){super(),this.componentFactoryResolver=new ah(this),this.instance=null;const o=new Kc([...r.providers,{provide:yh,useValue:this},{provide:Ef,useValue:this.componentFactoryResolver}],r.parent||cf(),r.debugName,new Set(["environment"]));this.injector=o,r.runEnvironmentInitializers&&o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function N0(t,r,o=null){return new O0({providers:t,parent:r,debugName:o,runEnvironmentInitializers:!0}).injector}let vC=(()=>{class t{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o)){const a=k_(0,o.type),u=a.length>0?N0([a],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o,u)}return this.cachedInjectors.get(o)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=an({token:t,providedIn:"environment",factory:()=>new t(Tt(ma))})}return t})();function L0(t){t.getStandaloneInjector=r=>r.get(vC).getOrCreateStandaloneInjector(t)}function j0(t,r,o,a,u){return function G0(t,r,o,a,u,d,g){const w=r+o;return na(t,w,u,d)?Ps(t,w+2,g?a.call(g,u,d):a(u,d)):n_(t,w+2)}(vt(),Ji(),t,r,o,a,u)}function $0(t,r,o,a,u,d){return function W0(t,r,o,a,u,d,g,w){const S=r+o;return function lc(t,r,o,a,u){const d=na(t,r,o,a);return xo(t,r+2,u)||d}(t,S,u,d,g)?Ps(t,S+3,w?a.call(w,u,d,g):a(u,d,g)):n_(t,S+3)}(vt(),Ji(),t,r,o,a,u,d)}function n_(t,r){const o=t[r];return o===Jn?void 0:o}function $C(){return this._results[Symbol.iterator]()}class rE{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new _a)}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=rE.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=$C)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,o){return this._results.reduce(r,o)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,o){const a=this;a.dirty=!1;const u=function zi(t){return t.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function hi(t,r,o){if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++){let u=t[a],d=r[a];if(o&&(u=o(u),d=o(d)),d!==u)return!1}return!0}(a._results,u,o))&&(a._results=u,a.length=u.length,a.last=u[this.length-1],a.first=u[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function GC(t,r,o,a=!0){const u=r[Ft];if(function Ev(t,r,o,a){const u=rr+a,d=o.length;a>0&&(o[u-1][mi]=r),a<d-rr?(r[mi]=o[u],Rd(o,rr+a,r)):(o.push(r),r[mi]=null),r[Gn]=o;const g=r[_i];null!==g&&o!==g&&function g_(t,r){const o=t[ps];r[lr]!==r[Gn][Gn][lr]&&(t[ko]=!0),null===o?t[ps]=[r]:o.push(r)}(g,r);const w=r[bi];null!==w&&w.insertView(t),r[wn]|=128}(u,r,t,o),a){const d=Qu(o,t),g=r[fn],w=iu(g,t[Zr]);null!==w&&function f_(t,r,o,a,u,d){a[Cr]=u,a[Fr]=r,Yu(t,a,o,1,u,d)}(u,t[Fr],g,r,w,d)}}let i_=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=KC}return t})();const WC=i_,qC=class extends WC{constructor(r,o,a){super(),this._declarationLView=r,this._declarationTContainer=o,this.elementRef=a}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(r,o){return this.createEmbeddedViewImpl(r,o)}createEmbeddedViewImpl(r,o,a){const u=function zC(t,r,o,a){const u=r.tView,w=cd(t,u,o,4096&t[wn]?4096:16,null,r,null,null,null,a?.injector??null,a?.hydrationInfo??null);w[_i]=t[r.index];const H=t[bi];return null!==H&&(w[bi]=H.createEmbeddedView(u)),dg(u,w,o),w}(this._declarationLView,this._declarationTContainer,r,{injector:o,hydrationInfo:a});return new _d(u)}};function KC(){return lv(fr(),vt())}function lv(t,r){return 4&t.type?new qC(r,t,fu(t,r)):null}let cv=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=eb}return t})();function eb(){return tT(fr(),vt())}const tb=cv,X0=class extends tb{constructor(r,o,a){super(),this._lContainer=r,this._hostTNode=o,this._hostLView=a}get element(){return fu(this._hostTNode,this._hostLView)}get injector(){return new $i(this._hostTNode,this._hostLView)}get parentInjector(){const r=pl(this._hostTNode,this._hostLView);if(bd(r)){const o=Nu(r,this._hostLView),a=Ou(r);return new $i(o[Ft].data[a+8],o)}return new $i(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const o=eT(this._lContainer);return null!==o&&o[r]||null}get length(){return this._lContainer.length-rr}createEmbeddedView(r,o,a){let u,d;"number"==typeof a?u=a:null!=a&&(u=a.index,d=a.injector);const w=r.createEmbeddedViewImpl(o||{},d,null);return this.insertImpl(w,u,false),w}createComponent(r,o,a,u,d){const g=r&&!function Yl(t){return"function"==typeof t}(r);let w;if(g)w=o;else{const Pt=o||{};w=Pt.index,a=Pt.injector,u=Pt.projectableNodes,d=Pt.environmentInjector||Pt.ngModuleRef}const S=g?r:new Rl(jn(r)),H=a||this.parentInjector;if(!d&&null==S.ngModule){const qt=(g?H:this.parentInjector).get(ma,null);qt&&(d=qt)}jn(S.componentType??{});const Ke=S.create(H,u,null,d);return this.insertImpl(Ke.hostView,w,false),Ke}insert(r,o){return this.insertImpl(r,o,!1)}insertImpl(r,o,a){const u=r._lView;if(function zn(t){return gr(t[Gn])}(u)){const S=this.indexOf(r);if(-1!==S)this.detach(S);else{const H=u[Gn],te=new X0(H,H[Fr],H[Gn]);te.detach(te.indexOf(r))}}const g=this._adjustIndex(o),w=this._lContainer;return GC(w,u,g,!a),r.attachToViewContainerRef(),Rd(iE(w),g,r),r}move(r,o){return this.insert(r,o)}indexOf(r){const o=eT(this._lContainer);return null!==o?o.indexOf(r):-1}remove(r){const o=this._adjustIndex(r,-1),a=$h(this._lContainer,o);a&&(Za(iE(this._lContainer),o),Jp(a[Ft],a))}detach(r){const o=this._adjustIndex(r,-1),a=$h(this._lContainer,o);return a&&null!=Za(iE(this._lContainer),o)?new _d(a):null}_adjustIndex(r,o=0){return r??this.length+o}};function eT(t){return t[8]}function iE(t){return t[8]||(t[8]=[])}function tT(t,r){let o;const a=r[t.index];return gr(a)?o=a:(o=$f(a,r,null,t),r[t.index]=o,pd(r,o)),nT(o,r,t,a),new X0(o,t,r)}let nT=function rT(t,r,o,a){if(t[Zr])return;let u;u=8&o.type?Rr(a):function nb(t,r){const o=t[fn],a=o.createComment(""),u=Zt(r,t);return Zu(o,iu(o,u),a,function el(t,r){return t.nextSibling(r)}(o,u),!1),a}(r,o),t[Zr]=u};class sE{constructor(r){this.queryList=r,this.matches=null}clone(){return new sE(this.queryList)}setDirty(){this.queryList.setDirty()}}class oE{constructor(r=[]){this.queries=r}createEmbeddedView(r){const o=r.queries;if(null!==o){const a=null!==r.contentQueries?r.contentQueries[0]:o.length,u=[];for(let d=0;d<a;d++){const g=o.getByIndex(d);u.push(this.queries[g.indexInDeclarationView].clone())}return new oE(u)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let o=0;o<this.queries.length;o++)null!==hT(r,o).matches&&this.queries[o].setDirty()}}class iT{constructor(r,o,a=null){this.predicate=r,this.flags=o,this.read=a}}class aE{constructor(r=[]){this.queries=r}elementStart(r,o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,o)}elementEnd(r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(r)}embeddedTView(r){let o=null;for(let a=0;a<this.length;a++){const u=null!==o?o.length:0,d=this.getByIndex(a).embeddedTView(r,u);d&&(d.indexInDeclarationView=a,null!==o?o.push(d):o=[d])}return null!==o?new aE(o):null}template(r,o){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,o)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class lE{constructor(r,o=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(r,o){this.isApplyingToNode(o)&&this.matchTNode(r,o)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,o){this.elementStart(r,o)}embeddedTView(r,o){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,o),new lE(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==o;)a=a.parent;return o===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,o){const a=this.metadata.predicate;if(Array.isArray(a))for(let u=0;u<a.length;u++){const d=a[u];this.matchTNodeWithReadOption(r,o,sb(o,d)),this.matchTNodeWithReadOption(r,o,Bi(o,r,d,!1,!1))}else a===i_?4&o.type&&this.matchTNodeWithReadOption(r,o,-1):this.matchTNodeWithReadOption(r,o,Bi(o,r,a,!1,!1))}matchTNodeWithReadOption(r,o,a){if(null!==a){const u=this.metadata.read;if(null!==u)if(u===Jd||u===cv||u===i_&&4&o.type)this.addMatch(o.index,-2);else{const d=Bi(o,r,u,!1,!1);null!==d&&this.addMatch(o.index,d)}else this.addMatch(o.index,a)}}addMatch(r,o){null===this.matches?this.matches=[r,o]:this.matches.push(r,o)}}function sb(t,r){const o=t.localNames;if(null!==o)for(let a=0;a<o.length;a+=2)if(o[a]===r)return o[a+1];return null}function ab(t,r,o,a){return-1===o?function ob(t,r){return 11&t.type?fu(t,r):4&t.type?lv(t,r):null}(r,t):-2===o?function lb(t,r,o){return o===Jd?fu(r,t):o===i_?lv(r,t):o===cv?tT(r,t):void 0}(t,r,a):Ma(t,t[Ft],o,r)}function sT(t,r,o,a){const u=r[bi].queries[a];if(null===u.matches){const d=t.data,g=o.matches,w=[];for(let S=0;S<g.length;S+=2){const H=g[S];w.push(H<0?null:ab(r,d[H],g[S+1],o.metadata.read))}u.matches=w}return u.matches}function uE(t,r,o,a){const u=t.queries.getByIndex(o),d=u.matches;if(null!==d){const g=sT(t,r,u,o);for(let w=0;w<d.length;w+=2){const S=d[w];if(S>0)a.push(g[w/2]);else{const H=d[w+1],te=r[-S];for(let _e=rr;_e<te.length;_e++){const Ve=te[_e];Ve[_i]===Ve[Gn]&&uE(Ve[Ft],Ve,H,a)}if(null!==te[ps]){const _e=te[ps];for(let Ve=0;Ve<_e.length;Ve++){const Ke=_e[Ve];uE(Ke[Ft],Ke,H,a)}}}}}return a}function oT(t){const r=vt(),o=ur(),a=vc();T(a+1);const u=hT(o,a);if(t.dirty&&function ji(t){return 4==(4&t[wn])}(r)===(2==(2&u.metadata.flags))){if(null===u.matches)t.reset([]);else{const d=u.crossesNgTemplate?uE(o,r,a,[]):sT(o,r,u,a);t.reset(d,Wv),t.notifyOnChanges()}return!0}return!1}function aT(t,r,o){const a=ur();a.firstCreatePass&&(dT(a,new iT(t,r,o),-1),2==(2&r)&&(a.staticViewQueries=!0)),cT(a,vt(),r)}function lT(t,r,o,a){const u=ur();if(u.firstCreatePass){const d=fr();dT(u,new iT(r,o,a),d.index),function cb(t,r){const o=t.contentQueries||(t.contentQueries=[]);r!==(o.length?o[o.length-1]:-1)&&o.push(t.queries.length-1,r)}(u,t),2==(2&o)&&(u.staticContentQueries=!0)}cT(u,vt(),o)}function uT(){return function ub(t,r){return t[bi].queries[r].queryList}(vt(),vc())}function cT(t,r,o){const a=new rE(4==(4&o));(function rI(t,r,o,a){const u=zf(r);u.push(o),t.firstCreatePass&&lg(t).push(a,u.length-1)})(t,r,a,a.destroy),null===r[bi]&&(r[bi]=new oE),r[bi].queries.push(new sE(a))}function dT(t,r,o){null===t.queries&&(t.queries=new aE),t.queries.track(new lE(r,o))}function hT(t,r){return t.queries.getByIndex(r)}function cE(t){return!!ni(t)}const PT=new Qe("Application Initializer");let mE=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((o,a)=>{this.resolve=o,this.reject=a}),this.appInits=kt(PT,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const o=[];for(const u of this.appInits){const d=u();if(Rg(d))o.push(d);else if(pc(d)){const g=new Promise((w,S)=>{d.subscribe({complete:w,error:S})});o.push(g)}}const a=()=>{this.done=!0,this.resolve()};Promise.all(o).then(()=>{a()}).catch(u=>{this.reject(u)}),0===o.length&&a(),this.initialized=!0}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),RT=(()=>{class t{log(o){console.log(o)}warn(o){console.warn(o)}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const hv=new Qe("LocaleId",{providedIn:"root",factory:()=>kt(hv,Xt.Optional|Xt.SkipSelf)||function xb(){return typeof $localize<"u"&&$localize.locale||Tp}()}),Ob=new Qe("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let MT=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new z.X(!1)}add(){this.hasPendingTasks.next(!0);const o=this.taskId++;return this.pendingTasks.add(o),o}remove(o){this.pendingTasks.delete(o),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class Lb{constructor(r,o){this.ngModuleFactory=r,this.componentFactories=o}}let kb=(()=>{class t{compileModuleSync(o){return new tE(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const a=this.compileModuleSync(o),d=ka(ni(o).declarations).reduce((g,w)=>{const S=jn(w);return S&&g.push(new Rl(S)),g},[]);return new Lb(a,d)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const LT=new Qe(""),kT=new Qe("");let yE,iD=(()=>{class t{constructor(o,a,u){this._ngZone=o,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,yE||(function sD(t){yE=t}(u),u.addToWindow(a)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{_s.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(o)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,a,u){let d=-1;a&&a>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(g=>g.timeoutId!==d),o(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:o,timeoutId:d,updateCb:u})}whenStable(o,a,u){if(u&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,a,u),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,a,u){return[]}static#e=this.\u0275fac=function(a){return new(a||t)(Tt(_s),Tt(FT),Tt(kT))};static#t=this.\u0275prov=an({token:t,factory:t.\u0275fac})}return t})(),FT=(()=>{class t{constructor(){this._applications=new Map}registerApplication(o,a){this._applications.set(o,a)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,a=!0){return yE?.findTestabilityInTree(this,o,a)??null}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),Td=null;const VT=new Qe("AllowMultipleToken"),vE=new Qe("PlatformDestroyListeners"),IE=new Qe("appBootstrapListener");class lD{constructor(r,o){this.name=r,this.token=o}}function HT(t,r,o=[]){const a=`Platform: ${r}`,u=new Qe(a);return(d=[])=>{let g=EE();if(!g||g.injector.get(VT,!1)){const w=[...o,...d,{provide:u,useValue:!0}];t?t(w):function uD(t){if(Td&&!Td.get(VT,!1))throw new ae(400,!1);(function UT(){!function E(t){Z=t}(()=>{throw new ae(600,!1)})})(),Td=t;const r=t.get($T);(function BT(t){t.get(Tm,null)?.forEach(o=>o())})(t)}(function jT(t=[],r){return ga.create({name:r,providers:[{provide:gs,useValue:"platform"},{provide:vE,useValue:new Set([()=>Td=null])},...t]})}(w,a))}return function dD(t){const r=EE();if(!r)throw new ae(401,!1);return r}()}}function EE(){return Td?.get($T)??null}let $T=(()=>{class t{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,a){const u=function hD(t="zone.js",r){return"noop"===t?new od:"zone.js"===t?new _s(r):t}(a?.ngZone,function zT(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:a?.ngZoneEventCoalescing,runCoalescing:a?.ngZoneRunCoalescing}));return u.run(()=>{const d=function yC(t,r,o){return new eE(t,r,o)}(o.moduleType,this.injector,function ZT(t){return[{provide:_s,useFactory:t},{provide:qc,multi:!0,useFactory:()=>{const r=kt(pD,{optional:!0});return()=>r.initialize()}},{provide:KT,useFactory:fD},{provide:sc,useFactory:Hm}]}(()=>u)),g=d.injector.get(mu,null);return u.runOutsideAngular(()=>{const w=u.onError.subscribe({next:S=>{g.handleError(S)}});d.onDestroy(()=>{pv(this._modules,d),w.unsubscribe()})}),function GT(t,r,o){try{const a=o();return Rg(a)?a.catch(u=>{throw r.runOutsideAngular(()=>t.handleError(u)),u}):a}catch(a){throw r.runOutsideAngular(()=>t.handleError(a)),a}}(g,u,()=>{const w=d.injector.get(mE);return w.runInitializers(),w.donePromise.then(()=>(function o0(t){gt(t,"Expected localeId to be defined"),"string"==typeof t&&(s0=t.toLowerCase().replace(/_/g,"-"))}(d.injector.get(hv,Tp)||Tp),this._moduleDoBootstrap(d),d))})})}bootstrapModule(o,a=[]){const u=WT({},a);return function oD(t,r,o){const a=new tE(o);return Promise.resolve(a)}(0,0,o).then(d=>this.bootstrapModuleFactory(d,u))}_moduleDoBootstrap(o){const a=o.injector.get(bp);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(u=>a.bootstrap(u));else{if(!o.instance.ngDoBootstrap)throw new ae(-403,!1);o.instance.ngDoBootstrap(a)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ae(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const o=this._injector.get(vE,null);o&&(o.forEach(a=>a()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(a){return new(a||t)(Tt(ga))};static#t=this.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function WT(t,r){return Array.isArray(r)?r.reduce(WT,t):{...t,...r}}let bp=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=kt(KT),this.zoneIsStable=kt(sc),this.componentTypes=[],this.components=[],this.isStable=kt(MT).hasPendingTasks.pipe((0,ce.w)(o=>o?(0,J.of)(!1):this.zoneIsStable),(0,de.x)(),(0,W.B)()),this._injector=kt(ma)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,a){const u=o instanceof nd;if(!this._injector.get(mE).done)throw!u&&qi(o),new ae(405,!1);let g;g=u?o:this._injector.get(Ef).resolveComponentFactory(o),this.componentTypes.push(g.componentType);const w=function aD(t){return t.isBoundToModule}(g)?void 0:this._injector.get(yh),H=g.create(ga.NULL,[],a||g.selector,w),te=H.location.nativeElement,_e=H.injector.get(LT,null);return _e?.registerApplication(te),H.onDestroy(()=>{this.detachView(H.hostView),pv(this.components,H),_e?.unregisterApplication(te)}),this._loadComponent(H),H}tick(){if(this._runningTick)throw new ae(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1}}attachView(o){const a=o;this._views.push(a),a.attachToAppRef(this)}detachView(o){const a=o;pv(this._views,a),a.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const a=this._injector.get(IE,[]);a.push(...this._bootstrapListeners),a.forEach(u=>u(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>pv(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new ae(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function pv(t,r){const o=t.indexOf(r);o>-1&&t.splice(o,1)}const KT=new Qe("",{providedIn:"root",factory:()=>kt(mu).handleError.bind(void 0)});function fD(){const t=kt(_s),r=kt(mu);return o=>t.runOutsideAngular(()=>r.handleError(o))}let pD=(()=>{class t{constructor(){this.zone=kt(_s),this.applicationRef=kt(bp)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=an({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function gD(){return!1}let _D=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=yD}return t})();function yD(t){return function vD(t,r,o){if(ds(t)&&!o){const a=hr(t.index,r);return new _d(a,a)}return 47&t.type?new _d(r[lr],r):null}(fr(),vt(),16==(16&t))}class XT{constructor(){}supports(r){return Yf(r)}create(r){return new bD(r)}}const CD=(t,r)=>r;class bD{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||CD}forEachItem(r){let o;for(o=this._itHead;null!==o;o=o._next)r(o)}forEachOperation(r){let o=this._itHead,a=this._removalsHead,u=0,d=null;for(;o||a;){const g=!a||o&&o.currentIndex<tw(a,u,d)?o:a,w=tw(g,u,d),S=g.currentIndex;if(g===a)u--,a=a._nextRemoved;else if(o=o._next,null==g.previousIndex)u++;else{d||(d=[]);const H=w-u,te=S-u;if(H!=te){for(let Ve=0;Ve<H;Ve++){const Ke=Ve<d.length?d[Ve]:d[Ve]=0,ft=Ke+Ve;te<=ft&&ft<H&&(d[Ve]=Ke+1)}d[g.previousIndex]=te-H}}w!==S&&r(g,w,S)}}forEachPreviousItem(r){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachMovedItem(r){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}forEachIdentityChange(r){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)r(o)}diff(r){if(null==r&&(r=[]),!Yf(r))throw new ae(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let u,d,g,o=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let w=0;w<this.length;w++)d=r[w],g=this._trackByFn(w,d),null!==o&&Object.is(o.trackById,g)?(a&&(o=this._verifyReinsertion(o,d,g,w)),Object.is(o.item,d)||this._addIdentityChange(o,d)):(o=this._mismatch(o,d,g,w),a=!0),o=o._next}else u=0,function Ay(t,r){if(Array.isArray(t))for(let o=0;o<t.length;o++)r(t[o]);else{const o=t[Symbol.iterator]();let a;for(;!(a=o.next()).done;)r(a.value)}}(r,w=>{g=this._trackByFn(u,w),null!==o&&Object.is(o.trackById,g)?(a&&(o=this._verifyReinsertion(o,w,g,u)),Object.is(o.item,w)||this._addIdentityChange(o,w)):(o=this._mismatch(o,w,g,u),a=!0),o=o._next,u++}),this.length=u;return this._truncate(o),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,o,a,u){let d;return null===r?d=this._itTail:(d=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._reinsertAfter(r,d,u)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,u))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._moveAfter(r,d,u)):r=this._addAfter(new DD(o,a),d,u),r}_verifyReinsertion(r,o,a,u){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==d?r=this._reinsertAfter(d,r._prev,u):r.currentIndex!=u&&(r.currentIndex=u,this._addToMoves(r,u)),r}_truncate(r){for(;null!==r;){const o=r._next;this._addToRemovals(this._unlink(r)),r=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,o,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const u=r._prevRemoved,d=r._nextRemoved;return null===u?this._removalsHead=d:u._nextRemoved=d,null===d?this._removalsTail=u:d._prevRemoved=u,this._insertAfter(r,o,a),this._addToMoves(r,a),r}_moveAfter(r,o,a){return this._unlink(r),this._insertAfter(r,o,a),this._addToMoves(r,a),r}_addAfter(r,o,a){return this._insertAfter(r,o,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,o,a){const u=null===o?this._itHead:o._next;return r._next=u,r._prev=o,null===u?this._itTail=r:u._prev=r,null===o?this._itHead=r:o._next=r,null===this._linkedRecords&&(this._linkedRecords=new ew),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const o=r._prev,a=r._next;return null===o?this._itHead=a:o._next=a,null===a?this._itTail=o:a._prev=o,r}_addToMoves(r,o){return r.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ew),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,o){return r.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class DD{constructor(r,o){this.item=r,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class AD{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,o){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===o||o<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const o=r._prevDup,a=r._nextDup;return null===o?this._head=a:o._nextDup=a,null===a?this._tail=o:a._prevDup=o,null===this._head}}class ew{constructor(){this.map=new Map}put(r){const o=r.trackById;let a=this.map.get(o);a||(a=new AD,this.map.set(o,a)),a.add(r)}get(r,o){const u=this.map.get(r);return u?u.get(r,o):null}remove(r){const o=r.trackById;return this.map.get(o).remove(r)&&this.map.delete(o),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function tw(t,r,o){const a=t.previousIndex;if(null===a)return a;let u=0;return o&&a<o.length&&(u=o[a]),a+r+u}class nw{constructor(){}supports(r){return r instanceof Map||ac(r)}create(){return new SD}}class SD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let o;for(o=this._mapHead;null!==o;o=o._next)r(o)}forEachPreviousItem(r){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)r(o)}forEachChangedItem(r){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}diff(r){if(r){if(!(r instanceof Map||ac(r)))throw new ae(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,u)=>{if(o&&o.key===u)this._maybeAddToChanges(o,a),this._appendAfter=o,o=o._next;else{const d=this._getOrCreateRecordForKey(u,a);o=this._insertBeforeOrAppend(o,d)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let a=o;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,o){if(r){const a=r._prev;return o._next=r,o._prev=a,r._prev=o,a&&(a._next=o),r===this._mapHead&&(this._mapHead=o),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(r,o){if(this._records.has(r)){const u=this._records.get(r);this._maybeAddToChanges(u,o);const d=u._prev,g=u._next;return d&&(d._next=g),g&&(g._prev=d),u._next=null,u._prev=null,u}const a=new PD(r);return this._records.set(r,a),a.currentValue=o,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,o){Object.is(o,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=o,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,o){r instanceof Map?r.forEach(o):Object.keys(r).forEach(a=>o(r[a],a))}}class PD{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function rw(){return new DE([new XT])}let DE=(()=>{class t{static#e=this.\u0275prov=an({token:t,providedIn:"root",factory:rw});constructor(o){this.factories=o}static create(o,a){if(null!=a){const u=a.factories.slice();o=o.concat(u)}return new t(o)}static extend(o){return{provide:t,useFactory:a=>t.create(o,a||rw()),deps:[[t,new vl,new $u]]}}find(o){const a=this.factories.find(u=>u.supports(o));if(null!=a)return a;throw new ae(901,!1)}}return t})();function iw(){return new AE([new nw])}let AE=(()=>{class t{static#e=this.\u0275prov=an({token:t,providedIn:"root",factory:iw});constructor(o){this.factories=o}static create(o,a){if(a){const u=a.factories.slice();o=o.concat(u)}return new t(o)}static extend(o){return{provide:t,useFactory:a=>t.create(o,a||iw()),deps:[[t,new vl,new $u]]}}find(o){const a=this.factories.find(u=>u.supports(o));if(a)return a;throw new ae(901,!1)}}return t})();const xD=HT(null,"core",[]);let OD=(()=>{class t{constructor(o){}static#e=this.\u0275fac=function(a){return new(a||t)(Tt(bp))};static#t=this.\u0275mod=Gs({type:t});static#n=this.\u0275inj=Un({})}return t})();function zD(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function WD(t){const r=jn(t);if(!r)return null;const o=new Rl(r);return{get selector(){return o.selector},get type(){return o.componentType},get inputs(){return o.inputs},get outputs(){return o.outputs},get ngContentSelectors(){return o.ngContentSelectors},get isStandalone(){return r.standalone},get isSignal(){return r.signals}}}},7213:(xt,je,U)=>{U.d(je,{zQ:()=>At,ww:()=>gn,rT:()=>at,f7:()=>$e,L6:()=>ye,_Q:()=>he,lh:()=>Ct,Qv:()=>Ce,nw:()=>Gt}),U(6365);var V=U(6814),b=U(5879),Te=U(8326),z=U(7217),J=U(8645),W=U(2096),ce=U(5592),de=U(2459),X=U(3019),se=U(3093),Ee=U(4664),ze=U(7398),Ye=U(4552);class lt extends J.x{constructor(Nt=1/0,Se=1/0,Oe=Ye.l){super(),this._bufferSize=Nt,this._windowTime=Se,this._timestampProvider=Oe,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Se===1/0,this._bufferSize=Math.max(1,Nt),this._windowTime=Math.max(1,Se)}next(Nt){const{isStopped:Se,_buffer:Oe,_infiniteTimeWindow:Ze,_timestampProvider:ke,_windowTime:He}=this;Se||(Oe.push(Nt),!Ze&&Oe.push(ke.now()+He)),this._trimBuffer(),super.next(Nt)}_subscribe(Nt){this._throwIfClosed(),this._trimBuffer();const Se=this._innerSubscribe(Nt),{_infiniteTimeWindow:Oe,_buffer:Ze}=this,ke=Ze.slice();for(let He=0;He<ke.length&&!Nt.closed;He+=Oe?1:2)Nt.next(ke[He]);return this._checkFinalizedStatuses(Nt),Se}_trimBuffer(){const{_bufferSize:Nt,_timestampProvider:Se,_buffer:Oe,_infiniteTimeWindow:Ze}=this,ke=(Ze?1:2)*Nt;if(Nt<1/0&&ke<Oe.length&&Oe.splice(0,Oe.length-ke),!Ze){const He=Se.now();let ht=0;for(let gt=1;gt<Oe.length&&Oe[gt]<=He;gt+=2)ht=gt;ht&&Oe.splice(0,ht+1)}}}var tt=U(3020);function rt(bt,Nt,Se){let Oe,Ze=!1;return bt&&"object"==typeof bt?({bufferSize:Oe=1/0,windowTime:Nt=1/0,refCount:Ze=!1,scheduler:Se}=bt):Oe=bt??1/0,(0,tt.B)({connector:()=>new lt(Oe,Nt,Se),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Ze})}var st=U(1374),wt=U(4674);function ut(bt,Nt){return(0,wt.m)(Nt)?(0,Ee.w)(()=>bt,Nt):(0,Ee.w)(()=>bt)}var ae=U(5137),Me=U(2181),me=U(7142);const Ce=new b.OlP("angularfire2.auth.use-emulator"),ye=new b.OlP("angularfire2.auth.settings"),he=new b.OlP("angularfire2.auth.tenant-id"),at=new b.OlP("angularfire2.auth.langugage-code"),Ct=new b.OlP("angularfire2.auth.use-device-language"),$e=new b.OlP("angularfire.auth.persistence"),Gt=(bt,Nt,Se,Oe,Ze,ke,He,ht)=>(0,z.cc)(`${bt.name}.auth`,"AngularFireAuth",bt.name,()=>{const gt=Nt.runOutsideAngular(()=>bt.auth());if(Se&&gt.useEmulator(...Se),Oe&&(gt.tenantId=Oe),gt.languageCode=Ze,ke&&gt.useDeviceLanguage(),He)for(const[yt,Ln]of Object.entries(He))gt.settings[yt]=Ln;return ht&&gt.setPersistence(ht),gt},[Se,Oe,Ze,ke,He,ht]);let At=(()=>{class bt{authState;idToken;user;idTokenResult;credential;constructor(Se,Oe,Ze,ke,He,ht,gt,yt,Ln,en,Sn,an){const ln=new J.x,Un=(0,W.of)(void 0).pipe((0,se.Q)(He.outsideAngular),(0,Ee.w)(()=>ke.runOutsideAngular(()=>Promise.resolve().then(U.bind(U,6365)))),(0,ze.U)(()=>(0,z.on)(Se,ke,Oe)),(0,ze.U)(Pn=>Gt(Pn,ke,ht,yt,Ln,en,gt,Sn)),rt({bufferSize:1,refCount:!1}));if((0,V.PM)(Ze))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,W.of)(null);else{Un.pipe((0,st.P)()).subscribe();const Pn=Un.pipe((0,Ee.w)(Rn=>Rn.getRedirectResult().then(Er=>Er,()=>null)),Te.iC,rt({bufferSize:1,refCount:!1})),Tn=Un.pipe((0,Ee.w)(Rn=>new ce.y(Er=>({unsubscribe:ke.runOutsideAngular(()=>Rn.onAuthStateChanged(Mn=>Er.next(Mn),Mn=>Er.error(Mn),()=>Er.complete()))})))),Vt=Un.pipe((0,Ee.w)(Rn=>new ce.y(Er=>({unsubscribe:ke.runOutsideAngular(()=>Rn.onIdTokenChanged(Mn=>Er.next(Mn),Mn=>Er.error(Mn),()=>Er.complete()))}))));this.authState=Pn.pipe(ut(Tn),(0,ae.R)(He.outsideAngular),(0,se.Q)(He.insideAngular)),this.user=Pn.pipe(ut(Vt),(0,ae.R)(He.outsideAngular),(0,se.Q)(He.insideAngular)),this.idToken=this.user.pipe((0,Ee.w)(Rn=>Rn?(0,de.D)(Rn.getIdToken()):(0,W.of)(null))),this.idTokenResult=this.user.pipe((0,Ee.w)(Rn=>Rn?(0,de.D)(Rn.getIdTokenResult()):(0,W.of)(null))),this.credential=(0,X.T)(Pn,ln,this.authState.pipe((0,Me.h)(Rn=>!Rn))).pipe((0,ze.U)(Rn=>Rn?.user?Rn:null),(0,ae.R)(He.outsideAngular),(0,se.Q)(He.insideAngular))}return(0,z.pX)(this,Un,ke,{spy:{apply:(Pn,Tn,Vt)=>{(Pn.startsWith("signIn")||Pn.startsWith("createUser"))&&Vt.then(Rn=>ln.next(Rn))}}})}static \u0275fac=function(Oe){return new(Oe||bt)(b.LFG(z.Dh),b.LFG(z.xv,8),b.LFG(b.Lbi),b.LFG(b.R0b),b.LFG(Te.HU),b.LFG(Ce,8),b.LFG(ye,8),b.LFG(he,8),b.LFG(at,8),b.LFG(Ct,8),b.LFG($e,8),b.LFG(Te.Rf,8))};static \u0275prov=b.Yz7({token:bt,factory:bt.\u0275fac,providedIn:"any"})}return bt})(),gn=(()=>{class bt{constructor(){me.Z.registerVersion("angularfire",Te.q4.full,"auth-compat")}static \u0275fac=function(Oe){return new(Oe||bt)};static \u0275mod=b.oAB({type:bt});static \u0275inj=b.cJS({providers:[At]})}return bt})()},7217:(xt,je,U)=>{U.d(je,{Dh:()=>ce,GT:()=>J,cc:()=>Ye,hO:()=>ze,on:()=>X,pX:()=>z,xv:()=>de});var p=U(5879),V=U(8326),b=U(7142);const Te=["ngOnDestroy"],z=(st,wt,ut,ae={})=>new Proxy(st,{get:(Me,me)=>ut.runOutsideAngular(()=>{if(st[me])return ae?.spy?.get&&ae.spy.get(me,st[me]),st[me];if(Te.indexOf(me)>-1)return()=>{};const ge=wt.toPromise().then(Ce=>{const ye=Ce?.[me];return"function"==typeof ye?ye.bind(Ce):ye?.then?ye.then(he=>ut.run(()=>he)):ut.run(()=>ye)});return new Proxy(()=>{},{get:(Ce,ye)=>ge[ye],apply:(Ce,ye,he)=>ge.then(at=>{const Ct=at?.(...he);return ae?.spy?.apply&&ae.spy.apply(me,he,Ct),Ct})})})}),J=(st,wt)=>{wt.forEach(ut=>{Object.getOwnPropertyNames(ut.prototype||ut).forEach(ae=>{Object.defineProperty(st.prototype,ae,Object.getOwnPropertyDescriptor(ut.prototype||ut,ae))})})};class W{constructor(wt){return wt}}const ce=new p.OlP("angularfire2.app.options"),de=new p.OlP("angularfire2.app.name");function X(st,wt,ut){const Me="object"==typeof ut&&ut||{};Me.name=Me.name||"string"==typeof ut&&ut||"[DEFAULT]";const ge=b.Z.apps.filter(Ce=>Ce&&Ce.name===Me.name)[0]||wt.runOutsideAngular(()=>b.Z.initializeApp(st,Me));try{if(JSON.stringify(st)!==JSON.stringify(ge.options)){const Ce=!!module.hot;se("error",`${ge.name} Firebase App already initialized with different options${Ce?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new W(ge)}const se=(st,...wt)=>{(0,p.X6Q)()&&typeof console<"u"&&console[st](...wt)},Ee={provide:W,useFactory:X,deps:[ce,p.R0b,[new p.FiY,de]]};let ze=(()=>{class st{static initializeApp(ut,ae){return{ngModule:st,providers:[{provide:ce,useValue:ut},{provide:de,useValue:ae}]}}constructor(ut){b.Z.registerVersion("angularfire",V.q4.full,"core"),b.Z.registerVersion("angularfire",V.q4.full,"app-compat"),b.Z.registerVersion("angular",p.q4F.full,ut.toString())}static \u0275fac=function(ae){return new(ae||st)(p.LFG(p.Lbi))};static \u0275mod=p.oAB({type:st});static \u0275inj=p.cJS({providers:[Ee]})}return st})();function Ye(st,wt,ut,ae,Me){const[,me,ge]=globalThis.\u0275AngularfireInstanceCache.find(Ce=>Ce[0]===st)||[];if(me)return function lt(st,wt){try{return st.toString()===wt.toString()}catch{return st===wt}}(Me,ge)||(rt("error",`${wt} was already initialized on the ${ut} Firebase App with different settings.${tt?" You may need to reload as Firebase is not HMR aware.":""}`),rt("warn",{is:Me,was:ge})),me;{const Ce=ae();return globalThis.\u0275AngularfireInstanceCache.push([st,Ce,Me]),Ce}}const tt=typeof module<"u"&&!!module.hot,rt=(st,...wt)=>{(0,p.X6Q)()&&typeof console<"u"&&console[st](...wt)};globalThis.\u0275AngularfireInstanceCache||=[]},8326:(xt,je,U)=>{U.d(je,{q4:()=>lt,iC:()=>$e,HU:()=>ge,Rf:()=>wt});var p=U(5879),V=U(534);(0,V.registerVersion)("firebase","10.8.0","app");var z=U(1954),W=U(2631);const de=new class ce extends W.v{}(class J extends z.o{constructor(Nt,Se){super(Nt,Se),this.scheduler=Nt,this.work=Se}schedule(Nt,Se=0){return Se>0?super.schedule(Nt,Se):(this.delay=Se,this.state=Nt,this.scheduler.flush(this),this)}execute(Nt,Se){return Se>0||this.closed?super.execute(Nt,Se):this._execute(Nt,Se)}requestAsyncId(Nt,Se,Oe=0){return null!=Oe&&Oe>0||null==Oe&&this.delay>0?super.requestAsyncId(Nt,Se,Oe):(Nt.flush(this),0)}});var se=U(6321),Ee=U(9397),ze=U(5137),Ye=U(3093);const lt=new p.GfV("ANGULARFIRE2_VERSION");class wt{constructor(){return((bt,Nt)=>{const Se=(0,V.getApps)(),Oe=[];return Se.forEach(Ze=>{Ze.container.getProvider(bt).instances.forEach(He=>{Oe.includes(He)||Oe.push(He)})}),Oe})(ut)}}const ut="app-check";function ae(){}class Me{zone;delegate;constructor(Nt,Se=de){this.zone=Nt,this.delegate=Se}now(){return this.delegate.now()}schedule(Nt,Se,Oe){const Ze=this.zone;return this.delegate.schedule(function(He){Ze.runGuarded(()=>{Nt.apply(this,[He])})},Se,Oe)}}class me{zone;task=null;constructor(Nt){this.zone=Nt}call(Nt,Se){const Oe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ae,{},ae,ae)),Se.pipe((0,Ee.b)({next:Oe,complete:Oe,error:Oe})).subscribe(Nt).add(Oe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ge=(()=>{class bt{ngZone;outsideAngular;insideAngular;constructor(Se){this.ngZone=Se,this.outsideAngular=Se.runOutsideAngular(()=>new Me(Zone.current)),this.insideAngular=Se.run(()=>new Me(Zone.current,se.z)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(Oe){return new(Oe||bt)(p.LFG(p.R0b))};static \u0275prov=p.Yz7({token:bt,factory:bt.\u0275fac,providedIn:"root"})}return bt})();function $e(bt){return function Gt(bt){return function(Se){return(Se=Se.lift(new me(bt.ngZone))).pipe((0,ze.R)(bt.outsideAngular),(0,Ye.Q)(bt.insideAngular))}}(function Ce(){const bt=globalThis.\u0275AngularFireScheduler;if(!bt)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return bt}())(bt)}},95:(xt,je,U)=>{U.d(je,{Wl:()=>rt,Fj:()=>ae,u5:()=>Ms,JU:()=>lt,JJ:()=>hn,JL:()=>Qt,F:()=>Wi,On:()=>Lo,Q7:()=>Zr,_Y:()=>ys});var p=U(5879),V=U(6814),b=U(2459),Te=U(5592),z=U(7453),J=U(4829),W=U(4564),ce=U(8251),de=U(7400),X=U(2714),Ee=U(7398);let ze=(()=>{class G{constructor(O,ie){this._renderer=O,this._elementRef=ie,this.onChange=be=>{},this.onTouched=()=>{}}setProperty(O,ie){this._renderer.setProperty(this._elementRef.nativeElement,O,ie)}registerOnTouched(O){this.onTouched=O}registerOnChange(O){this.onChange=O}setDisabledState(O){this.setProperty("disabled",O)}static#e=this.\u0275fac=function(ie){return new(ie||G)(p.Y36(p.Qsj),p.Y36(p.SBq))};static#t=this.\u0275dir=p.lG2({type:G})}return G})(),Ye=(()=>{class G extends ze{static#e=this.\u0275fac=function(){let O;return function(be){return(O||(O=p.n5z(G)))(be||G)}}();static#t=this.\u0275dir=p.lG2({type:G,features:[p.qOj]})}return G})();const lt=new p.OlP("NgValueAccessor"),tt={provide:lt,useExisting:(0,p.Gpc)(()=>rt),multi:!0};let rt=(()=>{class G extends Ye{writeValue(O){this.setProperty("checked",O)}static#e=this.\u0275fac=function(){let O;return function(be){return(O||(O=p.n5z(G)))(be||G)}}();static#t=this.\u0275dir=p.lG2({type:G,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(ie,be){1&ie&&p.NdJ("change",function(In){return be.onChange(In.target.checked)})("blur",function(){return be.onTouched()})},features:[p._Bn([tt]),p.qOj]})}return G})();const st={provide:lt,useExisting:(0,p.Gpc)(()=>ae),multi:!0},ut=new p.OlP("CompositionEventMode");let ae=(()=>{class G extends ze{constructor(O,ie,be){super(O,ie),this._compositionMode=be,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function wt(){const G=(0,V.q)()?(0,V.q)().getUserAgent():"";return/android (\d+)/.test(G.toLowerCase())}())}writeValue(O){this.setProperty("value",O??"")}_handleInput(O){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(O)}_compositionStart(){this._composing=!0}_compositionEnd(O){this._composing=!1,this._compositionMode&&this.onChange(O)}static#e=this.\u0275fac=function(ie){return new(ie||G)(p.Y36(p.Qsj),p.Y36(p.SBq),p.Y36(ut,8))};static#t=this.\u0275dir=p.lG2({type:G,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(ie,be){1&ie&&p.NdJ("input",function(In){return be._handleInput(In.target.value)})("blur",function(){return be.onTouched()})("compositionstart",function(){return be._compositionStart()})("compositionend",function(In){return be._compositionEnd(In.target.value)})},features:[p._Bn([st]),p.qOj]})}return G})();const ge=new p.OlP("NgValidators"),Ce=new p.OlP("NgAsyncValidators");function $e(G){return function Me(G){return null==G||("string"==typeof G||Array.isArray(G))&&0===G.length}(G.value)?{required:!0}:null}function Se(G){return null}function Oe(G){return null!=G}function Ze(G){return(0,p.QGY)(G)?(0,b.D)(G):G}function ke(G){let q={};return G.forEach(O=>{q=null!=O?{...q,...O}:q}),0===Object.keys(q).length?null:q}function He(G,q){return q.map(O=>O(G))}function gt(G){return G.map(q=>function ht(G){return!G.validate}(q)?q:O=>q.validate(O))}function Ln(G){return null!=G?function yt(G){if(!G)return null;const q=G.filter(Oe);return 0==q.length?null:function(O){return ke(He(O,q))}}(gt(G)):null}function Sn(G){return null!=G?function en(G){if(!G)return null;const q=G.filter(Oe);return 0==q.length?null:function(O){return function se(...G){const q=(0,W.jO)(G),{args:O,keys:ie}=(0,z.D)(G),be=new Te.y(tn=>{const{length:In}=O;if(!In)return void tn.complete();const Ai=new Array(In);let ms=In,Si=In;for(let ho=0;ho<In;ho++){let Qi=!1;(0,J.Xf)(O[ho]).subscribe((0,ce.x)(tn,si=>{Qi||(Qi=!0,Si--),Ai[ho]=si},()=>ms--,void 0,()=>{(!ms||!Qi)&&(Si||tn.next(ie?(0,X.n)(ie,Ai):Ai),tn.complete())}))}});return q?be.pipe((0,de.Z)(q)):be}(He(O,q).map(Ze)).pipe((0,Ee.U)(ke))}}(gt(G)):null}function an(G,q){return null===G?[q]:Array.isArray(G)?[...G,q]:[G,q]}function Pn(G){return G?Array.isArray(G)?G:[G]:[]}function Tn(G,q){return Array.isArray(G)?G.includes(q):G===q}function Vt(G,q){const O=Pn(q);return Pn(G).forEach(be=>{Tn(O,be)||O.push(be)}),O}function Rn(G,q){return Pn(q).filter(O=>!Tn(G,O))}class Er{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(q){this._rawValidators=q||[],this._composedValidatorFn=Ln(this._rawValidators)}_setAsyncValidators(q){this._rawAsyncValidators=q||[],this._composedAsyncValidatorFn=Sn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(q){this._onDestroyCallbacks.push(q)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(q=>q()),this._onDestroyCallbacks=[]}reset(q=void 0){this.control&&this.control.reset(q)}hasError(q,O){return!!this.control&&this.control.hasError(q,O)}getError(q,O){return this.control?this.control.getError(q,O):null}}class Mn extends Er{get formDirective(){return null}get path(){return null}}class kn extends Er{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Nr{constructor(q){this._cd=q}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let hn=(()=>{class G extends Nr{constructor(O){super(O)}static#e=this.\u0275fac=function(ie){return new(ie||G)(p.Y36(kn,2))};static#t=this.\u0275dir=p.lG2({type:G,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(ie,be){2&ie&&p.ekj("ng-untouched",be.isUntouched)("ng-touched",be.isTouched)("ng-pristine",be.isPristine)("ng-dirty",be.isDirty)("ng-valid",be.isValid)("ng-invalid",be.isInvalid)("ng-pending",be.isPending)},features:[p.qOj]})}return G})(),Qt=(()=>{class G extends Nr{constructor(O){super(O)}static#e=this.\u0275fac=function(ie){return new(ie||G)(p.Y36(Mn,10))};static#t=this.\u0275dir=p.lG2({type:G,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(ie,be){2&ie&&p.ekj("ng-untouched",be.isUntouched)("ng-touched",be.isTouched)("ng-pristine",be.isPristine)("ng-dirty",be.isDirty)("ng-valid",be.isValid)("ng-invalid",be.isInvalid)("ng-pending",be.isPending)("ng-submitted",be.isSubmitted)},features:[p.qOj]})}return G})();const Ti="VALID",Ar="INVALID",Sr="PENDING",kr="DISABLED";function Pe(G){return(k(G)?G.validators:G)||null}function $(G,q){return(k(q)?q.asyncValidators:G)||null}function k(G){return null!=G&&!Array.isArray(G)&&"object"==typeof G}class ct{constructor(q,O){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(q),this._assignAsyncValidators(O)}get validator(){return this._composedValidatorFn}set validator(q){this._rawValidators=this._composedValidatorFn=q}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(q){this._rawAsyncValidators=this._composedAsyncValidatorFn=q}get parent(){return this._parent}get valid(){return this.status===Ti}get invalid(){return this.status===Ar}get pending(){return this.status==Sr}get disabled(){return this.status===kr}get enabled(){return this.status!==kr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(q){this._assignValidators(q)}setAsyncValidators(q){this._assignAsyncValidators(q)}addValidators(q){this.setValidators(Vt(q,this._rawValidators))}addAsyncValidators(q){this.setAsyncValidators(Vt(q,this._rawAsyncValidators))}removeValidators(q){this.setValidators(Rn(q,this._rawValidators))}removeAsyncValidators(q){this.setAsyncValidators(Rn(q,this._rawAsyncValidators))}hasValidator(q){return Tn(this._rawValidators,q)}hasAsyncValidator(q){return Tn(this._rawAsyncValidators,q)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(q={}){this.touched=!0,this._parent&&!q.onlySelf&&this._parent.markAsTouched(q)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(q=>q.markAllAsTouched())}markAsUntouched(q={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(O=>{O.markAsUntouched({onlySelf:!0})}),this._parent&&!q.onlySelf&&this._parent._updateTouched(q)}markAsDirty(q={}){this.pristine=!1,this._parent&&!q.onlySelf&&this._parent.markAsDirty(q)}markAsPristine(q={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(O=>{O.markAsPristine({onlySelf:!0})}),this._parent&&!q.onlySelf&&this._parent._updatePristine(q)}markAsPending(q={}){this.status=Sr,!1!==q.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!q.onlySelf&&this._parent.markAsPending(q)}disable(q={}){const O=this._parentMarkedDirty(q.onlySelf);this.status=kr,this.errors=null,this._forEachChild(ie=>{ie.disable({...q,onlySelf:!0})}),this._updateValue(),!1!==q.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...q,skipPristineCheck:O}),this._onDisabledChange.forEach(ie=>ie(!0))}enable(q={}){const O=this._parentMarkedDirty(q.onlySelf);this.status=Ti,this._forEachChild(ie=>{ie.enable({...q,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:q.emitEvent}),this._updateAncestors({...q,skipPristineCheck:O}),this._onDisabledChange.forEach(ie=>ie(!1))}_updateAncestors(q){this._parent&&!q.onlySelf&&(this._parent.updateValueAndValidity(q),q.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(q){this._parent=q}getRawValue(){return this.value}updateValueAndValidity(q={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ti||this.status===Sr)&&this._runAsyncValidator(q.emitEvent)),!1!==q.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!q.onlySelf&&this._parent.updateValueAndValidity(q)}_updateTreeValidity(q={emitEvent:!0}){this._forEachChild(O=>O._updateTreeValidity(q)),this.updateValueAndValidity({onlySelf:!0,emitEvent:q.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?kr:Ti}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(q){if(this.asyncValidator){this.status=Sr,this._hasOwnPendingAsyncValidator=!0;const O=Ze(this.asyncValidator(this));this._asyncValidationSubscription=O.subscribe(ie=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(ie,{emitEvent:q})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(q,O={}){this.errors=q,this._updateControlsErrors(!1!==O.emitEvent)}get(q){let O=q;return null==O||(Array.isArray(O)||(O=O.split(".")),0===O.length)?null:O.reduce((ie,be)=>ie&&ie._find(be),this)}getError(q,O){const ie=O?this.get(O):this;return ie&&ie.errors?ie.errors[q]:null}hasError(q,O){return!!this.getError(q,O)}get root(){let q=this;for(;q._parent;)q=q._parent;return q}_updateControlsErrors(q){this.status=this._calculateStatus(),q&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(q)}_initObservables(){this.valueChanges=new p.vpe,this.statusChanges=new p.vpe}_calculateStatus(){return this._allControlsDisabled()?kr:this.errors?Ar:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Sr)?Sr:this._anyControlsHaveStatus(Ar)?Ar:Ti}_anyControlsHaveStatus(q){return this._anyControls(O=>O.status===q)}_anyControlsDirty(){return this._anyControls(q=>q.dirty)}_anyControlsTouched(){return this._anyControls(q=>q.touched)}_updatePristine(q={}){this.pristine=!this._anyControlsDirty(),this._parent&&!q.onlySelf&&this._parent._updatePristine(q)}_updateTouched(q={}){this.touched=this._anyControlsTouched(),this._parent&&!q.onlySelf&&this._parent._updateTouched(q)}_registerOnCollectionChange(q){this._onCollectionChange=q}_setUpdateStrategy(q){k(q)&&null!=q.updateOn&&(this._updateOn=q.updateOn)}_parentMarkedDirty(q){return!q&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(q){return null}_assignValidators(q){this._rawValidators=Array.isArray(q)?q.slice():q,this._composedValidatorFn=function re(G){return Array.isArray(G)?Ln(G):G||null}(this._rawValidators)}_assignAsyncValidators(q){this._rawAsyncValidators=Array.isArray(q)?q.slice():q,this._composedAsyncValidatorFn=function N(G){return Array.isArray(G)?Sn(G):G||null}(this._rawAsyncValidators)}}class Tt extends ct{constructor(q,O,ie){super(Pe(O),$(ie,O)),this.controls=q,this._initObservables(),this._setUpdateStrategy(O),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(q,O){return this.controls[q]?this.controls[q]:(this.controls[q]=O,O.setParent(this),O._registerOnCollectionChange(this._onCollectionChange),O)}addControl(q,O,ie={}){this.registerControl(q,O),this.updateValueAndValidity({emitEvent:ie.emitEvent}),this._onCollectionChange()}removeControl(q,O={}){this.controls[q]&&this.controls[q]._registerOnCollectionChange(()=>{}),delete this.controls[q],this.updateValueAndValidity({emitEvent:O.emitEvent}),this._onCollectionChange()}setControl(q,O,ie={}){this.controls[q]&&this.controls[q]._registerOnCollectionChange(()=>{}),delete this.controls[q],O&&this.registerControl(q,O),this.updateValueAndValidity({emitEvent:ie.emitEvent}),this._onCollectionChange()}contains(q){return this.controls.hasOwnProperty(q)&&this.controls[q].enabled}setValue(q,O={}){(function Le(G,q,O){G._forEachChild((ie,be)=>{if(void 0===O[be])throw new p.vHH(1002,"")})})(this,0,q),Object.keys(q).forEach(ie=>{(function fe(G,q,O){const ie=G.controls;if(!(q?Object.keys(ie):ie).length)throw new p.vHH(1e3,"");if(!ie[O])throw new p.vHH(1001,"")})(this,!0,ie),this.controls[ie].setValue(q[ie],{onlySelf:!0,emitEvent:O.emitEvent})}),this.updateValueAndValidity(O)}patchValue(q,O={}){null!=q&&(Object.keys(q).forEach(ie=>{const be=this.controls[ie];be&&be.patchValue(q[ie],{onlySelf:!0,emitEvent:O.emitEvent})}),this.updateValueAndValidity(O))}reset(q={},O={}){this._forEachChild((ie,be)=>{ie.reset(q?q[be]:null,{onlySelf:!0,emitEvent:O.emitEvent})}),this._updatePristine(O),this._updateTouched(O),this.updateValueAndValidity(O)}getRawValue(){return this._reduceChildren({},(q,O,ie)=>(q[ie]=O.getRawValue(),q))}_syncPendingControls(){let q=this._reduceChildren(!1,(O,ie)=>!!ie._syncPendingControls()||O);return q&&this.updateValueAndValidity({onlySelf:!0}),q}_forEachChild(q){Object.keys(this.controls).forEach(O=>{const ie=this.controls[O];ie&&q(ie,O)})}_setUpControls(){this._forEachChild(q=>{q.setParent(this),q._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(q){for(const[O,ie]of Object.entries(this.controls))if(this.contains(O)&&q(ie))return!0;return!1}_reduceValue(){return this._reduceChildren({},(O,ie,be)=>((ie.enabled||this.disabled)&&(O[be]=ie.value),O))}_reduceChildren(q,O){let ie=q;return this._forEachChild((be,tn)=>{ie=O(ie,be,tn)}),ie}_allControlsDisabled(){for(const q of Object.keys(this.controls))if(this.controls[q].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(q){return this.controls.hasOwnProperty(q)?this.controls[q]:null}}const De=new p.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>ve}),ve="always";function Ie(G,q,O=ve){St(G,q),q.valueAccessor.writeValue(G.value),(G.disabled||"always"===O)&&q.valueAccessor.setDisabledState?.(G.disabled),function nn(G,q){q.valueAccessor.registerOnChange(O=>{G._pendingValue=O,G._pendingChange=!0,G._pendingDirty=!0,"change"===G.updateOn&&xn(G,q)})}(G,q),function Xn(G,q){const O=(ie,be)=>{q.valueAccessor.writeValue(ie),be&&q.viewToModelUpdate(ie)};G.registerOnChange(O),q._registerOnDestroy(()=>{G._unregisterOnChange(O)})}(G,q),function Zn(G,q){q.valueAccessor.registerOnTouched(()=>{G._pendingTouched=!0,"blur"===G.updateOn&&G._pendingChange&&xn(G,q),"submit"!==G.updateOn&&G.markAsTouched()})}(G,q),function et(G,q){if(q.valueAccessor.setDisabledState){const O=ie=>{q.valueAccessor.setDisabledState(ie)};G.registerOnDisabledChange(O),q._registerOnDestroy(()=>{G._unregisterOnDisabledChange(O)})}}(G,q)}function Ue(G,q){G.forEach(O=>{O.registerOnValidatorChange&&O.registerOnValidatorChange(q)})}function St(G,q){const O=function ln(G){return G._rawValidators}(G);null!==q.validator?G.setValidators(an(O,q.validator)):"function"==typeof O&&G.setValidators([O]);const ie=function Un(G){return G._rawAsyncValidators}(G);null!==q.asyncValidator?G.setAsyncValidators(an(ie,q.asyncValidator)):"function"==typeof ie&&G.setAsyncValidators([ie]);const be=()=>G.updateValueAndValidity();Ue(q._rawValidators,be),Ue(q._rawAsyncValidators,be)}function xn(G,q){G._pendingDirty&&G.markAsDirty(),G.setValue(G._pendingValue,{emitModelToViewChange:!1}),q.viewToModelUpdate(G._pendingValue),G._pendingChange=!1}const zo={provide:Mn,useExisting:(0,p.Gpc)(()=>Wi)},ii=(()=>Promise.resolve())();let Wi=(()=>{class G extends Mn{constructor(O,ie,be){super(),this.callSetDisabledState=be,this.submitted=!1,this._directives=new Set,this.ngSubmit=new p.vpe,this.form=new Tt({},Ln(O),Sn(ie))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(O){ii.then(()=>{const ie=this._findContainer(O.path);O.control=ie.registerControl(O.name,O.control),Ie(O.control,O,this.callSetDisabledState),O.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(O)})}getControl(O){return this.form.get(O.path)}removeControl(O){ii.then(()=>{const ie=this._findContainer(O.path);ie&&ie.removeControl(O.name),this._directives.delete(O)})}addFormGroup(O){ii.then(()=>{const ie=this._findContainer(O.path),be=new Tt({});(function Or(G,q){St(G,q)})(be,O),ie.registerControl(O.name,be),be.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(O){ii.then(()=>{const ie=this._findContainer(O.path);ie&&ie.removeControl(O.name)})}getFormGroup(O){return this.form.get(O.path)}updateModel(O,ie){ii.then(()=>{this.form.get(O.path).setValue(ie)})}setValue(O){this.control.setValue(O)}onSubmit(O){return this.submitted=!0,function Gi(G,q){G._syncPendingControls(),q.forEach(O=>{const ie=O.control;"submit"===ie.updateOn&&ie._pendingChange&&(O.viewToModelUpdate(ie._pendingValue),ie._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(O),"dialog"===O?.target?.method}onReset(){this.resetForm()}resetForm(O=void 0){this.form.reset(O),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(O){return O.pop(),O.length?this.form.get(O):this.form}static#e=this.\u0275fac=function(ie){return new(ie||G)(p.Y36(ge,10),p.Y36(Ce,10),p.Y36(De,8))};static#t=this.\u0275dir=p.lG2({type:G,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(ie,be){1&ie&&p.NdJ("submit",function(In){return be.onSubmit(In)})("reset",function(){return be.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[p._Bn([zo]),p.qOj]})}return G})();function wi(G,q){const O=G.indexOf(q);O>-1&&G.splice(O,1)}function Io(G){return"object"==typeof G&&null!==G&&2===Object.keys(G).length&&"value"in G&&"disabled"in G}const li=class extends ct{constructor(q=null,O,ie){super(Pe(O),$(ie,O)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(q),this._setUpdateStrategy(O),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),k(O)&&(O.nonNullable||O.initialValueIsDefault)&&(this.defaultValue=Io(q)?q.value:q)}setValue(q,O={}){this.value=this._pendingValue=q,this._onChange.length&&!1!==O.emitModelToViewChange&&this._onChange.forEach(ie=>ie(this.value,!1!==O.emitViewToModelChange)),this.updateValueAndValidity(O)}patchValue(q,O={}){this.setValue(q,O)}reset(q=this.defaultValue,O={}){this._applyFormState(q),this.markAsPristine(O),this.markAsUntouched(O),this.setValue(this.value,O),this._pendingChange=!1}_updateValue(){}_anyControls(q){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(q){this._onChange.push(q)}_unregisterOnChange(q){wi(this._onChange,q)}registerOnDisabledChange(q){this._onDisabledChange.push(q)}_unregisterOnDisabledChange(q){wi(this._onDisabledChange,q)}_forEachChild(q){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(q){Io(q)?(this.value=this._pendingValue=q.value,q.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=q}},sa={provide:kn,useExisting:(0,p.Gpc)(()=>Lo)},Gs=(()=>Promise.resolve())();let Lo=(()=>{class G extends kn{constructor(O,ie,be,tn,In,Ai){super(),this._changeDetectorRef=In,this.callSetDisabledState=Ai,this.control=new li,this._registered=!1,this.name="",this.update=new p.vpe,this._parent=O,this._setValidators(ie),this._setAsyncValidators(be),this.valueAccessor=function js(G,q){if(!q)return null;let O,ie,be;return Array.isArray(q),q.forEach(tn=>{tn.constructor===ae?O=tn:function wr(G){return Object.getPrototypeOf(G.constructor)===Ye}(tn)?ie=tn:be=tn}),be||ie||O||null}(0,tn)}ngOnChanges(O){if(this._checkForErrors(),!this._registered||"name"in O){if(this._registered&&(this._checkName(),this.formDirective)){const ie=O.name.previousValue;this.formDirective.removeControl({name:ie,path:this._getPath(ie)})}this._setUpControl()}"isDisabled"in O&&this._updateDisabled(O),function xi(G,q){if(!G.hasOwnProperty("model"))return!1;const O=G.model;return!!O.isFirstChange()||!Object.is(q,O.currentValue)}(O,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(O){this.viewModel=O,this.update.emit(O)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ie(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(O){Gs.then(()=>{this.control.setValue(O,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(O){const ie=O.isDisabled.currentValue,be=0!==ie&&(0,p.VuI)(ie);Gs.then(()=>{be&&!this.control.disabled?this.control.disable():!be&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(O){return this._parent?function xe(G,q){return[...q.path,G]}(O,this._parent):[O]}static#e=this.\u0275fac=function(ie){return new(ie||G)(p.Y36(Mn,9),p.Y36(ge,10),p.Y36(Ce,10),p.Y36(lt,10),p.Y36(p.sBO,8),p.Y36(De,8))};static#t=this.\u0275dir=p.lG2({type:G,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[p._Bn([sa]),p.qOj,p.TTD]})}return G})(),ys=(()=>{class G{static#e=this.\u0275fac=function(ie){return new(ie||G)};static#t=this.\u0275dir=p.lG2({type:G,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return G})(),Hr=(()=>{class G{static#e=this.\u0275fac=function(ie){return new(ie||G)};static#t=this.\u0275mod=p.oAB({type:G});static#n=this.\u0275inj=p.cJS({})}return G})(),jr=(()=>{class G{constructor(){this._validator=Se}ngOnChanges(O){if(this.inputName in O){const ie=this.normalizeInput(O[this.inputName].currentValue);this._enabled=this.enabled(ie),this._validator=this._enabled?this.createValidator(ie):Se,this._onChange&&this._onChange()}}validate(O){return this._validator(O)}registerOnValidatorChange(O){this._onChange=O}enabled(O){return null!=O}static#e=this.\u0275fac=function(ie){return new(ie||G)};static#t=this.\u0275dir=p.lG2({type:G,features:[p.TTD]})}return G})();const oa={provide:ge,useExisting:(0,p.Gpc)(()=>Zr),multi:!0};let Zr=(()=>{class G extends jr{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=p.VuI,this.createValidator=O=>$e}enabled(O){return O}static#e=this.\u0275fac=function(){let O;return function(be){return(O||(O=p.n5z(G)))(be||G)}}();static#t=this.\u0275dir=p.lG2({type:G,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(ie,be){2&ie&&p.uIk("required",be._enabled?"":null)},inputs:{required:"required"},features:[p._Bn([oa]),p.qOj]})}return G})(),Zs=(()=>{class G{static#e=this.\u0275fac=function(ie){return new(ie||G)};static#t=this.\u0275mod=p.oAB({type:G});static#n=this.\u0275inj=p.cJS({imports:[Hr]})}return G})(),Ms=(()=>{class G{static withConfig(O){return{ngModule:G,providers:[{provide:De,useValue:O.callSetDisabledState??ve}]}}static#e=this.\u0275fac=function(ie){return new(ie||G)};static#t=this.\u0275mod=p.oAB({type:G});static#n=this.\u0275inj=p.cJS({imports:[Zs]})}return G})()},6593:(xt,je,U)=>{U.d(je,{Dx:()=>kn,b2:()=>Tn,q6:()=>an,se:()=>ye});var p=U(5879),V=U(6814);class b extends V.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Te extends b{static makeCurrent(){(0,V.HT)(new Te)}onAndCancel($,N,k){return $.addEventListener(N,k),()=>{$.removeEventListener(N,k)}}dispatchEvent($,N){$.dispatchEvent(N)}remove($){$.parentNode&&$.parentNode.removeChild($)}createElement($,N){return(N=N||this.getDefaultDocument()).createElement($)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode($){return $.nodeType===Node.ELEMENT_NODE}isShadowRoot($){return $ instanceof DocumentFragment}getGlobalEventTarget($,N){return"window"===N?window:"document"===N?$:"body"===N?$.body:null}getBaseHref($){const N=function J(){return z=z||document.querySelector("base"),z?z.getAttribute("href"):null}();return null==N?null:function ce(re){W=W||document.createElement("a"),W.setAttribute("href",re);const $=W.pathname;return"/"===$.charAt(0)?$:`/${$}`}(N)}resetBaseElement(){z=null}getUserAgent(){return window.navigator.userAgent}getCookie($){return(0,V.Mx)(document.cookie,$)}}let W,z=null,X=(()=>{class re{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(k){return new(k||re)};static#t=this.\u0275prov=p.Yz7({token:re,factory:re.\u0275fac})}return re})();const se=new p.OlP("EventManagerPlugins");let Ee=(()=>{class re{constructor(N,k){this._zone=k,this._eventNameToPlugin=new Map,N.forEach(fe=>{fe.manager=this}),this._plugins=N.slice().reverse()}addEventListener(N,k,fe){return this._findPluginFor(k).addEventListener(N,k,fe)}getZone(){return this._zone}_findPluginFor(N){let k=this._eventNameToPlugin.get(N);if(k)return k;if(k=this._plugins.find(Le=>Le.supports(N)),!k)throw new p.vHH(5101,!1);return this._eventNameToPlugin.set(N,k),k}static#e=this.\u0275fac=function(k){return new(k||re)(p.LFG(se),p.LFG(p.R0b))};static#t=this.\u0275prov=p.Yz7({token:re,factory:re.\u0275fac})}return re})();class ze{constructor($){this._doc=$}}const Ye="ng-app-id";let lt=(()=>{class re{constructor(N,k,fe,Le={}){this.doc=N,this.appId=k,this.nonce=fe,this.platformId=Le,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,V.PM)(Le),this.resetHostNodes()}addStyles(N){for(const k of N)1===this.changeUsageCount(k,1)&&this.onStyleAdded(k)}removeStyles(N){for(const k of N)this.changeUsageCount(k,-1)<=0&&this.onStyleRemoved(k)}ngOnDestroy(){const N=this.styleNodesInDOM;N&&(N.forEach(k=>k.remove()),N.clear());for(const k of this.getAllStyles())this.onStyleRemoved(k);this.resetHostNodes()}addHost(N){this.hostNodes.add(N);for(const k of this.getAllStyles())this.addStyleToHost(N,k)}removeHost(N){this.hostNodes.delete(N)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(N){for(const k of this.hostNodes)this.addStyleToHost(k,N)}onStyleRemoved(N){const k=this.styleRef;k.get(N)?.elements?.forEach(fe=>fe.remove()),k.delete(N)}collectServerRenderedStyles(){const N=this.doc.head?.querySelectorAll(`style[${Ye}="${this.appId}"]`);if(N?.length){const k=new Map;return N.forEach(fe=>{null!=fe.textContent&&k.set(fe.textContent,fe)}),k}return null}changeUsageCount(N,k){const fe=this.styleRef;if(fe.has(N)){const Le=fe.get(N);return Le.usage+=k,Le.usage}return fe.set(N,{usage:k,elements:[]}),k}getStyleElement(N,k){const fe=this.styleNodesInDOM,Le=fe?.get(k);if(Le?.parentNode===N)return fe.delete(k),Le.removeAttribute(Ye),Le;{const ct=this.doc.createElement("style");return this.nonce&&ct.setAttribute("nonce",this.nonce),ct.textContent=k,this.platformIsServer&&ct.setAttribute(Ye,this.appId),ct}}addStyleToHost(N,k){const fe=this.getStyleElement(N,k);N.appendChild(fe);const Le=this.styleRef,ct=Le.get(k)?.elements;ct?ct.push(fe):Le.set(k,{elements:[fe],usage:1})}resetHostNodes(){const N=this.hostNodes;N.clear(),N.add(this.doc.head)}static#e=this.\u0275fac=function(k){return new(k||re)(p.LFG(V.K0),p.LFG(p.AFp),p.LFG(p.Ojb,8),p.LFG(p.Lbi))};static#t=this.\u0275prov=p.Yz7({token:re,factory:re.\u0275fac})}return re})();const tt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},rt=/%COMP%/g,Me=new p.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Ce(re,$){return $.map(N=>N.replace(rt,re))}let ye=(()=>{class re{constructor(N,k,fe,Le,ct,Tt,Lt,kt=null){this.eventManager=N,this.sharedStylesHost=k,this.appId=fe,this.removeStylesOnCompDestroy=Le,this.doc=ct,this.platformId=Tt,this.ngZone=Lt,this.nonce=kt,this.rendererByCompId=new Map,this.platformIsServer=(0,V.PM)(Tt),this.defaultRenderer=new he(N,ct,Lt,this.platformIsServer)}createRenderer(N,k){if(!N||!k)return this.defaultRenderer;this.platformIsServer&&k.encapsulation===p.ifc.ShadowDom&&(k={...k,encapsulation:p.ifc.Emulated});const fe=this.getOrCreateRenderer(N,k);return fe instanceof gn?fe.applyToHost(N):fe instanceof At&&fe.applyStyles(),fe}getOrCreateRenderer(N,k){const fe=this.rendererByCompId;let Le=fe.get(k.id);if(!Le){const ct=this.doc,Tt=this.ngZone,Lt=this.eventManager,kt=this.sharedStylesHost,Kt=this.removeStylesOnCompDestroy,bn=this.platformIsServer;switch(k.encapsulation){case p.ifc.Emulated:Le=new gn(Lt,kt,k,this.appId,Kt,ct,Tt,bn);break;case p.ifc.ShadowDom:return new Gt(Lt,kt,N,k,ct,Tt,this.nonce,bn);default:Le=new At(Lt,kt,k,Kt,ct,Tt,bn)}fe.set(k.id,Le)}return Le}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(k){return new(k||re)(p.LFG(Ee),p.LFG(lt),p.LFG(p.AFp),p.LFG(Me),p.LFG(V.K0),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(p.Ojb))};static#t=this.\u0275prov=p.Yz7({token:re,factory:re.\u0275fac})}return re})();class he{constructor($,N,k,fe){this.eventManager=$,this.doc=N,this.ngZone=k,this.platformIsServer=fe,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement($,N){return N?this.doc.createElementNS(tt[N]||N,$):this.doc.createElement($)}createComment($){return this.doc.createComment($)}createText($){return this.doc.createTextNode($)}appendChild($,N){($e($)?$.content:$).appendChild(N)}insertBefore($,N,k){$&&($e($)?$.content:$).insertBefore(N,k)}removeChild($,N){$&&$.removeChild(N)}selectRootElement($,N){let k="string"==typeof $?this.doc.querySelector($):$;if(!k)throw new p.vHH(-5104,!1);return N||(k.textContent=""),k}parentNode($){return $.parentNode}nextSibling($){return $.nextSibling}setAttribute($,N,k,fe){if(fe){N=fe+":"+N;const Le=tt[fe];Le?$.setAttributeNS(Le,N,k):$.setAttribute(N,k)}else $.setAttribute(N,k)}removeAttribute($,N,k){if(k){const fe=tt[k];fe?$.removeAttributeNS(fe,N):$.removeAttribute(`${k}:${N}`)}else $.removeAttribute(N)}addClass($,N){$.classList.add(N)}removeClass($,N){$.classList.remove(N)}setStyle($,N,k,fe){fe&(p.JOm.DashCase|p.JOm.Important)?$.style.setProperty(N,k,fe&p.JOm.Important?"important":""):$.style[N]=k}removeStyle($,N,k){k&p.JOm.DashCase?$.style.removeProperty(N):$.style[N]=""}setProperty($,N,k){$[N]=k}setValue($,N){$.nodeValue=N}listen($,N,k){if("string"==typeof $&&!($=(0,V.q)().getGlobalEventTarget(this.doc,$)))throw new Error(`Unsupported event target ${$} for event ${N}`);return this.eventManager.addEventListener($,N,this.decoratePreventDefault(k))}decoratePreventDefault($){return N=>{if("__ngUnwrap__"===N)return $;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>$(N)):$(N))&&N.preventDefault()}}}function $e(re){return"TEMPLATE"===re.tagName&&void 0!==re.content}class Gt extends he{constructor($,N,k,fe,Le,ct,Tt,Lt){super($,Le,ct,Lt),this.sharedStylesHost=N,this.hostEl=k,this.shadowRoot=k.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const kt=Ce(fe.id,fe.styles);for(const Kt of kt){const bn=document.createElement("style");Tt&&bn.setAttribute("nonce",Tt),bn.textContent=Kt,this.shadowRoot.appendChild(bn)}}nodeOrShadowRoot($){return $===this.hostEl?this.shadowRoot:$}appendChild($,N){return super.appendChild(this.nodeOrShadowRoot($),N)}insertBefore($,N,k){return super.insertBefore(this.nodeOrShadowRoot($),N,k)}removeChild($,N){return super.removeChild(this.nodeOrShadowRoot($),N)}parentNode($){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot($)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class At extends he{constructor($,N,k,fe,Le,ct,Tt,Lt){super($,Le,ct,Tt),this.sharedStylesHost=N,this.removeStylesOnCompDestroy=fe,this.styles=Lt?Ce(Lt,k.styles):k.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class gn extends At{constructor($,N,k,fe,Le,ct,Tt,Lt){const kt=fe+"-"+k.id;super($,N,k,Le,ct,Tt,Lt,kt),this.contentAttr=function me(re){return"_ngcontent-%COMP%".replace(rt,re)}(kt),this.hostAttr=function ge(re){return"_nghost-%COMP%".replace(rt,re)}(kt)}applyToHost($){this.applyStyles(),this.setAttribute($,this.hostAttr,"")}createElement($,N){const k=super.createElement($,N);return super.setAttribute(k,this.contentAttr,""),k}}let bt=(()=>{class re extends ze{constructor(N){super(N)}supports(N){return!0}addEventListener(N,k,fe){return N.addEventListener(k,fe,!1),()=>this.removeEventListener(N,k,fe)}removeEventListener(N,k,fe){return N.removeEventListener(k,fe)}static#e=this.\u0275fac=function(k){return new(k||re)(p.LFG(V.K0))};static#t=this.\u0275prov=p.Yz7({token:re,factory:re.\u0275fac})}return re})();const Nt=["alt","control","meta","shift"],Se={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Oe={alt:re=>re.altKey,control:re=>re.ctrlKey,meta:re=>re.metaKey,shift:re=>re.shiftKey};let Ze=(()=>{class re extends ze{constructor(N){super(N)}supports(N){return null!=re.parseEventName(N)}addEventListener(N,k,fe){const Le=re.parseEventName(k),ct=re.eventCallback(Le.fullKey,fe,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,V.q)().onAndCancel(N,Le.domEventName,ct))}static parseEventName(N){const k=N.toLowerCase().split("."),fe=k.shift();if(0===k.length||"keydown"!==fe&&"keyup"!==fe)return null;const Le=re._normalizeKey(k.pop());let ct="",Tt=k.indexOf("code");if(Tt>-1&&(k.splice(Tt,1),ct="code."),Nt.forEach(kt=>{const Kt=k.indexOf(kt);Kt>-1&&(k.splice(Kt,1),ct+=kt+".")}),ct+=Le,0!=k.length||0===Le.length)return null;const Lt={};return Lt.domEventName=fe,Lt.fullKey=ct,Lt}static matchEventFullKeyCode(N,k){let fe=Se[N.key]||N.key,Le="";return k.indexOf("code.")>-1&&(fe=N.code,Le="code."),!(null==fe||!fe)&&(fe=fe.toLowerCase()," "===fe?fe="space":"."===fe&&(fe="dot"),Nt.forEach(ct=>{ct!==fe&&(0,Oe[ct])(N)&&(Le+=ct+".")}),Le+=fe,Le===k)}static eventCallback(N,k,fe){return Le=>{re.matchEventFullKeyCode(Le,N)&&fe.runGuarded(()=>k(Le))}}static _normalizeKey(N){return"esc"===N?"escape":N}static#e=this.\u0275fac=function(k){return new(k||re)(p.LFG(V.K0))};static#t=this.\u0275prov=p.Yz7({token:re,factory:re.\u0275fac})}return re})();const an=(0,p.eFA)(p._c5,"browser",[{provide:p.Lbi,useValue:V.bD},{provide:p.g9A,useValue:function yt(){Te.makeCurrent()},multi:!0},{provide:V.K0,useFactory:function en(){return(0,p.RDi)(document),document},deps:[]}]),ln=new p.OlP(""),Un=[{provide:p.rWj,useClass:class de{addToWindow($){p.dqk.getAngularTestability=(k,fe=!0)=>{const Le=$.findTestabilityInTree(k,fe);if(null==Le)throw new p.vHH(5103,!1);return Le},p.dqk.getAllAngularTestabilities=()=>$.getAllTestabilities(),p.dqk.getAllAngularRootElements=()=>$.getAllRootElements(),p.dqk.frameworkStabilizers||(p.dqk.frameworkStabilizers=[]),p.dqk.frameworkStabilizers.push(k=>{const fe=p.dqk.getAllAngularTestabilities();let Le=fe.length,ct=!1;const Tt=function(Lt){ct=ct||Lt,Le--,0==Le&&k(ct)};fe.forEach(Lt=>{Lt.whenStable(Tt)})})}findTestabilityInTree($,N,k){return null==N?null:$.getTestability(N)??(k?(0,V.q)().isShadowRoot(N)?this.findTestabilityInTree($,N.host,!0):this.findTestabilityInTree($,N.parentElement,!0):null)}},deps:[]},{provide:p.lri,useClass:p.dDg,deps:[p.R0b,p.eoX,p.rWj]},{provide:p.dDg,useClass:p.dDg,deps:[p.R0b,p.eoX,p.rWj]}],Pn=[{provide:p.zSh,useValue:"root"},{provide:p.qLn,useFactory:function Ln(){return new p.qLn},deps:[]},{provide:se,useClass:bt,multi:!0,deps:[V.K0,p.R0b,p.Lbi]},{provide:se,useClass:Ze,multi:!0,deps:[V.K0]},ye,lt,Ee,{provide:p.FYo,useExisting:ye},{provide:V.JF,useClass:X,deps:[]},[]];let Tn=(()=>{class re{constructor(N){}static withServerTransition(N){return{ngModule:re,providers:[{provide:p.AFp,useValue:N.appId}]}}static#e=this.\u0275fac=function(k){return new(k||re)(p.LFG(ln,12))};static#t=this.\u0275mod=p.oAB({type:re});static#n=this.\u0275inj=p.cJS({providers:[...Pn,...Un],imports:[V.ez,p.hGG]})}return re})(),kn=(()=>{class re{constructor(N){this._doc=N}getTitle(){return this._doc.title}setTitle(N){this._doc.title=N||""}static#e=this.\u0275fac=function(k){return new(k||re)(p.LFG(V.K0))};static#t=this.\u0275prov=p.Yz7({token:re,factory:function(k){let fe=null;return fe=k?new k:function Mn(){return new kn((0,p.LFG)(V.K0))}(),fe},providedIn:"root"})}return re})();typeof window<"u"&&window},3781:(xt,je,U)=>{U.d(je,{wm:()=>Uo,F0:()=>hr,Bz:()=>cl,lC:()=>gi});var p=U(5879),V=U(5592),b=U(4674),z=U(2459),J=U(2096),W=U(5619),ce=U(7453),de=U(2737),X=U(7400),se=U(4564),Ee=U(2714),ze=U(8251),Ye=U(7103);function lt(...T){const P=(0,se.yG)(T),v=(0,se.jO)(T),{args:R,keys:B}=(0,ce.D)(T);if(0===R.length)return(0,z.D)([],P);const ne=new V.y(function tt(T,P,v=de.y){return R=>{rt(P,()=>{const{length:B}=T,ne=new Array(B);let Y=B,nt=B;for(let qe=0;qe<B;qe++)rt(P,()=>{const zt=(0,z.D)(T[qe],P);let Fn=!1;zt.subscribe((0,ze.x)(R,Vn=>{ne[qe]=Vn,Fn||(Fn=!0,nt--),nt||R.next(v(ne.slice()))},()=>{--Y||R.complete()}))},R)},R)}}(R,P,B?Y=>(0,Ee.n)(B,Y):de.y));return v?ne.pipe((0,X.Z)(v)):ne}function rt(T,P,v){T?(0,Ye.f)(v,T,P):P()}var st=U(6973),wt=U(5211),ut=U(4829);function ae(T){return new V.y(P=>{(0,ut.Xf)(T()).subscribe(P)})}var Me=U(8407);function me(T,P){const v=(0,b.m)(T)?T:()=>T,R=B=>B.error(v());return new V.y(P?B=>P.schedule(R,0,B):R)}var ge=U(6232),Ce=U(7394),ye=U(9360);function he(){return(0,ye.e)((T,P)=>{let v=null;T._refCount++;const R=(0,ze.x)(P,void 0,void 0,void 0,()=>{if(!T||T._refCount<=0||0<--T._refCount)return void(v=null);const B=T._connection,ne=v;v=null,B&&(!ne||B===ne)&&B.unsubscribe(),P.unsubscribe()});T.subscribe(R),R.closed||(v=T.connect())})}class at extends V.y{constructor(P,v){super(),this.source=P,this.subjectFactory=v,this._subject=null,this._refCount=0,this._connection=null,(0,ye.A)(P)&&(this.lift=P.lift)}_subscribe(P){return this.getSubject().subscribe(P)}getSubject(){const P=this._subject;return(!P||P.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:P}=this;this._subject=this._connection=null,P?.unsubscribe()}connect(){let P=this._connection;if(!P){P=this._connection=new Ce.w0;const v=this.getSubject();P.add(this.source.subscribe((0,ze.x)(v,void 0,()=>{this._teardown(),v.complete()},R=>{this._teardown(),v.error(R)},()=>this._teardown()))),P.closed&&(this._connection=null,P=Ce.w0.EMPTY)}return P}refCount(){return he()(this)}}var Ct=U(8645),$e=U(6814),Gt=U(7398),At=U(4664),gn=U(8180),bt=U(7921),Nt=U(2181),Se=U(1631),Oe=U(1374),Ze=U(6328),ke=U(9397);function He(T){return(0,ye.e)((P,v)=>{let ne,R=null,B=!1;R=P.subscribe((0,ze.x)(v,void 0,void 0,Y=>{ne=(0,ut.Xf)(T(Y,He(T)(P))),R?(R.unsubscribe(),R=null,ne.subscribe(v)):B=!0})),B&&(R.unsubscribe(),R=null,ne.subscribe(v))})}var ht=U(6699),gt=U(3572);function yt(T){return T<=0?()=>ge.E:(0,ye.e)((P,v)=>{let R=[];P.subscribe((0,ze.x)(v,B=>{R.push(B),T<R.length&&R.shift()},()=>{for(const B of R)v.next(B);v.complete()},void 0,()=>{R=null}))})}var Ln=U(3026),an=U(4716),ln=U(2420),Pn=U(7537),Tn=U(6593);const Vt="primary",Rn=Symbol("RouteTitle");class Er{constructor(P){this.params=P||{}}has(P){return Object.prototype.hasOwnProperty.call(this.params,P)}get(P){if(this.has(P)){const v=this.params[P];return Array.isArray(v)?v[0]:v}return null}getAll(P){if(this.has(P)){const v=this.params[P];return Array.isArray(v)?v:[v]}return[]}get keys(){return Object.keys(this.params)}}function Mn(T){return new Er(T)}function kn(T,P,v){const R=v.path.split("/");if(R.length>T.length||"full"===v.pathMatch&&(P.hasChildren()||R.length<T.length))return null;const B={};for(let ne=0;ne<R.length;ne++){const Y=R[ne],nt=T[ne];if(Y.startsWith(":"))B[Y.substring(1)]=nt;else if(Y!==nt.path)return null}return{consumed:T.slice(0,R.length),posParams:B}}function tr(T,P){const v=T?Object.keys(T):void 0,R=P?Object.keys(P):void 0;if(!v||!R||v.length!=R.length)return!1;let B;for(let ne=0;ne<v.length;ne++)if(B=v[ne],!Xt(T[B],P[B]))return!1;return!0}function Xt(T,P){if(Array.isArray(T)&&Array.isArray(P)){if(T.length!==P.length)return!1;const v=[...T].sort(),R=[...P].sort();return v.every((B,ne)=>R[ne]===B)}return T===P}function hn(T){return T.length>0?T[T.length-1]:null}function Qt(T){return function Te(T){return!!T&&(T instanceof V.y||(0,b.m)(T.lift)&&(0,b.m)(T.subscribe))}(T)?T:(0,p.QGY)(T)?(0,z.D)(Promise.resolve(T)):(0,J.of)(T)}const Kn={exact:function Ae(T,P,v){if(!Bn(T.segments,P.segments)||!Rt(T.segments,P.segments,v)||T.numberOfChildren!==P.numberOfChildren)return!1;for(const R in P.children)if(!T.children[R]||!Ae(T.children[R],P.children[R],v))return!1;return!0},subset:Qe},Tr={exact:function Dt(T,P){return tr(T,P)},subset:function Ge(T,P){return Object.keys(P).length<=Object.keys(T).length&&Object.keys(P).every(v=>Xt(T[v],P[v]))},ignored:()=>!0};function Je(T,P,v){return Kn[v.paths](T.root,P.root,v.matrixParams)&&Tr[v.queryParams](T.queryParams,P.queryParams)&&!("exact"===v.fragment&&T.fragment!==P.fragment)}function Qe(T,P,v){return Ot(T,P,P.segments,v)}function Ot(T,P,v,R){if(T.segments.length>v.length){const B=T.segments.slice(0,v.length);return!(!Bn(B,v)||P.hasChildren()||!Rt(B,v,R))}if(T.segments.length===v.length){if(!Bn(T.segments,v)||!Rt(T.segments,v,R))return!1;for(const B in P.children)if(!T.children[B]||!Qe(T.children[B],P.children[B],R))return!1;return!0}{const B=v.slice(0,T.segments.length),ne=v.slice(T.segments.length);return!!(Bn(T.segments,B)&&Rt(T.segments,B,R)&&T.children[Vt])&&Ot(T.children[Vt],P,ne,R)}}function Rt(T,P,v){return P.every((R,B)=>Tr[v](T[B].parameters,R.parameters))}class un{constructor(P=new vn([],{}),v={},R=null){this.root=P,this.queryParams=v,this.fragment=R}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Mn(this.queryParams)),this._queryParamMap}toString(){return Ti.serialize(this)}}class vn{constructor(P,v){this.segments=P,this.children=v,this.parent=null,Object.values(v).forEach(R=>R.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ar(this)}}class qr{constructor(P,v){this.path=P,this.parameters=v}get parameterMap(){return this._parameterMap||(this._parameterMap=Mn(this.parameters)),this._parameterMap}toString(){return fe(this)}}function Bn(T,P){return T.length===P.length&&T.every((v,R)=>v.path===P[R].path)}let Br=(()=>{class T{static#e=this.\u0275fac=function(R){return new(R||T)};static#t=this.\u0275prov=p.Yz7({token:T,factory:function(){return new ei},providedIn:"root"})}return T})();class ei{parse(P){const v=new Ie(P);return new un(v.parseRootSegment(),v.parseQueryParams(),v.parseFragment())}serialize(P){const v=`/${Sr(P.root,!0)}`,R=function ct(T){const P=Object.keys(T).map(v=>{const R=T[v];return Array.isArray(R)?R.map(B=>`${Pe(v)}=${Pe(B)}`).join("&"):`${Pe(v)}=${Pe(R)}`}).filter(v=>!!v);return P.length?`?${P.join("&")}`:""}(P.queryParams);return`${v}${R}${"string"==typeof P.fragment?`#${function re(T){return encodeURI(T)}(P.fragment)}`:""}`}}const Ti=new ei;function Ar(T){return T.segments.map(P=>fe(P)).join("/")}function Sr(T,P){if(!T.hasChildren())return Ar(T);if(P){const v=T.children[Vt]?Sr(T.children[Vt],!1):"",R=[];return Object.entries(T.children).forEach(([B,ne])=>{B!==Vt&&R.push(`${B}:${Sr(ne,!1)}`)}),R.length>0?`${v}(${R.join("//")})`:v}{const v=function sr(T,P){let v=[];return Object.entries(T.children).forEach(([R,B])=>{R===Vt&&(v=v.concat(P(B,R)))}),Object.entries(T.children).forEach(([R,B])=>{R!==Vt&&(v=v.concat(P(B,R)))}),v}(T,(R,B)=>B===Vt?[Sr(T.children[Vt],!1)]:[`${B}:${Sr(R,!1)}`]);return 1===Object.keys(T.children).length&&null!=T.children[Vt]?`${Ar(T)}/${v[0]}`:`${Ar(T)}/(${v.join("//")})`}}function kr(T){return encodeURIComponent(T).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Pe(T){return kr(T).replace(/%3B/gi,";")}function $(T){return kr(T).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function N(T){return decodeURIComponent(T)}function k(T){return N(T.replace(/\+/g,"%20"))}function fe(T){return`${$(T.path)}${function Le(T){return Object.keys(T).map(P=>`;${$(P)}=${$(T[P])}`).join("")}(T.parameters)}`}const Tt=/^[^\/()?;#]+/;function Lt(T){const P=T.match(Tt);return P?P[0]:""}const kt=/^[^\/()?;=#]+/,bn=/^[^=?&#]+/,ve=/^[^&#]+/;class Ie{constructor(P){this.url=P,this.remaining=P}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new vn([],{}):new vn([],this.parseChildren())}parseQueryParams(){const P={};if(this.consumeOptional("?"))do{this.parseQueryParam(P)}while(this.consumeOptional("&"));return P}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const P=[];for(this.peekStartsWith("(")||P.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),P.push(this.parseSegment());let v={};this.peekStartsWith("/(")&&(this.capture("/"),v=this.parseParens(!0));let R={};return this.peekStartsWith("(")&&(R=this.parseParens(!1)),(P.length>0||Object.keys(v).length>0)&&(R[Vt]=new vn(P,v)),R}parseSegment(){const P=Lt(this.remaining);if(""===P&&this.peekStartsWith(";"))throw new p.vHH(4009,!1);return this.capture(P),new qr(N(P),this.parseMatrixParams())}parseMatrixParams(){const P={};for(;this.consumeOptional(";");)this.parseParam(P);return P}parseParam(P){const v=function Kt(T){const P=T.match(kt);return P?P[0]:""}(this.remaining);if(!v)return;this.capture(v);let R="";if(this.consumeOptional("=")){const B=Lt(this.remaining);B&&(R=B,this.capture(R))}P[N(v)]=N(R)}parseQueryParam(P){const v=function De(T){const P=T.match(bn);return P?P[0]:""}(this.remaining);if(!v)return;this.capture(v);let R="";if(this.consumeOptional("=")){const Y=function xe(T){const P=T.match(ve);return P?P[0]:""}(this.remaining);Y&&(R=Y,this.capture(R))}const B=k(v),ne=k(R);if(P.hasOwnProperty(B)){let Y=P[B];Array.isArray(Y)||(Y=[Y],P[B]=Y),Y.push(ne)}else P[B]=ne}parseParens(P){const v={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const R=Lt(this.remaining),B=this.remaining[R.length];if("/"!==B&&")"!==B&&";"!==B)throw new p.vHH(4010,!1);let ne;R.indexOf(":")>-1?(ne=R.slice(0,R.indexOf(":")),this.capture(ne),this.capture(":")):P&&(ne=Vt);const Y=this.parseChildren();v[ne]=1===Object.keys(Y).length?Y[Vt]:new vn([],Y),this.consumeOptional("//")}return v}peekStartsWith(P){return this.remaining.startsWith(P)}consumeOptional(P){return!!this.peekStartsWith(P)&&(this.remaining=this.remaining.substring(P.length),!0)}capture(P){if(!this.consumeOptional(P))throw new p.vHH(4011,!1)}}function we(T){return T.segments.length>0?new vn([],{[Vt]:T}):T}function Ue(T){const P={};for(const R of Object.keys(T.children)){const ne=Ue(T.children[R]);if(R===Vt&&0===ne.segments.length&&ne.hasChildren())for(const[Y,nt]of Object.entries(ne.children))P[Y]=nt;else(ne.segments.length>0||ne.hasChildren())&&(P[R]=ne)}return function et(T){if(1===T.numberOfChildren&&T.children[Vt]){const P=T.children[Vt];return new vn(T.segments.concat(P.segments),P.children)}return T}(new vn(T.segments,P))}function St(T){return T instanceof un}function nn(T){let P;const B=we(function v(ne){const Y={};for(const qe of ne.children){const zt=v(qe);Y[qe.outlet]=zt}const nt=new vn(ne.url,Y);return ne===T&&(P=nt),nt}(T.root));return P??B}function Zn(T,P,v,R){let B=T;for(;B.parent;)B=B.parent;if(0===P.length)return Or(B,B,B,v,R);const ne=function mr(T){if("string"==typeof T[0]&&1===T.length&&"/"===T[0])return new nr(!0,0,T);let P=0,v=!1;const R=T.reduce((B,ne,Y)=>{if("object"==typeof ne&&null!=ne){if(ne.outlets){const nt={};return Object.entries(ne.outlets).forEach(([qe,zt])=>{nt[qe]="string"==typeof zt?zt.split("/"):zt}),[...B,{outlets:nt}]}if(ne.segmentPath)return[...B,ne.segmentPath]}return"string"!=typeof ne?[...B,ne]:0===Y?(ne.split("/").forEach((nt,qe)=>{0==qe&&"."===nt||(0==qe&&""===nt?v=!0:".."===nt?P++:""!=nt&&B.push(nt))}),B):[...B,ne]},[]);return new nr(v,P,R)}(P);if(ne.toRoot())return Or(B,B,new vn([],{}),v,R);const Y=function Hs(T,P,v){if(T.isAbsolute)return new Kr(P,!0,0);if(!v)return new Kr(P,!1,NaN);if(null===v.parent)return new Kr(v,!0,0);const R=xn(T.commands[0])?0:1;return function Hn(T,P,v){let R=T,B=P,ne=v;for(;ne>B;){if(ne-=B,R=R.parent,!R)throw new p.vHH(4005,!1);B=R.segments.length}return new Kr(R,!1,B-ne)}(v,v.segments.length-1+R,T.numberOfDoubleDots)}(ne,B,T),nt=Y.processChildren?Gi(Y.segmentGroup,Y.index,ne.commands):wr(Y.segmentGroup,Y.index,ne.commands);return Or(B,Y.segmentGroup,nt,v,R)}function xn(T){return"object"==typeof T&&null!=T&&!T.outlets&&!T.segmentPath}function Xn(T){return"object"==typeof T&&null!=T&&T.outlets}function Or(T,P,v,R,B){let Y,ne={};R&&Object.entries(R).forEach(([qe,zt])=>{ne[qe]=Array.isArray(zt)?zt.map(Fn=>`${Fn}`):`${zt}`}),Y=T===P?v:ti(T,P,v);const nt=we(Ue(Y));return new un(nt,ne,B)}function ti(T,P,v){const R={};return Object.entries(T.children).forEach(([B,ne])=>{R[B]=ne===P?v:ti(ne,P,v)}),new vn(T.segments,R)}class nr{constructor(P,v,R){if(this.isAbsolute=P,this.numberOfDoubleDots=v,this.commands=R,P&&R.length>0&&xn(R[0]))throw new p.vHH(4003,!1);const B=R.find(Xn);if(B&&B!==hn(R))throw new p.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Kr{constructor(P,v,R){this.segmentGroup=P,this.processChildren=v,this.index=R}}function wr(T,P,v){if(T||(T=new vn([],{})),0===T.segments.length&&T.hasChildren())return Gi(T,P,v);const R=function js(T,P,v){let R=0,B=P;const ne={match:!1,pathIndex:0,commandIndex:0};for(;B<T.segments.length;){if(R>=v.length)return ne;const Y=T.segments[B],nt=v[R];if(Xn(nt))break;const qe=`${nt}`,zt=R<v.length-1?v[R+1]:null;if(B>0&&void 0===qe)break;if(qe&&zt&&"object"==typeof zt&&void 0===zt.outlets){if(!ii(qe,zt,Y))return ne;R+=2}else{if(!ii(qe,{},Y))return ne;R++}B++}return{match:!0,pathIndex:B,commandIndex:R}}(T,P,v),B=v.slice(R.commandIndex);if(R.match&&R.pathIndex<T.segments.length){const ne=new vn(T.segments.slice(0,R.pathIndex),{});return ne.children[Vt]=new vn(T.segments.slice(R.pathIndex),T.children),Gi(ne,0,B)}return R.match&&0===B.length?new vn(T.segments,{}):R.match&&!T.hasChildren()?vo(T,P,v):R.match?Gi(T,0,B):vo(T,P,v)}function Gi(T,P,v){if(0===v.length)return new vn(T.segments,{});{const R=function xi(T){return Xn(T[0])?T[0].outlets:{[Vt]:T}}(v),B={};if(Object.keys(R).some(ne=>ne!==Vt)&&T.children[Vt]&&1===T.numberOfChildren&&0===T.children[Vt].segments.length){const ne=Gi(T.children[Vt],P,v);return new vn(T.segments,ne.children)}return Object.entries(R).forEach(([ne,Y])=>{"string"==typeof Y&&(Y=[Y]),null!==Y&&(B[ne]=wr(T.children[ne],P,Y))}),Object.entries(T.children).forEach(([ne,Y])=>{void 0===R[ne]&&(B[ne]=Y)}),new vn(T.segments,B)}}function vo(T,P,v){const R=T.segments.slice(0,P);let B=0;for(;B<v.length;){const ne=v[B];if(Xn(ne)){const qe=$o(ne.outlets);return new vn(R,qe)}if(0===B&&xn(v[0])){R.push(new qr(T.segments[P].path,zo(v[0]))),B++;continue}const Y=Xn(ne)?ne.outlets[Vt]:`${ne}`,nt=B<v.length-1?v[B+1]:null;Y&&nt&&xn(nt)?(R.push(new qr(Y,zo(nt))),B+=2):(R.push(new qr(Y,{})),B++)}return new vn(R,{})}function $o(T){const P={};return Object.entries(T).forEach(([v,R])=>{"string"==typeof R&&(R=[R]),null!==R&&(P[v]=vo(new vn([],{}),0,R))}),P}function zo(T){const P={};return Object.entries(T).forEach(([v,R])=>P[v]=`${R}`),P}function ii(T,P,v){return T==v.path&&tr(P,v.parameters)}const Wi="imperative";class wi{constructor(P,v){this.id=P,this.url=v}}class Io extends wi{constructor(P,v,R="imperative",B=null){super(P,v),this.type=0,this.navigationTrigger=R,this.restoredState=B}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class li extends wi{constructor(P,v,R){super(P,v),this.urlAfterRedirects=R,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class $s extends wi{constructor(P,v,R,B){super(P,v),this.reason=R,this.code=B,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ui extends wi{constructor(P,v,R,B){super(P,v),this.reason=R,this.code=B,this.type=16}}class Hi extends wi{constructor(P,v,R,B){super(P,v),this.error=R,this.target=B,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Eo extends wi{constructor(P,v,R,B){super(P,v),this.urlAfterRedirects=R,this.state=B,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Oi extends wi{constructor(P,v,R,B){super(P,v),this.urlAfterRedirects=R,this.state=B,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ni extends wi{constructor(P,v,R,B,ne){super(P,v),this.urlAfterRedirects=R,this.state=B,this.shouldActivate=ne,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class No extends wi{constructor(P,v,R,B){super(P,v),this.urlAfterRedirects=R,this.state=B,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zs extends wi{constructor(P,v,R,B){super(P,v),this.urlAfterRedirects=R,this.state=B,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class uo{constructor(P){this.route=P,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class sa{constructor(P){this.route=P,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Gs{constructor(P){this.snapshot=P,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Lo{constructor(P){this.snapshot=P,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ys{constructor(P){this.snapshot=P,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ws{constructor(P){this.snapshot=P,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Li{constructor(P,v,R){this.routerEvent=P,this.position=v,this.anchor=R,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class jn{}class Pr{constructor(P){this.url=P}}class qi{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new ni,this.attachRef=null}}let ni=(()=>{class T{constructor(){this.contexts=new Map}onChildOutletCreated(v,R){const B=this.getOrCreateContext(v);B.outlet=R,this.contexts.set(v,B)}onChildOutletDestroyed(v){const R=this.getContext(v);R&&(R.outlet=null,R.attachRef=null)}onOutletDeactivated(){const v=this.contexts;return this.contexts=new Map,v}onOutletReAttached(v){this.contexts=v}getOrCreateContext(v){let R=this.getContext(v);return R||(R=new qi,this.contexts.set(v,R)),R}getContext(v){return this.contexts.get(v)||null}static#e=this.\u0275fac=function(R){return new(R||T)};static#t=this.\u0275prov=p.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})();class To{constructor(P){this._root=P}get root(){return this._root.value}parent(P){const v=this.pathFromRoot(P);return v.length>1?v[v.length-2]:null}children(P){const v=co(P,this._root);return v?v.children.map(R=>R.value):[]}firstChild(P){const v=co(P,this._root);return v&&v.children.length>0?v.children[0].value:null}siblings(P){const v=ss(P,this._root);return v.length<2?[]:v[v.length-2].children.map(B=>B.value).filter(B=>B!==P)}pathFromRoot(P){return ss(P,this._root).map(v=>v.value)}}function co(T,P){if(T===P.value)return P;for(const v of P.children){const R=co(T,v);if(R)return R}return null}function ss(T,P){if(T===P.value)return[P];for(const v of P.children){const R=ss(T,v);if(R.length)return R.unshift(P),R}return[]}class pi{constructor(P,v){this.value=P,this.children=v}toString(){return`TreeNode(${this.value})`}}function os(T){const P={};return T&&T.children.forEach(v=>P[v.value.outlet]=v),P}class Cr extends To{constructor(P,v){super(P),this.snapshot=v,br(this,P)}toString(){return this.snapshot.toString()}}function Ft(T,P){const v=function wn(T,P){const Y=new Fr([],{},{},"",{},Vt,P,null,{});return new ci("",new pi(Y,[]))}(0,P),R=new W.X([new qr("",{})]),B=new W.X({}),ne=new W.X({}),Y=new W.X({}),nt=new W.X(""),qe=new Gn(R,B,Y,nt,ne,Vt,P,v.root);return qe.snapshot=v.root,new Cr(new pi(qe,[]),v)}class Gn{constructor(P,v,R,B,ne,Y,nt,qe){this.urlSubject=P,this.paramsSubject=v,this.queryParamsSubject=R,this.fragmentSubject=B,this.dataSubject=ne,this.outlet=Y,this.component=nt,this._futureSnapshot=qe,this.title=this.dataSubject?.pipe((0,Gt.U)(zt=>zt[Rn]))??(0,J.of)(void 0),this.url=P,this.params=v,this.queryParams=R,this.fragment=B,this.data=ne}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Gt.U)(P=>Mn(P)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Gt.U)(P=>Mn(P)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function mi(T,P="emptyOnly"){const v=T.pathFromRoot;let R=0;if("always"!==P)for(R=v.length-1;R>=1;){const B=v[R],ne=v[R-1];if(B.routeConfig&&""===B.routeConfig.path)R--;else{if(ne.component)break;R--}}return function as(T){return T.reduce((P,v)=>({params:{...P.params,...v.params},data:{...P.data,...v.data},resolve:{...v.data,...P.resolve,...v.routeConfig?.data,...v._resolvedData}}),{params:{},data:{},resolve:{}})}(v.slice(R))}class Fr{get title(){return this.data?.[Rn]}constructor(P,v,R,B,ne,Y,nt,qe,zt){this.url=P,this.params=v,this.queryParams=R,this.fragment=B,this.data=ne,this.outlet=Y,this.component=nt,this.routeConfig=qe,this._resolve=zt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Mn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Mn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(R=>R.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ci extends To{constructor(P,v){super(v),this.url=P,br(this,v)}toString(){return ls(this._root)}}function br(T,P){P.value._routerState=T,P.children.forEach(v=>br(T,v))}function ls(T){const P=T.children.length>0?` { ${T.children.map(ls).join(", ")} } `:"";return`${T.value}${P}`}function vs(T){if(T.snapshot){const P=T.snapshot,v=T._futureSnapshot;T.snapshot=v,tr(P.queryParams,v.queryParams)||T.queryParamsSubject.next(v.queryParams),P.fragment!==v.fragment&&T.fragmentSubject.next(v.fragment),tr(P.params,v.params)||T.paramsSubject.next(v.params),function Nr(T,P){if(T.length!==P.length)return!1;for(let v=0;v<T.length;++v)if(!tr(T[v],P[v]))return!1;return!0}(P.url,v.url)||T.urlSubject.next(v.url),tr(P.data,v.data)||T.dataSubject.next(v.data)}else T.snapshot=T._futureSnapshot,T.dataSubject.next(T._futureSnapshot.data)}function fn(T,P){const v=tr(T.params,P.params)&&function Lr(T,P){return Bn(T,P)&&T.every((v,R)=>tr(v.parameters,P[R].parameters))}(T.url,P.url);return v&&!(!T.parent!=!P.parent)&&(!T.parent||fn(T.parent,P.parent))}let gi=(()=>{class T{constructor(){this.activated=null,this._activatedRoute=null,this.name=Vt,this.activateEvents=new p.vpe,this.deactivateEvents=new p.vpe,this.attachEvents=new p.vpe,this.detachEvents=new p.vpe,this.parentContexts=(0,p.f3M)(ni),this.location=(0,p.f3M)(p.s_b),this.changeDetector=(0,p.f3M)(p.sBO),this.environmentInjector=(0,p.f3M)(p.lqb),this.inputBinder=(0,p.f3M)(Ci,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(v){if(v.name){const{firstChange:R,previousValue:B}=v.name;if(R)return;this.isTrackedInParentContexts(B)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(B)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(v){return this.parentContexts.getContext(v)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const v=this.parentContexts.getContext(this.name);v?.route&&(v.attachRef?this.attach(v.attachRef,v.route):this.activateWith(v.route,v.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new p.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new p.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new p.vHH(4012,!1);this.location.detach();const v=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(v.instance),v}attach(v,R){this.activated=v,this._activatedRoute=R,this.location.insert(v.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(v.instance)}deactivate(){if(this.activated){const v=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(v)}}activateWith(v,R){if(this.isActivated)throw new p.vHH(4013,!1);this._activatedRoute=v;const B=this.location,Y=v.snapshot.component,nt=this.parentContexts.getOrCreateContext(this.name).children,qe=new us(v,nt,B.injector);this.activated=B.createComponent(Y,{index:B.length,injector:qe,environmentInjector:R??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(R){return new(R||T)};static#t=this.\u0275dir=p.lG2({type:T,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[p.TTD]})}return T})();class us{constructor(P,v,R){this.route=P,this.childContexts=v,this.parent=R}get(P,v){return P===Gn?this.route:P===ni?this.childContexts:this.parent.get(P,v)}}const Ci=new p.OlP("");let lr=(()=>{class T{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(v){this.unsubscribeFromRouteData(v),this.subscribeToRouteData(v)}unsubscribeFromRouteData(v){this.outletDataSubscriptions.get(v)?.unsubscribe(),this.outletDataSubscriptions.delete(v)}subscribeToRouteData(v){const{activatedRoute:R}=v,B=lt([R.queryParams,R.params,R.data]).pipe((0,At.w)(([ne,Y,nt],qe)=>(nt={...ne,...Y,...nt},0===qe?(0,J.of)(nt):Promise.resolve(nt)))).subscribe(ne=>{if(!v.isActivated||!v.activatedComponentRef||v.activatedRoute!==R||null===R.component)return void this.unsubscribeFromRouteData(v);const Y=(0,p.qFp)(R.component);if(Y)for(const{templateName:nt}of Y.inputs)v.activatedComponentRef.setInput(nt,ne[nt]);else this.unsubscribeFromRouteData(v)});this.outletDataSubscriptions.set(v,B)}static#e=this.\u0275fac=function(R){return new(R||T)};static#t=this.\u0275prov=p.Yz7({token:T,factory:T.\u0275fac})}return T})();function Ki(T,P,v){if(v&&T.shouldReuseRoute(P.value,v.value.snapshot)){const R=v.value;R._futureSnapshot=P.value;const B=function bi(T,P,v){return P.children.map(R=>{for(const B of v.children)if(T.shouldReuseRoute(R.value,B.value.snapshot))return Ki(T,R,B);return Ki(T,R)})}(T,P,v);return new pi(R,B)}{if(T.shouldAttach(P.value)){const ne=T.retrieve(P.value);if(null!==ne){const Y=ne.route;return Y.value._futureSnapshot=P.value,Y.children=P.children.map(nt=>Ki(T,nt)),Y}}const R=function cr(T){return new Gn(new W.X(T.url),new W.X(T.params),new W.X(T.queryParams),new W.X(T.fragment),new W.X(T.data),T.outlet,T.component,T)}(P.value),B=P.children.map(ne=>Ki(T,ne));return new pi(R,B)}}const Is="ngNavigationCancelingError";function Di(T,P){const{redirectTo:v,navigationBehaviorOptions:R}=St(P)?{redirectTo:P,navigationBehaviorOptions:void 0}:P,B=jr(!1,0,P);return B.url=v,B.navigationBehaviorOptions=R,B}function jr(T,P,v){const R=new Error("NavigationCancelingError: "+(T||""));return R[Is]=!0,R.cancellationCode=P,v&&(R.url=v),R}function Rs(T){return T&&T[Is]}let $n=(()=>{class T{static#e=this.\u0275fac=function(R){return new(R||T)};static#t=this.\u0275cmp=p.Xpm({type:T,selectors:[["ng-component"]],standalone:!0,features:[p.jDz],decls:1,vars:0,template:function(R,B){1&R&&p._UZ(0,"router-outlet")},dependencies:[gi],encapsulation:2})}return T})();function Qr(T){const P=T.children&&T.children.map(Qr),v=P?{...T,children:P}:{...T};return!v.component&&!v.loadComponent&&(P||v.loadChildren)&&v.outlet&&v.outlet!==Vt&&(v.component=$n),v}function gr(T){return T.outlet||Vt}function ds(T){if(!T)return null;if(T.routeConfig?._injector)return T.routeConfig._injector;for(let P=T.parent;P;P=P.parent){const v=P.routeConfig;if(v?._loadedInjector)return v._loadedInjector;if(v?._injector)return v._injector}return null}class Ks{constructor(P,v,R,B,ne){this.routeReuseStrategy=P,this.futureState=v,this.currState=R,this.forwardEvent=B,this.inputBindingEnabled=ne}activate(P){const v=this.futureState._root,R=this.currState?this.currState._root:null;this.deactivateChildRoutes(v,R,P),vs(this.futureState.root),this.activateChildRoutes(v,R,P)}deactivateChildRoutes(P,v,R){const B=os(v);P.children.forEach(ne=>{const Y=ne.value.outlet;this.deactivateRoutes(ne,B[Y],R),delete B[Y]}),Object.values(B).forEach(ne=>{this.deactivateRouteAndItsChildren(ne,R)})}deactivateRoutes(P,v,R){const B=P.value,ne=v?v.value:null;if(B===ne)if(B.component){const Y=R.getContext(B.outlet);Y&&this.deactivateChildRoutes(P,v,Y.children)}else this.deactivateChildRoutes(P,v,R);else ne&&this.deactivateRouteAndItsChildren(v,R)}deactivateRouteAndItsChildren(P,v){P.value.component&&this.routeReuseStrategy.shouldDetach(P.value.snapshot)?this.detachAndStoreRouteSubtree(P,v):this.deactivateRouteAndOutlet(P,v)}detachAndStoreRouteSubtree(P,v){const R=v.getContext(P.value.outlet),B=R&&P.value.component?R.children:v,ne=os(P);for(const Y of Object.keys(ne))this.deactivateRouteAndItsChildren(ne[Y],B);if(R&&R.outlet){const Y=R.outlet.detach(),nt=R.children.onOutletDeactivated();this.routeReuseStrategy.store(P.value.snapshot,{componentRef:Y,route:P,contexts:nt})}}deactivateRouteAndOutlet(P,v){const R=v.getContext(P.value.outlet),B=R&&P.value.component?R.children:v,ne=os(P);for(const Y of Object.keys(ne))this.deactivateRouteAndItsChildren(ne[Y],B);R&&(R.outlet&&(R.outlet.deactivate(),R.children.onOutletDeactivated()),R.attachRef=null,R.route=null)}activateChildRoutes(P,v,R){const B=os(v);P.children.forEach(ne=>{this.activateRoutes(ne,B[ne.value.outlet],R),this.forwardEvent(new Ws(ne.value.snapshot))}),P.children.length&&this.forwardEvent(new Lo(P.value.snapshot))}activateRoutes(P,v,R){const B=P.value,ne=v?v.value:null;if(vs(B),B===ne)if(B.component){const Y=R.getOrCreateContext(B.outlet);this.activateChildRoutes(P,v,Y.children)}else this.activateChildRoutes(P,v,R);else if(B.component){const Y=R.getOrCreateContext(B.outlet);if(this.routeReuseStrategy.shouldAttach(B.snapshot)){const nt=this.routeReuseStrategy.retrieve(B.snapshot);this.routeReuseStrategy.store(B.snapshot,null),Y.children.onOutletReAttached(nt.contexts),Y.attachRef=nt.componentRef,Y.route=nt.route.value,Y.outlet&&Y.outlet.attach(nt.componentRef,nt.route.value),vs(nt.route.value),this.activateChildRoutes(P,null,Y.children)}else{const nt=ds(B.snapshot);Y.attachRef=null,Y.route=B,Y.injector=nt,Y.outlet&&Y.outlet.activateWith(B,Y.injector),this.activateChildRoutes(P,null,Y.children)}}else this.activateChildRoutes(P,null,R)}}class Zs{constructor(P){this.path=P,this.route=this.path[this.path.length-1]}}class wo{constructor(P,v){this.component=P,this.route=v}}function aa(T,P,v){const R=T._root;return Fi(R,P?P._root:null,v,[R.value])}function Qs(T,P){const v=Symbol(),R=P.get(T,v);return R===v?"function"!=typeof T||(0,p.Z0I)(T)?P.get(T):T:R}function Fi(T,P,v,R,B={canDeactivateChecks:[],canActivateChecks:[]}){const ne=os(P);return T.children.forEach(Y=>{(function Co(T,P,v,R,B={canDeactivateChecks:[],canActivateChecks:[]}){const ne=T.value,Y=P?P.value:null,nt=v?v.getContext(T.value.outlet):null;if(Y&&ne.routeConfig===Y.routeConfig){const qe=function Vo(T,P,v){if("function"==typeof v)return v(T,P);switch(v){case"pathParamsChange":return!Bn(T.url,P.url);case"pathParamsOrQueryParamsChange":return!Bn(T.url,P.url)||!tr(T.queryParams,P.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!fn(T,P)||!tr(T.queryParams,P.queryParams);default:return!fn(T,P)}}(Y,ne,ne.routeConfig.runGuardsAndResolvers);qe?B.canActivateChecks.push(new Zs(R)):(ne.data=Y.data,ne._resolvedData=Y._resolvedData),Fi(T,P,ne.component?nt?nt.children:null:v,R,B),qe&&nt&&nt.outlet&&nt.outlet.isActivated&&B.canDeactivateChecks.push(new wo(nt.outlet.component,Y))}else Y&&dr(P,nt,B),B.canActivateChecks.push(new Zs(R)),Fi(T,null,ne.component?nt?nt.children:null:v,R,B)})(Y,ne[Y.value.outlet],v,R.concat([Y.value]),B),delete ne[Y.value.outlet]}),Object.entries(ne).forEach(([Y,nt])=>dr(nt,v.getContext(Y),B)),B}function dr(T,P,v){const R=os(T),B=T.value;Object.entries(R).forEach(([ne,Y])=>{dr(Y,B.component?P?P.children.getContext(ne):null:P,v)}),v.canDeactivateChecks.push(new wo(B.component&&P&&P.outlet&&P.outlet.isActivated?P.outlet.component:null,B))}function Ms(T){return"function"==typeof T}function Ai(T){return T instanceof st.K||"EmptyError"===T?.name}const ms=Symbol("INITIAL_VALUE");function Si(){return(0,At.w)(T=>lt(T.map(P=>P.pipe((0,gn.q)(1),(0,bt.O)(ms)))).pipe((0,Gt.U)(P=>{for(const v of P)if(!0!==v){if(v===ms)return ms;if(!1===v||v instanceof un)return v}return!0}),(0,Nt.h)(P=>P!==ms),(0,gn.q)(1)))}function Os(T){return(0,Me.z)((0,ke.b)(P=>{if(St(P))throw Di(0,P)}),(0,Gt.U)(P=>!0===P))}class Ns{constructor(P){this.segmentGroup=P||null}}class Ls{constructor(P){this.urlTree=P}}function Cs(T){return me(new Ns(T))}function Ys(T){return me(new Ls(T))}class la{constructor(P,v){this.urlSerializer=P,this.urlTree=v}noMatchError(P){return new p.vHH(4002,!1)}lineralizeSegments(P,v){let R=[],B=v.root;for(;;){if(R=R.concat(B.segments),0===B.numberOfChildren)return(0,J.of)(R);if(B.numberOfChildren>1||!B.children[Vt])return me(new p.vHH(4e3,!1));B=B.children[Vt]}}applyRedirectCommands(P,v,R){return this.applyRedirectCreateUrlTree(v,this.urlSerializer.parse(v),P,R)}applyRedirectCreateUrlTree(P,v,R,B){const ne=this.createSegmentGroup(P,v.root,R,B);return new un(ne,this.createQueryParams(v.queryParams,this.urlTree.queryParams),v.fragment)}createQueryParams(P,v){const R={};return Object.entries(P).forEach(([B,ne])=>{if("string"==typeof ne&&ne.startsWith(":")){const nt=ne.substring(1);R[B]=v[nt]}else R[B]=ne}),R}createSegmentGroup(P,v,R,B){const ne=this.createSegments(P,v.segments,R,B);let Y={};return Object.entries(v.children).forEach(([nt,qe])=>{Y[nt]=this.createSegmentGroup(P,qe,R,B)}),new vn(ne,Y)}createSegments(P,v,R,B){return v.map(ne=>ne.path.startsWith(":")?this.findPosParam(P,ne,B):this.findOrReturn(ne,R))}findPosParam(P,v,R){const B=R[v.path.substring(1)];if(!B)throw new p.vHH(4001,!1);return B}findOrReturn(P,v){let R=0;for(const B of v){if(B.path===P.path)return v.splice(R),B;R++}return P}}const qo={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ua(T,P,v,R,B){const ne=bs(T,P,v);return ne.matched?(R=function Es(T,P){return T.providers&&!T._injector&&(T._injector=(0,p.MMx)(T.providers,P,`Route: ${T.path}`)),T._injector??P}(P,R),function Wo(T,P,v,R){const B=P.canMatch;if(!B||0===B.length)return(0,J.of)(!0);const ne=B.map(Y=>{const nt=Qs(Y,T);return Qt(function be(T){return T&&Ms(T.canMatch)}(nt)?nt.canMatch(P,v):T.runInContext(()=>nt(P,v)))});return(0,J.of)(ne).pipe(Si(),Os())}(R,P,v).pipe((0,Gt.U)(Y=>!0===Y?ne:{...qo}))):(0,J.of)(ne)}function bs(T,P,v){if(""===P.path)return"full"===P.pathMatch&&(T.hasChildren()||v.length>0)?{...qo}:{matched:!0,consumedSegments:[],remainingSegments:v,parameters:{},positionalParamSegments:{}};const B=(P.matcher||kn)(v,T,P);if(!B)return{...qo};const ne={};Object.entries(B.posParams??{}).forEach(([nt,qe])=>{ne[nt]=qe.path});const Y=B.consumed.length>0?{...ne,...B.consumed[B.consumed.length-1].parameters}:ne;return{matched:!0,consumedSegments:B.consumed,remainingSegments:v.slice(B.consumed.length),parameters:Y,positionalParamSegments:B.posParams??{}}}function Js(T,P,v,R){return v.length>0&&function $a(T,P,v){return v.some(R=>Ds(T,P,R)&&gr(R)!==Vt)}(T,v,R)?{segmentGroup:new vn(P,Da(R,new vn(v,T.children))),slicedSegments:[]}:0===v.length&&function Fl(T,P,v){return v.some(R=>Ds(T,P,R))}(T,v,R)?{segmentGroup:new vn(T.segments,Ko(T,0,v,R,T.children)),slicedSegments:v}:{segmentGroup:new vn(T.segments,T.children),slicedSegments:v}}function Ko(T,P,v,R,B){const ne={};for(const Y of R)if(Ds(T,v,Y)&&!B[gr(Y)]){const nt=new vn([],{});ne[gr(Y)]=nt}return{...B,...ne}}function Da(T,P){const v={};v[Vt]=P;for(const R of T)if(""===R.path&&gr(R)!==Vt){const B=new vn([],{});v[gr(R)]=B}return v}function Ds(T,P,v){return(!(T.hasChildren()||P.length>0)||"full"!==v.pathMatch)&&""===v.path}class y{constructor(P,v,R,B,ne,Y,nt){this.injector=P,this.configLoader=v,this.rootComponentType=R,this.config=B,this.urlTree=ne,this.paramsInheritanceStrategy=Y,this.urlSerializer=nt,this.allowRedirects=!0,this.applyRedirects=new la(this.urlSerializer,this.urlTree)}noMatchError(P){return new p.vHH(4002,!1)}recognize(){const P=Js(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,P,Vt).pipe(He(v=>{if(v instanceof Ls)return this.allowRedirects=!1,this.urlTree=v.urlTree,this.match(v.urlTree);throw v instanceof Ns?this.noMatchError(v):v}),(0,Gt.U)(v=>{const R=new Fr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Vt,this.rootComponentType,null,{}),B=new pi(R,v),ne=new ci("",B),Y=function dt(T,P,v=null,R=null){return Zn(nn(T),P,v,R)}(R,[],this.urlTree.queryParams,this.urlTree.fragment);return Y.queryParams=this.urlTree.queryParams,ne.url=this.urlSerializer.serialize(Y),this.inheritParamsAndData(ne._root),{state:ne,tree:Y}}))}match(P){return this.processSegmentGroup(this.injector,this.config,P.root,Vt).pipe(He(R=>{throw R instanceof Ns?this.noMatchError(R):R}))}inheritParamsAndData(P){const v=P.value,R=mi(v,this.paramsInheritanceStrategy);v.params=Object.freeze(R.params),v.data=Object.freeze(R.data),P.children.forEach(B=>this.inheritParamsAndData(B))}processSegmentGroup(P,v,R,B){return 0===R.segments.length&&R.hasChildren()?this.processChildren(P,v,R):this.processSegment(P,v,R,R.segments,B,!0)}processChildren(P,v,R){const B=[];for(const ne of Object.keys(R.children))"primary"===ne?B.unshift(ne):B.push(ne);return(0,z.D)(B).pipe((0,Ze.b)(ne=>{const Y=R.children[ne],nt=function Fo(T,P){const v=T.filter(R=>gr(R)===P);return v.push(...T.filter(R=>gr(R)!==P)),v}(v,ne);return this.processSegmentGroup(P,nt,Y,ne)}),(0,ht.R)((ne,Y)=>(ne.push(...Y),ne)),(0,gt.d)(null),function en(T,P){const v=arguments.length>=2;return R=>R.pipe(T?(0,Nt.h)((B,ne)=>T(B,ne,R)):de.y,yt(1),v?(0,gt.d)(P):(0,Ln.T)(()=>new st.K))}(),(0,Se.z)(ne=>{if(null===ne)return Cs(R);const Y=Q(ne);return function E(T){T.sort((P,v)=>P.value.outlet===Vt?-1:v.value.outlet===Vt?1:P.value.outlet.localeCompare(v.value.outlet))}(Y),(0,J.of)(Y)}))}processSegment(P,v,R,B,ne,Y){return(0,z.D)(v).pipe((0,Ze.b)(nt=>this.processSegmentAgainstRoute(nt._injector??P,v,nt,R,B,ne,Y).pipe(He(qe=>{if(qe instanceof Ns)return(0,J.of)(null);throw qe}))),(0,Oe.P)(nt=>!!nt),He(nt=>{if(Ai(nt))return function Vl(T,P,v){return 0===P.length&&!T.children[v]}(R,B,ne)?(0,J.of)([]):Cs(R);throw nt}))}processSegmentAgainstRoute(P,v,R,B,ne,Y,nt){return function ul(T,P,v,R){return!!(gr(T)===R||R!==Vt&&Ds(P,v,T))&&("**"===T.path||bs(P,T,v).matched)}(R,B,ne,Y)?void 0===R.redirectTo?this.matchSegmentAgainstRoute(P,B,R,ne,Y,nt):nt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(P,B,v,R,ne,Y):Cs(B):Cs(B)}expandSegmentAgainstRouteUsingRedirect(P,v,R,B,ne,Y){return"**"===B.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(P,R,B,Y):this.expandRegularSegmentAgainstRouteUsingRedirect(P,v,R,B,ne,Y)}expandWildCardWithParamsAgainstRouteUsingRedirect(P,v,R,B){const ne=this.applyRedirects.applyRedirectCommands([],R.redirectTo,{});return R.redirectTo.startsWith("/")?Ys(ne):this.applyRedirects.lineralizeSegments(R,ne).pipe((0,Se.z)(Y=>{const nt=new vn(Y,{});return this.processSegment(P,v,nt,Y,B,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(P,v,R,B,ne,Y){const{matched:nt,consumedSegments:qe,remainingSegments:zt,positionalParamSegments:Fn}=bs(v,B,ne);if(!nt)return Cs(v);const Vn=this.applyRedirects.applyRedirectCommands(qe,B.redirectTo,Fn);return B.redirectTo.startsWith("/")?Ys(Vn):this.applyRedirects.lineralizeSegments(B,Vn).pipe((0,Se.z)(Qn=>this.processSegment(P,R,v,Qn.concat(zt),Y,!1)))}matchSegmentAgainstRoute(P,v,R,B,ne,Y){let nt;if("**"===R.path){const qe=B.length>0?hn(B).parameters:{},zt=new Fr(B,qe,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Re(R),gr(R),R.component??R._loadedComponent??null,R,_(R));nt=(0,J.of)({snapshot:zt,consumedSegments:[],remainingSegments:[]}),v.children={}}else nt=ua(v,R,B,P).pipe((0,Gt.U)(({matched:qe,consumedSegments:zt,remainingSegments:Fn,parameters:Vn})=>qe?{snapshot:new Fr(zt,Vn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Re(R),gr(R),R.component??R._loadedComponent??null,R,_(R)),consumedSegments:zt,remainingSegments:Fn}:null));return nt.pipe((0,At.w)(qe=>null===qe?Cs(v):this.getChildConfig(P=R._injector??P,R,B).pipe((0,At.w)(({routes:zt})=>{const Fn=R._loadedInjector??P,{snapshot:Vn,consumedSegments:Qn,remainingSegments:ar}=qe,{segmentGroup:Sa,slicedSegments:Pa}=Js(v,Qn,ar,zt);if(0===Pa.length&&Sa.hasChildren())return this.processChildren(Fn,zt,Sa).pipe((0,Gt.U)(Ra=>null===Ra?null:[new pi(Vn,Ra)]));if(0===zt.length&&0===Pa.length)return(0,J.of)([new pi(Vn,[])]);const Ru=gr(R)===ne;return this.processSegment(Fn,zt,Sa,Pa,Ru?Vt:ne,!0).pipe((0,Gt.U)(Ra=>[new pi(Vn,Ra)]))}))))}getChildConfig(P,v,R){return v.children?(0,J.of)({routes:v.children,injector:P}):v.loadChildren?void 0!==v._loadedRoutes?(0,J.of)({routes:v._loadedRoutes,injector:v._loadedInjector}):function Go(T,P,v,R){const B=P.canLoad;if(void 0===B||0===B.length)return(0,J.of)(!0);const ne=B.map(Y=>{const nt=Qs(Y,T);return Qt(function G(T){return T&&Ms(T.canLoad)}(nt)?nt.canLoad(P,v):T.runInContext(()=>nt(P,v)))});return(0,J.of)(ne).pipe(Si(),Os())}(P,v,R).pipe((0,Se.z)(B=>B?this.configLoader.loadChildren(P,v).pipe((0,ke.b)(ne=>{v._loadedRoutes=ne.routes,v._loadedInjector=ne.injector})):function ba(T){return me(jr(!1,3))}())):(0,J.of)({routes:[],injector:P})}}function x(T){const P=T.value.routeConfig;return P&&""===P.path}function Q(T){const P=[],v=new Set;for(const R of T){if(!x(R)){P.push(R);continue}const B=P.find(ne=>R.value.routeConfig===ne.value.routeConfig);void 0!==B?(B.children.push(...R.children),v.add(B)):P.push(R)}for(const R of v){const B=Q(R.children);P.push(new pi(R.value,B))}return P.filter(R=>!v.has(R))}function Re(T){return T.data||{}}function _(T){return T.resolve||{}}function pt(T){return"string"==typeof T.title||null===T.title}function jt(T){return(0,At.w)(P=>{const v=T(P);return v?(0,z.D)(v).pipe((0,Gt.U)(()=>P)):(0,J.of)(P)})}const rn=new p.OlP("ROUTES");let _n=(()=>{class T{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,p.f3M)(p.Sil)}loadComponent(v){if(this.componentLoaders.get(v))return this.componentLoaders.get(v);if(v._loadedComponent)return(0,J.of)(v._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(v);const R=Qt(v.loadComponent()).pipe((0,Gt.U)(dn),(0,ke.b)(ne=>{this.onLoadEndListener&&this.onLoadEndListener(v),v._loadedComponent=ne}),(0,an.x)(()=>{this.componentLoaders.delete(v)})),B=new at(R,()=>new Ct.x).pipe(he());return this.componentLoaders.set(v,B),B}loadChildren(v,R){if(this.childrenLoaders.get(R))return this.childrenLoaders.get(R);if(R._loadedRoutes)return(0,J.of)({routes:R._loadedRoutes,injector:R._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(R);const ne=function sn(T,P,v,R){return Qt(T.loadChildren()).pipe((0,Gt.U)(dn),(0,Se.z)(B=>B instanceof p.YKP||Array.isArray(B)?(0,J.of)(B):(0,z.D)(P.compileModuleAsync(B))),(0,Gt.U)(B=>{R&&R(T);let ne,Y,nt=!1;return Array.isArray(B)?(Y=B,!0):(ne=B.create(v).injector,Y=ne.get(rn,[],{optional:!0,self:!0}).flat()),{routes:Y.map(Qr),injector:ne}}))}(R,this.compiler,v,this.onLoadEndListener).pipe((0,an.x)(()=>{this.childrenLoaders.delete(R)})),Y=new at(ne,()=>new Ct.x).pipe(he());return this.childrenLoaders.set(R,Y),Y}static#e=this.\u0275fac=function(R){return new(R||T)};static#t=this.\u0275prov=p.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})();function dn(T){return function On(T){return T&&"object"==typeof T&&"default"in T}(T)?T.default:T}let Dn=(()=>{class T{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ct.x,this.transitionAbortSubject=new Ct.x,this.configLoader=(0,p.f3M)(_n),this.environmentInjector=(0,p.f3M)(p.lqb),this.urlSerializer=(0,p.f3M)(Br),this.rootContexts=(0,p.f3M)(ni),this.inputBindingEnabled=null!==(0,p.f3M)(Ci,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,J.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=B=>this.events.next(new sa(B)),this.configLoader.onLoadStartListener=B=>this.events.next(new uo(B))}complete(){this.transitions?.complete()}handleNavigationRequest(v){const R=++this.navigationId;this.transitions?.next({...this.transitions.value,...v,id:R})}setupNavigations(v,R,B){return this.transitions=new W.X({id:0,currentUrlTree:R,currentRawUrl:R,currentBrowserUrl:R,extractedUrl:v.urlHandlingStrategy.extract(R),urlAfterRedirects:v.urlHandlingStrategy.extract(R),rawUrl:R,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Wi,restoredState:null,currentSnapshot:B.snapshot,targetSnapshot:null,currentRouterState:B,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Nt.h)(ne=>0!==ne.id),(0,Gt.U)(ne=>({...ne,extractedUrl:v.urlHandlingStrategy.extract(ne.rawUrl)})),(0,At.w)(ne=>{this.currentTransition=ne;let Y=!1,nt=!1;return(0,J.of)(ne).pipe((0,ke.b)(qe=>{this.currentNavigation={id:qe.id,initialUrl:qe.rawUrl,extractedUrl:qe.extractedUrl,trigger:qe.source,extras:qe.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,At.w)(qe=>{const zt=qe.currentBrowserUrl.toString(),Fn=!v.navigated||qe.extractedUrl.toString()!==zt||zt!==qe.currentUrlTree.toString();if(!Fn&&"reload"!==(qe.extras.onSameUrlNavigation??v.onSameUrlNavigation)){const Qn="";return this.events.next(new ui(qe.id,this.urlSerializer.serialize(qe.rawUrl),Qn,0)),qe.resolve(null),ge.E}if(v.urlHandlingStrategy.shouldProcessUrl(qe.rawUrl))return(0,J.of)(qe).pipe((0,At.w)(Qn=>{const ar=this.transitions?.getValue();return this.events.next(new Io(Qn.id,this.urlSerializer.serialize(Qn.extractedUrl),Qn.source,Qn.restoredState)),ar!==this.transitions?.getValue()?ge.E:Promise.resolve(Qn)}),function L(T,P,v,R,B,ne){return(0,Se.z)(Y=>function Z(T,P,v,R,B,ne,Y="emptyOnly"){return new y(T,P,v,R,B,Y,ne).recognize()}(T,P,v,R,Y.extractedUrl,B,ne).pipe((0,Gt.U)(({state:nt,tree:qe})=>({...Y,targetSnapshot:nt,urlAfterRedirects:qe}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,v.config,this.urlSerializer,v.paramsInheritanceStrategy),(0,ke.b)(Qn=>{ne.targetSnapshot=Qn.targetSnapshot,ne.urlAfterRedirects=Qn.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Qn.urlAfterRedirects};const ar=new Eo(Qn.id,this.urlSerializer.serialize(Qn.extractedUrl),this.urlSerializer.serialize(Qn.urlAfterRedirects),Qn.targetSnapshot);this.events.next(ar)}));if(Fn&&v.urlHandlingStrategy.shouldProcessUrl(qe.currentRawUrl)){const{id:Qn,extractedUrl:ar,source:Sa,restoredState:Pa,extras:Ru}=qe,Ra=new Io(Qn,this.urlSerializer.serialize(ar),Sa,Pa);this.events.next(Ra);const Vs=Ft(0,this.rootComponentType).snapshot;return this.currentTransition=ne={...qe,targetSnapshot:Vs,urlAfterRedirects:ar,extras:{...Ru,skipLocationChange:!1,replaceUrl:!1}},(0,J.of)(ne)}{const Qn="";return this.events.next(new ui(qe.id,this.urlSerializer.serialize(qe.extractedUrl),Qn,1)),qe.resolve(null),ge.E}}),(0,ke.b)(qe=>{const zt=new Oi(qe.id,this.urlSerializer.serialize(qe.extractedUrl),this.urlSerializer.serialize(qe.urlAfterRedirects),qe.targetSnapshot);this.events.next(zt)}),(0,Gt.U)(qe=>(this.currentTransition=ne={...qe,guards:aa(qe.targetSnapshot,qe.currentSnapshot,this.rootContexts)},ne)),function ho(T,P){return(0,Se.z)(v=>{const{targetSnapshot:R,currentSnapshot:B,guards:{canActivateChecks:ne,canDeactivateChecks:Y}}=v;return 0===Y.length&&0===ne.length?(0,J.of)({...v,guardsResult:!0}):function Qi(T,P,v,R){return(0,z.D)(T).pipe((0,Se.z)(B=>function Yi(T,P,v,R,B){const ne=P&&P.routeConfig?P.routeConfig.canDeactivate:null;if(!ne||0===ne.length)return(0,J.of)(!0);const Y=ne.map(nt=>{const qe=ds(P)??B,zt=Qs(nt,qe);return Qt(function ie(T){return T&&Ms(T.canDeactivate)}(zt)?zt.canDeactivate(T,P,v,R):qe.runInContext(()=>zt(T,P,v,R))).pipe((0,Oe.P)())});return(0,J.of)(Y).pipe(Si())}(B.component,B.route,v,P,R)),(0,Oe.P)(B=>!0!==B,!0))}(Y,R,B,T).pipe((0,Se.z)(nt=>nt&&function Ha(T){return"boolean"==typeof T}(nt)?function si(T,P,v,R){return(0,z.D)(P).pipe((0,Ze.b)(B=>(0,wt.z)(function xs(T,P){return null!==T&&P&&P(new Gs(T)),(0,J.of)(!0)}(B.route.parent,R),function bo(T,P){return null!==T&&P&&P(new ys(T)),(0,J.of)(!0)}(B.route,R),function Do(T,P,v){const R=P[P.length-1],ne=P.slice(0,P.length-1).reverse().map(Y=>function Zi(T){const P=T.routeConfig?T.routeConfig.canActivateChild:null;return P&&0!==P.length?{node:T,guards:P}:null}(Y)).filter(Y=>null!==Y).map(Y=>ae(()=>{const nt=Y.guards.map(qe=>{const zt=ds(Y.node)??v,Fn=Qs(qe,zt);return Qt(function O(T){return T&&Ms(T.canActivateChild)}(Fn)?Fn.canActivateChild(R,T):zt.runInContext(()=>Fn(R,T))).pipe((0,Oe.P)())});return(0,J.of)(nt).pipe(Si())}));return(0,J.of)(ne).pipe(Si())}(T,B.path,v),function yi(T,P,v){const R=P.routeConfig?P.routeConfig.canActivate:null;if(!R||0===R.length)return(0,J.of)(!0);const B=R.map(ne=>ae(()=>{const Y=ds(P)??v,nt=Qs(ne,Y);return Qt(function q(T){return T&&Ms(T.canActivate)}(nt)?nt.canActivate(P,T):Y.runInContext(()=>nt(P,T))).pipe((0,Oe.P)())}));return(0,J.of)(B).pipe(Si())}(T,B.route,v))),(0,Oe.P)(B=>!0!==B,!0))}(R,ne,T,P):(0,J.of)(nt)),(0,Gt.U)(nt=>({...v,guardsResult:nt})))})}(this.environmentInjector,qe=>this.events.next(qe)),(0,ke.b)(qe=>{if(ne.guardsResult=qe.guardsResult,St(qe.guardsResult))throw Di(0,qe.guardsResult);const zt=new Ni(qe.id,this.urlSerializer.serialize(qe.extractedUrl),this.urlSerializer.serialize(qe.urlAfterRedirects),qe.targetSnapshot,!!qe.guardsResult);this.events.next(zt)}),(0,Nt.h)(qe=>!!qe.guardsResult||(this.cancelNavigationTransition(qe,"",3),!1)),jt(qe=>{if(qe.guards.canActivateChecks.length)return(0,J.of)(qe).pipe((0,ke.b)(zt=>{const Fn=new No(zt.id,this.urlSerializer.serialize(zt.extractedUrl),this.urlSerializer.serialize(zt.urlAfterRedirects),zt.targetSnapshot);this.events.next(Fn)}),(0,At.w)(zt=>{let Fn=!1;return(0,J.of)(zt).pipe(function A(T,P){return(0,Se.z)(v=>{const{targetSnapshot:R,guards:{canActivateChecks:B}}=v;if(!B.length)return(0,J.of)(v);let ne=0;return(0,z.D)(B).pipe((0,Ze.b)(Y=>function F(T,P,v,R){const B=T.routeConfig,ne=T._resolve;return void 0!==B?.title&&!pt(B)&&(ne[Rn]=B.title),function ue(T,P,v,R){const B=function Be(T){return[...Object.keys(T),...Object.getOwnPropertySymbols(T)]}(T);if(0===B.length)return(0,J.of)({});const ne={};return(0,z.D)(B).pipe((0,Se.z)(Y=>function We(T,P,v,R){const B=ds(P)??R,ne=Qs(T,B);return Qt(ne.resolve?ne.resolve(P,v):B.runInContext(()=>ne(P,v)))}(T[Y],P,v,R).pipe((0,Oe.P)(),(0,ke.b)(nt=>{ne[Y]=nt}))),yt(1),function Sn(T){return(0,Gt.U)(()=>T)}(ne),He(Y=>Ai(Y)?ge.E:me(Y)))}(ne,T,P,R).pipe((0,Gt.U)(Y=>(T._resolvedData=Y,T.data=mi(T,v).resolve,B&&pt(B)&&(T.data[Rn]=B.title),null)))}(Y.route,R,T,P)),(0,ke.b)(()=>ne++),yt(1),(0,Se.z)(Y=>ne===B.length?(0,J.of)(v):ge.E))})}(v.paramsInheritanceStrategy,this.environmentInjector),(0,ke.b)({next:()=>Fn=!0,complete:()=>{Fn||this.cancelNavigationTransition(zt,"",2)}}))}),(0,ke.b)(zt=>{const Fn=new zs(zt.id,this.urlSerializer.serialize(zt.extractedUrl),this.urlSerializer.serialize(zt.urlAfterRedirects),zt.targetSnapshot);this.events.next(Fn)}))}),jt(qe=>{const zt=Fn=>{const Vn=[];Fn.routeConfig?.loadComponent&&!Fn.routeConfig._loadedComponent&&Vn.push(this.configLoader.loadComponent(Fn.routeConfig).pipe((0,ke.b)(Qn=>{Fn.component=Qn}),(0,Gt.U)(()=>{})));for(const Qn of Fn.children)Vn.push(...zt(Qn));return Vn};return lt(zt(qe.targetSnapshot.root)).pipe((0,gt.d)(),(0,gn.q)(1))}),jt(()=>this.afterPreactivation()),(0,Gt.U)(qe=>{const zt=function _i(T,P,v){const R=Ki(T,P._root,v?v._root:void 0);return new Cr(R,P)}(v.routeReuseStrategy,qe.targetSnapshot,qe.currentRouterState);return this.currentTransition=ne={...qe,targetRouterState:zt},ne}),(0,ke.b)(()=>{this.events.next(new jn)}),((T,P,v,R)=>(0,Gt.U)(B=>(new Ks(P,B.targetRouterState,B.currentRouterState,v,R).activate(T),B)))(this.rootContexts,v.routeReuseStrategy,qe=>this.events.next(qe),this.inputBindingEnabled),(0,gn.q)(1),(0,ke.b)({next:qe=>{Y=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new li(qe.id,this.urlSerializer.serialize(qe.extractedUrl),this.urlSerializer.serialize(qe.urlAfterRedirects))),v.titleStrategy?.updateTitle(qe.targetRouterState.snapshot),qe.resolve(!0)},complete:()=>{Y=!0}}),function Un(T){return(0,ye.e)((P,v)=>{(0,ut.Xf)(T).subscribe((0,ze.x)(v,()=>v.complete(),ln.Z)),!v.closed&&P.subscribe(v)})}(this.transitionAbortSubject.pipe((0,ke.b)(qe=>{throw qe}))),(0,an.x)(()=>{Y||nt||this.cancelNavigationTransition(ne,"",1),this.currentNavigation?.id===ne.id&&(this.currentNavigation=null)}),He(qe=>{if(nt=!0,Rs(qe))this.events.next(new $s(ne.id,this.urlSerializer.serialize(ne.extractedUrl),qe.message,qe.cancellationCode)),function qs(T){return Rs(T)&&St(T.url)}(qe)?this.events.next(new Pr(qe.url)):ne.resolve(!1);else{this.events.next(new Hi(ne.id,this.urlSerializer.serialize(ne.extractedUrl),qe,ne.targetSnapshot??void 0));try{ne.resolve(v.errorHandler(qe))}catch(zt){ne.reject(zt)}}return ge.E}))}))}cancelNavigationTransition(v,R,B){const ne=new $s(v.id,this.urlSerializer.serialize(v.extractedUrl),R,B);this.events.next(ne),v.resolve(!1)}static#e=this.\u0275fac=function(R){return new(R||T)};static#t=this.\u0275prov=p.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})();function $r(T){return T!==Wi}let Dr=(()=>{class T{buildTitle(v){let R,B=v.root;for(;void 0!==B;)R=this.getResolvedTitleForRoute(B)??R,B=B.children.find(ne=>ne.outlet===Vt);return R}getResolvedTitleForRoute(v){return v.data[Rn]}static#e=this.\u0275fac=function(R){return new(R||T)};static#t=this.\u0275prov=p.Yz7({token:T,factory:function(){return(0,p.f3M)(vi)},providedIn:"root"})}return T})(),vi=(()=>{class T extends Dr{constructor(v){super(),this.title=v}updateTitle(v){const R=this.buildTitle(v);void 0!==R&&this.title.setTitle(R)}static#e=this.\u0275fac=function(R){return new(R||T)(p.LFG(Tn.Dx))};static#t=this.\u0275prov=p.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})(),Vr=(()=>{class T{static#e=this.\u0275fac=function(R){return new(R||T)};static#t=this.\u0275prov=p.Yz7({token:T,factory:function(){return(0,p.f3M)(Yr)},providedIn:"root"})}return T})();class Vi{shouldDetach(P){return!1}store(P,v){}shouldAttach(P){return!1}retrieve(P){return null}shouldReuseRoute(P,v){return P.routeConfig===v.routeConfig}}let Yr=(()=>{class T extends Vi{static#e=this.\u0275fac=function(){let v;return function(B){return(v||(v=p.n5z(T)))(B||T)}}();static#t=this.\u0275prov=p.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})();const fs=new p.OlP("",{providedIn:"root",factory:()=>({})});let Zo=(()=>{class T{static#e=this.\u0275fac=function(R){return new(R||T)};static#t=this.\u0275prov=p.Yz7({token:T,factory:function(){return(0,p.f3M)(Rr)},providedIn:"root"})}return T})(),Rr=(()=>{class T{shouldProcessUrl(v){return!0}extract(v){return v}merge(v,R){return v}static#e=this.\u0275fac=function(R){return new(R||T)};static#t=this.\u0275prov=p.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})();var fo=function(T){return T[T.COMPLETE=0]="COMPLETE",T[T.FAILED=1]="FAILED",T[T.REDIRECTING=2]="REDIRECTING",T}(fo||{});function Yt(T,P){T.events.pipe((0,Nt.h)(v=>v instanceof li||v instanceof $s||v instanceof Hi||v instanceof ui),(0,Gt.U)(v=>v instanceof li||v instanceof ui?fo.COMPLETE:v instanceof $s&&(0===v.code||1===v.code)?fo.REDIRECTING:fo.FAILED),(0,Nt.h)(v=>v!==fo.REDIRECTING),(0,gn.q)(1)).subscribe(()=>{P()})}function Zt(T){throw T}function Nn(T,P,v){return P.parse("/")}const ir={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},oi={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let hr=(()=>{class T{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,p.f3M)(p.c2e),this.isNgZoneEnabled=!1,this._events=new Ct.x,this.options=(0,p.f3M)(fs,{optional:!0})||{},this.pendingTasks=(0,p.f3M)(p.HDt),this.errorHandler=this.options.errorHandler||Zt,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Nn,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,p.f3M)(Zo),this.routeReuseStrategy=(0,p.f3M)(Vr),this.titleStrategy=(0,p.f3M)(Dr),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,p.f3M)(rn,{optional:!0})?.flat()??[],this.navigationTransitions=(0,p.f3M)(Dn),this.urlSerializer=(0,p.f3M)(Br),this.location=(0,p.f3M)($e.Ye),this.componentInputBindingEnabled=!!(0,p.f3M)(Ci,{optional:!0}),this.eventsSubscription=new Ce.w0,this.isNgZoneEnabled=(0,p.f3M)(p.R0b)instanceof p.R0b&&p.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new un,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Ft(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(v=>{this.lastSuccessfulId=v.id,this.currentPageId=this.browserPageId},v=>{this.console.warn(`Unhandled Navigation Error: ${v}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const v=this.navigationTransitions.events.subscribe(R=>{try{const{currentTransition:B}=this.navigationTransitions;if(null===B)return void(Ao(R)&&this._events.next(R));if(R instanceof Io)$r(B.source)&&(this.browserUrlTree=B.extractedUrl);else if(R instanceof ui)this.rawUrlTree=B.rawUrl;else if(R instanceof Eo){if("eager"===this.urlUpdateStrategy){if(!B.extras.skipLocationChange){const ne=this.urlHandlingStrategy.merge(B.urlAfterRedirects,B.rawUrl);this.setBrowserUrl(ne,B)}this.browserUrlTree=B.urlAfterRedirects}}else if(R instanceof jn)this.currentUrlTree=B.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(B.urlAfterRedirects,B.rawUrl),this.routerState=B.targetRouterState,"deferred"===this.urlUpdateStrategy&&(B.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,B),this.browserUrlTree=B.urlAfterRedirects);else if(R instanceof $s)0!==R.code&&1!==R.code&&(this.navigated=!0),(3===R.code||2===R.code)&&this.restoreHistory(B);else if(R instanceof Pr){const ne=this.urlHandlingStrategy.merge(R.url,B.currentRawUrl),Y={skipLocationChange:B.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||$r(B.source)};this.scheduleNavigation(ne,Wi,null,Y,{resolve:B.resolve,reject:B.reject,promise:B.promise})}R instanceof Hi&&this.restoreHistory(B,!0),R instanceof li&&(this.navigated=!0),Ao(R)&&this._events.next(R)}catch(B){this.navigationTransitions.transitionAbortSubject.next(B)}});this.eventsSubscription.add(v)}resetRootComponentType(v){this.routerState.root.component=v,this.navigationTransitions.rootComponentType=v}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const v=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Wi,v)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(v=>{const R="popstate"===v.type?"popstate":"hashchange";"popstate"===R&&setTimeout(()=>{this.navigateToSyncWithBrowser(v.url,R,v.state)},0)}))}navigateToSyncWithBrowser(v,R,B){const ne={replaceUrl:!0},Y=B?.navigationId?B:null;if(B){const qe={...B};delete qe.navigationId,delete qe.\u0275routerPageId,0!==Object.keys(qe).length&&(ne.state=qe)}const nt=this.parseUrl(v);this.scheduleNavigation(nt,R,Y,ne)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(v){this.config=v.map(Qr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(v,R={}){const{relativeTo:B,queryParams:ne,fragment:Y,queryParamsHandling:nt,preserveFragment:qe}=R,zt=qe?this.currentUrlTree.fragment:Y;let Vn,Fn=null;switch(nt){case"merge":Fn={...this.currentUrlTree.queryParams,...ne};break;case"preserve":Fn=this.currentUrlTree.queryParams;break;default:Fn=ne||null}null!==Fn&&(Fn=this.removeEmptyProps(Fn));try{Vn=nn(B?B.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof v[0]||!v[0].startsWith("/"))&&(v=[]),Vn=this.currentUrlTree.root}return Zn(Vn,v,Fn,zt??null)}navigateByUrl(v,R={skipLocationChange:!1}){const B=St(v)?v:this.parseUrl(v),ne=this.urlHandlingStrategy.merge(B,this.rawUrlTree);return this.scheduleNavigation(ne,Wi,null,R)}navigate(v,R={skipLocationChange:!1}){return function ji(T){for(let P=0;P<T.length;P++)if(null==T[P])throw new p.vHH(4008,!1)}(v),this.navigateByUrl(this.createUrlTree(v,R),R)}serializeUrl(v){return this.urlSerializer.serialize(v)}parseUrl(v){let R;try{R=this.urlSerializer.parse(v)}catch(B){R=this.malformedUriErrorHandler(B,this.urlSerializer,v)}return R}isActive(v,R){let B;if(B=!0===R?{...ir}:!1===R?{...oi}:R,St(v))return Je(this.currentUrlTree,v,B);const ne=this.parseUrl(v);return Je(this.currentUrlTree,ne,B)}removeEmptyProps(v){return Object.keys(v).reduce((R,B)=>{const ne=v[B];return null!=ne&&(R[B]=ne),R},{})}scheduleNavigation(v,R,B,ne,Y){if(this.disposed)return Promise.resolve(!1);let nt,qe,zt;Y?(nt=Y.resolve,qe=Y.reject,zt=Y.promise):zt=new Promise((Vn,Qn)=>{nt=Vn,qe=Qn});const Fn=this.pendingTasks.add();return Yt(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Fn))}),this.navigationTransitions.handleNavigationRequest({source:R,restoredState:B,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:v,extras:ne,resolve:nt,reject:qe,promise:zt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),zt.catch(Vn=>Promise.reject(Vn))}setBrowserUrl(v,R){const B=this.urlSerializer.serialize(v);if(this.location.isCurrentPathEqualTo(B)||R.extras.replaceUrl){const Y={...R.extras.state,...this.generateNgRouterState(R.id,this.browserPageId)};this.location.replaceState(B,"",Y)}else{const ne={...R.extras.state,...this.generateNgRouterState(R.id,this.browserPageId+1)};this.location.go(B,"",ne)}}restoreHistory(v,R=!1){if("computed"===this.canceledNavigationResolution){const ne=this.currentPageId-this.browserPageId;0!==ne?this.location.historyGo(ne):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===ne&&(this.resetState(v),this.browserUrlTree=v.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(R&&this.resetState(v),this.resetUrlToCurrentUrlTree())}resetState(v){this.routerState=v.currentRouterState,this.currentUrlTree=v.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,v.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(v,R){return"computed"===this.canceledNavigationResolution?{navigationId:v,\u0275routerPageId:R}:{navigationId:v}}static#e=this.\u0275fac=function(R){return new(R||T)};static#t=this.\u0275prov=p.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})();function Ao(T){return!(T instanceof jn||T instanceof Pr)}class ai{}let Uo=(()=>{class T{preload(v,R){return R().pipe(He(()=>(0,J.of)(null)))}static#e=this.\u0275fac=function(R){return new(R||T)};static#t=this.\u0275prov=p.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})(),Jr=(()=>{class T{constructor(v,R,B,ne,Y){this.router=v,this.injector=B,this.preloadingStrategy=ne,this.loader=Y}setUpPreloading(){this.subscription=this.router.events.pipe((0,Nt.h)(v=>v instanceof li),(0,Ze.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(v,R){const B=[];for(const ne of R){ne.providers&&!ne._injector&&(ne._injector=(0,p.MMx)(ne.providers,v,`Route: ${ne.path}`));const Y=ne._injector??v,nt=ne._loadedInjector??Y;(ne.loadChildren&&!ne._loadedRoutes&&void 0===ne.canLoad||ne.loadComponent&&!ne._loadedComponent)&&B.push(this.preloadConfig(Y,ne)),(ne.children||ne._loadedRoutes)&&B.push(this.processRoutes(nt,ne.children??ne._loadedRoutes))}return(0,z.D)(B).pipe((0,Pn.J)())}preloadConfig(v,R){return this.preloadingStrategy.preload(R,()=>{let B;B=R.loadChildren&&void 0===R.canLoad?this.loader.loadChildren(v,R):(0,J.of)(null);const ne=B.pipe((0,Se.z)(Y=>null===Y?(0,J.of)(void 0):(R._loadedRoutes=Y.routes,R._loadedInjector=Y.injector,this.processRoutes(Y.injector??v,Y.routes))));if(R.loadComponent&&!R._loadedComponent){const Y=this.loader.loadComponent(R);return(0,z.D)([ne,Y]).pipe((0,Pn.J)())}return ne})}static#e=this.\u0275fac=function(R){return new(R||T)(p.LFG(hr),p.LFG(p.Sil),p.LFG(p.lqb),p.LFG(ai),p.LFG(_n))};static#t=this.\u0275prov=p.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})();const Ui=new p.OlP("");let An=(()=>{class T{constructor(v,R,B,ne,Y={}){this.urlSerializer=v,this.transitions=R,this.viewportScroller=B,this.zone=ne,this.options=Y,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Y.scrollPositionRestoration=Y.scrollPositionRestoration||"disabled",Y.anchorScrolling=Y.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(v=>{v instanceof Io?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=v.navigationTrigger,this.restoredId=v.restoredState?v.restoredState.navigationId:0):v instanceof li?(this.lastId=v.id,this.scheduleScrollEvent(v,this.urlSerializer.parse(v.urlAfterRedirects).fragment)):v instanceof ui&&0===v.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(v,this.urlSerializer.parse(v.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(v=>{v instanceof Li&&(v.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(v.position):v.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(v.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(v,R){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Li(v,"popstate"===this.lastSource?this.store[this.restoredId]:null,R))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(R){p.$Z()};static#t=this.\u0275prov=p.Yz7({token:T,factory:T.\u0275fac})}return T})();function Qo(T,P){return{\u0275kind:T,\u0275providers:P}}function Su(){const T=(0,p.f3M)(p.zs3);return P=>{const v=T.get(p.z2F);if(P!==v.components[0])return;const R=T.get(hr),B=T.get(wd);1===T.get(Ul)&&R.initialNavigation(),T.get(ur,null,p.XFs.Optional)?.setUpPreloading(),T.get(Ui,null,p.XFs.Optional)?.init(),R.resetRootComponentType(v.componentTypes[0]),B.closed||(B.next(),B.complete(),B.unsubscribe())}}const wd=new p.OlP("",{factory:()=>new Ct.x}),Ul=new p.OlP("",{providedIn:"root",factory:()=>1}),ur=new p.OlP("");function za(T){return Qo(0,[{provide:ur,useExisting:Jr},{provide:ai,useExisting:T}])}const Aa=new p.OlP("ROUTER_FORROOT_GUARD"),Xr=[$e.Ye,{provide:Br,useClass:ei},hr,ni,{provide:Gn,useFactory:function on(T){return T.routerState.root},deps:[hr]},_n,[]];function cn(){return new p.PXZ("Router",hr)}let cl=(()=>{class T{constructor(v){}static forRoot(v,R){return{ngModule:T,providers:[Xr,[],{provide:rn,multi:!0,useValue:v},{provide:Aa,useFactory:Ut,deps:[[hr,new p.FiY,new p.tp0]]},{provide:fs,useValue:R||{}},R?.useHash?{provide:$e.S$,useClass:$e.Do}:{provide:$e.S$,useClass:$e.b0},{provide:Ui,useFactory:()=>{const T=(0,p.f3M)($e.EM),P=(0,p.f3M)(p.R0b),v=(0,p.f3M)(fs),R=(0,p.f3M)(Dn),B=(0,p.f3M)(Br);return v.scrollOffset&&T.setOffset(v.scrollOffset),new An(B,R,T,P,v)}},R?.preloadingStrategy?za(R.preloadingStrategy).\u0275providers:[],{provide:p.PXZ,multi:!0,useFactory:cn},R?.initialNavigation?Fs(R):[],R?.bindToComponentInputs?Qo(8,[lr,{provide:Ci,useExisting:lr}]).\u0275providers:[],[{provide:po,useFactory:Su},{provide:p.tb,multi:!0,useExisting:po}]]}}static forChild(v){return{ngModule:T,providers:[{provide:rn,multi:!0,useValue:v}]}}static#e=this.\u0275fac=function(R){return new(R||T)(p.LFG(Aa,8))};static#t=this.\u0275mod=p.oAB({type:T});static#n=this.\u0275inj=p.cJS({})}return T})();function Ut(T){return"guarded"}function Fs(T){return["disabled"===T.initialNavigation?Qo(3,[{provide:p.ip1,multi:!0,useFactory:()=>{const P=(0,p.f3M)(hr);return()=>{P.setUpLocationChangeListener()}}},{provide:Ul,useValue:2}]).\u0275providers:[],"enabledBlocking"===T.initialNavigation?Qo(2,[{provide:Ul,useValue:0},{provide:p.ip1,multi:!0,deps:[p.zs3],useFactory:P=>{const v=P.get($e.V_,Promise.resolve());return()=>v.then(()=>new Promise(R=>{const B=P.get(hr),ne=P.get(wd);Yt(B,()=>{R(!0)}),P.get(Dn).afterPreactivation=()=>(R(!0),ne.closed?(0,J.of)(void 0):ne),B.initialNavigation()}))}}]).\u0275providers:[]]}const po=new p.OlP("")},3106:(xt,je,U)=>{U.d(je,{Z:()=>lt});var p=U(9058),V=U(4537),b=U(534),Te=U(7879);class z{constructor(rt,st){this._delegate=rt,this.firebase=st,(0,b._addComponent)(rt,new V.wA("app-compat",()=>this,"PUBLIC")),this.container=rt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(rt){this._delegate.automaticDataCollectionEnabled=rt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(rt=>{this._delegate.checkDestroyed(),rt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,b.deleteApp)(this._delegate)))}_getService(rt,st=b._DEFAULT_ENTRY_NAME){var wt;this._delegate.checkDestroyed();const ut=this._delegate.container.getProvider(rt);return!ut.isInitialized()&&"EXPLICIT"===(null===(wt=ut.getComponent())||void 0===wt?void 0:wt.instantiationMode)&&ut.initialize(),ut.getImmediate({identifier:st})}_removeServiceInstance(rt,st=b._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(rt).clearInstance(st)}_addComponent(rt){(0,b._addComponent)(this._delegate,rt)}_addOrOverwriteComponent(rt){(0,b._addOrOverwriteComponent)(this._delegate,rt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const W=new p.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),X=function de(){const tt=function ce(tt){const rt={},st={__esModule:!0,initializeApp:function ae(Ce,ye={}){const he=b.initializeApp(Ce,ye);if((0,p.r3)(rt,he.name))return rt[he.name];const at=new tt(he,st);return rt[he.name]=at,at},app:ut,registerVersion:b.registerVersion,setLogLevel:b.setLogLevel,onLog:b.onLog,apps:null,SDK_VERSION:b.SDK_VERSION,INTERNAL:{registerComponent:function me(Ce){const ye=Ce.name,he=ye.replace("-compat","");if(b._registerComponent(Ce)&&"PUBLIC"===Ce.type){const at=(Ct=ut())=>{if("function"!=typeof Ct[he])throw W.create("invalid-app-argument",{appName:ye});return Ct[he]()};void 0!==Ce.serviceProps&&(0,p.ZB)(at,Ce.serviceProps),st[he]=at,tt.prototype[he]=function(...Ct){return this._getService.bind(this,ye).apply(this,Ce.multipleInstances?Ct:[])}}return"PUBLIC"===Ce.type?st[he]:null},removeApp:function wt(Ce){delete rt[Ce]},useAsService:function ge(Ce,ye){return"serverAuth"===ye?null:ye},modularAPIs:b}};function ut(Ce){if(!(0,p.r3)(rt,Ce=Ce||b._DEFAULT_ENTRY_NAME))throw W.create("no-app",{appName:Ce});return rt[Ce]}return st.default=st,Object.defineProperty(st,"apps",{get:function Me(){return Object.keys(rt).map(Ce=>rt[Ce])}}),ut.App=tt,st}(z);return tt.INTERNAL=Object.assign(Object.assign({},tt.INTERNAL),{createFirebaseNamespace:de,extendNamespace:function rt(st){(0,p.ZB)(tt,st)},createSubscribe:p.ne,ErrorFactory:p.LL,deepExtend:p.ZB}),tt}(),se=new Te.Yd("@firebase/app-compat");if((0,p.jU)()&&void 0!==self.firebase){se.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const tt=self.firebase.SDK_VERSION;tt&&tt.indexOf("LITE")>=0&&se.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const lt=X;!function Ye(tt){(0,b.registerVersion)("@firebase/app-compat","0.2.27",tt)}()},534:(xt,je,U)=>{U.r(je),U.d(je,{FirebaseError:()=>Te.ZR,SDK_VERSION:()=>vn,_DEFAULT_ENTRY_NAME:()=>Xt,_addComponent:()=>Tr,_addOrOverwriteComponent:()=>Je,_apps:()=>Qt,_clearComponents:()=>Qe,_components:()=>Kn,_getProvider:()=>Ae,_registerComponent:()=>Dt,_removeServiceInstance:()=>Ge,deleteApp:()=>sr,getApp:()=>Lr,getApps:()=>Bn,initializeApp:()=>qr,onLog:()=>Ti,registerVersion:()=>ei,setLogLevel:()=>Ar});var p=U(5861),V=U(4537),b=U(7879),Te=U(9058);const z=(Ie,we)=>we.some(Ue=>Ie instanceof Ue);let J,W;const X=new WeakMap,se=new WeakMap,Ee=new WeakMap,ze=new WeakMap,Ye=new WeakMap;let rt={get(Ie,we,Ue){if(Ie instanceof IDBTransaction){if("done"===we)return se.get(Ie);if("objectStoreNames"===we)return Ie.objectStoreNames||Ee.get(Ie);if("store"===we)return Ue.objectStoreNames[1]?void 0:Ue.objectStore(Ue.objectStoreNames[0])}return ae(Ie[we])},set:(Ie,we,Ue)=>(Ie[we]=Ue,!0),has:(Ie,we)=>Ie instanceof IDBTransaction&&("done"===we||"store"===we)||we in Ie};function ut(Ie){return"function"==typeof Ie?function wt(Ie){return Ie!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function de(){return W||(W=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Ie)?function(...we){return Ie.apply(Me(this),we),ae(X.get(this))}:function(...we){return ae(Ie.apply(Me(this),we))}:function(we,...Ue){const et=Ie.call(Me(this),we,...Ue);return Ee.set(et,we.sort?we.sort():[we]),ae(et)}}(Ie):(Ie instanceof IDBTransaction&&function tt(Ie){if(se.has(Ie))return;const we=new Promise((Ue,et)=>{const St=()=>{Ie.removeEventListener("complete",dt),Ie.removeEventListener("error",nn),Ie.removeEventListener("abort",nn)},dt=()=>{Ue(),St()},nn=()=>{et(Ie.error||new DOMException("AbortError","AbortError")),St()};Ie.addEventListener("complete",dt),Ie.addEventListener("error",nn),Ie.addEventListener("abort",nn)});se.set(Ie,we)}(Ie),z(Ie,function ce(){return J||(J=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Ie,rt):Ie)}function ae(Ie){if(Ie instanceof IDBRequest)return function lt(Ie){const we=new Promise((Ue,et)=>{const St=()=>{Ie.removeEventListener("success",dt),Ie.removeEventListener("error",nn)},dt=()=>{Ue(ae(Ie.result)),St()},nn=()=>{et(Ie.error),St()};Ie.addEventListener("success",dt),Ie.addEventListener("error",nn)});return we.then(Ue=>{Ue instanceof IDBCursor&&X.set(Ue,Ie)}).catch(()=>{}),Ye.set(we,Ie),we}(Ie);if(ze.has(Ie))return ze.get(Ie);const we=ut(Ie);return we!==Ie&&(ze.set(Ie,we),Ye.set(we,Ie)),we}const Me=Ie=>Ye.get(Ie),Ce=["get","getKey","getAll","getAllKeys","count"],ye=["put","add","delete","clear"],he=new Map;function at(Ie,we){if(!(Ie instanceof IDBDatabase)||we in Ie||"string"!=typeof we)return;if(he.get(we))return he.get(we);const Ue=we.replace(/FromIndex$/,""),et=we!==Ue,St=ye.includes(Ue);if(!(Ue in(et?IDBIndex:IDBObjectStore).prototype)||!St&&!Ce.includes(Ue))return;const dt=function(){var nn=(0,p.Z)(function*(Zn,...xn){const Xn=this.transaction(Zn,St?"readwrite":"readonly");let Or=Xn.store;return et&&(Or=Or.index(xn.shift())),(yield Promise.all([Or[Ue](...xn),St&&Xn.done]))[0]});return function(xn){return nn.apply(this,arguments)}}();return he.set(we,dt),dt}!function st(Ie){rt=Ie(rt)}(Ie=>({...Ie,get:(we,Ue,et)=>at(we,Ue)||Ie.get(we,Ue,et),has:(we,Ue)=>!!at(we,Ue)||Ie.has(we,Ue)}));class Ct{constructor(we){this.container=we}getPlatformInfoString(){return this.container.getProviders().map(Ue=>{if(function $e(Ie){const we=Ie.getComponent();return"VERSION"===we?.type}(Ue)){const et=Ue.getImmediate();return`${et.library}/${et.version}`}return null}).filter(Ue=>Ue).join(" ")}}const Gt="@firebase/app",gn=new b.Yd("@firebase/app"),Xt="[DEFAULT]",hn={[Gt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Qt=new Map,Kn=new Map;function Tr(Ie,we){try{Ie.container.addComponent(we)}catch(Ue){gn.debug(`Component ${we.name} failed to register with FirebaseApp ${Ie.name}`,Ue)}}function Je(Ie,we){Ie.container.addOrOverwriteComponent(we)}function Dt(Ie){const we=Ie.name;if(Kn.has(we))return gn.debug(`There were multiple attempts to register component ${we}.`),!1;Kn.set(we,Ie);for(const Ue of Qt.values())Tr(Ue,Ie);return!0}function Ae(Ie,we){const Ue=Ie.container.getProvider("heartbeat").getImmediate({optional:!0});return Ue&&Ue.triggerHeartbeat(),Ie.container.getProvider(we)}function Ge(Ie,we,Ue=Xt){Ae(Ie,we).clearInstance(Ue)}function Qe(){Kn.clear()}const Rt=new Te.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class un{constructor(we,Ue,et){this._isDeleted=!1,this._options=Object.assign({},we),this._config=Object.assign({},Ue),this._name=Ue.name,this._automaticDataCollectionEnabled=Ue.automaticDataCollectionEnabled,this._container=et,this.container.addComponent(new V.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(we){this.checkDestroyed(),this._automaticDataCollectionEnabled=we}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(we){this._isDeleted=we}checkDestroyed(){if(this.isDeleted)throw Rt.create("app-deleted",{appName:this._name})}}const vn="10.8.0";function qr(Ie,we={}){let Ue=Ie;"object"!=typeof we&&(we={name:we});const et=Object.assign({name:Xt,automaticDataCollectionEnabled:!1},we),St=et.name;if("string"!=typeof St||!St)throw Rt.create("bad-app-name",{appName:String(St)});if(Ue||(Ue=(0,Te.aH)()),!Ue)throw Rt.create("no-options");const dt=Qt.get(St);if(dt){if((0,Te.vZ)(Ue,dt.options)&&(0,Te.vZ)(et,dt.config))return dt;throw Rt.create("duplicate-app",{appName:St})}const nn=new V.H0(St);for(const xn of Kn.values())nn.addComponent(xn);const Zn=new un(Ue,et,nn);return Qt.set(St,Zn),Zn}function Lr(Ie=Xt){const we=Qt.get(Ie);if(!we&&Ie===Xt&&(0,Te.aH)())return qr();if(!we)throw Rt.create("no-app",{appName:Ie});return we}function Bn(){return Array.from(Qt.values())}function sr(Ie){return Br.apply(this,arguments)}function Br(){return(Br=(0,p.Z)(function*(Ie){const we=Ie.name;Qt.has(we)&&(Qt.delete(we),yield Promise.all(Ie.container.getProviders().map(Ue=>Ue.delete())),Ie.isDeleted=!0)})).apply(this,arguments)}function ei(Ie,we,Ue){var et;let St=null!==(et=hn[Ie])&&void 0!==et?et:Ie;Ue&&(St+=`-${Ue}`);const dt=St.match(/\s|\//),nn=we.match(/\s|\//);if(dt||nn){const Zn=[`Unable to register library "${St}" with version "${we}":`];return dt&&Zn.push(`library name "${St}" contains illegal characters (whitespace or "/")`),dt&&nn&&Zn.push("and"),nn&&Zn.push(`version name "${we}" contains illegal characters (whitespace or "/")`),void gn.warn(Zn.join(" "))}Dt(new V.wA(`${St}-version`,()=>({library:St,version:we}),"VERSION"))}function Ti(Ie,we){if(null!==Ie&&"function"!=typeof Ie)throw Rt.create("invalid-log-argument");(0,b.Am)(Ie,we)}function Ar(Ie){(0,b.Ub)(Ie)}const Sr="firebase-heartbeat-database",kr=1,Pe="firebase-heartbeat-store";let re=null;function $(){return re||(re=function me(Ie,we,{blocked:Ue,upgrade:et,blocking:St,terminated:dt}={}){const nn=indexedDB.open(Ie,we),Zn=ae(nn);return et&&nn.addEventListener("upgradeneeded",xn=>{et(ae(nn.result),xn.oldVersion,xn.newVersion,ae(nn.transaction),xn)}),Ue&&nn.addEventListener("blocked",xn=>Ue(xn.oldVersion,xn.newVersion,xn)),Zn.then(xn=>{dt&&xn.addEventListener("close",()=>dt()),St&&xn.addEventListener("versionchange",Xn=>St(Xn.oldVersion,Xn.newVersion,Xn))}).catch(()=>{}),Zn}(Sr,kr,{upgrade:(Ie,we)=>{if(0===we)try{Ie.createObjectStore(Pe)}catch(Ue){console.warn(Ue)}}}).catch(Ie=>{throw Rt.create("idb-open",{originalErrorMessage:Ie.message})})),re}function k(){return(k=(0,p.Z)(function*(Ie){try{const Ue=(yield $()).transaction(Pe),et=yield Ue.objectStore(Pe).get(ct(Ie));return yield Ue.done,et}catch(we){if(we instanceof Te.ZR)gn.warn(we.message);else{const Ue=Rt.create("idb-get",{originalErrorMessage:we?.message});gn.warn(Ue.message)}}})).apply(this,arguments)}function fe(Ie,we){return Le.apply(this,arguments)}function Le(){return(Le=(0,p.Z)(function*(Ie,we){try{const et=(yield $()).transaction(Pe,"readwrite");yield et.objectStore(Pe).put(we,ct(Ie)),yield et.done}catch(Ue){if(Ue instanceof Te.ZR)gn.warn(Ue.message);else{const et=Rt.create("idb-set",{originalErrorMessage:Ue?.message});gn.warn(et.message)}}})).apply(this,arguments)}function ct(Ie){return`${Ie.name}!${Ie.options.appId}`}class kt{constructor(we){this.container=we,this._heartbeatsCache=null;const Ue=this.container.getProvider("app").getImmediate();this._storage=new De(Ue),this._heartbeatsCachePromise=this._storage.read().then(et=>(this._heartbeatsCache=et,et))}triggerHeartbeat(){var we=this;return(0,p.Z)(function*(){var Ue,et;const dt=we.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),nn=Kt();if((null!=(null===(Ue=we._heartbeatsCache)||void 0===Ue?void 0:Ue.heartbeats)||(we._heartbeatsCache=yield we._heartbeatsCachePromise,null!=(null===(et=we._heartbeatsCache)||void 0===et?void 0:et.heartbeats)))&&we._heartbeatsCache.lastSentHeartbeatDate!==nn&&!we._heartbeatsCache.heartbeats.some(Zn=>Zn.date===nn))return we._heartbeatsCache.heartbeats.push({date:nn,agent:dt}),we._heartbeatsCache.heartbeats=we._heartbeatsCache.heartbeats.filter(Zn=>{const xn=new Date(Zn.date).valueOf();return Date.now()-xn<=2592e6}),we._storage.overwrite(we._heartbeatsCache)})()}getHeartbeatsHeader(){var we=this;return(0,p.Z)(function*(){var Ue;if(null===we._heartbeatsCache&&(yield we._heartbeatsCachePromise),null==(null===(Ue=we._heartbeatsCache)||void 0===Ue?void 0:Ue.heartbeats)||0===we._heartbeatsCache.heartbeats.length)return"";const et=Kt(),{heartbeatsToSend:St,unsentEntries:dt}=function bn(Ie,we=1024){const Ue=[];let et=Ie.slice();for(const St of Ie){const dt=Ue.find(nn=>nn.agent===St.agent);if(dt){if(dt.dates.push(St.date),ve(Ue)>we){dt.dates.pop();break}}else if(Ue.push({agent:St.agent,dates:[St.date]}),ve(Ue)>we){Ue.pop();break}et=et.slice(1)}return{heartbeatsToSend:Ue,unsentEntries:et}}(we._heartbeatsCache.heartbeats),nn=(0,Te.L)(JSON.stringify({version:2,heartbeats:St}));return we._heartbeatsCache.lastSentHeartbeatDate=et,dt.length>0?(we._heartbeatsCache.heartbeats=dt,yield we._storage.overwrite(we._heartbeatsCache)):(we._heartbeatsCache.heartbeats=[],we._storage.overwrite(we._heartbeatsCache)),nn})()}}function Kt(){return(new Date).toISOString().substring(0,10)}class De{constructor(we){this.app=we,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,p.Z)(function*(){return!!(0,Te.hl)()&&(0,Te.eu)().then(()=>!0).catch(()=>!1)})()}read(){var we=this;return(0,p.Z)(function*(){if(yield we._canUseIndexedDBPromise){const et=yield function N(Ie){return k.apply(this,arguments)}(we.app);return et?.heartbeats?et:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(we){var Ue=this;return(0,p.Z)(function*(){var et;if(yield Ue._canUseIndexedDBPromise){const dt=yield Ue.read();return fe(Ue.app,{lastSentHeartbeatDate:null!==(et=we.lastSentHeartbeatDate)&&void 0!==et?et:dt.lastSentHeartbeatDate,heartbeats:we.heartbeats})}})()}add(we){var Ue=this;return(0,p.Z)(function*(){var et;if(yield Ue._canUseIndexedDBPromise){const dt=yield Ue.read();return fe(Ue.app,{lastSentHeartbeatDate:null!==(et=we.lastSentHeartbeatDate)&&void 0!==et?et:dt.lastSentHeartbeatDate,heartbeats:[...dt.heartbeats,...we.heartbeats]})}})()}}function ve(Ie){return(0,Te.L)(JSON.stringify({version:2,heartbeats:Ie})).length}!function xe(Ie){Dt(new V.wA("platform-logger",we=>new Ct(we),"PRIVATE")),Dt(new V.wA("heartbeat",we=>new kt(we),"PRIVATE")),ei(Gt,"0.9.27",Ie),ei(Gt,"0.9.27","esm2017"),ei("fire-js","")}("")},4537:(xt,je,U)=>{U.d(je,{H0:()=>ce,wA:()=>b});var p=U(5861),V=U(9058);class b{constructor(X,se,Ee){this.name=X,this.instanceFactory=se,this.type=Ee,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(X){return this.instantiationMode=X,this}setMultipleInstances(X){return this.multipleInstances=X,this}setServiceProps(X){return this.serviceProps=X,this}setInstanceCreatedCallback(X){return this.onInstanceCreated=X,this}}const Te="[DEFAULT]";class z{constructor(X,se){this.name=X,this.container=se,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(X){const se=this.normalizeInstanceIdentifier(X);if(!this.instancesDeferred.has(se)){const Ee=new V.BH;if(this.instancesDeferred.set(se,Ee),this.isInitialized(se)||this.shouldAutoInitialize())try{const ze=this.getOrInitializeService({instanceIdentifier:se});ze&&Ee.resolve(ze)}catch{}}return this.instancesDeferred.get(se).promise}getImmediate(X){var se;const Ee=this.normalizeInstanceIdentifier(X?.identifier),ze=null!==(se=X?.optional)&&void 0!==se&&se;if(!this.isInitialized(Ee)&&!this.shouldAutoInitialize()){if(ze)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ee})}catch(Ye){if(ze)return null;throw Ye}}getComponent(){return this.component}setComponent(X){if(X.name!==this.name)throw Error(`Mismatching Component ${X.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=X,this.shouldAutoInitialize()){if(function W(de){return"EAGER"===de.instantiationMode}(X))try{this.getOrInitializeService({instanceIdentifier:Te})}catch{}for(const[se,Ee]of this.instancesDeferred.entries()){const ze=this.normalizeInstanceIdentifier(se);try{const Ye=this.getOrInitializeService({instanceIdentifier:ze});Ee.resolve(Ye)}catch{}}}}clearInstance(X=Te){this.instancesDeferred.delete(X),this.instancesOptions.delete(X),this.instances.delete(X)}delete(){var X=this;return(0,p.Z)(function*(){const se=Array.from(X.instances.values());yield Promise.all([...se.filter(Ee=>"INTERNAL"in Ee).map(Ee=>Ee.INTERNAL.delete()),...se.filter(Ee=>"_delete"in Ee).map(Ee=>Ee._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(X=Te){return this.instances.has(X)}getOptions(X=Te){return this.instancesOptions.get(X)||{}}initialize(X={}){const{options:se={}}=X,Ee=this.normalizeInstanceIdentifier(X.instanceIdentifier);if(this.isInitialized(Ee))throw Error(`${this.name}(${Ee}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ze=this.getOrInitializeService({instanceIdentifier:Ee,options:se});for(const[Ye,lt]of this.instancesDeferred.entries())Ee===this.normalizeInstanceIdentifier(Ye)&&lt.resolve(ze);return ze}onInit(X,se){var Ee;const ze=this.normalizeInstanceIdentifier(se),Ye=null!==(Ee=this.onInitCallbacks.get(ze))&&void 0!==Ee?Ee:new Set;Ye.add(X),this.onInitCallbacks.set(ze,Ye);const lt=this.instances.get(ze);return lt&&X(lt,ze),()=>{Ye.delete(X)}}invokeOnInitCallbacks(X,se){const Ee=this.onInitCallbacks.get(se);if(Ee)for(const ze of Ee)try{ze(X,se)}catch{}}getOrInitializeService({instanceIdentifier:X,options:se={}}){let Ee=this.instances.get(X);if(!Ee&&this.component&&(Ee=this.component.instanceFactory(this.container,{instanceIdentifier:(de=X,de===Te?void 0:de),options:se}),this.instances.set(X,Ee),this.instancesOptions.set(X,se),this.invokeOnInitCallbacks(Ee,X),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,X,Ee)}catch{}var de;return Ee||null}normalizeInstanceIdentifier(X=Te){return this.component?this.component.multipleInstances?X:Te:X}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ce{constructor(X){this.name=X,this.providers=new Map}addComponent(X){const se=this.getProvider(X.name);if(se.isComponentSet())throw new Error(`Component ${X.name} has already been registered with ${this.name}`);se.setComponent(X)}addOrOverwriteComponent(X){this.getProvider(X.name).isComponentSet()&&this.providers.delete(X.name),this.addComponent(X)}getProvider(X){if(this.providers.has(X))return this.providers.get(X);const se=new z(X,this);return this.providers.set(X,se),se}getProviders(){return Array.from(this.providers.values())}}},7879:(xt,je,U)=>{U.d(je,{Am:()=>de,Ub:()=>ce,Yd:()=>W,in:()=>V});const p=[];var V=function(X){return X[X.DEBUG=0]="DEBUG",X[X.VERBOSE=1]="VERBOSE",X[X.INFO=2]="INFO",X[X.WARN=3]="WARN",X[X.ERROR=4]="ERROR",X[X.SILENT=5]="SILENT",X}(V||{});const b={debug:V.DEBUG,verbose:V.VERBOSE,info:V.INFO,warn:V.WARN,error:V.ERROR,silent:V.SILENT},Te=V.INFO,z={[V.DEBUG]:"log",[V.VERBOSE]:"log",[V.INFO]:"info",[V.WARN]:"warn",[V.ERROR]:"error"},J=(X,se,...Ee)=>{if(se<X.logLevel)return;const ze=(new Date).toISOString(),Ye=z[se];if(!Ye)throw new Error(`Attempted to log a message with an invalid logType (value: ${se})`);console[Ye](`[${ze}]  ${X.name}:`,...Ee)};class W{constructor(se){this.name=se,this._logLevel=Te,this._logHandler=J,this._userLogHandler=null,p.push(this)}get logLevel(){return this._logLevel}set logLevel(se){if(!(se in V))throw new TypeError(`Invalid value "${se}" assigned to \`logLevel\``);this._logLevel=se}setLogLevel(se){this._logLevel="string"==typeof se?b[se]:se}get logHandler(){return this._logHandler}set logHandler(se){if("function"!=typeof se)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=se}get userLogHandler(){return this._userLogHandler}set userLogHandler(se){this._userLogHandler=se}debug(...se){this._userLogHandler&&this._userLogHandler(this,V.DEBUG,...se),this._logHandler(this,V.DEBUG,...se)}log(...se){this._userLogHandler&&this._userLogHandler(this,V.VERBOSE,...se),this._logHandler(this,V.VERBOSE,...se)}info(...se){this._userLogHandler&&this._userLogHandler(this,V.INFO,...se),this._logHandler(this,V.INFO,...se)}warn(...se){this._userLogHandler&&this._userLogHandler(this,V.WARN,...se),this._logHandler(this,V.WARN,...se)}error(...se){this._userLogHandler&&this._userLogHandler(this,V.ERROR,...se),this._logHandler(this,V.ERROR,...se)}}function ce(X){p.forEach(se=>{se.setLogLevel(X)})}function de(X,se){for(const Ee of p){let ze=null;se&&se.level&&(ze=b[se.level]),Ee.userLogHandler=null===X?null:(Ye,lt,...tt)=>{const rt=tt.map(st=>{if(null==st)return null;if("string"==typeof st)return st;if("number"==typeof st||"boolean"==typeof st)return st.toString();if(st instanceof Error)return st.message;try{return JSON.stringify(st)}catch{return null}}).filter(st=>st).join(" ");lt>=(ze??Ye.logLevel)&&X({level:V[lt].toLowerCase(),message:rt,args:tt,type:Ye.name})}}}},7142:(xt,je,U)=>{U.d(je,{Z:()=>p.Z});var p=U(3106);p.Z.registerVersion("firebase","10.8.0","app-compat")},6365:(xt,je,U)=>{U.r(je);var p=U(5861),V=U(3106),b=U(4939),Te=U(9058),W=(U(534),U(7879),U(4537));function ce(){return window}function se(){return se=(0,p.Z)(function*($,N,k){var fe;const{BuildInfo:Le}=ce();(0,b.au)(N.sessionId,"AuthEvent did not contain a session ID");const ct=yield function st($){return wt.apply(this,arguments)}(N.sessionId),Tt={};return(0,b.av)()?Tt.ibi=Le.packageName:(0,b.aw)()?Tt.apn=Le.packageName:(0,b.ax)($,"operation-not-supported-in-this-environment"),Le.displayName&&(Tt.appDisplayName=Le.displayName),Tt.sessionId=ct,(0,b.ay)($,k,N.type,void 0,null!==(fe=N.eventId)&&void 0!==fe?fe:void 0,Tt)}),se.apply(this,arguments)}function ze(){return(ze=(0,p.Z)(function*($){const{BuildInfo:N}=ce(),k={};(0,b.av)()?k.iosBundleId=N.packageName:(0,b.aw)()?k.androidPackageName=N.packageName:(0,b.ax)($,"operation-not-supported-in-this-environment"),yield(0,b.az)($,k)})).apply(this,arguments)}function tt(){return(tt=(0,p.Z)(function*($,N,k){const{cordova:fe}=ce();let Le=()=>{};try{yield new Promise((ct,Tt)=>{let Lt=null;function kt(){var De;ct();const ve=null===(De=fe.plugins.browsertab)||void 0===De?void 0:De.close;"function"==typeof ve&&ve(),"function"==typeof k?.close&&k.close()}function Kt(){Lt||(Lt=window.setTimeout(()=>{Tt((0,b.aB)($,"redirect-cancelled-by-user"))},2e3))}function bn(){"visible"===document?.visibilityState&&Kt()}N.addPassiveListener(kt),document.addEventListener("resume",Kt,!1),(0,b.aw)()&&document.addEventListener("visibilitychange",bn,!1),Le=()=>{N.removePassiveListener(kt),document.removeEventListener("resume",Kt,!1),document.removeEventListener("visibilitychange",bn,!1),Lt&&window.clearTimeout(Lt)}})}finally{Le()}})).apply(this,arguments)}function wt(){return(wt=(0,p.Z)(function*($){const N=function ut($){if((0,b.au)(/[0-9a-zA-Z]+/.test($),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode($);const N=new ArrayBuffer($.length),k=new Uint8Array(N);for(let fe=0;fe<$.length;fe++)k[fe]=$.charCodeAt(fe);return k}($),k=yield crypto.subtle.digest("SHA-256",N);return Array.from(new Uint8Array(k)).map(Le=>Le.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Me extends b.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(N=>{this.resolveInialized=N})}addPassiveListener(N){this.passiveListeners.add(N)}removePassiveListener(N){this.passiveListeners.delete(N)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(N){return this.resolveInialized(),this.passiveListeners.forEach(k=>k(N)),super.onEvent(N)}initialized(){var N=this;return(0,p.Z)(function*(){yield N.initPromise})()}}function Ce($){return ye.apply(this,arguments)}function ye(){return(ye=(0,p.Z)(function*($){const N=yield Ct()._get($e($));return N&&(yield Ct()._remove($e($))),N})).apply(this,arguments)}function at(){const $=[];for(let k=0;k<20;k++){const fe=Math.floor(62*Math.random());$.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(fe))}return $.join("")}function Ct(){return(0,b.aE)(b.b)}function $e($){return(0,b.aF)("authEvent",$.config.apiKey,$.name)}function gn($){if(!$?.includes("?"))return{};const[N,...k]=$.split("?");return(0,Te.zd)(k.join("?"))}const Se=class Nt{constructor(){this._redirectPersistence=b.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=b.aG,this._overrideRedirectResult=b.aH}_initialize(N){var k=this;return(0,p.Z)(function*(){const fe=N._key();let Le=k.eventManagers.get(fe);return Le||(Le=new Me(N),k.eventManagers.set(fe,Le),k.attachCallbackListeners(N,Le)),Le})()}_openPopup(N){(0,b.ax)(N,"operation-not-supported-in-this-environment")}_openRedirect(N,k,fe,Le){var ct=this;return(0,p.Z)(function*(){!function rt($){var N,k,fe,Le,ct,Tt,Lt,kt,Kt,bn;const De=ce();(0,b.aC)("function"==typeof(null===(N=De?.universalLinks)||void 0===N?void 0:N.subscribe),$,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,b.aC)(typeof(null===(k=De?.BuildInfo)||void 0===k?void 0:k.packageName)<"u",$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,b.aC)("function"==typeof(null===(ct=null===(Le=null===(fe=De?.cordova)||void 0===fe?void 0:fe.plugins)||void 0===Le?void 0:Le.browsertab)||void 0===ct?void 0:ct.openUrl),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,b.aC)("function"==typeof(null===(kt=null===(Lt=null===(Tt=De?.cordova)||void 0===Tt?void 0:Tt.plugins)||void 0===Lt?void 0:Lt.browsertab)||void 0===kt?void 0:kt.isAvailable),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,b.aC)("function"==typeof(null===(bn=null===(Kt=De?.cordova)||void 0===Kt?void 0:Kt.InAppBrowser)||void 0===bn?void 0:bn.open),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(N);const Tt=yield ct._initialize(N);yield Tt.initialized(),Tt.resetRedirect(),(0,b.aI)(),yield ct._originValidation(N);const Lt=function me($,N,k=null){return{type:N,eventId:k,urlResponse:null,sessionId:at(),postBody:null,tenantId:$.tenantId,error:(0,b.aB)($,"no-auth-event")}}(N,fe,Le);yield function ge($,N){return Ct()._set($e($),N)}(N,Lt);const kt=yield function X($,N,k){return se.apply(this,arguments)}(N,Lt,k),Kt=yield function Ye($){const{cordova:N}=ce();return new Promise(k=>{N.plugins.browsertab.isAvailable(fe=>{let Le=null;fe?N.plugins.browsertab.openUrl($):Le=N.InAppBrowser.open($,(0,b.aA)()?"_blank":"_system","location=yes"),k(Le)})})}(kt);return function lt($,N,k){return tt.apply(this,arguments)}(N,Tt,Kt)})()}_isIframeWebStorageSupported(N,k){throw new Error("Method not implemented.")}_originValidation(N){const k=N._key();return this.originValidationPromises[k]||(this.originValidationPromises[k]=function Ee($){return ze.apply(this,arguments)}(N)),this.originValidationPromises[k]}attachCallbackListeners(N,k){const{universalLinks:fe,handleOpenURL:Le,BuildInfo:ct}=ce(),Tt=setTimeout((0,p.Z)(function*(){yield Ce(N),k.onEvent(Oe())}),500),Lt=function(){var bn=(0,p.Z)(function*(De){clearTimeout(Tt);const ve=yield Ce(N);let xe=null;ve&&De?.url&&(xe=function he($,N){var k,fe;const Le=function At($){const N=gn($),k=N.link?decodeURIComponent(N.link):void 0,fe=gn(k).link,Le=N.deep_link_id?decodeURIComponent(N.deep_link_id):void 0;return gn(Le).link||Le||fe||k||$}(N);if(Le.includes("/__/auth/callback")){const ct=gn(Le),Tt=ct.firebaseError?function Gt($){try{return JSON.parse($)}catch{return null}}(decodeURIComponent(ct.firebaseError)):null,Lt=null===(fe=null===(k=Tt?.code)||void 0===k?void 0:k.split("auth/"))||void 0===fe?void 0:fe[1],kt=Lt?(0,b.aB)(Lt):null;return kt?{type:$.type,eventId:$.eventId,tenantId:$.tenantId,error:kt,urlResponse:null,sessionId:null,postBody:null}:{type:$.type,eventId:$.eventId,tenantId:$.tenantId,sessionId:$.sessionId,urlResponse:Le,postBody:null}}return null}(ve,De.url)),k.onEvent(xe||Oe())});return function(ve){return bn.apply(this,arguments)}}();typeof fe<"u"&&"function"==typeof fe.subscribe&&fe.subscribe(null,Lt);const kt=Le,Kt=`${ct.packageName.toLowerCase()}://`;ce().handleOpenURL=function(){var bn=(0,p.Z)(function*(De){if(De.toLowerCase().startsWith(Kt)&&Lt({url:De}),"function"==typeof kt)try{kt(De)}catch(ve){console.error(ve)}});return function(De){return bn.apply(this,arguments)}}()}};function Oe(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,b.aB)("no-auth-event")}}function gt(){var $;return(null===($=self?.location)||void 0===$?void 0:$.protocol)||null}function Ln($=(0,Te.z$)()){return!("file:"!==gt()&&"ionic:"!==gt()&&"capacitor:"!==gt()||!$.toLowerCase().match(/iphone|ipad|ipod|android/))}function Un(){try{const $=self.localStorage,N=b.aN();if($)return $.setItem(N,"1"),$.removeItem(N),!function ln($=(0,Te.z$)()){return function Sn(){return(0,Te.w1)()&&11===document?.documentMode}()||function an($=(0,Te.z$)()){return/Edge\/\d+/.test($)}($)}()||(0,Te.hl)()}catch{return Pn()&&(0,Te.hl)()}return!1}function Pn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Tn(){return(function yt(){return"http:"===gt()||"https:"===gt()}()||(0,Te.ru)()||Ln())&&!function en(){return(0,Te.b$)()||(0,Te.UG)()}()&&Un()&&!Pn()}function Vt(){return Ln()&&typeof document<"u"}function Er(){return(Er=(0,p.Z)(function*(){return!!Vt()&&new Promise($=>{const N=setTimeout(()=>{$(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(N),$(!0)})})})).apply(this,arguments)}const kn={LOCAL:"local",NONE:"none",SESSION:"session"},Nr=b.aC,tr="persistence";function hn($){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,p.Z)(function*($){yield $._initializationPromise;const N=Tr(),k=b.aF(tr,$.config.apiKey,$.name);N&&N.setItem(k,$._getPersistence())})).apply(this,arguments)}function Tr(){var $;try{return(null===($=function Mn(){return typeof window<"u"?window:null}())||void 0===$?void 0:$.sessionStorage)||null}catch{return null}}const Je=b.aC;class Dt{constructor(){this.browserResolver=b.aE(b.k),this.cordovaResolver=b.aE(Se),this.underlyingResolver=null,this._redirectPersistence=b.a,this._completeRedirectFn=b.aG,this._overrideRedirectResult=b.aH}_initialize(N){var k=this;return(0,p.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._initialize(N)})()}_openPopup(N,k,fe,Le){var ct=this;return(0,p.Z)(function*(){return yield ct.selectUnderlyingResolver(),ct.assertedUnderlyingResolver._openPopup(N,k,fe,Le)})()}_openRedirect(N,k,fe,Le){var ct=this;return(0,p.Z)(function*(){return yield ct.selectUnderlyingResolver(),ct.assertedUnderlyingResolver._openRedirect(N,k,fe,Le)})()}_isIframeWebStorageSupported(N,k){this.assertedUnderlyingResolver._isIframeWebStorageSupported(N,k)}_originValidation(N){return this.assertedUnderlyingResolver._originValidation(N)}get _shouldInitProactively(){return Vt()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Je(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var N=this;return(0,p.Z)(function*(){if(N.underlyingResolver)return;const k=yield function Rn(){return Er.apply(this,arguments)}();N.underlyingResolver=k?N.cordovaResolver:N.browserResolver})()}}function Ae($){return $.unwrap()}function Qe($){return Rt($)}function Rt($){const{_tokenResponse:N}=$ instanceof Te.ZR?$.customData:$;if(!N)return null;if(!($ instanceof Te.ZR)&&"temporaryProof"in N&&"phoneNumber"in N)return b.P.credentialFromResult($);const k=N.providerId;if(!k||k===b.p.PASSWORD)return null;let fe;switch(k){case b.p.GOOGLE:fe=b.X;break;case b.p.FACEBOOK:fe=b.W;break;case b.p.GITHUB:fe=b.Y;break;case b.p.TWITTER:fe=b.$;break;default:const{oauthIdToken:Le,oauthAccessToken:ct,oauthTokenSecret:Tt,pendingToken:Lt,nonce:kt}=N;return ct||Tt||Le||Lt?Lt?k.startsWith("saml.")?b.aQ._create(k,Lt):b.N._fromParams({providerId:k,signInMethod:k,pendingToken:Lt,idToken:Le,accessToken:ct}):new b.Z(k).credential({idToken:Le,accessToken:ct,rawNonce:kt}):null}return $ instanceof Te.ZR?fe.credentialFromError($):fe.credentialFromResult($)}function un($,N){return N.catch(k=>{throw k instanceof Te.ZR&&function Ot($,N){var k;const fe=null===(k=N.customData)||void 0===k?void 0:k._tokenResponse;if("auth/multi-factor-auth-required"===N?.code)N.resolver=new Lr($,b.as($,N));else if(fe){const Le=Rt(N),ct=N;Le&&(ct.credential=Le,ct.tenantId=fe.tenantId||void 0,ct.email=fe.email||void 0,ct.phoneNumber=fe.phoneNumber||void 0)}}($,k),k}).then(k=>{const Le=k.user;return{operationType:k.operationType,credential:Qe(k),additionalUserInfo:b.aq(k),user:Bn.getOrCreate(Le)}})}function vn($,N){return qr.apply(this,arguments)}function qr(){return(qr=(0,p.Z)(function*($,N){const k=yield N;return{verificationId:k.verificationId,confirm:fe=>un($,k.confirm(fe))}})).apply(this,arguments)}class Lr{constructor(N,k){this.resolver=k,this.auth=function Ge($){return $.wrapped()}(N)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(N){return un(Ae(this.auth),this.resolver.resolveSignIn(N))}}class Bn{constructor(N){this._delegate=N,this.multiFactor=b.at(N)}static getOrCreate(N){return Bn.USER_MAP.has(N)||Bn.USER_MAP.set(N,new Bn(N)),Bn.USER_MAP.get(N)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(N){return this._delegate.getIdTokenResult(N)}getIdToken(N){return this._delegate.getIdToken(N)}linkAndRetrieveDataWithCredential(N){return this.linkWithCredential(N)}linkWithCredential(N){var k=this;return(0,p.Z)(function*(){return un(k.auth,b.a2(k._delegate,N))})()}linkWithPhoneNumber(N,k){var fe=this;return(0,p.Z)(function*(){return vn(fe.auth,b.l(fe._delegate,N,k))})()}linkWithPopup(N){var k=this;return(0,p.Z)(function*(){return un(k.auth,b.d(k._delegate,N,Dt))})()}linkWithRedirect(N){var k=this;return(0,p.Z)(function*(){return yield hn(b.aJ(k.auth)),b.g(k._delegate,N,Dt)})()}reauthenticateAndRetrieveDataWithCredential(N){return this.reauthenticateWithCredential(N)}reauthenticateWithCredential(N){var k=this;return(0,p.Z)(function*(){return un(k.auth,b.a3(k._delegate,N))})()}reauthenticateWithPhoneNumber(N,k){return vn(this.auth,b.r(this._delegate,N,k))}reauthenticateWithPopup(N){return un(this.auth,b.e(this._delegate,N,Dt))}reauthenticateWithRedirect(N){var k=this;return(0,p.Z)(function*(){return yield hn(b.aJ(k.auth)),b.h(k._delegate,N,Dt)})()}sendEmailVerification(N){return b.ag(this._delegate,N)}unlink(N){var k=this;return(0,p.Z)(function*(){return yield b.ap(k._delegate,N),k})()}updateEmail(N){return b.al(this._delegate,N)}updatePassword(N){return b.am(this._delegate,N)}updatePhoneNumber(N){return b.u(this._delegate,N)}updateProfile(N){return b.ak(this._delegate,N)}verifyBeforeUpdateEmail(N,k){return b.ah(this._delegate,N,k)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Bn.USER_MAP=new WeakMap;const sr=b.aC;let Br=(()=>{class ${constructor(k,fe){if(this.app=k,fe.isInitialized())return this._delegate=fe.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Le}=k.options;sr(Le,"invalid-api-key",{appName:k.name}),sr(Le,"invalid-api-key",{appName:k.name});const ct=typeof window<"u"?Dt:void 0;this._delegate=fe.initialize({options:{persistence:Ti(Le,k.name),popupRedirectResolver:ct}}),this._delegate._updateErrorMap(b.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Bn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(k){this._delegate.languageCode=k}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(k){this._delegate.tenantId=k}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(k,fe){b.K(this._delegate,k,fe)}applyActionCode(k){return b.a7(this._delegate,k)}checkActionCode(k){return b.a8(this._delegate,k)}confirmPasswordReset(k,fe){return b.a6(this._delegate,k,fe)}createUserWithEmailAndPassword(k,fe){var Le=this;return(0,p.Z)(function*(){return un(Le._delegate,b.aa(Le._delegate,k,fe))})()}fetchProvidersForEmail(k){return this.fetchSignInMethodsForEmail(k)}fetchSignInMethodsForEmail(k){return b.af(this._delegate,k)}isSignInWithEmailLink(k){return b.ad(this._delegate,k)}getRedirectResult(){var k=this;return(0,p.Z)(function*(){sr(Tn(),k._delegate,"operation-not-supported-in-this-environment");const fe=yield b.j(k._delegate,Dt);return fe?un(k._delegate,Promise.resolve(fe)):{credential:null,user:null}})()}addFrameworkForLogging(k){!function Ze($,N){(0,b.aJ)($)._logFramework(N)}(this._delegate,k)}onAuthStateChanged(k,fe,Le){const{next:ct,error:Tt,complete:Lt}=ei(k,fe,Le);return this._delegate.onAuthStateChanged(ct,Tt,Lt)}onIdTokenChanged(k,fe,Le){const{next:ct,error:Tt,complete:Lt}=ei(k,fe,Le);return this._delegate.onIdTokenChanged(ct,Tt,Lt)}sendSignInLinkToEmail(k,fe){return b.ac(this._delegate,k,fe)}sendPasswordResetEmail(k,fe){return b.a5(this._delegate,k,fe||void 0)}setPersistence(k){var fe=this;return(0,p.Z)(function*(){let Le;switch(function Xt($,N){Nr(Object.values(kn).includes(N),$,"invalid-persistence-type"),(0,Te.b$)()?Nr(N!==kn.SESSION,$,"unsupported-persistence-type"):(0,Te.UG)()?Nr(N===kn.NONE,$,"unsupported-persistence-type"):Pn()?Nr(N===kn.NONE||N===kn.LOCAL&&(0,Te.hl)(),$,"unsupported-persistence-type"):Nr(N===kn.NONE||Un(),$,"unsupported-persistence-type")}(fe._delegate,k),k){case kn.SESSION:Le=b.a;break;case kn.LOCAL:Le=(yield b.aE(b.i)._isAvailable())?b.i:b.b;break;case kn.NONE:Le=b.U;break;default:return b.ax("argument-error",{appName:fe._delegate.name})}return fe._delegate.setPersistence(Le)})()}signInAndRetrieveDataWithCredential(k){return this.signInWithCredential(k)}signInAnonymously(){return un(this._delegate,b.a0(this._delegate))}signInWithCredential(k){return un(this._delegate,b.a1(this._delegate,k))}signInWithCustomToken(k){return un(this._delegate,b.a4(this._delegate,k))}signInWithEmailAndPassword(k,fe){return un(this._delegate,b.ab(this._delegate,k,fe))}signInWithEmailLink(k,fe){return un(this._delegate,b.ae(this._delegate,k,fe))}signInWithPhoneNumber(k,fe){return vn(this._delegate,b.s(this._delegate,k,fe))}signInWithPopup(k){var fe=this;return(0,p.Z)(function*(){return sr(Tn(),fe._delegate,"operation-not-supported-in-this-environment"),un(fe._delegate,b.c(fe._delegate,k,Dt))})()}signInWithRedirect(k){var fe=this;return(0,p.Z)(function*(){return sr(Tn(),fe._delegate,"operation-not-supported-in-this-environment"),yield hn(fe._delegate),b.f(fe._delegate,k,Dt)})()}updateCurrentUser(k){return this._delegate.updateCurrentUser(k)}verifyPasswordResetCode(k){return b.a9(this._delegate,k)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return $.Persistence=kn,$})();function ei($,N,k){let fe=$;"function"!=typeof $&&({next:fe,error:N,complete:k}=$);const Le=fe;return{next:Tt=>Le(Tt&&Bn.getOrCreate(Tt)),error:N,complete:k}}function Ti($,N){const k=function Kn($,N){const k=Tr();if(!k)return[];const fe=b.aF(tr,$,N);switch(k.getItem(fe)){case kn.NONE:return[b.U];case kn.LOCAL:return[b.i,b.a];case kn.SESSION:return[b.a];default:return[]}}($,N);if(typeof self<"u"&&!k.includes(b.i)&&k.push(b.i),typeof window<"u")for(const fe of[b.b,b.a])k.includes(fe)||k.push(fe);return k.includes(b.U)||k.push(b.U),k}class Ar{constructor(){this.providerId="phone",this._delegate=new b.P(Ae(V.Z.auth()))}static credential(N,k){return b.P.credential(N,k)}verifyPhoneNumber(N,k){return this._delegate.verifyPhoneNumber(N,k)}unwrap(){return this._delegate}}Ar.PHONE_SIGN_IN_METHOD=b.P.PHONE_SIGN_IN_METHOD,Ar.PROVIDER_ID=b.P.PROVIDER_ID;const Sr=b.aC;class kr{constructor(N,k,fe=V.Z.app()){var Le;Sr(null===(Le=fe.options)||void 0===Le?void 0:Le.apiKey,"invalid-api-key",{appName:fe.name}),this._delegate=new b.R(fe.auth(),N,k),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function re($){$.INTERNAL.registerComponent(new W.wA("auth-compat",N=>{const k=N.getProvider("app-compat").getImmediate(),fe=N.getProvider("auth");return new Br(k,fe)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:b.A.EMAIL_SIGNIN,PASSWORD_RESET:b.A.PASSWORD_RESET,RECOVER_EMAIL:b.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:b.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:b.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:b.A.VERIFY_EMAIL}},EmailAuthProvider:b.V,FacebookAuthProvider:b.W,GithubAuthProvider:b.Y,GoogleAuthProvider:b.X,OAuthProvider:b.Z,SAMLAuthProvider:b._,PhoneAuthProvider:Ar,PhoneMultiFactorGenerator:b.m,RecaptchaVerifier:kr,TwitterAuthProvider:b.$,Auth:Br,AuthCredential:b.L,Error:Te.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),$.registerVersion("@firebase/auth-compat","0.5.2")}(V.Z)},5219:(xt,je,U)=>{U.d(je,{F0:()=>Ee,b4:()=>Ye,jx:()=>rt,m8:()=>st});var p=U(5879),V=U(8645),b=U(6814);let ce=(()=>class ae{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static IN="in";static LESS_THAN="lt";static LESS_THAN_OR_EQUAL_TO="lte";static GREATER_THAN="gt";static GREATER_THAN_OR_EQUAL_TO="gte";static BETWEEN="between";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static DATE_IS="dateIs";static DATE_IS_NOT="dateIsNot";static DATE_BEFORE="dateBefore";static DATE_AFTER="dateAfter"})(),Ee=(()=>{class ae{clickSource=new V.x;clickObservable=this.clickSource.asObservable();add(me){me&&this.clickSource.next(me)}static \u0275fac=function(ge){return new(ge||ae)};static \u0275prov=p.Yz7({token:ae,factory:ae.\u0275fac,providedIn:"root"})}return ae})(),Ye=(()=>{class ae{ripple=!1;inputStyle="outlined";overlayOptions={};filterMatchModeOptions={text:[ce.STARTS_WITH,ce.CONTAINS,ce.NOT_CONTAINS,ce.ENDS_WITH,ce.EQUALS,ce.NOT_EQUALS],numeric:[ce.EQUALS,ce.NOT_EQUALS,ce.LESS_THAN,ce.LESS_THAN_OR_EQUAL_TO,ce.GREATER_THAN,ce.GREATER_THAN_OR_EQUAL_TO],date:[ce.DATE_IS,ce.DATE_IS_NOT,ce.DATE_BEFORE,ce.DATE_AFTER]};translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyFilterMessage:"No results found",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"{page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",previousPageLabel:"Previous Page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left"}};zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100};translationSource=new V.x;translationObserver=this.translationSource.asObservable();getTranslation(me){return this.translation[me]}setTranslation(me){this.translation={...this.translation,...me},this.translationSource.next(this.translation)}static \u0275fac=function(ge){return new(ge||ae)};static \u0275prov=p.Yz7({token:ae,factory:ae.\u0275fac,providedIn:"root"})}return ae})(),rt=(()=>{class ae{template;type;name;constructor(me){this.template=me}getType(){return this.name}static \u0275fac=function(ge){return new(ge||ae)(p.Y36(p.Rgc))};static \u0275dir=p.lG2({type:ae,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}})}return ae})(),st=(()=>{class ae{static \u0275fac=function(ge){return new(ge||ae)};static \u0275mod=p.oAB({type:ae});static \u0275inj=p.cJS({imports:[b.ez]})}return ae})()},4713:(xt,je,U)=>{U.d(je,{s:()=>Te});var p=U(5879),V=U(2332);const b=["*"];let Te=(()=>{class z{label;spin=!1;styleClass;role;ariaLabel;ariaHidden;ngOnInit(){this.getAttributes()}getAttributes(){const W=V.gb.isEmpty(this.label);this.role=W?void 0:"img",this.ariaLabel=W?void 0:this.label,this.ariaHidden=W}getClassNames(){return`p-icon ${this.styleClass?this.styleClass+" ":""}${this.spin?"p-icon-spin":""}`}static \u0275fac=function(ce){return new(ce||z)};static \u0275cmp=p.Xpm({type:z,selectors:[["ng-component"]],hostAttrs:[1,"p-element","p-icon-wrapper"],inputs:{label:"label",spin:"spin",styleClass:"styleClass"},standalone:!0,features:[p.jDz],ngContentSelectors:b,decls:1,vars:0,template:function(ce,de){1&ce&&(p.F$t(),p.Hsn(0))},encapsulation:2,changeDetection:0})}return z})()},336:(xt,je,U)=>{U.d(je,{hJ:()=>he});var p=U(6814),V=U(5879),b=U(5219),Te=U(4713),z=U(2332);let J=(()=>{class at extends Te.s{pathId;ngOnInit(){this.pathId="url(#"+(0,z.Th)()+")"}static \u0275fac=function(){let $e;return function(At){return($e||($e=V.n5z(at)))(At||at)}}();static \u0275cmp=V.Xpm({type:at,selectors:[["SpinnerIcon"]],standalone:!0,features:[V.qOj,V.jDz],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(Gt,At){1&Gt&&(V.O4$(),V.TgZ(0,"svg",0)(1,"g"),V._UZ(2,"path",1),V.qZA(),V.TgZ(3,"defs")(4,"clipPath",2),V._UZ(5,"rect",3),V.qZA()()()),2&Gt&&(V.Tol(At.getClassNames()),V.uIk("aria-label",At.ariaLabel)("aria-hidden",At.ariaHidden)("role",At.role),V.xp6(1),V.uIk("clip-path",At.pathId),V.xp6(3),V.Q6J("id",At.pathId))},encapsulation:2})}return at})();var W=U(4480);let he=(()=>{class at{static \u0275fac=function(Gt){return new(Gt||at)};static \u0275mod=V.oAB({type:at});static \u0275inj=V.cJS({imports:[p.ez,W.T,b.m8,J,b.m8]})}return at})()},4532:(xt,je,U)=>{U.d(je,{d:()=>tt});var p=U(6814),V=U(5879),b=U(5219);let tt=(()=>{class rt{static \u0275fac=function(ut){return new(ut||rt)};static \u0275mod=V.oAB({type:rt});static \u0275inj=V.cJS({imports:[p.ez,b.m8]})}return rt})()},5124:(xt,je,U)=>{U.d(je,{nD:()=>Me});var p=U(6814),V=U(5879),b=U(95),Te=U(5219),z=U(4713);let J=(()=>{class me extends z.s{static \u0275fac=function(){let Ce;return function(he){return(Ce||(Ce=V.n5z(me)))(he||me)}}();static \u0275cmp=V.Xpm({type:me,selectors:[["CheckIcon"]],standalone:!0,features:[V.qOj,V.jDz],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M4.86199 11.5948C4.78717 11.5923 4.71366 11.5745 4.64596 11.5426C4.57826 11.5107 4.51779 11.4652 4.46827 11.4091L0.753985 7.69483C0.683167 7.64891 0.623706 7.58751 0.580092 7.51525C0.536478 7.44299 0.509851 7.36177 0.502221 7.27771C0.49459 7.19366 0.506156 7.10897 0.536046 7.03004C0.565935 6.95111 0.613367 6.88 0.674759 6.82208C0.736151 6.76416 0.8099 6.72095 0.890436 6.69571C0.970973 6.67046 1.05619 6.66385 1.13966 6.67635C1.22313 6.68886 1.30266 6.72017 1.37226 6.76792C1.44186 6.81567 1.4997 6.8786 1.54141 6.95197L4.86199 10.2503L12.6397 2.49483C12.7444 2.42694 12.8689 2.39617 12.9932 2.40745C13.1174 2.41873 13.2343 2.47141 13.3251 2.55705C13.4159 2.64268 13.4753 2.75632 13.4938 2.87973C13.5123 3.00315 13.4888 3.1292 13.4271 3.23768L5.2557 11.4091C5.20618 11.4652 5.14571 11.5107 5.07801 11.5426C5.01031 11.5745 4.9368 11.5923 4.86199 11.5948Z","fill","currentColor"]],template:function(ye,he){1&ye&&(V.O4$(),V.TgZ(0,"svg",0),V._UZ(1,"path",1),V.qZA()),2&ye&&(V.Tol(he.getClassNames()),V.uIk("aria-label",he.ariaLabel)("aria-hidden",he.ariaHidden)("role",he.role))},encapsulation:2})}return me})();var W=U(2332);const ce=["input"];function de(me,ge){if(1&me&&V._UZ(0,"span",10),2&me){const Ce=V.oxw(3);V.Q6J("ngClass",Ce.checkboxIcon),V.uIk("data-pc-section","icon")}}function X(me,ge){1&me&&V._UZ(0,"CheckIcon",11),2&me&&(V.Q6J("styleClass","p-checkbox-icon"),V.uIk("data-pc-section","icon"))}function se(me,ge){if(1&me&&(V.ynx(0),V.YNc(1,de,1,2,"span",8),V.YNc(2,X,1,2,"CheckIcon",9),V.BQk()),2&me){const Ce=V.oxw(2);V.xp6(1),V.Q6J("ngIf",Ce.checkboxIcon),V.xp6(1),V.Q6J("ngIf",!Ce.checkboxIcon)}}function Ee(me,ge){}function ze(me,ge){1&me&&V.YNc(0,Ee,0,0,"ng-template")}function Ye(me,ge){if(1&me&&(V.TgZ(0,"span",12),V.YNc(1,ze,1,0,null,13),V.qZA()),2&me){const Ce=V.oxw(2);V.uIk("data-pc-section","icon"),V.xp6(1),V.Q6J("ngTemplateOutlet",Ce.checkboxIconTemplate)}}function lt(me,ge){if(1&me&&(V.ynx(0),V.YNc(1,se,3,2,"ng-container",5),V.YNc(2,Ye,2,2,"span",7),V.BQk()),2&me){const Ce=V.oxw();V.xp6(1),V.Q6J("ngIf",!Ce.checkboxIconTemplate),V.xp6(1),V.Q6J("ngIf",Ce.checkboxIconTemplate)}}const tt=function(me,ge,Ce){return{"p-checkbox-label":!0,"p-checkbox-label-active":me,"p-disabled":ge,"p-checkbox-label-focus":Ce}};function rt(me,ge){if(1&me){const Ce=V.EpF();V.TgZ(0,"label",14),V.NdJ("click",function(he){V.CHM(Ce);const at=V.oxw();return V.KtG(at.onClick(he))}),V._uU(1),V.qZA()}if(2&me){const Ce=V.oxw();V.Tol(Ce.labelStyleClass),V.Q6J("ngClass",V.kEZ(6,tt,Ce.checked(),Ce.disabled,Ce.focused)),V.uIk("for",Ce.inputId)("data-pc-section","label"),V.xp6(1),V.hij(" ",Ce.label,"")}}const st=function(me,ge,Ce){return{"p-checkbox p-component":!0,"p-checkbox-checked":me,"p-checkbox-disabled":ge,"p-checkbox-focused":Ce}},wt=function(me,ge,Ce){return{"p-highlight":me,"p-disabled":ge,"p-focus":Ce}},ut={provide:b.JU,useExisting:(0,V.Gpc)(()=>ae),multi:!0};let ae=(()=>{class me{cd;value;name;disabled;binary;label;ariaLabelledBy;ariaLabel;tabindex;inputId;style;styleClass;labelStyleClass;formControl;checkboxIcon;readonly;required;trueValue=!0;falseValue=!1;onChange=new V.vpe;inputViewChild;templates;checkboxIconTemplate;model;onModelChange=()=>{};onModelTouched=()=>{};focused=!1;constructor(Ce){this.cd=Ce}ngAfterContentInit(){this.templates.forEach(Ce=>{"icon"===Ce.getType()&&(this.checkboxIconTemplate=Ce.template)})}onClick(Ce){if(!this.disabled&&!this.readonly){let ye;this.inputViewChild.nativeElement.focus(),this.binary?(ye=this.checked()?this.falseValue:this.trueValue,this.model=ye,this.onModelChange(ye)):(ye=this.checked()?this.model.filter(he=>!W.gb.equals(he,this.value)):this.model?[...this.model,this.value]:[this.value],this.onModelChange(ye),this.model=ye,this.formControl&&this.formControl.setValue(ye)),this.onChange.emit({checked:ye,originalEvent:Ce})}}onFocus(){this.focused=!0}onBlur(){this.focused=!1,this.onModelTouched()}writeValue(Ce){this.model=Ce,this.cd.markForCheck()}registerOnChange(Ce){this.onModelChange=Ce}registerOnTouched(Ce){this.onModelTouched=Ce}setDisabledState(Ce){this.disabled=Ce,this.cd.markForCheck()}checked(){return this.binary?this.model===this.trueValue:W.gb.contains(this.value,this.model)}static \u0275fac=function(ye){return new(ye||me)(V.Y36(V.sBO))};static \u0275cmp=V.Xpm({type:me,selectors:[["p-checkbox"]],contentQueries:function(ye,he,at){if(1&ye&&V.Suo(at,Te.jx,4),2&ye){let Ct;V.iGM(Ct=V.CRH())&&(he.templates=Ct)}},viewQuery:function(ye,he){if(1&ye&&V.Gf(ce,5),2&ye){let at;V.iGM(at=V.CRH())&&(he.inputViewChild=at.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",name:"name",disabled:"disabled",binary:"binary",label:"label",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",tabindex:"tabindex",inputId:"inputId",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass",formControl:"formControl",checkboxIcon:"checkboxIcon",readonly:"readonly",required:"required",trueValue:"trueValue",falseValue:"falseValue"},outputs:{onChange:"onChange"},features:[V._Bn([ut])],decls:7,vars:35,consts:[[3,"ngStyle","ngClass","click"],[1,"p-hidden-accessible"],["type","checkbox",3,"value","checked","disabled","readonly","focus","blur"],["input",""],[1,"p-checkbox-box",3,"ngClass"],[4,"ngIf"],[3,"class","ngClass","click",4,"ngIf"],["class","p-checkbox-icon",4,"ngIf"],["class","p-checkbox-icon",3,"ngClass",4,"ngIf"],[3,"styleClass",4,"ngIf"],[1,"p-checkbox-icon",3,"ngClass"],[3,"styleClass"],[1,"p-checkbox-icon"],[4,"ngTemplateOutlet"],[3,"ngClass","click"]],template:function(ye,he){1&ye&&(V.TgZ(0,"div",0),V.NdJ("click",function(Ct){return he.onClick(Ct)}),V.TgZ(1,"div",1)(2,"input",2,3),V.NdJ("focus",function(){return he.onFocus()})("blur",function(){return he.onBlur()}),V.qZA()(),V.TgZ(4,"div",4),V.YNc(5,lt,3,2,"ng-container",5),V.qZA()(),V.YNc(6,rt,2,10,"label",6)),2&ye&&(V.Tol(he.styleClass),V.Q6J("ngStyle",he.style)("ngClass",V.kEZ(27,st,he.checked(),he.disabled,he.focused)),V.uIk("data-pc-name","checkbox")("data-pc-section","root"),V.xp6(1),V.uIk("data-pc-section","hiddenInputWrapper")("data-p-hidden-accessible",!0),V.xp6(1),V.Q6J("value",he.value)("checked",he.checked())("disabled",he.disabled)("readonly",he.readonly),V.uIk("id",he.inputId)("name",he.name)("tabindex",he.tabindex)("required",he.required)("aria-labelledby",he.ariaLabelledBy)("aria-label",he.ariaLabel)("aria-checked",he.checked())("data-pc-section","hiddenInput"),V.xp6(2),V.Q6J("ngClass",V.kEZ(31,wt,he.checked(),he.disabled,he.focused)),V.uIk("data-p-highlight",he.checked())("data-p-disabled",he.disabled)("data-p-focused",he.focused)("data-pc-section","input"),V.xp6(1),V.Q6J("ngIf",he.checked()),V.xp6(1),V.Q6J("ngIf",he.label))},dependencies:function(){return[p.mk,p.O5,p.tP,p.PC,J]},styles:["@layer primeng{.p-checkbox{display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;vertical-align:bottom;position:relative}.p-checkbox-disabled{cursor:default!important;pointer-events:none}.p-checkbox-box{display:flex;justify-content:center;align-items:center}p-checkbox{display:inline-flex;vertical-align:bottom;align-items:center}.p-checkbox-label{line-height:1}}\n"],encapsulation:2,changeDetection:0})}return me})(),Me=(()=>{class me{static \u0275fac=function(ye){return new(ye||me)};static \u0275mod=V.oAB({type:me});static \u0275inj=V.cJS({imports:[p.ez,J,Te.m8]})}return me})()},2076:(xt,je,U)=>{U.d(je,{V:()=>V,p:()=>p});let p=(()=>{class b{static zindex=1e3;static calculatedScrollbarWidth=null;static calculatedScrollbarHeight=null;static browser;static addClass(z,J){z&&J&&(z.classList?z.classList.add(J):z.className+=" "+J)}static addMultipleClasses(z,J){if(z&&J)if(z.classList){let W=J.trim().split(" ");for(let ce=0;ce<W.length;ce++)z.classList.add(W[ce])}else{let W=J.split(" ");for(let ce=0;ce<W.length;ce++)z.className+=" "+W[ce]}}static removeClass(z,J){z&&J&&(z.classList?z.classList.remove(J):z.className=z.className.replace(new RegExp("(^|\\b)"+J.split(" ").join("|")+"(\\b|$)","gi")," "))}static removeMultipleClasses(z,J){z&&J&&[J].flat().filter(Boolean).forEach(W=>W.split(" ").forEach(ce=>this.removeClass(z,ce)))}static hasClass(z,J){return!(!z||!J)&&(z.classList?z.classList.contains(J):new RegExp("(^| )"+J+"( |$)","gi").test(z.className))}static siblings(z){return Array.prototype.filter.call(z.parentNode.children,function(J){return J!==z})}static find(z,J){return Array.from(z.querySelectorAll(J))}static findSingle(z,J){return this.isElement(z)?z.querySelector(J):null}static index(z){let J=z.parentNode.childNodes,W=0;for(var ce=0;ce<J.length;ce++){if(J[ce]==z)return W;1==J[ce].nodeType&&W++}return-1}static indexWithinGroup(z,J){let W=z.parentNode?z.parentNode.childNodes:[],ce=0;for(var de=0;de<W.length;de++){if(W[de]==z)return ce;W[de].attributes&&W[de].attributes[J]&&1==W[de].nodeType&&ce++}return-1}static appendOverlay(z,J,W="self"){"self"!==W&&z&&J&&this.appendChild(z,J)}static alignOverlay(z,J,W="self",ce=!0){z&&J&&(ce&&(z.style.minWidth=`${b.getOuterWidth(J)}px`),"self"===W?this.relativePosition(z,J):this.absolutePosition(z,J))}static relativePosition(z,J){const W=ut=>{if(ut)return"relative"===getComputedStyle(ut).getPropertyValue("position")?ut:W(ut.parentElement)},ce=z.offsetParent?{width:z.offsetWidth,height:z.offsetHeight}:this.getHiddenElementDimensions(z),de=J.offsetHeight,X=J.getBoundingClientRect(),se=this.getWindowScrollTop(),Ee=this.getWindowScrollLeft(),ze=this.getViewport(),lt=W(z)?.getBoundingClientRect()||{top:-1*se,left:-1*Ee};let tt,rt;X.top+de+ce.height>ze.height?(tt=X.top-lt.top-ce.height,z.style.transformOrigin="bottom",X.top+tt<0&&(tt=-1*X.top)):(tt=de+X.top-lt.top,z.style.transformOrigin="top");const st=X.left+ce.width-ze.width;rt=ce.width>ze.width?-1*(X.left-lt.left):st>0?X.left-lt.left-st:X.left-lt.left,z.style.top=tt+"px",z.style.left=rt+"px"}static absolutePosition(z,J){const W=z.offsetParent?{width:z.offsetWidth,height:z.offsetHeight}:this.getHiddenElementDimensions(z),ce=W.height,de=W.width,X=J.offsetHeight,se=J.offsetWidth,Ee=J.getBoundingClientRect(),ze=this.getWindowScrollTop(),Ye=this.getWindowScrollLeft(),lt=this.getViewport();let tt,rt;Ee.top+X+ce>lt.height?(tt=Ee.top+ze-ce,z.style.transformOrigin="bottom",tt<0&&(tt=ze)):(tt=X+Ee.top+ze,z.style.transformOrigin="top"),rt=Ee.left+de>lt.width?Math.max(0,Ee.left+Ye+se-de):Ee.left+Ye,z.style.top=tt+"px",z.style.left=rt+"px"}static getParents(z,J=[]){return null===z.parentNode?J:this.getParents(z.parentNode,J.concat([z.parentNode]))}static getScrollableParents(z){let J=[];if(z){let W=this.getParents(z);const ce=/(auto|scroll)/,de=X=>{let se=window.getComputedStyle(X,null);return ce.test(se.getPropertyValue("overflow"))||ce.test(se.getPropertyValue("overflowX"))||ce.test(se.getPropertyValue("overflowY"))};for(let X of W){let se=1===X.nodeType&&X.dataset.scrollselectors;if(se){let Ee=se.split(",");for(let ze of Ee){let Ye=this.findSingle(X,ze);Ye&&de(Ye)&&J.push(Ye)}}9!==X.nodeType&&de(X)&&J.push(X)}}return J}static getHiddenElementOuterHeight(z){z.style.visibility="hidden",z.style.display="block";let J=z.offsetHeight;return z.style.display="none",z.style.visibility="visible",J}static getHiddenElementOuterWidth(z){z.style.visibility="hidden",z.style.display="block";let J=z.offsetWidth;return z.style.display="none",z.style.visibility="visible",J}static getHiddenElementDimensions(z){let J={};return z.style.visibility="hidden",z.style.display="block",J.width=z.offsetWidth,J.height=z.offsetHeight,z.style.display="none",z.style.visibility="visible",J}static scrollInView(z,J){let W=getComputedStyle(z).getPropertyValue("borderTopWidth"),ce=W?parseFloat(W):0,de=getComputedStyle(z).getPropertyValue("paddingTop"),X=de?parseFloat(de):0,se=z.getBoundingClientRect(),ze=J.getBoundingClientRect().top+document.body.scrollTop-(se.top+document.body.scrollTop)-ce-X,Ye=z.scrollTop,lt=z.clientHeight,tt=this.getOuterHeight(J);ze<0?z.scrollTop=Ye+ze:ze+tt>lt&&(z.scrollTop=Ye+ze-lt+tt)}static fadeIn(z,J){z.style.opacity=0;let W=+new Date,ce=0,de=function(){ce=+z.style.opacity.replace(",",".")+((new Date).getTime()-W)/J,z.style.opacity=ce,W=+new Date,+ce<1&&(window.requestAnimationFrame&&requestAnimationFrame(de)||setTimeout(de,16))};de()}static fadeOut(z,J){var W=1,X=50/J;let se=setInterval(()=>{(W-=X)<=0&&(W=0,clearInterval(se)),z.style.opacity=W},50)}static getWindowScrollTop(){let z=document.documentElement;return(window.pageYOffset||z.scrollTop)-(z.clientTop||0)}static getWindowScrollLeft(){let z=document.documentElement;return(window.pageXOffset||z.scrollLeft)-(z.clientLeft||0)}static matches(z,J){var W=Element.prototype;return(W.matches||W.webkitMatchesSelector||W.mozMatchesSelector||W.msMatchesSelector||function(de){return-1!==[].indexOf.call(document.querySelectorAll(de),this)}).call(z,J)}static getOuterWidth(z,J){let W=z.offsetWidth;if(J){let ce=getComputedStyle(z);W+=parseFloat(ce.marginLeft)+parseFloat(ce.marginRight)}return W}static getHorizontalPadding(z){let J=getComputedStyle(z);return parseFloat(J.paddingLeft)+parseFloat(J.paddingRight)}static getHorizontalMargin(z){let J=getComputedStyle(z);return parseFloat(J.marginLeft)+parseFloat(J.marginRight)}static innerWidth(z){let J=z.offsetWidth,W=getComputedStyle(z);return J+=parseFloat(W.paddingLeft)+parseFloat(W.paddingRight),J}static width(z){let J=z.offsetWidth,W=getComputedStyle(z);return J-=parseFloat(W.paddingLeft)+parseFloat(W.paddingRight),J}static getInnerHeight(z){let J=z.offsetHeight,W=getComputedStyle(z);return J+=parseFloat(W.paddingTop)+parseFloat(W.paddingBottom),J}static getOuterHeight(z,J){let W=z.offsetHeight;if(J){let ce=getComputedStyle(z);W+=parseFloat(ce.marginTop)+parseFloat(ce.marginBottom)}return W}static getHeight(z){let J=z.offsetHeight,W=getComputedStyle(z);return J-=parseFloat(W.paddingTop)+parseFloat(W.paddingBottom)+parseFloat(W.borderTopWidth)+parseFloat(W.borderBottomWidth),J}static getWidth(z){let J=z.offsetWidth,W=getComputedStyle(z);return J-=parseFloat(W.paddingLeft)+parseFloat(W.paddingRight)+parseFloat(W.borderLeftWidth)+parseFloat(W.borderRightWidth),J}static getViewport(){let z=window,J=document,W=J.documentElement,ce=J.getElementsByTagName("body")[0];return{width:z.innerWidth||W.clientWidth||ce.clientWidth,height:z.innerHeight||W.clientHeight||ce.clientHeight}}static getOffset(z){var J=z.getBoundingClientRect();return{top:J.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:J.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(z,J){let W=z.parentNode;if(!W)throw"Can't replace element";return W.replaceChild(J,z)}static getUserAgent(){if(navigator&&this.isClient())return navigator.userAgent}static isIE(){var z=window.navigator.userAgent;return z.indexOf("MSIE ")>0||(z.indexOf("Trident/")>0?(z.indexOf("rv:"),!0):z.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(z,J){if(this.isElement(J))J.appendChild(z);else{if(!(J&&J.el&&J.el.nativeElement))throw"Cannot append "+J+" to "+z;J.el.nativeElement.appendChild(z)}}static removeChild(z,J){if(this.isElement(J))J.removeChild(z);else{if(!J.el||!J.el.nativeElement)throw"Cannot remove "+z+" from "+J;J.el.nativeElement.removeChild(z)}}static removeElement(z){"remove"in Element.prototype?z.remove():z.parentNode.removeChild(z)}static isElement(z){return"object"==typeof HTMLElement?z instanceof HTMLElement:z&&"object"==typeof z&&null!==z&&1===z.nodeType&&"string"==typeof z.nodeName}static calculateScrollbarWidth(z){if(z){let J=getComputedStyle(z);return z.offsetWidth-z.clientWidth-parseFloat(J.borderLeftWidth)-parseFloat(J.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let J=document.createElement("div");J.className="p-scrollbar-measure",document.body.appendChild(J);let W=J.offsetWidth-J.clientWidth;return document.body.removeChild(J),this.calculatedScrollbarWidth=W,W}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let z=document.createElement("div");z.className="p-scrollbar-measure",document.body.appendChild(z);let J=z.offsetHeight-z.clientHeight;return document.body.removeChild(z),this.calculatedScrollbarWidth=J,J}static invokeElementMethod(z,J,W){z[J].apply(z,W)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let z=this.resolveUserAgent();this.browser={},z.browser&&(this.browser[z.browser]=!0,this.browser.version=z.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let z=navigator.userAgent.toLowerCase(),J=/(chrome)[ \/]([\w.]+)/.exec(z)||/(webkit)[ \/]([\w.]+)/.exec(z)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(z)||/(msie) ([\w.]+)/.exec(z)||z.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(z)||[];return{browser:J[1]||"",version:J[2]||"0"}}static isInteger(z){return Number.isInteger?Number.isInteger(z):"number"==typeof z&&isFinite(z)&&Math.floor(z)===z}static isHidden(z){return!z||null===z.offsetParent}static isVisible(z){return z&&null!=z.offsetParent}static isExist(z){return null!==z&&typeof z<"u"&&z.nodeName&&z.parentNode}static focus(z,J){z&&document.activeElement!==z&&z.focus(J)}static getFocusableElements(z,J=""){let W=this.find(z,`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${J},\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${J},\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${J},\n                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${J},\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${J},\n                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${J},\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${J}`),ce=[];for(let de of W)"none"!=getComputedStyle(de).display&&"hidden"!=getComputedStyle(de).visibility&&ce.push(de);return ce}static getFirstFocusableElement(z,J){const W=this.getFocusableElements(z,J);return W.length>0?W[0]:null}static getLastFocusableElement(z,J){const W=this.getFocusableElements(z,J);return W.length>0?W[W.length-1]:null}static getNextFocusableElement(z,J=!1){const W=b.getFocusableElements(z);let ce=0;if(W&&W.length>0){const de=W.indexOf(W[0].ownerDocument.activeElement);J?ce=-1==de||0===de?W.length-1:de-1:-1!=de&&de!==W.length-1&&(ce=de+1)}return W[ce]}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}static getSelection(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null}static getTargetElement(z,J){if(!z)return null;switch(z){case"document":return document;case"window":return window;case"@next":return J?.nextElementSibling;case"@prev":return J?.previousElementSibling;case"@parent":return J?.parentElement;case"@grandparent":return J?.parentElement.parentElement;default:const W=typeof z;if("string"===W)return document.querySelector(z);if("object"===W&&z.hasOwnProperty("nativeElement"))return this.isExist(z.nativeElement)?z.nativeElement:void 0;const de=(X=z)&&X.constructor&&X.call&&X.apply?z():z;return de&&9===de.nodeType||this.isExist(de)?de:null}var X}static isClient(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}static getAttribute(z,J){if(z){const W=z.getAttribute(J);return isNaN(W)?"true"===W||"false"===W?"true"===W:W:+W}}static calculateBodyScrollbarWidth(){return window.innerWidth-document.documentElement.offsetWidth}static blockBodyScroll(z="p-overflow-hidden"){document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,z)}static unblockBodyScroll(z="p-overflow-hidden"){document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,z)}}return b})();class V{element;listener;scrollableParents;constructor(Te,z=(()=>{})){this.element=Te,this.listener=z}bindScrollListener(){this.scrollableParents=p.getScrollableParents(this.element);for(let Te=0;Te<this.scrollableParents.length;Te++)this.scrollableParents[Te].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let Te=0;Te<this.scrollableParents.length;Te++)this.scrollableParents[Te].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}},3714:(xt,je,U)=>{U.d(je,{j:()=>z,o:()=>Te});var p=U(5879),V=U(6814),b=U(95);let Te=(()=>{class J{el;ngModel;cd;filled;constructor(ce,de,X){this.el=ce,this.ngModel=de,this.cd=X}ngAfterViewInit(){this.updateFilledState(),this.cd.detectChanges()}ngDoCheck(){this.updateFilledState()}onInput(){this.updateFilledState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model}static \u0275fac=function(de){return new(de||J)(p.Y36(p.SBq),p.Y36(b.On,8),p.Y36(p.sBO))};static \u0275dir=p.lG2({type:J,selectors:[["","pInputText",""]],hostAttrs:[1,"p-inputtext","p-component","p-element"],hostVars:2,hostBindings:function(de,X){1&de&&p.NdJ("input",function(Ee){return X.onInput(Ee)}),2&de&&p.ekj("p-filled",X.filled)}})}return J})(),z=(()=>{class J{static \u0275fac=function(de){return new(de||J)};static \u0275mod=p.oAB({type:J});static \u0275inj=p.cJS({imports:[V.ez]})}return J})()},8516:(xt,je,U)=>{U.d(je,{W6:()=>Tr});var p=U(6814),V=U(5879),b=U(3781),Te=U(5219),z=U(4713);let J=(()=>{class Je extends z.s{static \u0275fac=function(){let Ae;return function(Qe){return(Ae||(Ae=V.n5z(Je)))(Qe||Je)}}();static \u0275cmp=V.Xpm({type:Je,selectors:[["AngleDownIcon"]],standalone:!0,features:[V.qOj,V.jDz],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M3.58659 4.5007C3.68513 4.50023 3.78277 4.51945 3.87379 4.55723C3.9648 4.59501 4.04735 4.65058 4.11659 4.7207L7.11659 7.7207L10.1166 4.7207C10.2619 4.65055 10.4259 4.62911 10.5843 4.65956C10.7427 4.69002 10.8871 4.77074 10.996 4.88976C11.1049 5.00877 11.1726 5.15973 11.1889 5.32022C11.2052 5.48072 11.1693 5.6422 11.0866 5.7807L7.58659 9.2807C7.44597 9.42115 7.25534 9.50004 7.05659 9.50004C6.85784 9.50004 6.66722 9.42115 6.52659 9.2807L3.02659 5.7807C2.88614 5.64007 2.80725 5.44945 2.80725 5.2507C2.80725 5.05195 2.88614 4.86132 3.02659 4.7207C3.09932 4.64685 3.18675 4.58911 3.28322 4.55121C3.37969 4.51331 3.48305 4.4961 3.58659 4.5007Z","fill","currentColor"]],template:function(Ge,Qe){1&Ge&&(V.O4$(),V.TgZ(0,"svg",0),V._UZ(1,"path",1),V.qZA()),2&Ge&&(V.Tol(Qe.getClassNames()),V.uIk("aria-label",Qe.ariaLabel)("aria-hidden",Qe.ariaHidden)("role",Qe.role))},encapsulation:2})}return Je})(),W=(()=>{class Je extends z.s{static \u0275fac=function(){let Ae;return function(Qe){return(Ae||(Ae=V.n5z(Je)))(Qe||Je)}}();static \u0275cmp=V.Xpm({type:Je,selectors:[["AngleRightIcon"]],standalone:!0,features:[V.qOj,V.jDz],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M5.25 11.1728C5.14929 11.1694 5.05033 11.1455 4.9592 11.1025C4.86806 11.0595 4.78666 10.9984 4.72 10.9228C4.57955 10.7822 4.50066 10.5916 4.50066 10.3928C4.50066 10.1941 4.57955 10.0035 4.72 9.86283L7.72 6.86283L4.72 3.86283C4.66067 3.71882 4.64765 3.55991 4.68275 3.40816C4.71785 3.25642 4.79932 3.11936 4.91585 3.01602C5.03238 2.91268 5.17819 2.84819 5.33305 2.83149C5.4879 2.81479 5.64411 2.84671 5.78 2.92283L9.28 6.42283C9.42045 6.56346 9.49934 6.75408 9.49934 6.95283C9.49934 7.15158 9.42045 7.34221 9.28 7.48283L5.78 10.9228C5.71333 10.9984 5.63193 11.0595 5.5408 11.1025C5.44966 11.1455 5.35071 11.1694 5.25 11.1728Z","fill","currentColor"]],template:function(Ge,Qe){1&Ge&&(V.O4$(),V.TgZ(0,"svg",0),V._UZ(1,"path",1),V.qZA()),2&Ge&&(V.Tol(Qe.getClassNames()),V.uIk("aria-label",Qe.ariaLabel)("aria-hidden",Qe.ariaHidden)("role",Qe.role))},encapsulation:2})}return Je})(),ce=(()=>{class Je extends z.s{static \u0275fac=function(){let Ae;return function(Qe){return(Ae||(Ae=V.n5z(Je)))(Qe||Je)}}();static \u0275cmp=V.Xpm({type:Je,selectors:[["BarsIcon"]],standalone:!0,features:[V.qOj,V.jDz],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M13.3226 3.6129H0.677419C0.497757 3.6129 0.325452 3.54152 0.198411 3.41448C0.0713707 3.28744 0 3.11514 0 2.93548C0 2.75581 0.0713707 2.58351 0.198411 2.45647C0.325452 2.32943 0.497757 2.25806 0.677419 2.25806H13.3226C13.5022 2.25806 13.6745 2.32943 13.8016 2.45647C13.9286 2.58351 14 2.75581 14 2.93548C14 3.11514 13.9286 3.28744 13.8016 3.41448C13.6745 3.54152 13.5022 3.6129 13.3226 3.6129ZM13.3226 7.67741H0.677419C0.497757 7.67741 0.325452 7.60604 0.198411 7.479C0.0713707 7.35196 0 7.17965 0 6.99999C0 6.82033 0.0713707 6.64802 0.198411 6.52098C0.325452 6.39394 0.497757 6.32257 0.677419 6.32257H13.3226C13.5022 6.32257 13.6745 6.39394 13.8016 6.52098C13.9286 6.64802 14 6.82033 14 6.99999C14 7.17965 13.9286 7.35196 13.8016 7.479C13.6745 7.60604 13.5022 7.67741 13.3226 7.67741ZM0.677419 11.7419H13.3226C13.5022 11.7419 13.6745 11.6706 13.8016 11.5435C13.9286 11.4165 14 11.2442 14 11.0645C14 10.8848 13.9286 10.7125 13.8016 10.5855C13.6745 10.4585 13.5022 10.3871 13.3226 10.3871H0.677419C0.497757 10.3871 0.325452 10.4585 0.198411 10.5855C0.0713707 10.7125 0 10.8848 0 11.0645C0 11.2442 0.0713707 11.4165 0.198411 11.5435C0.325452 11.6706 0.497757 11.7419 0.677419 11.7419Z","fill","currentColor"]],template:function(Ge,Qe){1&Ge&&(V.O4$(),V.TgZ(0,"svg",0),V._UZ(1,"path",1),V.qZA()),2&Ge&&(V.Tol(Qe.getClassNames()),V.uIk("aria-label",Qe.ariaLabel)("aria-hidden",Qe.ariaHidden)("role",Qe.role))},encapsulation:2})}return Je})();var de=U(4480);let se=(()=>{class Je{static \u0275fac=function(Ge){return new(Ge||Je)};static \u0275mod=V.oAB({type:Je});static \u0275inj=V.cJS({imports:[p.ez]})}return Je})(),Tr=(()=>{class Je{static \u0275fac=function(Ge){return new(Ge||Je)};static \u0275mod=V.oAB({type:Je});static \u0275inj=V.cJS({imports:[p.ez,b.Bz,de.T,se,Te.m8,ce,J,W,b.Bz,se,Te.m8]})}return Je})()},734:(xt,je,U)=>{U.d(je,{T:()=>ut,y:()=>ae});var p=U(6825),V=U(6814),b=U(5879),Te=U(5219),z=U(2076),J=U(4713);let W=(()=>{class Me extends J.s{static \u0275fac=function(){let ge;return function(ye){return(ge||(ge=b.n5z(Me)))(ye||Me)}}();static \u0275cmp=b.Xpm({type:Me,selectors:[["TimesIcon"]],standalone:!0,features:[b.qOj,b.jDz],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z","fill","currentColor"]],template:function(Ce,ye){1&Ce&&(b.O4$(),b.TgZ(0,"svg",0),b._UZ(1,"path",1),b.qZA()),2&Ce&&(b.Tol(ye.getClassNames()),b.uIk("aria-label",ye.ariaLabel)("aria-hidden",ye.ariaHidden)("role",ye.role))},encapsulation:2})}return Me})();var ce=U(4480),de=U(2332);function X(Me,me){1&Me&&b.GkF(0)}function se(Me,me){1&Me&&b._UZ(0,"TimesIcon",8),2&Me&&b.Q6J("styleClass","p-overlaypanel-close-icon")}function Ee(Me,me){}function ze(Me,me){1&Me&&b.YNc(0,Ee,0,0,"ng-template")}function Ye(Me,me){if(1&Me&&(b.TgZ(0,"span",9),b.YNc(1,ze,1,0,null,3),b.qZA()),2&Me){const ge=b.oxw(3);b.xp6(1),b.Q6J("ngTemplateOutlet",ge.closeIconTemplate)}}function lt(Me,me){if(1&Me){const ge=b.EpF();b.TgZ(0,"button",5),b.NdJ("click",function(ye){b.CHM(ge);const he=b.oxw(2);return b.KtG(he.onCloseClick(ye))})("keydown.enter",function(){b.CHM(ge);const ye=b.oxw(2);return b.KtG(ye.hide())}),b.YNc(1,se,1,1,"TimesIcon",6),b.YNc(2,Ye,2,1,"span",7),b.qZA()}if(2&Me){const ge=b.oxw(2);b.uIk("aria-label",ge.ariaCloseLabel),b.xp6(1),b.Q6J("ngIf",!ge.closeIconTemplate),b.xp6(1),b.Q6J("ngIf",ge.closeIconTemplate)}}const tt=function(Me,me){return{showTransitionParams:Me,hideTransitionParams:me}},rt=function(Me,me){return{value:Me,params:me}};function st(Me,me){if(1&Me){const ge=b.EpF();b.TgZ(0,"div",1),b.NdJ("click",function(ye){b.CHM(ge);const he=b.oxw();return b.KtG(he.onOverlayClick(ye))})("@animation.start",function(ye){b.CHM(ge);const he=b.oxw();return b.KtG(he.onAnimationStart(ye))})("@animation.done",function(ye){b.CHM(ge);const he=b.oxw();return b.KtG(he.onAnimationEnd(ye))}),b.TgZ(1,"div",2),b.NdJ("click",function(){b.CHM(ge);const ye=b.oxw();return b.KtG(ye.onContentClick())})("mousedown",function(){b.CHM(ge);const ye=b.oxw();return b.KtG(ye.onContentClick())}),b.Hsn(2),b.YNc(3,X,1,0,"ng-container",3),b.qZA(),b.YNc(4,lt,3,3,"button",4),b.qZA()}if(2&Me){const ge=b.oxw();b.Tol(ge.styleClass),b.Q6J("ngClass","p-overlaypanel p-component")("ngStyle",ge.style)("@animation",b.WLB(11,rt,ge.overlayVisible?"open":"close",b.WLB(8,tt,ge.showTransitionOptions,ge.hideTransitionOptions))),b.uIk("aria-modal",ge.overlayVisible),b.xp6(3),b.Q6J("ngTemplateOutlet",ge.contentTemplate),b.xp6(1),b.Q6J("ngIf",ge.showCloseIcon)}}const wt=["*"];let ut=(()=>{class Me{document;platformId;el;renderer;cd;zone;config;overlayService;dismissable=!0;showCloseIcon;style;styleClass;appendTo="body";autoZIndex=!0;ariaCloseLabel;baseZIndex=0;focusOnShow=!0;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";onShow=new b.vpe;onHide=new b.vpe;templates;container;overlayVisible=!1;render=!1;isOverlayAnimationInProgress=!1;selfClick=!1;documentClickListener;target;willHide;scrollHandler;documentResizeListener;contentTemplate;closeIconTemplate;destroyCallback;overlayEventListener;overlaySubscription;constructor(ge,Ce,ye,he,at,Ct,$e,Gt){this.document=ge,this.platformId=Ce,this.el=ye,this.renderer=he,this.cd=at,this.zone=Ct,this.config=$e,this.overlayService=Gt}ngAfterContentInit(){this.templates?.forEach(ge=>{switch(ge.getType()){case"content":default:this.contentTemplate=ge.template;break;case"closeicon":this.closeIconTemplate=ge.template}this.cd.markForCheck()})}bindDocumentClickListener(){if((0,V.NF)(this.platformId)&&!this.documentClickListener&&this.dismissable){let ge=z.p.isIOS()?"touchstart":"click";this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:this.document,ge,ye=>{!this.container?.contains(ye.target)&&this.target!==ye.target&&!this.target.contains(ye.target)&&this.hide(),this.cd.markForCheck()})}}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null,this.selfClick=!1)}toggle(ge,Ce){this.isOverlayAnimationInProgress||(this.overlayVisible?(this.hasTargetChanged(ge,Ce)&&(this.destroyCallback=()=>{this.show(null,Ce||ge.currentTarget||ge.target)}),this.hide()):this.show(ge,Ce))}show(ge,Ce){Ce&&ge&&ge.stopPropagation(),!this.isOverlayAnimationInProgress&&(this.target=Ce||ge.currentTarget||ge.target,this.overlayVisible=!0,this.render=!0,this.cd.markForCheck())}onOverlayClick(ge){this.overlayService.add({originalEvent:ge,target:this.el.nativeElement}),this.selfClick=!0}onContentClick(){this.selfClick=!0}hasTargetChanged(ge,Ce){return null!=this.target&&this.target!==(Ce||ge.currentTarget||ge.target)}appendContainer(){this.appendTo&&("body"===this.appendTo?this.renderer.appendChild(this.document.body,this.container):z.p.appendChild(this.container,this.appendTo))}restoreAppend(){this.container&&this.appendTo&&this.renderer.appendChild(this.el.nativeElement,this.container)}align(){this.autoZIndex&&de.P9.set("overlay",this.container,this.baseZIndex+this.config.zIndex.overlay),z.p.absolutePosition(this.container,this.target);const ge=z.p.getOffset(this.container),Ce=z.p.getOffset(this.target),ye=this.document.defaultView?.getComputedStyle(this.container).getPropertyValue("border-radius");let he=0;ge.left<Ce.left&&(he=Ce.left-ge.left-2*parseFloat(ye)),this.container?.style.setProperty("--overlayArrowLeft",`${he}px`),ge.top<Ce.top&&(z.p.addClass(this.container,"p-overlaypanel-flipped"),this.showCloseIcon&&this.renderer.setStyle(this.container,"margin-top","-30px"))}onAnimationStart(ge){"open"===ge.toState&&(this.container=ge.element,this.appendContainer(),this.align(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.focusOnShow&&this.focus(),this.overlayEventListener=Ce=>{this.container&&this.container.contains(Ce.target)&&(this.selfClick=!0)},this.overlaySubscription=this.overlayService.clickObservable.subscribe(this.overlayEventListener),this.onShow.emit(null)),this.isOverlayAnimationInProgress=!0}onAnimationEnd(ge){switch(ge.toState){case"void":this.destroyCallback&&(this.destroyCallback(),this.destroyCallback=null),this.overlaySubscription&&this.overlaySubscription.unsubscribe();break;case"close":this.autoZIndex&&de.P9.clear(this.container),this.overlaySubscription&&this.overlaySubscription.unsubscribe(),this.onContainerDestroy(),this.onHide.emit({}),this.render=!1}this.isOverlayAnimationInProgress=!1}focus(){let ge=z.p.findSingle(this.container,"[autofocus]");ge&&this.zone.runOutsideAngular(()=>{setTimeout(()=>ge.focus(),5)})}hide(){this.overlayVisible=!1,this.cd.markForCheck()}onCloseClick(ge){this.hide(),ge.preventDefault()}onEscapeKeydown(ge){this.hide()}onWindowResize(){this.overlayVisible&&!z.p.isTouchDevice()&&this.hide()}bindDocumentResizeListener(){(0,V.NF)(this.platformId)&&!this.documentResizeListener&&(this.documentResizeListener=this.renderer.listen(this.document.defaultView,"resize",this.onWindowResize.bind(this)))}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindScrollListener(){(0,V.NF)(this.platformId)&&(this.scrollHandler||(this.scrollHandler=new z.V(this.target,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener())}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}onContainerDestroy(){this.cd.destroyed||(this.target=null),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener()}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.container&&this.autoZIndex&&de.P9.clear(this.container),this.cd.destroyed||(this.target=null),this.destroyCallback=null,this.container&&(this.restoreAppend(),this.onContainerDestroy()),this.overlaySubscription&&this.overlaySubscription.unsubscribe()}static \u0275fac=function(Ce){return new(Ce||Me)(b.Y36(V.K0),b.Y36(b.Lbi),b.Y36(b.SBq),b.Y36(b.Qsj),b.Y36(b.sBO),b.Y36(b.R0b),b.Y36(Te.b4),b.Y36(Te.F0))};static \u0275cmp=b.Xpm({type:Me,selectors:[["p-overlayPanel"]],contentQueries:function(Ce,ye,he){if(1&Ce&&b.Suo(he,Te.jx,4),2&Ce){let at;b.iGM(at=b.CRH())&&(ye.templates=at)}},hostAttrs:[1,"p-element"],hostBindings:function(Ce,ye){1&Ce&&b.NdJ("keydown.escape",function(at){return ye.onEscapeKeydown(at)},!1,b.evT)},inputs:{dismissable:"dismissable",showCloseIcon:"showCloseIcon",style:"style",styleClass:"styleClass",appendTo:"appendTo",autoZIndex:"autoZIndex",ariaCloseLabel:"ariaCloseLabel",baseZIndex:"baseZIndex",focusOnShow:"focusOnShow",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onShow:"onShow",onHide:"onHide"},ngContentSelectors:wt,decls:1,vars:1,consts:[["role","dialog",3,"ngClass","ngStyle","class","click",4,"ngIf"],["role","dialog",3,"ngClass","ngStyle","click"],[1,"p-overlaypanel-content",3,"click","mousedown"],[4,"ngTemplateOutlet"],["type","button","class","p-overlaypanel-close p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],["type","button","pRipple","",1,"p-overlaypanel-close","p-link",3,"click","keydown.enter"],[3,"styleClass",4,"ngIf"],["class","p-overlaypanel-close-icon",4,"ngIf"],[3,"styleClass"],[1,"p-overlaypanel-close-icon"]],template:function(Ce,ye){1&Ce&&(b.F$t(),b.YNc(0,st,5,14,"div",0)),2&Ce&&b.Q6J("ngIf",ye.render)},dependencies:function(){return[V.mk,V.O5,V.tP,V.PC,ce.H,W]},styles:['@layer primeng{.p-overlaypanel{position:absolute;margin-top:10px;top:0;left:0}.p-overlaypanel-flipped{margin-top:0;margin-bottom:10px}.p-overlaypanel-close{display:flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-overlaypanel:after,.p-overlaypanel:before{bottom:100%;left:calc(var(--overlayArrowLeft, 0) + 1.25rem);content:" ";height:0;width:0;position:absolute;pointer-events:none}.p-overlaypanel:after{border-width:8px;margin-left:-8px}.p-overlaypanel:before{border-width:10px;margin-left:-10px}.p-overlaypanel-shifted:after,.p-overlaypanel-shifted:before{left:auto;right:1.25em;margin-left:auto}.p-overlaypanel-flipped:after,.p-overlaypanel-flipped:before{bottom:auto;top:100%}.p-overlaypanel.p-overlaypanel-flipped:after{border-bottom-color:transparent}.p-overlaypanel.p-overlaypanel-flipped:before{border-bottom-color:transparent}}\n'],encapsulation:2,data:{animation:[(0,p.X$)("animation",[(0,p.SB)("void",(0,p.oB)({transform:"scaleY(0.8)",opacity:0})),(0,p.SB)("close",(0,p.oB)({opacity:0})),(0,p.SB)("open",(0,p.oB)({transform:"translateY(0)",opacity:1})),(0,p.eR)("void => open",(0,p.jt)("{{showTransitionParams}}")),(0,p.eR)("open => close",(0,p.jt)("{{hideTransitionParams}}"))])]},changeDetection:0})}return Me})(),ae=(()=>{class Me{static \u0275fac=function(Ce){return new(Ce||Me)};static \u0275mod=b.oAB({type:Me});static \u0275inj=b.cJS({imports:[V.ez,ce.T,Te.m8,W,Te.m8]})}return Me})()},4480:(xt,je,U)=>{U.d(je,{H:()=>z,T:()=>J});var p=U(6814),V=U(5879),b=U(2076),Te=U(5219);let z=(()=>{class W{document;platformId;renderer;el;zone;config;constructor(de,X,se,Ee,ze,Ye){this.document=de,this.platformId=X,this.renderer=se,this.el=Ee,this.zone=ze,this.config=Ye}animationListener;mouseDownListener;timeout;ngAfterViewInit(){(0,p.NF)(this.platformId)&&this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.renderer.listen(this.el.nativeElement,"mousedown",this.onMouseDown.bind(this))})}onMouseDown(de){let X=this.getInk();if(!X||"none"===this.document.defaultView?.getComputedStyle(X,null).display)return;if(b.p.removeClass(X,"p-ink-active"),!b.p.getHeight(X)&&!b.p.getWidth(X)){let Ye=Math.max(b.p.getOuterWidth(this.el.nativeElement),b.p.getOuterHeight(this.el.nativeElement));X.style.height=Ye+"px",X.style.width=Ye+"px"}let se=b.p.getOffset(this.el.nativeElement),Ee=de.pageX-se.left+this.document.body.scrollTop-b.p.getWidth(X)/2,ze=de.pageY-se.top+this.document.body.scrollLeft-b.p.getHeight(X)/2;this.renderer.setStyle(X,"top",ze+"px"),this.renderer.setStyle(X,"left",Ee+"px"),b.p.addClass(X,"p-ink-active"),this.timeout=setTimeout(()=>{let Ye=this.getInk();Ye&&b.p.removeClass(Ye,"p-ink-active")},401)}getInk(){const de=this.el.nativeElement.children;for(let X=0;X<de.length;X++)if("string"==typeof de[X].className&&-1!==de[X].className.indexOf("p-ink"))return de[X];return null}resetInk(){let de=this.getInk();de&&b.p.removeClass(de,"p-ink-active")}onAnimationEnd(de){this.timeout&&clearTimeout(this.timeout),b.p.removeClass(de.currentTarget,"p-ink-active")}create(){let de=this.renderer.createElement("span");this.renderer.addClass(de,"p-ink"),this.renderer.appendChild(this.el.nativeElement,de),this.renderer.setAttribute(de,"aria-hidden","true"),this.renderer.setAttribute(de,"role","presentation"),this.animationListener||(this.animationListener=this.renderer.listen(de,"animationend",this.onAnimationEnd.bind(this)))}remove(){let de=this.getInk();de&&(this.mouseDownListener&&this.mouseDownListener(),this.animationListener&&this.animationListener(),this.mouseDownListener=null,this.animationListener=null,b.p.removeElement(de))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}static \u0275fac=function(X){return new(X||W)(V.Y36(p.K0),V.Y36(V.Lbi),V.Y36(V.Qsj),V.Y36(V.SBq),V.Y36(V.R0b),V.Y36(Te.b4,8))};static \u0275dir=V.lG2({type:W,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"]})}return W})(),J=(()=>{class W{static \u0275fac=function(X){return new(X||W)};static \u0275mod=V.oAB({type:W});static \u0275inj=V.cJS({imports:[p.ez]})}return W})()},2332:(xt,je,U)=>{U.d(je,{P9:()=>z,Th:()=>b,gb:()=>p});class p{static equals(W,ce,de){return de?this.resolveFieldData(W,de)===this.resolveFieldData(ce,de):this.equalsByValue(W,ce)}static equalsByValue(W,ce){if(W===ce)return!0;if(W&&ce&&"object"==typeof W&&"object"==typeof ce){var se,Ee,ze,de=Array.isArray(W),X=Array.isArray(ce);if(de&&X){if((Ee=W.length)!=ce.length)return!1;for(se=Ee;0!=se--;)if(!this.equalsByValue(W[se],ce[se]))return!1;return!0}if(de!=X)return!1;var Ye=this.isDate(W),lt=this.isDate(ce);if(Ye!=lt)return!1;if(Ye&&lt)return W.getTime()==ce.getTime();var tt=W instanceof RegExp,rt=ce instanceof RegExp;if(tt!=rt)return!1;if(tt&&rt)return W.toString()==ce.toString();var st=Object.keys(W);if((Ee=st.length)!==Object.keys(ce).length)return!1;for(se=Ee;0!=se--;)if(!Object.prototype.hasOwnProperty.call(ce,st[se]))return!1;for(se=Ee;0!=se--;)if(!this.equalsByValue(W[ze=st[se]],ce[ze]))return!1;return!0}return W!=W&&ce!=ce}static resolveFieldData(W,ce){if(W&&ce){if(this.isFunction(ce))return ce(W);if(-1==ce.indexOf("."))return W[ce];{let de=ce.split("."),X=W;for(let se=0,Ee=de.length;se<Ee;++se){if(null==X)return null;X=X[de[se]]}return X}}return null}static isFunction(W){return!!(W&&W.constructor&&W.call&&W.apply)}static reorderArray(W,ce,de){W&&ce!==de&&(de>=W.length&&(de%=W.length,ce%=W.length),W.splice(de,0,W.splice(ce,1)[0]))}static insertIntoOrderedArray(W,ce,de,X){if(de.length>0){let se=!1;for(let Ee=0;Ee<de.length;Ee++)if(this.findIndexInList(de[Ee],X)>ce){de.splice(Ee,0,W),se=!0;break}se||de.push(W)}else de.push(W)}static findIndexInList(W,ce){let de=-1;if(ce)for(let X=0;X<ce.length;X++)if(ce[X]==W){de=X;break}return de}static contains(W,ce){if(null!=W&&ce&&ce.length)for(let de of ce)if(this.equals(W,de))return!0;return!1}static removeAccents(W){return W&&W.search(/[\xC0-\xFF]/g)>-1&&(W=W.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),W}static isDate(W){return"[object Date]"===Object.prototype.toString.call(W)}static isEmpty(W){return null==W||""===W||Array.isArray(W)&&0===W.length||!this.isDate(W)&&"object"==typeof W&&0===Object.keys(W).length}static isNotEmpty(W){return!this.isEmpty(W)}static compare(W,ce,de,X=1){let se=-1;const Ee=this.isEmpty(W),ze=this.isEmpty(ce);return se=Ee&&ze?0:Ee?X:ze?-X:"string"==typeof W&&"string"==typeof ce?W.localeCompare(ce,de,{numeric:!0}):W<ce?-1:W>ce?1:0,se}static sort(W,ce,de=1,X,se=1){return(1===se?de:se)*p.compare(W,ce,X,de)}static merge(W,ce){if(null!=W||null!=ce)return null!=W&&"object"!=typeof W||null!=ce&&"object"!=typeof ce?null!=W&&"string"!=typeof W||null!=ce&&"string"!=typeof ce?ce||W:[W||"",ce||""].join(" "):{...W||{},...ce||{}}}static isPrintableCharacter(W=""){return this.isNotEmpty(W)&&1===W.length&&W.match(/\S| /)}static getItemValue(W,...ce){return this.isFunction(W)?W(...ce):W}static findLastIndex(W,ce){let de=-1;if(this.isNotEmpty(W))try{de=W.findLastIndex(ce)}catch{de=W.lastIndexOf([...W].reverse().find(ce))}return de}static findLast(W,ce){let de;if(this.isNotEmpty(W))try{de=W.findLast(ce)}catch{de=[...W].reverse().find(ce)}return de}}var V=0;function b(J="pn_id_"){return`${J}${++V}`}var z=function Te(){let J=[];const X=se=>se&&parseInt(se.style.zIndex,10)||0;return{get:X,set:(se,Ee,ze)=>{Ee&&(Ee.style.zIndex=String(((se,Ee)=>{let ze=J.length>0?J[J.length-1]:{key:se,value:Ee},Ye=ze.value+(ze.key===se?0:Ee)+2;return J.push({key:se,value:Ye}),Ye})(se,ze)))},clear:se=>{se&&((se=>{J=J.filter(Ee=>Ee.value!==se)})(X(se)),se.style.zIndex="")},getCurrent:()=>J.length>0?J[J.length-1].value:0}}()},5861:(xt,je,U)=>{function p(b,Te,z,J,W,ce,de){try{var X=b[ce](de),se=X.value}catch(Ee){return void z(Ee)}X.done?Te(se):Promise.resolve(se).then(J,W)}function V(b){return function(){var Te=this,z=arguments;return new Promise(function(J,W){var ce=b.apply(Te,z);function de(se){p(ce,J,W,de,X,"next",se)}function X(se){p(ce,J,W,de,X,"throw",se)}de(void 0)})}}U.d(je,{Z:()=>V})},7582:(xt,je,U)=>{function Te(Se,Oe){var Ze={};for(var ke in Se)Object.prototype.hasOwnProperty.call(Se,ke)&&Oe.indexOf(ke)<0&&(Ze[ke]=Se[ke]);if(null!=Se&&"function"==typeof Object.getOwnPropertySymbols){var He=0;for(ke=Object.getOwnPropertySymbols(Se);He<ke.length;He++)Oe.indexOf(ke[He])<0&&Object.prototype.propertyIsEnumerable.call(Se,ke[He])&&(Ze[ke[He]]=Se[ke[He]])}return Ze}function Ee(Se,Oe,Ze,ke){return new(Ze||(Ze=Promise))(function(ht,gt){function yt(Sn){try{en(ke.next(Sn))}catch(an){gt(an)}}function Ln(Sn){try{en(ke.throw(Sn))}catch(an){gt(an)}}function en(Sn){Sn.done?ht(Sn.value):function He(ht){return ht instanceof Ze?ht:new Ze(function(gt){gt(ht)})}(Sn.value).then(yt,Ln)}en((ke=ke.apply(Se,Oe||[])).next())})}function ae(Se){return this instanceof ae?(this.v=Se,this):new ae(Se)}function Me(Se,Oe,Ze){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var He,ke=Ze.apply(Se,Oe||[]),ht=[];return He={},gt("next"),gt("throw"),gt("return"),He[Symbol.asyncIterator]=function(){return this},He;function gt(ln){ke[ln]&&(He[ln]=function(Un){return new Promise(function(Pn,Tn){ht.push([ln,Un,Pn,Tn])>1||yt(ln,Un)})})}function yt(ln,Un){try{!function Ln(ln){ln.value instanceof ae?Promise.resolve(ln.value.v).then(en,Sn):an(ht[0][2],ln)}(ke[ln](Un))}catch(Pn){an(ht[0][3],Pn)}}function en(ln){yt("next",ln)}function Sn(ln){yt("throw",ln)}function an(ln,Un){ln(Un),ht.shift(),ht.length&&yt(ht[0][0],ht[0][1])}}function ge(Se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ze,Oe=Se[Symbol.asyncIterator];return Oe?Oe.call(Se):(Se=function tt(Se){var Oe="function"==typeof Symbol&&Symbol.iterator,Ze=Oe&&Se[Oe],ke=0;if(Ze)return Ze.call(Se);if(Se&&"number"==typeof Se.length)return{next:function(){return Se&&ke>=Se.length&&(Se=void 0),{value:Se&&Se[ke++],done:!Se}}};throw new TypeError(Oe?"Object is not iterable.":"Symbol.iterator is not defined.")}(Se),Ze={},ke("next"),ke("throw"),ke("return"),Ze[Symbol.asyncIterator]=function(){return this},Ze);function ke(ht){Ze[ht]=Se[ht]&&function(gt){return new Promise(function(yt,Ln){!function He(ht,gt,yt,Ln){Promise.resolve(Ln).then(function(en){ht({value:en,done:yt})},gt)}(yt,Ln,(gt=Se[ht](gt)).done,gt.value)})}}}U.d(je,{FC:()=>Me,KL:()=>ge,_T:()=>Te,mG:()=>Ee,qq:()=>ae}),"function"==typeof SuppressedError&&SuppressedError}},xt=>{xt(xt.s=3773)}]);