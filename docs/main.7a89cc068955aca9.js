"use strict";(self.webpackChunktasks=self.webpackChunktasks||[]).push([[179],{562:(ns,$n,He)=>{He.d($n,{$:()=>Ms,A:()=>de,G:()=>xt,K:()=>bE,L:()=>va,N:()=>us,P:()=>zr,R:()=>HE,U:()=>Se,V:()=>Oh,W:()=>Ti,X:()=>hs,Y:()=>Ot,Z:()=>no,_:()=>Rl,a:()=>Lm,a0:()=>Tm,a1:()=>au,a2:()=>Sm,a3:()=>Dm,a4:()=>xE,a5:()=>Ar,a6:()=>hi,a7:()=>Am,a8:()=>Rm,a9:()=>Dn,aA:()=>ut,aB:()=>Ut,aC:()=>ae,aD:()=>gf,aE:()=>G,aF:()=>Ge,aG:()=>ff,aH:()=>t_,aI:()=>WE,aJ:()=>_n,aN:()=>co,aQ:()=>ro,aa:()=>it,ab:()=>Hi,ac:()=>xl,ad:()=>ba,ae:()=>Ln,af:()=>Ml,ag:()=>Ca,ah:()=>Nl,ak:()=>Pm,al:()=>Ns,am:()=>Ol,ap:()=>RE,aq:()=>cr,as:()=>jA,at:()=>GA,au:()=>tn,av:()=>Pe,aw:()=>V,ax:()=>yt,ay:()=>Ma,az:()=>mf,b:()=>lo,c:()=>Ym,d:()=>Xm,e:()=>Jm,f:()=>KE,g:()=>i_,h:()=>Xe,i:()=>qm,j:()=>hf,k:()=>qo,l:()=>rf,m:()=>JA,p:()=>Yt,r:()=>ys,s:()=>Zm,u:()=>af});var C=He(861),W=He(58),N=He(534),xe=He(879),Pt=He(582),pn=He(537);const Yt={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},de={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const xt=function Re(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},zn=function rt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},vt=new W.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Je=new xe.Yd("@firebase/auth");function Tn(f,...u){Je.logLevel<=xe.in.ERROR&&Je.error(`Auth (${N.SDK_VERSION}): ${f}`,...u)}function yt(f,...u){throw ct(f,...u)}function Ut(f,...u){return ct(f,...u)}function ni(f,u,d){const p=Object.assign(Object.assign({},zn()),{[u]:d});return new W.LL("auth","Firebase",p).create(u,{appName:f.name})}function Vn(f,u,d){if(!(u instanceof d))throw d.name!==u.constructor.name&&yt(f,"argument-error"),ni(f,"argument-error",`Type of ${u.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ct(f,...u){if("string"!=typeof f){const d=u[0],p=[...u.slice(1)];return p[0]&&(p[0].appName=f.name),f._errorFactory.create(d,...p)}return vt.create(f,...u)}function ae(f,u,...d){if(!f)throw ct(u,...d)}function bt(f){const u="INTERNAL ASSERTION FAILED: "+f;throw Tn(u),new Error(u)}function tn(f,u){f||bt(u)}function Cn(){var f;return typeof self<"u"&&(null===(f=self.location)||void 0===f?void 0:f.href)||""}function Mn(){return"http:"===Li()||"https:"===Li()}function Li(){var f;return typeof self<"u"&&(null===(f=self.location)||void 0===f?void 0:f.protocol)||null}class ri{constructor(u,d){this.shortDelay=u,this.longDelay=d,tn(d>u,"Short delay should be less than long delay!"),this.isMobile=(0,W.uI)()||(0,W.b$)()}get(){return function Fi(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Mn()||(0,W.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function rs(f,u){tn(f.emulator,"Emulator should always be set here");const{url:d}=f.emulator;return u?`${d}${u.startsWith("/")?u.slice(1):u}`:d}class j{static initialize(u,d,p){this.fetchImpl=u,d&&(this.headersImpl=d),p&&(this.responseImpl=p)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void bt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void bt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void bt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const z={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},q=new ri(3e4,6e4);function B(f,u){return f.tenantId&&!u.tenantId?Object.assign(Object.assign({},u),{tenantId:f.tenantId}):u}function te(f,u,d,p){return ee.apply(this,arguments)}function ee(){return(ee=(0,C.Z)(function*(f,u,d,p,_={}){return pe(f,_,(0,C.Z)(function*(){let E={},M={};p&&("GET"===u?M=p:E={body:JSON.stringify(p)});const U=(0,W.xO)(Object.assign({key:f.config.apiKey},M)).slice(1),se=yield f._getAdditionalHeaders();return se["Content-Type"]="application/json",f.languageCode&&(se["X-Firebase-Locale"]=f.languageCode),j.fetch()(Dt(f,f.config.apiHost,d,U),Object.assign({method:u,headers:se,referrerPolicy:"no-referrer"},E))}))})).apply(this,arguments)}function pe(f,u,d){return mt.apply(this,arguments)}function mt(){return(mt=(0,C.Z)(function*(f,u,d){f._canInitEmulator=!1;const p=Object.assign(Object.assign({},z),u);try{const _=new Gt(f),E=yield Promise.race([d(),_.promise]);_.clearNetworkTimeout();const M=yield E.json();if("needConfirmation"in M)throw gn(f,"account-exists-with-different-credential",M);if(E.ok&&!("errorMessage"in M))return M;{const U=E.ok?M.errorMessage:M.error.message,[se,De]=U.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===se)throw gn(f,"credential-already-in-use",M);if("EMAIL_EXISTS"===se)throw gn(f,"email-already-in-use",M);if("USER_DISABLED"===se)throw gn(f,"user-disabled",M);const Be=p[se]||se.toLowerCase().replace(/[_\s]+/g,"-");if(De)throw ni(f,Be,De);yt(f,Be)}}catch(_){if(_ instanceof W.ZR)throw _;yt(f,"network-request-failed",{message:String(_)})}})).apply(this,arguments)}function Ee(f,u,d,p){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,C.Z)(function*(f,u,d,p,_={}){const E=yield te(f,u,d,p,_);return"mfaPendingCredential"in E&&yt(f,"multi-factor-auth-required",{_serverResponse:E}),E})).apply(this,arguments)}function Dt(f,u,d,p){const _=`${u}${d}?${p}`;return f.config.emulator?rs(f.config,_):`${f.config.apiScheme}://${_}`}function ln(f){switch(f){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Gt{constructor(u){this.auth=u,this.timer=null,this.promise=new Promise((d,p)=>{this.timer=setTimeout(()=>p(Ut(this.auth,"network-request-failed")),q.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function gn(f,u,d){const p={appName:f.name};d.email&&(p.email=d.email),d.phoneNumber&&(p.phoneNumber=d.phoneNumber);const _=Ut(f,u,p);return _.customData._tokenResponse=d,_}function qn(f){return void 0!==f&&void 0!==f.getResponse}function Gn(f){return void 0!==f&&void 0!==f.enterprise}class or{constructor(u){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===u.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=u.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=u.recaptchaEnforcementState}getProviderEnforcementState(u){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const d of this.recaptchaEnforcementState)if(d.provider&&d.provider===u)return ln(d.enforcementState);return null}isProviderEnabled(u){return"ENFORCE"===this.getProviderEnforcementState(u)||"AUDIT"===this.getProviderEnforcementState(u)}}function Vi(){return(Vi=(0,C.Z)(function*(f){return(yield te(f,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function is(f,u){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,C.Z)(function*(f,u){return te(f,"GET","/v2/recaptchaConfig",B(f,u))})).apply(this,arguments)}function os(){return(os=(0,C.Z)(function*(f,u){return te(f,"POST","/v1/accounts:delete",u)})).apply(this,arguments)}function Bi(){return(Bi=(0,C.Z)(function*(f,u){return te(f,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function ii(){return(ii=(0,C.Z)(function*(f,u){return te(f,"POST","/v1/accounts:lookup",u)})).apply(this,arguments)}function si(f){if(f)try{const u=new Date(Number(f));if(!isNaN(u.getTime()))return u.toUTCString()}catch{}}function Bt(){return(Bt=(0,C.Z)(function*(f,u=!1){const d=(0,W.m9)(f),p=yield d.getIdToken(u),_=Nn(p);ae(_&&_.exp&&_.auth_time&&_.iat,d.auth,"internal-error");const E="object"==typeof _.firebase?_.firebase:void 0,M=E?.sign_in_provider;return{claims:_,token:p,authTime:si(ai(_.auth_time)),issuedAtTime:si(ai(_.iat)),expirationTime:si(ai(_.exp)),signInProvider:M||null,signInSecondFactor:E?.sign_in_second_factor||null}})).apply(this,arguments)}function ai(f){return 1e3*Number(f)}function Nn(f){const[u,d,p]=f.split(".");if(void 0===u||void 0===d||void 0===p)return Tn("JWT malformed, contained fewer than 3 sections"),null;try{const _=(0,W.tV)(d);return _?JSON.parse(_):(Tn("Failed to decode base64 JWT payload"),null)}catch(_){return Tn("Caught error parsing JWT payload as JSON",_?.toString()),null}}function mn(f,u){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,C.Z)(function*(f,u,d=!1){if(d)return u;try{return yield u}catch(p){throw p instanceof W.ZR&&function as({code:f}){return"auth/user-disabled"===f||"auth/user-token-expired"===f}(p)&&f.auth.currentUser===f&&(yield f.auth.signOut()),p}})).apply(this,arguments)}class ls{constructor(u){this.user=u,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(u){var d;if(u){const p=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),p}{this.errorBackoff=3e4;const _=(null!==(d=this.user.stsTokenManager.expirationTime)&&void 0!==d?d:0)-Date.now()-3e5;return Math.max(0,_)}}schedule(u=!1){var d=this;if(!this.isRunning)return;const p=this.getInterval(u);this.timerId=setTimeout((0,C.Z)(function*(){yield d.iteration()}),p)}iteration(){var u=this;return(0,C.Z)(function*(){try{yield u.user.getIdToken(!0)}catch(d){return void("auth/network-request-failed"===d?.code&&u.schedule(!0))}u.schedule()})()}}class ji{constructor(u,d){this.createdAt=u,this.lastLoginAt=d,this._initializeTime()}_initializeTime(){this.lastSignInTime=si(this.lastLoginAt),this.creationTime=si(this.createdAt)}_copy(u){this.createdAt=u.createdAt,this.lastLoginAt=u.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Wn(f){return Kn.apply(this,arguments)}function Kn(){return Kn=(0,C.Z)(function*(f){var u;const d=f.auth,p=yield f.getIdToken(),_=yield mn(f,function yr(f,u){return ii.apply(this,arguments)}(d,{idToken:p}));ae(_?.users.length,d,"internal-error");const E=_.users[0];f._notifyReloadListener(E);const M=null!==(u=E.providerUserInfo)&&void 0!==u&&u.length?function eo(f){return f.map(u=>{var{providerId:d}=u,p=(0,Pt._T)(u,["providerId"]);return{providerId:d,uid:p.rawId||"",displayName:p.displayName||null,email:p.email||null,phoneNumber:p.phoneNumber||null,photoURL:p.photoUrl||null}})}(E.providerUserInfo):[],U=function ya(f,u){return[...f.filter(p=>!u.some(_=>_.providerId===p.providerId)),...u]}(f.providerData,M),Be=!!f.isAnonymous&&!(f.email&&E.passwordHash||U?.length),wt={uid:E.localId,displayName:E.displayName||null,photoURL:E.photoUrl||null,email:E.email||null,emailVerified:E.emailVerified||!1,phoneNumber:E.phoneNumber||null,tenantId:E.tenantId||null,providerData:U,metadata:new ji(E.createdAt,E.lastLoginAt),isAnonymous:Be};Object.assign(f,wt)}),Kn.apply(this,arguments)}function li(){return(li=(0,C.Z)(function*(f){const u=(0,W.m9)(f);yield Wn(u),yield u.auth._persistUserIfCurrent(u),u.auth._notifyListenersIfCurrent(u)})).apply(this,arguments)}function cs(){return(cs=(0,C.Z)(function*(f,u){const d=yield pe(f,{},(0,C.Z)(function*(){const p=(0,W.xO)({grant_type:"refresh_token",refresh_token:u}).slice(1),{tokenApiHost:_,apiKey:E}=f.config,M=Dt(f,_,"/v1/token",`key=${E}`),U=yield f._getAdditionalHeaders();return U["Content-Type"]="application/x-www-form-urlencoded",j.fetch()(M,{method:"POST",headers:U,body:p})}));return{accessToken:d.access_token,expiresIn:d.expires_in,refreshToken:d.refresh_token}})).apply(this,arguments)}function D(){return(D=(0,C.Z)(function*(f,u){return te(f,"POST","/v2/accounts:revokeToken",B(f,u))})).apply(this,arguments)}class I{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(u){ae(u.idToken,"internal-error"),ae(typeof u.idToken<"u","internal-error"),ae(typeof u.refreshToken<"u","internal-error");const d="expiresIn"in u&&typeof u.expiresIn<"u"?Number(u.expiresIn):function wl(f){const u=Nn(f);return ae(u,"internal-error"),ae(typeof u.exp<"u","internal-error"),ae(typeof u.iat<"u","internal-error"),Number(u.exp)-Number(u.iat)}(u.idToken);this.updateTokensAndExpiration(u.idToken,u.refreshToken,d)}getToken(u,d=!1){var p=this;return(0,C.Z)(function*(){return ae(!p.accessToken||p.refreshToken,u,"user-token-expired"),d||!p.accessToken||p.isExpired?p.refreshToken?(yield p.refresh(u,p.refreshToken),p.accessToken):null:p.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(u,d){var p=this;return(0,C.Z)(function*(){const{accessToken:_,refreshToken:E,expiresIn:M}=yield function ko(f,u){return cs.apply(this,arguments)}(u,d);p.updateTokensAndExpiration(_,E,Number(M))})()}updateTokensAndExpiration(u,d,p){this.refreshToken=d||null,this.accessToken=u||null,this.expirationTime=Date.now()+1e3*p}static fromJSON(u,d){const{refreshToken:p,accessToken:_,expirationTime:E}=d,M=new I;return p&&(ae("string"==typeof p,"internal-error",{appName:u}),M.refreshToken=p),_&&(ae("string"==typeof _,"internal-error",{appName:u}),M.accessToken=_),E&&(ae("number"==typeof E,"internal-error",{appName:u}),M.expirationTime=E),M}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(u){this.accessToken=u.accessToken,this.refreshToken=u.refreshToken,this.expirationTime=u.expirationTime}_clone(){return Object.assign(new I,this.toJSON())}_performRefresh(){return bt("not implemented")}}function b(f,u){ae("string"==typeof f||typeof f>"u","internal-error",{appName:u})}class v{constructor(u){var{uid:d,auth:p,stsTokenManager:_}=u,E=(0,Pt._T)(u,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ls(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=d,this.auth=p,this.stsTokenManager=_,this.accessToken=_.accessToken,this.displayName=E.displayName||null,this.email=E.email||null,this.emailVerified=E.emailVerified||!1,this.phoneNumber=E.phoneNumber||null,this.photoURL=E.photoURL||null,this.isAnonymous=E.isAnonymous||!1,this.tenantId=E.tenantId||null,this.providerData=E.providerData?[...E.providerData]:[],this.metadata=new ji(E.createdAt||void 0,E.lastLoginAt||void 0)}getIdToken(u){var d=this;return(0,C.Z)(function*(){const p=yield mn(d,d.stsTokenManager.getToken(d.auth,u));return ae(p,d.auth,"internal-error"),d.accessToken!==p&&(d.accessToken=p,yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)),p})()}getIdTokenResult(u){return function ar(f){return Bt.apply(this,arguments)}(this,u)}reload(){return function Dr(f){return li.apply(this,arguments)}(this)}_assign(u){this!==u&&(ae(this.uid===u.uid,this.auth,"internal-error"),this.displayName=u.displayName,this.photoURL=u.photoURL,this.email=u.email,this.emailVerified=u.emailVerified,this.phoneNumber=u.phoneNumber,this.isAnonymous=u.isAnonymous,this.tenantId=u.tenantId,this.providerData=u.providerData.map(d=>Object.assign({},d)),this.metadata._copy(u.metadata),this.stsTokenManager._assign(u.stsTokenManager))}_clone(u){const d=new v(Object.assign(Object.assign({},this),{auth:u,stsTokenManager:this.stsTokenManager._clone()}));return d.metadata._copy(this.metadata),d}_onReload(u){ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=u,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(u){this.reloadListener?this.reloadListener(u):this.reloadUserInfo=u}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(u,d=!1){var p=this;return(0,C.Z)(function*(){let _=!1;u.idToken&&u.idToken!==p.stsTokenManager.accessToken&&(p.stsTokenManager.updateFromServerResponse(u),_=!0),d&&(yield Wn(p)),yield p.auth._persistUserIfCurrent(p),_&&p.auth._notifyListenersIfCurrent(p)})()}delete(){var u=this;return(0,C.Z)(function*(){const d=yield u.getIdToken();return yield mn(u,function ss(f,u){return os.apply(this,arguments)}(u.auth,{idToken:d})),u.stsTokenManager.clearRefreshToken(),u.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(u=>Object.assign({},u)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(u,d){var p,_,E,M,U,se,De,Be;const wt=null!==(p=d.displayName)&&void 0!==p?p:void 0,Pr=null!==(_=d.email)&&void 0!==_?_:void 0,ks=null!==(E=d.phoneNumber)&&void 0!==E?E:void 0,Pu=null!==(M=d.photoURL)&&void 0!==M?M:void 0,Zl=null!==(U=d.tenantId)&&void 0!==U?U:void 0,Ls=null!==(se=d._redirectEventId)&&void 0!==se?se:void 0,p_=null!==(De=d.createdAt)&&void 0!==De?De:void 0,Af=null!==(Be=d.lastLoginAt)&&void 0!==Be?Be:void 0,{uid:xu,emailVerified:Na,isAnonymous:g_,providerData:hr,stsTokenManager:m_}=d;ae(xu&&m_,u,"internal-error");const vn=I.fromJSON(this.name,m_);ae("string"==typeof xu,u,"internal-error"),b(wt,u.name),b(Pr,u.name),ae("boolean"==typeof Na,u,"internal-error"),ae("boolean"==typeof g_,u,"internal-error"),b(ks,u.name),b(Pu,u.name),b(Zl,u.name),b(Ls,u.name),b(p_,u.name),b(Af,u.name);const Ql=new v({uid:xu,auth:u,email:Pr,emailVerified:Na,displayName:wt,isAnonymous:g_,photoURL:Pu,phoneNumber:ks,tenantId:Zl,stsTokenManager:vn,createdAt:p_,lastLoginAt:Af});return hr&&Array.isArray(hr)&&(Ql.providerData=hr.map(cw=>Object.assign({},cw))),Ls&&(Ql._redirectEventId=Ls),Ql}static _fromIdTokenResponse(u,d,p=!1){return(0,C.Z)(function*(){const _=new I;_.updateFromServerResponse(d);const E=new v({uid:d.localId,auth:u,stsTokenManager:_,isAnonymous:p});return yield Wn(E),E})()}}const A=new Map;function G(f){tn(f instanceof Function,"Expected a class definition");let u=A.get(f);return u?(tn(u instanceof f,"Instance stored in cache mismatched with class"),u):(u=new f,A.set(f,u),u)}const Se=(()=>{class f{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,C.Z)(function*(){return!0})()}_set(d,p){var _=this;return(0,C.Z)(function*(){_.storage[d]=p})()}_get(d){var p=this;return(0,C.Z)(function*(){const _=p.storage[d];return void 0===_?null:_})()}_remove(d){var p=this;return(0,C.Z)(function*(){delete p.storage[d]})()}_addListener(d,p){}_removeListener(d,p){}}return f.type="NONE",f})();function Ge(f,u,d){return`firebase:${f}:${u}:${d}`}class At{constructor(u,d,p){this.persistence=u,this.auth=d,this.userKey=p;const{config:_,name:E}=this.auth;this.fullUserKey=Ge(this.userKey,_.apiKey,E),this.fullPersistenceKey=Ge("persistence",_.apiKey,E),this.boundEventHandler=d._onStorageEvent.bind(d),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(u){return this.persistence._set(this.fullUserKey,u.toJSON())}getCurrentUser(){var u=this;return(0,C.Z)(function*(){const d=yield u.persistence._get(u.fullUserKey);return d?v._fromJSON(u.auth,d):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(u){var d=this;return(0,C.Z)(function*(){if(d.persistence===u)return;const p=yield d.getCurrentUser();return yield d.removeCurrentUser(),d.persistence=u,p?d.setCurrentUser(p):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(u,d,p="authUser"){return(0,C.Z)(function*(){if(!d.length)return new At(G(Se),u,p);const _=(yield Promise.all(d.map(function(){var De=(0,C.Z)(function*(Be){if(yield Be._isAvailable())return Be});return function(Be){return De.apply(this,arguments)}}()))).filter(De=>De);let E=_[0]||G(Se);const M=Ge(p,u.config.apiKey,u.name);let U=null;for(const De of d)try{const Be=yield De._get(M);if(Be){const wt=v._fromJSON(u,Be);De!==E&&(U=wt),E=De;break}}catch{}const se=_.filter(De=>De._shouldAllowMigration);return E._shouldAllowMigration&&se.length?(E=se[0],U&&(yield E._set(M,U.toJSON())),yield Promise.all(d.map(function(){var De=(0,C.Z)(function*(Be){if(Be!==E)try{yield Be._remove(M)}catch{}});return function(Be){return De.apply(this,arguments)}}())),new At(E,u,p)):new At(E,u,p)})()}}function Ie(f){const u=f.toLowerCase();if(u.includes("opera/")||u.includes("opr/")||u.includes("opios/"))return"Opera";if(Lo(u))return"IEMobile";if(u.includes("msie")||u.includes("trident/"))return"IE";if(u.includes("edge/"))return"Edge";if($t(u))return"Firefox";if(u.includes("silk/"))return"Silk";if(x(u))return"Blackberry";if(oe(u))return"Webos";if(Oe(u))return"Safari";if((u.includes("chrome/")||nr(u))&&!u.includes("edge/"))return"Chrome";if(V(u))return"Android";{const p=f.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===p?.length)return p[1]}return"Other"}function $t(f=(0,W.z$)()){return/firefox\//i.test(f)}function Oe(f=(0,W.z$)()){const u=f.toLowerCase();return u.includes("safari/")&&!u.includes("chrome/")&&!u.includes("crios/")&&!u.includes("android")}function nr(f=(0,W.z$)()){return/crios\//i.test(f)}function Lo(f=(0,W.z$)()){return/iemobile/i.test(f)}function V(f=(0,W.z$)()){return/android/i.test(f)}function x(f=(0,W.z$)()){return/blackberry/i.test(f)}function oe(f=(0,W.z$)()){return/webos/i.test(f)}function Pe(f=(0,W.z$)()){return/iphone|ipad|ipod/i.test(f)||/macintosh/i.test(f)&&/mobile/i.test(f)}function ut(f=(0,W.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(f)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(f)}function On(f=(0,W.z$)()){return Pe(f)||V(f)||oe(f)||x(f)||/windows phone/i.test(f)||Lo(f)}function _t(f,u=[]){let d;switch(f){case"Browser":d=Ie((0,W.z$)());break;case"Worker":d=`${Ie((0,W.z$)())}-${f}`;break;default:d=f}const p=u.length?u.join(","):"FirebaseCore-web";return`${d}/JsCore/${N.SDK_VERSION}/${p}`}class bl{constructor(u){this.auth=u,this.queue=[]}pushCallback(u,d){const p=E=>new Promise((M,U)=>{try{M(u(E))}catch(se){U(se)}});p.onAbort=d,this.queue.push(p);const _=this.queue.length-1;return()=>{this.queue[_]=()=>Promise.resolve()}}runMiddleware(u){var d=this;return(0,C.Z)(function*(){if(d.auth.currentUser===u)return;const p=[];try{for(const _ of d.queue)yield _(u),_.onAbort&&p.push(_.onAbort)}catch(_){p.reverse();for(const E of p)try{E()}catch{}throw d.auth._errorFactory.create("login-blocked",{originalMessage:_?.message})}})()}}function Sh(){return(Sh=(0,C.Z)(function*(f,u={}){return te(f,"GET","/v2/passwordPolicy",B(f,u))})).apply(this,arguments)}class ci{constructor(u){var d,p,_,E;const M=u.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(d=M.minPasswordLength)&&void 0!==d?d:6,M.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=M.maxPasswordLength),void 0!==M.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=M.containsLowercaseCharacter),void 0!==M.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=M.containsUppercaseCharacter),void 0!==M.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=M.containsNumericCharacter),void 0!==M.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=M.containsNonAlphanumericCharacter),this.enforcementState=u.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(_=null===(p=u.allowedNonAlphanumericCharacters)||void 0===p?void 0:p.join(""))&&void 0!==_?_:"",this.forceUpgradeOnSignin=null!==(E=u.forceUpgradeOnSignin)&&void 0!==E&&E,this.schemaVersion=u.schemaVersion}validatePassword(u){var d,p,_,E,M,U;const se={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(u,se),this.validatePasswordCharacterOptions(u,se),se.isValid&&(se.isValid=null===(d=se.meetsMinPasswordLength)||void 0===d||d),se.isValid&&(se.isValid=null===(p=se.meetsMaxPasswordLength)||void 0===p||p),se.isValid&&(se.isValid=null===(_=se.containsLowercaseLetter)||void 0===_||_),se.isValid&&(se.isValid=null===(E=se.containsUppercaseLetter)||void 0===E||E),se.isValid&&(se.isValid=null===(M=se.containsNumericCharacter)||void 0===M||M),se.isValid&&(se.isValid=null===(U=se.containsNonAlphanumericCharacter)||void 0===U||U),se}validatePasswordLengthOptions(u,d){const p=this.customStrengthOptions.minPasswordLength,_=this.customStrengthOptions.maxPasswordLength;p&&(d.meetsMinPasswordLength=u.length>=p),_&&(d.meetsMaxPasswordLength=u.length<=_)}validatePasswordCharacterOptions(u,d){let p;this.updatePasswordCharacterOptionsStatuses(d,!1,!1,!1,!1);for(let _=0;_<u.length;_++)p=u.charAt(_),this.updatePasswordCharacterOptionsStatuses(d,p>="a"&&p<="z",p>="A"&&p<="Z",p>="0"&&p<="9",this.allowedNonAlphanumericCharacters.includes(p))}updatePasswordCharacterOptionsStatuses(u,d,p,_,E){this.customStrengthOptions.containsLowercaseLetter&&(u.containsLowercaseLetter||(u.containsLowercaseLetter=d)),this.customStrengthOptions.containsUppercaseLetter&&(u.containsUppercaseLetter||(u.containsUppercaseLetter=p)),this.customStrengthOptions.containsNumericCharacter&&(u.containsNumericCharacter||(u.containsNumericCharacter=_)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(u.containsNonAlphanumericCharacter||(u.containsNonAlphanumericCharacter=E))}}class AA{constructor(u,d,p,_){this.app=u,this.heartbeatServiceProvider=d,this.appCheckServiceProvider=p,this.config=_,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vE(this),this.idTokenSubscription=new vE(this),this.beforeStateQueue=new bl(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=u.name,this.clientVersion=_.sdkClientVersion}_initializeWithPersistence(u,d){var p=this;return d&&(this._popupRedirectResolver=G(d)),this._initializationPromise=this.queue((0,C.Z)(function*(){var _,E;if(!p._deleted&&(p.persistenceManager=yield At.create(p,u),!p._deleted)){if(null!==(_=p._popupRedirectResolver)&&void 0!==_&&_._shouldInitProactively)try{yield p._popupRedirectResolver._initialize(p)}catch{}yield p.initializeCurrentUser(d),p.lastNotifiedUid=(null===(E=p.currentUser)||void 0===E?void 0:E.uid)||null,!p._deleted&&(p._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var u=this;return(0,C.Z)(function*(){if(u._deleted)return;const d=yield u.assertedPersistence.getCurrentUser();if(u.currentUser||d){if(u.currentUser&&d&&u.currentUser.uid===d.uid)return u._currentUser._assign(d),void(yield u.currentUser.getIdToken());yield u._updateCurrentUser(d,!0)}})()}initializeCurrentUser(u){var d=this;return(0,C.Z)(function*(){var p;const _=yield d.assertedPersistence.getCurrentUser();let E=_,M=!1;if(u&&d.config.authDomain){yield d.getOrInitRedirectPersistenceManager();const U=null===(p=d.redirectUser)||void 0===p?void 0:p._redirectEventId,se=E?._redirectEventId,De=yield d.tryRedirectSignIn(u);(!U||U===se)&&De?.user&&(E=De.user,M=!0)}if(!E)return d.directlySetCurrentUser(null);if(!E._redirectEventId){if(M)try{yield d.beforeStateQueue.runMiddleware(E)}catch(U){E=_,d._popupRedirectResolver._overrideRedirectResult(d,()=>Promise.reject(U))}return E?d.reloadAndSetCurrentUserOrClear(E):d.directlySetCurrentUser(null)}return ae(d._popupRedirectResolver,d,"argument-error"),yield d.getOrInitRedirectPersistenceManager(),d.redirectUser&&d.redirectUser._redirectEventId===E._redirectEventId?d.directlySetCurrentUser(E):d.reloadAndSetCurrentUserOrClear(E)})()}tryRedirectSignIn(u){var d=this;return(0,C.Z)(function*(){let p=null;try{p=yield d._popupRedirectResolver._completeRedirectFn(d,u,!0)}catch{yield d._setRedirectUser(null)}return p})()}reloadAndSetCurrentUserOrClear(u){var d=this;return(0,C.Z)(function*(){try{yield Wn(u)}catch(p){if("auth/network-request-failed"!==p?.code)return d.directlySetCurrentUser(null)}return d.directlySetCurrentUser(u)})()}useDeviceLanguage(){this.languageCode=function lt(){if(typeof navigator>"u")return null;const f=navigator;return f.languages&&f.languages[0]||f.language||null}()}_delete(){var u=this;return(0,C.Z)(function*(){u._deleted=!0})()}updateCurrentUser(u){var d=this;return(0,C.Z)(function*(){const p=u?(0,W.m9)(u):null;return p&&ae(p.auth.config.apiKey===d.config.apiKey,d,"invalid-user-token"),d._updateCurrentUser(p&&p._clone(d))})()}_updateCurrentUser(u,d=!1){var p=this;return(0,C.Z)(function*(){if(!p._deleted)return u&&ae(p.tenantId===u.tenantId,p,"tenant-id-mismatch"),d||(yield p.beforeStateQueue.runMiddleware(u)),p.queue((0,C.Z)(function*(){yield p.directlySetCurrentUser(u),p.notifyAuthListeners()}))})()}signOut(){var u=this;return(0,C.Z)(function*(){return yield u.beforeStateQueue.runMiddleware(null),(u.redirectPersistenceManager||u._popupRedirectResolver)&&(yield u._setRedirectUser(null)),u._updateCurrentUser(null,!0)})()}setPersistence(u){var d=this;return this.queue((0,C.Z)(function*(){yield d.assertedPersistence.setPersistence(G(u))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(u){var d=this;return(0,C.Z)(function*(){d._getPasswordPolicyInternal()||(yield d._updatePasswordPolicy());const p=d._getPasswordPolicyInternal();return p.schemaVersion!==d.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(d._errorFactory.create("unsupported-password-policy-schema-version",{})):p.validatePassword(u)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var u=this;return(0,C.Z)(function*(){const d=yield function DA(f){return Sh.apply(this,arguments)}(u),p=new ci(d);null===u.tenantId?u._projectPasswordPolicy=p:u._tenantPasswordPolicies[u.tenantId]=p})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(u){this._errorFactory=new W.LL("auth","Firebase",u())}onAuthStateChanged(u,d,p){return this.registerStateListener(this.authStateSubscription,u,d,p)}beforeAuthStateChanged(u,d){return this.beforeStateQueue.pushCallback(u,d)}onIdTokenChanged(u,d,p){return this.registerStateListener(this.idTokenSubscription,u,d,p)}authStateReady(){return new Promise((u,d)=>{if(this.currentUser)u();else{const p=this.onAuthStateChanged(()=>{p(),u()},d)}})}revokeAccessToken(u){var d=this;return(0,C.Z)(function*(){if(d.currentUser){const p=yield d.currentUser.getIdToken(),_={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:u,idToken:p};null!=d.tenantId&&(_.tenantId=d.tenantId),yield function R(f,u){return D.apply(this,arguments)}(d,_)}})()}toJSON(){var u;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(u=this._currentUser)||void 0===u?void 0:u.toJSON()}}_setRedirectUser(u,d){var p=this;return(0,C.Z)(function*(){const _=yield p.getOrInitRedirectPersistenceManager(d);return null===u?_.removeCurrentUser():_.setCurrentUser(u)})()}getOrInitRedirectPersistenceManager(u){var d=this;return(0,C.Z)(function*(){if(!d.redirectPersistenceManager){const p=u&&G(u)||d._popupRedirectResolver;ae(p,d,"argument-error"),d.redirectPersistenceManager=yield At.create(d,[G(p._redirectPersistence)],"redirectUser"),d.redirectUser=yield d.redirectPersistenceManager.getCurrentUser()}return d.redirectPersistenceManager})()}_redirectUserForId(u){var d=this;return(0,C.Z)(function*(){var p,_;return d._isInitialized&&(yield d.queue((0,C.Z)(function*(){}))),(null===(p=d._currentUser)||void 0===p?void 0:p._redirectEventId)===u?d._currentUser:(null===(_=d.redirectUser)||void 0===_?void 0:_._redirectEventId)===u?d.redirectUser:null})()}_persistUserIfCurrent(u){var d=this;return(0,C.Z)(function*(){if(u===d.currentUser)return d.queue((0,C.Z)(function*(){return d.directlySetCurrentUser(u)}))})()}_notifyListenersIfCurrent(u){u===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var u,d;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const p=null!==(d=null===(u=this.currentUser)||void 0===u?void 0:u.uid)&&void 0!==d?d:null;this.lastNotifiedUid!==p&&(this.lastNotifiedUid=p,this.authStateSubscription.next(this.currentUser))}registerStateListener(u,d,p,_){if(this._deleted)return()=>{};const E="function"==typeof d?d:d.next.bind(d);let M=!1;const U=this._isInitialized?Promise.resolve():this._initializationPromise;if(ae(U,this,"internal-error"),U.then(()=>{M||E(this.currentUser)}),"function"==typeof d){const se=u.addObserver(d,p,_);return()=>{M=!0,se()}}{const se=u.addObserver(d);return()=>{M=!0,se()}}}directlySetCurrentUser(u){var d=this;return(0,C.Z)(function*(){d.currentUser&&d.currentUser!==u&&d._currentUser._stopProactiveRefresh(),u&&d.isProactiveRefreshEnabled&&u._startProactiveRefresh(),d.currentUser=u,u?yield d.assertedPersistence.setCurrentUser(u):yield d.assertedPersistence.removeCurrentUser()})()}queue(u){return this.operations=this.operations.then(u,u),this.operations}get assertedPersistence(){return ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(u){!u||this.frameworks.includes(u)||(this.frameworks.push(u),this.frameworks.sort(),this.clientVersion=_t(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var u=this;return(0,C.Z)(function*(){var d;const p={"X-Client-Version":u.clientVersion};u.app.options.appId&&(p["X-Firebase-gmpid"]=u.app.options.appId);const _=yield null===(d=u.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getHeartbeatsHeader();_&&(p["X-Firebase-Client"]=_);const E=yield u._getAppCheckToken();return E&&(p["X-Firebase-AppCheck"]=E),p})()}_getAppCheckToken(){var u=this;return(0,C.Z)(function*(){var d;const p=yield null===(d=u.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getToken();return p?.error&&function tr(f,...u){Je.logLevel<=xe.in.WARN&&Je.warn(`Auth (${N.SDK_VERSION}): ${f}`,...u)}(`Error while retrieving App Check token: ${p.error}`),p?.token})()}}function _n(f){return(0,W.m9)(f)}class vE{constructor(u){this.auth=u,this.observer=null,this.addObserver=(0,W.ne)(d=>this.observer=d)}get next(){return ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function fm(f){return new Promise((u,d)=>{const p=document.createElement("script");p.setAttribute("src",f),p.onload=u,p.onerror=_=>{const E=Ut("internal-error");E.customData=_,d(E)},p.type="text/javascript",p.charset="UTF-8",function Fo(){var f,u;return null!==(u=null===(f=document.getElementsByTagName("head"))||void 0===f?void 0:f[0])&&void 0!==u?u:document}().appendChild(p)})}function IE(f){return`__${f}${Math.floor(1e6*Math.random())}`}class wE{constructor(u){this.type="recaptcha-enterprise",this.auth=_n(u)}verify(u="verify",d=!1){var p=this;return(0,C.Z)(function*(){function E(){return E=(0,C.Z)(function*(U){if(!d){if(null==U.tenantId&&null!=U._agentRecaptchaConfig)return U._agentRecaptchaConfig.siteKey;if(null!=U.tenantId&&void 0!==U._tenantRecaptchaConfigs[U.tenantId])return U._tenantRecaptchaConfigs[U.tenantId].siteKey}return new Promise(function(){var se=(0,C.Z)(function*(De,Be){is(U,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(wt=>{if(void 0!==wt.recaptchaKey){const Pr=new or(wt);return null==U.tenantId?U._agentRecaptchaConfig=Pr:U._tenantRecaptchaConfigs[U.tenantId]=Pr,De(Pr.siteKey)}Be(new Error("recaptcha Enterprise site key undefined"))}).catch(wt=>{Be(wt)})});return function(De,Be){return se.apply(this,arguments)}}())}),E.apply(this,arguments)}function M(U,se,De){const Be=window.grecaptcha;Gn(Be)?Be.enterprise.ready(()=>{Be.enterprise.execute(U,{action:u}).then(wt=>{se(wt)}).catch(()=>{se("NO_RECAPTCHA")})}):De(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((U,se)=>{(function _(U){return E.apply(this,arguments)})(p.auth).then(De=>{if(!d&&Gn(window.grecaptcha))M(De,U,se);else{if(typeof window>"u")return void se(new Error("RecaptchaVerifier is only supported in browser"));fm("https://www.google.com/recaptcha/enterprise.js?render="+De).then(()=>{M(De,U,se)}).catch(Be=>{se(Be)})}}).catch(De=>{se(De)})})})()}}function pm(f,u,d){return gm.apply(this,arguments)}function gm(){return(gm=(0,C.Z)(function*(f,u,d,p=!1){const _=new wE(f);let E;try{E=yield _.verify(d)}catch{E=yield _.verify(d,!0)}const M=Object.assign({},u);return Object.assign(M,p?{captchaResp:E}:{captchaResponse:E}),Object.assign(M,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(M,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),M})).apply(this,arguments)}function vr(f,u,d,p){return ze.apply(this,arguments)}function ze(){return ze=(0,C.Z)(function*(f,u,d,p){var _;if(null!==(_=f._getRecaptchaConfig())&&void 0!==_&&_.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const E=yield pm(f,u,d,"getOobCode"===d);return p(f,E)}return p(f,u).catch(function(){var E=(0,C.Z)(function*(M){if("auth/missing-recaptcha-token"===M.code){console.log(`${d} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const U=yield pm(f,u,d,"getOobCode"===d);return p(f,U)}return Promise.reject(M)});return function(M){return E.apply(this,arguments)}}())}),ze.apply(this,arguments)}function bE(f,u,d){const p=_n(f);ae(p._canInitEmulator,p,"emulator-config-failed"),ae(/^https?:\/\//.test(u),p,"invalid-emulator-scheme");const _=!!d?.disableWarnings,E=nn(u),{host:M,port:U}=function Kc(f){const u=nn(f),d=/(\/\/)?([^?#/]+)/.exec(f.substr(u.length));if(!d)return{host:"",port:null};const p=d[2].split("@").pop()||"",_=/^(\[[^\]]+\])(:|$)/.exec(p);if(_){const E=_[1];return{host:E,port:_m(p.substr(E.length+1))}}{const[E,M]=p.split(":");return{host:E,port:_m(M)}}}(u);p.config.emulator={url:`${E}//${M}${null===U?"":`:${U}`}/`},p.settings.appVerificationDisabledForTesting=!0,p.emulatorConfig=Object.freeze({host:M,port:U,protocol:E.replace(":",""),options:Object.freeze({disableWarnings:_})}),_||function ym(){function f(){const u=document.createElement("p"),d=u.style;u.innerText="Running in emulator mode. Do not use with production credentials.",d.position="fixed",d.width="100%",d.backgroundColor="#ffffff",d.border=".1em solid #000000",d.color="#b50000",d.bottom="0px",d.left="0px",d.margin="0px",d.zIndex="10000",d.textAlign="center",u.classList.add("firebase-emulator-warning"),document.body.appendChild(u)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",f):f())}()}function nn(f){const u=f.indexOf(":");return u<0?"":f.substr(0,u+1)}function _m(f){if(!f)return null;const u=Number(f);return isNaN(u)?null:u}class va{constructor(u,d){this.providerId=u,this.signInMethod=d}toJSON(){return bt("not implemented")}_getIdTokenResponse(u){return bt("not implemented")}_linkToIdToken(u,d){return bt("not implemented")}_getReauthenticationResolver(u){return bt("not implemented")}}function Tl(f,u){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,C.Z)(function*(f,u){return te(f,"POST","/v1/accounts:resetPassword",B(f,u))})).apply(this,arguments)}function Zc(){return(Zc=(0,C.Z)(function*(f,u){return te(f,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function TE(f,u){return pt.apply(this,arguments)}function pt(){return(pt=(0,C.Z)(function*(f,u){return te(f,"POST","/v1/accounts:signUp",u)})).apply(this,arguments)}function Qc(){return(Qc=(0,C.Z)(function*(f,u){return te(f,"POST","/v1/accounts:update",B(f,u))})).apply(this,arguments)}function Ur(f,u){return Yc.apply(this,arguments)}function Yc(){return(Yc=(0,C.Z)(function*(f,u){return Ee(f,"POST","/v1/accounts:signInWithPassword",B(f,u))})).apply(this,arguments)}function Ph(f,u){return zt.apply(this,arguments)}function zt(){return(zt=(0,C.Z)(function*(f,u){return te(f,"POST","/v1/accounts:sendOobCode",B(f,u))})).apply(this,arguments)}function vm(){return(vm=(0,C.Z)(function*(f,u){return Ph(f,u)})).apply(this,arguments)}function xh(f,u){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,C.Z)(function*(f,u){return Ph(f,u)})).apply(this,arguments)}function Im(f,u){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,C.Z)(function*(f,u){return Ph(f,u)})).apply(this,arguments)}function Dl(){return(Dl=(0,C.Z)(function*(f,u){return Ph(f,u)})).apply(this,arguments)}function Em(){return(Em=(0,C.Z)(function*(f,u){return Ee(f,"POST","/v1/accounts:signInWithEmailLink",B(f,u))})).apply(this,arguments)}function wm(){return(wm=(0,C.Z)(function*(f,u){return Ee(f,"POST","/v1/accounts:signInWithEmailLink",B(f,u))})).apply(this,arguments)}class Jc extends va{constructor(u,d,p,_=null){super("password",p),this._email=u,this._password=d,this._tenantId=_}static _fromEmailAndPassword(u,d){return new Jc(u,d,"password")}static _fromEmailAndCode(u,d,p=null){return new Jc(u,d,"emailLink",p)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(u){const d="string"==typeof u?JSON.parse(u):u;if(d?.email&&d?.password){if("password"===d.signInMethod)return this._fromEmailAndPassword(d.email,d.password);if("emailLink"===d.signInMethod)return this._fromEmailAndCode(d.email,d.password,d.tenantId)}return null}_getIdTokenResponse(u){var d=this;return(0,C.Z)(function*(){switch(d.signInMethod){case"password":return vr(u,{returnSecureToken:!0,email:d._email,password:d._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Ur);case"emailLink":return function OA(f,u){return Em.apply(this,arguments)}(u,{email:d._email,oobCode:d._password});default:yt(u,"internal-error")}})()}_linkToIdToken(u,d){var p=this;return(0,C.Z)(function*(){switch(p.signInMethod){case"password":return vr(u,{idToken:d,returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",TE);case"emailLink":return function kA(f,u){return wm.apply(this,arguments)}(u,{idToken:d,email:p._email,oobCode:p._password});default:yt(u,"internal-error")}})()}_getReauthenticationResolver(u){return this._getIdTokenResponse(u)}}function ui(f,u){return Al.apply(this,arguments)}function Al(){return(Al=(0,C.Z)(function*(f,u){return Ee(f,"POST","/v1/accounts:signInWithIdp",B(f,u))})).apply(this,arguments)}class us extends va{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(u){const d=new us(u.providerId,u.signInMethod);return u.idToken||u.accessToken?(u.idToken&&(d.idToken=u.idToken),u.accessToken&&(d.accessToken=u.accessToken),u.nonce&&!u.pendingToken&&(d.nonce=u.nonce),u.pendingToken&&(d.pendingToken=u.pendingToken)):u.oauthToken&&u.oauthTokenSecret?(d.accessToken=u.oauthToken,d.secret=u.oauthTokenSecret):yt("argument-error"),d}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(u){const d="string"==typeof u?JSON.parse(u):u,{providerId:p,signInMethod:_}=d,E=(0,Pt._T)(d,["providerId","signInMethod"]);if(!p||!_)return null;const M=new us(p,_);return M.idToken=E.idToken||void 0,M.accessToken=E.accessToken||void 0,M.secret=E.secret,M.nonce=E.nonce,M.pendingToken=E.pendingToken||null,M}_getIdTokenResponse(u){return ui(u,this.buildRequest())}_linkToIdToken(u,d){const p=this.buildRequest();return p.idToken=d,ui(u,p)}_getReauthenticationResolver(u){const d=this.buildRequest();return d.autoCreate=!1,ui(u,d)}buildRequest(){const u={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)u.pendingToken=this.pendingToken;else{const d={};this.idToken&&(d.id_token=this.idToken),this.accessToken&&(d.access_token=this.accessToken),this.secret&&(d.oauth_token_secret=this.secret),d.providerId=this.providerId,this.nonce&&!this.pendingToken&&(d.nonce=this.nonce),u.postBody=(0,W.xO)(d)}return u}}function Mh(){return(Mh=(0,C.Z)(function*(f,u){return te(f,"POST","/v1/accounts:sendVerificationCode",B(f,u))})).apply(this,arguments)}function to(){return(to=(0,C.Z)(function*(f,u){return Ee(f,"POST","/v1/accounts:signInWithPhoneNumber",B(f,u))})).apply(this,arguments)}function ds(){return(ds=(0,C.Z)(function*(f,u){const d=yield Ee(f,"POST","/v1/accounts:signInWithPhoneNumber",B(f,u));if(d.temporaryProof)throw gn(f,"account-exists-with-different-credential",d);return d})).apply(this,arguments)}const AE={USER_NOT_FOUND:"user-not-found"};function eu(){return(eu=(0,C.Z)(function*(f,u){return Ee(f,"POST","/v1/accounts:signInWithPhoneNumber",B(f,Object.assign(Object.assign({},u),{operation:"REAUTH"})),AE)})).apply(this,arguments)}class _e extends va{constructor(u){super("phone","phone"),this.params=u}static _fromVerification(u,d){return new _e({verificationId:u,verificationCode:d})}static _fromTokenResponse(u,d){return new _e({phoneNumber:u,temporaryProof:d})}_getIdTokenResponse(u){return function bm(f,u){return to.apply(this,arguments)}(u,this._makeVerificationRequest())}_linkToIdToken(u,d){return function DE(f,u){return ds.apply(this,arguments)}(u,Object.assign({idToken:d},this._makeVerificationRequest()))}_getReauthenticationResolver(u){return function le(f,u){return eu.apply(this,arguments)}(u,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:u,phoneNumber:d,verificationId:p,verificationCode:_}=this.params;return u&&d?{temporaryProof:u,phoneNumber:d}:{sessionInfo:p,code:_}}toJSON(){const u={providerId:this.providerId};return this.params.phoneNumber&&(u.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(u.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(u.verificationCode=this.params.verificationCode),this.params.verificationId&&(u.verificationId=this.params.verificationId),u}static fromJSON(u){"string"==typeof u&&(u=JSON.parse(u));const{verificationId:d,verificationCode:p,phoneNumber:_,temporaryProof:E}=u;return p||d||_||E?new _e({verificationId:d,verificationCode:p,phoneNumber:_,temporaryProof:E}):null}}class Ps{constructor(u){var d,p,_,E,M,U;const se=(0,W.zd)((0,W.pd)(u)),De=null!==(d=se.apiKey)&&void 0!==d?d:null,Be=null!==(p=se.oobCode)&&void 0!==p?p:null,wt=function tu(f){switch(f){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(_=se.mode)&&void 0!==_?_:null);ae(De&&Be&&wt,"argument-error"),this.apiKey=De,this.operation=wt,this.code=Be,this.continueUrl=null!==(E=se.continueUrl)&&void 0!==E?E:null,this.languageCode=null!==(M=se.languageCode)&&void 0!==M?M:null,this.tenantId=null!==(U=se.tenantId)&&void 0!==U?U:null}static parseLink(u){const d=function Nh(f){const u=(0,W.zd)((0,W.pd)(f)).link,d=u?(0,W.zd)((0,W.pd)(u)).deep_link_id:null,p=(0,W.zd)((0,W.pd)(f)).deep_link_id;return(p?(0,W.zd)((0,W.pd)(p)).link:null)||p||d||u||f}(u);try{return new Ps(d)}catch{return null}}}let Oh=(()=>{class f{constructor(){this.providerId=f.PROVIDER_ID}static credential(d,p){return Jc._fromEmailAndPassword(d,p)}static credentialWithLink(d,p){const _=Ps.parseLink(p);return ae(_,"argument-error"),Jc._fromEmailAndCode(d,_.code,_.tenantId)}}return f.PROVIDER_ID="password",f.EMAIL_PASSWORD_SIGN_IN_METHOD="password",f.EMAIL_LINK_SIGN_IN_METHOD="emailLink",f})();class xs{constructor(u){this.providerId=u,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(u){this.defaultLanguageCode=u}setCustomParameters(u){return this.customParameters=u,this}getCustomParameters(){return this.customParameters}}class Br extends xs{constructor(){super(...arguments),this.scopes=[]}addScope(u){return this.scopes.includes(u)||this.scopes.push(u),this}getScopes(){return[...this.scopes]}}class no extends Br{static credentialFromJSON(u){const d="string"==typeof u?JSON.parse(u):u;return ae("providerId"in d&&"signInMethod"in d,"argument-error"),us._fromParams(d)}credential(u){return this._credential(Object.assign(Object.assign({},u),{nonce:u.rawNonce}))}_credential(u){return ae(u.idToken||u.accessToken,"argument-error"),us._fromParams(Object.assign(Object.assign({},u),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(u){return no.oauthCredentialFromTaggedObject(u)}static credentialFromError(u){return no.oauthCredentialFromTaggedObject(u.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{oauthIdToken:d,oauthAccessToken:p,oauthTokenSecret:_,pendingToken:E,nonce:M,providerId:U}=u;if(!p&&!_&&!d&&!E||!U)return null;try{return new no(U)._credential({idToken:d,accessToken:p,nonce:M,pendingToken:E})}catch{return null}}}let Ti=(()=>{class f extends Br{constructor(){super("facebook.com")}static credential(d){return us._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.FACEBOOK_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return f.credential(d.oauthAccessToken)}catch{return null}}}return f.FACEBOOK_SIGN_IN_METHOD="facebook.com",f.PROVIDER_ID="facebook.com",f})(),hs=(()=>{class f extends Br{constructor(){super("google.com"),this.addScope("profile")}static credential(d,p){return us._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.GOOGLE_SIGN_IN_METHOD,idToken:d,accessToken:p})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:p,oauthAccessToken:_}=d;if(!p&&!_)return null;try{return f.credential(p,_)}catch{return null}}}return f.GOOGLE_SIGN_IN_METHOD="google.com",f.PROVIDER_ID="google.com",f})(),Ot=(()=>{class f extends Br{constructor(){super("github.com")}static credential(d){return us._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.GITHUB_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return f.credential(d.oauthAccessToken)}catch{return null}}}return f.GITHUB_SIGN_IN_METHOD="github.com",f.PROVIDER_ID="github.com",f})();class ro extends va{constructor(u,d){super(u,u),this.pendingToken=d}_getIdTokenResponse(u){return ui(u,this.buildRequest())}_linkToIdToken(u,d){const p=this.buildRequest();return p.idToken=d,ui(u,p)}_getReauthenticationResolver(u){const d=this.buildRequest();return d.autoCreate=!1,ui(u,d)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(u){const d="string"==typeof u?JSON.parse(u):u,{providerId:p,signInMethod:_,pendingToken:E}=d;return p&&_&&E&&p===_?new ro(p,E):null}static _create(u,d){return new ro(u,d)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Rl extends xs{constructor(u){ae(u.startsWith("saml."),"argument-error"),super(u)}static credentialFromResult(u){return Rl.samlCredentialFromTaggedObject(u)}static credentialFromError(u){return Rl.samlCredentialFromTaggedObject(u.customData||{})}static credentialFromJSON(u){const d=ro.fromJSON(u);return ae(d,"argument-error"),d}static samlCredentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{pendingToken:d,providerId:p}=u;if(!d||!p)return null;try{return ro._create(p,d)}catch{return null}}}let Ms=(()=>{class f extends Br{constructor(){super("twitter.com")}static credential(d,p){return us._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.TWITTER_SIGN_IN_METHOD,oauthToken:d,oauthTokenSecret:p})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthAccessToken:p,oauthTokenSecret:_}=d;if(!p||!_)return null;try{return f.credential(p,_)}catch{return null}}}return f.TWITTER_SIGN_IN_METHOD="twitter.com",f.PROVIDER_ID="twitter.com",f})();function Ea(f,u){return ru.apply(this,arguments)}function ru(){return(ru=(0,C.Z)(function*(f,u){return Ee(f,"POST","/v1/accounts:signUp",B(f,u))})).apply(this,arguments)}class di{constructor(u){this.user=u.user,this.providerId=u.providerId,this._tokenResponse=u._tokenResponse,this.operationType=u.operationType}static _fromIdTokenResponse(u,d,p,_=!1){return(0,C.Z)(function*(){const E=yield v._fromIdTokenResponse(u,p,_),M=iu(p);return new di({user:E,providerId:M,_tokenResponse:p,operationType:d})})()}static _forOperation(u,d,p){return(0,C.Z)(function*(){yield u._updateTokensIfNecessary(p,!0);const _=iu(p);return new di({user:u,providerId:_,_tokenResponse:p,operationType:d})})()}}function iu(f){return f.providerId?f.providerId:"phoneNumber"in f?"phone":null}function Tm(f){return su.apply(this,arguments)}function su(){return(su=(0,C.Z)(function*(f){var u;const d=_n(f);if(yield d._initializationPromise,null!==(u=d.currentUser)&&void 0!==u&&u.isAnonymous)return new di({user:d.currentUser,providerId:null,operationType:"signIn"});const p=yield Ea(d,{returnSecureToken:!0}),_=yield di._fromIdTokenResponse(d,"signIn",p,!0);return yield d._updateCurrentUser(_.user),_})).apply(this,arguments)}class io extends W.ZR{constructor(u,d,p,_){var E;super(d.code,d.message),this.operationType=p,this.user=_,Object.setPrototypeOf(this,io.prototype),this.customData={appName:u.name,tenantId:null!==(E=u.tenantId)&&void 0!==E?E:void 0,_serverResponse:d.customData._serverResponse,operationType:p}}static _fromErrorAndOperation(u,d,p,_){return new io(u,d,p,_)}}function Lh(f,u,d,p){return("reauthenticate"===u?d._getReauthenticationResolver(f):d._getIdTokenResponse(f)).catch(E=>{throw"auth/multi-factor-auth-required"===E.code?io._fromErrorAndOperation(f,E,u,p):E})}function Fh(f){return new Set(f.map(({providerId:u})=>u).filter(u=>!!u))}function RE(f,u){return ou.apply(this,arguments)}function ou(){return ou=(0,C.Z)(function*(f,u){const d=(0,W.m9)(f);yield jr(!0,d,u);const{providerUserInfo:p}=yield function Ui(f,u){return Bi.apply(this,arguments)}(d.auth,{idToken:yield d.getIdToken(),deleteProvider:[u]}),_=Fh(p||[]);return d.providerData=d.providerData.filter(E=>_.has(E.providerId)),_.has("phone")||(d.phoneNumber=null),yield d.auth._persistUserIfCurrent(d),d}),ou.apply(this,arguments)}function Vh(f,u){return Uh.apply(this,arguments)}function Uh(){return(Uh=(0,C.Z)(function*(f,u,d=!1){const p=yield mn(f,u._linkToIdToken(f.auth,yield f.getIdToken()),d);return di._forOperation(f,"link",p)})).apply(this,arguments)}function jr(f,u,d){return Bh.apply(this,arguments)}function Bh(){return(Bh=(0,C.Z)(function*(f,u,d){yield Wn(u);const _=!1===f?"provider-already-linked":"no-such-provider";ae(Fh(u.providerData).has(d)===f,u.auth,_)})).apply(this,arguments)}function jh(f,u){return Hh.apply(this,arguments)}function Hh(){return(Hh=(0,C.Z)(function*(f,u,d=!1){const{auth:p}=f,_="reauthenticate";try{const E=yield mn(f,Lh(p,_,u,f),d);ae(E.idToken,p,"internal-error");const M=Nn(E.idToken);ae(M,p,"internal-error");const{sub:U}=M;return ae(f.uid===U,p,"user-mismatch"),di._forOperation(f,_,E)}catch(E){throw"auth/user-not-found"===E?.code&&yt(p,"user-mismatch"),E}})).apply(this,arguments)}function Cm(f,u){return $h.apply(this,arguments)}function $h(){return($h=(0,C.Z)(function*(f,u,d=!1){const p="signIn",_=yield Lh(f,p,u),E=yield di._fromIdTokenResponse(f,p,_);return d||(yield f._updateCurrentUser(E.user)),E})).apply(this,arguments)}function au(f,u){return lu.apply(this,arguments)}function lu(){return(lu=(0,C.Z)(function*(f,u){return Cm(_n(f),u)})).apply(this,arguments)}function Sm(f,u){return zh.apply(this,arguments)}function zh(){return(zh=(0,C.Z)(function*(f,u){const d=(0,W.m9)(f);return yield jr(!1,d,u.providerId),Vh(d,u)})).apply(this,arguments)}function Dm(f,u){return kn.apply(this,arguments)}function kn(){return(kn=(0,C.Z)(function*(f,u){return jh((0,W.m9)(f),u)})).apply(this,arguments)}function qh(){return(qh=(0,C.Z)(function*(f,u){return Ee(f,"POST","/v1/accounts:signInWithCustomToken",B(f,u))})).apply(this,arguments)}function xE(f,u){return rn.apply(this,arguments)}function rn(){return rn=(0,C.Z)(function*(f,u){const d=_n(f),p=yield function PE(f,u){return qh.apply(this,arguments)}(d,{token:u,returnSecureToken:!0}),_=yield di._fromIdTokenResponse(d,"signIn",p);return yield d._updateCurrentUser(_.user),_}),rn.apply(this,arguments)}class Pl{constructor(u,d){this.factorId=u,this.uid=d.mfaEnrollmentId,this.enrollmentTime=new Date(d.enrolledAt).toUTCString(),this.displayName=d.displayName}static _fromServerResponse(u,d){return"phoneInfo"in d?cu._fromServerResponse(u,d):"totpInfo"in d?je._fromServerResponse(u,d):yt(u,"internal-error")}}class cu extends Pl{constructor(u){super("phone",u),this.phoneNumber=u.phoneInfo}static _fromServerResponse(u,d){return new cu(d)}}class je extends Pl{constructor(u){super("totp",u)}static _fromServerResponse(u,d){return new je(d)}}function lr(f,u,d){var p;ae((null===(p=d.url)||void 0===p?void 0:p.length)>0,f,"invalid-continue-uri"),ae(typeof d.dynamicLinkDomain>"u"||d.dynamicLinkDomain.length>0,f,"invalid-dynamic-link-domain"),u.continueUrl=d.url,u.dynamicLinkDomain=d.dynamicLinkDomain,u.canHandleCodeInApp=d.handleCodeInApp,d.iOS&&(ae(d.iOS.bundleId.length>0,f,"missing-ios-bundle-id"),u.iOSBundleId=d.iOS.bundleId),d.android&&(ae(d.android.packageName.length>0,f,"missing-android-pkg-name"),u.androidInstallApp=d.android.installApp,u.androidMinimumVersionCode=d.android.minimumVersion,u.androidPackageName=d.android.packageName)}function It(f){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,C.Z)(function*(f){const u=_n(f);u._getPasswordPolicyInternal()&&(yield u._updatePasswordPolicy())})).apply(this,arguments)}function Ar(f,u,d){return so.apply(this,arguments)}function so(){return(so=(0,C.Z)(function*(f,u,d){const p=_n(f),_={requestType:"PASSWORD_RESET",email:u,clientType:"CLIENT_TYPE_WEB"};d&&lr(p,_,d),yield vr(p,_,"getOobCode",xh)})).apply(this,arguments)}function hi(f,u,d){return uu.apply(this,arguments)}function uu(){return uu=(0,C.Z)(function*(f,u,d){yield Tl((0,W.m9)(f),{oobCode:u,newPassword:d}).catch(function(){var p=(0,C.Z)(function*(_){throw"auth/password-does-not-meet-requirements"===_.code&&It(f),_});return function(_){return p.apply(this,arguments)}}())}),uu.apply(this,arguments)}function Am(f,u){return wa.apply(this,arguments)}function wa(){return wa=(0,C.Z)(function*(f,u){yield function Rh(f,u){return Qc.apply(this,arguments)}((0,W.m9)(f),{oobCode:u})}),wa.apply(this,arguments)}function Rm(f,u){return Gh.apply(this,arguments)}function Gh(){return(Gh=(0,C.Z)(function*(f,u){const d=(0,W.m9)(f),p=yield Tl(d,{oobCode:u}),_=p.requestType;switch(ae(_,d,"internal-error"),_){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ae(p.newEmail,d,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ae(p.mfaInfo,d,"internal-error");default:ae(p.email,d,"internal-error")}let E=null;return p.mfaInfo&&(E=Pl._fromServerResponse(_n(d),p.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===p.requestType?p.newEmail:p.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===p.requestType?p.email:p.newEmail)||null,multiFactorInfo:E},operation:_}})).apply(this,arguments)}function Dn(f,u){return ve.apply(this,arguments)}function ve(){return(ve=(0,C.Z)(function*(f,u){const{data:d}=yield Rm((0,W.m9)(f),u);return d.email})).apply(this,arguments)}function it(f,u,d){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,C.Z)(function*(f,u,d){const p=_n(f),M=yield vr(p,{returnSecureToken:!0,email:u,password:d,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ea).catch(se=>{throw"auth/password-does-not-meet-requirements"===se.code&&It(f),se}),U=yield di._fromIdTokenResponse(p,"signIn",M);return yield p._updateCurrentUser(U.user),U})).apply(this,arguments)}function Hi(f,u,d){return au((0,W.m9)(f),Oh.credential(u,d)).catch(function(){var p=(0,C.Z)(function*(_){throw"auth/password-does-not-meet-requirements"===_.code&&It(f),_});return function(_){return p.apply(this,arguments)}}())}function xl(f,u,d){return rr.apply(this,arguments)}function rr(){return(rr=(0,C.Z)(function*(f,u,d){const p=_n(f),_={requestType:"EMAIL_SIGNIN",email:u,clientType:"CLIENT_TYPE_WEB"};(function E(M,U){ae(U.handleCodeInApp,p,"argument-error"),U&&lr(p,M,U)})(_,d),yield vr(p,_,"getOobCode",Im)})).apply(this,arguments)}function ba(f,u){const d=Ps.parseLink(u);return"EMAIL_SIGNIN"===d?.operation}function Ln(f,u,d){return fs.apply(this,arguments)}function fs(){return(fs=(0,C.Z)(function*(f,u,d){const p=(0,W.m9)(f),_=Oh.credentialWithLink(u,d||Cn());return ae(_._tenantId===(p.tenantId||null),p,"tenant-id-mismatch"),au(p,_)})).apply(this,arguments)}function Ze(){return(Ze=(0,C.Z)(function*(f,u){return te(f,"POST","/v1/accounts:createAuthUri",B(f,u))})).apply(this,arguments)}function Ml(f,u){return du.apply(this,arguments)}function du(){return du=(0,C.Z)(function*(f,u){const p={identifier:u,continueUri:Mn()?Cn():"http://localhost"},{signinMethods:_}=yield function Ta(f,u){return Ze.apply(this,arguments)}((0,W.m9)(f),p);return _||[]}),du.apply(this,arguments)}function Ca(f,u){return yn.apply(this,arguments)}function yn(){return yn=(0,C.Z)(function*(f,u){const d=(0,W.m9)(f),_={requestType:"VERIFY_EMAIL",idToken:yield f.getIdToken()};u&&lr(d.auth,_,u);const{email:E}=yield function NA(f,u){return vm.apply(this,arguments)}(d.auth,_);E!==f.email&&(yield f.reload())}),yn.apply(this,arguments)}function Nl(f,u,d){return oo.apply(this,arguments)}function oo(){return oo=(0,C.Z)(function*(f,u,d){const p=(0,W.m9)(f),E={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield f.getIdToken(),newEmail:u};d&&lr(p.auth,E,d);const{email:M}=yield function CE(f,u){return Dl.apply(this,arguments)}(p.auth,E);M!==f.email&&(yield f.reload())}),oo.apply(this,arguments)}function Vo(){return(Vo=(0,C.Z)(function*(f,u){return te(f,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function Pm(f,u){return gs.apply(this,arguments)}function gs(){return gs=(0,C.Z)(function*(f,{displayName:u,photoURL:d}){if(void 0===u&&void 0===d)return;const p=(0,W.m9)(f),E={idToken:yield p.getIdToken(),displayName:u,photoUrl:d,returnSecureToken:!0},M=yield mn(p,function ps(f,u){return Vo.apply(this,arguments)}(p.auth,E));p.displayName=M.displayName||null,p.photoURL=M.photoUrl||null;const U=p.providerData.find(({providerId:se})=>"password"===se);U&&(U.displayName=p.displayName,U.photoURL=p.photoURL),yield p._updateTokensIfNecessary(M)}),gs.apply(this,arguments)}function Ns(f,u){return Sa((0,W.m9)(f),u,null)}function Ol(f,u){return Sa((0,W.m9)(f),null,u)}function Sa(f,u,d){return gt.apply(this,arguments)}function gt(){return gt=(0,C.Z)(function*(f,u,d){const{auth:p}=f,E={idToken:yield f.getIdToken(),returnSecureToken:!0};u&&(E.email=u),d&&(E.password=d);const M=yield mn(f,function Ah(f,u){return Zc.apply(this,arguments)}(p,E));yield f._updateTokensIfNecessary(M,!0)}),gt.apply(this,arguments)}class ao{constructor(u,d,p={}){this.isNewUser=u,this.providerId=d,this.profile=p}}class Wh extends ao{constructor(u,d,p,_){super(u,d,p),this.username=_}}class ms extends ao{constructor(u,d){super(u,"facebook.com",d)}}class hu extends Wh{constructor(u,d){super(u,"github.com",d,"string"==typeof d?.login?d?.login:null)}}class Da extends ao{constructor(u,d){super(u,"google.com",d)}}class kl extends Wh{constructor(u,d,p){super(u,"twitter.com",d,p)}}function cr(f){const{user:u,_tokenResponse:d}=f;return u.isAnonymous&&!d?{providerId:null,isNewUser:!1,profile:null}:function FA(f){var u,d;if(!f)return null;const{providerId:p}=f,_=f.rawUserInfo?JSON.parse(f.rawUserInfo):{},E=f.isNewUser||"identitytoolkit#SignupNewUserResponse"===f.kind;if(!p&&f?.idToken){const M=null===(d=null===(u=Nn(f.idToken))||void 0===u?void 0:u.firebase)||void 0===d?void 0:d.sign_in_provider;if(M)return new ao(E,"anonymous"!==M&&"custom"!==M?M:null)}if(!p)return null;switch(p){case"facebook.com":return new ms(E,_);case"github.com":return new hu(E,_);case"google.com":return new Da(E,_);case"twitter.com":return new kl(E,_,f.screenName||null);case"custom":case"anonymous":return new ao(E,null);default:return new ao(E,p,_)}}(d)}class Aa{constructor(u,d,p){this.type=u,this.credential=d,this.user=p}static _fromIdtoken(u,d){return new Aa("enroll",u,d)}static _fromMfaPendingCredential(u){return new Aa("signin",u)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(u){var d,p;if(u?.multiFactorSession){if(null!==(d=u.multiFactorSession)&&void 0!==d&&d.pendingCredential)return Aa._fromMfaPendingCredential(u.multiFactorSession.pendingCredential);if(null!==(p=u.multiFactorSession)&&void 0!==p&&p.idToken)return Aa._fromIdtoken(u.multiFactorSession.idToken)}return null}}class Mm{constructor(u,d,p){this.session=u,this.hints=d,this.signInResolver=p}static _fromError(u,d){const p=_n(u),_=d.customData._serverResponse,E=(_.mfaInfo||[]).map(U=>Pl._fromServerResponse(p,U));ae(_.mfaPendingCredential,p,"internal-error");const M=Aa._fromMfaPendingCredential(_.mfaPendingCredential);return new Mm(M,E,function(){var U=(0,C.Z)(function*(se){const De=yield se._process(p,M);delete _.mfaInfo,delete _.mfaPendingCredential;const Be=Object.assign(Object.assign({},_),{idToken:De.idToken,refreshToken:De.refreshToken});switch(d.operationType){case"signIn":const wt=yield di._fromIdTokenResponse(p,d.operationType,Be);return yield p._updateCurrentUser(wt.user),wt;case"reauthenticate":return ae(d.user,p,"internal-error"),di._forOperation(d.user,d.operationType,Be);default:yt(p,"internal-error")}});return function(se){return U.apply(this,arguments)}}())}resolveSignIn(u){var d=this;return(0,C.Z)(function*(){return d.signInResolver(u)})()}}function jA(f,u){var d;const p=(0,W.m9)(f),_=u;return ae(u.customData.operationType,p,"argument-error"),ae(null===(d=_.customData._serverResponse)||void 0===d?void 0:d.mfaPendingCredential,p,"argument-error"),Mm._fromError(p,_)}class Nm{constructor(u){this.user=u,this.enrolledFactors=[],u._onReload(d=>{d.mfaInfo&&(this.enrolledFactors=d.mfaInfo.map(p=>Pl._fromServerResponse(u.auth,p)))})}static _fromUser(u){return new Nm(u)}getSession(){var u=this;return(0,C.Z)(function*(){return Aa._fromIdtoken(yield u.user.getIdToken(),u.user)})()}enroll(u,d){var p=this;return(0,C.Z)(function*(){const _=u,E=yield p.getSession(),M=yield mn(p.user,_._process(p.user.auth,E,d));return yield p.user._updateTokensIfNecessary(M),p.user.reload()})()}unenroll(u){var d=this;return(0,C.Z)(function*(){const p="string"==typeof u?u:u.uid,_=yield d.user.getIdToken();try{const E=yield mn(d.user,function qA(f,u){return te(f,"POST","/v2/accounts/mfaEnrollment:withdraw",B(f,u))}(d.user.auth,{idToken:_,mfaEnrollmentId:p}));d.enrolledFactors=d.enrolledFactors.filter(({uid:M})=>M!==p),yield d.user._updateTokensIfNecessary(E),yield d.user.reload()}catch(E){throw E}})()}}const Om=new WeakMap;function GA(f){const u=(0,W.m9)(f);return Om.has(u)||Om.set(u,Nm._fromUser(u)),Om.get(u)}const Zh="__sak";class Qh{constructor(u,d){this.storageRetriever=u,this.type=d}_isAvailable(){try{return this.storage?(this.storage.setItem(Zh,"1"),this.storage.removeItem(Zh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(u,d){return this.storage.setItem(u,JSON.stringify(d)),Promise.resolve()}_get(u){const d=this.storage.getItem(u);return Promise.resolve(d?JSON.parse(d):null)}_remove(u){return this.storage.removeItem(u),Promise.resolve()}get storage(){return this.storageRetriever()}}const lo=(()=>{class f extends Qh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(d,p)=>this.onStorageEvent(d,p),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function km(){const f=(0,W.z$)();return Oe(f)||Pe(f)}()&&function Ae(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=On(),this._shouldAllowMigration=!0}forAllChangedKeys(d){for(const p of Object.keys(this.listeners)){const _=this.storage.getItem(p),E=this.localCache[p];_!==E&&d(p,E,_)}}onStorageEvent(d,p=!1){if(!d.key)return void this.forAllChangedKeys((U,se,De)=>{this.notifyListeners(U,De)});const _=d.key;if(p?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const U=this.storage.getItem(_);if(d.newValue!==U)null!==d.newValue?this.storage.setItem(_,d.newValue):this.storage.removeItem(_);else if(this.localCache[_]===d.newValue&&!p)return}const E=()=>{const U=this.storage.getItem(_);!p&&this.localCache[_]===U||this.notifyListeners(_,U)},M=this.storage.getItem(_);!function k(){return(0,W.w1)()&&10===document.documentMode}()||M===d.newValue||d.newValue===d.oldValue?E():setTimeout(E,10)}notifyListeners(d,p){this.localCache[d]=p;const _=this.listeners[d];if(_)for(const E of Array.from(_))E(p&&JSON.parse(p))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((d,p,_)=>{this.onStorageEvent(new StorageEvent("storage",{key:d,oldValue:p,newValue:_}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(d,p){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[d]||(this.listeners[d]=new Set,this.localCache[d]=this.storage.getItem(d)),this.listeners[d].add(p)}_removeListener(d,p){this.listeners[d]&&(this.listeners[d].delete(p),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(d,p){var _=()=>super._set,E=this;return(0,C.Z)(function*(){yield _().call(E,d,p),E.localCache[d]=JSON.stringify(p)})()}_get(d){var p=()=>super._get,_=this;return(0,C.Z)(function*(){const E=yield p().call(_,d);return _.localCache[d]=JSON.stringify(E),E})()}_remove(d){var p=()=>super._remove,_=this;return(0,C.Z)(function*(){yield p().call(_,d),delete _.localCache[d]})()}}return f.type="LOCAL",f})(),Lm=(()=>{class f extends Qh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(d,p){}_removeListener(d,p){}}return f.type="SESSION",f})();let ur=(()=>{class f{constructor(d){this.eventTarget=d,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(d){const p=this.receivers.find(E=>E.isListeningto(d));if(p)return p;const _=new f(d);return this.receivers.push(_),_}isListeningto(d){return this.eventTarget===d}handleEvent(d){var p=this;return(0,C.Z)(function*(){const _=d,{eventId:E,eventType:M,data:U}=_.data,se=p.handlersMap[M];if(!se?.size)return;_.ports[0].postMessage({status:"ack",eventId:E,eventType:M});const De=Array.from(se).map(function(){var wt=(0,C.Z)(function*(Pr){return Pr(_.origin,U)});return function(Pr){return wt.apply(this,arguments)}}()),Be=yield function ME(f){return Promise.all(f.map(function(){var u=(0,C.Z)(function*(d){try{return{fulfilled:!0,value:yield d}}catch(p){return{fulfilled:!1,reason:p}}});return function(d){return u.apply(this,arguments)}}()))}(De);_.ports[0].postMessage({status:"done",eventId:E,eventType:M,response:Be})})()}_subscribe(d,p){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[d]||(this.handlersMap[d]=new Set),this.handlersMap[d].add(p)}_unsubscribe(d,p){this.handlersMap[d]&&p&&this.handlersMap[d].delete(p),(!p||0===this.handlersMap[d].size)&&delete this.handlersMap[d],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return f.receivers=[],f})();function co(f="",u=10){let d="";for(let p=0;p<u;p++)d+=Math.floor(10*Math.random());return f+d}class Ci{constructor(u){this.target=u,this.handlers=new Set}removeMessageHandler(u){u.messageChannel&&(u.messageChannel.port1.removeEventListener("message",u.onMessage),u.messageChannel.port1.close()),this.handlers.delete(u)}_send(u,d,p=50){var _=this;return(0,C.Z)(function*(){const E=typeof MessageChannel<"u"?new MessageChannel:null;if(!E)throw new Error("connection_unavailable");let M,U;return new Promise((se,De)=>{const Be=co("",20);E.port1.start();const wt=setTimeout(()=>{De(new Error("unsupported_event"))},p);U={messageChannel:E,onMessage(Pr){const ks=Pr;if(ks.data.eventId===Be)switch(ks.data.status){case"ack":clearTimeout(wt),M=setTimeout(()=>{De(new Error("timeout"))},3e3);break;case"done":clearTimeout(M),se(ks.data.response);break;default:clearTimeout(wt),clearTimeout(M),De(new Error("invalid_response"))}}},_.handlers.add(U),E.port1.addEventListener("message",U.onMessage),_.target.postMessage({eventType:u,eventId:Be,data:d},[E.port2])}).finally(()=>{U&&_.removeMessageHandler(U)})})()}}function An(){return window}function pu(){return typeof An().WorkerGlobalScope<"u"&&"function"==typeof An().importScripts}function Fl(){return(Fl=(0,C.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const gu="firebaseLocalStorageDb",Vl="firebaseLocalStorage",Jh="fbase_key";class uo{constructor(u){this.request=u}toPromise(){return new Promise((u,d)=>{this.request.addEventListener("success",()=>{u(this.request.result)}),this.request.addEventListener("error",()=>{d(this.request.error)})})}}function ho(f,u){return f.transaction([Vl],u?"readwrite":"readonly").objectStore(Vl)}function mu(){const f=indexedDB.open(gu,1);return new Promise((u,d)=>{f.addEventListener("error",()=>{d(f.error)}),f.addEventListener("upgradeneeded",()=>{const p=f.result;try{p.createObjectStore(Vl,{keyPath:Jh})}catch(_){d(_)}}),f.addEventListener("success",(0,C.Z)(function*(){const p=f.result;p.objectStoreNames.contains(Vl)?u(p):(p.close(),yield function Ra(){const f=indexedDB.deleteDatabase(gu);return new uo(f).toPromise()}(),u(yield mu()))}))})}function NE(f,u,d){return jm.apply(this,arguments)}function jm(){return(jm=(0,C.Z)(function*(f,u,d){const p=ho(f,!0).put({[Jh]:u,value:d});return new uo(p).toPromise()})).apply(this,arguments)}function Xh(){return(Xh=(0,C.Z)(function*(f,u){const d=ho(f,!1).get(u),p=yield new uo(d).toPromise();return void 0===p?null:p.value})).apply(this,arguments)}function Hm(f,u){const d=ho(f,!0).delete(u);return new uo(d).toPromise()}const qm=(()=>{class f{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var d=this;return(0,C.Z)(function*(){return d.db||(d.db=yield mu()),d.db})()}_withRetries(d){var p=this;return(0,C.Z)(function*(){let _=0;for(;;)try{const E=yield p._openDb();return yield d(E)}catch(E){if(_++>3)throw E;p.db&&(p.db.close(),p.db=void 0)}})()}initializeServiceWorkerMessaging(){var d=this;return(0,C.Z)(function*(){return pu()?d.initializeReceiver():d.initializeSender()})()}initializeReceiver(){var d=this;return(0,C.Z)(function*(){d.receiver=ur._getInstance(function Yh(){return pu()?self:null}()),d.receiver._subscribe("keyChanged",function(){var p=(0,C.Z)(function*(_,E){return{keyProcessed:(yield d._poll()).includes(E.key)}});return function(_,E){return p.apply(this,arguments)}}()),d.receiver._subscribe("ping",function(){var p=(0,C.Z)(function*(_,E){return["keyChanged"]});return function(_,E){return p.apply(this,arguments)}}())})()}initializeSender(){var d=this;return(0,C.Z)(function*(){var p,_;if(d.activeServiceWorker=yield function Vm(){return Fl.apply(this,arguments)}(),!d.activeServiceWorker)return;d.sender=new Ci(d.activeServiceWorker);const E=yield d.sender._send("ping",{},800);E&&null!==(p=E[0])&&void 0!==p&&p.fulfilled&&null!==(_=E[0])&&void 0!==_&&_.value.includes("keyChanged")&&(d.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(d){var p=this;return(0,C.Z)(function*(){if(p.sender&&p.activeServiceWorker&&function Um(){var f;return(null===(f=navigator?.serviceWorker)||void 0===f?void 0:f.controller)||null}()===p.activeServiceWorker)try{yield p.sender._send("keyChanged",{key:d},p.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,C.Z)(function*(){try{if(!indexedDB)return!1;const d=yield mu();return yield NE(d,Zh,"1"),yield Hm(d,Zh),!0}catch{}return!1})()}_withPendingWrite(d){var p=this;return(0,C.Z)(function*(){p.pendingWrites++;try{yield d()}finally{p.pendingWrites--}})()}_set(d,p){var _=this;return(0,C.Z)(function*(){return _._withPendingWrite((0,C.Z)(function*(){return yield _._withRetries(E=>NE(E,d,p)),_.localCache[d]=p,_.notifyServiceWorker(d)}))})()}_get(d){var p=this;return(0,C.Z)(function*(){const _=yield p._withRetries(E=>function ZA(f,u){return Xh.apply(this,arguments)}(E,d));return p.localCache[d]=_,_})()}_remove(d){var p=this;return(0,C.Z)(function*(){return p._withPendingWrite((0,C.Z)(function*(){return yield p._withRetries(_=>Hm(_,d)),delete p.localCache[d],p.notifyServiceWorker(d)}))})()}_poll(){var d=this;return(0,C.Z)(function*(){const p=yield d._withRetries(M=>{const U=ho(M,!1).getAll();return new uo(U).toPromise()});if(!p)return[];if(0!==d.pendingWrites)return[];const _=[],E=new Set;for(const{fbase_key:M,value:U}of p)E.add(M),JSON.stringify(d.localCache[M])!==JSON.stringify(U)&&(d.notifyListeners(M,U),_.push(M));for(const M of Object.keys(d.localCache))d.localCache[M]&&!E.has(M)&&(d.notifyListeners(M,null),_.push(M));return _})()}notifyListeners(d,p){this.localCache[d]=p;const _=this.listeners[d];if(_)for(const E of Array.from(_))E(p)}startPolling(){var d=this;this.stopPolling(),this.pollTimer=setInterval((0,C.Z)(function*(){return d._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(d,p){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[d]||(this.listeners[d]=new Set,this._get(d)),this.listeners[d].add(p)}_removeListener(d,p){this.listeners[d]&&(this.listeners[d].delete(p),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return f.type="LOCAL",f})(),Ul=1e12;class LE{constructor(u){this.auth=u,this.counter=Ul,this._widgets=new Map}render(u,d){const p=this.counter;return this._widgets.set(p,new FE(u,this.auth.name,d||{})),this.counter++,p}reset(u){var d;const p=u||Ul;null===(d=this._widgets.get(p))||void 0===d||d.delete(),this._widgets.delete(p)}getResponse(u){var d;return(null===(d=this._widgets.get(u||Ul))||void 0===d?void 0:d.getResponse())||""}execute(u){var d=this;return(0,C.Z)(function*(){var p;return null===(p=d._widgets.get(u||Ul))||void 0===p||p.execute(),""})()}}class FE{constructor(u,d,p){this.params=p,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const _="string"==typeof u?document.getElementById(u):u;ae(_,"argument-error",{appName:d}),this.container=_,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function VE(f){const u=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let p=0;p<f;p++)u.push(d.charAt(Math.floor(62*Math.random())));return u.join("")}(50);const{callback:u,"expired-callback":d}=this.params;if(u)try{u(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,d)try{d()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const _u=IE("rcb"),UE=new ri(3e4,6e4);class BE{constructor(){var u;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(u=An().grecaptcha)||void 0===u||!u.render)}load(u,d=""){return ae(function YA(f){return f.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(f)}(d),u,"argument-error"),this.shouldResolveImmediately(d)&&qn(An().grecaptcha)?Promise.resolve(An().grecaptcha):new Promise((p,_)=>{const E=An().setTimeout(()=>{_(Ut(u,"network-request-failed"))},UE.get());An()[_u]=()=>{An().clearTimeout(E),delete An()[_u];const U=An().grecaptcha;if(!U||!qn(U))return void _(Ut(u,"internal-error"));const se=U.render;U.render=(De,Be)=>{const wt=se(De,Be);return this.counter++,wt},this.hostLanguage=d,p(U)},fm(`https://www.google.com/recaptcha/api.js??${(0,W.xO)({onload:_u,render:"explicit",hl:d})}`).catch(()=>{clearTimeout(E),_(Ut(u,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(u){var d;return!(null===(d=An().grecaptcha)||void 0===d||!d.render)&&(u===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class jE{load(u){return(0,C.Z)(function*(){return new LE(u)})()}clearedOneInstance(){}}const $r="recaptcha",Km={theme:"light",type:"image"};class HE{constructor(u,d,p=Object.assign({},Km)){this.parameters=p,this.type=$r,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=_n(u),this.isInvisible="invisible"===this.parameters.size,ae(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const _="string"==typeof d?document.getElementById(d):d;ae(_,this.auth,"argument-error"),this.container=_,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new jE:new BE,this.validateStartingState()}verify(){var u=this;return(0,C.Z)(function*(){u.assertNotDestroyed();const d=yield u.render(),p=u.getAssertedRecaptcha();return p.getResponse(d)||new Promise(E=>{const M=U=>{U&&(u.tokenChangeListeners.delete(M),E(U))};u.tokenChangeListeners.add(M),u.isInvisible&&p.execute(d)})})()}render(){try{this.assertNotDestroyed()}catch(u){return Promise.reject(u)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(u=>{throw this.renderPromise=null,u})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(u=>{this.container.removeChild(u)})}validateStartingState(){ae(!this.parameters.sitekey,this.auth,"argument-error"),ae(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ae(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(u){return d=>{if(this.tokenChangeListeners.forEach(p=>p(d)),"function"==typeof u)u(d);else if("string"==typeof u){const p=An()[u];"function"==typeof p&&p(d)}}}assertNotDestroyed(){ae(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var u=this;return(0,C.Z)(function*(){if(yield u.init(),!u.widgetId){let d=u.container;if(!u.isInvisible){const p=document.createElement("div");d.appendChild(p),d=p}u.widgetId=u.getAssertedRecaptcha().render(d,u.parameters)}return u.widgetId})()}init(){var u=this;return(0,C.Z)(function*(){ae(Mn()&&!pu(),u.auth,"internal-error"),yield function $E(){let f=null;return new Promise(u=>{"complete"!==document.readyState?(f=()=>u(),window.addEventListener("load",f)):u()}).catch(u=>{throw f&&window.removeEventListener("load",f),u})}(),u.recaptcha=yield u._recaptchaLoader.load(u.auth,u.auth.languageCode||void 0);const d=yield function Vr(f){return Vi.apply(this,arguments)}(u.auth);ae(d,u.auth,"internal-error"),u.parameters.sitekey=d})()}getAssertedRecaptcha(){return ae(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class yu{constructor(u,d){this.verificationId=u,this.onConfirmation=d}confirm(u){const d=_e._fromVerification(this.verificationId,u);return this.onConfirmation(d)}}function Zm(f,u,d){return nf.apply(this,arguments)}function nf(){return(nf=(0,C.Z)(function*(f,u,d){const p=_n(f),_=yield Bl(p,u,(0,W.m9)(d));return new yu(_,E=>au(p,E))})).apply(this,arguments)}function rf(f,u,d){return sf.apply(this,arguments)}function sf(){return(sf=(0,C.Z)(function*(f,u,d){const p=(0,W.m9)(f);yield jr(!1,p,"phone");const _=yield Bl(p.auth,u,(0,W.m9)(d));return new yu(_,E=>Sm(p,E))})).apply(this,arguments)}function ys(f,u,d){return vu.apply(this,arguments)}function vu(){return(vu=(0,C.Z)(function*(f,u,d){const p=(0,W.m9)(f),_=yield Bl(p.auth,u,(0,W.m9)(d));return new yu(_,E=>Dm(p,E))})).apply(this,arguments)}function Bl(f,u,d){return qt.apply(this,arguments)}function qt(){return qt=(0,C.Z)(function*(f,u,d){var p;const _=yield d.verify();try{let E;if(ae("string"==typeof _,f,"argument-error"),ae(d.type===$r,f,"argument-error"),E="string"==typeof u?{phoneNumber:u}:u,"session"in E){const M=E.session;if("phoneNumber"in E)return ae("enroll"===M.type,f,"internal-error"),(yield function HA(f,u){return te(f,"POST","/v2/accounts/mfaEnrollment:start",B(f,u))}(f,{idToken:M.credential,phoneEnrollmentInfo:{phoneNumber:E.phoneNumber,recaptchaToken:_}})).phoneSessionInfo.sessionInfo;{ae("signin"===M.type,f,"internal-error");const U=(null===(p=E.multiFactorHint)||void 0===p?void 0:p.uid)||E.multiFactorUid;return ae(U,f,"missing-multi-factor-info"),(yield function ef(f,u){return te(f,"POST","/v2/accounts/mfaSignIn:start",B(f,u))}(f,{mfaPendingCredential:M.credential,mfaEnrollmentId:U,phoneSignInInfo:{recaptchaToken:_}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:M}=yield function SE(f,u){return Mh.apply(this,arguments)}(f,{phoneNumber:E.phoneNumber,recaptchaToken:_});return M}}finally{d._reset()}}),qt.apply(this,arguments)}function af(f,u){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,C.Z)(function*(f,u){yield Vh((0,W.m9)(f),u)})).apply(this,arguments)}let zr=(()=>{class f{constructor(d){this.providerId=f.PROVIDER_ID,this.auth=_n(d)}verifyPhoneNumber(d,p){return Bl(this.auth,d,(0,W.m9)(p))}static credential(d,p){return _e._fromVerification(d,p)}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{phoneNumber:p,temporaryProof:_}=d;return p&&_?_e._fromTokenResponse(p,_):null}}return f.PROVIDER_ID="phone",f.PHONE_SIGN_IN_METHOD="phone",f})();function jo(f,u){return u?G(u):(ae(f._popupRedirectResolver,f,"argument-error"),f._popupRedirectResolver)}class Iu extends va{constructor(u){super("custom","custom"),this.params=u}_getIdTokenResponse(u){return ui(u,this._buildIdpRequest())}_linkToIdToken(u,d){return ui(u,this._buildIdpRequest(d))}_getReauthenticationResolver(u){return ui(u,this._buildIdpRequest())}_buildIdpRequest(u){const d={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return u&&(d.idToken=u),d}}function xa(f){return Cm(f.auth,new Iu(f),f.bypassAuthState)}function pi(f){const{auth:u,user:d}=f;return ae(d,u,"internal-error"),jh(d,new Iu(f),f.bypassAuthState)}function zE(f){return lf.apply(this,arguments)}function lf(){return(lf=(0,C.Z)(function*(f){const{auth:u,user:d}=f;return ae(d,u,"internal-error"),Vh(d,new Iu(f),f.bypassAuthState)})).apply(this,arguments)}class Qm{constructor(u,d,p,_,E=!1){this.auth=u,this.resolver=p,this.user=_,this.bypassAuthState=E,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(d)?d:[d]}execute(){var u=this;return new Promise(function(){var d=(0,C.Z)(function*(p,_){u.pendingPromise={resolve:p,reject:_};try{u.eventManager=yield u.resolver._initialize(u.auth),yield u.onExecution(),u.eventManager.registerConsumer(u)}catch(E){u.reject(E)}});return function(p,_){return d.apply(this,arguments)}}())}onAuthEvent(u){var d=this;return(0,C.Z)(function*(){const{urlResponse:p,sessionId:_,postBody:E,tenantId:M,error:U,type:se}=u;if(U)return void d.reject(U);const De={auth:d.auth,requestUri:p,sessionId:_,tenantId:M||void 0,postBody:E||void 0,user:d.user,bypassAuthState:d.bypassAuthState};try{d.resolve(yield d.getIdpTask(se)(De))}catch(Be){d.reject(Be)}})()}onError(u){this.reject(u)}getIdpTask(u){switch(u){case"signInViaPopup":case"signInViaRedirect":return xa;case"linkViaPopup":case"linkViaRedirect":return zE;case"reauthViaPopup":case"reauthViaRedirect":return pi;default:yt(this.auth,"internal-error")}}resolve(u){tn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(u),this.unregisterAndCleanUp()}reject(u){tn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(u),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const fo=new ri(2e3,1e4);function Ym(f,u,d){return cf.apply(this,arguments)}function cf(){return(cf=(0,C.Z)(function*(f,u,d){const p=_n(f);Vn(f,u,xs);const _=jo(p,d);return new qe(p,"signInViaPopup",u,_).executeNotNull()})).apply(this,arguments)}function Jm(f,u,d){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,C.Z)(function*(f,u,d){const p=(0,W.m9)(f);Vn(p.auth,u,xs);const _=jo(p.auth,d);return new qe(p.auth,"reauthViaPopup",u,_,p).executeNotNull()})).apply(this,arguments)}function Xm(f,u,d){return uf.apply(this,arguments)}function uf(){return(uf=(0,C.Z)(function*(f,u,d){const p=(0,W.m9)(f);Vn(p.auth,u,xs);const _=jo(p.auth,d);return new qe(p.auth,"linkViaPopup",u,_,p).executeNotNull()})).apply(this,arguments)}let qe=(()=>{class f extends Qm{constructor(d,p,_,E,M){super(d,p,E,M),this.provider=_,this.authWindow=null,this.pollId=null,f.currentPopupAction&&f.currentPopupAction.cancel(),f.currentPopupAction=this}executeNotNull(){var d=this;return(0,C.Z)(function*(){const p=yield d.execute();return ae(p,d.auth,"internal-error"),p})()}onExecution(){var d=this;return(0,C.Z)(function*(){tn(1===d.filter.length,"Popup operations only handle one event");const p=co();d.authWindow=yield d.resolver._openPopup(d.auth,d.provider,d.filter[0],p),d.authWindow.associatedEvent=p,d.resolver._originValidation(d.auth).catch(_=>{d.reject(_)}),d.resolver._isIframeWebStorageSupported(d.auth,_=>{_||d.reject(Ut(d.auth,"web-storage-unsupported"))}),d.pollUserCancellation()})()}get eventId(){var d;return(null===(d=this.authWindow)||void 0===d?void 0:d.associatedEvent)||null}cancel(){this.reject(Ut(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,f.currentPopupAction=null}pollUserCancellation(){const d=()=>{var p,_;this.pollId=null!==(_=null===(p=this.authWindow)||void 0===p?void 0:p.window)&&void 0!==_&&_.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ut(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(d,fo.get())};d()}}return f.currentPopupAction=null,f})();const e_="pendingRedirect",wu=new Map;class qE extends Qm{constructor(u,d,p=!1){super(u,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],d,void 0,p),this.eventId=null}execute(){var u=()=>super.execute,d=this;return(0,C.Z)(function*(){let p=wu.get(d.auth._key());if(!p){try{const E=(yield function GE(f,u){return df.apply(this,arguments)}(d.resolver,d.auth))?yield u().call(d):null;p=()=>Promise.resolve(E)}catch(_){p=()=>Promise.reject(_)}wu.set(d.auth._key(),p)}return d.bypassAuthState||wu.set(d.auth._key(),()=>Promise.resolve(null)),p()})()}onAuthEvent(u){var d=()=>super.onAuthEvent,p=this;return(0,C.Z)(function*(){if("signInViaRedirect"===u.type)return d().call(p,u);if("unknown"!==u.type){if(u.eventId){const _=yield p.auth._redirectUserForId(u.eventId);if(_)return p.user=_,d().call(p,u);p.resolve(null)}}else p.resolve(null)})()}onExecution(){return(0,C.Z)(function*(){})()}cleanUp(){}}function df(){return(df=(0,C.Z)(function*(f,u){const d=r_(u),p=n_(f);if(!(yield p._isAvailable()))return!1;const _="true"===(yield p._get(d));return yield p._remove(d),_})).apply(this,arguments)}function bu(f,u){return po.apply(this,arguments)}function po(){return(po=(0,C.Z)(function*(f,u){return n_(f)._set(r_(u),"true")})).apply(this,arguments)}function WE(){wu.clear()}function t_(f,u){wu.set(f._key(),u)}function n_(f){return G(f._redirectPersistence)}function r_(f){return Ge(e_,f.config.apiKey,f.name)}function KE(f,u,d){return function re(f,u,d){return Et.apply(this,arguments)}(f,u,d)}function Et(){return(Et=(0,C.Z)(function*(f,u,d){const p=_n(f);Vn(f,u,xs),yield p._initializationPromise;const _=jo(p,d);return yield bu(_,p),_._openRedirect(p,u,"signInViaRedirect")})).apply(this,arguments)}function Xe(f,u,d){return function et(f,u,d){return Qn.apply(this,arguments)}(f,u,d)}function Qn(){return(Qn=(0,C.Z)(function*(f,u,d){const p=(0,W.m9)(f);Vn(p.auth,u,xs),yield p.auth._initializationPromise;const _=jo(p.auth,d);yield bu(_,p.auth);const E=yield pf(p);return _._openRedirect(p.auth,u,"reauthViaRedirect",E)})).apply(this,arguments)}function i_(f,u,d){return function jl(f,u,d){return Si.apply(this,arguments)}(f,u,d)}function Si(){return(Si=(0,C.Z)(function*(f,u,d){const p=(0,W.m9)(f);Vn(p.auth,u,xs),yield p.auth._initializationPromise;const _=jo(p.auth,d);yield jr(!1,p,u.providerId),yield bu(_,p.auth);const E=yield pf(p);return _._openRedirect(p.auth,u,"linkViaRedirect",E)})).apply(this,arguments)}function hf(f,u){return Hl.apply(this,arguments)}function Hl(){return(Hl=(0,C.Z)(function*(f,u){return yield _n(f)._initializationPromise,ff(f,u,!1)})).apply(this,arguments)}function ff(f,u){return s_.apply(this,arguments)}function s_(){return(s_=(0,C.Z)(function*(f,u,d=!1){const p=_n(f),_=jo(p,u),M=yield new qE(p,_,d).execute();return M&&!d&&(delete M.user._redirectEventId,yield p._persistUserIfCurrent(M.user),yield p._setRedirectUser(null,u)),M})).apply(this,arguments)}function pf(f){return dr.apply(this,arguments)}function dr(){return(dr=(0,C.Z)(function*(f){const u=co(`${f.uid}:::`);return f._redirectEventId=u,yield f.auth._setRedirectUser(f),yield f.auth._persistUserIfCurrent(f),u})).apply(this,arguments)}class gf{constructor(u){this.auth=u,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(u){this.consumers.add(u),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,u)&&(this.sendToConsumer(this.queuedRedirectEvent,u),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(u){this.consumers.delete(u)}onEvent(u){if(this.hasEventBeenHandled(u))return!1;let d=!1;return this.consumers.forEach(p=>{this.isEventForConsumer(u,p)&&(d=!0,this.sendToConsumer(u,p),this.saveEventToCache(u))}),this.hasHandledPotentialRedirect||!function ZE(f){switch(f.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vs(f);default:return!1}}(u)||(this.hasHandledPotentialRedirect=!0,d||(this.queuedRedirectEvent=u,d=!0)),d}sendToConsumer(u,d){var p;if(u.error&&!vs(u)){const _=(null===(p=u.error.code)||void 0===p?void 0:p.split("auth/")[1])||"internal-error";d.onError(Ut(this.auth,_))}else d.onAuthEvent(u)}isEventForConsumer(u,d){const p=null===d.eventId||!!u.eventId&&u.eventId===d.eventId;return d.filter.includes(u.type)&&p}hasEventBeenHandled(u){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ho(u))}saveEventToCache(u){this.cachedEventUids.add(Ho(u)),this.lastProcessedEventTime=Date.now()}}function Ho(f){return[f.type,f.eventId,f.sessionId,f.tenantId].filter(u=>u).join("-")}function vs({type:f,error:u}){return"unknown"===f&&"auth/no-auth-event"===u?.code}function mf(f){return _f.apply(this,arguments)}function _f(){return(_f=(0,C.Z)(function*(f,u={}){return te(f,"GET","/v1/projects",u)})).apply(this,arguments)}const QE=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yf=/^https?/;function Tu(){return(Tu=(0,C.Z)(function*(f){if(f.config.emulator)return;const{authorizedDomains:u}=yield mf(f);for(const d of u)try{if(If(d))return}catch{}yt(f,"unauthorized-domain")})).apply(this,arguments)}function If(f){const u=Cn(),{protocol:d,hostname:p}=new URL(u);if(f.startsWith("chrome-extension://")){const M=new URL(f);return""===M.hostname&&""===p?"chrome-extension:"===d&&f.replace("chrome-extension://","")===u.replace("chrome-extension://",""):"chrome-extension:"===d&&M.hostname===p}if(!yf.test(d))return!1;if(QE.test(f))return p===f;const _=f.replace(/\./g,"\\.");return new RegExp("^(.+\\."+_+"|"+_+")$","i").test(p)}const YE=new ri(3e4,6e4);function Ef(){const f=An().___jsl;if(f?.H)for(const u of Object.keys(f.H))if(f.H[u].r=f.H[u].r||[],f.H[u].L=f.H[u].L||[],f.H[u].r=[...f.H[u].L],f.CP)for(let d=0;d<f.CP.length;d++)f.CP[d]=null}let $l=null;const a_=new ri(5e3,15e3),l_="__/auth/iframe",bf="emulator/auth/iframe",JE={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},XE=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Rr(f){const u=f.config;ae(u.authDomain,f,"auth-domain-config-required");const d=u.emulator?rs(u,bf):`https://${f.config.authDomain}/${l_}`,p={apiKey:u.apiKey,appName:f.name,v:N.SDK_VERSION},_=XE.get(f.config.apiHost);_&&(p.eid=_);const E=f._getFrameworks();return E.length&&(p.fw=E.join(",")),`${d}?${(0,W.xO)(p).slice(1)}`}function sn(){return sn=(0,C.Z)(function*(f){const u=yield function o_(f){return $l=$l||function wf(f){return new Promise((u,d)=>{var p,_,E;function M(){Ef(),gapi.load("gapi.iframes",{callback:()=>{u(gapi.iframes.getContext())},ontimeout:()=>{Ef(),d(Ut(f,"network-request-failed"))},timeout:YE.get()})}if(null!==(_=null===(p=An().gapi)||void 0===p?void 0:p.iframes)&&void 0!==_&&_.Iframe)u(gapi.iframes.getContext());else{if(null===(E=An().gapi)||void 0===E||!E.load){const U=IE("iframefcb");return An()[U]=()=>{gapi.load?M():d(Ut(f,"network-request-failed"))},fm(`https://apis.google.com/js/api.js?onload=${U}`).catch(se=>d(se))}M()}}).catch(u=>{throw $l=null,u})}(f),$l}(f),d=An().gapi;return ae(d,f,"internal-error"),u.open({where:document.body,url:Rr(f),messageHandlersFilter:d.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:JE,dontclear:!0},p=>new Promise(function(){var _=(0,C.Z)(function*(E,M){yield p.restyle({setHideOnLeave:!1});const U=Ut(f,"network-request-failed"),se=An().setTimeout(()=>{M(U)},a_.get());function De(){An().clearTimeout(se),E(p)}p.ping(De).then(De,()=>{M(U)})});return function(E,M){return _.apply(this,arguments)}}()))}),sn.apply(this,arguments)}const zo={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Tf{constructor(u){this.window=u,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const rw="__/auth/handler",Su="emulator/auth/handler",Du=encodeURIComponent("fac");function Ma(f,u,d,p,_,E){return zl.apply(this,arguments)}function zl(){return(zl=(0,C.Z)(function*(f,u,d,p,_,E){ae(f.config.authDomain,f,"auth-domain-config-required"),ae(f.config.apiKey,f,"invalid-api-key");const M={apiKey:f.config.apiKey,appName:f.name,authType:d,redirectUrl:p,v:N.SDK_VERSION,eventId:_};if(u instanceof xs){u.setDefaultLanguage(f.languageCode),M.providerId=u.providerId||"",(0,W.xb)(u.getCustomParameters())||(M.customParameters=JSON.stringify(u.getCustomParameters()));for(const[Be,wt]of Object.entries(E||{}))M[Be]=wt}if(u instanceof Br){const Be=u.getScopes().filter(wt=>""!==wt);Be.length>0&&(M.scopes=Be.join(","))}f.tenantId&&(M.tid=f.tenantId);const U=M;for(const Be of Object.keys(U))void 0===U[Be]&&delete U[Be];const se=yield f._getAppCheckToken(),De=se?`#${Du}=${encodeURIComponent(se)}`:"";return`${function u_({config:f}){return f.emulator?rs(f,Su):`https://${f.authDomain}/${rw}`}(f)}?${(0,W.xO)(U).slice(1)}${De}`})).apply(this,arguments)}const Au="webStorageSupport",qo=class iw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Lm,this._completeRedirectFn=ff,this._overrideRedirectResult=t_}_openPopup(u,d,p,_){var E=this;return(0,C.Z)(function*(){var M;tn(null===(M=E.eventManagers[u._key()])||void 0===M?void 0:M.manager,"_initialize() not called before _openPopup()");const U=yield Ma(u,d,p,Cn(),_);return function Cu(f,u,d,p=500,_=600){const E=Math.max((window.screen.availHeight-_)/2,0).toString(),M=Math.max((window.screen.availWidth-p)/2,0).toString();let U="";const se=Object.assign(Object.assign({},zo),{width:p.toString(),height:_.toString(),top:E,left:M}),De=(0,W.z$)().toLowerCase();d&&(U=nr(De)?"_blank":d),$t(De)&&(u=u||"http://localhost",se.scrollbars="yes");const Be=Object.entries(se).reduce((Pr,[ks,Pu])=>`${Pr}${ks}=${Pu},`,"");if(function ft(f=(0,W.z$)()){var u;return Pe(f)&&!(null===(u=window.navigator)||void 0===u||!u.standalone)}(De)&&"_self"!==U)return function go(f,u){const d=document.createElement("a");d.href=f,d.target=u;const p=document.createEvent("MouseEvent");p.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),d.dispatchEvent(p)}(u||"",U),new Tf(null);const wt=window.open(u||"",U,Be);ae(wt,f,"popup-blocked");try{wt.focus()}catch{}return new Tf(wt)}(u,U,co())})()}_openRedirect(u,d,p,_){var E=this;return(0,C.Z)(function*(){return yield E._originValidation(u),function Fm(f){An().location.href=f}(yield Ma(u,d,p,Cn(),_)),new Promise(()=>{})})()}_initialize(u){const d=u._key();if(this.eventManagers[d]){const{manager:_,promise:E}=this.eventManagers[d];return _?Promise.resolve(_):(tn(E,"If manager is not set, promise should be"),E)}const p=this.initAndGetManager(u);return this.eventManagers[d]={promise:p},p.catch(()=>{delete this.eventManagers[d]}),p}initAndGetManager(u){var d=this;return(0,C.Z)(function*(){const p=yield function $o(f){return sn.apply(this,arguments)}(u),_=new gf(u);return p.register("authEvent",E=>(ae(E?.authEvent,u,"invalid-auth-event"),{status:_.onEvent(E.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),d.eventManagers[u._key()]={manager:_},d.iframes[u._key()]=p,_})()}_isIframeWebStorageSupported(u,d){this.iframes[u._key()].send(Au,{type:Au},_=>{var E;const M=null===(E=_?.[0])||void 0===E?void 0:E[Au];void 0!==M&&d(!!M),yt(u,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(u){const d=u._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function vf(f){return Tu.apply(this,arguments)}(u)),this.originValidationPromises[d]}get _shouldInitProactively(){return On()||Oe()||Pe()}};class ql{constructor(u){this.factorId=u}_process(u,d,p){switch(d.type){case"enroll":return this._finalizeEnroll(u,d.credential,p);case"signin":return this._finalizeSignIn(u,d.credential);default:return bt("unexpected MultiFactorSessionType")}}}class Cf extends ql{constructor(u){super("phone"),this.credential=u}static _fromCredential(u){return new Cf(u)}_finalizeEnroll(u,d,p){return function $A(f,u){return te(f,"POST","/v2/accounts/mfaEnrollment:finalize",B(f,u))}(u,{idToken:d,displayName:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(u,d){return function tf(f,u){return te(f,"POST","/v2/accounts/mfaSignIn:finalize",B(f,u))}(u,{mfaPendingCredential:d,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let JA=(()=>{class f{constructor(){}static assertion(d){return Cf._fromCredential(d)}}return f.FACTOR_ID="phone",f})();var sw="@firebase/auth";class Sf{constructor(u){this.auth=u,this.internalListeners=new Map}getUid(){var u;return this.assertAuthConfigured(),(null===(u=this.auth.currentUser)||void 0===u?void 0:u.uid)||null}getToken(u){var d=this;return(0,C.Z)(function*(){return d.assertAuthConfigured(),yield d.auth._initializationPromise,d.auth.currentUser?{accessToken:yield d.auth.currentUser.getIdToken(u)}:null})()}addAuthTokenListener(u){if(this.assertAuthConfigured(),this.internalListeners.has(u))return;const d=this.auth.onIdTokenChanged(p=>{u(p?.stsTokenManager.accessToken||null)});this.internalListeners.set(u,d),this.updateProactiveRefresh()}removeAuthTokenListener(u){this.assertAuthConfigured();const d=this.internalListeners.get(u);d&&(this.internalListeners.delete(u),d(),this.updateProactiveRefresh())}assertAuthConfigured(){ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,W.Pz)("authIdTokenMaxAge"),function aw(f){(0,N._registerComponent)(new pn.wA("auth",(u,{options:d})=>{const p=u.getProvider("app").getImmediate(),_=u.getProvider("heartbeat"),E=u.getProvider("app-check-internal"),{apiKey:M,authDomain:U}=p.options;ae(M&&!M.includes(":"),"invalid-api-key",{appName:p.name});const se={apiKey:M,authDomain:U,clientPlatform:f,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_t(f)},De=new AA(p,_,E,se);return function Te(f,u){const d=u?.persistence||[],p=(Array.isArray(d)?d:[d]).map(G);u?.errorMap&&f._updateErrorMap(u.errorMap),f._initializeWithPersistence(p,u?.popupRedirectResolver)}(De,d),De},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((u,d,p)=>{u.getProvider("auth-internal").initialize()})),(0,N._registerComponent)(new pn.wA("auth-internal",u=>{const d=_n(u.getProvider("auth").getImmediate());return new Sf(d)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,N.registerVersion)(sw,"1.4.0",function Gl(f){switch(f){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(f)),(0,N.registerVersion)(sw,"1.4.0","esm2017")}("Browser")},58:(ns,$n,He)=>{He.d($n,{BH:()=>ni,G6:()=>rs,L:()=>St,LL:()=>ee,Pz:()=>Ut,Sg:()=>Vn,UG:()=>bt,ZB:()=>Re,ZR:()=>te,aH:()=>yt,b$:()=>Mn,eu:()=>z,hl:()=>j,jU:()=>tn,m9:()=>cs,ne:()=>ii,pd:()=>Bi,r3:()=>Gn,ru:()=>Cn,tV:()=>X,uI:()=>ae,vZ:()=>is,w1:()=>Fi,xO:()=>os,xb:()=>Vr,z$:()=>ct,zd:()=>Ui});const xe=function(R){const D=[];let I=0;for(let b=0;b<R.length;b++){let v=R.charCodeAt(b);v<128?D[I++]=v:v<2048?(D[I++]=v>>6|192,D[I++]=63&v|128):55296==(64512&v)&&b+1<R.length&&56320==(64512&R.charCodeAt(b+1))?(v=65536+((1023&v)<<10)+(1023&R.charCodeAt(++b)),D[I++]=v>>18|240,D[I++]=v>>12&63|128,D[I++]=v>>6&63|128,D[I++]=63&v|128):(D[I++]=v>>12|224,D[I++]=v>>6&63|128,D[I++]=63&v|128)}return D},pn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(R,D){if(!Array.isArray(R))throw Error("encodeByteArray takes an array as a parameter");this.init_();const I=D?this.byteToCharMapWebSafe_:this.byteToCharMap_,b=[];for(let v=0;v<R.length;v+=3){const A=R[v],G=v+1<R.length,be=G?R[v+1]:0,Se=v+2<R.length,Ge=Se?R[v+2]:0;let $t=(15&be)<<2|Ge>>6,Oe=63&Ge;Se||(Oe=64,G||($t=64)),b.push(I[A>>2],I[(3&A)<<4|be>>4],I[$t],I[Oe])}return b.join("")},encodeString(R,D){return this.HAS_NATIVE_SUPPORT&&!D?btoa(R):this.encodeByteArray(xe(R),D)},decodeString(R,D){return this.HAS_NATIVE_SUPPORT&&!D?atob(R):function(R){const D=[];let I=0,b=0;for(;I<R.length;){const v=R[I++];if(v<128)D[b++]=String.fromCharCode(v);else if(v>191&&v<224){const A=R[I++];D[b++]=String.fromCharCode((31&v)<<6|63&A)}else if(v>239&&v<365){const Se=((7&v)<<18|(63&R[I++])<<12|(63&R[I++])<<6|63&R[I++])-65536;D[b++]=String.fromCharCode(55296+(Se>>10)),D[b++]=String.fromCharCode(56320+(1023&Se))}else{const A=R[I++],G=R[I++];D[b++]=String.fromCharCode((15&v)<<12|(63&A)<<6|63&G)}}return D.join("")}(this.decodeStringToByteArray(R,D))},decodeStringToByteArray(R,D){this.init_();const I=D?this.charToByteMapWebSafe_:this.charToByteMap_,b=[];for(let v=0;v<R.length;){const A=I[R.charAt(v++)],be=v<R.length?I[R.charAt(v)]:0;++v;const Ge=v<R.length?I[R.charAt(v)]:64;++v;const Ie=v<R.length?I[R.charAt(v)]:64;if(++v,null==A||null==be||null==Ge||null==Ie)throw new xn;b.push(A<<2|be>>4),64!==Ge&&(b.push(be<<4&240|Ge>>2),64!==Ie&&b.push(Ge<<6&192|Ie))}return b},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let R=0;R<this.ENCODED_VALS.length;R++)this.byteToCharMap_[R]=this.ENCODED_VALS.charAt(R),this.charToByteMap_[this.byteToCharMap_[R]]=R,this.byteToCharMapWebSafe_[R]=this.ENCODED_VALS_WEBSAFE.charAt(R),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[R]]=R,R>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(R)]=R,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(R)]=R)}}};class xn extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const St=function(R){return function(R){const D=xe(R);return pn.encodeByteArray(D,!0)}(R).replace(/\./g,"")},X=function(R){try{return pn.decodeString(R,!0)}catch(D){console.error("base64Decode failed: ",D)}return null};function Re(R,D){if(!(D instanceof Object))return D;switch(D.constructor){case Date:return new Date(D.getTime());case Object:void 0===R&&(R={});break;case Array:R=[];break;default:return D}for(const I in D)!D.hasOwnProperty(I)||!rt(I)||(R[I]=Re(R[I],D[I]));return R}function rt(R){return"__proto__"!==R}const Je=()=>{try{return function xt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const R=process.env.__FIREBASE_DEFAULTS__;return R?JSON.parse(R):void 0})()||(()=>{if(typeof document>"u")return;let R;try{R=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const D=R&&X(R[1]);return D&&JSON.parse(D)})()}catch(R){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${R}`)}},yt=()=>{var R;return null===(R=Je())||void 0===R?void 0:R.config},Ut=R=>{var D;return null===(D=Je())||void 0===D?void 0:D[`_${R}`]};class ni{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((D,I)=>{this.resolve=D,this.reject=I})}wrapCallback(D){return(I,b)=>{I?this.reject(I):this.resolve(b),"function"==typeof D&&(this.promise.catch(()=>{}),1===D.length?D(I):D(I,b))}}}function Vn(R,D){if(R.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const b=D||"demo-project",v=R.iat||0,A=R.sub||R.user_id;if(!A)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const G=Object.assign({iss:`https://securetoken.google.com/${b}`,aud:b,iat:v,exp:v+3600,auth_time:v,sub:A,user_id:A,firebase:{sign_in_provider:"custom",identities:{}}},R);return[St(JSON.stringify({alg:"none",type:"JWT"})),St(JSON.stringify(G)),""].join(".")}function ct(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ae(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ct())}function bt(){var R;const D=null===(R=Je())||void 0===R?void 0:R.forceEnvironment;if("node"===D)return!0;if("browser"===D)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function tn(){return"object"==typeof self&&self.self===self}function Cn(){const R="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof R&&void 0!==R.id}function Mn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Fi(){const R=ct();return R.indexOf("MSIE ")>=0||R.indexOf("Trident/")>=0}function rs(){return!bt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function j(){try{return"object"==typeof indexedDB}catch{return!1}}function z(){return new Promise((R,D)=>{try{let I=!0;const b="validate-browser-context-for-indexeddb-analytics-module",v=self.indexedDB.open(b);v.onsuccess=()=>{v.result.close(),I||self.indexedDB.deleteDatabase(b),R(!0)},v.onupgradeneeded=()=>{I=!1},v.onerror=()=>{var A;D((null===(A=v.error)||void 0===A?void 0:A.message)||"")}}catch(I){D(I)}})}class te extends Error{constructor(D,I,b){super(I),this.code=D,this.customData=b,this.name="FirebaseError",Object.setPrototypeOf(this,te.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ee.prototype.create)}}class ee{constructor(D,I,b){this.service=D,this.serviceName=I,this.errors=b}create(D,...I){const b=I[0]||{},v=`${this.service}/${D}`,A=this.errors[D],G=A?function pe(R,D){return R.replace(mt,(I,b)=>{const v=D[b];return null!=v?String(v):`<${b}?>`})}(A,b):"Error";return new te(v,`${this.serviceName}: ${G} (${v}).`,b)}}const mt=/\{\$([^}]+)}/g;function Gn(R,D){return Object.prototype.hasOwnProperty.call(R,D)}function Vr(R){for(const D in R)if(Object.prototype.hasOwnProperty.call(R,D))return!1;return!0}function is(R,D){if(R===D)return!0;const I=Object.keys(R),b=Object.keys(D);for(const v of I){if(!b.includes(v))return!1;const A=R[v],G=D[v];if(Tt(A)&&Tt(G)){if(!is(A,G))return!1}else if(A!==G)return!1}for(const v of b)if(!I.includes(v))return!1;return!0}function Tt(R){return null!==R&&"object"==typeof R}function os(R){const D=[];for(const[I,b]of Object.entries(R))Array.isArray(b)?b.forEach(v=>{D.push(encodeURIComponent(I)+"="+encodeURIComponent(v))}):D.push(encodeURIComponent(I)+"="+encodeURIComponent(b));return D.length?"&"+D.join("&"):""}function Ui(R){const D={};return R.replace(/^\?/,"").split("&").forEach(b=>{if(b){const[v,A]=b.split("=");D[decodeURIComponent(v)]=decodeURIComponent(A)}}),D}function Bi(R){const D=R.indexOf("?");if(!D)return"";const I=R.indexOf("#",D);return R.substring(D,I>0?I:void 0)}function ii(R,D){const I=new si(R,D);return I.subscribe.bind(I)}class si{constructor(D,I){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=I,this.task.then(()=>{D(this)}).catch(b=>{this.error(b)})}next(D){this.forEachObserver(I=>{I.next(D)})}error(D){this.forEachObserver(I=>{I.error(D)}),this.close(D)}complete(){this.forEachObserver(D=>{D.complete()}),this.close()}subscribe(D,I,b){let v;if(void 0===D&&void 0===I&&void 0===b)throw new Error("Missing Observer.");v=function ar(R,D){if("object"!=typeof R||null===R)return!1;for(const I of D)if(I in R&&"function"==typeof R[I])return!0;return!1}(D,["next","error","complete"])?D:{next:D,error:I,complete:b},void 0===v.next&&(v.next=Bt),void 0===v.error&&(v.error=Bt),void 0===v.complete&&(v.complete=Bt);const A=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?v.error(this.finalError):v.complete()}catch{}}),this.observers.push(v),A}unsubscribeOne(D){void 0===this.observers||void 0===this.observers[D]||(delete this.observers[D],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(D){if(!this.finalized)for(let I=0;I<this.observers.length;I++)this.sendOne(I,D)}sendOne(D,I){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[D])try{I(this.observers[D])}catch(b){typeof console<"u"&&console.error&&console.error(b)}})}close(D){this.finalized||(this.finalized=!0,void 0!==D&&(this.finalError=D),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Bt(){}function cs(R){return R&&R._delegate?R._delegate:R}},378:(ns,$n,He)=>{function C(n){return"function"==typeof n}function W(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const N=W(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function xe(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class Pt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(C(r))try{r()}catch(s){e=s instanceof N?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{Yt(s)}catch(o){e=e??[],o instanceof N?e=[...e,...o.errors]:e.push(o)}}if(e)throw new N(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Yt(e);else{if(e instanceof Pt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&xe(t,e)}remove(e){const{_finalizers:t}=this;t&&xe(t,e),e instanceof Pt&&e._removeParent(this)}}Pt.EMPTY=(()=>{const n=new Pt;return n.closed=!0,n})();const pn=Pt.EMPTY;function xn(n){return n instanceof Pt||n&&"closed"in n&&C(n.remove)&&C(n.add)&&C(n.unsubscribe)}function Yt(n){C(n)?n():n.unsubscribe()}const St={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},X={setTimeout(n,e,...t){const{delegate:r}=X;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=X;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function de(n){X.setTimeout(()=>{const{onUnhandledError:e}=St;if(!e)throw n;e(n)})}function Re(){}const rt=vt("C",void 0,void 0);function vt(n,e,t){return{kind:n,value:e,error:t}}let Ye=null;function Je(n){if(St.useDeprecatedSynchronousErrorHandling){const e=!Ye;if(e&&(Ye={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=Ye;if(Ye=null,t)throw r}}else n()}class Tn extends Pt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,xn(e)&&e.add(this)):this.destination=tn}static create(e,t,r){return new Vn(e,t,r)}next(e){this.isStopped?bt(function zn(n){return vt("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?bt(function xt(n){return vt("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?bt(rt,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const yt=Function.prototype.bind;function Ut(n,e){return yt.call(n,e)}class ni{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){ct(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){ct(r)}else ct(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){ct(t)}}}class Vn extends Tn{constructor(e,t,r){let i;if(super(),C(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&St.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Ut(e.next,s),error:e.error&&Ut(e.error,s),complete:e.complete&&Ut(e.complete,s)}):i=e}this.destination=new ni(i)}}function ct(n){St.useDeprecatedSynchronousErrorHandling?function tr(n){St.useDeprecatedSynchronousErrorHandling&&Ye&&(Ye.errorThrown=!0,Ye.error=n)}(n):de(n)}function bt(n,e){const{onStoppedNotification:t}=St;t&&X.setTimeout(()=>t(n,e))}const tn={closed:!0,next:Re,error:function ae(n){throw n},complete:Re},Cn="function"==typeof Symbol&&Symbol.observable||"@@observable";function Mn(n){return n}function Fi(n){return 0===n.length?Mn:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let lt=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function j(n){return n&&n instanceof Tn||function rs(n){return n&&C(n.next)&&C(n.error)&&C(n.complete)}(n)&&xn(n)}(t)?t:new Vn(t,r,i);return Je(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=ri(r))((i,s)=>{const o=new Vn({next:a=>{try{t(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[Cn](){return this}pipe(...t){return Fi(t)(this)}toPromise(t){return new(t=ri(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function ri(n){var e;return null!==(e=n??St.Promise)&&void 0!==e?e:Promise}const z=W(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let q=(()=>{class n extends lt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new B(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new z}next(t){Je(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){Je(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Je(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?pn:(this.currentObservers=null,s.push(t),new Pt(()=>{this.currentObservers=null,xe(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new lt;return t.source=this,t}}return n.create=(e,t)=>new B(e,t),n})();class B extends q{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:pn}}function te(n){return C(n?.lift)}function ee(n){return e=>{if(te(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function pe(n,e,t,r,i){return new mt(n,e,t,r,i)}class mt extends Tn{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Ee(n,e){return ee((t,r)=>{let i=0;t.subscribe(pe(r,s=>{r.next(n.call(e,s,i++))}))})}var Ue=He(582);const Dt=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function ln(n){return C(n?.then)}function Gt(n){return C(n[Cn])}function gn(n){return Symbol.asyncIterator&&C(n?.[Symbol.asyncIterator])}function qn(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const or=function Gn(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Vr(n){return C(n?.[or])}function Vi(n){return(0,Ue.FC)(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield(0,Ue.qq)(t.read());if(i)return yield(0,Ue.qq)(void 0);yield yield(0,Ue.qq)(r)}}finally{t.releaseLock()}})}function is(n){return C(n?.getReader)}function Tt(n){if(n instanceof lt)return n;if(null!=n){if(Gt(n))return function ss(n){return new lt(e=>{const t=n[Cn]();if(C(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Dt(n))return function os(n){return new lt(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(ln(n))return function Ui(n){return new lt(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,de)})}(n);if(gn(n))return yr(n);if(Vr(n))return function Bi(n){return new lt(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(is(n))return function ii(n){return yr(Vi(n))}(n)}throw qn(n)}function yr(n){return new lt(e=>{(function si(n,e){var t,r,i,s;return(0,Ue.mG)(this,void 0,void 0,function*(){try{for(t=(0,Ue.KL)(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function oi(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function Bt(n,e,t=1/0){return C(e)?Bt((r,i)=>Ee((s,o)=>e(r,s,i,o))(Tt(n(r,i))),t):("number"==typeof e&&(t=e),ee((r,i)=>function ar(n,e,t,r,i,s,o,a){const l=[];let c=0,h=0,g=!1;const m=()=>{g&&!l.length&&!c&&e.complete()},y=T=>c<r?w(T):l.push(T),w=T=>{s&&e.next(T),c++;let S=!1;Tt(t(T,h++)).subscribe(pe(e,O=>{i?.(O),s?y(O):e.next(O)},()=>{S=!0},void 0,()=>{if(S)try{for(c--;l.length&&c<r;){const O=l.shift();o?oi(e,o,()=>w(O)):w(O)}m()}catch(O){e.error(O)}}))};return n.subscribe(pe(e,y,()=>{g=!0,m()})),()=>{a?.()}}(r,i,n,t)))}function ai(n=1/0){return Bt(Mn,n)}const Nn=new lt(n=>n.complete());function Sn(n){return n&&C(n.schedule)}function as(n){return n[n.length-1]}function ls(n){return C(as(n))?n.pop():void 0}function ji(n){return Sn(as(n))?n.pop():void 0}function Kn(n,e=0){return ee((t,r)=>{t.subscribe(pe(r,i=>oi(r,n,()=>r.next(i),e),()=>oi(r,n,()=>r.complete(),e),i=>oi(r,n,()=>r.error(i),e)))})}function Dr(n,e=0){return ee((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function cs(n,e){if(!n)throw new Error("Iterable cannot be null");return new lt(t=>{oi(t,e,()=>{const r=n[Symbol.asyncIterator]();oi(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function I(n,e){return e?function D(n,e){if(null!=n){if(Gt(n))return function li(n,e){return Tt(n).pipe(Dr(e),Kn(e))}(n,e);if(Dt(n))return function eo(n,e){return new lt(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(ln(n))return function ya(n,e){return Tt(n).pipe(Dr(e),Kn(e))}(n,e);if(gn(n))return cs(n,e);if(Vr(n))return function ko(n,e){return new lt(t=>{let r;return oi(t,e,()=>{r=n[or](),oi(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>C(r?.return)&&r.return()})}(n,e);if(is(n))return function R(n,e){return cs(Vi(n),e)}(n,e)}throw qn(n)}(n,e):Tt(n)}function b(...n){const e=ji(n),t=function Wn(n,e){return"number"==typeof as(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?Tt(r[0]):ai(t)(I(r,e)):Nn}class v extends q{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function A(...n){return I(n,ji(n))}function G(n={}){const{connector:e=(()=>new q),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o,a,l,c=0,h=!1,g=!1;const m=()=>{a?.unsubscribe(),a=void 0},y=()=>{m(),o=l=void 0,h=g=!1},w=()=>{const T=o;y(),T?.unsubscribe()};return ee((T,S)=>{c++,!g&&!h&&m();const O=l=l??e();S.add(()=>{c--,0===c&&!g&&!h&&(a=be(w,i))}),O.subscribe(S),!o&&c>0&&(o=new Vn({next:P=>O.next(P),error:P=>{g=!0,m(),a=be(y,t,P),O.error(P)},complete:()=>{h=!0,m(),a=be(y,r),O.complete()}}),Tt(T).subscribe(o))})(s)}}function be(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new Vn({next:()=>{r.unsubscribe(),n()}});return Tt(e(...t)).subscribe(r)}function Se(n,e){return ee((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(pe(r,l=>{i?.unsubscribe();let c=0;const h=s++;Tt(n(l,h)).subscribe(i=pe(r,g=>r.next(e?e(l,g,h,c++):g),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Ge(n,e=Mn){return n=n??At,ee((t,r)=>{let i,s=!0;t.subscribe(pe(r,o=>{const a=e(o);(s||!n(i,a))&&(s=!1,i=a,r.next(o))}))})}function At(n,e){return n===e}function Ie(n){for(let e in n)if(n[e]===Ie)return e;throw Error("Could not find renamed property on target object.")}function $t(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Oe(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Oe).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function nr(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const Lo=Ie({__forward_ref__:Ie});function V(n){return n.__forward_ref__=V,n.toString=function(){return Oe(this())},n}function x(n){return oe(n)?n():n}function oe(n){return"function"==typeof n&&n.hasOwnProperty(Lo)&&n.__forward_ref__===V}function Pe(n){return n&&!!n.\u0275providers}const ft="https://g.co/ng/security#xss";class k extends Error{constructor(e,t){super(function On(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function Ae(n){return"string"==typeof n?n:null==n?"":String(n)}function Dh(n,e){throw new k(-201,!1)}function vr(n,e){null==n&&function ze(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function Te(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function nn(n){return{providers:n.providers||[],imports:n.imports||[]}}function Kc(n){return ym(n,Ia)||ym(n,Zc)}function ym(n,e){return n.hasOwnProperty(e)?n[e]:null}function Tl(n){return n&&(n.hasOwnProperty(Ah)||n.hasOwnProperty(TE))?n[Ah]:null}const Ia=Ie({\u0275prov:Ie}),Ah=Ie({\u0275inj:Ie}),Zc=Ie({ngInjectableDef:Ie}),TE=Ie({ngInjectorDef:Ie});var pt=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(pt||{});let Rh;function Qc(){return Rh}function Ur(n){const e=Rh;return Rh=n,e}function Yc(n,e,t){const r=Kc(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&pt.Optional?null:void 0!==e?e:void Dh(Oe(n))}const zt=globalThis,ui={},Al="__NG_DI_FLAG__",Xc="ngTempTokenPath",SE=/\n/gm,bm="__source";let to;function ds(n){const e=to;return to=n,e}function AE(n,e=pt.Default){if(void 0===to)throw new k(-203,!1);return null===to?Yc(n,void 0,e):to.get(n,e&pt.Optional?null:void 0,e)}function le(n,e=pt.Default){return(Qc()||AE)(x(n),e)}function _e(n,e=pt.Default){return le(n,tu(e))}function tu(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Nh(n){const e=[];for(let t=0;t<n.length;t++){const r=x(n[t]);if(Array.isArray(r)){if(0===r.length)throw new k(900,!1);let i,s=pt.Default;for(let o=0;o<r.length;o++){const a=r[o],l=LA(a);"number"==typeof l?-1===l?i=a.token:s|=l:i=a}e.push(le(i,s))}else e.push(le(r))}return e}function Ps(n,e){return n[Al]=e,n.prototype[Al]=e,n}function LA(n){return n[Al]}function Br(n){return{toString:n}.toString()}var no=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(no||{}),Ti=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Ti||{});const hs={},Ot=[],nu=Ie({\u0275cmp:Ie}),ro=Ie({\u0275dir:Ie}),kh=Ie({\u0275pipe:Ie}),Rl=Ie({\u0275mod:Ie}),Ms=Ie({\u0275fac:Ie}),Ea=Ie({__NG_ELEMENT_ID__:Ie}),ru=Ie({__NG_ENV_ID__:Ie});function di(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}function iu(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{const s=i,o=t[++r];su(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function Tm(n){return 3===n||4===n||6===n}function su(n){return 64===n.charCodeAt(0)}function io(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||Lh(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function Lh(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}const Fh="ng-template";function RE(n,e,t){let r=0,i=!0;for(;r<n.length;){let s=n[r++];if("string"==typeof s&&i){const o=n[r++];if(t&&"class"===s&&-1!==di(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<n.length&&"string"==typeof(s=n[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function ou(n){return 4===n.type&&n.value!==Fh}function Vh(n,e,t){return e===(4!==n.type||t?n.value:Fh)}function Uh(n,e,t){let r=4;const i=n.attrs||[],s=function Cm(n){for(let e=0;e<n.length;e++)if(Tm(n[e]))return e;return n.length}(i);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!Vh(n,l,t)||""===l&&1===e.length){if(jr(r))return!1;o=!0}}else{const c=8&r?l:e[++a];if(8&r&&null!==n.attrs){if(!RE(n.attrs,c,t)){if(jr(r))return!1;o=!0}continue}const g=Bh(8&r?"class":l,i,ou(n),t);if(-1===g){if(jr(r))return!1;o=!0;continue}if(""!==c){let m;m=g>s?"":i[g+1].toLowerCase();const y=8&r?m:null;if(y&&-1!==di(y,c,0)||2&r&&c!==m){if(jr(r))return!1;o=!0}}}}else{if(!o&&!jr(r)&&!jr(l))return!1;if(o&&jr(l))continue;o=!1,r=l|1&r}}return jr(r)||o}function jr(n){return 0==(1&n)}function Bh(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function $h(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function jh(n,e,t=!1){for(let r=0;r<e.length;r++)if(Uh(n,e[r],t))return!0;return!1}function au(n,e){e:for(let t=0;t<e.length;t++){const r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function lu(n,e){return n?":not("+e.trim()+")":e}function Sm(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!jr(o)&&(e+=lu(s,i),i=""),r=o,s=s||!jr(r);t++}return""!==i&&(e+=lu(s,i)),e}function kn(n){return Br(()=>{const e=uu(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===no.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Ti.Emulated,styles:n.styles||Ot,_:null,schemas:n.schemas||null,tView:null,id:""};Am(t);const r=n.dependencies;return t.directiveDefs=wa(r,!1),t.pipeDefs=wa(r,!0),t.id=function Gh(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(t),t})}function qh(n){return It(n)||Zn(n)}function xE(n){return null!==n}function rn(n){return Br(()=>({type:n.type,bootstrap:n.bootstrap||Ot,declarations:n.declarations||Ot,imports:n.imports||Ot,exports:n.exports||Ot,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function cu(n,e){if(null==n)return hs;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}function je(n){return Br(()=>{const e=uu(n);return Am(e),e})}function It(n){return n[nu]||null}function Zn(n){return n[ro]||null}function Ar(n){return n[kh]||null}function hi(n,e){const t=n[Rl]||null;if(!t&&!0===e)throw new Error(`Type ${Oe(n)} does not have '\u0275mod' property.`);return t}function uu(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||hs,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||Ot,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:cu(n.inputs,e),outputs:cu(n.outputs)}}function Am(n){n.features?.forEach(e=>e(n))}function wa(n,e){if(!n)return null;const t=e?Ar:qh;return()=>("function"==typeof n?n():n).map(r=>t(r)).filter(xE)}const Dn=0,ve=1,it=2,Jt=3,Hi=4,xl=5,rr=6,ba=7,Ln=8,fs=9,Ta=10,Ze=11,Ml=12,du=13,Ca=14,yn=15,Nl=16,oo=17,ps=18,Vo=19,Pm=20,gs=21,Ns=22,Ol=23,Sa=24,gt=25,ao=1,Wh=2,ms=7,Da=9,cr=11;function fi(n){return Array.isArray(n)&&"object"==typeof n[ao]}function Hr(n){return Array.isArray(n)&&!0===n[ao]}function Ll(n){return 0!=(4&n.flags)}function Uo(n){return n.componentOffset>-1}function fu(n){return 1==(1&n.flags)}function _s(n){return!!n.template}function xm(n){return 0!=(512&n[it])}function lo(n,e){return n.hasOwnProperty(Ms)?n[Ms]:null}const Bo=Symbol("SIGNAL");function ME(n,e){return(null===n||"object"!=typeof n)&&Object.is(n,e)}let ur=null,co=!1;function Ci(n){const e=ur;return ur=n,e}const An={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Fm(n){if(co)throw new Error("");if(null===ur)return;const e=ur.nextProducerIndex++;Ra(ur),e<ur.producerNode.length&&ur.producerNode[e]!==n&&ho(ur)&&uo(ur.producerNode[e],ur.producerIndexOfThis[e]),ur.producerNode[e]!==n&&(ur.producerNode[e]=n,ur.producerIndexOfThis[e]=ho(ur)?Jh(n,ur,e):0),ur.producerLastReadVersion[e]=n.version}function pu(n){if(!ho(n)||n.dirty){if(!n.producerMustRecompute(n)&&!Bm(n))return void(n.dirty=!1);n.producerRecomputeValue(n),n.dirty=!1}}function Vm(n){if(void 0===n.liveConsumerNode)return;const e=co;co=!0;try{for(const t of n.liveConsumerNode)t.dirty||Um(t)}finally{co=e}}function Fl(){return!1!==ur?.consumerAllowSignalWrites}function Um(n){n.dirty=!0,Vm(n),n.consumerMarkedDirty?.(n)}function Yh(n){return n&&(n.nextProducerIndex=0),Ci(n)}function gu(n,e){if(Ci(e),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(ho(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)uo(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Bm(n){Ra(n);for(let e=0;e<n.producerNode.length;e++){const t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(pu(t),r!==t.version))return!0}return!1}function Vl(n){if(Ra(n),ho(n))for(let e=0;e<n.producerNode.length;e++)uo(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function Jh(n,e,t){if(mu(n),Ra(n),0===n.liveConsumerNode.length)for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=Jh(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function uo(n,e){if(mu(n),Ra(n),1===n.liveConsumerNode.length)for(let r=0;r<n.producerNode.length;r++)uo(n.producerNode[r],n.producerIndexOfThis[r]);const t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){const r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];Ra(i),i.producerIndexOfThis[r]=e}}function ho(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Ra(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function mu(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}let $m=function OE(){throw new Error};function zm(){$m()}let ef=null;function tf(n,e){const t=Object.create(kE);function r(){return Fm(t),t.value}return t.value=n,e?.equal&&(t.equal=e.equal),r.set=Ul,r.update=LE,r.mutate=FE,r.asReadonly=VE,r[Bo]=t,r}const kE=(()=>({...An,equal:ME,readonlyFn:void 0}))();function Gm(n){n.version++,Vm(n),ef?.()}function Ul(n){const e=this[Bo];Fl()||zm(),e.equal(e.value,n)||(e.value=n,Gm(e))}function LE(n){Fl()||zm(),Ul.call(this,n(this[Bo].value))}function FE(n){const e=this[Bo];Fl()||zm(),n(e.value),Gm(e)}function VE(){const n=this[Bo];if(void 0===n.readonlyFn){const e=()=>this();e[Bo]=n,n.readonlyFn=e}return n.readonlyFn}const Wm=()=>{},BE=(()=>({...An,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule(n.ref)},hasRun:!1,cleanupFn:Wm}))();class jE{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function $r(){return Km}function Km(n){return n.type.prototype.ngOnChanges&&(n.setInput=$E),HE}function HE(){const n=Zm(this),e=n?.current;if(e){const t=n.previous;if(t===hs)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function $E(n,e,t,r){const i=this.declaredInputs[t],s=Zm(n)||function nf(n,e){return n[yu]=e}(n,{previous:hs,current:null}),o=s.current||(s.current={}),a=s.previous,l=a[i];o[i]=new jE(l&&l.currentValue,e,a===hs),n[r]=e}$r.ngInherit=!0;const yu="__ngSimpleChanges__";function Zm(n){return n[yu]||null}const ys=function(n,e,t){};function qt(n){for(;Array.isArray(n);)n=n[Dn];return n}function Pa(n,e){return qt(e[n])}function zr(n,e){return qt(e[n.index])}function Iu(n,e){return n.data[e]}function pi(n,e){const t=e[n];return fi(t)?t:t[Dn]}function fo(n,e){return null==e?null:n[e]}function Ym(n){n[oo]=0}function cf(n){1024&n[it]||(n[it]|=1024,Eu(n,1))}function Jm(n){1024&n[it]&&(n[it]&=-1025,Eu(n,-1))}function Eu(n,e){let t=n[Jt];if(null===t)return;t[xl]+=e;let r=t;for(t=t[Jt];null!==t&&(1===e&&1===r[xl]||-1===e&&0===r[xl]);)t[xl]+=e,r=t,t=t[Jt]}function Xm(n,e){if(256==(256&n[it]))throw new k(911,!1);null===n[gs]&&(n[gs]=[]),n[gs].push(e)}const qe={lFrame:o_(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function bu(){return qe.bindingsEnabled}function po(){return null!==qe.skipHydrationRootTNode}function re(){return qe.lFrame.lView}function Et(){return qe.lFrame.tView}function Xe(n){return qe.lFrame.contextLView=n,n[Ln]}function et(n){return qe.lFrame.contextLView=null,n}function Qn(){let n=i_();for(;null!==n&&64===n.type;)n=n.parent;return n}function i_(){return qe.lFrame.currentTNode}function Si(n,e){const t=qe.lFrame;t.currentTNode=n,t.isParent=e}function hf(){return qe.lFrame.isParent}function Hl(){qe.lFrame.isParent=!1}function dr(){const n=qe.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Ho(){return qe.lFrame.bindingIndex++}function vs(n){const e=qe.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function _f(n,e){const t=qe.lFrame;t.bindingIndex=t.bindingRootIndex=n,yf(e)}function yf(n){qe.lFrame.currentDirectiveIndex=n}function Tu(){return qe.lFrame.currentQueryIndex}function If(n){qe.lFrame.currentQueryIndex=n}function YE(n){const e=n[ve];return 2===e.type?e.declTNode:1===e.type?n[rr]:null}function Ef(n,e,t){if(t&pt.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&pt.Host||(i=YE(s),null===i||(s=s[Ca],10&i.type))););if(null===i)return!1;e=i,n=s}const r=qe.lFrame=$l();return r.currentTNode=e,r.lView=n,!0}function wf(n){const e=$l(),t=n[ve];qe.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function $l(){const n=qe.lFrame,e=null===n?null:n.child;return null===e?o_(n):e}function o_(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function a_(){const n=qe.lFrame;return qe.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const l_=a_;function bf(){const n=a_();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Rr(){return qe.lFrame.selectedIndex}function $o(n){qe.lFrame.selectedIndex=n}function sn(){const n=qe.lFrame;return Iu(n.tView,n.selectedIndex)}function zo(){qe.lFrame.currentNamespace="svg"}let Tf=!0;function Cu(){return Tf}function go(n){Tf=n}function Su(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:h}=s;o&&(n.contentHooks??=[]).push(-t,o),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),c&&((n.viewHooks??=[]).push(t,c),(n.viewCheckHooks??=[]).push(t,c)),null!=h&&(n.destroyHooks??=[]).push(t,h)}}function Du(n,e,t){u_(n,e,3,t)}function Ma(n,e,t,r){(3&n[it])===t&&u_(n,e,t,r)}function zl(n,e){let t=n[it];(3&t)===e&&(t&=8191,t+=1,n[it]=t)}function u_(n,e,t,r){const s=r??-1,o=e.length-1;let a=0;for(let l=void 0!==r?65535&n[oo]:0;l<o;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(n[oo]+=65536),(a<s||-1==s)&&(iw(n,t,e,l),n[oo]=(4294901760&n[oo])+l+2),l++}function Au(n,e){ys(4,n,e);const t=Ci(null);try{e.call(n)}finally{Ci(t),ys(5,n,e)}}function iw(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];i?n[it]>>13<n[oo]>>16&&(3&n[it])===e&&(n[it]+=8192,Au(a,s)):Au(a,s)}const qo=-1;class ql{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function Sf(n){return n!==qo}function Gl(n){return 32767&n}function Wl(n,e){let t=function aw(n){return n>>16}(n),r=e;for(;t>0;)r=r[Ca],t--;return r}let Df=!0;function Kl(n){const e=Df;return Df=n,e}const lw=255,f=5;let u=0;const d={};function _(n,e){const t=M(n,e);if(-1!==t)return t;const r=e[ve];r.firstCreatePass&&(n.injectorIndex=e.length,E(r.data,n),E(e,null),E(r.blueprint,null));const i=U(n,e),s=n.injectorIndex;if(Sf(i)){const o=Gl(i),a=Wl(i,e),l=a[ve].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=i,s}function E(n,e){n.push(0,0,0,0,0,0,0,0,e)}function M(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function U(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=e1(i),null===r)return qo;if(t++,i=i[Ca],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return qo}function se(n,e,t){!function p(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Ea)&&(r=t[Ea]),null==r&&(r=t[Ea]=u++);const i=r&lw;e.data[n+(i>>f)]|=1<<i}(n,e,t)}function Be(n,e,t){if(t&pt.Optional||void 0!==n)return n;Dh()}function wt(n,e,t,r){if(t&pt.Optional&&void 0===r&&(r=null),!(t&(pt.Self|pt.Host))){const i=n[fs],s=Ur(void 0);try{return i?i.get(e,r,t&pt.Optional):Yc(e,r,t&pt.Optional)}finally{Ur(s)}}return Be(r,0,t)}function Pr(n,e,t,r=pt.Default,i){if(null!==n){if(2048&e[it]&&!(r&pt.Self)){const o=function cw(n,e,t,r,i){let s=n,o=e;for(;null!==s&&null!==o&&2048&o[it]&&!(512&o[it]);){const a=ks(s,o,t,r|pt.Self,d);if(a!==d)return a;let l=s.parent;if(!l){const c=o[Pm];if(c){const h=c.get(t,d,r);if(h!==d)return h}l=e1(o),o=o[Ca]}s=l}return i}(n,e,t,r,d);if(o!==d)return o}const s=ks(n,e,t,r,d);if(s!==d)return s}return wt(e,t,r,i)}function ks(n,e,t,r,i){const s=function p_(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Ea)?n[Ea]:void 0;return"number"==typeof e?e>=0?e&lw:m_:e}(t);if("function"==typeof s){if(!Ef(e,n,r))return r&pt.Host?Be(i,0,r):wt(e,t,r,i);try{let o;if(o=s(r),null!=o||r&pt.Optional)return o;Dh()}finally{l_()}}else if("number"==typeof s){let o=null,a=M(n,e),l=qo,c=r&pt.Host?e[yn][rr]:null;for((-1===a||r&pt.SkipSelf)&&(l=-1===a?U(n,e):e[a+8],l!==qo&&xu(r,!1)?(o=e[ve],a=Gl(l),e=Wl(l,e)):a=-1);-1!==a;){const h=e[ve];if(Af(s,a,h.data)){const g=Pu(a,e,t,o,r,c);if(g!==d)return g}l=e[a+8],l!==qo&&xu(r,e[ve].data[a+8]===c)&&Af(s,a,e)?(o=h,a=Gl(l),e=Wl(l,e)):a=-1}}return i}function Pu(n,e,t,r,i,s){const o=e[ve],a=o.data[n+8],h=Zl(a,o,t,null==r?Uo(a)&&Df:r!=o&&0!=(3&a.type),i&pt.Host&&s===a);return null!==h?Ls(e,o,h,a):d}function Zl(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,l=n.directiveStart,h=s>>20,m=i?a+h:n.directiveEnd;for(let y=r?a:a+h;y<m;y++){const w=o[y];if(y<l&&t===w||y>=l&&w.type===t)return y}if(i){const y=o[l];if(y&&_s(y)&&y.type===t)return l}return null}function Ls(n,e,t,r){let i=n[t];const s=e.data;if(function Cf(n){return n instanceof ql}(i)){const o=i;o.resolving&&function bl(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new k(-200,`Circular dependency in DI detected for ${n}${t}`)}(function _t(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Ae(n)}(s[t]));const a=Kl(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?Ur(o.injectImpl):null;Ef(n,r,pt.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function rw(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=Km(e);(t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o)}i&&(t.preOrderHooks??=[]).push(0-n,i),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}(t,s[t],e)}finally{null!==c&&Ur(c),Kl(a),o.resolving=!1,l_()}}return i}function Af(n,e,t){return!!(t[e+(n>>f)]&1<<n)}function xu(n,e){return!(n&pt.Self||n&pt.Host&&e)}class hr{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return Pr(this._tNode,this._lView,e,tu(r),t)}}function m_(){return new hr(Qn(),re())}function vn(n){return Br(()=>{const e=n.prototype.constructor,t=e[Ms]||Ql(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[Ms]||Ql(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Ql(n){return oe(n)?()=>{const e=Ql(x(n));return e&&e()}:lo(n)}function e1(n){const e=n[ve],t=e.type;return 2===t?e.declTNode:1===t?n[rr]:null}const Nu="__parameters__";function ku(n,e,t){return Br(()=>{const r=function uw(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(l,c,h){const g=l.hasOwnProperty(Nu)?l[Nu]:Object.defineProperty(l,Nu,{value:[]})[Nu];for(;g.length<=h;)g.push(null);return(g[h]=g[h]||[]).push(o),l}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}function Fu(n,e){n.forEach(t=>Array.isArray(t)?Fu(t,e):e(t))}function n1(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function y_(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Pf(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}function $i(n,e,t){let r=Vu(n,e);return r>=0?n[1|r]=t:(r=~r,function m3(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function dw(n,e){const t=Vu(n,e);if(t>=0)return n[1|t]}function Vu(n,e){return function r1(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const xf=Ps(ku("Optional"),8),I_=Ps(ku("SkipSelf"),4);function C_(n){return 128==(128&n.flags)}var Oa=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Oa||{});const F3=/^>|^->|<!--|-->|--!>|<!-$/g,V3=/(<|>)/g,U3="\u200b$1\u200b";const mw=new Map;let B3=0;const yw="__ngContext__";function qr(n,e){fi(e)?(n[yw]=e[Vo],function H3(n){mw.set(n[Vo],n)}(e)):n[yw]=e}let vw;function Iw(n,e){return vw(n,e)}function Of(n){const e=n[Jt];return Hr(e)?e[Jt]:e}function T1(n){return S1(n[Ml])}function C1(n){return S1(n[Hi])}function S1(n){for(;null!==n&&!Hr(n);)n=n[Hi];return n}function ju(n,e,t,r,i){if(null!=r){let s,o=!1;Hr(r)?s=r:fi(r)&&(o=!0,r=r[Dn]);const a=qt(r);0===n&&null!==t?null==i?P1(e,t,a):Yl(e,t,a,i||null,!0):1===n&&null!==t?Yl(e,t,a,i||null,!0):2===n?function M_(n,e,t){const r=P_(n,e);r&&function a5(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function u5(n,e,t,r,i){const s=t[ms];s!==qt(t)&&ju(e,n,r,s,i);for(let a=cr;a<t.length;a++){const l=t[a];Lf(l[ve],l,n,e,r,s)}}(e,n,s,t,i)}}function Ew(n,e){return n.createComment(function m1(n){return n.replace(F3,e=>e.replace(V3,U3))}(e))}function A_(n,e,t){return n.createElement(e,t)}function A1(n,e){const t=n[Da],r=t.indexOf(e);Jm(e),t.splice(r,1)}function R_(n,e){if(n.length<=cr)return;const t=cr+e,r=n[t];if(r){const i=r[Nl];null!==i&&i!==n&&A1(i,r),e>0&&(n[t-1][Hi]=r[Hi]);const s=y_(n,cr+e);!function X3(n,e){Lf(n,e,e[Ze],2,null,null),e[Dn]=null,e[rr]=null}(r[ve],r);const o=s[ps];null!==o&&o.detachView(s[ve]),r[Jt]=null,r[Hi]=null,r[it]&=-129}return r}function ww(n,e){if(!(256&e[it])){const t=e[Ze];e[Ol]&&Vl(e[Ol]),e[Sa]&&Vl(e[Sa]),t.destroyNode&&Lf(n,e,t,3,null,null),function n5(n){let e=n[Ml];if(!e)return bw(n[ve],n);for(;e;){let t=null;if(fi(e))t=e[Ml];else{const r=e[cr];r&&(t=r)}if(!t){for(;e&&!e[Hi]&&e!==n;)fi(e)&&bw(e[ve],e),e=e[Jt];null===e&&(e=n),fi(e)&&bw(e[ve],e),t=e&&e[Hi]}e=t}}(e)}}function bw(n,e){if(!(256&e[it])){e[it]&=-129,e[it]|=256,function o5(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof ql)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],l=s[o+1];ys(4,a,l);try{l.call(a)}finally{ys(5,a,l)}}else{ys(4,i,s);try{s.call(i)}finally{ys(5,i,s)}}}}}(n,e),function s5(n,e){const t=n.cleanup,r=e[ba];if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else t[s].call(r[t[s+1]]);null!==r&&(e[ba]=null);const i=e[gs];if(null!==i){e[gs]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(n,e),1===e[ve].type&&e[Ze].destroy();const t=e[Nl];if(null!==t&&Hr(e[Jt])){t!==e[Jt]&&A1(t,e);const r=e[ps];null!==r&&r.detachView(n)}!function $3(n){mw.delete(n[Vo])}(e)}}function Tw(n,e,t){return function R1(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[Dn];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=n.data[r.directiveStart+i];if(s===Ti.None||s===Ti.Emulated)return null}return zr(r,t)}}(n,e.parent,t)}function Yl(n,e,t,r,i){n.insertBefore(e,t,r,i)}function P1(n,e,t){n.appendChild(e,t)}function x1(n,e,t,r,i){null!==r?Yl(n,e,t,r,i):P1(n,e,t)}function P_(n,e){return n.parentNode(e)}function M1(n,e,t){return O1(n,e,t)}let Cw,N_,Rw,O_,O1=function N1(n,e,t){return 40&n.type?zr(n,t):null};function x_(n,e,t,r){const i=Tw(n,r,e),s=e[Ze],a=M1(r.parent||e[rr],r,e);if(null!=i)if(Array.isArray(t))for(let l=0;l<t.length;l++)x1(s,i,t[l],a,!1);else x1(s,i,t,a,!1);void 0!==Cw&&Cw(s,r,e,t,i)}function kf(n,e){if(null!==e){const t=e.type;if(3&t)return zr(e,n);if(4&t)return Sw(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return kf(n,r);{const i=n[e.index];return Hr(i)?Sw(-1,i):qt(i)}}if(32&t)return Iw(e,n)()||qt(n[e.index]);{const r=L1(n,e);return null!==r?Array.isArray(r)?r[0]:kf(Of(n[yn]),r):kf(n,e.next)}}return null}function L1(n,e){return null!==e?n[yn][rr].projection[e.projection]:null}function Sw(n,e){const t=cr+n+1;if(t<e.length){const r=e[t],i=r[ve].firstChild;if(null!==i)return kf(r,i)}return e[ms]}function Dw(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],l=t.type;if(o&&0===e&&(a&&qr(qt(a),r),t.flags|=2),32!=(32&t.flags))if(8&l)Dw(n,e,t.child,r,i,s,!1),ju(e,n,i,a,s);else if(32&l){const c=Iw(t,r);let h;for(;h=c();)ju(e,n,i,h,s);ju(e,n,i,a,s)}else 16&l?V1(n,e,r,t,i,s):ju(e,n,i,a,s);t=o?t.projectionNext:t.next}}function Lf(n,e,t,r,i,s){Dw(t,r,n.firstChild,e,i,s,!1)}function V1(n,e,t,r,i,s){const o=t[yn],l=o[rr].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)ju(e,n,i,l[c],s);else{let c=l;const h=o[Jt];C_(r)&&(c.flags|=128),Dw(n,e,c,h,i,s,!0)}}function U1(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function B1(n,e,t){const{mergedAttrs:r,classes:i,styles:s}=t;null!==r&&iu(n,e,r),null!==i&&U1(n,e,i),null!==s&&function h5(n,e,t){n.setAttribute(e,"style",t)}(n,e,s)}function Hu(n){return function Aw(){if(void 0===N_&&(N_=null,zt.trustedTypes))try{N_=zt.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return N_}()?.createHTML(n)||n}function $u(){if(void 0!==Rw)return Rw;if(typeof document<"u")return document;throw new k(210,!1)}function Pw(){if(void 0===O_&&(O_=null,zt.trustedTypes))try{O_=zt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return O_}function j1(n){return Pw()?.createHTML(n)||n}function $1(n){return Pw()?.createScriptURL(n)||n}class z1{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ft})`}}function ka(n){return n instanceof z1?n.changingThisBreaksApplicationSecurity:n}function Ff(n,e){const t=function w5(n){return n instanceof z1&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${ft})`)}return t===e}class b5{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(Hu(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class T5{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const t=this.inertDocument.createElement("template");return t.innerHTML=Hu(e),t}}const S5=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function xw(n){return(n=String(n)).match(S5)?n:"unsafe:"+n}function Go(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function Vf(...n){const e={};for(const t of n)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const G1=Go("area,br,col,hr,img,wbr"),W1=Go("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),K1=Go("rp,rt"),Mw=Vf(G1,Vf(W1,Go("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Vf(K1,Go("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Vf(K1,W1)),Nw=Go("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Z1=Vf(Nw,Go("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Go("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),D5=Go("script,style,template");class A5{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!Mw.hasOwnProperty(t))return this.sanitizedSomething=!0,!D5.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!Z1.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;Nw[a]&&(l=xw(l)),this.buf.push(" ",o,'="',Q1(l),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();Mw.hasOwnProperty(t)&&!G1.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(Q1(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const R5=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,P5=/([^\#-~ |!])/g;function Q1(n){return n.replace(/&/g,"&amp;").replace(R5,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(P5,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let k_;function Ow(n){return"content"in n&&function M5(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var zu=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(zu||{});function kw(n){const e=Uf();return e?j1(e.sanitize(zu.HTML,n)||""):Ff(n,"HTML")?j1(ka(n)):function x5(n,e){let t=null;try{k_=k_||function q1(n){const e=new T5(n);return function C5(){try{return!!(new window.DOMParser).parseFromString(Hu(""),"text/html")}catch{return!1}}()?new b5(e):e}(n);let r=e?String(e):"";t=k_.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=t.innerHTML,t=k_.getInertBodyElement(r)}while(r!==s);return Hu((new A5).sanitizeChildren(Ow(t)||t))}finally{if(t){const r=Ow(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}($u(),Ae(n))}function L_(n){const e=Uf();return e?e.sanitize(zu.URL,n)||"":Ff(n,"URL")?ka(n):xw(Ae(n))}function Y1(n){const e=Uf();if(e)return $1(e.sanitize(zu.RESOURCE_URL,n)||"");if(Ff(n,"ResourceURL"))return $1(ka(n));throw new k(904,!1)}function Uf(){const n=re();return n&&n[Ta].sanitizer}class ge{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=Te({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Bf=new ge("ENVIRONMENT_INITIALIZER"),X1=new ge("INJECTOR",-1),eR=new ge("INJECTOR_DEF_TYPES");class Lw{get(e,t=ui){if(t===ui){const r=new Error(`NullInjectorError: No provider for ${Oe(e)}!`);throw r.name="NullInjectorError",r}return t}}function V5(...n){return{\u0275providers:tR(0,n),\u0275fromNgModule:!0}}function tR(n,...e){const t=[],r=new Set;let i;const s=o=>{t.push(o)};return Fu(e,o=>{const a=o;F_(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&nR(i,s),t}function nR(n,e){for(let t=0;t<n.length;t++){const{ngModule:r,providers:i}=n[t];Vw(i,s=>{e(s,r)})}}function F_(n,e,t,r){if(!(n=x(n)))return!1;let i=null,s=Tl(n);const o=!s&&It(n);if(s||o){if(o&&!o.standalone)return!1;i=n}else{const l=n.ngModule;if(s=Tl(l),!s)return!1;i=l}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of l)F_(c,e,t,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{Fu(s.imports,h=>{F_(h,e,t,r)&&(c||=[],c.push(h))})}finally{}void 0!==c&&nR(c,e)}if(!a){const c=lo(i)||(()=>new i);e({provide:i,useFactory:c,deps:Ot},i),e({provide:eR,useValue:i,multi:!0},i),e({provide:Bf,useValue:()=>le(i),multi:!0},i)}const l=s.providers;if(null!=l&&!a){const c=n;Vw(l,h=>{e(h,c)})}}}return i!==n&&void 0!==n.providers}function Vw(n,e){for(let t of n)Pe(t)&&(t=t.\u0275providers),Array.isArray(t)?Vw(t,e):e(t)}const U5=Ie({provide:String,useValue:Ie});function Uw(n){return null!==n&&"object"==typeof n&&U5 in n}function Jl(n){return"function"==typeof n}const Bw=new ge("Set Injector scope."),V_={},j5={};let jw;function U_(){return void 0===jw&&(jw=new Lw),jw}class zi{}class B_ extends zi{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,$w(e,o=>this.processProvider(o)),this.records.set(X1,qu(void 0,this)),i.has("environment")&&this.records.set(zi,qu(void 0,this));const s=this.records.get(Bw);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(eR.multi,Ot,pt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=ds(this),r=Ur(void 0);try{return e()}finally{ds(t),Ur(r)}}get(e,t=ui,r=pt.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(ru))return e[ru](this);r=tu(r);const s=ds(this),o=Ur(void 0);try{if(!(r&pt.SkipSelf)){let l=this.records.get(e);if(void 0===l){const c=function G5(n){return"function"==typeof n||"object"==typeof n&&n instanceof ge}(e)&&Kc(e);l=c&&this.injectableDefInScope(c)?qu(Hw(e),V_):null,this.records.set(e,l)}if(null!=l)return this.hydrate(e,l)}return(r&pt.Self?U_():this.parent).get(e,t=r&pt.Optional&&t===ui?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[Xc]=a[Xc]||[]).unshift(Oe(e)),s)throw a;return function Oh(n,e,t,r){const i=n[Xc];throw e[bm]&&i.unshift(e[bm]),n.message=function xs(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=Oe(e);if(Array.isArray(e))i=e.map(Oe).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Oe(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(SE,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[Xc]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{Ur(o),ds(s)}}resolveInjectorInitializers(){const e=ds(this),t=Ur(void 0);try{const i=this.get(Bf.multi,Ot,pt.Self);for(const s of i)s()}finally{ds(e),Ur(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(Oe(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new k(205,!1)}processProvider(e){let t=Jl(e=x(e))?e:x(e&&e.provide);const r=function $5(n){return Uw(n)?qu(void 0,n.useValue):qu(sR(n),V_)}(e);if(Jl(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=qu(void 0,V_,!0),i.factory=()=>Nh(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===V_&&(t.value=j5,t.value=t.factory()),"object"==typeof t.value&&t.value&&function q5(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=x(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function Hw(n){const e=Kc(n),t=null!==e?e.factory:lo(n);if(null!==t)return t;if(n instanceof ge)throw new k(204,!1);if(n instanceof Function)return function H5(n){const e=n.length;if(e>0)throw Pf(e,"?"),new k(204,!1);const t=function va(n){return n&&(n[Ia]||n[Zc])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new k(204,!1)}function sR(n,e,t){let r;if(Jl(n)){const i=x(n);return lo(i)||Hw(i)}if(Uw(n))r=()=>x(n.useValue);else if(function iR(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...Nh(n.deps||[]));else if(function rR(n){return!(!n||!n.useExisting)}(n))r=()=>le(x(n.useExisting));else{const i=x(n&&(n.useClass||n.provide));if(!function z5(n){return!!n.deps}(n))return lo(i)||Hw(i);r=()=>new i(...Nh(n.deps))}return r}function qu(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function $w(n,e){for(const t of n)Array.isArray(t)?$w(t,e):t&&Pe(t)?$w(t.\u0275providers,e):e(t)}const j_=new ge("AppId",{providedIn:"root",factory:()=>W5}),W5="ng",oR=new ge("Platform Initializer"),Ai=new ge("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),aR=new ge("AnimationModuleType"),lR=new ge("CSP nonce",{providedIn:"root",factory:()=>$u().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let cR=(n,e,t)=>null;function Yw(n,e,t=!1){return cR(n,e,t)}class r6{}class hR{}class s6{resolveComponentFactory(e){throw function i6(n){const e=Error(`No component factory found for ${Oe(n)}.`);return e.ngComponent=n,e}(e)}}let W_=(()=>{class n{static#e=this.NULL=new s6}return n})();function o6(){return Ku(Qn(),re())}function Ku(n,e){return new pr(zr(n,e))}let pr=(()=>{class n{constructor(t){this.nativeElement=t}static#e=this.__NG_ELEMENT_ID__=o6}return n})();function a6(n){return n instanceof pr?n.nativeElement:n}class $f{}let Ri=(()=>{class n{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function l6(){const n=re(),t=pi(Qn().index,n);return(fi(t)?t:n)[Ze]}()}return n})(),c6=(()=>{class n{static#e=this.\u0275prov=Te({token:n,providedIn:"root",factory:()=>null})}return n})();class Zu{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const pR=new Zu("16.2.9"),eb={};function yR(n,e=null,t=null,r){const i=vR(n,e,t,r);return i.resolveInjectorInitializers(),i}function vR(n,e=null,t=null,r,i=new Set){const s=[t||Ot,V5(n)];return r=r||("object"==typeof n?void 0:Oe(n)),new B_(s,e||U_(),r||null,i)}let qi=(()=>{class n{static#e=this.THROW_IF_NOT_FOUND=ui;static#t=this.NULL=new Lw;static create(t,r){if(Array.isArray(t))return yR({name:""},r,t,"");{const i=t.name??"";return yR({name:i},t.parent,t.providers,i)}}static#n=this.\u0275prov=Te({token:n,providedIn:"any",factory:()=>le(X1)});static#r=this.__NG_ELEMENT_ID__=-1}return n})();function nb(n){return n.ngOriginalError}class Wo{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&nb(e);for(;t&&nb(t);)t=nb(t);return t||null}}let K_=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=m6;static#t=this.__NG_ENV_ID__=t=>t}return n})();class g6 extends K_{constructor(e){super(),this._lView=e}onDestroy(e){return Xm(this._lView,e),()=>function uf(n,e){if(null===n[gs])return;const t=n[gs].indexOf(e);-1!==t&&n[gs].splice(t,1)}(this._lView,e)}}function m6(){return new g6(re())}function rb(n){return e=>{setTimeout(n,void 0,e)}}const Vt=class _6 extends q{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&"object"==typeof e){const l=e;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=rb(s),i&&(i=rb(i)),o&&(o=rb(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof Pt&&e.add(a),a}};function ER(...n){}class Mt{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Vt(!1),this.onMicrotaskEmpty=new Vt(!1),this.onStable=new Vt(!1),this.onError=new Vt(!1),typeof Zone>"u")throw new k(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function y6(){const n="function"==typeof zt.requestAnimationFrame;let e=zt[n?"requestAnimationFrame":"setTimeout"],t=zt[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function E6(n){const e=()=>{!function I6(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(zt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,sb(n),n.isCheckStableRunning=!0,ib(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),sb(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{if(function b6(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(i,s,o,a);try{return wR(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),bR(n)}},onInvoke:(t,r,i,s,o,a,l)=>{try{return wR(n),t.invoke(i,s,o,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),bR(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,sb(n),ib(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Mt.isInAngularZone())throw new k(909,!1)}static assertNotInAngularZone(){if(Mt.isInAngularZone())throw new k(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,v6,ER,ER);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const v6={};function ib(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function sb(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function wR(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function bR(n){n._nesting--,ib(n)}class w6{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Vt,this.onMicrotaskEmpty=new Vt,this.onStable=new Vt,this.onError=new Vt}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const TR=new ge("",{providedIn:"root",factory:CR});function CR(){const n=_e(Mt);let e=!0;return b(new lt(i=>{e=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{i.next(e),i.complete()})}),new lt(i=>{let s;n.runOutsideAngular(()=>{s=n.onStable.subscribe(()=>{Mt.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=n.onUnstable.subscribe(()=>{Mt.assertInAngularZone(),e&&(e=!1,n.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(G()))}function ob(n){return n.ownerDocument}function Ko(n){return n instanceof Function?n():n}let ab=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=Te({token:n,providedIn:"root",factory:()=>new n})}return n})();function zf(n){for(;n;){n[it]|=64;const e=Of(n);if(xm(n)&&!e)return n;n=e}return null}const PR=new ge("",{providedIn:"root",factory:()=>!1});let Q_=null;function OR(n,e){return n[e]??FR()}function kR(n,e){const t=FR();t.producerNode?.length&&(n[e]=Q_,t.lView=n,Q_=LR())}const M6={...An,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{zf(n.lView)},lView:null};function LR(){return Object.create(M6)}function FR(){return Q_??=LR(),Q_}const ot={};function ce(n){VR(Et(),re(),Rr()+n,!1)}function VR(n,e,t,r){if(!r)if(3==(3&e[it])){const s=n.preOrderCheckHooks;null!==s&&Du(e,s,t)}else{const s=n.preOrderHooks;null!==s&&Ma(e,s,0,t)}$o(t)}function $(n,e=pt.Default){const t=re();return null===t?le(n,e):Pr(Qn(),t,x(n),e)}function Y_(n,e,t,r,i,s,o,a,l,c,h){const g=e.blueprint.slice();return g[Dn]=i,g[it]=140|r,(null!==c||n&&2048&n[it])&&(g[it]|=2048),Ym(g),g[Jt]=g[Ca]=n,g[Ln]=t,g[Ta]=o||n&&n[Ta],g[Ze]=a||n&&n[Ze],g[fs]=l||n&&n[fs]||null,g[rr]=s,g[Vo]=function j3(){return B3++}(),g[Ns]=h,g[Pm]=c,g[yn]=2==e.type?n[yn]:g,g}function Ju(n,e,t,r,i){let s=n.data[e];if(null===s)s=function lb(n,e,t,r,i){const s=i_(),o=hf(),l=n.data[e]=function B6(n,e,t,r,i,s){let o=e?e.injectorIndex:-1,a=0;return po()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l,l.prev=s)),l}(n,e,t,r,i),function ZE(){return qe.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function jl(){const n=qe.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Si(s,!0),s}function qf(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function BR(n,e,t,r,i){const s=OR(e,Ol),o=Rr(),a=2&r;try{$o(-1),a&&e.length>gt&&VR(n,e,gt,!1),ys(a?2:0,i);const c=a?s:null,h=Yh(c);try{null!==c&&(c.dirty=!1),t(r,i)}finally{gu(c,h)}}finally{a&&null===e[Ol]&&kR(e,Ol),$o(o),ys(a?3:1,i)}}function cb(n,e,t){if(Ll(e)){const r=Ci(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=n.data[o];a.contentQueries&&a.contentQueries(1,t[o],o)}}finally{Ci(r)}}}function ub(n,e,t){bu()&&(function W6(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;Uo(t)&&function ej(n,e,t){const r=zr(e,n),i=jR(t);let o=16;t.signals?o=4096:t.onPush&&(o=64);const a=J_(n,Y_(n,i,null,o,r,e,null,n[Ta].rendererFactory.createRenderer(r,t),null,null,null));n[e.index]=a}(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||_(t,e),qr(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const l=n.data[a],c=Ls(e,n,a,t);qr(c,e),null!==o&&tj(0,a-i,c,l,0,o),_s(l)&&(pi(t.index,e)[Ln]=Ls(e,n,a,t))}}(n,e,t,zr(t,e)),64==(64&t.flags)&&GR(n,e,t))}function db(n,e,t=zr){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}function jR(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=hb(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function hb(n,e,t,r,i,s,o,a,l,c,h){const g=gt+r,m=g+i,y=function O6(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:ot);return t}(g,m),w="function"==typeof c?c():c;return y[ve]={type:n,blueprint:y,template:t,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:w,incompleteFirstPass:!1,ssrId:h}}let HR=n=>null;function $R(n,e,t,r){for(let i in n)if(n.hasOwnProperty(i)){t=null===t?{}:t;const s=n[i];null===r?zR(t,e,i,s):r.hasOwnProperty(i)&&zR(t,e,r[i],s)}return t}function zR(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function fb(n,e,t,r){if(bu()){const i=null===r?null:{"":-1},s=function Z6(n,e){const t=n.directiveRegistry;let r=null,i=null;if(t)for(let s=0;s<t.length;s++){const o=t[s];if(jh(e,o.selectors,!1))if(r||(r=[]),_s(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),pb(n,e,a.length)}else r.unshift(o),pb(n,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(n,t);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&qR(n,e,t,o,i,a),i&&function Q6(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new k(-301,!1);r.push(e[i],s)}}}(t,r,i)}t.mergedAttrs=io(t.mergedAttrs,t.attrs)}function qR(n,e,t,r,i,s){for(let c=0;c<r.length;c++)se(_(t,e),n,r[c].type);!function J6(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let c=0;c<r.length;c++){const h=r[c];h.providersResolver&&h.providersResolver(h)}let o=!1,a=!1,l=qf(n,e,r.length,null);for(let c=0;c<r.length;c++){const h=r[c];t.mergedAttrs=io(t.mergedAttrs,h.hostAttrs),X6(n,t,e,l,h),Y6(l,h,i),null!==h.contentQueries&&(t.flags|=4),(null!==h.hostBindings||null!==h.hostAttrs||0!==h.hostVars)&&(t.flags|=64);const g=h.type.prototype;!o&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),o=!0),!a&&(g.ngOnChanges||g.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),l++}!function j6(n,e,t){const i=e.directiveEnd,s=n.data,o=e.attrs,a=[];let l=null,c=null;for(let h=e.directiveStart;h<i;h++){const g=s[h],m=t?t.get(g):null,w=m?m.outputs:null;l=$R(g.inputs,h,l,m?m.inputs:null),c=$R(g.outputs,h,c,w);const T=null===l||null===o||ou(e)?null:nj(l,h,o);a.push(T)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}(n,t,s)}function GR(n,e,t){const r=t.directiveStart,i=t.directiveEnd,s=t.index,o=function QE(){return qe.lFrame.currentDirectiveIndex}();try{$o(s);for(let a=r;a<i;a++){const l=n.data[a],c=e[a];yf(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&K6(l,c)}}finally{$o(-1),yf(o)}}function K6(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function pb(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function Y6(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;_s(e)&&(t[""]=n)}}function X6(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=lo(i.type)),o=new ql(s,_s(i),$);n.blueprint[r]=o,t[r]=o,function q6(n,e,t,r,i){const s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const a=~e.index;(function G6(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(o)!=a&&o.push(a),o.push(t,r,s)}}(n,e,r,qf(n,t,i.hostVars,ot),i)}function mo(n,e,t,r,i,s){const o=zr(n,e);!function gb(n,e,t,r,i,s,o){if(null==s)n.removeAttribute(e,i,t);else{const a=null==o?Ae(s):o(s,r||"",i);n.setAttribute(e,i,a,t)}}(e[Ze],o,s,n.value,t,r,i)}function tj(n,e,t,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)WR(r,t,o[a++],o[a++],o[a++])}function WR(n,e,t,r,i){const s=Ci(null);try{const o=n.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),null!==n.setInput?n.setInput(e,i,t,r):e[r]=i}finally{Ci(s)}}function nj(n,e,t){let r=null,i=0;for(;i<t.length;){const s=t[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===r&&(r=[]);const o=n[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function KR(n,e,t,r){return[n,!0,!1,e,null,0,r,t,null,null,null]}function ZR(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const s=t[r+1];if(-1!==s){const o=n.data[s];If(t[r]),o.contentQueries(2,e[s],s)}}}function J_(n,e){return n[Ml]?n[du][Hi]=e:n[Ml]=e,n[du]=e,e}function mb(n,e,t){If(0);const r=Ci(null);try{e(n,t)}finally{Ci(r)}}function QR(n){return n[ba]||(n[ba]=[])}function YR(n){return n.cleanup||(n.cleanup=[])}function XR(n,e){const t=n[fs],r=t?t.get(Wo,null):null;r&&r.handleError(e)}function _b(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++];WR(n.data[o],e[o],r,a,i)}}function rj(n,e){const t=pi(e,n),r=t[ve];!function ij(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(r,t);const i=t[Dn];null!==i&&null===t[Ns]&&(t[Ns]=Yw(i,t[fs])),yb(r,t,t[Ln])}function yb(n,e,t){wf(e);try{const r=n.viewQuery;null!==r&&mb(1,r,t);const i=n.template;null!==i&&BR(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&ZR(n,e),n.staticViewQueries&&mb(2,n.viewQuery,t);const s=n.components;null!==s&&function sj(n,e){for(let t=0;t<e.length;t++)rj(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[it]&=-5,bf()}}let eP=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(t,r,i){const s=typeof Zone>"u"?null:Zone.current,o=function UE(n,e,t){const r=Object.create(BE);t&&(r.consumerAllowSignalWrites=!0),r.fn=n,r.schedule=e;const i=o=>{r.cleanupFn=o};return r.ref={notify:()=>Um(r),run:()=>{if(r.dirty=!1,r.hasRun&&!Bm(r))return;r.hasRun=!0;const o=Yh(r);try{r.cleanupFn(),r.cleanupFn=Wm,r.fn(i)}finally{gu(r,o)}},cleanup:()=>r.cleanupFn()},r.ref}(t,c=>{this.all.has(c)&&this.queue.set(c,s)},i);let a;this.all.add(o),o.notify();const l=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=r?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[t,r]of this.queue)this.queue.delete(t),r?r.run(()=>t.run()):t.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=Te({token:n,providedIn:"root",factory:()=>new n})}return n})();function tP(n,e){!e?.injector&&function tb(n){if(!Qc()&&!function DE(){return to}())throw new k(-203,!1)}();const t=e?.injector??_e(qi),r=t.get(eP),i=!0!==e?.manualCleanup?t.get(K_):null;return r.create(n,i,!!e?.allowSignalWrites)}function X_(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=nr(i,a):2==s&&(r=nr(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function Gf(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];null!==s&&r.push(qt(s)),Hr(s)&&nP(s,r);const o=t.type;if(8&o)Gf(n,e,t.child,r);else if(32&o){const a=Iw(t,e);let l;for(;l=a();)r.push(l)}else if(16&o){const a=L1(e,t);if(Array.isArray(a))r.push(...a);else{const l=Of(e[yn]);Gf(l[ve],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function nP(n,e){for(let t=cr;t<n.length;t++){const r=n[t],i=r[ve].firstChild;null!==i&&Gf(r[ve],r,i,e)}n[ms]!==n[Dn]&&e.push(n[ms])}function ey(n,e,t,r=!0){const i=e[Ta],s=i.rendererFactory,o=i.afterRenderEventManager;s.begin?.(),o?.begin();try{rP(n,e,n.template,t)}catch(l){throw r&&XR(e,l),l}finally{s.end?.(),i.effectManager?.flush(),o?.end()}}function rP(n,e,t,r){const i=e[it];if(256!=(256&i)){e[Ta].effectManager?.flush(),wf(e);try{Ym(e),function gf(n){return qe.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&BR(n,e,t,2,r);const o=3==(3&i);if(o){const c=n.preOrderCheckHooks;null!==c&&Du(e,c,null)}else{const c=n.preOrderHooks;null!==c&&Ma(e,c,0,null),zl(e,0)}if(function aj(n){for(let e=T1(n);null!==e;e=C1(e)){if(!e[Wh])continue;const t=e[Da];for(let r=0;r<t.length;r++){cf(t[r])}}}(e),iP(e,2),null!==n.contentQueries&&ZR(n,e),o){const c=n.contentCheckHooks;null!==c&&Du(e,c)}else{const c=n.contentHooks;null!==c&&Ma(e,c,1),zl(e,1)}!function N6(n,e){const t=n.hostBindingOpCodes;if(null===t)return;const r=OR(e,Sa);try{for(let i=0;i<t.length;i++){const s=t[i];if(s<0)$o(~s);else{const o=s,a=t[++i],l=t[++i];_f(a,o),r.dirty=!1;const c=Yh(r);try{l(2,e[o])}finally{gu(r,c)}}}}finally{null===e[Sa]&&kR(e,Sa),$o(-1)}}(n,e);const a=n.components;null!==a&&oP(e,a,0);const l=n.viewQuery;if(null!==l&&mb(2,l,r),o){const c=n.viewCheckHooks;null!==c&&Du(e,c)}else{const c=n.viewHooks;null!==c&&Ma(e,c,2),zl(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[it]&=-73,Jm(e)}finally{bf()}}}function iP(n,e){for(let t=T1(n);null!==t;t=C1(t))for(let r=cr;r<t.length;r++)sP(t[r],e)}function lj(n,e,t){sP(pi(e,n),t)}function sP(n,e){if(!function lf(n){return 128==(128&n[it])}(n))return;const t=n[ve],r=n[it];if(80&r&&0===e||1024&r||2===e)rP(t,n,t.template,n[Ln]);else if(n[xl]>0){iP(n,1);const i=t.components;null!==i&&oP(n,i,1)}}function oP(n,e,t){for(let r=0;r<e.length;r++)lj(n,e[r],t)}class Wf{get rootNodes(){const e=this._lView,t=e[ve];return Gf(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ln]}set context(e){this._lView[Ln]=e}get destroyed(){return 256==(256&this._lView[it])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Jt];if(Hr(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(R_(e,r),y_(t,r))}this._attachedToViewContainer=!1}ww(this._lView[ve],this._lView)}onDestroy(e){Xm(this._lView,e)}markForCheck(){zf(this._cdRefInjectingView||this._lView)}detach(){this._lView[it]&=-129}reattach(){this._lView[it]|=128}detectChanges(){ey(this._lView[ve],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new k(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function t5(n,e){Lf(n,e,e[Ze],2,null,null)}(this._lView[ve],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new k(902,!1);this._appRef=e}}class cj extends Wf{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;ey(e[ve],e,e[Ln],!1)}checkNoChanges(){}get context(){return null}}class aP extends W_{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=It(e);return new Kf(t,this.ngModule)}}function lP(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class dj{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=tu(r);const i=this.injector.get(e,eb,r);return i!==eb||t===eb?i:this.parentInjector.get(e,t,r)}}class Kf extends hR{get inputs(){const e=this.componentDef,t=e.inputTransforms,r=lP(e.inputs);if(null!==t)for(const i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return lP(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function zh(n){return n.map(Sm).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let s=(i=i||this.ngModule)instanceof zi?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new dj(e,s):e,a=o.get($f,null);if(null===a)throw new k(407,!1);const g={rendererFactory:a,sanitizer:o.get(c6,null),effectManager:o.get(eP,null),afterRenderEventManager:o.get(ab,null)},m=a.createRenderer(null,this.componentDef),y=this.componentDef.selectors[0][0]||"div",w=r?function k6(n,e,t,r){const s=r.get(PR,!1)||t===Ti.ShadowDom,o=n.selectRootElement(e,s);return function L6(n){HR(n)}(o),o}(m,r,this.componentDef.encapsulation,o):A_(m,y,function uj(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(y)),O=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let P=null;null!==w&&(P=Yw(w,o,!0));const F=hb(0,null,null,1,0,null,null,null,null,null,null),Q=Y_(null,F,null,O,null,null,g,m,o,null,P);let he,Me;wf(Q);try{const tt=this.componentDef;let en,bi=null;tt.findHostDirectiveDefs?(en=[],bi=new Map,tt.findHostDirectiveDefs(tt,en,bi),en.push(tt)):en=[tt];const ki=function fj(n,e){const t=n[ve],r=gt;return n[r]=e,Ju(t,r,2,"#host",null)}(Q,w),_E=function pj(n,e,t,r,i,s,o){const a=i[ve];!function gj(n,e,t,r){for(const i of n)e.mergedAttrs=io(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(X_(e,e.mergedAttrs,!0),null!==t&&B1(r,t,e))}(r,n,e,o);let l=null;null!==e&&(l=Yw(e,i[fs]));const c=s.rendererFactory.createRenderer(e,t);let h=16;t.signals?h=4096:t.onPush&&(h=64);const g=Y_(i,jR(t),null,h,i[n.index],n,s,c,null,null,l);return a.firstCreatePass&&pb(a,n,r.length-1),J_(i,g),i[n.index]=g}(ki,w,tt,en,Q,g,m);Me=Iu(F,gt),w&&function _j(n,e,t,r){if(r)iu(n,t,["ng-version",pR.full]);else{const{attrs:i,classes:s}=function Dm(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!jr(i))break;i=s}r++}return{attrs:e,classes:t}}(e.selectors[0]);i&&iu(n,t,i),s&&s.length>0&&U1(n,t,s.join(" "))}}(m,tt,w,r),void 0!==t&&function yj(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const s=t[i];r.push(null!=s?Array.from(s):null)}}(Me,this.ngContentSelectors,t),he=function mj(n,e,t,r,i,s){const o=Qn(),a=i[ve],l=zr(o,i);qR(a,i,o,t,null,r);for(let h=0;h<t.length;h++)qr(Ls(i,a,o.directiveStart+h,o),i);GR(a,i,o),l&&qr(l,i);const c=Ls(i,a,o.directiveStart+o.componentOffset,o);if(n[Ln]=i[Ln]=c,null!==s)for(const h of s)h(c,e);return cb(a,o,n),c}(_E,tt,en,bi,Q,[vj]),yb(F,Q,null)}finally{bf()}return new hj(this.componentType,he,Ku(Me,Q),Q,Me)}}class hj extends r6{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new cj(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const s=this._rootLView;_b(s[ve],s,i,e,t),this.previousInputValues.set(e,t),zf(pi(this._tNode.index,s))}}get injector(){return new hr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function vj(){const n=Qn();Su(re()[ve],n)}function Nt(n){let e=function cP(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(_s(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new k(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=ty(n.inputs),o.inputTransforms=ty(n.inputTransforms),o.declaredInputs=ty(n.declaredInputs),o.outputs=ty(n.outputs);const a=i.hostBindings;a&&bj(n,a);const l=i.viewQuery,c=i.contentQueries;if(l&&Ej(n,l),c&&wj(n,c),$t(n.inputs,i.inputs),$t(n.declaredInputs,i.declaredInputs),$t(n.outputs,i.outputs),null!==i.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),$t(o.inputTransforms,i.inputTransforms)),_s(i)&&i.data.animation){const h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===Nt&&(t=!1)}}e=Object.getPrototypeOf(e)}!function Ij(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=io(i.hostAttrs,t=io(t,i.hostAttrs))}}(r)}function ty(n){return n===hs?{}:n===Ot?[]:n}function Ej(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function wj(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function bj(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}function fP(n){const e=n.inputConfig,t={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[2]&&(t[r]=i[2])}n.inputTransforms=t}function ny(n){return!!vb(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function vb(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function _o(n,e,t){return n[e]=t}function Gr(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Xl(n,e,t,r){const i=Gr(n,e,t);return Gr(n,e+1,r)||i}function at(n,e,t,r){const i=re();return Gr(i,Ho(),e)&&(Et(),mo(sn(),i,n,e,t,r)),at}function fe(n,e,t,r,i,s,o,a){const l=re(),c=Et(),h=n+gt,g=c.firstCreatePass?function Kj(n,e,t,r,i,s,o,a,l){const c=e.consts,h=Ju(e,n,4,o||null,fo(c,a));fb(e,t,h,fo(c,l)),Su(e,h);const g=h.tView=hb(2,h,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,h),g.queries=e.queries.embeddedTView(h)),h}(h,c,l,e,t,r,i,s,o):c.data[h];Si(g,!1);const m=SP(c,l,g,n);Cu()&&x_(c,l,m,g),qr(m,l),J_(l,l[h]=KR(m,l,m,g)),fu(g)&&ub(c,l,g),null!=o&&db(l,g,a)}let SP=function DP(n,e,t,r){return go(!0),e[Ze].createComment("")};function Fs(n){return function xa(n,e){return n[e]}(function ff(){return qe.lFrame.contextLView}(),gt+n)}function Z(n,e,t){const r=re();return Gr(r,Ho(),e)&&function Gi(n,e,t,r,i,s,o,a){const l=zr(e,t);let h,c=e.inputs;!a&&null!=c&&(h=c[r])?(_b(n,t,h,r,i),Uo(e)&&function $6(n,e){const t=pi(e,n);16&t[it]||(t[it]|=64)}(t,e.index)):3&e.type&&(r=function H6(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(l,r,i))}(Et(),sn(),r,n,e,r[Ze],t,!1),Z}function Cb(n,e,t,r,i){const o=i?"class":"style";_b(n,t,e.inputs[o],o,r)}function K(n,e,t,r){const i=re(),s=Et(),o=gt+n,a=i[Ze],l=s.firstCreatePass?function Jj(n,e,t,r,i,s){const o=e.consts,l=Ju(e,n,2,r,fo(o,i));return fb(e,t,l,fo(o,s)),null!==l.attrs&&X_(l,l.attrs,!1),null!==l.mergedAttrs&&X_(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(o,s,i,e,t,r):s.data[o],c=AP(s,i,l,a,e,n);i[o]=c;const h=fu(l);return Si(l,!0),B1(a,c,l),32!=(32&l.flags)&&Cu()&&x_(s,i,c,l),0===function qE(){return qe.lFrame.elementDepthCount}()&&qr(c,i),function GE(){qe.lFrame.elementDepthCount++}(),h&&(ub(s,i,l),cb(s,l,i)),null!==r&&db(i,l),K}function ne(){let n=Qn();hf()?Hl():(n=n.parent,Si(n,!1));const e=n;(function WE(n){return qe.skipHydrationRootTNode===n})(e)&&function KE(){qe.skipHydrationRootTNode=null}(),function df(){qe.lFrame.elementDepthCount--}();const t=Et();return t.firstCreatePass&&(Su(t,n),Ll(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function f_(n){return 0!=(8&n.flags)}(e)&&Cb(t,e,re(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function Ru(n){return 0!=(16&n.flags)}(e)&&Cb(t,e,re(),e.stylesWithoutHost,!1),ne}function We(n,e,t,r){return K(n,e,t,r),ne(),We}let AP=(n,e,t,r,i,s)=>(go(!0),A_(r,i,function c_(){return qe.lFrame.currentNamespace}()));function Vs(n,e,t){const r=re(),i=Et(),s=n+gt,o=i.firstCreatePass?function tH(n,e,t,r,i){const s=e.consts,o=fo(s,r),a=Ju(e,n,8,"ng-container",o);return null!==o&&X_(a,o,!0),fb(e,t,a,fo(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,t):i.data[s];Si(o,!0);const a=RP(i,r,o,n);return r[s]=a,Cu()&&x_(i,r,a,o),qr(a,r),fu(o)&&(ub(i,r,o),cb(i,o,r)),null!=t&&db(r,o),Vs}function Us(){let n=Qn();const e=Et();return hf()?Hl():(n=n.parent,Si(n,!1)),e.firstCreatePass&&(Su(e,n),Ll(n)&&e.queries.elementEnd(n)),Us}function Xf(n,e,t){return Vs(n,e,t),Us(),Xf}let RP=(n,e,t,r)=>(go(!0),Ew(e[Ze],""));function Wt(){return re()}function ep(n){return!!n&&"function"==typeof n.then}function PP(n){return!!n&&"function"==typeof n.subscribe}function Le(n,e,t,r){const i=re(),s=Et(),o=Qn();return function MP(n,e,t,r,i,s,o){const a=fu(r),c=n.firstCreatePass&&YR(n),h=e[Ln],g=QR(e);let m=!0;if(3&r.type||o){const T=zr(r,e),S=o?o(T):T,O=g.length,P=o?Q=>o(qt(Q[r.index])):r.index;let F=null;if(!o&&a&&(F=function iH(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[ba],l=i[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==F)(F.__ngLastListenerFn__||F).__ngNextListenerFn__=s,F.__ngLastListenerFn__=s,m=!1;else{s=OP(r,e,h,s,!1);const Q=t.listen(S,i,s);g.push(s,Q),c&&c.push(i,P,O,O+1)}}else s=OP(r,e,h,s,!1);const y=r.outputs;let w;if(m&&null!==y&&(w=y[i])){const T=w.length;if(T)for(let S=0;S<T;S+=2){const he=e[w[S]][w[S+1]].subscribe(s),Me=g.length;g.push(s,he),c&&c.push(i,r.index,Me,-(Me+1))}}}(s,i,i[Ze],o,n,e,r),Le}function NP(n,e,t,r){try{return ys(6,e,t),!1!==t(r)}catch(i){return XR(n,i),!1}finally{ys(7,e,t)}}function OP(n,e,t,r,i){return function s(o){if(o===Function)return r;zf(n.componentOffset>-1?pi(n.index,e):e);let l=NP(e,t,r,o),c=s.__ngNextListenerFn__;for(;c;)l=NP(e,t,c,o)&&l,c=c.__ngNextListenerFn__;return i&&!1===l&&o.preventDefault(),l}}function Y(n=1){return function JE(n){return(qe.lFrame.contextLView=function XE(n,e){for(;n>0;)e=e[Ca],n--;return e}(n,qe.lFrame.contextLView))[Ln]}(n)}function sH(n,e){let t=null;const r=function Hh(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?jh(n,s,!0):au(r,s))return i}else t=i}return t}function ay(n){const e=re()[yn][rr];if(!e.projection){const r=e.projection=Pf(n?n.length:1,null),i=r.slice();let s=e.child;for(;null!==s;){const o=n?sH(s,n):0;null!==o&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}function ly(n,e=0,t){const r=re(),i=Et(),s=Ju(i,gt+n,16,null,t||null);null===s.projection&&(s.projection=e),Hl(),(!r[Ns]||po())&&32!=(32&s.flags)&&function c5(n,e,t){V1(e[Ze],0,e,t,Tw(n,t,e),M1(t.parent||e[rr],t,e))}(i,r,s)}function cy(n,e){return n<<17|e<<2}function La(n){return n>>17&32767}function Db(n){return 2|n}function ec(n){return(131068&n)>>2}function Ab(n,e){return-131069&n|e<<2}function Rb(n){return 1|n}function zP(n,e,t,r,i){const s=n[t+1],o=null===e;let a=r?La(s):ec(s),l=!1;for(;0!==a&&(!1===l||o);){const h=n[a+1];dH(n[a],e)&&(l=!0,n[a+1]=r?Rb(h):Db(h)),a=r?La(h):ec(h)}l&&(n[t+1]=r?Db(s):Rb(s))}function dH(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Vu(n,e)>=0}const gr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function qP(n){return n.substring(gr.key,gr.keyEnd)}function hH(n){return n.substring(gr.value,gr.valueEnd)}function GP(n,e){const t=gr.textEnd;return t===e?-1:(e=gr.keyEnd=function gH(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,gr.key=e,t),ld(n,e,t))}function WP(n,e){const t=gr.textEnd;let r=gr.key=ld(n,e,t);return t===r?-1:(r=gr.keyEnd=function mH(n,e,t){let r;for(;e<t&&(45===(r=n.charCodeAt(e))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)e++;return e}(n,r,t),r=ZP(n,r,t),r=gr.value=ld(n,r,t),r=gr.valueEnd=function _H(n,e,t){let r=-1,i=-1,s=-1,o=e,a=o;for(;o<t;){const l=n.charCodeAt(o++);if(59===l)return a;34===l||39===l?a=o=QP(n,l,o,t):e===o-4&&85===s&&82===i&&76===r&&40===l?a=o=QP(n,41,o,t):l>32&&(a=o),s=i,i=r,r=-33&l}return a}(n,r,t),ZP(n,r,t))}function KP(n){gr.key=0,gr.keyEnd=0,gr.value=0,gr.valueEnd=0,gr.textEnd=n.length}function ld(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function ZP(n,e,t,r){return(e=ld(n,e,t))<t&&e++,e}function QP(n,e,t,r){let i=-1,s=t;for(;s<r;){const o=n.charCodeAt(s++);if(o==e&&92!==i)return s;i=92==o&&92===i?0:o}throw new Error}function tp(n,e){return function js(n,e,t,r){const i=re(),s=Et(),o=vs(2);s.firstUpdatePass&&XP(s,n,o,r),e!==ot&&Gr(i,o,e)&&tx(s,s.data[Rr()],i,i[Ze],n,i[o+1]=function SH(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Oe(ka(n)))),n}(e,t),r,o)}(n,e,null,!0),tp}function yH(n,e){for(let t=function pH(n){return KP(n),WP(n,ld(n,0,gr.textEnd))}(e);t>=0;t=WP(e,t))ex(n,qP(e),hH(e))}function ws(n){Hs(TH,yo,n,!0)}function yo(n,e){for(let t=function fH(n){return KP(n),GP(n,ld(n,0,gr.textEnd))}(e);t>=0;t=GP(e,t))$i(n,qP(e),!0)}function Hs(n,e,t,r){const i=Et(),s=vs(2);i.firstUpdatePass&&XP(i,null,s,r);const o=re();if(t!==ot&&Gr(o,s,t)){const a=i.data[Rr()];if(rx(a,r)&&!JP(i,s)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(t=nr(l,t||"")),Cb(i,a,o,t,r)}else!function CH(n,e,t,r,i,s,o,a){i===ot&&(i=Ot);let l=0,c=0,h=0<i.length?i[0]:null,g=0<s.length?s[0]:null;for(;null!==h||null!==g;){const m=l<i.length?i[l+1]:void 0,y=c<s.length?s[c+1]:void 0;let T,w=null;h===g?(l+=2,c+=2,m!==y&&(w=g,T=y)):null===g||null!==h&&h<g?(l+=2,w=h):(c+=2,w=g,T=y),null!==w&&tx(n,e,t,r,w,T,o,a),h=l<i.length?i[l]:null,g=c<s.length?s[c]:null}}(i,a,o,o[Ze],o[s+1],o[s+1]=function bH(n,e,t){if(null==t||""===t)return Ot;const r=[],i=ka(t);if(Array.isArray(i))for(let s=0;s<i.length;s++)n(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&n(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(n,e,t),r,s)}}function JP(n,e){return e>=n.expandoStartIndex}function XP(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[Rr()],o=JP(n,t);rx(s,r)&&null===e&&!o&&(e=!1),e=function vH(n,e,t,r){const i=function vf(n){const e=qe.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=np(t=Pb(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=Pb(i,n,e,t,r),null===s){let l=function IH(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==ec(r))return n[La(r)]}(n,e,r);void 0!==l&&Array.isArray(l)&&(l=Pb(null,n,e,l[1],r),l=np(l,e.attrs,r),function EH(n,e,t,r){n[La(t?e.classBindings:e.styleBindings)]=r}(n,e,r,l))}else s=function wH(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=np(r,n[s].hostAttrs,t);return np(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function cH(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=La(o),l=ec(o);n[r]=t;let h,c=!1;if(Array.isArray(t)?(h=t[1],(null===h||Vu(t,h)>0)&&(c=!0)):h=t,i)if(0!==l){const m=La(n[a+1]);n[r+1]=cy(m,a),0!==m&&(n[m+1]=Ab(n[m+1],r)),n[a+1]=function aH(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=cy(a,0),0!==a&&(n[a+1]=Ab(n[a+1],r)),a=r;else n[r+1]=cy(l,0),0===a?a=r:n[l+1]=Ab(n[l+1],r),l=r;c&&(n[r+1]=Db(n[r+1])),zP(n,h,r,!0),zP(n,h,r,!1),function uH(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&Vu(s,e)>=0&&(t[r+1]=Rb(t[r+1]))}(e,h,n,r,s),o=cy(a,l),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}function Pb(n,e,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],r=np(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function np(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),$i(n,o,!!t||e[++s]))}return void 0===n?null:n}function ex(n,e,t){$i(n,e,ka(t))}function TH(n,e,t){const r=String(e);""!==r&&!r.includes(" ")&&$i(n,r,t)}function tx(n,e,t,r,i,s,o,a){if(!(3&e.type))return;const l=n.data,c=l[a+1],h=function lH(n){return 1==(1&n)}(c)?nx(l,e,t,i,ec(c),o):void 0;uy(h)||(uy(s)||function oH(n){return 2==(2&n)}(c)&&(s=nx(l,null,t,i,a,o)),function d5(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=-1===r.indexOf("-")?void 0:Oa.DashCase;null==i?n.removeStyle(t,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Oa.Important),n.setStyle(t,r,i,s))}}(r,o,Pa(Rr(),t),i,s))}function nx(n,e,t,r,i,s){const o=null===e;let a;for(;i>0;){const l=n[i],c=Array.isArray(l),h=c?l[1]:l,g=null===h;let m=t[i+1];m===ot&&(m=g?Ot:void 0);let y=g?dw(m,r):h===r?m:void 0;if(c&&!uy(y)&&(y=dw(l,r)),uy(y)&&(a=y,o))return a;const w=n[i+1];i=o?La(w):ec(w)}if(null!==e){let l=s?e.residualClasses:e.residualStyles;null!=l&&(a=dw(l,r))}return a}function uy(n){return void 0!==n}function rx(n,e){return 0!=(n.flags&(e?8:16))}function Ke(n,e=""){const t=re(),r=Et(),i=n+gt,s=r.firstCreatePass?Ju(r,i,1,e,null):r.data[i],o=ix(r,t,s,e,n);t[i]=o,Cu()&&x_(r,t,o,s),Si(s,!1)}let ix=(n,e,t,r,i)=>(go(!0),function D_(n,e){return n.createText(e)}(e[Ze],r));function Qo(n){return tc("",n,""),Qo}function tc(n,e,t){const r=re(),i=function ed(n,e,t,r){return Gr(n,Ho(),t)?e+Ae(t)+r:ot}(r,n,e,t);return i!==ot&&function Zo(n,e,t){const r=Pa(e,n);!function D1(n,e,t){n.setValue(e,t)}(n[Ze],r,t)}(r,Rr(),i),tc}const ud="en-US";let Sx=ud;function Nb(n,e,t,r,i){if(n=x(n),Array.isArray(n))for(let s=0;s<n.length;s++)Nb(n[s],e,t,r,i);else{const s=Et(),o=re(),a=Qn();let l=Jl(n)?n:x(n.provide);const c=sR(n),h=1048575&a.providerIndexes,g=a.directiveStart,m=a.providerIndexes>>20;if(Jl(n)||!n.multi){const y=new ql(c,i,$),w=kb(l,e,i?h:h+m,g);-1===w?(se(_(a,o),s,l),Ob(s,n,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(y),o.push(y)):(t[w]=y,o[w]=y)}else{const y=kb(l,e,h+m,g),w=kb(l,e,h,h+m),S=w>=0&&t[w];if(i&&!S||!i&&!(y>=0&&t[y])){se(_(a,o),s,l);const O=function W9(n,e,t,r,i){const s=new ql(n,t,$);return s.multi=[],s.index=e,s.componentProviders=0,Yx(s,i,r&&!t),s}(i?G9:q9,t.length,i,r,c);!i&&S&&(t[w].providerFactory=O),Ob(s,n,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(O),o.push(O)}else Ob(s,n,y>-1?y:w,Yx(t[i?w:y],c,!i&&r));!i&&r&&S&&t[w].componentProviders++}}}function Ob(n,e,t,r){const i=Jl(e),s=function B5(n){return!!n.useClass}(e);if(i||s){const l=(s?x(e.useClass):e).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const h=c.indexOf(t);-1===h?c.push(t,[r,l]):c[h+1].push(r,l)}else c.push(t,l)}}}function Yx(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function kb(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function q9(n,e,t,r){return Lb(this.multi,[])}function G9(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Ls(t,t[ve],this.providerFactory.index,r);s=a.slice(0,o),Lb(i,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],Lb(i,s);return s}function Lb(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function un(n,e=[]){return t=>{t.providersResolver=(r,i)=>function z9(n,e,t){const r=Et();if(r.firstCreatePass){const i=_s(n);Nb(t,r.data,r.blueprint,i,!0),Nb(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class rc{}class Jx{}class Fb extends rc{constructor(e,t,r){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new aP(this);const i=hi(e);this._bootstrapComponents=Ko(i.bootstrap),this._r3Injector=vR(e,t,[{provide:rc,useValue:this},{provide:W_,useValue:this.componentFactoryResolver},...r],Oe(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Vb extends Jx{constructor(e){super(),this.moduleType=e}create(e){return new Fb(this.moduleType,e,[])}}class Xx extends rc{constructor(e){super(),this.componentFactoryResolver=new aP(this),this.instance=null;const t=new B_([...e.providers,{provide:rc,useValue:this},{provide:W_,useValue:this.componentFactoryResolver}],e.parent||U_(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Ub(n,e,t=null){return new Xx({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}let Q9=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const r=tR(0,t.type),i=r.length>0?Ub([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Te({token:n,providedIn:"environment",factory:()=>new n(le(zi))})}return n})();function Yo(n){n.getStandaloneInjector=e=>e.get(Q9).getOrCreateStandaloneInjector(n)}function lp(n,e,t,r){return function aM(n,e,t,r,i,s){const o=e+t;return Gr(n,o,i)?_o(n,o+1,s?r.call(s,i):r(i)):cp(n,o+1)}(re(),dr(),n,e,t,r)}function gy(n,e,t,r,i){return function lM(n,e,t,r,i,s,o){const a=e+t;return Xl(n,a,i,s)?_o(n,a+2,o?r.call(o,i,s):r(i,s)):cp(n,a+2)}(re(),dr(),n,e,t,r,i)}function my(n,e,t,r,i,s){return function cM(n,e,t,r,i,s,o,a){const l=e+t;return function ry(n,e,t,r,i){const s=Xl(n,e,t,r);return Gr(n,e+2,i)||s}(n,l,i,s,o)?_o(n,l+3,a?r.call(a,i,s,o):r(i,s,o)):cp(n,l+3)}(re(),dr(),n,e,t,r,i,s)}function cp(n,e){const t=n[e];return t===ot?void 0:t}function y$(){return this._results[Symbol.iterator]()}class jb{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Vt)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=jb.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=y$)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=function Is(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function p3(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function I$(n,e,t,r=!0){const i=e[ve];if(function r5(n,e,t,r){const i=cr+r,s=t.length;r>0&&(t[i-1][Hi]=e),r<s-cr?(e[Hi]=t[i],n1(t,cr+r,e)):(t.push(e),e[Hi]=null),e[Jt]=t;const o=e[Nl];null!==o&&t!==o&&function i5(n,e){const t=n[Da];e[yn]!==e[Jt][Jt][yn]&&(n[Wh]=!0),null===t?n[Da]=[e]:t.push(e)}(o,e);const a=e[ps];null!==a&&a.insertView(n),e[it]|=128}(i,e,n,t),r){const s=Sw(t,n),o=e[Ze],a=P_(o,n[ms]);null!==a&&function e5(n,e,t,r,i,s){r[Dn]=i,r[rr]=e,Lf(n,r,t,1,i,s)}(i,n[rr],o,e,a,s)}}let $s=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=b$}return n})();const E$=$s,w$=class extends E${constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){const i=function v$(n,e,t,r){const i=e.tView,a=Y_(n,i,t,4096&n[it]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[Nl]=n[e.index];const c=n[ps];return null!==c&&(a[ps]=c.createEmbeddedView(i)),yb(i,a,t),a}(this._declarationLView,this._declarationTContainer,e,{injector:t,hydrationInfo:r});return new Wf(i)}};function b$(){return _y(Qn(),re())}function _y(n,e){return 4&n.type?new w$(e,n,Ku(n,e)):null}let bs=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=R$}return n})();function R$(){return yM(Qn(),re())}const P$=bs,mM=class extends P${constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Ku(this._hostTNode,this._hostLView)}get injector(){return new hr(this._hostTNode,this._hostLView)}get parentInjector(){const e=U(this._hostTNode,this._hostLView);if(Sf(e)){const t=Wl(e,this._hostLView),r=Gl(e);return new hr(t[ve].data[r+8],t)}return new hr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=_M(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-cr}createEmbeddedView(e,t,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(t||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,t,r,i,s){const o=e&&!function Rf(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const T=t||{};a=T.index,r=T.injector,i=T.projectableNodes,s=T.environmentInjector||T.ngModuleRef}const l=o?e:new Kf(It(e)),c=r||this.parentInjector;if(!s&&null==l.ngModule){const S=(o?c:this.parentInjector).get(zi,null);S&&(s=S)}It(l.componentType??{});const y=l.create(c,i,null,s);return this.insertImpl(y.hostView,a,false),y}insert(e,t){return this.insertImpl(e,t,!1)}insertImpl(e,t,r){const i=e._lView;if(function Qm(n){return Hr(n[Jt])}(i)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const c=i[Jt],h=new mM(c,c[rr],c[Jt]);h.detach(h.indexOf(e))}}const o=this._adjustIndex(t),a=this._lContainer;return I$(a,i,o,!r),e.attachToViewContainerRef(),n1(Hb(a),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=_M(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=R_(this._lContainer,t);r&&(y_(Hb(this._lContainer),t),ww(r[ve],r))}detach(e){const t=this._adjustIndex(e,-1),r=R_(this._lContainer,t);return r&&null!=y_(Hb(this._lContainer),t)?new Wf(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function _M(n){return n[8]}function Hb(n){return n[8]||(n[8]=[])}function yM(n,e){let t;const r=e[n.index];return Hr(r)?t=r:(t=KR(r,e,null,n),e[n.index]=t,J_(e,t)),vM(t,e,n,r),new mM(t,n,e)}let vM=function IM(n,e,t,r){if(n[ms])return;let i;i=8&t.type?qt(r):function x$(n,e){const t=n[Ze],r=t.createComment(""),i=zr(e,n);return Yl(t,P_(t,i),r,function l5(n,e){return n.nextSibling(e)}(t,i),!1),r}(e,t),n[ms]=i};class $b{constructor(e){this.queryList=e,this.matches=null}clone(){return new $b(this.queryList)}setDirty(){this.queryList.setDirty()}}class zb{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){const o=t.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new zb(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==CM(e,t).matches&&this.queries[t].setDirty()}}class EM{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class qb{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==t?t.push(s):t=[s])}return null!==t?new qb(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Gb{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new Gb(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,t,O$(t,s)),this.matchTNodeWithReadOption(e,t,Zl(t,e,s,!1,!1))}else r===$s?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Zl(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===pr||i===bs||i===$s&&4&t.type)this.addMatch(t.index,-2);else{const s=Zl(t,e,i,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function O$(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function L$(n,e,t,r){return-1===t?function k$(n,e){return 11&n.type?Ku(n,e):4&n.type?_y(n,e):null}(e,n):-2===t?function F$(n,e,t){return t===pr?Ku(e,n):t===$s?_y(e,n):t===bs?yM(e,n):void 0}(n,e,r):Ls(n,n[ve],t,e)}function wM(n,e,t,r){const i=e[ps].queries[r];if(null===i.matches){const s=n.data,o=t.matches,a=[];for(let l=0;l<o.length;l+=2){const c=o[l];a.push(c<0?null:L$(e,s[c],o[l+1],t.metadata.read))}i.matches=a}return i.matches}function Wb(n,e,t,r){const i=n.queries.getByIndex(t),s=i.matches;if(null!==s){const o=wM(n,e,i,t);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)r.push(o[a/2]);else{const c=s[a+1],h=e[-l];for(let g=cr;g<h.length;g++){const m=h[g];m[Nl]===m[Jt]&&Wb(m[ve],m,c,r)}if(null!==h[Da]){const g=h[Da];for(let m=0;m<g.length;m++){const y=g[m];Wb(y[ve],y,c,r)}}}}}return r}function zs(n){const e=re(),t=Et(),r=Tu();If(r+1);const i=CM(t,r);if(n.dirty&&function zE(n){return 4==(4&n[it])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const s=i.crossesNgTemplate?Wb(t,e,r,[]):wM(t,e,i,r);n.reset(s,a6),n.notifyOnChanges()}return!0}return!1}function ic(n,e,t){const r=Et();r.firstCreatePass&&(TM(r,new EM(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),bM(r,re(),e)}function dp(n,e,t,r){const i=Et();if(i.firstCreatePass){const s=Qn();TM(i,new EM(e,t,r),s.index),function U$(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(i,n),2==(2&t)&&(i.staticContentQueries=!0)}bM(i,re(),t)}function qs(){return function V$(n,e){return n[ps].queries[e].queryList}(re(),Tu())}function bM(n,e,t){const r=new jb(4==(4&t));(function U6(n,e,t,r){const i=QR(e);i.push(t),n.firstCreatePass&&YR(n).push(r,i.length-1)})(n,e,r,r.destroy),null===e[ps]&&(e[ps]=new zb),e[ps].queries.push(new $b(r))}function TM(n,e,t){null===n.queries&&(n.queries=new qb),n.queries.track(new Gb(e,t))}function CM(n,e){return n.queries.getByIndex(e)}function vy(n,e){return _y(n,e)}const Xb=new ge("Application Initializer");let eT=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=_e(Xb,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const i of this.appInits){const s=i();if(ep(s))t.push(s);else if(PP(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});t.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),HM=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Te({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const Jo=new ge("LocaleId",{providedIn:"root",factory:()=>_e(Jo,pt.Optional|pt.SkipSelf)||function o8(){return typeof $localize<"u"&&$localize.locale||ud}()});let Ey=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new v(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class c8{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let $M=(()=>{class n{compileModuleSync(t){return new Vb(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=Ko(hi(t).declarations).reduce((o,a)=>{const l=It(a);return l&&o.push(new Kf(l)),o},[]);return new c8(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const WM=new ge(""),by=new ge("");let sT,rT=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,sT||(function R8(n){sT=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Mt.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||n)(le(Mt),le(iT),le(by))};static#t=this.\u0275prov=Te({token:n,factory:n.\u0275fac})}return n})(),iT=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return sT?.findTestabilityInTree(this,t,r)??null}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Te({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),Fa=null;const KM=new ge("AllowMultipleToken"),oT=new ge("PlatformDestroyListeners"),aT=new ge("appBootstrapListener");class QM{constructor(e,t){this.name=e,this.token=t}}function JM(n,e,t=[]){const r=`Platform: ${e}`,i=new ge(r);return(s=[])=>{let o=lT();if(!o||o.injector.get(KM,!1)){const a=[...t,...s,{provide:i,useValue:!0}];n?n(a):function M8(n){if(Fa&&!Fa.get(KM,!1))throw new k(400,!1);(function ZM(){!function qm(n){$m=n}(()=>{throw new k(600,!1)})})(),Fa=n;const e=n.get(eN);(function YM(n){n.get(oR,null)?.forEach(t=>t())})(n)}(function XM(n=[],e){return qi.create({name:e,providers:[{provide:Bw,useValue:"platform"},{provide:oT,useValue:new Set([()=>Fa=null])},...n]})}(a,r))}return function O8(n){const e=lT();if(!e)throw new k(401,!1);return e}()}}function lT(){return Fa?.get(eN)??null}let eN=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function k8(n="zone.js",e){return"noop"===n?new w6:"zone.js"===n?new Mt(e):n}(r?.ngZone,function tN(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function Z9(n,e,t){return new Fb(n,e,t)}(t.moduleType,this.injector,function oN(n){return[{provide:Mt,useFactory:n},{provide:Bf,multi:!0,useFactory:()=>{const e=_e(F8,{optional:!0});return()=>e.initialize()}},{provide:sN,useFactory:L8},{provide:TR,useFactory:CR}]}(()=>i)),o=s.injector.get(Wo,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:l=>{o.handleError(l)}});s.onDestroy(()=>{Ty(this._modules,s),a.unsubscribe()})}),function nN(n,e,t){try{const r=t();return ep(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(o,i,()=>{const a=s.injector.get(eT);return a.runInitializers(),a.donePromise.then(()=>(function Dx(n){vr(n,"Expected localeId to be defined"),"string"==typeof n&&(Sx=n.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Jo,ud)||ud),this._moduleDoBootstrap(s),s))})})}bootstrapModule(t,r=[]){const i=rN({},r);return function P8(n,e,t){const r=new Vb(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(sc);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new k(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new k(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(oT,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||n)(le(qi))};static#t=this.\u0275prov=Te({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function rN(n,e){return Array.isArray(e)?e.reduce(rN,n):{...n,...e}}let sc=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=_e(sN),this.zoneIsStable=_e(TR),this.componentTypes=[],this.components=[],this.isStable=_e(Ey).hasPendingTasks.pipe(Se(t=>t?A(!1):this.zoneIsStable),Ge(),G()),this._injector=_e(zi)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof hR;if(!this._injector.get(eT).done)throw!i&&function so(n){const e=It(n)||Zn(n)||Ar(n);return null!==e&&e.standalone}(t),new k(405,!1);let o;o=i?t:this._injector.get(W_).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function x8(n){return n.isBoundToModule}(o)?void 0:this._injector.get(rc),c=o.create(qi.NULL,[],r||o.selector,a),h=c.location.nativeElement,g=c.injector.get(WM,null);return g?.registerApplication(h),c.onDestroy(()=>{this.detachView(c.hostView),Ty(this.components,c),g?.unregisterApplication(h)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new k(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;Ty(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(aT,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Ty(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new k(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ty(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const sN=new ge("",{providedIn:"root",factory:()=>_e(Wo).handleError.bind(void 0)});function L8(){const n=_e(Mt),e=_e(Wo);return t=>n.runOutsideAngular(()=>e.handleError(t))}let F8=(()=>{class n{constructor(){this.zone=_e(Mt),this.applicationRef=_e(sc)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();let Xo=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=U8}return n})();function U8(n){return function B8(n,e,t){if(Uo(n)&&!t){const r=pi(n.index,e);return new Wf(r,r)}return 47&n.type?new Wf(e[yn],e):null}(Qn(),re(),16==(16&n))}class dN{constructor(){}supports(e){return ny(e)}create(e){return new G8(e)}}const q8=(n,e)=>e;class G8{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||q8}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const o=!r||t&&t.currentIndex<fN(r,i,s)?t:r,a=fN(o,i,s),l=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,h=l-i;if(c!=h){for(let m=0;m<c;m++){const y=m<s.length?s[m]:s[m]=0,w=y+m;h<=w&&w<c&&(s[m]=y+1)}s[o.previousIndex]=h-c}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!ny(e))throw new k(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),r=!0),t=t._next}else i=0,function Pj(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new W8(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new hN),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new hN),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class W8{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class K8{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class hN{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new K8,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function fN(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class pN{constructor(){}supports(e){return e instanceof Map||vb(e)}create(){return new Z8}}class Z8{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||vb(e)))throw new k(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new Q8(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class Q8{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function gN(){return new Dy([new dN])}let Dy=(()=>{class n{static#e=this.\u0275prov=Te({token:n,providedIn:"root",factory:gN});constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||gN()),deps:[[n,new I_,new xf]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new k(901,!1)}}return n})();function mN(){return new pp([new pN])}let pp=(()=>{class n{static#e=this.\u0275prov=Te({token:n,providedIn:"root",factory:mN});constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||mN()),deps:[[n,new I_,new xf]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new k(901,!1)}}return n})();const X8=JM(null,"core",[]);let e7=(()=>{class n{constructor(t){}static#e=this.\u0275fac=function(r){return new(r||n)(le(sc))};static#t=this.\u0275mod=rn({type:n});static#n=this.\u0275inj=nn({})}return n})();function fd(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let pT=null;function Va(){return pT}class p7{}const Ir=new ge("DocumentToken");let gT=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Te({token:n,factory:function(){return _e(m7)},providedIn:"platform"})}return n})();const g7=new ge("Location Initialized");let m7=(()=>{class n extends gT{constructor(){super(),this._doc=_e(Ir),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Va().getBaseHref(this._doc)}onPopState(t){const r=Va().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Va().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Te({token:n,factory:function(){return new n},providedIn:"platform"})}return n})();function mT(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function CN(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function ea(n){return n&&"?"!==n[0]?"?"+n:n}let ac=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Te({token:n,factory:function(){return _e(DN)},providedIn:"root"})}return n})();const SN=new ge("appBaseHref");let DN=(()=>{class n extends ac{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??_e(Ir).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return mT(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+ea(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+ea(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+ea(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||n)(le(gT),le(SN,8))};static#t=this.\u0275prov=Te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),_7=(()=>{class n extends ac{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=mT(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+ea(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+ea(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||n)(le(gT),le(SN,8))};static#t=this.\u0275prov=Te({token:n,factory:n.\u0275fac})}return n})(),_T=(()=>{class n{constructor(t){this._subject=new Vt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function I7(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(CN(AN(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+ea(r))}normalize(t){return n.stripTrailingSlash(function v7(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,AN(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ea(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ea(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static#e=this.normalizeQueryParams=ea;static#t=this.joinWithSlash=mT;static#n=this.stripTrailingSlash=CN;static#r=this.\u0275fac=function(r){return new(r||n)(le(ac))};static#i=this.\u0275prov=Te({token:n,factory:function(){return function y7(){return new _T(le(ac))}()},providedIn:"root"})}return n})();function AN(n){return n.replace(/\/index.html$/,"")}function FN(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}const DT=/\s+/,VN=[];let gd=(()=>{class n{constructor(t,r,i,s){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this.initialClasses=VN,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(DT):VN}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(DT):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){const i=this.stateMap.get(t);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(DT).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static#e=this.\u0275fac=function(r){return new(r||n)($(Dy),$(pp),$(pr),$(Ri))};static#t=this.\u0275dir=je({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return n})();class sz{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let AT=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new sz(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),BN(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{BN(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}static#e=this.\u0275fac=function(r){return new(r||n)($(bs),$($s),$(Dy))};static#t=this.\u0275dir=je({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function BN(n,e){n.context.$implicit=e.item}let ra=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new oz,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){jN("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){jN("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static#e=this.\u0275fac=function(r){return new(r||n)($(bs),$($s))};static#t=this.\u0275dir=je({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class oz{constructor(){this.$implicit=null,this.ngIf=null}}function jN(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Oe(e)}'.`)}let _p=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,s]=t.split("."),o=-1===i.indexOf("-")?void 0:Oa.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,s?`${r}${s}`:r,o):this._renderer.removeStyle(this._ngEl.nativeElement,i,o)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static#e=this.\u0275fac=function(r){return new(r||n)($(pr),$(pp),$(Ri))};static#t=this.\u0275dir=je({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return n})(),yp=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:i,ngTemplateOutletContext:s,ngTemplateOutletInjector:o}=this;this._viewRef=r.createEmbeddedView(i,s,o?{injector:o}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(r){return new(r||n)($(bs))};static#t=this.\u0275dir=je({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[$r]})}return n})(),vo=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=rn({type:n});static#n=this.\u0275inj=nn({})}return n})();const zN="browser";function lc(n){return n===zN}function Uy(n){return"server"===n}let kz=(()=>{class n{static#e=this.\u0275prov=Te({token:n,providedIn:"root",factory:()=>new Lz(le(Ir),window)})}return n})();class Lz{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Fz(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class qN{}class oq extends p7{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class kT extends oq{static makeCurrent(){!function f7(n){pT||(pT=n)}(new kT)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function aq(){return Ip=Ip||document.querySelector("base"),Ip?Ip.getAttribute("href"):null}();return null==t?null:function lq(n){Hy=Hy||document.createElement("a"),Hy.setAttribute("href",n);const e=Hy.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Ip=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return FN(document.cookie,e)}}let Hy,Ip=null,uq=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Te({token:n,factory:n.\u0275fac})}return n})();const LT=new ge("EventManagerPlugins");let QN=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(s=>s.supports(t)),!r)throw new k(5101,!1);return this._eventNameToPlugin.set(t,r),r}static#e=this.\u0275fac=function(r){return new(r||n)(le(LT),le(Mt))};static#t=this.\u0275prov=Te({token:n,factory:n.\u0275fac})}return n})();class YN{constructor(e){this._doc=e}}const FT="ng-app-id";let JN=(()=>{class n{constructor(t,r,i,s={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Uy(s),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${FT}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){const i=this.styleRef;if(i.has(t)){const s=i.get(t);return s.usage+=r,s.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===t)return i.delete(r),s.removeAttribute(FT),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(FT,this.appId),o}}addStyleToHost(t,r){const i=this.getStyleElement(t,r);t.appendChild(i);const s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||n)(le(Ir),le(j_),le(lR,8),le(Ai))};static#t=this.\u0275prov=Te({token:n,factory:n.\u0275fac})}return n})();const VT={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},UT=/%COMP%/g,pq=new ge("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function eO(n,e){return e.map(t=>t.replace(UT,n))}let BT=(()=>{class n{constructor(t,r,i,s,o,a,l,c=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=Uy(a),this.defaultRenderer=new jT(t,o,l,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Ti.ShadowDom&&(r={...r,encapsulation:Ti.Emulated});const i=this.getOrCreateRenderer(t,r);return i instanceof nO?i.applyToHost(t):i instanceof HT&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,g=this.platformIsServer;switch(r.encapsulation){case Ti.Emulated:s=new nO(l,c,r,this.appId,h,o,a,g);break;case Ti.ShadowDom:return new yq(l,c,t,r,o,a,this.nonce,g);default:s=new HT(l,c,r,h,o,a,g)}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||n)(le(QN),le(JN),le(j_),le(pq),le(Ir),le(Ai),le(Mt),le(lR))};static#t=this.\u0275prov=Te({token:n,factory:n.\u0275fac})}return n})();class jT{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(VT[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(tO(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(tO(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new k(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=VT[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=VT[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Oa.DashCase|Oa.Important)?e.style.setProperty(t,r,i&Oa.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Oa.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){if("string"==typeof e&&!(e=Va().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function tO(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class yq extends jT{constructor(e,t,r,i,s,o,a,l){super(e,s,o,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=eO(i.id,i.styles);for(const h of c){const g=document.createElement("style");a&&g.setAttribute("nonce",a),g.textContent=h,this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class HT extends jT{constructor(e,t,r,i,s,o,a,l){super(e,s,o,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=l?eO(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class nO extends HT{constructor(e,t,r,i,s,o,a,l){const c=i+"-"+r.id;super(e,t,r,s,o,a,l,c),this.contentAttr=function gq(n){return"_ngcontent-%COMP%".replace(UT,n)}(c),this.hostAttr=function mq(n){return"_nghost-%COMP%".replace(UT,n)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let vq=(()=>{class n extends YN{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||n)(le(Ir))};static#t=this.\u0275prov=Te({token:n,factory:n.\u0275fac})}return n})();const rO=["alt","control","meta","shift"],Iq={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Eq={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let wq=(()=>{class n extends YN{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Va().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),rO.forEach(c=>{const h=r.indexOf(c);h>-1&&(r.splice(h,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const l={};return l.domEventName=i,l.fullKey=o,l}static matchEventFullKeyCode(t,r){let i=Iq[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),rO.forEach(o=>{o!==i&&(0,Eq[o])(t)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(r){return new(r||n)(le(Ir))};static#t=this.\u0275prov=Te({token:n,factory:n.\u0275fac})}return n})();const sO=[{provide:Ai,useValue:zN},{provide:oR,useValue:function bq(){kT.makeCurrent()},multi:!0},{provide:Ir,useFactory:function Cq(){return function m5(n){Rw=n}(document),document},deps:[]}],Sq=JM(X8,"browser",sO),Dq=new ge(""),oO=[{provide:by,useClass:class cq{addToWindow(e){zt.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new k(5103,!1);return s},zt.getAllAngularTestabilities=()=>e.getAllTestabilities(),zt.getAllAngularRootElements=()=>e.getAllRootElements(),zt.frameworkStabilizers||(zt.frameworkStabilizers=[]),zt.frameworkStabilizers.push(r=>{const i=zt.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(l){o=o||l,s--,0==s&&r(o)};i.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?Va().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:WM,useClass:rT,deps:[Mt,iT,by]},{provide:rT,useClass:rT,deps:[Mt,iT,by]}],aO=[{provide:Bw,useValue:"root"},{provide:Wo,useFactory:function Tq(){return new Wo},deps:[]},{provide:LT,useClass:vq,multi:!0,deps:[Ir,Mt,Ai]},{provide:LT,useClass:wq,multi:!0,deps:[Ir]},BT,JN,QN,{provide:$f,useExisting:BT},{provide:qN,useClass:uq,deps:[]},[]];let lO=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:j_,useValue:t.appId}]}}static#e=this.\u0275fac=function(r){return new(r||n)(le(Dq,12))};static#t=this.\u0275mod=rn({type:n});static#n=this.\u0275inj=nn({providers:[...aO,...oO],imports:[vo,e7]})}return n})(),cO=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(r){return new(r||n)(le(Ir))};static#t=this.\u0275prov=Te({token:n,factory:function(r){let i=null;return i=r?new r:function Rq(){return new cO(le(Ir))}(),i},providedIn:"root"})}return n})();typeof window<"u"&&window;const{isArray:kq}=Array,{getPrototypeOf:Lq,prototype:Fq,keys:Vq}=Object;function fO(n){if(1===n.length){const e=n[0];if(kq(e))return{args:e,keys:null};if(function Uq(n){return n&&"object"==typeof n&&Lq(n)===Fq}(e)){const t=Vq(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:Bq}=Array;function pO(n){return Ee(e=>function jq(n,e){return Bq(e)?n(...e):n(e)}(n,e))}function gO(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function zT(...n){const e=ji(n),t=ls(n),{args:r,keys:i}=fO(n);if(0===r.length)return I([],e);const s=new lt(function Hq(n,e,t=Mn){return r=>{mO(e,()=>{const{length:i}=n,s=new Array(i);let o=i,a=i;for(let l=0;l<i;l++)mO(e,()=>{const c=I(n[l],e);let h=!1;c.subscribe(pe(r,g=>{s[l]=g,h||(h=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>gO(i,o):Mn));return t?s.pipe(pO(t)):s}function mO(n,e,t){n?oi(t,n,e):e()}const $y=W(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function qT(...n){return function $q(){return ai(1)}()(I(n,ji(n)))}function _O(n){return new lt(e=>{Tt(n()).subscribe(e)})}function Ep(n,e){const t=C(n)?n:()=>n,r=i=>i.error(t());return new lt(e?i=>e.schedule(r,0,i):r)}function GT(){return ee((n,e)=>{let t=null;n._refCount++;const r=pe(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class yO extends lt{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,te(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Pt;const t=this.getSubject();e.add(this.source.subscribe(pe(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Pt.EMPTY)}return e}refCount(){return GT()(this)}}function md(n){return n<=0?()=>Nn:ee((e,t)=>{let r=0;e.subscribe(pe(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function zy(...n){const e=ji(n);return ee((t,r)=>{(e?qT(n,t,e):qT(n,t)).subscribe(r)})}function Ki(n,e){return ee((t,r)=>{let i=0;t.subscribe(pe(r,s=>n.call(e,s,i++)&&r.next(s)))})}function qy(n){return ee((e,t)=>{let r=!1;e.subscribe(pe(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function vO(n=zq){return ee((e,t)=>{let r=!1;e.subscribe(pe(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function zq(){return new $y}function Ba(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ki((i,s)=>n(i,s,r)):Mn,md(1),t?qy(e):vO(()=>new $y))}function _d(n,e){return C(e)?Bt(n,e,1):Bt(n,1)}function xr(n,e,t){const r=C(n)||e||t?{next:n,error:e,complete:t}:n;return r?ee((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(pe(s,l=>{var c;null===(c=r.next)||void 0===c||c.call(r,l),s.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),s.complete()},l=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,l),s.error(l)},()=>{var l,c;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Mn}function cc(n){return ee((e,t)=>{let s,r=null,i=!1;r=e.subscribe(pe(t,void 0,void 0,o=>{s=Tt(n(o,cc(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function Gy(n,e){return ee(function qq(n,e,t,r,i){return(s,o)=>{let a=t,l=e,c=0;s.subscribe(pe(o,h=>{const g=c++;l=a?n(l,h,g):(a=!0,h),r&&o.next(l)},i&&(()=>{a&&o.next(l),o.complete()})))}}(n,e,arguments.length>=2,!0))}function WT(n){return n<=0?()=>Nn:ee((e,t)=>{let r=[];e.subscribe(pe(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function wp(n){return ee((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const dt="primary",bp=Symbol("RouteTitle");class Zq{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function yd(n){return new Zq(n)}function Qq(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Io(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!IO(n[i],e[i]))return!1;return!0}function IO(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function EO(n){return n.length>0?n[n.length-1]:null}function ja(n){return function Oq(n){return!!n&&(n instanceof lt||C(n.lift)&&C(n.subscribe))}(n)?n:ep(n)?I(Promise.resolve(n)):A(n)}const Jq={exact:function TO(n,e,t){if(!uc(n.segments,e.segments)||!Wy(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!TO(n.children[r],e.children[r],t))return!1;return!0},subset:CO},wO={exact:function Xq(n,e){return Io(n,e)},subset:function eG(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>IO(n[t],e[t]))},ignored:()=>!0};function bO(n,e,t){return Jq[t.paths](n.root,e.root,t.matrixParams)&&wO[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function CO(n,e,t){return SO(n,e,e.segments,t)}function SO(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!uc(i,t)||e.hasChildren()||!Wy(i,t,r))}if(n.segments.length===t.length){if(!uc(n.segments,t)||!Wy(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!CO(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(uc(n.segments,i)&&Wy(n.segments,i,r)&&n.children[dt])&&SO(n.children[dt],e,s,r)}}function Wy(n,e,t){return e.every((r,i)=>wO[t](n[i].parameters,r.parameters))}class vd{constructor(e=new Kt([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=yd(this.queryParams)),this._queryParamMap}toString(){return rG.serialize(this)}}class Kt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ky(this)}}class Tp{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=yd(this.parameters)),this._parameterMap}toString(){return RO(this)}}function uc(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Cp=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Te({token:n,factory:function(){return new KT},providedIn:"root"})}return n})();class KT{parse(e){const t=new pG(e);return new vd(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Sp(e.root,!0)}`,r=function oG(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Zy(t)}=${Zy(i)}`).join("&"):`${Zy(t)}=${Zy(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function iG(n){return encodeURI(n)}(e.fragment)}`:""}`}}const rG=new KT;function Ky(n){return n.segments.map(e=>RO(e)).join("/")}function Sp(n,e){if(!n.hasChildren())return Ky(n);if(e){const t=n.children[dt]?Sp(n.children[dt],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==dt&&r.push(`${i}:${Sp(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function nG(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===dt&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==dt&&(t=t.concat(e(i,r)))}),t}(n,(r,i)=>i===dt?[Sp(n.children[dt],!1)]:[`${i}:${Sp(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[dt]?`${Ky(n)}/${t[0]}`:`${Ky(n)}/(${t.join("//")})`}}function DO(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Zy(n){return DO(n).replace(/%3B/gi,";")}function ZT(n){return DO(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Qy(n){return decodeURIComponent(n)}function AO(n){return Qy(n.replace(/\+/g,"%20"))}function RO(n){return`${ZT(n.path)}${function sG(n){return Object.keys(n).map(e=>`;${ZT(e)}=${ZT(n[e])}`).join("")}(n.parameters)}`}const aG=/^[^\/()?;#]+/;function QT(n){const e=n.match(aG);return e?e[0]:""}const lG=/^[^\/()?;=#]+/,uG=/^[^=?&#]+/,hG=/^[^&#]+/;class pG{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Kt([],{}):new Kt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[dt]=new Kt(e,t)),r}parseSegment(){const e=QT(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new k(4009,!1);return this.capture(e),new Tp(Qy(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function cG(n){const e=n.match(lG);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=QT(this.remaining);i&&(r=i,this.capture(r))}e[Qy(t)]=Qy(r)}parseQueryParam(e){const t=function dG(n){const e=n.match(uG);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function fG(n){const e=n.match(hG);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=AO(t),s=AO(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=QT(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new k(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=dt);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[dt]:new Kt([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new k(4011,!1)}}function PO(n){return n.segments.length>0?new Kt([],{[dt]:n}):n}function xO(n){const e={};for(const r of Object.keys(n.children)){const s=xO(n.children[r]);if(r===dt&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function gG(n){if(1===n.numberOfChildren&&n.children[dt]){const e=n.children[dt];return new Kt(n.segments.concat(e.segments),e.children)}return n}(new Kt(n.segments,e))}function dc(n){return n instanceof vd}function MO(n){let e;const i=PO(function t(s){const o={};for(const l of s.children){const c=t(l);o[l.outlet]=c}const a=new Kt(s.url,o);return s===n&&(e=a),a}(n.root));return e??i}function NO(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(0===e.length)return YT(i,i,i,t,r);const s=function _G(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new kO(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new kO(t,e,r)}(e);if(s.toRoot())return YT(i,i,new Kt([],{}),t,r);const o=function yG(n,e,t){if(n.isAbsolute)return new Jy(e,!0,0);if(!t)return new Jy(e,!1,NaN);if(null===t.parent)return new Jy(t,!0,0);const r=Yy(n.commands[0])?0:1;return function vG(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new k(4005,!1);i=r.segments.length}return new Jy(r,!1,i-s)}(t,t.segments.length-1+r,n.numberOfDoubleDots)}(s,i,n),a=o.processChildren?Ap(o.segmentGroup,o.index,s.commands):LO(o.segmentGroup,o.index,s.commands);return YT(i,o.segmentGroup,a,t,r)}function Yy(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Dp(n){return"object"==typeof n&&null!=n&&n.outlets}function YT(n,e,t,r,i){let o,s={};r&&Object.entries(r).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(h=>`${h}`):`${c}`}),o=n===e?t:OO(n,e,t);const a=PO(xO(o));return new vd(a,s,i)}function OO(n,e,t){const r={};return Object.entries(n.children).forEach(([i,s])=>{r[i]=s===e?t:OO(s,e,t)}),new Kt(n.segments,r)}class kO{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Yy(r[0]))throw new k(4003,!1);const i=r.find(Dp);if(i&&i!==EO(r))throw new k(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Jy{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function LO(n,e,t){if(n||(n=new Kt([],{})),0===n.segments.length&&n.hasChildren())return Ap(n,e,t);const r=function EG(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],a=t[r];if(Dp(a))break;const l=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!VO(l,c,o))return s;r+=2}else{if(!VO(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new Kt(n.segments.slice(0,r.pathIndex),{});return s.children[dt]=new Kt(n.segments.slice(r.pathIndex),n.children),Ap(s,0,i)}return r.match&&0===i.length?new Kt(n.segments,{}):r.match&&!n.hasChildren()?JT(n,e,t):r.match?Ap(n,0,i):JT(n,e,t)}function Ap(n,e,t){if(0===t.length)return new Kt(n.segments,{});{const r=function IG(n){return Dp(n[0])?n[0].outlets:{[dt]:n}}(t),i={};if(Object.keys(r).some(s=>s!==dt)&&n.children[dt]&&1===n.numberOfChildren&&0===n.children[dt].segments.length){const s=Ap(n.children[dt],e,t);return new Kt(n.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=LO(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new Kt(n.segments,i)}}function JT(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(Dp(s)){const l=wG(s.outlets);return new Kt(r,l)}if(0===i&&Yy(t[0])){r.push(new Tp(n.segments[e].path,FO(t[0]))),i++;continue}const o=Dp(s)?s.outlets[dt]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&Yy(a)?(r.push(new Tp(o,FO(a))),i+=2):(r.push(new Tp(o,{})),i++)}return new Kt(r,{})}function wG(n){const e={};return Object.entries(n).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[t]=JT(new Kt([],{}),0,r))}),e}function FO(n){const e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function VO(n,e,t){return n==t.path&&Io(e,t.parameters)}const Rp="imperative";class Eo{constructor(e,t){this.id=e,this.url=t}}class Xy extends Eo{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ha extends Eo{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Pp extends Eo{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Id extends Eo{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class ev extends Eo{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class UO extends Eo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bG extends Eo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class TG extends Eo{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class CG extends Eo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class SG extends Eo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class DG{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class AG{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class RG{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class PG{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xG{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class MG{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class BO{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class XT{}class e0{constructor(e){this.url=e}}class NG{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new xp,this.attachRef=null}}let xp=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new NG,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class jO{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=t0(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=t0(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=n0(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return n0(e,this._root).map(t=>t.value)}}function t0(n,e){if(n===e.value)return e;for(const t of e.children){const r=t0(n,t);if(r)return r}return null}function n0(n,e){if(n===e.value)return[e];for(const t of e.children){const r=n0(n,t);if(r.length)return r.unshift(e),r}return[]}class ia{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Ed(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class HO extends jO{constructor(e,t){super(e),this.snapshot=t,r0(this,e)}toString(){return this.snapshot.toString()}}function $O(n,e){const t=function OG(n,e){const o=new tv([],{},{},"",{},dt,e,null,{});return new qO("",new ia(o,[]))}(0,e),r=new v([new Tp("",{})]),i=new v({}),s=new v({}),o=new v({}),a=new v(""),l=new wd(r,i,o,a,s,dt,e,t.root);return l.snapshot=t.root,new HO(new ia(l,[]),t)}class wd{constructor(e,t,r,i,s,o,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Ee(c=>c[bp]))??A(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ee(e=>yd(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ee(e=>yd(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function zO(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function kG(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class tv{get title(){return this.data?.[bp]}constructor(e,t,r,i,s,o,a,l,c){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=yd(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=yd(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class qO extends jO{constructor(e,t){super(t),this.url=e,r0(this,t)}toString(){return GO(this._root)}}function r0(n,e){e.value._routerState=n,e.children.forEach(t=>r0(n,t))}function GO(n){const e=n.children.length>0?` { ${n.children.map(GO).join(", ")} } `:"";return`${n.value}${e}`}function s0(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Io(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Io(e.params,t.params)||n.paramsSubject.next(t.params),function Yq(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Io(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),Io(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function o0(n,e){const t=Io(n.params,e.params)&&function tG(n,e){return uc(n,e)&&n.every((t,r)=>Io(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||o0(n.parent,e.parent))}let a0=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=dt,this.activateEvents=new Vt,this.deactivateEvents=new Vt,this.attachEvents=new Vt,this.detachEvents=new Vt,this.parentContexts=_e(xp),this.location=_e(bs),this.changeDetector=_e(Xo),this.environmentInjector=_e(zi),this.inputBinder=_e(nv,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new k(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new k(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new k(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new k(4013,!1);this._activatedRoute=t;const i=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new LG(t,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=je({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[$r]})}return n})();class LG{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===wd?this.route:e===xp?this.childContexts:this.parent.get(e,t)}}const nv=new ge("");let WO=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,i=zT([r.queryParams,r.params,r.data]).pipe(Se(([s,o,a],l)=>(a={...s,...o,...a},0===l?A(a):Promise.resolve(a)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const o=function h7(n){const e=It(n);if(!e)return null;const t=new Kf(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(o)for(const{templateName:a}of o.inputs)t.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,i)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Te({token:n,factory:n.\u0275fac})}return n})();function Mp(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function VG(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Mp(n,r,i);return Mp(n,r)})}(n,e,t);return new ia(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Mp(n,a)),o}}const r=function UG(n){return new wd(new v(n.url),new v(n.params),new v(n.queryParams),new v(n.fragment),new v(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>Mp(n,s));return new ia(r,i)}}const l0="ngNavigationCancelingError";function KO(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=dc(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=ZO(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function ZO(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[l0]=!0,r.cancellationCode=e,t&&(r.url=t),r}function QO(n){return n&&n[l0]}let YO=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=kn({type:n,selectors:[["ng-component"]],standalone:!0,features:[Yo],decls:1,vars:0,template:function(r,i){1&r&&We(0,"router-outlet")},dependencies:[a0],encapsulation:2})}return n})();function c0(n){const e=n.children&&n.children.map(c0),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==dt&&(t.component=YO),t}function Ks(n){return n.outlet||dt}function Np(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class WG{constructor(e,t,r,i,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),s0(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Ed(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Ed(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Ed(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){const i=Ed(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new MG(s.value.snapshot))}),e.children.length&&this.forwardEvent(new PG(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(s0(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),s0(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=Np(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class JO{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class rv{constructor(e,t){this.component=e,this.route=t}}function KG(n,e,t){const r=n._root;return Op(r,e?e._root:null,t,[r.value])}function bd(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function _m(n){return null!==Kc(n)}(n)?e.get(n):n:r}function Op(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Ed(e);return n.children.forEach(o=>{(function QG(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function YG(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!uc(n.url,e.url);case"pathParamsOrQueryParamsChange":return!uc(n.url,e.url)||!Io(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!o0(n,e)||!Io(n.queryParams,e.queryParams);default:return!o0(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new JO(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Op(n,e,s.component?a?a.children:null:t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new rv(a.outlet.component,o))}else o&&kp(e,a,i),i.canActivateChecks.push(new JO(r)),Op(n,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>kp(a,t.getContext(o),i)),i}function kp(n,e,t){const r=Ed(n),i=n.value;Object.entries(r).forEach(([s,o])=>{kp(o,i.component?e?e.children.getContext(s):null:e,t)}),t.canDeactivateChecks.push(new rv(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Lp(n){return"function"==typeof n}function XO(n){return n instanceof $y||"EmptyError"===n?.name}const iv=Symbol("INITIAL_VALUE");function Td(){return Se(n=>zT(n.map(e=>e.pipe(md(1),zy(iv)))).pipe(Ee(e=>{for(const t of e)if(!0!==t){if(t===iv)return iv;if(!1===t||t instanceof vd)return t}return!0}),Ki(e=>e!==iv),md(1)))}function ek(n){return function Li(...n){return Fi(n)}(xr(e=>{if(dc(e))throw KO(0,e)}),Ee(e=>!0===e))}class sv{constructor(e){this.segmentGroup=e||null}}class tk{constructor(e){this.urlTree=e}}function Cd(n){return Ep(new sv(n))}function nk(n){return Ep(new tk(n))}class _W{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new k(4002,!1)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return A(r);if(i.numberOfChildren>1||!i.children[dt])return Ep(new k(4e3,!1));i=i.children[dt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new vd(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=t[a]}else r[i]=s}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return Object.entries(t.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(e,l,r,i)}),new Kt(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new k(4001,!1);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}const u0={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function yW(n,e,t,r,i){const s=d0(n,e,t);return s.matched?(r=function jG(n,e){return n.providers&&!n._injector&&(n._injector=Ub(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,r),function pW(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?A(i.map(o=>{const a=bd(o,n);return ja(function rW(n){return n&&Lp(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(Td(),ek()):A(!0)}(r,e,t).pipe(Ee(o=>!0===o?s:{...u0}))):A(s)}function d0(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...u0}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Qq)(t,n,e);if(!i)return{...u0};const s={};Object.entries(i.posParams??{}).forEach(([a,l])=>{s[a]=l.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function rk(n,e,t,r){return t.length>0&&function EW(n,e,t){return t.some(r=>ov(n,e,r)&&Ks(r)!==dt)}(n,t,r)?{segmentGroup:new Kt(e,IW(r,new Kt(t,n.children))),slicedSegments:[]}:0===t.length&&function wW(n,e,t){return t.some(r=>ov(n,e,r))}(n,t,r)?{segmentGroup:new Kt(n.segments,vW(n,0,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Kt(n.segments,n.children),slicedSegments:t}}function vW(n,e,t,r,i){const s={};for(const o of r)if(ov(n,t,o)&&!i[Ks(o)]){const a=new Kt([],{});s[Ks(o)]=a}return{...i,...s}}function IW(n,e){const t={};t[dt]=e;for(const r of n)if(""===r.path&&Ks(r)!==dt){const i=new Kt([],{});t[Ks(r)]=i}return t}function ov(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class SW{constructor(e,t,r,i,s,o,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new _W(this.urlSerializer,this.urlTree)}noMatchError(e){return new k(4002,!1)}recognize(){const e=rk(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,dt).pipe(cc(t=>{if(t instanceof tk)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof sv?this.noMatchError(t):t}),Ee(t=>{const r=new tv([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},dt,this.rootComponentType,null,{}),i=new ia(r,t),s=new qO("",i),o=function mG(n,e,t=null,r=null){return NO(MO(n),e,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,dt).pipe(cc(r=>{throw r instanceof sv?this.noMatchError(r):r}))}inheritParamsAndData(e){const t=e.value,r=zO(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i,!0)}processChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return I(i).pipe(_d(s=>{const o=r.children[s],a=function qG(n,e){const t=n.filter(r=>Ks(r)===e);return t.push(...n.filter(r=>Ks(r)!==e)),t}(t,s);return this.processSegmentGroup(e,a,o,s)}),Gy((s,o)=>(s.push(...o),s)),qy(null),function Gq(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ki((i,s)=>n(i,s,r)):Mn,WT(1),t?qy(e):vO(()=>new $y))}(),Bt(s=>{if(null===s)return Cd(r);const o=ik(s);return function DW(n){n.sort((e,t)=>e.value.outlet===dt?-1:t.value.outlet===dt?1:e.value.outlet.localeCompare(t.value.outlet))}(o),A(o)}))}processSegment(e,t,r,i,s,o){return I(t).pipe(_d(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,r,i,s,o).pipe(cc(l=>{if(l instanceof sv)return A(null);throw l}))),Ba(a=>!!a),cc(a=>{if(XO(a))return function TW(n,e,t){return 0===e.length&&!n.children[t]}(r,i,s)?A([]):Cd(r);throw a}))}processSegmentAgainstRoute(e,t,r,i,s,o,a){return function bW(n,e,t,r){return!!(Ks(n)===r||r!==dt&&ov(e,t,n))&&("**"===n.path||d0(e,n,t).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,s,o):Cd(i):Cd(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?nk(s):this.applyRedirects.lineralizeSegments(r,s).pipe(Bt(o=>{const a=new Kt(o,{});return this.processSegment(e,t,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:h}=d0(t,i,s);if(!a)return Cd(t);const g=this.applyRedirects.applyRedirectCommands(l,i.redirectTo,h);return i.redirectTo.startsWith("/")?nk(g):this.applyRedirects.lineralizeSegments(i,g).pipe(Bt(m=>this.processSegment(e,r,t,m.concat(c),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s,o){let a;if("**"===r.path){const l=i.length>0?EO(i).parameters:{};a=A({snapshot:new tv(i,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,sk(r),Ks(r),r.component??r._loadedComponent??null,r,ok(r)),consumedSegments:[],remainingSegments:[]}),t.children={}}else a=yW(t,r,i,e).pipe(Ee(({matched:l,consumedSegments:c,remainingSegments:h,parameters:g})=>l?{snapshot:new tv(c,g,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,sk(r),Ks(r),r.component??r._loadedComponent??null,r,ok(r)),consumedSegments:c,remainingSegments:h}:null));return a.pipe(Se(l=>null===l?Cd(t):this.getChildConfig(e=r._injector??e,r,i).pipe(Se(({routes:c})=>{const h=r._loadedInjector??e,{snapshot:g,consumedSegments:m,remainingSegments:y}=l,{segmentGroup:w,slicedSegments:T}=rk(t,m,y,c);if(0===T.length&&w.hasChildren())return this.processChildren(h,c,w).pipe(Ee(O=>null===O?null:[new ia(g,O)]));if(0===c.length&&0===T.length)return A([new ia(g,[])]);const S=Ks(r)===s;return this.processSegment(h,c,w,T,S?dt:s,!0).pipe(Ee(O=>[new ia(g,O)]))}))))}getChildConfig(e,t,r){return t.children?A({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?A({routes:t._loadedRoutes,injector:t._loadedInjector}):function fW(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?A(!0):A(i.map(o=>{const a=bd(o,n);return ja(function XG(n){return n&&Lp(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(Td(),ek())}(e,t,r).pipe(Bt(i=>i?this.configLoader.loadChildren(e,t).pipe(xr(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function mW(n){return Ep(ZO(!1,3))}())):A({routes:[],injector:e})}}function AW(n){const e=n.value.routeConfig;return e&&""===e.path}function ik(n){const e=[],t=new Set;for(const r of n){if(!AW(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=ik(r.children);e.push(new ia(r.value,i))}return e.filter(r=>!t.has(r))}function sk(n){return n.data||{}}function ok(n){return n.resolve||{}}function ak(n){return"string"==typeof n.title||null===n.title}function h0(n){return Se(e=>{const t=n(e);return t?I(t).pipe(Ee(()=>e)):A(e)})}const Sd=new ge("ROUTES");let f0=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=_e($M)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return A(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=ja(t.loadComponent()).pipe(Ee(lk),xr(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),wp(()=>{this.componentLoaders.delete(t)})),i=new yO(r,()=>new q).pipe(GT());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return A({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=function kW(n,e,t,r){return ja(n.loadChildren()).pipe(Ee(lk),Bt(i=>i instanceof Jx||Array.isArray(i)?A(i):I(e.compileModuleAsync(i))),Ee(i=>{r&&r(n);let s,o,a=!1;return Array.isArray(i)?(o=i,!0):(s=i.create(t).injector,o=s.get(Sd,[],{optional:!0,self:!0}).flat()),{routes:o.map(c0),injector:s}}))}(r,this.compiler,t,this.onLoadEndListener).pipe(wp(()=>{this.childrenLoaders.delete(r)})),o=new yO(s,()=>new q).pipe(GT());return this.childrenLoaders.set(r,o),o}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function lk(n){return function LW(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let av=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new q,this.transitionAbortSubject=new q,this.configLoader=_e(f0),this.environmentInjector=_e(zi),this.urlSerializer=_e(Cp),this.rootContexts=_e(xp),this.inputBindingEnabled=null!==_e(nv,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>A(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new AG(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new DG(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t,r,i){return this.transitions=new v({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:t.urlHandlingStrategy.extract(r),urlAfterRedirects:t.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Rp,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ki(s=>0!==s.id),Ee(s=>({...s,extractedUrl:t.urlHandlingStrategy.extract(s.rawUrl)})),Se(s=>{this.currentTransition=s;let o=!1,a=!1;return A(s).pipe(xr(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Se(l=>{const c=l.currentBrowserUrl.toString(),h=!t.navigated||l.extractedUrl.toString()!==c||c!==l.currentUrlTree.toString();if(!h&&"reload"!==(l.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const m="";return this.events.next(new Id(l.id,this.urlSerializer.serialize(l.rawUrl),m,0)),l.resolve(null),Nn}if(t.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return A(l).pipe(Se(m=>{const y=this.transitions?.getValue();return this.events.next(new Xy(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),y!==this.transitions?.getValue()?Nn:Promise.resolve(m)}),function RW(n,e,t,r,i,s){return Bt(o=>function CW(n,e,t,r,i,s,o="emptyOnly"){return new SW(n,e,t,r,i,o,s).recognize()}(n,e,t,r,o.extractedUrl,i,s).pipe(Ee(({state:a,tree:l})=>({...o,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),xr(m=>{s.targetSnapshot=m.targetSnapshot,s.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:m.urlAfterRedirects};const y=new UO(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(y)}));if(h&&t.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:m,extractedUrl:y,source:w,restoredState:T,extras:S}=l,O=new Xy(m,this.urlSerializer.serialize(y),w,T);this.events.next(O);const P=$O(0,this.rootComponentType).snapshot;return this.currentTransition=s={...l,targetSnapshot:P,urlAfterRedirects:y,extras:{...S,skipLocationChange:!1,replaceUrl:!1}},A(s)}{const m="";return this.events.next(new Id(l.id,this.urlSerializer.serialize(l.extractedUrl),m,1)),l.resolve(null),Nn}}),xr(l=>{const c=new bG(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),Ee(l=>(this.currentTransition=s={...l,guards:KG(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},s)),function sW(n,e){return Bt(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?A({...t,guardsResult:!0}):function oW(n,e,t,r){return I(n).pipe(Bt(i=>function hW(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?A(s.map(a=>{const l=Np(e)??i,c=bd(a,l);return ja(function nW(n){return n&&Lp(n.canDeactivate)}(c)?c.canDeactivate(n,e,t,r):l.runInContext(()=>c(n,e,t,r))).pipe(Ba())})).pipe(Td()):A(!0)}(i.component,i.route,t,e,r)),Ba(i=>!0!==i,!0))}(o,r,i,n).pipe(Bt(a=>a&&function JG(n){return"boolean"==typeof n}(a)?function aW(n,e,t,r){return I(e).pipe(_d(i=>qT(function cW(n,e){return null!==n&&e&&e(new RG(n)),A(!0)}(i.route.parent,r),function lW(n,e){return null!==n&&e&&e(new xG(n)),A(!0)}(i.route,r),function dW(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function ZG(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>_O(()=>A(o.guards.map(l=>{const c=Np(o.node)??t,h=bd(l,c);return ja(function tW(n){return n&&Lp(n.canActivateChild)}(h)?h.canActivateChild(r,n):c.runInContext(()=>h(r,n))).pipe(Ba())})).pipe(Td())));return A(s).pipe(Td())}(n,i.path,t),function uW(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return A(!0);const i=r.map(s=>_O(()=>{const o=Np(e)??t,a=bd(s,o);return ja(function eW(n){return n&&Lp(n.canActivate)}(a)?a.canActivate(e,n):o.runInContext(()=>a(e,n))).pipe(Ba())}));return A(i).pipe(Td())}(n,i.route,t))),Ba(i=>!0!==i,!0))}(r,s,n,e):A(a)),Ee(a=>({...t,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),xr(l=>{if(s.guardsResult=l.guardsResult,dc(l.guardsResult))throw KO(0,l.guardsResult);const c=new TG(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),Ki(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",3),!1)),h0(l=>{if(l.guards.canActivateChecks.length)return A(l).pipe(xr(c=>{const h=new CG(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(h)}),Se(c=>{let h=!1;return A(c).pipe(function PW(n,e){return Bt(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return A(t);let s=0;return I(i).pipe(_d(o=>function xW(n,e,t,r){const i=n.routeConfig,s=n._resolve;return void 0!==i?.title&&!ak(i)&&(s[bp]=i.title),function MW(n,e,t,r){const i=function NW(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return A({});const s={};return I(i).pipe(Bt(o=>function OW(n,e,t,r){const i=Np(e)??r,s=bd(n,i);return ja(s.resolve?s.resolve(e,t):i.runInContext(()=>s(e,t)))}(n[o],e,t,r).pipe(Ba(),xr(a=>{s[o]=a}))),WT(1),function Wq(n){return Ee(()=>n)}(s),cc(o=>XO(o)?Nn:Ep(o)))}(s,n,e,r).pipe(Ee(o=>(n._resolvedData=o,n.data=zO(n,t).resolve,i&&ak(i)&&(n.data[bp]=i.title),null)))}(o.route,r,n,e)),xr(()=>s++),WT(1),Bt(o=>s===i.length?A(t):Nn))})}(t.paramsInheritanceStrategy,this.environmentInjector),xr({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(c,"",2)}}))}),xr(c=>{const h=new SG(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(h)}))}),h0(l=>{const c=h=>{const g=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(h.routeConfig).pipe(xr(m=>{h.component=m}),Ee(()=>{})));for(const m of h.children)g.push(...c(m));return g};return zT(c(l.targetSnapshot.root)).pipe(qy(),md(1))}),h0(()=>this.afterPreactivation()),Ee(l=>{const c=function FG(n,e,t){const r=Mp(n,e._root,t?t._root:void 0);return new HO(r,e)}(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s={...l,targetRouterState:c},s}),xr(()=>{this.events.next(new XT)}),((n,e,t,r)=>Ee(i=>(new WG(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),md(1),xr({next:l=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ha(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),t.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{o=!0}}),function Kq(n){return ee((e,t)=>{Tt(n).subscribe(pe(t,()=>t.complete(),Re)),!t.closed&&e.subscribe(t)})}(this.transitionAbortSubject.pipe(xr(l=>{throw l}))),wp(()=>{o||a||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),cc(l=>{if(a=!0,QO(l))this.events.next(new Pp(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),function BG(n){return QO(n)&&dc(n.url)}(l)?this.events.next(new e0(l.url)):s.resolve(!1);else{this.events.next(new ev(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(t.errorHandler(l))}catch(c){s.reject(c)}}return Nn}))}))}cancelNavigationTransition(t,r,i){const s=new Pp(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ck(n){return n!==Rp}let uk=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===dt);return r}getResolvedTitleForRoute(t){return t.data[bp]}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Te({token:n,factory:function(){return _e(FW)},providedIn:"root"})}return n})(),FW=(()=>{class n extends uk{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||n)(le(cO))};static#t=this.\u0275prov=Te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),VW=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Te({token:n,factory:function(){return _e(BW)},providedIn:"root"})}return n})();class UW{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let BW=(()=>{class n extends UW{static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=vn(n)))(i||n)}}();static#t=this.\u0275prov=Te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const lv=new ge("",{providedIn:"root",factory:()=>({})});let jW=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Te({token:n,factory:function(){return _e(HW)},providedIn:"root"})}return n})(),HW=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Fp=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Fp||{});function dk(n,e){n.events.pipe(Ki(t=>t instanceof Ha||t instanceof Pp||t instanceof ev||t instanceof Id),Ee(t=>t instanceof Ha||t instanceof Id?Fp.COMPLETE:t instanceof Pp&&(0===t.code||1===t.code)?Fp.REDIRECTING:Fp.FAILED),Ki(t=>t!==Fp.REDIRECTING),md(1)).subscribe(()=>{e()})}function $W(n){throw n}function zW(n,e,t){return e.parse("/")}const qW={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},GW={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Wr=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=_e(HM),this.isNgZoneEnabled=!1,this._events=new q,this.options=_e(lv,{optional:!0})||{},this.pendingTasks=_e(Ey),this.errorHandler=this.options.errorHandler||$W,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||zW,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=_e(jW),this.routeReuseStrategy=_e(VW),this.titleStrategy=_e(uk),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=_e(Sd,{optional:!0})?.flat()??[],this.navigationTransitions=_e(av),this.urlSerializer=_e(Cp),this.location=_e(_T),this.componentInputBindingEnabled=!!_e(nv,{optional:!0}),this.eventsSubscription=new Pt,this.isNgZoneEnabled=_e(Mt)instanceof Mt&&Mt.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new vd,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=$O(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(hk(r)&&this._events.next(r));if(r instanceof Xy)ck(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof Id)this.rawUrlTree=i.rawUrl;else if(r instanceof UO){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(s,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof XT)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof Pp)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof e0){const s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),o={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ck(i.source)};this.scheduleNavigation(s,Rp,null,o,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof ev&&this.restoreHistory(i,!0),r instanceof Ha&&(this.navigated=!0),hk(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Rp,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const l={...i};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(c0),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:o;let g,h=null;switch(a){case"merge":h={...this.currentUrlTree.queryParams,...s};break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=s||null}null!==h&&(h=this.removeEmptyProps(h));try{g=MO(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),g=this.currentUrlTree.root}return NO(g,t,h,c??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=dc(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Rp,null,r)}navigate(t,r={skipLocationChange:!1}){return function WW(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new k(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...qW}:!1===r?{...GW}:r,dc(t))return bO(this.currentUrlTree,t,i);const s=this.parseUrl(t);return bO(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,c;o?(a=o.resolve,l=o.reject,c=o.promise):c=new Promise((g,m)=>{a=g,l=m});const h=this.pendingTasks.add();return dk(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:s,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(g=>Promise.reject(g))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",s)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function hk(n){return!(n instanceof XT||n instanceof e0)}let cv=(()=>{class n{constructor(t,r,i,s,o,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new q,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const l=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===l||"area"===l,this.isAnchorElement?this.subscription=t.events.subscribe(c=>{c instanceof Ha&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function J1(n,e,t){return function F5(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?Y1:L_}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,t,r):i.removeAttribute(s,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(r){return new(r||n)($(Wr),$(wd),function __(n){return function De(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(Tm(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===e)return t[i+1];i+=2}}}return null}(Qn(),n)}("tabindex"),$(Ri),$(pr),$(ac))};static#t=this.\u0275dir=je({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&Le("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&r&&at("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",fd],skipLocationChange:["skipLocationChange","skipLocationChange",fd],replaceUrl:["replaceUrl","replaceUrl",fd],routerLink:"routerLink"},standalone:!0,features:[fP,$r]})}return n})(),fk=(()=>{class n{get isActive(){return this._isActive}constructor(t,r,i,s,o){this.router=t,this.element=r,this.renderer=i,this.cdr=s,this.link=o,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Vt,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof Ha&&this.update()})}ngAfterContentInit(){A(this.links.changes,A(null)).pipe(ai()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=I(t).pipe(ai()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const t=this.hasActiveLinks();this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const r=function KW(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&t.isActive(i.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static#e=this.\u0275fac=function(r){return new(r||n)($(Wr),$(pr),$(Ri),$(Xo),$(cv,8))};static#t=this.\u0275dir=je({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,s){if(1&r&&dp(s,cv,5),2&r){let o;zs(o=qs())&&(i.links=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[$r]})}return n})();class pk{}let ZW=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Ki(t=>t instanceof Ha),_d(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=Ub(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return I(i).pipe(ai())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):A(null);const s=i.pipe(Bt(o=>null===o?A(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return r.loadComponent&&!r._loadedComponent?I([s,this.loader.loadComponent(r)]).pipe(ai()):s})}static#e=this.\u0275fac=function(r){return new(r||n)(le(Wr),le($M),le(zi),le(pk),le(f0))};static#t=this.\u0275prov=Te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const p0=new ge("");let gk=(()=>{class n{constructor(t,r,i,s,o={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Xy?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ha?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Id&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof BO&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new BO(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function UR(){throw new Error("invalid")}()};static#t=this.\u0275prov=Te({token:n,factory:n.\u0275fac})}return n})();function sa(n,e){return{\u0275kind:n,\u0275providers:e}}function _k(){const n=_e(qi);return e=>{const t=n.get(sc);if(e!==t.components[0])return;const r=n.get(Wr),i=n.get(yk);1===n.get(g0)&&r.initialNavigation(),n.get(vk,null,pt.Optional)?.setUpPreloading(),n.get(p0,null,pt.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const yk=new ge("",{factory:()=>new q}),g0=new ge("",{providedIn:"root",factory:()=>1}),vk=new ge("");function XW(n){return sa(0,[{provide:vk,useExisting:ZW},{provide:pk,useExisting:n}])}const Ik=new ge("ROUTER_FORROOT_GUARD"),tK=[_T,{provide:Cp,useClass:KT},Wr,xp,{provide:wd,useFactory:function mk(n){return n.routerState.root},deps:[Wr]},f0,[]];function nK(){return new QM("Router",Wr)}let uv=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[tK,[],{provide:Sd,multi:!0,useValue:t},{provide:Ik,useFactory:oK,deps:[[Wr,new xf,new I_]]},{provide:lv,useValue:r||{}},r?.useHash?{provide:ac,useClass:_7}:{provide:ac,useClass:DN},{provide:p0,useFactory:()=>{const n=_e(kz),e=_e(Mt),t=_e(lv),r=_e(av),i=_e(Cp);return t.scrollOffset&&n.setOffset(t.scrollOffset),new gk(i,r,n,e,t)}},r?.preloadingStrategy?XW(r.preloadingStrategy).\u0275providers:[],{provide:QM,multi:!0,useFactory:nK},r?.initialNavigation?aK(r):[],r?.bindToComponentInputs?sa(8,[WO,{provide:nv,useExisting:WO}]).\u0275providers:[],[{provide:Ek,useFactory:_k},{provide:aT,multi:!0,useExisting:Ek}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Sd,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(r){return new(r||n)(le(Ik,8))};static#t=this.\u0275mod=rn({type:n});static#n=this.\u0275inj=nn({})}return n})();function oK(n){return"guarded"}function aK(n){return["disabled"===n.initialNavigation?sa(3,[{provide:Xb,multi:!0,useFactory:()=>{const e=_e(Wr);return()=>{e.setUpLocationChangeListener()}}},{provide:g0,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?sa(2,[{provide:g0,useValue:0},{provide:Xb,multi:!0,deps:[qi],useFactory:e=>{const t=e.get(g7,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(Wr),s=e.get(yk);dk(i,()=>{r(!0)}),e.get(av).afterPreactivation=()=>(r(!0),s.closed?A(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const Ek=new ge("");var wk=He(562),an=He(58),Dd=He(534),wo=He(879),bk=He(537);He(365),(0,Dd.registerVersion)("firebase","10.6.0","app");class dK extends Pt{constructor(e,t){super()}schedule(e,t=0){return this}}const dv={setInterval(n,e,...t){const{delegate:r}=dv;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=dv;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class Tk extends dK{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return dv.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&dv.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,xe(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const m0={now:()=>(m0.delegate||Date).now(),delegate:void 0};class Vp{constructor(e,t=Vp.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}Vp.now=m0.now;class Ck extends Vp{constructor(e,t=Vp.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const pK=new class fK extends Ck{}(class hK extends Tk{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),hv=new Ck(Tk),gK=hv,_0=new Zu("ANGULARFIRE2_VERSION");class Sk{constructor(){return((n,e)=>{const t=(0,Dd.getApps)(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r})(_K)}}const _K="app-check";function Ad(){}class Dk{zone;delegate;constructor(e,t=pK){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},t,r)}}class yK{zone;task=null;constructor(e){this.zone=e}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ad,{},Ad,Ad)),t.pipe(xr({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ak=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new Dk(Zone.current)),this.insideAngular=t.run(()=>new Dk(Zone.current,hv)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(le(Mt))};static \u0275prov=Te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Zi(n){return function IK(n){return function(t){return(t=t.lift(new yK(n.ngZone))).pipe(Dr(n.outsideAngular),Kn(n.insideAngular))}}(function Rd(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}())(n)}var $a=He(106);$a.Z.registerVersion("firebase","10.6.0","app-compat");const TK=["ngOnDestroy"];class Rk{constructor(e){return e}}const fv=new ge("angularfire2.app.options"),pv=new ge("angularfire2.app.name");function y0(n,e,t){const i="object"==typeof t&&t||{};i.name=i.name||"string"==typeof t&&t||"[DEFAULT]";const o=$a.Z.apps.filter(a=>a&&a.name===i.name)[0]||e.runOutsideAngular(()=>$a.Z.initializeApp(n,i));try{if(JSON.stringify(n)!==JSON.stringify(o.options)){const a=!!module.hot;DK("error",`${o.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Rk(o)}const DK=(n,...e)=>{},AK={provide:Rk,useFactory:y0,deps:[fv,Mt,[new xf,pv]]};let RK=(()=>{class n{static initializeApp(t,r){return{ngModule:n,providers:[{provide:fv,useValue:t},{provide:pv,useValue:r}]}}constructor(t){$a.Z.registerVersion("angularfire",_0.full,"core"),$a.Z.registerVersion("angularfire",_0.full,"app-compat"),$a.Z.registerVersion("angular",pR.full,t.toString())}static \u0275fac=function(r){return new(r||n)(le(Ai))};static \u0275mod=rn({type:n});static \u0275inj=nn({providers:[AK]})}return n})();function Pk(n,e,t,r,i){const[,s,o]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===n)||[];if(s)return function PK(n,e){try{return n.toString()===e.toString()}catch{return n===e}}(i,o)||(xk("error",`${e} was already initialized on the ${t} Firebase App with different settings.${xK?" You may need to reload as Firebase is not HMR aware.":""}`),xk("warn",{is:i,was:o})),s;{const a=r();return globalThis.\u0275AngularfireInstanceCache.push([n,a,i]),a}}const xK=typeof module<"u"&&!!module.hot,xk=(n,...e)=>{};globalThis.\u0275AngularfireInstanceCache||=[];class MK extends q{constructor(e=1/0,t=1/0,r=m0){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:o}=this;t||(r.push(e),!i&&r.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let o=0;o<s.length&&!e.closed;o+=r?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){const o=t.now();let a=0;for(let l=1;l<r.length&&r[l]<=o;l+=2)a=l;a&&r.splice(0,a+1)}}}function Mk(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,G({connector:()=>new MK(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function Nk(n,e){return C(e)?Se(()=>n,e):Se(()=>n)}const Ok=new ge("angularfire2.auth.use-emulator"),kk=new ge("angularfire2.auth.settings"),Lk=new ge("angularfire2.auth.tenant-id"),Fk=new ge("angularfire2.auth.langugage-code"),Vk=new ge("angularfire2.auth.use-device-language"),Uk=new ge("angularfire.auth.persistence"),Bk=(n,e,t,r,i,s,o,a)=>Pk(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const l=e.runOutsideAngular(()=>n.auth());if(t&&l.useEmulator(...t),r&&(l.tenantId=r),l.languageCode=i,s&&l.useDeviceLanguage(),o)for(const[c,h]of Object.entries(o))l.settings[c]=h;return a&&l.setPersistence(a),l},[t,r,i,s,o,a]);let gv=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(t,r,i,s,o,a,l,c,h,g,m,y){const w=new q,T=A(void 0).pipe(Kn(o.outsideAngular),Se(()=>s.runOutsideAngular(()=>Promise.resolve().then(He.bind(He,365)))),Ee(()=>y0(t,s,r)),Ee(S=>Bk(S,s,a,c,h,g,l,m)),Mk({bufferSize:1,refCount:!1}));if(Uy(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=A(null);else{T.pipe(Ba()).subscribe();const S=T.pipe(Se(F=>F.getRedirectResult().then(Q=>Q,()=>null)),Zi,Mk({bufferSize:1,refCount:!1})),O=T.pipe(Se(F=>new lt(Q=>({unsubscribe:s.runOutsideAngular(()=>F.onAuthStateChanged(he=>Q.next(he),he=>Q.error(he),()=>Q.complete()))})))),P=T.pipe(Se(F=>new lt(Q=>({unsubscribe:s.runOutsideAngular(()=>F.onIdTokenChanged(he=>Q.next(he),he=>Q.error(he),()=>Q.complete()))}))));this.authState=S.pipe(Nk(O),Dr(o.outsideAngular),Kn(o.insideAngular)),this.user=S.pipe(Nk(P),Dr(o.outsideAngular),Kn(o.insideAngular)),this.idToken=this.user.pipe(Se(F=>F?I(F.getIdToken()):A(null))),this.idTokenResult=this.user.pipe(Se(F=>F?I(F.getIdTokenResult()):A(null))),this.credential=b(S,w,this.authState.pipe(Ki(F=>!F))).pipe(Ee(F=>F?.user?F:null),Dr(o.outsideAngular),Kn(o.insideAngular))}return((n,e,t,r={})=>new Proxy(n,{get:(i,s)=>t.runOutsideAngular(()=>{if(n[s])return r?.spy?.get&&r.spy.get(s,n[s]),n[s];if(TK.indexOf(s)>-1)return()=>{};const o=e.toPromise().then(a=>{const l=a?.[s];return"function"==typeof l?l.bind(a):l?.then?l.then(c=>t.run(()=>c)):t.run(()=>l)});return new Proxy(()=>{},{get:(a,l)=>o[l],apply:(a,l,c)=>o.then(h=>{const g=h?.(...c);return r?.spy?.apply&&r.spy.apply(s,c,g),g})})})}))(this,T,s,{spy:{apply:(S,O,P)=>{(S.startsWith("signIn")||S.startsWith("createUser"))&&P.then(F=>w.next(F))}}})}static \u0275fac=function(r){return new(r||n)(le(fv),le(pv,8),le(Ai),le(Mt),le(Ak),le(Ok,8),le(kk,8),le(Lk,8),le(Fk,8),le(Vk,8),le(Uk,8),le(Sk,8))};static \u0275prov=Te({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),OK=(()=>{class n{constructor(){$a.Z.registerVersion("angularfire",_0.full,"auth-compat")}static \u0275fac=function(r){return new(r||n)};static \u0275mod=rn({type:n});static \u0275inj=nn({providers:[gv]})}return n})();function v0(){return ee((n,e)=>{let t,r=!1;n.subscribe(pe(e,i=>{const s=t;t=i,r&&e.next([s,i]),r=!0}))})}var we,J=He(861),kK=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Zs={},I0=I0||{},st=kK||self;function mv(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Up(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var E0="closure_uid_"+(1e9*Math.random()>>>0),FK=0;function VK(n,e,t){return n.call.apply(n.bind,arguments)}function UK(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Kr(n,e,t){return(Kr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?VK:UK).apply(null,arguments)}function _v(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Er(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function za(){this.s=this.s,this.o=this.o}za.prototype.s=!1,za.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function LK(n){Object.prototype.hasOwnProperty.call(n,E0)&&n[E0]||(n[E0]=++FK)}(this)},za.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const jk=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function w0(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Hk(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(mv(r)){const i=n.length||0,s=r.length||0;n.length=i+s;for(let o=0;o<s;o++)n[i+o]=r[o]}else n.push(r)}}function Zr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Zr.prototype.h=function(){this.defaultPrevented=!0};var jK=function(){if(!st.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{st.addEventListener("test",()=>{},e),st.removeEventListener("test",()=>{},e)}catch{}return n}();function Bp(n){return/^[\s\xa0]*$/.test(n)}function yv(){var n=st.navigator;return n&&(n=n.userAgent)?n:""}function bo(n){return-1!=yv().indexOf(n)}function b0(n){return b0[" "](n),n}b0[" "]=function(){};var C0,n,$K=bo("Opera"),Pd=bo("Trident")||bo("MSIE"),$k=bo("Edge"),T0=$k||Pd,zk=bo("Gecko")&&!(-1!=yv().toLowerCase().indexOf("webkit")&&!bo("Edge"))&&!(bo("Trident")||bo("MSIE"))&&!bo("Edge"),zK=-1!=yv().toLowerCase().indexOf("webkit")&&!bo("Edge");function qk(){var n=st.document;return n?n.documentMode:void 0}e:{var S0="",D0=(n=yv(),zk?/rv:([^\);]+)(\)|;)/.exec(n):$k?/Edge\/([\d\.]+)/.exec(n):Pd?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):zK?/WebKit\/(\S+)/.exec(n):$K?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(D0&&(S0=D0?D0[1]:""),Pd){var A0=qk();if(null!=A0&&A0>parseFloat(S0)){C0=String(A0);break e}}C0=S0}var qK=st.document&&Pd&&(qk()||parseInt(C0,10))||void 0;function jp(n,e){if(Zr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(zk){e:{try{b0(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:GK[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&jp.$.h.call(this)}}Er(jp,Zr);var GK={2:"touch",3:"pen",4:"mouse"};jp.prototype.h=function(){jp.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Hp="closure_listenable_"+(1e6*Math.random()|0),WK=0;function KK(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++WK,this.fa=this.ia=!1}function vv(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function P0(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function Wk(n){const e={};for(const t in n)e[t]=n[t];return e}const Kk="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Zk(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<Kk.length;s++)t=Kk[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Iv(n){this.src=n,this.g={},this.h=0}function x0(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=jk(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(vv(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function M0(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.fa&&s.listener==e&&s.capture==!!t&&s.la==r)return i}return-1}Iv.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=M0(n,e,r,i);return-1<o?(e=n[o],t||(e.ia=!1)):((e=new KK(e,this.src,s,!!r,i)).ia=t,n.push(e)),e};var N0="closure_lm_"+(1e6*Math.random()|0),O0={};function Qk(n,e,t,r,i){if(r&&r.once)return Jk(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)Qk(n,e[s],t,r,i);return null}return t=V0(t),n&&n[Hp]?n.O(e,t,Up(r)?!!r.capture:!!r,i):Yk(n,e,t,!1,r,i)}function Yk(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var o=Up(i)?!!i.capture:!!i,a=L0(n);if(a||(n[N0]=a=new Iv(n)),(t=a.add(e,t,r,o,s)).proxy)return t;if(r=function QK(){const e=YK;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)jK||(i=o),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(eL(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function Jk(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Jk(n,e[s],t,r,i);return null}return t=V0(t),n&&n[Hp]?n.P(e,t,Up(r)?!!r.capture:!!r,i):Yk(n,e,t,!0,r,i)}function Xk(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)Xk(n,e[s],t,r,i);else r=Up(r)?!!r.capture:!!r,t=V0(t),n&&n[Hp]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=M0(s=n.g[e],t,r,i))&&(vv(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=L0(n))&&(e=n.g[e.toString()],n=-1,e&&(n=M0(e,t,r,i)),(t=-1<n?e[n]:null)&&k0(t))}function k0(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Hp])x0(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(eL(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=L0(e))?(x0(t,n),0==t.h&&(t.src=null,e[N0]=null)):vv(n)}}}function eL(n){return n in O0?O0[n]:O0[n]="on"+n}function YK(n,e){if(n.fa)n=!0;else{e=new jp(e,this);var t=n.listener,r=n.la||n.src;n.ia&&k0(n),n=t.call(r,e)}return n}function L0(n){return(n=n[N0])instanceof Iv?n:null}var F0="__closure_events_fn_"+(1e9*Math.random()>>>0);function V0(n){return"function"==typeof n?n:(n[F0]||(n[F0]=function(e){return n.handleEvent(e)}),n[F0])}function wr(){za.call(this),this.i=new Iv(this),this.S=this,this.J=null}function Mr(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new Zr(e,n);else if(e instanceof Zr)e.target=e.target||n;else{var i=e;Zk(e=new Zr(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];i=Ev(o,r,!0,e)&&i}if(i=Ev(o=e.g=n,r,!0,e)&&i,i=Ev(o,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=Ev(o=e.g=t[s],r,!1,e)&&i}function Ev(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==t){var a=o.listener,l=o.la||o.src;o.ia&&x0(n.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}Er(wr,za),wr.prototype[Hp]=!0,wr.prototype.removeEventListener=function(n,e,t,r){Xk(this,n,e,t,r)},wr.prototype.N=function(){if(wr.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)vv(t[r]);delete n.g[e],n.h--}}this.J=null},wr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},wr.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var U0=st.JSON.stringify;function XK(){var n=B0;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var tL=new class JK{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new tZ,n=>n.reset());class tZ{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function nZ(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function rZ(n){st.setTimeout(()=>{throw n},0)}let $p,zp=!1,B0=new class eZ{constructor(){this.h=this.g=null}add(e,t){const r=tL.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},nL=()=>{const n=st.Promise.resolve(void 0);$p=()=>{n.then(iZ)}};var iZ=()=>{for(var n;n=XK();){try{n.h.call(n.g)}catch(t){rZ(t)}var e=tL;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}zp=!1};function wv(n,e){wr.call(this),this.h=n||1,this.g=e||st,this.j=Kr(this.qb,this),this.l=Date.now()}function j0(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function H0(n,e,t){if("function"==typeof n)t&&(n=Kr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Kr(n.handleEvent,n)}return 2147483647<Number(e)?-1:st.setTimeout(n,e||0)}function rL(n){n.g=H0(()=>{n.g=null,n.i&&(n.i=!1,rL(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Er(wv,wr),(we=wv.prototype).ga=!1,we.T=null,we.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Mr(this,"tick"),this.ga&&(j0(this),this.start()))}},we.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},we.N=function(){wv.$.N.call(this),j0(this),delete this.g};class sZ extends za{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:rL(this)}N(){super.N(),this.g&&(st.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qp(n){za.call(this),this.h=n,this.g={}}Er(qp,za);var iL=[];function sL(n,e,t,r){Array.isArray(t)||(t&&(iL[0]=t.toString()),t=iL);for(var i=0;i<t.length;i++){var s=Qk(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function oL(n){P0(n.g,function(e,t){this.g.hasOwnProperty(t)&&k0(e)},n),n.g={}}function bv(){this.g=!0}function xd(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function cZ(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return U0(t)}catch{return e}}(n,t)+(r?" "+r:"")})}qp.prototype.N=function(){qp.$.N.call(this),oL(this)},qp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},bv.prototype.Ea=function(){this.g=!1},bv.prototype.info=function(){};var fc={},aL=null;function Tv(){return aL=aL||new wr}function lL(n){Zr.call(this,fc.Ta,n)}function Gp(n){const e=Tv();Mr(e,new lL(e))}function cL(n,e){Zr.call(this,fc.STAT_EVENT,n),this.stat=e}function yi(n){const e=Tv();Mr(e,new cL(e,n))}function uL(n,e){Zr.call(this,fc.Ua,n),this.size=e}function Wp(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return st.setTimeout(function(){n()},e)}fc.Ta="serverreachability",Er(lL,Zr),fc.STAT_EVENT="statevent",Er(cL,Zr),fc.Ua="timingevent",Er(uL,Zr);var Cv={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},dL={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function $0(){}function fL(){}$0.prototype.h=null;var G0,Kp={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function z0(){Zr.call(this,"d")}function q0(){Zr.call(this,"c")}function Sv(){}function Zp(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new qp(this),this.P=uZ,this.V=new wv(n=T0?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new pL}function pL(){this.i=null,this.g="",this.h=!1}Er(z0,Zr),Er(q0,Zr),Er(Sv,$0),Sv.prototype.g=function(){return new XMLHttpRequest},Sv.prototype.i=function(){return{}},G0=new Sv;var uZ=45e3,W0={},Dv={};function K0(n,e,t){n.L=1,n.v=xv(oa(e)),n.s=t,n.S=!0,gL(n,null)}function gL(n,e){n.G=Date.now(),Qp(n),n.A=oa(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),CL(t.i,"t",r),n.C=0,t=n.l.J,n.h=new pL,n.g=ZL(n.l,t?e:null,!n.s),0<n.O&&(n.M=new sZ(Kr(n.Pa,n,n.g),n.O)),sL(n.U,n.g,"readystatechange",n.nb),e=n.I?Wk(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Gp(),function oZ(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var h=c[0];c=c[1];var g=h.split("_");o=2<=g.length&&"type"==g[1]?o+(h+"=")+c+"&":o+(h+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.u,n.A,n.m,n.W,n.s)}function mL(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function _L(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=dZ(n,t),i==Dv){4==e&&(n.o=4,yi(14),r=!1),xd(n.j,n.m,null,"[Incomplete Response]");break}if(i==W0){n.o=4,yi(15),xd(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}xd(n.j,n.m,i,null),Z0(n,i)}mL(n)&&i!=Dv&&i!=W0&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,yi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),nC(e),e.M=!0,yi(11))):(xd(n.j,n.m,t,"[Invalid Chunked Response]"),pc(n),Yp(n))}function dZ(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Dv:(t=Number(e.substring(t,r)),isNaN(t)?W0:(r+=1)+t>e.length?Dv:(e=e.slice(r,r+t),n.C=r+t,e))}function Qp(n){n.Y=Date.now()+n.P,yL(n,n.P)}function yL(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Wp(Kr(n.lb,n),e)}function Av(n){n.B&&(st.clearTimeout(n.B),n.B=null)}function Yp(n){0==n.l.H||n.J||qL(n.l,n)}function pc(n){Av(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,j0(n.V),oL(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function Z0(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||Q0(t.i,n)))if(!n.K&&Q0(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Fv(t),kv(t)}tC(t),yi(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=Wp(Kr(t.ib,t),6e3));if(1>=AL(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else mc(t,11)}else if((n.K||t.g==n)&&Fv(t),!Bp(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(t.V=c[0],c=c[1],2==t.H)if("c"==c[0]){t.K=c[1],t.pa=c[2];const h=c[3];null!=h&&(t.ra=h,t.l.info("VER="+t.ra));const g=c[4];null!=g&&(t.Ga=g,t.l.info("SVER="+t.Ga));const m=c[5];null!=m&&"number"==typeof m&&0<m&&(t.L=r=1.5*m,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const y=n.g;if(y){const w=y.g?y.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(w){var s=r.i;s.g||-1==w.indexOf("spdy")&&-1==w.indexOf("quic")&&-1==w.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Y0(s,s.h),s.h=null))}if(r.F){const T=y.g?y.g.getResponseHeader("X-HTTP-Session-Id"):null;T&&(r.Da=T,In(r.I,r.F,T))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var o=n;if((r=t).wa=KL(r,r.J?r.pa:null,r.Y),o.K){RL(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(Av(a),Qp(a)),r.g=o}else $L(r);0<t.j.length&&Lv(t)}else"stop"!=c[0]&&"close"!=c[0]||mc(t,7);else 3==t.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?mc(t,7):eC(t):"noop"!=c[0]&&t.h&&t.h.Aa(c),t.A=0)}Gp()}catch{}}function vL(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(mv(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function fZ(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(mv(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function hZ(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(mv(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}(we=Zp.prototype).setTimeout=function(n){this.P=n},we.nb=function(n){n=n.target;const e=this.M;e&&3==To(n)?e.l():this.Pa(n)},we.Pa=function(n){try{if(n==this.g)e:{const h=To(this.g);var e=this.g.Ia();if(this.g.da(),!(3>h)&&(3!=h||T0||this.g&&(this.h.h||this.g.ja()||FL(this.g)))){this.J||4!=h||7==e||Gp(),Av(this);var t=this.g.da();this.ca=t;t:if(mL(this)){var r=FL(this.g);n="";var i=r.length,s=4==To(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){pc(this),Yp(this);var o="";break t}this.h.i=new st.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==t,function aZ(n,e,t,r,i,s,o){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,h,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Bp(a)){var c=a;break t}}c=null}if(!(t=c)){this.i=!1,this.o=3,yi(12),pc(this),Yp(this);break e}xd(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Z0(this,t)}this.S?(_L(this,h,o),T0&&this.i&&3==h&&(sL(this.U,this.V,"tick",this.mb),this.V.start())):(xd(this.j,this.m,o,null),Z0(this,o)),4==h&&pc(this),this.i&&!this.J&&(4==h?qL(this.l,this):(this.i=!1,Qp(this)))}else(function xZ(n){const e={};n=(n.g&&2<=To(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(Bp(n[r]))continue;var t=nZ(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const s=e[i]||[];e[i]=s,s.push(t)}!function ZK(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<o.indexOf("Unknown SID")?(this.o=3,yi(12)):(this.o=0,yi(13)),pc(this),Yp(this)}}}catch{}},we.mb=function(){if(this.g){var n=To(this.g),e=this.g.ja();this.C<e.length&&(Av(this),_L(this,n,e),this.i&&4!=n&&Qp(this))}},we.cancel=function(){this.J=!0,pc(this)},we.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function lZ(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Gp(),yi(17)),pc(this),this.o=2,Yp(this)):yL(this,this.Y-n)};var IL=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gc(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof gc){this.h=n.h,Rv(this,n.j),this.s=n.s,this.g=n.g,Pv(this,n.m),this.l=n.l;var e=n.i,t=new eg;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),EL(this,t),this.o=n.o}else n&&(e=String(n).match(IL))?(this.h=!1,Rv(this,e[1]||"",!0),this.s=Jp(e[2]||""),this.g=Jp(e[3]||"",!0),Pv(this,e[4]),this.l=Jp(e[5]||"",!0),EL(this,e[6]||"",!0),this.o=Jp(e[7]||"")):(this.h=!1,this.i=new eg(null,this.h))}function oa(n){return new gc(n)}function Rv(n,e,t){n.j=t?Jp(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Pv(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function EL(n,e,t){e instanceof eg?(n.i=e,function IZ(n,e){e&&!n.j&&(qa(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(bL(this,r),CL(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Xp(e,yZ)),n.i=new eg(e,n.h))}function In(n,e,t){n.i.set(e,t)}function xv(n){return In(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Jp(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Xp(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,gZ),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function gZ(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}gc.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Xp(e,wL,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Xp(e,wL,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Xp(t,"/"==t.charAt(0)?_Z:mZ,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Xp(t,vZ)),n.join("")};var wL=/[#\/\?@]/g,mZ=/[#\?:]/g,_Z=/[#\?]/g,yZ=/[#\?@]/g,vZ=/#/g;function eg(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function qa(n){n.g||(n.g=new Map,n.h=0,n.i&&function pZ(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function bL(n,e){qa(n),e=Md(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function TL(n,e){return qa(n),e=Md(n,e),n.g.has(e)}function CL(n,e,t){bL(n,e),0<t.length&&(n.i=null,n.g.set(Md(n,e),w0(t)),n.h+=t.length)}function Md(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function SL(n){this.l=n||wZ,n=st.PerformanceNavigationTiming?0<(n=st.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(st.g&&st.g.Ka&&st.g.Ka()&&st.g.Ka().dc),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(we=eg.prototype).add=function(n,e){qa(this),this.i=null,n=Md(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},we.forEach=function(n,e){qa(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},we.ta=function(){qa(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let s=0;s<i.length;s++)t.push(e[r])}return t},we.Z=function(n){qa(this);let e=[];if("string"==typeof n)TL(this,n)&&(e=e.concat(this.g.get(Md(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},we.set=function(n,e){return qa(this),this.i=null,TL(this,n=Md(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},we.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},we.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),n.push(i)}}return this.i=n.join("&")};var wZ=10;function DL(n){return!!n.h||!!n.g&&n.g.size>=n.j}function AL(n){return n.h?1:n.g?n.g.size:0}function Q0(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Y0(n,e){n.g?n.g.add(e):n.h=e}function RL(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function PL(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return w0(n.i)}SL.prototype.cancel=function(){if(this.i=PL(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var bZ=class{stringify(n){return st.JSON.stringify(n,void 0)}parse(n){return st.JSON.parse(n,void 0)}};function TZ(){this.g=new bZ}function CZ(n,e,t){const r=t||"";try{vL(n,function(i,s){let o=i;Up(i)&&(o=U0(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Mv(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function tg(n){this.l=n.ec||null,this.j=n.ob||!1}function Nv(n,e){wr.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=J0,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Er(tg,$0),tg.prototype.g=function(){return new Nv(this.l,this.j)},tg.prototype.i=function(n){return function(){return n}}({}),Er(Nv,wr);var J0=0;function xL(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function ng(n){n.readyState=4,n.l=null,n.j=null,n.A=null,rg(n)}function rg(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(we=Nv.prototype).open=function(n,e){if(this.readyState!=J0)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,rg(this)},we.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||st).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},we.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ng(this)),this.readyState=J0},we.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,rg(this)),this.g&&(this.readyState=3,rg(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof st.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;xL(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},we.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?ng(this):rg(this),3==this.readyState&&xL(this)}},we.Za=function(n){this.g&&(this.response=this.responseText=n,ng(this))},we.Ya=function(n){this.g&&(this.response=n,ng(this))},we.ka=function(){this.g&&ng(this)},we.setRequestHeader=function(n,e){this.v.append(n,e)},we.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},we.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Nv.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var DZ=st.JSON.parse;function Bn(n){wr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=ML,this.L=this.M=!1}Er(Bn,wr);var ML="",AZ=/^https?$/i,RZ=["POST","PUT"];function NL(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,OL(n),Ov(n)}function OL(n){n.F||(n.F=!0,Mr(n,"complete"),Mr(n,"error"))}function kL(n){if(n.h&&typeof I0<"u"&&(!n.C[1]||4!=To(n)||2!=n.da()))if(n.v&&4==To(n))H0(n.La,0,n);else if(Mr(n,"readystatechange"),4==To(n)){n.h=!1;try{const o=n.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===o){var i=String(n.I).match(IL)[1]||null;!i&&st.self&&st.self.location&&(i=st.self.location.protocol.slice(0,-1)),r=!AZ.test(i?i.toLowerCase():"")}t=r}if(t)Mr(n,"complete"),Mr(n,"success");else{n.m=6;try{var s=2<To(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",OL(n)}}finally{Ov(n)}}}function Ov(n,e){if(n.g){LL(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Mr(n,"ready");try{t.onreadystatechange=r}catch{}}}function LL(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(st.clearTimeout(n.A),n.A=null)}function To(n){return n.g?n.g.readyState:0}function FL(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case ML:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function VL(n){let e="";return P0(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function X0(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=VL(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):In(n,e,t))}function ig(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function UL(n){this.Ga=0,this.j=[],this.l=new bv,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ig("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ig("baseRetryDelayMs",5e3,n),this.hb=ig("retryDelaySeedMs",1e4,n),this.eb=ig("forwardChannelMaxRetries",2,n),this.xa=ig("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new SL(n&&n.concurrentRequestLimit),this.Ja=new TZ,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function eC(n){if(BL(n),3==n.H){var e=n.W++,t=oa(n.I);if(In(t,"SID",n.K),In(t,"RID",e),In(t,"TYPE","terminate"),sg(n,t),(e=new Zp(n,n.l,e)).L=2,e.v=xv(oa(t)),t=!1,st.navigator&&st.navigator.sendBeacon)try{t=st.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&st.Image&&((new Image).src=e.v,t=!0),t||(e.g=ZL(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Qp(e)}WL(n)}function kv(n){n.g&&(nC(n),n.g.cancel(),n.g=null)}function BL(n){kv(n),n.u&&(st.clearTimeout(n.u),n.u=null),Fv(n),n.i.cancel(),n.m&&("number"==typeof n.m&&st.clearTimeout(n.m),n.m=null)}function Lv(n){if(!DL(n.i)&&!n.m){n.m=!0;var e=n.Na;$p||nL(),zp||($p(),zp=!0),B0.add(e,n),n.C=0}}function jL(n,e){var t;t=e?e.m:n.W++;const r=oa(n.I);In(r,"SID",n.K),In(r,"RID",t),In(r,"AID",n.V),sg(n,r),n.o&&n.s&&X0(r,n.o,n.s),t=new Zp(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=HL(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),Y0(n.i,t),K0(t,r,e)}function sg(n,e){n.na&&P0(n.na,function(t,r){In(e,r,t)}),n.h&&vL({},function(t,r){In(e,r,t)})}function HL(n,e,t){t=Math.min(n.j.length,t);var r=n.h?Kr(n.h.Va,n.h,n):null;e:{var i=n.j;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<t;l++){let c=i[l].g;const h=i[l].map;if(c-=s,0>c)s=Math.max(0,i[l].g-100),a=!1;else try{CZ(h,o,"req"+c+"_")}catch{r&&r(h)}}if(a){r=o.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function $L(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;$p||nL(),zp||($p(),zp=!0),B0.add(e,n),n.A=0}}function tC(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Wp(Kr(n.Ma,n),GL(n,n.A)),n.A++,0))}function nC(n){null!=n.B&&(st.clearTimeout(n.B),n.B=null)}function zL(n){n.g=new Zp(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=oa(n.wa);In(e,"RID","rpc"),In(e,"SID",n.K),In(e,"AID",n.V),In(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&In(e,"TO",n.qa),In(e,"TYPE","xmlhttp"),sg(n,e),n.o&&n.s&&X0(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=xv(oa(e)),t.s=null,t.S=!0,gL(t,n)}function Fv(n){null!=n.v&&(st.clearTimeout(n.v),n.v=null)}function qL(n,e){var t=null;if(n.g==e){Fv(n),nC(n),n.g=null;var r=2}else{if(!Q0(n.i,e))return;t=e.F,RL(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;Mr(r=Tv(),new uL(r,t)),Lv(n)}else $L(n);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function MZ(n,e){return!(AL(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Wp(Kr(n.Na,n,e),GL(n,n.C)),n.C++,0)))}(n,e)||2==r&&tC(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:mc(n,5);break;case 4:mc(n,10);break;case 3:mc(n,6);break;default:mc(n,2)}}function GL(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function mc(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=Kr(n.pb,n);t||(t=new gc("//www.google.com/images/cleardot.gif"),st.location&&"http"==st.location.protocol||Rv(t,"https"),xv(t)),function SZ(n,e){const t=new bv;if(st.Image){const r=new Image;r.onload=_v(Mv,t,r,"TestLoadImage: loaded",!0,e),r.onerror=_v(Mv,t,r,"TestLoadImage: error",!1,e),r.onabort=_v(Mv,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=_v(Mv,t,r,"TestLoadImage: timeout",!1,e),st.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else yi(2);n.H=0,n.h&&n.h.za(e),WL(n),BL(n)}function WL(n){if(n.H=0,n.ma=[],n.h){const e=PL(n.i);(0!=e.length||0!=n.j.length)&&(Hk(n.ma,e),Hk(n.ma,n.j),n.i.i.length=0,w0(n.j),n.j.length=0),n.h.ya()}}function KL(n,e,t){var r=t instanceof gc?oa(t):new gc(t);if(""!=r.g)e&&(r.g=e+"."+r.g),Pv(r,r.m);else{var i=st.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new gc(null);r&&Rv(s,r),e&&(s.g=e),i&&Pv(s,i),t&&(s.l=t),r=s}return e=n.Da,(t=n.F)&&e&&In(r,t,e),In(r,"VER",n.ra),sg(n,r),r}function ZL(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Bn(t&&n.Ha&&!n.va?new tg({ob:!0}):n.va)).Oa(n.J),e}function QL(){}function Vv(){if(Pd&&!(10<=Number(qK)))throw Error("Environmental error: no available transport.")}function Qi(n,e){wr.call(this),this.g=new UL(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Bp(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Bp(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Nd(this)}function YL(n){z0.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function JL(){q0.call(this),this.status=1}function Nd(n){this.g=n}function Qs(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function rC(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var s=n.g[3],o=(e=n.g[0])+(s^(t=n.g[1])&((i=n.g[2])^s))+r[0]+3614090360&4294967295;o=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=t+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(t^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(t|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=t+((o=e+(i^(t|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~t))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+s&4294967295}function Zt(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var s=0|n[i];r&&s==e||(t[i]=s,r=!1)}this.g=t}(we=Bn.prototype).Oa=function(n){this.M=n},we.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():G0.g(),this.C=function hL(n){return n.h||(n.h=n.i())}(this.u?this.u:G0),this.g.onreadystatechange=Kr(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(s){return void NL(this,s)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())t.set(s,r.get(s))}r=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),i=st.FormData&&n instanceof st.FormData,!(0<=jk(RZ,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of t)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{LL(this),0<this.B&&((this.L=function PZ(n){return Pd&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Kr(this.ua,this)):this.A=H0(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){NL(this,s)}},we.ua=function(){typeof I0<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Mr(this,"timeout"),this.abort(8))},we.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Mr(this,"complete"),Mr(this,"abort"),Ov(this))},we.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ov(this,!0)),Bn.$.N.call(this)},we.La=function(){this.s||(this.G||this.v||this.l?kL(this):this.kb())},we.kb=function(){kL(this)},we.isActive=function(){return!!this.g},we.da=function(){try{return 2<To(this)?this.g.status:-1}catch{return-1}},we.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},we.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),DZ(e)}},we.Ia=function(){return this.m},we.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(we=UL.prototype).ra=8,we.H=1,we.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new Zp(this,this.l,n);let s=this.s;if(this.U&&(s?(s=Wk(s),Zk(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=HL(this,i,e),In(t=oa(this.I),"RID",n),In(t,"CVER",22),this.F&&In(t,"X-HTTP-Session-Id",this.F),sg(this,t),s&&(this.O?e="headers="+encodeURIComponent(String(VL(s)))+"&"+e:this.o&&X0(t,this.o,s)),Y0(this.i,i),this.bb&&In(t,"TYPE","init"),this.P?(In(t,"$req",e),In(t,"SID","null"),i.aa=!0,K0(i,t,null)):K0(i,t,e),this.H=2}}else 3==this.H&&(n?jL(this,n):0==this.j.length||DL(this.i)||jL(this))},we.Ma=function(){if(this.u=null,zL(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Wp(Kr(this.jb,this),n)}},we.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,yi(10),kv(this),zL(this))},we.ib=function(){null!=this.v&&(this.v=null,kv(this),tC(this),yi(19))},we.pb=function(n){n?(this.l.info("Successfully pinged google.com"),yi(2)):(this.l.info("Failed to ping google.com"),yi(1))},we.isActive=function(){return!!this.h&&this.h.isActive(this)},(we=QL.prototype).Ba=function(){},we.Aa=function(){},we.za=function(){},we.ya=function(){},we.isActive=function(){return!0},we.Va=function(){},Vv.prototype.g=function(n,e){return new Qi(n,e)},Er(Qi,wr),Qi.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;yi(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=KL(n,null,n.Y),Lv(n)},Qi.prototype.close=function(){eC(this.g)},Qi.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=U0(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&Lv(e)},Qi.prototype.N=function(){this.g.h=null,delete this.j,eC(this.g),delete this.g,Qi.$.N.call(this)},Er(YL,z0),Er(JL,q0),Er(Nd,QL),Nd.prototype.Ba=function(){Mr(this.g,"a")},Nd.prototype.Aa=function(n){Mr(this.g,new YL(n))},Nd.prototype.za=function(n){Mr(this.g,new JL)},Nd.prototype.ya=function(){Mr(this.g,"b")},Er(Qs,function NZ(){this.blockSize=-1}),Qs.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Qs.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=t;)rC(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<e;)if(r[i++]=n.charCodeAt(s++),i==this.blockSize){rC(this,r),i=0;break}}else for(;s<e;)if(r[i++]=n[s++],i==this.blockSize){rC(this,r),i=0;break}}this.h=i,this.i+=e},Qs.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var OZ={};function iC(n){return-128<=n&&128>n?function HK(n,e){var t=OZ;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Zt([0|e],0>e?-1:0)}):new Zt([0|n],0>n?-1:0)}function Co(n){if(isNaN(n)||!isFinite(n))return Od;if(0>n)return Nr(Co(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=sC;return new Zt(e,0)}var sC=4294967296,Od=iC(0),oC=iC(1),eF=iC(16777216);function aa(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Ss(n){return-1==n.h}function Nr(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new Zt(t,~n.h).add(oC)}function Uv(n,e){return n.add(Nr(e))}function Bv(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function og(n,e){this.g=n,this.h=e}function jv(n,e){if(aa(e))throw Error("division by zero");if(aa(n))return new og(Od,Od);if(Ss(n))return e=jv(Nr(n),e),new og(Nr(e.g),Nr(e.h));if(Ss(e))return e=jv(n,Nr(e)),new og(Nr(e.g),e.h);if(30<n.g.length){if(Ss(n)||Ss(e))throw Error("slowDivide_ only works with positive integers.");for(var t=oC,r=e;0>=r.X(n);)t=tF(t),r=tF(r);var i=kd(t,1),s=kd(r,1);for(r=kd(r,2),t=kd(t,2);!aa(r);){var o=s.add(r);0>=o.X(n)&&(i=i.add(t),s=o),r=kd(r,1),t=kd(t,1)}return e=Uv(n,i.R(e)),new og(i,e)}for(i=Od;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),o=(s=Co(t)).R(e);Ss(o)||0<o.X(n);)o=(s=Co(t-=r)).R(e);aa(s)&&(s=oC),i=i.add(s),n=Uv(n,o)}return new og(i,n)}function tF(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new Zt(t,n.h)}function kd(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],s=0;s<r;s++)i[s]=0<e?n.D(s+t)>>>e|n.D(s+t+1)<<32-e:n.D(s+t);return new Zt(i,n.h)}(we=Zt.prototype).ea=function(){if(Ss(this))return-Nr(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:sC+r)*e,e*=sC}return n},we.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(aa(this))return"0";if(Ss(this))return"-"+Nr(this).toString(n);for(var e=Co(Math.pow(n,6)),t=this,r="";;){var i=jv(t,e).g,s=((0<(t=Uv(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(aa(t=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},we.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},we.X=function(n){return Ss(n=Uv(this,n))?-1:aa(n)?0:1},we.abs=function(){return Ss(this)?Nr(this):this},we.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&n.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=o>>>16,t[i]=(o&=65535)<<16|(s&=65535)}return new Zt(t,-2147483648&t[t.length-1]?-1:0)},we.R=function(n){if(aa(this)||aa(n))return Od;if(Ss(this))return Ss(n)?Nr(this).R(Nr(n)):Nr(Nr(this).R(n));if(Ss(n))return Nr(this.R(Nr(n)));if(0>this.X(eF)&&0>n.X(eF))return Co(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=n.D(i)>>>16,l=65535&n.D(i);t[2*r+2*i]+=o*l,Bv(t,2*r+2*i),t[2*r+2*i+1]+=s*l,Bv(t,2*r+2*i+1),t[2*r+2*i+1]+=o*a,Bv(t,2*r+2*i+1),t[2*r+2*i+2]+=s*a,Bv(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new Zt(t,0)},we.gb=function(n){return jv(this,n).h},we.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new Zt(t,this.h&n.h)},we.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new Zt(t,this.h|n.h)},we.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new Zt(t,this.h^n.h)},Vv.prototype.createWebChannel=Vv.prototype.g,Qi.prototype.send=Qi.prototype.u,Qi.prototype.open=Qi.prototype.m,Qi.prototype.close=Qi.prototype.close,Cv.NO_ERROR=0,Cv.TIMEOUT=8,Cv.HTTP_ERROR=6,dL.COMPLETE="complete",fL.EventType=Kp,Kp.OPEN="a",Kp.CLOSE="b",Kp.ERROR="c",Kp.MESSAGE="d",wr.prototype.listen=wr.prototype.O,Bn.prototype.listenOnce=Bn.prototype.P,Bn.prototype.getLastError=Bn.prototype.Sa,Bn.prototype.getLastErrorCode=Bn.prototype.Ia,Bn.prototype.getStatus=Bn.prototype.da,Bn.prototype.getResponseJson=Bn.prototype.Wa,Bn.prototype.getResponseText=Bn.prototype.ja,Bn.prototype.send=Bn.prototype.ha,Bn.prototype.setWithCredentials=Bn.prototype.Oa,Qs.prototype.digest=Qs.prototype.l,Qs.prototype.reset=Qs.prototype.reset,Qs.prototype.update=Qs.prototype.j,Zt.prototype.add=Zt.prototype.add,Zt.prototype.multiply=Zt.prototype.R,Zt.prototype.modulo=Zt.prototype.gb,Zt.prototype.compare=Zt.prototype.X,Zt.prototype.toNumber=Zt.prototype.ea,Zt.prototype.toString=Zt.prototype.toString,Zt.prototype.getBits=Zt.prototype.D,Zt.fromNumber=Co,Zt.fromString=function XL(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Nr(XL(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Co(Math.pow(e,8)),r=Od,i=0;i<n.length;i+=8){var s=Math.min(8,n.length-i),o=parseInt(n.substring(i,i+s),e);8>s?(s=Co(Math.pow(e,s)),r=r.R(s).add(Co(o))):r=(r=r.R(t)).add(Co(o))}return r};var kZ=Zs.createWebChannelTransport=function(){return new Vv},LZ=Zs.getStatEventTarget=function(){return Tv()},aC=Zs.ErrorCode=Cv,FZ=Zs.EventType=dL,VZ=Zs.Event=fc,nF=Zs.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},UZ=Zs.FetchXmlHttpFactory=tg,Hv=Zs.WebChannel=fL,BZ=Zs.XhrIo=Bn,jZ=Zs.Md5=Qs,Ld=Zs.Integer=Zt;const rF="@firebase/firestore";class br{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}br.UNAUTHENTICATED=new br(null),br.GOOGLE_CREDENTIALS=new br("google-credentials-uid"),br.FIRST_PARTY=new br("first-party-uid"),br.MOCK_USER=new br("mock-user");let Fd="10.5.2";const Ga=new wo.Yd("@firebase/firestore");function Vd(){return Ga.logLevel}function ue(n,...e){if(Ga.logLevel<=wo.in.DEBUG){const t=e.map(lC);Ga.debug(`Firestore (${Fd}): ${n}`,...t)}}function Jn(n,...e){if(Ga.logLevel<=wo.in.ERROR){const t=e.map(lC);Ga.error(`Firestore (${Fd}): ${n}`,...t)}}function Mi(n,...e){if(Ga.logLevel<=wo.in.WARN){const t=e.map(lC);Ga.warn(`Firestore (${Fd}): ${n}`,...t)}}function lC(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Ce(n="Unexpected state"){const e=`FIRESTORE (${Fd}) INTERNAL ASSERTION FAILED: `+n;throw Jn(e),new Error(e)}function ke(n,e){n||Ce()}function me(n,e){return n}const H={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ie extends an.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class mr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class iF{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class zZ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(br.UNAUTHENTICATED))}shutdown(){}}class qZ{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class GZ{constructor(e){this.t=e,this.currentUser=br.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,t(c)):Promise.resolve();let o=new mr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new mr,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable((0,J.Z)(function*(){yield c.promise,yield s(r.currentUser)}))},l=c=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new mr)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ke("string"==typeof r.accessToken),new iF(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ke(null===e||"string"==typeof e),new br(e)}}class WZ{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=br.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class KZ{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new WZ(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(br.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class sF{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ZZ{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const r=s=>{null!=s.error&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,ue("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ke("string"==typeof t.token),this.R=t.token,new sF(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function QZ(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class oF{static newId(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=QZ(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function nt(n,e){return n<e?-1:n>e?1:0}function Ud(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function aF(n){return n+"\0"}class Rn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ie(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ie(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ie(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ie(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Rn.fromMillis(Date.now())}static fromDate(e){return Rn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Rn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?nt(this.nanoseconds,e.nanoseconds):nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Fe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Fe(e)}static min(){return new Fe(new Rn(0,0))}static max(){return new Fe(new Rn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ag{constructor(e,t,r){void 0===t?t=0:t>e.length&&Ce(),void 0===r?r=e.length-t:r>e.length-t&&Ce(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===ag.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ag?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class kt extends ag{construct(e,t,r){return new kt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ie(H.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new kt(t)}static emptyPath(){return new kt([])}}const YZ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class En extends ag{construct(e,t,r){return new En(e,t,r)}static isValidIdentifier(e){return YZ.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),En.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new En(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new ie(H.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new ie(H.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new ie(H.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ie(H.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new En(t)}static emptyPath(){return new En([])}}class ye{constructor(e){this.path=e}static fromPath(e){return new ye(kt.fromString(e))}static fromName(e){return new ye(kt.fromString(e).popFirst(5))}static empty(){return new ye(kt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===kt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return kt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new kt(e.slice()))}}class Bd{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function cC(n){return n.fields.find(e=>2===e.kind)}function _c(n){return n.fields.filter(e=>2!==e.kind)}Bd.UNKNOWN_ID=-1;class yc{constructor(e,t){this.fieldPath=e,this.kind=t}}class jd{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new jd(0,Yi.min())}}function lF(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Fe.fromTimestamp(1e9===r?new Rn(t+1,0):new Rn(t,r));return new Yi(i,ye.empty(),e)}function cF(n){return new Yi(n.readTime,n.key,-1)}class Yi{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Yi(Fe.min(),ye.empty(),-1)}static max(){return new Yi(Fe.max(),ye.empty(),-1)}}function uC(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=ye.comparator(n.documentKey,e.documentKey),0!==t?t:nt(n.largestBatchId,e.largestBatchId))}const uF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class dF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Wa(n){return dC.apply(this,arguments)}function dC(){return dC=(0,J.Z)(function*(n){if(n.code!==H.FAILED_PRECONDITION||n.message!==uF)throw n;ue("LocalStore","Unexpectedly lost primary lease")}),dC.apply(this,arguments)}class L{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ce(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new L((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof L?t:L.resolve(t)}catch(t){return L.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):L.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):L.reject(t)}static resolve(e){return new L((t,r)=>{t(e)})}static reject(e){return new L((t,r)=>{r(e)})}static waitFor(e){return new L((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},l=>r(l))}),o=!0,s===i&&t()})}static or(e){let t=L.resolve(!1);for(const r of e)t=t.next(i=>i?L.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new L((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;t(e[c]).next(h=>{o[c]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,t){return new L((r,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):r()};s()})}}class $v{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new mr,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new lg(e,t.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=hC(r.target.error);this.V.reject(new lg(e,i))}}static open(e,t,r,i){try{return new $v(t,e.transaction(i,r))}catch(s){throw new lg(t,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(ue("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new tQ(t)}}class Ys{constructor(e,t,r){this.name=e,this.version=t,this.p=r,12.2===Ys.S((0,an.z$)())&&Jn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ue("SimpleDb","Removing database:",e),vc(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,an.hl)())return!1;if(Ys.C())return!0;const e=(0,an.z$)(),t=Ys.S(e),r=0<t&&t<10,i=Ys.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(e){var t=this;return(0,J.Z)(function*(){return t.db||(ue("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const s=indexedDB.open(t.name,t.version);s.onsuccess=o=>{r(o.target.result)},s.onblocked=()=>{i(new lg(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=o=>{const a=o.target.error;i("VersionError"===a.name?new ie(H.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new ie(H.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new lg(e,a))},s.onupgradeneeded=o=>{ue("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',o.oldVersion),t.p.N(o.target.result,s.transaction,o.oldVersion,t.version).next(()=>{ue("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var s=this;return(0,J.Z)(function*(){const o="readonly"===t;let a=0;for(;;){++a;try{s.db=yield s.O(e);const l=$v.open(s.db,e,o?"readonly":"readwrite",r),c=i(l).next(h=>(l.g(),h)).catch(h=>(l.abort(h),L.reject(h))).toPromise();return c.catch(()=>{}),yield l.m,c}catch(l){const c=l,h="FirebaseError"!==c.name&&a<3;if(ue("SimpleDb","Transaction failed with error:",c.message,"Retrying:",h),s.close(),!h)return Promise.reject(c)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class eQ{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return vc(this.k.delete())}}class lg extends ie{constructor(e,t){super(H.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Ka(n){return"IndexedDbTransactionError"===n.name}class tQ{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(ue("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(ue("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),vc(r)}add(e){return ue("SimpleDb","ADD",this.store.name,e,e),vc(this.store.add(e))}get(e){return vc(this.store.get(e)).next(t=>(void 0===t&&(t=null),ue("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return ue("SimpleDb","DELETE",this.store.name,e),vc(this.store.delete(e))}count(){return ue("SimpleDb","COUNT",this.store.name),vc(this.store.count())}W(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),s=[];return this.G(i,(o,a)=>{s.push(a)}).next(()=>s)}{const i=this.store.getAll(r.range);return new L((s,o)=>{i.onerror=a=>{o(a.target.error)},i.onsuccess=a=>{s(a.target.result)}})}}j(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new L((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(e,t){ue("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.J=!1;const i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.G(i,t)}Z(e){const t=this.cursor({});return new L((r,i)=>{t.onerror=s=>{const o=hC(s.target.error);i(o)},t.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,t){const r=[];return new L((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const l=new eQ(a),c=t(a.primaryKey,a.value,l);if(c instanceof L){const h=c.catch(g=>(l.done(),L.reject(g)));r.push(h)}l.isDone?i():null===l.$?a.continue():a.continue(l.$)}}).next(()=>L.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function vc(n){return new L((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=hC(r.target.error);t(i)}})}let hF=!1;function hC(n){const e=Ys.S((0,an.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new ie("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return hF||(hF=!0,setTimeout(()=>{throw r},0)),r}}return n}class nQ{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){var t=this;ue("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,J.Z)(function*(){t.task=null;try{ue("IndexBackiller",`Documents written: ${yield t.X.te()}`)}catch(r){Ka(r)?ue("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Wa(r)}yield t.ee(6e4)}))}}class rQ{constructor(e,t){this.localStore=e,this.persistence=t}te(e=50){var t=this;return(0,J.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.ne(r,e))})()}ne(e,t){const r=new Set;let i=t,s=!0;return L.doWhile(()=>!0===s&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(null!==o&&!r.has(o))return ue("IndexBackiller",`Processing collection: ${o}`),this.re(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>t-i)}re(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.ie(i,s)).next(a=>(ue("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,t,a))).next(()=>o.size)}))}ie(e,t){let r=e;return t.changes.forEach((i,s)=>{const o=cF(s);uC(o,r)>0&&(r=o)}),new Yi(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Ji=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}return n._e=-1,n})();function cg(n){return null==n}function ug(n){return 0===n&&1/n==-1/0}function fF(n){return"number"==typeof n&&Number.isInteger(n)&&!ug(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Qr(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=pF(e)),e=iQ(n.get(t),e);return pF(e)}function iQ(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=s}}return t}function pF(n){return n+"\x01\x01"}function So(n){const e=n.length;if(ke(e>=2),2===e)return ke("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),kt.emptyPath();const t=e-2,r=[];let i="";for(let s=0;s<e;){const o=n.indexOf("\x01",s);switch((o<0||o>t)&&Ce(),n.charAt(o+1)){case"\x01":const a=n.substring(s,o);let l;0===i.length?l=a:(i+=a,l=i,i=""),r.push(l);break;case"\x10":i+=n.substring(s,o),i+="\0";break;case"\x11":i+=n.substring(s,o+1);break;default:Ce()}s=o+2}return new kt(r)}const gF=["userId","batchId"];function zv(n,e){return[n,Qr(e)]}function mF(n,e,t){return[n,Qr(e),t]}const sQ={},oQ=["prefixPath","collectionGroup","readTime","documentId"],aQ=["prefixPath","collectionGroup","documentId"],lQ=["collectionGroup","readTime","prefixPath","documentId"],cQ=["canonicalId","targetId"],uQ=["targetId","path"],dQ=["path","targetId"],hQ=["collectionId","parent"],fQ=["indexId","uid"],pQ=["uid","sequenceNumber"],gQ=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],mQ=["indexId","uid","orderedDocumentKey"],_Q=["userId","collectionPath","documentId"],yQ=["userId","collectionPath","largestBatchId"],vQ=["userId","collectionGroup","largestBatchId"],_F=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],IQ=[..._F,"documentOverlays"],yF=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],vF=yF,EQ=[...vF,"indexConfiguration","indexState","indexEntries"];class fC extends dF{constructor(e,t){super(),this.ae=e,this.currentSequenceNumber=t}}function Tr(n,e){const t=me(n);return Ys.M(t.ae,e)}function IF(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Za(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function EF(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class hn{constructor(e,t){this.comparator=e,this.root=t||Or.EMPTY}insert(e,t){return new hn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Or.BLACK,null,null))}remove(e){return new hn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Or.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qv(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qv(this.root,e,this.comparator,!1)}getReverseIterator(){return new qv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qv(this.root,e,this.comparator,!0)}}class qv{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Or{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??Or.RED,this.left=i??Or.EMPTY,this.right=s??Or.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new Or(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Or.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Or.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Or.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Or.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ce();const e=this.left.check();if(e!==this.right.check())throw Ce();return e+(this.isRed()?0:1)}}Or.EMPTY=null,Or.RED=!0,Or.BLACK=!1,Or.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce()}get value(){throw Ce()}get color(){throw Ce()}get left(){throw Ce()}get right(){throw Ce()}copy(e,t,r,i,s){return this}insert(e,t,r){return new Or(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Xt{constructor(e){this.comparator=e,this.data=new hn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new wF(this.data.getIterator())}getIteratorFrom(e){return new wF(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Xt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Xt(this.comparator);return t.data=e,t}}class wF{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Hd(n){return n.hasNext()?n.getNext():void 0}class Ni{constructor(e){this.fields=e,e.sort(En.comparator)}static empty(){return new Ni([])}unionWith(e){let t=new Xt(En.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Ni(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ud(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class bF extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class _r{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new bF("Invalid base64 string: "+s):s}}(e);return new _r(t)}static fromUint8Array(e){const t=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new _r(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_r.EMPTY_BYTE_STRING=new _r("");const bQ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qa(n){if(ke(!!n),"string"==typeof n){let e=0;const t=bQ.exec(n);if(ke(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:jn(n.seconds),nanos:jn(n.nanos)}}function jn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function la(n){return"string"==typeof n?_r.fromBase64String(n):_r.fromUint8Array(n)}function Gv(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Wv(n){const e=n.mapValue.fields.__previous_value__;return Gv(e)?Wv(e):e}function dg(n){const e=Qa(n.mapValue.fields.__local_write_time__.timestampValue);return new Rn(e.seconds,e.nanos)}class TQ{constructor(e,t,r,i,s,o,a,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Ya{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ya("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ya&&e.projectId===this.projectId&&e.database===this.database}}const Ja={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Kv={nullValue:"NULL_VALUE"};function Xa(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Gv(n)?4:DF(n)?9007199254740991:10:Ce()}function Do(n,e){if(n===e)return!0;const t=Xa(n);if(t!==Xa(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return dg(n).isEqual(dg(e));case 3:return function(i,s){if("string"==typeof i.timestampValue&&"string"==typeof s.timestampValue&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Qa(i.timestampValue),a=Qa(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return s=e,la(n.bytesValue).isEqual(la(s.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return jn(i.geoPointValue.latitude)===jn(s.geoPointValue.latitude)&&jn(i.geoPointValue.longitude)===jn(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return jn(i.integerValue)===jn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=jn(i.doubleValue),a=jn(s.doubleValue);return o===a?ug(o)===ug(a):isNaN(o)&&isNaN(a)}return!1}(n,e);case 9:return Ud(n.arrayValue.values||[],e.arrayValue.values||[],Do);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(IF(o)!==IF(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(void 0===a[l]||!Do(o[l],a[l])))return!1;return!0}(n,e);default:return Ce()}var s}function hg(n,e){return void 0!==(n.values||[]).find(t=>Do(t,e))}function el(n,e){if(n===e)return 0;const t=Xa(n),r=Xa(e);if(t!==r)return nt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return nt(n.booleanValue,e.booleanValue);case 2:return function(s,o){const a=jn(s.integerValue||s.doubleValue),l=jn(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,e);case 3:return TF(n.timestampValue,e.timestampValue);case 4:return TF(dg(n),dg(e));case 5:return nt(n.stringValue,e.stringValue);case 6:return function(s,o){const a=la(s),l=la(o);return a.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const h=nt(a[c],l[c]);if(0!==h)return h}return nt(a.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){const a=nt(jn(s.latitude),jn(o.latitude));return 0!==a?a:nt(jn(s.longitude),jn(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const h=el(a[c],l[c]);if(h)return h}return nt(a.length,l.length)}(n.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Ja.mapValue&&o===Ja.mapValue)return 0;if(s===Ja.mapValue)return 1;if(o===Ja.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},h=Object.keys(c);l.sort(),h.sort();for(let g=0;g<l.length&&g<h.length;++g){const m=nt(l[g],h[g]);if(0!==m)return m;const y=el(a[l[g]],c[h[g]]);if(0!==y)return y}return nt(l.length,h.length)}(n.mapValue,e.mapValue);default:throw Ce()}}function TF(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return nt(n,e);const t=Qa(n),r=Qa(e),i=nt(t.seconds,r.seconds);return 0!==i?i:nt(t.nanos,r.nanos)}function $d(n){return pC(n)}function pC(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Qa(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?la(n.bytesValue).toBase64():"referenceValue"in n?ye.fromName(n.referenceValue).toString():"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const s of t.values||[])i?i=!1:r+=",",r+=pC(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${pC(t.fields[o])}`;return i+"}"}(n.mapValue):Ce()}function Ic(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function gC(n){return!!n&&"integerValue"in n}function fg(n){return!!n&&"arrayValue"in n}function CF(n){return!!n&&"nullValue"in n}function SF(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Qv(n){return!!n&&"mapValue"in n}function pg(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Za(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=pg(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=pg(n.arrayValue.values[t]);return e}return Object.assign({},n)}function DF(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function CQ(n){return"nullValue"in n?Kv:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Ic(Ya.empty(),ye.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Ce()}function SQ(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Ic(Ya.empty(),ye.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Ja:Ce()}function AF(n,e){const t=el(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function RF(n,e){const t=el(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class kr{constructor(e){this.value=e}static empty(){return new kr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Qv(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=pg(t)}setAll(e){let t=En.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const l=this.getFieldsMap(t);this.applyChanges(l,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=pg(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());Qv(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Do(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Qv(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Za(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new kr(pg(this.value))}}function PF(n){const e=[];return Za(n.fields,(t,r)=>{const i=new En([t]);if(Qv(r)){const s=PF(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Ni(e)}class wn{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new wn(e,0,Fe.min(),Fe.min(),Fe.min(),kr.empty(),0)}static newFoundDocument(e,t,r,i){return new wn(e,1,t,Fe.min(),r,i,0)}static newNoDocument(e,t){return new wn(e,2,t,Fe.min(),Fe.min(),kr.empty(),0)}static newUnknownDocument(e,t){return new wn(e,3,t,Fe.min(),Fe.min(),kr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Fe.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof wn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class tl{constructor(e,t){this.position=e,this.inclusive=t}}function xF(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(r=s.field.isKeyField()?ye.comparator(ye.fromName(o.referenceValue),t.key):el(o,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function MF(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Do(n.position[t],e.position[t]))return!1;return!0}class gg{constructor(e,t="asc"){this.field=e,this.dir=t}}function DQ(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class NF{}class Rt extends NF{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new AQ(e,t,r):"array-contains"===t?new xQ(e,r):"in"===t?new UF(e,r):"not-in"===t?new MQ(e,r):"array-contains-any"===t?new NQ(e,r):new Rt(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new RQ(e,r):new PQ(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(el(t,this.value)):null!==t&&Xa(this.value)===Xa(t)&&this.matchesComparison(el(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ce()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qt extends NF{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new Qt(e,t)}matches(e){return zd(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function zd(n){return"and"===n.op}function mC(n){return"or"===n.op}function _C(n){return OF(n)&&zd(n)}function OF(n){for(const e of n.filters)if(e instanceof Qt)return!1;return!0}function yC(n){if(n instanceof Rt)return n.field.canonicalString()+n.op.toString()+$d(n.value);if(_C(n))return n.filters.map(e=>yC(e)).join(",");{const e=n.filters.map(t=>yC(t)).join(",");return`${n.op}(${e})`}}function kF(n,e){return n instanceof Rt?(r=n,(i=e)instanceof Rt&&r.op===i.op&&r.field.isEqual(i.field)&&Do(r.value,i.value)):n instanceof Qt?function(r,i){return i instanceof Qt&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((s,o,a)=>s&&kF(o,i.filters[a]),!0)}(n,e):void Ce();var r,i}function LF(n,e){const t=n.filters.concat(e);return Qt.create(t,n.op)}function FF(n){return n instanceof Rt?`${(t=n).field.canonicalString()} ${t.op} ${$d(t.value)}`:n instanceof Qt?function(t){return t.op.toString()+" {"+t.getFilters().map(FF).join(" ,")+"}"}(n):"Filter";var t}class AQ extends Rt{constructor(e,t,r){super(e,t,r),this.key=ye.fromName(r.referenceValue)}matches(e){const t=ye.comparator(e.key,this.key);return this.matchesComparison(t)}}class RQ extends Rt{constructor(e,t){super(e,"in",t),this.keys=VF(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class PQ extends Rt{constructor(e,t){super(e,"not-in",t),this.keys=VF(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function VF(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>ye.fromName(r.referenceValue))}class xQ extends Rt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return fg(t)&&hg(t.arrayValue,this.value)}}class UF extends Rt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&hg(this.value.arrayValue,t)}}class MQ extends Rt{constructor(e,t){super(e,"not-in",t)}matches(e){if(hg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!hg(this.value.arrayValue,t)}}class NQ extends Rt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!fg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>hg(this.value.arrayValue,r))}}class OQ{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function vC(n,e=null,t=[],r=[],i=null,s=null,o=null){return new OQ(n,e,t,r,i,s,o)}function Ec(n){const e=me(n);if(null===e.ce){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>yC(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),cg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>$d(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>$d(r)).join(",")),e.ce=t}return e.ce}function mg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!DQ(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!kF(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!MF(n.startAt,e.startAt)&&MF(n.endAt,e.endAt)}function Yv(n){return ye.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Jv(n,e){return n.filters.filter(t=>t instanceof Rt&&t.field.isEqual(e))}function BF(n,e,t){let r=Kv,i=!0;for(const s of Jv(n,e)){let o=Kv,a=!0;switch(s.op){case"<":case"<=":o=CQ(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=Kv}AF({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const o=t.position[s];AF({value:r,inclusive:i},{value:o,inclusive:t.inclusive})<0&&(r=o,i=t.inclusive);break}return{value:r,inclusive:i}}function jF(n,e,t){let r=Ja,i=!0;for(const s of Jv(n,e)){let o=Ja,a=!0;switch(s.op){case">=":case">":o=SQ(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=Ja}RF({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const o=t.position[s];RF({value:r,inclusive:i},{value:o,inclusive:t.inclusive})>0&&(r=o,i=t.inclusive);break}return{value:r,inclusive:i}}class ca{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null}}function HF(n,e,t,r,i,s,o,a){return new ca(n,e,t,r,i,s,o,a)}function qd(n){return new ca(n)}function $F(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function IC(n){return null!==n.collectionGroup}function Gd(n){const e=me(n);if(null===e.le){e.le=[];const t=new Set;for(const s of e.explicitOrderBy)e.le.push(s),t.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Xt(En.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.le.push(new gg(s,r))}),t.has(En.keyField().canonicalString())||e.le.push(new gg(En.keyField(),r))}return e.le}function vi(n){const e=me(n);return e.he||(e.he=function zF(n,e){if("F"===n.limitType)return vC(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>new gg(i.field,"desc"===i.dir?"asc":"desc"));const t=n.endAt?new tl(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new tl(n.startAt.position,n.startAt.inclusive):null;return vC(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}(e,Gd(n))),e.he}function EC(n,e){const t=n.filters.concat([e]);return new ca(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Xv(n,e,t){return new ca(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function _g(n,e){return mg(vi(n),vi(e))&&n.limitType===e.limitType}function qF(n){return`${Ec(vi(n))}|lt:${n.limitType}`}function Wd(n){return`Query(target=${function(t){let r=t.path.canonicalString();return null!==t.collectionGroup&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>FF(i)).join(", ")}]`),cg(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>{return`${(o=i).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>$d(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>$d(i)).join(",")),`Target(${r})`}(vi(n))}; limitType=${n.limitType})`}function yg(n,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ye.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(const s of Gd(r))if(!s.field.isKeyField()&&null===i.data.field(s.field))return!1;return!0}(n,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&(i=e,!((r=n).startAt&&!function(o,a,l){const c=xF(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Gd(r),i)||r.endAt&&!function(o,a,l){const c=xF(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Gd(r),i)));var r,i}function GF(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function WF(n){return(e,t)=>{let r=!1;for(const i of Gd(n)){const s=kQ(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function kQ(n,e,t){const r=n.field.isKeyField()?ye.comparator(e.key,t.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return null!==l&&null!==c?el(l,c):Ce()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ce()}}class ua{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Za(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return EF(this.inner)}size(){return this.innerSize}}const LQ=new hn(ye.comparator);function Oi(){return LQ}const KF=new hn(ye.comparator);function vg(...n){let e=KF;for(const t of n)e=e.insert(t.key,t);return e}function ZF(n){let e=KF;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ao(){return Ig()}function QF(){return Ig()}function Ig(){return new ua(n=>n.toString(),(n,e)=>n.isEqual(e))}const FQ=new hn(ye.comparator),VQ=new Xt(ye.comparator);function ht(...n){let e=VQ;for(const t of n)e=e.add(t);return e}const UQ=new Xt(nt);function wC(){return UQ}function YF(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ug(e)?"-0":e}}function JF(n){return{integerValue:""+n}}function XF(n,e){return fF(e)?JF(e):YF(n,e)}class eI{constructor(){this._=void 0}}function BQ(n,e,t){return n instanceof Kd?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Gv(s)&&(s=Wv(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(t,e):n instanceof wc?t2(n,e):n instanceof bc?n2(n,e):function(i,s){const o=e2(i,s),a=r2(o)+r2(i.Ie);return gC(o)&&gC(i.Ie)?JF(a):YF(i.serializer,a)}(n,e)}function jQ(n,e,t){return n instanceof wc?t2(n,e):n instanceof bc?n2(n,e):t}function e2(n,e){return n instanceof Zd?gC(r=e)||(s=r)&&"doubleValue"in s?e:{integerValue:0}:null;var r,s}class Kd extends eI{}class wc extends eI{constructor(e){super(),this.elements=e}}function t2(n,e){const t=s2(e);for(const r of n.elements)t.some(i=>Do(i,r))||t.push(r);return{arrayValue:{values:t}}}class bc extends eI{constructor(e){super(),this.elements=e}}function n2(n,e){let t=s2(e);for(const r of n.elements)t=t.filter(i=>!Do(i,r));return{arrayValue:{values:t}}}class Zd extends eI{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function r2(n){return jn(n.integerValue||n.doubleValue)}function s2(n){return fg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Eg{constructor(e,t){this.field=e,this.transform=t}}class $Q{constructor(e,t){this.version=e,this.transformResults=t}}class Pn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Pn}static exists(e){return new Pn(void 0,e)}static updateTime(e){return new Pn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function tI(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class nI{}function o2(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Yd(n.key,Pn.none()):new Qd(n.key,n.data,Pn.none());{const t=n.data,r=kr.empty();let i=new Xt(En.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);null===o&&s.length>1&&(s=s.popLast(),o=t.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new da(n.key,r,new Ni(i.toArray()),Pn.none())}}function zQ(n,e,t){n instanceof Qd?function(i,s,o){const a=i.value.clone(),l=c2(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):n instanceof da?function(i,s,o){if(!tI(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=c2(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(l2(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function wg(n,e,t,r){return n instanceof Qd?function(s,o,a,l){if(!tI(s.precondition,o))return a;const c=s.value.clone(),h=u2(s.fieldTransforms,l,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(n,e,t,r):n instanceof da?function(s,o,a,l){if(!tI(s.precondition,o))return a;const c=u2(s.fieldTransforms,l,o),h=o.data;return h.setAll(l2(s)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null===a?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(n,e,t,r):(a=t,tI(n.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a);var o,a}function qQ(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=e2(r.transform,i||null);null!=s&&(null===t&&(t=kr.empty()),t.set(r.field,s))}return t||null}function a2(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=n.fieldTransforms)&&void 0===i||r&&i&&Ud(r,i,(s,o)=>function HQ(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(r=n.transform)instanceof wc&&i instanceof wc||r instanceof bc&&i instanceof bc?Ud(r.elements,i.elements,Do):r instanceof Zd&&i instanceof Zd?Do(r.Ie,i.Ie):r instanceof Kd&&i instanceof Kd);var r,i}(s,o))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var r,i}class Qd extends nI{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class da extends nI{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function l2(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function c2(n,e,t){const r=new Map;ke(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,jQ(o,a,t[i]))}return r}function u2(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,BQ(s,o,e))}return r}class Yd extends nI{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class bC extends nI{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class TC{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&zQ(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=wg(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=wg(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=QF();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;const l=o2(o,a);null!==l&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Fe.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ht())}isEqual(e){return this.batchId===e.batchId&&Ud(this.mutations,e.mutations,(t,r)=>a2(t,r))&&Ud(this.baseMutations,e.baseMutations,(t,r)=>a2(t,r))}}class CC{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){ke(e.mutations.length===r.length);let i=FQ;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new CC(e,t,r,i)}}class SC{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class WQ{constructor(e,t){this.count=e,this.unchangedNames=t}}var sr,Lt;function d2(n){switch(n){default:return Ce();case H.CANCELLED:case H.UNKNOWN:case H.DEADLINE_EXCEEDED:case H.RESOURCE_EXHAUSTED:case H.INTERNAL:case H.UNAVAILABLE:case H.UNAUTHENTICATED:return!1;case H.INVALID_ARGUMENT:case H.NOT_FOUND:case H.ALREADY_EXISTS:case H.PERMISSION_DENIED:case H.FAILED_PRECONDITION:case H.ABORTED:case H.OUT_OF_RANGE:case H.UNIMPLEMENTED:case H.DATA_LOSS:return!0}}function h2(n){if(void 0===n)return Jn("GRPC error has no .code"),H.UNKNOWN;switch(n){case sr.OK:return H.OK;case sr.CANCELLED:return H.CANCELLED;case sr.UNKNOWN:return H.UNKNOWN;case sr.DEADLINE_EXCEEDED:return H.DEADLINE_EXCEEDED;case sr.RESOURCE_EXHAUSTED:return H.RESOURCE_EXHAUSTED;case sr.INTERNAL:return H.INTERNAL;case sr.UNAVAILABLE:return H.UNAVAILABLE;case sr.UNAUTHENTICATED:return H.UNAUTHENTICATED;case sr.INVALID_ARGUMENT:return H.INVALID_ARGUMENT;case sr.NOT_FOUND:return H.NOT_FOUND;case sr.ALREADY_EXISTS:return H.ALREADY_EXISTS;case sr.PERMISSION_DENIED:return H.PERMISSION_DENIED;case sr.FAILED_PRECONDITION:return H.FAILED_PRECONDITION;case sr.ABORTED:return H.ABORTED;case sr.OUT_OF_RANGE:return H.OUT_OF_RANGE;case sr.UNIMPLEMENTED:return H.UNIMPLEMENTED;case sr.DATA_LOSS:return H.DATA_LOSS;default:return Ce()}}(Lt=sr||(sr={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";function f2(){return new TextEncoder}const KQ=new Ld([4294967295,4294967295],0);function p2(n){const e=f2().encode(n),t=new jZ;return t.update(e),new Uint8Array(t.digest())}function g2(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ld([t,r],0),new Ld([i,s],0)]}class DC{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new bg(`Invalid padding: ${t}`);if(r<0)throw new bg(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new bg(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new bg(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ee=Ld.fromNumber(this.Te)}de(e,t,r){let i=e.add(t.multiply(Ld.fromNumber(r)));return 1===i.compare(KQ)&&(i=new Ld([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=p2(e),[r,i]=g2(t);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new DC(s,i,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.Te)return;const t=p2(e),[r,i]=g2(t);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class bg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Tg{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Cg.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Tg(Fe.min(),i,new hn(nt),Oi(),ht())}}class Cg{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Cg(r,t,ht(),ht(),ht())}}class iI{constructor(e,t,r,i){this.Ve=e,this.removedTargetIds=t,this.key=r,this.me=i}}class m2{constructor(e,t){this.targetId=e,this.fe=t}}class _2{constructor(e,t,r=_r.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class y2{constructor(){this.ge=0,this.pe=I2(),this.ye=_r.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=ht(),t=ht(),r=ht();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Ce()}}),new Cg(this.ye,this.we,e,t,r)}Fe(){this.Se=!1,this.pe=I2()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class ZQ{constructor(e){this.Le=e,this.ke=new Map,this.qe=Oi(),this.Qe=v2(),this.Ke=new hn(nt)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,t=>{const r=this.ze(t);switch(e.state){case 0:this.je(t)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(t);break;case 3:this.je(t)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),r.Ce(e.resumeToken));break;default:Ce()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach((r,i)=>{this.je(i)&&t(i)})}Je(e){const t=e.targetId,r=e.fe.count,i=this.Ye(t);if(i){const s=i.target;if(Yv(s))if(0===r){const o=new ye(s.path);this.We(t,o,wn.newNoDocument(o,Fe.min()))}else ke(1===r);else{const o=this.Ze(t);if(o!==r){const a=this.Xe(e),l=a?this.et(a,e,o):1;0!==l&&(this.He(t),this.Ke=this.Ke.insert(t,2===l?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t;let o,a;try{o=la(r).toUint8Array()}catch(l){if(l instanceof bF)return Mi("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new DC(o,i,s)}catch(l){return Mi(l instanceof bg?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return 0===a.Te?null:a}et(e,t,r){return t.fe.count===r-this.rt(e,t.targetId)?0:2}rt(e,t){const r=this.Le.getRemoteKeysForTarget(t);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(t,s,null),i++)}),i}it(e){const t=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&Yv(a.target)){const l=new ye(a.target.path);null!==this.qe.get(l)||this.st(o,l)||this.We(o,l,wn.newNoDocument(l,e))}s.De&&(t.set(o,s.ve()),s.Fe())}});let r=ht();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Ye(l);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new Tg(e,t,this.Ke,this.qe,r);return this.qe=Oi(),this.Qe=v2(),this.Ke=new hn(nt),i}Ue(e,t){if(!this.je(e))return;const r=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,r),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,t)?i.Me(t,1):i.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),r&&(this.qe=this.qe.insert(t,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new y2,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new Xt(nt),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||ue("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new y2),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function v2(){return new hn(ye.comparator)}function I2(){return new hn(ye.comparator)}const QQ={asc:"ASCENDING",desc:"DESCENDING"},YQ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},JQ={and:"AND",or:"OR"};class XQ{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function AC(n,e){return n.useProto3Json||cg(e)?e:{value:e}}function Jd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function E2(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function eY(n,e){return Jd(n,e.toTimestamp())}function Xn(n){return ke(!!n),Fe.fromTimestamp(function(t){const r=Qa(t);return new Rn(r.seconds,r.nanos)}(n))}function RC(n,e){return(r=n,new kt(["projects",r.projectId,"databases",r.database])).child("documents").child(e).canonicalString();var r}function w2(n){const e=kt.fromString(n);return ke(x2(e)),e}function Sg(n,e){return RC(n.databaseId,e.path)}function Ro(n,e){const t=w2(e);if(t.get(1)!==n.databaseId.projectId)throw new ie(H.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ie(H.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ye(T2(t))}function PC(n,e){return RC(n.databaseId,e)}function b2(n){const e=w2(n);return 4===e.length?kt.emptyPath():T2(e)}function Dg(n){return new kt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function T2(n){return ke(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function C2(n,e,t){return{name:Sg(n,e),fields:t.value.mapValue.fields}}function S2(n,e,t){const r=Ro(n,e.name),i=Xn(e.updateTime),s=e.createTime?Xn(e.createTime):Fe.min(),o=new kr({mapValue:{fields:e.fields}}),a=wn.newFoundDocument(r,i,s,o);return t&&a.setHasCommittedMutations(),t?a.setHasCommittedMutations():a}function Ag(n,e){let t;if(e instanceof Qd)t={update:C2(n,e.key,e.value)};else if(e instanceof Yd)t={delete:Sg(n,e.key)};else if(e instanceof da)t={update:C2(n,e.key,e.data),updateMask:lY(e.fieldMask)};else{if(!(e instanceof bC))return Ce();t={verify:Sg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Kd)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof wc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof bc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Zd)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw Ce()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:eY(n,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:Ce()),t;var s}function xC(n,e){const t=e.currentDocument?void 0!==(s=e.currentDocument).updateTime?Pn.updateTime(Xn(s.updateTime)):void 0!==s.exists?Pn.exists(s.exists):Pn.none():Pn.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,a){let l=null;"setToServerValue"in a?(ke("REQUEST_TIME"===a.setToServerValue),l=new Kd):"appendMissingElements"in a?l=new wc(a.appendMissingElements.values||[]):"removeAllFromArray"in a?l=new bc(a.removeAllFromArray.values||[]):"increment"in a?l=new Zd(o,a.increment):Ce();const c=En.fromServerFormat(a.fieldPath);return new Eg(c,l)}(n,i)):[];var s;if(e.update){const i=Ro(n,e.update.name),s=new kr({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=new Ni((e.updateMask.fieldPaths||[]).map(h=>En.fromServerFormat(h)));return new da(i,s,o,t,r)}return new Qd(i,s,t,r)}if(e.delete){const i=Ro(n,e.delete);return new Yd(i,t)}if(e.verify){const i=Ro(n,e.verify);return new bC(i,t)}return Ce()}function D2(n,e){return{documents:[PC(n,e.path)]}}function MC(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=PC(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=PC(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(0!==l.length)return P2(Qt.create(l,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const s=function(l){if(0!==l.length)return l.map(c=>{return{field:nl((g=c).field),direction:sY(g.dir)};var g})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const o=AC(n,e.limit);return null!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt={before:(l=e.startAt).inclusive,values:l.position}),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),t;var l}function A2(n){let e=b2(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){ke(1===r);const h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];t.where&&(s=function(g){const m=R2(g);return m instanceof Qt&&_C(m)?m.getFilters():[m]}(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(m=>{return new gg(Xd((w=m).field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction));var w}));let a=null;t.limit&&(a=function(g){let m;return m="object"==typeof g?g.value:g,cg(m)?null:m}(t.limit));let l=null;var g;t.startAt&&(l=new tl((g=t.startAt).values||[],!!g.before));let c=null;return t.endAt&&(c=function(g){return new tl(g.values||[],!g.before)}(t.endAt)),HF(e,i,o,s,a,"F",l,c)}function R2(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Xd(t.unaryFilter.field);return Rt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Xd(t.unaryFilter.field);return Rt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Xd(t.unaryFilter.field);return Rt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Xd(t.unaryFilter.field);return Rt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Ce()}}(n):void 0!==n.fieldFilter?Rt.create(Xd((t=n).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ce()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return Qt.create(t.compositeFilter.filters.map(r=>R2(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ce()}}(t.compositeFilter.op))}(n):Ce();var t}function sY(n){return QQ[n]}function oY(n){return YQ[n]}function aY(n){return JQ[n]}function nl(n){return{fieldPath:n.canonicalString()}}function Xd(n){return En.fromServerFormat(n.fieldPath)}function P2(n){return n instanceof Rt?function(t){if("=="===t.op){if(SF(t.value))return{unaryFilter:{field:nl(t.field),op:"IS_NAN"}};if(CF(t.value))return{unaryFilter:{field:nl(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(SF(t.value))return{unaryFilter:{field:nl(t.field),op:"IS_NOT_NAN"}};if(CF(t.value))return{unaryFilter:{field:nl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:nl(t.field),op:oY(t.op),value:t.value}}}(n):n instanceof Qt?function(t){const r=t.getFilters().map(i=>P2(i));return 1===r.length?r[0]:{compositeFilter:{op:aY(t.op),filters:r}}}(n):Ce()}function lY(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function x2(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class ha{constructor(e,t,r,i,s=Fe.min(),o=Fe.min(),a=_r.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new ha(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ha(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ha(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ha(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class M2{constructor(e){this.ut=e}}function N2(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:sI(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Sg(s=n.ut,(o=e).key),fields:o.data.value.mapValue.fields,updateTime:Jd(s,o.version.toTimestamp()),createTime:Jd(s,o.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Tc(e.version)};else{if(!e.isUnknownDocument())return Ce();r.unknownDocument={path:t.path.toArray(),version:Tc(e.version)}}var s,o;return r}function sI(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Tc(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Cc(n){const e=new Rn(n.seconds,n.nanoseconds);return Fe.fromTimestamp(e)}function Sc(n,e){const t=(e.baseMutations||[]).map(s=>xC(n.ut,s));for(let s=0;s<e.mutations.length-1;++s)s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform&&(e.mutations[s].updateTransforms=e.mutations[s+1].transform.fieldTransforms,e.mutations.splice(s+1,1),++s);const r=e.mutations.map(s=>xC(n.ut,s)),i=Rn.fromMillis(e.localWriteTimeMs);return new TC(e.batchId,i,t,r)}function Rg(n){const e=Cc(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Cc(n.lastLimboFreeSnapshotVersion):Fe.min();let r;return r=void 0!==n.query.documents?(ke(1===(s=n.query).documents.length),vi(qd(b2(s.documents[0])))):function(s){return vi(A2(s))}(n.query),new ha(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,_r.fromBase64String(n.resumeToken));var s}function O2(n,e){const t=Tc(e.snapshotVersion),r=Tc(e.lastLimboFreeSnapshotVersion);let i;i=Yv(e.target)?D2(n.ut,e.target):MC(n.ut,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ec(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function NC(n){const e=A2({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Xv(e,e.limit,"L"):e}function OC(n,e){return new SC(e.largestBatchId,xC(n.ut,e.overlayMutation))}function k2(n,e){const t=e.path.lastSegment();return[n,Qr(e.path.popLast()),t]}function L2(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Tc(r.readTime),documentKey:Qr(r.documentKey.path),largestBatchId:r.largestBatchId}}class uY{getBundleMetadata(e,t){return F2(e).get(t).next(r=>{if(r)return{id:(s=r).bundleId,createTime:Cc(s.createTime),version:s.version};var s})}saveBundleMetadata(e,t){return F2(e).put({bundleId:(i=t).id,createTime:Tc(Xn(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return V2(e).get(t).next(r=>{if(r)return{name:(s=r).name,query:NC(s.bundledQuery),readTime:Cc(s.readTime)};var s})}saveNamedQuery(e,t){return V2(e).put({name:(i=t).name,readTime:Tc(Xn(i.readTime)),bundledQuery:i.bundledQuery});var i}}function F2(n){return Tr(n,"bundles")}function V2(n){return Tr(n,"namedQueries")}class oI{constructor(e,t){this.serializer=e,this.userId=t}static ct(e,t){return new oI(e,t.uid||"")}getOverlay(e,t){return Pg(e).get(k2(this.userId,t)).next(r=>r?OC(this.serializer,r):null)}getOverlays(e,t){const r=Ao();return L.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((s,o)=>{const a=new SC(t,o);i.push(this.lt(e,a))}),L.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(o=>i.add(Qr(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(Pg(e).H("collectionPathOverlayIndex",a))}),L.waitFor(s)}getOverlaysForCollection(e,t,r){const i=Ao(),s=Qr(t),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Pg(e).W("collectionPathOverlayIndex",o).next(a=>{for(const l of a){const c=OC(this.serializer,l);i.set(c.getKey(),c)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const s=Ao();let o;const a=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Pg(e).Y({index:"collectionGroupOverlayIndex",range:a},(l,c,h)=>{const g=OC(this.serializer,c);s.size()<i||g.largestBatchId===o?(s.set(g.getKey(),g),o=g.largestBatchId):h.done()}).next(()=>s)}lt(e,t){return Pg(e).put(function(i,s,o){const[a,l,c]=k2(s,o.mutation.key);return{userId:s,collectionPath:l,documentId:c,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:Ag(i.ut,o.mutation)}}(this.serializer,this.userId,t))}}function Pg(n){return Tr(n,"documentOverlays")}class Dc{constructor(){}ht(e,t){this.Pt(e,t),t.It()}Pt(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et(jn(e.integerValue));else if("doubleValue"in e){const r=jn(e.doubleValue);isNaN(r)?this.Tt(t,13):(this.Tt(t,15),ug(r)?t.Et(0):t.Et(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Tt(t,20),"string"==typeof r?t.dt(r):(t.dt(`${r.seconds||""}`),t.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(la(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Tt(t,45),t.Et(r.latitude||0),t.Et(r.longitude||0)}else"mapValue"in e?DF(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):Ce()}At(e,t){this.Tt(t,25),this.wt(e,t)}wt(e,t){t.dt(e)}gt(e,t){const r=e.fields||{};this.Tt(t,55);for(const i of Object.keys(r))this.At(i,t),this.Pt(r[i],t)}yt(e,t){const r=e.values||[];this.Tt(t,50);for(const i of r)this.Pt(i,t)}ft(e,t){this.Tt(t,37),ye.fromName(e).path.forEach(r=>{this.Tt(t,60),this.wt(r,t)})}Tt(e,t){e.Et(t)}Rt(e){e.Et(2)}}function dY(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function U2(n){const e=64-function(r){let i=0;for(let s=0;s<8;++s){const o=dY(255&r[s]);if(i+=o,8!==o)break}return i}(n);return Math.ceil(e/8)}Dc.St=new Dc;class hY{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Dt(r.value),r=t.next();this.Ct()}vt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ft(r.value),r=t.next();this.Mt()}xt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Dt(r);else if(r<2048)this.Dt(960|r>>>6),this.Dt(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Dt(480|r>>>12),this.Dt(128|63&r>>>6),this.Dt(128|63&r);else{const i=t.codePointAt(0);this.Dt(240|i>>>18),this.Dt(128|63&i>>>12),this.Dt(128|63&i>>>6),this.Dt(128|63&i)}}this.Ct()}Ot(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{const i=t.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Nt(e){const t=this.Bt(e),r=U2(t);this.Lt(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}kt(e){const t=this.Bt(e),r=U2(t);this.Lt(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Bt(e){const t=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Dt(e){const t=255&e;0===t?(this.Qt(0),this.Qt(255)):255===t?(this.Qt(255),this.Qt(0)):this.Qt(t)}Ft(e){const t=255&e;0===t?(this.$t(0),this.$t(255)):255===t?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Lt(1),this.buffer[this.position++]=e}$t(e){this.Lt(1),this.buffer[this.position++]=~e}Lt(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class fY{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class pY{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class xg{constructor(){this.Wt=new hY,this.Gt=new fY(this.Wt),this.zt=new pY(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return 0===e?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class Ac{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Ht(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Ac(this.indexId,this.documentKey,this.arrayValue,r)}}function rl(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=B2(n.arrayValue,e.arrayValue),0!==t?t:(t=B2(n.directionalValue,e.directionalValue),0!==t?t:ye.comparator(n.documentKey,e.documentKey)))}function B2(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class j2{constructor(e){this.Jt=new Xt((t,r)=>En.comparator(t.field,r.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const t of e.filters){const r=t;r.isInequality()?this.Jt=this.Jt.add(r):this.Zt.push(r)}}get Xt(){return this.Jt.size>1}en(e){if(ke(e.collectionGroup===this.collectionId),this.Xt)return!1;const t=cC(e);if(void 0!==t&&!this.tn(t))return!1;const r=_c(e);let i=new Set,s=0,o=0;for(;s<r.length&&this.tn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.Jt.size>0){const a=this.Jt.getIterator().getNext();if(!i.has(a.field.canonicalString())){const l=r[s];if(!this.nn(a,l)||!this.rn(this.Yt[o++],l))return!1}++s}for(;s<r.length;++s)if(o>=this.Yt.length||!this.rn(this.Yt[o++],r[s]))return!1;return!0}sn(){if(this.Xt)return null;let e=new Xt(En.comparator);const t=[];for(const r of this.Zt)if(!r.field.isKeyField())if("array-contains"===r.op||"array-contains-any"===r.op)t.push(new yc(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new yc(r.field,0))}for(const r of this.Yt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new yc(r.field,"asc"===r.dir?0:1)));return new Bd(Bd.UNKNOWN_ID,this.collectionId,t,jd.empty())}tn(e){for(const t of this.Zt)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}rn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function H2(n){var e,t;if(ke(n instanceof Rt||n instanceof Qt),n instanceof Rt){if(n instanceof UF){const i=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(s=>Rt.create(n.field,"==",s)))||[];return Qt.create(i,"or")}return n}const r=n.filters.map(i=>H2(i));return Qt.create(r,n.op)}function gY(n){if(0===n.getFilters().length)return[];const e=FC(H2(n));return ke($2(e)),kC(e)||LC(e)?[e]:e.getFilters()}function kC(n){return n instanceof Rt}function LC(n){return n instanceof Qt&&_C(n)}function $2(n){return kC(n)||LC(n)||function(t){if(t instanceof Qt&&mC(t)){for(const r of t.getFilters())if(!kC(r)&&!LC(r))return!1;return!0}return!1}(n)}function FC(n){if(ke(n instanceof Rt||n instanceof Qt),n instanceof Rt)return n;if(1===n.filters.length)return FC(n.filters[0]);const e=n.filters.map(r=>FC(r));let t=Qt.create(e,n.op);return t=aI(t),$2(t)?t:(ke(t instanceof Qt),ke(zd(t)),ke(t.filters.length>1),t.filters.reduce((r,i)=>VC(r,i)))}function VC(n,e){let t;return ke(n instanceof Rt||n instanceof Qt),ke(e instanceof Rt||e instanceof Qt),t=n instanceof Rt?e instanceof Rt?Qt.create([n,e],"and"):z2(n,e):e instanceof Rt?z2(e,n):function(i,s){if(ke(i.filters.length>0&&s.filters.length>0),zd(i)&&zd(s))return LF(i,s.getFilters());const o=mC(i)?i:s,a=mC(i)?s:i,l=o.filters.map(c=>VC(c,a));return Qt.create(l,"or")}(n,e),aI(t)}function z2(n,e){if(zd(e))return LF(e,n.getFilters());{const t=e.filters.map(r=>VC(n,r));return Qt.create(t,"or")}}function aI(n){if(ke(n instanceof Rt||n instanceof Qt),n instanceof Rt)return n;const e=n.getFilters();if(1===e.length)return aI(e[0]);if(OF(n))return n;const t=e.map(i=>aI(i)),r=[];return t.forEach(i=>{i instanceof Rt?r.push(i):i instanceof Qt&&(i.op===n.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:Qt.create(r,n.op)}class mY{constructor(){this.on=new UC}addToCollectionParentIndex(e,t){return this.on.add(t),L.resolve()}getCollectionParents(e,t){return L.resolve(this.on.getEntries(t))}addFieldIndex(e,t){return L.resolve()}deleteFieldIndex(e,t){return L.resolve()}deleteAllFieldIndexes(e){return L.resolve()}createTargetIndexes(e,t){return L.resolve()}getDocumentsMatchingTarget(e,t){return L.resolve(null)}getIndexType(e,t){return L.resolve(0)}getFieldIndexes(e,t){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,t){return L.resolve(Yi.min())}getMinOffsetFromCollectionGroup(e,t){return L.resolve(Yi.min())}updateCollectionGroup(e,t,r){return L.resolve()}updateIndexEntries(e,t){return L.resolve()}}class UC{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Xt(kt.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Xt(kt.comparator)).toArray()}}const lI=new Uint8Array(0);class _Y{constructor(e,t){this.user=e,this.databaseId=t,this._n=new UC,this.an=new ua(r=>Ec(r),(r,i)=>mg(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this._n.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this._n.add(t)});const s={collectionId:r,parent:Qr(i)};return q2(e).put(s)}return L.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[aF(t),""],!1,!0);return q2(e).W(i).next(s=>{for(const o of s){if(o.collectionId!==t)break;r.push(So(o.parent))}return r})}addFieldIndex(e,t){const r=Mg(e),i={indexId:(a=t).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])};var a;delete i.indexId;const s=r.add(i);if(t.indexState){const o=th(e);return s.next(a=>{o.put(L2(a,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return s.next()}deleteFieldIndex(e,t){const r=Mg(e),i=th(e),s=eh(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=Mg(e),r=eh(e),i=th(e);return t.H().next(()=>r.H()).next(()=>i.H())}createTargetIndexes(e,t){return L.forEach(this.un(t),r=>this.getIndexType(e,r).next(i=>{if(0===i||1===i){const s=new j2(r).sn();if(null!=s)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,t){const r=eh(e);let i=!0;const s=new Map;return L.forEach(this.un(t),o=>this.cn(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=ht();const a=[];return L.forEach(s,(l,c)=>{var F;ue("IndexedDbIndexManager",`Using index ${F=l,`id=${F.indexId}|cg=${F.collectionGroup}|f=${F.fields.map(Q=>`${Q.fieldPath}:${Q.kind}`).join(",")}`} to execute ${Ec(t)}`);const h=function(F,Q){const he=cC(Q);if(void 0===he)return null;for(const Me of Jv(F,he.fieldPath))switch(Me.op){case"array-contains-any":return Me.value.arrayValue.values||[];case"array-contains":return[Me.value]}return null}(c,l),g=function(F,Q){const he=new Map;for(const Me of _c(Q))for(const tt of Jv(F,Me.fieldPath))switch(tt.op){case"==":case"in":he.set(Me.fieldPath.canonicalString(),tt.value);break;case"not-in":case"!=":return he.set(Me.fieldPath.canonicalString(),tt.value),Array.from(he.values())}return null}(c,l),m=function(F,Q){const he=[];let Me=!0;for(const tt of _c(Q)){const en=0===tt.kind?BF(F,tt.fieldPath,F.startAt):jF(F,tt.fieldPath,F.startAt);he.push(en.value),Me&&(Me=en.inclusive)}return new tl(he,Me)}(c,l),y=function(F,Q){const he=[];let Me=!0;for(const tt of _c(Q)){const en=0===tt.kind?jF(F,tt.fieldPath,F.endAt):BF(F,tt.fieldPath,F.endAt);he.push(en.value),Me&&(Me=en.inclusive)}return new tl(he,Me)}(c,l),w=this.ln(l,c,m),T=this.ln(l,c,y),S=this.hn(l,c,g),O=this.Pn(l.indexId,h,w,m.inclusive,T,y.inclusive,S);return L.forEach(O,P=>r.j(P,t.limit).next(F=>{F.forEach(Q=>{const he=ye.fromSegments(Q.documentKey);o.has(he)||(o=o.add(he),a.push(he))})}))}).next(()=>a)}return L.resolve(null)})}un(e){let t=this.an.get(e);return t||(t=0===e.filters.length?[e]:gY(Qt.create(e.filters,"and")).map(r=>vC(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.an.set(e,t),t)}Pn(e,t,r,i,s,o,a){const l=(null!=t?t.length:1)*Math.max(r.length,s.length),c=l/(null!=t?t.length:1),h=[];for(let g=0;g<l;++g){const m=t?this.In(t[g/c]):lI,y=this.Tn(e,m,r[g%c],i),w=this.En(e,m,s[g%c],o),T=a.map(S=>this.Tn(e,m,S,!0));h.push(...this.createRange(y,w,T))}return h}Tn(e,t,r,i){const s=new Ac(e,ye.empty(),t,r);return i?s:s.Ht()}En(e,t,r,i){const s=new Ac(e,ye.empty(),t,r);return i?s.Ht():s}cn(e,t){const r=new j2(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const a of s)r.en(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,t){let r=2;const i=this.un(t);return L.forEach(i,s=>this.cn(e,s).next(o=>{o?0!==r&&o.fields.length<function(l){let c=new Xt(En.comparator),h=!1;for(const g of l.filters)for(const m of g.getFlattenedFilters())m.field.isKeyField()||("array-contains"===m.op||"array-contains-any"===m.op?h=!0:c=c.add(m.field));for(const g of l.orderBy)g.field.isKeyField()||(c=c.add(g.field));return c.size+(h?1:0)}(s)&&(r=1):r=0})).next(()=>null!==t.limit&&i.length>1&&2===r?1:r)}dn(e,t){const r=new xg;for(const i of _c(e)){const s=t.data.field(i.fieldPath);if(null==s)return null;const o=r.jt(i.kind);Dc.St.ht(s,o)}return r.Ut()}In(e){const t=new xg;return Dc.St.ht(e,t.jt(0)),t.Ut()}An(e,t){const r=new xg;return Dc.St.ht(Ic(this.databaseId,t),r.jt(function(s){const o=_c(s);return 0===o.length?0:o[o.length-1].kind}(e))),r.Ut()}hn(e,t,r){if(null===r)return[];let i=[];i.push(new xg);let s=0;for(const o of _c(e)){const a=r[s++];for(const l of i)if(this.Rn(t,o.fieldPath)&&fg(a))i=this.Vn(i,o,a);else{const c=l.jt(o.kind);Dc.St.ht(a,c)}}return this.mn(i)}ln(e,t,r){return this.hn(e,t,r.position)}mn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Ut();return t}Vn(e,t,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const l=new xg;l.seed(a.Ut()),Dc.St.ht(o,l.jt(t.kind)),s.push(l)}return s}Rn(e,t){return!!e.filters.find(r=>r instanceof Rt&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=Mg(e),i=th(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(s=>{const o=[];return L.forEach(s,a=>i.get([a.indexId,this.uid]).next(l=>{o.push(function(h,g){const m=g?new jd(g.sequenceNumber,new Yi(Cc(g.readTime),new ye(So(g.documentKey)),g.largestBatchId)):jd.empty(),y=h.fields.map(([w,T])=>new yc(En.fromServerFormat(w),T));return new Bd(h.indexId,h.collectionGroup,y,m)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==s?s:nt(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=Mg(e),s=th(e);return this.fn(e).next(o=>i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(a=>L.forEach(a,l=>s.put(L2(l.indexId,this.user,o,r)))))}updateIndexEntries(e,t){const r=new Map;return L.forEach(t,(i,s)=>{const o=r.get(i.collectionGroup);return(o?L.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),L.forEach(a,l=>this.gn(e,i,l).next(c=>{const h=this.pn(s,l);return c.isEqual(h)?L.resolve():this.yn(e,s,l,c,h)}))))})}wn(e,t,r,i){return eh(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.An(r,t.key),documentKey:t.key.path.toArray()})}Sn(e,t,r,i){return eh(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.An(r,t.key),t.key.path.toArray()])}gn(e,t,r){const i=eh(e);let s=new Xt(rl);return i.Y({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.An(r,t)])},(o,a)=>{s=s.add(new Ac(r.indexId,t,a.arrayValue,a.directionalValue))}).next(()=>s)}pn(e,t){let r=new Xt(rl);const i=this.dn(t,e);if(null==i)return r;const s=cC(t);if(null!=s){const o=e.data.field(s.fieldPath);if(fg(o))for(const a of o.arrayValue.values||[])r=r.add(new Ac(t.indexId,e.key,this.In(a),i))}else r=r.add(new Ac(t.indexId,e.key,lI,i));return r}yn(e,t,r,i,s){ue("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const o=[];return function(l,c,h,g,m){const y=l.getIterator(),w=c.getIterator();let T=Hd(y),S=Hd(w);for(;T||S;){let O=!1,P=!1;if(T&&S){const F=h(T,S);F<0?P=!0:F>0&&(O=!0)}else null!=T?P=!0:O=!0;O?(g(S),S=Hd(w)):P?(m(T),T=Hd(y)):(T=Hd(y),S=Hd(w))}}(i,s,rl,a=>{o.push(this.wn(e,t,r,a))},a=>{o.push(this.Sn(e,t,r,a))}),L.waitFor(o)}fn(e){let t=1;return th(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((o,a)=>rl(o,a)).filter((o,a,l)=>!a||0!==rl(o,l[a-1]));const i=[];i.push(e);for(const o of r){const a=rl(o,e),l=rl(o,t);if(0===a)i[0]=e.Ht();else if(a>0&&l<0)i.push(o),i.push(o.Ht());else if(l>0)break}i.push(t);const s=[];for(let o=0;o<i.length;o+=2){if(this.bn(i[o],i[o+1]))return[];s.push(IDBKeyRange.bound([i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,lI,[]],[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,lI,[]]))}return s}bn(e,t){return rl(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(G2)}getMinOffset(e,t){return L.mapArray(this.un(t),r=>this.cn(e,r).next(i=>i||Ce())).next(G2)}}function q2(n){return Tr(n,"collectionParents")}function eh(n){return Tr(n,"indexEntries")}function Mg(n){return Tr(n,"indexConfiguration")}function th(n){return Tr(n,"indexState")}function G2(n){ke(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;uC(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new Yi(e.readTime,e.documentKey,t)}const W2={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Yr{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Yr(e,Yr.DEFAULT_COLLECTION_PERCENTILE,Yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function K2(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),s=[],o=IDBKeyRange.only(t.batchId);let a=0;const l=r.Y({range:o},(h,g,m)=>(a++,m.delete()));s.push(l.next(()=>{ke(1===a)}));const c=[];for(const h of t.mutations){const g=mF(e,h.key.path,t.batchId);s.push(i.delete(g)),c.push(h.key)}return L.waitFor(s).next(()=>c)}function cI(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Ce();e=n.noDocument}return JSON.stringify(e).length}Yr.DEFAULT_COLLECTION_PERCENTILE=10,Yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yr.DEFAULT=new Yr(41943040,Yr.DEFAULT_COLLECTION_PERCENTILE,Yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yr.DISABLED=new Yr(-1,0,0);class uI{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Dn={}}static ct(e,t,r,i){ke(""!==e.uid);const s=e.isAuthenticated()?e.uid:"";return new uI(s,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return il(e).Y({index:"userMutationsIndex",range:r},(i,s,o)=>{t=!1,o.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const s=nh(e),o=il(e);return o.add({}).next(a=>{ke("number"==typeof a);const l=new TC(a,t,r,i),c=function(y,w,T){const S=T.baseMutations.map(P=>Ag(y.ut,P)),O=T.mutations.map(P=>Ag(y.ut,P));return{userId:w,batchId:T.batchId,localWriteTimeMs:T.localWriteTime.toMillis(),baseMutations:S,mutations:O}}(this.serializer,this.userId,l),h=[];let g=new Xt((m,y)=>nt(m.canonicalString(),y.canonicalString()));for(const m of i){const y=mF(this.userId,m.key.path,a);g=g.add(m.key.path.popLast()),h.push(o.put(c)),h.push(s.put(y,sQ))}return g.forEach(m=>{h.push(this.indexManager.addToCollectionParentIndex(e,m))}),e.addOnCommittedListener(()=>{this.Dn[a]=l.keys()}),L.waitFor(h).next(()=>l)})}lookupMutationBatch(e,t){return il(e).get(t).next(r=>r?(ke(r.userId===this.userId),Sc(this.serializer,r)):null)}Cn(e,t){return this.Dn[t]?L.resolve(this.Dn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.Dn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return il(e).Y({index:"userMutationsIndex",range:i},(o,a,l)=>{a.userId===this.userId&&(ke(a.batchId>=r),s=Sc(this.serializer,a)),l.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return il(e).Y({index:"userMutationsIndex",range:t,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return il(e).W("userMutationsIndex",t).next(r=>r.map(i=>Sc(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=zv(this.userId,t.path),i=IDBKeyRange.lowerBound(r),s=[];return nh(e).Y({range:i},(o,a,l)=>{const[c,h,g]=o,m=So(h);if(c===this.userId&&t.path.isEqual(m))return il(e).get(g).next(y=>{if(!y)throw Ce();ke(y.userId===this.userId),s.push(Sc(this.serializer,y))});l.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Xt(nt);const i=[];return t.forEach(s=>{const o=zv(this.userId,s.path),a=IDBKeyRange.lowerBound(o),l=nh(e).Y({range:a},(c,h,g)=>{const[m,y,w]=c,T=So(y);m===this.userId&&s.path.isEqual(T)?r=r.add(w):g.done()});i.push(l)}),L.waitFor(i).next(()=>this.vn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,s=zv(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new Xt(nt);return nh(e).Y({range:o},(l,c,h)=>{const[g,m,y]=l,w=So(m);g===this.userId&&r.isPrefixOf(w)?w.length===i&&(a=a.add(y)):h.done()}).next(()=>this.vn(e,a))}vn(e,t){const r=[],i=[];return t.forEach(s=>{i.push(il(e).get(s).next(o=>{if(null===o)throw Ce();ke(o.userId===this.userId),r.push(Sc(this.serializer,o))}))}),L.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return K2(e.ae,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Fn(t.batchId)}),L.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return L.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return nh(e).Y({range:r},(s,o,a)=>{if(s[0]===this.userId){const l=So(s[1]);i.push(l)}else a.done()}).next(()=>{ke(0===i.length)})})}containsKey(e,t){return Z2(e,this.userId,t)}Mn(e){return Q2(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Z2(n,e,t){const r=zv(e,t.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return nh(n).Y({range:s,J:!0},(a,l,c)=>{const[h,g,m]=a;h===e&&g===i&&(o=!0),c.done()}).next(()=>o)}function il(n){return Tr(n,"mutations")}function nh(n){return Tr(n,"documentMutations")}function Q2(n){return Tr(n,"mutationQueues")}class Rc{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Rc(0)}static Nn(){return new Rc(-1)}}class yY{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Bn(e).next(t=>{const r=new Rc(t.highestTargetId);return t.highestTargetId=r.next(),this.Ln(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(t=>Fe.fromTimestamp(new Rn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Bn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Ln(e,i)))}addTargetData(e,t){return this.kn(e,t).next(()=>this.Bn(e).next(r=>(r.targetCount+=1,this.qn(t,r),this.Ln(e,r))))}updateTargetData(e,t){return this.kn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>rh(e).delete(t.targetId)).next(()=>this.Bn(e)).next(r=>(ke(r.targetCount>0),r.targetCount-=1,this.Ln(e,r)))}removeTargets(e,t,r){let i=0;const s=[];return rh(e).Y((o,a)=>{const l=Rg(a);l.sequenceNumber<=t&&null===r.get(l.targetId)&&(i++,s.push(this.removeTargetData(e,l)))}).next(()=>L.waitFor(s)).next(()=>i)}forEachTarget(e,t){return rh(e).Y((r,i)=>{const s=Rg(i);t(s)})}Bn(e){return Y2(e).get("targetGlobalKey").next(t=>(ke(null!==t),t))}Ln(e,t){return Y2(e).put("targetGlobalKey",t)}kn(e,t){return rh(e).put(O2(this.serializer,t))}qn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Bn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Ec(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return rh(e).Y({range:i,index:"queryTargetsIndex"},(o,a,l)=>{const c=Rg(a);mg(t,c.target)&&(s=c,l.done())}).next(()=>s)}addMatchingKeys(e,t,r){const i=[],s=sl(e);return t.forEach(o=>{const a=Qr(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),L.waitFor(i)}removeMatchingKeys(e,t,r){const i=sl(e);return L.forEach(t,s=>{const o=Qr(s.path);return L.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,t){const r=sl(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=sl(e);let s=ht();return i.Y({range:r,J:!0},(o,a,l)=>{const c=So(o[1]),h=new ye(c);s=s.add(h)}).next(()=>s)}containsKey(e,t){const r=Qr(t.path),i=IDBKeyRange.bound([r],[aF(r)],!1,!0);let s=0;return sl(e).Y({index:"documentTargetsIndex",J:!0,range:i},([o,a],l,c)=>{0!==o&&(s++,c.done())}).next(()=>s>0)}_t(e,t){return rh(e).get(t).next(r=>r?Rg(r):null)}}function rh(n){return Tr(n,"targets")}function Y2(n){return Tr(n,"targetGlobal")}function sl(n){return Tr(n,"targetDocuments")}function J2([n,e],[t,r]){const i=nt(n,t);return 0===i?nt(e,r):i}class vY{constructor(e){this.Qn=e,this.buffer=new Xt(J2),this.Kn=0}$n(){return++this.Kn}Un(e){const t=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();J2(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class X2{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(e){var t=this;ue("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,J.Z)(function*(){t.Wn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Ka(r)?ue("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Wa(r)}yield t.Gn(3e5)}))}}class IY{constructor(e,t){this.zn=e,this.params=t}calculateTargetCount(e,t){return this.zn.jn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return L.resolve(Ji._e);const r=new vY(t);return this.zn.forEachTarget(e,i=>r.Un(i.sequenceNumber)).next(()=>this.zn.Hn(e,i=>r.Un(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.zn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.zn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),L.resolve(W2)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),W2):this.Jn(e,t))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,t){let r,i,s,o,a,l,c;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,o=Date.now(),this.nthSequenceNumber(e,i))).next(g=>(r=g,a=Date.now(),this.removeTargets(e,r,t))).next(g=>(s=g,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(g=>(c=Date.now(),Vd()<=wo.in.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${o-h}ms\n\tDetermined least recently used ${i} in `+(a-o)+`ms\n\tRemoved ${s} targets in `+(l-a)+`ms\n\tRemoved ${g} documents in `+(c-l)+`ms\nTotal Duration: ${c-h}ms`),L.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:g})))}}class EY{constructor(e,t){this.db=e,this.garbageCollector=function eV(n,e){return new IY(n,e)}(this,t)}jn(e){const t=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Yn(e){let t=0;return this.Hn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Hn(e,t){return this.Zn(e,(r,i)=>t(i))}addReference(e,t,r){return dI(e,r)}removeReference(e,t,r){return dI(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return dI(e,t)}Xn(e,t){return function(i,s){let o=!1;return Q2(i).Z(a=>Z2(i,a,s).next(l=>(l&&(o=!0),L.resolve(!l)))).next(()=>o)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Zn(e,(o,a)=>{if(a<=t){const l=this.Xn(e,o).next(c=>{if(!c)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,Fe.min()),sl(e).delete([0,Qr(o.path)])))});i.push(l)}}).next(()=>L.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return dI(e,t)}Zn(e,t){const r=sl(e);let i,s=Ji._e;return r.Y({index:"documentTargetsIndex"},([o,a],{path:l,sequenceNumber:c})=>{0===o?(s!==Ji._e&&t(new ye(So(i)),s),s=c,i=l):s=Ji._e}).next(()=>{s!==Ji._e&&t(new ye(So(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function dI(n,e){return sl(n).put((i=n.currentSequenceNumber,{targetId:0,path:Qr(e.path),sequenceNumber:i}));var i}class tV{constructor(){this.changes=new ua(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,wn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?L.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class wY{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Pc(e).put(r)}removeEntry(e,t,r){return Pc(e).delete(function(s,o){const a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],sI(o),a[a.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.er(e,r)))}getEntry(e,t){let r=wn.newInvalidDocument(t);return Pc(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Ng(t))},(i,s)=>{r=this.tr(t,s)}).next(()=>r)}nr(e,t){let r={size:0,document:wn.newInvalidDocument(t)};return Pc(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Ng(t))},(i,s)=>{r={document:this.tr(t,s),size:cI(s)}}).next(()=>r)}getEntries(e,t){let r=Oi();return this.rr(e,t,(i,s)=>{const o=this.tr(i,s);r=r.insert(i,o)}).next(()=>r)}ir(e,t){let r=Oi(),i=new hn(ye.comparator);return this.rr(e,t,(s,o)=>{const a=this.tr(s,o);r=r.insert(s,a),i=i.insert(s,cI(o))}).next(()=>({documents:r,sr:i}))}rr(e,t,r){if(t.isEmpty())return L.resolve();let i=new Xt(sV);t.forEach(l=>i=i.add(l));const s=IDBKeyRange.bound(Ng(i.first()),Ng(i.last())),o=i.getIterator();let a=o.getNext();return Pc(e).Y({index:"documentKeyIndex",range:s},(l,c,h)=>{const g=ye.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;a&&sV(a,g)<0;)r(a,null),a=o.getNext();a&&a.isEqual(g)&&(r(a,c),a=o.hasNext()?o.getNext():null),a?h.U(Ng(a)):h.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,t,r,i,s){const o=t.path,a=[o.popLast().toArray(),o.lastSegment(),sI(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Pc(e).W(IDBKeyRange.bound(a,l,!0)).next(c=>{s?.incrementDocumentReadCount(c.length);let h=Oi();for(const g of c){const m=this.tr(ye.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);m.isFoundDocument()&&(yg(t,m)||i.has(m.key))&&(h=h.insert(m.key,m))}return h})}getAllFromCollectionGroup(e,t,r,i){let s=Oi();const o=iV(t,r),a=iV(t,Yi.max());return Pc(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(l,c,h)=>{const g=this.tr(ye.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);s=s.insert(g.key,g),s.size===i&&h.done()}).next(()=>s)}newChangeBuffer(e){return new bY(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return rV(e).get("remoteDocumentGlobalKey").next(t=>(ke(!!t),t))}er(e,t){return rV(e).put("remoteDocumentGlobalKey",t)}tr(e,t){if(t){const r=function cY(n,e){let t;if(e.document)t=S2(n.ut,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=ye.fromSegments(e.noDocument.path),i=Cc(e.noDocument.readTime);t=wn.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ce();{const r=ye.fromSegments(e.unknownDocument.path),i=Cc(e.unknownDocument.version);t=wn.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(i){const s=new Rn(i[0],i[1]);return Fe.fromTimestamp(s)}(e.readTime)),t}(this.serializer,t);if(!r.isNoDocument()||!r.version.isEqual(Fe.min()))return r}return wn.newInvalidDocument(e)}}function nV(n){return new wY(n)}class bY extends tV{constructor(e,t){super(),this._r=e,this.trackRemovals=t,this.ar=new ua(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new Xt((s,o)=>nt(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.ar.get(s);if(t.push(this._r.removeEntry(e,s,a.readTime)),o.isValidDocument()){const l=N2(this._r.serializer,o);i=i.add(s.path.popLast());const c=cI(l);r+=c-a.size,t.push(this._r.addEntry(e,s,l))}else if(r-=a.size,this.trackRemovals){const l=N2(this._r.serializer,o.convertToNoDocument(Fe.min()));t.push(this._r.addEntry(e,s,l))}}),i.forEach(s=>{t.push(this._r.indexManager.addToCollectionParentIndex(e,s))}),t.push(this._r.updateMetadata(e,r)),L.waitFor(t)}getFromCache(e,t){return this._r.nr(e,t).next(r=>(this.ar.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this._r.ir(e,t).next(({documents:r,sr:i})=>(i.forEach((s,o)=>{this.ar.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function rV(n){return Tr(n,"remoteDocumentGlobal")}function Pc(n){return Tr(n,"remoteDocumentsV14")}function Ng(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function iV(n,e){const t=e.documentKey.path.toArray();return[n,sI(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function sV(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<t.length-2&&s<r.length-2;++s)if(i=nt(t[s],r[s]),i)return i;return i=nt(t.length,r.length),i||(i=nt(t[t.length-2],r[r.length-2]),i||nt(t[t.length-1],r[r.length-1]))}class TY{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class oV{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&wg(r.mutation,i,Ni.empty(),Rn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ht()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ht()){const i=Ao();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=vg();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=Ao();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ht()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=Oi();const o=Ig(),a=Ig();return t.forEach((l,c)=>{const h=r.get(c.key);i.has(c.key)&&(void 0===h||h.mutation instanceof da)?s=s.insert(c.key,c):void 0!==h?(o.set(c.key,h.mutation.getFieldMask()),wg(h.mutation,c,h.mutation.getFieldMask(),Rn.now())):o.set(c.key,Ni.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,h)=>o.set(c,h)),t.forEach((c,h)=>{var g;return a.set(c,new TY(h,null!==(g=o.get(c))&&void 0!==g?g:null))}),a))}recalculateAndSaveOverlays(e,t){const r=Ig();let i=new hn((o,a)=>o-a),s=ht();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=t.get(l);if(null===c)return;let h=r.get(l)||Ni.empty();h=a.applyToLocalView(c,h),r.set(l,h);const g=(i.get(a.batchId)||ht()).add(l);i=i.insert(a.batchId,g)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,h=l.value,g=QF();h.forEach(m=>{if(!s.has(m)){const y=o2(t.get(m),r.get(m));null!==y&&g.set(m,y),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,g))}return L.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return ye.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):IC(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i);var o}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):L.resolve(Ao());let a=-1,l=s;return o.next(c=>L.forEach(c,(h,g)=>(a<g.largestBatchId&&(a=g.largestBatchId),s.get(h)?L.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{l=l.insert(h,m)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,ht())).next(h=>({batchId:a,changes:ZF(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ye(t)).next(r=>{let i=vg();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const s=t.collectionGroup;let o=vg();return this.indexManager.getCollectionParents(e,s).next(a=>L.forEach(a,l=>{const c=(g=t,m=l.child(s),new ca(m,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt));var g,m;return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(h=>{h.forEach((g,m)=>{o=o.insert(g,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(o=>{s.forEach((l,c)=>{const h=c.getKey();null===o.get(h)&&(o=o.insert(h,wn.newInvalidDocument(h)))});let a=vg();return o.forEach((l,c)=>{const h=s.get(l);void 0!==h&&wg(h.mutation,c,Ni.empty(),Rn.now()),yg(t,c)&&(a=a.insert(l,c))}),a})}}class CY{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,t){return L.resolve(this.ur.get(t))}saveBundleMetadata(e,t){return this.ur.set(t.id,{id:(i=t).id,version:i.version,createTime:Xn(i.createTime)}),L.resolve();var i}getNamedQuery(e,t){return L.resolve(this.cr.get(t))}saveNamedQuery(e,t){return this.cr.set(t.name,{name:(i=t).name,query:NC(i.bundledQuery),readTime:Xn(i.readTime)}),L.resolve();var i}}class SY{constructor(){this.overlays=new hn(ye.comparator),this.lr=new Map}getOverlay(e,t){return L.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ao();return L.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.lt(e,t,s)}),L.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.lr.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),L.resolve()}getOverlaysForCollection(e,t,r){const i=Ao(),s=t.length+1,o=new ye(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return L.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new hn((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>r){let h=s.get(c.largestBatchId);null===h&&(h=Ao(),s=s.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=Ao(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=i)););return L.resolve(a)}lt(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new SC(t,r));let s=this.lr.get(t);void 0===s&&(s=ht(),this.lr.set(t,s)),this.lr.set(t,s.add(r.key))}}class BC{constructor(){this.hr=new Xt(Cr.Pr),this.Ir=new Xt(Cr.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,t){const r=new Cr(e,t);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.dr(new Cr(e,t))}Ar(e,t){e.forEach(r=>this.removeReference(r,t))}Rr(e){const t=new ye(new kt([])),r=new Cr(t,e),i=new Cr(t,e+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const t=new ye(new kt([])),r=new Cr(t,e),i=new Cr(t,e+1);let s=ht();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new Cr(e,0),r=this.hr.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Cr{constructor(e,t){this.key=e,this.gr=t}static Pr(e,t){return ye.comparator(e.key,t.key)||nt(e.gr,t.gr)}static Tr(e,t){return nt(e.gr,t.gr)||ye.comparator(e.key,t.key)}}class DY{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.pr=1,this.yr=new Xt(Cr.Pr)}checkEmpty(e){return L.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const s=this.pr;this.pr++;const o=new TC(s,t,r,i);this.mutationQueue.push(o);for(const a of i)this.yr=this.yr.add(new Cr(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return L.resolve(o)}lookupMutationBatch(e,t){return L.resolve(this.wr(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.Sr(t+1),s=i<0?0:i;return L.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Cr(t,0),i=new Cr(t,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{const a=this.wr(o.gr);s.push(a)}),L.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Xt(nt);return t.forEach(i=>{const s=new Cr(i,0),o=new Cr(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),L.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;ye.isDocumentKey(s)||(s=s.child(""));const o=new Cr(new ye(s),0);let a=new Xt(nt);return this.yr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.gr)),!0)},o),L.resolve(this.br(a))}br(e){const t=[];return e.forEach(r=>{const i=this.wr(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){ke(0===this.Dr(t.batchId,"removed")),this.mutationQueue.shift();let r=this.yr;return L.forEach(t.mutations,i=>{const s=new Cr(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,t){const r=new Cr(t,0),i=this.yr.firstAfterOrEqual(r);return L.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return L.resolve()}Dr(e,t){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class AY{constructor(e){this.Cr=e,this.docs=new hn(ye.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return L.resolve(r?r.document.mutableCopy():wn.newInvalidDocument(t))}getEntries(e,t){let r=Oi();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():wn.newInvalidDocument(i))}),L.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=Oi();const o=t.path,a=new ye(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:h}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||uC(cF(h),r)<=0||(i.has(h.key)||yg(t,h))&&(s=s.insert(h.key,h.mutableCopy()))}return L.resolve(s)}getAllFromCollectionGroup(e,t,r,i){Ce()}vr(e,t){return L.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new RY(this)}getSize(e){return L.resolve(this.size)}}class RY extends tV{constructor(e){super(),this._r=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),L.waitFor(t)}getFromCache(e,t){return this._r.getEntry(e,t)}getAllFromCache(e,t){return this._r.getEntries(e,t)}}class PY{constructor(e){this.persistence=e,this.Fr=new ua(t=>Ec(t),mg),this.lastRemoteSnapshotVersion=Fe.min(),this.highestTargetId=0,this.Mr=0,this.Or=new BC,this.targetCount=0,this.Nr=Rc.On()}forEachTarget(e,t){return this.Fr.forEach((r,i)=>t(i)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Mr&&(this.Mr=t),L.resolve()}kn(e){this.Fr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Nr=new Rc(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,t){return this.kn(t),this.targetCount+=1,L.resolve()}updateTargetData(e,t){return this.kn(t),L.resolve()}removeTargetData(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),L.waitFor(s).next(()=>i)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,t){const r=this.Fr.get(t)||null;return L.resolve(r)}addMatchingKeys(e,t,r){return this.Or.Er(t,r),L.resolve()}removeMatchingKeys(e,t,r){this.Or.Ar(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),L.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Or.Rr(t),L.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Or.mr(t);return L.resolve(r)}containsKey(e,t){return L.resolve(this.Or.containsKey(t))}}class jC{constructor(e,t){this.Br={},this.overlays={},this.Lr=new Ji(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new PY(this),this.indexManager=new mY,this.remoteDocumentCache=new AY(r=>this.referenceDelegate.Qr(r)),this.serializer=new M2(t),this.Kr=new CY(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new SY,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Br[e.toKey()];return r||(r=new DY(t,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,t,r){ue("MemoryPersistence","Starting transaction:",e);const i=new xY(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(e,t){return L.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,t)))}}class xY extends dF{constructor(e){super(),this.currentSequenceNumber=e}}class hI{constructor(e){this.persistence=e,this.Gr=new BC,this.zr=null}static jr(e){return new hI(e)}get Hr(){if(this.zr)return this.zr;throw Ce()}addReference(e,t,r){return this.Gr.addReference(r,t),this.Hr.delete(r.toString()),L.resolve()}removeReference(e,t,r){return this.Gr.removeReference(r,t),this.Hr.add(r.toString()),L.resolve()}markPotentiallyOrphaned(e,t){return this.Hr.add(t.toString()),L.resolve()}removeTarget(e,t){this.Gr.Rr(t.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}$r(){this.zr=new Set}Ur(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.Hr,r=>{const i=ye.fromPath(r);return this.Jr(e,i).next(s=>{s||t.removeEntry(i,Fe.min())})}).next(()=>(this.zr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Jr(e,t).next(r=>{r?this.Hr.delete(t.toString()):this.Hr.add(t.toString())})}Qr(e){return 0}Jr(e,t){return L.or([()=>L.resolve(this.Gr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Wr(e,t)])}}class MY{constructor(e){this.serializer=e}N(e,t,r,i){const s=new $v("createOrUpgrade",t);var l;r<1&&i>=1&&(e.createObjectStore("owner"),(l=e).createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",gF,{unique:!0}),l.createObjectStore("documentMutations"),aV(e),function(l){l.createObjectStore("remoteDocuments")}(e));let o=L.resolve();return r<3&&i>=3&&(0!==r&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),aV(e)),o=o.next(()=>function(l){const c=l.store("targetGlobal"),h={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Fe.min().toTimestamp(),targetCount:0};return c.put("targetGlobalKey",h)}(s))),r<4&&i>=4&&(0!==r&&(o=o.next(()=>function(l,c){return c.store("mutations").W().next(h=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",gF,{unique:!0});const g=c.store("mutations"),m=h.map(y=>g.put(y));return L.waitFor(m)})}(e,s))),o=o.next(()=>{!function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(o=o.next(()=>this.Zr(s))),r<6&&i>=6&&(o=o.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(s)))),r<7&&i>=7&&(o=o.next(()=>this.ei(s))),r<8&&i>=8&&(o=o.next(()=>this.ti(e,s))),r<9&&i>=9&&(o=o.next(()=>{!function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(o=o.next(()=>this.ni(s))),r<11&&i>=11&&(o=o.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{!function(l){const c=l.createObjectStore("documentOverlays",{keyPath:_Q});c.createIndex("collectionPathOverlayIndex",yQ,{unique:!1}),c.createIndex("collectionGroupOverlayIndex",vQ,{unique:!1})}(e)})),r<13&&i>=13&&(o=o.next(()=>function(l){const c=l.createObjectStore("remoteDocumentsV14",{keyPath:oQ});c.createIndex("documentKeyIndex",aQ),c.createIndex("collectionGroupIndex",lQ)}(e)).next(()=>this.ri(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.ii(e,s))),r<15&&i>=15&&(o=o.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:fQ}).createIndex("sequenceNumberIndex",pQ,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:gQ}).createIndex("documentKeyIndex",mQ,{unique:!1})}(e))),o}Xr(e){let t=0;return e.store("remoteDocuments").Y((r,i)=>{t+=cI(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Zr(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(i=>L.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",o).next(a=>L.forEach(a,l=>{ke(l.userId===s.userId);const c=Sc(this.serializer,l);return K2(e,s.userId,c).next(()=>{})}))}))}ei(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.Y((o,a)=>{const l=new kt(o),c=[0,Qr(l)];s.push(t.get(c).next(h=>h?L.resolve():t.put({targetId:0,path:Qr(l),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>L.waitFor(s))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:hQ});const r=t.store("collectionParents"),i=new UC,s=o=>{if(i.add(o)){const a=o.lastSegment(),l=o.popLast();return r.put({collectionId:a,parent:Qr(l)})}};return t.store("remoteDocuments").Y({J:!0},(o,a)=>{const l=new kt(o);return s(l.popLast())}).next(()=>t.store("documentMutations").Y({J:!0},([o,a,l],c)=>{const h=So(a);return s(h.popLast())}))}ni(e){const t=e.store("targets");return t.Y((r,i)=>{const s=Rg(i),o=O2(this.serializer,s);return t.put(o)})}ri(e,t){const r=t.store("remoteDocuments"),i=[];return r.Y((s,o)=>{const a=t.store("remoteDocumentsV14"),l=(g=o,g.document?new ye(kt.fromString(g.document.name).popFirst(5)):g.noDocument?ye.fromSegments(g.noDocument.path):g.unknownDocument?ye.fromSegments(g.unknownDocument.path):Ce()).path.toArray(),c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};var g;i.push(a.put(c))}).next(()=>L.waitFor(i))}ii(e,t){const r=t.store("mutations"),i=nV(this.serializer),s=new jC(hI.jr,this.serializer.ut);return r.W().next(o=>{const a=new Map;return o.forEach(l=>{var c;let h=null!==(c=a.get(l.userId))&&void 0!==c?c:ht();Sc(this.serializer,l).keys().forEach(g=>h=h.add(g)),a.set(l.userId,h)}),L.forEach(a,(l,c)=>{const h=new br(c),g=oI.ct(this.serializer,h),m=s.getIndexManager(h),y=uI.ct(h,this.serializer,m,s.referenceDelegate);return new oV(i,y,g,m).recalculateAndSaveOverlaysForDocumentKeys(new fC(t,Ji._e),l).next()})})}}function aV(n){n.createObjectStore("targetDocuments",{keyPath:uQ}).createIndex("documentTargetsIndex",dQ,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",cQ,{unique:!0}),n.createObjectStore("targetGlobal")}const HC="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class $C{constructor(e,t,r,i,s,o,a,l,c,h,g=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.si=s,this.window=o,this.document=a,this.oi=c,this._i=h,this.ai=g,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=m=>Promise.resolve(),!$C.D())throw new ie(H.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new EY(this,i),this.Ii=t+"main",this.serializer=new M2(l),this.Ti=new Ys(this.Ii,this.ai,new MY(this.serializer)),this.qr=new yY(this.referenceDelegate,this.serializer),this.remoteDocumentCache=nV(this.serializer),this.Kr=new uY,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===h&&Jn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ie(H.FAILED_PRECONDITION,HC);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.qr.getHighestSequenceNumber(e))}).then(e=>{this.Lr=new Ji(e,this.oi)}).then(()=>{this.kr=!0}).catch(e=>(this.Ti&&this.Ti.close(),Promise.reject(e)))}mi(e){var t=this;return this.Pi=function(){var r=(0,J.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L(function(){var t=(0,J.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((0,J.Z)(function*(){t.started&&(yield t.di())})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>pI(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(e)).next(t=>this.isPrimary&&!t?this.pi(e).next(()=>!1):!!t&&this.yi(e).next(()=>!0))).catch(e=>{if(Ka(e))return ue("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ue("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.Pi(e)),this.isPrimary=e})}fi(e){return Og(e).get("owner").next(t=>L.resolve(this.wi(t)))}Si(e){return pI(e).delete(this.clientId)}bi(){var e=this;return(0,J.Z)(function*(){if(e.isPrimary&&!e.Di(e.hi,18e5)){e.hi=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Tr(r,"clientMetadata");return i.W().next(s=>{const o=e.Ci(s,18e5),a=s.filter(l=>-1===o.indexOf(l));return L.forEach(a,l=>i.delete(l.clientId)).next(()=>a)})}).catch(()=>[]);if(e.Ei)for(const r of t)e.Ei.removeItem(e.vi(r.clientId))}})()}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?L.resolve(!0):Og(e).get("owner").next(t=>{if(null!==t&&this.Di(t.leaseTimestampMs,5e3)&&!this.Fi(t.ownerId)){if(this.wi(t)&&this.networkEnabled)return!0;if(!this.wi(t)){if(!t.allowTabSynchronization)throw new ie(H.FAILED_PRECONDITION,HC);return!1}}return!(!this.networkEnabled||!this.inForeground)||pI(e).W().next(r=>void 0===this.Ci(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(t=>(this.isPrimary!==t&&ue("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,J.Z)(function*(){e.kr=!1,e.Mi(),e.li&&(e.li.cancel(),e.li=null),e.xi(),e.Oi(),yield e.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new fC(t,Ji._e);return e.pi(r).next(()=>e.Si(r))}),e.Ti.close(),e.Ni()})()}Ci(e,t){return e.filter(r=>this.Di(r.updateTimeMs,t)&&!this.Fi(r.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>pI(e).W().next(t=>this.Ci(t,18e5).map(r=>r.clientId)))}get started(){return this.kr}getMutationQueue(e,t){return uI.ct(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new _Y(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return oI.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,t,r){ue("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",s=15===(l=this.ai)?EQ:14===l?vF:13===l?yF:12===l?IQ:11===l?_F:void Ce();var l;let o;return this.Ti.runTransaction(e,i,s,a=>(o=new fC(a,this.Lr?this.Lr.next():Ji._e),"readwrite-primary"===t?this.fi(o).next(l=>!!l||this.gi(o)).next(l=>{if(!l)throw Jn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new ie(H.FAILED_PRECONDITION,uF);return r(o)}).next(l=>this.yi(o).next(()=>l)):this.Li(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}Li(e){return Og(e).get("owner").next(t=>{if(null!==t&&this.Di(t.leaseTimestampMs,5e3)&&!this.Fi(t.ownerId)&&!this.wi(t)&&!(this._i||this.allowTabSynchronization&&t.allowTabSynchronization))throw new ie(H.FAILED_PRECONDITION,HC)})}yi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Og(e).put("owner",t)}static D(){return Ys.D()}pi(e){const t=Og(e);return t.get("owner").next(r=>this.wi(r)?(ue("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):L.resolve())}Di(e,t){const r=Date.now();return!(e<r-t||e>r&&(Jn(`Detected an update time that is in the future: ${e} > ${r}`),1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Mi();const t=/(?:Version|Mobile)\/1[456]/;(0,an.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var t;try{const r=null!==(null===(t=this.Ei)||void 0===t?void 0:t.getItem(this.vi(e)));return ue("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Jn("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){Jn("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Og(n){return Tr(n,"owner")}function pI(n){return Tr(n,"clientMetadata")}function zC(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class qC{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ki=r,this.qi=i}static Qi(e,t){let r=ht(),i=ht();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new qC(e,t.fromCache,r,i)}}class NY{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class lV{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}getDocumentsMatchingQuery(e,t,r,i){const s={result:null};return this.zi(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(e,t,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new NY;return this.Hi(e,t,o).next(a=>{if(s.result=a,this.$i)return this.Ji(e,t,o,a.size)})}).next(()=>s.result)}Ji(e,t,r,i){return r.documentReadCount<this.Ui?(Vd()<=wo.in.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",Wd(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),L.resolve()):(Vd()<=wo.in.DEBUG&&ue("QueryEngine","Query:",Wd(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(Vd()<=wo.in.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",Wd(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vi(t))):L.resolve())}zi(e,t){if($F(t))return L.resolve(null);let r=vi(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=Xv(t,null,"F"),r=vi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ht(...s);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Yi(t,a);return this.Zi(t,c,o,l.readTime)?this.zi(e,Xv(t,null,"F")):this.Xi(e,c,t,l)}))})))}ji(e,t,r,i){return $F(t)||i.isEqual(Fe.min())?L.resolve(null):this.Gi.getDocuments(e,r).next(s=>{const o=this.Yi(t,s);return this.Zi(t,o,r,i)?L.resolve(null):(Vd()<=wo.in.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Wd(t)),this.Xi(e,o,t,lF(i,-1)).next(a=>a))})}Yi(e,t){let r=new Xt(WF(e));return t.forEach((i,s)=>{yg(e,s)&&(r=r.add(s))}),r}Zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(e,t,r){return Vd()<=wo.in.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",Wd(t)),this.Gi.getDocumentsMatchingQuery(e,t,Yi.min(),r)}Xi(e,t,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}class OY{constructor(e,t,r,i){this.persistence=e,this.es=t,this.serializer=i,this.ts=new hn(nt),this.ns=new ua(s=>Ec(s),mg),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new oV(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ts))}}function cV(n,e,t,r){return new OY(n,e,t,r)}function uV(n,e){return GC.apply(this,arguments)}function GC(){return GC=(0,J.Z)(function*(n,e){const t=me(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.os(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=ht();for(const c of i){o.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}for(const c of s){a.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}return t.localDocuments.getDocuments(r,l).next(c=>({_s:c,removedBatchIds:o,addedBatchIds:a}))})})}),GC.apply(this,arguments)}function dV(n){const e=me(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.qr.getLastRemoteSnapshotVersion(t))}function hV(n,e,t){let r=ht(),i=ht();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=Oi();return t.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Fe.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||0===l.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ue("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{us:o,cs:i}})}function FY(n,e){const t=me(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function ih(n,e){const t=me(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.qr.getTargetData(r,e).next(s=>s?(i=s,L.resolve(i)):t.qr.allocateTargetId(r).next(o=>(i=new ha(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.ts.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.ts=t.ts.insert(r.targetId,r),t.ns.set(e,r.targetId)),r})}function sh(n,e,t){return WC.apply(this,arguments)}function WC(){return WC=(0,J.Z)(function*(n,e,t){const r=me(n),i=r.ts.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Ka(o))throw o;ue("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}),WC.apply(this,arguments)}function gI(n,e,t){const r=me(n);let i=Fe.min(),s=ht();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,h){const g=me(l),m=g.ns.get(h);return void 0!==m?L.resolve(g.ts.get(m)):g.qr.getTargetData(c,h)}(r,o,vi(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.es.getDocumentsMatchingQuery(o,e,t?i:Fe.min(),t?s:ht())).next(a=>(gV(r,GF(e),a),{documents:a,ls:s})))}function fV(n,e){const t=me(n),r=me(t.qr),i=t.ts.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",s=>r._t(s,e).next(o=>o?o.target:null))}function pV(n,e){const t=me(n),r=t.rs.get(e)||Fe.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.ss.getAllFromCollectionGroup(i,e,lF(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(gV(t,e,i),i))}function gV(n,e,t){let r=n.rs.get(e)||Fe.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.rs.set(e,r)}function KC(){return KC=(0,J.Z)(function*(n,e,t,r){const i=me(n);let s=ht(),o=Oi();for(const c of t){const h=e.hs(c.metadata.name);c.document&&(s=s.add(h));const g=e.Ps(c);g.setReadTime(e.Is(c.metadata.readTime)),o=o.insert(h,g)}const a=i.ss.newChangeBuffer({trackRemovals:!0}),l=yield ih(i,(h=r,vi(qd(kt.fromString(`__bundle__/docs/${h}`)))));var h;return i.persistence.runTransaction("Apply bundle documents","readwrite",c=>hV(c,a,o).next(h=>(a.apply(c),h)).next(h=>i.qr.removeMatchingKeysForTargetId(c,l.targetId).next(()=>i.qr.addMatchingKeys(c,s,l.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(c,h.us,h.cs)).next(()=>h.us)))}),KC.apply(this,arguments)}function UY(n,e){return ZC.apply(this,arguments)}function ZC(){return ZC=(0,J.Z)(function*(n,e,t=ht()){const r=yield ih(n,vi(NC(e.bundledQuery))),i=me(n);return i.persistence.runTransaction("Save named query","readwrite",s=>{const o=Xn(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Kr.saveNamedQuery(s,e);const a=r.withResumeToken(_r.EMPTY_BYTE_STRING,o);return i.ts=i.ts.insert(a.targetId,a),i.qr.updateTargetData(s,a).next(()=>i.qr.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.qr.addMatchingKeys(s,t,r.targetId)).next(()=>i.Kr.saveNamedQuery(s,e))})}),ZC.apply(this,arguments)}function mV(n,e){return`firestore_clients_${n}_${e}`}function _V(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function QC(n,e){return`firestore_targets_${n}_${e}`}class mI{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Ts(e,t,r){const i=JSON.parse(r);let s,o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(s=new ie(i.error.code,i.error.message))),o?new mI(e,t,i.state,s):(Jn("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class kg{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Ts(e,t){const r=JSON.parse(t);let i,s="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new ie(r.error.code,r.error.message))),s?new kg(e,r.state,i):(Jn("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class _I{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ts(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,s=wC();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=fF(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new _I(e,s):(Jn("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class YC{constructor(e,t){this.clientId=e,this.onlineState=t}static Ts(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new YC(t.clientId,t.onlineState):(Jn("SharedClientState",`Failed to parse online state: ${e}`),null)}}class JC{constructor(){this.activeTargetIds=wC()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class XC{constructor(e,t,r,i,s){this.window=e,this.si=t,this.persistenceKey=r,this.Rs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new hn(nt),this.started=!1,this.ps=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ys=mV(this.persistenceKey,this.Rs),this.ws=`firestore_sequence_number_${this.persistenceKey}`,this.gs=this.gs.insert(this.Rs,new JC),this.Ss=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.bs=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.Cs=`firestore_online_state_${this.persistenceKey}`,this.vs=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,J.Z)(function*(){const t=yield e.syncEngine.Bi();for(const i of t){if(i===e.Rs)continue;const s=e.getItem(mV(e.persistenceKey,i));if(s){const o=_I.Ts(i,s);o&&(e.gs=e.gs.insert(o.clientId,o))}}e.Fs();const r=e.storage.getItem(e.Cs);if(r){const i=e.Ms(r);i&&e.xs(i)}for(const i of e.ps)e.fs(i);e.ps=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let t=!1;return this.gs.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,t,r){this.Ns(e,t,r),this.Bs(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(QC(this.persistenceKey,e));if(r){const i=kg.Ts(e,r);i&&(t=i.state)}}return this.Ls.ds(e),this.Fs(),t}removeLocalQueryTarget(e){this.Ls.As(e),this.Fs()}isLocalQueryTarget(e){return this.Ls.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(QC(this.persistenceKey,e))}updateQueryState(e,t,r){this.ks(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Bs(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return ue("SharedClientState","READ",e,t),t}setItem(e,t){ue("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){ue("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){var t=this;const r=e;if(r.storageArea===this.storage){if(ue("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ys)return void Jn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,J.Z)(function*(){if(t.started){if(null!==r.key)if(t.Ss.test(r.key)){if(null==r.newValue){const i=t.Ks(r.key);return t.$s(i,null)}{const i=t.Us(r.key,r.newValue);if(i)return t.$s(i.clientId,i)}}else if(t.bs.test(r.key)){if(null!==r.newValue){const i=t.Ws(r.key,r.newValue);if(i)return t.Gs(i)}}else if(t.Ds.test(r.key)){if(null!==r.newValue){const i=t.zs(r.key,r.newValue);if(i)return t.js(i)}}else if(r.key===t.Cs){if(null!==r.newValue){const i=t.Ms(r.newValue);if(i)return t.xs(i)}}else if(r.key===t.ws){const i=function(o){let a=Ji._e;if(null!=o)try{const l=JSON.parse(o);ke("number"==typeof l),a=l}catch(l){Jn("SharedClientState","Failed to read sequence number from WebStorage",l)}return a}(r.newValue);i!==Ji._e&&t.sequenceNumberHandler(i)}else if(r.key===t.vs){const i=t.Hs(r.newValue);yield Promise.all(i.map(s=>t.syncEngine.Js(s)))}}else t.ps.push(r)}))}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(e,t,r){const i=new mI(this.currentUser,e,t,r),s=_V(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Es())}Bs(e){const t=_V(this.persistenceKey,this.currentUser,e);this.removeItem(t)}qs(e){this.storage.setItem(this.Cs,JSON.stringify({clientId:this.Rs,onlineState:e}))}ks(e,t,r){const i=QC(this.persistenceKey,e),s=new kg(e,t,r);this.setItem(i,s.Es())}Qs(e){const t=JSON.stringify(Array.from(e));this.setItem(this.vs,t)}Ks(e){const t=this.Ss.exec(e);return t?t[1]:null}Us(e,t){const r=this.Ks(e);return _I.Ts(r,t)}Ws(e,t){const r=this.bs.exec(e),i=Number(r[1]);return mI.Ts(new br(void 0!==r[2]?r[2]:null),i,t)}zs(e,t){const r=this.Ds.exec(e),i=Number(r[1]);return kg.Ts(i,t)}Ms(e){return YC.Ts(e)}Hs(e){return JSON.parse(e)}Gs(e){var t=this;return(0,J.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Ys(e.batchId,e.state,e.error);ue("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,t){const r=t?this.gs.insert(e,t):this.gs.remove(e),i=this.Os(this.gs),s=this.Os(r),o=[],a=[];return s.forEach(l=>{i.has(l)||o.push(l)}),i.forEach(l=>{s.has(l)||a.push(l)}),this.syncEngine.Xs(o,a).then(()=>{this.gs=r})}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let t=wC();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class yV{constructor(){this.eo=new JC,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,t,r){this.no[e]=t}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new JC,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class BY{ro(e){}shutdown(){}}class vV{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let yI=null;function eS(){return null===yI?yI=268435456+Math.round(2147483648*Math.random()):yI++,"0x"+yI.toString(16)}const jY={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class HY{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const Jr="WebChannelConnection";class $Y extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+t.host,this.fo=`projects/${i}/databases/${s}`,this.po="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get yo(){return!1}wo(t,r,i,s,o){const a=eS(),l=this.So(t,r);ue("RestConnection",`Sending RPC '${t}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(c,s,o),this.Do(t,l,c,i).then(h=>(ue("RestConnection",`Received RPC '${t}' ${a}: `,h),h),h=>{throw Mi("RestConnection",`RPC '${t}' ${a} failed with error: `,h,"url: ",l,"request:",i),h})}Co(t,r,i,s,o,a){return this.wo(t,r,i,s,o)}bo(t,r,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+Fd,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>t[o]=s),i&&i.headers.forEach((s,o)=>t[o]=s)}So(t,r){return`${this.mo}/v1/${r}:${jY[t]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,t,r,i){const s=eS();return new Promise((o,a)=>{const l=new BZ;l.setWithCredentials(!0),l.listenOnce(FZ.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case aC.NO_ERROR:const h=l.getResponseJson();ue(Jr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case aC.TIMEOUT:ue(Jr,`RPC '${e}' ${s} timed out`),a(new ie(H.DEADLINE_EXCEEDED,"Request time out"));break;case aC.HTTP_ERROR:const g=l.getStatus();if(ue(Jr,`RPC '${e}' ${s} failed with status:`,g,"response text:",l.getResponseText()),g>0){let m=l.getResponseJson();Array.isArray(m)&&(m=m[0]);const y=m?.error;if(y&&y.status&&y.message){const w=function(S){const O=S.toLowerCase().replace(/_/g,"-");return Object.values(H).indexOf(O)>=0?O:H.UNKNOWN}(y.status);a(new ie(w,y.message))}else a(new ie(H.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ie(H.UNAVAILABLE,"Connection failed."));break;default:Ce()}}finally{ue(Jr,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);ue(Jr,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",c,r,15)})}vo(e,t,r){const i=eS(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=kZ(),a=LZ(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new UZ({})),this.bo(l.initMessageHeaders,t,r),l.encodeInitMessageHeaders=!0;const h=s.join("");ue(Jr,`Creating RPC '${e}' stream ${i}: ${h}`,l);const g=o.createWebChannel(h,l);let m=!1,y=!1;const w=new HY({co:S=>{y?ue(Jr,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(m||(ue(Jr,`Opening RPC '${e}' stream ${i} transport.`),g.open(),m=!0),ue(Jr,`RPC '${e}' stream ${i} sending:`,S),g.send(S))},lo:()=>g.close()}),T=(S,O,P)=>{S.listen(O,F=>{try{P(F)}catch(Q){setTimeout(()=>{throw Q},0)}})};return T(g,Hv.EventType.OPEN,()=>{y||ue(Jr,`RPC '${e}' stream ${i} transport opened.`)}),T(g,Hv.EventType.CLOSE,()=>{y||(y=!0,ue(Jr,`RPC '${e}' stream ${i} transport closed`),w.Ro())}),T(g,Hv.EventType.ERROR,S=>{y||(y=!0,Mi(Jr,`RPC '${e}' stream ${i} transport errored:`,S),w.Ro(new ie(H.UNAVAILABLE,"The operation could not be completed")))}),T(g,Hv.EventType.MESSAGE,S=>{var O;if(!y){const P=S.data[0];ke(!!P);const Q=P.error||(null===(O=P[0])||void 0===O?void 0:O.error);if(Q){ue(Jr,`RPC '${e}' stream ${i} received error:`,Q);const he=Q.status;let Me=function(bi){const ki=sr[bi];if(void 0!==ki)return h2(ki)}(he),tt=Q.message;void 0===Me&&(Me=H.INTERNAL,tt="Unknown error status: "+he+" with message "+Q.message),y=!0,w.Ro(new ie(Me,tt)),g.close()}else ue(Jr,`RPC '${e}' stream ${i} received:`,P),w.Vo(P)}}),T(a,VZ.STAT_EVENT,S=>{S.stat===nF.PROXY?ue(Jr,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===nF.NOPROXY&&ue(Jr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.Ao()},0),w}}function IV(){return typeof window<"u"?window:null}function vI(){return typeof document<"u"?document:null}function Lg(n){return new XQ(n,!0)}class tS{constructor(e,t,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=t,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const t=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,t-r);i>0&&ue("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class EV{constructor(e,t,r,i,s,o,a,l){this.si=e,this.Ko=r,this.$o=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new tS(e,t)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return(0,J.Z)(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return(0,J.Z)(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,t){var r=this;return(0,J.Z)(function*(){r.t_(),r.n_(),r.zo.cancel(),r.Uo++,4!==e?r.zo.reset():t&&t.code===H.RESOURCE_EXHAUSTED?(Jn(t.toString()),Jn("Using maximum backoff delay to prevent overloading the backend."),r.zo.Lo()):t&&t.code===H.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.r_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Io(t)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),t=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===t&&this.s_(r,i)},r=>{e(()=>{const i=new ie(H.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,t){const r=this.i_(this.Uo);this.stream=this.__(e,t),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){var e=this;this.state=5,this.zo.ko((0,J.Z)(function*(){e.state=0,e.start()}))}o_(e){return ue("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return t=>{this.si.enqueueAndForget(()=>this.Uo===e?t():(ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zY extends EV{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}__(e,t){return this.connection.vo("Listen",e,t)}onMessage(e){this.zo.reset();const t=function nY(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(c=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:Ce(),i=e.targetChange.targetIds||[],s=function(c,h){return c.useProto3Json?(ke(void 0===h||"string"==typeof h),_r.fromBase64String(h||"")):(ke(void 0===h||h instanceof Uint8Array),_r.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const h=void 0===c.code?H.UNKNOWN:h2(c.code);return new ie(h,c.message||"")}(o);t=new _2(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Ro(n,r.document.name),s=Xn(r.document.updateTime),o=r.document.createTime?Xn(r.document.createTime):Fe.min(),a=new kr({mapValue:{fields:r.document.fields}}),l=wn.newFoundDocument(i,s,o,a);t=new iI(r.targetIds||[],r.removedTargetIds||[],l.key,l)}else if("documentDelete"in e){const r=e.documentDelete,i=Ro(n,r.document),s=r.readTime?Xn(r.readTime):Fe.min(),o=wn.newNoDocument(i,s);t=new iI([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Ro(n,r.document);t=new iI([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Ce();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new WQ(i,s);t=new m2(r.targetId,o)}}var c;return t}(this.serializer,e),r=function(s){if(!("targetChange"in s))return Fe.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Fe.min():o.readTime?Xn(o.readTime):Fe.min()}(e);return this.listener.a_(t,r)}u_(e){const t={};t.database=Dg(this.serializer),t.addTarget=function(s,o){let a;const l=o.target;if(a=Yv(l)?{documents:D2(s,l)}:{query:MC(s,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=E2(s,o.resumeToken);const c=AC(s,o.expectedCount);null!==c&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Fe.min())>0){a.readTime=Jd(s,o.snapshotVersion.toTimestamp());const c=AC(s,o.expectedCount);null!==c&&(a.expectedCount=c)}return a}(this.serializer,e);const r=function iY(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.e_(t)}c_(e){const t={};t.database=Dg(this.serializer),t.removeTarget=e,this.e_(t)}}class qY extends EV{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,t){return this.connection.vo("Write",e,t)}onMessage(e){if(ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const t=function rY(n,e){return n&&n.length>0?(ke(void 0!==e),n.map(t=>function(i,s){let o=Xn(i.updateTime?i.updateTime:s);return o.isEqual(Fe.min())&&(o=Xn(s)),new $Q(o,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Xn(e.commitTime);return this.listener.I_(r,t)}return ke(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=Dg(this.serializer),this.e_(e)}P_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Ag(this.serializer,r))};this.e_(t)}}class GY extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new ie(H.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,t,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.wo(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ie(H.UNKNOWN,i.toString())})}Co(e,t,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,t,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ie(H.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class KY{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Jn(t),this.f_=!1):ue("OnlineStateTracker",t)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class ZY{constructor(e,t,r,i,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(a=>{r.enqueueAndForget((0,J.Z)(function*(){var l;ol(o)&&(ue("RemoteStore","Restarting streams for network reachability change."),yield(l=(0,J.Z)(function*(h){const g=me(h);g.C_.add(4),yield oh(g),g.M_.set("Unknown"),g.C_.delete(4),yield Fg(g)}),function c(h){return l.apply(this,arguments)})(o))}))}),this.M_=new KY(r,i)}}function Fg(n){return rS.apply(this,arguments)}function rS(){return rS=(0,J.Z)(function*(n){if(ol(n))for(const e of n.v_)yield e(!0)}),rS.apply(this,arguments)}function oh(n){return iS.apply(this,arguments)}function iS(){return iS=(0,J.Z)(function*(n){for(const e of n.v_)yield e(!1)}),iS.apply(this,arguments)}function II(n,e){const t=me(n);t.D_.has(e.targetId)||(t.D_.set(e.targetId,e),aS(t)?oS(t):lh(t).Ho()&&sS(t,e))}function Vg(n,e){const t=me(n),r=lh(t);t.D_.delete(e),r.Ho()&&wV(t,e),0===t.D_.size&&(r.Ho()?r.Zo():ol(t)&&t.M_.set("Unknown"))}function sS(n,e){if(n.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Fe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}lh(n).u_(e)}function wV(n,e){n.x_.Oe(e),lh(n).c_(e)}function oS(n){n.x_=new ZQ({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>n.D_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),lh(n).start(),n.M_.g_()}function aS(n){return ol(n)&&!lh(n).jo()&&n.D_.size>0}function ol(n){return 0===me(n).C_.size}function bV(n){n.x_=void 0}function QY(n){return lS.apply(this,arguments)}function lS(){return lS=(0,J.Z)(function*(n){n.D_.forEach((e,t)=>{sS(n,e)})}),lS.apply(this,arguments)}function YY(n,e){return cS.apply(this,arguments)}function cS(){return cS=(0,J.Z)(function*(n,e){bV(n),aS(n)?(n.M_.w_(e),oS(n)):n.M_.set("Unknown")}),cS.apply(this,arguments)}function JY(n,e,t){return uS.apply(this,arguments)}function uS(){return uS=(0,J.Z)(function*(n,e,t){if(n.M_.set("Online"),e instanceof _2&&2===e.state&&e.cause)try{yield(r=(0,J.Z)(function*(s,o){const a=o.cause;for(const l of o.targetIds)s.D_.has(l)&&(yield s.remoteSyncer.rejectListen(l,a),s.D_.delete(l),s.x_.removeTarget(l))}),function i(s,o){return r.apply(this,arguments)})(n,e)}catch(r){ue("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield EI(n,r)}else if(e instanceof iI?n.x_.$e(e):e instanceof m2?n.x_.Je(e):n.x_.Ge(e),!t.isEqual(Fe.min()))try{const r=yield dV(n.localStore);t.compareTo(r)>=0&&(yield function(s,o){const a=s.x_.it(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const h=s.D_.get(c);h&&s.D_.set(c,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const h=s.D_.get(l);if(!h)return;s.D_.set(l,h.withResumeToken(_r.EMPTY_BYTE_STRING,h.snapshotVersion)),wV(s,l);const g=new ha(h.target,l,c,h.sequenceNumber);sS(s,g)}),s.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){ue("RemoteStore","Failed to raise snapshot:",r),yield EI(n,r)}var r}),uS.apply(this,arguments)}function EI(n,e,t){return dS.apply(this,arguments)}function dS(){return dS=(0,J.Z)(function*(n,e,t){if(!Ka(e))throw e;n.C_.add(1),yield oh(n),n.M_.set("Offline"),t||(t=()=>dV(n.localStore)),n.asyncQueue.enqueueRetryable((0,J.Z)(function*(){ue("RemoteStore","Retrying IndexedDB access"),yield t(),n.C_.delete(1),yield Fg(n)}))}),dS.apply(this,arguments)}function TV(n,e){return e().catch(t=>EI(n,t,e))}function ah(n){return hS.apply(this,arguments)}function hS(){return hS=(0,J.Z)(function*(n){const e=me(n),t=al(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;XY(e);)try{const i=yield FY(e.localStore,r);if(null===i){0===e.b_.length&&t.Zo();break}r=i.batchId,eJ(e,i)}catch(i){yield EI(e,i)}CV(e)&&SV(e)}),hS.apply(this,arguments)}function XY(n){return ol(n)&&n.b_.length<10}function eJ(n,e){n.b_.push(e);const t=al(n);t.Ho()&&t.h_&&t.P_(e.mutations)}function CV(n){return ol(n)&&!al(n).jo()&&n.b_.length>0}function SV(n){al(n).start()}function tJ(n){return fS.apply(this,arguments)}function fS(){return fS=(0,J.Z)(function*(n){al(n).E_()}),fS.apply(this,arguments)}function nJ(n){return pS.apply(this,arguments)}function pS(){return pS=(0,J.Z)(function*(n){const e=al(n);for(const t of n.b_)e.P_(t.mutations)}),pS.apply(this,arguments)}function rJ(n,e,t){return gS.apply(this,arguments)}function gS(){return gS=(0,J.Z)(function*(n,e,t){const r=n.b_.shift(),i=CC.from(r,e,t);yield TV(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield ah(n)}),gS.apply(this,arguments)}function iJ(n,e){return mS.apply(this,arguments)}function mS(){return mS=(0,J.Z)(function*(n,e){var t;e&&al(n).h_&&(yield(t=(0,J.Z)(function*(i,s){if(d2(a=s.code)&&a!==H.ABORTED){const o=i.b_.shift();al(i).Yo(),yield TV(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s)),yield ah(i)}var a}),function r(i,s){return t.apply(this,arguments)})(n,e)),CV(n)&&SV(n)}),mS.apply(this,arguments)}function DV(n,e){return _S.apply(this,arguments)}function _S(){return _S=(0,J.Z)(function*(n,e){const t=me(n);t.asyncQueue.verifyOperationInProgress(),ue("RemoteStore","RemoteStore received new credentials");const r=ol(t);t.C_.add(3),yield oh(t),r&&t.M_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.C_.delete(3),yield Fg(t)}),_S.apply(this,arguments)}function yS(n,e){return vS.apply(this,arguments)}function vS(){return vS=(0,J.Z)(function*(n,e){const t=me(n);e?(t.C_.delete(2),yield Fg(t)):e||(t.C_.add(2),yield oh(t),t.M_.set("Unknown"))}),vS.apply(this,arguments)}function lh(n){return n.O_||(n.O_=function(t,r,i){const s=me(t);return s.A_(),new zY(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{ho:QY.bind(null,n),Io:YY.bind(null,n),a_:JY.bind(null,n)}),n.v_.push(function(){var e=(0,J.Z)(function*(t){t?(n.O_.Yo(),aS(n)?oS(n):n.M_.set("Unknown")):(yield n.O_.stop(),bV(n))});return function(t){return e.apply(this,arguments)}}())),n.O_}function al(n){return n.N_||(n.N_=function(t,r,i){const s=me(t);return s.A_(),new qY(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{ho:tJ.bind(null,n),Io:iJ.bind(null,n),T_:nJ.bind(null,n),I_:rJ.bind(null,n)}),n.v_.push(function(){var e=(0,J.Z)(function*(t){t?(n.N_.Yo(),yield ah(n)):(yield n.N_.stop(),n.b_.length>0&&(ue("RemoteStore",`Stopping write stream with ${n.b_.length} pending writes`),n.b_=[]))});return function(t){return e.apply(this,arguments)}}())),n.N_}class IS{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new IS(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ie(H.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ch(n,e){if(Jn("AsyncQueue",`${e}: ${n}`),Ka(n))return new ie(H.UNAVAILABLE,`${e}: ${n}`);throw n}class uh{constructor(e){this.comparator=e?(t,r)=>e(t,r)||ye.comparator(t.key,r.key):(t,r)=>ye.comparator(t.key,r.key),this.keyedMap=vg(),this.sortedSet=new hn(this.comparator)}static emptySet(e){return new uh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof uh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new uh;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class AV{constructor(){this.B_=new hn(ye.comparator)}track(e){const t=e.doc.key,r=this.B_.get(t);r?0!==e.type&&3===r.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==r.type?this.B_=this.B_.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.B_=this.B_.remove(t):1===e.type&&2===r.type?this.B_=this.B_.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):Ce():this.B_=this.B_.insert(t,e)}L_(){const e=[];return this.B_.inorderTraversal((t,r)=>{e.push(r)}),e}}class dh{constructor(e,t,r,i,s,o,a,l,c){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,t,r,i,s){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new dh(e,t,uh.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_g(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class sJ{constructor(){this.k_=void 0,this.listeners=[]}}class oJ{constructor(){this.queries=new ua(e=>qF(e),_g),this.onlineState="Unknown",this.q_=new Set}}function ES(n,e){return wS.apply(this,arguments)}function wS(){return wS=(0,J.Z)(function*(n,e){const t=me(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new sJ),i)try{s.k_=yield t.onListen(r)}catch(o){const a=ch(o,`Initialization of query '${Wd(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,s),s.listeners.push(e),e.Q_(t.onlineState),s.k_&&e.K_(s.k_)&&CS(t)}),wS.apply(this,arguments)}function bS(n,e){return TS.apply(this,arguments)}function TS(){return TS=(0,J.Z)(function*(n,e){const t=me(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),TS.apply(this,arguments)}function aJ(n,e){const t=me(n);let r=!1;for(const i of e){const o=t.queries.get(i.query);if(o){for(const a of o.listeners)a.K_(i)&&(r=!0);o.k_=i}}r&&CS(t)}function lJ(n,e,t){const r=me(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function CS(n){n.q_.forEach(e=>{e.next()})}class SS{constructor(e,t,r){this.query=e,this.U_=t,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new dh(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.W_?this.z_(e)&&(this.U_.next(e),t=!0):this.j_(e,this.onlineState)&&(this.H_(e),t=!0),this.G_=e,t}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let t=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),t=!0),t}j_(e,t){return!e.fromCache||(!this.options.J_||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=dh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class cJ{constructor(e,t){this.Y_=e,this.byteLength=t}Z_(){return"metadata"in this.Y_}}class RV{constructor(e){this.serializer=e}hs(e){return Ro(this.serializer,e)}Ps(e){return e.metadata.exists?S2(this.serializer,e.document,!1):wn.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return Xn(e)}}class uJ{constructor(e,t,r){this.X_=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=PV(e)}ea(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++t;const r=kt.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ta(e){const t=new Map,r=new RV(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.hs(i.metadata.name);for(const o of i.metadata.queries){const a=(t.get(o)||ht()).add(s);t.set(o,a)}}return t}complete(){var e=this;return(0,J.Z)(function*(){const t=yield function VY(n,e,t,r){return KC.apply(this,arguments)}(e.localStore,new RV(e.serializer),e.documents,e.X_.id),r=e.ta(e.documents);for(const i of e.queries)yield UY(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,na:e.collectionGroups,ra:t}})()}}function PV(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class xV{constructor(e){this.key=e}}class MV{constructor(e){this.key=e}}class NV{constructor(e,t){this.query=e,this.ia=t,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=ht(),this.mutatedKeys=ht(),this._a=WF(e),this.aa=new uh(this._a)}get ua(){return this.ia}ca(e,t){const r=t?t.la:new AV,i=t?t.aa:this.aa;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,g)=>{const m=i.get(h),y=yg(this.query,g)?g:null,w=!!m&&this.mutatedKeys.has(m.key),T=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let S=!1;m&&y?m.data.isEqual(y.data)?w!==T&&(r.track({type:3,doc:y}),S=!0):this.ha(m,y)||(r.track({type:2,doc:y}),S=!0,(l&&this._a(y,l)>0||c&&this._a(y,c)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),S=!0):m&&!y&&(r.track({type:1,doc:m}),S=!0,(l||c)&&(a=!0)),S&&(y?(o=o.add(y),s=T?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const h="F"===this.query.limitType?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{aa:o,la:r,Zi:a,mutatedKeys:s}}ha(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const s=e.la.L_();s.sort((c,h)=>function(m,y){const w=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce()}};return w(m)-w(y)}(c.type,h.type)||this._a(c.doc,h.doc)),this.Pa(r);const o=t?this.Ia():[],a=0===this.oa.size&&this.current?1:0,l=a!==this.sa;return this.sa=a,0!==s.length||l?{snapshot:new dh(this.query,e.aa,i,s,e.mutatedKeys,0===a,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:o}:{Ta:o}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new AV,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(t=>this.ia=this.ia.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.ia=this.ia.delete(t)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=ht(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const t=[];return e.forEach(r=>{this.oa.has(r)||t.push(new MV(r))}),this.oa.forEach(r=>{e.has(r)||t.push(new xV(r))}),t}da(e){this.ia=e.ls,this.oa=ht();const t=this.ca(e.documents);return this.applyChanges(t,!0)}Aa(){return dh.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class dJ{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class hJ{constructor(e){this.key=e,this.Ra=!1}}class fJ{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new ua(a=>qF(a),_g),this.fa=new Map,this.ga=new Set,this.pa=new hn(ye.comparator),this.ya=new Map,this.wa=new BC,this.Sa={},this.ba=new Map,this.Da=Rc.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function pJ(n,e){return DS.apply(this,arguments)}function DS(){return DS=(0,J.Z)(function*(n,e){const t=QS(n);let r,i;const s=t.ma.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{const o=yield ih(t.localStore,vi(e)),a=t.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield AS(t,e,r,"current"===a,o.resumeToken),t.isPrimaryClient&&II(t.remoteStore,o)}return i}),DS.apply(this,arguments)}function AS(n,e,t,r,i){return RS.apply(this,arguments)}function RS(){return RS=(0,J.Z)(function*(n,e,t,r,i){n.va=(g,m,y)=>{return(w=(0,J.Z)(function*(S,O,P,F){let Q=O.view.ca(P);Q.Zi&&(Q=yield gI(S.localStore,O.query,!1).then(({documents:tt})=>O.view.ca(tt,Q)));const he=F&&F.targetChanges.get(O.targetId),Me=O.view.applyChanges(Q,S.isPrimaryClient,he);return US(S,O.targetId,Me.Ta),Me.snapshot}),function T(S,O,P,F){return w.apply(this,arguments)})(n,g,m,y);var w};const s=yield gI(n.localStore,e,!0),o=new NV(e,s.ls),a=o.ca(s.documents),l=Cg.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),c=o.applyChanges(a,n.isPrimaryClient,l);US(n,t,c.Ta);const h=new dJ(e,t,o);return n.ma.set(e,h),n.fa.has(t)?n.fa.get(t).push(e):n.fa.set(t,[e]),c.snapshot}),RS.apply(this,arguments)}function gJ(n,e){return PS.apply(this,arguments)}function PS(){return PS=(0,J.Z)(function*(n,e){const t=me(n),r=t.ma.get(e),i=t.fa.get(r.targetId);if(i.length>1)return t.fa.set(r.targetId,i.filter(s=>!_g(s,e))),void t.ma.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield sh(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Vg(t.remoteStore,r.targetId),hh(t,r.targetId)}).catch(Wa))):(hh(t,r.targetId),yield sh(t.localStore,r.targetId,!0))}),PS.apply(this,arguments)}function xS(){return xS=(0,J.Z)(function*(n,e,t){const r=YS(n);try{const i=yield function(o,a){const l=me(o),c=Rn.now(),h=a.reduce((y,w)=>y.add(w.key),ht());let g,m;return l.persistence.runTransaction("Locally write mutations","readwrite",y=>{let w=Oi(),T=ht();return l.ss.getEntries(y,h).next(S=>{w=S,w.forEach((O,P)=>{P.isValidDocument()||(T=T.add(O))})}).next(()=>l.localDocuments.getOverlayedDocuments(y,w)).next(S=>{g=S;const O=[];for(const P of a){const F=qQ(P,g.get(P.key).overlayedDocument);null!=F&&O.push(new da(P.key,F,PF(F.value.mapValue),Pn.exists(!0)))}return l.mutationQueue.addMutationBatch(y,c,O,a)}).next(S=>{m=S;const O=S.applyToLocalDocumentSet(g,T);return l.documentOverlayCache.saveOverlays(y,S.batchId,O)})}).then(()=>({batchId:m.batchId,changes:ZF(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Sa[o.currentUser.toKey()];c||(c=new hn(nt)),c=c.insert(a,l),o.Sa[o.currentUser.toKey()]=c}(r,i.batchId,t),yield fa(r,i.changes),yield ah(r.remoteStore)}catch(i){const s=ch(i,"Failed to persist write");t.reject(s)}}),xS.apply(this,arguments)}function OV(n,e){return MS.apply(this,arguments)}function MS(){return MS=(0,J.Z)(function*(n,e){const t=me(n);try{const r=yield function LY(n,e){const t=me(n),r=e.snapshotVersion;let i=t.ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.ss.newChangeBuffer({trackRemovals:!0});i=t.ts;const a=[];e.targetChanges.forEach((h,g)=>{const m=i.get(g);if(!m)return;a.push(t.qr.removeMatchingKeys(s,h.removedDocuments,g).next(()=>t.qr.addMatchingKeys(s,h.addedDocuments,g)));let y=m.withSequenceNumber(s.currentSequenceNumber);var T,S,O;null!==e.targetMismatches.get(g)?y=y.withResumeToken(_r.EMPTY_BYTE_STRING,Fe.min()).withLastLimboFreeSnapshotVersion(Fe.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(g,y),S=y,O=h,(0===(T=m).resumeToken.approximateByteSize()||S.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=3e8||O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0)&&a.push(t.qr.updateTargetData(s,y))});let l=Oi(),c=ht();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(hV(s,o,e.documentUpdates).next(h=>{l=h.us,c=h.cs})),!r.isEqual(Fe.min())){const h=t.qr.getLastRemoteSnapshotVersion(s).next(g=>t.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return L.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(t.ts=i,s))}(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.ya.get(s);o&&(ke(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ra=!0:i.modifiedDocuments.size>0?ke(o.Ra):i.removedDocuments.size>0&&(ke(o.Ra),o.Ra=!1))}),yield fa(t,r,e)}catch(r){yield Wa(r)}}),MS.apply(this,arguments)}function kV(n,e,t){const r=me(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ma.forEach((s,o)=>{const a=o.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=me(o);l.onlineState=a;let c=!1;l.queries.forEach((h,g)=>{for(const m of g.listeners)m.Q_(a)&&(c=!0)}),c&&CS(l)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function _J(n,e,t){return NS.apply(this,arguments)}function NS(){return NS=(0,J.Z)(function*(n,e,t){const r=me(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.ya.get(e),s=i&&i.key;if(s){let o=new hn(ye.comparator);o=o.insert(s,wn.newNoDocument(s,Fe.min()));const a=ht().add(s),l=new Tg(Fe.min(),new Map,new hn(nt),o,a);yield OV(r,l),r.pa=r.pa.remove(s),r.ya.delete(e),BS(r)}else yield sh(r.localStore,e,!1).then(()=>hh(r,e,t)).catch(Wa)}),NS.apply(this,arguments)}function yJ(n,e){return OS.apply(this,arguments)}function OS(){return OS=(0,J.Z)(function*(n,e){const t=me(n),r=e.batch.batchId;try{const i=yield function kY(n,e){const t=me(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,c,h){const g=c.batch,m=g.keys();let y=L.resolve();return m.forEach(w=>{y=y.next(()=>h.getEntry(l,w)).next(T=>{const S=c.docVersions.get(w);ke(null!==S),T.version.compareTo(S)<0&&(g.applyToRemoteDocument(T,c),T.isValidDocument()&&(T.setReadTime(c.commitVersion),h.addEntry(T)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(l,g))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ht();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);VS(t,r,null),FS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield fa(t,i)}catch(i){yield Wa(i)}}),OS.apply(this,arguments)}function vJ(n,e,t){return kS.apply(this,arguments)}function kS(){return kS=(0,J.Z)(function*(n,e,t){const r=me(n);try{const i=yield function(o,a){const l=me(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return l.mutationQueue.lookupMutationBatch(c,a).next(g=>(ke(null!==g),h=g.keys(),l.mutationQueue.removeMutationBatch(c,g))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>l.localDocuments.getDocuments(c,h))})}(r.localStore,e);VS(r,e,t),FS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield fa(r,i)}catch(i){yield Wa(i)}}),kS.apply(this,arguments)}function LS(){return LS=(0,J.Z)(function*(n,e){const t=me(n);ol(t.remoteStore)||ue("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(o){const a=me(o);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",l=>a.mutationQueue.getHighestUnacknowledgedBatchId(l))}(t.localStore);if(-1===r)return void e.resolve();const i=t.ba.get(r)||[];i.push(e),t.ba.set(r,i)}catch(r){const i=ch(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),LS.apply(this,arguments)}function FS(n,e){(n.ba.get(e)||[]).forEach(t=>{t.resolve()}),n.ba.delete(e)}function VS(n,e,t){const r=me(n);let i=r.Sa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}function hh(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.fa.get(e))n.ma.delete(r),t&&n.Va.Fa(r,t);n.fa.delete(e),n.isPrimaryClient&&n.wa.Rr(e).forEach(r=>{n.wa.containsKey(r)||LV(n,r)})}function LV(n,e){n.ga.delete(e.path.canonicalString());const t=n.pa.get(e);null!==t&&(Vg(n.remoteStore,t),n.pa=n.pa.remove(e),n.ya.delete(t),BS(n))}function US(n,e,t){for(const r of t)r instanceof xV?(n.wa.addReference(r.key,e),EJ(n,r)):r instanceof MV?(ue("SyncEngine","Document no longer in limbo: "+r.key),n.wa.removeReference(r.key,e),n.wa.containsKey(r.key)||LV(n,r.key)):Ce()}function EJ(n,e){const t=e.key,r=t.path.canonicalString();n.pa.get(t)||n.ga.has(r)||(ue("SyncEngine","New document in limbo: "+t),n.ga.add(r),BS(n))}function BS(n){for(;n.ga.size>0&&n.pa.size<n.maxConcurrentLimboResolutions;){const e=n.ga.values().next().value;n.ga.delete(e);const t=new ye(kt.fromString(e)),r=n.Da.next();n.ya.set(r,new hJ(t)),n.pa=n.pa.insert(t,r),II(n.remoteStore,new ha(vi(qd(t.path)),r,"TargetPurposeLimboResolution",Ji._e))}}function fa(n,e,t){return jS.apply(this,arguments)}function jS(){return jS=(0,J.Z)(function*(n,e,t){const r=me(n),i=[],s=[],o=[];var a;r.ma.isEmpty()||(r.ma.forEach((a,l)=>{o.push(r.va(l,e,t).then(c=>{if((c||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const h=qC.Qi(l.targetId,c);s.push(h)}}))}),yield Promise.all(o),r.Va.a_(i),yield(a=(0,J.Z)(function*(c,h){const g=me(c);try{yield g.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>L.forEach(h,y=>L.forEach(y.ki,w=>g.persistence.referenceDelegate.addReference(m,y.targetId,w)).next(()=>L.forEach(y.qi,w=>g.persistence.referenceDelegate.removeReference(m,y.targetId,w)))))}catch(m){if(!Ka(m))throw m;ue("LocalStore","Failed to update sequence numbers: "+m)}for(const m of h){const y=m.targetId;if(!m.fromCache){const w=g.ts.get(y),S=w.withLastLimboFreeSnapshotVersion(w.snapshotVersion);g.ts=g.ts.insert(y,S)}}}),function l(c,h){return a.apply(this,arguments)})(r.localStore,s))}),jS.apply(this,arguments)}function wJ(n,e){return HS.apply(this,arguments)}function HS(){return HS=(0,J.Z)(function*(n,e){const t=me(n);if(!t.currentUser.isEqual(e)){ue("SyncEngine","User change. New user:",e.toKey());const r=yield uV(t.localStore,e);t.currentUser=e,(s=t).ba.forEach(a=>{a.forEach(l=>{l.reject(new ie(H.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ba.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield fa(t,r._s)}var s}),HS.apply(this,arguments)}function bJ(n,e){const t=me(n),r=t.ya.get(e);if(r&&r.Ra)return ht().add(r.key);{let i=ht();const s=t.fa.get(e);if(!s)return i;for(const o of s){const a=t.ma.get(o);i=i.unionWith(a.view.ua)}return i}}function TJ(n,e){return $S.apply(this,arguments)}function $S(){return $S=(0,J.Z)(function*(n,e){const t=me(n),r=yield gI(t.localStore,e.query,!0),i=e.view.da(r);return t.isPrimaryClient&&US(t,e.targetId,i.Ta),i}),$S.apply(this,arguments)}function CJ(n,e){return zS.apply(this,arguments)}function zS(){return zS=(0,J.Z)(function*(n,e){const t=me(n);return pV(t.localStore,e).then(r=>fa(t,r))}),zS.apply(this,arguments)}function SJ(n,e,t,r){return qS.apply(this,arguments)}function qS(){return qS=(0,J.Z)(function*(n,e,t,r){const i=me(n),s=yield function(a,l){const c=me(a),h=me(c.mutationQueue);return c.persistence.runTransaction("Lookup mutation documents","readonly",g=>h.Cn(g,l).next(m=>m?c.localDocuments.getDocuments(g,m):L.resolve(null)))}(i.localStore,e);var l;null!==s?("pending"===t?yield ah(i.remoteStore):"acknowledged"===t||"rejected"===t?(VS(i,e,r||null),FS(i,e),l=e,me(me(i.localStore).mutationQueue).Fn(l)):Ce(),yield fa(i,s)):ue("SyncEngine","Cannot apply mutation batch with id: "+e)}),qS.apply(this,arguments)}function GS(){return GS=(0,J.Z)(function*(n,e){const t=me(n);if(QS(t),YS(t),!0===e&&!0!==t.Ca){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield FV(t,r.toArray());t.Ca=!0,yield yS(t.remoteStore,!0);for(const s of i)II(t.remoteStore,s)}else if(!1===e&&!1!==t.Ca){const r=[];let i=Promise.resolve();t.fa.forEach((s,o)=>{t.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(hh(t,o),sh(t.localStore,o,!0))),Vg(t.remoteStore,o)}),yield i,yield FV(t,r),function(o){const a=me(o);a.ya.forEach((l,c)=>{Vg(a.remoteStore,c)}),a.wa.Vr(),a.ya=new Map,a.pa=new hn(ye.comparator)}(t),t.Ca=!1,yield yS(t.remoteStore,!1)}}),GS.apply(this,arguments)}function FV(n,e,t){return WS.apply(this,arguments)}function WS(){return WS=(0,J.Z)(function*(n,e,t){const r=me(n),i=[],s=[];for(const o of e){let a;const l=r.fa.get(o);if(l&&0!==l.length){a=yield ih(r.localStore,vi(l[0]));for(const c of l){const h=r.ma.get(c),g=yield TJ(r,h);g.snapshot&&s.push(g.snapshot)}}else{const c=yield fV(r.localStore,o);a=yield ih(r.localStore,c),yield AS(r,VV(c),o,!1,a.resumeToken)}i.push(a)}return r.Va.a_(s),i}),WS.apply(this,arguments)}function VV(n){return HF(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function AJ(n){return t=me(n).localStore,me(me(t).persistence).Bi();var t}function RJ(n,e,t,r){return KS.apply(this,arguments)}function KS(){return KS=(0,J.Z)(function*(n,e,t,r){const i=me(n);if(i.Ca)return void ue("SyncEngine","Ignoring unexpected query state notification.");const s=i.fa.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const o=yield pV(i.localStore,GF(s[0])),a=Tg.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,_r.EMPTY_BYTE_STRING);yield fa(i,o,a);break}case"rejected":yield sh(i.localStore,e,!0),hh(i,e,r);break;default:Ce()}}),KS.apply(this,arguments)}function PJ(n,e,t){return ZS.apply(this,arguments)}function ZS(){return ZS=(0,J.Z)(function*(n,e,t){const r=QS(n);if(r.Ca){for(const i of e){if(r.fa.has(i)){ue("SyncEngine","Adding an already active target "+i);continue}const s=yield fV(r.localStore,i),o=yield ih(r.localStore,s);yield AS(r,VV(s),o.targetId,!1,o.resumeToken),II(r.remoteStore,o)}for(const i of t)r.fa.has(i)&&(yield sh(r.localStore,i,!1).then(()=>{Vg(r.remoteStore,i),hh(r,i)}).catch(Wa))}}),ZS.apply(this,arguments)}function QS(n){const e=me(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=OV.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=bJ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_J.bind(null,e),e.Va.a_=aJ.bind(null,e.eventManager),e.Va.Fa=lJ.bind(null,e.eventManager),e}function YS(n){const e=me(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=yJ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vJ.bind(null,e),e}class Ug{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,J.Z)(function*(){t.serializer=Lg(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return cV(this.persistence,new lV,e.initialUser,this.serializer)}createPersistence(e){return new jC(hI.jr,this.serializer)}createSharedClientState(e){return new yV}terminate(){var e=this;return(0,J.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class JS extends Ug{constructor(e,t,r){super(),this.xa=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,J.Z)(function*(){yield t().call(r,e),yield r.xa.initialize(r,e),yield YS(r.xa.syncEngine),yield ah(r.xa.remoteStore),yield r.persistence.mi(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return cV(this.persistence,new lV,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new X2(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new rQ(t,this.persistence);return new nQ(e.asyncQueue,r)}createPersistence(e){const t=zC(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Yr.withCacheSize(this.cacheSizeBytes):Yr.DEFAULT;return new $C(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,IV(),vI(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new yV}}class UV extends JS{constructor(e,t){super(e,t,!1),this.xa=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,J.Z)(function*(){yield t().call(r,e);const i=r.xa.syncEngine;r.sharedClientState instanceof XC&&(r.sharedClientState.syncEngine={Ys:SJ.bind(null,i),Zs:RJ.bind(null,i),Xs:PJ.bind(null,i),Bi:AJ.bind(null,i),Js:CJ.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.mi(function(){var s=(0,J.Z)(function*(o){yield function DJ(n,e){return GS.apply(this,arguments)}(r.xa.syncEngine,o),r.gcScheduler&&(o&&!r.gcScheduler.started?r.gcScheduler.start():o||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(o&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():o||r.indexBackfillerScheduler.stop())});return function(o){return s.apply(this,arguments)}}())})()}createSharedClientState(e){const t=IV();if(!XC.D(t))throw new ie(H.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=zC(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new XC(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class fh{initialize(e,t){var r=this;return(0,J.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>kV(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=wJ.bind(null,r.syncEngine),yield yS(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new oJ}createDatastore(e){const t=Lg(e.databaseInfo.databaseId),r=new $Y(e.databaseInfo);return new GY(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return r=this.localStore,i=this.datastore,s=e.asyncQueue,o=t=>kV(this.syncEngine,t,0),a=vV.D()?new vV:new BY,new ZY(r,i,s,o,a);var r,i,s,o,a}createSyncEngine(e,t){return function(i,s,o,a,l,c,h){const g=new fJ(i,s,o,a,l,c);return h&&(g.Ca=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,J.Z)(function*(r){const i=me(r);ue("RemoteStore","RemoteStore shutting down."),i.C_.add(5),yield oh(i),i.F_.shutdown(),i.M_.set("Unknown")}),function t(r){return e.apply(this,arguments)})(this.remoteStore);var e}}function BV(n,e=10240){let t=0;return{read:()=>(0,J.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,J.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class wI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):Jn("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class NJ{constructor(e,t){this.Ba=e,this.serializer=t,this.metadata=new mr,this.buffer=new Uint8Array,this.La=new TextDecoder("utf-8"),this.ka().then(r=>{r&&r.Z_()?this.metadata.resolve(r.Y_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Y_)}`))},r=>this.metadata.reject(r))}close(){return this.Ba.cancel()}getMetadata(){var e=this;return(0,J.Z)(function*(){return e.metadata.promise})()}Ma(){var e=this;return(0,J.Z)(function*(){return yield e.getMetadata(),e.ka()})()}ka(){var e=this;return(0,J.Z)(function*(){const t=yield e.qa();if(null===t)return null;const r=e.La.decode(t),i=Number(r);isNaN(i)&&e.Qa(`length string (${r}) is not valid number`);const s=yield e.Ka(i);return new cJ(JSON.parse(s),t.length+i)})()}$a(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}qa(){var e=this;return(0,J.Z)(function*(){for(;e.$a()<0&&!(yield e.Ua()););if(0===e.buffer.length)return null;const t=e.$a();t<0&&e.Qa("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Ka(e){var t=this;return(0,J.Z)(function*(){for(;t.buffer.length<e;)(yield t.Ua())&&t.Qa("Reached the end of bundle when more is expected.");const r=t.La.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Qa(e){throw this.Ba.cancel(),new Error(`Invalid bundle format: ${e}`)}Ua(){var e=this;return(0,J.Z)(function*(){const t=yield e.Ba.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class OJ{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,J.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new ie(H.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,J.Z)(function*(o,a){const l=me(o),c=Dg(l.serializer)+"/documents",h={documents:a.map(w=>Sg(l.serializer,w))},g=yield l.Co("BatchGetDocuments",c,h,a.length),m=new Map;g.forEach(w=>{const T=function tY(n,e){return"found"in e?function(r,i){ke(!!i.found);const s=Ro(r,i.found.name),o=Xn(i.found.updateTime),a=i.found.createTime?Xn(i.found.createTime):Fe.min(),l=new kr({mapValue:{fields:i.found.fields}});return wn.newFoundDocument(s,o,a,l)}(n,e):"missing"in e?function(r,i){ke(!!i.missing),ke(!!i.readTime);const s=Ro(r,i.missing),o=Xn(i.readTime);return wn.newNoDocument(s,o)}(n,e):Ce()}(l.serializer,w);m.set(T.key.toString(),T)});const y=[];return a.forEach(w=>{const T=m.get(w.toString());ke(!!T),y.push(T)}),y}),function s(o,a){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Yd(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,J.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const s=ye.fromPath(i);e.mutations.push(new bC(s,e.precondition(s)))}),yield(r=(0,J.Z)(function*(s,o){const a=me(s),l=Dg(a.serializer)+"/documents",c={writes:o.map(h=>Ag(a.serializer,h))};yield a.wo("Commit",l,c)}),function i(s,o){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ce();t=Fe.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new ie(H.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Fe.min())?Pn.exists(!1):Pn.updateTime(t):Pn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Fe.min()))throw new ie(H.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Pn.updateTime(t)}return Pn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class kJ{constructor(e,t,r,i,s){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=s,this.Wa=r.maxAttempts,this.zo=new tS(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){var e=this;this.zo.ko((0,J.Z)(function*(){const t=new OJ(e.datastore),r=e.za(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(s=>{e.ja(s)}))}).catch(i=>{e.ja(i)})}))}za(e){try{const t=this.updateFunction(e);return!cg(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}ja(e){this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ga(),Promise.resolve()))):this.deferred.reject(e)}Ha(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!d2(t)}return!1}}class LJ{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=br.UNAUTHENTICATED,this.clientId=oF.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=(0,J.Z)(function*(a){ue("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(ue("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return(0,J.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ie(H.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,J.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=ch(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function bI(n,e){return XS.apply(this,arguments)}function XS(){return XS=(0,J.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),ue("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,J.Z)(function*(s){r.isEqual(s)||(yield uV(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),XS.apply(this,arguments)}function eD(n,e){return tD.apply(this,arguments)}function tD(){return tD=(0,J.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield nD(n);ue("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>DV(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>DV(e.remoteStore,s)),n._onlineComponents=e}),tD.apply(this,arguments)}function jV(n){return"FirebaseError"===n.name?n.code===H.FAILED_PRECONDITION||n.code===H.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function nD(n){return rD.apply(this,arguments)}function rD(){return rD=(0,J.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ue("FirestoreClient","Using user provided OfflineComponentProvider");try{yield bI(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!jV(t))throw t;Mi("Error using user provided cache. Falling back to memory cache: "+t),yield bI(n,new Ug)}}else ue("FirestoreClient","Using default OfflineComponentProvider"),yield bI(n,new Ug);return n._offlineComponents}),rD.apply(this,arguments)}function TI(n){return iD.apply(this,arguments)}function iD(){return iD=(0,J.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ue("FirestoreClient","Using user provided OnlineComponentProvider"),yield eD(n,n._uninitializedComponentsProvider._online)):(ue("FirestoreClient","Using default OnlineComponentProvider"),yield eD(n,new fh))),n._onlineComponents}),iD.apply(this,arguments)}function HV(n){return nD(n).then(e=>e.persistence)}function ph(n){return nD(n).then(e=>e.localStore)}function $V(n){return TI(n).then(e=>e.remoteStore)}function sD(n){return TI(n).then(e=>e.syncEngine)}function gh(n){return oD.apply(this,arguments)}function oD(){return oD=(0,J.Z)(function*(n){const e=yield TI(n),t=e.eventManager;return t.onListen=pJ.bind(null,e.syncEngine),t.onUnlisten=gJ.bind(null,e.syncEngine),t}),oD.apply(this,arguments)}function qV(n,e,t={}){const r=new mr;return n.asyncQueue.enqueueAndForget((0,J.Z)(function*(){return function(s,o,a,l,c){const h=new wI({next:m=>{o.enqueueAndForget(()=>bS(s,g));const y=m.docs.has(a);!y&&m.fromCache?c.reject(new ie(H.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&l&&"server"===l.source?c.reject(new ie(H.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(m)},error:m=>c.reject(m)}),g=new SS(qd(a.path),h,{includeMetadataChanges:!0,J_:!0});return ES(s,g)}(yield gh(n),n.asyncQueue,e,t,r)})),r.promise}function GV(n,e,t={}){const r=new mr;return n.asyncQueue.enqueueAndForget((0,J.Z)(function*(){return function(s,o,a,l,c){const h=new wI({next:m=>{o.enqueueAndForget(()=>bS(s,g)),m.fromCache&&"server"===l.source?c.reject(new ie(H.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(m)},error:m=>c.reject(m)}),g=new SS(a,h,{includeMetadataChanges:!0,J_:!0});return ES(s,g)}(yield gh(n),n.asyncQueue,e,t,r)})),r.promise}function WV(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const KV=new Map;function aD(n,e,t){if(!t)throw new ie(H.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function ZV(n,e,t,r){if(!0===e&&!0===r)throw new ie(H.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function QV(n){if(!ye.isDocumentKey(n))throw new ie(H.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function YV(n){if(ye.isDocumentKey(n))throw new ie(H.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function CI(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(r=n).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof n?"a function":Ce()}function Ct(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ie(H.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=CI(n);throw new ie(H.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function JV(n,e){if(e<=0)throw new ie(H.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class XV{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new ie(H.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ie(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ZV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=WV(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new ie(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ie(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ie(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bg{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new XV({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ie(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ie(H.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new XV(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new zZ;switch(r.type){case"firstParty":return new KZ(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ie(H.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=KV.get(t);r&&(ue("ComponentProvider","Removing Datastore"),KV.delete(t),r.terminate())}(this),Promise.resolve()}}class Lr{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Lr(this.firestore,e,this._query)}}class bn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Po(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bn(this.firestore,e,this._key)}}class Po extends Lr{constructor(e,t,r){super(e,t,qd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bn(this.firestore,null,new ye(e))}withConverter(e){return new Po(this.firestore,e,this._path)}}function tU(n,e,...t){if(n=(0,an.m9)(n),aD("collection","path",e),n instanceof Bg){const r=kt.fromString(e,...t);return YV(r),new Po(n,null,r)}{if(!(n instanceof bn||n instanceof Po))throw new ie(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(kt.fromString(e,...t));return YV(r),new Po(n.firestore,null,r)}}function SI(n,e,...t){if(n=(0,an.m9)(n),1===arguments.length&&(e=oF.newId()),aD("doc","path",e),n instanceof Bg){const r=kt.fromString(e,...t);return QV(r),new bn(n,null,new ye(r))}{if(!(n instanceof bn||n instanceof Po))throw new ie(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(kt.fromString(e,...t));return QV(r),new bn(n.firestore,n instanceof Po?n.converter:null,new ye(r))}}function nU(n,e){return n=(0,an.m9)(n),e=(0,an.m9)(e),(n instanceof bn||n instanceof Po)&&(e instanceof bn||e instanceof Po)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function lD(n,e){return n=(0,an.m9)(n),e=(0,an.m9)(e),n instanceof Lr&&e instanceof Lr&&n.firestore===e.firestore&&_g(n._query,e._query)&&n.converter===e.converter}class KJ{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new tS(this,"async_queue_retry"),this.iu=()=>{const t=vI();t&&ue("AsyncQueue","Visibility state changed to "+t.visibilityState),this.zo.Qo()};const e=vI();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const t=vI();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const t=new mr;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return(0,J.Z)(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(t){if(!Ka(t))throw t;ue("AsyncQueue","Operation failed with retryable error: "+t)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const t=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{throw this.eu=r,this.tu=!1,Jn("INTERNAL UNHANDLED ERROR: ",function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),a}(r)),r}).then(r=>(this.tu=!1,r))));return this.Ja=t,t}enqueueAfterDelay(e,t,r){this.su(),this.ru.indexOf(e)>-1&&(t=0);const i=IS.createAndSchedule(this,e,t,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&Ce()}verifyOperationInProgress(){}uu(){var e=this;return(0,J.Z)(function*(){let t;do{t=e.Ja,yield t}while(t!==e.Ja)})()}cu(e){for(const t of this.Xa)if(t.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Xa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const t=this.Xa.indexOf(e);this.Xa.splice(t,1)}}function cD(n){return function(t,r){if("object"!=typeof t||null===t)return!1;const i=t;for(const s of["next","error","complete"])if(s in i&&"function"==typeof i[s])return!0;return!1}(n)}class ZJ{constructor(){this._progressObserver={},this._taskCompletionResolver=new mr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class fn extends Bg{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new KJ,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||rU(this),this._firestoreClient.terminate()}}function Hn(n){return n._firestoreClient||rU(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function rU(n){var e,t,r;const i=n._freezeSettings(),s=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new TQ(n._databaseId,l,n._persistenceKey,(h=i).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,WV(h.experimentalLongPollingOptions),h.useFetchStreams));var l,h;n._firestoreClient=new LJ(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(t=i.localCache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function iU(n,e,t){const r=new mr;return n.asyncQueue.enqueue((0,J.Z)(function*(){try{yield bI(n,t),yield eD(n,e),r.resolve()}catch(i){const s=i;if(!jV(s))throw s;Mi("Error enabling indexeddb cache. Falling back to memory cache: "+s),r.reject(s)}})).then(()=>r.promise)}function sU(n){if(n._initialized||n._terminated)throw new ie(H.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class xo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xo(_r.fromBase64String(e))}catch(t){throw new ie(H.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new xo(_r.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class pa{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new ie(H.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new En(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class xc{constructor(e){this._methodName=e}}class DI{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ie(H.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ie(H.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return nt(this._lat,e._lat)||nt(this._long,e._long)}}const oX=/^__.*__$/;class aX{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new da(e,this.data,this.fieldMask,t,this.fieldTransforms):new Qd(e,this.data,t,this.fieldTransforms)}}class oU{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new da(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function aU(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce()}}class AI{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new AI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return xI(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(aU(this.Iu)&&oX.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class lX{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Lg(e)}pu(e,t,r,i=!1){return new AI({Iu:e,methodName:t,gu:r,path:En.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Mc(n){const e=n._freezeSettings(),t=Lg(n._databaseId);return new lX(n._databaseId,!!e.ignoreUndefinedProperties,t)}function RI(n,e,t,r,i,s={}){const o=n.pu(s.merge||s.mergeFields?2:0,e,t,i);fD("Data must be an object, but it was:",o,r);const a=uU(r,o);let l,c;if(s.merge)l=new Ni(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const g of s.mergeFields){const m=$g(e,g,t);if(!o.contains(m))throw new ie(H.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);hU(h,m)||h.push(m)}l=new Ni(h),c=o.fieldTransforms.filter(g=>l.covers(g.field))}else l=null,c=o.fieldTransforms;return new aX(new kr(a),l,c)}class Hg extends xc{_toFieldTransform(e){if(2!==e.Iu)throw e.mu(1===e.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Hg}}function lU(n,e,t){return new AI({Iu:3,gu:e.settings.gu,methodName:n._methodName,du:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class uD extends xc{_toFieldTransform(e){return new Eg(e.path,new Kd)}isEqual(e){return e instanceof uD}}class cX extends xc{constructor(e,t){super(e),this.yu=t}_toFieldTransform(e){const t=lU(this,e,!0),r=this.yu.map(s=>Nc(s,t)),i=new wc(r);return new Eg(e.path,i)}isEqual(e){return this===e}}class uX extends xc{constructor(e,t){super(e),this.yu=t}_toFieldTransform(e){const t=lU(this,e,!0),r=this.yu.map(s=>Nc(s,t)),i=new bc(r);return new Eg(e.path,i)}isEqual(e){return this===e}}class dX extends xc{constructor(e,t){super(e),this.wu=t}_toFieldTransform(e){const t=new Zd(e.serializer,XF(e.serializer,this.wu));return new Eg(e.path,t)}isEqual(e){return this===e}}function dD(n,e,t,r){const i=n.pu(1,e,t);fD("Data must be an object, but it was:",i,r);const s=[],o=kr.empty();Za(r,(l,c)=>{const h=PI(e,l,t);c=(0,an.m9)(c);const g=i.Ru(h);if(c instanceof Hg)s.push(h);else{const m=Nc(c,g);null!=m&&(s.push(h),o.set(h,m))}});const a=new Ni(s);return new oU(o,a,i.fieldTransforms)}function hD(n,e,t,r,i,s){const o=n.pu(1,e,t),a=[$g(e,r,t)],l=[i];if(s.length%2!=0)throw new ie(H.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)a.push($g(e,s[m])),l.push(s[m+1]);const c=[],h=kr.empty();for(let m=a.length-1;m>=0;--m)if(!hU(c,a[m])){const y=a[m];let w=l[m];w=(0,an.m9)(w);const T=o.Ru(y);if(w instanceof Hg)c.push(y);else{const S=Nc(w,T);null!=S&&(c.push(y),h.set(y,S))}}const g=new Ni(c);return new oU(h,g,o.fieldTransforms)}function cU(n,e,t,r=!1){return Nc(t,n.pu(r?4:3,e))}function Nc(n,e){if(dU(n=(0,an.m9)(n)))return fD("Unsupported field value:",e,n),uU(n,e);if(n instanceof xc)return function(r,i){if(!aU(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Nc(a,i.Vu(o));null==l&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if(null===(r=(0,an.m9)(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return XF(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const s=Rn.fromDate(r);return{timestampValue:Jd(i.serializer,s)}}if(r instanceof Rn){const s=new Rn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Jd(i.serializer,s)}}if(r instanceof DI)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof xo)return{bytesValue:E2(i.serializer,r._byteString)};if(r instanceof bn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:RC(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${CI(r)}`)}(n,e)}function uU(n,e){const t={};return EF(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Za(n,(r,i)=>{const s=Nc(i,e.Eu(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function dU(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Rn||n instanceof DI||n instanceof xo||n instanceof bn||n instanceof xc)}function fD(n,e,t){if(!dU(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=CI(t);throw e.mu("an object"===r?n+" a custom object":n+" "+r)}var i}function $g(n,e,t){if((e=(0,an.m9)(e))instanceof pa)return e._internalPath;if("string"==typeof e)return PI(n,e);throw xI("Field path arguments must be of type string or ",n,!1,void 0,t)}const hX=new RegExp("[~\\*/\\[\\]]");function PI(n,e,t){if(e.search(hX)>=0)throw xI(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new pa(...e.split("."))._internalPath}catch{throw xI(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function xI(n,e,t,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new ie(H.INVALID_ARGUMENT,a+n+l)}function hU(n,e){return n.some(t=>t.isEqual(e))}class zg{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new bn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new fX(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(MI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class fX extends zg{data(){return super.data()}}function MI(n,e){return"string"==typeof e?PI(n,e):e instanceof pa?e._internalPath:e._delegate._internalPath}function fU(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new ie(H.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class pD{}class qg extends pD{}function ll(n,e,...t){let r=[];e instanceof pD&&r.push(e),r=r.concat(t),function(s){const o=s.filter(l=>l instanceof mh).length,a=s.filter(l=>l instanceof Gg).length;if(o>1||o>0&&a>0)throw new ie(H.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class Gg extends qg{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Gg(e,t,r)}_apply(e){const t=this._parse(e);return _U(e._query,t),new Lr(e.firestore,e.converter,EC(e._query,t))}_parse(e){const t=Mc(e.firestore);return function(s,o,a,l,c,h,g){let m;if(c.isKeyField()){if("array-contains"===h||"array-contains-any"===h)throw new ie(H.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if("in"===h||"not-in"===h){mU(g,h);const y=[];for(const w of g)y.push(gU(l,s,w));m={arrayValue:{values:y}}}else m=gU(l,s,g)}else"in"!==h&&"not-in"!==h&&"array-contains-any"!==h||mU(g,h),m=cU(a,"where",g,"in"===h||"not-in"===h);return Rt.create(c,h,m)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class mh extends pD{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new mh(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:Qt.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)_U(o,l),o=EC(o,l)}(e._query,t),new Lr(e.firestore,e.converter,EC(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class gD extends qg{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new gD(e,t)}_apply(e){const t=function(i,s,o){if(null!==i.startAt)throw new ie(H.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new ie(H.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new gg(s,o)}(e._query,this._field,this._direction);return new Lr(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new ca(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class NI extends qg{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new NI(e,t,r)}_apply(e){return new Lr(e.firestore,e.converter,Xv(e._query,this._limit,this._limitType))}}class OI extends qg{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new OI(e,t,r)}_apply(e){const t=pU(e,this.type,this._docOrFields,this._inclusive);return new Lr(e.firestore,e.converter,(s=t,new ca((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)));var i,s}}class kI extends qg{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new kI(e,t,r)}_apply(e){const t=pU(e,this.type,this._docOrFields,this._inclusive);return new Lr(e.firestore,e.converter,(s=t,new ca((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)));var i,s}}function pU(n,e,t,r){if(t[0]=(0,an.m9)(t[0]),t[0]instanceof zg)return function(s,o,a,l,c){if(!l)throw new ie(H.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const h=[];for(const g of Gd(s))if(g.field.isKeyField())h.push(Ic(o,l.key));else{const m=l.data.field(g.field);if(Gv(m))throw new ie(H.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+g.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===m){const y=g.field.canonicalString();throw new ie(H.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${y}' (used as the orderBy) does not exist.`)}h.push(m)}return new tl(h,c)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Mc(n.firestore);return function(o,a,l,c,h,g){const m=o.explicitOrderBy;if(h.length>m.length)throw new ie(H.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const y=[];for(let w=0;w<h.length;w++){const T=h[w];if(m[w].field.isKeyField()){if("string"!=typeof T)throw new ie(H.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof T}`);if(!IC(o)&&-1!==T.indexOf("/"))throw new ie(H.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${T}' contains a slash.`);const S=o.path.child(kt.fromString(T));if(!ye.isDocumentKey(S))throw new ie(H.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${S}' is not because it contains an odd number of segments.`);const O=new ye(S);y.push(Ic(a,O))}else{const S=cU(l,c,T);y.push(S)}}return new tl(y,g)}(n._query,n.firestore._databaseId,i,e,t,r)}}function gU(n,e,t){if("string"==typeof(t=(0,an.m9)(t))){if(""===t)throw new ie(H.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!IC(e)&&-1!==t.indexOf("/"))throw new ie(H.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(kt.fromString(t));if(!ye.isDocumentKey(r))throw new ie(H.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ic(n,new ye(r))}if(t instanceof bn)return Ic(n,t._key);throw new ie(H.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${CI(t)}.`)}function mU(n,e){if(!Array.isArray(n)||0===n.length)throw new ie(H.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function _U(n,e){const t=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new ie(H.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class mD{convertValue(e,t="none"){switch(Xa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return jn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(la(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ce()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Za(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new DI(jn(e.latitude),jn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Wv(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(dg(e));default:return null}}convertTimestamp(e){const t=Qa(e);return new Rn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=kt.fromString(e);ke(x2(r));const i=new Ya(r.get(1),r.get(3)),s=new ye(r.popFirst(5));return i.isEqual(t)||Jn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function LI(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class wX extends mD{constructor(e){super(),this.firestore=e}convertBytes(e){return new xo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new bn(this.firestore,null,t)}}class Oc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ga extends zg{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Wg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(MI("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Wg extends ga{data(e={}){return super.data(e)}}class cl{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Oc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Wg(this._firestore,this._userDataWriter,r.key,r,new Oc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ie(H.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new Wg(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Oc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||3!==a.type).map(a=>{const l=new Wg(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Oc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,h=-1;return 0!==a.type&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),1!==a.type&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:TX(a.type),doc:l,oldIndex:c,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function TX(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce()}}function vU(n,e){return n instanceof ga&&e instanceof ga?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof cl&&e instanceof cl&&n._firestore===e._firestore&&lD(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class ul extends mD{constructor(e){super(),this.firestore=e}convertBytes(e){return new xo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new bn(this.firestore,null,t)}}function IU(n,e,t){n=Ct(n,bn);const r=Ct(n.firestore,fn),i=LI(n.converter,e,t);return _h(r,[RI(Mc(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Pn.none())])}function EU(n,e,t,...r){n=Ct(n,bn);const i=Ct(n.firestore,fn),s=Mc(i);let o;return o="string"==typeof(e=(0,an.m9)(e))||e instanceof pa?hD(s,"updateDoc",n._key,e,t,r):dD(s,"updateDoc",n._key,e),_h(i,[o.toMutation(n._key,Pn.exists(!0))])}function wU(n,...e){var t,r,i;n=(0,an.m9)(n);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||cD(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(cD(e[o])){const g=e[o];e[o]=null===(t=g.next)||void 0===t?void 0:t.bind(g),e[o+1]=null===(r=g.error)||void 0===r?void 0:r.bind(g),e[o+2]=null===(i=g.complete)||void 0===i?void 0:i.bind(g)}let l,c,h;if(n instanceof bn)c=Ct(n.firestore,fn),h=qd(n._key.path),l={next:g=>{e[o]&&e[o](_D(c,n,g))},error:e[o+1],complete:e[o+2]};else{const g=Ct(n,Lr);c=Ct(g.firestore,fn),h=g._query;const m=new ul(c);l={next:y=>{e[o]&&e[o](new cl(c,m,g,y))},error:e[o+1],complete:e[o+2]},fU(n._query)}return function(m,y,w,T){const S=new wI(T),O=new SS(y,S,w);return m.asyncQueue.enqueueAndForget((0,J.Z)(function*(){return ES(yield gh(m),O)})),()=>{S.Na(),m.asyncQueue.enqueueAndForget((0,J.Z)(function*(){return bS(yield gh(m),O)}))}}(Hn(c),h,a,l)}function _h(n,e){return function(r,i){const s=new mr;return r.asyncQueue.enqueueAndForget((0,J.Z)(function*(){return function mJ(n,e,t){return xS.apply(this,arguments)}(yield sD(r),i,s)})),s.promise}(Hn(n),e)}function _D(n,e,t){const r=t.docs.get(e._key),i=new ul(n);return new ga(n,i,e._key,r,new Oc(t.hasPendingWrites,t.fromCache),e.converter)}const HX={maxAttempts:5};class bU{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Mc(e)}set(e,t,r){this._verifyNotCommitted();const i=dl(e,this._firestore),s=LI(i.converter,t,r),o=RI(this._dataReader,"WriteBatch.set",i._key,s,null!==i.converter,r);return this._mutations.push(o.toMutation(i._key,Pn.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const s=dl(e,this._firestore);let o;return o="string"==typeof(t=(0,an.m9)(t))||t instanceof pa?hD(this._dataReader,"WriteBatch.update",s._key,t,r,i):dD(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(o.toMutation(s._key,Pn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=dl(e,this._firestore);return this._mutations=this._mutations.concat(new Yd(t._key,Pn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ie(H.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function dl(n,e){if((n=(0,an.m9)(n)).firestore!==e)throw new ie(H.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class $X extends class{constructor(t,r){this._firestore=t,this._transaction=r,this._dataReader=Mc(t)}get(t){const r=dl(t,this._firestore),i=new wX(this._firestore);return this._transaction.lookup([r._key]).then(s=>{if(!s||1!==s.length)return Ce();const o=s[0];if(o.isFoundDocument())return new zg(this._firestore,i,o.key,o,r.converter);if(o.isNoDocument())return new zg(this._firestore,i,r._key,null,r.converter);throw Ce()})}set(t,r,i){const s=dl(t,this._firestore),o=LI(s.converter,r,i),a=RI(this._dataReader,"Transaction.set",s._key,o,null!==s.converter,i);return this._transaction.set(s._key,a),this}update(t,r,i,...s){const o=dl(t,this._firestore);let a;return a="string"==typeof(r=(0,an.m9)(r))||r instanceof pa?hD(this._dataReader,"Transaction.update",o._key,r,i,s):dD(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,a),this}delete(t){const r=dl(t,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=dl(e,this._firestore),r=new ul(this._firestore);return super.get(e).then(i=>new ga(this._firestore,r,t._key,i._document,new Oc(!1,!1),t.converter))}}function vD(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new ie("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function DU(){if(typeof Uint8Array>"u")throw new ie("unimplemented","Uint8Arrays are not available in this environment.")}function AU(){if(!function wQ(){return typeof atob<"u"}())throw new ie("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,t=!0){Fd=Dd.SDK_VERSION,(0,Dd._registerComponent)(new bk.wA("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new fn(new GZ(r.getProvider("auth-internal")),new ZZ(r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ie(H.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ya(c.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),(0,Dd.registerVersion)(rF,"4.3.2",e),(0,Dd.registerVersion)(rF,"4.3.2","esm2017")}();class Kg{constructor(e){this._delegate=e}static fromBase64String(e){return AU(),new Kg(xo.fromBase64String(e))}static fromUint8Array(e){return DU(),new Kg(xo.fromUint8Array(e))}toBase64(){return AU(),this._delegate.toBase64()}toUint8Array(){return DU(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function ID(n){return function XX(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class eee{enableIndexedDbPersistence(e,t){return function YJ(n,e){sU(n=Ct(n,fn));const t=Hn(n);if(t._uninitializedComponentsProvider)throw new ie(H.FAILED_PRECONDITION,"SDK cache is already specified.");Mi("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),i=new fh;return iU(t,i,new JS(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function JJ(n){sU(n=Ct(n,fn));const e=Hn(n);if(e._uninitializedComponentsProvider)throw new ie(H.FAILED_PRECONDITION,"SDK cache is already specified.");Mi("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),r=new fh;return iU(e,r,new UV(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function XJ(n){if(n._initialized&&!n._terminated)throw new ie(H.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new mr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,J.Z)(function*(){try{yield(t=(0,J.Z)(function*(i){if(!Ys.D())return Promise.resolve();const s=i+"main";yield Ys.delete(s)}),function r(i){return t.apply(this,arguments)})(zC(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class RU{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ya||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Mi("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function eU(n,e,t,r={}){var i;const s=(n=Ct(n,Bg))._getSettings(),o=`${e}:${t}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&Mi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if("string"==typeof r.mockUserToken)a=r.mockUserToken,l=br.MOCK_USER;else{a=(0,an.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new ie(H.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new br(c)}n._authCredentials=new qZ(new iF(a,l))}}(this._delegate,e,t,r)}enableNetwork(){return function tX(n){return function FJ(n){return n.asyncQueue.enqueue((0,J.Z)(function*(){const e=yield HV(n),t=yield $V(n);return e.setNetworkEnabled(!0),function(i){const s=me(i);return s.C_.delete(0),Fg(s)}(t)}))}(Hn(n=Ct(n,fn)))}(this._delegate)}disableNetwork(){return function nX(n){return function VJ(n){return n.asyncQueue.enqueue((0,J.Z)(function*(){const e=yield HV(n),t=yield $V(n);return e.setNetworkEnabled(!1),(r=(0,J.Z)(function*(s){const o=me(s);o.C_.add(0),yield oh(o),o.M_.set("Offline")}),function i(s){return r.apply(this,arguments)})(t);var r}))}(Hn(n=Ct(n,fn)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,ZV("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function eX(n){return function(t){const r=new mr;return t.asyncQueue.enqueueAndForget((0,J.Z)(function*(){return function IJ(n,e){return LS.apply(this,arguments)}(yield sD(t),r)})),r.promise}(Hn(n=Ct(n,fn)))}(this._delegate)}onSnapshotsInSync(e){return function NX(n,e){return function jJ(n,e){const t=new wI(e);return n.asyncQueue.enqueueAndForget((0,J.Z)(function*(){return i=yield gh(n),s=t,me(i).q_.add(s),void s.next();var i,s})),()=>{t.Na(),n.asyncQueue.enqueueAndForget((0,J.Z)(function*(){return i=yield gh(n),s=t,void me(i).q_.delete(s);var i,s}))}}(Hn(n=Ct(n,fn)),cD(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new ie("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new yh(this,tU(this._delegate,e))}catch(t){throw Ii(t,"collection()","Firestore.collection()")}}doc(e){try{return new Ds(this,SI(this._delegate,e))}catch(t){throw Ii(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ei(this,function WJ(n,e){if(n=Ct(n,Bg),aD("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ie(H.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Lr(n,null,(r=e,new ca(kt.emptyPath(),r)));var r}(this._delegate,e))}catch(t){throw Ii(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function zX(n,e,t){n=Ct(n,fn);const r=Object.assign(Object.assign({},HX),t);return function(s){if(s.maxAttempts<1)throw new ie(H.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,a){const l=new mr;return s.asyncQueue.enqueueAndForget((0,J.Z)(function*(){const c=yield function zV(n){return TI(n).then(e=>e.datastore)}(s);new kJ(s.asyncQueue,c,a,o,l).run()})),l.promise}(Hn(n),i=>e(new $X(n,i)),r)}(this._delegate,t=>e(new PU(this,t)))}batch(){return Hn(this._delegate),new xU(new bU(this._delegate,e=>_h(this._delegate,e)))}loadBundle(e){return function rX(n,e){const t=Hn(n=Ct(n,fn)),r=new ZJ;return function HJ(n,e,t,r){const i=function(o,a){let l;return l="string"==typeof o?f2().encode(o):o,h=function(h,g){if(h instanceof Uint8Array)return BV(h,g);if(h instanceof ArrayBuffer)return BV(new Uint8Array(h),g);if(h instanceof ReadableStream)return h.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(l),new NJ(h,a);var h}(t,Lg(e));n.asyncQueue.enqueueAndForget((0,J.Z)(function*(){!function xJ(n,e,t){const r=me(n);var i;(i=(0,J.Z)(function*(o,a,l){try{const c=yield a.getMetadata();if(yield function(w,T){const S=me(w),O=Xn(T.createTime);return S.persistence.runTransaction("hasNewerBundle","readonly",P=>S.Kr.getBundleMetadata(P,T.id)).then(P=>!!P&&P.createTime.compareTo(O)>=0)}(o.localStore,c))return yield a.close(),l._completeWith({taskState:"Success",documentsLoaded:(w=c).totalDocuments,bytesLoaded:w.totalBytes,totalDocuments:w.totalDocuments,totalBytes:w.totalBytes}),Promise.resolve(new Set);l._updateProgress(PV(c));const h=new uJ(c,o.localStore,a.serializer);let g=yield a.Ma();for(;g;){const y=yield h.ea(g);y&&l._updateProgress(y),g=yield a.Ma()}const m=yield h.complete();return yield fa(o,m.ra,void 0),yield function(w,T){const S=me(w);return S.persistence.runTransaction("Save bundle","readwrite",O=>S.Kr.saveBundleMetadata(O,T))}(o.localStore,c),l._completeWith(m.progress),Promise.resolve(m.na)}catch(c){return Mi("SyncEngine",`Loading bundle failed with ${c}`),l._failWith(c),Promise.resolve(new Set)}var w}),function s(o,a,l){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield sD(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function iX(n,e){return function $J(n,e){return n.asyncQueue.enqueue((0,J.Z)(function*(){return function(r,i){const s=me(r);return s.persistence.runTransaction("Get named query","readonly",o=>s.Kr.getNamedQuery(o,i))}(yield ph(n),e)}))}(Hn(n=Ct(n,fn)),e).then(t=>t?new Lr(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Ei(this,t):null)}}class VI extends mD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Kg(new xo(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Ds.forKey(t,this.firestore,null)}}class PU{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new VI(e)}get(e){const t=Lc(e);return this._delegate.get(t).then(r=>new Zg(this._firestore,new ga(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Lc(e);return r?(vD("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=Lc(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=Lc(e);return this._delegate.delete(t),this}}class xU{constructor(e){this._delegate=e}set(e,t,r){const i=Lc(e);return r?(vD("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=Lc(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=Lc(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class kc{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Wg(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Qg(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=kc.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(t);return s||(s=new kc(e,new VI(e),t),i.set(t,s)),s}}kc.INSTANCES=new WeakMap;class Ds{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new VI(e)}static forPath(e,t,r){if(e.length%2!=0)throw new ie("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ds(t,new bn(t._delegate,r,new ye(e)))}static forKey(e,t,r){return new Ds(t,new bn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new yh(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new yh(this.firestore,tU(this._delegate,e))}catch(t){throw Ii(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,an.m9)(e))instanceof bn&&nU(this._delegate,e)}set(e,t){t=vD("DocumentReference.set",t);try{return t?IU(this._delegate,e,t):IU(this._delegate,e)}catch(r){throw Ii(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?EU(this._delegate,e):EU(this._delegate,e,t,...r)}catch(i){throw Ii(i,"updateDoc()","DocumentReference.update()")}}delete(){return function xX(n){return _h(Ct(n.firestore,fn),[new Yd(n._key,Pn.none())])}(this._delegate)}onSnapshot(...e){const t=MU(e),r=NU(e,i=>new Zg(this.firestore,new ga(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return wU(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function SX(n){n=Ct(n,bn);const e=Ct(n.firestore,fn),t=Hn(e),r=new ul(e);return function UJ(n,e){const t=new mr;return n.asyncQueue.enqueueAndForget((0,J.Z)(function*(){return(r=(0,J.Z)(function*(s,o,a){try{const l=yield function(h,g){const m=me(h);return m.persistence.runTransaction("read document","readonly",y=>m.localDocuments.getDocument(y,g))}(s,o);l.isFoundDocument()?a.resolve(l):l.isNoDocument()?a.resolve(null):a.reject(new ie(H.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(l){const c=ch(l,`Failed to get document '${o} from cache`);a.reject(c)}}),function i(s,o,a){return r.apply(this,arguments)})(yield ph(n),e,t);var r})),t.promise}(t,n._key).then(i=>new ga(e,r,n._key,i,new Oc(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function DX(n){n=Ct(n,bn);const e=Ct(n.firestore,fn);return qV(Hn(e),n._key,{source:"server"}).then(t=>_D(e,n,t))}(this._delegate):function CX(n){n=Ct(n,bn);const e=Ct(n.firestore,fn);return qV(Hn(e),n._key).then(t=>_D(e,n,t))}(this._delegate),t.then(r=>new Zg(this.firestore,new ga(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Ds(this.firestore,this._delegate.withConverter(e?kc.getInstance(this.firestore,e):null))}}function Ii(n,e,t){return n.message=n.message.replace(e,t),n}function MU(n){for(const e of n)if("object"==typeof e&&!ID(e))return e;return{}}function NU(n,e){var t,r;let i;return i=ID(n[0])?n[0]:ID(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{i.next&&i.next(e(s))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Zg{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Ds(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return vU(this._delegate,e._delegate)}}class Qg extends Zg{data(e){const t=this._delegate.data(e);return this._delegate._converter||function $Z(n,e){n||Ce()}(void 0!==t),t}}class Ei{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new VI(e)}where(e,t,r){try{return new Ei(this.firestore,ll(this._delegate,function pX(n,e,t){const r=e,i=MI("where",n);return Gg._create(i,r,t)}(e,t,r)))}catch(i){throw Ii(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Ei(this.firestore,ll(this._delegate,function gX(n,e="asc"){const t=e,r=MI("orderBy",n);return gD._create(r,t)}(e,t)))}catch(r){throw Ii(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Ei(this.firestore,ll(this._delegate,function mX(n){return JV("limit",n),NI._create("limit",n,"F")}(e)))}catch(t){throw Ii(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Ei(this.firestore,ll(this._delegate,function _X(n){return JV("limitToLast",n),NI._create("limitToLast",n,"L")}(e)))}catch(t){throw Ii(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Ei(this.firestore,ll(this._delegate,function yX(...n){return OI._create("startAt",n,!0)}(...e)))}catch(t){throw Ii(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Ei(this.firestore,ll(this._delegate,function vX(...n){return OI._create("startAfter",n,!1)}(...e)))}catch(t){throw Ii(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Ei(this.firestore,ll(this._delegate,function IX(...n){return kI._create("endBefore",n,!1)}(...e)))}catch(t){throw Ii(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Ei(this.firestore,ll(this._delegate,function EX(...n){return kI._create("endAt",n,!0)}(...e)))}catch(t){throw Ii(t,"endAt()","Query.endAt()")}}isEqual(e){return lD(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function RX(n){n=Ct(n,Lr);const e=Ct(n.firestore,fn),t=Hn(e),r=new ul(e);return function BJ(n,e){const t=new mr;return n.asyncQueue.enqueueAndForget((0,J.Z)(function*(){return(r=(0,J.Z)(function*(s,o,a){try{const l=yield gI(s,o,!0),c=new NV(o,l.ls),h=c.ca(l.documents),g=c.applyChanges(h,!1);a.resolve(g.snapshot)}catch(l){const c=ch(l,`Failed to execute query '${o} against cache`);a.reject(c)}}),function i(s,o,a){return r.apply(this,arguments)})(yield ph(n),e,t);var r})),t.promise}(t,n._query).then(i=>new cl(e,r,n,i))}(this._delegate):"server"===e?.source?function PX(n){n=Ct(n,Lr);const e=Ct(n.firestore,fn),t=Hn(e),r=new ul(e);return GV(t,n._query,{source:"server"}).then(i=>new cl(e,r,n,i))}(this._delegate):function AX(n){n=Ct(n,Lr);const e=Ct(n.firestore,fn),t=Hn(e),r=new ul(e);return fU(n._query),GV(t,n._query).then(i=>new cl(e,r,n,i))}(this._delegate),t.then(r=>new ED(this.firestore,new cl(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=MU(e),r=NU(e,i=>new ED(this.firestore,new cl(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return wU(this._delegate,t,r)}withConverter(e){return new Ei(this.firestore,this._delegate.withConverter(e?kc.getInstance(this.firestore,e):null))}}class nee{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Qg(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class ED{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Ei(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Qg(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new nee(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Qg(this._firestore,r))})}isEqual(e){return vU(this._delegate,e._delegate)}}class yh extends Ei{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ds(this.firestore,e):null}doc(e){try{return new Ds(this.firestore,void 0===e?SI(this._delegate):SI(this._delegate,e))}catch(t){throw Ii(t,"doc()","CollectionReference.doc()")}}add(e){return function MX(n,e){const t=Ct(n.firestore,fn),r=SI(n),i=LI(n.converter,e);return _h(t,[RI(Mc(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Pn.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Ds(this.firestore,t))}isEqual(e){return nU(this._delegate,e._delegate)}withConverter(e){return new yh(this.firestore,this._delegate.withConverter(e?kc.getInstance(this.firestore,e):null))}}function Lc(n){return Ct(n,bn)}class wD{constructor(...e){this._delegate=new pa(...e)}static documentId(){return new wD(En.keyField().canonicalString())}isEqual(e){return(e=(0,an.m9)(e))instanceof pa&&this._delegate._internalPath.isEqual(e._internalPath)}}class Fc{constructor(e){this._delegate=e}static serverTimestamp(){const e=function GX(){return new uD("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Fc(e)}static delete(){const e=function qX(){return new Hg("deleteField")}();return e._methodName="FieldValue.delete",new Fc(e)}static arrayUnion(...e){const t=function WX(...n){return new cX("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Fc(t)}static arrayRemove(...e){const t=function KX(...n){return new uX("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Fc(t)}static increment(e){const t=function ZX(n){return new dX("increment",n)}(e);return t._methodName="FieldValue.increment",new Fc(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const ree={Firestore:RU,GeoPoint:DI,Timestamp:Rn,Blob:Kg,Transaction:PU,WriteBatch:xU,DocumentReference:Ds,DocumentSnapshot:Zg,Query:Ei,QueryDocumentSnapshot:Qg,QuerySnapshot:ED,CollectionReference:yh,FieldPath:wD,FieldValue:Fc,setLogLevel:function tee(n){!function HZ(n){Ga.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function OU(n,e){return function oee(n,e=hv){return new lt(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function bD(n,e){return OU(n,e).pipe(Ee(t=>({payload:t,type:"query"})))}!function see(n){(function iee(n,e){n.INTERNAL.registerComponent(new bk.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},ree)))})(n,(e,t)=>new RU(e,t,new eee)),n.registerVersion("@firebase/firestore-compat","0.3.22")}($a.Z);class kU{ref;afs;constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:s}=UU(r,t);return new VU(i,s,this.afs)}snapshotChanges(){return function aee(n,e){return OU(n,e).pipe(zy(void 0),v0(),Ee(t=>{const[r,i]=t;return i.exists?r?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Zi)}valueChanges(e={}){return this.snapshotChanges().pipe(Ee(({payload:t})=>e.idField?{...t.data(),[e.idField]:t.id}:t.data()))}get(e){return I(this.ref.get(e)).pipe(Zi)}}function UI(n,e){return bD(n,e).pipe(zy(void 0),v0(),Ee(t=>{const[r,i]=t,s=i.payload.docChanges(),o=s.map(a=>({type:a.type,payload:a}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((a,l)=>{const c=s.find(g=>g.doc.ref.isEqual(a.ref)),h=r?.payload.docs.find(g=>g.ref.isEqual(a.ref));c&&JSON.stringify(c.doc.metadata)===JSON.stringify(a.metadata)||!c&&h&&JSON.stringify(h.metadata)===JSON.stringify(a.metadata)||o.push({type:"modified",payload:{oldIndex:l,newIndex:l,type:"modified",doc:a}})}),o}))}function LU(n,e,t){return UI(n,t).pipe(Gy((r,i)=>function lee(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function cee(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return TD(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return TD(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return TD(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(s=>s.payload),e),[]),Ge(),Ee(r=>r.map(i=>({type:i.type,payload:i}))))}function TD(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function FU(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class VU{ref;query;afs;constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=UI(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe(Ee(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(zy(void 0),v0(),Ki(([r,i])=>i.length>0||!r),Ee(([,r])=>r),Zi)}auditTrail(e){return this.stateChanges(e).pipe(Gy((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=FU(e);return LU(this.query,t,this.afs.schedulers.outsideAngular).pipe(Zi)}valueChanges(e={}){return bD(this.query,this.afs.schedulers.outsideAngular).pipe(Ee(t=>t.payload.docs.map(r=>e.idField?{...r.data(),[e.idField]:r.id}:r.data())),Zi)}get(e){return I(this.query.get(e)).pipe(Zi)}add(e){return this.ref.add(e)}doc(e){return new kU(this.ref.doc(e),this.afs)}}class uee{query;afs;constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?UI(this.query,this.afs.schedulers.outsideAngular).pipe(Ee(t=>t.filter(r=>e.indexOf(r.type)>-1)),Ki(t=>t.length>0),Zi):UI(this.query,this.afs.schedulers.outsideAngular).pipe(Zi)}auditTrail(e){return this.stateChanges(e).pipe(Gy((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=FU(e);return LU(this.query,t,this.afs.schedulers.outsideAngular).pipe(Zi)}valueChanges(e={}){return bD(this.query,this.afs.schedulers.outsideAngular).pipe(Ee(r=>r.payload.docs.map(i=>e.idField?{[e.idField]:i.id,...i.data()}:i.data())),Zi)}get(e){return I(this.query.get(e)).pipe(Zi)}}const dee=new ge("angularfire2.enableFirestorePersistence"),hee=new ge("angularfire2.firestore.persistenceSettings"),fee=new ge("angularfire2.firestore.settings"),pee=new ge("angularfire2.firestore.use-emulator");function UU(n,e=(t=>t)){return{query:e(n),ref:n}}let gee=(()=>{class n{schedulers;firestore;persistenceEnabled$;constructor(t,r,i,s,o,a,l,c,h,g,m,y,w,T,S,O,P){this.schedulers=l;const F=y0(t,a,r),Q=h;g&&Bk(F,a,m,w,T,S,y,O),[this.firestore,this.persistenceEnabled$]=Pk(`${F.name}.firestore`,"AngularFirestore",F.name,()=>{const he=a.runOutsideAngular(()=>F.firestore());if(s&&he.settings(s),Q&&he.useEmulator(...Q),i&&!Uy(o)){const Me=()=>{try{return I(he.enablePersistence(c||void 0).then(()=>!0,()=>!1))}catch(tt){return typeof console<"u"&&console.warn(tt),A(!1)}};return[he,a.runOutsideAngular(Me)]}return[he,A(!1)]},[s,Q,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:s,query:o}=UU(i,r),a=this.schedulers.ngZone.run(()=>s);return new VU(a,o,this)}collectionGroup(t,r){const i=r||(o=>o),s=this.firestore.collectionGroup(t);return new uee(i(s),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new kU(i,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(r){return new(r||n)(le(fv),le(pv,8),le(dee,8),le(fee,8),le(Ai),le(Mt),le(Ak),le(hee,8),le(pee,8),le(gv,8),le(Ok,8),le(kk,8),le(Lk,8),le(Fk,8),le(Vk,8),le(Uk,8),le(Sk,8))};static \u0275prov=Te({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),vh=(()=>{class n{constructor(t,r,i){this.afAuth=t,this.router=r,this.firestore=i,this.userSubject=new v(null),this.user=this.userSubject.asObservable(),this.afAuth.authState.subscribe(s=>{this.userSubject.next(s)})}getUser(){return this.user}isLoggedIn(){return!!localStorage.getItem("token")}setDisplayName(t,r){const i=`${t} ${r}`;return this.afAuth.currentUser.then(s=>s?.updateProfile({displayName:i}))}signIn(t,r,i){this.afAuth.signInWithEmailAndPassword(t,r).then(s=>{s.user?.emailVerified?(""!=i?(localStorage.setItem("rememberMe","true"),localStorage.setItem("token",s.user?.uid)):(localStorage.setItem("rememberMe","false"),localStorage.removeItem("token")),this.router.navigate(["/tasks"])):s.user&&(s.user.sendEmailVerification(),this.router.navigate(["/verify-email"]))},s=>{alert(s.message),this.router.navigate(["/login"])})}register(t){this.afAuth.createUserWithEmailAndPassword(t.email,t.password).then(r=>{r.user?.updateProfile({displayName:t.userName}),this.storeAdditionalUserData(r.user?.uid,{fullName:t.fullName,username:t.userName}),r.user&&(r.user.sendEmailVerification(),this.router.navigate(["/verify-email"]))},r=>{alert(r.message)})}storeAdditionalUserData(t,r){t&&this.firestore.collection("users").doc(t).set(r,{merge:!0}).then(()=>{console.log("Additional user data stored successfully")}).catch(i=>{console.error("Error storing additional user data:",i)})}signOut(){this.afAuth.signOut().then(()=>{localStorage.removeItem("token"),this.router.navigate(["/login"])},t=>{alert(t.message)})}forgotPassword(t){this.afAuth.sendPasswordResetEmail(t).then(()=>{this.email=t,this.router.navigate(["/verify-email"])},r=>{alert(r.message)})}deleteCurrentUser(){this.afAuth.currentUser.then(t=>{t&&(t.delete(),localStorage.removeItem("token"),this.router.navigate(["/login"]))},t=>{alert(t.message)})}singInWithGoogle(){return this.afAuth.signInWithPopup(new wk.X).then(t=>{const r=t.user;if(r){const[i,s]=r.displayName?.split(" ")||["",""];r.updateProfile({displayName:r.displayName,photoURL:r.photoURL}).then(()=>{localStorage.setItem("token",t.user?.uid),this.router.navigate(["/tasks"])})}},t=>{alert(t.message),this.router.navigate(["/login"])})}singInWithGithub(){return this.afAuth.signInWithPopup(new wk.Y).then(t=>{const r=t.user;if(r){const[i,s]=r.displayName?.split(" ")||["",""];r.updateProfile({displayName:r.displayName,photoURL:r.photoURL}).then(()=>{localStorage.setItem("token",t.user?.uid),this.router.navigate(["/tasks"])})}},t=>{alert(t.message),this.router.navigate(["/login"])})}static#e=this.\u0275fac=function(r){return new(r||n)(le(gv),le(Wr),le(gee))};static#t=this.\u0275prov=Te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function mee(n,e){if(1&n&&(K(0,"span",6),Ke(1,"We've sent a verification mail to "),K(2,"strong",7),Ke(3),ne()()),2&n){const t=Y();ce(3),Qo(t.email)}}function _ee(n,e){if(1&n&&(K(0,"span",6),Ke(1,"We've sent instructions on how to reset "),We(2,"br"),Ke(3," your password to "),K(4,"strong",7),Ke(5),ne()()),2&n){const t=Y();ce(5),Qo(t.email)}}function yee(n,e){1&n&&(K(0,"span",6),Ke(1,"Please go to your mail to verify your email."),ne())}let vee=(()=>{class n{constructor(t){this.authService=t,this.email=null,this.forgotPassLabel=!1}ngOnInit(){this.authService.getUser().subscribe(t=>{t?this.email=t.email:(this.email=this.authService.email,this.forgotPassLabel=!0)})}static#e=this.\u0275fac=function(r){return new(r||n)($(vh))};static#t=this.\u0275cmp=kn({type:n,selectors:[["app-verifyemail"]],decls:10,vars:3,consts:[[1,"container"],[1,"box"],["src","assets/mail.png"],[1,"title"],["class","title1",4,"ngIf"],["href","login",1,"title2"],[1,"title1"],[1,"bold-email"]],template:function(r,i){1&r&&(K(0,"div",0)(1,"div",1),We(2,"img",2),K(3,"span",3),Ke(4,"Check your email"),ne(),fe(5,mee,4,1,"span",4),fe(6,_ee,6,1,"span",4),fe(7,yee,2,0,"span",4),K(8,"a",5),Ke(9,"Verified logging in"),ne()()()),2&r&&(ce(5),Z("ngIf",!i.forgotPassLabel),ce(1),Z("ngIf",i.forgotPassLabel),ce(1),Z("ngIf",!i.forgotPassLabel))},dependencies:[ra],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;height:100%;background-color:#cdcde1;max-width:1500px}.box[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;background-color:#fff;padding:75px 50px;border-radius:10px;box-shadow:0 0 10px #0003}.box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-bottom:10px}.title[_ngcontent-%COMP%]{font-weight:600;font-size:larger;margin-bottom:20px;color:#2b2b2b}.bold-email[_ngcontent-%COMP%]{font-weight:700;color:#2b2b2b}.title1[_ngcontent-%COMP%]{margin-bottom:2%;color:gray;font-size:14px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}.title2[_ngcontent-%COMP%]{color:#228be6;text-decoration:none;font-weight:500;margin-top:2%;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}.title2[_ngcontent-%COMP%]:hover{color:#00f}"]})}return n})(),BU=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static#e=this.\u0275fac=function(r){return new(r||n)($(Ri),$(pr))};static#t=this.\u0275dir=je({type:n})}return n})(),Vc=(()=>{class n extends BU{static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=vn(n)))(i||n)}}();static#t=this.\u0275dir=je({type:n,features:[Nt]})}return n})();const Js=new ge("NgValueAccessor"),Eee={provide:Js,useExisting:V(()=>CD),multi:!0};let CD=(()=>{class n extends Vc{writeValue(t){this.setProperty("checked",t)}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=vn(n)))(i||n)}}();static#t=this.\u0275dir=je({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){1&r&&Le("change",function(o){return i.onChange(o.target.checked)})("blur",function(){return i.onTouched()})},features:[un([Eee]),Nt]})}return n})();const wee={provide:Js,useExisting:V(()=>Uc),multi:!0},Tee=new ge("CompositionEventMode");let Uc=(()=>{class n extends BU{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function bee(){const n=Va()?Va().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static#e=this.\u0275fac=function(r){return new(r||n)($(Ri),$(pr),$(Tee,8))};static#t=this.\u0275dir=je({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&Le("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[un([wee]),Nt]})}return n})();const Xr=new ge("NgValidators"),fl=new ge("NgAsyncValidators");function zU(n){return function hl(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}(n.value)?{required:!0}:null}function BI(n){return null}function QU(n){return null!=n}function YU(n){return ep(n)?I(n):n}function JU(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function XU(n,e){return e.map(t=>t(n))}function eB(n){return n.map(e=>function See(n){return!n.validate}(e)?e:t=>e.validate(t))}function SD(n){return null!=n?function tB(n){if(!n)return null;const e=n.filter(QU);return 0==e.length?null:function(t){return JU(XU(t,e))}}(eB(n)):null}function DD(n){return null!=n?function nB(n){if(!n)return null;const e=n.filter(QU);return 0==e.length?null:function(t){return function Iee(...n){const e=ls(n),{args:t,keys:r}=fO(n),i=new lt(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let l=o,c=o;for(let h=0;h<o;h++){let g=!1;Tt(t[h]).subscribe(pe(s,m=>{g||(g=!0,c--),a[h]=m},()=>l--,void 0,()=>{(!l||!g)&&(c||s.next(r?gO(r,a):a),s.complete())}))}});return e?i.pipe(pO(e)):i}(XU(t,e).map(YU)).pipe(Ee(JU))}}(eB(n)):null}function rB(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function AD(n){return n?Array.isArray(n)?n:[n]:[]}function jI(n,e){return Array.isArray(n)?n.includes(e):n===e}function oB(n,e){const t=AD(e);return AD(n).forEach(i=>{jI(t,i)||t.push(i)}),t}function aB(n,e){return AD(e).filter(t=>!jI(n,t))}class lB{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=SD(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=DD(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class wi extends lB{get formDirective(){return null}get path(){return null}}class pl extends lB{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class cB{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Yg=(()=>{class n extends cB{constructor(t){super(t)}static#e=this.\u0275fac=function(r){return new(r||n)($(pl,2))};static#t=this.\u0275dir=je({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&tp("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Nt]})}return n})(),RD=(()=>{class n extends cB{constructor(t){super(t)}static#e=this.\u0275fac=function(r){return new(r||n)($(wi,10))};static#t=this.\u0275dir=je({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&tp("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Nt]})}return n})();const Jg="VALID",$I="INVALID",Ih="PENDING",Xg="DISABLED";function MD(n){return(zI(n)?n.validators:n)||null}function ND(n,e){return(zI(e)?e.asyncValidators:n)||null}function zI(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class fB{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Jg}get invalid(){return this.status===$I}get pending(){return this.status==Ih}get disabled(){return this.status===Xg}get enabled(){return this.status!==Xg}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(oB(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(oB(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(aB(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(aB(e,this._rawAsyncValidators))}hasValidator(e){return jI(this._rawValidators,e)}hasAsyncValidator(e){return jI(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ih,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Xg,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Jg,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Jg||this.status===Ih)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Xg:Jg}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ih,this._hasOwnPendingAsyncValidator=!0;const t=YU(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Vt,this.statusChanges=new Vt}_calculateStatus(){return this._allControlsDisabled()?Xg:this.errors?$I:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ih)?Ih:this._anyControlsHaveStatus($I)?$I:Jg}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){zI(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Pee(n){return Array.isArray(n)?SD(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function xee(n){return Array.isArray(n)?DD(n):n||null}(this._rawAsyncValidators)}}class OD extends fB{constructor(e,t,r){super(MD(t),ND(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function hB(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new k(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function dB(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new k(1e3,"");if(!r[t])throw new k(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const Eh=new ge("CallSetDisabledState",{providedIn:"root",factory:()=>qI}),qI="always";function em(n,e,t=qI){kD(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function Oee(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&pB(n,e)})}(n,e),function Lee(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function kee(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&pB(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Nee(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function KI(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function kD(n,e){const t=function iB(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(rB(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function sB(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(rB(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();KI(e._rawValidators,i),KI(e._rawAsyncValidators,i)}function pB(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const jee={provide:wi,useExisting:V(()=>nm)},tm=(()=>Promise.resolve())();let nm=(()=>{class n extends wi{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Vt,this.form=new OD({},SD(t),DD(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){tm.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),em(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){tm.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){tm.then(()=>{const r=this._findContainer(t.path),i=new OD({});(function gB(n,e){kD(n,e)})(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){tm.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){tm.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function mB(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static#e=this.\u0275fac=function(r){return new(r||n)($(Xr,10),$(fl,10),$(Eh,8))};static#t=this.\u0275dir=je({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&Le("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[un([jee]),Nt]})}return n})();function _B(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function yB(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const vB=class extends fB{constructor(e=null,t,r){super(MD(t),ND(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),zI(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=yB(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){_B(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){_B(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){yB(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},zee={provide:pl,useExisting:V(()=>Bc)},wB=(()=>Promise.resolve())();let Bc=(()=>{class n extends pl{constructor(t,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new vB,this._registered=!1,this.name="",this.update=new Vt,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function VD(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===Uc?t=s:function Uee(n){return Object.getPrototypeOf(n.constructor)===Vc}(s)?r=s:i=s}),i||r||t||null}(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function FD(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){em(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){wB.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&fd(r);wB.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function GI(n,e){return[...e.path,n]}(t,this._parent):[t]}static#e=this.\u0275fac=function(r){return new(r||n)($(wi,9),$(Xr,10),$(fl,10),$(Js,10),$(Xo,8),$(Eh,8))};static#t=this.\u0275dir=je({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[un([zee]),Nt,$r]})}return n})(),UD=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=je({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return n})(),TB=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=rn({type:n});static#n=this.\u0275inj=nn({})}return n})(),jc=(()=>{class n{constructor(){this._validator=BI}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):BI,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=je({type:n,features:[$r]})}return n})();const lte={provide:Xr,useExisting:V(()=>rm),multi:!0};let rm=(()=>{class n extends jc{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=fd,this.createValidator=t=>zU}enabled(t){return t}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=vn(n)))(i||n)}}();static#t=this.\u0275dir=je({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){2&r&&at("required",i._enabled?"":null)},inputs:{required:"required"},features:[un([lte]),Nt]})}return n})(),pte=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=rn({type:n});static#n=this.\u0275inj=nn({imports:[TB]})}return n})(),mte=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Eh,useValue:t.callSetDisabledState??qI}]}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=rn({type:n});static#n=this.\u0275inj=nn({imports:[pte]})}return n})(),_te=(()=>{class n{constructor(t){this.authService=t,this.email=""}forgotPasswordMail(){this.authService.forgotPassword(this.email)}static#e=this.\u0275fac=function(r){return new(r||n)($(vh))};static#t=this.\u0275cmp=kn({type:n,selectors:[["app-forgotpassword"]],decls:13,vars:1,consts:[[1,"container"],[1,"box"],[1,"title"],[1,"title1"],["for","email",1,"emailLabel"],["type","email","id","email","name","email","aria-describedby","email",1,"emailInput",3,"ngModel","ngModelChange"],[1,"btn",3,"click"],["href","login",1,"title2"]],template:function(r,i){1&r&&(K(0,"div",0)(1,"div",1)(2,"span",2),Ke(3,"Forgot your password?"),ne(),K(4,"span",3),Ke(5,"Your password will be reset by email."),ne(),K(6,"label",4),Ke(7,"Enter your email address"),ne(),K(8,"input",5),Le("ngModelChange",function(o){return i.email=o}),ne(),K(9,"button",6),Le("click",function(){return i.forgotPasswordMail()}),Ke(10,"Next"),ne(),K(11,"a",7),Ke(12,"Back to log in"),ne()()()),2&r&&(ce(8),Z("ngModel",i.email))},dependencies:[Uc,Yg,Bc],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;height:100%;background-color:#cdcde1;max-width:1500px}.box[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;background-color:#fff;padding:45px 80px;border-radius:10px;box-shadow:0 0 10px #0003}.title[_ngcontent-%COMP%]{font-weight:600;font-size:x-large;margin-bottom:4%;color:#228be6}.btn[_ngcontent-%COMP%]{background-color:#228be6;color:#fff;margin-top:10px;height:40px;width:125%;padding:5px 60%;border:none;border-radius:5px;cursor:pointer;margin-bottom:5%}.title1[_ngcontent-%COMP%]{margin-bottom:6%;color:gray;font-size:13px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}.emailLabel[_ngcontent-%COMP%]{color:gray;font-size:13px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;margin-bottom:3%;font-weight:500;margin-left:-180px}.emailInput[_ngcontent-%COMP%]{padding-left:1%;border-radius:5px;border:solid 1px #3a3a3a;outline:none;height:40px;width:125%;margin-bottom:4%}.title2[_ngcontent-%COMP%]{color:#228be6;text-decoration:none;font-weight:500;margin-top:2%;font-size:14px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}.title2[_ngcontent-%COMP%]:hover{color:#00f}"]})}return n})(),yte=(()=>{class n{constructor(t,r){this.authService=t,this.router=r}canActivate(t,r){return this.authService.isLoggedIn()||"false"==localStorage.getItem("rememberMe")?(localStorage.removeItem("rememberMe"),!0):(this.router.navigate(["/login"]),!1)}static#e=this.\u0275fac=function(r){return new(r||n)(le(vh),le(Wr))};static#t=this.\u0275prov=Te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const vte=["registerationForm"];function Ite(n,e){if(1&n){const t=Wt();K(0,"i",28),Le("click",function(){return Xe(t),et(Y().togglePasswordVisibility())}),ne()}}function Ete(n,e){if(1&n){const t=Wt();K(0,"i",29),Le("click",function(){return Xe(t),et(Y().togglePasswordVisibility())}),ne()}}function wte(n,e){if(1&n){const t=Wt();K(0,"i",28),Le("click",function(){return Xe(t),et(Y().toggleConfirmPasswordVisibility())}),ne()}}function bte(n,e){if(1&n){const t=Wt();K(0,"i",29),Le("click",function(){return Xe(t),et(Y().toggleConfirmPasswordVisibility())}),ne()}}let Tte=(()=>{class n{constructor(t,r){this.authService=t,this.router=r,this.passwordToggle=!1,this.confirmPasswordToggle=!1}ngOnInit(){}register(){this.registerationForm.valid?this.registerationForm.valid&&this.registerationForm.value.password!=this.registerationForm.value.confirmPassword?alert("Password and Confirm password does not matching"):this.registerationForm.valid&&this.registerationForm.value.password==this.registerationForm.value.confirmPassword&&this.authService.register(this.registerationForm.value):alert("Please enter your registration details")}alreadyHaveAccount(){this.router.navigate(["/login"])}togglePasswordVisibility(){const t=document.getElementById("password");"password"===t.type?(t.type="text",this.passwordToggle=!1):(t.type="password",this.passwordToggle=!0)}toggleConfirmPasswordVisibility(){const t=document.getElementById("confirmPassword");"password"===t.type?(t.type="text",this.confirmPasswordToggle=!1):(t.type="password",this.confirmPasswordToggle=!0)}static#e=this.\u0275fac=function(r){return new(r||n)($(vh),$(Wr))};static#t=this.\u0275cmp=kn({type:n,selectors:[["app-register"]],viewQuery:function(r,i){if(1&r&&ic(vte,5),2&r){let s;zs(s=qs())&&(i.registerationForm=s.first)}},decls:40,vars:4,consts:[[1,"pleaseFillOutFormToRegister"],[3,"ngSubmit"],["registerationForm","ngForm"],["for","fullName",1,"fullName"],["type","text","id","fullName","placeholder","Full Name","name","fullName","aria-describedby","fullName","ngModel","","required","",1,"rectangle9"],["for","userName",1,"userName"],["type","text","id","userName","placeholder","User Name","name","userName","aria-describedby","userName","ngModel","","required","",1,"rectangle2"],["for","email",1,"email"],["type","email","id","email","placeholder","Email","name","email","aria-describedby","email","ngModel","","required","",1,"rectangle10"],["for","password",1,"password"],[1,"rectangle3"],["type","password","id","password","placeholder","Password","id","password","name","password","ngModel","","required",""],[1,"passwordIcon"],["class","bx bx-show",3,"click",4,"ngIf"],["class","bx bx-hide",3,"click",4,"ngIf"],["for","confirmPassword",1,"confirmPassword"],[1,"rectangle8"],["type","password","id","confirmPassword","placeholder","Password","id","confirmPassword","name","confirmPassword","ngModel","","required",""],[1,"rectangle4"],["type","submit",1,"register"],[1,"yesIHaveAnAccountLogin"],[1,"labelWrapper"],[1,"label"],["href","login",1,"label2"],[1,"label3"],[1,"rectangle6"],[1,"rectangle7"],[1,"pc-reg"],[1,"bx","bx-show",3,"click"],[1,"bx","bx-hide",3,"click"]],template:function(r,i){1&r&&(K(0,"div",0),Ke(1,"Please Fill out form to Register!"),ne(),K(2,"form",1,2),Le("ngSubmit",function(){return i.register()}),K(4,"label",3),Ke(5,"Full name:"),ne(),We(6,"input",4),K(7,"label",5),Ke(8,"Username:"),ne(),We(9,"input",6),K(10,"label",7),Ke(11,"Email:"),ne(),We(12,"input",8),K(13,"label",9),Ke(14,"Password:"),ne(),K(15,"div",10),We(16,"input",11),K(17,"div",12),fe(18,Ite,1,0,"i",13),fe(19,Ete,1,0,"i",14),ne()(),K(20,"label",15),Ke(21,"Confirm Password:"),ne(),K(22,"div",16),We(23,"input",17),K(24,"div",12),fe(25,wte,1,0,"i",13),fe(26,bte,1,0,"i",14),ne()(),We(27,"div",18),K(28,"button",19),Ke(29,"Register"),ne()(),K(30,"div",20)(31,"p",21)(32,"span",22),Ke(33,"Yes i have an account?"),ne(),K(34,"a",23),Ke(35,"Login"),ne(),We(36,"span",24),ne()(),We(37,"div",25)(38,"div",26)(39,"div",27)),2&r&&(ce(18),Z("ngIf",i.passwordToggle),ce(1),Z("ngIf",!i.passwordToggle),ce(6),Z("ngIf",i.confirmPasswordToggle),ce(1),Z("ngIf",!i.confirmPasswordToggle))},dependencies:[ra,UD,Uc,Yg,RD,rm,Bc,nm],styles:['[_nghost-%COMP%], *[_ngcontent-%COMP%]{box-sizing:border-box;margin:0;padding:0;background:none;border:none;flex-shrink:0;text-decoration:none;min-width:0;overflow-wrap:anywhere}[_nghost-%COMP%], [_ngcontent-%COMP%]:not(span, a[_ngcontent-%COMP%], ul[_ngcontent-%COMP%], ol[_ngcontent-%COMP%], li[_ngcontent-%COMP%], p)[_ngcontent-%COMP%]{display:flex}ul[_ngcontent-%COMP%], ol[_ngcontent-%COMP%]{text-indent:0;padding-inline-start:1.5em}p[_ngcontent-%COMP%]:empty:before{content:"";display:inline-block}img[_ngcontent-%COMP%]{object-fit:contain}svg[_ngcontent-%COMP%]{overflow:visible}[_nghost-%COMP%]{position:relative;width:100vw;height:100vh;flex-direction:column;align-items:flex-start;background-color:#ebefff;overflow:hidden}.rectangle2[_ngcontent-%COMP%]{position:absolute;left:756px;top:240px;width:367px;height:34px;outline:solid 1px #656ed3;outline-offset:-1px;border-radius:50px;background-color:#afb3ff00;padding-left:1%}.rectangle9[_ngcontent-%COMP%]{position:absolute;left:756px;top:164px;width:367px;height:34px;outline:solid 1px #656ed3;outline-offset:-1px;border-radius:50px;background-color:#afb3ff00;padding-left:1%}.rectangle3[_ngcontent-%COMP%]{position:absolute;left:758px;top:396px;width:367px;height:34px;outline:solid 1px #656ed3;outline-offset:-1px;border-radius:50px;background-color:#afb3ff00;padding-left:1%}.rectangle10[_ngcontent-%COMP%]{position:absolute;left:756px;top:320px;width:367px;height:34px;outline:solid 1px #656ed3;outline-offset:-1px;border-radius:50px;background-color:#afb3ff00;padding-left:1%}.rectangle8[_ngcontent-%COMP%]{position:absolute;left:758px;top:472px;width:367px;height:34px;outline:solid 1px #656ed3;outline-offset:-1px;border-radius:50px;background-color:#afb3ff00;padding-left:1%}.userName[_ngcontent-%COMP%]{color:#000;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:756px;top:210px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.fullName[_ngcontent-%COMP%]{color:#000;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:756px;top:134px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.yesIHaveAnAccountLogin[_ngcontent-%COMP%]{position:absolute;left:838px;top:590px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.labelWrapper[_ngcontent-%COMP%]{font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;flex-shrink:1}.label[_ngcontent-%COMP%]{color:#000;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}.label2[_ngcontent-%COMP%]{color:#000;font-size:16px;font-weight:500;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}.label3[_ngcontent-%COMP%]{color:#000;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}.rectangle4[_ngcontent-%COMP%]{position:absolute;left:760px;top:529px;width:365px;height:34px;border-radius:50px;background-color:#656ed3}.register[_ngcontent-%COMP%]{color:#fff;font-size:16px;font-weight:500;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:910px;top:533px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.rectangle3[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .rectangle8[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none;width:90%}.password[_ngcontent-%COMP%]{color:#000;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:760px;top:366px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.email[_ngcontent-%COMP%]{color:#000;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:758px;top:290px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.confirmPassword[_ngcontent-%COMP%]{color:#000;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:760px;top:442px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.rectangle6[_ngcontent-%COMP%]{transform-origin:top left;position:absolute;left:180.2554px;top:510.0889px;width:635px;height:377px;border-radius:105.5304px;background-color:#656ed3;transform:matrix(-.1248,-.9922,.9922,-.1248,0,0)}.rectangle7[_ngcontent-%COMP%]{transform-origin:top left;position:absolute;left:165px;top:536px;width:635px;height:377px;border-radius:105.5304px;background-color:#afb3ff;transform:matrix(0,-1,1,0,0,0)}.socialMediaIcons[_ngcontent-%COMP%]{position:absolute;left:917px;top:636px;width:88.2188px;height:24.2188px;overflow:visible}.icon[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.pleaseFillOutFormToRegister[_ngcontent-%COMP%]{color:#1a1a1a;font-size:16px;font-weight:700;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:818px;top:92px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.pc-reg[_ngcontent-%COMP%]{position:absolute;inset:24.5833% 45.3906% 7.0833% 12.7344%;background-image:url(/assets/pc-reg.svg);background-position:center;background-repeat:no-repeat;background-size:cover}.passwordIcon[_ngcontent-%COMP%]{position:absolute;left:335px;top:9px}']})}return n})();const Cte=["loginForm"];function Ste(n,e){if(1&n){const t=Wt();K(0,"i",29),Le("click",function(){return Xe(t),et(Y().togglePasswordVisibility())}),ne()}}function Dte(n,e){if(1&n){const t=Wt();K(0,"i",30),Le("click",function(){return Xe(t),et(Y().togglePasswordVisibility())}),ne()}}let Ate=(()=>{class n{constructor(t,r){this.authService=t,this.router=r,this.passwordToggle=!1}ngOnInit(){}login(t){this.loginForm.valid?this.authService.signIn(t.email,t.password,t.rememberMe):alert("Please enter your email and password")}forgotPass(){this.router.navigate(["/forgot-password"])}togglePasswordVisibility(){const t=document.getElementById("password");"password"===t.type?(t.type="text",this.passwordToggle=!1):(t.type="password",this.passwordToggle=!0)}signInWithGoogle(){this.authService.singInWithGoogle()}signInWithGithub(){this.authService.singInWithGithub()}static#e=this.\u0275fac=function(r){return new(r||n)($(vh),$(Wr))};static#t=this.\u0275cmp=kn({type:n,selectors:[["app-login"]],viewQuery:function(r,i){if(1&r&&ic(Cte,5),2&r){let s;zs(s=qs())&&(i.loginForm=s.first)}},decls:40,vars:2,consts:[[1,"rectangle1"],[1,"pc-login"],[1,"welcomeBack"],[3,"ngSubmit"],["loginForm","ngForm"],["for","exampleInputEmail",1,"username"],["type","email","id","exampleInputEmail","placeholder","Email","name","email","aria-describedby","emailHelp","ngModel","","required","",1,"rectangle2"],["for","exampleInputPassword",1,"password"],[1,"rectangle3"],["type","password","id","exampleInputPassword","placeholder","Password","id","password","name","password","ngModel","","required",""],[1,"passwordIcon"],["class","bx bx-show",3,"click",4,"ngIf"],["class","bx bx-hide",3,"click",4,"ngIf"],[1,"dontHaveAndAccountRegister1"],[1,"labelWrapper"],["type","checkbox","id","rememberMe","name","rememberMe","ngModel",""],["for","rememberMe",1,"rememberMe"],["href","forgot-password",1,"forgotPassword"],[1,"dontHaveAndAccountRegister"],[1,"label"],["href","register",1,"label2"],[1,"rectangle4"],["type","submit",1,"login"],[1,"socialMediaIcons"],[3,"click"],["src","assets/google.svg","alt","",1,"icon"],["src","assets/github.svg","alt","",1,"icon"],[1,"rectangle5"],[1,"rectangle6"],[1,"bx","bx-show",3,"click"],[1,"bx","bx-hide",3,"click"]],template:function(r,i){if(1&r){const s=Wt();We(0,"div",0)(1,"div",1),K(2,"div",2),Ke(3,"Welcome Back!"),ne(),K(4,"form",3,4),Le("ngSubmit",function(){Xe(s);const a=Fs(5);return et(i.login(a.value))}),K(6,"label",5),Ke(7,"Username:"),ne(),We(8,"input",6),K(9,"label",7),Ke(10,"Password:"),ne(),K(11,"div",8),We(12,"input",9),K(13,"div",10),fe(14,Ste,1,0,"i",11),fe(15,Dte,1,0,"i",12),ne()(),K(16,"div",13)(17,"div",14)(18,"div"),We(19,"input",15),K(20,"span",16),Ke(21,"Remember Me"),ne()(),K(22,"a",17),Ke(23,"Forgot Password"),ne()()(),K(24,"div",18)(25,"p",14)(26,"span",19),Ke(27,"Dont have and account?"),ne(),K(28,"a",20),Ke(29,"Register"),ne()()(),We(30,"div",21),K(31,"button",22),Ke(32,"Login"),ne(),K(33,"div",23)(34,"a",24),Le("click",function(){return i.signInWithGoogle()}),We(35,"img",25),ne(),K(36,"a",24),Le("click",function(){return i.signInWithGithub()}),We(37,"img",26),ne()()(),We(38,"div",27)(39,"div",28)}2&r&&(ce(14),Z("ngIf",i.passwordToggle),ce(1),Z("ngIf",!i.passwordToggle))},dependencies:[ra,UD,Uc,CD,Yg,RD,rm,Bc,nm],styles:['[_nghost-%COMP%], *[_ngcontent-%COMP%]{box-sizing:border-box;margin:0;padding:0;background:none;border:none;flex-shrink:0;text-decoration:none;min-width:0;overflow-wrap:anywhere}[_nghost-%COMP%], [_ngcontent-%COMP%]:not(span, a[_ngcontent-%COMP%], ul[_ngcontent-%COMP%], ol[_ngcontent-%COMP%], li[_ngcontent-%COMP%], p)[_ngcontent-%COMP%]{display:flex}ul[_ngcontent-%COMP%], ol[_ngcontent-%COMP%]{text-indent:0;padding-inline-start:1.5em}p[_ngcontent-%COMP%]:empty:before{content:"";display:inline-block}img[_ngcontent-%COMP%]{object-fit:contain}svg[_ngcontent-%COMP%]{overflow:visible}[_nghost-%COMP%]{position:relative;width:100vw;height:100vh;flex-direction:column;align-items:flex-start;background-color:#ebefff;overflow:hidden}.rectangle1[_ngcontent-%COMP%]{position:absolute;left:842px;top:0;width:525px;height:720px;background-color:#afb3ff}.socialMediaIcons[_ngcontent-%COMP%]{position:absolute;left:256px;top:530px;width:40px;height:35px;overflow:visible}.icon[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.rectangle2[_ngcontent-%COMP%]{position:absolute;left:122px;top:250px;width:367px;height:34px;padding-left:1%;outline:solid 1px #656ed3;outline-offset:-1px;border-radius:50px;background-color:#afb3ff00}.passwordIcon[_ngcontent-%COMP%]{position:absolute;left:335px;top:9px}.rectangle3[_ngcontent-%COMP%]{position:absolute;left:122px;top:326px;width:367px;height:34px;padding-left:1%;outline:solid 1px #656ed3;outline-offset:-1px;border-radius:50px;background-color:#afb3ff00}.rectangle3[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none;width:90%}.username[_ngcontent-%COMP%]{color:#000;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:122px;top:220px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.dontHaveAndAccountRegister1[_ngcontent-%COMP%]{position:absolute;left:134px;top:379px;width:max-content;height:min-content;white-space:nowrap;flex-direction:column}.rememberMe[_ngcontent-%COMP%]{margin-left:6%}.dontHaveAndAccountRegister[_ngcontent-%COMP%]{position:absolute;left:188px;top:480px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.labelWrapper[_ngcontent-%COMP%]{font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;flex-shrink:1}.label[_ngcontent-%COMP%]{color:#000;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}.label2[_ngcontent-%COMP%]{color:#000;font-size:16px;font-weight:500;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}.forgotPassword[_ngcontent-%COMP%]{color:#000;font-size:16px;font-weight:500;margin-left:30%;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}.welcomeBack[_ngcontent-%COMP%]{color:#1a1a1a;font-size:16px;font-weight:700;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:240px;top:177px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.rectangle4[_ngcontent-%COMP%]{position:absolute;left:124px;top:420px;width:365px;height:34px;border-radius:50px;background-color:#656ed3}.login[_ngcontent-%COMP%]{color:#fff;font-size:16px;font-weight:500;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:285px;top:424px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.password[_ngcontent-%COMP%]{color:#000;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:124px;top:296px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.rectangle5[_ngcontent-%COMP%]{transform-origin:top left;position:absolute;left:-287px;top:912.3164px;width:596.734px;height:141.396px;border-radius:105.5304px;background-color:#838cf1;transform:matrix(.7535,-.6574,.6574,.7535,0,0)}.rectangle6[_ngcontent-%COMP%]{transform-origin:top left;position:absolute;left:-252px;top:895.0518px;width:553.7418px;height:131.209px;border-radius:105.5304px;background-color:#afb3ff;transform:matrix(.7535,-.6574,.6574,.7535,0,0)}.pc-login[_ngcontent-%COMP%]{position:absolute;left:565px;top:-37px;width:600px;height:590px;flex-direction:column;align-items:flex-start;right:0;background-image:url(/assets/pc-login.svg);background-position:center;background-repeat:no-repeat;background-size:cover}']})}return n})();const HB={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let QI;const Rte=new Uint8Array(16);function Pte(){if(!QI&&(QI=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!QI))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return QI(Rte)}const Fr=[];for(let n=0;n<256;++n)Fr.push((n+256).toString(16).slice(1));const zB=function xte(n,e,t){if(HB.randomUUID&&!e&&!n)return HB.randomUUID();const r=(n=n||{}).random||(n.rng||Pte)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){t=t||0;for(let i=0;i<16;++i)e[t+i]=r[i];return e}return function $B(n,e=0){return Fr[n[e+0]]+Fr[n[e+1]]+Fr[n[e+2]]+Fr[n[e+3]]+"-"+Fr[n[e+4]]+Fr[n[e+5]]+"-"+Fr[n[e+6]]+Fr[n[e+7]]+"-"+Fr[n[e+8]]+Fr[n[e+9]]+"-"+Fr[n[e+10]]+Fr[n[e+11]]+Fr[n[e+12]]+Fr[n[e+13]]+Fr[n[e+14]]+Fr[n[e+15]]}(r)};class qD{setModel(e,t,r,i,s){this.name=t,this.id=e,this.todoId=s||zB(),this.completed=r||!1,this.deleted=i||!1}}class GD{setModel(e,t,r){this.name=t,this.id=e||zB(),this.deleted=r||!1}}const WD_apiUrl="https://tasksapi-production-96eb.up.railway.app";class YI{}class JI{}class Mo{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),s=i.toLowerCase(),o=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Mo?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Mo;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Mo?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(t);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const r=(Array.isArray(t)?t:[t]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Mte{encodeKey(e){return qB(e)}encodeValue(e){return qB(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Ote=/%(\d[a-f0-9])/gi,kte={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function qB(n){return encodeURIComponent(n).replace(Ote,(e,t)=>kte[t]??e)}function XI(n){return`${n}`}class gl{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Mte,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Nte(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],l=t.get(o)||[];l.push(a),t.set(o,l)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(XI):[XI(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new gl({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(XI(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(XI(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Lte{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function GB(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function WB(n){return typeof Blob<"u"&&n instanceof Blob}function KB(n){return typeof FormData<"u"&&n instanceof FormData}class im{constructor(e,t,r,i){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function Fte(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Mo),this.context||(this.context=new Lte),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+o}}else this.params=new gl,this.urlWithParams=t}serializeBody(){return null===this.body?null:GB(this.body)||WB(this.body)||KB(this.body)||function Vte(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof gl?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||KB(this.body)?null:WB(this.body)?this.body.type||null:GB(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof gl?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let l=e.headers||this.headers,c=e.params||this.params;const h=e.context??this.context;return void 0!==e.setHeaders&&(l=Object.keys(e.setHeaders).reduce((g,m)=>g.set(m,e.setHeaders[m]),l)),e.setParams&&(c=Object.keys(e.setParams).reduce((g,m)=>g.set(m,e.setParams[m]),c)),new im(t,r,s,{params:c,headers:l,context:h,reportProgress:a,responseType:i,withCredentials:o})}}var wh=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(wh||{});class KD{constructor(e,t=200,r="OK"){this.headers=e.headers||new Mo,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class ZD extends KD{constructor(e={}){super(e),this.type=wh.ResponseHeader}clone(e={}){return new ZD({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class bh extends KD{constructor(e={}){super(e),this.type=wh.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new bh({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class ZB extends KD{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function QD(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let QB=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof im)s=t;else{let l,c;l=i.headers instanceof Mo?i.headers:new Mo(i.headers),i.params&&(c=i.params instanceof gl?i.params:new gl({fromObject:i.params})),s=new im(t,r,void 0!==i.body?i.body:null,{headers:l,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const o=A(s).pipe(_d(l=>this.handler.handle(l)));if(t instanceof im||"events"===i.observe)return o;const a=o.pipe(Ki(l=>l instanceof bh));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(Ee(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(Ee(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(Ee(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(Ee(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new gl).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,QD(i,r))}post(t,r,i={}){return this.request("POST",t,QD(i,r))}put(t,r,i={}){return this.request("PUT",t,QD(i,r))}static#e=this.\u0275fac=function(r){return new(r||n)(le(YI))};static#t=this.\u0275prov=Te({token:n,factory:n.\u0275fac})}return n})();function XB(n,e){return e(n)}function Bte(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}const Hte=new ge(""),sm=new ge(""),e4=new ge("");function $te(){let n=null;return(e,t)=>{null===n&&(n=(_e(Hte,{optional:!0})??[]).reduceRight(Bte,XB));const r=_e(Ey),i=r.add();return n(e,t).pipe(wp(()=>r.remove(i)))}}let t4=(()=>{class n extends YI{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=_e(Ey)}handle(t){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(sm),...this.injector.get(e4,[])]));this.chain=i.reduceRight((s,o)=>function jte(n,e,t){return(r,i)=>t.runInContext(()=>e(r,s=>n(s,i)))}(s,o,this.injector),XB)}const r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(wp(()=>this.pendingTasks.remove(r)))}static#e=this.\u0275fac=function(r){return new(r||n)(le(JI),le(zi))};static#t=this.\u0275prov=Te({token:n,factory:n.\u0275fac})}return n})();const Wte=/^\)\]\}',?\n/;let r4=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new k(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?I(r.\u0275loadImpl()):A(null)).pipe(Se(()=>new lt(s=>{const o=r.build();if(o.open(t.method,t.urlWithParams),t.withCredentials&&(o.withCredentials=!0),t.headers.forEach((T,S)=>o.setRequestHeader(T,S.join(","))),t.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const T=t.detectContentTypeHeader();null!==T&&o.setRequestHeader("Content-Type",T)}if(t.responseType){const T=t.responseType.toLowerCase();o.responseType="json"!==T?T:"text"}const a=t.serializeBody();let l=null;const c=()=>{if(null!==l)return l;const T=o.statusText||"OK",S=new Mo(o.getAllResponseHeaders()),O=function Kte(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(o)||t.url;return l=new ZD({headers:S,status:o.status,statusText:T,url:O}),l},h=()=>{let{headers:T,status:S,statusText:O,url:P}=c(),F=null;204!==S&&(F=typeof o.response>"u"?o.responseText:o.response),0===S&&(S=F?200:0);let Q=S>=200&&S<300;if("json"===t.responseType&&"string"==typeof F){const he=F;F=F.replace(Wte,"");try{F=""!==F?JSON.parse(F):null}catch(Me){F=he,Q&&(Q=!1,F={error:Me,text:F})}}Q?(s.next(new bh({body:F,headers:T,status:S,statusText:O,url:P||void 0})),s.complete()):s.error(new ZB({error:F,headers:T,status:S,statusText:O,url:P||void 0}))},g=T=>{const{url:S}=c(),O=new ZB({error:T,status:o.status||0,statusText:o.statusText||"Unknown Error",url:S||void 0});s.error(O)};let m=!1;const y=T=>{m||(s.next(c()),m=!0);let S={type:wh.DownloadProgress,loaded:T.loaded};T.lengthComputable&&(S.total=T.total),"text"===t.responseType&&o.responseText&&(S.partialText=o.responseText),s.next(S)},w=T=>{let S={type:wh.UploadProgress,loaded:T.loaded};T.lengthComputable&&(S.total=T.total),s.next(S)};return o.addEventListener("load",h),o.addEventListener("error",g),o.addEventListener("timeout",g),o.addEventListener("abort",g),t.reportProgress&&(o.addEventListener("progress",y),null!==a&&o.upload&&o.upload.addEventListener("progress",w)),o.send(a),s.next({type:wh.Sent}),()=>{o.removeEventListener("error",g),o.removeEventListener("abort",g),o.removeEventListener("load",h),o.removeEventListener("timeout",g),t.reportProgress&&(o.removeEventListener("progress",y),null!==a&&o.upload&&o.upload.removeEventListener("progress",w)),o.readyState!==o.DONE&&o.abort()}})))}static#e=this.\u0275fac=function(r){return new(r||n)(le(qN))};static#t=this.\u0275prov=Te({token:n,factory:n.\u0275fac})}return n})();const YD=new ge("XSRF_ENABLED"),i4=new ge("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),s4=new ge("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class o4{}let Yte=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=FN(t,this.cookieName),this.lastCookieString=t),this.lastToken}static#e=this.\u0275fac=function(r){return new(r||n)(le(Ir),le(Ai),le(i4))};static#t=this.\u0275prov=Te({token:n,factory:n.\u0275fac})}return n})();function Jte(n,e){const t=n.url.toLowerCase();if(!_e(YD)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=_e(o4).getToken(),i=_e(s4);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var ml=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(ml||{});function Xte(...n){const e=[QB,r4,t4,{provide:YI,useExisting:t4},{provide:JI,useExisting:r4},{provide:sm,useValue:Jte,multi:!0},{provide:YD,useValue:!0},{provide:o4,useClass:Yte}];for(const t of n)e.push(...t.\u0275providers);return function Fw(n){return{\u0275providers:n}}(e)}const a4=new ge("LEGACY_INTERCEPTOR_FN");function ene(){return function Hc(n,e){return{\u0275kind:n,\u0275providers:e}}(ml.LegacyInterceptors,[{provide:a4,useFactory:$te},{provide:sm,useExisting:a4,multi:!0}])}let tne=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=rn({type:n});static#n=this.\u0275inj=nn({providers:[Xte(ene())]})}return n})(),ane=(()=>{class n{constructor(t){this.http=t,this.apiMode=WD_apiUrl+"/api/mode/",this.apiTasks=WD_apiUrl+"/api/tasks/",this.apiTodo=WD_apiUrl+"/api/todos/"}updateMode(t,r){return this.http.patch(this.apiMode+r,{mode:t})}createTodo(t,r){return this.http.post(this.apiTodo+t,r)}patchTodo(t,r){return this.http.patch(this.apiTodo+t,r)}getTasks(t){return this.http.get(this.apiTasks+t)}createTasks(t,r){return this.http.post(this.apiTasks+r,t)}patchTasks(t,r){return this.http.patch(this.apiTasks+t,r)}static#e=this.\u0275fac=function(r){return new(r||n)(le(QB))};static#t=this.\u0275prov=Te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ei=(()=>class n{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static IN="in";static LESS_THAN="lt";static LESS_THAN_OR_EQUAL_TO="lte";static GREATER_THAN="gt";static GREATER_THAN_OR_EQUAL_TO="gte";static BETWEEN="between";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static DATE_IS="dateIs";static DATE_IS_NOT="dateIsNot";static DATE_BEFORE="dateBefore";static DATE_AFTER="dateAfter"})(),cne=(()=>{class n{clickSource=new q;clickObservable=this.clickSource.asObservable();add(t){t&&this.clickSource.next(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),tE=(()=>{class n{ripple=!1;inputStyle="outlined";overlayOptions={};filterMatchModeOptions={text:[ei.STARTS_WITH,ei.CONTAINS,ei.NOT_CONTAINS,ei.ENDS_WITH,ei.EQUALS,ei.NOT_EQUALS],numeric:[ei.EQUALS,ei.NOT_EQUALS,ei.LESS_THAN,ei.LESS_THAN_OR_EQUAL_TO,ei.GREATER_THAN,ei.GREATER_THAN_OR_EQUAL_TO],date:[ei.DATE_IS,ei.DATE_IS_NOT,ei.DATE_BEFORE,ei.DATE_AFTER]};translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyFilterMessage:"No results found",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"{page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",previousPageLabel:"Previous Page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left"}};zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100};translationSource=new q;translationObserver=this.translationSource.asObservable();getTranslation(t){return this.translation[t]}setTranslation(t){this.translation={...this.translation,...t},this.translationSource.next(this.translation)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=Te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),nE=(()=>{class n{template;type;name;constructor(t){this.template=t}getType(){return this.name}static \u0275fac=function(r){return new(r||n)($($s))};static \u0275dir=je({type:n,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}})}return n})(),_l=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=rn({type:n});static \u0275inj=nn({imports:[vo]})}return n})();class er{static equals(e,t,r){return r?this.resolveFieldData(e,r)===this.resolveFieldData(t,r):this.equalsByValue(e,t)}static equalsByValue(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){var s,o,a,r=Array.isArray(e),i=Array.isArray(t);if(r&&i){if((o=e.length)!=t.length)return!1;for(s=o;0!=s--;)if(!this.equalsByValue(e[s],t[s]))return!1;return!0}if(r!=i)return!1;var l=this.isDate(e),c=this.isDate(t);if(l!=c)return!1;if(l&&c)return e.getTime()==t.getTime();var h=e instanceof RegExp,g=t instanceof RegExp;if(h!=g)return!1;if(h&&g)return e.toString()==t.toString();var m=Object.keys(e);if((o=m.length)!==Object.keys(t).length)return!1;for(s=o;0!=s--;)if(!Object.prototype.hasOwnProperty.call(t,m[s]))return!1;for(s=o;0!=s--;)if(!this.equalsByValue(e[a=m[s]],t[a]))return!1;return!0}return e!=e&&t!=t}static resolveFieldData(e,t){if(e&&t){if(this.isFunction(t))return t(e);if(-1==t.indexOf("."))return e[t];{let r=t.split("."),i=e;for(let s=0,o=r.length;s<o;++s){if(null==i)return null;i=i[r[s]]}return i}}return null}static isFunction(e){return!!(e&&e.constructor&&e.call&&e.apply)}static reorderArray(e,t,r){e&&t!==r&&(r>=e.length&&(r%=e.length,t%=e.length),e.splice(r,0,e.splice(t,1)[0]))}static insertIntoOrderedArray(e,t,r,i){if(r.length>0){let s=!1;for(let o=0;o<r.length;o++)if(this.findIndexInList(r[o],i)>t){r.splice(o,0,e),s=!0;break}s||r.push(e)}else r.push(e)}static findIndexInList(e,t){let r=-1;if(t)for(let i=0;i<t.length;i++)if(t[i]==e){r=i;break}return r}static contains(e,t){if(null!=e&&t&&t.length)for(let r of t)if(this.equals(e,r))return!0;return!1}static removeAccents(e){return e&&e.search(/[\xC0-\xFF]/g)>-1&&(e=e.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),e}static isDate(e){return"[object Date]"===Object.prototype.toString.call(e)}static isEmpty(e){return null==e||""===e||Array.isArray(e)&&0===e.length||!this.isDate(e)&&"object"==typeof e&&0===Object.keys(e).length}static isNotEmpty(e){return!this.isEmpty(e)}static compare(e,t,r,i=1){let s=-1;const o=this.isEmpty(e),a=this.isEmpty(t);return s=o&&a?0:o?i:a?-i:"string"==typeof e&&"string"==typeof t?e.localeCompare(t,r,{numeric:!0}):e<t?-1:e>t?1:0,s}static sort(e,t,r=1,i,s=1){return(1===s?r:s)*er.compare(e,t,i,r)}static merge(e,t){if(null!=e||null!=t)return null!=e&&"object"!=typeof e||null!=t&&"object"!=typeof t?null!=e&&"string"!=typeof e||null!=t&&"string"!=typeof t?t||e:[e||"",t||""].join(" "):{...e||{},...t||{}}}static isPrintableCharacter(e=""){return this.isNotEmpty(e)&&1===e.length&&e.match(/\S| /)}static getItemValue(e,...t){return this.isFunction(e)?e(...t):e}static findLastIndex(e,t){let r=-1;if(this.isNotEmpty(e))try{r=e.findLastIndex(t)}catch{r=e.lastIndexOf([...e].reverse().find(t))}return r}static findLast(e,t){let r;if(this.isNotEmpty(e))try{r=e.findLast(t)}catch{r=[...e].reverse().find(t)}return r}}var l4=0;function JD(n="pn_id_"){return`${n}${++l4}`}var yl=function une(){let n=[];const i=s=>s&&parseInt(s.style.zIndex,10)||0;return{get:i,set:(s,o,a)=>{o&&(o.style.zIndex=String(((s,o)=>{let a=n.length>0?n[n.length-1]:{key:s,value:o},l=a.value+(a.key===s?0:o)+2;return n.push({key:s,value:l}),l})(s,a)))},clear:s=>{s&&((s=>{n=n.filter(o=>o.value!==s)})(i(s)),s.style.zIndex="")},getCurrent:()=>n.length>0?n[n.length-1].value:0}}();const dne=["*"];let Th=(()=>{class n{label;spin=!1;styleClass;role;ariaLabel;ariaHidden;ngOnInit(){this.getAttributes()}getAttributes(){const t=er.isEmpty(this.label);this.role=t?void 0:"img",this.ariaLabel=t?void 0:this.label,this.ariaHidden=t}getClassNames(){return`p-icon ${this.styleClass?this.styleClass+" ":""}${this.spin?"p-icon-spin":""}`}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=kn({type:n,selectors:[["ng-component"]],hostAttrs:[1,"p-element","p-icon-wrapper"],inputs:{label:"label",spin:"spin",styleClass:"styleClass"},standalone:!0,features:[Yo],ngContentSelectors:dne,decls:1,vars:0,template:function(r,i){1&r&&(ay(),ly(0))},encapsulation:2,changeDetection:0})}return n})(),c4=(()=>{class n extends Th{static \u0275fac=function(){let t;return function(i){return(t||(t=vn(n)))(i||n)}}();static \u0275cmp=kn({type:n,selectors:[["CheckIcon"]],standalone:!0,features:[Nt,Yo],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M4.86199 11.5948C4.78717 11.5923 4.71366 11.5745 4.64596 11.5426C4.57826 11.5107 4.51779 11.4652 4.46827 11.4091L0.753985 7.69483C0.683167 7.64891 0.623706 7.58751 0.580092 7.51525C0.536478 7.44299 0.509851 7.36177 0.502221 7.27771C0.49459 7.19366 0.506156 7.10897 0.536046 7.03004C0.565935 6.95111 0.613367 6.88 0.674759 6.82208C0.736151 6.76416 0.8099 6.72095 0.890436 6.69571C0.970973 6.67046 1.05619 6.66385 1.13966 6.67635C1.22313 6.68886 1.30266 6.72017 1.37226 6.76792C1.44186 6.81567 1.4997 6.8786 1.54141 6.95197L4.86199 10.2503L12.6397 2.49483C12.7444 2.42694 12.8689 2.39617 12.9932 2.40745C13.1174 2.41873 13.2343 2.47141 13.3251 2.55705C13.4159 2.64268 13.4753 2.75632 13.4938 2.87973C13.5123 3.00315 13.4888 3.1292 13.4271 3.23768L5.2557 11.4091C5.20618 11.4652 5.14571 11.5107 5.07801 11.5426C5.01031 11.5745 4.9368 11.5923 4.86199 11.5948Z","fill","currentColor"]],template:function(r,i){1&r&&(zo(),K(0,"svg",0),We(1,"path",1),ne()),2&r&&(ws(i.getClassNames()),at("aria-label",i.ariaLabel)("aria-hidden",i.ariaHidden)("role",i.role))},encapsulation:2})}return n})();const hne=["input"];function fne(n,e){1&n&&We(0,"span",10),2&n&&(Z("ngClass",Y(3).checkboxIcon),at("data-pc-section","icon"))}function pne(n,e){1&n&&We(0,"CheckIcon",11),2&n&&(Z("styleClass","p-checkbox-icon"),at("data-pc-section","icon"))}function gne(n,e){if(1&n&&(Vs(0),fe(1,fne,1,2,"span",8),fe(2,pne,1,2,"CheckIcon",9),Us()),2&n){const t=Y(2);ce(1),Z("ngIf",t.checkboxIcon),ce(1),Z("ngIf",!t.checkboxIcon)}}function mne(n,e){}function _ne(n,e){1&n&&fe(0,mne,0,0,"ng-template")}function yne(n,e){if(1&n&&(K(0,"span",12),fe(1,_ne,1,0,null,13),ne()),2&n){const t=Y(2);at("data-pc-section","icon"),ce(1),Z("ngTemplateOutlet",t.checkboxIconTemplate)}}function vne(n,e){if(1&n&&(Vs(0),fe(1,gne,3,2,"ng-container",5),fe(2,yne,2,2,"span",7),Us()),2&n){const t=Y();ce(1),Z("ngIf",!t.checkboxIconTemplate),ce(1),Z("ngIf",t.checkboxIconTemplate)}}const Ine=function(n,e,t){return{"p-checkbox-label":!0,"p-checkbox-label-active":n,"p-disabled":e,"p-checkbox-label-focus":t}};function Ene(n,e){if(1&n){const t=Wt();K(0,"label",14),Le("click",function(i){return Xe(t),et(Y().onClick(i))}),Ke(1),ne()}if(2&n){const t=Y();ws(t.labelStyleClass),Z("ngClass",my(6,Ine,t.checked(),t.disabled,t.focused)),at("for",t.inputId)("data-pc-section","label"),ce(1),tc(" ",t.label,"")}}const wne=function(n,e,t){return{"p-checkbox p-component":!0,"p-checkbox-checked":n,"p-checkbox-disabled":e,"p-checkbox-focused":t}},bne=function(n,e,t){return{"p-highlight":n,"p-disabled":e,"p-focus":t}},Tne={provide:Js,useExisting:V(()=>u4),multi:!0};let u4=(()=>{class n{cd;value;name;disabled;binary;label;ariaLabelledBy;ariaLabel;tabindex;inputId;style;styleClass;labelStyleClass;formControl;checkboxIcon;readonly;required;trueValue=!0;falseValue=!1;onChange=new Vt;inputViewChild;templates;checkboxIconTemplate;model;onModelChange=()=>{};onModelTouched=()=>{};focused=!1;constructor(t){this.cd=t}ngAfterContentInit(){this.templates.forEach(t=>{"icon"===t.getType()&&(this.checkboxIconTemplate=t.template)})}onClick(t){if(!this.disabled&&!this.readonly){let r;this.inputViewChild.nativeElement.focus(),this.binary?(r=this.checked()?this.falseValue:this.trueValue,this.model=r,this.onModelChange(r)):(r=this.checked()?this.model.filter(i=>!er.equals(i,this.value)):this.model?[...this.model,this.value]:[this.value],this.onModelChange(r),this.model=r,this.formControl&&this.formControl.setValue(r)),this.onChange.emit({checked:r,originalEvent:t})}}onFocus(){this.focused=!0}onBlur(){this.focused=!1,this.onModelTouched()}writeValue(t){this.model=t,this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}checked(){return this.binary?this.model===this.trueValue:er.contains(this.value,this.model)}static \u0275fac=function(r){return new(r||n)($(Xo))};static \u0275cmp=kn({type:n,selectors:[["p-checkbox"]],contentQueries:function(r,i,s){if(1&r&&dp(s,nE,4),2&r){let o;zs(o=qs())&&(i.templates=o)}},viewQuery:function(r,i){if(1&r&&ic(hne,5),2&r){let s;zs(s=qs())&&(i.inputViewChild=s.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",name:"name",disabled:"disabled",binary:"binary",label:"label",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",tabindex:"tabindex",inputId:"inputId",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass",formControl:"formControl",checkboxIcon:"checkboxIcon",readonly:"readonly",required:"required",trueValue:"trueValue",falseValue:"falseValue"},outputs:{onChange:"onChange"},features:[un([Tne])],decls:7,vars:35,consts:[[3,"ngStyle","ngClass","click"],[1,"p-hidden-accessible"],["type","checkbox",3,"value","checked","disabled","readonly","focus","blur"],["input",""],[1,"p-checkbox-box",3,"ngClass"],[4,"ngIf"],[3,"class","ngClass","click",4,"ngIf"],["class","p-checkbox-icon",4,"ngIf"],["class","p-checkbox-icon",3,"ngClass",4,"ngIf"],[3,"styleClass",4,"ngIf"],[1,"p-checkbox-icon",3,"ngClass"],[3,"styleClass"],[1,"p-checkbox-icon"],[4,"ngTemplateOutlet"],[3,"ngClass","click"]],template:function(r,i){1&r&&(K(0,"div",0),Le("click",function(o){return i.onClick(o)}),K(1,"div",1)(2,"input",2,3),Le("focus",function(){return i.onFocus()})("blur",function(){return i.onBlur()}),ne()(),K(4,"div",4),fe(5,vne,3,2,"ng-container",5),ne()(),fe(6,Ene,2,10,"label",6)),2&r&&(ws(i.styleClass),Z("ngStyle",i.style)("ngClass",my(27,wne,i.checked(),i.disabled,i.focused)),at("data-pc-name","checkbox")("data-pc-section","root"),ce(1),at("data-pc-section","hiddenInputWrapper")("data-p-hidden-accessible",!0),ce(1),Z("value",i.value)("checked",i.checked())("disabled",i.disabled)("readonly",i.readonly),at("id",i.inputId)("name",i.name)("tabindex",i.tabindex)("required",i.required)("aria-labelledby",i.ariaLabelledBy)("aria-label",i.ariaLabel)("aria-checked",i.checked())("data-pc-section","hiddenInput"),ce(2),Z("ngClass",my(31,bne,i.checked(),i.disabled,i.focused)),at("data-p-highlight",i.checked())("data-p-disabled",i.disabled)("data-p-focused",i.focused)("data-pc-section","input"),ce(1),Z("ngIf",i.checked()),ce(1),Z("ngIf",i.label))},dependencies:function(){return[gd,ra,yp,_p,c4]},styles:["@layer primeng{.p-checkbox{display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;vertical-align:bottom;position:relative}.p-checkbox-disabled{cursor:default!important;pointer-events:none}.p-checkbox-box{display:flex;justify-content:center;align-items:center}p-checkbox{display:inline-flex;vertical-align:bottom;align-items:center}.p-checkbox-label{line-height:1}}\n"],encapsulation:2,changeDetection:0})}return n})(),Cne=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=rn({type:n});static \u0275inj=nn({imports:[vo,c4,_l]})}return n})(),Ve=(()=>{class n{static zindex=1e3;static calculatedScrollbarWidth=null;static calculatedScrollbarHeight=null;static browser;static addClass(t,r){t&&r&&(t.classList?t.classList.add(r):t.className+=" "+r)}static addMultipleClasses(t,r){if(t&&r)if(t.classList){let i=r.trim().split(" ");for(let s=0;s<i.length;s++)t.classList.add(i[s])}else{let i=r.split(" ");for(let s=0;s<i.length;s++)t.className+=" "+i[s]}}static removeClass(t,r){t&&r&&(t.classList?t.classList.remove(r):t.className=t.className.replace(new RegExp("(^|\\b)"+r.split(" ").join("|")+"(\\b|$)","gi")," "))}static removeMultipleClasses(t,r){t&&r&&[r].flat().filter(Boolean).forEach(i=>i.split(" ").forEach(s=>this.removeClass(t,s)))}static hasClass(t,r){return!(!t||!r)&&(t.classList?t.classList.contains(r):new RegExp("(^| )"+r+"( |$)","gi").test(t.className))}static siblings(t){return Array.prototype.filter.call(t.parentNode.children,function(r){return r!==t})}static find(t,r){return Array.from(t.querySelectorAll(r))}static findSingle(t,r){return this.isElement(t)?t.querySelector(r):null}static index(t){let r=t.parentNode.childNodes,i=0;for(var s=0;s<r.length;s++){if(r[s]==t)return i;1==r[s].nodeType&&i++}return-1}static indexWithinGroup(t,r){let i=t.parentNode?t.parentNode.childNodes:[],s=0;for(var o=0;o<i.length;o++){if(i[o]==t)return s;i[o].attributes&&i[o].attributes[r]&&1==i[o].nodeType&&s++}return-1}static appendOverlay(t,r,i="self"){"self"!==i&&t&&r&&this.appendChild(t,r)}static alignOverlay(t,r,i="self",s=!0){t&&r&&(s&&(t.style.minWidth=`${n.getOuterWidth(r)}px`),"self"===i?this.relativePosition(t,r):this.absolutePosition(t,r))}static relativePosition(t,r){const i=O=>{if(O)return"relative"===getComputedStyle(O).getPropertyValue("position")?O:i(O.parentElement)},s=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),o=r.offsetHeight,a=r.getBoundingClientRect(),l=this.getWindowScrollTop(),c=this.getWindowScrollLeft(),h=this.getViewport(),m=i(t)?.getBoundingClientRect()||{top:-1*l,left:-1*c};let y,w;a.top+o+s.height>h.height?(y=a.top-m.top-s.height,t.style.transformOrigin="bottom",a.top+y<0&&(y=-1*a.top)):(y=o+a.top-m.top,t.style.transformOrigin="top");const T=a.left+s.width-h.width;w=s.width>h.width?-1*(a.left-m.left):T>0?a.left-m.left-T:a.left-m.left,t.style.top=y+"px",t.style.left=w+"px"}static absolutePosition(t,r){const i=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),s=i.height,o=i.width,a=r.offsetHeight,l=r.offsetWidth,c=r.getBoundingClientRect(),h=this.getWindowScrollTop(),g=this.getWindowScrollLeft(),m=this.getViewport();let y,w;c.top+a+s>m.height?(y=c.top+h-s,t.style.transformOrigin="bottom",y<0&&(y=h)):(y=a+c.top+h,t.style.transformOrigin="top"),w=c.left+o>m.width?Math.max(0,c.left+g+l-o):c.left+g,t.style.top=y+"px",t.style.left=w+"px"}static getParents(t,r=[]){return null===t.parentNode?r:this.getParents(t.parentNode,r.concat([t.parentNode]))}static getScrollableParents(t){let r=[];if(t){let i=this.getParents(t);const s=/(auto|scroll)/,o=a=>{let l=window.getComputedStyle(a,null);return s.test(l.getPropertyValue("overflow"))||s.test(l.getPropertyValue("overflowX"))||s.test(l.getPropertyValue("overflowY"))};for(let a of i){let l=1===a.nodeType&&a.dataset.scrollselectors;if(l){let c=l.split(",");for(let h of c){let g=this.findSingle(a,h);g&&o(g)&&r.push(g)}}9!==a.nodeType&&o(a)&&r.push(a)}}return r}static getHiddenElementOuterHeight(t){t.style.visibility="hidden",t.style.display="block";let r=t.offsetHeight;return t.style.display="none",t.style.visibility="visible",r}static getHiddenElementOuterWidth(t){t.style.visibility="hidden",t.style.display="block";let r=t.offsetWidth;return t.style.display="none",t.style.visibility="visible",r}static getHiddenElementDimensions(t){let r={};return t.style.visibility="hidden",t.style.display="block",r.width=t.offsetWidth,r.height=t.offsetHeight,t.style.display="none",t.style.visibility="visible",r}static scrollInView(t,r){let i=getComputedStyle(t).getPropertyValue("borderTopWidth"),s=i?parseFloat(i):0,o=getComputedStyle(t).getPropertyValue("paddingTop"),a=o?parseFloat(o):0,l=t.getBoundingClientRect(),h=r.getBoundingClientRect().top+document.body.scrollTop-(l.top+document.body.scrollTop)-s-a,g=t.scrollTop,m=t.clientHeight,y=this.getOuterHeight(r);h<0?t.scrollTop=g+h:h+y>m&&(t.scrollTop=g+h-m+y)}static fadeIn(t,r){t.style.opacity=0;let i=+new Date,s=0,o=function(){s=+t.style.opacity.replace(",",".")+((new Date).getTime()-i)/r,t.style.opacity=s,i=+new Date,+s<1&&(window.requestAnimationFrame&&requestAnimationFrame(o)||setTimeout(o,16))};o()}static fadeOut(t,r){var i=1,a=50/r;let l=setInterval(()=>{(i-=a)<=0&&(i=0,clearInterval(l)),t.style.opacity=i},50)}static getWindowScrollTop(){let t=document.documentElement;return(window.pageYOffset||t.scrollTop)-(t.clientTop||0)}static getWindowScrollLeft(){let t=document.documentElement;return(window.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}static matches(t,r){var i=Element.prototype;return(i.matches||i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector||function(o){return-1!==[].indexOf.call(document.querySelectorAll(o),this)}).call(t,r)}static getOuterWidth(t,r){let i=t.offsetWidth;if(r){let s=getComputedStyle(t);i+=parseFloat(s.marginLeft)+parseFloat(s.marginRight)}return i}static getHorizontalPadding(t){let r=getComputedStyle(t);return parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)}static getHorizontalMargin(t){let r=getComputedStyle(t);return parseFloat(r.marginLeft)+parseFloat(r.marginRight)}static innerWidth(t){let r=t.offsetWidth,i=getComputedStyle(t);return r+=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight),r}static width(t){let r=t.offsetWidth,i=getComputedStyle(t);return r-=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight),r}static getInnerHeight(t){let r=t.offsetHeight,i=getComputedStyle(t);return r+=parseFloat(i.paddingTop)+parseFloat(i.paddingBottom),r}static getOuterHeight(t,r){let i=t.offsetHeight;if(r){let s=getComputedStyle(t);i+=parseFloat(s.marginTop)+parseFloat(s.marginBottom)}return i}static getHeight(t){let r=t.offsetHeight,i=getComputedStyle(t);return r-=parseFloat(i.paddingTop)+parseFloat(i.paddingBottom)+parseFloat(i.borderTopWidth)+parseFloat(i.borderBottomWidth),r}static getWidth(t){let r=t.offsetWidth,i=getComputedStyle(t);return r-=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)+parseFloat(i.borderLeftWidth)+parseFloat(i.borderRightWidth),r}static getViewport(){let t=window,r=document,i=r.documentElement,s=r.getElementsByTagName("body")[0];return{width:t.innerWidth||i.clientWidth||s.clientWidth,height:t.innerHeight||i.clientHeight||s.clientHeight}}static getOffset(t){var r=t.getBoundingClientRect();return{top:r.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:r.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(t,r){let i=t.parentNode;if(!i)throw"Can't replace element";return i.replaceChild(r,t)}static getUserAgent(){if(navigator&&this.isClient())return navigator.userAgent}static isIE(){var t=window.navigator.userAgent;return t.indexOf("MSIE ")>0||(t.indexOf("Trident/")>0?(t.indexOf("rv:"),!0):t.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(t,r){if(this.isElement(r))r.appendChild(t);else{if(!(r&&r.el&&r.el.nativeElement))throw"Cannot append "+r+" to "+t;r.el.nativeElement.appendChild(t)}}static removeChild(t,r){if(this.isElement(r))r.removeChild(t);else{if(!r.el||!r.el.nativeElement)throw"Cannot remove "+t+" from "+r;r.el.nativeElement.removeChild(t)}}static removeElement(t){"remove"in Element.prototype?t.remove():t.parentNode.removeChild(t)}static isElement(t){return"object"==typeof HTMLElement?t instanceof HTMLElement:t&&"object"==typeof t&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName}static calculateScrollbarWidth(t){if(t){let r=getComputedStyle(t);return t.offsetWidth-t.clientWidth-parseFloat(r.borderLeftWidth)-parseFloat(r.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let r=document.createElement("div");r.className="p-scrollbar-measure",document.body.appendChild(r);let i=r.offsetWidth-r.clientWidth;return document.body.removeChild(r),this.calculatedScrollbarWidth=i,i}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let t=document.createElement("div");t.className="p-scrollbar-measure",document.body.appendChild(t);let r=t.offsetHeight-t.clientHeight;return document.body.removeChild(t),this.calculatedScrollbarWidth=r,r}static invokeElementMethod(t,r,i){t[r].apply(t,i)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let t=this.resolveUserAgent();this.browser={},t.browser&&(this.browser[t.browser]=!0,this.browser.version=t.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let t=navigator.userAgent.toLowerCase(),r=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:r[1]||"",version:r[2]||"0"}}static isInteger(t){return Number.isInteger?Number.isInteger(t):"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}static isHidden(t){return!t||null===t.offsetParent}static isVisible(t){return t&&null!=t.offsetParent}static isExist(t){return null!==t&&typeof t<"u"&&t.nodeName&&t.parentNode}static focus(t,r){t&&document.activeElement!==t&&t.focus(r)}static getFocusableElements(t,r=""){let i=this.find(t,`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},\n                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},\n                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r}`),s=[];for(let o of i)"none"!=getComputedStyle(o).display&&"hidden"!=getComputedStyle(o).visibility&&s.push(o);return s}static getFirstFocusableElement(t,r){const i=this.getFocusableElements(t,r);return i.length>0?i[0]:null}static getLastFocusableElement(t,r){const i=this.getFocusableElements(t,r);return i.length>0?i[i.length-1]:null}static getNextFocusableElement(t,r=!1){const i=n.getFocusableElements(t);let s=0;if(i&&i.length>0){const o=i.indexOf(i[0].ownerDocument.activeElement);r?s=-1==o||0===o?i.length-1:o-1:-1!=o&&o!==i.length-1&&(s=o+1)}return i[s]}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}static getSelection(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null}static getTargetElement(t,r){if(!t)return null;switch(t){case"document":return document;case"window":return window;case"@next":return r?.nextElementSibling;case"@prev":return r?.previousElementSibling;case"@parent":return r?.parentElement;case"@grandparent":return r?.parentElement.parentElement;default:const i=typeof t;if("string"===i)return document.querySelector(t);if("object"===i&&t.hasOwnProperty("nativeElement"))return this.isExist(t.nativeElement)?t.nativeElement:void 0;const o=(a=t)&&a.constructor&&a.call&&a.apply?t():t;return o&&9===o.nodeType||this.isExist(o)?o:null}var a}static isClient(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}static getAttribute(t,r){if(t){const i=t.getAttribute(r);return isNaN(i)?"true"===i||"false"===i?"true"===i:i:+i}}static calculateBodyScrollbarWidth(){return window.innerWidth-document.documentElement.offsetWidth}static blockBodyScroll(t="p-overflow-hidden"){document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,t)}static unblockBodyScroll(t="p-overflow-hidden"){document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,t)}}return n})();class d4{element;listener;scrollableParents;constructor(e,t=(()=>{})){this.element=e,this.listener=t}bindScrollListener(){this.scrollableParents=Ve.getScrollableParents(this.element);for(let e=0;e<this.scrollableParents.length;e++)this.scrollableParents[e].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let e=0;e<this.scrollableParents.length;e++)this.scrollableParents[e].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}let h4=(()=>{class n extends Th{static \u0275fac=function(){let t;return function(i){return(t||(t=vn(n)))(i||n)}}();static \u0275cmp=kn({type:n,selectors:[["AngleDownIcon"]],standalone:!0,features:[Nt,Yo],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M3.58659 4.5007C3.68513 4.50023 3.78277 4.51945 3.87379 4.55723C3.9648 4.59501 4.04735 4.65058 4.11659 4.7207L7.11659 7.7207L10.1166 4.7207C10.2619 4.65055 10.4259 4.62911 10.5843 4.65956C10.7427 4.69002 10.8871 4.77074 10.996 4.88976C11.1049 5.00877 11.1726 5.15973 11.1889 5.32022C11.2052 5.48072 11.1693 5.6422 11.0866 5.7807L7.58659 9.2807C7.44597 9.42115 7.25534 9.50004 7.05659 9.50004C6.85784 9.50004 6.66722 9.42115 6.52659 9.2807L3.02659 5.7807C2.88614 5.64007 2.80725 5.44945 2.80725 5.2507C2.80725 5.05195 2.88614 4.86132 3.02659 4.7207C3.09932 4.64685 3.18675 4.58911 3.28322 4.55121C3.37969 4.51331 3.48305 4.4961 3.58659 4.5007Z","fill","currentColor"]],template:function(r,i){1&r&&(zo(),K(0,"svg",0),We(1,"path",1),ne()),2&r&&(ws(i.getClassNames()),at("aria-label",i.ariaLabel)("aria-hidden",i.ariaHidden)("role",i.role))},encapsulation:2})}return n})(),f4=(()=>{class n extends Th{static \u0275fac=function(){let t;return function(i){return(t||(t=vn(n)))(i||n)}}();static \u0275cmp=kn({type:n,selectors:[["AngleRightIcon"]],standalone:!0,features:[Nt,Yo],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M5.25 11.1728C5.14929 11.1694 5.05033 11.1455 4.9592 11.1025C4.86806 11.0595 4.78666 10.9984 4.72 10.9228C4.57955 10.7822 4.50066 10.5916 4.50066 10.3928C4.50066 10.1941 4.57955 10.0035 4.72 9.86283L7.72 6.86283L4.72 3.86283C4.66067 3.71882 4.64765 3.55991 4.68275 3.40816C4.71785 3.25642 4.79932 3.11936 4.91585 3.01602C5.03238 2.91268 5.17819 2.84819 5.33305 2.83149C5.4879 2.81479 5.64411 2.84671 5.78 2.92283L9.28 6.42283C9.42045 6.56346 9.49934 6.75408 9.49934 6.95283C9.49934 7.15158 9.42045 7.34221 9.28 7.48283L5.78 10.9228C5.71333 10.9984 5.63193 11.0595 5.5408 11.1025C5.44966 11.1455 5.35071 11.1694 5.25 11.1728Z","fill","currentColor"]],template:function(r,i){1&r&&(zo(),K(0,"svg",0),We(1,"path",1),ne()),2&r&&(ws(i.getClassNames()),at("aria-label",i.ariaLabel)("aria-hidden",i.ariaHidden)("role",i.role))},encapsulation:2})}return n})(),p4=(()=>{class n extends Th{static \u0275fac=function(){let t;return function(i){return(t||(t=vn(n)))(i||n)}}();static \u0275cmp=kn({type:n,selectors:[["BarsIcon"]],standalone:!0,features:[Nt,Yo],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M13.3226 3.6129H0.677419C0.497757 3.6129 0.325452 3.54152 0.198411 3.41448C0.0713707 3.28744 0 3.11514 0 2.93548C0 2.75581 0.0713707 2.58351 0.198411 2.45647C0.325452 2.32943 0.497757 2.25806 0.677419 2.25806H13.3226C13.5022 2.25806 13.6745 2.32943 13.8016 2.45647C13.9286 2.58351 14 2.75581 14 2.93548C14 3.11514 13.9286 3.28744 13.8016 3.41448C13.6745 3.54152 13.5022 3.6129 13.3226 3.6129ZM13.3226 7.67741H0.677419C0.497757 7.67741 0.325452 7.60604 0.198411 7.479C0.0713707 7.35196 0 7.17965 0 6.99999C0 6.82033 0.0713707 6.64802 0.198411 6.52098C0.325452 6.39394 0.497757 6.32257 0.677419 6.32257H13.3226C13.5022 6.32257 13.6745 6.39394 13.8016 6.52098C13.9286 6.64802 14 6.82033 14 6.99999C14 7.17965 13.9286 7.35196 13.8016 7.479C13.6745 7.60604 13.5022 7.67741 13.3226 7.67741ZM0.677419 11.7419H13.3226C13.5022 11.7419 13.6745 11.6706 13.8016 11.5435C13.9286 11.4165 14 11.2442 14 11.0645C14 10.8848 13.9286 10.7125 13.8016 10.5855C13.6745 10.4585 13.5022 10.3871 13.3226 10.3871H0.677419C0.497757 10.3871 0.325452 10.4585 0.198411 10.5855C0.0713707 10.7125 0 10.8848 0 11.0645C0 11.2442 0.0713707 11.4165 0.198411 11.5435C0.325452 11.6706 0.497757 11.7419 0.677419 11.7419Z","fill","currentColor"]],template:function(r,i){1&r&&(zo(),K(0,"svg",0),We(1,"path",1),ne()),2&r&&(ws(i.getClassNames()),at("aria-label",i.ariaLabel)("aria-hidden",i.ariaHidden)("role",i.role))},encapsulation:2})}return n})(),g4=(()=>{class n{document;platformId;renderer;el;zone;config;constructor(t,r,i,s,o,a){this.document=t,this.platformId=r,this.renderer=i,this.el=s,this.zone=o,this.config=a}animationListener;mouseDownListener;timeout;ngAfterViewInit(){lc(this.platformId)&&this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.renderer.listen(this.el.nativeElement,"mousedown",this.onMouseDown.bind(this))})}onMouseDown(t){let r=this.getInk();if(!r||"none"===this.document.defaultView?.getComputedStyle(r,null).display)return;if(Ve.removeClass(r,"p-ink-active"),!Ve.getHeight(r)&&!Ve.getWidth(r)){let a=Math.max(Ve.getOuterWidth(this.el.nativeElement),Ve.getOuterHeight(this.el.nativeElement));r.style.height=a+"px",r.style.width=a+"px"}let i=Ve.getOffset(this.el.nativeElement),s=t.pageX-i.left+this.document.body.scrollTop-Ve.getWidth(r)/2,o=t.pageY-i.top+this.document.body.scrollLeft-Ve.getHeight(r)/2;this.renderer.setStyle(r,"top",o+"px"),this.renderer.setStyle(r,"left",s+"px"),Ve.addClass(r,"p-ink-active"),this.timeout=setTimeout(()=>{let a=this.getInk();a&&Ve.removeClass(a,"p-ink-active")},401)}getInk(){const t=this.el.nativeElement.children;for(let r=0;r<t.length;r++)if("string"==typeof t[r].className&&-1!==t[r].className.indexOf("p-ink"))return t[r];return null}resetInk(){let t=this.getInk();t&&Ve.removeClass(t,"p-ink-active")}onAnimationEnd(t){this.timeout&&clearTimeout(this.timeout),Ve.removeClass(t.currentTarget,"p-ink-active")}create(){let t=this.renderer.createElement("span");this.renderer.addClass(t,"p-ink"),this.renderer.appendChild(this.el.nativeElement,t),this.renderer.setAttribute(t,"aria-hidden","true"),this.renderer.setAttribute(t,"role","presentation"),this.animationListener||(this.animationListener=this.renderer.listen(t,"animationend",this.onAnimationEnd.bind(this)))}remove(){let t=this.getInk();t&&(this.mouseDownListener&&this.mouseDownListener(),this.animationListener&&this.animationListener(),this.mouseDownListener=null,this.animationListener=null,Ve.removeElement(t))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}static \u0275fac=function(r){return new(r||n)($(Ir),$(Ai),$(Ri),$(pr),$(Mt),$(tE,8))};static \u0275dir=je({type:n,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"]})}return n})(),XD=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=rn({type:n});static \u0275inj=nn({imports:[vo]})}return n})(),Sne=(()=>{class n{platformId;el;zone;config;renderer;viewContainer;tooltipPosition;tooltipEvent="hover";appendTo;positionStyle;tooltipStyleClass;tooltipZIndex;escape=!0;showDelay;hideDelay;life;positionTop;positionLeft;autoHide=!0;fitContent=!0;hideOnEscape=!0;content;get disabled(){return this._disabled}set disabled(t){this._disabled=t,this.deactivate()}tooltipOptions;_tooltipOptions={tooltipLabel:null,tooltipPosition:"right",tooltipEvent:"hover",appendTo:"body",positionStyle:null,tooltipStyleClass:null,tooltipZIndex:"auto",escape:!0,disabled:null,showDelay:null,hideDelay:null,positionTop:null,positionLeft:null,life:null,autoHide:!0,hideOnEscape:!0,id:JD()+"_tooltip"};_disabled;container;styleClass;tooltipText;showTimeout;hideTimeout;active;mouseEnterListener;mouseLeaveListener;containerMouseleaveListener;clickListener;focusListener;blurListener;scrollHandler;resizeListener;constructor(t,r,i,s,o,a){this.platformId=t,this.el=r,this.zone=i,this.config=s,this.renderer=o,this.viewContainer=a}ngAfterViewInit(){lc(this.platformId)&&this.zone.runOutsideAngular(()=>{if("hover"===this.getOption("tooltipEvent"))this.mouseEnterListener=this.onMouseEnter.bind(this),this.mouseLeaveListener=this.onMouseLeave.bind(this),this.clickListener=this.onInputClick.bind(this),this.el.nativeElement.addEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.addEventListener("click",this.clickListener),this.el.nativeElement.addEventListener("mouseleave",this.mouseLeaveListener);else if("focus"===this.getOption("tooltipEvent")){this.focusListener=this.onFocus.bind(this),this.blurListener=this.onBlur.bind(this);let t=this.getTarget(this.el.nativeElement);t.addEventListener("focus",this.focusListener),t.addEventListener("blur",this.blurListener)}})}ngOnChanges(t){t.tooltipPosition&&this.setOption({tooltipPosition:t.tooltipPosition.currentValue}),t.tooltipEvent&&this.setOption({tooltipEvent:t.tooltipEvent.currentValue}),t.appendTo&&this.setOption({appendTo:t.appendTo.currentValue}),t.positionStyle&&this.setOption({positionStyle:t.positionStyle.currentValue}),t.tooltipStyleClass&&this.setOption({tooltipStyleClass:t.tooltipStyleClass.currentValue}),t.tooltipZIndex&&this.setOption({tooltipZIndex:t.tooltipZIndex.currentValue}),t.escape&&this.setOption({escape:t.escape.currentValue}),t.showDelay&&this.setOption({showDelay:t.showDelay.currentValue}),t.hideDelay&&this.setOption({hideDelay:t.hideDelay.currentValue}),t.life&&this.setOption({life:t.life.currentValue}),t.positionTop&&this.setOption({positionTop:t.positionTop.currentValue}),t.positionLeft&&this.setOption({positionLeft:t.positionLeft.currentValue}),t.disabled&&this.setOption({disabled:t.disabled.currentValue}),t.content&&(this.setOption({tooltipLabel:t.content.currentValue}),this.active&&(t.content.currentValue?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide())),t.autoHide&&this.setOption({autoHide:t.autoHide.currentValue}),t.id&&this.setOption({id:t.id.currentValue}),t.tooltipOptions&&(this._tooltipOptions={...this._tooltipOptions,...t.tooltipOptions.currentValue},this.deactivate(),this.active&&(this.getOption("tooltipLabel")?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide()))}isAutoHide(){return this.getOption("autoHide")}onMouseEnter(t){!this.container&&!this.showTimeout&&this.activate()}onMouseLeave(t){(this.isAutoHide()||!(Ve.hasClass(t.relatedTarget,"p-tooltip")||Ve.hasClass(t.relatedTarget,"p-tooltip-text")||Ve.hasClass(t.relatedTarget,"p-tooltip-arrow")))&&this.deactivate()}onFocus(t){this.activate()}onBlur(t){this.deactivate()}onInputClick(t){this.deactivate()}onPressEscape(){this.hideOnEscape&&this.deactivate()}activate(){if(this.active=!0,this.clearHideTimeout(),this.getOption("showDelay")?this.showTimeout=setTimeout(()=>{this.show()},this.getOption("showDelay")):this.show(),this.getOption("life")){let t=this.getOption("showDelay")?this.getOption("life")+this.getOption("showDelay"):this.getOption("life");this.hideTimeout=setTimeout(()=>{this.hide()},t)}}deactivate(){this.active=!1,this.clearShowTimeout(),this.getOption("hideDelay")?(this.clearHideTimeout(),this.hideTimeout=setTimeout(()=>{this.hide()},this.getOption("hideDelay"))):this.hide()}create(){this.container&&(this.clearHideTimeout(),this.remove()),this.container=document.createElement("div"),this.container.setAttribute("id",this.getOption("id")),this.container.setAttribute("role","tooltip");let t=document.createElement("div");t.className="p-tooltip-arrow",this.container.appendChild(t),this.tooltipText=document.createElement("div"),this.tooltipText.className="p-tooltip-text",this.updateText(),this.getOption("positionStyle")&&(this.container.style.position=this.getOption("positionStyle")),this.container.appendChild(this.tooltipText),"body"===this.getOption("appendTo")?document.body.appendChild(this.container):"target"===this.getOption("appendTo")?Ve.appendChild(this.container,this.el.nativeElement):Ve.appendChild(this.container,this.getOption("appendTo")),this.container.style.display="inline-block",this.fitContent&&(this.container.style.width="fit-content"),this.isAutoHide()?this.container.style.pointerEvents="none":(this.container.style.pointerEvents="unset",this.bindContainerMouseleaveListener())}bindContainerMouseleaveListener(){this.containerMouseleaveListener||(this.containerMouseleaveListener=this.renderer.listen(this.container??this.container.nativeElement,"mouseleave",r=>{this.deactivate()}))}unbindContainerMouseleaveListener(){this.containerMouseleaveListener&&(this.bindContainerMouseleaveListener(),this.containerMouseleaveListener=null)}show(){!this.getOption("tooltipLabel")||this.getOption("disabled")||(this.create(),this.align(),Ve.fadeIn(this.container,250),"auto"===this.getOption("tooltipZIndex")?yl.set("tooltip",this.container,this.config.zIndex.tooltip):this.container.style.zIndex=this.getOption("tooltipZIndex"),this.bindDocumentResizeListener(),this.bindScrollListener())}hide(){"auto"===this.getOption("tooltipZIndex")&&yl.clear(this.container),this.remove()}updateText(){const t=this.getOption("tooltipLabel");if(t instanceof $s){const r=this.viewContainer.createEmbeddedView(t);r.detectChanges(),r.rootNodes.forEach(i=>this.tooltipText.appendChild(i))}else this.getOption("escape")?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(t))):this.tooltipText.innerHTML=t}align(){switch(this.getOption("tooltipPosition")){case"top":this.alignTop(),this.isOutOfBounds()&&(this.alignBottom(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"bottom":this.alignBottom(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"left":this.alignLeft(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break;case"right":this.alignRight(),this.isOutOfBounds()&&(this.alignLeft(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()))}}getHostOffset(){if("body"===this.getOption("appendTo")||"target"===this.getOption("appendTo")){let t=this.el.nativeElement.getBoundingClientRect();return{left:t.left+Ve.getWindowScrollLeft(),top:t.top+Ve.getWindowScrollTop()}}return{left:0,top:0}}alignRight(){this.preAlign("right");let t=this.getHostOffset(),r=t.left+Ve.getOuterWidth(this.el.nativeElement),i=t.top+(Ve.getOuterHeight(this.el.nativeElement)-Ve.getOuterHeight(this.container))/2;this.container.style.left=r+this.getOption("positionLeft")+"px",this.container.style.top=i+this.getOption("positionTop")+"px"}alignLeft(){this.preAlign("left");let t=this.getHostOffset(),r=t.left-Ve.getOuterWidth(this.container),i=t.top+(Ve.getOuterHeight(this.el.nativeElement)-Ve.getOuterHeight(this.container))/2;this.container.style.left=r+this.getOption("positionLeft")+"px",this.container.style.top=i+this.getOption("positionTop")+"px"}alignTop(){this.preAlign("top");let t=this.getHostOffset(),r=t.left+(Ve.getOuterWidth(this.el.nativeElement)-Ve.getOuterWidth(this.container))/2,i=t.top-Ve.getOuterHeight(this.container);this.container.style.left=r+this.getOption("positionLeft")+"px",this.container.style.top=i+this.getOption("positionTop")+"px"}alignBottom(){this.preAlign("bottom");let t=this.getHostOffset(),r=t.left+(Ve.getOuterWidth(this.el.nativeElement)-Ve.getOuterWidth(this.container))/2,i=t.top+Ve.getOuterHeight(this.el.nativeElement);this.container.style.left=r+this.getOption("positionLeft")+"px",this.container.style.top=i+this.getOption("positionTop")+"px"}setOption(t){this._tooltipOptions={...this._tooltipOptions,...t}}getOption(t){return this._tooltipOptions[t]}getTarget(t){return Ve.hasClass(t,"p-inputwrapper")?Ve.findSingle(t,"input"):t}preAlign(t){this.container.style.left="-999px",this.container.style.top="-999px";let r="p-tooltip p-component p-tooltip-"+t;this.container.className=this.getOption("tooltipStyleClass")?r+" "+this.getOption("tooltipStyleClass"):r}isOutOfBounds(){let t=this.container.getBoundingClientRect(),r=t.top,i=t.left,s=Ve.getOuterWidth(this.container),o=Ve.getOuterHeight(this.container),a=Ve.getViewport();return i+s>a.width||i<0||r<0||r+o>a.height}onWindowResize(t){this.hide()}bindDocumentResizeListener(){this.zone.runOutsideAngular(()=>{this.resizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.resizeListener)})}unbindDocumentResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new d4(this.el.nativeElement,()=>{this.container&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindEvents(){if("hover"===this.getOption("tooltipEvent"))this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener);else if("focus"===this.getOption("tooltipEvent")){let t=this.getTarget(this.el.nativeElement);t.removeEventListener("focus",this.focusListener),t.removeEventListener("blur",this.blurListener)}this.unbindDocumentResizeListener()}remove(){this.container&&this.container.parentElement&&("body"===this.getOption("appendTo")?document.body.removeChild(this.container):"target"===this.getOption("appendTo")?this.el.nativeElement.removeChild(this.container):Ve.removeChild(this.container,this.getOption("appendTo"))),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.unbindContainerMouseleaveListener(),this.clearTimeouts(),this.container=null,this.scrollHandler=null}clearShowTimeout(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)}clearHideTimeout(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout()}ngOnDestroy(){this.unbindEvents(),this.container&&yl.clear(this.container),this.remove(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null)}static \u0275fac=function(r){return new(r||n)($(Ai),$(pr),$(Mt),$(tE),$(Ri),$(bs))};static \u0275dir=je({type:n,selectors:[["","pTooltip",""]],hostAttrs:[1,"p-element"],hostBindings:function(r,i){1&r&&Le("keydown.escape",function(o){return i.onPressEscape(o)},0,ob)},inputs:{tooltipPosition:"tooltipPosition",tooltipEvent:"tooltipEvent",appendTo:"appendTo",positionStyle:"positionStyle",tooltipStyleClass:"tooltipStyleClass",tooltipZIndex:"tooltipZIndex",escape:"escape",showDelay:"showDelay",hideDelay:"hideDelay",life:"life",positionTop:"positionTop",positionLeft:"positionLeft",autoHide:"autoHide",fitContent:"fitContent",hideOnEscape:"hideOnEscape",content:["pTooltip","content"],disabled:["tooltipDisabled","disabled"],tooltipOptions:"tooltipOptions"},features:[$r]})}return n})(),m4=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=rn({type:n});static \u0275inj=nn({imports:[vo]})}return n})();const xne=["menubar"];function Mne(n,e){if(1&n&&We(0,"li",5),2&n){const t=Y().$implicit,r=Y();(function Bs(n){Hs(ex,yH,n,!1)})(r.getItemProp(t,"style")),Z("ngClass",r.getSeparatorItemClass(t)),at("id",r.getItemId(t))("data-pc-section","separator")}}function Nne(n,e){if(1&n&&We(0,"span",18),2&n){const t=Y(4).$implicit,r=Y();Z("ngClass",r.getItemProp(t,"icon"))("ngStyle",r.getItemProp(t,"iconStyle")),at("data-pc-section","icon")("aria-hidden",!0)("tabindex",-1)}}function One(n,e){if(1&n&&(K(0,"span",19),Ke(1),ne()),2&n){const t=Y(4).$implicit,r=Y();at("data-pc-section","label"),ce(1),tc(" ",r.getItemLabel(t)," ")}}function kne(n,e){if(1&n&&We(0,"span",20),2&n){const t=Y(4).$implicit;Z("innerHTML",Y().getItemLabel(t),kw),at("data-pc-section","label")}}function Lne(n,e){if(1&n&&(K(0,"span",21),Ke(1),ne()),2&n){const t=Y(4).$implicit,r=Y();Z("ngClass",r.getItemProp(t,"badgeStyleClass")),ce(1),Qo(r.getItemProp(t,"badge"))}}function Fne(n,e){1&n&&We(0,"AngleDownIcon",24),2&n&&(Z("styleClass","p-submenu-icon"),at("data-pc-section","submenuicon")("aria-hidden",!0))}function Vne(n,e){1&n&&We(0,"AngleRightIcon",24),2&n&&(Z("styleClass","p-submenu-icon"),at("data-pc-section","submenuicon")("aria-hidden",!0))}function Une(n,e){if(1&n&&(Vs(0),fe(1,Fne,1,3,"AngleDownIcon",23),fe(2,Vne,1,3,"AngleRightIcon",23),Us()),2&n){const t=Y(6);ce(1),Z("ngIf",t.root),ce(1),Z("ngIf",!t.root)}}function Bne(n,e){}function jne(n,e){1&n&&fe(0,Bne,0,0,"ng-template"),2&n&&Z("data-pc-section","submenuicon")("aria-hidden",!0)}function Hne(n,e){if(1&n&&(Vs(0),fe(1,Une,3,2,"ng-container",9),fe(2,jne,1,2,null,22),Us()),2&n){Y(5);const t=Fs(1);ce(1),Z("ngIf",!t.submenuIconTemplate),ce(1),Z("ngTemplateOutlet",t.submenuIconTemplate)}}const _4=function(n){return{"p-menuitem-link":!0,"p-disabled":n}};function $ne(n,e){if(1&n&&(K(0,"a",13),fe(1,Nne,1,5,"span",14),fe(2,One,2,2,"span",15),fe(3,kne,1,2,"ng-template",null,16,vy),fe(5,Lne,2,2,"span",17),fe(6,Hne,3,2,"ng-container",9),ne()),2&n){const t=Fs(4),r=Y(3).$implicit,i=Y();Z("target",i.getItemProp(r,"target"))("ngClass",lp(12,_4,i.getItemProp(r,"disabled"))),at("href",i.getItemProp(r,"url"),L_)("aria-hidden",!0)("data-automationid",i.getItemProp(r,"automationId"))("data-pc-section","action")("tabindex",-1),ce(1),Z("ngIf",i.getItemProp(r,"icon")),ce(1),Z("ngIf",i.getItemProp(r,"escape"))("ngIfElse",t),ce(3),Z("ngIf",i.getItemProp(r,"badge")),ce(1),Z("ngIf",i.isItemGroup(r))}}function zne(n,e){if(1&n&&We(0,"span",18),2&n){const t=Y(4).$implicit,r=Y();Z("ngClass",r.getItemProp(t,"icon"))("ngStyle",r.getItemProp(t,"iconStyle")),at("data-pc-section","icon")("aria-hidden",!0)("tabindex",-1)}}function qne(n,e){if(1&n&&(K(0,"span",19),Ke(1),ne()),2&n){const t=Y(4).$implicit,r=Y();ce(1),Qo(r.getItemLabel(t))}}function Gne(n,e){if(1&n&&We(0,"span",20),2&n){const t=Y(4).$implicit;Z("innerHTML",Y().getItemLabel(t),kw),at("data-pc-section","label")}}function Wne(n,e){if(1&n&&(K(0,"span",21),Ke(1),ne()),2&n){const t=Y(4).$implicit,r=Y();Z("ngClass",r.getItemProp(t,"badgeStyleClass")),ce(1),Qo(r.getItemProp(t,"badge"))}}function Kne(n,e){1&n&&We(0,"AngleDownIcon",24),2&n&&(Z("styleClass","p-submenu-icon"),at("data-pc-section","submenuicon")("aria-hidden",!0))}function Zne(n,e){1&n&&We(0,"AngleRightIcon",24),2&n&&(Z("styleClass","p-submenu-icon"),at("data-pc-section","submenuicon")("aria-hidden",!0))}function Qne(n,e){if(1&n&&(Vs(0),fe(1,Kne,1,3,"AngleDownIcon",23),fe(2,Zne,1,3,"AngleRightIcon",23),Us()),2&n){const t=Y(6);ce(1),Z("ngIf",t.root),ce(1),Z("ngIf",!t.root)}}function Yne(n,e){}function Jne(n,e){1&n&&fe(0,Yne,0,0,"ng-template"),2&n&&Z("data-pc-section","submenuicon")("aria-hidden",!0)}function Xne(n,e){if(1&n&&(Vs(0),fe(1,Qne,3,2,"ng-container",9),fe(2,Jne,1,2,null,22),Us()),2&n){Y(5);const t=Fs(1);ce(1),Z("ngIf",!t.submenuIconTemplate),ce(1),Z("ngTemplateOutlet",t.submenuIconTemplate)}}const ere=function(){return{exact:!1}};function tre(n,e){if(1&n&&(K(0,"a",25),fe(1,zne,1,5,"span",14),fe(2,qne,2,1,"span",15),fe(3,Gne,1,2,"ng-template",null,26,vy),fe(5,Wne,2,2,"span",17),fe(6,Xne,3,2,"ng-container",9),ne()),2&n){const t=Fs(4),r=Y(3).$implicit,i=Y();Z("routerLink",i.getItemProp(r,"routerLink"))("queryParams",i.getItemProp(r,"queryParams"))("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",i.getItemProp(r,"routerLinkActiveOptions")||function oM(n,e,t){const r=dr()+n,i=re();return i[r]===ot?_o(i,r,t?e.call(t):e()):function Zf(n,e){return n[e]}(i,r)}(21,ere))("target",i.getItemProp(r,"target"))("ngClass",lp(22,_4,i.getItemProp(r,"disabled")))("fragment",i.getItemProp(r,"fragment"))("queryParamsHandling",i.getItemProp(r,"queryParamsHandling"))("preserveFragment",i.getItemProp(r,"preserveFragment"))("skipLocationChange",i.getItemProp(r,"skipLocationChange"))("replaceUrl",i.getItemProp(r,"replaceUrl"))("state",i.getItemProp(r,"state")),at("data-automationid",i.getItemProp(r,"automationId"))("tabindex",-1)("aria-hidden",!0)("data-pc-section","action"),ce(1),Z("ngIf",i.getItemProp(r,"icon")),ce(1),Z("ngIf",i.getItemProp(r,"escape"))("ngIfElse",t),ce(3),Z("ngIf",i.getItemProp(r,"badge")),ce(1),Z("ngIf",i.isItemGroup(r))}}function nre(n,e){if(1&n&&(Vs(0),fe(1,$ne,7,14,"a",11),fe(2,tre,7,24,"a",12),Us()),2&n){const t=Y(2).$implicit,r=Y();ce(1),Z("ngIf",!r.getItemProp(t,"routerLink")),ce(1),Z("ngIf",r.getItemProp(t,"routerLink"))}}function rre(n,e){}function ire(n,e){1&n&&fe(0,rre,0,0,"ng-template")}const sre=function(n){return{$implicit:n}};function ore(n,e){if(1&n&&(Vs(0),fe(1,ire,1,0,null,27),Us()),2&n){const t=Y(2).$implicit,r=Y();ce(1),Z("ngTemplateOutlet",r.itemTemplate)("ngTemplateOutletContext",lp(2,sre,t.item))}}function are(n,e){if(1&n){const t=Wt();K(0,"p-menubarSub",28),Le("itemClick",function(i){return Xe(t),et(Y(3).itemClick.emit(i))})("itemMouseEnter",function(i){return Xe(t),et(Y(3).onItemMouseEnter(i))}),ne()}if(2&n){const t=Y(2).$implicit,r=Y();Z("itemTemplate",r.itemTemplate)("items",t.items)("mobileActive",r.mobileActive)("autoDisplay",r.autoDisplay)("menuId",r.menuId)("activeItemPath",r.activeItemPath)("focusedItemId",r.focusedItemId)("level",r.level+1)}}function lre(n,e){if(1&n){const t=Wt();K(0,"li",6,7)(2,"div",8),Le("click",function(i){Xe(t);const s=Y().$implicit;return et(Y().onItemClick(i,s))})("mouseenter",function(i){Xe(t);const s=Y().$implicit;return et(Y().onItemMouseEnter({$event:i,processedItem:s}))}),fe(3,nre,3,2,"ng-container",9),fe(4,ore,2,4,"ng-container",9),ne(),fe(5,are,1,8,"p-menubarSub",10),ne()}if(2&n){const t=Y(),r=t.$implicit,i=t.index,s=Y();ws(s.getItemProp(r,"styleClass")),Z("ngStyle",s.getItemProp(r,"style"))("ngClass",s.getItemClass(r))("tooltipOptions",s.getItemProp(r,"tooltipOptions")),at("id",s.getItemId(r))("data-pc-section","menuitem")("data-p-highlight",s.isItemActive(r))("data-p-focused",s.isItemFocused(r))("data-p-disabled",s.isItemDisabled(r))("aria-label",s.getItemLabel(r))("aria-disabled",s.isItemDisabled(r)||void 0)("aria-haspopup",s.isItemGroup(r)&&!s.getItemProp(r,"to")?"menu":void 0)("aria-expanded",s.isItemGroup(r)?s.isItemActive(r):void 0)("aria-level",s.level+1)("aria-setsize",s.getAriaSetSize())("aria-posinset",s.getAriaPosInset(i)),ce(2),at("data-pc-section","content"),ce(1),Z("ngIf",!s.itemTemplate),ce(1),Z("ngIf",s.itemTemplate),ce(1),Z("ngIf",s.isItemVisible(r)&&s.isItemGroup(r))}}function cre(n,e){if(1&n&&(fe(0,Mne,1,5,"li",3),fe(1,lre,6,21,"li",4)),2&n){const t=e.$implicit,r=Y();Z("ngIf",r.isItemVisible(t)&&r.getItemProp(t,"separator")),ce(1),Z("ngIf",r.isItemVisible(t)&&!r.getItemProp(t,"separator"))}}const ure=function(n,e){return{"p-submenu-list":n,"p-menubar-root-list":e}},dre=["menubutton"],hre=["rootmenu"];function fre(n,e){1&n&&Xf(0)}function pre(n,e){if(1&n&&(K(0,"div",7),fe(1,fre,1,0,"ng-container",8),ne()),2&n){const t=Y();ce(1),Z("ngTemplateOutlet",t.startTemplate)}}function gre(n,e){1&n&&We(0,"BarsIcon")}function mre(n,e){}function _re(n,e){1&n&&fe(0,mre,0,0,"ng-template")}function yre(n,e){if(1&n){const t=Wt();K(0,"a",9,10),Le("click",function(i){return Xe(t),et(Y().menuButtonClick(i))})("keydown",function(i){return Xe(t),et(Y().menuButtonKeydown(i))}),fe(2,gre,1,0,"BarsIcon",11),fe(3,_re,1,0,null,8),ne()}if(2&n){const t=Y();at("aria-haspopup",!!(t.model.length&&t.model.length>0))("aria-expanded",t.mobileActive)("aria-controls",t.id)("aria-label",t.config.translation.aria.navigation)("data-pc-section","button"),ce(2),Z("ngIf",!t.menuIconTemplate),ce(1),Z("ngTemplateOutlet",t.menuIconTemplate)}}function vre(n,e){1&n&&Xf(0)}function Ire(n,e){if(1&n&&(K(0,"div",12),fe(1,vre,1,0,"ng-container",8),ne()),2&n){const t=Y();ce(1),Z("ngTemplateOutlet",t.endTemplate)}}function Ere(n,e){1&n&&(K(0,"div",12),ly(1),ne())}const wre=function(n){return{"p-menubar p-component":!0,"p-menubar-mobile-active":n}},bre=["*"];let eA=(()=>{class n{autoHide;autoHideDelay;mouseLeaves=new q;mouseLeft$=this.mouseLeaves.pipe(function Pne(n){return ee((e,t)=>{let r=!1,i=null,s=null;const o=()=>{if(s?.unsubscribe(),s=null,r){r=!1;const a=i;i=null,t.next(a)}};e.subscribe(pe(t,a=>{s?.unsubscribe(),r=!0,i=a,s=pe(t,o,Re),Tt(n(a)).subscribe(s)},()=>{o(),t.complete()},void 0,()=>{i=s=null}))})}(()=>function Rne(n=0,e=hv){return n<0&&(n=0),function Ane(n=0,e,t=gK){let r=-1;return null!=e&&(Sn(e)?t=e:r=e),new lt(i=>{let s=function Dne(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let o=0;return t.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}(n,n,e)}(this.autoHideDelay)),Ki(t=>this.autoHide&&t));static \u0275fac=function(r){return new(r||n)};static \u0275prov=Te({token:n,factory:n.\u0275fac})}return n})(),Tre=(()=>{class n{el;renderer;cd;menubarService;items;itemTemplate;root=!1;autoZIndex=!0;baseZIndex=0;mobileActive;autoDisplay;menuId;ariaLabel;ariaLabelledBy;level=0;focusedItemId;activeItemPath;itemClick=new Vt;itemMouseEnter=new Vt;menuFocus=new Vt;menuBlur=new Vt;menuKeydown=new Vt;menubarViewChild;mouseLeaveSubscriber;constructor(t,r,i,s){this.el=t,this.renderer=r,this.cd=i,this.menubarService=s}ngOnInit(){this.mouseLeaveSubscriber=this.menubarService.mouseLeft$.subscribe(()=>{this.cd.markForCheck()})}onItemClick(t,r){this.getItemProp(r,"command",{originalEvent:t,item:r.item}),this.itemClick.emit({originalEvent:t,processedItem:r,isFocus:!0})}getItemProp(t,r,i=null){return t&&t.item?er.getItemValue(t.item[r],i):void 0}getItemId(t){return t.item&&t.item?.id?t.item.id:`${this.menuId}_${t.key}`}getItemKey(t){return this.getItemId(t)}getItemClass(t){return{...this.getItemProp(t,"class"),"p-menuitem":!0,"p-highlight":this.isItemActive(t),"p-menuitem-active":this.isItemActive(t),"p-focus":this.isItemFocused(t),"p-disabled":this.isItemDisabled(t)}}getItemLabel(t){return this.getItemProp(t,"label")}getSeparatorItemClass(t){return{...this.getItemProp(t,"class"),"p-menuitem-separator":!0}}isItemVisible(t){return!1!==this.getItemProp(t,"visible")}isItemActive(t){if(this.activeItemPath)return this.activeItemPath.some(r=>r.key===t.key)}isItemDisabled(t){return this.getItemProp(t,"disabled")}isItemFocused(t){return this.focusedItemId===this.getItemId(t)}isItemGroup(t){return er.isNotEmpty(t.items)}getAriaSetSize(){return this.items.filter(t=>this.isItemVisible(t)&&!this.getItemProp(t,"separator")).length}getAriaPosInset(t){return t-this.items.slice(0,t).filter(r=>this.isItemVisible(r)&&this.getItemProp(r,"separator")).length+1}onItemMouseLeave(){this.menubarService.mouseLeaves.next(!0)}onItemMouseEnter(t){if(this.autoDisplay){this.menubarService.mouseLeaves.next(!1);const{event:r,processedItem:i}=t;this.itemMouseEnter.emit({originalEvent:r,processedItem:i})}}ngOnDestroy(){this.mouseLeaveSubscriber?.unsubscribe()}static \u0275fac=function(r){return new(r||n)($(pr),$(Ri),$(Xo),$(eA))};static \u0275cmp=kn({type:n,selectors:[["p-menubarSub"]],viewQuery:function(r,i){if(1&r&&ic(xne,7),2&r){let s;zs(s=qs())&&(i.menubarViewChild=s.first)}},hostAttrs:[1,"p-element"],inputs:{items:"items",itemTemplate:"itemTemplate",root:"root",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",mobileActive:"mobileActive",autoDisplay:"autoDisplay",menuId:"menuId",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",level:"level",focusedItemId:"focusedItemId",activeItemPath:"activeItemPath"},outputs:{itemClick:"itemClick",itemMouseEnter:"itemMouseEnter",menuFocus:"menuFocus",menuBlur:"menuBlur",menuKeydown:"menuKeydown"},decls:3,vars:11,consts:[["role","menu",3,"ngClass","tabindex","focus","blur","keydown"],["menubar",""],["ngFor","",3,"ngForOf"],["role","separator",3,"style","ngClass",4,"ngIf"],["role","menuitem","pTooltip","",3,"ngStyle","ngClass","class","tooltipOptions",4,"ngIf"],["role","separator",3,"ngClass"],["role","menuitem","pTooltip","",3,"ngStyle","ngClass","tooltipOptions"],["listItem",""],[1,"p-menuitem-content",3,"click","mouseenter"],[4,"ngIf"],[3,"itemTemplate","items","mobileActive","autoDisplay","menuId","activeItemPath","focusedItemId","level","itemClick","itemMouseEnter",4,"ngIf"],["pRipple","",3,"target","ngClass",4,"ngIf"],["pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state",4,"ngIf"],["pRipple","",3,"target","ngClass"],["class","p-menuitem-icon",3,"ngClass","ngStyle",4,"ngIf"],["class","p-menuitem-text",4,"ngIf","ngIfElse"],["htmlLabel",""],["class","p-menuitem-badge",3,"ngClass",4,"ngIf"],[1,"p-menuitem-icon",3,"ngClass","ngStyle"],[1,"p-menuitem-text"],[1,"p-menuitem-text",3,"innerHTML"],[1,"p-menuitem-badge",3,"ngClass"],[4,"ngTemplateOutlet"],[3,"styleClass",4,"ngIf"],[3,"styleClass"],["pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state"],["htmlRouteLabel",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"itemTemplate","items","mobileActive","autoDisplay","menuId","activeItemPath","focusedItemId","level","itemClick","itemMouseEnter"]],template:function(r,i){1&r&&(K(0,"ul",0,1),Le("focus",function(o){return i.menuFocus.emit(o)})("blur",function(o){return i.menuBlur.emit(o)})("keydown",function(o){return i.menuKeydown.emit(o)}),fe(2,cre,2,2,"ng-template",2),ne()),2&r&&(Z("ngClass",gy(8,ure,!i.root,i.root))("tabindex",0),at("data-pc-section","menu")("aria-label",i.ariaLabel)("aria-labelledBy",i.ariaLabelledBy)("id",i.menuId)("aria-activedescendant",i.focusedItemId),ce(2),Z("ngForOf",i.items))},dependencies:function(){return[gd,AT,ra,yp,_p,cv,fk,g4,Sne,h4,f4,n]},encapsulation:2})}return n})(),Cre=(()=>{class n{document;platformId;el;renderer;cd;config;menubarService;set model(t){this._model=t,this._processedItems=this.createProcessedItems(this._model||[])}get model(){return this._model}style;styleClass;autoZIndex=!0;baseZIndex=0;autoDisplay=!0;autoHide;autoHideDelay=100;id;ariaLabel;ariaLabelledBy;onFocus=new Vt;onBlur=new Vt;templates;menubutton;rootmenu;startTemplate;endTemplate;menuIconTemplate;submenuIconTemplate;itemTemplate;mobileActive;outsideClickListener;resizeListener;mouseLeaveSubscriber;dirty=!1;focused=!1;activeItemPath=tf([]);number=tf(0);focusedItemInfo=tf({index:-1,level:0,parentKey:"",item:null});searchValue="";searchTimeout;_processedItems;_model;get visibleItems(){const t=this.activeItemPath().find(r=>r.key===this.focusedItemInfo().parentKey);return t?t.items:this.processedItems}get processedItems(){return(!this._processedItems||!this._processedItems.length)&&(this._processedItems=this.createProcessedItems(this.model||[])),this._processedItems}get focusedItemId(){const t=this.focusedItemInfo();return t.item&&t.item?.id?t.item.id:-1!==t.index?`${this.id}${er.isNotEmpty(t.parentKey)?"_"+t.parentKey:""}_${t.index}`:null}constructor(t,r,i,s,o,a,l){this.document=t,this.platformId=r,this.el=i,this.renderer=s,this.cd=o,this.config=a,this.menubarService=l,tP(()=>{const c=this.activeItemPath();er.isNotEmpty(c)?(this.bindOutsideClickListener(),this.bindResizeListener()):(this.unbindOutsideClickListener(),this.unbindResizeListener())})}ngOnInit(){this.menubarService.autoHide=this.autoHide,this.menubarService.autoHideDelay=this.autoHideDelay,this.mouseLeaveSubscriber=this.menubarService.mouseLeft$.subscribe(()=>this.unbindOutsideClickListener()),this.id=this.id||JD()}ngAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"start":this.startTemplate=t.template;break;case"end":this.endTemplate=t.template;break;case"menuicon":this.menuIconTemplate=t.template;break;case"submenuicon":this.submenuIconTemplate=t.template;break;default:this.itemTemplate=t.template}})}createProcessedItems(t,r=0,i={},s=""){const o=[];return t&&t.forEach((a,l)=>{const c=(""!==s?s+"_":"")+l,h={item:a,index:l,level:r,key:c,parent:i,parentKey:s};h.items=this.createProcessedItems(a.items,r+1,h,c),o.push(h)}),o}getItemProp(t,r){return t?er.getItemValue(t[r]):void 0}menuButtonClick(t){this.toggle(t)}menuButtonKeydown(t){("Enter"===t.code||"Space"===t.code)&&this.menuButtonClick(t)}onItemClick(t){const{originalEvent:r,processedItem:i}=t,s=this.isProcessedItemGroup(i),o=er.isEmpty(i.parent);if(this.isSelected(i)){const{index:l,key:c,level:h,parentKey:g,item:m}=i;this.activeItemPath.set(this.activeItemPath().filter(y=>c!==y.key&&c.startsWith(y.key))),this.focusedItemInfo.set({index:l,level:h,parentKey:g,item:m}),this.dirty=!o,Ve.focus(this.rootmenu.menubarViewChild.nativeElement)}else if(s)this.onItemChange(t);else{const l=o?i:this.activeItemPath().find(c=>""===c.parentKey);this.hide(r),this.changeFocusedItemIndex(r,l?l.index:-1),this.mobileActive=!1,Ve.focus(this.rootmenu.menubarViewChild.nativeElement)}}onItemMouseEnter(t){Ve.isTouchDevice()||this.mobileActive||this.onItemChange(t)}changeFocusedItemIndex(t,r){const i=this.findVisibleItem(r);this.focusedItemInfo().index!==r&&(this.focusedItemInfo.mutate(s=>{s.index=r,s.item=i.item}),this.scrollInView())}scrollInView(t=-1){const i=Ve.findSingle(this.rootmenu.el.nativeElement,`li[id="${-1!==t?`${this.id}_${t}`:this.focusedItemId}"]`);i&&i.scrollIntoView&&i.scrollIntoView({block:"nearest",inline:"nearest"})}onItemChange(t){const{processedItem:r,isFocus:i}=t;if(er.isEmpty(r))return;const{index:s,key:o,level:a,parentKey:l,items:c,item:h}=r,g=er.isNotEmpty(c),m=this.activeItemPath().filter(y=>y.parentKey!==l&&y.parentKey!==o);g&&m.push(r),this.focusedItemInfo.set({index:s,level:a,parentKey:l,item:h}),this.activeItemPath.set(m),g&&(this.dirty=!0),i&&Ve.focus(this.rootmenu.menubarViewChild.nativeElement)}toggle(t){this.mobileActive?(this.mobileActive=!1,yl.clear(this.rootmenu.el.nativeElement),this.hide()):(this.mobileActive=!0,yl.set("menu",this.rootmenu.el.nativeElement,this.config.zIndex.menu),setTimeout(()=>{this.show()},0)),this.cd.markForCheck(),this.bindOutsideClickListener(),t.preventDefault()}hide(t,r){this.mobileActive&&setTimeout(()=>{Ve.focus(this.menubutton.nativeElement)},0),this.activeItemPath.set([]),this.focusedItemInfo.set({index:-1,level:0,parentKey:"",item:null}),r&&Ve.focus(this.rootmenu.menubarViewChild.nativeElement),this.dirty=!1}show(){const t=this.findVisibleItem(this.findFirstFocusedItemIndex());this.focusedItemInfo.set({index:this.findFirstFocusedItemIndex(),level:0,parentKey:"",item:t.item}),Ve.focus(this.rootmenu.menubarViewChild.nativeElement)}onMenuFocus(t){this.focused=!0;const r=this.findVisibleItem(this.findFirstFocusedItemIndex()),i=-1!==this.focusedItemInfo().index?this.focusedItemInfo():{index:this.findFirstFocusedItemIndex(),level:0,parentKey:"",item:r.item};this.focusedItemInfo.set(i),this.onFocus.emit(t)}onMenuBlur(t){this.focused=!1,this.focusedItemInfo.set({index:-1,level:0,parentKey:"",item:null}),this.searchValue="",this.dirty=!1,this.onBlur.emit(t)}onKeyDown(t){const r=t.metaKey||t.ctrlKey;switch(t.code){case"ArrowDown":this.onArrowDownKey(t);break;case"ArrowUp":this.onArrowUpKey(t);break;case"ArrowLeft":this.onArrowLeftKey(t);break;case"ArrowRight":this.onArrowRightKey(t);break;case"Home":this.onHomeKey(t);break;case"End":this.onEndKey(t);break;case"Space":this.onSpaceKey(t);break;case"Enter":this.onEnterKey(t);break;case"Escape":this.onEscapeKey(t);break;case"Tab":this.onTabKey(t);break;case"PageDown":case"PageUp":case"Backspace":case"ShiftLeft":case"ShiftRight":break;default:!r&&er.isPrintableCharacter(t.key)&&this.searchItems(t,t.key)}}findVisibleItem(t){return er.isNotEmpty(this.visibleItems)?this.visibleItems[t]:null}findFirstFocusedItemIndex(){const t=this.findSelectedItemIndex();return t<0?this.findFirstItemIndex():t}findFirstItemIndex(){return this.visibleItems.findIndex(t=>this.isValidItem(t))}findSelectedItemIndex(){return this.visibleItems.findIndex(t=>this.isValidSelectedItem(t))}isProcessedItemGroup(t){return t&&er.isNotEmpty(t.items)}isSelected(t){return this.activeItemPath().some(r=>r.key===t.key)}isValidSelectedItem(t){return this.isValidItem(t)&&this.isSelected(t)}isValidItem(t){return!!t&&!this.isItemDisabled(t.item)&&!this.isItemSeparator(t.item)}isItemDisabled(t){return this.getItemProp(t,"disabled")}isItemSeparator(t){return this.getItemProp(t,"separator")}isItemMatched(t){return this.isValidItem(t)&&this.getProccessedItemLabel(t).toLocaleLowerCase().startsWith(this.searchValue.toLocaleLowerCase())}isProccessedItemGroup(t){return t&&er.isNotEmpty(t.items)}searchItems(t,r){this.searchValue=(this.searchValue||"")+r;let i=-1,s=!1;return-1!==this.focusedItemInfo().index?(i=this.visibleItems.slice(this.focusedItemInfo().index).findIndex(o=>this.isItemMatched(o)),i=-1===i?this.visibleItems.slice(0,this.focusedItemInfo().index).findIndex(o=>this.isItemMatched(o)):i+this.focusedItemInfo().index):i=this.visibleItems.findIndex(o=>this.isItemMatched(o)),-1!==i&&(s=!0),-1===i&&-1===this.focusedItemInfo().index&&(i=this.findFirstFocusedItemIndex()),-1!==i&&this.changeFocusedItemIndex(t,i),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),s}getProccessedItemLabel(t){return t?this.getItemLabel(t.item):void 0}getItemLabel(t){return this.getItemProp(t,"label")}onArrowDownKey(t){const r=this.visibleItems[this.focusedItemInfo().index];if(r&&er.isEmpty(r.parent))this.isProccessedItemGroup(r)&&(this.onItemChange({originalEvent:t,processedItem:r}),this.focusedItemInfo.set({index:-1,parentKey:r.key,item:r.item}),this.onArrowRightKey(t));else{const s=-1!==this.focusedItemInfo().index?this.findNextItemIndex(this.focusedItemInfo().index):this.findFirstFocusedItemIndex();this.changeFocusedItemIndex(t,s),t.preventDefault()}}onArrowRightKey(t){const r=this.visibleItems[this.focusedItemInfo().index];if(r&&this.activeItemPath().find(s=>s.key===r.parentKey))this.isProccessedItemGroup(r)&&(this.onItemChange({originalEvent:t,processedItem:r}),this.focusedItemInfo.set({index:-1,parentKey:r.key,item:r.item}),this.onArrowDownKey(t));else{const s=-1!==this.focusedItemInfo().index?this.findNextItemIndex(this.focusedItemInfo().index):this.findFirstFocusedItemIndex();this.changeFocusedItemIndex(t,s),t.preventDefault()}}onArrowUpKey(t){const r=this.visibleItems[this.focusedItemInfo().index];if(er.isEmpty(r.parent)){if(this.isProccessedItemGroup(r)){this.onItemChange({originalEvent:t,processedItem:r}),this.focusedItemInfo.set({index:-1,parentKey:r.key,item:r.item});const o=this.findLastItemIndex();this.changeFocusedItemIndex(t,o)}}else{const s=this.activeItemPath().find(o=>o.key===r.parentKey);if(0===this.focusedItemInfo().index){this.focusedItemInfo.set({index:-1,parentKey:s?s.parentKey:"",item:r.item}),this.searchValue="",this.onArrowLeftKey(t);const o=this.activeItemPath().filter(a=>a.parentKey!==this.focusedItemInfo().parentKey);this.activeItemPath.set(o)}else{const o=-1!==this.focusedItemInfo().index?this.findPrevItemIndex(this.focusedItemInfo().index):this.findLastFocusedItemIndex();this.changeFocusedItemIndex(t,o)}}t.preventDefault()}onArrowLeftKey(t){const r=this.visibleItems[this.focusedItemInfo().index],i=r?this.activeItemPath().find(s=>s.key===r.parentKey):null;if(i){this.onItemChange({originalEvent:t,processedItem:i});const s=this.activeItemPath().filter(o=>o.parentKey!==this.focusedItemInfo().parentKey);this.activeItemPath.set(s),t.preventDefault()}else{const s=-1!==this.focusedItemInfo().index?this.findPrevItemIndex(this.focusedItemInfo().index):this.findLastFocusedItemIndex();this.changeFocusedItemIndex(t,s),t.preventDefault()}}onHomeKey(t){this.changeFocusedItemIndex(t,this.findFirstItemIndex()),t.preventDefault()}onEndKey(t){this.changeFocusedItemIndex(t,this.findLastItemIndex()),t.preventDefault()}onSpaceKey(t){this.onEnterKey(t)}onEscapeKey(t){this.hide(t,!0),this.focusedItemInfo().index=this.findFirstFocusedItemIndex(),t.preventDefault()}onTabKey(t){if(-1!==this.focusedItemInfo().index){const r=this.visibleItems[this.focusedItemInfo().index];!this.isProccessedItemGroup(r)&&this.onItemChange({originalEvent:t,processedItem:r})}this.hide()}onEnterKey(t){if(-1!==this.focusedItemInfo().index){const r=Ve.findSingle(this.rootmenu.el.nativeElement,`li[id="${this.focusedItemId}"]`),i=r&&Ve.findSingle(r,'a[data-pc-section="action"]');i?i.click():r&&r.click();const s=this.visibleItems[this.focusedItemInfo().index];!this.isProccessedItemGroup(s)&&(this.focusedItemInfo().index=this.findFirstFocusedItemIndex())}t.preventDefault()}findLastFocusedItemIndex(){const t=this.findSelectedItemIndex();return t<0?this.findLastItemIndex():t}findLastItemIndex(){return er.findLastIndex(this.visibleItems,t=>this.isValidItem(t))}findPrevItemIndex(t){const r=t>0?er.findLastIndex(this.visibleItems.slice(0,t),i=>this.isValidItem(i)):-1;return r>-1?r:t}findNextItemIndex(t){const r=t<this.visibleItems.length-1?this.visibleItems.slice(t+1).findIndex(i=>this.isValidItem(i)):-1;return r>-1?r+t+1:t}bindResizeListener(){lc(this.platformId)&&(this.resizeListener||(this.resizeListener=this.renderer.listen(this.document.defaultView,"resize",t=>{Ve.isTouchDevice()||this.hide(t,!0),this.mobileActive=!1})))}bindOutsideClickListener(){lc(this.platformId)&&(this.outsideClickListener||(this.outsideClickListener=this.renderer.listen(this.document,"click",t=>{const r=this.rootmenu.el.nativeElement!==t.target&&!this.rootmenu.el.nativeElement.contains(t.target),i=this.mobileActive&&this.menubutton.nativeElement!==t.target&&!this.menubutton.nativeElement.contains(t.target);r&&(i?this.mobileActive=!1:this.hide())})))}unbindOutsideClickListener(){this.outsideClickListener&&(this.outsideClickListener(),this.outsideClickListener=null)}unbindResizeListener(){this.resizeListener&&(this.resizeListener(),this.resizeListener=null)}ngOnDestroy(){this.mouseLeaveSubscriber?.unsubscribe(),this.unbindOutsideClickListener(),this.unbindResizeListener()}static \u0275fac=function(r){return new(r||n)($(Ir),$(Ai),$(pr),$(Ri),$(Xo),$(tE),$(eA))};static \u0275cmp=kn({type:n,selectors:[["p-menubar"]],contentQueries:function(r,i,s){if(1&r&&dp(s,nE,4),2&r){let o;zs(o=qs())&&(i.templates=o)}},viewQuery:function(r,i){if(1&r&&(ic(dre,5),ic(hre,5)),2&r){let s;zs(s=qs())&&(i.menubutton=s.first),zs(s=qs())&&(i.rootmenu=s.first)}},hostAttrs:[1,"p-element"],inputs:{model:"model",style:"style",styleClass:"styleClass",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",autoDisplay:"autoDisplay",autoHide:"autoHide",autoHideDelay:"autoHideDelay",id:"id",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy"},outputs:{onFocus:"onFocus",onBlur:"onBlur"},features:[un([eA])],ngContentSelectors:bre,decls:8,vars:24,consts:[[3,"ngClass","ngStyle"],["class","p-menubar-start",4,"ngIf"],["tabindex","0","role","button","class","p-menubar-button",3,"click","keydown",4,"ngIf"],[3,"items","itemTemplate","menuId","root","baseZIndex","autoZIndex","mobileActive","autoDisplay","ariaLabel","ariaLabelledBy","focusedItemId","activeItemPath","itemClick","menuFocus","menuBlur","menuKeydown","itemMouseEnter"],["rootmenu",""],["class","p-menubar-end",4,"ngIf","ngIfElse"],["legacy",""],[1,"p-menubar-start"],[4,"ngTemplateOutlet"],["tabindex","0","role","button",1,"p-menubar-button",3,"click","keydown"],["menubutton",""],[4,"ngIf"],[1,"p-menubar-end"]],template:function(r,i){if(1&r&&(ay(),K(0,"div",0),fe(1,pre,2,1,"div",1),fe(2,yre,4,7,"a",2),K(3,"p-menubarSub",3,4),Le("itemClick",function(o){return i.onItemClick(o)})("menuFocus",function(o){return i.onMenuFocus(o)})("menuBlur",function(o){return i.onMenuBlur(o)})("menuKeydown",function(o){return i.onKeyDown(o)})("itemMouseEnter",function(o){return i.onItemMouseEnter(o)}),ne(),fe(5,Ire,2,1,"div",5),fe(6,Ere,2,0,"ng-template",null,6,vy),ne()),2&r){const s=Fs(7);ws(i.styleClass),Z("ngClass",lp(22,wre,i.mobileActive))("ngStyle",i.style),at("data-pc-section","root")("data-pc-name","menubar"),ce(1),Z("ngIf",i.startTemplate),ce(1),Z("ngIf",i.model&&i.model.length>0),ce(1),Z("items",i.processedItems)("itemTemplate",i.itemTemplate)("menuId",i.id)("root",!0)("baseZIndex",i.baseZIndex)("autoZIndex",i.autoZIndex)("mobileActive",i.mobileActive)("autoDisplay",i.autoDisplay)("ariaLabel",i.ariaLabel)("ariaLabelledBy",i.ariaLabelledBy)("focusedItemId",i.focused?i.focusedItemId:void 0)("activeItemPath",i.activeItemPath()),ce(2),Z("ngIf",i.endTemplate)("ngIfElse",s)}},dependencies:function(){return[gd,ra,yp,_p,p4,Tre]},styles:["@layer primeng{.p-menubar{display:flex;align-items:center}.p-menubar ul{margin:0;padding:0;list-style:none}.p-menubar .p-menuitem-link{cursor:pointer;display:flex;align-items:center;text-decoration:none;overflow:hidden;position:relative}.p-menubar .p-menuitem-text{line-height:1}.p-menubar .p-menuitem{position:relative}.p-menubar-root-list{display:flex;align-items:center;flex-wrap:wrap}.p-menubar-root-list>li ul{display:none;z-index:1}.p-menubar-root-list>.p-menuitem-active>p-menubarsub>.p-submenu-list{display:block}.p-menubar .p-submenu-list{display:none;position:absolute;z-index:2}.p-menubar .p-submenu-list>.p-menuitem-active>p-menubarsub>.p-submenu-list{display:block;left:100%;top:0}.p-menubar .p-submenu-list .p-menuitem-link .p-submenu-icon:not(svg){margin-left:auto}.p-menubar .p-menubar-root-list .p-icon-wrapper,.p-menubar .p-submenu-list .p-menuitem-link .p-icon-wrapper{margin-left:auto}.p-menubar .p-menubar-custom,.p-menubar .p-menubar-end{margin-left:auto;align-self:center}.p-menubar-button{display:none;cursor:pointer;align-items:center;justify-content:center}}\n"],encapsulation:2,changeDetection:0})}return n})(),Sre=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=rn({type:n});static \u0275inj=nn({imports:[vo,uv,XD,m4,_l,p4,h4,f4,uv,m4,_l]})}return n})(),Dre=(()=>{class n{el;ngModel;cd;filled;constructor(t,r,i){this.el=t,this.ngModel=r,this.cd=i}ngAfterViewInit(){this.updateFilledState(),this.cd.detectChanges()}ngDoCheck(){this.updateFilledState()}onInput(){this.updateFilledState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model}static \u0275fac=function(r){return new(r||n)($(pr),$(Bc,8),$(Xo))};static \u0275dir=je({type:n,selectors:[["","pInputText",""]],hostAttrs:[1,"p-inputtext","p-component","p-element"],hostVars:2,hostBindings:function(r,i){1&r&&Le("input",function(o){return i.onInput(o)}),2&r&&tp("p-filled",i.filled)}})}return n})(),Are=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=rn({type:n});static \u0275inj=nn({imports:[vo]})}return n})();class y4{}class Rre{}const ma="*";function Pre(n,e){return{type:7,name:n,definitions:e,options:{}}}function v4(n,e=null){return{type:4,styles:e,timings:n}}function I4(n,e=null){return{type:2,steps:n,options:e}}function om(n){return{type:6,styles:n,offset:null}}function tA(n,e,t){return{type:0,name:n,styles:e,options:t}}function E4(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}class am{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class w4{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}let b4=(()=>{class n extends Th{static \u0275fac=function(){let t;return function(i){return(t||(t=vn(n)))(i||n)}}();static \u0275cmp=kn({type:n,selectors:[["TimesIcon"]],standalone:!0,features:[Nt,Yo],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z","fill","currentColor"]],template:function(r,i){1&r&&(zo(),K(0,"svg",0),We(1,"path",1),ne()),2&r&&(ws(i.getClassNames()),at("aria-label",i.ariaLabel)("aria-hidden",i.ariaHidden)("role",i.role))},encapsulation:2})}return n})();function xre(n,e){1&n&&Xf(0)}function Mre(n,e){1&n&&We(0,"TimesIcon",8),2&n&&Z("styleClass","p-overlaypanel-close-icon")}function Nre(n,e){}function Ore(n,e){1&n&&fe(0,Nre,0,0,"ng-template")}function kre(n,e){if(1&n&&(K(0,"span",9),fe(1,Ore,1,0,null,3),ne()),2&n){const t=Y(3);ce(1),Z("ngTemplateOutlet",t.closeIconTemplate)}}function Lre(n,e){if(1&n){const t=Wt();K(0,"button",5),Le("click",function(i){return Xe(t),et(Y(2).onCloseClick(i))})("keydown.enter",function(){return Xe(t),et(Y(2).hide())}),fe(1,Mre,1,1,"TimesIcon",6),fe(2,kre,2,1,"span",7),ne()}if(2&n){const t=Y(2);at("aria-label",t.ariaCloseLabel),ce(1),Z("ngIf",!t.closeIconTemplate),ce(1),Z("ngIf",t.closeIconTemplate)}}const Fre=function(n,e){return{showTransitionParams:n,hideTransitionParams:e}},Vre=function(n,e){return{value:n,params:e}};function Ure(n,e){if(1&n){const t=Wt();K(0,"div",1),Le("click",function(i){return Xe(t),et(Y().onOverlayClick(i))})("@animation.start",function(i){return Xe(t),et(Y().onAnimationStart(i))})("@animation.done",function(i){return Xe(t),et(Y().onAnimationEnd(i))}),K(1,"div",2),Le("click",function(){return Xe(t),et(Y().onContentClick())})("mousedown",function(){return Xe(t),et(Y().onContentClick())}),ly(2),fe(3,xre,1,0,"ng-container",3),ne(),fe(4,Lre,3,3,"button",4),ne()}if(2&n){const t=Y();ws(t.styleClass),Z("ngClass","p-overlaypanel p-component")("ngStyle",t.style)("@animation",gy(11,Vre,t.overlayVisible?"open":"close",gy(8,Fre,t.showTransitionOptions,t.hideTransitionOptions))),at("aria-modal",t.overlayVisible),ce(3),Z("ngTemplateOutlet",t.contentTemplate),ce(1),Z("ngIf",t.showCloseIcon)}}const Bre=["*"];let jre=(()=>{class n{document;platformId;el;renderer;cd;zone;config;overlayService;dismissable=!0;showCloseIcon;style;styleClass;appendTo="body";autoZIndex=!0;ariaCloseLabel;baseZIndex=0;focusOnShow=!0;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";onShow=new Vt;onHide=new Vt;templates;container;overlayVisible=!1;render=!1;isOverlayAnimationInProgress=!1;selfClick=!1;documentClickListener;target;willHide;scrollHandler;documentResizeListener;contentTemplate;closeIconTemplate;destroyCallback;overlayEventListener;overlaySubscription;constructor(t,r,i,s,o,a,l,c){this.document=t,this.platformId=r,this.el=i,this.renderer=s,this.cd=o,this.zone=a,this.config=l,this.overlayService=c}ngAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"content":default:this.contentTemplate=t.template;break;case"closeicon":this.closeIconTemplate=t.template}this.cd.markForCheck()})}bindDocumentClickListener(){if(lc(this.platformId)&&!this.documentClickListener&&this.dismissable){let t=Ve.isIOS()?"touchstart":"click";this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:this.document,t,i=>{!this.container?.contains(i.target)&&this.target!==i.target&&!this.target.contains(i.target)&&this.hide(),this.cd.markForCheck()})}}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null,this.selfClick=!1)}toggle(t,r){this.isOverlayAnimationInProgress||(this.overlayVisible?(this.hasTargetChanged(t,r)&&(this.destroyCallback=()=>{this.show(null,r||t.currentTarget||t.target)}),this.hide()):this.show(t,r))}show(t,r){r&&t&&t.stopPropagation(),!this.isOverlayAnimationInProgress&&(this.target=r||t.currentTarget||t.target,this.overlayVisible=!0,this.render=!0,this.cd.markForCheck())}onOverlayClick(t){this.overlayService.add({originalEvent:t,target:this.el.nativeElement}),this.selfClick=!0}onContentClick(){this.selfClick=!0}hasTargetChanged(t,r){return null!=this.target&&this.target!==(r||t.currentTarget||t.target)}appendContainer(){this.appendTo&&("body"===this.appendTo?this.renderer.appendChild(this.document.body,this.container):Ve.appendChild(this.container,this.appendTo))}restoreAppend(){this.container&&this.appendTo&&this.renderer.appendChild(this.el.nativeElement,this.container)}align(){this.autoZIndex&&yl.set("overlay",this.container,this.baseZIndex+this.config.zIndex.overlay),Ve.absolutePosition(this.container,this.target);const t=Ve.getOffset(this.container),r=Ve.getOffset(this.target),i=this.document.defaultView?.getComputedStyle(this.container).getPropertyValue("border-radius");let s=0;t.left<r.left&&(s=r.left-t.left-2*parseFloat(i)),this.container?.style.setProperty("--overlayArrowLeft",`${s}px`),t.top<r.top&&(Ve.addClass(this.container,"p-overlaypanel-flipped"),this.showCloseIcon&&this.renderer.setStyle(this.container,"margin-top","-30px"))}onAnimationStart(t){"open"===t.toState&&(this.container=t.element,this.appendContainer(),this.align(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.focusOnShow&&this.focus(),this.overlayEventListener=r=>{this.container&&this.container.contains(r.target)&&(this.selfClick=!0)},this.overlaySubscription=this.overlayService.clickObservable.subscribe(this.overlayEventListener),this.onShow.emit(null)),this.isOverlayAnimationInProgress=!0}onAnimationEnd(t){switch(t.toState){case"void":this.destroyCallback&&(this.destroyCallback(),this.destroyCallback=null),this.overlaySubscription&&this.overlaySubscription.unsubscribe();break;case"close":this.autoZIndex&&yl.clear(this.container),this.overlaySubscription&&this.overlaySubscription.unsubscribe(),this.onContainerDestroy(),this.onHide.emit({}),this.render=!1}this.isOverlayAnimationInProgress=!1}focus(){let t=Ve.findSingle(this.container,"[autofocus]");t&&this.zone.runOutsideAngular(()=>{setTimeout(()=>t.focus(),5)})}hide(){this.overlayVisible=!1,this.cd.markForCheck()}onCloseClick(t){this.hide(),t.preventDefault()}onEscapeKeydown(t){this.hide()}onWindowResize(){this.overlayVisible&&!Ve.isTouchDevice()&&this.hide()}bindDocumentResizeListener(){lc(this.platformId)&&!this.documentResizeListener&&(this.documentResizeListener=this.renderer.listen(this.document.defaultView,"resize",this.onWindowResize.bind(this)))}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindScrollListener(){lc(this.platformId)&&(this.scrollHandler||(this.scrollHandler=new d4(this.target,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener())}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}onContainerDestroy(){this.cd.destroyed||(this.target=null),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener()}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.container&&this.autoZIndex&&yl.clear(this.container),this.cd.destroyed||(this.target=null),this.destroyCallback=null,this.container&&(this.restoreAppend(),this.onContainerDestroy()),this.overlaySubscription&&this.overlaySubscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)($(Ir),$(Ai),$(pr),$(Ri),$(Xo),$(Mt),$(tE),$(cne))};static \u0275cmp=kn({type:n,selectors:[["p-overlayPanel"]],contentQueries:function(r,i,s){if(1&r&&dp(s,nE,4),2&r){let o;zs(o=qs())&&(i.templates=o)}},hostAttrs:[1,"p-element"],hostBindings:function(r,i){1&r&&Le("keydown.escape",function(o){return i.onEscapeKeydown(o)},0,ob)},inputs:{dismissable:"dismissable",showCloseIcon:"showCloseIcon",style:"style",styleClass:"styleClass",appendTo:"appendTo",autoZIndex:"autoZIndex",ariaCloseLabel:"ariaCloseLabel",baseZIndex:"baseZIndex",focusOnShow:"focusOnShow",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onShow:"onShow",onHide:"onHide"},ngContentSelectors:Bre,decls:1,vars:1,consts:[["role","dialog",3,"ngClass","ngStyle","class","click",4,"ngIf"],["role","dialog",3,"ngClass","ngStyle","click"],[1,"p-overlaypanel-content",3,"click","mousedown"],[4,"ngTemplateOutlet"],["type","button","class","p-overlaypanel-close p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],["type","button","pRipple","",1,"p-overlaypanel-close","p-link",3,"click","keydown.enter"],[3,"styleClass",4,"ngIf"],["class","p-overlaypanel-close-icon",4,"ngIf"],[3,"styleClass"],[1,"p-overlaypanel-close-icon"]],template:function(r,i){1&r&&(ay(),fe(0,Ure,5,14,"div",0)),2&r&&Z("ngIf",i.render)},dependencies:function(){return[gd,ra,yp,_p,g4,b4]},styles:['@layer primeng{.p-overlaypanel{position:absolute;margin-top:10px;top:0;left:0}.p-overlaypanel-flipped{margin-top:0;margin-bottom:10px}.p-overlaypanel-close{display:flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-overlaypanel:after,.p-overlaypanel:before{bottom:100%;left:calc(var(--overlayArrowLeft, 0) + 1.25rem);content:" ";height:0;width:0;position:absolute;pointer-events:none}.p-overlaypanel:after{border-width:8px;margin-left:-8px}.p-overlaypanel:before{border-width:10px;margin-left:-10px}.p-overlaypanel-shifted:after,.p-overlaypanel-shifted:before{left:auto;right:1.25em;margin-left:auto}.p-overlaypanel-flipped:after,.p-overlaypanel-flipped:before{bottom:auto;top:100%}.p-overlaypanel.p-overlaypanel-flipped:after{border-bottom-color:transparent}.p-overlaypanel.p-overlaypanel-flipped:before{border-bottom-color:transparent}}\n'],encapsulation:2,data:{animation:[Pre("animation",[tA("void",om({transform:"scaleY(0.8)",opacity:0})),tA("close",om({opacity:0})),tA("open",om({transform:"translateY(0)",opacity:1})),E4("void => open",v4("{{showTransitionParams}}")),E4("open => close",v4("{{hideTransitionParams}}"))])]},changeDetection:0})}return n})(),Hre=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=rn({type:n});static \u0275inj=nn({imports:[vo,XD,_l,b4,_l]})}return n})();function $re(n,e){if(1&n){const t=Wt();We(0,"i",12),K(1,"span",13),Ke(2,"TasksBoard"),ne(),K(3,"span",14),We(4,"i",15),K(5,"input",16),Le("ngModelChange",function(i){return Xe(t),et(Y().searchValue=i)})("keyup.enter",function(){return Xe(t),et(Y().onEnterSearch())}),ne()()}if(2&n){const t=Y();ce(5),Z("ngModel",t.searchValue)}}function zre(n,e){if(1&n){const t=Wt();K(0,"i",23),Le("click",function(){return Xe(t),et(Y(2).darkMode())}),ne()}}function qre(n,e){if(1&n){const t=Wt();K(0,"i",24),Le("click",function(){return Xe(t),et(Y(2).darkMode())}),ne()}}function Gre(n,e){if(1&n){const t=Wt();K(0,"i",25),Le("click",function(i){return Xe(t),Y(),et(Fs(4).toggle(i))}),ne()}}function Wre(n,e){if(1&n){const t=Wt();K(0,"img",26),Le("click",function(i){return Xe(t),Y(),et(Fs(4).toggle(i))}),ne()}2&n&&Z("src",Y(2).photoURL,L_)}function Kre(n,e){if(1&n){const t=Wt();K(0,"div",17),fe(1,zre,1,0,"i",18),fe(2,qre,1,0,"i",19),K(3,"p-overlayPanel",null,20)(5,"button",6),Le("click",function(){return Xe(t),et(Y().logout())}),Ke(6," Logout"),ne(),K(7,"button",6),Le("click",function(){return Xe(t),et(Y().deleteAccount())}),Ke(8," Delete account"),ne()(),fe(9,Gre,1,0,"i",21),fe(10,Wre,1,1,"img",22),ne()}if(2&n){const t=Y();ce(1),Z("ngIf",!t.mode),ce(1),Z("ngIf",t.mode),ce(7),Z("ngIf",null==t.photoURL),ce(1),Z("ngIf",null!=t.photoURL)}}function Zre(n,e){if(1&n&&(K(0,"label",45),Ke(1),ne()),2&n){const t=Y(2).$implicit;ce(1),tc(" ",t.name," ")}}function Qre(n,e){if(1&n){const t=Wt();K(0,"div")(1,"input",46),Le("ngModelChange",function(i){return Xe(t),et(Y(4).taskLabelName=i)})("keyup.enter",function(){Xe(t);const i=Y(2).$implicit;return et(Y(2).onEnterCardLabel(i.id))}),ne()()}if(2&n){const t=Y(4);ce(1),Z("ngModel",t.taskLabelName)}}function Yre(n,e){if(1&n){const t=Wt();K(0,"input",47),Le("ngModelChange",function(i){return Xe(t),et(Y(4).addedTodo=i)})("keyup.enter",function(){Xe(t);const i=Y(2).$implicit;return et(Y(2).onEnterTodo(i.id))}),ne()}2&n&&Z("ngModel",Y(4).addedTodo)}function Jre(n,e){if(1&n){const t=Wt();K(0,"div",50)(1,"p-checkbox",51),Le("click",function(){Xe(t);const i=Y().$implicit;return et(Y(4).onCheckboxClick(i))}),ne(),K(2,"label",52),Ke(3),ne()()}if(2&n){const t=Y().$implicit;ce(1),Z("inputId",t.key),ce(1),Z("for",t.key),ce(1),Qo(t.name)}}function Xre(n,e){if(1&n&&(K(0,"div",48),fe(1,Jre,4,3,"div",49),ne()),2&n){const t=e.$implicit,r=Y(2).$implicit;ce(1),Z("ngIf",!t.deleted&&!t.completed&&t.id===r.id)}}function eie(n,e){1&n&&(K(0,"div")(1,"span",53),Ke(2,"Completed"),ne()())}function tie(n,e){if(1&n){const t=Wt();K(0,"div",54)(1,"span",53),Ke(2),ne(),K(3,"button",55),Le("click",function(){Xe(t);const i=Y(2).$implicit;return et(Y(2).toggleForCompletedList(i.id))}),ne()()}if(2&n){const t=Y(2).$implicit,r=Y(2);ce(2),tc("Completed(",r.completedTodosCountObj[t.id],")"),ce(1),Z("textContent",r.isCompletedListOpen.includes(t.id)?"\u039b":"V")}}function nie(n,e){if(1&n){const t=Wt();K(0,"button",63),Le("click",function(){Xe(t);const i=Y(2).$implicit;return et(Y(5).deleteCompleteList(i))}),We(1,"i",64),ne()}}function rie(n,e){if(1&n&&(K(0,"div",58)(1,"div",59),We(2,"i",60),K(3,"label",61),Ke(4),ne()(),fe(5,nie,2,0,"button",62),ne()),2&n){const t=Y().$implicit,r=Y(3).$implicit;ce(4),Qo(t.name),ce(1),Z("ngIf",!t.deleted&&t.completed&&t.id===r.id)}}function iie(n,e){if(1&n&&(K(0,"div",48),fe(1,rie,6,2,"div",57),ne()),2&n){const t=e.$implicit,r=Y(3).$implicit;ce(1),Z("ngIf",!t.deleted&&t.completed&&t.id===r.id)}}function sie(n,e){if(1&n&&(K(0,"div",56),fe(1,iie,2,1,"div",42),ne()),2&n){const t=Y(4);ce(1),Z("ngForOf",t.todos)}}function oie(n,e){if(1&n){const t=Wt();K(0,"div")(1,"div",30)(2,"div",31),fe(3,Zre,2,1,"label",32),fe(4,Qre,2,1,"div",29),K(5,"div",33)(6,"p-overlayPanel",null,34)(8,"button",6),Le("click",function(){Xe(t);const i=Y().$implicit;return et(Y(2).menuItemClicked("delete",i))}),We(9,"i",35),Ke(10," Delete"),ne(),K(11,"button",6),Le("click",function(){Xe(t);const i=Y().$implicit;return et(Y(2).menuItemClicked("edit",i))}),We(12,"i",36),Ke(13," Edit"),ne()(),K(14,"i",37),Le("click",function(i){return Xe(t),et(Fs(7).toggle(i))}),ne()()(),K(15,"button",38),Le("click",function(){Xe(t);const i=Y().$implicit;return et(Y(2).addTodo(i.id))}),We(16,"i",39),Ke(17," Add Task"),ne(),K(18,"div",40),fe(19,Yre,1,1,"input",41),fe(20,Xre,2,1,"div",42),ne(),fe(21,eie,3,0,"div",29),fe(22,tie,4,2,"div",43),fe(23,sie,2,1,"div",44),ne()()}if(2&n){const t=Y().$implicit,r=Y(2);ce(3),Z("ngIf",r.editTaskLabel!=t.id),ce(1),Z("ngIf",r.editTaskLabel===t.id),ce(11),Z("ngClass",r.isAddTodo===t.id?"active-button":"add-button"),ce(1),Z("ngClass",r.isAddTodo===t.id?"active-button":"add-icon"),ce(3),Z("ngIf",r.isAddTodo===t.id),ce(1),Z("ngForOf",r.todos),ce(1),Z("ngIf",r.completedTodosCountObj&&!r.completedTodosCountObj.hasOwnProperty(t.id)),ce(1),Z("ngIf",r.completedTodosCountObj&&r.completedTodosCountObj[t.id]&&0!=r.completedTodosCountObj[t.id]),ce(1),Z("ngIf",r.isCompletedListOpen.includes(t.id))}}function aie(n,e){if(1&n&&(K(0,"div"),fe(1,oie,24,9,"div",29),ne()),2&n){const t=e.$implicit;ce(1),Z("ngIf",!t.deleted)}}function lie(n,e){if(1&n&&(K(0,"div",27),fe(1,aie,2,1,"div",28),ne()),2&n){const t=Y();ce(1),Z("ngForOf",t.tasks)}}function cie(n,e){if(1&n){const t=Wt();K(0,"p",65),Le("click",function(){return Xe(t),et(Y().addTasksIcon())}),We(1,"i",66),Ke(2," Add new list"),ne()}}function uie(n,e){if(1&n){const t=Wt();K(0,"div",67)(1,"span",68)(2,"i",69),Le("click",function(){return Xe(t),et(Y().plusIconBtn())}),ne(),K(3,"input",70),Le("ngModelChange",function(i){return Xe(t),et(Y().addedTask=i)})("keyup.enter",function(){return Xe(t),et(Y().onEnterTask())}),ne()()()}if(2&n){const t=Y();ce(3),Z("ngModel",t.addedTask)}}const die=[{path:"",redirectTo:"/tasks",pathMatch:"full"},{path:"tasks",component:(()=>{class n{constructor(t,r){this.tasksService=t,this.authService=r,this.menuOpen=!1,this.errorMsg="API failing",this.showProfileOptions=!1,this.addedTask="",this.addedTodo="",this.isCompletedListOpen=[],this.isAddTodo="",this.todos=[],this.addTasksInput=!1,this.isMenuOpen="",this.tasks=[],this.mode=!1}ngOnInit(){this.authService.getUser().subscribe(t=>{t&&(this.photoURL=t.photoURL,t.uid&&""!=t.uid&&null!=t.uid&&(this.uid=t.uid,this.getLatestTasks(t.uid)))})}onEnterSearch(){console.log(this.searchValue,"klklklkl")}ngafterviewinit(){}darkMode(){this.mode?(this.mode=!1,this.tasksService.updateMode("light",this.uid).subscribe(t=>{})):(this.mode=!0,this.tasksService.updateMode("dark",this.uid).subscribe(t=>{}))}toggleProfileOptions(){this.showProfileOptions=!this.showProfileOptions}deleteAccount(){this.authService.deleteCurrentUser()}logout(){this.authService.signOut()}editBoard(){}completedTodosCount(t){const r={};for(const i of t)if(!0===i.completed&&!1===i.deleted){const s=i.id;r[s]||(r[s]=0),r[s]++}return r}getLatestTasks(t){this.tasksService.getTasks(t).subscribe(r=>{r[0].todos&&(this.tasks=r[0].tasks,this.todos=r[0].todos,this.completedTodosCountObj=this.completedTodosCount(this.todos),this.mode="dark"==r[0].mode)})}addTasksIcon(){this.addTasksInput=!0,this.addedTask=""}plusIconBtn(){this.addTasksInput=!1,this.addedTask=""}onEnterTask(){""!=this.addedTask?(this.tasksModel=new GD,this.tasksModel.setModel(void 0,this.addedTask),this.tasksService.createTasks(this.tasksModel,this.uid).subscribe(t=>{this.getLatestTasks(this.uid),this.addedTask="",this.addTasksInput=!1})):alert("Please enter name of task")}onEnterCardLabel(t){""!=this.editTaskLabel?(this.tasksModel=new GD,this.tasksModel.setModel(t,this.taskLabelName),this.tasksService.patchTasks(this.uid,this.tasksModel).subscribe(r=>{this.getLatestTasks(this.uid),this.editTaskLabel=""})):alert("Please enter name of task")}ellipseMenu(t){this.isMenuOpen=this.isMenuOpen==t?"":t}menuItemClicked(t,r){if("delete"==t)this.tasksModel=new GD,this.tasksModel.setModel(r.id,r.name,!0),this.tasksService.patchTasks(this.uid,this.tasksModel).subscribe(i=>{this.isMenuOpen="",this.getLatestTasks(this.uid)});else if("edit"==t){this.editTaskLabel=r.id;let i=this.tasks.find(s=>s.id==s.id);this.taskLabelName=i.name,this.isMenuOpen=""}}addTodo(t){this.isAddTodo==t?this.isAddTodo="":(this.isAddTodo=t,this.addedTodo="")}onEnterTodo(t){""!=this.addedTodo?(this.todosModel=new qD,this.todosModel.setModel(t,this.addedTodo),this.tasksService.createTodo(this.uid,this.todosModel).subscribe(r=>{this.getLatestTasks(this.uid),this.addedTodo=""})):alert("Please enter name of todo")}onCheckboxClick(t){this.todosModel=new qD,this.todosModel.setModel(t.id,t.name,!0,t.deleted,t.todoId),this.tasksService.patchTodo(this.uid,this.todosModel).subscribe(r=>{this.getLatestTasks(this.uid)})}deleteCompleteList(t){this.todosModel=new qD,this.todosModel.setModel(t.id,t.name,t.completed,!0,t.todoId),this.tasksService.patchTodo(this.uid,this.todosModel).subscribe(r=>{this.getLatestTasks(this.uid)})}toggleForCompletedList(t){if(this.isCompletedListOpen.includes(t)){let r=this.isCompletedListOpen.findIndex(i=>i===t);this.isCompletedListOpen.splice(r,1)}else this.isCompletedListOpen.push(t)}static#e=this.\u0275fac=function(r){return new(r||n)($(ane),$(vh))};static#t=this.\u0275cmp=kn({type:n,selectors:[["app-tasks"]],decls:19,vars:9,consts:[[3,"ngClass"],["pTemplate","start"],["pTemplate","end"],[1,"add-todo-action"],[1,"add-todo-text"],["op1",""],[1,"menu-items",3,"click"],[1,"pi","pi-ellipsis-v",3,"ngClass","click"],[1,"main-panel"],["class","cards-container",4,"ngIf"],["class","list-label",3,"click",4,"ngIf"],["class","custom-input-container",4,"ngIf"],[1,"pi","pi-th-large","mt-2"],[1,"ml-2","mr-8"],[1,"p-input-icon-left","searchIconBox"],[1,"pi","pi-search","searchIcon"],["type","text","pInputText","","placeholder","Search",1,"search",3,"ngModel","ngModelChange","keyup.enter"],[1,"profile"],["class","pi pi-sun modeIcon",3,"click",4,"ngIf"],["class","pi pi-moon modeIcon",3,"click",4,"ngIf"],["op2",""],["class","pi pi-user",3,"click",4,"ngIf"],["class","profile-img","alt","Profile Icon",3,"src","click",4,"ngIf"],[1,"pi","pi-sun","modeIcon",3,"click"],[1,"pi","pi-moon","modeIcon",3,"click"],[1,"pi","pi-user",3,"click"],["alt","Profile Icon",1,"profile-img",3,"src","click"],[1,"cards-container"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"card"],[1,"ellipse"],["class","taskLabel",4,"ngIf"],[1,"ellipse-card"],["op",""],[1,"pi","pi-trash"],[1,"pi","pi-file-edit"],[1,"pi","pi-ellipsis-v",2,"color","#495057",3,"click"],["id","add-button-click",1,"mb-2",3,"ngClass","click"],[1,"pi","pi-plus","mr-2",3,"ngClass"],[1,"todoIncompleted"],["type","text","class","add_Todo","pInputText","",3,"ngModel","ngModelChange","keyup.enter",4,"ngIf"],["class","field-checkbox",4,"ngFor","ngForOf"],["class","list-container",4,"ngIf"],["class","todoCompleted",4,"ngIf"],[1,"taskLabel"],["type","text",1,"edit_Task",3,"ngModel","ngModelChange","keyup.enter"],["type","text","pInputText","",1,"add_Todo",3,"ngModel","ngModelChange","keyup.enter"],[1,"field-checkbox"],["class","checkIncompleted",4,"ngIf"],[1,"checkIncompleted"],[1,"checkbox-icon",3,"inputId","click"],[1,"ml-2","mb-0",3,"for"],[1,"completed-button"],[1,"list-container"],["type","button",1,"toggle-button",3,"textContent","click"],[1,"todoCompleted"],["class","check",4,"ngIf"],[1,"check"],[1,"check-icon"],[1,"pi","pi-check",2,"font-size","0.8rem","color","blue"],[1,"ml-2","mb-0"],["class","delete-button","type","button",3,"click",4,"ngIf"],["type","button",1,"delete-button",3,"click"],[1,"pi","pi-trash",2,"color","#495057"],[1,"list-label",3,"click"],[1,"pi","pi-plus",2,"font-size","0.6rem","color","rgb(115, 121, 125)"],[1,"custom-input-container"],[1,"p-input-icon-right"],[1,"pi","pi-plus","plusIcon",3,"click"],["type","text","pInputText","","placeholder","New Task",1,"add_Task",3,"ngModel","ngModelChange","keyup.enter"]],template:function(r,i){if(1&r){const s=Wt();K(0,"div",0)(1,"p-menubar",0),fe(2,$re,6,1,"ng-template",1),fe(3,Kre,11,4,"ng-template",2),ne()(),K(4,"div",0)(5,"div",3)(6,"span",0),Ke(7,"Main Board"),ne(),K(8,"div",4)(9,"p-overlayPanel",null,5)(11,"button",6),Le("click",function(){return i.editBoard()}),Ke(12," Edit Board"),ne()(),K(13,"i",7),Le("click",function(a){return Xe(s),et(Fs(10).toggle(a))}),ne()()(),K(14,"div",8),fe(15,lie,2,1,"div",9),K(16,"div",0),fe(17,cie,3,0,"p",10),fe(18,uie,4,1,"div",11),ne()()()}2&r&&(Z("ngClass",i.mode?"main-header-dark":"main-header"),ce(1),Z("ngClass",i.mode?"header-dark":"header"),ce(3),Z("ngClass",i.mode?"main-card-dark":"main-card"),ce(2),Z("ngClass",i.mode?"main-board-dark":"main-board"),ce(7),Z("ngClass",i.mode?"ellipse-dark":"ellipse"),ce(2),Z("ngIf",i.tasks&&i.tasks.length>0),ce(1),Z("ngClass",i.mode?"add-new-todo-card-dark":"add-new-todo-card"),ce(1),Z("ngIf",!i.addTasksInput),ce(1),Z("ngIf",i.addTasksInput))},dependencies:[gd,AT,ra,Uc,Yg,Bc,nE,u4,Cre,Dre,jre],styles:['[_nghost-%COMP%]     .header .p-menubar{padding:.5rem;background:#fff;color:#495057;border:1px solid #dee2e6;border-radius:6px;height:45px}[_nghost-%COMP%]     .header-dark .p-menubar{padding:.5rem;background:#6c6c6c;color:#fff;border:1px solid #2e2e2e;border-radius:6px;height:45px}.searchIconBox[_ngcontent-%COMP%]{margin-left:285px}.taskBoradIcon-dark[_ngcontent-%COMP%], .taskBoradIcon[_ngcontent-%COMP%]{height:20px}.searchIcon[_ngcontent-%COMP%]{font-size:14px;margin-top:-6px}.modeIcon[_ngcontent-%COMP%]{margin-right:20px;padding:6px;border-radius:8px}.modeIcon[_ngcontent-%COMP%]:hover{background-color:gray;opacity:.5;transition:.3s}.search[_ngcontent-%COMP%]{width:450px;height:35px;background-color:#dee2e6;background:rgb(241,243,244);border:1px solid transparent;border-radius:8px;max-width:500px}.label_toggle[_ngcontent-%COMP%]{margin-right:25px;margin-top:10px;width:50px;height:20px;position:relative;display:block;background:#ebebeb;border-radius:200px;box-shadow:inset 0 5px 15px #0006,inset 0 -5px 15px #fff3;cursor:pointer}.label_toggle[_ngcontent-%COMP%]:after{content:"";width:20px;height:20px;top:0;left:0;position:absolute;background:linear-gradient(180deg,#ffcc89,#d39f51);border-radius:180px;box-shadow:0 5px 10px #0003}.input_toggle[_ngcontent-%COMP%]{width:0;height:0;visibility:hidden}.input_toggle[_ngcontent-%COMP%]:checked + .label_toggle[_ngcontent-%COMP%]{background:#242424}.input_toggle[_ngcontent-%COMP%]:checked + .label_toggle[_ngcontent-%COMP%]:after{left:50px;transform:translate(-100%);background:linear-gradient(180deg,#777,#3a3a3a)}.label_toggle[_ngcontent-%COMP%], .label_toggle[_ngcontent-%COMP%]:after{transition:.3s}.label_toggle[_ngcontent-%COMP%]:active:after{width:50px}.label_toggle[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{position:absolute;width:13px;top:3px;z-index:100}.label_toggle[_ngcontent-%COMP%]   svg.sun[_ngcontent-%COMP%]{left:3px;fill:#fff;transition:.3s}.label_toggle[_ngcontent-%COMP%]   svg.moon[_ngcontent-%COMP%]{left:33px;fill:#7e7e7e;transition:.3s}.input_toggle[_ngcontent-%COMP%]:checked + .label_toggle[_ngcontent-%COMP%]   svg.sun[_ngcontent-%COMP%]{fill:#7e7e7e}.input_toggle[_ngcontent-%COMP%]:checked + .label_toggle[_ngcontent-%COMP%]   svg.moon[_ngcontent-%COMP%]{fill:#fff}.profile-img[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:100px}.profile[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.profile-options[_ngcontent-%COMP%]{position:absolute;top:50px;right:10px;background-color:#fff;border:1px solid #ccc;border-radius:50px;box-shadow:0 2px 5px #0000001a;z-index:1}.profile-options[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;padding:0;margin:0}.profile-options[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px}.profile-options[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#333;display:block}.profile-options[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}.bxs-face[_ngcontent-%COMP%]{font-size:xx-large}.custom-input-container[_ngcontent-%COMP%]{display:flex;align-items:center;height:50px;width:270px}.custom-input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-right:5px}.ellipse[_ngcontent-%COMP%]{color:#495057}.ellipse-dark[_ngcontent-%COMP%]{color:#fff}.card[_ngcontent-%COMP%]{padding:10px;position:relative;display:flex;-webkit-box-align:center;justify-content:flex-start;height:auto;flex-direction:column;flex-shrink:0;width:270px;max-width:800px;max-height:calc(100vh - 114px);background:rgb(255,255,255);box-shadow:#a9aeb780 0 1px 2px;border-radius:8px;margin:10px;overflow:auto;border:solid 1px #fff;cursor:default!important}.add-new-todo-card[_ngcontent-%COMP%]{border-radius:8px;margin:10px;display:flex;flex-shrink:0;align-items:center;justify-content:center;min-height:52px;height:45px;width:270px;cursor:pointer;font-size:15px;line-height:15px;background:rgba(255,255,255,.5);color:#73797d;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.add-new-todo-card-dark[_ngcontent-%COMP%]{border-radius:8px;margin:10px;display:flex;flex-shrink:0;align-items:center;justify-content:center;min-height:52px;height:45px;width:270px;cursor:pointer;font-size:15px;line-height:15px;background:#fff;color:#73797d;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.list-label[_ngcontent-%COMP%]{font-size:14px;margin-top:16px;padding:19px 50px}.main-panel[_ngcontent-%COMP%]{display:flex}.main-header-dark[_ngcontent-%COMP%]{background-color:#242424}.main-header[_ngcontent-%COMP%]{background-color:#f6f8f9}.main-card[_ngcontent-%COMP%]{background-color:#f6f8f9;height:calc(100vh - 45px)}.main-card-dark[_ngcontent-%COMP%]{background-color:#242424;height:calc(100vh - 45px)}[_nghost-%COMP%]     .checkbox-icon .p-checkbox .p-checkbox-box{border:2px solid #ced4da;background:#ffffff;width:18px;height:18px;color:#727272;margin-top:3px;border-radius:10px;transition:background-color .2s,color .2s,border-color .2s,box-shadow .2s}.toggle-button[_ngcontent-%COMP%]{border:none;color:#727272;background-color:transparent;font-size:small;margin-left:10px;display:flex;align-items:center}.completed-button[_ngcontent-%COMP%]{font-size:16;margin-top:2px;color:#727272;margin-right:140px}.list-container[_ngcontent-%COMP%]{display:flex;list-style:none;align-items:center;justify-content:space-between;margin-bottom:7px}.check[_ngcontent-%COMP%]{display:flex;list-style:none;align-items:center;justify-content:space-between;padding:5px 0;margin-left:5px}.check-icon[_ngcontent-%COMP%]{display:flex;align-items:center}.checkIncompleted[_ngcontent-%COMP%]{display:flex;align-items:center;padding:5px 0}.delete-button[_ngcontent-%COMP%]{margin-left:10px;border:none;background-color:transparent;font-size:large;display:flex;align-items:center}.cards-container[_ngcontent-%COMP%]{height:100%;display:flex;flex-wrap:nowrap;justify-content:left;flex-direction:row;overflow-x:auto;overflow-y:hidden;margin-left:5px}@media (max-width: 576px){.cards-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:left;flex-direction:row}}.add_Task[_ngcontent-%COMP%]{height:50px;width:270px;font-size:14px}.add_Todo[_ngcontent-%COMP%]{margin-bottom:13px;width:240px;height:30px}.main-board[_ngcontent-%COMP%]{font-size:18px;color:#727272}.main-board-dark[_ngcontent-%COMP%]{font-size:18px;color:#fff}.todoCompleted[_ngcontent-%COMP%]{overflow:auto}.todoIncompleted[_ngcontent-%COMP%]{overflow:auto;margin-bottom:7px}.add-button[_ngcontent-%COMP%]{background:transparent;border:none;display:flex;align-items:center;color:#727272}.add-icon[_ngcontent-%COMP%]{background:transparent;border:none;display:flex;align-items:center;color:#3f3fd1}.active-button[_ngcontent-%COMP%]{color:#3f3fd1;background:transparent;border:none;display:flex;align-items:center}.ellipse-button[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background-color:#3498db;color:#fff;border:none;cursor:pointer}.add-todo[_ngcontent-%COMP%]{background-color:transparent;border:none}.add-todo-icon[_ngcontent-%COMP%]{color:#fff;margin-top:2px;margin-left:2px}.add-todo-action[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-left:15px;padding-top:5px}.add-todo-text[_ngcontent-%COMP%]{margin-right:10px}.plusIcon[_ngcontent-%COMP%]{font-size:15px;color:#3498db;margin-right:8px;margin-top:-7px}.ellipse[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.check[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .checkIncompleted[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#727272}.taskLabel[_ngcontent-%COMP%]{font-size:large;color:#727272}.p-card-content[_ngcontent-%COMP%]{padding:0;margin:0}.menu-items[_ngcontent-%COMP%]{border:none;background-color:transparent;cursor:pointer;display:flex;align-items:center;color:#727272}.menu-items[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:4px;color:#727272}.vertical-ellipse-button[_ngcontent-%COMP%]{margin-top:6px;margin-left:2.5px;color:#727272;font-size:20px}.bxs-plus-circle[_ngcontent-%COMP%]{color:#727272;font-size:30px}']})}return n})(),canActivate:[yte]},{path:"login",component:Ate},{path:"register",component:Tte},{path:"verify-email",component:vee},{path:"forgot-password",component:_te}];let hie=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=rn({type:n});static#n=this.\u0275inj=nn({imports:[uv.forRoot(die),uv]})}return n})(),fie=(()=>{class n{constructor(){this.title="tasks"}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=kn({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(r,i){1&r&&We(0,"router-outlet")},dependencies:[a0]})}return n})();function T4(n){return new k(3e3,!1)}function vl(n){switch(n.length){case 0:return new am;case 1:return n[0];default:return new w4(n)}}function C4(n,e,t=new Map,r=new Map){const i=[],s=[];let o=-1,a=null;if(e.forEach(l=>{const c=l.get("offset"),h=c==o,g=h&&a||new Map;l.forEach((m,y)=>{let w=y,T=m;if("offset"!==y)switch(w=n.normalizePropertyName(w,i),T){case"!":T=t.get(y);break;case ma:T=r.get(y);break;default:T=n.normalizeStyleValue(y,w,T,i)}g.set(w,T)}),h||s.push(g),a=g,o=c}),i.length)throw function Lie(n){return new k(3502,!1)}();return s}function rA(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&iA(t,"start",n)));break;case"done":n.onDone(()=>r(t&&iA(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&iA(t,"destroy",n)))}}function iA(n,e,t){const s=sA(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),o=n._data;return null!=o&&(s._data=o),s}function sA(n,e,t,r,i="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Xi(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function S4(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const Kie=(()=>typeof document>"u"?null:document.documentElement)();function oA(n){const e=n.parentNode||n.host||null;return e===Kie?null:e}let $c=null,D4=!1;function A4(n,e){for(;e;){if(e===n)return!0;e=oA(e)}return!1}function R4(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]}let P4=(()=>{class n{validateStyleProperty(t){return function Qie(n){$c||($c=function Yie(){return typeof document<"u"?document.body:null}()||{},D4=!!$c.style&&"WebkitAppearance"in $c.style);let e=!0;return $c.style&&!function Zie(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in $c.style,!e&&D4&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in $c.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return A4(t,r)}getParentElement(t){return oA(t)}query(t,r,i){return R4(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,o,a=[],l){return new am(i,s)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Te({token:n,factory:n.\u0275fac})}return n})(),aA=(()=>{class n{static#e=this.NOOP=new P4}return n})();const Jie=1e3,lA="ng-enter",rE="ng-leave",iE="ng-trigger",sE=".ng-trigger",M4="ng-animating",cA=".ng-animating";function _a(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:uA(parseFloat(e[1]),e[2])}function uA(n,e){return"s"===e?n*Jie:n}function oE(n,e,t){return n.hasOwnProperty("duration")?n:function ese(n,e,t){let i,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(T4()),{duration:0,delay:0,easing:""};i=uA(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=uA(parseFloat(l),a[4]));const c=a[5];c&&(o=c)}else i=n;if(!t){let a=!1,l=e.length;i<0&&(e.push(function pie(){return new k(3100,!1)}()),a=!0),s<0&&(e.push(function gie(){return new k(3101,!1)}()),a=!0),a&&e.splice(l,0,T4())}return{duration:i,delay:s,easing:o}}(n,e,t)}function lm(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function N4(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Il(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function No(n,e,t){e.forEach((r,i)=>{const s=hA(i);t&&!t.has(i)&&t.set(i,n.style[s]),n.style[s]=r})}function zc(n,e){e.forEach((t,r)=>{const i=hA(r);n.style[i]=""})}function cm(n){return Array.isArray(n)?1==n.length?n[0]:I4(n):n}const dA=new RegExp("{{\\s*(.+?)\\s*}}","g");function k4(n){let e=[];if("string"==typeof n){let t;for(;t=dA.exec(n);)e.push(t[1]);dA.lastIndex=0}return e}function um(n,e,t){const r=n.toString(),i=r.replace(dA,(s,o)=>{let a=e[o];return null==a&&(t.push(function _ie(n){return new k(3003,!1)}()),a=""),a.toString()});return i==r?n:i}function aE(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const rse=/-+([a-z0-9])/g;function hA(n){return n.replace(rse,(...e)=>e[1].toUpperCase())}function es(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function yie(n){return new k(3004,!1)}()}}function L4(n,e){return window.getComputedStyle(n)[e]}const lE="*";function ose(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function ase(n,e,t){if(":"==n[0]){const l=function lse(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function Mie(n){return new k(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof l)return void e.push(l);n=l}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function xie(n){return new k(3015,!1)}()),e;const i=r[1],s=r[2],o=r[3];e.push(F4(i,o));"<"==s[0]&&!(i==lE&&o==lE)&&e.push(F4(o,i))}(r,t,e)):t.push(n),t}const cE=new Set(["true","1"]),uE=new Set(["false","0"]);function F4(n,e){const t=cE.has(n)||uE.has(n),r=cE.has(e)||uE.has(e);return(i,s)=>{let o=n==lE||n==i,a=e==lE||e==s;return!o&&t&&"boolean"==typeof i&&(o=i?cE.has(n):uE.has(n)),!a&&r&&"boolean"==typeof s&&(a=s?cE.has(e):uE.has(e)),o&&a}}const cse=new RegExp("s*:selfs*,?","g");function fA(n,e,t,r){return new use(n).build(e,t,r)}class use{constructor(e){this._driver=e}build(e,t,r){const i=new fse(t);return this._resetContextStyleTimingState(i),es(this,cm(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push(function Iie(){return new k(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(h=>{l.name=h,s.push(this.visitState(l,t))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,t);r+=l.queryCount,i+=l.depCount,o.push(l)}else t.errors.push(function Eie(){return new k(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{k4(l).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&(aE(s.values()),t.errors.push(function wie(n,e){return new k(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=es(this,cm(e.animation),t);return{type:1,matchers:ose(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:qc(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>es(this,r,t)),options:qc(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const s=e.steps.map(o=>{t.currentTime=r;const a=es(this,o,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:3,steps:s,options:qc(e.options)}}visitAnimate(e,t){const r=function gse(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return pA(oE(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=pA(0,0,"");return s.dynamic=!0,s.strValue=t,s}const i=oE(t,e);return pA(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:om({});if(5==s.type)i=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;const c={};r.easing&&(c.easing=r.easing),o=om(c)}t.currentTime+=r.duration+r.delay;const l=this.visitStyle(o,t);l.isEmptyStep=a,i=l}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)"string"==typeof a?a===ma?r.push(a):t.errors.push(new k(3002,!1)):r.push(N4(a));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let l of a.values())if(l.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,l)=>{const c=t.collectedStyles.get(t.currentQuerySelector),h=c.get(l);let g=!0;h&&(s!=i&&s>=h.startTime&&i<=h.endTime&&(t.errors.push(function Tie(n,e,t,r,i){return new k(3010,!1)}()),g=!1),s=h.startTime),g&&c.set(l,{startTime:s,endTime:i}),t.options&&function nse(n,e,t){const r=e.params||{},i=k4(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(function mie(n){return new k(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function Cie(){return new k(3011,!1)}()),r;let s=0;const o=[];let a=!1,l=!1,c=0;const h=e.steps.map(O=>{const P=this._makeStyleAst(O,t);let F=null!=P.offset?P.offset:function pse(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(P.styles),Q=0;return null!=F&&(s++,Q=P.offset=F),l=l||Q<0||Q>1,a=a||Q<c,c=Q,o.push(Q),P});l&&t.errors.push(function Sie(){return new k(3012,!1)}()),a&&t.errors.push(function Die(){return new k(3200,!1)}());const g=e.steps.length;let m=0;s>0&&s<g?t.errors.push(function Aie(){return new k(3202,!1)}()):0==s&&(m=1/(g-1));const y=g-1,w=t.currentTime,T=t.currentAnimateTimings,S=T.duration;return h.forEach((O,P)=>{const F=m>0?P==y?1:m*P:o[P],Q=F*S;t.currentTime=w+T.delay+Q,T.duration=Q,this._validateStyleAst(O,t),O.offset=F,r.styles.push(O)}),r}visitReference(e,t){return{type:8,animation:es(this,cm(e.animation),t),options:qc(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:qc(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:qc(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function dse(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(cse,"")),n=n.replace(/@\*/g,sE).replace(/@\w+/g,t=>sE+"-"+t.slice(1)).replace(/:animating/g,cA),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,Xi(t.collectedStyles,t.currentQuerySelector,new Map);const a=es(this,cm(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:qc(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function Rie(){return new k(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:oE(e.timings,t.errors,!0);return{type:12,animation:es(this,cm(e.animation),t),timings:r,options:null}}}class fse{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function qc(n){return n?(n=lm(n)).params&&(n.params=function hse(n){return n?lm(n):null}(n.params)):n={},n}function pA(n,e,t){return{duration:n,delay:e,easing:t}}function gA(n,e,t,r,i,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class dE{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const yse=new RegExp(":enter","g"),Ise=new RegExp(":leave","g");function mA(n,e,t,r,i,s=new Map,o=new Map,a,l,c=[]){return(new Ese).buildKeyframes(n,e,t,r,i,s,o,a,l,c)}class Ese{buildKeyframes(e,t,r,i,s,o,a,l,c,h=[]){c=c||new dE;const g=new _A(e,t,c,i,s,h,[]);g.options=l;const m=l.delay?_a(l.delay):0;g.currentTimeline.delayNextStep(m),g.currentTimeline.setStyles([o],null,g.errors,l),es(this,r,g);const y=g.timelines.filter(w=>w.containsAnimation());if(y.length&&a.size){let w;for(let T=y.length-1;T>=0;T--){const S=y[T];if(S.element===t){w=S;break}}w&&!w.allowOnlyTimelineStyles()&&w.setStyles([a],null,g.errors,l)}return y.length?y.map(w=>w.buildKeyframes()):[gA(t,[],[],[],0,m,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const s=i?.delay;if(s){const o="number"==typeof s?s:_a(um(s,i?.params??{},t.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime;const o=null!=r.duration?_a(r.duration):null,a=null!=r.delay?_a(r.delay):null;return 0!==o&&e.forEach(l=>{const c=t.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),es(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=hE);const o=_a(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>es(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?_a(e.options.delay):0;e.steps.forEach(o=>{const a=t.createSubContext(e.options);s&&a.delayNextStep(s),es(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return oE(t.params?um(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?_a(i.delay):0;s&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=hE);let o=r;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,h)=>{t.currentQueryIndex=h;const g=t.createSubContext(e.options,c);s&&g.delayNextStep(s),c===t.element&&(l=g.currentTimeline),es(this,e.animation,g),g.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,g.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1);let l=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime}const h=t.currentTimeline;l&&h.delayNextStep(l);const g=h.currentTime;es(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-g+(i.startTime-r.currentTimeline.startTime)}}const hE={};class _A{constructor(e,t,r,i,s,o,a,l){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=hE,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new fE(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=_a(r.duration)),null!=r.delay&&(i.delay=_a(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=um(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,s=new _A(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=hE,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new wse(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(yse,"."+this._enterClassName)).replace(Ise,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=r);0!==r&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),a.push(...c)}return!s&&0==a.length&&o.push(function Pie(n){return new k(3014,!1)}()),a}}class fE{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new fE(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||ma),this._currentKeyframe.set(t,ma);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const s=i&&i.params||{},o=function bse(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let s of r)t.set(s,ma)}else Il(i,t)}),t}(e,this._globalTimelineStyles);for(let[a,l]of o){const c=um(l,s,r);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??ma),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,l)=>{const c=Il(a,new Map,this._backFill);c.forEach((h,g)=>{"!"===h?e.add(g):h===ma&&t.add(g)}),r||c.set("offset",l/this.duration),i.push(c)});const s=e.size?aE(e.values()):[],o=t.size?aE(t.values()):[];if(r){const a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return gA(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class wse extends fE{constructor(e,t,r,i,s,o,a=!1){super(e,t,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=r+t,a=t/o,l=Il(e[0]);l.set("offset",0),s.push(l);const c=Il(e[0]);c.set("offset",B4(a)),s.push(c);const h=e.length-1;for(let g=1;g<=h;g++){let m=Il(e[g]);const y=m.get("offset");m.set("offset",B4((t+y*r)/o)),s.push(m)}r=o,t=0,i="",e=s}return gA(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function B4(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class yA{}const Tse=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Cse extends yA{normalizePropertyName(e,t){return hA(e)}normalizeStyleValue(e,t,r,i){let s="";const o=r.toString().trim();if(Tse.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function vie(n,e){return new k(3005,!1)}())}return o+s}}function j4(n,e,t,r,i,s,o,a,l,c,h,g,m){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:h,totalTime:g,errors:m}}const vA={};class H4{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function Sse(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,s,o,a,l,c,h){const g=[],m=this.ast.options&&this.ast.options.params||vA,w=this.buildStyles(r,a&&a.params||vA,g),T=l&&l.params||vA,S=this.buildStyles(i,T,g),O=new Set,P=new Map,F=new Map,Q="void"===i,he={params:Dse(T,m),delay:this.ast.options?.delay},Me=h?[]:mA(e,t,this.ast.animation,s,o,w,S,he,c,g);let tt=0;if(Me.forEach(bi=>{tt=Math.max(bi.duration+bi.delay,tt)}),g.length)return j4(t,this._triggerName,r,i,Q,w,S,[],[],P,F,tt,g);Me.forEach(bi=>{const ki=bi.element,_E=Xi(P,ki,new Set);bi.preStyleProps.forEach(Gc=>_E.add(Gc));const hm=Xi(F,ki,new Set);bi.postStyleProps.forEach(Gc=>hm.add(Gc)),ki!==t&&O.add(ki)});const en=aE(O.values());return j4(t,this._triggerName,r,i,Q,w,S,Me,en,P,F,tt)}}function Dse(n,e){const t=lm(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class Ase{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=lm(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!==o&&(i[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=um(o,i,t));const l=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,l,o,t),r.set(a,o)})}),r}}class Pse{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new Ase(i.style,i.options&&i.options.params||{},r))}),$4(this.states,"true","1"),$4(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new H4(e,i,this.states))}),this.fallbackTransition=function xse(n,e,t){return new H4(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(o=>o.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function $4(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const Mse=new dE;class Nse{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],s=fA(this._driver,t,r,[]);if(r.length)throw function Fie(n){return new k(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,r){const i=e.element,s=C4(this._normalizer,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],s=this._animations.get(e);let o;const a=new Map;if(s?(o=mA(this._driver,t,s,lA,rE,new Map,new Map,r,Mse,i),o.forEach(h=>{const g=Xi(a,h.element,new Map);h.postStyleProps.forEach(m=>g.set(m,null))})):(i.push(function Vie(){return new k(3300,!1)}()),o=[]),i.length)throw function Uie(n){return new k(3504,!1)}();a.forEach((h,g)=>{h.forEach((m,y)=>{h.set(y,this._driver.computeStyle(g,y,ma))})});const c=vl(o.map(h=>{const g=a.get(h.element);return this._buildPlayer(h,new Map,g)}));return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function Bie(n){return new k(3301,!1)}();return t}listen(e,t,r,i){const s=sA(t,"","","");return rA(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const z4="ng-animate-queued",IA="ng-animate-disabled",Vse=[],q4={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Use={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Xs="__ng_removed";class EA{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function $se(n){return n??null}(r?e.value:e),r){const s=lm(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const dm="void",wA=new EA(dm);class Bse{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,As(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function jie(n,e){return new k(3302,!1)}();if(null==r||0==r.length)throw function Hie(n){return new k(3303,!1)}();if(!function zse(n){return"start"==n||"done"==n}(r))throw function $ie(n,e){return new k(3400,!1)}();const s=Xi(this._elementListeners,e,[]),o={name:t,phase:r,callback:i};s.push(o);const a=Xi(this._engine.statesByElement,e,new Map);return a.has(t)||(As(e,iE),As(e,iE+"-"+t),a.set(t,wA)),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function zie(n){return new k(3401,!1)}();return t}trigger(e,t,r,i=!0){const s=this._getTrigger(t),o=new bA(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(As(e,iE),As(e,iE+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t);const c=new EA(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(t,c),l||(l=wA),c.value!==dm&&l.value===c.value){if(!function Wse(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(l.params,c.params)){const T=[],S=s.matchStyles(l.value,l.params,T),O=s.matchStyles(c.value,c.params,T);T.length?this._engine.reportError(T):this._engine.afterFlush(()=>{zc(e,S),No(e,O)})}return}const m=Xi(this._engine.playersByElement,e,[]);m.forEach(T=>{T.namespaceId==this.id&&T.triggerName==t&&T.queued&&T.destroy()});let y=s.matchTransition(l.value,c.value,e,c.params),w=!1;if(!y){if(!i)return;y=s.fallbackTransition,w=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:y,fromState:l,toState:c,player:o,isFallbackTransition:w}),w||(As(e,z4),o.onStart(()=>{Ch(e,z4)})),o.onDone(()=>{let T=this.players.indexOf(o);T>=0&&this.players.splice(T,1);const S=this._engine.playersByElement.get(e);if(S){let O=S.indexOf(o);O>=0&&S.splice(O,1)}}),this.players.push(o),m.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,sE,!0);r.forEach(i=>{if(i[Xs])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const a=[];if(s.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){const h=this.trigger(e,c,dm,i);h&&a.push(h)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),r&&vl(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const l=this._triggers.get(o).fallbackTransition,c=r.get(o)||wA,h=new EA(dm),g=new bA(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:c,toState:h,player:g,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const s=e[Xs];(!s||s===q4)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){As(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const l=sA(s,r.triggerName,r.fromState.value,r.toState.value);l._data=e,rA(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class jse{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new Bse(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){const l=i.get(a);if(l){const c=r.indexOf(l);r.splice(c+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&t.add(s)}return t}trigger(e,t,r,i){if(pE(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!pE(t))return;const s=t[Xs];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),As(e,IA)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Ch(e,IA))}removeNode(e,t,r){if(pE(t)){const i=e?this._fetchNamespace(e):null;i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);const s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,i,s){this.collectedLeaveElements.push(t),t[Xs]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,i,s){return pE(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,sE,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,cA,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return vl(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Xs];if(t&&t.setForRemoval){if(e[Xs]=q4,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(IA)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)As(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?vl(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function qie(n){return new k(3402,!1)}()}_flushAnimations(e,t){const r=new dE,i=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,h=new Set;this.disabledNodes.forEach(Ne=>{h.add(Ne);const $e=this.driver.query(Ne,".ng-animate-queued",!0);for(let Qe=0;Qe<$e.length;Qe++)h.add($e[Qe])});const g=this.bodyNode,m=Array.from(this.statesByElement.keys()),y=K4(m,this.collectedEnterElements),w=new Map;let T=0;y.forEach((Ne,$e)=>{const Qe=lA+T++;w.set($e,Qe),Ne.forEach(Ft=>As(Ft,Qe))});const S=[],O=new Set,P=new Set;for(let Ne=0;Ne<this.collectedLeaveElements.length;Ne++){const $e=this.collectedLeaveElements[Ne],Qe=$e[Xs];Qe&&Qe.setForRemoval&&(S.push($e),O.add($e),Qe.hasAnimation?this.driver.query($e,".ng-star-inserted",!0).forEach(Ft=>O.add(Ft)):P.add($e))}const F=new Map,Q=K4(m,Array.from(O));Q.forEach((Ne,$e)=>{const Qe=rE+T++;F.set($e,Qe),Ne.forEach(Ft=>As(Ft,Qe))}),e.push(()=>{y.forEach((Ne,$e)=>{const Qe=w.get($e);Ne.forEach(Ft=>Ch(Ft,Qe))}),Q.forEach((Ne,$e)=>{const Qe=F.get($e);Ne.forEach(Ft=>Ch(Ft,Qe))}),S.forEach(Ne=>{this.processLeaveNode(Ne)})});const he=[],Me=[];for(let Ne=this._namespaceList.length-1;Ne>=0;Ne--)this._namespaceList[Ne].drainQueuedTransitions(t).forEach(Qe=>{const Ft=Qe.player,Sr=Qe.element;if(he.push(Ft),this.collectedEnterElements.length){const ti=Sr[Xs];if(ti&&ti.setForMove){if(ti.previousTriggersValues&&ti.previousTriggersValues.has(Qe.triggerName)){const Wc=ti.previousTriggersValues.get(Qe.triggerName),Rs=this.statesByElement.get(Qe.element);if(Rs&&Rs.has(Qe.triggerName)){const yE=Rs.get(Qe.triggerName);yE.value=Wc,Rs.set(Qe.triggerName,yE)}}return void Ft.destroy()}}const Oo=!g||!this.driver.containsElement(g,Sr),ts=F.get(Sr),El=w.get(Sr),Fn=this._buildInstruction(Qe,r,El,ts,Oo);if(Fn.errors&&Fn.errors.length)return void Me.push(Fn);if(Oo)return Ft.onStart(()=>zc(Sr,Fn.fromStyles)),Ft.onDestroy(()=>No(Sr,Fn.toStyles)),void i.push(Ft);if(Qe.isFallbackTransition)return Ft.onStart(()=>zc(Sr,Fn.fromStyles)),Ft.onDestroy(()=>No(Sr,Fn.toStyles)),void i.push(Ft);const s3=[];Fn.timelines.forEach(ti=>{ti.stretchStartingKeyframe=!0,this.disabledNodes.has(ti.element)||s3.push(ti)}),Fn.timelines=s3,r.append(Sr,Fn.timelines),o.push({instruction:Fn,player:Ft,element:Sr}),Fn.queriedElements.forEach(ti=>Xi(a,ti,[]).push(Ft)),Fn.preStyleProps.forEach((ti,Wc)=>{if(ti.size){let Rs=l.get(Wc);Rs||l.set(Wc,Rs=new Set),ti.forEach((yE,SA)=>Rs.add(SA))}}),Fn.postStyleProps.forEach((ti,Wc)=>{let Rs=c.get(Wc);Rs||c.set(Wc,Rs=new Set),ti.forEach((yE,SA)=>Rs.add(SA))})});if(Me.length){const Ne=[];Me.forEach($e=>{Ne.push(function Gie(n,e){return new k(3505,!1)}())}),he.forEach($e=>$e.destroy()),this.reportError(Ne)}const tt=new Map,en=new Map;o.forEach(Ne=>{const $e=Ne.element;r.has($e)&&(en.set($e,$e),this._beforeAnimationBuild(Ne.player.namespaceId,Ne.instruction,tt))}),i.forEach(Ne=>{const $e=Ne.element;this._getPreviousPlayers($e,!1,Ne.namespaceId,Ne.triggerName,null).forEach(Ft=>{Xi(tt,$e,[]).push(Ft),Ft.destroy()})});const bi=S.filter(Ne=>Q4(Ne,l,c)),ki=new Map;W4(ki,this.driver,P,c,ma).forEach(Ne=>{Q4(Ne,l,c)&&bi.push(Ne)});const hm=new Map;y.forEach((Ne,$e)=>{W4(hm,this.driver,new Set(Ne),l,"!")}),bi.forEach(Ne=>{const $e=ki.get(Ne),Qe=hm.get(Ne);ki.set(Ne,new Map([...$e?.entries()??[],...Qe?.entries()??[]]))});const Gc=[],r3=[],i3={};o.forEach(Ne=>{const{element:$e,player:Qe,instruction:Ft}=Ne;if(r.has($e)){if(h.has($e))return Qe.onDestroy(()=>No($e,Ft.toStyles)),Qe.disabled=!0,Qe.overrideTotalTime(Ft.totalTime),void i.push(Qe);let Sr=i3;if(en.size>1){let ts=$e;const El=[];for(;ts=ts.parentNode;){const Fn=en.get(ts);if(Fn){Sr=Fn;break}El.push(ts)}El.forEach(Fn=>en.set(Fn,Sr))}const Oo=this._buildAnimation(Qe.namespaceId,Ft,tt,s,hm,ki);if(Qe.setRealPlayer(Oo),Sr===i3)Gc.push(Qe);else{const ts=this.playersByElement.get(Sr);ts&&ts.length&&(Qe.parentPlayer=vl(ts)),i.push(Qe)}}else zc($e,Ft.fromStyles),Qe.onDestroy(()=>No($e,Ft.toStyles)),r3.push(Qe),h.has($e)&&i.push(Qe)}),r3.forEach(Ne=>{const $e=s.get(Ne.element);if($e&&$e.length){const Qe=vl($e);Ne.setRealPlayer(Qe)}}),i.forEach(Ne=>{Ne.parentPlayer?Ne.syncPlayerEvents(Ne.parentPlayer):Ne.destroy()});for(let Ne=0;Ne<S.length;Ne++){const $e=S[Ne],Qe=$e[Xs];if(Ch($e,rE),Qe&&Qe.hasAnimation)continue;let Ft=[];if(a.size){let Oo=a.get($e);Oo&&Oo.length&&Ft.push(...Oo);let ts=this.driver.query($e,cA,!0);for(let El=0;El<ts.length;El++){let Fn=a.get(ts[El]);Fn&&Fn.length&&Ft.push(...Fn)}}const Sr=Ft.filter(Oo=>!Oo.destroyed);Sr.length?qse(this,$e,Sr):this.processLeaveNode($e)}return S.length=0,Gc.forEach(Ne=>{this.players.push(Ne),Ne.onDone(()=>{Ne.destroy();const $e=this.players.indexOf(Ne);this.players.splice($e,1)}),Ne.play()}),Gc}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let o=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const l=!s||s==dm;a.forEach(c=>{c.queued||!l&&c.triggerName!=i||o.push(c)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,t,r){const s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const c=l.element,h=c!==s,g=Xi(r,c,[]);this._getPreviousPlayers(c,h,o,a,t.toState).forEach(y=>{const w=y.getRealPlayer();w.beforeDestroy&&w.beforeDestroy(),y.destroy(),g.push(y)})}zc(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,o){const a=t.triggerName,l=t.element,c=[],h=new Set,g=new Set,m=t.timelines.map(w=>{const T=w.element;h.add(T);const S=T[Xs];if(S&&S.removedBeforeQueried)return new am(w.duration,w.delay);const O=T!==l,P=function Gse(n){const e=[];return Z4(n,e),e}((r.get(T)||Vse).map(tt=>tt.getRealPlayer())).filter(tt=>!!tt.element&&tt.element===T),F=s.get(T),Q=o.get(T),he=C4(this._normalizer,w.keyframes,F,Q),Me=this._buildPlayer(w,he,P);if(w.subTimeline&&i&&g.add(T),O){const tt=new bA(e,a,T);tt.setRealPlayer(Me),c.push(tt)}return Me});c.forEach(w=>{Xi(this.playersByQueriedElement,w.element,[]).push(w),w.onDone(()=>function Hse(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,w.element,w))}),h.forEach(w=>As(w,M4));const y=vl(m);return y.onDestroy(()=>{h.forEach(w=>Ch(w,M4)),No(l,t.toStyles)}),g.forEach(w=>{Xi(i,w,[]).push(y)}),y}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new am(e.duration,e.delay)}}class bA{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new am,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>rA(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Xi(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function pE(n){return n&&1===n.nodeType}function G4(n,e){const t=n.style.display;return n.style.display=e??"none",t}function W4(n,e,t,r,i){const s=[];t.forEach(l=>s.push(G4(l)));const o=[];r.forEach((l,c)=>{const h=new Map;l.forEach(g=>{const m=e.computeStyle(c,g,i);h.set(g,m),(!m||0==m.length)&&(c[Xs]=Use,o.push(c))}),n.set(c,h)});let a=0;return t.forEach(l=>G4(l,s[a++])),o}function K4(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const i=new Set(e),s=new Map;function o(a){if(!a)return 1;let l=s.get(a);if(l)return l;const c=a.parentNode;return l=t.has(c)?c:i.has(c)?1:o(c),s.set(a,l),l}return e.forEach(a=>{const l=o(a);1!==l&&t.get(l).push(a)}),t}function As(n,e){n.classList?.add(e)}function Ch(n,e){n.classList?.remove(e)}function qse(n,e,t){vl(t).onDone(()=>n.processLeaveNode(e))}function Z4(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof w4?Z4(r.players,e):e.push(r)}}function Q4(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}class gE{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new jse(e,t,r),this._timelineEngine=new Nse(e,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,t,r,i,s){const o=e+"-"+i;let a=this._triggerCache[o];if(!a){const l=[],h=fA(this._driver,s,l,[]);if(l.length)throw function kie(n,e){return new k(3404,!1)}();a=function Rse(n,e,t){return new Pse(n,e,t)}(i,h,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[s,o]=S4(r);this._timelineEngine.command(s,t,o,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if("@"==r.charAt(0)){const[o,a]=S4(r);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let Zse=(()=>{class n{static#e=this.initialStylesByElement=new WeakMap;constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&No(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(No(this._element,this._initialStyles),this._endStyles&&(No(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(zc(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(zc(this._element,this._endStyles),this._endStyles=null),No(this._element,this._initialStyles),this._state=3)}}return n})();function TA(n){let e=null;return n.forEach((t,r)=>{(function Qse(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class Y4{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:L4(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Yse{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return A4(e,t)}getParentElement(e){return oA(e)}query(e,t,r){return R4(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,s,o=[]){const l={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(l.easing=s);const c=new Map,h=o.filter(y=>y instanceof Y4);(function ise(n,e){return 0===n||0===e})(r,i)&&h.forEach(y=>{y.currentSnapshot.forEach((w,T)=>c.set(T,w))});let g=function tse(n){return n.length?n[0]instanceof Map?n:n.map(e=>N4(e)):[]}(t).map(y=>Il(y));g=function sse(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,L4(n,a)))}}return e}(e,g,c);const m=function Kse(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=TA(e[0]),e.length>1&&(r=TA(e[e.length-1]))):e instanceof Map&&(t=TA(e)),t||r?new Zse(n,t,r):null}(e,g);return new Y4(e,g,l,m)}}let Jse=(()=>{class n extends y4{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:Ti.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?I4(t):t;return J4(this._renderer,null,r,"register",[i]),new Xse(r,this._renderer)}static#e=this.\u0275fac=function(r){return new(r||n)(le($f),le(Ir))};static#t=this.\u0275prov=Te({token:n,factory:n.\u0275fac})}return n})();class Xse extends Rre{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new eoe(this._id,e,t||{},this._renderer)}}class eoe{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return J4(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function J4(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const X4="@.disabled";let toe=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,r.onRemovalComplete=(s,o)=>{const a=o?.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(t,r){const s=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let h=this._rendererCache.get(s);return h||(h=new e3("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,h)),h}const o=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const l=h=>{Array.isArray(h)?h.forEach(l):this.engine.registerTrigger(o,a,t,h.name,h)};return r.data.animation.forEach(l),new noe(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(r){return new(r||n)(le($f),le(gE),le(Mt))};static#t=this.\u0275prov=Te({token:n,factory:n.\u0275fac})}return n})();class e3{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==X4?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class noe extends e3{constructor(e,t,r,i,s){super(t,r,i,s),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==X4?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function roe(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function ioe(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,t,r)}}let soe=(()=>{class n extends gE{constructor(t,r,i,s){super(t.body,r,i)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(r){return new(r||n)(le(Ir),le(aA),le(yA),le(sc))};static#t=this.\u0275prov=Te({token:n,factory:n.\u0275fac})}return n})();const t3=[{provide:y4,useClass:Jse},{provide:yA,useFactory:function ooe(){return new Cse}},{provide:gE,useClass:soe},{provide:$f,useFactory:function aoe(n,e,t){return new toe(n,e,t)},deps:[BT,gE,Mt]}],CA=[{provide:aA,useFactory:()=>new Yse},{provide:aR,useValue:"BrowserAnimations"},...t3],n3=[{provide:aA,useClass:P4},{provide:aR,useValue:"NoopAnimations"},...t3];let loe=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?n3:CA}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=rn({type:n});static#n=this.\u0275inj=nn({providers:CA,imports:[lO]})}return n})();const coe_firebase={apiKey:"AIzaSyDEFnGE_jUVrWMEMuY2-bdk3TCL8PwiUxs",authDomain:"tasks-2aa20.firebaseapp.com",projectId:"tasks-2aa20",storageBucket:"tasks-2aa20.appspot.com",messagingSenderId:"289908118671",appId:"1:289908118671:web:40a2c8d77b6819feb10cfa",measurementId:"G-PRWGNQ569P"};let uoe=(()=>{class n extends Th{pathId;ngOnInit(){this.pathId="url(#"+JD()+")"}static \u0275fac=function(){let t;return function(i){return(t||(t=vn(n)))(i||n)}}();static \u0275cmp=kn({type:n,selectors:[["SpinnerIcon"]],standalone:!0,features:[Nt,Yo],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(r,i){1&r&&(zo(),K(0,"svg",0)(1,"g"),We(2,"path",1),ne(),K(3,"defs")(4,"clipPath",2),We(5,"rect",3),ne()()()),2&r&&(ws(i.getClassNames()),at("aria-label",i.ariaLabel)("aria-hidden",i.ariaHidden)("role",i.role),ce(1),at("clip-path",i.pathId),ce(3),Z("id",i.pathId))},encapsulation:2})}return n})(),Eoe=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=rn({type:n});static \u0275inj=nn({imports:[vo,XD,_l,uoe,_l]})}return n})(),Soe=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=rn({type:n});static \u0275inj=nn({imports:[vo,_l]})}return n})(),Doe=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=rn({type:n,bootstrap:[fie]});static#n=this.\u0275inj=nn({imports:[lO,hie,tne,mte,loe,Soe,RK.initializeApp(coe_firebase),OK,Eoe,Cne,Sre,Are,Hre]})}return n})();Sq().bootstrapModule(Doe).catch(n=>console.error(n))},106:(ns,$n,He)=>{He.d($n,{Z:()=>zn});var C=He(58),W=He(537),N=He(534),xe=He(879);class Pt{constructor(Ye,Je){this._delegate=Ye,this.firebase=Je,(0,N._addComponent)(Ye,new W.wA("app-compat",()=>this,"PUBLIC")),this.container=Ye.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ye){this._delegate.automaticDataCollectionEnabled=Ye}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ye=>{this._delegate.checkDestroyed(),Ye()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,N.deleteApp)(this._delegate)))}_getService(Ye,Je=N._DEFAULT_ENTRY_NAME){var tr;this._delegate.checkDestroyed();const Tn=this._delegate.container.getProvider(Ye);return!Tn.isInitialized()&&"EXPLICIT"===(null===(tr=Tn.getComponent())||void 0===tr?void 0:tr.instantiationMode)&&Tn.initialize(),Tn.getImmediate({identifier:Je})}_removeServiceInstance(Ye,Je=N._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ye).clearInstance(Je)}_addComponent(Ye){(0,N._addComponent)(this._delegate,Ye)}_addOrOverwriteComponent(Ye){(0,N._addOrOverwriteComponent)(this._delegate,Ye)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const xn=new C.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),X=function St(){const vt=function Yt(vt){const Ye={},Je={__esModule:!0,initializeApp:function yt(ct,ae={}){const bt=N.initializeApp(ct,ae);if((0,C.r3)(Ye,bt.name))return Ye[bt.name];const tn=new vt(bt,Je);return Ye[bt.name]=tn,tn},app:Tn,registerVersion:N.registerVersion,setLogLevel:N.setLogLevel,onLog:N.onLog,apps:null,SDK_VERSION:N.SDK_VERSION,INTERNAL:{registerComponent:function ni(ct){const ae=ct.name,bt=ae.replace("-compat","");if(N._registerComponent(ct)&&"PUBLIC"===ct.type){const tn=(Cn=Tn())=>{if("function"!=typeof Cn[bt])throw xn.create("invalid-app-argument",{appName:ae});return Cn[bt]()};void 0!==ct.serviceProps&&(0,C.ZB)(tn,ct.serviceProps),Je[bt]=tn,vt.prototype[bt]=function(...Cn){return this._getService.bind(this,ae).apply(this,ct.multipleInstances?Cn:[])}}return"PUBLIC"===ct.type?Je[bt]:null},removeApp:function tr(ct){delete Ye[ct]},useAsService:function Vn(ct,ae){return"serverAuth"===ae?null:ae},modularAPIs:N}};function Tn(ct){if(!(0,C.r3)(Ye,ct=ct||N._DEFAULT_ENTRY_NAME))throw xn.create("no-app",{appName:ct});return Ye[ct]}return Je.default=Je,Object.defineProperty(Je,"apps",{get:function Ut(){return Object.keys(Ye).map(ct=>Ye[ct])}}),Tn.App=vt,Je}(Pt);return vt.INTERNAL=Object.assign(Object.assign({},vt.INTERNAL),{createFirebaseNamespace:St,extendNamespace:function Ye(Je){(0,C.ZB)(vt,Je)},createSubscribe:C.ne,ErrorFactory:C.LL,deepExtend:C.ZB}),vt}(),de=new xe.Yd("@firebase/app-compat");if((0,C.jU)()&&void 0!==self.firebase){de.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const vt=self.firebase.SDK_VERSION;vt&&vt.indexOf("LITE")>=0&&de.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const zn=X;!function xt(vt){(0,N.registerVersion)("@firebase/app-compat","0.2.23",vt)}()},534:(ns,$n,He)=>{He.r($n),He.d($n,{FirebaseError:()=>xe.ZR,SDK_VERSION:()=>as,_DEFAULT_ENTRY_NAME:()=>Ui,_addComponent:()=>si,_addOrOverwriteComponent:()=>oi,_apps:()=>yr,_clearComponents:()=>Nn,_components:()=>ii,_getProvider:()=>Bt,_registerComponent:()=>ar,_removeServiceInstance:()=>ai,deleteApp:()=>Kn,getApp:()=>ji,getApps:()=>Wn,initializeApp:()=>ls,onLog:()=>ya,registerVersion:()=>li,setLogLevel:()=>eo});var C=He(861),W=He(537),N=He(879),xe=He(58);const Pt=(V,x)=>x.some(oe=>V instanceof oe);let pn,xn;const X=new WeakMap,de=new WeakMap,Re=new WeakMap,rt=new WeakMap,xt=new WeakMap;let Ye={get(V,x,oe){if(V instanceof IDBTransaction){if("done"===x)return de.get(V);if("objectStoreNames"===x)return V.objectStoreNames||Re.get(V);if("store"===x)return oe.objectStoreNames[1]?void 0:oe.objectStore(oe.objectStoreNames[0])}return yt(V[x])},set:(V,x,oe)=>(V[x]=oe,!0),has:(V,x)=>V instanceof IDBTransaction&&("done"===x||"store"===x)||x in V};function Tn(V){return"function"==typeof V?function tr(V){return V!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function St(){return xn||(xn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(V)?function(...x){return V.apply(Ut(this),x),yt(X.get(this))}:function(...x){return yt(V.apply(Ut(this),x))}:function(x,...oe){const Pe=V.call(Ut(this),x,...oe);return Re.set(Pe,x.sort?x.sort():[x]),yt(Pe)}}(V):(V instanceof IDBTransaction&&function vt(V){if(de.has(V))return;const x=new Promise((oe,Pe)=>{const ut=()=>{V.removeEventListener("complete",ft),V.removeEventListener("error",k),V.removeEventListener("abort",k)},ft=()=>{oe(),ut()},k=()=>{Pe(V.error||new DOMException("AbortError","AbortError")),ut()};V.addEventListener("complete",ft),V.addEventListener("error",k),V.addEventListener("abort",k)});de.set(V,x)}(V),Pt(V,function Yt(){return pn||(pn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(V,Ye):V)}function yt(V){if(V instanceof IDBRequest)return function zn(V){const x=new Promise((oe,Pe)=>{const ut=()=>{V.removeEventListener("success",ft),V.removeEventListener("error",k)},ft=()=>{oe(yt(V.result)),ut()},k=()=>{Pe(V.error),ut()};V.addEventListener("success",ft),V.addEventListener("error",k)});return x.then(oe=>{oe instanceof IDBCursor&&X.set(oe,V)}).catch(()=>{}),xt.set(x,V),x}(V);if(rt.has(V))return rt.get(V);const x=Tn(V);return x!==V&&(rt.set(V,x),xt.set(x,V)),x}const Ut=V=>xt.get(V),ct=["get","getKey","getAll","getAllKeys","count"],ae=["put","add","delete","clear"],bt=new Map;function tn(V,x){if(!(V instanceof IDBDatabase)||x in V||"string"!=typeof x)return;if(bt.get(x))return bt.get(x);const oe=x.replace(/FromIndex$/,""),Pe=x!==oe,ut=ae.includes(oe);if(!(oe in(Pe?IDBIndex:IDBObjectStore).prototype)||!ut&&!ct.includes(oe))return;const ft=function(){var k=(0,C.Z)(function*(On,...Ae){const _t=this.transaction(On,ut?"readwrite":"readonly");let bl=_t.store;return Pe&&(bl=bl.index(Ae.shift())),(yield Promise.all([bl[oe](...Ae),ut&&_t.done]))[0]});return function(Ae){return k.apply(this,arguments)}}();return bt.set(x,ft),ft}!function Je(V){Ye=V(Ye)}(V=>({...V,get:(x,oe,Pe)=>tn(x,oe)||V.get(x,oe,Pe),has:(x,oe)=>!!tn(x,oe)||V.has(x,oe)}));class Cn{constructor(x){this.container=x}getPlatformInfoString(){return this.container.getProviders().map(oe=>{if(function Mn(V){const x=V.getComponent();return"VERSION"===x?.type}(oe)){const Pe=oe.getImmediate();return`${Pe.library}/${Pe.version}`}return null}).filter(oe=>oe).join(" ")}}const Li="@firebase/app",lt=new N.Yd("@firebase/app"),Ui="[DEFAULT]",Bi={[Li]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},yr=new Map,ii=new Map;function si(V,x){try{V.container.addComponent(x)}catch(oe){lt.debug(`Component ${x.name} failed to register with FirebaseApp ${V.name}`,oe)}}function oi(V,x){V.container.addOrOverwriteComponent(x)}function ar(V){const x=V.name;if(ii.has(x))return lt.debug(`There were multiple attempts to register component ${x}.`),!1;ii.set(x,V);for(const oe of yr.values())si(oe,V);return!0}function Bt(V,x){const oe=V.container.getProvider("heartbeat").getImmediate({optional:!0});return oe&&oe.triggerHeartbeat(),V.container.getProvider(x)}function ai(V,x,oe=Ui){Bt(V,x).clearInstance(oe)}function Nn(){ii.clear()}const mn=new xe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Sn{constructor(x,oe,Pe){this._isDeleted=!1,this._options=Object.assign({},x),this._config=Object.assign({},oe),this._name=oe.name,this._automaticDataCollectionEnabled=oe.automaticDataCollectionEnabled,this._container=Pe,this.container.addComponent(new W.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(x){this.checkDestroyed(),this._automaticDataCollectionEnabled=x}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(x){this._isDeleted=x}checkDestroyed(){if(this.isDeleted)throw mn.create("app-deleted",{appName:this._name})}}const as="10.6.0";function ls(V,x={}){let oe=V;"object"!=typeof x&&(x={name:x});const Pe=Object.assign({name:Ui,automaticDataCollectionEnabled:!1},x),ut=Pe.name;if("string"!=typeof ut||!ut)throw mn.create("bad-app-name",{appName:String(ut)});if(oe||(oe=(0,xe.aH)()),!oe)throw mn.create("no-options");const ft=yr.get(ut);if(ft){if((0,xe.vZ)(oe,ft.options)&&(0,xe.vZ)(Pe,ft.config))return ft;throw mn.create("duplicate-app",{appName:ut})}const k=new W.H0(ut);for(const Ae of ii.values())k.addComponent(Ae);const On=new Sn(oe,Pe,k);return yr.set(ut,On),On}function ji(V=Ui){const x=yr.get(V);if(!x&&V===Ui&&(0,xe.aH)())return ls();if(!x)throw mn.create("no-app",{appName:V});return x}function Wn(){return Array.from(yr.values())}function Kn(V){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,C.Z)(function*(V){const x=V.name;yr.has(x)&&(yr.delete(x),yield Promise.all(V.container.getProviders().map(oe=>oe.delete())),V.isDeleted=!0)})).apply(this,arguments)}function li(V,x,oe){var Pe;let ut=null!==(Pe=Bi[V])&&void 0!==Pe?Pe:V;oe&&(ut+=`-${oe}`);const ft=ut.match(/\s|\//),k=x.match(/\s|\//);if(ft||k){const On=[`Unable to register library "${ut}" with version "${x}":`];return ft&&On.push(`library name "${ut}" contains illegal characters (whitespace or "/")`),ft&&k&&On.push("and"),k&&On.push(`version name "${x}" contains illegal characters (whitespace or "/")`),void lt.warn(On.join(" "))}ar(new W.wA(`${ut}-version`,()=>({library:ut,version:x}),"VERSION"))}function ya(V,x){if(null!==V&&"function"!=typeof V)throw mn.create("invalid-log-argument");(0,N.Am)(V,x)}function eo(V){(0,N.Ub)(V)}const ko="firebase-heartbeat-database",cs=1,R="firebase-heartbeat-store";let D=null;function I(){return D||(D=function ni(V,x,{blocked:oe,upgrade:Pe,blocking:ut,terminated:ft}={}){const k=indexedDB.open(V,x),On=yt(k);return Pe&&k.addEventListener("upgradeneeded",Ae=>{Pe(yt(k.result),Ae.oldVersion,Ae.newVersion,yt(k.transaction),Ae)}),oe&&k.addEventListener("blocked",Ae=>oe(Ae.oldVersion,Ae.newVersion,Ae)),On.then(Ae=>{ft&&Ae.addEventListener("close",()=>ft()),ut&&Ae.addEventListener("versionchange",_t=>ut(_t.oldVersion,_t.newVersion,_t))}).catch(()=>{}),On}(ko,cs,{upgrade:(V,x)=>{0===x&&V.createObjectStore(R)}}).catch(V=>{throw mn.create("idb-open",{originalErrorMessage:V.message})})),D}function v(){return(v=(0,C.Z)(function*(V){try{return yield(yield I()).transaction(R).objectStore(R).get(be(V))}catch(x){if(x instanceof xe.ZR)lt.warn(x.message);else{const oe=mn.create("idb-get",{originalErrorMessage:x?.message});lt.warn(oe.message)}}})).apply(this,arguments)}function A(V,x){return G.apply(this,arguments)}function G(){return(G=(0,C.Z)(function*(V,x){try{const Pe=(yield I()).transaction(R,"readwrite");yield Pe.objectStore(R).put(x,be(V)),yield Pe.done}catch(oe){if(oe instanceof xe.ZR)lt.warn(oe.message);else{const Pe=mn.create("idb-set",{originalErrorMessage:oe?.message});lt.warn(Pe.message)}}})).apply(this,arguments)}function be(V){return`${V.name}!${V.options.appId}`}class At{constructor(x){this.container=x,this._heartbeatsCache=null;const oe=this.container.getProvider("app").getImmediate();this._storage=new Oe(oe),this._heartbeatsCachePromise=this._storage.read().then(Pe=>(this._heartbeatsCache=Pe,Pe))}triggerHeartbeat(){var x=this;return(0,C.Z)(function*(){var oe;const ut=x.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ft=Ie();if(null==(null===(oe=x._heartbeatsCache)||void 0===oe?void 0:oe.heartbeats)&&(x._heartbeatsCache=yield x._heartbeatsCachePromise),x._heartbeatsCache.lastSentHeartbeatDate!==ft&&!x._heartbeatsCache.heartbeats.some(k=>k.date===ft))return x._heartbeatsCache.heartbeats.push({date:ft,agent:ut}),x._heartbeatsCache.heartbeats=x._heartbeatsCache.heartbeats.filter(k=>{const On=new Date(k.date).valueOf();return Date.now()-On<=2592e6}),x._storage.overwrite(x._heartbeatsCache)})()}getHeartbeatsHeader(){var x=this;return(0,C.Z)(function*(){var oe;if(null===x._heartbeatsCache&&(yield x._heartbeatsCachePromise),null==(null===(oe=x._heartbeatsCache)||void 0===oe?void 0:oe.heartbeats)||0===x._heartbeatsCache.heartbeats.length)return"";const Pe=Ie(),{heartbeatsToSend:ut,unsentEntries:ft}=function $t(V,x=1024){const oe=[];let Pe=V.slice();for(const ut of V){const ft=oe.find(k=>k.agent===ut.agent);if(ft){if(ft.dates.push(ut.date),nr(oe)>x){ft.dates.pop();break}}else if(oe.push({agent:ut.agent,dates:[ut.date]}),nr(oe)>x){oe.pop();break}Pe=Pe.slice(1)}return{heartbeatsToSend:oe,unsentEntries:Pe}}(x._heartbeatsCache.heartbeats),k=(0,xe.L)(JSON.stringify({version:2,heartbeats:ut}));return x._heartbeatsCache.lastSentHeartbeatDate=Pe,ft.length>0?(x._heartbeatsCache.heartbeats=ft,yield x._storage.overwrite(x._heartbeatsCache)):(x._heartbeatsCache.heartbeats=[],x._storage.overwrite(x._heartbeatsCache)),k})()}}function Ie(){return(new Date).toISOString().substring(0,10)}class Oe{constructor(x){this.app=x,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,C.Z)(function*(){return!!(0,xe.hl)()&&(0,xe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var x=this;return(0,C.Z)(function*(){return(yield x._canUseIndexedDBPromise)&&(yield function b(V){return v.apply(this,arguments)}(x.app))||{heartbeats:[]}})()}overwrite(x){var oe=this;return(0,C.Z)(function*(){var Pe;if(yield oe._canUseIndexedDBPromise){const ft=yield oe.read();return A(oe.app,{lastSentHeartbeatDate:null!==(Pe=x.lastSentHeartbeatDate)&&void 0!==Pe?Pe:ft.lastSentHeartbeatDate,heartbeats:x.heartbeats})}})()}add(x){var oe=this;return(0,C.Z)(function*(){var Pe;if(yield oe._canUseIndexedDBPromise){const ft=yield oe.read();return A(oe.app,{lastSentHeartbeatDate:null!==(Pe=x.lastSentHeartbeatDate)&&void 0!==Pe?Pe:ft.lastSentHeartbeatDate,heartbeats:[...ft.heartbeats,...x.heartbeats]})}})()}}function nr(V){return(0,xe.L)(JSON.stringify({version:2,heartbeats:V})).length}!function Lo(V){ar(new W.wA("platform-logger",x=>new Cn(x),"PRIVATE")),ar(new W.wA("heartbeat",x=>new At(x),"PRIVATE")),li(Li,"0.9.23",V),li(Li,"0.9.23","esm2017"),li("fire-js","")}("")},537:(ns,$n,He)=>{He.d($n,{H0:()=>Yt,wA:()=>N});var C=He(861),W=He(58);class N{constructor(X,de,Re){this.name=X,this.instanceFactory=de,this.type=Re,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(X){return this.instantiationMode=X,this}setMultipleInstances(X){return this.multipleInstances=X,this}setServiceProps(X){return this.serviceProps=X,this}setInstanceCreatedCallback(X){return this.onInstanceCreated=X,this}}const xe="[DEFAULT]";class Pt{constructor(X,de){this.name=X,this.container=de,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(X){const de=this.normalizeInstanceIdentifier(X);if(!this.instancesDeferred.has(de)){const Re=new W.BH;if(this.instancesDeferred.set(de,Re),this.isInitialized(de)||this.shouldAutoInitialize())try{const rt=this.getOrInitializeService({instanceIdentifier:de});rt&&Re.resolve(rt)}catch{}}return this.instancesDeferred.get(de).promise}getImmediate(X){var de;const Re=this.normalizeInstanceIdentifier(X?.identifier),rt=null!==(de=X?.optional)&&void 0!==de&&de;if(!this.isInitialized(Re)&&!this.shouldAutoInitialize()){if(rt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Re})}catch(xt){if(rt)return null;throw xt}}getComponent(){return this.component}setComponent(X){if(X.name!==this.name)throw Error(`Mismatching Component ${X.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=X,this.shouldAutoInitialize()){if(function xn(St){return"EAGER"===St.instantiationMode}(X))try{this.getOrInitializeService({instanceIdentifier:xe})}catch{}for(const[de,Re]of this.instancesDeferred.entries()){const rt=this.normalizeInstanceIdentifier(de);try{const xt=this.getOrInitializeService({instanceIdentifier:rt});Re.resolve(xt)}catch{}}}}clearInstance(X=xe){this.instancesDeferred.delete(X),this.instancesOptions.delete(X),this.instances.delete(X)}delete(){var X=this;return(0,C.Z)(function*(){const de=Array.from(X.instances.values());yield Promise.all([...de.filter(Re=>"INTERNAL"in Re).map(Re=>Re.INTERNAL.delete()),...de.filter(Re=>"_delete"in Re).map(Re=>Re._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(X=xe){return this.instances.has(X)}getOptions(X=xe){return this.instancesOptions.get(X)||{}}initialize(X={}){const{options:de={}}=X,Re=this.normalizeInstanceIdentifier(X.instanceIdentifier);if(this.isInitialized(Re))throw Error(`${this.name}(${Re}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const rt=this.getOrInitializeService({instanceIdentifier:Re,options:de});for(const[xt,zn]of this.instancesDeferred.entries())Re===this.normalizeInstanceIdentifier(xt)&&zn.resolve(rt);return rt}onInit(X,de){var Re;const rt=this.normalizeInstanceIdentifier(de),xt=null!==(Re=this.onInitCallbacks.get(rt))&&void 0!==Re?Re:new Set;xt.add(X),this.onInitCallbacks.set(rt,xt);const zn=this.instances.get(rt);return zn&&X(zn,rt),()=>{xt.delete(X)}}invokeOnInitCallbacks(X,de){const Re=this.onInitCallbacks.get(de);if(Re)for(const rt of Re)try{rt(X,de)}catch{}}getOrInitializeService({instanceIdentifier:X,options:de={}}){let Re=this.instances.get(X);if(!Re&&this.component&&(Re=this.component.instanceFactory(this.container,{instanceIdentifier:(St=X,St===xe?void 0:St),options:de}),this.instances.set(X,Re),this.instancesOptions.set(X,de),this.invokeOnInitCallbacks(Re,X),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,X,Re)}catch{}var St;return Re||null}normalizeInstanceIdentifier(X=xe){return this.component?this.component.multipleInstances?X:xe:X}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Yt{constructor(X){this.name=X,this.providers=new Map}addComponent(X){const de=this.getProvider(X.name);if(de.isComponentSet())throw new Error(`Component ${X.name} has already been registered with ${this.name}`);de.setComponent(X)}addOrOverwriteComponent(X){this.getProvider(X.name).isComponentSet()&&this.providers.delete(X.name),this.addComponent(X)}getProvider(X){if(this.providers.has(X))return this.providers.get(X);const de=new Pt(X,this);return this.providers.set(X,de),de}getProviders(){return Array.from(this.providers.values())}}},879:(ns,$n,He)=>{He.d($n,{Am:()=>St,Ub:()=>Yt,Yd:()=>xn,in:()=>W});const C=[];var W=function(X){return X[X.DEBUG=0]="DEBUG",X[X.VERBOSE=1]="VERBOSE",X[X.INFO=2]="INFO",X[X.WARN=3]="WARN",X[X.ERROR=4]="ERROR",X[X.SILENT=5]="SILENT",X}(W||{});const N={debug:W.DEBUG,verbose:W.VERBOSE,info:W.INFO,warn:W.WARN,error:W.ERROR,silent:W.SILENT},xe=W.INFO,Pt={[W.DEBUG]:"log",[W.VERBOSE]:"log",[W.INFO]:"info",[W.WARN]:"warn",[W.ERROR]:"error"},pn=(X,de,...Re)=>{if(de<X.logLevel)return;const rt=(new Date).toISOString(),xt=Pt[de];if(!xt)throw new Error(`Attempted to log a message with an invalid logType (value: ${de})`);console[xt](`[${rt}]  ${X.name}:`,...Re)};class xn{constructor(de){this.name=de,this._logLevel=xe,this._logHandler=pn,this._userLogHandler=null,C.push(this)}get logLevel(){return this._logLevel}set logLevel(de){if(!(de in W))throw new TypeError(`Invalid value "${de}" assigned to \`logLevel\``);this._logLevel=de}setLogLevel(de){this._logLevel="string"==typeof de?N[de]:de}get logHandler(){return this._logHandler}set logHandler(de){if("function"!=typeof de)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=de}get userLogHandler(){return this._userLogHandler}set userLogHandler(de){this._userLogHandler=de}debug(...de){this._userLogHandler&&this._userLogHandler(this,W.DEBUG,...de),this._logHandler(this,W.DEBUG,...de)}log(...de){this._userLogHandler&&this._userLogHandler(this,W.VERBOSE,...de),this._logHandler(this,W.VERBOSE,...de)}info(...de){this._userLogHandler&&this._userLogHandler(this,W.INFO,...de),this._logHandler(this,W.INFO,...de)}warn(...de){this._userLogHandler&&this._userLogHandler(this,W.WARN,...de),this._logHandler(this,W.WARN,...de)}error(...de){this._userLogHandler&&this._userLogHandler(this,W.ERROR,...de),this._logHandler(this,W.ERROR,...de)}}function Yt(X){C.forEach(de=>{de.setLogLevel(X)})}function St(X,de){for(const Re of C){let rt=null;de&&de.level&&(rt=N[de.level]),Re.userLogHandler=null===X?null:(xt,zn,...vt)=>{const Ye=vt.map(Je=>{if(null==Je)return null;if("string"==typeof Je)return Je;if("number"==typeof Je||"boolean"==typeof Je)return Je.toString();if(Je instanceof Error)return Je.message;try{return JSON.stringify(Je)}catch{return null}}).filter(Je=>Je).join(" ");zn>=(rt??xt.logLevel)&&X({level:W[zn].toLowerCase(),message:Ye,args:vt,type:xt.name})}}}},365:(ns,$n,He)=>{He.r($n);var C=He(861),W=He(106),N=He(562),xe=He(58),xn=(He(534),He(879),He(537));function Yt(){return window}function de(){return de=(0,C.Z)(function*(I,b,v){var A;const{BuildInfo:G}=Yt();(0,N.au)(b.sessionId,"AuthEvent did not contain a session ID");const be=yield function Je(I){return tr.apply(this,arguments)}(b.sessionId),Se={};return(0,N.av)()?Se.ibi=G.packageName:(0,N.aw)()?Se.apn=G.packageName:(0,N.ax)(I,"operation-not-supported-in-this-environment"),G.displayName&&(Se.appDisplayName=G.displayName),Se.sessionId=be,(0,N.ay)(I,v,b.type,void 0,null!==(A=b.eventId)&&void 0!==A?A:void 0,Se)}),de.apply(this,arguments)}function rt(){return(rt=(0,C.Z)(function*(I){const{BuildInfo:b}=Yt(),v={};(0,N.av)()?v.iosBundleId=b.packageName:(0,N.aw)()?v.androidPackageName=b.packageName:(0,N.ax)(I,"operation-not-supported-in-this-environment"),yield(0,N.az)(I,v)})).apply(this,arguments)}function vt(){return(vt=(0,C.Z)(function*(I,b,v){const{cordova:A}=Yt();let G=()=>{};try{yield new Promise((be,Se)=>{let Ge=null;function At(){var Oe;be();const nr=null===(Oe=A.plugins.browsertab)||void 0===Oe?void 0:Oe.close;"function"==typeof nr&&nr(),"function"==typeof v?.close&&v.close()}function Ie(){Ge||(Ge=window.setTimeout(()=>{Se((0,N.aB)(I,"redirect-cancelled-by-user"))},2e3))}function $t(){"visible"===document?.visibilityState&&Ie()}b.addPassiveListener(At),document.addEventListener("resume",Ie,!1),(0,N.aw)()&&document.addEventListener("visibilitychange",$t,!1),G=()=>{b.removePassiveListener(At),document.removeEventListener("resume",Ie,!1),document.removeEventListener("visibilitychange",$t,!1),Ge&&window.clearTimeout(Ge)}})}finally{G()}})).apply(this,arguments)}function tr(){return(tr=(0,C.Z)(function*(I){const b=function Tn(I){if((0,N.au)(/[0-9a-zA-Z]+/.test(I),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(I);const b=new ArrayBuffer(I.length),v=new Uint8Array(b);for(let A=0;A<I.length;A++)v[A]=I.charCodeAt(A);return v}(I),v=yield crypto.subtle.digest("SHA-256",b);return Array.from(new Uint8Array(v)).map(G=>G.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Ut extends N.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(b=>{this.resolveInialized=b})}addPassiveListener(b){this.passiveListeners.add(b)}removePassiveListener(b){this.passiveListeners.delete(b)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(b){return this.resolveInialized(),this.passiveListeners.forEach(v=>v(b)),super.onEvent(b)}initialized(){var b=this;return(0,C.Z)(function*(){yield b.initPromise})()}}function ct(I){return ae.apply(this,arguments)}function ae(){return(ae=(0,C.Z)(function*(I){const b=yield Cn()._get(Mn(I));return b&&(yield Cn()._remove(Mn(I))),b})).apply(this,arguments)}function tn(){const I=[];for(let v=0;v<20;v++){const A=Math.floor(62*Math.random());I.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(A))}return I.join("")}function Cn(){return(0,N.aE)(N.b)}function Mn(I){return(0,N.aF)("authEvent",I.config.apiKey,I.name)}function lt(I){if(!I?.includes("?"))return{};const[b,...v]=I.split("?");return(0,xe.zd)(v.join("?"))}const j=class rs{constructor(){this._redirectPersistence=N.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=N.aG,this._overrideRedirectResult=N.aH}_initialize(b){var v=this;return(0,C.Z)(function*(){const A=b._key();let G=v.eventManagers.get(A);return G||(G=new Ut(b),v.eventManagers.set(A,G),v.attachCallbackListeners(b,G)),G})()}_openPopup(b){(0,N.ax)(b,"operation-not-supported-in-this-environment")}_openRedirect(b,v,A,G){var be=this;return(0,C.Z)(function*(){!function Ye(I){var b,v,A,G,be,Se,Ge,At,Ie,$t;const Oe=Yt();(0,N.aC)("function"==typeof(null===(b=Oe?.universalLinks)||void 0===b?void 0:b.subscribe),I,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,N.aC)(typeof(null===(v=Oe?.BuildInfo)||void 0===v?void 0:v.packageName)<"u",I,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,N.aC)("function"==typeof(null===(be=null===(G=null===(A=Oe?.cordova)||void 0===A?void 0:A.plugins)||void 0===G?void 0:G.browsertab)||void 0===be?void 0:be.openUrl),I,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,N.aC)("function"==typeof(null===(At=null===(Ge=null===(Se=Oe?.cordova)||void 0===Se?void 0:Se.plugins)||void 0===Ge?void 0:Ge.browsertab)||void 0===At?void 0:At.isAvailable),I,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,N.aC)("function"==typeof(null===($t=null===(Ie=Oe?.cordova)||void 0===Ie?void 0:Ie.InAppBrowser)||void 0===$t?void 0:$t.open),I,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(b);const Se=yield be._initialize(b);yield Se.initialized(),Se.resetRedirect(),(0,N.aI)(),yield be._originValidation(b);const Ge=function ni(I,b,v=null){return{type:b,eventId:v,urlResponse:null,sessionId:tn(),postBody:null,tenantId:I.tenantId,error:(0,N.aB)(I,"no-auth-event")}}(b,A,G);yield function Vn(I,b){return Cn()._set(Mn(I),b)}(b,Ge);const At=yield function X(I,b,v){return de.apply(this,arguments)}(b,Ge,v),Ie=yield function xt(I){const{cordova:b}=Yt();return new Promise(v=>{b.plugins.browsertab.isAvailable(A=>{let G=null;A?b.plugins.browsertab.openUrl(I):G=b.InAppBrowser.open(I,(0,N.aA)()?"_blank":"_system","location=yes"),v(G)})})}(At);return function zn(I,b,v){return vt.apply(this,arguments)}(b,Se,Ie)})()}_isIframeWebStorageSupported(b,v){throw new Error("Method not implemented.")}_originValidation(b){const v=b._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function Re(I){return rt.apply(this,arguments)}(b)),this.originValidationPromises[v]}attachCallbackListeners(b,v){const{universalLinks:A,handleOpenURL:G,BuildInfo:be}=Yt(),Se=setTimeout((0,C.Z)(function*(){yield ct(b),v.onEvent(z())}),500),Ge=function(){var $t=(0,C.Z)(function*(Oe){clearTimeout(Se);const nr=yield ct(b);let Lo=null;nr&&Oe?.url&&(Lo=function bt(I,b){var v,A;const G=function Fi(I){const b=lt(I),v=b.link?decodeURIComponent(b.link):void 0,A=lt(v).link,G=b.deep_link_id?decodeURIComponent(b.deep_link_id):void 0;return lt(G).link||G||A||v||I}(b);if(G.includes("/__/auth/callback")){const be=lt(G),Se=be.firebaseError?function Li(I){try{return JSON.parse(I)}catch{return null}}(decodeURIComponent(be.firebaseError)):null,Ge=null===(A=null===(v=Se?.code)||void 0===v?void 0:v.split("auth/"))||void 0===A?void 0:A[1],At=Ge?(0,N.aB)(Ge):null;return At?{type:I.type,eventId:I.eventId,tenantId:I.tenantId,error:At,urlResponse:null,sessionId:null,postBody:null}:{type:I.type,eventId:I.eventId,tenantId:I.tenantId,sessionId:I.sessionId,urlResponse:G,postBody:null}}return null}(nr,Oe.url)),v.onEvent(Lo||z())});return function(nr){return $t.apply(this,arguments)}}();typeof A<"u"&&"function"==typeof A.subscribe&&A.subscribe(null,Ge);const At=G,Ie=`${be.packageName.toLowerCase()}://`;Yt().handleOpenURL=function(){var $t=(0,C.Z)(function*(Oe){if(Oe.toLowerCase().startsWith(Ie)&&Ge({url:Oe}),"function"==typeof At)try{At(Oe)}catch(nr){console.error(nr)}});return function(Oe){return $t.apply(this,arguments)}}()}};function z(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,N.aB)("no-auth-event")}}function pe(){var I;return(null===(I=self?.location)||void 0===I?void 0:I.protocol)||null}function Ee(I=(0,xe.z$)()){return!("file:"!==pe()&&"ionic:"!==pe()&&"capacitor:"!==pe()||!I.toLowerCase().match(/iphone|ipad|ipod|android/))}function gn(){try{const I=self.localStorage,b=N.aN();if(I)return I.setItem(b,"1"),I.removeItem(b),!function Gt(I=(0,xe.z$)()){return function Dt(){return(0,xe.w1)()&&11===document?.documentMode}()||function ln(I=(0,xe.z$)()){return/Edge\/\d+/.test(I)}(I)}()||(0,xe.hl)()}catch{return qn()&&(0,xe.hl)()}return!1}function qn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Gn(){return(function mt(){return"http:"===pe()||"https:"===pe()}()||(0,xe.ru)()||Ee())&&!function Ue(){return(0,xe.b$)()||(0,xe.UG)()}()&&gn()&&!qn()}function or(){return Ee()&&typeof document<"u"}function Vi(){return(Vi=(0,C.Z)(function*(){return!!or()&&new Promise(I=>{const b=setTimeout(()=>{I(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(b),I(!0)})})})).apply(this,arguments)}const Tt={LOCAL:"local",NONE:"none",SESSION:"session"},ss=N.aC,os="persistence";function Bi(I){return yr.apply(this,arguments)}function yr(){return(yr=(0,C.Z)(function*(I){yield I._initializationPromise;const b=si(),v=N.aF(os,I.config.apiKey,I.name);b&&b.setItem(v,I._getPersistence())})).apply(this,arguments)}function si(){var I;try{return(null===(I=function is(){return typeof window<"u"?window:null}())||void 0===I?void 0:I.sessionStorage)||null}catch{return null}}const oi=N.aC;class ar{constructor(){this.browserResolver=N.aE(N.k),this.cordovaResolver=N.aE(j),this.underlyingResolver=null,this._redirectPersistence=N.a,this._completeRedirectFn=N.aG,this._overrideRedirectResult=N.aH}_initialize(b){var v=this;return(0,C.Z)(function*(){return yield v.selectUnderlyingResolver(),v.assertedUnderlyingResolver._initialize(b)})()}_openPopup(b,v,A,G){var be=this;return(0,C.Z)(function*(){return yield be.selectUnderlyingResolver(),be.assertedUnderlyingResolver._openPopup(b,v,A,G)})()}_openRedirect(b,v,A,G){var be=this;return(0,C.Z)(function*(){return yield be.selectUnderlyingResolver(),be.assertedUnderlyingResolver._openRedirect(b,v,A,G)})()}_isIframeWebStorageSupported(b,v){this.assertedUnderlyingResolver._isIframeWebStorageSupported(b,v)}_originValidation(b){return this.assertedUnderlyingResolver._originValidation(b)}get _shouldInitProactively(){return or()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return oi(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var b=this;return(0,C.Z)(function*(){if(b.underlyingResolver)return;const v=yield function Vr(){return Vi.apply(this,arguments)}();b.underlyingResolver=v?b.cordovaResolver:b.browserResolver})()}}function Bt(I){return I.unwrap()}function Nn(I){return mn(I)}function mn(I){const{_tokenResponse:b}=I instanceof xe.ZR?I.customData:I;if(!b)return null;if(!(I instanceof xe.ZR)&&"temporaryProof"in b&&"phoneNumber"in b)return N.P.credentialFromResult(I);const v=b.providerId;if(!v||v===N.p.PASSWORD)return null;let A;switch(v){case N.p.GOOGLE:A=N.X;break;case N.p.FACEBOOK:A=N.W;break;case N.p.GITHUB:A=N.Y;break;case N.p.TWITTER:A=N.$;break;default:const{oauthIdToken:G,oauthAccessToken:be,oauthTokenSecret:Se,pendingToken:Ge,nonce:At}=b;return be||Se||G||Ge?Ge?v.startsWith("saml.")?N.aQ._create(v,Ge):N.N._fromParams({providerId:v,signInMethod:v,pendingToken:Ge,idToken:G,accessToken:be}):new N.Z(v).credential({idToken:G,accessToken:be,rawNonce:At}):null}return I instanceof xe.ZR?A.credentialFromError(I):A.credentialFromResult(I)}function Sn(I,b){return b.catch(v=>{throw v instanceof xe.ZR&&function wl(I,b){var v;const A=null===(v=b.customData)||void 0===v?void 0:v._tokenResponse;if("auth/multi-factor-auth-required"===b?.code)b.resolver=new ji(I,N.as(I,b));else if(A){const G=mn(b),be=b;G&&(be.credential=G,be.tenantId=A.tenantId||void 0,be.email=A.email||void 0,be.phoneNumber=A.phoneNumber||void 0)}}(I,v),v}).then(v=>{const G=v.user;return{operationType:v.operationType,credential:Nn(v),additionalUserInfo:N.aq(v),user:Wn.getOrCreate(G)}})}function as(I,b){return ls.apply(this,arguments)}function ls(){return(ls=(0,C.Z)(function*(I,b){const v=yield b;return{verificationId:v.verificationId,confirm:A=>Sn(I,v.confirm(A))}})).apply(this,arguments)}class ji{constructor(b,v){this.resolver=v,this.auth=function ai(I){return I.wrapped()}(b)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(b){return Sn(Bt(this.auth),this.resolver.resolveSignIn(b))}}class Wn{constructor(b){this._delegate=b,this.multiFactor=N.at(b)}static getOrCreate(b){return Wn.USER_MAP.has(b)||Wn.USER_MAP.set(b,new Wn(b)),Wn.USER_MAP.get(b)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(b){return this._delegate.getIdTokenResult(b)}getIdToken(b){return this._delegate.getIdToken(b)}linkAndRetrieveDataWithCredential(b){return this.linkWithCredential(b)}linkWithCredential(b){var v=this;return(0,C.Z)(function*(){return Sn(v.auth,N.a2(v._delegate,b))})()}linkWithPhoneNumber(b,v){var A=this;return(0,C.Z)(function*(){return as(A.auth,N.l(A._delegate,b,v))})()}linkWithPopup(b){var v=this;return(0,C.Z)(function*(){return Sn(v.auth,N.d(v._delegate,b,ar))})()}linkWithRedirect(b){var v=this;return(0,C.Z)(function*(){return yield Bi(N.aJ(v.auth)),N.g(v._delegate,b,ar)})()}reauthenticateAndRetrieveDataWithCredential(b){return this.reauthenticateWithCredential(b)}reauthenticateWithCredential(b){var v=this;return(0,C.Z)(function*(){return Sn(v.auth,N.a3(v._delegate,b))})()}reauthenticateWithPhoneNumber(b,v){return as(this.auth,N.r(this._delegate,b,v))}reauthenticateWithPopup(b){return Sn(this.auth,N.e(this._delegate,b,ar))}reauthenticateWithRedirect(b){var v=this;return(0,C.Z)(function*(){return yield Bi(N.aJ(v.auth)),N.h(v._delegate,b,ar)})()}sendEmailVerification(b){return N.ag(this._delegate,b)}unlink(b){var v=this;return(0,C.Z)(function*(){return yield N.ap(v._delegate,b),v})()}updateEmail(b){return N.al(this._delegate,b)}updatePassword(b){return N.am(this._delegate,b)}updatePhoneNumber(b){return N.u(this._delegate,b)}updateProfile(b){return N.ak(this._delegate,b)}verifyBeforeUpdateEmail(b,v){return N.ah(this._delegate,b,v)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Wn.USER_MAP=new WeakMap;const Kn=N.aC;let Dr=(()=>{class I{constructor(v,A){if(this.app=v,A.isInitialized())return this._delegate=A.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:G}=v.options;Kn(G,"invalid-api-key",{appName:v.name}),Kn(G,"invalid-api-key",{appName:v.name});const be=typeof window<"u"?ar:void 0;this._delegate=A.initialize({options:{persistence:ya(G,v.name),popupRedirectResolver:be}}),this._delegate._updateErrorMap(N.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Wn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(v){this._delegate.languageCode=v}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(v){this._delegate.tenantId=v}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(v,A){N.K(this._delegate,v,A)}applyActionCode(v){return N.a7(this._delegate,v)}checkActionCode(v){return N.a8(this._delegate,v)}confirmPasswordReset(v,A){return N.a6(this._delegate,v,A)}createUserWithEmailAndPassword(v,A){var G=this;return(0,C.Z)(function*(){return Sn(G._delegate,N.aa(G._delegate,v,A))})()}fetchProvidersForEmail(v){return this.fetchSignInMethodsForEmail(v)}fetchSignInMethodsForEmail(v){return N.af(this._delegate,v)}isSignInWithEmailLink(v){return N.ad(this._delegate,v)}getRedirectResult(){var v=this;return(0,C.Z)(function*(){Kn(Gn(),v._delegate,"operation-not-supported-in-this-environment");const A=yield N.j(v._delegate,ar);return A?Sn(v._delegate,Promise.resolve(A)):{credential:null,user:null}})()}addFrameworkForLogging(v){!function q(I,b){(0,N.aJ)(I)._logFramework(b)}(this._delegate,v)}onAuthStateChanged(v,A,G){const{next:be,error:Se,complete:Ge}=li(v,A,G);return this._delegate.onAuthStateChanged(be,Se,Ge)}onIdTokenChanged(v,A,G){const{next:be,error:Se,complete:Ge}=li(v,A,G);return this._delegate.onIdTokenChanged(be,Se,Ge)}sendSignInLinkToEmail(v,A){return N.ac(this._delegate,v,A)}sendPasswordResetEmail(v,A){return N.a5(this._delegate,v,A||void 0)}setPersistence(v){var A=this;return(0,C.Z)(function*(){let G;switch(function Ui(I,b){ss(Object.values(Tt).includes(b),I,"invalid-persistence-type"),(0,xe.b$)()?ss(b!==Tt.SESSION,I,"unsupported-persistence-type"):(0,xe.UG)()?ss(b===Tt.NONE,I,"unsupported-persistence-type"):qn()?ss(b===Tt.NONE||b===Tt.LOCAL&&(0,xe.hl)(),I,"unsupported-persistence-type"):ss(b===Tt.NONE||gn(),I,"unsupported-persistence-type")}(A._delegate,v),v){case Tt.SESSION:G=N.a;break;case Tt.LOCAL:G=(yield N.aE(N.i)._isAvailable())?N.i:N.b;break;case Tt.NONE:G=N.U;break;default:return N.ax("argument-error",{appName:A._delegate.name})}return A._delegate.setPersistence(G)})()}signInAndRetrieveDataWithCredential(v){return this.signInWithCredential(v)}signInAnonymously(){return Sn(this._delegate,N.a0(this._delegate))}signInWithCredential(v){return Sn(this._delegate,N.a1(this._delegate,v))}signInWithCustomToken(v){return Sn(this._delegate,N.a4(this._delegate,v))}signInWithEmailAndPassword(v,A){return Sn(this._delegate,N.ab(this._delegate,v,A))}signInWithEmailLink(v,A){return Sn(this._delegate,N.ae(this._delegate,v,A))}signInWithPhoneNumber(v,A){return as(this._delegate,N.s(this._delegate,v,A))}signInWithPopup(v){var A=this;return(0,C.Z)(function*(){return Kn(Gn(),A._delegate,"operation-not-supported-in-this-environment"),Sn(A._delegate,N.c(A._delegate,v,ar))})()}signInWithRedirect(v){var A=this;return(0,C.Z)(function*(){return Kn(Gn(),A._delegate,"operation-not-supported-in-this-environment"),yield Bi(A._delegate),N.f(A._delegate,v,ar)})()}updateCurrentUser(v){return this._delegate.updateCurrentUser(v)}verifyPasswordResetCode(v){return N.a9(this._delegate,v)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return I.Persistence=Tt,I})();function li(I,b,v){let A=I;"function"!=typeof I&&({next:A,error:b,complete:v}=I);const G=A;return{next:Se=>G(Se&&Wn.getOrCreate(Se)),error:b,complete:v}}function ya(I,b){const v=function ii(I,b){const v=si();if(!v)return[];const A=N.aF(os,I,b);switch(v.getItem(A)){case Tt.NONE:return[N.U];case Tt.LOCAL:return[N.i,N.a];case Tt.SESSION:return[N.a];default:return[]}}(I,b);if(typeof self<"u"&&!v.includes(N.i)&&v.push(N.i),typeof window<"u")for(const A of[N.b,N.a])v.includes(A)||v.push(A);return v.includes(N.U)||v.push(N.U),v}class eo{constructor(){this.providerId="phone",this._delegate=new N.P(Bt(W.Z.auth()))}static credential(b,v){return N.P.credential(b,v)}verifyPhoneNumber(b,v){return this._delegate.verifyPhoneNumber(b,v)}unwrap(){return this._delegate}}eo.PHONE_SIGN_IN_METHOD=N.P.PHONE_SIGN_IN_METHOD,eo.PROVIDER_ID=N.P.PROVIDER_ID;const ko=N.aC;class cs{constructor(b,v,A=W.Z.app()){var G;ko(null===(G=A.options)||void 0===G?void 0:G.apiKey,"invalid-api-key",{appName:A.name}),this._delegate=new N.R(A.auth(),b,v),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function D(I){I.INTERNAL.registerComponent(new xn.wA("auth-compat",b=>{const v=b.getProvider("app-compat").getImmediate(),A=b.getProvider("auth");return new Dr(v,A)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:N.A.EMAIL_SIGNIN,PASSWORD_RESET:N.A.PASSWORD_RESET,RECOVER_EMAIL:N.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:N.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:N.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:N.A.VERIFY_EMAIL}},EmailAuthProvider:N.V,FacebookAuthProvider:N.W,GithubAuthProvider:N.Y,GoogleAuthProvider:N.X,OAuthProvider:N.Z,SAMLAuthProvider:N._,PhoneAuthProvider:eo,PhoneMultiFactorGenerator:N.m,RecaptchaVerifier:cs,TwitterAuthProvider:N.$,Auth:Dr,AuthCredential:N.L,Error:xe.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),I.registerVersion("@firebase/auth-compat","0.4.9")}(W.Z)},861:(ns,$n,He)=>{function C(N,xe,Pt,pn,xn,Yt,St){try{var X=N[Yt](St),de=X.value}catch(Re){return void Pt(Re)}X.done?xe(de):Promise.resolve(de).then(pn,xn)}function W(N){return function(){var xe=this,Pt=arguments;return new Promise(function(pn,xn){var Yt=N.apply(xe,Pt);function St(de){C(Yt,pn,xn,St,X,"next",de)}function X(de){C(Yt,pn,xn,St,X,"throw",de)}St(void 0)})}}He.d($n,{Z:()=>W})},582:(ns,$n,He)=>{function xe(j,z){var q={};for(var B in j)Object.prototype.hasOwnProperty.call(j,B)&&z.indexOf(B)<0&&(q[B]=j[B]);if(null!=j&&"function"==typeof Object.getOwnPropertySymbols){var te=0;for(B=Object.getOwnPropertySymbols(j);te<B.length;te++)z.indexOf(B[te])<0&&Object.prototype.propertyIsEnumerable.call(j,B[te])&&(q[B[te]]=j[B[te]])}return q}function Re(j,z,q,B){return new(q||(q=Promise))(function(ee,pe){function mt(Dt){try{Ue(B.next(Dt))}catch(ln){pe(ln)}}function Ee(Dt){try{Ue(B.throw(Dt))}catch(ln){pe(ln)}}function Ue(Dt){Dt.done?ee(Dt.value):function te(ee){return ee instanceof q?ee:new q(function(pe){pe(ee)})}(Dt.value).then(mt,Ee)}Ue((B=B.apply(j,z||[])).next())})}function yt(j){return this instanceof yt?(this.v=j,this):new yt(j)}function Ut(j,z,q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var te,B=q.apply(j,z||[]),ee=[];return te={},pe("next"),pe("throw"),pe("return"),te[Symbol.asyncIterator]=function(){return this},te;function pe(Gt){B[Gt]&&(te[Gt]=function(gn){return new Promise(function(qn,Gn){ee.push([Gt,gn,qn,Gn])>1||mt(Gt,gn)})})}function mt(Gt,gn){try{!function Ee(Gt){Gt.value instanceof yt?Promise.resolve(Gt.value.v).then(Ue,Dt):ln(ee[0][2],Gt)}(B[Gt](gn))}catch(qn){ln(ee[0][3],qn)}}function Ue(Gt){mt("next",Gt)}function Dt(Gt){mt("throw",Gt)}function ln(Gt,gn){Gt(gn),ee.shift(),ee.length&&mt(ee[0][0],ee[0][1])}}function Vn(j){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var q,z=j[Symbol.asyncIterator];return z?z.call(j):(j=function vt(j){var z="function"==typeof Symbol&&Symbol.iterator,q=z&&j[z],B=0;if(q)return q.call(j);if(j&&"number"==typeof j.length)return{next:function(){return j&&B>=j.length&&(j=void 0),{value:j&&j[B++],done:!j}}};throw new TypeError(z?"Object is not iterable.":"Symbol.iterator is not defined.")}(j),q={},B("next"),B("throw"),B("return"),q[Symbol.asyncIterator]=function(){return this},q);function B(ee){q[ee]=j[ee]&&function(pe){return new Promise(function(mt,Ee){!function te(ee,pe,mt,Ee){Promise.resolve(Ee).then(function(Ue){ee({value:Ue,done:mt})},pe)}(mt,Ee,(pe=j[ee](pe)).done,pe.value)})}}}He.d($n,{FC:()=>Ut,KL:()=>Vn,_T:()=>xe,mG:()=>Re,qq:()=>yt}),"function"==typeof SuppressedError&&SuppressedError}},ns=>{ns(ns.s=378)}]);