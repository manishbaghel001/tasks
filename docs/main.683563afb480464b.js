"use strict";(self.webpackChunktasks=self.webpackChunktasks||[]).push([[179],{4939:(Mt,He,U)=>{U.d(He,{$:()=>No,A:()=>ae,G:()=>Ke,K:()=>_o,L:()=>Ts,N:()=>Kr,P:()=>Lp,R:()=>co,U:()=>It,V:()=>wi,W:()=>Lr,X:()=>ar,Y:()=>Io,Z:()=>bi,_:()=>eo,a:()=>_u,a0:()=>Lo,a1:()=>Ri,a2:()=>os,a3:()=>bs,a4:()=>as,a5:()=>ko,a6:()=>al,a7:()=>Ea,a8:()=>$s,a9:()=>ll,aA:()=>Ft,aB:()=>Me,aC:()=>ve,aD:()=>zl,aE:()=>Fe,aF:()=>xt,aG:()=>Qi,aH:()=>ml,aI:()=>Yr,aJ:()=>Vn,aN:()=>wa,aQ:()=>Xs,aa:()=>Ll,ab:()=>Uo,ac:()=>kl,ad:()=>Z,ae:()=>y,af:()=>le,ag:()=>O,ah:()=>k,ak:()=>gt,al:()=>$t,am:()=>an,ap:()=>ea,aq:()=>Vr,as:()=>To,at:()=>Jt,au:()=>ge,av:()=>et,aw:()=>we,ax:()=>oe,ay:()=>Id,az:()=>fo,b:()=>Vl,c:()=>Iu,d:()=>wu,e:()=>Eu,f:()=>gd,g:()=>Up,h:()=>jh,i:()=>v,j:()=>Co,k:()=>Qh,l:()=>Ec,m:()=>Ac,p:()=>ue,r:()=>Ho,s:()=>Uh,u:()=>Hl});var p=U(5861),V=U(9058),b=U(534),Ce=U(7879),$=U(7582),Y=U(4537);const ue={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ae={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ke=function ye(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},lt=function je(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Xe=new V.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),it=new Ce.Yd("@firebase/auth");function ut(I,...f){it.logLevel<=Ce.in.ERROR&&it.error(`Auth (${b.SDK_VERSION}): ${I}`,...f)}function oe(I,...f){throw be(I,...f)}function Me(I,...f){return be(I,...f)}function pe(I,f,m){const C=Object.assign(Object.assign({},lt()),{[f]:m});return new V.LL("auth","Firebase",C).create(f,{appName:I.name})}function me(I,f,m){if(!(f instanceof m))throw m.name!==f.constructor.name&&oe(I,"argument-error"),pe(I,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function be(I,...f){if("string"!=typeof I){const m=f[0],C=[...f.slice(1)];return C[0]&&(C[0].appName=I.name),I._errorFactory.create(m,...C)}return Xe.create(I,...f)}function ve(I,f,...m){if(!I)throw be(f,...m)}function tt(I){const f="INTERNAL ASSERTION FAILED: "+I;throw ut(f),new Error(f)}function ge(I,f){I||tt(f)}function Lt(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.href)||""}function pt(){return"http:"===st()||"https:"===st()}function st(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class bt{constructor(f,m){this.shortDelay=f,this.longDelay=m,ge(m>f,"Short delay should be less than long delay!"),this.isMobile=(0,V.uI)()||(0,V.b$)()}get(){return function _n(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(pt()||(0,V.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Pt(I,f){ge(I.emulator,"Emulator should always be set here");const{url:m}=I.emulator;return f?`${m}${f.startsWith("/")?f.slice(1):f}`:m}class Se{static initialize(f,m,C){this.fetchImpl=f,m&&(this.headersImpl=m),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void tt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void tt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void tt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ne={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ge=new bt(3e4,6e4);function ke(I,f){return I.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:I.tenantId}):f}function We(I,f,m,C){return at.apply(this,arguments)}function at(){return(at=(0,p.Z)(function*(I,f,m,C,q={}){return Tt(I,q,(0,p.Z)(function*(){let se={},Ve={};C&&("GET"===f?Ve=C:se={body:JSON.stringify(C)});const nt=(0,V.xO)(Object.assign({key:I.config.apiKey},Ve)).slice(1),Et=yield I._getAdditionalHeaders();return Et["Content-Type"]="application/json",I.languageCode&&(Et["X-Firebase-Locale"]=I.languageCode),Se.fetch()(Nn(I,I.config.apiHost,m,nt),Object.assign({method:f,headers:Et,referrerPolicy:"no-referrer"},se))}))})).apply(this,arguments)}function Tt(I,f,m){return ft.apply(this,arguments)}function ft(){return(ft=(0,p.Z)(function*(I,f,m){I._canInitEmulator=!1;const C=Object.assign(Object.assign({},Ne),f);try{const q=new Bn(I),se=yield Promise.race([m(),q.promise]);q.clearNetworkTimeout();const Ve=yield se.json();if("needConfirmation"in Ve)throw ln(I,"account-exists-with-different-credential",Ve);if(se.ok&&!("errorMessage"in Ve))return Ve;{const nt=se.ok?Ve.errorMessage:Ve.error.message,[Et,Xt]=nt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Et)throw ln(I,"credential-already-in-use",Ve);if("EMAIL_EXISTS"===Et)throw ln(I,"email-already-in-use",Ve);if("USER_DISABLED"===Et)throw ln(I,"user-disabled",Ve);const cn=C[Et]||Et.toLowerCase().replace(/[_\s]+/g,"-");if(Xt)throw pe(I,cn,Xt);oe(I,cn)}}catch(q){if(q instanceof V.ZR)throw q;oe(I,"network-request-failed",{message:String(q)})}})).apply(this,arguments)}function En(I,f,m,C){return on.apply(this,arguments)}function on(){return(on=(0,p.Z)(function*(I,f,m,C,q={}){const se=yield We(I,f,m,C,q);return"mfaPendingCredential"in se&&oe(I,"multi-factor-auth-required",{_serverResponse:se}),se})).apply(this,arguments)}function Nn(I,f,m,C){const q=`${f}${m}?${C}`;return I.config.emulator?Pt(I.config,q):`${I.config.apiScheme}://${q}`}function un(I){switch(I){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Bn{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((m,C)=>{this.timer=setTimeout(()=>C(Me(this.auth,"network-request-failed")),Ge.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ln(I,f,m){const C={appName:I.name};m.email&&(C.email=m.email),m.phoneNumber&&(C.phoneNumber=m.phoneNumber);const q=Me(I,f,C);return q.customData._tokenResponse=m,q}function Fn(I){return void 0!==I&&void 0!==I.getResponse}function wn(I){return void 0!==I&&void 0!==I.enterprise}class Wt{constructor(f){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===f.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=f.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=f.recaptchaEnforcementState}getProviderEnforcementState(f){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const m of this.recaptchaEnforcementState)if(m.provider&&m.provider===f)return un(m.enforcementState);return null}isProviderEnabled(f){return"ENFORCE"===this.getProviderEnforcementState(f)||"AUDIT"===this.getProviderEnforcementState(f)}}function cr(){return(cr=(0,p.Z)(function*(I){return(yield We(I,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Pn(I,f){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,p.Z)(function*(I,f){return We(I,"GET","/v2/recaptchaConfig",ke(I,f))})).apply(this,arguments)}function ir(){return(ir=(0,p.Z)(function*(I,f){return We(I,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function hn(){return(hn=(0,p.Z)(function*(I,f){return We(I,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function tr(){return(tr=(0,p.Z)(function*(I,f){return We(I,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function fr(I){if(I)try{const f=new Date(Number(I));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function Pe(){return(Pe=(0,p.Z)(function*(I,f=!1){const m=(0,V.m9)(I),C=yield m.getIdToken(f),q=qe(C);ve(q&&q.exp&&q.auth_time&&q.iat,m.auth,"internal-error");const se="object"==typeof q.firebase?q.firebase:void 0,Ve=se?.sign_in_provider;return{claims:q,token:C,authTime:fr($e(q.auth_time)),issuedAtTime:fr($e(q.iat)),expirationTime:fr($e(q.exp)),signInProvider:Ve||null,signInSecondFactor:se?.sign_in_second_factor||null}})).apply(this,arguments)}function $e(I){return 1e3*Number(I)}function qe(I){const[f,m,C]=I.split(".");if(void 0===f||void 0===m||void 0===C)return ut("JWT malformed, contained fewer than 3 sections"),null;try{const q=(0,V.tV)(m);return q?JSON.parse(q):(ut("Failed to decode base64 JWT payload"),null)}catch(q){return ut("Caught error parsing JWT payload as JSON",q?.toString()),null}}function At(I,f){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,p.Z)(function*(I,f,m=!1){if(m)return f;try{return yield f}catch(C){throw C instanceof V.ZR&&function Qt({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}(C)&&I.auth.currentUser===I&&(yield I.auth.signOut()),C}})).apply(this,arguments)}class Nr{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var m;if(f){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const q=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,q)}}schedule(f=!1){var m=this;if(!this.isRunning)return;const C=this.getInterval(f);this.timerId=setTimeout((0,p.Z)(function*(){yield m.iteration()}),C)}iteration(){var f=this;return(0,p.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m?.code&&f.schedule(!0))}f.schedule()})()}}class ri{constructor(f,m){this.createdAt=f,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=fr(this.lastLoginAt),this.creationTime=fr(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Rn(I){return Ir.apply(this,arguments)}function Ir(){return Ir=(0,p.Z)(function*(I){var f;const m=I.auth,C=yield I.getIdToken(),q=yield At(I,function tn(I,f){return tr.apply(this,arguments)}(m,{idToken:C}));ve(q?.users.length,m,"internal-error");const se=q.users[0];I._notifyReloadListener(se);const Ve=null!==(f=se.providerUserInfo)&&void 0!==f&&f.length?function qr(I){return I.map(f=>{var{providerId:m}=f,C=(0,$._T)(f,["providerId"]);return{providerId:m,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}(se.providerUserInfo):[],nt=function fi(I,f){return[...I.filter(C=>!f.some(q=>q.providerId===C.providerId)),...f]}(I.providerData,Ve),cn=!!I.isAnonymous&&!(I.email&&se.passwordHash||nt?.length),hr={uid:se.localId,displayName:se.displayName||null,photoURL:se.photoUrl||null,email:se.email||null,emailVerified:se.emailVerified||!1,phoneNumber:se.phoneNumber||null,tenantId:se.tenantId||null,providerData:nt,metadata:new ri(se.createdAt,se.lastLoginAt),isAnonymous:cn};Object.assign(I,hr)}),Ir.apply(this,arguments)}function Jr(){return(Jr=(0,p.Z)(function*(I){const f=(0,V.m9)(I);yield Rn(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function Ur(){return(Ur=(0,p.Z)(function*(I,f){const m=yield Tt(I,{},(0,p.Z)(function*(){const C=(0,V.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:q,apiKey:se}=I.config,Ve=Nn(I,q,"/v1/token",`key=${se}`),nt=yield I._getAdditionalHeaders();return nt["Content-Type"]="application/x-www-form-urlencoded",Se.fetch()(Ve,{method:"POST",headers:nt,body:C})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}function ne(){return(ne=(0,p.Z)(function*(I,f){return We(I,"POST","/v2/accounts:revokeToken",ke(I,f))})).apply(this,arguments)}class z{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){ve(f.idToken,"internal-error"),ve(typeof f.idToken<"u","internal-error"),ve(typeof f.refreshToken<"u","internal-error");const m="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function Bt(I){const f=qe(I);return ve(f,"internal-error"),ve(typeof f.exp<"u","internal-error"),ve(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,m)}getToken(f,m=!1){var C=this;return(0,p.Z)(function*(){return ve(!C.accessToken||C.refreshToken,f,"user-token-expired"),m||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(f,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,m){var C=this;return(0,p.Z)(function*(){const{accessToken:q,refreshToken:se,expiresIn:Ve}=yield function Pr(I,f){return Ur.apply(this,arguments)}(f,m);C.updateTokensAndExpiration(q,se,Number(Ve))})()}updateTokensAndExpiration(f,m,C){this.refreshToken=m||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(f,m){const{refreshToken:C,accessToken:q,expirationTime:se}=m,Ve=new z;return C&&(ve("string"==typeof C,"internal-error",{appName:f}),Ve.refreshToken=C),q&&(ve("string"==typeof q,"internal-error",{appName:f}),Ve.accessToken=q),se&&(ve("number"==typeof se,"internal-error",{appName:f}),Ve.expirationTime=se),Ve}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new z,this.toJSON())}_performRefresh(){return tt("not implemented")}}function F(I,f){ve("string"==typeof I||typeof I>"u","internal-error",{appName:f})}class L{constructor(f){var{uid:m,auth:C,stsTokenManager:q}=f,se=(0,$._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Nr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=C,this.stsTokenManager=q,this.accessToken=q.accessToken,this.displayName=se.displayName||null,this.email=se.email||null,this.emailVerified=se.emailVerified||!1,this.phoneNumber=se.phoneNumber||null,this.photoURL=se.photoURL||null,this.isAnonymous=se.isAnonymous||!1,this.tenantId=se.tenantId||null,this.providerData=se.providerData?[...se.providerData]:[],this.metadata=new ri(se.createdAt||void 0,se.lastLoginAt||void 0)}getIdToken(f){var m=this;return(0,p.Z)(function*(){const C=yield At(m,m.stsTokenManager.getToken(m.auth,f));return ve(C,m.auth,"internal-error"),m.accessToken!==C&&(m.accessToken=C,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),C})()}getIdTokenResult(f){return function Ct(I){return Pe.apply(this,arguments)}(this,f)}reload(){return function Ar(I){return Jr.apply(this,arguments)}(this)}_assign(f){this!==f&&(ve(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(m=>Object.assign({},m)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){const m=new L(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}));return m.metadata._copy(this.metadata),m}_onReload(f){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,m=!1){var C=this;return(0,p.Z)(function*(){let q=!1;f.idToken&&f.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(f),q=!0),m&&(yield Rn(C)),yield C.auth._persistUserIfCurrent(C),q&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var f=this;return(0,p.Z)(function*(){const m=yield f.getIdToken();return yield At(f,function Cr(I,f){return ir.apply(this,arguments)}(f.auth,{idToken:m})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,m){var C,q,se,Ve,nt,Et,Xt,cn;const hr=null!==(C=m.displayName)&&void 0!==C?C:void 0,Ls=null!==(q=m.email)&&void 0!==q?q:void 0,El=null!==(se=m.phoneNumber)&&void 0!==se?se:void 0,Go=null!==(Ve=m.photoURL)&&void 0!==Ve?Ve:void 0,Jh=null!==(nt=m.tenantId)&&void 0!==nt?nt:void 0,ys=null!==(Et=m._redirectEventId)&&void 0!==Et?Et:void 0,Xh=null!==(Xt=m.createdAt)&&void 0!==Xt?Xt:void 0,Nu=null!==(cn=m.lastLoginAt)&&void 0!==cn?cn:void 0,{uid:Kl,emailVerified:ua,isAnonymous:ef,providerData:Zl,stsTokenManager:Gp}=m;ve(Kl&&Gp,f,"internal-error");const Wg=z.fromJSON(this.name,Gp);ve("string"==typeof Kl,f,"internal-error"),F(hr,f.name),F(Ls,f.name),ve("boolean"==typeof ua,f,"internal-error"),ve("boolean"==typeof ef,f,"internal-error"),F(El,f.name),F(Go,f.name),F(Jh,f.name),F(ys,f.name),F(Xh,f.name),F(Nu,f.name);const Qn=new L({uid:Kl,auth:f,email:Ls,emailVerified:ua,displayName:hr,isAnonymous:ef,photoURL:Go,phoneNumber:El,tenantId:Jh,stsTokenManager:Wg,createdAt:Xh,lastLoginAt:Nu});return Zl&&Array.isArray(Zl)&&(Qn.providerData=Zl.map(Mc=>Object.assign({},Mc))),ys&&(Qn._redirectEventId=ys),Qn}static _fromIdTokenResponse(f,m,C=!1){return(0,p.Z)(function*(){const q=new z;q.updateFromServerResponse(m);const se=new L({uid:m.localId,auth:f,stsTokenManager:q,isAnonymous:C});return yield Rn(se),se})()}}const he=new Map;function Fe(I){ge(I instanceof Function,"Expected a class definition");let f=he.get(I);return f?(ge(f instanceof I,"Instance stored in cache mismatched with class"),f):(f=new I,he.set(I,f),f)}const It=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,p.Z)(function*(){return!0})()}_set(m,C){var q=this;return(0,p.Z)(function*(){q.storage[m]=C})()}_get(m){var C=this;return(0,p.Z)(function*(){const q=C.storage[m];return void 0===q?null:q})()}_remove(m){var C=this;return(0,p.Z)(function*(){delete C.storage[m]})()}_addListener(m,C){}_removeListener(m,C){}}return I.type="NONE",I})();function xt(I,f,m){return`firebase:${I}:${f}:${m}`}class kt{constructor(f,m,C){this.persistence=f,this.auth=m,this.userKey=C;const{config:q,name:se}=this.auth;this.fullUserKey=xt(this.userKey,q.apiKey,se),this.fullPersistenceKey=xt("persistence",q.apiKey,se),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,p.Z)(function*(){const m=yield f.persistence._get(f.fullUserKey);return m?L._fromJSON(f.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var m=this;return(0,p.Z)(function*(){if(m.persistence===f)return;const C=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=f,C?m.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,m,C="authUser"){return(0,p.Z)(function*(){if(!m.length)return new kt(Fe(It),f,C);const q=(yield Promise.all(m.map(function(){var Xt=(0,p.Z)(function*(cn){if(yield cn._isAvailable())return cn});return function(cn){return Xt.apply(this,arguments)}}()))).filter(Xt=>Xt);let se=q[0]||Fe(It);const Ve=xt(C,f.config.apiKey,f.name);let nt=null;for(const Xt of m)try{const cn=yield Xt._get(Ve);if(cn){const hr=L._fromJSON(f,cn);Xt!==se&&(nt=hr),se=Xt;break}}catch{}const Et=q.filter(Xt=>Xt._shouldAllowMigration);return se._shouldAllowMigration&&Et.length?(se=Et[0],nt&&(yield se._set(Ve,nt.toJSON())),yield Promise.all(m.map(function(){var Xt=(0,p.Z)(function*(cn){if(cn!==se)try{yield cn._remove(Ve)}catch{}});return function(cn){return Xt.apply(this,arguments)}}())),new kt(se,f,C)):new kt(se,f,C)})()}}function Yt(I){const f=I.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Ae(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(jn(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Te(f))return"Blackberry";if(Be(f))return"Webos";if(Re(f))return"Safari";if((f.includes("chrome/")||Ee(f))&&!f.includes("edge/"))return"Chrome";if(we(f))return"Android";{const C=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===C?.length)return C[1]}return"Other"}function jn(I=(0,V.z$)()){return/firefox\//i.test(I)}function Re(I=(0,V.z$)()){const f=I.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function Ee(I=(0,V.z$)()){return/crios\//i.test(I)}function Ae(I=(0,V.z$)()){return/iemobile/i.test(I)}function we(I=(0,V.z$)()){return/android/i.test(I)}function Te(I=(0,V.z$)()){return/blackberry/i.test(I)}function Be(I=(0,V.z$)()){return/webos/i.test(I)}function et(I=(0,V.z$)()){return/iphone|ipad|ipod/i.test(I)||/macintosh/i.test(I)&&/mobile/i.test(I)}function Ft(I=(0,V.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(I)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(I)}function Gn(I=(0,V.z$)()){return et(I)||we(I)||Be(I)||Te(I)||/windows phone/i.test(I)||Ae(I)}function sr(I,f=[]){let m;switch(I){case"Browser":m=Yt((0,V.z$)());break;case"Worker":m=`${Yt((0,V.z$)())}-${I}`;break;default:m=I}const C=f.length?f.join(","):"FirebaseCore-web";return`${m}/JsCore/${b.SDK_VERSION}/${C}`}class br{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,m){const C=se=>new Promise((Ve,nt)=>{try{Ve(f(se))}catch(Et){nt(Et)}});C.onAbort=m,this.queue.push(C);const q=this.queue.length-1;return()=>{this.queue[q]=()=>Promise.resolve()}}runMiddleware(f){var m=this;return(0,p.Z)(function*(){if(m.auth.currentUser===f)return;const C=[];try{for(const q of m.queue)yield q(f),q.onAbort&&C.push(q.onAbort)}catch(q){C.reverse();for(const se of C)try{se()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:q?.message})}})()}}function nr(){return(nr=(0,p.Z)(function*(I,f={}){return We(I,"GET","/v2/passwordPolicy",ke(I,f))})).apply(this,arguments)}class ei{constructor(f){var m,C,q,se;const Ve=f.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(m=Ve.minPasswordLength)&&void 0!==m?m:6,Ve.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Ve.maxPasswordLength),void 0!==Ve.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Ve.containsLowercaseCharacter),void 0!==Ve.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Ve.containsUppercaseCharacter),void 0!==Ve.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Ve.containsNumericCharacter),void 0!==Ve.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Ve.containsNonAlphanumericCharacter),this.enforcementState=f.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(q=null===(C=f.allowedNonAlphanumericCharacters)||void 0===C?void 0:C.join(""))&&void 0!==q?q:"",this.forceUpgradeOnSignin=null!==(se=f.forceUpgradeOnSignin)&&void 0!==se&&se,this.schemaVersion=f.schemaVersion}validatePassword(f){var m,C,q,se,Ve,nt;const Et={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(f,Et),this.validatePasswordCharacterOptions(f,Et),Et.isValid&&(Et.isValid=null===(m=Et.meetsMinPasswordLength)||void 0===m||m),Et.isValid&&(Et.isValid=null===(C=Et.meetsMaxPasswordLength)||void 0===C||C),Et.isValid&&(Et.isValid=null===(q=Et.containsLowercaseLetter)||void 0===q||q),Et.isValid&&(Et.isValid=null===(se=Et.containsUppercaseLetter)||void 0===se||se),Et.isValid&&(Et.isValid=null===(Ve=Et.containsNumericCharacter)||void 0===Ve||Ve),Et.isValid&&(Et.isValid=null===(nt=Et.containsNonAlphanumericCharacter)||void 0===nt||nt),Et}validatePasswordLengthOptions(f,m){const C=this.customStrengthOptions.minPasswordLength,q=this.customStrengthOptions.maxPasswordLength;C&&(m.meetsMinPasswordLength=f.length>=C),q&&(m.meetsMaxPasswordLength=f.length<=q)}validatePasswordCharacterOptions(f,m){let C;this.updatePasswordCharacterOptionsStatuses(m,!1,!1,!1,!1);for(let q=0;q<f.length;q++)C=f.charAt(q),this.updatePasswordCharacterOptionsStatuses(m,C>="a"&&C<="z",C>="A"&&C<="Z",C>="0"&&C<="9",this.allowedNonAlphanumericCharacters.includes(C))}updatePasswordCharacterOptionsStatuses(f,m,C,q,se){this.customStrengthOptions.containsLowercaseLetter&&(f.containsLowercaseLetter||(f.containsLowercaseLetter=m)),this.customStrengthOptions.containsUppercaseLetter&&(f.containsUppercaseLetter||(f.containsUppercaseLetter=C)),this.customStrengthOptions.containsNumericCharacter&&(f.containsNumericCharacter||(f.containsNumericCharacter=q)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(f.containsNonAlphanumericCharacter||(f.containsNonAlphanumericCharacter=se))}}class us{constructor(f,m,C,q){this.app=f,this.heartbeatServiceProvider=m,this.appCheckServiceProvider=C,this.config=q,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vi(this),this.idTokenSubscription=new vi(this),this.beforeStateQueue=new br(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Xe,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=q.sdkClientVersion}_initializeWithPersistence(f,m){var C=this;return m&&(this._popupRedirectResolver=Fe(m)),this._initializationPromise=this.queue((0,p.Z)(function*(){var q,se;if(!C._deleted&&(C.persistenceManager=yield kt.create(C,f),!C._deleted)){if(null!==(q=C._popupRedirectResolver)&&void 0!==q&&q._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch{}yield C.initializeCurrentUser(m),C.lastNotifiedUid=(null===(se=C.currentUser)||void 0===se?void 0:se.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,p.Z)(function*(){if(f._deleted)return;const m=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||m){if(f.currentUser&&m&&f.currentUser.uid===m.uid)return f._currentUser._assign(m),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(m,!0)}})()}initializeCurrentUser(f){var m=this;return(0,p.Z)(function*(){var C;const q=yield m.assertedPersistence.getCurrentUser();let se=q,Ve=!1;if(f&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const nt=null===(C=m.redirectUser)||void 0===C?void 0:C._redirectEventId,Et=se?._redirectEventId,Xt=yield m.tryRedirectSignIn(f);(!nt||nt===Et)&&Xt?.user&&(se=Xt.user,Ve=!0)}if(!se)return m.directlySetCurrentUser(null);if(!se._redirectEventId){if(Ve)try{yield m.beforeStateQueue.runMiddleware(se)}catch(nt){se=q,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(nt))}return se?m.reloadAndSetCurrentUserOrClear(se):m.directlySetCurrentUser(null)}return ve(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===se._redirectEventId?m.directlySetCurrentUser(se):m.reloadAndSetCurrentUserOrClear(se)})()}tryRedirectSignIn(f){var m=this;return(0,p.Z)(function*(){let C=null;try{C=yield m._popupRedirectResolver._completeRedirectFn(m,f,!0)}catch{yield m._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(f){var m=this;return(0,p.Z)(function*(){try{yield Rn(f)}catch(C){if("auth/network-request-failed"!==C?.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function Dt(){if(typeof navigator>"u")return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var f=this;return(0,p.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var m=this;return(0,p.Z)(function*(){const C=f?(0,V.m9)(f):null;return C&&ve(C.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(C&&C._clone(m))})()}_updateCurrentUser(f,m=!1){var C=this;return(0,p.Z)(function*(){if(!C._deleted)return f&&ve(C.tenantId===f.tenantId,C,"tenant-id-mismatch"),m||(yield C.beforeStateQueue.runMiddleware(f)),C.queue((0,p.Z)(function*(){yield C.directlySetCurrentUser(f),C.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,p.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var m=this;return this.queue((0,p.Z)(function*(){yield m.assertedPersistence.setPersistence(Fe(f))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(f){var m=this;return(0,p.Z)(function*(){m._getPasswordPolicyInternal()||(yield m._updatePasswordPolicy());const C=m._getPasswordPolicyInternal();return C.schemaVersion!==m.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(m._errorFactory.create("unsupported-password-policy-schema-version",{})):C.validatePassword(f)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var f=this;return(0,p.Z)(function*(){const m=yield function li(I){return nr.apply(this,arguments)}(f),C=new ei(m);null===f.tenantId?f._projectPasswordPolicy=C:f._tenantPasswordPolicies[f.tenantId]=C})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new V.LL("auth","Firebase",f())}onAuthStateChanged(f,m,C){return this.registerStateListener(this.authStateSubscription,f,m,C)}beforeAuthStateChanged(f,m){return this.beforeStateQueue.pushCallback(f,m)}onIdTokenChanged(f,m,C){return this.registerStateListener(this.idTokenSubscription,f,m,C)}authStateReady(){return new Promise((f,m)=>{if(this.currentUser)f();else{const C=this.onAuthStateChanged(()=>{C(),f()},m)}})}revokeAccessToken(f){var m=this;return(0,p.Z)(function*(){if(m.currentUser){const C=yield m.currentUser.getIdToken(),q={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:f,idToken:C};null!=m.tenantId&&(q.tenantId=m.tenantId),yield function De(I,f){return ne.apply(this,arguments)}(m,q)}})()}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,m){var C=this;return(0,p.Z)(function*(){const q=yield C.getOrInitRedirectPersistenceManager(m);return null===f?q.removeCurrentUser():q.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var m=this;return(0,p.Z)(function*(){if(!m.redirectPersistenceManager){const C=f&&Fe(f)||m._popupRedirectResolver;ve(C,m,"argument-error"),m.redirectPersistenceManager=yield kt.create(m,[Fe(C._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(f){var m=this;return(0,p.Z)(function*(){var C,q;return m._isInitialized&&(yield m.queue((0,p.Z)(function*(){}))),(null===(C=m._currentUser)||void 0===C?void 0:C._redirectEventId)===f?m._currentUser:(null===(q=m.redirectUser)||void 0===q?void 0:q._redirectEventId)===f?m.redirectUser:null})()}_persistUserIfCurrent(f){var m=this;return(0,p.Z)(function*(){if(f===m.currentUser)return m.queue((0,p.Z)(function*(){return m.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(m=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,m,C,q){if(this._deleted)return()=>{};const se="function"==typeof m?m:m.next.bind(m);let Ve=!1;const nt=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(nt,this,"internal-error"),nt.then(()=>{Ve||se(this.currentUser)}),"function"==typeof m){const Et=f.addObserver(m,C,q);return()=>{Ve=!0,Et()}}{const Et=f.addObserver(m);return()=>{Ve=!0,Et()}}}directlySetCurrentUser(f){var m=this;return(0,p.Z)(function*(){m.currentUser&&m.currentUser!==f&&m._currentUser._stopProactiveRefresh(),f&&m.isProactiveRefreshEnabled&&f._startProactiveRefresh(),m.currentUser=f,f?yield m.assertedPersistence.setCurrentUser(f):yield m.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=sr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,p.Z)(function*(){var m;const C={"X-Client-Version":f.clientVersion};f.app.options.appId&&(C["X-Firebase-gmpid"]=f.app.options.appId);const q=yield null===(m=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();q&&(C["X-Firebase-Client"]=q);const se=yield f._getAppCheckToken();return se&&(C["X-Firebase-AppCheck"]=se),C})()}_getAppCheckToken(){var f=this;return(0,p.Z)(function*(){var m;const C=yield null===(m=f.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getToken();return C?.error&&function wt(I,...f){it.logLevel<=Ce.in.WARN&&it.warn(`Auth (${b.SDK_VERSION}): ${I}`,...f)}(`Error while retrieving App Check token: ${C.error}`),C?.token})()}}function Vn(I){return(0,V.m9)(I)}class vi{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,V.ne)(m=>this.observer=m)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ts={loadJS:()=>(0,p.Z)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Es(I){return ts.loadJS(I)}function ii(I){return`__${I}${Math.floor(1e6*Math.random())}`}class Ps{constructor(f){this.type="recaptcha-enterprise",this.auth=Vn(f)}verify(f="verify",m=!1){var C=this;return(0,p.Z)(function*(){function se(){return se=(0,p.Z)(function*(nt){if(!m){if(null==nt.tenantId&&null!=nt._agentRecaptchaConfig)return nt._agentRecaptchaConfig.siteKey;if(null!=nt.tenantId&&void 0!==nt._tenantRecaptchaConfigs[nt.tenantId])return nt._tenantRecaptchaConfigs[nt.tenantId].siteKey}return new Promise(function(){var Et=(0,p.Z)(function*(Xt,cn){Pn(nt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(hr=>{if(void 0!==hr.recaptchaKey){const Ls=new Wt(hr);return null==nt.tenantId?nt._agentRecaptchaConfig=Ls:nt._tenantRecaptchaConfigs[nt.tenantId]=Ls,Xt(Ls.siteKey)}cn(new Error("recaptcha Enterprise site key undefined"))}).catch(hr=>{cn(hr)})});return function(Xt,cn){return Et.apply(this,arguments)}}())}),se.apply(this,arguments)}function Ve(nt,Et,Xt){const cn=window.grecaptcha;wn(cn)?cn.enterprise.ready(()=>{cn.enterprise.execute(nt,{action:f}).then(hr=>{Et(hr)}).catch(()=>{Et("NO_RECAPTCHA")})}):Xt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((nt,Et)=>{(function q(nt){return se.apply(this,arguments)})(C.auth).then(Xt=>{if(!m&&wn(window.grecaptcha))Ve(Xt,nt,Et);else{if(typeof window>"u")return void Et(new Error("RecaptchaVerifier is only supported in browser"));let cn=function _a(){return ts.recaptchaEnterpriseScript}();0!==cn.length&&(cn+=Xt),Es(cn).then(()=>{Ve(Xt,nt,Et)}).catch(hr=>{Et(hr)})}}).catch(Xt=>{Et(Xt)})})})()}}function ns(I,f,m){return zi.apply(this,arguments)}function zi(){return(zi=(0,p.Z)(function*(I,f,m,C=!1){const q=new Ps(I);let se;try{se=yield q.verify(m)}catch{se=yield q.verify(m,!0)}const Ve=Object.assign({},f);return Object.assign(Ve,C?{captchaResp:se}:{captchaResponse:se}),Object.assign(Ve,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Ve,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Ve})).apply(this,arguments)}function Gi(I,f,m,C){return Ii.apply(this,arguments)}function Ii(){return Ii=(0,p.Z)(function*(I,f,m,C){var q;if(null!==(q=I._getRecaptchaConfig())&&void 0!==q&&q.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const se=yield ns(I,f,m,"getOobCode"===m);return C(I,se)}return C(I,f).catch(function(){var se=(0,p.Z)(function*(Ve){if("auth/missing-recaptcha-token"===Ve.code){console.log(`${m} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const nt=yield ns(I,f,m,"getOobCode"===m);return C(I,nt)}return Promise.reject(Ve)});return function(Ve){return se.apply(this,arguments)}}())}),Ii.apply(this,arguments)}function _o(I,f,m){const C=Vn(I);ve(C._canInitEmulator,C,"emulator-config-failed"),ve(/^https?:\/\//.test(f),C,"invalid-emulator-scheme");const q=!!m?.disableWarnings,se=Rs(f),{host:Ve,port:nt}=function Ro(I){const f=Rs(I),m=/(\/\/)?([^?#/]+)/.exec(I.substr(f.length));if(!m)return{host:"",port:null};const C=m[2].split("@").pop()||"",q=/^(\[[^\]]+\])(:|$)/.exec(C);if(q){const se=q[1];return{host:se,port:Ks(C.substr(se.length+1))}}{const[se,Ve]=C.split(":");return{host:se,port:Ks(Ve)}}}(f);C.config.emulator={url:`${se}//${Ve}${null===nt?"":`:${nt}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:Ve,port:nt,protocol:se.replace(":",""),options:Object.freeze({disableWarnings:q})}),q||function yo(){function I(){const f=document.createElement("p"),m=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",I):I())}()}function Rs(I){const f=I.indexOf(":");return f<0?"":I.substr(0,f+1)}function Ks(I){if(!I)return null;const f=Number(I);return isNaN(f)?null:f}class Ts{constructor(f,m){this.providerId=f,this.signInMethod=m}toJSON(){return tt("not implemented")}_getIdTokenResponse(f){return tt("not implemented")}_linkToIdToken(f,m){return tt("not implemented")}_getReauthenticationResolver(f){return tt("not implemented")}}function Mo(I,f){return cs.apply(this,arguments)}function cs(){return(cs=(0,p.Z)(function*(I,f){return We(I,"POST","/v1/accounts:resetPassword",ke(I,f))})).apply(this,arguments)}function Rr(){return(Rr=(0,p.Z)(function*(I,f){return We(I,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function ti(I,f){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,p.Z)(function*(I,f){return We(I,"POST","/v1/accounts:signUp",f)})).apply(this,arguments)}function Zs(){return(Zs=(0,p.Z)(function*(I,f){return We(I,"POST","/v1/accounts:update",ke(I,f))})).apply(this,arguments)}function vo(I,f){return ds.apply(this,arguments)}function ds(){return(ds=(0,p.Z)(function*(I,f){return En(I,"POST","/v1/accounts:signInWithPassword",ke(I,f))})).apply(this,arguments)}function Si(I,f){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,p.Z)(function*(I,f){return We(I,"POST","/v1/accounts:sendOobCode",ke(I,f))})).apply(this,arguments)}function Ot(){return(Ot=(0,p.Z)(function*(I,f){return Si(I,f)})).apply(this,arguments)}function Sn(I,f){return $n.apply(this,arguments)}function $n(){return($n=(0,p.Z)(function*(I,f){return Si(I,f)})).apply(this,arguments)}function si(I,f){return hs.apply(this,arguments)}function hs(){return(hs=(0,p.Z)(function*(I,f){return Si(I,f)})).apply(this,arguments)}function Wi(){return(Wi=(0,p.Z)(function*(I,f){return Si(I,f)})).apply(this,arguments)}function qi(){return(qi=(0,p.Z)(function*(I,f){return En(I,"POST","/v1/accounts:signInWithEmailLink",ke(I,f))})).apply(this,arguments)}function yn(){return(yn=(0,p.Z)(function*(I,f){return En(I,"POST","/v1/accounts:signInWithEmailLink",ke(I,f))})).apply(this,arguments)}class Ti extends Ts{constructor(f,m,C,q=null){super("password",C),this._email=f,this._password=m,this._tenantId=q}static _fromEmailAndPassword(f,m){return new Ti(f,m,"password")}static _fromEmailAndCode(f,m,C=null){return new Ti(f,m,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(f){var m=this;return(0,p.Z)(function*(){switch(m.signInMethod){case"password":return Gi(f,{returnSecureToken:!0,email:m._email,password:m._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",vo);case"emailLink":return function rr(I,f){return qi.apply(this,arguments)}(f,{email:m._email,oobCode:m._password});default:oe(f,"internal-error")}})()}_linkToIdToken(f,m){var C=this;return(0,p.Z)(function*(){switch(C.signInMethod){case"password":return Gi(f,{idToken:m,returnSecureToken:!0,email:C._email,password:C._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ti);case"emailLink":return function ws(I,f){return yn.apply(this,arguments)}(f,{idToken:m,email:C._email,oobCode:C._password});default:oe(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function Fi(I,f){return rs.apply(this,arguments)}function rs(){return(rs=(0,p.Z)(function*(I,f){return En(I,"POST","/v1/accounts:signInWithIdp",ke(I,f))})).apply(this,arguments)}class Kr extends Ts{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const m=new Kr(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(m.idToken=f.idToken),f.accessToken&&(m.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(m.nonce=f.nonce),f.pendingToken&&(m.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(m.accessToken=f.oauthToken,m.secret=f.oauthTokenSecret):oe("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:C,signInMethod:q}=m,se=(0,$._T)(m,["providerId","signInMethod"]);if(!C||!q)return null;const Ve=new Kr(C,q);return Ve.idToken=se.idToken||void 0,Ve.accessToken=se.accessToken||void 0,Ve.secret=se.secret,Ve.nonce=se.nonce,Ve.pendingToken=se.pendingToken||null,Ve}_getIdTokenResponse(f){return Fi(f,this.buildRequest())}_linkToIdToken(f,m){const C=this.buildRequest();return C.idToken=m,Fi(f,C)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,Fi(f,m)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),f.postBody=(0,V.xO)(m)}return f}}function ci(){return(ci=(0,p.Z)(function*(I,f){return We(I,"POST","/v1/accounts:sendVerificationCode",ke(I,f))})).apply(this,arguments)}function or(){return(or=(0,p.Z)(function*(I,f){return En(I,"POST","/v1/accounts:signInWithPhoneNumber",ke(I,f))})).apply(this,arguments)}function jr(){return(jr=(0,p.Z)(function*(I,f){const m=yield En(I,"POST","/v1/accounts:signInWithPhoneNumber",ke(I,f));if(m.temporaryProof)throw ln(I,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const is={USER_NOT_FOUND:"user-not-found"};function Ln(){return(Ln=(0,p.Z)(function*(I,f){return En(I,"POST","/v1/accounts:signInWithPhoneNumber",ke(I,Object.assign(Object.assign({},f),{operation:"REAUTH"})),is)})).apply(this,arguments)}class Us extends Ts{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,m){return new Us({verificationId:f,verificationCode:m})}static _fromTokenResponse(f,m){return new Us({phoneNumber:f,temporaryProof:m})}_getIdTokenResponse(f){return function Qs(I,f){return or.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,m){return function Vi(I,f){return jr.apply(this,arguments)}(f,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function Ys(I,f){return Ln.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:m,verificationId:C,verificationCode:q}=this.params;return f&&m?{temporaryProof:f,phoneNumber:m}:{sessionInfo:C,code:q}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:m,verificationCode:C,phoneNumber:q,temporaryProof:se}=f;return C||m||q||se?new Us({verificationId:m,verificationCode:C,phoneNumber:q,temporaryProof:se}):null}}class mi{constructor(f){var m,C,q,se,Ve,nt;const Et=(0,V.zd)((0,V.pd)(f)),Xt=null!==(m=Et.apiKey)&&void 0!==m?m:null,cn=null!==(C=Et.oobCode)&&void 0!==C?C:null,hr=function xo(I){switch(I){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(q=Et.mode)&&void 0!==q?q:null);ve(Xt&&cn&&hr,"argument-error"),this.apiKey=Xt,this.operation=hr,this.code=cn,this.continueUrl=null!==(se=Et.continueUrl)&&void 0!==se?se:null,this.languageCode=null!==(Ve=Et.languageCode)&&void 0!==Ve?Ve:null,this.tenantId=null!==(nt=Et.tenantId)&&void 0!==nt?nt:null}static parseLink(f){const m=function Oo(I){const f=(0,V.zd)((0,V.pd)(I)).link,m=f?(0,V.zd)((0,V.pd)(f)).deep_link_id:null,C=(0,V.zd)((0,V.pd)(I)).deep_link_id;return(C?(0,V.zd)((0,V.pd)(C)).link:null)||C||m||f||I}(f);try{return new mi(m)}catch{return null}}}let wi=(()=>{class I{constructor(){this.providerId=I.PROVIDER_ID}static credential(m,C){return Ti._fromEmailAndPassword(m,C)}static credentialWithLink(m,C){const q=mi.parseLink(C);return ve(q,"argument-error"),Ti._fromEmailAndCode(m,q.code,q.tenantId)}}return I.PROVIDER_ID="password",I.EMAIL_PASSWORD_SIGN_IN_METHOD="password",I.EMAIL_LINK_SIGN_IN_METHOD="emailLink",I})();class Ci{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class $r extends Ci{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class bi extends $r{static credentialFromJSON(f){const m="string"==typeof f?JSON.parse(f):f;return ve("providerId"in m&&"signInMethod"in m,"argument-error"),Kr._fromParams(m)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return ve(f.idToken||f.accessToken,"argument-error"),Kr._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return bi.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return bi.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:m,oauthAccessToken:C,oauthTokenSecret:q,pendingToken:se,nonce:Ve,providerId:nt}=f;if(!C&&!q&&!m&&!se||!nt)return null;try{return new bi(nt)._credential({idToken:m,accessToken:C,nonce:Ve,pendingToken:se})}catch{return null}}}let Lr=(()=>{class I extends $r{constructor(){super("facebook.com")}static credential(m){return Kr._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return I.credentialFromTaggedObject(m)}static credentialFromError(m){return I.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return I.credential(m.oauthAccessToken)}catch{return null}}}return I.FACEBOOK_SIGN_IN_METHOD="facebook.com",I.PROVIDER_ID="facebook.com",I})(),ar=(()=>{class I extends $r{constructor(){super("google.com"),this.addScope("profile")}static credential(m,C){return Kr._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:C})}static credentialFromResult(m){return I.credentialFromTaggedObject(m)}static credentialFromError(m){return I.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:C,oauthAccessToken:q}=m;if(!C&&!q)return null;try{return I.credential(C,q)}catch{return null}}}return I.GOOGLE_SIGN_IN_METHOD="google.com",I.PROVIDER_ID="google.com",I})(),Io=(()=>{class I extends $r{constructor(){super("github.com")}static credential(m){return Kr._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return I.credentialFromTaggedObject(m)}static credentialFromError(m){return I.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return I.credential(m.oauthAccessToken)}catch{return null}}}return I.GITHUB_SIGN_IN_METHOD="github.com",I.PROVIDER_ID="github.com",I})();class Xs extends Ts{constructor(f,m){super(f,f),this.pendingToken=m}_getIdTokenResponse(f){return Fi(f,this.buildRequest())}_linkToIdToken(f,m){const C=this.buildRequest();return C.idToken=m,Fi(f,C)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,Fi(f,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:C,signInMethod:q,pendingToken:se}=m;return C&&q&&se&&C===q?new Xs(C,se):null}static _create(f,m){return new Xs(f,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class eo extends Ci{constructor(f){ve(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return eo.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return eo.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const m=Xs.fromJSON(f);return ve(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:m,providerId:C}=f;if(!m||!C)return null;try{return Xs._create(C,m)}catch{return null}}}let No=(()=>{class I extends $r{constructor(){super("twitter.com")}static credential(m,C){return Kr._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:C})}static credentialFromResult(m){return I.credentialFromTaggedObject(m)}static credentialFromError(m){return I.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:C,oauthTokenSecret:q}=m;if(!C||!q)return null;try{return I.credential(C,q)}catch{return null}}}return I.TWITTER_SIGN_IN_METHOD="twitter.com",I.PROVIDER_ID="twitter.com",I})();function Cs(I,f){return ya.apply(this,arguments)}function ya(){return(ya=(0,p.Z)(function*(I,f){return En(I,"POST","/v1/accounts:signUp",ke(I,f))})).apply(this,arguments)}class Bi{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,m,C,q=!1){return(0,p.Z)(function*(){const se=yield L._fromIdTokenResponse(f,C,q),Ve=Bs(C);return new Bi({user:se,providerId:Ve,_tokenResponse:C,operationType:m})})()}static _forOperation(f,m,C){return(0,p.Z)(function*(){yield f._updateTokensIfNecessary(C,!0);const q=Bs(C);return new Bi({user:f,providerId:q,_tokenResponse:C,operationType:m})})()}}function Bs(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}function Lo(I){return ss.apply(this,arguments)}function ss(){return(ss=(0,p.Z)(function*(I){var f;const m=Vn(I);if(yield m._initializationPromise,null!==(f=m.currentUser)&&void 0!==f&&f.isAnonymous)return new Bi({user:m.currentUser,providerId:null,operationType:"signIn"});const C=yield Cs(m,{returnSecureToken:!0}),q=yield Bi._fromIdTokenResponse(m,"signIn",C,!0);return yield m._updateCurrentUser(q.user),q})).apply(this,arguments)}class to extends V.ZR{constructor(f,m,C,q){var se;super(m.code,m.message),this.operationType=C,this.user=q,Object.setPrototypeOf(this,to.prototype),this.customData={appName:f.name,tenantId:null!==(se=f.tenantId)&&void 0!==se?se:void 0,_serverResponse:m.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(f,m,C,q){return new to(f,m,C,q)}}function mr(I,f,m,C){return("reauthenticate"===f?m._getReauthenticationResolver(I):m._getIdTokenResponse(I)).catch(se=>{throw"auth/multi-factor-auth-required"===se.code?to._fromErrorAndOperation(I,se,f,C):se})}function Ms(I){return new Set(I.map(({providerId:f})=>f).filter(f=>!!f))}function ea(I,f){return G.apply(this,arguments)}function G(){return G=(0,p.Z)(function*(I,f){const m=(0,V.m9)(I);yield ie(!0,m,f);const{providerUserInfo:C}=yield function en(I,f){return hn.apply(this,arguments)}(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[f]}),q=Ms(C||[]);return m.providerData=m.providerData.filter(se=>q.has(se.providerId)),q.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m}),G.apply(this,arguments)}function K(I,f){return N.apply(this,arguments)}function N(){return(N=(0,p.Z)(function*(I,f,m=!1){const C=yield At(I,f._linkToIdToken(I.auth,yield I.getIdToken()),m);return Bi._forOperation(I,"link",C)})).apply(this,arguments)}function ie(I,f,m){return xe.apply(this,arguments)}function xe(){return(xe=(0,p.Z)(function*(I,f,m){yield Rn(f);const q=!1===I?"provider-already-linked":"no-such-provider";ve(Ms(f.providerData).has(m)===I,f.auth,q)})).apply(this,arguments)}function Vt(I,f){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,p.Z)(function*(I,f,m=!1){const{auth:C}=I,q="reauthenticate";try{const se=yield At(I,mr(C,q,f,I),m);ve(se.idToken,C,"internal-error");const Ve=qe(se.idToken);ve(Ve,C,"internal-error");const{sub:nt}=Ve;return ve(I.uid===nt,C,"user-mismatch"),Bi._forOperation(I,q,se)}catch(se){throw"auth/user-not-found"===se?.code&&oe(C,"user-mismatch"),se}})).apply(this,arguments)}function gi(I,f){return fs.apply(this,arguments)}function fs(){return(fs=(0,p.Z)(function*(I,f,m=!1){const C="signIn",q=yield mr(I,C,f),se=yield Bi._fromIdTokenResponse(I,C,q);return m||(yield I._updateCurrentUser(se.user)),se})).apply(this,arguments)}function Ri(I,f){return no.apply(this,arguments)}function no(){return(no=(0,p.Z)(function*(I,f){return gi(Vn(I),f)})).apply(this,arguments)}function os(I,f){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,p.Z)(function*(I,f){const m=(0,V.m9)(I);return yield ie(!1,m,f.providerId),K(m,f)})).apply(this,arguments)}function bs(I,f){return va.apply(this,arguments)}function va(){return(va=(0,p.Z)(function*(I,f){return Vt((0,V.m9)(I),f)})).apply(this,arguments)}function Hs(){return(Hs=(0,p.Z)(function*(I,f){return En(I,"POST","/v1/accounts:signInWithCustomToken",ke(I,f))})).apply(this,arguments)}function as(I,f){return ta.apply(this,arguments)}function ta(){return ta=(0,p.Z)(function*(I,f){const m=Vn(I),C=yield function kr(I,f){return Hs.apply(this,arguments)}(m,{token:f,returnSecureToken:!0}),q=yield Bi._fromIdTokenResponse(m,"signIn",C);return yield m._updateCurrentUser(q.user),q}),ta.apply(this,arguments)}class ro{constructor(f,m){this.factorId=f,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(f,m){return"phoneInfo"in m?io._fromServerResponse(f,m):"totpInfo"in m?js._fromServerResponse(f,m):oe(f,"internal-error")}}class io extends ro{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,m){return new io(m)}}class js extends ro{constructor(f){super("totp",f)}static _fromServerResponse(f,m){return new js(m)}}function so(I,f,m){var C;ve((null===(C=m.url)||void 0===C?void 0:C.length)>0,I,"invalid-continue-uri"),ve(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,I,"invalid-dynamic-link-domain"),f.continueUrl=m.url,f.dynamicLinkDomain=m.dynamicLinkDomain,f.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(ve(m.iOS.bundleId.length>0,I,"missing-ios-bundle-id"),f.iOSBundleId=m.iOS.bundleId),m.android&&(ve(m.android.packageName.length>0,I,"missing-android-pkg-name"),f.androidInstallApp=m.android.installApp,f.androidMinimumVersionCode=m.android.minimumVersion,f.androidPackageName=m.android.packageName)}function ps(I){return oo.apply(this,arguments)}function oo(){return(oo=(0,p.Z)(function*(I){const f=Vn(I);f._getPasswordPolicyInternal()&&(yield f._updatePasswordPolicy())})).apply(this,arguments)}function ko(I,f,m){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,p.Z)(function*(I,f,m){const C=Vn(I),q={requestType:"PASSWORD_RESET",email:f,clientType:"CLIENT_TYPE_WEB"};m&&so(C,q,m),yield Gi(C,q,"getOobCode",Sn)})).apply(this,arguments)}function al(I,f,m){return ao.apply(this,arguments)}function ao(){return ao=(0,p.Z)(function*(I,f,m){yield Mo((0,V.m9)(I),{oobCode:f,newPassword:m}).catch(function(){var C=(0,p.Z)(function*(q){throw"auth/password-does-not-meet-requirements"===q.code&&ps(I),q});return function(q){return C.apply(this,arguments)}}())}),ao.apply(this,arguments)}function Ea(I,f){return xs.apply(this,arguments)}function xs(){return xs=(0,p.Z)(function*(I,f){yield function Br(I,f){return Zs.apply(this,arguments)}((0,V.m9)(I),{oobCode:f})}),xs.apply(this,arguments)}function $s(I,f){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,p.Z)(function*(I,f){const m=(0,V.m9)(I),C=yield Mo(m,{oobCode:f}),q=C.requestType;switch(ve(q,m,"internal-error"),q){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ve(C.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ve(C.mfaInfo,m,"internal-error");default:ve(C.email,m,"internal-error")}let se=null;return C.mfaInfo&&(se=ro._fromServerResponse(Vn(m),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:se},operation:q}})).apply(this,arguments)}function ll(I,f){return na.apply(this,arguments)}function na(){return(na=(0,p.Z)(function*(I,f){const{data:m}=yield $s((0,V.m9)(I),f);return m.email})).apply(this,arguments)}function Ll(I,f,m){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,p.Z)(function*(I,f,m){const C=Vn(I),Ve=yield Gi(C,{returnSecureToken:!0,email:f,password:m,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Cs).catch(Et=>{throw"auth/password-does-not-meet-requirements"===Et.code&&ps(I),Et}),nt=yield Bi._fromIdTokenResponse(C,"signIn",Ve);return yield C._updateCurrentUser(nt.user),nt})).apply(this,arguments)}function Uo(I,f,m){return Ri((0,V.m9)(I),wi.credential(f,m)).catch(function(){var C=(0,p.Z)(function*(q){throw"auth/password-does-not-meet-requirements"===q.code&&ps(I),q});return function(q){return C.apply(this,arguments)}}())}function kl(I,f,m){return ra.apply(this,arguments)}function ra(){return(ra=(0,p.Z)(function*(I,f,m){const C=Vn(I),q={requestType:"EMAIL_SIGNIN",email:f,clientType:"CLIENT_TYPE_WEB"};(function se(Ve,nt){ve(nt.handleCodeInApp,C,"argument-error"),nt&&so(C,Ve,nt)})(q,m),yield Gi(C,q,"getOobCode",si)})).apply(this,arguments)}function Z(I,f){const m=mi.parseLink(f);return"EMAIL_SIGNIN"===m?.operation}function y(I,f,m){return E.apply(this,arguments)}function E(){return(E=(0,p.Z)(function*(I,f,m){const C=(0,V.m9)(I),q=wi.credentialWithLink(f,m||Lt());return ve(q._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),Ri(C,q)})).apply(this,arguments)}function Q(){return(Q=(0,p.Z)(function*(I,f){return We(I,"POST","/v1/accounts:createAuthUri",ke(I,f))})).apply(this,arguments)}function le(I,f){return _.apply(this,arguments)}function _(){return _=(0,p.Z)(function*(I,f){const C={identifier:f,continueUri:pt()?Lt():"http://localhost"},{signinMethods:q}=yield function x(I,f){return Q.apply(this,arguments)}((0,V.m9)(I),C);return q||[]}),_.apply(this,arguments)}function O(I,f){return A.apply(this,arguments)}function A(){return A=(0,p.Z)(function*(I,f){const m=(0,V.m9)(I),q={requestType:"VERIFY_EMAIL",idToken:yield I.getIdToken()};f&&so(m.auth,q,f);const{email:se}=yield function Mr(I,f){return Ot.apply(this,arguments)}(m.auth,q);se!==I.email&&(yield I.reload())}),A.apply(this,arguments)}function k(I,f,m){return re.apply(this,arguments)}function re(){return re=(0,p.Z)(function*(I,f,m){const C=(0,V.m9)(I),se={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield I.getIdToken(),newEmail:f};m&&so(C.auth,se,m);const{email:Ve}=yield function Hr(I,f){return Wi.apply(this,arguments)}(C.auth,se);Ve!==I.email&&(yield I.reload())}),re.apply(this,arguments)}function Ye(){return(Ye=(0,p.Z)(function*(I,f){return We(I,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function gt(I,f){return Nt.apply(this,arguments)}function Nt(){return Nt=(0,p.Z)(function*(I,{displayName:f,photoURL:m}){if(void 0===f&&void 0===m)return;const C=(0,V.m9)(I),se={idToken:yield C.getIdToken(),displayName:f,photoUrl:m,returnSecureToken:!0},Ve=yield At(C,function Oe(I,f){return Ye.apply(this,arguments)}(C.auth,se));C.displayName=Ve.displayName||null,C.photoURL=Ve.photoUrl||null;const nt=C.providerData.find(({providerId:Et})=>"password"===Et);nt&&(nt.displayName=C.displayName,nt.photoURL=C.photoURL),yield C._updateTokensIfNecessary(Ve)}),Nt.apply(this,arguments)}function $t(I,f){return sn((0,V.m9)(I),f,null)}function an(I,f){return sn((0,V.m9)(I),null,f)}function sn(I,f,m){return Un.apply(this,arguments)}function Un(){return Un=(0,p.Z)(function*(I,f,m){const{auth:C}=I,se={idToken:yield I.getIdToken(),returnSecureToken:!0};f&&(se.email=f),m&&(se.password=m);const Ve=yield At(I,function xn(I,f){return Rr.apply(this,arguments)}(C,se));yield I._updateTokensIfNecessary(Ve,!0)}),Un.apply(this,arguments)}class pn{constructor(f,m,C={}){this.isNewUser=f,this.providerId=m,this.profile=C}}class lr extends pn{constructor(f,m,C,q){super(f,m,C),this.username=q}}class Zr extends pn{constructor(f,m){super(f,"facebook.com",m)}}class Qr extends lr{constructor(f,m){super(f,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class Fr extends pn{constructor(f,m){super(f,"google.com",m)}}class _i extends lr{constructor(f,m,C){super(f,"twitter.com",m,C)}}function Vr(I){const{user:f,_tokenResponse:m}=I;return f.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function bn(I){var f,m;if(!I)return null;const{providerId:C}=I,q=I.rawUserInfo?JSON.parse(I.rawUserInfo):{},se=I.isNewUser||"identitytoolkit#SignupNewUserResponse"===I.kind;if(!C&&I?.idToken){const Ve=null===(m=null===(f=qe(I.idToken))||void 0===f?void 0:f.firebase)||void 0===m?void 0:m.sign_in_provider;if(Ve)return new pn(se,"anonymous"!==Ve&&"custom"!==Ve?Ve:null)}if(!C)return null;switch(C){case"facebook.com":return new Zr(se,q);case"github.com":return new Qr(se,q);case"google.com":return new Fr(se,q);case"twitter.com":return new _i(se,q,I.screenName||null);case"custom":case"anonymous":return new pn(se,null);default:return new pn(se,C,q)}}(m)}class In{constructor(f,m,C){this.type=f,this.credential=m,this.user=C}static _fromIdtoken(f,m){return new In("enroll",f,m)}static _fromMfaPendingCredential(f){return new In("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var m,C;if(f?.multiFactorSession){if(null!==(m=f.multiFactorSession)&&void 0!==m&&m.pendingCredential)return In._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(C=f.multiFactorSession)&&void 0!==C&&C.idToken)return In._fromIdtoken(f.multiFactorSession.idToken)}return null}}class lo{constructor(f,m,C){this.session=f,this.hints=m,this.signInResolver=C}static _fromError(f,m){const C=Vn(f),q=m.customData._serverResponse,se=(q.mfaInfo||[]).map(nt=>ro._fromServerResponse(C,nt));ve(q.mfaPendingCredential,C,"internal-error");const Ve=In._fromMfaPendingCredential(q.mfaPendingCredential);return new lo(Ve,se,function(){var nt=(0,p.Z)(function*(Et){const Xt=yield Et._process(C,Ve);delete q.mfaInfo,delete q.mfaPendingCredential;const cn=Object.assign(Object.assign({},q),{idToken:Xt.idToken,refreshToken:Xt.refreshToken});switch(m.operationType){case"signIn":const hr=yield Bi._fromIdTokenResponse(C,m.operationType,cn);return yield C._updateCurrentUser(hr.user),hr;case"reauthenticate":return ve(m.user,C,"internal-error"),Bi._forOperation(m.user,m.operationType,cn);default:oe(C,"internal-error")}});return function(Et){return nt.apply(this,arguments)}}())}resolveSignIn(f){var m=this;return(0,p.Z)(function*(){return m.signInResolver(f)})()}}function To(I,f){var m;const C=(0,V.m9)(I),q=f;return ve(f.customData.operationType,C,"argument-error"),ve(null===(m=q.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,C,"argument-error"),lo._fromError(C,q)}class ul{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(C=>ro._fromServerResponse(f.auth,C)))})}static _fromUser(f){return new ul(f)}getSession(){var f=this;return(0,p.Z)(function*(){return In._fromIdtoken(yield f.user.getIdToken(),f.user)})()}enroll(f,m){var C=this;return(0,p.Z)(function*(){const q=f,se=yield C.getSession(),Ve=yield At(C.user,q._process(C.user.auth,se,m));return yield C.user._updateTokensIfNecessary(Ve),C.user.reload()})()}unenroll(f){var m=this;return(0,p.Z)(function*(){const C="string"==typeof f?f:f.uid,q=yield m.user.getIdToken();try{const se=yield At(m.user,function rn(I,f){return We(I,"POST","/v2/accounts/mfaEnrollment:withdraw",ke(I,f))}(m.user.auth,{idToken:q,mfaEnrollmentId:C}));m.enrolledFactors=m.enrolledFactors.filter(({uid:Ve})=>Ve!==C),yield m.user._updateTokensIfNecessary(se),yield m.user.reload()}catch(se){throw se}})()}}const Kt=new WeakMap;function Jt(I){const f=(0,V.m9)(I);return Kt.has(f)||Kt.set(f,ul._fromUser(f)),Kt.get(f)}const Fl="__sak";class zt{constructor(f,m){this.storageRetriever=f,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Fl,"1"),this.storage.removeItem(Fl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,m){return this.storage.setItem(f,JSON.stringify(m)),Promise.resolve()}_get(f){const m=this.storage.getItem(f);return Promise.resolve(m?JSON.parse(m):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const Vl=(()=>{class I extends zt{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,C)=>this.onStorageEvent(m,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ot(){const I=(0,V.z$)();return Re(I)||et(I)}()&&function Mn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Gn(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const C of Object.keys(this.listeners)){const q=this.storage.getItem(C),se=this.localCache[C];q!==se&&m(C,se,q)}}onStorageEvent(m,C=!1){if(!m.key)return void this.forAllChangedKeys((nt,Et,Xt)=>{this.notifyListeners(nt,Xt)});const q=m.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const nt=this.storage.getItem(q);if(m.newValue!==nt)null!==m.newValue?this.storage.setItem(q,m.newValue):this.storage.removeItem(q);else if(this.localCache[q]===m.newValue&&!C)return}const se=()=>{const nt=this.storage.getItem(q);!C&&this.localCache[q]===nt||this.notifyListeners(q,nt)},Ve=this.storage.getItem(q);!function nn(){return(0,V.w1)()&&10===document.documentMode}()||Ve===m.newValue||m.newValue===m.oldValue?se():setTimeout(se,10)}notifyListeners(m,C){this.localCache[m]=C;const q=this.listeners[m];if(q)for(const se of Array.from(q))se(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,C,q)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:C,newValue:q}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(C)}_removeListener(m,C){this.listeners[m]&&(this.listeners[m].delete(C),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,C){var q=()=>super._set,se=this;return(0,p.Z)(function*(){yield q().call(se,m,C),se.localCache[m]=JSON.stringify(C)})()}_get(m){var C=()=>super._get,q=this;return(0,p.Z)(function*(){const se=yield C().call(q,m);return q.localCache[m]=JSON.stringify(se),se})()}_remove(m){var C=()=>super._remove,q=this;return(0,p.Z)(function*(){yield C().call(q,m),delete q.localCache[m]})()}}return I.type="LOCAL",I})(),_u=(()=>{class I extends zt{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,C){}_removeListener(m,C){}}return I.type="SESSION",I})();let dr=(()=>{class I{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const C=this.receivers.find(se=>se.isListeningto(m));if(C)return C;const q=new I(m);return this.receivers.push(q),q}isListeningto(m){return this.eventTarget===m}handleEvent(m){var C=this;return(0,p.Z)(function*(){const q=m,{eventId:se,eventType:Ve,data:nt}=q.data,Et=C.handlersMap[Ve];if(!Et?.size)return;q.ports[0].postMessage({status:"ack",eventId:se,eventType:Ve});const Xt=Array.from(Et).map(function(){var hr=(0,p.Z)(function*(Ls){return Ls(q.origin,nt)});return function(Ls){return hr.apply(this,arguments)}}()),cn=yield function yt(I){return Promise.all(I.map(function(){var f=(0,p.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(C){return{fulfilled:!1,reason:C}}});return function(m){return f.apply(this,arguments)}}()))}(Xt);q.ports[0].postMessage({status:"done",eventId:se,eventType:Ve,response:cn})})()}_subscribe(m,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(C)}_unsubscribe(m,C){this.handlersMap[m]&&C&&this.handlersMap[m].delete(C),(!C||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();function wa(I="",f=10){let m="";for(let C=0;C<f;C++)m+=Math.floor(10*Math.random());return I+m}class dd{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,m,C=50){var q=this;return(0,p.Z)(function*(){const se=typeof MessageChannel<"u"?new MessageChannel:null;if(!se)throw new Error("connection_unavailable");let Ve,nt;return new Promise((Et,Xt)=>{const cn=wa("",20);se.port1.start();const hr=setTimeout(()=>{Xt(new Error("unsupported_event"))},C);nt={messageChannel:se,onMessage(Ls){const El=Ls;if(El.data.eventId===cn)switch(El.data.status){case"ack":clearTimeout(hr),Ve=setTimeout(()=>{Xt(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ve),Et(El.data.response);break;default:clearTimeout(hr),clearTimeout(Ve),Xt(new Error("invalid_response"))}}},q.handlers.add(nt),se.port1.addEventListener("message",nt.onMessage),q.target.postMessage({eventType:f,eventId:cn,data:m},[se.port2])}).finally(()=>{nt&&q.removeMessageHandler(nt)})})()}}function gr(){return window}function sa(){return typeof gr().WorkerGlobalScope<"u"&&"function"==typeof gr().importScripts}function wo(){return(wo=(0,p.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const dn="firebaseLocalStorageDb",Dn="firebaseLocalStorage",Bo="fbase_key";class xr{constructor(f){this.request=f}toPromise(){return new Promise((f,m)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Ut(I,f){return I.transaction([Dn],f?"readwrite":"readonly").objectStore(Dn)}function cl(){const I=indexedDB.open(dn,1);return new Promise((f,m)=>{I.addEventListener("error",()=>{m(I.error)}),I.addEventListener("upgradeneeded",()=>{const C=I.result;try{C.createObjectStore(Dn,{keyPath:Bo})}catch(q){m(q)}}),I.addEventListener("success",(0,p.Z)(function*(){const C=I.result;C.objectStoreNames.contains(Dn)?f(C):(C.close(),yield function As(){const I=indexedDB.deleteDatabase(dn);return new xr(I).toPromise()}(),f(yield cl()))}))})}function oa(I,f,m){return yc.apply(this,arguments)}function yc(){return(yc=(0,p.Z)(function*(I,f,m){const C=Ut(I,!0).put({[Bo]:f,value:m});return new xr(C).toPromise()})).apply(this,arguments)}function Bl(){return(Bl=(0,p.Z)(function*(I,f){const m=Ut(I,!1).get(f),C=yield new xr(m).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function aa(I,f){const m=Ut(I,!0).delete(f);return new xr(m).toPromise()}const v=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,p.Z)(function*(){return m.db||(m.db=yield cl()),m.db})()}_withRetries(m){var C=this;return(0,p.Z)(function*(){let q=0;for(;;)try{const se=yield C._openDb();return yield m(se)}catch(se){if(q++>3)throw se;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,p.Z)(function*(){return sa()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,p.Z)(function*(){m.receiver=dr._getInstance(function ai(){return sa()?self:null}()),m.receiver._subscribe("keyChanged",function(){var C=(0,p.Z)(function*(q,se){return{keyProcessed:(yield m._poll()).includes(se.key)}});return function(q,se){return C.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var C=(0,p.Z)(function*(q,se){return["keyChanged"]});return function(q,se){return C.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,p.Z)(function*(){var C,q;if(m.activeServiceWorker=yield function Tn(){return wo.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new dd(m.activeServiceWorker);const se=yield m.sender._send("ping",{},800);se&&null!==(C=se[0])&&void 0!==C&&C.fulfilled&&null!==(q=se[0])&&void 0!==q&&q.value.includes("keyChanged")&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var C=this;return(0,p.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function Ul(){var I;return(null===(I=navigator?.serviceWorker)||void 0===I?void 0:I.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:m},C.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,p.Z)(function*(){try{if(!indexedDB)return!1;const m=yield cl();return yield oa(m,Fl,"1"),yield aa(m,Fl),!0}catch{}return!1})()}_withPendingWrite(m){var C=this;return(0,p.Z)(function*(){C.pendingWrites++;try{yield m()}finally{C.pendingWrites--}})()}_set(m,C){var q=this;return(0,p.Z)(function*(){return q._withPendingWrite((0,p.Z)(function*(){return yield q._withRetries(se=>oa(se,m,C)),q.localCache[m]=C,q.notifyServiceWorker(m)}))})()}_get(m){var C=this;return(0,p.Z)(function*(){const q=yield C._withRetries(se=>function Fa(I,f){return Bl.apply(this,arguments)}(se,m));return C.localCache[m]=q,q})()}_remove(m){var C=this;return(0,p.Z)(function*(){return C._withPendingWrite((0,p.Z)(function*(){return yield C._withRetries(q=>aa(q,m)),delete C.localCache[m],C.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,p.Z)(function*(){const C=yield m._withRetries(Ve=>{const nt=Ut(Ve,!1).getAll();return new xr(nt).toPromise()});if(!C)return[];if(0!==m.pendingWrites)return[];const q=[],se=new Set;if(0!==C.length)for(const{fbase_key:Ve,value:nt}of C)se.add(Ve),JSON.stringify(m.localCache[Ve])!==JSON.stringify(nt)&&(m.notifyListeners(Ve,nt),q.push(Ve));for(const Ve of Object.keys(m.localCache))m.localCache[Ve]&&!se.has(Ve)&&(m.notifyListeners(Ve,null),q.push(Ve));return q})()}notifyListeners(m,C){this.localCache[m]=C;const q=this.listeners[m];if(q)for(const se of Array.from(q))se(C)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,p.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(C)}_removeListener(m,C){this.listeners[m]&&(this.listeners[m].delete(C),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})(),Qe=1e12;class Ht{constructor(f){this.auth=f,this.counter=Qe,this._widgets=new Map}render(f,m){const C=this.counter;return this._widgets.set(C,new qn(f,this.auth.name,m||{})),this.counter++,C}reset(f){var m;const C=f||Qe;null===(m=this._widgets.get(C))||void 0===m||m.delete(),this._widgets.delete(C)}getResponse(f){var m;return(null===(m=this._widgets.get(f||Qe))||void 0===m?void 0:m.getResponse())||""}execute(f){var m=this;return(0,p.Z)(function*(){var C;return null===(C=m._widgets.get(f||Qe))||void 0===C||C.execute(),""})()}}class qn{constructor(f,m,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const q="string"==typeof f?document.getElementById(f):f;ve(q,"argument-error",{appName:m}),this.container=q,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function zn(I){const f=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<I;C++)f.push(m.charAt(Math.floor(62*Math.random())));return f.join("")}(50);const{callback:f,"expired-callback":m}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const kn=ii("rcb"),Sr=new bt(3e4,6e4);class uo{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=gr().grecaptcha)||void 0===f||!f.render)}load(f,m=""){return ve(function Va(I){return I.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(I)}(m),f,"argument-error"),this.shouldResolveImmediately(m)&&Fn(gr().grecaptcha)?Promise.resolve(gr().grecaptcha):new Promise((C,q)=>{const se=gr().setTimeout(()=>{q(Me(f,"network-request-failed"))},Sr.get());gr()[kn]=()=>{gr().clearTimeout(se),delete gr()[kn];const nt=gr().grecaptcha;if(!nt||!Fn(nt))return void q(Me(f,"internal-error"));const Et=nt.render;nt.render=(Xt,cn)=>{const hr=Et(Xt,cn);return this.counter++,hr},this.hostLanguage=m,C(nt)},Es(`${function go(){return ts.recaptchaV2Script}()}?${(0,V.xO)({onload:kn,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(se),q(Me(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var m;return!(null===(m=gr().grecaptcha)||void 0===m||!m.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class dl{load(f){return(0,p.Z)(function*(){return new Ht(f)})()}clearedOneInstance(){}}const Ca="recaptcha",Ic={theme:"light",type:"image"};class co{constructor(f,m,C=Object.assign({},Ic)){this.parameters=C,this.type=Ca,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Vn(f),this.isInvisible="invisible"===this.parameters.size,ve(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const q="string"==typeof m?document.getElementById(m):m;ve(q,this.auth,"argument-error"),this.container=q,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new dl:new uo,this.validateStartingState()}verify(){var f=this;return(0,p.Z)(function*(){f.assertNotDestroyed();const m=yield f.render(),C=f.getAssertedRecaptcha();return C.getResponse(m)||new Promise(se=>{const Ve=nt=>{nt&&(f.tokenChangeListeners.delete(Ve),se(nt))};f.tokenChangeListeners.add(Ve),f.isInvisible&&C.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){ve(!this.parameters.sitekey,this.auth,"argument-error"),ve(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ve(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return m=>{if(this.tokenChangeListeners.forEach(C=>C(m)),"function"==typeof f)f(m);else if("string"==typeof f){const C=gr()[f];"function"==typeof C&&C(m)}}}assertNotDestroyed(){ve(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,p.Z)(function*(){if(yield f.init(),!f.widgetId){let m=f.container;if(!f.isInvisible){const C=document.createElement("div");m.appendChild(C),m=C}f.widgetId=f.getAssertedRecaptcha().render(m,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,p.Z)(function*(){ve(pt()&&!sa(),f.auth,"internal-error"),yield function Ua(){let I=null;return new Promise(f=>{"complete"!==document.readyState?(I=()=>f(),window.addEventListener("load",I)):f()}).catch(f=>{throw I&&window.removeEventListener("load",I),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const m=yield function fn(I){return cr.apply(this,arguments)}(f.auth);ve(m,f.auth,"internal-error"),f.parameters.sitekey=m})()}getAssertedRecaptcha(){return ve(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ho{constructor(f,m){this.verificationId=f,this.onConfirmation=m}confirm(f){const m=Us._fromVerification(this.verificationId,f);return this.onConfirmation(m)}}function Uh(I,f,m){return ji.apply(this,arguments)}function ji(){return(ji=(0,p.Z)(function*(I,f,m){const C=Vn(I),q=yield Ba(C,f,(0,V.m9)(m));return new ho(q,se=>Ri(C,se))})).apply(this,arguments)}function Ec(I,f,m){return hl.apply(this,arguments)}function hl(){return(hl=(0,p.Z)(function*(I,f,m){const C=(0,V.m9)(I);yield ie(!1,C,"phone");const q=yield Ba(C.auth,f,(0,V.m9)(m));return new ho(q,se=>os(C,se))})).apply(this,arguments)}function Ho(I,f,m){return yu.apply(this,arguments)}function yu(){return(yu=(0,p.Z)(function*(I,f,m){const C=(0,V.m9)(I),q=yield Ba(C.auth,f,(0,V.m9)(m));return new ho(q,se=>bs(C,se))})).apply(this,arguments)}function Ba(I,f,m){return Tc.apply(this,arguments)}function Tc(){return Tc=(0,p.Z)(function*(I,f,m){var C;const q=yield m.verify();try{let se;if(ve("string"==typeof q,I,"argument-error"),ve(m.type===Ca,I,"argument-error"),se="string"==typeof f?{phoneNumber:f}:f,"session"in se){const Ve=se.session;if("phoneNumber"in se)return ve("enroll"===Ve.type,I,"internal-error"),(yield function oi(I,f){return We(I,"POST","/v2/accounts/mfaEnrollment:start",ke(I,f))}(I,{idToken:Ve.credential,phoneEnrollmentInfo:{phoneNumber:se.phoneNumber,recaptchaToken:q}})).phoneSessionInfo.sessionInfo;{ve("signin"===Ve.type,I,"internal-error");const nt=(null===(C=se.multiFactorHint)||void 0===C?void 0:C.uid)||se.multiFactorUid;return ve(nt,I,"missing-multi-factor-info"),(yield function R(I,f){return We(I,"POST","/v2/accounts/mfaSignIn:start",ke(I,f))}(I,{mfaPendingCredential:Ve.credential,mfaEnrollmentId:nt,phoneSignInInfo:{recaptchaToken:q}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ve}=yield function Ki(I,f){return ci.apply(this,arguments)}(I,{phoneNumber:se.phoneNumber,recaptchaToken:q});return Ve}}finally{m._reset()}}),Tc.apply(this,arguments)}function Hl(I,f){return fl.apply(this,arguments)}function fl(){return(fl=(0,p.Z)(function*(I,f){yield K((0,V.m9)(I),f)})).apply(this,arguments)}let Lp=(()=>{class I{constructor(m){this.providerId=I.PROVIDER_ID,this.auth=Vn(m)}verifyPhoneNumber(m,C){return Ba(this.auth,m,(0,V.m9)(C))}static credential(m,C){return Us._fromVerification(m,C)}static credentialFromResult(m){return I.credentialFromTaggedObject(m)}static credentialFromError(m){return I.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:C,temporaryProof:q}=m;return C&&q?Us._fromTokenResponse(C,q):null}}return I.PROVIDER_ID="phone",I.PHONE_SIGN_IN_METHOD="phone",I})();function jl(I,f){return f?Fe(f):(ve(I._popupRedirectResolver,I,"argument-error"),I._popupRedirectResolver)}class vu extends Ts{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return Fi(f,this._buildIdpRequest())}_linkToIdToken(f,m){return Fi(f,this._buildIdpRequest(m))}_getReauthenticationResolver(f){return Fi(f,this._buildIdpRequest())}_buildIdpRequest(f){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(m.idToken=f),m}}function Gg(I){return gi(I.auth,new vu(I),I.bypassAuthState)}function kp(I){const{auth:f,user:m}=I;return ve(m,f,"internal-error"),Vt(m,new vu(I),I.bypassAuthState)}function Fp(I){return Bh.apply(this,arguments)}function Bh(){return(Bh=(0,p.Z)(function*(I){const{auth:f,user:m}=I;return ve(m,f,"internal-error"),K(m,new vu(I),I.bypassAuthState)})).apply(this,arguments)}class Vp{constructor(f,m,C,q,se=!1){this.auth=f,this.resolver=C,this.user=q,this.bypassAuthState=se,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var f=this;return new Promise(function(){var m=(0,p.Z)(function*(C,q){f.pendingPromise={resolve:C,reject:q};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(se){f.reject(se)}});return function(C,q){return m.apply(this,arguments)}}())}onAuthEvent(f){var m=this;return(0,p.Z)(function*(){const{urlResponse:C,sessionId:q,postBody:se,tenantId:Ve,error:nt,type:Et}=f;if(nt)return void m.reject(nt);const Xt={auth:m.auth,requestUri:C,sessionId:q,tenantId:Ve||void 0,postBody:se||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Et)(Xt))}catch(cn){m.reject(cn)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return Gg;case"linkViaPopup":case"linkViaRedirect":return Fp;case"reauthViaPopup":case"reauthViaRedirect":return kp;default:oe(this.auth,"internal-error")}}resolve(f){ge(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){ge(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const fd=new bt(2e3,1e4);function Iu(I,f,m){return pd.apply(this,arguments)}function pd(){return(pd=(0,p.Z)(function*(I,f,m){const C=Vn(I);me(I,f,Ci);const q=jl(C,m);return new Cu(C,"signInViaPopup",f,q).executeNotNull()})).apply(this,arguments)}function Eu(I,f,m){return Tu.apply(this,arguments)}function Tu(){return(Tu=(0,p.Z)(function*(I,f,m){const C=(0,V.m9)(I);me(C.auth,f,Ci);const q=jl(C.auth,m);return new Cu(C.auth,"reauthViaPopup",f,q,C).executeNotNull()})).apply(this,arguments)}function wu(I,f,m){return Hh.apply(this,arguments)}function Hh(){return(Hh=(0,p.Z)(function*(I,f,m){const C=(0,V.m9)(I);me(C.auth,f,Ci);const q=jl(C.auth,m);return new Cu(C.auth,"linkViaPopup",f,q,C).executeNotNull()})).apply(this,arguments)}let Cu=(()=>{class I extends Vp{constructor(m,C,q,se,Ve){super(m,C,se,Ve),this.provider=q,this.authWindow=null,this.pollId=null,I.currentPopupAction&&I.currentPopupAction.cancel(),I.currentPopupAction=this}executeNotNull(){var m=this;return(0,p.Z)(function*(){const C=yield m.execute();return ve(C,m.auth,"internal-error"),C})()}onExecution(){var m=this;return(0,p.Z)(function*(){ge(1===m.filter.length,"Popup operations only handle one event");const C=wa();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],C),m.authWindow.associatedEvent=C,m.resolver._originValidation(m.auth).catch(q=>{m.reject(q)}),m.resolver._isIframeWebStorageSupported(m.auth,q=>{q||m.reject(Me(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Me(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,I.currentPopupAction=null}pollUserCancellation(){const m=()=>{var C,q;this.pollId=null!==(q=null===(C=this.authWindow)||void 0===C?void 0:C.window)&&void 0!==q&&q.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Me(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(m,fd.get())};m()}}return I.currentPopupAction=null,I})();const md="pendingRedirect",bu=new Map;class jo extends Vp{constructor(f,m,C=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,C),this.eventId=null}execute(){var f=()=>super.execute,m=this;return(0,p.Z)(function*(){let C=bu.get(m.auth._key());if(!C){try{const se=(yield function ms(I,f){return pl.apply(this,arguments)}(m.resolver,m.auth))?yield f().call(m):null;C=()=>Promise.resolve(se)}catch(q){C=()=>Promise.reject(q)}bu.set(m.auth._key(),C)}return m.bypassAuthState||bu.set(m.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(f){var m=()=>super.onAuthEvent,C=this;return(0,p.Z)(function*(){if("signInViaRedirect"===f.type)return m().call(C,f);if("unknown"!==f.type){if(f.eventId){const q=yield C.auth._redirectUserForId(f.eventId);if(q)return C.user=q,m().call(C,f);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,p.Z)(function*(){})()}cleanUp(){}}function pl(){return(pl=(0,p.Z)(function*(I,f){const m=Gr(f),C=gs(I);if(!(yield C._isAvailable()))return!1;const q="true"===(yield C._get(m));return yield C._remove(m),q})).apply(this,arguments)}function $o(I,f){return Du.apply(this,arguments)}function Du(){return(Du=(0,p.Z)(function*(I,f){return gs(I)._set(Gr(f),"true")})).apply(this,arguments)}function Yr(){bu.clear()}function ml(I,f){bu.set(I._key(),f)}function gs(I){return Fe(I._redirectPersistence)}function Gr(I){return xt(md,I.config.apiKey,I.name)}function gd(I,f,m){return function gl(I,f,m){return Ss.apply(this,arguments)}(I,f,m)}function Ss(){return(Ss=(0,p.Z)(function*(I,f,m){const C=Vn(I);me(I,f,Ci),yield C._initializationPromise;const q=jl(C,m);return yield $o(q,C),q._openRedirect(C,f,"signInViaRedirect")})).apply(this,arguments)}function jh(I,f,m){return function wc(I,f,m){return ni.apply(this,arguments)}(I,f,m)}function ni(){return(ni=(0,p.Z)(function*(I,f,m){const C=(0,V.m9)(I);me(C.auth,f,Ci),yield C.auth._initializationPromise;const q=jl(C.auth,m);yield $o(q,C.auth);const se=yield _d(C);return q._openRedirect(C.auth,f,"reauthViaRedirect",se)})).apply(this,arguments)}function Up(I,f,m){return function ba(I,f,m){return di.apply(this,arguments)}(I,f,m)}function di(){return(di=(0,p.Z)(function*(I,f,m){const C=(0,V.m9)(I);me(C.auth,f,Ci),yield C.auth._initializationPromise;const q=jl(C.auth,m);yield ie(!1,C,f.providerId),yield $o(q,C.auth);const se=yield _d(C);return q._openRedirect(C.auth,f,"linkViaRedirect",se)})).apply(this,arguments)}function Co(I,f){return $l.apply(this,arguments)}function $l(){return($l=(0,p.Z)(function*(I,f){return yield Vn(I)._initializationPromise,Qi(I,f,!1)})).apply(this,arguments)}function Qi(I,f){return _l.apply(this,arguments)}function _l(){return(_l=(0,p.Z)(function*(I,f,m=!1){const C=Vn(I),q=jl(C,f),Ve=yield new jo(C,q,m).execute();return Ve&&!m&&(delete Ve.user._redirectEventId,yield C._persistUserIfCurrent(Ve.user),yield C._setRedirectUser(null,f)),Ve})).apply(this,arguments)}function _d(I){return zo.apply(this,arguments)}function zo(){return(zo=(0,p.Z)(function*(I){const f=wa(`${I.uid}:::`);return I._redirectEventId=f,yield I.auth._setRedirectUser(I),yield I.auth._persistUserIfCurrent(I),f})).apply(this,arguments)}class zl{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let m=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(f,C)&&(m=!0,this.sendToConsumer(f,C),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function la(I){switch(I.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ns(I);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=f,m=!0)),m}sendToConsumer(f,m){var C;if(f.error&&!Ns(f)){const q=(null===(C=f.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";m.onError(Me(this.auth,q))}else m.onAuthEvent(f)}isEventForConsumer(f,m){const C=null===m.eventId||!!f.eventId&&f.eventId===m.eventId;return m.filter.includes(f.type)&&C}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ko(f))}saveEventToCache(f){this.cachedEventUids.add(Ko(f)),this.lastProcessedEventTime=Date.now()}}function Ko(I){return[I.type,I.eventId,I.sessionId,I.tenantId].filter(f=>f).join("-")}function Ns({type:I,error:f}){return"unknown"===I&&"auth/no-auth-event"===f?.code}function fo(I){return Au.apply(this,arguments)}function Au(){return(Au=(0,p.Z)(function*(I,f={}){return We(I,"GET","/v1/projects",f)})).apply(this,arguments)}const ja=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$a=/^https?/;function Da(){return(Da=(0,p.Z)(function*(I){if(I.config.emulator)return;const{authorizedDomains:f}=yield fo(I);for(const m of f)try{if($h(m))return}catch{}oe(I,"unauthorized-domain")})).apply(this,arguments)}function $h(I){const f=Lt(),{protocol:m,hostname:C}=new URL(f);if(I.startsWith("chrome-extension://")){const Ve=new URL(I);return""===Ve.hostname&&""===C?"chrome-extension:"===m&&I.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===m&&Ve.hostname===C}if(!$a.test(m))return!1;if(ja.test(I))return C===I;const q=I.replace(/\./g,"\\.");return new RegExp("^(.+\\."+q+"|"+q+")$","i").test(C)}const Cc=new bt(3e4,6e4);function zh(){const I=gr().___jsl;if(I?.H)for(const f of Object.keys(I.H))if(I.H[f].r=I.H[f].r||[],I.H[f].L=I.H[f].L||[],I.H[f].r=[...I.H[f].L],I.CP)for(let m=0;m<I.CP.length;m++)I.CP[m]=null}let Gl=null;const yl=new bt(5e3,15e3),Hp="__/auth/iframe",jp="emulator/auth/iframe",Yi={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Gh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $i(I){const f=I.config;ve(f.authDomain,I,"auth-domain-config-required");const m=f.emulator?Pt(f,jp):`https://${I.config.authDomain}/${Hp}`,C={apiKey:f.apiKey,appName:I.name,v:b.SDK_VERSION},q=Gh.get(I.config.apiHost);q&&(C.eid=q);const se=I._getFrameworks();return se.length&&(C.fw=se.join(",")),`${m}?${(0,V.xO)(C).slice(1)}`}function ur(){return ur=(0,p.Z)(function*(I){const f=yield function bc(I){return Gl=Gl||function Bp(I){return new Promise((f,m)=>{var C,q,se;function Ve(){zh(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{zh(),m(Me(I,"network-request-failed"))},timeout:Cc.get()})}if(null!==(q=null===(C=gr().gapi)||void 0===C?void 0:C.iframes)&&void 0!==q&&q.Iframe)f(gapi.iframes.getContext());else{if(null===(se=gr().gapi)||void 0===se||!se.load){const nt=ii("iframefcb");return gr()[nt]=()=>{gapi.load?Ve():m(Me(I,"network-request-failed"))},Es(`${function qs(){return ts.gapiScript}()}?onload=${nt}`).catch(Et=>m(Et))}Ve()}}).catch(f=>{throw Gl=null,f})}(I),Gl}(I),m=gr().gapi;return ve(m,I,"internal-error"),f.open({where:document.body,url:$i(I),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Yi,dontclear:!0},C=>new Promise(function(){var q=(0,p.Z)(function*(se,Ve){yield C.restyle({setHideOnLeave:!1});const nt=Me(I,"network-request-failed"),Et=gr().setTimeout(()=>{Ve(nt)},yl.get());function Xt(){gr().clearTimeout(Et),se(C)}C.ping(Xt).then(Xt,()=>{Ve(nt)})});return function(se,Ve){return q.apply(this,arguments)}}()))}),ur.apply(this,arguments)}const bo={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class qh{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const _s="__/auth/handler",Pu="emulator/auth/handler",za=encodeURIComponent("fac");function Id(I,f,m,C,q,se){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,p.Z)(function*(I,f,m,C,q,se){ve(I.config.authDomain,I,"auth-domain-config-required"),ve(I.config.apiKey,I,"invalid-api-key");const Ve={apiKey:I.config.apiKey,appName:I.name,authType:m,redirectUrl:C,v:b.SDK_VERSION,eventId:q};if(f instanceof Ci){f.setDefaultLanguage(I.languageCode),Ve.providerId=f.providerId||"",(0,V.xb)(f.getCustomParameters())||(Ve.customParameters=JSON.stringify(f.getCustomParameters()));for(const[cn,hr]of Object.entries(se||{}))Ve[cn]=hr}if(f instanceof $r){const cn=f.getScopes().filter(hr=>""!==hr);cn.length>0&&(Ve.scopes=cn.join(","))}I.tenantId&&(Ve.tid=I.tenantId);const nt=Ve;for(const cn of Object.keys(nt))void 0===nt[cn]&&delete nt[cn];const Et=yield I._getAppCheckToken(),Xt=Et?`#${za}=${encodeURIComponent(Et)}`:"";return`${function Kh({config:I}){return I.emulator?Pt(I,Pu):`https://${I.authDomain}/${_s}`}(I)}?${(0,V.xO)(nt).slice(1)}${Xt}`})).apply(this,arguments)}const Dc="webStorageSupport",Qh=class Zh{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_u,this._completeRedirectFn=Qi,this._overrideRedirectResult=ml}_openPopup(f,m,C,q){var se=this;return(0,p.Z)(function*(){var Ve;ge(null===(Ve=se.eventManagers[f._key()])||void 0===Ve?void 0:Ve.manager,"_initialize() not called before _openPopup()");const nt=yield Id(f,m,C,Lt(),q);return function _r(I,f,m,C=500,q=600){const se=Math.max((window.screen.availHeight-q)/2,0).toString(),Ve=Math.max((window.screen.availWidth-C)/2,0).toString();let nt="";const Et=Object.assign(Object.assign({},bo),{width:C.toString(),height:q.toString(),top:se,left:Ve}),Xt=(0,V.z$)().toLowerCase();m&&(nt=Ee(Xt)?"_blank":m),jn(Xt)&&(f=f||"http://localhost",Et.scrollbars="yes");const cn=Object.entries(Et).reduce((Ls,[El,Go])=>`${Ls}${El}=${Go},`,"");if(function ct(I=(0,V.z$)()){var f;return et(I)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(Xt)&&"_self"!==nt)return function Xr(I,f){const m=document.createElement("a");m.href=I,m.target=f;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(C)}(f||"",nt),new qh(null);const hr=window.open(f||"",nt,cn);ve(hr,I,"popup-blocked");try{hr.focus()}catch{}return new qh(hr)}(f,nt,wa())})()}_openRedirect(f,m,C,q){var se=this;return(0,p.Z)(function*(){return yield se._originValidation(f),function hd(I){gr().location.href=I}(yield Id(f,m,C,Lt(),q)),new Promise(()=>{})})()}_initialize(f){const m=f._key();if(this.eventManagers[m]){const{manager:q,promise:se}=this.eventManagers[m];return q?Promise.resolve(q):(ge(se,"If manager is not set, promise should be"),se)}const C=this.initAndGetManager(f);return this.eventManagers[m]={promise:C},C.catch(()=>{delete this.eventManagers[m]}),C}initAndGetManager(f){var m=this;return(0,p.Z)(function*(){const C=yield function Wh(I){return ur.apply(this,arguments)}(f),q=new zl(f);return C.register("authEvent",se=>(ve(se?.authEvent,f,"invalid-auth-event"),{status:q.onEvent(se.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[f._key()]={manager:q},m.iframes[f._key()]=C,q})()}_isIframeWebStorageSupported(f,m){this.iframes[f._key()].send(Dc,{type:Dc},q=>{var se;const Ve=null===(se=q?.[0])||void 0===se?void 0:se[Dc];void 0!==Ve&&m(!!Ve),oe(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function yd(I){return Da.apply(this,arguments)}(f)),this.originValidationPromises[m]}get _shouldInitProactively(){return Gn()||Re()||et()}};class zp{constructor(f){this.factorId=f}_process(f,m,C){switch(m.type){case"enroll":return this._finalizeEnroll(f,m.credential,C);case"signin":return this._finalizeSignIn(f,m.credential);default:return tt("unexpected MultiFactorSessionType")}}}class Ed extends zp{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new Ed(f)}_finalizeEnroll(f,m,C){return function qo(I,f){return We(I,"POST","/v2/accounts/mfaEnrollment:finalize",ke(I,f))}(f,{idToken:m,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,m){return function B(I,f){return We(I,"POST","/v2/accounts/mfaSignIn:finalize",ke(I,f))}(f,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Ac=(()=>{class I{constructor(){}static assertion(m){return Ed._fromCredential(m)}}return I.FACTOR_ID="phone",I})();var Mu="@firebase/auth";class Ga{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var m=this;return(0,p.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const m=this.auth.onIdTokenChanged(C=>{f(C?.stsTokenManager.accessToken||null)});this.internalListeners.set(f,m),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const m=this.internalListeners.get(f);m&&(this.internalListeners.delete(f),m(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,V.Pz)("authIdTokenMaxAge"),function Dr(I){ts=I}({loadJS:I=>new Promise((f,m)=>{const C=document.createElement("script");C.setAttribute("src",I),C.onload=f,C.onerror=q=>{const se=Me("internal-error");se.customData=q,m(se)},C.type="text/javascript",C.charset="UTF-8",function ql(){var I,f;return null!==(f=null===(I=document.getElementsByTagName("head"))||void 0===I?void 0:I[0])&&void 0!==f?f:document}().appendChild(C)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Il(I){(0,b._registerComponent)(new Y.wA("auth",(f,{options:m})=>{const C=f.getProvider("app").getImmediate(),q=f.getProvider("heartbeat"),se=f.getProvider("app-check-internal"),{apiKey:Ve,authDomain:nt}=C.options;ve(Ve&&!Ve.includes(":"),"invalid-api-key",{appName:C.name});const Et={apiKey:Ve,authDomain:nt,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sr(I)},Xt=new us(C,q,se,Et);return function Ei(I,f){const m=f?.persistence||[],C=(Array.isArray(m)?m:[m]).map(Fe);f?.errorMap&&I._updateErrorMap(f.errorMap),I._initializeWithPersistence(C,f?.popupRedirectResolver)}(Xt,m),Xt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,m,C)=>{f.getProvider("auth-internal").initialize()})),(0,b._registerComponent)(new Y.wA("auth-internal",f=>{const m=Vn(f.getProvider("auth").getImmediate());return new Ga(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,b.registerVersion)(Mu,"1.6.0",function vl(I){switch(I){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(I)),(0,b.registerVersion)(Mu,"1.6.0","esm2017")}("Browser")},9058:(Mt,He,U)=>{U.d(He,{BH:()=>pe,G6:()=>Pt,L:()=>de,LL:()=>at,Pz:()=>Me,Sg:()=>me,UG:()=>tt,ZB:()=>ye,ZR:()=>We,aH:()=>oe,b$:()=>pt,eu:()=>Ne,hl:()=>Se,jU:()=>ge,m9:()=>Ur,ne:()=>tr,pd:()=>hn,r3:()=>wn,ru:()=>Lt,tV:()=>J,uI:()=>ve,vZ:()=>Pn,w1:()=>_n,xO:()=>ir,xb:()=>fn,z$:()=>be,zd:()=>en});const Ce=function(De){const ne=[];let z=0;for(let F=0;F<De.length;F++){let L=De.charCodeAt(F);L<128?ne[z++]=L:L<2048?(ne[z++]=L>>6|192,ne[z++]=63&L|128):55296==(64512&L)&&F+1<De.length&&56320==(64512&De.charCodeAt(F+1))?(L=65536+((1023&L)<<10)+(1023&De.charCodeAt(++F)),ne[z++]=L>>18|240,ne[z++]=L>>12&63|128,ne[z++]=L>>6&63|128,ne[z++]=63&L|128):(ne[z++]=L>>12|224,ne[z++]=L>>6&63|128,ne[z++]=63&L|128)}return ne},Y={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(De,ne){if(!Array.isArray(De))throw Error("encodeByteArray takes an array as a parameter");this.init_();const z=ne?this.byteToCharMapWebSafe_:this.byteToCharMap_,F=[];for(let L=0;L<De.length;L+=3){const he=De[L],Fe=L+1<De.length,dt=Fe?De[L+1]:0,It=L+2<De.length,xt=It?De[L+2]:0;let jn=(15&dt)<<2|xt>>6,Re=63&xt;It||(Re=64,Fe||(jn=64)),F.push(z[he>>2],z[(3&he)<<4|dt>>4],z[jn],z[Re])}return F.join("")},encodeString(De,ne){return this.HAS_NATIVE_SUPPORT&&!ne?btoa(De):this.encodeByteArray(Ce(De),ne)},decodeString(De,ne){return this.HAS_NATIVE_SUPPORT&&!ne?atob(De):function(De){const ne=[];let z=0,F=0;for(;z<De.length;){const L=De[z++];if(L<128)ne[F++]=String.fromCharCode(L);else if(L>191&&L<224){const he=De[z++];ne[F++]=String.fromCharCode((31&L)<<6|63&he)}else if(L>239&&L<365){const It=((7&L)<<18|(63&De[z++])<<12|(63&De[z++])<<6|63&De[z++])-65536;ne[F++]=String.fromCharCode(55296+(It>>10)),ne[F++]=String.fromCharCode(56320+(1023&It))}else{const he=De[z++],Fe=De[z++];ne[F++]=String.fromCharCode((15&L)<<12|(63&he)<<6|63&Fe)}}return ne.join("")}(this.decodeStringToByteArray(De,ne))},decodeStringToByteArray(De,ne){this.init_();const z=ne?this.charToByteMapWebSafe_:this.charToByteMap_,F=[];for(let L=0;L<De.length;){const he=z[De.charAt(L++)],dt=L<De.length?z[De.charAt(L)]:0;++L;const xt=L<De.length?z[De.charAt(L)]:64;++L;const Yt=L<De.length?z[De.charAt(L)]:64;if(++L,null==he||null==dt||null==xt||null==Yt)throw new W;F.push(he<<2|dt>>4),64!==xt&&(F.push(dt<<4&240|xt>>2),64!==Yt&&F.push(xt<<6&192|Yt))}return F},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let De=0;De<this.ENCODED_VALS.length;De++)this.byteToCharMap_[De]=this.ENCODED_VALS.charAt(De),this.charToByteMap_[this.byteToCharMap_[De]]=De,this.byteToCharMapWebSafe_[De]=this.ENCODED_VALS_WEBSAFE.charAt(De),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[De]]=De,De>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(De)]=De,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(De)]=De)}}};class W extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const de=function(De){return function(De){const ne=Ce(De);return Y.encodeByteArray(ne,!0)}(De).replace(/\./g,"")},J=function(De){try{return Y.decodeString(De,!0)}catch(ne){console.error("base64Decode failed: ",ne)}return null};function ye(De,ne){if(!(ne instanceof Object))return ne;switch(ne.constructor){case Date:return new Date(ne.getTime());case Object:void 0===De&&(De={});break;case Array:De=[];break;default:return ne}for(const z in ne)!ne.hasOwnProperty(z)||!je(z)||(De[z]=ye(De[z],ne[z]));return De}function je(De){return"__proto__"!==De}const it=()=>{try{return function Ke(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const De=process.env.__FIREBASE_DEFAULTS__;return De?JSON.parse(De):void 0})()||(()=>{if(typeof document>"u")return;let De;try{De=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ne=De&&J(De[1]);return ne&&JSON.parse(ne)})()}catch(De){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${De}`)}},oe=()=>{var De;return null===(De=it())||void 0===De?void 0:De.config},Me=De=>{var ne;return null===(ne=it())||void 0===ne?void 0:ne[`_${De}`]};class pe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ne,z)=>{this.resolve=ne,this.reject=z})}wrapCallback(ne){return(z,F)=>{z?this.reject(z):this.resolve(F),"function"==typeof ne&&(this.promise.catch(()=>{}),1===ne.length?ne(z):ne(z,F))}}}function me(De,ne){if(De.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const F=ne||"demo-project",L=De.iat||0,he=De.sub||De.user_id;if(!he)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Fe=Object.assign({iss:`https://securetoken.google.com/${F}`,aud:F,iat:L,exp:L+3600,auth_time:L,sub:he,user_id:he,firebase:{sign_in_provider:"custom",identities:{}}},De);return[de(JSON.stringify({alg:"none",type:"JWT"})),de(JSON.stringify(Fe)),""].join(".")}function be(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ve(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(be())}function tt(){var De;const ne=null===(De=it())||void 0===De?void 0:De.forceEnvironment;if("node"===ne)return!0;if("browser"===ne)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function ge(){return"object"==typeof self&&self.self===self}function Lt(){const De="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof De&&void 0!==De.id}function pt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function _n(){const De=be();return De.indexOf("MSIE ")>=0||De.indexOf("Trident/")>=0}function Pt(){return!tt()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Se(){try{return"object"==typeof indexedDB}catch{return!1}}function Ne(){return new Promise((De,ne)=>{try{let z=!0;const F="validate-browser-context-for-indexeddb-analytics-module",L=self.indexedDB.open(F);L.onsuccess=()=>{L.result.close(),z||self.indexedDB.deleteDatabase(F),De(!0)},L.onupgradeneeded=()=>{z=!1},L.onerror=()=>{var he;ne((null===(he=L.error)||void 0===he?void 0:he.message)||"")}}catch(z){ne(z)}})}class We extends Error{constructor(ne,z,F){super(z),this.code=ne,this.customData=F,this.name="FirebaseError",Object.setPrototypeOf(this,We.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,at.prototype.create)}}class at{constructor(ne,z,F){this.service=ne,this.serviceName=z,this.errors=F}create(ne,...z){const F=z[0]||{},L=`${this.service}/${ne}`,he=this.errors[ne],Fe=he?function Tt(De,ne){return De.replace(ft,(z,F)=>{const L=ne[F];return null!=L?String(L):`<${F}?>`})}(he,F):"Error";return new We(L,`${this.serviceName}: ${Fe} (${L}).`,F)}}const ft=/\{\$([^}]+)}/g;function wn(De,ne){return Object.prototype.hasOwnProperty.call(De,ne)}function fn(De){for(const ne in De)if(Object.prototype.hasOwnProperty.call(De,ne))return!1;return!0}function Pn(De,ne){if(De===ne)return!0;const z=Object.keys(De),F=Object.keys(ne);for(const L of z){if(!F.includes(L))return!1;const he=De[L],Fe=ne[L];if(Kn(he)&&Kn(Fe)){if(!Pn(he,Fe))return!1}else if(he!==Fe)return!1}for(const L of F)if(!z.includes(L))return!1;return!0}function Kn(De){return null!==De&&"object"==typeof De}function ir(De){const ne=[];for(const[z,F]of Object.entries(De))Array.isArray(F)?F.forEach(L=>{ne.push(encodeURIComponent(z)+"="+encodeURIComponent(L))}):ne.push(encodeURIComponent(z)+"="+encodeURIComponent(F));return ne.length?"&"+ne.join("&"):""}function en(De){const ne={};return De.replace(/^\?/,"").split("&").forEach(F=>{if(F){const[L,he]=F.split("=");ne[decodeURIComponent(L)]=decodeURIComponent(he)}}),ne}function hn(De){const ne=De.indexOf("?");if(!ne)return"";const z=De.indexOf("#",ne);return De.substring(ne,z>0?z:void 0)}function tr(De,ne){const z=new fr(De,ne);return z.subscribe.bind(z)}class fr{constructor(ne,z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=z,this.task.then(()=>{ne(this)}).catch(F=>{this.error(F)})}next(ne){this.forEachObserver(z=>{z.next(ne)})}error(ne){this.forEachObserver(z=>{z.error(ne)}),this.close(ne)}complete(){this.forEachObserver(ne=>{ne.complete()}),this.close()}subscribe(ne,z,F){let L;if(void 0===ne&&void 0===z&&void 0===F)throw new Error("Missing Observer.");L=function Ct(De,ne){if("object"!=typeof De||null===De)return!1;for(const z of ne)if(z in De&&"function"==typeof De[z])return!0;return!1}(ne,["next","error","complete"])?ne:{next:ne,error:z,complete:F},void 0===L.next&&(L.next=Pe),void 0===L.error&&(L.error=Pe),void 0===L.complete&&(L.complete=Pe);const he=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?L.error(this.finalError):L.complete()}catch{}}),this.observers.push(L),he}unsubscribeOne(ne){void 0===this.observers||void 0===this.observers[ne]||(delete this.observers[ne],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ne){if(!this.finalized)for(let z=0;z<this.observers.length;z++)this.sendOne(z,ne)}sendOne(ne,z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ne])try{z(this.observers[ne])}catch(F){typeof console<"u"&&console.error&&console.error(F)}})}close(ne){this.finalized||(this.finalized=!0,void 0!==ne&&(this.finalError=ne),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Pe(){}function Ur(De){return De&&De._delegate?De._delegate:De}},477:(Mt,He,U)=>{U.d(He,{Q:()=>V});var p=U(5879);let V=(()=>{class b{setData($,Y){localStorage.setItem($,JSON.stringify(Y))}getData($){const Y=localStorage.getItem($);return Y?JSON.parse(Y):null}removeData($){localStorage.removeItem($)}static#e=this.\u0275fac=function(Y){return new(Y||b)};static#t=this.\u0275prov=p.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"})}return b})()},9445:(Mt,He,U)=>{U.d(He,{e:()=>YI});var p=U(4939),V=U(9058),b=U(534),Ce=U(7879),$=U(4537),Y=U(5619),W=U(5879),ue=U(7213),de=U(477),J=U(3781),ae=U(6814),ye=U(8326),je=U(7217),Ke=U(6321),lt=U(5592),Xe=U(2459),rt=U(2096),it=U(7921),wt=U(9360),ut=U(8251);function oe(){return(0,wt.e)((i,e)=>{let n,s=!1;i.subscribe((0,ut.x)(e,l=>{const c=n;n=l,s&&e.next([c,l]),s=!0}))})}var st,Me=U(7398),pe=U(6699),me=U(3997),be=U(2181),tt=(U(6365),U(3106)),ge=U(5861),Lt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},pt={},_n=_n||{},Dt=Lt||self;function bt(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function Pt(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var Ne="closure_uid_"+(1e9*Math.random()>>>0),Ge=0;function ke(i,e,n){return i.call.apply(i.bind,arguments)}function We(i,e,n){if(!i)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var l=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(l,s),i.apply(e,l)}}return function(){return i.apply(e,arguments)}}function at(i,e,n){return(at=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ke:We).apply(null,arguments)}function Tt(i,e){var n=Array.prototype.slice.call(arguments,1);return function(){var s=n.slice();return s.push.apply(s,arguments),i.apply(this,s)}}function ft(i,e){function n(){}n.prototype=e.prototype,i.$=e.prototype,i.prototype=new n,i.prototype.constructor=i,i.ac=function(s,l,c){for(var h=Array(arguments.length-2),D=2;D<arguments.length;D++)h[D-2]=arguments[D];return e.prototype[l].apply(s,h)}}function En(){this.s=this.s,this.o=this.o}En.prototype.s=!1,En.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Se(i){Object.prototype.hasOwnProperty.call(i,Ne)&&i[Ne]||(i[Ne]=++Ge)}(this)},En.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Nn=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let n=0;n<i.length;n++)if(n in i&&i[n]===e)return n;return-1};function un(i){const e=i.length;if(0<e){const n=Array(e);for(let s=0;s<e;s++)n[s]=i[s];return n}return[]}function Bn(i,e){for(let n=1;n<arguments.length;n++){const s=arguments[n];if(bt(s)){const l=i.length||0,c=s.length||0;i.length=l+c;for(let h=0;h<c;h++)i[l+h]=s[h]}else i.push(s)}}function ln(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}ln.prototype.h=function(){this.defaultPrevented=!0};var Fn=function(){if(!Dt.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{const n=()=>{};Dt.addEventListener("test",n,e),Dt.removeEventListener("test",n,e)}catch{}return i}();function wn(i){return/^[\s\xa0]*$/.test(i)}function Wt(){var i=Dt.navigator;return i&&(i=i.userAgent)?i:""}function fn(i){return-1!=Wt().indexOf(i)}function cr(i){return cr[" "](i),i}cr[" "]=function(){};var fr,i,Kn=fn("Opera"),Cr=fn("Trident")||fn("MSIE"),ir=fn("Edge"),en=ir||Cr,hn=fn("Gecko")&&!(-1!=Wt().toLowerCase().indexOf("webkit")&&!fn("Edge"))&&!(fn("Trident")||fn("MSIE"))&&!fn("Edge"),tn=-1!=Wt().toLowerCase().indexOf("webkit")&&!fn("Edge");function tr(){var i=Dt.document;return i?i.documentMode:void 0}e:{var Ze="",Ct=(i=Wt(),hn?/rv:([^\);]+)(\)|;)/.exec(i):ir?/Edge\/([\d\.]+)/.exec(i):Cr?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):tn?/WebKit\/(\S+)/.exec(i):Kn?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Ct&&(Ze=Ct?Ct[1]:""),Cr){var Pe=tr();if(null!=Pe&&Pe>parseFloat(Ze)){fr=String(Pe);break e}}fr=Ze}var Bt=Dt.document&&Cr&&(tr()||parseInt(fr,10))||void 0;function At(i,e){if(ln.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var n=this.type=i.type,s=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(hn){e:{try{cr(e.nodeName);var l=!0;break e}catch{}l=!1}l||(e=null)}}else"mouseover"==n?e=i.fromElement:"mouseout"==n&&(e=i.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Hn[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&At.$.h.call(this)}}ft(At,ln);var Hn={2:"touch",3:"pen",4:"mouse"};At.prototype.h=function(){At.$.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Qt="closure_listenable_"+(1e6*Math.random()|0),Nr=0;function ri(i,e,n,s,l){this.listener=i,this.proxy=null,this.src=e,this.type=n,this.capture=!!s,this.la=l,this.key=++Nr,this.fa=this.ia=!1}function Rn(i){i.fa=!0,i.listener=null,i.proxy=null,i.src=null,i.la=null}function Ir(i,e,n){for(const s in i)e.call(n,i[s],s,i)}function Jr(i){const e={};for(const n in i)e[n]=i[n];return e}const fi="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function qr(i,e){let n,s;for(let l=1;l<arguments.length;l++){for(n in s=arguments[l],s)i[n]=s[n];for(let c=0;c<fi.length;c++)n=fi[c],Object.prototype.hasOwnProperty.call(s,n)&&(i[n]=s[n])}}function Pr(i){this.src=i,this.g={},this.h=0}function Ur(i,e){var n=e.type;if(n in i.g){var c,s=i.g[n],l=Nn(s,e);(c=0<=l)&&Array.prototype.splice.call(s,l,1),c&&(Rn(e),0==i.g[n].length&&(delete i.g[n],i.h--))}}function De(i,e,n,s){for(var l=0;l<i.length;++l){var c=i[l];if(!c.fa&&c.listener==e&&c.capture==!!n&&c.la==s)return l}return-1}Pr.prototype.add=function(i,e,n,s,l){var c=i.toString();(i=this.g[c])||(i=this.g[c]=[],this.h++);var h=De(i,e,s,l);return-1<h?(e=i[h],n||(e.ia=!1)):((e=new ri(e,this.src,c,!!s,l)).ia=n,i.push(e)),e};var ne="closure_lm_"+(1e6*Math.random()|0),z={};function F(i,e,n,s,l){if(s&&s.once)return Fe(i,e,n,s,l);if(Array.isArray(e)){for(var c=0;c<e.length;c++)F(i,e[c],n,s,l);return null}return n=Re(n),i&&i[Qt]?i.O(e,n,Pt(s)?!!s.capture:!!s,l):L(i,e,n,!1,s,l)}function L(i,e,n,s,l,c){if(!e)throw Error("Invalid event type");var h=Pt(l)?!!l.capture:!!l,D=Yt(i);if(D||(i[ne]=D=new Pr(i)),(n=D.add(e,n,s,h,c)).proxy)return n;if(s=function he(){const e=kt;return function i(n){return e.call(i.src,i.listener,n)}}(),n.proxy=s,s.src=i,s.listener=n,i.addEventListener)Fn||(l=h),void 0===l&&(l=!1),i.addEventListener(e.toString(),s,l);else if(i.attachEvent)i.attachEvent(xt(e.toString()),s);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(s)}return n}function Fe(i,e,n,s,l){if(Array.isArray(e)){for(var c=0;c<e.length;c++)Fe(i,e[c],n,s,l);return null}return n=Re(n),i&&i[Qt]?i.P(e,n,Pt(s)?!!s.capture:!!s,l):L(i,e,n,!0,s,l)}function dt(i,e,n,s,l){if(Array.isArray(e))for(var c=0;c<e.length;c++)dt(i,e[c],n,s,l);else s=Pt(s)?!!s.capture:!!s,n=Re(n),i&&i[Qt]?(i=i.i,(e=String(e).toString())in i.g&&-1<(n=De(c=i.g[e],n,s,l))&&(Rn(c[n]),Array.prototype.splice.call(c,n,1),0==c.length&&(delete i.g[e],i.h--))):i&&(i=Yt(i))&&(e=i.g[e.toString()],i=-1,e&&(i=De(e,n,s,l)),(n=-1<i?e[i]:null)&&It(n))}function It(i){if("number"!=typeof i&&i&&!i.fa){var e=i.src;if(e&&e[Qt])Ur(e.i,i);else{var n=i.type,s=i.proxy;e.removeEventListener?e.removeEventListener(n,s,i.capture):e.detachEvent?e.detachEvent(xt(n),s):e.addListener&&e.removeListener&&e.removeListener(s),(n=Yt(e))?(Ur(n,i),0==n.h&&(n.src=null,e[ne]=null)):Rn(i)}}}function xt(i){return i in z?z[i]:z[i]="on"+i}function kt(i,e){if(i.fa)i=!0;else{e=new At(e,this);var n=i.listener,s=i.la||i.src;i.ia&&It(i),i=n.call(s,e)}return i}function Yt(i){return(i=i[ne])instanceof Pr?i:null}var jn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Re(i){return"function"==typeof i?i:(i[jn]||(i[jn]=function(e){return i.handleEvent(e)}),i[jn])}function Ee(){En.call(this),this.i=new Pr(this),this.S=this,this.J=null}function Ae(i,e){var n,s=i.J;if(s)for(n=[];s;s=s.J)n.push(s);if(i=i.S,s=e.type||e,"string"==typeof e)e=new ln(e,i);else if(e instanceof ln)e.target=e.target||i;else{var l=e;qr(e=new ln(s,i),l)}if(l=!0,n)for(var c=n.length-1;0<=c;c--){var h=e.g=n[c];l=we(h,s,!0,e)&&l}if(l=we(h=e.g=i,s,!0,e)&&l,l=we(h,s,!1,e)&&l,n)for(c=0;c<n.length;c++)l=we(h=e.g=n[c],s,!1,e)&&l}function we(i,e,n,s){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var l=!0,c=0;c<e.length;++c){var h=e[c];if(h&&!h.fa&&h.capture==n){var D=h.listener,M=h.la||h.src;h.ia&&Ur(i.i,h),l=!1!==D.call(M,s)&&l}}return l&&!s.defaultPrevented}ft(Ee,En),Ee.prototype[Qt]=!0,Ee.prototype.removeEventListener=function(i,e,n,s){dt(this,i,e,n,s)},Ee.prototype.N=function(){if(Ee.$.N.call(this),this.i){var e,i=this.i;for(e in i.g){for(var n=i.g[e],s=0;s<n.length;s++)Rn(n[s]);delete i.g[e],i.h--}}this.J=null},Ee.prototype.O=function(i,e,n,s){return this.i.add(String(i),e,!1,n,s)},Ee.prototype.P=function(i,e,n,s){return this.i.add(String(i),e,!0,n,s)};var Te=Dt.JSON.stringify;function et(){var i=li;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var ct=new class Be{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new nn,i=>i.reset());class nn{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Gn(i){var e=1;i=i.split(":");const n=[];for(;0<e&&i.length;)n.push(i.shift()),e--;return i.length&&n.push(i.join(":")),n}function Mn(i){Dt.setTimeout(()=>{throw i},0)}let sr,br=!1,li=new class Ft{constructor(){this.h=this.g=null}add(e,n){const s=ct.get();s.set(e,n),this.h?this.h.next=s:this.g=s,this.h=s}},nr=()=>{const i=Dt.Promise.resolve(void 0);sr=()=>{i.then(pr)}};var pr=()=>{for(var i;i=et();){try{i.h.call(i.g)}catch(n){Mn(n)}var e=ct;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}br=!1};function ei(i,e){Ee.call(this),this.h=i||1,this.g=e||Dt,this.j=at(this.qb,this),this.l=Date.now()}function us(i){i.ga=!1,i.T&&(i.g.clearTimeout(i.T),i.T=null)}function Vn(i,e,n){if("function"==typeof i)n&&(i=at(i,n));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=at(i.handleEvent,i)}return 2147483647<Number(e)?-1:Dt.setTimeout(i,e||0)}function vi(i){i.g=Vn(()=>{i.g=null,i.i&&(i.i=!1,vi(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}ft(ei,Ee),(st=ei.prototype).ga=!1,st.T=null,st.qb=function(){if(this.ga){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-i):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ae(this,"tick"),this.ga&&(us(this),this.start()))}},st.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},st.N=function(){ei.$.N.call(this),us(this),delete this.g};class ts extends En{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:vi(this)}N(){super.N(),this.g&&(Dt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Dr(i){En.call(this),this.h=i,this.g={}}ft(Dr,En);var Es=[];function go(i,e,n,s){Array.isArray(n)||(n&&(Es[0]=n.toString()),n=Es);for(var l=0;l<n.length;l++){var c=F(e,n[l],s||i.handleEvent,!1,i.h||i);if(!c)break;i.g[c.key]=c}}function _a(i){Ir(i.g,function(e,n){this.g.hasOwnProperty(n)&&It(e)},i),i.g={}}function qs(){this.g=!0}function pi(i,e,n,s){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function ns(i,e){if(!i.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(i=0;i<n.length;i++)if(Array.isArray(n[i])){var s=n[i];if(!(2>s.length)){var l=s[1];if(Array.isArray(l)&&!(1>l.length)){var c=l[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var h=1;h<l.length;h++)l[h]=""}}}return Te(n)}catch{return e}}(i,n)+(s?" "+s:"")})}Dr.prototype.N=function(){Dr.$.N.call(this),_a(this)},Dr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},qs.prototype.Ea=function(){this.g=!1},qs.prototype.info=function(){};var zi={},Gi=null;function Ii(){return Gi=Gi||new Ee}function Po(i){ln.call(this,zi.Ta,i)}function ui(i){const e=Ii();Ae(e,new Po(e))}function Xo(i,e){ln.call(this,zi.STAT_EVENT,i),this.stat=e}function Ei(i){const e=Ii();Ae(e,new Xo(e,i))}function _o(i,e){ln.call(this,zi.Ua,i),this.size=e}function Rs(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return Dt.setTimeout(function(){i()},e)}zi.Ta="serverreachability",ft(Po,ln),zi.STAT_EVENT="statevent",ft(Xo,ln),zi.Ua="timingevent",ft(_o,ln);var Ro={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Ks={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function yo(){}function Mo(){}yo.prototype.h=null;var ti,cs={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function xn(){ln.call(this,"d")}function Rr(){ln.call(this,"c")}function Ai(){}function Br(i,e,n,s){this.l=i,this.j=e,this.m=n,this.W=s||1,this.U=new Dr(this),this.P=vo,this.V=new ei(i=en?125:void 0),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Zs}function Zs(){this.i=null,this.g="",this.h=!1}ft(xn,ln),ft(Rr,ln),ft(Ai,yo),Ai.prototype.g=function(){return new XMLHttpRequest},Ai.prototype.i=function(){return{}},ti=new Ai;var vo=45e3,ds={},Si={};function Pi(i,e,n){i.L=1,i.A=Vi(Kr(e)),i.u=n,i.S=!0,Mr(i,null)}function Mr(i,e){i.G=Date.now(),si(i),i.B=Kr(i.A);var n=i.B,s=i.W;Array.isArray(s)||(s=[String(s)]),bi(n.i,"t",s),i.o=0,n=i.l.J,i.h=new Zs,i.g=Z(i.l,n?e:null,!i.u),0<i.O&&(i.M=new ts(at(i.Pa,i,i.g),i.O)),go(i.U,i.g,"readystatechange",i.nb),e=i.I?Jr(i.I):{},i.u?(i.v||(i.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ha(i.B,i.v,i.u,e)):(i.v="GET",i.g.ha(i.B,i.v,null,e)),ui(),function ii(i,e,n,s,l,c){i.info(function(){if(i.g)if(c)for(var h="",D=c.split("&"),M=0;M<D.length;M++){var j=D[M].split("=");if(1<j.length){var X=j[0];j=j[1];var fe=X.split("_");h=2<=fe.length&&"type"==fe[1]?h+(X+"=")+j+"&":h+(X+"=redacted&")}}else h=null;else h=c;return"XMLHTTP REQ ("+s+") [attempt "+l+"]: "+e+"\n"+n+"\n"+h})}(i.j,i.v,i.B,i.m,i.W,i.u)}function Ot(i){return!!i.g&&"GET"==i.v&&2!=i.L&&i.l.Ha}function Sn(i,e,n){let l,s=!0;for(;!i.J&&i.o<n.length;){if(l=$n(i,n),l==Si){4==e&&(i.s=4,Ei(14),s=!1),pi(i.j,i.m,null,"[Incomplete Response]");break}if(l==ds){i.s=4,Ei(15),pi(i.j,i.m,n,"[Invalid Chunk]"),s=!1;break}pi(i.j,i.m,l,null),qi(i,l)}Ot(i)&&0!=i.o&&(i.h.g=i.h.g.slice(i.o),i.o=0),4!=e||0!=n.length||i.h.h||(i.s=1,Ei(16),s=!1),i.i=i.i&&s,s?0<n.length&&!i.ba&&(i.ba=!0,(e=i.l).g==i&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Fo(e),e.M=!0,Ei(11))):(pi(i.j,i.m,n,"[Invalid Chunked Response]"),rr(i),Wi(i))}function $n(i,e){var n=i.o,s=e.indexOf("\n",n);return-1==s?Si:(n=Number(e.substring(n,s)),isNaN(n)?ds:(s+=1)+n>e.length?Si:(e=e.slice(s,s+n),i.o=s+n,e))}function si(i){i.Y=Date.now()+i.P,hs(i,i.P)}function hs(i,e){if(null!=i.C)throw Error("WatchDog timer not null");i.C=Rs(at(i.lb,i),e)}function Hr(i){i.C&&(Dt.clearTimeout(i.C),i.C=null)}function Wi(i){0==i.l.H||i.J||Ll(i.l,i)}function rr(i){Hr(i);var e=i.M;e&&"function"==typeof e.sa&&e.sa(),i.M=null,us(i.V),_a(i.U),i.g&&(e=i.g,i.g=null,e.abort(),e.sa())}function qi(i,e){try{var n=i.l;if(0!=n.H&&(n.g==i||No(n.i,i)))if(!i.K&&No(n.i,i)&&3==n.H){try{var s=n.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&3==s.length){var l=s;if(0==l[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<i.G))break e;na(n),ps(n)}$s(n),Ei(18)}}else n.Fa=l[1],0<n.Fa-n.V&&37500>l[2]&&n.G&&0==n.A&&!n.v&&(n.v=Rs(at(n.ib,n),6e3));if(1>=eo(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Uo(n,11)}else if((i.K||n.g==i)&&na(n),!wn(e))for(l=n.Ja.g.parse(e),e=0;e<l.length;e++){let j=l[e];if(n.V=j[0],j=j[1],2==n.H)if("c"==j[0]){n.K=j[1],n.pa=j[2];const X=j[3];null!=X&&(n.ra=X,n.l.info("VER="+n.ra));const fe=j[4];null!=fe&&(n.Ga=fe,n.l.info("SVER="+n.Ga));const Le=j[5];null!=Le&&"number"==typeof Le&&0<Le&&(n.L=s=1.5*Le,n.l.info("backChannelRequestTimeoutMs_="+s)),s=n;const Je=i.g;if(Je){const Rt=Je.g?Je.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Rt){var c=s.i;c.g||-1==Rt.indexOf("spdy")&&-1==Rt.indexOf("quic")&&-1==Rt.indexOf("h2")||(c.j=c.l,c.g=new Set,c.h&&(Cs(c,c.h),c.h=null))}if(s.F){const Gt=Je.g?Je.g.getResponseHeader("X-HTTP-Session-Id"):null;Gt&&(s.Da=Gt,or(s.I,s.F,Gt))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-i.G,n.l.info("Handshake RTT: "+n.S+"ms"));var h=i;if((s=n).wa=ra(s,s.J?s.pa:null,s.Y),h.K){ya(s.i,h);var D=h,M=s.L;M&&D.setTimeout(M),D.C&&(Hr(D),si(D)),s.g=h}else xs(s);0<n.j.length&&ko(n)}else"stop"!=j[0]&&"close"!=j[0]||Uo(n,7);else 3==n.H&&("stop"==j[0]||"close"==j[0]?"stop"==j[0]?Uo(n,7):so(n):"noop"!=j[0]&&n.h&&n.h.Aa(j),n.A=0)}ui()}catch{}}function Ti(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(bt(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var n=function yn(i){if(i.ta&&"function"==typeof i.ta)return i.ta();if(!i.Z||"function"!=typeof i.Z){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(bt(i)||"string"==typeof i){var e=[];i=i.length;for(var n=0;n<i;n++)e.push(n);return e}e=[],n=0;for(const s in i)e[n++]=s;return e}}}(i),s=function ws(i){if(i.Z&&"function"==typeof i.Z)return i.Z();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(bt(i)){for(var e=[],n=i.length,s=0;s<n;s++)e.push(i[s]);return e}for(s in e=[],n=0,i)e[n++]=i[s];return e}(i),l=s.length,c=0;c<l;c++)e.call(void 0,s[c],n&&n[c],i)}(st=Br.prototype).setTimeout=function(i){this.P=i},st.nb=function(i){i=i.target;const e=this.M;e&&3==kr(i)?e.l():this.Pa(i)},st.Pa=function(i){try{if(i==this.g)e:{const X=kr(this.g);var e=this.g.Ia();if(this.g.da(),!(3>X)&&(3!=X||en||this.g&&(this.h.h||this.g.ja()||Hs(this.g)))){this.J||4!=X||7==e||ui(),Hr(this);var n=this.g.da();this.ca=n;t:if(Ot(this)){var s=Hs(this.g);i="";var l=s.length,c=4==kr(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){rr(this),Wi(this);var h="";break t}this.h.i=new Dt.TextDecoder}for(e=0;e<l;e++)this.h.h=!0,i+=this.h.i.decode(s[e],{stream:c&&e==l-1});s.length=0,this.h.g+=i,this.o=0,h=this.h.g}else h=this.g.ja();if(this.i=200==n,function Vs(i,e,n,s,l,c,h){i.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+l+"]: "+e+"\n"+n+"\n"+c+" "+h})}(this.j,this.v,this.B,this.m,this.W,X,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var D,M=this.g;if((D=M.g?M.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!wn(D)){var j=D;break t}}j=null}if(!(n=j)){this.i=!1,this.s=3,Ei(12),rr(this),Wi(this);break e}pi(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,qi(this,n)}this.S?(Sn(this,X,h),en&&this.i&&3==X&&(go(this.U,this.V,"tick",this.mb),this.V.start())):(pi(this.j,this.m,h,null),qi(this,h)),4==X&&rr(this),this.i&&!this.J&&(4==X?Ll(this.l,this):(this.i=!1,si(this)))}else(function as(i){const e={};i=(i.g&&2<=kr(i)&&i.g.getAllResponseHeaders()||"").split("\r\n");for(let s=0;s<i.length;s++){if(wn(i[s]))continue;var n=Gn(i[s]);const l=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const c=e[l]||[];e[l]=c,c.push(n)}!function Ar(i,e){for(const n in i)e.call(void 0,i[n],n,i)}(e,function(s){return s.join(", ")})})(this.g),400==n&&0<h.indexOf("Unknown SID")?(this.s=3,Ei(12)):(this.s=0,Ei(13)),rr(this),Wi(this)}}}catch{}},st.mb=function(){if(this.g){var i=kr(this.g),e=this.g.ja();this.o<e.length&&(Hr(this),Sn(this,i,e),this.i&&4!=i&&si(this))}},st.cancel=function(){this.J=!0,rr(this)},st.lb=function(){this.C=null;const i=Date.now();0<=i-this.Y?(function Ps(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.B),2!=this.L&&(ui(),Ei(17)),rr(this),this.s=2,Wi(this)):hs(this,this.Y-i)};var Fi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Er(i){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof Er){this.h=i.h,Ki(this,i.j),this.s=i.s,this.g=i.g,ci(this,i.m),this.l=i.l;var e=i.i,n=new Js;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Qs(this,n),this.o=i.o}else i&&(e=String(i).match(Fi))?(this.h=!1,Ki(this,e[1]||"",!0),this.s=jr(e[2]||""),this.g=jr(e[3]||"",!0),ci(this,e[4]),this.l=jr(e[5]||"",!0),Qs(this,e[6]||"",!0),this.o=jr(e[7]||"")):(this.h=!1,this.i=new Js(null,this.h))}function Kr(i){return new Er(i)}function Ki(i,e,n){i.j=n?jr(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function ci(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function Qs(i,e,n){e instanceof Js?(i.i=e,function ar(i,e){e&&!i.j&&(wi(i),i.i=null,i.g.forEach(function(n,s){var l=s.toLowerCase();s!=l&&(Ci(this,s),bi(this,l,n))},i)),i.j=e}(i.i,i.h)):(n||(e=is(e,Oo)),i.i=new Js(e,i.h))}function or(i,e,n){i.i.set(e,n)}function Vi(i){return or(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function jr(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function is(i,e,n){return"string"==typeof i?(i=encodeURI(i).replace(e,Ys),n&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function Ys(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Er.prototype.toString=function(){var i=[],e=this.j;e&&i.push(is(e,Ln,!0),":");var n=this.g;return(n||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(is(e,Ln,!0),"@"),i.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&i.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&i.push("/"),i.push(is(n,"/"==n.charAt(0)?xo:Us,!0))),(n=this.i.toString())&&i.push("?",n),(n=this.o)&&i.push("#",is(n,mi)),i.join("")};var Ln=/[#\/\?@]/g,Us=/[#\?:]/g,xo=/[#\?]/g,Oo=/[#\?@]/g,mi=/#/g;function Js(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function wi(i){i.g||(i.g=new Map,i.h=0,i.i&&function rs(i,e){if(i){i=i.split("&");for(var n=0;n<i.length;n++){var s=i[n].indexOf("="),l=null;if(0<=s){var c=i[n].substring(0,s);l=i[n].substring(s+1)}else c=i[n];e(c,l?decodeURIComponent(l.replace(/\+/g," ")):"")}}}(i.i,function(e,n){i.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Ci(i,e){wi(i),e=Lr(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function $r(i,e){return wi(i),e=Lr(i,e),i.g.has(e)}function bi(i,e,n){Ci(i,e),0<n.length&&(i.i=null,i.g.set(Lr(i,e),un(n)),i.h+=n.length)}function Lr(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function Zi(i){this.l=i||Xs,i=Dt.PerformanceNavigationTiming?0<(i=Dt.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(Dt.g&&Dt.g.Ka&&Dt.g.Ka()&&Dt.g.Ka().dc),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(st=Js.prototype).add=function(i,e){wi(this),this.i=null,i=Lr(this,i);var n=this.g.get(i);return n||this.g.set(i,n=[]),n.push(e),this.h+=1,this},st.forEach=function(i,e){wi(this),this.g.forEach(function(n,s){n.forEach(function(l){i.call(e,l,s,this)},this)},this)},st.ta=function(){wi(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let s=0;s<e.length;s++){const l=i[s];for(let c=0;c<l.length;c++)n.push(e[s])}return n},st.Z=function(i){wi(this);let e=[];if("string"==typeof i)$r(this,i)&&(e=e.concat(this.g.get(Lr(this,i))));else{i=Array.from(this.g.values());for(let n=0;n<i.length;n++)e=e.concat(i[n])}return e},st.set=function(i,e){return wi(this),this.i=null,$r(this,i=Lr(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},st.get=function(i,e){return i&&0<(i=this.Z(i)).length?String(i[0]):e},st.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var s=e[n];const c=encodeURIComponent(String(s)),h=this.Z(s);for(s=0;s<h.length;s++){var l=c;""!==h[s]&&(l+="="+encodeURIComponent(String(h[s]))),i.push(l)}}return this.i=i.join("&")};var Xs=10;function Ui(i){return!!i.h||!!i.g&&i.g.size>=i.j}function eo(i){return i.h?1:i.g?i.g.size:0}function No(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function Cs(i,e){i.g?i.g.add(e):i.h=e}function ya(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function Bi(i){if(null!=i.h)return i.i.concat(i.h.F);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const n of i.g.values())e=e.concat(n.F);return e}return un(i.i)}Zi.prototype.cancel=function(){if(this.i=Bi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}};var Bs=class{stringify(i){return Dt.JSON.stringify(i,void 0)}parse(i){return Dt.JSON.parse(i,void 0)}};function Lo(){this.g=new Bs}function ss(i,e,n){const s=n||"";try{Ti(i,function(l,c){let h=l;Pt(l)&&(h=Te(l)),e.push(s+c+"="+encodeURIComponent(h))})}catch(l){throw e.push(s+"type="+encodeURIComponent("_badmap")),l}}function mr(i,e,n,s,l){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,l(s)}catch{}}function Ms(i){this.l=i.ec||null,this.j=i.ob||!1}function ea(i,e){Ee.call(this),this.F=i,this.u=e,this.m=void 0,this.readyState=G,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ft(Ms,yo),Ms.prototype.g=function(){return new ea(this.l,this.j)},Ms.prototype.i=function(i){return function(){return i}}({}),ft(ea,Ee);var G=0;function K(i){i.j.read().then(i.Xa.bind(i)).catch(i.ka.bind(i))}function N(i){i.readyState=4,i.l=null,i.j=null,i.A=null,ie(i)}function ie(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(st=ea.prototype).open=function(i,e){if(this.readyState!=G)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,ie(this)},st.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.F||Dt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},st.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,N(this)),this.readyState=G},st.$a=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,ie(this)),this.g&&(this.readyState=3,ie(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Dt.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;K(this)}else i.text().then(this.Za.bind(this),this.ka.bind(this))},st.Xa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?N(this):ie(this),3==this.readyState&&K(this)}},st.Za=function(i){this.g&&(this.response=this.responseText=i,N(this))},st.Ya=function(i){this.g&&(this.response=i,N(this))},st.ka=function(){this.g&&N(this)},st.setRequestHeader=function(i,e){this.v.append(i,e)},st.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},st.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var n=e.next();!n.done;)i.push((n=n.value)[0]+": "+n[1]),n=e.next();return i.join("\r\n")},Object.defineProperty(ea.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var xe=Dt.JSON.parse;function Vt(i){Ee.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Cn,this.L=this.M=!1}ft(Vt,Ee);var Cn="",gi=/^https?$/i,fs=["POST","PUT"];function no(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,os(i),bs(i)}function os(i){i.F||(i.F=!0,Ae(i,"complete"),Ae(i,"error"))}function Mi(i){if(i.h&&typeof _n<"u"&&(!i.C[1]||4!=kr(i)||2!=i.da()))if(i.v&&4==kr(i))Vn(i.La,0,i);else if(Ae(i,"readystatechange"),4==kr(i)){i.h=!1;try{const h=i.da();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var s;if(s=0===h){var l=String(i.I).match(Fi)[1]||null;!l&&Dt.self&&Dt.self.location&&(l=Dt.self.location.protocol.slice(0,-1)),s=!gi.test(l?l.toLowerCase():"")}n=s}if(n)Ae(i,"complete"),Ae(i,"success");else{i.m=6;try{var c=2<kr(i)?i.g.statusText:""}catch{c=""}i.j=c+" ["+i.da()+"]",os(i)}}finally{bs(i)}}}function bs(i,e){if(i.g){va(i);const n=i.g,s=i.C[0]?()=>{}:null;i.g=null,i.C=null,e||Ae(i,"ready");try{n.onreadystatechange=s}catch{}}}function va(i){i.g&&i.L&&(i.g.ontimeout=null),i.A&&(Dt.clearTimeout(i.A),i.A=null)}function kr(i){return i.g?i.g.readyState:0}function Hs(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.K){case Cn:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function ta(i){let e="";return Ir(i,function(n,s){e+=s,e+=":",e+=n,e+="\r\n"}),e}function ro(i,e,n){e:{for(s in n){var s=!1;break e}s=!0}s||(n=ta(n),"string"==typeof i?null!=n&&encodeURIComponent(String(n)):or(i,e,n))}function io(i,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[i]||e}function js(i){this.Ga=0,this.j=[],this.l=new qs,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=io("failFast",!1,i),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=io("baseRetryDelayMs",5e3,i),this.hb=io("retryDelaySeedMs",1e4,i),this.eb=io("forwardChannelMaxRetries",2,i),this.xa=io("forwardChannelRequestTimeoutMs",2e4,i),this.va=i&&i.xmlHttpFactory||void 0,this.Ha=i&&i.useFetchStreams||!1,this.L=void 0,this.J=i&&i.supportsCrossDomainXhr||!1,this.K="",this.i=new Zi(i&&i.concurrentRequestLimit),this.Ja=new Lo,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=i&&i.bc||!1,i&&i.Ea&&this.l.Ea(),i&&i.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&i&&i.detectBufferingProxy||!1,this.qa=void 0,i&&i.longPollingTimeout&&0<i.longPollingTimeout&&(this.qa=i.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function so(i){if(oo(i),3==i.H){var e=i.W++,n=Kr(i.I);if(or(n,"SID",i.K),or(n,"RID",e),or(n,"TYPE","terminate"),ao(i,n),(e=new Br(i,i.l,e)).L=2,e.A=Vi(Kr(n)),n=!1,Dt.navigator&&Dt.navigator.sendBeacon)try{n=Dt.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&Dt.Image&&((new Image).src=e.A,n=!0),n||(e.g=Z(e.l,null),e.g.ha(e.A)),e.G=Date.now(),si(e)}kl(i)}function ps(i){i.g&&(Fo(i),i.g.cancel(),i.g=null)}function oo(i){ps(i),i.u&&(Dt.clearTimeout(i.u),i.u=null),na(i),i.i.cancel(),i.m&&("number"==typeof i.m&&Dt.clearTimeout(i.m),i.m=null)}function ko(i){if(!Ui(i.i)&&!i.m){i.m=!0;var e=i.Na;sr||nr(),br||(sr(),br=!0),li.add(e,i),i.C=0}}function al(i,e){var n;n=e?e.m:i.W++;const s=Kr(i.I);or(s,"SID",i.K),or(s,"RID",n),or(s,"AID",i.V),ao(i,s),i.o&&i.s&&ro(s,i.o,i.s),n=new Br(i,i.l,n,i.C+1),null===i.o&&(n.I=i.s),e&&(i.j=e.F.concat(i.j)),e=Ea(i,n,1e3),n.setTimeout(Math.round(.5*i.xa)+Math.round(.5*i.xa*Math.random())),Cs(i.i,n),Pi(n,s,e)}function ao(i,e){i.na&&Ir(i.na,function(n,s){or(e,s,n)}),i.h&&Ti({},function(n,s){or(e,s,n)})}function Ea(i,e,n){n=Math.min(i.j.length,n);var s=i.h?at(i.h.Va,i.h,i):null;e:{var l=i.j;let c=-1;for(;;){const h=["count="+n];-1==c?0<n?(c=l[0].g,h.push("ofs="+c)):c=0:h.push("ofs="+c);let D=!0;for(let M=0;M<n;M++){let j=l[M].g;const X=l[M].map;if(j-=c,0>j)c=Math.max(0,l[M].g-100),D=!1;else try{ss(X,h,"req"+j+"_")}catch{s&&s(X)}}if(D){s=h.join("&");break e}}}return i=i.j.splice(0,n),e.F=i,s}function xs(i){if(!i.g&&!i.u){i.ba=1;var e=i.Ma;sr||nr(),br||(sr(),br=!0),li.add(e,i),i.A=0}}function $s(i){return!(i.g||i.u||3<=i.A||(i.ba++,i.u=Rs(at(i.Ma,i),Vo(i,i.A)),i.A++,0))}function Fo(i){null!=i.B&&(Dt.clearTimeout(i.B),i.B=null)}function ll(i){i.g=new Br(i,i.l,"rpc",i.ba),null===i.o&&(i.g.I=i.s),i.g.O=0;var e=Kr(i.wa);or(e,"RID","rpc"),or(e,"SID",i.K),or(e,"AID",i.V),or(e,"CI",i.G?"0":"1"),!i.G&&i.qa&&or(e,"TO",i.qa),or(e,"TYPE","xmlhttp"),ao(i,e),i.o&&i.s&&ro(e,i.o,i.s),i.L&&i.g.setTimeout(i.L);var n=i.g;i=i.pa,n.L=1,n.A=Vi(Kr(e)),n.u=null,n.S=!0,Mr(n,i)}function na(i){null!=i.v&&(Dt.clearTimeout(i.v),i.v=null)}function Ll(i,e){var n=null;if(i.g==e){na(i),Fo(i),i.g=null;var s=2}else{if(!No(i.i,e))return;n=e.F,ya(i.i,e),s=1}if(0!=i.H)if(e.i)if(1==s){n=e.u?e.u.length:0,e=Date.now()-e.G;var l=i.C;Ae(s=Ii(),new _o(s,n)),ko(i)}else xs(i);else if(3==(l=e.s)||0==l&&0<e.ca||!(1==s&&function Ia(i,e){return!(eo(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.j=e.F.concat(i.j),0):1==i.H||2==i.H||i.C>=(i.cb?0:i.eb)||(i.m=Rs(at(i.Na,i,e),Vo(i,i.C)),i.C++,0)))}(i,e)||2==s&&$s(i)))switch(n&&0<n.length&&(e=i.i,e.i=e.i.concat(n)),l){case 1:Uo(i,5);break;case 4:Uo(i,10);break;case 3:Uo(i,6);break;default:Uo(i,2)}}function Vo(i,e){let n=i.ab+Math.floor(Math.random()*i.hb);return i.isActive()||(n*=2),n*e}function Uo(i,e){if(i.l.info("Error code "+e),2==e){var n=null;i.h&&(n=null);var s=at(i.pb,i);n||(n=new Er("//www.google.com/images/cleardot.gif"),Dt.location&&"http"==Dt.location.protocol||Ki(n,"https"),Vi(n)),function to(i,e){const n=new qs;if(Dt.Image){const s=new Image;s.onload=Tt(mr,n,s,"TestLoadImage: loaded",!0,e),s.onerror=Tt(mr,n,s,"TestLoadImage: error",!1,e),s.onabort=Tt(mr,n,s,"TestLoadImage: abort",!1,e),s.ontimeout=Tt(mr,n,s,"TestLoadImage: timeout",!1,e),Dt.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=i}else e(!1)}(n.toString(),s)}else Ei(2);i.H=0,i.h&&i.h.za(e),kl(i),oo(i)}function kl(i){if(i.H=0,i.ma=[],i.h){const e=Bi(i.i);(0!=e.length||0!=i.j.length)&&(Bn(i.ma,e),Bn(i.ma,i.j),i.i.i.length=0,un(i.j),i.j.length=0),i.h.ya()}}function ra(i,e,n){var s=n instanceof Er?Kr(n):new Er(n);if(""!=s.g)e&&(s.g=e+"."+s.g),ci(s,s.m);else{var l=Dt.location;s=l.protocol,e=e?e+"."+l.hostname:l.hostname,l=+l.port;var c=new Er(null);s&&Ki(c,s),e&&(c.g=e),l&&ci(c,l),n&&(c.l=n),s=c}return e=i.Da,(n=i.F)&&e&&or(s,n,e),or(s,"VER",i.ra),ao(i,s),s}function Z(i,e,n){if(e&&!i.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Vt(i.Ha&&!i.va?new Ms({ob:n}):i.va)).Oa(i.J),e}function y(){}function E(){if(Cr&&!(10<=Number(Bt)))throw Error("Environmental error: no available transport.")}function x(i,e){Ee.call(this),this.g=new js(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(i?i["X-WebChannel-Client-Profile"]=e.Ca:i={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=i,(i=e&&e.cc)&&!wn(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!wn(e)&&(this.g.F=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new _(this)}function Q(i){xn.call(this),i.__headers__&&(this.headers=i.__headers__,this.statusCode=i.__status__,delete i.__headers__,delete i.__status__);var e=i.__sm__;if(e){e:{for(const n in e){i=n;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function le(){Rr.call(this),this.status=1}function _(i){this.g=i}function A(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function k(i,e,n){n||(n=0);var s=Array(16);if("string"==typeof e)for(var l=0;16>l;++l)s[l]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(l=0;16>l;++l)s[l]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var c=i.g[3],h=(e=i.g[0])+(c^(n=i.g[1])&((l=i.g[2])^c))+s[0]+3614090360&4294967295;h=(n=(l=(c=(e=(n=(l=(c=(e=(n=(l=(c=(e=(n=(l=(c=(e=(n=(l=(c=(e=(n=(l=(c=(e=(n=(l=(c=(e=(n=(l=(c=(e=(n=(l=(c=(e=(n=(l=(c=(e=(n=(l=(c=(e=(n=(l=(c=(e=(n=(l=(c=(e=(n=(l=(c=(e=(n=(l=(c=(e=n+(h<<7&4294967295|h>>>25))+((h=c+(l^e&(n^l))+s[1]+3905402710&4294967295)<<12&4294967295|h>>>20))+((h=l+(n^c&(e^n))+s[2]+606105819&4294967295)<<17&4294967295|h>>>15))+((h=n+(e^l&(c^e))+s[3]+3250441966&4294967295)<<22&4294967295|h>>>10))+((h=e+(c^n&(l^c))+s[4]+4118548399&4294967295)<<7&4294967295|h>>>25))+((h=c+(l^e&(n^l))+s[5]+1200080426&4294967295)<<12&4294967295|h>>>20))+((h=l+(n^c&(e^n))+s[6]+2821735955&4294967295)<<17&4294967295|h>>>15))+((h=n+(e^l&(c^e))+s[7]+4249261313&4294967295)<<22&4294967295|h>>>10))+((h=e+(c^n&(l^c))+s[8]+1770035416&4294967295)<<7&4294967295|h>>>25))+((h=c+(l^e&(n^l))+s[9]+2336552879&4294967295)<<12&4294967295|h>>>20))+((h=l+(n^c&(e^n))+s[10]+4294925233&4294967295)<<17&4294967295|h>>>15))+((h=n+(e^l&(c^e))+s[11]+2304563134&4294967295)<<22&4294967295|h>>>10))+((h=e+(c^n&(l^c))+s[12]+1804603682&4294967295)<<7&4294967295|h>>>25))+((h=c+(l^e&(n^l))+s[13]+4254626195&4294967295)<<12&4294967295|h>>>20))+((h=l+(n^c&(e^n))+s[14]+2792965006&4294967295)<<17&4294967295|h>>>15))+((h=n+(e^l&(c^e))+s[15]+1236535329&4294967295)<<22&4294967295|h>>>10))+((h=e+(l^c&(n^l))+s[1]+4129170786&4294967295)<<5&4294967295|h>>>27))+((h=c+(n^l&(e^n))+s[6]+3225465664&4294967295)<<9&4294967295|h>>>23))+((h=l+(e^n&(c^e))+s[11]+643717713&4294967295)<<14&4294967295|h>>>18))+((h=n+(c^e&(l^c))+s[0]+3921069994&4294967295)<<20&4294967295|h>>>12))+((h=e+(l^c&(n^l))+s[5]+3593408605&4294967295)<<5&4294967295|h>>>27))+((h=c+(n^l&(e^n))+s[10]+38016083&4294967295)<<9&4294967295|h>>>23))+((h=l+(e^n&(c^e))+s[15]+3634488961&4294967295)<<14&4294967295|h>>>18))+((h=n+(c^e&(l^c))+s[4]+3889429448&4294967295)<<20&4294967295|h>>>12))+((h=e+(l^c&(n^l))+s[9]+568446438&4294967295)<<5&4294967295|h>>>27))+((h=c+(n^l&(e^n))+s[14]+3275163606&4294967295)<<9&4294967295|h>>>23))+((h=l+(e^n&(c^e))+s[3]+4107603335&4294967295)<<14&4294967295|h>>>18))+((h=n+(c^e&(l^c))+s[8]+1163531501&4294967295)<<20&4294967295|h>>>12))+((h=e+(l^c&(n^l))+s[13]+2850285829&4294967295)<<5&4294967295|h>>>27))+((h=c+(n^l&(e^n))+s[2]+4243563512&4294967295)<<9&4294967295|h>>>23))+((h=l+(e^n&(c^e))+s[7]+1735328473&4294967295)<<14&4294967295|h>>>18))+((h=n+(c^e&(l^c))+s[12]+2368359562&4294967295)<<20&4294967295|h>>>12))+((h=e+(n^l^c)+s[5]+4294588738&4294967295)<<4&4294967295|h>>>28))+((h=c+(e^n^l)+s[8]+2272392833&4294967295)<<11&4294967295|h>>>21))+((h=l+(c^e^n)+s[11]+1839030562&4294967295)<<16&4294967295|h>>>16))+((h=n+(l^c^e)+s[14]+4259657740&4294967295)<<23&4294967295|h>>>9))+((h=e+(n^l^c)+s[1]+2763975236&4294967295)<<4&4294967295|h>>>28))+((h=c+(e^n^l)+s[4]+1272893353&4294967295)<<11&4294967295|h>>>21))+((h=l+(c^e^n)+s[7]+4139469664&4294967295)<<16&4294967295|h>>>16))+((h=n+(l^c^e)+s[10]+3200236656&4294967295)<<23&4294967295|h>>>9))+((h=e+(n^l^c)+s[13]+681279174&4294967295)<<4&4294967295|h>>>28))+((h=c+(e^n^l)+s[0]+3936430074&4294967295)<<11&4294967295|h>>>21))+((h=l+(c^e^n)+s[3]+3572445317&4294967295)<<16&4294967295|h>>>16))+((h=n+(l^c^e)+s[6]+76029189&4294967295)<<23&4294967295|h>>>9))+((h=e+(n^l^c)+s[9]+3654602809&4294967295)<<4&4294967295|h>>>28))+((h=c+(e^n^l)+s[12]+3873151461&4294967295)<<11&4294967295|h>>>21))+((h=l+(c^e^n)+s[15]+530742520&4294967295)<<16&4294967295|h>>>16))+((h=n+(l^c^e)+s[2]+3299628645&4294967295)<<23&4294967295|h>>>9))+((h=e+(l^(n|~c))+s[0]+4096336452&4294967295)<<6&4294967295|h>>>26))+((h=c+(n^(e|~l))+s[7]+1126891415&4294967295)<<10&4294967295|h>>>22))+((h=l+(e^(c|~n))+s[14]+2878612391&4294967295)<<15&4294967295|h>>>17))+((h=n+(c^(l|~e))+s[5]+4237533241&4294967295)<<21&4294967295|h>>>11))+((h=e+(l^(n|~c))+s[12]+1700485571&4294967295)<<6&4294967295|h>>>26))+((h=c+(n^(e|~l))+s[3]+2399980690&4294967295)<<10&4294967295|h>>>22))+((h=l+(e^(c|~n))+s[10]+4293915773&4294967295)<<15&4294967295|h>>>17))+((h=n+(c^(l|~e))+s[1]+2240044497&4294967295)<<21&4294967295|h>>>11))+((h=e+(l^(n|~c))+s[8]+1873313359&4294967295)<<6&4294967295|h>>>26))+((h=c+(n^(e|~l))+s[15]+4264355552&4294967295)<<10&4294967295|h>>>22))+((h=l+(e^(c|~n))+s[6]+2734768916&4294967295)<<15&4294967295|h>>>17))+((h=n+(c^(l|~e))+s[13]+1309151649&4294967295)<<21&4294967295|h>>>11))+((c=(e=n+((h=e+(l^(n|~c))+s[4]+4149444226&4294967295)<<6&4294967295|h>>>26))+((h=c+(n^(e|~l))+s[11]+3174756917&4294967295)<<10&4294967295|h>>>22))^((l=c+((h=l+(e^(c|~n))+s[2]+718787259&4294967295)<<15&4294967295|h>>>17))|~e))+s[9]+3951481745&4294967295,i.g[0]=i.g[0]+e&4294967295,i.g[1]=i.g[1]+(l+(h<<21&4294967295|h>>>11))&4294967295,i.g[2]=i.g[2]+l&4294967295,i.g[3]=i.g[3]+c&4294967295}function re(i,e){this.h=e;for(var n=[],s=!0,l=i.length-1;0<=l;l--){var c=0|i[l];s&&c==e||(n[l]=c,s=!1)}this.g=n}(st=Vt.prototype).Oa=function(i){this.M=i},st.ha=function(i,e,n,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+i);e=e?e.toUpperCase():"GET",this.I=i,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ti.g(),this.C=function Ts(i){return i.h||(i.h=i.i())}(this.u?this.u:ti),this.g.onreadystatechange=at(this.La,this);try{this.G=!0,this.g.open(e,String(i),!0),this.G=!1}catch(c){return void no(this,c)}if(i=n||"",n=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var l in s)n.set(l,s[l]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const c of s.keys())n.set(c,s.get(c))}s=Array.from(n.keys()).find(c=>"content-type"==c.toLowerCase()),l=Dt.FormData&&i instanceof Dt.FormData,!(0<=Nn(fs,e))||s||l||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[c,h]of n)this.g.setRequestHeader(c,h);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{va(this),0<this.B&&((this.L=function Ri(i){return Cr&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=at(this.ua,this)):this.A=Vn(this.ua,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(c){no(this,c)}},st.ua=function(){typeof _n<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ae(this,"timeout"),this.abort(8))},st.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Ae(this,"complete"),Ae(this,"abort"),bs(this))},st.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),bs(this,!0)),Vt.$.N.call(this)},st.La=function(){this.s||(this.G||this.v||this.l?Mi(this):this.kb())},st.kb=function(){Mi(this)},st.isActive=function(){return!!this.g},st.da=function(){try{return 2<kr(this)?this.g.status:-1}catch{return-1}},st.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},st.Wa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),xe(e)}},st.Ia=function(){return this.m},st.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(st=js.prototype).ra=8,st.H=1,st.Na=function(i){if(this.m)if(this.m=null,1==this.H){if(!i){this.W=Math.floor(1e5*Math.random()),i=this.W++;const l=new Br(this,this.l,i);let c=this.s;if(this.U&&(c?(c=Jr(c),qr(c,this.U)):c=this.U),null!==this.o||this.O||(l.I=c,c=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var s=this.j[n];if(void 0===(s="__data__"in s.map&&"string"==typeof(s=s.map.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Ea(this,l,e),or(n=Kr(this.I),"RID",i),or(n,"CVER",22),this.F&&or(n,"X-HTTP-Session-Id",this.F),ao(this,n),c&&(this.O?e="headers="+encodeURIComponent(String(ta(c)))+"&"+e:this.o&&ro(n,this.o,c)),Cs(this.i,l),this.bb&&or(n,"TYPE","init"),this.P?(or(n,"$req",e),or(n,"SID","null"),l.aa=!0,Pi(l,n,null)):Pi(l,n,e),this.H=2}}else 3==this.H&&(i?al(this,i):0==this.j.length||Ui(this.i)||al(this))},st.Ma=function(){if(this.u=null,ll(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var i=2*this.S;this.l.info("BP detection timer enabled: "+i),this.B=Rs(at(this.jb,this),i)}},st.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ei(10),ps(this),ll(this))},st.ib=function(){null!=this.v&&(this.v=null,ps(this),$s(this),Ei(19))},st.pb=function(i){i?(this.l.info("Successfully pinged google.com"),Ei(2)):(this.l.info("Failed to ping google.com"),Ei(1))},st.isActive=function(){return!!this.h&&this.h.isActive(this)},(st=y.prototype).Ba=function(){},st.Aa=function(){},st.za=function(){},st.ya=function(){},st.isActive=function(){return!0},st.Va=function(){},E.prototype.g=function(i,e){return new x(i,e)},ft(x,Ee),x.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var i=this.g,e=this.l,n=this.h||void 0;Ei(0),i.Y=e,i.na=n||{},i.G=i.aa,i.I=ra(i,null,i.Y),ko(i)},x.prototype.close=function(){so(this.g)},x.prototype.u=function(i){var e=this.g;if("string"==typeof i){var n={};n.__data__=i,i=n}else this.v&&((n={}).__data__=Te(i),i=n);e.j.push(new class{constructor(i,e){this.g=i,this.map=e}}(e.fb++,i)),3==e.H&&ko(e)},x.prototype.N=function(){this.g.h=null,delete this.j,so(this.g),delete this.g,x.$.N.call(this)},ft(Q,xn),ft(le,Rr),ft(_,y),_.prototype.Ba=function(){Ae(this.g,"a")},_.prototype.Aa=function(i){Ae(this.g,new Q(i))},_.prototype.za=function(i){Ae(this.g,new le)},_.prototype.ya=function(){Ae(this.g,"b")},ft(A,function O(){this.blockSize=-1}),A.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},A.prototype.j=function(i,e){void 0===e&&(e=i.length);for(var n=e-this.blockSize,s=this.m,l=this.h,c=0;c<e;){if(0==l)for(;c<=n;)k(this,i,c),c+=this.blockSize;if("string"==typeof i){for(;c<e;)if(s[l++]=i.charCodeAt(c++),l==this.blockSize){k(this,s),l=0;break}}else for(;c<e;)if(s[l++]=i[c++],l==this.blockSize){k(this,s),l=0;break}}this.h=l,this.i+=e},A.prototype.l=function(){var i=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);i[0]=128;for(var e=1;e<i.length-8;++e)i[e]=0;var n=8*this.i;for(e=i.length-8;e<i.length;++e)i[e]=255&n,n/=256;for(this.j(i),i=Array(16),e=n=0;4>e;++e)for(var s=0;32>s;s+=8)i[n++]=this.g[e]>>>s&255;return i};var Oe={};function Ye(i){return-128<=i&&128>i?function Pn(i,e){var n=Oe;return Object.prototype.hasOwnProperty.call(n,i)?n[i]:n[i]=e(i)}(i,function(e){return new re([0|e],0>e?-1:0)}):new re([0|i],0>i?-1:0)}function gt(i){if(isNaN(i)||!isFinite(i))return an;if(0>i)return lr(gt(-i));for(var e=[],n=1,s=0;i>=n;s++)e[s]=i/n|0,n*=$t;return new re(e,0)}var $t=4294967296,an=Ye(0),sn=Ye(1),Un=Ye(16777216);function bn(i){if(0!=i.h)return!1;for(var e=0;e<i.g.length;e++)if(0!=i.g[e])return!1;return!0}function pn(i){return-1==i.h}function lr(i){for(var e=i.g.length,n=[],s=0;s<e;s++)n[s]=~i.g[s];return new re(n,~i.h).add(sn)}function Zr(i,e){return i.add(lr(e))}function Qr(i,e){for(;(65535&i[e])!=i[e];)i[e+1]+=i[e]>>>16,i[e]&=65535,e++}function Fr(i,e){this.g=i,this.h=e}function _i(i,e){if(bn(e))throw Error("division by zero");if(bn(i))return new Fr(an,an);if(pn(i))return e=_i(lr(i),e),new Fr(lr(e.g),lr(e.h));if(pn(e))return e=_i(i,lr(e)),new Fr(lr(e.g),e.h);if(30<i.g.length){if(pn(i)||pn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=sn,s=e;0>=s.X(i);)n=Vr(n),s=Vr(s);var l=Hi(n,1),c=Hi(s,1);for(s=Hi(s,2),n=Hi(n,2);!bn(s);){var h=c.add(s);0>=h.X(i)&&(l=l.add(n),c=h),s=Hi(s,1),n=Hi(n,1)}return e=Zr(i,l.R(e)),new Fr(l,e)}for(l=an;0<=i.X(e);){for(n=Math.max(1,Math.floor(i.ea()/e.ea())),s=48>=(s=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,s-48),h=(c=gt(n)).R(e);pn(h)||0<h.X(i);)h=(c=gt(n-=s)).R(e);bn(c)&&(c=sn),l=l.add(c),i=Zr(i,h)}return new Fr(l,i)}function Vr(i){for(var e=i.g.length+1,n=[],s=0;s<e;s++)n[s]=i.D(s)<<1|i.D(s-1)>>>31;return new re(n,i.h)}function Hi(i,e){var n=e>>5;e%=32;for(var s=i.g.length-n,l=[],c=0;c<s;c++)l[c]=0<e?i.D(c+n)>>>e|i.D(c+n+1)<<32-e:i.D(c+n);return new re(l,i.h)}(st=re.prototype).ea=function(){if(pn(this))return-lr(this).ea();for(var i=0,e=1,n=0;n<this.g.length;n++){var s=this.D(n);i+=(0<=s?s:$t+s)*e,e*=$t}return i},st.toString=function(i){if(2>(i=i||10)||36<i)throw Error("radix out of range: "+i);if(bn(this))return"0";if(pn(this))return"-"+lr(this).toString(i);for(var e=gt(Math.pow(i,6)),n=this,s="";;){var l=_i(n,e).g,c=((0<(n=Zr(n,l.R(e))).g.length?n.g[0]:n.h)>>>0).toString(i);if(bn(n=l))return c+s;for(;6>c.length;)c="0"+c;s=c+s}},st.D=function(i){return 0>i?0:i<this.g.length?this.g[i]:this.h},st.X=function(i){return pn(i=Zr(this,i))?-1:bn(i)?0:1},st.abs=function(){return pn(this)?lr(this):this},st.add=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],s=0,l=0;l<=e;l++){var c=s+(65535&this.D(l))+(65535&i.D(l)),h=(c>>>16)+(this.D(l)>>>16)+(i.D(l)>>>16);s=h>>>16,n[l]=(h&=65535)<<16|(c&=65535)}return new re(n,-2147483648&n[n.length-1]?-1:0)},st.R=function(i){if(bn(this)||bn(i))return an;if(pn(this))return pn(i)?lr(this).R(lr(i)):lr(lr(this).R(i));if(pn(i))return lr(this.R(lr(i)));if(0>this.X(Un)&&0>i.X(Un))return gt(this.ea()*i.ea());for(var e=this.g.length+i.g.length,n=[],s=0;s<2*e;s++)n[s]=0;for(s=0;s<this.g.length;s++)for(var l=0;l<i.g.length;l++){var c=this.D(s)>>>16,h=65535&this.D(s),D=i.D(l)>>>16,M=65535&i.D(l);n[2*s+2*l]+=h*M,Qr(n,2*s+2*l),n[2*s+2*l+1]+=c*M,Qr(n,2*s+2*l+1),n[2*s+2*l+1]+=h*D,Qr(n,2*s+2*l+1),n[2*s+2*l+2]+=c*D,Qr(n,2*s+2*l+2)}for(s=0;s<e;s++)n[s]=n[2*s+1]<<16|n[2*s];for(s=e;s<2*e;s++)n[s]=0;return new re(n,0)},st.gb=function(i){return _i(this,i).h},st.and=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)&i.D(s);return new re(n,this.h&i.h)},st.or=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)|i.D(s);return new re(n,this.h|i.h)},st.xor=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)^i.D(s);return new re(n,this.h^i.h)},E.prototype.createWebChannel=E.prototype.g,x.prototype.send=x.prototype.u,x.prototype.open=x.prototype.m,x.prototype.close=x.prototype.close,Ro.NO_ERROR=0,Ro.TIMEOUT=8,Ro.HTTP_ERROR=6,Ks.COMPLETE="complete",Mo.EventType=cs,cs.OPEN="a",cs.CLOSE="b",cs.ERROR="c",cs.MESSAGE="d",Ee.prototype.listen=Ee.prototype.O,Vt.prototype.listenOnce=Vt.prototype.P,Vt.prototype.getLastError=Vt.prototype.Sa,Vt.prototype.getLastErrorCode=Vt.prototype.Ia,Vt.prototype.getStatus=Vt.prototype.da,Vt.prototype.getResponseJson=Vt.prototype.Wa,Vt.prototype.getResponseText=Vt.prototype.ja,Vt.prototype.send=Vt.prototype.ha,Vt.prototype.setWithCredentials=Vt.prototype.Oa,A.prototype.digest=A.prototype.l,A.prototype.reset=A.prototype.reset,A.prototype.update=A.prototype.j,re.prototype.add=re.prototype.add,re.prototype.multiply=re.prototype.R,re.prototype.modulo=re.prototype.gb,re.prototype.compare=re.prototype.X,re.prototype.toNumber=re.prototype.ea,re.prototype.toString=re.prototype.toString,re.prototype.getBits=re.prototype.D,re.fromNumber=gt,re.fromString=function Nt(i,e){if(0==i.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==i.charAt(0))return lr(Nt(i.substring(1),e));if(0<=i.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=gt(Math.pow(e,8)),s=an,l=0;l<i.length;l+=8){var c=Math.min(8,i.length-l),h=parseInt(i.substring(l,l+c),e);8>c?(c=gt(Math.pow(e,c)),s=s.R(c).add(gt(h))):s=(s=s.R(n)).add(gt(h))}return s};var Ta=pt.createWebChannelTransport=function(){return new E},Tr=pt.getStatEventTarget=function(){return Ii()},Os=pt.ErrorCode=Ro,ia=pt.EventType=Ks,qt=pt.Event=zi,vn=pt.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Zn=(pt.FetchXmlHttpFactory=Ms,pt.WebChannel=Mo),Wn=pt.XhrIo=Vt,Eo=pt.Md5=A,xi=pt.Integer=re;const Ds="@firebase/firestore";class In{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}In.UNAUTHENTICATED=new In(null),In.GOOGLE_CREDENTIALS=new In("google-credentials-uid"),In.FIRST_PARTY=new In("first-party-uid"),In.MOCK_USER=new In("mock-user");let lo="10.8.0";const To=new Ce.Yd("@firebase/firestore");function oi(){return To.logLevel}function mt(i,...e){if(To.logLevel<=Ce.in.DEBUG){const n=e.map(ul);To.debug(`Firestore (${lo}): ${i}`,...n)}}function zr(i,...e){if(To.logLevel<=Ce.in.ERROR){const n=e.map(ul);To.error(`Firestore (${lo}): ${i}`,...n)}}function rn(i,...e){if(To.logLevel<=Ce.in.WARN){const n=e.map(ul);To.warn(`Firestore (${lo}): ${i}`,...n)}}function ul(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function Kt(i="Unexpected state"){const e=`FIRESTORE (${lo}) INTERNAL ASSERTION FAILED: `+i;throw zr(e),new Error(e)}function Jt(i,e){i||Kt()}function zt(i,e){return i}const ot={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _t extends V.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Oi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class _c{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Vl{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(In.UNAUTHENTICATED))}shutdown(){}}class Vh{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class _u{constructor(e){this.t=e,this.currentUser=In.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var s=this;let l=this.i;const c=j=>this.i!==l?(l=this.i,n(j)):Promise.resolve();let h=new Oi;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Oi,e.enqueueRetryable(()=>c(this.currentUser))};const D=()=>{const j=h;e.enqueueRetryable((0,ge.Z)(function*(){yield j.promise,yield c(s.currentUser)}))},M=j=>{mt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=j,this.auth.addAuthTokenListener(this.o),D()};this.t.onInit(j=>M(j)),setTimeout(()=>{if(!this.auth){const j=this.t.getImmediate({optional:!0});j?M(j):(mt("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Oi)}},0),D()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(mt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Jt("string"==typeof s.accessToken),new _c(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Jt(null===e||"string"==typeof e),new In(e)}}class yt{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=In.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class dr{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new yt(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(In.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class wa{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dd{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const s=c=>{null!=c.error&&mt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const h=c.token!==this.R;return this.R=c.token,mt("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const l=c=>{mt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>l(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?l(c):mt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Jt("string"==typeof n.token),this.R=n.token,new wa(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function hd(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}class sa{static newId(){const n=62*Math.floor(256/62);let s="";for(;s.length<20;){const l=hd(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<n&&(s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(l[c]%62))}return s}}function Tn(i,e){return i<e?-1:i>e?1:0}function wo(i,e,n){return i.length===e.length&&i.every((s,l)=>n(s,e[l]))}function Ul(i){return i+"\0"}class ai{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new _t(ot.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new _t(ot.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new _t(ot.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _t(ot.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ai.fromMillis(Date.now())}static fromDate(e){return ai.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new ai(n,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Tn(this.nanoseconds,e.nanoseconds):Tn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class dn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new dn(e)}static min(){return new dn(new ai(0,0))}static max(){return new dn(new ai(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ka{constructor(e,n,s){void 0===n?n=0:n>e.length&&Kt(),void 0===s?s=e.length-n:s>e.length-n&&Kt(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return 0===ka.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ka?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let l=0;l<s;l++){const c=e.get(l),h=n.get(l);if(c<h)return-1;if(c>h)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Dn extends ka{construct(e,n,s){return new Dn(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new _t(ot.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(l=>l.length>0))}return new Dn(n)}static emptyPath(){return new Dn([])}}const Bo=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xr extends ka{construct(e,n,s){return new xr(e,n,s)}static isValidIdentifier(e){return Bo.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new xr(["__name__"])}static fromServerFormat(e){const n=[];let s="",l=0;const c=()=>{if(0===s.length)throw new _t(ot.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;l<e.length;){const D=e[l];if("\\"===D){if(l+1===e.length)throw new _t(ot.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const M=e[l+1];if("\\"!==M&&"."!==M&&"`"!==M)throw new _t(ot.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=M,l+=2}else"`"===D?(h=!h,l++):"."!==D||h?(s+=D,l++):(c(),l++)}if(c(),h)throw new _t(ot.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xr(n)}static emptyPath(){return new xr([])}}class Ut{constructor(e){this.path=e}static fromPath(e){return new Ut(Dn.fromString(e))}static fromName(e){return new Ut(Dn.fromString(e).popFirst(5))}static empty(){return new Ut(Dn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Dn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Dn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ut(new Dn(e.slice()))}}class As{constructor(e,n,s,l){this.indexId=e,this.collectionGroup=n,this.fields=s,this.indexState=l}}function cl(i){return i.fields.find(e=>2===e.kind)}function oa(i){return i.fields.filter(e=>2!==e.kind)}As.UNKNOWN_ID=-1;class Fa{constructor(e,n){this.fieldPath=e,this.kind=n}}class aa{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new aa(0,S.min())}}function vc(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,l=dn.fromTimestamp(1e9===s?new ai(n+1,0):new ai(n,s));return new S(l,Ut.empty(),e)}function T(i){return new S(i.readTime,i.key,-1)}class S{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new S(dn.min(),Ut.empty(),-1)}static max(){return new S(dn.max(),Ut.empty(),-1)}}function v(i,e){let n=i.readTime.compareTo(e.readTime);return 0!==n?n:(n=Ut.comparator(i.documentKey,e.documentKey),0!==n?n:Tn(i.largestBatchId,e.largestBatchId))}const R="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class B{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function te(i){return Ie.apply(this,arguments)}function Ie(){return Ie=(0,ge.Z)(function*(i){if(i.code!==ot.FAILED_PRECONDITION||i.message!==R)throw i;mt("LocalStore","Unexpectedly lost primary lease")}),Ie.apply(this,arguments)}class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Kt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ce((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,l)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ce?n:ce.resolve(n)}catch(n){return ce.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ce.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ce.reject(n)}static resolve(e){return new ce((n,s)=>{n(e)})}static reject(e){return new ce((n,s)=>{s(e)})}static waitFor(e){return new ce((n,s)=>{let l=0,c=0,h=!1;e.forEach(D=>{++l,D.next(()=>{++c,h&&c===l&&n()},M=>s(M))}),h=!0,c===l&&n()})}static or(e){let n=ce.resolve(!1);for(const s of e)n=n.next(l=>l?ce.resolve(l):s());return n}static forEach(e,n){const s=[];return e.forEach((l,c)=>{s.push(n.call(this,l,c))}),this.waitFor(s)}static mapArray(e,n){return new ce((s,l)=>{const c=e.length,h=new Array(c);let D=0;for(let M=0;M<c;M++){const j=M;n(e[j]).next(X=>{h[j]=X,++D,D===c&&s(h)},X=>l(X))}})}static doWhile(e,n){return new ce((s,l)=>{const c=()=>{!0===e()?n().next(()=>{c()},l):s()};c()})}}class Qe{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Oi,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new zn(e,n.error)):this.V.resolve()},this.transaction.onerror=s=>{const l=dl(s.target.error);this.V.reject(new zn(e,l))}}static open(e,n,s,l){try{return new Qe(n,e.transaction(l,s))}catch(c){throw new zn(n,c)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(mt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const n=this.transaction.objectStore(e);return new Sr(n)}}class Ht{constructor(e,n,s){this.name=e,this.version=n,this.p=s,12.2===Ht.S((0,V.z$)())&&zr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return mt("SimpleDb","Removing database:",e),uo(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,V.hl)())return!1;if(Ht.C())return!0;const e=(0,V.z$)(),n=Ht.S(e),s=0<n&&n<10,l=Ht.v(e),c=0<l&&l<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||c)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.F)}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static v(e){const n=e.match(/Android ([\d.]+)/i),s=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(s)}O(e){var n=this;return(0,ge.Z)(function*(){return n.db||(mt("SimpleDb","Opening database:",n.name),n.db=yield new Promise((s,l)=>{const c=indexedDB.open(n.name,n.version);c.onsuccess=h=>{s(h.target.result)},c.onblocked=()=>{l(new zn(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=h=>{const D=h.target.error;l("VersionError"===D.name?new _t(ot.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===D.name?new _t(ot.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+D):new zn(e,D))},c.onupgradeneeded=h=>{mt("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',h.oldVersion),n.p.N(h.target.result,c.transaction,h.oldVersion,n.version).next(()=>{mt("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.B&&(n.db.onversionchange=s=>n.B(s)),n.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,s,l){var c=this;return(0,ge.Z)(function*(){const h="readonly"===n;let D=0;for(;;){++D;try{c.db=yield c.O(e);const M=Qe.open(c.db,e,h?"readonly":"readwrite",s),j=l(M).next(X=>(M.g(),X)).catch(X=>(M.abort(X),ce.reject(X))).toPromise();return j.catch(()=>{}),yield M.m,j}catch(M){const j=M,X="FirebaseError"!==j.name&&D<3;if(mt("SimpleDb","Transaction failed with error:",j.message,"Retrying:",X),c.close(),!X)return Promise.reject(j)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class qn{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return uo(this.k.delete())}}class zn extends _t{constructor(e,n){super(ot.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function kn(i){return"IndexedDbTransactionError"===i.name}class Sr{constructor(e){this.store=e}put(e,n){let s;return void 0!==n?(mt("SimpleDb","PUT",this.store.name,e,n),s=this.store.put(n,e)):(mt("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),uo(s)}add(e){return mt("SimpleDb","ADD",this.store.name,e,e),uo(this.store.add(e))}get(e){return uo(this.store.get(e)).next(n=>(void 0===n&&(n=null),mt("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return mt("SimpleDb","DELETE",this.store.name,e),uo(this.store.delete(e))}count(){return mt("SimpleDb","COUNT",this.store.name),uo(this.store.count())}W(e,n){const s=this.options(e,n),l=s.index?this.store.index(s.index):this.store;if("function"==typeof l.getAll){const c=l.getAll(s.range);return new ce((h,D)=>{c.onerror=M=>{D(M.target.error)},c.onsuccess=M=>{h(M.target.result)}})}{const c=this.cursor(s),h=[];return this.G(c,(D,M)=>{h.push(M)}).next(()=>h)}}j(e,n){const s=this.store.getAll(e,null===n?void 0:n);return new ce((l,c)=>{s.onerror=h=>{c(h.target.error)},s.onsuccess=h=>{l(h.target.result)}})}H(e,n){mt("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,n);s.J=!1;const l=this.cursor(s);return this.G(l,(c,h,D)=>D.delete())}Y(e,n){let s;n?s=e:(s={},n=e);const l=this.cursor(s);return this.G(l,n)}Z(e){const n=this.cursor({});return new ce((s,l)=>{n.onerror=c=>{const h=dl(c.target.error);l(h)},n.onsuccess=c=>{const h=c.target.result;h?e(h.primaryKey,h.value).next(D=>{D?h.continue():s()}):s()}})}G(e,n){const s=[];return new ce((l,c)=>{e.onerror=h=>{c(h.target.error)},e.onsuccess=h=>{const D=h.target.result;if(!D)return void l();const M=new qn(D),j=n(D.primaryKey,D.value,M);if(j instanceof ce){const X=j.catch(fe=>(M.done(),ce.reject(fe)));s.push(X)}M.isDone?l():null===M.$?D.continue():D.continue(M.$)}}).next(()=>ce.waitFor(s))}options(e,n){let s;return void 0!==e&&("string"==typeof e?s=e:n=e),{index:s,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const s=this.store.index(e.index);return e.J?s.openKeyCursor(e.range,n):s.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function uo(i){return new ce((e,n)=>{i.onsuccess=s=>{e(s.target.result)},i.onerror=s=>{const l=dl(s.target.error);n(l)}})}let Va=!1;function dl(i){const e=Ht.S((0,V.z$)());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(n)>=0){const s=new _t("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Va||(Va=!0,setTimeout(()=>{throw s},0)),s}}return i}class Ca{constructor(e,n){this.asyncQueue=e,this.X=n,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){var n=this;mt("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ge.Z)(function*(){n.task=null;try{mt("IndexBackfiller",`Documents written: ${yield n.X.te()}`)}catch(s){kn(s)?mt("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",s):yield te(s)}yield n.ee(6e4)}))}}class Ic{constructor(e,n){this.localStore=e,this.persistence=n}te(e=50){var n=this;return(0,ge.Z)(function*(){return n.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>n.ne(s,e))})()}ne(e,n){const s=new Set;let l=n,c=!0;return ce.doWhile(()=>!0===c&&l>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(h=>{if(null!==h&&!s.has(h))return mt("IndexBackfiller",`Processing collection: ${h}`),this.re(e,h,l).next(D=>{l-=D,s.add(h)});c=!1})).next(()=>n-l)}re(e,n,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(l=>this.localStore.localDocuments.getNextDocuments(e,n,l,s).next(c=>{const h=c.changes;return this.localStore.indexManager.updateIndexEntries(e,h).next(()=>this.ie(l,c)).next(D=>(mt("IndexBackfiller",`Updating offset: ${D}`),this.localStore.indexManager.updateCollectionGroup(e,n,D))).next(()=>h.size)}))}ie(e,n){let s=e;return n.changes.forEach((l,c)=>{const h=T(c);v(h,s)>0&&(s=h)}),new S(s.readTime,s.documentKey,Math.max(n.batchId,e.largestBatchId))}}let co=(()=>{class i{constructor(n,s){this.previousValue=n,s&&(s.sequenceNumberHandler=l=>this.se(l),this.oe=l=>s.writeSequenceNumber(l))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.oe&&this.oe(n),n}}return i._e=-1,i})();function Ua(i){return null==i}function ho(i){return 0===i&&1/i==-1/0}function Uh(i){return"number"==typeof i&&Number.isInteger(i)&&!ho(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}function ji(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=hl(e)),e=Ec(i.get(n),e);return hl(e)}function Ec(i,e){let n=e;const s=i.length;for(let l=0;l<s;l++){const c=i.charAt(l);switch(c){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=c}}return n}function hl(i){return i+"\x01\x01"}function Ho(i){const e=i.length;if(Jt(e>=2),2===e)return Jt("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),Dn.emptyPath();const n=e-2,s=[];let l="";for(let c=0;c<e;){const h=i.indexOf("\x01",c);switch((h<0||h>n)&&Kt(),i.charAt(h+1)){case"\x01":const D=i.substring(c,h);let M;0===l.length?M=D:(l+=D,M=l,l=""),s.push(M);break;case"\x10":l+=i.substring(c,h),l+="\0";break;case"\x11":l+=i.substring(c,h+1);break;default:Kt()}c=h+2}return new Dn(s)}const yu=["userId","batchId"];function Ba(i,e){return[i,ji(e)]}function Tc(i,e,n){return[i,ji(e),n]}const Hl={},fl=["prefixPath","collectionGroup","readTime","documentId"],Lp=["prefixPath","collectionGroup","documentId"],jl=["collectionGroup","readTime","prefixPath","documentId"],vu=["canonicalId","targetId"],Gg=["targetId","path"],kp=["path","targetId"],Fp=["collectionId","parent"],Bh=["indexId","uid"],Vp=["uid","sequenceNumber"],fd=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Iu=["indexId","uid","orderedDocumentKey"],pd=["userId","collectionPath","documentId"],Eu=["userId","collectionPath","largestBatchId"],Tu=["userId","collectionGroup","largestBatchId"],wu=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Hh=[...wu,"documentOverlays"],Cu=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],md=Cu,bu=[...md,"indexConfiguration","indexState","indexEntries"];class jo extends B{constructor(e,n){super(),this.ae=e,this.currentSequenceNumber=n}}function ms(i,e){const n=zt(i);return Ht.M(n.ae,e)}function pl(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function $o(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function Du(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class Yr{constructor(e,n){this.comparator=e,this.root=n||gs.EMPTY}insert(e,n){return new Yr(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,gs.BLACK,null,null))}remove(e){return new Yr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gs.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(0===s)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(0===l)return n+s.left.size;l<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ml(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ml(this.root,e,this.comparator,!1)}getReverseIterator(){return new ml(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ml(this.root,e,this.comparator,!0)}}class ml{constructor(e,n,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?s(e.key,n):1,n&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class gs{constructor(e,n,s,l,c){this.key=e,this.value=n,this.color=s??gs.RED,this.left=l??gs.EMPTY,this.right=c??gs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,l,c){return new gs(e??this.key,n??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let l=this;const c=s(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,n,s),null):0===c?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return gs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===n(e,l.key)){if(l.right.isEmpty())return gs.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,gs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,gs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Kt();const e=this.left.check();if(e!==this.right.check())throw Kt();return e+(this.isRed()?0:1)}}gs.EMPTY=null,gs.RED=!0,gs.BLACK=!1,gs.EMPTY=new class{constructor(){this.size=0}get key(){throw Kt()}get value(){throw Kt()}get color(){throw Kt()}get left(){throw Kt()}get right(){throw Kt()}copy(e,n,s,l,c){return this}insert(e,n,s){return new gs(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Gr{constructor(e){this.comparator=e,this.data=new Yr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let s;for(s=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new gd(this.data.getIterator())}getIteratorFrom(e){return new gd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Gr)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=s.getNext().key;if(0!==this.comparator(l,c))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Gr(this.comparator);return n.data=e,n}}class gd{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function gl(i){return i.hasNext()?i.getNext():void 0}class Ss{constructor(e){this.fields=e,e.sort(xr.comparator)}static empty(){return new Ss([])}unionWith(e){let n=new Gr(xr.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Ss(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return wo(this.fields,e.fields,(n,s)=>n.isEqual(s))}}class jh extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ni{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new jh("Invalid base64 string: "+c):c}}(e);return new ni(n)}static fromUint8Array(e){const n=function(l){let c="";for(let h=0;h<l.length;++h)c+=String.fromCharCode(l[h]);return c}(e);return new ni(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let l=0;l<n.length;l++)s[l]=n.charCodeAt(l);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Tn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ni.EMPTY_BYTE_STRING=new ni("");const Up=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ba(i){if(Jt(!!i),"string"==typeof i){let e=0;const n=Up.exec(i);if(Jt(!!n),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:di(i.seconds),nanos:di(i.nanos)}}function di(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Co(i){return"string"==typeof i?ni.fromBase64String(i):ni.fromUint8Array(i)}function $l(i){var e,n;return"server_timestamp"===(null===(n=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Qi(i){const e=i.mapValue.fields.__previous_value__;return $l(e)?Qi(e):e}function _l(i){const e=ba(i.mapValue.fields.__local_write_time__.timestampValue);return new ai(e.seconds,e.nanos)}class _d{constructor(e,n,s,l,c,h,D,M,j){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=h,this.autoDetectLongPolling=D,this.longPollingOptions=M,this.useFetchStreams=j}}class zo{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new zo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof zo&&e.projectId===this.projectId&&e.database===this.database}}const Ha={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},zl={nullValue:"NULL_VALUE"};function Ko(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?$l(i)?4:yl(i)?9007199254740991:10:Kt()}function Ns(i,e){if(i===e)return!0;const n=Ko(i);if(n!==Ko(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return _l(i).isEqual(_l(e));case 3:return function(l,c){if("string"==typeof l.timestampValue&&"string"==typeof c.timestampValue&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const h=ba(l.timestampValue),D=ba(c.timestampValue);return h.seconds===D.seconds&&h.nanos===D.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return c=e,Co(i.bytesValue).isEqual(Co(c.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(l,c){return di(l.geoPointValue.latitude)===di(c.geoPointValue.latitude)&&di(l.geoPointValue.longitude)===di(c.geoPointValue.longitude)}(i,e);case 2:return function(l,c){if("integerValue"in l&&"integerValue"in c)return di(l.integerValue)===di(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const h=di(l.doubleValue),D=di(c.doubleValue);return h===D?ho(h)===ho(D):isNaN(h)&&isNaN(D)}return!1}(i,e);case 9:return wo(i.arrayValue.values||[],e.arrayValue.values||[],Ns);case 10:return function(l,c){const h=l.mapValue.fields||{},D=c.mapValue.fields||{};if(pl(h)!==pl(D))return!1;for(const M in h)if(h.hasOwnProperty(M)&&(void 0===D[M]||!Ns(h[M],D[M])))return!1;return!0}(i,e);default:return Kt()}var c}function la(i,e){return void 0!==(i.values||[]).find(n=>Ns(n,e))}function fo(i,e){if(i===e)return 0;const n=Ko(i),s=Ko(e);if(n!==s)return Tn(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Tn(i.booleanValue,e.booleanValue);case 2:return function(c,h){const D=di(c.integerValue||c.doubleValue),M=di(h.integerValue||h.doubleValue);return D<M?-1:D>M?1:D===M?0:isNaN(D)?isNaN(M)?0:-1:1}(i,e);case 3:return Au(i.timestampValue,e.timestampValue);case 4:return Au(_l(i),_l(e));case 5:return Tn(i.stringValue,e.stringValue);case 6:return function(c,h){const D=Co(c),M=Co(h);return D.compareTo(M)}(i.bytesValue,e.bytesValue);case 7:return function(c,h){const D=c.split("/"),M=h.split("/");for(let j=0;j<D.length&&j<M.length;j++){const X=Tn(D[j],M[j]);if(0!==X)return X}return Tn(D.length,M.length)}(i.referenceValue,e.referenceValue);case 8:return function(c,h){const D=Tn(di(c.latitude),di(h.latitude));return 0!==D?D:Tn(di(c.longitude),di(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(c,h){const D=c.values||[],M=h.values||[];for(let j=0;j<D.length&&j<M.length;++j){const X=fo(D[j],M[j]);if(X)return X}return Tn(D.length,M.length)}(i.arrayValue,e.arrayValue);case 10:return function(c,h){if(c===Ha.mapValue&&h===Ha.mapValue)return 0;if(c===Ha.mapValue)return 1;if(h===Ha.mapValue)return-1;const D=c.fields||{},M=Object.keys(D),j=h.fields||{},X=Object.keys(j);M.sort(),X.sort();for(let fe=0;fe<M.length&&fe<X.length;++fe){const Le=Tn(M[fe],X[fe]);if(0!==Le)return Le;const Je=fo(D[M[fe]],j[X[fe]]);if(0!==Je)return Je}return Tn(M.length,X.length)}(i.mapValue,e.mapValue);default:throw Kt()}}function Au(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return Tn(i,e);const n=ba(i),s=ba(e),l=Tn(n.seconds,s.seconds);return 0!==l?l:Tn(n.nanos,s.nanos)}function ja(i){return $a(i)}function $a(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=ba(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?Co(i.bytesValue).toBase64():"referenceValue"in i?Ut.fromName(i.referenceValue).toString():"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",l=!0;for(const c of n.values||[])l?l=!1:s+=",",s+=$a(c);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let l="{",c=!0;for(const h of s)c?c=!1:l+=",",l+=`${h}:${$a(n.fields[h])}`;return l+"}"}(i.mapValue):Kt()}function Da(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function $h(i){return!!i&&"integerValue"in i}function Cc(i){return!!i&&"arrayValue"in i}function zh(i){return!!i&&"nullValue"in i}function Bp(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Gl(i){return!!i&&"mapValue"in i}function bc(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return $o(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=bc(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=bc(i.arrayValue.values[n]);return e}return Object.assign({},i)}function yl(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function Hp(i){return"nullValue"in i?zl:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?Da(zo.empty(),Ut.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:Kt()}function jp(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?Da(zo.empty(),Ut.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?Ha:Kt()}function Yi(i,e){const n=fo(i.value,e.value);return 0!==n?n:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function Gh(i,e){const n=fo(i.value,e.value);return 0!==n?n:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class $i{constructor(e){this.value=e}static empty(){return new $i({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Gl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=bc(n)}setAll(e){let n=xr.emptyPath(),s={},l=[];e.forEach((h,D)=>{if(!n.isImmediateParentOf(D)){const M=this.getFieldsMap(n);this.applyChanges(M,s,l),s={},l=[],n=D.popLast()}h?s[D.lastSegment()]=bc(h):l.push(D.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,s,l)}delete(e){const n=this.field(e.popLast());Gl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ns(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=n.mapValue.fields[e.get(s)];Gl(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,s){$o(n,(l,c)=>e[l]=c);for(const l of s)delete e[l]}clone(){return new $i(bc(this.value))}}function Wh(i){const e=[];return $o(i.fields,(n,s)=>{const l=new xr([n]);if(Gl(s)){const c=Wh(s.mapValue).fields;if(0===c.length)e.push(l);else for(const h of c)e.push(l.child(h))}else e.push(l)}),new Ss(e)}class ur{constructor(e,n,s,l,c,h,D){this.key=e,this.documentType=n,this.version=s,this.readTime=l,this.createTime=c,this.data=h,this.documentState=D}static newInvalidDocument(e){return new ur(e,0,dn.min(),dn.min(),dn.min(),$i.empty(),0)}static newFoundDocument(e,n,s,l){return new ur(e,1,n,dn.min(),s,l,0)}static newNoDocument(e,n){return new ur(e,2,n,dn.min(),dn.min(),$i.empty(),0)}static newUnknownDocument(e,n){return new ur(e,3,n,dn.min(),dn.min(),$i.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(dn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$i.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$i.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=dn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ur&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ur(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class bo{constructor(e,n){this.position=e,this.inclusive=n}}function vd(i,e,n){let s=0;for(let l=0;l<i.position.length;l++){const c=e[l],h=i.position[l];if(s=c.field.isKeyField()?Ut.comparator(Ut.fromName(h.referenceValue),n.key):fo(h,n.data.field(c.field)),"desc"===c.dir&&(s*=-1),0!==s)break}return s}function Su(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Ns(i.position[n],e.position[n]))return!1;return!0}class Aa{constructor(e,n="asc"){this.field=e,this.dir=n}}function $p(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class qh{}class _r extends qh{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,s):new Qh(e,n,s):"array-contains"===n?new Td(e,s):"in"===n?new Sc(e,s):"not-in"===n?new Ru(e,s):"array-contains-any"===n?new Pc(e,s):new _r(e,n,s)}static createKeyFieldInFilter(e,n,s){return"in"===n?new zp(e,s):new Ed(e,s)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(fo(n,this.value)):null!==n&&Ko(this.value)===Ko(n)&&this.matchesComparison(fo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Kt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xr extends qh{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Xr(e,n)}matches(e){return _s(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function _s(i){return"and"===i.op}function Pu(i){return"or"===i.op}function za(i){return Id(i)&&_s(i)}function Id(i){for(const e of i.filters)if(e instanceof Xr)return!1;return!0}function Wl(i){if(i instanceof _r)return i.field.canonicalString()+i.op.toString()+ja(i.value);if(za(i))return i.filters.map(e=>Wl(e)).join(",");{const e=i.filters.map(n=>Wl(n)).join(",");return`${i.op}(${e})`}}function Kh(i,e){return i instanceof _r?(s=i,(l=e)instanceof _r&&s.op===l.op&&s.field.isEqual(l.field)&&Ns(s.value,l.value)):i instanceof Xr?function(s,l){return l instanceof Xr&&s.op===l.op&&s.filters.length===l.filters.length&&s.filters.reduce((c,h,D)=>c&&Kh(h,l.filters[D]),!0)}(i,e):void Kt();var s,l}function Dc(i,e){const n=i.filters.concat(e);return Xr.create(n,i.op)}function Zh(i){return i instanceof _r?`${(n=i).field.canonicalString()} ${n.op} ${ja(n.value)}`:i instanceof Xr?function(n){return n.op.toString()+" {"+n.getFilters().map(Zh).join(" ,")+"}"}(i):"Filter";var n}class Qh extends _r{constructor(e,n,s){super(e,n,s),this.key=Ut.fromName(s.referenceValue)}matches(e){const n=Ut.comparator(e.key,this.key);return this.matchesComparison(n)}}class zp extends _r{constructor(e,n){super(e,"in",n),this.keys=Ac(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Ed extends _r{constructor(e,n){super(e,"not-in",n),this.keys=Ac(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Ac(i,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(s=>Ut.fromName(s.referenceValue))}class Td extends _r{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Cc(n)&&la(n.arrayValue,this.value)}}class Sc extends _r{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&la(this.value.arrayValue,n)}}class Ru extends _r{constructor(e,n){super(e,"not-in",n)}matches(e){if(la(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!la(this.value.arrayValue,n)}}class Pc extends _r{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Cc(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>la(this.value.arrayValue,s))}}class Mu{constructor(e,n=null,s=[],l=[],c=null,h=null,D=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=h,this.endAt=D,this.ce=null}}function Rc(i,e=null,n=[],s=[],l=null,c=null,h=null){return new Mu(i,e,n,s,l,c,h)}function Ga(i){const e=zt(i);if(null===e.ce){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Wl(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>{return(c=s).field.canonicalString()+c.dir;var c}).join(","),Ua(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>ja(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>ja(s)).join(",")),e.ce=n}return e.ce}function vl(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!$p(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!Kh(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Su(i.startAt,e.startAt)&&Su(i.endAt,e.endAt)}function Il(i){return Ut.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function xu(i,e){return i.filters.filter(n=>n instanceof _r&&n.field.isEqual(e))}function Yh(i,e,n){let s=zl,l=!0;for(const c of xu(i,e)){let h=zl,D=!0;switch(c.op){case"<":case"<=":h=Hp(c.value);break;case"==":case"in":case">=":h=c.value;break;case">":h=c.value,D=!1;break;case"!=":case"not-in":h=zl}Yi({value:s,inclusive:l},{value:h,inclusive:D})<0&&(s=h,l=D)}if(null!==n)for(let c=0;c<i.orderBy.length;++c)if(i.orderBy[c].field.isEqual(e)){const h=n.position[c];Yi({value:s,inclusive:l},{value:h,inclusive:n.inclusive})<0&&(s=h,l=n.inclusive);break}return{value:s,inclusive:l}}function wd(i,e,n){let s=Ha,l=!0;for(const c of xu(i,e)){let h=Ha,D=!0;switch(c.op){case">=":case">":h=jp(c.value),D=!1;break;case"==":case"in":case"<=":h=c.value;break;case"<":h=c.value,D=!1;break;case"!=":case"not-in":h=Ha}Gh({value:s,inclusive:l},{value:h,inclusive:D})>0&&(s=h,l=D)}if(null!==n)for(let c=0;c<i.orderBy.length;++c)if(i.orderBy[c].field.isEqual(e)){const h=n.position[c];Gh({value:s,inclusive:l},{value:h,inclusive:n.inclusive})>0&&(s=h,l=n.inclusive);break}return{value:s,inclusive:l}}class po{constructor(e,n=null,s=[],l=[],c=null,h="F",D=null,M=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=h,this.startAt=D,this.endAt=M,this.le=null,this.he=null,this.Pe=null}}function Ou(i,e,n,s,l,c,h,D){return new po(i,e,n,s,l,c,h,D)}function ql(i){return new po(i)}function I(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function f(i){return null!==i.collectionGroup}function m(i){const e=zt(i);if(null===e.le){e.le=[];const n=new Set;for(const c of e.explicitOrderBy)e.le.push(c),n.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let D=new Gr(xr.comparator);return h.filters.forEach(M=>{M.getFlattenedFilters().forEach(j=>{j.isInequality()&&(D=D.add(j.field))})}),D})(e).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||e.le.push(new Aa(c,s))}),n.has(xr.keyField().canonicalString())||e.le.push(new Aa(xr.keyField(),s))}return e.le}function C(i){const e=zt(i);return e.he||(e.he=function q(i,e){if("F"===i.limitType)return Rc(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(l=>new Aa(l.field,"desc"===l.dir?"asc":"desc"));const n=i.endAt?new bo(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new bo(i.startAt.position,i.startAt.inclusive):null;return Rc(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}(e,m(i))),e.he}function se(i,e){const n=i.filters.concat([e]);return new po(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Ve(i,e,n){return new po(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function nt(i,e){return vl(C(i),C(e))&&i.limitType===e.limitType}function Et(i){return`${Ga(C(i))}|lt:${i.limitType}`}function Xt(i){return`Query(target=${function(n){let s=n.path.canonicalString();return null!==n.collectionGroup&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(l=>Zh(l)).join(", ")}]`),Ua(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(l=>{return`${(h=l).field.canonicalString()} (${h.dir})`;var h}).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(l=>ja(l)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(l=>ja(l)).join(",")),`Target(${s})`}(C(i))}; limitType=${i.limitType})`}function cn(i,e){return e.isFoundDocument()&&function(s,l){const c=l.key.path;return null!==s.collectionGroup?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):Ut.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(i,e)&&function(s,l){for(const c of m(s))if(!c.field.isKeyField()&&null===l.data.field(c.field))return!1;return!0}(i,e)&&function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0}(i,e)&&(l=e,!((s=i).startAt&&!function(h,D,M){const j=vd(h,D,M);return h.inclusive?j<=0:j<0}(s.startAt,m(s),l)||s.endAt&&!function(h,D,M){const j=vd(h,D,M);return h.inclusive?j>=0:j>0}(s.endAt,m(s),l)));var s,l}function hr(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Ls(i){return(e,n)=>{let s=!1;for(const l of m(i)){const c=El(l,e,n);if(0!==c)return c;s=s||l.field.isKeyField()}return 0}}function El(i,e,n){const s=i.field.isKeyField()?Ut.comparator(e.key,n.key):function(c,h,D){const M=h.data.field(c),j=D.data.field(c);return null!==M&&null!==j?fo(M,j):Kt()}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Kt()}}class Go{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(void 0!==s)for(const[l,c]of s)if(this.equalsFn(l,e))return c}has(e){return void 0!==this.get(e)}set(e,n){const s=this.mapKeyFn(e),l=this.inner[s];if(void 0===l)return this.inner[s]=[[e,n]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(void 0===s)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return 1===s.length?delete this.inner[n]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){$o(this.inner,(n,s)=>{for(const[l,c]of s)e(l,c)})}isEmpty(){return Du(this.inner)}size(){return this.innerSize}}const Jh=new Yr(Ut.comparator);function ys(){return Jh}const Xh=new Yr(Ut.comparator);function Nu(...i){let e=Xh;for(const n of i)e=e.insert(n.key,n);return e}function Kl(i){let e=Xh;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function ua(){return Zl()}function ef(){return Zl()}function Zl(){return new Go(i=>i.toString(),(i,e)=>i.isEqual(e))}const Gp=new Yr(Ut.comparator),Wg=new Gr(Ut.comparator);function Qn(...i){let e=Wg;for(const n of i)e=e.add(n);return e}const Mc=new Gr(Tn);function xc(){return Mc}function Wp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ho(e)?"-0":e}}function qp(i){return{integerValue:""+i}}function Kp(i,e){return Uh(e)?qp(e):Wp(i,e)}class Tl{constructor(){this._=void 0}}function qg(i,e,n){return i instanceof wl?function(l,c){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&$l(c)&&(c=Qi(c)),c&&(h.fields.__previous_value__=c),{mapValue:h}}(n,e):i instanceof Wa?Zg(i,e):i instanceof Lu?Qg(i,e):function(l,c){const h=Cd(l,c),D=tf(h)+tf(l.Ie);return $h(h)&&$h(l.Ie)?qp(D):Wp(l.serializer,D)}(i,e)}function Kg(i,e,n){return i instanceof Wa?Zg(i,e):i instanceof Lu?Qg(i,e):n}function Cd(i,e){return i instanceof ku?$h(s=e)||(c=s)&&"doubleValue"in c?e:{integerValue:0}:null;var s,c}class wl extends Tl{}class Wa extends Tl{constructor(e){super(),this.elements=e}}function Zg(i,e){const n=Yg(e);for(const s of i.elements)n.some(l=>Ns(l,s))||n.push(s);return{arrayValue:{values:n}}}class Lu extends Tl{constructor(e){super(),this.elements=e}}function Qg(i,e){let n=Yg(e);for(const s of i.elements)n=n.filter(l=>!Ns(l,s));return{arrayValue:{values:n}}}class ku extends Tl{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function tf(i){return di(i.integerValue||i.doubleValue)}function Yg(i){return Cc(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class bd{constructor(e,n){this.field=e,this.transform=n}}class Jg{constructor(e,n){this.version=e,this.transformResults=n}}class Ni{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ni}static exists(e){return new Ni(void 0,e)}static updateTime(e){return new Ni(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nf(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class zs{}function rf(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new Uu(i.key,Ni.none()):new Vu(i.key,i.data,Ni.none());{const n=i.data,s=$i.empty();let l=new Gr(xr.comparator);for(let c of e.fields)if(!l.has(c)){let h=n.field(c);null===h&&c.length>1&&(c=c.popLast(),h=n.field(c)),null===h?s.delete(c):s.set(c,h),l=l.add(c)}return new qa(i.key,s,new Ss(l.toArray()),Ni.none())}}function Xg(i,e,n){i instanceof Vu?function(l,c,h){const D=l.value.clone(),M=Zp(l.fieldTransforms,c,h.transformResults);D.setAll(M),c.convertToFoundDocument(h.version,D).setHasCommittedMutations()}(i,e,n):i instanceof qa?function(l,c,h){if(!nf(l.precondition,c))return void c.convertToUnknownDocument(h.version);const D=Zp(l.fieldTransforms,c,h.transformResults),M=c.data;M.setAll(e_(l)),M.setAll(D),c.convertToFoundDocument(h.version,M).setHasCommittedMutations()}(i,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Fu(i,e,n,s){return i instanceof Vu?function(c,h,D,M){if(!nf(c.precondition,h))return D;const j=c.value.clone(),X=t_(c.fieldTransforms,M,h);return j.setAll(X),h.convertToFoundDocument(h.version,j).setHasLocalMutations(),null}(i,e,n,s):i instanceof qa?function(c,h,D,M){if(!nf(c.precondition,h))return D;const j=t_(c.fieldTransforms,M,h),X=h.data;return X.setAll(e_(c)),X.setAll(j),h.convertToFoundDocument(h.version,X).setHasLocalMutations(),null===D?null:D.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(fe=>fe.field))}(i,e,n,s):(D=n,nf(i.precondition,h=e)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):D);var h,D}function mo(i,e){let n=null;for(const s of i.fieldTransforms){const l=e.data.field(s.field),c=Cd(s.transform,l||null);null!=c&&(null===n&&(n=$i.empty()),n.set(s.field,c))}return n||null}function Oc(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(l=e.fieldTransforms,!!(void 0===(s=i.fieldTransforms)&&void 0===l||s&&l&&wo(s,l,(c,h)=>function Dv(i,e){return i.field.isEqual(e.field)&&(l=e.transform,(s=i.transform)instanceof Wa&&l instanceof Wa||s instanceof Lu&&l instanceof Lu?wo(s.elements,l.elements,Ns):s instanceof ku&&l instanceof ku?Ns(s.Ie,l.Ie):s instanceof wl&&l instanceof wl);var s,l}(c,h))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var s,l}class Vu extends zs{constructor(e,n,s,l=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class qa extends zs{constructor(e,n,s,l,c=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function e_(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function Zp(i,e,n){const s=new Map;Jt(i.length===n.length);for(let l=0;l<n.length;l++){const c=i[l],h=c.transform,D=e.data.field(c.field);s.set(c.field,Kg(h,D,n[l]))}return s}function t_(i,e,n){const s=new Map;for(const l of i){const c=l.transform,h=n.data.field(l.field);s.set(l.field,qg(c,h,e))}return s}class Uu extends zs{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Qp extends zs{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class sf{constructor(e,n,s,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&Xg(c,e,s[l])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Fu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Fu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=ef();return this.mutations.forEach(l=>{const c=e.get(l.key),h=c.overlayedDocument;let D=this.applyToLocalView(h,c.mutatedFields);D=n.has(l.key)?null:D;const M=rf(h,D);null!==M&&s.set(l.key,M),h.isValidDocument()||h.convertToNoDocument(dn.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Qn())}isEqual(e){return this.batchId===e.batchId&&wo(this.mutations,e.mutations,(n,s)=>Oc(n,s))&&wo(this.baseMutations,e.baseMutations,(n,s)=>Oc(n,s))}}class Yp{constructor(e,n,s,l){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=l}static from(e,n,s){Jt(e.mutations.length===s.length);let l=Gp;const c=e.mutations;for(let h=0;h<c.length;h++)l=l.insert(c[h].key,s[h].version);return new Yp(e,n,s,l)}}class Jp{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class em{constructor(e,n){this.count=e,this.unchangedNames=n}}var vs,yr;function n_(i){switch(i){default:return Kt();case ot.CANCELLED:case ot.UNKNOWN:case ot.DEADLINE_EXCEEDED:case ot.RESOURCE_EXHAUSTED:case ot.INTERNAL:case ot.UNAVAILABLE:case ot.UNAUTHENTICATED:return!1;case ot.INVALID_ARGUMENT:case ot.NOT_FOUND:case ot.ALREADY_EXISTS:case ot.PERMISSION_DENIED:case ot.FAILED_PRECONDITION:case ot.ABORTED:case ot.OUT_OF_RANGE:case ot.UNIMPLEMENTED:case ot.DATA_LOSS:return!0}}function r_(i){if(void 0===i)return zr("GRPC error has no .code"),ot.UNKNOWN;switch(i){case vs.OK:return ot.OK;case vs.CANCELLED:return ot.CANCELLED;case vs.UNKNOWN:return ot.UNKNOWN;case vs.DEADLINE_EXCEEDED:return ot.DEADLINE_EXCEEDED;case vs.RESOURCE_EXHAUSTED:return ot.RESOURCE_EXHAUSTED;case vs.INTERNAL:return ot.INTERNAL;case vs.UNAVAILABLE:return ot.UNAVAILABLE;case vs.UNAUTHENTICATED:return ot.UNAUTHENTICATED;case vs.INVALID_ARGUMENT:return ot.INVALID_ARGUMENT;case vs.NOT_FOUND:return ot.NOT_FOUND;case vs.ALREADY_EXISTS:return ot.ALREADY_EXISTS;case vs.PERMISSION_DENIED:return ot.PERMISSION_DENIED;case vs.FAILED_PRECONDITION:return ot.FAILED_PRECONDITION;case vs.ABORTED:return ot.ABORTED;case vs.OUT_OF_RANGE:return ot.OUT_OF_RANGE;case vs.UNIMPLEMENTED:return ot.UNIMPLEMENTED;case vs.DATA_LOSS:return ot.DATA_LOSS;default:return Kt()}}(yr=vs||(vs={}))[yr.OK=0]="OK",yr[yr.CANCELLED=1]="CANCELLED",yr[yr.UNKNOWN=2]="UNKNOWN",yr[yr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",yr[yr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",yr[yr.NOT_FOUND=5]="NOT_FOUND",yr[yr.ALREADY_EXISTS=6]="ALREADY_EXISTS",yr[yr.PERMISSION_DENIED=7]="PERMISSION_DENIED",yr[yr.UNAUTHENTICATED=16]="UNAUTHENTICATED",yr[yr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",yr[yr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",yr[yr.ABORTED=10]="ABORTED",yr[yr.OUT_OF_RANGE=11]="OUT_OF_RANGE",yr[yr.UNIMPLEMENTED=12]="UNIMPLEMENTED",yr[yr.INTERNAL=13]="INTERNAL",yr[yr.UNAVAILABLE=14]="UNAVAILABLE",yr[yr.DATA_LOSS=15]="DATA_LOSS";function tm(){return new TextEncoder}const i_=new xi([4294967295,4294967295],0);function Bu(i){const e=tm().encode(i),n=new Eo;return n.update(e),new Uint8Array(n.digest())}function Ad(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new xi([n,s],0),new xi([l,c],0)]}class af{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Hu(`Invalid padding: ${n}`);if(s<0)throw new Hu(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new Hu(`Invalid hash count: ${s}`);if(0===e.length&&0!==n)throw new Hu(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=xi.fromNumber(this.Te)}de(e,n,s){let l=e.add(n.multiply(xi.fromNumber(s)));return 1===l.compare(i_)&&(l=new xi([l.getBits(0),l.getBits(1)],0)),l.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const n=Bu(e),[s,l]=Ad(n);for(let c=0;c<this.hashCount;c++){const h=this.de(s,l,c);if(!this.Ae(h))return!1}return!0}static create(e,n,s){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),h=new af(c,l,n);return s.forEach(D=>h.insert(D)),h}insert(e){if(0===this.Te)return;const n=Bu(e),[s,l]=Ad(n);for(let c=0;c<this.hashCount;c++){const h=this.de(s,l,c);this.Re(h)}}Re(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class Hu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ql{constructor(e,n,s,l,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const l=new Map;return l.set(e,Sd.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Ql(dn.min(),l,new Yr(Tn),ys(),Qn())}}class Sd{constructor(e,n,s,l,c){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Sd(s,n,Qn(),Qn(),Qn())}}class lf{constructor(e,n,s,l){this.Ve=e,this.removedTargetIds=n,this.key=s,this.me=l}}class s_{constructor(e,n){this.targetId=e,this.fe=n}}class o_{constructor(e,n,s=ni.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=l}}class a_{constructor(){this.ge=0,this.pe=Pd(),this.ye=ni.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Qn(),n=Qn(),s=Qn();return this.pe.forEach((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:s=s.add(l);break;default:Kt()}}),new Sd(this.ye,this.we,e,n,s)}Fe(){this.Se=!1,this.pe=Pd()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Jt(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class Av{constructor(e){this.Le=e,this.ke=new Map,this.qe=ys(),this.Qe=nm(),this.Ke=new Yr(Tn)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const s=this.ze(n);switch(e.state){case 0:this.je(n)&&s.Ce(e.resumeToken);break;case 1:s.Ne(),s.be||s.Fe(),s.Ce(e.resumeToken);break;case 2:s.Ne(),s.be||this.removeTarget(n);break;case 3:this.je(n)&&(s.Be(),s.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),s.Ce(e.resumeToken));break;default:Kt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((s,l)=>{this.je(l)&&n(l)})}Je(e){const n=e.targetId,s=e.fe.count,l=this.Ye(n);if(l){const c=l.target;if(Il(c))if(0===s){const h=new Ut(c.path);this.We(n,h,ur.newNoDocument(h,dn.min()))}else Jt(1===s);else{const h=this.Ze(n);if(h!==s){const D=this.Xe(e),M=D?this.et(D,e,h):1;0!==M&&(this.He(n),this.Ke=this.Ke.insert(n,2===M?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=n;let h,D;try{h=Co(s).toUint8Array()}catch(M){if(M instanceof jh)return rn("Decoding the base64 bloom filter in existence filter failed ("+M.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw M}try{D=new af(h,l,c)}catch(M){return rn(M instanceof Hu?"BloomFilter error: ":"Applying bloom filter failed: ",M),null}return 0===D.Te?null:D}et(e,n,s){return n.fe.count===s-this.rt(e,n.targetId)?0:2}rt(e,n){const s=this.Le.getRemoteKeysForTarget(n);let l=0;return s.forEach(c=>{const h=this.Le.nt(),D=`projects/${h.projectId}/databases/${h.database}/documents/${c.path.canonicalString()}`;e.mightContain(D)||(this.We(n,c,null),l++)}),l}it(e){const n=new Map;this.ke.forEach((c,h)=>{const D=this.Ye(h);if(D){if(c.current&&Il(D.target)){const M=new Ut(D.target.path);null!==this.qe.get(M)||this.st(h,M)||this.We(h,M,ur.newNoDocument(M,e))}c.De&&(n.set(h,c.ve()),c.Fe())}});let s=Qn();this.Qe.forEach((c,h)=>{let D=!0;h.forEachWhile(M=>{const j=this.Ye(M);return!j||"TargetPurposeLimboResolution"===j.purpose||(D=!1,!1)}),D&&(s=s.add(c))}),this.qe.forEach((c,h)=>h.setReadTime(e));const l=new Ql(e,n,this.Ke,this.qe,s);return this.qe=ys(),this.Qe=nm(),this.Ke=new Yr(Tn),l}Ue(e,n){if(!this.je(e))return;const s=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,s),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,s){if(!this.je(e))return;const l=this.ze(e);this.st(e,n)?l.Me(n,1):l.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),s&&(this.qe=this.qe.insert(n,s))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new a_,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Gr(Tn),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=null!==this.Ye(e);return n||mt("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new a_),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function nm(){return new Yr(Ut.comparator)}function Pd(){return new Yr(Ut.comparator)}const rm={asc:"ASCENDING",desc:"DESCENDING"},im={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Sv={and:"AND",or:"OR"};class Pv{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Rd(i,e){return i.useProto3Json||Ua(e)?e:{value:e}}function ju(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Yl(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function l_(i,e){return ju(i,e.toTimestamp())}function Ji(i){return Jt(!!i),dn.fromTimestamp(function(n){const s=ba(n);return new ai(s.seconds,s.nanos)}(i))}function sm(i,e){return u_(i,e).canonicalString()}function u_(i,e){const n=(l=i,new Dn(["projects",l.projectId,"databases",l.database])).child("documents");var l;return void 0===e?n:n.child(e)}function Md(i){const e=Dn.fromString(i);return Jt(p_(e)),e}function xd(i,e){return sm(i.databaseId,e.path)}function Sa(i,e){const n=Md(e);if(n.get(1)!==i.databaseId.projectId)throw new _t(ot.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new _t(ot.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Ut(lm(n))}function om(i,e){return sm(i.databaseId,e)}function am(i){const e=Md(i);return 4===e.length?Dn.emptyPath():lm(e)}function Od(i){return new Dn(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function lm(i){return Jt(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function Nd(i,e,n){return{name:xd(i,e),fields:n.value.mapValue.fields}}function Nc(i,e,n){const s=Sa(i,e.name),l=Ji(e.updateTime),c=e.createTime?Ji(e.createTime):dn.min(),h=new $i({mapValue:{fields:e.fields}}),D=ur.newFoundDocument(s,l,c,h);return n&&D.setHasCommittedMutations(),n?D.setHasCommittedMutations():D}function Jl(i,e){let n;if(e instanceof Vu)n={update:Nd(i,e.key,e.value)};else if(e instanceof Uu)n={delete:xd(i,e.key)};else if(e instanceof qa)n={update:Nd(i,e.key,e.data),updateMask:xv(e.fieldMask)};else{if(!(e instanceof Qp))return Kt();n={verify:xd(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(c,h){const D=h.transform;if(D instanceof wl)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(D instanceof Wa)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:D.elements}};if(D instanceof Lu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:D.elements}};if(D instanceof ku)return{fieldPath:h.field.canonicalString(),increment:D.Ie};throw Kt()}(0,s))),e.precondition.isNone||(n.currentDocument=void 0!==(c=e.precondition).updateTime?{updateTime:l_(i,c.updateTime)}:void 0!==c.exists?{exists:c.exists}:Kt()),n;var c}function uf(i,e){const n=e.currentDocument?void 0!==(c=e.currentDocument).updateTime?Ni.updateTime(Ji(c.updateTime)):void 0!==c.exists?Ni.exists(c.exists):Ni.none():Ni.none(),s=e.updateTransforms?e.updateTransforms.map(l=>function(h,D){let M=null;"setToServerValue"in D?(Jt("REQUEST_TIME"===D.setToServerValue),M=new wl):"appendMissingElements"in D?M=new Wa(D.appendMissingElements.values||[]):"removeAllFromArray"in D?M=new Lu(D.removeAllFromArray.values||[]):"increment"in D?M=new ku(h,D.increment):Kt();const j=xr.fromServerFormat(D.fieldPath);return new bd(j,M)}(i,l)):[];var c;if(e.update){const l=Sa(i,e.update.name),c=new $i({mapValue:{fields:e.update.fields}});if(e.updateMask){const h=new Ss((e.updateMask.fieldPaths||[]).map(X=>xr.fromServerFormat(X)));return new qa(l,c,h,n,s)}return new Vu(l,c,n,s)}if(e.delete){const l=Sa(i,e.delete);return new Uu(l,n)}if(e.verify){const l=Sa(i,e.verify);return new Qp(l,n)}return Kt()}function Lc(i,e){return{documents:[om(i,e.path)]}}function dm(i,e){const n={structuredQuery:{}},s=e.path;let l;null!==e.collectionGroup?(l=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=om(i,l);const c=function(j){if(0!==j.length)return $u(Xr.create(j,"and"))}(e.filters);c&&(n.structuredQuery.where=c);const h=function(j){if(0!==j.length)return j.map(X=>{return{field:Pa((Le=X).field),direction:Mv(Le.dir)};var Le})}(e.orderBy);h&&(n.structuredQuery.orderBy=h);const D=Rd(i,e.limit);return null!==D&&(n.structuredQuery.limit=D),e.startAt&&(n.structuredQuery.startAt={before:(j=e.startAt).inclusive,values:j.position}),e.endAt&&(n.structuredQuery.endAt=function(j){return{before:!j.inclusive,values:j.position}}(e.endAt)),{ut:n,parent:l};var j}function hm(i){let e=am(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let l=null;if(s>0){Jt(1===s);const X=n.from[0];X.allDescendants?l=X.collectionId:e=e.child(X.collectionId)}let c=[];n.where&&(c=function(fe){const Le=d_(fe);return Le instanceof Xr&&za(Le)?Le.getFilters():[Le]}(n.where));let h=[];n.orderBy&&(h=n.orderBy.map(Le=>{return new Aa(Xl((Rt=Le).field),function(jt){switch(jt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Rt.direction));var Rt}));let D=null;n.limit&&(D=function(fe){let Le;return Le="object"==typeof fe?fe.value:fe,Ua(Le)?null:Le}(n.limit));let M=null;var fe;n.startAt&&(M=new bo((fe=n.startAt).values||[],!!fe.before));let j=null;return n.endAt&&(j=function(fe){return new bo(fe.values||[],!fe.before)}(n.endAt)),Ou(e,l,h,c,D,"F",M,j)}function d_(i){return void 0!==i.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Xl(n.unaryFilter.field);return _r.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Xl(n.unaryFilter.field);return _r.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Xl(n.unaryFilter.field);return _r.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Xl(n.unaryFilter.field);return _r.create(h,"!=",{nullValue:"NULL_VALUE"});default:return Kt()}}(i):void 0!==i.fieldFilter?_r.create(Xl((n=i).fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Kt()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==i.compositeFilter?function(n){return Xr.create(n.compositeFilter.filters.map(s=>d_(s)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Kt()}}(n.compositeFilter.op))}(i):Kt();var n}function Mv(i){return rm[i]}function h_(i){return im[i]}function f_(i){return Sv[i]}function Pa(i){return{fieldPath:i.canonicalString()}}function Xl(i){return xr.fromServerFormat(i.fieldPath)}function $u(i){return i instanceof _r?function(n){if("=="===n.op){if(Bp(n.value))return{unaryFilter:{field:Pa(n.field),op:"IS_NAN"}};if(zh(n.value))return{unaryFilter:{field:Pa(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(Bp(n.value))return{unaryFilter:{field:Pa(n.field),op:"IS_NOT_NAN"}};if(zh(n.value))return{unaryFilter:{field:Pa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pa(n.field),op:h_(n.op),value:n.value}}}(i):i instanceof Xr?function(n){const s=n.getFilters().map(l=>$u(l));return 1===s.length?s[0]:{compositeFilter:{op:f_(n.op),filters:s}}}(i):Kt()}function xv(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function p_(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class eu{constructor(e,n,s,l,c=dn.min(),h=dn.min(),D=ni.EMPTY_BYTE_STRING,M=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=D,this.expectedCount=M}withSequenceNumber(e){return new eu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new eu(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new eu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new eu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class m_{constructor(e){this.ct=e}}function g_(i,e){const n=e.key,s={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Cl(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:xd(c=i.ct,(h=e).key),fields:h.data.value.mapValue.fields,updateTime:ju(c,h.version.toTimestamp()),createTime:ju(c,h.createTime.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:n.path.toArray(),readTime:Ka(e.version)};else{if(!e.isUnknownDocument())return Kt();s.unknownDocument={path:n.path.toArray(),version:Ka(e.version)}}var c,h;return s}function Cl(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function Ka(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function bl(i){const e=new ai(i.seconds,i.nanoseconds);return dn.fromTimestamp(e)}function tu(i,e){const n=(e.baseMutations||[]).map(c=>uf(i.ct,c));for(let c=0;c<e.mutations.length-1;++c)c+1<e.mutations.length&&void 0!==e.mutations[c+1].transform&&(e.mutations[c].updateTransforms=e.mutations[c+1].transform.fieldTransforms,e.mutations.splice(c+1,1),++c);const s=e.mutations.map(c=>uf(i.ct,c)),l=ai.fromMillis(e.localWriteTimeMs);return new sf(e.batchId,l,n,s)}function kc(i){const e=bl(i.readTime),n=void 0!==i.lastLimboFreeSnapshotVersion?bl(i.lastLimboFreeSnapshotVersion):dn.min();let s;return s=void 0!==i.query.documents?(Jt(1===(c=i.query).documents.length),C(ql(am(c.documents[0])))):function(c){return C(hm(c))}(i.query),new eu(s,i.targetId,"TargetPurposeListen",i.lastListenSequenceNumber,e,n,ni.fromBase64String(i.resumeToken));var c}function pm(i,e){const n=Ka(e.snapshotVersion),s=Ka(e.lastLimboFreeSnapshotVersion);let l;l=Il(e.target)?Lc(i.ct,e.target):dm(i.ct,e.target).ut;const c=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ga(e.target),readTime:n,resumeToken:c,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:l}}function Dl(i){const e=hm({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?Ve(e,e.limit,"L"):e}function mm(i,e){return new Jp(e.largestBatchId,uf(i.ct,e.overlayMutation))}function __(i,e){const n=e.path.lastSegment();return[i,ji(e.path.popLast()),n]}function y_(i,e,n,s){return{indexId:i,uid:e,sequenceNumber:n,readTime:Ka(s.readTime),documentKey:ji(s.documentKey.path),largestBatchId:s.largestBatchId}}class Ov{getBundleMetadata(e,n){return v_(e).get(n).next(s=>{if(s)return{id:(c=s).bundleId,createTime:bl(c.createTime),version:c.version};var c})}saveBundleMetadata(e,n){return v_(e).put({bundleId:(l=n).id,createTime:Ka(Ji(l.createTime)),version:l.version});var l}getNamedQuery(e,n){return Za(e).get(n).next(s=>{if(s)return{name:(c=s).name,query:Dl(c.bundledQuery),readTime:bl(c.readTime)};var c})}saveNamedQuery(e,n){return Za(e).put({name:(l=n).name,readTime:Ka(Ji(l.readTime)),bundledQuery:l.bundledQuery});var l}}function v_(i){return ms(i,"bundles")}function Za(i){return ms(i,"namedQueries")}class Al{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){return new Al(e,n.uid||"")}getOverlay(e,n){return Ld(e).get(__(this.userId,n)).next(s=>s?mm(this.serializer,s):null)}getOverlays(e,n){const s=ua();return ce.forEach(n,l=>this.getOverlay(e,l).next(c=>{null!==c&&s.set(l,c)})).next(()=>s)}saveOverlays(e,n,s){const l=[];return s.forEach((c,h)=>{const D=new Jp(n,h);l.push(this.ht(e,D))}),ce.waitFor(l)}removeOverlaysForBatchId(e,n,s){const l=new Set;n.forEach(h=>l.add(ji(h.getCollectionPath())));const c=[];return l.forEach(h=>{const D=IDBKeyRange.bound([this.userId,h,s],[this.userId,h,s+1],!1,!0);c.push(Ld(e).H("collectionPathOverlayIndex",D))}),ce.waitFor(c)}getOverlaysForCollection(e,n,s){const l=ua(),c=ji(n),h=IDBKeyRange.bound([this.userId,c,s],[this.userId,c,Number.POSITIVE_INFINITY],!0);return Ld(e).W("collectionPathOverlayIndex",h).next(D=>{for(const M of D){const j=mm(this.serializer,M);l.set(j.getKey(),j)}return l})}getOverlaysForCollectionGroup(e,n,s,l){const c=ua();let h;const D=IDBKeyRange.bound([this.userId,n,s],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Ld(e).Y({index:"collectionGroupOverlayIndex",range:D},(M,j,X)=>{const fe=mm(this.serializer,j);c.size()<l||fe.largestBatchId===h?(c.set(fe.getKey(),fe),h=fe.largestBatchId):X.done()}).next(()=>c)}ht(e,n){return Ld(e).put(function(l,c,h){const[D,M,j]=__(c,h.mutation.key);return{userId:c,collectionPath:M,documentId:j,collectionGroup:h.mutation.key.getCollectionGroup(),largestBatchId:h.largestBatchId,overlayMutation:Jl(l.ct,h.mutation)}}(this.serializer,this.userId,n))}}function Ld(i){return ms(i,"documentOverlays")}class zu{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(di(e.integerValue));else if("doubleValue"in e){const s=di(e.doubleValue);isNaN(s)?this.Et(n,13):(this.Et(n,15),ho(s)?n.dt(0):n.dt(s))}else if("timestampValue"in e){const s=e.timestampValue;this.Et(n,20),"string"==typeof s?n.At(s):(n.At(`${s.seconds||""}`),n.dt(s.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(Co(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){const s=e.geoPointValue;this.Et(n,45),n.dt(s.latitude||0),n.dt(s.longitude||0)}else"mapValue"in e?yl(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):Kt()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){const s=e.fields||{};this.Et(n,55);for(const l of Object.keys(s))this.Rt(l,n),this.It(s[l],n)}wt(e,n){const s=e.values||[];this.Et(n,50);for(const l of s)this.It(l,n)}gt(e,n){this.Et(n,37),Ut.fromName(e).path.forEach(s=>{this.Et(n,60),this.St(s,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}}function Nv(i){if(0===i)return 8;let e=0;return!(i>>4)&&(e+=4,i<<=4),!(i>>6)&&(e+=2,i<<=2),!(i>>7)&&(e+=1),e}function I_(i){const e=64-function(s){let l=0;for(let c=0;c<8;++c){const h=Nv(255&s[c]);if(l+=h,8!==h)break}return l}(i);return Math.ceil(e/8)}zu.bt=new zu;class Lv{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const n=e[Symbol.iterator]();let s=n.next();for(;!s.done;)this.Ct(s.value),s=n.next();this.vt()}Ft(e){const n=e[Symbol.iterator]();let s=n.next();for(;!s.done;)this.Mt(s.value),s=n.next();this.xt()}Ot(e){for(const n of e){const s=n.charCodeAt(0);if(s<128)this.Ct(s);else if(s<2048)this.Ct(960|s>>>6),this.Ct(128|63&s);else if(n<"\ud800"||"\udbff"<n)this.Ct(480|s>>>12),this.Ct(128|63&s>>>6),this.Ct(128|63&s);else{const l=n.codePointAt(0);this.Ct(240|l>>>18),this.Ct(128|63&l>>>12),this.Ct(128|63&l>>>6),this.Ct(128|63&l)}}this.vt()}Nt(e){for(const n of e){const s=n.charCodeAt(0);if(s<128)this.Mt(s);else if(s<2048)this.Mt(960|s>>>6),this.Mt(128|63&s);else if(n<"\ud800"||"\udbff"<n)this.Mt(480|s>>>12),this.Mt(128|63&s>>>6),this.Mt(128|63&s);else{const l=n.codePointAt(0);this.Mt(240|l>>>18),this.Mt(128|63&l>>>12),this.Mt(128|63&l>>>6),this.Mt(128|63&l)}}this.xt()}Bt(e){const n=this.Lt(e),s=I_(n);this.kt(1+s),this.buffer[this.position++]=255&s;for(let l=n.length-s;l<n.length;++l)this.buffer[this.position++]=255&n[l]}qt(e){const n=this.Lt(e),s=I_(n);this.kt(1+s),this.buffer[this.position++]=~(255&s);for(let l=n.length-s;l<n.length;++l)this.buffer[this.position++]=~(255&n[l])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Lt(e){const n=function(c){const h=new DataView(new ArrayBuffer(8));return h.setFloat64(0,c,!1),new Uint8Array(h.buffer)}(e),s=0!=(128&n[0]);n[0]^=s?255:128;for(let l=1;l<n.length;++l)n[l]^=s?255:0;return n}Ct(e){const n=255&e;0===n?(this.Kt(0),this.Kt(255)):255===n?(this.Kt(255),this.Kt(0)):this.Kt(n)}Mt(e){const n=255&e;0===n?(this.Ut(0),this.Ut(255)):255===n?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const n=e+this.position;if(n<=this.buffer.length)return;let s=2*this.buffer.length;s<n&&(s=n);const l=new Uint8Array(s);l.set(this.buffer),this.buffer=l}}class kv{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Bt(e)}Tt(){this.Gt.Qt()}}class E_{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class kd{constructor(){this.Gt=new Lv,this.zt=new kv(this.Gt),this.jt=new E_(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return 0===e?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class Gu{constructor(e,n,s,l){this.indexId=e,this.documentKey=n,this.arrayValue=s,this.directionalValue=l}Jt(){const e=this.directionalValue.length,n=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(n);return s.set(this.directionalValue,0),n!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new Gu(this.indexId,this.documentKey,this.arrayValue,s)}}function nu(i,e){let n=i.indexId-e.indexId;return 0!==n?n:(n=T_(i.arrayValue,e.arrayValue),0!==n?n:(n=T_(i.directionalValue,e.directionalValue),0!==n?n:Ut.comparator(i.documentKey,e.documentKey)))}function T_(i,e){for(let n=0;n<i.length&&n<e.length;++n){const s=i[n]-e[n];if(0!==s)return s}return i.length-e.length}class Fd{constructor(e){this.Yt=new Gr((n,s)=>xr.comparator(n.field,s.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const n of e.filters){const s=n;s.isInequality()?this.Yt=this.Yt.add(s):this.Xt.push(s)}}get en(){return this.Yt.size>1}tn(e){if(Jt(e.collectionGroup===this.collectionId),this.en)return!1;const n=cl(e);if(void 0!==n&&!this.nn(n))return!1;const s=oa(e);let l=new Set,c=0,h=0;for(;c<s.length&&this.nn(s[c]);++c)l=l.add(s[c].fieldPath.canonicalString());if(c===s.length)return!0;if(this.Yt.size>0){const D=this.Yt.getIterator().getNext();if(!l.has(D.field.canonicalString())){const M=s[c];if(!this.rn(D,M)||!this.sn(this.Zt[h++],M))return!1}++c}for(;c<s.length;++c)if(h>=this.Zt.length||!this.sn(this.Zt[h++],s[c]))return!1;return!0}on(){if(this.en)return null;let e=new Gr(xr.comparator);const n=[];for(const s of this.Xt)if(!s.field.isKeyField())if("array-contains"===s.op||"array-contains-any"===s.op)n.push(new Fa(s.field,2));else{if(e.has(s.field))continue;e=e.add(s.field),n.push(new Fa(s.field,0))}for(const s of this.Zt)s.field.isKeyField()||e.has(s.field)||(e=e.add(s.field),n.push(new Fa(s.field,"asc"===s.dir?0:1)));return new As(As.UNKNOWN_ID,this.collectionId,n,aa.empty())}nn(e){for(const n of this.Xt)if(this.rn(n,e))return!0;return!1}rn(e,n){return!(void 0===e||!e.field.isEqual(n.fieldPath))&&2===n.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,n){return!!e.field.isEqual(n.fieldPath)&&(0===n.kind&&"asc"===e.dir||1===n.kind&&"desc"===e.dir)}}function Qa(i){var e,n;if(Jt(i instanceof _r||i instanceof Xr),i instanceof _r){if(i instanceof Sc){const l=(null===(n=null===(e=i.value.arrayValue)||void 0===e?void 0:e.values)||void 0===n?void 0:n.map(c=>_r.create(i.field,"==",c)))||[];return Xr.create(l,"or")}return i}const s=i.filters.map(l=>Qa(l));return Xr.create(s,i.op)}function Vd(i){if(0===i.getFilters().length)return[];const e=w_(Qa(i));return Jt(gm(e)),cf(e)||df(e)?[e]:e.getFilters()}function cf(i){return i instanceof _r}function df(i){return i instanceof Xr&&za(i)}function gm(i){return cf(i)||df(i)||function(n){if(n instanceof Xr&&Pu(n)){for(const s of n.getFilters())if(!cf(s)&&!df(s))return!1;return!0}return!1}(i)}function w_(i){if(Jt(i instanceof _r||i instanceof Xr),i instanceof _r)return i;if(1===i.filters.length)return w_(i.filters[0]);const e=i.filters.map(s=>w_(s));let n=Xr.create(e,i.op);return n=Fc(n),gm(n)?n:(Jt(n instanceof Xr),Jt(_s(n)),Jt(n.filters.length>1),n.filters.reduce((s,l)=>C_(s,l)))}function C_(i,e){let n;return Jt(i instanceof _r||i instanceof Xr),Jt(e instanceof _r||e instanceof Xr),n=i instanceof _r?e instanceof _r?Xr.create([i,e],"and"):Fv(i,e):e instanceof _r?Fv(e,i):function(l,c){if(Jt(l.filters.length>0&&c.filters.length>0),_s(l)&&_s(c))return Dc(l,c.getFilters());const h=Pu(l)?l:c,D=Pu(l)?c:l,M=h.filters.map(j=>C_(j,D));return Xr.create(M,"or")}(i,e),Fc(n)}function Fv(i,e){if(_s(e))return Dc(e,i.getFilters());{const n=e.filters.map(s=>C_(i,s));return Xr.create(n,"or")}}function Fc(i){if(Jt(i instanceof _r||i instanceof Xr),i instanceof _r)return i;const e=i.getFilters();if(1===e.length)return Fc(e[0]);if(Id(i))return i;const n=e.map(l=>Fc(l)),s=[];return n.forEach(l=>{l instanceof _r?s.push(l):l instanceof Xr&&(l.op===i.op?s.push(...l.filters):s.push(l))}),1===s.length?s[0]:Xr.create(s,i.op)}class _m{constructor(){this._n=new b_}addToCollectionParentIndex(e,n){return this._n.add(n),ce.resolve()}getCollectionParents(e,n){return ce.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return ce.resolve()}deleteFieldIndex(e,n){return ce.resolve()}deleteAllFieldIndexes(e){return ce.resolve()}createTargetIndexes(e,n){return ce.resolve()}getDocumentsMatchingTarget(e,n){return ce.resolve(null)}getIndexType(e,n){return ce.resolve(0)}getFieldIndexes(e,n){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,n){return ce.resolve(S.min())}getMinOffsetFromCollectionGroup(e,n){return ce.resolve(S.min())}updateCollectionGroup(e,n,s){return ce.resolve()}updateIndexEntries(e,n){return ce.resolve()}}class b_{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),l=this.index[n]||new Gr(Dn.comparator),c=!l.has(s);return this.index[n]=l.add(s),c}has(e){const n=e.lastSegment(),s=e.popLast(),l=this.index[n];return l&&l.has(s)}getEntries(e){return(this.index[e]||new Gr(Dn.comparator)).toArray()}}const ym=new Uint8Array(0);class D_{constructor(e,n){this.databaseId=n,this.an=new b_,this.un=new Go(s=>Ga(s),(s,l)=>vl(s,l)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.an.has(n)){const s=n.lastSegment(),l=n.popLast();e.addOnCommittedListener(()=>{this.an.add(n)});const c={collectionId:s,parent:ji(l)};return A_(e).put(c)}return ce.resolve()}getCollectionParents(e,n){const s=[],l=IDBKeyRange.bound([n,""],[Ul(n),""],!1,!0);return A_(e).W(l).next(c=>{for(const h of c){if(h.collectionId!==n)break;s.push(Ho(h.parent))}return s})}addFieldIndex(e,n){const s=Ud(e),l={indexId:(D=n).indexId,collectionGroup:D.collectionGroup,fields:D.fields.map(M=>[M.fieldPath.canonicalString(),M.kind])};var D;delete l.indexId;const c=s.add(l);if(n.indexState){const h=Uc(e);return c.next(D=>{h.put(y_(D,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return c.next()}deleteFieldIndex(e,n){const s=Ud(e),l=Uc(e),c=Vc(e);return s.delete(n.indexId).next(()=>l.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>c.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=Ud(e),s=Vc(e),l=Uc(e);return n.H().next(()=>s.H()).next(()=>l.H())}createTargetIndexes(e,n){return ce.forEach(this.cn(n),s=>this.getIndexType(e,s).next(l=>{if(0===l||1===l){const c=new Fd(s).on();if(null!=c)return this.addFieldIndex(e,c)}}))}getDocumentsMatchingTarget(e,n){const s=Vc(e);let l=!0;const c=new Map;return ce.forEach(this.cn(n),h=>this.ln(e,h).next(D=>{l&&(l=!!D),c.set(h,D)})).next(()=>{if(l){let h=Qn();const D=[];return ce.forEach(c,(M,j)=>{var mn;mt("IndexedDbIndexManager",`Using index ${mn=M,`id=${mn.indexId}|cg=${mn.collectionGroup}|f=${mn.fields.map(Xn=>`${Xn.fieldPath}:${Xn.kind}`).join(",")}`} to execute ${Ga(n)}`);const X=function(mn,Xn){const Or=cl(Xn);if(void 0===Or)return null;for(const Wr of xu(mn,Or.fieldPath))switch(Wr.op){case"array-contains-any":return Wr.value.arrayValue.values||[];case"array-contains":return[Wr.value]}return null}(j,M),fe=function(mn,Xn){const Or=new Map;for(const Wr of oa(Xn))for(const es of xu(mn,Wr.fieldPath))switch(es.op){case"==":case"in":Or.set(Wr.fieldPath.canonicalString(),es.value);break;case"not-in":case"!=":return Or.set(Wr.fieldPath.canonicalString(),es.value),Array.from(Or.values())}return null}(j,M),Le=function(mn,Xn){const Or=[];let Wr=!0;for(const es of oa(Xn)){const Yo=0===es.kind?Yh(mn,es.fieldPath,mn.startAt):wd(mn,es.fieldPath,mn.startAt);Or.push(Yo.value),Wr&&(Wr=Yo.inclusive)}return new bo(Or,Wr)}(j,M),Je=function(mn,Xn){const Or=[];let Wr=!0;for(const es of oa(Xn)){const Yo=0===es.kind?wd(mn,es.fieldPath,mn.endAt):Yh(mn,es.fieldPath,mn.endAt);Or.push(Yo.value),Wr&&(Wr=Yo.inclusive)}return new bo(Or,Wr)}(j,M),Rt=this.hn(M,j,Le),Gt=this.hn(M,j,Je),jt=this.Pn(M,j,fe),gn=this.In(M.indexId,X,Rt,Le.inclusive,Gt,Je.inclusive,jt);return ce.forEach(gn,Jn=>s.j(Jn,n.limit).next(mn=>{mn.forEach(Xn=>{const Or=Ut.fromSegments(Xn.documentKey);h.has(Or)||(h=h.add(Or),D.push(Or))})}))}).next(()=>D)}return ce.resolve(null)})}cn(e){let n=this.un.get(e);return n||(n=0===e.filters.length?[e]:Vd(Xr.create(e.filters,"and")).map(s=>Rc(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,n),n)}In(e,n,s,l,c,h,D){const M=(null!=n?n.length:1)*Math.max(s.length,c.length),j=M/(null!=n?n.length:1),X=[];for(let fe=0;fe<M;++fe){const Le=n?this.Tn(n[fe/j]):ym,Je=this.En(e,Le,s[fe%j],l),Rt=this.dn(e,Le,c[fe%j],h),Gt=D.map(jt=>this.En(e,Le,jt,!0));X.push(...this.createRange(Je,Rt,Gt))}return X}En(e,n,s,l){const c=new Gu(e,Ut.empty(),n,s);return l?c:c.Jt()}dn(e,n,s,l){const c=new Gu(e,Ut.empty(),n,s);return l?c.Jt():c}ln(e,n){const s=new Fd(n),l=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,l).next(c=>{let h=null;for(const D of c)s.tn(D)&&(!h||D.fields.length>h.fields.length)&&(h=D);return h})}getIndexType(e,n){let s=2;const l=this.cn(n);return ce.forEach(l,c=>this.ln(e,c).next(h=>{h?0!==s&&h.fields.length<function(M){let j=new Gr(xr.comparator),X=!1;for(const fe of M.filters)for(const Le of fe.getFlattenedFilters())Le.field.isKeyField()||("array-contains"===Le.op||"array-contains-any"===Le.op?X=!0:j=j.add(Le.field));for(const fe of M.orderBy)fe.field.isKeyField()||(j=j.add(fe.field));return j.size+(X?1:0)}(c)&&(s=1):s=0})).next(()=>null!==n.limit&&l.length>1&&2===s?1:s)}An(e,n){const s=new kd;for(const l of oa(e)){const c=n.data.field(l.fieldPath);if(null==c)return null;const h=s.Ht(l.kind);zu.bt.Pt(c,h)}return s.Wt()}Tn(e){const n=new kd;return zu.bt.Pt(e,n.Ht(0)),n.Wt()}Rn(e,n){const s=new kd;return zu.bt.Pt(Da(this.databaseId,n),s.Ht(function(c){const h=oa(c);return 0===h.length?0:h[h.length-1].kind}(e))),s.Wt()}Pn(e,n,s){if(null===s)return[];let l=[];l.push(new kd);let c=0;for(const h of oa(e)){const D=s[c++];for(const M of l)if(this.Vn(n,h.fieldPath)&&Cc(D))l=this.mn(l,h,D);else{const j=M.Ht(h.kind);zu.bt.Pt(D,j)}}return this.fn(l)}hn(e,n,s){return this.Pn(e,n,s.position)}fn(e){const n=[];for(let s=0;s<e.length;++s)n[s]=e[s].Wt();return n}mn(e,n,s){const l=[...e],c=[];for(const h of s.arrayValue.values||[])for(const D of l){const M=new kd;M.seed(D.Wt()),zu.bt.Pt(h,M.Ht(n.kind)),c.push(M)}return c}Vn(e,n){return!!e.filters.find(s=>s instanceof _r&&s.field.isEqual(n)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,n){const s=Ud(e),l=Uc(e);return(n?s.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):s.W()).next(c=>{const h=[];return ce.forEach(c,D=>l.get([D.indexId,this.uid]).next(M=>{h.push(function(X,fe){const Le=fe?new aa(fe.sequenceNumber,new S(bl(fe.readTime),new Ut(Ho(fe.documentKey)),fe.largestBatchId)):aa.empty(),Je=X.fields.map(([Rt,Gt])=>new Fa(xr.fromServerFormat(Rt),Gt));return new As(X.indexId,X.collectionGroup,Je,Le)}(D,M))})).next(()=>h)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>0===n.length?null:(n.sort((s,l)=>{const c=s.indexState.sequenceNumber-l.indexState.sequenceNumber;return 0!==c?c:Tn(s.collectionGroup,l.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,s){const l=Ud(e),c=Uc(e);return this.gn(e).next(h=>l.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(D=>ce.forEach(D,M=>c.put(y_(M.indexId,this.uid,h,s)))))}updateIndexEntries(e,n){const s=new Map;return ce.forEach(n,(l,c)=>{const h=s.get(l.collectionGroup);return(h?ce.resolve(h):this.getFieldIndexes(e,l.collectionGroup)).next(D=>(s.set(l.collectionGroup,D),ce.forEach(D,M=>this.pn(e,l,M).next(j=>{const X=this.yn(c,M);return j.isEqual(X)?ce.resolve():this.wn(e,c,M,j,X)}))))})}Sn(e,n,s,l){return Vc(e).put({indexId:l.indexId,uid:this.uid,arrayValue:l.arrayValue,directionalValue:l.directionalValue,orderedDocumentKey:this.Rn(s,n.key),documentKey:n.key.path.toArray()})}bn(e,n,s,l){return Vc(e).delete([l.indexId,this.uid,l.arrayValue,l.directionalValue,this.Rn(s,n.key),n.key.path.toArray()])}pn(e,n,s){const l=Vc(e);let c=new Gr(nu);return l.Y({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.Rn(s,n)])},(h,D)=>{c=c.add(new Gu(s.indexId,n,D.arrayValue,D.directionalValue))}).next(()=>c)}yn(e,n){let s=new Gr(nu);const l=this.An(n,e);if(null==l)return s;const c=cl(n);if(null!=c){const h=e.data.field(c.fieldPath);if(Cc(h))for(const D of h.arrayValue.values||[])s=s.add(new Gu(n.indexId,e.key,this.Tn(D),l))}else s=s.add(new Gu(n.indexId,e.key,ym,l));return s}wn(e,n,s,l,c){mt("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const h=[];return function(M,j,X,fe,Le){const Je=M.getIterator(),Rt=j.getIterator();let Gt=gl(Je),jt=gl(Rt);for(;Gt||jt;){let gn=!1,Jn=!1;if(Gt&&jt){const mn=X(Gt,jt);mn<0?Jn=!0:mn>0&&(gn=!0)}else null!=Gt?Jn=!0:gn=!0;gn?(fe(jt),jt=gl(Rt)):Jn?(Le(Gt),Gt=gl(Je)):(Gt=gl(Je),jt=gl(Rt))}}(l,c,nu,D=>{h.push(this.Sn(e,n,s,D))},D=>{h.push(this.bn(e,n,s,D))}),ce.waitFor(h)}gn(e){let n=1;return Uc(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,l,c)=>{c.done(),n=l.sequenceNumber+1}).next(()=>n)}createRange(e,n,s){s=s.sort((h,D)=>nu(h,D)).filter((h,D,M)=>!D||0!==nu(h,M[D-1]));const l=[];l.push(e);for(const h of s){const D=nu(h,e),M=nu(h,n);if(0===D)l[0]=e.Jt();else if(D>0&&M<0)l.push(h),l.push(h.Jt());else if(M>0)break}l.push(n);const c=[];for(let h=0;h<l.length;h+=2){if(this.Dn(l[h],l[h+1]))return[];c.push(IDBKeyRange.bound([l[h].indexId,this.uid,l[h].arrayValue,l[h].directionalValue,ym,[]],[l[h+1].indexId,this.uid,l[h+1].arrayValue,l[h+1].directionalValue,ym,[]]))}return c}Dn(e,n){return nu(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(vm)}getMinOffset(e,n){return ce.mapArray(this.cn(n),s=>this.ln(e,s).next(l=>l||Kt())).next(vm)}}function A_(i){return ms(i,"collectionParents")}function Vc(i){return ms(i,"indexEntries")}function Ud(i){return ms(i,"indexConfiguration")}function Uc(i){return ms(i,"indexState")}function vm(i){Jt(0!==i.length);let e=i[0].indexState.offset,n=e.largestBatchId;for(let s=1;s<i.length;s++){const l=i[s].indexState.offset;v(l,e)<0&&(e=l),n<l.largestBatchId&&(n=l.largestBatchId)}return new S(e.readTime,e.documentKey,n)}const Bd={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Gs{constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new Gs(e,Gs.DEFAULT_COLLECTION_PERCENTILE,Gs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function hf(i,e,n){const s=i.store("mutations"),l=i.store("documentMutations"),c=[],h=IDBKeyRange.only(n.batchId);let D=0;const M=s.Y({range:h},(X,fe,Le)=>(D++,Le.delete()));c.push(M.next(()=>{Jt(1===D)}));const j=[];for(const X of n.mutations){const fe=Tc(e,X.key.path,n.batchId);c.push(l.delete(fe)),j.push(X.key)}return ce.waitFor(c).next(()=>j)}function ff(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw Kt();e=i.noDocument}return JSON.stringify(e).length}Gs.DEFAULT_COLLECTION_PERCENTILE=10,Gs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gs.DEFAULT=new Gs(41943040,Gs.DEFAULT_COLLECTION_PERCENTILE,Gs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gs.DISABLED=new Gs(-1,0,0);class Ya{constructor(e,n,s,l){this.userId=e,this.serializer=n,this.indexManager=s,this.referenceDelegate=l,this.Cn={}}static lt(e,n,s,l){Jt(""!==e.uid);const c=e.isAuthenticated()?e.uid:"";return new Ya(c,n,s,l)}checkEmpty(e){let n=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ru(e).Y({index:"userMutationsIndex",range:s},(l,c,h)=>{n=!1,h.done()}).next(()=>n)}addMutationBatch(e,n,s,l){const c=iu(e),h=ru(e);return h.add({}).next(D=>{Jt("number"==typeof D);const M=new sf(D,n,s,l),j=function(Je,Rt,Gt){const jt=Gt.baseMutations.map(Jn=>Jl(Je.ct,Jn)),gn=Gt.mutations.map(Jn=>Jl(Je.ct,Jn));return{userId:Rt,batchId:Gt.batchId,localWriteTimeMs:Gt.localWriteTime.toMillis(),baseMutations:jt,mutations:gn}}(this.serializer,this.userId,M),X=[];let fe=new Gr((Le,Je)=>Tn(Le.canonicalString(),Je.canonicalString()));for(const Le of l){const Je=Tc(this.userId,Le.key.path,D);fe=fe.add(Le.key.path.popLast()),X.push(h.put(j)),X.push(c.put(Je,Hl))}return fe.forEach(Le=>{X.push(this.indexManager.addToCollectionParentIndex(e,Le))}),e.addOnCommittedListener(()=>{this.Cn[D]=M.keys()}),ce.waitFor(X).next(()=>M)})}lookupMutationBatch(e,n){return ru(e).get(n).next(s=>s?(Jt(s.userId===this.userId),tu(this.serializer,s)):null)}vn(e,n){return this.Cn[n]?ce.resolve(this.Cn[n]):this.lookupMutationBatch(e,n).next(s=>{if(s){const l=s.keys();return this.Cn[n]=l,l}return null})}getNextMutationBatchAfterBatchId(e,n){const s=n+1,l=IDBKeyRange.lowerBound([this.userId,s]);let c=null;return ru(e).Y({index:"userMutationsIndex",range:l},(h,D,M)=>{D.userId===this.userId&&(Jt(D.batchId>=s),c=tu(this.serializer,D)),M.done()}).next(()=>c)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return ru(e).Y({index:"userMutationsIndex",range:n,reverse:!0},(l,c,h)=>{s=c.batchId,h.done()}).next(()=>s)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ru(e).W("userMutationsIndex",n).next(s=>s.map(l=>tu(this.serializer,l)))}getAllMutationBatchesAffectingDocumentKey(e,n){const s=Ba(this.userId,n.path),l=IDBKeyRange.lowerBound(s),c=[];return iu(e).Y({range:l},(h,D,M)=>{const[j,X,fe]=h,Le=Ho(X);if(j===this.userId&&n.path.isEqual(Le))return ru(e).get(fe).next(Je=>{if(!Je)throw Kt();Jt(Je.userId===this.userId),c.push(tu(this.serializer,Je))});M.done()}).next(()=>c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Gr(Tn);const l=[];return n.forEach(c=>{const h=Ba(this.userId,c.path),D=IDBKeyRange.lowerBound(h),M=iu(e).Y({range:D},(j,X,fe)=>{const[Le,Je,Rt]=j,Gt=Ho(Je);Le===this.userId&&c.path.isEqual(Gt)?s=s.add(Rt):fe.done()});l.push(M)}),ce.waitFor(l).next(()=>this.Fn(e,s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,l=s.length+1,c=Ba(this.userId,s),h=IDBKeyRange.lowerBound(c);let D=new Gr(Tn);return iu(e).Y({range:h},(M,j,X)=>{const[fe,Le,Je]=M,Rt=Ho(Le);fe===this.userId&&s.isPrefixOf(Rt)?Rt.length===l&&(D=D.add(Je)):X.done()}).next(()=>this.Fn(e,D))}Fn(e,n){const s=[],l=[];return n.forEach(c=>{l.push(ru(e).get(c).next(h=>{if(null===h)throw Kt();Jt(h.userId===this.userId),s.push(tu(this.serializer,h))}))}),ce.waitFor(l).next(()=>s)}removeMutationBatch(e,n){return hf(e.ae,this.userId,n).next(s=>(e.addOnCommittedListener(()=>{this.Mn(n.batchId)}),ce.forEach(s,l=>this.referenceDelegate.markPotentiallyOrphaned(e,l))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return ce.resolve();const s=IDBKeyRange.lowerBound([this.userId]),l=[];return iu(e).Y({range:s},(c,h,D)=>{if(c[0]===this.userId){const M=Ho(c[1]);l.push(M)}else D.done()}).next(()=>{Jt(0===l.length)})})}containsKey(e,n){return S_(e,this.userId,n)}xn(e){return Im(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function S_(i,e,n){const s=Ba(e,n.path),l=s[1],c=IDBKeyRange.lowerBound(s);let h=!1;return iu(i).Y({range:c,J:!0},(D,M,j)=>{const[X,fe,Le]=D;X===e&&fe===l&&(h=!0),j.done()}).next(()=>h)}function ru(i){return ms(i,"mutations")}function iu(i){return ms(i,"documentMutations")}function Im(i){return ms(i,"mutationQueues")}class Wu{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Wu(0)}static Bn(){return new Wu(-1)}}class Vv{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Ln(e).next(n=>{const s=new Wu(n.highestTargetId);return n.highestTargetId=s.next(),this.kn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Ln(e).next(n=>dn.fromTimestamp(new ai(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Ln(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,s){return this.Ln(e).next(l=>(l.highestListenSequenceNumber=n,s&&(l.lastRemoteSnapshotVersion=s.toTimestamp()),n>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=n),this.kn(e,l)))}addTargetData(e,n){return this.qn(e,n).next(()=>this.Ln(e).next(s=>(s.targetCount+=1,this.Qn(n,s),this.kn(e,s))))}updateTargetData(e,n){return this.qn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Bc(e).delete(n.targetId)).next(()=>this.Ln(e)).next(s=>(Jt(s.targetCount>0),s.targetCount-=1,this.kn(e,s)))}removeTargets(e,n,s){let l=0;const c=[];return Bc(e).Y((h,D)=>{const M=kc(D);M.sequenceNumber<=n&&null===s.get(M.targetId)&&(l++,c.push(this.removeTargetData(e,M)))}).next(()=>ce.waitFor(c)).next(()=>l)}forEachTarget(e,n){return Bc(e).Y((s,l)=>{const c=kc(l);n(c)})}Ln(e){return P_(e).get("targetGlobalKey").next(n=>(Jt(null!==n),n))}kn(e,n){return P_(e).put("targetGlobalKey",n)}qn(e,n){return Bc(e).put(pm(this.serializer,n))}Qn(e,n){let s=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,s=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.Ln(e).next(n=>n.targetCount)}getTargetData(e,n){const s=Ga(n),l=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let c=null;return Bc(e).Y({range:l,index:"queryTargetsIndex"},(h,D,M)=>{const j=kc(D);vl(n,j.target)&&(c=j,M.done())}).next(()=>c)}addMatchingKeys(e,n,s){const l=[],c=Sl(e);return n.forEach(h=>{const D=ji(h.path);l.push(c.put({targetId:s,path:D})),l.push(this.referenceDelegate.addReference(e,s,h))}),ce.waitFor(l)}removeMatchingKeys(e,n,s){const l=Sl(e);return ce.forEach(n,c=>{const h=ji(c.path);return ce.waitFor([l.delete([s,h]),this.referenceDelegate.removeReference(e,s,c)])})}removeMatchingKeysForTargetId(e,n){const s=Sl(e),l=IDBKeyRange.bound([n],[n+1],!1,!0);return s.delete(l)}getMatchingKeysForTargetId(e,n){const s=IDBKeyRange.bound([n],[n+1],!1,!0),l=Sl(e);let c=Qn();return l.Y({range:s,J:!0},(h,D,M)=>{const j=Ho(h[1]),X=new Ut(j);c=c.add(X)}).next(()=>c)}containsKey(e,n){const s=ji(n.path),l=IDBKeyRange.bound([s],[Ul(s)],!1,!0);let c=0;return Sl(e).Y({index:"documentTargetsIndex",J:!0,range:l},([h,D],M,j)=>{0!==h&&(c++,j.done())}).next(()=>c>0)}_t(e,n){return Bc(e).get(n).next(s=>s?kc(s):null)}}function Bc(i){return ms(i,"targets")}function P_(i){return ms(i,"targetGlobal")}function Sl(i){return ms(i,"targetDocuments")}function Uv([i,e],[n,s]){const l=Tn(i,n);return 0===l?Tn(e,s):l}class LE{constructor(e){this.Kn=e,this.buffer=new Gr(Uv),this.$n=0}Un(){return++this.$n}Wn(e){const n=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Uv(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Hc{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(e){var n=this;mt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ge.Z)(function*(){n.Gn=null;try{yield n.localStore.collectGarbage(n.garbageCollector)}catch(s){kn(s)?mt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield te(s)}yield n.zn(3e5)}))}}class Hd{constructor(e,n){this.jn=e,this.params=n}calculateTargetCount(e,n){return this.jn.Hn(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(0===n)return ce.resolve(co._e);const s=new LE(n);return this.jn.forEachTarget(e,l=>s.Wn(l.sequenceNumber)).next(()=>this.jn.Jn(e,l=>s.Wn(l))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.jn.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.jn.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?(mt("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(Bd)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(mt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Bd):this.Yn(e,n))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,n){let s,l,c,h,D,M,j;const X=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(fe=>(fe>this.params.maximumSequenceNumbersToCollect?(mt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${fe}`),l=this.params.maximumSequenceNumbersToCollect):l=fe,h=Date.now(),this.nthSequenceNumber(e,l))).next(fe=>(s=fe,D=Date.now(),this.removeTargets(e,s,n))).next(fe=>(c=fe,M=Date.now(),this.removeOrphanedDocuments(e,s))).next(fe=>(j=Date.now(),oi()<=Ce.in.DEBUG&&mt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${h-X}ms\n\tDetermined least recently used ${l} in `+(D-h)+`ms\n\tRemoved ${c} targets in `+(M-D)+`ms\n\tRemoved ${fe} documents in `+(j-M)+`ms\nTotal Duration: ${j-X}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:fe})))}}class R_{constructor(e,n){this.db=e,this.garbageCollector=function Em(i,e){return new Hd(i,e)}(this,n)}Hn(e){const n=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(s=>n.next(l=>s+l))}Zn(e){let n=0;return this.Jn(e,s=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Jn(e,n){return this.Xn(e,(s,l)=>n(l))}addReference(e,n,s){return jc(e,s)}removeReference(e,n,s){return jc(e,s)}removeTargets(e,n,s){return this.db.getTargetCache().removeTargets(e,n,s)}markPotentiallyOrphaned(e,n){return jc(e,n)}er(e,n){return function(l,c){let h=!1;return Im(l).Z(D=>S_(l,D,c).next(M=>(M&&(h=!0),ce.resolve(!M)))).next(()=>h)}(e,n)}removeOrphanedDocuments(e,n){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),l=[];let c=0;return this.Xn(e,(h,D)=>{if(D<=n){const M=this.er(e,h).next(j=>{if(!j)return c++,s.getEntry(e,h).next(()=>(s.removeEntry(h,dn.min()),Sl(e).delete([0,ji(h.path)])))});l.push(M)}}).next(()=>ce.waitFor(l)).next(()=>s.apply(e)).next(()=>c)}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,n){return jc(e,n)}Xn(e,n){const s=Sl(e);let l,c=co._e;return s.Y({index:"documentTargetsIndex"},([h,D],{path:M,sequenceNumber:j})=>{0===h?(c!==co._e&&n(new Ut(Ho(l)),c),c=j,l=M):c=co._e}).next(()=>{c!==co._e&&n(new Ut(Ho(l)),c)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function jc(i,e){return Sl(i).put((l=i.currentSequenceNumber,{targetId:0,path:ji(e.path),sequenceNumber:l}));var l}class pf{constructor(){this.changes=new Go(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ur.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return void 0!==s?ce.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Bv{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,s){return $c(e).put(s)}removeEntry(e,n,s){return $c(e).delete(function(c,h){const D=c.path.toArray();return[D.slice(0,D.length-2),D[D.length-2],Cl(h),D[D.length-1]]}(n,s))}updateMetadata(e,n){return this.getMetadata(e).next(s=>(s.byteSize+=n,this.tr(e,s)))}getEntry(e,n){let s=ur.newInvalidDocument(n);return $c(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(qu(n))},(l,c)=>{s=this.nr(n,c)}).next(()=>s)}rr(e,n){let s={size:0,document:ur.newInvalidDocument(n)};return $c(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(qu(n))},(l,c)=>{s={document:this.nr(n,c),size:ff(c)}}).next(()=>s)}getEntries(e,n){let s=ys();return this.ir(e,n,(l,c)=>{const h=this.nr(l,c);s=s.insert(l,h)}).next(()=>s)}sr(e,n){let s=ys(),l=new Yr(Ut.comparator);return this.ir(e,n,(c,h)=>{const D=this.nr(c,h);s=s.insert(c,D),l=l.insert(c,ff(h))}).next(()=>({documents:s,_r:l}))}ir(e,n,s){if(n.isEmpty())return ce.resolve();let l=new Gr(mf);n.forEach(M=>l=l.add(M));const c=IDBKeyRange.bound(qu(l.first()),qu(l.last())),h=l.getIterator();let D=h.getNext();return $c(e).Y({index:"documentKeyIndex",range:c},(M,j,X)=>{const fe=Ut.fromSegments([...j.prefixPath,j.collectionGroup,j.documentId]);for(;D&&mf(D,fe)<0;)s(D,null),D=h.getNext();D&&D.isEqual(fe)&&(s(D,j),D=h.hasNext()?h.getNext():null),D?X.U(qu(D)):X.done()}).next(()=>{for(;D;)s(D,null),D=h.hasNext()?h.getNext():null})}getDocumentsMatchingQuery(e,n,s,l,c){const h=n.path,D=[h.popLast().toArray(),h.lastSegment(),Cl(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],M=[h.popLast().toArray(),h.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return $c(e).W(IDBKeyRange.bound(D,M,!0)).next(j=>{c?.incrementDocumentReadCount(j.length);let X=ys();for(const fe of j){const Le=this.nr(Ut.fromSegments(fe.prefixPath.concat(fe.collectionGroup,fe.documentId)),fe);Le.isFoundDocument()&&(cn(n,Le)||l.has(Le.key))&&(X=X.insert(Le.key,Le))}return X})}getAllFromCollectionGroup(e,n,s,l){let c=ys();const h=x_(n,s),D=x_(n,S.max());return $c(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(h,D,!0)},(M,j,X)=>{const fe=this.nr(Ut.fromSegments(j.prefixPath.concat(j.collectionGroup,j.documentId)),j);c=c.insert(fe.key,fe),c.size===l&&X.done()}).next(()=>c)}newChangeBuffer(e){return new M_(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return jd(e).get("remoteDocumentGlobalKey").next(n=>(Jt(!!n),n))}tr(e,n){return jd(e).put("remoteDocumentGlobalKey",n)}nr(e,n){if(n){const s=function fm(i,e){let n;if(e.document)n=Nc(i.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=Ut.fromSegments(e.noDocument.path),l=bl(e.noDocument.readTime);n=ur.newNoDocument(s,l),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Kt();{const s=Ut.fromSegments(e.unknownDocument.path),l=bl(e.unknownDocument.version);n=ur.newUnknownDocument(s,l)}}return e.readTime&&n.setReadTime(function(l){const c=new ai(l[0],l[1]);return dn.fromTimestamp(c)}(e.readTime)),n}(this.serializer,n);if(!s.isNoDocument()||!s.version.isEqual(dn.min()))return s}return ur.newInvalidDocument(e)}}function Tm(i){return new Bv(i)}class M_ extends pf{constructor(e,n){super(),this.ar=e,this.trackRemovals=n,this.ur=new Go(s=>s.toString(),(s,l)=>s.isEqual(l))}applyChanges(e){const n=[];let s=0,l=new Gr((c,h)=>Tn(c.canonicalString(),h.canonicalString()));return this.changes.forEach((c,h)=>{const D=this.ur.get(c);if(n.push(this.ar.removeEntry(e,c,D.readTime)),h.isValidDocument()){const M=g_(this.ar.serializer,h);l=l.add(c.path.popLast());const j=ff(M);s+=j-D.size,n.push(this.ar.addEntry(e,c,M))}else if(s-=D.size,this.trackRemovals){const M=g_(this.ar.serializer,h.convertToNoDocument(dn.min()));n.push(this.ar.addEntry(e,c,M))}}),l.forEach(c=>{n.push(this.ar.indexManager.addToCollectionParentIndex(e,c))}),n.push(this.ar.updateMetadata(e,s)),ce.waitFor(n)}getFromCache(e,n){return this.ar.rr(e,n).next(s=>(this.ur.set(n,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,n){return this.ar.sr(e,n).next(({documents:s,_r:l})=>(l.forEach((c,h)=>{this.ur.set(c,{size:h,readTime:s.get(c).readTime})}),s))}}function jd(i){return ms(i,"remoteDocumentGlobal")}function $c(i){return ms(i,"remoteDocumentsV14")}function qu(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function x_(i,e){const n=e.documentKey.path.toArray();return[i,Cl(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function mf(i,e){const n=i.path.toArray(),s=e.path.toArray();let l=0;for(let c=0;c<n.length-2&&c<s.length-2;++c)if(l=Tn(n[c],s[c]),l)return l;return l=Tn(n.length,s.length),l||(l=Tn(n[n.length-2],s[s.length-2]),l||Tn(n[n.length-1],s[s.length-1]))}class O_{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class wm{constructor(e,n,s,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=l}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(l=>(s=l,this.remoteDocumentCache.getEntry(e,n))).next(l=>(null!==s&&Fu(s.mutation,l,Ss.empty(),ai.now()),l))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Qn()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Qn()){const l=ua();return this.populateOverlays(e,l,n).next(()=>this.computeViews(e,n,l,s).next(c=>{let h=Nu();return c.forEach((D,M)=>{h=h.insert(D,M.overlayedDocument)}),h}))}getOverlayedDocuments(e,n){const s=ua();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Qn()))}populateOverlays(e,n,s){const l=[];return s.forEach(c=>{n.has(c)||l.push(c)}),this.documentOverlayCache.getOverlays(e,l).next(c=>{c.forEach((h,D)=>{n.set(h,D)})})}computeViews(e,n,s,l){let c=ys();const h=Zl(),D=Zl();return n.forEach((M,j)=>{const X=s.get(j.key);l.has(j.key)&&(void 0===X||X.mutation instanceof qa)?c=c.insert(j.key,j):void 0!==X?(h.set(j.key,X.mutation.getFieldMask()),Fu(X.mutation,j,X.mutation.getFieldMask(),ai.now())):h.set(j.key,Ss.empty())}),this.recalculateAndSaveOverlays(e,c).next(M=>(M.forEach((j,X)=>h.set(j,X)),n.forEach((j,X)=>{var fe;return D.set(j,new O_(X,null!==(fe=h.get(j))&&void 0!==fe?fe:null))}),D))}recalculateAndSaveOverlays(e,n){const s=Zl();let l=new Yr((h,D)=>h-D),c=Qn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(h=>{for(const D of h)D.keys().forEach(M=>{const j=n.get(M);if(null===j)return;let X=s.get(M)||Ss.empty();X=D.applyToLocalView(j,X),s.set(M,X);const fe=(l.get(D.batchId)||Qn()).add(M);l=l.insert(D.batchId,fe)})}).next(()=>{const h=[],D=l.getReverseIterator();for(;D.hasNext();){const M=D.getNext(),j=M.key,X=M.value,fe=ef();X.forEach(Le=>{if(!c.has(Le)){const Je=rf(n.get(Le),s.get(Le));null!==Je&&fe.set(Le,Je),c=c.add(Le)}}),h.push(this.documentOverlayCache.saveOverlays(e,j,fe))}return ce.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,l){return Ut.isDocumentKey((h=n).path)&&null===h.collectionGroup&&0===h.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):f(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,l):this.getDocumentsMatchingCollectionQuery(e,n,s,l);var h}getNextDocuments(e,n,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,l).next(c=>{const h=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,l-c.size):ce.resolve(ua());let D=-1,M=c;return h.next(j=>ce.forEach(j,(X,fe)=>(D<fe.largestBatchId&&(D=fe.largestBatchId),c.get(X)?ce.resolve():this.remoteDocumentCache.getEntry(e,X).next(Le=>{M=M.insert(X,Le)}))).next(()=>this.populateOverlays(e,j,c)).next(()=>this.computeViews(e,M,j,Qn())).next(X=>({batchId:D,changes:Kl(X)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ut(n)).next(s=>{let l=Nu();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}getDocumentsMatchingCollectionGroupQuery(e,n,s,l){const c=n.collectionGroup;let h=Nu();return this.indexManager.getCollectionParents(e,c).next(D=>ce.forEach(D,M=>{const j=(fe=n,Le=M.child(c),new po(Le,null,fe.explicitOrderBy.slice(),fe.filters.slice(),fe.limit,fe.limitType,fe.startAt,fe.endAt));var fe,Le;return this.getDocumentsMatchingCollectionQuery(e,j,s,l).next(X=>{X.forEach((fe,Le)=>{h=h.insert(fe,Le)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,n,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(h=>(c=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,c,l))).next(h=>{c.forEach((M,j)=>{const X=j.getKey();null===h.get(X)&&(h=h.insert(X,ur.newInvalidDocument(X)))});let D=Nu();return h.forEach((M,j)=>{const X=c.get(M);void 0!==X&&Fu(X.mutation,j,Ss.empty(),ai.now()),cn(n,j)&&(D=D.insert(M,j))}),D})}}class Ku{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return ce.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,{id:(l=n).id,version:l.version,createTime:Ji(l.createTime)}),ce.resolve();var l}getNamedQuery(e,n){return ce.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,{name:(l=n).name,query:Dl(l.bundledQuery),readTime:Ji(l.readTime)}),ce.resolve();var l}}class Hv{constructor(){this.overlays=new Yr(Ut.comparator),this.hr=new Map}getOverlay(e,n){return ce.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ua();return ce.forEach(n,l=>this.getOverlay(e,l).next(c=>{null!==c&&s.set(l,c)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((l,c)=>{this.ht(e,n,c)}),ce.resolve()}removeOverlaysForBatchId(e,n,s){const l=this.hr.get(s);return void 0!==l&&(l.forEach(c=>this.overlays=this.overlays.remove(c)),this.hr.delete(s)),ce.resolve()}getOverlaysForCollection(e,n,s){const l=ua(),c=n.length+1,h=new Ut(n.child("")),D=this.overlays.getIteratorFrom(h);for(;D.hasNext();){const M=D.getNext().value,j=M.getKey();if(!n.isPrefixOf(j.path))break;j.path.length===c&&M.largestBatchId>s&&l.set(M.getKey(),M)}return ce.resolve(l)}getOverlaysForCollectionGroup(e,n,s,l){let c=new Yr((j,X)=>j-X);const h=this.overlays.getIterator();for(;h.hasNext();){const j=h.getNext().value;if(j.getKey().getCollectionGroup()===n&&j.largestBatchId>s){let X=c.get(j.largestBatchId);null===X&&(X=ua(),c=c.insert(j.largestBatchId,X)),X.set(j.getKey(),j)}}const D=ua(),M=c.getIterator();for(;M.hasNext()&&(M.getNext().value.forEach((j,X)=>D.set(j,X)),!(D.size()>=l)););return ce.resolve(D)}ht(e,n,s){const l=this.overlays.get(s.key);if(null!==l){const h=this.hr.get(l.largestBatchId).delete(s.key);this.hr.set(l.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new Jp(n,s));let c=this.hr.get(n);void 0===c&&(c=Qn(),this.hr.set(n,c)),this.hr.set(n,c.add(s.key))}}class $d{constructor(){this.Pr=new Gr(ls.Ir),this.Tr=new Gr(ls.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const s=new ls(e,n);this.Pr=this.Pr.add(s),this.Tr=this.Tr.add(s)}dr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Ar(new ls(e,n))}Rr(e,n){e.forEach(s=>this.removeReference(s,n))}Vr(e){const n=new Ut(new Dn([])),s=new ls(n,e),l=new ls(n,e+1),c=[];return this.Tr.forEachInRange([s,l],h=>{this.Ar(h),c.push(h.key)}),c}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new Ut(new Dn([])),s=new ls(n,e),l=new ls(n,e+1);let c=Qn();return this.Tr.forEachInRange([s,l],h=>{c=c.add(h.key)}),c}containsKey(e){const n=new ls(e,0),s=this.Pr.firstAfterOrEqual(n);return null!==s&&e.isEqual(s.key)}}class ls{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return Ut.comparator(e.key,n.key)||Tn(e.pr,n.pr)}static Er(e,n){return Tn(e.pr,n.pr)||Ut.comparator(e.key,n.key)}}class jv{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Gr(ls.Ir)}checkEmpty(e){return ce.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,s,l){const c=this.yr;this.yr++;const h=new sf(c,n,s,l);this.mutationQueue.push(h);for(const D of l)this.wr=this.wr.add(new ls(D.key,c)),this.indexManager.addToCollectionParentIndex(e,D.key.path.popLast());return ce.resolve(h)}lookupMutationBatch(e,n){return ce.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const l=this.br(n+1),c=l<0?0:l;return ce.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new ls(n,0),l=new ls(n,Number.POSITIVE_INFINITY),c=[];return this.wr.forEachInRange([s,l],h=>{const D=this.Sr(h.pr);c.push(D)}),ce.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Gr(Tn);return n.forEach(l=>{const c=new ls(l,0),h=new ls(l,Number.POSITIVE_INFINITY);this.wr.forEachInRange([c,h],D=>{s=s.add(D.pr)})}),ce.resolve(this.Dr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,l=s.length+1;let c=s;Ut.isDocumentKey(c)||(c=c.child(""));const h=new ls(new Ut(c),0);let D=new Gr(Tn);return this.wr.forEachWhile(M=>{const j=M.key.path;return!!s.isPrefixOf(j)&&(j.length===l&&(D=D.add(M.pr)),!0)},h),ce.resolve(this.Dr(D))}Dr(e){const n=[];return e.forEach(s=>{const l=this.Sr(s);null!==l&&n.push(l)}),n}removeMutationBatch(e,n){Jt(0===this.Cr(n.batchId,"removed")),this.mutationQueue.shift();let s=this.wr;return ce.forEach(n.mutations,l=>{const c=new ls(l.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.wr=s})}Mn(e){}containsKey(e,n){const s=new ls(n,0),l=this.wr.firstAfterOrEqual(s);return ce.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return ce.resolve()}Cr(e,n){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Cm{constructor(e){this.vr=e,this.docs=new Yr(Ut.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,l=this.docs.get(s),c=l?l.size:0,h=this.vr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ce.resolve(s?s.document.mutableCopy():ur.newInvalidDocument(n))}getEntries(e,n){let s=ys();return n.forEach(l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():ur.newInvalidDocument(l))}),ce.resolve(s)}getDocumentsMatchingQuery(e,n,s,l){let c=ys();const h=n.path,D=new Ut(h.child("")),M=this.docs.getIteratorFrom(D);for(;M.hasNext();){const{key:j,value:{document:X}}=M.getNext();if(!h.isPrefixOf(j.path))break;j.path.length>h.length+1||v(T(X),s)<=0||(l.has(X.key)||cn(n,X))&&(c=c.insert(X.key,X.mutableCopy()))}return ce.resolve(c)}getAllFromCollectionGroup(e,n,s,l){Kt()}Fr(e,n){return ce.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new gf(this)}getSize(e){return ce.resolve(this.size)}}class gf extends pf{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((s,l)=>{l.isValidDocument()?n.push(this.ar.addEntry(e,l)):this.ar.removeEntry(s)}),ce.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}class Ja{constructor(e){this.persistence=e,this.Mr=new Go(n=>Ga(n),vl),this.lastRemoteSnapshotVersion=dn.min(),this.highestTargetId=0,this.Or=0,this.Nr=new $d,this.targetCount=0,this.Br=Wu.Nn()}forEachTarget(e,n){return this.Mr.forEach((s,l)=>n(l)),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.Or&&(this.Or=n),ce.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new Wu(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,ce.resolve()}updateTargetData(e,n){return this.qn(n),ce.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,n,s){let l=0;const c=[];return this.Mr.forEach((h,D)=>{D.sequenceNumber<=n&&null===s.get(D.targetId)&&(this.Mr.delete(h),c.push(this.removeMatchingKeysForTargetId(e,D.targetId)),l++)}),ce.waitFor(c).next(()=>l)}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,n){const s=this.Mr.get(n)||null;return ce.resolve(s)}addMatchingKeys(e,n,s){return this.Nr.dr(n,s),ce.resolve()}removeMatchingKeys(e,n,s){this.Nr.Rr(n,s);const l=this.persistence.referenceDelegate,c=[];return l&&n.forEach(h=>{c.push(l.markPotentiallyOrphaned(e,h))}),ce.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),ce.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Nr.gr(n);return ce.resolve(s)}containsKey(e,n){return ce.resolve(this.Nr.containsKey(n))}}class su{constructor(e,n){this.Lr={},this.overlays={},this.kr=new co(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new Ja(this),this.indexManager=new _m,this.remoteDocumentCache=new Cm(s=>this.referenceDelegate.Kr(s)),this.serializer=new m_(n),this.$r=new Ku(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Hv,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Lr[e.toKey()];return s||(s=new jv(n,this.referenceDelegate),this.Lr[e.toKey()]=s),s}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,s){mt("MemoryPersistence","Starting transaction:",e);const l=new bm(this.kr.next());return this.referenceDelegate.Ur(),s(l).next(c=>this.referenceDelegate.Wr(l).next(()=>c)).toPromise().then(c=>(l.raiseOnCommittedEvent(),c))}Gr(e,n){return ce.or(Object.values(this.Lr).map(s=>()=>s.containsKey(e,n)))}}class bm extends B{constructor(e){super(),this.currentSequenceNumber=e}}class _f{constructor(e){this.persistence=e,this.zr=new $d,this.jr=null}static Hr(e){return new _f(e)}get Jr(){if(this.jr)return this.jr;throw Kt()}addReference(e,n,s){return this.zr.addReference(s,n),this.Jr.delete(s.toString()),ce.resolve()}removeReference(e,n,s){return this.zr.removeReference(s,n),this.Jr.add(s.toString()),ce.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),ce.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(l=>this.Jr.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(l=>{l.forEach(c=>this.Jr.add(c.toString()))}).next(()=>s.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.Jr,s=>{const l=Ut.fromPath(s);return this.Yr(e,l).next(c=>{c||n.removeEntry(l,dn.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(s=>{s?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return ce.or([()=>ce.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}class N_{constructor(e){this.serializer=e}N(e,n,s,l){const c=new Qe("createOrUpgrade",n);var M;s<1&&l>=1&&(e.createObjectStore("owner"),(M=e).createObjectStore("mutationQueues",{keyPath:"userId"}),M.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",yu,{unique:!0}),M.createObjectStore("documentMutations"),Zu(e),function(M){M.createObjectStore("remoteDocuments")}(e));let h=ce.resolve();return s<3&&l>=3&&(0!==s&&(function(M){M.deleteObjectStore("targetDocuments"),M.deleteObjectStore("targets"),M.deleteObjectStore("targetGlobal")}(e),Zu(e)),h=h.next(()=>function(M){const j=M.store("targetGlobal"),X={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:dn.min().toTimestamp(),targetCount:0};return j.put("targetGlobalKey",X)}(c))),s<4&&l>=4&&(0!==s&&(h=h.next(()=>function(M,j){return j.store("mutations").W().next(X=>{M.deleteObjectStore("mutations"),M.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",yu,{unique:!0});const fe=j.store("mutations"),Le=X.map(Je=>fe.put(Je));return ce.waitFor(Le)})}(e,c))),h=h.next(()=>{!function(M){M.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&l>=5&&(h=h.next(()=>this.Xr(c))),s<6&&l>=6&&(h=h.next(()=>(function(M){M.createObjectStore("remoteDocumentGlobal")}(e),this.ei(c)))),s<7&&l>=7&&(h=h.next(()=>this.ti(c))),s<8&&l>=8&&(h=h.next(()=>this.ni(e,c))),s<9&&l>=9&&(h=h.next(()=>{!function(M){M.objectStoreNames.contains("remoteDocumentChanges")&&M.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&l>=10&&(h=h.next(()=>this.ri(c))),s<11&&l>=11&&(h=h.next(()=>{(function(M){M.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(M){M.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&l>=12&&(h=h.next(()=>{!function(M){const j=M.createObjectStore("documentOverlays",{keyPath:pd});j.createIndex("collectionPathOverlayIndex",Eu,{unique:!1}),j.createIndex("collectionGroupOverlayIndex",Tu,{unique:!1})}(e)})),s<13&&l>=13&&(h=h.next(()=>function(M){const j=M.createObjectStore("remoteDocumentsV14",{keyPath:fl});j.createIndex("documentKeyIndex",Lp),j.createIndex("collectionGroupIndex",jl)}(e)).next(()=>this.ii(e,c)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&l>=14&&(h=h.next(()=>this.si(e,c))),s<15&&l>=15&&(h=h.next(()=>function(M){M.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),M.createObjectStore("indexState",{keyPath:Bh}).createIndex("sequenceNumberIndex",Vp,{unique:!1}),M.createObjectStore("indexEntries",{keyPath:fd}).createIndex("documentKeyIndex",Iu,{unique:!1})}(e))),h}ei(e){let n=0;return e.store("remoteDocuments").Y((s,l)=>{n+=ff(l)}).next(()=>{const s={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}Xr(e){const n=e.store("mutationQueues"),s=e.store("mutations");return n.W().next(l=>ce.forEach(l,c=>{const h=IDBKeyRange.bound([c.userId,-1],[c.userId,c.lastAcknowledgedBatchId]);return s.W("userMutationsIndex",h).next(D=>ce.forEach(D,M=>{Jt(M.userId===c.userId);const j=tu(this.serializer,M);return hf(e,c.userId,j).next(()=>{})}))}))}ti(e){const n=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(l=>{const c=[];return s.Y((h,D)=>{const M=new Dn(h),j=[0,ji(M)];c.push(n.get(j).next(X=>X?ce.resolve():n.put({targetId:0,path:ji(M),sequenceNumber:l.highestListenSequenceNumber})))}).next(()=>ce.waitFor(c))})}ni(e,n){e.createObjectStore("collectionParents",{keyPath:Fp});const s=n.store("collectionParents"),l=new b_,c=h=>{if(l.add(h)){const D=h.lastSegment(),M=h.popLast();return s.put({collectionId:D,parent:ji(M)})}};return n.store("remoteDocuments").Y({J:!0},(h,D)=>{const M=new Dn(h);return c(M.popLast())}).next(()=>n.store("documentMutations").Y({J:!0},([h,D,M],j)=>{const X=Ho(D);return c(X.popLast())}))}ri(e){const n=e.store("targets");return n.Y((s,l)=>{const c=kc(l),h=pm(this.serializer,c);return n.put(h)})}ii(e,n){const s=n.store("remoteDocuments"),l=[];return s.Y((c,h)=>{const D=n.store("remoteDocumentsV14"),M=(fe=h,fe.document?new Ut(Dn.fromString(fe.document.name).popFirst(5)):fe.noDocument?Ut.fromSegments(fe.noDocument.path):fe.unknownDocument?Ut.fromSegments(fe.unknownDocument.path):Kt()).path.toArray(),j={prefixPath:M.slice(0,M.length-2),collectionGroup:M[M.length-2],documentId:M[M.length-1],readTime:h.readTime||[0,0],unknownDocument:h.unknownDocument,noDocument:h.noDocument,document:h.document,hasCommittedMutations:!!h.hasCommittedMutations};var fe;l.push(D.put(j))}).next(()=>ce.waitFor(l))}si(e,n){const s=n.store("mutations"),l=Tm(this.serializer),c=new su(_f.Hr,this.serializer.ct);return s.W().next(h=>{const D=new Map;return h.forEach(M=>{var j;let X=null!==(j=D.get(M.userId))&&void 0!==j?j:Qn();tu(this.serializer,M).keys().forEach(fe=>X=X.add(fe)),D.set(M.userId,X)}),ce.forEach(D,(M,j)=>{const X=new In(j),fe=Al.lt(this.serializer,X),Le=c.getIndexManager(X),Je=Ya.lt(X,this.serializer,Le,c.referenceDelegate);return new wm(l,Je,fe,Le).recalculateAndSaveOverlaysForDocumentKeys(new jo(n,co._e),M).next()})})}}function Zu(i){i.createObjectStore("targetDocuments",{keyPath:Gg}).createIndex("documentTargetsIndex",kp,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",vu,{unique:!0}),i.createObjectStore("targetGlobal")}const Dm="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Am{constructor(e,n,s,l,c,h,D,M,j,X,fe=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=s,this.oi=c,this.window=h,this.document=D,this._i=j,this.ai=X,this.ui=fe,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=Le=>Promise.resolve(),!Am.D())throw new _t(ot.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new R_(this,l),this.Ti=n+"main",this.serializer=new m_(M),this.Ei=new Ht(this.Ti,this.ui,new N_(this.serializer)),this.Qr=new Vv(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Tm(this.serializer),this.$r=new Ov,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===X&&zr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new _t(ot.FAILED_PRECONDITION,Dm);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new co(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){var n=this;return this.Ii=function(){var s=(0,ge.Z)(function*(l){if(n.started)return e(l)});return function(l){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L(function(){var n=(0,ge.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return n.apply(this,arguments)}}())}setNetworkEnabled(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget((0,ge.Z)(function*(){n.started&&(yield n.Ai())})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>zc(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(n=>{n||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(n=>this.isPrimary&&!n?this.yi(e).next(()=>!1):!!n&&this.wi(e).next(()=>!0))).catch(e=>{if(kn(e))return mt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return mt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return zd(e).get("owner").next(n=>ce.resolve(this.Si(n)))}bi(e){return zc(e).delete(this.clientId)}Di(){var e=this;return(0,ge.Z)(function*(){if(e.isPrimary&&!e.Ci(e.Pi,18e5)){e.Pi=Date.now();const n=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const l=ms(s,"clientMetadata");return l.W().next(c=>{const h=e.vi(c,18e5),D=c.filter(M=>-1===h.indexOf(M));return ce.forEach(D,M=>l.delete(M.clientId)).next(()=>D)})}).catch(()=>[]);if(e.di)for(const s of n)e.di.removeItem(e.Fi(s.clientId))}})()}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?ce.resolve(!0):zd(e).get("owner").next(n=>{if(null!==n&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)){if(this.Si(n)&&this.networkEnabled)return!0;if(!this.Si(n)){if(!n.allowTabSynchronization)throw new _t(ot.FAILED_PRECONDITION,Dm);return!1}}return!(!this.networkEnabled||!this.inForeground)||zc(e).W().next(s=>void 0===this.vi(s,5e3).find(l=>!(this.clientId===l.clientId||!(!this.networkEnabled&&l.networkEnabled||!this.inForeground&&l.inForeground&&this.networkEnabled===l.networkEnabled))))}).next(n=>(this.isPrimary!==n&&mt("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var e=this;return(0,ge.Z)(function*(){e.qr=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Oi(),e.Ni(),yield e.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],n=>{const s=new jo(n,co._e);return e.yi(s).next(()=>e.bi(s))}),e.Ei.close(),e.Bi()})()}vi(e,n){return e.filter(s=>this.Ci(s.updateTimeMs,n)&&!this.Mi(s.clientId))}Li(){return this.runTransaction("getActiveClients","readonly",e=>zc(e).W().next(n=>this.vi(n,18e5).map(s=>s.clientId)))}get started(){return this.qr}getMutationQueue(e,n){return Ya.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new D_(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return Al.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,n,s){mt("IndexedDbPersistence","Starting transaction:",e);const l="readonly"===n?"readonly":"readwrite",c=15===(M=this.ui)?bu:14===M?md:13===M?Cu:12===M?Hh:11===M?wu:void Kt();var M;let h;return this.Ei.runTransaction(e,l,c,D=>(h=new jo(D,this.kr?this.kr.next():co._e),"readwrite-primary"===n?this.gi(h).next(M=>!!M||this.pi(h)).next(M=>{if(!M)throw zr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new _t(ot.FAILED_PRECONDITION,R);return s(h)}).next(M=>this.wi(h).next(()=>M)):this.ki(h).next(()=>s(h)))).then(D=>(h.raiseOnCommittedEvent(),D))}ki(e){return zd(e).get("owner").next(n=>{if(null!==n&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)&&!this.Si(n)&&!(this.ai||this.allowTabSynchronization&&n.allowTabSynchronization))throw new _t(ot.FAILED_PRECONDITION,Dm)})}wi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return zd(e).put("owner",n)}static D(){return Ht.D()}yi(e){const n=zd(e);return n.get("owner").next(s=>this.Si(s)?(mt("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):ce.resolve())}Ci(e,n){const s=Date.now();return!(e<s-n||e>s&&(zr(`Detected an update time that is in the future: ${e} > ${s}`),1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const n=/(?:Version|Mobile)\/1[456]/;(0,V.G6)()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var n;try{const s=null!==(null===(n=this.di)||void 0===n?void 0:n.getItem(this.Fi(e)));return mt("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return zr("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){zr("Failed to set zombie client id.",e)}}Bi(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function zd(i){return ms(i,"owner")}function zc(i){return ms(i,"clientMetadata")}function vf(i,e){let n=i.projectId;return i.isDefaultDatabase||(n+="."+i.database),"firestore/"+e+"/"+n+"/"}class Sm{constructor(e,n,s,l){this.targetId=e,this.fromCache=n,this.qi=s,this.Qi=l}static Ki(e,n){let s=Qn(),l=Qn();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Sm(e,n.fromCache,s,l)}}class L_{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class If{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=(0,V.G6)()?8:Ht.v((0,V.z$)())>0?6:4}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,s,l){const c={result:null};return this.ji(e,n).next(h=>{c.result=h}).next(()=>{if(!c.result)return this.Hi(e,n,l,s).next(h=>{c.result=h})}).next(()=>{if(c.result)return;const h=new L_;return this.Ji(e,n,h).next(D=>{if(c.result=D,this.Ui)return this.Yi(e,n,h,D.size)})}).next(()=>c.result)}Yi(e,n,s,l){return s.documentReadCount<this.Wi?(oi()<=Ce.in.DEBUG&&mt("QueryEngine","SDK will not create cache indexes for query:",Xt(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),ce.resolve()):(oi()<=Ce.in.DEBUG&&mt("QueryEngine","Query:",Xt(n),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.Gi*l?(oi()<=Ce.in.DEBUG&&mt("QueryEngine","The SDK decides to create cache indexes for query:",Xt(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,C(n))):ce.resolve())}ji(e,n){if(I(n))return ce.resolve(null);let s=C(n);return this.indexManager.getIndexType(e,s).next(l=>0===l?null:(null!==n.limit&&1===l&&(n=Ve(n,null,"F"),s=C(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const h=Qn(...c);return this.zi.getDocuments(e,h).next(D=>this.indexManager.getMinOffset(e,s).next(M=>{const j=this.Zi(n,D);return this.Xi(n,j,h,M.readTime)?this.ji(e,Ve(n,null,"F")):this.es(e,j,n,M)}))})))}Hi(e,n,s,l){return I(n)||l.isEqual(dn.min())?ce.resolve(null):this.zi.getDocuments(e,s).next(c=>{const h=this.Zi(n,c);return this.Xi(n,h,s,l)?ce.resolve(null):(oi()<=Ce.in.DEBUG&&mt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Xt(n)),this.es(e,h,n,vc(l,-1)).next(D=>D))})}Zi(e,n){let s=new Gr(Ls(e));return n.forEach((l,c)=>{cn(e,c)&&(s=s.add(c))}),s}Xi(e,n,s,l){if(null===e.limit)return!1;if(s.size!==n.size)return!0;const c="F"===e.limitType?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ji(e,n,s){return oi()<=Ce.in.DEBUG&&mt("QueryEngine","Using full collection scan to execute query:",Xt(n)),this.zi.getDocumentsMatchingQuery(e,n,S.min(),s)}es(e,n,s,l){return this.zi.getDocumentsMatchingQuery(e,s,l).next(c=>(n.forEach(h=>{c=c.insert(h.key,h)}),c))}}class kE{constructor(e,n,s,l){this.persistence=e,this.ts=n,this.serializer=l,this.ns=new Yr(Tn),this.rs=new Go(c=>Ga(c),vl),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(s)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new wm(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function k_(i,e,n,s){return new kE(i,e,n,s)}function F_(i,e){return Pm.apply(this,arguments)}function Pm(){return Pm=(0,ge.Z)(function*(i,e){const n=zt(i);return yield n.persistence.runTransaction("Handle user change","readonly",s=>{let l;return n.mutationQueue.getAllMutationBatches(s).next(c=>(l=c,n._s(e),n.mutationQueue.getAllMutationBatches(s))).next(c=>{const h=[],D=[];let M=Qn();for(const j of l){h.push(j.batchId);for(const X of j.mutations)M=M.add(X.key)}for(const j of c){D.push(j.batchId);for(const X of j.mutations)M=M.add(X.key)}return n.localDocuments.getDocuments(s,M).next(j=>({us:j,removedBatchIds:h,addedBatchIds:D}))})})}),Pm.apply(this,arguments)}function $v(i){const e=zt(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function V_(i,e,n){let s=Qn(),l=Qn();return n.forEach(c=>s=s.add(c)),e.getEntries(i,s).next(c=>{let h=ys();return n.forEach((D,M)=>{const j=c.get(D);M.isFoundDocument()!==j.isFoundDocument()&&(l=l.add(D)),M.isNoDocument()&&M.version.isEqual(dn.min())?(e.removeEntry(D,M.readTime),h=h.insert(D,M)):!j.isValidDocument()||M.version.compareTo(j.version)>0||0===M.version.compareTo(j.version)&&j.hasPendingWrites?(e.addEntry(M),h=h.insert(D,M)):mt("LocalStore","Ignoring outdated watch update for ",D,". Current version:",j.version," Watch version:",M.version)}),{cs:h,ls:l}})}function Rm(i,e){const n=zt(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function ou(i,e){const n=zt(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return n.Qr.getTargetData(s,e).next(c=>c?(l=c,ce.resolve(l)):n.Qr.allocateTargetId(s).next(h=>(l=new eu(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.Qr.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=n.ns.get(s.targetId);return(null===l||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.ns=n.ns.insert(s.targetId,s),n.rs.set(e,s.targetId)),s})}function Ra(i,e,n){return Gd.apply(this,arguments)}function Gd(){return Gd=(0,ge.Z)(function*(i,e,n){const s=zt(i),l=s.ns.get(e),c=n?"readwrite":"readwrite-primary";try{n||(yield s.persistence.runTransaction("Release target",c,h=>s.persistence.referenceDelegate.removeTarget(h,l)))}catch(h){if(!kn(h))throw h;mt("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}s.ns=s.ns.remove(e),s.rs.delete(l.target)}),Gd.apply(this,arguments)}function Gc(i,e,n){const s=zt(i);let l=dn.min(),c=Qn();return s.persistence.runTransaction("Execute query","readwrite",h=>function(M,j,X){const fe=zt(M),Le=fe.rs.get(X);return void 0!==Le?ce.resolve(fe.ns.get(Le)):fe.Qr.getTargetData(j,X)}(s,h,C(e)).next(D=>{if(D)return l=D.lastLimboFreeSnapshotVersion,s.Qr.getMatchingKeysForTargetId(h,D.targetId).next(M=>{c=M})}).next(()=>s.ts.getDocumentsMatchingQuery(h,e,n?l:dn.min(),n?c:Qn())).next(D=>(Qu(s,hr(e),D),{documents:D,hs:c})))}function Wc(i,e){const n=zt(i),s=zt(n.Qr),l=n.ns.get(e);return l?Promise.resolve(l.target):n.persistence.runTransaction("Get target data","readonly",c=>s._t(c,e).next(h=>h?h.target:null))}function Wd(i,e){const n=zt(i),s=n.ss.get(e)||dn.min();return n.persistence.runTransaction("Get new document changes","readonly",l=>n.os.getAllFromCollectionGroup(l,e,vc(s,-1),Number.MAX_SAFE_INTEGER)).then(l=>(Qu(n,e,l),l))}function Qu(i,e,n){let s=i.ss.get(e)||dn.min();n.forEach((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),i.ss.set(e,s)}function qd(){return qd=(0,ge.Z)(function*(i,e,n,s){const l=zt(i);let c=Qn(),h=ys();for(const j of n){const X=e.Ps(j.metadata.name);j.document&&(c=c.add(X));const fe=e.Is(j);fe.setReadTime(e.Ts(j.metadata.readTime)),h=h.insert(X,fe)}const D=l.os.newChangeBuffer({trackRemovals:!0}),M=yield ou(l,(X=s,C(ql(Dn.fromString(`__bundle__/docs/${X}`)))));var X;return l.persistence.runTransaction("Apply bundle documents","readwrite",j=>V_(j,D,h).next(X=>(D.apply(j),X)).next(X=>l.Qr.removeMatchingKeysForTargetId(j,M.targetId).next(()=>l.Qr.addMatchingKeys(j,c,M.targetId)).next(()=>l.localDocuments.getLocalViewOfDocuments(j,X.cs,X.ls)).next(()=>X.cs)))}),qd.apply(this,arguments)}function Tf(i,e){return U_.apply(this,arguments)}function U_(){return U_=(0,ge.Z)(function*(i,e,n=Qn()){const s=yield ou(i,C(Dl(e.bundledQuery))),l=zt(i);return l.persistence.runTransaction("Save named query","readwrite",c=>{const h=Ji(e.readTime);if(s.snapshotVersion.compareTo(h)>=0)return l.$r.saveNamedQuery(c,e);const D=s.withResumeToken(ni.EMPTY_BYTE_STRING,h);return l.ns=l.ns.insert(D.targetId,D),l.Qr.updateTargetData(c,D).next(()=>l.Qr.removeMatchingKeysForTargetId(c,s.targetId)).next(()=>l.Qr.addMatchingKeys(c,n,s.targetId)).next(()=>l.$r.saveNamedQuery(c,e))})}),U_.apply(this,arguments)}function wf(i,e){return`firestore_clients_${i}_${e}`}function qc(i,e,n){let s=`firestore_mutations_${i}_${n}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function xm(i,e){return`firestore_targets_${i}_${e}`}class Kd{constructor(e,n,s,l){this.user=e,this.batchId=n,this.state=s,this.error=l}static Es(e,n,s){const l=JSON.parse(s);let c,h="object"==typeof l&&-1!==["pending","acknowledged","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return h&&l.error&&(h="string"==typeof l.error.message&&"string"==typeof l.error.code,h&&(c=new _t(l.error.code,l.error.message))),h?new Kd(e,n,l.state,c):(zr("SharedClientState",`Failed to parse mutation state for ID '${n}': ${s}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Zd{constructor(e,n,s){this.targetId=e,this.state=n,this.error=s}static Es(e,n){const s=JSON.parse(n);let l,c="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return c&&s.error&&(c="string"==typeof s.error.message&&"string"==typeof s.error.code,c&&(l=new _t(s.error.code,s.error.message))),c?new Zd(e,s.state,l):(zr("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Cf{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Es(e,n){const s=JSON.parse(n);let l="object"==typeof s&&s.activeTargetIds instanceof Array,c=xc();for(let h=0;l&&h<s.activeTargetIds.length;++h)l=Uh(s.activeTargetIds[h]),c=c.add(s.activeTargetIds[h]);return l?new Cf(e,c):(zr("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class Qd{constructor(e,n){this.clientId=e,this.onlineState=n}static Es(e){const n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new Qd(n.clientId,n.onlineState):(zr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class bf{constructor(){this.activeTargetIds=xc()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Om{constructor(e,n,s,l,c){this.window=e,this.oi=n,this.persistenceKey=s,this.Vs=l,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new Yr(Tn),this.started=!1,this.ys=[];const h=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=c,this.ws=wf(this.persistenceKey,this.Vs),this.Ss=`firestore_sequence_number_${this.persistenceKey}`,this.ps=this.ps.insert(this.Vs,new bf),this.bs=new RegExp(`^firestore_clients_${h}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${h}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${h}_(\\d+)$`),this.vs=`firestore_online_state_${this.persistenceKey}`,this.Fs=function(M){return`firestore_bundle_loaded_v2_${M}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ge.Z)(function*(){const n=yield e.syncEngine.Li();for(const l of n){if(l===e.Vs)continue;const c=e.getItem(wf(e.persistenceKey,l));if(c){const h=Cf.Es(l,c);h&&(e.ps=e.ps.insert(h.clientId,h))}}e.Ms();const s=e.storage.getItem(e.vs);if(s){const l=e.xs(s);l&&e.Os(l)}for(const l of e.ys)e.gs(l);e.ys=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let n=!1;return this.ps.forEach((s,l)=>{l.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Bs(e,"pending")}updateMutationState(e,n,s){this.Bs(e,n,s),this.Ls(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(xm(this.persistenceKey,e));if(s){const l=Zd.Es(e,s);l&&(n=l.state)}}return this.ks.As(e),this.Ms(),n}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(xm(this.persistenceKey,e))}updateQueryState(e,n,s){this.qs(e,n,s)}handleUserChange(e,n,s){n.forEach(l=>{this.Ls(l)}),this.currentUser=e,s.forEach(l=>{this.addPendingMutation(l)})}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return mt("SharedClientState","READ",e,n),n}setItem(e,n){mt("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){mt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){var n=this;const s=e;if(s.storageArea===this.storage){if(mt("SharedClientState","EVENT",s.key,s.newValue),s.key===this.ws)return void zr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((0,ge.Z)(function*(){if(n.started){if(null!==s.key)if(n.bs.test(s.key)){if(null==s.newValue){const l=n.$s(s.key);return n.Us(l,null)}{const l=n.Ws(s.key,s.newValue);if(l)return n.Us(l.clientId,l)}}else if(n.Ds.test(s.key)){if(null!==s.newValue){const l=n.Gs(s.key,s.newValue);if(l)return n.zs(l)}}else if(n.Cs.test(s.key)){if(null!==s.newValue){const l=n.js(s.key,s.newValue);if(l)return n.Hs(l)}}else if(s.key===n.vs){if(null!==s.newValue){const l=n.xs(s.newValue);if(l)return n.Os(l)}}else if(s.key===n.Ss){const l=function(h){let D=co._e;if(null!=h)try{const M=JSON.parse(h);Jt("number"==typeof M),D=M}catch(M){zr("SharedClientState","Failed to read sequence number from WebStorage",M)}return D}(s.newValue);l!==co._e&&n.sequenceNumberHandler(l)}else if(s.key===n.Fs){const l=n.Js(s.newValue);yield Promise.all(l.map(c=>n.syncEngine.Ys(c)))}}else n.ys.push(s)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Bs(e,n,s){const l=new Kd(this.currentUser,e,n,s),c=qc(this.persistenceKey,this.currentUser,e);this.setItem(c,l.ds())}Ls(e){const n=qc(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Qs(e){this.storage.setItem(this.vs,JSON.stringify({clientId:this.Vs,onlineState:e}))}qs(e,n,s){const l=xm(this.persistenceKey,e),c=new Zd(e,n,s);this.setItem(l,c.ds())}Ks(e){const n=JSON.stringify(Array.from(e));this.setItem(this.Fs,n)}$s(e){const n=this.bs.exec(e);return n?n[1]:null}Ws(e,n){const s=this.$s(e);return Cf.Es(s,n)}Gs(e,n){const s=this.Ds.exec(e),l=Number(s[1]);return Kd.Es(new In(void 0!==s[2]?s[2]:null),l,n)}js(e,n){const s=this.Cs.exec(e),l=Number(s[1]);return Zd.Es(l,n)}xs(e){return Qd.Es(e)}Js(e){return JSON.parse(e)}zs(e){var n=this;return(0,ge.Z)(function*(){if(e.user.uid===n.currentUser.uid)return n.syncEngine.Zs(e.batchId,e.state,e.error);mt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,n){const s=n?this.ps.insert(e,n):this.ps.remove(e),l=this.Ns(this.ps),c=this.Ns(s),h=[],D=[];return c.forEach(M=>{l.has(M)||h.push(M)}),l.forEach(M=>{c.has(M)||D.push(M)}),this.syncEngine.eo(h,D).then(()=>{this.ps=s})}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let n=xc();return e.forEach((s,l)=>{n=n.unionWith(l.activeTargetIds)}),n}}class B_{constructor(){this.no=new bf,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,s){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new bf,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class VE{io(e){}shutdown(){}}class H_{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){mt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){mt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Yu=null;function Yd(){return null===Yu?Yu=268435456+Math.round(2147483648*Math.random()):Yu++,"0x"+Yu.toString(16)}const zv={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class j_{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}const ks="WebChannelConnection";class Df extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const s=n.ssl?"https":"http",l=encodeURIComponent(this.databaseId.projectId),c=encodeURIComponent(this.databaseId.database);this.fo=s+"://"+n.host,this.po=`projects/${l}/databases/${c}`,this.yo="(default)"===this.databaseId.database?`project_id=${l}`:`project_id=${l}&database_id=${c}`}get wo(){return!1}So(n,s,l,c,h){const D=Yd(),M=this.bo(n,s.toUriEncodedString());mt("RestConnection",`Sending RPC '${n}' ${D}:`,M,l);const j={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(j,c,h),this.Co(n,M,j,l).then(X=>(mt("RestConnection",`Received RPC '${n}' ${D}: `,X),X),X=>{throw rn("RestConnection",`RPC '${n}' ${D} failed with error: `,X,"url: ",M,"request:",l),X})}vo(n,s,l,c,h,D){return this.So(n,s,l,c,h)}Do(n,s,l){n["X-Goog-Api-Client"]="gl-js/ fire/"+lo,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((c,h)=>n[h]=c),l&&l.headers.forEach((c,h)=>n[h]=c)}bo(n,s){return`${this.fo}/v1/${s}:${zv[n]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,s,l){const c=Yd();return new Promise((h,D)=>{const M=new Wn;M.setWithCredentials(!0),M.listenOnce(ia.COMPLETE,()=>{try{switch(M.getLastErrorCode()){case Os.NO_ERROR:const X=M.getResponseJson();mt(ks,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(X)),h(X);break;case Os.TIMEOUT:mt(ks,`RPC '${e}' ${c} timed out`),D(new _t(ot.DEADLINE_EXCEEDED,"Request time out"));break;case Os.HTTP_ERROR:const fe=M.getStatus();if(mt(ks,`RPC '${e}' ${c} failed with status:`,fe,"response text:",M.getResponseText()),fe>0){let Le=M.getResponseJson();Array.isArray(Le)&&(Le=Le[0]);const Je=Le?.error;if(Je&&Je.status&&Je.message){const Rt=function(jt){const gn=jt.toLowerCase().replace(/_/g,"-");return Object.values(ot).indexOf(gn)>=0?gn:ot.UNKNOWN}(Je.status);D(new _t(Rt,Je.message))}else D(new _t(ot.UNKNOWN,"Server responded with status "+M.getStatus()))}else D(new _t(ot.UNAVAILABLE,"Connection failed."));break;default:Kt()}}finally{mt(ks,`RPC '${e}' ${c} completed.`)}});const j=JSON.stringify(l);mt(ks,`RPC '${e}' ${c} sending request:`,l),M.send(n,"POST",j,s,15)})}Fo(e,n,s){const l=Yd(),c=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=Ta(),D=Tr(),M={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},j=this.longPollingOptions.timeoutSeconds;void 0!==j&&(M.longPollingTimeout=Math.round(1e3*j)),this.useFetchStreams&&(M.useFetchStreams=!0),this.Do(M.initMessageHeaders,n,s),M.encodeInitMessageHeaders=!0;const X=c.join("");mt(ks,`Creating RPC '${e}' stream ${l}: ${X}`,M);const fe=h.createWebChannel(X,M);let Le=!1,Je=!1;const Rt=new j_({lo:jt=>{Je?mt(ks,`Not sending because RPC '${e}' stream ${l} is closed:`,jt):(Le||(mt(ks,`Opening RPC '${e}' stream ${l} transport.`),fe.open(),Le=!0),mt(ks,`RPC '${e}' stream ${l} sending:`,jt),fe.send(jt))},ho:()=>fe.close()}),Gt=(jt,gn,Jn)=>{jt.listen(gn,mn=>{try{Jn(mn)}catch(Xn){setTimeout(()=>{throw Xn},0)}})};return Gt(fe,Zn.EventType.OPEN,()=>{Je||mt(ks,`RPC '${e}' stream ${l} transport opened.`)}),Gt(fe,Zn.EventType.CLOSE,()=>{Je||(Je=!0,mt(ks,`RPC '${e}' stream ${l} transport closed`),Rt.Vo())}),Gt(fe,Zn.EventType.ERROR,jt=>{Je||(Je=!0,rn(ks,`RPC '${e}' stream ${l} transport errored:`,jt),Rt.Vo(new _t(ot.UNAVAILABLE,"The operation could not be completed")))}),Gt(fe,Zn.EventType.MESSAGE,jt=>{var gn;if(!Je){const Jn=jt.data[0];Jt(!!Jn);const Xn=Jn.error||(null===(gn=Jn[0])||void 0===gn?void 0:gn.error);if(Xn){mt(ks,`RPC '${e}' stream ${l} received error:`,Xn);const Or=Xn.status;let Wr=function(dv){const gu=vs[dv];if(void 0!==gu)return r_(gu)}(Or),es=Xn.message;void 0===Wr&&(Wr=ot.INTERNAL,es="Unknown error status: "+Or+" with message "+Xn.message),Je=!0,Rt.Vo(new _t(Wr,es)),fe.close()}else mt(ks,`RPC '${e}' stream ${l} received:`,Jn),Rt.mo(Jn)}}),Gt(D,qt.STAT_EVENT,jt=>{jt.stat===vn.PROXY?mt(ks,`RPC '${e}' stream ${l} detected buffering proxy`):jt.stat===vn.NOPROXY&&mt(ks,`RPC '${e}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{Rt.Ro()},0),Rt}}function $_(){return typeof window<"u"?window:null}function Jd(){return typeof document<"u"?document:null}function Xd(i){return new Pv(i,!0)}class Af{constructor(e,n,s=1e3,l=1.5,c=6e4){this.oi=e,this.timerId=n,this.Mo=s,this.xo=l,this.Oo=c,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),s=Math.max(0,Date.now()-this.Lo),l=Math.max(0,n-s);l>0&&mt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,l,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){null!==this.Bo&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){null!==this.Bo&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}class Gv{constructor(e,n,s,l,c,h,D,M){this.oi=e,this.$o=s,this.Uo=l,this.connection=c,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=D,this.listener=M,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new Af(e,n)}Ho(){return 1===this.state||5===this.state||this.Jo()}Jo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Yo()}stop(){var e=this;return(0,ge.Z)(function*(){e.Ho()&&(yield e.close(0))})()}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}e_(){var e=this;return(0,ge.Z)(function*(){if(e.Jo())return e.close(0)})()}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}close(e,n){var s=this;return(0,ge.Z)(function*(){s.n_(),s.r_(),s.jo.cancel(),s.Wo++,4!==e?s.jo.reset():n&&n.code===ot.RESOURCE_EXHAUSTED?(zr(n.toString()),zr("Using maximum backoff delay to prevent overloading the backend."),s.jo.ko()):n&&n.code===ot.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.i_(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.To(n)})()}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,l])=>{this.Wo===n&&this.o_(s,l)},s=>{e(()=>{const l=new _t(ot.UNKNOWN,"Fetching auth token failed: "+s.message);return this.__(l)})})}o_(e,n){const s=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{s(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(l=>{s(()=>this.__(l))}),this.stream.onMessage(l=>{s(()=>this.onMessage(l))})}Yo(){var e=this;this.state=5,this.jo.qo((0,ge.Z)(function*(){e.state=0,e.start()}))}__(e){return mt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(mt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Wv extends Gv{constructor(e,n,s,l,c,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,l,h),this.serializer=c}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=function um(i,e){let n;if("targetChange"in e){const s="NO_CHANGE"===(j=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===j?1:"REMOVE"===j?2:"CURRENT"===j?3:"RESET"===j?4:Kt(),l=e.targetChange.targetIds||[],c=function(j,X){return j.useProto3Json?(Jt(void 0===X||"string"==typeof X),ni.fromBase64String(X||"")):(Jt(void 0===X||X instanceof Uint8Array),ni.fromUint8Array(X||new Uint8Array))}(i,e.targetChange.resumeToken),h=e.targetChange.cause,D=h&&function(j){const X=void 0===j.code?ot.UNKNOWN:r_(j.code);return new _t(X,j.message||"")}(h);n=new o_(s,l,c,D||null)}else if("documentChange"in e){const s=e.documentChange,l=Sa(i,s.document.name),c=Ji(s.document.updateTime),h=s.document.createTime?Ji(s.document.createTime):dn.min(),D=new $i({mapValue:{fields:s.document.fields}}),M=ur.newFoundDocument(l,c,h,D);n=new lf(s.targetIds||[],s.removedTargetIds||[],M.key,M)}else if("documentDelete"in e){const s=e.documentDelete,l=Sa(i,s.document),c=s.readTime?Ji(s.readTime):dn.min(),h=ur.newNoDocument(l,c);n=new lf([],s.removedTargetIds||[],h.key,h)}else if("documentRemove"in e){const s=e.documentRemove,l=Sa(i,s.document);n=new lf([],s.removedTargetIds||[],l,null)}else{if(!("filter"in e))return Kt();{const s=e.filter,{count:l=0,unchangedNames:c}=s,h=new em(l,c);n=new s_(s.targetId,h)}}var j;return n}(this.serializer,e),s=function(c){if(!("targetChange"in c))return dn.min();const h=c.targetChange;return h.targetIds&&h.targetIds.length?dn.min():h.readTime?Ji(h.readTime):dn.min()}(e);return this.listener.u_(n,s)}c_(e){const n={};n.database=Od(this.serializer),n.addTarget=function(c,h){let D;const M=h.target;if(D=Il(M)?{documents:Lc(c,M)}:{query:dm(c,M).ut},D.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){D.resumeToken=Yl(c,h.resumeToken);const j=Rd(c,h.expectedCount);null!==j&&(D.expectedCount=j)}else if(h.snapshotVersion.compareTo(dn.min())>0){D.readTime=ju(c,h.snapshotVersion.toTimestamp());const j=Rd(c,h.expectedCount);null!==j&&(D.expectedCount=j)}return D}(this.serializer,e);const s=function Rv(i,e){const n=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Kt()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);s&&(n.labels=s),this.t_(n)}l_(e){const n={};n.database=Od(this.serializer),n.removeTarget=e,this.t_(n)}}class Sf extends Gv{constructor(e,n,s,l,c,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,l,h),this.serializer=c,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(Jt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=function cm(i,e){return i&&i.length>0?(Jt(void 0!==e),i.map(n=>function(l,c){let h=Ji(l.updateTime?l.updateTime:c);return h.isEqual(dn.min())&&(h=Ji(c)),new Jg(h,l.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),s=Ji(e.commitTime);return this.listener.T_(s,n)}return Jt(!e.writeResults||0===e.writeResults.length),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=Od(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>Jl(this.serializer,s))};this.t_(n)}}class qv extends class{}{constructor(e,n,s,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=l,this.A_=!1}R_(){if(this.A_)throw new _t(ot.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,s,l){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,h])=>this.connection.So(e,u_(n,s),l,c,h)).catch(c=>{throw"FirebaseError"===c.name?(c.code===ot.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new _t(ot.UNKNOWN,c.toString())})}vo(e,n,s,l,c){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,D])=>this.connection.vo(e,u_(n,s),l,h,D,c)).catch(h=>{throw"FirebaseError"===h.name?(h.code===ot.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new _t(ot.UNKNOWN,h.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class Kv{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,"Online"===e&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(zr(n),this.g_=!1):mt("OnlineStateTracker",n)}b_(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}class z_{constructor(e,n,s,l,c){var h=this;this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=c,this.M_.io(D=>{s.enqueueAndForget((0,ge.Z)(function*(){var M;au(h)&&(mt("RemoteStore","Restarting streams for network reachability change."),yield(M=(0,ge.Z)(function*(X){const fe=zt(X);fe.v_.add(4),yield Zc(fe),fe.x_.set("Unknown"),fe.v_.delete(4),yield eh(fe)}),function j(X){return M.apply(this,arguments)})(h))}))}),this.x_=new Kv(s,l)}}function eh(i){return Nm.apply(this,arguments)}function Nm(){return Nm=(0,ge.Z)(function*(i){if(au(i))for(const e of i.F_)yield e(!0)}),Nm.apply(this,arguments)}function Zc(i){return Pf.apply(this,arguments)}function Pf(){return Pf=(0,ge.Z)(function*(i){for(const e of i.F_)yield e(!1)}),Pf.apply(this,arguments)}function th(i,e){const n=zt(i);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),Lm(n)?Mf(n):ec(n).Jo()&&G_(n,e))}function Xu(i,e){const n=zt(i),s=ec(n);n.C_.delete(e),s.Jo()&&Rf(n,e),0===n.C_.size&&(s.Jo()?s.Xo():au(n)&&n.x_.set("Unknown"))}function G_(i,e){if(i.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(dn.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ec(i).c_(e)}function Rf(i,e){i.O_.Oe(e),ec(i).l_(e)}function Mf(i){i.O_=new Av({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>i.C_.get(e)||null,nt:()=>i.datastore.serializer.databaseId}),ec(i).start(),i.x_.p_()}function Lm(i){return au(i)&&!ec(i).Ho()&&i.C_.size>0}function au(i){return 0===zt(i).v_.size}function km(i){i.O_=void 0}function Zv(i){return xf.apply(this,arguments)}function xf(){return xf=(0,ge.Z)(function*(i){i.C_.forEach((e,n)=>{G_(i,e)})}),xf.apply(this,arguments)}function Qv(i,e){return Fm.apply(this,arguments)}function Fm(){return Fm=(0,ge.Z)(function*(i,e){km(i),Lm(i)?(i.x_.S_(e),Mf(i)):i.x_.set("Unknown")}),Fm.apply(this,arguments)}function UE(i,e,n){return Of.apply(this,arguments)}function Of(){return Of=(0,ge.Z)(function*(i,e,n){if(i.x_.set("Online"),e instanceof o_&&2===e.state&&e.cause)try{yield(s=(0,ge.Z)(function*(c,h){const D=h.cause;for(const M of h.targetIds)c.C_.has(M)&&(yield c.remoteSyncer.rejectListen(M,D),c.C_.delete(M),c.O_.removeTarget(M))}),function l(c,h){return s.apply(this,arguments)})(i,e)}catch(s){mt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield nh(i,s)}else if(e instanceof lf?i.O_.$e(e):e instanceof s_?i.O_.Je(e):i.O_.Ge(e),!n.isEqual(dn.min()))try{const s=yield $v(i.localStore);n.compareTo(s)>=0&&(yield function(c,h){const D=c.O_.it(h);return D.targetChanges.forEach((M,j)=>{if(M.resumeToken.approximateByteSize()>0){const X=c.C_.get(j);X&&c.C_.set(j,X.withResumeToken(M.resumeToken,h))}}),D.targetMismatches.forEach((M,j)=>{const X=c.C_.get(M);if(!X)return;c.C_.set(M,X.withResumeToken(ni.EMPTY_BYTE_STRING,X.snapshotVersion)),Rf(c,M);const fe=new eu(X.target,M,j,X.sequenceNumber);G_(c,fe)}),c.remoteSyncer.applyRemoteEvent(D)}(i,n))}catch(s){mt("RemoteStore","Failed to raise snapshot:",s),yield nh(i,s)}var s}),Of.apply(this,arguments)}function nh(i,e,n){return Zo.apply(this,arguments)}function Zo(){return Zo=(0,ge.Z)(function*(i,e,n){if(!kn(e))throw e;i.v_.add(1),yield Zc(i),i.x_.set("Offline"),n||(n=()=>$v(i.localStore)),i.asyncQueue.enqueueRetryable((0,ge.Z)(function*(){mt("RemoteStore","Retrying IndexedDB access"),yield n(),i.v_.delete(1),yield eh(i)}))}),Zo.apply(this,arguments)}function Vm(i,e){return e().catch(n=>nh(i,n,e))}function rh(i){return ih.apply(this,arguments)}function ih(){return ih=(0,ge.Z)(function*(i){const e=zt(i),n=Pl(e);let s=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;lu(e);)try{const l=yield Rm(e.localStore,s);if(null===l){0===e.D_.length&&n.Xo();break}s=l.batchId,Um(e,l)}catch(l){yield nh(e,l)}W_(e)&&Yv(e)}),ih.apply(this,arguments)}function lu(i){return au(i)&&i.D_.length<10}function Um(i,e){i.D_.push(e);const n=Pl(i);n.Jo()&&n.P_&&n.I_(e.mutations)}function W_(i){return au(i)&&!Pl(i).Ho()&&i.D_.length>0}function Yv(i){Pl(i).start()}function Jv(i){return sh.apply(this,arguments)}function sh(){return sh=(0,ge.Z)(function*(i){Pl(i).d_()}),sh.apply(this,arguments)}function Xa(i){return Nf.apply(this,arguments)}function Nf(){return Nf=(0,ge.Z)(function*(i){const e=Pl(i);for(const n of i.D_)e.I_(n.mutations)}),Nf.apply(this,arguments)}function Xv(i,e,n){return q_.apply(this,arguments)}function q_(){return q_=(0,ge.Z)(function*(i,e,n){const s=i.D_.shift(),l=Yp.from(s,e,n);yield Vm(i,()=>i.remoteSyncer.applySuccessfulWrite(l)),yield rh(i)}),q_.apply(this,arguments)}function Fs(i,e){return Bm.apply(this,arguments)}function Bm(){return Bm=(0,ge.Z)(function*(i,e){var n;e&&Pl(i).P_&&(yield(n=(0,ge.Z)(function*(l,c){if(n_(D=c.code)&&D!==ot.ABORTED){const h=l.D_.shift();Pl(l).Zo(),yield Vm(l,()=>l.remoteSyncer.rejectFailedWrite(h.batchId,c)),yield rh(l)}var D}),function s(l,c){return n.apply(this,arguments)})(i,e)),W_(i)&&Yv(i)}),Bm.apply(this,arguments)}function Lf(i,e){return Hm.apply(this,arguments)}function Hm(){return Hm=(0,ge.Z)(function*(i,e){const n=zt(i);n.asyncQueue.verifyOperationInProgress(),mt("RemoteStore","RemoteStore received new credentials");const s=au(n);n.v_.add(3),yield Zc(n),s&&n.x_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),yield eh(n)}),Hm.apply(this,arguments)}function jm(i,e){return oh.apply(this,arguments)}function oh(){return oh=(0,ge.Z)(function*(i,e){const n=zt(i);e?(n.v_.delete(2),yield eh(n)):e||(n.v_.add(2),yield Zc(n),n.x_.set("Unknown"))}),oh.apply(this,arguments)}function ec(i){return i.N_||(i.N_=function(n,s,l){const c=zt(n);return c.R_(),new Wv(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(i.datastore,i.asyncQueue,{Po:Zv.bind(null,i),To:Qv.bind(null,i),u_:UE.bind(null,i)}),i.F_.push(function(){var e=(0,ge.Z)(function*(n){n?(i.N_.Zo(),Lm(i)?Mf(i):i.x_.set("Unknown")):(yield i.N_.stop(),km(i))});return function(n){return e.apply(this,arguments)}}())),i.N_}function Pl(i){return i.B_||(i.B_=function(n,s,l){const c=zt(n);return c.R_(),new Sf(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(i.datastore,i.asyncQueue,{Po:Jv.bind(null,i),To:Fs.bind(null,i),E_:Xa.bind(null,i),T_:Xv.bind(null,i)}),i.F_.push(function(){var e=(0,ge.Z)(function*(n){n?(i.B_.Zo(),yield rh(i)):(yield i.B_.stop(),i.D_.length>0&&(mt("RemoteStore",`Stopping write stream with ${i.D_.length} pending writes`),i.D_=[]))});return function(n){return e.apply(this,arguments)}}())),i.B_}class $m{constructor(e,n,s,l,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new Oi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,l,c){const h=Date.now()+s,D=new $m(e,n,h,l,c);return D.start(s),D}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new _t(ot.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tc(i,e){if(zr("AsyncQueue",`${e}: ${i}`),kn(i))return new _t(ot.UNAVAILABLE,`${e}: ${i}`);throw i}class nc{constructor(e){this.comparator=e?(n,s)=>e(n,s)||Ut.comparator(n.key,s.key):(n,s)=>Ut.comparator(n.key,s.key),this.keyedMap=Nu(),this.sortedSet=new Yr(this.comparator)}static emptySet(e){return new nc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof nc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const s=new nc;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class K_{constructor(){this.L_=new Yr(Ut.comparator)}track(e){const n=e.doc.key,s=this.L_.get(n);s?0!==e.type&&3===s.type?this.L_=this.L_.insert(n,e):3===e.type&&1!==s.type?this.L_=this.L_.insert(n,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.L_=this.L_.remove(n):1===e.type&&2===s.type?this.L_=this.L_.insert(n,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):Kt():this.L_=this.L_.insert(n,e)}k_(){const e=[];return this.L_.inorderTraversal((n,s)=>{e.push(s)}),e}}class Qc{constructor(e,n,s,l,c,h,D,M,j){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=h,this.syncStateChanged=D,this.excludesMetadataChanges=M,this.hasCachedResults=j}static fromInitialDocuments(e,n,s,l,c){const h=[];return n.forEach(D=>{h.push({type:0,doc:D})}),new Qc(e,n,nc.emptySet(n),h,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nt(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==s[l].type||!n[l].doc.isEqual(s[l].doc))return!1;return!0}}class Z_{constructor(){this.q_=void 0,this.Q_=[]}}class Q_{constructor(){this.queries=new Go(e=>Et(e),nt),this.onlineState="Unknown",this.K_=new Set}}function uu(i,e){return Ma.apply(this,arguments)}function Ma(){return Ma=(0,ge.Z)(function*(i,e){const n=zt(i),s=e.query;let l=!1,c=n.queries.get(s);if(c||(l=!0,c=new Z_),l)try{c.q_=yield n.onListen(s)}catch(h){const D=tc(h,`Initialization of query '${Xt(e.query)}' failed`);return void e.onError(D)}n.queries.set(s,c),c.Q_.push(e),e.U_(n.onlineState),c.q_&&e.W_(c.q_)&&kf(n)}),Ma.apply(this,arguments)}function cu(i,e){return zm.apply(this,arguments)}function zm(){return zm=(0,ge.Z)(function*(i,e){const n=zt(i),s=e.query;let l=!1;const c=n.queries.get(s);if(c){const h=c.Q_.indexOf(e);h>=0&&(c.Q_.splice(h,1),l=0===c.Q_.length)}if(l)return n.queries.delete(s),n.onUnlisten(s)}),zm.apply(this,arguments)}function eI(i,e){const n=zt(i);let s=!1;for(const l of e){const h=n.queries.get(l.query);if(h){for(const D of h.Q_)D.W_(l)&&(s=!0);h.q_=l}}s&&kf(n)}function Y_(i,e,n){const s=zt(i),l=s.queries.get(e);if(l)for(const c of l.Q_)c.onError(n);s.queries.delete(e)}function kf(i){i.K_.forEach(e=>{e.next()})}class ah{constructor(e,n,s){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=s||{}}W_(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)3!==l.type&&s.push(l);e=new Qc(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){return!e.fromCache||(!this.options.Z_||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}H_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Y_(e){e=Qc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}class lh{constructor(e,n){this.X_=e,this.byteLength=n}ea(){return"metadata"in this.X_}}class uh{constructor(e){this.serializer=e}Ps(e){return Sa(this.serializer,e)}Is(e){return e.metadata.exists?Nc(this.serializer,e.document,!1):ur.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return Ji(e)}}class J_{constructor(e,n,s){this.ta=e,this.localStore=n,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Gm(e)}na(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.X_.namedQuery)this.queries.push(e.X_.namedQuery);else if(e.X_.documentMetadata){this.documents.push({metadata:e.X_.documentMetadata}),e.X_.documentMetadata.exists||++n;const s=Dn.fromString(e.X_.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.X_.document&&(this.documents[this.documents.length-1].document=e.X_.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}ra(e){const n=new Map,s=new uh(this.serializer);for(const l of e)if(l.metadata.queries){const c=s.Ps(l.metadata.name);for(const h of l.metadata.queries){const D=(n.get(h)||Qn()).add(c);n.set(h,D)}}return n}complete(){var e=this;return(0,ge.Z)(function*(){const n=yield function Mm(i,e,n,s){return qd.apply(this,arguments)}(e.localStore,new uh(e.serializer),e.documents,e.ta.id),s=e.ra(e.documents);for(const l of e.queries)yield Tf(e.localStore,l,s.get(l.name));return e.progress.taskState="Success",{progress:e.progress,ia:e.collectionGroups,sa:n}})()}}function Gm(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class X_{constructor(e){this.key=e}}class ey{constructor(e){this.key=e}}class ty{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=Qn(),this.mutatedKeys=Qn(),this.ua=Ls(e),this.ca=new nc(this.ua)}get la(){return this.oa}ha(e,n){const s=n?n.Pa:new K_,l=n?n.ca:this.ca;let c=n?n.mutatedKeys:this.mutatedKeys,h=l,D=!1;const M="F"===this.query.limitType&&l.size===this.query.limit?l.last():null,j="L"===this.query.limitType&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((X,fe)=>{const Le=l.get(X),Je=cn(this.query,fe)?fe:null,Rt=!!Le&&this.mutatedKeys.has(Le.key),Gt=!!Je&&(Je.hasLocalMutations||this.mutatedKeys.has(Je.key)&&Je.hasCommittedMutations);let jt=!1;Le&&Je?Le.data.isEqual(Je.data)?Rt!==Gt&&(s.track({type:3,doc:Je}),jt=!0):this.Ia(Le,Je)||(s.track({type:2,doc:Je}),jt=!0,(M&&this.ua(Je,M)>0||j&&this.ua(Je,j)<0)&&(D=!0)):!Le&&Je?(s.track({type:0,doc:Je}),jt=!0):Le&&!Je&&(s.track({type:1,doc:Le}),jt=!0,(M||j)&&(D=!0)),jt&&(Je?(h=h.add(Je),c=Gt?c.add(X):c.delete(X)):(h=h.delete(X),c=c.delete(X)))}),null!==this.query.limit)for(;h.size>this.query.limit;){const X="F"===this.query.limitType?h.last():h.first();h=h.delete(X.key),c=c.delete(X.key),s.track({type:1,doc:X})}return{ca:h,Pa:s,Xi:D,mutatedKeys:c}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,l){const c=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const h=e.Pa.k_();h.sort((X,fe)=>function(Je,Rt){const Gt=jt=>{switch(jt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Kt()}};return Gt(Je)-Gt(Rt)}(X.type,fe.type)||this.ua(X.doc,fe.doc)),this.Ta(s),l=null!=l&&l;const D=n&&!l?this.Ea():[],M=0===this.aa.size&&this.current&&!l?1:0,j=M!==this._a;return this._a=M,0!==h.length||j?{snapshot:new Qc(this.query,e.ca,c,h,e.mutatedKeys,0===M,j,!1,!!s&&s.resumeToken.approximateByteSize()>0),da:D}:{da:D}}U_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new K_,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=Qn(),this.ca.forEach(s=>{this.Aa(s.key)&&(this.aa=this.aa.add(s.key))});const n=[];return e.forEach(s=>{this.aa.has(s)||n.push(new ey(s))}),this.aa.forEach(s=>{e.has(s)||n.push(new X_(s))}),n}Ra(e){this.oa=e.hs,this.aa=Qn();const n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return Qc.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,0===this._a,this.hasCachedResults)}}class tI{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class ny{constructor(e){this.key=e,this.ma=!1}}class BE{constructor(e,n,s,l,c,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=h,this.fa={},this.ga=new Go(D=>Et(D),nt),this.pa=new Map,this.ya=new Set,this.wa=new Yr(Ut.comparator),this.Sa=new Map,this.ba=new $d,this.Da={},this.Ca=new Map,this.va=Wu.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return!0===this.Fa}}function nI(i,e){return ry.apply(this,arguments)}function ry(){return ry=(0,ge.Z)(function*(i,e){const n=ng(i);let s,l;const c=n.ga.get(e);if(c)s=c.targetId,n.sharedClientState.addLocalQueryTarget(s),l=c.view.Va();else{const h=yield ou(n.localStore,C(e)),D=n.sharedClientState.addLocalQueryTarget(h.targetId);s=h.targetId,l=yield iy(n,e,s,"current"===D,h.resumeToken),n.isPrimaryClient&&th(n.remoteStore,h)}return l}),ry.apply(this,arguments)}function iy(i,e,n,s,l){return Ff.apply(this,arguments)}function Ff(){return Ff=(0,ge.Z)(function*(i,e,n,s,l){i.Ma=(fe,Le,Je)=>{return(Rt=(0,ge.Z)(function*(jt,gn,Jn,mn){let Xn=gn.view.ha(Jn);Xn.Xi&&(Xn=yield Gc(jt.localStore,gn.query,!1).then(({documents:Yo})=>gn.view.ha(Yo,Xn)));const Or=mn&&mn.targetChanges.get(gn.targetId),Wr=mn&&null!=mn.targetMismatches.get(gn.targetId),es=gn.view.applyChanges(Xn,jt.isPrimaryClient,Or,Wr);return dh(jt,gn.targetId,es.da),es.snapshot}),function Gt(jt,gn,Jn,mn){return Rt.apply(this,arguments)})(i,fe,Le,Je);var Rt};const c=yield Gc(i.localStore,e,!0),h=new ty(e,c.hs),D=h.ha(c.documents),M=Sd.createSynthesizedTargetChangeForCurrentChange(n,s&&"Offline"!==i.onlineState,l),j=h.applyChanges(D,i.isPrimaryClient,M);dh(i,n,j.da);const X=new tI(e,n,h);return i.ga.set(e,X),i.pa.has(n)?i.pa.get(n).push(e):i.pa.set(n,[e]),j.snapshot}),Ff.apply(this,arguments)}function sy(i,e){return oy.apply(this,arguments)}function oy(){return oy=(0,ge.Z)(function*(i,e){const n=zt(i),s=n.ga.get(e),l=n.pa.get(s.targetId);if(l.length>1)return n.pa.set(s.targetId,l.filter(c=>!nt(c,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||(yield Ra(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),Xu(n.remoteStore,s.targetId),el(n,s.targetId)}).catch(te))):(el(n,s.targetId),yield Ra(n.localStore,s.targetId,!0))}),oy.apply(this,arguments)}function Uf(){return Uf=(0,ge.Z)(function*(i,e,n){const s=rg(i);try{const l=yield function(h,D){const M=zt(h),j=ai.now(),X=D.reduce((Je,Rt)=>Je.add(Rt.key),Qn());let fe,Le;return M.persistence.runTransaction("Locally write mutations","readwrite",Je=>{let Rt=ys(),Gt=Qn();return M.os.getEntries(Je,X).next(jt=>{Rt=jt,Rt.forEach((gn,Jn)=>{Jn.isValidDocument()||(Gt=Gt.add(gn))})}).next(()=>M.localDocuments.getOverlayedDocuments(Je,Rt)).next(jt=>{fe=jt;const gn=[];for(const Jn of D){const mn=mo(Jn,fe.get(Jn.key).overlayedDocument);null!=mn&&gn.push(new qa(Jn.key,mn,Wh(mn.value.mapValue),Ni.exists(!0)))}return M.mutationQueue.addMutationBatch(Je,j,gn,D)}).next(jt=>{Le=jt;const gn=jt.applyToLocalDocumentSet(fe,Gt);return M.documentOverlayCache.saveOverlays(Je,jt.batchId,gn)})}).then(()=>({batchId:Le.batchId,changes:Kl(fe)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(l.batchId),function(h,D,M){let j=h.Da[h.currentUser.toKey()];j||(j=new Yr(Tn)),j=j.insert(D,M),h.Da[h.currentUser.toKey()]=j}(s,l.batchId,n),yield tl(s,l.changes),yield rh(s.remoteStore)}catch(l){const c=tc(l,"Failed to persist write");n.reject(c)}}),Uf.apply(this,arguments)}function Wm(i,e){return qm.apply(this,arguments)}function qm(){return qm=(0,ge.Z)(function*(i,e){const n=zt(i);try{const s=yield function Ef(i,e){const n=zt(i),s=e.snapshotVersion;let l=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const h=n.os.newChangeBuffer({trackRemovals:!0});l=n.ns;const D=[];e.targetChanges.forEach((X,fe)=>{const Le=l.get(fe);if(!Le)return;D.push(n.Qr.removeMatchingKeys(c,X.removedDocuments,fe).next(()=>n.Qr.addMatchingKeys(c,X.addedDocuments,fe)));let Je=Le.withSequenceNumber(c.currentSequenceNumber);var Gt,jt,gn;null!==e.targetMismatches.get(fe)?Je=Je.withResumeToken(ni.EMPTY_BYTE_STRING,dn.min()).withLastLimboFreeSnapshotVersion(dn.min()):X.resumeToken.approximateByteSize()>0&&(Je=Je.withResumeToken(X.resumeToken,s)),l=l.insert(fe,Je),jt=Je,gn=X,(0===(Gt=Le).resumeToken.approximateByteSize()||jt.snapshotVersion.toMicroseconds()-Gt.snapshotVersion.toMicroseconds()>=3e8||gn.addedDocuments.size+gn.modifiedDocuments.size+gn.removedDocuments.size>0)&&D.push(n.Qr.updateTargetData(c,Je))});let M=ys(),j=Qn();if(e.documentUpdates.forEach(X=>{e.resolvedLimboDocuments.has(X)&&D.push(n.persistence.referenceDelegate.updateLimboDocument(c,X))}),D.push(V_(c,h,e.documentUpdates).next(X=>{M=X.cs,j=X.ls})),!s.isEqual(dn.min())){const X=n.Qr.getLastRemoteSnapshotVersion(c).next(fe=>n.Qr.setTargetsMetadata(c,c.currentSequenceNumber,s));D.push(X)}return ce.waitFor(D).next(()=>h.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,M,j)).next(()=>M)}).then(c=>(n.ns=l,c))}(n.localStore,e);e.targetChanges.forEach((l,c)=>{const h=n.Sa.get(c);h&&(Jt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?h.ma=!0:l.modifiedDocuments.size>0?Jt(h.ma):l.removedDocuments.size>0&&(Jt(h.ma),h.ma=!1))}),yield tl(n,s,e)}catch(s){yield te(s)}}),qm.apply(this,arguments)}function Km(i,e,n){const s=zt(i);if(s.isPrimaryClient&&0===n||!s.isPrimaryClient&&1===n){const l=[];s.ga.forEach((c,h)=>{const D=h.view.U_(e);D.snapshot&&l.push(D.snapshot)}),function(h,D){const M=zt(h);M.onlineState=D;let j=!1;M.queries.forEach((X,fe)=>{for(const Le of fe.Q_)Le.U_(D)&&(j=!0)}),j&&kf(M)}(s.eventManager,e),l.length&&s.fa.u_(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function ay(i,e,n){return Yn.apply(this,arguments)}function Yn(){return Yn=(0,ge.Z)(function*(i,e,n){const s=zt(i);s.sharedClientState.updateQueryState(e,"rejected",n);const l=s.Sa.get(e),c=l&&l.key;if(c){let h=new Yr(Ut.comparator);h=h.insert(c,ur.newNoDocument(c,dn.min()));const D=Qn().add(c),M=new Ql(dn.min(),new Map,new Yr(Tn),h,D);yield Wm(s,M),s.wa=s.wa.remove(c),s.Sa.delete(e),hh(s)}else yield Ra(s.localStore,e,!1).then(()=>el(s,e,n)).catch(te)}),Yn.apply(this,arguments)}function ly(i,e){return Bf.apply(this,arguments)}function Bf(){return Bf=(0,ge.Z)(function*(i,e){const n=zt(i),s=e.batch.batchId;try{const l=yield function FE(i,e){const n=zt(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=e.batch.keys(),c=n.os.newChangeBuffer({trackRemovals:!0});return function(D,M,j,X){const fe=j.batch,Le=fe.keys();let Je=ce.resolve();return Le.forEach(Rt=>{Je=Je.next(()=>X.getEntry(M,Rt)).next(Gt=>{const jt=j.docVersions.get(Rt);Jt(null!==jt),Gt.version.compareTo(jt)<0&&(fe.applyToRemoteDocument(Gt,j),Gt.isValidDocument()&&(Gt.setReadTime(j.commitVersion),X.addEntry(Gt)))})}),Je.next(()=>D.mutationQueue.removeMutationBatch(M,fe))}(n,s,e,c).next(()=>c.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,l,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(D){let M=Qn();for(let j=0;j<D.mutationResults.length;++j)D.mutationResults[j].transformResults.length>0&&(M=M.add(D.batch.mutations[j].key));return M}(e))).next(()=>n.localDocuments.getDocuments(s,l))})}(n.localStore,e);ch(n,s,null),du(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),yield tl(n,l)}catch(l){yield te(l)}}),Bf.apply(this,arguments)}function Yc(i,e,n){return Hf.apply(this,arguments)}function Hf(){return Hf=(0,ge.Z)(function*(i,e,n){const s=zt(i);try{const l=yield function(h,D){const M=zt(h);return M.persistence.runTransaction("Reject batch","readwrite-primary",j=>{let X;return M.mutationQueue.lookupMutationBatch(j,D).next(fe=>(Jt(null!==fe),X=fe.keys(),M.mutationQueue.removeMutationBatch(j,fe))).next(()=>M.mutationQueue.performConsistencyCheck(j)).next(()=>M.documentOverlayCache.removeOverlaysForBatchId(j,X,D)).next(()=>M.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(j,X)).next(()=>M.localDocuments.getDocuments(j,X))})}(s.localStore,e);ch(s,e,n),du(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),yield tl(s,l)}catch(l){yield te(l)}}),Hf.apply(this,arguments)}function Jc(){return Jc=(0,ge.Z)(function*(i,e){const n=zt(i);au(n.remoteStore)||mt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(h){const D=zt(h);return D.persistence.runTransaction("Get highest unacknowledged batch id","readonly",M=>D.mutationQueue.getHighestUnacknowledgedBatchId(M))}(n.localStore);if(-1===s)return void e.resolve();const l=n.Ca.get(s)||[];l.push(e),n.Ca.set(s,l)}catch(s){const l=tc(s,"Initialization of waitForPendingWrites() operation failed");e.reject(l)}}),Jc.apply(this,arguments)}function du(i,e){(i.Ca.get(e)||[]).forEach(n=>{n.resolve()}),i.Ca.delete(e)}function ch(i,e,n){const s=zt(i);let l=s.Da[s.currentUser.toKey()];if(l){const c=l.get(e);c&&(n?c.reject(n):c.resolve(),l=l.remove(e)),s.Da[s.currentUser.toKey()]=l}}function el(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.pa.get(e))i.ga.delete(s),n&&i.fa.xa(s,n);i.pa.delete(e),i.isPrimaryClient&&i.ba.Vr(e).forEach(s=>{i.ba.containsKey(s)||Zm(i,s)})}function Zm(i,e){i.ya.delete(e.path.canonicalString());const n=i.wa.get(e);null!==n&&(Xu(i.remoteStore,n),i.wa=i.wa.remove(e),i.Sa.delete(n),hh(i))}function dh(i,e,n){for(const s of n)s instanceof X_?(i.ba.addReference(s.key,e),Qm(i,s)):s instanceof ey?(mt("SyncEngine","Document no longer in limbo: "+s.key),i.ba.removeReference(s.key,e),i.ba.containsKey(s.key)||Zm(i,s.key)):Kt()}function Qm(i,e){const n=e.key,s=n.path.canonicalString();i.wa.get(n)||i.ya.has(s)||(mt("SyncEngine","New document in limbo: "+n),i.ya.add(s),hh(i))}function hh(i){for(;i.ya.size>0&&i.wa.size<i.maxConcurrentLimboResolutions;){const e=i.ya.values().next().value;i.ya.delete(e);const n=new Ut(Dn.fromString(e)),s=i.va.next();i.Sa.set(s,new ny(n)),i.wa=i.wa.insert(n,s),th(i.remoteStore,new eu(C(ql(n.path)),s,"TargetPurposeLimboResolution",co._e))}}function tl(i,e,n){return fh.apply(this,arguments)}function fh(){return fh=(0,ge.Z)(function*(i,e,n){const s=zt(i),l=[],c=[],h=[];var D;s.ga.isEmpty()||(s.ga.forEach((D,M)=>{h.push(s.Ma(M,e,n).then(j=>{if((j||n)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(M.targetId,j?.fromCache?"not-current":"current"),j){l.push(j);const X=Sm.Ki(M.targetId,j);c.push(X)}}))}),yield Promise.all(h),s.fa.u_(l),yield(D=(0,ge.Z)(function*(j,X){const fe=zt(j);try{yield fe.persistence.runTransaction("notifyLocalViewChanges","readwrite",Le=>ce.forEach(X,Je=>ce.forEach(Je.qi,Rt=>fe.persistence.referenceDelegate.addReference(Le,Je.targetId,Rt)).next(()=>ce.forEach(Je.Qi,Rt=>fe.persistence.referenceDelegate.removeReference(Le,Je.targetId,Rt)))))}catch(Le){if(!kn(Le))throw Le;mt("LocalStore","Failed to update sequence numbers: "+Le)}for(const Le of X){const Je=Le.targetId;if(!Le.fromCache){const Rt=fe.ns.get(Je),jt=Rt.withLastLimboFreeSnapshotVersion(Rt.snapshotVersion);fe.ns=fe.ns.insert(Je,jt)}}}),function M(j,X){return D.apply(this,arguments)})(s.localStore,c))}),fh.apply(this,arguments)}function iI(i,e){return Ym.apply(this,arguments)}function Ym(){return Ym=(0,ge.Z)(function*(i,e){const n=zt(i);if(!n.currentUser.isEqual(e)){mt("SyncEngine","User change. New user:",e.toKey());const s=yield F_(n.localStore,e);n.currentUser=e,(c=n).Ca.forEach(D=>{D.forEach(M=>{M.reject(new _t(ot.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),c.Ca.clear(),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield tl(n,s.us)}var c}),Ym.apply(this,arguments)}function sI(i,e){const n=zt(i),s=n.Sa.get(e);if(s&&s.ma)return Qn().add(s.key);{let l=Qn();const c=n.pa.get(e);if(!c)return l;for(const h of c){const D=n.ga.get(h);l=l.unionWith(D.view.la)}return l}}function uy(i,e){return Jm.apply(this,arguments)}function Jm(){return Jm=(0,ge.Z)(function*(i,e){const n=zt(i),s=yield Gc(n.localStore,e.query,!0),l=e.view.Ra(s);return n.isPrimaryClient&&dh(n,e.targetId,l.da),l}),Jm.apply(this,arguments)}function oI(i,e){return Xm.apply(this,arguments)}function Xm(){return Xm=(0,ge.Z)(function*(i,e){const n=zt(i);return Wd(n.localStore,e).then(s=>tl(n,s))}),Xm.apply(this,arguments)}function aI(i,e,n,s){return jf.apply(this,arguments)}function jf(){return jf=(0,ge.Z)(function*(i,e,n,s){const l=zt(i),c=yield function(D,M){const j=zt(D),X=zt(j.mutationQueue);return j.persistence.runTransaction("Lookup mutation documents","readonly",fe=>X.vn(fe,M).next(Le=>Le?j.localDocuments.getDocuments(fe,Le):ce.resolve(null)))}(l.localStore,e);var M;null!==c?("pending"===n?yield rh(l.remoteStore):"acknowledged"===n||"rejected"===n?(ch(l,e,s||null),du(l,e),M=e,zt(zt(l.localStore).mutationQueue).Mn(M)):Kt(),yield tl(l,c)):mt("SyncEngine","Cannot apply mutation batch with id: "+e)}),jf.apply(this,arguments)}function eg(){return eg=(0,ge.Z)(function*(i,e){const n=zt(i);if(ng(n),rg(n),!0===e&&!0!==n.Fa){const s=n.sharedClientState.getAllActiveQueryTargets(),l=yield dy(n,s.toArray());n.Fa=!0,yield jm(n.remoteStore,!0);for(const c of l)th(n.remoteStore,c)}else if(!1===e&&!1!==n.Fa){const s=[];let l=Promise.resolve();n.pa.forEach((c,h)=>{n.sharedClientState.isLocalQueryTarget(h)?s.push(h):l=l.then(()=>(el(n,h),Ra(n.localStore,h,!0))),Xu(n.remoteStore,h)}),yield l,yield dy(n,s),function(h){const D=zt(h);D.Sa.forEach((M,j)=>{Xu(D.remoteStore,j)}),D.ba.mr(),D.Sa=new Map,D.wa=new Yr(Ut.comparator)}(n),n.Fa=!1,yield jm(n.remoteStore,!1)}}),eg.apply(this,arguments)}function dy(i,e,n){return Do.apply(this,arguments)}function Do(){return Do=(0,ge.Z)(function*(i,e,n){const s=zt(i),l=[],c=[];for(const h of e){let D;const M=s.pa.get(h);if(M&&0!==M.length){D=yield ou(s.localStore,C(M[0]));for(const j of M){const X=s.ga.get(j),fe=yield uy(s,X);fe.snapshot&&c.push(fe.snapshot)}}else{const j=yield Wc(s.localStore,h);D=yield ou(s.localStore,j),yield iy(s,hy(j),h,!1,D.resumeToken)}l.push(D)}return s.fa.u_(c),l}),Do.apply(this,arguments)}function hy(i){return Ou(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function lI(i){return n=zt(i).localStore,zt(zt(n).persistence).Li();var n}function HE(i,e,n,s){return ph.apply(this,arguments)}function ph(){return ph=(0,ge.Z)(function*(i,e,n,s){const l=zt(i);if(l.Fa)return void mt("SyncEngine","Ignoring unexpected query state notification.");const c=l.pa.get(e);if(c&&c.length>0)switch(n){case"current":case"not-current":{const h=yield Wd(l.localStore,hr(c[0])),D=Ql.createSynthesizedRemoteEventForCurrentChange(e,"current"===n,ni.EMPTY_BYTE_STRING);yield tl(l,h,D);break}case"rejected":yield Ra(l.localStore,e,!0),el(l,e,s);break;default:Kt()}}),ph.apply(this,arguments)}function fy(i,e,n){return tg.apply(this,arguments)}function tg(){return tg=(0,ge.Z)(function*(i,e,n){const s=ng(i);if(s.Fa){for(const l of e){if(s.pa.has(l)){mt("SyncEngine","Adding an already active target "+l);continue}const c=yield Wc(s.localStore,l),h=yield ou(s.localStore,c);yield iy(s,hy(c),h.targetId,!1,h.resumeToken),th(s.remoteStore,h)}for(const l of n)s.pa.has(l)&&(yield Ra(s.localStore,l,!1).then(()=>{Xu(s.remoteStore,l),el(s,l)}).catch(te))}}),tg.apply(this,arguments)}function ng(i){const e=zt(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Wm.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=sI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ay.bind(null,e),e.fa.u_=eI.bind(null,e.eventManager),e.fa.xa=Y_.bind(null,e.eventManager),e}function rg(i){const e=zt(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ly.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Yc.bind(null,e),e}class mh{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,ge.Z)(function*(){n.serializer=Xd(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return k_(this.persistence,new If,e.initialUser,this.serializer)}createPersistence(e){return new su(_f.Hr,this.serializer)}createSharedClientState(e){return new B_}terminate(){var e=this;return(0,ge.Z)(function*(){var n,s;null===(n=e.gcScheduler)||void 0===n||n.stop(),null===(s=e.indexBackfillerScheduler)||void 0===s||s.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class gh extends mh{constructor(e,n,s){super(),this.Na=e,this.cacheSizeBytes=n,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var n=()=>super.initialize,s=this;return(0,ge.Z)(function*(){yield n().call(s,e),yield s.Na.initialize(s,e),yield rg(s.Na.syncEngine),yield rh(s.Na.remoteStore),yield s.persistence.fi(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return k_(this.persistence,new If,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){return new Hc(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const s=new Ic(n,this.persistence);return new Ca(e.asyncQueue,s)}createPersistence(e){const n=vf(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?Gs.withCacheSize(this.cacheSizeBytes):Gs.DEFAULT;return new Am(this.synchronizeTabs,n,e.clientId,s,e.asyncQueue,$_(),Jd(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new B_}}class my extends gh{constructor(e,n){super(e,n,!1),this.Na=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){var n=()=>super.initialize,s=this;return(0,ge.Z)(function*(){yield n().call(s,e);const l=s.Na.syncEngine;s.sharedClientState instanceof Om&&(s.sharedClientState.syncEngine={Zs:aI.bind(null,l),Xs:HE.bind(null,l),eo:fy.bind(null,l),Li:lI.bind(null,l),Ys:oI.bind(null,l)},yield s.sharedClientState.start()),yield s.persistence.fi(function(){var c=(0,ge.Z)(function*(h){yield function cy(i,e){return eg.apply(this,arguments)}(s.Na.syncEngine,h),s.gcScheduler&&(h&&!s.gcScheduler.started?s.gcScheduler.start():h||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(h&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():h||s.indexBackfillerScheduler.stop())});return function(h){return c.apply(this,arguments)}}())})()}createSharedClientState(e){const n=$_();if(!Om.D(n))throw new _t(ot.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=vf(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Om(n,e.asyncQueue,s,e.clientId,e.initialUser)}}class Xc{initialize(e,n){var s=this;return(0,ge.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(n),s.remoteStore=s.createRemoteStore(n),s.eventManager=s.createEventManager(n),s.syncEngine=s.createSyncEngine(n,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=l=>Km(s.syncEngine,l,1),s.remoteStore.remoteSyncer.handleCredentialChange=iI.bind(null,s.syncEngine),yield jm(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Q_}createDatastore(e){const n=Xd(e.databaseInfo.databaseId),s=new Df(e.databaseInfo);return new qv(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return s=this.localStore,l=this.datastore,c=e.asyncQueue,h=n=>Km(this.syncEngine,n,0),D=H_.D()?new H_:new VE,new z_(s,l,c,h,D);var s,l,c,h,D}createSyncEngine(e,n){return function(l,c,h,D,M,j,X){const fe=new BE(l,c,h,D,M,j);return X&&(fe.Fa=!0),fe}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){var e=this;return(0,ge.Z)(function*(){var n,s;yield(s=(0,ge.Z)(function*(c){const h=zt(c);mt("RemoteStore","RemoteStore shutting down."),h.v_.add(5),yield Zc(h),h.M_.shutdown(),h.x_.set("Unknown")}),function l(c){return s.apply(this,arguments)})(e.remoteStore),null===(n=e.datastore)||void 0===n||n.terminate()})()}}function gy(i,e=10240){let n=0;return{read:()=>(0,ge.Z)(function*(){if(n<i.byteLength){const s={value:i.slice(n,n+e),done:!1};return n+=e,s}return{done:!0}})(),cancel:()=>(0,ge.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class $f{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):zr("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class cI{constructor(e,n){this.ka=e,this.serializer=n,this.metadata=new Oi,this.buffer=new Uint8Array,this.qa=new TextDecoder("utf-8"),this.Qa().then(s=>{s&&s.ea()?this.metadata.resolve(s.X_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(s?.X_)}`))},s=>this.metadata.reject(s))}close(){return this.ka.cancel()}getMetadata(){var e=this;return(0,ge.Z)(function*(){return e.metadata.promise})()}Oa(){var e=this;return(0,ge.Z)(function*(){return yield e.getMetadata(),e.Qa()})()}Qa(){var e=this;return(0,ge.Z)(function*(){const n=yield e.Ka();if(null===n)return null;const s=e.qa.decode(n),l=Number(s);isNaN(l)&&e.$a(`length string (${s}) is not valid number`);const c=yield e.Ua(l);return new lh(JSON.parse(c),n.length+l)})()}Wa(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Ka(){var e=this;return(0,ge.Z)(function*(){for(;e.Wa()<0&&!(yield e.Ga()););if(0===e.buffer.length)return null;const n=e.Wa();n<0&&e.$a("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,n);return e.buffer=e.buffer.slice(n),s})()}Ua(e){var n=this;return(0,ge.Z)(function*(){for(;n.buffer.length<e;)(yield n.Ga())&&n.$a("Reached the end of bundle when more is expected.");const s=n.qa.decode(n.buffer.slice(0,e));return n.buffer=n.buffer.slice(e),s})()}$a(e){throw this.ka.cancel(),new Error(`Invalid bundle format: ${e}`)}Ga(){var e=this;return(0,ge.Z)(function*(){const n=yield e.ka.read();if(!n.done){const s=new Uint8Array(e.buffer.length+n.value.length);s.set(e.buffer),s.set(n.value,e.buffer.length),e.buffer=s}return n.done})()}}class nl{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var n=this;return(0,ge.Z)(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw n.lastTransactionError=new _t(ot.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),n.lastTransactionError;const s=yield(l=(0,ge.Z)(function*(h,D){const M=zt(h),j={documents:D.map(Je=>xd(M.serializer,Je))},X=yield M.vo("BatchGetDocuments",M.serializer.databaseId,Dn.emptyPath(),j,D.length),fe=new Map;X.forEach(Je=>{const Rt=function c_(i,e){return"found"in e?function(s,l){Jt(!!l.found);const c=Sa(s,l.found.name),h=Ji(l.found.updateTime),D=l.found.createTime?Ji(l.found.createTime):dn.min(),M=new $i({mapValue:{fields:l.found.fields}});return ur.newFoundDocument(c,h,D,M)}(i,e):"missing"in e?function(s,l){Jt(!!l.missing),Jt(!!l.readTime);const c=Sa(s,l.missing),h=Ji(l.readTime);return ur.newNoDocument(c,h)}(i,e):Kt()}(M.serializer,Je);fe.set(Rt.key.toString(),Rt)});const Le=[];return D.forEach(Je=>{const Rt=fe.get(Je.toString());Jt(!!Rt),Le.push(Rt)}),Le}),function c(h,D){return l.apply(this,arguments)})(n.datastore,e);var l;return s.forEach(l=>n.recordVersion(l)),s})()}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new Uu(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ge.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const n=e.readVersions;var s;e.mutations.forEach(s=>{n.delete(s.key.toString())}),n.forEach((s,l)=>{const c=Ut.fromPath(l);e.mutations.push(new Qp(c,e.precondition(c)))}),yield(s=(0,ge.Z)(function*(c,h){const D=zt(c),M={writes:h.map(j=>Jl(D.serializer,j))};yield D.So("Commit",D.serializer.databaseId,Dn.emptyPath(),M)}),function l(c,h){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Kt();n=dn.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!n.isEqual(s))throw new _t(ot.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(dn.min())?Ni.exists(!1):Ni.updateTime(n):Ni.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(dn.min()))throw new _t(ot.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ni.updateTime(n)}return Ni.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class ig{constructor(e,n,s,l,c){this.asyncQueue=e,this.datastore=n,this.options=s,this.updateFunction=l,this.deferred=c,this.za=s.maxAttempts,this.jo=new Af(this.asyncQueue,"transaction_retry")}ja(){this.za-=1,this.Ha()}Ha(){var e=this;this.jo.qo((0,ge.Z)(function*(){const n=new nl(e.datastore),s=e.Ja(n);s&&s.then(l=>{e.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{e.deferred.resolve(l)}).catch(c=>{e.Ya(c)}))}).catch(l=>{e.Ya(l)})}))}Ja(e){try{const n=this.updateFunction(e);return!Ua(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Ya(e){this.za>0&&this.Za(e)?(this.za-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ha(),Promise.resolve()))):this.deferred.reject(e)}Za(e){if("FirebaseError"===e.name){const n=e.code;return"aborted"===n||"failed-precondition"===n||"already-exists"===n||!n_(n)}return!1}}class dI{constructor(e,n,s,l){var c=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=l,this.user=In.UNAUTHENTICATED,this.clientId=sa.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var h=(0,ge.Z)(function*(D){mt("FirestoreClient","Received user=",D.uid),yield c.authCredentialListener(D),c.user=D});return function(D){return h.apply(this,arguments)}}()),this.appCheckCredentials.start(s,h=>(mt("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new _t(ot.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Oi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ge.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(s){const l=tc(s,"Failed to shutdown persistence");n.reject(l)}})),n.promise}}function _h(i,e){return sg.apply(this,arguments)}function sg(){return sg=(0,ge.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),mt("FirestoreClient","Initializing OfflineComponentProvider");const n=i.configuration;yield e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(function(){var l=(0,ge.Z)(function*(c){s.isEqual(c)||(yield F_(e.localStore,c),s=c)});return function(c){return l.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}),sg.apply(this,arguments)}function zf(i,e){return Gf.apply(this,arguments)}function Gf(){return Gf=(0,ge.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const n=yield vh(i);mt("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>Lf(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,l)=>Lf(e.remoteStore,l)),i._onlineComponents=e}),Gf.apply(this,arguments)}function yh(i){return"FirebaseError"===i.name?i.code===ot.FAILED_PRECONDITION||i.code===ot.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code}function vh(i){return _y.apply(this,arguments)}function _y(){return _y=(0,ge.Z)(function*(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){mt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield _h(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!yh(n))throw n;rn("Error using user provided cache. Falling back to memory cache: "+n),yield _h(i,new mh)}}else mt("FirestoreClient","Using default OfflineComponentProvider"),yield _h(i,new mh);return i._offlineComponents}),_y.apply(this,arguments)}function Ih(i){return Wf.apply(this,arguments)}function Wf(){return Wf=(0,ge.Z)(function*(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(mt("FirestoreClient","Using user provided OnlineComponentProvider"),yield zf(i,i._uninitializedComponentsProvider._online)):(mt("FirestoreClient","Using default OnlineComponentProvider"),yield zf(i,new Xc))),i._onlineComponents}),Wf.apply(this,arguments)}function og(i){return vh(i).then(e=>e.persistence)}function rc(i){return vh(i).then(e=>e.localStore)}function qf(i){return Ih(i).then(e=>e.remoteStore)}function xa(i){return Ih(i).then(e=>e.syncEngine)}function ed(i){return Eh.apply(this,arguments)}function Eh(){return Eh=(0,ge.Z)(function*(i){const e=yield Ih(i),n=e.eventManager;return n.onListen=nI.bind(null,e.syncEngine),n.onUnlisten=sy.bind(null,e.syncEngine),n}),Eh.apply(this,arguments)}function Th(i,e,n={}){const s=new Oi;return i.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return function(c,h,D,M,j){const X=new $f({next:Le=>{h.enqueueAndForget(()=>cu(c,fe));const Je=Le.docs.has(D);!Je&&Le.fromCache?j.reject(new _t(ot.UNAVAILABLE,"Failed to get document because the client is offline.")):Je&&Le.fromCache&&M&&"server"===M.source?j.reject(new _t(ot.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):j.resolve(Le)},error:Le=>j.reject(Le)}),fe=new ah(ql(D.path),X,{includeMetadataChanges:!0,Z_:!0});return uu(c,fe)}(yield ed(i),i.asyncQueue,e,n,s)})),s.promise}function ag(i,e,n={}){const s=new Oi;return i.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return function(c,h,D,M,j){const X=new $f({next:Le=>{h.enqueueAndForget(()=>cu(c,fe)),Le.fromCache&&"server"===M.source?j.reject(new _t(ot.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):j.resolve(Le)},error:Le=>j.reject(Le)}),fe=new ah(D,X,{includeMetadataChanges:!0,Z_:!0});return uu(c,fe)}(yield ed(i),i.asyncQueue,e,n,s)})),s.promise}function Ty(i){const e={};return void 0!==i.timeoutSeconds&&(e.timeoutSeconds=i.timeoutSeconds),e}const lg=new Map;function Zf(i,e,n){if(!n)throw new _t(ot.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function td(i,e,n,s){if(!0===e&&!0===s)throw new _t(ot.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function wy(i){if(!Ut.isDocumentKey(i))throw new _t(ot.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function ug(i){if(Ut.isDocumentKey(i))throw new _t(ot.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Ch(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(s=i).constructor?s.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var s;return"function"==typeof i?"a function":Kt()}function wr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new _t(ot.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ch(i);throw new _t(ot.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function Cy(i,e){if(e<=0)throw new _t(ot.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class nd{constructor(e){var n,s;if(void 0===e.host){if(void 0!==e.ssl)throw new _t(ot.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new _t(ot.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}td("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Ty(null!==(s=e.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(c){if(void 0!==c.timeoutSeconds){if(isNaN(c.timeoutSeconds))throw new _t(ot.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new _t(ot.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new _t(ot.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bh{constructor(e,n,s,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nd({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new _t(ot.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new _t(ot.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nd(e),void 0!==e.credentials&&(this._authCredentials=function(s){if(!s)return new Vl;switch(s.type){case"firstParty":return new dr(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new _t(ot.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=lg.get(n);s&&(mt("ComponentProvider","Removing Datastore"),lg.delete(n),s.terminate())}(this),Promise.resolve()}}class Ws{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ws(this.firestore,e,this._query)}}class Di{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Di(this.firestore,e,this._key)}}class rl extends Ws{constructor(e,n,s){super(e,n,ql(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Di(this.firestore,null,new Ut(e))}withConverter(e){return new rl(this.firestore,e,this._path)}}function Dy(i,e,...n){if(i=(0,V.m9)(i),Zf("collection","path",e),i instanceof bh){const s=Dn.fromString(e,...n);return ug(s),new rl(i,null,s)}{if(!(i instanceof Di||i instanceof rl))throw new _t(ot.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Dn.fromString(e,...n));return ug(s),new rl(i.firestore,null,s)}}function Qf(i,e,...n){if(i=(0,V.m9)(i),1===arguments.length&&(e=sa.newId()),Zf("doc","path",e),i instanceof bh){const s=Dn.fromString(e,...n);return wy(s),new Di(i,null,new Ut(s))}{if(!(i instanceof Di||i instanceof rl))throw new _t(ot.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Dn.fromString(e,...n));return wy(s),new Di(i.firestore,i instanceof rl?i.converter:null,new Ut(s))}}function cg(i,e){return i=(0,V.m9)(i),e=(0,V.m9)(e),(i instanceof Di||i instanceof rl)&&(e instanceof Di||e instanceof rl)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function Dh(i,e){return i=(0,V.m9)(i),e=(0,V.m9)(e),i instanceof Ws&&e instanceof Ws&&i.firestore===e.firestore&&nt(i._query,e._query)&&i.converter===e.converter}class _I{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new Af(this,"async_queue_retry"),this._u=()=>{const n=Jd();n&&mt("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=Jd();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const n=Jd();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});const n=new Oi;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}cu(){var e=this;return(0,ge.Z)(function*(){if(0!==e.eu.length){try{yield e.eu[0](),e.eu.shift(),e.jo.reset()}catch(n){if(!kn(n))throw n;mt("AsyncQueue","Operation failed with retryable error: "+n)}e.eu.length>0&&e.jo.qo(()=>e.cu())}})()}uu(e){const n=this.Xa.then(()=>(this.iu=!0,e().catch(s=>{throw this.ru=s,this.iu=!1,zr("INTERNAL UNHANDLED ERROR: ",function(h){let D=h.message||"";return h.stack&&(D=h.stack.includes(h.message)?h.stack:h.message+"\n"+h.stack),D}(s)),s}).then(s=>(this.iu=!1,s))));return this.Xa=n,n}enqueueAfterDelay(e,n,s){this.au(),this.ou.indexOf(e)>-1&&(n=0);const l=$m.createAndSchedule(this,e,n,s,c=>this.lu(c));return this.nu.push(l),l}au(){this.ru&&Kt()}verifyOperationInProgress(){}hu(){var e=this;return(0,ge.Z)(function*(){let n;do{n=e.Xa,yield n}while(n!==e.Xa)})()}Pu(e){for(const n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.nu)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){const n=this.nu.indexOf(e);this.nu.splice(n,1)}}function rd(i){return function(n,s){if("object"!=typeof n||null===n)return!1;const l=n;for(const c of["next","error","complete"])if(c in l&&"function"==typeof l[c])return!0;return!1}(i)}class yI{constructor(){this._progressObserver={},this._taskCompletionResolver=new Oi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,s){this._progressObserver={next:e,error:n,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class yi extends bh{constructor(e,n,s,l){super(e,n,s,l),this.type="firestore",this._queue=new _I,this._persistenceKey=l?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Ay(this),this._firestoreClient.terminate()}}function Xi(i){return i._firestoreClient||Ay(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Ay(i){var e,n,s;const l=i._freezeSettings(),c=(M=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new _d(i._databaseId,M,i._persistenceKey,(X=l).host,X.ssl,X.experimentalForceLongPolling,X.experimentalAutoDetectLongPolling,Ty(X.experimentalLongPollingOptions),X.useFetchStreams));var M,X;i._firestoreClient=new dI(i._authCredentials,i._appCheckCredentials,i._queue,c),null!==(n=l.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(s=l.localCache)&&void 0!==s&&s._onlineComponentProvider&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:l.localCache.kind,_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider})}function Ry(i,e,n){const s=new Oi;return i.asyncQueue.enqueue((0,ge.Z)(function*(){try{yield _h(i,n),yield zf(i,e),s.resolve()}catch(l){const c=l;if(!yh(c))throw c;rn("Error enabling indexeddb cache. Falling back to memory cache: "+c),s.reject(c)}})).then(()=>s.promise)}function Yf(i){if(i._initialized||i._terminated)throw new _t(ot.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Wo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wo(ni.fromBase64String(e))}catch(n){throw new _t(ot.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Wo(ni.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Li{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new _t(ot.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class sl{constructor(e){this._methodName=e}}class Ao{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new _t(ot.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new _t(ot.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Tn(this._lat,e._lat)||Tn(this._long,e._long)}}const hg=/^__.*__$/;class sd{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return null!==this.fieldMask?new qa(e,this.data,this.fieldMask,n,this.fieldTransforms):new Vu(e,this.data,n,this.fieldTransforms)}}class ic{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new qa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function sc(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Kt()}}class Rl{constructor(e,n,s,l,c,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=l,void 0===c&&this.Eu(),this.fieldTransforms=c||[],this.fieldMask=h||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new Rl(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var n;const s=null===(n=this.path)||void 0===n?void 0:n.child(e),l=this.Au({path:s,Vu:!1});return l.mu(e),l}fu(e){var n;const s=null===(n=this.path)||void 0===n?void 0:n.child(e),l=this.Au({path:s,Vu:!1});return l.Eu(),l}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return ap(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(0===e.length)throw this.pu("Document fields must not be empty");if(sc(this.du)&&hg.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class od{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Xd(e)}Su(e,n,s,l=!1){return new Rl({du:e,methodName:n,wu:s,path:xr.emptyPath(),Vu:!1,yu:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ca(i){const e=i._freezeSettings(),n=Xd(i._databaseId);return new od(i._databaseId,!!e.ignoreUndefinedProperties,n)}function Ml(i,e,n,s,l,c={}){const h=i.Su(c.merge||c.mergeFields?2:0,e,n,l);mg("Data must be an object, but it was:",h,s);const D=pg(s,h);let M,j;if(c.merge)M=new Ss(h.fieldMask),j=h.fieldTransforms;else if(c.mergeFields){const X=[];for(const fe of c.mergeFields){const Le=sp(e,fe,n);if(!h.contains(Le))throw new _t(ot.INVALID_ARGUMENT,`Field '${Le}' is specified in your field mask but missing from your input data.`);TI(X,Le)||X.push(Le)}M=new Ss(X),j=h.fieldTransforms.filter(fe=>M.covers(fe.field))}else M=null,j=h.fieldTransforms;return new sd(new $i(D),M,j)}class ol extends sl{_toFieldTransform(e){if(2!==e.du)throw e.pu(1===e.du?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ol}}function oc(i,e,n){return new Rl({du:3,wu:e.settings.wu,methodName:i._methodName,Vu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Jf extends sl{_toFieldTransform(e){return new bd(e.path,new wl)}isEqual(e){return e instanceof Jf}}class Xf extends sl{constructor(e,n){super(e),this.bu=n}_toFieldTransform(e){const n=oc(this,e,!0),s=this.bu.map(c=>hu(c,n)),l=new Wa(s);return new bd(e.path,l)}isEqual(e){return e instanceof Xf&&(0,V.vZ)(this.bu,e.bu)}}class ep extends sl{constructor(e,n){super(e),this.bu=n}_toFieldTransform(e){const n=oc(this,e,!0),s=this.bu.map(c=>hu(c,n)),l=new Lu(s);return new bd(e.path,l)}isEqual(e){return e instanceof ep&&(0,V.vZ)(this.bu,e.bu)}}class tp extends sl{constructor(e,n){super(e),this.Du=n}_toFieldTransform(e){const n=new ku(e.serializer,Kp(e.serializer,this.Du));return new bd(e.path,n)}isEqual(e){return e instanceof tp&&this.Du===e.Du}}function np(i,e,n,s){const l=i.Su(1,e,n);mg("Data must be an object, but it was:",l,s);const c=[],h=$i.empty();$o(s,(M,j)=>{const X=op(e,M,n);j=(0,V.m9)(j);const fe=l.fu(X);if(j instanceof ol)c.push(X);else{const Le=hu(j,fe);null!=Le&&(c.push(X),h.set(X,Le))}});const D=new Ss(c);return new ic(h,D,l.fieldTransforms)}function rp(i,e,n,s,l,c){const h=i.Su(1,e,n),D=[sp(e,s,n)],M=[l];if(c.length%2!=0)throw new _t(ot.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Le=0;Le<c.length;Le+=2)D.push(sp(e,c[Le])),M.push(c[Le+1]);const j=[],X=$i.empty();for(let Le=D.length-1;Le>=0;--Le)if(!TI(j,D[Le])){const Je=D[Le];let Rt=M[Le];Rt=(0,V.m9)(Rt);const Gt=h.fu(Je);if(Rt instanceof ol)j.push(Je);else{const jt=hu(Rt,Gt);null!=jt&&(j.push(Je),X.set(Je,jt))}}const fe=new Ss(j);return new ic(X,fe,h.fieldTransforms)}function fg(i,e,n,s=!1){return hu(n,i.Su(s?4:3,e))}function hu(i,e){if(ip(i=(0,V.m9)(i)))return mg("Unsupported field value:",e,i),pg(i,e);if(i instanceof sl)return function(s,l){if(!sc(l.du))throw l.pu(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.pu(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Vu&&4!==e.du)throw e.pu("Nested arrays are not supported");return function(s,l){const c=[];let h=0;for(const D of s){let M=hu(D,l.gu(h));null==M&&(M={nullValue:"NULL_VALUE"}),c.push(M),h++}return{arrayValue:{values:c}}}(i,e)}return function(s,l){if(null===(s=(0,V.m9)(s)))return{nullValue:"NULL_VALUE"};if("number"==typeof s)return Kp(l.serializer,s);if("boolean"==typeof s)return{booleanValue:s};if("string"==typeof s)return{stringValue:s};if(s instanceof Date){const c=ai.fromDate(s);return{timestampValue:ju(l.serializer,c)}}if(s instanceof ai){const c=new ai(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ju(l.serializer,c)}}if(s instanceof Ao)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Wo)return{bytesValue:Yl(l.serializer,s._byteString)};if(s instanceof Di){const c=l.databaseId,h=s.firestore._databaseId;if(!h.isEqual(c))throw l.pu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:sm(s.firestore._databaseId||l.databaseId,s._key.path)}}throw l.pu(`Unsupported field value: ${Ch(s)}`)}(i,e)}function pg(i,e){const n={};return Du(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$o(i,(s,l)=>{const c=hu(l,e.Ru(s));null!=c&&(n[s]=c)}),{mapValue:{fields:n}}}function ip(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof ai||i instanceof Ao||i instanceof Wo||i instanceof Di||i instanceof sl)}function mg(i,e,n){if(!ip(n)||"object"!=typeof(l=n)||null===l||Object.getPrototypeOf(l)!==Object.prototype&&null!==Object.getPrototypeOf(l)){const s=Ch(n);throw e.pu("an object"===s?i+" a custom object":i+" "+s)}var l}function sp(i,e,n){if((e=(0,V.m9)(e))instanceof Li)return e._internalPath;if("string"==typeof e)return op(i,e);throw ap("Field path arguments must be of type string or ",i,!1,void 0,n)}const qE=new RegExp("[~\\*/\\[\\]]");function op(i,e,n){if(e.search(qE)>=0)throw ap(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Li(...e.split("."))._internalPath}catch{throw ap(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function ap(i,e,n,s,l){const c=s&&!s.isEmpty(),h=void 0!==l;let D=`Function ${e}() called with invalid data`;n&&(D+=" (via `toFirestore()`)"),D+=". ";let M="";return(c||h)&&(M+=" (found",c&&(M+=` in field ${s}`),h&&(M+=` in document ${l}`),M+=")"),new _t(ot.INVALID_ARGUMENT,D+i+M)}function TI(i,e){return i.some(n=>n.isEqual(e))}class Sh{constructor(e,n,s,l,c){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Di(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new KE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(lp("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class KE extends Sh{data(){return super.data()}}function lp(i,e){return"string"==typeof e?op(i,e):e instanceof Li?e._internalPath:e._delegate._internalPath}function Oy(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new _t(ot.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gg{}class ac extends gg{}function da(i,e,...n){let s=[];e instanceof gg&&s.push(e),s=s.concat(n),function(c){const h=c.filter(M=>M instanceof uc).length,D=c.filter(M=>M instanceof lc).length;if(h>1||h>0&&D>0)throw new _t(ot.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const l of s)i=l._apply(i);return i}class lc extends ac{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new lc(e,n,s)}_apply(e){const n=this._parse(e);return vg(e._query,n),new Ws(e.firestore,e.converter,se(e._query,n))}_parse(e){const n=ca(e.firestore);return function(c,h,D,M,j,X,fe){let Le;if(j.isKeyField()){if("array-contains"===X||"array-contains-any"===X)throw new _t(ot.INVALID_ARGUMENT,`Invalid Query. You can't perform '${X}' queries on documentId().`);if("in"===X||"not-in"===X){Ly(fe,X);const Je=[];for(const Rt of fe)Je.push(pp(M,c,Rt));Le={arrayValue:{values:Je}}}else Le=pp(M,c,fe)}else"in"!==X&&"not-in"!==X&&"array-contains-any"!==X||Ly(fe,X),Le=fg(D,"where",fe,"in"===X||"not-in"===X);return _r.create(j,X,Le)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}class uc extends gg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new uc(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===n.length?n[0]:Xr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(l,c){let h=l;const D=c.getFlattenedFilters();for(const M of D)vg(h,M),h=se(h,M)}(e._query,n),new Ws(e.firestore,e.converter,se(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class _g extends ac{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new _g(e,n)}_apply(e){const n=function(l,c,h){if(null!==l.startAt)throw new _t(ot.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==l.endAt)throw new _t(ot.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Aa(c,h)}(e._query,this._field,this._direction);return new Ws(e.firestore,e.converter,function(l,c){const h=l.explicitOrderBy.concat([c]);return new po(l.path,l.collectionGroup,h,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(e._query,n))}}class dp extends ac{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new dp(e,n,s)}_apply(e){return new Ws(e.firestore,e.converter,Ve(e._query,this._limit,this._limitType))}}class hp extends ac{constructor(e,n,s){super(),this.type=e,this._docOrFields=n,this._inclusive=s}static _create(e,n,s){return new hp(e,n,s)}_apply(e){const n=Ny(e,this.type,this._docOrFields,this._inclusive);return new Ws(e.firestore,e.converter,(c=n,new po((l=e._query).path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,c,l.endAt)));var l,c}}class cc extends ac{constructor(e,n,s){super(),this.type=e,this._docOrFields=n,this._inclusive=s}static _create(e,n,s){return new cc(e,n,s)}_apply(e){const n=Ny(e,this.type,this._docOrFields,this._inclusive);return new Ws(e.firestore,e.converter,(c=n,new po((l=e._query).path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,c)));var l,c}}function Ny(i,e,n,s){if(n[0]=(0,V.m9)(n[0]),n[0]instanceof Sh)return function(c,h,D,M,j){if(!M)throw new _t(ot.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${D}().`);const X=[];for(const fe of m(c))if(fe.field.isKeyField())X.push(Da(h,M.key));else{const Le=M.data.field(fe.field);if($l(Le))throw new _t(ot.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+fe.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Le){const Je=fe.field.canonicalString();throw new _t(ot.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Je}' (used as the orderBy) does not exist.`)}X.push(Le)}return new bo(X,j)}(i._query,i.firestore._databaseId,e,n[0]._document,s);{const l=ca(i.firestore);return function(h,D,M,j,X,fe){const Le=h.explicitOrderBy;if(X.length>Le.length)throw new _t(ot.INVALID_ARGUMENT,`Too many arguments provided to ${j}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Je=[];for(let Rt=0;Rt<X.length;Rt++){const Gt=X[Rt];if(Le[Rt].field.isKeyField()){if("string"!=typeof Gt)throw new _t(ot.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${j}(), but got a ${typeof Gt}`);if(!f(h)&&-1!==Gt.indexOf("/"))throw new _t(ot.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${j}() must be a plain document ID, but '${Gt}' contains a slash.`);const jt=h.path.child(Dn.fromString(Gt));if(!Ut.isDocumentKey(jt))throw new _t(ot.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${j}() must result in a valid document path, but '${jt}' is not because it contains an odd number of segments.`);const gn=new Ut(jt);Je.push(Da(D,gn))}else{const jt=fg(M,j,Gt);Je.push(jt)}}return new bo(Je,fe)}(i._query,i.firestore._databaseId,l,e,n,s)}}function pp(i,e,n){if("string"==typeof(n=(0,V.m9)(n))){if(""===n)throw new _t(ot.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!f(e)&&-1!==n.indexOf("/"))throw new _t(ot.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(Dn.fromString(n));if(!Ut.isDocumentKey(s))throw new _t(ot.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Da(i,new Ut(s))}if(n instanceof Di)return Da(i,n._key);throw new _t(ot.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ch(n)}.`)}function Ly(i,e){if(!Array.isArray(i)||0===i.length)throw new _t(ot.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function vg(i,e){const n=function(l,c){for(const h of l)for(const D of h.getFlattenedFilters())if(c.indexOf(D.op)>=0)return D.op;return null}(i.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new _t(ot.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Ig{convertValue(e,n="none"){switch(Ko(e)){case 0:return null;case 1:return e.booleanValue;case 2:return di(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Co(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Kt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return $o(e,(l,c)=>{s[l]=this.convertValue(c,n)}),s}convertGeoPoint(e){return new Ao(di(e.latitude),di(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Qi(e);return null==s?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(_l(e));default:return null}}convertTimestamp(e){const n=ba(e);return new ai(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Dn.fromString(e);Jt(p_(s));const l=new zo(s.get(1),s.get(3)),c=new Ut(s.popFirst(5));return l.isEqual(n)||zr(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}function Rh(i,e,n){let s;return s=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,s}class Fy extends Ig{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Di(this.firestore,null,n)}}class xl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Oa extends Sh{constructor(e,n,s,l,c,h){super(e,n,s,l,h),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Mh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(lp("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Mh extends Oa{data(e={}){return super.data(e)}}class Na{constructor(e,n,s,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new xl(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Mh(this._firestore,this._userDataWriter,s.key,s,new xl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new _t(ot.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(l,c){if(l._snapshot.oldDocs.isEmpty()){let h=0;return l._snapshot.docChanges.map(D=>({type:"added",doc:new Mh(l._firestore,l._userDataWriter,D.doc.key,D.doc,new xl(l._snapshot.mutatedKeys.has(D.doc.key),l._snapshot.fromCache),l.query.converter),oldIndex:-1,newIndex:h++}))}{let h=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(D=>c||3!==D.type).map(D=>{const M=new Mh(l._firestore,l._userDataWriter,D.doc.key,D.doc,new xl(l._snapshot.mutatedKeys.has(D.doc.key),l._snapshot.fromCache),l.query.converter);let j=-1,X=-1;return 0!==D.type&&(j=h.indexOf(D.doc.key),h=h.delete(D.doc.key)),1!==D.type&&(h=h.add(D.doc),X=h.indexOf(D.doc.key)),{type:mp(D.type),doc:M,oldIndex:j,newIndex:X}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function mp(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Kt()}}function gp(i,e){return i instanceof Oa&&e instanceof Oa?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof Na&&e instanceof Na&&i._firestore===e._firestore&&Dh(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}class fu extends Ig{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Di(this.firestore,null,n)}}function Tg(i,e,n){i=wr(i,Di);const s=wr(i.firestore,yi),l=Rh(i.converter,e,n);return pu(s,[Ml(ca(s),"setDoc",i._key,l,null!==i.converter,n).toMutation(i._key,Ni.none())])}function Uy(i,e,n,...s){i=wr(i,Di);const l=wr(i.firestore,yi),c=ca(l);let h;return h="string"==typeof(e=(0,V.m9)(e))||e instanceof Li?rp(c,"updateDoc",i._key,e,n,s):np(c,"updateDoc",i._key,e),pu(l,[h.toMutation(i._key,Ni.exists(!0))])}function vp(i,...e){var n,s,l;i=(0,V.m9)(i);let c={includeMetadataChanges:!1},h=0;"object"!=typeof e[h]||rd(e[h])||(c=e[h],h++);const D={includeMetadataChanges:c.includeMetadataChanges};if(rd(e[h])){const fe=e[h];e[h]=null===(n=fe.next)||void 0===n?void 0:n.bind(fe),e[h+1]=null===(s=fe.error)||void 0===s?void 0:s.bind(fe),e[h+2]=null===(l=fe.complete)||void 0===l?void 0:l.bind(fe)}let M,j,X;if(i instanceof Di)j=wr(i.firestore,yi),X=ql(i._key.path),M={next:fe=>{e[h]&&e[h](Ip(j,i,fe))},error:e[h+1],complete:e[h+2]};else{const fe=wr(i,Ws);j=wr(fe.firestore,yi),X=fe._query;const Le=new fu(j);M={next:Je=>{e[h]&&e[h](new Na(j,Le,fe,Je))},error:e[h+1],complete:e[h+2]},Oy(i._query)}return function(Le,Je,Rt,Gt){const jt=new $f(Gt),gn=new ah(Je,jt,Rt);return Le.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return uu(yield ed(Le),gn)})),()=>{jt.La(),Le.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return cu(yield ed(Le),gn)}))}}(Xi(j),X,D,M)}function pu(i,e){return function(s,l){const c=new Oi;return s.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return function Vf(i,e,n){return Uf.apply(this,arguments)}(yield xa(s),l,c)})),c.promise}(Xi(i),e)}function Ip(i,e,n){const s=n.docs.get(e._key),l=new fu(i);return new Oa(i,l,e._key,s,new xl(n.hasPendingWrites,n.fromCache),e.converter)}const Qy={maxAttempts:5};class wg{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=ca(e)}set(e,n,s){this._verifyNotCommitted();const l=Ol(e,this._firestore),c=Rh(l.converter,n,s),h=Ml(this._dataReader,"WriteBatch.set",l._key,c,null!==l.converter,s);return this._mutations.push(h.toMutation(l._key,Ni.none())),this}update(e,n,s,...l){this._verifyNotCommitted();const c=Ol(e,this._firestore);let h;return h="string"==typeof(n=(0,V.m9)(n))||n instanceof Li?rp(this._dataReader,"WriteBatch.update",c._key,n,s,l):np(this._dataReader,"WriteBatch.update",c._key,n),this._mutations.push(h.toMutation(c._key,Ni.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Ol(e,this._firestore);return this._mutations=this._mutations.concat(new Uu(n._key,Ni.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new _t(ot.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ol(i,e){if((i=(0,V.m9)(i)).firestore!==e)throw new _t(ot.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class Yy extends class{constructor(n,s){this._firestore=n,this._transaction=s,this._dataReader=ca(n)}get(n){const s=Ol(n,this._firestore),l=new Fy(this._firestore);return this._transaction.lookup([s._key]).then(c=>{if(!c||1!==c.length)return Kt();const h=c[0];if(h.isFoundDocument())return new Sh(this._firestore,l,h.key,h,s.converter);if(h.isNoDocument())return new Sh(this._firestore,l,s._key,null,s.converter);throw Kt()})}set(n,s,l){const c=Ol(n,this._firestore),h=Rh(c.converter,s,l),D=Ml(this._dataReader,"Transaction.set",c._key,h,null!==c.converter,l);return this._transaction.set(c._key,D),this}update(n,s,l,...c){const h=Ol(n,this._firestore);let D;return D="string"==typeof(s=(0,V.m9)(s))||s instanceof Li?rp(this._dataReader,"Transaction.update",h._key,s,l,c):np(this._dataReader,"Transaction.update",h._key,s),this._transaction.update(h._key,D),this}delete(n){const s=Ol(n,this._firestore);return this._transaction.delete(s._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Ol(e,this._firestore),s=new fu(this._firestore);return super.get(e).then(l=>new Oa(this._firestore,s,n._key,l._document,new xl(!1,!1),n.converter))}}function Cp(i,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new _t("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return e}function Dg(){if(typeof Uint8Array>"u")throw new _t("unimplemented","Uint8Arrays are not available in this environment.")}function hc(){if(!function wc(){return typeof atob<"u"}())throw new _t("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,n=!0){lo=b.SDK_VERSION,(0,b._registerComponent)(new $.wA("firestore",(s,{instanceIdentifier:l,options:c})=>{const h=s.getProvider("app").getImmediate(),D=new yi(new _u(s.getProvider("auth-internal")),new dd(s.getProvider("app-check-internal")),function(j,X){if(!Object.prototype.hasOwnProperty.apply(j.options,["projectId"]))throw new _t(ot.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zo(j.options.projectId,X)}(h,l),h);return c=Object.assign({useFetchStreams:n},c),D._setSettings(c),D},"PUBLIC").setMultipleInstances(!0)),(0,b.registerVersion)(Ds,"4.4.2",e),(0,b.registerVersion)(Ds,"4.4.2","esm2017")}();class xh{constructor(e){this._delegate=e}static fromBase64String(e){return hc(),new xh(Wo.fromBase64String(e))}static fromUint8Array(e){return Dg(),new xh(Wo.fromUint8Array(e))}toBase64(){return hc(),this._delegate.toBase64()}toUint8Array(){return Dg(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Ag(i){return function tv(i,e){if("object"!=typeof i||null===i)return!1;const n=i;for(const s of e)if(s in n&&"function"==typeof n[s])return!0;return!1}(i,["next","error","complete"])}class $I{enableIndexedDbPersistence(e,n){return function Sy(i,e){Yf(i=wr(i,yi));const n=Xi(i);if(n._uninitializedComponentsProvider)throw new _t(ot.FAILED_PRECONDITION,"SDK cache is already specified.");rn("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const s=i._freezeSettings(),l=new Xc;return Ry(n,l,new gh(l,s.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return function Py(i){Yf(i=wr(i,yi));const e=Xi(i);if(e._uninitializedComponentsProvider)throw new _t(ot.FAILED_PRECONDITION,"SDK cache is already specified.");rn("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=i._freezeSettings(),s=new Xc;return Ry(e,s,new my(s,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function GE(i){if(i._initialized&&!i._terminated)throw new _t(ot.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Oi;return i._queue.enqueueAndForgetEvenWhileRestricted((0,ge.Z)(function*(){try{yield(n=(0,ge.Z)(function*(l){if(!Ht.D())return Promise.resolve();const c=l+"main";yield Ht.delete(c)}),function s(l){return n.apply(this,arguments)})(vf(i._databaseId,i._persistenceKey)),e.resolve()}catch(n){e.reject(n)}var n})),e.promise}(e._delegate)}}class Sg{constructor(e,n,s){this._delegate=n,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},e instanceof zo||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&rn("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},n),e)).merge,this._delegate._setSettings(e)}useEmulator(e,n,s={}){!function by(i,e,n,s={}){var l;const c=(i=wr(i,bh))._getSettings(),h=`${e}:${n}`;if("firestore.googleapis.com"!==c.host&&c.host!==h&&rn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},c),{host:h,ssl:!1})),s.mockUserToken){let D,M;if("string"==typeof s.mockUserToken)D=s.mockUserToken,M=In.MOCK_USER;else{D=(0,V.Sg)(s.mockUserToken,null===(l=i._app)||void 0===l?void 0:l.options.projectId);const j=s.mockUserToken.sub||s.mockUserToken.user_id;if(!j)throw new _t(ot.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");M=new In(j)}i._authCredentials=new Vh(new _c(D,M))}}(this._delegate,e,n,s)}enableNetwork(){return function xy(i){return function hI(i){return i.asyncQueue.enqueue((0,ge.Z)(function*(){const e=yield og(i),n=yield qf(i);return e.setNetworkEnabled(!0),function(l){const c=zt(l);return c.v_.delete(0),eh(c)}(n)}))}(Xi(i=wr(i,yi)))}(this._delegate)}disableNetwork(){return function WE(i){return function vy(i){return i.asyncQueue.enqueue((0,ge.Z)(function*(){const e=yield og(i),n=yield qf(i);return e.setNetworkEnabled(!1),(s=(0,ge.Z)(function*(c){const h=zt(c);h.v_.add(0),yield Zc(h),h.x_.set("Offline")}),function l(c){return s.apply(this,arguments)})(n);var s}))}(Xi(i=wr(i,yi)))}(this._delegate)}enablePersistence(e){let n=!1,s=!1;return e&&(n=!!e.synchronizeTabs,s=!!e.experimentalForceOwningTab,td("synchronizeTabs",n,"experimentalForceOwningTab",s)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function My(i){return function(n){const s=new Oi;return n.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return function rI(i,e){return Jc.apply(this,arguments)}(yield xa(n),s)})),s.promise}(Xi(i=wr(i,yi)))}(this._delegate)}onSnapshotsInSync(e){return function Hy(i,e){return function Kf(i,e){const n=new $f(e);return i.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return l=yield ed(i),c=n,zt(l).K_.add(c),void c.next();var l,c})),()=>{n.La(),i.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return l=yield ed(i),c=n,void zt(l).K_.delete(c);var l,c}))}}(Xi(i=wr(i,yi)),rd(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new _t("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new ud(this,Dy(this._delegate,e))}catch(n){throw ki(n,"collection()","Firestore.collection()")}}doc(e){try{return new Qo(this,Qf(this._delegate,e))}catch(n){throw ki(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new So(this,function gI(i,e){if(i=wr(i,bh),Zf("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new _t(ot.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ws(i,null,(s=e,new po(Dn.emptyPath(),s)));var s}(this._delegate,e))}catch(n){throw ki(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function Ep(i,e,n){i=wr(i,yi);const s=Object.assign(Object.assign({},Qy),n);return function(c){if(c.maxAttempts<1)throw new _t(ot.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(c,h,D){const M=new Oi;return c.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){const j=yield function yy(i){return Ih(i).then(e=>e.datastore)}(c);new ig(c.asyncQueue,j,D,h,M).ja()})),M.promise}(Xi(i),l=>e(new Yy(i,l)),s)}(this._delegate,n=>e(new bp(this,n)))}batch(){return Xi(this._delegate),new La(new wg(this._delegate,e=>pu(this._delegate,e)))}loadBundle(e){return function II(i,e){const n=Xi(i=wr(i,yi)),s=new yI;return function jE(i,e,n,s){const l=function(h,D){let M;return M="string"==typeof h?tm().encode(h):h,X=function(X,fe){if(X instanceof Uint8Array)return gy(X,void 0);if(X instanceof ArrayBuffer)return gy(new Uint8Array(X),void 0);if(X instanceof ReadableStream)return X.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(M),new cI(X,D);var X}(n,Xd(e));i.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){!function py(i,e,n){const s=zt(i);var l;(l=(0,ge.Z)(function*(h,D,M){try{const j=yield D.getMetadata();if(yield function(Rt,Gt){const jt=zt(Rt),gn=Ji(Gt.createTime);return jt.persistence.runTransaction("hasNewerBundle","readonly",Jn=>jt.$r.getBundleMetadata(Jn,Gt.id)).then(Jn=>!!Jn&&Jn.createTime.compareTo(gn)>=0)}(h.localStore,j))return yield D.close(),M._completeWith({taskState:"Success",documentsLoaded:(Rt=j).totalDocuments,bytesLoaded:Rt.totalBytes,totalDocuments:Rt.totalDocuments,totalBytes:Rt.totalBytes}),Promise.resolve(new Set);M._updateProgress(Gm(j));const X=new J_(j,h.localStore,D.serializer);let fe=yield D.Oa();for(;fe;){const Je=yield X.na(fe);Je&&M._updateProgress(Je),fe=yield D.Oa()}const Le=yield X.complete();return yield tl(h,Le.sa,void 0),yield function(Rt,Gt){const jt=zt(Rt);return jt.persistence.runTransaction("Save bundle","readwrite",gn=>jt.$r.saveBundleMetadata(gn,Gt))}(h.localStore,j),M._completeWith(Le.progress),Promise.resolve(Le.ia)}catch(j){return rn("SyncEngine",`Loading bundle failed with ${j}`),M._failWith(j),Promise.resolve(new Set)}var Rt}),function c(h,D,M){return l.apply(this,arguments)})(s,e,n).then(l=>{s.sharedClientState.notifyBundleLoaded(l)})}(yield xa(i),l,s)}))}(n,i._databaseId,e,s),s}(this._delegate,e)}namedQuery(e){return function EI(i,e){return function pI(i,e){return i.asyncQueue.enqueue((0,ge.Z)(function*(){return function(s,l){const c=zt(s);return c.persistence.runTransaction("Get named query","readonly",h=>c.$r.getNamedQuery(h,l))}(yield rc(i),e)}))}(Xi(i=wr(i,yi)),e).then(n=>n?new Ws(i,null,n.query):null)}(this._delegate,e).then(n=>n?new So(this,n):null)}}class Pg extends Ig{constructor(e){super(),this.firestore=e}convertBytes(e){return new xh(new Wo(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return Qo.forKey(n,this.firestore,null)}}class bp{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new Pg(e)}get(e){const n=Nl(e);return this._delegate.get(n).then(s=>new ad(this._firestore,new Oa(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,n.converter)))}set(e,n,s){const l=Nl(e);return s?(Cp("Transaction.set",s),this._delegate.set(l,n,s)):this._delegate.set(l,n),this}update(e,n,s,...l){const c=Nl(e);return 2===arguments.length?this._delegate.update(c,n):this._delegate.update(c,n,s,...l),this}delete(e){const n=Nl(e);return this._delegate.delete(n),this}}class La{constructor(e){this._delegate=e}set(e,n,s){const l=Nl(e);return s?(Cp("WriteBatch.set",s),this._delegate.set(l,n,s)):this._delegate.set(l,n),this}update(e,n,s,...l){const c=Nl(e);return 2===arguments.length?this._delegate.update(c,n):this._delegate.update(c,n,s,...l),this}delete(e){const n=Nl(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class fc{constructor(e,n,s){this._firestore=e,this._userDataWriter=n,this._delegate=s}fromFirestore(e,n){const s=new Mh(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new ld(this._firestore,s),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const s=fc.INSTANCES;let l=s.get(e);l||(l=new WeakMap,s.set(e,l));let c=l.get(n);return c||(c=new fc(e,new Pg(e),n),l.set(n,c)),c}}fc.INSTANCES=new WeakMap;class Qo{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Pg(e)}static forPath(e,n,s){if(e.length%2!=0)throw new _t("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Qo(n,new Di(n._delegate,s,new Ut(e)))}static forKey(e,n,s){return new Qo(n,new Di(n._delegate,s,e))}get id(){return this._delegate.id}get parent(){return new ud(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new ud(this.firestore,Dy(this._delegate,e))}catch(n){throw ki(n,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,V.m9)(e))instanceof Di&&cg(this._delegate,e)}set(e,n){n=Cp("DocumentReference.set",n);try{return n?Tg(this._delegate,e,n):Tg(this._delegate,e)}catch(s){throw ki(s,"setDoc()","DocumentReference.set()")}}update(e,n,...s){try{return 1===arguments.length?Uy(this._delegate,e):Uy(this._delegate,e,n,...s)}catch(l){throw ki(l,"updateDoc()","DocumentReference.update()")}}delete(){return function xI(i){return pu(wr(i.firestore,yi),[new Uu(i._key,Ni.none())])}(this._delegate)}onSnapshot(...e){const n=ha(e),s=fa(e,l=>new ad(this.firestore,new Oa(this.firestore._delegate,this._userDataWriter,l._key,l._document,l.metadata,this._delegate.converter)));return vp(this._delegate,n,s)}get(e){let n;return n="cache"===e?.source?function RI(i){i=wr(i,Di);const e=wr(i.firestore,yi),n=Xi(e),s=new fu(e);return function fI(i,e){const n=new Oi;return i.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return(s=(0,ge.Z)(function*(c,h,D){try{const M=yield function(X,fe){const Le=zt(X);return Le.persistence.runTransaction("read document","readonly",Je=>Le.localDocuments.getDocument(Je,fe))}(c,h);M.isFoundDocument()?D.resolve(M):M.isNoDocument()?D.resolve(null):D.reject(new _t(ot.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(M){const j=tc(M,`Failed to get document '${h} from cache`);D.reject(j)}}),function l(c,h,D){return s.apply(this,arguments)})(yield rc(i),e,n);var s})),n.promise}(n,i._key).then(l=>new Oa(e,s,i._key,l,new xl(null!==l&&l.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===e?.source?function MI(i){i=wr(i,Di);const e=wr(i.firestore,yi);return Th(Xi(e),i._key,{source:"server"}).then(n=>Ip(e,i,n))}(this._delegate):function Vy(i){i=wr(i,Di);const e=wr(i.firestore,yi);return Th(Xi(e),i._key).then(n=>Ip(e,i,n))}(this._delegate),n.then(s=>new ad(this.firestore,new Oa(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(e){return new Qo(this.firestore,this._delegate.withConverter(e?fc.getInstance(this.firestore,e):null))}}function ki(i,e,n){return i.message=i.message.replace(e,n),i}function ha(i){for(const e of i)if("object"==typeof e&&!Ag(e))return e;return{}}function fa(i,e){var n,s;let l;return l=Ag(i[0])?i[0]:Ag(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:c=>{l.next&&l.next(e(c))},error:null===(n=l.error)||void 0===n?void 0:n.bind(l),complete:null===(s=l.complete)||void 0===s?void 0:s.bind(l)}}class ad{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new Qo(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return gp(this._delegate,e._delegate)}}class ld extends ad{data(e){const n=this._delegate.data(e);return this._delegate._converter||function Fl(i,e){i||Kt()}(void 0!==n),n}}class So{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Pg(e)}where(e,n,s){try{return new So(this.firestore,da(this._delegate,function up(i,e,n){const s=e,l=lp("where",i);return lc._create(l,s,n)}(e,n,s)))}catch(l){throw ki(l,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new So(this.firestore,da(this._delegate,function Ph(i,e="asc"){const n=e,s=lp("orderBy",i);return _g._create(s,n)}(e,n)))}catch(s){throw ki(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new So(this.firestore,da(this._delegate,function CI(i){return Cy("limit",i),dp._create("limit",i,"F")}(e)))}catch(n){throw ki(n,"limit()","Query.limit()")}}limitToLast(e){try{return new So(this.firestore,da(this._delegate,function bI(i){return Cy("limitToLast",i),dp._create("limitToLast",i,"L")}(e)))}catch(n){throw ki(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new So(this.firestore,da(this._delegate,function yg(...i){return hp._create("startAt",i,!0)}(...e)))}catch(n){throw ki(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new So(this.firestore,da(this._delegate,function fp(...i){return hp._create("startAfter",i,!1)}(...e)))}catch(n){throw ki(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new So(this.firestore,da(this._delegate,function ZE(...i){return cc._create("endBefore",i,!1)}(...e)))}catch(n){throw ki(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new So(this.firestore,da(this._delegate,function DI(...i){return cc._create("endAt",i,!0)}(...e)))}catch(n){throw ki(n,"endAt()","Query.endAt()")}}isEqual(e){return Dh(this._delegate,e._delegate)}get(e){let n;return n="cache"===e?.source?function yp(i){i=wr(i,Ws);const e=wr(i.firestore,yi),n=Xi(e),s=new fu(e);return function wh(i,e){const n=new Oi;return i.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return(s=(0,ge.Z)(function*(c,h,D){try{const M=yield Gc(c,h,!0),j=new ty(h,M.hs),X=j.ha(M.documents),fe=j.applyChanges(X,!1);D.resolve(fe.snapshot)}catch(M){const j=tc(M,`Failed to execute query '${h} against cache`);D.reject(j)}}),function l(c,h,D){return s.apply(this,arguments)})(yield rc(i),e,n);var s})),n.promise}(n,i._query).then(l=>new Na(e,s,i,l))}(this._delegate):"server"===e?.source?function Eg(i){i=wr(i,Ws);const e=wr(i.firestore,yi),n=Xi(e),s=new fu(e);return ag(n,i._query,{source:"server"}).then(l=>new Na(e,s,i,l))}(this._delegate):function _p(i){i=wr(i,Ws);const e=wr(i.firestore,yi),n=Xi(e),s=new fu(e);return Oy(i._query),ag(n,i._query).then(l=>new Na(e,s,i,l))}(this._delegate),n.then(s=>new Rg(this.firestore,new Na(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...e){const n=ha(e),s=fa(e,l=>new Rg(this.firestore,new Na(this.firestore._delegate,this._userDataWriter,this._delegate,l._snapshot)));return vp(this._delegate,n,s)}withConverter(e){return new So(this.firestore,this._delegate.withConverter(e?fc.getInstance(this.firestore,e):null))}}class zI{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new ld(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Rg{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new So(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new ld(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new zI(this._firestore,n))}forEach(e,n){this._delegate.forEach(s=>{e.call(n,new ld(this._firestore,s))})}isEqual(e){return gp(this._delegate,e._delegate)}}class ud extends So{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Qo(this.firestore,e):null}doc(e){try{return new Qo(this.firestore,void 0===e?Qf(this._delegate):Qf(this._delegate,e))}catch(n){throw ki(n,"doc()","CollectionReference.doc()")}}add(e){return function By(i,e){const n=wr(i.firestore,yi),s=Qf(i),l=Rh(i.converter,e);return pu(n,[Ml(ca(i.firestore),"addDoc",s._key,l,null!==i.converter,{}).toMutation(s._key,Ni.exists(!1))]).then(()=>s)}(this._delegate,e).then(n=>new Qo(this.firestore,n))}isEqual(e){return cg(this._delegate,e._delegate)}withConverter(e){return new ud(this.firestore,this._delegate.withConverter(e?fc.getInstance(this.firestore,e):null))}}function Nl(i){return wr(i,Di)}class pc{constructor(...e){this._delegate=new Li(...e)}static documentId(){return new pc(xr.keyField().canonicalString())}isEqual(e){return(e=(0,V.m9)(e))instanceof Li&&this._delegate._internalPath.isEqual(e._internalPath)}}class mc{constructor(e){this._delegate=e}static serverTimestamp(){const e=function VI(){return new Jf("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new mc(e)}static delete(){const e=function mu(){return new ol("deleteField")}();return e._methodName="FieldValue.delete",new mc(e)}static arrayUnion(...e){const n=function UI(...i){return new Xf("arrayUnion",i)}(...e);return n._methodName="FieldValue.arrayUnion",new mc(n)}static arrayRemove(...e){const n=function Cg(...i){return new ep("arrayRemove",i)}(...e);return n._methodName="FieldValue.arrayRemove",new mc(n)}static increment(e){const n=function dc(i){return new tp("increment",i)}(e);return n._methodName="FieldValue.increment",new mc(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const rv={Firestore:Sg,GeoPoint:Ao,Timestamp:ai,Blob:xh,Transaction:bp,WriteBatch:La,DocumentReference:Qo,DocumentSnapshot:ad,Query:So,QueryDocumentSnapshot:ld,QuerySnapshot:Rg,CollectionReference:ud,FieldPath:pc,FieldValue:mc,setLogLevel:function nv(i){!function qo(i){To.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};function Oh(i,e){return function iv(i,e=Ke.z){return new lt.y(n=>{let s;return null!=e?e.schedule(()=>{s=i.onSnapshot({includeMetadataChanges:!0},n)}):s=i.onSnapshot({includeMetadataChanges:!0},n),()=>{s?.()}})}(i,e)}function Dp(i,e){return Oh(i,e).pipe((0,Me.U)(n=>({payload:n,type:"query"})))}!function WI(i){(function GI(i,e){i.INTERNAL.registerComponent(new $.wA("firestore-compat",n=>{const s=n.getProvider("app-compat").getImmediate(),l=n.getProvider("firestore").getImmediate();return e(s,l)},"PUBLIC").setServiceProps(Object.assign({},rv)))})(i,(e,n)=>new Sg(e,n,new $I)),i.registerVersion("@firebase/firestore-compat","0.3.25")}(tt.Z),U(7142);class Mg{ref;afs;constructor(e,n){this.ref=e,this.afs=n}set(e,n){return this.ref.set(e,n)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,n){const s=this.ref.collection(e),{ref:l,query:c}=Ng(s,n);return new Og(l,c,this.afs)}snapshotChanges(){return function KI(i,e){return Oh(i,e).pipe((0,it.O)(void 0),oe(),(0,Me.U)(n=>{const[s,l]=n;return l.exists?s?.exists?{payload:l,type:"modified"}:{payload:l,type:"added"}:{payload:l,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ye.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Me.U)(({payload:n})=>e.idField?{...n.data(),[e.idField]:n.id}:n.data()))}get(e){return(0,Xe.D)(this.ref.get(e)).pipe(ye.iC)}}function Nh(i,e){return Dp(i,e).pipe((0,it.O)(void 0),oe(),(0,Me.U)(n=>{const[s,l]=n,c=l.payload.docChanges(),h=c.map(D=>({type:D.type,payload:D}));return s&&JSON.stringify(s.payload.metadata)!==JSON.stringify(l.payload.metadata)&&l.payload.docs.forEach((D,M)=>{const j=c.find(fe=>fe.doc.ref.isEqual(D.ref)),X=s?.payload.docs.find(fe=>fe.ref.isEqual(D.ref));j&&JSON.stringify(j.doc.metadata)===JSON.stringify(D.metadata)||!j&&X&&JSON.stringify(X.metadata)===JSON.stringify(D.metadata)||h.push({type:"modified",payload:{oldIndex:M,newIndex:M,type:"modified",doc:D}})}),h}))}function sv(i,e,n){return Nh(i,n).pipe((0,pe.R)((s,l)=>function ZI(i,e,n){return e.forEach(s=>{n.indexOf(s.type)>-1&&(i=function Ap(i,e){switch(e.type){case"added":if(!i[e.newIndex]||!i[e.newIndex].doc.ref.isEqual(e.doc.ref))return Lh(i,e.newIndex,0,e);break;case"modified":if(null==i[e.oldIndex]||i[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=i.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return Lh(i,e.newIndex,1,e)}break;case"removed":if(i[e.oldIndex]&&i[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Lh(i,e.oldIndex,1)}return i}(i,s))}),i}(s,l.map(c=>c.payload),e),[]),(0,me.x)(),(0,Me.U)(s=>s.map(l=>({type:l.type,payload:l}))))}function Lh(i,e,n,...s){const l=i.slice();return l.splice(e,n,...s),l}function xg(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}class Og{ref;query;afs;constructor(e,n,s){this.ref=e,this.query=n,this.afs=s}stateChanges(e){let n=Nh(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(n=n.pipe((0,Me.U)(s=>s.filter(l=>e.indexOf(l.type)>-1)))),n.pipe((0,it.O)(void 0),oe(),(0,be.h)(([s,l])=>l.length>0||!s),(0,Me.U)(([,s])=>s),ye.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,pe.R)((n,s)=>[...n,...s],[]))}snapshotChanges(e){const n=xg(e);return sv(this.query,n,this.afs.schedulers.outsideAngular).pipe(ye.iC)}valueChanges(e={}){return Dp(this.query,this.afs.schedulers.outsideAngular).pipe((0,Me.U)(n=>n.payload.docs.map(s=>e.idField?{...s.data(),[e.idField]:s.id}:s.data())),ye.iC)}get(e){return(0,Xe.D)(this.query.get(e)).pipe(ye.iC)}add(e){return this.ref.add(e)}doc(e){return new Mg(this.ref.doc(e),this.afs)}}class ov{query;afs;constructor(e,n){this.query=e,this.afs=n}stateChanges(e){return e&&0!==e.length?Nh(this.query,this.afs.schedulers.outsideAngular).pipe((0,Me.U)(n=>n.filter(s=>e.indexOf(s.type)>-1)),(0,be.h)(n=>n.length>0),ye.iC):Nh(this.query,this.afs.schedulers.outsideAngular).pipe(ye.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,pe.R)((n,s)=>[...n,...s],[]))}snapshotChanges(e){const n=xg(e);return sv(this.query,n,this.afs.schedulers.outsideAngular).pipe(ye.iC)}valueChanges(e={}){return Dp(this.query,this.afs.schedulers.outsideAngular).pipe((0,Me.U)(s=>s.payload.docs.map(l=>e.idField?{[e.idField]:l.id,...l.data()}:l.data())),ye.iC)}get(e){return(0,Xe.D)(this.query.get(e)).pipe(ye.iC)}}const av=new W.OlP("angularfire2.enableFirestorePersistence"),lv=new W.OlP("angularfire2.firestore.persistenceSettings"),uv=new W.OlP("angularfire2.firestore.settings"),cv=new W.OlP("angularfire2.firestore.use-emulator");function Ng(i,e=(n=>n)){return{query:e(i),ref:i}}let QI=(()=>{class i{schedulers;firestore;persistenceEnabled$;constructor(n,s,l,c,h,D,M,j,X,fe,Le,Je,Rt,Gt,jt,gn,Jn){this.schedulers=M;const mn=(0,je.on)(n,D,s),Xn=X;fe&&(0,ue.nw)(mn,D,Le,Rt,Gt,jt,Je,gn),[this.firestore,this.persistenceEnabled$]=(0,je.cc)(`${mn.name}.firestore`,"AngularFirestore",mn.name,()=>{const Or=D.runOutsideAngular(()=>mn.firestore());if(c&&Or.settings(c),Xn&&Or.useEmulator(...Xn),l&&!(0,ae.PM)(h)){const Wr=()=>{try{return(0,Xe.D)(Or.enablePersistence(j||void 0).then(()=>!0,()=>!1))}catch(es){return typeof console<"u"&&console.warn(es),(0,rt.of)(!1)}};return[Or,D.runOutsideAngular(Wr)]}return[Or,(0,rt.of)(!1)]},[c,Xn,l])}collection(n,s){let l;l="string"==typeof n?this.firestore.collection(n):n;const{ref:c,query:h}=Ng(l,s),D=this.schedulers.ngZone.run(()=>c);return new Og(D,h,this)}collectionGroup(n,s){const l=s||(h=>h),c=this.firestore.collectionGroup(n);return new ov(l(c),this)}doc(n){let s;s="string"==typeof n?this.firestore.doc(n):n;const l=this.schedulers.ngZone.run(()=>s);return new Mg(l,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(s){return new(s||i)(W.LFG(je.Dh),W.LFG(je.xv,8),W.LFG(av,8),W.LFG(uv,8),W.LFG(W.Lbi),W.LFG(W.R0b),W.LFG(ye.HU),W.LFG(lv,8),W.LFG(cv,8),W.LFG(ue.zQ,8),W.LFG(ue.Qv,8),W.LFG(ue.L6,8),W.LFG(ue._Q,8),W.LFG(ue.rT,8),W.LFG(ue.lh,8),W.LFG(ue.f7,8),W.LFG(ye.Rf,8))};static \u0275prov=W.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"})}return i})(),YI=(()=>{class i{constructor(n,s,l,c){this.afAuth=n,this.cacheService=s,this.router=l,this.firestore=c,this.userSubject=new Y.X(null),this.user=this.userSubject.asObservable(),this.afAuth.authState.subscribe(h=>{this.userSubject.next(h)})}getUser(){return this.user}setDisplayName(n,s){const l=`${n} ${s}`;return this.afAuth.currentUser.then(c=>c?.updateProfile({displayName:l}))}signIn(n,s,l){this.afAuth.signInWithEmailAndPassword(n,s).then(c=>{c.user?.emailVerified?(""!=l&&this.cacheService.setData("token",c.user),this.router.navigate(["/tasks"])):c.user&&(c.user.sendEmailVerification(),this.router.navigate(["/verify-email"]))},c=>{alert(c.message),this.router.navigate(["/login"])})}register(n){this.afAuth.createUserWithEmailAndPassword(n.email,n.password).then(s=>{s.user?.updateProfile({displayName:n.userName}),this.storeAdditionalUserData(s.user?.uid,{fullName:n.fullName,username:n.userName}),s.user&&(s.user.sendEmailVerification(),this.router.navigate(["/verify-email"]))},s=>{alert(s.message)})}storeAdditionalUserData(n,s){n&&this.firestore.collection("users").doc(n).set(s,{merge:!0}).then(()=>{console.log("Additional user data stored successfully")}).catch(l=>{console.error("Error storing additional user data:",l)})}signOut(){this.afAuth.signOut().then(()=>{this.cacheService.removeData("token"),this.router.navigate(["/login"])},n=>{alert(n.message)})}forgotPassword(n){this.afAuth.sendPasswordResetEmail(n).then(()=>{this.email=n,this.router.navigate(["/verify-email"])},s=>{alert(s.message)})}deleteCurrentUser(){this.afAuth.currentUser.then(n=>{n&&(n.delete(),this.cacheService.removeData("token"),this.router.navigate(["/login"]))},n=>{alert(n.message)})}singInWithGoogle(){return this.afAuth.signInWithPopup(new p.X).then(n=>{const s=n.user;if(s){const[l,c]=s.displayName?.split(" ")||["",""];s.updateProfile({displayName:s.displayName,photoURL:s.photoURL}).then(()=>{this.cacheService.setData("token",n.user),this.router.navigate(["/tasks"])})}},n=>{alert(n.message),this.router.navigate(["/login"])})}singInWithGithub(){return this.afAuth.signInWithPopup(new p.Y).then(n=>{const s=n.user;if(s){const[l,c]=s.displayName?.split(" ")||["",""];s.updateProfile({displayName:s.displayName,photoURL:s.photoURL}).then(()=>{this.cacheService.setData("token",n.user),this.router.navigate(["/tasks"])})}},n=>{alert(n.message),this.router.navigate(["/login"])})}static#e=this.\u0275fac=function(s){return new(s||i)(W.LFG(ue.zQ),W.LFG(de.Q),W.LFG(J.F0),W.LFG(QI))};static#t=this.\u0275prov=W.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})()},553:(Mt,He,U)=>{U.d(He,{N:()=>p});const p={production:!0,firebase:{apiKey:"AIzaSyDEFnGE_jUVrWMEMuY2-bdk3TCL8PwiUxs",authDomain:"tasks-2aa20.firebaseapp.com",projectId:"tasks-2aa20",storageBucket:"tasks-2aa20.appspot.com",messagingSenderId:"289908118671",appId:"1:289908118671:web:40a2c8d77b6819feb10cfa",measurementId:"G-PRWGNQ569P"}}},3773:(Mt,He,U)=>{var p=U(6593),V=U(3781),b=U(5879),Ce=U(9445),$=U(6814);function Y(Z,y){if(1&Z&&(b.TgZ(0,"span",6),b._uU(1,"We've sent a verification mail to "),b.TgZ(2,"strong",7),b._uU(3),b.qZA()()),2&Z){const E=b.oxw();b.xp6(3),b.Oqu(E.email)}}function W(Z,y){if(1&Z&&(b.TgZ(0,"span",6),b._uU(1,"We've sent instructions on how to reset "),b._UZ(2,"br"),b._uU(3," your password to "),b.TgZ(4,"strong",7),b._uU(5),b.qZA()()),2&Z){const E=b.oxw();b.xp6(5),b.Oqu(E.email)}}function ue(Z,y){1&Z&&(b.TgZ(0,"span",6),b._uU(1,"Please go to your mail to verify your email."),b.qZA())}let de=(()=>{class Z{constructor(E){this.authService=E,this.email=null,this.forgotPassLabel=!1}ngOnInit(){this.authService.getUser().subscribe(E=>{E?this.email=E.email:(this.email=this.authService.email,this.forgotPassLabel=!0)})}static#e=this.\u0275fac=function(x){return new(x||Z)(b.Y36(Ce.e))};static#t=this.\u0275cmp=b.Xpm({type:Z,selectors:[["app-verifyemail"]],decls:10,vars:3,consts:[[1,"container"],[1,"box"],["src","assets/mail.png"],[1,"title"],["class","title1",4,"ngIf"],["href","#login",1,"title2"],[1,"title1"],[1,"bold-email"]],template:function(x,Q){1&x&&(b.TgZ(0,"div",0)(1,"div",1),b._UZ(2,"img",2),b.TgZ(3,"span",3),b._uU(4,"Check your email"),b.qZA(),b.YNc(5,Y,4,1,"span",4),b.YNc(6,W,6,1,"span",4),b.YNc(7,ue,2,0,"span",4),b.TgZ(8,"a",5),b._uU(9,"Verified logging in"),b.qZA()()()),2&x&&(b.xp6(5),b.Q6J("ngIf",!Q.forgotPassLabel),b.xp6(1),b.Q6J("ngIf",Q.forgotPassLabel),b.xp6(1),b.Q6J("ngIf",!Q.forgotPassLabel))},dependencies:[$.O5],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;height:100vh;background-color:#cdcde1;max-width:-webkit-fill-available}.box[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;background-color:#fff;padding:75px 50px;border-radius:10px;box-shadow:0 0 10px #0003}.box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-bottom:10px}.title[_ngcontent-%COMP%]{font-weight:600;font-size:larger;margin-bottom:20px;color:#2b2b2b}.bold-email[_ngcontent-%COMP%]{font-weight:700;color:#2b2b2b}.title1[_ngcontent-%COMP%]{margin-bottom:2%;color:gray;font-size:14px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}.title2[_ngcontent-%COMP%]{color:#228be6;text-decoration:none;font-weight:500;margin-top:2%;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;transition:color .3s ease}.title2[_ngcontent-%COMP%]:hover{color:#08f}"]})}return Z})();var J=U(95);let ae=(()=>{class Z{constructor(E){this.authService=E,this.email=""}forgotPasswordMail(){this.authService.forgotPassword(this.email)}static#e=this.\u0275fac=function(x){return new(x||Z)(b.Y36(Ce.e))};static#t=this.\u0275cmp=b.Xpm({type:Z,selectors:[["app-forgotpassword"]],decls:13,vars:1,consts:[[1,"container"],[1,"box"],[1,"title"],[1,"title1"],["for","email",1,"emailLabel"],["type","email","id","email","name","email","aria-describedby","email",1,"emailInput",3,"ngModel","ngModelChange"],[1,"btn",3,"click"],["href","#login",1,"title2"]],template:function(x,Q){1&x&&(b.TgZ(0,"div",0)(1,"div",1)(2,"span",2),b._uU(3,"Forgot your password?"),b.qZA(),b.TgZ(4,"span",3),b._uU(5,"Your password will be reset by email."),b.qZA(),b.TgZ(6,"label",4),b._uU(7,"Enter your email address"),b.qZA(),b.TgZ(8,"input",5),b.NdJ("ngModelChange",function(_){return Q.email=_}),b.qZA(),b.TgZ(9,"button",6),b.NdJ("click",function(){return Q.forgotPasswordMail()}),b._uU(10,"Next"),b.qZA(),b.TgZ(11,"a",7),b._uU(12,"Back to log in"),b.qZA()()()),2&x&&(b.xp6(8),b.Q6J("ngModel",Q.email))},dependencies:[J.Fj,J.JJ,J.On],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;height:100vh;background-color:#cdcde1;max-width:-webkit-fill-available}.box[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;background-color:#fff;padding:45px 80px;border-radius:10px;box-shadow:0 0 10px #0003}.title[_ngcontent-%COMP%]{font-weight:600;font-size:x-large;margin-bottom:4%;color:#228be6}.btn[_ngcontent-%COMP%]{background-color:#228be6;color:#fff;margin-top:10px;height:40px;width:125%;padding:5px;border:none;border-radius:5px;cursor:pointer;margin-bottom:5%;transition:background-color .3s ease}.btn[_ngcontent-%COMP%]:hover{background-color:#08f}.title1[_ngcontent-%COMP%]{margin-bottom:6%;color:gray;font-size:13px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}.emailLabel[_ngcontent-%COMP%]{color:gray;font-size:13px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;margin-bottom:3%;font-weight:500;margin-left:-167px}.emailInput[_ngcontent-%COMP%]{padding-left:1%;border-radius:5px;border:solid 1px #3a3a3a;outline:none;height:40px;width:125%;margin-bottom:4%}.title2[_ngcontent-%COMP%]{color:#228be6;text-decoration:none;font-weight:500;margin-top:2%;font-size:14px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;transition:color .3s ease}.title2[_ngcontent-%COMP%]:hover{color:#08f}"]})}return Z})();var ye=U(477);let je=(()=>{class Z{constructor(E,x){this.cacheService=E,this.router=x}canActivate(){return this.userData()?this.userData():(this.userData(),this.router.navigate(["/login"]),!1)}userData(){let E=this.cacheService.getData("token");return!(!E||!E.emailVerified)||(this.router.navigate(["/login"]),!1)}static#e=this.\u0275fac=function(x){return new(x||Z)(b.LFG(ye.Q),b.LFG(V.F0))};static#t=this.\u0275prov=b.Yz7({token:Z,factory:Z.\u0275fac,providedIn:"root"})}return Z})();const Ke=["registerationForm"];function lt(Z,y){if(1&Z){const E=b.EpF();b.TgZ(0,"i",27),b.NdJ("click",function(){b.CHM(E);const Q=b.oxw();return b.KtG(Q.togglePasswordVisibility())}),b.qZA()}}function Xe(Z,y){if(1&Z){const E=b.EpF();b.TgZ(0,"i",28),b.NdJ("click",function(){b.CHM(E);const Q=b.oxw();return b.KtG(Q.togglePasswordVisibility())}),b.qZA()}}function rt(Z,y){if(1&Z){const E=b.EpF();b.TgZ(0,"i",27),b.NdJ("click",function(){b.CHM(E);const Q=b.oxw();return b.KtG(Q.toggleConfirmPasswordVisibility())}),b.qZA()}}function it(Z,y){if(1&Z){const E=b.EpF();b.TgZ(0,"i",28),b.NdJ("click",function(){b.CHM(E);const Q=b.oxw();return b.KtG(Q.toggleConfirmPasswordVisibility())}),b.qZA()}}let wt=(()=>{class Z{constructor(E,x){this.authService=E,this.router=x,this.passwordToggle=!1,this.confirmPasswordToggle=!1}ngOnInit(){}register(){this.registerationForm.valid?this.registerationForm.valid&&this.registerationForm.value.password!=this.registerationForm.value.confirmPassword?alert("Password and Confirm password does not matching"):this.registerationForm.valid&&this.registerationForm.value.password==this.registerationForm.value.confirmPassword&&this.authService.register(this.registerationForm.value):alert("Please enter your registration details")}alreadyHaveAccount(){this.router.navigate(["/login"])}togglePasswordVisibility(){const E=document.getElementById("password");"password"===E.type?(E.type="text",this.passwordToggle=!1):(E.type="password",this.passwordToggle=!0)}toggleConfirmPasswordVisibility(){const E=document.getElementById("confirmPassword");"password"===E.type?(E.type="text",this.confirmPasswordToggle=!1):(E.type="password",this.confirmPasswordToggle=!0)}static#e=this.\u0275fac=function(x){return new(x||Z)(b.Y36(Ce.e),b.Y36(V.F0))};static#t=this.\u0275cmp=b.Xpm({type:Z,selectors:[["app-register"]],viewQuery:function(x,Q){if(1&x&&b.Gf(Ke,5),2&x){let le;b.iGM(le=b.CRH())&&(Q.registerationForm=le.first)}},decls:39,vars:4,consts:[[1,"pleaseFillOutFormToRegister"],[3,"ngSubmit"],["registerationForm","ngForm"],["for","fullName",1,"fullName"],["type","text","id","fullName","placeholder","Full Name","name","fullName","aria-describedby","fullName","ngModel","","required","",1,"rectangle9"],["for","userName",1,"userName"],["type","text","id","userName","placeholder","User Name","name","userName","aria-describedby","userName","ngModel","","required","",1,"rectangle2"],["for","email",1,"email"],["type","email","id","email","placeholder","Email","name","email","aria-describedby","email","ngModel","","required","",1,"rectangle10"],["for","password",1,"password"],[1,"rectangle3"],["type","password","id","password","placeholder","Password","id","password","name","password","ngModel","","required","",1,"passwordInput"],[1,"passwordIcon"],["class","bx bx-show",3,"click",4,"ngIf"],["class","bx bx-hide",3,"click",4,"ngIf"],["for","confirmPassword",1,"confirmPassword"],[1,"rectangle8"],["type","password","id","confirmPassword","placeholder","Password","id","confirmPassword","name","confirmPassword","ngModel","","required","",1,"passwordInput"],["type","submit",1,"btn"],[1,"yesIHaveAnAccountLogin"],[1,"labelWrapper"],[1,"label"],["href","#login",1,"label2"],[1,"label3"],[1,"rectangle6"],[1,"rectangle7"],[1,"pc-reg"],[1,"bx","bx-show",3,"click"],[1,"bx","bx-hide",3,"click"]],template:function(x,Q){1&x&&(b.TgZ(0,"div",0),b._uU(1,"Please Fill out form to Register!"),b.qZA(),b.TgZ(2,"form",1,2),b.NdJ("ngSubmit",function(){return Q.register()}),b.TgZ(4,"label",3),b._uU(5,"Full name:"),b.qZA(),b._UZ(6,"input",4),b.TgZ(7,"label",5),b._uU(8,"Username:"),b.qZA(),b._UZ(9,"input",6),b.TgZ(10,"label",7),b._uU(11,"Email:"),b.qZA(),b._UZ(12,"input",8),b.TgZ(13,"label",9),b._uU(14,"Password:"),b.qZA(),b.TgZ(15,"div",10),b._UZ(16,"input",11),b.TgZ(17,"div",12),b.YNc(18,lt,1,0,"i",13),b.YNc(19,Xe,1,0,"i",14),b.qZA()(),b.TgZ(20,"label",15),b._uU(21,"Confirm Password:"),b.qZA(),b.TgZ(22,"div",16),b._UZ(23,"input",17),b.TgZ(24,"div",12),b.YNc(25,rt,1,0,"i",13),b.YNc(26,it,1,0,"i",14),b.qZA()(),b.TgZ(27,"button",18),b._uU(28,"Register"),b.qZA()(),b.TgZ(29,"div",19)(30,"p",20)(31,"span",21),b._uU(32,"Yes i have an account?"),b.qZA(),b.TgZ(33,"a",22),b._uU(34,"Login"),b.qZA(),b._UZ(35,"span",23),b.qZA()(),b._UZ(36,"div",24)(37,"div",25)(38,"div",26)),2&x&&(b.xp6(18),b.Q6J("ngIf",Q.passwordToggle),b.xp6(1),b.Q6J("ngIf",!Q.passwordToggle),b.xp6(6),b.Q6J("ngIf",Q.confirmPasswordToggle),b.xp6(1),b.Q6J("ngIf",!Q.confirmPasswordToggle))},dependencies:[$.O5,J._Y,J.Fj,J.JJ,J.JL,J.Q7,J.On,J.F],styles:['[_nghost-%COMP%], *[_ngcontent-%COMP%]{box-sizing:border-box;margin:0;padding:0;background:none;border:none;flex-shrink:0;text-decoration:none;min-width:0;overflow-wrap:anywhere}[_nghost-%COMP%], [_ngcontent-%COMP%]:not(span, a[_ngcontent-%COMP%], ul[_ngcontent-%COMP%], ol[_ngcontent-%COMP%], li[_ngcontent-%COMP%], p)[_ngcontent-%COMP%]{display:flex}ul[_ngcontent-%COMP%], ol[_ngcontent-%COMP%]{text-indent:0;padding-inline-start:1.5em}p[_ngcontent-%COMP%]:empty:before{content:"";display:inline-block}img[_ngcontent-%COMP%]{object-fit:contain}svg[_ngcontent-%COMP%]{overflow:visible}[_nghost-%COMP%]{position:relative;width:100vw;height:100vh;flex-direction:column;align-items:flex-start;background-color:#ebefff;overflow:hidden}.rectangle2[_ngcontent-%COMP%]{position:absolute;left:756px;top:240px;width:367px;height:40px;outline:solid 1px #3a3a3a;outline-offset:-1px;border-radius:5px;background-color:#afb3ff00;padding-left:.8%}.rectangle9[_ngcontent-%COMP%]{position:absolute;left:756px;top:164px;width:367px;height:40px;outline:solid 1px #3a3a3a;outline-offset:-1px;border-radius:5px;background-color:#afb3ff00;padding-left:.8%}.passwordInput[_ngcontent-%COMP%]{padding-left:3.2%}.rectangle3[_ngcontent-%COMP%]{position:absolute;left:758px;top:396px;width:367px;height:40px;outline:solid 1px #3a3a3a;outline-offset:-1px;border-radius:5px;background-color:#afb3ff00}.rectangle10[_ngcontent-%COMP%]{position:absolute;left:756px;top:320px;width:367px;height:40px;outline:solid 1px #3a3a3a;outline-offset:-1px;border-radius:5px;background-color:#afb3ff00;padding-left:.8%}.rectangle8[_ngcontent-%COMP%]{position:absolute;left:758px;top:472px;width:367px;height:40px;outline:solid 1px #3a3a3a;outline-offset:-1px;border-radius:5px;background-color:#afb3ff00}.userName[_ngcontent-%COMP%]{color:#000;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:756px;top:210px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.fullName[_ngcontent-%COMP%]{color:#000;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:756px;top:134px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.yesIHaveAnAccountLogin[_ngcontent-%COMP%]{position:absolute;left:838px;top:586px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.labelWrapper[_ngcontent-%COMP%]{font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;flex-shrink:1}.label[_ngcontent-%COMP%]{color:#000;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}.label2[_ngcontent-%COMP%]{color:#000;font-size:16px;font-weight:500;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}.label3[_ngcontent-%COMP%]{color:#000;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}.rectangle4[_ngcontent-%COMP%]{position:absolute;left:760px;top:532px;width:365px;height:40px;border-radius:5px;background-color:#228be6;transition:background-color .3s ease}.rectangle4[_ngcontent-%COMP%]:hover{background-color:#08f}.btn[_ngcontent-%COMP%]{box-sizing:border-box;background-color:#228be6;color:#fff;margin-top:10px;padding:.5% 0 0 10%;border:none;border-radius:5px;cursor:pointer;margin-bottom:5%;transition:background-color .3s ease;position:absolute;left:760px;top:532px;width:365px;height:40px;font-size:16px;font-weight:500;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}.btn[_ngcontent-%COMP%]:hover{background-color:#08f;color:#fff}.rectangle3[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .rectangle8[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none;width:100%}.password[_ngcontent-%COMP%]{color:#000;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:760px;top:366px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.email[_ngcontent-%COMP%]{color:#000;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:758px;top:290px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.confirmPassword[_ngcontent-%COMP%]{color:#000;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:760px;top:442px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.rectangle6[_ngcontent-%COMP%]{transform-origin:top left;position:absolute;left:180.2554px;top:510.0889px;width:635px;height:377px;border-radius:105.5304px;background-color:#228be690;transform:matrix(-.1248,-.9922,.9922,-.1248,0,0)}.rectangle7[_ngcontent-%COMP%]{transform-origin:top left;position:absolute;left:165px;top:536px;width:635px;height:377px;border-radius:105.5304px;background-color:#228be61f;transform:matrix(0,-1,1,0,0,0)}.socialMediaIcons[_ngcontent-%COMP%]{position:absolute;left:917px;top:636px;width:88.2188px;height:24.2188px;overflow:visible}.icon[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.pleaseFillOutFormToRegister[_ngcontent-%COMP%]{color:#1a1a1a;font-size:17px;font-weight:700;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:818px;top:92px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.pc-reg[_ngcontent-%COMP%]{position:absolute;inset:24.5833% 45.3906% 7.0833% 16.7344%;width:420px;height:420px;background-image:url(pc-reg.d15c0a20eefd0708.svg);background-position:center;background-repeat:no-repeat;background-size:contain}.passwordIcon[_ngcontent-%COMP%]{position:absolute;left:335px;top:14px}']})}return Z})();const ut=["loginForm"];function oe(Z,y){if(1&Z){const E=b.EpF();b.TgZ(0,"i",28),b.NdJ("click",function(){b.CHM(E);const Q=b.oxw();return b.KtG(Q.togglePasswordVisibility())}),b.qZA()}}function Me(Z,y){if(1&Z){const E=b.EpF();b.TgZ(0,"i",29),b.NdJ("click",function(){b.CHM(E);const Q=b.oxw();return b.KtG(Q.togglePasswordVisibility())}),b.qZA()}}const me=[{path:"",redirectTo:"/tasks",pathMatch:"full"},{path:"tasks",loadChildren:()=>U.e(12).then(U.bind(U,5012)).then(Z=>Z.AdminModule),canActivate:[je]},{path:"login",component:(()=>{class Z{constructor(E,x){this.authService=E,this.router=x,this.passwordToggle=!1}ngOnInit(){}login(E){this.loginForm.valid?this.authService.signIn(E.email,E.password,E.rememberMe):alert("Please enter your email and password")}forgotPass(){this.router.navigate(["/forgot-password"])}togglePasswordVisibility(){const E=document.getElementById("password");"password"===E.type?(E.type="text",this.passwordToggle=!1):(E.type="password",this.passwordToggle=!0)}signInWithGoogle(){this.authService.singInWithGoogle()}signInWithGithub(){this.authService.singInWithGithub()}static#e=this.\u0275fac=function(x){return new(x||Z)(b.Y36(Ce.e),b.Y36(V.F0))};static#t=this.\u0275cmp=b.Xpm({type:Z,selectors:[["app-login"]],viewQuery:function(x,Q){if(1&x&&b.Gf(ut,5),2&x){let le;b.iGM(le=b.CRH())&&(Q.loginForm=le.first)}},decls:39,vars:2,consts:[[1,"rectangle1"],[1,"pc-login"],[1,"welcomeBack"],[3,"ngSubmit"],["loginForm","ngForm"],["for","exampleInputEmail",1,"username"],["type","email","id","exampleInputEmail","placeholder","Email","name","email","aria-describedby","emailHelp","ngModel","","required","",1,"rectangle2"],["for","exampleInputPassword",1,"password"],[1,"rectangle3"],["type","password","id","exampleInputPassword","placeholder","Password","id","password","name","password","ngModel","","required","",1,"passwordInput"],[1,"passwordIcon"],["class","bx bx-show",3,"click",4,"ngIf"],["class","bx bx-hide",3,"click",4,"ngIf"],[1,"dontHaveAndAccountRegister1"],[1,"labelWrapper"],["type","checkbox","id","rememberMe","name","rememberMe","ngModel",""],["for","rememberMe",1,"rememberMe"],["href","#forgot-password",1,"forgotPassword"],[1,"dontHaveAndAccountRegister"],[1,"label"],["href","#register",1,"label2"],["type","submit",1,"btn"],[1,"socialMediaIcons"],[3,"click"],["src","assets/google.svg","alt","",1,"icon"],["src","assets/github.svg","alt","",1,"icon"],[1,"rectangle5"],[1,"rectangle6"],[1,"bx","bx-show",3,"click"],[1,"bx","bx-hide",3,"click"]],template:function(x,Q){if(1&x){const le=b.EpF();b._UZ(0,"div",0)(1,"div",1),b.TgZ(2,"div",2),b._uU(3,"Welcome Back!"),b.qZA(),b.TgZ(4,"form",3,4),b.NdJ("ngSubmit",function(){b.CHM(le);const O=b.MAs(5);return b.KtG(Q.login(O.value))}),b.TgZ(6,"label",5),b._uU(7,"Email:"),b.qZA(),b._UZ(8,"input",6),b.TgZ(9,"label",7),b._uU(10,"Password:"),b.qZA(),b.TgZ(11,"div",8),b._UZ(12,"input",9),b.TgZ(13,"div",10),b.YNc(14,oe,1,0,"i",11),b.YNc(15,Me,1,0,"i",12),b.qZA()(),b.TgZ(16,"div",13)(17,"div",14)(18,"div"),b._UZ(19,"input",15),b.TgZ(20,"span",16),b._uU(21,"Remember Me"),b.qZA()(),b.TgZ(22,"a",17),b._uU(23,"Forgot Password"),b.qZA()()(),b.TgZ(24,"div",18)(25,"p",14)(26,"span",19),b._uU(27,"Dont have and account?"),b.qZA(),b.TgZ(28,"a",20),b._uU(29,"Register"),b.qZA()()(),b.TgZ(30,"button",21),b._uU(31,"Login"),b.qZA(),b.TgZ(32,"div",22)(33,"a",23),b.NdJ("click",function(){return Q.signInWithGoogle()}),b._UZ(34,"img",24),b.qZA(),b.TgZ(35,"a",23),b.NdJ("click",function(){return Q.signInWithGithub()}),b._UZ(36,"img",25),b.qZA()()(),b._UZ(37,"div",26)(38,"div",27)}2&x&&(b.xp6(14),b.Q6J("ngIf",Q.passwordToggle),b.xp6(1),b.Q6J("ngIf",!Q.passwordToggle))},dependencies:[$.O5,J._Y,J.Fj,J.Wl,J.JJ,J.JL,J.Q7,J.On,J.F],styles:['[_nghost-%COMP%], *[_ngcontent-%COMP%]{box-sizing:border-box;margin:0;padding:0;background:none;border:none;flex-shrink:0;text-decoration:none;min-width:0;overflow-wrap:anywhere}[_nghost-%COMP%], [_ngcontent-%COMP%]:not(span, a[_ngcontent-%COMP%], ul[_ngcontent-%COMP%], ol[_ngcontent-%COMP%], li[_ngcontent-%COMP%], p)[_ngcontent-%COMP%]{display:flex}ul[_ngcontent-%COMP%], ol[_ngcontent-%COMP%]{text-indent:0;padding-inline-start:1.5em}p[_ngcontent-%COMP%]:empty:before{content:"";display:inline-block}img[_ngcontent-%COMP%]{object-fit:contain}svg[_ngcontent-%COMP%]{overflow:visible}[_nghost-%COMP%]{position:relative;width:100vw;height:100vh;flex-direction:column;align-items:flex-start;background-color:#ebefff;overflow:hidden}.rectangle1[_ngcontent-%COMP%]{position:absolute;left:842px;top:0;width:100%;height:100%;background-color:#228be62f}.socialMediaIcons[_ngcontent-%COMP%]{position:absolute;left:256px;top:530px;width:40px;height:35px;overflow:visible}.icon[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.rectangle2[_ngcontent-%COMP%]{position:absolute;left:122px;top:250px;width:367px;height:40px;padding-left:.8%;outline:solid 1px #3a3a3a;outline-offset:-1px;border-radius:5px;background-color:#afb3ff00}.passwordIcon[_ngcontent-%COMP%]{position:absolute;left:335px;top:14px}.rectangle3[_ngcontent-%COMP%]{position:absolute;left:122px;top:326px;width:367px;height:40px;outline:solid 1px #3a3a3a;outline-offset:-1px;border-radius:5px;background-color:#afb3ff00}.rectangle3[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none;width:90%}.username[_ngcontent-%COMP%]{color:#000;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:122px;top:220px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.dontHaveAndAccountRegister1[_ngcontent-%COMP%]{position:absolute;left:134px;top:379px;width:max-content;height:min-content;white-space:nowrap;flex-direction:column}.rememberMe[_ngcontent-%COMP%]{margin-left:6%}.dontHaveAndAccountRegister[_ngcontent-%COMP%]{position:absolute;left:188px;top:480px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.labelWrapper[_ngcontent-%COMP%]{font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;flex-shrink:1}.label[_ngcontent-%COMP%]{color:#000;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}.label2[_ngcontent-%COMP%]{color:#000;font-size:16px;font-weight:500;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}.forgotPassword[_ngcontent-%COMP%]{color:#000;font-size:16px;font-weight:500;margin-left:30%;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}.welcomeBack[_ngcontent-%COMP%]{color:#1a1a1a;font-size:17px;font-weight:700;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:240px;top:177px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.passwordInput[_ngcontent-%COMP%]{padding-left:3.2%}.btn[_ngcontent-%COMP%]{background-color:#228be6;color:#fff;margin-top:10px;padding:.5% 0 0 11%;border:none;border-radius:5px;cursor:pointer;margin-bottom:5%;transition:background-color .3s ease;position:absolute;left:124px;top:420px;width:365px;height:40px;font-size:16px;font-weight:500;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}.btn[_ngcontent-%COMP%]:hover{background-color:#08f;color:#fff}.rectangle4[_ngcontent-%COMP%]{position:absolute;left:124px;top:420px;width:365px;height:40px;border-radius:5px;background-color:#228be6;transition:background-color .3s ease}.rectangle4[_ngcontent-%COMP%]:hover{background-color:#08f}.login[_ngcontent-%COMP%]{color:#fff;font-size:16px;font-weight:500;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:285px;top:427px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.password[_ngcontent-%COMP%]{color:#000;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:124px;top:296px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.rectangle5[_ngcontent-%COMP%]{transform-origin:top left;position:absolute;left:-287px;top:912.3164px;width:596.734px;height:141.396px;border-radius:105.5304px;background-color:#228be690;transform:matrix(.7535,-.6574,.6574,.7535,0,0)}.rectangle6[_ngcontent-%COMP%]{transform-origin:top left;position:absolute;left:-252px;top:895.0518px;width:553.7418px;height:131.209px;border-radius:105.5304px;background-color:#2b3a4755;transform:matrix(.7535,-.6574,.6574,.7535,0,0)}.pc-login[_ngcontent-%COMP%]{position:absolute;left:565px;top:-37px;width:600px;height:590px;flex-direction:column;align-items:flex-start;right:0;background-image:url(pc-login.e75ae37e4f5b2e76.svg);background-position:center;background-repeat:no-repeat;background-size:cover}']})}return Z})()},{path:"register",component:wt},{path:"verify-email",component:de},{path:"forgot-password",component:ae}];let be=(()=>{class Z{static#e=this.\u0275fac=function(x){return new(x||Z)};static#t=this.\u0275mod=b.oAB({type:Z});static#n=this.\u0275inj=b.cJS({imports:[V.Bz.forRoot(me,{preloadingStrategy:V.wm}),V.Bz]})}return Z})(),ve=(()=>{class Z{constructor(){this.title="tasks"}static#e=this.\u0275fac=function(x){return new(x||Z)};static#t=this.\u0275cmp=b.Xpm({type:Z,selectors:[["app-root"]],decls:1,vars:0,template:function(x,Q){1&x&&b._UZ(0,"router-outlet")},dependencies:[V.lC]})}return Z})();var tt=U(9862),ge=U(6825);function pt(Z){return new b.vHH(3e3,!1)}function $e(Z){switch(Z.length){case 0:return new ge.ZN;case 1:return Z[0];default:return new ge.ZE(Z)}}function qe(Z,y,E=new Map,x=new Map){const Q=[],le=[];let _=-1,O=null;if(y.forEach(A=>{const k=A.get("offset"),re=k==_,Oe=re&&O||new Map;A.forEach((Ye,gt)=>{let Nt=gt,$t=Ye;if("offset"!==gt)switch(Nt=Z.normalizePropertyName(Nt,Q),$t){case ge.k1:$t=E.get(gt);break;case ge.l3:$t=x.get(gt);break;default:$t=Z.normalizeStyleValue(gt,Nt,$t,Q)}Oe.set(Nt,$t)}),re||le.push(Oe),O=Oe,_=k}),Q.length)throw function cr(Z){return new b.vHH(3502,!1)}();return le}function Bt(Z,y,E,x){switch(y){case"start":Z.onStart(()=>x(E&&At(E,"start",Z)));break;case"done":Z.onDone(()=>x(E&&At(E,"done",Z)));break;case"destroy":Z.onDestroy(()=>x(E&&At(E,"destroy",Z)))}}function At(Z,y,E){const le=Hn(Z.element,Z.triggerName,Z.fromState,Z.toState,y||Z.phaseName,E.totalTime??Z.totalTime,!!E.disabled),_=Z._data;return null!=_&&(le._data=_),le}function Hn(Z,y,E,x,Q="",le=0,_){return{element:Z,triggerName:y,fromState:E,toState:x,phaseName:Q,totalTime:le,disabled:!!_}}function Qt(Z,y,E){let x=Z.get(y);return x||Z.set(y,x=E),x}function Nr(Z){const y=Z.indexOf(":");return[Z.substring(1,y),Z.slice(y+1)]}const ri=(()=>typeof document>"u"?null:document.documentElement)();function Rn(Z){const y=Z.parentNode||Z.host||null;return y===ri?null:y}let Ar=null,Jr=!1;function Ur(Z,y){for(;y;){if(y===Z)return!0;y=Rn(y)}return!1}function De(Z,y,E){if(E)return Array.from(Z.querySelectorAll(y));const x=Z.querySelector(y);return x?[x]:[]}let z=(()=>{class Z{validateStyleProperty(E){return function fi(Z){Ar||(Ar=function Pr(){return typeof document<"u"?document.body:null}()||{},Jr=!!Ar.style&&"WebkitAppearance"in Ar.style);let y=!0;return Ar.style&&!function Ir(Z){return"ebkit"==Z.substring(1,6)}(Z)&&(y=Z in Ar.style,!y&&Jr&&(y="Webkit"+Z.charAt(0).toUpperCase()+Z.slice(1)in Ar.style)),y}(E)}matchesElement(E,x){return!1}containsElement(E,x){return Ur(E,x)}getParentElement(E){return Rn(E)}query(E,x,Q){return De(E,x,Q)}computeStyle(E,x,Q){return Q||""}animate(E,x,Q,le,_,O=[],A){return new ge.ZN(Q,le)}static#e=this.\u0275fac=function(x){return new(x||Z)};static#t=this.\u0275prov=b.Yz7({token:Z,factory:Z.\u0275fac})}return Z})(),F=(()=>{class Z{static#e=this.NOOP=new z}return Z})();const L=1e3,dt="ng-enter",It="ng-leave",xt="ng-trigger",kt=".ng-trigger",Yt="ng-animating",jn=".ng-animating";function Re(Z){if("number"==typeof Z)return Z;const y=Z.match(/^(-?[\.\d]+)(m?s)/);return!y||y.length<2?0:Ee(parseFloat(y[1]),y[2])}function Ee(Z,y){return"s"===y?Z*L:Z}function Ae(Z,y,E){return Z.hasOwnProperty("duration")?Z:function we(Z,y,E){let Q,le=0,_="";if("string"==typeof Z){const O=Z.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===O)return y.push(pt()),{duration:0,delay:0,easing:""};Q=Ee(parseFloat(O[1]),O[2]);const A=O[3];null!=A&&(le=Ee(parseFloat(A),O[4]));const k=O[5];k&&(_=k)}else Q=Z;if(!E){let O=!1,A=y.length;Q<0&&(y.push(function st(){return new b.vHH(3100,!1)}()),O=!0),le<0&&(y.push(function _n(){return new b.vHH(3101,!1)}()),O=!0),O&&y.splice(A,0,pt())}return{duration:Q,delay:le,easing:_}}(Z,y,E)}function Te(Z,y={}){return Object.keys(Z).forEach(E=>{y[E]=Z[E]}),y}function Be(Z){const y=new Map;return Object.keys(Z).forEach(E=>{y.set(E,Z[E])}),y}function ct(Z,y=new Map,E){if(E)for(let[x,Q]of E)y.set(x,Q);for(let[x,Q]of Z)y.set(x,Q);return y}function nn(Z,y,E){y.forEach((x,Q)=>{const le=us(Q);E&&!E.has(Q)&&E.set(Q,Z.style[le]),Z.style[le]=x})}function Gn(Z,y){y.forEach((E,x)=>{const Q=us(x);Z.style[Q]=""})}function Mn(Z){return Array.isArray(Z)?1==Z.length?Z[0]:(0,ge.vP)(Z):Z}const br=new RegExp("{{\\s*(.+?)\\s*}}","g");function li(Z){let y=[];if("string"==typeof Z){let E;for(;E=br.exec(Z);)y.push(E[1]);br.lastIndex=0}return y}function nr(Z,y,E){const x=Z.toString(),Q=x.replace(br,(le,_)=>{let O=y[_];return null==O&&(E.push(function bt(Z){return new b.vHH(3003,!1)}()),O=""),O.toString()});return Q==x?Z:Q}function pr(Z){const y=[];let E=Z.next();for(;!E.done;)y.push(E.value),E=Z.next();return y}const ei=/-+([a-z0-9])/g;function us(Z){return Z.replace(ei,(...y)=>y[1].toUpperCase())}function Dr(Z,y,E){switch(y.type){case 7:return Z.visitTrigger(y,E);case 0:return Z.visitState(y,E);case 1:return Z.visitTransition(y,E);case 2:return Z.visitSequence(y,E);case 3:return Z.visitGroup(y,E);case 4:return Z.visitAnimate(y,E);case 5:return Z.visitKeyframes(y,E);case 6:return Z.visitStyle(y,E);case 8:return Z.visitReference(y,E);case 9:return Z.visitAnimateChild(y,E);case 10:return Z.visitAnimateRef(y,E);case 11:return Z.visitQuery(y,E);case 12:return Z.visitStagger(y,E);default:throw function Pt(Z){return new b.vHH(3004,!1)}()}}function Es(Z,y){return window.getComputedStyle(Z)[y]}const Ps="*";function ns(Z,y){const E=[];return"string"==typeof Z?Z.split(/\s*,\s*/).forEach(x=>function zi(Z,y,E){if(":"==Z[0]){const A=function Gi(Z,y){switch(Z){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(E,x)=>parseFloat(x)>parseFloat(E);case":decrement":return(E,x)=>parseFloat(x)<parseFloat(E);default:return y.push(function Fn(Z){return new b.vHH(3016,!1)}()),"* => *"}}(Z,E);if("function"==typeof A)return void y.push(A);Z=A}const x=Z.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==x||x.length<4)return E.push(function ln(Z){return new b.vHH(3015,!1)}()),y;const Q=x[1],le=x[2],_=x[3];y.push(ui(Q,_));"<"==le[0]&&!(Q==Ps&&_==Ps)&&y.push(ui(_,Q))}(x,E,y)):E.push(Z),E}const Ii=new Set(["true","1"]),Po=new Set(["false","0"]);function ui(Z,y){const E=Ii.has(Z)||Po.has(Z),x=Ii.has(y)||Po.has(y);return(Q,le)=>{let _=Z==Ps||Z==Q,O=y==Ps||y==le;return!_&&E&&"boolean"==typeof Q&&(_=Q?Ii.has(Z):Po.has(Z)),!O&&x&&"boolean"==typeof le&&(O=le?Ii.has(y):Po.has(y)),_&&O}}const Ei=new RegExp("s*:selfs*,?","g");function _o(Z,y,E,x){return new Ro(Z).build(y,E,x)}class Ro{constructor(y){this._driver=y}build(y,E,x){const Q=new Ts(E);return this._resetContextStyleTimingState(Q),Dr(this,Mn(y),Q)}_resetContextStyleTimingState(y){y.currentQuerySelector="",y.collectedStyles=new Map,y.collectedStyles.set("",new Map),y.currentTime=0}visitTrigger(y,E){let x=E.queryCount=0,Q=E.depCount=0;const le=[],_=[];return"@"==y.name.charAt(0)&&E.errors.push(function Ne(){return new b.vHH(3006,!1)}()),y.definitions.forEach(O=>{if(this._resetContextStyleTimingState(E),0==O.type){const A=O,k=A.name;k.toString().split(/\s*,\s*/).forEach(re=>{A.name=re,le.push(this.visitState(A,E))}),A.name=k}else if(1==O.type){const A=this.visitTransition(O,E);x+=A.queryCount,Q+=A.depCount,_.push(A)}else E.errors.push(function Ge(){return new b.vHH(3007,!1)}())}),{type:7,name:y.name,states:le,transitions:_,queryCount:x,depCount:Q,options:null}}visitState(y,E){const x=this.visitStyle(y.styles,E),Q=y.options&&y.options.params||null;if(x.containsDynamicStyles){const le=new Set,_=Q||{};x.styles.forEach(O=>{O instanceof Map&&O.forEach(A=>{li(A).forEach(k=>{_.hasOwnProperty(k)||le.add(k)})})}),le.size&&(pr(le.values()),E.errors.push(function ke(Z,y){return new b.vHH(3008,!1)}()))}return{type:0,name:y.name,style:x,options:Q?{params:Q}:null}}visitTransition(y,E){E.queryCount=0,E.depCount=0;const x=Dr(this,Mn(y.animation),E);return{type:1,matchers:ns(y.expr,E.errors),animation:x,queryCount:E.queryCount,depCount:E.depCount,options:xn(y.options)}}visitSequence(y,E){return{type:2,steps:y.steps.map(x=>Dr(this,x,E)),options:xn(y.options)}}visitGroup(y,E){const x=E.currentTime;let Q=0;const le=y.steps.map(_=>{E.currentTime=x;const O=Dr(this,_,E);return Q=Math.max(Q,E.currentTime),O});return E.currentTime=Q,{type:3,steps:le,options:xn(y.options)}}visitAnimate(y,E){const x=function cs(Z,y){if(Z.hasOwnProperty("duration"))return Z;if("number"==typeof Z)return Rr(Ae(Z,y).duration,0,"");const E=Z;if(E.split(/\s+/).some(le=>"{"==le.charAt(0)&&"{"==le.charAt(1))){const le=Rr(0,0,"");return le.dynamic=!0,le.strValue=E,le}const Q=Ae(E,y);return Rr(Q.duration,Q.delay,Q.easing)}(y.timings,E.errors);E.currentAnimateTimings=x;let Q,le=y.styles?y.styles:(0,ge.oB)({});if(5==le.type)Q=this.visitKeyframes(le,E);else{let _=y.styles,O=!1;if(!_){O=!0;const k={};x.easing&&(k.easing=x.easing),_=(0,ge.oB)(k)}E.currentTime+=x.duration+x.delay;const A=this.visitStyle(_,E);A.isEmptyStep=O,Q=A}return E.currentAnimateTimings=null,{type:4,timings:x,style:Q,options:null}}visitStyle(y,E){const x=this._makeStyleAst(y,E);return this._validateStyleAst(x,E),x}_makeStyleAst(y,E){const x=[],Q=Array.isArray(y.styles)?y.styles:[y.styles];for(let O of Q)"string"==typeof O?O===ge.l3?x.push(O):E.errors.push(new b.vHH(3002,!1)):x.push(Be(O));let le=!1,_=null;return x.forEach(O=>{if(O instanceof Map&&(O.has("easing")&&(_=O.get("easing"),O.delete("easing")),!le))for(let A of O.values())if(A.toString().indexOf("{{")>=0){le=!0;break}}),{type:6,styles:x,easing:_,offset:y.offset,containsDynamicStyles:le,options:null}}_validateStyleAst(y,E){const x=E.currentAnimateTimings;let Q=E.currentTime,le=E.currentTime;x&&le>0&&(le-=x.duration+x.delay),y.styles.forEach(_=>{"string"!=typeof _&&_.forEach((O,A)=>{const k=E.collectedStyles.get(E.currentQuerySelector),re=k.get(A);let Oe=!0;re&&(le!=Q&&le>=re.startTime&&Q<=re.endTime&&(E.errors.push(function Tt(Z,y,E,x,Q){return new b.vHH(3010,!1)}()),Oe=!1),le=re.startTime),Oe&&k.set(A,{startTime:le,endTime:Q}),E.options&&function sr(Z,y,E){const x=y.params||{},Q=li(Z);Q.length&&Q.forEach(le=>{x.hasOwnProperty(le)||E.push(function Dt(Z){return new b.vHH(3001,!1)}())})}(O,E.options,E.errors)})})}visitKeyframes(y,E){const x={type:5,styles:[],options:null};if(!E.currentAnimateTimings)return E.errors.push(function ft(){return new b.vHH(3011,!1)}()),x;let le=0;const _=[];let O=!1,A=!1,k=0;const re=y.steps.map(sn=>{const Un=this._makeStyleAst(sn,E);let bn=null!=Un.offset?Un.offset:function Mo(Z){if("string"==typeof Z)return null;let y=null;if(Array.isArray(Z))Z.forEach(E=>{if(E instanceof Map&&E.has("offset")){const x=E;y=parseFloat(x.get("offset")),x.delete("offset")}});else if(Z instanceof Map&&Z.has("offset")){const E=Z;y=parseFloat(E.get("offset")),E.delete("offset")}return y}(Un.styles),pn=0;return null!=bn&&(le++,pn=Un.offset=bn),A=A||pn<0||pn>1,O=O||pn<k,k=pn,_.push(pn),Un});A&&E.errors.push(function En(){return new b.vHH(3012,!1)}()),O&&E.errors.push(function on(){return new b.vHH(3200,!1)}());const Oe=y.steps.length;let Ye=0;le>0&&le<Oe?E.errors.push(function Nn(){return new b.vHH(3202,!1)}()):0==le&&(Ye=1/(Oe-1));const gt=Oe-1,Nt=E.currentTime,$t=E.currentAnimateTimings,an=$t.duration;return re.forEach((sn,Un)=>{const bn=Ye>0?Un==gt?1:Ye*Un:_[Un],pn=bn*an;E.currentTime=Nt+$t.delay+pn,$t.duration=pn,this._validateStyleAst(sn,E),sn.offset=bn,x.styles.push(sn)}),x}visitReference(y,E){return{type:8,animation:Dr(this,Mn(y.animation),E),options:xn(y.options)}}visitAnimateChild(y,E){return E.depCount++,{type:9,options:xn(y.options)}}visitAnimateRef(y,E){return{type:10,animation:this.visitReference(y.animation,E),options:xn(y.options)}}visitQuery(y,E){const x=E.currentQuerySelector,Q=y.options||{};E.queryCount++,E.currentQuery=y;const[le,_]=function Ks(Z){const y=!!Z.split(/\s*,\s*/).find(E=>":self"==E);return y&&(Z=Z.replace(Ei,"")),Z=Z.replace(/@\*/g,kt).replace(/@\w+/g,E=>kt+"-"+E.slice(1)).replace(/:animating/g,jn),[Z,y]}(y.selector);E.currentQuerySelector=x.length?x+" "+le:le,Qt(E.collectedStyles,E.currentQuerySelector,new Map);const O=Dr(this,Mn(y.animation),E);return E.currentQuery=null,E.currentQuerySelector=x,{type:11,selector:le,limit:Q.limit||0,optional:!!Q.optional,includeSelf:_,animation:O,originalSelector:y.selector,options:xn(y.options)}}visitStagger(y,E){E.currentQuery||E.errors.push(function un(){return new b.vHH(3013,!1)}());const x="full"===y.timings?{duration:0,delay:0,easing:"full"}:Ae(y.timings,E.errors,!0);return{type:12,animation:Dr(this,Mn(y.animation),E),timings:x,options:null}}}class Ts{constructor(y){this.errors=y,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function xn(Z){return Z?(Z=Te(Z)).params&&(Z.params=function yo(Z){return Z?Te(Z):null}(Z.params)):Z={},Z}function Rr(Z,y,E){return{duration:Z,delay:y,easing:E}}function ti(Z,y,E,x,Q,le,_=null,O=!1){return{type:1,element:Z,keyframes:y,preStyleProps:E,postStyleProps:x,duration:Q,delay:le,totalTime:Q+le,easing:_,subTimeline:O}}class Ai{constructor(){this._map=new Map}get(y){return this._map.get(y)||[]}append(y,E){let x=this._map.get(y);x||this._map.set(y,x=[]),x.push(...E)}has(y){return this._map.has(y)}clear(){this._map.clear()}}const vo=new RegExp(":enter","g"),Si=new RegExp(":leave","g");function Pi(Z,y,E,x,Q,le=new Map,_=new Map,O,A,k=[]){return(new Mr).buildKeyframes(Z,y,E,x,Q,le,_,O,A,k)}class Mr{buildKeyframes(y,E,x,Q,le,_,O,A,k,re=[]){k=k||new Ai;const Oe=new Sn(y,E,k,Q,le,re,[]);Oe.options=A;const Ye=A.delay?Re(A.delay):0;Oe.currentTimeline.delayNextStep(Ye),Oe.currentTimeline.setStyles([_],null,Oe.errors,A),Dr(this,x,Oe);const gt=Oe.timelines.filter(Nt=>Nt.containsAnimation());if(gt.length&&O.size){let Nt;for(let $t=gt.length-1;$t>=0;$t--){const an=gt[$t];if(an.element===E){Nt=an;break}}Nt&&!Nt.allowOnlyTimelineStyles()&&Nt.setStyles([O],null,Oe.errors,A)}return gt.length?gt.map(Nt=>Nt.buildKeyframes()):[ti(E,[],[],[],0,Ye,"",!1)]}visitTrigger(y,E){}visitState(y,E){}visitTransition(y,E){}visitAnimateChild(y,E){const x=E.subInstructions.get(E.element);if(x){const Q=E.createSubContext(y.options),le=E.currentTimeline.currentTime,_=this._visitSubInstructions(x,Q,Q.options);le!=_&&E.transformIntoNewTimeline(_)}E.previousNode=y}visitAnimateRef(y,E){const x=E.createSubContext(y.options);x.transformIntoNewTimeline(),this._applyAnimationRefDelays([y.options,y.animation.options],E,x),this.visitReference(y.animation,x),E.transformIntoNewTimeline(x.currentTimeline.currentTime),E.previousNode=y}_applyAnimationRefDelays(y,E,x){for(const Q of y){const le=Q?.delay;if(le){const _="number"==typeof le?le:Re(nr(le,Q?.params??{},E.errors));x.delayNextStep(_)}}}_visitSubInstructions(y,E,x){let le=E.currentTimeline.currentTime;const _=null!=x.duration?Re(x.duration):null,O=null!=x.delay?Re(x.delay):null;return 0!==_&&y.forEach(A=>{const k=E.appendInstructionToTimeline(A,_,O);le=Math.max(le,k.duration+k.delay)}),le}visitReference(y,E){E.updateOptions(y.options,!0),Dr(this,y.animation,E),E.previousNode=y}visitSequence(y,E){const x=E.subContextCount;let Q=E;const le=y.options;if(le&&(le.params||le.delay)&&(Q=E.createSubContext(le),Q.transformIntoNewTimeline(),null!=le.delay)){6==Q.previousNode.type&&(Q.currentTimeline.snapshotCurrentStyles(),Q.previousNode=Ot);const _=Re(le.delay);Q.delayNextStep(_)}y.steps.length&&(y.steps.forEach(_=>Dr(this,_,Q)),Q.currentTimeline.applyStylesToKeyframe(),Q.subContextCount>x&&Q.transformIntoNewTimeline()),E.previousNode=y}visitGroup(y,E){const x=[];let Q=E.currentTimeline.currentTime;const le=y.options&&y.options.delay?Re(y.options.delay):0;y.steps.forEach(_=>{const O=E.createSubContext(y.options);le&&O.delayNextStep(le),Dr(this,_,O),Q=Math.max(Q,O.currentTimeline.currentTime),x.push(O.currentTimeline)}),x.forEach(_=>E.currentTimeline.mergeTimelineCollectedStyles(_)),E.transformIntoNewTimeline(Q),E.previousNode=y}_visitTiming(y,E){if(y.dynamic){const x=y.strValue;return Ae(E.params?nr(x,E.params,E.errors):x,E.errors)}return{duration:y.duration,delay:y.delay,easing:y.easing}}visitAnimate(y,E){const x=E.currentAnimateTimings=this._visitTiming(y.timings,E),Q=E.currentTimeline;x.delay&&(E.incrementTime(x.delay),Q.snapshotCurrentStyles());const le=y.style;5==le.type?this.visitKeyframes(le,E):(E.incrementTime(x.duration),this.visitStyle(le,E),Q.applyStylesToKeyframe()),E.currentAnimateTimings=null,E.previousNode=y}visitStyle(y,E){const x=E.currentTimeline,Q=E.currentAnimateTimings;!Q&&x.hasCurrentStyleProperties()&&x.forwardFrame();const le=Q&&Q.easing||y.easing;y.isEmptyStep?x.applyEmptyStep(le):x.setStyles(y.styles,le,E.errors,E.options),E.previousNode=y}visitKeyframes(y,E){const x=E.currentAnimateTimings,Q=E.currentTimeline.duration,le=x.duration,O=E.createSubContext().currentTimeline;O.easing=x.easing,y.styles.forEach(A=>{O.forwardTime((A.offset||0)*le),O.setStyles(A.styles,A.easing,E.errors,E.options),O.applyStylesToKeyframe()}),E.currentTimeline.mergeTimelineCollectedStyles(O),E.transformIntoNewTimeline(Q+le),E.previousNode=y}visitQuery(y,E){const x=E.currentTimeline.currentTime,Q=y.options||{},le=Q.delay?Re(Q.delay):0;le&&(6===E.previousNode.type||0==x&&E.currentTimeline.hasCurrentStyleProperties())&&(E.currentTimeline.snapshotCurrentStyles(),E.previousNode=Ot);let _=x;const O=E.invokeQuery(y.selector,y.originalSelector,y.limit,y.includeSelf,!!Q.optional,E.errors);E.currentQueryTotal=O.length;let A=null;O.forEach((k,re)=>{E.currentQueryIndex=re;const Oe=E.createSubContext(y.options,k);le&&Oe.delayNextStep(le),k===E.element&&(A=Oe.currentTimeline),Dr(this,y.animation,Oe),Oe.currentTimeline.applyStylesToKeyframe(),_=Math.max(_,Oe.currentTimeline.currentTime)}),E.currentQueryIndex=0,E.currentQueryTotal=0,E.transformIntoNewTimeline(_),A&&(E.currentTimeline.mergeTimelineCollectedStyles(A),E.currentTimeline.snapshotCurrentStyles()),E.previousNode=y}visitStagger(y,E){const x=E.parentContext,Q=E.currentTimeline,le=y.timings,_=Math.abs(le.duration),O=_*(E.currentQueryTotal-1);let A=_*E.currentQueryIndex;switch(le.duration<0?"reverse":le.easing){case"reverse":A=O-A;break;case"full":A=x.currentStaggerTime}const re=E.currentTimeline;A&&re.delayNextStep(A);const Oe=re.currentTime;Dr(this,y.animation,E),E.previousNode=y,x.currentStaggerTime=Q.currentTime-Oe+(Q.startTime-x.currentTimeline.startTime)}}const Ot={};class Sn{constructor(y,E,x,Q,le,_,O,A){this._driver=y,this.element=E,this.subInstructions=x,this._enterClassName=Q,this._leaveClassName=le,this.errors=_,this.timelines=O,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ot,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=A||new $n(this._driver,E,0),O.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(y,E){if(!y)return;const x=y;let Q=this.options;null!=x.duration&&(Q.duration=Re(x.duration)),null!=x.delay&&(Q.delay=Re(x.delay));const le=x.params;if(le){let _=Q.params;_||(_=this.options.params={}),Object.keys(le).forEach(O=>{(!E||!_.hasOwnProperty(O))&&(_[O]=nr(le[O],_,this.errors))})}}_copyOptions(){const y={};if(this.options){const E=this.options.params;if(E){const x=y.params={};Object.keys(E).forEach(Q=>{x[Q]=E[Q]})}}return y}createSubContext(y=null,E,x){const Q=E||this.element,le=new Sn(this._driver,Q,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(Q,x||0));return le.previousNode=this.previousNode,le.currentAnimateTimings=this.currentAnimateTimings,le.options=this._copyOptions(),le.updateOptions(y),le.currentQueryIndex=this.currentQueryIndex,le.currentQueryTotal=this.currentQueryTotal,le.parentContext=this,this.subContextCount++,le}transformIntoNewTimeline(y){return this.previousNode=Ot,this.currentTimeline=this.currentTimeline.fork(this.element,y),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(y,E,x){const Q={duration:E??y.duration,delay:this.currentTimeline.currentTime+(x??0)+y.delay,easing:""},le=new si(this._driver,y.element,y.keyframes,y.preStyleProps,y.postStyleProps,Q,y.stretchStartingKeyframe);return this.timelines.push(le),Q}incrementTime(y){this.currentTimeline.forwardTime(this.currentTimeline.duration+y)}delayNextStep(y){y>0&&this.currentTimeline.delayNextStep(y)}invokeQuery(y,E,x,Q,le,_){let O=[];if(Q&&O.push(this.element),y.length>0){y=(y=y.replace(vo,"."+this._enterClassName)).replace(Si,"."+this._leaveClassName);let k=this._driver.query(this.element,y,1!=x);0!==x&&(k=x<0?k.slice(k.length+x,k.length):k.slice(0,x)),O.push(...k)}return!le&&0==O.length&&_.push(function Bn(Z){return new b.vHH(3014,!1)}()),O}}class $n{constructor(y,E,x,Q){this._driver=y,this.element=E,this.startTime=x,this._elementTimelineStylesLookup=Q,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(E),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(E,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(y){const E=1===this._keyframes.size&&this._pendingStyles.size;this.duration||E?(this.forwardTime(this.currentTime+y),E&&this.snapshotCurrentStyles()):this.startTime+=y}fork(y,E){return this.applyStylesToKeyframe(),new $n(this._driver,y,E||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(y){this.applyStylesToKeyframe(),this.duration=y,this._loadKeyframe()}_updateStyle(y,E){this._localTimelineStyles.set(y,E),this._globalTimelineStyles.set(y,E),this._styleSummary.set(y,{time:this.currentTime,value:E})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(y){y&&this._previousKeyframe.set("easing",y);for(let[E,x]of this._globalTimelineStyles)this._backFill.set(E,x||ge.l3),this._currentKeyframe.set(E,ge.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(y,E,x,Q){E&&this._previousKeyframe.set("easing",E);const le=Q&&Q.params||{},_=function Hr(Z,y){const E=new Map;let x;return Z.forEach(Q=>{if("*"===Q){x=x||y.keys();for(let le of x)E.set(le,ge.l3)}else ct(Q,E)}),E}(y,this._globalTimelineStyles);for(let[O,A]of _){const k=nr(A,le,x);this._pendingStyles.set(O,k),this._localTimelineStyles.has(O)||this._backFill.set(O,this._globalTimelineStyles.get(O)??ge.l3),this._updateStyle(O,k)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((y,E)=>{this._currentKeyframe.set(E,y)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((y,E)=>{this._currentKeyframe.has(E)||this._currentKeyframe.set(E,y)}))}snapshotCurrentStyles(){for(let[y,E]of this._localTimelineStyles)this._pendingStyles.set(y,E),this._updateStyle(y,E)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const y=[];for(let E in this._currentKeyframe)y.push(E);return y}mergeTimelineCollectedStyles(y){y._styleSummary.forEach((E,x)=>{const Q=this._styleSummary.get(x);(!Q||E.time>Q.time)&&this._updateStyle(x,E.value)})}buildKeyframes(){this.applyStylesToKeyframe();const y=new Set,E=new Set,x=1===this._keyframes.size&&0===this.duration;let Q=[];this._keyframes.forEach((O,A)=>{const k=ct(O,new Map,this._backFill);k.forEach((re,Oe)=>{re===ge.k1?y.add(Oe):re===ge.l3&&E.add(Oe)}),x||k.set("offset",A/this.duration),Q.push(k)});const le=y.size?pr(y.values()):[],_=E.size?pr(E.values()):[];if(x){const O=Q[0],A=new Map(O);O.set("offset",0),A.set("offset",1),Q=[O,A]}return ti(this.element,Q,le,_,this.duration,this.startTime,this.easing,!1)}}class si extends $n{constructor(y,E,x,Q,le,_,O=!1){super(y,E,_.delay),this.keyframes=x,this.preStyleProps=Q,this.postStyleProps=le,this._stretchStartingKeyframe=O,this.timings={duration:_.duration,delay:_.delay,easing:_.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let y=this.keyframes,{delay:E,duration:x,easing:Q}=this.timings;if(this._stretchStartingKeyframe&&E){const le=[],_=x+E,O=E/_,A=ct(y[0]);A.set("offset",0),le.push(A);const k=ct(y[0]);k.set("offset",hs(O)),le.push(k);const re=y.length-1;for(let Oe=1;Oe<=re;Oe++){let Ye=ct(y[Oe]);const gt=Ye.get("offset");Ye.set("offset",hs((E+gt*x)/_)),le.push(Ye)}x=_,E=0,Q="",y=le}return ti(this.element,y,this.preStyleProps,this.postStyleProps,x,E,Q,!0)}}function hs(Z,y=3){const E=Math.pow(10,y-1);return Math.round(Z*E)/E}class rr{}const ws=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class yn extends rr{normalizePropertyName(y,E){return us(y)}normalizeStyleValue(y,E,x,Q){let le="";const _=x.toString().trim();if(ws.has(E)&&0!==x&&"0"!==x)if("number"==typeof x)le="px";else{const O=x.match(/^[+-]?[\d\.]+([a-z]*)$/);O&&0==O[1].length&&Q.push(function Se(Z,y){return new b.vHH(3005,!1)}())}return _+le}}function Ti(Z,y,E,x,Q,le,_,O,A,k,re,Oe,Ye){return{type:0,element:Z,triggerName:y,isRemovalTransition:Q,fromState:E,fromStyles:le,toState:x,toStyles:_,timelines:O,queriedElements:A,preStyleProps:k,postStyleProps:re,totalTime:Oe,errors:Ye}}const Fi={};class rs{constructor(y,E,x){this._triggerName=y,this.ast=E,this._stateStyles=x}match(y,E,x,Q){return function Kr(Z,y,E,x,Q){return Z.some(le=>le(y,E,x,Q))}(this.ast.matchers,y,E,x,Q)}buildStyles(y,E,x){let Q=this._stateStyles.get("*");return void 0!==y&&(Q=this._stateStyles.get(y?.toString())||Q),Q?Q.buildStyles(E,x):new Map}build(y,E,x,Q,le,_,O,A,k,re){const Oe=[],Ye=this.ast.options&&this.ast.options.params||Fi,Nt=this.buildStyles(x,O&&O.params||Fi,Oe),$t=A&&A.params||Fi,an=this.buildStyles(Q,$t,Oe),sn=new Set,Un=new Map,bn=new Map,pn="void"===Q,lr={params:Ki($t,Ye),delay:this.ast.options?.delay},Zr=re?[]:Pi(y,E,this.ast.animation,le,_,Nt,an,lr,k,Oe);let Qr=0;if(Zr.forEach(_i=>{Qr=Math.max(_i.duration+_i.delay,Qr)}),Oe.length)return Ti(E,this._triggerName,x,Q,pn,Nt,an,[],[],Un,bn,Qr,Oe);Zr.forEach(_i=>{const Vr=_i.element,Hi=Qt(Un,Vr,new Set);_i.preStyleProps.forEach(Tr=>Hi.add(Tr));const Ta=Qt(bn,Vr,new Set);_i.postStyleProps.forEach(Tr=>Ta.add(Tr)),Vr!==E&&sn.add(Vr)});const Fr=pr(sn.values());return Ti(E,this._triggerName,x,Q,pn,Nt,an,Zr,Fr,Un,bn,Qr)}}function Ki(Z,y){const E=Te(y);for(const x in Z)Z.hasOwnProperty(x)&&null!=Z[x]&&(E[x]=Z[x]);return E}class ci{constructor(y,E,x){this.styles=y,this.defaultParams=E,this.normalizer=x}buildStyles(y,E){const x=new Map,Q=Te(this.defaultParams);return Object.keys(y).forEach(le=>{const _=y[le];null!==_&&(Q[le]=_)}),this.styles.styles.forEach(le=>{"string"!=typeof le&&le.forEach((_,O)=>{_&&(_=nr(_,Q,E));const A=this.normalizer.normalizePropertyName(O,E);_=this.normalizer.normalizeStyleValue(O,A,_,E),x.set(O,_)})}),x}}class or{constructor(y,E,x){this.name=y,this.ast=E,this._normalizer=x,this.transitionFactories=[],this.states=new Map,E.states.forEach(Q=>{this.states.set(Q.name,new ci(Q.style,Q.options&&Q.options.params||{},x))}),jr(this.states,"true","1"),jr(this.states,"false","0"),E.transitions.forEach(Q=>{this.transitionFactories.push(new rs(y,Q,this.states))}),this.fallbackTransition=function Vi(Z,y,E){return new rs(Z,{type:1,animation:{type:2,steps:[],options:null},matchers:[(_,O)=>!0],options:null,queryCount:0,depCount:0},y)}(y,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(y,E,x,Q){return this.transitionFactories.find(_=>_.match(y,E,x,Q))||null}matchStyles(y,E,x){return this.fallbackTransition.buildStyles(y,E,x)}}function jr(Z,y,E){Z.has(y)?Z.has(E)||Z.set(E,Z.get(y)):Z.has(E)&&Z.set(y,Z.get(E))}const is=new Ai;class Ys{constructor(y,E,x){this.bodyNode=y,this._driver=E,this._normalizer=x,this._animations=new Map,this._playersById=new Map,this.players=[]}register(y,E){const x=[],le=_o(this._driver,E,x,[]);if(x.length)throw function Pn(Z){return new b.vHH(3503,!1)}();this._animations.set(y,le)}_buildPlayer(y,E,x){const Q=y.element,le=qe(this._normalizer,y.keyframes,E,x);return this._driver.animate(Q,le,y.duration,y.delay,y.easing,[],!0)}create(y,E,x={}){const Q=[],le=this._animations.get(y);let _;const O=new Map;if(le?(_=Pi(this._driver,E,le,dt,It,new Map,new Map,x,is,Q),_.forEach(re=>{const Oe=Qt(O,re.element,new Map);re.postStyleProps.forEach(Ye=>Oe.set(Ye,null))})):(Q.push(function Kn(){return new b.vHH(3300,!1)}()),_=[]),Q.length)throw function Cr(Z){return new b.vHH(3504,!1)}();O.forEach((re,Oe)=>{re.forEach((Ye,gt)=>{re.set(gt,this._driver.computeStyle(Oe,gt,ge.l3))})});const k=$e(_.map(re=>{const Oe=O.get(re.element);return this._buildPlayer(re,new Map,Oe)}));return this._playersById.set(y,k),k.onDestroy(()=>this.destroy(y)),this.players.push(k),k}destroy(y){const E=this._getPlayer(y);E.destroy(),this._playersById.delete(y);const x=this.players.indexOf(E);x>=0&&this.players.splice(x,1)}_getPlayer(y){const E=this._playersById.get(y);if(!E)throw function ir(Z){return new b.vHH(3301,!1)}();return E}listen(y,E,x,Q){const le=Hn(E,"","","");return Bt(this._getPlayer(y),x,le,Q),()=>{}}command(y,E,x,Q){if("register"==x)return void this.register(y,Q[0]);if("create"==x)return void this.create(y,E,Q[0]||{});const le=this._getPlayer(y);switch(x){case"play":le.play();break;case"pause":le.pause();break;case"reset":le.reset();break;case"restart":le.restart();break;case"finish":le.finish();break;case"init":le.init();break;case"setPosition":le.setPosition(parseFloat(Q[0]));break;case"destroy":this.destroy(y)}}}const Ln="ng-animate-queued",xo="ng-animate-disabled",wi=[],Ci={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},$r={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},bi="__ng_removed";class Lr{get params(){return this.options.params}constructor(y,E=""){this.namespaceId=E;const x=y&&y.hasOwnProperty("value");if(this.value=function No(Z){return Z??null}(x?y.value:y),x){const le=Te(y);delete le.value,this.options=le}else this.options={};this.options.params||(this.options.params={})}absorbOptions(y){const E=y.params;if(E){const x=this.options.params;Object.keys(E).forEach(Q=>{null==x[Q]&&(x[Q]=E[Q])})}}}const ar="void",Io=new Lr(ar);class Zi{constructor(y,E,x){this.id=y,this.hostElement=E,this._engine=x,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+y,ss(E,this._hostClassName)}listen(y,E,x,Q){if(!this._triggers.has(E))throw function en(Z,y){return new b.vHH(3302,!1)}();if(null==x||0==x.length)throw function hn(Z){return new b.vHH(3303,!1)}();if(!function ya(Z){return"start"==Z||"done"==Z}(x))throw function tn(Z,y){return new b.vHH(3400,!1)}();const le=Qt(this._elementListeners,y,[]),_={name:E,phase:x,callback:Q};le.push(_);const O=Qt(this._engine.statesByElement,y,new Map);return O.has(E)||(ss(y,xt),ss(y,xt+"-"+E),O.set(E,Io)),()=>{this._engine.afterFlush(()=>{const A=le.indexOf(_);A>=0&&le.splice(A,1),this._triggers.has(E)||O.delete(E)})}}register(y,E){return!this._triggers.has(y)&&(this._triggers.set(y,E),!0)}_getTrigger(y){const E=this._triggers.get(y);if(!E)throw function tr(Z){return new b.vHH(3401,!1)}();return E}trigger(y,E,x,Q=!0){const le=this._getTrigger(E),_=new Ui(this.id,E,y);let O=this._engine.statesByElement.get(y);O||(ss(y,xt),ss(y,xt+"-"+E),this._engine.statesByElement.set(y,O=new Map));let A=O.get(E);const k=new Lr(x,this.id);if(!(x&&x.hasOwnProperty("value"))&&A&&k.absorbOptions(A.options),O.set(E,k),A||(A=Io),k.value!==ar&&A.value===k.value){if(!function G(Z,y){const E=Object.keys(Z),x=Object.keys(y);if(E.length!=x.length)return!1;for(let Q=0;Q<E.length;Q++){const le=E[Q];if(!y.hasOwnProperty(le)||Z[le]!==y[le])return!1}return!0}(A.params,k.params)){const $t=[],an=le.matchStyles(A.value,A.params,$t),sn=le.matchStyles(k.value,k.params,$t);$t.length?this._engine.reportError($t):this._engine.afterFlush(()=>{Gn(y,an),nn(y,sn)})}return}const Ye=Qt(this._engine.playersByElement,y,[]);Ye.forEach($t=>{$t.namespaceId==this.id&&$t.triggerName==E&&$t.queued&&$t.destroy()});let gt=le.matchTransition(A.value,k.value,y,k.params),Nt=!1;if(!gt){if(!Q)return;gt=le.fallbackTransition,Nt=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:y,triggerName:E,transition:gt,fromState:A,toState:k,player:_,isFallbackTransition:Nt}),Nt||(ss(y,Ln),_.onStart(()=>{to(y,Ln)})),_.onDone(()=>{let $t=this.players.indexOf(_);$t>=0&&this.players.splice($t,1);const an=this._engine.playersByElement.get(y);if(an){let sn=an.indexOf(_);sn>=0&&an.splice(sn,1)}}),this.players.push(_),Ye.push(_),_}deregister(y){this._triggers.delete(y),this._engine.statesByElement.forEach(E=>E.delete(y)),this._elementListeners.forEach((E,x)=>{this._elementListeners.set(x,E.filter(Q=>Q.name!=y))})}clearElementCache(y){this._engine.statesByElement.delete(y),this._elementListeners.delete(y);const E=this._engine.playersByElement.get(y);E&&(E.forEach(x=>x.destroy()),this._engine.playersByElement.delete(y))}_signalRemovalForInnerTriggers(y,E){const x=this._engine.driver.query(y,kt,!0);x.forEach(Q=>{if(Q[bi])return;const le=this._engine.fetchNamespacesByElement(Q);le.size?le.forEach(_=>_.triggerLeaveAnimation(Q,E,!1,!0)):this.clearElementCache(Q)}),this._engine.afterFlushAnimationsDone(()=>x.forEach(Q=>this.clearElementCache(Q)))}triggerLeaveAnimation(y,E,x,Q){const le=this._engine.statesByElement.get(y),_=new Map;if(le){const O=[];if(le.forEach((A,k)=>{if(_.set(k,A.value),this._triggers.has(k)){const re=this.trigger(y,k,ar,Q);re&&O.push(re)}}),O.length)return this._engine.markElementAsRemoved(this.id,y,!0,E,_),x&&$e(O).onDone(()=>this._engine.processLeaveNode(y)),!0}return!1}prepareLeaveAnimationListeners(y){const E=this._elementListeners.get(y),x=this._engine.statesByElement.get(y);if(E&&x){const Q=new Set;E.forEach(le=>{const _=le.name;if(Q.has(_))return;Q.add(_);const A=this._triggers.get(_).fallbackTransition,k=x.get(_)||Io,re=new Lr(ar),Oe=new Ui(this.id,_,y);this._engine.totalQueuedPlayers++,this._queue.push({element:y,triggerName:_,transition:A,fromState:k,toState:re,player:Oe,isFallbackTransition:!0})})}}removeNode(y,E){const x=this._engine;if(y.childElementCount&&this._signalRemovalForInnerTriggers(y,E),this.triggerLeaveAnimation(y,E,!0))return;let Q=!1;if(x.totalAnimations){const le=x.players.length?x.playersByQueriedElement.get(y):[];if(le&&le.length)Q=!0;else{let _=y;for(;_=_.parentNode;)if(x.statesByElement.get(_)){Q=!0;break}}}if(this.prepareLeaveAnimationListeners(y),Q)x.markElementAsRemoved(this.id,y,!1,E);else{const le=y[bi];(!le||le===Ci)&&(x.afterFlush(()=>this.clearElementCache(y)),x.destroyInnerAnimations(y),x._onRemovalComplete(y,E))}}insertNode(y,E){ss(y,this._hostClassName)}drainQueuedTransitions(y){const E=[];return this._queue.forEach(x=>{const Q=x.player;if(Q.destroyed)return;const le=x.element,_=this._elementListeners.get(le);_&&_.forEach(O=>{if(O.name==x.triggerName){const A=Hn(le,x.triggerName,x.fromState.value,x.toState.value);A._data=y,Bt(x.player,O.phase,A,O.callback)}}),Q.markedForDestroy?this._engine.afterFlush(()=>{Q.destroy()}):E.push(x)}),this._queue=[],E.sort((x,Q)=>{const le=x.transition.ast.depCount,_=Q.transition.ast.depCount;return 0==le||0==_?le-_:this._engine.driver.containsElement(x.element,Q.element)?1:-1})}destroy(y){this.players.forEach(E=>E.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,y)}}class Xs{_onRemovalComplete(y,E){this.onRemovalComplete(y,E)}constructor(y,E,x){this.bodyNode=y,this.driver=E,this._normalizer=x,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(Q,le)=>{}}get queuedPlayers(){const y=[];return this._namespaceList.forEach(E=>{E.players.forEach(x=>{x.queued&&y.push(x)})}),y}createNamespace(y,E){const x=new Zi(y,E,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,E)?this._balanceNamespaceList(x,E):(this.newHostElements.set(E,x),this.collectEnterElement(E)),this._namespaceLookup[y]=x}_balanceNamespaceList(y,E){const x=this._namespaceList,Q=this.namespacesByHostElement;if(x.length-1>=0){let _=!1,O=this.driver.getParentElement(E);for(;O;){const A=Q.get(O);if(A){const k=x.indexOf(A);x.splice(k+1,0,y),_=!0;break}O=this.driver.getParentElement(O)}_||x.unshift(y)}else x.push(y);return Q.set(E,y),y}register(y,E){let x=this._namespaceLookup[y];return x||(x=this.createNamespace(y,E)),x}registerTrigger(y,E,x){let Q=this._namespaceLookup[y];Q&&Q.register(E,x)&&this.totalAnimations++}destroy(y,E){y&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const x=this._fetchNamespace(y);this.namespacesByHostElement.delete(x.hostElement);const Q=this._namespaceList.indexOf(x);Q>=0&&this._namespaceList.splice(Q,1),x.destroy(E),delete this._namespaceLookup[y]}))}_fetchNamespace(y){return this._namespaceLookup[y]}fetchNamespacesByElement(y){const E=new Set,x=this.statesByElement.get(y);if(x)for(let Q of x.values())if(Q.namespaceId){const le=this._fetchNamespace(Q.namespaceId);le&&E.add(le)}return E}trigger(y,E,x,Q){if(Cs(E)){const le=this._fetchNamespace(y);if(le)return le.trigger(E,x,Q),!0}return!1}insertNode(y,E,x,Q){if(!Cs(E))return;const le=E[bi];if(le&&le.setForRemoval){le.setForRemoval=!1,le.setForMove=!0;const _=this.collectedLeaveElements.indexOf(E);_>=0&&this.collectedLeaveElements.splice(_,1)}if(y){const _=this._fetchNamespace(y);_&&_.insertNode(E,x)}Q&&this.collectEnterElement(E)}collectEnterElement(y){this.collectedEnterElements.push(y)}markElementAsDisabled(y,E){E?this.disabledNodes.has(y)||(this.disabledNodes.add(y),ss(y,xo)):this.disabledNodes.has(y)&&(this.disabledNodes.delete(y),to(y,xo))}removeNode(y,E,x){if(Cs(E)){const Q=y?this._fetchNamespace(y):null;Q?Q.removeNode(E,x):this.markElementAsRemoved(y,E,!1,x);const le=this.namespacesByHostElement.get(E);le&&le.id!==y&&le.removeNode(E,x)}else this._onRemovalComplete(E,x)}markElementAsRemoved(y,E,x,Q,le){this.collectedLeaveElements.push(E),E[bi]={namespaceId:y,setForRemoval:Q,hasAnimation:x,removedBeforeQueried:!1,previousTriggersValues:le}}listen(y,E,x,Q,le){return Cs(E)?this._fetchNamespace(y).listen(E,x,Q,le):()=>{}}_buildInstruction(y,E,x,Q,le){return y.transition.build(this.driver,y.element,y.fromState.value,y.toState.value,x,Q,y.fromState.options,y.toState.options,E,le)}destroyInnerAnimations(y){let E=this.driver.query(y,kt,!0);E.forEach(x=>this.destroyActiveAnimationsForElement(x)),0!=this.playersByQueriedElement.size&&(E=this.driver.query(y,jn,!0),E.forEach(x=>this.finishActiveQueriedAnimationOnElement(x)))}destroyActiveAnimationsForElement(y){const E=this.playersByElement.get(y);E&&E.forEach(x=>{x.queued?x.markedForDestroy=!0:x.destroy()})}finishActiveQueriedAnimationOnElement(y){const E=this.playersByQueriedElement.get(y);E&&E.forEach(x=>x.finish())}whenRenderingDone(){return new Promise(y=>{if(this.players.length)return $e(this.players).onDone(()=>y());y()})}processLeaveNode(y){const E=y[bi];if(E&&E.setForRemoval){if(y[bi]=Ci,E.namespaceId){this.destroyInnerAnimations(y);const x=this._fetchNamespace(E.namespaceId);x&&x.clearElementCache(y)}this._onRemovalComplete(y,E.setForRemoval)}y.classList?.contains(xo)&&this.markElementAsDisabled(y,!1),this.driver.query(y,".ng-animate-disabled",!0).forEach(x=>{this.markElementAsDisabled(x,!1)})}flush(y=-1){let E=[];if(this.newHostElements.size&&(this.newHostElements.forEach((x,Q)=>this._balanceNamespaceList(x,Q)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let x=0;x<this.collectedEnterElements.length;x++)ss(this.collectedEnterElements[x],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const x=[];try{E=this._flushAnimations(x,y)}finally{for(let Q=0;Q<x.length;Q++)x[Q]()}}else for(let x=0;x<this.collectedLeaveElements.length;x++)this.processLeaveNode(this.collectedLeaveElements[x]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(x=>x()),this._flushFns=[],this._whenQuietFns.length){const x=this._whenQuietFns;this._whenQuietFns=[],E.length?$e(E).onDone(()=>{x.forEach(Q=>Q())}):x.forEach(Q=>Q())}}reportError(y){throw function fr(Z){return new b.vHH(3402,!1)}()}_flushAnimations(y,E){const x=new Ai,Q=[],le=new Map,_=[],O=new Map,A=new Map,k=new Map,re=new Set;this.disabledNodes.forEach(qt=>{re.add(qt);const vn=this.driver.query(qt,".ng-animate-queued",!0);for(let On=0;On<vn.length;On++)re.add(vn[On])});const Oe=this.bodyNode,Ye=Array.from(this.statesByElement.keys()),gt=Lo(Ye,this.collectedEnterElements),Nt=new Map;let $t=0;gt.forEach((qt,vn)=>{const On=dt+$t++;Nt.set(vn,On),qt.forEach(Zn=>ss(Zn,On))});const an=[],sn=new Set,Un=new Set;for(let qt=0;qt<this.collectedLeaveElements.length;qt++){const vn=this.collectedLeaveElements[qt],On=vn[bi];On&&On.setForRemoval&&(an.push(vn),sn.add(vn),On.hasAnimation?this.driver.query(vn,".ng-star-inserted",!0).forEach(Zn=>sn.add(Zn)):Un.add(vn))}const bn=new Map,pn=Lo(Ye,Array.from(sn));pn.forEach((qt,vn)=>{const On=It+$t++;bn.set(vn,On),qt.forEach(Zn=>ss(Zn,On))}),y.push(()=>{gt.forEach((qt,vn)=>{const On=Nt.get(vn);qt.forEach(Zn=>to(Zn,On))}),pn.forEach((qt,vn)=>{const On=bn.get(vn);qt.forEach(Zn=>to(Zn,On))}),an.forEach(qt=>{this.processLeaveNode(qt)})});const lr=[],Zr=[];for(let qt=this._namespaceList.length-1;qt>=0;qt--)this._namespaceList[qt].drainQueuedTransitions(E).forEach(On=>{const Zn=On.player,Wn=On.element;if(lr.push(Zn),this.collectedEnterElements.length){const oi=Wn[bi];if(oi&&oi.setForMove){if(oi.previousTriggersValues&&oi.previousTriggersValues.has(On.triggerName)){const qo=oi.previousTriggersValues.get(On.triggerName),mt=this.statesByElement.get(On.element);if(mt&&mt.has(On.triggerName)){const zr=mt.get(On.triggerName);zr.value=qo,mt.set(On.triggerName,zr)}}return void Zn.destroy()}}const Eo=!Oe||!this.driver.containsElement(Oe,Wn),xi=bn.get(Wn),Ds=Nt.get(Wn),In=this._buildInstruction(On,x,Ds,xi,Eo);if(In.errors&&In.errors.length)return void Zr.push(In);if(Eo)return Zn.onStart(()=>Gn(Wn,In.fromStyles)),Zn.onDestroy(()=>nn(Wn,In.toStyles)),void Q.push(Zn);if(On.isFallbackTransition)return Zn.onStart(()=>Gn(Wn,In.fromStyles)),Zn.onDestroy(()=>nn(Wn,In.toStyles)),void Q.push(Zn);const lo=[];In.timelines.forEach(oi=>{oi.stretchStartingKeyframe=!0,this.disabledNodes.has(oi.element)||lo.push(oi)}),In.timelines=lo,x.append(Wn,In.timelines),_.push({instruction:In,player:Zn,element:Wn}),In.queriedElements.forEach(oi=>Qt(O,oi,[]).push(Zn)),In.preStyleProps.forEach((oi,qo)=>{if(oi.size){let mt=A.get(qo);mt||A.set(qo,mt=new Set),oi.forEach((zr,rn)=>mt.add(rn))}}),In.postStyleProps.forEach((oi,qo)=>{let mt=k.get(qo);mt||k.set(qo,mt=new Set),oi.forEach((zr,rn)=>mt.add(rn))})});if(Zr.length){const qt=[];Zr.forEach(vn=>{qt.push(function Ct(Z,y){return new b.vHH(3505,!1)}())}),lr.forEach(vn=>vn.destroy()),this.reportError(qt)}const Qr=new Map,Fr=new Map;_.forEach(qt=>{const vn=qt.element;x.has(vn)&&(Fr.set(vn,vn),this._beforeAnimationBuild(qt.player.namespaceId,qt.instruction,Qr))}),Q.forEach(qt=>{const vn=qt.element;this._getPreviousPlayers(vn,!1,qt.namespaceId,qt.triggerName,null).forEach(Zn=>{Qt(Qr,vn,[]).push(Zn),Zn.destroy()})});const _i=an.filter(qt=>K(qt,A,k)),Vr=new Map;Bs(Vr,this.driver,Un,k,ge.l3).forEach(qt=>{K(qt,A,k)&&_i.push(qt)});const Ta=new Map;gt.forEach((qt,vn)=>{Bs(Ta,this.driver,new Set(qt),A,ge.k1)}),_i.forEach(qt=>{const vn=Vr.get(qt),On=Ta.get(qt);Vr.set(qt,new Map([...vn?.entries()??[],...On?.entries()??[]]))});const Tr=[],Os=[],ia={};_.forEach(qt=>{const{element:vn,player:On,instruction:Zn}=qt;if(x.has(vn)){if(re.has(vn))return On.onDestroy(()=>nn(vn,Zn.toStyles)),On.disabled=!0,On.overrideTotalTime(Zn.totalTime),void Q.push(On);let Wn=ia;if(Fr.size>1){let xi=vn;const Ds=[];for(;xi=xi.parentNode;){const In=Fr.get(xi);if(In){Wn=In;break}Ds.push(xi)}Ds.forEach(In=>Fr.set(In,Wn))}const Eo=this._buildAnimation(On.namespaceId,Zn,Qr,le,Ta,Vr);if(On.setRealPlayer(Eo),Wn===ia)Tr.push(On);else{const xi=this.playersByElement.get(Wn);xi&&xi.length&&(On.parentPlayer=$e(xi)),Q.push(On)}}else Gn(vn,Zn.fromStyles),On.onDestroy(()=>nn(vn,Zn.toStyles)),Os.push(On),re.has(vn)&&Q.push(On)}),Os.forEach(qt=>{const vn=le.get(qt.element);if(vn&&vn.length){const On=$e(vn);qt.setRealPlayer(On)}}),Q.forEach(qt=>{qt.parentPlayer?qt.syncPlayerEvents(qt.parentPlayer):qt.destroy()});for(let qt=0;qt<an.length;qt++){const vn=an[qt],On=vn[bi];if(to(vn,It),On&&On.hasAnimation)continue;let Zn=[];if(O.size){let Eo=O.get(vn);Eo&&Eo.length&&Zn.push(...Eo);let xi=this.driver.query(vn,jn,!0);for(let Ds=0;Ds<xi.length;Ds++){let In=O.get(xi[Ds]);In&&In.length&&Zn.push(...In)}}const Wn=Zn.filter(Eo=>!Eo.destroyed);Wn.length?mr(this,vn,Wn):this.processLeaveNode(vn)}return an.length=0,Tr.forEach(qt=>{this.players.push(qt),qt.onDone(()=>{qt.destroy();const vn=this.players.indexOf(qt);this.players.splice(vn,1)}),qt.play()}),Tr}afterFlush(y){this._flushFns.push(y)}afterFlushAnimationsDone(y){this._whenQuietFns.push(y)}_getPreviousPlayers(y,E,x,Q,le){let _=[];if(E){const O=this.playersByQueriedElement.get(y);O&&(_=O)}else{const O=this.playersByElement.get(y);if(O){const A=!le||le==ar;O.forEach(k=>{k.queued||!A&&k.triggerName!=Q||_.push(k)})}}return(x||Q)&&(_=_.filter(O=>!(x&&x!=O.namespaceId||Q&&Q!=O.triggerName))),_}_beforeAnimationBuild(y,E,x){const le=E.element,_=E.isRemovalTransition?void 0:y,O=E.isRemovalTransition?void 0:E.triggerName;for(const A of E.timelines){const k=A.element,re=k!==le,Oe=Qt(x,k,[]);this._getPreviousPlayers(k,re,_,O,E.toState).forEach(gt=>{const Nt=gt.getRealPlayer();Nt.beforeDestroy&&Nt.beforeDestroy(),gt.destroy(),Oe.push(gt)})}Gn(le,E.fromStyles)}_buildAnimation(y,E,x,Q,le,_){const O=E.triggerName,A=E.element,k=[],re=new Set,Oe=new Set,Ye=E.timelines.map(Nt=>{const $t=Nt.element;re.add($t);const an=$t[bi];if(an&&an.removedBeforeQueried)return new ge.ZN(Nt.duration,Nt.delay);const sn=$t!==A,Un=function Ms(Z){const y=[];return ea(Z,y),y}((x.get($t)||wi).map(Qr=>Qr.getRealPlayer())).filter(Qr=>!!Qr.element&&Qr.element===$t),bn=le.get($t),pn=_.get($t),lr=qe(this._normalizer,Nt.keyframes,bn,pn),Zr=this._buildPlayer(Nt,lr,Un);if(Nt.subTimeline&&Q&&Oe.add($t),sn){const Qr=new Ui(y,O,$t);Qr.setRealPlayer(Zr),k.push(Qr)}return Zr});k.forEach(Nt=>{Qt(this.playersByQueriedElement,Nt.element,[]).push(Nt),Nt.onDone(()=>function eo(Z,y,E){let x=Z.get(y);if(x){if(x.length){const Q=x.indexOf(E);x.splice(Q,1)}0==x.length&&Z.delete(y)}return x}(this.playersByQueriedElement,Nt.element,Nt))}),re.forEach(Nt=>ss(Nt,Yt));const gt=$e(Ye);return gt.onDestroy(()=>{re.forEach(Nt=>to(Nt,Yt)),nn(A,E.toStyles)}),Oe.forEach(Nt=>{Qt(Q,Nt,[]).push(gt)}),gt}_buildPlayer(y,E,x){return E.length>0?this.driver.animate(y.element,E,y.duration,y.delay,y.easing,x):new ge.ZN(y.duration,y.delay)}}class Ui{constructor(y,E,x){this.namespaceId=y,this.triggerName=E,this.element=x,this._player=new ge.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(y){this._containsRealPlayer||(this._player=y,this._queuedCallbacks.forEach((E,x)=>{E.forEach(Q=>Bt(y,x,void 0,Q))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(y.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(y){this.totalTime=y}syncPlayerEvents(y){const E=this._player;E.triggerCallback&&y.onStart(()=>E.triggerCallback("start")),y.onDone(()=>this.finish()),y.onDestroy(()=>this.destroy())}_queueEvent(y,E){Qt(this._queuedCallbacks,y,[]).push(E)}onDone(y){this.queued&&this._queueEvent("done",y),this._player.onDone(y)}onStart(y){this.queued&&this._queueEvent("start",y),this._player.onStart(y)}onDestroy(y){this.queued&&this._queueEvent("destroy",y),this._player.onDestroy(y)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(y){this.queued||this._player.setPosition(y)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(y){const E=this._player;E.triggerCallback&&E.triggerCallback(y)}}function Cs(Z){return Z&&1===Z.nodeType}function Bi(Z,y){const E=Z.style.display;return Z.style.display=y??"none",E}function Bs(Z,y,E,x,Q){const le=[];E.forEach(A=>le.push(Bi(A)));const _=[];x.forEach((A,k)=>{const re=new Map;A.forEach(Oe=>{const Ye=y.computeStyle(k,Oe,Q);re.set(Oe,Ye),(!Ye||0==Ye.length)&&(k[bi]=$r,_.push(k))}),Z.set(k,re)});let O=0;return E.forEach(A=>Bi(A,le[O++])),_}function Lo(Z,y){const E=new Map;if(Z.forEach(O=>E.set(O,[])),0==y.length)return E;const Q=new Set(y),le=new Map;function _(O){if(!O)return 1;let A=le.get(O);if(A)return A;const k=O.parentNode;return A=E.has(k)?k:Q.has(k)?1:_(k),le.set(O,A),A}return y.forEach(O=>{const A=_(O);1!==A&&E.get(A).push(O)}),E}function ss(Z,y){Z.classList?.add(y)}function to(Z,y){Z.classList?.remove(y)}function mr(Z,y,E){$e(E).onDone(()=>Z.processLeaveNode(y))}function ea(Z,y){for(let E=0;E<Z.length;E++){const x=Z[E];x instanceof ge.ZE?ea(x.players,y):y.push(x)}}function K(Z,y,E){const x=E.get(Z);if(!x)return!1;let Q=y.get(Z);return Q?x.forEach(le=>Q.add(le)):y.set(Z,x),E.delete(Z),!0}class N{constructor(y,E,x){this.bodyNode=y,this._driver=E,this._normalizer=x,this._triggerCache={},this.onRemovalComplete=(Q,le)=>{},this._transitionEngine=new Xs(y,E,x),this._timelineEngine=new Ys(y,E,x),this._transitionEngine.onRemovalComplete=(Q,le)=>this.onRemovalComplete(Q,le)}registerTrigger(y,E,x,Q,le){const _=y+"-"+Q;let O=this._triggerCache[_];if(!O){const A=[],re=_o(this._driver,le,A,[]);if(A.length)throw function fn(Z,y){return new b.vHH(3404,!1)}();O=function Qs(Z,y,E){return new or(Z,y,E)}(Q,re,this._normalizer),this._triggerCache[_]=O}this._transitionEngine.registerTrigger(E,Q,O)}register(y,E){this._transitionEngine.register(y,E)}destroy(y,E){this._transitionEngine.destroy(y,E)}onInsert(y,E,x,Q){this._transitionEngine.insertNode(y,E,x,Q)}onRemove(y,E,x){this._transitionEngine.removeNode(y,E,x)}disableAnimations(y,E){this._transitionEngine.markElementAsDisabled(y,E)}process(y,E,x,Q){if("@"==x.charAt(0)){const[le,_]=Nr(x);this._timelineEngine.command(le,E,_,Q)}else this._transitionEngine.trigger(y,E,x,Q)}listen(y,E,x,Q,le){if("@"==x.charAt(0)){const[_,O]=Nr(x);return this._timelineEngine.listen(_,E,O,le)}return this._transitionEngine.listen(y,E,x,Q,le)}flush(y=-1){this._transitionEngine.flush(y)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(y){this._transitionEngine.afterFlushAnimationsDone(y)}}let xe=(()=>{class Z{static#e=this.initialStylesByElement=new WeakMap;constructor(E,x,Q){this._element=E,this._startStyles=x,this._endStyles=Q,this._state=0;let le=Z.initialStylesByElement.get(E);le||Z.initialStylesByElement.set(E,le=new Map),this._initialStyles=le}start(){this._state<1&&(this._startStyles&&nn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(nn(this._element,this._initialStyles),this._endStyles&&(nn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Z.initialStylesByElement.delete(this._element),this._startStyles&&(Gn(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Gn(this._element,this._endStyles),this._endStyles=null),nn(this._element,this._initialStyles),this._state=3)}}return Z})();function Vt(Z){let y=null;return Z.forEach((E,x)=>{(function Cn(Z){return"display"===Z||"position"===Z})(x)&&(y=y||new Map,y.set(x,E))}),y}class gi{constructor(y,E,x,Q){this.element=y,this.keyframes=E,this.options=x,this._specialStyles=Q,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=x.duration,this._delay=x.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(y=>y()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const y=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,y,this.options),this._finalKeyframe=y.length?y[y.length-1]:new Map;const E=()=>this._onFinish();this.domPlayer.addEventListener("finish",E),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",E)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(y){const E=[];return y.forEach(x=>{E.push(Object.fromEntries(x))}),E}_triggerWebAnimation(y,E,x){return y.animate(this._convertKeyframesToObject(E),x)}onStart(y){this._originalOnStartFns.push(y),this._onStartFns.push(y)}onDone(y){this._originalOnDoneFns.push(y),this._onDoneFns.push(y)}onDestroy(y){this._onDestroyFns.push(y)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(y=>y()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(y=>y()),this._onDestroyFns=[])}setPosition(y){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=y*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const y=new Map;this.hasStarted()&&this._finalKeyframe.forEach((x,Q)=>{"offset"!==Q&&y.set(Q,this._finished?x:Es(this.element,Q))}),this.currentSnapshot=y}triggerCallback(y){const E="start"===y?this._onStartFns:this._onDoneFns;E.forEach(x=>x()),E.length=0}}class fs{validateStyleProperty(y){return!0}validateAnimatableStyleProperty(y){return!0}matchesElement(y,E){return!1}containsElement(y,E){return Ur(y,E)}getParentElement(y){return Rn(y)}query(y,E,x){return De(y,E,x)}computeStyle(y,E,x){return window.getComputedStyle(y)[E]}animate(y,E,x,Q,le,_=[]){const A={duration:x,delay:Q,fill:0==Q?"both":"forwards"};le&&(A.easing=le);const k=new Map,re=_.filter(gt=>gt instanceof gi);(function vi(Z,y){return 0===Z||0===y})(x,Q)&&re.forEach(gt=>{gt.currentSnapshot.forEach((Nt,$t)=>k.set($t,Nt))});let Oe=function et(Z){return Z.length?Z[0]instanceof Map?Z:Z.map(y=>Be(y)):[]}(E).map(gt=>ct(gt));Oe=function ts(Z,y,E){if(E.size&&y.length){let x=y[0],Q=[];if(E.forEach((le,_)=>{x.has(_)||Q.push(_),x.set(_,le)}),Q.length)for(let le=1;le<y.length;le++){let _=y[le];Q.forEach(O=>_.set(O,Es(Z,O)))}}return y}(y,Oe,k);const Ye=function ie(Z,y){let E=null,x=null;return Array.isArray(y)&&y.length?(E=Vt(y[0]),y.length>1&&(x=Vt(y[y.length-1]))):y instanceof Map&&(E=Vt(y)),E||x?new xe(Z,E,x):null}(y,Oe);return new gi(y,Oe,A,Ye)}}let Ri=(()=>{class Z extends ge._j{constructor(E,x){super(),this._nextAnimationId=0,this._renderer=E.createRenderer(x.body,{id:"0",encapsulation:b.ifc.None,styles:[],data:{animation:[]}})}build(E){const x=this._nextAnimationId.toString();this._nextAnimationId++;const Q=Array.isArray(E)?(0,ge.vP)(E):E;return Mi(this._renderer,null,x,"register",[Q]),new no(x,this._renderer)}static#e=this.\u0275fac=function(x){return new(x||Z)(b.LFG(b.FYo),b.LFG($.K0))};static#t=this.\u0275prov=b.Yz7({token:Z,factory:Z.\u0275fac})}return Z})();class no extends ge.LC{constructor(y,E){super(),this._id=y,this._renderer=E}create(y,E){return new os(this._id,y,E||{},this._renderer)}}class os{constructor(y,E,x,Q){this.id=y,this.element=E,this._renderer=Q,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",x)}_listen(y,E){return this._renderer.listen(this.element,`@@${this.id}:${y}`,E)}_command(y,...E){return Mi(this._renderer,this.element,this.id,y,E)}onDone(y){this._listen("done",y)}onStart(y){this._listen("start",y)}onDestroy(y){this._listen("destroy",y)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(y){this._command("setPosition",y)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Mi(Z,y,E,x,Q){return Z.setProperty(y,`@@${E}:${x}`,Q)}const va="@.disabled";let kr=(()=>{class Z{constructor(E,x,Q){this.delegate=E,this.engine=x,this._zone=Q,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,x.onRemovalComplete=(le,_)=>{const O=_?.parentNode(le);O&&_.removeChild(O,le)}}createRenderer(E,x){const le=this.delegate.createRenderer(E,x);if(!(E&&x&&x.data&&x.data.animation)){let re=this._rendererCache.get(le);return re||(re=new Hs("",le,this.engine,()=>this._rendererCache.delete(le)),this._rendererCache.set(le,re)),re}const _=x.id,O=x.id+"-"+this._currentId;this._currentId++,this.engine.register(O,E);const A=re=>{Array.isArray(re)?re.forEach(A):this.engine.registerTrigger(_,O,E,re.name,re)};return x.data.animation.forEach(A),new as(this,O,le,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(E,x,Q){E>=0&&E<this._microtaskId?this._zone.run(()=>x(Q)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(le=>{const[_,O]=le;_(O)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([x,Q]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(x){return new(x||Z)(b.LFG(b.FYo),b.LFG(N),b.LFG(b.R0b))};static#t=this.\u0275prov=b.Yz7({token:Z,factory:Z.\u0275fac})}return Z})();class Hs{constructor(y,E,x,Q){this.namespaceId=y,this.delegate=E,this.engine=x,this._onDestroy=Q}get data(){return this.delegate.data}destroyNode(y){this.delegate.destroyNode?.(y)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(y,E){return this.delegate.createElement(y,E)}createComment(y){return this.delegate.createComment(y)}createText(y){return this.delegate.createText(y)}appendChild(y,E){this.delegate.appendChild(y,E),this.engine.onInsert(this.namespaceId,E,y,!1)}insertBefore(y,E,x,Q=!0){this.delegate.insertBefore(y,E,x),this.engine.onInsert(this.namespaceId,E,y,Q)}removeChild(y,E,x){this.engine.onRemove(this.namespaceId,E,this.delegate)}selectRootElement(y,E){return this.delegate.selectRootElement(y,E)}parentNode(y){return this.delegate.parentNode(y)}nextSibling(y){return this.delegate.nextSibling(y)}setAttribute(y,E,x,Q){this.delegate.setAttribute(y,E,x,Q)}removeAttribute(y,E,x){this.delegate.removeAttribute(y,E,x)}addClass(y,E){this.delegate.addClass(y,E)}removeClass(y,E){this.delegate.removeClass(y,E)}setStyle(y,E,x,Q){this.delegate.setStyle(y,E,x,Q)}removeStyle(y,E,x){this.delegate.removeStyle(y,E,x)}setProperty(y,E,x){"@"==E.charAt(0)&&E==va?this.disableAnimations(y,!!x):this.delegate.setProperty(y,E,x)}setValue(y,E){this.delegate.setValue(y,E)}listen(y,E,x){return this.delegate.listen(y,E,x)}disableAnimations(y,E){this.engine.disableAnimations(y,E)}}class as extends Hs{constructor(y,E,x,Q,le){super(E,x,Q,le),this.factory=y,this.namespaceId=E}setProperty(y,E,x){"@"==E.charAt(0)?"."==E.charAt(1)&&E==va?this.disableAnimations(y,x=void 0===x||!!x):this.engine.process(this.namespaceId,y,E.slice(1),x):this.delegate.setProperty(y,E,x)}listen(y,E,x){if("@"==E.charAt(0)){const Q=function ta(Z){switch(Z){case"body":return document.body;case"document":return document;case"window":return window;default:return Z}}(y);let le=E.slice(1),_="";return"@"!=le.charAt(0)&&([le,_]=function ro(Z){const y=Z.indexOf(".");return[Z.substring(0,y),Z.slice(y+1)]}(le)),this.engine.listen(this.namespaceId,Q,le,_,O=>{this.factory.scheduleListenerCallback(O._data||-1,x,O)})}return this.delegate.listen(y,E,x)}}const ps=[{provide:ge._j,useClass:Ri},{provide:rr,useFactory:function js(){return new yn}},{provide:N,useClass:(()=>{class Z extends N{constructor(E,x,Q,le){super(E.body,x,Q)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(x){return new(x||Z)(b.LFG($.K0),b.LFG(F),b.LFG(rr),b.LFG(b.z2F))};static#t=this.\u0275prov=b.Yz7({token:Z,factory:Z.\u0275fac})}return Z})()},{provide:b.FYo,useFactory:function so(Z,y,E){return new kr(Z,y,E)},deps:[p.se,N,b.R0b]}],oo=[{provide:F,useFactory:()=>new fs},{provide:b.QbO,useValue:"BrowserAnimations"},...ps],ko=[{provide:F,useClass:z},{provide:b.QbO,useValue:"NoopAnimations"},...ps];let Ia=(()=>{class Z{static withConfig(E){return{ngModule:Z,providers:E.disableAnimations?ko:oo}}static#e=this.\u0275fac=function(x){return new(x||Z)};static#t=this.\u0275mod=b.oAB({type:Z});static#n=this.\u0275inj=b.cJS({providers:oo,imports:[p.b2]})}return Z})();var xs=U(7217),$s=U(7213),Fo=U(553),ll=U(336),na=U(5124),Ll=U(4532),Vo=U(8516),Uo=U(3714),kl=U(734);let ra=(()=>{class Z{static#e=this.\u0275fac=function(x){return new(x||Z)};static#t=this.\u0275mod=b.oAB({type:Z,bootstrap:[ve]});static#n=this.\u0275inj=b.cJS({providers:[{provide:$.S$,useClass:$.Do}],imports:[p.b2,be,tt.JF,J.u5,Ia,Ll.d,xs.hO.initializeApp(Fo.N.firebase),$s.ww,ll.hJ,na.nD,Vo.W6,Uo.j,kl.y]})}return Z})();p.q6().bootstrapModule(ra).catch(Z=>console.error(Z))},5619:(Mt,He,U)=>{U.d(He,{X:()=>V});var p=U(8645);class V extends p.x{constructor(Ce){super(),this._value=Ce}get value(){return this.getValue()}_subscribe(Ce){const $=super._subscribe(Ce);return!$.closed&&Ce.next(this._value),$}getValue(){const{hasError:Ce,thrownError:$,_value:Y}=this;if(Ce)throw $;return this._throwIfClosed(),Y}next(Ce){super.next(this._value=Ce)}}},5592:(Mt,He,U)=>{U.d(He,{y:()=>ue});var p=U(305),V=U(7394),b=U(4850),Ce=U(8407),$=U(2653),Y=U(4674),W=U(1441);let ue=(()=>{class ye{constructor(Ke){Ke&&(this._subscribe=Ke)}lift(Ke){const lt=new ye;return lt.source=this,lt.operator=Ke,lt}subscribe(Ke,lt,Xe){const rt=function ae(ye){return ye&&ye instanceof p.Lv||function J(ye){return ye&&(0,Y.m)(ye.next)&&(0,Y.m)(ye.error)&&(0,Y.m)(ye.complete)}(ye)&&(0,V.Nn)(ye)}(Ke)?Ke:new p.Hp(Ke,lt,Xe);return(0,W.x)(()=>{const{operator:it,source:wt}=this;rt.add(it?it.call(rt,wt):wt?this._subscribe(rt):this._trySubscribe(rt))}),rt}_trySubscribe(Ke){try{return this._subscribe(Ke)}catch(lt){Ke.error(lt)}}forEach(Ke,lt){return new(lt=de(lt))((Xe,rt)=>{const it=new p.Hp({next:wt=>{try{Ke(wt)}catch(ut){rt(ut),it.unsubscribe()}},error:rt,complete:Xe});this.subscribe(it)})}_subscribe(Ke){var lt;return null===(lt=this.source)||void 0===lt?void 0:lt.subscribe(Ke)}[b.L](){return this}pipe(...Ke){return(0,Ce.U)(Ke)(this)}toPromise(Ke){return new(Ke=de(Ke))((lt,Xe)=>{let rt;this.subscribe(it=>rt=it,it=>Xe(it),()=>lt(rt))})}}return ye.create=je=>new ye(je),ye})();function de(ye){var je;return null!==(je=ye??$.config.Promise)&&void 0!==je?je:Promise}},8645:(Mt,He,U)=>{U.d(He,{x:()=>W});var p=U(5592),V=U(7394);const Ce=(0,U(2306).d)(de=>function(){de(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var $=U(9039),Y=U(1441);let W=(()=>{class de extends p.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ae){const ye=new ue(this,this);return ye.operator=ae,ye}_throwIfClosed(){if(this.closed)throw new Ce}next(ae){(0,Y.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ye of this.currentObservers)ye.next(ae)}})}error(ae){(0,Y.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ae;const{observers:ye}=this;for(;ye.length;)ye.shift().error(ae)}})}complete(){(0,Y.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ae}=this;for(;ae.length;)ae.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ae;return(null===(ae=this.observers)||void 0===ae?void 0:ae.length)>0}_trySubscribe(ae){return this._throwIfClosed(),super._trySubscribe(ae)}_subscribe(ae){return this._throwIfClosed(),this._checkFinalizedStatuses(ae),this._innerSubscribe(ae)}_innerSubscribe(ae){const{hasError:ye,isStopped:je,observers:Ke}=this;return ye||je?V.Lc:(this.currentObservers=null,Ke.push(ae),new V.w0(()=>{this.currentObservers=null,(0,$.P)(Ke,ae)}))}_checkFinalizedStatuses(ae){const{hasError:ye,thrownError:je,isStopped:Ke}=this;ye?ae.error(je):Ke&&ae.complete()}asObservable(){const ae=new p.y;return ae.source=this,ae}}return de.create=(J,ae)=>new ue(J,ae),de})();class ue extends W{constructor(J,ae){super(),this.destination=J,this.source=ae}next(J){var ae,ye;null===(ye=null===(ae=this.destination)||void 0===ae?void 0:ae.next)||void 0===ye||ye.call(ae,J)}error(J){var ae,ye;null===(ye=null===(ae=this.destination)||void 0===ae?void 0:ae.error)||void 0===ye||ye.call(ae,J)}complete(){var J,ae;null===(ae=null===(J=this.destination)||void 0===J?void 0:J.complete)||void 0===ae||ae.call(J)}_subscribe(J){var ae,ye;return null!==(ye=null===(ae=this.source)||void 0===ae?void 0:ae.subscribe(J))&&void 0!==ye?ye:V.Lc}}},305:(Mt,He,U)=>{U.d(He,{Hp:()=>Xe,Lv:()=>ye});var p=U(4674),V=U(7394),b=U(2653),Ce=U(3894),$=U(2420);const Y=de("C",void 0,void 0);function de(oe,Me,pe){return{kind:oe,value:Me,error:pe}}var J=U(7599),ae=U(1441);class ye extends V.w0{constructor(Me){super(),this.isStopped=!1,Me?(this.destination=Me,(0,V.Nn)(Me)&&Me.add(this)):this.destination=ut}static create(Me,pe,me){return new Xe(Me,pe,me)}next(Me){this.isStopped?wt(function ue(oe){return de("N",oe,void 0)}(Me),this):this._next(Me)}error(Me){this.isStopped?wt(function W(oe){return de("E",void 0,oe)}(Me),this):(this.isStopped=!0,this._error(Me))}complete(){this.isStopped?wt(Y,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Me){this.destination.next(Me)}_error(Me){try{this.destination.error(Me)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const je=Function.prototype.bind;function Ke(oe,Me){return je.call(oe,Me)}class lt{constructor(Me){this.partialObserver=Me}next(Me){const{partialObserver:pe}=this;if(pe.next)try{pe.next(Me)}catch(me){rt(me)}}error(Me){const{partialObserver:pe}=this;if(pe.error)try{pe.error(Me)}catch(me){rt(me)}else rt(Me)}complete(){const{partialObserver:Me}=this;if(Me.complete)try{Me.complete()}catch(pe){rt(pe)}}}class Xe extends ye{constructor(Me,pe,me){let be;if(super(),(0,p.m)(Me)||!Me)be={next:Me??void 0,error:pe??void 0,complete:me??void 0};else{let ve;this&&b.config.useDeprecatedNextContext?(ve=Object.create(Me),ve.unsubscribe=()=>this.unsubscribe(),be={next:Me.next&&Ke(Me.next,ve),error:Me.error&&Ke(Me.error,ve),complete:Me.complete&&Ke(Me.complete,ve)}):be=Me}this.destination=new lt(be)}}function rt(oe){b.config.useDeprecatedSynchronousErrorHandling?(0,ae.O)(oe):(0,Ce.h)(oe)}function wt(oe,Me){const{onStoppedNotification:pe}=b.config;pe&&J.z.setTimeout(()=>pe(oe,Me))}const ut={closed:!0,next:$.Z,error:function it(oe){throw oe},complete:$.Z}},7394:(Mt,He,U)=>{U.d(He,{Lc:()=>Y,w0:()=>$,Nn:()=>W});var p=U(4674);const b=(0,U(2306).d)(de=>function(ae){de(this),this.message=ae?`${ae.length} errors occurred during unsubscription:\n${ae.map((ye,je)=>`${je+1}) ${ye.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ae});var Ce=U(9039);class ${constructor(J){this.initialTeardown=J,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let J;if(!this.closed){this.closed=!0;const{_parentage:ae}=this;if(ae)if(this._parentage=null,Array.isArray(ae))for(const Ke of ae)Ke.remove(this);else ae.remove(this);const{initialTeardown:ye}=this;if((0,p.m)(ye))try{ye()}catch(Ke){J=Ke instanceof b?Ke.errors:[Ke]}const{_finalizers:je}=this;if(je){this._finalizers=null;for(const Ke of je)try{ue(Ke)}catch(lt){J=J??[],lt instanceof b?J=[...J,...lt.errors]:J.push(lt)}}if(J)throw new b(J)}}add(J){var ae;if(J&&J!==this)if(this.closed)ue(J);else{if(J instanceof $){if(J.closed||J._hasParent(this))return;J._addParent(this)}(this._finalizers=null!==(ae=this._finalizers)&&void 0!==ae?ae:[]).push(J)}}_hasParent(J){const{_parentage:ae}=this;return ae===J||Array.isArray(ae)&&ae.includes(J)}_addParent(J){const{_parentage:ae}=this;this._parentage=Array.isArray(ae)?(ae.push(J),ae):ae?[ae,J]:J}_removeParent(J){const{_parentage:ae}=this;ae===J?this._parentage=null:Array.isArray(ae)&&(0,Ce.P)(ae,J)}remove(J){const{_finalizers:ae}=this;ae&&(0,Ce.P)(ae,J),J instanceof $&&J._removeParent(this)}}$.EMPTY=(()=>{const de=new $;return de.closed=!0,de})();const Y=$.EMPTY;function W(de){return de instanceof $||de&&"closed"in de&&(0,p.m)(de.remove)&&(0,p.m)(de.add)&&(0,p.m)(de.unsubscribe)}function ue(de){(0,p.m)(de)?de():de.unsubscribe()}},2653:(Mt,He,U)=>{U.d(He,{config:()=>p});const p={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},5211:(Mt,He,U)=>{U.d(He,{z:()=>$});var p=U(7537),b=U(4564),Ce=U(2459);function $(...Y){return function V(){return(0,p.J)(1)}()((0,Ce.D)(Y,(0,b.yG)(Y)))}},6232:(Mt,He,U)=>{U.d(He,{E:()=>V});const V=new(U(5592).y)($=>$.complete())},2459:(Mt,He,U)=>{U.d(He,{D:()=>Me});var p=U(4829),V=U(3093),b=U(5137),Y=U(5592),ue=U(4971),de=U(4674),J=U(7103);function ye(pe,me){if(!pe)throw new Error("Iterable cannot be null");return new Y.y(be=>{(0,J.f)(be,me,()=>{const ve=pe[Symbol.asyncIterator]();(0,J.f)(be,me,()=>{ve.next().then(tt=>{tt.done?be.complete():be.next(tt.value)})},0,!0)})})}var je=U(8382),Ke=U(4026),lt=U(4266),Xe=U(3664),rt=U(5726),it=U(9853),wt=U(541);function Me(pe,me){return me?function oe(pe,me){if(null!=pe){if((0,je.c)(pe))return function Ce(pe,me){return(0,p.Xf)(pe).pipe((0,b.R)(me),(0,V.Q)(me))}(pe,me);if((0,lt.z)(pe))return function W(pe,me){return new Y.y(be=>{let ve=0;return me.schedule(function(){ve===pe.length?be.complete():(be.next(pe[ve++]),be.closed||this.schedule())})})}(pe,me);if((0,Ke.t)(pe))return function $(pe,me){return(0,p.Xf)(pe).pipe((0,b.R)(me),(0,V.Q)(me))}(pe,me);if((0,rt.D)(pe))return ye(pe,me);if((0,Xe.T)(pe))return function ae(pe,me){return new Y.y(be=>{let ve;return(0,J.f)(be,me,()=>{ve=pe[ue.h](),(0,J.f)(be,me,()=>{let tt,ge;try{({value:tt,done:ge}=ve.next())}catch(Lt){return void be.error(Lt)}ge?be.complete():be.next(tt)},0,!0)}),()=>(0,de.m)(ve?.return)&&ve.return()})}(pe,me);if((0,wt.L)(pe))return function ut(pe,me){return ye((0,wt.Q)(pe),me)}(pe,me)}throw(0,it.z)(pe)}(pe,me):(0,p.Xf)(pe)}},4829:(Mt,He,U)=>{U.d(He,{Xf:()=>je});var p=U(7582),V=U(4266),b=U(4026),Ce=U(5592),$=U(8382),Y=U(5726),W=U(9853),ue=U(3664),de=U(541),J=U(4674),ae=U(3894),ye=U(4850);function je(oe){if(oe instanceof Ce.y)return oe;if(null!=oe){if((0,$.c)(oe))return function Ke(oe){return new Ce.y(Me=>{const pe=oe[ye.L]();if((0,J.m)(pe.subscribe))return pe.subscribe(Me);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(oe);if((0,V.z)(oe))return function lt(oe){return new Ce.y(Me=>{for(let pe=0;pe<oe.length&&!Me.closed;pe++)Me.next(oe[pe]);Me.complete()})}(oe);if((0,b.t)(oe))return function Xe(oe){return new Ce.y(Me=>{oe.then(pe=>{Me.closed||(Me.next(pe),Me.complete())},pe=>Me.error(pe)).then(null,ae.h)})}(oe);if((0,Y.D)(oe))return it(oe);if((0,ue.T)(oe))return function rt(oe){return new Ce.y(Me=>{for(const pe of oe)if(Me.next(pe),Me.closed)return;Me.complete()})}(oe);if((0,de.L)(oe))return function wt(oe){return it((0,de.Q)(oe))}(oe)}throw(0,W.z)(oe)}function it(oe){return new Ce.y(Me=>{(function ut(oe,Me){var pe,me,be,ve;return(0,p.mG)(this,void 0,void 0,function*(){try{for(pe=(0,p.KL)(oe);!(me=yield pe.next()).done;)if(Me.next(me.value),Me.closed)return}catch(tt){be={error:tt}}finally{try{me&&!me.done&&(ve=pe.return)&&(yield ve.call(pe))}finally{if(be)throw be.error}}Me.complete()})})(oe,Me).catch(pe=>Me.error(pe))})}},3019:(Mt,He,U)=>{U.d(He,{T:()=>Y});var p=U(7537),V=U(4829),b=U(6232),Ce=U(4564),$=U(2459);function Y(...W){const ue=(0,Ce.yG)(W),de=(0,Ce._6)(W,1/0),J=W;return J.length?1===J.length?(0,V.Xf)(J[0]):(0,p.J)(de)((0,$.D)(J,ue)):b.E}},2096:(Mt,He,U)=>{U.d(He,{of:()=>b});var p=U(4564),V=U(2459);function b(...Ce){const $=(0,p.yG)(Ce);return(0,V.D)(Ce,$)}},8251:(Mt,He,U)=>{U.d(He,{x:()=>V});var p=U(305);function V(Ce,$,Y,W,ue){return new b(Ce,$,Y,W,ue)}class b extends p.Lv{constructor($,Y,W,ue,de,J){super($),this.onFinalize=de,this.shouldUnsubscribe=J,this._next=Y?function(ae){try{Y(ae)}catch(ye){$.error(ye)}}:super._next,this._error=ue?function(ae){try{ue(ae)}catch(ye){$.error(ye)}finally{this.unsubscribe()}}:super._error,this._complete=W?function(){try{W()}catch(ae){$.error(ae)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var $;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Y}=this;super.unsubscribe(),!Y&&(null===($=this.onFinalize)||void 0===$||$.call(this))}}}},6328:(Mt,He,U)=>{U.d(He,{b:()=>b});var p=U(1631),V=U(4674);function b(Ce,$){return(0,V.m)($)?(0,p.z)(Ce,$,1):(0,p.z)(Ce,1)}},3572:(Mt,He,U)=>{U.d(He,{d:()=>b});var p=U(9360),V=U(8251);function b(Ce){return(0,p.e)(($,Y)=>{let W=!1;$.subscribe((0,V.x)(Y,ue=>{W=!0,Y.next(ue)},()=>{W||Y.next(Ce),Y.complete()}))})}},3997:(Mt,He,U)=>{U.d(He,{x:()=>Ce});var p=U(2737),V=U(9360),b=U(8251);function Ce(Y,W=p.y){return Y=Y??$,(0,V.e)((ue,de)=>{let J,ae=!0;ue.subscribe((0,b.x)(de,ye=>{const je=W(ye);(ae||!Y(J,je))&&(ae=!1,J=je,de.next(ye))}))})}function $(Y,W){return Y===W}},2181:(Mt,He,U)=>{U.d(He,{h:()=>b});var p=U(9360),V=U(8251);function b(Ce,$){return(0,p.e)((Y,W)=>{let ue=0;Y.subscribe((0,V.x)(W,de=>Ce.call($,de,ue++)&&W.next(de)))})}},4716:(Mt,He,U)=>{U.d(He,{x:()=>V});var p=U(9360);function V(b){return(0,p.e)((Ce,$)=>{try{Ce.subscribe($)}finally{$.add(b)}})}},1374:(Mt,He,U)=>{U.d(He,{P:()=>W});var p=U(6973),V=U(2181),b=U(8180),Ce=U(3572),$=U(3026),Y=U(2737);function W(ue,de){const J=arguments.length>=2;return ae=>ae.pipe(ue?(0,V.h)((ye,je)=>ue(ye,je,ae)):Y.y,(0,b.q)(1),J?(0,Ce.d)(de):(0,$.T)(()=>new p.K))}},7398:(Mt,He,U)=>{U.d(He,{U:()=>b});var p=U(9360),V=U(8251);function b(Ce,$){return(0,p.e)((Y,W)=>{let ue=0;Y.subscribe((0,V.x)(W,de=>{W.next(Ce.call($,de,ue++))}))})}},7537:(Mt,He,U)=>{U.d(He,{J:()=>b});var p=U(1631),V=U(2737);function b(Ce=1/0){return(0,p.z)(V.y,Ce)}},1631:(Mt,He,U)=>{U.d(He,{z:()=>ue});var p=U(7398),V=U(4829),b=U(9360),Ce=U(7103),$=U(8251),W=U(4674);function ue(de,J,ae=1/0){return(0,W.m)(J)?ue((ye,je)=>(0,p.U)((Ke,lt)=>J(ye,Ke,je,lt))((0,V.Xf)(de(ye,je))),ae):("number"==typeof J&&(ae=J),(0,b.e)((ye,je)=>function Y(de,J,ae,ye,je,Ke,lt,Xe){const rt=[];let it=0,wt=0,ut=!1;const oe=()=>{ut&&!rt.length&&!it&&J.complete()},Me=me=>it<ye?pe(me):rt.push(me),pe=me=>{Ke&&J.next(me),it++;let be=!1;(0,V.Xf)(ae(me,wt++)).subscribe((0,$.x)(J,ve=>{je?.(ve),Ke?Me(ve):J.next(ve)},()=>{be=!0},void 0,()=>{if(be)try{for(it--;rt.length&&it<ye;){const ve=rt.shift();lt?(0,Ce.f)(J,lt,()=>pe(ve)):pe(ve)}oe()}catch(ve){J.error(ve)}}))};return de.subscribe((0,$.x)(J,Me,()=>{ut=!0,oe()})),()=>{Xe?.()}}(ye,je,de,ae)))}},3093:(Mt,He,U)=>{U.d(He,{Q:()=>Ce});var p=U(7103),V=U(9360),b=U(8251);function Ce($,Y=0){return(0,V.e)((W,ue)=>{W.subscribe((0,b.x)(ue,de=>(0,p.f)(ue,$,()=>ue.next(de),Y),()=>(0,p.f)(ue,$,()=>ue.complete(),Y),de=>(0,p.f)(ue,$,()=>ue.error(de),Y)))})}},6699:(Mt,He,U)=>{U.d(He,{R:()=>Ce});var p=U(9360),V=U(8251);function Ce($,Y){return(0,p.e)(function b($,Y,W,ue,de){return(J,ae)=>{let ye=W,je=Y,Ke=0;J.subscribe((0,V.x)(ae,lt=>{const Xe=Ke++;je=ye?$(je,lt,Xe):(ye=!0,lt),ue&&ae.next(je)},de&&(()=>{ye&&ae.next(je),ae.complete()})))}}($,Y,arguments.length>=2,!0))}},3020:(Mt,He,U)=>{U.d(He,{B:()=>$});var p=U(4829),V=U(8645),b=U(305),Ce=U(9360);function $(W={}){const{connector:ue=(()=>new V.x),resetOnError:de=!0,resetOnComplete:J=!0,resetOnRefCountZero:ae=!0}=W;return ye=>{let je,Ke,lt,Xe=0,rt=!1,it=!1;const wt=()=>{Ke?.unsubscribe(),Ke=void 0},ut=()=>{wt(),je=lt=void 0,rt=it=!1},oe=()=>{const Me=je;ut(),Me?.unsubscribe()};return(0,Ce.e)((Me,pe)=>{Xe++,!it&&!rt&&wt();const me=lt=lt??ue();pe.add(()=>{Xe--,0===Xe&&!it&&!rt&&(Ke=Y(oe,ae))}),me.subscribe(pe),!je&&Xe>0&&(je=new b.Hp({next:be=>me.next(be),error:be=>{it=!0,wt(),Ke=Y(ut,de,be),me.error(be)},complete:()=>{rt=!0,wt(),Ke=Y(ut,J),me.complete()}}),(0,p.Xf)(Me).subscribe(je))})(ye)}}function Y(W,ue,...de){if(!0===ue)return void W();if(!1===ue)return;const J=new b.Hp({next:()=>{J.unsubscribe(),W()}});return(0,p.Xf)(ue(...de)).subscribe(J)}},7921:(Mt,He,U)=>{U.d(He,{O:()=>Ce});var p=U(5211),V=U(4564),b=U(9360);function Ce(...$){const Y=(0,V.yG)($);return(0,b.e)((W,ue)=>{(Y?(0,p.z)($,W,Y):(0,p.z)($,W)).subscribe(ue)})}},5137:(Mt,He,U)=>{U.d(He,{R:()=>V});var p=U(9360);function V(b,Ce=0){return(0,p.e)(($,Y)=>{Y.add(b.schedule(()=>$.subscribe(Y),Ce))})}},4664:(Mt,He,U)=>{U.d(He,{w:()=>Ce});var p=U(4829),V=U(9360),b=U(8251);function Ce($,Y){return(0,V.e)((W,ue)=>{let de=null,J=0,ae=!1;const ye=()=>ae&&!de&&ue.complete();W.subscribe((0,b.x)(ue,je=>{de?.unsubscribe();let Ke=0;const lt=J++;(0,p.Xf)($(je,lt)).subscribe(de=(0,b.x)(ue,Xe=>ue.next(Y?Y(je,Xe,lt,Ke++):Xe),()=>{de=null,ye()}))},()=>{ae=!0,ye()}))})}},8180:(Mt,He,U)=>{U.d(He,{q:()=>Ce});var p=U(6232),V=U(9360),b=U(8251);function Ce($){return $<=0?()=>p.E:(0,V.e)((Y,W)=>{let ue=0;Y.subscribe((0,b.x)(W,de=>{++ue<=$&&(W.next(de),$<=ue&&W.complete())}))})}},9397:(Mt,He,U)=>{U.d(He,{b:()=>$});var p=U(4674),V=U(9360),b=U(8251),Ce=U(2737);function $(Y,W,ue){const de=(0,p.m)(Y)||W||ue?{next:Y,error:W,complete:ue}:Y;return de?(0,V.e)((J,ae)=>{var ye;null===(ye=de.subscribe)||void 0===ye||ye.call(de);let je=!0;J.subscribe((0,b.x)(ae,Ke=>{var lt;null===(lt=de.next)||void 0===lt||lt.call(de,Ke),ae.next(Ke)},()=>{var Ke;je=!1,null===(Ke=de.complete)||void 0===Ke||Ke.call(de),ae.complete()},Ke=>{var lt;je=!1,null===(lt=de.error)||void 0===lt||lt.call(de,Ke),ae.error(Ke)},()=>{var Ke,lt;je&&(null===(Ke=de.unsubscribe)||void 0===Ke||Ke.call(de)),null===(lt=de.finalize)||void 0===lt||lt.call(de)}))}):Ce.y}},3026:(Mt,He,U)=>{U.d(He,{T:()=>Ce});var p=U(6973),V=U(9360),b=U(8251);function Ce(Y=$){return(0,V.e)((W,ue)=>{let de=!1;W.subscribe((0,b.x)(ue,J=>{de=!0,ue.next(J)},()=>de?ue.complete():ue.error(Y())))})}function $(){return new p.K}},1954:(Mt,He,U)=>{U.d(He,{o:()=>$});var p=U(7394);class V extends p.w0{constructor(W,ue){super()}schedule(W,ue=0){return this}}const b={setInterval(Y,W,...ue){const{delegate:de}=b;return de?.setInterval?de.setInterval(Y,W,...ue):setInterval(Y,W,...ue)},clearInterval(Y){const{delegate:W}=b;return(W?.clearInterval||clearInterval)(Y)},delegate:void 0};var Ce=U(9039);class $ extends V{constructor(W,ue){super(W,ue),this.scheduler=W,this.work=ue,this.pending=!1}schedule(W,ue=0){var de;if(this.closed)return this;this.state=W;const J=this.id,ae=this.scheduler;return null!=J&&(this.id=this.recycleAsyncId(ae,J,ue)),this.pending=!0,this.delay=ue,this.id=null!==(de=this.id)&&void 0!==de?de:this.requestAsyncId(ae,this.id,ue),this}requestAsyncId(W,ue,de=0){return b.setInterval(W.flush.bind(W,this),de)}recycleAsyncId(W,ue,de=0){if(null!=de&&this.delay===de&&!1===this.pending)return ue;null!=ue&&b.clearInterval(ue)}execute(W,ue){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const de=this._execute(W,ue);if(de)return de;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(W,ue){let J,de=!1;try{this.work(W)}catch(ae){de=!0,J=ae||new Error("Scheduled action threw falsy error")}if(de)return this.unsubscribe(),J}unsubscribe(){if(!this.closed){const{id:W,scheduler:ue}=this,{actions:de}=ue;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Ce.P)(de,this),null!=W&&(this.id=this.recycleAsyncId(ue,W,null)),this.delay=null,super.unsubscribe()}}}},2631:(Mt,He,U)=>{U.d(He,{v:()=>b});var p=U(4552);class V{constructor($,Y=V.now){this.schedulerActionCtor=$,this.now=Y}schedule($,Y=0,W){return new this.schedulerActionCtor(this,$).schedule(W,Y)}}V.now=p.l.now;class b extends V{constructor($,Y=V.now){super($,Y),this.actions=[],this._active=!1}flush($){const{actions:Y}=this;if(this._active)return void Y.push($);let W;this._active=!0;do{if(W=$.execute($.state,$.delay))break}while($=Y.shift());if(this._active=!1,W){for(;$=Y.shift();)$.unsubscribe();throw W}}}},6321:(Mt,He,U)=>{U.d(He,{z:()=>b});var p=U(1954);const b=new(U(2631).v)(p.o)},4552:(Mt,He,U)=>{U.d(He,{l:()=>p});const p={now:()=>(p.delegate||Date).now(),delegate:void 0}},7599:(Mt,He,U)=>{U.d(He,{z:()=>p});const p={setTimeout(V,b,...Ce){const{delegate:$}=p;return $?.setTimeout?$.setTimeout(V,b,...Ce):setTimeout(V,b,...Ce)},clearTimeout(V){const{delegate:b}=p;return(b?.clearTimeout||clearTimeout)(V)},delegate:void 0}},4971:(Mt,He,U)=>{U.d(He,{h:()=>V});const V=function p(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(Mt,He,U)=>{U.d(He,{L:()=>p});const p="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(Mt,He,U)=>{U.d(He,{K:()=>V});const V=(0,U(2306).d)(b=>function(){b(this),this.name="EmptyError",this.message="no elements in sequence"})},4564:(Mt,He,U)=>{U.d(He,{_6:()=>Y,jO:()=>Ce,yG:()=>$});var p=U(4674);function b(W){return W[W.length-1]}function Ce(W){return(0,p.m)(b(W))?W.pop():void 0}function $(W){return function V(W){return W&&(0,p.m)(W.schedule)}(b(W))?W.pop():void 0}function Y(W,ue){return"number"==typeof b(W)?W.pop():ue}},7453:(Mt,He,U)=>{U.d(He,{D:()=>$});const{isArray:p}=Array,{getPrototypeOf:V,prototype:b,keys:Ce}=Object;function $(W){if(1===W.length){const ue=W[0];if(p(ue))return{args:ue,keys:null};if(function Y(W){return W&&"object"==typeof W&&V(W)===b}(ue)){const de=Ce(ue);return{args:de.map(J=>ue[J]),keys:de}}}return{args:W,keys:null}}},9039:(Mt,He,U)=>{function p(V,b){if(V){const Ce=V.indexOf(b);0<=Ce&&V.splice(Ce,1)}}U.d(He,{P:()=>p})},2306:(Mt,He,U)=>{function p(V){const Ce=V($=>{Error.call($),$.stack=(new Error).stack});return Ce.prototype=Object.create(Error.prototype),Ce.prototype.constructor=Ce,Ce}U.d(He,{d:()=>p})},2714:(Mt,He,U)=>{function p(V,b){return V.reduce((Ce,$,Y)=>(Ce[$]=b[Y],Ce),{})}U.d(He,{n:()=>p})},1441:(Mt,He,U)=>{U.d(He,{O:()=>Ce,x:()=>b});var p=U(2653);let V=null;function b($){if(p.config.useDeprecatedSynchronousErrorHandling){const Y=!V;if(Y&&(V={errorThrown:!1,error:null}),$(),Y){const{errorThrown:W,error:ue}=V;if(V=null,W)throw ue}}else $()}function Ce($){p.config.useDeprecatedSynchronousErrorHandling&&V&&(V.errorThrown=!0,V.error=$)}},7103:(Mt,He,U)=>{function p(V,b,Ce,$=0,Y=!1){const W=b.schedule(function(){Ce(),Y?V.add(this.schedule(null,$)):this.unsubscribe()},$);if(V.add(W),!Y)return W}U.d(He,{f:()=>p})},2737:(Mt,He,U)=>{function p(V){return V}U.d(He,{y:()=>p})},4266:(Mt,He,U)=>{U.d(He,{z:()=>p});const p=V=>V&&"number"==typeof V.length&&"function"!=typeof V},5726:(Mt,He,U)=>{U.d(He,{D:()=>V});var p=U(4674);function V(b){return Symbol.asyncIterator&&(0,p.m)(b?.[Symbol.asyncIterator])}},4674:(Mt,He,U)=>{function p(V){return"function"==typeof V}U.d(He,{m:()=>p})},8382:(Mt,He,U)=>{U.d(He,{c:()=>b});var p=U(4850),V=U(4674);function b(Ce){return(0,V.m)(Ce[p.L])}},3664:(Mt,He,U)=>{U.d(He,{T:()=>b});var p=U(4971),V=U(4674);function b(Ce){return(0,V.m)(Ce?.[p.h])}},4026:(Mt,He,U)=>{U.d(He,{t:()=>V});var p=U(4674);function V(b){return(0,p.m)(b?.then)}},541:(Mt,He,U)=>{U.d(He,{L:()=>Ce,Q:()=>b});var p=U(7582),V=U(4674);function b($){return(0,p.FC)(this,arguments,function*(){const W=$.getReader();try{for(;;){const{value:ue,done:de}=yield(0,p.qq)(W.read());if(de)return yield(0,p.qq)(void 0);yield yield(0,p.qq)(ue)}}finally{W.releaseLock()}})}function Ce($){return(0,V.m)($?.getReader)}},9360:(Mt,He,U)=>{U.d(He,{A:()=>V,e:()=>b});var p=U(4674);function V(Ce){return(0,p.m)(Ce?.lift)}function b(Ce){return $=>{if(V($))return $.lift(function(Y){try{return Ce(Y,this)}catch(W){this.error(W)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(Mt,He,U)=>{U.d(He,{Z:()=>Ce});var p=U(7398);const{isArray:V}=Array;function Ce($){return(0,p.U)(Y=>function b($,Y){return V(Y)?$(...Y):$(Y)}($,Y))}},2420:(Mt,He,U)=>{function p(){}U.d(He,{Z:()=>p})},8407:(Mt,He,U)=>{U.d(He,{U:()=>b,z:()=>V});var p=U(2737);function V(...Ce){return b(Ce)}function b(Ce){return 0===Ce.length?p.y:1===Ce.length?Ce[0]:function(Y){return Ce.reduce((W,ue)=>ue(W),Y)}}},3894:(Mt,He,U)=>{U.d(He,{h:()=>b});var p=U(2653),V=U(7599);function b(Ce){V.z.setTimeout(()=>{const{onUnhandledError:$}=p.config;if(!$)throw Ce;$(Ce)})}},9853:(Mt,He,U)=>{function p(V){return new TypeError(`You provided ${null!==V&&"object"==typeof V?"an invalid object":`'${V}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}U.d(He,{z:()=>p})},6825:(Mt,He,U)=>{U.d(He,{LC:()=>V,SB:()=>de,X$:()=>Ce,ZE:()=>it,ZN:()=>rt,_j:()=>p,eR:()=>ae,jt:()=>$,k1:()=>wt,l3:()=>b,oB:()=>ue,vP:()=>W});class p{}class V{}const b="*";function Ce(ut,oe){return{type:7,name:ut,definitions:oe,options:{}}}function $(ut,oe=null){return{type:4,styles:oe,timings:ut}}function W(ut,oe=null){return{type:2,steps:ut,options:oe}}function ue(ut){return{type:6,styles:ut,offset:null}}function de(ut,oe,Me){return{type:0,name:ut,styles:oe,options:Me}}function ae(ut,oe,Me=null){return{type:1,expr:ut,animation:oe,options:Me}}class rt{constructor(oe=0,Me=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=oe+Me}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(oe=>oe()),this._onDoneFns=[])}onStart(oe){this._originalOnStartFns.push(oe),this._onStartFns.push(oe)}onDone(oe){this._originalOnDoneFns.push(oe),this._onDoneFns.push(oe)}onDestroy(oe){this._onDestroyFns.push(oe)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(oe=>oe()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(oe=>oe()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(oe){this._position=this.totalTime?oe*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(oe){const Me="start"==oe?this._onStartFns:this._onDoneFns;Me.forEach(pe=>pe()),Me.length=0}}class it{constructor(oe){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=oe;let Me=0,pe=0,me=0;const be=this.players.length;0==be?queueMicrotask(()=>this._onFinish()):this.players.forEach(ve=>{ve.onDone(()=>{++Me==be&&this._onFinish()}),ve.onDestroy(()=>{++pe==be&&this._onDestroy()}),ve.onStart(()=>{++me==be&&this._onStart()})}),this.totalTime=this.players.reduce((ve,tt)=>Math.max(ve,tt.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(oe=>oe()),this._onDoneFns=[])}init(){this.players.forEach(oe=>oe.init())}onStart(oe){this._onStartFns.push(oe)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(oe=>oe()),this._onStartFns=[])}onDone(oe){this._onDoneFns.push(oe)}onDestroy(oe){this._onDestroyFns.push(oe)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(oe=>oe.play())}pause(){this.players.forEach(oe=>oe.pause())}restart(){this.players.forEach(oe=>oe.restart())}finish(){this._onFinish(),this.players.forEach(oe=>oe.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(oe=>oe.destroy()),this._onDestroyFns.forEach(oe=>oe()),this._onDestroyFns=[])}reset(){this.players.forEach(oe=>oe.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(oe){const Me=oe*this.totalTime;this.players.forEach(pe=>{const me=pe.totalTime?Math.min(1,Me/pe.totalTime):1;pe.setPosition(me)})}getPosition(){const oe=this.players.reduce((Me,pe)=>null===Me||pe.totalTime>Me.totalTime?pe:Me,null);return null!=oe?oe.getPosition():0}beforeDestroy(){this.players.forEach(oe=>{oe.beforeDestroy&&oe.beforeDestroy()})}triggerCallback(oe){const Me="start"==oe?this._onStartFns:this._onDoneFns;Me.forEach(pe=>pe()),Me.length=0}}const wt="!"},6814:(Mt,He,U)=>{U.d(He,{Do:()=>Xe,EM:()=>Ki,HT:()=>Ce,JF:()=>Vi,K0:()=>Y,Mx:()=>br,NF:()=>Ti,O5:()=>Es,PC:()=>Gi,PM:()=>Fi,S$:()=>je,V_:()=>ue,Ye:()=>rt,b0:()=>lt,bD:()=>rr,ez:()=>Wi,mk:()=>pr,q:()=>b,sg:()=>vi,tP:()=>Ii,w_:()=>$});var p=U(5879);let V=null;function b(){return V}function Ce(_){V||(V=_)}class ${}const Y=new p.OlP("DocumentToken");let W=(()=>{class _{historyGo(A){throw new Error("Not implemented")}static#e=this.\u0275fac=function(k){return new(k||_)};static#t=this.\u0275prov=p.Yz7({token:_,factory:function(){return(0,p.f3M)(de)},providedIn:"platform"})}return _})();const ue=new p.OlP("Location Initialized");let de=(()=>{class _ extends W{constructor(){super(),this._doc=(0,p.f3M)(Y),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return b().getBaseHref(this._doc)}onPopState(A){const k=b().getGlobalEventTarget(this._doc,"window");return k.addEventListener("popstate",A,!1),()=>k.removeEventListener("popstate",A)}onHashChange(A){const k=b().getGlobalEventTarget(this._doc,"window");return k.addEventListener("hashchange",A,!1),()=>k.removeEventListener("hashchange",A)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(A){this._location.pathname=A}pushState(A,k,re){this._history.pushState(A,k,re)}replaceState(A,k,re){this._history.replaceState(A,k,re)}forward(){this._history.forward()}back(){this._history.back()}historyGo(A=0){this._history.go(A)}getState(){return this._history.state}static#e=this.\u0275fac=function(k){return new(k||_)};static#t=this.\u0275prov=p.Yz7({token:_,factory:function(){return new _},providedIn:"platform"})}return _})();function J(_,O){if(0==_.length)return O;if(0==O.length)return _;let A=0;return _.endsWith("/")&&A++,O.startsWith("/")&&A++,2==A?_+O.substring(1):1==A?_+O:_+"/"+O}function ae(_){const O=_.match(/#|\?|$/),A=O&&O.index||_.length;return _.slice(0,A-("/"===_[A-1]?1:0))+_.slice(A)}function ye(_){return _&&"?"!==_[0]?"?"+_:_}let je=(()=>{class _{historyGo(A){throw new Error("Not implemented")}static#e=this.\u0275fac=function(k){return new(k||_)};static#t=this.\u0275prov=p.Yz7({token:_,factory:function(){return(0,p.f3M)(lt)},providedIn:"root"})}return _})();const Ke=new p.OlP("appBaseHref");let lt=(()=>{class _ extends je{constructor(A,k){super(),this._platformLocation=A,this._removeListenerFns=[],this._baseHref=k??this._platformLocation.getBaseHrefFromDOM()??(0,p.f3M)(Y).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(A){this._removeListenerFns.push(this._platformLocation.onPopState(A),this._platformLocation.onHashChange(A))}getBaseHref(){return this._baseHref}prepareExternalUrl(A){return J(this._baseHref,A)}path(A=!1){const k=this._platformLocation.pathname+ye(this._platformLocation.search),re=this._platformLocation.hash;return re&&A?`${k}${re}`:k}pushState(A,k,re,Oe){const Ye=this.prepareExternalUrl(re+ye(Oe));this._platformLocation.pushState(A,k,Ye)}replaceState(A,k,re,Oe){const Ye=this.prepareExternalUrl(re+ye(Oe));this._platformLocation.replaceState(A,k,Ye)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(A=0){this._platformLocation.historyGo?.(A)}static#e=this.\u0275fac=function(k){return new(k||_)(p.LFG(W),p.LFG(Ke,8))};static#t=this.\u0275prov=p.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})(),Xe=(()=>{class _ extends je{constructor(A,k){super(),this._platformLocation=A,this._baseHref="",this._removeListenerFns=[],null!=k&&(this._baseHref=k)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(A){this._removeListenerFns.push(this._platformLocation.onPopState(A),this._platformLocation.onHashChange(A))}getBaseHref(){return this._baseHref}path(A=!1){let k=this._platformLocation.hash;return null==k&&(k="#"),k.length>0?k.substring(1):k}prepareExternalUrl(A){const k=J(this._baseHref,A);return k.length>0?"#"+k:k}pushState(A,k,re,Oe){let Ye=this.prepareExternalUrl(re+ye(Oe));0==Ye.length&&(Ye=this._platformLocation.pathname),this._platformLocation.pushState(A,k,Ye)}replaceState(A,k,re,Oe){let Ye=this.prepareExternalUrl(re+ye(Oe));0==Ye.length&&(Ye=this._platformLocation.pathname),this._platformLocation.replaceState(A,k,Ye)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(A=0){this._platformLocation.historyGo?.(A)}static#e=this.\u0275fac=function(k){return new(k||_)(p.LFG(W),p.LFG(Ke,8))};static#t=this.\u0275prov=p.Yz7({token:_,factory:_.\u0275fac})}return _})(),rt=(()=>{class _{constructor(A){this._subject=new p.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=A;const k=this._locationStrategy.getBaseHref();this._basePath=function oe(_){if(new RegExp("^(https?:)?//").test(_)){const[,A]=_.split(/\/\/[^\/]+/);return A}return _}(ae(ut(k))),this._locationStrategy.onPopState(re=>{this._subject.emit({url:this.path(!0),pop:!0,state:re.state,type:re.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(A=!1){return this.normalize(this._locationStrategy.path(A))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(A,k=""){return this.path()==this.normalize(A+ye(k))}normalize(A){return _.stripTrailingSlash(function wt(_,O){if(!_||!O.startsWith(_))return O;const A=O.substring(_.length);return""===A||["/",";","?","#"].includes(A[0])?A:O}(this._basePath,ut(A)))}prepareExternalUrl(A){return A&&"/"!==A[0]&&(A="/"+A),this._locationStrategy.prepareExternalUrl(A)}go(A,k="",re=null){this._locationStrategy.pushState(re,"",A,k),this._notifyUrlChangeListeners(this.prepareExternalUrl(A+ye(k)),re)}replaceState(A,k="",re=null){this._locationStrategy.replaceState(re,"",A,k),this._notifyUrlChangeListeners(this.prepareExternalUrl(A+ye(k)),re)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(A=0){this._locationStrategy.historyGo?.(A)}onUrlChange(A){return this._urlChangeListeners.push(A),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(k=>{this._notifyUrlChangeListeners(k.url,k.state)})),()=>{const k=this._urlChangeListeners.indexOf(A);this._urlChangeListeners.splice(k,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(A="",k){this._urlChangeListeners.forEach(re=>re(A,k))}subscribe(A,k,re){return this._subject.subscribe({next:A,error:k,complete:re})}static#e=this.normalizeQueryParams=ye;static#t=this.joinWithSlash=J;static#n=this.stripTrailingSlash=ae;static#r=this.\u0275fac=function(k){return new(k||_)(p.LFG(je))};static#i=this.\u0275prov=p.Yz7({token:_,factory:function(){return function it(){return new rt((0,p.LFG)(je))}()},providedIn:"root"})}return _})();function ut(_){return _.replace(/\/index.html$/,"")}function br(_,O){O=encodeURIComponent(O);for(const A of _.split(";")){const k=A.indexOf("="),[re,Oe]=-1==k?[A,""]:[A.slice(0,k),A.slice(k+1)];if(re.trim()===O)return decodeURIComponent(Oe)}return null}const li=/\s+/,nr=[];let pr=(()=>{class _{constructor(A,k,re,Oe){this._iterableDiffers=A,this._keyValueDiffers=k,this._ngEl=re,this._renderer=Oe,this.initialClasses=nr,this.stateMap=new Map}set klass(A){this.initialClasses=null!=A?A.trim().split(li):nr}set ngClass(A){this.rawClass="string"==typeof A?A.trim().split(li):A}ngDoCheck(){for(const k of this.initialClasses)this._updateState(k,!0);const A=this.rawClass;if(Array.isArray(A)||A instanceof Set)for(const k of A)this._updateState(k,!0);else if(null!=A)for(const k of Object.keys(A))this._updateState(k,!!A[k]);this._applyStateDiff()}_updateState(A,k){const re=this.stateMap.get(A);void 0!==re?(re.enabled!==k&&(re.changed=!0,re.enabled=k),re.touched=!0):this.stateMap.set(A,{enabled:k,changed:!0,touched:!0})}_applyStateDiff(){for(const A of this.stateMap){const k=A[0],re=A[1];re.changed?(this._toggleClass(k,re.enabled),re.changed=!1):re.touched||(re.enabled&&this._toggleClass(k,!1),this.stateMap.delete(k)),re.touched=!1}}_toggleClass(A,k){(A=A.trim()).length>0&&A.split(li).forEach(re=>{k?this._renderer.addClass(this._ngEl.nativeElement,re):this._renderer.removeClass(this._ngEl.nativeElement,re)})}static#e=this.\u0275fac=function(k){return new(k||_)(p.Y36(p.ZZ4),p.Y36(p.aQg),p.Y36(p.SBq),p.Y36(p.Qsj))};static#t=this.\u0275dir=p.lG2({type:_,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return _})();class Vn{constructor(O,A,k,re){this.$implicit=O,this.ngForOf=A,this.index=k,this.count=re}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let vi=(()=>{class _{set ngForOf(A){this._ngForOf=A,this._ngForOfDirty=!0}set ngForTrackBy(A){this._trackByFn=A}get ngForTrackBy(){return this._trackByFn}constructor(A,k,re){this._viewContainer=A,this._template=k,this._differs=re,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(A){A&&(this._template=A)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const A=this._ngForOf;!this._differ&&A&&(this._differ=this._differs.find(A).create(this.ngForTrackBy))}if(this._differ){const A=this._differ.diff(this._ngForOf);A&&this._applyChanges(A)}}_applyChanges(A){const k=this._viewContainer;A.forEachOperation((re,Oe,Ye)=>{if(null==re.previousIndex)k.createEmbeddedView(this._template,new Vn(re.item,this._ngForOf,-1,-1),null===Ye?void 0:Ye);else if(null==Ye)k.remove(null===Oe?void 0:Oe);else if(null!==Oe){const gt=k.get(Oe);k.move(gt,Ye),ts(gt,re)}});for(let re=0,Oe=k.length;re<Oe;re++){const gt=k.get(re).context;gt.index=re,gt.count=Oe,gt.ngForOf=this._ngForOf}A.forEachIdentityChange(re=>{ts(k.get(re.currentIndex),re)})}static ngTemplateContextGuard(A,k){return!0}static#e=this.\u0275fac=function(k){return new(k||_)(p.Y36(p.s_b),p.Y36(p.Rgc),p.Y36(p.ZZ4))};static#t=this.\u0275dir=p.lG2({type:_,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return _})();function ts(_,O){_.context.$implicit=O.item}let Es=(()=>{class _{constructor(A,k){this._viewContainer=A,this._context=new go,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=k}set ngIf(A){this._context.$implicit=this._context.ngIf=A,this._updateView()}set ngIfThen(A){_a("ngIfThen",A),this._thenTemplateRef=A,this._thenViewRef=null,this._updateView()}set ngIfElse(A){_a("ngIfElse",A),this._elseTemplateRef=A,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(A,k){return!0}static#e=this.\u0275fac=function(k){return new(k||_)(p.Y36(p.s_b),p.Y36(p.Rgc))};static#t=this.\u0275dir=p.lG2({type:_,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return _})();class go{constructor(){this.$implicit=null,this.ngIf=null}}function _a(_,O){if(O&&!O.createEmbeddedView)throw new Error(`${_} must be a TemplateRef, but received '${(0,p.AaK)(O)}'.`)}let Gi=(()=>{class _{constructor(A,k,re){this._ngEl=A,this._differs=k,this._renderer=re,this._ngStyle=null,this._differ=null}set ngStyle(A){this._ngStyle=A,!this._differ&&A&&(this._differ=this._differs.find(A).create())}ngDoCheck(){if(this._differ){const A=this._differ.diff(this._ngStyle);A&&this._applyChanges(A)}}_setStyle(A,k){const[re,Oe]=A.split("."),Ye=-1===re.indexOf("-")?void 0:p.JOm.DashCase;null!=k?this._renderer.setStyle(this._ngEl.nativeElement,re,Oe?`${k}${Oe}`:k,Ye):this._renderer.removeStyle(this._ngEl.nativeElement,re,Ye)}_applyChanges(A){A.forEachRemovedItem(k=>this._setStyle(k.key,null)),A.forEachAddedItem(k=>this._setStyle(k.key,k.currentValue)),A.forEachChangedItem(k=>this._setStyle(k.key,k.currentValue))}static#e=this.\u0275fac=function(k){return new(k||_)(p.Y36(p.SBq),p.Y36(p.aQg),p.Y36(p.Qsj))};static#t=this.\u0275dir=p.lG2({type:_,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return _})(),Ii=(()=>{class _{constructor(A){this._viewContainerRef=A,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(A){if(A.ngTemplateOutlet||A.ngTemplateOutletInjector){const k=this._viewContainerRef;if(this._viewRef&&k.remove(k.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:re,ngTemplateOutletContext:Oe,ngTemplateOutletInjector:Ye}=this;this._viewRef=k.createEmbeddedView(re,Oe,Ye?{injector:Ye}:void 0)}else this._viewRef=null}else this._viewRef&&A.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(k){return new(k||_)(p.Y36(p.s_b))};static#t=this.\u0275dir=p.lG2({type:_,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[p.TTD]})}return _})(),Wi=(()=>{class _{static#e=this.\u0275fac=function(k){return new(k||_)};static#t=this.\u0275mod=p.oAB({type:_});static#n=this.\u0275inj=p.cJS({})}return _})();const rr="browser",qi="server";function Ti(_){return _===rr}function Fi(_){return _===qi}let Ki=(()=>{class _{static#e=this.\u0275prov=(0,p.Yz7)({token:_,providedIn:"root",factory:()=>new ci((0,p.LFG)(Y),window)})}return _})();class ci{constructor(O,A){this.document=O,this.window=A,this.offset=()=>[0,0]}setOffset(O){this.offset=Array.isArray(O)?()=>O:O}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(O){this.supportsScrolling()&&this.window.scrollTo(O[0],O[1])}scrollToAnchor(O){if(!this.supportsScrolling())return;const A=function Qs(_,O){const A=_.getElementById(O)||_.getElementsByName(O)[0];if(A)return A;if("function"==typeof _.createTreeWalker&&_.body&&"function"==typeof _.body.attachShadow){const k=_.createTreeWalker(_.body,NodeFilter.SHOW_ELEMENT);let re=k.currentNode;for(;re;){const Oe=re.shadowRoot;if(Oe){const Ye=Oe.getElementById(O)||Oe.querySelector(`[name="${O}"]`);if(Ye)return Ye}re=k.nextNode()}}return null}(this.document,O);A&&(this.scrollToElement(A),A.focus())}setHistoryScrollRestoration(O){this.supportsScrolling()&&(this.window.history.scrollRestoration=O)}scrollToElement(O){const A=O.getBoundingClientRect(),k=A.left+this.window.pageXOffset,re=A.top+this.window.pageYOffset,Oe=this.offset();this.window.scrollTo(k-Oe[0],re-Oe[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Vi{}},9862:(Mt,He,U)=>{U.d(He,{JF:()=>L,eN:()=>Se});var p=U(5879),V=U(2096),b=U(2459),Ce=U(5592),$=U(6328),Y=U(2181),W=U(7398),ue=U(4716),de=U(4664),J=U(6814);class ae{}class ye{}class je{constructor(Ee){this.normalizedNames=new Map,this.lazyUpdate=null,Ee?"string"==typeof Ee?this.lazyInit=()=>{this.headers=new Map,Ee.split("\n").forEach(Ae=>{const we=Ae.indexOf(":");if(we>0){const Te=Ae.slice(0,we),Be=Te.toLowerCase(),et=Ae.slice(we+1).trim();this.maybeSetNormalizedName(Te,Be),this.headers.has(Be)?this.headers.get(Be).push(et):this.headers.set(Be,[et])}})}:typeof Headers<"u"&&Ee instanceof Headers?(this.headers=new Map,Ee.forEach((Ae,we)=>{this.setHeaderEntries(we,Ae)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(Ee).forEach(([Ae,we])=>{this.setHeaderEntries(Ae,we)})}:this.headers=new Map}has(Ee){return this.init(),this.headers.has(Ee.toLowerCase())}get(Ee){this.init();const Ae=this.headers.get(Ee.toLowerCase());return Ae&&Ae.length>0?Ae[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Ee){return this.init(),this.headers.get(Ee.toLowerCase())||null}append(Ee,Ae){return this.clone({name:Ee,value:Ae,op:"a"})}set(Ee,Ae){return this.clone({name:Ee,value:Ae,op:"s"})}delete(Ee,Ae){return this.clone({name:Ee,value:Ae,op:"d"})}maybeSetNormalizedName(Ee,Ae){this.normalizedNames.has(Ae)||this.normalizedNames.set(Ae,Ee)}init(){this.lazyInit&&(this.lazyInit instanceof je?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Ee=>this.applyUpdate(Ee)),this.lazyUpdate=null))}copyFrom(Ee){Ee.init(),Array.from(Ee.headers.keys()).forEach(Ae=>{this.headers.set(Ae,Ee.headers.get(Ae)),this.normalizedNames.set(Ae,Ee.normalizedNames.get(Ae))})}clone(Ee){const Ae=new je;return Ae.lazyInit=this.lazyInit&&this.lazyInit instanceof je?this.lazyInit:this,Ae.lazyUpdate=(this.lazyUpdate||[]).concat([Ee]),Ae}applyUpdate(Ee){const Ae=Ee.name.toLowerCase();switch(Ee.op){case"a":case"s":let we=Ee.value;if("string"==typeof we&&(we=[we]),0===we.length)return;this.maybeSetNormalizedName(Ee.name,Ae);const Te=("a"===Ee.op?this.headers.get(Ae):void 0)||[];Te.push(...we),this.headers.set(Ae,Te);break;case"d":const Be=Ee.value;if(Be){let et=this.headers.get(Ae);if(!et)return;et=et.filter(Ft=>-1===Be.indexOf(Ft)),0===et.length?(this.headers.delete(Ae),this.normalizedNames.delete(Ae)):this.headers.set(Ae,et)}else this.headers.delete(Ae),this.normalizedNames.delete(Ae)}}setHeaderEntries(Ee,Ae){const we=(Array.isArray(Ae)?Ae:[Ae]).map(Be=>Be.toString()),Te=Ee.toLowerCase();this.headers.set(Te,we),this.maybeSetNormalizedName(Ee,Te)}forEach(Ee){this.init(),Array.from(this.normalizedNames.keys()).forEach(Ae=>Ee(this.normalizedNames.get(Ae),this.headers.get(Ae)))}}class lt{encodeKey(Ee){return wt(Ee)}encodeValue(Ee){return wt(Ee)}decodeKey(Ee){return decodeURIComponent(Ee)}decodeValue(Ee){return decodeURIComponent(Ee)}}const rt=/%(\d[a-f0-9])/gi,it={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function wt(Re){return encodeURIComponent(Re).replace(rt,(Ee,Ae)=>it[Ae]??Ee)}function ut(Re){return`${Re}`}class oe{constructor(Ee={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Ee.encoder||new lt,Ee.fromString){if(Ee.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Xe(Re,Ee){const Ae=new Map;return Re.length>0&&Re.replace(/^\?/,"").split("&").forEach(Te=>{const Be=Te.indexOf("="),[et,Ft]=-1==Be?[Ee.decodeKey(Te),""]:[Ee.decodeKey(Te.slice(0,Be)),Ee.decodeValue(Te.slice(Be+1))],ct=Ae.get(et)||[];ct.push(Ft),Ae.set(et,ct)}),Ae}(Ee.fromString,this.encoder)}else Ee.fromObject?(this.map=new Map,Object.keys(Ee.fromObject).forEach(Ae=>{const we=Ee.fromObject[Ae],Te=Array.isArray(we)?we.map(ut):[ut(we)];this.map.set(Ae,Te)})):this.map=null}has(Ee){return this.init(),this.map.has(Ee)}get(Ee){this.init();const Ae=this.map.get(Ee);return Ae?Ae[0]:null}getAll(Ee){return this.init(),this.map.get(Ee)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Ee,Ae){return this.clone({param:Ee,value:Ae,op:"a"})}appendAll(Ee){const Ae=[];return Object.keys(Ee).forEach(we=>{const Te=Ee[we];Array.isArray(Te)?Te.forEach(Be=>{Ae.push({param:we,value:Be,op:"a"})}):Ae.push({param:we,value:Te,op:"a"})}),this.clone(Ae)}set(Ee,Ae){return this.clone({param:Ee,value:Ae,op:"s"})}delete(Ee,Ae){return this.clone({param:Ee,value:Ae,op:"d"})}toString(){return this.init(),this.keys().map(Ee=>{const Ae=this.encoder.encodeKey(Ee);return this.map.get(Ee).map(we=>Ae+"="+this.encoder.encodeValue(we)).join("&")}).filter(Ee=>""!==Ee).join("&")}clone(Ee){const Ae=new oe({encoder:this.encoder});return Ae.cloneFrom=this.cloneFrom||this,Ae.updates=(this.updates||[]).concat(Ee),Ae}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Ee=>this.map.set(Ee,this.cloneFrom.map.get(Ee))),this.updates.forEach(Ee=>{switch(Ee.op){case"a":case"s":const Ae=("a"===Ee.op?this.map.get(Ee.param):void 0)||[];Ae.push(ut(Ee.value)),this.map.set(Ee.param,Ae);break;case"d":if(void 0===Ee.value){this.map.delete(Ee.param);break}{let we=this.map.get(Ee.param)||[];const Te=we.indexOf(ut(Ee.value));-1!==Te&&we.splice(Te,1),we.length>0?this.map.set(Ee.param,we):this.map.delete(Ee.param)}}}),this.cloneFrom=this.updates=null)}}class pe{constructor(){this.map=new Map}set(Ee,Ae){return this.map.set(Ee,Ae),this}get(Ee){return this.map.has(Ee)||this.map.set(Ee,Ee.defaultValue()),this.map.get(Ee)}delete(Ee){return this.map.delete(Ee),this}has(Ee){return this.map.has(Ee)}keys(){return this.map.keys()}}function be(Re){return typeof ArrayBuffer<"u"&&Re instanceof ArrayBuffer}function ve(Re){return typeof Blob<"u"&&Re instanceof Blob}function tt(Re){return typeof FormData<"u"&&Re instanceof FormData}class Lt{constructor(Ee,Ae,we,Te){let Be;if(this.url=Ae,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Ee.toUpperCase(),function me(Re){switch(Re){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Te?(this.body=void 0!==we?we:null,Be=Te):Be=we,Be&&(this.reportProgress=!!Be.reportProgress,this.withCredentials=!!Be.withCredentials,Be.responseType&&(this.responseType=Be.responseType),Be.headers&&(this.headers=Be.headers),Be.context&&(this.context=Be.context),Be.params&&(this.params=Be.params)),this.headers||(this.headers=new je),this.context||(this.context=new pe),this.params){const et=this.params.toString();if(0===et.length)this.urlWithParams=Ae;else{const Ft=Ae.indexOf("?");this.urlWithParams=Ae+(-1===Ft?"?":Ft<Ae.length-1?"&":"")+et}}else this.params=new oe,this.urlWithParams=Ae}serializeBody(){return null===this.body?null:be(this.body)||ve(this.body)||tt(this.body)||function ge(Re){return typeof URLSearchParams<"u"&&Re instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof oe?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||tt(this.body)?null:ve(this.body)?this.body.type||null:be(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof oe?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Ee={}){const Ae=Ee.method||this.method,we=Ee.url||this.url,Te=Ee.responseType||this.responseType,Be=void 0!==Ee.body?Ee.body:this.body,et=void 0!==Ee.withCredentials?Ee.withCredentials:this.withCredentials,Ft=void 0!==Ee.reportProgress?Ee.reportProgress:this.reportProgress;let ct=Ee.headers||this.headers,nn=Ee.params||this.params;const Gn=Ee.context??this.context;return void 0!==Ee.setHeaders&&(ct=Object.keys(Ee.setHeaders).reduce((Mn,sr)=>Mn.set(sr,Ee.setHeaders[sr]),ct)),Ee.setParams&&(nn=Object.keys(Ee.setParams).reduce((Mn,sr)=>Mn.set(sr,Ee.setParams[sr]),nn)),new Lt(Ae,we,Be,{params:nn,headers:ct,context:Gn,reportProgress:Ft,responseType:Te,withCredentials:et})}}var pt=function(Re){return Re[Re.Sent=0]="Sent",Re[Re.UploadProgress=1]="UploadProgress",Re[Re.ResponseHeader=2]="ResponseHeader",Re[Re.DownloadProgress=3]="DownloadProgress",Re[Re.Response=4]="Response",Re[Re.User=5]="User",Re}(pt||{});class st{constructor(Ee,Ae=200,we="OK"){this.headers=Ee.headers||new je,this.status=void 0!==Ee.status?Ee.status:Ae,this.statusText=Ee.statusText||we,this.url=Ee.url||null,this.ok=this.status>=200&&this.status<300}}class _n extends st{constructor(Ee={}){super(Ee),this.type=pt.ResponseHeader}clone(Ee={}){return new _n({headers:Ee.headers||this.headers,status:void 0!==Ee.status?Ee.status:this.status,statusText:Ee.statusText||this.statusText,url:Ee.url||this.url||void 0})}}class Dt extends st{constructor(Ee={}){super(Ee),this.type=pt.Response,this.body=void 0!==Ee.body?Ee.body:null}clone(Ee={}){return new Dt({body:void 0!==Ee.body?Ee.body:this.body,headers:Ee.headers||this.headers,status:void 0!==Ee.status?Ee.status:this.status,statusText:Ee.statusText||this.statusText,url:Ee.url||this.url||void 0})}}class bt extends st{constructor(Ee){super(Ee,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Ee.url||"(unknown url)"}`:`Http failure response for ${Ee.url||"(unknown url)"}: ${Ee.status} ${Ee.statusText}`,this.error=Ee.error||null}}function Pt(Re,Ee){return{body:Ee,headers:Re.headers,context:Re.context,observe:Re.observe,params:Re.params,reportProgress:Re.reportProgress,responseType:Re.responseType,withCredentials:Re.withCredentials}}let Se=(()=>{class Re{constructor(Ae){this.handler=Ae}request(Ae,we,Te={}){let Be;if(Ae instanceof Lt)Be=Ae;else{let ct,nn;ct=Te.headers instanceof je?Te.headers:new je(Te.headers),Te.params&&(nn=Te.params instanceof oe?Te.params:new oe({fromObject:Te.params})),Be=new Lt(Ae,we,void 0!==Te.body?Te.body:null,{headers:ct,context:Te.context,params:nn,reportProgress:Te.reportProgress,responseType:Te.responseType||"json",withCredentials:Te.withCredentials})}const et=(0,V.of)(Be).pipe((0,$.b)(ct=>this.handler.handle(ct)));if(Ae instanceof Lt||"events"===Te.observe)return et;const Ft=et.pipe((0,Y.h)(ct=>ct instanceof Dt));switch(Te.observe||"body"){case"body":switch(Be.responseType){case"arraybuffer":return Ft.pipe((0,W.U)(ct=>{if(null!==ct.body&&!(ct.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return ct.body}));case"blob":return Ft.pipe((0,W.U)(ct=>{if(null!==ct.body&&!(ct.body instanceof Blob))throw new Error("Response is not a Blob.");return ct.body}));case"text":return Ft.pipe((0,W.U)(ct=>{if(null!==ct.body&&"string"!=typeof ct.body)throw new Error("Response is not a string.");return ct.body}));default:return Ft.pipe((0,W.U)(ct=>ct.body))}case"response":return Ft;default:throw new Error(`Unreachable: unhandled observe type ${Te.observe}}`)}}delete(Ae,we={}){return this.request("DELETE",Ae,we)}get(Ae,we={}){return this.request("GET",Ae,we)}head(Ae,we={}){return this.request("HEAD",Ae,we)}jsonp(Ae,we){return this.request("JSONP",Ae,{params:(new oe).append(we,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Ae,we={}){return this.request("OPTIONS",Ae,we)}patch(Ae,we,Te={}){return this.request("PATCH",Ae,Pt(Te,we))}post(Ae,we,Te={}){return this.request("POST",Ae,Pt(Te,we))}put(Ae,we,Te={}){return this.request("PUT",Ae,Pt(Te,we))}static#e=this.\u0275fac=function(we){return new(we||Re)(p.LFG(ae))};static#t=this.\u0275prov=p.Yz7({token:Re,factory:Re.\u0275fac})}return Re})();function En(Re,Ee){return Ee(Re)}function on(Re,Ee){return(Ae,we)=>Ee.intercept(Ae,{handle:Te=>Re(Te,we)})}const un=new p.OlP(""),Bn=new p.OlP(""),ln=new p.OlP("");function Fn(){let Re=null;return(Ee,Ae)=>{null===Re&&(Re=((0,p.f3M)(un,{optional:!0})??[]).reduceRight(on,En));const we=(0,p.f3M)(p.HDt),Te=we.add();return Re(Ee,Ae).pipe((0,ue.x)(()=>we.remove(Te)))}}let wn=(()=>{class Re extends ae{constructor(Ae,we){super(),this.backend=Ae,this.injector=we,this.chain=null,this.pendingTasks=(0,p.f3M)(p.HDt)}handle(Ae){if(null===this.chain){const Te=Array.from(new Set([...this.injector.get(Bn),...this.injector.get(ln,[])]));this.chain=Te.reduceRight((Be,et)=>function Nn(Re,Ee,Ae){return(we,Te)=>Ae.runInContext(()=>Ee(we,Be=>Re(Be,Te)))}(Be,et,this.injector),En)}const we=this.pendingTasks.add();return this.chain(Ae,Te=>this.backend.handle(Te)).pipe((0,ue.x)(()=>this.pendingTasks.remove(we)))}static#e=this.\u0275fac=function(we){return new(we||Re)(p.LFG(ye),p.LFG(p.lqb))};static#t=this.\u0275prov=p.Yz7({token:Re,factory:Re.\u0275fac})}return Re})();const fr=/^\)\]\}',?\n/;let Ct=(()=>{class Re{constructor(Ae){this.xhrFactory=Ae}handle(Ae){if("JSONP"===Ae.method)throw new p.vHH(-2800,!1);const we=this.xhrFactory;return(we.\u0275loadImpl?(0,b.D)(we.\u0275loadImpl()):(0,V.of)(null)).pipe((0,de.w)(()=>new Ce.y(Be=>{const et=we.build();if(et.open(Ae.method,Ae.urlWithParams),Ae.withCredentials&&(et.withCredentials=!0),Ae.headers.forEach((nr,pr)=>et.setRequestHeader(nr,pr.join(","))),Ae.headers.has("Accept")||et.setRequestHeader("Accept","application/json, text/plain, */*"),!Ae.headers.has("Content-Type")){const nr=Ae.detectContentTypeHeader();null!==nr&&et.setRequestHeader("Content-Type",nr)}if(Ae.responseType){const nr=Ae.responseType.toLowerCase();et.responseType="json"!==nr?nr:"text"}const Ft=Ae.serializeBody();let ct=null;const nn=()=>{if(null!==ct)return ct;const nr=et.statusText||"OK",pr=new je(et.getAllResponseHeaders()),ei=function Ze(Re){return"responseURL"in Re&&Re.responseURL?Re.responseURL:/^X-Request-URL:/m.test(Re.getAllResponseHeaders())?Re.getResponseHeader("X-Request-URL"):null}(et)||Ae.url;return ct=new _n({headers:pr,status:et.status,statusText:nr,url:ei}),ct},Gn=()=>{let{headers:nr,status:pr,statusText:ei,url:us}=nn(),Vn=null;204!==pr&&(Vn=typeof et.response>"u"?et.responseText:et.response),0===pr&&(pr=Vn?200:0);let vi=pr>=200&&pr<300;if("json"===Ae.responseType&&"string"==typeof Vn){const ts=Vn;Vn=Vn.replace(fr,"");try{Vn=""!==Vn?JSON.parse(Vn):null}catch(Dr){Vn=ts,vi&&(vi=!1,Vn={error:Dr,text:Vn})}}vi?(Be.next(new Dt({body:Vn,headers:nr,status:pr,statusText:ei,url:us||void 0})),Be.complete()):Be.error(new bt({error:Vn,headers:nr,status:pr,statusText:ei,url:us||void 0}))},Mn=nr=>{const{url:pr}=nn(),ei=new bt({error:nr,status:et.status||0,statusText:et.statusText||"Unknown Error",url:pr||void 0});Be.error(ei)};let sr=!1;const br=nr=>{sr||(Be.next(nn()),sr=!0);let pr={type:pt.DownloadProgress,loaded:nr.loaded};nr.lengthComputable&&(pr.total=nr.total),"text"===Ae.responseType&&et.responseText&&(pr.partialText=et.responseText),Be.next(pr)},li=nr=>{let pr={type:pt.UploadProgress,loaded:nr.loaded};nr.lengthComputable&&(pr.total=nr.total),Be.next(pr)};return et.addEventListener("load",Gn),et.addEventListener("error",Mn),et.addEventListener("timeout",Mn),et.addEventListener("abort",Mn),Ae.reportProgress&&(et.addEventListener("progress",br),null!==Ft&&et.upload&&et.upload.addEventListener("progress",li)),et.send(Ft),Be.next({type:pt.Sent}),()=>{et.removeEventListener("error",Mn),et.removeEventListener("abort",Mn),et.removeEventListener("load",Gn),et.removeEventListener("timeout",Mn),Ae.reportProgress&&(et.removeEventListener("progress",br),null!==Ft&&et.upload&&et.upload.removeEventListener("progress",li)),et.readyState!==et.DONE&&et.abort()}})))}static#e=this.\u0275fac=function(we){return new(we||Re)(p.LFG(J.JF))};static#t=this.\u0275prov=p.Yz7({token:Re,factory:Re.\u0275fac})}return Re})();const Pe=new p.OlP("XSRF_ENABLED"),qe=new p.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),At=new p.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Hn{}let Qt=(()=>{class Re{constructor(Ae,we,Te){this.doc=Ae,this.platform=we,this.cookieName=Te,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Ae=this.doc.cookie||"";return Ae!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,J.Mx)(Ae,this.cookieName),this.lastCookieString=Ae),this.lastToken}static#e=this.\u0275fac=function(we){return new(we||Re)(p.LFG(J.K0),p.LFG(p.Lbi),p.LFG(qe))};static#t=this.\u0275prov=p.Yz7({token:Re,factory:Re.\u0275fac})}return Re})();function Nr(Re,Ee){const Ae=Re.url.toLowerCase();if(!(0,p.f3M)(Pe)||"GET"===Re.method||"HEAD"===Re.method||Ae.startsWith("http://")||Ae.startsWith("https://"))return Ee(Re);const we=(0,p.f3M)(Hn).getToken(),Te=(0,p.f3M)(At);return null!=we&&!Re.headers.has(Te)&&(Re=Re.clone({headers:Re.headers.set(Te,we)})),Ee(Re)}var Rn=function(Re){return Re[Re.Interceptors=0]="Interceptors",Re[Re.LegacyInterceptors=1]="LegacyInterceptors",Re[Re.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Re[Re.NoXsrfProtection=3]="NoXsrfProtection",Re[Re.JsonpSupport=4]="JsonpSupport",Re[Re.RequestsMadeViaParent=5]="RequestsMadeViaParent",Re[Re.Fetch=6]="Fetch",Re}(Rn||{});function Ar(...Re){const Ee=[Se,Ct,wn,{provide:ae,useExisting:wn},{provide:ye,useExisting:Ct},{provide:Bn,useValue:Nr,multi:!0},{provide:Pe,useValue:!0},{provide:Hn,useClass:Qt}];for(const Ae of Re)Ee.push(...Ae.\u0275providers);return(0,p.MR2)(Ee)}const fi=new p.OlP("LEGACY_INTERCEPTOR_FN");function qr(){return function Ir(Re,Ee){return{\u0275kind:Re,\u0275providers:Ee}}(Rn.LegacyInterceptors,[{provide:fi,useFactory:Fn},{provide:Bn,useExisting:fi,multi:!0}])}let L=(()=>{class Re{static#e=this.\u0275fac=function(we){return new(we||Re)};static#t=this.\u0275mod=p.oAB({type:Re});static#n=this.\u0275inj=p.cJS({providers:[Ar(qr())]})}return Re})()},5879:(Mt,He,U)=>{U.d(He,{$8M:()=>Ko,$WT:()=>Ai,$Z:()=>Hf,AFp:()=>vf,AaK:()=>ye,BQk:()=>yp,CHM:()=>wa,CRH:()=>hT,EJc:()=>Ob,EiD:()=>Gs,EpF:()=>By,F$t:()=>NI,F4k:()=>Hy,FYo:()=>z_,FiY:()=>Ru,Gf:()=>cT,GfV:()=>Pf,GkF:()=>Eg,Gpc:()=>lt,HDt:()=>NT,Hsn:()=>LI,JOm:()=>Wa,JVY:()=>zu,JZr:()=>ut,KtG:()=>dd,L6k:()=>Nv,LAX:()=>Lv,LFG:()=>It,LSH:()=>iu,Lbi:()=>If,Lck:()=>yC,MAs:()=>PI,MMx:()=>k0,MR2:()=>pf,NdJ:()=>pu,O4$:()=>uo,Ojb:()=>F_,OlP:()=>qe,Oqu:()=>Lh,P3R:()=>Sl,PXZ:()=>lD,Q6J:()=>xl,QGY:()=>vp,QbO:()=>k_,Qsj:()=>eh,R0b:()=>Fs,RDi:()=>g_,Rgc:()=>jg,SBq:()=>Ju,Sil:()=>kb,Suo:()=>dT,TTD:()=>sn,TgZ:()=>Na,Tol:()=>Qo,VKq:()=>z0,VuI:()=>zD,WLB:()=>G0,X6Q:()=>gD,XFs:()=>en,Xpm:()=>Ei,Xq5:()=>xy,Xts:()=>Hd,Y36:()=>Yc,YKP:()=>N0,YNc:()=>Rh,Yjl:()=>cs,Yz7:()=>un,Z0I:()=>wn,ZZ4:()=>ME,_Bn:()=>O0,_UZ:()=>gp,_c5:()=>xD,_uU:()=>Mg,aQg:()=>xE,c2e:()=>OT,cJS:()=>ln,cg1:()=>JI,dDg:()=>iD,dqk:()=>Ct,eBb:()=>I_,eFA:()=>zT,eJc:()=>mE,ekj:()=>bp,eoX:()=>BT,evT:()=>Z_,f3M:()=>kt,g9A:()=>L_,h0i:()=>kh,hGG:()=>OD,hij:()=>Ap,iGM:()=>uT,ifc:()=>et,ip1:()=>xT,jDz:()=>F0,kEZ:()=>W0,kL8:()=>s0,lG2:()=>Mo,lqb:()=>Ja,lri:()=>VT,mCW:()=>Fd,n5z:()=>_d,oAB:()=>Ks,oxw:()=>Gy,pB0:()=>kv,q3G:()=>Ya,q4F:()=>th,qFp:()=>WD,qLn:()=>lu,qOj:()=>Dh,qZA:()=>mp,qzn:()=>Al,rWj:()=>UT,rg0:()=>Oe,sBO:()=>_D,s_b:()=>yv,soG:()=>Iv,tb:()=>bE,tp0:()=>Mu,uIk:()=>hg,vHH:()=>oe,vpe:()=>Xa,wAp:()=>Pp,xp6:()=>ly,ynx:()=>_p,z2F:()=>Op,z3N:()=>Za,zSh:()=>$d,zs3:()=>Zo});var p=U(8645),V=U(7394),b=U(5592),Ce=U(3019),$=U(5619),Y=U(2096),W=U(3020),ue=U(4664),de=U(3997);function J(t){for(let r in t)if(t[r]===J)return r;throw Error("Could not find renamed property on target object.")}function ae(t,r){for(const o in r)r.hasOwnProperty(o)&&!t.hasOwnProperty(o)&&(t[o]=r[o])}function ye(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(ye).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const r=t.toString();if(null==r)return""+r;const o=r.indexOf("\n");return-1===o?r:r.substring(0,o)}function je(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}const Ke=J({__forward_ref__:J});function lt(t){return t.__forward_ref__=lt,t.toString=function(){return ye(this())},t}function Xe(t){return rt(t)?t():t}function rt(t){return"function"==typeof t&&t.hasOwnProperty(Ke)&&t.__forward_ref__===lt}function it(t){return t&&!!t.\u0275providers}const ut="https://g.co/ng/security#xss";class oe extends Error{constructor(r,o){super(function Me(t,r){return`NG0${Math.abs(t)}${r?": "+r:""}`}(r,o)),this.code=r}}function pe(t){return"string"==typeof t?t:null==t?"":String(t)}function ge(t,r){throw new oe(-201,!1)}function Tt(t,r){null==t&&function ft(t,r,o,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${o} ${a} ${r} <=Actual]`))}(r,t,null,"!=")}function un(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ln(t){return{providers:t.providers||[],imports:t.imports||[]}}function Fn(t){return Wt(t,Pn)||Wt(t,Cr)}function wn(t){return null!==Fn(t)}function Wt(t,r){return t.hasOwnProperty(r)?t[r]:null}function cr(t){return t&&(t.hasOwnProperty(Kn)||t.hasOwnProperty(ir))?t[Kn]:null}const Pn=J({\u0275prov:J}),Kn=J({\u0275inj:J}),Cr=J({ngInjectableDef:J}),ir=J({ngInjectorDef:J});var en=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(en||{});let hn;function tr(t){const r=hn;return hn=t,r}function fr(t,r,o){const a=Fn(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:o&en.Optional?null:void 0!==r?r:void ge(ye(t))}const Ct=globalThis;class qe{constructor(r,o){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=un({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const qr={},Pr="__NG_DI_FLAG__",Ur="ngTempTokenPath",ne=/\n/gm,F="__source";let L;function Fe(t){const r=L;return L=t,r}function dt(t,r=en.Default){if(void 0===L)throw new oe(-203,!1);return null===L?fr(t,void 0,r):L.get(t,r&en.Optional?null:void 0,r)}function It(t,r=en.Default){return(function tn(){return hn}()||dt)(Xe(t),r)}function kt(t,r=en.Default){return It(t,Yt(r))}function Yt(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function jn(t){const r=[];for(let o=0;o<t.length;o++){const a=Xe(t[o]);if(Array.isArray(a)){if(0===a.length)throw new oe(900,!1);let u,d=en.Default;for(let g=0;g<a.length;g++){const w=a[g],P=Ee(w);"number"==typeof P?-1===P?u=w.token:d|=P:u=w}r.push(It(u,d))}else r.push(It(a))}return r}function Re(t,r){return t[Pr]=r,t.prototype[Pr]=r,t}function Ee(t){return t[Pr]}function Te(t){return{toString:t}.toString()}var Be=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Be||{}),et=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(et||{});const Ft={},ct=[],nn=J({\u0275cmp:J}),Gn=J({\u0275dir:J}),Mn=J({\u0275pipe:J}),sr=J({\u0275mod:J}),br=J({\u0275fac:J}),li=J({__NG_ELEMENT_ID__:J}),nr=J({__NG_ENV_ID__:J});function pr(t,r,o){let a=t.length;for(;;){const u=t.indexOf(r,o);if(-1===u)return u;if(0===u||t.charCodeAt(u-1)<=32){const d=r.length;if(u+d===a||t.charCodeAt(u+d)<=32)return u}o=u+1}}function ei(t,r,o){let a=0;for(;a<o.length;){const u=o[a];if("number"==typeof u){if(0!==u)break;a++;const d=o[a++],g=o[a++],w=o[a++];t.setAttribute(r,g,w,d)}else{const d=u,g=o[++a];Vn(d)?t.setProperty(r,d,g):t.setAttribute(r,d,g),a++}}return a}function us(t){return 3===t||4===t||6===t}function Vn(t){return 64===t.charCodeAt(0)}function vi(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else{let o=-1;for(let a=0;a<r.length;a++){const u=r[a];"number"==typeof u?o=u:0===o||ts(t,o,u,null,-1===o||2===o?r[++a]:null)}}return t}function ts(t,r,o,a,u){let d=0,g=t.length;if(-1===r)g=-1;else for(;d<t.length;){const w=t[d++];if("number"==typeof w){if(w===r){g=-1;break}if(w>r){g=d-1;break}}}for(;d<t.length;){const w=t[d];if("number"==typeof w)break;if(w===o){if(null===a)return void(null!==u&&(t[d+1]=u));if(a===t[d+1])return void(t[d+2]=u)}d++,null!==a&&d++,null!==u&&d++}-1!==g&&(t.splice(g,0,r),d=g+1),t.splice(d++,0,o),null!==a&&t.splice(d++,0,a),null!==u&&t.splice(d++,0,u)}const Dr="ng-template";function Es(t,r,o){let a=0,u=!0;for(;a<t.length;){let d=t[a++];if("string"==typeof d&&u){const g=t[a++];if(o&&"class"===d&&-1!==pr(g.toLowerCase(),r,0))return!0}else{if(1===d){for(;a<t.length&&"string"==typeof(d=t[a++]);)if(d.toLowerCase()===r)return!0;return!1}"number"==typeof d&&(u=!1)}}return!1}function go(t){return 4===t.type&&t.value!==Dr}function _a(t,r,o){return r===(4!==t.type||o?t.value:Dr)}function qs(t,r,o){let a=4;const u=t.attrs||[],d=function ns(t){for(let r=0;r<t.length;r++)if(us(t[r]))return r;return t.length}(u);let g=!1;for(let w=0;w<r.length;w++){const P=r[w];if("number"!=typeof P){if(!g)if(4&a){if(a=2|1&a,""!==P&&!_a(t,P,o)||""===P&&1===r.length){if(ii(a))return!1;g=!0}}else{const H=8&a?P:r[++w];if(8&a&&null!==t.attrs){if(!Es(t.attrs,H,o)){if(ii(a))return!1;g=!0}continue}const _e=Vs(8&a?"class":P,u,go(t),o);if(-1===_e){if(ii(a))return!1;g=!0;continue}if(""!==H){let Ue;Ue=_e>d?"":u[_e+1].toLowerCase();const ze=8&a?Ue:null;if(ze&&-1!==pr(ze,H,0)||2&a&&H!==Ue){if(ii(a))return!1;g=!0}}}}else{if(!g&&!ii(a)&&!ii(P))return!1;if(g&&ii(P))continue;g=!1,a=P|1&a}}return ii(a)||g}function ii(t){return 0==(1&t)}function Vs(t,r,o,a){if(null===r)return-1;let u=0;if(a||!o){let d=!1;for(;u<r.length;){const g=r[u];if(g===t)return u;if(3===g||6===g)d=!0;else{if(1===g||2===g){let w=r[++u];for(;"string"==typeof w;)w=r[++u];continue}if(4===g)break;if(0===g){u+=4;continue}}u+=d?1:2}return-1}return function zi(t,r){let o=t.indexOf(4);if(o>-1)for(o++;o<t.length;){const a=t[o];if("number"==typeof a)return-1;if(a===r)return o;o++}return-1}(r,t)}function pi(t,r,o=!1){for(let a=0;a<r.length;a++)if(qs(t,r[a],o))return!0;return!1}function Gi(t,r){e:for(let o=0;o<r.length;o++){const a=r[o];if(t.length===a.length){for(let u=0;u<t.length;u++)if(t[u]!==a[u])continue e;return!0}}return!1}function Ii(t,r){return t?":not("+r.trim()+")":r}function Po(t){let r=t[0],o=1,a=2,u="",d=!1;for(;o<t.length;){let g=t[o];if("string"==typeof g)if(2&a){const w=t[++o];u+="["+g+(w.length>0?'="'+w+'"':"")+"]"}else 8&a?u+="."+g:4&a&&(u+=" "+g);else""!==u&&!ii(g)&&(r+=Ii(d,u),u=""),a=g,d=d||!ii(a);o++}return""!==u&&(r+=Ii(d,u)),r}function Ei(t){return Te(()=>{const r=Zs(t),o={...r,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Be.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||et.Emulated,styles:t.styles||ct,_:null,schemas:t.schemas||null,tView:null,id:""};vo(o);const a=t.dependencies;return o.directiveDefs=ds(a,!1),o.pipeDefs=ds(a,!0),o.id=function Pi(t){let r=0;const o=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const u of o)r=Math.imul(31,r)+u.charCodeAt(0)<<0;return r+=2147483648,"c"+r}(o),o})}function Rs(t){return xn(t)||Rr(t)}function Ro(t){return null!==t}function Ks(t){return Te(()=>({type:t.type,bootstrap:t.bootstrap||ct,declarations:t.declarations||ct,imports:t.imports||ct,exports:t.exports||ct,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Ts(t,r){if(null==t)return Ft;const o={};for(const a in t)if(t.hasOwnProperty(a)){let u=t[a],d=u;Array.isArray(u)&&(d=u[1],u=u[0]),o[u]=a,r&&(r[u]=d)}return o}function Mo(t){return Te(()=>{const r=Zs(t);return vo(r),r})}function cs(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function xn(t){return t[nn]||null}function Rr(t){return t[Gn]||null}function ti(t){return t[Mn]||null}function Ai(t){const r=xn(t)||Rr(t)||ti(t);return null!==r&&r.standalone}function Br(t,r){const o=t[sr]||null;if(!o&&!0===r)throw new Error(`Type ${ye(t)} does not have '\u0275mod' property.`);return o}function Zs(t){const r={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputTransforms:null,inputConfig:t.inputs||Ft,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||ct,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ts(t.inputs,r),outputs:Ts(t.outputs)}}function vo(t){t.features?.forEach(r=>r(t))}function ds(t,r){if(!t)return null;const o=r?ti:Rs;return()=>("function"==typeof t?t():t).map(a=>o(a)).filter(Ro)}const Mr=0,Ot=1,Sn=2,$n=3,si=4,hs=5,Hr=6,Wi=7,rr=8,qi=9,ws=10,yn=11,Ti=12,Fi=13,rs=14,Er=15,Kr=16,Ki=17,ci=18,Qs=19,or=20,Vi=21,jr=22,is=23,Ys=24,Ln=25,xo=1,Oo=2,mi=7,wi=9,$r=11;function Lr(t){return Array.isArray(t)&&"object"==typeof t[xo]}function ar(t){return Array.isArray(t)&&!0===t[xo]}function Io(t){return 0!=(4&t.flags)}function Zi(t){return t.componentOffset>-1}function Xs(t){return 1==(1&t.flags)}function Ui(t){return!!t.template}function eo(t){return 0!=(512&t[Sn])}function os(t,r){return t.hasOwnProperty(br)?t[br]:null}let kr=null,Hs=!1;function as(t){const r=kr;return kr=t,r}const ta={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function io(t){if(!xs(t)||t.dirty){if(!t.producerMustRecompute(t)&&!Ia(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function ps(t){t.dirty=!0,function js(t){if(void 0===t.liveConsumerNode)return;const r=Hs;Hs=!0;try{for(const o of t.liveConsumerNode)o.dirty||ps(o)}finally{Hs=r}}(t),t.consumerMarkedDirty?.(t)}function oo(t){return t&&(t.nextProducerIndex=0),as(t)}function ko(t,r){if(as(r),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(xs(t))for(let o=t.nextProducerIndex;o<t.producerNode.length;o++)Ea(t.producerNode[o],t.producerIndexOfThis[o]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Ia(t){$s(t);for(let r=0;r<t.producerNode.length;r++){const o=t.producerNode[r],a=t.producerLastReadVersion[r];if(a!==o.version||(io(o),a!==o.version))return!0}return!1}function al(t){if($s(t),xs(t))for(let r=0;r<t.producerNode.length;r++)Ea(t.producerNode[r],t.producerIndexOfThis[r]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Ea(t,r){if(function Fo(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),$s(t),1===t.liveConsumerNode.length)for(let a=0;a<t.producerNode.length;a++)Ea(t.producerNode[a],t.producerIndexOfThis[a]);const o=t.liveConsumerNode.length-1;if(t.liveConsumerNode[r]=t.liveConsumerNode[o],t.liveConsumerIndexOfThis[r]=t.liveConsumerIndexOfThis[o],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,r<t.liveConsumerNode.length){const a=t.liveConsumerIndexOfThis[r],u=t.liveConsumerNode[r];$s(u),u.producerIndexOfThis[a]=r}}function xs(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function $s(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let ra=null;function Oe(t){const r=as(null);try{return t()}finally{as(r)}}const gt=()=>{},Nt=(()=>({...ta,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:gt}))();class an{constructor(r,o,a){this.previousValue=r,this.currentValue=o,this.firstChange=a}isFirstChange(){return this.firstChange}}function sn(){return Un}function Un(t){return t.type.prototype.ngOnChanges&&(t.setInput=pn),bn}function bn(){const t=Zr(this),r=t?.current;if(r){const o=t.previous;if(o===Ft)t.previous=r;else for(let a in r)o[a]=r[a];t.current=null,this.ngOnChanges(r)}}function pn(t,r,o,a){const u=this.declaredInputs[o],d=Zr(t)||function Qr(t,r){return t[lr]=r}(t,{previous:Ft,current:null}),g=d.current||(d.current={}),w=d.previous,P=w[u];g[u]=new an(P&&P.currentValue,r,w===Ft),t[a]=r}sn.ngInherit=!0;const lr="__ngSimpleChanges__";function Zr(t){return t[lr]||null}const Vr=function(t,r,o){},Hi="svg";function Tr(t){for(;Array.isArray(t);)t=t[Mr];return t}function ia(t,r){return Tr(r[t])}function qt(t,r){return Tr(r[t.index])}function On(t,r){return t.data[r]}function Wn(t,r){const o=r[t];return Lr(o)?o:o[Mr]}function In(t,r){return null==r?null:t[r]}function lo(t){t[Ki]=0}function To(t){1024&t[Sn]||(t[Sn]|=1024,qo(t,1))}function oi(t){1024&t[Sn]&&(t[Sn]&=-1025,qo(t,-1))}function qo(t,r){let o=t[$n];if(null===o)return;o[hs]+=r;let a=o;for(o=o[$n];null!==o&&(1===r&&1===a[hs]||-1===r&&0===a[hs]);)o[hs]+=r,a=o,o=o[$n]}const rn={lFrame:te(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function ot(){return rn.bindingsEnabled}function _t(){return null!==rn.skipHydrationRootTNode}function yt(){return rn.lFrame.lView}function dr(){return rn.lFrame.tView}function wa(t){return rn.lFrame.contextLView=t,t[rr]}function dd(t){return rn.lFrame.contextLView=null,t}function gr(){let t=hd();for(;null!==t&&64===t.type;)t=t.parent;return t}function hd(){return rn.lFrame.currentTNode}function Tn(t,r){const o=rn.lFrame;o.currentTNode=t,o.isParent=r}function wo(){return rn.lFrame.isParent}function Ul(){rn.lFrame.isParent=!1}function Dn(){const t=rn.lFrame;let r=t.bindingRootIndex;return-1===r&&(r=t.bindingRootIndex=t.tView.bindingStartIndex),r}function Ut(){return rn.lFrame.bindingIndex++}function As(t){const r=rn.lFrame,o=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,o}function yc(t,r){const o=rn.lFrame;o.bindingIndex=o.bindingRootIndex=t,Bl(r)}function Bl(t){rn.lFrame.currentDirectiveIndex=t}function vc(){return rn.lFrame.currentQueryIndex}function T(t){rn.lFrame.currentQueryIndex=t}function S(t){const r=t[Ot];return 2===r.type?r.declTNode:1===r.type?t[Hr]:null}function v(t,r,o){if(o&en.SkipSelf){let u=r,d=t;for(;!(u=u.parent,null!==u||o&en.Host||(u=S(d),null===u||(d=d[rs],10&u.type))););if(null===u)return!1;r=u,t=d}const a=rn.lFrame=B();return a.currentTNode=r,a.lView=t,!0}function R(t){const r=B(),o=t[Ot];rn.lFrame=r,r.currentTNode=o.firstChild,r.lView=t,r.tView=o,r.contextLView=t,r.bindingIndex=o.bindingStartIndex,r.inI18n=!1}function B(){const t=rn.lFrame,r=null===t?null:t.child;return null===r?te(t):r}function te(t){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function Ie(){const t=rn.lFrame;return rn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const ce=Ie;function Qe(){const t=Ie();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function zn(){return rn.lFrame.selectedIndex}function kn(t){rn.lFrame.selectedIndex=t}function Sr(){const t=rn.lFrame;return On(t.tView,t.selectedIndex)}function uo(){rn.lFrame.currentNamespace=Hi}let co=!0;function Ua(){return co}function ho(t){co=t}function ji(t,r){for(let o=r.directiveStart,a=r.directiveEnd;o<a;o++){const d=t.data[o].type.prototype,{ngAfterContentInit:g,ngAfterContentChecked:w,ngAfterViewInit:P,ngAfterViewChecked:H,ngOnDestroy:ee}=d;g&&(t.contentHooks??=[]).push(-o,g),w&&((t.contentHooks??=[]).push(o,w),(t.contentCheckHooks??=[]).push(o,w)),P&&(t.viewHooks??=[]).push(-o,P),H&&((t.viewHooks??=[]).push(o,H),(t.viewCheckHooks??=[]).push(o,H)),null!=ee&&(t.destroyHooks??=[]).push(o,ee)}}function Ec(t,r,o){yu(t,r,3,o)}function hl(t,r,o,a){(3&t[Sn])===o&&yu(t,r,o,a)}function Ho(t,r){let o=t[Sn];(3&o)===r&&(o&=8191,o+=1,t[Sn]=o)}function yu(t,r,o,a){const d=a??-1,g=r.length-1;let w=0;for(let P=void 0!==a?65535&t[Ki]:0;P<g;P++)if("number"==typeof r[P+1]){if(w=r[P],null!=a&&w>=a)break}else r[P]<0&&(t[Ki]+=65536),(w<d||-1==d)&&(Tc(t,o,r,P),t[Ki]=(4294901760&t[Ki])+P+2),P++}function Ba(t,r){Vr(4,t,r);const o=as(null);try{r.call(t)}finally{as(o),Vr(5,t,r)}}function Tc(t,r,o,a){const u=o[a]<0,d=o[a+1],w=t[u?-o[a]:o[a]];u?t[Sn]>>13<t[Ki]>>16&&(3&t[Sn])===r&&(t[Sn]+=8192,Ba(w,d)):Ba(w,d)}const Hl=-1;class fl{constructor(r,o,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=a}}function fd(t){return t!==Hl}function Iu(t){return 32767&t}function Eu(t,r){let o=function pd(t){return t>>16}(t),a=r;for(;o>0;)a=a[rs],o--;return a}let Tu=!0;function wu(t){const r=Tu;return Tu=t,r}const Cu=255,md=5;let bu=0;const jo={};function pl(t,r){const o=Du(t,r);if(-1!==o)return o;const a=r[Ot];a.firstCreatePass&&(t.injectorIndex=r.length,$o(a.data,t),$o(r,null),$o(a.blueprint,null));const u=Yr(t,r),d=t.injectorIndex;if(fd(u)){const g=Iu(u),w=Eu(u,r),P=w[Ot].data;for(let H=0;H<8;H++)r[d+H]=w[g+H]|P[g+H]}return r[d+8]=u,d}function $o(t,r){t.push(0,0,0,0,0,0,0,0,r)}function Du(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function Yr(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let o=0,a=null,u=r;for(;null!==u;){if(a=zl(u),null===a)return Hl;if(o++,u=u[rs],-1!==a.injectorIndex)return a.injectorIndex|o<<16}return Hl}function ml(t,r,o){!function ms(t,r,o){let a;"string"==typeof o?a=o.charCodeAt(0)||0:o.hasOwnProperty(li)&&(a=o[li]),null==a&&(a=o[li]=bu++);const u=a&Cu;r.data[t+(u>>md)]|=1<<u}(t,r,o)}function Gr(t,r,o){if(o&en.Optional||void 0!==t)return t;ge()}function gd(t,r,o,a){if(o&en.Optional&&void 0===a&&(a=null),!(o&(en.Self|en.Host))){const u=t[qi],d=tr(void 0);try{return u?u.get(r,a,o&en.Optional):fr(r,a,o&en.Optional)}finally{tr(d)}}return Gr(a,0,o)}function gl(t,r,o,a=en.Default,u){if(null!==t){if(2048&r[Sn]&&!(a&en.Self)){const g=function Ha(t,r,o,a,u){let d=t,g=r;for(;null!==d&&null!==g&&2048&g[Sn]&&!(512&g[Sn]);){const w=Ss(d,g,o,a|en.Self,jo);if(w!==jo)return w;let P=d.parent;if(!P){const H=g[or];if(H){const ee=H.get(o,jo,a);if(ee!==jo)return ee}P=zl(g),g=g[rs]}d=P}return u}(t,r,o,a,jo);if(g!==jo)return g}const d=Ss(t,r,o,a,jo);if(d!==jo)return d}return gd(r,o,a,u)}function Ss(t,r,o,a,u){const d=function Up(t){if("string"==typeof t)return t.charCodeAt(0)||0;const r=t.hasOwnProperty(li)?t[li]:void 0;return"number"==typeof r?r>=0?r&Cu:_l:r}(o);if("function"==typeof d){if(!v(r,t,a))return a&en.Host?Gr(u,0,a):gd(r,o,a,u);try{let g;if(g=d(a),null!=g||a&en.Optional)return g;ge()}finally{ce()}}else if("number"==typeof d){let g=null,w=Du(t,r),P=Hl,H=a&en.Host?r[Er][Hr]:null;for((-1===w||a&en.SkipSelf)&&(P=-1===w?Yr(t,r):r[w+8],P!==Hl&&di(a,!1)?(g=r[Ot],w=Iu(P),r=Eu(P,r)):w=-1);-1!==w;){const ee=r[Ot];if(ba(d,w,ee.data)){const _e=jh(w,r,o,g,a,H);if(_e!==jo)return _e}P=r[w+8],P!==Hl&&di(a,r[Ot].data[w+8]===H)&&ba(d,w,r)?(g=ee,w=Iu(P),r=Eu(P,r)):w=-1}}return u}function jh(t,r,o,a,u,d){const g=r[Ot],w=g.data[t+8],ee=wc(w,g,o,null==a?Zi(w)&&Tu:a!=g&&0!=(3&w.type),u&en.Host&&d===w);return null!==ee?ni(r,g,ee,w):jo}function wc(t,r,o,a,u){const d=t.providerIndexes,g=r.data,w=1048575&d,P=t.directiveStart,ee=d>>20,Ue=u?w+ee:t.directiveEnd;for(let ze=a?w:w+ee;ze<Ue;ze++){const ht=g[ze];if(ze<P&&o===ht||ze>=P&&ht.type===o)return ze}if(u){const ze=g[P];if(ze&&Ui(ze)&&ze.type===o)return P}return null}function ni(t,r,o,a){let u=t[o];const d=r.data;if(function Lp(t){return t instanceof fl}(u)){const g=u;g.resolving&&function be(t,r){const o=r?`. Dependency path: ${r.join(" > ")} > ${t}`:"";throw new oe(-200,`Circular dependency in DI detected for ${t}${o}`)}(function me(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():pe(t)}(d[o]));const w=wu(g.canSeeViewProviders);g.resolving=!0;const H=g.injectImpl?tr(g.injectImpl):null;v(t,a,en.Default);try{u=t[o]=g.factory(void 0,d,t,a),r.firstCreatePass&&o>=a.directiveStart&&function Uh(t,r,o){const{ngOnChanges:a,ngOnInit:u,ngDoCheck:d}=r.type.prototype;if(a){const g=Un(r);(o.preOrderHooks??=[]).push(t,g),(o.preOrderCheckHooks??=[]).push(t,g)}u&&(o.preOrderHooks??=[]).push(0-t,u),d&&((o.preOrderHooks??=[]).push(t,d),(o.preOrderCheckHooks??=[]).push(t,d))}(o,d[o],r)}finally{null!==H&&tr(H),wu(w),g.resolving=!1,ce()}}return u}function ba(t,r,o){return!!(o[r+(t>>md)]&1<<t)}function di(t,r){return!(t&en.Self||t&en.Host&&r)}class Qi{constructor(r,o){this._tNode=r,this._lView=o}get(r,o,a){return gl(this._tNode,this._lView,r,Yt(a),o)}}function _l(){return new Qi(gr(),yt())}function _d(t){return Te(()=>{const r=t.prototype.constructor,o=r[br]||zo(r),a=Object.prototype;let u=Object.getPrototypeOf(t.prototype).constructor;for(;u&&u!==a;){const d=u[br]||zo(u);if(d&&d!==o)return d;u=Object.getPrototypeOf(u)}return d=>new d})}function zo(t){return rt(t)?()=>{const r=zo(Xe(t));return r&&r()}:os(t)}function zl(t){const r=t[Ot],o=r.type;return 2===o?r.declTNode:1===o?t[Hr]:null}function Ko(t){return function gs(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;const o=t.attrs;if(o){const a=o.length;let u=0;for(;u<a;){const d=o[u];if(us(d))break;if(0===d)u+=2;else if("number"==typeof d)for(u++;u<a&&"string"==typeof o[u];)u++;else{if(d===r)return o[u+1];u+=2}}}return null}(gr(),t)}const la="__parameters__";function $a(t,r,o){return Te(()=>{const a=function ja(t){return function(...o){if(t){const a=t(...o);for(const u in a)this[u]=a[u]}}}(r);function u(...d){if(this instanceof u)return a.apply(this,d),this;const g=new u(...d);return w.annotation=g,w;function w(P,H,ee){const _e=P.hasOwnProperty(la)?P[la]:Object.defineProperty(P,la,{value:[]})[la];for(;_e.length<=ee;)_e.push(null);return(_e[ee]=_e[ee]||[]).push(g),P}}return o&&(u.prototype=Object.create(o.prototype)),u.prototype.ngMetadataName=t,u.annotationCls=u,u})}function bo(t,r){t.forEach(o=>Array.isArray(o)?bo(o,r):r(o))}function vd(t,r,o){r>=t.length?t.push(o):t.splice(r,0,o)}function Su(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function Aa(t,r){const o=[];for(let a=0;a<t;a++)o.push(r);return o}function _s(t,r,o){let a=za(t,r);return a>=0?t[1|a]=o:(a=~a,function _r(t,r,o,a){let u=t.length;if(u==r)t.push(o,a);else if(1===u)t.push(a,t[0]),t[0]=o;else{for(u--,t.push(t[u-1],t[u]);u>r;)t[u]=t[u-2],u--;t[r]=o,t[r+1]=a}}(t,a,r,o)),a}function Pu(t,r){const o=za(t,r);if(o>=0)return t[1|o]}function za(t,r){return function Wl(t,r,o){let a=0,u=t.length>>o;for(;u!==a;){const d=a+(u-a>>1),g=t[d<<o];if(r===g)return d<<o;g>r?u=d:a=d+1}return~(u<<o)}(t,r,1)}const Ru=Re($a("Optional"),8),Mu=Re($a("SkipSelf"),4);function Cd(t){return 128==(128&t.flags)}var Wa=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Wa||{});const Zg=/^>|^->|<!--|-->|--!>|<!-$/g,Lu=/(<|>)/g,Qg="\u200b$1\u200b";const tf=new Map;let Yg=0;const Fu="__ngContext__";function mo(t,r){Lr(r)?(t[Fu]=r[Qs],function Dv(t){tf.set(t[Qs],t)}(r)):t[Fu]=r}let Xp;function em(t,r){return Xp(t,r)}function yr(t){const r=t[$n];return ar(r)?r[$n]:r}function Dd(t){return i_(t[Ti])}function tm(t){return i_(t[si])}function i_(t){for(;null!==t&&!ar(t);)t=t[si];return t}function Bu(t,r,o,a,u){if(null!=a){let d,g=!1;ar(a)?d=a:Lr(a)&&(g=!0,a=a[Mr]);const w=Tr(a);0===t&&null!==o?null==u?l_(r,o,w):Yl(r,o,w,u||null,!0):1===t&&null!==o?Yl(r,o,w,u||null,!0):2===t?function Jl(t,r,o){const a=Md(t,r);a&&function sm(t,r,o,a){t.removeChild(r,o,a)}(t,a,r,o)}(r,w,g):3===t&&r.destroyNode(w),null!=d&&function Rv(t,r,o,a,u){const d=o[mi];d!==Tr(o)&&Bu(r,t,a,d,u);for(let w=$r;w<o.length;w++){const P=o[w];Lc(P[Ot],P,t,r,a,d)}}(r,t,d,o,u)}}function Hu(t,r){return t.createComment(function ku(t){return t.replace(Zg,r=>r.replace(Lu,Qg))}(r))}function Ql(t,r,o){return t.createElement(r,o)}function nm(t,r){const o=t[wi],a=o.indexOf(r);oi(r),o.splice(a,1)}function Pd(t,r){if(t.length<=$r)return;const o=$r+r,a=t[o];if(a){const u=a[Kr];null!==u&&u!==t&&nm(u,a),r>0&&(t[o-1][si]=a[si]);const d=Su(t,$r+r);!function Sd(t,r){Lc(t,r,r[yn],2,null,null),r[Mr]=null,r[Hr]=null}(a[Ot],a);const g=d[ci];null!==g&&g.detachView(d[Ot]),a[$n]=null,a[si]=null,a[Sn]&=-129}return a}function rm(t,r){if(!(256&r[Sn])){const o=r[yn];r[is]&&al(r[is]),r[Ys]&&al(r[Ys]),o.destroyNode&&Lc(t,r,o,3,null,null),function o_(t){let r=t[Ti];if(!r)return im(t[Ot],t);for(;r;){let o=null;if(Lr(r))o=r[Ti];else{const a=r[$r];a&&(o=a)}if(!o){for(;r&&!r[si]&&r!==t;)Lr(r)&&im(r[Ot],r),r=r[$n];null===r&&(r=t),Lr(r)&&im(r[Ot],r),o=r&&r[si]}r=o}}(r)}}function im(t,r){if(!(256&r[Sn])){r[Sn]&=-129,r[Sn]|=256,function Pv(t,r){let o;if(null!=t&&null!=(o=t.destroyHooks))for(let a=0;a<o.length;a+=2){const u=r[o[a]];if(!(u instanceof fl)){const d=o[a+1];if(Array.isArray(d))for(let g=0;g<d.length;g+=2){const w=u[d[g]],P=d[g+1];Vr(4,w,P);try{P.call(w)}finally{Vr(5,w,P)}}else{Vr(4,u,d);try{d.call(u)}finally{Vr(5,u,d)}}}}}(t,r),function Sv(t,r){const o=t.cleanup,a=r[Wi];if(null!==o)for(let d=0;d<o.length-1;d+=2)if("string"==typeof o[d]){const g=o[d+3];g>=0?a[g]():a[-g].unsubscribe(),d+=2}else o[d].call(a[o[d+1]]);null!==a&&(r[Wi]=null);const u=r[Vi];if(null!==u){r[Vi]=null;for(let d=0;d<u.length;d++)(0,u[d])()}}(t,r),1===r[Ot].type&&r[yn].destroy();const o=r[Kr];if(null!==o&&ar(r[$n])){o!==r[$n]&&nm(o,r);const a=r[ci];null!==a&&a.detachView(t)}!function Ni(t){tf.delete(t[Qs])}(r)}}function Rd(t,r,o){return function ju(t,r,o){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return o[Mr];{const{componentOffset:u}=a;if(u>-1){const{encapsulation:d}=t.data[a.directiveStart+u];if(d===et.None||d===et.Emulated)return null}return qt(a,o)}}(t,r.parent,o)}function Yl(t,r,o,a,u){t.insertBefore(r,o,a,u)}function l_(t,r,o){t.appendChild(r,o)}function Ji(t,r,o,a,u){null!==a?Yl(t,r,o,a,u):l_(t,r,o)}function Md(t,r){return t.parentNode(r)}function Sa(t,r,o){return am(t,r,o)}let Od,Pa,fm,Ka,am=function om(t,r,o){return 40&t.type?qt(t,o):null};function Nd(t,r,o,a){const u=Rd(t,a,r),d=r[yn],w=Sa(a.parent||r[Hr],a,r);if(null!=u)if(Array.isArray(o))for(let P=0;P<o.length;P++)Ji(d,u,o[P],w,!1);else Ji(d,u,o,w,!1);void 0!==Od&&Od(d,a,r,o,u)}function Nc(t,r){if(null!==r){const o=r.type;if(3&o)return qt(r,t);if(4&o)return um(-1,t[r.index]);if(8&o){const a=r.child;if(null!==a)return Nc(t,a);{const u=t[r.index];return ar(u)?um(-1,u):Tr(u)}}if(32&o)return em(r,t)()||Tr(t[r.index]);{const a=c_(t,r);return null!==a?Array.isArray(a)?a[0]:Nc(yr(t[Er]),a):Nc(t,r.next)}}return null}function c_(t,r){return null!==r?t[Er][Hr].projection[r.projection]:null}function um(t,r){const o=$r+t+1;if(o<r.length){const a=r[o],u=a[Ot].firstChild;if(null!==u)return Nc(a,u)}return r[mi]}function cm(t,r,o,a,u,d,g){for(;null!=o;){const w=a[o.index],P=o.type;if(g&&0===r&&(w&&mo(Tr(w),a),o.flags|=2),32!=(32&o.flags))if(8&P)cm(t,r,o.child,a,u,d,!1),Bu(r,t,u,w,d);else if(32&P){const H=em(o,a);let ee;for(;ee=H();)Bu(r,t,u,ee,d);Bu(r,t,u,w,d)}else 16&P?hm(t,r,a,o,u,d):Bu(r,t,u,w,d);o=g?o.projectionNext:o.next}}function Lc(t,r,o,a,u,d){cm(o,a,t.firstChild,r,u,d,!1)}function hm(t,r,o,a,u,d){const g=o[Er],P=g[Hr].projection[a.projection];if(Array.isArray(P))for(let H=0;H<P.length;H++)Bu(r,t,u,P[H],d);else{let H=P;const ee=g[$n];Cd(a)&&(H.flags|=128),cm(t,r,H,ee,u,d,!0)}}function h_(t,r,o){""===o?t.removeAttribute(r,"class"):t.setAttribute(r,"class",o)}function f_(t,r,o){const{mergedAttrs:a,classes:u,styles:d}=o;null!==a&&ei(t,r,a),null!==u&&h_(t,r,u),null!==d&&function Mv(t,r,o){t.setAttribute(r,"style",o)}(t,r,d)}function $u(t){return function Xl(){if(void 0===Pa&&(Pa=null,Ct.trustedTypes))try{Pa=Ct.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Pa}()?.createHTML(t)||t}function g_(t){fm=t}function pm(t){return function bl(){if(void 0===Ka&&(Ka=null,Ct.trustedTypes))try{Ka=Ct.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Ka}()?.createScriptURL(t)||t}class Dl{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ut})`}}class mm extends Dl{getTypeName(){return"HTML"}}class __ extends Dl{getTypeName(){return"Style"}}class y_ extends Dl{getTypeName(){return"Script"}}class Ov extends Dl{getTypeName(){return"URL"}}class v_ extends Dl{getTypeName(){return"ResourceURL"}}function Za(t){return t instanceof Dl?t.changingThisBreaksApplicationSecurity:t}function Al(t,r){const o=function Ld(t){return t instanceof Dl&&t.getTypeName()||null}(t);if(null!=o&&o!==r){if("ResourceURL"===o&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${o} (see ${ut})`)}return o===r}function zu(t){return new mm(t)}function Nv(t){return new __(t)}function I_(t){return new y_(t)}function Lv(t){return new Ov(t)}function kv(t){return new v_(t)}class kd{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const o=(new window.DOMParser).parseFromString($u(r),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(r):(o.removeChild(o.firstChild),o)}catch{return null}}}class Gu{constructor(r){this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(r){const o=this.inertDocument.createElement("template");return o.innerHTML=$u(r),o}}const T_=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Fd(t){return(t=String(t)).match(T_)?t:"unsafe:"+t}function Qa(t){const r={};for(const o of t.split(","))r[o]=!0;return r}function Vd(...t){const r={};for(const o of t)for(const a in o)o.hasOwnProperty(a)&&(r[a]=!0);return r}const cf=Qa("area,br,col,hr,img,wbr"),df=Qa("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),gm=Qa("rp,rt"),Fc=Vd(cf,Vd(df,Qa("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Vd(gm,Qa("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Vd(gm,df)),_m=Qa("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),D_=Vd(_m,Qa("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Qa("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),A_=Qa("script,style,template");class Vc{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let o=r.firstChild,a=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?a=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,a&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let u=this.checkClobberedElement(o,o.nextSibling);if(u){o=u;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(r){const o=r.nodeName.toLowerCase();if(!Fc.hasOwnProperty(o))return this.sanitizedSomething=!0,!A_.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const a=r.attributes;for(let u=0;u<a.length;u++){const d=a.item(u),g=d.name,w=g.toLowerCase();if(!D_.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let P=d.value;_m[w]&&(P=Fd(P)),this.buf.push(" ",g,'="',vm(P),'"')}return this.buf.push(">"),!0}endElement(r){const o=r.nodeName.toLowerCase();Fc.hasOwnProperty(o)&&!cf.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(r){this.buf.push(vm(r))}checkClobberedElement(r,o){if(o&&(r.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return o}}const Ud=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Uc=/([^\#-~ |!])/g;function vm(t){return t.replace(/&/g,"&amp;").replace(Ud,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(Uc,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Bd;function Gs(t,r){let o=null;try{Bd=Bd||function E_(t){const r=new Gu(t);return function nu(){try{return!!(new window.DOMParser).parseFromString($u(""),"text/html")}catch{return!1}}()?new kd(r):r}(t);let a=r?String(r):"";o=Bd.getInertBodyElement(a);let u=5,d=a;do{if(0===u)throw new Error("Failed to sanitize html because the input is unstable");u--,a=d,d=o.innerHTML,o=Bd.getInertBodyElement(a)}while(a!==d);return $u((new Vc).sanitizeChildren(hf(o)||o))}finally{if(o){const a=hf(o)||o;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function hf(t){return"content"in t&&function ff(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Ya=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Ya||{});function iu(t){const r=Hc();return r?r.sanitize(Ya.URL,t)||"":Al(t,"URL")?Za(t):Fd(pe(t))}function Im(t){const r=Hc();if(r)return pm(r.sanitize(Ya.RESOURCE_URL,t)||"");if(Al(t,"ResourceURL"))return pm(Za(t));throw new oe(904,!1)}function Sl(t,r,o){return function P_(t,r){return"src"===r&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===r&&("base"===t||"link"===t)?Im:iu}(r,o)(t)}function Hc(){const t=yt();return t&&t[ws].sanitizer}const Hd=new qe("ENVIRONMENT_INITIALIZER"),Em=new qe("INJECTOR",-1),R_=new qe("INJECTOR_DEF_TYPES");class jc{get(r,o=qr){if(o===qr){const a=new Error(`NullInjectorError: No provider for ${ye(r)}!`);throw a.name="NullInjectorError",a}return o}}function pf(t){return{\u0275providers:t}}function Bv(...t){return{\u0275providers:Tm(0,t),\u0275fromNgModule:!0}}function Tm(t,...r){const o=[],a=new Set;let u;const d=g=>{o.push(g)};return bo(r,g=>{const w=g;jd(w,d,[],a)&&(u||=[],u.push(w))}),void 0!==u&&M_(u,d),o}function M_(t,r){for(let o=0;o<t.length;o++){const{ngModule:a,providers:u}=t[o];qu(u,d=>{r(d,a)})}}function jd(t,r,o,a){if(!(t=Xe(t)))return!1;let u=null,d=cr(t);const g=!d&&xn(t);if(d||g){if(g&&!g.standalone)return!1;u=t}else{const P=t.ngModule;if(d=cr(P),!d)return!1;u=P}const w=a.has(u);if(g){if(w)return!1;if(a.add(u),g.dependencies){const P="function"==typeof g.dependencies?g.dependencies():g.dependencies;for(const H of P)jd(H,r,o,a)}}else{if(!d)return!1;{if(null!=d.imports&&!w){let H;a.add(u);try{bo(d.imports,ee=>{jd(ee,r,o,a)&&(H||=[],H.push(ee))})}finally{}void 0!==H&&M_(H,r)}if(!w){const H=os(u)||(()=>new u);r({provide:u,useFactory:H,deps:ct},u),r({provide:R_,useValue:u,multi:!0},u),r({provide:Hd,useValue:()=>It(u),multi:!0},u)}const P=d.providers;if(null!=P&&!w){const H=t;qu(P,ee=>{r(ee,H)})}}}return u!==t&&void 0!==t.providers}function qu(t,r){for(let o of t)it(o)&&(o=o.\u0275providers),Array.isArray(o)?qu(o,r):r(o)}const x_=J({provide:String,useValue:J});function mf(t){return null!==t&&"object"==typeof t&&x_ in t}function Ku(t){return"function"==typeof t}const $d=new qe("Set Injector scope."),ls={},jv={};let Cm;function gf(){return void 0===Cm&&(Cm=new jc),Cm}class Ja{}class su extends Ja{get destroyed(){return this._destroyed}constructor(r,o,a,u){super(),this.parent=o,this.source=a,this.scopes=u,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,zc(r,g=>this.processProvider(g)),this.records.set(Em,Zu(void 0,this)),u.has("environment")&&this.records.set(Ja,Zu(void 0,this));const d=this.records.get($d);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(R_.multi,ct,en.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of r)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(r){return this.assertNotDestroyed(),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r)}runInContext(r){this.assertNotDestroyed();const o=Fe(this),a=tr(void 0);try{return r()}finally{Fe(o),tr(a)}}get(r,o=qr,a=en.Default){if(this.assertNotDestroyed(),r.hasOwnProperty(nr))return r[nr](this);a=Yt(a);const d=Fe(this),g=tr(void 0);try{if(!(a&en.SkipSelf)){let P=this.records.get(r);if(void 0===P){const H=function zd(t){return"function"==typeof t||"object"==typeof t&&t instanceof qe}(r)&&Fn(r);P=H&&this.injectableDefInScope(H)?Zu(bm(r),ls):null,this.records.set(r,P)}if(null!=P)return this.hydrate(r,P)}return(a&en.Self?gf():this.parent).get(r,o=a&en.Optional&&o===qr?null:o)}catch(w){if("NullInjectorError"===w.name){if((w[Ur]=w[Ur]||[]).unshift(ye(r)),d)throw w;return function Ae(t,r,o,a){const u=t[Ur];throw r[F]&&u.unshift(r[F]),t.message=function we(t,r,o,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let u=ye(r);if(Array.isArray(r))u=r.map(ye).join(" -> ");else if("object"==typeof r){let d=[];for(let g in r)if(r.hasOwnProperty(g)){let w=r[g];d.push(g+":"+("string"==typeof w?JSON.stringify(w):ye(w)))}u=`{${d.join(", ")}}`}return`${o}${a?"("+a+")":""}[${u}]: ${t.replace(ne,"\n  ")}`}("\n"+t.message,u,o,a),t.ngTokenPath=u,t[Ur]=null,t}(w,r,"R3InjectorError",this.source)}throw w}finally{tr(g),Fe(d)}}resolveInjectorInitializers(){const r=Fe(this),o=tr(void 0);try{const u=this.get(Hd.multi,ct,en.Self);for(const d of u)d()}finally{Fe(r),tr(o)}}toString(){const r=[],o=this.records;for(const a of o.keys())r.push(ye(a));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new oe(205,!1)}processProvider(r){let o=Ku(r=Xe(r))?r:Xe(r&&r.provide);const a=function yf(t){return mf(t)?Zu(void 0,t.useValue):Zu(N_(t),ls)}(r);if(Ku(r)||!0!==r.multi)this.records.get(o);else{let u=this.records.get(o);u||(u=Zu(void 0,ls,!0),u.factory=()=>jn(u.multi),this.records.set(o,u)),o=r,u.multi.push(r)}this.records.set(o,a)}hydrate(r,o){return o.value===ls&&(o.value=jv,o.value=o.factory()),"object"==typeof o.value&&o.value&&function Am(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(r){if(!r.providedIn)return!1;const o=Xe(r.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}removeOnDestroy(r){const o=this._onDestroyHooks.indexOf(r);-1!==o&&this._onDestroyHooks.splice(o,1)}}function bm(t){const r=Fn(t),o=null!==r?r.factory:os(t);if(null!==o)return o;if(t instanceof qe)throw new oe(204,!1);if(t instanceof Function)return function _f(t){const r=t.length;if(r>0)throw Aa(r,"?"),new oe(204,!1);const o=function fn(t){return t&&(t[Pn]||t[Cr])||null}(t);return null!==o?()=>o.factory(t):()=>new t}(t);throw new oe(204,!1)}function N_(t,r,o){let a;if(Ku(t)){const u=Xe(t);return os(u)||bm(u)}if(mf(t))a=()=>Xe(t.useValue);else if(function wm(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...jn(t.deps||[]));else if(function O_(t){return!(!t||!t.useExisting)}(t))a=()=>It(Xe(t.useExisting));else{const u=Xe(t&&(t.useClass||t.provide));if(!function Dm(t){return!!t.deps}(t))return os(u)||bm(u);a=()=>new u(...jn(t.deps))}return a}function Zu(t,r,o=!1){return{factory:t,value:r,multi:o?[]:void 0}}function zc(t,r){for(const o of t)Array.isArray(o)?zc(o,r):o&&it(o)?zc(o.\u0275providers,r):r(o)}const vf=new qe("AppId",{providedIn:"root",factory:()=>Sm}),Sm="ng",L_=new qe("Platform Initializer"),If=new qe("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),k_=new qe("AnimationModuleType"),F_=new qe("CSP nonce",{providedIn:"root",factory:()=>function Cl(){if(void 0!==fm)return fm;if(typeof document<"u")return document;throw new oe(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Kd=(t,r,o)=>null;function Qd(t,r,o=!1){return Kd(t,r,o)}class $_{}class Jd{}class Wv{resolveComponentFactory(r){throw function Xd(t){const r=Error(`No component factory found for ${ye(t)}.`);return r.ngComponent=t,r}(r)}}let Sf=(()=>{class t{static#e=this.NULL=new Wv}return t})();function qv(){return Kc(gr(),yt())}function Kc(t,r){return new Ju(qt(t,r))}let Ju=(()=>{class t{constructor(o){this.nativeElement=o}static#e=this.__NG_ELEMENT_ID__=qv}return t})();function Kv(t){return t instanceof Ju?t.nativeElement:t}class z_{}let eh=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function Nm(){const t=yt(),o=Wn(gr().index,t);return(Lr(o)?o:t)[yn]}()}return t})(),Zc=(()=>{class t{static#e=this.\u0275prov=un({token:t,providedIn:"root",factory:()=>null})}return t})();class Pf{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const th=new Pf("16.2.12"),Xu={};function Of(t,r=null,o=null,a){const u=nh(t,r,o,a);return u.resolveInjectorInitializers(),u}function nh(t,r=null,o=null,a,u=new Set){const d=[o||ct,Bv(t)];return a=a||("object"==typeof t?void 0:ye(t)),new su(d,r||gf(),a||null,u)}let Zo=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=qr;static#t=this.NULL=new jc;static create(o,a){if(Array.isArray(o))return Of({name:""},a,o,"");{const u=o.name??"";return Of({name:u},o.parent,o.providers,u)}}static#n=this.\u0275prov=un({token:t,providedIn:"any",factory:()=>It(Em)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function ih(t){return t.ngOriginalError}class lu{constructor(){this._console=console}handleError(r){const o=this._findOriginalError(r);this._console.error("ERROR",r),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(r){let o=r&&ih(r);for(;o&&ih(o);)o=ih(o);return o||null}}function sh(t){return r=>{setTimeout(t,void 0,r)}}const Xa=class Jv extends p.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,o,a){let u=r,d=o||(()=>null),g=a;if(r&&"object"==typeof r){const P=r;u=P.next?.bind(P),d=P.error?.bind(P),g=P.complete?.bind(P)}this.__isAsync&&(d=sh(d),u&&(u=sh(u)),g&&(g=sh(g)));const w=super.subscribe({next:u,error:d,complete:g});return r instanceof V.w0&&r.add(w),w}};function Nf(...t){}class Fs{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Xa(!1),this.onMicrotaskEmpty=new Xa(!1),this.onStable=new Xa(!1),this.onError=new Xa(!1),typeof Zone>"u")throw new oe(908,!1);Zone.assertZonePatched();const u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!a&&o,u.shouldCoalesceRunChangeDetection=a,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function Xv(){const t="function"==typeof Ct.requestAnimationFrame;let r=Ct[t?"requestAnimationFrame":"setTimeout"],o=Ct[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&r&&o){const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a);const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function jm(t){const r=()=>{!function Hm(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ct,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,oh(t),t.isCheckStableRunning=!0,Lf(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),oh(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,a,u,d,g,w)=>{if(function K_(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(w))return o.invokeTask(u,d,g,w);try{return ec(t),o.invokeTask(u,d,g,w)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||t.shouldCoalesceRunChangeDetection)&&r(),Pl(t)}},onInvoke:(o,a,u,d,g,w,P)=>{try{return ec(t),o.invoke(u,d,g,w,P)}finally{t.shouldCoalesceRunChangeDetection&&r(),Pl(t)}},onHasTask:(o,a,u,d)=>{o.hasTask(u,d),a===u&&("microTask"==d.change?(t._hasPendingMicrotasks=d.microTask,oh(t),Lf(t)):"macroTask"==d.change&&(t.hasPendingMacrotasks=d.macroTask))},onHandleError:(o,a,u,d)=>(o.handleError(u,d),t.runOutsideAngular(()=>t.onError.emit(d)),!1)})}(u)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Fs.isInAngularZone())throw new oe(909,!1)}static assertNotInAngularZone(){if(Fs.isInAngularZone())throw new oe(909,!1)}run(r,o,a){return this._inner.run(r,o,a)}runTask(r,o,a,u){const d=this._inner,g=d.scheduleEventTask("NgZoneEvent: "+u,r,Bm,Nf,Nf);try{return d.runTask(g,o,a)}finally{d.cancelTask(g)}}runGuarded(r,o,a){return this._inner.runGuarded(r,o,a)}runOutsideAngular(r){return this._outer.run(r)}}const Bm={};function Lf(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function oh(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function ec(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Pl(t){t._nesting--,Lf(t)}class $m{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Xa,this.onMicrotaskEmpty=new Xa,this.onStable=new Xa,this.onError=new Xa}run(r,o,a){return r.apply(o,a)}runGuarded(r,o,a){return r.apply(o,a)}runOutsideAngular(r){return r()}runTask(r,o,a,u){return r.apply(o,a)}}const tc=new qe("",{providedIn:"root",factory:nc});function nc(){const t=kt(Fs);let r=!0;const o=new b.y(u=>{r=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{u.next(r),u.complete()})}),a=new b.y(u=>{let d;t.runOutsideAngular(()=>{d=t.onStable.subscribe(()=>{Fs.assertNotInAngularZone(),queueMicrotask(()=>{!r&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(r=!0,u.next(!0))})})});const g=t.onUnstable.subscribe(()=>{Fs.assertInAngularZone(),r&&(r=!1,t.runOutsideAngular(()=>{u.next(!1)}))});return()=>{d.unsubscribe(),g.unsubscribe()}});return(0,Ce.T)(o,a.pipe((0,W.B)()))}function Z_(t){return t.ownerDocument}function Ma(t){return t instanceof Function?t():t}let ah=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=un({token:t,providedIn:"root",factory:()=>new t})}return t})();function lh(t){for(;t;){t[Sn]|=64;const r=yr(t);if(eo(t)&&!r)return t;t=r}return null}const Gm=new qe("",{providedIn:"root",factory:()=>!1});let Vf=null;function Uf(t,r){return t[r]??ay()}function Wm(t,r){const o=ay();o.producerNode?.length&&(t[r]=Vf,o.lView=t,Vf=Km())}const qm={...ta,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{lh(t.lView)},lView:null};function Km(){return Object.create(qm)}function ay(){return Vf??=Km(),Vf}const Yn={};function ly(t){Bf(dr(),yt(),zn()+t,!1)}function Bf(t,r,o,a){if(!a)if(3==(3&r[Sn])){const d=t.preOrderCheckHooks;null!==d&&Ec(r,d,o)}else{const d=t.preOrderHooks;null!==d&&hl(r,d,0,o)}kn(o)}function Yc(t,r=en.Default){const o=yt();return null===o?It(t,r):gl(gr(),o,Xe(t),r)}function Hf(){throw new Error("invalid")}function Jc(t,r,o,a,u,d,g,w,P,H,ee){const _e=r.blueprint.slice();return _e[Mr]=u,_e[Sn]=140|a,(null!==H||t&&2048&t[Sn])&&(_e[Sn]|=2048),lo(_e),_e[$n]=_e[rs]=t,_e[rr]=o,_e[ws]=g||t&&t[ws],_e[yn]=w||t&&t[yn],_e[qi]=P||t&&t[qi]||null,_e[Hr]=d,_e[Qs]=function bd(){return Yg++}(),_e[jr]=ee,_e[or]=H,_e[Er]=2==r.type?t[Er]:_e,_e}function du(t,r,o,a,u){let d=t.data[r];if(null===d)d=function ch(t,r,o,a,u){const d=hd(),g=wo(),P=t.data[r]=function aI(t,r,o,a,u,d){let g=r?r.injectorIndex:-1,w=0;return _t()&&(w|=128),{type:o,index:a,insertBeforeIndex:null,injectorIndex:g,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:w,providerIndexes:0,value:u,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?d:d&&d.parent,o,r,a,u);return null===t.firstChild&&(t.firstChild=P),null!==d&&(g?null==d.child&&null!==P.parent&&(d.child=P):null===d.next&&(d.next=P,P.prev=d)),P}(t,r,o,a,u),function cl(){return rn.lFrame.inI18n}()&&(d.flags|=32);else if(64&d.type){d.type=o,d.value=a,d.attrs=u;const g=function sa(){const t=rn.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}();d.injectorIndex=null===g?-1:g.injectorIndex}return Tn(d,!0),d}function el(t,r,o,a){if(0===o)return-1;const u=r.length;for(let d=0;d<o;d++)r.push(a),t.blueprint.push(a),t.data.push(null);return u}function Zm(t,r,o,a,u){const d=Uf(r,is),g=zn(),w=2&a;try{kn(-1),w&&r.length>Ln&&Bf(t,r,Ln,!1),Vr(w?2:0,u);const H=w?d:null,ee=oo(H);try{null!==H&&(H.dirty=!1),o(a,u)}finally{ko(H,ee)}}finally{w&&null===r[is]&&Wm(r,is),kn(g),Vr(w?3:1,u)}}function dh(t,r,o){if(Io(r)){const a=as(null);try{const d=r.directiveEnd;for(let g=r.directiveStart;g<d;g++){const w=t.data[g];w.contentQueries&&w.contentQueries(1,o[g],g)}}finally{as(a)}}}function Qm(t,r,o){ot()&&(function rg(t,r,o,a){const u=o.directiveStart,d=o.directiveEnd;Zi(o)&&function cI(t,r,o){const a=qt(r,t),u=tl(o);let g=16;o.signals?g=4096:o.onPush&&(g=64);const w=yh(t,Jc(t,u,null,g,a,r,null,t[ws].rendererFactory.createRenderer(a,o),null,null,null));t[r.index]=w}(r,o,t.data[u+o.componentOffset]),t.firstCreatePass||pl(o,r),mo(a,r);const g=o.initialInputs;for(let w=u;w<d;w++){const P=t.data[w],H=ni(r,t,w,o);mo(H,r),null!==g&&dI(0,w-u,H,P,0,g),Ui(P)&&(Wn(o.index,r)[rr]=ni(r,t,w,o))}}(t,r,o,qt(o,r)),64==(64&o.flags)&&py(t,r,o))}function hh(t,r,o=qt){const a=r.localNames;if(null!==a){let u=r.index+1;for(let d=0;d<a.length;d+=2){const g=a[d+1],w=-1===g?o(r,t):t[g];t[u++]=w}}}function tl(t){const r=t.tView;return null===r||r.incompleteFirstPass?t.tView=fh(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):r}function fh(t,r,o,a,u,d,g,w,P,H,ee){const _e=Ln+a,Ue=_e+u,ze=function iI(t,r){const o=[];for(let a=0;a<r;a++)o.push(a<t?null:Yn);return o}(_e,Ue),ht="function"==typeof H?H():H;return ze[Ot]={type:t,blueprint:ze,template:o,queries:null,viewQuery:w,declTNode:r,data:ze.slice().fill(null,_e),bindingStartIndex:_e,expandoStartIndex:Ue,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:P,consts:ht,incompleteFirstPass:!1,ssrId:ee}}let uy=t=>null;function jf(t,r,o,a){for(let u in t)if(t.hasOwnProperty(u)){o=null===o?{}:o;const d=t[u];null===a?cy(o,r,u,d):a.hasOwnProperty(u)&&cy(o,r,a[u],d)}return o}function cy(t,r,o,a){t.hasOwnProperty(o)?t[o].push(r,a):t[o]=[r,a]}function ph(t,r,o,a){if(ot()){const u=null===a?null:{"":-1},d=function uI(t,r){const o=t.directiveRegistry;let a=null,u=null;if(o)for(let d=0;d<o.length;d++){const g=o[d];if(pi(r,g.selectors,!1))if(a||(a=[]),Ui(g))if(null!==g.findHostDirectiveDefs){const w=[];u=u||new Map,g.findHostDirectiveDefs(g,w,u),a.unshift(...w,g),gh(t,r,w.length)}else a.unshift(g),gh(t,r,0);else u=u||new Map,g.findHostDirectiveDefs?.(g,a,u),a.push(g)}return null===a?null:[a,u]}(t,o);let g,w;null===d?g=w=null:[g,w]=d,null!==g&&fy(t,r,o,g,u,w),u&&function my(t,r,o){if(r){const a=t.localNames=[];for(let u=0;u<r.length;u+=2){const d=o[r[u+1]];if(null==d)throw new oe(-301,!1);a.push(r[u],d)}}}(o,a,u)}o.mergedAttrs=vi(o.mergedAttrs,o.attrs)}function fy(t,r,o,a,u,d){for(let H=0;H<a.length;H++)ml(pl(o,r),t,a[H].type);!function gy(t,r,o){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+o,t.providerIndexes=r}(o,t.data.length,a.length);for(let H=0;H<a.length;H++){const ee=a[H];ee.providersResolver&&ee.providersResolver(ee)}let g=!1,w=!1,P=el(t,r,a.length,null);for(let H=0;H<a.length;H++){const ee=a[H];o.mergedAttrs=vi(o.mergedAttrs,ee.hostAttrs),$f(t,o,r,P,ee),Xc(P,ee,u),null!==ee.contentQueries&&(o.flags|=4),(null!==ee.hostBindings||null!==ee.hostAttrs||0!==ee.hostVars)&&(o.flags|=64);const _e=ee.type.prototype;!g&&(_e.ngOnChanges||_e.ngOnInit||_e.ngDoCheck)&&((t.preOrderHooks??=[]).push(o.index),g=!0),!w&&(_e.ngOnChanges||_e.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(o.index),w=!0),P++}!function eg(t,r,o){const u=r.directiveEnd,d=t.data,g=r.attrs,w=[];let P=null,H=null;for(let ee=r.directiveStart;ee<u;ee++){const _e=d[ee],Ue=o?o.get(_e):null,ht=Ue?Ue.outputs:null;P=jf(_e.inputs,ee,P,Ue?Ue.inputs:null),H=jf(_e.outputs,ee,H,ht);const St=null===P||null===g||go(r)?null:sg(P,ee,g);w.push(St)}null!==P&&(P.hasOwnProperty("class")&&(r.flags|=8),P.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=w,r.inputs=P,r.outputs=H}(t,o,d)}function py(t,r,o){const a=o.directiveStart,u=o.directiveEnd,d=o.index,g=function Fa(){return rn.lFrame.currentDirectiveIndex}();try{kn(d);for(let w=a;w<u;w++){const P=t.data[w],H=r[w];Bl(w),(null!==P.hostBindings||0!==P.hostVars||null!==P.hostAttrs)&&mh(P,H)}}finally{kn(-1),Bl(g)}}function mh(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function gh(t,r,o){r.componentOffset=o,(t.components??=[]).push(r.index)}function Xc(t,r,o){if(o){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)o[r.exportAs[a]]=t;Ui(r)&&(o[""]=t)}}function $f(t,r,o,a,u){t.data[a]=u;const d=u.factory||(u.factory=os(u.type)),g=new fl(d,Ui(u),Yc);t.blueprint[a]=g,o[a]=g,function tg(t,r,o,a,u){const d=u.hostBindings;if(d){let g=t.hostBindingOpCodes;null===g&&(g=t.hostBindingOpCodes=[]);const w=~r.index;(function ng(t){let r=t.length;for(;r>0;){const o=t[--r];if("number"==typeof o&&o<0)return o}return 0})(g)!=w&&g.push(w),g.push(o,a,d)}}(t,r,a,el(t,o,u.hostVars,Yn),u)}function nl(t,r,o,a,u,d){const g=qt(t,r);!function ig(t,r,o,a,u,d,g){if(null==d)t.removeAttribute(r,u,o);else{const w=null==g?pe(d):g(d,a||"",u);t.setAttribute(r,u,w,o)}}(r[yn],g,d,t.value,o,a,u)}function dI(t,r,o,a,u,d){const g=d[r];if(null!==g)for(let w=0;w<g.length;)_h(a,o,g[w++],g[w++],g[w++])}function _h(t,r,o,a,u){const d=as(null);try{const g=t.inputTransforms;null!==g&&g.hasOwnProperty(a)&&(u=g[a].call(r,u)),null!==t.setInput?t.setInput(r,u,o,a):r[a]=u}finally{as(d)}}function sg(t,r,o){let a=null,u=0;for(;u<o.length;){const d=o[u];if(0!==d)if(5!==d){if("number"==typeof d)break;if(t.hasOwnProperty(d)){null===a&&(a=[]);const g=t[d];for(let w=0;w<g.length;w+=2)if(g[w]===r){a.push(d,g[w+1],o[u+1]);break}}u+=2}else u+=2;else u+=4}return a}function zf(t,r,o,a){return[t,!0,!1,r,null,0,a,o,null,null,null]}function Gf(t,r){const o=t.contentQueries;if(null!==o)for(let a=0;a<o.length;a+=2){const d=o[a+1];if(-1!==d){const g=t.data[d];T(o[a]),g.contentQueries(2,r[d],d)}}}function yh(t,r){return t[Ti]?t[Fi][si]=r:t[Ti]=r,t[Fi]=r,r}function vh(t,r,o){T(0);const a=as(null);try{r(t,o)}finally{as(a)}}function Ih(t){return t[Wi]||(t[Wi]=[])}function Wf(t){return t.cleanup||(t.cleanup=[])}function rc(t,r){const o=t[qi],a=o?o.get(lu,null):null;a&&a.handleError(r)}function qf(t,r,o,a,u){for(let d=0;d<o.length;){const g=o[d++],w=o[d++];_h(t.data[g],r[g],a,w,u)}}function yy(t,r){const o=Wn(r,t),a=o[Ot];!function ed(t,r){for(let o=r.length;o<t.blueprint.length;o++)r.push(t.blueprint[o])}(a,o);const u=o[Mr];null!==u&&null===o[jr]&&(o[jr]=Qd(u,o[qi])),Eh(a,o,o[rr])}function Eh(t,r,o){R(r);try{const a=t.viewQuery;null!==a&&vh(1,a,o);const u=t.template;null!==u&&Zm(t,r,u,1,o),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Gf(t,r),t.staticViewQueries&&vh(2,t.viewQuery,o);const d=t.components;null!==d&&function hI(t,r){for(let o=0;o<r.length;o++)yy(t,r[o])}(r,d)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{r[Sn]&=-5,Qe()}}let vy=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(o,a,u){const d=typeof Zone>"u"?null:Zone.current,g=function Ye(t,r,o){const a=Object.create(Nt);o&&(a.consumerAllowSignalWrites=!0),a.fn=t,a.schedule=r;const u=g=>{a.cleanupFn=g};return a.ref={notify:()=>ps(a),run:()=>{if(a.dirty=!1,a.hasRun&&!Ia(a))return;a.hasRun=!0;const g=oo(a);try{a.cleanupFn(),a.cleanupFn=gt,a.fn(u)}finally{ko(a,g)}},cleanup:()=>a.cleanupFn()},a.ref}(o,H=>{this.all.has(H)&&this.queue.set(H,d)},u);let w;this.all.add(g),g.notify();const P=()=>{g.cleanup(),w?.(),this.all.delete(g),this.queue.delete(g)};return w=a?.onDestroy(P),{destroy:P}}flush(){if(0!==this.queue.size)for(const[o,a]of this.queue)this.queue.delete(o),a?a.run(()=>o.run()):o.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=un({token:t,providedIn:"root",factory:()=>new t})}return t})();function Th(t,r,o){let a=o?t.styles:null,u=o?t.classes:null,d=0;if(null!==r)for(let g=0;g<r.length;g++){const w=r[g];"number"==typeof w?d=w:1==d?u=je(u,w):2==d&&(a=je(a,w+": "+r[++g]+";"))}o?t.styles=a:t.stylesWithoutHost=a,o?t.classes=u:t.classesWithoutHost=u}function wh(t,r,o,a,u=!1){for(;null!==o;){const d=r[o.index];null!==d&&a.push(Tr(d)),ar(d)&&ag(d,a);const g=o.type;if(8&g)wh(t,r,o.child,a);else if(32&g){const w=em(o,r);let P;for(;P=w();)a.push(P)}else if(16&g){const w=c_(r,o);if(Array.isArray(w))a.push(...w);else{const P=yr(r[Er]);wh(P[Ot],P,w,a,!0)}}o=u?o.projectionNext:o.next}return a}function ag(t,r){for(let o=$r;o<t.length;o++){const a=t[o],u=a[Ot].firstChild;null!==u&&wh(a[Ot],a,u,r)}t[mi]!==t[Mr]&&r.push(t[mi])}function Kf(t,r,o,a=!0){const u=r[ws],d=u.rendererFactory,g=u.afterRenderEventManager;d.begin?.(),g?.begin();try{Iy(t,r,t.template,o)}catch(P){throw a&&rc(r,P),P}finally{d.end?.(),u.effectManager?.flush(),g?.end()}}function Iy(t,r,o,a){const u=r[Sn];if(256!=(256&u)){r[ws].effectManager?.flush(),R(r);try{lo(r),function xr(t){return rn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==o&&Zm(t,r,o,2,a);const g=3==(3&u);if(g){const H=t.preOrderCheckHooks;null!==H&&Ec(r,H,null)}else{const H=t.preOrderHooks;null!==H&&hl(r,H,0,null),Ho(r,0)}if(function mI(t){for(let r=Dd(t);null!==r;r=tm(r)){if(!r[Oo])continue;const o=r[wi];for(let a=0;a<o.length;a++){To(o[a])}}}(r),Ey(r,2),null!==t.contentQueries&&Gf(t,r),g){const H=t.contentCheckHooks;null!==H&&Ec(r,H)}else{const H=t.contentHooks;null!==H&&hl(r,H,1),Ho(r,1)}!function rI(t,r){const o=t.hostBindingOpCodes;if(null===o)return;const a=Uf(r,Ys);try{for(let u=0;u<o.length;u++){const d=o[u];if(d<0)kn(~d);else{const g=d,w=o[++u],P=o[++u];yc(w,g),a.dirty=!1;const H=oo(a);try{P(2,r[g])}finally{ko(a,H)}}}}finally{null===r[Ys]&&Wm(r,Ys),kn(-1)}}(t,r);const w=t.components;null!==w&&Zf(r,w,0);const P=t.viewQuery;if(null!==P&&vh(2,P,a),g){const H=t.viewCheckHooks;null!==H&&Ec(r,H)}else{const H=t.viewHooks;null!==H&&hl(r,H,2),Ho(r,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),r[Sn]&=-73,oi(r)}finally{Qe()}}}function Ey(t,r){for(let o=Dd(t);null!==o;o=tm(o))for(let a=$r;a<o.length;a++)lg(o[a],r)}function Ty(t,r,o){lg(Wn(r,t),o)}function lg(t,r){if(!function xi(t){return 128==(128&t[Sn])}(t))return;const o=t[Ot],a=t[Sn];if(80&a&&0===r||1024&a||2===r)Iy(o,t,o.template,t[rr]);else if(t[hs]>0){Ey(t,1);const u=o.components;null!==u&&Zf(t,u,1)}}function Zf(t,r,o){for(let a=0;a<r.length;a++)Ty(t,r[a],o)}class td{get rootNodes(){const r=this._lView,o=r[Ot];return wh(o,r,o.firstChild,[])}constructor(r,o){this._lView=r,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[rr]}set context(r){this._lView[rr]=r}get destroyed(){return 256==(256&this._lView[Sn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[$n];if(ar(r)){const o=r[8],a=o?o.indexOf(this):-1;a>-1&&(Pd(r,a),Su(o,a))}this._attachedToViewContainer=!1}rm(this._lView[Ot],this._lView)}onDestroy(r){!function mt(t,r){if(256==(256&t[Sn]))throw new oe(911,!1);null===t[Vi]&&(t[Vi]=[]),t[Vi].push(r)}(this._lView,r)}markForCheck(){lh(this._cdRefInjectingView||this._lView)}detach(){this._lView[Sn]&=-129}reattach(){this._lView[Sn]|=128}detectChanges(){Kf(this._lView[Ot],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new oe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function s_(t,r){Lc(t,r,r[yn],2,null,null)}(this._lView[Ot],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new oe(902,!1);this._appRef=r}}class wy extends td{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;Kf(r[Ot],r,r[rr],!1)}checkNoChanges(){}get context(){return null}}class ug extends Sf{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const o=xn(r);return new nd(o,this.ngModule)}}function Ch(t){const r=[];for(let o in t)t.hasOwnProperty(o)&&r.push({propName:t[o],templateName:o});return r}class Cy{constructor(r,o){this.injector=r,this.parentInjector=o}get(r,o,a){a=Yt(a);const u=this.injector.get(r,Xu,a);return u!==Xu||o===Xu?u:this.parentInjector.get(r,o,a)}}class nd extends Jd{get inputs(){const r=this.componentDef,o=r.inputTransforms,a=Ch(r.inputs);if(null!==o)for(const u of a)o.hasOwnProperty(u.propName)&&(u.transform=o[u.propName]);return a}get outputs(){return Ch(this.componentDef.outputs)}constructor(r,o){super(),this.componentDef=r,this.ngModule=o,this.componentType=r.type,this.selector=function ui(t){return t.map(Po).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!o}create(r,o,a,u){let d=(u=u||this.ngModule)instanceof Ja?u:u?.injector;d&&null!==this.componentDef.getStandaloneInjector&&(d=this.componentDef.getStandaloneInjector(d)||d);const g=d?new Cy(r,d):r,w=g.get(z_,null);if(null===w)throw new oe(407,!1);const _e={rendererFactory:w,sanitizer:g.get(Zc,null),effectManager:g.get(vy,null),afterRenderEventManager:g.get(ah,null)},Ue=w.createRenderer(null,this.componentDef),ze=this.componentDef.selectors[0][0]||"div",ht=a?function Ym(t,r,o,a){const d=a.get(Gm,!1)||o===et.ShadowDom,g=t.selectRootElement(r,d);return function sI(t){uy(t)}(g),g}(Ue,a,this.componentDef.encapsulation,g):Ql(Ue,ze,function wr(t){const r=t.toLowerCase();return"svg"===r?Hi:"math"===r?"math":null}(ze)),An=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let vt=null;null!==ht&&(vt=Qd(ht,g,!0));const er=fh(0,null,null,1,0,null,null,null,null,null,null),vr=Jc(null,er,null,An,null,null,_e,Ue,g,null,vt);let hi,ga;R(vr);try{const gc=this.componentDef;let Np,NE=null;gc.findHostDirectiveDefs?(Np=[],NE=new Map,gc.findHostDirectiveDefs(gc,Np,NE),Np.push(gc)):Np=[gc];const qD=function by(t,r){const o=t[Ot],a=Ln;return t[a]=r,du(o,a,2,"#host",null)}(vr,ht),KD=function Ws(t,r,o,a,u,d,g){const w=u[Ot];!function Di(t,r,o,a){for(const u of t)r.mergedAttrs=vi(r.mergedAttrs,u.hostAttrs);null!==r.mergedAttrs&&(Th(r,r.mergedAttrs,!0),null!==o&&f_(a,o,r))}(a,t,r,g);let P=null;null!==r&&(P=Qd(r,u[qi]));const H=d.rendererFactory.createRenderer(r,o);let ee=16;o.signals?ee=4096:o.onPush&&(ee=64);const _e=Jc(u,tl(o),null,ee,u[t.index],t,d,H,null,null,P);return w.firstCreatePass&&gh(w,t,a.length-1),yh(u,_e),u[t.index]=_e}(qD,ht,gc,Np,vr,_e,Ue);ga=On(er,Ln),ht&&function Dy(t,r,o,a){if(a)ei(t,o,["ng-version",th.full]);else{const{attrs:u,classes:d}=function Xo(t){const r=[],o=[];let a=1,u=2;for(;a<t.length;){let d=t[a];if("string"==typeof d)2===u?""!==d&&r.push(d,t[++a]):8===u&&o.push(d);else{if(!ii(u))break;u=d}a++}return{attrs:r,classes:o}}(r.selectors[0]);u&&ei(t,o,u),d&&d.length>0&&h_(t,o,d.join(" "))}}(Ue,gc,ht,a),void 0!==o&&function gI(t,r,o){const a=t.projection=[];for(let u=0;u<r.length;u++){const d=o[u];a.push(null!=d?Array.from(d):null)}}(ga,this.ngContentSelectors,o),hi=function rl(t,r,o,a,u,d){const g=gr(),w=u[Ot],P=qt(g,u);fy(w,u,g,o,null,a);for(let ee=0;ee<o.length;ee++)mo(ni(u,w,g.directiveStart+ee,g),u);py(w,u,g),P&&mo(P,u);const H=ni(u,w,g.directiveStart+g.componentOffset,g);if(t[rr]=u[rr]=H,null!==d)for(const ee of d)ee(H,r);return dh(w,g,t),H}(KD,gc,Np,NE,vr,[Qf]),Eh(er,vr,null)}finally{Qe()}return new bh(this.componentType,hi,Kc(ga,vr),vr,ga)}}class bh extends $_{constructor(r,o,a,u,d){super(),this.location=a,this._rootLView=u,this._tNode=d,this.previousInputValues=null,this.instance=o,this.hostView=this.changeDetectorRef=new wy(u),this.componentType=r}setInput(r,o){const a=this._tNode.inputs;let u;if(null!==a&&(u=a[r])){if(this.previousInputValues??=new Map,this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),o))return;const d=this._rootLView;qf(d[Ot],d,u,r,o),this.previousInputValues.set(r,o),lh(Wn(this._tNode.index,d))}}get injector(){return new Qi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function Qf(){const t=gr();ji(yt()[Ot],t)}function Dh(t){let r=function cg(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),o=!0;const a=[t];for(;r;){let u;if(Ui(t))u=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new oe(903,!1);u=r.\u0275dir}if(u){if(o){a.push(u);const g=t;g.inputs=rd(t.inputs),g.inputTransforms=rd(t.inputTransforms),g.declaredInputs=rd(t.declaredInputs),g.outputs=rd(t.outputs);const w=u.hostBindings;w&&yi(t,w);const P=u.viewQuery,H=u.contentQueries;if(P&&yI(t,P),H&&vI(t,H),ae(t.inputs,u.inputs),ae(t.declaredInputs,u.declaredInputs),ae(t.outputs,u.outputs),null!==u.inputTransforms&&(null===g.inputTransforms&&(g.inputTransforms={}),ae(g.inputTransforms,u.inputTransforms)),Ui(u)&&u.data.animation){const ee=t.data;ee.animation=(ee.animation||[]).concat(u.data.animation)}}const d=u.features;if(d)for(let g=0;g<d.length;g++){const w=d[g];w&&w.ngInherit&&w(t),w===Dh&&(o=!1)}}r=Object.getPrototypeOf(r)}!function _I(t){let r=0,o=null;for(let a=t.length-1;a>=0;a--){const u=t[a];u.hostVars=r+=u.hostVars,u.hostAttrs=vi(u.hostAttrs,o=vi(o,u.hostAttrs))}}(a)}function rd(t){return t===Ft?{}:t===ct?[]:t}function yI(t,r){const o=t.viewQuery;t.viewQuery=o?(a,u)=>{r(a,u),o(a,u)}:r}function vI(t,r){const o=t.contentQueries;t.contentQueries=o?(a,u,d)=>{r(a,u,d),o(a,u,d)}:r}function yi(t,r){const o=t.hostBindings;t.hostBindings=o?(a,u)=>{r(a,u),o(a,u)}:r}function xy(t){const r=t.inputConfig,o={};for(const a in r)if(r.hasOwnProperty(a)){const u=r[a];Array.isArray(u)&&u[2]&&(o[a]=u[2])}t.inputTransforms=o}function dg(t){return!!Yf(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Yf(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function il(t,r,o){return t[r]=o}function Li(t,r,o){return!Object.is(t[r],o)&&(t[r]=o,!0)}function id(t,r,o,a){const u=Li(t,r,o);return Li(t,r+1,a)||u}function hg(t,r,o,a){const u=yt();return Li(u,Ut(),r)&&(dr(),nl(Sr(),u,t,r,o,a)),hg}function Rh(t,r,o,a,u,d,g,w){const P=yt(),H=dr(),ee=t+Ln,_e=H.firstCreatePass?function Ig(t,r,o,a,u,d,g,w,P){const H=r.consts,ee=du(r,t,4,g||null,In(H,w));ph(r,o,ee,In(H,P)),ji(r,ee);const _e=ee.tView=fh(2,ee,a,u,d,r.directiveRegistry,r.pipeRegistry,null,r.schemas,H,null);return null!==r.queries&&(r.queries.template(r,ee),_e.queries=r.queries.embeddedTView(ee)),ee}(ee,H,P,r,o,a,u,d,g):H.data[ee];Tn(_e,!1);const Ue=Fy(H,P,_e,t);Ua()&&Nd(H,P,Ue,_e),mo(Ue,P),yh(P,P[ee]=zf(Ue,P,Ue,_e)),Xs(_e)&&Qm(H,P,_e),null!=g&&hh(P,_e,w)}let Fy=function AI(t,r,o,a){return ho(!0),r[yn].createComment("")};function PI(t){return function Zn(t,r){return t[r]}(function ai(){return rn.lFrame.contextLView}(),Ln+t)}function xl(t,r,o){const a=yt();return Li(a,Ut(),r)&&function Do(t,r,o,a,u,d,g,w){const P=qt(r,o);let ee,H=r.inputs;!w&&null!=H&&(ee=H[a])?(qf(t,o,ee,a,u),Zi(r)&&function hy(t,r){const o=Wn(r,t);16&o[Sn]||(o[Sn]|=64)}(o,r.index)):3&r.type&&(a=function dy(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),u=null!=g?g(u,r.value||"",a):u,d.setProperty(P,a,u))}(dr(),Sr(),a,t,r,a[yn],o,!1),xl}function Oa(t,r,o,a,u){const g=u?"class":"style";qf(t,o,r.inputs[g],g,a)}function Na(t,r,o,a){const u=yt(),d=dr(),g=Ln+t,w=u[yn],P=d.firstCreatePass?function Mh(t,r,o,a,u,d){const g=r.consts,P=du(r,t,2,a,In(g,u));return ph(r,o,P,In(g,d)),null!==P.attrs&&Th(P,P.attrs,!1),null!==P.mergedAttrs&&Th(P,P.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,P),P}(g,d,u,r,o,a):d.data[g],H=Vy(d,u,P,w,r,t);u[g]=H;const ee=Xs(P);return Tn(P,!0),f_(w,H,P),32!=(32&P.flags)&&Ua()&&Nd(d,u,H,P),0===function Jt(){return rn.lFrame.elementDepthCount}()&&mo(H,u),function Fl(){rn.lFrame.elementDepthCount++}(),ee&&(Qm(d,u,P),dh(d,P,u)),null!==a&&hh(u,P),Na}function mp(){let t=gr();wo()?Ul():(t=t.parent,Tn(t,!1));const r=t;(function Oi(t){return rn.skipHydrationRootTNode===t})(r)&&function _u(){rn.skipHydrationRootTNode=null}(),function zt(){rn.lFrame.elementDepthCount--}();const o=dr();return o.firstCreatePass&&(ji(o,t),Io(t)&&o.queries.elementEnd(t)),null!=r.classesWithoutHost&&function kp(t){return 0!=(8&t.flags)}(r)&&Oa(o,r,yt(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function Fp(t){return 0!=(16&t.flags)}(r)&&Oa(o,r,yt(),r.stylesWithoutHost,!1),mp}function gp(t,r,o,a){return Na(t,r,o,a),mp(),gp}let Vy=(t,r,o,a,u,d)=>(ho(!0),Ql(a,u,function Ic(){return rn.lFrame.currentNamespace}()));function _p(t,r,o){const a=yt(),u=dr(),d=t+Ln,g=u.firstCreatePass?function MI(t,r,o,a,u){const d=r.consts,g=In(d,a),w=du(r,t,8,"ng-container",g);return null!==g&&Th(w,g,!0),ph(r,o,w,In(d,u)),null!==r.queries&&r.queries.elementStart(r,w),w}(d,u,a,r,o):u.data[d];Tn(g,!0);const w=Tg(u,a,g,t);return a[d]=w,Ua()&&Nd(u,a,w,g),mo(w,a),Xs(g)&&(Qm(u,a,g),dh(u,g,a)),null!=o&&hh(a,g),_p}function yp(){let t=gr();const r=dr();return wo()?Ul():(t=t.parent,Tn(t,!1)),r.firstCreatePass&&(ji(r,t),Io(t)&&r.queries.elementEnd(t)),yp}function Eg(t,r,o){return _p(t,r,o),yp(),Eg}let Tg=(t,r,o,a)=>(ho(!0),Hu(r[yn],""));function By(){return yt()}function vp(t){return!!t&&"function"==typeof t.then}function Hy(t){return!!t&&"function"==typeof t.subscribe}function pu(t,r,o,a){const u=yt(),d=dr(),g=gr();return function jy(t,r,o,a,u,d,g){const w=Xs(a),H=t.firstCreatePass&&Wf(t),ee=r[rr],_e=Ih(r);let Ue=!0;if(3&a.type||g){const St=qt(a,r),Zt=g?g(St):St,An=_e.length,vt=g?vr=>g(Tr(vr[a.index])):a.index;let er=null;if(!g&&w&&(er=function JE(t,r,o,a){const u=t.cleanup;if(null!=u)for(let d=0;d<u.length-1;d+=2){const g=u[d];if(g===o&&u[d+1]===a){const w=r[Wi],P=u[d+2];return w.length>P?w[P]:null}"string"==typeof g&&(d+=2)}return null}(t,r,u,a.index)),null!==er)(er.__ngLastListenerFn__||er).__ngNextListenerFn__=d,er.__ngLastListenerFn__=d,Ue=!1;else{d=zy(a,r,ee,d,!1);const vr=o.listen(Zt,u,d);_e.push(d,vr),H&&H.push(u,vt,An,An+1)}}else d=zy(a,r,ee,d,!1);const ze=a.outputs;let ht;if(Ue&&null!==ze&&(ht=ze[u])){const St=ht.length;if(St)for(let Zt=0;Zt<St;Zt+=2){const hi=r[ht[Zt]][ht[Zt+1]].subscribe(d),ga=_e.length;_e.push(d,hi),H&&H.push(u,a.index,ga,-(ga+1))}}}(d,u,u[yn],g,t,r,a),pu}function $y(t,r,o,a){try{return Vr(6,r,o),!1!==o(a)}catch(u){return rc(t,u),!1}finally{Vr(7,r,o)}}function zy(t,r,o,a,u){return function d(g){if(g===Function)return a;lh(t.componentOffset>-1?Wn(t.index,r):r);let P=$y(r,o,a,g),H=d.__ngNextListenerFn__;for(;H;)P=$y(r,o,H,g)&&P,H=H.__ngNextListenerFn__;return u&&!1===P&&g.preventDefault(),P}}function Gy(t=1){return function Ht(t){return(rn.lFrame.contextLView=function qn(t,r){for(;t>0;)r=r[rs],t--;return r}(t,rn.lFrame.contextLView))[rr]}(t)}function OI(t,r){let o=null;const a=function Ps(t){const r=t.attrs;if(null!=r){const o=r.indexOf(5);if(!(1&o))return r[o+1]}return null}(t);for(let u=0;u<r.length;u++){const d=r[u];if("*"!==d){if(null===a?pi(t,d,!0):Gi(a,d))return u}else o=u}return o}function NI(t){const r=yt()[Er][Hr];if(!r.projection){const a=r.projection=Aa(t?t.length:1,null),u=a.slice();let d=r.child;for(;null!==d;){const g=t?OI(d,t):0;null!==g&&(u[g]?u[g].projectionNext=d:a[g]=d,u[g]=d),d=d.next}}}function LI(t,r=0,o){const a=yt(),u=dr(),d=du(u,Ln+t,16,null,o||null);null===d.projection&&(d.projection=r),Ul(),(!a[jr]||_t())&&32!=(32&d.flags)&&function dm(t,r,o){hm(r[yn],0,r,o,Rd(t,o,r),Sa(o.parent||r[Hr],o,r))}(u,a,d)}function Ep(t,r){return t<<17|r<<2}function mu(t){return t>>17&32767}function Cg(t){return 2|t}function dc(t){return(131068&t)>>2}function Jy(t,r){return-131069&t|r<<2}function Tp(t){return 1|t}function BI(t,r,o,a,u){const d=t[o+1],g=null===r;let w=a?mu(d):dc(d),P=!1;for(;0!==w&&(!1===P||g);){const ee=t[w+1];Xy(t[w],r)&&(P=!0,t[w+1]=a?Tp(ee):Cg(ee)),w=a?mu(ee):dc(ee)}P&&(t[o+1]=a?Cg(d):Tp(d))}function Xy(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&za(t,r)>=0}const Is={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function HI(t){return t.substring(Is.key,Is.keyEnd)}function ev(t,r){const o=Is.textEnd;return o===r?-1:(r=Is.keyEnd=function xh(t,r,o){for(;r<o&&t.charCodeAt(r)>32;)r++;return r}(t,Is.key=r,o),hc(t,r,o))}function hc(t,r,o){for(;r<o&&t.charCodeAt(r)<=32;)r++;return r}function bp(t,r){return function ha(t,r,o,a){const u=yt(),d=dr(),g=As(2);d.firstUpdatePass&&ld(d,t,g,a),r!==Yn&&Li(u,g,r)&&qI(d,d.data[zn()],u,u[yn],t,u[g+1]=function KI(t,r){return null==t||""===t||("string"==typeof r?t+=r:"object"==typeof t&&(t=ye(Za(t)))),t}(r,o),a,g)}(t,r,null,!0),bp}function Qo(t){!function fa(t,r,o,a){const u=dr(),d=As(2);u.firstUpdatePass&&ld(u,null,d,a);const g=yt();if(o!==Yn&&Li(g,d,o)){const w=u.data[zn()];if(Dp(w,a)&&!ad(u,d)){let P=a?w.classesWithoutHost:w.stylesWithoutHost;null!==P&&(o=je(P,o||"")),Oa(u,w,g,o,a)}else!function WI(t,r,o,a,u,d,g,w){u===Yn&&(u=ct);let P=0,H=0,ee=0<u.length?u[0]:null,_e=0<d.length?d[0]:null;for(;null!==ee||null!==_e;){const Ue=P<u.length?u[P+1]:void 0,ze=H<d.length?d[H+1]:void 0;let St,ht=null;ee===_e?(P+=2,H+=2,Ue!==ze&&(ht=_e,St=ze)):null===_e||null!==ee&&ee<_e?(P+=2,ht=ee):(H+=2,ht=_e,St=ze),null!==ht&&qI(t,r,o,a,ht,St,g,w),ee=P<u.length?u[P]:null,_e=H<d.length?d[H]:null}}(u,w,g,g[yn],g[d+1],g[d+1]=function mc(t,r,o){if(null==o||""===o)return ct;const a=[],u=Za(o);if(Array.isArray(u))for(let d=0;d<u.length;d++)t(a,u[d],!0);else if("object"==typeof u)for(const d in u)u.hasOwnProperty(d)&&t(a,d,u[d]);else"string"==typeof u&&r(a,u);return a}(t,r,o),a,d)}}(GI,ki,t,!0)}function ki(t,r){for(let o=function wp(t){return function Dg(t){Is.key=0,Is.keyEnd=0,Is.value=0,Is.valueEnd=0,Is.textEnd=t.length}(t),ev(t,hc(t,0,Is.textEnd))}(r);o>=0;o=ev(r,o))_s(t,HI(r),!0)}function ad(t,r){return r>=t.expandoStartIndex}function ld(t,r,o,a){const u=t.data;if(null===u[o+1]){const d=u[zn()],g=ad(t,o);Dp(d,a)&&null===r&&!g&&(r=!1),r=function So(t,r,o,a){const u=function aa(t){const r=rn.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}(t);let d=a?r.residualClasses:r.residualStyles;if(null===u)0===(a?r.classBindings:r.styleBindings)&&(o=pc(o=Nl(null,t,r,o,a),r.attrs,a),d=null);else{const g=r.directiveStylingLast;if(-1===g||t[g]!==u)if(o=Nl(u,t,r,o,a),null===d){let P=function zI(t,r,o){const a=o?r.classBindings:r.styleBindings;if(0!==dc(a))return t[mu(a)]}(t,r,a);void 0!==P&&Array.isArray(P)&&(P=Nl(null,t,r,P[1],a),P=pc(P,r.attrs,a),function Rg(t,r,o,a){t[mu(o?r.classBindings:r.styleBindings)]=a}(t,r,a,P))}else d=function ud(t,r,o){let a;const u=r.directiveEnd;for(let d=1+r.directiveStylingLast;d<u;d++)a=pc(a,t[d].hostAttrs,o);return pc(a,r.attrs,o)}(t,r,a)}return void 0!==d&&(a?r.residualClasses=d:r.residualStyles=d),o}(u,d,r,a),function t0(t,r,o,a,u,d){let g=d?r.classBindings:r.styleBindings,w=mu(g),P=dc(g);t[a]=o;let ee,H=!1;if(Array.isArray(o)?(ee=o[1],(null===ee||za(o,ee)>0)&&(H=!0)):ee=o,u)if(0!==P){const Ue=mu(t[w+1]);t[a+1]=Ep(Ue,w),0!==Ue&&(t[Ue+1]=Jy(t[Ue+1],a)),t[w+1]=function UI(t,r){return 131071&t|r<<17}(t[w+1],a)}else t[a+1]=Ep(w,0),0!==w&&(t[w+1]=Jy(t[w+1],a)),w=a;else t[a+1]=Ep(P,0),0===w?w=a:t[P+1]=Jy(t[P+1],a),P=a;H&&(t[a+1]=Cg(t[a+1])),BI(t,ee,a,!0),BI(t,ee,a,!1),function n0(t,r,o,a,u){const d=u?t.residualClasses:t.residualStyles;null!=d&&"string"==typeof r&&za(d,r)>=0&&(o[a+1]=Tp(o[a+1]))}(r,ee,t,a,d),g=Ep(w,P),d?r.classBindings=g:r.styleBindings=g}(u,d,r,o,g,a)}}function Nl(t,r,o,a,u){let d=null;const g=o.directiveEnd;let w=o.directiveStylingLast;for(-1===w?w=o.directiveStart:w++;w<g&&(d=r[w],a=pc(a,d.hostAttrs,u),d!==t);)w++;return null!==t&&(o.directiveStylingLast=w),a}function pc(t,r,o){const a=o?1:2;let u=-1;if(null!==r)for(let d=0;d<r.length;d++){const g=r[d];"number"==typeof g?u=g:u===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),_s(t,g,!!o||r[++d]))}return void 0===t?null:t}function GI(t,r,o){const a=String(r);""!==a&&!a.includes(" ")&&_s(t,a,o)}function qI(t,r,o,a,u,d,g,w){if(!(3&r.type))return;const P=t.data,H=P[w+1],ee=function XE(t){return 1==(1&t)}(H)?iv(P,r,o,u,dc(H),g):void 0;Oh(ee)||(Oh(d)||function VI(t){return 2==(2&t)}(H)&&(d=iv(P,null,o,u,w,g)),function d_(t,r,o,a,u){if(r)u?t.addClass(o,a):t.removeClass(o,a);else{let d=-1===a.indexOf("-")?void 0:Wa.DashCase;null==u?t.removeStyle(o,a,d):("string"==typeof u&&u.endsWith("!important")&&(u=u.slice(0,-10),d|=Wa.Important),t.setStyle(o,a,u,d))}}(a,g,ia(zn(),o),u,d))}function iv(t,r,o,a,u,d){const g=null===r;let w;for(;u>0;){const P=t[u],H=Array.isArray(P),ee=H?P[1]:P,_e=null===ee;let Ue=o[u+1];Ue===Yn&&(Ue=_e?ct:void 0);let ze=_e?Pu(Ue,a):ee===a?Ue:void 0;if(H&&!Oh(ze)&&(ze=Pu(P,a)),Oh(ze)&&(w=ze,g))return w;const ht=t[u+1];u=g?mu(ht):dc(ht)}if(null!==r){let P=d?r.residualClasses:r.residualStyles;null!=P&&(w=Pu(P,a))}return w}function Oh(t){return void 0!==t}function Dp(t,r){return 0!=(t.flags&(r?8:16))}function Mg(t,r=""){const o=yt(),a=dr(),u=t+Ln,d=a.firstCreatePass?du(a,u,1,r,null):a.data[u],g=Nh(a,o,d,r,t);o[u]=g,Ua()&&Nd(a,o,g,d),Tn(d,!1)}let Nh=(t,r,o,a,u)=>(ho(!0),function Ad(t,r){return t.createText(r)}(r[yn],a));function Lh(t){return Ap("",t,""),Lh}function Ap(t,r,o){const a=yt(),u=function ic(t,r,o,a){return Li(t,Ut(),o)?r+pe(o)+a:Yn}(a,t,r,o);return u!==Yn&&function xa(t,r,o){const a=ia(r,t);!function af(t,r,o){t.setValue(r,o)}(t[yn],a,o)}(a,zn(),u),Ap}const gu=void 0;var yw=["en",[["a","p"],["AM","PM"],gu],[["AM","PM"],gu,gu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],gu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],gu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",gu,"{1} 'at' {0}",gu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function _w(t){const o=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===a?1:5}];let Sp={};function JI(t){const r=function vw(t){return t.toLowerCase().replace(/_/g,"-")}(t);let o=o0(r);if(o)return o;const a=r.split("-")[0];if(o=o0(a),o)return o;if("en"===a)return yw;throw new oe(701,!1)}function s0(t){return JI(t)[Pp.PluralCase]}function o0(t){return t in Sp||(Sp[t]=Ct.ng&&Ct.ng.common&&Ct.ng.common.locales&&Ct.ng.common.locales[t]),Sp[t]}var Pp=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Pp||{});const Rp="en-US";let a0=Rp;function tE(t,r,o,a,u){if(t=Xe(t),Array.isArray(t))for(let d=0;d<t.length;d++)tE(t[d],r,o,a,u);else{const d=dr(),g=yt(),w=gr();let P=Ku(t)?t:Xe(t.provide);const H=N_(t),ee=1048575&w.providerIndexes,_e=w.directiveStart,Ue=w.providerIndexes>>20;if(Ku(t)||!t.multi){const ze=new fl(H,u,Yc),ht=rE(P,r,u?ee:ee+Ue,_e);-1===ht?(ml(pl(w,g),d,P),nE(d,t,r.length),r.push(P),w.directiveStart++,w.directiveEnd++,u&&(w.providerIndexes+=1048576),o.push(ze),g.push(ze)):(o[ht]=ze,g[ht]=ze)}else{const ze=rE(P,r,ee+Ue,_e),ht=rE(P,r,ee,ee+Ue),Zt=ht>=0&&o[ht];if(u&&!Zt||!u&&!(ze>=0&&o[ze])){ml(pl(w,g),d,P);const An=function _C(t,r,o,a,u){const d=new fl(t,o,Yc);return d.multi=[],d.index=r,d.componentProviders=0,x0(d,u,a&&!o),d}(u?gC:mC,o.length,u,a,H);!u&&Zt&&(o[ht].providerFactory=An),nE(d,t,r.length,0),r.push(P),w.directiveStart++,w.directiveEnd++,u&&(w.providerIndexes+=1048576),o.push(An),g.push(An)}else nE(d,t,ze>-1?ze:ht,x0(o[u?ht:ze],H,!u&&a));!u&&a&&Zt&&o[ht].componentProviders++}}}function nE(t,r,o,a){const u=Ku(r),d=function Hv(t){return!!t.useClass}(r);if(u||d){const P=(d?Xe(r.useClass):r).prototype.ngOnDestroy;if(P){const H=t.destroyHooks||(t.destroyHooks=[]);if(!u&&r.multi){const ee=H.indexOf(o);-1===ee?H.push(o,[a,P]):H[ee+1].push(a,P)}else H.push(o,P)}}}function x0(t,r,o){return o&&t.componentProviders++,t.multi.push(r)-1}function rE(t,r,o,a){for(let u=o;u<a;u++)if(r[u]===t)return u;return-1}function mC(t,r,o,a){return iE(this.multi,[])}function gC(t,r,o,a){const u=this.multi;let d;if(this.providerFactory){const g=this.providerFactory.componentProviders,w=ni(o,o[Ot],this.providerFactory.index,a);d=w.slice(0,g),iE(u,d);for(let P=g;P<w.length;P++)d.push(w[P])}else d=[],iE(u,d);return d}function iE(t,r){for(let o=0;o<t.length;o++)r.push((0,t[o])());return r}function O0(t,r=[]){return o=>{o.providersResolver=(a,u)=>function pC(t,r,o){const a=dr();if(a.firstCreatePass){const u=Ui(t);tE(o,a.data,a.blueprint,u,!0),tE(r,a.data,a.blueprint,u,!1)}}(a,u?u(t):t,r)}}class kh{}class N0{}function yC(t,r){return new sE(t,r??null,[])}class sE extends kh{constructor(r,o,a){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ug(this);const u=Br(r);this._bootstrapComponents=Ma(u.bootstrap),this._r3Injector=nh(r,o,[{provide:kh,useValue:this},{provide:Sf,useValue:this.componentFactoryResolver},...a],ye(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class oE extends N0{constructor(r){super(),this.moduleType=r}create(r){return new sE(this.moduleType,r,[])}}class L0 extends kh{constructor(r){super(),this.componentFactoryResolver=new ug(this),this.instance=null;const o=new su([...r.providers,{provide:kh,useValue:this},{provide:Sf,useValue:this.componentFactoryResolver}],r.parent||gf(),r.debugName,new Set(["environment"]));this.injector=o,r.runEnvironmentInitializers&&o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function k0(t,r,o=null){return new L0({providers:t,parent:r,debugName:o,runEnvironmentInitializers:!0}).injector}let IC=(()=>{class t{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o)){const a=Tm(0,o.type),u=a.length>0?k0([a],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o,u)}return this.cachedInjectors.get(o)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=un({token:t,providedIn:"environment",factory:()=>new t(It(Ja))})}return t})();function F0(t){t.getStandaloneInjector=r=>r.get(IC).getOrCreateStandaloneInjector(t)}function z0(t,r,o,a){return function q0(t,r,o,a,u,d){const g=r+o;return Li(t,g,u)?il(t,g+1,d?a.call(d,u):a(u)):Bg(t,g+1)}(yt(),Dn(),t,r,o,a)}function G0(t,r,o,a,u){return function K0(t,r,o,a,u,d,g){const w=r+o;return id(t,w,u,d)?il(t,w+2,g?a.call(g,u,d):a(u,d)):Bg(t,w+2)}(yt(),Dn(),t,r,o,a,u)}function W0(t,r,o,a,u,d){return function Z0(t,r,o,a,u,d,g,w){const P=r+o;return function sl(t,r,o,a,u){const d=id(t,r,o,a);return Li(t,r+2,u)||d}(t,P,u,d,g)?il(t,P+3,w?a.call(w,u,d,g):a(u,d,g)):Bg(t,P+3)}(yt(),Dn(),t,r,o,a,u,d)}function Bg(t,r){const o=t[r];return o===Yn?void 0:o}function $C(){return this._results[Symbol.iterator]()}class lE{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Xa)}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=lE.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=$C)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,o){return this._results.reduce(r,o)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,o){const a=this;a.dirty=!1;const u=function ur(t){return t.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function Wh(t,r,o){if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++){let u=t[a],d=r[a];if(o&&(u=o(u),d=o(d)),d!==u)return!1}return!0}(a._results,u,o))&&(a._results=u,a.length=u.length,a.last=u[this.length-1],a.first=u[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function GC(t,r,o,a=!0){const u=r[Ot];if(function a_(t,r,o,a){const u=$r+a,d=o.length;a>0&&(o[u-1][si]=r),a<d-$r?(r[si]=o[u],vd(o,$r+a,r)):(o.push(r),r[si]=null),r[$n]=o;const g=r[Kr];null!==g&&o!==g&&function Av(t,r){const o=t[wi];r[Er]!==r[$n][$n][Er]&&(t[Oo]=!0),null===o?t[wi]=[r]:o.push(r)}(g,r);const w=r[ci];null!==w&&w.insertView(t),r[Sn]|=128}(u,r,t,o),a){const d=um(o,t),g=r[yn],w=Md(g,t[mi]);null!==w&&function lf(t,r,o,a,u,d){a[Mr]=u,a[Hr]=r,Lc(t,a,o,1,u,d)}(u,t[Hr],g,r,w,d)}}let jg=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=KC}return t})();const WC=jg,qC=class extends WC{constructor(r,o,a){super(),this._declarationLView=r,this._declarationTContainer=o,this.elementRef=a}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(r,o){return this.createEmbeddedViewImpl(r,o)}createEmbeddedViewImpl(r,o,a){const u=function zC(t,r,o,a){const u=r.tView,w=Jc(t,u,o,4096&t[Sn]?4096:16,null,r,null,null,null,a?.injector??null,a?.hydrationInfo??null);w[Kr]=t[r.index];const H=t[ci];return null!==H&&(w[ci]=H.createEmbeddedView(u)),Eh(u,w,o),w}(this._declarationLView,this._declarationTContainer,r,{injector:o,hydrationInfo:a});return new td(u)}};function KC(){return gv(gr(),yt())}function gv(t,r){return 4&t.type?new qC(r,t,Kc(t,r)):null}let yv=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=eb}return t})();function eb(){return iT(gr(),yt())}const tb=yv,nT=class extends tb{constructor(r,o,a){super(),this._lContainer=r,this._hostTNode=o,this._hostLView=a}get element(){return Kc(this._hostTNode,this._hostLView)}get injector(){return new Qi(this._hostTNode,this._hostLView)}get parentInjector(){const r=Yr(this._hostTNode,this._hostLView);if(fd(r)){const o=Eu(r,this._hostLView),a=Iu(r);return new Qi(o[Ot].data[a+8],o)}return new Qi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const o=rT(this._lContainer);return null!==o&&o[r]||null}get length(){return this._lContainer.length-$r}createEmbeddedView(r,o,a){let u,d;"number"==typeof a?u=a:null!=a&&(u=a.index,d=a.injector);const w=r.createEmbeddedViewImpl(o||{},d,null);return this.insertImpl(w,u,false),w}createComponent(r,o,a,u,d){const g=r&&!function $i(t){return"function"==typeof t}(r);let w;if(g)w=o;else{const St=o||{};w=St.index,a=St.injector,u=St.projectableNodes,d=St.environmentInjector||St.ngModuleRef}const P=g?r:new nd(xn(r)),H=a||this.parentInjector;if(!d&&null==P.ngModule){const Zt=(g?H:this.parentInjector).get(Ja,null);Zt&&(d=Zt)}xn(P.componentType??{});const ze=P.create(H,u,null,d);return this.insertImpl(ze.hostView,w,false),ze}insert(r,o){return this.insertImpl(r,o,!1)}insertImpl(r,o,a){const u=r._lView;if(function Ds(t){return ar(t[$n])}(u)){const P=this.indexOf(r);if(-1!==P)this.detach(P);else{const H=u[$n],ee=new nT(H,H[Hr],H[$n]);ee.detach(ee.indexOf(r))}}const g=this._adjustIndex(o),w=this._lContainer;return GC(w,u,g,!a),r.attachToViewContainerRef(),vd(uE(w),g,r),r}move(r,o){return this.insert(r,o)}indexOf(r){const o=rT(this._lContainer);return null!==o?o.indexOf(r):-1}remove(r){const o=this._adjustIndex(r,-1),a=Pd(this._lContainer,o);a&&(Su(uE(this._lContainer),o),rm(a[Ot],a))}detach(r){const o=this._adjustIndex(r,-1),a=Pd(this._lContainer,o);return a&&null!=Su(uE(this._lContainer),o)?new td(a):null}_adjustIndex(r,o=0){return r??this.length+o}};function rT(t){return t[8]}function uE(t){return t[8]||(t[8]=[])}function iT(t,r){let o;const a=r[t.index];return ar(a)?o=a:(o=zf(a,r,null,t),r[t.index]=o,yh(r,o)),sT(o,r,t,a),new nT(o,t,r)}let sT=function oT(t,r,o,a){if(t[mi])return;let u;u=8&o.type?Tr(a):function nb(t,r){const o=t[yn],a=o.createComment(""),u=qt(r,t);return Yl(o,Md(o,u),a,function xd(t,r){return t.nextSibling(r)}(o,u),!1),a}(r,o),t[mi]=u};class cE{constructor(r){this.queryList=r,this.matches=null}clone(){return new cE(this.queryList)}setDirty(){this.queryList.setDirty()}}class dE{constructor(r=[]){this.queries=r}createEmbeddedView(r){const o=r.queries;if(null!==o){const a=null!==r.contentQueries?r.contentQueries[0]:o.length,u=[];for(let d=0;d<a;d++){const g=o.getByIndex(d);u.push(this.queries[g.indexInDeclarationView].clone())}return new dE(u)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let o=0;o<this.queries.length;o++)null!==mT(r,o).matches&&this.queries[o].setDirty()}}class aT{constructor(r,o,a=null){this.predicate=r,this.flags=o,this.read=a}}class hE{constructor(r=[]){this.queries=r}elementStart(r,o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,o)}elementEnd(r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(r)}embeddedTView(r){let o=null;for(let a=0;a<this.length;a++){const u=null!==o?o.length:0,d=this.getByIndex(a).embeddedTView(r,u);d&&(d.indexInDeclarationView=a,null!==o?o.push(d):o=[d])}return null!==o?new hE(o):null}template(r,o){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,o)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class fE{constructor(r,o=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(r,o){this.isApplyingToNode(o)&&this.matchTNode(r,o)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,o){this.elementStart(r,o)}embeddedTView(r,o){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,o),new fE(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==o;)a=a.parent;return o===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,o){const a=this.metadata.predicate;if(Array.isArray(a))for(let u=0;u<a.length;u++){const d=a[u];this.matchTNodeWithReadOption(r,o,sb(o,d)),this.matchTNodeWithReadOption(r,o,wc(o,r,d,!1,!1))}else a===jg?4&o.type&&this.matchTNodeWithReadOption(r,o,-1):this.matchTNodeWithReadOption(r,o,wc(o,r,a,!1,!1))}matchTNodeWithReadOption(r,o,a){if(null!==a){const u=this.metadata.read;if(null!==u)if(u===Ju||u===yv||u===jg&&4&o.type)this.addMatch(o.index,-2);else{const d=wc(o,r,u,!1,!1);null!==d&&this.addMatch(o.index,d)}else this.addMatch(o.index,a)}}addMatch(r,o){null===this.matches?this.matches=[r,o]:this.matches.push(r,o)}}function sb(t,r){const o=t.localNames;if(null!==o)for(let a=0;a<o.length;a+=2)if(o[a]===r)return o[a+1];return null}function ab(t,r,o,a){return-1===o?function ob(t,r){return 11&t.type?Kc(t,r):4&t.type?gv(t,r):null}(r,t):-2===o?function lb(t,r,o){return o===Ju?Kc(r,t):o===jg?gv(r,t):o===yv?iT(r,t):void 0}(t,r,a):ni(t,t[Ot],o,r)}function lT(t,r,o,a){const u=r[ci].queries[a];if(null===u.matches){const d=t.data,g=o.matches,w=[];for(let P=0;P<g.length;P+=2){const H=g[P];w.push(H<0?null:ab(r,d[H],g[P+1],o.metadata.read))}u.matches=w}return u.matches}function pE(t,r,o,a){const u=t.queries.getByIndex(o),d=u.matches;if(null!==d){const g=lT(t,r,u,o);for(let w=0;w<d.length;w+=2){const P=d[w];if(P>0)a.push(g[w/2]);else{const H=d[w+1],ee=r[-P];for(let _e=$r;_e<ee.length;_e++){const Ue=ee[_e];Ue[Kr]===Ue[$n]&&pE(Ue[Ot],Ue,H,a)}if(null!==ee[wi]){const _e=ee[wi];for(let Ue=0;Ue<_e.length;Ue++){const ze=_e[Ue];pE(ze[Ot],ze,H,a)}}}}}return a}function uT(t){const r=yt(),o=dr(),a=vc();T(a+1);const u=mT(o,a);if(t.dirty&&function Eo(t){return 4==(4&t[Sn])}(r)===(2==(2&u.metadata.flags))){if(null===u.matches)t.reset([]);else{const d=u.crossesNgTemplate?pE(o,r,a,[]):lT(o,r,u,a);t.reset(d,Kv),t.notifyOnChanges()}return!0}return!1}function cT(t,r,o){const a=dr();a.firstCreatePass&&(pT(a,new aT(t,r,o),-1),2==(2&r)&&(a.staticViewQueries=!0)),fT(a,yt(),r)}function dT(t,r,o,a){const u=dr();if(u.firstCreatePass){const d=gr();pT(u,new aT(r,o,a),d.index),function cb(t,r){const o=t.contentQueries||(t.contentQueries=[]);r!==(o.length?o[o.length-1]:-1)&&o.push(t.queries.length-1,r)}(u,t),2==(2&o)&&(u.staticContentQueries=!0)}fT(u,yt(),o)}function hT(){return function ub(t,r){return t[ci].queries[r].queryList}(yt(),vc())}function fT(t,r,o){const a=new lE(4==(4&o));(function Xm(t,r,o,a){const u=Ih(r);u.push(o),t.firstCreatePass&&Wf(t).push(a,u.length-1)})(t,r,a,a.destroy),null===r[ci]&&(r[ci]=new dE),r[ci].queries.push(new cE(a))}function pT(t,r,o){null===t.queries&&(t.queries=new hE),t.queries.track(new fE(r,o))}function mT(t,r){return t.queries.getByIndex(r)}function mE(t){return!!Br(t)}const xT=new qe("Application Initializer");let IE=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((o,a)=>{this.resolve=o,this.reject=a}),this.appInits=kt(xT,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const o=[];for(const u of this.appInits){const d=u();if(vp(d))o.push(d);else if(Hy(d)){const g=new Promise((w,P)=>{d.subscribe({complete:w,error:P})});o.push(g)}}const a=()=>{this.done=!0,this.resolve()};Promise.all(o).then(()=>{a()}).catch(u=>{this.reject(u)}),0===o.length&&a(),this.initialized=!0}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=un({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),OT=(()=>{class t{log(o){console.log(o)}warn(o){console.warn(o)}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=un({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const Iv=new qe("LocaleId",{providedIn:"root",factory:()=>kt(Iv,en.Optional|en.SkipSelf)||function xb(){return typeof $localize<"u"&&$localize.locale||Rp}()}),Ob=new qe("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let NT=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new $.X(!1)}add(){this.hasPendingTasks.next(!0);const o=this.taskId++;return this.pendingTasks.add(o),o}remove(o){this.pendingTasks.delete(o),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=un({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class Lb{constructor(r,o){this.ngModuleFactory=r,this.componentFactories=o}}let kb=(()=>{class t{compileModuleSync(o){return new oE(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const a=this.compileModuleSync(o),d=Ma(Br(o).declarations).reduce((g,w)=>{const P=xn(w);return P&&g.push(new nd(P)),g},[]);return new Lb(a,d)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=un({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const VT=new qe(""),UT=new qe("");let wE,iD=(()=>{class t{constructor(o,a,u){this._ngZone=o,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,wE||(function sD(t){wE=t}(u),u.addToWindow(a)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Fs.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(o)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,a,u){let d=-1;a&&a>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(g=>g.timeoutId!==d),o(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:o,timeoutId:d,updateCb:u})}whenStable(o,a,u){if(u&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,a,u),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,a,u){return[]}static#e=this.\u0275fac=function(a){return new(a||t)(It(Fs),It(BT),It(UT))};static#t=this.\u0275prov=un({token:t,factory:t.\u0275fac})}return t})(),BT=(()=>{class t{constructor(){this._applications=new Map}registerApplication(o,a){this._applications.set(o,a)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,a=!0){return wE?.findTestabilityInTree(this,o,a)??null}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=un({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),cd=null;const HT=new qe("AllowMultipleToken"),CE=new qe("PlatformDestroyListeners"),bE=new qe("appBootstrapListener");class lD{constructor(r,o){this.name=r,this.token=o}}function zT(t,r,o=[]){const a=`Platform: ${r}`,u=new qe(a);return(d=[])=>{let g=DE();if(!g||g.injector.get(HT,!1)){const w=[...o,...d,{provide:u,useValue:!0}];t?t(w):function uD(t){if(cd&&!cd.get(HT,!1))throw new oe(400,!1);(function jT(){!function y(t){ra=t}(()=>{throw new oe(600,!1)})})(),cd=t;const r=t.get(WT);(function $T(t){t.get(L_,null)?.forEach(o=>o())})(t)}(function GT(t=[],r){return Zo.create({name:r,providers:[{provide:$d,useValue:"platform"},{provide:CE,useValue:new Set([()=>cd=null])},...t]})}(w,a))}return function dD(t){const r=DE();if(!r)throw new oe(401,!1);return r}()}}function DE(){return cd?.get(WT)??null}let WT=(()=>{class t{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,a){const u=function hD(t="zone.js",r){return"noop"===t?new $m:"zone.js"===t?new Fs(r):t}(a?.ngZone,function qT(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:a?.ngZoneEventCoalescing,runCoalescing:a?.ngZoneRunCoalescing}));return u.run(()=>{const d=function vC(t,r,o){return new sE(t,r,o)}(o.moduleType,this.injector,function JT(t){return[{provide:Fs,useFactory:t},{provide:Hd,multi:!0,useFactory:()=>{const r=kt(pD,{optional:!0});return()=>r.initialize()}},{provide:YT,useFactory:fD},{provide:tc,useFactory:nc}]}(()=>u)),g=d.injector.get(lu,null);return u.runOutsideAngular(()=>{const w=u.onError.subscribe({next:P=>{g.handleError(P)}});d.onDestroy(()=>{Tv(this._modules,d),w.unsubscribe()})}),function KT(t,r,o){try{const a=o();return vp(a)?a.catch(u=>{throw r.runOutsideAngular(()=>t.handleError(u)),u}):a}catch(a){throw r.runOutsideAngular(()=>t.handleError(a)),a}}(g,u,()=>{const w=d.injector.get(IE);return w.runInitializers(),w.donePromise.then(()=>(function l0(t){Tt(t,"Expected localeId to be defined"),"string"==typeof t&&(a0=t.toLowerCase().replace(/_/g,"-"))}(d.injector.get(Iv,Rp)||Rp),this._moduleDoBootstrap(d),d))})})}bootstrapModule(o,a=[]){const u=ZT({},a);return function oD(t,r,o){const a=new oE(o);return Promise.resolve(a)}(0,0,o).then(d=>this.bootstrapModuleFactory(d,u))}_moduleDoBootstrap(o){const a=o.injector.get(Op);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(u=>a.bootstrap(u));else{if(!o.instance.ngDoBootstrap)throw new oe(-403,!1);o.instance.ngDoBootstrap(a)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new oe(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const o=this._injector.get(CE,null);o&&(o.forEach(a=>a()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(a){return new(a||t)(It(Zo))};static#t=this.\u0275prov=un({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function ZT(t,r){return Array.isArray(r)?r.reduce(ZT,t):{...t,...r}}let Op=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=kt(YT),this.zoneIsStable=kt(tc),this.componentTypes=[],this.components=[],this.isStable=kt(NT).hasPendingTasks.pipe((0,ue.w)(o=>o?(0,Y.of)(!1):this.zoneIsStable),(0,de.x)(),(0,W.B)()),this._injector=kt(Ja)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,a){const u=o instanceof Jd;if(!this._injector.get(IE).done)throw!u&&Ai(o),new oe(405,!1);let g;g=u?o:this._injector.get(Sf).resolveComponentFactory(o),this.componentTypes.push(g.componentType);const w=function aD(t){return t.isBoundToModule}(g)?void 0:this._injector.get(kh),H=g.create(Zo.NULL,[],a||g.selector,w),ee=H.location.nativeElement,_e=H.injector.get(VT,null);return _e?.registerApplication(ee),H.onDestroy(()=>{this.detachView(H.hostView),Tv(this.components,H),_e?.unregisterApplication(ee)}),this._loadComponent(H),H}tick(){if(this._runningTick)throw new oe(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1}}attachView(o){const a=o;this._views.push(a),a.attachToAppRef(this)}detachView(o){const a=o;Tv(this._views,a),a.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const a=this._injector.get(bE,[]);a.push(...this._bootstrapListeners),a.forEach(u=>u(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>Tv(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new oe(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=un({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Tv(t,r){const o=t.indexOf(r);o>-1&&t.splice(o,1)}const YT=new qe("",{providedIn:"root",factory:()=>kt(lu).handleError.bind(void 0)});function fD(){const t=kt(Fs),r=kt(lu);return o=>t.runOutsideAngular(()=>r.handleError(o))}let pD=(()=>{class t{constructor(){this.zone=kt(Fs),this.applicationRef=kt(Op)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=un({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function gD(){return!1}let _D=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=yD}return t})();function yD(t){return function vD(t,r,o){if(Zi(t)&&!o){const a=Wn(t.index,r);return new td(a,a)}return 47&t.type?new td(r[Er],r):null}(gr(),yt(),16==(16&t))}class nw{constructor(){}supports(r){return dg(r)}create(r){return new bD(r)}}const CD=(t,r)=>r;class bD{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||CD}forEachItem(r){let o;for(o=this._itHead;null!==o;o=o._next)r(o)}forEachOperation(r){let o=this._itHead,a=this._removalsHead,u=0,d=null;for(;o||a;){const g=!a||o&&o.currentIndex<iw(a,u,d)?o:a,w=iw(g,u,d),P=g.currentIndex;if(g===a)u--,a=a._nextRemoved;else if(o=o._next,null==g.previousIndex)u++;else{d||(d=[]);const H=w-u,ee=P-u;if(H!=ee){for(let Ue=0;Ue<H;Ue++){const ze=Ue<d.length?d[Ue]:d[Ue]=0,ht=ze+Ue;ee<=ht&&ht<H&&(d[Ue]=ze+1)}d[g.previousIndex]=ee-H}}w!==P&&r(g,w,P)}}forEachPreviousItem(r){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachMovedItem(r){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}forEachIdentityChange(r){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)r(o)}diff(r){if(null==r&&(r=[]),!dg(r))throw new oe(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let u,d,g,o=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let w=0;w<this.length;w++)d=r[w],g=this._trackByFn(w,d),null!==o&&Object.is(o.trackById,g)?(a&&(o=this._verifyReinsertion(o,d,g,w)),Object.is(o.item,d)||this._addIdentityChange(o,d)):(o=this._mismatch(o,d,g,w),a=!0),o=o._next}else u=0,function EI(t,r){if(Array.isArray(t))for(let o=0;o<t.length;o++)r(t[o]);else{const o=t[Symbol.iterator]();let a;for(;!(a=o.next()).done;)r(a.value)}}(r,w=>{g=this._trackByFn(u,w),null!==o&&Object.is(o.trackById,g)?(a&&(o=this._verifyReinsertion(o,w,g,u)),Object.is(o.item,w)||this._addIdentityChange(o,w)):(o=this._mismatch(o,w,g,u),a=!0),o=o._next,u++}),this.length=u;return this._truncate(o),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,o,a,u){let d;return null===r?d=this._itTail:(d=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._reinsertAfter(r,d,u)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,u))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._moveAfter(r,d,u)):r=this._addAfter(new DD(o,a),d,u),r}_verifyReinsertion(r,o,a,u){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==d?r=this._reinsertAfter(d,r._prev,u):r.currentIndex!=u&&(r.currentIndex=u,this._addToMoves(r,u)),r}_truncate(r){for(;null!==r;){const o=r._next;this._addToRemovals(this._unlink(r)),r=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,o,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const u=r._prevRemoved,d=r._nextRemoved;return null===u?this._removalsHead=d:u._nextRemoved=d,null===d?this._removalsTail=u:d._prevRemoved=u,this._insertAfter(r,o,a),this._addToMoves(r,a),r}_moveAfter(r,o,a){return this._unlink(r),this._insertAfter(r,o,a),this._addToMoves(r,a),r}_addAfter(r,o,a){return this._insertAfter(r,o,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,o,a){const u=null===o?this._itHead:o._next;return r._next=u,r._prev=o,null===u?this._itTail=r:u._prev=r,null===o?this._itHead=r:o._next=r,null===this._linkedRecords&&(this._linkedRecords=new rw),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const o=r._prev,a=r._next;return null===o?this._itHead=a:o._next=a,null===a?this._itTail=o:a._prev=o,r}_addToMoves(r,o){return r.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new rw),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,o){return r.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class DD{constructor(r,o){this.item=r,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class AD{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,o){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===o||o<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const o=r._prevDup,a=r._nextDup;return null===o?this._head=a:o._nextDup=a,null===a?this._tail=o:a._prevDup=o,null===this._head}}class rw{constructor(){this.map=new Map}put(r){const o=r.trackById;let a=this.map.get(o);a||(a=new AD,this.map.set(o,a)),a.add(r)}get(r,o){const u=this.map.get(r);return u?u.get(r,o):null}remove(r){const o=r.trackById;return this.map.get(o).remove(r)&&this.map.delete(o),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function iw(t,r,o){const a=t.previousIndex;if(null===a)return a;let u=0;return o&&a<o.length&&(u=o[a]),a+r+u}class sw{constructor(){}supports(r){return r instanceof Map||Yf(r)}create(){return new SD}}class SD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let o;for(o=this._mapHead;null!==o;o=o._next)r(o)}forEachPreviousItem(r){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)r(o)}forEachChangedItem(r){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}diff(r){if(r){if(!(r instanceof Map||Yf(r)))throw new oe(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,u)=>{if(o&&o.key===u)this._maybeAddToChanges(o,a),this._appendAfter=o,o=o._next;else{const d=this._getOrCreateRecordForKey(u,a);o=this._insertBeforeOrAppend(o,d)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let a=o;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,o){if(r){const a=r._prev;return o._next=r,o._prev=a,r._prev=o,a&&(a._next=o),r===this._mapHead&&(this._mapHead=o),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(r,o){if(this._records.has(r)){const u=this._records.get(r);this._maybeAddToChanges(u,o);const d=u._prev,g=u._next;return d&&(d._next=g),g&&(g._prev=d),u._next=null,u._prev=null,u}const a=new PD(r);return this._records.set(r,a),a.currentValue=o,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,o){Object.is(o,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=o,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,o){r instanceof Map?r.forEach(o):Object.keys(r).forEach(a=>o(r[a],a))}}class PD{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ow(){return new ME([new nw])}let ME=(()=>{class t{static#e=this.\u0275prov=un({token:t,providedIn:"root",factory:ow});constructor(o){this.factories=o}static create(o,a){if(null!=a){const u=a.factories.slice();o=o.concat(u)}return new t(o)}static extend(o){return{provide:t,useFactory:a=>t.create(o,a||ow()),deps:[[t,new Mu,new Ru]]}}find(o){const a=this.factories.find(u=>u.supports(o));if(null!=a)return a;throw new oe(901,!1)}}return t})();function aw(){return new xE([new sw])}let xE=(()=>{class t{static#e=this.\u0275prov=un({token:t,providedIn:"root",factory:aw});constructor(o){this.factories=o}static create(o,a){if(a){const u=a.factories.slice();o=o.concat(u)}return new t(o)}static extend(o){return{provide:t,useFactory:a=>t.create(o,a||aw()),deps:[[t,new Mu,new Ru]]}}find(o){const a=this.factories.find(u=>u.supports(o));if(a)return a;throw new oe(901,!1)}}return t})();const xD=zT(null,"core",[]);let OD=(()=>{class t{constructor(o){}static#e=this.\u0275fac=function(a){return new(a||t)(It(Op))};static#t=this.\u0275mod=Ks({type:t});static#n=this.\u0275inj=ln({})}return t})();function zD(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function WD(t){const r=xn(t);if(!r)return null;const o=new nd(r);return{get selector(){return o.selector},get type(){return o.componentType},get inputs(){return o.inputs},get outputs(){return o.outputs},get ngContentSelectors(){return o.ngContentSelectors},get isStandalone(){return r.standalone},get isSignal(){return r.signals}}}},7213:(Mt,He,U)=>{U.d(He,{zQ:()=>_n,ww:()=>Dt,rT:()=>ge,f7:()=>pt,L6:()=>ve,_Q:()=>tt,lh:()=>Lt,Qv:()=>be,nw:()=>st}),U(6365);var V=U(6814),b=U(5879),Ce=U(8326),$=U(7217),Y=U(8645),W=U(2096),ue=U(5592),de=U(2459),J=U(3019),ae=U(3093),ye=U(4664),je=U(7398),Ke=U(4552);class lt extends Y.x{constructor(Pt=1/0,Se=1/0,Ne=Ke.l){super(),this._bufferSize=Pt,this._windowTime=Se,this._timestampProvider=Ne,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Se===1/0,this._bufferSize=Math.max(1,Pt),this._windowTime=Math.max(1,Se)}next(Pt){const{isStopped:Se,_buffer:Ne,_infiniteTimeWindow:Ge,_timestampProvider:ke,_windowTime:We}=this;Se||(Ne.push(Pt),!Ge&&Ne.push(ke.now()+We)),this._trimBuffer(),super.next(Pt)}_subscribe(Pt){this._throwIfClosed(),this._trimBuffer();const Se=this._innerSubscribe(Pt),{_infiniteTimeWindow:Ne,_buffer:Ge}=this,ke=Ge.slice();for(let We=0;We<ke.length&&!Pt.closed;We+=Ne?1:2)Pt.next(ke[We]);return this._checkFinalizedStatuses(Pt),Se}_trimBuffer(){const{_bufferSize:Pt,_timestampProvider:Se,_buffer:Ne,_infiniteTimeWindow:Ge}=this,ke=(Ge?1:2)*Pt;if(Pt<1/0&&ke<Ne.length&&Ne.splice(0,Ne.length-ke),!Ge){const We=Se.now();let at=0;for(let Tt=1;Tt<Ne.length&&Ne[Tt]<=We;Tt+=2)at=Tt;at&&Ne.splice(0,at+1)}}}var Xe=U(3020);function rt(bt,Pt,Se){let Ne,Ge=!1;return bt&&"object"==typeof bt?({bufferSize:Ne=1/0,windowTime:Pt=1/0,refCount:Ge=!1,scheduler:Se}=bt):Ne=bt??1/0,(0,Xe.B)({connector:()=>new lt(Ne,Pt,Se),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Ge})}var it=U(1374),wt=U(4674);function ut(bt,Pt){return(0,wt.m)(Pt)?(0,ye.w)(()=>bt,Pt):(0,ye.w)(()=>bt)}var oe=U(5137),Me=U(2181),pe=U(7142);const be=new b.OlP("angularfire2.auth.use-emulator"),ve=new b.OlP("angularfire2.auth.settings"),tt=new b.OlP("angularfire2.auth.tenant-id"),ge=new b.OlP("angularfire2.auth.langugage-code"),Lt=new b.OlP("angularfire2.auth.use-device-language"),pt=new b.OlP("angularfire.auth.persistence"),st=(bt,Pt,Se,Ne,Ge,ke,We,at)=>(0,$.cc)(`${bt.name}.auth`,"AngularFireAuth",bt.name,()=>{const Tt=Pt.runOutsideAngular(()=>bt.auth());if(Se&&Tt.useEmulator(...Se),Ne&&(Tt.tenantId=Ne),Tt.languageCode=Ge,ke&&Tt.useDeviceLanguage(),We)for(const[ft,En]of Object.entries(We))Tt.settings[ft]=En;return at&&Tt.setPersistence(at),Tt},[Se,Ne,Ge,ke,We,at]);let _n=(()=>{class bt{authState;idToken;user;idTokenResult;credential;constructor(Se,Ne,Ge,ke,We,at,Tt,ft,En,on,Nn,un){const Bn=new Y.x,ln=(0,W.of)(void 0).pipe((0,ae.Q)(We.outsideAngular),(0,ye.w)(()=>ke.runOutsideAngular(()=>Promise.resolve().then(U.bind(U,6365)))),(0,je.U)(()=>(0,$.on)(Se,ke,Ne)),(0,je.U)(Fn=>st(Fn,ke,at,ft,En,on,Tt,Nn)),rt({bufferSize:1,refCount:!1}));if((0,V.PM)(Ge))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,W.of)(null);else{ln.pipe((0,it.P)()).subscribe();const Fn=ln.pipe((0,ye.w)(fn=>fn.getRedirectResult().then(cr=>cr,()=>null)),Ce.iC,rt({bufferSize:1,refCount:!1})),wn=ln.pipe((0,ye.w)(fn=>new ue.y(cr=>({unsubscribe:ke.runOutsideAngular(()=>fn.onAuthStateChanged(Pn=>cr.next(Pn),Pn=>cr.error(Pn),()=>cr.complete()))})))),Wt=ln.pipe((0,ye.w)(fn=>new ue.y(cr=>({unsubscribe:ke.runOutsideAngular(()=>fn.onIdTokenChanged(Pn=>cr.next(Pn),Pn=>cr.error(Pn),()=>cr.complete()))}))));this.authState=Fn.pipe(ut(wn),(0,oe.R)(We.outsideAngular),(0,ae.Q)(We.insideAngular)),this.user=Fn.pipe(ut(Wt),(0,oe.R)(We.outsideAngular),(0,ae.Q)(We.insideAngular)),this.idToken=this.user.pipe((0,ye.w)(fn=>fn?(0,de.D)(fn.getIdToken()):(0,W.of)(null))),this.idTokenResult=this.user.pipe((0,ye.w)(fn=>fn?(0,de.D)(fn.getIdTokenResult()):(0,W.of)(null))),this.credential=(0,J.T)(Fn,Bn,this.authState.pipe((0,Me.h)(fn=>!fn))).pipe((0,je.U)(fn=>fn?.user?fn:null),(0,oe.R)(We.outsideAngular),(0,ae.Q)(We.insideAngular))}return(0,$.pX)(this,ln,ke,{spy:{apply:(Fn,wn,Wt)=>{(Fn.startsWith("signIn")||Fn.startsWith("createUser"))&&Wt.then(fn=>Bn.next(fn))}}})}static \u0275fac=function(Ne){return new(Ne||bt)(b.LFG($.Dh),b.LFG($.xv,8),b.LFG(b.Lbi),b.LFG(b.R0b),b.LFG(Ce.HU),b.LFG(be,8),b.LFG(ve,8),b.LFG(tt,8),b.LFG(ge,8),b.LFG(Lt,8),b.LFG(pt,8),b.LFG(Ce.Rf,8))};static \u0275prov=b.Yz7({token:bt,factory:bt.\u0275fac,providedIn:"any"})}return bt})(),Dt=(()=>{class bt{constructor(){pe.Z.registerVersion("angularfire",Ce.q4.full,"auth-compat")}static \u0275fac=function(Ne){return new(Ne||bt)};static \u0275mod=b.oAB({type:bt});static \u0275inj=b.cJS({providers:[_n]})}return bt})()},7217:(Mt,He,U)=>{U.d(He,{Dh:()=>ue,GT:()=>Y,cc:()=>Ke,hO:()=>je,on:()=>J,pX:()=>$,xv:()=>de});var p=U(5879),V=U(8326),b=U(7142);const Ce=["ngOnDestroy"],$=(it,wt,ut,oe={})=>new Proxy(it,{get:(Me,pe)=>ut.runOutsideAngular(()=>{if(it[pe])return oe?.spy?.get&&oe.spy.get(pe,it[pe]),it[pe];if(Ce.indexOf(pe)>-1)return()=>{};const me=wt.toPromise().then(be=>{const ve=be?.[pe];return"function"==typeof ve?ve.bind(be):ve?.then?ve.then(tt=>ut.run(()=>tt)):ut.run(()=>ve)});return new Proxy(()=>{},{get:(be,ve)=>me[ve],apply:(be,ve,tt)=>me.then(ge=>{const Lt=ge?.(...tt);return oe?.spy?.apply&&oe.spy.apply(pe,tt,Lt),Lt})})})}),Y=(it,wt)=>{wt.forEach(ut=>{Object.getOwnPropertyNames(ut.prototype||ut).forEach(oe=>{Object.defineProperty(it.prototype,oe,Object.getOwnPropertyDescriptor(ut.prototype||ut,oe))})})};class W{constructor(wt){return wt}}const ue=new p.OlP("angularfire2.app.options"),de=new p.OlP("angularfire2.app.name");function J(it,wt,ut){const Me="object"==typeof ut&&ut||{};Me.name=Me.name||"string"==typeof ut&&ut||"[DEFAULT]";const me=b.Z.apps.filter(be=>be&&be.name===Me.name)[0]||wt.runOutsideAngular(()=>b.Z.initializeApp(it,Me));try{if(JSON.stringify(it)!==JSON.stringify(me.options)){const be=!!module.hot;ae("error",`${me.name} Firebase App already initialized with different options${be?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new W(me)}const ae=(it,...wt)=>{(0,p.X6Q)()&&typeof console<"u"&&console[it](...wt)},ye={provide:W,useFactory:J,deps:[ue,p.R0b,[new p.FiY,de]]};let je=(()=>{class it{static initializeApp(ut,oe){return{ngModule:it,providers:[{provide:ue,useValue:ut},{provide:de,useValue:oe}]}}constructor(ut){b.Z.registerVersion("angularfire",V.q4.full,"core"),b.Z.registerVersion("angularfire",V.q4.full,"app-compat"),b.Z.registerVersion("angular",p.q4F.full,ut.toString())}static \u0275fac=function(oe){return new(oe||it)(p.LFG(p.Lbi))};static \u0275mod=p.oAB({type:it});static \u0275inj=p.cJS({providers:[ye]})}return it})();function Ke(it,wt,ut,oe,Me){const[,pe,me]=globalThis.\u0275AngularfireInstanceCache.find(be=>be[0]===it)||[];if(pe)return function lt(it,wt){try{return it.toString()===wt.toString()}catch{return it===wt}}(Me,me)||(rt("error",`${wt} was already initialized on the ${ut} Firebase App with different settings.${Xe?" You may need to reload as Firebase is not HMR aware.":""}`),rt("warn",{is:Me,was:me})),pe;{const be=oe();return globalThis.\u0275AngularfireInstanceCache.push([it,be,Me]),be}}const Xe=typeof module<"u"&&!!module.hot,rt=(it,...wt)=>{(0,p.X6Q)()&&typeof console<"u"&&console[it](...wt)};globalThis.\u0275AngularfireInstanceCache||=[]},8326:(Mt,He,U)=>{U.d(He,{q4:()=>lt,iC:()=>pt,HU:()=>me,Rf:()=>wt});var p=U(5879),V=U(534);(0,V.registerVersion)("firebase","10.8.0","app");var $=U(1954),W=U(2631);const de=new class ue extends W.v{}(class Y extends $.o{constructor(Pt,Se){super(Pt,Se),this.scheduler=Pt,this.work=Se}schedule(Pt,Se=0){return Se>0?super.schedule(Pt,Se):(this.delay=Se,this.state=Pt,this.scheduler.flush(this),this)}execute(Pt,Se){return Se>0||this.closed?super.execute(Pt,Se):this._execute(Pt,Se)}requestAsyncId(Pt,Se,Ne=0){return null!=Ne&&Ne>0||null==Ne&&this.delay>0?super.requestAsyncId(Pt,Se,Ne):(Pt.flush(this),0)}});var ae=U(6321),ye=U(9397),je=U(5137),Ke=U(3093);const lt=new p.GfV("ANGULARFIRE2_VERSION");class wt{constructor(){return((bt,Pt)=>{const Se=(0,V.getApps)(),Ne=[];return Se.forEach(Ge=>{Ge.container.getProvider(bt).instances.forEach(We=>{Ne.includes(We)||Ne.push(We)})}),Ne})(ut)}}const ut="app-check";function oe(){}class Me{zone;delegate;constructor(Pt,Se=de){this.zone=Pt,this.delegate=Se}now(){return this.delegate.now()}schedule(Pt,Se,Ne){const Ge=this.zone;return this.delegate.schedule(function(We){Ge.runGuarded(()=>{Pt.apply(this,[We])})},Se,Ne)}}class pe{zone;task=null;constructor(Pt){this.zone=Pt}call(Pt,Se){const Ne=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",oe,{},oe,oe)),Se.pipe((0,ye.b)({next:Ne,complete:Ne,error:Ne})).subscribe(Pt).add(Ne)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let me=(()=>{class bt{ngZone;outsideAngular;insideAngular;constructor(Se){this.ngZone=Se,this.outsideAngular=Se.runOutsideAngular(()=>new Me(Zone.current)),this.insideAngular=Se.run(()=>new Me(Zone.current,ae.z)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(Ne){return new(Ne||bt)(p.LFG(p.R0b))};static \u0275prov=p.Yz7({token:bt,factory:bt.\u0275fac,providedIn:"root"})}return bt})();function pt(bt){return function st(bt){return function(Se){return(Se=Se.lift(new pe(bt.ngZone))).pipe((0,je.R)(bt.outsideAngular),(0,Ke.Q)(bt.insideAngular))}}(function be(){const bt=globalThis.\u0275AngularFireScheduler;if(!bt)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return bt}())(bt)}},95:(Mt,He,U)=>{U.d(He,{Wl:()=>rt,Fj:()=>oe,u5:()=>Ms,JU:()=>lt,JJ:()=>hn,JL:()=>tn,F:()=>Vs,On:()=>yo,Q7:()=>mi,_Y:()=>Ts});var p=U(5879),V=U(6814),b=U(2459),Ce=U(5592),$=U(7453),Y=U(4829),W=U(4564),ue=U(8251),de=U(7400),J=U(2714),ye=U(7398);let je=(()=>{class G{constructor(N,ie){this._renderer=N,this._elementRef=ie,this.onChange=xe=>{},this.onTouched=()=>{}}setProperty(N,ie){this._renderer.setProperty(this._elementRef.nativeElement,N,ie)}registerOnTouched(N){this.onTouched=N}registerOnChange(N){this.onChange=N}setDisabledState(N){this.setProperty("disabled",N)}static#e=this.\u0275fac=function(ie){return new(ie||G)(p.Y36(p.Qsj),p.Y36(p.SBq))};static#t=this.\u0275dir=p.lG2({type:G})}return G})(),Ke=(()=>{class G extends je{static#e=this.\u0275fac=function(){let N;return function(xe){return(N||(N=p.n5z(G)))(xe||G)}}();static#t=this.\u0275dir=p.lG2({type:G,features:[p.qOj]})}return G})();const lt=new p.OlP("NgValueAccessor"),Xe={provide:lt,useExisting:(0,p.Gpc)(()=>rt),multi:!0};let rt=(()=>{class G extends Ke{writeValue(N){this.setProperty("checked",N)}static#e=this.\u0275fac=function(){let N;return function(xe){return(N||(N=p.n5z(G)))(xe||G)}}();static#t=this.\u0275dir=p.lG2({type:G,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(ie,xe){1&ie&&p.NdJ("change",function(Cn){return xe.onChange(Cn.target.checked)})("blur",function(){return xe.onTouched()})},features:[p._Bn([Xe]),p.qOj]})}return G})();const it={provide:lt,useExisting:(0,p.Gpc)(()=>oe),multi:!0},ut=new p.OlP("CompositionEventMode");let oe=(()=>{class G extends je{constructor(N,ie,xe){super(N,ie),this._compositionMode=xe,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function wt(){const G=(0,V.q)()?(0,V.q)().getUserAgent():"";return/android (\d+)/.test(G.toLowerCase())}())}writeValue(N){this.setProperty("value",N??"")}_handleInput(N){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(N)}_compositionStart(){this._composing=!0}_compositionEnd(N){this._composing=!1,this._compositionMode&&this.onChange(N)}static#e=this.\u0275fac=function(ie){return new(ie||G)(p.Y36(p.Qsj),p.Y36(p.SBq),p.Y36(ut,8))};static#t=this.\u0275dir=p.lG2({type:G,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(ie,xe){1&ie&&p.NdJ("input",function(Cn){return xe._handleInput(Cn.target.value)})("blur",function(){return xe.onTouched()})("compositionstart",function(){return xe._compositionStart()})("compositionend",function(Cn){return xe._compositionEnd(Cn.target.value)})},features:[p._Bn([it]),p.qOj]})}return G})();const me=new p.OlP("NgValidators"),be=new p.OlP("NgAsyncValidators");function pt(G){return function Me(G){return null==G||("string"==typeof G||Array.isArray(G))&&0===G.length}(G.value)?{required:!0}:null}function Se(G){return null}function Ne(G){return null!=G}function Ge(G){return(0,p.QGY)(G)?(0,b.D)(G):G}function ke(G){let K={};return G.forEach(N=>{K=null!=N?{...K,...N}:K}),0===Object.keys(K).length?null:K}function We(G,K){return K.map(N=>N(G))}function Tt(G){return G.map(K=>function at(G){return!G.validate}(K)?K:N=>K.validate(N))}function En(G){return null!=G?function ft(G){if(!G)return null;const K=G.filter(Ne);return 0==K.length?null:function(N){return ke(We(N,K))}}(Tt(G)):null}function Nn(G){return null!=G?function on(G){if(!G)return null;const K=G.filter(Ne);return 0==K.length?null:function(N){return function ae(...G){const K=(0,W.jO)(G),{args:N,keys:ie}=(0,$.D)(G),xe=new Ce.y(Vt=>{const{length:Cn}=N;if(!Cn)return void Vt.complete();const gi=new Array(Cn);let fs=Cn,Ri=Cn;for(let no=0;no<Cn;no++){let os=!1;(0,Y.Xf)(N[no]).subscribe((0,ue.x)(Vt,Mi=>{os||(os=!0,Ri--),gi[no]=Mi},()=>fs--,void 0,()=>{(!fs||!os)&&(Ri||Vt.next(ie?(0,J.n)(ie,gi):gi),Vt.complete())}))}});return K?xe.pipe((0,de.Z)(K)):xe}(We(N,K).map(Ge)).pipe((0,ye.U)(ke))}}(Tt(G)):null}function un(G,K){return null===G?[K]:Array.isArray(G)?[...G,K]:[G,K]}function Fn(G){return G?Array.isArray(G)?G:[G]:[]}function wn(G,K){return Array.isArray(G)?G.includes(K):G===K}function Wt(G,K){const N=Fn(K);return Fn(G).forEach(xe=>{wn(N,xe)||N.push(xe)}),N}function fn(G,K){return Fn(K).filter(N=>!wn(G,N))}class cr{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(K){this._rawValidators=K||[],this._composedValidatorFn=En(this._rawValidators)}_setAsyncValidators(K){this._rawAsyncValidators=K||[],this._composedAsyncValidatorFn=Nn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(K){this._onDestroyCallbacks.push(K)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(K=>K()),this._onDestroyCallbacks=[]}reset(K=void 0){this.control&&this.control.reset(K)}hasError(K,N){return!!this.control&&this.control.hasError(K,N)}getError(K,N){return this.control?this.control.getError(K,N):null}}class Pn extends cr{get formDirective(){return null}get path(){return null}}class Kn extends cr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Cr{constructor(K){this._cd=K}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let hn=(()=>{class G extends Cr{constructor(N){super(N)}static#e=this.\u0275fac=function(ie){return new(ie||G)(p.Y36(Kn,2))};static#t=this.\u0275dir=p.lG2({type:G,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(ie,xe){2&ie&&p.ekj("ng-untouched",xe.isUntouched)("ng-touched",xe.isTouched)("ng-pristine",xe.isPristine)("ng-dirty",xe.isDirty)("ng-valid",xe.isValid)("ng-invalid",xe.isInvalid)("ng-pending",xe.isPending)},features:[p.qOj]})}return G})(),tn=(()=>{class G extends Cr{constructor(N){super(N)}static#e=this.\u0275fac=function(ie){return new(ie||G)(p.Y36(Pn,10))};static#t=this.\u0275dir=p.lG2({type:G,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(ie,xe){2&ie&&p.ekj("ng-untouched",xe.isUntouched)("ng-touched",xe.isTouched)("ng-pristine",xe.isPristine)("ng-dirty",xe.isDirty)("ng-valid",xe.isValid)("ng-invalid",xe.isInvalid)("ng-pending",xe.isPending)("ng-submitted",xe.isSubmitted)},features:[p.qOj]})}return G})();const fi="VALID",qr="INVALID",Pr="PENDING",Ur="DISABLED";function De(G){return(L(G)?G.validators:G)||null}function z(G,K){return(L(K)?K.asyncValidators:G)||null}function L(G){return null!=G&&!Array.isArray(G)&&"object"==typeof G}class dt{constructor(K,N){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(K),this._assignAsyncValidators(N)}get validator(){return this._composedValidatorFn}set validator(K){this._rawValidators=this._composedValidatorFn=K}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(K){this._rawAsyncValidators=this._composedAsyncValidatorFn=K}get parent(){return this._parent}get valid(){return this.status===fi}get invalid(){return this.status===qr}get pending(){return this.status==Pr}get disabled(){return this.status===Ur}get enabled(){return this.status!==Ur}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(K){this._assignValidators(K)}setAsyncValidators(K){this._assignAsyncValidators(K)}addValidators(K){this.setValidators(Wt(K,this._rawValidators))}addAsyncValidators(K){this.setAsyncValidators(Wt(K,this._rawAsyncValidators))}removeValidators(K){this.setValidators(fn(K,this._rawValidators))}removeAsyncValidators(K){this.setAsyncValidators(fn(K,this._rawAsyncValidators))}hasValidator(K){return wn(this._rawValidators,K)}hasAsyncValidator(K){return wn(this._rawAsyncValidators,K)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(K={}){this.touched=!0,this._parent&&!K.onlySelf&&this._parent.markAsTouched(K)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(K=>K.markAllAsTouched())}markAsUntouched(K={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(N=>{N.markAsUntouched({onlySelf:!0})}),this._parent&&!K.onlySelf&&this._parent._updateTouched(K)}markAsDirty(K={}){this.pristine=!1,this._parent&&!K.onlySelf&&this._parent.markAsDirty(K)}markAsPristine(K={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(N=>{N.markAsPristine({onlySelf:!0})}),this._parent&&!K.onlySelf&&this._parent._updatePristine(K)}markAsPending(K={}){this.status=Pr,!1!==K.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!K.onlySelf&&this._parent.markAsPending(K)}disable(K={}){const N=this._parentMarkedDirty(K.onlySelf);this.status=Ur,this.errors=null,this._forEachChild(ie=>{ie.disable({...K,onlySelf:!0})}),this._updateValue(),!1!==K.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...K,skipPristineCheck:N}),this._onDisabledChange.forEach(ie=>ie(!0))}enable(K={}){const N=this._parentMarkedDirty(K.onlySelf);this.status=fi,this._forEachChild(ie=>{ie.enable({...K,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:K.emitEvent}),this._updateAncestors({...K,skipPristineCheck:N}),this._onDisabledChange.forEach(ie=>ie(!1))}_updateAncestors(K){this._parent&&!K.onlySelf&&(this._parent.updateValueAndValidity(K),K.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(K){this._parent=K}getRawValue(){return this.value}updateValueAndValidity(K={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===fi||this.status===Pr)&&this._runAsyncValidator(K.emitEvent)),!1!==K.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!K.onlySelf&&this._parent.updateValueAndValidity(K)}_updateTreeValidity(K={emitEvent:!0}){this._forEachChild(N=>N._updateTreeValidity(K)),this.updateValueAndValidity({onlySelf:!0,emitEvent:K.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ur:fi}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(K){if(this.asyncValidator){this.status=Pr,this._hasOwnPendingAsyncValidator=!0;const N=Ge(this.asyncValidator(this));this._asyncValidationSubscription=N.subscribe(ie=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(ie,{emitEvent:K})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(K,N={}){this.errors=K,this._updateControlsErrors(!1!==N.emitEvent)}get(K){let N=K;return null==N||(Array.isArray(N)||(N=N.split(".")),0===N.length)?null:N.reduce((ie,xe)=>ie&&ie._find(xe),this)}getError(K,N){const ie=N?this.get(N):this;return ie&&ie.errors?ie.errors[K]:null}hasError(K,N){return!!this.getError(K,N)}get root(){let K=this;for(;K._parent;)K=K._parent;return K}_updateControlsErrors(K){this.status=this._calculateStatus(),K&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(K)}_initObservables(){this.valueChanges=new p.vpe,this.statusChanges=new p.vpe}_calculateStatus(){return this._allControlsDisabled()?Ur:this.errors?qr:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Pr)?Pr:this._anyControlsHaveStatus(qr)?qr:fi}_anyControlsHaveStatus(K){return this._anyControls(N=>N.status===K)}_anyControlsDirty(){return this._anyControls(K=>K.dirty)}_anyControlsTouched(){return this._anyControls(K=>K.touched)}_updatePristine(K={}){this.pristine=!this._anyControlsDirty(),this._parent&&!K.onlySelf&&this._parent._updatePristine(K)}_updateTouched(K={}){this.touched=this._anyControlsTouched(),this._parent&&!K.onlySelf&&this._parent._updateTouched(K)}_registerOnCollectionChange(K){this._onCollectionChange=K}_setUpdateStrategy(K){L(K)&&null!=K.updateOn&&(this._updateOn=K.updateOn)}_parentMarkedDirty(K){return!K&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(K){return null}_assignValidators(K){this._rawValidators=Array.isArray(K)?K.slice():K,this._composedValidatorFn=function ne(G){return Array.isArray(G)?En(G):G||null}(this._rawValidators)}_assignAsyncValidators(K){this._rawAsyncValidators=Array.isArray(K)?K.slice():K,this._composedAsyncValidatorFn=function F(G){return Array.isArray(G)?Nn(G):G||null}(this._rawAsyncValidators)}}class It extends dt{constructor(K,N,ie){super(De(N),z(ie,N)),this.controls=K,this._initObservables(),this._setUpdateStrategy(N),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(K,N){return this.controls[K]?this.controls[K]:(this.controls[K]=N,N.setParent(this),N._registerOnCollectionChange(this._onCollectionChange),N)}addControl(K,N,ie={}){this.registerControl(K,N),this.updateValueAndValidity({emitEvent:ie.emitEvent}),this._onCollectionChange()}removeControl(K,N={}){this.controls[K]&&this.controls[K]._registerOnCollectionChange(()=>{}),delete this.controls[K],this.updateValueAndValidity({emitEvent:N.emitEvent}),this._onCollectionChange()}setControl(K,N,ie={}){this.controls[K]&&this.controls[K]._registerOnCollectionChange(()=>{}),delete this.controls[K],N&&this.registerControl(K,N),this.updateValueAndValidity({emitEvent:ie.emitEvent}),this._onCollectionChange()}contains(K){return this.controls.hasOwnProperty(K)&&this.controls[K].enabled}setValue(K,N={}){(function Fe(G,K,N){G._forEachChild((ie,xe)=>{if(void 0===N[xe])throw new p.vHH(1002,"")})})(this,0,K),Object.keys(K).forEach(ie=>{(function he(G,K,N){const ie=G.controls;if(!(K?Object.keys(ie):ie).length)throw new p.vHH(1e3,"");if(!ie[N])throw new p.vHH(1001,"")})(this,!0,ie),this.controls[ie].setValue(K[ie],{onlySelf:!0,emitEvent:N.emitEvent})}),this.updateValueAndValidity(N)}patchValue(K,N={}){null!=K&&(Object.keys(K).forEach(ie=>{const xe=this.controls[ie];xe&&xe.patchValue(K[ie],{onlySelf:!0,emitEvent:N.emitEvent})}),this.updateValueAndValidity(N))}reset(K={},N={}){this._forEachChild((ie,xe)=>{ie.reset(K?K[xe]:null,{onlySelf:!0,emitEvent:N.emitEvent})}),this._updatePristine(N),this._updateTouched(N),this.updateValueAndValidity(N)}getRawValue(){return this._reduceChildren({},(K,N,ie)=>(K[ie]=N.getRawValue(),K))}_syncPendingControls(){let K=this._reduceChildren(!1,(N,ie)=>!!ie._syncPendingControls()||N);return K&&this.updateValueAndValidity({onlySelf:!0}),K}_forEachChild(K){Object.keys(this.controls).forEach(N=>{const ie=this.controls[N];ie&&K(ie,N)})}_setUpControls(){this._forEachChild(K=>{K.setParent(this),K._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(K){for(const[N,ie]of Object.entries(this.controls))if(this.contains(N)&&K(ie))return!0;return!1}_reduceValue(){return this._reduceChildren({},(N,ie,xe)=>((ie.enabled||this.disabled)&&(N[xe]=ie.value),N))}_reduceChildren(K,N){let ie=K;return this._forEachChild((xe,Vt)=>{ie=N(ie,xe,Vt)}),ie}_allControlsDisabled(){for(const K of Object.keys(this.controls))if(this.controls[K].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(K){return this.controls.hasOwnProperty(K)?this.controls[K]:null}}const Re=new p.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Ee}),Ee="always";function we(G,K,N=Ee){Ft(G,K),K.valueAccessor.writeValue(G.value),(G.disabled||"always"===N)&&K.valueAccessor.setDisabledState?.(G.disabled),function nn(G,K){K.valueAccessor.registerOnChange(N=>{G._pendingValue=N,G._pendingChange=!0,G._pendingDirty=!0,"change"===G.updateOn&&Mn(G,K)})}(G,K),function sr(G,K){const N=(ie,xe)=>{K.valueAccessor.writeValue(ie),xe&&K.viewToModelUpdate(ie)};G.registerOnChange(N),K._registerOnDestroy(()=>{G._unregisterOnChange(N)})}(G,K),function Gn(G,K){K.valueAccessor.registerOnTouched(()=>{G._pendingTouched=!0,"blur"===G.updateOn&&G._pendingChange&&Mn(G,K),"submit"!==G.updateOn&&G.markAsTouched()})}(G,K),function et(G,K){if(K.valueAccessor.setDisabledState){const N=ie=>{K.valueAccessor.setDisabledState(ie)};G.registerOnDisabledChange(N),K._registerOnDestroy(()=>{G._unregisterOnDisabledChange(N)})}}(G,K)}function Be(G,K){G.forEach(N=>{N.registerOnValidatorChange&&N.registerOnValidatorChange(K)})}function Ft(G,K){const N=function Bn(G){return G._rawValidators}(G);null!==K.validator?G.setValidators(un(N,K.validator)):"function"==typeof N&&G.setValidators([N]);const ie=function ln(G){return G._rawAsyncValidators}(G);null!==K.asyncValidator?G.setAsyncValidators(un(ie,K.asyncValidator)):"function"==typeof ie&&G.setAsyncValidators([ie]);const xe=()=>G.updateValueAndValidity();Be(K._rawValidators,xe),Be(K._rawAsyncValidators,xe)}function Mn(G,K){G._pendingDirty&&G.markAsDirty(),G.setValue(G._pendingValue,{emitModelToViewChange:!1}),K.viewToModelUpdate(G._pendingValue),G._pendingChange=!1}const qs={provide:Pn,useExisting:(0,p.Gpc)(()=>Vs)},ii=(()=>Promise.resolve())();let Vs=(()=>{class G extends Pn{constructor(N,ie,xe){super(),this.callSetDisabledState=xe,this.submitted=!1,this._directives=new Set,this.ngSubmit=new p.vpe,this.form=new It({},En(N),Nn(ie))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(N){ii.then(()=>{const ie=this._findContainer(N.path);N.control=ie.registerControl(N.name,N.control),we(N.control,N,this.callSetDisabledState),N.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(N)})}getControl(N){return this.form.get(N.path)}removeControl(N){ii.then(()=>{const ie=this._findContainer(N.path);ie&&ie.removeControl(N.name),this._directives.delete(N)})}addFormGroup(N){ii.then(()=>{const ie=this._findContainer(N.path),xe=new It({});(function br(G,K){Ft(G,K)})(xe,N),ie.registerControl(N.name,xe),xe.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(N){ii.then(()=>{const ie=this._findContainer(N.path);ie&&ie.removeControl(N.name)})}getFormGroup(N){return this.form.get(N.path)}updateModel(N,ie){ii.then(()=>{this.form.get(N.path).setValue(ie)})}setValue(N){this.control.setValue(N)}onSubmit(N){return this.submitted=!0,function Dr(G,K){G._syncPendingControls(),K.forEach(N=>{const ie=N.control;"submit"===ie.updateOn&&ie._pendingChange&&(N.viewToModelUpdate(ie._pendingValue),ie._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(N),"dialog"===N?.target?.method}onReset(){this.resetForm()}resetForm(N=void 0){this.form.reset(N),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(N){return N.pop(),N.length?this.form.get(N):this.form}static#e=this.\u0275fac=function(ie){return new(ie||G)(p.Y36(me,10),p.Y36(be,10),p.Y36(Re,8))};static#t=this.\u0275dir=p.lG2({type:G,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(ie,xe){1&ie&&p.NdJ("submit",function(Cn){return xe.onSubmit(Cn)})("reset",function(){return xe.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[p._Bn([qs]),p.qOj]})}return G})();function pi(G,K){const N=G.indexOf(K);N>-1&&G.splice(N,1)}function Ps(G){return"object"==typeof G&&null!==G&&2===Object.keys(G).length&&"value"in G&&"disabled"in G}const ns=class extends dt{constructor(K=null,N,ie){super(De(N),z(ie,N)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(K),this._setUpdateStrategy(N),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),L(N)&&(N.nonNullable||N.initialValueIsDefault)&&(this.defaultValue=Ps(K)?K.value:K)}setValue(K,N={}){this.value=this._pendingValue=K,this._onChange.length&&!1!==N.emitModelToViewChange&&this._onChange.forEach(ie=>ie(this.value,!1!==N.emitViewToModelChange)),this.updateValueAndValidity(N)}patchValue(K,N={}){this.setValue(K,N)}reset(K=this.defaultValue,N={}){this._applyFormState(K),this.markAsPristine(N),this.markAsUntouched(N),this.setValue(this.value,N),this._pendingChange=!1}_updateValue(){}_anyControls(K){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(K){this._onChange.push(K)}_unregisterOnChange(K){pi(this._onChange,K)}registerOnDisabledChange(K){this._onDisabledChange.push(K)}_unregisterOnDisabledChange(K){pi(this._onDisabledChange,K)}_forEachChild(K){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(K){Ps(K)?(this.value=this._pendingValue=K.value,K.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=K}},Ro={provide:Kn,useExisting:(0,p.Gpc)(()=>yo)},Ks=(()=>Promise.resolve())();let yo=(()=>{class G extends Kn{constructor(N,ie,xe,Vt,Cn,gi){super(),this._changeDetectorRef=Cn,this.callSetDisabledState=gi,this.control=new ns,this._registered=!1,this.name="",this.update=new p.vpe,this._parent=N,this._setValidators(ie),this._setAsyncValidators(xe),this.valueAccessor=function Es(G,K){if(!K)return null;let N,ie,xe;return Array.isArray(K),K.forEach(Vt=>{Vt.constructor===oe?N=Vt:function ts(G){return Object.getPrototypeOf(G.constructor)===Ke}(Vt)?ie=Vt:xe=Vt}),xe||ie||N||null}(0,Vt)}ngOnChanges(N){if(this._checkForErrors(),!this._registered||"name"in N){if(this._registered&&(this._checkName(),this.formDirective)){const ie=N.name.previousValue;this.formDirective.removeControl({name:ie,path:this._getPath(ie)})}this._setUpControl()}"isDisabled"in N&&this._updateDisabled(N),function vi(G,K){if(!G.hasOwnProperty("model"))return!1;const N=G.model;return!!N.isFirstChange()||!Object.is(K,N.currentValue)}(N,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(N){this.viewModel=N,this.update.emit(N)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){we(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(N){Ks.then(()=>{this.control.setValue(N,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(N){const ie=N.isDisabled.currentValue,xe=0!==ie&&(0,p.VuI)(ie);Ks.then(()=>{xe&&!this.control.disabled?this.control.disable():!xe&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(N){return this._parent?function Ae(G,K){return[...K.path,G]}(N,this._parent):[N]}static#e=this.\u0275fac=function(ie){return new(ie||G)(p.Y36(Pn,9),p.Y36(me,10),p.Y36(be,10),p.Y36(lt,10),p.Y36(p.sBO,8),p.Y36(Re,8))};static#t=this.\u0275dir=p.lG2({type:G,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[p._Bn([Ro]),p.qOj,p.TTD]})}return G})(),Ts=(()=>{class G{static#e=this.\u0275fac=function(ie){return new(ie||G)};static#t=this.\u0275dir=p.lG2({type:G,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return G})(),ti=(()=>{class G{static#e=this.\u0275fac=function(ie){return new(ie||G)};static#t=this.\u0275mod=p.oAB({type:G});static#n=this.\u0275inj=p.cJS({})}return G})(),jr=(()=>{class G{constructor(){this._validator=Se}ngOnChanges(N){if(this.inputName in N){const ie=this.normalizeInput(N[this.inputName].currentValue);this._enabled=this.enabled(ie),this._validator=this._enabled?this.createValidator(ie):Se,this._onChange&&this._onChange()}}validate(N){return this._validator(N)}registerOnValidatorChange(N){this._onChange=N}enabled(N){return null!=N}static#e=this.\u0275fac=function(ie){return new(ie||G)};static#t=this.\u0275dir=p.lG2({type:G,features:[p.TTD]})}return G})();const xo={provide:me,useExisting:(0,p.Gpc)(()=>mi),multi:!0};let mi=(()=>{class G extends jr{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=p.VuI,this.createValidator=N=>pt}enabled(N){return N}static#e=this.\u0275fac=function(){let N;return function(xe){return(N||(N=p.n5z(G)))(xe||G)}}();static#t=this.\u0275dir=p.lG2({type:G,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(ie,xe){2&ie&&p.uIk("required",xe._enabled?"":null)},inputs:{required:"required"},features:[p._Bn([xo]),p.qOj]})}return G})(),No=(()=>{class G{static#e=this.\u0275fac=function(ie){return new(ie||G)};static#t=this.\u0275mod=p.oAB({type:G});static#n=this.\u0275inj=p.cJS({imports:[ti]})}return G})(),Ms=(()=>{class G{static withConfig(N){return{ngModule:G,providers:[{provide:Re,useValue:N.callSetDisabledState??Ee}]}}static#e=this.\u0275fac=function(ie){return new(ie||G)};static#t=this.\u0275mod=p.oAB({type:G});static#n=this.\u0275inj=p.cJS({imports:[No]})}return G})()},6593:(Mt,He,U)=>{U.d(He,{Dx:()=>Kn,H7:()=>Nr,b2:()=>wn,q6:()=>un,se:()=>ve});var p=U(5879),V=U(6814);class b extends V.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ce extends b{static makeCurrent(){(0,V.HT)(new Ce)}onAndCancel(z,F,L){return z.addEventListener(F,L),()=>{z.removeEventListener(F,L)}}dispatchEvent(z,F){z.dispatchEvent(F)}remove(z){z.parentNode&&z.parentNode.removeChild(z)}createElement(z,F){return(F=F||this.getDefaultDocument()).createElement(z)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(z){return z.nodeType===Node.ELEMENT_NODE}isShadowRoot(z){return z instanceof DocumentFragment}getGlobalEventTarget(z,F){return"window"===F?window:"document"===F?z:"body"===F?z.body:null}getBaseHref(z){const F=function Y(){return $=$||document.querySelector("base"),$?$.getAttribute("href"):null}();return null==F?null:function ue(ne){W=W||document.createElement("a"),W.setAttribute("href",ne);const z=W.pathname;return"/"===z.charAt(0)?z:`/${z}`}(F)}resetBaseElement(){$=null}getUserAgent(){return window.navigator.userAgent}getCookie(z){return(0,V.Mx)(document.cookie,z)}}let W,$=null,J=(()=>{class ne{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(L){return new(L||ne)};static#t=this.\u0275prov=p.Yz7({token:ne,factory:ne.\u0275fac})}return ne})();const ae=new p.OlP("EventManagerPlugins");let ye=(()=>{class ne{constructor(F,L){this._zone=L,this._eventNameToPlugin=new Map,F.forEach(he=>{he.manager=this}),this._plugins=F.slice().reverse()}addEventListener(F,L,he){return this._findPluginFor(L).addEventListener(F,L,he)}getZone(){return this._zone}_findPluginFor(F){let L=this._eventNameToPlugin.get(F);if(L)return L;if(L=this._plugins.find(Fe=>Fe.supports(F)),!L)throw new p.vHH(5101,!1);return this._eventNameToPlugin.set(F,L),L}static#e=this.\u0275fac=function(L){return new(L||ne)(p.LFG(ae),p.LFG(p.R0b))};static#t=this.\u0275prov=p.Yz7({token:ne,factory:ne.\u0275fac})}return ne})();class je{constructor(z){this._doc=z}}const Ke="ng-app-id";let lt=(()=>{class ne{constructor(F,L,he,Fe={}){this.doc=F,this.appId=L,this.nonce=he,this.platformId=Fe,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,V.PM)(Fe),this.resetHostNodes()}addStyles(F){for(const L of F)1===this.changeUsageCount(L,1)&&this.onStyleAdded(L)}removeStyles(F){for(const L of F)this.changeUsageCount(L,-1)<=0&&this.onStyleRemoved(L)}ngOnDestroy(){const F=this.styleNodesInDOM;F&&(F.forEach(L=>L.remove()),F.clear());for(const L of this.getAllStyles())this.onStyleRemoved(L);this.resetHostNodes()}addHost(F){this.hostNodes.add(F);for(const L of this.getAllStyles())this.addStyleToHost(F,L)}removeHost(F){this.hostNodes.delete(F)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(F){for(const L of this.hostNodes)this.addStyleToHost(L,F)}onStyleRemoved(F){const L=this.styleRef;L.get(F)?.elements?.forEach(he=>he.remove()),L.delete(F)}collectServerRenderedStyles(){const F=this.doc.head?.querySelectorAll(`style[${Ke}="${this.appId}"]`);if(F?.length){const L=new Map;return F.forEach(he=>{null!=he.textContent&&L.set(he.textContent,he)}),L}return null}changeUsageCount(F,L){const he=this.styleRef;if(he.has(F)){const Fe=he.get(F);return Fe.usage+=L,Fe.usage}return he.set(F,{usage:L,elements:[]}),L}getStyleElement(F,L){const he=this.styleNodesInDOM,Fe=he?.get(L);if(Fe?.parentNode===F)return he.delete(L),Fe.removeAttribute(Ke),Fe;{const dt=this.doc.createElement("style");return this.nonce&&dt.setAttribute("nonce",this.nonce),dt.textContent=L,this.platformIsServer&&dt.setAttribute(Ke,this.appId),dt}}addStyleToHost(F,L){const he=this.getStyleElement(F,L);F.appendChild(he);const Fe=this.styleRef,dt=Fe.get(L)?.elements;dt?dt.push(he):Fe.set(L,{elements:[he],usage:1})}resetHostNodes(){const F=this.hostNodes;F.clear(),F.add(this.doc.head)}static#e=this.\u0275fac=function(L){return new(L||ne)(p.LFG(V.K0),p.LFG(p.AFp),p.LFG(p.Ojb,8),p.LFG(p.Lbi))};static#t=this.\u0275prov=p.Yz7({token:ne,factory:ne.\u0275fac})}return ne})();const Xe={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},rt=/%COMP%/g,Me=new p.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function be(ne,z){return z.map(F=>F.replace(rt,ne))}let ve=(()=>{class ne{constructor(F,L,he,Fe,dt,It,xt,kt=null){this.eventManager=F,this.sharedStylesHost=L,this.appId=he,this.removeStylesOnCompDestroy=Fe,this.doc=dt,this.platformId=It,this.ngZone=xt,this.nonce=kt,this.rendererByCompId=new Map,this.platformIsServer=(0,V.PM)(It),this.defaultRenderer=new tt(F,dt,xt,this.platformIsServer)}createRenderer(F,L){if(!F||!L)return this.defaultRenderer;this.platformIsServer&&L.encapsulation===p.ifc.ShadowDom&&(L={...L,encapsulation:p.ifc.Emulated});const he=this.getOrCreateRenderer(F,L);return he instanceof Dt?he.applyToHost(F):he instanceof _n&&he.applyStyles(),he}getOrCreateRenderer(F,L){const he=this.rendererByCompId;let Fe=he.get(L.id);if(!Fe){const dt=this.doc,It=this.ngZone,xt=this.eventManager,kt=this.sharedStylesHost,Yt=this.removeStylesOnCompDestroy,jn=this.platformIsServer;switch(L.encapsulation){case p.ifc.Emulated:Fe=new Dt(xt,kt,L,this.appId,Yt,dt,It,jn);break;case p.ifc.ShadowDom:return new st(xt,kt,F,L,dt,It,this.nonce,jn);default:Fe=new _n(xt,kt,L,Yt,dt,It,jn)}he.set(L.id,Fe)}return Fe}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(L){return new(L||ne)(p.LFG(ye),p.LFG(lt),p.LFG(p.AFp),p.LFG(Me),p.LFG(V.K0),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(p.Ojb))};static#t=this.\u0275prov=p.Yz7({token:ne,factory:ne.\u0275fac})}return ne})();class tt{constructor(z,F,L,he){this.eventManager=z,this.doc=F,this.ngZone=L,this.platformIsServer=he,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(z,F){return F?this.doc.createElementNS(Xe[F]||F,z):this.doc.createElement(z)}createComment(z){return this.doc.createComment(z)}createText(z){return this.doc.createTextNode(z)}appendChild(z,F){(pt(z)?z.content:z).appendChild(F)}insertBefore(z,F,L){z&&(pt(z)?z.content:z).insertBefore(F,L)}removeChild(z,F){z&&z.removeChild(F)}selectRootElement(z,F){let L="string"==typeof z?this.doc.querySelector(z):z;if(!L)throw new p.vHH(-5104,!1);return F||(L.textContent=""),L}parentNode(z){return z.parentNode}nextSibling(z){return z.nextSibling}setAttribute(z,F,L,he){if(he){F=he+":"+F;const Fe=Xe[he];Fe?z.setAttributeNS(Fe,F,L):z.setAttribute(F,L)}else z.setAttribute(F,L)}removeAttribute(z,F,L){if(L){const he=Xe[L];he?z.removeAttributeNS(he,F):z.removeAttribute(`${L}:${F}`)}else z.removeAttribute(F)}addClass(z,F){z.classList.add(F)}removeClass(z,F){z.classList.remove(F)}setStyle(z,F,L,he){he&(p.JOm.DashCase|p.JOm.Important)?z.style.setProperty(F,L,he&p.JOm.Important?"important":""):z.style[F]=L}removeStyle(z,F,L){L&p.JOm.DashCase?z.style.removeProperty(F):z.style[F]=""}setProperty(z,F,L){z[F]=L}setValue(z,F){z.nodeValue=F}listen(z,F,L){if("string"==typeof z&&!(z=(0,V.q)().getGlobalEventTarget(this.doc,z)))throw new Error(`Unsupported event target ${z} for event ${F}`);return this.eventManager.addEventListener(z,F,this.decoratePreventDefault(L))}decoratePreventDefault(z){return F=>{if("__ngUnwrap__"===F)return z;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>z(F)):z(F))&&F.preventDefault()}}}function pt(ne){return"TEMPLATE"===ne.tagName&&void 0!==ne.content}class st extends tt{constructor(z,F,L,he,Fe,dt,It,xt){super(z,Fe,dt,xt),this.sharedStylesHost=F,this.hostEl=L,this.shadowRoot=L.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const kt=be(he.id,he.styles);for(const Yt of kt){const jn=document.createElement("style");It&&jn.setAttribute("nonce",It),jn.textContent=Yt,this.shadowRoot.appendChild(jn)}}nodeOrShadowRoot(z){return z===this.hostEl?this.shadowRoot:z}appendChild(z,F){return super.appendChild(this.nodeOrShadowRoot(z),F)}insertBefore(z,F,L){return super.insertBefore(this.nodeOrShadowRoot(z),F,L)}removeChild(z,F){return super.removeChild(this.nodeOrShadowRoot(z),F)}parentNode(z){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(z)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class _n extends tt{constructor(z,F,L,he,Fe,dt,It,xt){super(z,Fe,dt,It),this.sharedStylesHost=F,this.removeStylesOnCompDestroy=he,this.styles=xt?be(xt,L.styles):L.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Dt extends _n{constructor(z,F,L,he,Fe,dt,It,xt){const kt=he+"-"+L.id;super(z,F,L,Fe,dt,It,xt,kt),this.contentAttr=function pe(ne){return"_ngcontent-%COMP%".replace(rt,ne)}(kt),this.hostAttr=function me(ne){return"_nghost-%COMP%".replace(rt,ne)}(kt)}applyToHost(z){this.applyStyles(),this.setAttribute(z,this.hostAttr,"")}createElement(z,F){const L=super.createElement(z,F);return super.setAttribute(L,this.contentAttr,""),L}}let bt=(()=>{class ne extends je{constructor(F){super(F)}supports(F){return!0}addEventListener(F,L,he){return F.addEventListener(L,he,!1),()=>this.removeEventListener(F,L,he)}removeEventListener(F,L,he){return F.removeEventListener(L,he)}static#e=this.\u0275fac=function(L){return new(L||ne)(p.LFG(V.K0))};static#t=this.\u0275prov=p.Yz7({token:ne,factory:ne.\u0275fac})}return ne})();const Pt=["alt","control","meta","shift"],Se={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ne={alt:ne=>ne.altKey,control:ne=>ne.ctrlKey,meta:ne=>ne.metaKey,shift:ne=>ne.shiftKey};let Ge=(()=>{class ne extends je{constructor(F){super(F)}supports(F){return null!=ne.parseEventName(F)}addEventListener(F,L,he){const Fe=ne.parseEventName(L),dt=ne.eventCallback(Fe.fullKey,he,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,V.q)().onAndCancel(F,Fe.domEventName,dt))}static parseEventName(F){const L=F.toLowerCase().split("."),he=L.shift();if(0===L.length||"keydown"!==he&&"keyup"!==he)return null;const Fe=ne._normalizeKey(L.pop());let dt="",It=L.indexOf("code");if(It>-1&&(L.splice(It,1),dt="code."),Pt.forEach(kt=>{const Yt=L.indexOf(kt);Yt>-1&&(L.splice(Yt,1),dt+=kt+".")}),dt+=Fe,0!=L.length||0===Fe.length)return null;const xt={};return xt.domEventName=he,xt.fullKey=dt,xt}static matchEventFullKeyCode(F,L){let he=Se[F.key]||F.key,Fe="";return L.indexOf("code.")>-1&&(he=F.code,Fe="code."),!(null==he||!he)&&(he=he.toLowerCase()," "===he?he="space":"."===he&&(he="dot"),Pt.forEach(dt=>{dt!==he&&(0,Ne[dt])(F)&&(Fe+=dt+".")}),Fe+=he,Fe===L)}static eventCallback(F,L,he){return Fe=>{ne.matchEventFullKeyCode(Fe,F)&&he.runGuarded(()=>L(Fe))}}static _normalizeKey(F){return"esc"===F?"escape":F}static#e=this.\u0275fac=function(L){return new(L||ne)(p.LFG(V.K0))};static#t=this.\u0275prov=p.Yz7({token:ne,factory:ne.\u0275fac})}return ne})();const un=(0,p.eFA)(p._c5,"browser",[{provide:p.Lbi,useValue:V.bD},{provide:p.g9A,useValue:function ft(){Ce.makeCurrent()},multi:!0},{provide:V.K0,useFactory:function on(){return(0,p.RDi)(document),document},deps:[]}]),Bn=new p.OlP(""),ln=[{provide:p.rWj,useClass:class de{addToWindow(z){p.dqk.getAngularTestability=(L,he=!0)=>{const Fe=z.findTestabilityInTree(L,he);if(null==Fe)throw new p.vHH(5103,!1);return Fe},p.dqk.getAllAngularTestabilities=()=>z.getAllTestabilities(),p.dqk.getAllAngularRootElements=()=>z.getAllRootElements(),p.dqk.frameworkStabilizers||(p.dqk.frameworkStabilizers=[]),p.dqk.frameworkStabilizers.push(L=>{const he=p.dqk.getAllAngularTestabilities();let Fe=he.length,dt=!1;const It=function(xt){dt=dt||xt,Fe--,0==Fe&&L(dt)};he.forEach(xt=>{xt.whenStable(It)})})}findTestabilityInTree(z,F,L){return null==F?null:z.getTestability(F)??(L?(0,V.q)().isShadowRoot(F)?this.findTestabilityInTree(z,F.host,!0):this.findTestabilityInTree(z,F.parentElement,!0):null)}},deps:[]},{provide:p.lri,useClass:p.dDg,deps:[p.R0b,p.eoX,p.rWj]},{provide:p.dDg,useClass:p.dDg,deps:[p.R0b,p.eoX,p.rWj]}],Fn=[{provide:p.zSh,useValue:"root"},{provide:p.qLn,useFactory:function En(){return new p.qLn},deps:[]},{provide:ae,useClass:bt,multi:!0,deps:[V.K0,p.R0b,p.Lbi]},{provide:ae,useClass:Ge,multi:!0,deps:[V.K0]},ve,lt,ye,{provide:p.FYo,useExisting:ve},{provide:V.JF,useClass:J,deps:[]},[]];let wn=(()=>{class ne{constructor(F){}static withServerTransition(F){return{ngModule:ne,providers:[{provide:p.AFp,useValue:F.appId}]}}static#e=this.\u0275fac=function(L){return new(L||ne)(p.LFG(Bn,12))};static#t=this.\u0275mod=p.oAB({type:ne});static#n=this.\u0275inj=p.cJS({providers:[...Fn,...ln],imports:[V.ez,p.hGG]})}return ne})(),Kn=(()=>{class ne{constructor(F){this._doc=F}getTitle(){return this._doc.title}setTitle(F){this._doc.title=F||""}static#e=this.\u0275fac=function(L){return new(L||ne)(p.LFG(V.K0))};static#t=this.\u0275prov=p.Yz7({token:ne,factory:function(L){let he=null;return he=L?new L:function Pn(){return new Kn((0,p.LFG)(V.K0))}(),he},providedIn:"root"})}return ne})();typeof window<"u"&&window;let Nr=(()=>{class ne{static#e=this.\u0275fac=function(L){return new(L||ne)};static#t=this.\u0275prov=p.Yz7({token:ne,factory:function(L){let he=null;return he=L?new(L||ne):p.LFG(Rn),he},providedIn:"root"})}return ne})(),Rn=(()=>{class ne extends Nr{constructor(F){super(),this._doc=F}sanitize(F,L){if(null==L)return null;switch(F){case p.q3G.NONE:return L;case p.q3G.HTML:return(0,p.qzn)(L,"HTML")?(0,p.z3N)(L):(0,p.EiD)(this._doc,String(L)).toString();case p.q3G.STYLE:return(0,p.qzn)(L,"Style")?(0,p.z3N)(L):L;case p.q3G.SCRIPT:if((0,p.qzn)(L,"Script"))return(0,p.z3N)(L);throw new p.vHH(5200,!1);case p.q3G.URL:return(0,p.qzn)(L,"URL")?(0,p.z3N)(L):(0,p.mCW)(String(L));case p.q3G.RESOURCE_URL:if((0,p.qzn)(L,"ResourceURL"))return(0,p.z3N)(L);throw new p.vHH(5201,!1);default:throw new p.vHH(5202,!1)}}bypassSecurityTrustHtml(F){return(0,p.JVY)(F)}bypassSecurityTrustStyle(F){return(0,p.L6k)(F)}bypassSecurityTrustScript(F){return(0,p.eBb)(F)}bypassSecurityTrustUrl(F){return(0,p.LAX)(F)}bypassSecurityTrustResourceUrl(F){return(0,p.pB0)(F)}static#e=this.\u0275fac=function(L){return new(L||ne)(p.LFG(V.K0))};static#t=this.\u0275prov=p.Yz7({token:ne,factory:function(L){let he=null;return he=L?new L:function ri(ne){return new Rn(ne.get(V.K0))}(p.LFG(p.zs3)),he},providedIn:"root"})}return ne})()},3781:(Mt,He,U)=>{U.d(He,{wm:()=>oi,F0:()=>Wn,Bz:()=>dn,lC:()=>Ti});var p=U(5879),V=U(5592),b=U(4674),$=U(2459),Y=U(2096),W=U(5619),ue=U(7453),de=U(2737),J=U(7400),ae=U(4564),ye=U(2714),je=U(8251),Ke=U(7103);function lt(...T){const S=(0,ae.yG)(T),v=(0,ae.jO)(T),{args:R,keys:B}=(0,ue.D)(T);if(0===R.length)return(0,$.D)([],S);const te=new V.y(function Xe(T,S,v=de.y){return R=>{rt(S,()=>{const{length:B}=T,te=new Array(B);let Ie=B,ce=B;for(let Qe=0;Qe<B;Qe++)rt(S,()=>{const Ht=(0,$.D)(T[Qe],S);let qn=!1;Ht.subscribe((0,je.x)(R,zn=>{te[Qe]=zn,qn||(qn=!0,ce--),ce||R.next(v(te.slice()))},()=>{--Ie||R.complete()}))},R)},R)}}(R,S,B?Ie=>(0,ye.n)(B,Ie):de.y));return v?te.pipe((0,J.Z)(v)):te}function rt(T,S,v){T?(0,Ke.f)(v,T,S):S()}var it=U(6973),wt=U(5211),ut=U(4829);function oe(T){return new V.y(S=>{(0,ut.Xf)(T()).subscribe(S)})}var Me=U(8407);function pe(T,S){const v=(0,b.m)(T)?T:()=>T,R=B=>B.error(v());return new V.y(S?B=>S.schedule(R,0,B):R)}var me=U(6232),be=U(7394),ve=U(9360);function tt(){return(0,ve.e)((T,S)=>{let v=null;T._refCount++;const R=(0,je.x)(S,void 0,void 0,void 0,()=>{if(!T||T._refCount<=0||0<--T._refCount)return void(v=null);const B=T._connection,te=v;v=null,B&&(!te||B===te)&&B.unsubscribe(),S.unsubscribe()});T.subscribe(R),R.closed||(v=T.connect())})}class ge extends V.y{constructor(S,v){super(),this.source=S,this.subjectFactory=v,this._subject=null,this._refCount=0,this._connection=null,(0,ve.A)(S)&&(this.lift=S.lift)}_subscribe(S){return this.getSubject().subscribe(S)}getSubject(){const S=this._subject;return(!S||S.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:S}=this;this._subject=this._connection=null,S?.unsubscribe()}connect(){let S=this._connection;if(!S){S=this._connection=new be.w0;const v=this.getSubject();S.add(this.source.subscribe((0,je.x)(v,void 0,()=>{this._teardown(),v.complete()},R=>{this._teardown(),v.error(R)},()=>this._teardown()))),S.closed&&(this._connection=null,S=be.w0.EMPTY)}return S}refCount(){return tt()(this)}}var Lt=U(8645),pt=U(6814),st=U(7398),_n=U(4664),Dt=U(8180),bt=U(7921),Pt=U(2181),Se=U(1631),Ne=U(1374),Ge=U(6328),ke=U(9397);function We(T){return(0,ve.e)((S,v)=>{let te,R=null,B=!1;R=S.subscribe((0,je.x)(v,void 0,void 0,Ie=>{te=(0,ut.Xf)(T(Ie,We(T)(S))),R?(R.unsubscribe(),R=null,te.subscribe(v)):B=!0})),B&&(R.unsubscribe(),R=null,te.subscribe(v))})}var at=U(6699),Tt=U(3572);function ft(T){return T<=0?()=>me.E:(0,ve.e)((S,v)=>{let R=[];S.subscribe((0,je.x)(v,B=>{R.push(B),T<R.length&&R.shift()},()=>{for(const B of R)v.next(B);v.complete()},void 0,()=>{R=null}))})}var En=U(3026),un=U(4716),Bn=U(2420),Fn=U(7537),wn=U(6593);const Wt="primary",fn=Symbol("RouteTitle");class cr{constructor(S){this.params=S||{}}has(S){return Object.prototype.hasOwnProperty.call(this.params,S)}get(S){if(this.has(S)){const v=this.params[S];return Array.isArray(v)?v[0]:v}return null}getAll(S){if(this.has(S)){const v=this.params[S];return Array.isArray(v)?v:[v]}return[]}get keys(){return Object.keys(this.params)}}function Pn(T){return new cr(T)}function Kn(T,S,v){const R=v.path.split("/");if(R.length>T.length||"full"===v.pathMatch&&(S.hasChildren()||R.length<T.length))return null;const B={};for(let te=0;te<R.length;te++){const Ie=R[te],ce=T[te];if(Ie.startsWith(":"))B[Ie.substring(1)]=ce;else if(Ie!==ce.path)return null}return{consumed:T.slice(0,R.length),posParams:B}}function ir(T,S){const v=T?Object.keys(T):void 0,R=S?Object.keys(S):void 0;if(!v||!R||v.length!=R.length)return!1;let B;for(let te=0;te<v.length;te++)if(B=v[te],!en(T[B],S[B]))return!1;return!0}function en(T,S){if(Array.isArray(T)&&Array.isArray(S)){if(T.length!==S.length)return!1;const v=[...T].sort(),R=[...S].sort();return v.every((B,te)=>R[te]===B)}return T===S}function hn(T){return T.length>0?T[T.length-1]:null}function tn(T){return function Ce(T){return!!T&&(T instanceof V.y||(0,b.m)(T.lift)&&(0,b.m)(T.subscribe))}(T)?T:(0,p.QGY)(T)?(0,$.D)(Promise.resolve(T)):(0,Y.of)(T)}const tr={exact:function Pe(T,S,v){if(!Rn(T.segments,S.segments)||!At(T.segments,S.segments,v)||T.numberOfChildren!==S.numberOfChildren)return!1;for(const R in S.children)if(!T.children[R]||!Pe(T.children[R],S.children[R],v))return!1;return!0},subset:qe},fr={exact:function Ct(T,S){return ir(T,S)},subset:function $e(T,S){return Object.keys(S).length<=Object.keys(T).length&&Object.keys(S).every(v=>en(T[v],S[v]))},ignored:()=>!0};function Ze(T,S,v){return tr[v.paths](T.root,S.root,v.matrixParams)&&fr[v.queryParams](T.queryParams,S.queryParams)&&!("exact"===v.fragment&&T.fragment!==S.fragment)}function qe(T,S,v){return Bt(T,S,S.segments,v)}function Bt(T,S,v,R){if(T.segments.length>v.length){const B=T.segments.slice(0,v.length);return!(!Rn(B,v)||S.hasChildren()||!At(B,v,R))}if(T.segments.length===v.length){if(!Rn(T.segments,v)||!At(T.segments,v,R))return!1;for(const B in S.children)if(!T.children[B]||!qe(T.children[B],S.children[B],R))return!1;return!0}{const B=v.slice(0,T.segments.length),te=v.slice(T.segments.length);return!!(Rn(T.segments,B)&&At(T.segments,B,R)&&T.children[Wt])&&Bt(T.children[Wt],S,te,R)}}function At(T,S,v){return S.every((R,B)=>fr[v](T[B].parameters,R.parameters))}class Hn{constructor(S=new Qt([],{}),v={},R=null){this.root=S,this.queryParams=v,this.fragment=R}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Pn(this.queryParams)),this._queryParamMap}toString(){return fi.serialize(this)}}class Qt{constructor(S,v){this.segments=S,this.children=v,this.parent=null,Object.values(v).forEach(R=>R.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return qr(this)}}class Nr{constructor(S,v){this.path=S,this.parameters=v}get parameterMap(){return this._parameterMap||(this._parameterMap=Pn(this.parameters)),this._parameterMap}toString(){return he(this)}}function Rn(T,S){return T.length===S.length&&T.every((v,R)=>v.path===S[R].path)}let Ar=(()=>{class T{static#e=this.\u0275fac=function(R){return new(R||T)};static#t=this.\u0275prov=p.Yz7({token:T,factory:function(){return new Jr},providedIn:"root"})}return T})();class Jr{parse(S){const v=new we(S);return new Hn(v.parseRootSegment(),v.parseQueryParams(),v.parseFragment())}serialize(S){const v=`/${Pr(S.root,!0)}`,R=function dt(T){const S=Object.keys(T).map(v=>{const R=T[v];return Array.isArray(R)?R.map(B=>`${De(v)}=${De(B)}`).join("&"):`${De(v)}=${De(R)}`}).filter(v=>!!v);return S.length?`?${S.join("&")}`:""}(S.queryParams);return`${v}${R}${"string"==typeof S.fragment?`#${function ne(T){return encodeURI(T)}(S.fragment)}`:""}`}}const fi=new Jr;function qr(T){return T.segments.map(S=>he(S)).join("/")}function Pr(T,S){if(!T.hasChildren())return qr(T);if(S){const v=T.children[Wt]?Pr(T.children[Wt],!1):"",R=[];return Object.entries(T.children).forEach(([B,te])=>{B!==Wt&&R.push(`${B}:${Pr(te,!1)}`)}),R.length>0?`${v}(${R.join("//")})`:v}{const v=function Ir(T,S){let v=[];return Object.entries(T.children).forEach(([R,B])=>{R===Wt&&(v=v.concat(S(B,R)))}),Object.entries(T.children).forEach(([R,B])=>{R!==Wt&&(v=v.concat(S(B,R)))}),v}(T,(R,B)=>B===Wt?[Pr(T.children[Wt],!1)]:[`${B}:${Pr(R,!1)}`]);return 1===Object.keys(T.children).length&&null!=T.children[Wt]?`${qr(T)}/${v[0]}`:`${qr(T)}/(${v.join("//")})`}}function Ur(T){return encodeURIComponent(T).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function De(T){return Ur(T).replace(/%3B/gi,";")}function z(T){return Ur(T).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function F(T){return decodeURIComponent(T)}function L(T){return F(T.replace(/\+/g,"%20"))}function he(T){return`${z(T.path)}${function Fe(T){return Object.keys(T).map(S=>`;${z(S)}=${z(T[S])}`).join("")}(T.parameters)}`}const It=/^[^\/()?;#]+/;function xt(T){const S=T.match(It);return S?S[0]:""}const kt=/^[^\/()?;=#]+/,jn=/^[^=?&#]+/,Ee=/^[^&#]+/;class we{constructor(S){this.url=S,this.remaining=S}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Qt([],{}):new Qt([],this.parseChildren())}parseQueryParams(){const S={};if(this.consumeOptional("?"))do{this.parseQueryParam(S)}while(this.consumeOptional("&"));return S}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const S=[];for(this.peekStartsWith("(")||S.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),S.push(this.parseSegment());let v={};this.peekStartsWith("/(")&&(this.capture("/"),v=this.parseParens(!0));let R={};return this.peekStartsWith("(")&&(R=this.parseParens(!1)),(S.length>0||Object.keys(v).length>0)&&(R[Wt]=new Qt(S,v)),R}parseSegment(){const S=xt(this.remaining);if(""===S&&this.peekStartsWith(";"))throw new p.vHH(4009,!1);return this.capture(S),new Nr(F(S),this.parseMatrixParams())}parseMatrixParams(){const S={};for(;this.consumeOptional(";");)this.parseParam(S);return S}parseParam(S){const v=function Yt(T){const S=T.match(kt);return S?S[0]:""}(this.remaining);if(!v)return;this.capture(v);let R="";if(this.consumeOptional("=")){const B=xt(this.remaining);B&&(R=B,this.capture(R))}S[F(v)]=F(R)}parseQueryParam(S){const v=function Re(T){const S=T.match(jn);return S?S[0]:""}(this.remaining);if(!v)return;this.capture(v);let R="";if(this.consumeOptional("=")){const Ie=function Ae(T){const S=T.match(Ee);return S?S[0]:""}(this.remaining);Ie&&(R=Ie,this.capture(R))}const B=L(v),te=L(R);if(S.hasOwnProperty(B)){let Ie=S[B];Array.isArray(Ie)||(Ie=[Ie],S[B]=Ie),Ie.push(te)}else S[B]=te}parseParens(S){const v={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const R=xt(this.remaining),B=this.remaining[R.length];if("/"!==B&&")"!==B&&";"!==B)throw new p.vHH(4010,!1);let te;R.indexOf(":")>-1?(te=R.slice(0,R.indexOf(":")),this.capture(te),this.capture(":")):S&&(te=Wt);const Ie=this.parseChildren();v[te]=1===Object.keys(Ie).length?Ie[Wt]:new Qt([],Ie),this.consumeOptional("//")}return v}peekStartsWith(S){return this.remaining.startsWith(S)}consumeOptional(S){return!!this.peekStartsWith(S)&&(this.remaining=this.remaining.substring(S.length),!0)}capture(S){if(!this.consumeOptional(S))throw new p.vHH(4011,!1)}}function Te(T){return T.segments.length>0?new Qt([],{[Wt]:T}):T}function Be(T){const S={};for(const R of Object.keys(T.children)){const te=Be(T.children[R]);if(R===Wt&&0===te.segments.length&&te.hasChildren())for(const[Ie,ce]of Object.entries(te.children))S[Ie]=ce;else(te.segments.length>0||te.hasChildren())&&(S[R]=te)}return function et(T){if(1===T.numberOfChildren&&T.children[Wt]){const S=T.children[Wt];return new Qt(T.segments.concat(S.segments),S.children)}return T}(new Qt(T.segments,S))}function Ft(T){return T instanceof Hn}function nn(T){let S;const B=Te(function v(te){const Ie={};for(const Qe of te.children){const Ht=v(Qe);Ie[Qe.outlet]=Ht}const ce=new Qt(te.url,Ie);return te===T&&(S=ce),ce}(T.root));return S??B}function Gn(T,S,v,R){let B=T;for(;B.parent;)B=B.parent;if(0===S.length)return br(B,B,B,v,R);const te=function pr(T){if("string"==typeof T[0]&&1===T.length&&"/"===T[0])return new nr(!0,0,T);let S=0,v=!1;const R=T.reduce((B,te,Ie)=>{if("object"==typeof te&&null!=te){if(te.outlets){const ce={};return Object.entries(te.outlets).forEach(([Qe,Ht])=>{ce[Qe]="string"==typeof Ht?Ht.split("/"):Ht}),[...B,{outlets:ce}]}if(te.segmentPath)return[...B,te.segmentPath]}return"string"!=typeof te?[...B,te]:0===Ie?(te.split("/").forEach((ce,Qe)=>{0==Qe&&"."===ce||(0==Qe&&""===ce?v=!0:".."===ce?S++:""!=ce&&B.push(ce))}),B):[...B,te]},[]);return new nr(v,S,R)}(S);if(te.toRoot())return br(B,B,new Qt([],{}),v,R);const Ie=function us(T,S,v){if(T.isAbsolute)return new ei(S,!0,0);if(!v)return new ei(S,!1,NaN);if(null===v.parent)return new ei(v,!0,0);const R=Mn(T.commands[0])?0:1;return function Vn(T,S,v){let R=T,B=S,te=v;for(;te>B;){if(te-=B,R=R.parent,!R)throw new p.vHH(4005,!1);B=R.segments.length}return new ei(R,!1,B-te)}(v,v.segments.length-1+R,T.numberOfDoubleDots)}(te,B,T),ce=Ie.processChildren?Dr(Ie.segmentGroup,Ie.index,te.commands):ts(Ie.segmentGroup,Ie.index,te.commands);return br(B,Ie.segmentGroup,ce,v,R)}function Mn(T){return"object"==typeof T&&null!=T&&!T.outlets&&!T.segmentPath}function sr(T){return"object"==typeof T&&null!=T&&T.outlets}function br(T,S,v,R,B){let Ie,te={};R&&Object.entries(R).forEach(([Qe,Ht])=>{te[Qe]=Array.isArray(Ht)?Ht.map(qn=>`${qn}`):`${Ht}`}),Ie=T===S?v:li(T,S,v);const ce=Te(Be(Ie));return new Hn(ce,te,B)}function li(T,S,v){const R={};return Object.entries(T.children).forEach(([B,te])=>{R[B]=te===S?v:li(te,S,v)}),new Qt(T.segments,R)}class nr{constructor(S,v,R){if(this.isAbsolute=S,this.numberOfDoubleDots=v,this.commands=R,S&&R.length>0&&Mn(R[0]))throw new p.vHH(4003,!1);const B=R.find(sr);if(B&&B!==hn(R))throw new p.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ei{constructor(S,v,R){this.segmentGroup=S,this.processChildren=v,this.index=R}}function ts(T,S,v){if(T||(T=new Qt([],{})),0===T.segments.length&&T.hasChildren())return Dr(T,S,v);const R=function Es(T,S,v){let R=0,B=S;const te={match:!1,pathIndex:0,commandIndex:0};for(;B<T.segments.length;){if(R>=v.length)return te;const Ie=T.segments[B],ce=v[R];if(sr(ce))break;const Qe=`${ce}`,Ht=R<v.length-1?v[R+1]:null;if(B>0&&void 0===Qe)break;if(Qe&&Ht&&"object"==typeof Ht&&void 0===Ht.outlets){if(!ii(Qe,Ht,Ie))return te;R+=2}else{if(!ii(Qe,{},Ie))return te;R++}B++}return{match:!0,pathIndex:B,commandIndex:R}}(T,S,v),B=v.slice(R.commandIndex);if(R.match&&R.pathIndex<T.segments.length){const te=new Qt(T.segments.slice(0,R.pathIndex),{});return te.children[Wt]=new Qt(T.segments.slice(R.pathIndex),T.children),Dr(te,0,B)}return R.match&&0===B.length?new Qt(T.segments,{}):R.match&&!T.hasChildren()?go(T,S,v):R.match?Dr(T,0,B):go(T,S,v)}function Dr(T,S,v){if(0===v.length)return new Qt(T.segments,{});{const R=function vi(T){return sr(T[0])?T[0].outlets:{[Wt]:T}}(v),B={};if(Object.keys(R).some(te=>te!==Wt)&&T.children[Wt]&&1===T.numberOfChildren&&0===T.children[Wt].segments.length){const te=Dr(T.children[Wt],S,v);return new Qt(T.segments,te.children)}return Object.entries(R).forEach(([te,Ie])=>{"string"==typeof Ie&&(Ie=[Ie]),null!==Ie&&(B[te]=ts(T.children[te],S,Ie))}),Object.entries(T.children).forEach(([te,Ie])=>{void 0===R[te]&&(B[te]=Ie)}),new Qt(T.segments,B)}}function go(T,S,v){const R=T.segments.slice(0,S);let B=0;for(;B<v.length;){const te=v[B];if(sr(te)){const Qe=_a(te.outlets);return new Qt(R,Qe)}if(0===B&&Mn(v[0])){R.push(new Nr(T.segments[S].path,qs(v[0]))),B++;continue}const Ie=sr(te)?te.outlets[Wt]:`${te}`,ce=B<v.length-1?v[B+1]:null;Ie&&ce&&Mn(ce)?(R.push(new Nr(Ie,qs(ce))),B+=2):(R.push(new Nr(Ie,{})),B++)}return new Qt(R,{})}function _a(T){const S={};return Object.entries(T).forEach(([v,R])=>{"string"==typeof R&&(R=[R]),null!==R&&(S[v]=go(new Qt([],{}),0,R))}),S}function qs(T){const S={};return Object.entries(T).forEach(([v,R])=>S[v]=`${R}`),S}function ii(T,S,v){return T==v.path&&ir(S,v.parameters)}const Vs="imperative";class pi{constructor(S,v){this.id=S,this.url=v}}class Ps extends pi{constructor(S,v,R="imperative",B=null){super(S,v),this.type=0,this.navigationTrigger=R,this.restoredState=B}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ns extends pi{constructor(S,v,R){super(S,v),this.urlAfterRedirects=R,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class zi extends pi{constructor(S,v,R,B){super(S,v),this.reason=R,this.code=B,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Gi extends pi{constructor(S,v,R,B){super(S,v),this.reason=R,this.code=B,this.type=16}}class Ii extends pi{constructor(S,v,R,B){super(S,v),this.error=R,this.target=B,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Po extends pi{constructor(S,v,R,B){super(S,v),this.urlAfterRedirects=R,this.state=B,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ui extends pi{constructor(S,v,R,B){super(S,v),this.urlAfterRedirects=R,this.state=B,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xo extends pi{constructor(S,v,R,B,te){super(S,v),this.urlAfterRedirects=R,this.state=B,this.shouldActivate=te,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ei extends pi{constructor(S,v,R,B){super(S,v),this.urlAfterRedirects=R,this.state=B,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _o extends pi{constructor(S,v,R,B){super(S,v),this.urlAfterRedirects=R,this.state=B,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Rs{constructor(S){this.route=S,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ro{constructor(S){this.route=S,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ks{constructor(S){this.snapshot=S,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yo{constructor(S){this.snapshot=S,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ts{constructor(S){this.snapshot=S,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mo{constructor(S){this.snapshot=S,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cs{constructor(S,v,R){this.routerEvent=S,this.position=v,this.anchor=R,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class xn{}class Rr{constructor(S){this.url=S}}class Ai{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Br,this.attachRef=null}}let Br=(()=>{class T{constructor(){this.contexts=new Map}onChildOutletCreated(v,R){const B=this.getOrCreateContext(v);B.outlet=R,this.contexts.set(v,B)}onChildOutletDestroyed(v){const R=this.getContext(v);R&&(R.outlet=null,R.attachRef=null)}onOutletDeactivated(){const v=this.contexts;return this.contexts=new Map,v}onOutletReAttached(v){this.contexts=v}getOrCreateContext(v){let R=this.getContext(v);return R||(R=new Ai,this.contexts.set(v,R)),R}getContext(v){return this.contexts.get(v)||null}static#e=this.\u0275fac=function(R){return new(R||T)};static#t=this.\u0275prov=p.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})();class Zs{constructor(S){this._root=S}get root(){return this._root.value}parent(S){const v=this.pathFromRoot(S);return v.length>1?v[v.length-2]:null}children(S){const v=vo(S,this._root);return v?v.children.map(R=>R.value):[]}firstChild(S){const v=vo(S,this._root);return v&&v.children.length>0?v.children[0].value:null}siblings(S){const v=ds(S,this._root);return v.length<2?[]:v[v.length-2].children.map(B=>B.value).filter(B=>B!==S)}pathFromRoot(S){return ds(S,this._root).map(v=>v.value)}}function vo(T,S){if(T===S.value)return S;for(const v of S.children){const R=vo(T,v);if(R)return R}return null}function ds(T,S){if(T===S.value)return[S];for(const v of S.children){const R=ds(T,v);if(R.length)return R.unshift(S),R}return[]}class Si{constructor(S,v){this.value=S,this.children=v}toString(){return`TreeNode(${this.value})`}}function Pi(T){const S={};return T&&T.children.forEach(v=>S[v.value.outlet]=v),S}class Mr extends Zs{constructor(S,v){super(S),this.snapshot=v,rr(this,S)}toString(){return this.snapshot.toString()}}function Ot(T,S){const v=function Sn(T,S){const Ie=new Hr([],{},{},"",{},Wt,S,null,{});return new Wi("",new Si(Ie,[]))}(0,S),R=new W.X([new Nr("",{})]),B=new W.X({}),te=new W.X({}),Ie=new W.X({}),ce=new W.X(""),Qe=new $n(R,B,Ie,ce,te,Wt,S,v.root);return Qe.snapshot=v.root,new Mr(new Si(Qe,[]),v)}class $n{constructor(S,v,R,B,te,Ie,ce,Qe){this.urlSubject=S,this.paramsSubject=v,this.queryParamsSubject=R,this.fragmentSubject=B,this.dataSubject=te,this.outlet=Ie,this.component=ce,this._futureSnapshot=Qe,this.title=this.dataSubject?.pipe((0,st.U)(Ht=>Ht[fn]))??(0,Y.of)(void 0),this.url=S,this.params=v,this.queryParams=R,this.fragment=B,this.data=te}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,st.U)(S=>Pn(S)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,st.U)(S=>Pn(S)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function si(T,S="emptyOnly"){const v=T.pathFromRoot;let R=0;if("always"!==S)for(R=v.length-1;R>=1;){const B=v[R],te=v[R-1];if(B.routeConfig&&""===B.routeConfig.path)R--;else{if(te.component)break;R--}}return function hs(T){return T.reduce((S,v)=>({params:{...S.params,...v.params},data:{...S.data,...v.data},resolve:{...v.data,...S.resolve,...v.routeConfig?.data,...v._resolvedData}}),{params:{},data:{},resolve:{}})}(v.slice(R))}class Hr{get title(){return this.data?.[fn]}constructor(S,v,R,B,te,Ie,ce,Qe,Ht){this.url=S,this.params=v,this.queryParams=R,this.fragment=B,this.data=te,this.outlet=Ie,this.component=ce,this.routeConfig=Qe,this._resolve=Ht}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Pn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Pn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(R=>R.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Wi extends Zs{constructor(S,v){super(v),this.url=S,rr(this,v)}toString(){return qi(this._root)}}function rr(T,S){S.value._routerState=T,S.children.forEach(v=>rr(T,v))}function qi(T){const S=T.children.length>0?` { ${T.children.map(qi).join(", ")} } `:"";return`${T.value}${S}`}function ws(T){if(T.snapshot){const S=T.snapshot,v=T._futureSnapshot;T.snapshot=v,ir(S.queryParams,v.queryParams)||T.queryParamsSubject.next(v.queryParams),S.fragment!==v.fragment&&T.fragmentSubject.next(v.fragment),ir(S.params,v.params)||T.paramsSubject.next(v.params),function Cr(T,S){if(T.length!==S.length)return!1;for(let v=0;v<T.length;++v)if(!ir(T[v],S[v]))return!1;return!0}(S.url,v.url)||T.urlSubject.next(v.url),ir(S.data,v.data)||T.dataSubject.next(v.data)}else T.snapshot=T._futureSnapshot,T.dataSubject.next(T._futureSnapshot.data)}function yn(T,S){const v=ir(T.params,S.params)&&function ri(T,S){return Rn(T,S)&&T.every((v,R)=>ir(v.parameters,S[R].parameters))}(T.url,S.url);return v&&!(!T.parent!=!S.parent)&&(!T.parent||yn(T.parent,S.parent))}let Ti=(()=>{class T{constructor(){this.activated=null,this._activatedRoute=null,this.name=Wt,this.activateEvents=new p.vpe,this.deactivateEvents=new p.vpe,this.attachEvents=new p.vpe,this.detachEvents=new p.vpe,this.parentContexts=(0,p.f3M)(Br),this.location=(0,p.f3M)(p.s_b),this.changeDetector=(0,p.f3M)(p.sBO),this.environmentInjector=(0,p.f3M)(p.lqb),this.inputBinder=(0,p.f3M)(rs,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(v){if(v.name){const{firstChange:R,previousValue:B}=v.name;if(R)return;this.isTrackedInParentContexts(B)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(B)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(v){return this.parentContexts.getContext(v)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const v=this.parentContexts.getContext(this.name);v?.route&&(v.attachRef?this.attach(v.attachRef,v.route):this.activateWith(v.route,v.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new p.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new p.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new p.vHH(4012,!1);this.location.detach();const v=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(v.instance),v}attach(v,R){this.activated=v,this._activatedRoute=R,this.location.insert(v.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(v.instance)}deactivate(){if(this.activated){const v=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(v)}}activateWith(v,R){if(this.isActivated)throw new p.vHH(4013,!1);this._activatedRoute=v;const B=this.location,Ie=v.snapshot.component,ce=this.parentContexts.getOrCreateContext(this.name).children,Qe=new Fi(v,ce,B.injector);this.activated=B.createComponent(Ie,{index:B.length,injector:Qe,environmentInjector:R??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(R){return new(R||T)};static#t=this.\u0275dir=p.lG2({type:T,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[p.TTD]})}return T})();class Fi{constructor(S,v,R){this.route=S,this.childContexts=v,this.parent=R}get(S,v){return S===$n?this.route:S===Br?this.childContexts:this.parent.get(S,v)}}const rs=new p.OlP("");let Er=(()=>{class T{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(v){this.unsubscribeFromRouteData(v),this.subscribeToRouteData(v)}unsubscribeFromRouteData(v){this.outletDataSubscriptions.get(v)?.unsubscribe(),this.outletDataSubscriptions.delete(v)}subscribeToRouteData(v){const{activatedRoute:R}=v,B=lt([R.queryParams,R.params,R.data]).pipe((0,_n.w)(([te,Ie,ce],Qe)=>(ce={...te,...Ie,...ce},0===Qe?(0,Y.of)(ce):Promise.resolve(ce)))).subscribe(te=>{if(!v.isActivated||!v.activatedComponentRef||v.activatedRoute!==R||null===R.component)return void this.unsubscribeFromRouteData(v);const Ie=(0,p.qFp)(R.component);if(Ie)for(const{templateName:ce}of Ie.inputs)v.activatedComponentRef.setInput(ce,te[ce]);else this.unsubscribeFromRouteData(v)});this.outletDataSubscriptions.set(v,B)}static#e=this.\u0275fac=function(R){return new(R||T)};static#t=this.\u0275prov=p.Yz7({token:T,factory:T.\u0275fac})}return T})();function Ki(T,S,v){if(v&&T.shouldReuseRoute(S.value,v.value.snapshot)){const R=v.value;R._futureSnapshot=S.value;const B=function ci(T,S,v){return S.children.map(R=>{for(const B of v.children)if(T.shouldReuseRoute(R.value,B.value.snapshot))return Ki(T,R,B);return Ki(T,R)})}(T,S,v);return new Si(R,B)}{if(T.shouldAttach(S.value)){const te=T.retrieve(S.value);if(null!==te){const Ie=te.route;return Ie.value._futureSnapshot=S.value,Ie.children=S.children.map(ce=>Ki(T,ce)),Ie}}const R=function Qs(T){return new $n(new W.X(T.url),new W.X(T.params),new W.X(T.queryParams),new W.X(T.fragment),new W.X(T.data),T.outlet,T.component,T)}(S.value),B=S.children.map(te=>Ki(T,te));return new Si(R,B)}}const or="ngNavigationCancelingError";function Vi(T,S){const{redirectTo:v,navigationBehaviorOptions:R}=Ft(S)?{redirectTo:S,navigationBehaviorOptions:void 0}:S,B=jr(!1,0,S);return B.url=v,B.navigationBehaviorOptions=R,B}function jr(T,S,v){const R=new Error("NavigationCancelingError: "+(T||""));return R[or]=!0,R.cancellationCode=S,v&&(R.url=v),R}function Ys(T){return T&&T[or]}let Ln=(()=>{class T{static#e=this.\u0275fac=function(R){return new(R||T)};static#t=this.\u0275cmp=p.Xpm({type:T,selectors:[["ng-component"]],standalone:!0,features:[p.jDz],decls:1,vars:0,template:function(R,B){1&R&&p._UZ(0,"router-outlet")},dependencies:[Ti],encapsulation:2})}return T})();function Lr(T){const S=T.children&&T.children.map(Lr),v=S?{...T,children:S}:{...T};return!v.component&&!v.loadComponent&&(S||v.loadChildren)&&v.outlet&&v.outlet!==Wt&&(v.component=Ln),v}function ar(T){return T.outlet||Wt}function Zi(T){if(!T)return null;if(T.routeConfig?._injector)return T.routeConfig._injector;for(let S=T.parent;S;S=S.parent){const v=S.routeConfig;if(v?._loadedInjector)return v._loadedInjector;if(v?._injector)return v._injector}return null}class eo{constructor(S,v,R,B,te){this.routeReuseStrategy=S,this.futureState=v,this.currState=R,this.forwardEvent=B,this.inputBindingEnabled=te}activate(S){const v=this.futureState._root,R=this.currState?this.currState._root:null;this.deactivateChildRoutes(v,R,S),ws(this.futureState.root),this.activateChildRoutes(v,R,S)}deactivateChildRoutes(S,v,R){const B=Pi(v);S.children.forEach(te=>{const Ie=te.value.outlet;this.deactivateRoutes(te,B[Ie],R),delete B[Ie]}),Object.values(B).forEach(te=>{this.deactivateRouteAndItsChildren(te,R)})}deactivateRoutes(S,v,R){const B=S.value,te=v?v.value:null;if(B===te)if(B.component){const Ie=R.getContext(B.outlet);Ie&&this.deactivateChildRoutes(S,v,Ie.children)}else this.deactivateChildRoutes(S,v,R);else te&&this.deactivateRouteAndItsChildren(v,R)}deactivateRouteAndItsChildren(S,v){S.value.component&&this.routeReuseStrategy.shouldDetach(S.value.snapshot)?this.detachAndStoreRouteSubtree(S,v):this.deactivateRouteAndOutlet(S,v)}detachAndStoreRouteSubtree(S,v){const R=v.getContext(S.value.outlet),B=R&&S.value.component?R.children:v,te=Pi(S);for(const Ie of Object.keys(te))this.deactivateRouteAndItsChildren(te[Ie],B);if(R&&R.outlet){const Ie=R.outlet.detach(),ce=R.children.onOutletDeactivated();this.routeReuseStrategy.store(S.value.snapshot,{componentRef:Ie,route:S,contexts:ce})}}deactivateRouteAndOutlet(S,v){const R=v.getContext(S.value.outlet),B=R&&S.value.component?R.children:v,te=Pi(S);for(const Ie of Object.keys(te))this.deactivateRouteAndItsChildren(te[Ie],B);R&&(R.outlet&&(R.outlet.deactivate(),R.children.onOutletDeactivated()),R.attachRef=null,R.route=null)}activateChildRoutes(S,v,R){const B=Pi(v);S.children.forEach(te=>{this.activateRoutes(te,B[te.value.outlet],R),this.forwardEvent(new Mo(te.value.snapshot))}),S.children.length&&this.forwardEvent(new yo(S.value.snapshot))}activateRoutes(S,v,R){const B=S.value,te=v?v.value:null;if(ws(B),B===te)if(B.component){const Ie=R.getOrCreateContext(B.outlet);this.activateChildRoutes(S,v,Ie.children)}else this.activateChildRoutes(S,v,R);else if(B.component){const Ie=R.getOrCreateContext(B.outlet);if(this.routeReuseStrategy.shouldAttach(B.snapshot)){const ce=this.routeReuseStrategy.retrieve(B.snapshot);this.routeReuseStrategy.store(B.snapshot,null),Ie.children.onOutletReAttached(ce.contexts),Ie.attachRef=ce.componentRef,Ie.route=ce.route.value,Ie.outlet&&Ie.outlet.attach(ce.componentRef,ce.route.value),ws(ce.route.value),this.activateChildRoutes(S,null,Ie.children)}else{const ce=Zi(B.snapshot);Ie.attachRef=null,Ie.route=B,Ie.injector=ce,Ie.outlet&&Ie.outlet.activateWith(B,Ie.injector),this.activateChildRoutes(S,null,Ie.children)}}else this.activateChildRoutes(S,null,R)}}class No{constructor(S){this.path=S,this.route=this.path[this.path.length-1]}}class Cs{constructor(S,v){this.component=S,this.route=v}}function ya(T,S,v){const R=T._root;return Lo(R,S?S._root:null,v,[R.value])}function Bs(T,S){const v=Symbol(),R=S.get(T,v);return R===v?"function"!=typeof T||(0,p.Z0I)(T)?S.get(T):T:R}function Lo(T,S,v,R,B={canDeactivateChecks:[],canActivateChecks:[]}){const te=Pi(S);return T.children.forEach(Ie=>{(function ss(T,S,v,R,B={canDeactivateChecks:[],canActivateChecks:[]}){const te=T.value,Ie=S?S.value:null,ce=v?v.getContext(T.value.outlet):null;if(Ie&&te.routeConfig===Ie.routeConfig){const Qe=function to(T,S,v){if("function"==typeof v)return v(T,S);switch(v){case"pathParamsChange":return!Rn(T.url,S.url);case"pathParamsOrQueryParamsChange":return!Rn(T.url,S.url)||!ir(T.queryParams,S.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!yn(T,S)||!ir(T.queryParams,S.queryParams);default:return!yn(T,S)}}(Ie,te,te.routeConfig.runGuardsAndResolvers);Qe?B.canActivateChecks.push(new No(R)):(te.data=Ie.data,te._resolvedData=Ie._resolvedData),Lo(T,S,te.component?ce?ce.children:null:v,R,B),Qe&&ce&&ce.outlet&&ce.outlet.isActivated&&B.canDeactivateChecks.push(new Cs(ce.outlet.component,Ie))}else Ie&&mr(S,ce,B),B.canActivateChecks.push(new No(R)),Lo(T,null,te.component?ce?ce.children:null:v,R,B)})(Ie,te[Ie.value.outlet],v,R.concat([Ie.value]),B),delete te[Ie.value.outlet]}),Object.entries(te).forEach(([Ie,ce])=>mr(ce,v.getContext(Ie),B)),B}function mr(T,S,v){const R=Pi(T),B=T.value;Object.entries(R).forEach(([te,Ie])=>{mr(Ie,B.component?S?S.children.getContext(te):null:S,v)}),v.canDeactivateChecks.push(new Cs(B.component&&S&&S.outlet&&S.outlet.isActivated?S.outlet.component:null,B))}function Ms(T){return"function"==typeof T}function gi(T){return T instanceof it.K||"EmptyError"===T?.name}const fs=Symbol("INITIAL_VALUE");function Ri(){return(0,_n.w)(T=>lt(T.map(S=>S.pipe((0,Dt.q)(1),(0,bt.O)(fs)))).pipe((0,st.U)(S=>{for(const v of S)if(!0!==v){if(v===fs)return fs;if(!1===v||v instanceof Hn)return v}return!0}),(0,Pt.h)(S=>S!==fs),(0,Dt.q)(1)))}function ro(T){return(0,Me.z)((0,ke.b)(S=>{if(Ft(S))throw Vi(0,S)}),(0,st.U)(S=>!0===S))}class js{constructor(S){this.segmentGroup=S||null}}class so{constructor(S){this.urlTree=S}}function ps(T){return pe(new js(T))}function oo(T){return pe(new so(T))}class al{constructor(S,v){this.urlSerializer=S,this.urlTree=v}noMatchError(S){return new p.vHH(4002,!1)}lineralizeSegments(S,v){let R=[],B=v.root;for(;;){if(R=R.concat(B.segments),0===B.numberOfChildren)return(0,Y.of)(R);if(B.numberOfChildren>1||!B.children[Wt])return pe(new p.vHH(4e3,!1));B=B.children[Wt]}}applyRedirectCommands(S,v,R){return this.applyRedirectCreateUrlTree(v,this.urlSerializer.parse(v),S,R)}applyRedirectCreateUrlTree(S,v,R,B){const te=this.createSegmentGroup(S,v.root,R,B);return new Hn(te,this.createQueryParams(v.queryParams,this.urlTree.queryParams),v.fragment)}createQueryParams(S,v){const R={};return Object.entries(S).forEach(([B,te])=>{if("string"==typeof te&&te.startsWith(":")){const ce=te.substring(1);R[B]=v[ce]}else R[B]=te}),R}createSegmentGroup(S,v,R,B){const te=this.createSegments(S,v.segments,R,B);let Ie={};return Object.entries(v.children).forEach(([ce,Qe])=>{Ie[ce]=this.createSegmentGroup(S,Qe,R,B)}),new Qt(te,Ie)}createSegments(S,v,R,B){return v.map(te=>te.path.startsWith(":")?this.findPosParam(S,te,B):this.findOrReturn(te,R))}findPosParam(S,v,R){const B=R[v.path.substring(1)];if(!B)throw new p.vHH(4001,!1);return B}findOrReturn(S,v){let R=0;for(const B of v){if(B.path===S.path)return v.splice(R),B;R++}return S}}const ao={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ea(T,S,v,R,B){const te=xs(T,S,v);return te.matched?(R=function Us(T,S){return T.providers&&!T._injector&&(T._injector=(0,p.MMx)(T.providers,S,`Route: ${T.path}`)),T._injector??S}(S,R),function io(T,S,v,R){const B=S.canMatch;if(!B||0===B.length)return(0,Y.of)(!0);const te=B.map(Ie=>{const ce=Bs(Ie,T);return tn(function xe(T){return T&&Ms(T.canMatch)}(ce)?ce.canMatch(S,v):T.runInContext(()=>ce(S,v)))});return(0,Y.of)(te).pipe(Ri(),ro())}(R,S,v).pipe((0,st.U)(Ie=>!0===Ie?te:{...ao}))):(0,Y.of)(te)}function xs(T,S,v){if(""===S.path)return"full"===S.pathMatch&&(T.hasChildren()||v.length>0)?{...ao}:{matched:!0,consumedSegments:[],remainingSegments:v,parameters:{},positionalParamSegments:{}};const B=(S.matcher||Kn)(v,T,S);if(!B)return{...ao};const te={};Object.entries(B.posParams??{}).forEach(([ce,Qe])=>{te[ce]=Qe.path});const Ie=B.consumed.length>0?{...te,...B.consumed[B.consumed.length-1].parameters}:te;return{matched:!0,consumedSegments:B.consumed,remainingSegments:v.slice(B.consumed.length),parameters:Ie,positionalParamSegments:B.posParams??{}}}function $s(T,S,v,R){return v.length>0&&function na(T,S,v){return v.some(R=>Vo(T,S,R)&&ar(R)!==Wt)}(T,v,R)?{segmentGroup:new Qt(S,ll(R,new Qt(v,T.children))),slicedSegments:[]}:0===v.length&&function Ll(T,S,v){return v.some(R=>Vo(T,S,R))}(T,v,R)?{segmentGroup:new Qt(T.segments,Fo(T,0,v,R,T.children)),slicedSegments:v}:{segmentGroup:new Qt(T.segments,T.children),slicedSegments:v}}function Fo(T,S,v,R,B){const te={};for(const Ie of R)if(Vo(T,v,Ie)&&!B[ar(Ie)]){const ce=new Qt([],{});te[ar(Ie)]=ce}return{...B,...te}}function ll(T,S){const v={};v[Wt]=S;for(const R of T)if(""===R.path&&ar(R)!==Wt){const B=new Qt([],{});v[ar(R)]=B}return v}function Vo(T,S,v){return(!(T.hasChildren()||S.length>0)||"full"!==v.pathMatch)&&""===v.path}class Z{constructor(S,v,R,B,te,Ie,ce){this.injector=S,this.configLoader=v,this.rootComponentType=R,this.config=B,this.urlTree=te,this.paramsInheritanceStrategy=Ie,this.urlSerializer=ce,this.allowRedirects=!0,this.applyRedirects=new al(this.urlSerializer,this.urlTree)}noMatchError(S){return new p.vHH(4002,!1)}recognize(){const S=$s(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,S,Wt).pipe(We(v=>{if(v instanceof so)return this.allowRedirects=!1,this.urlTree=v.urlTree,this.match(v.urlTree);throw v instanceof js?this.noMatchError(v):v}),(0,st.U)(v=>{const R=new Hr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Wt,this.rootComponentType,null,{}),B=new Si(R,v),te=new Wi("",B),Ie=function ct(T,S,v=null,R=null){return Gn(nn(T),S,v,R)}(R,[],this.urlTree.queryParams,this.urlTree.fragment);return Ie.queryParams=this.urlTree.queryParams,te.url=this.urlSerializer.serialize(Ie),this.inheritParamsAndData(te._root),{state:te,tree:Ie}}))}match(S){return this.processSegmentGroup(this.injector,this.config,S.root,Wt).pipe(We(R=>{throw R instanceof js?this.noMatchError(R):R}))}inheritParamsAndData(S){const v=S.value,R=si(v,this.paramsInheritanceStrategy);v.params=Object.freeze(R.params),v.data=Object.freeze(R.data),S.children.forEach(B=>this.inheritParamsAndData(B))}processSegmentGroup(S,v,R,B){return 0===R.segments.length&&R.hasChildren()?this.processChildren(S,v,R):this.processSegment(S,v,R,R.segments,B,!0)}processChildren(S,v,R){const B=[];for(const te of Object.keys(R.children))"primary"===te?B.unshift(te):B.push(te);return(0,$.D)(B).pipe((0,Ge.b)(te=>{const Ie=R.children[te],ce=function Io(T,S){const v=T.filter(R=>ar(R)===S);return v.push(...T.filter(R=>ar(R)!==S)),v}(v,te);return this.processSegmentGroup(S,ce,Ie,te)}),(0,at.R)((te,Ie)=>(te.push(...Ie),te)),(0,Tt.d)(null),function on(T,S){const v=arguments.length>=2;return R=>R.pipe(T?(0,Pt.h)((B,te)=>T(B,te,R)):de.y,ft(1),v?(0,Tt.d)(S):(0,En.T)(()=>new it.K))}(),(0,Se.z)(te=>{if(null===te)return ps(R);const Ie=x(te);return function y(T){T.sort((S,v)=>S.value.outlet===Wt?-1:v.value.outlet===Wt?1:S.value.outlet.localeCompare(v.value.outlet))}(Ie),(0,Y.of)(Ie)}))}processSegment(S,v,R,B,te,Ie){return(0,$.D)(v).pipe((0,Ge.b)(ce=>this.processSegmentAgainstRoute(ce._injector??S,v,ce,R,B,te,Ie).pipe(We(Qe=>{if(Qe instanceof js)return(0,Y.of)(null);throw Qe}))),(0,Ne.P)(ce=>!!ce),We(ce=>{if(gi(ce))return function kl(T,S,v){return 0===S.length&&!T.children[v]}(R,B,te)?(0,Y.of)([]):ps(R);throw ce}))}processSegmentAgainstRoute(S,v,R,B,te,Ie,ce){return function Uo(T,S,v,R){return!!(ar(T)===R||R!==Wt&&Vo(S,v,T))&&("**"===T.path||xs(S,T,v).matched)}(R,B,te,Ie)?void 0===R.redirectTo?this.matchSegmentAgainstRoute(S,B,R,te,Ie,ce):ce&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(S,B,v,R,te,Ie):ps(B):ps(B)}expandSegmentAgainstRouteUsingRedirect(S,v,R,B,te,Ie){return"**"===B.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(S,R,B,Ie):this.expandRegularSegmentAgainstRouteUsingRedirect(S,v,R,B,te,Ie)}expandWildCardWithParamsAgainstRouteUsingRedirect(S,v,R,B){const te=this.applyRedirects.applyRedirectCommands([],R.redirectTo,{});return R.redirectTo.startsWith("/")?oo(te):this.applyRedirects.lineralizeSegments(R,te).pipe((0,Se.z)(Ie=>{const ce=new Qt(Ie,{});return this.processSegment(S,v,ce,Ie,B,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(S,v,R,B,te,Ie){const{matched:ce,consumedSegments:Qe,remainingSegments:Ht,positionalParamSegments:qn}=xs(v,B,te);if(!ce)return ps(v);const zn=this.applyRedirects.applyRedirectCommands(Qe,B.redirectTo,qn);return B.redirectTo.startsWith("/")?oo(zn):this.applyRedirects.lineralizeSegments(B,zn).pipe((0,Se.z)(kn=>this.processSegment(S,R,v,kn.concat(Ht),Ie,!1)))}matchSegmentAgainstRoute(S,v,R,B,te,Ie){let ce;if("**"===R.path){const Qe=B.length>0?hn(B).parameters:{},Ht=new Hr(B,Qe,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,le(R),ar(R),R.component??R._loadedComponent??null,R,_(R));ce=(0,Y.of)({snapshot:Ht,consumedSegments:[],remainingSegments:[]}),v.children={}}else ce=Ea(v,R,B,S).pipe((0,st.U)(({matched:Qe,consumedSegments:Ht,remainingSegments:qn,parameters:zn})=>Qe?{snapshot:new Hr(Ht,zn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,le(R),ar(R),R.component??R._loadedComponent??null,R,_(R)),consumedSegments:Ht,remainingSegments:qn}:null));return ce.pipe((0,_n.w)(Qe=>null===Qe?ps(v):this.getChildConfig(S=R._injector??S,R,B).pipe((0,_n.w)(({routes:Ht})=>{const qn=R._loadedInjector??S,{snapshot:zn,consumedSegments:kn,remainingSegments:Sr}=Qe,{segmentGroup:uo,slicedSegments:Va}=$s(v,kn,Sr,Ht);if(0===Va.length&&uo.hasChildren())return this.processChildren(qn,Ht,uo).pipe((0,st.U)(Ca=>null===Ca?null:[new Si(zn,Ca)]));if(0===Ht.length&&0===Va.length)return(0,Y.of)([new Si(zn,[])]);const dl=ar(R)===te;return this.processSegment(qn,Ht,uo,Va,dl?Wt:te,!0).pipe((0,st.U)(Ca=>[new Si(zn,Ca)]))}))))}getChildConfig(S,v,R){return v.children?(0,Y.of)({routes:v.children,injector:S}):v.loadChildren?void 0!==v._loadedRoutes?(0,Y.of)({routes:v._loadedRoutes,injector:v._loadedInjector}):function ta(T,S,v,R){const B=S.canLoad;if(void 0===B||0===B.length)return(0,Y.of)(!0);const te=B.map(Ie=>{const ce=Bs(Ie,T);return tn(function G(T){return T&&Ms(T.canLoad)}(ce)?ce.canLoad(S,v):T.runInContext(()=>ce(S,v)))});return(0,Y.of)(te).pipe(Ri(),ro())}(S,v,R).pipe((0,Se.z)(B=>B?this.configLoader.loadChildren(S,v).pipe((0,ke.b)(te=>{v._loadedRoutes=te.routes,v._loadedInjector=te.injector})):function Ia(T){return pe(jr(!1,3))}())):(0,Y.of)({routes:[],injector:S})}}function E(T){const S=T.value.routeConfig;return S&&""===S.path}function x(T){const S=[],v=new Set;for(const R of T){if(!E(R)){S.push(R);continue}const B=S.find(te=>R.value.routeConfig===te.value.routeConfig);void 0!==B?(B.children.push(...R.children),v.add(B)):S.push(R)}for(const R of v){const B=x(R.children);S.push(new Si(R.value,B))}return S.filter(R=>!v.has(R))}function le(T){return T.data||{}}function _(T){return T.resolve||{}}function gt(T){return"string"==typeof T.title||null===T.title}function Nt(T){return(0,_n.w)(S=>{const v=T(S);return v?(0,$.D)(v).pipe((0,st.U)(()=>S)):(0,Y.of)(S)})}const $t=new p.OlP("ROUTES");let an=(()=>{class T{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,p.f3M)(p.Sil)}loadComponent(v){if(this.componentLoaders.get(v))return this.componentLoaders.get(v);if(v._loadedComponent)return(0,Y.of)(v._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(v);const R=tn(v.loadComponent()).pipe((0,st.U)(bn),(0,ke.b)(te=>{this.onLoadEndListener&&this.onLoadEndListener(v),v._loadedComponent=te}),(0,un.x)(()=>{this.componentLoaders.delete(v)})),B=new ge(R,()=>new Lt.x).pipe(tt());return this.componentLoaders.set(v,B),B}loadChildren(v,R){if(this.childrenLoaders.get(R))return this.childrenLoaders.get(R);if(R._loadedRoutes)return(0,Y.of)({routes:R._loadedRoutes,injector:R._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(R);const te=function sn(T,S,v,R){return tn(T.loadChildren()).pipe((0,st.U)(bn),(0,Se.z)(B=>B instanceof p.YKP||Array.isArray(B)?(0,Y.of)(B):(0,$.D)(S.compileModuleAsync(B))),(0,st.U)(B=>{R&&R(T);let te,Ie,ce=!1;return Array.isArray(B)?(Ie=B,!0):(te=B.create(v).injector,Ie=te.get($t,[],{optional:!0,self:!0}).flat()),{routes:Ie.map(Lr),injector:te}}))}(R,this.compiler,v,this.onLoadEndListener).pipe((0,un.x)(()=>{this.childrenLoaders.delete(R)})),Ie=new ge(te,()=>new Lt.x).pipe(tt());return this.childrenLoaders.set(R,Ie),Ie}static#e=this.\u0275fac=function(R){return new(R||T)};static#t=this.\u0275prov=p.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})();function bn(T){return function Un(T){return T&&"object"==typeof T&&"default"in T}(T)?T.default:T}let pn=(()=>{class T{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Lt.x,this.transitionAbortSubject=new Lt.x,this.configLoader=(0,p.f3M)(an),this.environmentInjector=(0,p.f3M)(p.lqb),this.urlSerializer=(0,p.f3M)(Ar),this.rootContexts=(0,p.f3M)(Br),this.inputBindingEnabled=null!==(0,p.f3M)(rs,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Y.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=B=>this.events.next(new Ro(B)),this.configLoader.onLoadStartListener=B=>this.events.next(new Rs(B))}complete(){this.transitions?.complete()}handleNavigationRequest(v){const R=++this.navigationId;this.transitions?.next({...this.transitions.value,...v,id:R})}setupNavigations(v,R,B){return this.transitions=new W.X({id:0,currentUrlTree:R,currentRawUrl:R,currentBrowserUrl:R,extractedUrl:v.urlHandlingStrategy.extract(R),urlAfterRedirects:v.urlHandlingStrategy.extract(R),rawUrl:R,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Vs,restoredState:null,currentSnapshot:B.snapshot,targetSnapshot:null,currentRouterState:B,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Pt.h)(te=>0!==te.id),(0,st.U)(te=>({...te,extractedUrl:v.urlHandlingStrategy.extract(te.rawUrl)})),(0,_n.w)(te=>{this.currentTransition=te;let Ie=!1,ce=!1;return(0,Y.of)(te).pipe((0,ke.b)(Qe=>{this.currentNavigation={id:Qe.id,initialUrl:Qe.rawUrl,extractedUrl:Qe.extractedUrl,trigger:Qe.source,extras:Qe.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,_n.w)(Qe=>{const Ht=Qe.currentBrowserUrl.toString(),qn=!v.navigated||Qe.extractedUrl.toString()!==Ht||Ht!==Qe.currentUrlTree.toString();if(!qn&&"reload"!==(Qe.extras.onSameUrlNavigation??v.onSameUrlNavigation)){const kn="";return this.events.next(new Gi(Qe.id,this.urlSerializer.serialize(Qe.rawUrl),kn,0)),Qe.resolve(null),me.E}if(v.urlHandlingStrategy.shouldProcessUrl(Qe.rawUrl))return(0,Y.of)(Qe).pipe((0,_n.w)(kn=>{const Sr=this.transitions?.getValue();return this.events.next(new Ps(kn.id,this.urlSerializer.serialize(kn.extractedUrl),kn.source,kn.restoredState)),Sr!==this.transitions?.getValue()?me.E:Promise.resolve(kn)}),function O(T,S,v,R,B,te){return(0,Se.z)(Ie=>function ra(T,S,v,R,B,te,Ie="emptyOnly"){return new Z(T,S,v,R,B,Ie,te).recognize()}(T,S,v,R,Ie.extractedUrl,B,te).pipe((0,st.U)(({state:ce,tree:Qe})=>({...Ie,targetSnapshot:ce,urlAfterRedirects:Qe}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,v.config,this.urlSerializer,v.paramsInheritanceStrategy),(0,ke.b)(kn=>{te.targetSnapshot=kn.targetSnapshot,te.urlAfterRedirects=kn.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:kn.urlAfterRedirects};const Sr=new Po(kn.id,this.urlSerializer.serialize(kn.extractedUrl),this.urlSerializer.serialize(kn.urlAfterRedirects),kn.targetSnapshot);this.events.next(Sr)}));if(qn&&v.urlHandlingStrategy.shouldProcessUrl(Qe.currentRawUrl)){const{id:kn,extractedUrl:Sr,source:uo,restoredState:Va,extras:dl}=Qe,Ca=new Ps(kn,this.urlSerializer.serialize(Sr),uo,Va);this.events.next(Ca);const Ic=Ot(0,this.rootComponentType).snapshot;return this.currentTransition=te={...Qe,targetSnapshot:Ic,urlAfterRedirects:Sr,extras:{...dl,skipLocationChange:!1,replaceUrl:!1}},(0,Y.of)(te)}{const kn="";return this.events.next(new Gi(Qe.id,this.urlSerializer.serialize(Qe.extractedUrl),kn,1)),Qe.resolve(null),me.E}}),(0,ke.b)(Qe=>{const Ht=new ui(Qe.id,this.urlSerializer.serialize(Qe.extractedUrl),this.urlSerializer.serialize(Qe.urlAfterRedirects),Qe.targetSnapshot);this.events.next(Ht)}),(0,st.U)(Qe=>(this.currentTransition=te={...Qe,guards:ya(Qe.targetSnapshot,Qe.currentSnapshot,this.rootContexts)},te)),function no(T,S){return(0,Se.z)(v=>{const{targetSnapshot:R,currentSnapshot:B,guards:{canActivateChecks:te,canDeactivateChecks:Ie}}=v;return 0===Ie.length&&0===te.length?(0,Y.of)({...v,guardsResult:!0}):function os(T,S,v,R){return(0,$.D)(T).pipe((0,Se.z)(B=>function as(T,S,v,R,B){const te=S&&S.routeConfig?S.routeConfig.canDeactivate:null;if(!te||0===te.length)return(0,Y.of)(!0);const Ie=te.map(ce=>{const Qe=Zi(S)??B,Ht=Bs(ce,Qe);return tn(function ie(T){return T&&Ms(T.canDeactivate)}(Ht)?Ht.canDeactivate(T,S,v,R):Qe.runInContext(()=>Ht(T,S,v,R))).pipe((0,Ne.P)())});return(0,Y.of)(Ie).pipe(Ri())}(B.component,B.route,v,S,R)),(0,Ne.P)(B=>!0!==B,!0))}(Ie,R,B,T).pipe((0,Se.z)(ce=>ce&&function ea(T){return"boolean"==typeof T}(ce)?function Mi(T,S,v,R){return(0,$.D)(S).pipe((0,Ge.b)(B=>(0,wt.z)(function va(T,S){return null!==T&&S&&S(new Ks(T)),(0,Y.of)(!0)}(B.route.parent,R),function bs(T,S){return null!==T&&S&&S(new Ts(T)),(0,Y.of)(!0)}(B.route,R),function Hs(T,S,v){const R=S[S.length-1],te=S.slice(0,S.length-1).reverse().map(Ie=>function Bi(T){const S=T.routeConfig?T.routeConfig.canActivateChild:null;return S&&0!==S.length?{node:T,guards:S}:null}(Ie)).filter(Ie=>null!==Ie).map(Ie=>oe(()=>{const ce=Ie.guards.map(Qe=>{const Ht=Zi(Ie.node)??v,qn=Bs(Qe,Ht);return tn(function N(T){return T&&Ms(T.canActivateChild)}(qn)?qn.canActivateChild(R,T):Ht.runInContext(()=>qn(R,T))).pipe((0,Ne.P)())});return(0,Y.of)(ce).pipe(Ri())}));return(0,Y.of)(te).pipe(Ri())}(T,B.path,v),function kr(T,S,v){const R=S.routeConfig?S.routeConfig.canActivate:null;if(!R||0===R.length)return(0,Y.of)(!0);const B=R.map(te=>oe(()=>{const Ie=Zi(S)??v,ce=Bs(te,Ie);return tn(function K(T){return T&&Ms(T.canActivate)}(ce)?ce.canActivate(S,T):Ie.runInContext(()=>ce(S,T))).pipe((0,Ne.P)())}));return(0,Y.of)(B).pipe(Ri())}(T,B.route,v))),(0,Ne.P)(B=>!0!==B,!0))}(R,te,T,S):(0,Y.of)(ce)),(0,st.U)(ce=>({...v,guardsResult:ce})))})}(this.environmentInjector,Qe=>this.events.next(Qe)),(0,ke.b)(Qe=>{if(te.guardsResult=Qe.guardsResult,Ft(Qe.guardsResult))throw Vi(0,Qe.guardsResult);const Ht=new Xo(Qe.id,this.urlSerializer.serialize(Qe.extractedUrl),this.urlSerializer.serialize(Qe.urlAfterRedirects),Qe.targetSnapshot,!!Qe.guardsResult);this.events.next(Ht)}),(0,Pt.h)(Qe=>!!Qe.guardsResult||(this.cancelNavigationTransition(Qe,"",3),!1)),Nt(Qe=>{if(Qe.guards.canActivateChecks.length)return(0,Y.of)(Qe).pipe((0,ke.b)(Ht=>{const qn=new Ei(Ht.id,this.urlSerializer.serialize(Ht.extractedUrl),this.urlSerializer.serialize(Ht.urlAfterRedirects),Ht.targetSnapshot);this.events.next(qn)}),(0,_n.w)(Ht=>{let qn=!1;return(0,Y.of)(Ht).pipe(function A(T,S){return(0,Se.z)(v=>{const{targetSnapshot:R,guards:{canActivateChecks:B}}=v;if(!B.length)return(0,Y.of)(v);let te=0;return(0,$.D)(B).pipe((0,Ge.b)(Ie=>function k(T,S,v,R){const B=T.routeConfig,te=T._resolve;return void 0!==B?.title&&!gt(B)&&(te[fn]=B.title),function re(T,S,v,R){const B=function Oe(T){return[...Object.keys(T),...Object.getOwnPropertySymbols(T)]}(T);if(0===B.length)return(0,Y.of)({});const te={};return(0,$.D)(B).pipe((0,Se.z)(Ie=>function Ye(T,S,v,R){const B=Zi(S)??R,te=Bs(T,B);return tn(te.resolve?te.resolve(S,v):B.runInContext(()=>te(S,v)))}(T[Ie],S,v,R).pipe((0,Ne.P)(),(0,ke.b)(ce=>{te[Ie]=ce}))),ft(1),function Nn(T){return(0,st.U)(()=>T)}(te),We(Ie=>gi(Ie)?me.E:pe(Ie)))}(te,T,S,R).pipe((0,st.U)(Ie=>(T._resolvedData=Ie,T.data=si(T,v).resolve,B&&gt(B)&&(T.data[fn]=B.title),null)))}(Ie.route,R,T,S)),(0,ke.b)(()=>te++),ft(1),(0,Se.z)(Ie=>te===B.length?(0,Y.of)(v):me.E))})}(v.paramsInheritanceStrategy,this.environmentInjector),(0,ke.b)({next:()=>qn=!0,complete:()=>{qn||this.cancelNavigationTransition(Ht,"",2)}}))}),(0,ke.b)(Ht=>{const qn=new _o(Ht.id,this.urlSerializer.serialize(Ht.extractedUrl),this.urlSerializer.serialize(Ht.urlAfterRedirects),Ht.targetSnapshot);this.events.next(qn)}))}),Nt(Qe=>{const Ht=qn=>{const zn=[];qn.routeConfig?.loadComponent&&!qn.routeConfig._loadedComponent&&zn.push(this.configLoader.loadComponent(qn.routeConfig).pipe((0,ke.b)(kn=>{qn.component=kn}),(0,st.U)(()=>{})));for(const kn of qn.children)zn.push(...Ht(kn));return zn};return lt(Ht(Qe.targetSnapshot.root)).pipe((0,Tt.d)(),(0,Dt.q)(1))}),Nt(()=>this.afterPreactivation()),(0,st.U)(Qe=>{const Ht=function Kr(T,S,v){const R=Ki(T,S._root,v?v._root:void 0);return new Mr(R,S)}(v.routeReuseStrategy,Qe.targetSnapshot,Qe.currentRouterState);return this.currentTransition=te={...Qe,targetRouterState:Ht},te}),(0,ke.b)(()=>{this.events.next(new xn)}),((T,S,v,R)=>(0,st.U)(B=>(new eo(S,B.targetRouterState,B.currentRouterState,v,R).activate(T),B)))(this.rootContexts,v.routeReuseStrategy,Qe=>this.events.next(Qe),this.inputBindingEnabled),(0,Dt.q)(1),(0,ke.b)({next:Qe=>{Ie=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ns(Qe.id,this.urlSerializer.serialize(Qe.extractedUrl),this.urlSerializer.serialize(Qe.urlAfterRedirects))),v.titleStrategy?.updateTitle(Qe.targetRouterState.snapshot),Qe.resolve(!0)},complete:()=>{Ie=!0}}),function ln(T){return(0,ve.e)((S,v)=>{(0,ut.Xf)(T).subscribe((0,je.x)(v,()=>v.complete(),Bn.Z)),!v.closed&&S.subscribe(v)})}(this.transitionAbortSubject.pipe((0,ke.b)(Qe=>{throw Qe}))),(0,un.x)(()=>{Ie||ce||this.cancelNavigationTransition(te,"",1),this.currentNavigation?.id===te.id&&(this.currentNavigation=null)}),We(Qe=>{if(ce=!0,Ys(Qe))this.events.next(new zi(te.id,this.urlSerializer.serialize(te.extractedUrl),Qe.message,Qe.cancellationCode)),function is(T){return Ys(T)&&Ft(T.url)}(Qe)?this.events.next(new Rr(Qe.url)):te.resolve(!1);else{this.events.next(new Ii(te.id,this.urlSerializer.serialize(te.extractedUrl),Qe,te.targetSnapshot??void 0));try{te.resolve(v.errorHandler(Qe))}catch(Ht){te.reject(Ht)}}return me.E}))}))}cancelNavigationTransition(v,R,B){const te=new zi(v.id,this.urlSerializer.serialize(v.extractedUrl),R,B);this.events.next(te),v.resolve(!1)}static#e=this.\u0275fac=function(R){return new(R||T)};static#t=this.\u0275prov=p.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})();function lr(T){return T!==Vs}let Zr=(()=>{class T{buildTitle(v){let R,B=v.root;for(;void 0!==B;)R=this.getResolvedTitleForRoute(B)??R,B=B.children.find(te=>te.outlet===Wt);return R}getResolvedTitleForRoute(v){return v.data[fn]}static#e=this.\u0275fac=function(R){return new(R||T)};static#t=this.\u0275prov=p.Yz7({token:T,factory:function(){return(0,p.f3M)(Qr)},providedIn:"root"})}return T})(),Qr=(()=>{class T extends Zr{constructor(v){super(),this.title=v}updateTitle(v){const R=this.buildTitle(v);void 0!==R&&this.title.setTitle(R)}static#e=this.\u0275fac=function(R){return new(R||T)(p.LFG(wn.Dx))};static#t=this.\u0275prov=p.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})(),Fr=(()=>{class T{static#e=this.\u0275fac=function(R){return new(R||T)};static#t=this.\u0275prov=p.Yz7({token:T,factory:function(){return(0,p.f3M)(Vr)},providedIn:"root"})}return T})();class _i{shouldDetach(S){return!1}store(S,v){}shouldAttach(S){return!1}retrieve(S){return null}shouldReuseRoute(S,v){return S.routeConfig===v.routeConfig}}let Vr=(()=>{class T extends _i{static#e=this.\u0275fac=function(){let v;return function(B){return(v||(v=p.n5z(T)))(B||T)}}();static#t=this.\u0275prov=p.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})();const Hi=new p.OlP("",{providedIn:"root",factory:()=>({})});let Ta=(()=>{class T{static#e=this.\u0275fac=function(R){return new(R||T)};static#t=this.\u0275prov=p.Yz7({token:T,factory:function(){return(0,p.f3M)(Tr)},providedIn:"root"})}return T})(),Tr=(()=>{class T{shouldProcessUrl(v){return!0}extract(v){return v}merge(v,R){return v}static#e=this.\u0275fac=function(R){return new(R||T)};static#t=this.\u0275prov=p.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})();var Os=function(T){return T[T.COMPLETE=0]="COMPLETE",T[T.FAILED=1]="FAILED",T[T.REDIRECTING=2]="REDIRECTING",T}(Os||{});function ia(T,S){T.events.pipe((0,Pt.h)(v=>v instanceof ns||v instanceof zi||v instanceof Ii||v instanceof Gi),(0,st.U)(v=>v instanceof ns||v instanceof Gi?Os.COMPLETE:v instanceof zi&&(0===v.code||1===v.code)?Os.REDIRECTING:Os.FAILED),(0,Pt.h)(v=>v!==Os.REDIRECTING),(0,Dt.q)(1)).subscribe(()=>{S()})}function qt(T){throw T}function vn(T,S,v){return S.parse("/")}const On={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Zn={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Wn=(()=>{class T{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,p.f3M)(p.c2e),this.isNgZoneEnabled=!1,this._events=new Lt.x,this.options=(0,p.f3M)(Hi,{optional:!0})||{},this.pendingTasks=(0,p.f3M)(p.HDt),this.errorHandler=this.options.errorHandler||qt,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||vn,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,p.f3M)(Ta),this.routeReuseStrategy=(0,p.f3M)(Fr),this.titleStrategy=(0,p.f3M)(Zr),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,p.f3M)($t,{optional:!0})?.flat()??[],this.navigationTransitions=(0,p.f3M)(pn),this.urlSerializer=(0,p.f3M)(Ar),this.location=(0,p.f3M)(pt.Ye),this.componentInputBindingEnabled=!!(0,p.f3M)(rs,{optional:!0}),this.eventsSubscription=new be.w0,this.isNgZoneEnabled=(0,p.f3M)(p.R0b)instanceof p.R0b&&p.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Hn,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Ot(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(v=>{this.lastSuccessfulId=v.id,this.currentPageId=this.browserPageId},v=>{this.console.warn(`Unhandled Navigation Error: ${v}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const v=this.navigationTransitions.events.subscribe(R=>{try{const{currentTransition:B}=this.navigationTransitions;if(null===B)return void(xi(R)&&this._events.next(R));if(R instanceof Ps)lr(B.source)&&(this.browserUrlTree=B.extractedUrl);else if(R instanceof Gi)this.rawUrlTree=B.rawUrl;else if(R instanceof Po){if("eager"===this.urlUpdateStrategy){if(!B.extras.skipLocationChange){const te=this.urlHandlingStrategy.merge(B.urlAfterRedirects,B.rawUrl);this.setBrowserUrl(te,B)}this.browserUrlTree=B.urlAfterRedirects}}else if(R instanceof xn)this.currentUrlTree=B.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(B.urlAfterRedirects,B.rawUrl),this.routerState=B.targetRouterState,"deferred"===this.urlUpdateStrategy&&(B.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,B),this.browserUrlTree=B.urlAfterRedirects);else if(R instanceof zi)0!==R.code&&1!==R.code&&(this.navigated=!0),(3===R.code||2===R.code)&&this.restoreHistory(B);else if(R instanceof Rr){const te=this.urlHandlingStrategy.merge(R.url,B.currentRawUrl),Ie={skipLocationChange:B.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||lr(B.source)};this.scheduleNavigation(te,Vs,null,Ie,{resolve:B.resolve,reject:B.reject,promise:B.promise})}R instanceof Ii&&this.restoreHistory(B,!0),R instanceof ns&&(this.navigated=!0),xi(R)&&this._events.next(R)}catch(B){this.navigationTransitions.transitionAbortSubject.next(B)}});this.eventsSubscription.add(v)}resetRootComponentType(v){this.routerState.root.component=v,this.navigationTransitions.rootComponentType=v}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const v=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Vs,v)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(v=>{const R="popstate"===v.type?"popstate":"hashchange";"popstate"===R&&setTimeout(()=>{this.navigateToSyncWithBrowser(v.url,R,v.state)},0)}))}navigateToSyncWithBrowser(v,R,B){const te={replaceUrl:!0},Ie=B?.navigationId?B:null;if(B){const Qe={...B};delete Qe.navigationId,delete Qe.\u0275routerPageId,0!==Object.keys(Qe).length&&(te.state=Qe)}const ce=this.parseUrl(v);this.scheduleNavigation(ce,R,Ie,te)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(v){this.config=v.map(Lr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(v,R={}){const{relativeTo:B,queryParams:te,fragment:Ie,queryParamsHandling:ce,preserveFragment:Qe}=R,Ht=Qe?this.currentUrlTree.fragment:Ie;let zn,qn=null;switch(ce){case"merge":qn={...this.currentUrlTree.queryParams,...te};break;case"preserve":qn=this.currentUrlTree.queryParams;break;default:qn=te||null}null!==qn&&(qn=this.removeEmptyProps(qn));try{zn=nn(B?B.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof v[0]||!v[0].startsWith("/"))&&(v=[]),zn=this.currentUrlTree.root}return Gn(zn,v,qn,Ht??null)}navigateByUrl(v,R={skipLocationChange:!1}){const B=Ft(v)?v:this.parseUrl(v),te=this.urlHandlingStrategy.merge(B,this.rawUrlTree);return this.scheduleNavigation(te,Vs,null,R)}navigate(v,R={skipLocationChange:!1}){return function Eo(T){for(let S=0;S<T.length;S++)if(null==T[S])throw new p.vHH(4008,!1)}(v),this.navigateByUrl(this.createUrlTree(v,R),R)}serializeUrl(v){return this.urlSerializer.serialize(v)}parseUrl(v){let R;try{R=this.urlSerializer.parse(v)}catch(B){R=this.malformedUriErrorHandler(B,this.urlSerializer,v)}return R}isActive(v,R){let B;if(B=!0===R?{...On}:!1===R?{...Zn}:R,Ft(v))return Ze(this.currentUrlTree,v,B);const te=this.parseUrl(v);return Ze(this.currentUrlTree,te,B)}removeEmptyProps(v){return Object.keys(v).reduce((R,B)=>{const te=v[B];return null!=te&&(R[B]=te),R},{})}scheduleNavigation(v,R,B,te,Ie){if(this.disposed)return Promise.resolve(!1);let ce,Qe,Ht;Ie?(ce=Ie.resolve,Qe=Ie.reject,Ht=Ie.promise):Ht=new Promise((zn,kn)=>{ce=zn,Qe=kn});const qn=this.pendingTasks.add();return ia(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(qn))}),this.navigationTransitions.handleNavigationRequest({source:R,restoredState:B,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:v,extras:te,resolve:ce,reject:Qe,promise:Ht,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ht.catch(zn=>Promise.reject(zn))}setBrowserUrl(v,R){const B=this.urlSerializer.serialize(v);if(this.location.isCurrentPathEqualTo(B)||R.extras.replaceUrl){const Ie={...R.extras.state,...this.generateNgRouterState(R.id,this.browserPageId)};this.location.replaceState(B,"",Ie)}else{const te={...R.extras.state,...this.generateNgRouterState(R.id,this.browserPageId+1)};this.location.go(B,"",te)}}restoreHistory(v,R=!1){if("computed"===this.canceledNavigationResolution){const te=this.currentPageId-this.browserPageId;0!==te?this.location.historyGo(te):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===te&&(this.resetState(v),this.browserUrlTree=v.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(R&&this.resetState(v),this.resetUrlToCurrentUrlTree())}resetState(v){this.routerState=v.currentRouterState,this.currentUrlTree=v.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,v.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(v,R){return"computed"===this.canceledNavigationResolution?{navigationId:v,\u0275routerPageId:R}:{navigationId:v}}static#e=this.\u0275fac=function(R){return new(R||T)};static#t=this.\u0275prov=p.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})();function xi(T){return!(T instanceof xn||T instanceof Rr)}class To{}let oi=(()=>{class T{preload(v,R){return R().pipe(We(()=>(0,Y.of)(null)))}static#e=this.\u0275fac=function(R){return new(R||T)};static#t=this.\u0275prov=p.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})(),mt=(()=>{class T{constructor(v,R,B,te,Ie){this.router=v,this.injector=B,this.preloadingStrategy=te,this.loader=Ie}setUpPreloading(){this.subscription=this.router.events.pipe((0,Pt.h)(v=>v instanceof ns),(0,Ge.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(v,R){const B=[];for(const te of R){te.providers&&!te._injector&&(te._injector=(0,p.MMx)(te.providers,v,`Route: ${te.path}`));const Ie=te._injector??v,ce=te._loadedInjector??Ie;(te.loadChildren&&!te._loadedRoutes&&void 0===te.canLoad||te.loadComponent&&!te._loadedComponent)&&B.push(this.preloadConfig(Ie,te)),(te.children||te._loadedRoutes)&&B.push(this.processRoutes(ce,te.children??te._loadedRoutes))}return(0,$.D)(B).pipe((0,Fn.J)())}preloadConfig(v,R){return this.preloadingStrategy.preload(R,()=>{let B;B=R.loadChildren&&void 0===R.canLoad?this.loader.loadChildren(v,R):(0,Y.of)(null);const te=B.pipe((0,Se.z)(Ie=>null===Ie?(0,Y.of)(void 0):(R._loadedRoutes=Ie.routes,R._loadedInjector=Ie.injector,this.processRoutes(Ie.injector??v,Ie.routes))));if(R.loadComponent&&!R._loadedComponent){const Ie=this.loader.loadComponent(R);return(0,$.D)([te,Ie]).pipe((0,Fn.J)())}return te})}static#e=this.\u0275fac=function(R){return new(R||T)(p.LFG(Wn),p.LFG(p.Sil),p.LFG(p.lqb),p.LFG(To),p.LFG(an))};static#t=this.\u0275prov=p.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})();const zr=new p.OlP("");let rn=(()=>{class T{constructor(v,R,B,te,Ie={}){this.urlSerializer=v,this.transitions=R,this.viewportScroller=B,this.zone=te,this.options=Ie,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Ie.scrollPositionRestoration=Ie.scrollPositionRestoration||"disabled",Ie.anchorScrolling=Ie.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(v=>{v instanceof Ps?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=v.navigationTrigger,this.restoredId=v.restoredState?v.restoredState.navigationId:0):v instanceof ns?(this.lastId=v.id,this.scheduleScrollEvent(v,this.urlSerializer.parse(v.urlAfterRedirects).fragment)):v instanceof Gi&&0===v.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(v,this.urlSerializer.parse(v.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(v=>{v instanceof cs&&(v.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(v.position):v.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(v.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(v,R){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new cs(v,"popstate"===this.lastSource?this.store[this.restoredId]:null,R))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(R){p.$Z()};static#t=this.\u0275prov=p.Yz7({token:T,factory:T.\u0275fac})}return T})();function Jt(T,S){return{\u0275kind:T,\u0275providers:S}}function Oi(){const T=(0,p.f3M)(p.zs3);return S=>{const v=T.get(p.z2F);if(S!==v.components[0])return;const R=T.get(Wn),B=T.get(_c);1===T.get(Vl)&&R.initialNavigation(),T.get(dr,null,p.XFs.Optional)?.setUpPreloading(),T.get(zr,null,p.XFs.Optional)?.init(),R.resetRootComponentType(v.componentTypes[0]),B.closed||(B.next(),B.complete(),B.unsubscribe())}}const _c=new p.OlP("",{factory:()=>new Lt.x}),Vl=new p.OlP("",{providedIn:"root",factory:()=>1}),dr=new p.OlP("");function wa(T){return Jt(0,[{provide:dr,useExisting:mt},{provide:To,useExisting:T}])}const wo=new p.OlP("ROUTER_FORROOT_GUARD"),Ul=[pt.Ye,{provide:Ar,useClass:Jr},Wn,Br,{provide:$n,useFactory:function Kt(T){return T.routerState.root},deps:[Wn]},an,[]];function ai(){return new p.PXZ("Router",Wn)}let dn=(()=>{class T{constructor(v){}static forRoot(v,R){return{ngModule:T,providers:[Ul,[],{provide:$t,multi:!0,useValue:v},{provide:wo,useFactory:xr,deps:[[Wn,new p.FiY,new p.tp0]]},{provide:Hi,useValue:R||{}},R?.useHash?{provide:pt.S$,useClass:pt.Do}:{provide:pt.S$,useClass:pt.b0},{provide:zr,useFactory:()=>{const T=(0,p.f3M)(pt.EM),S=(0,p.f3M)(p.R0b),v=(0,p.f3M)(Hi),R=(0,p.f3M)(pn),B=(0,p.f3M)(Ar);return v.scrollOffset&&T.setOffset(v.scrollOffset),new rn(B,R,T,S,v)}},R?.preloadingStrategy?wa(R.preloadingStrategy).\u0275providers:[],{provide:p.PXZ,multi:!0,useFactory:ai},R?.initialNavigation?Ut(R):[],R?.bindToComponentInputs?Jt(8,[Er,{provide:rs,useExisting:Er}]).\u0275providers:[],[{provide:As,useFactory:Oi},{provide:p.tb,multi:!0,useExisting:As}]]}}static forChild(v){return{ngModule:T,providers:[{provide:$t,multi:!0,useValue:v}]}}static#e=this.\u0275fac=function(R){return new(R||T)(p.LFG(wo,8))};static#t=this.\u0275mod=p.oAB({type:T});static#n=this.\u0275inj=p.cJS({})}return T})();function xr(T){return"guarded"}function Ut(T){return["disabled"===T.initialNavigation?Jt(3,[{provide:p.ip1,multi:!0,useFactory:()=>{const S=(0,p.f3M)(Wn);return()=>{S.setUpLocationChangeListener()}}},{provide:Vl,useValue:2}]).\u0275providers:[],"enabledBlocking"===T.initialNavigation?Jt(2,[{provide:Vl,useValue:0},{provide:p.ip1,multi:!0,deps:[p.zs3],useFactory:S=>{const v=S.get(pt.V_,Promise.resolve());return()=>v.then(()=>new Promise(R=>{const B=S.get(Wn),te=S.get(_c);ia(B,()=>{R(!0)}),S.get(pn).afterPreactivation=()=>(R(!0),te.closed?(0,Y.of)(void 0):te),B.initialNavigation()}))}}]).\u0275providers:[]]}const As=new p.OlP("")},3106:(Mt,He,U)=>{U.d(He,{Z:()=>lt});var p=U(9058),V=U(4537),b=U(534),Ce=U(7879);class ${constructor(rt,it){this._delegate=rt,this.firebase=it,(0,b._addComponent)(rt,new V.wA("app-compat",()=>this,"PUBLIC")),this.container=rt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(rt){this._delegate.automaticDataCollectionEnabled=rt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(rt=>{this._delegate.checkDestroyed(),rt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,b.deleteApp)(this._delegate)))}_getService(rt,it=b._DEFAULT_ENTRY_NAME){var wt;this._delegate.checkDestroyed();const ut=this._delegate.container.getProvider(rt);return!ut.isInitialized()&&"EXPLICIT"===(null===(wt=ut.getComponent())||void 0===wt?void 0:wt.instantiationMode)&&ut.initialize(),ut.getImmediate({identifier:it})}_removeServiceInstance(rt,it=b._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(rt).clearInstance(it)}_addComponent(rt){(0,b._addComponent)(this._delegate,rt)}_addOrOverwriteComponent(rt){(0,b._addOrOverwriteComponent)(this._delegate,rt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const W=new p.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),J=function de(){const Xe=function ue(Xe){const rt={},it={__esModule:!0,initializeApp:function oe(be,ve={}){const tt=b.initializeApp(be,ve);if((0,p.r3)(rt,tt.name))return rt[tt.name];const ge=new Xe(tt,it);return rt[tt.name]=ge,ge},app:ut,registerVersion:b.registerVersion,setLogLevel:b.setLogLevel,onLog:b.onLog,apps:null,SDK_VERSION:b.SDK_VERSION,INTERNAL:{registerComponent:function pe(be){const ve=be.name,tt=ve.replace("-compat","");if(b._registerComponent(be)&&"PUBLIC"===be.type){const ge=(Lt=ut())=>{if("function"!=typeof Lt[tt])throw W.create("invalid-app-argument",{appName:ve});return Lt[tt]()};void 0!==be.serviceProps&&(0,p.ZB)(ge,be.serviceProps),it[tt]=ge,Xe.prototype[tt]=function(...Lt){return this._getService.bind(this,ve).apply(this,be.multipleInstances?Lt:[])}}return"PUBLIC"===be.type?it[tt]:null},removeApp:function wt(be){delete rt[be]},useAsService:function me(be,ve){return"serverAuth"===ve?null:ve},modularAPIs:b}};function ut(be){if(!(0,p.r3)(rt,be=be||b._DEFAULT_ENTRY_NAME))throw W.create("no-app",{appName:be});return rt[be]}return it.default=it,Object.defineProperty(it,"apps",{get:function Me(){return Object.keys(rt).map(be=>rt[be])}}),ut.App=Xe,it}($);return Xe.INTERNAL=Object.assign(Object.assign({},Xe.INTERNAL),{createFirebaseNamespace:de,extendNamespace:function rt(it){(0,p.ZB)(Xe,it)},createSubscribe:p.ne,ErrorFactory:p.LL,deepExtend:p.ZB}),Xe}(),ae=new Ce.Yd("@firebase/app-compat");if((0,p.jU)()&&void 0!==self.firebase){ae.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Xe=self.firebase.SDK_VERSION;Xe&&Xe.indexOf("LITE")>=0&&ae.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const lt=J;!function Ke(Xe){(0,b.registerVersion)("@firebase/app-compat","0.2.27",Xe)}()},534:(Mt,He,U)=>{U.r(He),U.d(He,{FirebaseError:()=>Ce.ZR,SDK_VERSION:()=>Qt,_DEFAULT_ENTRY_NAME:()=>en,_addComponent:()=>fr,_addOrOverwriteComponent:()=>Ze,_apps:()=>tn,_clearComponents:()=>qe,_components:()=>tr,_getProvider:()=>Pe,_registerComponent:()=>Ct,_removeServiceInstance:()=>$e,deleteApp:()=>Ir,getApp:()=>ri,getApps:()=>Rn,initializeApp:()=>Nr,onLog:()=>fi,registerVersion:()=>Jr,setLogLevel:()=>qr});var p=U(5861),V=U(4537),b=U(7879),Ce=U(9058);const $=(we,Te)=>Te.some(Be=>we instanceof Be);let Y,W;const J=new WeakMap,ae=new WeakMap,ye=new WeakMap,je=new WeakMap,Ke=new WeakMap;let rt={get(we,Te,Be){if(we instanceof IDBTransaction){if("done"===Te)return ae.get(we);if("objectStoreNames"===Te)return we.objectStoreNames||ye.get(we);if("store"===Te)return Be.objectStoreNames[1]?void 0:Be.objectStore(Be.objectStoreNames[0])}return oe(we[Te])},set:(we,Te,Be)=>(we[Te]=Be,!0),has:(we,Te)=>we instanceof IDBTransaction&&("done"===Te||"store"===Te)||Te in we};function ut(we){return"function"==typeof we?function wt(we){return we!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function de(){return W||(W=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(we)?function(...Te){return we.apply(Me(this),Te),oe(J.get(this))}:function(...Te){return oe(we.apply(Me(this),Te))}:function(Te,...Be){const et=we.call(Me(this),Te,...Be);return ye.set(et,Te.sort?Te.sort():[Te]),oe(et)}}(we):(we instanceof IDBTransaction&&function Xe(we){if(ae.has(we))return;const Te=new Promise((Be,et)=>{const Ft=()=>{we.removeEventListener("complete",ct),we.removeEventListener("error",nn),we.removeEventListener("abort",nn)},ct=()=>{Be(),Ft()},nn=()=>{et(we.error||new DOMException("AbortError","AbortError")),Ft()};we.addEventListener("complete",ct),we.addEventListener("error",nn),we.addEventListener("abort",nn)});ae.set(we,Te)}(we),$(we,function ue(){return Y||(Y=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(we,rt):we)}function oe(we){if(we instanceof IDBRequest)return function lt(we){const Te=new Promise((Be,et)=>{const Ft=()=>{we.removeEventListener("success",ct),we.removeEventListener("error",nn)},ct=()=>{Be(oe(we.result)),Ft()},nn=()=>{et(we.error),Ft()};we.addEventListener("success",ct),we.addEventListener("error",nn)});return Te.then(Be=>{Be instanceof IDBCursor&&J.set(Be,we)}).catch(()=>{}),Ke.set(Te,we),Te}(we);if(je.has(we))return je.get(we);const Te=ut(we);return Te!==we&&(je.set(we,Te),Ke.set(Te,we)),Te}const Me=we=>Ke.get(we),be=["get","getKey","getAll","getAllKeys","count"],ve=["put","add","delete","clear"],tt=new Map;function ge(we,Te){if(!(we instanceof IDBDatabase)||Te in we||"string"!=typeof Te)return;if(tt.get(Te))return tt.get(Te);const Be=Te.replace(/FromIndex$/,""),et=Te!==Be,Ft=ve.includes(Be);if(!(Be in(et?IDBIndex:IDBObjectStore).prototype)||!Ft&&!be.includes(Be))return;const ct=function(){var nn=(0,p.Z)(function*(Gn,...Mn){const sr=this.transaction(Gn,Ft?"readwrite":"readonly");let br=sr.store;return et&&(br=br.index(Mn.shift())),(yield Promise.all([br[Be](...Mn),Ft&&sr.done]))[0]});return function(Mn){return nn.apply(this,arguments)}}();return tt.set(Te,ct),ct}!function it(we){rt=we(rt)}(we=>({...we,get:(Te,Be,et)=>ge(Te,Be)||we.get(Te,Be,et),has:(Te,Be)=>!!ge(Te,Be)||we.has(Te,Be)}));class Lt{constructor(Te){this.container=Te}getPlatformInfoString(){return this.container.getProviders().map(Be=>{if(function pt(we){const Te=we.getComponent();return"VERSION"===Te?.type}(Be)){const et=Be.getImmediate();return`${et.library}/${et.version}`}return null}).filter(Be=>Be).join(" ")}}const st="@firebase/app",Dt=new b.Yd("@firebase/app"),en="[DEFAULT]",hn={[st]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},tn=new Map,tr=new Map;function fr(we,Te){try{we.container.addComponent(Te)}catch(Be){Dt.debug(`Component ${Te.name} failed to register with FirebaseApp ${we.name}`,Be)}}function Ze(we,Te){we.container.addOrOverwriteComponent(Te)}function Ct(we){const Te=we.name;if(tr.has(Te))return Dt.debug(`There were multiple attempts to register component ${Te}.`),!1;tr.set(Te,we);for(const Be of tn.values())fr(Be,we);return!0}function Pe(we,Te){const Be=we.container.getProvider("heartbeat").getImmediate({optional:!0});return Be&&Be.triggerHeartbeat(),we.container.getProvider(Te)}function $e(we,Te,Be=en){Pe(we,Te).clearInstance(Be)}function qe(){tr.clear()}const At=new Ce.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Hn{constructor(Te,Be,et){this._isDeleted=!1,this._options=Object.assign({},Te),this._config=Object.assign({},Be),this._name=Be.name,this._automaticDataCollectionEnabled=Be.automaticDataCollectionEnabled,this._container=et,this.container.addComponent(new V.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Te){this.checkDestroyed(),this._automaticDataCollectionEnabled=Te}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Te){this._isDeleted=Te}checkDestroyed(){if(this.isDeleted)throw At.create("app-deleted",{appName:this._name})}}const Qt="10.8.0";function Nr(we,Te={}){let Be=we;"object"!=typeof Te&&(Te={name:Te});const et=Object.assign({name:en,automaticDataCollectionEnabled:!1},Te),Ft=et.name;if("string"!=typeof Ft||!Ft)throw At.create("bad-app-name",{appName:String(Ft)});if(Be||(Be=(0,Ce.aH)()),!Be)throw At.create("no-options");const ct=tn.get(Ft);if(ct){if((0,Ce.vZ)(Be,ct.options)&&(0,Ce.vZ)(et,ct.config))return ct;throw At.create("duplicate-app",{appName:Ft})}const nn=new V.H0(Ft);for(const Mn of tr.values())nn.addComponent(Mn);const Gn=new Hn(Be,et,nn);return tn.set(Ft,Gn),Gn}function ri(we=en){const Te=tn.get(we);if(!Te&&we===en&&(0,Ce.aH)())return Nr();if(!Te)throw At.create("no-app",{appName:we});return Te}function Rn(){return Array.from(tn.values())}function Ir(we){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,p.Z)(function*(we){const Te=we.name;tn.has(Te)&&(tn.delete(Te),yield Promise.all(we.container.getProviders().map(Be=>Be.delete())),we.isDeleted=!0)})).apply(this,arguments)}function Jr(we,Te,Be){var et;let Ft=null!==(et=hn[we])&&void 0!==et?et:we;Be&&(Ft+=`-${Be}`);const ct=Ft.match(/\s|\//),nn=Te.match(/\s|\//);if(ct||nn){const Gn=[`Unable to register library "${Ft}" with version "${Te}":`];return ct&&Gn.push(`library name "${Ft}" contains illegal characters (whitespace or "/")`),ct&&nn&&Gn.push("and"),nn&&Gn.push(`version name "${Te}" contains illegal characters (whitespace or "/")`),void Dt.warn(Gn.join(" "))}Ct(new V.wA(`${Ft}-version`,()=>({library:Ft,version:Te}),"VERSION"))}function fi(we,Te){if(null!==we&&"function"!=typeof we)throw At.create("invalid-log-argument");(0,b.Am)(we,Te)}function qr(we){(0,b.Ub)(we)}const Pr="firebase-heartbeat-database",Ur=1,De="firebase-heartbeat-store";let ne=null;function z(){return ne||(ne=function pe(we,Te,{blocked:Be,upgrade:et,blocking:Ft,terminated:ct}={}){const nn=indexedDB.open(we,Te),Gn=oe(nn);return et&&nn.addEventListener("upgradeneeded",Mn=>{et(oe(nn.result),Mn.oldVersion,Mn.newVersion,oe(nn.transaction),Mn)}),Be&&nn.addEventListener("blocked",Mn=>Be(Mn.oldVersion,Mn.newVersion,Mn)),Gn.then(Mn=>{ct&&Mn.addEventListener("close",()=>ct()),Ft&&Mn.addEventListener("versionchange",sr=>Ft(sr.oldVersion,sr.newVersion,sr))}).catch(()=>{}),Gn}(Pr,Ur,{upgrade:(we,Te)=>{if(0===Te)try{we.createObjectStore(De)}catch(Be){console.warn(Be)}}}).catch(we=>{throw At.create("idb-open",{originalErrorMessage:we.message})})),ne}function L(){return(L=(0,p.Z)(function*(we){try{const Be=(yield z()).transaction(De),et=yield Be.objectStore(De).get(dt(we));return yield Be.done,et}catch(Te){if(Te instanceof Ce.ZR)Dt.warn(Te.message);else{const Be=At.create("idb-get",{originalErrorMessage:Te?.message});Dt.warn(Be.message)}}})).apply(this,arguments)}function he(we,Te){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,p.Z)(function*(we,Te){try{const et=(yield z()).transaction(De,"readwrite");yield et.objectStore(De).put(Te,dt(we)),yield et.done}catch(Be){if(Be instanceof Ce.ZR)Dt.warn(Be.message);else{const et=At.create("idb-set",{originalErrorMessage:Be?.message});Dt.warn(et.message)}}})).apply(this,arguments)}function dt(we){return`${we.name}!${we.options.appId}`}class kt{constructor(Te){this.container=Te,this._heartbeatsCache=null;const Be=this.container.getProvider("app").getImmediate();this._storage=new Re(Be),this._heartbeatsCachePromise=this._storage.read().then(et=>(this._heartbeatsCache=et,et))}triggerHeartbeat(){var Te=this;return(0,p.Z)(function*(){var Be,et;const ct=Te.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),nn=Yt();if((null!=(null===(Be=Te._heartbeatsCache)||void 0===Be?void 0:Be.heartbeats)||(Te._heartbeatsCache=yield Te._heartbeatsCachePromise,null!=(null===(et=Te._heartbeatsCache)||void 0===et?void 0:et.heartbeats)))&&Te._heartbeatsCache.lastSentHeartbeatDate!==nn&&!Te._heartbeatsCache.heartbeats.some(Gn=>Gn.date===nn))return Te._heartbeatsCache.heartbeats.push({date:nn,agent:ct}),Te._heartbeatsCache.heartbeats=Te._heartbeatsCache.heartbeats.filter(Gn=>{const Mn=new Date(Gn.date).valueOf();return Date.now()-Mn<=2592e6}),Te._storage.overwrite(Te._heartbeatsCache)})()}getHeartbeatsHeader(){var Te=this;return(0,p.Z)(function*(){var Be;if(null===Te._heartbeatsCache&&(yield Te._heartbeatsCachePromise),null==(null===(Be=Te._heartbeatsCache)||void 0===Be?void 0:Be.heartbeats)||0===Te._heartbeatsCache.heartbeats.length)return"";const et=Yt(),{heartbeatsToSend:Ft,unsentEntries:ct}=function jn(we,Te=1024){const Be=[];let et=we.slice();for(const Ft of we){const ct=Be.find(nn=>nn.agent===Ft.agent);if(ct){if(ct.dates.push(Ft.date),Ee(Be)>Te){ct.dates.pop();break}}else if(Be.push({agent:Ft.agent,dates:[Ft.date]}),Ee(Be)>Te){Be.pop();break}et=et.slice(1)}return{heartbeatsToSend:Be,unsentEntries:et}}(Te._heartbeatsCache.heartbeats),nn=(0,Ce.L)(JSON.stringify({version:2,heartbeats:Ft}));return Te._heartbeatsCache.lastSentHeartbeatDate=et,ct.length>0?(Te._heartbeatsCache.heartbeats=ct,yield Te._storage.overwrite(Te._heartbeatsCache)):(Te._heartbeatsCache.heartbeats=[],Te._storage.overwrite(Te._heartbeatsCache)),nn})()}}function Yt(){return(new Date).toISOString().substring(0,10)}class Re{constructor(Te){this.app=Te,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,p.Z)(function*(){return!!(0,Ce.hl)()&&(0,Ce.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Te=this;return(0,p.Z)(function*(){if(yield Te._canUseIndexedDBPromise){const et=yield function F(we){return L.apply(this,arguments)}(Te.app);return et?.heartbeats?et:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(Te){var Be=this;return(0,p.Z)(function*(){var et;if(yield Be._canUseIndexedDBPromise){const ct=yield Be.read();return he(Be.app,{lastSentHeartbeatDate:null!==(et=Te.lastSentHeartbeatDate)&&void 0!==et?et:ct.lastSentHeartbeatDate,heartbeats:Te.heartbeats})}})()}add(Te){var Be=this;return(0,p.Z)(function*(){var et;if(yield Be._canUseIndexedDBPromise){const ct=yield Be.read();return he(Be.app,{lastSentHeartbeatDate:null!==(et=Te.lastSentHeartbeatDate)&&void 0!==et?et:ct.lastSentHeartbeatDate,heartbeats:[...ct.heartbeats,...Te.heartbeats]})}})()}}function Ee(we){return(0,Ce.L)(JSON.stringify({version:2,heartbeats:we})).length}!function Ae(we){Ct(new V.wA("platform-logger",Te=>new Lt(Te),"PRIVATE")),Ct(new V.wA("heartbeat",Te=>new kt(Te),"PRIVATE")),Jr(st,"0.9.27",we),Jr(st,"0.9.27","esm2017"),Jr("fire-js","")}("")},4537:(Mt,He,U)=>{U.d(He,{H0:()=>ue,wA:()=>b});var p=U(5861),V=U(9058);class b{constructor(J,ae,ye){this.name=J,this.instanceFactory=ae,this.type=ye,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(J){return this.instantiationMode=J,this}setMultipleInstances(J){return this.multipleInstances=J,this}setServiceProps(J){return this.serviceProps=J,this}setInstanceCreatedCallback(J){return this.onInstanceCreated=J,this}}const Ce="[DEFAULT]";class ${constructor(J,ae){this.name=J,this.container=ae,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(J){const ae=this.normalizeInstanceIdentifier(J);if(!this.instancesDeferred.has(ae)){const ye=new V.BH;if(this.instancesDeferred.set(ae,ye),this.isInitialized(ae)||this.shouldAutoInitialize())try{const je=this.getOrInitializeService({instanceIdentifier:ae});je&&ye.resolve(je)}catch{}}return this.instancesDeferred.get(ae).promise}getImmediate(J){var ae;const ye=this.normalizeInstanceIdentifier(J?.identifier),je=null!==(ae=J?.optional)&&void 0!==ae&&ae;if(!this.isInitialized(ye)&&!this.shouldAutoInitialize()){if(je)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ye})}catch(Ke){if(je)return null;throw Ke}}getComponent(){return this.component}setComponent(J){if(J.name!==this.name)throw Error(`Mismatching Component ${J.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=J,this.shouldAutoInitialize()){if(function W(de){return"EAGER"===de.instantiationMode}(J))try{this.getOrInitializeService({instanceIdentifier:Ce})}catch{}for(const[ae,ye]of this.instancesDeferred.entries()){const je=this.normalizeInstanceIdentifier(ae);try{const Ke=this.getOrInitializeService({instanceIdentifier:je});ye.resolve(Ke)}catch{}}}}clearInstance(J=Ce){this.instancesDeferred.delete(J),this.instancesOptions.delete(J),this.instances.delete(J)}delete(){var J=this;return(0,p.Z)(function*(){const ae=Array.from(J.instances.values());yield Promise.all([...ae.filter(ye=>"INTERNAL"in ye).map(ye=>ye.INTERNAL.delete()),...ae.filter(ye=>"_delete"in ye).map(ye=>ye._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(J=Ce){return this.instances.has(J)}getOptions(J=Ce){return this.instancesOptions.get(J)||{}}initialize(J={}){const{options:ae={}}=J,ye=this.normalizeInstanceIdentifier(J.instanceIdentifier);if(this.isInitialized(ye))throw Error(`${this.name}(${ye}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const je=this.getOrInitializeService({instanceIdentifier:ye,options:ae});for(const[Ke,lt]of this.instancesDeferred.entries())ye===this.normalizeInstanceIdentifier(Ke)&&lt.resolve(je);return je}onInit(J,ae){var ye;const je=this.normalizeInstanceIdentifier(ae),Ke=null!==(ye=this.onInitCallbacks.get(je))&&void 0!==ye?ye:new Set;Ke.add(J),this.onInitCallbacks.set(je,Ke);const lt=this.instances.get(je);return lt&&J(lt,je),()=>{Ke.delete(J)}}invokeOnInitCallbacks(J,ae){const ye=this.onInitCallbacks.get(ae);if(ye)for(const je of ye)try{je(J,ae)}catch{}}getOrInitializeService({instanceIdentifier:J,options:ae={}}){let ye=this.instances.get(J);if(!ye&&this.component&&(ye=this.component.instanceFactory(this.container,{instanceIdentifier:(de=J,de===Ce?void 0:de),options:ae}),this.instances.set(J,ye),this.instancesOptions.set(J,ae),this.invokeOnInitCallbacks(ye,J),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,J,ye)}catch{}var de;return ye||null}normalizeInstanceIdentifier(J=Ce){return this.component?this.component.multipleInstances?J:Ce:J}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ue{constructor(J){this.name=J,this.providers=new Map}addComponent(J){const ae=this.getProvider(J.name);if(ae.isComponentSet())throw new Error(`Component ${J.name} has already been registered with ${this.name}`);ae.setComponent(J)}addOrOverwriteComponent(J){this.getProvider(J.name).isComponentSet()&&this.providers.delete(J.name),this.addComponent(J)}getProvider(J){if(this.providers.has(J))return this.providers.get(J);const ae=new $(J,this);return this.providers.set(J,ae),ae}getProviders(){return Array.from(this.providers.values())}}},7879:(Mt,He,U)=>{U.d(He,{Am:()=>de,Ub:()=>ue,Yd:()=>W,in:()=>V});const p=[];var V=function(J){return J[J.DEBUG=0]="DEBUG",J[J.VERBOSE=1]="VERBOSE",J[J.INFO=2]="INFO",J[J.WARN=3]="WARN",J[J.ERROR=4]="ERROR",J[J.SILENT=5]="SILENT",J}(V||{});const b={debug:V.DEBUG,verbose:V.VERBOSE,info:V.INFO,warn:V.WARN,error:V.ERROR,silent:V.SILENT},Ce=V.INFO,$={[V.DEBUG]:"log",[V.VERBOSE]:"log",[V.INFO]:"info",[V.WARN]:"warn",[V.ERROR]:"error"},Y=(J,ae,...ye)=>{if(ae<J.logLevel)return;const je=(new Date).toISOString(),Ke=$[ae];if(!Ke)throw new Error(`Attempted to log a message with an invalid logType (value: ${ae})`);console[Ke](`[${je}]  ${J.name}:`,...ye)};class W{constructor(ae){this.name=ae,this._logLevel=Ce,this._logHandler=Y,this._userLogHandler=null,p.push(this)}get logLevel(){return this._logLevel}set logLevel(ae){if(!(ae in V))throw new TypeError(`Invalid value "${ae}" assigned to \`logLevel\``);this._logLevel=ae}setLogLevel(ae){this._logLevel="string"==typeof ae?b[ae]:ae}get logHandler(){return this._logHandler}set logHandler(ae){if("function"!=typeof ae)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ae}get userLogHandler(){return this._userLogHandler}set userLogHandler(ae){this._userLogHandler=ae}debug(...ae){this._userLogHandler&&this._userLogHandler(this,V.DEBUG,...ae),this._logHandler(this,V.DEBUG,...ae)}log(...ae){this._userLogHandler&&this._userLogHandler(this,V.VERBOSE,...ae),this._logHandler(this,V.VERBOSE,...ae)}info(...ae){this._userLogHandler&&this._userLogHandler(this,V.INFO,...ae),this._logHandler(this,V.INFO,...ae)}warn(...ae){this._userLogHandler&&this._userLogHandler(this,V.WARN,...ae),this._logHandler(this,V.WARN,...ae)}error(...ae){this._userLogHandler&&this._userLogHandler(this,V.ERROR,...ae),this._logHandler(this,V.ERROR,...ae)}}function ue(J){p.forEach(ae=>{ae.setLogLevel(J)})}function de(J,ae){for(const ye of p){let je=null;ae&&ae.level&&(je=b[ae.level]),ye.userLogHandler=null===J?null:(Ke,lt,...Xe)=>{const rt=Xe.map(it=>{if(null==it)return null;if("string"==typeof it)return it;if("number"==typeof it||"boolean"==typeof it)return it.toString();if(it instanceof Error)return it.message;try{return JSON.stringify(it)}catch{return null}}).filter(it=>it).join(" ");lt>=(je??Ke.logLevel)&&J({level:V[lt].toLowerCase(),message:rt,args:Xe,type:Ke.name})}}}},7142:(Mt,He,U)=>{U.d(He,{Z:()=>p.Z});var p=U(3106);p.Z.registerVersion("firebase","10.8.0","app-compat")},6365:(Mt,He,U)=>{U.r(He);var p=U(5861),V=U(3106),b=U(4939),Ce=U(9058),W=(U(534),U(7879),U(4537));function ue(){return window}function ae(){return ae=(0,p.Z)(function*(z,F,L){var he;const{BuildInfo:Fe}=ue();(0,b.au)(F.sessionId,"AuthEvent did not contain a session ID");const dt=yield function it(z){return wt.apply(this,arguments)}(F.sessionId),It={};return(0,b.av)()?It.ibi=Fe.packageName:(0,b.aw)()?It.apn=Fe.packageName:(0,b.ax)(z,"operation-not-supported-in-this-environment"),Fe.displayName&&(It.appDisplayName=Fe.displayName),It.sessionId=dt,(0,b.ay)(z,L,F.type,void 0,null!==(he=F.eventId)&&void 0!==he?he:void 0,It)}),ae.apply(this,arguments)}function je(){return(je=(0,p.Z)(function*(z){const{BuildInfo:F}=ue(),L={};(0,b.av)()?L.iosBundleId=F.packageName:(0,b.aw)()?L.androidPackageName=F.packageName:(0,b.ax)(z,"operation-not-supported-in-this-environment"),yield(0,b.az)(z,L)})).apply(this,arguments)}function Xe(){return(Xe=(0,p.Z)(function*(z,F,L){const{cordova:he}=ue();let Fe=()=>{};try{yield new Promise((dt,It)=>{let xt=null;function kt(){var Re;dt();const Ee=null===(Re=he.plugins.browsertab)||void 0===Re?void 0:Re.close;"function"==typeof Ee&&Ee(),"function"==typeof L?.close&&L.close()}function Yt(){xt||(xt=window.setTimeout(()=>{It((0,b.aB)(z,"redirect-cancelled-by-user"))},2e3))}function jn(){"visible"===document?.visibilityState&&Yt()}F.addPassiveListener(kt),document.addEventListener("resume",Yt,!1),(0,b.aw)()&&document.addEventListener("visibilitychange",jn,!1),Fe=()=>{F.removePassiveListener(kt),document.removeEventListener("resume",Yt,!1),document.removeEventListener("visibilitychange",jn,!1),xt&&window.clearTimeout(xt)}})}finally{Fe()}})).apply(this,arguments)}function wt(){return(wt=(0,p.Z)(function*(z){const F=function ut(z){if((0,b.au)(/[0-9a-zA-Z]+/.test(z),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(z);const F=new ArrayBuffer(z.length),L=new Uint8Array(F);for(let he=0;he<z.length;he++)L[he]=z.charCodeAt(he);return L}(z),L=yield crypto.subtle.digest("SHA-256",F);return Array.from(new Uint8Array(L)).map(Fe=>Fe.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Me extends b.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(F=>{this.resolveInialized=F})}addPassiveListener(F){this.passiveListeners.add(F)}removePassiveListener(F){this.passiveListeners.delete(F)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(F){return this.resolveInialized(),this.passiveListeners.forEach(L=>L(F)),super.onEvent(F)}initialized(){var F=this;return(0,p.Z)(function*(){yield F.initPromise})()}}function be(z){return ve.apply(this,arguments)}function ve(){return(ve=(0,p.Z)(function*(z){const F=yield Lt()._get(pt(z));return F&&(yield Lt()._remove(pt(z))),F})).apply(this,arguments)}function ge(){const z=[];for(let L=0;L<20;L++){const he=Math.floor(62*Math.random());z.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(he))}return z.join("")}function Lt(){return(0,b.aE)(b.b)}function pt(z){return(0,b.aF)("authEvent",z.config.apiKey,z.name)}function Dt(z){if(!z?.includes("?"))return{};const[F,...L]=z.split("?");return(0,Ce.zd)(L.join("?"))}const Se=class Pt{constructor(){this._redirectPersistence=b.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=b.aG,this._overrideRedirectResult=b.aH}_initialize(F){var L=this;return(0,p.Z)(function*(){const he=F._key();let Fe=L.eventManagers.get(he);return Fe||(Fe=new Me(F),L.eventManagers.set(he,Fe),L.attachCallbackListeners(F,Fe)),Fe})()}_openPopup(F){(0,b.ax)(F,"operation-not-supported-in-this-environment")}_openRedirect(F,L,he,Fe){var dt=this;return(0,p.Z)(function*(){!function rt(z){var F,L,he,Fe,dt,It,xt,kt,Yt,jn;const Re=ue();(0,b.aC)("function"==typeof(null===(F=Re?.universalLinks)||void 0===F?void 0:F.subscribe),z,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,b.aC)(typeof(null===(L=Re?.BuildInfo)||void 0===L?void 0:L.packageName)<"u",z,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,b.aC)("function"==typeof(null===(dt=null===(Fe=null===(he=Re?.cordova)||void 0===he?void 0:he.plugins)||void 0===Fe?void 0:Fe.browsertab)||void 0===dt?void 0:dt.openUrl),z,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,b.aC)("function"==typeof(null===(kt=null===(xt=null===(It=Re?.cordova)||void 0===It?void 0:It.plugins)||void 0===xt?void 0:xt.browsertab)||void 0===kt?void 0:kt.isAvailable),z,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,b.aC)("function"==typeof(null===(jn=null===(Yt=Re?.cordova)||void 0===Yt?void 0:Yt.InAppBrowser)||void 0===jn?void 0:jn.open),z,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(F);const It=yield dt._initialize(F);yield It.initialized(),It.resetRedirect(),(0,b.aI)(),yield dt._originValidation(F);const xt=function pe(z,F,L=null){return{type:F,eventId:L,urlResponse:null,sessionId:ge(),postBody:null,tenantId:z.tenantId,error:(0,b.aB)(z,"no-auth-event")}}(F,he,Fe);yield function me(z,F){return Lt()._set(pt(z),F)}(F,xt);const kt=yield function J(z,F,L){return ae.apply(this,arguments)}(F,xt,L),Yt=yield function Ke(z){const{cordova:F}=ue();return new Promise(L=>{F.plugins.browsertab.isAvailable(he=>{let Fe=null;he?F.plugins.browsertab.openUrl(z):Fe=F.InAppBrowser.open(z,(0,b.aA)()?"_blank":"_system","location=yes"),L(Fe)})})}(kt);return function lt(z,F,L){return Xe.apply(this,arguments)}(F,It,Yt)})()}_isIframeWebStorageSupported(F,L){throw new Error("Method not implemented.")}_originValidation(F){const L=F._key();return this.originValidationPromises[L]||(this.originValidationPromises[L]=function ye(z){return je.apply(this,arguments)}(F)),this.originValidationPromises[L]}attachCallbackListeners(F,L){const{universalLinks:he,handleOpenURL:Fe,BuildInfo:dt}=ue(),It=setTimeout((0,p.Z)(function*(){yield be(F),L.onEvent(Ne())}),500),xt=function(){var jn=(0,p.Z)(function*(Re){clearTimeout(It);const Ee=yield be(F);let Ae=null;Ee&&Re?.url&&(Ae=function tt(z,F){var L,he;const Fe=function _n(z){const F=Dt(z),L=F.link?decodeURIComponent(F.link):void 0,he=Dt(L).link,Fe=F.deep_link_id?decodeURIComponent(F.deep_link_id):void 0;return Dt(Fe).link||Fe||he||L||z}(F);if(Fe.includes("/__/auth/callback")){const dt=Dt(Fe),It=dt.firebaseError?function st(z){try{return JSON.parse(z)}catch{return null}}(decodeURIComponent(dt.firebaseError)):null,xt=null===(he=null===(L=It?.code)||void 0===L?void 0:L.split("auth/"))||void 0===he?void 0:he[1],kt=xt?(0,b.aB)(xt):null;return kt?{type:z.type,eventId:z.eventId,tenantId:z.tenantId,error:kt,urlResponse:null,sessionId:null,postBody:null}:{type:z.type,eventId:z.eventId,tenantId:z.tenantId,sessionId:z.sessionId,urlResponse:Fe,postBody:null}}return null}(Ee,Re.url)),L.onEvent(Ae||Ne())});return function(Ee){return jn.apply(this,arguments)}}();typeof he<"u"&&"function"==typeof he.subscribe&&he.subscribe(null,xt);const kt=Fe,Yt=`${dt.packageName.toLowerCase()}://`;ue().handleOpenURL=function(){var jn=(0,p.Z)(function*(Re){if(Re.toLowerCase().startsWith(Yt)&&xt({url:Re}),"function"==typeof kt)try{kt(Re)}catch(Ee){console.error(Ee)}});return function(Re){return jn.apply(this,arguments)}}()}};function Ne(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,b.aB)("no-auth-event")}}function Tt(){var z;return(null===(z=self?.location)||void 0===z?void 0:z.protocol)||null}function En(z=(0,Ce.z$)()){return!("file:"!==Tt()&&"ionic:"!==Tt()&&"capacitor:"!==Tt()||!z.toLowerCase().match(/iphone|ipad|ipod|android/))}function ln(){try{const z=self.localStorage,F=b.aN();if(z)return z.setItem(F,"1"),z.removeItem(F),!function Bn(z=(0,Ce.z$)()){return function Nn(){return(0,Ce.w1)()&&11===document?.documentMode}()||function un(z=(0,Ce.z$)()){return/Edge\/\d+/.test(z)}(z)}()||(0,Ce.hl)()}catch{return Fn()&&(0,Ce.hl)()}return!1}function Fn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function wn(){return(function ft(){return"http:"===Tt()||"https:"===Tt()}()||(0,Ce.ru)()||En())&&!function on(){return(0,Ce.b$)()||(0,Ce.UG)()}()&&ln()&&!Fn()}function Wt(){return En()&&typeof document<"u"}function cr(){return(cr=(0,p.Z)(function*(){return!!Wt()&&new Promise(z=>{const F=setTimeout(()=>{z(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(F),z(!0)})})})).apply(this,arguments)}const Kn={LOCAL:"local",NONE:"none",SESSION:"session"},Cr=b.aC,ir="persistence";function hn(z){return tn.apply(this,arguments)}function tn(){return(tn=(0,p.Z)(function*(z){yield z._initializationPromise;const F=fr(),L=b.aF(ir,z.config.apiKey,z.name);F&&F.setItem(L,z._getPersistence())})).apply(this,arguments)}function fr(){var z;try{return(null===(z=function Pn(){return typeof window<"u"?window:null}())||void 0===z?void 0:z.sessionStorage)||null}catch{return null}}const Ze=b.aC;class Ct{constructor(){this.browserResolver=b.aE(b.k),this.cordovaResolver=b.aE(Se),this.underlyingResolver=null,this._redirectPersistence=b.a,this._completeRedirectFn=b.aG,this._overrideRedirectResult=b.aH}_initialize(F){var L=this;return(0,p.Z)(function*(){return yield L.selectUnderlyingResolver(),L.assertedUnderlyingResolver._initialize(F)})()}_openPopup(F,L,he,Fe){var dt=this;return(0,p.Z)(function*(){return yield dt.selectUnderlyingResolver(),dt.assertedUnderlyingResolver._openPopup(F,L,he,Fe)})()}_openRedirect(F,L,he,Fe){var dt=this;return(0,p.Z)(function*(){return yield dt.selectUnderlyingResolver(),dt.assertedUnderlyingResolver._openRedirect(F,L,he,Fe)})()}_isIframeWebStorageSupported(F,L){this.assertedUnderlyingResolver._isIframeWebStorageSupported(F,L)}_originValidation(F){return this.assertedUnderlyingResolver._originValidation(F)}get _shouldInitProactively(){return Wt()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ze(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var F=this;return(0,p.Z)(function*(){if(F.underlyingResolver)return;const L=yield function fn(){return cr.apply(this,arguments)}();F.underlyingResolver=L?F.cordovaResolver:F.browserResolver})()}}function Pe(z){return z.unwrap()}function qe(z){return At(z)}function At(z){const{_tokenResponse:F}=z instanceof Ce.ZR?z.customData:z;if(!F)return null;if(!(z instanceof Ce.ZR)&&"temporaryProof"in F&&"phoneNumber"in F)return b.P.credentialFromResult(z);const L=F.providerId;if(!L||L===b.p.PASSWORD)return null;let he;switch(L){case b.p.GOOGLE:he=b.X;break;case b.p.FACEBOOK:he=b.W;break;case b.p.GITHUB:he=b.Y;break;case b.p.TWITTER:he=b.$;break;default:const{oauthIdToken:Fe,oauthAccessToken:dt,oauthTokenSecret:It,pendingToken:xt,nonce:kt}=F;return dt||It||Fe||xt?xt?L.startsWith("saml.")?b.aQ._create(L,xt):b.N._fromParams({providerId:L,signInMethod:L,pendingToken:xt,idToken:Fe,accessToken:dt}):new b.Z(L).credential({idToken:Fe,accessToken:dt,rawNonce:kt}):null}return z instanceof Ce.ZR?he.credentialFromError(z):he.credentialFromResult(z)}function Hn(z,F){return F.catch(L=>{throw L instanceof Ce.ZR&&function Bt(z,F){var L;const he=null===(L=F.customData)||void 0===L?void 0:L._tokenResponse;if("auth/multi-factor-auth-required"===F?.code)F.resolver=new ri(z,b.as(z,F));else if(he){const Fe=At(F),dt=F;Fe&&(dt.credential=Fe,dt.tenantId=he.tenantId||void 0,dt.email=he.email||void 0,dt.phoneNumber=he.phoneNumber||void 0)}}(z,L),L}).then(L=>{const Fe=L.user;return{operationType:L.operationType,credential:qe(L),additionalUserInfo:b.aq(L),user:Rn.getOrCreate(Fe)}})}function Qt(z,F){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,p.Z)(function*(z,F){const L=yield F;return{verificationId:L.verificationId,confirm:he=>Hn(z,L.confirm(he))}})).apply(this,arguments)}class ri{constructor(F,L){this.resolver=L,this.auth=function $e(z){return z.wrapped()}(F)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(F){return Hn(Pe(this.auth),this.resolver.resolveSignIn(F))}}class Rn{constructor(F){this._delegate=F,this.multiFactor=b.at(F)}static getOrCreate(F){return Rn.USER_MAP.has(F)||Rn.USER_MAP.set(F,new Rn(F)),Rn.USER_MAP.get(F)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(F){return this._delegate.getIdTokenResult(F)}getIdToken(F){return this._delegate.getIdToken(F)}linkAndRetrieveDataWithCredential(F){return this.linkWithCredential(F)}linkWithCredential(F){var L=this;return(0,p.Z)(function*(){return Hn(L.auth,b.a2(L._delegate,F))})()}linkWithPhoneNumber(F,L){var he=this;return(0,p.Z)(function*(){return Qt(he.auth,b.l(he._delegate,F,L))})()}linkWithPopup(F){var L=this;return(0,p.Z)(function*(){return Hn(L.auth,b.d(L._delegate,F,Ct))})()}linkWithRedirect(F){var L=this;return(0,p.Z)(function*(){return yield hn(b.aJ(L.auth)),b.g(L._delegate,F,Ct)})()}reauthenticateAndRetrieveDataWithCredential(F){return this.reauthenticateWithCredential(F)}reauthenticateWithCredential(F){var L=this;return(0,p.Z)(function*(){return Hn(L.auth,b.a3(L._delegate,F))})()}reauthenticateWithPhoneNumber(F,L){return Qt(this.auth,b.r(this._delegate,F,L))}reauthenticateWithPopup(F){return Hn(this.auth,b.e(this._delegate,F,Ct))}reauthenticateWithRedirect(F){var L=this;return(0,p.Z)(function*(){return yield hn(b.aJ(L.auth)),b.h(L._delegate,F,Ct)})()}sendEmailVerification(F){return b.ag(this._delegate,F)}unlink(F){var L=this;return(0,p.Z)(function*(){return yield b.ap(L._delegate,F),L})()}updateEmail(F){return b.al(this._delegate,F)}updatePassword(F){return b.am(this._delegate,F)}updatePhoneNumber(F){return b.u(this._delegate,F)}updateProfile(F){return b.ak(this._delegate,F)}verifyBeforeUpdateEmail(F,L){return b.ah(this._delegate,F,L)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Rn.USER_MAP=new WeakMap;const Ir=b.aC;let Ar=(()=>{class z{constructor(L,he){if(this.app=L,he.isInitialized())return this._delegate=he.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Fe}=L.options;Ir(Fe,"invalid-api-key",{appName:L.name}),Ir(Fe,"invalid-api-key",{appName:L.name});const dt=typeof window<"u"?Ct:void 0;this._delegate=he.initialize({options:{persistence:fi(Fe,L.name),popupRedirectResolver:dt}}),this._delegate._updateErrorMap(b.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Rn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(L){this._delegate.languageCode=L}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(L){this._delegate.tenantId=L}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(L,he){b.K(this._delegate,L,he)}applyActionCode(L){return b.a7(this._delegate,L)}checkActionCode(L){return b.a8(this._delegate,L)}confirmPasswordReset(L,he){return b.a6(this._delegate,L,he)}createUserWithEmailAndPassword(L,he){var Fe=this;return(0,p.Z)(function*(){return Hn(Fe._delegate,b.aa(Fe._delegate,L,he))})()}fetchProvidersForEmail(L){return this.fetchSignInMethodsForEmail(L)}fetchSignInMethodsForEmail(L){return b.af(this._delegate,L)}isSignInWithEmailLink(L){return b.ad(this._delegate,L)}getRedirectResult(){var L=this;return(0,p.Z)(function*(){Ir(wn(),L._delegate,"operation-not-supported-in-this-environment");const he=yield b.j(L._delegate,Ct);return he?Hn(L._delegate,Promise.resolve(he)):{credential:null,user:null}})()}addFrameworkForLogging(L){!function Ge(z,F){(0,b.aJ)(z)._logFramework(F)}(this._delegate,L)}onAuthStateChanged(L,he,Fe){const{next:dt,error:It,complete:xt}=Jr(L,he,Fe);return this._delegate.onAuthStateChanged(dt,It,xt)}onIdTokenChanged(L,he,Fe){const{next:dt,error:It,complete:xt}=Jr(L,he,Fe);return this._delegate.onIdTokenChanged(dt,It,xt)}sendSignInLinkToEmail(L,he){return b.ac(this._delegate,L,he)}sendPasswordResetEmail(L,he){return b.a5(this._delegate,L,he||void 0)}setPersistence(L){var he=this;return(0,p.Z)(function*(){let Fe;switch(function en(z,F){Cr(Object.values(Kn).includes(F),z,"invalid-persistence-type"),(0,Ce.b$)()?Cr(F!==Kn.SESSION,z,"unsupported-persistence-type"):(0,Ce.UG)()?Cr(F===Kn.NONE,z,"unsupported-persistence-type"):Fn()?Cr(F===Kn.NONE||F===Kn.LOCAL&&(0,Ce.hl)(),z,"unsupported-persistence-type"):Cr(F===Kn.NONE||ln(),z,"unsupported-persistence-type")}(he._delegate,L),L){case Kn.SESSION:Fe=b.a;break;case Kn.LOCAL:Fe=(yield b.aE(b.i)._isAvailable())?b.i:b.b;break;case Kn.NONE:Fe=b.U;break;default:return b.ax("argument-error",{appName:he._delegate.name})}return he._delegate.setPersistence(Fe)})()}signInAndRetrieveDataWithCredential(L){return this.signInWithCredential(L)}signInAnonymously(){return Hn(this._delegate,b.a0(this._delegate))}signInWithCredential(L){return Hn(this._delegate,b.a1(this._delegate,L))}signInWithCustomToken(L){return Hn(this._delegate,b.a4(this._delegate,L))}signInWithEmailAndPassword(L,he){return Hn(this._delegate,b.ab(this._delegate,L,he))}signInWithEmailLink(L,he){return Hn(this._delegate,b.ae(this._delegate,L,he))}signInWithPhoneNumber(L,he){return Qt(this._delegate,b.s(this._delegate,L,he))}signInWithPopup(L){var he=this;return(0,p.Z)(function*(){return Ir(wn(),he._delegate,"operation-not-supported-in-this-environment"),Hn(he._delegate,b.c(he._delegate,L,Ct))})()}signInWithRedirect(L){var he=this;return(0,p.Z)(function*(){return Ir(wn(),he._delegate,"operation-not-supported-in-this-environment"),yield hn(he._delegate),b.f(he._delegate,L,Ct)})()}updateCurrentUser(L){return this._delegate.updateCurrentUser(L)}verifyPasswordResetCode(L){return b.a9(this._delegate,L)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return z.Persistence=Kn,z})();function Jr(z,F,L){let he=z;"function"!=typeof z&&({next:he,error:F,complete:L}=z);const Fe=he;return{next:It=>Fe(It&&Rn.getOrCreate(It)),error:F,complete:L}}function fi(z,F){const L=function tr(z,F){const L=fr();if(!L)return[];const he=b.aF(ir,z,F);switch(L.getItem(he)){case Kn.NONE:return[b.U];case Kn.LOCAL:return[b.i,b.a];case Kn.SESSION:return[b.a];default:return[]}}(z,F);if(typeof self<"u"&&!L.includes(b.i)&&L.push(b.i),typeof window<"u")for(const he of[b.b,b.a])L.includes(he)||L.push(he);return L.includes(b.U)||L.push(b.U),L}class qr{constructor(){this.providerId="phone",this._delegate=new b.P(Pe(V.Z.auth()))}static credential(F,L){return b.P.credential(F,L)}verifyPhoneNumber(F,L){return this._delegate.verifyPhoneNumber(F,L)}unwrap(){return this._delegate}}qr.PHONE_SIGN_IN_METHOD=b.P.PHONE_SIGN_IN_METHOD,qr.PROVIDER_ID=b.P.PROVIDER_ID;const Pr=b.aC;class Ur{constructor(F,L,he=V.Z.app()){var Fe;Pr(null===(Fe=he.options)||void 0===Fe?void 0:Fe.apiKey,"invalid-api-key",{appName:he.name}),this._delegate=new b.R(he.auth(),F,L),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ne(z){z.INTERNAL.registerComponent(new W.wA("auth-compat",F=>{const L=F.getProvider("app-compat").getImmediate(),he=F.getProvider("auth");return new Ar(L,he)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:b.A.EMAIL_SIGNIN,PASSWORD_RESET:b.A.PASSWORD_RESET,RECOVER_EMAIL:b.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:b.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:b.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:b.A.VERIFY_EMAIL}},EmailAuthProvider:b.V,FacebookAuthProvider:b.W,GithubAuthProvider:b.Y,GoogleAuthProvider:b.X,OAuthProvider:b.Z,SAMLAuthProvider:b._,PhoneAuthProvider:qr,PhoneMultiFactorGenerator:b.m,RecaptchaVerifier:Ur,TwitterAuthProvider:b.$,Auth:Ar,AuthCredential:b.L,Error:Ce.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),z.registerVersion("@firebase/auth-compat","0.5.2")}(V.Z)},5219:(Mt,He,U)=>{U.d(He,{F0:()=>ye,b4:()=>Ke,jx:()=>rt,m8:()=>it});var p=U(5879),V=U(8645),b=U(6814);let ue=(()=>class oe{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static IN="in";static LESS_THAN="lt";static LESS_THAN_OR_EQUAL_TO="lte";static GREATER_THAN="gt";static GREATER_THAN_OR_EQUAL_TO="gte";static BETWEEN="between";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static DATE_IS="dateIs";static DATE_IS_NOT="dateIsNot";static DATE_BEFORE="dateBefore";static DATE_AFTER="dateAfter"})(),ye=(()=>{class oe{clickSource=new V.x;clickObservable=this.clickSource.asObservable();add(pe){pe&&this.clickSource.next(pe)}static \u0275fac=function(me){return new(me||oe)};static \u0275prov=p.Yz7({token:oe,factory:oe.\u0275fac,providedIn:"root"})}return oe})(),Ke=(()=>{class oe{ripple=!1;inputStyle="outlined";overlayOptions={};filterMatchModeOptions={text:[ue.STARTS_WITH,ue.CONTAINS,ue.NOT_CONTAINS,ue.ENDS_WITH,ue.EQUALS,ue.NOT_EQUALS],numeric:[ue.EQUALS,ue.NOT_EQUALS,ue.LESS_THAN,ue.LESS_THAN_OR_EQUAL_TO,ue.GREATER_THAN,ue.GREATER_THAN_OR_EQUAL_TO],date:[ue.DATE_IS,ue.DATE_IS_NOT,ue.DATE_BEFORE,ue.DATE_AFTER]};translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyFilterMessage:"No results found",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"{page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",previousPageLabel:"Previous Page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left"}};zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100};translationSource=new V.x;translationObserver=this.translationSource.asObservable();getTranslation(pe){return this.translation[pe]}setTranslation(pe){this.translation={...this.translation,...pe},this.translationSource.next(this.translation)}static \u0275fac=function(me){return new(me||oe)};static \u0275prov=p.Yz7({token:oe,factory:oe.\u0275fac,providedIn:"root"})}return oe})(),rt=(()=>{class oe{template;type;name;constructor(pe){this.template=pe}getType(){return this.name}static \u0275fac=function(me){return new(me||oe)(p.Y36(p.Rgc))};static \u0275dir=p.lG2({type:oe,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}})}return oe})(),it=(()=>{class oe{static \u0275fac=function(me){return new(me||oe)};static \u0275mod=p.oAB({type:oe});static \u0275inj=p.cJS({imports:[b.ez]})}return oe})()},4713:(Mt,He,U)=>{U.d(He,{s:()=>Ce});var p=U(5879),V=U(2332);const b=["*"];let Ce=(()=>{class ${label;spin=!1;styleClass;role;ariaLabel;ariaHidden;ngOnInit(){this.getAttributes()}getAttributes(){const W=V.gb.isEmpty(this.label);this.role=W?void 0:"img",this.ariaLabel=W?void 0:this.label,this.ariaHidden=W}getClassNames(){return`p-icon ${this.styleClass?this.styleClass+" ":""}${this.spin?"p-icon-spin":""}`}static \u0275fac=function(ue){return new(ue||$)};static \u0275cmp=p.Xpm({type:$,selectors:[["ng-component"]],hostAttrs:[1,"p-element","p-icon-wrapper"],inputs:{label:"label",spin:"spin",styleClass:"styleClass"},standalone:!0,features:[p.jDz],ngContentSelectors:b,decls:1,vars:0,template:function(ue,de){1&ue&&(p.F$t(),p.Hsn(0))},encapsulation:2,changeDetection:0})}return $})()},336:(Mt,He,U)=>{U.d(He,{hJ:()=>tt});var p=U(6814),V=U(5879),b=U(5219),Ce=U(4713),$=U(2332);let Y=(()=>{class ge extends Ce.s{pathId;ngOnInit(){this.pathId="url(#"+(0,$.Th)()+")"}static \u0275fac=function(){let pt;return function(_n){return(pt||(pt=V.n5z(ge)))(_n||ge)}}();static \u0275cmp=V.Xpm({type:ge,selectors:[["SpinnerIcon"]],standalone:!0,features:[V.qOj,V.jDz],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(st,_n){1&st&&(V.O4$(),V.TgZ(0,"svg",0)(1,"g"),V._UZ(2,"path",1),V.qZA(),V.TgZ(3,"defs")(4,"clipPath",2),V._UZ(5,"rect",3),V.qZA()()()),2&st&&(V.Tol(_n.getClassNames()),V.uIk("aria-label",_n.ariaLabel)("aria-hidden",_n.ariaHidden)("role",_n.role),V.xp6(1),V.uIk("clip-path",_n.pathId),V.xp6(3),V.Q6J("id",_n.pathId))},encapsulation:2})}return ge})();var W=U(4480);let tt=(()=>{class ge{static \u0275fac=function(st){return new(st||ge)};static \u0275mod=V.oAB({type:ge});static \u0275inj=V.cJS({imports:[p.ez,W.T,b.m8,Y,b.m8]})}return ge})()},4532:(Mt,He,U)=>{U.d(He,{d:()=>Xe});var p=U(6814),V=U(5879),b=U(5219);let Xe=(()=>{class rt{static \u0275fac=function(ut){return new(ut||rt)};static \u0275mod=V.oAB({type:rt});static \u0275inj=V.cJS({imports:[p.ez,b.m8]})}return rt})()},5124:(Mt,He,U)=>{U.d(He,{nD:()=>Me});var p=U(6814),V=U(5879),b=U(95),Ce=U(5219),$=U(4713);let Y=(()=>{class pe extends $.s{static \u0275fac=function(){let be;return function(tt){return(be||(be=V.n5z(pe)))(tt||pe)}}();static \u0275cmp=V.Xpm({type:pe,selectors:[["CheckIcon"]],standalone:!0,features:[V.qOj,V.jDz],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M4.86199 11.5948C4.78717 11.5923 4.71366 11.5745 4.64596 11.5426C4.57826 11.5107 4.51779 11.4652 4.46827 11.4091L0.753985 7.69483C0.683167 7.64891 0.623706 7.58751 0.580092 7.51525C0.536478 7.44299 0.509851 7.36177 0.502221 7.27771C0.49459 7.19366 0.506156 7.10897 0.536046 7.03004C0.565935 6.95111 0.613367 6.88 0.674759 6.82208C0.736151 6.76416 0.8099 6.72095 0.890436 6.69571C0.970973 6.67046 1.05619 6.66385 1.13966 6.67635C1.22313 6.68886 1.30266 6.72017 1.37226 6.76792C1.44186 6.81567 1.4997 6.8786 1.54141 6.95197L4.86199 10.2503L12.6397 2.49483C12.7444 2.42694 12.8689 2.39617 12.9932 2.40745C13.1174 2.41873 13.2343 2.47141 13.3251 2.55705C13.4159 2.64268 13.4753 2.75632 13.4938 2.87973C13.5123 3.00315 13.4888 3.1292 13.4271 3.23768L5.2557 11.4091C5.20618 11.4652 5.14571 11.5107 5.07801 11.5426C5.01031 11.5745 4.9368 11.5923 4.86199 11.5948Z","fill","currentColor"]],template:function(ve,tt){1&ve&&(V.O4$(),V.TgZ(0,"svg",0),V._UZ(1,"path",1),V.qZA()),2&ve&&(V.Tol(tt.getClassNames()),V.uIk("aria-label",tt.ariaLabel)("aria-hidden",tt.ariaHidden)("role",tt.role))},encapsulation:2})}return pe})();var W=U(2332);const ue=["input"];function de(pe,me){if(1&pe&&V._UZ(0,"span",10),2&pe){const be=V.oxw(3);V.Q6J("ngClass",be.checkboxIcon),V.uIk("data-pc-section","icon")}}function J(pe,me){1&pe&&V._UZ(0,"CheckIcon",11),2&pe&&(V.Q6J("styleClass","p-checkbox-icon"),V.uIk("data-pc-section","icon"))}function ae(pe,me){if(1&pe&&(V.ynx(0),V.YNc(1,de,1,2,"span",8),V.YNc(2,J,1,2,"CheckIcon",9),V.BQk()),2&pe){const be=V.oxw(2);V.xp6(1),V.Q6J("ngIf",be.checkboxIcon),V.xp6(1),V.Q6J("ngIf",!be.checkboxIcon)}}function ye(pe,me){}function je(pe,me){1&pe&&V.YNc(0,ye,0,0,"ng-template")}function Ke(pe,me){if(1&pe&&(V.TgZ(0,"span",12),V.YNc(1,je,1,0,null,13),V.qZA()),2&pe){const be=V.oxw(2);V.uIk("data-pc-section","icon"),V.xp6(1),V.Q6J("ngTemplateOutlet",be.checkboxIconTemplate)}}function lt(pe,me){if(1&pe&&(V.ynx(0),V.YNc(1,ae,3,2,"ng-container",5),V.YNc(2,Ke,2,2,"span",7),V.BQk()),2&pe){const be=V.oxw();V.xp6(1),V.Q6J("ngIf",!be.checkboxIconTemplate),V.xp6(1),V.Q6J("ngIf",be.checkboxIconTemplate)}}const Xe=function(pe,me,be){return{"p-checkbox-label":!0,"p-checkbox-label-active":pe,"p-disabled":me,"p-checkbox-label-focus":be}};function rt(pe,me){if(1&pe){const be=V.EpF();V.TgZ(0,"label",14),V.NdJ("click",function(tt){V.CHM(be);const ge=V.oxw();return V.KtG(ge.onClick(tt))}),V._uU(1),V.qZA()}if(2&pe){const be=V.oxw();V.Tol(be.labelStyleClass),V.Q6J("ngClass",V.kEZ(6,Xe,be.checked(),be.disabled,be.focused)),V.uIk("for",be.inputId)("data-pc-section","label"),V.xp6(1),V.hij(" ",be.label,"")}}const it=function(pe,me,be){return{"p-checkbox p-component":!0,"p-checkbox-checked":pe,"p-checkbox-disabled":me,"p-checkbox-focused":be}},wt=function(pe,me,be){return{"p-highlight":pe,"p-disabled":me,"p-focus":be}},ut={provide:b.JU,useExisting:(0,V.Gpc)(()=>oe),multi:!0};let oe=(()=>{class pe{cd;value;name;disabled;binary;label;ariaLabelledBy;ariaLabel;tabindex;inputId;style;styleClass;labelStyleClass;formControl;checkboxIcon;readonly;required;trueValue=!0;falseValue=!1;onChange=new V.vpe;inputViewChild;templates;checkboxIconTemplate;model;onModelChange=()=>{};onModelTouched=()=>{};focused=!1;constructor(be){this.cd=be}ngAfterContentInit(){this.templates.forEach(be=>{"icon"===be.getType()&&(this.checkboxIconTemplate=be.template)})}onClick(be){if(!this.disabled&&!this.readonly){let ve;this.inputViewChild.nativeElement.focus(),this.binary?(ve=this.checked()?this.falseValue:this.trueValue,this.model=ve,this.onModelChange(ve)):(ve=this.checked()?this.model.filter(tt=>!W.gb.equals(tt,this.value)):this.model?[...this.model,this.value]:[this.value],this.onModelChange(ve),this.model=ve,this.formControl&&this.formControl.setValue(ve)),this.onChange.emit({checked:ve,originalEvent:be})}}onFocus(){this.focused=!0}onBlur(){this.focused=!1,this.onModelTouched()}writeValue(be){this.model=be,this.cd.markForCheck()}registerOnChange(be){this.onModelChange=be}registerOnTouched(be){this.onModelTouched=be}setDisabledState(be){this.disabled=be,this.cd.markForCheck()}checked(){return this.binary?this.model===this.trueValue:W.gb.contains(this.value,this.model)}static \u0275fac=function(ve){return new(ve||pe)(V.Y36(V.sBO))};static \u0275cmp=V.Xpm({type:pe,selectors:[["p-checkbox"]],contentQueries:function(ve,tt,ge){if(1&ve&&V.Suo(ge,Ce.jx,4),2&ve){let Lt;V.iGM(Lt=V.CRH())&&(tt.templates=Lt)}},viewQuery:function(ve,tt){if(1&ve&&V.Gf(ue,5),2&ve){let ge;V.iGM(ge=V.CRH())&&(tt.inputViewChild=ge.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",name:"name",disabled:"disabled",binary:"binary",label:"label",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",tabindex:"tabindex",inputId:"inputId",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass",formControl:"formControl",checkboxIcon:"checkboxIcon",readonly:"readonly",required:"required",trueValue:"trueValue",falseValue:"falseValue"},outputs:{onChange:"onChange"},features:[V._Bn([ut])],decls:7,vars:35,consts:[[3,"ngStyle","ngClass","click"],[1,"p-hidden-accessible"],["type","checkbox",3,"value","checked","disabled","readonly","focus","blur"],["input",""],[1,"p-checkbox-box",3,"ngClass"],[4,"ngIf"],[3,"class","ngClass","click",4,"ngIf"],["class","p-checkbox-icon",4,"ngIf"],["class","p-checkbox-icon",3,"ngClass",4,"ngIf"],[3,"styleClass",4,"ngIf"],[1,"p-checkbox-icon",3,"ngClass"],[3,"styleClass"],[1,"p-checkbox-icon"],[4,"ngTemplateOutlet"],[3,"ngClass","click"]],template:function(ve,tt){1&ve&&(V.TgZ(0,"div",0),V.NdJ("click",function(Lt){return tt.onClick(Lt)}),V.TgZ(1,"div",1)(2,"input",2,3),V.NdJ("focus",function(){return tt.onFocus()})("blur",function(){return tt.onBlur()}),V.qZA()(),V.TgZ(4,"div",4),V.YNc(5,lt,3,2,"ng-container",5),V.qZA()(),V.YNc(6,rt,2,10,"label",6)),2&ve&&(V.Tol(tt.styleClass),V.Q6J("ngStyle",tt.style)("ngClass",V.kEZ(27,it,tt.checked(),tt.disabled,tt.focused)),V.uIk("data-pc-name","checkbox")("data-pc-section","root"),V.xp6(1),V.uIk("data-pc-section","hiddenInputWrapper")("data-p-hidden-accessible",!0),V.xp6(1),V.Q6J("value",tt.value)("checked",tt.checked())("disabled",tt.disabled)("readonly",tt.readonly),V.uIk("id",tt.inputId)("name",tt.name)("tabindex",tt.tabindex)("required",tt.required)("aria-labelledby",tt.ariaLabelledBy)("aria-label",tt.ariaLabel)("aria-checked",tt.checked())("data-pc-section","hiddenInput"),V.xp6(2),V.Q6J("ngClass",V.kEZ(31,wt,tt.checked(),tt.disabled,tt.focused)),V.uIk("data-p-highlight",tt.checked())("data-p-disabled",tt.disabled)("data-p-focused",tt.focused)("data-pc-section","input"),V.xp6(1),V.Q6J("ngIf",tt.checked()),V.xp6(1),V.Q6J("ngIf",tt.label))},dependencies:function(){return[p.mk,p.O5,p.tP,p.PC,Y]},styles:["@layer primeng{.p-checkbox{display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;vertical-align:bottom;position:relative}.p-checkbox-disabled{cursor:default!important;pointer-events:none}.p-checkbox-box{display:flex;justify-content:center;align-items:center}p-checkbox{display:inline-flex;vertical-align:bottom;align-items:center}.p-checkbox-label{line-height:1}}\n"],encapsulation:2,changeDetection:0})}return pe})(),Me=(()=>{class pe{static \u0275fac=function(ve){return new(ve||pe)};static \u0275mod=V.oAB({type:pe});static \u0275inj=V.cJS({imports:[p.ez,Y,Ce.m8]})}return pe})()},2076:(Mt,He,U)=>{U.d(He,{V:()=>V,p:()=>p});let p=(()=>{class b{static zindex=1e3;static calculatedScrollbarWidth=null;static calculatedScrollbarHeight=null;static browser;static addClass($,Y){$&&Y&&($.classList?$.classList.add(Y):$.className+=" "+Y)}static addMultipleClasses($,Y){if($&&Y)if($.classList){let W=Y.trim().split(" ");for(let ue=0;ue<W.length;ue++)$.classList.add(W[ue])}else{let W=Y.split(" ");for(let ue=0;ue<W.length;ue++)$.className+=" "+W[ue]}}static removeClass($,Y){$&&Y&&($.classList?$.classList.remove(Y):$.className=$.className.replace(new RegExp("(^|\\b)"+Y.split(" ").join("|")+"(\\b|$)","gi")," "))}static removeMultipleClasses($,Y){$&&Y&&[Y].flat().filter(Boolean).forEach(W=>W.split(" ").forEach(ue=>this.removeClass($,ue)))}static hasClass($,Y){return!(!$||!Y)&&($.classList?$.classList.contains(Y):new RegExp("(^| )"+Y+"( |$)","gi").test($.className))}static siblings($){return Array.prototype.filter.call($.parentNode.children,function(Y){return Y!==$})}static find($,Y){return Array.from($.querySelectorAll(Y))}static findSingle($,Y){return this.isElement($)?$.querySelector(Y):null}static index($){let Y=$.parentNode.childNodes,W=0;for(var ue=0;ue<Y.length;ue++){if(Y[ue]==$)return W;1==Y[ue].nodeType&&W++}return-1}static indexWithinGroup($,Y){let W=$.parentNode?$.parentNode.childNodes:[],ue=0;for(var de=0;de<W.length;de++){if(W[de]==$)return ue;W[de].attributes&&W[de].attributes[Y]&&1==W[de].nodeType&&ue++}return-1}static appendOverlay($,Y,W="self"){"self"!==W&&$&&Y&&this.appendChild($,Y)}static alignOverlay($,Y,W="self",ue=!0){$&&Y&&(ue&&($.style.minWidth=`${b.getOuterWidth(Y)}px`),"self"===W?this.relativePosition($,Y):this.absolutePosition($,Y))}static relativePosition($,Y){const W=ut=>{if(ut)return"relative"===getComputedStyle(ut).getPropertyValue("position")?ut:W(ut.parentElement)},ue=$.offsetParent?{width:$.offsetWidth,height:$.offsetHeight}:this.getHiddenElementDimensions($),de=Y.offsetHeight,J=Y.getBoundingClientRect(),ae=this.getWindowScrollTop(),ye=this.getWindowScrollLeft(),je=this.getViewport(),lt=W($)?.getBoundingClientRect()||{top:-1*ae,left:-1*ye};let Xe,rt;J.top+de+ue.height>je.height?(Xe=J.top-lt.top-ue.height,$.style.transformOrigin="bottom",J.top+Xe<0&&(Xe=-1*J.top)):(Xe=de+J.top-lt.top,$.style.transformOrigin="top");const it=J.left+ue.width-je.width;rt=ue.width>je.width?-1*(J.left-lt.left):it>0?J.left-lt.left-it:J.left-lt.left,$.style.top=Xe+"px",$.style.left=rt+"px"}static absolutePosition($,Y){const W=$.offsetParent?{width:$.offsetWidth,height:$.offsetHeight}:this.getHiddenElementDimensions($),ue=W.height,de=W.width,J=Y.offsetHeight,ae=Y.offsetWidth,ye=Y.getBoundingClientRect(),je=this.getWindowScrollTop(),Ke=this.getWindowScrollLeft(),lt=this.getViewport();let Xe,rt;ye.top+J+ue>lt.height?(Xe=ye.top+je-ue,$.style.transformOrigin="bottom",Xe<0&&(Xe=je)):(Xe=J+ye.top+je,$.style.transformOrigin="top"),rt=ye.left+de>lt.width?Math.max(0,ye.left+Ke+ae-de):ye.left+Ke,$.style.top=Xe+"px",$.style.left=rt+"px"}static getParents($,Y=[]){return null===$.parentNode?Y:this.getParents($.parentNode,Y.concat([$.parentNode]))}static getScrollableParents($){let Y=[];if($){let W=this.getParents($);const ue=/(auto|scroll)/,de=J=>{let ae=window.getComputedStyle(J,null);return ue.test(ae.getPropertyValue("overflow"))||ue.test(ae.getPropertyValue("overflowX"))||ue.test(ae.getPropertyValue("overflowY"))};for(let J of W){let ae=1===J.nodeType&&J.dataset.scrollselectors;if(ae){let ye=ae.split(",");for(let je of ye){let Ke=this.findSingle(J,je);Ke&&de(Ke)&&Y.push(Ke)}}9!==J.nodeType&&de(J)&&Y.push(J)}}return Y}static getHiddenElementOuterHeight($){$.style.visibility="hidden",$.style.display="block";let Y=$.offsetHeight;return $.style.display="none",$.style.visibility="visible",Y}static getHiddenElementOuterWidth($){$.style.visibility="hidden",$.style.display="block";let Y=$.offsetWidth;return $.style.display="none",$.style.visibility="visible",Y}static getHiddenElementDimensions($){let Y={};return $.style.visibility="hidden",$.style.display="block",Y.width=$.offsetWidth,Y.height=$.offsetHeight,$.style.display="none",$.style.visibility="visible",Y}static scrollInView($,Y){let W=getComputedStyle($).getPropertyValue("borderTopWidth"),ue=W?parseFloat(W):0,de=getComputedStyle($).getPropertyValue("paddingTop"),J=de?parseFloat(de):0,ae=$.getBoundingClientRect(),je=Y.getBoundingClientRect().top+document.body.scrollTop-(ae.top+document.body.scrollTop)-ue-J,Ke=$.scrollTop,lt=$.clientHeight,Xe=this.getOuterHeight(Y);je<0?$.scrollTop=Ke+je:je+Xe>lt&&($.scrollTop=Ke+je-lt+Xe)}static fadeIn($,Y){$.style.opacity=0;let W=+new Date,ue=0,de=function(){ue=+$.style.opacity.replace(",",".")+((new Date).getTime()-W)/Y,$.style.opacity=ue,W=+new Date,+ue<1&&(window.requestAnimationFrame&&requestAnimationFrame(de)||setTimeout(de,16))};de()}static fadeOut($,Y){var W=1,J=50/Y;let ae=setInterval(()=>{(W-=J)<=0&&(W=0,clearInterval(ae)),$.style.opacity=W},50)}static getWindowScrollTop(){let $=document.documentElement;return(window.pageYOffset||$.scrollTop)-($.clientTop||0)}static getWindowScrollLeft(){let $=document.documentElement;return(window.pageXOffset||$.scrollLeft)-($.clientLeft||0)}static matches($,Y){var W=Element.prototype;return(W.matches||W.webkitMatchesSelector||W.mozMatchesSelector||W.msMatchesSelector||function(de){return-1!==[].indexOf.call(document.querySelectorAll(de),this)}).call($,Y)}static getOuterWidth($,Y){let W=$.offsetWidth;if(Y){let ue=getComputedStyle($);W+=parseFloat(ue.marginLeft)+parseFloat(ue.marginRight)}return W}static getHorizontalPadding($){let Y=getComputedStyle($);return parseFloat(Y.paddingLeft)+parseFloat(Y.paddingRight)}static getHorizontalMargin($){let Y=getComputedStyle($);return parseFloat(Y.marginLeft)+parseFloat(Y.marginRight)}static innerWidth($){let Y=$.offsetWidth,W=getComputedStyle($);return Y+=parseFloat(W.paddingLeft)+parseFloat(W.paddingRight),Y}static width($){let Y=$.offsetWidth,W=getComputedStyle($);return Y-=parseFloat(W.paddingLeft)+parseFloat(W.paddingRight),Y}static getInnerHeight($){let Y=$.offsetHeight,W=getComputedStyle($);return Y+=parseFloat(W.paddingTop)+parseFloat(W.paddingBottom),Y}static getOuterHeight($,Y){let W=$.offsetHeight;if(Y){let ue=getComputedStyle($);W+=parseFloat(ue.marginTop)+parseFloat(ue.marginBottom)}return W}static getHeight($){let Y=$.offsetHeight,W=getComputedStyle($);return Y-=parseFloat(W.paddingTop)+parseFloat(W.paddingBottom)+parseFloat(W.borderTopWidth)+parseFloat(W.borderBottomWidth),Y}static getWidth($){let Y=$.offsetWidth,W=getComputedStyle($);return Y-=parseFloat(W.paddingLeft)+parseFloat(W.paddingRight)+parseFloat(W.borderLeftWidth)+parseFloat(W.borderRightWidth),Y}static getViewport(){let $=window,Y=document,W=Y.documentElement,ue=Y.getElementsByTagName("body")[0];return{width:$.innerWidth||W.clientWidth||ue.clientWidth,height:$.innerHeight||W.clientHeight||ue.clientHeight}}static getOffset($){var Y=$.getBoundingClientRect();return{top:Y.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:Y.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith($,Y){let W=$.parentNode;if(!W)throw"Can't replace element";return W.replaceChild(Y,$)}static getUserAgent(){if(navigator&&this.isClient())return navigator.userAgent}static isIE(){var $=window.navigator.userAgent;return $.indexOf("MSIE ")>0||($.indexOf("Trident/")>0?($.indexOf("rv:"),!0):$.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild($,Y){if(this.isElement(Y))Y.appendChild($);else{if(!(Y&&Y.el&&Y.el.nativeElement))throw"Cannot append "+Y+" to "+$;Y.el.nativeElement.appendChild($)}}static removeChild($,Y){if(this.isElement(Y))Y.removeChild($);else{if(!Y.el||!Y.el.nativeElement)throw"Cannot remove "+$+" from "+Y;Y.el.nativeElement.removeChild($)}}static removeElement($){"remove"in Element.prototype?$.remove():$.parentNode.removeChild($)}static isElement($){return"object"==typeof HTMLElement?$ instanceof HTMLElement:$&&"object"==typeof $&&null!==$&&1===$.nodeType&&"string"==typeof $.nodeName}static calculateScrollbarWidth($){if($){let Y=getComputedStyle($);return $.offsetWidth-$.clientWidth-parseFloat(Y.borderLeftWidth)-parseFloat(Y.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let Y=document.createElement("div");Y.className="p-scrollbar-measure",document.body.appendChild(Y);let W=Y.offsetWidth-Y.clientWidth;return document.body.removeChild(Y),this.calculatedScrollbarWidth=W,W}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let $=document.createElement("div");$.className="p-scrollbar-measure",document.body.appendChild($);let Y=$.offsetHeight-$.clientHeight;return document.body.removeChild($),this.calculatedScrollbarWidth=Y,Y}static invokeElementMethod($,Y,W){$[Y].apply($,W)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let $=this.resolveUserAgent();this.browser={},$.browser&&(this.browser[$.browser]=!0,this.browser.version=$.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let $=navigator.userAgent.toLowerCase(),Y=/(chrome)[ \/]([\w.]+)/.exec($)||/(webkit)[ \/]([\w.]+)/.exec($)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec($)||/(msie) ([\w.]+)/.exec($)||$.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec($)||[];return{browser:Y[1]||"",version:Y[2]||"0"}}static isInteger($){return Number.isInteger?Number.isInteger($):"number"==typeof $&&isFinite($)&&Math.floor($)===$}static isHidden($){return!$||null===$.offsetParent}static isVisible($){return $&&null!=$.offsetParent}static isExist($){return null!==$&&typeof $<"u"&&$.nodeName&&$.parentNode}static focus($,Y){$&&document.activeElement!==$&&$.focus(Y)}static getFocusableElements($,Y=""){let W=this.find($,`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${Y},\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${Y},\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${Y},\n                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${Y},\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${Y},\n                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${Y},\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${Y}`),ue=[];for(let de of W)"none"!=getComputedStyle(de).display&&"hidden"!=getComputedStyle(de).visibility&&ue.push(de);return ue}static getFirstFocusableElement($,Y){const W=this.getFocusableElements($,Y);return W.length>0?W[0]:null}static getLastFocusableElement($,Y){const W=this.getFocusableElements($,Y);return W.length>0?W[W.length-1]:null}static getNextFocusableElement($,Y=!1){const W=b.getFocusableElements($);let ue=0;if(W&&W.length>0){const de=W.indexOf(W[0].ownerDocument.activeElement);Y?ue=-1==de||0===de?W.length-1:de-1:-1!=de&&de!==W.length-1&&(ue=de+1)}return W[ue]}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}static getSelection(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null}static getTargetElement($,Y){if(!$)return null;switch($){case"document":return document;case"window":return window;case"@next":return Y?.nextElementSibling;case"@prev":return Y?.previousElementSibling;case"@parent":return Y?.parentElement;case"@grandparent":return Y?.parentElement.parentElement;default:const W=typeof $;if("string"===W)return document.querySelector($);if("object"===W&&$.hasOwnProperty("nativeElement"))return this.isExist($.nativeElement)?$.nativeElement:void 0;const de=(J=$)&&J.constructor&&J.call&&J.apply?$():$;return de&&9===de.nodeType||this.isExist(de)?de:null}var J}static isClient(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}static getAttribute($,Y){if($){const W=$.getAttribute(Y);return isNaN(W)?"true"===W||"false"===W?"true"===W:W:+W}}static calculateBodyScrollbarWidth(){return window.innerWidth-document.documentElement.offsetWidth}static blockBodyScroll($="p-overflow-hidden"){document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,$)}static unblockBodyScroll($="p-overflow-hidden"){document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,$)}}return b})();class V{element;listener;scrollableParents;constructor(Ce,$=(()=>{})){this.element=Ce,this.listener=$}bindScrollListener(){this.scrollableParents=p.getScrollableParents(this.element);for(let Ce=0;Ce<this.scrollableParents.length;Ce++)this.scrollableParents[Ce].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let Ce=0;Ce<this.scrollableParents.length;Ce++)this.scrollableParents[Ce].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}},3714:(Mt,He,U)=>{U.d(He,{j:()=>$,o:()=>Ce});var p=U(5879),V=U(6814),b=U(95);let Ce=(()=>{class Y{el;ngModel;cd;filled;constructor(ue,de,J){this.el=ue,this.ngModel=de,this.cd=J}ngAfterViewInit(){this.updateFilledState(),this.cd.detectChanges()}ngDoCheck(){this.updateFilledState()}onInput(){this.updateFilledState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model}static \u0275fac=function(de){return new(de||Y)(p.Y36(p.SBq),p.Y36(b.On,8),p.Y36(p.sBO))};static \u0275dir=p.lG2({type:Y,selectors:[["","pInputText",""]],hostAttrs:[1,"p-inputtext","p-component","p-element"],hostVars:2,hostBindings:function(de,J){1&de&&p.NdJ("input",function(ye){return J.onInput(ye)}),2&de&&p.ekj("p-filled",J.filled)}})}return Y})(),$=(()=>{class Y{static \u0275fac=function(de){return new(de||Y)};static \u0275mod=p.oAB({type:Y});static \u0275inj=p.cJS({imports:[V.ez]})}return Y})()},8516:(Mt,He,U)=>{U.d(He,{W6:()=>fr});var p=U(6814),V=U(5879),b=U(3781),Ce=U(5219),$=U(4713);let Y=(()=>{class Ze extends $.s{static \u0275fac=function(){let Pe;return function(qe){return(Pe||(Pe=V.n5z(Ze)))(qe||Ze)}}();static \u0275cmp=V.Xpm({type:Ze,selectors:[["AngleDownIcon"]],standalone:!0,features:[V.qOj,V.jDz],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M3.58659 4.5007C3.68513 4.50023 3.78277 4.51945 3.87379 4.55723C3.9648 4.59501 4.04735 4.65058 4.11659 4.7207L7.11659 7.7207L10.1166 4.7207C10.2619 4.65055 10.4259 4.62911 10.5843 4.65956C10.7427 4.69002 10.8871 4.77074 10.996 4.88976C11.1049 5.00877 11.1726 5.15973 11.1889 5.32022C11.2052 5.48072 11.1693 5.6422 11.0866 5.7807L7.58659 9.2807C7.44597 9.42115 7.25534 9.50004 7.05659 9.50004C6.85784 9.50004 6.66722 9.42115 6.52659 9.2807L3.02659 5.7807C2.88614 5.64007 2.80725 5.44945 2.80725 5.2507C2.80725 5.05195 2.88614 4.86132 3.02659 4.7207C3.09932 4.64685 3.18675 4.58911 3.28322 4.55121C3.37969 4.51331 3.48305 4.4961 3.58659 4.5007Z","fill","currentColor"]],template:function($e,qe){1&$e&&(V.O4$(),V.TgZ(0,"svg",0),V._UZ(1,"path",1),V.qZA()),2&$e&&(V.Tol(qe.getClassNames()),V.uIk("aria-label",qe.ariaLabel)("aria-hidden",qe.ariaHidden)("role",qe.role))},encapsulation:2})}return Ze})(),W=(()=>{class Ze extends $.s{static \u0275fac=function(){let Pe;return function(qe){return(Pe||(Pe=V.n5z(Ze)))(qe||Ze)}}();static \u0275cmp=V.Xpm({type:Ze,selectors:[["AngleRightIcon"]],standalone:!0,features:[V.qOj,V.jDz],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M5.25 11.1728C5.14929 11.1694 5.05033 11.1455 4.9592 11.1025C4.86806 11.0595 4.78666 10.9984 4.72 10.9228C4.57955 10.7822 4.50066 10.5916 4.50066 10.3928C4.50066 10.1941 4.57955 10.0035 4.72 9.86283L7.72 6.86283L4.72 3.86283C4.66067 3.71882 4.64765 3.55991 4.68275 3.40816C4.71785 3.25642 4.79932 3.11936 4.91585 3.01602C5.03238 2.91268 5.17819 2.84819 5.33305 2.83149C5.4879 2.81479 5.64411 2.84671 5.78 2.92283L9.28 6.42283C9.42045 6.56346 9.49934 6.75408 9.49934 6.95283C9.49934 7.15158 9.42045 7.34221 9.28 7.48283L5.78 10.9228C5.71333 10.9984 5.63193 11.0595 5.5408 11.1025C5.44966 11.1455 5.35071 11.1694 5.25 11.1728Z","fill","currentColor"]],template:function($e,qe){1&$e&&(V.O4$(),V.TgZ(0,"svg",0),V._UZ(1,"path",1),V.qZA()),2&$e&&(V.Tol(qe.getClassNames()),V.uIk("aria-label",qe.ariaLabel)("aria-hidden",qe.ariaHidden)("role",qe.role))},encapsulation:2})}return Ze})(),ue=(()=>{class Ze extends $.s{static \u0275fac=function(){let Pe;return function(qe){return(Pe||(Pe=V.n5z(Ze)))(qe||Ze)}}();static \u0275cmp=V.Xpm({type:Ze,selectors:[["BarsIcon"]],standalone:!0,features:[V.qOj,V.jDz],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M13.3226 3.6129H0.677419C0.497757 3.6129 0.325452 3.54152 0.198411 3.41448C0.0713707 3.28744 0 3.11514 0 2.93548C0 2.75581 0.0713707 2.58351 0.198411 2.45647C0.325452 2.32943 0.497757 2.25806 0.677419 2.25806H13.3226C13.5022 2.25806 13.6745 2.32943 13.8016 2.45647C13.9286 2.58351 14 2.75581 14 2.93548C14 3.11514 13.9286 3.28744 13.8016 3.41448C13.6745 3.54152 13.5022 3.6129 13.3226 3.6129ZM13.3226 7.67741H0.677419C0.497757 7.67741 0.325452 7.60604 0.198411 7.479C0.0713707 7.35196 0 7.17965 0 6.99999C0 6.82033 0.0713707 6.64802 0.198411 6.52098C0.325452 6.39394 0.497757 6.32257 0.677419 6.32257H13.3226C13.5022 6.32257 13.6745 6.39394 13.8016 6.52098C13.9286 6.64802 14 6.82033 14 6.99999C14 7.17965 13.9286 7.35196 13.8016 7.479C13.6745 7.60604 13.5022 7.67741 13.3226 7.67741ZM0.677419 11.7419H13.3226C13.5022 11.7419 13.6745 11.6706 13.8016 11.5435C13.9286 11.4165 14 11.2442 14 11.0645C14 10.8848 13.9286 10.7125 13.8016 10.5855C13.6745 10.4585 13.5022 10.3871 13.3226 10.3871H0.677419C0.497757 10.3871 0.325452 10.4585 0.198411 10.5855C0.0713707 10.7125 0 10.8848 0 11.0645C0 11.2442 0.0713707 11.4165 0.198411 11.5435C0.325452 11.6706 0.497757 11.7419 0.677419 11.7419Z","fill","currentColor"]],template:function($e,qe){1&$e&&(V.O4$(),V.TgZ(0,"svg",0),V._UZ(1,"path",1),V.qZA()),2&$e&&(V.Tol(qe.getClassNames()),V.uIk("aria-label",qe.ariaLabel)("aria-hidden",qe.ariaHidden)("role",qe.role))},encapsulation:2})}return Ze})();var de=U(4480);let ae=(()=>{class Ze{static \u0275fac=function($e){return new($e||Ze)};static \u0275mod=V.oAB({type:Ze});static \u0275inj=V.cJS({imports:[p.ez]})}return Ze})(),fr=(()=>{class Ze{static \u0275fac=function($e){return new($e||Ze)};static \u0275mod=V.oAB({type:Ze});static \u0275inj=V.cJS({imports:[p.ez,b.Bz,de.T,ae,Ce.m8,ue,Y,W,b.Bz,ae,Ce.m8]})}return Ze})()},734:(Mt,He,U)=>{U.d(He,{T:()=>ut,y:()=>oe});var p=U(6825),V=U(6814),b=U(5879),Ce=U(5219),$=U(2076),Y=U(4713);let W=(()=>{class Me extends Y.s{static \u0275fac=function(){let me;return function(ve){return(me||(me=b.n5z(Me)))(ve||Me)}}();static \u0275cmp=b.Xpm({type:Me,selectors:[["TimesIcon"]],standalone:!0,features:[b.qOj,b.jDz],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z","fill","currentColor"]],template:function(be,ve){1&be&&(b.O4$(),b.TgZ(0,"svg",0),b._UZ(1,"path",1),b.qZA()),2&be&&(b.Tol(ve.getClassNames()),b.uIk("aria-label",ve.ariaLabel)("aria-hidden",ve.ariaHidden)("role",ve.role))},encapsulation:2})}return Me})();var ue=U(4480),de=U(2332);function J(Me,pe){1&Me&&b.GkF(0)}function ae(Me,pe){1&Me&&b._UZ(0,"TimesIcon",8),2&Me&&b.Q6J("styleClass","p-overlaypanel-close-icon")}function ye(Me,pe){}function je(Me,pe){1&Me&&b.YNc(0,ye,0,0,"ng-template")}function Ke(Me,pe){if(1&Me&&(b.TgZ(0,"span",9),b.YNc(1,je,1,0,null,3),b.qZA()),2&Me){const me=b.oxw(3);b.xp6(1),b.Q6J("ngTemplateOutlet",me.closeIconTemplate)}}function lt(Me,pe){if(1&Me){const me=b.EpF();b.TgZ(0,"button",5),b.NdJ("click",function(ve){b.CHM(me);const tt=b.oxw(2);return b.KtG(tt.onCloseClick(ve))})("keydown.enter",function(){b.CHM(me);const ve=b.oxw(2);return b.KtG(ve.hide())}),b.YNc(1,ae,1,1,"TimesIcon",6),b.YNc(2,Ke,2,1,"span",7),b.qZA()}if(2&Me){const me=b.oxw(2);b.uIk("aria-label",me.ariaCloseLabel),b.xp6(1),b.Q6J("ngIf",!me.closeIconTemplate),b.xp6(1),b.Q6J("ngIf",me.closeIconTemplate)}}const Xe=function(Me,pe){return{showTransitionParams:Me,hideTransitionParams:pe}},rt=function(Me,pe){return{value:Me,params:pe}};function it(Me,pe){if(1&Me){const me=b.EpF();b.TgZ(0,"div",1),b.NdJ("click",function(ve){b.CHM(me);const tt=b.oxw();return b.KtG(tt.onOverlayClick(ve))})("@animation.start",function(ve){b.CHM(me);const tt=b.oxw();return b.KtG(tt.onAnimationStart(ve))})("@animation.done",function(ve){b.CHM(me);const tt=b.oxw();return b.KtG(tt.onAnimationEnd(ve))}),b.TgZ(1,"div",2),b.NdJ("click",function(){b.CHM(me);const ve=b.oxw();return b.KtG(ve.onContentClick())})("mousedown",function(){b.CHM(me);const ve=b.oxw();return b.KtG(ve.onContentClick())}),b.Hsn(2),b.YNc(3,J,1,0,"ng-container",3),b.qZA(),b.YNc(4,lt,3,3,"button",4),b.qZA()}if(2&Me){const me=b.oxw();b.Tol(me.styleClass),b.Q6J("ngClass","p-overlaypanel p-component")("ngStyle",me.style)("@animation",b.WLB(11,rt,me.overlayVisible?"open":"close",b.WLB(8,Xe,me.showTransitionOptions,me.hideTransitionOptions))),b.uIk("aria-modal",me.overlayVisible),b.xp6(3),b.Q6J("ngTemplateOutlet",me.contentTemplate),b.xp6(1),b.Q6J("ngIf",me.showCloseIcon)}}const wt=["*"];let ut=(()=>{class Me{document;platformId;el;renderer;cd;zone;config;overlayService;dismissable=!0;showCloseIcon;style;styleClass;appendTo="body";autoZIndex=!0;ariaCloseLabel;baseZIndex=0;focusOnShow=!0;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";onShow=new b.vpe;onHide=new b.vpe;templates;container;overlayVisible=!1;render=!1;isOverlayAnimationInProgress=!1;selfClick=!1;documentClickListener;target;willHide;scrollHandler;documentResizeListener;contentTemplate;closeIconTemplate;destroyCallback;overlayEventListener;overlaySubscription;constructor(me,be,ve,tt,ge,Lt,pt,st){this.document=me,this.platformId=be,this.el=ve,this.renderer=tt,this.cd=ge,this.zone=Lt,this.config=pt,this.overlayService=st}ngAfterContentInit(){this.templates?.forEach(me=>{switch(me.getType()){case"content":default:this.contentTemplate=me.template;break;case"closeicon":this.closeIconTemplate=me.template}this.cd.markForCheck()})}bindDocumentClickListener(){if((0,V.NF)(this.platformId)&&!this.documentClickListener&&this.dismissable){let me=$.p.isIOS()?"touchstart":"click";this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:this.document,me,ve=>{!this.container?.contains(ve.target)&&this.target!==ve.target&&!this.target.contains(ve.target)&&this.hide(),this.cd.markForCheck()})}}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null,this.selfClick=!1)}toggle(me,be){this.isOverlayAnimationInProgress||(this.overlayVisible?(this.hasTargetChanged(me,be)&&(this.destroyCallback=()=>{this.show(null,be||me.currentTarget||me.target)}),this.hide()):this.show(me,be))}show(me,be){be&&me&&me.stopPropagation(),!this.isOverlayAnimationInProgress&&(this.target=be||me.currentTarget||me.target,this.overlayVisible=!0,this.render=!0,this.cd.markForCheck())}onOverlayClick(me){this.overlayService.add({originalEvent:me,target:this.el.nativeElement}),this.selfClick=!0}onContentClick(){this.selfClick=!0}hasTargetChanged(me,be){return null!=this.target&&this.target!==(be||me.currentTarget||me.target)}appendContainer(){this.appendTo&&("body"===this.appendTo?this.renderer.appendChild(this.document.body,this.container):$.p.appendChild(this.container,this.appendTo))}restoreAppend(){this.container&&this.appendTo&&this.renderer.appendChild(this.el.nativeElement,this.container)}align(){this.autoZIndex&&de.P9.set("overlay",this.container,this.baseZIndex+this.config.zIndex.overlay),$.p.absolutePosition(this.container,this.target);const me=$.p.getOffset(this.container),be=$.p.getOffset(this.target),ve=this.document.defaultView?.getComputedStyle(this.container).getPropertyValue("border-radius");let tt=0;me.left<be.left&&(tt=be.left-me.left-2*parseFloat(ve)),this.container?.style.setProperty("--overlayArrowLeft",`${tt}px`),me.top<be.top&&($.p.addClass(this.container,"p-overlaypanel-flipped"),this.showCloseIcon&&this.renderer.setStyle(this.container,"margin-top","-30px"))}onAnimationStart(me){"open"===me.toState&&(this.container=me.element,this.appendContainer(),this.align(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.focusOnShow&&this.focus(),this.overlayEventListener=be=>{this.container&&this.container.contains(be.target)&&(this.selfClick=!0)},this.overlaySubscription=this.overlayService.clickObservable.subscribe(this.overlayEventListener),this.onShow.emit(null)),this.isOverlayAnimationInProgress=!0}onAnimationEnd(me){switch(me.toState){case"void":this.destroyCallback&&(this.destroyCallback(),this.destroyCallback=null),this.overlaySubscription&&this.overlaySubscription.unsubscribe();break;case"close":this.autoZIndex&&de.P9.clear(this.container),this.overlaySubscription&&this.overlaySubscription.unsubscribe(),this.onContainerDestroy(),this.onHide.emit({}),this.render=!1}this.isOverlayAnimationInProgress=!1}focus(){let me=$.p.findSingle(this.container,"[autofocus]");me&&this.zone.runOutsideAngular(()=>{setTimeout(()=>me.focus(),5)})}hide(){this.overlayVisible=!1,this.cd.markForCheck()}onCloseClick(me){this.hide(),me.preventDefault()}onEscapeKeydown(me){this.hide()}onWindowResize(){this.overlayVisible&&!$.p.isTouchDevice()&&this.hide()}bindDocumentResizeListener(){(0,V.NF)(this.platformId)&&!this.documentResizeListener&&(this.documentResizeListener=this.renderer.listen(this.document.defaultView,"resize",this.onWindowResize.bind(this)))}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindScrollListener(){(0,V.NF)(this.platformId)&&(this.scrollHandler||(this.scrollHandler=new $.V(this.target,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener())}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}onContainerDestroy(){this.cd.destroyed||(this.target=null),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener()}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.container&&this.autoZIndex&&de.P9.clear(this.container),this.cd.destroyed||(this.target=null),this.destroyCallback=null,this.container&&(this.restoreAppend(),this.onContainerDestroy()),this.overlaySubscription&&this.overlaySubscription.unsubscribe()}static \u0275fac=function(be){return new(be||Me)(b.Y36(V.K0),b.Y36(b.Lbi),b.Y36(b.SBq),b.Y36(b.Qsj),b.Y36(b.sBO),b.Y36(b.R0b),b.Y36(Ce.b4),b.Y36(Ce.F0))};static \u0275cmp=b.Xpm({type:Me,selectors:[["p-overlayPanel"]],contentQueries:function(be,ve,tt){if(1&be&&b.Suo(tt,Ce.jx,4),2&be){let ge;b.iGM(ge=b.CRH())&&(ve.templates=ge)}},hostAttrs:[1,"p-element"],hostBindings:function(be,ve){1&be&&b.NdJ("keydown.escape",function(ge){return ve.onEscapeKeydown(ge)},!1,b.evT)},inputs:{dismissable:"dismissable",showCloseIcon:"showCloseIcon",style:"style",styleClass:"styleClass",appendTo:"appendTo",autoZIndex:"autoZIndex",ariaCloseLabel:"ariaCloseLabel",baseZIndex:"baseZIndex",focusOnShow:"focusOnShow",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onShow:"onShow",onHide:"onHide"},ngContentSelectors:wt,decls:1,vars:1,consts:[["role","dialog",3,"ngClass","ngStyle","class","click",4,"ngIf"],["role","dialog",3,"ngClass","ngStyle","click"],[1,"p-overlaypanel-content",3,"click","mousedown"],[4,"ngTemplateOutlet"],["type","button","class","p-overlaypanel-close p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],["type","button","pRipple","",1,"p-overlaypanel-close","p-link",3,"click","keydown.enter"],[3,"styleClass",4,"ngIf"],["class","p-overlaypanel-close-icon",4,"ngIf"],[3,"styleClass"],[1,"p-overlaypanel-close-icon"]],template:function(be,ve){1&be&&(b.F$t(),b.YNc(0,it,5,14,"div",0)),2&be&&b.Q6J("ngIf",ve.render)},dependencies:function(){return[V.mk,V.O5,V.tP,V.PC,ue.H,W]},styles:['@layer primeng{.p-overlaypanel{position:absolute;margin-top:10px;top:0;left:0}.p-overlaypanel-flipped{margin-top:0;margin-bottom:10px}.p-overlaypanel-close{display:flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-overlaypanel:after,.p-overlaypanel:before{bottom:100%;left:calc(var(--overlayArrowLeft, 0) + 1.25rem);content:" ";height:0;width:0;position:absolute;pointer-events:none}.p-overlaypanel:after{border-width:8px;margin-left:-8px}.p-overlaypanel:before{border-width:10px;margin-left:-10px}.p-overlaypanel-shifted:after,.p-overlaypanel-shifted:before{left:auto;right:1.25em;margin-left:auto}.p-overlaypanel-flipped:after,.p-overlaypanel-flipped:before{bottom:auto;top:100%}.p-overlaypanel.p-overlaypanel-flipped:after{border-bottom-color:transparent}.p-overlaypanel.p-overlaypanel-flipped:before{border-bottom-color:transparent}}\n'],encapsulation:2,data:{animation:[(0,p.X$)("animation",[(0,p.SB)("void",(0,p.oB)({transform:"scaleY(0.8)",opacity:0})),(0,p.SB)("close",(0,p.oB)({opacity:0})),(0,p.SB)("open",(0,p.oB)({transform:"translateY(0)",opacity:1})),(0,p.eR)("void => open",(0,p.jt)("{{showTransitionParams}}")),(0,p.eR)("open => close",(0,p.jt)("{{hideTransitionParams}}"))])]},changeDetection:0})}return Me})(),oe=(()=>{class Me{static \u0275fac=function(be){return new(be||Me)};static \u0275mod=b.oAB({type:Me});static \u0275inj=b.cJS({imports:[V.ez,ue.T,Ce.m8,W,Ce.m8]})}return Me})()},4480:(Mt,He,U)=>{U.d(He,{H:()=>$,T:()=>Y});var p=U(6814),V=U(5879),b=U(2076),Ce=U(5219);let $=(()=>{class W{document;platformId;renderer;el;zone;config;constructor(de,J,ae,ye,je,Ke){this.document=de,this.platformId=J,this.renderer=ae,this.el=ye,this.zone=je,this.config=Ke}animationListener;mouseDownListener;timeout;ngAfterViewInit(){(0,p.NF)(this.platformId)&&this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.renderer.listen(this.el.nativeElement,"mousedown",this.onMouseDown.bind(this))})}onMouseDown(de){let J=this.getInk();if(!J||"none"===this.document.defaultView?.getComputedStyle(J,null).display)return;if(b.p.removeClass(J,"p-ink-active"),!b.p.getHeight(J)&&!b.p.getWidth(J)){let Ke=Math.max(b.p.getOuterWidth(this.el.nativeElement),b.p.getOuterHeight(this.el.nativeElement));J.style.height=Ke+"px",J.style.width=Ke+"px"}let ae=b.p.getOffset(this.el.nativeElement),ye=de.pageX-ae.left+this.document.body.scrollTop-b.p.getWidth(J)/2,je=de.pageY-ae.top+this.document.body.scrollLeft-b.p.getHeight(J)/2;this.renderer.setStyle(J,"top",je+"px"),this.renderer.setStyle(J,"left",ye+"px"),b.p.addClass(J,"p-ink-active"),this.timeout=setTimeout(()=>{let Ke=this.getInk();Ke&&b.p.removeClass(Ke,"p-ink-active")},401)}getInk(){const de=this.el.nativeElement.children;for(let J=0;J<de.length;J++)if("string"==typeof de[J].className&&-1!==de[J].className.indexOf("p-ink"))return de[J];return null}resetInk(){let de=this.getInk();de&&b.p.removeClass(de,"p-ink-active")}onAnimationEnd(de){this.timeout&&clearTimeout(this.timeout),b.p.removeClass(de.currentTarget,"p-ink-active")}create(){let de=this.renderer.createElement("span");this.renderer.addClass(de,"p-ink"),this.renderer.appendChild(this.el.nativeElement,de),this.renderer.setAttribute(de,"aria-hidden","true"),this.renderer.setAttribute(de,"role","presentation"),this.animationListener||(this.animationListener=this.renderer.listen(de,"animationend",this.onAnimationEnd.bind(this)))}remove(){let de=this.getInk();de&&(this.mouseDownListener&&this.mouseDownListener(),this.animationListener&&this.animationListener(),this.mouseDownListener=null,this.animationListener=null,b.p.removeElement(de))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}static \u0275fac=function(J){return new(J||W)(V.Y36(p.K0),V.Y36(V.Lbi),V.Y36(V.Qsj),V.Y36(V.SBq),V.Y36(V.R0b),V.Y36(Ce.b4,8))};static \u0275dir=V.lG2({type:W,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"]})}return W})(),Y=(()=>{class W{static \u0275fac=function(J){return new(J||W)};static \u0275mod=V.oAB({type:W});static \u0275inj=V.cJS({imports:[p.ez]})}return W})()},2332:(Mt,He,U)=>{U.d(He,{P9:()=>$,Th:()=>b,gb:()=>p});class p{static equals(W,ue,de){return de?this.resolveFieldData(W,de)===this.resolveFieldData(ue,de):this.equalsByValue(W,ue)}static equalsByValue(W,ue){if(W===ue)return!0;if(W&&ue&&"object"==typeof W&&"object"==typeof ue){var ae,ye,je,de=Array.isArray(W),J=Array.isArray(ue);if(de&&J){if((ye=W.length)!=ue.length)return!1;for(ae=ye;0!=ae--;)if(!this.equalsByValue(W[ae],ue[ae]))return!1;return!0}if(de!=J)return!1;var Ke=this.isDate(W),lt=this.isDate(ue);if(Ke!=lt)return!1;if(Ke&&lt)return W.getTime()==ue.getTime();var Xe=W instanceof RegExp,rt=ue instanceof RegExp;if(Xe!=rt)return!1;if(Xe&&rt)return W.toString()==ue.toString();var it=Object.keys(W);if((ye=it.length)!==Object.keys(ue).length)return!1;for(ae=ye;0!=ae--;)if(!Object.prototype.hasOwnProperty.call(ue,it[ae]))return!1;for(ae=ye;0!=ae--;)if(!this.equalsByValue(W[je=it[ae]],ue[je]))return!1;return!0}return W!=W&&ue!=ue}static resolveFieldData(W,ue){if(W&&ue){if(this.isFunction(ue))return ue(W);if(-1==ue.indexOf("."))return W[ue];{let de=ue.split("."),J=W;for(let ae=0,ye=de.length;ae<ye;++ae){if(null==J)return null;J=J[de[ae]]}return J}}return null}static isFunction(W){return!!(W&&W.constructor&&W.call&&W.apply)}static reorderArray(W,ue,de){W&&ue!==de&&(de>=W.length&&(de%=W.length,ue%=W.length),W.splice(de,0,W.splice(ue,1)[0]))}static insertIntoOrderedArray(W,ue,de,J){if(de.length>0){let ae=!1;for(let ye=0;ye<de.length;ye++)if(this.findIndexInList(de[ye],J)>ue){de.splice(ye,0,W),ae=!0;break}ae||de.push(W)}else de.push(W)}static findIndexInList(W,ue){let de=-1;if(ue)for(let J=0;J<ue.length;J++)if(ue[J]==W){de=J;break}return de}static contains(W,ue){if(null!=W&&ue&&ue.length)for(let de of ue)if(this.equals(W,de))return!0;return!1}static removeAccents(W){return W&&W.search(/[\xC0-\xFF]/g)>-1&&(W=W.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),W}static isDate(W){return"[object Date]"===Object.prototype.toString.call(W)}static isEmpty(W){return null==W||""===W||Array.isArray(W)&&0===W.length||!this.isDate(W)&&"object"==typeof W&&0===Object.keys(W).length}static isNotEmpty(W){return!this.isEmpty(W)}static compare(W,ue,de,J=1){let ae=-1;const ye=this.isEmpty(W),je=this.isEmpty(ue);return ae=ye&&je?0:ye?J:je?-J:"string"==typeof W&&"string"==typeof ue?W.localeCompare(ue,de,{numeric:!0}):W<ue?-1:W>ue?1:0,ae}static sort(W,ue,de=1,J,ae=1){return(1===ae?de:ae)*p.compare(W,ue,J,de)}static merge(W,ue){if(null!=W||null!=ue)return null!=W&&"object"!=typeof W||null!=ue&&"object"!=typeof ue?null!=W&&"string"!=typeof W||null!=ue&&"string"!=typeof ue?ue||W:[W||"",ue||""].join(" "):{...W||{},...ue||{}}}static isPrintableCharacter(W=""){return this.isNotEmpty(W)&&1===W.length&&W.match(/\S| /)}static getItemValue(W,...ue){return this.isFunction(W)?W(...ue):W}static findLastIndex(W,ue){let de=-1;if(this.isNotEmpty(W))try{de=W.findLastIndex(ue)}catch{de=W.lastIndexOf([...W].reverse().find(ue))}return de}static findLast(W,ue){let de;if(this.isNotEmpty(W))try{de=W.findLast(ue)}catch{de=[...W].reverse().find(ue)}return de}}var V=0;function b(Y="pn_id_"){return`${Y}${++V}`}var $=function Ce(){let Y=[];const J=ae=>ae&&parseInt(ae.style.zIndex,10)||0;return{get:J,set:(ae,ye,je)=>{ye&&(ye.style.zIndex=String(((ae,ye)=>{let je=Y.length>0?Y[Y.length-1]:{key:ae,value:ye},Ke=je.value+(je.key===ae?0:ye)+2;return Y.push({key:ae,value:Ke}),Ke})(ae,je)))},clear:ae=>{ae&&((ae=>{Y=Y.filter(ye=>ye.value!==ae)})(J(ae)),ae.style.zIndex="")},getCurrent:()=>Y.length>0?Y[Y.length-1].value:0}}()},5861:(Mt,He,U)=>{function p(b,Ce,$,Y,W,ue,de){try{var J=b[ue](de),ae=J.value}catch(ye){return void $(ye)}J.done?Ce(ae):Promise.resolve(ae).then(Y,W)}function V(b){return function(){var Ce=this,$=arguments;return new Promise(function(Y,W){var ue=b.apply(Ce,$);function de(ae){p(ue,Y,W,de,J,"next",ae)}function J(ae){p(ue,Y,W,de,J,"throw",ae)}de(void 0)})}}U.d(He,{Z:()=>V})},7582:(Mt,He,U)=>{function Ce(Se,Ne){var Ge={};for(var ke in Se)Object.prototype.hasOwnProperty.call(Se,ke)&&Ne.indexOf(ke)<0&&(Ge[ke]=Se[ke]);if(null!=Se&&"function"==typeof Object.getOwnPropertySymbols){var We=0;for(ke=Object.getOwnPropertySymbols(Se);We<ke.length;We++)Ne.indexOf(ke[We])<0&&Object.prototype.propertyIsEnumerable.call(Se,ke[We])&&(Ge[ke[We]]=Se[ke[We]])}return Ge}function ye(Se,Ne,Ge,ke){return new(Ge||(Ge=Promise))(function(at,Tt){function ft(Nn){try{on(ke.next(Nn))}catch(un){Tt(un)}}function En(Nn){try{on(ke.throw(Nn))}catch(un){Tt(un)}}function on(Nn){Nn.done?at(Nn.value):function We(at){return at instanceof Ge?at:new Ge(function(Tt){Tt(at)})}(Nn.value).then(ft,En)}on((ke=ke.apply(Se,Ne||[])).next())})}function oe(Se){return this instanceof oe?(this.v=Se,this):new oe(Se)}function Me(Se,Ne,Ge){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var We,ke=Ge.apply(Se,Ne||[]),at=[];return We={},Tt("next"),Tt("throw"),Tt("return"),We[Symbol.asyncIterator]=function(){return this},We;function Tt(Bn){ke[Bn]&&(We[Bn]=function(ln){return new Promise(function(Fn,wn){at.push([Bn,ln,Fn,wn])>1||ft(Bn,ln)})})}function ft(Bn,ln){try{!function En(Bn){Bn.value instanceof oe?Promise.resolve(Bn.value.v).then(on,Nn):un(at[0][2],Bn)}(ke[Bn](ln))}catch(Fn){un(at[0][3],Fn)}}function on(Bn){ft("next",Bn)}function Nn(Bn){ft("throw",Bn)}function un(Bn,ln){Bn(ln),at.shift(),at.length&&ft(at[0][0],at[0][1])}}function me(Se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ge,Ne=Se[Symbol.asyncIterator];return Ne?Ne.call(Se):(Se=function Xe(Se){var Ne="function"==typeof Symbol&&Symbol.iterator,Ge=Ne&&Se[Ne],ke=0;if(Ge)return Ge.call(Se);if(Se&&"number"==typeof Se.length)return{next:function(){return Se&&ke>=Se.length&&(Se=void 0),{value:Se&&Se[ke++],done:!Se}}};throw new TypeError(Ne?"Object is not iterable.":"Symbol.iterator is not defined.")}(Se),Ge={},ke("next"),ke("throw"),ke("return"),Ge[Symbol.asyncIterator]=function(){return this},Ge);function ke(at){Ge[at]=Se[at]&&function(Tt){return new Promise(function(ft,En){!function We(at,Tt,ft,En){Promise.resolve(En).then(function(on){at({value:on,done:ft})},Tt)}(ft,En,(Tt=Se[at](Tt)).done,Tt.value)})}}}U.d(He,{FC:()=>Me,KL:()=>me,_T:()=>Ce,mG:()=>ye,qq:()=>oe}),"function"==typeof SuppressedError&&SuppressedError}},Mt=>{Mt(Mt.s=3773)}]);