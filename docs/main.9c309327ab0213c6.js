"use strict";(self.webpackChunktasks=self.webpackChunktasks||[]).push([[179],{8217:(xt,je,U)=>{U.d(je,{$:()=>Oo,A:()=>oe,G:()=>Ye,K:()=>Hi,L:()=>Bs,N:()=>Qi,P:()=>$l,R:()=>$a,U:()=>Tt,V:()=>oo,W:()=>ao,X:()=>Er,Y:()=>Gs,Z:()=>Yi,_:()=>Li,a:()=>Bl,a0:()=>Ha,a1:()=>Tn,a2:()=>Is,a3:()=>To,a4:()=>co,a5:()=>wo,a6:()=>Co,a7:()=>ll,a8:()=>aa,a9:()=>Ks,aA:()=>St,aB:()=>Me,aC:()=>ye,aD:()=>Jo,aE:()=>Le,aF:()=>Lt,aG:()=>ca,aH:()=>Xr,aI:()=>vc,aJ:()=>jn,aN:()=>cl,aQ:()=>tr,aa:()=>Aa,ab:()=>Fl,ac:()=>Vl,ad:()=>ul,ae:()=>Ul,af:()=>x,ag:()=>le,ah:()=>_,ak:()=>ce,al:()=>Ze,am:()=>pt,ap:()=>Da,aq:()=>yi,as:()=>Gn,at:()=>Dn,au:()=>at,av:()=>et,aw:()=>Ie,ax:()=>ae,ay:()=>vl,az:()=>Xo,b:()=>ci,c:()=>s_,d:()=>Nu,e:()=>Ou,f:()=>ei,g:()=>Ui,h:()=>Qs,i:()=>Pu,j:()=>Pi,k:()=>Nd,l:()=>ks,m:()=>Mp,p:()=>ue,r:()=>Mu,s:()=>Ga,u:()=>Id});var p=U(5861),V=U(9058),b=U(534),Te=U(7879),z=U(7582),J=U(4537);const ue={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},oe={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ye=function Ee(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},lt=function ze(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},tt=new V.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),it=new Te.Yd("@firebase/auth");function ut(v,...h){it.logLevel<=Te.in.ERROR&&it.error(`Auth (${b.SDK_VERSION}): ${v}`,...h)}function ae(v,...h){throw Ce(v,...h)}function Me(v,...h){return Ce(v,...h)}function me(v,h,m){const C=Object.assign(Object.assign({},lt()),{[h]:m});return new V.LL("auth","Firebase",C).create(h,{appName:v.name})}function ge(v,h,m){if(!(h instanceof m))throw m.name!==h.constructor.name&&ae(v,"argument-error"),me(v,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ce(v,...h){if("string"!=typeof v){const m=h[0],C=[...h.slice(1)];return C[0]&&(C[0].appName=v.name),v._errorFactory.create(m,...C)}return tt.create(v,...h)}function ye(v,h,...m){if(!v)throw Ce(h,...m)}function he(v){const h="INTERNAL ASSERTION FAILED: "+v;throw ut(h),new Error(h)}function at(v,h){v||he(h)}function Ct(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function $e(){return"http:"===Gt()||"https:"===Gt()}function Gt(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class bt{constructor(h,m){this.shortDelay=h,this.longDelay=m,at(m>h,"Short delay should be less than long delay!"),this.isMobile=(0,V.uI)()||(0,V.b$)()}get(){return function At(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&($e()||(0,V.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Nt(v,h){at(v.emulator,"Emulator should always be set here");const{url:m}=v.emulator;return h?`${m}${h.startsWith("/")?h.slice(1):h}`:m}class Se{static initialize(h,m,C){this.fetchImpl=h,m&&(this.headersImpl=m),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void he("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void he("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void he("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Oe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},qe=new bt(3e4,6e4);function ke(v,h){return v.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:v.tenantId}):h}function He(v,h,m,C){return ht.apply(this,arguments)}function ht(){return(ht=(0,p.Z)(function*(v,h,m,C,W={}){return gt(v,W,(0,p.Z)(function*(){let ie={},Ve={};C&&("GET"===h?Ve=C:ie={body:JSON.stringify(C)});const st=(0,V.xO)(Object.assign({key:v.config.apiKey},Ve)).slice(1),It=yield v._getAdditionalHeaders();return It["Content-Type"]="application/json",v.languageCode&&(It["X-Firebase-Locale"]=v.languageCode),Se.fetch()(An(v,v.config.apiHost,m,st),Object.assign({method:h,headers:It,referrerPolicy:"no-referrer"},ie))}))})).apply(this,arguments)}function gt(v,h,m){return _t.apply(this,arguments)}function _t(){return(_t=(0,p.Z)(function*(v,h,m){v._canInitEmulator=!1;const C=Object.assign(Object.assign({},Oe),h);try{const W=new un(v),ie=yield Promise.race([m(),W.promise]);W.clearNetworkTimeout();const Ve=yield ie.json();if("needConfirmation"in Ve)throw Bn(v,"account-exists-with-different-credential",Ve);if(ie.ok&&!("errorMessage"in Ve))return Ve;{const st=ie.ok?Ve.errorMessage:Ve.error.message,[It,Yt]=st.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===It)throw Bn(v,"credential-already-in-use",Ve);if("EMAIL_EXISTS"===It)throw Bn(v,"email-already-in-use",Ve);if("USER_DISABLED"===It)throw Bn(v,"user-disabled",Ve);const pn=C[It]||It.toLowerCase().replace(/[_\s]+/g,"-");if(Yt)throw me(v,pn,Yt);ae(v,pn)}}catch(W){if(W instanceof V.ZR)throw W;ae(v,"network-request-failed",{message:String(W)})}})).apply(this,arguments)}function kn(v,h,m,C){return nn.apply(this,arguments)}function nn(){return(nn=(0,p.Z)(function*(v,h,m,C,W={}){const ie=yield He(v,h,m,C,W);return"mfaPendingCredential"in ie&&ae(v,"multi-factor-auth-required",{_serverResponse:ie}),ie})).apply(this,arguments)}function An(v,h,m,C){const W=`${h}${m}?${C}`;return v.config.emulator?Nt(v.config,W):`${v.config.apiScheme}://${W}`}function ln(v){switch(v){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class un{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((m,C)=>{this.timer=setTimeout(()=>C(Me(this.auth,"network-request-failed")),qe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Bn(v,h,m){const C={appName:v.name};m.email&&(C.email=m.email),m.phoneNumber&&(C.phoneNumber=m.phoneNumber);const W=Me(v,h,C);return W.customData._tokenResponse=m,W}function Sn(v){return void 0!==v&&void 0!==v.getResponse}function Cn(v){return void 0!==v&&void 0!==v.enterprise}class Vt{constructor(h){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===h.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=h.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=h.recaptchaEnforcementState}getProviderEnforcementState(h){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const m of this.recaptchaEnforcementState)if(m.provider&&m.provider===h)return ln(m.enforcementState);return null}isProviderEnabled(h){return"ENFORCE"===this.getProviderEnforcementState(h)||"AUDIT"===this.getProviderEnforcementState(h)}}function vr(){return(vr=(0,p.Z)(function*(v){return(yield He(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Rn(v,h){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,p.Z)(function*(v,h){return He(v,"GET","/v2/recaptchaConfig",ke(v,h))})).apply(this,arguments)}function ir(){return(ir=(0,p.Z)(function*(v,h){return He(v,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function hn(){return(hn=(0,p.Z)(function*(v,h){return He(v,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Zn(){return(Zn=(0,p.Z)(function*(v,h){return He(v,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function Ir(v){if(v)try{const h=new Date(Number(v));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function Ae(){return(Ae=(0,p.Z)(function*(v,h=!1){const m=(0,V.m9)(v),C=yield m.getIdToken(h),W=Ke(C);ye(W&&W.exp&&W.auth_time&&W.iat,m.auth,"internal-error");const ie="object"==typeof W.firebase?W.firebase:void 0,Ve=ie?.sign_in_provider;return{claims:W,token:C,authTime:Ir(Ge(W.auth_time)),issuedAtTime:Ir(Ge(W.iat)),expirationTime:Ir(Ge(W.exp)),signInProvider:Ve||null,signInSecondFactor:ie?.sign_in_second_factor||null}})).apply(this,arguments)}function Ge(v){return 1e3*Number(v)}function Ke(v){const[h,m,C]=v.split(".");if(void 0===h||void 0===m||void 0===C)return ut("JWT malformed, contained fewer than 3 sections"),null;try{const W=(0,V.tV)(m);return W?JSON.parse(W):(ut("Failed to decode base64 JWT payload"),null)}catch(W){return ut("Caught error parsing JWT payload as JSON",W?.toString()),null}}function Rt(v,h){return cn.apply(this,arguments)}function cn(){return(cn=(0,p.Z)(function*(v,h,m=!1){if(m)return h;try{return yield h}catch(C){throw C instanceof V.ZR&&function vn({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}(C)&&v.auth.currentUser===v&&(yield v.auth.signOut()),C}})).apply(this,arguments)}class qr{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var m;if(h){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const W=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,W)}}schedule(h=!1){var m=this;if(!this.isRunning)return;const C=this.getInterval(h);this.timerId=setTimeout((0,p.Z)(function*(){yield m.iteration()}),C)}iteration(){var h=this;return(0,p.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m?.code&&h.schedule(!0))}h.schedule()})()}}class Fr{constructor(h,m){this.createdAt=h,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ir(this.lastLoginAt),this.creationTime=Ir(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Hn(v){return ur.apply(this,arguments)}function ur(){return ur=(0,p.Z)(function*(v){var h;const m=v.auth,C=yield v.getIdToken(),W=yield Rt(v,function Zt(v,h){return Zn.apply(this,arguments)}(m,{idToken:C}));ye(W?.users.length,m,"internal-error");const ie=W.users[0];v._notifyReloadListener(ie);const Ve=null!==(h=ie.providerUserInfo)&&void 0!==h&&h.length?function Dr(v){return v.map(h=>{var{providerId:m}=h,C=(0,z._T)(h,["providerId"]);return{providerId:m,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}(ie.providerUserInfo):[],st=function Ei(v,h){return[...v.filter(C=>!h.some(W=>W.providerId===C.providerId)),...h]}(v.providerData,Ve),pn=!!v.isAnonymous&&!(v.email&&ie.passwordHash||st?.length),rr={uid:ie.localId,displayName:ie.displayName||null,photoURL:ie.photoUrl||null,email:ie.email||null,emailVerified:ie.emailVerified||!1,phoneNumber:ie.phoneNumber||null,tenantId:ie.tenantId||null,providerData:st,metadata:new Fr(ie.createdAt,ie.lastLoginAt),isAnonymous:pn};Object.assign(v,rr)}),ur.apply(this,arguments)}function ti(){return(ti=(0,p.Z)(function*(v){const h=(0,V.m9)(v);yield Hn(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function Vr(){return(Vr=(0,p.Z)(function*(v,h){const m=yield gt(v,{},(0,p.Z)(function*(){const C=(0,V.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:W,apiKey:ie}=v.config,Ve=An(v,W,"/v1/token",`key=${ie}`),st=yield v._getAdditionalHeaders();return st["Content-Type"]="application/x-www-form-urlencoded",Se.fetch()(Ve,{method:"POST",headers:st,body:C})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}function re(){return(re=(0,p.Z)(function*(v,h){return He(v,"POST","/v2/accounts:revokeToken",ke(v,h))})).apply(this,arguments)}class ${constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){ye(h.idToken,"internal-error"),ye(typeof h.idToken<"u","internal-error"),ye(typeof h.refreshToken<"u","internal-error");const m="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):function Ot(v){const h=Ke(v);return ye(h,"internal-error"),ye(typeof h.exp<"u","internal-error"),ye(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,m)}getToken(h,m=!1){var C=this;return(0,p.Z)(function*(){return ye(!C.accessToken||C.refreshToken,h,"user-token-expired"),m||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(h,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,m){var C=this;return(0,p.Z)(function*(){const{accessToken:W,refreshToken:ie,expiresIn:Ve}=yield function Ar(v,h){return Vr.apply(this,arguments)}(h,m);C.updateTokensAndExpiration(W,ie,Number(Ve))})()}updateTokensAndExpiration(h,m,C){this.refreshToken=m||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(h,m){const{refreshToken:C,accessToken:W,expirationTime:ie}=m,Ve=new $;return C&&(ye("string"==typeof C,"internal-error",{appName:h}),Ve.refreshToken=C),W&&(ye("string"==typeof W,"internal-error",{appName:h}),Ve.accessToken=W),ie&&(ye("number"==typeof ie,"internal-error",{appName:h}),Ve.expirationTime=ie),Ve}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new $,this.toJSON())}_performRefresh(){return he("not implemented")}}function L(v,h){ye("string"==typeof v||typeof v>"u","internal-error",{appName:h})}class k{constructor(h){var{uid:m,auth:C,stsTokenManager:W}=h,ie=(0,z._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new qr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=C,this.stsTokenManager=W,this.accessToken=W.accessToken,this.displayName=ie.displayName||null,this.email=ie.email||null,this.emailVerified=ie.emailVerified||!1,this.phoneNumber=ie.phoneNumber||null,this.photoURL=ie.photoURL||null,this.isAnonymous=ie.isAnonymous||!1,this.tenantId=ie.tenantId||null,this.providerData=ie.providerData?[...ie.providerData]:[],this.metadata=new Fr(ie.createdAt||void 0,ie.lastLoginAt||void 0)}getIdToken(h){var m=this;return(0,p.Z)(function*(){const C=yield Rt(m,m.stsTokenManager.getToken(m.auth,h));return ye(C,m.auth,"internal-error"),m.accessToken!==C&&(m.accessToken=C,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),C})()}getIdTokenResult(h){return function Dt(v){return Ae.apply(this,arguments)}(this,h)}reload(){return function Hr(v){return ti.apply(this,arguments)}(this)}_assign(h){this!==h&&(ye(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(m=>Object.assign({},m)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const m=new k(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return m.metadata._copy(this.metadata),m}_onReload(h){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,m=!1){var C=this;return(0,p.Z)(function*(){let W=!1;h.idToken&&h.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(h),W=!0),m&&(yield Hn(C)),yield C.auth._persistUserIfCurrent(C),W&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var h=this;return(0,p.Z)(function*(){const m=yield h.getIdToken();return yield Rt(h,function kr(v,h){return ir.apply(this,arguments)}(h.auth,{idToken:m})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,m){var C,W,ie,Ve,st,It,Yt,pn;const rr=null!==(C=m.displayName)&&void 0!==C?C:void 0,hs=null!==(W=m.email)&&void 0!==W?W:void 0,ha=null!==(ie=m.phoneNumber)&&void 0!==ie?ie:void 0,Cc=null!==(Ve=m.photoURL)&&void 0!==Ve?Ve:void 0,kd=null!==(st=m.tenantId)&&void 0!==st?st:void 0,fa=null!==(It=m._redirectEventId)&&void 0!==It?It:void 0,Mh=null!==(Yt=m.createdAt)&&void 0!==Yt?Yt:void 0,Xs=null!==(pn=m.lastLoginAt)&&void 0!==pn?pn:void 0,{uid:eu,emailVerified:ju,isAnonymous:xh,providerData:fo,stsTokenManager:Oh}=m;ye(eu&&Oh,h,"internal-error");const bc=$.fromJSON(this.name,Oh);ye("string"==typeof eu,h,"internal-error"),L(rr,h.name),L(hs,h.name),ye("boolean"==typeof ju,h,"internal-error"),ye("boolean"==typeof xh,h,"internal-error"),L(ha,h.name),L(Cc,h.name),L(kd,h.name),L(fa,h.name),L(Mh,h.name),L(Xs,h.name);const Nh=new k({uid:eu,auth:h,email:hs,emailVerified:ju,displayName:rr,isAnonymous:xh,photoURL:Cc,phoneNumber:ha,tenantId:kd,stsTokenManager:bc,createdAt:Mh,lastLoginAt:Xs});return fo&&Array.isArray(fo)&&(Nh.providerData=fo.map(o_=>Object.assign({},o_))),fa&&(Nh._redirectEventId=fa),Nh}static _fromIdTokenResponse(h,m,C=!1){return(0,p.Z)(function*(){const W=new $;W.updateFromServerResponse(m);const ie=new k({uid:m.localId,auth:h,stsTokenManager:W,isAnonymous:C});return yield Hn(ie),ie})()}}const fe=new Map;function Le(v){at(v instanceof Function,"Expected a class definition");let h=fe.get(v);return h?(at(h instanceof v,"Instance stored in cache mismatched with class"),h):(h=new v,fe.set(v,h),h)}const Tt=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,p.Z)(function*(){return!0})()}_set(m,C){var W=this;return(0,p.Z)(function*(){W.storage[m]=C})()}_get(m){var C=this;return(0,p.Z)(function*(){const W=C.storage[m];return void 0===W?null:W})()}_remove(m){var C=this;return(0,p.Z)(function*(){delete C.storage[m]})()}_addListener(m,C){}_removeListener(m,C){}}return v.type="NONE",v})();function Lt(v,h,m){return`firebase:${v}:${h}:${m}`}class kt{constructor(h,m,C){this.persistence=h,this.auth=m,this.userKey=C;const{config:W,name:ie}=this.auth;this.fullUserKey=Lt(this.userKey,W.apiKey,ie),this.fullPersistenceKey=Lt("persistence",W.apiKey,ie),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,p.Z)(function*(){const m=yield h.persistence._get(h.fullUserKey);return m?k._fromJSON(h.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var m=this;return(0,p.Z)(function*(){if(m.persistence===h)return;const C=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=h,C?m.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,m,C="authUser"){return(0,p.Z)(function*(){if(!m.length)return new kt(Le(Tt),h,C);const W=(yield Promise.all(m.map(function(){var Yt=(0,p.Z)(function*(pn){if(yield pn._isAvailable())return pn});return function(pn){return Yt.apply(this,arguments)}}()))).filter(Yt=>Yt);let ie=W[0]||Le(Tt);const Ve=Lt(C,h.config.apiKey,h.name);let st=null;for(const Yt of m)try{const pn=yield Yt._get(Ve);if(pn){const rr=k._fromJSON(h,pn);Yt!==ie&&(st=rr),ie=Yt;break}}catch{}const It=W.filter(Yt=>Yt._shouldAllowMigration);return ie._shouldAllowMigration&&It.length?(ie=It[0],st&&(yield ie._set(Ve,st.toJSON())),yield Promise.all(m.map(function(){var Yt=(0,p.Z)(function*(pn){if(pn!==ie)try{yield pn._remove(Ve)}catch{}});return function(pn){return Yt.apply(this,arguments)}}())),new kt(ie,h,C)):new kt(ie,h,C)})()}}function Kt(v){const h=v.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(xe(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(bn(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(we(h))return"Blackberry";if(Be(h))return"Webos";if(De(h))return"Safari";if((h.includes("chrome/")||ve(h))&&!h.includes("edge/"))return"Chrome";if(Ie(h))return"Android";{const C=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===C?.length)return C[1]}return"Other"}function bn(v=(0,V.z$)()){return/firefox\//i.test(v)}function De(v=(0,V.z$)()){const h=v.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function ve(v=(0,V.z$)()){return/crios\//i.test(v)}function xe(v=(0,V.z$)()){return/iemobile/i.test(v)}function Ie(v=(0,V.z$)()){return/android/i.test(v)}function we(v=(0,V.z$)()){return/blackberry/i.test(v)}function Be(v=(0,V.z$)()){return/webos/i.test(v)}function et(v=(0,V.z$)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function St(v=(0,V.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}function Qn(v=(0,V.z$)()){return et(v)||Ie(v)||Be(v)||we(v)||/windows phone/i.test(v)||xe(v)}function er(v,h=[]){let m;switch(v){case"Browser":m=Kt((0,V.z$)());break;case"Worker":m=`${Kt((0,V.z$)())}-${v}`;break;default:m=v}const C=h.length?h.join(","):"FirebaseCore-web";return`${m}/JsCore/${b.SDK_VERSION}/${C}`}class xr{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,m){const C=ie=>new Promise((Ve,st)=>{try{Ve(h(ie))}catch(It){st(It)}});C.onAbort=m,this.queue.push(C);const W=this.queue.length-1;return()=>{this.queue[W]=()=>Promise.resolve()}}runMiddleware(h){var m=this;return(0,p.Z)(function*(){if(m.auth.currentUser===h)return;const C=[];try{for(const W of m.queue)yield W(h),W.onAbort&&C.push(W.onAbort)}catch(W){C.reverse();for(const ie of C)try{ie()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:W?.message})}})()}}function sr(){return(sr=(0,p.Z)(function*(v,h={}){return He(v,"GET","/v2/passwordPolicy",ke(v,h))})).apply(this,arguments)}class Kr{constructor(h){var m,C,W,ie;const Ve=h.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(m=Ve.minPasswordLength)&&void 0!==m?m:6,Ve.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Ve.maxPasswordLength),void 0!==Ve.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Ve.containsLowercaseCharacter),void 0!==Ve.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Ve.containsUppercaseCharacter),void 0!==Ve.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Ve.containsNumericCharacter),void 0!==Ve.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Ve.containsNonAlphanumericCharacter),this.enforcementState=h.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(W=null===(C=h.allowedNonAlphanumericCharacters)||void 0===C?void 0:C.join(""))&&void 0!==W?W:"",this.forceUpgradeOnSignin=null!==(ie=h.forceUpgradeOnSignin)&&void 0!==ie&&ie,this.schemaVersion=h.schemaVersion}validatePassword(h){var m,C,W,ie,Ve,st;const It={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(h,It),this.validatePasswordCharacterOptions(h,It),It.isValid&&(It.isValid=null===(m=It.meetsMinPasswordLength)||void 0===m||m),It.isValid&&(It.isValid=null===(C=It.meetsMaxPasswordLength)||void 0===C||C),It.isValid&&(It.isValid=null===(W=It.containsLowercaseLetter)||void 0===W||W),It.isValid&&(It.isValid=null===(ie=It.containsUppercaseLetter)||void 0===ie||ie),It.isValid&&(It.isValid=null===(Ve=It.containsNumericCharacter)||void 0===Ve||Ve),It.isValid&&(It.isValid=null===(st=It.containsNonAlphanumericCharacter)||void 0===st||st),It}validatePasswordLengthOptions(h,m){const C=this.customStrengthOptions.minPasswordLength,W=this.customStrengthOptions.maxPasswordLength;C&&(m.meetsMinPasswordLength=h.length>=C),W&&(m.meetsMaxPasswordLength=h.length<=W)}validatePasswordCharacterOptions(h,m){let C;this.updatePasswordCharacterOptionsStatuses(m,!1,!1,!1,!1);for(let W=0;W<h.length;W++)C=h.charAt(W),this.updatePasswordCharacterOptionsStatuses(m,C>="a"&&C<="z",C>="A"&&C<="Z",C>="0"&&C<="9",this.allowedNonAlphanumericCharacters.includes(C))}updatePasswordCharacterOptionsStatuses(h,m,C,W,ie){this.customStrengthOptions.containsLowercaseLetter&&(h.containsLowercaseLetter||(h.containsLowercaseLetter=m)),this.customStrengthOptions.containsUppercaseLetter&&(h.containsUppercaseLetter||(h.containsUppercaseLetter=C)),this.customStrengthOptions.containsNumericCharacter&&(h.containsNumericCharacter||(h.containsNumericCharacter=W)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(h.containsNonAlphanumericCharacter||(h.containsNonAlphanumericCharacter=ie))}}class Vs{constructor(h,m,C,W){this.app=h,this.heartbeatServiceProvider=m,this.appCheckServiceProvider=C,this.config=W,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xi(this),this.idTokenSubscription=new xi(this),this.beforeStateQueue=new xr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=W.sdkClientVersion}_initializeWithPersistence(h,m){var C=this;return m&&(this._popupRedirectResolver=Le(m)),this._initializationPromise=this.queue((0,p.Z)(function*(){var W,ie;if(!C._deleted&&(C.persistenceManager=yield kt.create(C,h),!C._deleted)){if(null!==(W=C._popupRedirectResolver)&&void 0!==W&&W._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch{}yield C.initializeCurrentUser(m),C.lastNotifiedUid=(null===(ie=C.currentUser)||void 0===ie?void 0:ie.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,p.Z)(function*(){if(h._deleted)return;const m=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||m){if(h.currentUser&&m&&h.currentUser.uid===m.uid)return h._currentUser._assign(m),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(m,!0)}})()}initializeCurrentUser(h){var m=this;return(0,p.Z)(function*(){var C;const W=yield m.assertedPersistence.getCurrentUser();let ie=W,Ve=!1;if(h&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const st=null===(C=m.redirectUser)||void 0===C?void 0:C._redirectEventId,It=ie?._redirectEventId,Yt=yield m.tryRedirectSignIn(h);(!st||st===It)&&Yt?.user&&(ie=Yt.user,Ve=!0)}if(!ie)return m.directlySetCurrentUser(null);if(!ie._redirectEventId){if(Ve)try{yield m.beforeStateQueue.runMiddleware(ie)}catch(st){ie=W,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(st))}return ie?m.reloadAndSetCurrentUserOrClear(ie):m.directlySetCurrentUser(null)}return ye(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===ie._redirectEventId?m.directlySetCurrentUser(ie):m.reloadAndSetCurrentUserOrClear(ie)})()}tryRedirectSignIn(h){var m=this;return(0,p.Z)(function*(){let C=null;try{C=yield m._popupRedirectResolver._completeRedirectFn(m,h,!0)}catch{yield m._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(h){var m=this;return(0,p.Z)(function*(){try{yield Hn(h)}catch(C){if("auth/network-request-failed"!==C?.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function gn(){if(typeof navigator>"u")return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var h=this;return(0,p.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var m=this;return(0,p.Z)(function*(){const C=h?(0,V.m9)(h):null;return C&&ye(C.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(C&&C._clone(m))})()}_updateCurrentUser(h,m=!1){var C=this;return(0,p.Z)(function*(){if(!C._deleted)return h&&ye(C.tenantId===h.tenantId,C,"tenant-id-mismatch"),m||(yield C.beforeStateQueue.runMiddleware(h)),C.queue((0,p.Z)(function*(){yield C.directlySetCurrentUser(h),C.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,p.Z)(function*(){return yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0)})()}setPersistence(h){var m=this;return this.queue((0,p.Z)(function*(){yield m.assertedPersistence.setPersistence(Le(h))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(h){var m=this;return(0,p.Z)(function*(){m._getPasswordPolicyInternal()||(yield m._updatePasswordPolicy());const C=m._getPasswordPolicyInternal();return C.schemaVersion!==m.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(m._errorFactory.create("unsupported-password-policy-schema-version",{})):C.validatePassword(h)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var h=this;return(0,p.Z)(function*(){const m=yield function ni(v){return sr.apply(this,arguments)}(h),C=new Kr(m);null===h.tenantId?h._projectPasswordPolicy=C:h._tenantPasswordPolicies[h.tenantId]=C})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new V.LL("auth","Firebase",h())}onAuthStateChanged(h,m,C){return this.registerStateListener(this.authStateSubscription,h,m,C)}beforeAuthStateChanged(h,m){return this.beforeStateQueue.pushCallback(h,m)}onIdTokenChanged(h,m,C){return this.registerStateListener(this.idTokenSubscription,h,m,C)}authStateReady(){return new Promise((h,m)=>{if(this.currentUser)h();else{const C=this.onAuthStateChanged(()=>{C(),h()},m)}})}revokeAccessToken(h){var m=this;return(0,p.Z)(function*(){if(m.currentUser){const C=yield m.currentUser.getIdToken(),W={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:h,idToken:C};null!=m.tenantId&&(W.tenantId=m.tenantId),yield function Pe(v,h){return re.apply(this,arguments)}(m,W)}})()}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,m){var C=this;return(0,p.Z)(function*(){const W=yield C.getOrInitRedirectPersistenceManager(m);return null===h?W.removeCurrentUser():W.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var m=this;return(0,p.Z)(function*(){if(!m.redirectPersistenceManager){const C=h&&Le(h)||m._popupRedirectResolver;ye(C,m,"argument-error"),m.redirectPersistenceManager=yield kt.create(m,[Le(C._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(h){var m=this;return(0,p.Z)(function*(){var C,W;return m._isInitialized&&(yield m.queue((0,p.Z)(function*(){}))),(null===(C=m._currentUser)||void 0===C?void 0:C._redirectEventId)===h?m._currentUser:(null===(W=m.redirectUser)||void 0===W?void 0:W._redirectEventId)===h?m.redirectUser:null})()}_persistUserIfCurrent(h){var m=this;return(0,p.Z)(function*(){if(h===m.currentUser)return m.queue((0,p.Z)(function*(){return m.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(m=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,m,C,W){if(this._deleted)return()=>{};const ie="function"==typeof m?m:m.next.bind(m);let Ve=!1;const st=this._isInitialized?Promise.resolve():this._initializationPromise;if(ye(st,this,"internal-error"),st.then(()=>{Ve||ie(this.currentUser)}),"function"==typeof m){const It=h.addObserver(m,C,W);return()=>{Ve=!0,It()}}{const It=h.addObserver(m);return()=>{Ve=!0,It()}}}directlySetCurrentUser(h){var m=this;return(0,p.Z)(function*(){m.currentUser&&m.currentUser!==h&&m._currentUser._stopProactiveRefresh(),h&&m.isProactiveRefreshEnabled&&h._startProactiveRefresh(),m.currentUser=h,h?yield m.assertedPersistence.setCurrentUser(h):yield m.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=er(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,p.Z)(function*(){var m;const C={"X-Client-Version":h.clientVersion};h.app.options.appId&&(C["X-Firebase-gmpid"]=h.app.options.appId);const W=yield null===(m=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();W&&(C["X-Firebase-Client"]=W);const ie=yield h._getAppCheckToken();return ie&&(C["X-Firebase-AppCheck"]=ie),C})()}_getAppCheckToken(){var h=this;return(0,p.Z)(function*(){var m;const C=yield null===(m=h.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getToken();return C?.error&&function wt(v,...h){it.logLevel<=Te.in.WARN&&it.warn(`Auth (${b.SDK_VERSION}): ${v}`,...h)}(`Error while retrieving App Check token: ${C.error}`),C?.token})()}}function jn(v){return(0,V.m9)(v)}class xi{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,V.ne)(m=>this.observer=m)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Oi(v){return new Promise((h,m)=>{const C=document.createElement("script");C.setAttribute("src",v),C.onload=h,C.onerror=W=>{const ie=Me("internal-error");ie.customData=W,m(ie)},C.type="text/javascript",C.charset="UTF-8",function Or(){var v,h;return null!==(h=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==h?h:document}().appendChild(C)})}function ro(v){return`__${v}${Math.floor(1e6*Math.random())}`}class ii{constructor(h){this.type="recaptcha-enterprise",this.auth=jn(h)}verify(h="verify",m=!1){var C=this;return(0,p.Z)(function*(){function ie(){return ie=(0,p.Z)(function*(st){if(!m){if(null==st.tenantId&&null!=st._agentRecaptchaConfig)return st._agentRecaptchaConfig.siteKey;if(null!=st.tenantId&&void 0!==st._tenantRecaptchaConfigs[st.tenantId])return st._tenantRecaptchaConfigs[st.tenantId].siteKey}return new Promise(function(){var It=(0,p.Z)(function*(Yt,pn){Rn(st,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(rr=>{if(void 0!==rr.recaptchaKey){const hs=new Vt(rr);return null==st.tenantId?st._agentRecaptchaConfig=hs:st._tenantRecaptchaConfigs[st.tenantId]=hs,Yt(hs.siteKey)}pn(new Error("recaptcha Enterprise site key undefined"))}).catch(rr=>{pn(rr)})});return function(Yt,pn){return It.apply(this,arguments)}}())}),ie.apply(this,arguments)}function Ve(st,It,Yt){const pn=window.grecaptcha;Cn(pn)?pn.enterprise.ready(()=>{pn.enterprise.execute(st,{action:h}).then(rr=>{It(rr)}).catch(()=>{It("NO_RECAPTCHA")})}):Yt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((st,It)=>{(function W(st){return ie.apply(this,arguments)})(C.auth).then(Yt=>{if(!m&&Cn(window.grecaptcha))Ve(Yt,st,It);else{if(typeof window>"u")return void It(new Error("RecaptchaVerifier is only supported in browser"));Oi("https://www.google.com/recaptcha/enterprise.js?render="+Yt).then(()=>{Ve(Yt,st,It)}).catch(pn=>{It(pn)})}}).catch(Yt=>{It(Yt)})})})()}}function Bi(v,h,m){return di.apply(this,arguments)}function di(){return(di=(0,p.Z)(function*(v,h,m,C=!1){const W=new ii(v);let ie;try{ie=yield W.verify(m)}catch{ie=yield W.verify(m,!0)}const Ve=Object.assign({},h);return Object.assign(Ve,C?{captchaResp:ie}:{captchaResponse:ie}),Object.assign(Ve,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Ve,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Ve})).apply(this,arguments)}function Ds(v,h,m,C){return si.apply(this,arguments)}function si(){return si=(0,p.Z)(function*(v,h,m,C){var W;if(null!==(W=v._getRecaptchaConfig())&&void 0!==W&&W.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const ie=yield Bi(v,h,m,"getOobCode"===m);return C(v,ie)}return C(v,h).catch(function(){var ie=(0,p.Z)(function*(Ve){if("auth/missing-recaptcha-token"===Ve.code){console.log(`${m} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const st=yield Bi(v,h,m,"getOobCode"===m);return C(v,st)}return Promise.reject(Ve)});return function(Ve){return ie.apply(this,arguments)}}())}),si.apply(this,arguments)}function Hi(v,h,m){const C=jn(v);ye(C._canInitEmulator,C,"emulator-config-failed"),ye(/^https?:\/\//.test(h),C,"invalid-emulator-scheme");const W=!!m?.disableWarnings,ie=wi(h),{host:Ve,port:st}=function Ro(v){const h=wi(v),m=/(\/\/)?([^?#/]+)/.exec(v.substr(h.length));if(!m)return{host:"",port:null};const C=m[2].split("@").pop()||"",W=/^(\[[^\]]+\])(:|$)/.exec(C);if(W){const ie=W[1];return{host:ie,port:Us(C.substr(ie.length+1))}}{const[ie,Ve]=C.split(":");return{host:ie,port:Us(Ve)}}}(h);C.config.emulator={url:`${ie}//${Ve}${null===st?"":`:${st}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:Ve,port:st,protocol:ie.replace(":",""),options:Object.freeze({disableWarnings:W})}),W||function Io(){function v(){const h=document.createElement("p"),m=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}function wi(v){const h=v.indexOf(":");return h<0?"":v.substr(0,h+1)}function Us(v){if(!v)return null;const h=Number(v);return isNaN(h)?null:h}class Bs{constructor(h,m){this.providerId=h,this.signInMethod=m}toJSON(){return he("not implemented")}_getIdTokenResponse(h){return he("not implemented")}_linkToIdToken(h,m){return he("not implemented")}_getReauthenticationResolver(h){return he("not implemented")}}function Hs(v,h){return io.apply(this,arguments)}function io(){return(io=(0,p.Z)(function*(v,h){return He(v,"POST","/v1/accounts:resetPassword",ke(v,h))})).apply(this,arguments)}function As(){return(As=(0,p.Z)(function*(v,h){return He(v,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Ki(v,h){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,p.Z)(function*(v,h){return He(v,"POST","/v1/accounts:signUp",h)})).apply(this,arguments)}function Nr(){return(Nr=(0,p.Z)(function*(v,h){return He(v,"POST","/v1/accounts:update",ke(v,h))})).apply(this,arguments)}function us(v,h){return jr.apply(this,arguments)}function jr(){return(jr=(0,p.Z)(function*(v,h){return kn(v,"POST","/v1/accounts:signInWithPassword",ke(v,h))})).apply(this,arguments)}function so(v,h){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,p.Z)(function*(v,h){return He(v,"POST","/v1/accounts:sendOobCode",ke(v,h))})).apply(this,arguments)}function Ci(){return(Ci=(0,p.Z)(function*(v,h){return so(v,h)})).apply(this,arguments)}function gs(v,h){return pr.apply(this,arguments)}function pr(){return(pr=(0,p.Z)(function*(v,h){return so(v,h)})).apply(this,arguments)}function Ft(v,h){return En.apply(this,arguments)}function En(){return(En=(0,p.Z)(function*(v,h){return so(v,h)})).apply(this,arguments)}function oi(){return(oi=(0,p.Z)(function*(v,h){return so(v,h)})).apply(this,arguments)}function Sr(){return(Sr=(0,p.Z)(function*(v,h){return kn(v,"POST","/v1/accounts:signInWithEmailLink",ke(v,h))})).apply(this,arguments)}function gr(){return(gr=(0,p.Z)(function*(v,h){return kn(v,"POST","/v1/accounts:signInWithEmailLink",ke(v,h))})).apply(this,arguments)}class ji extends Bs{constructor(h,m,C,W=null){super("password",C),this._email=h,this._password=m,this._tenantId=W}static _fromEmailAndPassword(h,m){return new ji(h,m,"password")}static _fromEmailAndCode(h,m,C=null){return new ji(h,m,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const m="string"==typeof h?JSON.parse(h):h;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(h){var m=this;return(0,p.Z)(function*(){switch(m.signInMethod){case"password":return Ds(h,{returnSecureToken:!0,email:m._email,password:m._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",us);case"emailLink":return function _s(v,h){return Sr.apply(this,arguments)}(h,{email:m._email,oobCode:m._password});default:ae(h,"internal-error")}})()}_linkToIdToken(h,m){var C=this;return(0,p.Z)(function*(){switch(C.signInMethod){case"password":return Ds(h,{idToken:m,returnSecureToken:!0,email:C._email,password:C._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ki);case"emailLink":return function bi(v,h){return gr.apply(this,arguments)}(h,{idToken:m,email:C._email,oobCode:C._password});default:ae(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function hi(v,h){return fn.apply(this,arguments)}function fn(){return(fn=(0,p.Z)(function*(v,h){return kn(v,"POST","/v1/accounts:signInWithIdp",ke(v,h))})).apply(this,arguments)}class Qi extends Bs{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const m=new Qi(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(m.idToken=h.idToken),h.accessToken&&(m.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(m.nonce=h.nonce),h.pendingToken&&(m.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(m.accessToken=h.oauthToken,m.secret=h.oauthTokenSecret):ae("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const m="string"==typeof h?JSON.parse(h):h,{providerId:C,signInMethod:W}=m,ie=(0,z._T)(m,["providerId","signInMethod"]);if(!C||!W)return null;const Ve=new Qi(C,W);return Ve.idToken=ie.idToken||void 0,Ve.accessToken=ie.accessToken||void 0,Ve.secret=ie.secret,Ve.nonce=ie.nonce,Ve.pendingToken=ie.pendingToken||null,Ve}_getIdTokenResponse(h){return hi(h,this.buildRequest())}_linkToIdToken(h,m){const C=this.buildRequest();return C.idToken=m,hi(h,C)}_getReauthenticationResolver(h){const m=this.buildRequest();return m.autoCreate=!1,hi(h,m)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),h.postBody=(0,V.xO)(m)}return h}}function or(){return(or=(0,p.Z)(function*(v,h){return He(v,"POST","/v1/accounts:sendVerificationCode",ke(v,h))})).apply(this,arguments)}function Ni(){return(Ni=(0,p.Z)(function*(v,h){return kn(v,"POST","/v1/accounts:signInWithPhoneNumber",ke(v,h))})).apply(this,arguments)}function cr(){return(cr=(0,p.Z)(function*(v,h){const m=yield kn(v,"POST","/v1/accounts:signInWithPhoneNumber",ke(v,h));if(m.temporaryProof)throw Bn(v,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const $s={USER_NOT_FOUND:"user-not-found"};function $r(){return($r=(0,p.Z)(function*(v,h){return kn(v,"POST","/v1/accounts:signInWithPhoneNumber",ke(v,Object.assign(Object.assign({},h),{operation:"REAUTH"})),$s)})).apply(this,arguments)}class Gi extends Bs{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,m){return new Gi({verificationId:h,verificationCode:m})}static _fromTokenResponse(h,m){return new Gi({phoneNumber:h,temporaryProof:m})}_getIdTokenResponse(h){return function js(v,h){return Ni.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,m){return function zi(v,h){return cr.apply(this,arguments)}(h,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function Di(v,h){return $r.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:m,verificationId:C,verificationCode:W}=this.params;return h&&m?{temporaryProof:h,phoneNumber:m}:{sessionInfo:C,code:W}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:m,verificationCode:C,phoneNumber:W,temporaryProof:ie}=h;return C||m||W||ie?new Gi({verificationId:m,verificationCode:C,phoneNumber:W,temporaryProof:ie}):null}}class zs{constructor(h){var m,C,W,ie,Ve,st;const It=(0,V.zd)((0,V.pd)(h)),Yt=null!==(m=It.apiKey)&&void 0!==m?m:null,pn=null!==(C=It.oobCode)&&void 0!==C?C:null,rr=function Ps(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(W=It.mode)&&void 0!==W?W:null);ye(Yt&&pn&&rr,"argument-error"),this.apiKey=Yt,this.operation=rr,this.code=pn,this.continueUrl=null!==(ie=It.continueUrl)&&void 0!==ie?ie:null,this.languageCode=null!==(Ve=It.languageCode)&&void 0!==Ve?Ve:null,this.tenantId=null!==(st=It.tenantId)&&void 0!==st?st:null}static parseLink(h){const m=function zn(v){const h=(0,V.zd)((0,V.pd)(v)).link,m=h?(0,V.zd)((0,V.pd)(h)).deep_link_id:null,C=(0,V.zd)((0,V.pd)(v)).deep_link_id;return(C?(0,V.zd)((0,V.pd)(C)).link:null)||C||m||h||v}(h);try{return new zs(m)}catch{return null}}}let oo=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(m,C){return ji._fromEmailAndPassword(m,C)}static credentialWithLink(m,C){const W=zs.parseLink(C);return ye(W,"argument-error"),ji._fromEmailAndCode(m,W.code,W.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class Pr{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class Ai extends Pr{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class Yi extends Ai{static credentialFromJSON(h){const m="string"==typeof h?JSON.parse(h):h;return ye("providerId"in m&&"signInMethod"in m,"argument-error"),Qi._fromParams(m)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return ye(h.idToken||h.accessToken,"argument-error"),Qi._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return Yi.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return Yi.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:m,oauthAccessToken:C,oauthTokenSecret:W,pendingToken:ie,nonce:Ve,providerId:st}=h;if(!C&&!W&&!m&&!ie||!st)return null;try{return new Yi(st)._credential({idToken:m,accessToken:C,nonce:Ve,pendingToken:ie})}catch{return null}}}let ao=(()=>{class v extends Ai{constructor(){super("facebook.com")}static credential(m){return Qi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch{return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),Er=(()=>{class v extends Ai{constructor(){super("google.com"),this.addScope("profile")}static credential(m,C){return Qi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:C})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:C,oauthAccessToken:W}=m;if(!C&&!W)return null;try{return v.credential(C,W)}catch{return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),Gs=(()=>{class v extends Ai{constructor(){super("github.com")}static credential(m){return Qi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch{return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class tr extends Bs{constructor(h,m){super(h,h),this.pendingToken=m}_getIdTokenResponse(h){return hi(h,this.buildRequest())}_linkToIdToken(h,m){const C=this.buildRequest();return C.idToken=m,hi(h,C)}_getReauthenticationResolver(h){const m=this.buildRequest();return m.autoCreate=!1,hi(h,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const m="string"==typeof h?JSON.parse(h):h,{providerId:C,signInMethod:W,pendingToken:ie}=m;return C&&W&&ie&&C===W?new tr(C,ie):null}static _create(h,m){return new tr(h,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Li extends Pr{constructor(h){ye(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return Li.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return Li.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const m=tr.fromJSON(h);return ye(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:m,providerId:C}=h;if(!m||!C)return null;try{return tr._create(C,m)}catch{return null}}}let Oo=(()=>{class v extends Ai{constructor(){super("twitter.com")}static credential(m,C){return Qi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:C})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:C,oauthTokenSecret:W}=m;if(!C||!W)return null;try{return v.credential(C,W)}catch{return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function Ji(v,h){return lo.apply(this,arguments)}function lo(){return(lo=(0,p.Z)(function*(v,h){return kn(v,"POST","/v1/accounts:signUp",ke(v,h))})).apply(this,arguments)}class ai{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,m,C,W=!1){return(0,p.Z)(function*(){const ie=yield k._fromIdTokenResponse(h,C,W),Ve=Eo(C);return new ai({user:ie,providerId:Ve,_tokenResponse:C,operationType:m})})()}static _forOperation(h,m,C){return(0,p.Z)(function*(){yield h._updateTokensIfNecessary(C,!0);const W=Eo(C);return new ai({user:h,providerId:W,_tokenResponse:C,operationType:m})})()}}function Eo(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function Ha(v){return zo.apply(this,arguments)}function zo(){return(zo=(0,p.Z)(function*(v){var h;const m=jn(v);if(yield m._initializationPromise,null!==(h=m.currentUser)&&void 0!==h&&h.isAnonymous)return new ai({user:m.currentUser,providerId:null,operationType:"signIn"});const C=yield Ji(m,{returnSecureToken:!0}),W=yield ai._fromIdTokenResponse(m,"signIn",C,!0);return yield m._updateCurrentUser(W.user),W})).apply(this,arguments)}class ys extends V.ZR{constructor(h,m,C,W){var ie;super(m.code,m.message),this.operationType=C,this.user=W,Object.setPrototypeOf(this,ys.prototype),this.customData={appName:h.name,tenantId:null!==(ie=h.tenantId)&&void 0!==ie?ie:void 0,_serverResponse:m.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(h,m,C,W){return new ys(h,m,C,W)}}function Si(v,h,m,C){return("reauthenticate"===h?m._getReauthenticationResolver(v):m._getIdTokenResponse(v)).catch(ie=>{throw"auth/multi-factor-auth-required"===ie.code?ys._fromErrorAndOperation(v,ie,h,C):ie})}function No(v){return new Set(v.map(({providerId:h})=>h).filter(h=>!!h))}function Da(v,h){return fr.apply(this,arguments)}function fr(){return fr=(0,p.Z)(function*(v,h){const m=(0,V.m9)(v);yield G(!0,m,h);const{providerUserInfo:C}=yield function en(v,h){return hn.apply(this,arguments)}(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[h]}),W=No(C||[]);return m.providerData=m.providerData.filter(ie=>W.has(ie.providerId)),W.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m}),fr.apply(this,arguments)}function vs(v,h){return sa.apply(this,arguments)}function sa(){return(sa=(0,p.Z)(function*(v,h,m=!1){const C=yield Rt(v,h._linkToIdToken(v.auth,yield v.getIdToken()),m);return ai._forOperation(v,"link",C)})).apply(this,arguments)}function G(v,h,m){return K.apply(this,arguments)}function K(){return(K=(0,p.Z)(function*(v,h,m){yield Hn(h);const W=!1===v?"provider-already-linked":"no-such-provider";ye(No(h.providerData).has(m)===v,h.auth,W)})).apply(this,arguments)}function O(v,h){return se.apply(this,arguments)}function se(){return(se=(0,p.Z)(function*(v,h,m=!1){const{auth:C}=v,W="reauthenticate";try{const ie=yield Rt(v,Si(C,W,h,v),m);ye(ie.idToken,C,"internal-error");const Ve=Ke(ie.idToken);ye(Ve,C,"internal-error");const{sub:st}=Ve;return ye(v.uid===st,C,"user-mismatch"),ai._forOperation(v,W,ie)}catch(ie){throw"auth/user-not-found"===ie?.code&&ae(C,"user-mismatch"),ie}})).apply(this,arguments)}function be(v,h){return tn.apply(this,arguments)}function tn(){return(tn=(0,p.Z)(function*(v,h,m=!1){const C="signIn",W=yield Si(v,C,h),ie=yield ai._fromIdTokenResponse(v,C,W);return m||(yield v._updateCurrentUser(ie.user)),ie})).apply(this,arguments)}function Tn(v,h){return gi.apply(this,arguments)}function gi(){return(gi=(0,p.Z)(function*(v,h){return be(jn(v),h)})).apply(this,arguments)}function Is(v,h){return ki.apply(this,arguments)}function ki(){return(ki=(0,p.Z)(function*(v,h){const m=(0,V.m9)(v);return yield G(!1,m,h.providerId),vs(m,h)})).apply(this,arguments)}function To(v,h){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,p.Z)(function*(v,h){return O((0,V.m9)(v),h)})).apply(this,arguments)}function uo(){return(uo=(0,p.Z)(function*(v,h){return kn(v,"POST","/v1/accounts:signInWithCustomToken",ke(v,h))})).apply(this,arguments)}function co(v,h){return li.apply(this,arguments)}function li(){return li=(0,p.Z)(function*(v,h){const m=jn(v),C=yield function _i(v,h){return uo.apply(this,arguments)}(m,{token:h,returnSecureToken:!0}),W=yield ai._fromIdTokenResponse(m,"signIn",C);return yield m._updateCurrentUser(W.user),W}),li.apply(this,arguments)}class Ws{constructor(h,m){this.factorId=h,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(h,m){return"phoneInfo"in m?Fi._fromServerResponse(h,m):"totpInfo"in m?Go._fromServerResponse(h,m):ae(h,"internal-error")}}class Fi extends Ws{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,m){return new Fi(m)}}class Go extends Ws{constructor(h){super("totp",h)}static _fromServerResponse(h,m){return new Go(m)}}function qs(v,h,m){var C;ye((null===(C=m.url)||void 0===C?void 0:C.length)>0,v,"invalid-continue-uri"),ye(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),h.continueUrl=m.url,h.dynamicLinkDomain=m.dynamicLinkDomain,h.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(ye(m.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),h.iOSBundleId=m.iOS.bundleId),m.android&&(ye(m.android.packageName.length>0,v,"missing-android-pkg-name"),h.androidInstallApp=m.android.installApp,h.androidMinimumVersionCode=m.android.minimumVersion,h.androidPackageName=m.android.packageName)}function Wo(v){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,p.Z)(function*(v){const h=jn(v);h._getPasswordPolicyInternal()&&(yield h._updatePasswordPolicy())})).apply(this,arguments)}function wo(v,h,m){return Es.apply(this,arguments)}function Es(){return(Es=(0,p.Z)(function*(v,h,m){const C=jn(v),W={requestType:"PASSWORD_RESET",email:h,clientType:"CLIENT_TYPE_WEB"};m&&qs(C,W,m),yield Ds(C,W,"getOobCode",gs)})).apply(this,arguments)}function Co(v,h,m){return oa.apply(this,arguments)}function oa(){return oa=(0,p.Z)(function*(v,h,m){yield Hs((0,V.m9)(v),{oobCode:h,newPassword:m}).catch(function(){var C=(0,p.Z)(function*(W){throw"auth/password-does-not-meet-requirements"===W.code&&Wo(v),W});return function(W){return C.apply(this,arguments)}}())}),oa.apply(this,arguments)}function ll(v,h){return Lo.apply(this,arguments)}function Lo(){return Lo=(0,p.Z)(function*(v,h){yield function Ur(v,h){return Nr.apply(this,arguments)}((0,V.m9)(v),{oobCode:h})}),Lo.apply(this,arguments)}function aa(v,h){return ko.apply(this,arguments)}function ko(){return(ko=(0,p.Z)(function*(v,h){const m=(0,V.m9)(v),C=yield Hs(m,{oobCode:h}),W=C.requestType;switch(ye(W,m,"internal-error"),W){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ye(C.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ye(C.mfaInfo,m,"internal-error");default:ye(C.email,m,"internal-error")}let ie=null;return C.mfaInfo&&(ie=Ws._fromServerResponse(jn(m),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:ie},operation:W}})).apply(this,arguments)}function Ks(v,h){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,p.Z)(function*(v,h){const{data:m}=yield aa((0,V.m9)(v),h);return m.email})).apply(this,arguments)}function Aa(v,h,m){return qo.apply(this,arguments)}function qo(){return(qo=(0,p.Z)(function*(v,h,m){const C=jn(v),Ve=yield Ds(C,{returnSecureToken:!0,email:h,password:m,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ji).catch(It=>{throw"auth/password-does-not-meet-requirements"===It.code&&Wo(v),It}),st=yield ai._fromIdTokenResponse(C,"signIn",Ve);return yield C._updateCurrentUser(st.user),st})).apply(this,arguments)}function Fl(v,h,m){return Tn((0,V.m9)(v),oo.credential(h,m)).catch(function(){var C=(0,p.Z)(function*(W){throw"auth/password-does-not-meet-requirements"===W.code&&Wo(v),W});return function(W){return C.apply(this,arguments)}}())}function Vl(v,h,m){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,p.Z)(function*(v,h,m){const C=jn(v),W={requestType:"EMAIL_SIGNIN",email:h,clientType:"CLIENT_TYPE_WEB"};(function ie(Ve,st){ye(st.handleCodeInApp,C,"argument-error"),st&&qs(C,Ve,st)})(W,m),yield Ds(C,W,"getOobCode",Ft)})).apply(this,arguments)}function ul(v,h){const m=zs.parseLink(h);return"EMAIL_SIGNIN"===m?.operation}function Ul(v,h,m){return Z.apply(this,arguments)}function Z(){return(Z=(0,p.Z)(function*(v,h,m){const C=(0,V.m9)(v),W=oo.credentialWithLink(h,m||Ct());return ye(W._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),Tn(C,W)})).apply(this,arguments)}function E(){return(E=(0,p.Z)(function*(v,h){return He(v,"POST","/v1/accounts:createAuthUri",ke(v,h))})).apply(this,arguments)}function x(v,h){return Q.apply(this,arguments)}function Q(){return Q=(0,p.Z)(function*(v,h){const C={identifier:h,continueUri:$e()?Ct():"http://localhost"},{signinMethods:W}=yield function y(v,h){return E.apply(this,arguments)}((0,V.m9)(v),C);return W||[]}),Q.apply(this,arguments)}function le(v,h){return Re.apply(this,arguments)}function Re(){return Re=(0,p.Z)(function*(v,h){const m=(0,V.m9)(v),W={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};h&&qs(m.auth,W,h);const{email:ie}=yield function ms(v,h){return Ci.apply(this,arguments)}(m.auth,W);ie!==v.email&&(yield v.reload())}),Re.apply(this,arguments)}function _(v,h,m){return N.apply(this,arguments)}function N(){return N=(0,p.Z)(function*(v,h,m){const C=(0,V.m9)(v),ie={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:h};m&&qs(C.auth,ie,m);const{email:Ve}=yield function Wn(v,h){return oi.apply(this,arguments)}(C.auth,ie);Ve!==v.email&&(yield v.reload())}),N.apply(this,arguments)}function F(){return(F=(0,p.Z)(function*(v,h){return He(v,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function ce(v,h){return Ue.apply(this,arguments)}function Ue(){return Ue=(0,p.Z)(function*(v,{displayName:h,photoURL:m}){if(void 0===h&&void 0===m)return;const C=(0,V.m9)(v),ie={idToken:yield C.getIdToken(),displayName:h,photoUrl:m,returnSecureToken:!0},Ve=yield Rt(C,function P(v,h){return F.apply(this,arguments)}(C.auth,ie));C.displayName=Ve.displayName||null,C.photoURL=Ve.photoUrl||null;const st=C.providerData.find(({providerId:It})=>"password"===It);st&&(st.displayName=C.displayName,st.photoURL=C.photoURL),yield C._updateTokensIfNecessary(Ve)}),Ue.apply(this,arguments)}function Ze(v,h){return Ht((0,V.m9)(v),h,null)}function pt(v,h){return Ht((0,V.m9)(v),null,h)}function Ht(v,h,m){return rn.apply(this,arguments)}function rn(){return rn=(0,p.Z)(function*(v,h,m){const{auth:C}=v,ie={idToken:yield v.getIdToken(),returnSecureToken:!0};h&&(ie.email=h),m&&(ie.password=m);const Ve=yield Rt(v,function Mo(v,h){return As.apply(this,arguments)}(C,ie));yield v._updateTokensIfNecessary(Ve,!0)}),rn.apply(this,arguments)}class Jt{constructor(h,m,C={}){this.isNewUser=h,this.providerId=m,this.profile=C}}class On extends Jt{constructor(h,m,C,W){super(h,m,C),this.username=W}}class dn extends Jt{constructor(h,m){super(h,"facebook.com",m)}}class $n extends On{constructor(h,m){super(h,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class Qr extends Jt{constructor(h,m){super(h,"google.com",m)}}class Cr extends On{constructor(h,m,C){super(h,"twitter.com",m,C)}}function yi(v){const{user:h,_tokenResponse:m}=v;return h.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function _n(v){var h,m;if(!v)return null;const{providerId:C}=v,W=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},ie=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!C&&v?.idToken){const Ve=null===(m=null===(h=Ke(v.idToken))||void 0===h?void 0:h.firebase)||void 0===m?void 0:m.sign_in_provider;if(Ve)return new Jt(ie,"anonymous"!==Ve&&"custom"!==Ve?Ve:null)}if(!C)return null;switch(C){case"facebook.com":return new dn(ie,W);case"github.com":return new $n(ie,W);case"google.com":return new Qr(ie,W);case"twitter.com":return new Cr(ie,W,v.screenName||null);case"custom":case"anonymous":return new Jt(ie,null);default:return new Jt(ie,C,W)}}(m)}class Yr{constructor(h,m,C){this.type=h,this.credential=m,this.user=C}static _fromIdtoken(h,m){return new Yr("enroll",h,m)}static _fromMfaPendingCredential(h){return new Yr("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var m,C;if(h?.multiFactorSession){if(null!==(m=h.multiFactorSession)&&void 0!==m&&m.pendingCredential)return Yr._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null!==(C=h.multiFactorSession)&&void 0!==C&&C.idToken)return Yr._fromIdtoken(h.multiFactorSession.idToken)}return null}}class xs{constructor(h,m,C){this.session=h,this.hints=m,this.signInResolver=C}static _fromError(h,m){const C=jn(h),W=m.customData._serverResponse,ie=(W.mfaInfo||[]).map(st=>Ws._fromServerResponse(C,st));ye(W.mfaPendingCredential,C,"internal-error");const Ve=Yr._fromMfaPendingCredential(W.mfaPendingCredential);return new xs(Ve,ie,function(){var st=(0,p.Z)(function*(It){const Yt=yield It._process(C,Ve);delete W.mfaInfo,delete W.mfaPendingCredential;const pn=Object.assign(Object.assign({},W),{idToken:Yt.idToken,refreshToken:Yt.refreshToken});switch(m.operationType){case"signIn":const rr=yield ai._fromIdTokenResponse(C,m.operationType,pn);return yield C._updateCurrentUser(rr.user),rr;case"reauthenticate":return ye(m.user,C,"internal-error"),ai._forOperation(m.user,m.operationType,pn);default:ae(C,"internal-error")}});return function(It){return st.apply(this,arguments)}}())}resolveSignIn(h){var m=this;return(0,p.Z)(function*(){return m.signInResolver(h)})()}}function Gn(v,h){var m;const C=(0,V.m9)(v),W=h;return ye(h.customData.operationType,C,"argument-error"),ye(null===(m=W.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,C,"argument-error"),xs._fromError(C,W)}class Lr{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(C=>Ws._fromServerResponse(h.auth,C)))})}static _fromUser(h){return new Lr(h)}getSession(){var h=this;return(0,p.Z)(function*(){return Yr._fromIdtoken(yield h.user.getIdToken(),h.user)})()}enroll(h,m){var C=this;return(0,p.Z)(function*(){const W=h,ie=yield C.getSession(),Ve=yield Rt(C.user,W._process(C.user.auth,ie,m));return yield C.user._updateTokensIfNecessary(Ve),C.user.reload()})()}unenroll(h){var m=this;return(0,p.Z)(function*(){const C="string"==typeof h?h:h.uid,W=yield m.user.getIdToken();try{const ie=yield Rt(m.user,function mt(v,h){return He(v,"POST","/v2/accounts/mfaEnrollment:withdraw",ke(v,h))}(m.user.auth,{idToken:W,mfaEnrollmentId:C}));m.enrolledFactors=m.enrolledFactors.filter(({uid:Ve})=>Ve!==C),yield m.user._updateTokensIfNecessary(ie),yield m.user.reload()}catch(ie){throw ie}})()}}const vi=new WeakMap;function Dn(v){const h=(0,V.m9)(v);return vi.has(h)||vi.set(h,Lr._fromUser(h)),vi.get(h)}const Wt="__sak";class on{constructor(h,m){this.storageRetriever=h,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Wt,"1"),this.storage.removeItem(Wt),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,m){return this.storage.setItem(h,JSON.stringify(m)),Promise.resolve()}_get(h){const m=this.storage.getItem(h);return Promise.resolve(m?JSON.parse(m):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const ci=(()=>{class v extends on{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,C)=>this.onStorageEvent(m,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Zo(){const v=(0,V.z$)();return De(v)||et(v)}()&&function Mn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Qn(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const C of Object.keys(this.listeners)){const W=this.storage.getItem(C),ie=this.localCache[C];W!==ie&&m(C,ie,W)}}onStorageEvent(m,C=!1){if(!m.key)return void this.forAllChangedKeys((st,It,Yt)=>{this.notifyListeners(st,Yt)});const W=m.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const st=this.storage.getItem(W);if(m.newValue!==st)null!==m.newValue?this.storage.setItem(W,m.newValue):this.storage.removeItem(W);else if(this.localCache[W]===m.newValue&&!C)return}const ie=()=>{const st=this.storage.getItem(W);!C&&this.localCache[W]===st||this.notifyListeners(W,st)},Ve=this.storage.getItem(W);!function sn(){return(0,V.w1)()&&10===document.documentMode}()||Ve===m.newValue||m.newValue===m.oldValue?ie():setTimeout(ie,10)}notifyListeners(m,C){this.localCache[m]=C;const W=this.listeners[m];if(W)for(const ie of Array.from(W))ie(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,C,W)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:C,newValue:W}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(C)}_removeListener(m,C){this.listeners[m]&&(this.listeners[m].delete(C),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,C){var W=()=>super._set,ie=this;return(0,p.Z)(function*(){yield W().call(ie,m,C),ie.localCache[m]=JSON.stringify(C)})()}_get(m){var C=()=>super._get,W=this;return(0,p.Z)(function*(){const ie=yield C().call(W,m);return W.localCache[m]=JSON.stringify(ie),ie})()}_remove(m){var C=()=>super._remove,W=this;return(0,p.Z)(function*(){yield C().call(W,m),delete W.localCache[m]})()}}return v.type="LOCAL",v})(),Bl=(()=>{class v extends on{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,C){}_removeListener(m,C){}}return v.type="SESSION",v})();let vd=(()=>{class v{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const C=this.receivers.find(ie=>ie.isListeningto(m));if(C)return C;const W=new v(m);return this.receivers.push(W),W}isListeningto(m){return this.eventTarget===m}handleEvent(m){var C=this;return(0,p.Z)(function*(){const W=m,{eventId:ie,eventType:Ve,data:st}=W.data,It=C.handlersMap[Ve];if(!It?.size)return;W.ports[0].postMessage({status:"ack",eventId:ie,eventType:Ve});const Yt=Array.from(It).map(function(){var rr=(0,p.Z)(function*(hs){return hs(W.origin,st)});return function(hs){return rr.apply(this,arguments)}}()),pn=yield function Au(v){return Promise.all(v.map(function(){var h=(0,p.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(C){return{fulfilled:!1,reason:C}}});return function(m){return h.apply(this,arguments)}}()))}(Yt);W.ports[0].postMessage({status:"done",eventId:ie,eventType:Ve,response:pn})})()}_subscribe(m,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(C)}_unsubscribe(m,C){this.handlersMap[m]&&C&&this.handlersMap[m].delete(C),(!C||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function cl(v="",h=10){let m="";for(let C=0;C<h;C++)m+=Math.floor(10*Math.random());return v+m}class vt{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,m,C=50){var W=this;return(0,p.Z)(function*(){const ie=typeof MessageChannel<"u"?new MessageChannel:null;if(!ie)throw new Error("connection_unavailable");let Ve,st;return new Promise((It,Yt)=>{const pn=cl("",20);ie.port1.start();const rr=setTimeout(()=>{Yt(new Error("unsupported_event"))},C);st={messageChannel:ie,onMessage(hs){const ha=hs;if(ha.data.eventId===pn)switch(ha.data.status){case"ack":clearTimeout(rr),Ve=setTimeout(()=>{Yt(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ve),It(ha.data.response);break;default:clearTimeout(rr),clearTimeout(Ve),Yt(new Error("invalid_response"))}}},W.handlers.add(st),ie.port1.addEventListener("message",st.onMessage),W.target.postMessage({eventType:h,eventId:pn,data:m},[ie.port2])}).finally(()=>{st&&W.removeMessageHandler(st)})})()}}function In(){return window}function gc(){return typeof In().WorkerGlobalScope<"u"&&"function"==typeof In().importScripts}function Hl(){return(Hl=(0,p.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ja="firebaseLocalStorageDb",an="firebaseLocalStorage",dl="fbase_key";class Yn{constructor(h){this.request=h}toPromise(){return new Promise((h,m)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Xi(v,h){return v.transaction([an],h?"readwrite":"readonly").objectStore(an)}function Bt(){const v=indexedDB.open(ja,1);return new Promise((h,m)=>{v.addEventListener("error",()=>{m(v.error)}),v.addEventListener("upgradeneeded",()=>{const C=v.result;try{C.createObjectStore(an,{keyPath:dl})}catch(W){m(W)}}),v.addEventListener("success",(0,p.Z)(function*(){const C=v.result;C.objectStoreNames.contains(an)?h(C):(C.close(),yield function Tr(){const v=indexedDB.deleteDatabase(ja);return new Yn(v).toPromise()}(),h(yield Bt()))}))})}function ho(v,h,m){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,p.Z)(function*(v,h,m){const C=Xi(v,!0).put({[dl]:h,value:m});return new Yn(C).toPromise()})).apply(this,arguments)}function Su(){return(Su=(0,p.Z)(function*(v,h){const m=Xi(v,!1).get(h),C=yield new Yn(m).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function Pa(v,h){const m=Xi(v,!0).delete(h);return new Yn(m).toPromise()}const Pu=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,p.Z)(function*(){return m.db||(m.db=yield Bt()),m.db})()}_withRetries(m){var C=this;return(0,p.Z)(function*(){let W=0;for(;;)try{const ie=yield C._openDb();return yield m(ie)}catch(ie){if(W++>3)throw ie;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,p.Z)(function*(){return gc()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,p.Z)(function*(){m.receiver=vd._getInstance(function Os(){return gc()?self:null}()),m.receiver._subscribe("keyChanged",function(){var C=(0,p.Z)(function*(W,ie){return{keyProcessed:(yield m._poll()).includes(ie.key)}});return function(W,ie){return C.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var C=(0,p.Z)(function*(W,ie){return["keyChanged"]});return function(W,ie){return C.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,p.Z)(function*(){var C,W;if(m.activeServiceWorker=yield function ds(){return Hl.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new vt(m.activeServiceWorker);const ie=yield m.sender._send("ping",{},800);ie&&null!==(C=ie[0])&&void 0!==C&&C.fulfilled&&null!==(W=ie[0])&&void 0!==W&&W.value.includes("keyChanged")&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var C=this;return(0,p.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function xn(){var v;return(null===(v=navigator?.serviceWorker)||void 0===v?void 0:v.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:m},C.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,p.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Bt();return yield ho(m,Wt,"1"),yield Pa(m,Wt),!0}catch{}return!1})()}_withPendingWrite(m){var C=this;return(0,p.Z)(function*(){C.pendingWrites++;try{yield m()}finally{C.pendingWrites--}})()}_set(m,C){var W=this;return(0,p.Z)(function*(){return W._withPendingWrite((0,p.Z)(function*(){return yield W._withRetries(ie=>ho(ie,m,C)),W.localCache[m]=C,W.notifyServiceWorker(m)}))})()}_get(m){var C=this;return(0,p.Z)(function*(){const W=yield C._withRetries(ie=>function Sa(v,h){return Su.apply(this,arguments)}(ie,m));return C.localCache[m]=W,W})()}_remove(m){var C=this;return(0,p.Z)(function*(){return C._withPendingWrite((0,p.Z)(function*(){return yield C._withRetries(W=>Pa(W,m)),delete C.localCache[m],C.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,p.Z)(function*(){const C=yield m._withRetries(Ve=>{const st=Xi(Ve,!1).getAll();return new Yn(st).toPromise()});if(!C)return[];if(0!==m.pendingWrites)return[];const W=[],ie=new Set;if(0!==C.length)for(const{fbase_key:Ve,value:st}of C)ie.add(Ve),JSON.stringify(m.localCache[Ve])!==JSON.stringify(st)&&(m.notifyListeners(Ve,st),W.push(Ve));for(const Ve of Object.keys(m.localCache))m.localCache[Ve]&&!ie.has(Ve)&&(m.notifyListeners(Ve,null),W.push(Ve));return W})()}notifyListeners(m,C){this.localCache[m]=C;const W=this.listeners[m];if(W)for(const ie of Array.from(W))ie(C)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,p.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(C)}_removeListener(m,C){this.listeners[m]&&(this.listeners[m].delete(C),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})(),ne=1e12;class Y{constructor(h){this.auth=h,this.counter=ne,this._widgets=new Map}render(h,m){const C=this.counter;return this._widgets.set(C,new nt(h,this.auth.name,m||{})),this.counter++,C}reset(h){var m;const C=h||ne;null===(m=this._widgets.get(C))||void 0===m||m.delete(),this._widgets.delete(C)}getResponse(h){var m;return(null===(m=this._widgets.get(h||ne))||void 0===m?void 0:m.getResponse())||""}execute(h){var m=this;return(0,p.Z)(function*(){var C;return null===(C=m._widgets.get(h||ne))||void 0===C||C.execute(),""})()}}class nt{constructor(h,m,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const W="string"==typeof h?document.getElementById(h):h;ye(W,"argument-error",{appName:m}),this.container=W,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Qe(v){const h=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<v;C++)h.push(m.charAt(Math.floor(62*Math.random())));return h.join("")}(50);const{callback:h,"expired-callback":m}=this.params;if(h)try{h(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const zt=ro("rcb"),Vn=new bt(3e4,6e4);class nr{constructor(){var h;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(h=In().grecaptcha)||void 0===h||!h.render)}load(h,m=""){return ye(function dr(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(m),h,"argument-error"),this.shouldResolveImmediately(m)&&Sn(In().grecaptcha)?Promise.resolve(In().grecaptcha):new Promise((C,W)=>{const ie=In().setTimeout(()=>{W(Me(h,"network-request-failed"))},Vn.get());In()[zt]=()=>{In().clearTimeout(ie),delete In()[zt];const st=In().grecaptcha;if(!st||!Sn(st))return void W(Me(h,"internal-error"));const It=st.render;st.render=(Yt,pn)=>{const rr=It(Yt,pn);return this.counter++,rr},this.hostLanguage=m,C(st)},Oi(`https://www.google.com/recaptcha/api.js??${(0,V.xO)({onload:zt,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(ie),W(Me(h,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){var m;return!(null===(m=In().grecaptcha)||void 0===m||!m.render)&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ma{load(h){return(0,p.Z)(function*(){return new Y(h)})()}clearedOneInstance(){}}const la="recaptcha",Ru={theme:"light",type:"image"};class $a{constructor(h,m,C=Object.assign({},Ru)){this.parameters=C,this.type=la,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=jn(h),this.isInvisible="invisible"===this.parameters.size,ye(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const W="string"==typeof m?document.getElementById(m):m;ye(W,this.auth,"argument-error"),this.container=W,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ma:new nr,this.validateStartingState()}verify(){var h=this;return(0,p.Z)(function*(){h.assertNotDestroyed();const m=yield h.render(),C=h.getAssertedRecaptcha();return C.getResponse(m)||new Promise(ie=>{const Ve=st=>{st&&(h.tokenChangeListeners.delete(Ve),ie(st))};h.tokenChangeListeners.add(Ve),h.isInvisible&&C.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){ye(!this.parameters.sitekey,this.auth,"argument-error"),ye(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ye(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return m=>{if(this.tokenChangeListeners.forEach(C=>C(m)),"function"==typeof h)h(m);else if("string"==typeof h){const C=In()[h];"function"==typeof C&&C(m)}}}assertNotDestroyed(){ye(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,p.Z)(function*(){if(yield h.init(),!h.widgetId){let m=h.container;if(!h.isInvisible){const C=document.createElement("div");m.appendChild(C),m=C}h.widgetId=h.getAssertedRecaptcha().render(m,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,p.Z)(function*(){ye($e()&&!gc(),h.auth,"internal-error"),yield function Ls(){let v=null;return new Promise(h=>{"complete"!==document.readyState?(v=()=>h(),window.addEventListener("load",v)):h()}).catch(h=>{throw v&&window.removeEventListener("load",v),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const m=yield function Pn(v){return vr.apply(this,arguments)}(h.auth);ye(m,h.auth,"internal-error"),h.parameters.sitekey=m})()}getAssertedRecaptcha(){return ye(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class za{constructor(h,m){this.verificationId=h,this.onConfirmation=m}confirm(h){const m=Gi._fromVerification(this.verificationId,h);return this.onConfirmation(m)}}function Ga(v,h,m){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,p.Z)(function*(v,h,m){const C=jn(v),W=yield hl(C,h,(0,V.m9)(m));return new za(W,ie=>Tn(C,ie))})).apply(this,arguments)}function ks(v,h,m){return jl.apply(this,arguments)}function jl(){return(jl=(0,p.Z)(function*(v,h,m){const C=(0,V.m9)(v);yield G(!1,C,"phone");const W=yield hl(C.auth,h,(0,V.m9)(m));return new za(W,ie=>Is(C,ie))})).apply(this,arguments)}function Mu(v,h,m){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,p.Z)(function*(v,h,m){const C=(0,V.m9)(v),W=yield hl(C.auth,h,(0,V.m9)(m));return new za(W,ie=>To(C,ie))})).apply(this,arguments)}function hl(v,h,m){return fl.apply(this,arguments)}function fl(){return fl=(0,p.Z)(function*(v,h,m){var C;const W=yield m.verify();try{let ie;if(ye("string"==typeof W,v,"argument-error"),ye(m.type===la,v,"argument-error"),ie="string"==typeof h?{phoneNumber:h}:h,"session"in ie){const Ve=ie.session;if("phoneNumber"in ie)return ye("enroll"===Ve.type,v,"internal-error"),(yield function cs(v,h){return He(v,"POST","/v2/accounts/mfaEnrollment:start",ke(v,h))}(v,{idToken:Ve.credential,phoneEnrollmentInfo:{phoneNumber:ie.phoneNumber,recaptchaToken:W}})).phoneSessionInfo.sessionInfo;{ye("signin"===Ve.type,v,"internal-error");const st=(null===(C=ie.multiFactorHint)||void 0===C?void 0:C.uid)||ie.multiFactorUid;return ye(st,v,"missing-multi-factor-info"),(yield function T(v,h){return He(v,"POST","/v2/accounts/mfaSignIn:start",ke(v,h))}(v,{mfaPendingCredential:Ve.credential,mfaEnrollmentId:st,phoneSignInInfo:{recaptchaToken:W}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ve}=yield function $i(v,h){return or.apply(this,arguments)}(v,{phoneNumber:ie.phoneNumber,recaptchaToken:W});return Ve}}finally{m._reset()}}),fl.apply(this,arguments)}function Id(v,h){return Ed.apply(this,arguments)}function Ed(){return(Ed=(0,p.Z)(function*(v,h){yield vs((0,V.m9)(v),h)})).apply(this,arguments)}let $l=(()=>{class v{constructor(m){this.providerId=v.PROVIDER_ID,this.auth=jn(m)}verifyPhoneNumber(m,C){return hl(this.auth,m,(0,V.m9)(C))}static credential(m,C){return Gi._fromVerification(m,C)}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:C,temporaryProof:W}=m;return C&&W?Gi._fromTokenResponse(C,W):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function Yo(v,h){return h?Le(h):(ye(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class Td extends Bs{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return hi(h,this._buildIdpRequest())}_linkToIdToken(h,m){return hi(h,this._buildIdpRequest(m))}_getReauthenticationResolver(h){return hi(h,this._buildIdpRequest())}_buildIdpRequest(h){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(m.idToken=h),m}}function n_(v){return be(v.auth,new Td(v),v.bypassAuthState)}function wd(v){const{auth:h,user:m}=v;return ye(m,h,"internal-error"),O(m,new Td(v),v.bypassAuthState)}function r_(v){return Cd.apply(this,arguments)}function Cd(){return(Cd=(0,p.Z)(function*(v){const{auth:h,user:m}=v;return ye(m,h,"internal-error"),vs(m,new Td(v),v.bypassAuthState)})).apply(this,arguments)}class wh{constructor(h,m,C,W,ie=!1){this.auth=h,this.resolver=C,this.user=W,this.bypassAuthState=ie,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var h=this;return new Promise(function(){var m=(0,p.Z)(function*(C,W){h.pendingPromise={resolve:C,reject:W};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(ie){h.reject(ie)}});return function(C,W){return m.apply(this,arguments)}}())}onAuthEvent(h){var m=this;return(0,p.Z)(function*(){const{urlResponse:C,sessionId:W,postBody:ie,tenantId:Ve,error:st,type:It}=h;if(st)return void m.reject(st);const Yt={auth:m.auth,requestUri:C,sessionId:W,tenantId:Ve||void 0,postBody:ie||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(It)(Yt))}catch(pn){m.reject(pn)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return n_;case"linkViaPopup":case"linkViaRedirect":return r_;case"reauthViaPopup":case"reauthViaRedirect":return wd;default:ae(this.auth,"internal-error")}}resolve(h){at(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){at(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const i_=new bt(2e3,1e4);function s_(v,h,m){return xu.apply(this,arguments)}function xu(){return(xu=(0,p.Z)(function*(v,h,m){const C=jn(v);ge(v,h,Pr);const W=Yo(C,m);return new Gl(C,"signInViaPopup",h,W).executeNotNull()})).apply(this,arguments)}function Ou(v,h,m){return bd.apply(this,arguments)}function bd(){return(bd=(0,p.Z)(function*(v,h,m){const C=(0,V.m9)(v);ge(C.auth,h,Pr);const W=Yo(C.auth,m);return new Gl(C.auth,"reauthViaPopup",h,W,C).executeNotNull()})).apply(this,arguments)}function Nu(v,h,m){return zl.apply(this,arguments)}function zl(){return(zl=(0,p.Z)(function*(v,h,m){const C=(0,V.m9)(v);ge(C.auth,h,Pr);const W=Yo(C.auth,m);return new Gl(C.auth,"linkViaPopup",h,W,C).executeNotNull()})).apply(this,arguments)}let Gl=(()=>{class v extends wh{constructor(m,C,W,ie,Ve){super(m,C,ie,Ve),this.provider=W,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var m=this;return(0,p.Z)(function*(){const C=yield m.execute();return ye(C,m.auth,"internal-error"),C})()}onExecution(){var m=this;return(0,p.Z)(function*(){at(1===m.filter.length,"Popup operations only handle one event");const C=cl();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],C),m.authWindow.associatedEvent=C,m.resolver._originValidation(m.auth).catch(W=>{m.reject(W)}),m.resolver._isIframeWebStorageSupported(m.auth,W=>{W||m.reject(Me(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Me(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const m=()=>{var C,W;this.pollId=null!==(W=null===(C=this.authWindow)||void 0===C?void 0:C.window)&&void 0!==W&&W.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Me(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(m,i_.get())};m()}}return v.currentPopupAction=null,v})();const Dp="pendingRedirect",pl=new Map;class Ch extends wh{constructor(h,m,C=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,C),this.eventId=null}execute(){var h=()=>super.execute,m=this;return(0,p.Z)(function*(){let C=pl.get(m.auth._key());if(!C){try{const ie=(yield function Dd(v,h){return Gr.apply(this,arguments)}(m.resolver,m.auth))?yield h().call(m):null;C=()=>Promise.resolve(ie)}catch(W){C=()=>Promise.reject(W)}pl.set(m.auth._key(),C)}return m.bypassAuthState||pl.set(m.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(h){var m=()=>super.onAuthEvent,C=this;return(0,p.Z)(function*(){if("signInViaRedirect"===h.type)return m().call(C,h);if("unknown"!==h.type){if(h.eventId){const W=yield C.auth._redirectUserForId(h.eventId);if(W)return C.user=W,m().call(C,h);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,p.Z)(function*(){})()}cleanUp(){}}function Gr(){return(Gr=(0,p.Z)(function*(v,h){const m=es(h),C=Wa(v);if(!(yield C._isAvailable()))return!1;const W="true"===(yield C._get(m));return yield C._remove(m),W})).apply(this,arguments)}function yc(v,h){return Do.apply(this,arguments)}function Do(){return(Do=(0,p.Z)(function*(v,h){return Wa(v)._set(es(h),"true")})).apply(this,arguments)}function vc(){pl.clear()}function Xr(v,h){pl.set(v._key(),h)}function Wa(v){return Le(v._redirectPersistence)}function es(v){return Lt(Dp,v.config.apiKey,v.name)}function ei(v,h,m){return function Ad(v,h,m){return xa.apply(this,arguments)}(v,h,m)}function xa(){return(xa=(0,p.Z)(function*(v,h,m){const C=jn(v);ge(v,h,Pr),yield C._initializationPromise;const W=Yo(C,m);return yield yc(W,C),W._openRedirect(C,h,"signInViaRedirect")})).apply(this,arguments)}function Qs(v,h,m){return function Sd(v,h,m){return Pd.apply(this,arguments)}(v,h,m)}function Pd(){return(Pd=(0,p.Z)(function*(v,h,m){const C=(0,V.m9)(v);ge(C.auth,h,Pr),yield C.auth._initializationPromise;const W=Yo(C.auth,m);yield yc(W,C.auth);const ie=yield ts(C);return W._openRedirect(C.auth,h,"reauthViaRedirect",ie)})).apply(this,arguments)}function Ui(v,h,m){return function ml(v,h,m){return ua.apply(this,arguments)}(v,h,m)}function ua(){return(ua=(0,p.Z)(function*(v,h,m){const C=(0,V.m9)(v);ge(C.auth,h,Pr),yield C.auth._initializationPromise;const W=Yo(C.auth,m);yield G(!1,C,h.providerId),yield yc(W,C.auth);const ie=yield ts(C);return W._openRedirect(C.auth,h,"linkViaRedirect",ie)})).apply(this,arguments)}function Pi(v,h){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,p.Z)(function*(v,h){return yield jn(v)._initializationPromise,ca(v,h,!1)})).apply(this,arguments)}function ca(v,h){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,p.Z)(function*(v,h,m=!1){const C=jn(v),W=Yo(C,h),Ve=yield new Ch(C,W,m).execute();return Ve&&!m&&(delete Ve.user._redirectEventId,yield C._persistUserIfCurrent(Ve.user),yield C._setRedirectUser(null,h)),Ve})).apply(this,arguments)}function ts(v){return Rd.apply(this,arguments)}function Rd(){return(Rd=(0,p.Z)(function*(v){const h=cl(`${v.uid}:::`);return v._redirectEventId=h,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),h})).apply(this,arguments)}class Jo{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let m=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(h,C)&&(m=!0,this.sendToConsumer(h,C),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function Bo(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return da(v);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=h,m=!0)),m}sendToConsumer(h,m){var C;if(h.error&&!da(h)){const W=(null===(C=h.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";m.onError(Me(this.auth,W))}else m.onAuthEvent(h)}isEventForConsumer(h,m){const C=null===m.eventId||!!h.eventId&&h.eventId===m.eventId;return m.filter.includes(h.type)&&C}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Lu(h))}saveEventToCache(h){this.cachedEventUids.add(Lu(h)),this.lastProcessedEventTime=Date.now()}}function Lu(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(h=>h).join("-")}function da({type:v,error:h}){return"unknown"===v&&"auth/no-auth-event"===h?.code}function Xo(v){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,p.Z)(function*(v,h={}){return He(v,"GET","/v1/projects",h)})).apply(this,arguments)}const gl=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_l=/^https?/;function ea(){return(ea=(0,p.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:h}=yield Xo(v);for(const m of h)try{if(ql(m))return}catch{}ae(v,"unauthorized-domain")})).apply(this,arguments)}function ql(v){const h=Ct(),{protocol:m,hostname:C}=new URL(h);if(v.startsWith("chrome-extension://")){const Ve=new URL(v);return""===Ve.hostname&&""===C?"chrome-extension:"===m&&v.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===m&&Ve.hostname===C}if(!_l.test(m))return!1;if(gl.test(v))return C===v;const W=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+W+"|"+W+")$","i").test(C)}const Md=new bt(3e4,6e4);function Fu(){const v=In().___jsl;if(v?.H)for(const h of Object.keys(v.H))if(v.H[h].r=v.H[h].r||[],v.H[h].L=v.H[h].L||[],v.H[h].r=[...v.H[h].L],v.CP)for(let m=0;m<v.CP.length;m++)v.CP[m]=null}let Ic=null;const Ec=new bt(5e3,15e3),Sp="__/auth/iframe",Kl="emulator/auth/iframe",Pp={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ns(v){const h=v.config;ye(h.authDomain,v,"auth-domain-config-required");const m=h.emulator?Nt(h,Kl):`https://${v.config.authDomain}/${Sp}`,C={apiKey:h.apiKey,appName:v.name,v:b.SDK_VERSION},W=bh.get(v.config.apiHost);W&&(C.eid=W);const ie=v._getFrameworks();return ie.length&&(C.fw=ie.join(",")),`${m}?${(0,V.xO)(C).slice(1)}`}function qa(){return qa=(0,p.Z)(function*(v){const h=yield function xd(v){return Ic=Ic||function Ap(v){return new Promise((h,m)=>{var C,W,ie;function Ve(){Fu(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{Fu(),m(Me(v,"network-request-failed"))},timeout:Md.get()})}if(null!==(W=null===(C=In().gapi)||void 0===C?void 0:C.iframes)&&void 0!==W&&W.Iframe)h(gapi.iframes.getContext());else{if(null===(ie=In().gapi)||void 0===ie||!ie.load){const st=ro("iframefcb");return In()[st]=()=>{gapi.load?Ve():m(Me(v,"network-request-failed"))},Oi(`https://apis.google.com/js/api.js?onload=${st}`).catch(It=>m(It))}Ve()}}).catch(h=>{throw Ic=null,h})}(v),Ic}(v),m=In().gapi;return ye(m,v,"internal-error"),h.open({where:document.body,url:ns(v),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Pp,dontclear:!0},C=>new Promise(function(){var W=(0,p.Z)(function*(ie,Ve){yield C.restyle({setHideOnLeave:!1});const st=Me(v,"network-request-failed"),It=In().setTimeout(()=>{Ve(st)},Ec.get());function Yt(){In().clearTimeout(It),ie(C)}C.ping(Yt).then(Yt,()=>{Ve(st)})});return function(ie,Ve){return W.apply(this,arguments)}}()))}),qa.apply(this,arguments)}const pi={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Zl{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Wr="__/auth/handler",Vu="emulator/auth/handler",Js=encodeURIComponent("fac");function vl(v,h,m,C,W,ie){return Na.apply(this,arguments)}function Na(){return(Na=(0,p.Z)(function*(v,h,m,C,W,ie){ye(v.config.authDomain,v,"auth-domain-config-required"),ye(v.config.apiKey,v,"invalid-api-key");const Ve={apiKey:v.config.apiKey,appName:v.name,authType:m,redirectUrl:C,v:b.SDK_VERSION,eventId:W};if(h instanceof Pr){h.setDefaultLanguage(v.languageCode),Ve.providerId=h.providerId||"",(0,V.xb)(h.getCustomParameters())||(Ve.customParameters=JSON.stringify(h.getCustomParameters()));for(const[pn,rr]of Object.entries(ie||{}))Ve[pn]=rr}if(h instanceof Ai){const pn=h.getScopes().filter(rr=>""!==rr);pn.length>0&&(Ve.scopes=pn.join(","))}v.tenantId&&(Ve.tid=v.tenantId);const st=Ve;for(const pn of Object.keys(st))void 0===st[pn]&&delete st[pn];const It=yield v._getAppCheckToken(),Yt=It?`#${Js}=${encodeURIComponent(It)}`:"";return`${function Ah({config:v}){return v.emulator?Nt(v,Vu):`https://${v.authDomain}/${Wr}`}(v)}?${(0,V.xO)(st).slice(1)}${Yt}`})).apply(this,arguments)}const Uu="webStorageSupport",Nd=class Sh{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Bl,this._completeRedirectFn=ca,this._overrideRedirectResult=Xr}_openPopup(h,m,C,W){var ie=this;return(0,p.Z)(function*(){var Ve;at(null===(Ve=ie.eventManagers[h._key()])||void 0===Ve?void 0:Ve.manager,"_initialize() not called before _openPopup()");const st=yield vl(h,m,C,Ct(),W);return function Dh(v,h,m,C=500,W=600){const ie=Math.max((window.screen.availHeight-W)/2,0).toString(),Ve=Math.max((window.screen.availWidth-C)/2,0).toString();let st="";const It=Object.assign(Object.assign({},pi),{width:C.toString(),height:W.toString(),top:ie,left:Ve}),Yt=(0,V.z$)().toLowerCase();m&&(st=ve(Yt)?"_blank":m),bn(Yt)&&(h=h||"http://localhost",It.scrollbars="yes");const pn=Object.entries(It).reduce((hs,[ha,Cc])=>`${hs}${ha}=${Cc},`,"");if(function dt(v=(0,V.z$)()){var h;return et(v)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(Yt)&&"_self"!==st)return function wr(v,h){const m=document.createElement("a");m.href=v,m.target=h;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(C)}(h||"",st),new Zl(null);const rr=window.open(h||"",st,pn);ye(rr,v,"popup-blocked");try{rr.focus()}catch{}return new Zl(rr)}(h,st,cl())})()}_openRedirect(h,m,C,W){var ie=this;return(0,p.Z)(function*(){return yield ie._originValidation(h),function mc(v){In().location.href=v}(yield vl(h,m,C,Ct(),W)),new Promise(()=>{})})()}_initialize(h){const m=h._key();if(this.eventManagers[m]){const{manager:W,promise:ie}=this.eventManagers[m];return W?Promise.resolve(W):(at(ie,"If manager is not set, promise should be"),ie)}const C=this.initAndGetManager(h);return this.eventManagers[m]={promise:C},C.catch(()=>{delete this.eventManagers[m]}),C}initAndGetManager(h){var m=this;return(0,p.Z)(function*(){const C=yield function ws(v){return qa.apply(this,arguments)}(h),W=new Jo(h);return C.register("authEvent",ie=>(ye(ie?.authEvent,h,"invalid-auth-event"),{status:W.onEvent(ie.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[h._key()]={manager:W},m.iframes[h._key()]=C,W})()}_isIframeWebStorageSupported(h,m){this.iframes[h._key()].send(Uu,{type:Uu},W=>{var ie;const Ve=null===(ie=W?.[0])||void 0===ie?void 0:ie[Uu];void 0!==Ve&&m(!!Ve),ae(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const m=h._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function ku(v){return ea.apply(this,arguments)}(h)),this.originValidationPromises[m]}get _shouldInitProactively(){return Qn()||De()||et()}};class Rp{constructor(h){this.factorId=h}_process(h,m,C){switch(m.type){case"enroll":return this._finalizeEnroll(h,m.credential,C);case"signin":return this._finalizeSignIn(h,m.credential);default:return he("unexpected MultiFactorSessionType")}}}class Ld extends Rp{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new Ld(h)}_finalizeEnroll(h,m,C){return function bo(v,h){return He(v,"POST","/v2/accounts/mfaEnrollment:finalize",ke(v,h))}(h,{idToken:m,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,m){return function A(v,h){return He(v,"POST","/v2/accounts/mfaSignIn:finalize",ke(v,h))}(h,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Mp=(()=>{class v{constructor(){}static assertion(m){return Ld._fromCredential(m)}}return v.FACTOR_ID="phone",v})();var Hu="@firebase/auth";class Yl{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var m=this;return(0,p.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const m=this.auth.onIdTokenChanged(C=>{h(C?.stsTokenManager.accessToken||null)});this.internalListeners.set(h,m),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const m=this.internalListeners.get(h);m&&(this.internalListeners.delete(h),m(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,V.Pz)("authIdTokenMaxAge"),function Jl(v){(0,b._registerComponent)(new J.wA("auth",(h,{options:m})=>{const C=h.getProvider("app").getImmediate(),W=h.getProvider("heartbeat"),ie=h.getProvider("app-check-internal"),{apiKey:Ve,authDomain:st}=C.options;ye(Ve&&!Ve.includes(":"),"invalid-api-key",{appName:C.name});const It={apiKey:Ve,authDomain:st,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:er(v)},Yt=new Vs(C,W,ie,It);return function vo(v,h){const m=h?.persistence||[],C=(Array.isArray(m)?m:[m]).map(Le);h?.errorMap&&v._updateErrorMap(h.errorMap),v._initializeWithPersistence(C,h?.popupRedirectResolver)}(Yt,m),Yt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,m,C)=>{h.getProvider("auth-internal").initialize()})),(0,b._registerComponent)(new J.wA("auth-internal",h=>{const m=jn(h.getProvider("auth").getImmediate());return new Yl(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,b.registerVersion)(Hu,"1.5.1",function Il(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,b.registerVersion)(Hu,"1.5.1","esm2017")}("Browser")},9058:(xt,je,U)=>{U.d(je,{BH:()=>me,G6:()=>Nt,L:()=>de,LL:()=>ht,Pz:()=>Me,Sg:()=>ge,UG:()=>he,ZB:()=>Ee,ZR:()=>He,aH:()=>ae,b$:()=>$e,eu:()=>Oe,hl:()=>Se,jU:()=>at,m9:()=>Vr,ne:()=>Zn,pd:()=>hn,r3:()=>Cn,ru:()=>Ct,tV:()=>X,uI:()=>ye,vZ:()=>Rn,w1:()=>At,xO:()=>ir,xb:()=>Pn,z$:()=>Ce,zd:()=>en});const Te=function(Pe){const re=[];let $=0;for(let L=0;L<Pe.length;L++){let k=Pe.charCodeAt(L);k<128?re[$++]=k:k<2048?(re[$++]=k>>6|192,re[$++]=63&k|128):55296==(64512&k)&&L+1<Pe.length&&56320==(64512&Pe.charCodeAt(L+1))?(k=65536+((1023&k)<<10)+(1023&Pe.charCodeAt(++L)),re[$++]=k>>18|240,re[$++]=k>>12&63|128,re[$++]=k>>6&63|128,re[$++]=63&k|128):(re[$++]=k>>12|224,re[$++]=k>>6&63|128,re[$++]=63&k|128)}return re},J={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Pe,re){if(!Array.isArray(Pe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const $=re?this.byteToCharMapWebSafe_:this.byteToCharMap_,L=[];for(let k=0;k<Pe.length;k+=3){const fe=Pe[k],Le=k+1<Pe.length,ct=Le?Pe[k+1]:0,Tt=k+2<Pe.length,Lt=Tt?Pe[k+2]:0;let bn=(15&ct)<<2|Lt>>6,De=63&Lt;Tt||(De=64,Le||(bn=64)),L.push($[fe>>2],$[(3&fe)<<4|ct>>4],$[bn],$[De])}return L.join("")},encodeString(Pe,re){return this.HAS_NATIVE_SUPPORT&&!re?btoa(Pe):this.encodeByteArray(Te(Pe),re)},decodeString(Pe,re){return this.HAS_NATIVE_SUPPORT&&!re?atob(Pe):function(Pe){const re=[];let $=0,L=0;for(;$<Pe.length;){const k=Pe[$++];if(k<128)re[L++]=String.fromCharCode(k);else if(k>191&&k<224){const fe=Pe[$++];re[L++]=String.fromCharCode((31&k)<<6|63&fe)}else if(k>239&&k<365){const Tt=((7&k)<<18|(63&Pe[$++])<<12|(63&Pe[$++])<<6|63&Pe[$++])-65536;re[L++]=String.fromCharCode(55296+(Tt>>10)),re[L++]=String.fromCharCode(56320+(1023&Tt))}else{const fe=Pe[$++],Le=Pe[$++];re[L++]=String.fromCharCode((15&k)<<12|(63&fe)<<6|63&Le)}}return re.join("")}(this.decodeStringToByteArray(Pe,re))},decodeStringToByteArray(Pe,re){this.init_();const $=re?this.charToByteMapWebSafe_:this.charToByteMap_,L=[];for(let k=0;k<Pe.length;){const fe=$[Pe.charAt(k++)],ct=k<Pe.length?$[Pe.charAt(k)]:0;++k;const Lt=k<Pe.length?$[Pe.charAt(k)]:64;++k;const Kt=k<Pe.length?$[Pe.charAt(k)]:64;if(++k,null==fe||null==ct||null==Lt||null==Kt)throw new q;L.push(fe<<2|ct>>4),64!==Lt&&(L.push(ct<<4&240|Lt>>2),64!==Kt&&L.push(Lt<<6&192|Kt))}return L},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Pe=0;Pe<this.ENCODED_VALS.length;Pe++)this.byteToCharMap_[Pe]=this.ENCODED_VALS.charAt(Pe),this.charToByteMap_[this.byteToCharMap_[Pe]]=Pe,this.byteToCharMapWebSafe_[Pe]=this.ENCODED_VALS_WEBSAFE.charAt(Pe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Pe]]=Pe,Pe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Pe)]=Pe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Pe)]=Pe)}}};class q extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const de=function(Pe){return function(Pe){const re=Te(Pe);return J.encodeByteArray(re,!0)}(Pe).replace(/\./g,"")},X=function(Pe){try{return J.decodeString(Pe,!0)}catch(re){console.error("base64Decode failed: ",re)}return null};function Ee(Pe,re){if(!(re instanceof Object))return re;switch(re.constructor){case Date:return new Date(re.getTime());case Object:void 0===Pe&&(Pe={});break;case Array:Pe=[];break;default:return re}for(const $ in re)!re.hasOwnProperty($)||!ze($)||(Pe[$]=Ee(Pe[$],re[$]));return Pe}function ze(Pe){return"__proto__"!==Pe}const it=()=>{try{return function Ye(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Pe=process.env.__FIREBASE_DEFAULTS__;return Pe?JSON.parse(Pe):void 0})()||(()=>{if(typeof document>"u")return;let Pe;try{Pe=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const re=Pe&&X(Pe[1]);return re&&JSON.parse(re)})()}catch(Pe){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Pe}`)}},ae=()=>{var Pe;return null===(Pe=it())||void 0===Pe?void 0:Pe.config},Me=Pe=>{var re;return null===(re=it())||void 0===re?void 0:re[`_${Pe}`]};class me{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((re,$)=>{this.resolve=re,this.reject=$})}wrapCallback(re){return($,L)=>{$?this.reject($):this.resolve(L),"function"==typeof re&&(this.promise.catch(()=>{}),1===re.length?re($):re($,L))}}}function ge(Pe,re){if(Pe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const L=re||"demo-project",k=Pe.iat||0,fe=Pe.sub||Pe.user_id;if(!fe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Le=Object.assign({iss:`https://securetoken.google.com/${L}`,aud:L,iat:k,exp:k+3600,auth_time:k,sub:fe,user_id:fe,firebase:{sign_in_provider:"custom",identities:{}}},Pe);return[de(JSON.stringify({alg:"none",type:"JWT"})),de(JSON.stringify(Le)),""].join(".")}function Ce(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ye(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ce())}function he(){var Pe;const re=null===(Pe=it())||void 0===Pe?void 0:Pe.forceEnvironment;if("node"===re)return!0;if("browser"===re)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function at(){return"object"==typeof self&&self.self===self}function Ct(){const Pe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Pe&&void 0!==Pe.id}function $e(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function At(){const Pe=Ce();return Pe.indexOf("MSIE ")>=0||Pe.indexOf("Trident/")>=0}function Nt(){return!he()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Se(){try{return"object"==typeof indexedDB}catch{return!1}}function Oe(){return new Promise((Pe,re)=>{try{let $=!0;const L="validate-browser-context-for-indexeddb-analytics-module",k=self.indexedDB.open(L);k.onsuccess=()=>{k.result.close(),$||self.indexedDB.deleteDatabase(L),Pe(!0)},k.onupgradeneeded=()=>{$=!1},k.onerror=()=>{var fe;re((null===(fe=k.error)||void 0===fe?void 0:fe.message)||"")}}catch($){re($)}})}class He extends Error{constructor(re,$,L){super($),this.code=re,this.customData=L,this.name="FirebaseError",Object.setPrototypeOf(this,He.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ht.prototype.create)}}class ht{constructor(re,$,L){this.service=re,this.serviceName=$,this.errors=L}create(re,...$){const L=$[0]||{},k=`${this.service}/${re}`,fe=this.errors[re],Le=fe?function gt(Pe,re){return Pe.replace(_t,($,L)=>{const k=re[L];return null!=k?String(k):`<${L}?>`})}(fe,L):"Error";return new He(k,`${this.serviceName}: ${Le} (${k}).`,L)}}const _t=/\{\$([^}]+)}/g;function Cn(Pe,re){return Object.prototype.hasOwnProperty.call(Pe,re)}function Pn(Pe){for(const re in Pe)if(Object.prototype.hasOwnProperty.call(Pe,re))return!1;return!0}function Rn(Pe,re){if(Pe===re)return!0;const $=Object.keys(Pe),L=Object.keys(re);for(const k of $){if(!L.includes(k))return!1;const fe=Pe[k],Le=re[k];if(Fn(fe)&&Fn(Le)){if(!Rn(fe,Le))return!1}else if(fe!==Le)return!1}for(const k of L)if(!$.includes(k))return!1;return!0}function Fn(Pe){return null!==Pe&&"object"==typeof Pe}function ir(Pe){const re=[];for(const[$,L]of Object.entries(Pe))Array.isArray(L)?L.forEach(k=>{re.push(encodeURIComponent($)+"="+encodeURIComponent(k))}):re.push(encodeURIComponent($)+"="+encodeURIComponent(L));return re.length?"&"+re.join("&"):""}function en(Pe){const re={};return Pe.replace(/^\?/,"").split("&").forEach(L=>{if(L){const[k,fe]=L.split("=");re[decodeURIComponent(k)]=decodeURIComponent(fe)}}),re}function hn(Pe){const re=Pe.indexOf("?");if(!re)return"";const $=Pe.indexOf("#",re);return Pe.substring(re,$>0?$:void 0)}function Zn(Pe,re){const $=new Ir(Pe,re);return $.subscribe.bind($)}class Ir{constructor(re,$){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=$,this.task.then(()=>{re(this)}).catch(L=>{this.error(L)})}next(re){this.forEachObserver($=>{$.next(re)})}error(re){this.forEachObserver($=>{$.error(re)}),this.close(re)}complete(){this.forEachObserver(re=>{re.complete()}),this.close()}subscribe(re,$,L){let k;if(void 0===re&&void 0===$&&void 0===L)throw new Error("Missing Observer.");k=function Dt(Pe,re){if("object"!=typeof Pe||null===Pe)return!1;for(const $ of re)if($ in Pe&&"function"==typeof Pe[$])return!0;return!1}(re,["next","error","complete"])?re:{next:re,error:$,complete:L},void 0===k.next&&(k.next=Ae),void 0===k.error&&(k.error=Ae),void 0===k.complete&&(k.complete=Ae);const fe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?k.error(this.finalError):k.complete()}catch{}}),this.observers.push(k),fe}unsubscribeOne(re){void 0===this.observers||void 0===this.observers[re]||(delete this.observers[re],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(re){if(!this.finalized)for(let $=0;$<this.observers.length;$++)this.sendOne($,re)}sendOne(re,$){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[re])try{$(this.observers[re])}catch(L){typeof console<"u"&&console.error&&console.error(L)}})}close(re){this.finalized||(this.finalized=!0,void 0!==re&&(this.finalError=re),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ae(){}function Vr(Pe){return Pe&&Pe._delegate?Pe._delegate:Pe}},9445:(xt,je,U)=>{U.d(je,{e:()=>WI});var p=U(8217),V=U(9058),b=U(534),Te=U(7879),z=U(4537),J=U(5619),q=U(5879),ue=U(7213),de=U(3781),X=U(6814),oe=U(8326),Ee=U(7217),ze=U(6321),Ye=U(5592),lt=U(2459),tt=U(2096),rt=U(7921),it=U(9360),wt=U(8251);function ut(){return(0,it.e)((i,e)=>{let n,s=!1;i.subscribe((0,wt.x)(e,l=>{const c=n;n=l,s&&e.next([c,l]),s=!0}))})}var $e,ae=U(7398),Me=U(6699),me=U(3997),ge=U(2181),ye=(U(6365),U(3106)),he=U(5861),at=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ct={},Gt=Gt||{},At=at||self;function gn(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function bt(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var Se="closure_uid_"+(1e9*Math.random()>>>0),Oe=0;function qe(i,e,n){return i.call.apply(i.bind,arguments)}function ke(i,e,n){if(!i)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var l=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(l,s),i.apply(e,l)}}return function(){return i.apply(e,arguments)}}function He(i,e,n){return(He=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?qe:ke).apply(null,arguments)}function ht(i,e){var n=Array.prototype.slice.call(arguments,1);return function(){var s=n.slice();return s.push.apply(s,arguments),i.apply(this,s)}}function gt(i,e){function n(){}n.prototype=e.prototype,i.$=e.prototype,i.prototype=new n,i.prototype.constructor=i,i.ac=function(s,l,c){for(var f=Array(arguments.length-2),D=2;D<arguments.length;D++)f[D-2]=arguments[D];return e.prototype[l].apply(s,f)}}function _t(){this.s=this.s,this.o=this.o}_t.prototype.s=!1,_t.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Nt(i){Object.prototype.hasOwnProperty.call(i,Se)&&i[Se]||(i[Se]=++Oe)}(this)},_t.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const nn=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let n=0;n<i.length;n++)if(n in i&&i[n]===e)return n;return-1};function An(i){const e=i.length;if(0<e){const n=Array(e);for(let s=0;s<e;s++)n[s]=i[s];return n}return[]}function ln(i,e){for(let n=1;n<arguments.length;n++){const s=arguments[n];if(gn(s)){const l=i.length||0,c=s.length||0;i.length=l+c;for(let f=0;f<c;f++)i[l+f]=s[f]}else i.push(s)}}function un(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}un.prototype.h=function(){this.defaultPrevented=!0};var Bn=function(){if(!At.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{const n=()=>{};At.addEventListener("test",n,e),At.removeEventListener("test",n,e)}catch{}return i}();function Sn(i){return/^[\s\xa0]*$/.test(i)}function Cn(){var i=At.navigator;return i&&(i=i.userAgent)?i:""}function Vt(i){return-1!=Cn().indexOf(i)}function Pn(i){return Pn[" "](i),i}Pn[" "]=function(){};var Zn,i,Rn=Vt("Opera"),Fn=Vt("Trident")||Vt("MSIE"),kr=Vt("Edge"),ir=kr||Fn,en=Vt("Gecko")&&!(-1!=Cn().toLowerCase().indexOf("webkit")&&!Vt("Edge"))&&!(Vt("Trident")||Vt("MSIE"))&&!Vt("Edge"),hn=-1!=Cn().toLowerCase().indexOf("webkit")&&!Vt("Edge");function Zt(){var i=At.document;return i?i.documentMode:void 0}e:{var Ir="",Je=(i=Cn(),en?/rv:([^\);]+)(\)|;)/.exec(i):kr?/Edge\/([\d\.]+)/.exec(i):Fn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):hn?/WebKit\/(\S+)/.exec(i):Rn?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Je&&(Ir=Je?Je[1]:""),Fn){var Dt=Zt();if(null!=Dt&&Dt>parseFloat(Ir)){Zn=String(Dt);break e}}Zn=Ir}var Ke=At.document&&Fn&&(Zt()||parseInt(Zn,10))||void 0;function Ot(i,e){if(un.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var n=this.type=i.type,s=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(en){e:{try{Pn(e.nodeName);var l=!0;break e}catch{}l=!1}l||(e=null)}}else"mouseover"==n?e=i.fromElement:"mouseout"==n&&(e=i.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Rt[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Ot.$.h.call(this)}}gt(Ot,un);var Rt={2:"touch",3:"pen",4:"mouse"};Ot.prototype.h=function(){Ot.$.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var cn="closure_listenable_"+(1e6*Math.random()|0),vn=0;function qr(i,e,n,s,l){this.listener=i,this.proxy=null,this.src=e,this.type=n,this.capture=!!s,this.la=l,this.key=++vn,this.fa=this.ia=!1}function Fr(i){i.fa=!0,i.listener=null,i.proxy=null,i.src=null,i.la=null}function Hn(i,e,n){for(const s in i)e.call(n,i[s],s,i)}function Hr(i){const e={};for(const n in i)e[n]=i[n];return e}const ti="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ei(i,e){let n,s;for(let l=1;l<arguments.length;l++){for(n in s=arguments[l],s)i[n]=s[n];for(let c=0;c<ti.length;c++)n=ti[c],Object.prototype.hasOwnProperty.call(s,n)&&(i[n]=s[n])}}function Dr(i){this.src=i,this.g={},this.h=0}function Ar(i,e){var n=e.type;if(n in i.g){var c,s=i.g[n],l=nn(s,e);(c=0<=l)&&Array.prototype.splice.call(s,l,1),c&&(Fr(e),0==i.g[n].length&&(delete i.g[n],i.h--))}}function Vr(i,e,n,s){for(var l=0;l<i.length;++l){var c=i[l];if(!c.fa&&c.listener==e&&c.capture==!!n&&c.la==s)return l}return-1}Dr.prototype.add=function(i,e,n,s,l){var c=i.toString();(i=this.g[c])||(i=this.g[c]=[],this.h++);var f=Vr(i,e,s,l);return-1<f?(e=i[f],n||(e.ia=!1)):((e=new qr(e,this.src,c,!!s,l)).ia=n,i.push(e)),e};var Pe="closure_lm_"+(1e6*Math.random()|0),re={};function $(i,e,n,s,l){if(s&&s.once)return fe(i,e,n,s,l);if(Array.isArray(e)){for(var c=0;c<e.length;c++)$(i,e[c],n,s,l);return null}return n=bn(n),i&&i[cn]?i.O(e,n,bt(s)?!!s.capture:!!s,l):L(i,e,n,!1,s,l)}function L(i,e,n,s,l,c){if(!e)throw Error("Invalid event type");var f=bt(l)?!!l.capture:!!l,D=kt(i);if(D||(i[Pe]=D=new Dr(i)),(n=D.add(e,n,s,f,c)).proxy)return n;if(s=function k(){const e=Lt;return function i(n){return e.call(i.src,i.listener,n)}}(),n.proxy=s,s.src=i,s.listener=n,i.addEventListener)Bn||(l=f),void 0===l&&(l=!1),i.addEventListener(e.toString(),s,l);else if(i.attachEvent)i.attachEvent(Tt(e.toString()),s);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(s)}return n}function fe(i,e,n,s,l){if(Array.isArray(e)){for(var c=0;c<e.length;c++)fe(i,e[c],n,s,l);return null}return n=bn(n),i&&i[cn]?i.P(e,n,bt(s)?!!s.capture:!!s,l):L(i,e,n,!0,s,l)}function Le(i,e,n,s,l){if(Array.isArray(e))for(var c=0;c<e.length;c++)Le(i,e[c],n,s,l);else s=bt(s)?!!s.capture:!!s,n=bn(n),i&&i[cn]?(i=i.i,(e=String(e).toString())in i.g&&-1<(n=Vr(c=i.g[e],n,s,l))&&(Fr(c[n]),Array.prototype.splice.call(c,n,1),0==c.length&&(delete i.g[e],i.h--))):i&&(i=kt(i))&&(e=i.g[e.toString()],i=-1,e&&(i=Vr(e,n,s,l)),(n=-1<i?e[i]:null)&&ct(n))}function ct(i){if("number"!=typeof i&&i&&!i.fa){var e=i.src;if(e&&e[cn])Ar(e.i,i);else{var n=i.type,s=i.proxy;e.removeEventListener?e.removeEventListener(n,s,i.capture):e.detachEvent?e.detachEvent(Tt(n),s):e.addListener&&e.removeListener&&e.removeListener(s),(n=kt(e))?(Ar(n,i),0==n.h&&(n.src=null,e[Pe]=null)):Fr(i)}}}function Tt(i){return i in re?re[i]:re[i]="on"+i}function Lt(i,e){if(i.fa)i=!0;else{e=new Ot(e,this);var n=i.listener,s=i.la||i.src;i.ia&&ct(i),i=n.call(s,e)}return i}function kt(i){return(i=i[Pe])instanceof Dr?i:null}var Kt="__closure_events_fn_"+(1e9*Math.random()>>>0);function bn(i){return"function"==typeof i?i:(i[Kt]||(i[Kt]=function(e){return i.handleEvent(e)}),i[Kt])}function De(){_t.call(this),this.i=new Dr(this),this.S=this,this.J=null}function ve(i,e){var n,s=i.J;if(s)for(n=[];s;s=s.J)n.push(s);if(i=i.S,s=e.type||e,"string"==typeof e)e=new un(e,i);else if(e instanceof un)e.target=e.target||i;else{var l=e;Ei(e=new un(s,i),l)}if(l=!0,n)for(var c=n.length-1;0<=c;c--){var f=e.g=n[c];l=xe(f,s,!0,e)&&l}if(l=xe(f=e.g=i,s,!0,e)&&l,l=xe(f,s,!1,e)&&l,n)for(c=0;c<n.length;c++)l=xe(f=e.g=n[c],s,!1,e)&&l}function xe(i,e,n,s){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var l=!0,c=0;c<e.length;++c){var f=e[c];if(f&&!f.fa&&f.capture==n){var D=f.listener,M=f.la||f.src;f.ia&&Ar(i.i,f),l=!1!==D.call(M,s)&&l}}return l&&!s.defaultPrevented}gt(De,_t),De.prototype[cn]=!0,De.prototype.removeEventListener=function(i,e,n,s){Le(this,i,e,n,s)},De.prototype.N=function(){if(De.$.N.call(this),this.i){var e,i=this.i;for(e in i.g){for(var n=i.g[e],s=0;s<n.length;s++)Fr(n[s]);delete i.g[e],i.h--}}this.J=null},De.prototype.O=function(i,e,n,s){return this.i.add(String(i),e,!1,n,s)},De.prototype.P=function(i,e,n,s){return this.i.add(String(i),e,!0,n,s)};var Ie=At.JSON.stringify;function Be(){var i=xr;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var St=new class we{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new dt,i=>i.reset());class dt{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function sn(i){var e=1;i=i.split(":");const n=[];for(;0<e&&i.length;)n.push(i.shift()),e--;return i.length&&n.push(i.join(":")),n}function Qn(i){At.setTimeout(()=>{throw i},0)}let Mn,er=!1,xr=new class et{constructor(){this.h=this.g=null}add(e,n){const s=St.get();s.set(e,n),this.h?this.h.next=s:this.g=s,this.h=s}},ni=()=>{const i=At.Promise.resolve(void 0);Mn=()=>{i.then(sr)}};var sr=()=>{for(var i;i=Be();){try{i.h.call(i.g)}catch(n){Qn(n)}var e=St;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}er=!1};function mr(i,e){De.call(this),this.h=i||1,this.g=e||At,this.j=He(this.qb,this),this.l=Date.now()}function Kr(i){i.ga=!1,i.T&&(i.g.clearTimeout(i.T),i.T=null)}function Vs(i,e,n){if("function"==typeof i)n&&(i=He(i,n));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=He(i.handleEvent,i)}return 2147483647<Number(e)?-1:At.setTimeout(i,e||0)}function jn(i){i.g=Vs(()=>{i.g=null,i.i&&(i.i=!1,jn(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}gt(mr,De),($e=mr.prototype).ga=!1,$e.T=null,$e.qb=function(){if(this.ga){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-i):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ve(this,"tick"),this.ga&&(Kr(this),this.start()))}},$e.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},$e.N=function(){mr.$.N.call(this),Kr(this),delete this.g};class xi extends _t{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:jn(this)}N(){super.N(),this.g&&(At.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Or(i){_t.call(this),this.h=i,this.g={}}gt(Or,_t);var Oi=[];function ro(i,e,n,s){Array.isArray(n)||(n&&(Oi[0]=n.toString()),n=Oi);for(var l=0;l<n.length;l++){var c=$(e,n[l],s||i.handleEvent,!1,i.h||i);if(!c)break;i.g[c.key]=c}}function _o(i){Hn(i.g,function(e,n){this.g.hasOwnProperty(n)&&ct(e)},i),i.g={}}function jo(){this.g=!0}function Bi(i,e,n,s){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Ds(i,e){if(!i.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(i=0;i<n.length;i++)if(Array.isArray(n[i])){var s=n[i];if(!(2>s.length)){var l=s[1];if(Array.isArray(l)&&!(1>l.length)){var c=l[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var f=1;f<l.length;f++)l[f]=""}}}return Ie(n)}catch{return e}}(i,n)+(s?" "+s:"")})}Or.prototype.N=function(){Or.$.N.call(this),_o(this)},Or.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},jo.prototype.Ea=function(){this.g=!1},jo.prototype.info=function(){};var si={},yo=null;function Ti(){return yo=yo||new De}function as(i){un.call(this,si.Ta,i)}function vo(i){const e=Ti();ve(e,new as(e))}function Hi(i,e){un.call(this,si.STAT_EVENT,i),this.stat=e}function wi(i){const e=Ti();ve(e,new Hi(e,i))}function Ro(i,e){un.call(this,si.Ua,i),this.size=e}function Us(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return At.setTimeout(function(){i()},e)}si.Ta="serverreachability",gt(as,un),si.STAT_EVENT="statevent",gt(Hi,un),si.Ua="timingevent",gt(Ro,un);var Io={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Bs={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Hs(){}function Mo(){}Hs.prototype.h=null;var Ur,As={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ki(){un.call(this,"d")}function Ln(){un.call(this,"c")}function Nr(){}function us(i,e,n,s){this.l=i,this.j=e,this.m=n,this.W=s||1,this.U=new Or(this),this.P=so,this.V=new mr(i=ir?125:void 0),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new jr}function jr(){this.i=null,this.g="",this.h=!1}gt(Ki,un),gt(Ln,un),gt(Nr,Hs),Nr.prototype.g=function(){return new XMLHttpRequest},Nr.prototype.i=function(){return{}},Ur=new Nr;var so=45e3,Ss={},ms={};function Ci(i,e,n){i.L=1,i.A=$s(or(e)),i.u=n,i.S=!0,gs(i,null)}function gs(i,e){i.G=Date.now(),Wn(i),i.B=or(i.A);var n=i.B,s=i.W;Array.isArray(s)||(s=[String(s)]),Er(n.i,"t",s),i.o=0,n=i.l.J,i.h=new jr,i.g=Z(i.l,n?e:null,!i.u),0<i.O&&(i.M=new xi(He(i.Pa,i,i.g),i.O)),ro(i.U,i.g,"readystatechange",i.nb),e=i.I?Hr(i.I):{},i.u?(i.v||(i.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ha(i.B,i.v,i.u,e)):(i.v="GET",i.g.ha(i.B,i.v,null,e)),vo(),function $o(i,e,n,s,l,c){i.info(function(){if(i.g)if(c)for(var f="",D=c.split("&"),M=0;M<D.length;M++){var j=D[M].split("=");if(1<j.length){var ee=j[0];j=j[1];var pe=ee.split("_");f=2<=pe.length&&"type"==pe[1]?f+(ee+"=")+j+"&":f+(ee+"=redacted&")}}else f=null;else f=c;return"XMLHTTP REQ ("+s+") [attempt "+l+"]: "+e+"\n"+n+"\n"+f})}(i.j,i.v,i.B,i.m,i.W,i.u)}function pr(i){return!!i.g&&"GET"==i.v&&2!=i.L&&i.l.Ha}function Ft(i,e,n){let l,s=!0;for(;!i.J&&i.o<n.length;){if(l=En(i,n),l==ms){4==e&&(i.s=4,wi(14),s=!1),Bi(i.j,i.m,null,"[Incomplete Response]");break}if(l==Ss){i.s=4,wi(15),Bi(i.j,i.m,n,"[Invalid Chunk]"),s=!1;break}Bi(i.j,i.m,l,null),gr(i,l)}pr(i)&&0!=i.o&&(i.h.g=i.h.g.slice(i.o),i.o=0),4!=e||0!=n.length||i.h.h||(i.s=1,wi(16),s=!1),i.i=i.i&&s,s?0<n.length&&!i.ba&&(i.ba=!0,(e=i.l).g==i&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ms(e),e.M=!0,wi(11))):(Bi(i.j,i.m,n,"[Invalid Chunked Response]"),bi(i),Sr(i))}function En(i,e){var n=i.o,s=e.indexOf("\n",n);return-1==s?ms:(n=Number(e.substring(n,s)),isNaN(n)?Ss:(s+=1)+n>e.length?ms:(e=e.slice(s,s+n),i.o=s+n,e))}function Wn(i){i.Y=Date.now()+i.P,oi(i,i.P)}function oi(i,e){if(null!=i.C)throw Error("WatchDog timer not null");i.C=Us(He(i.lb,i),e)}function _s(i){i.C&&(At.clearTimeout(i.C),i.C=null)}function Sr(i){0==i.l.H||i.J||Fl(i.l,i)}function bi(i){_s(i);var e=i.M;e&&"function"==typeof e.sa&&e.sa(),i.M=null,Kr(i.V),_o(i.U),i.g&&(e=i.g,i.g=null,e.abort(),e.sa())}function gr(i,e){try{var n=i.l;if(0!=n.H&&(n.g==i||lo(n.i,i)))if(!i.K&&lo(n.i,i)&&3==n.H){try{var s=n.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&3==s.length){var l=s;if(0==l[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<i.G))break e;qo(n),wo(n)}Ks(n),wi(18)}}else n.Fa=l[1],0<n.Fa-n.V&&37500>l[2]&&n.G&&0==n.A&&!n.v&&(n.v=Us(He(n.ib,n),6e3));if(1>=Ji(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Ts(n,11)}else if((i.K||n.g==i)&&qo(n),!Sn(e))for(l=n.Ja.g.parse(e),e=0;e<l.length;e++){let j=l[e];if(n.V=j[0],j=j[1],2==n.H)if("c"==j[0]){n.K=j[1],n.pa=j[2];const ee=j[3];null!=ee&&(n.ra=ee,n.l.info("VER="+n.ra));const pe=j[4];null!=pe&&(n.Ga=pe,n.l.info("SVER="+n.Ga));const Ne=j[5];null!=Ne&&"number"==typeof Ne&&0<Ne&&(n.L=s=1.5*Ne,n.l.info("backChannelRequestTimeoutMs_="+s)),s=n;const Xe=i.g;if(Xe){const Mt=Xe.g?Xe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Mt){var c=s.i;c.g||-1==Mt.indexOf("spdy")&&-1==Mt.indexOf("quic")&&-1==Mt.indexOf("h2")||(c.j=c.l,c.g=new Set,c.h&&(ai(c,c.h),c.h=null))}if(s.F){const $t=Xe.g?Xe.g.getResponseHeader("X-HTTP-Session-Id"):null;$t&&(s.Da=$t,cr(s.I,s.F,$t))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-i.G,n.l.info("Handshake RTT: "+n.S+"ms"));var f=i;if((s=n).wa=Ul(s,s.J?s.pa:null,s.Y),f.K){Eo(s.i,f);var D=f,M=s.L;M&&D.setTimeout(M),D.C&&(_s(D),Wn(D)),s.g=f}else ko(s);0<n.j.length&&Co(n)}else"stop"!=j[0]&&"close"!=j[0]||Ts(n,7);else 3==n.H&&("stop"==j[0]||"close"==j[0]?"stop"==j[0]?Ts(n,7):Rs(n):"noop"!=j[0]&&n.h&&n.h.Aa(j),n.A=0)}vo()}catch{}}function fn(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(gn(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var n=function hi(i){if(i.ta&&"function"==typeof i.ta)return i.ta();if(!i.Z||"function"!=typeof i.Z){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(gn(i)||"string"==typeof i){var e=[];i=i.length;for(var n=0;n<i;n++)e.push(n);return e}e=[],n=0;for(const s in i)e[n++]=s;return e}}}(i),s=function ji(i){if(i.Z&&"function"==typeof i.Z)return i.Z();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(gn(i)){for(var e=[],n=i.length,s=0;s<n;s++)e.push(i[s]);return e}for(s in e=[],n=0,i)e[n++]=i[s];return e}(i),l=s.length,c=0;c<l;c++)e.call(void 0,s[c],n&&n[c],i)}($e=us.prototype).setTimeout=function(i){this.P=i},$e.nb=function(i){i=i.target;const e=this.M;e&&3==co(i)?e.l():this.Pa(i)},$e.Pa=function(i){try{if(i==this.g)e:{const ee=co(this.g);var e=this.g.Ia();if(this.g.da(),!(3>ee)&&(3!=ee||ir||this.g&&(this.h.h||this.g.ja()||li(this.g)))){this.J||4!=ee||7==e||vo(),_s(this);var n=this.g.da();this.ca=n;t:if(pr(this)){var s=li(this.g);i="";var l=s.length,c=4==co(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){bi(this),Sr(this);var f="";break t}this.h.i=new At.TextDecoder}for(e=0;e<l;e++)this.h.h=!0,i+=this.h.i.decode(s[e],{stream:c&&e==l-1});s.length=0,this.h.g+=i,this.o=0,f=this.h.g}else f=this.g.ja();if(this.i=200==n,function ii(i,e,n,s,l,c,f){i.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+l+"]: "+e+"\n"+n+"\n"+c+" "+f})}(this.j,this.v,this.B,this.m,this.W,ee,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var D,M=this.g;if((D=M.g?M.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Sn(D)){var j=D;break t}}j=null}if(!(n=j)){this.i=!1,this.s=3,wi(12),bi(this),Sr(this);break e}Bi(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,gr(this,n)}this.S?(Ft(this,ee,f),ir&&this.i&&3==ee&&(ro(this.U,this.V,"tick",this.mb),this.V.start())):(Bi(this.j,this.m,f,null),gr(this,f)),4==ee&&bi(this),this.i&&!this.J&&(4==ee?Fl(this.l,this):(this.i=!1,Wn(this)))}else(function Ws(i){const e={};i=(i.g&&2<=co(i)&&i.g.getAllResponseHeaders()||"").split("\r\n");for(let s=0;s<i.length;s++){if(Sn(i[s]))continue;var n=sn(i[s]);const l=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const c=e[l]||[];e[l]=c,c.push(n)}!function ur(i,e){for(const n in i)e.call(void 0,i[n],n,i)}(e,function(s){return s.join(", ")})})(this.g),400==n&&0<f.indexOf("Unknown SID")?(this.s=3,wi(12)):(this.s=0,wi(13)),bi(this),Sr(this)}}}catch{}},$e.mb=function(){if(this.g){var i=co(this.g),e=this.g.ja();this.o<e.length&&(_s(this),Ft(this,i,e),this.i&&4!=i&&Wn(this))}},$e.cancel=function(){this.J=!0,bi(this)},$e.lb=function(){this.C=null;const i=Date.now();0<=i-this.Y?(function di(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.B),2!=this.L&&(vo(),wi(17)),bi(this),this.s=2,Sr(this)):oi(this,this.Y-i)};var Zi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $i(i){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof $i){this.h=i.h,js(this,i.j),this.s=i.s,this.g=i.g,Ni(this,i.m),this.l=i.l;var e=i.i,n=new Pr;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),zi(this,n),this.o=i.o}else i&&(e=String(i).match(Zi))?(this.h=!1,js(this,e[1]||"",!0),this.s=Di(e[2]||""),this.g=Di(e[3]||"",!0),Ni(this,e[4]),this.l=Di(e[5]||"",!0),zi(this,e[6]||"",!0),this.o=Di(e[7]||"")):(this.h=!1,this.i=new Pr(null,this.h))}function or(i){return new $i(i)}function js(i,e,n){i.j=n?Di(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function Ni(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function zi(i,e,n){e instanceof Pr?(i.i=e,function Zr(i,e){e&&!i.j&&(Ai(i),i.i=null,i.g.forEach(function(n,s){var l=s.toLowerCase();s!=l&&(Yi(this,s),Er(this,l,n))},i)),i.j=e}(i.i,i.h)):(n||(e=$r(e,ba)),i.i=new Pr(e,i.h))}function cr(i,e,n){i.i.set(e,n)}function $s(i){return cr(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Di(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function $r(i,e,n){return"string"==typeof i?(i=encodeURI(i).replace(e,Gi),n&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function Gi(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}$i.prototype.toString=function(){var i=[],e=this.j;e&&i.push($r(e,Ps,!0),":");var n=this.g;return(n||"file"==e)&&(i.push("//"),(e=this.s)&&i.push($r(e,Ps,!0),"@"),i.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&i.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&i.push("/"),i.push($r(n,"/"==n.charAt(0)?zs:zn,!0))),(n=this.i.toString())&&i.push("?",n),(n=this.o)&&i.push("#",$r(n,oo)),i.join("")};var Ps=/[#\/\?@]/g,zn=/[#\?:]/g,zs=/[#\?]/g,ba=/[#\?@]/g,oo=/#/g;function Pr(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function Ai(i){i.g||(i.g=new Map,i.h=0,i.i&&function Qi(i,e){if(i){i=i.split("&");for(var n=0;n<i.length;n++){var s=i[n].indexOf("="),l=null;if(0<=s){var c=i[n].substring(0,s);l=i[n].substring(s+1)}else c=i[n];e(c,l?decodeURIComponent(l.replace(/\+/g," ")):"")}}}(i.i,function(e,n){i.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Yi(i,e){Ai(i),e=Gs(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function ao(i,e){return Ai(i),e=Gs(i,e),i.g.has(e)}function Er(i,e,n){Yi(i,e),0<n.length&&(i.i=null,i.g.set(Gs(i,e),An(n)),i.h+=n.length)}function Gs(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function xo(i){this.l=i||Li,i=At.PerformanceNavigationTiming?0<(i=At.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(At.g&&At.g.Ka&&At.g.Ka()&&At.g.Ka().dc),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}($e=Pr.prototype).add=function(i,e){Ai(this),this.i=null,i=Gs(this,i);var n=this.g.get(i);return n||this.g.set(i,n=[]),n.push(e),this.h+=1,this},$e.forEach=function(i,e){Ai(this),this.g.forEach(function(n,s){n.forEach(function(l){i.call(e,l,s,this)},this)},this)},$e.ta=function(){Ai(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let s=0;s<e.length;s++){const l=i[s];for(let c=0;c<l.length;c++)n.push(e[s])}return n},$e.Z=function(i){Ai(this);let e=[];if("string"==typeof i)ao(this,i)&&(e=e.concat(this.g.get(Gs(this,i))));else{i=Array.from(this.g.values());for(let n=0;n<i.length;n++)e=e.concat(i[n])}return e},$e.set=function(i,e){return Ai(this),this.i=null,ao(this,i=Gs(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},$e.get=function(i,e){return i&&0<(i=this.Z(i)).length?String(i[0]):e},$e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var s=e[n];const c=encodeURIComponent(String(s)),f=this.Z(s);for(s=0;s<f.length;s++){var l=c;""!==f[s]&&(l+="="+encodeURIComponent(String(f[s]))),i.push(l)}}return this.i=i.join("&")};var Li=10;function Oo(i){return!!i.h||!!i.g&&i.g.size>=i.j}function Ji(i){return i.h?1:i.g?i.g.size:0}function lo(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function ai(i,e){i.g?i.g.add(e):i.h=e}function Eo(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function Ha(i){if(null!=i.h)return i.i.concat(i.h.F);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const n of i.g.values())e=e.concat(n.F);return e}return An(i.i)}xo.prototype.cancel=function(){if(this.i=Ha(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}};var zo=class{stringify(i){return At.JSON.stringify(i,void 0)}parse(i){return At.JSON.parse(i,void 0)}};function ys(){this.g=new zo}function Si(i,e,n){const s=n||"";try{fn(i,function(l,c){let f=l;bt(l)&&(f=Ie(l)),e.push(s+c+"="+encodeURIComponent(f))})}catch(l){throw e.push(s+"type="+encodeURIComponent("_badmap")),l}}function Da(i,e,n,s,l){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,l(s)}catch{}}function fr(i){this.l=i.ec||null,this.j=i.ob||!1}function vs(i,e){De.call(this),this.F=i,this.u=e,this.m=void 0,this.readyState=sa,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}gt(fr,Hs),fr.prototype.g=function(){return new vs(this.l,this.j)},fr.prototype.i=function(i){return function(){return i}}({}),gt(vs,De);var sa=0;function G(i){i.j.read().then(i.Xa.bind(i)).catch(i.ka.bind(i))}function K(i){i.readyState=4,i.l=null,i.j=null,i.A=null,O(i)}function O(i){i.onreadystatechange&&i.onreadystatechange.call(i)}($e=vs.prototype).open=function(i,e){if(this.readyState!=sa)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,O(this)},$e.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.F||At).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},$e.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,K(this)),this.readyState=sa},$e.$a=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,O(this)),this.g&&(this.readyState=3,O(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof At.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;G(this)}else i.text().then(this.Za.bind(this),this.ka.bind(this))},$e.Xa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?K(this):O(this),3==this.readyState&&G(this)}},$e.Za=function(i){this.g&&(this.response=this.responseText=i,K(this))},$e.Ya=function(i){this.g&&(this.response=i,K(this))},$e.ka=function(){this.g&&K(this)},$e.setRequestHeader=function(i,e){this.v.append(i,e)},$e.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},$e.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var n=e.next();!n.done;)i.push((n=n.value)[0]+": "+n[1]),n=e.next();return i.join("\r\n")},Object.defineProperty(vs.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var se=At.JSON.parse;function be(i){De.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=tn,this.L=this.M=!1}gt(be,De);var tn="",Tn=/^https?$/i,gi=["POST","PUT"];function ki(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,To(i),_i(i)}function To(i){i.F||(i.F=!0,ve(i,"complete"),ve(i,"error"))}function Wi(i){if(i.h&&typeof Gt<"u"&&(!i.C[1]||4!=co(i)||2!=i.da()))if(i.v&&4==co(i))Vs(i.La,0,i);else if(ve(i,"readystatechange"),4==co(i)){i.h=!1;try{const f=i.da();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var s;if(s=0===f){var l=String(i.I).match(Zi)[1]||null;!l&&At.self&&At.self.location&&(l=At.self.location.protocol.slice(0,-1)),s=!Tn.test(l?l.toLowerCase():"")}n=s}if(n)ve(i,"complete"),ve(i,"success");else{i.m=6;try{var c=2<co(i)?i.g.statusText:""}catch{c=""}i.j=c+" ["+i.da()+"]",To(i)}}finally{_i(i)}}}function _i(i,e){if(i.g){uo(i);const n=i.g,s=i.C[0]?()=>{}:null;i.g=null,i.C=null,e||ve(i,"ready");try{n.onreadystatechange=s}catch{}}}function uo(i){i.g&&i.L&&(i.g.ontimeout=null),i.A&&(At.clearTimeout(i.A),i.A=null)}function co(i){return i.g?i.g.readyState:0}function li(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.K){case tn:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function Fi(i){let e="";return Hn(i,function(n,s){e+=s,e+=":",e+=n,e+="\r\n"}),e}function Go(i,e,n){e:{for(s in n){var s=!1;break e}s=!0}s||(n=Fi(n),"string"==typeof i?null!=n&&encodeURIComponent(String(n)):cr(i,e,n))}function qs(i,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[i]||e}function Wo(i){this.Ga=0,this.j=[],this.l=new jo,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=qs("failFast",!1,i),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=qs("baseRetryDelayMs",5e3,i),this.hb=qs("retryDelaySeedMs",1e4,i),this.eb=qs("forwardChannelMaxRetries",2,i),this.xa=qs("forwardChannelRequestTimeoutMs",2e4,i),this.va=i&&i.xmlHttpFactory||void 0,this.Ha=i&&i.useFetchStreams||!1,this.L=void 0,this.J=i&&i.supportsCrossDomainXhr||!1,this.K="",this.i=new xo(i&&i.concurrentRequestLimit),this.Ja=new ys,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=i&&i.bc||!1,i&&i.Ea&&this.l.Ea(),i&&i.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&i&&i.detectBufferingProxy||!1,this.qa=void 0,i&&i.longPollingTimeout&&0<i.longPollingTimeout&&(this.qa=i.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Rs(i){if(Es(i),3==i.H){var e=i.W++,n=or(i.I);if(cr(n,"SID",i.K),cr(n,"RID",e),cr(n,"TYPE","terminate"),Lo(i,n),(e=new us(i,i.l,e)).L=2,e.A=$s(or(n)),n=!1,At.navigator&&At.navigator.sendBeacon)try{n=At.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&At.Image&&((new Image).src=e.A,n=!0),n||(e.g=Z(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Wn(e)}ul(i)}function wo(i){i.g&&(Ms(i),i.g.cancel(),i.g=null)}function Es(i){wo(i),i.u&&(At.clearTimeout(i.u),i.u=null),qo(i),i.i.cancel(),i.m&&("number"==typeof i.m&&At.clearTimeout(i.m),i.m=null)}function Co(i){if(!Oo(i.i)&&!i.m){i.m=!0;var e=i.Na;Mn||ni(),er||(Mn(),er=!0),xr.add(e,i),i.C=0}}function ll(i,e){var n;n=e?e.m:i.W++;const s=or(i.I);cr(s,"SID",i.K),cr(s,"RID",n),cr(s,"AID",i.V),Lo(i,s),i.o&&i.s&&Go(s,i.o,i.s),n=new us(i,i.l,n,i.C+1),null===i.o&&(n.I=i.s),e&&(i.j=e.F.concat(i.j)),e=aa(i,n,1e3),n.setTimeout(Math.round(.5*i.xa)+Math.round(.5*i.xa*Math.random())),ai(i.i,n),Ci(n,s,e)}function Lo(i,e){i.na&&Hn(i.na,function(n,s){cr(e,s,n)}),i.h&&fn({},function(n,s){cr(e,s,n)})}function aa(i,e,n){n=Math.min(i.j.length,n);var s=i.h?He(i.h.Va,i.h,i):null;e:{var l=i.j;let c=-1;for(;;){const f=["count="+n];-1==c?0<n?(c=l[0].g,f.push("ofs="+c)):c=0:f.push("ofs="+c);let D=!0;for(let M=0;M<n;M++){let j=l[M].g;const ee=l[M].map;if(j-=c,0>j)c=Math.max(0,l[M].g-100),D=!1;else try{Si(ee,f,"req"+j+"_")}catch{s&&s(ee)}}if(D){s=f.join("&");break e}}}return i=i.j.splice(0,n),e.F=i,s}function ko(i){if(!i.g&&!i.u){i.ba=1;var e=i.Ma;Mn||ni(),er||(Mn(),er=!0),xr.add(e,i),i.A=0}}function Ks(i){return!(i.g||i.u||3<=i.A||(i.ba++,i.u=Us(He(i.Ma,i),Vl(i,i.A)),i.A++,0))}function Ms(i){null!=i.B&&(At.clearTimeout(i.B),i.B=null)}function Aa(i){i.g=new us(i,i.l,"rpc",i.ba),null===i.o&&(i.g.I=i.s),i.g.O=0;var e=or(i.wa);cr(e,"RID","rpc"),cr(e,"SID",i.K),cr(e,"AID",i.V),cr(e,"CI",i.G?"0":"1"),!i.G&&i.qa&&cr(e,"TO",i.qa),cr(e,"TYPE","xmlhttp"),Lo(i,e),i.o&&i.s&&Go(e,i.o,i.s),i.L&&i.g.setTimeout(i.L);var n=i.g;i=i.pa,n.L=1,n.A=$s(or(e)),n.u=null,n.S=!0,gs(n,i)}function qo(i){null!=i.v&&(At.clearTimeout(i.v),i.v=null)}function Fl(i,e){var n=null;if(i.g==e){qo(i),Ms(i),i.g=null;var s=2}else{if(!lo(i.i,e))return;n=e.F,Eo(i.i,e),s=1}if(0!=i.H)if(e.i)if(1==s){n=e.u?e.u.length:0,e=Date.now()-e.G;var l=i.C;ve(s=Ti(),new Ro(s,n)),Co(i)}else ko(i);else if(3==(l=e.s)||0==l&&0<e.ca||!(1==s&&function oa(i,e){return!(Ji(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.j=e.F.concat(i.j),0):1==i.H||2==i.H||i.C>=(i.cb?0:i.eb)||(i.m=Us(He(i.Na,i,e),Vl(i,i.C)),i.C++,0)))}(i,e)||2==s&&Ks(i)))switch(n&&0<n.length&&(e=i.i,e.i=e.i.concat(n)),l){case 1:Ts(i,5);break;case 4:Ts(i,10);break;case 3:Ts(i,6);break;default:Ts(i,2)}}function Vl(i,e){let n=i.ab+Math.floor(Math.random()*i.hb);return i.isActive()||(n*=2),n*e}function Ts(i,e){if(i.l.info("Error code "+e),2==e){var n=null;i.h&&(n=null);var s=He(i.pb,i);n||(n=new $i("//www.google.com/images/cleardot.gif"),At.location&&"http"==At.location.protocol||js(n,"https"),$s(n)),function No(i,e){const n=new jo;if(At.Image){const s=new Image;s.onload=ht(Da,n,s,"TestLoadImage: loaded",!0,e),s.onerror=ht(Da,n,s,"TestLoadImage: error",!1,e),s.onabort=ht(Da,n,s,"TestLoadImage: abort",!1,e),s.ontimeout=ht(Da,n,s,"TestLoadImage: timeout",!1,e),At.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=i}else e(!1)}(n.toString(),s)}else wi(2);i.H=0,i.h&&i.h.za(e),ul(i),Es(i)}function ul(i){if(i.H=0,i.ma=[],i.h){const e=Ha(i.i);(0!=e.length||0!=i.j.length)&&(ln(i.ma,e),ln(i.ma,i.j),i.i.i.length=0,An(i.j),i.j.length=0),i.h.ya()}}function Ul(i,e,n){var s=n instanceof $i?or(n):new $i(n);if(""!=s.g)e&&(s.g=e+"."+s.g),Ni(s,s.m);else{var l=At.location;s=l.protocol,e=e?e+"."+l.hostname:l.hostname,l=+l.port;var c=new $i(null);s&&js(c,s),e&&(c.g=e),l&&Ni(c,l),n&&(c.l=n),s=c}return e=i.Da,(n=i.F)&&e&&cr(s,n,e),cr(s,"VER",i.ra),Lo(i,s),s}function Z(i,e,n){if(e&&!i.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new be(i.Ha&&!i.va?new fr({ob:n}):i.va)).Oa(i.J),e}function y(){}function E(){if(Fn&&!(10<=Number(Ke)))throw Error("Environmental error: no available transport.")}function x(i,e){De.call(this),this.g=new Wo(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(i?i["X-WebChannel-Client-Profile"]=e.Ca:i={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=i,(i=e&&e.cc)&&!Sn(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Sn(e)&&(this.g.F=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new Re(this)}function Q(i){Ki.call(this),i.__headers__&&(this.headers=i.__headers__,this.statusCode=i.__status__,delete i.__headers__,delete i.__status__);var e=i.__sm__;if(e){e:{for(const n in e){i=n;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function le(){Ln.call(this),this.status=1}function Re(i){this.g=i}function N(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function P(i,e,n){n||(n=0);var s=Array(16);if("string"==typeof e)for(var l=0;16>l;++l)s[l]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(l=0;16>l;++l)s[l]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var c=i.g[3],f=(e=i.g[0])+(c^(n=i.g[1])&((l=i.g[2])^c))+s[0]+3614090360&4294967295;f=(n=(l=(c=(e=(n=(l=(c=(e=(n=(l=(c=(e=(n=(l=(c=(e=(n=(l=(c=(e=(n=(l=(c=(e=(n=(l=(c=(e=(n=(l=(c=(e=(n=(l=(c=(e=(n=(l=(c=(e=(n=(l=(c=(e=(n=(l=(c=(e=(n=(l=(c=(e=(n=(l=(c=(e=(n=(l=(c=(e=n+(f<<7&4294967295|f>>>25))+((f=c+(l^e&(n^l))+s[1]+3905402710&4294967295)<<12&4294967295|f>>>20))+((f=l+(n^c&(e^n))+s[2]+606105819&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^l&(c^e))+s[3]+3250441966&4294967295)<<22&4294967295|f>>>10))+((f=e+(c^n&(l^c))+s[4]+4118548399&4294967295)<<7&4294967295|f>>>25))+((f=c+(l^e&(n^l))+s[5]+1200080426&4294967295)<<12&4294967295|f>>>20))+((f=l+(n^c&(e^n))+s[6]+2821735955&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^l&(c^e))+s[7]+4249261313&4294967295)<<22&4294967295|f>>>10))+((f=e+(c^n&(l^c))+s[8]+1770035416&4294967295)<<7&4294967295|f>>>25))+((f=c+(l^e&(n^l))+s[9]+2336552879&4294967295)<<12&4294967295|f>>>20))+((f=l+(n^c&(e^n))+s[10]+4294925233&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^l&(c^e))+s[11]+2304563134&4294967295)<<22&4294967295|f>>>10))+((f=e+(c^n&(l^c))+s[12]+1804603682&4294967295)<<7&4294967295|f>>>25))+((f=c+(l^e&(n^l))+s[13]+4254626195&4294967295)<<12&4294967295|f>>>20))+((f=l+(n^c&(e^n))+s[14]+2792965006&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^l&(c^e))+s[15]+1236535329&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^c&(n^l))+s[1]+4129170786&4294967295)<<5&4294967295|f>>>27))+((f=c+(n^l&(e^n))+s[6]+3225465664&4294967295)<<9&4294967295|f>>>23))+((f=l+(e^n&(c^e))+s[11]+643717713&4294967295)<<14&4294967295|f>>>18))+((f=n+(c^e&(l^c))+s[0]+3921069994&4294967295)<<20&4294967295|f>>>12))+((f=e+(l^c&(n^l))+s[5]+3593408605&4294967295)<<5&4294967295|f>>>27))+((f=c+(n^l&(e^n))+s[10]+38016083&4294967295)<<9&4294967295|f>>>23))+((f=l+(e^n&(c^e))+s[15]+3634488961&4294967295)<<14&4294967295|f>>>18))+((f=n+(c^e&(l^c))+s[4]+3889429448&4294967295)<<20&4294967295|f>>>12))+((f=e+(l^c&(n^l))+s[9]+568446438&4294967295)<<5&4294967295|f>>>27))+((f=c+(n^l&(e^n))+s[14]+3275163606&4294967295)<<9&4294967295|f>>>23))+((f=l+(e^n&(c^e))+s[3]+4107603335&4294967295)<<14&4294967295|f>>>18))+((f=n+(c^e&(l^c))+s[8]+1163531501&4294967295)<<20&4294967295|f>>>12))+((f=e+(l^c&(n^l))+s[13]+2850285829&4294967295)<<5&4294967295|f>>>27))+((f=c+(n^l&(e^n))+s[2]+4243563512&4294967295)<<9&4294967295|f>>>23))+((f=l+(e^n&(c^e))+s[7]+1735328473&4294967295)<<14&4294967295|f>>>18))+((f=n+(c^e&(l^c))+s[12]+2368359562&4294967295)<<20&4294967295|f>>>12))+((f=e+(n^l^c)+s[5]+4294588738&4294967295)<<4&4294967295|f>>>28))+((f=c+(e^n^l)+s[8]+2272392833&4294967295)<<11&4294967295|f>>>21))+((f=l+(c^e^n)+s[11]+1839030562&4294967295)<<16&4294967295|f>>>16))+((f=n+(l^c^e)+s[14]+4259657740&4294967295)<<23&4294967295|f>>>9))+((f=e+(n^l^c)+s[1]+2763975236&4294967295)<<4&4294967295|f>>>28))+((f=c+(e^n^l)+s[4]+1272893353&4294967295)<<11&4294967295|f>>>21))+((f=l+(c^e^n)+s[7]+4139469664&4294967295)<<16&4294967295|f>>>16))+((f=n+(l^c^e)+s[10]+3200236656&4294967295)<<23&4294967295|f>>>9))+((f=e+(n^l^c)+s[13]+681279174&4294967295)<<4&4294967295|f>>>28))+((f=c+(e^n^l)+s[0]+3936430074&4294967295)<<11&4294967295|f>>>21))+((f=l+(c^e^n)+s[3]+3572445317&4294967295)<<16&4294967295|f>>>16))+((f=n+(l^c^e)+s[6]+76029189&4294967295)<<23&4294967295|f>>>9))+((f=e+(n^l^c)+s[9]+3654602809&4294967295)<<4&4294967295|f>>>28))+((f=c+(e^n^l)+s[12]+3873151461&4294967295)<<11&4294967295|f>>>21))+((f=l+(c^e^n)+s[15]+530742520&4294967295)<<16&4294967295|f>>>16))+((f=n+(l^c^e)+s[2]+3299628645&4294967295)<<23&4294967295|f>>>9))+((f=e+(l^(n|~c))+s[0]+4096336452&4294967295)<<6&4294967295|f>>>26))+((f=c+(n^(e|~l))+s[7]+1126891415&4294967295)<<10&4294967295|f>>>22))+((f=l+(e^(c|~n))+s[14]+2878612391&4294967295)<<15&4294967295|f>>>17))+((f=n+(c^(l|~e))+s[5]+4237533241&4294967295)<<21&4294967295|f>>>11))+((f=e+(l^(n|~c))+s[12]+1700485571&4294967295)<<6&4294967295|f>>>26))+((f=c+(n^(e|~l))+s[3]+2399980690&4294967295)<<10&4294967295|f>>>22))+((f=l+(e^(c|~n))+s[10]+4293915773&4294967295)<<15&4294967295|f>>>17))+((f=n+(c^(l|~e))+s[1]+2240044497&4294967295)<<21&4294967295|f>>>11))+((f=e+(l^(n|~c))+s[8]+1873313359&4294967295)<<6&4294967295|f>>>26))+((f=c+(n^(e|~l))+s[15]+4264355552&4294967295)<<10&4294967295|f>>>22))+((f=l+(e^(c|~n))+s[6]+2734768916&4294967295)<<15&4294967295|f>>>17))+((f=n+(c^(l|~e))+s[13]+1309151649&4294967295)<<21&4294967295|f>>>11))+((c=(e=n+((f=e+(l^(n|~c))+s[4]+4149444226&4294967295)<<6&4294967295|f>>>26))+((f=c+(n^(e|~l))+s[11]+3174756917&4294967295)<<10&4294967295|f>>>22))^((l=c+((f=l+(e^(c|~n))+s[2]+718787259&4294967295)<<15&4294967295|f>>>17))|~e))+s[9]+3951481745&4294967295,i.g[0]=i.g[0]+e&4294967295,i.g[1]=i.g[1]+(l+(f<<21&4294967295|f>>>11))&4294967295,i.g[2]=i.g[2]+l&4294967295,i.g[3]=i.g[3]+c&4294967295}function F(i,e){this.h=e;for(var n=[],s=!0,l=i.length-1;0<=l;l--){var c=0|i[l];s&&c==e||(n[l]=c,s=!1)}this.g=n}($e=be.prototype).Oa=function(i){this.M=i},$e.ha=function(i,e,n,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+i);e=e?e.toUpperCase():"GET",this.I=i,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Ur.g(),this.C=function io(i){return i.h||(i.h=i.i())}(this.u?this.u:Ur),this.g.onreadystatechange=He(this.La,this);try{this.G=!0,this.g.open(e,String(i),!0),this.G=!1}catch(c){return void ki(this,c)}if(i=n||"",n=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var l in s)n.set(l,s[l]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const c of s.keys())n.set(c,s.get(c))}s=Array.from(n.keys()).find(c=>"content-type"==c.toLowerCase()),l=At.FormData&&i instanceof At.FormData,!(0<=nn(gi,e))||s||l||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[c,f]of n)this.g.setRequestHeader(c,f);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{uo(this),0<this.B&&((this.L=function Is(i){return Fn&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=He(this.ua,this)):this.A=Vs(this.ua,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(c){ki(this,c)}},$e.ua=function(){typeof Gt<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ve(this,"timeout"),this.abort(8))},$e.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,ve(this,"complete"),ve(this,"abort"),_i(this))},$e.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),_i(this,!0)),be.$.N.call(this)},$e.La=function(){this.s||(this.G||this.v||this.l?Wi(this):this.kb())},$e.kb=function(){Wi(this)},$e.isActive=function(){return!!this.g},$e.da=function(){try{return 2<co(this)?this.g.status:-1}catch{return-1}},$e.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},$e.Wa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),se(e)}},$e.Ia=function(){return this.m},$e.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},($e=Wo.prototype).ra=8,$e.H=1,$e.Na=function(i){if(this.m)if(this.m=null,1==this.H){if(!i){this.W=Math.floor(1e5*Math.random()),i=this.W++;const l=new us(this,this.l,i);let c=this.s;if(this.U&&(c?(c=Hr(c),Ei(c,this.U)):c=this.U),null!==this.o||this.O||(l.I=c,c=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var s=this.j[n];if(void 0===(s="__data__"in s.map&&"string"==typeof(s=s.map.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=aa(this,l,e),cr(n=or(this.I),"RID",i),cr(n,"CVER",22),this.F&&cr(n,"X-HTTP-Session-Id",this.F),Lo(this,n),c&&(this.O?e="headers="+encodeURIComponent(String(Fi(c)))+"&"+e:this.o&&Go(n,this.o,c)),ai(this.i,l),this.bb&&cr(n,"TYPE","init"),this.P?(cr(n,"$req",e),cr(n,"SID","null"),l.aa=!0,Ci(l,n,null)):Ci(l,n,e),this.H=2}}else 3==this.H&&(i?ll(this,i):0==this.j.length||Oo(this.i)||ll(this))},$e.Ma=function(){if(this.u=null,Aa(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var i=2*this.S;this.l.info("BP detection timer enabled: "+i),this.B=Us(He(this.jb,this),i)}},$e.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,wi(10),wo(this),Aa(this))},$e.ib=function(){null!=this.v&&(this.v=null,wo(this),Ks(this),wi(19))},$e.pb=function(i){i?(this.l.info("Successfully pinged google.com"),wi(2)):(this.l.info("Failed to ping google.com"),wi(1))},$e.isActive=function(){return!!this.h&&this.h.isActive(this)},($e=y.prototype).Ba=function(){},$e.Aa=function(){},$e.za=function(){},$e.ya=function(){},$e.isActive=function(){return!0},$e.Va=function(){},E.prototype.g=function(i,e){return new x(i,e)},gt(x,De),x.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var i=this.g,e=this.l,n=this.h||void 0;wi(0),i.Y=e,i.na=n||{},i.G=i.aa,i.I=Ul(i,null,i.Y),Co(i)},x.prototype.close=function(){Rs(this.g)},x.prototype.u=function(i){var e=this.g;if("string"==typeof i){var n={};n.__data__=i,i=n}else this.v&&((n={}).__data__=Ie(i),i=n);e.j.push(new class{constructor(i,e){this.g=i,this.map=e}}(e.fb++,i)),3==e.H&&Co(e)},x.prototype.N=function(){this.g.h=null,delete this.j,Rs(this.g),delete this.g,x.$.N.call(this)},gt(Q,Ki),gt(le,Ln),gt(Re,y),Re.prototype.Ba=function(){ve(this.g,"a")},Re.prototype.Aa=function(i){ve(this.g,new Q(i))},Re.prototype.za=function(i){ve(this.g,new le)},Re.prototype.ya=function(){ve(this.g,"b")},gt(N,function _(){this.blockSize=-1}),N.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},N.prototype.j=function(i,e){void 0===e&&(e=i.length);for(var n=e-this.blockSize,s=this.m,l=this.h,c=0;c<e;){if(0==l)for(;c<=n;)P(this,i,c),c+=this.blockSize;if("string"==typeof i){for(;c<e;)if(s[l++]=i.charCodeAt(c++),l==this.blockSize){P(this,s),l=0;break}}else for(;c<e;)if(s[l++]=i[c++],l==this.blockSize){P(this,s),l=0;break}}this.h=l,this.i+=e},N.prototype.l=function(){var i=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);i[0]=128;for(var e=1;e<i.length-8;++e)i[e]=0;var n=8*this.i;for(e=i.length-8;e<i.length;++e)i[e]=255&n,n/=256;for(this.j(i),i=Array(16),e=n=0;4>e;++e)for(var s=0;32>s;s+=8)i[n++]=this.g[e]>>>s&255;return i};var ce={};function Ue(i){return-128<=i&&128>i?function vr(i,e){var n=ce;return Object.prototype.hasOwnProperty.call(n,i)?n[i]:n[i]=e(i)}(i,function(e){return new F([0|e],0>e?-1:0)}):new F([0|i],0>i?-1:0)}function Ze(i){if(isNaN(i)||!isFinite(i))return rn;if(0>i)return $n(Ze(-i));for(var e=[],n=1,s=0;i>=n;s++)e[s]=i/n|0,n*=Ht;return new F(e,0)}var Ht=4294967296,rn=Ue(0),_n=Ue(1),Jt=Ue(16777216);function On(i){if(0!=i.h)return!1;for(var e=0;e<i.g.length;e++)if(0!=i.g[e])return!1;return!0}function dn(i){return-1==i.h}function $n(i){for(var e=i.g.length,n=[],s=0;s<e;s++)n[s]=~i.g[s];return new F(n,~i.h).add(_n)}function Qr(i,e){return i.add($n(e))}function Cr(i,e){for(;(65535&i[e])!=i[e];)i[e+1]+=i[e]>>>16,i[e]&=65535,e++}function yi(i,e){this.g=i,this.h=e}function zr(i,e){if(On(e))throw Error("division by zero");if(On(i))return new yi(rn,rn);if(dn(i))return e=zr($n(i),e),new yi($n(e.g),$n(e.h));if(dn(e))return e=zr(i,$n(e)),new yi($n(e.g),e.h);if(30<i.g.length){if(dn(i)||dn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=_n,s=e;0>=s.X(i);)n=qi(n),s=qi(s);var l=ri(n,1),c=ri(s,1);for(s=ri(s,2),n=ri(n,2);!On(s);){var f=c.add(s);0>=f.X(i)&&(l=l.add(n),c=f),s=ri(s,1),n=ri(n,1)}return e=Qr(i,l.R(e)),new yi(l,e)}for(l=rn;0<=i.X(e);){for(n=Math.max(1,Math.floor(i.ea()/e.ea())),s=48>=(s=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,s-48),f=(c=Ze(n)).R(e);dn(f)||0<f.X(i);)f=(c=Ze(n-=s)).R(e);On(c)&&(c=_n),l=l.add(c),i=Qr(i,f)}return new yi(l,i)}function qi(i){for(var e=i.g.length+1,n=[],s=0;s<e;s++)n[s]=i.D(s)<<1|i.D(s-1)>>>31;return new F(n,i.h)}function ri(i,e){var n=e>>5;e%=32;for(var s=i.g.length-n,l=[],c=0;c<s;c++)l[c]=0<e?i.D(c+n)>>>e|i.D(c+n+1)<<32-e:i.D(c+n);return new F(l,i.h)}($e=F.prototype).ea=function(){if(dn(this))return-$n(this).ea();for(var i=0,e=1,n=0;n<this.g.length;n++){var s=this.D(n);i+=(0<=s?s:Ht+s)*e,e*=Ht}return i},$e.toString=function(i){if(2>(i=i||10)||36<i)throw Error("radix out of range: "+i);if(On(this))return"0";if(dn(this))return"-"+$n(this).toString(i);for(var e=Ze(Math.pow(i,6)),n=this,s="";;){var l=zr(n,e).g,c=((0<(n=Qr(n,l.R(e))).g.length?n.g[0]:n.h)>>>0).toString(i);if(On(n=l))return c+s;for(;6>c.length;)c="0"+c;s=c+s}},$e.D=function(i){return 0>i?0:i<this.g.length?this.g[i]:this.h},$e.X=function(i){return dn(i=Qr(this,i))?-1:On(i)?0:1},$e.abs=function(){return dn(this)?$n(this):this},$e.add=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],s=0,l=0;l<=e;l++){var c=s+(65535&this.D(l))+(65535&i.D(l)),f=(c>>>16)+(this.D(l)>>>16)+(i.D(l)>>>16);s=f>>>16,n[l]=(f&=65535)<<16|(c&=65535)}return new F(n,-2147483648&n[n.length-1]?-1:0)},$e.R=function(i){if(On(this)||On(i))return rn;if(dn(this))return dn(i)?$n(this).R($n(i)):$n($n(this).R(i));if(dn(i))return $n(this.R($n(i)));if(0>this.X(Jt)&&0>i.X(Jt))return Ze(this.ea()*i.ea());for(var e=this.g.length+i.g.length,n=[],s=0;s<2*e;s++)n[s]=0;for(s=0;s<this.g.length;s++)for(var l=0;l<i.g.length;l++){var c=this.D(s)>>>16,f=65535&this.D(s),D=i.D(l)>>>16,M=65535&i.D(l);n[2*s+2*l]+=f*M,Cr(n,2*s+2*l),n[2*s+2*l+1]+=c*M,Cr(n,2*s+2*l+1),n[2*s+2*l+1]+=f*D,Cr(n,2*s+2*l+1),n[2*s+2*l+2]+=c*D,Cr(n,2*s+2*l+2)}for(s=0;s<e;s++)n[s]=n[2*s+1]<<16|n[2*s];for(s=e;s<2*e;s++)n[s]=0;return new F(n,0)},$e.gb=function(i){return zr(this,i).h},$e.and=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)&i.D(s);return new F(n,this.h&i.h)},$e.or=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)|i.D(s);return new F(n,this.h|i.h)},$e.xor=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)^i.D(s);return new F(n,this.h^i.h)},E.prototype.createWebChannel=E.prototype.g,x.prototype.send=x.prototype.u,x.prototype.open=x.prototype.m,x.prototype.close=x.prototype.close,Io.NO_ERROR=0,Io.TIMEOUT=8,Io.HTTP_ERROR=6,Bs.COMPLETE="complete",Mo.EventType=As,As.OPEN="a",As.CLOSE="b",As.ERROR="c",As.MESSAGE="d",De.prototype.listen=De.prototype.O,be.prototype.listenOnce=be.prototype.P,be.prototype.getLastError=be.prototype.Sa,be.prototype.getLastErrorCode=be.prototype.Ia,be.prototype.getStatus=be.prototype.da,be.prototype.getResponseJson=be.prototype.Wa,be.prototype.getResponseText=be.prototype.ja,be.prototype.send=be.prototype.ha,be.prototype.setWithCredentials=be.prototype.Oa,N.prototype.digest=N.prototype.l,N.prototype.reset=N.prototype.reset,N.prototype.update=N.prototype.j,F.prototype.add=F.prototype.add,F.prototype.multiply=F.prototype.R,F.prototype.modulo=F.prototype.gb,F.prototype.compare=F.prototype.X,F.prototype.toNumber=F.prototype.ea,F.prototype.toString=F.prototype.toString,F.prototype.getBits=F.prototype.D,F.fromNumber=Ze,F.fromString=function pt(i,e){if(0==i.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==i.charAt(0))return $n(pt(i.substring(1),e));if(0<=i.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Ze(Math.pow(e,8)),s=rn,l=0;l<i.length;l+=8){var c=Math.min(8,i.length-l),f=parseInt(i.substring(l,l+c),e);8>c?(c=Ze(Math.pow(e,c)),s=s.R(c).add(Ze(f))):s=(s=s.R(n)).add(Ze(f))}return s};var Vi=Ct.createWebChannelTransport=function(){return new E},Fo=Ct.getStatEventTarget=function(){return Ti()},br=Ct.ErrorCode=Io,Ko=Ct.EventType=Bs,Xt=Ct.Event=si,Qt=Ct.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},ar=(Ct.FetchXmlHttpFactory=fr,Ct.WebChannel=Mo),ui=Ct.XhrIo=be,lr=Ct.Md5=N,Yr=Ct.Integer=F;const xs="@firebase/firestore";class Gn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Gn.UNAUTHENTICATED=new Gn(null),Gn.GOOGLE_CREDENTIALS=new Gn("google-credentials-uid"),Gn.FIRST_PARTY=new Gn("first-party-uid"),Gn.MOCK_USER=new Gn("mock-user");let cs="10.7.2";const bo=new Te.Yd("@firebase/firestore");function fi(){return bo.logLevel}function mt(i,...e){if(bo.logLevel<=Te.in.DEBUG){const n=e.map(Dn);bo.debug(`Firestore (${cs}): ${i}`,...n)}}function Lr(i,...e){if(bo.logLevel<=Te.in.ERROR){const n=e.map(Dn);bo.error(`Firestore (${cs}): ${i}`,...n)}}function vi(i,...e){if(bo.logLevel<=Te.in.WARN){const n=e.map(Dn);bo.warn(`Firestore (${cs}): ${i}`,...n)}}function Dn(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function Wt(i="Unexpected state"){const e=`FIRESTORE (${cs}) INTERNAL ASSERTION FAILED: `+i;throw Lr(e),new Error(e)}function on(i,e){i||Wt()}function jt(i,e){return i}const ot={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class yt extends V.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ci{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class pc{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Bl{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Gn.UNAUTHENTICATED))}shutdown(){}}class Au{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class vd{constructor(e){this.t=e,this.currentUser=Gn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var s=this;let l=this.i;const c=j=>this.i!==l?(l=this.i,n(j)):Promise.resolve();let f=new ci;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new ci,e.enqueueRetryable(()=>c(this.currentUser))};const D=()=>{const j=f;e.enqueueRetryable((0,he.Z)(function*(){yield j.promise,yield c(s.currentUser)}))},M=j=>{mt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=j,this.auth.addAuthTokenListener(this.o),D()};this.t.onInit(j=>M(j)),setTimeout(()=>{if(!this.auth){const j=this.t.getImmediate({optional:!0});j?M(j):(mt("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new ci)}},0),D()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(mt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(on("string"==typeof s.accessToken),new pc(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return on(null===e||"string"==typeof e),new Gn(e)}}class cl{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=Gn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class vt{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new cl(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Gn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class In{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mc{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const s=c=>{null!=c.error&&mt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.R;return this.R=c.token,mt("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const l=c=>{mt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>l(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?l(c):mt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(on("string"==typeof n.token),this.R=n.token,new In(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function ds(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}class Hl{static newId(){const n=62*Math.floor(256/62);let s="";for(;s.length<20;){const l=ds(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<n&&(s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(l[c]%62))}return s}}function xn(i,e){return i<e?-1:i>e?1:0}function Os(i,e,n){return i.length===e.length&&i.every((s,l)=>n(s,e[l]))}function ja(i){return i+"\0"}class Jr{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new yt(ot.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new yt(ot.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new yt(ot.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new yt(ot.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Jr.fromMillis(Date.now())}static fromDate(e){return Jr.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new Jr(n,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?xn(this.nanoseconds,e.nanoseconds):xn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class an{constructor(e){this.timestamp=e}static fromTimestamp(e){return new an(e)}static min(){return new an(new Jr(0,0))}static max(){return new an(new Jr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class dl{constructor(e,n,s){void 0===n?n=0:n>e.length&&Wt(),void 0===s?s=e.length-n:s>e.length-n&&Wt(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return 0===dl.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof dl?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let l=0;l<s;l++){const c=e.get(l),f=n.get(l);if(c<f)return-1;if(c>f)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Yn extends dl{construct(e,n,s){return new Yn(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new yt(ot.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(l=>l.length>0))}return new Yn(n)}static emptyPath(){return new Yn([])}}const Xi=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Tr extends dl{construct(e,n,s){return new Tr(e,n,s)}static isValidIdentifier(e){return Xi.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Tr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Tr(["__name__"])}static fromServerFormat(e){const n=[];let s="",l=0;const c=()=>{if(0===s.length)throw new yt(ot.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;l<e.length;){const D=e[l];if("\\"===D){if(l+1===e.length)throw new yt(ot.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const M=e[l+1];if("\\"!==M&&"."!==M&&"`"!==M)throw new yt(ot.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=M,l+=2}else"`"===D?(f=!f,l++):"."!==D||f?(s+=D,l++):(c(),l++)}if(c(),f)throw new yt(ot.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Tr(n)}static emptyPath(){return new Tr([])}}class Bt{constructor(e){this.path=e}static fromPath(e){return new Bt(Yn.fromString(e))}static fromName(e){return new Bt(Yn.fromString(e).popFirst(5))}static empty(){return new Bt(Yn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Yn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Yn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Bt(new Yn(e.slice()))}}class ho{constructor(e,n,s,l){this.indexId=e,this.collectionGroup=n,this.fields=s,this.indexState=l}}function Ns(i){return i.fields.find(e=>2===e.kind)}function Sa(i){return i.fields.filter(e=>2!==e.kind)}ho.UNKNOWN_ID=-1;class Pa{constructor(e,n){this.fieldPath=e,this.kind=n}}class Ra{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Ra(0,T.min())}}function _c(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,l=an.fromTimestamp(1e9===s?new Jr(n+1,0):new Jr(n,s));return new T(l,Bt.empty(),e)}function Pu(i){return new T(i.readTime,i.key,-1)}class T{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new T(an.min(),Bt.empty(),-1)}static max(){return new T(an.max(),Bt.empty(),-1)}}function A(i,e){let n=i.readTime.compareTo(e.readTime);return 0!==n?n:(n=Bt.comparator(i.documentKey,e.documentKey),0!==n?n:xn(i.largestBatchId,e.largestBatchId))}const I="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class R{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function B(i){return ne.apply(this,arguments)}function ne(){return ne=(0,he.Z)(function*(i){if(i.code!==ot.FAILED_PRECONDITION||i.message!==I)throw i;mt("LocalStore","Unexpectedly lost primary lease")}),ne.apply(this,arguments)}class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Wt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Y((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,l)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Y?n:Y.resolve(n)}catch(n){return Y.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Y.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Y.reject(n)}static resolve(e){return new Y((n,s)=>{n(e)})}static reject(e){return new Y((n,s)=>{s(e)})}static waitFor(e){return new Y((n,s)=>{let l=0,c=0,f=!1;e.forEach(D=>{++l,D.next(()=>{++c,f&&c===l&&n()},M=>s(M))}),f=!0,c===l&&n()})}static or(e){let n=Y.resolve(!1);for(const s of e)n=n.next(l=>l?Y.resolve(l):s());return n}static forEach(e,n){const s=[];return e.forEach((l,c)=>{s.push(n.call(this,l,c))}),this.waitFor(s)}static mapArray(e,n){return new Y((s,l)=>{const c=e.length,f=new Array(c);let D=0;for(let M=0;M<c;M++){const j=M;n(e[j]).next(ee=>{f[j]=ee,++D,D===c&&s(f)},ee=>l(ee))}})}static doWhile(e,n){return new Y((s,l)=>{const c=()=>{!0===e()?n().next(()=>{c()},l):s()};c()})}}class nt{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new ci,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Vn(e,n.error)):this.V.resolve()},this.transaction.onerror=s=>{const l=la(s.target.error);this.V.reject(new Vn(e,l))}}static open(e,n,s,l){try{return new nt(n,e.transaction(l,s))}catch(c){throw new Vn(n,c)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(mt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const n=this.transaction.objectStore(e);return new nr(n)}}class Qe{constructor(e,n,s){this.name=e,this.version=n,this.p=s,12.2===Qe.S((0,V.z$)())&&Lr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return mt("SimpleDb","Removing database:",e),dr(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,V.hl)())return!1;if(Qe.C())return!0;const e=(0,V.z$)(),n=Qe.S(e),s=0<n&&n<10,l=Qe.v(e),c=0<l&&l<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||c)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.F)}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static v(e){const n=e.match(/Android ([\d.]+)/i),s=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(s)}O(e){var n=this;return(0,he.Z)(function*(){return n.db||(mt("SimpleDb","Opening database:",n.name),n.db=yield new Promise((s,l)=>{const c=indexedDB.open(n.name,n.version);c.onsuccess=f=>{s(f.target.result)},c.onblocked=()=>{l(new Vn(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=f=>{const D=f.target.error;l("VersionError"===D.name?new yt(ot.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===D.name?new yt(ot.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+D):new Vn(e,D))},c.onupgradeneeded=f=>{mt("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',f.oldVersion),n.p.N(f.target.result,c.transaction,f.oldVersion,n.version).next(()=>{mt("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.B&&(n.db.onversionchange=s=>n.B(s)),n.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,s,l){var c=this;return(0,he.Z)(function*(){const f="readonly"===n;let D=0;for(;;){++D;try{c.db=yield c.O(e);const M=nt.open(c.db,e,f?"readonly":"readwrite",s),j=l(M).next(ee=>(M.g(),ee)).catch(ee=>(M.abort(ee),Y.reject(ee))).toPromise();return j.catch(()=>{}),yield M.m,j}catch(M){const j=M,ee="FirebaseError"!==j.name&&D<3;if(mt("SimpleDb","Transaction failed with error:",j.message,"Retrying:",ee),c.close(),!ee)return Promise.reject(j)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class zt{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return dr(this.k.delete())}}class Vn extends yt{constructor(e,n){super(ot.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Un(i){return"IndexedDbTransactionError"===i.name}class nr{constructor(e){this.store=e}put(e,n){let s;return void 0!==n?(mt("SimpleDb","PUT",this.store.name,e,n),s=this.store.put(n,e)):(mt("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),dr(s)}add(e){return mt("SimpleDb","ADD",this.store.name,e,e),dr(this.store.add(e))}get(e){return dr(this.store.get(e)).next(n=>(void 0===n&&(n=null),mt("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return mt("SimpleDb","DELETE",this.store.name,e),dr(this.store.delete(e))}count(){return mt("SimpleDb","COUNT",this.store.name),dr(this.store.count())}W(e,n){const s=this.options(e,n),l=s.index?this.store.index(s.index):this.store;if("function"==typeof l.getAll){const c=l.getAll(s.range);return new Y((f,D)=>{c.onerror=M=>{D(M.target.error)},c.onsuccess=M=>{f(M.target.result)}})}{const c=this.cursor(s),f=[];return this.G(c,(D,M)=>{f.push(M)}).next(()=>f)}}j(e,n){const s=this.store.getAll(e,null===n?void 0:n);return new Y((l,c)=>{s.onerror=f=>{c(f.target.error)},s.onsuccess=f=>{l(f.target.result)}})}H(e,n){mt("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,n);s.J=!1;const l=this.cursor(s);return this.G(l,(c,f,D)=>D.delete())}Y(e,n){let s;n?s=e:(s={},n=e);const l=this.cursor(s);return this.G(l,n)}Z(e){const n=this.cursor({});return new Y((s,l)=>{n.onerror=c=>{const f=la(c.target.error);l(f)},n.onsuccess=c=>{const f=c.target.result;f?e(f.primaryKey,f.value).next(D=>{D?f.continue():s()}):s()}})}G(e,n){const s=[];return new Y((l,c)=>{e.onerror=f=>{c(f.target.error)},e.onsuccess=f=>{const D=f.target.result;if(!D)return void l();const M=new zt(D),j=n(D.primaryKey,D.value,M);if(j instanceof Y){const ee=j.catch(pe=>(M.done(),Y.reject(pe)));s.push(ee)}M.isDone?l():null===M.$?D.continue():D.continue(M.$)}}).next(()=>Y.waitFor(s))}options(e,n){let s;return void 0!==e&&("string"==typeof e?s=e:n=e),{index:s,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const s=this.store.index(e.index);return e.J?s.openKeyCursor(e.range,n):s.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function dr(i){return new Y((e,n)=>{i.onsuccess=s=>{e(s.target.result)},i.onerror=s=>{const l=la(s.target.error);n(l)}})}let Ma=!1;function la(i){const e=Qe.S((0,V.z$)());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(n)>=0){const s=new yt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Ma||(Ma=!0,setTimeout(()=>{throw s},0)),s}}return i}class Ru{constructor(e,n){this.asyncQueue=e,this.X=n,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){var n=this;mt("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,he.Z)(function*(){n.task=null;try{mt("IndexBackfiller",`Documents written: ${yield n.X.te()}`)}catch(s){Un(s)?mt("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",s):yield B(s)}yield n.ee(6e4)}))}}class $a{constructor(e,n){this.localStore=e,this.persistence=n}te(e=50){var n=this;return(0,he.Z)(function*(){return n.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>n.ne(s,e))})()}ne(e,n){const s=new Set;let l=n,c=!0;return Y.doWhile(()=>!0===c&&l>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(f=>{if(null!==f&&!s.has(f))return mt("IndexBackfiller",`Processing collection: ${f}`),this.re(e,f,l).next(D=>{l-=D,s.add(f)});c=!1})).next(()=>n-l)}re(e,n,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(l=>this.localStore.localDocuments.getNextDocuments(e,n,l,s).next(c=>{const f=c.changes;return this.localStore.indexManager.updateIndexEntries(e,f).next(()=>this.ie(l,c)).next(D=>(mt("IndexBackfiller",`Updating offset: ${D}`),this.localStore.indexManager.updateCollectionGroup(e,n,D))).next(()=>f.size)}))}ie(e,n){let s=e;return n.changes.forEach((l,c)=>{const f=Pu(c);A(f,s)>0&&(s=f)}),new T(s.readTime,s.documentKey,Math.max(n.batchId,e.largestBatchId))}}let Ls=(()=>{class i{constructor(n,s){this.previousValue=n,s&&(s.sequenceNumberHandler=l=>this.se(l),this.oe=l=>s.writeSequenceNumber(l))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.oe&&this.oe(n),n}}return i._e=-1,i})();function za(i){return null==i}function Ga(i){return 0===i&&1/i==-1/0}function Qo(i){return"number"==typeof i&&Number.isInteger(i)&&!Ga(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}function ks(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=Mu(e)),e=jl(i.get(n),e);return Mu(e)}function jl(i,e){let n=e;const s=i.length;for(let l=0;l<s;l++){const c=i.charAt(l);switch(c){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=c}}return n}function Mu(i){return i+"\x01\x01"}function Zs(i){const e=i.length;if(on(e>=2),2===e)return on("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),Yn.emptyPath();const n=e-2,s=[];let l="";for(let c=0;c<e;){const f=i.indexOf("\x01",c);switch((f<0||f>n)&&Wt(),i.charAt(f+1)){case"\x01":const D=i.substring(c,f);let M;0===l.length?M=D:(l+=D,M=l,l=""),s.push(M);break;case"\x10":l+=i.substring(c,f),l+="\0";break;case"\x11":l+=i.substring(c,f+1);break;default:Wt()}c=f+2}return new Yn(s)}const hl=["userId","batchId"];function fl(i,e){return[i,ks(e)]}function Id(i,e,n){return[i,ks(e),n]}const Ed={},$l=["prefixPath","collectionGroup","readTime","documentId"],Yo=["prefixPath","collectionGroup","documentId"],Td=["collectionGroup","readTime","prefixPath","documentId"],n_=["canonicalId","targetId"],wd=["targetId","path"],r_=["path","targetId"],Cd=["collectionId","parent"],wh=["indexId","uid"],i_=["uid","sequenceNumber"],s_=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],xu=["indexId","uid","orderedDocumentKey"],Ou=["userId","collectionPath","documentId"],bd=["userId","collectionPath","largestBatchId"],Nu=["userId","collectionGroup","largestBatchId"],zl=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Gl=[...zl,"documentOverlays"],Dp=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],pl=Dp,Ch=[...pl,"indexConfiguration","indexState","indexEntries"];class Dd extends R{constructor(e,n){super(),this.ae=e,this.currentSequenceNumber=n}}function Gr(i,e){const n=jt(i);return Qe.M(n.ae,e)}function yc(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Do(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function vc(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class Xr{constructor(e,n){this.comparator=e,this.root=n||es.EMPTY}insert(e,n){return new Xr(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,es.BLACK,null,null))}remove(e){return new Xr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,es.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(0===s)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(0===l)return n+s.left.size;l<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wa(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wa(this.root,e,this.comparator,!0)}}class Wa{constructor(e,n,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?s(e.key,n):1,n&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class es{constructor(e,n,s,l,c){this.key=e,this.value=n,this.color=s??es.RED,this.left=l??es.EMPTY,this.right=c??es.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,l,c){return new es(e??this.key,n??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let l=this;const c=s(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,n,s),null):0===c?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return es.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===n(e,l.key)){if(l.right.isEmpty())return es.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,es.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,es.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Wt();const e=this.left.check();if(e!==this.right.check())throw Wt();return e+(this.isRed()?0:1)}}es.EMPTY=null,es.RED=!0,es.BLACK=!1,es.EMPTY=new class{constructor(){this.size=0}get key(){throw Wt()}get value(){throw Wt()}get color(){throw Wt()}get left(){throw Wt()}get right(){throw Wt()}copy(e,n,s,l,c){return this}insert(e,n,s){return new es(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ei{constructor(e){this.comparator=e,this.data=new Xr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let s;for(s=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ad(this.data.getIterator())}getIteratorFrom(e){return new Ad(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof ei)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=s.getNext().key;if(0!==this.comparator(l,c))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ei(this.comparator);return n.data=e,n}}class Ad{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function xa(i){return i.hasNext()?i.getNext():void 0}class Qs{constructor(e){this.fields=e,e.sort(Tr.comparator)}static empty(){return new Qs([])}unionWith(e){let n=new ei(Tr.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Qs(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Os(this.fields,e.fields,(n,s)=>n.isEqual(s))}}class Sd extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ui{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Sd("Invalid base64 string: "+c):c}}(e);return new Ui(n)}static fromUint8Array(e){const n=function(l){let c="";for(let f=0;f<l.length;++f)c+=String.fromCharCode(l[f]);return c}(e);return new Ui(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let l=0;l<n.length;l++)s[l]=n.charCodeAt(l);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ui.EMPTY_BYTE_STRING=new Ui("");const ml=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ua(i){if(on(!!i),"string"==typeof i){let e=0;const n=ml.exec(i);if(on(!!n),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Pi(i.seconds),nanos:Pi(i.nanos)}}function Pi(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Uo(i){return"string"==typeof i?Ui.fromBase64String(i):Ui.fromUint8Array(i)}function ca(i){var e,n;return"server_timestamp"===(null===(n=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Wl(i){const e=i.mapValue.fields.__previous_value__;return ca(e)?Wl(e):e}function ts(i){const e=ua(i.mapValue.fields.__local_write_time__.timestampValue);return new Jr(e.seconds,e.nanos)}class Rd{constructor(e,n,s,l,c,f,D,M,j){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=D,this.longPollingOptions=M,this.useFetchStreams=j}}class Oa{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Oa("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Oa&&e.projectId===this.projectId&&e.database===this.database}}const Jo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Lu={nullValue:"NULL_VALUE"};function da(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?ca(i)?4:Sp(i)?9007199254740991:10:Wt()}function Bo(i,e){if(i===e)return!0;const n=da(i);if(n!==da(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return ts(i).isEqual(ts(e));case 3:return function(l,c){if("string"==typeof l.timestampValue&&"string"==typeof c.timestampValue&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const f=ua(l.timestampValue),D=ua(c.timestampValue);return f.seconds===D.seconds&&f.nanos===D.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return c=e,Uo(i.bytesValue).isEqual(Uo(c.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(l,c){return Pi(l.geoPointValue.latitude)===Pi(c.geoPointValue.latitude)&&Pi(l.geoPointValue.longitude)===Pi(c.geoPointValue.longitude)}(i,e);case 2:return function(l,c){if("integerValue"in l&&"integerValue"in c)return Pi(l.integerValue)===Pi(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const f=Pi(l.doubleValue),D=Pi(c.doubleValue);return f===D?Ga(f)===Ga(D):isNaN(f)&&isNaN(D)}return!1}(i,e);case 9:return Os(i.arrayValue.values||[],e.arrayValue.values||[],Bo);case 10:return function(l,c){const f=l.mapValue.fields||{},D=c.mapValue.fields||{};if(yc(f)!==yc(D))return!1;for(const M in f)if(f.hasOwnProperty(M)&&(void 0===D[M]||!Bo(f[M],D[M])))return!1;return!0}(i,e);default:return Wt()}var c}function Xo(i,e){return void 0!==(i.values||[]).find(n=>Bo(n,e))}function Ys(i,e){if(i===e)return 0;const n=da(i),s=da(e);if(n!==s)return xn(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return xn(i.booleanValue,e.booleanValue);case 2:return function(c,f){const D=Pi(c.integerValue||c.doubleValue),M=Pi(f.integerValue||f.doubleValue);return D<M?-1:D>M?1:D===M?0:isNaN(D)?isNaN(M)?0:-1:1}(i,e);case 3:return gl(i.timestampValue,e.timestampValue);case 4:return gl(ts(i),ts(e));case 5:return xn(i.stringValue,e.stringValue);case 6:return function(c,f){const D=Uo(c),M=Uo(f);return D.compareTo(M)}(i.bytesValue,e.bytesValue);case 7:return function(c,f){const D=c.split("/"),M=f.split("/");for(let j=0;j<D.length&&j<M.length;j++){const ee=xn(D[j],M[j]);if(0!==ee)return ee}return xn(D.length,M.length)}(i.referenceValue,e.referenceValue);case 8:return function(c,f){const D=xn(Pi(c.latitude),Pi(f.latitude));return 0!==D?D:xn(Pi(c.longitude),Pi(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(c,f){const D=c.values||[],M=f.values||[];for(let j=0;j<D.length&&j<M.length;++j){const ee=Ys(D[j],M[j]);if(ee)return ee}return xn(D.length,M.length)}(i.arrayValue,e.arrayValue);case 10:return function(c,f){if(c===Jo.mapValue&&f===Jo.mapValue)return 0;if(c===Jo.mapValue)return 1;if(f===Jo.mapValue)return-1;const D=c.fields||{},M=Object.keys(D),j=f.fields||{},ee=Object.keys(j);M.sort(),ee.sort();for(let pe=0;pe<M.length&&pe<ee.length;++pe){const Ne=xn(M[pe],ee[pe]);if(0!==Ne)return Ne;const Xe=Ys(D[M[pe]],j[ee[pe]]);if(0!==Xe)return Xe}return xn(M.length,ee.length)}(i.mapValue,e.mapValue);default:throw Wt()}}function gl(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return xn(i,e);const n=ua(i),s=ua(e),l=xn(n.seconds,s.seconds);return 0!==l?l:xn(n.nanos,s.nanos)}function _l(i){return ku(i)}function ku(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=ua(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?Uo(i.bytesValue).toBase64():"referenceValue"in i?Bt.fromName(i.referenceValue).toString():"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",l=!0;for(const c of n.values||[])l?l=!1:s+=",",s+=ku(c);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let l="{",c=!0;for(const f of s)c?c=!1:l+=",",l+=`${f}:${ku(n.fields[f])}`;return l+"}"}(i.mapValue):Wt()}function ql(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Md(i){return!!i&&"integerValue"in i}function Fu(i){return!!i&&"arrayValue"in i}function Ap(i){return!!i&&"nullValue"in i}function Ic(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function xd(i){return!!i&&"mapValue"in i}function Ec(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Do(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Ec(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ec(i.arrayValue.values[n]);return e}return Object.assign({},i)}function Sp(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function Kl(i){return"nullValue"in i?Lu:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?ql(Oa.empty(),Bt.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:Wt()}function Pp(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?ql(Oa.empty(),Bt.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?Jo:Wt()}function bh(i,e){const n=Ys(i.value,e.value);return 0!==n?n:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function ns(i,e){const n=Ys(i.value,e.value);return 0!==n?n:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class ws{constructor(e){this.value=e}static empty(){return new ws({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!xd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ec(n)}setAll(e){let n=Tr.emptyPath(),s={},l=[];e.forEach((f,D)=>{if(!n.isImmediateParentOf(D)){const M=this.getFieldsMap(n);this.applyChanges(M,s,l),s={},l=[],n=D.popLast()}f?s[D.lastSegment()]=Ec(f):l.push(D.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,s,l)}delete(e){const n=this.field(e.popLast());xd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Bo(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=n.mapValue.fields[e.get(s)];xd(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,s){Do(n,(l,c)=>e[l]=c);for(const l of s)delete e[l]}clone(){return new ws(Ec(this.value))}}function qa(i){const e=[];return Do(i.fields,(n,s)=>{const l=new Tr([n]);if(xd(s)){const c=qa(s.mapValue).fields;if(0===c.length)e.push(l);else for(const f of c)e.push(l.child(f))}else e.push(l)}),new Qs(e)}class pi{constructor(e,n,s,l,c,f,D){this.key=e,this.documentType=n,this.version=s,this.readTime=l,this.createTime=c,this.data=f,this.documentState=D}static newInvalidDocument(e){return new pi(e,0,an.min(),an.min(),an.min(),ws.empty(),0)}static newFoundDocument(e,n,s,l){return new pi(e,1,n,an.min(),s,l,0)}static newNoDocument(e,n){return new pi(e,2,n,an.min(),an.min(),ws.empty(),0)}static newUnknownDocument(e,n){return new pi(e,3,n,an.min(),an.min(),ws.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(an.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ws.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ws.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=an.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof pi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ls{constructor(e,n){this.position=e,this.inclusive=n}}function yl(i,e,n){let s=0;for(let l=0;l<i.position.length;l++){const c=e[l],f=i.position[l];if(s=c.field.isKeyField()?Bt.comparator(Bt.fromName(f.referenceValue),n.key):Ys(f,n.data.field(c.field)),"desc"===c.dir&&(s*=-1),0!==s)break}return s}function Od(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Bo(i.position[n],e.position[n]))return!1;return!0}class Ka{constructor(e,n="asc"){this.field=e,this.dir=n}}function Zl(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class Dh{}class wr extends Dh{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,s):new Rp(e,n,s):"array-contains"===n?new Bu(e,s):"in"===n?new Ql(e,s):"not-in"===n?new Tc(e,s):"array-contains-any"===n?new Hu(e,s):new wr(e,n,s)}static createKeyFieldInFilter(e,n,s){return"in"===n?new Ld(e,s):new Mp(e,s)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Ys(n,this.value)):null!==n&&da(this.value)===da(n)&&this.matchesComparison(Ys(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Wt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wr extends Dh{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Wr(e,n)}matches(e){return Vu(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Vu(i){return"and"===i.op}function Js(i){return"or"===i.op}function vl(i){return Na(i)&&Vu(i)}function Na(i){for(const e of i.filters)if(e instanceof Wr)return!1;return!0}function Ah(i){if(i instanceof wr)return i.field.canonicalString()+i.op.toString()+_l(i.value);if(vl(i))return i.filters.map(e=>Ah(e)).join(",");{const e=i.filters.map(n=>Ah(n)).join(",");return`${i.op}(${e})`}}function Uu(i,e){return i instanceof wr?(s=i,(l=e)instanceof wr&&s.op===l.op&&s.field.isEqual(l.field)&&Bo(s.value,l.value)):i instanceof Wr?function(s,l){return l instanceof Wr&&s.op===l.op&&s.filters.length===l.filters.length&&s.filters.reduce((c,f,D)=>c&&Uu(f,l.filters[D]),!0)}(i,e):void Wt();var s,l}function Sh(i,e){const n=i.filters.concat(e);return Wr.create(n,i.op)}function Nd(i){return i instanceof wr?`${(n=i).field.canonicalString()} ${n.op} ${_l(n.value)}`:i instanceof Wr?function(n){return n.op.toString()+" {"+n.getFilters().map(Nd).join(" ,")+"}"}(i):"Filter";var n}class Rp extends wr{constructor(e,n,s){super(e,n,s),this.key=Bt.fromName(s.referenceValue)}matches(e){const n=Bt.comparator(e.key,this.key);return this.matchesComparison(n)}}class Ld extends wr{constructor(e,n){super(e,"in",n),this.keys=xp(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Mp extends wr{constructor(e,n){super(e,"not-in",n),this.keys=xp(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function xp(i,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(s=>Bt.fromName(s.referenceValue))}class Bu extends wr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Fu(n)&&Xo(n.arrayValue,this.value)}}class Ql extends wr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Xo(this.value.arrayValue,n)}}class Tc extends wr{constructor(e,n){super(e,"not-in",n)}matches(e){if(Xo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Xo(this.value.arrayValue,n)}}class Hu extends wr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Fu(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Xo(this.value.arrayValue,s))}}class Ph{constructor(e,n=null,s=[],l=[],c=null,f=null,D=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=f,this.endAt=D,this.ce=null}}function Yl(i,e=null,n=[],s=[],l=null,c=null,f=null){return new Ph(i,e,n,s,l,c,f)}function Il(i){const e=jt(i);if(null===e.ce){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Ah(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>{return(c=s).field.canonicalString()+c.dir;var c}).join(","),za(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>_l(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>_l(s)).join(",")),e.ce=n}return e.ce}function Jl(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!Zl(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!Uu(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Od(i.startAt,e.startAt)&&Od(i.endAt,e.endAt)}function Xl(i){return Bt.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function El(i,e){return i.filters.filter(n=>n instanceof wr&&n.field.isEqual(e))}function wc(i,e,n){let s=Lu,l=!0;for(const c of El(i,e)){let f=Lu,D=!0;switch(c.op){case"<":case"<=":f=Kl(c.value);break;case"==":case"in":case">=":f=c.value;break;case">":f=c.value,D=!1;break;case"!=":case"not-in":f=Lu}bh({value:s,inclusive:l},{value:f,inclusive:D})<0&&(s=f,l=D)}if(null!==n)for(let c=0;c<i.orderBy.length;++c)if(i.orderBy[c].field.isEqual(e)){const f=n.position[c];bh({value:s,inclusive:l},{value:f,inclusive:n.inclusive})<0&&(s=f,l=n.inclusive);break}return{value:s,inclusive:l}}function Rh(i,e,n){let s=Jo,l=!0;for(const c of El(i,e)){let f=Jo,D=!0;switch(c.op){case">=":case">":f=Pp(c.value),D=!1;break;case"==":case"in":case"<=":f=c.value;break;case"<":f=c.value,D=!1;break;case"!=":case"not-in":f=Jo}ns({value:s,inclusive:l},{value:f,inclusive:D})>0&&(s=f,l=D)}if(null!==n)for(let c=0;c<i.orderBy.length;++c)if(i.orderBy[c].field.isEqual(e)){const f=n.position[c];ns({value:s,inclusive:l},{value:f,inclusive:n.inclusive})>0&&(s=f,l=n.inclusive);break}return{value:s,inclusive:l}}class Za{constructor(e,n=null,s=[],l=[],c=null,f="F",D=null,M=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=f,this.startAt=D,this.endAt=M,this.le=null,this.he=null,this.Pe=null}}function v(i,e,n,s,l,c,f,D){return new Za(i,e,n,s,l,c,f,D)}function h(i){return new Za(i)}function m(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function C(i){return null!==i.collectionGroup}function W(i){const e=jt(i);if(null===e.le){e.le=[];const n=new Set;for(const c of e.explicitOrderBy)e.le.push(c),n.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let D=new ei(Tr.comparator);return f.filters.forEach(M=>{M.getFlattenedFilters().forEach(j=>{j.isInequality()&&(D=D.add(j.field))})}),D})(e).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||e.le.push(new Ka(c,s))}),n.has(Tr.keyField().canonicalString())||e.le.push(new Ka(Tr.keyField(),s))}return e.le}function ie(i){const e=jt(i);return e.he||(e.he=function Ve(i,e){if("F"===i.limitType)return Yl(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(l=>new Ka(l.field,"desc"===l.dir?"asc":"desc"));const n=i.endAt?new ls(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new ls(i.startAt.position,i.startAt.inclusive):null;return Yl(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}(e,W(i))),e.he}function st(i,e){const n=i.filters.concat([e]);return new Za(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function It(i,e,n){return new Za(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Yt(i,e){return Jl(ie(i),ie(e))&&i.limitType===e.limitType}function pn(i){return`${Il(ie(i))}|lt:${i.limitType}`}function rr(i){return`Query(target=${function(n){let s=n.path.canonicalString();return null!==n.collectionGroup&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(l=>Nd(l)).join(", ")}]`),za(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(l=>{return`${(f=l).field.canonicalString()} (${f.dir})`;var f}).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(l=>_l(l)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(l=>_l(l)).join(",")),`Target(${s})`}(ie(i))}; limitType=${i.limitType})`}function hs(i,e){return e.isFoundDocument()&&function(s,l){const c=l.key.path;return null!==s.collectionGroup?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):Bt.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(i,e)&&function(s,l){for(const c of W(s))if(!c.field.isKeyField()&&null===l.data.field(c.field))return!1;return!0}(i,e)&&function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0}(i,e)&&(l=e,!((s=i).startAt&&!function(f,D,M){const j=yl(f,D,M);return f.inclusive?j<=0:j<0}(s.startAt,W(s),l)||s.endAt&&!function(f,D,M){const j=yl(f,D,M);return f.inclusive?j>=0:j>0}(s.endAt,W(s),l)));var s,l}function ha(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Cc(i){return(e,n)=>{let s=!1;for(const l of W(i)){const c=kd(l,e,n);if(0!==c)return c;s=s||l.field.isKeyField()}return 0}}function kd(i,e,n){const s=i.field.isKeyField()?Bt.comparator(e.key,n.key):function(c,f,D){const M=f.data.field(c),j=D.data.field(c);return null!==M&&null!==j?Ys(M,j):Wt()}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Wt()}}class fa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(void 0!==s)for(const[l,c]of s)if(this.equalsFn(l,e))return c}has(e){return void 0!==this.get(e)}set(e,n){const s=this.mapKeyFn(e),l=this.inner[s];if(void 0===l)return this.inner[s]=[[e,n]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(void 0===s)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return 1===s.length?delete this.inner[n]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Do(this.inner,(n,s)=>{for(const[l,c]of s)e(l,c)})}isEmpty(){return vc(this.inner)}size(){return this.innerSize}}const Mh=new Xr(Bt.comparator);function Xs(){return Mh}const eu=new Xr(Bt.comparator);function ju(...i){let e=eu;for(const n of i)e=e.insert(n.key,n);return e}function xh(i){let e=eu;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function fo(){return bc()}function Oh(){return bc()}function bc(){return new fa(i=>i.toString(),(i,e)=>i.isEqual(e))}const Nh=new Xr(Bt.comparator),o_=new ei(Bt.comparator);function hr(...i){let e=o_;for(const n of i)e=e.add(n);return e}const _v=new ei(xn);function Dc(){return _v}function Fd(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ga(e)?"-0":e}}function Op(i){return{integerValue:""+i}}function Np(i,e){return Qo(e)?Op(e):Fd(i,e)}class Vd{constructor(){this._=void 0}}function Ac(i,e,n){return i instanceof Tl?function(l,c){const f={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&ca(c)&&(c=Wl(c)),c&&(f.fields.__previous_value__=c),{mapValue:f}}(n,e):i instanceof Qa?Ud(i,e):i instanceof $u?l_(i,e):function(l,c){const f=Lp(l,c),D=kp(f)+kp(l.Ie);return Md(f)&&Md(l.Ie)?Op(D):Fd(l.serializer,D)}(i,e)}function a_(i,e,n){return i instanceof Qa?Ud(i,e):i instanceof $u?l_(i,e):n}function Lp(i,e){return i instanceof Sc?Md(s=e)||(c=s)&&"doubleValue"in c?e:{integerValue:0}:null;var s,c}class Tl extends Vd{}class Qa extends Vd{constructor(e){super(),this.elements=e}}function Ud(i,e){const n=Lh(e);for(const s of i.elements)n.some(l=>Bo(l,s))||n.push(s);return{arrayValue:{values:n}}}class $u extends Vd{constructor(e){super(),this.elements=e}}function l_(i,e){let n=Lh(e);for(const s of i.elements)n=n.filter(l=>!Bo(l,s));return{arrayValue:{values:n}}}class Sc extends Vd{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function kp(i){return Pi(i.integerValue||i.doubleValue)}function Lh(i){return Fu(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Bd{constructor(e,n){this.field=e,this.transform=n}}class vv{constructor(e,n){this.version=e,this.transformResults=n}}class Ri{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ri}static exists(e){return new Ri(void 0,e)}static updateTime(e){return new Ri(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function kh(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class Fh{}function Ao(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new Rc(i.key,Ri.none()):new Ya(i.key,i.data,Ri.none());{const n=i.data,s=ws.empty();let l=new ei(Tr.comparator);for(let c of e.fields)if(!l.has(c)){let f=n.field(c);null===f&&c.length>1&&(c=c.popLast(),f=n.field(c)),null===f?s.delete(c):s.set(c,f),l=l.add(c)}return new Ja(i.key,s,new Qs(l.toArray()),Ri.none())}}function Fp(i,e,n){i instanceof Ya?function(l,c,f){const D=l.value.clone(),M=u_(l.fieldTransforms,c,f.transformResults);D.setAll(M),c.convertToFoundDocument(f.version,D).setHasCommittedMutations()}(i,e,n):i instanceof Ja?function(l,c,f){if(!kh(l.precondition,c))return void c.convertToUnknownDocument(f.version);const D=u_(l.fieldTransforms,c,f.transformResults),M=c.data;M.setAll(Up(l)),M.setAll(D),c.convertToFoundDocument(f.version,M).setHasCommittedMutations()}(i,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Pc(i,e,n,s){return i instanceof Ya?function(c,f,D,M){if(!kh(c.precondition,f))return D;const j=c.value.clone(),ee=Bp(c.fieldTransforms,M,f);return j.setAll(ee),f.convertToFoundDocument(f.version,j).setHasLocalMutations(),null}(i,e,n,s):i instanceof Ja?function(c,f,D,M){if(!kh(c.precondition,f))return D;const j=Bp(c.fieldTransforms,M,f),ee=f.data;return ee.setAll(Up(c)),ee.setAll(j),f.convertToFoundDocument(f.version,ee).setHasLocalMutations(),null===D?null:D.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(pe=>pe.field))}(i,e,n,s):(D=n,kh(i.precondition,f=e)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):D);var f,D}function Vp(i,e){let n=null;for(const s of i.fieldTransforms){const l=e.data.field(s.field),c=Lp(s.transform,l||null);null!=c&&(null===n&&(n=ws.empty()),n.set(s.field,c))}return n||null}function eo(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(l=e.fieldTransforms,!!(void 0===(s=i.fieldTransforms)&&void 0===l||s&&l&&Os(s,l,(c,f)=>function yv(i,e){return i.field.isEqual(e.field)&&(l=e.transform,(s=i.transform)instanceof Qa&&l instanceof Qa||s instanceof $u&&l instanceof $u?Os(s.elements,l.elements,Bo):s instanceof Sc&&l instanceof Sc?Bo(s.Ie,l.Ie):s instanceof Tl&&l instanceof Tl);var s,l}(c,f))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var s,l}class Ya extends Fh{constructor(e,n,s,l=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Ja extends Fh{constructor(e,n,s,l,c=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Up(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function u_(i,e,n){const s=new Map;on(i.length===n.length);for(let l=0;l<n.length;l++){const c=i[l],f=c.transform,D=e.data.field(c.field);s.set(c.field,a_(f,D,n[l]))}return s}function Bp(i,e,n){const s=new Map;for(const l of i){const c=l.transform,f=n.data.field(l.field);s.set(l.field,Ac(c,f,e))}return s}class Rc extends Fh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Vh extends Fh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Hp{constructor(e,n,s,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&Fp(c,e,s[l])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Pc(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Pc(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Oh();return this.mutations.forEach(l=>{const c=e.get(l.key),f=c.overlayedDocument;let D=this.applyToLocalView(f,c.mutatedFields);D=n.has(l.key)?null:D;const M=Ao(f,D);null!==M&&s.set(l.key,M),f.isValidDocument()||f.convertToNoDocument(an.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),hr())}isEqual(e){return this.batchId===e.batchId&&Os(this.mutations,e.mutations,(n,s)=>eo(n,s))&&Os(this.baseMutations,e.baseMutations,(n,s)=>eo(n,s))}}class Uh{constructor(e,n,s,l){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=l}static from(e,n,s){on(e.mutations.length===s.length);let l=Nh;const c=e.mutations;for(let f=0;f<c.length;f++)l=l.insert(c[f].key,s[f].version);return new Uh(e,n,s,l)}}class jp{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class $p{constructor(e,n){this.count=e,this.unchangedNames=n}}var rs,Rr;function Mc(i){switch(i){default:return Wt();case ot.CANCELLED:case ot.UNKNOWN:case ot.DEADLINE_EXCEEDED:case ot.RESOURCE_EXHAUSTED:case ot.INTERNAL:case ot.UNAVAILABLE:case ot.UNAUTHENTICATED:return!1;case ot.INVALID_ARGUMENT:case ot.NOT_FOUND:case ot.ALREADY_EXISTS:case ot.PERMISSION_DENIED:case ot.FAILED_PRECONDITION:case ot.ABORTED:case ot.OUT_OF_RANGE:case ot.UNIMPLEMENTED:case ot.DATA_LOSS:return!0}}function c_(i){if(void 0===i)return Lr("GRPC error has no .code"),ot.UNKNOWN;switch(i){case rs.OK:return ot.OK;case rs.CANCELLED:return ot.CANCELLED;case rs.UNKNOWN:return ot.UNKNOWN;case rs.DEADLINE_EXCEEDED:return ot.DEADLINE_EXCEEDED;case rs.RESOURCE_EXHAUSTED:return ot.RESOURCE_EXHAUSTED;case rs.INTERNAL:return ot.INTERNAL;case rs.UNAVAILABLE:return ot.UNAVAILABLE;case rs.UNAUTHENTICATED:return ot.UNAUTHENTICATED;case rs.INVALID_ARGUMENT:return ot.INVALID_ARGUMENT;case rs.NOT_FOUND:return ot.NOT_FOUND;case rs.ALREADY_EXISTS:return ot.ALREADY_EXISTS;case rs.PERMISSION_DENIED:return ot.PERMISSION_DENIED;case rs.FAILED_PRECONDITION:return ot.FAILED_PRECONDITION;case rs.ABORTED:return ot.ABORTED;case rs.OUT_OF_RANGE:return ot.OUT_OF_RANGE;case rs.UNIMPLEMENTED:return ot.UNIMPLEMENTED;case rs.DATA_LOSS:return ot.DATA_LOSS;default:return Wt()}}(Rr=rs||(rs={}))[Rr.OK=0]="OK",Rr[Rr.CANCELLED=1]="CANCELLED",Rr[Rr.UNKNOWN=2]="UNKNOWN",Rr[Rr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Rr[Rr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Rr[Rr.NOT_FOUND=5]="NOT_FOUND",Rr[Rr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Rr[Rr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Rr[Rr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Rr[Rr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Rr[Rr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Rr[Rr.ABORTED=10]="ABORTED",Rr[Rr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Rr[Rr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Rr[Rr.INTERNAL=13]="INTERNAL",Rr[Rr.UNAVAILABLE=14]="UNAVAILABLE",Rr[Rr.DATA_LOSS=15]="DATA_LOSS";function zp(){return new TextEncoder}const d_=new Yr([4294967295,4294967295],0);function Gp(i){const e=zp().encode(i),n=new lr;return n.update(e),new Uint8Array(n.digest())}function zu(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Yr([n,s],0),new Yr([l,c],0)]}class xc{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Oc(`Invalid padding: ${n}`);if(s<0)throw new Oc(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new Oc(`Invalid hash count: ${s}`);if(0===e.length&&0!==n)throw new Oc(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Yr.fromNumber(this.Te)}de(e,n,s){let l=e.add(n.multiply(Yr.fromNumber(s)));return 1===l.compare(d_)&&(l=new Yr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const n=Gp(e),[s,l]=zu(n);for(let c=0;c<this.hashCount;c++){const f=this.de(s,l,c);if(!this.Ae(f))return!1}return!0}static create(e,n,s){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new xc(c,l,n);return s.forEach(D=>f.insert(D)),f}insert(e){if(0===this.Te)return;const n=Gp(e),[s,l]=zu(n);for(let c=0;c<this.hashCount;c++){const f=this.de(s,l,c);this.Re(f)}}Re(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class Oc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Gu{constructor(e,n,s,l,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const l=new Map;return l.set(e,tu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Gu(an.min(),l,new Xr(xn),Xs(),hr())}}class tu{constructor(e,n,s,l,c){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new tu(s,n,hr(),hr(),hr())}}class Hh{constructor(e,n,s,l){this.Ve=e,this.removedTargetIds=n,this.key=s,this.me=l}}class h_{constructor(e,n){this.targetId=e,this.fe=n}}class f_{constructor(e,n,s=Ui.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=l}}class p_{constructor(){this.ge=0,this.pe=Wp(),this.ye=Ui.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=hr(),n=hr(),s=hr();return this.pe.forEach((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:s=s.add(l);break;default:Wt()}}),new tu(this.ye,this.we,e,n,s)}Fe(){this.Se=!1,this.pe=Wp()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,on(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class Ev{constructor(e){this.Le=e,this.ke=new Map,this.qe=Xs(),this.Qe=m_(),this.Ke=new Xr(xn)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const s=this.ze(n);switch(e.state){case 0:this.je(n)&&s.Ce(e.resumeToken);break;case 1:s.Ne(),s.be||s.Fe(),s.Ce(e.resumeToken);break;case 2:s.Ne(),s.be||this.removeTarget(n);break;case 3:this.je(n)&&(s.Be(),s.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),s.Ce(e.resumeToken));break;default:Wt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((s,l)=>{this.je(l)&&n(l)})}Je(e){const n=e.targetId,s=e.fe.count,l=this.Ye(n);if(l){const c=l.target;if(Xl(c))if(0===s){const f=new Bt(c.path);this.We(n,f,pi.newNoDocument(f,an.min()))}else on(1===s);else{const f=this.Ze(n);if(f!==s){const D=this.Xe(e),M=D?this.et(D,e,f):1;0!==M&&(this.He(n),this.Ke=this.Ke.insert(n,2===M?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=n;let f,D;try{f=Uo(s).toUint8Array()}catch(M){if(M instanceof Sd)return vi("Decoding the base64 bloom filter in existence filter failed ("+M.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw M}try{D=new xc(f,l,c)}catch(M){return vi(M instanceof Oc?"BloomFilter error: ":"Applying bloom filter failed: ",M),null}return 0===D.Te?null:D}et(e,n,s){return n.fe.count===s-this.rt(e,n.targetId)?0:2}rt(e,n){const s=this.Le.getRemoteKeysForTarget(n);let l=0;return s.forEach(c=>{const f=this.Le.nt(),D=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;e.mightContain(D)||(this.We(n,c,null),l++)}),l}it(e){const n=new Map;this.ke.forEach((c,f)=>{const D=this.Ye(f);if(D){if(c.current&&Xl(D.target)){const M=new Bt(D.target.path);null!==this.qe.get(M)||this.st(f,M)||this.We(f,M,pi.newNoDocument(M,e))}c.De&&(n.set(f,c.ve()),c.Fe())}});let s=hr();this.Qe.forEach((c,f)=>{let D=!0;f.forEachWhile(M=>{const j=this.Ye(M);return!j||"TargetPurposeLimboResolution"===j.purpose||(D=!1,!1)}),D&&(s=s.add(c))}),this.qe.forEach((c,f)=>f.setReadTime(e));const l=new Gu(e,n,this.Ke,this.qe,s);return this.qe=Xs(),this.Qe=m_(),this.Ke=new Xr(xn),l}Ue(e,n){if(!this.je(e))return;const s=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,s),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,s){if(!this.je(e))return;const l=this.ze(e);this.st(e,n)?l.Me(n,1):l.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),s&&(this.qe=this.qe.insert(n,s))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new p_,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new ei(xn),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=null!==this.Ye(e);return n||mt("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new p_),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function m_(){return new Xr(Bt.comparator)}function Wp(){return new Xr(Bt.comparator)}const jh={asc:"ASCENDING",desc:"DESCENDING"},qp={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Kp={and:"AND",or:"OR"};class Tv{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Zp(i,e){return i.useProto3Json||za(e)?e:{value:e}}function nu(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Qp(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function Wu(i,e){return nu(i,e.toTimestamp())}function is(i){return on(!!i),an.fromTimestamp(function(n){const s=ua(n);return new Jr(s.seconds,s.nanos)}(i))}function $h(i,e){return Yp(i,e).canonicalString()}function Yp(i,e){const n=(l=i,new Yn(["projects",l.projectId,"databases",l.database])).child("documents");var l;return void 0===e?n:n.child(e)}function wv(i){const e=Yn.fromString(i);return on(T_(e)),e}function ru(i,e){return $h(i.databaseId,e.path)}function Xa(i,e){const n=wv(e);if(n.get(1)!==i.databaseId.projectId)throw new yt(ot.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new yt(ot.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Bt(Gh(n))}function Jp(i,e){return $h(i.databaseId,e)}function Xp(i){const e=wv(i);return 4===e.length?Yn.emptyPath():Gh(e)}function zh(i){return new Yn(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Gh(i){return on(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function em(i,e,n){return{name:ru(i,e),fields:n.value.mapValue.fields}}function Hd(i,e,n){const s=Xa(i,e.name),l=is(e.updateTime),c=e.createTime?is(e.createTime):an.min(),f=new ws({mapValue:{fields:e.fields}}),D=pi.newFoundDocument(s,l,c,f);return n&&D.setHasCommittedMutations(),n?D.setHasCommittedMutations():D}function qu(i,e){let n;if(e instanceof Ya)n={update:em(i,e.key,e.value)};else if(e instanceof Rc)n={delete:ru(i,e.key)};else if(e instanceof Ja)n={update:em(i,e.key,e.data),updateMask:Lc(e.fieldMask)};else{if(!(e instanceof Vh))return Wt();n={verify:ru(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(c,f){const D=f.transform;if(D instanceof Tl)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(D instanceof Qa)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:D.elements}};if(D instanceof $u)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:D.elements}};if(D instanceof Sc)return{fieldPath:f.field.canonicalString(),increment:D.Ie};throw Wt()}(0,s))),e.precondition.isNone||(n.currentDocument=void 0!==(c=e.precondition).updateTime?{updateTime:Wu(i,c.updateTime)}:void 0!==c.exists?{exists:c.exists}:Wt()),n;var c}function Nc(i,e){const n=e.currentDocument?void 0!==(c=e.currentDocument).updateTime?Ri.updateTime(is(c.updateTime)):void 0!==c.exists?Ri.exists(c.exists):Ri.none():Ri.none(),s=e.updateTransforms?e.updateTransforms.map(l=>function(f,D){let M=null;"setToServerValue"in D?(on("REQUEST_TIME"===D.setToServerValue),M=new Tl):"appendMissingElements"in D?M=new Qa(D.appendMissingElements.values||[]):"removeAllFromArray"in D?M=new $u(D.removeAllFromArray.values||[]):"increment"in D?M=new Sc(f,D.increment):Wt();const j=Tr.fromServerFormat(D.fieldPath);return new Bd(j,M)}(i,l)):[];var c;if(e.update){const l=Xa(i,e.update.name),c=new ws({mapValue:{fields:e.update.fields}});if(e.updateMask){const f=new Qs((e.updateMask.fieldPaths||[]).map(ee=>Tr.fromServerFormat(ee)));return new Ja(l,c,f,n,s)}return new Ya(l,c,n,s)}if(e.delete){const l=Xa(i,e.delete);return new Rc(l,n)}if(e.verify){const l=Xa(i,e.verify);return new Vh(l,n)}return Wt()}function Wh(i,e){return{documents:[Jp(i,e.path)]}}function Ku(i,e){const n={structuredQuery:{}},s=e.path;let l;null!==e.collectionGroup?(l=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Jp(i,l);const c=function(j){if(0!==j.length)return qh(Wr.create(j,"and"))}(e.filters);c&&(n.structuredQuery.where=c);const f=function(j){if(0!==j.length)return j.map(ee=>{return{field:wl((Ne=ee).field),direction:Cv(Ne.dir)};var Ne})}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const D=Zp(i,e.limit);return null!==D&&(n.structuredQuery.limit=D),e.startAt&&(n.structuredQuery.startAt={before:(j=e.startAt).inclusive,values:j.position}),e.endAt&&(n.structuredQuery.endAt=function(j){return{before:!j.inclusive,values:j.position}}(e.endAt)),{ut:n,parent:l};var j}function y_(i){let e=Xp(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let l=null;if(s>0){on(1===s);const ee=n.from[0];ee.allDescendants?l=ee.collectionId:e=e.child(ee.collectionId)}let c=[];n.where&&(c=function(pe){const Ne=I_(pe);return Ne instanceof Wr&&vl(Ne)?Ne.getFilters():[Ne]}(n.where));let f=[];n.orderBy&&(f=n.orderBy.map(Ne=>{return new Ka(Cl((Mt=Ne).field),function(Ut){switch(Ut){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Mt.direction));var Mt}));let D=null;n.limit&&(D=function(pe){let Ne;return Ne="object"==typeof pe?pe.value:pe,za(Ne)?null:Ne}(n.limit));let M=null;var pe;n.startAt&&(M=new ls((pe=n.startAt).values||[],!!pe.before));let j=null;return n.endAt&&(j=function(pe){return new ls(pe.values||[],!pe.before)}(n.endAt)),v(e,l,f,c,D,"F",M,j)}function I_(i){return void 0!==i.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Cl(n.unaryFilter.field);return wr.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Cl(n.unaryFilter.field);return wr.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Cl(n.unaryFilter.field);return wr.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Cl(n.unaryFilter.field);return wr.create(f,"!=",{nullValue:"NULL_VALUE"});default:return Wt()}}(i):void 0!==i.fieldFilter?wr.create(Cl((n=i).fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Wt()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==i.compositeFilter?function(n){return Wr.create(n.compositeFilter.filters.map(s=>I_(s)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Wt()}}(n.compositeFilter.op))}(i):Wt();var n}function Cv(i){return jh[i]}function bv(i){return qp[i]}function E_(i){return Kp[i]}function wl(i){return{fieldPath:i.canonicalString()}}function Cl(i){return Tr.fromServerFormat(i.fieldPath)}function qh(i){return i instanceof wr?function(n){if("=="===n.op){if(Ic(n.value))return{unaryFilter:{field:wl(n.field),op:"IS_NAN"}};if(Ap(n.value))return{unaryFilter:{field:wl(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(Ic(n.value))return{unaryFilter:{field:wl(n.field),op:"IS_NOT_NAN"}};if(Ap(n.value))return{unaryFilter:{field:wl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wl(n.field),op:bv(n.op),value:n.value}}}(i):i instanceof Wr?function(n){const s=n.getFilters().map(l=>qh(l));return 1===s.length?s[0]:{compositeFilter:{op:E_(n.op),filters:s}}}(i):Wt()}function Lc(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function T_(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class bl{constructor(e,n,s,l,c=an.min(),f=an.min(),D=Ui.EMPTY_BYTE_STRING,M=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=D,this.expectedCount=M}withSequenceNumber(e){return new bl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new bl(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new bl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new bl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Dv{constructor(e){this.ct=e}}function Kh(i,e){const n=e.key,s={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Zh(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:ru(c=i.ct,(f=e).key),fields:f.data.value.mapValue.fields,updateTime:nu(c,f.version.toTimestamp()),createTime:nu(c,f.createTime.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:n.path.toArray(),readTime:pa(e.version)};else{if(!e.isUnknownDocument())return Wt();s.unknownDocument={path:n.path.toArray(),version:pa(e.version)}}var c,f;return s}function Zh(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function pa(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function el(i){const e=new Jr(i.seconds,i.nanoseconds);return an.fromTimestamp(e)}function Dl(i,e){const n=(e.baseMutations||[]).map(c=>Nc(i.ct,c));for(let c=0;c<e.mutations.length-1;++c)c+1<e.mutations.length&&void 0!==e.mutations[c+1].transform&&(e.mutations[c].updateTransforms=e.mutations[c+1].transform.fieldTransforms,e.mutations.splice(c+1,1),++c);const s=e.mutations.map(c=>Nc(i.ct,c)),l=Jr.fromMillis(e.localWriteTimeMs);return new Hp(e.batchId,l,n,s)}function kc(i){const e=el(i.readTime),n=void 0!==i.lastLimboFreeSnapshotVersion?el(i.lastLimboFreeSnapshotVersion):an.min();let s;return s=void 0!==i.query.documents?(on(1===(c=i.query).documents.length),ie(h(Xp(c.documents[0])))):function(c){return ie(y_(c))}(i.query),new bl(s,i.targetId,"TargetPurposeListen",i.lastListenSequenceNumber,e,n,Ui.fromBase64String(i.resumeToken));var c}function tm(i,e){const n=pa(e.snapshotVersion),s=pa(e.lastLimboFreeSnapshotVersion);let l;l=Xl(e.target)?Wh(i.ct,e.target):Ku(i.ct,e.target).ut;const c=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Il(e.target),readTime:n,resumeToken:c,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:l}}function Qh(i){const e=y_({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?It(e,e.limit,"L"):e}function Yh(i,e){return new jp(e.largestBatchId,Nc(i.ct,e.overlayMutation))}function w_(i,e){const n=e.path.lastSegment();return[i,ks(e.path.popLast()),n]}function C_(i,e,n,s){return{indexId:i,uid:e,sequenceNumber:n,readTime:pa(s.readTime),documentKey:ks(s.documentKey.path),largestBatchId:s.largestBatchId}}class Sv{getBundleMetadata(e,n){return b_(e).get(n).next(s=>{if(s)return{id:(c=s).bundleId,createTime:el(c.createTime),version:c.version};var c})}saveBundleMetadata(e,n){return b_(e).put({bundleId:(l=n).id,createTime:pa(is(l.createTime)),version:l.version});var l}getNamedQuery(e,n){return D_(e).get(n).next(s=>{if(s)return{name:(c=s).name,query:Qh(c.bundledQuery),readTime:el(c.readTime)};var c})}saveNamedQuery(e,n){return D_(e).put({name:(l=n).name,readTime:pa(is(l.readTime)),bundledQuery:l.bundledQuery});var l}}function b_(i){return Gr(i,"bundles")}function D_(i){return Gr(i,"namedQueries")}class La{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){return new La(e,n.uid||"")}getOverlay(e,n){return Al(e).get(w_(this.userId,n)).next(s=>s?Yh(this.serializer,s):null)}getOverlays(e,n){const s=fo();return Y.forEach(n,l=>this.getOverlay(e,l).next(c=>{null!==c&&s.set(l,c)})).next(()=>s)}saveOverlays(e,n,s){const l=[];return s.forEach((c,f)=>{const D=new jp(n,f);l.push(this.ht(e,D))}),Y.waitFor(l)}removeOverlaysForBatchId(e,n,s){const l=new Set;n.forEach(f=>l.add(ks(f.getCollectionPath())));const c=[];return l.forEach(f=>{const D=IDBKeyRange.bound([this.userId,f,s],[this.userId,f,s+1],!1,!0);c.push(Al(e).H("collectionPathOverlayIndex",D))}),Y.waitFor(c)}getOverlaysForCollection(e,n,s){const l=fo(),c=ks(n),f=IDBKeyRange.bound([this.userId,c,s],[this.userId,c,Number.POSITIVE_INFINITY],!0);return Al(e).W("collectionPathOverlayIndex",f).next(D=>{for(const M of D){const j=Yh(this.serializer,M);l.set(j.getKey(),j)}return l})}getOverlaysForCollectionGroup(e,n,s,l){const c=fo();let f;const D=IDBKeyRange.bound([this.userId,n,s],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Al(e).Y({index:"collectionGroupOverlayIndex",range:D},(M,j,ee)=>{const pe=Yh(this.serializer,j);c.size()<l||pe.largestBatchId===f?(c.set(pe.getKey(),pe),f=pe.largestBatchId):ee.done()}).next(()=>c)}ht(e,n){return Al(e).put(function(l,c,f){const[D,M,j]=w_(c,f.mutation.key);return{userId:c,collectionPath:M,documentId:j,collectionGroup:f.mutation.key.getCollectionGroup(),largestBatchId:f.largestBatchId,overlayMutation:qu(l.ct,f.mutation)}}(this.serializer,this.userId,n))}}function Al(i){return Gr(i,"documentOverlays")}class Zu{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(Pi(e.integerValue));else if("doubleValue"in e){const s=Pi(e.doubleValue);isNaN(s)?this.Et(n,13):(this.Et(n,15),Ga(s)?n.dt(0):n.dt(s))}else if("timestampValue"in e){const s=e.timestampValue;this.Et(n,20),"string"==typeof s?n.At(s):(n.At(`${s.seconds||""}`),n.dt(s.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(Uo(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){const s=e.geoPointValue;this.Et(n,45),n.dt(s.latitude||0),n.dt(s.longitude||0)}else"mapValue"in e?Sp(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):Wt()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){const s=e.fields||{};this.Et(n,55);for(const l of Object.keys(s))this.Rt(l,n),this.It(s[l],n)}wt(e,n){const s=e.values||[];this.Et(n,50);for(const l of s)this.It(l,n)}gt(e,n){this.Et(n,37),Bt.fromName(e).path.forEach(s=>{this.Et(n,60),this.St(s,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}}function RE(i){if(0===i)return 8;let e=0;return!(i>>4)&&(e+=4,i<<=4),!(i>>6)&&(e+=2,i<<=2),!(i>>7)&&(e+=1),e}function Pv(i){const e=64-function(s){let l=0;for(let c=0;c<8;++c){const f=RE(255&s[c]);if(l+=f,8!==f)break}return l}(i);return Math.ceil(e/8)}Zu.bt=new Zu;class ME{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const n=e[Symbol.iterator]();let s=n.next();for(;!s.done;)this.Ct(s.value),s=n.next();this.vt()}Ft(e){const n=e[Symbol.iterator]();let s=n.next();for(;!s.done;)this.Mt(s.value),s=n.next();this.xt()}Ot(e){for(const n of e){const s=n.charCodeAt(0);if(s<128)this.Ct(s);else if(s<2048)this.Ct(960|s>>>6),this.Ct(128|63&s);else if(n<"\ud800"||"\udbff"<n)this.Ct(480|s>>>12),this.Ct(128|63&s>>>6),this.Ct(128|63&s);else{const l=n.codePointAt(0);this.Ct(240|l>>>18),this.Ct(128|63&l>>>12),this.Ct(128|63&l>>>6),this.Ct(128|63&l)}}this.vt()}Nt(e){for(const n of e){const s=n.charCodeAt(0);if(s<128)this.Mt(s);else if(s<2048)this.Mt(960|s>>>6),this.Mt(128|63&s);else if(n<"\ud800"||"\udbff"<n)this.Mt(480|s>>>12),this.Mt(128|63&s>>>6),this.Mt(128|63&s);else{const l=n.codePointAt(0);this.Mt(240|l>>>18),this.Mt(128|63&l>>>12),this.Mt(128|63&l>>>6),this.Mt(128|63&l)}}this.xt()}Bt(e){const n=this.Lt(e),s=Pv(n);this.kt(1+s),this.buffer[this.position++]=255&s;for(let l=n.length-s;l<n.length;++l)this.buffer[this.position++]=255&n[l]}qt(e){const n=this.Lt(e),s=Pv(n);this.kt(1+s),this.buffer[this.position++]=~(255&s);for(let l=n.length-s;l<n.length;++l)this.buffer[this.position++]=~(255&n[l])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Lt(e){const n=function(c){const f=new DataView(new ArrayBuffer(8));return f.setFloat64(0,c,!1),new Uint8Array(f.buffer)}(e),s=0!=(128&n[0]);n[0]^=s?255:128;for(let l=1;l<n.length;++l)n[l]^=s?255:0;return n}Ct(e){const n=255&e;0===n?(this.Kt(0),this.Kt(255)):255===n?(this.Kt(255),this.Kt(0)):this.Kt(n)}Mt(e){const n=255&e;0===n?(this.Ut(0),this.Ut(255)):255===n?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const n=e+this.position;if(n<=this.buffer.length)return;let s=2*this.buffer.length;s<n&&(s=n);const l=new Uint8Array(s);l.set(this.buffer),this.buffer=l}}class xE{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Bt(e)}Tt(){this.Gt.Qt()}}class OE{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class Fc{constructor(){this.Gt=new ME,this.zt=new xE(this.Gt),this.jt=new OE(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return 0===e?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class Qu{constructor(e,n,s,l){this.indexId=e,this.documentKey=n,this.arrayValue=s,this.directionalValue=l}Jt(){const e=this.directionalValue.length,n=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(n);return s.set(this.directionalValue,0),n!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new Qu(this.indexId,this.documentKey,this.arrayValue,s)}}function iu(i,e){let n=i.indexId-e.indexId;return 0!==n?n:(n=A_(i.arrayValue,e.arrayValue),0!==n?n:(n=A_(i.directionalValue,e.directionalValue),0!==n?n:Bt.comparator(i.documentKey,e.documentKey)))}function A_(i,e){for(let n=0;n<i.length&&n<e.length;++n){const s=i[n]-e[n];if(0!==s)return s}return i.length-e.length}class S_{constructor(e){this.Yt=new ei((n,s)=>Tr.comparator(n.field,s.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const n of e.filters){const s=n;s.isInequality()?this.Yt=this.Yt.add(s):this.Xt.push(s)}}get en(){return this.Yt.size>1}tn(e){if(on(e.collectionGroup===this.collectionId),this.en)return!1;const n=Ns(e);if(void 0!==n&&!this.nn(n))return!1;const s=Sa(e);let l=new Set,c=0,f=0;for(;c<s.length&&this.nn(s[c]);++c)l=l.add(s[c].fieldPath.canonicalString());if(c===s.length)return!0;if(this.Yt.size>0){const D=this.Yt.getIterator().getNext();if(!l.has(D.field.canonicalString())){const M=s[c];if(!this.rn(D,M)||!this.sn(this.Zt[f++],M))return!1}++c}for(;c<s.length;++c)if(f>=this.Zt.length||!this.sn(this.Zt[f++],s[c]))return!1;return!0}on(){if(this.en)return null;let e=new ei(Tr.comparator);const n=[];for(const s of this.Xt)if(!s.field.isKeyField())if("array-contains"===s.op||"array-contains-any"===s.op)n.push(new Pa(s.field,2));else{if(e.has(s.field))continue;e=e.add(s.field),n.push(new Pa(s.field,0))}for(const s of this.Zt)s.field.isKeyField()||e.has(s.field)||(e=e.add(s.field),n.push(new Pa(s.field,"asc"===s.dir?0:1)));return new ho(ho.UNKNOWN_ID,this.collectionId,n,Ra.empty())}nn(e){for(const n of this.Xt)if(this.rn(n,e))return!0;return!1}rn(e,n){return!(void 0===e||!e.field.isEqual(n.fieldPath))&&2===n.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,n){return!!e.field.isEqual(n.fieldPath)&&(0===n.kind&&"asc"===e.dir||1===n.kind&&"desc"===e.dir)}}function Jh(i){var e,n;if(on(i instanceof wr||i instanceof Wr),i instanceof wr){if(i instanceof Ql){const l=(null===(n=null===(e=i.value.arrayValue)||void 0===e?void 0:e.values)||void 0===n?void 0:n.map(c=>wr.create(i.field,"==",c)))||[];return Wr.create(l,"or")}return i}const s=i.filters.map(l=>Jh(l));return Wr.create(s,i.op)}function Sl(i){if(0===i.getFilters().length)return[];const e=ef(Jh(i));return on(nm(e)),Yu(e)||Xh(e)?[e]:e.getFilters()}function Yu(i){return i instanceof wr}function Xh(i){return i instanceof Wr&&vl(i)}function nm(i){return Yu(i)||Xh(i)||function(n){if(n instanceof Wr&&Js(n)){for(const s of n.getFilters())if(!Yu(s)&&!Xh(s))return!1;return!0}return!1}(i)}function ef(i){if(on(i instanceof wr||i instanceof Wr),i instanceof wr)return i;if(1===i.filters.length)return ef(i.filters[0]);const e=i.filters.map(s=>ef(s));let n=Wr.create(e,i.op);return n=rm(n),nm(n)?n:(on(n instanceof Wr),on(Vu(n)),on(n.filters.length>1),n.filters.reduce((s,l)=>P_(s,l)))}function P_(i,e){let n;return on(i instanceof wr||i instanceof Wr),on(e instanceof wr||e instanceof Wr),n=i instanceof wr?e instanceof wr?Wr.create([i,e],"and"):Rv(i,e):e instanceof wr?Rv(e,i):function(l,c){if(on(l.filters.length>0&&c.filters.length>0),Vu(l)&&Vu(c))return Sh(l,c.getFilters());const f=Js(l)?l:c,D=Js(l)?c:l,M=f.filters.map(j=>P_(j,D));return Wr.create(M,"or")}(i,e),rm(n)}function Rv(i,e){if(Vu(e))return Sh(e,i.getFilters());{const n=e.filters.map(s=>P_(i,s));return Wr.create(n,"or")}}function rm(i){if(on(i instanceof wr||i instanceof Wr),i instanceof wr)return i;const e=i.getFilters();if(1===e.length)return rm(e[0]);if(Na(i))return i;const n=e.map(l=>rm(l)),s=[];return n.forEach(l=>{l instanceof wr?s.push(l):l instanceof Wr&&(l.op===i.op?s.push(...l.filters):s.push(l))}),1===s.length?s[0]:Wr.create(s,i.op)}class im{constructor(){this._n=new $d}addToCollectionParentIndex(e,n){return this._n.add(n),Y.resolve()}getCollectionParents(e,n){return Y.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return Y.resolve()}deleteFieldIndex(e,n){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,n){return Y.resolve()}getDocumentsMatchingTarget(e,n){return Y.resolve(null)}getIndexType(e,n){return Y.resolve(0)}getFieldIndexes(e,n){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,n){return Y.resolve(T.min())}getMinOffsetFromCollectionGroup(e,n){return Y.resolve(T.min())}updateCollectionGroup(e,n,s){return Y.resolve()}updateIndexEntries(e,n){return Y.resolve()}}class $d{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),l=this.index[n]||new ei(Yn.comparator),c=!l.has(s);return this.index[n]=l.add(s),c}has(e){const n=e.lastSegment(),s=e.popLast(),l=this.index[n];return l&&l.has(s)}getEntries(e){return(this.index[e]||new ei(Yn.comparator)).toArray()}}const sm=new Uint8Array(0);class NE{constructor(e,n){this.databaseId=n,this.an=new $d,this.un=new fa(s=>Il(s),(s,l)=>Jl(s,l)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.an.has(n)){const s=n.lastSegment(),l=n.popLast();e.addOnCommittedListener(()=>{this.an.add(n)});const c={collectionId:s,parent:ks(l)};return om(e).put(c)}return Y.resolve()}getCollectionParents(e,n){const s=[],l=IDBKeyRange.bound([n,""],[ja(n),""],!1,!0);return om(e).W(l).next(c=>{for(const f of c){if(f.collectionId!==n)break;s.push(Zs(f.parent))}return s})}addFieldIndex(e,n){const s=zd(e),l={indexId:(D=n).indexId,collectionGroup:D.collectionGroup,fields:D.fields.map(M=>[M.fieldPath.canonicalString(),M.kind])};var D;delete l.indexId;const c=s.add(l);if(n.indexState){const f=Uc(e);return c.next(D=>{f.put(C_(D,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return c.next()}deleteFieldIndex(e,n){const s=zd(e),l=Uc(e),c=Vc(e);return s.delete(n.indexId).next(()=>l.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>c.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=zd(e),s=Vc(e),l=Uc(e);return n.H().next(()=>s.H()).next(()=>l.H())}createTargetIndexes(e,n){return Y.forEach(this.cn(n),s=>this.getIndexType(e,s).next(l=>{if(0===l||1===l){const c=new S_(s).on();if(null!=c)return this.addFieldIndex(e,c)}}))}getDocumentsMatchingTarget(e,n){const s=Vc(e);let l=!0;const c=new Map;return Y.forEach(this.cn(n),f=>this.ln(e,f).next(D=>{l&&(l=!!D),c.set(f,D)})).next(()=>{if(l){let f=hr();const D=[];return Y.forEach(c,(M,j)=>{var mn;mt("IndexedDbIndexManager",`Using index ${mn=M,`id=${mn.indexId}|cg=${mn.collectionGroup}|f=${mn.fields.map(Kn=>`${Kn.fieldPath}:${Kn.kind}`).join(",")}`} to execute ${Il(n)}`);const ee=function(mn,Kn){const Mr=Ns(Kn);if(void 0===Mr)return null;for(const Br of El(mn,Mr.fieldPath))switch(Br.op){case"array-contains-any":return Br.value.arrayValue.values||[];case"array-contains":return[Br.value]}return null}(j,M),pe=function(mn,Kn){const Mr=new Map;for(const Br of Sa(Kn))for(const os of El(mn,Br.fieldPath))switch(os.op){case"==":case"in":Mr.set(Br.fieldPath.canonicalString(),os.value);break;case"not-in":case"!=":return Mr.set(Br.fieldPath.canonicalString(),os.value),Array.from(Mr.values())}return null}(j,M),Ne=function(mn,Kn){const Mr=[];let Br=!0;for(const os of Sa(Kn)){const ra=0===os.kind?wc(mn,os.fieldPath,mn.startAt):Rh(mn,os.fieldPath,mn.startAt);Mr.push(ra.value),Br&&(Br=ra.inclusive)}return new ls(Mr,Br)}(j,M),Xe=function(mn,Kn){const Mr=[];let Br=!0;for(const os of Sa(Kn)){const ra=0===os.kind?Rh(mn,os.fieldPath,mn.endAt):wc(mn,os.fieldPath,mn.endAt);Mr.push(ra.value),Br&&(Br=ra.inclusive)}return new ls(Mr,Br)}(j,M),Mt=this.hn(M,j,Ne),$t=this.hn(M,j,Xe),Ut=this.Pn(M,j,pe),yn=this.In(M.indexId,ee,Mt,Ne.inclusive,$t,Xe.inclusive,Ut);return Y.forEach(yn,qn=>s.j(qn,n.limit).next(mn=>{mn.forEach(Kn=>{const Mr=Bt.fromSegments(Kn.documentKey);f.has(Mr)||(f=f.add(Mr),D.push(Mr))})}))}).next(()=>D)}return Y.resolve(null)})}cn(e){let n=this.un.get(e);return n||(n=0===e.filters.length?[e]:Sl(Wr.create(e.filters,"and")).map(s=>Yl(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,n),n)}In(e,n,s,l,c,f,D){const M=(null!=n?n.length:1)*Math.max(s.length,c.length),j=M/(null!=n?n.length:1),ee=[];for(let pe=0;pe<M;++pe){const Ne=n?this.Tn(n[pe/j]):sm,Xe=this.En(e,Ne,s[pe%j],l),Mt=this.dn(e,Ne,c[pe%j],f),$t=D.map(Ut=>this.En(e,Ne,Ut,!0));ee.push(...this.createRange(Xe,Mt,$t))}return ee}En(e,n,s,l){const c=new Qu(e,Bt.empty(),n,s);return l?c:c.Jt()}dn(e,n,s,l){const c=new Qu(e,Bt.empty(),n,s);return l?c.Jt():c}ln(e,n){const s=new S_(n),l=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,l).next(c=>{let f=null;for(const D of c)s.tn(D)&&(!f||D.fields.length>f.fields.length)&&(f=D);return f})}getIndexType(e,n){let s=2;const l=this.cn(n);return Y.forEach(l,c=>this.ln(e,c).next(f=>{f?0!==s&&f.fields.length<function(M){let j=new ei(Tr.comparator),ee=!1;for(const pe of M.filters)for(const Ne of pe.getFlattenedFilters())Ne.field.isKeyField()||("array-contains"===Ne.op||"array-contains-any"===Ne.op?ee=!0:j=j.add(Ne.field));for(const pe of M.orderBy)pe.field.isKeyField()||(j=j.add(pe.field));return j.size+(ee?1:0)}(c)&&(s=1):s=0})).next(()=>null!==n.limit&&l.length>1&&2===s?1:s)}An(e,n){const s=new Fc;for(const l of Sa(e)){const c=n.data.field(l.fieldPath);if(null==c)return null;const f=s.Ht(l.kind);Zu.bt.Pt(c,f)}return s.Wt()}Tn(e){const n=new Fc;return Zu.bt.Pt(e,n.Ht(0)),n.Wt()}Rn(e,n){const s=new Fc;return Zu.bt.Pt(ql(this.databaseId,n),s.Ht(function(c){const f=Sa(c);return 0===f.length?0:f[f.length-1].kind}(e))),s.Wt()}Pn(e,n,s){if(null===s)return[];let l=[];l.push(new Fc);let c=0;for(const f of Sa(e)){const D=s[c++];for(const M of l)if(this.Vn(n,f.fieldPath)&&Fu(D))l=this.mn(l,f,D);else{const j=M.Ht(f.kind);Zu.bt.Pt(D,j)}}return this.fn(l)}hn(e,n,s){return this.Pn(e,n,s.position)}fn(e){const n=[];for(let s=0;s<e.length;++s)n[s]=e[s].Wt();return n}mn(e,n,s){const l=[...e],c=[];for(const f of s.arrayValue.values||[])for(const D of l){const M=new Fc;M.seed(D.Wt()),Zu.bt.Pt(f,M.Ht(n.kind)),c.push(M)}return c}Vn(e,n){return!!e.filters.find(s=>s instanceof wr&&s.field.isEqual(n)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,n){const s=zd(e),l=Uc(e);return(n?s.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):s.W()).next(c=>{const f=[];return Y.forEach(c,D=>l.get([D.indexId,this.uid]).next(M=>{f.push(function(ee,pe){const Ne=pe?new Ra(pe.sequenceNumber,new T(el(pe.readTime),new Bt(Zs(pe.documentKey)),pe.largestBatchId)):Ra.empty(),Xe=ee.fields.map(([Mt,$t])=>new Pa(Tr.fromServerFormat(Mt),$t));return new ho(ee.indexId,ee.collectionGroup,Xe,Ne)}(D,M))})).next(()=>f)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>0===n.length?null:(n.sort((s,l)=>{const c=s.indexState.sequenceNumber-l.indexState.sequenceNumber;return 0!==c?c:xn(s.collectionGroup,l.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,s){const l=zd(e),c=Uc(e);return this.gn(e).next(f=>l.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(D=>Y.forEach(D,M=>c.put(C_(M.indexId,this.uid,f,s)))))}updateIndexEntries(e,n){const s=new Map;return Y.forEach(n,(l,c)=>{const f=s.get(l.collectionGroup);return(f?Y.resolve(f):this.getFieldIndexes(e,l.collectionGroup)).next(D=>(s.set(l.collectionGroup,D),Y.forEach(D,M=>this.pn(e,l,M).next(j=>{const ee=this.yn(c,M);return j.isEqual(ee)?Y.resolve():this.wn(e,c,M,j,ee)}))))})}Sn(e,n,s,l){return Vc(e).put({indexId:l.indexId,uid:this.uid,arrayValue:l.arrayValue,directionalValue:l.directionalValue,orderedDocumentKey:this.Rn(s,n.key),documentKey:n.key.path.toArray()})}bn(e,n,s,l){return Vc(e).delete([l.indexId,this.uid,l.arrayValue,l.directionalValue,this.Rn(s,n.key),n.key.path.toArray()])}pn(e,n,s){const l=Vc(e);let c=new ei(iu);return l.Y({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.Rn(s,n)])},(f,D)=>{c=c.add(new Qu(s.indexId,n,D.arrayValue,D.directionalValue))}).next(()=>c)}yn(e,n){let s=new ei(iu);const l=this.An(n,e);if(null==l)return s;const c=Ns(n);if(null!=c){const f=e.data.field(c.fieldPath);if(Fu(f))for(const D of f.arrayValue.values||[])s=s.add(new Qu(n.indexId,e.key,this.Tn(D),l))}else s=s.add(new Qu(n.indexId,e.key,sm,l));return s}wn(e,n,s,l,c){mt("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const f=[];return function(M,j,ee,pe,Ne){const Xe=M.getIterator(),Mt=j.getIterator();let $t=xa(Xe),Ut=xa(Mt);for(;$t||Ut;){let yn=!1,qn=!1;if($t&&Ut){const mn=ee($t,Ut);mn<0?qn=!0:mn>0&&(yn=!0)}else null!=$t?qn=!0:yn=!0;yn?(pe(Ut),Ut=xa(Mt)):qn?(Ne($t),$t=xa(Xe)):($t=xa(Xe),Ut=xa(Mt))}}(l,c,iu,D=>{f.push(this.Sn(e,n,s,D))},D=>{f.push(this.bn(e,n,s,D))}),Y.waitFor(f)}gn(e){let n=1;return Uc(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,l,c)=>{c.done(),n=l.sequenceNumber+1}).next(()=>n)}createRange(e,n,s){s=s.sort((f,D)=>iu(f,D)).filter((f,D,M)=>!D||0!==iu(f,M[D-1]));const l=[];l.push(e);for(const f of s){const D=iu(f,e),M=iu(f,n);if(0===D)l[0]=e.Jt();else if(D>0&&M<0)l.push(f),l.push(f.Jt());else if(M>0)break}l.push(n);const c=[];for(let f=0;f<l.length;f+=2){if(this.Dn(l[f],l[f+1]))return[];c.push(IDBKeyRange.bound([l[f].indexId,this.uid,l[f].arrayValue,l[f].directionalValue,sm,[]],[l[f+1].indexId,this.uid,l[f+1].arrayValue,l[f+1].directionalValue,sm,[]]))}return c}Dn(e,n){return iu(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(R_)}getMinOffset(e,n){return Y.mapArray(this.cn(n),s=>this.ln(e,s).next(l=>l||Wt())).next(R_)}}function om(i){return Gr(i,"collectionParents")}function Vc(i){return Gr(i,"indexEntries")}function zd(i){return Gr(i,"indexConfiguration")}function Uc(i){return Gr(i,"indexState")}function R_(i){on(0!==i.length);let e=i[0].indexState.offset,n=e.largestBatchId;for(let s=1;s<i.length;s++){const l=i[s].indexState.offset;A(l,e)<0&&(e=l),n<l.largestBatchId&&(n=l.largestBatchId)}return new T(e.readTime,e.documentKey,n)}const am={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Cs{constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new Cs(e,Cs.DEFAULT_COLLECTION_PERCENTILE,Cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function M_(i,e,n){const s=i.store("mutations"),l=i.store("documentMutations"),c=[],f=IDBKeyRange.only(n.batchId);let D=0;const M=s.Y({range:f},(ee,pe,Ne)=>(D++,Ne.delete()));c.push(M.next(()=>{on(1===D)}));const j=[];for(const ee of n.mutations){const pe=Id(e,ee.key.path,n.batchId);c.push(l.delete(pe)),j.push(ee.key)}return Y.waitFor(c).next(()=>j)}function Bc(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw Wt();e=i.noDocument}return JSON.stringify(e).length}Cs.DEFAULT_COLLECTION_PERCENTILE=10,Cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Cs.DEFAULT=new Cs(41943040,Cs.DEFAULT_COLLECTION_PERCENTILE,Cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Cs.DISABLED=new Cs(-1,0,0);class tf{constructor(e,n,s,l){this.userId=e,this.serializer=n,this.indexManager=s,this.referenceDelegate=l,this.Cn={}}static lt(e,n,s,l){on(""!==e.uid);const c=e.isAuthenticated()?e.uid:"";return new tf(c,n,s,l)}checkEmpty(e){let n=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return su(e).Y({index:"userMutationsIndex",range:s},(l,c,f)=>{n=!1,f.done()}).next(()=>n)}addMutationBatch(e,n,s,l){const c=Hc(e),f=su(e);return f.add({}).next(D=>{on("number"==typeof D);const M=new Hp(D,n,s,l),j=function(Xe,Mt,$t){const Ut=$t.baseMutations.map(qn=>qu(Xe.ct,qn)),yn=$t.mutations.map(qn=>qu(Xe.ct,qn));return{userId:Mt,batchId:$t.batchId,localWriteTimeMs:$t.localWriteTime.toMillis(),baseMutations:Ut,mutations:yn}}(this.serializer,this.userId,M),ee=[];let pe=new ei((Ne,Xe)=>xn(Ne.canonicalString(),Xe.canonicalString()));for(const Ne of l){const Xe=Id(this.userId,Ne.key.path,D);pe=pe.add(Ne.key.path.popLast()),ee.push(f.put(j)),ee.push(c.put(Xe,Ed))}return pe.forEach(Ne=>{ee.push(this.indexManager.addToCollectionParentIndex(e,Ne))}),e.addOnCommittedListener(()=>{this.Cn[D]=M.keys()}),Y.waitFor(ee).next(()=>M)})}lookupMutationBatch(e,n){return su(e).get(n).next(s=>s?(on(s.userId===this.userId),Dl(this.serializer,s)):null)}vn(e,n){return this.Cn[n]?Y.resolve(this.Cn[n]):this.lookupMutationBatch(e,n).next(s=>{if(s){const l=s.keys();return this.Cn[n]=l,l}return null})}getNextMutationBatchAfterBatchId(e,n){const s=n+1,l=IDBKeyRange.lowerBound([this.userId,s]);let c=null;return su(e).Y({index:"userMutationsIndex",range:l},(f,D,M)=>{D.userId===this.userId&&(on(D.batchId>=s),c=Dl(this.serializer,D)),M.done()}).next(()=>c)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return su(e).Y({index:"userMutationsIndex",range:n,reverse:!0},(l,c,f)=>{s=c.batchId,f.done()}).next(()=>s)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return su(e).W("userMutationsIndex",n).next(s=>s.map(l=>Dl(this.serializer,l)))}getAllMutationBatchesAffectingDocumentKey(e,n){const s=fl(this.userId,n.path),l=IDBKeyRange.lowerBound(s),c=[];return Hc(e).Y({range:l},(f,D,M)=>{const[j,ee,pe]=f,Ne=Zs(ee);if(j===this.userId&&n.path.isEqual(Ne))return su(e).get(pe).next(Xe=>{if(!Xe)throw Wt();on(Xe.userId===this.userId),c.push(Dl(this.serializer,Xe))});M.done()}).next(()=>c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new ei(xn);const l=[];return n.forEach(c=>{const f=fl(this.userId,c.path),D=IDBKeyRange.lowerBound(f),M=Hc(e).Y({range:D},(j,ee,pe)=>{const[Ne,Xe,Mt]=j,$t=Zs(Xe);Ne===this.userId&&c.path.isEqual($t)?s=s.add(Mt):pe.done()});l.push(M)}),Y.waitFor(l).next(()=>this.Fn(e,s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,l=s.length+1,c=fl(this.userId,s),f=IDBKeyRange.lowerBound(c);let D=new ei(xn);return Hc(e).Y({range:f},(M,j,ee)=>{const[pe,Ne,Xe]=M,Mt=Zs(Ne);pe===this.userId&&s.isPrefixOf(Mt)?Mt.length===l&&(D=D.add(Xe)):ee.done()}).next(()=>this.Fn(e,D))}Fn(e,n){const s=[],l=[];return n.forEach(c=>{l.push(su(e).get(c).next(f=>{if(null===f)throw Wt();on(f.userId===this.userId),s.push(Dl(this.serializer,f))}))}),Y.waitFor(l).next(()=>s)}removeMutationBatch(e,n){return M_(e.ae,this.userId,n).next(s=>(e.addOnCommittedListener(()=>{this.Mn(n.batchId)}),Y.forEach(s,l=>this.referenceDelegate.markPotentiallyOrphaned(e,l))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return Y.resolve();const s=IDBKeyRange.lowerBound([this.userId]),l=[];return Hc(e).Y({range:s},(c,f,D)=>{if(c[0]===this.userId){const M=Zs(c[1]);l.push(M)}else D.done()}).next(()=>{on(0===l.length)})})}containsKey(e,n){return Ju(e,this.userId,n)}xn(e){return nf(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Ju(i,e,n){const s=fl(e,n.path),l=s[1],c=IDBKeyRange.lowerBound(s);let f=!1;return Hc(i).Y({range:c,J:!0},(D,M,j)=>{const[ee,pe,Ne]=D;ee===e&&pe===l&&(f=!0),j.done()}).next(()=>f)}function su(i){return Gr(i,"mutations")}function Hc(i){return Gr(i,"documentMutations")}function nf(i){return Gr(i,"mutationQueues")}class ou{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new ou(0)}static Bn(){return new ou(-1)}}class Mv{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Ln(e).next(n=>{const s=new ou(n.highestTargetId);return n.highestTargetId=s.next(),this.kn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Ln(e).next(n=>an.fromTimestamp(new Jr(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Ln(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,s){return this.Ln(e).next(l=>(l.highestListenSequenceNumber=n,s&&(l.lastRemoteSnapshotVersion=s.toTimestamp()),n>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=n),this.kn(e,l)))}addTargetData(e,n){return this.qn(e,n).next(()=>this.Ln(e).next(s=>(s.targetCount+=1,this.Qn(n,s),this.kn(e,s))))}updateTargetData(e,n){return this.qn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>jc(e).delete(n.targetId)).next(()=>this.Ln(e)).next(s=>(on(s.targetCount>0),s.targetCount-=1,this.kn(e,s)))}removeTargets(e,n,s){let l=0;const c=[];return jc(e).Y((f,D)=>{const M=kc(D);M.sequenceNumber<=n&&null===s.get(M.targetId)&&(l++,c.push(this.removeTargetData(e,M)))}).next(()=>Y.waitFor(c)).next(()=>l)}forEachTarget(e,n){return jc(e).Y((s,l)=>{const c=kc(l);n(c)})}Ln(e){return x_(e).get("targetGlobalKey").next(n=>(on(null!==n),n))}kn(e,n){return x_(e).put("targetGlobalKey",n)}qn(e,n){return jc(e).put(tm(this.serializer,n))}Qn(e,n){let s=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,s=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.Ln(e).next(n=>n.targetCount)}getTargetData(e,n){const s=Il(n),l=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let c=null;return jc(e).Y({range:l,index:"queryTargetsIndex"},(f,D,M)=>{const j=kc(D);Jl(n,j.target)&&(c=j,M.done())}).next(()=>c)}addMatchingKeys(e,n,s){const l=[],c=au(e);return n.forEach(f=>{const D=ks(f.path);l.push(c.put({targetId:s,path:D})),l.push(this.referenceDelegate.addReference(e,s,f))}),Y.waitFor(l)}removeMatchingKeys(e,n,s){const l=au(e);return Y.forEach(n,c=>{const f=ks(c.path);return Y.waitFor([l.delete([s,f]),this.referenceDelegate.removeReference(e,s,c)])})}removeMatchingKeysForTargetId(e,n){const s=au(e),l=IDBKeyRange.bound([n],[n+1],!1,!0);return s.delete(l)}getMatchingKeysForTargetId(e,n){const s=IDBKeyRange.bound([n],[n+1],!1,!0),l=au(e);let c=hr();return l.Y({range:s,J:!0},(f,D,M)=>{const j=Zs(f[1]),ee=new Bt(j);c=c.add(ee)}).next(()=>c)}containsKey(e,n){const s=ks(n.path),l=IDBKeyRange.bound([s],[ja(s)],!1,!0);let c=0;return au(e).Y({index:"documentTargetsIndex",J:!0,range:l},([f,D],M,j)=>{0!==f&&(c++,j.done())}).next(()=>c>0)}_t(e,n){return jc(e).get(n).next(s=>s?kc(s):null)}}function jc(i){return Gr(i,"targets")}function x_(i){return Gr(i,"targetGlobal")}function au(i){return Gr(i,"targetDocuments")}function lm([i,e],[n,s]){const l=xn(i,n);return 0===l?xn(e,s):l}class LE{constructor(e){this.Kn=e,this.buffer=new ei(lm),this.$n=0}Un(){return++this.$n}Wn(e){const n=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();lm(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class xv{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(e){var n=this;mt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,he.Z)(function*(){n.Gn=null;try{yield n.localStore.collectGarbage(n.garbageCollector)}catch(s){Un(s)?mt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield B(s)}yield n.zn(3e5)}))}}class Gd{constructor(e,n){this.jn=e,this.params=n}calculateTargetCount(e,n){return this.jn.Hn(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(0===n)return Y.resolve(Ls._e);const s=new LE(n);return this.jn.forEachTarget(e,l=>s.Wn(l.sequenceNumber)).next(()=>this.jn.Jn(e,l=>s.Wn(l))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.jn.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.jn.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?(mt("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(am)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(mt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),am):this.Yn(e,n))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,n){let s,l,c,f,D,M,j;const ee=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(pe=>(pe>this.params.maximumSequenceNumbersToCollect?(mt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${pe}`),l=this.params.maximumSequenceNumbersToCollect):l=pe,f=Date.now(),this.nthSequenceNumber(e,l))).next(pe=>(s=pe,D=Date.now(),this.removeTargets(e,s,n))).next(pe=>(c=pe,M=Date.now(),this.removeOrphanedDocuments(e,s))).next(pe=>(j=Date.now(),fi()<=Te.in.DEBUG&&mt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${f-ee}ms\n\tDetermined least recently used ${l} in `+(D-f)+`ms\n\tRemoved ${c} targets in `+(M-D)+`ms\n\tRemoved ${pe} documents in `+(j-M)+`ms\nTotal Duration: ${j-ee}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:pe})))}}class O_{constructor(e,n){this.db=e,this.garbageCollector=function $c(i,e){return new Gd(i,e)}(this,n)}Hn(e){const n=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(s=>n.next(l=>s+l))}Zn(e){let n=0;return this.Jn(e,s=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Jn(e,n){return this.Xn(e,(s,l)=>n(l))}addReference(e,n,s){return Wd(e,s)}removeReference(e,n,s){return Wd(e,s)}removeTargets(e,n,s){return this.db.getTargetCache().removeTargets(e,n,s)}markPotentiallyOrphaned(e,n){return Wd(e,n)}er(e,n){return function(l,c){let f=!1;return nf(l).Z(D=>Ju(l,D,c).next(M=>(M&&(f=!0),Y.resolve(!M)))).next(()=>f)}(e,n)}removeOrphanedDocuments(e,n){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),l=[];let c=0;return this.Xn(e,(f,D)=>{if(D<=n){const M=this.er(e,f).next(j=>{if(!j)return c++,s.getEntry(e,f).next(()=>(s.removeEntry(f,an.min()),au(e).delete([0,ks(f.path)])))});l.push(M)}}).next(()=>Y.waitFor(l)).next(()=>s.apply(e)).next(()=>c)}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,n){return Wd(e,n)}Xn(e,n){const s=au(e);let l,c=Ls._e;return s.Y({index:"documentTargetsIndex"},([f,D],{path:M,sequenceNumber:j})=>{0===f?(c!==Ls._e&&n(new Bt(Zs(l)),c),c=j,l=M):c=Ls._e}).next(()=>{c!==Ls._e&&n(new Bt(Zs(l)),c)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Wd(i,e){return au(i).put((l=i.currentSequenceNumber,{targetId:0,path:ks(e.path),sequenceNumber:l}));var l}class rf{constructor(){this.changes=new fa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,pi.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return void 0!==s?Y.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class um{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,s){return tl(e).put(s)}removeEntry(e,n,s){return tl(e).delete(function(c,f){const D=c.path.toArray();return[D.slice(0,D.length-2),D[D.length-2],Zh(f),D[D.length-1]]}(n,s))}updateMetadata(e,n){return this.getMetadata(e).next(s=>(s.byteSize+=n,this.tr(e,s)))}getEntry(e,n){let s=pi.newInvalidDocument(n);return tl(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(sf(n))},(l,c)=>{s=this.nr(n,c)}).next(()=>s)}rr(e,n){let s={size:0,document:pi.newInvalidDocument(n)};return tl(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(sf(n))},(l,c)=>{s={document:this.nr(n,c),size:Bc(c)}}).next(()=>s)}getEntries(e,n){let s=Xs();return this.ir(e,n,(l,c)=>{const f=this.nr(l,c);s=s.insert(l,f)}).next(()=>s)}sr(e,n){let s=Xs(),l=new Xr(Bt.comparator);return this.ir(e,n,(c,f)=>{const D=this.nr(c,f);s=s.insert(c,D),l=l.insert(c,Bc(f))}).next(()=>({documents:s,_r:l}))}ir(e,n,s){if(n.isEmpty())return Y.resolve();let l=new ei(k_);n.forEach(M=>l=l.add(M));const c=IDBKeyRange.bound(sf(l.first()),sf(l.last())),f=l.getIterator();let D=f.getNext();return tl(e).Y({index:"documentKeyIndex",range:c},(M,j,ee)=>{const pe=Bt.fromSegments([...j.prefixPath,j.collectionGroup,j.documentId]);for(;D&&k_(D,pe)<0;)s(D,null),D=f.getNext();D&&D.isEqual(pe)&&(s(D,j),D=f.hasNext()?f.getNext():null),D?ee.U(sf(D)):ee.done()}).next(()=>{for(;D;)s(D,null),D=f.hasNext()?f.getNext():null})}getDocumentsMatchingQuery(e,n,s,l,c){const f=n.path,D=[f.popLast().toArray(),f.lastSegment(),Zh(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],M=[f.popLast().toArray(),f.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return tl(e).W(IDBKeyRange.bound(D,M,!0)).next(j=>{c?.incrementDocumentReadCount(j.length);let ee=Xs();for(const pe of j){const Ne=this.nr(Bt.fromSegments(pe.prefixPath.concat(pe.collectionGroup,pe.documentId)),pe);Ne.isFoundDocument()&&(hs(n,Ne)||l.has(Ne.key))&&(ee=ee.insert(Ne.key,Ne))}return ee})}getAllFromCollectionGroup(e,n,s,l){let c=Xs();const f=af(n,s),D=af(n,T.max());return tl(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(f,D,!0)},(M,j,ee)=>{const pe=this.nr(Bt.fromSegments(j.prefixPath.concat(j.collectionGroup,j.documentId)),j);c=c.insert(pe.key,pe),c.size===l&&ee.done()}).next(()=>c)}newChangeBuffer(e){return new L_(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return cm(e).get("remoteDocumentGlobalKey").next(n=>(on(!!n),n))}tr(e,n){return cm(e).put("remoteDocumentGlobalKey",n)}nr(e,n){if(n){const s=function Av(i,e){let n;if(e.document)n=Hd(i.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=Bt.fromSegments(e.noDocument.path),l=el(e.noDocument.readTime);n=pi.newNoDocument(s,l),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Wt();{const s=Bt.fromSegments(e.unknownDocument.path),l=el(e.unknownDocument.version);n=pi.newUnknownDocument(s,l)}}return e.readTime&&n.setReadTime(function(l){const c=new Jr(l[0],l[1]);return an.fromTimestamp(c)}(e.readTime)),n}(this.serializer,n);if(!s.isNoDocument()||!s.version.isEqual(an.min()))return s}return pi.newInvalidDocument(e)}}function N_(i){return new um(i)}class L_ extends rf{constructor(e,n){super(),this.ar=e,this.trackRemovals=n,this.ur=new fa(s=>s.toString(),(s,l)=>s.isEqual(l))}applyChanges(e){const n=[];let s=0,l=new ei((c,f)=>xn(c.canonicalString(),f.canonicalString()));return this.changes.forEach((c,f)=>{const D=this.ur.get(c);if(n.push(this.ar.removeEntry(e,c,D.readTime)),f.isValidDocument()){const M=Kh(this.ar.serializer,f);l=l.add(c.path.popLast());const j=Bc(M);s+=j-D.size,n.push(this.ar.addEntry(e,c,M))}else if(s-=D.size,this.trackRemovals){const M=Kh(this.ar.serializer,f.convertToNoDocument(an.min()));n.push(this.ar.addEntry(e,c,M))}}),l.forEach(c=>{n.push(this.ar.indexManager.addToCollectionParentIndex(e,c))}),n.push(this.ar.updateMetadata(e,s)),Y.waitFor(n)}getFromCache(e,n){return this.ar.rr(e,n).next(s=>(this.ur.set(n,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,n){return this.ar.sr(e,n).next(({documents:s,_r:l})=>(l.forEach((c,f)=>{this.ur.set(c,{size:f,readTime:s.get(c).readTime})}),s))}}function cm(i){return Gr(i,"remoteDocumentGlobal")}function tl(i){return Gr(i,"remoteDocumentsV14")}function sf(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function af(i,e){const n=e.documentKey.path.toArray();return[i,Zh(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function k_(i,e){const n=i.path.toArray(),s=e.path.toArray();let l=0;for(let c=0;c<n.length-2&&c<s.length-2;++c)if(l=xn(n[c],s[c]),l)return l;return l=xn(n.length,s.length),l||(l=xn(n[n.length-2],s[s.length-2]),l||xn(n[n.length-1],s[s.length-1]))}class dm{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class hm{constructor(e,n,s,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=l}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(l=>(s=l,this.remoteDocumentCache.getEntry(e,n))).next(l=>(null!==s&&Pc(s.mutation,l,Qs.empty(),Jr.now()),l))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,hr()).next(()=>s))}getLocalViewOfDocuments(e,n,s=hr()){const l=fo();return this.populateOverlays(e,l,n).next(()=>this.computeViews(e,n,l,s).next(c=>{let f=ju();return c.forEach((D,M)=>{f=f.insert(D,M.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=fo();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,hr()))}populateOverlays(e,n,s){const l=[];return s.forEach(c=>{n.has(c)||l.push(c)}),this.documentOverlayCache.getOverlays(e,l).next(c=>{c.forEach((f,D)=>{n.set(f,D)})})}computeViews(e,n,s,l){let c=Xs();const f=bc(),D=bc();return n.forEach((M,j)=>{const ee=s.get(j.key);l.has(j.key)&&(void 0===ee||ee.mutation instanceof Ja)?c=c.insert(j.key,j):void 0!==ee?(f.set(j.key,ee.mutation.getFieldMask()),Pc(ee.mutation,j,ee.mutation.getFieldMask(),Jr.now())):f.set(j.key,Qs.empty())}),this.recalculateAndSaveOverlays(e,c).next(M=>(M.forEach((j,ee)=>f.set(j,ee)),n.forEach((j,ee)=>{var pe;return D.set(j,new dm(ee,null!==(pe=f.get(j))&&void 0!==pe?pe:null))}),D))}recalculateAndSaveOverlays(e,n){const s=bc();let l=new Xr((f,D)=>f-D),c=hr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const D of f)D.keys().forEach(M=>{const j=n.get(M);if(null===j)return;let ee=s.get(M)||Qs.empty();ee=D.applyToLocalView(j,ee),s.set(M,ee);const pe=(l.get(D.batchId)||hr()).add(M);l=l.insert(D.batchId,pe)})}).next(()=>{const f=[],D=l.getReverseIterator();for(;D.hasNext();){const M=D.getNext(),j=M.key,ee=M.value,pe=Oh();ee.forEach(Ne=>{if(!c.has(Ne)){const Xe=Ao(n.get(Ne),s.get(Ne));null!==Xe&&pe.set(Ne,Xe),c=c.add(Ne)}}),f.push(this.documentOverlayCache.saveOverlays(e,j,pe))}return Y.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,l){return Bt.isDocumentKey((f=n).path)&&null===f.collectionGroup&&0===f.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):C(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,l):this.getDocumentsMatchingCollectionQuery(e,n,s,l);var f}getNextDocuments(e,n,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,l).next(c=>{const f=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,l-c.size):Y.resolve(fo());let D=-1,M=c;return f.next(j=>Y.forEach(j,(ee,pe)=>(D<pe.largestBatchId&&(D=pe.largestBatchId),c.get(ee)?Y.resolve():this.remoteDocumentCache.getEntry(e,ee).next(Ne=>{M=M.insert(ee,Ne)}))).next(()=>this.populateOverlays(e,j,c)).next(()=>this.computeViews(e,M,j,hr())).next(ee=>({batchId:D,changes:xh(ee)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Bt(n)).next(s=>{let l=ju();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}getDocumentsMatchingCollectionGroupQuery(e,n,s,l){const c=n.collectionGroup;let f=ju();return this.indexManager.getCollectionParents(e,c).next(D=>Y.forEach(D,M=>{const j=(pe=n,Ne=M.child(c),new Za(Ne,null,pe.explicitOrderBy.slice(),pe.filters.slice(),pe.limit,pe.limitType,pe.startAt,pe.endAt));var pe,Ne;return this.getDocumentsMatchingCollectionQuery(e,j,s,l).next(ee=>{ee.forEach((pe,Ne)=>{f=f.insert(pe,Ne)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,c,l))).next(f=>{c.forEach((M,j)=>{const ee=j.getKey();null===f.get(ee)&&(f=f.insert(ee,pi.newInvalidDocument(ee)))});let D=ju();return f.forEach((M,j)=>{const ee=c.get(M);void 0!==ee&&Pc(ee.mutation,j,Qs.empty(),Jr.now()),hs(n,j)&&(D=D.insert(M,j))}),D})}}class F_{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return Y.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,{id:(l=n).id,version:l.version,createTime:is(l.createTime)}),Y.resolve();var l}getNamedQuery(e,n){return Y.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,{name:(l=n).name,query:Qh(l.bundledQuery),readTime:is(l.readTime)}),Y.resolve();var l}}class Xu{constructor(){this.overlays=new Xr(Bt.comparator),this.hr=new Map}getOverlay(e,n){return Y.resolve(this.overlays.get(n))}getOverlays(e,n){const s=fo();return Y.forEach(n,l=>this.getOverlay(e,l).next(c=>{null!==c&&s.set(l,c)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((l,c)=>{this.ht(e,n,c)}),Y.resolve()}removeOverlaysForBatchId(e,n,s){const l=this.hr.get(s);return void 0!==l&&(l.forEach(c=>this.overlays=this.overlays.remove(c)),this.hr.delete(s)),Y.resolve()}getOverlaysForCollection(e,n,s){const l=fo(),c=n.length+1,f=new Bt(n.child("")),D=this.overlays.getIteratorFrom(f);for(;D.hasNext();){const M=D.getNext().value,j=M.getKey();if(!n.isPrefixOf(j.path))break;j.path.length===c&&M.largestBatchId>s&&l.set(M.getKey(),M)}return Y.resolve(l)}getOverlaysForCollectionGroup(e,n,s,l){let c=new Xr((j,ee)=>j-ee);const f=this.overlays.getIterator();for(;f.hasNext();){const j=f.getNext().value;if(j.getKey().getCollectionGroup()===n&&j.largestBatchId>s){let ee=c.get(j.largestBatchId);null===ee&&(ee=fo(),c=c.insert(j.largestBatchId,ee)),ee.set(j.getKey(),j)}}const D=fo(),M=c.getIterator();for(;M.hasNext()&&(M.getNext().value.forEach((j,ee)=>D.set(j,ee)),!(D.size()>=l)););return Y.resolve(D)}ht(e,n,s){const l=this.overlays.get(s.key);if(null!==l){const f=this.hr.get(l.largestBatchId).delete(s.key);this.hr.set(l.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new jp(n,s));let c=this.hr.get(n);void 0===c&&(c=hr(),this.hr.set(n,c)),this.hr.set(n,c.add(s.key))}}class fm{constructor(){this.Pr=new ei(fs.Ir),this.Tr=new ei(fs.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const s=new fs(e,n);this.Pr=this.Pr.add(s),this.Tr=this.Tr.add(s)}dr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Ar(new fs(e,n))}Rr(e,n){e.forEach(s=>this.removeReference(s,n))}Vr(e){const n=new Bt(new Yn([])),s=new fs(n,e),l=new fs(n,e+1),c=[];return this.Tr.forEachInRange([s,l],f=>{this.Ar(f),c.push(f.key)}),c}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new Bt(new Yn([])),s=new fs(n,e),l=new fs(n,e+1);let c=hr();return this.Tr.forEachInRange([s,l],f=>{c=c.add(f.key)}),c}containsKey(e){const n=new fs(e,0),s=this.Pr.firstAfterOrEqual(n);return null!==s&&e.isEqual(s.key)}}class fs{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return Bt.comparator(e.key,n.key)||xn(e.pr,n.pr)}static Er(e,n){return xn(e.pr,n.pr)||Bt.comparator(e.key,n.key)}}class lf{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new ei(fs.Ir)}checkEmpty(e){return Y.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,s,l){const c=this.yr;this.yr++;const f=new Hp(c,n,s,l);this.mutationQueue.push(f);for(const D of l)this.wr=this.wr.add(new fs(D.key,c)),this.indexManager.addToCollectionParentIndex(e,D.key.path.popLast());return Y.resolve(f)}lookupMutationBatch(e,n){return Y.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const l=this.br(n+1),c=l<0?0:l;return Y.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new fs(n,0),l=new fs(n,Number.POSITIVE_INFINITY),c=[];return this.wr.forEachInRange([s,l],f=>{const D=this.Sr(f.pr);c.push(D)}),Y.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new ei(xn);return n.forEach(l=>{const c=new fs(l,0),f=new fs(l,Number.POSITIVE_INFINITY);this.wr.forEachInRange([c,f],D=>{s=s.add(D.pr)})}),Y.resolve(this.Dr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,l=s.length+1;let c=s;Bt.isDocumentKey(c)||(c=c.child(""));const f=new fs(new Bt(c),0);let D=new ei(xn);return this.wr.forEachWhile(M=>{const j=M.key.path;return!!s.isPrefixOf(j)&&(j.length===l&&(D=D.add(M.pr)),!0)},f),Y.resolve(this.Dr(D))}Dr(e){const n=[];return e.forEach(s=>{const l=this.Sr(s);null!==l&&n.push(l)}),n}removeMutationBatch(e,n){on(0===this.Cr(n.batchId,"removed")),this.mutationQueue.shift();let s=this.wr;return Y.forEach(n.mutations,l=>{const c=new fs(l.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.wr=s})}Mn(e){}containsKey(e,n){const s=new fs(n,0),l=this.wr.firstAfterOrEqual(s);return Y.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return Y.resolve()}Cr(e,n){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Ov{constructor(e){this.vr=e,this.docs=new Xr(Bt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,l=this.docs.get(s),c=l?l.size:0,f=this.vr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return Y.resolve(s?s.document.mutableCopy():pi.newInvalidDocument(n))}getEntries(e,n){let s=Xs();return n.forEach(l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():pi.newInvalidDocument(l))}),Y.resolve(s)}getDocumentsMatchingQuery(e,n,s,l){let c=Xs();const f=n.path,D=new Bt(f.child("")),M=this.docs.getIteratorFrom(D);for(;M.hasNext();){const{key:j,value:{document:ee}}=M.getNext();if(!f.isPrefixOf(j.path))break;j.path.length>f.length+1||A(Pu(ee),s)<=0||(l.has(ee.key)||hs(n,ee))&&(c=c.insert(ee.key,ee.mutableCopy()))}return Y.resolve(c)}getAllFromCollectionGroup(e,n,s,l){Wt()}Fr(e,n){return Y.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new pm(this)}getSize(e){return Y.resolve(this.size)}}class pm extends rf{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((s,l)=>{l.isValidDocument()?n.push(this.ar.addEntry(e,l)):this.ar.removeEntry(s)}),Y.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}class uf{constructor(e){this.persistence=e,this.Mr=new fa(n=>Il(n),Jl),this.lastRemoteSnapshotVersion=an.min(),this.highestTargetId=0,this.Or=0,this.Nr=new fm,this.targetCount=0,this.Br=ou.Nn()}forEachTarget(e,n){return this.Mr.forEach((s,l)=>n(l)),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.Or&&(this.Or=n),Y.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new ou(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,Y.resolve()}updateTargetData(e,n){return this.qn(n),Y.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,n,s){let l=0;const c=[];return this.Mr.forEach((f,D)=>{D.sequenceNumber<=n&&null===s.get(D.targetId)&&(this.Mr.delete(f),c.push(this.removeMatchingKeysForTargetId(e,D.targetId)),l++)}),Y.waitFor(c).next(()=>l)}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,n){const s=this.Mr.get(n)||null;return Y.resolve(s)}addMatchingKeys(e,n,s){return this.Nr.dr(n,s),Y.resolve()}removeMatchingKeys(e,n,s){this.Nr.Rr(n,s);const l=this.persistence.referenceDelegate,c=[];return l&&n.forEach(f=>{c.push(l.markPotentiallyOrphaned(e,f))}),Y.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),Y.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Nr.gr(n);return Y.resolve(s)}containsKey(e,n){return Y.resolve(this.Nr.containsKey(n))}}class ma{constructor(e,n){this.Lr={},this.overlays={},this.kr=new Ls(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new uf(this),this.indexManager=new im,this.remoteDocumentCache=new Ov(s=>this.referenceDelegate.Kr(s)),this.serializer=new Dv(n),this.$r=new F_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Xu,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Lr[e.toKey()];return s||(s=new lf(n,this.referenceDelegate),this.Lr[e.toKey()]=s),s}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,s){mt("MemoryPersistence","Starting transaction:",e);const l=new zc(this.kr.next());return this.referenceDelegate.Ur(),s(l).next(c=>this.referenceDelegate.Wr(l).next(()=>c)).toPromise().then(c=>(l.raiseOnCommittedEvent(),c))}Gr(e,n){return Y.or(Object.values(this.Lr).map(s=>()=>s.containsKey(e,n)))}}class zc extends R{constructor(e){super(),this.currentSequenceNumber=e}}class Gc{constructor(e){this.persistence=e,this.zr=new fm,this.jr=null}static Hr(e){return new Gc(e)}get Jr(){if(this.jr)return this.jr;throw Wt()}addReference(e,n,s){return this.zr.addReference(s,n),this.Jr.delete(s.toString()),Y.resolve()}removeReference(e,n,s){return this.zr.removeReference(s,n),this.Jr.add(s.toString()),Y.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),Y.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(l=>this.Jr.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(l=>{l.forEach(c=>this.Jr.add(c.toString()))}).next(()=>s.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.Jr,s=>{const l=Bt.fromPath(s);return this.Yr(e,l).next(c=>{c||n.removeEntry(l,an.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(s=>{s?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return Y.or([()=>Y.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}class Nv{constructor(e){this.serializer=e}N(e,n,s,l){const c=new nt("createOrUpgrade",n);var M;s<1&&l>=1&&(e.createObjectStore("owner"),(M=e).createObjectStore("mutationQueues",{keyPath:"userId"}),M.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",hl,{unique:!0}),M.createObjectStore("documentMutations"),mm(e),function(M){M.createObjectStore("remoteDocuments")}(e));let f=Y.resolve();return s<3&&l>=3&&(0!==s&&(function(M){M.deleteObjectStore("targetDocuments"),M.deleteObjectStore("targets"),M.deleteObjectStore("targetGlobal")}(e),mm(e)),f=f.next(()=>function(M){const j=M.store("targetGlobal"),ee={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:an.min().toTimestamp(),targetCount:0};return j.put("targetGlobalKey",ee)}(c))),s<4&&l>=4&&(0!==s&&(f=f.next(()=>function(M,j){return j.store("mutations").W().next(ee=>{M.deleteObjectStore("mutations"),M.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",hl,{unique:!0});const pe=j.store("mutations"),Ne=ee.map(Xe=>pe.put(Xe));return Y.waitFor(Ne)})}(e,c))),f=f.next(()=>{!function(M){M.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&l>=5&&(f=f.next(()=>this.Xr(c))),s<6&&l>=6&&(f=f.next(()=>(function(M){M.createObjectStore("remoteDocumentGlobal")}(e),this.ei(c)))),s<7&&l>=7&&(f=f.next(()=>this.ti(c))),s<8&&l>=8&&(f=f.next(()=>this.ni(e,c))),s<9&&l>=9&&(f=f.next(()=>{!function(M){M.objectStoreNames.contains("remoteDocumentChanges")&&M.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&l>=10&&(f=f.next(()=>this.ri(c))),s<11&&l>=11&&(f=f.next(()=>{(function(M){M.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(M){M.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&l>=12&&(f=f.next(()=>{!function(M){const j=M.createObjectStore("documentOverlays",{keyPath:Ou});j.createIndex("collectionPathOverlayIndex",bd,{unique:!1}),j.createIndex("collectionGroupOverlayIndex",Nu,{unique:!1})}(e)})),s<13&&l>=13&&(f=f.next(()=>function(M){const j=M.createObjectStore("remoteDocumentsV14",{keyPath:$l});j.createIndex("documentKeyIndex",Yo),j.createIndex("collectionGroupIndex",Td)}(e)).next(()=>this.ii(e,c)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&l>=14&&(f=f.next(()=>this.si(e,c))),s<15&&l>=15&&(f=f.next(()=>function(M){M.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),M.createObjectStore("indexState",{keyPath:wh}).createIndex("sequenceNumberIndex",i_,{unique:!1}),M.createObjectStore("indexEntries",{keyPath:s_}).createIndex("documentKeyIndex",xu,{unique:!1})}(e))),f}ei(e){let n=0;return e.store("remoteDocuments").Y((s,l)=>{n+=Bc(l)}).next(()=>{const s={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}Xr(e){const n=e.store("mutationQueues"),s=e.store("mutations");return n.W().next(l=>Y.forEach(l,c=>{const f=IDBKeyRange.bound([c.userId,-1],[c.userId,c.lastAcknowledgedBatchId]);return s.W("userMutationsIndex",f).next(D=>Y.forEach(D,M=>{on(M.userId===c.userId);const j=Dl(this.serializer,M);return M_(e,c.userId,j).next(()=>{})}))}))}ti(e){const n=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(l=>{const c=[];return s.Y((f,D)=>{const M=new Yn(f),j=[0,ks(M)];c.push(n.get(j).next(ee=>ee?Y.resolve():n.put({targetId:0,path:ks(M),sequenceNumber:l.highestListenSequenceNumber})))}).next(()=>Y.waitFor(c))})}ni(e,n){e.createObjectStore("collectionParents",{keyPath:Cd});const s=n.store("collectionParents"),l=new $d,c=f=>{if(l.add(f)){const D=f.lastSegment(),M=f.popLast();return s.put({collectionId:D,parent:ks(M)})}};return n.store("remoteDocuments").Y({J:!0},(f,D)=>{const M=new Yn(f);return c(M.popLast())}).next(()=>n.store("documentMutations").Y({J:!0},([f,D,M],j)=>{const ee=Zs(D);return c(ee.popLast())}))}ri(e){const n=e.store("targets");return n.Y((s,l)=>{const c=kc(l),f=tm(this.serializer,c);return n.put(f)})}ii(e,n){const s=n.store("remoteDocuments"),l=[];return s.Y((c,f)=>{const D=n.store("remoteDocumentsV14"),M=(pe=f,pe.document?new Bt(Yn.fromString(pe.document.name).popFirst(5)):pe.noDocument?Bt.fromSegments(pe.noDocument.path):pe.unknownDocument?Bt.fromSegments(pe.unknownDocument.path):Wt()).path.toArray(),j={prefixPath:M.slice(0,M.length-2),collectionGroup:M[M.length-2],documentId:M[M.length-1],readTime:f.readTime||[0,0],unknownDocument:f.unknownDocument,noDocument:f.noDocument,document:f.document,hasCommittedMutations:!!f.hasCommittedMutations};var pe;l.push(D.put(j))}).next(()=>Y.waitFor(l))}si(e,n){const s=n.store("mutations"),l=N_(this.serializer),c=new ma(Gc.Hr,this.serializer.ct);return s.W().next(f=>{const D=new Map;return f.forEach(M=>{var j;let ee=null!==(j=D.get(M.userId))&&void 0!==j?j:hr();Dl(this.serializer,M).keys().forEach(pe=>ee=ee.add(pe)),D.set(M.userId,ee)}),Y.forEach(D,(M,j)=>{const ee=new Gn(j),pe=La.lt(this.serializer,ee),Ne=c.getIndexManager(ee),Xe=tf.lt(ee,this.serializer,Ne,c.referenceDelegate);return new hm(l,Xe,pe,Ne).recalculateAndSaveOverlaysForDocumentKeys(new Dd(n,Ls._e),M).next()})})}}function mm(i){i.createObjectStore("targetDocuments",{keyPath:wd}).createIndex("documentTargetsIndex",r_,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",n_,{unique:!0}),i.createObjectStore("targetGlobal")}const lu="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class gm{constructor(e,n,s,l,c,f,D,M,j,ee,pe=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=s,this.oi=c,this.window=f,this.document=D,this._i=j,this.ai=ee,this.ui=pe,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=Ne=>Promise.resolve(),!gm.D())throw new yt(ot.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new O_(this,l),this.Ti=n+"main",this.serializer=new Dv(M),this.Ei=new Qe(this.Ti,this.ui,new Nv(this.serializer)),this.Qr=new Mv(this.referenceDelegate,this.serializer),this.remoteDocumentCache=N_(this.serializer),this.$r=new Sv,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===ee&&Lr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new yt(ot.FAILED_PRECONDITION,lu);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new Ls(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){var n=this;return this.Ii=function(){var s=(0,he.Z)(function*(l){if(n.started)return e(l)});return function(l){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L(function(){var n=(0,he.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return n.apply(this,arguments)}}())}setNetworkEnabled(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget((0,he.Z)(function*(){n.started&&(yield n.Ai())})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>df(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(n=>{n||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(n=>this.isPrimary&&!n?this.yi(e).next(()=>!1):!!n&&this.wi(e).next(()=>!0))).catch(e=>{if(Un(e))return mt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return mt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return qd(e).get("owner").next(n=>Y.resolve(this.Si(n)))}bi(e){return df(e).delete(this.clientId)}Di(){var e=this;return(0,he.Z)(function*(){if(e.isPrimary&&!e.Ci(e.Pi,18e5)){e.Pi=Date.now();const n=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const l=Gr(s,"clientMetadata");return l.W().next(c=>{const f=e.vi(c,18e5),D=c.filter(M=>-1===f.indexOf(M));return Y.forEach(D,M=>l.delete(M.clientId)).next(()=>D)})}).catch(()=>[]);if(e.di)for(const s of n)e.di.removeItem(e.Fi(s.clientId))}})()}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?Y.resolve(!0):qd(e).get("owner").next(n=>{if(null!==n&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)){if(this.Si(n)&&this.networkEnabled)return!0;if(!this.Si(n)){if(!n.allowTabSynchronization)throw new yt(ot.FAILED_PRECONDITION,lu);return!1}}return!(!this.networkEnabled||!this.inForeground)||df(e).W().next(s=>void 0===this.vi(s,5e3).find(l=>!(this.clientId===l.clientId||!(!this.networkEnabled&&l.networkEnabled||!this.inForeground&&l.inForeground&&this.networkEnabled===l.networkEnabled))))}).next(n=>(this.isPrimary!==n&&mt("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var e=this;return(0,he.Z)(function*(){e.qr=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Oi(),e.Ni(),yield e.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],n=>{const s=new Dd(n,Ls._e);return e.yi(s).next(()=>e.bi(s))}),e.Ei.close(),e.Bi()})()}vi(e,n){return e.filter(s=>this.Ci(s.updateTimeMs,n)&&!this.Mi(s.clientId))}Li(){return this.runTransaction("getActiveClients","readonly",e=>df(e).W().next(n=>this.vi(n,18e5).map(s=>s.clientId)))}get started(){return this.qr}getMutationQueue(e,n){return tf.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new NE(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return La.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,n,s){mt("IndexedDbPersistence","Starting transaction:",e);const l="readonly"===n?"readonly":"readwrite",c=15===(M=this.ui)?Ch:14===M?pl:13===M?Dp:12===M?Gl:11===M?zl:void Wt();var M;let f;return this.Ei.runTransaction(e,l,c,D=>(f=new Dd(D,this.kr?this.kr.next():Ls._e),"readwrite-primary"===n?this.gi(f).next(M=>!!M||this.pi(f)).next(M=>{if(!M)throw Lr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new yt(ot.FAILED_PRECONDITION,I);return s(f)}).next(M=>this.wi(f).next(()=>M)):this.ki(f).next(()=>s(f)))).then(D=>(f.raiseOnCommittedEvent(),D))}ki(e){return qd(e).get("owner").next(n=>{if(null!==n&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)&&!this.Si(n)&&!(this.ai||this.allowTabSynchronization&&n.allowTabSynchronization))throw new yt(ot.FAILED_PRECONDITION,lu)})}wi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return qd(e).put("owner",n)}static D(){return Qe.D()}yi(e){const n=qd(e);return n.get("owner").next(s=>this.Si(s)?(mt("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Y.resolve())}Ci(e,n){const s=Date.now();return!(e<s-n||e>s&&(Lr(`Detected an update time that is in the future: ${e} > ${s}`),1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const n=/(?:Version|Mobile)\/1[456]/;(0,V.G6)()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var n;try{const s=null!==(null===(n=this.di)||void 0===n?void 0:n.getItem(this.Fi(e)));return mt("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return Lr("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){Lr("Failed to set zombie client id.",e)}}Bi(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function qd(i){return Gr(i,"owner")}function df(i){return Gr(i,"clientMetadata")}function Kd(i,e){let n=i.projectId;return i.isDefaultDatabase||(n+="."+i.database),"firestore/"+e+"/"+n+"/"}class hf{constructor(e,n,s,l){this.targetId=e,this.fromCache=n,this.qi=s,this.Qi=l}static Ki(e,n){let s=hr(),l=hr();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new hf(e,n.fromCache,s,l)}}class Lv{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class _m{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=(0,V.G6)()?8:Qe.v((0,V.z$)())>0?6:4}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,s,l){const c={result:null};return this.ji(e,n).next(f=>{c.result=f}).next(()=>{if(!c.result)return this.Hi(e,n,l,s).next(f=>{c.result=f})}).next(()=>{if(c.result)return;const f=new Lv;return this.Ji(e,n,f).next(D=>{if(c.result=D,this.Ui)return this.Yi(e,n,f,D.size)})}).next(()=>c.result)}Yi(e,n,s,l){return s.documentReadCount<this.Wi?(fi()<=Te.in.DEBUG&&mt("QueryEngine","SDK will not create cache indexes for query:",rr(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),Y.resolve()):(fi()<=Te.in.DEBUG&&mt("QueryEngine","Query:",rr(n),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.Gi*l?(fi()<=Te.in.DEBUG&&mt("QueryEngine","The SDK decides to create cache indexes for query:",rr(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ie(n))):Y.resolve())}ji(e,n){if(m(n))return Y.resolve(null);let s=ie(n);return this.indexManager.getIndexType(e,s).next(l=>0===l?null:(null!==n.limit&&1===l&&(n=It(n,null,"F"),s=ie(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const f=hr(...c);return this.zi.getDocuments(e,f).next(D=>this.indexManager.getMinOffset(e,s).next(M=>{const j=this.Zi(n,D);return this.Xi(n,j,f,M.readTime)?this.ji(e,It(n,null,"F")):this.es(e,j,n,M)}))})))}Hi(e,n,s,l){return m(n)||l.isEqual(an.min())?Y.resolve(null):this.zi.getDocuments(e,s).next(c=>{const f=this.Zi(n,c);return this.Xi(n,f,s,l)?Y.resolve(null):(fi()<=Te.in.DEBUG&&mt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),rr(n)),this.es(e,f,n,_c(l,-1)).next(D=>D))})}Zi(e,n){let s=new ei(Cc(e));return n.forEach((l,c)=>{hs(e,c)&&(s=s.add(c))}),s}Xi(e,n,s,l){if(null===e.limit)return!1;if(s.size!==n.size)return!0;const c="F"===e.limitType?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ji(e,n,s){return fi()<=Te.in.DEBUG&&mt("QueryEngine","Using full collection scan to execute query:",rr(n)),this.zi.getDocumentsMatchingQuery(e,n,T.min(),s)}es(e,n,s,l){return this.zi.getDocumentsMatchingQuery(e,s,l).next(c=>(n.forEach(f=>{c=c.insert(f.key,f)}),c))}}class ym{constructor(e,n,s,l){this.persistence=e,this.ts=n,this.serializer=l,this.ns=new Xr(xn),this.rs=new fa(c=>Il(c),Jl),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(s)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hm(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function kv(i,e,n,s){return new ym(i,e,n,s)}function V_(i,e){return vm.apply(this,arguments)}function vm(){return vm=(0,he.Z)(function*(i,e){const n=jt(i);return yield n.persistence.runTransaction("Handle user change","readonly",s=>{let l;return n.mutationQueue.getAllMutationBatches(s).next(c=>(l=c,n._s(e),n.mutationQueue.getAllMutationBatches(s))).next(c=>{const f=[],D=[];let M=hr();for(const j of l){f.push(j.batchId);for(const ee of j.mutations)M=M.add(ee.key)}for(const j of c){D.push(j.batchId);for(const ee of j.mutations)M=M.add(ee.key)}return n.localDocuments.getDocuments(s,M).next(j=>({us:j,removedBatchIds:f,addedBatchIds:D}))})})}),vm.apply(this,arguments)}function Vv(i){const e=jt(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function Zd(i,e,n){let s=hr(),l=hr();return n.forEach(c=>s=s.add(c)),e.getEntries(i,s).next(c=>{let f=Xs();return n.forEach((D,M)=>{const j=c.get(D);M.isFoundDocument()!==j.isFoundDocument()&&(l=l.add(D)),M.isNoDocument()&&M.version.isEqual(an.min())?(e.removeEntry(D,M.readTime),f=f.insert(D,M)):!j.isValidDocument()||M.version.compareTo(j.version)>0||0===M.version.compareTo(j.version)&&j.hasPendingWrites?(e.addEntry(M),f=f.insert(D,M)):mt("LocalStore","Ignoring outdated watch update for ",D,". Current version:",j.version," Watch version:",M.version)}),{cs:f,ls:l}})}function Uv(i,e){const n=jt(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function uu(i,e){const n=jt(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return n.Qr.getTargetData(s,e).next(c=>c?(l=c,Y.resolve(l)):n.Qr.allocateTargetId(s).next(f=>(l=new bl(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Qr.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=n.ns.get(s.targetId);return(null===l||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.ns=n.ns.insert(s.targetId,s),n.rs.set(e,s.targetId)),s})}function cu(i,e,n){return du.apply(this,arguments)}function du(){return du=(0,he.Z)(function*(i,e,n){const s=jt(i),l=s.ns.get(e),c=n?"readwrite":"readwrite-primary";try{n||(yield s.persistence.runTransaction("Release target",c,f=>s.persistence.referenceDelegate.removeTarget(f,l)))}catch(f){if(!Un(f))throw f;mt("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}s.ns=s.ns.remove(e),s.rs.delete(l.target)}),du.apply(this,arguments)}function Wc(i,e,n){const s=jt(i);let l=an.min(),c=hr();return s.persistence.runTransaction("Execute query","readwrite",f=>function(M,j,ee){const pe=jt(M),Ne=pe.rs.get(ee);return void 0!==Ne?Y.resolve(pe.ns.get(Ne)):pe.Qr.getTargetData(j,ee)}(s,f,ie(e)).next(D=>{if(D)return l=D.lastLimboFreeSnapshotVersion,s.Qr.getMatchingKeysForTargetId(f,D.targetId).next(M=>{c=M})}).next(()=>s.ts.getDocumentsMatchingQuery(f,e,n?l:an.min(),n?c:hr())).next(D=>(Qd(s,ha(e),D),{documents:D,hs:c})))}function ff(i,e){const n=jt(i),s=jt(n.Qr),l=n.ns.get(e);return l?Promise.resolve(l.target):n.persistence.runTransaction("Get target data","readonly",c=>s._t(c,e).next(f=>f?f.target:null))}function qc(i,e){const n=jt(i),s=n.ss.get(e)||an.min();return n.persistence.runTransaction("Get new document changes","readonly",l=>n.os.getAllFromCollectionGroup(l,e,_c(s,-1),Number.MAX_SAFE_INTEGER)).then(l=>(Qd(n,e,l),l))}function Qd(i,e,n){let s=i.ss.get(e)||an.min();n.forEach((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),i.ss.set(e,s)}function Yd(){return Yd=(0,he.Z)(function*(i,e,n,s){const l=jt(i);let c=hr(),f=Xs();for(const j of n){const ee=e.Ps(j.metadata.name);j.document&&(c=c.add(ee));const pe=e.Is(j);pe.setReadTime(e.Ts(j.metadata.readTime)),f=f.insert(ee,pe)}const D=l.os.newChangeBuffer({trackRemovals:!0}),M=yield uu(l,(ee=s,ie(h(Yn.fromString(`__bundle__/docs/${ee}`)))));var ee;return l.persistence.runTransaction("Apply bundle documents","readwrite",j=>Zd(j,D,f).next(ee=>(D.apply(j),ee)).next(ee=>l.Qr.removeMatchingKeysForTargetId(j,M.targetId).next(()=>l.Qr.addMatchingKeys(j,c,M.targetId)).next(()=>l.localDocuments.getLocalViewOfDocuments(j,ee.cs,ee.ls)).next(()=>ee.cs)))}),Yd.apply(this,arguments)}function Im(i,e){return Zc.apply(this,arguments)}function Zc(){return Zc=(0,he.Z)(function*(i,e,n=hr()){const s=yield uu(i,ie(Qh(e.bundledQuery))),l=jt(i);return l.persistence.runTransaction("Save named query","readwrite",c=>{const f=is(e.readTime);if(s.snapshotVersion.compareTo(f)>=0)return l.$r.saveNamedQuery(c,e);const D=s.withResumeToken(Ui.EMPTY_BYTE_STRING,f);return l.ns=l.ns.insert(D.targetId,D),l.Qr.updateTargetData(c,D).next(()=>l.Qr.removeMatchingKeysForTargetId(c,s.targetId)).next(()=>l.Qr.addMatchingKeys(c,n,s.targetId)).next(()=>l.$r.saveNamedQuery(c,e))})}),Zc.apply(this,arguments)}function Bv(i,e){return`firestore_clients_${i}_${e}`}function pf(i,e,n){let s=`firestore_mutations_${i}_${n}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function ec(i,e){return`firestore_targets_${i}_${e}`}class mf{constructor(e,n,s,l){this.user=e,this.batchId=n,this.state=s,this.error=l}static Es(e,n,s){const l=JSON.parse(s);let c,f="object"==typeof l&&-1!==["pending","acknowledged","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return f&&l.error&&(f="string"==typeof l.error.message&&"string"==typeof l.error.code,f&&(c=new yt(l.error.code,l.error.message))),f?new mf(e,n,l.state,c):(Lr("SharedClientState",`Failed to parse mutation state for ID '${n}': ${s}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Qc{constructor(e,n,s){this.targetId=e,this.state=n,this.error=s}static Es(e,n){const s=JSON.parse(n);let l,c="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return c&&s.error&&(c="string"==typeof s.error.message&&"string"==typeof s.error.code,c&&(l=new yt(s.error.code,s.error.message))),c?new Qc(e,s.state,l):(Lr("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class gf{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Es(e,n){const s=JSON.parse(n);let l="object"==typeof s&&s.activeTargetIds instanceof Array,c=Dc();for(let f=0;l&&f<s.activeTargetIds.length;++f)l=Qo(s.activeTargetIds[f]),c=c.add(s.activeTargetIds[f]);return l?new gf(e,c):(Lr("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class Em{constructor(e,n){this.clientId=e,this.onlineState=n}static Es(e){const n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new Em(n.clientId,n.onlineState):(Lr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Jd{constructor(){this.activeTargetIds=Dc()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _f{constructor(e,n,s,l,c){this.window=e,this.oi=n,this.persistenceKey=s,this.Vs=l,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new Xr(xn),this.started=!1,this.ys=[];const f=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=c,this.ws=Bv(this.persistenceKey,this.Vs),this.Ss=`firestore_sequence_number_${this.persistenceKey}`,this.ps=this.ps.insert(this.Vs,new Jd),this.bs=new RegExp(`^firestore_clients_${f}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${f}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${f}_(\\d+)$`),this.vs=`firestore_online_state_${this.persistenceKey}`,this.Fs=function(M){return`firestore_bundle_loaded_v2_${M}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,he.Z)(function*(){const n=yield e.syncEngine.Li();for(const l of n){if(l===e.Vs)continue;const c=e.getItem(Bv(e.persistenceKey,l));if(c){const f=gf.Es(l,c);f&&(e.ps=e.ps.insert(f.clientId,f))}}e.Ms();const s=e.storage.getItem(e.vs);if(s){const l=e.xs(s);l&&e.Os(l)}for(const l of e.ys)e.gs(l);e.ys=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let n=!1;return this.ps.forEach((s,l)=>{l.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Bs(e,"pending")}updateMutationState(e,n,s){this.Bs(e,n,s),this.Ls(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(ec(this.persistenceKey,e));if(s){const l=Qc.Es(e,s);l&&(n=l.state)}}return this.ks.As(e),this.Ms(),n}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(ec(this.persistenceKey,e))}updateQueryState(e,n,s){this.qs(e,n,s)}handleUserChange(e,n,s){n.forEach(l=>{this.Ls(l)}),this.currentUser=e,s.forEach(l=>{this.addPendingMutation(l)})}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return mt("SharedClientState","READ",e,n),n}setItem(e,n){mt("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){mt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){var n=this;const s=e;if(s.storageArea===this.storage){if(mt("SharedClientState","EVENT",s.key,s.newValue),s.key===this.ws)return void Lr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((0,he.Z)(function*(){if(n.started){if(null!==s.key)if(n.bs.test(s.key)){if(null==s.newValue){const l=n.$s(s.key);return n.Us(l,null)}{const l=n.Ws(s.key,s.newValue);if(l)return n.Us(l.clientId,l)}}else if(n.Ds.test(s.key)){if(null!==s.newValue){const l=n.Gs(s.key,s.newValue);if(l)return n.zs(l)}}else if(n.Cs.test(s.key)){if(null!==s.newValue){const l=n.js(s.key,s.newValue);if(l)return n.Hs(l)}}else if(s.key===n.vs){if(null!==s.newValue){const l=n.xs(s.newValue);if(l)return n.Os(l)}}else if(s.key===n.Ss){const l=function(f){let D=Ls._e;if(null!=f)try{const M=JSON.parse(f);on("number"==typeof M),D=M}catch(M){Lr("SharedClientState","Failed to read sequence number from WebStorage",M)}return D}(s.newValue);l!==Ls._e&&n.sequenceNumberHandler(l)}else if(s.key===n.Fs){const l=n.Js(s.newValue);yield Promise.all(l.map(c=>n.syncEngine.Ys(c)))}}else n.ys.push(s)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Bs(e,n,s){const l=new mf(this.currentUser,e,n,s),c=pf(this.persistenceKey,this.currentUser,e);this.setItem(c,l.ds())}Ls(e){const n=pf(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Qs(e){this.storage.setItem(this.vs,JSON.stringify({clientId:this.Vs,onlineState:e}))}qs(e,n,s){const l=ec(this.persistenceKey,e),c=new Qc(e,n,s);this.setItem(l,c.ds())}Ks(e){const n=JSON.stringify(Array.from(e));this.setItem(this.Fs,n)}$s(e){const n=this.bs.exec(e);return n?n[1]:null}Ws(e,n){const s=this.$s(e);return gf.Es(s,n)}Gs(e,n){const s=this.Ds.exec(e),l=Number(s[1]);return mf.Es(new Gn(void 0!==s[2]?s[2]:null),l,n)}js(e,n){const s=this.Cs.exec(e),l=Number(s[1]);return Qc.Es(l,n)}xs(e){return Em.Es(e)}Js(e){return JSON.parse(e)}zs(e){var n=this;return(0,he.Z)(function*(){if(e.user.uid===n.currentUser.uid)return n.syncEngine.Zs(e.batchId,e.state,e.error);mt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,n){const s=n?this.ps.insert(e,n):this.ps.remove(e),l=this.Ns(this.ps),c=this.Ns(s),f=[],D=[];return c.forEach(M=>{l.has(M)||f.push(M)}),l.forEach(M=>{c.has(M)||D.push(M)}),this.syncEngine.eo(f,D).then(()=>{this.ps=s})}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let n=Dc();return e.forEach((s,l)=>{n=n.unionWith(l.activeTargetIds)}),n}}class U_{constructor(){this.no=new Jd,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,s){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Jd,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Hv{io(e){}shutdown(){}}class jv{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){mt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){mt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let yf=null;function Yc(){return null===yf?yf=268435456+Math.round(2147483648*Math.random()):yf++,"0x"+yf.toString(16)}const Tm={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $v{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}const to="WebChannelConnection";class wm extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const s=n.ssl?"https":"http",l=encodeURIComponent(this.databaseId.projectId),c=encodeURIComponent(this.databaseId.database);this.fo=s+"://"+n.host,this.po=`projects/${l}/databases/${c}`,this.yo="(default)"===this.databaseId.database?`project_id=${l}`:`project_id=${l}&database_id=${c}`}get wo(){return!1}So(n,s,l,c,f){const D=Yc(),M=this.bo(n,s.toUriEncodedString());mt("RestConnection",`Sending RPC '${n}' ${D}:`,M,l);const j={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(j,c,f),this.Co(n,M,j,l).then(ee=>(mt("RestConnection",`Received RPC '${n}' ${D}: `,ee),ee),ee=>{throw vi("RestConnection",`RPC '${n}' ${D} failed with error: `,ee,"url: ",M,"request:",l),ee})}vo(n,s,l,c,f,D){return this.So(n,s,l,c,f)}Do(n,s,l){n["X-Goog-Api-Client"]="gl-js/ fire/"+cs,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((c,f)=>n[f]=c),l&&l.headers.forEach((c,f)=>n[f]=c)}bo(n,s){return`${this.fo}/v1/${s}:${Tm[n]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,s,l){const c=Yc();return new Promise((f,D)=>{const M=new ui;M.setWithCredentials(!0),M.listenOnce(Ko.COMPLETE,()=>{try{switch(M.getLastErrorCode()){case br.NO_ERROR:const ee=M.getResponseJson();mt(to,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(ee)),f(ee);break;case br.TIMEOUT:mt(to,`RPC '${e}' ${c} timed out`),D(new yt(ot.DEADLINE_EXCEEDED,"Request time out"));break;case br.HTTP_ERROR:const pe=M.getStatus();if(mt(to,`RPC '${e}' ${c} failed with status:`,pe,"response text:",M.getResponseText()),pe>0){let Ne=M.getResponseJson();Array.isArray(Ne)&&(Ne=Ne[0]);const Xe=Ne?.error;if(Xe&&Xe.status&&Xe.message){const Mt=function(Ut){const yn=Ut.toLowerCase().replace(/_/g,"-");return Object.values(ot).indexOf(yn)>=0?yn:ot.UNKNOWN}(Xe.status);D(new yt(Mt,Xe.message))}else D(new yt(ot.UNKNOWN,"Server responded with status "+M.getStatus()))}else D(new yt(ot.UNAVAILABLE,"Connection failed."));break;default:Wt()}}finally{mt(to,`RPC '${e}' ${c} completed.`)}});const j=JSON.stringify(l);mt(to,`RPC '${e}' ${c} sending request:`,l),M.send(n,"POST",j,s,15)})}Fo(e,n,s){const l=Yc(),c=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=Vi(),D=Fo(),M={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},j=this.longPollingOptions.timeoutSeconds;void 0!==j&&(M.longPollingTimeout=Math.round(1e3*j)),this.useFetchStreams&&(M.useFetchStreams=!0),this.Do(M.initMessageHeaders,n,s),M.encodeInitMessageHeaders=!0;const ee=c.join("");mt(to,`Creating RPC '${e}' stream ${l}: ${ee}`,M);const pe=f.createWebChannel(ee,M);let Ne=!1,Xe=!1;const Mt=new $v({lo:Ut=>{Xe?mt(to,`Not sending because RPC '${e}' stream ${l} is closed:`,Ut):(Ne||(mt(to,`Opening RPC '${e}' stream ${l} transport.`),pe.open(),Ne=!0),mt(to,`RPC '${e}' stream ${l} sending:`,Ut),pe.send(Ut))},ho:()=>pe.close()}),$t=(Ut,yn,qn)=>{Ut.listen(yn,mn=>{try{qn(mn)}catch(Kn){setTimeout(()=>{throw Kn},0)}})};return $t(pe,ar.EventType.OPEN,()=>{Xe||mt(to,`RPC '${e}' stream ${l} transport opened.`)}),$t(pe,ar.EventType.CLOSE,()=>{Xe||(Xe=!0,mt(to,`RPC '${e}' stream ${l} transport closed`),Mt.Vo())}),$t(pe,ar.EventType.ERROR,Ut=>{Xe||(Xe=!0,vi(to,`RPC '${e}' stream ${l} transport errored:`,Ut),Mt.Vo(new yt(ot.UNAVAILABLE,"The operation could not be completed")))}),$t(pe,ar.EventType.MESSAGE,Ut=>{var yn;if(!Xe){const qn=Ut.data[0];on(!!qn);const Kn=qn.error||(null===(yn=qn[0])||void 0===yn?void 0:yn.error);if(Kn){mt(to,`RPC '${e}' stream ${l} received error:`,Kn);const Mr=Kn.status;let Br=function(nv){const Gg=rs[nv];if(void 0!==Gg)return c_(Gg)}(Mr),os=Kn.message;void 0===Br&&(Br=ot.INTERNAL,os="Unknown error status: "+Mr+" with message "+Kn.message),Xe=!0,Mt.Vo(new yt(Br,os)),pe.close()}else mt(to,`RPC '${e}' stream ${l} received:`,qn),Mt.mo(qn)}}),$t(D,Xt.STAT_EVENT,Ut=>{Ut.stat===Qt.PROXY?mt(to,`RPC '${e}' stream ${l} detected buffering proxy`):Ut.stat===Qt.NOPROXY&&mt(to,`RPC '${e}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{Mt.Ro()},0),Mt}}function Xd(){return typeof window<"u"?window:null}function vf(){return typeof document<"u"?document:null}function Jc(i){return new Tv(i,!0)}class Cm{constructor(e,n,s=1e3,l=1.5,c=6e4){this.oi=e,this.timerId=n,this.Mo=s,this.xo=l,this.Oo=c,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),s=Math.max(0,Date.now()-this.Lo),l=Math.max(0,n-s);l>0&&mt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,l,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){null!==this.Bo&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){null!==this.Bo&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}class bm{constructor(e,n,s,l,c,f,D,M){this.oi=e,this.$o=s,this.Uo=l,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=D,this.listener=M,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new Cm(e,n)}Ho(){return 1===this.state||5===this.state||this.Jo()}Jo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Yo()}stop(){var e=this;return(0,he.Z)(function*(){e.Ho()&&(yield e.close(0))})()}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}e_(){var e=this;return(0,he.Z)(function*(){if(e.Jo())return e.close(0)})()}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}close(e,n){var s=this;return(0,he.Z)(function*(){s.n_(),s.r_(),s.jo.cancel(),s.Wo++,4!==e?s.jo.reset():n&&n.code===ot.RESOURCE_EXHAUSTED?(Lr(n.toString()),Lr("Using maximum backoff delay to prevent overloading the backend."),s.jo.ko()):n&&n.code===ot.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.i_(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.To(n)})()}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,l])=>{this.Wo===n&&this.o_(s,l)},s=>{e(()=>{const l=new yt(ot.UNKNOWN,"Fetching auth token failed: "+s.message);return this.__(l)})})}o_(e,n){const s=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{s(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(l=>{s(()=>this.__(l))}),this.stream.onMessage(l=>{s(()=>this.onMessage(l))})}Yo(){var e=this;this.state=5,this.jo.qo((0,he.Z)(function*(){e.state=0,e.start()}))}__(e){return mt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(mt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class FE extends bm{constructor(e,n,s,l,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,l,f),this.serializer=c}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=function g_(i,e){let n;if("targetChange"in e){const s="NO_CHANGE"===(j=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===j?1:"REMOVE"===j?2:"CURRENT"===j?3:"RESET"===j?4:Wt(),l=e.targetChange.targetIds||[],c=function(j,ee){return j.useProto3Json?(on(void 0===ee||"string"==typeof ee),Ui.fromBase64String(ee||"")):(on(void 0===ee||ee instanceof Uint8Array),Ui.fromUint8Array(ee||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,D=f&&function(j){const ee=void 0===j.code?ot.UNKNOWN:c_(j.code);return new yt(ee,j.message||"")}(f);n=new f_(s,l,c,D||null)}else if("documentChange"in e){const s=e.documentChange,l=Xa(i,s.document.name),c=is(s.document.updateTime),f=s.document.createTime?is(s.document.createTime):an.min(),D=new ws({mapValue:{fields:s.document.fields}}),M=pi.newFoundDocument(l,c,f,D);n=new Hh(s.targetIds||[],s.removedTargetIds||[],M.key,M)}else if("documentDelete"in e){const s=e.documentDelete,l=Xa(i,s.document),c=s.readTime?is(s.readTime):an.min(),f=pi.newNoDocument(l,c);n=new Hh([],s.removedTargetIds||[],f.key,f)}else if("documentRemove"in e){const s=e.documentRemove,l=Xa(i,s.document);n=new Hh([],s.removedTargetIds||[],l,null)}else{if(!("filter"in e))return Wt();{const s=e.filter,{count:l=0,unchangedNames:c}=s,f=new $p(l,c);n=new h_(s.targetId,f)}}var j;return n}(this.serializer,e),s=function(c){if(!("targetChange"in c))return an.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?an.min():f.readTime?is(f.readTime):an.min()}(e);return this.listener.u_(n,s)}c_(e){const n={};n.database=zh(this.serializer),n.addTarget=function(c,f){let D;const M=f.target;if(D=Xl(M)?{documents:Wh(c,M)}:{query:Ku(c,M).ut},D.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){D.resumeToken=Qp(c,f.resumeToken);const j=Zp(c,f.expectedCount);null!==j&&(D.expectedCount=j)}else if(f.snapshotVersion.compareTo(an.min())>0){D.readTime=nu(c,f.snapshotVersion.toTimestamp());const j=Zp(c,f.expectedCount);null!==j&&(D.expectedCount=j)}return D}(this.serializer,e);const s=function v_(i,e){const n=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Wt()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);s&&(n.labels=s),this.t_(n)}l_(e){const n={};n.database=zh(this.serializer),n.removeTarget=e,this.t_(n)}}class zv extends bm{constructor(e,n,s,l,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,l,f),this.serializer=c,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(on(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=function __(i,e){return i&&i.length>0?(on(void 0!==e),i.map(n=>function(l,c){let f=is(l.updateTime?l.updateTime:c);return f.isEqual(an.min())&&(f=is(c)),new vv(f,l.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),s=is(e.commitTime);return this.listener.T_(s,n)}return on(!e.writeResults||0===e.writeResults.length),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=zh(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>qu(this.serializer,s))};this.t_(n)}}class If extends class{}{constructor(e,n,s,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=l,this.A_=!1}R_(){if(this.A_)throw new yt(ot.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,s,l){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.So(e,Yp(n,s),l,c,f)).catch(c=>{throw"FirebaseError"===c.name?(c.code===ot.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new yt(ot.UNKNOWN,c.toString())})}vo(e,n,s,l,c){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,D])=>this.connection.vo(e,Yp(n,s),l,f,D,c)).catch(f=>{throw"FirebaseError"===f.name?(f.code===ot.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new yt(ot.UNKNOWN,f.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class eh{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,"Online"===e&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Lr(n),this.g_=!1):mt("OnlineStateTracker",n)}b_(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}class Wv{constructor(e,n,s,l,c){var f=this;this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=c,this.M_.io(D=>{s.enqueueAndForget((0,he.Z)(function*(){var M;fu(f)&&(mt("RemoteStore","Restarting streams for network reachability change."),yield(M=(0,he.Z)(function*(ee){const pe=jt(ee);pe.v_.add(4),yield ed(pe),pe.x_.set("Unknown"),pe.v_.delete(4),yield Xc(pe)}),function j(ee){return M.apply(this,arguments)})(f))}))}),this.x_=new eh(s,l)}}function Xc(i){return Dm.apply(this,arguments)}function Dm(){return Dm=(0,he.Z)(function*(i){if(fu(i))for(const e of i.F_)yield e(!0)}),Dm.apply(this,arguments)}function ed(i){return Am.apply(this,arguments)}function Am(){return Am=(0,he.Z)(function*(i){for(const e of i.F_)yield e(!1)}),Am.apply(this,arguments)}function th(i,e){const n=jt(i);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),Ef(n)?rh(n):mu(n).Jo()&&nh(n,e))}function td(i,e){const n=jt(i),s=mu(n);n.C_.delete(e),s.Jo()&&qv(n,e),0===n.C_.size&&(s.Jo()?s.Xo():fu(n)&&n.x_.set("Unknown"))}function nh(i,e){if(i.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(an.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}mu(i).c_(e)}function qv(i,e){i.O_.Oe(e),mu(i).l_(e)}function rh(i){i.O_=new Ev({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>i.C_.get(e)||null,nt:()=>i.datastore.serializer.databaseId}),mu(i).start(),i.x_.p_()}function Ef(i){return fu(i)&&!mu(i).Ho()&&i.C_.size>0}function fu(i){return 0===jt(i).v_.size}function B_(i){i.O_=void 0}function H_(i){return Sm.apply(this,arguments)}function Sm(){return Sm=(0,he.Z)(function*(i){i.C_.forEach((e,n)=>{nh(i,e)})}),Sm.apply(this,arguments)}function j_(i,e){return Pm.apply(this,arguments)}function Pm(){return Pm=(0,he.Z)(function*(i,e){B_(i),Ef(i)?(i.x_.S_(e),rh(i)):i.x_.set("Unknown")}),Pm.apply(this,arguments)}function Kv(i,e,n){return $_.apply(this,arguments)}function $_(){return $_=(0,he.Z)(function*(i,e,n){if(i.x_.set("Online"),e instanceof f_&&2===e.state&&e.cause)try{yield(s=(0,he.Z)(function*(c,f){const D=f.cause;for(const M of f.targetIds)c.C_.has(M)&&(yield c.remoteSyncer.rejectListen(M,D),c.C_.delete(M),c.O_.removeTarget(M))}),function l(c,f){return s.apply(this,arguments)})(i,e)}catch(s){mt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield ih(i,s)}else if(e instanceof Hh?i.O_.$e(e):e instanceof h_?i.O_.Je(e):i.O_.Ge(e),!n.isEqual(an.min()))try{const s=yield Vv(i.localStore);n.compareTo(s)>=0&&(yield function(c,f){const D=c.O_.it(f);return D.targetChanges.forEach((M,j)=>{if(M.resumeToken.approximateByteSize()>0){const ee=c.C_.get(j);ee&&c.C_.set(j,ee.withResumeToken(M.resumeToken,f))}}),D.targetMismatches.forEach((M,j)=>{const ee=c.C_.get(M);if(!ee)return;c.C_.set(M,ee.withResumeToken(Ui.EMPTY_BYTE_STRING,ee.snapshotVersion)),qv(c,M);const pe=new bl(ee.target,M,j,ee.sequenceNumber);nh(c,pe)}),c.remoteSyncer.applyRemoteEvent(D)}(i,n))}catch(s){mt("RemoteStore","Failed to raise snapshot:",s),yield ih(i,s)}var s}),$_.apply(this,arguments)}function ih(i,e,n){return Tf.apply(this,arguments)}function Tf(){return Tf=(0,he.Z)(function*(i,e,n){if(!Un(e))throw e;i.v_.add(1),yield ed(i),i.x_.set("Offline"),n||(n=()=>Vv(i.localStore)),i.asyncQueue.enqueueRetryable((0,he.Z)(function*(){mt("RemoteStore","Retrying IndexedDB access"),yield n(),i.v_.delete(1),yield Xc(i)}))}),Tf.apply(this,arguments)}function ga(i,e){return e().catch(n=>ih(i,n,e))}function tc(i){return z_.apply(this,arguments)}function z_(){return z_=(0,he.Z)(function*(i){const e=jt(i),n=Pl(e);let s=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;Rm(e);)try{const l=yield Uv(e.localStore,s);if(null===l){0===e.D_.length&&n.Xo();break}s=l.batchId,pu(e,l)}catch(l){yield ih(e,l)}wf(e)&&G_(e)}),z_.apply(this,arguments)}function Rm(i){return fu(i)&&i.D_.length<10}function pu(i,e){i.D_.push(e);const n=Pl(i);n.Jo()&&n.P_&&n.I_(e.mutations)}function wf(i){return fu(i)&&!Pl(i).Ho()&&i.D_.length>0}function G_(i){Pl(i).start()}function VE(i){return Mm.apply(this,arguments)}function Mm(){return Mm=(0,he.Z)(function*(i){Pl(i).d_()}),Mm.apply(this,arguments)}function xm(i){return _a.apply(this,arguments)}function _a(){return _a=(0,he.Z)(function*(i){const e=Pl(i);for(const n of i.D_)e.I_(n.mutations)}),_a.apply(this,arguments)}function W_(i,e,n){return Om.apply(this,arguments)}function Om(){return Om=(0,he.Z)(function*(i,e,n){const s=i.D_.shift(),l=Uh.from(s,e,n);yield ga(i,()=>i.remoteSyncer.applySuccessfulWrite(l)),yield tc(i)}),Om.apply(this,arguments)}function UE(i,e){return ps.apply(this,arguments)}function ps(){return ps=(0,he.Z)(function*(i,e){var n;e&&Pl(i).P_&&(yield(n=(0,he.Z)(function*(l,c){if(Mc(D=c.code)&&D!==ot.ABORTED){const f=l.D_.shift();Pl(l).Zo(),yield ga(l,()=>l.remoteSyncer.rejectFailedWrite(f.batchId,c)),yield tc(l)}var D}),function s(l,c){return n.apply(this,arguments)})(i,e)),wf(i)&&G_(i)}),ps.apply(this,arguments)}function q_(i,e){return sh.apply(this,arguments)}function sh(){return sh=(0,he.Z)(function*(i,e){const n=jt(i);n.asyncQueue.verifyOperationInProgress(),mt("RemoteStore","RemoteStore received new credentials");const s=fu(n);n.v_.add(3),yield ed(n),s&&n.x_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),yield Xc(n)}),sh.apply(this,arguments)}function Nm(i,e){return Lm.apply(this,arguments)}function Lm(){return Lm=(0,he.Z)(function*(i,e){const n=jt(i);e?(n.v_.delete(2),yield Xc(n)):e||(n.v_.add(2),yield ed(n),n.x_.set("Unknown"))}),Lm.apply(this,arguments)}function mu(i){return i.N_||(i.N_=function(n,s,l){const c=jt(n);return c.R_(),new FE(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(i.datastore,i.asyncQueue,{Po:H_.bind(null,i),To:j_.bind(null,i),u_:Kv.bind(null,i)}),i.F_.push(function(){var e=(0,he.Z)(function*(n){n?(i.N_.Zo(),Ef(i)?rh(i):i.x_.set("Unknown")):(yield i.N_.stop(),B_(i))});return function(n){return e.apply(this,arguments)}}())),i.N_}function Pl(i){return i.B_||(i.B_=function(n,s,l){const c=jt(n);return c.R_(),new zv(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(i.datastore,i.asyncQueue,{Po:VE.bind(null,i),To:UE.bind(null,i),E_:xm.bind(null,i),T_:W_.bind(null,i)}),i.F_.push(function(){var e=(0,he.Z)(function*(n){n?(i.B_.Zo(),yield tc(i)):(yield i.B_.stop(),i.D_.length>0&&(mt("RemoteStore",`Stopping write stream with ${i.D_.length} pending writes`),i.D_=[]))});return function(n){return e.apply(this,arguments)}}())),i.B_}class Cf{constructor(e,n,s,l,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new ci,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,l,c){const f=Date.now()+s,D=new Cf(e,n,f,l,c);return D.start(s),D}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new yt(ot.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function nd(i,e){if(Lr("AsyncQueue",`${e}: ${i}`),Un(i))return new yt(ot.UNAVAILABLE,`${e}: ${i}`);throw i}class nc{constructor(e){this.comparator=e?(n,s)=>e(n,s)||Bt.comparator(n.key,s.key):(n,s)=>Bt.comparator(n.key,s.key),this.keyedMap=ju(),this.sortedSet=new Xr(this.comparator)}static emptySet(e){return new nc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof nc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const s=new nc;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class km{constructor(){this.L_=new Xr(Bt.comparator)}track(e){const n=e.doc.key,s=this.L_.get(n);s?0!==e.type&&3===s.type?this.L_=this.L_.insert(n,e):3===e.type&&1!==s.type?this.L_=this.L_.insert(n,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.L_=this.L_.remove(n):1===e.type&&2===s.type?this.L_=this.L_.insert(n,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):Wt():this.L_=this.L_.insert(n,e)}k_(){const e=[];return this.L_.inorderTraversal((n,s)=>{e.push(s)}),e}}class rd{constructor(e,n,s,l,c,f,D,M,j){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=D,this.excludesMetadataChanges=M,this.hasCachedResults=j}static fromInitialDocuments(e,n,s,l,c){const f=[];return n.forEach(D=>{f.push({type:0,doc:D})}),new rd(e,n,nc.emptySet(n),f,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yt(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==s[l].type||!n[l].doc.isEqual(s[l].doc))return!1;return!0}}class Zv{constructor(){this.q_=void 0,this.Q_=[]}}class K_{constructor(){this.queries=new fa(e=>pn(e),Yt),this.onlineState="Unknown",this.K_=new Set}}function bf(i,e){return gu.apply(this,arguments)}function gu(){return gu=(0,he.Z)(function*(i,e){const n=jt(i),s=e.query;let l=!1,c=n.queries.get(s);if(c||(l=!0,c=new Zv),l)try{c.q_=yield n.onListen(s)}catch(f){const D=nd(f,`Initialization of query '${rr(e.query)}' failed`);return void e.onError(D)}n.queries.set(s,c),c.Q_.push(e),e.U_(n.onlineState),c.q_&&e.W_(c.q_)&&Df(n)}),gu.apply(this,arguments)}function ka(i,e){return _u.apply(this,arguments)}function _u(){return _u=(0,he.Z)(function*(i,e){const n=jt(i),s=e.query;let l=!1;const c=n.queries.get(s);if(c){const f=c.Q_.indexOf(e);f>=0&&(c.Q_.splice(f,1),l=0===c.Q_.length)}if(l)return n.queries.delete(s),n.onUnlisten(s)}),_u.apply(this,arguments)}function Qv(i,e){const n=jt(i);let s=!1;for(const l of e){const f=n.queries.get(l.query);if(f){for(const D of f.Q_)D.W_(l)&&(s=!0);f.q_=l}}s&&Df(n)}function Yv(i,e,n){const s=jt(i),l=s.queries.get(e);if(l)for(const c of l.Q_)c.onError(n);s.queries.delete(e)}function Df(i){i.K_.forEach(e=>{e.next()})}class Af{constructor(e,n,s){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=s||{}}W_(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)3!==l.type&&s.push(l);e=new rd(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){return!e.fromCache||(!this.options.Z_||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}H_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Y_(e){e=rd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}class Fm{constructor(e,n){this.X_=e,this.byteLength=n}ea(){return"metadata"in this.X_}}class id{constructor(e){this.serializer=e}Ps(e){return Xa(this.serializer,e)}Is(e){return e.metadata.exists?Hd(this.serializer,e.document,!1):pi.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return is(e)}}class Sf{constructor(e,n,s){this.ta=e,this.localStore=n,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Vm(e)}na(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.X_.namedQuery)this.queries.push(e.X_.namedQuery);else if(e.X_.documentMetadata){this.documents.push({metadata:e.X_.documentMetadata}),e.X_.documentMetadata.exists||++n;const s=Yn.fromString(e.X_.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.X_.document&&(this.documents[this.documents.length-1].document=e.X_.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}ra(e){const n=new Map,s=new id(this.serializer);for(const l of e)if(l.metadata.queries){const c=s.Ps(l.metadata.name);for(const f of l.metadata.queries){const D=(n.get(f)||hr()).add(c);n.set(f,D)}}return n}complete(){var e=this;return(0,he.Z)(function*(){const n=yield function Kc(i,e,n,s){return Yd.apply(this,arguments)}(e.localStore,new id(e.serializer),e.documents,e.ta.id),s=e.ra(e.documents);for(const l of e.queries)yield Im(e.localStore,l,s.get(l.name));return e.progress.taskState="Success",{progress:e.progress,ia:e.collectionGroups,sa:n}})()}}function Vm(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class Um{constructor(e){this.key=e}}class Z_{constructor(e){this.key=e}}class Q_{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=hr(),this.mutatedKeys=hr(),this.ua=Cc(e),this.ca=new nc(this.ua)}get la(){return this.oa}ha(e,n){const s=n?n.Pa:new km,l=n?n.ca:this.ca;let c=n?n.mutatedKeys:this.mutatedKeys,f=l,D=!1;const M="F"===this.query.limitType&&l.size===this.query.limit?l.last():null,j="L"===this.query.limitType&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((ee,pe)=>{const Ne=l.get(ee),Xe=hs(this.query,pe)?pe:null,Mt=!!Ne&&this.mutatedKeys.has(Ne.key),$t=!!Xe&&(Xe.hasLocalMutations||this.mutatedKeys.has(Xe.key)&&Xe.hasCommittedMutations);let Ut=!1;Ne&&Xe?Ne.data.isEqual(Xe.data)?Mt!==$t&&(s.track({type:3,doc:Xe}),Ut=!0):this.Ia(Ne,Xe)||(s.track({type:2,doc:Xe}),Ut=!0,(M&&this.ua(Xe,M)>0||j&&this.ua(Xe,j)<0)&&(D=!0)):!Ne&&Xe?(s.track({type:0,doc:Xe}),Ut=!0):Ne&&!Xe&&(s.track({type:1,doc:Ne}),Ut=!0,(M||j)&&(D=!0)),Ut&&(Xe?(f=f.add(Xe),c=$t?c.add(ee):c.delete(ee)):(f=f.delete(ee),c=c.delete(ee)))}),null!==this.query.limit)for(;f.size>this.query.limit;){const ee="F"===this.query.limitType?f.last():f.first();f=f.delete(ee.key),c=c.delete(ee.key),s.track({type:1,doc:ee})}return{ca:f,Pa:s,Xi:D,mutatedKeys:c}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,l){const c=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const f=e.Pa.k_();f.sort((ee,pe)=>function(Xe,Mt){const $t=Ut=>{switch(Ut){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Wt()}};return $t(Xe)-$t(Mt)}(ee.type,pe.type)||this.ua(ee.doc,pe.doc)),this.Ta(s),l=null!=l&&l;const D=n&&!l?this.Ea():[],M=0===this.aa.size&&this.current&&!l?1:0,j=M!==this._a;return this._a=M,0!==f.length||j?{snapshot:new rd(this.query,e.ca,c,f,e.mutatedKeys,0===M,j,!1,!!s&&s.resumeToken.approximateByteSize()>0),da:D}:{da:D}}U_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new km,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=hr(),this.ca.forEach(s=>{this.Aa(s.key)&&(this.aa=this.aa.add(s.key))});const n=[];return e.forEach(s=>{this.aa.has(s)||n.push(new Z_(s))}),this.aa.forEach(s=>{e.has(s)||n.push(new Um(s))}),n}Ra(e){this.oa=e.hs,this.aa=hr();const n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return rd.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,0===this._a,this.hasCachedResults)}}class Jv{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class Xv{constructor(e){this.key=e,this.ma=!1}}class Y_{constructor(e,n,s,l,c,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.fa={},this.ga=new fa(D=>pn(D),Yt),this.pa=new Map,this.ya=new Set,this.wa=new Xr(Bt.comparator),this.Sa=new Map,this.ba=new fm,this.Da={},this.Ca=new Map,this.va=ou.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return!0===this.Fa}}function BE(i,e){return Bm.apply(this,arguments)}function Bm(){return Bm=(0,he.Z)(function*(i,e){const n=Qm(i);let s,l;const c=n.ga.get(e);if(c)s=c.targetId,n.sharedClientState.addLocalQueryTarget(s),l=c.view.Va();else{const f=yield uu(n.localStore,ie(e)),D=n.sharedClientState.addLocalQueryTarget(f.targetId);s=f.targetId,l=yield J_(n,e,s,"current"===D,f.resumeToken),n.isPrimaryClient&&th(n.remoteStore,f)}return l}),Bm.apply(this,arguments)}function J_(i,e,n,s,l){return X_.apply(this,arguments)}function X_(){return X_=(0,he.Z)(function*(i,e,n,s,l){i.Ma=(pe,Ne,Xe)=>{return(Mt=(0,he.Z)(function*(Ut,yn,qn,mn){let Kn=yn.view.ha(qn);Kn.Xi&&(Kn=yield Wc(Ut.localStore,yn.query,!1).then(({documents:ra})=>yn.view.ha(ra,Kn)));const Mr=mn&&mn.targetChanges.get(yn.targetId),Br=mn&&null!=mn.targetMismatches.get(yn.targetId),os=yn.view.applyChanges(Kn,Ut.isPrimaryClient,Mr,Br);return Of(Ut,yn.targetId,os.da),os.snapshot}),function $t(Ut,yn,qn,mn){return Mt.apply(this,arguments)})(i,pe,Ne,Xe);var Mt};const c=yield Wc(i.localStore,e,!0),f=new Q_(e,c.hs),D=f.ha(c.documents),M=tu.createSynthesizedTargetChangeForCurrentChange(n,s&&"Offline"!==i.onlineState,l),j=f.applyChanges(D,i.isPrimaryClient,M);Of(i,n,j.da);const ee=new Jv(e,n,f);return i.ga.set(e,ee),i.pa.has(n)?i.pa.get(n).push(e):i.pa.set(n,[e]),j.snapshot}),X_.apply(this,arguments)}function ey(i,e){return Pf.apply(this,arguments)}function Pf(){return Pf=(0,he.Z)(function*(i,e){const n=jt(i),s=n.ga.get(e),l=n.pa.get(s.targetId);if(l.length>1)return n.pa.set(s.targetId,l.filter(c=>!Yt(c,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||(yield cu(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),td(n.remoteStore,s.targetId),Iu(n,s.targetId)}).catch(B))):(Iu(n,s.targetId),yield cu(n.localStore,s.targetId,!0))}),Pf.apply(this,arguments)}function sd(){return sd=(0,he.Z)(function*(i,e,n){const s=Ym(i);try{const l=yield function(f,D){const M=jt(f),j=Jr.now(),ee=D.reduce((Xe,Mt)=>Xe.add(Mt.key),hr());let pe,Ne;return M.persistence.runTransaction("Locally write mutations","readwrite",Xe=>{let Mt=Xs(),$t=hr();return M.os.getEntries(Xe,ee).next(Ut=>{Mt=Ut,Mt.forEach((yn,qn)=>{qn.isValidDocument()||($t=$t.add(yn))})}).next(()=>M.localDocuments.getOverlayedDocuments(Xe,Mt)).next(Ut=>{pe=Ut;const yn=[];for(const qn of D){const mn=Vp(qn,pe.get(qn.key).overlayedDocument);null!=mn&&yn.push(new Ja(qn.key,mn,qa(mn.value.mapValue),Ri.exists(!0)))}return M.mutationQueue.addMutationBatch(Xe,j,yn,D)}).next(Ut=>{Ne=Ut;const yn=Ut.applyToLocalDocumentSet(pe,$t);return M.documentOverlayCache.saveOverlays(Xe,Ut.batchId,yn)})}).then(()=>({batchId:Ne.batchId,changes:xh(pe)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(l.batchId),function(f,D,M){let j=f.Da[f.currentUser.toKey()];j||(j=new Xr(xn)),j=j.insert(D,M),f.Da[f.currentUser.toKey()]=j}(s,l.batchId,n),yield Fa(s,l.changes),yield tc(s.remoteStore)}catch(l){const c=nd(l,"Failed to persist write");n.reject(c)}}),sd.apply(this,arguments)}function Hm(i,e){return Rf.apply(this,arguments)}function Rf(){return Rf=(0,he.Z)(function*(i,e){const n=jt(i);try{const s=yield function kE(i,e){const n=jt(i),s=e.snapshotVersion;let l=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const f=n.os.newChangeBuffer({trackRemovals:!0});l=n.ns;const D=[];e.targetChanges.forEach((ee,pe)=>{const Ne=l.get(pe);if(!Ne)return;D.push(n.Qr.removeMatchingKeys(c,ee.removedDocuments,pe).next(()=>n.Qr.addMatchingKeys(c,ee.addedDocuments,pe)));let Xe=Ne.withSequenceNumber(c.currentSequenceNumber);var $t,Ut,yn;null!==e.targetMismatches.get(pe)?Xe=Xe.withResumeToken(Ui.EMPTY_BYTE_STRING,an.min()).withLastLimboFreeSnapshotVersion(an.min()):ee.resumeToken.approximateByteSize()>0&&(Xe=Xe.withResumeToken(ee.resumeToken,s)),l=l.insert(pe,Xe),Ut=Xe,yn=ee,(0===($t=Ne).resumeToken.approximateByteSize()||Ut.snapshotVersion.toMicroseconds()-$t.snapshotVersion.toMicroseconds()>=3e8||yn.addedDocuments.size+yn.modifiedDocuments.size+yn.removedDocuments.size>0)&&D.push(n.Qr.updateTargetData(c,Xe))});let M=Xs(),j=hr();if(e.documentUpdates.forEach(ee=>{e.resolvedLimboDocuments.has(ee)&&D.push(n.persistence.referenceDelegate.updateLimboDocument(c,ee))}),D.push(Zd(c,f,e.documentUpdates).next(ee=>{M=ee.cs,j=ee.ls})),!s.isEqual(an.min())){const ee=n.Qr.getLastRemoteSnapshotVersion(c).next(pe=>n.Qr.setTargetsMetadata(c,c.currentSequenceNumber,s));D.push(ee)}return Y.waitFor(D).next(()=>f.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,M,j)).next(()=>M)}).then(c=>(n.ns=l,c))}(n.localStore,e);e.targetChanges.forEach((l,c)=>{const f=n.Sa.get(c);f&&(on(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?f.ma=!0:l.modifiedDocuments.size>0?on(f.ma):l.removedDocuments.size>0&&(on(f.ma),f.ma=!1))}),yield Fa(n,s,e)}catch(s){yield B(s)}}),Rf.apply(this,arguments)}function ty(i,e,n){const s=jt(i);if(s.isPrimaryClient&&0===n||!s.isPrimaryClient&&1===n){const l=[];s.ga.forEach((c,f)=>{const D=f.view.U_(e);D.snapshot&&l.push(D.snapshot)}),function(f,D){const M=jt(f);M.onlineState=D;let j=!1;M.queries.forEach((ee,pe)=>{for(const Ne of pe.Q_)Ne.U_(D)&&(j=!0)}),j&&Df(M)}(s.eventManager,e),l.length&&s.fa.u_(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function ny(i,e,n){return Mf.apply(this,arguments)}function Mf(){return Mf=(0,he.Z)(function*(i,e,n){const s=jt(i);s.sharedClientState.updateQueryState(e,"rejected",n);const l=s.Sa.get(e),c=l&&l.key;if(c){let f=new Xr(Bt.comparator);f=f.insert(c,pi.newNoDocument(c,an.min()));const D=hr().add(c),M=new Gu(an.min(),new Map,new Xr(xn),f,D);yield Hm(s,M),s.wa=s.wa.remove(c),s.Sa.delete(e),oh(s)}else yield cu(s.localStore,e,!1).then(()=>Iu(s,e,n)).catch(B)}),Mf.apply(this,arguments)}function Xn(i,e){return xf.apply(this,arguments)}function xf(){return xf=(0,he.Z)(function*(i,e){const n=jt(i),s=e.batch.batchId;try{const l=yield function Fv(i,e){const n=jt(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=e.batch.keys(),c=n.os.newChangeBuffer({trackRemovals:!0});return function(D,M,j,ee){const pe=j.batch,Ne=pe.keys();let Xe=Y.resolve();return Ne.forEach(Mt=>{Xe=Xe.next(()=>ee.getEntry(M,Mt)).next($t=>{const Ut=j.docVersions.get(Mt);on(null!==Ut),$t.version.compareTo(Ut)<0&&(pe.applyToRemoteDocument($t,j),$t.isValidDocument()&&($t.setReadTime(j.commitVersion),ee.addEntry($t)))})}),Xe.next(()=>D.mutationQueue.removeMutationBatch(M,pe))}(n,s,e,c).next(()=>c.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,l,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(D){let M=hr();for(let j=0;j<D.mutationResults.length;++j)D.mutationResults[j].transformResults.length>0&&(M=M.add(D.batch.mutations[j].key));return M}(e))).next(()=>n.localDocuments.getDocuments(s,l))})}(n.localStore,e);vu(n,s,null),od(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),yield Fa(n,l)}catch(l){yield B(l)}}),xf.apply(this,arguments)}function ry(i,e,n){return yu.apply(this,arguments)}function yu(){return yu=(0,he.Z)(function*(i,e,n){const s=jt(i);try{const l=yield function(f,D){const M=jt(f);return M.persistence.runTransaction("Reject batch","readwrite-primary",j=>{let ee;return M.mutationQueue.lookupMutationBatch(j,D).next(pe=>(on(null!==pe),ee=pe.keys(),M.mutationQueue.removeMutationBatch(j,pe))).next(()=>M.mutationQueue.performConsistencyCheck(j)).next(()=>M.documentOverlayCache.removeOverlaysForBatchId(j,ee,D)).next(()=>M.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(j,ee)).next(()=>M.localDocuments.getDocuments(j,ee))})}(s.localStore,e);vu(s,e,n),od(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),yield Fa(s,l)}catch(l){yield B(l)}}),yu.apply(this,arguments)}function jm(){return jm=(0,he.Z)(function*(i,e){const n=jt(i);fu(n.remoteStore)||mt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(f){const D=jt(f);return D.persistence.runTransaction("Get highest unacknowledged batch id","readonly",M=>D.mutationQueue.getHighestUnacknowledgedBatchId(M))}(n.localStore);if(-1===s)return void e.resolve();const l=n.Ca.get(s)||[];l.push(e),n.Ca.set(s,l)}catch(s){const l=nd(s,"Initialization of waitForPendingWrites() operation failed");e.reject(l)}}),jm.apply(this,arguments)}function od(i,e){(i.Ca.get(e)||[]).forEach(n=>{n.resolve()}),i.Ca.delete(e)}function vu(i,e,n){const s=jt(i);let l=s.Da[s.currentUser.toKey()];if(l){const c=l.get(e);c&&(n?c.reject(n):c.resolve(),l=l.remove(e)),s.Da[s.currentUser.toKey()]=l}}function Iu(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.pa.get(e))i.ga.delete(s),n&&i.fa.xa(s,n);i.pa.delete(e),i.isPrimaryClient&&i.ba.Vr(e).forEach(s=>{i.ba.containsKey(s)||ad(i,s)})}function ad(i,e){i.ya.delete(e.path.canonicalString());const n=i.wa.get(e);null!==n&&(td(i.remoteStore,n),i.wa=i.wa.remove(e),i.Sa.delete(n),oh(i))}function Of(i,e,n){for(const s of n)s instanceof Um?(i.ba.addReference(s.key,e),$m(i,s)):s instanceof Z_?(mt("SyncEngine","Document no longer in limbo: "+s.key),i.ba.removeReference(s.key,e),i.ba.containsKey(s.key)||ad(i,s.key)):Wt()}function $m(i,e){const n=e.key,s=n.path.canonicalString();i.wa.get(n)||i.ya.has(s)||(mt("SyncEngine","New document in limbo: "+n),i.ya.add(s),oh(i))}function oh(i){for(;i.ya.size>0&&i.wa.size<i.maxConcurrentLimboResolutions;){const e=i.ya.values().next().value;i.ya.delete(e);const n=new Bt(Yn.fromString(e)),s=i.va.next();i.Sa.set(s,new Xv(n)),i.wa=i.wa.insert(n,s),th(i.remoteStore,new bl(ie(h(n.path)),s,"TargetPurposeLimboResolution",Ls._e))}}function Fa(i,e,n){return Nf.apply(this,arguments)}function Nf(){return Nf=(0,he.Z)(function*(i,e,n){const s=jt(i),l=[],c=[],f=[];var D;s.ga.isEmpty()||(s.ga.forEach((D,M)=>{f.push(s.Ma(M,e,n).then(j=>{if((j||n)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(M.targetId,j?.fromCache?"not-current":"current"),j){l.push(j);const ee=hf.Ki(M.targetId,j);c.push(ee)}}))}),yield Promise.all(f),s.fa.u_(l),yield(D=(0,he.Z)(function*(j,ee){const pe=jt(j);try{yield pe.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ne=>Y.forEach(ee,Xe=>Y.forEach(Xe.qi,Mt=>pe.persistence.referenceDelegate.addReference(Ne,Xe.targetId,Mt)).next(()=>Y.forEach(Xe.Qi,Mt=>pe.persistence.referenceDelegate.removeReference(Ne,Xe.targetId,Mt)))))}catch(Ne){if(!Un(Ne))throw Ne;mt("LocalStore","Failed to update sequence numbers: "+Ne)}for(const Ne of ee){const Xe=Ne.targetId;if(!Ne.fromCache){const Mt=pe.ns.get(Xe),Ut=Mt.withLastLimboFreeSnapshotVersion(Mt.snapshotVersion);pe.ns=pe.ns.insert(Xe,Ut)}}}),function M(j,ee){return D.apply(this,arguments)})(s.localStore,c))}),Nf.apply(this,arguments)}function zm(i,e){return Gm.apply(this,arguments)}function Gm(){return Gm=(0,he.Z)(function*(i,e){const n=jt(i);if(!n.currentUser.isEqual(e)){mt("SyncEngine","User change. New user:",e.toKey());const s=yield V_(n.localStore,e);n.currentUser=e,(c=n).Ca.forEach(D=>{D.forEach(M=>{M.reject(new yt(ot.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),c.Ca.clear(),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield Fa(n,s.us)}var c}),Gm.apply(this,arguments)}function eI(i,e){const n=jt(i),s=n.Sa.get(e);if(s&&s.ma)return hr().add(s.key);{let l=hr();const c=n.pa.get(e);if(!c)return l;for(const f of c){const D=n.ga.get(f);l=l.unionWith(D.view.la)}return l}}function tI(i,e){return Lf.apply(this,arguments)}function Lf(){return Lf=(0,he.Z)(function*(i,e){const n=jt(i),s=yield Wc(n.localStore,e.query,!0),l=e.view.Ra(s);return n.isPrimaryClient&&Of(n,e.targetId,l.da),l}),Lf.apply(this,arguments)}function nI(i,e){return Wm.apply(this,arguments)}function Wm(){return Wm=(0,he.Z)(function*(i,e){const n=jt(i);return qc(n.localStore,e).then(s=>Fa(n,s))}),Wm.apply(this,arguments)}function rI(i,e,n,s){return qm.apply(this,arguments)}function qm(){return qm=(0,he.Z)(function*(i,e,n,s){const l=jt(i),c=yield function(D,M){const j=jt(D),ee=jt(j.mutationQueue);return j.persistence.runTransaction("Lookup mutation documents","readonly",pe=>ee.vn(pe,M).next(Ne=>Ne?j.localDocuments.getDocuments(pe,Ne):Y.resolve(null)))}(l.localStore,e);var M;null!==c?("pending"===n?yield tc(l.remoteStore):"acknowledged"===n||"rejected"===n?(vu(l,e,s||null),od(l,e),M=e,jt(jt(l.localStore).mutationQueue).Mn(M)):Wt(),yield Fa(l,c)):mt("SyncEngine","Cannot apply mutation batch with id: "+e)}),qm.apply(this,arguments)}function kf(){return kf=(0,he.Z)(function*(i,e){const n=jt(i);if(Qm(n),Ym(n),!0===e&&!0!==n.Fa){const s=n.sharedClientState.getAllActiveQueryTargets(),l=yield oy(n,s.toArray());n.Fa=!0,yield Nm(n.remoteStore,!0);for(const c of l)th(n.remoteStore,c)}else if(!1===e&&!1!==n.Fa){const s=[];let l=Promise.resolve();n.pa.forEach((c,f)=>{n.sharedClientState.isLocalQueryTarget(f)?s.push(f):l=l.then(()=>(Iu(n,f),cu(n.localStore,f,!0))),td(n.remoteStore,f)}),yield l,yield oy(n,s),function(f){const D=jt(f);D.Sa.forEach((M,j)=>{td(D.remoteStore,j)}),D.ba.mr(),D.Sa=new Map,D.wa=new Xr(Bt.comparator)}(n),n.Fa=!1,yield Nm(n.remoteStore,!1)}}),kf.apply(this,arguments)}function oy(i,e,n){return Km.apply(this,arguments)}function Km(){return Km=(0,he.Z)(function*(i,e,n){const s=jt(i),l=[],c=[];for(const f of e){let D;const M=s.pa.get(f);if(M&&0!==M.length){D=yield uu(s.localStore,ie(M[0]));for(const j of M){const ee=s.ga.get(j),pe=yield tI(s,ee);pe.snapshot&&c.push(pe.snapshot)}}else{const j=yield ff(s.localStore,f);D=yield uu(s.localStore,j),yield J_(s,Ho(j),f,!1,D.resumeToken)}l.push(D)}return s.fa.u_(c),l}),Km.apply(this,arguments)}function Ho(i){return v(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function iI(i){return n=jt(i).localStore,jt(jt(n).persistence).Li();var n}function sI(i,e,n,s){return ay.apply(this,arguments)}function ay(){return ay=(0,he.Z)(function*(i,e,n,s){const l=jt(i);if(l.Fa)return void mt("SyncEngine","Ignoring unexpected query state notification.");const c=l.pa.get(e);if(c&&c.length>0)switch(n){case"current":case"not-current":{const f=yield qc(l.localStore,ha(c[0])),D=Gu.createSynthesizedRemoteEventForCurrentChange(e,"current"===n,Ui.EMPTY_BYTE_STRING);yield Fa(l,f,D);break}case"rejected":yield cu(l.localStore,e,!0),Iu(l,e,s);break;default:Wt()}}),ay.apply(this,arguments)}function Zm(i,e,n){return Ff.apply(this,arguments)}function Ff(){return Ff=(0,he.Z)(function*(i,e,n){const s=Qm(i);if(s.Fa){for(const l of e){if(s.pa.has(l)){mt("SyncEngine","Adding an already active target "+l);continue}const c=yield ff(s.localStore,l),f=yield uu(s.localStore,c);yield J_(s,Ho(c),f.targetId,!1,f.resumeToken),th(s.remoteStore,f)}for(const l of n)s.pa.has(l)&&(yield cu(s.localStore,l,!1).then(()=>{td(s.remoteStore,l),Iu(s,l)}).catch(B))}}),Ff.apply(this,arguments)}function Qm(i){const e=jt(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Hm.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=eI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ny.bind(null,e),e.fa.u_=Qv.bind(null,e.eventManager),e.fa.xa=Yv.bind(null,e.eventManager),e}function Ym(i){const e=jt(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Xn.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ry.bind(null,e),e}class ld{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,he.Z)(function*(){n.serializer=Jc(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return kv(this.persistence,new _m,e.initialUser,this.serializer)}createPersistence(e){return new ma(Gc.Hr,this.serializer)}createSharedClientState(e){return new U_}terminate(){var e=this;return(0,he.Z)(function*(){var n,s;null===(n=e.gcScheduler)||void 0===n||n.stop(),null===(s=e.indexBackfillerScheduler)||void 0===s||s.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Jm extends ld{constructor(e,n,s){super(),this.Na=e,this.cacheSizeBytes=n,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var n=()=>super.initialize,s=this;return(0,he.Z)(function*(){yield n().call(s,e),yield s.Na.initialize(s,e),yield Ym(s.Na.syncEngine),yield tc(s.Na.remoteStore),yield s.persistence.fi(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return kv(this.persistence,new _m,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){return new xv(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const s=new $a(n,this.persistence);return new Ru(e.asyncQueue,s)}createPersistence(e){const n=Kd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?Cs.withCacheSize(this.cacheSizeBytes):Cs.DEFAULT;return new gm(this.synchronizeTabs,n,e.clientId,s,e.asyncQueue,Xd(),vf(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new U_}}class Vf extends Jm{constructor(e,n){super(e,n,!1),this.Na=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){var n=()=>super.initialize,s=this;return(0,he.Z)(function*(){yield n().call(s,e);const l=s.Na.syncEngine;s.sharedClientState instanceof _f&&(s.sharedClientState.syncEngine={Zs:rI.bind(null,l),Xs:sI.bind(null,l),eo:Zm.bind(null,l),Li:iI.bind(null,l),Ys:nI.bind(null,l)},yield s.sharedClientState.start()),yield s.persistence.fi(function(){var c=(0,he.Z)(function*(f){yield function sy(i,e){return kf.apply(this,arguments)}(s.Na.syncEngine,f),s.gcScheduler&&(f&&!s.gcScheduler.started?s.gcScheduler.start():f||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(f&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():f||s.indexBackfillerScheduler.stop())});return function(f){return c.apply(this,arguments)}}())})()}createSharedClientState(e){const n=Xd();if(!_f.D(n))throw new yt(ot.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=Kd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new _f(n,e.asyncQueue,s,e.clientId,e.initialUser)}}class ud{initialize(e,n){var s=this;return(0,he.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(n),s.remoteStore=s.createRemoteStore(n),s.eventManager=s.createEventManager(n),s.syncEngine=s.createSyncEngine(n,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=l=>ty(s.syncEngine,l,1),s.remoteStore.remoteSyncer.handleCredentialChange=zm.bind(null,s.syncEngine),yield Nm(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new K_}createDatastore(e){const n=Jc(e.databaseInfo.databaseId),s=new wm(e.databaseInfo);return new If(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return s=this.localStore,l=this.datastore,c=e.asyncQueue,f=n=>ty(this.syncEngine,n,0),D=jv.D()?new jv:new Hv,new Wv(s,l,c,f,D);var s,l,c,f,D}createSyncEngine(e,n){return function(l,c,f,D,M,j,ee){const pe=new Y_(l,c,f,D,M,j);return ee&&(pe.Fa=!0),pe}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){var e=this;return(0,he.Z)(function*(){var n,s;yield(s=(0,he.Z)(function*(c){const f=jt(c);mt("RemoteStore","RemoteStore shutting down."),f.v_.add(5),yield ed(f),f.M_.shutdown(),f.x_.set("Unknown")}),function l(c){return s.apply(this,arguments)})(e.remoteStore),null===(n=e.datastore)||void 0===n||n.terminate()})()}}function ly(i,e=10240){let n=0;return{read:()=>(0,he.Z)(function*(){if(n<i.byteLength){const s={value:i.slice(n,n+e),done:!1};return n+=e,s}return{done:!0}})(),cancel:()=>(0,he.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Uf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):Lr("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class lI{constructor(e,n){this.ka=e,this.serializer=n,this.metadata=new ci,this.buffer=new Uint8Array,this.qa=new TextDecoder("utf-8"),this.Qa().then(s=>{s&&s.ea()?this.metadata.resolve(s.X_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(s?.X_)}`))},s=>this.metadata.reject(s))}close(){return this.ka.cancel()}getMetadata(){var e=this;return(0,he.Z)(function*(){return e.metadata.promise})()}Oa(){var e=this;return(0,he.Z)(function*(){return yield e.getMetadata(),e.Qa()})()}Qa(){var e=this;return(0,he.Z)(function*(){const n=yield e.Ka();if(null===n)return null;const s=e.qa.decode(n),l=Number(s);isNaN(l)&&e.$a(`length string (${s}) is not valid number`);const c=yield e.Ua(l);return new Fm(JSON.parse(c),n.length+l)})()}Wa(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Ka(){var e=this;return(0,he.Z)(function*(){for(;e.Wa()<0&&!(yield e.Ga()););if(0===e.buffer.length)return null;const n=e.Wa();n<0&&e.$a("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,n);return e.buffer=e.buffer.slice(n),s})()}Ua(e){var n=this;return(0,he.Z)(function*(){for(;n.buffer.length<e;)(yield n.Ga())&&n.$a("Reached the end of bundle when more is expected.");const s=n.qa.decode(n.buffer.slice(0,e));return n.buffer=n.buffer.slice(e),s})()}$a(e){throw this.ka.cancel(),new Error(`Invalid bundle format: ${e}`)}Ga(){var e=this;return(0,he.Z)(function*(){const n=yield e.ka.read();if(!n.done){const s=new Uint8Array(e.buffer.length+n.value.length);s.set(e.buffer),s.set(n.value,e.buffer.length),e.buffer=s}return n.done})()}}class uI{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var n=this;return(0,he.Z)(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw n.lastTransactionError=new yt(ot.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),n.lastTransactionError;const s=yield(l=(0,he.Z)(function*(f,D){const M=jt(f),j={documents:D.map(Xe=>ru(M.serializer,Xe))},ee=yield M.vo("BatchGetDocuments",M.serializer.databaseId,Yn.emptyPath(),j,D.length),pe=new Map;ee.forEach(Xe=>{const Mt=function jd(i,e){return"found"in e?function(s,l){on(!!l.found);const c=Xa(s,l.found.name),f=is(l.found.updateTime),D=l.found.createTime?is(l.found.createTime):an.min(),M=new ws({mapValue:{fields:l.found.fields}});return pi.newFoundDocument(c,f,D,M)}(i,e):"missing"in e?function(s,l){on(!!l.missing),on(!!l.readTime);const c=Xa(s,l.missing),f=is(l.readTime);return pi.newNoDocument(c,f)}(i,e):Wt()}(M.serializer,Xe);pe.set(Mt.key.toString(),Mt)});const Ne=[];return D.forEach(Xe=>{const Mt=pe.get(Xe.toString());on(!!Mt),Ne.push(Mt)}),Ne}),function c(f,D){return l.apply(this,arguments)})(n.datastore,e);var l;return s.forEach(l=>n.recordVersion(l)),s})()}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new Rc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,he.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const n=e.readVersions;var s;e.mutations.forEach(s=>{n.delete(s.key.toString())}),n.forEach((s,l)=>{const c=Bt.fromPath(l);e.mutations.push(new Vh(c,e.precondition(c)))}),yield(s=(0,he.Z)(function*(c,f){const D=jt(c),M={writes:f.map(j=>qu(D.serializer,j))};yield D.So("Commit",D.serializer.databaseId,Yn.emptyPath(),M)}),function l(c,f){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Wt();n=an.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!n.isEqual(s))throw new yt(ot.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(an.min())?Ri.exists(!1):Ri.updateTime(n):Ri.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(an.min()))throw new yt(ot.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ri.updateTime(n)}return Ri.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class nl{constructor(e,n,s,l,c){this.asyncQueue=e,this.datastore=n,this.options=s,this.updateFunction=l,this.deferred=c,this.za=s.maxAttempts,this.jo=new Cm(this.asyncQueue,"transaction_retry")}ja(){this.za-=1,this.Ha()}Ha(){var e=this;this.jo.qo((0,he.Z)(function*(){const n=new uI(e.datastore),s=e.Ja(n);s&&s.then(l=>{e.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{e.deferred.resolve(l)}).catch(c=>{e.Ya(c)}))}).catch(l=>{e.Ya(l)})}))}Ja(e){try{const n=this.updateFunction(e);return!za(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Ya(e){this.za>0&&this.Za(e)?(this.za-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ha(),Promise.resolve()))):this.deferred.reject(e)}Za(e){if("FirebaseError"===e.name){const n=e.code;return"aborted"===n||"failed-precondition"===n||"already-exists"===n||!Mc(n)}return!1}}class Xm{constructor(e,n,s,l){var c=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=l,this.user=Gn.UNAUTHENTICATED,this.clientId=Hl.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var f=(0,he.Z)(function*(D){mt("FirestoreClient","Received user=",D.uid),yield c.authCredentialListener(D),c.user=D});return function(D){return f.apply(this,arguments)}}()),this.appCheckCredentials.start(s,f=>(mt("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new yt(ot.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new ci;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,he.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(s){const l=nd(s,"Failed to shutdown persistence");n.reject(l)}})),n.promise}}function Bf(i,e){return Hf.apply(this,arguments)}function Hf(){return Hf=(0,he.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),mt("FirestoreClient","Initializing OfflineComponentProvider");const n=i.configuration;yield e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(function(){var l=(0,he.Z)(function*(c){s.isEqual(c)||(yield V_(e.localStore,c),s=c)});return function(c){return l.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}),Hf.apply(this,arguments)}function eg(i,e){return jf.apply(this,arguments)}function jf(){return jf=(0,he.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const n=yield cd(i);mt("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>q_(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,l)=>q_(e.remoteStore,l)),i._onlineComponents=e}),jf.apply(this,arguments)}function tg(i){return"FirebaseError"===i.name?i.code===ot.FAILED_PRECONDITION||i.code===ot.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code}function cd(i){return ah.apply(this,arguments)}function ah(){return ah=(0,he.Z)(function*(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){mt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Bf(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!tg(n))throw n;vi("Error using user provided cache. Falling back to memory cache: "+n),yield Bf(i,new ld)}}else mt("FirestoreClient","Using default OfflineComponentProvider"),yield Bf(i,new ld);return i._offlineComponents}),ah.apply(this,arguments)}function ng(i){return $f.apply(this,arguments)}function $f(){return $f=(0,he.Z)(function*(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(mt("FirestoreClient","Using user provided OnlineComponentProvider"),yield eg(i,i._uninitializedComponentsProvider._online)):(mt("FirestoreClient","Using default OnlineComponentProvider"),yield eg(i,new ud))),i._onlineComponents}),$f.apply(this,arguments)}function rg(i){return cd(i).then(e=>e.persistence)}function rc(i){return cd(i).then(e=>e.localStore)}function ig(i){return ng(i).then(e=>e.remoteStore)}function lh(i){return ng(i).then(e=>e.syncEngine)}function dd(i){return sg.apply(this,arguments)}function sg(){return sg=(0,he.Z)(function*(i){const e=yield ng(i),n=e.eventManager;return n.onListen=BE.bind(null,e.syncEngine),n.onUnlisten=ey.bind(null,e.syncEngine),n}),sg.apply(this,arguments)}function cy(i,e,n={}){const s=new ci;return i.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return function(c,f,D,M,j){const ee=new Uf({next:Ne=>{f.enqueueAndForget(()=>ka(c,pe));const Xe=Ne.docs.has(D);!Xe&&Ne.fromCache?j.reject(new yt(ot.UNAVAILABLE,"Failed to get document because the client is offline.")):Xe&&Ne.fromCache&&M&&"server"===M.source?j.reject(new yt(ot.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):j.resolve(Ne)},error:Ne=>j.reject(Ne)}),pe=new Af(h(D.path),ee,{includeMetadataChanges:!0,Z_:!0});return bf(c,pe)}(yield dd(i),i.asyncQueue,e,n,s)})),s.promise}function hd(i,e,n={}){const s=new ci;return i.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return function(c,f,D,M,j){const ee=new Uf({next:Ne=>{f.enqueueAndForget(()=>ka(c,pe)),Ne.fromCache&&"server"===M.source?j.reject(new yt(ot.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):j.resolve(Ne)},error:Ne=>j.reject(Ne)}),pe=new Af(D,ee,{includeMetadataChanges:!0,Z_:!0});return bf(c,pe)}(yield dd(i),i.asyncQueue,e,n,s)})),s.promise}function py(i){const e={};return void 0!==i.timeoutSeconds&&(e.timeoutSeconds=i.timeoutSeconds),e}const my=new Map;function Wf(i,e,n){if(!n)throw new yt(ot.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function ag(i,e,n,s){if(!0===e&&!0===s)throw new yt(ot.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function fd(i){if(!Bt.isDocumentKey(i))throw new yt(ot.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function gy(i){if(Bt.isDocumentKey(i))throw new yt(ot.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function uh(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(s=i).constructor?s.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var s;return"function"==typeof i?"a function":Wt()}function _r(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new yt(ot.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=uh(i);throw new yt(ot.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function _y(i,e){if(e<=0)throw new yt(ot.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class yy{constructor(e){var n,s;if(void 0===e.host){if(void 0!==e.ssl)throw new yt(ot.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new yt(ot.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ag("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=py(null!==(s=e.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(c){if(void 0!==c.timeoutSeconds){if(isNaN(c.timeoutSeconds))throw new yt(ot.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new yt(ot.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new yt(ot.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Rl{constructor(e,n,s,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yy({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new yt(ot.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new yt(ot.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yy(e),void 0!==e.credentials&&(this._authCredentials=function(s){if(!s)return new Bl;switch(s.type){case"firstParty":return new vt(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new yt(ot.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=my.get(n);s&&(mt("ComponentProvider","Removing Datastore"),my.delete(n),s.terminate())}(this),Promise.resolve()}}class no{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new no(this.firestore,e,this._query)}}class Mi{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new il(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mi(this.firestore,e,this._key)}}class il extends no{constructor(e,n,s){super(e,n,h(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mi(this.firestore,null,new Bt(e))}withConverter(e){return new il(this.firestore,e,this._path)}}function Iy(i,e,...n){if(i=(0,V.m9)(i),Wf("collection","path",e),i instanceof Rl){const s=Yn.fromString(e,...n);return gy(s),new il(i,null,s)}{if(!(i instanceof Mi||i instanceof il))throw new yt(ot.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Yn.fromString(e,...n));return gy(s),new il(i.firestore,null,s)}}function qf(i,e,...n){if(i=(0,V.m9)(i),1===arguments.length&&(e=Hl.newId()),Wf("doc","path",e),i instanceof Rl){const s=Yn.fromString(e,...n);return fd(s),new Mi(i,null,new Bt(s))}{if(!(i instanceof Mi||i instanceof il))throw new yt(ot.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Yn.fromString(e,...n));return fd(s),new Mi(i.firestore,i instanceof il?i.converter:null,new Bt(s))}}function Ey(i,e){return i=(0,V.m9)(i),e=(0,V.m9)(e),(i instanceof Mi||i instanceof il)&&(e instanceof Mi||e instanceof il)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function Kf(i,e){return i=(0,V.m9)(i),e=(0,V.m9)(e),i instanceof no&&e instanceof no&&i.firestore===e.firestore&&Yt(i._query,e._query)&&i.converter===e.converter}class lg{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new Cm(this,"async_queue_retry"),this._u=()=>{const n=vf();n&&mt("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=vf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const n=vf();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});const n=new ci;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}cu(){var e=this;return(0,he.Z)(function*(){if(0!==e.eu.length){try{yield e.eu[0](),e.eu.shift(),e.jo.reset()}catch(n){if(!Un(n))throw n;mt("AsyncQueue","Operation failed with retryable error: "+n)}e.eu.length>0&&e.jo.qo(()=>e.cu())}})()}uu(e){const n=this.Xa.then(()=>(this.iu=!0,e().catch(s=>{throw this.ru=s,this.iu=!1,Lr("INTERNAL UNHANDLED ERROR: ",function(f){let D=f.message||"";return f.stack&&(D=f.stack.includes(f.message)?f.stack:f.message+"\n"+f.stack),D}(s)),s}).then(s=>(this.iu=!1,s))));return this.Xa=n,n}enqueueAfterDelay(e,n,s){this.au(),this.ou.indexOf(e)>-1&&(n=0);const l=Cf.createAndSchedule(this,e,n,s,c=>this.lu(c));return this.nu.push(l),l}au(){this.ru&&Wt()}verifyOperationInProgress(){}hu(){var e=this;return(0,he.Z)(function*(){let n;do{n=e.Xa,yield n}while(n!==e.Xa)})()}Pu(e){for(const n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.nu)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){const n=this.nu.indexOf(e);this.nu.splice(n,1)}}function ug(i){return function(n,s){if("object"!=typeof n||null===n)return!1;const l=n;for(const c of["next","error","complete"])if(c in l&&"function"==typeof l[c])return!0;return!1}(i)}class Zf{constructor(){this._progressObserver={},this._taskCompletionResolver=new ci,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,s){this._progressObserver={next:e,error:n,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Ii extends Rl{constructor(e,n,s,l){super(e,n,s,l),this.type="firestore",this._queue=new lg,this._persistenceKey=l?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Ty(this),this._firestoreClient.terminate()}}function ss(i){return i._firestoreClient||Ty(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Ty(i){var e,n,s;const l=i._freezeSettings(),c=(M=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new Rd(i._databaseId,M,i._persistenceKey,(ee=l).host,ee.ssl,ee.experimentalForceLongPolling,ee.experimentalAutoDetectLongPolling,py(ee.experimentalLongPollingOptions),ee.useFetchStreams));var M,ee;i._firestoreClient=new Xm(i._authCredentials,i._appCheckCredentials,i._queue,c),null!==(n=l.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(s=l.localCache)&&void 0!==s&&s._onlineComponentProvider&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:l.localCache.kind,_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider})}function cg(i,e,n){const s=new ci;return i.asyncQueue.enqueue((0,he.Z)(function*(){try{yield Bf(i,n),yield eg(i,e),s.resolve()}catch(l){const c=l;if(!tg(c))throw c;vi("Error enabling indexeddb cache. Falling back to memory cache: "+c),s.reject(c)}})).then(()=>s.promise)}function Dy(i){if(i._initialized||i._terminated)throw new yt(ot.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class bs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new bs(Ui.fromBase64String(e))}catch(n){throw new yt(ot.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new bs(Ui.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ta{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new yt(ot.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class na{constructor(e){this._methodName=e}}class sc{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new yt(ot.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new yt(ot.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return xn(this._lat,e._lat)||xn(this._long,e._long)}}const ya=/^__.*__$/;class dg{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return null!==this.fieldMask?new Ja(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ya(e,this.data,n,this.fieldTransforms)}}class oc{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Ja(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function ac(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Wt()}}class Ml{constructor(e,n,s,l,c,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=l,void 0===c&&this.Eu(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new Ml(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var n;const s=null===(n=this.path)||void 0===n?void 0:n.child(e),l=this.Au({path:s,Vu:!1});return l.mu(e),l}fu(e){var n;const s=null===(n=this.path)||void 0===n?void 0:n.child(e),l=this.Au({path:s,Vu:!1});return l.Eu(),l}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return np(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(0===e.length)throw this.pu("Document fields must not be empty");if(ac(this.du)&&ya.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class pd{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Jc(e)}Su(e,n,s,l=!1){return new Ml({du:e,methodName:n,wu:s,path:Tr.emptyPath(),Vu:!1,yu:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function va(i){const e=i._freezeSettings(),n=Jc(i._databaseId);return new pd(i._databaseId,!!e.ignoreUndefinedProperties,n)}function xl(i,e,n,s,l,c={}){const f=i.Su(c.merge||c.mergeFields?2:0,e,n,l);ch("Data must be an object, but it was:",f,s);const D=fg(s,f);let M,j;if(c.merge)M=new Qs(f.fieldMask),j=f.fieldTransforms;else if(c.mergeFields){const ee=[];for(const pe of c.mergeFields){const Ne=dh(e,pe,n);if(!f.contains(Ne))throw new yt(ot.INVALID_ARGUMENT,`Field '${Ne}' is specified in your field mask but missing from your input data.`);Ay(ee,Ne)||ee.push(Ne)}M=new Qs(ee),j=f.fieldTransforms.filter(pe=>M.covers(pe.field))}else M=null,j=f.fieldTransforms;return new dg(new ws(D),M,j)}class sl extends na{_toFieldTransform(e){if(2!==e.du)throw e.pu(1===e.du?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof sl}}function lc(i,e,n){return new Ml({du:3,wu:e.settings.wu,methodName:i._methodName,Vu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Eu extends na{_toFieldTransform(e){return new Bd(e.path,new Tl)}isEqual(e){return e instanceof Eu}}class Yf extends na{constructor(e,n){super(e),this.bu=n}_toFieldTransform(e){const n=lc(this,e,!0),s=this.bu.map(c=>Tu(c,n)),l=new Qa(s);return new Bd(e.path,l)}isEqual(e){return e instanceof Yf&&(0,V.vZ)(this.bu,e.bu)}}class Jf extends na{constructor(e,n){super(e),this.bu=n}_toFieldTransform(e){const n=lc(this,e,!0),s=this.bu.map(c=>Tu(c,n)),l=new $u(s);return new Bd(e.path,l)}isEqual(e){return e instanceof Jf&&(0,V.vZ)(this.bu,e.bu)}}class Xf extends na{constructor(e,n){super(e),this.Du=n}_toFieldTransform(e){const n=new Sc(e.serializer,Np(e.serializer,this.Du));return new Bd(e.path,n)}isEqual(e){return e instanceof Xf&&this.Du===e.Du}}function ep(i,e,n,s){const l=i.Su(1,e,n);ch("Data must be an object, but it was:",l,s);const c=[],f=ws.empty();Do(s,(M,j)=>{const ee=mg(e,M,n);j=(0,V.m9)(j);const pe=l.fu(ee);if(j instanceof sl)c.push(ee);else{const Ne=Tu(j,pe);null!=Ne&&(c.push(ee),f.set(ee,Ne))}});const D=new Qs(c);return new oc(f,D,l.fieldTransforms)}function tp(i,e,n,s,l,c){const f=i.Su(1,e,n),D=[dh(e,s,n)],M=[l];if(c.length%2!=0)throw new yt(ot.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Ne=0;Ne<c.length;Ne+=2)D.push(dh(e,c[Ne])),M.push(c[Ne+1]);const j=[],ee=ws.empty();for(let Ne=D.length-1;Ne>=0;--Ne)if(!Ay(j,D[Ne])){const Xe=D[Ne];let Mt=M[Ne];Mt=(0,V.m9)(Mt);const $t=f.fu(Xe);if(Mt instanceof sl)j.push(Xe);else{const Ut=Tu(Mt,$t);null!=Ut&&(j.push(Xe),ee.set(Xe,Ut))}}const pe=new Qs(j);return new oc(ee,pe,f.fieldTransforms)}function hg(i,e,n,s=!1){return Tu(n,i.Su(s?4:3,e))}function Tu(i,e){if(pg(i=(0,V.m9)(i)))return ch("Unsupported field value:",e,i),fg(i,e);if(i instanceof na)return function(s,l){if(!ac(l.du))throw l.pu(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.pu(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Vu&&4!==e.du)throw e.pu("Nested arrays are not supported");return function(s,l){const c=[];let f=0;for(const D of s){let M=Tu(D,l.gu(f));null==M&&(M={nullValue:"NULL_VALUE"}),c.push(M),f++}return{arrayValue:{values:c}}}(i,e)}return function(s,l){if(null===(s=(0,V.m9)(s)))return{nullValue:"NULL_VALUE"};if("number"==typeof s)return Np(l.serializer,s);if("boolean"==typeof s)return{booleanValue:s};if("string"==typeof s)return{stringValue:s};if(s instanceof Date){const c=Jr.fromDate(s);return{timestampValue:nu(l.serializer,c)}}if(s instanceof Jr){const c=new Jr(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:nu(l.serializer,c)}}if(s instanceof sc)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof bs)return{bytesValue:Qp(l.serializer,s._byteString)};if(s instanceof Mi){const c=l.databaseId,f=s.firestore._databaseId;if(!f.isEqual(c))throw l.pu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:$h(s.firestore._databaseId||l.databaseId,s._key.path)}}throw l.pu(`Unsupported field value: ${uh(s)}`)}(i,e)}function fg(i,e){const n={};return vc(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Do(i,(s,l)=>{const c=Tu(l,e.Ru(s));null!=c&&(n[s]=c)}),{mapValue:{fields:n}}}function pg(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Jr||i instanceof sc||i instanceof bs||i instanceof Mi||i instanceof na)}function ch(i,e,n){if(!pg(n)||"object"!=typeof(l=n)||null===l||Object.getPrototypeOf(l)!==Object.prototype&&null!==Object.getPrototypeOf(l)){const s=uh(n);throw e.pu("an object"===s?i+" a custom object":i+" "+s)}var l}function dh(i,e,n){if((e=(0,V.m9)(e))instanceof ta)return e._internalPath;if("string"==typeof e)return mg(i,e);throw np("Field path arguments must be of type string or ",i,!1,void 0,n)}const WE=new RegExp("[~\\*/\\[\\]]");function mg(i,e,n){if(e.search(WE)>=0)throw np(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new ta(...e.split("."))._internalPath}catch{throw np(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function np(i,e,n,s,l){const c=s&&!s.isEmpty(),f=void 0!==l;let D=`Function ${e}() called with invalid data`;n&&(D+=" (via `toFirestore()`)"),D+=". ";let M="";return(c||f)&&(M+=" (found",c&&(M+=` in field ${s}`),f&&(M+=` in document ${l}`),M+=")"),new yt(ot.INVALID_ARGUMENT,D+i+M)}function Ay(i,e){return i.some(n=>n.isEqual(e))}class rp{constructor(e,n,s,l,c){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Mi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new yI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(gg("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class yI extends rp{data(){return super.data()}}function gg(i,e){return"string"==typeof e?mg(i,e):e instanceof ta?e._internalPath:e._delegate._internalPath}function Sy(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new yt(ot.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _g{}class hh extends _g{}function ol(i,e,...n){let s=[];e instanceof _g&&s.push(e),s=s.concat(n),function(c){const f=c.filter(M=>M instanceof Nl).length,D=c.filter(M=>M instanceof Ol).length;if(f>1||f>0&&D>0)throw new yt(ot.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const l of s)i=l._apply(i);return i}class Ol extends hh{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Ol(e,n,s)}_apply(e){const n=this._parse(e);return My(e._query,n),new no(e.firestore,e.converter,st(e._query,n))}_parse(e){const n=va(e.firestore);return function(c,f,D,M,j,ee,pe){let Ne;if(j.isKeyField()){if("array-contains"===ee||"array-contains-any"===ee)throw new yt(ot.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ee}' queries on documentId().`);if("in"===ee||"not-in"===ee){lp(pe,ee);const Xe=[];for(const Mt of pe)Xe.push(Ry(M,c,Mt));Ne={arrayValue:{values:Xe}}}else Ne=Ry(M,c,pe)}else"in"!==ee&&"not-in"!==ee&&"array-contains-any"!==ee||lp(pe,ee),Ne=hg(D,"where",pe,"in"===ee||"not-in"===ee);return wr.create(j,ee,Ne)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}class Nl extends _g{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Nl(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===n.length?n[0]:Wr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(l,c){let f=l;const D=c.getFlattenedFilters();for(const M of D)My(f,M),f=st(f,M)}(e._query,n),new no(e.firestore,e.converter,st(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class sp extends hh{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new sp(e,n)}_apply(e){const n=function(l,c,f){if(null!==l.startAt)throw new yt(ot.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==l.endAt)throw new yt(ot.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ka(c,f)}(e._query,this._field,this._direction);return new no(e.firestore,e.converter,function(l,c){const f=l.explicitOrderBy.concat([c]);return new Za(l.path,l.collectionGroup,f,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(e._query,n))}}class wu extends hh{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new wu(e,n,s)}_apply(e){return new no(e.firestore,e.converter,It(e._query,this._limit,this._limitType))}}class op extends hh{constructor(e,n,s){super(),this.type=e,this._docOrFields=n,this._inclusive=s}static _create(e,n,s){return new op(e,n,s)}_apply(e){const n=Py(e,this.type,this._docOrFields,this._inclusive);return new no(e.firestore,e.converter,(c=n,new Za((l=e._query).path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,c,l.endAt)));var l,c}}class uc extends hh{constructor(e,n,s){super(),this.type=e,this._docOrFields=n,this._inclusive=s}static _create(e,n,s){return new uc(e,n,s)}_apply(e){const n=Py(e,this.type,this._docOrFields,this._inclusive);return new no(e.firestore,e.converter,(c=n,new Za((l=e._query).path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,c)));var l,c}}function Py(i,e,n,s){if(n[0]=(0,V.m9)(n[0]),n[0]instanceof rp)return function(c,f,D,M,j){if(!M)throw new yt(ot.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${D}().`);const ee=[];for(const pe of W(c))if(pe.field.isKeyField())ee.push(ql(f,M.key));else{const Ne=M.data.field(pe.field);if(ca(Ne))throw new yt(ot.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+pe.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ne){const Xe=pe.field.canonicalString();throw new yt(ot.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Xe}' (used as the orderBy) does not exist.`)}ee.push(Ne)}return new ls(ee,j)}(i._query,i.firestore._databaseId,e,n[0]._document,s);{const l=va(i.firestore);return function(f,D,M,j,ee,pe){const Ne=f.explicitOrderBy;if(ee.length>Ne.length)throw new yt(ot.INVALID_ARGUMENT,`Too many arguments provided to ${j}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Xe=[];for(let Mt=0;Mt<ee.length;Mt++){const $t=ee[Mt];if(Ne[Mt].field.isKeyField()){if("string"!=typeof $t)throw new yt(ot.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${j}(), but got a ${typeof $t}`);if(!C(f)&&-1!==$t.indexOf("/"))throw new yt(ot.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${j}() must be a plain document ID, but '${$t}' contains a slash.`);const Ut=f.path.child(Yn.fromString($t));if(!Bt.isDocumentKey(Ut))throw new yt(ot.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${j}() must result in a valid document path, but '${Ut}' is not because it contains an odd number of segments.`);const yn=new Bt(Ut);Xe.push(ql(D,yn))}else{const Ut=hg(M,j,$t);Xe.push(Ut)}}return new ls(Xe,pe)}(i._query,i.firestore._databaseId,l,e,n,s)}}function Ry(i,e,n){if("string"==typeof(n=(0,V.m9)(n))){if(""===n)throw new yt(ot.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!C(e)&&-1!==n.indexOf("/"))throw new yt(ot.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(Yn.fromString(n));if(!Bt.isDocumentKey(s))throw new yt(ot.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return ql(i,new Bt(s))}if(n instanceof Mi)return ql(i,n._key);throw new yt(ot.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${uh(n)}.`)}function lp(i,e){if(!Array.isArray(i)||0===i.length)throw new yt(ot.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function My(i,e){const n=function(l,c){for(const f of l)for(const D of f.getFlattenedFilters())if(c.indexOf(D.op)>=0)return D.op;return null}(i.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new yt(ot.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Eg{convertValue(e,n="none"){switch(da(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Uo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Wt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Do(e,(l,c)=>{s[l]=this.convertValue(c,n)}),s}convertGeoPoint(e){return new sc(Pi(e.latitude),Pi(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Wl(e);return null==s?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(ts(e));default:return null}}convertTimestamp(e){const n=ua(e);return new Jr(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Yn.fromString(e);on(T_(s));const l=new Oa(s.get(1),s.get(3)),c=new Bt(s.popFirst(5));return l.isEqual(n)||Lr(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}function up(i,e,n){let s;return s=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,s}class xy extends Eg{constructor(e){super(),this.firestore=e}convertBytes(e){return new bs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Mi(this.firestore,null,n)}}class Cu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Va extends rp{constructor(e,n,s,l,c,f){super(e,n,s,l,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new cc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(gg("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class cc extends Va{data(e={}){return super.data(e)}}class bu{constructor(e,n,s,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new Cu(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new cc(this._firestore,this._userDataWriter,s.key,s,new Cu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new yt(ot.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(l,c){if(l._snapshot.oldDocs.isEmpty()){let f=0;return l._snapshot.docChanges.map(D=>({type:"added",doc:new cc(l._firestore,l._userDataWriter,D.doc.key,D.doc,new Cu(l._snapshot.mutatedKeys.has(D.doc.key),l._snapshot.fromCache),l.query.converter),oldIndex:-1,newIndex:f++}))}{let f=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(D=>c||3!==D.type).map(D=>{const M=new cc(l._firestore,l._userDataWriter,D.doc.key,D.doc,new Cu(l._snapshot.mutatedKeys.has(D.doc.key),l._snapshot.fromCache),l.query.converter);let j=-1,ee=-1;return 0!==D.type&&(j=f.indexOf(D.doc.key),f=f.delete(D.doc.key)),1!==D.type&&(f=f.add(D.doc),ee=f.indexOf(D.doc.key)),{type:cp(D.type),doc:M,oldIndex:j,newIndex:ee}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function cp(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Wt()}}function fh(i,e){return i instanceof Va&&e instanceof Va?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof bu&&e instanceof bu&&i._firestore===e._firestore&&Kf(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}class Ll extends Eg{constructor(e){super(),this.firestore=e}convertBytes(e){return new bs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Mi(this.firestore,null,n)}}function fp(i,e,n){i=_r(i,Mi);const s=_r(i.firestore,Ii),l=up(i.converter,e,n);return dc(s,[xl(va(s),"setDoc",i._key,l,null!==i.converter,n).toMutation(i._key,Ri.none())])}function wg(i,e,n,...s){i=_r(i,Mi);const l=_r(i.firestore,Ii),c=va(l);let f;return f="string"==typeof(e=(0,V.m9)(e))||e instanceof ta?tp(c,"updateDoc",i._key,e,n,s):ep(c,"updateDoc",i._key,e),dc(l,[f.toMutation(i._key,Ri.exists(!0))])}function Cg(i,...e){var n,s,l;i=(0,V.m9)(i);let c={includeMetadataChanges:!1},f=0;"object"!=typeof e[f]||ug(e[f])||(c=e[f],f++);const D={includeMetadataChanges:c.includeMetadataChanges};if(ug(e[f])){const pe=e[f];e[f]=null===(n=pe.next)||void 0===n?void 0:n.bind(pe),e[f+1]=null===(s=pe.error)||void 0===s?void 0:s.bind(pe),e[f+2]=null===(l=pe.complete)||void 0===l?void 0:l.bind(pe)}let M,j,ee;if(i instanceof Mi)j=_r(i.firestore,Ii),ee=h(i._key.path),M={next:pe=>{e[f]&&e[f](ph(j,i,pe))},error:e[f+1],complete:e[f+2]};else{const pe=_r(i,no);j=_r(pe.firestore,Ii),ee=pe._query;const Ne=new Ll(j);M={next:Xe=>{e[f]&&e[f](new bu(j,Ne,pe,Xe))},error:e[f+1],complete:e[f+2]},Sy(i._query)}return function(Ne,Xe,Mt,$t){const Ut=new Uf($t),yn=new Af(Xe,Ut,Mt);return Ne.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return bf(yield dd(Ne),yn)})),()=>{Ut.La(),Ne.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return ka(yield dd(Ne),yn)}))}}(ss(j),ee,D,M)}function dc(i,e){return function(s,l){const c=new ci;return s.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return function HE(i,e,n){return sd.apply(this,arguments)}(yield lh(s),l,c)})),c.promise}(ss(i),e)}function ph(i,e,n){const s=n.docs.get(e._key),l=new Ll(i);return new Va(i,l,e._key,s,new Cu(n.hasPendingWrites,n.fromCache),e.converter)}const Uy={maxAttempts:5};class Ag{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=va(e)}set(e,n,s){this._verifyNotCommitted();const l=kl(e,this._firestore),c=up(l.converter,n,s),f=xl(this._dataReader,"WriteBatch.set",l._key,c,null!==l.converter,s);return this._mutations.push(f.toMutation(l._key,Ri.none())),this}update(e,n,s,...l){this._verifyNotCommitted();const c=kl(e,this._firestore);let f;return f="string"==typeof(n=(0,V.m9)(n))||n instanceof ta?tp(this._dataReader,"WriteBatch.update",c._key,n,s,l):ep(this._dataReader,"WriteBatch.update",c._key,n),this._mutations.push(f.toMutation(c._key,Ri.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=kl(e,this._firestore);return this._mutations=this._mutations.concat(new Rc(n._key,Ri.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new yt(ot.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function kl(i,e){if((i=(0,V.m9)(i)).firestore!==e)throw new yt(ot.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class By extends class{constructor(n,s){this._firestore=n,this._transaction=s,this._dataReader=va(n)}get(n){const s=kl(n,this._firestore),l=new xy(this._firestore);return this._transaction.lookup([s._key]).then(c=>{if(!c||1!==c.length)return Wt();const f=c[0];if(f.isFoundDocument())return new rp(this._firestore,l,f.key,f,s.converter);if(f.isNoDocument())return new rp(this._firestore,l,s._key,null,s.converter);throw Wt()})}set(n,s,l){const c=kl(n,this._firestore),f=up(c.converter,s,l),D=xl(this._dataReader,"Transaction.set",c._key,f,null!==c.converter,l);return this._transaction.set(c._key,D),this}update(n,s,l,...c){const f=kl(n,this._firestore);let D;return D="string"==typeof(s=(0,V.m9)(s))||s instanceof ta?tp(this._dataReader,"Transaction.update",f._key,s,l,c):ep(this._dataReader,"Transaction.update",f._key,s),this._transaction.update(f._key,D),this}delete(n){const s=kl(n,this._firestore);return this._transaction.delete(s._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=kl(e,this._firestore),s=new Ll(this._firestore);return super.get(e).then(l=>new Va(this._firestore,s,n._key,l._document,new Cu(!1,!1),n.converter))}}function Mg(i,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new yt("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return e}function xg(){if(typeof Uint8Array>"u")throw new yt("unimplemented","Uint8Arrays are not available in this environment.")}function Og(){if(!function Pd(){return typeof atob<"u"}())throw new yt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,n=!0){cs=b.SDK_VERSION,(0,b._registerComponent)(new z.wA("firestore",(s,{instanceIdentifier:l,options:c})=>{const f=s.getProvider("app").getImmediate(),D=new Ii(new vd(s.getProvider("auth-internal")),new mc(s.getProvider("app-check-internal")),function(j,ee){if(!Object.prototype.hasOwnProperty.apply(j.options,["projectId"]))throw new yt(ot.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Oa(j.options.projectId,ee)}(f,l),f);return c=Object.assign({useFetchStreams:n},c),D._setSettings(c),D},"PUBLIC").setMultipleInstances(!0)),(0,b.registerVersion)(xs,"4.4.1",e),(0,b.registerVersion)(xs,"4.4.1","esm2017")}();class al{constructor(e){this._delegate=e}static fromBase64String(e){return Og(),new al(bs.fromBase64String(e))}static fromUint8Array(e){return xg(),new al(bs.fromUint8Array(e))}toBase64(){return Og(),this._delegate.toBase64()}toUint8Array(){return xg(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Ng(i){return function HI(i,e){if("object"!=typeof i||null===i)return!1;const n=i;for(const s of e)if(s in n&&"function"==typeof n[s])return!0;return!1}(i,["next","error","complete"])}class Wy{enableIndexedDbPersistence(e,n){return function pI(i,e){Dy(i=_r(i,Ii));const n=ss(i);if(n._uninitializedComponentsProvider)throw new yt(ot.FAILED_PRECONDITION,"SDK cache is already specified.");vi("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const s=i._freezeSettings(),l=new ud;return cg(n,l,new Jm(l,s.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return function wy(i){Dy(i=_r(i,Ii));const e=ss(i);if(e._uninitializedComponentsProvider)throw new yt(ot.FAILED_PRECONDITION,"SDK cache is already specified.");vi("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=i._freezeSettings(),s=new ud;return cg(e,s,new Vf(s,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function mI(i){if(i._initialized&&!i._terminated)throw new yt(ot.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ci;return i._queue.enqueueAndForgetEvenWhileRestricted((0,he.Z)(function*(){try{yield(n=(0,he.Z)(function*(l){if(!Qe.D())return Promise.resolve();const c=l+"main";yield Qe.delete(c)}),function s(l){return n.apply(this,arguments)})(Kd(i._databaseId,i._persistenceKey)),e.resolve()}catch(n){e.reject(n)}var n})),e.promise}(e._delegate)}}class qy{constructor(e,n,s){this._delegate=n,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},e instanceof Oa||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&vi("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},n),e)).merge,this._delegate._setSettings(e)}useEmulator(e,n,s={}){!function vy(i,e,n,s={}){var l;const c=(i=_r(i,Rl))._getSettings(),f=`${e}:${n}`;if("firestore.googleapis.com"!==c.host&&c.host!==f&&vi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},c),{host:f,ssl:!1})),s.mockUserToken){let D,M;if("string"==typeof s.mockUserToken)D=s.mockUserToken,M=Gn.MOCK_USER;else{D=(0,V.Sg)(s.mockUserToken,null===(l=i._app)||void 0===l?void 0:l.options.projectId);const j=s.mockUserToken.sub||s.mockUserToken.user_id;if(!j)throw new yt(ot.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");M=new Gn(j)}i._authCredentials=new Au(new pc(D,M))}}(this._delegate,e,n,s)}enableNetwork(){return function Cy(i){return function og(i){return i.asyncQueue.enqueue((0,he.Z)(function*(){const e=yield rg(i),n=yield ig(i);return e.setNetworkEnabled(!0),function(l){const c=jt(l);return c.v_.delete(0),Xc(c)}(n)}))}(ss(i=_r(i,Ii)))}(this._delegate)}disableNetwork(){return function by(i){return function cI(i){return i.asyncQueue.enqueue((0,he.Z)(function*(){const e=yield rg(i),n=yield ig(i);return e.setNetworkEnabled(!1),(s=(0,he.Z)(function*(c){const f=jt(c);f.v_.add(0),yield ed(f),f.x_.set("Offline")}),function l(c){return s.apply(this,arguments)})(n);var s}))}(ss(i=_r(i,Ii)))}(this._delegate)}enablePersistence(e){let n=!1,s=!1;return e&&(n=!!e.synchronizeTabs,s=!!e.experimentalForceOwningTab,ag("synchronizeTabs",n,"experimentalForceOwningTab",s)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function GE(i){return function(n){const s=new ci;return n.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return function iy(i,e){return jm.apply(this,arguments)}(yield lh(n),s)})),s.promise}(ss(i=_r(i,Ii)))}(this._delegate)}onSnapshotsInSync(e){return function bg(i,e){return function dy(i,e){const n=new Uf(e);return i.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return l=yield dd(i),c=n,jt(l).K_.add(c),void c.next();var l,c})),()=>{n.La(),i.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return l=yield dd(i),c=n,void jt(l).K_.delete(c);var l,c}))}}(ss(i=_r(i,Ii)),ug(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new yt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new _d(this,Iy(this._delegate,e))}catch(n){throw mo(n,"collection()","Firestore.collection()")}}doc(e){try{return new Ia(this,qf(this._delegate,e))}catch(n){throw mo(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new go(this,function hI(i,e){if(i=_r(i,Rl),Wf("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new yt(ot.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new no(i,null,(s=e,new Za(Yn.emptyPath(),s)));var s}(this._delegate,e))}catch(n){throw mo(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function Hy(i,e,n){i=_r(i,Ii);const s=Object.assign(Object.assign({},Uy),n);return function(c){if(c.maxAttempts<1)throw new yt(ot.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(c,f,D){const M=new ci;return c.asyncQueue.enqueueAndForget((0,he.Z)(function*(){const j=yield function rl(i){return ng(i).then(e=>e.datastore)}(c);new nl(c.asyncQueue,j,D,f,M).ja()})),M.promise}(ss(i),l=>e(new By(i,l)),s)}(this._delegate,n=>e(new Lg(this,n)))}batch(){return ss(this._delegate),new _p(new Ag(this._delegate,e=>dc(this._delegate,e)))}loadBundle(e){return function Qf(i,e){const n=ss(i=_r(i,Ii)),s=new Zf;return function Gf(i,e,n,s){const l=function(f,D){let M;return M="string"==typeof f?zp().encode(f):f,ee=function(ee,pe){if(ee instanceof Uint8Array)return ly(ee,void 0);if(ee instanceof ArrayBuffer)return ly(new Uint8Array(ee),void 0);if(ee instanceof ReadableStream)return ee.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(M),new lI(ee,D);var ee}(n,Jc(e));i.asyncQueue.enqueueAndForget((0,he.Z)(function*(){!function oI(i,e,n){const s=jt(i);var l;(l=(0,he.Z)(function*(f,D,M){try{const j=yield D.getMetadata();if(yield function(Mt,$t){const Ut=jt(Mt),yn=is($t.createTime);return Ut.persistence.runTransaction("hasNewerBundle","readonly",qn=>Ut.$r.getBundleMetadata(qn,$t.id)).then(qn=>!!qn&&qn.createTime.compareTo(yn)>=0)}(f.localStore,j))return yield D.close(),M._completeWith({taskState:"Success",documentsLoaded:(Mt=j).totalDocuments,bytesLoaded:Mt.totalBytes,totalDocuments:Mt.totalDocuments,totalBytes:Mt.totalBytes}),Promise.resolve(new Set);M._updateProgress(Vm(j));const ee=new Sf(j,f.localStore,D.serializer);let pe=yield D.Oa();for(;pe;){const Xe=yield ee.na(pe);Xe&&M._updateProgress(Xe),pe=yield D.Oa()}const Ne=yield ee.complete();return yield Fa(f,Ne.sa,void 0),yield function(Mt,$t){const Ut=jt(Mt);return Ut.persistence.runTransaction("Save bundle","readwrite",yn=>Ut.$r.saveBundleMetadata(yn,$t))}(f.localStore,j),M._completeWith(Ne.progress),Promise.resolve(Ne.ia)}catch(j){return vi("SyncEngine",`Loading bundle failed with ${j}`),M._failWith(j),Promise.resolve(new Set)}var Mt}),function c(f,D,M){return l.apply(this,arguments)})(s,e,n).then(l=>{s.sharedClientState.notifyBundleLoaded(l)})}(yield lh(i),l,s)}))}(n,i._databaseId,e,s),s}(this._delegate,e)}namedQuery(e){return function gI(i,e){return function jE(i,e){return i.asyncQueue.enqueue((0,he.Z)(function*(){return function(s,l){const c=jt(s);return c.persistence.runTransaction("Get named query","readonly",f=>c.$r.getNamedQuery(f,l))}(yield rc(i),e)}))}(ss(i=_r(i,Ii)),e).then(n=>n?new no(i,null,n.query):null)}(this._delegate,e).then(n=>n?new go(this,n):null)}}class mh extends Eg{constructor(e){super(),this.firestore=e}convertBytes(e){return new al(new bs(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return Ia.forKey(n,this.firestore,null)}}class Lg{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new mh(e)}get(e){const n=hc(e);return this._delegate.get(n).then(s=>new Po(this._firestore,new Va(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,n.converter)))}set(e,n,s){const l=hc(e);return s?(Mg("Transaction.set",s),this._delegate.set(l,n,s)):this._delegate.set(l,n),this}update(e,n,s,...l){const c=hc(e);return 2===arguments.length?this._delegate.update(c,n):this._delegate.update(c,n,s,...l),this}delete(e){const n=hc(e);return this._delegate.delete(n),this}}class _p{constructor(e){this._delegate=e}set(e,n,s){const l=hc(e);return s?(Mg("WriteBatch.set",s),this._delegate.set(l,n,s)):this._delegate.set(l,n),this}update(e,n,s,...l){const c=hc(e);return 2===arguments.length?this._delegate.update(c,n):this._delegate.update(c,n,s,...l),this}delete(e){const n=hc(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class po{constructor(e,n,s){this._firestore=e,this._userDataWriter=n,this._delegate=s}fromFirestore(e,n){const s=new cc(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new gd(this._firestore,s),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const s=po.INSTANCES;let l=s.get(e);l||(l=new WeakMap,s.set(e,l));let c=l.get(n);return c||(c=new po(e,new mh(e),n),l.set(n,c)),c}}po.INSTANCES=new WeakMap;class Ia{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new mh(e)}static forPath(e,n,s){if(e.length%2!=0)throw new yt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ia(n,new Mi(n._delegate,s,new Bt(e)))}static forKey(e,n,s){return new Ia(n,new Mi(n._delegate,s,e))}get id(){return this._delegate.id}get parent(){return new _d(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new _d(this.firestore,Iy(this._delegate,e))}catch(n){throw mo(n,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,V.m9)(e))instanceof Mi&&Ey(this._delegate,e)}set(e,n){n=Mg("DocumentReference.set",n);try{return n?fp(this._delegate,e,n):fp(this._delegate,e)}catch(s){throw mo(s,"setDoc()","DocumentReference.set()")}}update(e,n,...s){try{return 1===arguments.length?wg(this._delegate,e):wg(this._delegate,e,n,...s)}catch(l){throw mo(l,"updateDoc()","DocumentReference.update()")}}delete(){return function RI(i){return dc(_r(i.firestore,Ii),[new Rc(i._key,Ri.none())])}(this._delegate)}onSnapshot(...e){const n=Ua(e),s=Ea(e,l=>new Po(this.firestore,new Va(this.firestore._delegate,this._userDataWriter,l._key,l._document,l.metadata,this._delegate.converter)));return Cg(this._delegate,n,s)}get(e){let n;return n="cache"===e?.source?function AI(i){i=_r(i,Mi);const e=_r(i.firestore,Ii),n=ss(e),s=new Ll(e);return function uy(i,e){const n=new ci;return i.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return(s=(0,he.Z)(function*(c,f,D){try{const M=yield function(ee,pe){const Ne=jt(ee);return Ne.persistence.runTransaction("read document","readonly",Xe=>Ne.localDocuments.getDocument(Xe,pe))}(c,f);M.isFoundDocument()?D.resolve(M):M.isNoDocument()?D.resolve(null):D.reject(new yt(ot.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(M){const j=nd(M,`Failed to get document '${f} from cache`);D.reject(j)}}),function l(c,f,D){return s.apply(this,arguments)})(yield rc(i),e,n);var s})),n.promise}(n,i._key).then(l=>new Va(e,s,i._key,l,new Cu(null!==l&&l.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===e?.source?function SI(i){i=_r(i,Mi);const e=_r(i.firestore,Ii);return cy(ss(e),i._key,{source:"server"}).then(n=>ph(e,i,n))}(this._delegate):function Tg(i){i=_r(i,Mi);const e=_r(i.firestore,Ii);return cy(ss(e),i._key).then(n=>ph(e,i,n))}(this._delegate),n.then(s=>new Po(this.firestore,new Va(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(e){return new Ia(this.firestore,this._delegate.withConverter(e?po.getInstance(this.firestore,e):null))}}function mo(i,e,n){return i.message=i.message.replace(e,n),i}function Ua(i){for(const e of i)if("object"==typeof e&&!Ng(e))return e;return{}}function Ea(i,e){var n,s;let l;return l=Ng(i[0])?i[0]:Ng(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:c=>{l.next&&l.next(e(c))},error:null===(n=l.error)||void 0===n?void 0:n.bind(l),complete:null===(s=l.complete)||void 0===s?void 0:s.bind(l)}}class Po{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new Ia(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return fh(this._delegate,e._delegate)}}class gd extends Po{data(e){const n=this._delegate.data(e);return this._delegate._converter||function Zo(i,e){i||Wt()}(void 0!==n),n}}class go{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new mh(e)}where(e,n,s){try{return new go(this.firestore,ol(this._delegate,function yg(i,e,n){const s=e,l=gg("where",i);return Ol._create(l,s,n)}(e,n,s)))}catch(l){throw mo(l,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new go(this.firestore,ol(this._delegate,function II(i,e="asc"){const n=e,s=gg("orderBy",i);return sp._create(s,n)}(e,n)))}catch(s){throw mo(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new go(this.firestore,ol(this._delegate,function EI(i){return _y("limit",i),wu._create("limit",i,"F")}(e)))}catch(n){throw mo(n,"limit()","Query.limit()")}}limitToLast(e){try{return new go(this.firestore,ol(this._delegate,function TI(i){return _y("limitToLast",i),wu._create("limitToLast",i,"L")}(e)))}catch(n){throw mo(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new go(this.firestore,ol(this._delegate,function wI(...i){return op._create("startAt",i,!0)}(...e)))}catch(n){throw mo(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new go(this.firestore,ol(this._delegate,function vg(...i){return op._create("startAfter",i,!1)}(...e)))}catch(n){throw mo(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new go(this.firestore,ol(this._delegate,function ap(...i){return uc._create("endBefore",i,!1)}(...e)))}catch(n){throw mo(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new go(this.firestore,ol(this._delegate,function qE(...i){return uc._create("endAt",i,!0)}(...e)))}catch(n){throw mo(n,"endAt()","Query.endAt()")}}isEqual(e){return Kf(this._delegate,e._delegate)}get(e){let n;return n="cache"===e?.source?function dp(i){i=_r(i,no);const e=_r(i.firestore,Ii),n=ss(e),s=new Ll(e);return function zf(i,e){const n=new ci;return i.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return(s=(0,he.Z)(function*(c,f,D){try{const M=yield Wc(c,f,!0),j=new Q_(f,M.hs),ee=j.ha(M.documents),pe=j.applyChanges(ee,!1);D.resolve(pe.snapshot)}catch(M){const j=nd(M,`Failed to execute query '${f} against cache`);D.reject(j)}}),function l(c,f,D){return s.apply(this,arguments)})(yield rc(i),e,n);var s})),n.promise}(n,i._query).then(l=>new bu(e,s,i,l))}(this._delegate):"server"===e?.source?function hp(i){i=_r(i,no);const e=_r(i.firestore,Ii),n=ss(e),s=new Ll(e);return hd(n,i._query,{source:"server"}).then(l=>new bu(e,s,i,l))}(this._delegate):function PI(i){i=_r(i,no);const e=_r(i.firestore,Ii),n=ss(e),s=new Ll(e);return Sy(i._query),hd(n,i._query).then(l=>new bu(e,s,i,l))}(this._delegate),n.then(s=>new kg(this.firestore,new bu(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...e){const n=Ua(e),s=Ea(e,l=>new kg(this.firestore,new bu(this.firestore._delegate,this._userDataWriter,this._delegate,l._snapshot)));return Cg(this._delegate,n,s)}withConverter(e){return new go(this.firestore,this._delegate.withConverter(e?po.getInstance(this.firestore,e):null))}}class jI{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new gd(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class kg{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new go(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new gd(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new jI(this._firestore,n))}forEach(e,n){this._delegate.forEach(s=>{e.call(n,new gd(this._firestore,s))})}isEqual(e){return fh(this._delegate,e._delegate)}}class _d extends go{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ia(this.firestore,e):null}doc(e){try{return new Ia(this.firestore,void 0===e?qf(this._delegate):qf(this._delegate,e))}catch(n){throw mo(n,"doc()","CollectionReference.doc()")}}add(e){return function MI(i,e){const n=_r(i.firestore,Ii),s=qf(i),l=up(i.converter,e);return dc(n,[xl(va(i.firestore),"addDoc",s._key,l,null!==i.converter,{}).toMutation(s._key,Ri.exists(!1))]).then(()=>s)}(this._delegate,e).then(n=>new Ia(this.firestore,n))}isEqual(e){return Ey(this._delegate,e._delegate)}withConverter(e){return new _d(this.firestore,this._delegate.withConverter(e?po.getInstance(this.firestore,e):null))}}function hc(i){return _r(i,Mi)}class gh{constructor(...e){this._delegate=new ta(...e)}static documentId(){return new gh(Tr.keyField().canonicalString())}isEqual(e){return(e=(0,V.m9)(e))instanceof ta&&this._delegate._internalPath.isEqual(e._internalPath)}}class Ba{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Du(){return new Eu("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Ba(e)}static delete(){const e=function pp(){return new sl("deleteField")}();return e._methodName="FieldValue.delete",new Ba(e)}static arrayUnion(...e){const n=function VI(...i){return new Yf("arrayUnion",i)}(...e);return n._methodName="FieldValue.arrayUnion",new Ba(n)}static arrayRemove(...e){const n=function UI(...i){return new Jf("arrayRemove",i)}(...e);return n._methodName="FieldValue.arrayRemove",new Ba(n)}static increment(e){const n=function Sg(i){return new Xf("increment",i)}(e);return n._methodName="FieldValue.increment",new Ba(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const $I={Firestore:qy,GeoPoint:sc,Timestamp:Jr,Blob:al,Transaction:Lg,WriteBatch:_p,DocumentReference:Ia,DocumentSnapshot:Po,Query:go,QueryDocumentSnapshot:gd,QuerySnapshot:kg,CollectionReference:_d,FieldPath:gh,FieldValue:Ba,setLogLevel:function XE(i){!function Vo(i){bo.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};function Fg(i,e){return function Zy(i,e=ze.z){return new Ye.y(n=>{let s;return null!=e?e.schedule(()=>{s=i.onSnapshot({includeMetadataChanges:!0},n)}):s=i.onSnapshot({includeMetadataChanges:!0},n),()=>{s?.()}})}(i,e)}function Vg(i,e){return Fg(i,e).pipe((0,ae.U)(n=>({payload:n,type:"query"})))}!function zI(i){(function Ky(i,e){i.INTERNAL.registerComponent(new z.wA("firestore-compat",n=>{const s=n.getProvider("app-compat").getImmediate(),l=n.getProvider("firestore").getImmediate();return e(s,l)},"PUBLIC").setServiceProps(Object.assign({},$I)))})(i,(e,n)=>new qy(e,n,new Wy)),i.registerVersion("@firebase/firestore-compat","0.3.24")}(ye.Z),U(7142);class Ug{ref;afs;constructor(e,n){this.ref=e,this.afs=n}set(e,n){return this.ref.set(e,n)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,n){const s=this.ref.collection(e),{ref:l,query:c}=zg(s,n);return new $g(l,c,this.afs)}snapshotChanges(){return function yp(i,e){return Fg(i,e).pipe((0,rt.O)(void 0),ut(),(0,ae.U)(n=>{const[s,l]=n;return l.exists?s?.exists?{payload:l,type:"modified"}:{payload:l,type:"added"}:{payload:l,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(oe.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,ae.U)(({payload:n})=>e.idField?{...n.data(),[e.idField]:n.id}:n.data()))}get(e){return(0,lt.D)(this.ref.get(e)).pipe(oe.iC)}}function _h(i,e){return Vg(i,e).pipe((0,rt.O)(void 0),ut(),(0,ae.U)(n=>{const[s,l]=n,c=l.payload.docChanges(),f=c.map(D=>({type:D.type,payload:D}));return s&&JSON.stringify(s.payload.metadata)!==JSON.stringify(l.payload.metadata)&&l.payload.docs.forEach((D,M)=>{const j=c.find(pe=>pe.doc.ref.isEqual(D.ref)),ee=s?.payload.docs.find(pe=>pe.ref.isEqual(D.ref));j&&JSON.stringify(j.doc.metadata)===JSON.stringify(D.metadata)||!j&&ee&&JSON.stringify(ee.metadata)===JSON.stringify(D.metadata)||f.push({type:"modified",payload:{oldIndex:M,newIndex:M,type:"modified",doc:D}})}),f}))}function Bg(i,e,n){return _h(i,n).pipe((0,Me.R)((s,l)=>function GI(i,e,n){return e.forEach(s=>{n.indexOf(s.type)>-1&&(i=function jg(i,e){switch(e.type){case"added":if(!i[e.newIndex]||!i[e.newIndex].doc.ref.isEqual(e.doc.ref))return Hg(i,e.newIndex,0,e);break;case"modified":if(null==i[e.oldIndex]||i[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=i.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return Hg(i,e.newIndex,1,e)}break;case"removed":if(i[e.oldIndex]&&i[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Hg(i,e.oldIndex,1)}return i}(i,s))}),i}(s,l.map(c=>c.payload),e),[]),(0,me.x)(),(0,ae.U)(s=>s.map(l=>({type:l.type,payload:l}))))}function Hg(i,e,n,...s){const l=i.slice();return l.splice(e,n,...s),l}function yh(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}class $g{ref;query;afs;constructor(e,n,s){this.ref=e,this.query=n,this.afs=s}stateChanges(e){let n=_h(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(n=n.pipe((0,ae.U)(s=>s.filter(l=>e.indexOf(l.type)>-1)))),n.pipe((0,rt.O)(void 0),ut(),(0,ge.h)(([s,l])=>l.length>0||!s),(0,ae.U)(([,s])=>s),oe.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Me.R)((n,s)=>[...n,...s],[]))}snapshotChanges(e){const n=yh(e);return Bg(this.query,n,this.afs.schedulers.outsideAngular).pipe(oe.iC)}valueChanges(e={}){return Vg(this.query,this.afs.schedulers.outsideAngular).pipe((0,ae.U)(n=>n.payload.docs.map(s=>e.idField?{...s.data(),[e.idField]:s.id}:s.data())),oe.iC)}get(e){return(0,lt.D)(this.query.get(e)).pipe(oe.iC)}add(e){return this.ref.add(e)}doc(e){return new Ug(this.ref.doc(e),this.afs)}}class Qy{query;afs;constructor(e,n){this.query=e,this.afs=n}stateChanges(e){return e&&0!==e.length?_h(this.query,this.afs.schedulers.outsideAngular).pipe((0,ae.U)(n=>n.filter(s=>e.indexOf(s.type)>-1)),(0,ge.h)(n=>n.length>0),oe.iC):_h(this.query,this.afs.schedulers.outsideAngular).pipe(oe.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Me.R)((n,s)=>[...n,...s],[]))}snapshotChanges(e){const n=yh(e);return Bg(this.query,n,this.afs.schedulers.outsideAngular).pipe(oe.iC)}valueChanges(e={}){return Vg(this.query,this.afs.schedulers.outsideAngular).pipe((0,ae.U)(s=>s.payload.docs.map(l=>e.idField?{[e.idField]:l.id,...l.data()}:l.data())),oe.iC)}get(e){return(0,lt.D)(this.query.get(e)).pipe(oe.iC)}}const Yy=new q.OlP("angularfire2.enableFirestorePersistence"),Jy=new q.OlP("angularfire2.firestore.persistenceSettings"),Xy=new q.OlP("angularfire2.firestore.settings"),ev=new q.OlP("angularfire2.firestore.use-emulator");function zg(i,e=(n=>n)){return{query:e(i),ref:i}}let tv=(()=>{class i{schedulers;firestore;persistenceEnabled$;constructor(n,s,l,c,f,D,M,j,ee,pe,Ne,Xe,Mt,$t,Ut,yn,qn){this.schedulers=M;const mn=(0,Ee.on)(n,D,s),Kn=ee;pe&&(0,ue.nw)(mn,D,Ne,Mt,$t,Ut,Xe,yn),[this.firestore,this.persistenceEnabled$]=(0,Ee.cc)(`${mn.name}.firestore`,"AngularFirestore",mn.name,()=>{const Mr=D.runOutsideAngular(()=>mn.firestore());if(c&&Mr.settings(c),Kn&&Mr.useEmulator(...Kn),l&&!(0,X.PM)(f)){const Br=()=>{try{return(0,lt.D)(Mr.enablePersistence(j||void 0).then(()=>!0,()=>!1))}catch(os){return typeof console<"u"&&console.warn(os),(0,tt.of)(!1)}};return[Mr,D.runOutsideAngular(Br)]}return[Mr,(0,tt.of)(!1)]},[c,Kn,l])}collection(n,s){let l;l="string"==typeof n?this.firestore.collection(n):n;const{ref:c,query:f}=zg(l,s),D=this.schedulers.ngZone.run(()=>c);return new $g(D,f,this)}collectionGroup(n,s){const l=s||(f=>f),c=this.firestore.collectionGroup(n);return new Qy(l(c),this)}doc(n){let s;s="string"==typeof n?this.firestore.doc(n):n;const l=this.schedulers.ngZone.run(()=>s);return new Ug(l,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(s){return new(s||i)(q.LFG(Ee.Dh),q.LFG(Ee.xv,8),q.LFG(Yy,8),q.LFG(Xy,8),q.LFG(q.Lbi),q.LFG(q.R0b),q.LFG(oe.HU),q.LFG(Jy,8),q.LFG(ev,8),q.LFG(ue.zQ,8),q.LFG(ue.Qv,8),q.LFG(ue.L6,8),q.LFG(ue._Q,8),q.LFG(ue.rT,8),q.LFG(ue.lh,8),q.LFG(ue.f7,8),q.LFG(oe.Rf,8))};static \u0275prov=q.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"})}return i})(),WI=(()=>{class i{constructor(n,s,l){this.afAuth=n,this.router=s,this.firestore=l,this.userSubject=new J.X(null),this.user=this.userSubject.asObservable(),this.afAuth.authState.subscribe(c=>{this.userSubject.next(c)})}getUser(){return this.user}isLoggedIn(){return!!localStorage.getItem("token")}setDisplayName(n,s){const l=`${n} ${s}`;return this.afAuth.currentUser.then(c=>c?.updateProfile({displayName:l}))}signIn(n,s,l){this.afAuth.signInWithEmailAndPassword(n,s).then(c=>{c.user?.emailVerified?(""!=l?(localStorage.setItem("rememberMe","true"),localStorage.setItem("token",c.user?.uid)):(localStorage.setItem("rememberMe","false"),localStorage.removeItem("token")),this.router.navigate(["/tasks"])):c.user&&(c.user.sendEmailVerification(),this.router.navigate(["/verify-email"]))},c=>{alert(c.message),this.router.navigate(["/login"])})}register(n){this.afAuth.createUserWithEmailAndPassword(n.email,n.password).then(s=>{s.user?.updateProfile({displayName:n.userName}),this.storeAdditionalUserData(s.user?.uid,{fullName:n.fullName,username:n.userName}),s.user&&(s.user.sendEmailVerification(),this.router.navigate(["/verify-email"]))},s=>{alert(s.message)})}storeAdditionalUserData(n,s){n&&this.firestore.collection("users").doc(n).set(s,{merge:!0}).then(()=>{console.log("Additional user data stored successfully")}).catch(l=>{console.error("Error storing additional user data:",l)})}signOut(){this.afAuth.signOut().then(()=>{localStorage.removeItem("token"),this.router.navigate(["/login"])},n=>{alert(n.message)})}forgotPassword(n){this.afAuth.sendPasswordResetEmail(n).then(()=>{this.email=n,this.router.navigate(["/verify-email"])},s=>{alert(s.message)})}deleteCurrentUser(){this.afAuth.currentUser.then(n=>{n&&(n.delete(),localStorage.removeItem("token"),this.router.navigate(["/login"]))},n=>{alert(n.message)})}singInWithGoogle(){return this.afAuth.signInWithPopup(new p.X).then(n=>{const s=n.user;if(s){const[l,c]=s.displayName?.split(" ")||["",""];s.updateProfile({displayName:s.displayName,photoURL:s.photoURL}).then(()=>{localStorage.setItem("token",n.user?.uid),this.router.navigate(["/tasks"])})}},n=>{alert(n.message),this.router.navigate(["/login"])})}singInWithGithub(){return this.afAuth.signInWithPopup(new p.Y).then(n=>{const s=n.user;if(s){const[l,c]=s.displayName?.split(" ")||["",""];s.updateProfile({displayName:s.displayName,photoURL:s.photoURL}).then(()=>{localStorage.setItem("token",n.user?.uid),this.router.navigate(["/tasks"])})}},n=>{alert(n.message),this.router.navigate(["/login"])})}static#e=this.\u0275fac=function(s){return new(s||i)(q.LFG(ue.zQ),q.LFG(de.F0),q.LFG(tv))};static#t=this.\u0275prov=q.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})()},553:(xt,je,U)=>{U.d(je,{N:()=>p});const p={production:!0,firebase:{apiKey:"AIzaSyDEFnGE_jUVrWMEMuY2-bdk3TCL8PwiUxs",authDomain:"tasks-2aa20.firebaseapp.com",projectId:"tasks-2aa20",storageBucket:"tasks-2aa20.appspot.com",messagingSenderId:"289908118671",appId:"1:289908118671:web:40a2c8d77b6819feb10cfa",measurementId:"G-PRWGNQ569P"}}},3773:(xt,je,U)=>{var p=U(6593),V=U(3781),b=U(5879),Te=U(9445),z=U(6814);function J(Z,y){if(1&Z&&(b.TgZ(0,"span",6),b._uU(1,"We've sent a verification mail to "),b.TgZ(2,"strong",7),b._uU(3),b.qZA()()),2&Z){const E=b.oxw();b.xp6(3),b.Oqu(E.email)}}function q(Z,y){if(1&Z&&(b.TgZ(0,"span",6),b._uU(1,"We've sent instructions on how to reset "),b._UZ(2,"br"),b._uU(3," your password to "),b.TgZ(4,"strong",7),b._uU(5),b.qZA()()),2&Z){const E=b.oxw();b.xp6(5),b.Oqu(E.email)}}function ue(Z,y){1&Z&&(b.TgZ(0,"span",6),b._uU(1,"Please go to your mail to verify your email."),b.qZA())}let de=(()=>{class Z{constructor(E){this.authService=E,this.email=null,this.forgotPassLabel=!1}ngOnInit(){this.authService.getUser().subscribe(E=>{E?this.email=E.email:(this.email=this.authService.email,this.forgotPassLabel=!0)})}static#e=this.\u0275fac=function(x){return new(x||Z)(b.Y36(Te.e))};static#t=this.\u0275cmp=b.Xpm({type:Z,selectors:[["app-verifyemail"]],decls:10,vars:3,consts:[[1,"container"],[1,"box"],["src","assets/mail.png"],[1,"title"],["class","title1",4,"ngIf"],["href","login",1,"title2"],[1,"title1"],[1,"bold-email"]],template:function(x,Q){1&x&&(b.TgZ(0,"div",0)(1,"div",1),b._UZ(2,"img",2),b.TgZ(3,"span",3),b._uU(4,"Check your email"),b.qZA(),b.YNc(5,J,4,1,"span",4),b.YNc(6,q,6,1,"span",4),b.YNc(7,ue,2,0,"span",4),b.TgZ(8,"a",5),b._uU(9,"Verified logging in"),b.qZA()()()),2&x&&(b.xp6(5),b.Q6J("ngIf",!Q.forgotPassLabel),b.xp6(1),b.Q6J("ngIf",Q.forgotPassLabel),b.xp6(1),b.Q6J("ngIf",!Q.forgotPassLabel))},dependencies:[z.O5],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;height:100%;background-color:#cdcde1;max-width:1500px}.box[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;background-color:#fff;padding:75px 50px;border-radius:10px;box-shadow:0 0 10px #0003}.box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-bottom:10px}.title[_ngcontent-%COMP%]{font-weight:600;font-size:larger;margin-bottom:20px;color:#2b2b2b}.bold-email[_ngcontent-%COMP%]{font-weight:700;color:#2b2b2b}.title1[_ngcontent-%COMP%]{margin-bottom:2%;color:gray;font-size:14px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}.title2[_ngcontent-%COMP%]{color:#228be6;text-decoration:none;font-weight:500;margin-top:2%;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}.title2[_ngcontent-%COMP%]:hover{color:#00f}"]})}return Z})();var X=U(95);let oe=(()=>{class Z{constructor(E){this.authService=E,this.email=""}forgotPasswordMail(){this.authService.forgotPassword(this.email)}static#e=this.\u0275fac=function(x){return new(x||Z)(b.Y36(Te.e))};static#t=this.\u0275cmp=b.Xpm({type:Z,selectors:[["app-forgotpassword"]],decls:13,vars:1,consts:[[1,"container"],[1,"box"],[1,"title"],[1,"title1"],["for","email",1,"emailLabel"],["type","email","id","email","name","email","aria-describedby","email",1,"emailInput",3,"ngModel","ngModelChange"],[1,"btn",3,"click"],["href","login",1,"title2"]],template:function(x,Q){1&x&&(b.TgZ(0,"div",0)(1,"div",1)(2,"span",2),b._uU(3,"Forgot your password?"),b.qZA(),b.TgZ(4,"span",3),b._uU(5,"Your password will be reset by email."),b.qZA(),b.TgZ(6,"label",4),b._uU(7,"Enter your email address"),b.qZA(),b.TgZ(8,"input",5),b.NdJ("ngModelChange",function(Re){return Q.email=Re}),b.qZA(),b.TgZ(9,"button",6),b.NdJ("click",function(){return Q.forgotPasswordMail()}),b._uU(10,"Next"),b.qZA(),b.TgZ(11,"a",7),b._uU(12,"Back to log in"),b.qZA()()()),2&x&&(b.xp6(8),b.Q6J("ngModel",Q.email))},dependencies:[X.Fj,X.JJ,X.On],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;height:100vh;background-color:#cdcde1;max-width:1500px}.box[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;background-color:#fff;padding:45px 80px;border-radius:10px;box-shadow:0 0 10px #0003}.title[_ngcontent-%COMP%]{font-weight:600;font-size:x-large;margin-bottom:4%;color:#228be6}.btn[_ngcontent-%COMP%]{background-color:#228be6;color:#fff;margin-top:10px;height:40px;width:125%;padding:5px;border:none;border-radius:5px;cursor:pointer;margin-bottom:5%}.title1[_ngcontent-%COMP%]{margin-bottom:6%;color:gray;font-size:13px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}.emailLabel[_ngcontent-%COMP%]{color:gray;font-size:13px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;margin-bottom:3%;font-weight:500;margin-left:-167px}.emailInput[_ngcontent-%COMP%]{padding-left:1%;border-radius:5px;border:solid 1px #3a3a3a;outline:none;height:40px;width:125%;margin-bottom:4%}.title2[_ngcontent-%COMP%]{color:#228be6;text-decoration:none;font-weight:500;margin-top:2%;font-size:14px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}.title2[_ngcontent-%COMP%]:hover{color:#00f}"]})}return Z})(),Ee=(()=>{class Z{constructor(E,x){this.authService=E,this.router=x}canActivate(E,x){return this.authService.isLoggedIn()||"false"==localStorage.getItem("rememberMe")?(localStorage.removeItem("rememberMe"),!0):(this.router.navigate(["/login"]),!1)}static#e=this.\u0275fac=function(x){return new(x||Z)(b.LFG(Te.e),b.LFG(V.F0))};static#t=this.\u0275prov=b.Yz7({token:Z,factory:Z.\u0275fac,providedIn:"root"})}return Z})();const ze=["registerationForm"];function Ye(Z,y){if(1&Z){const E=b.EpF();b.TgZ(0,"i",28),b.NdJ("click",function(){b.CHM(E);const Q=b.oxw();return b.KtG(Q.togglePasswordVisibility())}),b.qZA()}}function lt(Z,y){if(1&Z){const E=b.EpF();b.TgZ(0,"i",29),b.NdJ("click",function(){b.CHM(E);const Q=b.oxw();return b.KtG(Q.togglePasswordVisibility())}),b.qZA()}}function tt(Z,y){if(1&Z){const E=b.EpF();b.TgZ(0,"i",28),b.NdJ("click",function(){b.CHM(E);const Q=b.oxw();return b.KtG(Q.toggleConfirmPasswordVisibility())}),b.qZA()}}function rt(Z,y){if(1&Z){const E=b.EpF();b.TgZ(0,"i",29),b.NdJ("click",function(){b.CHM(E);const Q=b.oxw();return b.KtG(Q.toggleConfirmPasswordVisibility())}),b.qZA()}}let it=(()=>{class Z{constructor(E,x){this.authService=E,this.router=x,this.passwordToggle=!1,this.confirmPasswordToggle=!1}ngOnInit(){}register(){this.registerationForm.valid?this.registerationForm.valid&&this.registerationForm.value.password!=this.registerationForm.value.confirmPassword?alert("Password and Confirm password does not matching"):this.registerationForm.valid&&this.registerationForm.value.password==this.registerationForm.value.confirmPassword&&this.authService.register(this.registerationForm.value):alert("Please enter your registration details")}alreadyHaveAccount(){this.router.navigate(["/login"])}togglePasswordVisibility(){const E=document.getElementById("password");"password"===E.type?(E.type="text",this.passwordToggle=!1):(E.type="password",this.passwordToggle=!0)}toggleConfirmPasswordVisibility(){const E=document.getElementById("confirmPassword");"password"===E.type?(E.type="text",this.confirmPasswordToggle=!1):(E.type="password",this.confirmPasswordToggle=!0)}static#e=this.\u0275fac=function(x){return new(x||Z)(b.Y36(Te.e),b.Y36(V.F0))};static#t=this.\u0275cmp=b.Xpm({type:Z,selectors:[["app-register"]],viewQuery:function(x,Q){if(1&x&&b.Gf(ze,5),2&x){let le;b.iGM(le=b.CRH())&&(Q.registerationForm=le.first)}},decls:40,vars:4,consts:[[1,"pleaseFillOutFormToRegister"],[3,"ngSubmit"],["registerationForm","ngForm"],["for","fullName",1,"fullName"],["type","text","id","fullName","placeholder","Full Name","name","fullName","aria-describedby","fullName","ngModel","","required","",1,"rectangle9"],["for","userName",1,"userName"],["type","text","id","userName","placeholder","User Name","name","userName","aria-describedby","userName","ngModel","","required","",1,"rectangle2"],["for","email",1,"email"],["type","email","id","email","placeholder","Email","name","email","aria-describedby","email","ngModel","","required","",1,"rectangle10"],["for","password",1,"password"],[1,"rectangle3"],["type","password","id","password","placeholder","Password","id","password","name","password","ngModel","","required",""],[1,"passwordIcon"],["class","bx bx-show",3,"click",4,"ngIf"],["class","bx bx-hide",3,"click",4,"ngIf"],["for","confirmPassword",1,"confirmPassword"],[1,"rectangle8"],["type","password","id","confirmPassword","placeholder","Password","id","confirmPassword","name","confirmPassword","ngModel","","required",""],[1,"rectangle4"],["type","submit",1,"register"],[1,"yesIHaveAnAccountLogin"],[1,"labelWrapper"],[1,"label"],["href","login",1,"label2"],[1,"label3"],[1,"rectangle6"],[1,"rectangle7"],[1,"pc-reg"],[1,"bx","bx-show",3,"click"],[1,"bx","bx-hide",3,"click"]],template:function(x,Q){1&x&&(b.TgZ(0,"div",0),b._uU(1,"Please Fill out form to Register!"),b.qZA(),b.TgZ(2,"form",1,2),b.NdJ("ngSubmit",function(){return Q.register()}),b.TgZ(4,"label",3),b._uU(5,"Full name:"),b.qZA(),b._UZ(6,"input",4),b.TgZ(7,"label",5),b._uU(8,"Username:"),b.qZA(),b._UZ(9,"input",6),b.TgZ(10,"label",7),b._uU(11,"Email:"),b.qZA(),b._UZ(12,"input",8),b.TgZ(13,"label",9),b._uU(14,"Password:"),b.qZA(),b.TgZ(15,"div",10),b._UZ(16,"input",11),b.TgZ(17,"div",12),b.YNc(18,Ye,1,0,"i",13),b.YNc(19,lt,1,0,"i",14),b.qZA()(),b.TgZ(20,"label",15),b._uU(21,"Confirm Password:"),b.qZA(),b.TgZ(22,"div",16),b._UZ(23,"input",17),b.TgZ(24,"div",12),b.YNc(25,tt,1,0,"i",13),b.YNc(26,rt,1,0,"i",14),b.qZA()(),b._UZ(27,"div",18),b.TgZ(28,"button",19),b._uU(29,"Register"),b.qZA()(),b.TgZ(30,"div",20)(31,"p",21)(32,"span",22),b._uU(33,"Yes i have an account?"),b.qZA(),b.TgZ(34,"a",23),b._uU(35,"Login"),b.qZA(),b._UZ(36,"span",24),b.qZA()(),b._UZ(37,"div",25)(38,"div",26)(39,"div",27)),2&x&&(b.xp6(18),b.Q6J("ngIf",Q.passwordToggle),b.xp6(1),b.Q6J("ngIf",!Q.passwordToggle),b.xp6(6),b.Q6J("ngIf",Q.confirmPasswordToggle),b.xp6(1),b.Q6J("ngIf",!Q.confirmPasswordToggle))},dependencies:[z.O5,X._Y,X.Fj,X.JJ,X.JL,X.Q7,X.On,X.F],styles:['[_nghost-%COMP%], *[_ngcontent-%COMP%]{box-sizing:border-box;margin:0;padding:0;background:none;border:none;flex-shrink:0;text-decoration:none;min-width:0;overflow-wrap:anywhere}[_nghost-%COMP%], [_ngcontent-%COMP%]:not(span, a[_ngcontent-%COMP%], ul[_ngcontent-%COMP%], ol[_ngcontent-%COMP%], li[_ngcontent-%COMP%], p)[_ngcontent-%COMP%]{display:flex}ul[_ngcontent-%COMP%], ol[_ngcontent-%COMP%]{text-indent:0;padding-inline-start:1.5em}p[_ngcontent-%COMP%]:empty:before{content:"";display:inline-block}img[_ngcontent-%COMP%]{object-fit:contain}svg[_ngcontent-%COMP%]{overflow:visible}[_nghost-%COMP%]{position:relative;width:100vw;height:100vh;flex-direction:column;align-items:flex-start;background-color:#ebefff;overflow:hidden}.rectangle2[_ngcontent-%COMP%]{position:absolute;left:756px;top:240px;width:367px;height:40px;outline:solid 1px #3a3a3a;outline-offset:-1px;border-radius:5px;background-color:#afb3ff00;padding-left:1%}.rectangle9[_ngcontent-%COMP%]{position:absolute;left:756px;top:164px;width:367px;height:40px;outline:solid 1px #3a3a3a;outline-offset:-1px;border-radius:5px;background-color:#afb3ff00;padding-left:1%}.rectangle3[_ngcontent-%COMP%]{position:absolute;left:758px;top:396px;width:367px;height:40px;outline:solid 1px #3a3a3a;outline-offset:-1px;border-radius:5px;background-color:#afb3ff00;padding-left:1%}.rectangle10[_ngcontent-%COMP%]{position:absolute;left:756px;top:320px;width:367px;height:40px;outline:solid 1px #3a3a3a;outline-offset:-1px;border-radius:5px;background-color:#afb3ff00;padding-left:1%}.rectangle8[_ngcontent-%COMP%]{position:absolute;left:758px;top:472px;width:367px;height:40px;outline:solid 1px #3a3a3a;outline-offset:-1px;border-radius:5px;background-color:#afb3ff00;padding-left:1%}.userName[_ngcontent-%COMP%]{color:#000;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:756px;top:210px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.fullName[_ngcontent-%COMP%]{color:#000;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:756px;top:134px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.yesIHaveAnAccountLogin[_ngcontent-%COMP%]{position:absolute;left:838px;top:586px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.labelWrapper[_ngcontent-%COMP%]{font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;flex-shrink:1}.label[_ngcontent-%COMP%]{color:#000;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}.label2[_ngcontent-%COMP%]{color:#000;font-size:16px;font-weight:500;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}.label3[_ngcontent-%COMP%]{color:#000;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}.rectangle4[_ngcontent-%COMP%]{position:absolute;left:760px;top:532px;width:365px;height:40px;border-radius:5px;background-color:#228be6}.register[_ngcontent-%COMP%]{color:#fff;font-size:16px;font-weight:500;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:910px;top:539px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.rectangle3[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .rectangle8[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none;width:90%}.password[_ngcontent-%COMP%]{color:#000;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:760px;top:366px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.email[_ngcontent-%COMP%]{color:#000;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:758px;top:290px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.confirmPassword[_ngcontent-%COMP%]{color:#000;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:760px;top:442px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.rectangle6[_ngcontent-%COMP%]{transform-origin:top left;position:absolute;left:180.2554px;top:510.0889px;width:635px;height:377px;border-radius:105.5304px;background-color:#228be690;transform:matrix(-.1248,-.9922,.9922,-.1248,0,0)}.rectangle7[_ngcontent-%COMP%]{transform-origin:top left;position:absolute;left:165px;top:536px;width:635px;height:377px;border-radius:105.5304px;background-color:#228be61f;transform:matrix(0,-1,1,0,0,0)}.socialMediaIcons[_ngcontent-%COMP%]{position:absolute;left:917px;top:636px;width:88.2188px;height:24.2188px;overflow:visible}.icon[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.pleaseFillOutFormToRegister[_ngcontent-%COMP%]{color:#1a1a1a;font-size:17px;font-weight:700;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:818px;top:92px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.pc-reg[_ngcontent-%COMP%]{position:absolute;inset:24.5833% 45.3906% 7.0833% 12.7344%;background-image:url(/assets/pc-reg.svg);background-position:center;background-repeat:no-repeat;background-size:cover}.passwordIcon[_ngcontent-%COMP%]{position:absolute;left:335px;top:14px}']})}return Z})();const wt=["loginForm"];function ut(Z,y){if(1&Z){const E=b.EpF();b.TgZ(0,"i",29),b.NdJ("click",function(){b.CHM(E);const Q=b.oxw();return b.KtG(Q.togglePasswordVisibility())}),b.qZA()}}function ae(Z,y){if(1&Z){const E=b.EpF();b.TgZ(0,"i",30),b.NdJ("click",function(){b.CHM(E);const Q=b.oxw();return b.KtG(Q.togglePasswordVisibility())}),b.qZA()}}const me=[{path:"",redirectTo:"/tasks",pathMatch:"full"},{path:"tasks",loadChildren:()=>U.e(12).then(U.bind(U,5012)).then(Z=>Z.AdminModule),canActivate:[Ee]},{path:"login",component:(()=>{class Z{constructor(E,x){this.authService=E,this.router=x,this.passwordToggle=!1}ngOnInit(){}login(E){this.loginForm.valid?this.authService.signIn(E.email,E.password,E.rememberMe):alert("Please enter your email and password")}forgotPass(){this.router.navigate(["/forgot-password"])}togglePasswordVisibility(){const E=document.getElementById("password");"password"===E.type?(E.type="text",this.passwordToggle=!1):(E.type="password",this.passwordToggle=!0)}signInWithGoogle(){this.authService.singInWithGoogle()}signInWithGithub(){this.authService.singInWithGithub()}static#e=this.\u0275fac=function(x){return new(x||Z)(b.Y36(Te.e),b.Y36(V.F0))};static#t=this.\u0275cmp=b.Xpm({type:Z,selectors:[["app-login"]],viewQuery:function(x,Q){if(1&x&&b.Gf(wt,5),2&x){let le;b.iGM(le=b.CRH())&&(Q.loginForm=le.first)}},decls:40,vars:2,consts:[[1,"rectangle1"],[1,"pc-login"],[1,"welcomeBack"],[3,"ngSubmit"],["loginForm","ngForm"],["for","exampleInputEmail",1,"username"],["type","email","id","exampleInputEmail","placeholder","Email","name","email","aria-describedby","emailHelp","ngModel","","required","",1,"rectangle2"],["for","exampleInputPassword",1,"password"],[1,"rectangle3"],["type","password","id","exampleInputPassword","placeholder","Password","id","password","name","password","ngModel","","required",""],[1,"passwordIcon"],["class","bx bx-show",3,"click",4,"ngIf"],["class","bx bx-hide",3,"click",4,"ngIf"],[1,"dontHaveAndAccountRegister1"],[1,"labelWrapper"],["type","checkbox","id","rememberMe","name","rememberMe","ngModel",""],["for","rememberMe",1,"rememberMe"],["href","forgot-password",1,"forgotPassword"],[1,"dontHaveAndAccountRegister"],[1,"label"],["href","register",1,"label2"],[1,"rectangle4"],["type","submit",1,"login"],[1,"socialMediaIcons"],[3,"click"],["src","assets/google.svg","alt","",1,"icon"],["src","assets/github.svg","alt","",1,"icon"],[1,"rectangle5"],[1,"rectangle6"],[1,"bx","bx-show",3,"click"],[1,"bx","bx-hide",3,"click"]],template:function(x,Q){if(1&x){const le=b.EpF();b._UZ(0,"div",0)(1,"div",1),b.TgZ(2,"div",2),b._uU(3,"Welcome Back!"),b.qZA(),b.TgZ(4,"form",3,4),b.NdJ("ngSubmit",function(){b.CHM(le);const _=b.MAs(5);return b.KtG(Q.login(_.value))}),b.TgZ(6,"label",5),b._uU(7,"Username:"),b.qZA(),b._UZ(8,"input",6),b.TgZ(9,"label",7),b._uU(10,"Password:"),b.qZA(),b.TgZ(11,"div",8),b._UZ(12,"input",9),b.TgZ(13,"div",10),b.YNc(14,ut,1,0,"i",11),b.YNc(15,ae,1,0,"i",12),b.qZA()(),b.TgZ(16,"div",13)(17,"div",14)(18,"div"),b._UZ(19,"input",15),b.TgZ(20,"span",16),b._uU(21,"Remember Me"),b.qZA()(),b.TgZ(22,"a",17),b._uU(23,"Forgot Password"),b.qZA()()(),b.TgZ(24,"div",18)(25,"p",14)(26,"span",19),b._uU(27,"Dont have and account?"),b.qZA(),b.TgZ(28,"a",20),b._uU(29,"Register"),b.qZA()()(),b._UZ(30,"div",21),b.TgZ(31,"button",22),b._uU(32,"Login"),b.qZA(),b.TgZ(33,"div",23)(34,"a",24),b.NdJ("click",function(){return Q.signInWithGoogle()}),b._UZ(35,"img",25),b.qZA(),b.TgZ(36,"a",24),b.NdJ("click",function(){return Q.signInWithGithub()}),b._UZ(37,"img",26),b.qZA()()(),b._UZ(38,"div",27)(39,"div",28)}2&x&&(b.xp6(14),b.Q6J("ngIf",Q.passwordToggle),b.xp6(1),b.Q6J("ngIf",!Q.passwordToggle))},dependencies:[z.O5,X._Y,X.Fj,X.Wl,X.JJ,X.JL,X.Q7,X.On,X.F],styles:['[_nghost-%COMP%], *[_ngcontent-%COMP%]{box-sizing:border-box;margin:0;padding:0;background:none;border:none;flex-shrink:0;text-decoration:none;min-width:0;overflow-wrap:anywhere}[_nghost-%COMP%], [_ngcontent-%COMP%]:not(span, a[_ngcontent-%COMP%], ul[_ngcontent-%COMP%], ol[_ngcontent-%COMP%], li[_ngcontent-%COMP%], p)[_ngcontent-%COMP%]{display:flex}ul[_ngcontent-%COMP%], ol[_ngcontent-%COMP%]{text-indent:0;padding-inline-start:1.5em}p[_ngcontent-%COMP%]:empty:before{content:"";display:inline-block}img[_ngcontent-%COMP%]{object-fit:contain}svg[_ngcontent-%COMP%]{overflow:visible}[_nghost-%COMP%]{position:relative;width:100vw;height:100vh;flex-direction:column;align-items:flex-start;background-color:#ebefff;overflow:hidden}.rectangle1[_ngcontent-%COMP%]{position:absolute;left:842px;top:0;width:525px;height:720px;background-color:#228be62f}.socialMediaIcons[_ngcontent-%COMP%]{position:absolute;left:256px;top:530px;width:40px;height:35px;overflow:visible}.icon[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.rectangle2[_ngcontent-%COMP%]{position:absolute;left:122px;top:250px;width:367px;height:40px;padding-left:1%;outline:solid 1px #3a3a3a;outline-offset:-1px;border-radius:5px;background-color:#afb3ff00}.passwordIcon[_ngcontent-%COMP%]{position:absolute;left:335px;top:14px}.rectangle3[_ngcontent-%COMP%]{position:absolute;left:122px;top:326px;width:367px;height:40px;padding-left:1%;outline:solid 1px #3a3a3a;outline-offset:-1px;border-radius:5px;background-color:#afb3ff00}.rectangle3[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none;width:90%}.username[_ngcontent-%COMP%]{color:#000;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:122px;top:220px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.dontHaveAndAccountRegister1[_ngcontent-%COMP%]{position:absolute;left:134px;top:379px;width:max-content;height:min-content;white-space:nowrap;flex-direction:column}.rememberMe[_ngcontent-%COMP%]{margin-left:6%}.dontHaveAndAccountRegister[_ngcontent-%COMP%]{position:absolute;left:188px;top:480px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.labelWrapper[_ngcontent-%COMP%]{font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;flex-shrink:1}.label[_ngcontent-%COMP%]{color:#000;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}.label2[_ngcontent-%COMP%]{color:#000;font-size:16px;font-weight:500;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}.forgotPassword[_ngcontent-%COMP%]{color:#000;font-size:16px;font-weight:500;margin-left:30%;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}.welcomeBack[_ngcontent-%COMP%]{color:#1a1a1a;font-size:17px;font-weight:700;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:240px;top:177px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.rectangle4[_ngcontent-%COMP%]{position:absolute;left:124px;top:420px;width:365px;height:40px;border-radius:5px;background-color:#228be6}.login[_ngcontent-%COMP%]{color:#fff;font-size:16px;font-weight:500;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:285px;top:427px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.password[_ngcontent-%COMP%]{color:#000;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:124px;top:296px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.rectangle5[_ngcontent-%COMP%]{transform-origin:top left;position:absolute;left:-287px;top:912.3164px;width:596.734px;height:141.396px;border-radius:105.5304px;background-color:#228be690;transform:matrix(.7535,-.6574,.6574,.7535,0,0)}.rectangle6[_ngcontent-%COMP%]{transform-origin:top left;position:absolute;left:-252px;top:895.0518px;width:553.7418px;height:131.209px;border-radius:105.5304px;background-color:#2b3a4755;transform:matrix(.7535,-.6574,.6574,.7535,0,0)}.pc-login[_ngcontent-%COMP%]{position:absolute;left:565px;top:-37px;width:600px;height:590px;flex-direction:column;align-items:flex-start;right:0;background-image:url(/assets/pc-login.svg);background-position:center;background-repeat:no-repeat;background-size:cover}']})}return Z})()},{path:"register",component:it},{path:"verify-email",component:de},{path:"forgot-password",component:oe}];let ge=(()=>{class Z{static#e=this.\u0275fac=function(x){return new(x||Z)};static#t=this.\u0275mod=b.oAB({type:Z});static#n=this.\u0275inj=b.cJS({imports:[V.Bz.forRoot(me,{preloadingStrategy:V.wm}),V.Bz]})}return Z})(),Ce=(()=>{class Z{constructor(){this.title="tasks"}static#e=this.\u0275fac=function(x){return new(x||Z)};static#t=this.\u0275cmp=b.Xpm({type:Z,selectors:[["app-root"]],decls:1,vars:0,template:function(x,Q){1&x&&b._UZ(0,"router-outlet")},dependencies:[V.lC]})}return Z})();var ye=U(9862),he=U(6825);function Ct(Z){return new b.vHH(3e3,!1)}function Ae(Z){switch(Z.length){case 0:return new he.ZN;case 1:return Z[0];default:return new he.ZE(Z)}}function Ge(Z,y,E=new Map,x=new Map){const Q=[],le=[];let Re=-1,_=null;if(y.forEach(N=>{const P=N.get("offset"),F=P==Re,ce=F&&_||new Map;N.forEach((Ue,Ze)=>{let pt=Ze,Ht=Ue;if("offset"!==Ze)switch(pt=Z.normalizePropertyName(pt,Q),Ht){case he.k1:Ht=E.get(Ze);break;case he.l3:Ht=x.get(Ze);break;default:Ht=Z.normalizeStyleValue(Ze,pt,Ht,Q)}ce.set(pt,Ht)}),F||le.push(ce),_=ce,Re=P}),Q.length)throw function Pn(Z){return new b.vHH(3502,!1)}();return le}function Ke(Z,y,E,x){switch(y){case"start":Z.onStart(()=>x(E&&Ot(E,"start",Z)));break;case"done":Z.onDone(()=>x(E&&Ot(E,"done",Z)));break;case"destroy":Z.onDestroy(()=>x(E&&Ot(E,"destroy",Z)))}}function Ot(Z,y,E){const le=Rt(Z.element,Z.triggerName,Z.fromState,Z.toState,y||Z.phaseName,E.totalTime??Z.totalTime,!!E.disabled),Re=Z._data;return null!=Re&&(le._data=Re),le}function Rt(Z,y,E,x,Q="",le=0,Re){return{element:Z,triggerName:y,fromState:E,toState:x,phaseName:Q,totalTime:le,disabled:!!Re}}function cn(Z,y,E){let x=Z.get(y);return x||Z.set(y,x=E),x}function vn(Z){const y=Z.indexOf(":");return[Z.substring(1,y),Z.slice(y+1)]}const qr=(()=>typeof document>"u"?null:document.documentElement)();function Fr(Z){const y=Z.parentNode||Z.host||null;return y===qr?null:y}let ur=null,Hr=!1;function Ar(Z,y){for(;y;){if(y===Z)return!0;y=Fr(y)}return!1}function Vr(Z,y,E){if(E)return Array.from(Z.querySelectorAll(y));const x=Z.querySelector(y);return x?[x]:[]}let re=(()=>{class Z{validateStyleProperty(E){return function ti(Z){ur||(ur=function Dr(){return typeof document<"u"?document.body:null}()||{},Hr=!!ur.style&&"WebkitAppearance"in ur.style);let y=!0;return ur.style&&!function Hn(Z){return"ebkit"==Z.substring(1,6)}(Z)&&(y=Z in ur.style,!y&&Hr&&(y="Webkit"+Z.charAt(0).toUpperCase()+Z.slice(1)in ur.style)),y}(E)}matchesElement(E,x){return!1}containsElement(E,x){return Ar(E,x)}getParentElement(E){return Fr(E)}query(E,x,Q){return Vr(E,x,Q)}computeStyle(E,x,Q){return Q||""}animate(E,x,Q,le,Re,_=[],N){return new he.ZN(Q,le)}static#e=this.\u0275fac=function(x){return new(x||Z)};static#t=this.\u0275prov=b.Yz7({token:Z,factory:Z.\u0275fac})}return Z})(),$=(()=>{class Z{static#e=this.NOOP=new re}return Z})();const L=1e3,Le="ng-enter",ct="ng-leave",Tt="ng-trigger",Lt=".ng-trigger",kt="ng-animating",Kt=".ng-animating";function bn(Z){if("number"==typeof Z)return Z;const y=Z.match(/^(-?[\.\d]+)(m?s)/);return!y||y.length<2?0:De(parseFloat(y[1]),y[2])}function De(Z,y){return"s"===y?Z*L:Z}function ve(Z,y,E){return Z.hasOwnProperty("duration")?Z:function xe(Z,y,E){let Q,le=0,Re="";if("string"==typeof Z){const _=Z.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===_)return y.push(Ct()),{duration:0,delay:0,easing:""};Q=De(parseFloat(_[1]),_[2]);const N=_[3];null!=N&&(le=De(parseFloat(N),_[4]));const P=_[5];P&&(Re=P)}else Q=Z;if(!E){let _=!1,N=y.length;Q<0&&(y.push(function $e(){return new b.vHH(3100,!1)}()),_=!0),le<0&&(y.push(function Gt(){return new b.vHH(3101,!1)}()),_=!0),_&&y.splice(N,0,Ct())}return{duration:Q,delay:le,easing:Re}}(Z,y,E)}function Ie(Z,y={}){return Object.keys(Z).forEach(E=>{y[E]=Z[E]}),y}function we(Z){const y=new Map;return Object.keys(Z).forEach(E=>{y.set(E,Z[E])}),y}function St(Z,y=new Map,E){if(E)for(let[x,Q]of E)y.set(x,Q);for(let[x,Q]of Z)y.set(x,Q);return y}function dt(Z,y,E){y.forEach((x,Q)=>{const le=Kr(Q);E&&!E.has(Q)&&E.set(Q,Z.style[le]),Z.style[le]=x})}function sn(Z,y){y.forEach((E,x)=>{const Q=Kr(x);Z.style[Q]=""})}function Qn(Z){return Array.isArray(Z)?1==Z.length?Z[0]:(0,he.vP)(Z):Z}const er=new RegExp("{{\\s*(.+?)\\s*}}","g");function xr(Z){let y=[];if("string"==typeof Z){let E;for(;E=er.exec(Z);)y.push(E[1]);er.lastIndex=0}return y}function ni(Z,y,E){const x=Z.toString(),Q=x.replace(er,(le,Re)=>{let _=y[Re];return null==_&&(E.push(function gn(Z){return new b.vHH(3003,!1)}()),_=""),_.toString()});return Q==x?Z:Q}function sr(Z){const y=[];let E=Z.next();for(;!E.done;)y.push(E.value),E=Z.next();return y}const mr=/-+([a-z0-9])/g;function Kr(Z){return Z.replace(mr,(...y)=>y[1].toUpperCase())}function Or(Z,y,E){switch(y.type){case 7:return Z.visitTrigger(y,E);case 0:return Z.visitState(y,E);case 1:return Z.visitTransition(y,E);case 2:return Z.visitSequence(y,E);case 3:return Z.visitGroup(y,E);case 4:return Z.visitAnimate(y,E);case 5:return Z.visitKeyframes(y,E);case 6:return Z.visitStyle(y,E);case 8:return Z.visitReference(y,E);case 9:return Z.visitAnimateChild(y,E);case 10:return Z.visitAnimateRef(y,E);case 11:return Z.visitQuery(y,E);case 12:return Z.visitStagger(y,E);default:throw function bt(Z){return new b.vHH(3004,!1)}()}}function Oi(Z,y){return window.getComputedStyle(Z)[y]}const di="*";function Ds(Z,y){const E=[];return"string"==typeof Z?Z.split(/\s*,\s*/).forEach(x=>function si(Z,y,E){if(":"==Z[0]){const N=function yo(Z,y){switch(Z){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(E,x)=>parseFloat(x)>parseFloat(E);case":decrement":return(E,x)=>parseFloat(x)<parseFloat(E);default:return y.push(function Bn(Z){return new b.vHH(3016,!1)}()),"* => *"}}(Z,E);if("function"==typeof N)return void y.push(N);Z=N}const x=Z.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==x||x.length<4)return E.push(function un(Z){return new b.vHH(3015,!1)}()),y;const Q=x[1],le=x[2],Re=x[3];y.push(vo(Q,Re));"<"==le[0]&&!(Q==di&&Re==di)&&y.push(vo(Re,Q))}(x,E,y)):E.push(Z),E}const Ti=new Set(["true","1"]),as=new Set(["false","0"]);function vo(Z,y){const E=Ti.has(Z)||as.has(Z),x=Ti.has(y)||as.has(y);return(Q,le)=>{let Re=Z==di||Z==Q,_=y==di||y==le;return!Re&&E&&"boolean"==typeof Q&&(Re=Q?Ti.has(Z):as.has(Z)),!_&&x&&"boolean"==typeof le&&(_=le?Ti.has(y):as.has(y)),Re&&_}}const wi=new RegExp("s*:selfs*,?","g");function Ro(Z,y,E,x){return new Io(Z).build(y,E,x)}class Io{constructor(y){this._driver=y}build(y,E,x){const Q=new io(E);return this._resetContextStyleTimingState(Q),Or(this,Qn(y),Q)}_resetContextStyleTimingState(y){y.currentQuerySelector="",y.collectedStyles=new Map,y.collectedStyles.set("",new Map),y.currentTime=0}visitTrigger(y,E){let x=E.queryCount=0,Q=E.depCount=0;const le=[],Re=[];return"@"==y.name.charAt(0)&&E.errors.push(function Se(){return new b.vHH(3006,!1)}()),y.definitions.forEach(_=>{if(this._resetContextStyleTimingState(E),0==_.type){const N=_,P=N.name;P.toString().split(/\s*,\s*/).forEach(F=>{N.name=F,le.push(this.visitState(N,E))}),N.name=P}else if(1==_.type){const N=this.visitTransition(_,E);x+=N.queryCount,Q+=N.depCount,Re.push(N)}else E.errors.push(function Oe(){return new b.vHH(3007,!1)}())}),{type:7,name:y.name,states:le,transitions:Re,queryCount:x,depCount:Q,options:null}}visitState(y,E){const x=this.visitStyle(y.styles,E),Q=y.options&&y.options.params||null;if(x.containsDynamicStyles){const le=new Set,Re=Q||{};x.styles.forEach(_=>{_ instanceof Map&&_.forEach(N=>{xr(N).forEach(P=>{Re.hasOwnProperty(P)||le.add(P)})})}),le.size&&(sr(le.values()),E.errors.push(function qe(Z,y){return new b.vHH(3008,!1)}()))}return{type:0,name:y.name,style:x,options:Q?{params:Q}:null}}visitTransition(y,E){E.queryCount=0,E.depCount=0;const x=Or(this,Qn(y.animation),E);return{type:1,matchers:Ds(y.expr,E.errors),animation:x,queryCount:E.queryCount,depCount:E.depCount,options:Ki(y.options)}}visitSequence(y,E){return{type:2,steps:y.steps.map(x=>Or(this,x,E)),options:Ki(y.options)}}visitGroup(y,E){const x=E.currentTime;let Q=0;const le=y.steps.map(Re=>{E.currentTime=x;const _=Or(this,Re,E);return Q=Math.max(Q,E.currentTime),_});return E.currentTime=Q,{type:3,steps:le,options:Ki(y.options)}}visitAnimate(y,E){const x=function As(Z,y){if(Z.hasOwnProperty("duration"))return Z;if("number"==typeof Z)return Ln(ve(Z,y).duration,0,"");const E=Z;if(E.split(/\s+/).some(le=>"{"==le.charAt(0)&&"{"==le.charAt(1))){const le=Ln(0,0,"");return le.dynamic=!0,le.strValue=E,le}const Q=ve(E,y);return Ln(Q.duration,Q.delay,Q.easing)}(y.timings,E.errors);E.currentAnimateTimings=x;let Q,le=y.styles?y.styles:(0,he.oB)({});if(5==le.type)Q=this.visitKeyframes(le,E);else{let Re=y.styles,_=!1;if(!Re){_=!0;const P={};x.easing&&(P.easing=x.easing),Re=(0,he.oB)(P)}E.currentTime+=x.duration+x.delay;const N=this.visitStyle(Re,E);N.isEmptyStep=_,Q=N}return E.currentAnimateTimings=null,{type:4,timings:x,style:Q,options:null}}visitStyle(y,E){const x=this._makeStyleAst(y,E);return this._validateStyleAst(x,E),x}_makeStyleAst(y,E){const x=[],Q=Array.isArray(y.styles)?y.styles:[y.styles];for(let _ of Q)"string"==typeof _?_===he.l3?x.push(_):E.errors.push(new b.vHH(3002,!1)):x.push(we(_));let le=!1,Re=null;return x.forEach(_=>{if(_ instanceof Map&&(_.has("easing")&&(Re=_.get("easing"),_.delete("easing")),!le))for(let N of _.values())if(N.toString().indexOf("{{")>=0){le=!0;break}}),{type:6,styles:x,easing:Re,offset:y.offset,containsDynamicStyles:le,options:null}}_validateStyleAst(y,E){const x=E.currentAnimateTimings;let Q=E.currentTime,le=E.currentTime;x&&le>0&&(le-=x.duration+x.delay),y.styles.forEach(Re=>{"string"!=typeof Re&&Re.forEach((_,N)=>{const P=E.collectedStyles.get(E.currentQuerySelector),F=P.get(N);let ce=!0;F&&(le!=Q&&le>=F.startTime&&Q<=F.endTime&&(E.errors.push(function ht(Z,y,E,x,Q){return new b.vHH(3010,!1)}()),ce=!1),le=F.startTime),ce&&P.set(N,{startTime:le,endTime:Q}),E.options&&function Mn(Z,y,E){const x=y.params||{},Q=xr(Z);Q.length&&Q.forEach(le=>{x.hasOwnProperty(le)||E.push(function At(Z){return new b.vHH(3001,!1)}())})}(_,E.options,E.errors)})})}visitKeyframes(y,E){const x={type:5,styles:[],options:null};if(!E.currentAnimateTimings)return E.errors.push(function gt(){return new b.vHH(3011,!1)}()),x;let le=0;const Re=[];let _=!1,N=!1,P=0;const F=y.steps.map(_n=>{const Jt=this._makeStyleAst(_n,E);let On=null!=Jt.offset?Jt.offset:function Mo(Z){if("string"==typeof Z)return null;let y=null;if(Array.isArray(Z))Z.forEach(E=>{if(E instanceof Map&&E.has("offset")){const x=E;y=parseFloat(x.get("offset")),x.delete("offset")}});else if(Z instanceof Map&&Z.has("offset")){const E=Z;y=parseFloat(E.get("offset")),E.delete("offset")}return y}(Jt.styles),dn=0;return null!=On&&(le++,dn=Jt.offset=On),N=N||dn<0||dn>1,_=_||dn<P,P=dn,Re.push(dn),Jt});N&&E.errors.push(function _t(){return new b.vHH(3012,!1)}()),_&&E.errors.push(function kn(){return new b.vHH(3200,!1)}());const ce=y.steps.length;let Ue=0;le>0&&le<ce?E.errors.push(function nn(){return new b.vHH(3202,!1)}()):0==le&&(Ue=1/(ce-1));const Ze=ce-1,pt=E.currentTime,Ht=E.currentAnimateTimings,rn=Ht.duration;return F.forEach((_n,Jt)=>{const On=Ue>0?Jt==Ze?1:Ue*Jt:Re[Jt],dn=On*rn;E.currentTime=pt+Ht.delay+dn,Ht.duration=dn,this._validateStyleAst(_n,E),_n.offset=On,x.styles.push(_n)}),x}visitReference(y,E){return{type:8,animation:Or(this,Qn(y.animation),E),options:Ki(y.options)}}visitAnimateChild(y,E){return E.depCount++,{type:9,options:Ki(y.options)}}visitAnimateRef(y,E){return{type:10,animation:this.visitReference(y.animation,E),options:Ki(y.options)}}visitQuery(y,E){const x=E.currentQuerySelector,Q=y.options||{};E.queryCount++,E.currentQuery=y;const[le,Re]=function Bs(Z){const y=!!Z.split(/\s*,\s*/).find(E=>":self"==E);return y&&(Z=Z.replace(wi,"")),Z=Z.replace(/@\*/g,Lt).replace(/@\w+/g,E=>Lt+"-"+E.slice(1)).replace(/:animating/g,Kt),[Z,y]}(y.selector);E.currentQuerySelector=x.length?x+" "+le:le,cn(E.collectedStyles,E.currentQuerySelector,new Map);const _=Or(this,Qn(y.animation),E);return E.currentQuery=null,E.currentQuerySelector=x,{type:11,selector:le,limit:Q.limit||0,optional:!!Q.optional,includeSelf:Re,animation:_,originalSelector:y.selector,options:Ki(y.options)}}visitStagger(y,E){E.currentQuery||E.errors.push(function An(){return new b.vHH(3013,!1)}());const x="full"===y.timings?{duration:0,delay:0,easing:"full"}:ve(y.timings,E.errors,!0);return{type:12,animation:Or(this,Qn(y.animation),E),timings:x,options:null}}}class io{constructor(y){this.errors=y,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Ki(Z){return Z?(Z=Ie(Z)).params&&(Z.params=function Hs(Z){return Z?Ie(Z):null}(Z.params)):Z={},Z}function Ln(Z,y,E){return{duration:Z,delay:y,easing:E}}function Ur(Z,y,E,x,Q,le,Re=null,_=!1){return{type:1,element:Z,keyframes:y,preStyleProps:E,postStyleProps:x,duration:Q,delay:le,totalTime:Q+le,easing:Re,subTimeline:_}}class Nr{constructor(){this._map=new Map}get(y){return this._map.get(y)||[]}append(y,E){let x=this._map.get(y);x||this._map.set(y,x=[]),x.push(...E)}has(y){return this._map.has(y)}clear(){this._map.clear()}}const so=new RegExp(":enter","g"),ms=new RegExp(":leave","g");function Ci(Z,y,E,x,Q,le=new Map,Re=new Map,_,N,P=[]){return(new gs).buildKeyframes(Z,y,E,x,Q,le,Re,_,N,P)}class gs{buildKeyframes(y,E,x,Q,le,Re,_,N,P,F=[]){P=P||new Nr;const ce=new Ft(y,E,P,Q,le,F,[]);ce.options=N;const Ue=N.delay?bn(N.delay):0;ce.currentTimeline.delayNextStep(Ue),ce.currentTimeline.setStyles([Re],null,ce.errors,N),Or(this,x,ce);const Ze=ce.timelines.filter(pt=>pt.containsAnimation());if(Ze.length&&_.size){let pt;for(let Ht=Ze.length-1;Ht>=0;Ht--){const rn=Ze[Ht];if(rn.element===E){pt=rn;break}}pt&&!pt.allowOnlyTimelineStyles()&&pt.setStyles([_],null,ce.errors,N)}return Ze.length?Ze.map(pt=>pt.buildKeyframes()):[Ur(E,[],[],[],0,Ue,"",!1)]}visitTrigger(y,E){}visitState(y,E){}visitTransition(y,E){}visitAnimateChild(y,E){const x=E.subInstructions.get(E.element);if(x){const Q=E.createSubContext(y.options),le=E.currentTimeline.currentTime,Re=this._visitSubInstructions(x,Q,Q.options);le!=Re&&E.transformIntoNewTimeline(Re)}E.previousNode=y}visitAnimateRef(y,E){const x=E.createSubContext(y.options);x.transformIntoNewTimeline(),this._applyAnimationRefDelays([y.options,y.animation.options],E,x),this.visitReference(y.animation,x),E.transformIntoNewTimeline(x.currentTimeline.currentTime),E.previousNode=y}_applyAnimationRefDelays(y,E,x){for(const Q of y){const le=Q?.delay;if(le){const Re="number"==typeof le?le:bn(ni(le,Q?.params??{},E.errors));x.delayNextStep(Re)}}}_visitSubInstructions(y,E,x){let le=E.currentTimeline.currentTime;const Re=null!=x.duration?bn(x.duration):null,_=null!=x.delay?bn(x.delay):null;return 0!==Re&&y.forEach(N=>{const P=E.appendInstructionToTimeline(N,Re,_);le=Math.max(le,P.duration+P.delay)}),le}visitReference(y,E){E.updateOptions(y.options,!0),Or(this,y.animation,E),E.previousNode=y}visitSequence(y,E){const x=E.subContextCount;let Q=E;const le=y.options;if(le&&(le.params||le.delay)&&(Q=E.createSubContext(le),Q.transformIntoNewTimeline(),null!=le.delay)){6==Q.previousNode.type&&(Q.currentTimeline.snapshotCurrentStyles(),Q.previousNode=pr);const Re=bn(le.delay);Q.delayNextStep(Re)}y.steps.length&&(y.steps.forEach(Re=>Or(this,Re,Q)),Q.currentTimeline.applyStylesToKeyframe(),Q.subContextCount>x&&Q.transformIntoNewTimeline()),E.previousNode=y}visitGroup(y,E){const x=[];let Q=E.currentTimeline.currentTime;const le=y.options&&y.options.delay?bn(y.options.delay):0;y.steps.forEach(Re=>{const _=E.createSubContext(y.options);le&&_.delayNextStep(le),Or(this,Re,_),Q=Math.max(Q,_.currentTimeline.currentTime),x.push(_.currentTimeline)}),x.forEach(Re=>E.currentTimeline.mergeTimelineCollectedStyles(Re)),E.transformIntoNewTimeline(Q),E.previousNode=y}_visitTiming(y,E){if(y.dynamic){const x=y.strValue;return ve(E.params?ni(x,E.params,E.errors):x,E.errors)}return{duration:y.duration,delay:y.delay,easing:y.easing}}visitAnimate(y,E){const x=E.currentAnimateTimings=this._visitTiming(y.timings,E),Q=E.currentTimeline;x.delay&&(E.incrementTime(x.delay),Q.snapshotCurrentStyles());const le=y.style;5==le.type?this.visitKeyframes(le,E):(E.incrementTime(x.duration),this.visitStyle(le,E),Q.applyStylesToKeyframe()),E.currentAnimateTimings=null,E.previousNode=y}visitStyle(y,E){const x=E.currentTimeline,Q=E.currentAnimateTimings;!Q&&x.hasCurrentStyleProperties()&&x.forwardFrame();const le=Q&&Q.easing||y.easing;y.isEmptyStep?x.applyEmptyStep(le):x.setStyles(y.styles,le,E.errors,E.options),E.previousNode=y}visitKeyframes(y,E){const x=E.currentAnimateTimings,Q=E.currentTimeline.duration,le=x.duration,_=E.createSubContext().currentTimeline;_.easing=x.easing,y.styles.forEach(N=>{_.forwardTime((N.offset||0)*le),_.setStyles(N.styles,N.easing,E.errors,E.options),_.applyStylesToKeyframe()}),E.currentTimeline.mergeTimelineCollectedStyles(_),E.transformIntoNewTimeline(Q+le),E.previousNode=y}visitQuery(y,E){const x=E.currentTimeline.currentTime,Q=y.options||{},le=Q.delay?bn(Q.delay):0;le&&(6===E.previousNode.type||0==x&&E.currentTimeline.hasCurrentStyleProperties())&&(E.currentTimeline.snapshotCurrentStyles(),E.previousNode=pr);let Re=x;const _=E.invokeQuery(y.selector,y.originalSelector,y.limit,y.includeSelf,!!Q.optional,E.errors);E.currentQueryTotal=_.length;let N=null;_.forEach((P,F)=>{E.currentQueryIndex=F;const ce=E.createSubContext(y.options,P);le&&ce.delayNextStep(le),P===E.element&&(N=ce.currentTimeline),Or(this,y.animation,ce),ce.currentTimeline.applyStylesToKeyframe(),Re=Math.max(Re,ce.currentTimeline.currentTime)}),E.currentQueryIndex=0,E.currentQueryTotal=0,E.transformIntoNewTimeline(Re),N&&(E.currentTimeline.mergeTimelineCollectedStyles(N),E.currentTimeline.snapshotCurrentStyles()),E.previousNode=y}visitStagger(y,E){const x=E.parentContext,Q=E.currentTimeline,le=y.timings,Re=Math.abs(le.duration),_=Re*(E.currentQueryTotal-1);let N=Re*E.currentQueryIndex;switch(le.duration<0?"reverse":le.easing){case"reverse":N=_-N;break;case"full":N=x.currentStaggerTime}const F=E.currentTimeline;N&&F.delayNextStep(N);const ce=F.currentTime;Or(this,y.animation,E),E.previousNode=y,x.currentStaggerTime=Q.currentTime-ce+(Q.startTime-x.currentTimeline.startTime)}}const pr={};class Ft{constructor(y,E,x,Q,le,Re,_,N){this._driver=y,this.element=E,this.subInstructions=x,this._enterClassName=Q,this._leaveClassName=le,this.errors=Re,this.timelines=_,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=pr,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=N||new En(this._driver,E,0),_.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(y,E){if(!y)return;const x=y;let Q=this.options;null!=x.duration&&(Q.duration=bn(x.duration)),null!=x.delay&&(Q.delay=bn(x.delay));const le=x.params;if(le){let Re=Q.params;Re||(Re=this.options.params={}),Object.keys(le).forEach(_=>{(!E||!Re.hasOwnProperty(_))&&(Re[_]=ni(le[_],Re,this.errors))})}}_copyOptions(){const y={};if(this.options){const E=this.options.params;if(E){const x=y.params={};Object.keys(E).forEach(Q=>{x[Q]=E[Q]})}}return y}createSubContext(y=null,E,x){const Q=E||this.element,le=new Ft(this._driver,Q,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(Q,x||0));return le.previousNode=this.previousNode,le.currentAnimateTimings=this.currentAnimateTimings,le.options=this._copyOptions(),le.updateOptions(y),le.currentQueryIndex=this.currentQueryIndex,le.currentQueryTotal=this.currentQueryTotal,le.parentContext=this,this.subContextCount++,le}transformIntoNewTimeline(y){return this.previousNode=pr,this.currentTimeline=this.currentTimeline.fork(this.element,y),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(y,E,x){const Q={duration:E??y.duration,delay:this.currentTimeline.currentTime+(x??0)+y.delay,easing:""},le=new Wn(this._driver,y.element,y.keyframes,y.preStyleProps,y.postStyleProps,Q,y.stretchStartingKeyframe);return this.timelines.push(le),Q}incrementTime(y){this.currentTimeline.forwardTime(this.currentTimeline.duration+y)}delayNextStep(y){y>0&&this.currentTimeline.delayNextStep(y)}invokeQuery(y,E,x,Q,le,Re){let _=[];if(Q&&_.push(this.element),y.length>0){y=(y=y.replace(so,"."+this._enterClassName)).replace(ms,"."+this._leaveClassName);let P=this._driver.query(this.element,y,1!=x);0!==x&&(P=x<0?P.slice(P.length+x,P.length):P.slice(0,x)),_.push(...P)}return!le&&0==_.length&&Re.push(function ln(Z){return new b.vHH(3014,!1)}()),_}}class En{constructor(y,E,x,Q){this._driver=y,this.element=E,this.startTime=x,this._elementTimelineStylesLookup=Q,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(E),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(E,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(y){const E=1===this._keyframes.size&&this._pendingStyles.size;this.duration||E?(this.forwardTime(this.currentTime+y),E&&this.snapshotCurrentStyles()):this.startTime+=y}fork(y,E){return this.applyStylesToKeyframe(),new En(this._driver,y,E||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(y){this.applyStylesToKeyframe(),this.duration=y,this._loadKeyframe()}_updateStyle(y,E){this._localTimelineStyles.set(y,E),this._globalTimelineStyles.set(y,E),this._styleSummary.set(y,{time:this.currentTime,value:E})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(y){y&&this._previousKeyframe.set("easing",y);for(let[E,x]of this._globalTimelineStyles)this._backFill.set(E,x||he.l3),this._currentKeyframe.set(E,he.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(y,E,x,Q){E&&this._previousKeyframe.set("easing",E);const le=Q&&Q.params||{},Re=function _s(Z,y){const E=new Map;let x;return Z.forEach(Q=>{if("*"===Q){x=x||y.keys();for(let le of x)E.set(le,he.l3)}else St(Q,E)}),E}(y,this._globalTimelineStyles);for(let[_,N]of Re){const P=ni(N,le,x);this._pendingStyles.set(_,P),this._localTimelineStyles.has(_)||this._backFill.set(_,this._globalTimelineStyles.get(_)??he.l3),this._updateStyle(_,P)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((y,E)=>{this._currentKeyframe.set(E,y)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((y,E)=>{this._currentKeyframe.has(E)||this._currentKeyframe.set(E,y)}))}snapshotCurrentStyles(){for(let[y,E]of this._localTimelineStyles)this._pendingStyles.set(y,E),this._updateStyle(y,E)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const y=[];for(let E in this._currentKeyframe)y.push(E);return y}mergeTimelineCollectedStyles(y){y._styleSummary.forEach((E,x)=>{const Q=this._styleSummary.get(x);(!Q||E.time>Q.time)&&this._updateStyle(x,E.value)})}buildKeyframes(){this.applyStylesToKeyframe();const y=new Set,E=new Set,x=1===this._keyframes.size&&0===this.duration;let Q=[];this._keyframes.forEach((_,N)=>{const P=St(_,new Map,this._backFill);P.forEach((F,ce)=>{F===he.k1?y.add(ce):F===he.l3&&E.add(ce)}),x||P.set("offset",N/this.duration),Q.push(P)});const le=y.size?sr(y.values()):[],Re=E.size?sr(E.values()):[];if(x){const _=Q[0],N=new Map(_);_.set("offset",0),N.set("offset",1),Q=[_,N]}return Ur(this.element,Q,le,Re,this.duration,this.startTime,this.easing,!1)}}class Wn extends En{constructor(y,E,x,Q,le,Re,_=!1){super(y,E,Re.delay),this.keyframes=x,this.preStyleProps=Q,this.postStyleProps=le,this._stretchStartingKeyframe=_,this.timings={duration:Re.duration,delay:Re.delay,easing:Re.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let y=this.keyframes,{delay:E,duration:x,easing:Q}=this.timings;if(this._stretchStartingKeyframe&&E){const le=[],Re=x+E,_=E/Re,N=St(y[0]);N.set("offset",0),le.push(N);const P=St(y[0]);P.set("offset",oi(_)),le.push(P);const F=y.length-1;for(let ce=1;ce<=F;ce++){let Ue=St(y[ce]);const Ze=Ue.get("offset");Ue.set("offset",oi((E+Ze*x)/Re)),le.push(Ue)}x=Re,E=0,Q="",y=le}return Ur(this.element,y,this.preStyleProps,this.postStyleProps,x,E,Q,!0)}}function oi(Z,y=3){const E=Math.pow(10,y-1);return Math.round(Z*E)/E}class bi{}const ji=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class hi extends bi{normalizePropertyName(y,E){return Kr(y)}normalizeStyleValue(y,E,x,Q){let le="";const Re=x.toString().trim();if(ji.has(E)&&0!==x&&"0"!==x)if("number"==typeof x)le="px";else{const _=x.match(/^[+-]?[\d\.]+([a-z]*)$/);_&&0==_[1].length&&Q.push(function Nt(Z,y){return new b.vHH(3005,!1)}())}return Re+le}}function fn(Z,y,E,x,Q,le,Re,_,N,P,F,ce,Ue){return{type:0,element:Z,triggerName:y,isRemovalTransition:Q,fromState:E,fromStyles:le,toState:x,toStyles:Re,timelines:_,queriedElements:N,preStyleProps:P,postStyleProps:F,totalTime:ce,errors:Ue}}const Zi={};class Qi{constructor(y,E,x){this._triggerName=y,this.ast=E,this._stateStyles=x}match(y,E,x,Q){return function or(Z,y,E,x,Q){return Z.some(le=>le(y,E,x,Q))}(this.ast.matchers,y,E,x,Q)}buildStyles(y,E,x){let Q=this._stateStyles.get("*");return void 0!==y&&(Q=this._stateStyles.get(y?.toString())||Q),Q?Q.buildStyles(E,x):new Map}build(y,E,x,Q,le,Re,_,N,P,F){const ce=[],Ue=this.ast.options&&this.ast.options.params||Zi,pt=this.buildStyles(x,_&&_.params||Zi,ce),Ht=N&&N.params||Zi,rn=this.buildStyles(Q,Ht,ce),_n=new Set,Jt=new Map,On=new Map,dn="void"===Q,$n={params:js(Ht,Ue),delay:this.ast.options?.delay},Qr=F?[]:Ci(y,E,this.ast.animation,le,Re,pt,rn,$n,P,ce);let Cr=0;if(Qr.forEach(zr=>{Cr=Math.max(zr.duration+zr.delay,Cr)}),ce.length)return fn(E,this._triggerName,x,Q,dn,pt,rn,[],[],Jt,On,Cr,ce);Qr.forEach(zr=>{const qi=zr.element,ri=cn(Jt,qi,new Set);zr.preStyleProps.forEach(Fo=>ri.add(Fo));const Vi=cn(On,qi,new Set);zr.postStyleProps.forEach(Fo=>Vi.add(Fo)),qi!==E&&_n.add(qi)});const yi=sr(_n.values());return fn(E,this._triggerName,x,Q,dn,pt,rn,Qr,yi,Jt,On,Cr)}}function js(Z,y){const E=Ie(y);for(const x in Z)Z.hasOwnProperty(x)&&null!=Z[x]&&(E[x]=Z[x]);return E}class Ni{constructor(y,E,x){this.styles=y,this.defaultParams=E,this.normalizer=x}buildStyles(y,E){const x=new Map,Q=Ie(this.defaultParams);return Object.keys(y).forEach(le=>{const Re=y[le];null!==Re&&(Q[le]=Re)}),this.styles.styles.forEach(le=>{"string"!=typeof le&&le.forEach((Re,_)=>{Re&&(Re=ni(Re,Q,E));const N=this.normalizer.normalizePropertyName(_,E);Re=this.normalizer.normalizeStyleValue(_,N,Re,E),x.set(_,Re)})}),x}}class cr{constructor(y,E,x){this.name=y,this.ast=E,this._normalizer=x,this.transitionFactories=[],this.states=new Map,E.states.forEach(Q=>{this.states.set(Q.name,new Ni(Q.style,Q.options&&Q.options.params||{},x))}),Di(this.states,"true","1"),Di(this.states,"false","0"),E.transitions.forEach(Q=>{this.transitionFactories.push(new Qi(y,Q,this.states))}),this.fallbackTransition=function $s(Z,y,E){return new Qi(Z,{type:1,animation:{type:2,steps:[],options:null},matchers:[(Re,_)=>!0],options:null,queryCount:0,depCount:0},y)}(y,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(y,E,x,Q){return this.transitionFactories.find(Re=>Re.match(y,E,x,Q))||null}matchStyles(y,E,x){return this.fallbackTransition.buildStyles(y,E,x)}}function Di(Z,y,E){Z.has(y)?Z.has(E)||Z.set(E,Z.get(y)):Z.has(E)&&Z.set(y,Z.get(E))}const $r=new Nr;class Gi{constructor(y,E,x){this.bodyNode=y,this._driver=E,this._normalizer=x,this._animations=new Map,this._playersById=new Map,this.players=[]}register(y,E){const x=[],le=Ro(this._driver,E,x,[]);if(x.length)throw function vr(Z){return new b.vHH(3503,!1)}();this._animations.set(y,le)}_buildPlayer(y,E,x){const Q=y.element,le=Ge(this._normalizer,y.keyframes,E,x);return this._driver.animate(Q,le,y.duration,y.delay,y.easing,[],!0)}create(y,E,x={}){const Q=[],le=this._animations.get(y);let Re;const _=new Map;if(le?(Re=Ci(this._driver,E,le,Le,ct,new Map,new Map,x,$r,Q),Re.forEach(F=>{const ce=cn(_,F.element,new Map);F.postStyleProps.forEach(Ue=>ce.set(Ue,null))})):(Q.push(function Rn(){return new b.vHH(3300,!1)}()),Re=[]),Q.length)throw function Fn(Z){return new b.vHH(3504,!1)}();_.forEach((F,ce)=>{F.forEach((Ue,Ze)=>{F.set(Ze,this._driver.computeStyle(ce,Ze,he.l3))})});const P=Ae(Re.map(F=>{const ce=_.get(F.element);return this._buildPlayer(F,new Map,ce)}));return this._playersById.set(y,P),P.onDestroy(()=>this.destroy(y)),this.players.push(P),P}destroy(y){const E=this._getPlayer(y);E.destroy(),this._playersById.delete(y);const x=this.players.indexOf(E);x>=0&&this.players.splice(x,1)}_getPlayer(y){const E=this._playersById.get(y);if(!E)throw function kr(Z){return new b.vHH(3301,!1)}();return E}listen(y,E,x,Q){const le=Rt(E,"","","");return Ke(this._getPlayer(y),x,le,Q),()=>{}}command(y,E,x,Q){if("register"==x)return void this.register(y,Q[0]);if("create"==x)return void this.create(y,E,Q[0]||{});const le=this._getPlayer(y);switch(x){case"play":le.play();break;case"pause":le.pause();break;case"reset":le.reset();break;case"restart":le.restart();break;case"finish":le.finish();break;case"init":le.init();break;case"setPosition":le.setPosition(parseFloat(Q[0]));break;case"destroy":this.destroy(y)}}}const Ps="ng-animate-queued",zs="ng-animate-disabled",Ai=[],Yi={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ao={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Er="__ng_removed";class Gs{get params(){return this.options.params}constructor(y,E=""){this.namespaceId=E;const x=y&&y.hasOwnProperty("value");if(this.value=function lo(Z){return Z??null}(x?y.value:y),x){const le=Ie(y);delete le.value,this.options=le}else this.options={};this.options.params||(this.options.params={})}absorbOptions(y){const E=y.params;if(E){const x=this.options.params;Object.keys(E).forEach(Q=>{null==x[Q]&&(x[Q]=E[Q])})}}}const Zr="void",tr=new Gs(Zr);class xo{constructor(y,E,x){this.id=y,this.hostElement=E,this._engine=x,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+y,Si(E,this._hostClassName)}listen(y,E,x,Q){if(!this._triggers.has(E))throw function ir(Z,y){return new b.vHH(3302,!1)}();if(null==x||0==x.length)throw function en(Z){return new b.vHH(3303,!1)}();if(!function Eo(Z){return"start"==Z||"done"==Z}(x))throw function hn(Z,y){return new b.vHH(3400,!1)}();const le=cn(this._elementListeners,y,[]),Re={name:E,phase:x,callback:Q};le.push(Re);const _=cn(this._engine.statesByElement,y,new Map);return _.has(E)||(Si(y,Tt),Si(y,Tt+"-"+E),_.set(E,tr)),()=>{this._engine.afterFlush(()=>{const N=le.indexOf(Re);N>=0&&le.splice(N,1),this._triggers.has(E)||_.delete(E)})}}register(y,E){return!this._triggers.has(y)&&(this._triggers.set(y,E),!0)}_getTrigger(y){const E=this._triggers.get(y);if(!E)throw function Zt(Z){return new b.vHH(3401,!1)}();return E}trigger(y,E,x,Q=!0){const le=this._getTrigger(E),Re=new Oo(this.id,E,y);let _=this._engine.statesByElement.get(y);_||(Si(y,Tt),Si(y,Tt+"-"+E),this._engine.statesByElement.set(y,_=new Map));let N=_.get(E);const P=new Gs(x,this.id);if(!(x&&x.hasOwnProperty("value"))&&N&&P.absorbOptions(N.options),_.set(E,P),N||(N=tr),P.value!==Zr&&N.value===P.value){if(!function sa(Z,y){const E=Object.keys(Z),x=Object.keys(y);if(E.length!=x.length)return!1;for(let Q=0;Q<E.length;Q++){const le=E[Q];if(!y.hasOwnProperty(le)||Z[le]!==y[le])return!1}return!0}(N.params,P.params)){const Ht=[],rn=le.matchStyles(N.value,N.params,Ht),_n=le.matchStyles(P.value,P.params,Ht);Ht.length?this._engine.reportError(Ht):this._engine.afterFlush(()=>{sn(y,rn),dt(y,_n)})}return}const Ue=cn(this._engine.playersByElement,y,[]);Ue.forEach(Ht=>{Ht.namespaceId==this.id&&Ht.triggerName==E&&Ht.queued&&Ht.destroy()});let Ze=le.matchTransition(N.value,P.value,y,P.params),pt=!1;if(!Ze){if(!Q)return;Ze=le.fallbackTransition,pt=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:y,triggerName:E,transition:Ze,fromState:N,toState:P,player:Re,isFallbackTransition:pt}),pt||(Si(y,Ps),Re.onStart(()=>{No(y,Ps)})),Re.onDone(()=>{let Ht=this.players.indexOf(Re);Ht>=0&&this.players.splice(Ht,1);const rn=this._engine.playersByElement.get(y);if(rn){let _n=rn.indexOf(Re);_n>=0&&rn.splice(_n,1)}}),this.players.push(Re),Ue.push(Re),Re}deregister(y){this._triggers.delete(y),this._engine.statesByElement.forEach(E=>E.delete(y)),this._elementListeners.forEach((E,x)=>{this._elementListeners.set(x,E.filter(Q=>Q.name!=y))})}clearElementCache(y){this._engine.statesByElement.delete(y),this._elementListeners.delete(y);const E=this._engine.playersByElement.get(y);E&&(E.forEach(x=>x.destroy()),this._engine.playersByElement.delete(y))}_signalRemovalForInnerTriggers(y,E){const x=this._engine.driver.query(y,Lt,!0);x.forEach(Q=>{if(Q[Er])return;const le=this._engine.fetchNamespacesByElement(Q);le.size?le.forEach(Re=>Re.triggerLeaveAnimation(Q,E,!1,!0)):this.clearElementCache(Q)}),this._engine.afterFlushAnimationsDone(()=>x.forEach(Q=>this.clearElementCache(Q)))}triggerLeaveAnimation(y,E,x,Q){const le=this._engine.statesByElement.get(y),Re=new Map;if(le){const _=[];if(le.forEach((N,P)=>{if(Re.set(P,N.value),this._triggers.has(P)){const F=this.trigger(y,P,Zr,Q);F&&_.push(F)}}),_.length)return this._engine.markElementAsRemoved(this.id,y,!0,E,Re),x&&Ae(_).onDone(()=>this._engine.processLeaveNode(y)),!0}return!1}prepareLeaveAnimationListeners(y){const E=this._elementListeners.get(y),x=this._engine.statesByElement.get(y);if(E&&x){const Q=new Set;E.forEach(le=>{const Re=le.name;if(Q.has(Re))return;Q.add(Re);const N=this._triggers.get(Re).fallbackTransition,P=x.get(Re)||tr,F=new Gs(Zr),ce=new Oo(this.id,Re,y);this._engine.totalQueuedPlayers++,this._queue.push({element:y,triggerName:Re,transition:N,fromState:P,toState:F,player:ce,isFallbackTransition:!0})})}}removeNode(y,E){const x=this._engine;if(y.childElementCount&&this._signalRemovalForInnerTriggers(y,E),this.triggerLeaveAnimation(y,E,!0))return;let Q=!1;if(x.totalAnimations){const le=x.players.length?x.playersByQueriedElement.get(y):[];if(le&&le.length)Q=!0;else{let Re=y;for(;Re=Re.parentNode;)if(x.statesByElement.get(Re)){Q=!0;break}}}if(this.prepareLeaveAnimationListeners(y),Q)x.markElementAsRemoved(this.id,y,!1,E);else{const le=y[Er];(!le||le===Yi)&&(x.afterFlush(()=>this.clearElementCache(y)),x.destroyInnerAnimations(y),x._onRemovalComplete(y,E))}}insertNode(y,E){Si(y,this._hostClassName)}drainQueuedTransitions(y){const E=[];return this._queue.forEach(x=>{const Q=x.player;if(Q.destroyed)return;const le=x.element,Re=this._elementListeners.get(le);Re&&Re.forEach(_=>{if(_.name==x.triggerName){const N=Rt(le,x.triggerName,x.fromState.value,x.toState.value);N._data=y,Ke(x.player,_.phase,N,_.callback)}}),Q.markedForDestroy?this._engine.afterFlush(()=>{Q.destroy()}):E.push(x)}),this._queue=[],E.sort((x,Q)=>{const le=x.transition.ast.depCount,Re=Q.transition.ast.depCount;return 0==le||0==Re?le-Re:this._engine.driver.containsElement(x.element,Q.element)?1:-1})}destroy(y){this.players.forEach(E=>E.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,y)}}class Li{_onRemovalComplete(y,E){this.onRemovalComplete(y,E)}constructor(y,E,x){this.bodyNode=y,this.driver=E,this._normalizer=x,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(Q,le)=>{}}get queuedPlayers(){const y=[];return this._namespaceList.forEach(E=>{E.players.forEach(x=>{x.queued&&y.push(x)})}),y}createNamespace(y,E){const x=new xo(y,E,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,E)?this._balanceNamespaceList(x,E):(this.newHostElements.set(E,x),this.collectEnterElement(E)),this._namespaceLookup[y]=x}_balanceNamespaceList(y,E){const x=this._namespaceList,Q=this.namespacesByHostElement;if(x.length-1>=0){let Re=!1,_=this.driver.getParentElement(E);for(;_;){const N=Q.get(_);if(N){const P=x.indexOf(N);x.splice(P+1,0,y),Re=!0;break}_=this.driver.getParentElement(_)}Re||x.unshift(y)}else x.push(y);return Q.set(E,y),y}register(y,E){let x=this._namespaceLookup[y];return x||(x=this.createNamespace(y,E)),x}registerTrigger(y,E,x){let Q=this._namespaceLookup[y];Q&&Q.register(E,x)&&this.totalAnimations++}destroy(y,E){y&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const x=this._fetchNamespace(y);this.namespacesByHostElement.delete(x.hostElement);const Q=this._namespaceList.indexOf(x);Q>=0&&this._namespaceList.splice(Q,1),x.destroy(E),delete this._namespaceLookup[y]}))}_fetchNamespace(y){return this._namespaceLookup[y]}fetchNamespacesByElement(y){const E=new Set,x=this.statesByElement.get(y);if(x)for(let Q of x.values())if(Q.namespaceId){const le=this._fetchNamespace(Q.namespaceId);le&&E.add(le)}return E}trigger(y,E,x,Q){if(ai(E)){const le=this._fetchNamespace(y);if(le)return le.trigger(E,x,Q),!0}return!1}insertNode(y,E,x,Q){if(!ai(E))return;const le=E[Er];if(le&&le.setForRemoval){le.setForRemoval=!1,le.setForMove=!0;const Re=this.collectedLeaveElements.indexOf(E);Re>=0&&this.collectedLeaveElements.splice(Re,1)}if(y){const Re=this._fetchNamespace(y);Re&&Re.insertNode(E,x)}Q&&this.collectEnterElement(E)}collectEnterElement(y){this.collectedEnterElements.push(y)}markElementAsDisabled(y,E){E?this.disabledNodes.has(y)||(this.disabledNodes.add(y),Si(y,zs)):this.disabledNodes.has(y)&&(this.disabledNodes.delete(y),No(y,zs))}removeNode(y,E,x){if(ai(E)){const Q=y?this._fetchNamespace(y):null;Q?Q.removeNode(E,x):this.markElementAsRemoved(y,E,!1,x);const le=this.namespacesByHostElement.get(E);le&&le.id!==y&&le.removeNode(E,x)}else this._onRemovalComplete(E,x)}markElementAsRemoved(y,E,x,Q,le){this.collectedLeaveElements.push(E),E[Er]={namespaceId:y,setForRemoval:Q,hasAnimation:x,removedBeforeQueried:!1,previousTriggersValues:le}}listen(y,E,x,Q,le){return ai(E)?this._fetchNamespace(y).listen(E,x,Q,le):()=>{}}_buildInstruction(y,E,x,Q,le){return y.transition.build(this.driver,y.element,y.fromState.value,y.toState.value,x,Q,y.fromState.options,y.toState.options,E,le)}destroyInnerAnimations(y){let E=this.driver.query(y,Lt,!0);E.forEach(x=>this.destroyActiveAnimationsForElement(x)),0!=this.playersByQueriedElement.size&&(E=this.driver.query(y,Kt,!0),E.forEach(x=>this.finishActiveQueriedAnimationOnElement(x)))}destroyActiveAnimationsForElement(y){const E=this.playersByElement.get(y);E&&E.forEach(x=>{x.queued?x.markedForDestroy=!0:x.destroy()})}finishActiveQueriedAnimationOnElement(y){const E=this.playersByQueriedElement.get(y);E&&E.forEach(x=>x.finish())}whenRenderingDone(){return new Promise(y=>{if(this.players.length)return Ae(this.players).onDone(()=>y());y()})}processLeaveNode(y){const E=y[Er];if(E&&E.setForRemoval){if(y[Er]=Yi,E.namespaceId){this.destroyInnerAnimations(y);const x=this._fetchNamespace(E.namespaceId);x&&x.clearElementCache(y)}this._onRemovalComplete(y,E.setForRemoval)}y.classList?.contains(zs)&&this.markElementAsDisabled(y,!1),this.driver.query(y,".ng-animate-disabled",!0).forEach(x=>{this.markElementAsDisabled(x,!1)})}flush(y=-1){let E=[];if(this.newHostElements.size&&(this.newHostElements.forEach((x,Q)=>this._balanceNamespaceList(x,Q)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let x=0;x<this.collectedEnterElements.length;x++)Si(this.collectedEnterElements[x],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const x=[];try{E=this._flushAnimations(x,y)}finally{for(let Q=0;Q<x.length;Q++)x[Q]()}}else for(let x=0;x<this.collectedLeaveElements.length;x++)this.processLeaveNode(this.collectedLeaveElements[x]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(x=>x()),this._flushFns=[],this._whenQuietFns.length){const x=this._whenQuietFns;this._whenQuietFns=[],E.length?Ae(E).onDone(()=>{x.forEach(Q=>Q())}):x.forEach(Q=>Q())}}reportError(y){throw function Zn(Z){return new b.vHH(3402,!1)}()}_flushAnimations(y,E){const x=new Nr,Q=[],le=new Map,Re=[],_=new Map,N=new Map,P=new Map,F=new Set;this.disabledNodes.forEach(Xt=>{F.add(Xt);const Qt=this.driver.query(Xt,".ng-animate-queued",!0);for(let Nn=0;Nn<Qt.length;Nn++)F.add(Qt[Nn])});const ce=this.bodyNode,Ue=Array.from(this.statesByElement.keys()),Ze=ys(Ue,this.collectedEnterElements),pt=new Map;let Ht=0;Ze.forEach((Xt,Qt)=>{const Nn=Le+Ht++;pt.set(Qt,Nn),Xt.forEach(ar=>Si(ar,Nn))});const rn=[],_n=new Set,Jt=new Set;for(let Xt=0;Xt<this.collectedLeaveElements.length;Xt++){const Qt=this.collectedLeaveElements[Xt],Nn=Qt[Er];Nn&&Nn.setForRemoval&&(rn.push(Qt),_n.add(Qt),Nn.hasAnimation?this.driver.query(Qt,".ng-star-inserted",!0).forEach(ar=>_n.add(ar)):Jt.add(Qt))}const On=new Map,dn=ys(Ue,Array.from(_n));dn.forEach((Xt,Qt)=>{const Nn=ct+Ht++;On.set(Qt,Nn),Xt.forEach(ar=>Si(ar,Nn))}),y.push(()=>{Ze.forEach((Xt,Qt)=>{const Nn=pt.get(Qt);Xt.forEach(ar=>No(ar,Nn))}),dn.forEach((Xt,Qt)=>{const Nn=On.get(Qt);Xt.forEach(ar=>No(ar,Nn))}),rn.forEach(Xt=>{this.processLeaveNode(Xt)})});const $n=[],Qr=[];for(let Xt=this._namespaceList.length-1;Xt>=0;Xt--)this._namespaceList[Xt].drainQueuedTransitions(E).forEach(Nn=>{const ar=Nn.player,ui=Nn.element;if($n.push(ar),this.collectedEnterElements.length){const fi=ui[Er];if(fi&&fi.setForMove){if(fi.previousTriggersValues&&fi.previousTriggersValues.has(Nn.triggerName)){const Vo=fi.previousTriggersValues.get(Nn.triggerName),mt=this.statesByElement.get(Nn.element);if(mt&&mt.has(Nn.triggerName)){const Lr=mt.get(Nn.triggerName);Lr.value=Vo,mt.set(Nn.triggerName,Lr)}}return void ar.destroy()}}const lr=!ce||!this.driver.containsElement(ce,ui),Yr=On.get(ui),xs=pt.get(ui),Gn=this._buildInstruction(Nn,x,xs,Yr,lr);if(Gn.errors&&Gn.errors.length)return void Qr.push(Gn);if(lr)return ar.onStart(()=>sn(ui,Gn.fromStyles)),ar.onDestroy(()=>dt(ui,Gn.toStyles)),void Q.push(ar);if(Nn.isFallbackTransition)return ar.onStart(()=>sn(ui,Gn.fromStyles)),ar.onDestroy(()=>dt(ui,Gn.toStyles)),void Q.push(ar);const cs=[];Gn.timelines.forEach(fi=>{fi.stretchStartingKeyframe=!0,this.disabledNodes.has(fi.element)||cs.push(fi)}),Gn.timelines=cs,x.append(ui,Gn.timelines),Re.push({instruction:Gn,player:ar,element:ui}),Gn.queriedElements.forEach(fi=>cn(_,fi,[]).push(ar)),Gn.preStyleProps.forEach((fi,Vo)=>{if(fi.size){let mt=N.get(Vo);mt||N.set(Vo,mt=new Set),fi.forEach((Lr,vi)=>mt.add(vi))}}),Gn.postStyleProps.forEach((fi,Vo)=>{let mt=P.get(Vo);mt||P.set(Vo,mt=new Set),fi.forEach((Lr,vi)=>mt.add(vi))})});if(Qr.length){const Xt=[];Qr.forEach(Qt=>{Xt.push(function Je(Z,y){return new b.vHH(3505,!1)}())}),$n.forEach(Qt=>Qt.destroy()),this.reportError(Xt)}const Cr=new Map,yi=new Map;Re.forEach(Xt=>{const Qt=Xt.element;x.has(Qt)&&(yi.set(Qt,Qt),this._beforeAnimationBuild(Xt.player.namespaceId,Xt.instruction,Cr))}),Q.forEach(Xt=>{const Qt=Xt.element;this._getPreviousPlayers(Qt,!1,Xt.namespaceId,Xt.triggerName,null).forEach(ar=>{cn(Cr,Qt,[]).push(ar),ar.destroy()})});const zr=rn.filter(Xt=>G(Xt,N,P)),qi=new Map;zo(qi,this.driver,Jt,P,he.l3).forEach(Xt=>{G(Xt,N,P)&&zr.push(Xt)});const Vi=new Map;Ze.forEach((Xt,Qt)=>{zo(Vi,this.driver,new Set(Xt),N,he.k1)}),zr.forEach(Xt=>{const Qt=qi.get(Xt),Nn=Vi.get(Xt);qi.set(Xt,new Map([...Qt?.entries()??[],...Nn?.entries()??[]]))});const Fo=[],br=[],Ko={};Re.forEach(Xt=>{const{element:Qt,player:Nn,instruction:ar}=Xt;if(x.has(Qt)){if(F.has(Qt))return Nn.onDestroy(()=>dt(Qt,ar.toStyles)),Nn.disabled=!0,Nn.overrideTotalTime(ar.totalTime),void Q.push(Nn);let ui=Ko;if(yi.size>1){let Yr=Qt;const xs=[];for(;Yr=Yr.parentNode;){const Gn=yi.get(Yr);if(Gn){ui=Gn;break}xs.push(Yr)}xs.forEach(Gn=>yi.set(Gn,ui))}const lr=this._buildAnimation(Nn.namespaceId,ar,Cr,le,Vi,qi);if(Nn.setRealPlayer(lr),ui===Ko)Fo.push(Nn);else{const Yr=this.playersByElement.get(ui);Yr&&Yr.length&&(Nn.parentPlayer=Ae(Yr)),Q.push(Nn)}}else sn(Qt,ar.fromStyles),Nn.onDestroy(()=>dt(Qt,ar.toStyles)),br.push(Nn),F.has(Qt)&&Q.push(Nn)}),br.forEach(Xt=>{const Qt=le.get(Xt.element);if(Qt&&Qt.length){const Nn=Ae(Qt);Xt.setRealPlayer(Nn)}}),Q.forEach(Xt=>{Xt.parentPlayer?Xt.syncPlayerEvents(Xt.parentPlayer):Xt.destroy()});for(let Xt=0;Xt<rn.length;Xt++){const Qt=rn[Xt],Nn=Qt[Er];if(No(Qt,ct),Nn&&Nn.hasAnimation)continue;let ar=[];if(_.size){let lr=_.get(Qt);lr&&lr.length&&ar.push(...lr);let Yr=this.driver.query(Qt,Kt,!0);for(let xs=0;xs<Yr.length;xs++){let Gn=_.get(Yr[xs]);Gn&&Gn.length&&ar.push(...Gn)}}const ui=ar.filter(lr=>!lr.destroyed);ui.length?Da(this,Qt,ui):this.processLeaveNode(Qt)}return rn.length=0,Fo.forEach(Xt=>{this.players.push(Xt),Xt.onDone(()=>{Xt.destroy();const Qt=this.players.indexOf(Xt);this.players.splice(Qt,1)}),Xt.play()}),Fo}afterFlush(y){this._flushFns.push(y)}afterFlushAnimationsDone(y){this._whenQuietFns.push(y)}_getPreviousPlayers(y,E,x,Q,le){let Re=[];if(E){const _=this.playersByQueriedElement.get(y);_&&(Re=_)}else{const _=this.playersByElement.get(y);if(_){const N=!le||le==Zr;_.forEach(P=>{P.queued||!N&&P.triggerName!=Q||Re.push(P)})}}return(x||Q)&&(Re=Re.filter(_=>!(x&&x!=_.namespaceId||Q&&Q!=_.triggerName))),Re}_beforeAnimationBuild(y,E,x){const le=E.element,Re=E.isRemovalTransition?void 0:y,_=E.isRemovalTransition?void 0:E.triggerName;for(const N of E.timelines){const P=N.element,F=P!==le,ce=cn(x,P,[]);this._getPreviousPlayers(P,F,Re,_,E.toState).forEach(Ze=>{const pt=Ze.getRealPlayer();pt.beforeDestroy&&pt.beforeDestroy(),Ze.destroy(),ce.push(Ze)})}sn(le,E.fromStyles)}_buildAnimation(y,E,x,Q,le,Re){const _=E.triggerName,N=E.element,P=[],F=new Set,ce=new Set,Ue=E.timelines.map(pt=>{const Ht=pt.element;F.add(Ht);const rn=Ht[Er];if(rn&&rn.removedBeforeQueried)return new he.ZN(pt.duration,pt.delay);const _n=Ht!==N,Jt=function fr(Z){const y=[];return vs(Z,y),y}((x.get(Ht)||Ai).map(Cr=>Cr.getRealPlayer())).filter(Cr=>!!Cr.element&&Cr.element===Ht),On=le.get(Ht),dn=Re.get(Ht),$n=Ge(this._normalizer,pt.keyframes,On,dn),Qr=this._buildPlayer(pt,$n,Jt);if(pt.subTimeline&&Q&&ce.add(Ht),_n){const Cr=new Oo(y,_,Ht);Cr.setRealPlayer(Qr),P.push(Cr)}return Qr});P.forEach(pt=>{cn(this.playersByQueriedElement,pt.element,[]).push(pt),pt.onDone(()=>function Ji(Z,y,E){let x=Z.get(y);if(x){if(x.length){const Q=x.indexOf(E);x.splice(Q,1)}0==x.length&&Z.delete(y)}return x}(this.playersByQueriedElement,pt.element,pt))}),F.forEach(pt=>Si(pt,kt));const Ze=Ae(Ue);return Ze.onDestroy(()=>{F.forEach(pt=>No(pt,kt)),dt(N,E.toStyles)}),ce.forEach(pt=>{cn(Q,pt,[]).push(Ze)}),Ze}_buildPlayer(y,E,x){return E.length>0?this.driver.animate(y.element,E,y.duration,y.delay,y.easing,x):new he.ZN(y.duration,y.delay)}}class Oo{constructor(y,E,x){this.namespaceId=y,this.triggerName=E,this.element=x,this._player=new he.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(y){this._containsRealPlayer||(this._player=y,this._queuedCallbacks.forEach((E,x)=>{E.forEach(Q=>Ke(y,x,void 0,Q))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(y.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(y){this.totalTime=y}syncPlayerEvents(y){const E=this._player;E.triggerCallback&&y.onStart(()=>E.triggerCallback("start")),y.onDone(()=>this.finish()),y.onDestroy(()=>this.destroy())}_queueEvent(y,E){cn(this._queuedCallbacks,y,[]).push(E)}onDone(y){this.queued&&this._queueEvent("done",y),this._player.onDone(y)}onStart(y){this.queued&&this._queueEvent("start",y),this._player.onStart(y)}onDestroy(y){this.queued&&this._queueEvent("destroy",y),this._player.onDestroy(y)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(y){this.queued||this._player.setPosition(y)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(y){const E=this._player;E.triggerCallback&&E.triggerCallback(y)}}function ai(Z){return Z&&1===Z.nodeType}function Ha(Z,y){const E=Z.style.display;return Z.style.display=y??"none",E}function zo(Z,y,E,x,Q){const le=[];E.forEach(N=>le.push(Ha(N)));const Re=[];x.forEach((N,P)=>{const F=new Map;N.forEach(ce=>{const Ue=y.computeStyle(P,ce,Q);F.set(ce,Ue),(!Ue||0==Ue.length)&&(P[Er]=ao,Re.push(P))}),Z.set(P,F)});let _=0;return E.forEach(N=>Ha(N,le[_++])),Re}function ys(Z,y){const E=new Map;if(Z.forEach(_=>E.set(_,[])),0==y.length)return E;const Q=new Set(y),le=new Map;function Re(_){if(!_)return 1;let N=le.get(_);if(N)return N;const P=_.parentNode;return N=E.has(P)?P:Q.has(P)?1:Re(P),le.set(_,N),N}return y.forEach(_=>{const N=Re(_);1!==N&&E.get(N).push(_)}),E}function Si(Z,y){Z.classList?.add(y)}function No(Z,y){Z.classList?.remove(y)}function Da(Z,y,E){Ae(E).onDone(()=>Z.processLeaveNode(y))}function vs(Z,y){for(let E=0;E<Z.length;E++){const x=Z[E];x instanceof he.ZE?vs(x.players,y):y.push(x)}}function G(Z,y,E){const x=E.get(Z);if(!x)return!1;let Q=y.get(Z);return Q?x.forEach(le=>Q.add(le)):y.set(Z,x),E.delete(Z),!0}class K{constructor(y,E,x){this.bodyNode=y,this._driver=E,this._normalizer=x,this._triggerCache={},this.onRemovalComplete=(Q,le)=>{},this._transitionEngine=new Li(y,E,x),this._timelineEngine=new Gi(y,E,x),this._transitionEngine.onRemovalComplete=(Q,le)=>this.onRemovalComplete(Q,le)}registerTrigger(y,E,x,Q,le){const Re=y+"-"+Q;let _=this._triggerCache[Re];if(!_){const N=[],F=Ro(this._driver,le,N,[]);if(N.length)throw function Vt(Z,y){return new b.vHH(3404,!1)}();_=function zi(Z,y,E){return new cr(Z,y,E)}(Q,F,this._normalizer),this._triggerCache[Re]=_}this._transitionEngine.registerTrigger(E,Q,_)}register(y,E){this._transitionEngine.register(y,E)}destroy(y,E){this._transitionEngine.destroy(y,E)}onInsert(y,E,x,Q){this._transitionEngine.insertNode(y,E,x,Q)}onRemove(y,E,x){this._transitionEngine.removeNode(y,E,x)}disableAnimations(y,E){this._transitionEngine.markElementAsDisabled(y,E)}process(y,E,x,Q){if("@"==x.charAt(0)){const[le,Re]=vn(x);this._timelineEngine.command(le,E,Re,Q)}else this._transitionEngine.trigger(y,E,x,Q)}listen(y,E,x,Q,le){if("@"==x.charAt(0)){const[Re,_]=vn(x);return this._timelineEngine.listen(Re,E,_,le)}return this._transitionEngine.listen(y,E,x,Q,le)}flush(y=-1){this._transitionEngine.flush(y)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(y){this._transitionEngine.afterFlushAnimationsDone(y)}}let se=(()=>{class Z{static#e=this.initialStylesByElement=new WeakMap;constructor(E,x,Q){this._element=E,this._startStyles=x,this._endStyles=Q,this._state=0;let le=Z.initialStylesByElement.get(E);le||Z.initialStylesByElement.set(E,le=new Map),this._initialStyles=le}start(){this._state<1&&(this._startStyles&&dt(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(dt(this._element,this._initialStyles),this._endStyles&&(dt(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Z.initialStylesByElement.delete(this._element),this._startStyles&&(sn(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(sn(this._element,this._endStyles),this._endStyles=null),dt(this._element,this._initialStyles),this._state=3)}}return Z})();function be(Z){let y=null;return Z.forEach((E,x)=>{(function tn(Z){return"display"===Z||"position"===Z})(x)&&(y=y||new Map,y.set(x,E))}),y}class Tn{constructor(y,E,x,Q){this.element=y,this.keyframes=E,this.options=x,this._specialStyles=Q,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=x.duration,this._delay=x.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(y=>y()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const y=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,y,this.options),this._finalKeyframe=y.length?y[y.length-1]:new Map;const E=()=>this._onFinish();this.domPlayer.addEventListener("finish",E),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",E)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(y){const E=[];return y.forEach(x=>{E.push(Object.fromEntries(x))}),E}_triggerWebAnimation(y,E,x){return y.animate(this._convertKeyframesToObject(E),x)}onStart(y){this._originalOnStartFns.push(y),this._onStartFns.push(y)}onDone(y){this._originalOnDoneFns.push(y),this._onDoneFns.push(y)}onDestroy(y){this._onDestroyFns.push(y)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(y=>y()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(y=>y()),this._onDestroyFns=[])}setPosition(y){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=y*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const y=new Map;this.hasStarted()&&this._finalKeyframe.forEach((x,Q)=>{"offset"!==Q&&y.set(Q,this._finished?x:Oi(this.element,Q))}),this.currentSnapshot=y}triggerCallback(y){const E="start"===y?this._onStartFns:this._onDoneFns;E.forEach(x=>x()),E.length=0}}class gi{validateStyleProperty(y){return!0}validateAnimatableStyleProperty(y){return!0}matchesElement(y,E){return!1}containsElement(y,E){return Ar(y,E)}getParentElement(y){return Fr(y)}query(y,E,x){return Vr(y,E,x)}computeStyle(y,E,x){return window.getComputedStyle(y)[E]}animate(y,E,x,Q,le,Re=[]){const N={duration:x,delay:Q,fill:0==Q?"both":"forwards"};le&&(N.easing=le);const P=new Map,F=Re.filter(Ze=>Ze instanceof Tn);(function jn(Z,y){return 0===Z||0===y})(x,Q)&&F.forEach(Ze=>{Ze.currentSnapshot.forEach((pt,Ht)=>P.set(Ht,pt))});let ce=function Be(Z){return Z.length?Z[0]instanceof Map?Z:Z.map(y=>we(y)):[]}(E).map(Ze=>St(Ze));ce=function xi(Z,y,E){if(E.size&&y.length){let x=y[0],Q=[];if(E.forEach((le,Re)=>{x.has(Re)||Q.push(Re),x.set(Re,le)}),Q.length)for(let le=1;le<y.length;le++){let Re=y[le];Q.forEach(_=>Re.set(_,Oi(Z,_)))}}return y}(y,ce,P);const Ue=function O(Z,y){let E=null,x=null;return Array.isArray(y)&&y.length?(E=be(y[0]),y.length>1&&(x=be(y[y.length-1]))):y instanceof Map&&(E=be(y)),E||x?new se(Z,E,x):null}(y,ce);return new Tn(y,ce,N,Ue)}}let Is=(()=>{class Z extends he._j{constructor(E,x){super(),this._nextAnimationId=0,this._renderer=E.createRenderer(x.body,{id:"0",encapsulation:b.ifc.None,styles:[],data:{animation:[]}})}build(E){const x=this._nextAnimationId.toString();this._nextAnimationId++;const Q=Array.isArray(E)?(0,he.vP)(E):E;return Wi(this._renderer,null,x,"register",[Q]),new ki(x,this._renderer)}static#e=this.\u0275fac=function(x){return new(x||Z)(b.LFG(b.FYo),b.LFG(z.K0))};static#t=this.\u0275prov=b.Yz7({token:Z,factory:Z.\u0275fac})}return Z})();class ki extends he.LC{constructor(y,E){super(),this._id=y,this._renderer=E}create(y,E){return new To(this._id,y,E||{},this._renderer)}}class To{constructor(y,E,x,Q){this.id=y,this.element=E,this._renderer=Q,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",x)}_listen(y,E){return this._renderer.listen(this.element,`@@${this.id}:${y}`,E)}_command(y,...E){return Wi(this._renderer,this.element,this.id,y,E)}onDone(y){this._listen("done",y)}onStart(y){this._listen("start",y)}onDestroy(y){this._listen("destroy",y)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(y){this._command("setPosition",y)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Wi(Z,y,E,x,Q){return Z.setProperty(y,`@@${E}:${x}`,Q)}const uo="@.disabled";let co=(()=>{class Z{constructor(E,x,Q){this.delegate=E,this.engine=x,this._zone=Q,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,x.onRemovalComplete=(le,Re)=>{const _=Re?.parentNode(le);_&&Re.removeChild(_,le)}}createRenderer(E,x){const le=this.delegate.createRenderer(E,x);if(!(E&&x&&x.data&&x.data.animation)){let F=this._rendererCache.get(le);return F||(F=new li("",le,this.engine,()=>this._rendererCache.delete(le)),this._rendererCache.set(le,F)),F}const Re=x.id,_=x.id+"-"+this._currentId;this._currentId++,this.engine.register(_,E);const N=F=>{Array.isArray(F)?F.forEach(N):this.engine.registerTrigger(Re,_,E,F.name,F)};return x.data.animation.forEach(N),new Ws(this,_,le,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(E,x,Q){E>=0&&E<this._microtaskId?this._zone.run(()=>x(Q)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(le=>{const[Re,_]=le;Re(_)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([x,Q]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(x){return new(x||Z)(b.LFG(b.FYo),b.LFG(K),b.LFG(b.R0b))};static#t=this.\u0275prov=b.Yz7({token:Z,factory:Z.\u0275fac})}return Z})();class li{constructor(y,E,x,Q){this.namespaceId=y,this.delegate=E,this.engine=x,this._onDestroy=Q}get data(){return this.delegate.data}destroyNode(y){this.delegate.destroyNode?.(y)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(y,E){return this.delegate.createElement(y,E)}createComment(y){return this.delegate.createComment(y)}createText(y){return this.delegate.createText(y)}appendChild(y,E){this.delegate.appendChild(y,E),this.engine.onInsert(this.namespaceId,E,y,!1)}insertBefore(y,E,x,Q=!0){this.delegate.insertBefore(y,E,x),this.engine.onInsert(this.namespaceId,E,y,Q)}removeChild(y,E,x){this.engine.onRemove(this.namespaceId,E,this.delegate)}selectRootElement(y,E){return this.delegate.selectRootElement(y,E)}parentNode(y){return this.delegate.parentNode(y)}nextSibling(y){return this.delegate.nextSibling(y)}setAttribute(y,E,x,Q){this.delegate.setAttribute(y,E,x,Q)}removeAttribute(y,E,x){this.delegate.removeAttribute(y,E,x)}addClass(y,E){this.delegate.addClass(y,E)}removeClass(y,E){this.delegate.removeClass(y,E)}setStyle(y,E,x,Q){this.delegate.setStyle(y,E,x,Q)}removeStyle(y,E,x){this.delegate.removeStyle(y,E,x)}setProperty(y,E,x){"@"==E.charAt(0)&&E==uo?this.disableAnimations(y,!!x):this.delegate.setProperty(y,E,x)}setValue(y,E){this.delegate.setValue(y,E)}listen(y,E,x){return this.delegate.listen(y,E,x)}disableAnimations(y,E){this.engine.disableAnimations(y,E)}}class Ws extends li{constructor(y,E,x,Q,le){super(E,x,Q,le),this.factory=y,this.namespaceId=E}setProperty(y,E,x){"@"==E.charAt(0)?"."==E.charAt(1)&&E==uo?this.disableAnimations(y,x=void 0===x||!!x):this.engine.process(this.namespaceId,y,E.slice(1),x):this.delegate.setProperty(y,E,x)}listen(y,E,x){if("@"==E.charAt(0)){const Q=function Fi(Z){switch(Z){case"body":return document.body;case"document":return document;case"window":return window;default:return Z}}(y);let le=E.slice(1),Re="";return"@"!=le.charAt(0)&&([le,Re]=function Go(Z){const y=Z.indexOf(".");return[Z.substring(0,y),Z.slice(y+1)]}(le)),this.engine.listen(this.namespaceId,Q,le,Re,_=>{this.factory.scheduleListenerCallback(_._data||-1,x,_)})}return this.delegate.listen(y,E,x)}}const wo=[{provide:he._j,useClass:Is},{provide:bi,useFactory:function Wo(){return new hi}},{provide:K,useClass:(()=>{class Z extends K{constructor(E,x,Q,le){super(E.body,x,Q)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(x){return new(x||Z)(b.LFG(z.K0),b.LFG($),b.LFG(bi),b.LFG(b.z2F))};static#t=this.\u0275prov=b.Yz7({token:Z,factory:Z.\u0275fac})}return Z})()},{provide:b.FYo,useFactory:function Rs(Z,y,E){return new co(Z,y,E)},deps:[p.se,K,b.R0b]}],Es=[{provide:$,useFactory:()=>new gi},{provide:b.QbO,useValue:"BrowserAnimations"},...wo],Co=[{provide:$,useClass:re},{provide:b.QbO,useValue:"NoopAnimations"},...wo];let oa=(()=>{class Z{static withConfig(E){return{ngModule:Z,providers:E.disableAnimations?Co:Es}}static#e=this.\u0275fac=function(x){return new(x||Z)};static#t=this.\u0275mod=b.oAB({type:Z});static#n=this.\u0275inj=b.cJS({providers:Es,imports:[p.b2]})}return Z})();var ko=U(7217),Ks=U(7213),Ms=U(553),Aa=U(336),qo=U(5124),Fl=U(4532),Vl=U(8516),Ts=U(3714),ul=U(734);let Ul=(()=>{class Z{static#e=this.\u0275fac=function(x){return new(x||Z)};static#t=this.\u0275mod=b.oAB({type:Z,bootstrap:[Ce]});static#n=this.\u0275inj=b.cJS({providers:[{provide:z.S$,useClass:z.Do}],imports:[p.b2,ge,ye.JF,X.u5,oa,Fl.d,ko.hO.initializeApp(Ms.N.firebase),Ks.ww,Aa.hJ,qo.nD,Vl.W6,Ts.j,ul.y]})}return Z})();p.q6().bootstrapModule(Ul).catch(Z=>console.error(Z))},5619:(xt,je,U)=>{U.d(je,{X:()=>V});var p=U(8645);class V extends p.x{constructor(Te){super(),this._value=Te}get value(){return this.getValue()}_subscribe(Te){const z=super._subscribe(Te);return!z.closed&&Te.next(this._value),z}getValue(){const{hasError:Te,thrownError:z,_value:J}=this;if(Te)throw z;return this._throwIfClosed(),J}next(Te){super.next(this._value=Te)}}},5592:(xt,je,U)=>{U.d(je,{y:()=>ue});var p=U(305),V=U(7394),b=U(4850),Te=U(8407),z=U(2653),J=U(4674),q=U(1441);let ue=(()=>{class Ee{constructor(Ye){Ye&&(this._subscribe=Ye)}lift(Ye){const lt=new Ee;return lt.source=this,lt.operator=Ye,lt}subscribe(Ye,lt,tt){const rt=function oe(Ee){return Ee&&Ee instanceof p.Lv||function X(Ee){return Ee&&(0,J.m)(Ee.next)&&(0,J.m)(Ee.error)&&(0,J.m)(Ee.complete)}(Ee)&&(0,V.Nn)(Ee)}(Ye)?Ye:new p.Hp(Ye,lt,tt);return(0,q.x)(()=>{const{operator:it,source:wt}=this;rt.add(it?it.call(rt,wt):wt?this._subscribe(rt):this._trySubscribe(rt))}),rt}_trySubscribe(Ye){try{return this._subscribe(Ye)}catch(lt){Ye.error(lt)}}forEach(Ye,lt){return new(lt=de(lt))((tt,rt)=>{const it=new p.Hp({next:wt=>{try{Ye(wt)}catch(ut){rt(ut),it.unsubscribe()}},error:rt,complete:tt});this.subscribe(it)})}_subscribe(Ye){var lt;return null===(lt=this.source)||void 0===lt?void 0:lt.subscribe(Ye)}[b.L](){return this}pipe(...Ye){return(0,Te.U)(Ye)(this)}toPromise(Ye){return new(Ye=de(Ye))((lt,tt)=>{let rt;this.subscribe(it=>rt=it,it=>tt(it),()=>lt(rt))})}}return Ee.create=ze=>new Ee(ze),Ee})();function de(Ee){var ze;return null!==(ze=Ee??z.config.Promise)&&void 0!==ze?ze:Promise}},8645:(xt,je,U)=>{U.d(je,{x:()=>q});var p=U(5592),V=U(7394);const Te=(0,U(2306).d)(de=>function(){de(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var z=U(9039),J=U(1441);let q=(()=>{class de extends p.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(oe){const Ee=new ue(this,this);return Ee.operator=oe,Ee}_throwIfClosed(){if(this.closed)throw new Te}next(oe){(0,J.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Ee of this.currentObservers)Ee.next(oe)}})}error(oe){(0,J.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=oe;const{observers:Ee}=this;for(;Ee.length;)Ee.shift().error(oe)}})}complete(){(0,J.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:oe}=this;for(;oe.length;)oe.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var oe;return(null===(oe=this.observers)||void 0===oe?void 0:oe.length)>0}_trySubscribe(oe){return this._throwIfClosed(),super._trySubscribe(oe)}_subscribe(oe){return this._throwIfClosed(),this._checkFinalizedStatuses(oe),this._innerSubscribe(oe)}_innerSubscribe(oe){const{hasError:Ee,isStopped:ze,observers:Ye}=this;return Ee||ze?V.Lc:(this.currentObservers=null,Ye.push(oe),new V.w0(()=>{this.currentObservers=null,(0,z.P)(Ye,oe)}))}_checkFinalizedStatuses(oe){const{hasError:Ee,thrownError:ze,isStopped:Ye}=this;Ee?oe.error(ze):Ye&&oe.complete()}asObservable(){const oe=new p.y;return oe.source=this,oe}}return de.create=(X,oe)=>new ue(X,oe),de})();class ue extends q{constructor(X,oe){super(),this.destination=X,this.source=oe}next(X){var oe,Ee;null===(Ee=null===(oe=this.destination)||void 0===oe?void 0:oe.next)||void 0===Ee||Ee.call(oe,X)}error(X){var oe,Ee;null===(Ee=null===(oe=this.destination)||void 0===oe?void 0:oe.error)||void 0===Ee||Ee.call(oe,X)}complete(){var X,oe;null===(oe=null===(X=this.destination)||void 0===X?void 0:X.complete)||void 0===oe||oe.call(X)}_subscribe(X){var oe,Ee;return null!==(Ee=null===(oe=this.source)||void 0===oe?void 0:oe.subscribe(X))&&void 0!==Ee?Ee:V.Lc}}},305:(xt,je,U)=>{U.d(je,{Hp:()=>tt,Lv:()=>Ee});var p=U(4674),V=U(7394),b=U(2653),Te=U(3894),z=U(2420);const J=de("C",void 0,void 0);function de(ae,Me,me){return{kind:ae,value:Me,error:me}}var X=U(7599),oe=U(1441);class Ee extends V.w0{constructor(Me){super(),this.isStopped=!1,Me?(this.destination=Me,(0,V.Nn)(Me)&&Me.add(this)):this.destination=ut}static create(Me,me,ge){return new tt(Me,me,ge)}next(Me){this.isStopped?wt(function ue(ae){return de("N",ae,void 0)}(Me),this):this._next(Me)}error(Me){this.isStopped?wt(function q(ae){return de("E",void 0,ae)}(Me),this):(this.isStopped=!0,this._error(Me))}complete(){this.isStopped?wt(J,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Me){this.destination.next(Me)}_error(Me){try{this.destination.error(Me)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ze=Function.prototype.bind;function Ye(ae,Me){return ze.call(ae,Me)}class lt{constructor(Me){this.partialObserver=Me}next(Me){const{partialObserver:me}=this;if(me.next)try{me.next(Me)}catch(ge){rt(ge)}}error(Me){const{partialObserver:me}=this;if(me.error)try{me.error(Me)}catch(ge){rt(ge)}else rt(Me)}complete(){const{partialObserver:Me}=this;if(Me.complete)try{Me.complete()}catch(me){rt(me)}}}class tt extends Ee{constructor(Me,me,ge){let Ce;if(super(),(0,p.m)(Me)||!Me)Ce={next:Me??void 0,error:me??void 0,complete:ge??void 0};else{let ye;this&&b.config.useDeprecatedNextContext?(ye=Object.create(Me),ye.unsubscribe=()=>this.unsubscribe(),Ce={next:Me.next&&Ye(Me.next,ye),error:Me.error&&Ye(Me.error,ye),complete:Me.complete&&Ye(Me.complete,ye)}):Ce=Me}this.destination=new lt(Ce)}}function rt(ae){b.config.useDeprecatedSynchronousErrorHandling?(0,oe.O)(ae):(0,Te.h)(ae)}function wt(ae,Me){const{onStoppedNotification:me}=b.config;me&&X.z.setTimeout(()=>me(ae,Me))}const ut={closed:!0,next:z.Z,error:function it(ae){throw ae},complete:z.Z}},7394:(xt,je,U)=>{U.d(je,{Lc:()=>J,w0:()=>z,Nn:()=>q});var p=U(4674);const b=(0,U(2306).d)(de=>function(oe){de(this),this.message=oe?`${oe.length} errors occurred during unsubscription:\n${oe.map((Ee,ze)=>`${ze+1}) ${Ee.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=oe});var Te=U(9039);class z{constructor(X){this.initialTeardown=X,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let X;if(!this.closed){this.closed=!0;const{_parentage:oe}=this;if(oe)if(this._parentage=null,Array.isArray(oe))for(const Ye of oe)Ye.remove(this);else oe.remove(this);const{initialTeardown:Ee}=this;if((0,p.m)(Ee))try{Ee()}catch(Ye){X=Ye instanceof b?Ye.errors:[Ye]}const{_finalizers:ze}=this;if(ze){this._finalizers=null;for(const Ye of ze)try{ue(Ye)}catch(lt){X=X??[],lt instanceof b?X=[...X,...lt.errors]:X.push(lt)}}if(X)throw new b(X)}}add(X){var oe;if(X&&X!==this)if(this.closed)ue(X);else{if(X instanceof z){if(X.closed||X._hasParent(this))return;X._addParent(this)}(this._finalizers=null!==(oe=this._finalizers)&&void 0!==oe?oe:[]).push(X)}}_hasParent(X){const{_parentage:oe}=this;return oe===X||Array.isArray(oe)&&oe.includes(X)}_addParent(X){const{_parentage:oe}=this;this._parentage=Array.isArray(oe)?(oe.push(X),oe):oe?[oe,X]:X}_removeParent(X){const{_parentage:oe}=this;oe===X?this._parentage=null:Array.isArray(oe)&&(0,Te.P)(oe,X)}remove(X){const{_finalizers:oe}=this;oe&&(0,Te.P)(oe,X),X instanceof z&&X._removeParent(this)}}z.EMPTY=(()=>{const de=new z;return de.closed=!0,de})();const J=z.EMPTY;function q(de){return de instanceof z||de&&"closed"in de&&(0,p.m)(de.remove)&&(0,p.m)(de.add)&&(0,p.m)(de.unsubscribe)}function ue(de){(0,p.m)(de)?de():de.unsubscribe()}},2653:(xt,je,U)=>{U.d(je,{config:()=>p});const p={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},5211:(xt,je,U)=>{U.d(je,{z:()=>z});var p=U(7537),b=U(4564),Te=U(2459);function z(...J){return function V(){return(0,p.J)(1)}()((0,Te.D)(J,(0,b.yG)(J)))}},6232:(xt,je,U)=>{U.d(je,{E:()=>V});const V=new(U(5592).y)(z=>z.complete())},2459:(xt,je,U)=>{U.d(je,{D:()=>Me});var p=U(4829),V=U(3093),b=U(5137),J=U(5592),ue=U(4971),de=U(4674),X=U(7103);function Ee(me,ge){if(!me)throw new Error("Iterable cannot be null");return new J.y(Ce=>{(0,X.f)(Ce,ge,()=>{const ye=me[Symbol.asyncIterator]();(0,X.f)(Ce,ge,()=>{ye.next().then(he=>{he.done?Ce.complete():Ce.next(he.value)})},0,!0)})})}var ze=U(8382),Ye=U(4026),lt=U(4266),tt=U(3664),rt=U(5726),it=U(9853),wt=U(541);function Me(me,ge){return ge?function ae(me,ge){if(null!=me){if((0,ze.c)(me))return function Te(me,ge){return(0,p.Xf)(me).pipe((0,b.R)(ge),(0,V.Q)(ge))}(me,ge);if((0,lt.z)(me))return function q(me,ge){return new J.y(Ce=>{let ye=0;return ge.schedule(function(){ye===me.length?Ce.complete():(Ce.next(me[ye++]),Ce.closed||this.schedule())})})}(me,ge);if((0,Ye.t)(me))return function z(me,ge){return(0,p.Xf)(me).pipe((0,b.R)(ge),(0,V.Q)(ge))}(me,ge);if((0,rt.D)(me))return Ee(me,ge);if((0,tt.T)(me))return function oe(me,ge){return new J.y(Ce=>{let ye;return(0,X.f)(Ce,ge,()=>{ye=me[ue.h](),(0,X.f)(Ce,ge,()=>{let he,at;try{({value:he,done:at}=ye.next())}catch(Ct){return void Ce.error(Ct)}at?Ce.complete():Ce.next(he)},0,!0)}),()=>(0,de.m)(ye?.return)&&ye.return()})}(me,ge);if((0,wt.L)(me))return function ut(me,ge){return Ee((0,wt.Q)(me),ge)}(me,ge)}throw(0,it.z)(me)}(me,ge):(0,p.Xf)(me)}},4829:(xt,je,U)=>{U.d(je,{Xf:()=>ze});var p=U(7582),V=U(4266),b=U(4026),Te=U(5592),z=U(8382),J=U(5726),q=U(9853),ue=U(3664),de=U(541),X=U(4674),oe=U(3894),Ee=U(4850);function ze(ae){if(ae instanceof Te.y)return ae;if(null!=ae){if((0,z.c)(ae))return function Ye(ae){return new Te.y(Me=>{const me=ae[Ee.L]();if((0,X.m)(me.subscribe))return me.subscribe(Me);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ae);if((0,V.z)(ae))return function lt(ae){return new Te.y(Me=>{for(let me=0;me<ae.length&&!Me.closed;me++)Me.next(ae[me]);Me.complete()})}(ae);if((0,b.t)(ae))return function tt(ae){return new Te.y(Me=>{ae.then(me=>{Me.closed||(Me.next(me),Me.complete())},me=>Me.error(me)).then(null,oe.h)})}(ae);if((0,J.D)(ae))return it(ae);if((0,ue.T)(ae))return function rt(ae){return new Te.y(Me=>{for(const me of ae)if(Me.next(me),Me.closed)return;Me.complete()})}(ae);if((0,de.L)(ae))return function wt(ae){return it((0,de.Q)(ae))}(ae)}throw(0,q.z)(ae)}function it(ae){return new Te.y(Me=>{(function ut(ae,Me){var me,ge,Ce,ye;return(0,p.mG)(this,void 0,void 0,function*(){try{for(me=(0,p.KL)(ae);!(ge=yield me.next()).done;)if(Me.next(ge.value),Me.closed)return}catch(he){Ce={error:he}}finally{try{ge&&!ge.done&&(ye=me.return)&&(yield ye.call(me))}finally{if(Ce)throw Ce.error}}Me.complete()})})(ae,Me).catch(me=>Me.error(me))})}},3019:(xt,je,U)=>{U.d(je,{T:()=>J});var p=U(7537),V=U(4829),b=U(6232),Te=U(4564),z=U(2459);function J(...q){const ue=(0,Te.yG)(q),de=(0,Te._6)(q,1/0),X=q;return X.length?1===X.length?(0,V.Xf)(X[0]):(0,p.J)(de)((0,z.D)(X,ue)):b.E}},2096:(xt,je,U)=>{U.d(je,{of:()=>b});var p=U(4564),V=U(2459);function b(...Te){const z=(0,p.yG)(Te);return(0,V.D)(Te,z)}},8251:(xt,je,U)=>{U.d(je,{x:()=>V});var p=U(305);function V(Te,z,J,q,ue){return new b(Te,z,J,q,ue)}class b extends p.Lv{constructor(z,J,q,ue,de,X){super(z),this.onFinalize=de,this.shouldUnsubscribe=X,this._next=J?function(oe){try{J(oe)}catch(Ee){z.error(Ee)}}:super._next,this._error=ue?function(oe){try{ue(oe)}catch(Ee){z.error(Ee)}finally{this.unsubscribe()}}:super._error,this._complete=q?function(){try{q()}catch(oe){z.error(oe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var z;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:J}=this;super.unsubscribe(),!J&&(null===(z=this.onFinalize)||void 0===z||z.call(this))}}}},6328:(xt,je,U)=>{U.d(je,{b:()=>b});var p=U(1631),V=U(4674);function b(Te,z){return(0,V.m)(z)?(0,p.z)(Te,z,1):(0,p.z)(Te,1)}},3572:(xt,je,U)=>{U.d(je,{d:()=>b});var p=U(9360),V=U(8251);function b(Te){return(0,p.e)((z,J)=>{let q=!1;z.subscribe((0,V.x)(J,ue=>{q=!0,J.next(ue)},()=>{q||J.next(Te),J.complete()}))})}},3997:(xt,je,U)=>{U.d(je,{x:()=>Te});var p=U(2737),V=U(9360),b=U(8251);function Te(J,q=p.y){return J=J??z,(0,V.e)((ue,de)=>{let X,oe=!0;ue.subscribe((0,b.x)(de,Ee=>{const ze=q(Ee);(oe||!J(X,ze))&&(oe=!1,X=ze,de.next(Ee))}))})}function z(J,q){return J===q}},2181:(xt,je,U)=>{U.d(je,{h:()=>b});var p=U(9360),V=U(8251);function b(Te,z){return(0,p.e)((J,q)=>{let ue=0;J.subscribe((0,V.x)(q,de=>Te.call(z,de,ue++)&&q.next(de)))})}},4716:(xt,je,U)=>{U.d(je,{x:()=>V});var p=U(9360);function V(b){return(0,p.e)((Te,z)=>{try{Te.subscribe(z)}finally{z.add(b)}})}},1374:(xt,je,U)=>{U.d(je,{P:()=>q});var p=U(6973),V=U(2181),b=U(8180),Te=U(3572),z=U(3026),J=U(2737);function q(ue,de){const X=arguments.length>=2;return oe=>oe.pipe(ue?(0,V.h)((Ee,ze)=>ue(Ee,ze,oe)):J.y,(0,b.q)(1),X?(0,Te.d)(de):(0,z.T)(()=>new p.K))}},7398:(xt,je,U)=>{U.d(je,{U:()=>b});var p=U(9360),V=U(8251);function b(Te,z){return(0,p.e)((J,q)=>{let ue=0;J.subscribe((0,V.x)(q,de=>{q.next(Te.call(z,de,ue++))}))})}},7537:(xt,je,U)=>{U.d(je,{J:()=>b});var p=U(1631),V=U(2737);function b(Te=1/0){return(0,p.z)(V.y,Te)}},1631:(xt,je,U)=>{U.d(je,{z:()=>ue});var p=U(7398),V=U(4829),b=U(9360),Te=U(7103),z=U(8251),q=U(4674);function ue(de,X,oe=1/0){return(0,q.m)(X)?ue((Ee,ze)=>(0,p.U)((Ye,lt)=>X(Ee,Ye,ze,lt))((0,V.Xf)(de(Ee,ze))),oe):("number"==typeof X&&(oe=X),(0,b.e)((Ee,ze)=>function J(de,X,oe,Ee,ze,Ye,lt,tt){const rt=[];let it=0,wt=0,ut=!1;const ae=()=>{ut&&!rt.length&&!it&&X.complete()},Me=ge=>it<Ee?me(ge):rt.push(ge),me=ge=>{Ye&&X.next(ge),it++;let Ce=!1;(0,V.Xf)(oe(ge,wt++)).subscribe((0,z.x)(X,ye=>{ze?.(ye),Ye?Me(ye):X.next(ye)},()=>{Ce=!0},void 0,()=>{if(Ce)try{for(it--;rt.length&&it<Ee;){const ye=rt.shift();lt?(0,Te.f)(X,lt,()=>me(ye)):me(ye)}ae()}catch(ye){X.error(ye)}}))};return de.subscribe((0,z.x)(X,Me,()=>{ut=!0,ae()})),()=>{tt?.()}}(Ee,ze,de,oe)))}},3093:(xt,je,U)=>{U.d(je,{Q:()=>Te});var p=U(7103),V=U(9360),b=U(8251);function Te(z,J=0){return(0,V.e)((q,ue)=>{q.subscribe((0,b.x)(ue,de=>(0,p.f)(ue,z,()=>ue.next(de),J),()=>(0,p.f)(ue,z,()=>ue.complete(),J),de=>(0,p.f)(ue,z,()=>ue.error(de),J)))})}},6699:(xt,je,U)=>{U.d(je,{R:()=>Te});var p=U(9360),V=U(8251);function Te(z,J){return(0,p.e)(function b(z,J,q,ue,de){return(X,oe)=>{let Ee=q,ze=J,Ye=0;X.subscribe((0,V.x)(oe,lt=>{const tt=Ye++;ze=Ee?z(ze,lt,tt):(Ee=!0,lt),ue&&oe.next(ze)},de&&(()=>{Ee&&oe.next(ze),oe.complete()})))}}(z,J,arguments.length>=2,!0))}},3020:(xt,je,U)=>{U.d(je,{B:()=>z});var p=U(4829),V=U(8645),b=U(305),Te=U(9360);function z(q={}){const{connector:ue=(()=>new V.x),resetOnError:de=!0,resetOnComplete:X=!0,resetOnRefCountZero:oe=!0}=q;return Ee=>{let ze,Ye,lt,tt=0,rt=!1,it=!1;const wt=()=>{Ye?.unsubscribe(),Ye=void 0},ut=()=>{wt(),ze=lt=void 0,rt=it=!1},ae=()=>{const Me=ze;ut(),Me?.unsubscribe()};return(0,Te.e)((Me,me)=>{tt++,!it&&!rt&&wt();const ge=lt=lt??ue();me.add(()=>{tt--,0===tt&&!it&&!rt&&(Ye=J(ae,oe))}),ge.subscribe(me),!ze&&tt>0&&(ze=new b.Hp({next:Ce=>ge.next(Ce),error:Ce=>{it=!0,wt(),Ye=J(ut,de,Ce),ge.error(Ce)},complete:()=>{rt=!0,wt(),Ye=J(ut,X),ge.complete()}}),(0,p.Xf)(Me).subscribe(ze))})(Ee)}}function J(q,ue,...de){if(!0===ue)return void q();if(!1===ue)return;const X=new b.Hp({next:()=>{X.unsubscribe(),q()}});return(0,p.Xf)(ue(...de)).subscribe(X)}},7921:(xt,je,U)=>{U.d(je,{O:()=>Te});var p=U(5211),V=U(4564),b=U(9360);function Te(...z){const J=(0,V.yG)(z);return(0,b.e)((q,ue)=>{(J?(0,p.z)(z,q,J):(0,p.z)(z,q)).subscribe(ue)})}},5137:(xt,je,U)=>{U.d(je,{R:()=>V});var p=U(9360);function V(b,Te=0){return(0,p.e)((z,J)=>{J.add(b.schedule(()=>z.subscribe(J),Te))})}},4664:(xt,je,U)=>{U.d(je,{w:()=>Te});var p=U(4829),V=U(9360),b=U(8251);function Te(z,J){return(0,V.e)((q,ue)=>{let de=null,X=0,oe=!1;const Ee=()=>oe&&!de&&ue.complete();q.subscribe((0,b.x)(ue,ze=>{de?.unsubscribe();let Ye=0;const lt=X++;(0,p.Xf)(z(ze,lt)).subscribe(de=(0,b.x)(ue,tt=>ue.next(J?J(ze,tt,lt,Ye++):tt),()=>{de=null,Ee()}))},()=>{oe=!0,Ee()}))})}},8180:(xt,je,U)=>{U.d(je,{q:()=>Te});var p=U(6232),V=U(9360),b=U(8251);function Te(z){return z<=0?()=>p.E:(0,V.e)((J,q)=>{let ue=0;J.subscribe((0,b.x)(q,de=>{++ue<=z&&(q.next(de),z<=ue&&q.complete())}))})}},9397:(xt,je,U)=>{U.d(je,{b:()=>z});var p=U(4674),V=U(9360),b=U(8251),Te=U(2737);function z(J,q,ue){const de=(0,p.m)(J)||q||ue?{next:J,error:q,complete:ue}:J;return de?(0,V.e)((X,oe)=>{var Ee;null===(Ee=de.subscribe)||void 0===Ee||Ee.call(de);let ze=!0;X.subscribe((0,b.x)(oe,Ye=>{var lt;null===(lt=de.next)||void 0===lt||lt.call(de,Ye),oe.next(Ye)},()=>{var Ye;ze=!1,null===(Ye=de.complete)||void 0===Ye||Ye.call(de),oe.complete()},Ye=>{var lt;ze=!1,null===(lt=de.error)||void 0===lt||lt.call(de,Ye),oe.error(Ye)},()=>{var Ye,lt;ze&&(null===(Ye=de.unsubscribe)||void 0===Ye||Ye.call(de)),null===(lt=de.finalize)||void 0===lt||lt.call(de)}))}):Te.y}},3026:(xt,je,U)=>{U.d(je,{T:()=>Te});var p=U(6973),V=U(9360),b=U(8251);function Te(J=z){return(0,V.e)((q,ue)=>{let de=!1;q.subscribe((0,b.x)(ue,X=>{de=!0,ue.next(X)},()=>de?ue.complete():ue.error(J())))})}function z(){return new p.K}},1954:(xt,je,U)=>{U.d(je,{o:()=>z});var p=U(7394);class V extends p.w0{constructor(q,ue){super()}schedule(q,ue=0){return this}}const b={setInterval(J,q,...ue){const{delegate:de}=b;return de?.setInterval?de.setInterval(J,q,...ue):setInterval(J,q,...ue)},clearInterval(J){const{delegate:q}=b;return(q?.clearInterval||clearInterval)(J)},delegate:void 0};var Te=U(9039);class z extends V{constructor(q,ue){super(q,ue),this.scheduler=q,this.work=ue,this.pending=!1}schedule(q,ue=0){var de;if(this.closed)return this;this.state=q;const X=this.id,oe=this.scheduler;return null!=X&&(this.id=this.recycleAsyncId(oe,X,ue)),this.pending=!0,this.delay=ue,this.id=null!==(de=this.id)&&void 0!==de?de:this.requestAsyncId(oe,this.id,ue),this}requestAsyncId(q,ue,de=0){return b.setInterval(q.flush.bind(q,this),de)}recycleAsyncId(q,ue,de=0){if(null!=de&&this.delay===de&&!1===this.pending)return ue;null!=ue&&b.clearInterval(ue)}execute(q,ue){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const de=this._execute(q,ue);if(de)return de;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(q,ue){let X,de=!1;try{this.work(q)}catch(oe){de=!0,X=oe||new Error("Scheduled action threw falsy error")}if(de)return this.unsubscribe(),X}unsubscribe(){if(!this.closed){const{id:q,scheduler:ue}=this,{actions:de}=ue;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Te.P)(de,this),null!=q&&(this.id=this.recycleAsyncId(ue,q,null)),this.delay=null,super.unsubscribe()}}}},2631:(xt,je,U)=>{U.d(je,{v:()=>b});var p=U(4552);class V{constructor(z,J=V.now){this.schedulerActionCtor=z,this.now=J}schedule(z,J=0,q){return new this.schedulerActionCtor(this,z).schedule(q,J)}}V.now=p.l.now;class b extends V{constructor(z,J=V.now){super(z,J),this.actions=[],this._active=!1}flush(z){const{actions:J}=this;if(this._active)return void J.push(z);let q;this._active=!0;do{if(q=z.execute(z.state,z.delay))break}while(z=J.shift());if(this._active=!1,q){for(;z=J.shift();)z.unsubscribe();throw q}}}},6321:(xt,je,U)=>{U.d(je,{z:()=>b});var p=U(1954);const b=new(U(2631).v)(p.o)},4552:(xt,je,U)=>{U.d(je,{l:()=>p});const p={now:()=>(p.delegate||Date).now(),delegate:void 0}},7599:(xt,je,U)=>{U.d(je,{z:()=>p});const p={setTimeout(V,b,...Te){const{delegate:z}=p;return z?.setTimeout?z.setTimeout(V,b,...Te):setTimeout(V,b,...Te)},clearTimeout(V){const{delegate:b}=p;return(b?.clearTimeout||clearTimeout)(V)},delegate:void 0}},4971:(xt,je,U)=>{U.d(je,{h:()=>V});const V=function p(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(xt,je,U)=>{U.d(je,{L:()=>p});const p="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(xt,je,U)=>{U.d(je,{K:()=>V});const V=(0,U(2306).d)(b=>function(){b(this),this.name="EmptyError",this.message="no elements in sequence"})},4564:(xt,je,U)=>{U.d(je,{_6:()=>J,jO:()=>Te,yG:()=>z});var p=U(4674);function b(q){return q[q.length-1]}function Te(q){return(0,p.m)(b(q))?q.pop():void 0}function z(q){return function V(q){return q&&(0,p.m)(q.schedule)}(b(q))?q.pop():void 0}function J(q,ue){return"number"==typeof b(q)?q.pop():ue}},7453:(xt,je,U)=>{U.d(je,{D:()=>z});const{isArray:p}=Array,{getPrototypeOf:V,prototype:b,keys:Te}=Object;function z(q){if(1===q.length){const ue=q[0];if(p(ue))return{args:ue,keys:null};if(function J(q){return q&&"object"==typeof q&&V(q)===b}(ue)){const de=Te(ue);return{args:de.map(X=>ue[X]),keys:de}}}return{args:q,keys:null}}},9039:(xt,je,U)=>{function p(V,b){if(V){const Te=V.indexOf(b);0<=Te&&V.splice(Te,1)}}U.d(je,{P:()=>p})},2306:(xt,je,U)=>{function p(V){const Te=V(z=>{Error.call(z),z.stack=(new Error).stack});return Te.prototype=Object.create(Error.prototype),Te.prototype.constructor=Te,Te}U.d(je,{d:()=>p})},2714:(xt,je,U)=>{function p(V,b){return V.reduce((Te,z,J)=>(Te[z]=b[J],Te),{})}U.d(je,{n:()=>p})},1441:(xt,je,U)=>{U.d(je,{O:()=>Te,x:()=>b});var p=U(2653);let V=null;function b(z){if(p.config.useDeprecatedSynchronousErrorHandling){const J=!V;if(J&&(V={errorThrown:!1,error:null}),z(),J){const{errorThrown:q,error:ue}=V;if(V=null,q)throw ue}}else z()}function Te(z){p.config.useDeprecatedSynchronousErrorHandling&&V&&(V.errorThrown=!0,V.error=z)}},7103:(xt,je,U)=>{function p(V,b,Te,z=0,J=!1){const q=b.schedule(function(){Te(),J?V.add(this.schedule(null,z)):this.unsubscribe()},z);if(V.add(q),!J)return q}U.d(je,{f:()=>p})},2737:(xt,je,U)=>{function p(V){return V}U.d(je,{y:()=>p})},4266:(xt,je,U)=>{U.d(je,{z:()=>p});const p=V=>V&&"number"==typeof V.length&&"function"!=typeof V},5726:(xt,je,U)=>{U.d(je,{D:()=>V});var p=U(4674);function V(b){return Symbol.asyncIterator&&(0,p.m)(b?.[Symbol.asyncIterator])}},4674:(xt,je,U)=>{function p(V){return"function"==typeof V}U.d(je,{m:()=>p})},8382:(xt,je,U)=>{U.d(je,{c:()=>b});var p=U(4850),V=U(4674);function b(Te){return(0,V.m)(Te[p.L])}},3664:(xt,je,U)=>{U.d(je,{T:()=>b});var p=U(4971),V=U(4674);function b(Te){return(0,V.m)(Te?.[p.h])}},4026:(xt,je,U)=>{U.d(je,{t:()=>V});var p=U(4674);function V(b){return(0,p.m)(b?.then)}},541:(xt,je,U)=>{U.d(je,{L:()=>Te,Q:()=>b});var p=U(7582),V=U(4674);function b(z){return(0,p.FC)(this,arguments,function*(){const q=z.getReader();try{for(;;){const{value:ue,done:de}=yield(0,p.qq)(q.read());if(de)return yield(0,p.qq)(void 0);yield yield(0,p.qq)(ue)}}finally{q.releaseLock()}})}function Te(z){return(0,V.m)(z?.getReader)}},9360:(xt,je,U)=>{U.d(je,{A:()=>V,e:()=>b});var p=U(4674);function V(Te){return(0,p.m)(Te?.lift)}function b(Te){return z=>{if(V(z))return z.lift(function(J){try{return Te(J,this)}catch(q){this.error(q)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(xt,je,U)=>{U.d(je,{Z:()=>Te});var p=U(7398);const{isArray:V}=Array;function Te(z){return(0,p.U)(J=>function b(z,J){return V(J)?z(...J):z(J)}(z,J))}},2420:(xt,je,U)=>{function p(){}U.d(je,{Z:()=>p})},8407:(xt,je,U)=>{U.d(je,{U:()=>b,z:()=>V});var p=U(2737);function V(...Te){return b(Te)}function b(Te){return 0===Te.length?p.y:1===Te.length?Te[0]:function(J){return Te.reduce((q,ue)=>ue(q),J)}}},3894:(xt,je,U)=>{U.d(je,{h:()=>b});var p=U(2653),V=U(7599);function b(Te){V.z.setTimeout(()=>{const{onUnhandledError:z}=p.config;if(!z)throw Te;z(Te)})}},9853:(xt,je,U)=>{function p(V){return new TypeError(`You provided ${null!==V&&"object"==typeof V?"an invalid object":`'${V}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}U.d(je,{z:()=>p})},6825:(xt,je,U)=>{U.d(je,{LC:()=>V,SB:()=>de,X$:()=>Te,ZE:()=>it,ZN:()=>rt,_j:()=>p,eR:()=>oe,jt:()=>z,k1:()=>wt,l3:()=>b,oB:()=>ue,vP:()=>q});class p{}class V{}const b="*";function Te(ut,ae){return{type:7,name:ut,definitions:ae,options:{}}}function z(ut,ae=null){return{type:4,styles:ae,timings:ut}}function q(ut,ae=null){return{type:2,steps:ut,options:ae}}function ue(ut){return{type:6,styles:ut,offset:null}}function de(ut,ae,Me){return{type:0,name:ut,styles:ae,options:Me}}function oe(ut,ae,Me=null){return{type:1,expr:ut,animation:ae,options:Me}}class rt{constructor(ae=0,Me=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=ae+Me}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(ae=>ae()),this._onDoneFns=[])}onStart(ae){this._originalOnStartFns.push(ae),this._onStartFns.push(ae)}onDone(ae){this._originalOnDoneFns.push(ae),this._onDoneFns.push(ae)}onDestroy(ae){this._onDestroyFns.push(ae)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(ae=>ae()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(ae=>ae()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(ae){this._position=this.totalTime?ae*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(ae){const Me="start"==ae?this._onStartFns:this._onDoneFns;Me.forEach(me=>me()),Me.length=0}}class it{constructor(ae){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=ae;let Me=0,me=0,ge=0;const Ce=this.players.length;0==Ce?queueMicrotask(()=>this._onFinish()):this.players.forEach(ye=>{ye.onDone(()=>{++Me==Ce&&this._onFinish()}),ye.onDestroy(()=>{++me==Ce&&this._onDestroy()}),ye.onStart(()=>{++ge==Ce&&this._onStart()})}),this.totalTime=this.players.reduce((ye,he)=>Math.max(ye,he.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(ae=>ae()),this._onDoneFns=[])}init(){this.players.forEach(ae=>ae.init())}onStart(ae){this._onStartFns.push(ae)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(ae=>ae()),this._onStartFns=[])}onDone(ae){this._onDoneFns.push(ae)}onDestroy(ae){this._onDestroyFns.push(ae)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(ae=>ae.play())}pause(){this.players.forEach(ae=>ae.pause())}restart(){this.players.forEach(ae=>ae.restart())}finish(){this._onFinish(),this.players.forEach(ae=>ae.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(ae=>ae.destroy()),this._onDestroyFns.forEach(ae=>ae()),this._onDestroyFns=[])}reset(){this.players.forEach(ae=>ae.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(ae){const Me=ae*this.totalTime;this.players.forEach(me=>{const ge=me.totalTime?Math.min(1,Me/me.totalTime):1;me.setPosition(ge)})}getPosition(){const ae=this.players.reduce((Me,me)=>null===Me||me.totalTime>Me.totalTime?me:Me,null);return null!=ae?ae.getPosition():0}beforeDestroy(){this.players.forEach(ae=>{ae.beforeDestroy&&ae.beforeDestroy()})}triggerCallback(ae){const Me="start"==ae?this._onStartFns:this._onDoneFns;Me.forEach(me=>me()),Me.length=0}}const wt="!"},6814:(xt,je,U)=>{U.d(je,{Do:()=>tt,EM:()=>Ni,HT:()=>Te,JF:()=>Di,K0:()=>J,Mx:()=>xr,NF:()=>Zi,O5:()=>ro,PC:()=>Ti,PM:()=>Qi,S$:()=>ze,V_:()=>ue,Ye:()=>rt,b0:()=>lt,bD:()=>gr,ez:()=>bi,mk:()=>mr,q:()=>b,sg:()=>xi,tP:()=>as,w_:()=>z});var p=U(5879);let V=null;function b(){return V}function Te(_){V||(V=_)}class z{}const J=new p.OlP("DocumentToken");let q=(()=>{class _{historyGo(P){throw new Error("Not implemented")}static#e=this.\u0275fac=function(F){return new(F||_)};static#t=this.\u0275prov=p.Yz7({token:_,factory:function(){return(0,p.f3M)(de)},providedIn:"platform"})}return _})();const ue=new p.OlP("Location Initialized");let de=(()=>{class _ extends q{constructor(){super(),this._doc=(0,p.f3M)(J),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return b().getBaseHref(this._doc)}onPopState(P){const F=b().getGlobalEventTarget(this._doc,"window");return F.addEventListener("popstate",P,!1),()=>F.removeEventListener("popstate",P)}onHashChange(P){const F=b().getGlobalEventTarget(this._doc,"window");return F.addEventListener("hashchange",P,!1),()=>F.removeEventListener("hashchange",P)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(P){this._location.pathname=P}pushState(P,F,ce){this._history.pushState(P,F,ce)}replaceState(P,F,ce){this._history.replaceState(P,F,ce)}forward(){this._history.forward()}back(){this._history.back()}historyGo(P=0){this._history.go(P)}getState(){return this._history.state}static#e=this.\u0275fac=function(F){return new(F||_)};static#t=this.\u0275prov=p.Yz7({token:_,factory:function(){return new _},providedIn:"platform"})}return _})();function X(_,N){if(0==_.length)return N;if(0==N.length)return _;let P=0;return _.endsWith("/")&&P++,N.startsWith("/")&&P++,2==P?_+N.substring(1):1==P?_+N:_+"/"+N}function oe(_){const N=_.match(/#|\?|$/),P=N&&N.index||_.length;return _.slice(0,P-("/"===_[P-1]?1:0))+_.slice(P)}function Ee(_){return _&&"?"!==_[0]?"?"+_:_}let ze=(()=>{class _{historyGo(P){throw new Error("Not implemented")}static#e=this.\u0275fac=function(F){return new(F||_)};static#t=this.\u0275prov=p.Yz7({token:_,factory:function(){return(0,p.f3M)(lt)},providedIn:"root"})}return _})();const Ye=new p.OlP("appBaseHref");let lt=(()=>{class _ extends ze{constructor(P,F){super(),this._platformLocation=P,this._removeListenerFns=[],this._baseHref=F??this._platformLocation.getBaseHrefFromDOM()??(0,p.f3M)(J).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(P){this._removeListenerFns.push(this._platformLocation.onPopState(P),this._platformLocation.onHashChange(P))}getBaseHref(){return this._baseHref}prepareExternalUrl(P){return X(this._baseHref,P)}path(P=!1){const F=this._platformLocation.pathname+Ee(this._platformLocation.search),ce=this._platformLocation.hash;return ce&&P?`${F}${ce}`:F}pushState(P,F,ce,Ue){const Ze=this.prepareExternalUrl(ce+Ee(Ue));this._platformLocation.pushState(P,F,Ze)}replaceState(P,F,ce,Ue){const Ze=this.prepareExternalUrl(ce+Ee(Ue));this._platformLocation.replaceState(P,F,Ze)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(P=0){this._platformLocation.historyGo?.(P)}static#e=this.\u0275fac=function(F){return new(F||_)(p.LFG(q),p.LFG(Ye,8))};static#t=this.\u0275prov=p.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})(),tt=(()=>{class _ extends ze{constructor(P,F){super(),this._platformLocation=P,this._baseHref="",this._removeListenerFns=[],null!=F&&(this._baseHref=F)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(P){this._removeListenerFns.push(this._platformLocation.onPopState(P),this._platformLocation.onHashChange(P))}getBaseHref(){return this._baseHref}path(P=!1){let F=this._platformLocation.hash;return null==F&&(F="#"),F.length>0?F.substring(1):F}prepareExternalUrl(P){const F=X(this._baseHref,P);return F.length>0?"#"+F:F}pushState(P,F,ce,Ue){let Ze=this.prepareExternalUrl(ce+Ee(Ue));0==Ze.length&&(Ze=this._platformLocation.pathname),this._platformLocation.pushState(P,F,Ze)}replaceState(P,F,ce,Ue){let Ze=this.prepareExternalUrl(ce+Ee(Ue));0==Ze.length&&(Ze=this._platformLocation.pathname),this._platformLocation.replaceState(P,F,Ze)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(P=0){this._platformLocation.historyGo?.(P)}static#e=this.\u0275fac=function(F){return new(F||_)(p.LFG(q),p.LFG(Ye,8))};static#t=this.\u0275prov=p.Yz7({token:_,factory:_.\u0275fac})}return _})(),rt=(()=>{class _{constructor(P){this._subject=new p.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=P;const F=this._locationStrategy.getBaseHref();this._basePath=function ae(_){if(new RegExp("^(https?:)?//").test(_)){const[,P]=_.split(/\/\/[^\/]+/);return P}return _}(oe(ut(F))),this._locationStrategy.onPopState(ce=>{this._subject.emit({url:this.path(!0),pop:!0,state:ce.state,type:ce.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(P=!1){return this.normalize(this._locationStrategy.path(P))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(P,F=""){return this.path()==this.normalize(P+Ee(F))}normalize(P){return _.stripTrailingSlash(function wt(_,N){if(!_||!N.startsWith(_))return N;const P=N.substring(_.length);return""===P||["/",";","?","#"].includes(P[0])?P:N}(this._basePath,ut(P)))}prepareExternalUrl(P){return P&&"/"!==P[0]&&(P="/"+P),this._locationStrategy.prepareExternalUrl(P)}go(P,F="",ce=null){this._locationStrategy.pushState(ce,"",P,F),this._notifyUrlChangeListeners(this.prepareExternalUrl(P+Ee(F)),ce)}replaceState(P,F="",ce=null){this._locationStrategy.replaceState(ce,"",P,F),this._notifyUrlChangeListeners(this.prepareExternalUrl(P+Ee(F)),ce)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(P=0){this._locationStrategy.historyGo?.(P)}onUrlChange(P){return this._urlChangeListeners.push(P),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(F=>{this._notifyUrlChangeListeners(F.url,F.state)})),()=>{const F=this._urlChangeListeners.indexOf(P);this._urlChangeListeners.splice(F,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(P="",F){this._urlChangeListeners.forEach(ce=>ce(P,F))}subscribe(P,F,ce){return this._subject.subscribe({next:P,error:F,complete:ce})}static#e=this.normalizeQueryParams=Ee;static#t=this.joinWithSlash=X;static#n=this.stripTrailingSlash=oe;static#r=this.\u0275fac=function(F){return new(F||_)(p.LFG(ze))};static#i=this.\u0275prov=p.Yz7({token:_,factory:function(){return function it(){return new rt((0,p.LFG)(ze))}()},providedIn:"root"})}return _})();function ut(_){return _.replace(/\/index.html$/,"")}function xr(_,N){N=encodeURIComponent(N);for(const P of _.split(";")){const F=P.indexOf("="),[ce,Ue]=-1==F?[P,""]:[P.slice(0,F),P.slice(F+1)];if(ce.trim()===N)return decodeURIComponent(Ue)}return null}const ni=/\s+/,sr=[];let mr=(()=>{class _{constructor(P,F,ce,Ue){this._iterableDiffers=P,this._keyValueDiffers=F,this._ngEl=ce,this._renderer=Ue,this.initialClasses=sr,this.stateMap=new Map}set klass(P){this.initialClasses=null!=P?P.trim().split(ni):sr}set ngClass(P){this.rawClass="string"==typeof P?P.trim().split(ni):P}ngDoCheck(){for(const F of this.initialClasses)this._updateState(F,!0);const P=this.rawClass;if(Array.isArray(P)||P instanceof Set)for(const F of P)this._updateState(F,!0);else if(null!=P)for(const F of Object.keys(P))this._updateState(F,!!P[F]);this._applyStateDiff()}_updateState(P,F){const ce=this.stateMap.get(P);void 0!==ce?(ce.enabled!==F&&(ce.changed=!0,ce.enabled=F),ce.touched=!0):this.stateMap.set(P,{enabled:F,changed:!0,touched:!0})}_applyStateDiff(){for(const P of this.stateMap){const F=P[0],ce=P[1];ce.changed?(this._toggleClass(F,ce.enabled),ce.changed=!1):ce.touched||(ce.enabled&&this._toggleClass(F,!1),this.stateMap.delete(F)),ce.touched=!1}}_toggleClass(P,F){(P=P.trim()).length>0&&P.split(ni).forEach(ce=>{F?this._renderer.addClass(this._ngEl.nativeElement,ce):this._renderer.removeClass(this._ngEl.nativeElement,ce)})}static#e=this.\u0275fac=function(F){return new(F||_)(p.Y36(p.ZZ4),p.Y36(p.aQg),p.Y36(p.SBq),p.Y36(p.Qsj))};static#t=this.\u0275dir=p.lG2({type:_,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return _})();class jn{constructor(N,P,F,ce){this.$implicit=N,this.ngForOf=P,this.index=F,this.count=ce}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let xi=(()=>{class _{set ngForOf(P){this._ngForOf=P,this._ngForOfDirty=!0}set ngForTrackBy(P){this._trackByFn=P}get ngForTrackBy(){return this._trackByFn}constructor(P,F,ce){this._viewContainer=P,this._template=F,this._differs=ce,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(P){P&&(this._template=P)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const P=this._ngForOf;!this._differ&&P&&(this._differ=this._differs.find(P).create(this.ngForTrackBy))}if(this._differ){const P=this._differ.diff(this._ngForOf);P&&this._applyChanges(P)}}_applyChanges(P){const F=this._viewContainer;P.forEachOperation((ce,Ue,Ze)=>{if(null==ce.previousIndex)F.createEmbeddedView(this._template,new jn(ce.item,this._ngForOf,-1,-1),null===Ze?void 0:Ze);else if(null==Ze)F.remove(null===Ue?void 0:Ue);else if(null!==Ue){const pt=F.get(Ue);F.move(pt,Ze),Or(pt,ce)}});for(let ce=0,Ue=F.length;ce<Ue;ce++){const pt=F.get(ce).context;pt.index=ce,pt.count=Ue,pt.ngForOf=this._ngForOf}P.forEachIdentityChange(ce=>{Or(F.get(ce.currentIndex),ce)})}static ngTemplateContextGuard(P,F){return!0}static#e=this.\u0275fac=function(F){return new(F||_)(p.Y36(p.s_b),p.Y36(p.Rgc),p.Y36(p.ZZ4))};static#t=this.\u0275dir=p.lG2({type:_,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return _})();function Or(_,N){_.context.$implicit=N.item}let ro=(()=>{class _{constructor(P,F){this._viewContainer=P,this._context=new _o,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=F}set ngIf(P){this._context.$implicit=this._context.ngIf=P,this._updateView()}set ngIfThen(P){jo("ngIfThen",P),this._thenTemplateRef=P,this._thenViewRef=null,this._updateView()}set ngIfElse(P){jo("ngIfElse",P),this._elseTemplateRef=P,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(P,F){return!0}static#e=this.\u0275fac=function(F){return new(F||_)(p.Y36(p.s_b),p.Y36(p.Rgc))};static#t=this.\u0275dir=p.lG2({type:_,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return _})();class _o{constructor(){this.$implicit=null,this.ngIf=null}}function jo(_,N){if(N&&!N.createEmbeddedView)throw new Error(`${_} must be a TemplateRef, but received '${(0,p.AaK)(N)}'.`)}let Ti=(()=>{class _{constructor(P,F,ce){this._ngEl=P,this._differs=F,this._renderer=ce,this._ngStyle=null,this._differ=null}set ngStyle(P){this._ngStyle=P,!this._differ&&P&&(this._differ=this._differs.find(P).create())}ngDoCheck(){if(this._differ){const P=this._differ.diff(this._ngStyle);P&&this._applyChanges(P)}}_setStyle(P,F){const[ce,Ue]=P.split("."),Ze=-1===ce.indexOf("-")?void 0:p.JOm.DashCase;null!=F?this._renderer.setStyle(this._ngEl.nativeElement,ce,Ue?`${F}${Ue}`:F,Ze):this._renderer.removeStyle(this._ngEl.nativeElement,ce,Ze)}_applyChanges(P){P.forEachRemovedItem(F=>this._setStyle(F.key,null)),P.forEachAddedItem(F=>this._setStyle(F.key,F.currentValue)),P.forEachChangedItem(F=>this._setStyle(F.key,F.currentValue))}static#e=this.\u0275fac=function(F){return new(F||_)(p.Y36(p.SBq),p.Y36(p.aQg),p.Y36(p.Qsj))};static#t=this.\u0275dir=p.lG2({type:_,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return _})(),as=(()=>{class _{constructor(P){this._viewContainerRef=P,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(P){if(P.ngTemplateOutlet||P.ngTemplateOutletInjector){const F=this._viewContainerRef;if(this._viewRef&&F.remove(F.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:ce,ngTemplateOutletContext:Ue,ngTemplateOutletInjector:Ze}=this;this._viewRef=F.createEmbeddedView(ce,Ue,Ze?{injector:Ze}:void 0)}else this._viewRef=null}else this._viewRef&&P.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(F){return new(F||_)(p.Y36(p.s_b))};static#t=this.\u0275dir=p.lG2({type:_,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[p.TTD]})}return _})(),bi=(()=>{class _{static#e=this.\u0275fac=function(F){return new(F||_)};static#t=this.\u0275mod=p.oAB({type:_});static#n=this.\u0275inj=p.cJS({})}return _})();const gr="browser",ji="server";function Zi(_){return _===gr}function Qi(_){return _===ji}let Ni=(()=>{class _{static#e=this.\u0275prov=(0,p.Yz7)({token:_,providedIn:"root",factory:()=>new zi((0,p.LFG)(J),window)})}return _})();class zi{constructor(N,P){this.document=N,this.window=P,this.offset=()=>[0,0]}setOffset(N){this.offset=Array.isArray(N)?()=>N:N}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(N){this.supportsScrolling()&&this.window.scrollTo(N[0],N[1])}scrollToAnchor(N){if(!this.supportsScrolling())return;const P=function cr(_,N){const P=_.getElementById(N)||_.getElementsByName(N)[0];if(P)return P;if("function"==typeof _.createTreeWalker&&_.body&&"function"==typeof _.body.attachShadow){const F=_.createTreeWalker(_.body,NodeFilter.SHOW_ELEMENT);let ce=F.currentNode;for(;ce;){const Ue=ce.shadowRoot;if(Ue){const Ze=Ue.getElementById(N)||Ue.querySelector(`[name="${N}"]`);if(Ze)return Ze}ce=F.nextNode()}}return null}(this.document,N);P&&(this.scrollToElement(P),P.focus())}setHistoryScrollRestoration(N){this.supportsScrolling()&&(this.window.history.scrollRestoration=N)}scrollToElement(N){const P=N.getBoundingClientRect(),F=P.left+this.window.pageXOffset,ce=P.top+this.window.pageYOffset,Ue=this.offset();this.window.scrollTo(F-Ue[0],ce-Ue[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Di{}},9862:(xt,je,U)=>{U.d(je,{JF:()=>k,eN:()=>Se});var p=U(5879),V=U(2096),b=U(2459),Te=U(5592),z=U(6328),J=U(2181),q=U(7398),ue=U(4716),de=U(4664),X=U(6814);class oe{}class Ee{}class ze{constructor(ve){this.normalizedNames=new Map,this.lazyUpdate=null,ve?"string"==typeof ve?this.lazyInit=()=>{this.headers=new Map,ve.split("\n").forEach(xe=>{const Ie=xe.indexOf(":");if(Ie>0){const we=xe.slice(0,Ie),Be=we.toLowerCase(),et=xe.slice(Ie+1).trim();this.maybeSetNormalizedName(we,Be),this.headers.has(Be)?this.headers.get(Be).push(et):this.headers.set(Be,[et])}})}:typeof Headers<"u"&&ve instanceof Headers?(this.headers=new Map,ve.forEach((xe,Ie)=>{this.setHeaderEntries(Ie,xe)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(ve).forEach(([xe,Ie])=>{this.setHeaderEntries(xe,Ie)})}:this.headers=new Map}has(ve){return this.init(),this.headers.has(ve.toLowerCase())}get(ve){this.init();const xe=this.headers.get(ve.toLowerCase());return xe&&xe.length>0?xe[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(ve){return this.init(),this.headers.get(ve.toLowerCase())||null}append(ve,xe){return this.clone({name:ve,value:xe,op:"a"})}set(ve,xe){return this.clone({name:ve,value:xe,op:"s"})}delete(ve,xe){return this.clone({name:ve,value:xe,op:"d"})}maybeSetNormalizedName(ve,xe){this.normalizedNames.has(xe)||this.normalizedNames.set(xe,ve)}init(){this.lazyInit&&(this.lazyInit instanceof ze?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(ve=>this.applyUpdate(ve)),this.lazyUpdate=null))}copyFrom(ve){ve.init(),Array.from(ve.headers.keys()).forEach(xe=>{this.headers.set(xe,ve.headers.get(xe)),this.normalizedNames.set(xe,ve.normalizedNames.get(xe))})}clone(ve){const xe=new ze;return xe.lazyInit=this.lazyInit&&this.lazyInit instanceof ze?this.lazyInit:this,xe.lazyUpdate=(this.lazyUpdate||[]).concat([ve]),xe}applyUpdate(ve){const xe=ve.name.toLowerCase();switch(ve.op){case"a":case"s":let Ie=ve.value;if("string"==typeof Ie&&(Ie=[Ie]),0===Ie.length)return;this.maybeSetNormalizedName(ve.name,xe);const we=("a"===ve.op?this.headers.get(xe):void 0)||[];we.push(...Ie),this.headers.set(xe,we);break;case"d":const Be=ve.value;if(Be){let et=this.headers.get(xe);if(!et)return;et=et.filter(St=>-1===Be.indexOf(St)),0===et.length?(this.headers.delete(xe),this.normalizedNames.delete(xe)):this.headers.set(xe,et)}else this.headers.delete(xe),this.normalizedNames.delete(xe)}}setHeaderEntries(ve,xe){const Ie=(Array.isArray(xe)?xe:[xe]).map(Be=>Be.toString()),we=ve.toLowerCase();this.headers.set(we,Ie),this.maybeSetNormalizedName(ve,we)}forEach(ve){this.init(),Array.from(this.normalizedNames.keys()).forEach(xe=>ve(this.normalizedNames.get(xe),this.headers.get(xe)))}}class lt{encodeKey(ve){return wt(ve)}encodeValue(ve){return wt(ve)}decodeKey(ve){return decodeURIComponent(ve)}decodeValue(ve){return decodeURIComponent(ve)}}const rt=/%(\d[a-f0-9])/gi,it={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function wt(De){return encodeURIComponent(De).replace(rt,(ve,xe)=>it[xe]??ve)}function ut(De){return`${De}`}class ae{constructor(ve={}){if(this.updates=null,this.cloneFrom=null,this.encoder=ve.encoder||new lt,ve.fromString){if(ve.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function tt(De,ve){const xe=new Map;return De.length>0&&De.replace(/^\?/,"").split("&").forEach(we=>{const Be=we.indexOf("="),[et,St]=-1==Be?[ve.decodeKey(we),""]:[ve.decodeKey(we.slice(0,Be)),ve.decodeValue(we.slice(Be+1))],dt=xe.get(et)||[];dt.push(St),xe.set(et,dt)}),xe}(ve.fromString,this.encoder)}else ve.fromObject?(this.map=new Map,Object.keys(ve.fromObject).forEach(xe=>{const Ie=ve.fromObject[xe],we=Array.isArray(Ie)?Ie.map(ut):[ut(Ie)];this.map.set(xe,we)})):this.map=null}has(ve){return this.init(),this.map.has(ve)}get(ve){this.init();const xe=this.map.get(ve);return xe?xe[0]:null}getAll(ve){return this.init(),this.map.get(ve)||null}keys(){return this.init(),Array.from(this.map.keys())}append(ve,xe){return this.clone({param:ve,value:xe,op:"a"})}appendAll(ve){const xe=[];return Object.keys(ve).forEach(Ie=>{const we=ve[Ie];Array.isArray(we)?we.forEach(Be=>{xe.push({param:Ie,value:Be,op:"a"})}):xe.push({param:Ie,value:we,op:"a"})}),this.clone(xe)}set(ve,xe){return this.clone({param:ve,value:xe,op:"s"})}delete(ve,xe){return this.clone({param:ve,value:xe,op:"d"})}toString(){return this.init(),this.keys().map(ve=>{const xe=this.encoder.encodeKey(ve);return this.map.get(ve).map(Ie=>xe+"="+this.encoder.encodeValue(Ie)).join("&")}).filter(ve=>""!==ve).join("&")}clone(ve){const xe=new ae({encoder:this.encoder});return xe.cloneFrom=this.cloneFrom||this,xe.updates=(this.updates||[]).concat(ve),xe}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(ve=>this.map.set(ve,this.cloneFrom.map.get(ve))),this.updates.forEach(ve=>{switch(ve.op){case"a":case"s":const xe=("a"===ve.op?this.map.get(ve.param):void 0)||[];xe.push(ut(ve.value)),this.map.set(ve.param,xe);break;case"d":if(void 0===ve.value){this.map.delete(ve.param);break}{let Ie=this.map.get(ve.param)||[];const we=Ie.indexOf(ut(ve.value));-1!==we&&Ie.splice(we,1),Ie.length>0?this.map.set(ve.param,Ie):this.map.delete(ve.param)}}}),this.cloneFrom=this.updates=null)}}class me{constructor(){this.map=new Map}set(ve,xe){return this.map.set(ve,xe),this}get(ve){return this.map.has(ve)||this.map.set(ve,ve.defaultValue()),this.map.get(ve)}delete(ve){return this.map.delete(ve),this}has(ve){return this.map.has(ve)}keys(){return this.map.keys()}}function Ce(De){return typeof ArrayBuffer<"u"&&De instanceof ArrayBuffer}function ye(De){return typeof Blob<"u"&&De instanceof Blob}function he(De){return typeof FormData<"u"&&De instanceof FormData}class Ct{constructor(ve,xe,Ie,we){let Be;if(this.url=xe,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=ve.toUpperCase(),function ge(De){switch(De){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||we?(this.body=void 0!==Ie?Ie:null,Be=we):Be=Ie,Be&&(this.reportProgress=!!Be.reportProgress,this.withCredentials=!!Be.withCredentials,Be.responseType&&(this.responseType=Be.responseType),Be.headers&&(this.headers=Be.headers),Be.context&&(this.context=Be.context),Be.params&&(this.params=Be.params)),this.headers||(this.headers=new ze),this.context||(this.context=new me),this.params){const et=this.params.toString();if(0===et.length)this.urlWithParams=xe;else{const St=xe.indexOf("?");this.urlWithParams=xe+(-1===St?"?":St<xe.length-1?"&":"")+et}}else this.params=new ae,this.urlWithParams=xe}serializeBody(){return null===this.body?null:Ce(this.body)||ye(this.body)||he(this.body)||function at(De){return typeof URLSearchParams<"u"&&De instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ae?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||he(this.body)?null:ye(this.body)?this.body.type||null:Ce(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ae?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(ve={}){const xe=ve.method||this.method,Ie=ve.url||this.url,we=ve.responseType||this.responseType,Be=void 0!==ve.body?ve.body:this.body,et=void 0!==ve.withCredentials?ve.withCredentials:this.withCredentials,St=void 0!==ve.reportProgress?ve.reportProgress:this.reportProgress;let dt=ve.headers||this.headers,sn=ve.params||this.params;const Qn=ve.context??this.context;return void 0!==ve.setHeaders&&(dt=Object.keys(ve.setHeaders).reduce((Mn,er)=>Mn.set(er,ve.setHeaders[er]),dt)),ve.setParams&&(sn=Object.keys(ve.setParams).reduce((Mn,er)=>Mn.set(er,ve.setParams[er]),sn)),new Ct(xe,Ie,Be,{params:sn,headers:dt,context:Qn,reportProgress:St,responseType:we,withCredentials:et})}}var $e=function(De){return De[De.Sent=0]="Sent",De[De.UploadProgress=1]="UploadProgress",De[De.ResponseHeader=2]="ResponseHeader",De[De.DownloadProgress=3]="DownloadProgress",De[De.Response=4]="Response",De[De.User=5]="User",De}($e||{});class Gt{constructor(ve,xe=200,Ie="OK"){this.headers=ve.headers||new ze,this.status=void 0!==ve.status?ve.status:xe,this.statusText=ve.statusText||Ie,this.url=ve.url||null,this.ok=this.status>=200&&this.status<300}}class At extends Gt{constructor(ve={}){super(ve),this.type=$e.ResponseHeader}clone(ve={}){return new At({headers:ve.headers||this.headers,status:void 0!==ve.status?ve.status:this.status,statusText:ve.statusText||this.statusText,url:ve.url||this.url||void 0})}}class gn extends Gt{constructor(ve={}){super(ve),this.type=$e.Response,this.body=void 0!==ve.body?ve.body:null}clone(ve={}){return new gn({body:void 0!==ve.body?ve.body:this.body,headers:ve.headers||this.headers,status:void 0!==ve.status?ve.status:this.status,statusText:ve.statusText||this.statusText,url:ve.url||this.url||void 0})}}class bt extends Gt{constructor(ve){super(ve,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${ve.url||"(unknown url)"}`:`Http failure response for ${ve.url||"(unknown url)"}: ${ve.status} ${ve.statusText}`,this.error=ve.error||null}}function Nt(De,ve){return{body:ve,headers:De.headers,context:De.context,observe:De.observe,params:De.params,reportProgress:De.reportProgress,responseType:De.responseType,withCredentials:De.withCredentials}}let Se=(()=>{class De{constructor(xe){this.handler=xe}request(xe,Ie,we={}){let Be;if(xe instanceof Ct)Be=xe;else{let dt,sn;dt=we.headers instanceof ze?we.headers:new ze(we.headers),we.params&&(sn=we.params instanceof ae?we.params:new ae({fromObject:we.params})),Be=new Ct(xe,Ie,void 0!==we.body?we.body:null,{headers:dt,context:we.context,params:sn,reportProgress:we.reportProgress,responseType:we.responseType||"json",withCredentials:we.withCredentials})}const et=(0,V.of)(Be).pipe((0,z.b)(dt=>this.handler.handle(dt)));if(xe instanceof Ct||"events"===we.observe)return et;const St=et.pipe((0,J.h)(dt=>dt instanceof gn));switch(we.observe||"body"){case"body":switch(Be.responseType){case"arraybuffer":return St.pipe((0,q.U)(dt=>{if(null!==dt.body&&!(dt.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return dt.body}));case"blob":return St.pipe((0,q.U)(dt=>{if(null!==dt.body&&!(dt.body instanceof Blob))throw new Error("Response is not a Blob.");return dt.body}));case"text":return St.pipe((0,q.U)(dt=>{if(null!==dt.body&&"string"!=typeof dt.body)throw new Error("Response is not a string.");return dt.body}));default:return St.pipe((0,q.U)(dt=>dt.body))}case"response":return St;default:throw new Error(`Unreachable: unhandled observe type ${we.observe}}`)}}delete(xe,Ie={}){return this.request("DELETE",xe,Ie)}get(xe,Ie={}){return this.request("GET",xe,Ie)}head(xe,Ie={}){return this.request("HEAD",xe,Ie)}jsonp(xe,Ie){return this.request("JSONP",xe,{params:(new ae).append(Ie,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(xe,Ie={}){return this.request("OPTIONS",xe,Ie)}patch(xe,Ie,we={}){return this.request("PATCH",xe,Nt(we,Ie))}post(xe,Ie,we={}){return this.request("POST",xe,Nt(we,Ie))}put(xe,Ie,we={}){return this.request("PUT",xe,Nt(we,Ie))}static#e=this.\u0275fac=function(Ie){return new(Ie||De)(p.LFG(oe))};static#t=this.\u0275prov=p.Yz7({token:De,factory:De.\u0275fac})}return De})();function kn(De,ve){return ve(De)}function nn(De,ve){return(xe,Ie)=>ve.intercept(xe,{handle:we=>De(we,Ie)})}const ln=new p.OlP(""),un=new p.OlP(""),Bn=new p.OlP("");function Sn(){let De=null;return(ve,xe)=>{null===De&&(De=((0,p.f3M)(ln,{optional:!0})??[]).reduceRight(nn,kn));const Ie=(0,p.f3M)(p.HDt),we=Ie.add();return De(ve,xe).pipe((0,ue.x)(()=>Ie.remove(we)))}}let Cn=(()=>{class De extends oe{constructor(xe,Ie){super(),this.backend=xe,this.injector=Ie,this.chain=null,this.pendingTasks=(0,p.f3M)(p.HDt)}handle(xe){if(null===this.chain){const we=Array.from(new Set([...this.injector.get(un),...this.injector.get(Bn,[])]));this.chain=we.reduceRight((Be,et)=>function An(De,ve,xe){return(Ie,we)=>xe.runInContext(()=>ve(Ie,Be=>De(Be,we)))}(Be,et,this.injector),kn)}const Ie=this.pendingTasks.add();return this.chain(xe,we=>this.backend.handle(we)).pipe((0,ue.x)(()=>this.pendingTasks.remove(Ie)))}static#e=this.\u0275fac=function(Ie){return new(Ie||De)(p.LFG(Ee),p.LFG(p.lqb))};static#t=this.\u0275prov=p.Yz7({token:De,factory:De.\u0275fac})}return De})();const Ir=/^\)\]\}',?\n/;let Dt=(()=>{class De{constructor(xe){this.xhrFactory=xe}handle(xe){if("JSONP"===xe.method)throw new p.vHH(-2800,!1);const Ie=this.xhrFactory;return(Ie.\u0275loadImpl?(0,b.D)(Ie.\u0275loadImpl()):(0,V.of)(null)).pipe((0,de.w)(()=>new Te.y(Be=>{const et=Ie.build();if(et.open(xe.method,xe.urlWithParams),xe.withCredentials&&(et.withCredentials=!0),xe.headers.forEach((sr,mr)=>et.setRequestHeader(sr,mr.join(","))),xe.headers.has("Accept")||et.setRequestHeader("Accept","application/json, text/plain, */*"),!xe.headers.has("Content-Type")){const sr=xe.detectContentTypeHeader();null!==sr&&et.setRequestHeader("Content-Type",sr)}if(xe.responseType){const sr=xe.responseType.toLowerCase();et.responseType="json"!==sr?sr:"text"}const St=xe.serializeBody();let dt=null;const sn=()=>{if(null!==dt)return dt;const sr=et.statusText||"OK",mr=new ze(et.getAllResponseHeaders()),Kr=function Je(De){return"responseURL"in De&&De.responseURL?De.responseURL:/^X-Request-URL:/m.test(De.getAllResponseHeaders())?De.getResponseHeader("X-Request-URL"):null}(et)||xe.url;return dt=new At({headers:mr,status:et.status,statusText:sr,url:Kr}),dt},Qn=()=>{let{headers:sr,status:mr,statusText:Kr,url:Vs}=sn(),jn=null;204!==mr&&(jn=typeof et.response>"u"?et.responseText:et.response),0===mr&&(mr=jn?200:0);let xi=mr>=200&&mr<300;if("json"===xe.responseType&&"string"==typeof jn){const Or=jn;jn=jn.replace(Ir,"");try{jn=""!==jn?JSON.parse(jn):null}catch(Oi){jn=Or,xi&&(xi=!1,jn={error:Oi,text:jn})}}xi?(Be.next(new gn({body:jn,headers:sr,status:mr,statusText:Kr,url:Vs||void 0})),Be.complete()):Be.error(new bt({error:jn,headers:sr,status:mr,statusText:Kr,url:Vs||void 0}))},Mn=sr=>{const{url:mr}=sn(),Kr=new bt({error:sr,status:et.status||0,statusText:et.statusText||"Unknown Error",url:mr||void 0});Be.error(Kr)};let er=!1;const xr=sr=>{er||(Be.next(sn()),er=!0);let mr={type:$e.DownloadProgress,loaded:sr.loaded};sr.lengthComputable&&(mr.total=sr.total),"text"===xe.responseType&&et.responseText&&(mr.partialText=et.responseText),Be.next(mr)},ni=sr=>{let mr={type:$e.UploadProgress,loaded:sr.loaded};sr.lengthComputable&&(mr.total=sr.total),Be.next(mr)};return et.addEventListener("load",Qn),et.addEventListener("error",Mn),et.addEventListener("timeout",Mn),et.addEventListener("abort",Mn),xe.reportProgress&&(et.addEventListener("progress",xr),null!==St&&et.upload&&et.upload.addEventListener("progress",ni)),et.send(St),Be.next({type:$e.Sent}),()=>{et.removeEventListener("error",Mn),et.removeEventListener("abort",Mn),et.removeEventListener("load",Qn),et.removeEventListener("timeout",Mn),xe.reportProgress&&(et.removeEventListener("progress",xr),null!==St&&et.upload&&et.upload.removeEventListener("progress",ni)),et.readyState!==et.DONE&&et.abort()}})))}static#e=this.\u0275fac=function(Ie){return new(Ie||De)(p.LFG(X.JF))};static#t=this.\u0275prov=p.Yz7({token:De,factory:De.\u0275fac})}return De})();const Ae=new p.OlP("XSRF_ENABLED"),Ke=new p.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Rt=new p.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class cn{}let vn=(()=>{class De{constructor(xe,Ie,we){this.doc=xe,this.platform=Ie,this.cookieName=we,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const xe=this.doc.cookie||"";return xe!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,X.Mx)(xe,this.cookieName),this.lastCookieString=xe),this.lastToken}static#e=this.\u0275fac=function(Ie){return new(Ie||De)(p.LFG(X.K0),p.LFG(p.Lbi),p.LFG(Ke))};static#t=this.\u0275prov=p.Yz7({token:De,factory:De.\u0275fac})}return De})();function qr(De,ve){const xe=De.url.toLowerCase();if(!(0,p.f3M)(Ae)||"GET"===De.method||"HEAD"===De.method||xe.startsWith("http://")||xe.startsWith("https://"))return ve(De);const Ie=(0,p.f3M)(cn).getToken(),we=(0,p.f3M)(Rt);return null!=Ie&&!De.headers.has(we)&&(De=De.clone({headers:De.headers.set(we,Ie)})),ve(De)}var Hn=function(De){return De[De.Interceptors=0]="Interceptors",De[De.LegacyInterceptors=1]="LegacyInterceptors",De[De.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",De[De.NoXsrfProtection=3]="NoXsrfProtection",De[De.JsonpSupport=4]="JsonpSupport",De[De.RequestsMadeViaParent=5]="RequestsMadeViaParent",De[De.Fetch=6]="Fetch",De}(Hn||{});function Hr(...De){const ve=[Se,Dt,Cn,{provide:oe,useExisting:Cn},{provide:Ee,useExisting:Dt},{provide:un,useValue:qr,multi:!0},{provide:Ae,useValue:!0},{provide:cn,useClass:vn}];for(const xe of De)ve.push(...xe.\u0275providers);return(0,p.MR2)(ve)}const Ei=new p.OlP("LEGACY_INTERCEPTOR_FN");function Dr(){return function ur(De,ve){return{\u0275kind:De,\u0275providers:ve}}(Hn.LegacyInterceptors,[{provide:Ei,useFactory:Sn},{provide:un,useExisting:Ei,multi:!0}])}let k=(()=>{class De{static#e=this.\u0275fac=function(Ie){return new(Ie||De)};static#t=this.\u0275mod=p.oAB({type:De});static#n=this.\u0275inj=p.cJS({providers:[Hr(Dr())]})}return De})()},5879:(xt,je,U)=>{U.d(je,{$8M:()=>Bo,$WT:()=>us,$Z:()=>iy,AFp:()=>hf,AaK:()=>Ee,BQk:()=>hp,CHM:()=>mc,CRH:()=>uT,EJc:()=>Ob,EpF:()=>Cg,F$t:()=>NI,F4k:()=>dc,FYo:()=>Xc,FiY:()=>Hu,Gf:()=>aT,GfV:()=>th,GkF:()=>fp,Gpc:()=>lt,HDt:()=>MT,Hsn:()=>LI,JOm:()=>Ud,KtG:()=>gc,LFG:()=>Tt,LSH:()=>nf,Lbi:()=>ym,Lck:()=>_C,MAs:()=>Cu,MMx:()=>N0,MR2:()=>um,NdJ:()=>ph,O4$:()=>Ma,Ojb:()=>vm,OlP:()=>Ke,Oqu:()=>jg,P3R:()=>lm,PXZ:()=>lD,Q6J:()=>Va,QGY:()=>bg,QbO:()=>V_,Qsj:()=>Dm,R0b:()=>ps,RDi:()=>Zh,Rgc:()=>Xg,SBq:()=>eh,Sil:()=>kb,Suo:()=>lT,TTD:()=>Jt,TgZ:()=>cp,Tol:()=>mo,VuI:()=>zD,WLB:()=>j0,X6Q:()=>gD,XFs:()=>en,Xpm:()=>Ro,Xq5:()=>by,Xts:()=>$c,Y36:()=>yu,YKP:()=>x0,YNc:()=>xy,Yjl:()=>Ki,Yz7:()=>ln,Z0I:()=>Cn,ZZ4:()=>DE,_Bn:()=>M0,_UZ:()=>Tg,_c5:()=>xD,_uU:()=>_h,aQg:()=>AE,c2e:()=>RT,cJS:()=>Bn,cg1:()=>qI,dDg:()=>iD,dqk:()=>Dt,eFA:()=>HT,eJc:()=>cE,ekj:()=>_p,eoX:()=>FT,evT:()=>K_,f3M:()=>kt,g9A:()=>_m,h0i:()=>Ih,hGG:()=>OD,hij:()=>yh,iGM:()=>oT,ifc:()=>et,ip1:()=>PT,jDz:()=>L0,kEZ:()=>$0,kL8:()=>n0,lG2:()=>As,lqb:()=>ma,lri:()=>LT,n5z:()=>Oa,oAB:()=>Hs,oxw:()=>ky,q4F:()=>td,qFp:()=>WD,qLn:()=>pu,qOj:()=>lg,qZA:()=>fh,rWj:()=>kT,rg0:()=>Ue,sBO:()=>_D,s_b:()=>uv,soG:()=>dv,tb:()=>IE,tp0:()=>Yl,uIk:()=>dg,vHH:()=>ae,vpe:()=>_a,wAp:()=>Ip,xp6:()=>xf,ynx:()=>dp,z2F:()=>Cp,zSh:()=>fs,zs3:()=>ga});var p=U(8645),V=U(7394),b=U(5592),Te=U(3019),z=U(5619),J=U(2096),q=U(3020),ue=U(4664),de=U(3997);function X(t){for(let r in t)if(t[r]===X)return r;throw Error("Could not find renamed property on target object.")}function oe(t,r){for(const o in r)r.hasOwnProperty(o)&&!t.hasOwnProperty(o)&&(t[o]=r[o])}function Ee(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Ee).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const r=t.toString();if(null==r)return""+r;const o=r.indexOf("\n");return-1===o?r:r.substring(0,o)}function ze(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}const Ye=X({__forward_ref__:X});function lt(t){return t.__forward_ref__=lt,t.toString=function(){return Ee(this())},t}function tt(t){return rt(t)?t():t}function rt(t){return"function"==typeof t&&t.hasOwnProperty(Ye)&&t.__forward_ref__===lt}function it(t){return t&&!!t.\u0275providers}const ut="https://g.co/ng/security#xss";class ae extends Error{constructor(r,o){super(function Me(t,r){return`NG0${Math.abs(t)}${r?": "+r:""}`}(r,o)),this.code=r}}function me(t){return"string"==typeof t?t:null==t?"":String(t)}function at(t,r){throw new ae(-201,!1)}function gt(t,r){null==t&&function _t(t,r,o,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${o} ${a} ${r} <=Actual]`))}(r,t,null,"!=")}function ln(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Bn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Sn(t){return Vt(t,Rn)||Vt(t,kr)}function Cn(t){return null!==Sn(t)}function Vt(t,r){return t.hasOwnProperty(r)?t[r]:null}function vr(t){return t&&(t.hasOwnProperty(Fn)||t.hasOwnProperty(ir))?t[Fn]:null}const Rn=X({\u0275prov:X}),Fn=X({\u0275inj:X}),kr=X({ngInjectableDef:X}),ir=X({ngInjectorDef:X});var en=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(en||{});let hn;function Zn(t){const r=hn;return hn=t,r}function Ir(t,r,o){const a=Sn(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:o&en.Optional?null:void 0!==r?r:void at(Ee(t))}const Dt=globalThis;class Ke{constructor(r,o){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=ln({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Dr={},Ar="__NG_DI_FLAG__",Vr="ngTempTokenPath",re=/\n/gm,L="__source";let k;function Le(t){const r=k;return k=t,r}function ct(t,r=en.Default){if(void 0===k)throw new ae(-203,!1);return null===k?Ir(t,void 0,r):k.get(t,r&en.Optional?null:void 0,r)}function Tt(t,r=en.Default){return(function Zt(){return hn}()||ct)(tt(t),r)}function kt(t,r=en.Default){return Tt(t,Kt(r))}function Kt(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function bn(t){const r=[];for(let o=0;o<t.length;o++){const a=tt(t[o]);if(Array.isArray(a)){if(0===a.length)throw new ae(900,!1);let u,d=en.Default;for(let g=0;g<a.length;g++){const w=a[g],S=ve(w);"number"==typeof S?-1===S?u=w.token:d|=S:u=w}r.push(Tt(u,d))}else r.push(Tt(a))}return r}function De(t,r){return t[Ar]=r,t.prototype[Ar]=r,t}function ve(t){return t[Ar]}function we(t){return{toString:t}.toString()}var Be=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Be||{}),et=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(et||{});const St={},dt=[],sn=X({\u0275cmp:X}),Qn=X({\u0275dir:X}),Mn=X({\u0275pipe:X}),er=X({\u0275mod:X}),xr=X({\u0275fac:X}),ni=X({__NG_ELEMENT_ID__:X}),sr=X({__NG_ENV_ID__:X});function mr(t,r,o){let a=t.length;for(;;){const u=t.indexOf(r,o);if(-1===u)return u;if(0===u||t.charCodeAt(u-1)<=32){const d=r.length;if(u+d===a||t.charCodeAt(u+d)<=32)return u}o=u+1}}function Kr(t,r,o){let a=0;for(;a<o.length;){const u=o[a];if("number"==typeof u){if(0!==u)break;a++;const d=o[a++],g=o[a++],w=o[a++];t.setAttribute(r,g,w,d)}else{const d=u,g=o[++a];jn(d)?t.setProperty(r,d,g):t.setAttribute(r,d,g),a++}}return a}function Vs(t){return 3===t||4===t||6===t}function jn(t){return 64===t.charCodeAt(0)}function xi(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else{let o=-1;for(let a=0;a<r.length;a++){const u=r[a];"number"==typeof u?o=u:0===o||Or(t,o,u,null,-1===o||2===o?r[++a]:null)}}return t}function Or(t,r,o,a,u){let d=0,g=t.length;if(-1===r)g=-1;else for(;d<t.length;){const w=t[d++];if("number"==typeof w){if(w===r){g=-1;break}if(w>r){g=d-1;break}}}for(;d<t.length;){const w=t[d];if("number"==typeof w)break;if(w===o){if(null===a)return void(null!==u&&(t[d+1]=u));if(a===t[d+1])return void(t[d+2]=u)}d++,null!==a&&d++,null!==u&&d++}-1!==g&&(t.splice(g,0,r),d=g+1),t.splice(d++,0,o),null!==a&&t.splice(d++,0,a),null!==u&&t.splice(d++,0,u)}const Oi="ng-template";function ro(t,r,o){let a=0,u=!0;for(;a<t.length;){let d=t[a++];if("string"==typeof d&&u){const g=t[a++];if(o&&"class"===d&&-1!==mr(g.toLowerCase(),r,0))return!0}else{if(1===d){for(;a<t.length&&"string"==typeof(d=t[a++]);)if(d.toLowerCase()===r)return!0;return!1}"number"==typeof d&&(u=!1)}}return!1}function _o(t){return 4===t.type&&t.value!==Oi}function jo(t,r,o){return r===(4!==t.type||o?t.value:Oi)}function $o(t,r,o){let a=4;const u=t.attrs||[],d=function si(t){for(let r=0;r<t.length;r++)if(Vs(t[r]))return r;return t.length}(u);let g=!1;for(let w=0;w<r.length;w++){const S=r[w];if("number"!=typeof S){if(!g)if(4&a){if(a=2|1&a,""!==S&&!jo(t,S,o)||""===S&&1===r.length){if(ii(a))return!1;g=!0}}else{const H=8&a?S:r[++w];if(8&a&&null!==t.attrs){if(!ro(t.attrs,H,o)){if(ii(a))return!1;g=!0}continue}const _e=Bi(8&a?"class":S,u,_o(t),o);if(-1===_e){if(ii(a))return!1;g=!0;continue}if(""!==H){let Fe;Fe=_e>d?"":u[_e+1].toLowerCase();const We=8&a?Fe:null;if(We&&-1!==mr(We,H,0)||2&a&&H!==Fe){if(ii(a))return!1;g=!0}}}}else{if(!g&&!ii(a)&&!ii(S))return!1;if(g&&ii(S))continue;g=!1,a=S|1&a}}return ii(a)||g}function ii(t){return 0==(1&t)}function Bi(t,r,o,a){if(null===r)return-1;let u=0;if(a||!o){let d=!1;for(;u<r.length;){const g=r[u];if(g===t)return u;if(3===g||6===g)d=!0;else{if(1===g||2===g){let w=r[++u];for(;"string"==typeof w;)w=r[++u];continue}if(4===g)break;if(0===g){u+=4;continue}}u+=d?1:2}return-1}return function yo(t,r){let o=t.indexOf(4);if(o>-1)for(o++;o<t.length;){const a=t[o];if("number"==typeof a)return-1;if(a===r)return o;o++}return-1}(r,t)}function di(t,r,o=!1){for(let a=0;a<r.length;a++)if($o(t,r[a],o))return!0;return!1}function Ti(t,r){e:for(let o=0;o<r.length;o++){const a=r[o];if(t.length===a.length){for(let u=0;u<t.length;u++)if(t[u]!==a[u])continue e;return!0}}return!1}function as(t,r){return t?":not("+r.trim()+")":r}function vo(t){let r=t[0],o=1,a=2,u="",d=!1;for(;o<t.length;){let g=t[o];if("string"==typeof g)if(2&a){const w=t[++o];u+="["+g+(w.length>0?'="'+w+'"':"")+"]"}else 8&a?u+="."+g:4&a&&(u+=" "+g);else""!==u&&!ii(g)&&(r+=as(d,u),u=""),a=g,d=d||!ii(a);o++}return""!==u&&(r+=as(d,u)),r}function Ro(t){return we(()=>{const r=so(t),o={...r,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Be.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||et.Emulated,styles:t.styles||dt,_:null,schemas:t.schemas||null,tView:null,id:""};Ss(o);const a=t.dependencies;return o.directiveDefs=ms(a,!1),o.pipeDefs=ms(a,!0),o.id=function gs(t){let r=0;const o=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const u of o)r=Math.imul(31,r)+u.charCodeAt(0)<<0;return r+=2147483648,"c"+r}(o),o})}function Io(t){return Ln(t)||Ur(t)}function Bs(t){return null!==t}function Hs(t){return we(()=>({type:t.type,bootstrap:t.bootstrap||dt,declarations:t.declarations||dt,imports:t.imports||dt,exports:t.exports||dt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Mo(t,r){if(null==t)return St;const o={};for(const a in t)if(t.hasOwnProperty(a)){let u=t[a],d=u;Array.isArray(u)&&(d=u[1],u=u[0]),o[u]=a,r&&(r[u]=d)}return o}function As(t){return we(()=>{const r=so(t);return Ss(r),r})}function Ki(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Ln(t){return t[sn]||null}function Ur(t){return t[Qn]||null}function Nr(t){return t[Mn]||null}function us(t){const r=Ln(t)||Ur(t)||Nr(t);return null!==r&&r.standalone}function jr(t,r){const o=t[er]||null;if(!o&&!0===r)throw new Error(`Type ${Ee(t)} does not have '\u0275mod' property.`);return o}function so(t){const r={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputTransforms:null,inputConfig:t.inputs||St,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||dt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Mo(t.inputs,r),outputs:Mo(t.outputs)}}function Ss(t){t.features?.forEach(r=>r(t))}function ms(t,r){if(!t)return null;const o=r?Nr:Io;return()=>("function"==typeof t?t():t).map(a=>o(a)).filter(Bs)}const pr=0,Ft=1,En=2,Wn=3,oi=4,_s=5,Sr=6,bi=7,gr=8,ji=9,hi=10,fn=11,Zi=12,Qi=13,$i=14,or=15,js=16,Ni=17,zi=18,cr=19,$s=20,Di=21,$r=22,Gi=23,Ps=24,zn=25,ba=1,oo=2,Pr=7,Yi=9,Er=11;function Zr(t){return Array.isArray(t)&&"object"==typeof t[ba]}function tr(t){return Array.isArray(t)&&!0===t[ba]}function xo(t){return 0!=(4&t.flags)}function Li(t){return t.componentOffset>-1}function Oo(t){return 1==(1&t.flags)}function Ji(t){return!!t.template}function lo(t){return 0!=(512&t[En])}function Wi(t,r){return t.hasOwnProperty(xr)?t[xr]:null}let li=null,Ws=!1;function Fi(t){const r=li;return li=t,r}const Go={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Wo(t){if(!Ks(t)||t.dirty){if(!t.producerMustRecompute(t)&&!ll(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function Es(t){t.dirty=!0,function Rs(t){if(void 0===t.liveConsumerNode)return;const r=Ws;Ws=!0;try{for(const o of t.liveConsumerNode)o.dirty||Es(o)}finally{Ws=r}}(t),t.consumerMarkedDirty?.(t)}function Co(t){return t&&(t.nextProducerIndex=0),Fi(t)}function oa(t,r){if(Fi(r),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Ks(t))for(let o=t.nextProducerIndex;o<t.producerNode.length;o++)ko(t.producerNode[o],t.producerIndexOfThis[o]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function ll(t){Ms(t);for(let r=0;r<t.producerNode.length;r++){const o=t.producerNode[r],a=t.producerLastReadVersion[r];if(a!==o.version||(Wo(o),a!==o.version))return!0}return!1}function Lo(t){if(Ms(t),Ks(t))for(let r=0;r<t.producerNode.length;r++)ko(t.producerNode[r],t.producerIndexOfThis[r]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function ko(t,r){if(function Aa(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Ms(t),1===t.liveConsumerNode.length)for(let a=0;a<t.producerNode.length;a++)ko(t.producerNode[a],t.producerIndexOfThis[a]);const o=t.liveConsumerNode.length-1;if(t.liveConsumerNode[r]=t.liveConsumerNode[o],t.liveConsumerIndexOfThis[r]=t.liveConsumerIndexOfThis[o],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,r<t.liveConsumerNode.length){const a=t.liveConsumerIndexOfThis[r],u=t.liveConsumerNode[r];Ms(u),u.producerIndexOfThis[a]=r}}function Ks(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Ms(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let Z=null;function Ue(t){const r=Fi(null);try{return t()}finally{Fi(r)}}const pt=()=>{},Ht=(()=>({...Go,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:pt}))();class _n{constructor(r,o,a){this.previousValue=r,this.currentValue=o,this.firstChange=a}isFirstChange(){return this.firstChange}}function Jt(){return On}function On(t){return t.type.prototype.ngOnChanges&&(t.setInput=$n),dn}function dn(){const t=Cr(this),r=t?.current;if(r){const o=t.previous;if(o===St)t.previous=r;else for(let a in r)o[a]=r[a];t.current=null,this.ngOnChanges(r)}}function $n(t,r,o,a){const u=this.declaredInputs[o],d=Cr(t)||function yi(t,r){return t[Qr]=r}(t,{previous:St,current:null}),g=d.current||(d.current={}),w=d.previous,S=w[u];g[u]=new _n(S&&S.currentValue,r,w===St),t[a]=r}Jt.ngInherit=!0;const Qr="__ngSimpleChanges__";function Cr(t){return t[Qr]||null}const ri=function(t,r,o){},Vi="svg";function br(t){for(;Array.isArray(t);)t=t[pr];return t}function Xt(t,r){return br(r[t])}function Qt(t,r){return br(r[t.index])}function ar(t,r){return t.data[r]}function lr(t,r){const o=r[t];return Zr(o)?o:o[pr]}function cs(t,r){return null==r?null:t[r]}function bo(t){t[Ni]=0}function fi(t){1024&t[En]||(t[En]|=1024,mt(t,1))}function Vo(t){1024&t[En]&&(t[En]&=-1025,mt(t,-1))}function mt(t,r){let o=t[Wn];if(null===o)return;o[_s]+=r;let a=o;for(o=o[Wn];null!==o&&(1===r&&1===a[_s]||-1===r&&0===a[_s]);)o[_s]+=r,a=o,o=o[Wn]}const Dn={lFrame:ne(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function yt(){return Dn.bindingsEnabled}function ci(){return null!==Dn.skipHydrationRootTNode}function vt(){return Dn.lFrame.lView}function In(){return Dn.lFrame.tView}function mc(t){return Dn.lFrame.contextLView=t,t[gr]}function gc(t){return Dn.lFrame.contextLView=null,t}function ds(){let t=Hl();for(;null!==t&&64===t.type;)t=t.parent;return t}function Hl(){return Dn.lFrame.currentTNode}function Os(t,r){const o=Dn.lFrame;o.currentTNode=t,o.isParent=r}function ja(){return Dn.lFrame.isParent}function Jr(){Dn.lFrame.isParent=!1}function Xi(){const t=Dn.lFrame;let r=t.bindingRootIndex;return-1===r&&(r=t.bindingRootIndex=t.tView.bindingStartIndex),r}function ho(){return Dn.lFrame.bindingIndex++}function Ns(t){const r=Dn.lFrame,o=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,o}function Pa(t,r){const o=Dn.lFrame;o.bindingIndex=o.bindingRootIndex=t,Ra(r)}function Ra(t){Dn.lFrame.currentDirectiveIndex=t}function Pu(){return Dn.lFrame.currentQueryIndex}function T(t){Dn.lFrame.currentQueryIndex=t}function A(t){const r=t[Ft];return 2===r.type?r.declTNode:1===r.type?t[Sr]:null}function I(t,r,o){if(o&en.SkipSelf){let u=r,d=t;for(;!(u=u.parent,null!==u||o&en.Host||(u=A(d),null===u||(d=d[$i],10&u.type))););if(null===u)return!1;r=u,t=d}const a=Dn.lFrame=B();return a.currentTNode=r,a.lView=t,!0}function R(t){const r=B(),o=t[Ft];Dn.lFrame=r,r.currentTNode=o.firstChild,r.lView=t,r.tView=o,r.contextLView=t,r.bindingIndex=o.bindingStartIndex,r.inI18n=!1}function B(){const t=Dn.lFrame,r=null===t?null:t.child;return null===r?ne(t):r}function ne(t){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function Y(){const t=Dn.lFrame;return Dn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const nt=Y;function Qe(){const t=Y();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Un(){return Dn.lFrame.selectedIndex}function nr(t){Dn.lFrame.selectedIndex=t}function dr(){const t=Dn.lFrame;return ar(t.tView,t.selectedIndex)}function Ma(){Dn.lFrame.currentNamespace=Vi}let za=!0;function Ga(){return za}function Qo(t){za=t}function jl(t,r){for(let o=r.directiveStart,a=r.directiveEnd;o<a;o++){const d=t.data[o].type.prototype,{ngAfterContentInit:g,ngAfterContentChecked:w,ngAfterViewInit:S,ngAfterViewChecked:H,ngOnDestroy:te}=d;g&&(t.contentHooks??=[]).push(-o,g),w&&((t.contentHooks??=[]).push(o,w),(t.contentCheckHooks??=[]).push(o,w)),S&&(t.viewHooks??=[]).push(-o,S),H&&((t.viewHooks??=[]).push(o,H),(t.viewCheckHooks??=[]).push(o,H)),null!=te&&(t.destroyHooks??=[]).push(o,te)}}function Mu(t,r,o){fl(t,r,3,o)}function Zs(t,r,o,a){(3&t[En])===o&&fl(t,r,o,a)}function hl(t,r){let o=t[En];(3&o)===r&&(o&=8191,o+=1,t[En]=o)}function fl(t,r,o,a){const d=a??-1,g=r.length-1;let w=0;for(let S=void 0!==a?65535&t[Ni]:0;S<g;S++)if("number"==typeof r[S+1]){if(w=r[S],null!=a&&w>=a)break}else r[S]<0&&(t[Ni]+=65536),(w<d||-1==d)&&(Ed(t,o,r,S),t[Ni]=(4294901760&t[Ni])+S+2),S++}function Id(t,r){ri(4,t,r);const o=Fi(null);try{r.call(t)}finally{Fi(o),ri(5,t,r)}}function Ed(t,r,o,a){const u=o[a]<0,d=o[a+1],w=t[u?-o[a]:o[a]];u?t[En]>>13<t[Ni]>>16&&(3&t[En])===r&&(t[En]+=8192,Id(w,d)):Id(w,d)}const $l=-1;class Yo{constructor(r,o,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=a}}function xu(t){return t!==$l}function Ou(t){return 32767&t}function Nu(t,r){let o=function bd(t){return t>>16}(t),a=r;for(;o>0;)a=a[$i],o--;return a}let zl=!0;function Gl(t){const r=zl;return zl=t,r}const pl=255,Ch=5;let Dd=0;const Gr={};function Do(t,r){const o=Xr(t,r);if(-1!==o)return o;const a=r[Ft];a.firstCreatePass&&(t.injectorIndex=r.length,vc(a.data,t),vc(r,null),vc(a.blueprint,null));const u=Wa(t,r),d=t.injectorIndex;if(xu(u)){const g=Ou(u),w=Nu(u,r),S=w[Ft].data;for(let H=0;H<8;H++)r[d+H]=w[g+H]|S[g+H]}return r[d+8]=u,d}function vc(t,r){t.push(0,0,0,0,0,0,0,0,r)}function Xr(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function Wa(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let o=0,a=null,u=r;for(;null!==u;){if(a=da(u),null===a)return $l;if(o++,u=u[$i],-1!==a.injectorIndex)return a.injectorIndex|o<<16}return $l}function es(t,r,o){!function yc(t,r,o){let a;"string"==typeof o?a=o.charCodeAt(0)||0:o.hasOwnProperty(ni)&&(a=o[ni]),null==a&&(a=o[ni]=Dd++);const u=a&pl;r.data[t+(u>>Ch)]|=1<<u}(t,r,o)}function Ad(t,r,o){if(o&en.Optional||void 0!==t)return t;at()}function xa(t,r,o,a){if(o&en.Optional&&void 0===a&&(a=null),!(o&(en.Self|en.Host))){const u=t[ji],d=Zn(void 0);try{return u?u.get(r,a,o&en.Optional):Ir(r,a,o&en.Optional)}finally{Zn(d)}}return Ad(a,0,o)}function Qs(t,r,o,a=en.Default,u){if(null!==t){if(2048&r[En]&&!(a&en.Self)){const g=function Lu(t,r,o,a,u){let d=t,g=r;for(;null!==d&&null!==g&&2048&g[En]&&!(512&g[En]);){const w=Sd(d,g,o,a|en.Self,Gr);if(w!==Gr)return w;let S=d.parent;if(!S){const H=g[$s];if(H){const te=H.get(o,Gr,a);if(te!==Gr)return te}S=da(g),g=g[$i]}d=S}return u}(t,r,o,a,Gr);if(g!==Gr)return g}const d=Sd(t,r,o,a,Gr);if(d!==Gr)return d}return xa(r,o,a,u)}function Sd(t,r,o,a,u){const d=function ua(t){if("string"==typeof t)return t.charCodeAt(0)||0;const r=t.hasOwnProperty(ni)?t[ni]:void 0;return"number"==typeof r?r>=0?r&pl:Rd:r}(o);if("function"==typeof d){if(!I(r,t,a))return a&en.Host?Ad(u,0,a):xa(r,o,a,u);try{let g;if(g=d(a),null!=g||a&en.Optional)return g;at()}finally{nt()}}else if("number"==typeof d){let g=null,w=Xr(t,r),S=$l,H=a&en.Host?r[or][Sr]:null;for((-1===w||a&en.SkipSelf)&&(S=-1===w?Wa(t,r):r[w+8],S!==$l&&Uo(a,!1)?(g=r[Ft],w=Ou(S),r=Nu(S,r)):w=-1);-1!==w;){const te=r[Ft];if(Pi(d,w,te.data)){const _e=Pd(w,r,o,g,a,H);if(_e!==Gr)return _e}S=r[w+8],S!==$l&&Uo(a,r[Ft].data[w+8]===H)&&Pi(d,w,r)?(g=te,w=Ou(S),r=Nu(S,r)):w=-1}}return u}function Pd(t,r,o,a,u,d){const g=r[Ft],w=g.data[t+8],te=Ui(w,g,o,null==a?Li(w)&&zl:a!=g&&0!=(3&w.type),u&en.Host&&d===w);return null!==te?ml(r,g,te,w):Gr}function Ui(t,r,o,a,u){const d=t.providerIndexes,g=r.data,w=1048575&d,S=t.directiveStart,te=d>>20,Fe=u?w+te:t.directiveEnd;for(let We=a?w:w+te;We<Fe;We++){const ft=g[We];if(We<S&&o===ft||We>=S&&ft.type===o)return We}if(u){const We=g[S];if(We&&Ji(We)&&We.type===o)return S}return null}function ml(t,r,o,a){let u=t[o];const d=r.data;if(function Td(t){return t instanceof Yo}(u)){const g=u;g.resolving&&function Ce(t,r){const o=r?`. Dependency path: ${r.join(" > ")} > ${t}`:"";throw new ae(-200,`Circular dependency in DI detected for ${t}${o}`)}(function ge(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():me(t)}(d[o]));const w=Gl(g.canSeeViewProviders);g.resolving=!0;const H=g.injectImpl?Zn(g.injectImpl):null;I(t,a,en.Default);try{u=t[o]=g.factory(void 0,d,t,a),r.firstCreatePass&&o>=a.directiveStart&&function ks(t,r,o){const{ngOnChanges:a,ngOnInit:u,ngDoCheck:d}=r.type.prototype;if(a){const g=On(r);(o.preOrderHooks??=[]).push(t,g),(o.preOrderCheckHooks??=[]).push(t,g)}u&&(o.preOrderHooks??=[]).push(0-t,u),d&&((o.preOrderHooks??=[]).push(t,d),(o.preOrderCheckHooks??=[]).push(t,d))}(o,d[o],r)}finally{null!==H&&Zn(H),Gl(w),g.resolving=!1,nt()}}return u}function Pi(t,r,o){return!!(o[r+(t>>Ch)]&1<<t)}function Uo(t,r){return!(t&en.Self||t&en.Host&&r)}class ts{constructor(r,o){this._tNode=r,this._lView=o}get(r,o,a){return Qs(this._tNode,this._lView,r,Kt(a),o)}}function Rd(){return new ts(ds(),vt())}function Oa(t){return we(()=>{const r=t.prototype.constructor,o=r[xr]||Jo(r),a=Object.prototype;let u=Object.getPrototypeOf(t.prototype).constructor;for(;u&&u!==a;){const d=u[xr]||Jo(u);if(d&&d!==o)return d;u=Object.getPrototypeOf(u)}return d=>new d})}function Jo(t){return rt(t)?()=>{const r=Jo(tt(t));return r&&r()}:Wi(t)}function da(t){const r=t[Ft],o=r.type;return 2===o?r.declTNode:1===o?t[Sr]:null}function Bo(t){return function ei(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;const o=t.attrs;if(o){const a=o.length;let u=0;for(;u<a;){const d=o[u];if(Vs(d))break;if(0===d)u+=2;else if("number"==typeof d)for(u++;u<a&&"string"==typeof o[u];)u++;else{if(d===r)return o[u+1];u+=2}}}return null}(ds(),t)}const Ys="__parameters__";function ea(t,r,o){return we(()=>{const a=function ku(t){return function(...o){if(t){const a=t(...o);for(const u in a)this[u]=a[u]}}}(r);function u(...d){if(this instanceof u)return a.apply(this,d),this;const g=new u(...d);return w.annotation=g,w;function w(S,H,te){const _e=S.hasOwnProperty(Ys)?S[Ys]:Object.defineProperty(S,Ys,{value:[]})[Ys];for(;_e.length<=te;)_e.push(null);return(_e[te]=_e[te]||[]).push(g),S}}return o&&(u.prototype=Object.create(o.prototype)),u.prototype.ngMetadataName=t,u.annotationCls=u,u})}function yl(t,r){t.forEach(o=>Array.isArray(o)?yl(o,r):r(o))}function Od(t,r,o){r>=t.length?t.push(o):t.splice(r,0,o)}function Ka(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function Zl(t,r){const o=[];for(let a=0;a<t;a++)o.push(r);return o}function Js(t,r,o){let a=Na(t,r);return a>=0?t[1|a]=o:(a=~a,function Wr(t,r,o,a){let u=t.length;if(u==r)t.push(o,a);else if(1===u)t.push(a,t[0]),t[0]=o;else{for(u--,t.push(t[u-1],t[u]);u>r;)t[u]=t[u-2],u--;t[r]=o,t[r+1]=a}}(t,a,r,o)),a}function vl(t,r){const o=Na(t,r);if(o>=0)return t[1|o]}function Na(t,r){return function Uu(t,r,o){let a=0,u=t.length>>o;for(;u!==a;){const d=a+(u-a>>1),g=t[d<<o];if(r===g)return d<<o;g>r?u=d:a=d+1}return~(u<<o)}(t,r,1)}const Hu=De(ea("Optional"),8),Yl=De(ea("SkipSelf"),4);function Tl(t){return 128==(128&t.flags)}var Ud=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Ud||{});const $u=/^>|^->|<!--|-->|--!>|<!-$/g,l_=/(<|>)/g,Sc="\u200b$1\u200b";const Lh=new Map;let Bd=0;const Vp="__ngContext__";function eo(t,r){Zr(r)?(t[Vp]=r[cr],function vv(t){Lh.set(t[cr],t)}(r)):t[Vp]=r}let $p;function rs(t,r){return $p(t,r)}function Mc(t){const r=t[Wn];return tr(r)?r[Wn]:r}function zp(t){return Gp(t[Zi])}function d_(t){return Gp(t[oi])}function Gp(t){for(;null!==t&&!tr(t);)t=t[oi];return t}function zu(t,r,o,a,u){if(null!=a){let d,g=!1;tr(a)?d=a:Zr(a)&&(g=!0,a=a[pr]);const w=br(a);0===t&&null!==o?null==u?is(r,o,w):Wu(r,o,w,u||null,!0):1===t&&null!==o?Wu(r,o,w,u||null,!0):2===t?function Nc(t,r,o){const a=ru(t,r);a&&function Yp(t,r,o,a){t.removeChild(r,o,a)}(t,a,r,o)}(r,w,g):3===t&&r.destroyNode(w),null!=d&&function I_(t,r,o,a,u){const d=o[Pr];d!==br(o)&&zu(r,t,a,d,u);for(let w=Er;w<o.length;w++){const S=o[w];Ku(S[Ft],S,t,r,a,d)}}(r,t,d,o,u)}}function Gu(t,r){return t.createComment(function kp(t){return t.replace($u,r=>r.replace(l_,Sc))}(r))}function tu(t,r,o){return t.createElement(r,o)}function Wp(t,r){const o=t[Yi],a=o.indexOf(r);Vo(r),o.splice(a,1)}function jh(t,r){if(t.length<=Er)return;const o=Er+r,a=t[o];if(a){const u=a[js];null!==u&&u!==t&&Wp(u,a),r>0&&(t[o-1][oi]=a[oi]);const d=Ka(t,Er+r);!function Hh(t,r){Ku(t,r,r[fn],2,null,null),r[pr]=null,r[Sr]=null}(a[Ft],a);const g=d[zi];null!==g&&g.detachView(d[Ft]),a[Wn]=null,a[oi]=null,a[En]&=-129}return a}function qp(t,r){if(!(256&r[En])){const o=r[fn];r[Gi]&&Lo(r[Gi]),r[Ps]&&Lo(r[Ps]),o.destroyNode&&Ku(t,r,o,3,null,null),function p_(t){let r=t[Zi];if(!r)return Kp(t[Ft],t);for(;r;){let o=null;if(Zr(r))o=r[Zi];else{const a=r[Er];a&&(o=a)}if(!o){for(;r&&!r[oi]&&r!==t;)Zr(r)&&Kp(r[Ft],r),r=r[Wn];null===r&&(r=t),Zr(r)&&Kp(r[Ft],r),o=r&&r[oi]}r=o}}(r)}}function Kp(t,r){if(!(256&r[En])){r[En]&=-129,r[En]|=256,function Zp(t,r){let o;if(null!=t&&null!=(o=t.destroyHooks))for(let a=0;a<o.length;a+=2){const u=r[o[a]];if(!(u instanceof Yo)){const d=o[a+1];if(Array.isArray(d))for(let g=0;g<d.length;g+=2){const w=u[d[g]],S=d[g+1];ri(4,w,S);try{S.call(w)}finally{ri(5,w,S)}}else{ri(4,u,d);try{d.call(u)}finally{ri(5,u,d)}}}}}(t,r),function Tv(t,r){const o=t.cleanup,a=r[bi];if(null!==o)for(let d=0;d<o.length-1;d+=2)if("string"==typeof o[d]){const g=o[d+3];g>=0?a[g]():a[-g].unsubscribe(),d+=2}else o[d].call(a[o[d+1]]);null!==a&&(r[bi]=null);const u=r[Di];if(null!==u){r[Di]=null;for(let d=0;d<u.length;d++)(0,u[d])()}}(t,r),1===r[Ft].type&&r[fn].destroy();const o=r[js];if(null!==o&&tr(r[Wn])){o!==r[Wn]&&Wp(o,r);const a=r[zi];null!==a&&a.detachView(t)}!function kh(t){Lh.delete(t[cr])}(r)}}function nu(t,r,o){return function Qp(t,r,o){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return o[pr];{const{componentOffset:u}=a;if(u>-1){const{encapsulation:d}=t.data[a.directiveStart+u];if(d===et.None||d===et.Emulated)return null}return Qt(a,o)}}(t,r.parent,o)}function Wu(t,r,o,a,u){t.insertBefore(r,o,a,u)}function is(t,r,o){t.appendChild(r,o)}function $h(t,r,o,a,u){null!==a?Wu(t,r,o,a,u):is(t,r,o)}function ru(t,r){return t.parentNode(r)}function Jp(t,r,o){return zh(t,r,o)}let Gh,Kh,el,zh=function Xp(t,r,o){return 40&t.type?Qt(t,o):null};function Hd(t,r,o,a){const u=nu(t,a,r),d=r[fn],w=Jp(a.parent||r[Sr],a,r);if(null!=u)if(Array.isArray(o))for(let S=0;S<o.length;S++)$h(d,u,o[S],w,!1);else $h(d,u,o,w,!1);void 0!==Gh&&Gh(d,a,r,o,u)}function jd(t,r){if(null!==r){const o=r.type;if(3&o)return Qt(r,t);if(4&o)return qu(-1,t[r.index]);if(8&o){const a=r.child;if(null!==a)return jd(t,a);{const u=t[r.index];return tr(u)?qu(-1,u):br(u)}}if(32&o)return rs(r,t)()||br(t[r.index]);{const a=g_(t,r);return null!==a?Array.isArray(a)?a[0]:jd(Mc(t[or]),a):jd(t,r.next)}}return null}function g_(t,r){return null!==r?t[or][Sr].projection[r.projection]:null}function qu(t,r){const o=Er+t+1;if(o<r.length){const a=r[o],u=a[Ft].firstChild;if(null!==u)return jd(a,u)}return r[Pr]}function Wh(t,r,o,a,u,d,g){for(;null!=o;){const w=a[o.index],S=o.type;if(g&&0===r&&(w&&eo(br(w),a),o.flags|=2),32!=(32&o.flags))if(8&S)Wh(t,r,o.child,a,u,d,!1),zu(r,t,u,w,d);else if(32&S){const H=rs(o,a);let te;for(;te=H();)zu(r,t,u,te,d);zu(r,t,u,w,d)}else 16&S?v_(t,r,a,o,u,d):zu(r,t,u,w,d);o=g?o.projectionNext:o.next}}function Ku(t,r,o,a,u,d){Wh(o,a,t.firstChild,r,u,d,!1)}function v_(t,r,o,a,u,d){const g=o[or],S=g[Sr].projection[a.projection];if(Array.isArray(S))for(let H=0;H<S.length;H++)zu(r,t,u,S[H],d);else{let H=S;const te=g[Wn];Tl(a)&&(H.flags|=128),Wh(t,r,H,te,u,d,!0)}}function E_(t,r,o){""===o?t.removeAttribute(r,"class"):t.setAttribute(r,"class",o)}function wl(t,r,o){const{mergedAttrs:a,classes:u,styles:d}=o;null!==a&&Kr(t,r,a),null!==u&&E_(t,r,u),null!==d&&function bv(t,r,o){t.setAttribute(r,"style",o)}(t,r,d)}function Zh(t){Kh=t}function Qh(t){return function Dl(){if(void 0===el&&(el=null,Dt.trustedTypes))try{el=Dt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return el}()?.createScriptURL(t)||t}class Yh{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ut})`}}function La(t){return t instanceof Yh?t.changingThisBreaksApplicationSecurity:t}function Al(t,r){const o=function Zu(t){return t instanceof Yh&&t.getTypeName()||null}(t);if(null!=o&&o!==r){if("ResourceURL"===o&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${o} (see ${ut})`)}return o===r}const S_=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Ju=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Ju||{});function nf(t){const r=Gd();return r?r.sanitize(Ju.URL,t)||"":Al(t,"URL")?La(t):function Jh(t){return(t=String(t)).match(S_)?t:"unsafe:"+t}(me(t))}function ou(t){const r=Gd();if(r)return Qh(r.sanitize(Ju.RESOURCE_URL,t)||"");if(Al(t,"ResourceURL"))return Qh(La(t));throw new ae(904,!1)}function lm(t,r,o){return function au(t,r){return"src"===r&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===r&&("base"===t||"link"===t)?ou:nf}(r,o)(t)}function Gd(){const t=vt();return t&&t[hi].sanitizer}const $c=new Ke("ENVIRONMENT_INITIALIZER"),O_=new Ke("INJECTOR",-1),Wd=new Ke("INJECTOR_DEF_TYPES");class rf{get(r,o=Dr){if(o===Dr){const a=new Error(`NullInjectorError: No provider for ${Ee(r)}!`);throw a.name="NullInjectorError",a}return o}}function um(t){return{\u0275providers:t}}function N_(...t){return{\u0275providers:L_(0,t),\u0275fromNgModule:!0}}function L_(t,...r){const o=[],a=new Set;let u;const d=g=>{o.push(g)};return yl(r,g=>{const w=g;tl(w,d,[],a)&&(u||=[],u.push(w))}),void 0!==u&&cm(u,d),o}function cm(t,r){for(let o=0;o<t.length;o++){const{ngModule:a,providers:u}=t[o];af(u,d=>{r(d,a)})}}function tl(t,r,o,a){if(!(t=tt(t)))return!1;let u=null,d=vr(t);const g=!d&&Ln(t);if(d||g){if(g&&!g.standalone)return!1;u=t}else{const S=t.ngModule;if(d=vr(S),!d)return!1;u=S}const w=a.has(u);if(g){if(w)return!1;if(a.add(u),g.dependencies){const S="function"==typeof g.dependencies?g.dependencies():g.dependencies;for(const H of S)tl(H,r,o,a)}}else{if(!d)return!1;{if(null!=d.imports&&!w){let H;a.add(u);try{yl(d.imports,te=>{tl(te,r,o,a)&&(H||=[],H.push(te))})}finally{}void 0!==H&&cm(H,r)}if(!w){const H=Wi(u)||(()=>new u);r({provide:u,useFactory:H,deps:dt},u),r({provide:Wd,useValue:u,multi:!0},u),r({provide:$c,useValue:()=>Tt(u),multi:!0},u)}const S=d.providers;if(null!=S&&!w){const H=t;af(S,te=>{r(te,H)})}}}return u!==t&&void 0!==t.providers}function af(t,r){for(let o of t)it(o)&&(o=o.\u0275providers),Array.isArray(o)?af(o,r):r(o)}const k_=X({provide:String,useValue:X});function dm(t){return null!==t&&"object"==typeof t&&k_ in t}function Xu(t){return"function"==typeof t}const fs=new Ke("Set Injector scope."),lf={},Ov={};let pm;function uf(){return void 0===pm&&(pm=new rf),pm}class ma{}class zc extends ma{get destroyed(){return this._destroyed}constructor(r,o,a,u){super(),this.parent=o,this.source=a,this.scopes=u,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Kd(r,g=>this.processProvider(g)),this.records.set(O_,lu(void 0,this)),u.has("environment")&&this.records.set(ma,lu(void 0,this));const d=this.records.get(fs);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(Wd.multi,dt,en.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of r)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(r){return this.assertNotDestroyed(),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r)}runInContext(r){this.assertNotDestroyed();const o=Le(this),a=Zn(void 0);try{return r()}finally{Le(o),Zn(a)}}get(r,o=Dr,a=en.Default){if(this.assertNotDestroyed(),r.hasOwnProperty(sr))return r[sr](this);a=Kt(a);const d=Le(this),g=Zn(void 0);try{if(!(a&en.SkipSelf)){let S=this.records.get(r);if(void 0===S){const H=function df(t){return"function"==typeof t||"object"==typeof t&&t instanceof Ke}(r)&&Sn(r);S=H&&this.injectableDefInScope(H)?lu(Gc(r),lf):null,this.records.set(r,S)}if(null!=S)return this.hydrate(r,S)}return(a&en.Self?uf():this.parent).get(r,o=a&en.Optional&&o===Dr?null:o)}catch(w){if("NullInjectorError"===w.name){if((w[Vr]=w[Vr]||[]).unshift(Ee(r)),d)throw w;return function xe(t,r,o,a){const u=t[Vr];throw r[L]&&u.unshift(r[L]),t.message=function Ie(t,r,o,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let u=Ee(r);if(Array.isArray(r))u=r.map(Ee).join(" -> ");else if("object"==typeof r){let d=[];for(let g in r)if(r.hasOwnProperty(g)){let w=r[g];d.push(g+":"+("string"==typeof w?JSON.stringify(w):Ee(w)))}u=`{${d.join(", ")}}`}return`${o}${a?"("+a+")":""}[${u}]: ${t.replace(re,"\n  ")}`}("\n"+t.message,u,o,a),t.ngTokenPath=u,t[Vr]=null,t}(w,r,"R3InjectorError",this.source)}throw w}finally{Zn(g),Le(d)}}resolveInjectorInitializers(){const r=Le(this),o=Zn(void 0);try{const u=this.get($c.multi,dt,en.Self);for(const d of u)d()}finally{Le(r),Zn(o)}}toString(){const r=[],o=this.records;for(const a of o.keys())r.push(Ee(a));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ae(205,!1)}processProvider(r){let o=Xu(r=tt(r))?r:tt(r&&r.provide);const a=function Nv(t){return dm(t)?lu(void 0,t.useValue):lu(mm(t),lf)}(r);if(Xu(r)||!0!==r.multi)this.records.get(o);else{let u=this.records.get(o);u||(u=lu(void 0,lf,!0),u.factory=()=>bn(u.multi),this.records.set(o,u)),o=r,u.multi.push(r)}this.records.set(o,a)}hydrate(r,o){return o.value===lf&&(o.value=Ov,o.value=o.factory()),"object"==typeof o.value&&o.value&&function qd(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(r){if(!r.providedIn)return!1;const o=tt(r.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}removeOnDestroy(r){const o=this._onDestroyHooks.indexOf(r);-1!==o&&this._onDestroyHooks.splice(o,1)}}function Gc(t){const r=Sn(t),o=null!==r?r.factory:Wi(t);if(null!==o)return o;if(t instanceof Ke)throw new ae(204,!1);if(t instanceof Function)return function cf(t){const r=t.length;if(r>0)throw Zl(r,"?"),new ae(204,!1);const o=function Pn(t){return t&&(t[Rn]||t[kr])||null}(t);return null!==o?()=>o.factory(t):()=>new t}(t);throw new ae(204,!1)}function mm(t,r,o){let a;if(Xu(t)){const u=tt(t);return Wi(u)||Gc(u)}if(dm(t))a=()=>tt(t.useValue);else if(function F_(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...bn(t.deps||[]));else if(function hm(t){return!(!t||!t.useExisting)}(t))a=()=>Tt(tt(t.useExisting));else{const u=tt(t&&(t.useClass||t.provide));if(!function gm(t){return!!t.deps}(t))return Wi(u)||Gc(u);a=()=>new u(...bn(t.deps))}return a}function lu(t,r,o=!1){return{factory:t,value:r,multi:o?[]:void 0}}function Kd(t,r){for(const o of t)Array.isArray(o)?Kd(o,r):o&&it(o)?Kd(o.\u0275providers,r):r(o)}const hf=new Ke("AppId",{providedIn:"root",factory:()=>Lv}),Lv="ng",_m=new Ke("Platform Initializer"),ym=new Ke("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),V_=new Ke("AnimationModuleType"),vm=new Ke("CSP nonce",{providedIn:"root",factory:()=>function pa(){if(void 0!==Kh)return Kh;if(typeof document<"u")return document;throw new ae(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Qc=(t,r,o)=>null;function Jd(t,r,o=!1){return Qc(t,r,o)}class vf{}class Jc{}class zv{resolveComponentFactory(r){throw function Cm(t){const r=Error(`No component factory found for ${Ee(t)}.`);return r.ngComponent=t,r}(r)}}let If=(()=>{class t{static#e=this.NULL=new zv}return t})();function Gv(){return hu(ds(),vt())}function hu(t,r){return new eh(Qt(t,r))}let eh=(()=>{class t{constructor(o){this.nativeElement=o}static#e=this.__NG_ELEMENT_ID__=Gv}return t})();function Wv(t){return t instanceof eh?t.nativeElement:t}class Xc{}let Dm=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function ed(){const t=vt(),o=lr(ds().index,t);return(Zr(o)?o:t)[fn]}()}return t})(),Am=(()=>{class t{static#e=this.\u0275prov=ln({token:t,providedIn:"root",factory:()=>null})}return t})();class th{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const td=new th("16.2.12"),nh={};function ih(t,r=null,o=null,a){const u=Tf(t,r,o,a);return u.resolveInjectorInitializers(),u}function Tf(t,r=null,o=null,a,u=new Set){const d=[o||dt,N_(t)];return a=a||("object"==typeof t?void 0:Ee(t)),new zc(d,r||uf(),a||null,u)}let ga=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=Dr;static#t=this.NULL=new rf;static create(o,a){if(Array.isArray(o))return ih({name:""},a,o,"");{const u=o.name??"";return ih({name:u},o.parent,o.providers,u)}}static#n=this.\u0275prov=ln({token:t,providedIn:"any",factory:()=>Tt(O_)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function Rm(t){return t.ngOriginalError}class pu{constructor(){this._console=console}handleError(r){const o=this._findOriginalError(r);this._console.error("ERROR",r),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(r){let o=r&&Rm(r);for(;o&&Rm(o);)o=Rm(o);return o||null}}function xm(t){return r=>{setTimeout(t,void 0,r)}}const _a=class Mm extends p.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,o,a){let u=r,d=o||(()=>null),g=a;if(r&&"object"==typeof r){const S=r;u=S.next?.bind(S),d=S.error?.bind(S),g=S.complete?.bind(S)}this.__isAsync&&(d=xm(d),u&&(u=xm(u)),g&&(g=xm(g)));const w=super.subscribe({next:u,error:d,complete:g});return r instanceof V.w0&&r.add(w),w}};function W_(...t){}class ps{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new _a(!1),this.onMicrotaskEmpty=new _a(!1),this.onStable=new _a(!1),this.onError=new _a(!1),typeof Zone>"u")throw new ae(908,!1);Zone.assertZonePatched();const u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!a&&o,u.shouldCoalesceRunChangeDetection=a,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function Om(){const t="function"==typeof Dt.requestAnimationFrame;let r=Dt[t?"requestAnimationFrame":"setTimeout"],o=Dt[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&r&&o){const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a);const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function Lm(t){const r=()=>{!function Nm(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Dt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,mu(t),t.isCheckStableRunning=!0,sh(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),mu(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,a,u,d,g,w)=>{if(function rd(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(w))return o.invokeTask(u,d,g,w);try{return Pl(t),o.invokeTask(u,d,g,w)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||t.shouldCoalesceRunChangeDetection)&&r(),Cf(t)}},onInvoke:(o,a,u,d,g,w,S)=>{try{return Pl(t),o.invoke(u,d,g,w,S)}finally{t.shouldCoalesceRunChangeDetection&&r(),Cf(t)}},onHasTask:(o,a,u,d)=>{o.hasTask(u,d),a===u&&("microTask"==d.change?(t._hasPendingMicrotasks=d.microTask,mu(t),sh(t)):"macroTask"==d.change&&(t.hasPendingMacrotasks=d.macroTask))},onHandleError:(o,a,u,d)=>(o.handleError(u,d),t.runOutsideAngular(()=>t.onError.emit(d)),!1)})}(u)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ps.isInAngularZone())throw new ae(909,!1)}static assertNotInAngularZone(){if(ps.isInAngularZone())throw new ae(909,!1)}run(r,o,a){return this._inner.run(r,o,a)}runTask(r,o,a,u){const d=this._inner,g=d.scheduleEventTask("NgZoneEvent: "+u,r,q_,W_,W_);try{return d.runTask(g,o,a)}finally{d.cancelTask(g)}}runGuarded(r,o,a){return this._inner.runGuarded(r,o,a)}runOutsideAngular(r){return this._outer.run(r)}}const q_={};function sh(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function mu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Pl(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Cf(t){t._nesting--,sh(t)}class nd{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new _a,this.onMicrotaskEmpty=new _a,this.onStable=new _a,this.onError=new _a}run(r,o,a){return r.apply(o,a)}runGuarded(r,o,a){return r.apply(o,a)}runOutsideAngular(r){return r()}runTask(r,o,a,u){return r.apply(o,a)}}const nc=new Ke("",{providedIn:"root",factory:km});function km(){const t=kt(ps);let r=!0;const o=new b.y(u=>{r=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{u.next(r),u.complete()})}),a=new b.y(u=>{let d;t.runOutsideAngular(()=>{d=t.onStable.subscribe(()=>{ps.assertNotInAngularZone(),queueMicrotask(()=>{!r&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(r=!0,u.next(!0))})})});const g=t.onUnstable.subscribe(()=>{ps.assertInAngularZone(),r&&(r=!1,t.runOutsideAngular(()=>{u.next(!1)}))});return()=>{d.unsubscribe(),g.unsubscribe()}});return(0,Te.T)(o,a.pipe((0,q.B)()))}function K_(t){return t.ownerDocument}function ka(t){return t instanceof Function?t():t}let Fm=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=ln({token:t,providedIn:"root",factory:()=>new t})}return t})();function id(t){for(;t;){t[En]|=64;const r=Mc(t);if(lo(t)&&!r)return t;t=r}return null}const Um=new Ke("",{providedIn:"root",factory:()=>!1});let sd=null;function Hm(t,r){return t[r]??Mf()}function Rf(t,r){const o=Mf();o.producerNode?.length&&(t[r]=sd,o.lView=t,sd=ny())}const ty={...Go,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{id(t.lView)},lView:null};function ny(){return Object.create(ty)}function Mf(){return sd??=ny(),sd}const Xn={};function xf(t){ry(In(),vt(),Un()+t,!1)}function ry(t,r,o,a){if(!a)if(3==(3&r[En])){const d=t.preOrderCheckHooks;null!==d&&Mu(r,d,o)}else{const d=t.preOrderHooks;null!==d&&Zs(r,d,0,o)}nr(o)}function yu(t,r=en.Default){const o=vt();return null===o?Tt(t,r):Qs(ds(),o,tt(t),r)}function iy(){throw new Error("invalid")}function od(t,r,o,a,u,d,g,w,S,H,te){const _e=r.blueprint.slice();return _e[pr]=u,_e[En]=140|a,(null!==H||t&&2048&t[En])&&(_e[En]|=2048),bo(_e),_e[Wn]=_e[$i]=t,_e[gr]=o,_e[hi]=g||t&&t[hi],_e[fn]=w||t&&t[fn],_e[ji]=S||t&&t[ji]||null,_e[Sr]=d,_e[cr]=function yv(){return Bd++}(),_e[$r]=te,_e[$s]=H,_e[or]=2==r.type?t[or]:_e,_e}function vu(t,r,o,a,u){let d=t.data[r];if(null===d)d=function Iu(t,r,o,a,u){const d=Hl(),g=ja(),S=t.data[r]=function qm(t,r,o,a,u,d){let g=r?r.injectorIndex:-1,w=0;return ci()&&(w|=128),{type:o,index:a,insertBeforeIndex:null,injectorIndex:g,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:w,providerIndexes:0,value:u,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?d:d&&d.parent,o,r,a,u);return null===t.firstChild&&(t.firstChild=S),null!==d&&(g?null==d.child&&null!==S.parent&&(d.child=S):null===d.next&&(d.next=S,S.prev=d)),S}(t,r,o,a,u),function Sa(){return Dn.lFrame.inI18n}()&&(d.flags|=32);else if(64&d.type){d.type=o,d.value=a,d.attrs=u;const g=function xn(){const t=Dn.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}();d.injectorIndex=null===g?-1:g.injectorIndex}return Os(d,!0),d}function ad(t,r,o,a){if(0===o)return-1;const u=r.length;for(let d=0;d<o;d++)r.push(a),t.blueprint.push(a),t.data.push(null);return u}function Of(t,r,o,a,u){const d=Hm(r,Gi),g=Un(),w=2&a;try{nr(-1),w&&r.length>zn&&ry(t,r,zn,!1),ri(w?2:0,u);const H=w?d:null,te=Co(H);try{null!==H&&(H.dirty=!1),o(a,u)}finally{oa(H,te)}}finally{w&&null===r[Gi]&&Rf(r,Gi),nr(g),ri(w?3:1,u)}}function $m(t,r,o){if(xo(r)){const a=Fi(null);try{const d=r.directiveEnd;for(let g=r.directiveStart;g<d;g++){const w=t.data[g];w.contentQueries&&w.contentQueries(1,o[g],g)}}finally{Fi(a)}}}function oh(t,r,o){yt()&&(function oI(t,r,o,a){const u=o.directiveStart,d=o.directiveEnd;Li(o)&&function uI(t,r,o){const a=Qt(r,t),u=Nf(o);let g=16;o.signals?g=4096:o.onPush&&(g=64);const w=cd(t,od(t,u,null,g,a,r,null,t[hi].rendererFactory.createRenderer(a,o),null,null,null));t[r.index]=w}(r,o,t.data[u+o.componentOffset]),t.firstCreatePass||Do(o,r),eo(a,r);const g=o.initialInputs;for(let w=u;w<d;w++){const S=t.data[w],H=ml(r,t,w,o);eo(H,r),null!==g&&Bf(0,w-u,H,S,0,g),Ji(S)&&(lr(o.index,r)[gr]=ml(r,t,w,o))}}(t,r,o,Qt(o,r)),64==(64&o.flags)&&ld(t,r,o))}function Fa(t,r,o=Qt){const a=r.localNames;if(null!==a){let u=r.index+1;for(let d=0;d<a.length;d+=2){const g=a[d+1],w=-1===g?o(r,t):t[g];t[u++]=w}}}function Nf(t){const r=t.tView;return null===r||r.incompleteFirstPass?t.tView=zm(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):r}function zm(t,r,o,a,u,d,g,w,S,H,te){const _e=zn+a,Fe=_e+u,We=function Gm(t,r){const o=[];for(let a=0;a<r;a++)o.push(a<t?null:Xn);return o}(_e,Fe),ft="function"==typeof H?H():H;return We[Ft]={type:t,blueprint:We,template:o,queries:null,viewQuery:w,declTNode:r,data:We.slice().fill(null,_e),bindingStartIndex:_e,expandoStartIndex:Fe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:S,consts:ft,incompleteFirstPass:!1,ssrId:te}}let Lf=t=>null;function sy(t,r,o,a){for(let u in t)if(t.hasOwnProperty(u)){o=null===o?{}:o;const d=t[u];null===a?kf(o,r,u,d):a.hasOwnProperty(u)&&kf(o,r,a[u],d)}return o}function kf(t,r,o,a){t.hasOwnProperty(o)?t[o].push(r,a):t[o]=[r,a]}function Zm(t,r,o,a){if(yt()){const u=null===a?null:{"":-1},d=function Jm(t,r){const o=t.directiveRegistry;let a=null,u=null;if(o)for(let d=0;d<o.length;d++){const g=o[d];if(di(r,g.selectors,!1))if(a||(a=[]),Ji(g))if(null!==g.findHostDirectiveDefs){const w=[];u=u||new Map,g.findHostDirectiveDefs(g,w,u),a.unshift(...w,g),Vf(t,r,w.length)}else a.unshift(g),Vf(t,r,0);else u=u||new Map,g.findHostDirectiveDefs?.(g,a,u),a.push(g)}return null===a?null:[a,u]}(t,o);let g,w;null===d?g=w=null:[g,w]=d,null!==g&&Ff(t,r,o,g,u,w),u&&function ud(t,r,o){if(r){const a=t.localNames=[];for(let u=0;u<r.length;u+=2){const d=o[r[u+1]];if(null==d)throw new ae(-301,!1);a.push(r[u],d)}}}(o,a,u)}o.mergedAttrs=xi(o.mergedAttrs,o.attrs)}function Ff(t,r,o,a,u,d){for(let H=0;H<a.length;H++)es(Do(o,r),t,a[H].type);!function Uf(t,r,o){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+o,t.providerIndexes=r}(o,t.data.length,a.length);for(let H=0;H<a.length;H++){const te=a[H];te.providersResolver&&te.providersResolver(te)}let g=!1,w=!1,S=ad(t,r,a.length,null);for(let H=0;H<a.length;H++){const te=a[H];o.mergedAttrs=xi(o.mergedAttrs,te.hostAttrs),lI(t,o,r,S,te),ly(S,te,u),null!==te.contentQueries&&(o.flags|=4),(null!==te.hostBindings||null!==te.hostAttrs||0!==te.hostVars)&&(o.flags|=64);const _e=te.type.prototype;!g&&(_e.ngOnChanges||_e.ngOnInit||_e.ngDoCheck)&&((t.preOrderHooks??=[]).push(o.index),g=!0),!w&&(_e.ngOnChanges||_e.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(o.index),w=!0),S++}!function oy(t,r,o){const u=r.directiveEnd,d=t.data,g=r.attrs,w=[];let S=null,H=null;for(let te=r.directiveStart;te<u;te++){const _e=d[te],Fe=o?o.get(_e):null,ft=Fe?Fe.outputs:null;S=sy(_e.inputs,te,S,Fe?Fe.inputs:null),H=sy(_e.outputs,te,H,ft);const Pt=null===S||null===g||_o(r)?null:eg(S,te,g);w.push(Pt)}null!==S&&(S.hasOwnProperty("class")&&(r.flags|=8),S.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=w,r.inputs=S,r.outputs=H}(t,o,d)}function ld(t,r,o){const a=o.directiveStart,u=o.directiveEnd,d=o.index,g=function Th(){return Dn.lFrame.currentDirectiveIndex}();try{nr(d);for(let w=a;w<u;w++){const S=t.data[w],H=r[w];Ra(w),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&aI(S,H)}}finally{nr(-1),Ra(g)}}function aI(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function Vf(t,r,o){r.componentOffset=o,(t.components??=[]).push(r.index)}function ly(t,r,o){if(o){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)o[r.exportAs[a]]=t;Ji(r)&&(o[""]=t)}}function lI(t,r,o,a,u){t.data[a]=u;const d=u.factory||(u.factory=Wi(u.type)),g=new Yo(d,Ji(u),yu);t.blueprint[a]=g,o[a]=g,function Qm(t,r,o,a,u){const d=u.hostBindings;if(d){let g=t.hostBindingOpCodes;null===g&&(g=t.hostBindingOpCodes=[]);const w=~r.index;(function Ym(t){let r=t.length;for(;r>0;){const o=t[--r];if("number"==typeof o&&o<0)return o}return 0})(g)!=w&&g.push(w),g.push(o,a,d)}}(t,r,a,ad(t,o,u.hostVars,Xn),u)}function nl(t,r,o,a,u,d){const g=Qt(t,r);!function Xm(t,r,o,a,u,d,g){if(null==d)t.removeAttribute(r,u,o);else{const w=null==g?me(d):g(d,a||"",u);t.setAttribute(r,u,w,o)}}(r[fn],g,d,t.value,o,a,u)}function Bf(t,r,o,a,u,d){const g=d[r];if(null!==g)for(let w=0;w<g.length;)Hf(a,o,g[w++],g[w++],g[w++])}function Hf(t,r,o,a,u){const d=Fi(null);try{const g=t.inputTransforms;null!==g&&g.hasOwnProperty(a)&&(u=g[a].call(r,u)),null!==t.setInput?t.setInput(r,u,o,a):r[a]=u}finally{Fi(d)}}function eg(t,r,o){let a=null,u=0;for(;u<o.length;){const d=o[u];if(0!==d)if(5!==d){if("number"==typeof d)break;if(t.hasOwnProperty(d)){null===a&&(a=[]);const g=t[d];for(let w=0;w<g.length;w+=2)if(g[w]===r){a.push(d,g[w+1],o[u+1]);break}}u+=2}else u+=2;else u+=4}return a}function jf(t,r,o,a){return[t,!0,!1,r,null,0,a,o,null,null,null]}function tg(t,r){const o=t.contentQueries;if(null!==o)for(let a=0;a<o.length;a+=2){const d=o[a+1];if(-1!==d){const g=t.data[d];T(o[a]),g.contentQueries(2,r[d],d)}}}function cd(t,r){return t[Zi]?t[Qi][oi]=r:t[Zi]=r,t[Qi]=r,r}function ah(t,r,o){T(0);const a=Fi(null);try{r(t,o)}finally{Fi(a)}}function $f(t){return t[bi]||(t[bi]=[])}function rg(t){return t.cleanup||(t.cleanup=[])}function ig(t,r){const o=t[ji],a=o?o.get(pu,null):null;a&&a.handleError(r)}function lh(t,r,o,a,u){for(let d=0;d<o.length;){const g=o[d++],w=o[d++];Hf(t.data[g],r[g],a,w,u)}}function dd(t,r){const o=lr(r,t),a=o[Ft];!function sg(t,r){for(let o=r.length;o<t.blueprint.length;o++)r.push(t.blueprint[o])}(a,o);const u=o[pr];null!==u&&null===o[$r]&&(o[$r]=Jd(u,o[ji])),og(a,o,o[gr])}function og(t,r,o){R(r);try{const a=t.viewQuery;null!==a&&ah(1,a,o);const u=t.template;null!==u&&Of(t,r,u,1,o),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&tg(t,r),t.staticViewQueries&&ah(2,t.viewQuery,o);const d=t.components;null!==d&&function cI(t,r){for(let o=0;o<r.length;o++)dd(t,r[o])}(r,d)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{r[En]&=-5,Qe()}}let uy=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(o,a,u){const d=typeof Zone>"u"?null:Zone.current,g=function Ze(t,r,o){const a=Object.create(Ht);o&&(a.consumerAllowSignalWrites=!0),a.fn=t,a.schedule=r;const u=g=>{a.cleanupFn=g};return a.ref={notify:()=>Es(a),run:()=>{if(a.dirty=!1,a.hasRun&&!ll(a))return;a.hasRun=!0;const g=Co(a);try{a.cleanupFn(),a.cleanupFn=pt,a.fn(u)}finally{oa(a,g)}},cleanup:()=>a.cleanupFn()},a.ref}(o,H=>{this.all.has(H)&&this.queue.set(H,d)},u);let w;this.all.add(g),g.notify();const S=()=>{g.cleanup(),w?.(),this.all.delete(g),this.queue.delete(g)};return w=a?.onDestroy(S),{destroy:S}}flush(){if(0!==this.queue.size)for(const[o,a]of this.queue)this.queue.delete(o),a?a.run(()=>o.run()):o.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=ln({token:t,providedIn:"root",factory:()=>new t})}return t})();function zf(t,r,o){let a=o?t.styles:null,u=o?t.classes:null,d=0;if(null!==r)for(let g=0;g<r.length;g++){const w=r[g];"number"==typeof w?d=w:1==d?u=ze(u,w):2==d&&(a=ze(a,w+": "+r[++g]+";"))}o?t.styles=a:t.stylesWithoutHost=a,o?t.classes=u:t.classesWithoutHost=u}function hd(t,r,o,a,u=!1){for(;null!==o;){const d=r[o.index];null!==d&&a.push(br(d)),tr(d)&&dy(d,a);const g=o.type;if(8&g)hd(t,r,o.child,a);else if(32&g){const w=rs(o,r);let S;for(;S=w();)a.push(S)}else if(16&g){const w=g_(r,o);if(Array.isArray(w))a.push(...w);else{const S=Mc(r[or]);hd(S[Ft],S,w,a,!0)}}o=u?o.projectionNext:o.next}return a}function dy(t,r){for(let o=Er;o<t.length;o++){const a=t[o],u=a[Ft].firstChild;null!==u&&hd(a[Ft],a,u,r)}t[Pr]!==t[pr]&&r.push(t[Pr])}function Gf(t,r,o,a=!0){const u=r[hi],d=u.rendererFactory,g=u.afterRenderEventManager;d.begin?.(),g?.begin();try{hy(t,r,t.template,o)}catch(S){throw a&&ig(r,S),S}finally{d.end?.(),u.effectManager?.flush(),g?.end()}}function hy(t,r,o,a){const u=r[En];if(256!=(256&u)){r[hi].effectManager?.flush(),R(r);try{bo(r),function Bt(t){return Dn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==o&&Of(t,r,o,2,a);const g=3==(3&u);if(g){const H=t.preOrderCheckHooks;null!==H&&Mu(r,H,null)}else{const H=t.preOrderHooks;null!==H&&Zs(r,H,0,null),hl(r,0)}if(function py(t){for(let r=zp(t);null!==r;r=d_(r)){if(!r[oo])continue;const o=r[Yi];for(let a=0;a<o.length;a++){fi(o[a])}}}(r),fy(r,2),null!==t.contentQueries&&tg(t,r),g){const H=t.contentCheckHooks;null!==H&&Mu(r,H)}else{const H=t.contentHooks;null!==H&&Zs(r,H,1),hl(r,1)}!function jm(t,r){const o=t.hostBindingOpCodes;if(null===o)return;const a=Hm(r,Ps);try{for(let u=0;u<o.length;u++){const d=o[u];if(d<0)nr(~d);else{const g=d,w=o[++u],S=o[++u];Pa(w,g),a.dirty=!1;const H=Co(a);try{S(2,r[g])}finally{oa(a,H)}}}}finally{null===r[Ps]&&Rf(r,Ps),nr(-1)}}(t,r);const w=t.components;null!==w&&ag(r,w,0);const S=t.viewQuery;if(null!==S&&ah(2,S,a),g){const H=t.viewCheckHooks;null!==H&&Mu(r,H)}else{const H=t.viewHooks;null!==H&&Zs(r,H,2),hl(r,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),r[En]&=-73,Vo(r)}finally{Qe()}}}function fy(t,r){for(let o=zp(t);null!==o;o=d_(o))for(let a=Er;a<o.length;a++)Wf(o[a],r)}function my(t,r,o){Wf(lr(r,t),o)}function Wf(t,r){if(!function xs(t){return 128==(128&t[En])}(t))return;const o=t[Ft],a=t[En];if(80&a&&0===r||1024&a||2===r)hy(o,t,o.template,t[gr]);else if(t[_s]>0){fy(t,1);const u=o.components;null!==u&&ag(t,u,1)}}function ag(t,r,o){for(let a=0;a<r.length;a++)my(t,r[a],o)}class fd{get rootNodes(){const r=this._lView,o=r[Ft];return hd(o,r,o.firstChild,[])}constructor(r,o){this._lView=r,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[gr]}set context(r){this._lView[gr]=r}get destroyed(){return 256==(256&this._lView[En])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[Wn];if(tr(r)){const o=r[8],a=o?o.indexOf(this):-1;a>-1&&(jh(r,a),Ka(o,a))}this._attachedToViewContainer=!1}qp(this._lView[Ft],this._lView)}onDestroy(r){!function Lr(t,r){if(256==(256&t[En]))throw new ae(911,!1);null===t[Di]&&(t[Di]=[]),t[Di].push(r)}(this._lView,r)}markForCheck(){id(this._cdRefInjectingView||this._lView)}detach(){this._lView[En]&=-129}reattach(){this._lView[En]|=128}detectChanges(){Gf(this._lView[Ft],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ae(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function f_(t,r){Ku(t,r,r[fn],2,null,null)}(this._lView[Ft],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new ae(902,!1);this._appRef=r}}class gy extends fd{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;Gf(r[Ft],r,r[gr],!1)}checkNoChanges(){}get context(){return null}}class uh extends If{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const o=Ln(r);return new Rl(o,this.ngModule)}}function _r(t){const r=[];for(let o in t)t.hasOwnProperty(o)&&r.push({propName:t[o],templateName:o});return r}class yy{constructor(r,o){this.injector=r,this.parentInjector=o}get(r,o,a){a=Kt(a);const u=this.injector.get(r,nh,a);return u!==nh||o===nh?u:this.parentInjector.get(r,o,a)}}class Rl extends Jc{get inputs(){const r=this.componentDef,o=r.inputTransforms,a=_r(r.inputs);if(null!==o)for(const u of a)o.hasOwnProperty(u.propName)&&(u.transform=o[u.propName]);return a}get outputs(){return _r(this.componentDef.outputs)}constructor(r,o){super(),this.componentDef=r,this.ngModule=o,this.componentType=r.type,this.selector=function Hi(t){return t.map(vo).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!o}create(r,o,a,u){let d=(u=u||this.ngModule)instanceof ma?u:u?.injector;d&&null!==this.componentDef.getStandaloneInjector&&(d=this.componentDef.getStandaloneInjector(d)||d);const g=d?new yy(r,d):r,w=g.get(Xc,null);if(null===w)throw new ae(407,!1);const _e={rendererFactory:w,sanitizer:g.get(Am,null),effectManager:g.get(uy,null),afterRenderEventManager:g.get(Fm,null)},Fe=w.createRenderer(null,this.componentDef),We=this.componentDef.selectors[0][0]||"div",ft=a?function eI(t,r,o,a){const d=a.get(Um,!1)||o===et.ShadowDom,g=t.selectRootElement(r,d);return function tI(t){Lf(t)}(g),g}(Fe,a,this.componentDef.encapsulation,g):tu(Fe,We,function _y(t){const r=t.toLowerCase();return"svg"===r?Vi:"math"===r?"math":null}(We)),wn=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Et=null;null!==ft&&(Et=Jd(ft,g,!0));const Jn=zm(0,null,null,1,0,null,null,null,null,null,null),yr=od(null,Jn,null,wn,null,null,_e,Fe,g,null,Et);let mi,Ca;R(yr);try{const fc=this.componentDef;let bp,PE=null;fc.findHostDirectiveDefs?(bp=[],PE=new Map,fc.findHostDirectiveDefs(fc,bp,PE),bp.push(fc)):bp=[fc];const qD=function no(t,r){const o=t[Ft],a=zn;return t[a]=r,vu(o,a,2,"#host",null)}(yr,ft),KD=function Mi(t,r,o,a,u,d,g){const w=u[Ft];!function il(t,r,o,a){for(const u of t)r.mergedAttrs=xi(r.mergedAttrs,u.hostAttrs);null!==r.mergedAttrs&&(zf(r,r.mergedAttrs,!0),null!==o&&wl(a,o,r))}(a,t,r,g);let S=null;null!==r&&(S=Jd(r,u[ji]));const H=d.rendererFactory.createRenderer(r,o);let te=16;o.signals?te=4096:o.onPush&&(te=64);const _e=od(u,Nf(o),null,te,u[t.index],t,d,H,null,null,S);return w.firstCreatePass&&Vf(w,t,a.length-1),cd(u,_e),u[t.index]=_e}(qD,ft,fc,bp,yr,_e,Fe);Ca=ar(Jn,zn),ft&&function hI(t,r,o,a){if(a)Kr(t,o,["ng-version",td.full]);else{const{attrs:u,classes:d}=function wi(t){const r=[],o=[];let a=1,u=2;for(;a<t.length;){let d=t[a];if("string"==typeof d)2===u?""!==d&&r.push(d,t[++a]):8===u&&o.push(d);else{if(!ii(u))break;u=d}a++}return{attrs:r,classes:o}}(r.selectors[0]);u&&Kr(t,o,u),d&&d.length>0&&E_(t,o,d.join(" "))}}(Fe,fc,ft,a),void 0!==o&&function qf(t,r,o){const a=t.projection=[];for(let u=0;u<r.length;u++){const d=o[u];a.push(null!=d?Array.from(d):null)}}(Ca,this.ngContentSelectors,o),mi=function Iy(t,r,o,a,u,d){const g=ds(),w=u[Ft],S=Qt(g,u);Ff(w,u,g,o,null,a);for(let te=0;te<o.length;te++)eo(ml(u,w,g.directiveStart+te,g),u);ld(w,u,g),S&&eo(S,u);const H=ml(u,w,g.directiveStart+g.componentOffset,g);if(t[gr]=u[gr]=H,null!==d)for(const te of d)te(H,r);return $m(w,g,t),H}(KD,fc,bp,PE,yr,[Ey]),og(Jn,yr,null)}finally{Qe()}return new vy(this.componentType,mi,hu(Ca,yr),yr,Ca)}}class vy extends vf{constructor(r,o,a,u,d){super(),this.location=a,this._rootLView=u,this._tNode=d,this.previousInputValues=null,this.instance=o,this.hostView=this.changeDetectorRef=new gy(u),this.componentType=r}setInput(r,o){const a=this._tNode.inputs;let u;if(null!==a&&(u=a[r])){if(this.previousInputValues??=new Map,this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),o))return;const d=this._rootLView;lh(d[Ft],d,u,r,o),this.previousInputValues.set(r,o),id(lr(this._tNode.index,d))}}get injector(){return new ts(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function Ey(){const t=ds();jl(vt()[Ft],t)}function lg(t){let r=function Kf(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),o=!0;const a=[t];for(;r;){let u;if(Ji(t))u=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new ae(903,!1);u=r.\u0275dir}if(u){if(o){a.push(u);const g=t;g.inputs=Zf(t.inputs),g.inputTransforms=Zf(t.inputTransforms),g.declaredInputs=Zf(t.declaredInputs),g.outputs=Zf(t.outputs);const w=u.hostBindings;w&&$E(t,w);const S=u.viewQuery,H=u.contentQueries;if(S&&fI(t,S),H&&Ii(t,H),oe(t.inputs,u.inputs),oe(t.declaredInputs,u.declaredInputs),oe(t.outputs,u.outputs),null!==u.inputTransforms&&(null===g.inputTransforms&&(g.inputTransforms={}),oe(g.inputTransforms,u.inputTransforms)),Ji(u)&&u.data.animation){const te=t.data;te.animation=(te.animation||[]).concat(u.data.animation)}}const d=u.features;if(d)for(let g=0;g<d.length;g++){const w=d[g];w&&w.ngInherit&&w(t),w===lg&&(o=!1)}}r=Object.getPrototypeOf(r)}!function ug(t){let r=0,o=null;for(let a=t.length-1;a>=0;a--){const u=t[a];u.hostVars=r+=u.hostVars,u.hostAttrs=xi(u.hostAttrs,o=xi(o,u.hostAttrs))}}(a)}function Zf(t){return t===St?{}:t===dt?[]:t}function fI(t,r){const o=t.viewQuery;t.viewQuery=o?(a,u)=>{r(a,u),o(a,u)}:r}function Ii(t,r){const o=t.contentQueries;t.contentQueries=o?(a,u,d)=>{r(a,u,d),o(a,u,d)}:r}function $E(t,r){const o=t.hostBindings;t.hostBindings=o?(a,u)=>{r(a,u),o(a,u)}:r}function by(t){const r=t.inputConfig,o={};for(const a in r)if(r.hasOwnProperty(a)){const u=r[a];Array.isArray(u)&&u[2]&&(o[a]=u[2])}t.inputTransforms=o}function Qf(t){return!!ic(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function ic(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function bs(t,r,o){return t[r]=o}function So(t,r,o){return!Object.is(t[r],o)&&(t[r]=o,!0)}function na(t,r,o,a){const u=So(t,r,o);return So(t,r+1,a)||u}function dg(t,r,o,a){const u=vt();return So(u,ho(),r)&&(In(),nl(dr(),u,t,r,o,a)),dg}function xy(t,r,o,a,u,d,g,w){const S=vt(),H=In(),te=t+zn,_e=H.firstCreatePass?function up(t,r,o,a,u,d,g,w,S){const H=r.consts,te=vu(r,t,4,g||null,cs(H,w));Zm(r,o,te,cs(H,S)),jl(r,te);const _e=te.tView=zm(2,te,a,u,d,r.directiveRegistry,r.pipeRegistry,null,r.schemas,H,null);return null!==r.queries&&(r.queries.template(r,te),_e.queries=r.queries.embeddedTView(te)),te}(te,H,S,r,o,a,u,d,g):H.data[te];Os(_e,!1);const Fe=CI(H,S,_e,t);Ga()&&Hd(H,S,Fe,_e),eo(Fe,S),cd(S,S[te]=jf(Fe,S,Fe,_e)),Oo(_e)&&oh(H,S,_e),null!=g&&Fa(S,_e,w)}let CI=function bI(t,r,o,a){return Qo(!0),r[fn].createComment("")};function Cu(t){return function ui(t,r){return t[r]}(function an(){return Dn.lFrame.contextLView}(),zn+t)}function Va(t,r,o){const a=vt();return So(a,ho(),r)&&function Ho(t,r,o,a,u,d,g,w){const S=Qt(r,o);let te,H=r.inputs;!w&&null!=H&&(te=H[a])?(lh(t,o,te,a,u),Li(r)&&function iI(t,r){const o=lr(r,t);16&o[En]||(o[En]|=64)}(o,r.index)):3&r.type&&(a=function Km(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),u=null!=g?g(u,r.value||"",a):u,d.setProperty(S,a,u))}(In(),dr(),a,t,r,a[fn],o,!1),Va}function cc(t,r,o,a,u){const g=u?"class":"style";lh(t,o,r.inputs[g],g,a)}function cp(t,r,o,a){const u=vt(),d=In(),g=zn+t,w=u[fn],S=d.firstCreatePass?function bu(t,r,o,a,u,d){const g=r.consts,S=vu(r,t,2,a,cs(g,u));return Zm(r,o,S,cs(g,d)),null!==S.attrs&&zf(S,S.attrs,!1),null!==S.mergedAttrs&&zf(S,S.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,S),S}(g,d,u,r,o,a):d.data[g],H=Ll(d,u,S,w,r,t);u[g]=H;const te=Oo(S);return Os(S,!0),wl(w,H,S),32!=(32&S.flags)&&Ga()&&Hd(d,u,H,S),0===function Zo(){return Dn.lFrame.elementDepthCount}()&&eo(H,u),function jt(){Dn.lFrame.elementDepthCount++}(),te&&(oh(d,u,S),$m(d,S,u)),null!==a&&Fa(u,S),cp}function fh(){let t=ds();ja()?Jr():(t=t.parent,Os(t,!1));const r=t;(function pc(t){return Dn.skipHydrationRootTNode===t})(r)&&function cl(){Dn.skipHydrationRootTNode=null}(),function ot(){Dn.lFrame.elementDepthCount--}();const o=In();return o.firstCreatePass&&(jl(o,t),xo(t)&&o.queries.elementEnd(t)),null!=r.classesWithoutHost&&function Cd(t){return 0!=(8&t.flags)}(r)&&cc(o,r,vt(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function wh(t){return 0!=(16&t.flags)}(r)&&cc(o,r,vt(),r.stylesWithoutHost,!1),fh}function Tg(t,r,o,a){return cp(t,r,o,a),fh(),Tg}let Ll=(t,r,o,a,u,d)=>(Qo(!0),tu(a,u,function Ls(){return Dn.lFrame.currentNamespace}()));function dp(t,r,o){const a=vt(),u=In(),d=t+zn,g=u.firstCreatePass?function PI(t,r,o,a,u){const d=r.consts,g=cs(d,a),w=vu(r,t,8,"ng-container",g);return null!==g&&zf(w,g,!0),Zm(r,o,w,cs(d,u)),null!==r.queries&&r.queries.elementStart(r,w),w}(d,u,a,r,o):u.data[d];Os(g,!0);const w=wg(u,a,g,t);return a[d]=w,Ga()&&Hd(u,a,w,g),eo(w,a),Oo(g)&&(oh(u,a,g),$m(u,g,a)),null!=o&&Fa(a,g),dp}function hp(){let t=ds();const r=In();return ja()?Jr():(t=t.parent,Os(t,!1)),r.firstCreatePass&&(jl(r,t),xo(t)&&r.queries.elementEnd(t)),hp}function fp(t,r,o){return dp(t,r,o),hp(),fp}let wg=(t,r,o,a)=>(Qo(!0),Gu(r[fn],""));function Cg(){return vt()}function bg(t){return!!t&&"function"==typeof t.then}function dc(t){return!!t&&"function"==typeof t.subscribe}function ph(t,r,o,a){const u=vt(),d=In(),g=ds();return function Oy(t,r,o,a,u,d,g){const w=Oo(a),H=t.firstCreatePass&&rg(t),te=r[gr],_e=$f(r);let Fe=!0;if(3&a.type||g){const Pt=Qt(a,r),qt=g?g(Pt):Pt,wn=_e.length,Et=g?yr=>g(br(yr[a.index])):a.index;let Jn=null;if(!g&&w&&(Jn=function OI(t,r,o,a){const u=t.cleanup;if(null!=u)for(let d=0;d<u.length-1;d+=2){const g=u[d];if(g===o&&u[d+1]===a){const w=r[bi],S=u[d+2];return w.length>S?w[S]:null}"string"==typeof g&&(d+=2)}return null}(t,r,u,a.index)),null!==Jn)(Jn.__ngLastListenerFn__||Jn).__ngNextListenerFn__=d,Jn.__ngLastListenerFn__=d,Fe=!1;else{d=Ly(a,r,te,d,!1);const yr=o.listen(qt,u,d);_e.push(d,yr),H&&H.push(u,Et,wn,wn+1)}}else d=Ly(a,r,te,d,!1);const We=a.outputs;let ft;if(Fe&&null!==We&&(ft=We[u])){const Pt=ft.length;if(Pt)for(let qt=0;qt<Pt;qt+=2){const mi=r[ft[qt]][ft[qt+1]].subscribe(d),Ca=_e.length;_e.push(d,mi),H&&H.push(u,a.index,Ca,-(Ca+1))}}}(d,u,u[fn],g,t,r,a),ph}function Ny(t,r,o,a){try{return ri(6,r,o),!1!==o(a)}catch(u){return ig(t,u),!1}finally{ri(7,r,o)}}function Ly(t,r,o,a,u){return function d(g){if(g===Function)return a;id(t.componentOffset>-1?lr(t.index,r):r);let S=Ny(r,o,a,g),H=d.__ngNextListenerFn__;for(;H;)S=Ny(r,o,H,g)&&S,H=H.__ngNextListenerFn__;return u&&!1===S&&g.preventDefault(),S}}function ky(t=1){return function zt(t){return(Dn.lFrame.contextLView=function Vn(t,r){for(;t>0;)r=r[$i],t--;return r}(t,Dn.lFrame.contextLView))[gr]}(t)}function QE(t,r){let o=null;const a=function Ds(t){const r=t.attrs;if(null!=r){const o=r.indexOf(5);if(!(1&o))return r[o+1]}return null}(t);for(let u=0;u<r.length;u++){const d=r[u];if("*"!==d){if(null===a?di(t,d,!0):Ti(a,d))return u}else o=u}return o}function NI(t){const r=vt()[or][Sr];if(!r.projection){const a=r.projection=Zl(t?t.length:1,null),u=a.slice();let d=r.child;for(;null!==d;){const g=t?QE(d,t):0;null!==g&&(u[g]?u[g].projectionNext=d:a[g]=d,u[g]=d),d=d.next}}}function LI(t,r=0,o){const a=vt(),u=In(),d=vu(u,zn+t,16,null,o||null);null===d.projection&&(d.projection=r),Jr(),(!a[$r]||ci())&&32!=(32&d.flags)&&function y_(t,r,o){v_(r[fn],0,r,o,nu(t,o,r),Jp(o.parent||r[Sr],o,r))}(u,a,d)}function pp(t,r){return t<<17|r<<2}function Du(t){return t>>17&32767}function Sg(t){return 2|t}function md(t){return(131068&t)>>2}function jy(t,r){return-131069&t|r<<2}function Pg(t){return 1|t}function Rg(t,r,o,a,u){const d=t[o+1],g=null===r;let w=a?Du(d):md(d),S=!1;for(;0!==w&&(!1===S||g);){const te=t[w+1];zy(t[w],r)&&(S=!0,t[w+1]=a?Pg(te):Sg(te)),w=a?Du(te):md(te)}S&&(t[o+1]=a?Sg(d):Pg(d))}function zy(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&Na(t,r)>=0}const Fs={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function mp(t){return t.substring(Fs.key,Fs.keyEnd)}function Gy(t,r){const o=Fs.textEnd;return o===r?-1:(r=Fs.keyEnd=function Ng(t,r,o){for(;r<o&&t.charCodeAt(r)>32;)r++;return r}(t,Fs.key=r,o),al(t,r,o))}function al(t,r,o){for(;r<o&&t.charCodeAt(r)<=32;)r++;return r}function _p(t,r){return function Ea(t,r,o,a){const u=vt(),d=In(),g=Ns(2);d.firstUpdatePass&&go(d,t,g,a),r!==Xn&&So(u,g,r)&&Zy(d,d.data[Un()],u,u[fn],t,u[g+1]=function Vg(t,r){return null==t||""===t||("string"==typeof r?t+=r:"object"==typeof t&&(t=Ee(La(t)))),t}(r,o),a,g)}(t,r,null,!0),_p}function mo(t){!function Po(t,r,o,a){const u=In(),d=Ns(2);u.firstUpdatePass&&go(u,null,d,a);const g=vt();if(o!==Xn&&So(g,d,o)){const w=u.data[Un()];if(Ug(w,a)&&!gd(u,d)){let S=a?w.classesWithoutHost:w.stylesWithoutHost;null!==S&&(o=ze(S,o||"")),cc(u,w,g,o,a)}else!function e0(t,r,o,a,u,d,g,w){u===Xn&&(u=dt);let S=0,H=0,te=0<u.length?u[0]:null,_e=0<d.length?d[0]:null;for(;null!==te||null!==_e;){const Fe=S<u.length?u[S+1]:void 0,We=H<d.length?d[H+1]:void 0;let Pt,ft=null;te===_e?(S+=2,H+=2,Fe!==We&&(ft=_e,Pt=We)):null===_e||null!==te&&te<_e?(S+=2,ft=te):(H+=2,ft=_e,Pt=We),null!==ft&&Zy(t,r,o,a,ft,Pt,g,w),te=S<u.length?u[S]:null,_e=H<d.length?d[H]:null}}(u,w,g,g[fn],g[d+1],g[d+1]=function $I(t,r,o){if(null==o||""===o)return dt;const a=[],u=La(o);if(Array.isArray(u))for(let d=0;d<u.length;d++)t(a,u[d],!0);else if("object"==typeof u)for(const d in u)u.hasOwnProperty(d)&&t(a,d,u[d]);else"string"==typeof u&&r(a,u);return a}(t,r,o),a,d)}}(zI,Ua,t,!0)}function Ua(t,r){for(let o=function BI(t){return function Og(t){Fs.key=0,Fs.keyEnd=0,Fs.value=0,Fs.valueEnd=0,Fs.textEnd=t.length}(t),Gy(t,al(t,0,Fs.textEnd))}(r);o>=0;o=Gy(r,o))Js(t,mp(r),!0)}function gd(t,r){return r>=t.expandoStartIndex}function go(t,r,o,a){const u=t.data;if(null===u[o+1]){const d=u[Un()],g=gd(t,o);Ug(d,a)&&null===r&&!g&&(r=!1),r=function jI(t,r,o,a){const u=function _c(t){const r=Dn.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}(t);let d=a?r.residualClasses:r.residualStyles;if(null===u)0===(a?r.classBindings:r.styleBindings)&&(o=Ba(o=gh(null,t,r,o,a),r.attrs,a),d=null);else{const g=r.directiveStylingLast;if(-1===g||t[g]!==u)if(o=gh(u,t,r,o,a),null===d){let S=function kg(t,r,o){const a=o?r.classBindings:r.styleBindings;if(0!==md(a))return t[Du(a)]}(t,r,a);void 0!==S&&Array.isArray(S)&&(S=gh(null,t,r,S[1],a),S=Ba(S,r.attrs,a),function _d(t,r,o,a){t[Du(o?r.classBindings:r.styleBindings)]=a}(t,r,a,S))}else d=function hc(t,r,o){let a;const u=r.directiveEnd;for(let d=1+r.directiveStylingLast;d<u;d++)a=Ba(a,t[d].hostAttrs,o);return Ba(a,r.attrs,o)}(t,r,a)}return void 0!==d&&(a?r.residualClasses=d:r.residualStyles=d),o}(u,d,r,a),function YE(t,r,o,a,u,d){let g=d?r.classBindings:r.styleBindings,w=Du(g),S=md(g);t[a]=o;let te,H=!1;if(Array.isArray(o)?(te=o[1],(null===te||Na(o,te)>0)&&(H=!0)):te=o,u)if(0!==S){const Fe=Du(t[w+1]);t[a+1]=pp(Fe,w),0!==Fe&&(t[Fe+1]=jy(t[Fe+1],a)),t[w+1]=function UI(t,r){return 131071&t|r<<17}(t[w+1],a)}else t[a+1]=pp(w,0),0!==w&&(t[w+1]=jy(t[w+1],a)),w=a;else t[a+1]=pp(S,0),0===w?w=a:t[S+1]=jy(t[S+1],a),S=a;H&&(t[a+1]=Sg(t[a+1])),Rg(t,te,a,!0),Rg(t,te,a,!1),function JE(t,r,o,a,u){const d=u?t.residualClasses:t.residualStyles;null!=d&&"string"==typeof r&&Na(d,r)>=0&&(o[a+1]=Pg(o[a+1]))}(r,te,t,a,d),g=pp(w,S),d?r.classBindings=g:r.styleBindings=g}(u,d,r,o,g,a)}}function gh(t,r,o,a,u){let d=null;const g=o.directiveEnd;let w=o.directiveStylingLast;for(-1===w?w=o.directiveStart:w++;w<g&&(d=r[w],a=Ba(a,d.hostAttrs,u),d!==t);)w++;return null!==t&&(o.directiveStylingLast=w),a}function Ba(t,r,o){const a=o?1:2;let u=-1;if(null!==r)for(let d=0;d<r.length;d++){const g=r[d];"number"==typeof g?u=g:u===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Js(t,g,!!o||r[++d]))}return void 0===t?null:t}function zI(t,r,o){const a=String(r);""!==a&&!a.includes(" ")&&Js(t,a,o)}function Zy(t,r,o,a,u,d,g,w){if(!(3&r.type))return;const S=t.data,H=S[w+1],te=function $y(t){return 1==(1&t)}(H)?Fg(S,r,o,u,md(H),g):void 0;yp(te)||(yp(d)||function VI(t){return 2==(2&t)}(H)&&(d=Fg(S,null,o,u,w,g)),function Cv(t,r,o,a,u){if(r)u?t.addClass(o,a):t.removeClass(o,a);else{let d=-1===a.indexOf("-")?void 0:Ud.DashCase;null==u?t.removeStyle(o,a,d):("string"==typeof u&&u.endsWith("!important")&&(u=u.slice(0,-10),d|=Ud.Important),t.setStyle(o,a,u,d))}}(a,g,Xt(Un(),o),u,d))}function Fg(t,r,o,a,u,d){const g=null===r;let w;for(;u>0;){const S=t[u],H=Array.isArray(S),te=H?S[1]:S,_e=null===te;let Fe=o[u+1];Fe===Xn&&(Fe=_e?dt:void 0);let We=_e?vl(Fe,a):te===a?Fe:void 0;if(H&&!yp(We)&&(We=vl(S,a)),yp(We)&&(w=We,g))return w;const ft=t[u+1];u=g?Du(ft):md(ft)}if(null!==r){let S=d?r.residualClasses:r.residualStyles;null!=S&&(w=vl(S,a))}return w}function yp(t){return void 0!==t}function Ug(t,r){return 0!=(t.flags&(r?8:16))}function _h(t,r=""){const o=vt(),a=In(),u=t+zn,d=a.firstCreatePass?vu(a,u,1,r,null):a.data[u],g=Bg(a,o,d,r,t);o[u]=g,Ga()&&Hd(a,o,g,d),Os(d,!1)}let Bg=(t,r,o,a,u)=>(Qo(!0),function xc(t,r){return t.createText(r)}(r[fn],a));function jg(t){return yh("",t,""),jg}function yh(t,r,o){const a=vt(),u=function ac(t,r,o,a){return So(t,ho(),o)?r+me(o)+a:Xn}(a,t,r,o);return u!==Xn&&function rl(t,r,o){const a=Xt(r,t);!function Oc(t,r,o){t.setValue(r,o)}(t[fn],a,o)}(a,Un(),u),yh}const vh=void 0;var _w=["en",[["a","p"],["AM","PM"],vh],[["AM","PM"],vh,vh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],vh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],vh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",vh,"{1} 'at' {0}",vh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function gw(t){const o=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===a?1:5}];let vp={};function qI(t){const r=function yw(t){return t.toLowerCase().replace(/_/g,"-")}(t);let o=r0(r);if(o)return o;const a=r.split("-")[0];if(o=r0(a),o)return o;if("en"===a)return _w;throw new ae(701,!1)}function n0(t){return qI(t)[Ip.PluralCase]}function r0(t){return t in vp||(vp[t]=Dt.ng&&Dt.ng.common&&Dt.ng.common.locales&&Dt.ng.common.locales[t]),vp[t]}var Ip=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Ip||{});const Ep="en-US";let s0=Ep;function QI(t,r,o,a,u){if(t=tt(t),Array.isArray(t))for(let d=0;d<t.length;d++)QI(t[d],r,o,a,u);else{const d=In(),g=vt(),w=ds();let S=Xu(t)?t:tt(t.provide);const H=mm(t),te=1048575&w.providerIndexes,_e=w.directiveStart,Fe=w.providerIndexes>>20;if(Xu(t)||!t.multi){const We=new Yo(H,u,yu),ft=JI(S,r,u?te:te+Fe,_e);-1===ft?(es(Do(w,g),d,S),YI(d,t,r.length),r.push(S),w.directiveStart++,w.directiveEnd++,u&&(w.providerIndexes+=1048576),o.push(We),g.push(We)):(o[ft]=We,g[ft]=We)}else{const We=JI(S,r,te+Fe,_e),ft=JI(S,r,te,te+Fe),qt=ft>=0&&o[ft];if(u&&!qt||!u&&!(We>=0&&o[We])){es(Do(w,g),d,S);const wn=function gC(t,r,o,a,u){const d=new Yo(t,o,yu);return d.multi=[],d.index=r,d.componentProviders=0,R0(d,u,a&&!o),d}(u?mC:pC,o.length,u,a,H);!u&&qt&&(o[ft].providerFactory=wn),YI(d,t,r.length,0),r.push(S),w.directiveStart++,w.directiveEnd++,u&&(w.providerIndexes+=1048576),o.push(wn),g.push(wn)}else YI(d,t,We>-1?We:ft,R0(o[u?ft:We],H,!u&&a));!u&&a&&qt&&o[ft].componentProviders++}}}function YI(t,r,o,a){const u=Xu(r),d=function fm(t){return!!t.useClass}(r);if(u||d){const S=(d?tt(r.useClass):r).prototype.ngOnDestroy;if(S){const H=t.destroyHooks||(t.destroyHooks=[]);if(!u&&r.multi){const te=H.indexOf(o);-1===te?H.push(o,[a,S]):H[te+1].push(a,S)}else H.push(o,S)}}}function R0(t,r,o){return o&&t.componentProviders++,t.multi.push(r)-1}function JI(t,r,o,a){for(let u=o;u<a;u++)if(r[u]===t)return u;return-1}function pC(t,r,o,a){return XI(this.multi,[])}function mC(t,r,o,a){const u=this.multi;let d;if(this.providerFactory){const g=this.providerFactory.componentProviders,w=ml(o,o[Ft],this.providerFactory.index,a);d=w.slice(0,g),XI(u,d);for(let S=g;S<w.length;S++)d.push(w[S])}else d=[],XI(u,d);return d}function XI(t,r){for(let o=0;o<t.length;o++)r.push((0,t[o])());return r}function M0(t,r=[]){return o=>{o.providersResolver=(a,u)=>function fC(t,r,o){const a=In();if(a.firstCreatePass){const u=Ji(t);QI(o,a.data,a.blueprint,u,!0),QI(r,a.data,a.blueprint,u,!1)}}(a,u?u(t):t,r)}}class Ih{}class x0{}function _C(t,r){return new eE(t,r??null,[])}class eE extends Ih{constructor(r,o,a){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new uh(this);const u=jr(r);this._bootstrapComponents=ka(u.bootstrap),this._r3Injector=Tf(r,o,[{provide:Ih,useValue:this},{provide:If,useValue:this.componentFactoryResolver},...a],Ee(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class tE extends x0{constructor(r){super(),this.moduleType=r}create(r){return new eE(this.moduleType,r,[])}}class O0 extends Ih{constructor(r){super(),this.componentFactoryResolver=new uh(this),this.instance=null;const o=new zc([...r.providers,{provide:Ih,useValue:this},{provide:If,useValue:this.componentFactoryResolver}],r.parent||uf(),r.debugName,new Set(["environment"]));this.injector=o,r.runEnvironmentInitializers&&o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function N0(t,r,o=null){return new O0({providers:t,parent:r,debugName:o,runEnvironmentInitializers:!0}).injector}let vC=(()=>{class t{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o)){const a=L_(0,o.type),u=a.length>0?N0([a],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o,u)}return this.cachedInjectors.get(o)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=ln({token:t,providedIn:"environment",factory:()=>new t(Tt(ma))})}return t})();function L0(t){t.getStandaloneInjector=r=>r.get(vC).getOrCreateStandaloneInjector(t)}function j0(t,r,o,a,u){return function G0(t,r,o,a,u,d,g){const w=r+o;return na(t,w,u,d)?bs(t,w+2,g?a.call(g,u,d):a(u,d)):Yg(t,w+2)}(vt(),Xi(),t,r,o,a,u)}function $0(t,r,o,a,u,d){return function W0(t,r,o,a,u,d,g,w){const S=r+o;return function sc(t,r,o,a,u){const d=na(t,r,o,a);return So(t,r+2,u)||d}(t,S,u,d,g)?bs(t,S+3,w?a.call(w,u,d,g):a(u,d,g)):Yg(t,S+3)}(vt(),Xi(),t,r,o,a,u,d)}function Yg(t,r){const o=t[r];return o===Xn?void 0:o}function $C(){return this._results[Symbol.iterator]()}class rE{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new _a)}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=rE.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=$C)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,o){return this._results.reduce(r,o)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,o){const a=this;a.dirty=!1;const u=function ls(t){return t.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function pi(t,r,o){if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++){let u=t[a],d=r[a];if(o&&(u=o(u),d=o(d)),d!==u)return!1}return!0}(a._results,u,o))&&(a._results=u,a.length=u.length,a.last=u[this.length-1],a.first=u[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function GC(t,r,o,a=!0){const u=r[Ft];if(function Ev(t,r,o,a){const u=Er+a,d=o.length;a>0&&(o[u-1][oi]=r),a<d-Er?(r[oi]=o[u],Od(o,Er+a,r)):(o.push(r),r[oi]=null),r[Wn]=o;const g=r[js];null!==g&&o!==g&&function m_(t,r){const o=t[Yi];r[or]!==r[Wn][Wn][or]&&(t[oo]=!0),null===o?t[Yi]=[r]:o.push(r)}(g,r);const w=r[zi];null!==w&&w.insertView(t),r[En]|=128}(u,r,t,o),a){const d=qu(o,t),g=r[fn],w=ru(g,t[Pr]);null!==w&&function h_(t,r,o,a,u,d){a[pr]=u,a[Sr]=r,Ku(t,a,o,1,u,d)}(u,t[Sr],g,r,w,d)}}let Xg=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=KC}return t})();const WC=Xg,qC=class extends WC{constructor(r,o,a){super(),this._declarationLView=r,this._declarationTContainer=o,this.elementRef=a}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(r,o){return this.createEmbeddedViewImpl(r,o)}createEmbeddedViewImpl(r,o,a){const u=function zC(t,r,o,a){const u=r.tView,w=od(t,u,o,4096&t[En]?4096:16,null,r,null,null,null,a?.injector??null,a?.hydrationInfo??null);w[js]=t[r.index];const H=t[zi];return null!==H&&(w[zi]=H.createEmbeddedView(u)),og(u,w,o),w}(this._declarationLView,this._declarationTContainer,r,{injector:o,hydrationInfo:a});return new fd(u)}};function KC(){return av(ds(),vt())}function av(t,r){return 4&t.type?new qC(r,t,hu(t,r)):null}let uv=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=eb}return t})();function eb(){return tT(ds(),vt())}const tb=uv,X0=class extends tb{constructor(r,o,a){super(),this._lContainer=r,this._hostTNode=o,this._hostLView=a}get element(){return hu(this._hostTNode,this._hostLView)}get injector(){return new ts(this._hostTNode,this._hostLView)}get parentInjector(){const r=Wa(this._hostTNode,this._hostLView);if(xu(r)){const o=Nu(r,this._hostLView),a=Ou(r);return new ts(o[Ft].data[a+8],o)}return new ts(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const o=eT(this._lContainer);return null!==o&&o[r]||null}get length(){return this._lContainer.length-Er}createEmbeddedView(r,o,a){let u,d;"number"==typeof a?u=a:null!=a&&(u=a.index,d=a.injector);const w=r.createEmbeddedViewImpl(o||{},d,null);return this.insertImpl(w,u,false),w}createComponent(r,o,a,u,d){const g=r&&!function qa(t){return"function"==typeof t}(r);let w;if(g)w=o;else{const Pt=o||{};w=Pt.index,a=Pt.injector,u=Pt.projectableNodes,d=Pt.environmentInjector||Pt.ngModuleRef}const S=g?r:new Rl(Ln(r)),H=a||this.parentInjector;if(!d&&null==S.ngModule){const qt=(g?H:this.parentInjector).get(ma,null);qt&&(d=qt)}Ln(S.componentType??{});const We=S.create(H,u,null,d);return this.insertImpl(We.hostView,w,false),We}insert(r,o){return this.insertImpl(r,o,!1)}insertImpl(r,o,a){const u=r._lView;if(function Gn(t){return tr(t[Wn])}(u)){const S=this.indexOf(r);if(-1!==S)this.detach(S);else{const H=u[Wn],te=new X0(H,H[Sr],H[Wn]);te.detach(te.indexOf(r))}}const g=this._adjustIndex(o),w=this._lContainer;return GC(w,u,g,!a),r.attachToViewContainerRef(),Od(iE(w),g,r),r}move(r,o){return this.insert(r,o)}indexOf(r){const o=eT(this._lContainer);return null!==o?o.indexOf(r):-1}remove(r){const o=this._adjustIndex(r,-1),a=jh(this._lContainer,o);a&&(Ka(iE(this._lContainer),o),qp(a[Ft],a))}detach(r){const o=this._adjustIndex(r,-1),a=jh(this._lContainer,o);return a&&null!=Ka(iE(this._lContainer),o)?new fd(a):null}_adjustIndex(r,o=0){return r??this.length+o}};function eT(t){return t[8]}function iE(t){return t[8]||(t[8]=[])}function tT(t,r){let o;const a=r[t.index];return tr(a)?o=a:(o=jf(a,r,null,t),r[t.index]=o,cd(r,o)),nT(o,r,t,a),new X0(o,t,r)}let nT=function rT(t,r,o,a){if(t[Pr])return;let u;u=8&o.type?br(a):function nb(t,r){const o=t[fn],a=o.createComment(""),u=Qt(r,t);return Wu(o,ru(o,u),a,function Xa(t,r){return t.nextSibling(r)}(o,u),!1),a}(r,o),t[Pr]=u};class sE{constructor(r){this.queryList=r,this.matches=null}clone(){return new sE(this.queryList)}setDirty(){this.queryList.setDirty()}}class oE{constructor(r=[]){this.queries=r}createEmbeddedView(r){const o=r.queries;if(null!==o){const a=null!==r.contentQueries?r.contentQueries[0]:o.length,u=[];for(let d=0;d<a;d++){const g=o.getByIndex(d);u.push(this.queries[g.indexInDeclarationView].clone())}return new oE(u)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let o=0;o<this.queries.length;o++)null!==hT(r,o).matches&&this.queries[o].setDirty()}}class iT{constructor(r,o,a=null){this.predicate=r,this.flags=o,this.read=a}}class aE{constructor(r=[]){this.queries=r}elementStart(r,o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,o)}elementEnd(r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(r)}embeddedTView(r){let o=null;for(let a=0;a<this.length;a++){const u=null!==o?o.length:0,d=this.getByIndex(a).embeddedTView(r,u);d&&(d.indexInDeclarationView=a,null!==o?o.push(d):o=[d])}return null!==o?new aE(o):null}template(r,o){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,o)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class lE{constructor(r,o=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(r,o){this.isApplyingToNode(o)&&this.matchTNode(r,o)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,o){this.elementStart(r,o)}embeddedTView(r,o){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,o),new lE(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==o;)a=a.parent;return o===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,o){const a=this.metadata.predicate;if(Array.isArray(a))for(let u=0;u<a.length;u++){const d=a[u];this.matchTNodeWithReadOption(r,o,sb(o,d)),this.matchTNodeWithReadOption(r,o,Ui(o,r,d,!1,!1))}else a===Xg?4&o.type&&this.matchTNodeWithReadOption(r,o,-1):this.matchTNodeWithReadOption(r,o,Ui(o,r,a,!1,!1))}matchTNodeWithReadOption(r,o,a){if(null!==a){const u=this.metadata.read;if(null!==u)if(u===eh||u===uv||u===Xg&&4&o.type)this.addMatch(o.index,-2);else{const d=Ui(o,r,u,!1,!1);null!==d&&this.addMatch(o.index,d)}else this.addMatch(o.index,a)}}addMatch(r,o){null===this.matches?this.matches=[r,o]:this.matches.push(r,o)}}function sb(t,r){const o=t.localNames;if(null!==o)for(let a=0;a<o.length;a+=2)if(o[a]===r)return o[a+1];return null}function ab(t,r,o,a){return-1===o?function ob(t,r){return 11&t.type?hu(t,r):4&t.type?av(t,r):null}(r,t):-2===o?function lb(t,r,o){return o===eh?hu(r,t):o===Xg?av(r,t):o===uv?tT(r,t):void 0}(t,r,a):ml(t,t[Ft],o,r)}function sT(t,r,o,a){const u=r[zi].queries[a];if(null===u.matches){const d=t.data,g=o.matches,w=[];for(let S=0;S<g.length;S+=2){const H=g[S];w.push(H<0?null:ab(r,d[H],g[S+1],o.metadata.read))}u.matches=w}return u.matches}function uE(t,r,o,a){const u=t.queries.getByIndex(o),d=u.matches;if(null!==d){const g=sT(t,r,u,o);for(let w=0;w<d.length;w+=2){const S=d[w];if(S>0)a.push(g[w/2]);else{const H=d[w+1],te=r[-S];for(let _e=Er;_e<te.length;_e++){const Fe=te[_e];Fe[js]===Fe[Wn]&&uE(Fe[Ft],Fe,H,a)}if(null!==te[Yi]){const _e=te[Yi];for(let Fe=0;Fe<_e.length;Fe++){const We=_e[Fe];uE(We[Ft],We,H,a)}}}}}return a}function oT(t){const r=vt(),o=In(),a=Pu();T(a+1);const u=hT(o,a);if(t.dirty&&function Yr(t){return 4==(4&t[En])}(r)===(2==(2&u.metadata.flags))){if(null===u.matches)t.reset([]);else{const d=u.crossesNgTemplate?uE(o,r,a,[]):sT(o,r,u,a);t.reset(d,Wv),t.notifyOnChanges()}return!0}return!1}function aT(t,r,o){const a=In();a.firstCreatePass&&(dT(a,new iT(t,r,o),-1),2==(2&r)&&(a.staticViewQueries=!0)),cT(a,vt(),r)}function lT(t,r,o,a){const u=In();if(u.firstCreatePass){const d=ds();dT(u,new iT(r,o,a),d.index),function cb(t,r){const o=t.contentQueries||(t.contentQueries=[]);r!==(o.length?o[o.length-1]:-1)&&o.push(t.queries.length-1,r)}(u,t),2==(2&o)&&(u.staticContentQueries=!0)}cT(u,vt(),o)}function uT(){return function ub(t,r){return t[zi].queries[r].queryList}(vt(),Pu())}function cT(t,r,o){const a=new rE(4==(4&o));(function rI(t,r,o,a){const u=$f(r);u.push(o),t.firstCreatePass&&rg(t).push(a,u.length-1)})(t,r,a,a.destroy),null===r[zi]&&(r[zi]=new oE),r[zi].queries.push(new sE(a))}function dT(t,r,o){null===t.queries&&(t.queries=new aE),t.queries.track(new lE(r,o))}function hT(t,r){return t.queries.getByIndex(r)}function cE(t){return!!jr(t)}const PT=new Ke("Application Initializer");let mE=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((o,a)=>{this.resolve=o,this.reject=a}),this.appInits=kt(PT,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const o=[];for(const u of this.appInits){const d=u();if(bg(d))o.push(d);else if(dc(d)){const g=new Promise((w,S)=>{d.subscribe({complete:w,error:S})});o.push(g)}}const a=()=>{this.done=!0,this.resolve()};Promise.all(o).then(()=>{a()}).catch(u=>{this.reject(u)}),0===o.length&&a(),this.initialized=!0}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=ln({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),RT=(()=>{class t{log(o){console.log(o)}warn(o){console.warn(o)}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=ln({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const dv=new Ke("LocaleId",{providedIn:"root",factory:()=>kt(dv,en.Optional|en.SkipSelf)||function xb(){return typeof $localize<"u"&&$localize.locale||Ep}()}),Ob=new Ke("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let MT=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new z.X(!1)}add(){this.hasPendingTasks.next(!0);const o=this.taskId++;return this.pendingTasks.add(o),o}remove(o){this.pendingTasks.delete(o),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=ln({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class Lb{constructor(r,o){this.ngModuleFactory=r,this.componentFactories=o}}let kb=(()=>{class t{compileModuleSync(o){return new tE(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const a=this.compileModuleSync(o),d=ka(jr(o).declarations).reduce((g,w)=>{const S=Ln(w);return S&&g.push(new Rl(S)),g},[]);return new Lb(a,d)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=ln({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const LT=new Ke(""),kT=new Ke("");let yE,iD=(()=>{class t{constructor(o,a,u){this._ngZone=o,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,yE||(function sD(t){yE=t}(u),u.addToWindow(a)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ps.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(o)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,a,u){let d=-1;a&&a>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(g=>g.timeoutId!==d),o(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:o,timeoutId:d,updateCb:u})}whenStable(o,a,u){if(u&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,a,u),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,a,u){return[]}static#e=this.\u0275fac=function(a){return new(a||t)(Tt(ps),Tt(FT),Tt(kT))};static#t=this.\u0275prov=ln({token:t,factory:t.\u0275fac})}return t})(),FT=(()=>{class t{constructor(){this._applications=new Map}registerApplication(o,a){this._applications.set(o,a)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,a=!0){return yE?.findTestabilityInTree(this,o,a)??null}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=ln({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),yd=null;const VT=new Ke("AllowMultipleToken"),vE=new Ke("PlatformDestroyListeners"),IE=new Ke("appBootstrapListener");class lD{constructor(r,o){this.name=r,this.token=o}}function HT(t,r,o=[]){const a=`Platform: ${r}`,u=new Ke(a);return(d=[])=>{let g=EE();if(!g||g.injector.get(VT,!1)){const w=[...o,...d,{provide:u,useValue:!0}];t?t(w):function uD(t){if(yd&&!yd.get(VT,!1))throw new ae(400,!1);(function UT(){!function E(t){Z=t}(()=>{throw new ae(600,!1)})})(),yd=t;const r=t.get($T);(function BT(t){t.get(_m,null)?.forEach(o=>o())})(t)}(function jT(t=[],r){return ga.create({name:r,providers:[{provide:fs,useValue:"platform"},{provide:vE,useValue:new Set([()=>yd=null])},...t]})}(w,a))}return function dD(t){const r=EE();if(!r)throw new ae(401,!1);return r}()}}function EE(){return yd?.get($T)??null}let $T=(()=>{class t{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,a){const u=function hD(t="zone.js",r){return"noop"===t?new nd:"zone.js"===t?new ps(r):t}(a?.ngZone,function zT(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:a?.ngZoneEventCoalescing,runCoalescing:a?.ngZoneRunCoalescing}));return u.run(()=>{const d=function yC(t,r,o){return new eE(t,r,o)}(o.moduleType,this.injector,function ZT(t){return[{provide:ps,useFactory:t},{provide:$c,multi:!0,useFactory:()=>{const r=kt(pD,{optional:!0});return()=>r.initialize()}},{provide:KT,useFactory:fD},{provide:nc,useFactory:km}]}(()=>u)),g=d.injector.get(pu,null);return u.runOutsideAngular(()=>{const w=u.onError.subscribe({next:S=>{g.handleError(S)}});d.onDestroy(()=>{fv(this._modules,d),w.unsubscribe()})}),function GT(t,r,o){try{const a=o();return bg(a)?a.catch(u=>{throw r.runOutsideAngular(()=>t.handleError(u)),u}):a}catch(a){throw r.runOutsideAngular(()=>t.handleError(a)),a}}(g,u,()=>{const w=d.injector.get(mE);return w.runInitializers(),w.donePromise.then(()=>(function o0(t){gt(t,"Expected localeId to be defined"),"string"==typeof t&&(s0=t.toLowerCase().replace(/_/g,"-"))}(d.injector.get(dv,Ep)||Ep),this._moduleDoBootstrap(d),d))})})}bootstrapModule(o,a=[]){const u=WT({},a);return function oD(t,r,o){const a=new tE(o);return Promise.resolve(a)}(0,0,o).then(d=>this.bootstrapModuleFactory(d,u))}_moduleDoBootstrap(o){const a=o.injector.get(Cp);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(u=>a.bootstrap(u));else{if(!o.instance.ngDoBootstrap)throw new ae(-403,!1);o.instance.ngDoBootstrap(a)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ae(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const o=this._injector.get(vE,null);o&&(o.forEach(a=>a()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(a){return new(a||t)(Tt(ga))};static#t=this.\u0275prov=ln({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function WT(t,r){return Array.isArray(r)?r.reduce(WT,t):{...t,...r}}let Cp=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=kt(KT),this.zoneIsStable=kt(nc),this.componentTypes=[],this.components=[],this.isStable=kt(MT).hasPendingTasks.pipe((0,ue.w)(o=>o?(0,J.of)(!1):this.zoneIsStable),(0,de.x)(),(0,q.B)()),this._injector=kt(ma)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,a){const u=o instanceof Jc;if(!this._injector.get(mE).done)throw!u&&us(o),new ae(405,!1);let g;g=u?o:this._injector.get(If).resolveComponentFactory(o),this.componentTypes.push(g.componentType);const w=function aD(t){return t.isBoundToModule}(g)?void 0:this._injector.get(Ih),H=g.create(ga.NULL,[],a||g.selector,w),te=H.location.nativeElement,_e=H.injector.get(LT,null);return _e?.registerApplication(te),H.onDestroy(()=>{this.detachView(H.hostView),fv(this.components,H),_e?.unregisterApplication(te)}),this._loadComponent(H),H}tick(){if(this._runningTick)throw new ae(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1}}attachView(o){const a=o;this._views.push(a),a.attachToAppRef(this)}detachView(o){const a=o;fv(this._views,a),a.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const a=this._injector.get(IE,[]);a.push(...this._bootstrapListeners),a.forEach(u=>u(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>fv(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new ae(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=ln({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function fv(t,r){const o=t.indexOf(r);o>-1&&t.splice(o,1)}const KT=new Ke("",{providedIn:"root",factory:()=>kt(pu).handleError.bind(void 0)});function fD(){const t=kt(ps),r=kt(pu);return o=>t.runOutsideAngular(()=>r.handleError(o))}let pD=(()=>{class t{constructor(){this.zone=kt(ps),this.applicationRef=kt(Cp)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=ln({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function gD(){return!1}let _D=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=yD}return t})();function yD(t){return function vD(t,r,o){if(Li(t)&&!o){const a=lr(t.index,r);return new fd(a,a)}return 47&t.type?new fd(r[or],r):null}(ds(),vt(),16==(16&t))}class XT{constructor(){}supports(r){return Qf(r)}create(r){return new bD(r)}}const CD=(t,r)=>r;class bD{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||CD}forEachItem(r){let o;for(o=this._itHead;null!==o;o=o._next)r(o)}forEachOperation(r){let o=this._itHead,a=this._removalsHead,u=0,d=null;for(;o||a;){const g=!a||o&&o.currentIndex<tw(a,u,d)?o:a,w=tw(g,u,d),S=g.currentIndex;if(g===a)u--,a=a._nextRemoved;else if(o=o._next,null==g.previousIndex)u++;else{d||(d=[]);const H=w-u,te=S-u;if(H!=te){for(let Fe=0;Fe<H;Fe++){const We=Fe<d.length?d[Fe]:d[Fe]=0,ft=We+Fe;te<=ft&&ft<H&&(d[Fe]=We+1)}d[g.previousIndex]=te-H}}w!==S&&r(g,w,S)}}forEachPreviousItem(r){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachMovedItem(r){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}forEachIdentityChange(r){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)r(o)}diff(r){if(null==r&&(r=[]),!Qf(r))throw new ae(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let u,d,g,o=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let w=0;w<this.length;w++)d=r[w],g=this._trackByFn(w,d),null!==o&&Object.is(o.trackById,g)?(a&&(o=this._verifyReinsertion(o,d,g,w)),Object.is(o.item,d)||this._addIdentityChange(o,d)):(o=this._mismatch(o,d,g,w),a=!0),o=o._next}else u=0,function Dy(t,r){if(Array.isArray(t))for(let o=0;o<t.length;o++)r(t[o]);else{const o=t[Symbol.iterator]();let a;for(;!(a=o.next()).done;)r(a.value)}}(r,w=>{g=this._trackByFn(u,w),null!==o&&Object.is(o.trackById,g)?(a&&(o=this._verifyReinsertion(o,w,g,u)),Object.is(o.item,w)||this._addIdentityChange(o,w)):(o=this._mismatch(o,w,g,u),a=!0),o=o._next,u++}),this.length=u;return this._truncate(o),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,o,a,u){let d;return null===r?d=this._itTail:(d=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._reinsertAfter(r,d,u)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,u))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._moveAfter(r,d,u)):r=this._addAfter(new DD(o,a),d,u),r}_verifyReinsertion(r,o,a,u){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==d?r=this._reinsertAfter(d,r._prev,u):r.currentIndex!=u&&(r.currentIndex=u,this._addToMoves(r,u)),r}_truncate(r){for(;null!==r;){const o=r._next;this._addToRemovals(this._unlink(r)),r=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,o,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const u=r._prevRemoved,d=r._nextRemoved;return null===u?this._removalsHead=d:u._nextRemoved=d,null===d?this._removalsTail=u:d._prevRemoved=u,this._insertAfter(r,o,a),this._addToMoves(r,a),r}_moveAfter(r,o,a){return this._unlink(r),this._insertAfter(r,o,a),this._addToMoves(r,a),r}_addAfter(r,o,a){return this._insertAfter(r,o,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,o,a){const u=null===o?this._itHead:o._next;return r._next=u,r._prev=o,null===u?this._itTail=r:u._prev=r,null===o?this._itHead=r:o._next=r,null===this._linkedRecords&&(this._linkedRecords=new ew),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const o=r._prev,a=r._next;return null===o?this._itHead=a:o._next=a,null===a?this._itTail=o:a._prev=o,r}_addToMoves(r,o){return r.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ew),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,o){return r.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class DD{constructor(r,o){this.item=r,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class AD{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,o){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===o||o<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const o=r._prevDup,a=r._nextDup;return null===o?this._head=a:o._nextDup=a,null===a?this._tail=o:a._prevDup=o,null===this._head}}class ew{constructor(){this.map=new Map}put(r){const o=r.trackById;let a=this.map.get(o);a||(a=new AD,this.map.set(o,a)),a.add(r)}get(r,o){const u=this.map.get(r);return u?u.get(r,o):null}remove(r){const o=r.trackById;return this.map.get(o).remove(r)&&this.map.delete(o),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function tw(t,r,o){const a=t.previousIndex;if(null===a)return a;let u=0;return o&&a<o.length&&(u=o[a]),a+r+u}class nw{constructor(){}supports(r){return r instanceof Map||ic(r)}create(){return new SD}}class SD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let o;for(o=this._mapHead;null!==o;o=o._next)r(o)}forEachPreviousItem(r){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)r(o)}forEachChangedItem(r){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}diff(r){if(r){if(!(r instanceof Map||ic(r)))throw new ae(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,u)=>{if(o&&o.key===u)this._maybeAddToChanges(o,a),this._appendAfter=o,o=o._next;else{const d=this._getOrCreateRecordForKey(u,a);o=this._insertBeforeOrAppend(o,d)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let a=o;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,o){if(r){const a=r._prev;return o._next=r,o._prev=a,r._prev=o,a&&(a._next=o),r===this._mapHead&&(this._mapHead=o),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(r,o){if(this._records.has(r)){const u=this._records.get(r);this._maybeAddToChanges(u,o);const d=u._prev,g=u._next;return d&&(d._next=g),g&&(g._prev=d),u._next=null,u._prev=null,u}const a=new PD(r);return this._records.set(r,a),a.currentValue=o,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,o){Object.is(o,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=o,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,o){r instanceof Map?r.forEach(o):Object.keys(r).forEach(a=>o(r[a],a))}}class PD{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function rw(){return new DE([new XT])}let DE=(()=>{class t{static#e=this.\u0275prov=ln({token:t,providedIn:"root",factory:rw});constructor(o){this.factories=o}static create(o,a){if(null!=a){const u=a.factories.slice();o=o.concat(u)}return new t(o)}static extend(o){return{provide:t,useFactory:a=>t.create(o,a||rw()),deps:[[t,new Yl,new Hu]]}}find(o){const a=this.factories.find(u=>u.supports(o));if(null!=a)return a;throw new ae(901,!1)}}return t})();function iw(){return new AE([new nw])}let AE=(()=>{class t{static#e=this.\u0275prov=ln({token:t,providedIn:"root",factory:iw});constructor(o){this.factories=o}static create(o,a){if(a){const u=a.factories.slice();o=o.concat(u)}return new t(o)}static extend(o){return{provide:t,useFactory:a=>t.create(o,a||iw()),deps:[[t,new Yl,new Hu]]}}find(o){const a=this.factories.find(u=>u.supports(o));if(a)return a;throw new ae(901,!1)}}return t})();const xD=HT(null,"core",[]);let OD=(()=>{class t{constructor(o){}static#e=this.\u0275fac=function(a){return new(a||t)(Tt(Cp))};static#t=this.\u0275mod=Hs({type:t});static#n=this.\u0275inj=Bn({})}return t})();function zD(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function WD(t){const r=Ln(t);if(!r)return null;const o=new Rl(r);return{get selector(){return o.selector},get type(){return o.componentType},get inputs(){return o.inputs},get outputs(){return o.outputs},get ngContentSelectors(){return o.ngContentSelectors},get isStandalone(){return r.standalone},get isSignal(){return r.signals}}}},7213:(xt,je,U)=>{U.d(je,{zQ:()=>At,ww:()=>gn,rT:()=>at,f7:()=>$e,L6:()=>ye,_Q:()=>he,lh:()=>Ct,Qv:()=>Ce,nw:()=>Gt}),U(6365);var V=U(6814),b=U(5879),Te=U(8326),z=U(7217),J=U(8645),q=U(2096),ue=U(5592),de=U(2459),X=U(3019),oe=U(3093),Ee=U(4664),ze=U(7398),Ye=U(4552);class lt extends J.x{constructor(Nt=1/0,Se=1/0,Oe=Ye.l){super(),this._bufferSize=Nt,this._windowTime=Se,this._timestampProvider=Oe,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Se===1/0,this._bufferSize=Math.max(1,Nt),this._windowTime=Math.max(1,Se)}next(Nt){const{isStopped:Se,_buffer:Oe,_infiniteTimeWindow:qe,_timestampProvider:ke,_windowTime:He}=this;Se||(Oe.push(Nt),!qe&&Oe.push(ke.now()+He)),this._trimBuffer(),super.next(Nt)}_subscribe(Nt){this._throwIfClosed(),this._trimBuffer();const Se=this._innerSubscribe(Nt),{_infiniteTimeWindow:Oe,_buffer:qe}=this,ke=qe.slice();for(let He=0;He<ke.length&&!Nt.closed;He+=Oe?1:2)Nt.next(ke[He]);return this._checkFinalizedStatuses(Nt),Se}_trimBuffer(){const{_bufferSize:Nt,_timestampProvider:Se,_buffer:Oe,_infiniteTimeWindow:qe}=this,ke=(qe?1:2)*Nt;if(Nt<1/0&&ke<Oe.length&&Oe.splice(0,Oe.length-ke),!qe){const He=Se.now();let ht=0;for(let gt=1;gt<Oe.length&&Oe[gt]<=He;gt+=2)ht=gt;ht&&Oe.splice(0,ht+1)}}}var tt=U(3020);function rt(bt,Nt,Se){let Oe,qe=!1;return bt&&"object"==typeof bt?({bufferSize:Oe=1/0,windowTime:Nt=1/0,refCount:qe=!1,scheduler:Se}=bt):Oe=bt??1/0,(0,tt.B)({connector:()=>new lt(Oe,Nt,Se),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:qe})}var it=U(1374),wt=U(4674);function ut(bt,Nt){return(0,wt.m)(Nt)?(0,Ee.w)(()=>bt,Nt):(0,Ee.w)(()=>bt)}var ae=U(5137),Me=U(2181),me=U(7142);const Ce=new b.OlP("angularfire2.auth.use-emulator"),ye=new b.OlP("angularfire2.auth.settings"),he=new b.OlP("angularfire2.auth.tenant-id"),at=new b.OlP("angularfire2.auth.langugage-code"),Ct=new b.OlP("angularfire2.auth.use-device-language"),$e=new b.OlP("angularfire.auth.persistence"),Gt=(bt,Nt,Se,Oe,qe,ke,He,ht)=>(0,z.cc)(`${bt.name}.auth`,"AngularFireAuth",bt.name,()=>{const gt=Nt.runOutsideAngular(()=>bt.auth());if(Se&&gt.useEmulator(...Se),Oe&&(gt.tenantId=Oe),gt.languageCode=qe,ke&&gt.useDeviceLanguage(),He)for(const[_t,kn]of Object.entries(He))gt.settings[_t]=kn;return ht&&gt.setPersistence(ht),gt},[Se,Oe,qe,ke,He,ht]);let At=(()=>{class bt{authState;idToken;user;idTokenResult;credential;constructor(Se,Oe,qe,ke,He,ht,gt,_t,kn,nn,An,ln){const un=new J.x,Bn=(0,q.of)(void 0).pipe((0,oe.Q)(He.outsideAngular),(0,Ee.w)(()=>ke.runOutsideAngular(()=>Promise.resolve().then(U.bind(U,6365)))),(0,ze.U)(()=>(0,z.on)(Se,ke,Oe)),(0,ze.U)(Sn=>Gt(Sn,ke,ht,_t,kn,nn,gt,An)),rt({bufferSize:1,refCount:!1}));if((0,V.PM)(qe))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,q.of)(null);else{Bn.pipe((0,it.P)()).subscribe();const Sn=Bn.pipe((0,Ee.w)(Pn=>Pn.getRedirectResult().then(vr=>vr,()=>null)),Te.iC,rt({bufferSize:1,refCount:!1})),Cn=Bn.pipe((0,Ee.w)(Pn=>new ue.y(vr=>({unsubscribe:ke.runOutsideAngular(()=>Pn.onAuthStateChanged(Rn=>vr.next(Rn),Rn=>vr.error(Rn),()=>vr.complete()))})))),Vt=Bn.pipe((0,Ee.w)(Pn=>new ue.y(vr=>({unsubscribe:ke.runOutsideAngular(()=>Pn.onIdTokenChanged(Rn=>vr.next(Rn),Rn=>vr.error(Rn),()=>vr.complete()))}))));this.authState=Sn.pipe(ut(Cn),(0,ae.R)(He.outsideAngular),(0,oe.Q)(He.insideAngular)),this.user=Sn.pipe(ut(Vt),(0,ae.R)(He.outsideAngular),(0,oe.Q)(He.insideAngular)),this.idToken=this.user.pipe((0,Ee.w)(Pn=>Pn?(0,de.D)(Pn.getIdToken()):(0,q.of)(null))),this.idTokenResult=this.user.pipe((0,Ee.w)(Pn=>Pn?(0,de.D)(Pn.getIdTokenResult()):(0,q.of)(null))),this.credential=(0,X.T)(Sn,un,this.authState.pipe((0,Me.h)(Pn=>!Pn))).pipe((0,ze.U)(Pn=>Pn?.user?Pn:null),(0,ae.R)(He.outsideAngular),(0,oe.Q)(He.insideAngular))}return(0,z.pX)(this,Bn,ke,{spy:{apply:(Sn,Cn,Vt)=>{(Sn.startsWith("signIn")||Sn.startsWith("createUser"))&&Vt.then(Pn=>un.next(Pn))}}})}static \u0275fac=function(Oe){return new(Oe||bt)(b.LFG(z.Dh),b.LFG(z.xv,8),b.LFG(b.Lbi),b.LFG(b.R0b),b.LFG(Te.HU),b.LFG(Ce,8),b.LFG(ye,8),b.LFG(he,8),b.LFG(at,8),b.LFG(Ct,8),b.LFG($e,8),b.LFG(Te.Rf,8))};static \u0275prov=b.Yz7({token:bt,factory:bt.\u0275fac,providedIn:"any"})}return bt})(),gn=(()=>{class bt{constructor(){me.Z.registerVersion("angularfire",Te.q4.full,"auth-compat")}static \u0275fac=function(Oe){return new(Oe||bt)};static \u0275mod=b.oAB({type:bt});static \u0275inj=b.cJS({providers:[At]})}return bt})()},7217:(xt,je,U)=>{U.d(je,{Dh:()=>ue,GT:()=>J,cc:()=>Ye,hO:()=>ze,on:()=>X,pX:()=>z,xv:()=>de});var p=U(5879),V=U(8326),b=U(7142);const Te=["ngOnDestroy"],z=(it,wt,ut,ae={})=>new Proxy(it,{get:(Me,me)=>ut.runOutsideAngular(()=>{if(it[me])return ae?.spy?.get&&ae.spy.get(me,it[me]),it[me];if(Te.indexOf(me)>-1)return()=>{};const ge=wt.toPromise().then(Ce=>{const ye=Ce?.[me];return"function"==typeof ye?ye.bind(Ce):ye?.then?ye.then(he=>ut.run(()=>he)):ut.run(()=>ye)});return new Proxy(()=>{},{get:(Ce,ye)=>ge[ye],apply:(Ce,ye,he)=>ge.then(at=>{const Ct=at?.(...he);return ae?.spy?.apply&&ae.spy.apply(me,he,Ct),Ct})})})}),J=(it,wt)=>{wt.forEach(ut=>{Object.getOwnPropertyNames(ut.prototype||ut).forEach(ae=>{Object.defineProperty(it.prototype,ae,Object.getOwnPropertyDescriptor(ut.prototype||ut,ae))})})};class q{constructor(wt){return wt}}const ue=new p.OlP("angularfire2.app.options"),de=new p.OlP("angularfire2.app.name");function X(it,wt,ut){const Me="object"==typeof ut&&ut||{};Me.name=Me.name||"string"==typeof ut&&ut||"[DEFAULT]";const ge=b.Z.apps.filter(Ce=>Ce&&Ce.name===Me.name)[0]||wt.runOutsideAngular(()=>b.Z.initializeApp(it,Me));try{if(JSON.stringify(it)!==JSON.stringify(ge.options)){const Ce=!!module.hot;oe("error",`${ge.name} Firebase App already initialized with different options${Ce?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new q(ge)}const oe=(it,...wt)=>{(0,p.X6Q)()&&typeof console<"u"&&console[it](...wt)},Ee={provide:q,useFactory:X,deps:[ue,p.R0b,[new p.FiY,de]]};let ze=(()=>{class it{static initializeApp(ut,ae){return{ngModule:it,providers:[{provide:ue,useValue:ut},{provide:de,useValue:ae}]}}constructor(ut){b.Z.registerVersion("angularfire",V.q4.full,"core"),b.Z.registerVersion("angularfire",V.q4.full,"app-compat"),b.Z.registerVersion("angular",p.q4F.full,ut.toString())}static \u0275fac=function(ae){return new(ae||it)(p.LFG(p.Lbi))};static \u0275mod=p.oAB({type:it});static \u0275inj=p.cJS({providers:[Ee]})}return it})();function Ye(it,wt,ut,ae,Me){const[,me,ge]=globalThis.\u0275AngularfireInstanceCache.find(Ce=>Ce[0]===it)||[];if(me)return function lt(it,wt){try{return it.toString()===wt.toString()}catch{return it===wt}}(Me,ge)||(rt("error",`${wt} was already initialized on the ${ut} Firebase App with different settings.${tt?" You may need to reload as Firebase is not HMR aware.":""}`),rt("warn",{is:Me,was:ge})),me;{const Ce=ae();return globalThis.\u0275AngularfireInstanceCache.push([it,Ce,Me]),Ce}}const tt=typeof module<"u"&&!!module.hot,rt=(it,...wt)=>{(0,p.X6Q)()&&typeof console<"u"&&console[it](...wt)};globalThis.\u0275AngularfireInstanceCache||=[]},8326:(xt,je,U)=>{U.d(je,{q4:()=>lt,iC:()=>$e,HU:()=>ge,Rf:()=>wt});var p=U(5879),V=U(534);(0,V.registerVersion)("firebase","10.7.2","app");var z=U(1954),q=U(2631);const de=new class ue extends q.v{}(class J extends z.o{constructor(Nt,Se){super(Nt,Se),this.scheduler=Nt,this.work=Se}schedule(Nt,Se=0){return Se>0?super.schedule(Nt,Se):(this.delay=Se,this.state=Nt,this.scheduler.flush(this),this)}execute(Nt,Se){return Se>0||this.closed?super.execute(Nt,Se):this._execute(Nt,Se)}requestAsyncId(Nt,Se,Oe=0){return null!=Oe&&Oe>0||null==Oe&&this.delay>0?super.requestAsyncId(Nt,Se,Oe):(Nt.flush(this),0)}});var oe=U(6321),Ee=U(9397),ze=U(5137),Ye=U(3093);const lt=new p.GfV("ANGULARFIRE2_VERSION");class wt{constructor(){return((bt,Nt)=>{const Se=(0,V.getApps)(),Oe=[];return Se.forEach(qe=>{qe.container.getProvider(bt).instances.forEach(He=>{Oe.includes(He)||Oe.push(He)})}),Oe})(ut)}}const ut="app-check";function ae(){}class Me{zone;delegate;constructor(Nt,Se=de){this.zone=Nt,this.delegate=Se}now(){return this.delegate.now()}schedule(Nt,Se,Oe){const qe=this.zone;return this.delegate.schedule(function(He){qe.runGuarded(()=>{Nt.apply(this,[He])})},Se,Oe)}}class me{zone;task=null;constructor(Nt){this.zone=Nt}call(Nt,Se){const Oe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ae,{},ae,ae)),Se.pipe((0,Ee.b)({next:Oe,complete:Oe,error:Oe})).subscribe(Nt).add(Oe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ge=(()=>{class bt{ngZone;outsideAngular;insideAngular;constructor(Se){this.ngZone=Se,this.outsideAngular=Se.runOutsideAngular(()=>new Me(Zone.current)),this.insideAngular=Se.run(()=>new Me(Zone.current,oe.z)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(Oe){return new(Oe||bt)(p.LFG(p.R0b))};static \u0275prov=p.Yz7({token:bt,factory:bt.\u0275fac,providedIn:"root"})}return bt})();function $e(bt){return function Gt(bt){return function(Se){return(Se=Se.lift(new me(bt.ngZone))).pipe((0,ze.R)(bt.outsideAngular),(0,Ye.Q)(bt.insideAngular))}}(function Ce(){const bt=globalThis.\u0275AngularFireScheduler;if(!bt)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return bt}())(bt)}},95:(xt,je,U)=>{U.d(je,{Wl:()=>rt,Fj:()=>ae,u5:()=>vs,JU:()=>lt,JJ:()=>hn,JL:()=>Zt,F:()=>Bi,On:()=>io,Q7:()=>Pr,_Y:()=>Mo});var p=U(5879),V=U(6814),b=U(2459),Te=U(5592),z=U(7453),J=U(4829),q=U(4564),ue=U(8251),de=U(7400),X=U(2714),Ee=U(7398);let ze=(()=>{class G{constructor(O,se){this._renderer=O,this._elementRef=se,this.onChange=be=>{},this.onTouched=()=>{}}setProperty(O,se){this._renderer.setProperty(this._elementRef.nativeElement,O,se)}registerOnTouched(O){this.onTouched=O}registerOnChange(O){this.onChange=O}setDisabledState(O){this.setProperty("disabled",O)}static#e=this.\u0275fac=function(se){return new(se||G)(p.Y36(p.Qsj),p.Y36(p.SBq))};static#t=this.\u0275dir=p.lG2({type:G})}return G})(),Ye=(()=>{class G extends ze{static#e=this.\u0275fac=function(){let O;return function(be){return(O||(O=p.n5z(G)))(be||G)}}();static#t=this.\u0275dir=p.lG2({type:G,features:[p.qOj]})}return G})();const lt=new p.OlP("NgValueAccessor"),tt={provide:lt,useExisting:(0,p.Gpc)(()=>rt),multi:!0};let rt=(()=>{class G extends Ye{writeValue(O){this.setProperty("checked",O)}static#e=this.\u0275fac=function(){let O;return function(be){return(O||(O=p.n5z(G)))(be||G)}}();static#t=this.\u0275dir=p.lG2({type:G,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(se,be){1&se&&p.NdJ("change",function(Tn){return be.onChange(Tn.target.checked)})("blur",function(){return be.onTouched()})},features:[p._Bn([tt]),p.qOj]})}return G})();const it={provide:lt,useExisting:(0,p.Gpc)(()=>ae),multi:!0},ut=new p.OlP("CompositionEventMode");let ae=(()=>{class G extends ze{constructor(O,se,be){super(O,se),this._compositionMode=be,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function wt(){const G=(0,V.q)()?(0,V.q)().getUserAgent():"";return/android (\d+)/.test(G.toLowerCase())}())}writeValue(O){this.setProperty("value",O??"")}_handleInput(O){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(O)}_compositionStart(){this._composing=!0}_compositionEnd(O){this._composing=!1,this._compositionMode&&this.onChange(O)}static#e=this.\u0275fac=function(se){return new(se||G)(p.Y36(p.Qsj),p.Y36(p.SBq),p.Y36(ut,8))};static#t=this.\u0275dir=p.lG2({type:G,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(se,be){1&se&&p.NdJ("input",function(Tn){return be._handleInput(Tn.target.value)})("blur",function(){return be.onTouched()})("compositionstart",function(){return be._compositionStart()})("compositionend",function(Tn){return be._compositionEnd(Tn.target.value)})},features:[p._Bn([it]),p.qOj]})}return G})();const ge=new p.OlP("NgValidators"),Ce=new p.OlP("NgAsyncValidators");function $e(G){return function Me(G){return null==G||("string"==typeof G||Array.isArray(G))&&0===G.length}(G.value)?{required:!0}:null}function Se(G){return null}function Oe(G){return null!=G}function qe(G){return(0,p.QGY)(G)?(0,b.D)(G):G}function ke(G){let K={};return G.forEach(O=>{K=null!=O?{...K,...O}:K}),0===Object.keys(K).length?null:K}function He(G,K){return K.map(O=>O(G))}function gt(G){return G.map(K=>function ht(G){return!G.validate}(K)?K:O=>K.validate(O))}function kn(G){return null!=G?function _t(G){if(!G)return null;const K=G.filter(Oe);return 0==K.length?null:function(O){return ke(He(O,K))}}(gt(G)):null}function An(G){return null!=G?function nn(G){if(!G)return null;const K=G.filter(Oe);return 0==K.length?null:function(O){return function oe(...G){const K=(0,q.jO)(G),{args:O,keys:se}=(0,z.D)(G),be=new Te.y(tn=>{const{length:Tn}=O;if(!Tn)return void tn.complete();const gi=new Array(Tn);let Is=Tn,ki=Tn;for(let To=0;To<Tn;To++){let Wi=!1;(0,J.Xf)(O[To]).subscribe((0,ue.x)(tn,_i=>{Wi||(Wi=!0,ki--),gi[To]=_i},()=>Is--,void 0,()=>{(!Is||!Wi)&&(ki||tn.next(se?(0,X.n)(se,gi):gi),tn.complete())}))}});return K?be.pipe((0,de.Z)(K)):be}(He(O,K).map(qe)).pipe((0,Ee.U)(ke))}}(gt(G)):null}function ln(G,K){return null===G?[K]:Array.isArray(G)?[...G,K]:[G,K]}function Sn(G){return G?Array.isArray(G)?G:[G]:[]}function Cn(G,K){return Array.isArray(G)?G.includes(K):G===K}function Vt(G,K){const O=Sn(K);return Sn(G).forEach(be=>{Cn(O,be)||O.push(be)}),O}function Pn(G,K){return Sn(K).filter(O=>!Cn(G,O))}class vr{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(K){this._rawValidators=K||[],this._composedValidatorFn=kn(this._rawValidators)}_setAsyncValidators(K){this._rawAsyncValidators=K||[],this._composedAsyncValidatorFn=An(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(K){this._onDestroyCallbacks.push(K)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(K=>K()),this._onDestroyCallbacks=[]}reset(K=void 0){this.control&&this.control.reset(K)}hasError(K,O){return!!this.control&&this.control.hasError(K,O)}getError(K,O){return this.control?this.control.getError(K,O):null}}class Rn extends vr{get formDirective(){return null}get path(){return null}}class Fn extends vr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class kr{constructor(K){this._cd=K}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let hn=(()=>{class G extends kr{constructor(O){super(O)}static#e=this.\u0275fac=function(se){return new(se||G)(p.Y36(Fn,2))};static#t=this.\u0275dir=p.lG2({type:G,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(se,be){2&se&&p.ekj("ng-untouched",be.isUntouched)("ng-touched",be.isTouched)("ng-pristine",be.isPristine)("ng-dirty",be.isDirty)("ng-valid",be.isValid)("ng-invalid",be.isInvalid)("ng-pending",be.isPending)},features:[p.qOj]})}return G})(),Zt=(()=>{class G extends kr{constructor(O){super(O)}static#e=this.\u0275fac=function(se){return new(se||G)(p.Y36(Rn,10))};static#t=this.\u0275dir=p.lG2({type:G,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(se,be){2&se&&p.ekj("ng-untouched",be.isUntouched)("ng-touched",be.isTouched)("ng-pristine",be.isPristine)("ng-dirty",be.isDirty)("ng-valid",be.isValid)("ng-invalid",be.isInvalid)("ng-pending",be.isPending)("ng-submitted",be.isSubmitted)},features:[p.qOj]})}return G})();const Ei="VALID",Dr="INVALID",Ar="PENDING",Vr="DISABLED";function Pe(G){return(k(G)?G.validators:G)||null}function $(G,K){return(k(K)?K.asyncValidators:G)||null}function k(G){return null!=G&&!Array.isArray(G)&&"object"==typeof G}class ct{constructor(K,O){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(K),this._assignAsyncValidators(O)}get validator(){return this._composedValidatorFn}set validator(K){this._rawValidators=this._composedValidatorFn=K}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(K){this._rawAsyncValidators=this._composedAsyncValidatorFn=K}get parent(){return this._parent}get valid(){return this.status===Ei}get invalid(){return this.status===Dr}get pending(){return this.status==Ar}get disabled(){return this.status===Vr}get enabled(){return this.status!==Vr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(K){this._assignValidators(K)}setAsyncValidators(K){this._assignAsyncValidators(K)}addValidators(K){this.setValidators(Vt(K,this._rawValidators))}addAsyncValidators(K){this.setAsyncValidators(Vt(K,this._rawAsyncValidators))}removeValidators(K){this.setValidators(Pn(K,this._rawValidators))}removeAsyncValidators(K){this.setAsyncValidators(Pn(K,this._rawAsyncValidators))}hasValidator(K){return Cn(this._rawValidators,K)}hasAsyncValidator(K){return Cn(this._rawAsyncValidators,K)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(K={}){this.touched=!0,this._parent&&!K.onlySelf&&this._parent.markAsTouched(K)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(K=>K.markAllAsTouched())}markAsUntouched(K={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(O=>{O.markAsUntouched({onlySelf:!0})}),this._parent&&!K.onlySelf&&this._parent._updateTouched(K)}markAsDirty(K={}){this.pristine=!1,this._parent&&!K.onlySelf&&this._parent.markAsDirty(K)}markAsPristine(K={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(O=>{O.markAsPristine({onlySelf:!0})}),this._parent&&!K.onlySelf&&this._parent._updatePristine(K)}markAsPending(K={}){this.status=Ar,!1!==K.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!K.onlySelf&&this._parent.markAsPending(K)}disable(K={}){const O=this._parentMarkedDirty(K.onlySelf);this.status=Vr,this.errors=null,this._forEachChild(se=>{se.disable({...K,onlySelf:!0})}),this._updateValue(),!1!==K.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...K,skipPristineCheck:O}),this._onDisabledChange.forEach(se=>se(!0))}enable(K={}){const O=this._parentMarkedDirty(K.onlySelf);this.status=Ei,this._forEachChild(se=>{se.enable({...K,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:K.emitEvent}),this._updateAncestors({...K,skipPristineCheck:O}),this._onDisabledChange.forEach(se=>se(!1))}_updateAncestors(K){this._parent&&!K.onlySelf&&(this._parent.updateValueAndValidity(K),K.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(K){this._parent=K}getRawValue(){return this.value}updateValueAndValidity(K={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ei||this.status===Ar)&&this._runAsyncValidator(K.emitEvent)),!1!==K.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!K.onlySelf&&this._parent.updateValueAndValidity(K)}_updateTreeValidity(K={emitEvent:!0}){this._forEachChild(O=>O._updateTreeValidity(K)),this.updateValueAndValidity({onlySelf:!0,emitEvent:K.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Vr:Ei}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(K){if(this.asyncValidator){this.status=Ar,this._hasOwnPendingAsyncValidator=!0;const O=qe(this.asyncValidator(this));this._asyncValidationSubscription=O.subscribe(se=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(se,{emitEvent:K})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(K,O={}){this.errors=K,this._updateControlsErrors(!1!==O.emitEvent)}get(K){let O=K;return null==O||(Array.isArray(O)||(O=O.split(".")),0===O.length)?null:O.reduce((se,be)=>se&&se._find(be),this)}getError(K,O){const se=O?this.get(O):this;return se&&se.errors?se.errors[K]:null}hasError(K,O){return!!this.getError(K,O)}get root(){let K=this;for(;K._parent;)K=K._parent;return K}_updateControlsErrors(K){this.status=this._calculateStatus(),K&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(K)}_initObservables(){this.valueChanges=new p.vpe,this.statusChanges=new p.vpe}_calculateStatus(){return this._allControlsDisabled()?Vr:this.errors?Dr:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ar)?Ar:this._anyControlsHaveStatus(Dr)?Dr:Ei}_anyControlsHaveStatus(K){return this._anyControls(O=>O.status===K)}_anyControlsDirty(){return this._anyControls(K=>K.dirty)}_anyControlsTouched(){return this._anyControls(K=>K.touched)}_updatePristine(K={}){this.pristine=!this._anyControlsDirty(),this._parent&&!K.onlySelf&&this._parent._updatePristine(K)}_updateTouched(K={}){this.touched=this._anyControlsTouched(),this._parent&&!K.onlySelf&&this._parent._updateTouched(K)}_registerOnCollectionChange(K){this._onCollectionChange=K}_setUpdateStrategy(K){k(K)&&null!=K.updateOn&&(this._updateOn=K.updateOn)}_parentMarkedDirty(K){return!K&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(K){return null}_assignValidators(K){this._rawValidators=Array.isArray(K)?K.slice():K,this._composedValidatorFn=function re(G){return Array.isArray(G)?kn(G):G||null}(this._rawValidators)}_assignAsyncValidators(K){this._rawAsyncValidators=Array.isArray(K)?K.slice():K,this._composedAsyncValidatorFn=function L(G){return Array.isArray(G)?An(G):G||null}(this._rawAsyncValidators)}}class Tt extends ct{constructor(K,O,se){super(Pe(O),$(se,O)),this.controls=K,this._initObservables(),this._setUpdateStrategy(O),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(K,O){return this.controls[K]?this.controls[K]:(this.controls[K]=O,O.setParent(this),O._registerOnCollectionChange(this._onCollectionChange),O)}addControl(K,O,se={}){this.registerControl(K,O),this.updateValueAndValidity({emitEvent:se.emitEvent}),this._onCollectionChange()}removeControl(K,O={}){this.controls[K]&&this.controls[K]._registerOnCollectionChange(()=>{}),delete this.controls[K],this.updateValueAndValidity({emitEvent:O.emitEvent}),this._onCollectionChange()}setControl(K,O,se={}){this.controls[K]&&this.controls[K]._registerOnCollectionChange(()=>{}),delete this.controls[K],O&&this.registerControl(K,O),this.updateValueAndValidity({emitEvent:se.emitEvent}),this._onCollectionChange()}contains(K){return this.controls.hasOwnProperty(K)&&this.controls[K].enabled}setValue(K,O={}){(function Le(G,K,O){G._forEachChild((se,be)=>{if(void 0===O[be])throw new p.vHH(1002,"")})})(this,0,K),Object.keys(K).forEach(se=>{(function fe(G,K,O){const se=G.controls;if(!(K?Object.keys(se):se).length)throw new p.vHH(1e3,"");if(!se[O])throw new p.vHH(1001,"")})(this,!0,se),this.controls[se].setValue(K[se],{onlySelf:!0,emitEvent:O.emitEvent})}),this.updateValueAndValidity(O)}patchValue(K,O={}){null!=K&&(Object.keys(K).forEach(se=>{const be=this.controls[se];be&&be.patchValue(K[se],{onlySelf:!0,emitEvent:O.emitEvent})}),this.updateValueAndValidity(O))}reset(K={},O={}){this._forEachChild((se,be)=>{se.reset(K?K[be]:null,{onlySelf:!0,emitEvent:O.emitEvent})}),this._updatePristine(O),this._updateTouched(O),this.updateValueAndValidity(O)}getRawValue(){return this._reduceChildren({},(K,O,se)=>(K[se]=O.getRawValue(),K))}_syncPendingControls(){let K=this._reduceChildren(!1,(O,se)=>!!se._syncPendingControls()||O);return K&&this.updateValueAndValidity({onlySelf:!0}),K}_forEachChild(K){Object.keys(this.controls).forEach(O=>{const se=this.controls[O];se&&K(se,O)})}_setUpControls(){this._forEachChild(K=>{K.setParent(this),K._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(K){for(const[O,se]of Object.entries(this.controls))if(this.contains(O)&&K(se))return!0;return!1}_reduceValue(){return this._reduceChildren({},(O,se,be)=>((se.enabled||this.disabled)&&(O[be]=se.value),O))}_reduceChildren(K,O){let se=K;return this._forEachChild((be,tn)=>{se=O(se,be,tn)}),se}_allControlsDisabled(){for(const K of Object.keys(this.controls))if(this.controls[K].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(K){return this.controls.hasOwnProperty(K)?this.controls[K]:null}}const De=new p.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>ve}),ve="always";function Ie(G,K,O=ve){St(G,K),K.valueAccessor.writeValue(G.value),(G.disabled||"always"===O)&&K.valueAccessor.setDisabledState?.(G.disabled),function sn(G,K){K.valueAccessor.registerOnChange(O=>{G._pendingValue=O,G._pendingChange=!0,G._pendingDirty=!0,"change"===G.updateOn&&Mn(G,K)})}(G,K),function er(G,K){const O=(se,be)=>{K.valueAccessor.writeValue(se),be&&K.viewToModelUpdate(se)};G.registerOnChange(O),K._registerOnDestroy(()=>{G._unregisterOnChange(O)})}(G,K),function Qn(G,K){K.valueAccessor.registerOnTouched(()=>{G._pendingTouched=!0,"blur"===G.updateOn&&G._pendingChange&&Mn(G,K),"submit"!==G.updateOn&&G.markAsTouched()})}(G,K),function et(G,K){if(K.valueAccessor.setDisabledState){const O=se=>{K.valueAccessor.setDisabledState(se)};G.registerOnDisabledChange(O),K._registerOnDestroy(()=>{G._unregisterOnDisabledChange(O)})}}(G,K)}function Be(G,K){G.forEach(O=>{O.registerOnValidatorChange&&O.registerOnValidatorChange(K)})}function St(G,K){const O=function un(G){return G._rawValidators}(G);null!==K.validator?G.setValidators(ln(O,K.validator)):"function"==typeof O&&G.setValidators([O]);const se=function Bn(G){return G._rawAsyncValidators}(G);null!==K.asyncValidator?G.setAsyncValidators(ln(se,K.asyncValidator)):"function"==typeof se&&G.setAsyncValidators([se]);const be=()=>G.updateValueAndValidity();Be(K._rawValidators,be),Be(K._rawAsyncValidators,be)}function Mn(G,K){G._pendingDirty&&G.markAsDirty(),G.setValue(G._pendingValue,{emitModelToViewChange:!1}),K.viewToModelUpdate(G._pendingValue),G._pendingChange=!1}const $o={provide:Rn,useExisting:(0,p.Gpc)(()=>Bi)},ii=(()=>Promise.resolve())();let Bi=(()=>{class G extends Rn{constructor(O,se,be){super(),this.callSetDisabledState=be,this.submitted=!1,this._directives=new Set,this.ngSubmit=new p.vpe,this.form=new Tt({},kn(O),An(se))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(O){ii.then(()=>{const se=this._findContainer(O.path);O.control=se.registerControl(O.name,O.control),Ie(O.control,O,this.callSetDisabledState),O.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(O)})}getControl(O){return this.form.get(O.path)}removeControl(O){ii.then(()=>{const se=this._findContainer(O.path);se&&se.removeControl(O.name),this._directives.delete(O)})}addFormGroup(O){ii.then(()=>{const se=this._findContainer(O.path),be=new Tt({});(function xr(G,K){St(G,K)})(be,O),se.registerControl(O.name,be),be.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(O){ii.then(()=>{const se=this._findContainer(O.path);se&&se.removeControl(O.name)})}getFormGroup(O){return this.form.get(O.path)}updateModel(O,se){ii.then(()=>{this.form.get(O.path).setValue(se)})}setValue(O){this.control.setValue(O)}onSubmit(O){return this.submitted=!0,function Oi(G,K){G._syncPendingControls(),K.forEach(O=>{const se=O.control;"submit"===se.updateOn&&se._pendingChange&&(O.viewToModelUpdate(se._pendingValue),se._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(O),"dialog"===O?.target?.method}onReset(){this.resetForm()}resetForm(O=void 0){this.form.reset(O),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(O){return O.pop(),O.length?this.form.get(O):this.form}static#e=this.\u0275fac=function(se){return new(se||G)(p.Y36(ge,10),p.Y36(Ce,10),p.Y36(De,8))};static#t=this.\u0275dir=p.lG2({type:G,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(se,be){1&se&&p.NdJ("submit",function(Tn){return be.onSubmit(Tn)})("reset",function(){return be.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[p._Bn([$o]),p.qOj]})}return G})();function di(G,K){const O=G.indexOf(K);O>-1&&G.splice(O,1)}function Ds(G){return"object"==typeof G&&null!==G&&2===Object.keys(G).length&&"value"in G&&"disabled"in G}const si=class extends ct{constructor(K=null,O,se){super(Pe(O),$(se,O)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(K),this._setUpdateStrategy(O),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),k(O)&&(O.nonNullable||O.initialValueIsDefault)&&(this.defaultValue=Ds(K)?K.value:K)}setValue(K,O={}){this.value=this._pendingValue=K,this._onChange.length&&!1!==O.emitModelToViewChange&&this._onChange.forEach(se=>se(this.value,!1!==O.emitViewToModelChange)),this.updateValueAndValidity(O)}patchValue(K,O={}){this.setValue(K,O)}reset(K=this.defaultValue,O={}){this._applyFormState(K),this.markAsPristine(O),this.markAsUntouched(O),this.setValue(this.value,O),this._pendingChange=!1}_updateValue(){}_anyControls(K){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(K){this._onChange.push(K)}_unregisterOnChange(K){di(this._onChange,K)}registerOnDisabledChange(K){this._onDisabledChange.push(K)}_unregisterOnDisabledChange(K){di(this._onDisabledChange,K)}_forEachChild(K){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(K){Ds(K)?(this.value=this._pendingValue=K.value,K.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=K}},Bs={provide:Fn,useExisting:(0,p.Gpc)(()=>io)},Hs=(()=>Promise.resolve())();let io=(()=>{class G extends Fn{constructor(O,se,be,tn,Tn,gi){super(),this._changeDetectorRef=Tn,this.callSetDisabledState=gi,this.control=new si,this._registered=!1,this.name="",this.update=new p.vpe,this._parent=O,this._setValidators(se),this._setAsyncValidators(be),this.valueAccessor=function ro(G,K){if(!K)return null;let O,se,be;return Array.isArray(K),K.forEach(tn=>{tn.constructor===ae?O=tn:function Or(G){return Object.getPrototypeOf(G.constructor)===Ye}(tn)?se=tn:be=tn}),be||se||O||null}(0,tn)}ngOnChanges(O){if(this._checkForErrors(),!this._registered||"name"in O){if(this._registered&&(this._checkName(),this.formDirective)){const se=O.name.previousValue;this.formDirective.removeControl({name:se,path:this._getPath(se)})}this._setUpControl()}"isDisabled"in O&&this._updateDisabled(O),function xi(G,K){if(!G.hasOwnProperty("model"))return!1;const O=G.model;return!!O.isFirstChange()||!Object.is(K,O.currentValue)}(O,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(O){this.viewModel=O,this.update.emit(O)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ie(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(O){Hs.then(()=>{this.control.setValue(O,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(O){const se=O.isDisabled.currentValue,be=0!==se&&(0,p.VuI)(se);Hs.then(()=>{be&&!this.control.disabled?this.control.disable():!be&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(O){return this._parent?function xe(G,K){return[...K.path,G]}(O,this._parent):[O]}static#e=this.\u0275fac=function(se){return new(se||G)(p.Y36(Rn,9),p.Y36(ge,10),p.Y36(Ce,10),p.Y36(lt,10),p.Y36(p.sBO,8),p.Y36(De,8))};static#t=this.\u0275dir=p.lG2({type:G,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[p._Bn([Bs]),p.qOj,p.TTD]})}return G})(),Mo=(()=>{class G{static#e=this.\u0275fac=function(se){return new(se||G)};static#t=this.\u0275dir=p.lG2({type:G,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return G})(),Nr=(()=>{class G{static#e=this.\u0275fac=function(se){return new(se||G)};static#t=this.\u0275mod=p.oAB({type:G});static#n=this.\u0275inj=p.cJS({})}return G})(),$r=(()=>{class G{constructor(){this._validator=Se}ngOnChanges(O){if(this.inputName in O){const se=this.normalizeInput(O[this.inputName].currentValue);this._enabled=this.enabled(se),this._validator=this._enabled?this.createValidator(se):Se,this._onChange&&this._onChange()}}validate(O){return this._validator(O)}registerOnValidatorChange(O){this._onChange=O}enabled(O){return null!=O}static#e=this.\u0275fac=function(se){return new(se||G)};static#t=this.\u0275dir=p.lG2({type:G,features:[p.TTD]})}return G})();const ba={provide:ge,useExisting:(0,p.Gpc)(()=>Pr),multi:!0};let Pr=(()=>{class G extends $r{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=p.VuI,this.createValidator=O=>$e}enabled(O){return O}static#e=this.\u0275fac=function(){let O;return function(be){return(O||(O=p.n5z(G)))(be||G)}}();static#t=this.\u0275dir=p.lG2({type:G,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(se,be){2&se&&p.uIk("required",be._enabled?"":null)},inputs:{required:"required"},features:[p._Bn([ba]),p.qOj]})}return G})(),ai=(()=>{class G{static#e=this.\u0275fac=function(se){return new(se||G)};static#t=this.\u0275mod=p.oAB({type:G});static#n=this.\u0275inj=p.cJS({imports:[Nr]})}return G})(),vs=(()=>{class G{static withConfig(O){return{ngModule:G,providers:[{provide:De,useValue:O.callSetDisabledState??ve}]}}static#e=this.\u0275fac=function(se){return new(se||G)};static#t=this.\u0275mod=p.oAB({type:G});static#n=this.\u0275inj=p.cJS({imports:[ai]})}return G})()},6593:(xt,je,U)=>{U.d(je,{Dx:()=>Fn,b2:()=>Cn,q6:()=>ln,se:()=>ye});var p=U(5879),V=U(6814);class b extends V.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Te extends b{static makeCurrent(){(0,V.HT)(new Te)}onAndCancel($,L,k){return $.addEventListener(L,k),()=>{$.removeEventListener(L,k)}}dispatchEvent($,L){$.dispatchEvent(L)}remove($){$.parentNode&&$.parentNode.removeChild($)}createElement($,L){return(L=L||this.getDefaultDocument()).createElement($)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode($){return $.nodeType===Node.ELEMENT_NODE}isShadowRoot($){return $ instanceof DocumentFragment}getGlobalEventTarget($,L){return"window"===L?window:"document"===L?$:"body"===L?$.body:null}getBaseHref($){const L=function J(){return z=z||document.querySelector("base"),z?z.getAttribute("href"):null}();return null==L?null:function ue(re){q=q||document.createElement("a"),q.setAttribute("href",re);const $=q.pathname;return"/"===$.charAt(0)?$:`/${$}`}(L)}resetBaseElement(){z=null}getUserAgent(){return window.navigator.userAgent}getCookie($){return(0,V.Mx)(document.cookie,$)}}let q,z=null,X=(()=>{class re{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(k){return new(k||re)};static#t=this.\u0275prov=p.Yz7({token:re,factory:re.\u0275fac})}return re})();const oe=new p.OlP("EventManagerPlugins");let Ee=(()=>{class re{constructor(L,k){this._zone=k,this._eventNameToPlugin=new Map,L.forEach(fe=>{fe.manager=this}),this._plugins=L.slice().reverse()}addEventListener(L,k,fe){return this._findPluginFor(k).addEventListener(L,k,fe)}getZone(){return this._zone}_findPluginFor(L){let k=this._eventNameToPlugin.get(L);if(k)return k;if(k=this._plugins.find(Le=>Le.supports(L)),!k)throw new p.vHH(5101,!1);return this._eventNameToPlugin.set(L,k),k}static#e=this.\u0275fac=function(k){return new(k||re)(p.LFG(oe),p.LFG(p.R0b))};static#t=this.\u0275prov=p.Yz7({token:re,factory:re.\u0275fac})}return re})();class ze{constructor($){this._doc=$}}const Ye="ng-app-id";let lt=(()=>{class re{constructor(L,k,fe,Le={}){this.doc=L,this.appId=k,this.nonce=fe,this.platformId=Le,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,V.PM)(Le),this.resetHostNodes()}addStyles(L){for(const k of L)1===this.changeUsageCount(k,1)&&this.onStyleAdded(k)}removeStyles(L){for(const k of L)this.changeUsageCount(k,-1)<=0&&this.onStyleRemoved(k)}ngOnDestroy(){const L=this.styleNodesInDOM;L&&(L.forEach(k=>k.remove()),L.clear());for(const k of this.getAllStyles())this.onStyleRemoved(k);this.resetHostNodes()}addHost(L){this.hostNodes.add(L);for(const k of this.getAllStyles())this.addStyleToHost(L,k)}removeHost(L){this.hostNodes.delete(L)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(L){for(const k of this.hostNodes)this.addStyleToHost(k,L)}onStyleRemoved(L){const k=this.styleRef;k.get(L)?.elements?.forEach(fe=>fe.remove()),k.delete(L)}collectServerRenderedStyles(){const L=this.doc.head?.querySelectorAll(`style[${Ye}="${this.appId}"]`);if(L?.length){const k=new Map;return L.forEach(fe=>{null!=fe.textContent&&k.set(fe.textContent,fe)}),k}return null}changeUsageCount(L,k){const fe=this.styleRef;if(fe.has(L)){const Le=fe.get(L);return Le.usage+=k,Le.usage}return fe.set(L,{usage:k,elements:[]}),k}getStyleElement(L,k){const fe=this.styleNodesInDOM,Le=fe?.get(k);if(Le?.parentNode===L)return fe.delete(k),Le.removeAttribute(Ye),Le;{const ct=this.doc.createElement("style");return this.nonce&&ct.setAttribute("nonce",this.nonce),ct.textContent=k,this.platformIsServer&&ct.setAttribute(Ye,this.appId),ct}}addStyleToHost(L,k){const fe=this.getStyleElement(L,k);L.appendChild(fe);const Le=this.styleRef,ct=Le.get(k)?.elements;ct?ct.push(fe):Le.set(k,{elements:[fe],usage:1})}resetHostNodes(){const L=this.hostNodes;L.clear(),L.add(this.doc.head)}static#e=this.\u0275fac=function(k){return new(k||re)(p.LFG(V.K0),p.LFG(p.AFp),p.LFG(p.Ojb,8),p.LFG(p.Lbi))};static#t=this.\u0275prov=p.Yz7({token:re,factory:re.\u0275fac})}return re})();const tt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},rt=/%COMP%/g,Me=new p.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Ce(re,$){return $.map(L=>L.replace(rt,re))}let ye=(()=>{class re{constructor(L,k,fe,Le,ct,Tt,Lt,kt=null){this.eventManager=L,this.sharedStylesHost=k,this.appId=fe,this.removeStylesOnCompDestroy=Le,this.doc=ct,this.platformId=Tt,this.ngZone=Lt,this.nonce=kt,this.rendererByCompId=new Map,this.platformIsServer=(0,V.PM)(Tt),this.defaultRenderer=new he(L,ct,Lt,this.platformIsServer)}createRenderer(L,k){if(!L||!k)return this.defaultRenderer;this.platformIsServer&&k.encapsulation===p.ifc.ShadowDom&&(k={...k,encapsulation:p.ifc.Emulated});const fe=this.getOrCreateRenderer(L,k);return fe instanceof gn?fe.applyToHost(L):fe instanceof At&&fe.applyStyles(),fe}getOrCreateRenderer(L,k){const fe=this.rendererByCompId;let Le=fe.get(k.id);if(!Le){const ct=this.doc,Tt=this.ngZone,Lt=this.eventManager,kt=this.sharedStylesHost,Kt=this.removeStylesOnCompDestroy,bn=this.platformIsServer;switch(k.encapsulation){case p.ifc.Emulated:Le=new gn(Lt,kt,k,this.appId,Kt,ct,Tt,bn);break;case p.ifc.ShadowDom:return new Gt(Lt,kt,L,k,ct,Tt,this.nonce,bn);default:Le=new At(Lt,kt,k,Kt,ct,Tt,bn)}fe.set(k.id,Le)}return Le}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(k){return new(k||re)(p.LFG(Ee),p.LFG(lt),p.LFG(p.AFp),p.LFG(Me),p.LFG(V.K0),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(p.Ojb))};static#t=this.\u0275prov=p.Yz7({token:re,factory:re.\u0275fac})}return re})();class he{constructor($,L,k,fe){this.eventManager=$,this.doc=L,this.ngZone=k,this.platformIsServer=fe,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement($,L){return L?this.doc.createElementNS(tt[L]||L,$):this.doc.createElement($)}createComment($){return this.doc.createComment($)}createText($){return this.doc.createTextNode($)}appendChild($,L){($e($)?$.content:$).appendChild(L)}insertBefore($,L,k){$&&($e($)?$.content:$).insertBefore(L,k)}removeChild($,L){$&&$.removeChild(L)}selectRootElement($,L){let k="string"==typeof $?this.doc.querySelector($):$;if(!k)throw new p.vHH(-5104,!1);return L||(k.textContent=""),k}parentNode($){return $.parentNode}nextSibling($){return $.nextSibling}setAttribute($,L,k,fe){if(fe){L=fe+":"+L;const Le=tt[fe];Le?$.setAttributeNS(Le,L,k):$.setAttribute(L,k)}else $.setAttribute(L,k)}removeAttribute($,L,k){if(k){const fe=tt[k];fe?$.removeAttributeNS(fe,L):$.removeAttribute(`${k}:${L}`)}else $.removeAttribute(L)}addClass($,L){$.classList.add(L)}removeClass($,L){$.classList.remove(L)}setStyle($,L,k,fe){fe&(p.JOm.DashCase|p.JOm.Important)?$.style.setProperty(L,k,fe&p.JOm.Important?"important":""):$.style[L]=k}removeStyle($,L,k){k&p.JOm.DashCase?$.style.removeProperty(L):$.style[L]=""}setProperty($,L,k){$[L]=k}setValue($,L){$.nodeValue=L}listen($,L,k){if("string"==typeof $&&!($=(0,V.q)().getGlobalEventTarget(this.doc,$)))throw new Error(`Unsupported event target ${$} for event ${L}`);return this.eventManager.addEventListener($,L,this.decoratePreventDefault(k))}decoratePreventDefault($){return L=>{if("__ngUnwrap__"===L)return $;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>$(L)):$(L))&&L.preventDefault()}}}function $e(re){return"TEMPLATE"===re.tagName&&void 0!==re.content}class Gt extends he{constructor($,L,k,fe,Le,ct,Tt,Lt){super($,Le,ct,Lt),this.sharedStylesHost=L,this.hostEl=k,this.shadowRoot=k.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const kt=Ce(fe.id,fe.styles);for(const Kt of kt){const bn=document.createElement("style");Tt&&bn.setAttribute("nonce",Tt),bn.textContent=Kt,this.shadowRoot.appendChild(bn)}}nodeOrShadowRoot($){return $===this.hostEl?this.shadowRoot:$}appendChild($,L){return super.appendChild(this.nodeOrShadowRoot($),L)}insertBefore($,L,k){return super.insertBefore(this.nodeOrShadowRoot($),L,k)}removeChild($,L){return super.removeChild(this.nodeOrShadowRoot($),L)}parentNode($){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot($)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class At extends he{constructor($,L,k,fe,Le,ct,Tt,Lt){super($,Le,ct,Tt),this.sharedStylesHost=L,this.removeStylesOnCompDestroy=fe,this.styles=Lt?Ce(Lt,k.styles):k.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class gn extends At{constructor($,L,k,fe,Le,ct,Tt,Lt){const kt=fe+"-"+k.id;super($,L,k,Le,ct,Tt,Lt,kt),this.contentAttr=function me(re){return"_ngcontent-%COMP%".replace(rt,re)}(kt),this.hostAttr=function ge(re){return"_nghost-%COMP%".replace(rt,re)}(kt)}applyToHost($){this.applyStyles(),this.setAttribute($,this.hostAttr,"")}createElement($,L){const k=super.createElement($,L);return super.setAttribute(k,this.contentAttr,""),k}}let bt=(()=>{class re extends ze{constructor(L){super(L)}supports(L){return!0}addEventListener(L,k,fe){return L.addEventListener(k,fe,!1),()=>this.removeEventListener(L,k,fe)}removeEventListener(L,k,fe){return L.removeEventListener(k,fe)}static#e=this.\u0275fac=function(k){return new(k||re)(p.LFG(V.K0))};static#t=this.\u0275prov=p.Yz7({token:re,factory:re.\u0275fac})}return re})();const Nt=["alt","control","meta","shift"],Se={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Oe={alt:re=>re.altKey,control:re=>re.ctrlKey,meta:re=>re.metaKey,shift:re=>re.shiftKey};let qe=(()=>{class re extends ze{constructor(L){super(L)}supports(L){return null!=re.parseEventName(L)}addEventListener(L,k,fe){const Le=re.parseEventName(k),ct=re.eventCallback(Le.fullKey,fe,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,V.q)().onAndCancel(L,Le.domEventName,ct))}static parseEventName(L){const k=L.toLowerCase().split("."),fe=k.shift();if(0===k.length||"keydown"!==fe&&"keyup"!==fe)return null;const Le=re._normalizeKey(k.pop());let ct="",Tt=k.indexOf("code");if(Tt>-1&&(k.splice(Tt,1),ct="code."),Nt.forEach(kt=>{const Kt=k.indexOf(kt);Kt>-1&&(k.splice(Kt,1),ct+=kt+".")}),ct+=Le,0!=k.length||0===Le.length)return null;const Lt={};return Lt.domEventName=fe,Lt.fullKey=ct,Lt}static matchEventFullKeyCode(L,k){let fe=Se[L.key]||L.key,Le="";return k.indexOf("code.")>-1&&(fe=L.code,Le="code."),!(null==fe||!fe)&&(fe=fe.toLowerCase()," "===fe?fe="space":"."===fe&&(fe="dot"),Nt.forEach(ct=>{ct!==fe&&(0,Oe[ct])(L)&&(Le+=ct+".")}),Le+=fe,Le===k)}static eventCallback(L,k,fe){return Le=>{re.matchEventFullKeyCode(Le,L)&&fe.runGuarded(()=>k(Le))}}static _normalizeKey(L){return"esc"===L?"escape":L}static#e=this.\u0275fac=function(k){return new(k||re)(p.LFG(V.K0))};static#t=this.\u0275prov=p.Yz7({token:re,factory:re.\u0275fac})}return re})();const ln=(0,p.eFA)(p._c5,"browser",[{provide:p.Lbi,useValue:V.bD},{provide:p.g9A,useValue:function _t(){Te.makeCurrent()},multi:!0},{provide:V.K0,useFactory:function nn(){return(0,p.RDi)(document),document},deps:[]}]),un=new p.OlP(""),Bn=[{provide:p.rWj,useClass:class de{addToWindow($){p.dqk.getAngularTestability=(k,fe=!0)=>{const Le=$.findTestabilityInTree(k,fe);if(null==Le)throw new p.vHH(5103,!1);return Le},p.dqk.getAllAngularTestabilities=()=>$.getAllTestabilities(),p.dqk.getAllAngularRootElements=()=>$.getAllRootElements(),p.dqk.frameworkStabilizers||(p.dqk.frameworkStabilizers=[]),p.dqk.frameworkStabilizers.push(k=>{const fe=p.dqk.getAllAngularTestabilities();let Le=fe.length,ct=!1;const Tt=function(Lt){ct=ct||Lt,Le--,0==Le&&k(ct)};fe.forEach(Lt=>{Lt.whenStable(Tt)})})}findTestabilityInTree($,L,k){return null==L?null:$.getTestability(L)??(k?(0,V.q)().isShadowRoot(L)?this.findTestabilityInTree($,L.host,!0):this.findTestabilityInTree($,L.parentElement,!0):null)}},deps:[]},{provide:p.lri,useClass:p.dDg,deps:[p.R0b,p.eoX,p.rWj]},{provide:p.dDg,useClass:p.dDg,deps:[p.R0b,p.eoX,p.rWj]}],Sn=[{provide:p.zSh,useValue:"root"},{provide:p.qLn,useFactory:function kn(){return new p.qLn},deps:[]},{provide:oe,useClass:bt,multi:!0,deps:[V.K0,p.R0b,p.Lbi]},{provide:oe,useClass:qe,multi:!0,deps:[V.K0]},ye,lt,Ee,{provide:p.FYo,useExisting:ye},{provide:V.JF,useClass:X,deps:[]},[]];let Cn=(()=>{class re{constructor(L){}static withServerTransition(L){return{ngModule:re,providers:[{provide:p.AFp,useValue:L.appId}]}}static#e=this.\u0275fac=function(k){return new(k||re)(p.LFG(un,12))};static#t=this.\u0275mod=p.oAB({type:re});static#n=this.\u0275inj=p.cJS({providers:[...Sn,...Bn],imports:[V.ez,p.hGG]})}return re})(),Fn=(()=>{class re{constructor(L){this._doc=L}getTitle(){return this._doc.title}setTitle(L){this._doc.title=L||""}static#e=this.\u0275fac=function(k){return new(k||re)(p.LFG(V.K0))};static#t=this.\u0275prov=p.Yz7({token:re,factory:function(k){let fe=null;return fe=k?new k:function Rn(){return new Fn((0,p.LFG)(V.K0))}(),fe},providedIn:"root"})}return re})();typeof window<"u"&&window},3781:(xt,je,U)=>{U.d(je,{wm:()=>Vo,F0:()=>lr,Bz:()=>dl,lC:()=>Zi});var p=U(5879),V=U(5592),b=U(4674),z=U(2459),J=U(2096),q=U(5619),ue=U(7453),de=U(2737),X=U(7400),oe=U(4564),Ee=U(2714),ze=U(8251),Ye=U(7103);function lt(...T){const A=(0,oe.yG)(T),I=(0,oe.jO)(T),{args:R,keys:B}=(0,ue.D)(T);if(0===R.length)return(0,z.D)([],A);const ne=new V.y(function tt(T,A,I=de.y){return R=>{rt(A,()=>{const{length:B}=T,ne=new Array(B);let Y=B,nt=B;for(let Qe=0;Qe<B;Qe++)rt(A,()=>{const zt=(0,z.D)(T[Qe],A);let Vn=!1;zt.subscribe((0,ze.x)(R,Un=>{ne[Qe]=Un,Vn||(Vn=!0,nt--),nt||R.next(I(ne.slice()))},()=>{--Y||R.complete()}))},R)},R)}}(R,A,B?Y=>(0,Ee.n)(B,Y):de.y));return I?ne.pipe((0,X.Z)(I)):ne}function rt(T,A,I){T?(0,Ye.f)(I,T,A):A()}var it=U(6973),wt=U(5211),ut=U(4829);function ae(T){return new V.y(A=>{(0,ut.Xf)(T()).subscribe(A)})}var Me=U(8407);function me(T,A){const I=(0,b.m)(T)?T:()=>T,R=B=>B.error(I());return new V.y(A?B=>A.schedule(R,0,B):R)}var ge=U(6232),Ce=U(7394),ye=U(9360);function he(){return(0,ye.e)((T,A)=>{let I=null;T._refCount++;const R=(0,ze.x)(A,void 0,void 0,void 0,()=>{if(!T||T._refCount<=0||0<--T._refCount)return void(I=null);const B=T._connection,ne=I;I=null,B&&(!ne||B===ne)&&B.unsubscribe(),A.unsubscribe()});T.subscribe(R),R.closed||(I=T.connect())})}class at extends V.y{constructor(A,I){super(),this.source=A,this.subjectFactory=I,this._subject=null,this._refCount=0,this._connection=null,(0,ye.A)(A)&&(this.lift=A.lift)}_subscribe(A){return this.getSubject().subscribe(A)}getSubject(){const A=this._subject;return(!A||A.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:A}=this;this._subject=this._connection=null,A?.unsubscribe()}connect(){let A=this._connection;if(!A){A=this._connection=new Ce.w0;const I=this.getSubject();A.add(this.source.subscribe((0,ze.x)(I,void 0,()=>{this._teardown(),I.complete()},R=>{this._teardown(),I.error(R)},()=>this._teardown()))),A.closed&&(this._connection=null,A=Ce.w0.EMPTY)}return A}refCount(){return he()(this)}}var Ct=U(8645),$e=U(6814),Gt=U(7398),At=U(4664),gn=U(8180),bt=U(7921),Nt=U(2181),Se=U(1631),Oe=U(1374),qe=U(6328),ke=U(9397);function He(T){return(0,ye.e)((A,I)=>{let ne,R=null,B=!1;R=A.subscribe((0,ze.x)(I,void 0,void 0,Y=>{ne=(0,ut.Xf)(T(Y,He(T)(A))),R?(R.unsubscribe(),R=null,ne.subscribe(I)):B=!0})),B&&(R.unsubscribe(),R=null,ne.subscribe(I))})}var ht=U(6699),gt=U(3572);function _t(T){return T<=0?()=>ge.E:(0,ye.e)((A,I)=>{let R=[];A.subscribe((0,ze.x)(I,B=>{R.push(B),T<R.length&&R.shift()},()=>{for(const B of R)I.next(B);I.complete()},void 0,()=>{R=null}))})}var kn=U(3026),ln=U(4716),un=U(2420),Sn=U(7537),Cn=U(6593);const Vt="primary",Pn=Symbol("RouteTitle");class vr{constructor(A){this.params=A||{}}has(A){return Object.prototype.hasOwnProperty.call(this.params,A)}get(A){if(this.has(A)){const I=this.params[A];return Array.isArray(I)?I[0]:I}return null}getAll(A){if(this.has(A)){const I=this.params[A];return Array.isArray(I)?I:[I]}return[]}get keys(){return Object.keys(this.params)}}function Rn(T){return new vr(T)}function Fn(T,A,I){const R=I.path.split("/");if(R.length>T.length||"full"===I.pathMatch&&(A.hasChildren()||R.length<T.length))return null;const B={};for(let ne=0;ne<R.length;ne++){const Y=R[ne],nt=T[ne];if(Y.startsWith(":"))B[Y.substring(1)]=nt;else if(Y!==nt.path)return null}return{consumed:T.slice(0,R.length),posParams:B}}function ir(T,A){const I=T?Object.keys(T):void 0,R=A?Object.keys(A):void 0;if(!I||!R||I.length!=R.length)return!1;let B;for(let ne=0;ne<I.length;ne++)if(B=I[ne],!en(T[B],A[B]))return!1;return!0}function en(T,A){if(Array.isArray(T)&&Array.isArray(A)){if(T.length!==A.length)return!1;const I=[...T].sort(),R=[...A].sort();return I.every((B,ne)=>R[ne]===B)}return T===A}function hn(T){return T.length>0?T[T.length-1]:null}function Zt(T){return function Te(T){return!!T&&(T instanceof V.y||(0,b.m)(T.lift)&&(0,b.m)(T.subscribe))}(T)?T:(0,p.QGY)(T)?(0,z.D)(Promise.resolve(T)):(0,J.of)(T)}const Zn={exact:function Ae(T,A,I){if(!Hn(T.segments,A.segments)||!Rt(T.segments,A.segments,I)||T.numberOfChildren!==A.numberOfChildren)return!1;for(const R in A.children)if(!T.children[R]||!Ae(T.children[R],A.children[R],I))return!1;return!0},subset:Ke},Ir={exact:function Dt(T,A){return ir(T,A)},subset:function Ge(T,A){return Object.keys(A).length<=Object.keys(T).length&&Object.keys(A).every(I=>en(T[I],A[I]))},ignored:()=>!0};function Je(T,A,I){return Zn[I.paths](T.root,A.root,I.matrixParams)&&Ir[I.queryParams](T.queryParams,A.queryParams)&&!("exact"===I.fragment&&T.fragment!==A.fragment)}function Ke(T,A,I){return Ot(T,A,A.segments,I)}function Ot(T,A,I,R){if(T.segments.length>I.length){const B=T.segments.slice(0,I.length);return!(!Hn(B,I)||A.hasChildren()||!Rt(B,I,R))}if(T.segments.length===I.length){if(!Hn(T.segments,I)||!Rt(T.segments,I,R))return!1;for(const B in A.children)if(!T.children[B]||!Ke(T.children[B],A.children[B],R))return!1;return!0}{const B=I.slice(0,T.segments.length),ne=I.slice(T.segments.length);return!!(Hn(T.segments,B)&&Rt(T.segments,B,R)&&T.children[Vt])&&Ot(T.children[Vt],A,ne,R)}}function Rt(T,A,I){return A.every((R,B)=>Ir[I](T[B].parameters,R.parameters))}class cn{constructor(A=new vn([],{}),I={},R=null){this.root=A,this.queryParams=I,this.fragment=R}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Rn(this.queryParams)),this._queryParamMap}toString(){return Ei.serialize(this)}}class vn{constructor(A,I){this.segments=A,this.children=I,this.parent=null,Object.values(I).forEach(R=>R.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Dr(this)}}class qr{constructor(A,I){this.path=A,this.parameters=I}get parameterMap(){return this._parameterMap||(this._parameterMap=Rn(this.parameters)),this._parameterMap}toString(){return fe(this)}}function Hn(T,A){return T.length===A.length&&T.every((I,R)=>I.path===A[R].path)}let Hr=(()=>{class T{static#e=this.\u0275fac=function(R){return new(R||T)};static#t=this.\u0275prov=p.Yz7({token:T,factory:function(){return new ti},providedIn:"root"})}return T})();class ti{parse(A){const I=new Ie(A);return new cn(I.parseRootSegment(),I.parseQueryParams(),I.parseFragment())}serialize(A){const I=`/${Ar(A.root,!0)}`,R=function ct(T){const A=Object.keys(T).map(I=>{const R=T[I];return Array.isArray(R)?R.map(B=>`${Pe(I)}=${Pe(B)}`).join("&"):`${Pe(I)}=${Pe(R)}`}).filter(I=>!!I);return A.length?`?${A.join("&")}`:""}(A.queryParams);return`${I}${R}${"string"==typeof A.fragment?`#${function re(T){return encodeURI(T)}(A.fragment)}`:""}`}}const Ei=new ti;function Dr(T){return T.segments.map(A=>fe(A)).join("/")}function Ar(T,A){if(!T.hasChildren())return Dr(T);if(A){const I=T.children[Vt]?Ar(T.children[Vt],!1):"",R=[];return Object.entries(T.children).forEach(([B,ne])=>{B!==Vt&&R.push(`${B}:${Ar(ne,!1)}`)}),R.length>0?`${I}(${R.join("//")})`:I}{const I=function ur(T,A){let I=[];return Object.entries(T.children).forEach(([R,B])=>{R===Vt&&(I=I.concat(A(B,R)))}),Object.entries(T.children).forEach(([R,B])=>{R!==Vt&&(I=I.concat(A(B,R)))}),I}(T,(R,B)=>B===Vt?[Ar(T.children[Vt],!1)]:[`${B}:${Ar(R,!1)}`]);return 1===Object.keys(T.children).length&&null!=T.children[Vt]?`${Dr(T)}/${I[0]}`:`${Dr(T)}/(${I.join("//")})`}}function Vr(T){return encodeURIComponent(T).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Pe(T){return Vr(T).replace(/%3B/gi,";")}function $(T){return Vr(T).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function L(T){return decodeURIComponent(T)}function k(T){return L(T.replace(/\+/g,"%20"))}function fe(T){return`${$(T.path)}${function Le(T){return Object.keys(T).map(A=>`;${$(A)}=${$(T[A])}`).join("")}(T.parameters)}`}const Tt=/^[^\/()?;#]+/;function Lt(T){const A=T.match(Tt);return A?A[0]:""}const kt=/^[^\/()?;=#]+/,bn=/^[^=?&#]+/,ve=/^[^&#]+/;class Ie{constructor(A){this.url=A,this.remaining=A}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new vn([],{}):new vn([],this.parseChildren())}parseQueryParams(){const A={};if(this.consumeOptional("?"))do{this.parseQueryParam(A)}while(this.consumeOptional("&"));return A}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const A=[];for(this.peekStartsWith("(")||A.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),A.push(this.parseSegment());let I={};this.peekStartsWith("/(")&&(this.capture("/"),I=this.parseParens(!0));let R={};return this.peekStartsWith("(")&&(R=this.parseParens(!1)),(A.length>0||Object.keys(I).length>0)&&(R[Vt]=new vn(A,I)),R}parseSegment(){const A=Lt(this.remaining);if(""===A&&this.peekStartsWith(";"))throw new p.vHH(4009,!1);return this.capture(A),new qr(L(A),this.parseMatrixParams())}parseMatrixParams(){const A={};for(;this.consumeOptional(";");)this.parseParam(A);return A}parseParam(A){const I=function Kt(T){const A=T.match(kt);return A?A[0]:""}(this.remaining);if(!I)return;this.capture(I);let R="";if(this.consumeOptional("=")){const B=Lt(this.remaining);B&&(R=B,this.capture(R))}A[L(I)]=L(R)}parseQueryParam(A){const I=function De(T){const A=T.match(bn);return A?A[0]:""}(this.remaining);if(!I)return;this.capture(I);let R="";if(this.consumeOptional("=")){const Y=function xe(T){const A=T.match(ve);return A?A[0]:""}(this.remaining);Y&&(R=Y,this.capture(R))}const B=k(I),ne=k(R);if(A.hasOwnProperty(B)){let Y=A[B];Array.isArray(Y)||(Y=[Y],A[B]=Y),Y.push(ne)}else A[B]=ne}parseParens(A){const I={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const R=Lt(this.remaining),B=this.remaining[R.length];if("/"!==B&&")"!==B&&";"!==B)throw new p.vHH(4010,!1);let ne;R.indexOf(":")>-1?(ne=R.slice(0,R.indexOf(":")),this.capture(ne),this.capture(":")):A&&(ne=Vt);const Y=this.parseChildren();I[ne]=1===Object.keys(Y).length?Y[Vt]:new vn([],Y),this.consumeOptional("//")}return I}peekStartsWith(A){return this.remaining.startsWith(A)}consumeOptional(A){return!!this.peekStartsWith(A)&&(this.remaining=this.remaining.substring(A.length),!0)}capture(A){if(!this.consumeOptional(A))throw new p.vHH(4011,!1)}}function we(T){return T.segments.length>0?new vn([],{[Vt]:T}):T}function Be(T){const A={};for(const R of Object.keys(T.children)){const ne=Be(T.children[R]);if(R===Vt&&0===ne.segments.length&&ne.hasChildren())for(const[Y,nt]of Object.entries(ne.children))A[Y]=nt;else(ne.segments.length>0||ne.hasChildren())&&(A[R]=ne)}return function et(T){if(1===T.numberOfChildren&&T.children[Vt]){const A=T.children[Vt];return new vn(T.segments.concat(A.segments),A.children)}return T}(new vn(T.segments,A))}function St(T){return T instanceof cn}function sn(T){let A;const B=we(function I(ne){const Y={};for(const Qe of ne.children){const zt=I(Qe);Y[Qe.outlet]=zt}const nt=new vn(ne.url,Y);return ne===T&&(A=nt),nt}(T.root));return A??B}function Qn(T,A,I,R){let B=T;for(;B.parent;)B=B.parent;if(0===A.length)return xr(B,B,B,I,R);const ne=function mr(T){if("string"==typeof T[0]&&1===T.length&&"/"===T[0])return new sr(!0,0,T);let A=0,I=!1;const R=T.reduce((B,ne,Y)=>{if("object"==typeof ne&&null!=ne){if(ne.outlets){const nt={};return Object.entries(ne.outlets).forEach(([Qe,zt])=>{nt[Qe]="string"==typeof zt?zt.split("/"):zt}),[...B,{outlets:nt}]}if(ne.segmentPath)return[...B,ne.segmentPath]}return"string"!=typeof ne?[...B,ne]:0===Y?(ne.split("/").forEach((nt,Qe)=>{0==Qe&&"."===nt||(0==Qe&&""===nt?I=!0:".."===nt?A++:""!=nt&&B.push(nt))}),B):[...B,ne]},[]);return new sr(I,A,R)}(A);if(ne.toRoot())return xr(B,B,new vn([],{}),I,R);const Y=function Vs(T,A,I){if(T.isAbsolute)return new Kr(A,!0,0);if(!I)return new Kr(A,!1,NaN);if(null===I.parent)return new Kr(I,!0,0);const R=Mn(T.commands[0])?0:1;return function jn(T,A,I){let R=T,B=A,ne=I;for(;ne>B;){if(ne-=B,R=R.parent,!R)throw new p.vHH(4005,!1);B=R.segments.length}return new Kr(R,!1,B-ne)}(I,I.segments.length-1+R,T.numberOfDoubleDots)}(ne,B,T),nt=Y.processChildren?Oi(Y.segmentGroup,Y.index,ne.commands):Or(Y.segmentGroup,Y.index,ne.commands);return xr(B,Y.segmentGroup,nt,I,R)}function Mn(T){return"object"==typeof T&&null!=T&&!T.outlets&&!T.segmentPath}function er(T){return"object"==typeof T&&null!=T&&T.outlets}function xr(T,A,I,R,B){let Y,ne={};R&&Object.entries(R).forEach(([Qe,zt])=>{ne[Qe]=Array.isArray(zt)?zt.map(Vn=>`${Vn}`):`${zt}`}),Y=T===A?I:ni(T,A,I);const nt=we(Be(Y));return new cn(nt,ne,B)}function ni(T,A,I){const R={};return Object.entries(T.children).forEach(([B,ne])=>{R[B]=ne===A?I:ni(ne,A,I)}),new vn(T.segments,R)}class sr{constructor(A,I,R){if(this.isAbsolute=A,this.numberOfDoubleDots=I,this.commands=R,A&&R.length>0&&Mn(R[0]))throw new p.vHH(4003,!1);const B=R.find(er);if(B&&B!==hn(R))throw new p.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Kr{constructor(A,I,R){this.segmentGroup=A,this.processChildren=I,this.index=R}}function Or(T,A,I){if(T||(T=new vn([],{})),0===T.segments.length&&T.hasChildren())return Oi(T,A,I);const R=function ro(T,A,I){let R=0,B=A;const ne={match:!1,pathIndex:0,commandIndex:0};for(;B<T.segments.length;){if(R>=I.length)return ne;const Y=T.segments[B],nt=I[R];if(er(nt))break;const Qe=`${nt}`,zt=R<I.length-1?I[R+1]:null;if(B>0&&void 0===Qe)break;if(Qe&&zt&&"object"==typeof zt&&void 0===zt.outlets){if(!ii(Qe,zt,Y))return ne;R+=2}else{if(!ii(Qe,{},Y))return ne;R++}B++}return{match:!0,pathIndex:B,commandIndex:R}}(T,A,I),B=I.slice(R.commandIndex);if(R.match&&R.pathIndex<T.segments.length){const ne=new vn(T.segments.slice(0,R.pathIndex),{});return ne.children[Vt]=new vn(T.segments.slice(R.pathIndex),T.children),Oi(ne,0,B)}return R.match&&0===B.length?new vn(T.segments,{}):R.match&&!T.hasChildren()?_o(T,A,I):R.match?Oi(T,0,B):_o(T,A,I)}function Oi(T,A,I){if(0===I.length)return new vn(T.segments,{});{const R=function xi(T){return er(T[0])?T[0].outlets:{[Vt]:T}}(I),B={};if(Object.keys(R).some(ne=>ne!==Vt)&&T.children[Vt]&&1===T.numberOfChildren&&0===T.children[Vt].segments.length){const ne=Oi(T.children[Vt],A,I);return new vn(T.segments,ne.children)}return Object.entries(R).forEach(([ne,Y])=>{"string"==typeof Y&&(Y=[Y]),null!==Y&&(B[ne]=Or(T.children[ne],A,Y))}),Object.entries(T.children).forEach(([ne,Y])=>{void 0===R[ne]&&(B[ne]=Y)}),new vn(T.segments,B)}}function _o(T,A,I){const R=T.segments.slice(0,A);let B=0;for(;B<I.length;){const ne=I[B];if(er(ne)){const Qe=jo(ne.outlets);return new vn(R,Qe)}if(0===B&&Mn(I[0])){R.push(new qr(T.segments[A].path,$o(I[0]))),B++;continue}const Y=er(ne)?ne.outlets[Vt]:`${ne}`,nt=B<I.length-1?I[B+1]:null;Y&&nt&&Mn(nt)?(R.push(new qr(Y,$o(nt))),B+=2):(R.push(new qr(Y,{})),B++)}return new vn(R,{})}function jo(T){const A={};return Object.entries(T).forEach(([I,R])=>{"string"==typeof R&&(R=[R]),null!==R&&(A[I]=_o(new vn([],{}),0,R))}),A}function $o(T){const A={};return Object.entries(T).forEach(([I,R])=>A[I]=`${R}`),A}function ii(T,A,I){return T==I.path&&ir(A,I.parameters)}const Bi="imperative";class di{constructor(A,I){this.id=A,this.url=I}}class Ds extends di{constructor(A,I,R="imperative",B=null){super(A,I),this.type=0,this.navigationTrigger=R,this.restoredState=B}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class si extends di{constructor(A,I,R){super(A,I),this.urlAfterRedirects=R,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class yo extends di{constructor(A,I,R,B){super(A,I),this.reason=R,this.code=B,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ti extends di{constructor(A,I,R,B){super(A,I),this.reason=R,this.code=B,this.type=16}}class as extends di{constructor(A,I,R,B){super(A,I),this.error=R,this.target=B,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class vo extends di{constructor(A,I,R,B){super(A,I),this.urlAfterRedirects=R,this.state=B,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hi extends di{constructor(A,I,R,B){super(A,I),this.urlAfterRedirects=R,this.state=B,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wi extends di{constructor(A,I,R,B,ne){super(A,I),this.urlAfterRedirects=R,this.state=B,this.shouldActivate=ne,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ro extends di{constructor(A,I,R,B){super(A,I),this.urlAfterRedirects=R,this.state=B,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Us extends di{constructor(A,I,R,B){super(A,I),this.urlAfterRedirects=R,this.state=B,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Io{constructor(A){this.route=A,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Bs{constructor(A){this.route=A,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Hs{constructor(A){this.snapshot=A,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class io{constructor(A){this.snapshot=A,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mo{constructor(A){this.snapshot=A,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class As{constructor(A){this.snapshot=A,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ki{constructor(A,I,R){this.routerEvent=A,this.position=I,this.anchor=R,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Ln{}class Ur{constructor(A){this.url=A}}class us{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new jr,this.attachRef=null}}let jr=(()=>{class T{constructor(){this.contexts=new Map}onChildOutletCreated(I,R){const B=this.getOrCreateContext(I);B.outlet=R,this.contexts.set(I,B)}onChildOutletDestroyed(I){const R=this.getContext(I);R&&(R.outlet=null,R.attachRef=null)}onOutletDeactivated(){const I=this.contexts;return this.contexts=new Map,I}onOutletReAttached(I){this.contexts=I}getOrCreateContext(I){let R=this.getContext(I);return R||(R=new us,this.contexts.set(I,R)),R}getContext(I){return this.contexts.get(I)||null}static#e=this.\u0275fac=function(R){return new(R||T)};static#t=this.\u0275prov=p.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})();class so{constructor(A){this._root=A}get root(){return this._root.value}parent(A){const I=this.pathFromRoot(A);return I.length>1?I[I.length-2]:null}children(A){const I=Ss(A,this._root);return I?I.children.map(R=>R.value):[]}firstChild(A){const I=Ss(A,this._root);return I&&I.children.length>0?I.children[0].value:null}siblings(A){const I=ms(A,this._root);return I.length<2?[]:I[I.length-2].children.map(B=>B.value).filter(B=>B!==A)}pathFromRoot(A){return ms(A,this._root).map(I=>I.value)}}function Ss(T,A){if(T===A.value)return A;for(const I of A.children){const R=Ss(T,I);if(R)return R}return null}function ms(T,A){if(T===A.value)return[A];for(const I of A.children){const R=ms(T,I);if(R.length)return R.unshift(A),R}return[]}class Ci{constructor(A,I){this.value=A,this.children=I}toString(){return`TreeNode(${this.value})`}}function gs(T){const A={};return T&&T.children.forEach(I=>A[I.value.outlet]=I),A}class pr extends so{constructor(A,I){super(A),this.snapshot=I,gr(this,A)}toString(){return this.snapshot.toString()}}function Ft(T,A){const I=function En(T,A){const Y=new Sr([],{},{},"",{},Vt,A,null,{});return new bi("",new Ci(Y,[]))}(0,A),R=new q.X([new qr("",{})]),B=new q.X({}),ne=new q.X({}),Y=new q.X({}),nt=new q.X(""),Qe=new Wn(R,B,Y,nt,ne,Vt,A,I.root);return Qe.snapshot=I.root,new pr(new Ci(Qe,[]),I)}class Wn{constructor(A,I,R,B,ne,Y,nt,Qe){this.urlSubject=A,this.paramsSubject=I,this.queryParamsSubject=R,this.fragmentSubject=B,this.dataSubject=ne,this.outlet=Y,this.component=nt,this._futureSnapshot=Qe,this.title=this.dataSubject?.pipe((0,Gt.U)(zt=>zt[Pn]))??(0,J.of)(void 0),this.url=A,this.params=I,this.queryParams=R,this.fragment=B,this.data=ne}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Gt.U)(A=>Rn(A)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Gt.U)(A=>Rn(A)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function oi(T,A="emptyOnly"){const I=T.pathFromRoot;let R=0;if("always"!==A)for(R=I.length-1;R>=1;){const B=I[R],ne=I[R-1];if(B.routeConfig&&""===B.routeConfig.path)R--;else{if(ne.component)break;R--}}return function _s(T){return T.reduce((A,I)=>({params:{...A.params,...I.params},data:{...A.data,...I.data},resolve:{...I.data,...A.resolve,...I.routeConfig?.data,...I._resolvedData}}),{params:{},data:{},resolve:{}})}(I.slice(R))}class Sr{get title(){return this.data?.[Pn]}constructor(A,I,R,B,ne,Y,nt,Qe,zt){this.url=A,this.params=I,this.queryParams=R,this.fragment=B,this.data=ne,this.outlet=Y,this.component=nt,this.routeConfig=Qe,this._resolve=zt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Rn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Rn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(R=>R.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class bi extends so{constructor(A,I){super(I),this.url=A,gr(this,I)}toString(){return ji(this._root)}}function gr(T,A){A.value._routerState=T,A.children.forEach(I=>gr(T,I))}function ji(T){const A=T.children.length>0?` { ${T.children.map(ji).join(", ")} } `:"";return`${T.value}${A}`}function hi(T){if(T.snapshot){const A=T.snapshot,I=T._futureSnapshot;T.snapshot=I,ir(A.queryParams,I.queryParams)||T.queryParamsSubject.next(I.queryParams),A.fragment!==I.fragment&&T.fragmentSubject.next(I.fragment),ir(A.params,I.params)||T.paramsSubject.next(I.params),function kr(T,A){if(T.length!==A.length)return!1;for(let I=0;I<T.length;++I)if(!ir(T[I],A[I]))return!1;return!0}(A.url,I.url)||T.urlSubject.next(I.url),ir(A.data,I.data)||T.dataSubject.next(I.data)}else T.snapshot=T._futureSnapshot,T.dataSubject.next(T._futureSnapshot.data)}function fn(T,A){const I=ir(T.params,A.params)&&function Fr(T,A){return Hn(T,A)&&T.every((I,R)=>ir(I.parameters,A[R].parameters))}(T.url,A.url);return I&&!(!T.parent!=!A.parent)&&(!T.parent||fn(T.parent,A.parent))}let Zi=(()=>{class T{constructor(){this.activated=null,this._activatedRoute=null,this.name=Vt,this.activateEvents=new p.vpe,this.deactivateEvents=new p.vpe,this.attachEvents=new p.vpe,this.detachEvents=new p.vpe,this.parentContexts=(0,p.f3M)(jr),this.location=(0,p.f3M)(p.s_b),this.changeDetector=(0,p.f3M)(p.sBO),this.environmentInjector=(0,p.f3M)(p.lqb),this.inputBinder=(0,p.f3M)($i,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(I){if(I.name){const{firstChange:R,previousValue:B}=I.name;if(R)return;this.isTrackedInParentContexts(B)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(B)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(I){return this.parentContexts.getContext(I)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const I=this.parentContexts.getContext(this.name);I?.route&&(I.attachRef?this.attach(I.attachRef,I.route):this.activateWith(I.route,I.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new p.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new p.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new p.vHH(4012,!1);this.location.detach();const I=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(I.instance),I}attach(I,R){this.activated=I,this._activatedRoute=R,this.location.insert(I.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(I.instance)}deactivate(){if(this.activated){const I=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(I)}}activateWith(I,R){if(this.isActivated)throw new p.vHH(4013,!1);this._activatedRoute=I;const B=this.location,Y=I.snapshot.component,nt=this.parentContexts.getOrCreateContext(this.name).children,Qe=new Qi(I,nt,B.injector);this.activated=B.createComponent(Y,{index:B.length,injector:Qe,environmentInjector:R??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(R){return new(R||T)};static#t=this.\u0275dir=p.lG2({type:T,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[p.TTD]})}return T})();class Qi{constructor(A,I,R){this.route=A,this.childContexts=I,this.parent=R}get(A,I){return A===Wn?this.route:A===jr?this.childContexts:this.parent.get(A,I)}}const $i=new p.OlP("");let or=(()=>{class T{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(I){this.unsubscribeFromRouteData(I),this.subscribeToRouteData(I)}unsubscribeFromRouteData(I){this.outletDataSubscriptions.get(I)?.unsubscribe(),this.outletDataSubscriptions.delete(I)}subscribeToRouteData(I){const{activatedRoute:R}=I,B=lt([R.queryParams,R.params,R.data]).pipe((0,At.w)(([ne,Y,nt],Qe)=>(nt={...ne,...Y,...nt},0===Qe?(0,J.of)(nt):Promise.resolve(nt)))).subscribe(ne=>{if(!I.isActivated||!I.activatedComponentRef||I.activatedRoute!==R||null===R.component)return void this.unsubscribeFromRouteData(I);const Y=(0,p.qFp)(R.component);if(Y)for(const{templateName:nt}of Y.inputs)I.activatedComponentRef.setInput(nt,ne[nt]);else this.unsubscribeFromRouteData(I)});this.outletDataSubscriptions.set(I,B)}static#e=this.\u0275fac=function(R){return new(R||T)};static#t=this.\u0275prov=p.Yz7({token:T,factory:T.\u0275fac})}return T})();function Ni(T,A,I){if(I&&T.shouldReuseRoute(A.value,I.value.snapshot)){const R=I.value;R._futureSnapshot=A.value;const B=function zi(T,A,I){return A.children.map(R=>{for(const B of I.children)if(T.shouldReuseRoute(R.value,B.value.snapshot))return Ni(T,R,B);return Ni(T,R)})}(T,A,I);return new Ci(R,B)}{if(T.shouldAttach(A.value)){const ne=T.retrieve(A.value);if(null!==ne){const Y=ne.route;return Y.value._futureSnapshot=A.value,Y.children=A.children.map(nt=>Ni(T,nt)),Y}}const R=function cr(T){return new Wn(new q.X(T.url),new q.X(T.params),new q.X(T.queryParams),new q.X(T.fragment),new q.X(T.data),T.outlet,T.component,T)}(A.value),B=A.children.map(ne=>Ni(T,ne));return new Ci(R,B)}}const $s="ngNavigationCancelingError";function Di(T,A){const{redirectTo:I,navigationBehaviorOptions:R}=St(A)?{redirectTo:A,navigationBehaviorOptions:void 0}:A,B=$r(!1,0,A);return B.url=I,B.navigationBehaviorOptions=R,B}function $r(T,A,I){const R=new Error("NavigationCancelingError: "+(T||""));return R[$s]=!0,R.cancellationCode=A,I&&(R.url=I),R}function Ps(T){return T&&T[$s]}let zn=(()=>{class T{static#e=this.\u0275fac=function(R){return new(R||T)};static#t=this.\u0275cmp=p.Xpm({type:T,selectors:[["ng-component"]],standalone:!0,features:[p.jDz],decls:1,vars:0,template:function(R,B){1&R&&p._UZ(0,"router-outlet")},dependencies:[Zi],encapsulation:2})}return T})();function Zr(T){const A=T.children&&T.children.map(Zr),I=A?{...T,children:A}:{...T};return!I.component&&!I.loadComponent&&(A||I.loadChildren)&&I.outlet&&I.outlet!==Vt&&(I.component=zn),I}function tr(T){return T.outlet||Vt}function Li(T){if(!T)return null;if(T.routeConfig?._injector)return T.routeConfig._injector;for(let A=T.parent;A;A=A.parent){const I=A.routeConfig;if(I?._loadedInjector)return I._loadedInjector;if(I?._injector)return I._injector}return null}class lo{constructor(A,I,R,B,ne){this.routeReuseStrategy=A,this.futureState=I,this.currState=R,this.forwardEvent=B,this.inputBindingEnabled=ne}activate(A){const I=this.futureState._root,R=this.currState?this.currState._root:null;this.deactivateChildRoutes(I,R,A),hi(this.futureState.root),this.activateChildRoutes(I,R,A)}deactivateChildRoutes(A,I,R){const B=gs(I);A.children.forEach(ne=>{const Y=ne.value.outlet;this.deactivateRoutes(ne,B[Y],R),delete B[Y]}),Object.values(B).forEach(ne=>{this.deactivateRouteAndItsChildren(ne,R)})}deactivateRoutes(A,I,R){const B=A.value,ne=I?I.value:null;if(B===ne)if(B.component){const Y=R.getContext(B.outlet);Y&&this.deactivateChildRoutes(A,I,Y.children)}else this.deactivateChildRoutes(A,I,R);else ne&&this.deactivateRouteAndItsChildren(I,R)}deactivateRouteAndItsChildren(A,I){A.value.component&&this.routeReuseStrategy.shouldDetach(A.value.snapshot)?this.detachAndStoreRouteSubtree(A,I):this.deactivateRouteAndOutlet(A,I)}detachAndStoreRouteSubtree(A,I){const R=I.getContext(A.value.outlet),B=R&&A.value.component?R.children:I,ne=gs(A);for(const Y of Object.keys(ne))this.deactivateRouteAndItsChildren(ne[Y],B);if(R&&R.outlet){const Y=R.outlet.detach(),nt=R.children.onOutletDeactivated();this.routeReuseStrategy.store(A.value.snapshot,{componentRef:Y,route:A,contexts:nt})}}deactivateRouteAndOutlet(A,I){const R=I.getContext(A.value.outlet),B=R&&A.value.component?R.children:I,ne=gs(A);for(const Y of Object.keys(ne))this.deactivateRouteAndItsChildren(ne[Y],B);R&&(R.outlet&&(R.outlet.deactivate(),R.children.onOutletDeactivated()),R.attachRef=null,R.route=null)}activateChildRoutes(A,I,R){const B=gs(I);A.children.forEach(ne=>{this.activateRoutes(ne,B[ne.value.outlet],R),this.forwardEvent(new As(ne.value.snapshot))}),A.children.length&&this.forwardEvent(new io(A.value.snapshot))}activateRoutes(A,I,R){const B=A.value,ne=I?I.value:null;if(hi(B),B===ne)if(B.component){const Y=R.getOrCreateContext(B.outlet);this.activateChildRoutes(A,I,Y.children)}else this.activateChildRoutes(A,I,R);else if(B.component){const Y=R.getOrCreateContext(B.outlet);if(this.routeReuseStrategy.shouldAttach(B.snapshot)){const nt=this.routeReuseStrategy.retrieve(B.snapshot);this.routeReuseStrategy.store(B.snapshot,null),Y.children.onOutletReAttached(nt.contexts),Y.attachRef=nt.componentRef,Y.route=nt.route.value,Y.outlet&&Y.outlet.attach(nt.componentRef,nt.route.value),hi(nt.route.value),this.activateChildRoutes(A,null,Y.children)}else{const nt=Li(B.snapshot);Y.attachRef=null,Y.route=B,Y.injector=nt,Y.outlet&&Y.outlet.activateWith(B,Y.injector),this.activateChildRoutes(A,null,Y.children)}}else this.activateChildRoutes(A,null,R)}}class ai{constructor(A){this.path=A,this.route=this.path[this.path.length-1]}}class Eo{constructor(A,I){this.component=A,this.route=I}}function Ha(T,A,I){const R=T._root;return Si(R,A?A._root:null,I,[R.value])}function ys(T,A){const I=Symbol(),R=A.get(T,I);return R===I?"function"!=typeof T||(0,p.Z0I)(T)?A.get(T):T:R}function Si(T,A,I,R,B={canDeactivateChecks:[],canActivateChecks:[]}){const ne=gs(A);return T.children.forEach(Y=>{(function No(T,A,I,R,B={canDeactivateChecks:[],canActivateChecks:[]}){const ne=T.value,Y=A?A.value:null,nt=I?I.getContext(T.value.outlet):null;if(Y&&ne.routeConfig===Y.routeConfig){const Qe=function Da(T,A,I){if("function"==typeof I)return I(T,A);switch(I){case"pathParamsChange":return!Hn(T.url,A.url);case"pathParamsOrQueryParamsChange":return!Hn(T.url,A.url)||!ir(T.queryParams,A.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!fn(T,A)||!ir(T.queryParams,A.queryParams);default:return!fn(T,A)}}(Y,ne,ne.routeConfig.runGuardsAndResolvers);Qe?B.canActivateChecks.push(new ai(R)):(ne.data=Y.data,ne._resolvedData=Y._resolvedData),Si(T,A,ne.component?nt?nt.children:null:I,R,B),Qe&&nt&&nt.outlet&&nt.outlet.isActivated&&B.canDeactivateChecks.push(new Eo(nt.outlet.component,Y))}else Y&&fr(A,nt,B),B.canActivateChecks.push(new ai(R)),Si(T,null,ne.component?nt?nt.children:null:I,R,B)})(Y,ne[Y.value.outlet],I,R.concat([Y.value]),B),delete ne[Y.value.outlet]}),Object.entries(ne).forEach(([Y,nt])=>fr(nt,I.getContext(Y),B)),B}function fr(T,A,I){const R=gs(T),B=T.value;Object.entries(R).forEach(([ne,Y])=>{fr(Y,B.component?A?A.children.getContext(ne):null:A,I)}),I.canDeactivateChecks.push(new Eo(B.component&&A&&A.outlet&&A.outlet.isActivated?A.outlet.component:null,B))}function vs(T){return"function"==typeof T}function gi(T){return T instanceof it.K||"EmptyError"===T?.name}const Is=Symbol("INITIAL_VALUE");function ki(){return(0,At.w)(T=>lt(T.map(A=>A.pipe((0,gn.q)(1),(0,bt.O)(Is)))).pipe((0,Gt.U)(A=>{for(const I of A)if(!0!==I){if(I===Is)return Is;if(!1===I||I instanceof cn)return I}return!0}),(0,Nt.h)(A=>A!==Is),(0,gn.q)(1)))}function qs(T){return(0,Me.z)((0,ke.b)(A=>{if(St(A))throw Di(0,A)}),(0,Gt.U)(A=>!0===A))}class Rs{constructor(A){this.segmentGroup=A||null}}class wo{constructor(A){this.urlTree=A}}function Es(T){return me(new Rs(T))}function Co(T){return me(new wo(T))}class Lo{constructor(A,I){this.urlSerializer=A,this.urlTree=I}noMatchError(A){return new p.vHH(4002,!1)}lineralizeSegments(A,I){let R=[],B=I.root;for(;;){if(R=R.concat(B.segments),0===B.numberOfChildren)return(0,J.of)(R);if(B.numberOfChildren>1||!B.children[Vt])return me(new p.vHH(4e3,!1));B=B.children[Vt]}}applyRedirectCommands(A,I,R){return this.applyRedirectCreateUrlTree(I,this.urlSerializer.parse(I),A,R)}applyRedirectCreateUrlTree(A,I,R,B){const ne=this.createSegmentGroup(A,I.root,R,B);return new cn(ne,this.createQueryParams(I.queryParams,this.urlTree.queryParams),I.fragment)}createQueryParams(A,I){const R={};return Object.entries(A).forEach(([B,ne])=>{if("string"==typeof ne&&ne.startsWith(":")){const nt=ne.substring(1);R[B]=I[nt]}else R[B]=ne}),R}createSegmentGroup(A,I,R,B){const ne=this.createSegments(A,I.segments,R,B);let Y={};return Object.entries(I.children).forEach(([nt,Qe])=>{Y[nt]=this.createSegmentGroup(A,Qe,R,B)}),new vn(ne,Y)}createSegments(A,I,R,B){return I.map(ne=>ne.path.startsWith(":")?this.findPosParam(A,ne,B):this.findOrReturn(ne,R))}findPosParam(A,I,R){const B=R[I.path.substring(1)];if(!B)throw new p.vHH(4001,!1);return B}findOrReturn(A,I){let R=0;for(const B of I){if(B.path===A.path)return I.splice(R),B;R++}return A}}const aa={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ko(T,A,I,R,B){const ne=Ks(T,A,I);return ne.matched?(R=function zs(T,A){return T.providers&&!T._injector&&(T._injector=(0,p.MMx)(T.providers,A,`Route: ${T.path}`)),T._injector??A}(A,R),function Wo(T,A,I,R){const B=A.canMatch;if(!B||0===B.length)return(0,J.of)(!0);const ne=B.map(Y=>{const nt=ys(Y,T);return Zt(function be(T){return T&&vs(T.canMatch)}(nt)?nt.canMatch(A,I):T.runInContext(()=>nt(A,I)))});return(0,J.of)(ne).pipe(ki(),qs())}(R,A,I).pipe((0,Gt.U)(Y=>!0===Y?ne:{...aa}))):(0,J.of)(ne)}function Ks(T,A,I){if(""===A.path)return"full"===A.pathMatch&&(T.hasChildren()||I.length>0)?{...aa}:{matched:!0,consumedSegments:[],remainingSegments:I,parameters:{},positionalParamSegments:{}};const B=(A.matcher||Fn)(I,T,A);if(!B)return{...aa};const ne={};Object.entries(B.posParams??{}).forEach(([nt,Qe])=>{ne[nt]=Qe.path});const Y=B.consumed.length>0?{...ne,...B.consumed[B.consumed.length-1].parameters}:ne;return{matched:!0,consumedSegments:B.consumed,remainingSegments:I.slice(B.consumed.length),parameters:Y,positionalParamSegments:B.posParams??{}}}function Ms(T,A,I,R){return I.length>0&&function Fl(T,A,I){return I.some(R=>Ts(T,A,R)&&tr(R)!==Vt)}(T,I,R)?{segmentGroup:new vn(A,qo(R,new vn(I,T.children))),slicedSegments:[]}:0===I.length&&function Vl(T,A,I){return I.some(R=>Ts(T,A,R))}(T,I,R)?{segmentGroup:new vn(T.segments,Aa(T,0,I,R,T.children)),slicedSegments:I}:{segmentGroup:new vn(T.segments,T.children),slicedSegments:I}}function Aa(T,A,I,R,B){const ne={};for(const Y of R)if(Ts(T,I,Y)&&!B[tr(Y)]){const nt=new vn([],{});ne[tr(Y)]=nt}return{...B,...ne}}function qo(T,A){const I={};I[Vt]=A;for(const R of T)if(""===R.path&&tr(R)!==Vt){const B=new vn([],{});I[tr(R)]=B}return I}function Ts(T,A,I){return(!(T.hasChildren()||A.length>0)||"full"!==I.pathMatch)&&""===I.path}class y{constructor(A,I,R,B,ne,Y,nt){this.injector=A,this.configLoader=I,this.rootComponentType=R,this.config=B,this.urlTree=ne,this.paramsInheritanceStrategy=Y,this.urlSerializer=nt,this.allowRedirects=!0,this.applyRedirects=new Lo(this.urlSerializer,this.urlTree)}noMatchError(A){return new p.vHH(4002,!1)}recognize(){const A=Ms(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,A,Vt).pipe(He(I=>{if(I instanceof wo)return this.allowRedirects=!1,this.urlTree=I.urlTree,this.match(I.urlTree);throw I instanceof Rs?this.noMatchError(I):I}),(0,Gt.U)(I=>{const R=new Sr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Vt,this.rootComponentType,null,{}),B=new Ci(R,I),ne=new bi("",B),Y=function dt(T,A,I=null,R=null){return Qn(sn(T),A,I,R)}(R,[],this.urlTree.queryParams,this.urlTree.fragment);return Y.queryParams=this.urlTree.queryParams,ne.url=this.urlSerializer.serialize(Y),this.inheritParamsAndData(ne._root),{state:ne,tree:Y}}))}match(A){return this.processSegmentGroup(this.injector,this.config,A.root,Vt).pipe(He(R=>{throw R instanceof Rs?this.noMatchError(R):R}))}inheritParamsAndData(A){const I=A.value,R=oi(I,this.paramsInheritanceStrategy);I.params=Object.freeze(R.params),I.data=Object.freeze(R.data),A.children.forEach(B=>this.inheritParamsAndData(B))}processSegmentGroup(A,I,R,B){return 0===R.segments.length&&R.hasChildren()?this.processChildren(A,I,R):this.processSegment(A,I,R,R.segments,B,!0)}processChildren(A,I,R){const B=[];for(const ne of Object.keys(R.children))"primary"===ne?B.unshift(ne):B.push(ne);return(0,z.D)(B).pipe((0,qe.b)(ne=>{const Y=R.children[ne],nt=function xo(T,A){const I=T.filter(R=>tr(R)===A);return I.push(...T.filter(R=>tr(R)!==A)),I}(I,ne);return this.processSegmentGroup(A,nt,Y,ne)}),(0,ht.R)((ne,Y)=>(ne.push(...Y),ne)),(0,gt.d)(null),function nn(T,A){const I=arguments.length>=2;return R=>R.pipe(T?(0,Nt.h)((B,ne)=>T(B,ne,R)):de.y,_t(1),I?(0,gt.d)(A):(0,kn.T)(()=>new it.K))}(),(0,Se.z)(ne=>{if(null===ne)return Es(R);const Y=Q(ne);return function E(T){T.sort((A,I)=>A.value.outlet===Vt?-1:I.value.outlet===Vt?1:A.value.outlet.localeCompare(I.value.outlet))}(Y),(0,J.of)(Y)}))}processSegment(A,I,R,B,ne,Y){return(0,z.D)(I).pipe((0,qe.b)(nt=>this.processSegmentAgainstRoute(nt._injector??A,I,nt,R,B,ne,Y).pipe(He(Qe=>{if(Qe instanceof Rs)return(0,J.of)(null);throw Qe}))),(0,Oe.P)(nt=>!!nt),He(nt=>{if(gi(nt))return function Ul(T,A,I){return 0===A.length&&!T.children[I]}(R,B,ne)?(0,J.of)([]):Es(R);throw nt}))}processSegmentAgainstRoute(A,I,R,B,ne,Y,nt){return function ul(T,A,I,R){return!!(tr(T)===R||R!==Vt&&Ts(A,I,T))&&("**"===T.path||Ks(A,T,I).matched)}(R,B,ne,Y)?void 0===R.redirectTo?this.matchSegmentAgainstRoute(A,B,R,ne,Y,nt):nt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(A,B,I,R,ne,Y):Es(B):Es(B)}expandSegmentAgainstRouteUsingRedirect(A,I,R,B,ne,Y){return"**"===B.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(A,R,B,Y):this.expandRegularSegmentAgainstRouteUsingRedirect(A,I,R,B,ne,Y)}expandWildCardWithParamsAgainstRouteUsingRedirect(A,I,R,B){const ne=this.applyRedirects.applyRedirectCommands([],R.redirectTo,{});return R.redirectTo.startsWith("/")?Co(ne):this.applyRedirects.lineralizeSegments(R,ne).pipe((0,Se.z)(Y=>{const nt=new vn(Y,{});return this.processSegment(A,I,nt,Y,B,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(A,I,R,B,ne,Y){const{matched:nt,consumedSegments:Qe,remainingSegments:zt,positionalParamSegments:Vn}=Ks(I,B,ne);if(!nt)return Es(I);const Un=this.applyRedirects.applyRedirectCommands(Qe,B.redirectTo,Vn);return B.redirectTo.startsWith("/")?Co(Un):this.applyRedirects.lineralizeSegments(B,Un).pipe((0,Se.z)(nr=>this.processSegment(A,R,I,nr.concat(zt),Y,!1)))}matchSegmentAgainstRoute(A,I,R,B,ne,Y){let nt;if("**"===R.path){const Qe=B.length>0?hn(B).parameters:{},zt=new Sr(B,Qe,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Re(R),tr(R),R.component??R._loadedComponent??null,R,_(R));nt=(0,J.of)({snapshot:zt,consumedSegments:[],remainingSegments:[]}),I.children={}}else nt=ko(I,R,B,A).pipe((0,Gt.U)(({matched:Qe,consumedSegments:zt,remainingSegments:Vn,parameters:Un})=>Qe?{snapshot:new Sr(zt,Un,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Re(R),tr(R),R.component??R._loadedComponent??null,R,_(R)),consumedSegments:zt,remainingSegments:Vn}:null));return nt.pipe((0,At.w)(Qe=>null===Qe?Es(I):this.getChildConfig(A=R._injector??A,R,B).pipe((0,At.w)(({routes:zt})=>{const Vn=R._loadedInjector??A,{snapshot:Un,consumedSegments:nr,remainingSegments:dr}=Qe,{segmentGroup:Ma,slicedSegments:la}=Ms(I,nr,dr,zt);if(0===la.length&&Ma.hasChildren())return this.processChildren(Vn,zt,Ma).pipe((0,Gt.U)($a=>null===$a?null:[new Ci(Un,$a)]));if(0===zt.length&&0===la.length)return(0,J.of)([new Ci(Un,[])]);const Ru=tr(R)===ne;return this.processSegment(Vn,zt,Ma,la,Ru?Vt:ne,!0).pipe((0,Gt.U)($a=>[new Ci(Un,$a)]))}))))}getChildConfig(A,I,R){return I.children?(0,J.of)({routes:I.children,injector:A}):I.loadChildren?void 0!==I._loadedRoutes?(0,J.of)({routes:I._loadedRoutes,injector:I._loadedInjector}):function Go(T,A,I,R){const B=A.canLoad;if(void 0===B||0===B.length)return(0,J.of)(!0);const ne=B.map(Y=>{const nt=ys(Y,T);return Zt(function G(T){return T&&vs(T.canLoad)}(nt)?nt.canLoad(A,I):T.runInContext(()=>nt(A,I)))});return(0,J.of)(ne).pipe(ki(),qs())}(A,I,R).pipe((0,Se.z)(B=>B?this.configLoader.loadChildren(A,I).pipe((0,ke.b)(ne=>{I._loadedRoutes=ne.routes,I._loadedInjector=ne.injector})):function ll(T){return me($r(!1,3))}())):(0,J.of)({routes:[],injector:A})}}function x(T){const A=T.value.routeConfig;return A&&""===A.path}function Q(T){const A=[],I=new Set;for(const R of T){if(!x(R)){A.push(R);continue}const B=A.find(ne=>R.value.routeConfig===ne.value.routeConfig);void 0!==B?(B.children.push(...R.children),I.add(B)):A.push(R)}for(const R of I){const B=Q(R.children);A.push(new Ci(R.value,B))}return A.filter(R=>!I.has(R))}function Re(T){return T.data||{}}function _(T){return T.resolve||{}}function pt(T){return"string"==typeof T.title||null===T.title}function Ht(T){return(0,At.w)(A=>{const I=T(A);return I?(0,z.D)(I).pipe((0,Gt.U)(()=>A)):(0,J.of)(A)})}const rn=new p.OlP("ROUTES");let _n=(()=>{class T{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,p.f3M)(p.Sil)}loadComponent(I){if(this.componentLoaders.get(I))return this.componentLoaders.get(I);if(I._loadedComponent)return(0,J.of)(I._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(I);const R=Zt(I.loadComponent()).pipe((0,Gt.U)(dn),(0,ke.b)(ne=>{this.onLoadEndListener&&this.onLoadEndListener(I),I._loadedComponent=ne}),(0,ln.x)(()=>{this.componentLoaders.delete(I)})),B=new at(R,()=>new Ct.x).pipe(he());return this.componentLoaders.set(I,B),B}loadChildren(I,R){if(this.childrenLoaders.get(R))return this.childrenLoaders.get(R);if(R._loadedRoutes)return(0,J.of)({routes:R._loadedRoutes,injector:R._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(R);const ne=function Jt(T,A,I,R){return Zt(T.loadChildren()).pipe((0,Gt.U)(dn),(0,Se.z)(B=>B instanceof p.YKP||Array.isArray(B)?(0,J.of)(B):(0,z.D)(A.compileModuleAsync(B))),(0,Gt.U)(B=>{R&&R(T);let ne,Y,nt=!1;return Array.isArray(B)?(Y=B,!0):(ne=B.create(I).injector,Y=ne.get(rn,[],{optional:!0,self:!0}).flat()),{routes:Y.map(Zr),injector:ne}}))}(R,this.compiler,I,this.onLoadEndListener).pipe((0,ln.x)(()=>{this.childrenLoaders.delete(R)})),Y=new at(ne,()=>new Ct.x).pipe(he());return this.childrenLoaders.set(R,Y),Y}static#e=this.\u0275fac=function(R){return new(R||T)};static#t=this.\u0275prov=p.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})();function dn(T){return function On(T){return T&&"object"==typeof T&&"default"in T}(T)?T.default:T}let $n=(()=>{class T{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ct.x,this.transitionAbortSubject=new Ct.x,this.configLoader=(0,p.f3M)(_n),this.environmentInjector=(0,p.f3M)(p.lqb),this.urlSerializer=(0,p.f3M)(Hr),this.rootContexts=(0,p.f3M)(jr),this.inputBindingEnabled=null!==(0,p.f3M)($i,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,J.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=B=>this.events.next(new Bs(B)),this.configLoader.onLoadStartListener=B=>this.events.next(new Io(B))}complete(){this.transitions?.complete()}handleNavigationRequest(I){const R=++this.navigationId;this.transitions?.next({...this.transitions.value,...I,id:R})}setupNavigations(I,R,B){return this.transitions=new q.X({id:0,currentUrlTree:R,currentRawUrl:R,currentBrowserUrl:R,extractedUrl:I.urlHandlingStrategy.extract(R),urlAfterRedirects:I.urlHandlingStrategy.extract(R),rawUrl:R,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Bi,restoredState:null,currentSnapshot:B.snapshot,targetSnapshot:null,currentRouterState:B,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Nt.h)(ne=>0!==ne.id),(0,Gt.U)(ne=>({...ne,extractedUrl:I.urlHandlingStrategy.extract(ne.rawUrl)})),(0,At.w)(ne=>{this.currentTransition=ne;let Y=!1,nt=!1;return(0,J.of)(ne).pipe((0,ke.b)(Qe=>{this.currentNavigation={id:Qe.id,initialUrl:Qe.rawUrl,extractedUrl:Qe.extractedUrl,trigger:Qe.source,extras:Qe.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,At.w)(Qe=>{const zt=Qe.currentBrowserUrl.toString(),Vn=!I.navigated||Qe.extractedUrl.toString()!==zt||zt!==Qe.currentUrlTree.toString();if(!Vn&&"reload"!==(Qe.extras.onSameUrlNavigation??I.onSameUrlNavigation)){const nr="";return this.events.next(new Ti(Qe.id,this.urlSerializer.serialize(Qe.rawUrl),nr,0)),Qe.resolve(null),ge.E}if(I.urlHandlingStrategy.shouldProcessUrl(Qe.rawUrl))return(0,J.of)(Qe).pipe((0,At.w)(nr=>{const dr=this.transitions?.getValue();return this.events.next(new Ds(nr.id,this.urlSerializer.serialize(nr.extractedUrl),nr.source,nr.restoredState)),dr!==this.transitions?.getValue()?ge.E:Promise.resolve(nr)}),function N(T,A,I,R,B,ne){return(0,Se.z)(Y=>function Z(T,A,I,R,B,ne,Y="emptyOnly"){return new y(T,A,I,R,B,Y,ne).recognize()}(T,A,I,R,Y.extractedUrl,B,ne).pipe((0,Gt.U)(({state:nt,tree:Qe})=>({...Y,targetSnapshot:nt,urlAfterRedirects:Qe}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,I.config,this.urlSerializer,I.paramsInheritanceStrategy),(0,ke.b)(nr=>{ne.targetSnapshot=nr.targetSnapshot,ne.urlAfterRedirects=nr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:nr.urlAfterRedirects};const dr=new vo(nr.id,this.urlSerializer.serialize(nr.extractedUrl),this.urlSerializer.serialize(nr.urlAfterRedirects),nr.targetSnapshot);this.events.next(dr)}));if(Vn&&I.urlHandlingStrategy.shouldProcessUrl(Qe.currentRawUrl)){const{id:nr,extractedUrl:dr,source:Ma,restoredState:la,extras:Ru}=Qe,$a=new Ds(nr,this.urlSerializer.serialize(dr),Ma,la);this.events.next($a);const Ls=Ft(0,this.rootComponentType).snapshot;return this.currentTransition=ne={...Qe,targetSnapshot:Ls,urlAfterRedirects:dr,extras:{...Ru,skipLocationChange:!1,replaceUrl:!1}},(0,J.of)(ne)}{const nr="";return this.events.next(new Ti(Qe.id,this.urlSerializer.serialize(Qe.extractedUrl),nr,1)),Qe.resolve(null),ge.E}}),(0,ke.b)(Qe=>{const zt=new Hi(Qe.id,this.urlSerializer.serialize(Qe.extractedUrl),this.urlSerializer.serialize(Qe.urlAfterRedirects),Qe.targetSnapshot);this.events.next(zt)}),(0,Gt.U)(Qe=>(this.currentTransition=ne={...Qe,guards:Ha(Qe.targetSnapshot,Qe.currentSnapshot,this.rootContexts)},ne)),function To(T,A){return(0,Se.z)(I=>{const{targetSnapshot:R,currentSnapshot:B,guards:{canActivateChecks:ne,canDeactivateChecks:Y}}=I;return 0===Y.length&&0===ne.length?(0,J.of)({...I,guardsResult:!0}):function Wi(T,A,I,R){return(0,z.D)(T).pipe((0,Se.z)(B=>function Fi(T,A,I,R,B){const ne=A&&A.routeConfig?A.routeConfig.canDeactivate:null;if(!ne||0===ne.length)return(0,J.of)(!0);const Y=ne.map(nt=>{const Qe=Li(A)??B,zt=ys(nt,Qe);return Zt(function se(T){return T&&vs(T.canDeactivate)}(zt)?zt.canDeactivate(T,A,I,R):Qe.runInContext(()=>zt(T,A,I,R))).pipe((0,Oe.P)())});return(0,J.of)(Y).pipe(ki())}(B.component,B.route,I,A,R)),(0,Oe.P)(B=>!0!==B,!0))}(Y,R,B,T).pipe((0,Se.z)(nt=>nt&&function sa(T){return"boolean"==typeof T}(nt)?function _i(T,A,I,R){return(0,z.D)(A).pipe((0,qe.b)(B=>(0,wt.z)(function co(T,A){return null!==T&&A&&A(new Hs(T)),(0,J.of)(!0)}(B.route.parent,R),function uo(T,A){return null!==T&&A&&A(new Mo(T)),(0,J.of)(!0)}(B.route,R),function Ws(T,A,I){const R=A[A.length-1],ne=A.slice(0,A.length-1).reverse().map(Y=>function zo(T){const A=T.routeConfig?T.routeConfig.canActivateChild:null;return A&&0!==A.length?{node:T,guards:A}:null}(Y)).filter(Y=>null!==Y).map(Y=>ae(()=>{const nt=Y.guards.map(Qe=>{const zt=Li(Y.node)??I,Vn=ys(Qe,zt);return Zt(function O(T){return T&&vs(T.canActivateChild)}(Vn)?Vn.canActivateChild(R,T):zt.runInContext(()=>Vn(R,T))).pipe((0,Oe.P)())});return(0,J.of)(nt).pipe(ki())}));return(0,J.of)(ne).pipe(ki())}(T,B.path,I),function li(T,A,I){const R=A.routeConfig?A.routeConfig.canActivate:null;if(!R||0===R.length)return(0,J.of)(!0);const B=R.map(ne=>ae(()=>{const Y=Li(A)??I,nt=ys(ne,Y);return Zt(function K(T){return T&&vs(T.canActivate)}(nt)?nt.canActivate(A,T):Y.runInContext(()=>nt(A,T))).pipe((0,Oe.P)())}));return(0,J.of)(B).pipe(ki())}(T,B.route,I))),(0,Oe.P)(B=>!0!==B,!0))}(R,ne,T,A):(0,J.of)(nt)),(0,Gt.U)(nt=>({...I,guardsResult:nt})))})}(this.environmentInjector,Qe=>this.events.next(Qe)),(0,ke.b)(Qe=>{if(ne.guardsResult=Qe.guardsResult,St(Qe.guardsResult))throw Di(0,Qe.guardsResult);const zt=new wi(Qe.id,this.urlSerializer.serialize(Qe.extractedUrl),this.urlSerializer.serialize(Qe.urlAfterRedirects),Qe.targetSnapshot,!!Qe.guardsResult);this.events.next(zt)}),(0,Nt.h)(Qe=>!!Qe.guardsResult||(this.cancelNavigationTransition(Qe,"",3),!1)),Ht(Qe=>{if(Qe.guards.canActivateChecks.length)return(0,J.of)(Qe).pipe((0,ke.b)(zt=>{const Vn=new Ro(zt.id,this.urlSerializer.serialize(zt.extractedUrl),this.urlSerializer.serialize(zt.urlAfterRedirects),zt.targetSnapshot);this.events.next(Vn)}),(0,At.w)(zt=>{let Vn=!1;return(0,J.of)(zt).pipe(function P(T,A){return(0,Se.z)(I=>{const{targetSnapshot:R,guards:{canActivateChecks:B}}=I;if(!B.length)return(0,J.of)(I);let ne=0;return(0,z.D)(B).pipe((0,qe.b)(Y=>function F(T,A,I,R){const B=T.routeConfig,ne=T._resolve;return void 0!==B?.title&&!pt(B)&&(ne[Pn]=B.title),function ce(T,A,I,R){const B=function Ue(T){return[...Object.keys(T),...Object.getOwnPropertySymbols(T)]}(T);if(0===B.length)return(0,J.of)({});const ne={};return(0,z.D)(B).pipe((0,Se.z)(Y=>function Ze(T,A,I,R){const B=Li(A)??R,ne=ys(T,B);return Zt(ne.resolve?ne.resolve(A,I):B.runInContext(()=>ne(A,I)))}(T[Y],A,I,R).pipe((0,Oe.P)(),(0,ke.b)(nt=>{ne[Y]=nt}))),_t(1),function An(T){return(0,Gt.U)(()=>T)}(ne),He(Y=>gi(Y)?ge.E:me(Y)))}(ne,T,A,R).pipe((0,Gt.U)(Y=>(T._resolvedData=Y,T.data=oi(T,I).resolve,B&&pt(B)&&(T.data[Pn]=B.title),null)))}(Y.route,R,T,A)),(0,ke.b)(()=>ne++),_t(1),(0,Se.z)(Y=>ne===B.length?(0,J.of)(I):ge.E))})}(I.paramsInheritanceStrategy,this.environmentInjector),(0,ke.b)({next:()=>Vn=!0,complete:()=>{Vn||this.cancelNavigationTransition(zt,"",2)}}))}),(0,ke.b)(zt=>{const Vn=new Us(zt.id,this.urlSerializer.serialize(zt.extractedUrl),this.urlSerializer.serialize(zt.urlAfterRedirects),zt.targetSnapshot);this.events.next(Vn)}))}),Ht(Qe=>{const zt=Vn=>{const Un=[];Vn.routeConfig?.loadComponent&&!Vn.routeConfig._loadedComponent&&Un.push(this.configLoader.loadComponent(Vn.routeConfig).pipe((0,ke.b)(nr=>{Vn.component=nr}),(0,Gt.U)(()=>{})));for(const nr of Vn.children)Un.push(...zt(nr));return Un};return lt(zt(Qe.targetSnapshot.root)).pipe((0,gt.d)(),(0,gn.q)(1))}),Ht(()=>this.afterPreactivation()),(0,Gt.U)(Qe=>{const zt=function js(T,A,I){const R=Ni(T,A._root,I?I._root:void 0);return new pr(R,A)}(I.routeReuseStrategy,Qe.targetSnapshot,Qe.currentRouterState);return this.currentTransition=ne={...Qe,targetRouterState:zt},ne}),(0,ke.b)(()=>{this.events.next(new Ln)}),((T,A,I,R)=>(0,Gt.U)(B=>(new lo(A,B.targetRouterState,B.currentRouterState,I,R).activate(T),B)))(this.rootContexts,I.routeReuseStrategy,Qe=>this.events.next(Qe),this.inputBindingEnabled),(0,gn.q)(1),(0,ke.b)({next:Qe=>{Y=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new si(Qe.id,this.urlSerializer.serialize(Qe.extractedUrl),this.urlSerializer.serialize(Qe.urlAfterRedirects))),I.titleStrategy?.updateTitle(Qe.targetRouterState.snapshot),Qe.resolve(!0)},complete:()=>{Y=!0}}),function Bn(T){return(0,ye.e)((A,I)=>{(0,ut.Xf)(T).subscribe((0,ze.x)(I,()=>I.complete(),un.Z)),!I.closed&&A.subscribe(I)})}(this.transitionAbortSubject.pipe((0,ke.b)(Qe=>{throw Qe}))),(0,ln.x)(()=>{Y||nt||this.cancelNavigationTransition(ne,"",1),this.currentNavigation?.id===ne.id&&(this.currentNavigation=null)}),He(Qe=>{if(nt=!0,Ps(Qe))this.events.next(new yo(ne.id,this.urlSerializer.serialize(ne.extractedUrl),Qe.message,Qe.cancellationCode)),function Gi(T){return Ps(T)&&St(T.url)}(Qe)?this.events.next(new Ur(Qe.url)):ne.resolve(!1);else{this.events.next(new as(ne.id,this.urlSerializer.serialize(ne.extractedUrl),Qe,ne.targetSnapshot??void 0));try{ne.resolve(I.errorHandler(Qe))}catch(zt){ne.reject(zt)}}return ge.E}))}))}cancelNavigationTransition(I,R,B){const ne=new yo(I.id,this.urlSerializer.serialize(I.extractedUrl),R,B);this.events.next(ne),I.resolve(!1)}static#e=this.\u0275fac=function(R){return new(R||T)};static#t=this.\u0275prov=p.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})();function Qr(T){return T!==Bi}let Cr=(()=>{class T{buildTitle(I){let R,B=I.root;for(;void 0!==B;)R=this.getResolvedTitleForRoute(B)??R,B=B.children.find(ne=>ne.outlet===Vt);return R}getResolvedTitleForRoute(I){return I.data[Pn]}static#e=this.\u0275fac=function(R){return new(R||T)};static#t=this.\u0275prov=p.Yz7({token:T,factory:function(){return(0,p.f3M)(yi)},providedIn:"root"})}return T})(),yi=(()=>{class T extends Cr{constructor(I){super(),this.title=I}updateTitle(I){const R=this.buildTitle(I);void 0!==R&&this.title.setTitle(R)}static#e=this.\u0275fac=function(R){return new(R||T)(p.LFG(Cn.Dx))};static#t=this.\u0275prov=p.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})(),zr=(()=>{class T{static#e=this.\u0275fac=function(R){return new(R||T)};static#t=this.\u0275prov=p.Yz7({token:T,factory:function(){return(0,p.f3M)(ri)},providedIn:"root"})}return T})();class qi{shouldDetach(A){return!1}store(A,I){}shouldAttach(A){return!1}retrieve(A){return null}shouldReuseRoute(A,I){return A.routeConfig===I.routeConfig}}let ri=(()=>{class T extends qi{static#e=this.\u0275fac=function(){let I;return function(B){return(I||(I=p.n5z(T)))(B||T)}}();static#t=this.\u0275prov=p.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})();const Vi=new p.OlP("",{providedIn:"root",factory:()=>({})});let Fo=(()=>{class T{static#e=this.\u0275fac=function(R){return new(R||T)};static#t=this.\u0275prov=p.Yz7({token:T,factory:function(){return(0,p.f3M)(br)},providedIn:"root"})}return T})(),br=(()=>{class T{shouldProcessUrl(I){return!0}extract(I){return I}merge(I,R){return I}static#e=this.\u0275fac=function(R){return new(R||T)};static#t=this.\u0275prov=p.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})();var Ko=function(T){return T[T.COMPLETE=0]="COMPLETE",T[T.FAILED=1]="FAILED",T[T.REDIRECTING=2]="REDIRECTING",T}(Ko||{});function Xt(T,A){T.events.pipe((0,Nt.h)(I=>I instanceof si||I instanceof yo||I instanceof as||I instanceof Ti),(0,Gt.U)(I=>I instanceof si||I instanceof Ti?Ko.COMPLETE:I instanceof yo&&(0===I.code||1===I.code)?Ko.REDIRECTING:Ko.FAILED),(0,Nt.h)(I=>I!==Ko.REDIRECTING),(0,gn.q)(1)).subscribe(()=>{A()})}function Qt(T){throw T}function Nn(T,A,I){return A.parse("/")}const ar={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ui={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let lr=(()=>{class T{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,p.f3M)(p.c2e),this.isNgZoneEnabled=!1,this._events=new Ct.x,this.options=(0,p.f3M)(Vi,{optional:!0})||{},this.pendingTasks=(0,p.f3M)(p.HDt),this.errorHandler=this.options.errorHandler||Qt,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Nn,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,p.f3M)(Fo),this.routeReuseStrategy=(0,p.f3M)(zr),this.titleStrategy=(0,p.f3M)(Cr),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,p.f3M)(rn,{optional:!0})?.flat()??[],this.navigationTransitions=(0,p.f3M)($n),this.urlSerializer=(0,p.f3M)(Hr),this.location=(0,p.f3M)($e.Ye),this.componentInputBindingEnabled=!!(0,p.f3M)($i,{optional:!0}),this.eventsSubscription=new Ce.w0,this.isNgZoneEnabled=(0,p.f3M)(p.R0b)instanceof p.R0b&&p.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new cn,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Ft(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(I=>{this.lastSuccessfulId=I.id,this.currentPageId=this.browserPageId},I=>{this.console.warn(`Unhandled Navigation Error: ${I}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const I=this.navigationTransitions.events.subscribe(R=>{try{const{currentTransition:B}=this.navigationTransitions;if(null===B)return void(xs(R)&&this._events.next(R));if(R instanceof Ds)Qr(B.source)&&(this.browserUrlTree=B.extractedUrl);else if(R instanceof Ti)this.rawUrlTree=B.rawUrl;else if(R instanceof vo){if("eager"===this.urlUpdateStrategy){if(!B.extras.skipLocationChange){const ne=this.urlHandlingStrategy.merge(B.urlAfterRedirects,B.rawUrl);this.setBrowserUrl(ne,B)}this.browserUrlTree=B.urlAfterRedirects}}else if(R instanceof Ln)this.currentUrlTree=B.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(B.urlAfterRedirects,B.rawUrl),this.routerState=B.targetRouterState,"deferred"===this.urlUpdateStrategy&&(B.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,B),this.browserUrlTree=B.urlAfterRedirects);else if(R instanceof yo)0!==R.code&&1!==R.code&&(this.navigated=!0),(3===R.code||2===R.code)&&this.restoreHistory(B);else if(R instanceof Ur){const ne=this.urlHandlingStrategy.merge(R.url,B.currentRawUrl),Y={skipLocationChange:B.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Qr(B.source)};this.scheduleNavigation(ne,Bi,null,Y,{resolve:B.resolve,reject:B.reject,promise:B.promise})}R instanceof as&&this.restoreHistory(B,!0),R instanceof si&&(this.navigated=!0),xs(R)&&this._events.next(R)}catch(B){this.navigationTransitions.transitionAbortSubject.next(B)}});this.eventsSubscription.add(I)}resetRootComponentType(I){this.routerState.root.component=I,this.navigationTransitions.rootComponentType=I}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const I=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Bi,I)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(I=>{const R="popstate"===I.type?"popstate":"hashchange";"popstate"===R&&setTimeout(()=>{this.navigateToSyncWithBrowser(I.url,R,I.state)},0)}))}navigateToSyncWithBrowser(I,R,B){const ne={replaceUrl:!0},Y=B?.navigationId?B:null;if(B){const Qe={...B};delete Qe.navigationId,delete Qe.\u0275routerPageId,0!==Object.keys(Qe).length&&(ne.state=Qe)}const nt=this.parseUrl(I);this.scheduleNavigation(nt,R,Y,ne)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(I){this.config=I.map(Zr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(I,R={}){const{relativeTo:B,queryParams:ne,fragment:Y,queryParamsHandling:nt,preserveFragment:Qe}=R,zt=Qe?this.currentUrlTree.fragment:Y;let Un,Vn=null;switch(nt){case"merge":Vn={...this.currentUrlTree.queryParams,...ne};break;case"preserve":Vn=this.currentUrlTree.queryParams;break;default:Vn=ne||null}null!==Vn&&(Vn=this.removeEmptyProps(Vn));try{Un=sn(B?B.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof I[0]||!I[0].startsWith("/"))&&(I=[]),Un=this.currentUrlTree.root}return Qn(Un,I,Vn,zt??null)}navigateByUrl(I,R={skipLocationChange:!1}){const B=St(I)?I:this.parseUrl(I),ne=this.urlHandlingStrategy.merge(B,this.rawUrlTree);return this.scheduleNavigation(ne,Bi,null,R)}navigate(I,R={skipLocationChange:!1}){return function Yr(T){for(let A=0;A<T.length;A++)if(null==T[A])throw new p.vHH(4008,!1)}(I),this.navigateByUrl(this.createUrlTree(I,R),R)}serializeUrl(I){return this.urlSerializer.serialize(I)}parseUrl(I){let R;try{R=this.urlSerializer.parse(I)}catch(B){R=this.malformedUriErrorHandler(B,this.urlSerializer,I)}return R}isActive(I,R){let B;if(B=!0===R?{...ar}:!1===R?{...ui}:R,St(I))return Je(this.currentUrlTree,I,B);const ne=this.parseUrl(I);return Je(this.currentUrlTree,ne,B)}removeEmptyProps(I){return Object.keys(I).reduce((R,B)=>{const ne=I[B];return null!=ne&&(R[B]=ne),R},{})}scheduleNavigation(I,R,B,ne,Y){if(this.disposed)return Promise.resolve(!1);let nt,Qe,zt;Y?(nt=Y.resolve,Qe=Y.reject,zt=Y.promise):zt=new Promise((Un,nr)=>{nt=Un,Qe=nr});const Vn=this.pendingTasks.add();return Xt(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Vn))}),this.navigationTransitions.handleNavigationRequest({source:R,restoredState:B,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:I,extras:ne,resolve:nt,reject:Qe,promise:zt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),zt.catch(Un=>Promise.reject(Un))}setBrowserUrl(I,R){const B=this.urlSerializer.serialize(I);if(this.location.isCurrentPathEqualTo(B)||R.extras.replaceUrl){const Y={...R.extras.state,...this.generateNgRouterState(R.id,this.browserPageId)};this.location.replaceState(B,"",Y)}else{const ne={...R.extras.state,...this.generateNgRouterState(R.id,this.browserPageId+1)};this.location.go(B,"",ne)}}restoreHistory(I,R=!1){if("computed"===this.canceledNavigationResolution){const ne=this.currentPageId-this.browserPageId;0!==ne?this.location.historyGo(ne):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===ne&&(this.resetState(I),this.browserUrlTree=I.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(R&&this.resetState(I),this.resetUrlToCurrentUrlTree())}resetState(I){this.routerState=I.currentRouterState,this.currentUrlTree=I.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,I.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(I,R){return"computed"===this.canceledNavigationResolution?{navigationId:I,\u0275routerPageId:R}:{navigationId:I}}static#e=this.\u0275fac=function(R){return new(R||T)};static#t=this.\u0275prov=p.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})();function xs(T){return!(T instanceof Ln||T instanceof Ur)}class fi{}let Vo=(()=>{class T{preload(I,R){return R().pipe(He(()=>(0,J.of)(null)))}static#e=this.\u0275fac=function(R){return new(R||T)};static#t=this.\u0275prov=p.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})(),Lr=(()=>{class T{constructor(I,R,B,ne,Y){this.router=I,this.injector=B,this.preloadingStrategy=ne,this.loader=Y}setUpPreloading(){this.subscription=this.router.events.pipe((0,Nt.h)(I=>I instanceof si),(0,qe.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(I,R){const B=[];for(const ne of R){ne.providers&&!ne._injector&&(ne._injector=(0,p.MMx)(ne.providers,I,`Route: ${ne.path}`));const Y=ne._injector??I,nt=ne._loadedInjector??Y;(ne.loadChildren&&!ne._loadedRoutes&&void 0===ne.canLoad||ne.loadComponent&&!ne._loadedComponent)&&B.push(this.preloadConfig(Y,ne)),(ne.children||ne._loadedRoutes)&&B.push(this.processRoutes(nt,ne.children??ne._loadedRoutes))}return(0,z.D)(B).pipe((0,Sn.J)())}preloadConfig(I,R){return this.preloadingStrategy.preload(R,()=>{let B;B=R.loadChildren&&void 0===R.canLoad?this.loader.loadChildren(I,R):(0,J.of)(null);const ne=B.pipe((0,Se.z)(Y=>null===Y?(0,J.of)(void 0):(R._loadedRoutes=Y.routes,R._loadedInjector=Y.injector,this.processRoutes(Y.injector??I,Y.routes))));if(R.loadComponent&&!R._loadedComponent){const Y=this.loader.loadComponent(R);return(0,z.D)([ne,Y]).pipe((0,Sn.J)())}return ne})}static#e=this.\u0275fac=function(R){return new(R||T)(p.LFG(lr),p.LFG(p.Sil),p.LFG(p.lqb),p.LFG(fi),p.LFG(_n))};static#t=this.\u0275prov=p.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})();const vi=new p.OlP("");let Dn=(()=>{class T{constructor(I,R,B,ne,Y={}){this.urlSerializer=I,this.transitions=R,this.viewportScroller=B,this.zone=ne,this.options=Y,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Y.scrollPositionRestoration=Y.scrollPositionRestoration||"disabled",Y.anchorScrolling=Y.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(I=>{I instanceof Ds?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=I.navigationTrigger,this.restoredId=I.restoredState?I.restoredState.navigationId:0):I instanceof si?(this.lastId=I.id,this.scheduleScrollEvent(I,this.urlSerializer.parse(I.urlAfterRedirects).fragment)):I instanceof Ti&&0===I.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(I,this.urlSerializer.parse(I.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(I=>{I instanceof Ki&&(I.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(I.position):I.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(I.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(I,R){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ki(I,"popstate"===this.lastSource?this.store[this.restoredId]:null,R))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(R){p.$Z()};static#t=this.\u0275prov=p.Yz7({token:T,factory:T.\u0275fac})}return T})();function Zo(T,A){return{\u0275kind:T,\u0275providers:A}}function pc(){const T=(0,p.f3M)(p.zs3);return A=>{const I=T.get(p.z2F);if(A!==I.components[0])return;const R=T.get(lr),B=T.get(Bl);1===T.get(Au)&&R.initialNavigation(),T.get(In,null,p.XFs.Optional)?.setUpPreloading(),T.get(vi,null,p.XFs.Optional)?.init(),R.resetRootComponentType(I.componentTypes[0]),B.closed||(B.next(),B.complete(),B.unsubscribe())}}const Bl=new p.OlP("",{factory:()=>new Ct.x}),Au=new p.OlP("",{providedIn:"root",factory:()=>1}),In=new p.OlP("");function mc(T){return Zo(0,[{provide:In,useExisting:Lr},{provide:fi,useExisting:T}])}const ja=new p.OlP("ROUTER_FORROOT_GUARD"),Jr=[$e.Ye,{provide:Hr,useClass:ti},lr,jr,{provide:Wn,useFactory:function on(T){return T.routerState.root},deps:[lr]},_n,[]];function an(){return new p.PXZ("Router",lr)}let dl=(()=>{class T{constructor(I){}static forRoot(I,R){return{ngModule:T,providers:[Jr,[],{provide:rn,multi:!0,useValue:I},{provide:ja,useFactory:Bt,deps:[[lr,new p.FiY,new p.tp0]]},{provide:Vi,useValue:R||{}},R?.useHash?{provide:$e.S$,useClass:$e.Do}:{provide:$e.S$,useClass:$e.b0},{provide:vi,useFactory:()=>{const T=(0,p.f3M)($e.EM),A=(0,p.f3M)(p.R0b),I=(0,p.f3M)(Vi),R=(0,p.f3M)($n),B=(0,p.f3M)(Hr);return I.scrollOffset&&T.setOffset(I.scrollOffset),new Dn(B,R,T,A,I)}},R?.preloadingStrategy?mc(R.preloadingStrategy).\u0275providers:[],{provide:p.PXZ,multi:!0,useFactory:an},R?.initialNavigation?ho(R):[],R?.bindToComponentInputs?Zo(8,[or,{provide:$i,useExisting:or}]).\u0275providers:[],[{provide:Ns,useFactory:pc},{provide:p.tb,multi:!0,useExisting:Ns}]]}}static forChild(I){return{ngModule:T,providers:[{provide:rn,multi:!0,useValue:I}]}}static#e=this.\u0275fac=function(R){return new(R||T)(p.LFG(ja,8))};static#t=this.\u0275mod=p.oAB({type:T});static#n=this.\u0275inj=p.cJS({})}return T})();function Bt(T){return"guarded"}function ho(T){return["disabled"===T.initialNavigation?Zo(3,[{provide:p.ip1,multi:!0,useFactory:()=>{const A=(0,p.f3M)(lr);return()=>{A.setUpLocationChangeListener()}}},{provide:Au,useValue:2}]).\u0275providers:[],"enabledBlocking"===T.initialNavigation?Zo(2,[{provide:Au,useValue:0},{provide:p.ip1,multi:!0,deps:[p.zs3],useFactory:A=>{const I=A.get($e.V_,Promise.resolve());return()=>I.then(()=>new Promise(R=>{const B=A.get(lr),ne=A.get(Bl);Xt(B,()=>{R(!0)}),A.get($n).afterPreactivation=()=>(R(!0),ne.closed?(0,J.of)(void 0):ne),B.initialNavigation()}))}}]).\u0275providers:[]]}const Ns=new p.OlP("")},3106:(xt,je,U)=>{U.d(je,{Z:()=>lt});var p=U(9058),V=U(4537),b=U(534),Te=U(7879);class z{constructor(rt,it){this._delegate=rt,this.firebase=it,(0,b._addComponent)(rt,new V.wA("app-compat",()=>this,"PUBLIC")),this.container=rt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(rt){this._delegate.automaticDataCollectionEnabled=rt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(rt=>{this._delegate.checkDestroyed(),rt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,b.deleteApp)(this._delegate)))}_getService(rt,it=b._DEFAULT_ENTRY_NAME){var wt;this._delegate.checkDestroyed();const ut=this._delegate.container.getProvider(rt);return!ut.isInitialized()&&"EXPLICIT"===(null===(wt=ut.getComponent())||void 0===wt?void 0:wt.instantiationMode)&&ut.initialize(),ut.getImmediate({identifier:it})}_removeServiceInstance(rt,it=b._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(rt).clearInstance(it)}_addComponent(rt){(0,b._addComponent)(this._delegate,rt)}_addOrOverwriteComponent(rt){(0,b._addOrOverwriteComponent)(this._delegate,rt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const q=new p.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),X=function de(){const tt=function ue(tt){const rt={},it={__esModule:!0,initializeApp:function ae(Ce,ye={}){const he=b.initializeApp(Ce,ye);if((0,p.r3)(rt,he.name))return rt[he.name];const at=new tt(he,it);return rt[he.name]=at,at},app:ut,registerVersion:b.registerVersion,setLogLevel:b.setLogLevel,onLog:b.onLog,apps:null,SDK_VERSION:b.SDK_VERSION,INTERNAL:{registerComponent:function me(Ce){const ye=Ce.name,he=ye.replace("-compat","");if(b._registerComponent(Ce)&&"PUBLIC"===Ce.type){const at=(Ct=ut())=>{if("function"!=typeof Ct[he])throw q.create("invalid-app-argument",{appName:ye});return Ct[he]()};void 0!==Ce.serviceProps&&(0,p.ZB)(at,Ce.serviceProps),it[he]=at,tt.prototype[he]=function(...Ct){return this._getService.bind(this,ye).apply(this,Ce.multipleInstances?Ct:[])}}return"PUBLIC"===Ce.type?it[he]:null},removeApp:function wt(Ce){delete rt[Ce]},useAsService:function ge(Ce,ye){return"serverAuth"===ye?null:ye},modularAPIs:b}};function ut(Ce){if(!(0,p.r3)(rt,Ce=Ce||b._DEFAULT_ENTRY_NAME))throw q.create("no-app",{appName:Ce});return rt[Ce]}return it.default=it,Object.defineProperty(it,"apps",{get:function Me(){return Object.keys(rt).map(Ce=>rt[Ce])}}),ut.App=tt,it}(z);return tt.INTERNAL=Object.assign(Object.assign({},tt.INTERNAL),{createFirebaseNamespace:de,extendNamespace:function rt(it){(0,p.ZB)(tt,it)},createSubscribe:p.ne,ErrorFactory:p.LL,deepExtend:p.ZB}),tt}(),oe=new Te.Yd("@firebase/app-compat");if((0,p.jU)()&&void 0!==self.firebase){oe.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const tt=self.firebase.SDK_VERSION;tt&&tt.indexOf("LITE")>=0&&oe.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const lt=X;!function Ye(tt){(0,b.registerVersion)("@firebase/app-compat","0.2.26",tt)}()},534:(xt,je,U)=>{U.r(je),U.d(je,{FirebaseError:()=>Te.ZR,SDK_VERSION:()=>vn,_DEFAULT_ENTRY_NAME:()=>en,_addComponent:()=>Ir,_addOrOverwriteComponent:()=>Je,_apps:()=>Zt,_clearComponents:()=>Ke,_components:()=>Zn,_getProvider:()=>Ae,_registerComponent:()=>Dt,_removeServiceInstance:()=>Ge,deleteApp:()=>ur,getApp:()=>Fr,getApps:()=>Hn,initializeApp:()=>qr,onLog:()=>Ei,registerVersion:()=>ti,setLogLevel:()=>Dr});var p=U(5861),V=U(4537),b=U(7879),Te=U(9058);const z=(Ie,we)=>we.some(Be=>Ie instanceof Be);let J,q;const X=new WeakMap,oe=new WeakMap,Ee=new WeakMap,ze=new WeakMap,Ye=new WeakMap;let rt={get(Ie,we,Be){if(Ie instanceof IDBTransaction){if("done"===we)return oe.get(Ie);if("objectStoreNames"===we)return Ie.objectStoreNames||Ee.get(Ie);if("store"===we)return Be.objectStoreNames[1]?void 0:Be.objectStore(Be.objectStoreNames[0])}return ae(Ie[we])},set:(Ie,we,Be)=>(Ie[we]=Be,!0),has:(Ie,we)=>Ie instanceof IDBTransaction&&("done"===we||"store"===we)||we in Ie};function ut(Ie){return"function"==typeof Ie?function wt(Ie){return Ie!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function de(){return q||(q=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Ie)?function(...we){return Ie.apply(Me(this),we),ae(X.get(this))}:function(...we){return ae(Ie.apply(Me(this),we))}:function(we,...Be){const et=Ie.call(Me(this),we,...Be);return Ee.set(et,we.sort?we.sort():[we]),ae(et)}}(Ie):(Ie instanceof IDBTransaction&&function tt(Ie){if(oe.has(Ie))return;const we=new Promise((Be,et)=>{const St=()=>{Ie.removeEventListener("complete",dt),Ie.removeEventListener("error",sn),Ie.removeEventListener("abort",sn)},dt=()=>{Be(),St()},sn=()=>{et(Ie.error||new DOMException("AbortError","AbortError")),St()};Ie.addEventListener("complete",dt),Ie.addEventListener("error",sn),Ie.addEventListener("abort",sn)});oe.set(Ie,we)}(Ie),z(Ie,function ue(){return J||(J=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Ie,rt):Ie)}function ae(Ie){if(Ie instanceof IDBRequest)return function lt(Ie){const we=new Promise((Be,et)=>{const St=()=>{Ie.removeEventListener("success",dt),Ie.removeEventListener("error",sn)},dt=()=>{Be(ae(Ie.result)),St()},sn=()=>{et(Ie.error),St()};Ie.addEventListener("success",dt),Ie.addEventListener("error",sn)});return we.then(Be=>{Be instanceof IDBCursor&&X.set(Be,Ie)}).catch(()=>{}),Ye.set(we,Ie),we}(Ie);if(ze.has(Ie))return ze.get(Ie);const we=ut(Ie);return we!==Ie&&(ze.set(Ie,we),Ye.set(we,Ie)),we}const Me=Ie=>Ye.get(Ie),Ce=["get","getKey","getAll","getAllKeys","count"],ye=["put","add","delete","clear"],he=new Map;function at(Ie,we){if(!(Ie instanceof IDBDatabase)||we in Ie||"string"!=typeof we)return;if(he.get(we))return he.get(we);const Be=we.replace(/FromIndex$/,""),et=we!==Be,St=ye.includes(Be);if(!(Be in(et?IDBIndex:IDBObjectStore).prototype)||!St&&!Ce.includes(Be))return;const dt=function(){var sn=(0,p.Z)(function*(Qn,...Mn){const er=this.transaction(Qn,St?"readwrite":"readonly");let xr=er.store;return et&&(xr=xr.index(Mn.shift())),(yield Promise.all([xr[Be](...Mn),St&&er.done]))[0]});return function(Mn){return sn.apply(this,arguments)}}();return he.set(we,dt),dt}!function it(Ie){rt=Ie(rt)}(Ie=>({...Ie,get:(we,Be,et)=>at(we,Be)||Ie.get(we,Be,et),has:(we,Be)=>!!at(we,Be)||Ie.has(we,Be)}));class Ct{constructor(we){this.container=we}getPlatformInfoString(){return this.container.getProviders().map(Be=>{if(function $e(Ie){const we=Ie.getComponent();return"VERSION"===we?.type}(Be)){const et=Be.getImmediate();return`${et.library}/${et.version}`}return null}).filter(Be=>Be).join(" ")}}const Gt="@firebase/app",gn=new b.Yd("@firebase/app"),en="[DEFAULT]",hn={[Gt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Zt=new Map,Zn=new Map;function Ir(Ie,we){try{Ie.container.addComponent(we)}catch(Be){gn.debug(`Component ${we.name} failed to register with FirebaseApp ${Ie.name}`,Be)}}function Je(Ie,we){Ie.container.addOrOverwriteComponent(we)}function Dt(Ie){const we=Ie.name;if(Zn.has(we))return gn.debug(`There were multiple attempts to register component ${we}.`),!1;Zn.set(we,Ie);for(const Be of Zt.values())Ir(Be,Ie);return!0}function Ae(Ie,we){const Be=Ie.container.getProvider("heartbeat").getImmediate({optional:!0});return Be&&Be.triggerHeartbeat(),Ie.container.getProvider(we)}function Ge(Ie,we,Be=en){Ae(Ie,we).clearInstance(Be)}function Ke(){Zn.clear()}const Rt=new Te.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class cn{constructor(we,Be,et){this._isDeleted=!1,this._options=Object.assign({},we),this._config=Object.assign({},Be),this._name=Be.name,this._automaticDataCollectionEnabled=Be.automaticDataCollectionEnabled,this._container=et,this.container.addComponent(new V.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(we){this.checkDestroyed(),this._automaticDataCollectionEnabled=we}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(we){this._isDeleted=we}checkDestroyed(){if(this.isDeleted)throw Rt.create("app-deleted",{appName:this._name})}}const vn="10.7.2";function qr(Ie,we={}){let Be=Ie;"object"!=typeof we&&(we={name:we});const et=Object.assign({name:en,automaticDataCollectionEnabled:!1},we),St=et.name;if("string"!=typeof St||!St)throw Rt.create("bad-app-name",{appName:String(St)});if(Be||(Be=(0,Te.aH)()),!Be)throw Rt.create("no-options");const dt=Zt.get(St);if(dt){if((0,Te.vZ)(Be,dt.options)&&(0,Te.vZ)(et,dt.config))return dt;throw Rt.create("duplicate-app",{appName:St})}const sn=new V.H0(St);for(const Mn of Zn.values())sn.addComponent(Mn);const Qn=new cn(Be,et,sn);return Zt.set(St,Qn),Qn}function Fr(Ie=en){const we=Zt.get(Ie);if(!we&&Ie===en&&(0,Te.aH)())return qr();if(!we)throw Rt.create("no-app",{appName:Ie});return we}function Hn(){return Array.from(Zt.values())}function ur(Ie){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,p.Z)(function*(Ie){const we=Ie.name;Zt.has(we)&&(Zt.delete(we),yield Promise.all(Ie.container.getProviders().map(Be=>Be.delete())),Ie.isDeleted=!0)})).apply(this,arguments)}function ti(Ie,we,Be){var et;let St=null!==(et=hn[Ie])&&void 0!==et?et:Ie;Be&&(St+=`-${Be}`);const dt=St.match(/\s|\//),sn=we.match(/\s|\//);if(dt||sn){const Qn=[`Unable to register library "${St}" with version "${we}":`];return dt&&Qn.push(`library name "${St}" contains illegal characters (whitespace or "/")`),dt&&sn&&Qn.push("and"),sn&&Qn.push(`version name "${we}" contains illegal characters (whitespace or "/")`),void gn.warn(Qn.join(" "))}Dt(new V.wA(`${St}-version`,()=>({library:St,version:we}),"VERSION"))}function Ei(Ie,we){if(null!==Ie&&"function"!=typeof Ie)throw Rt.create("invalid-log-argument");(0,b.Am)(Ie,we)}function Dr(Ie){(0,b.Ub)(Ie)}const Ar="firebase-heartbeat-database",Vr=1,Pe="firebase-heartbeat-store";let re=null;function $(){return re||(re=function me(Ie,we,{blocked:Be,upgrade:et,blocking:St,terminated:dt}={}){const sn=indexedDB.open(Ie,we),Qn=ae(sn);return et&&sn.addEventListener("upgradeneeded",Mn=>{et(ae(sn.result),Mn.oldVersion,Mn.newVersion,ae(sn.transaction),Mn)}),Be&&sn.addEventListener("blocked",Mn=>Be(Mn.oldVersion,Mn.newVersion,Mn)),Qn.then(Mn=>{dt&&Mn.addEventListener("close",()=>dt()),St&&Mn.addEventListener("versionchange",er=>St(er.oldVersion,er.newVersion,er))}).catch(()=>{}),Qn}(Ar,Vr,{upgrade:(Ie,we)=>{if(0===we)try{Ie.createObjectStore(Pe)}catch(Be){console.warn(Be)}}}).catch(Ie=>{throw Rt.create("idb-open",{originalErrorMessage:Ie.message})})),re}function k(){return(k=(0,p.Z)(function*(Ie){try{return yield(yield $()).transaction(Pe).objectStore(Pe).get(ct(Ie))}catch(we){if(we instanceof Te.ZR)gn.warn(we.message);else{const Be=Rt.create("idb-get",{originalErrorMessage:we?.message});gn.warn(Be.message)}}})).apply(this,arguments)}function fe(Ie,we){return Le.apply(this,arguments)}function Le(){return(Le=(0,p.Z)(function*(Ie,we){try{const et=(yield $()).transaction(Pe,"readwrite");yield et.objectStore(Pe).put(we,ct(Ie)),yield et.done}catch(Be){if(Be instanceof Te.ZR)gn.warn(Be.message);else{const et=Rt.create("idb-set",{originalErrorMessage:Be?.message});gn.warn(et.message)}}})).apply(this,arguments)}function ct(Ie){return`${Ie.name}!${Ie.options.appId}`}class kt{constructor(we){this.container=we,this._heartbeatsCache=null;const Be=this.container.getProvider("app").getImmediate();this._storage=new De(Be),this._heartbeatsCachePromise=this._storage.read().then(et=>(this._heartbeatsCache=et,et))}triggerHeartbeat(){var we=this;return(0,p.Z)(function*(){var Be,et;const dt=we.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),sn=Kt();if((null!=(null===(Be=we._heartbeatsCache)||void 0===Be?void 0:Be.heartbeats)||(we._heartbeatsCache=yield we._heartbeatsCachePromise,null!=(null===(et=we._heartbeatsCache)||void 0===et?void 0:et.heartbeats)))&&we._heartbeatsCache.lastSentHeartbeatDate!==sn&&!we._heartbeatsCache.heartbeats.some(Qn=>Qn.date===sn))return we._heartbeatsCache.heartbeats.push({date:sn,agent:dt}),we._heartbeatsCache.heartbeats=we._heartbeatsCache.heartbeats.filter(Qn=>{const Mn=new Date(Qn.date).valueOf();return Date.now()-Mn<=2592e6}),we._storage.overwrite(we._heartbeatsCache)})()}getHeartbeatsHeader(){var we=this;return(0,p.Z)(function*(){var Be;if(null===we._heartbeatsCache&&(yield we._heartbeatsCachePromise),null==(null===(Be=we._heartbeatsCache)||void 0===Be?void 0:Be.heartbeats)||0===we._heartbeatsCache.heartbeats.length)return"";const et=Kt(),{heartbeatsToSend:St,unsentEntries:dt}=function bn(Ie,we=1024){const Be=[];let et=Ie.slice();for(const St of Ie){const dt=Be.find(sn=>sn.agent===St.agent);if(dt){if(dt.dates.push(St.date),ve(Be)>we){dt.dates.pop();break}}else if(Be.push({agent:St.agent,dates:[St.date]}),ve(Be)>we){Be.pop();break}et=et.slice(1)}return{heartbeatsToSend:Be,unsentEntries:et}}(we._heartbeatsCache.heartbeats),sn=(0,Te.L)(JSON.stringify({version:2,heartbeats:St}));return we._heartbeatsCache.lastSentHeartbeatDate=et,dt.length>0?(we._heartbeatsCache.heartbeats=dt,yield we._storage.overwrite(we._heartbeatsCache)):(we._heartbeatsCache.heartbeats=[],we._storage.overwrite(we._heartbeatsCache)),sn})()}}function Kt(){return(new Date).toISOString().substring(0,10)}class De{constructor(we){this.app=we,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,p.Z)(function*(){return!!(0,Te.hl)()&&(0,Te.eu)().then(()=>!0).catch(()=>!1)})()}read(){var we=this;return(0,p.Z)(function*(){if(yield we._canUseIndexedDBPromise){const et=yield function L(Ie){return k.apply(this,arguments)}(we.app);return et?.heartbeats?et:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(we){var Be=this;return(0,p.Z)(function*(){var et;if(yield Be._canUseIndexedDBPromise){const dt=yield Be.read();return fe(Be.app,{lastSentHeartbeatDate:null!==(et=we.lastSentHeartbeatDate)&&void 0!==et?et:dt.lastSentHeartbeatDate,heartbeats:we.heartbeats})}})()}add(we){var Be=this;return(0,p.Z)(function*(){var et;if(yield Be._canUseIndexedDBPromise){const dt=yield Be.read();return fe(Be.app,{lastSentHeartbeatDate:null!==(et=we.lastSentHeartbeatDate)&&void 0!==et?et:dt.lastSentHeartbeatDate,heartbeats:[...dt.heartbeats,...we.heartbeats]})}})()}}function ve(Ie){return(0,Te.L)(JSON.stringify({version:2,heartbeats:Ie})).length}!function xe(Ie){Dt(new V.wA("platform-logger",we=>new Ct(we),"PRIVATE")),Dt(new V.wA("heartbeat",we=>new kt(we),"PRIVATE")),ti(Gt,"0.9.26",Ie),ti(Gt,"0.9.26","esm2017"),ti("fire-js","")}("")},4537:(xt,je,U)=>{U.d(je,{H0:()=>ue,wA:()=>b});var p=U(5861),V=U(9058);class b{constructor(X,oe,Ee){this.name=X,this.instanceFactory=oe,this.type=Ee,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(X){return this.instantiationMode=X,this}setMultipleInstances(X){return this.multipleInstances=X,this}setServiceProps(X){return this.serviceProps=X,this}setInstanceCreatedCallback(X){return this.onInstanceCreated=X,this}}const Te="[DEFAULT]";class z{constructor(X,oe){this.name=X,this.container=oe,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(X){const oe=this.normalizeInstanceIdentifier(X);if(!this.instancesDeferred.has(oe)){const Ee=new V.BH;if(this.instancesDeferred.set(oe,Ee),this.isInitialized(oe)||this.shouldAutoInitialize())try{const ze=this.getOrInitializeService({instanceIdentifier:oe});ze&&Ee.resolve(ze)}catch{}}return this.instancesDeferred.get(oe).promise}getImmediate(X){var oe;const Ee=this.normalizeInstanceIdentifier(X?.identifier),ze=null!==(oe=X?.optional)&&void 0!==oe&&oe;if(!this.isInitialized(Ee)&&!this.shouldAutoInitialize()){if(ze)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ee})}catch(Ye){if(ze)return null;throw Ye}}getComponent(){return this.component}setComponent(X){if(X.name!==this.name)throw Error(`Mismatching Component ${X.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=X,this.shouldAutoInitialize()){if(function q(de){return"EAGER"===de.instantiationMode}(X))try{this.getOrInitializeService({instanceIdentifier:Te})}catch{}for(const[oe,Ee]of this.instancesDeferred.entries()){const ze=this.normalizeInstanceIdentifier(oe);try{const Ye=this.getOrInitializeService({instanceIdentifier:ze});Ee.resolve(Ye)}catch{}}}}clearInstance(X=Te){this.instancesDeferred.delete(X),this.instancesOptions.delete(X),this.instances.delete(X)}delete(){var X=this;return(0,p.Z)(function*(){const oe=Array.from(X.instances.values());yield Promise.all([...oe.filter(Ee=>"INTERNAL"in Ee).map(Ee=>Ee.INTERNAL.delete()),...oe.filter(Ee=>"_delete"in Ee).map(Ee=>Ee._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(X=Te){return this.instances.has(X)}getOptions(X=Te){return this.instancesOptions.get(X)||{}}initialize(X={}){const{options:oe={}}=X,Ee=this.normalizeInstanceIdentifier(X.instanceIdentifier);if(this.isInitialized(Ee))throw Error(`${this.name}(${Ee}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ze=this.getOrInitializeService({instanceIdentifier:Ee,options:oe});for(const[Ye,lt]of this.instancesDeferred.entries())Ee===this.normalizeInstanceIdentifier(Ye)&&lt.resolve(ze);return ze}onInit(X,oe){var Ee;const ze=this.normalizeInstanceIdentifier(oe),Ye=null!==(Ee=this.onInitCallbacks.get(ze))&&void 0!==Ee?Ee:new Set;Ye.add(X),this.onInitCallbacks.set(ze,Ye);const lt=this.instances.get(ze);return lt&&X(lt,ze),()=>{Ye.delete(X)}}invokeOnInitCallbacks(X,oe){const Ee=this.onInitCallbacks.get(oe);if(Ee)for(const ze of Ee)try{ze(X,oe)}catch{}}getOrInitializeService({instanceIdentifier:X,options:oe={}}){let Ee=this.instances.get(X);if(!Ee&&this.component&&(Ee=this.component.instanceFactory(this.container,{instanceIdentifier:(de=X,de===Te?void 0:de),options:oe}),this.instances.set(X,Ee),this.instancesOptions.set(X,oe),this.invokeOnInitCallbacks(Ee,X),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,X,Ee)}catch{}var de;return Ee||null}normalizeInstanceIdentifier(X=Te){return this.component?this.component.multipleInstances?X:Te:X}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ue{constructor(X){this.name=X,this.providers=new Map}addComponent(X){const oe=this.getProvider(X.name);if(oe.isComponentSet())throw new Error(`Component ${X.name} has already been registered with ${this.name}`);oe.setComponent(X)}addOrOverwriteComponent(X){this.getProvider(X.name).isComponentSet()&&this.providers.delete(X.name),this.addComponent(X)}getProvider(X){if(this.providers.has(X))return this.providers.get(X);const oe=new z(X,this);return this.providers.set(X,oe),oe}getProviders(){return Array.from(this.providers.values())}}},7879:(xt,je,U)=>{U.d(je,{Am:()=>de,Ub:()=>ue,Yd:()=>q,in:()=>V});const p=[];var V=function(X){return X[X.DEBUG=0]="DEBUG",X[X.VERBOSE=1]="VERBOSE",X[X.INFO=2]="INFO",X[X.WARN=3]="WARN",X[X.ERROR=4]="ERROR",X[X.SILENT=5]="SILENT",X}(V||{});const b={debug:V.DEBUG,verbose:V.VERBOSE,info:V.INFO,warn:V.WARN,error:V.ERROR,silent:V.SILENT},Te=V.INFO,z={[V.DEBUG]:"log",[V.VERBOSE]:"log",[V.INFO]:"info",[V.WARN]:"warn",[V.ERROR]:"error"},J=(X,oe,...Ee)=>{if(oe<X.logLevel)return;const ze=(new Date).toISOString(),Ye=z[oe];if(!Ye)throw new Error(`Attempted to log a message with an invalid logType (value: ${oe})`);console[Ye](`[${ze}]  ${X.name}:`,...Ee)};class q{constructor(oe){this.name=oe,this._logLevel=Te,this._logHandler=J,this._userLogHandler=null,p.push(this)}get logLevel(){return this._logLevel}set logLevel(oe){if(!(oe in V))throw new TypeError(`Invalid value "${oe}" assigned to \`logLevel\``);this._logLevel=oe}setLogLevel(oe){this._logLevel="string"==typeof oe?b[oe]:oe}get logHandler(){return this._logHandler}set logHandler(oe){if("function"!=typeof oe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=oe}get userLogHandler(){return this._userLogHandler}set userLogHandler(oe){this._userLogHandler=oe}debug(...oe){this._userLogHandler&&this._userLogHandler(this,V.DEBUG,...oe),this._logHandler(this,V.DEBUG,...oe)}log(...oe){this._userLogHandler&&this._userLogHandler(this,V.VERBOSE,...oe),this._logHandler(this,V.VERBOSE,...oe)}info(...oe){this._userLogHandler&&this._userLogHandler(this,V.INFO,...oe),this._logHandler(this,V.INFO,...oe)}warn(...oe){this._userLogHandler&&this._userLogHandler(this,V.WARN,...oe),this._logHandler(this,V.WARN,...oe)}error(...oe){this._userLogHandler&&this._userLogHandler(this,V.ERROR,...oe),this._logHandler(this,V.ERROR,...oe)}}function ue(X){p.forEach(oe=>{oe.setLogLevel(X)})}function de(X,oe){for(const Ee of p){let ze=null;oe&&oe.level&&(ze=b[oe.level]),Ee.userLogHandler=null===X?null:(Ye,lt,...tt)=>{const rt=tt.map(it=>{if(null==it)return null;if("string"==typeof it)return it;if("number"==typeof it||"boolean"==typeof it)return it.toString();if(it instanceof Error)return it.message;try{return JSON.stringify(it)}catch{return null}}).filter(it=>it).join(" ");lt>=(ze??Ye.logLevel)&&X({level:V[lt].toLowerCase(),message:rt,args:tt,type:Ye.name})}}}},7142:(xt,je,U)=>{U.d(je,{Z:()=>p.Z});var p=U(3106);p.Z.registerVersion("firebase","10.7.2","app-compat")},6365:(xt,je,U)=>{U.r(je);var p=U(5861),V=U(3106),b=U(8217),Te=U(9058),q=(U(534),U(7879),U(4537));function ue(){return window}function oe(){return oe=(0,p.Z)(function*($,L,k){var fe;const{BuildInfo:Le}=ue();(0,b.au)(L.sessionId,"AuthEvent did not contain a session ID");const ct=yield function it($){return wt.apply(this,arguments)}(L.sessionId),Tt={};return(0,b.av)()?Tt.ibi=Le.packageName:(0,b.aw)()?Tt.apn=Le.packageName:(0,b.ax)($,"operation-not-supported-in-this-environment"),Le.displayName&&(Tt.appDisplayName=Le.displayName),Tt.sessionId=ct,(0,b.ay)($,k,L.type,void 0,null!==(fe=L.eventId)&&void 0!==fe?fe:void 0,Tt)}),oe.apply(this,arguments)}function ze(){return(ze=(0,p.Z)(function*($){const{BuildInfo:L}=ue(),k={};(0,b.av)()?k.iosBundleId=L.packageName:(0,b.aw)()?k.androidPackageName=L.packageName:(0,b.ax)($,"operation-not-supported-in-this-environment"),yield(0,b.az)($,k)})).apply(this,arguments)}function tt(){return(tt=(0,p.Z)(function*($,L,k){const{cordova:fe}=ue();let Le=()=>{};try{yield new Promise((ct,Tt)=>{let Lt=null;function kt(){var De;ct();const ve=null===(De=fe.plugins.browsertab)||void 0===De?void 0:De.close;"function"==typeof ve&&ve(),"function"==typeof k?.close&&k.close()}function Kt(){Lt||(Lt=window.setTimeout(()=>{Tt((0,b.aB)($,"redirect-cancelled-by-user"))},2e3))}function bn(){"visible"===document?.visibilityState&&Kt()}L.addPassiveListener(kt),document.addEventListener("resume",Kt,!1),(0,b.aw)()&&document.addEventListener("visibilitychange",bn,!1),Le=()=>{L.removePassiveListener(kt),document.removeEventListener("resume",Kt,!1),document.removeEventListener("visibilitychange",bn,!1),Lt&&window.clearTimeout(Lt)}})}finally{Le()}})).apply(this,arguments)}function wt(){return(wt=(0,p.Z)(function*($){const L=function ut($){if((0,b.au)(/[0-9a-zA-Z]+/.test($),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode($);const L=new ArrayBuffer($.length),k=new Uint8Array(L);for(let fe=0;fe<$.length;fe++)k[fe]=$.charCodeAt(fe);return k}($),k=yield crypto.subtle.digest("SHA-256",L);return Array.from(new Uint8Array(k)).map(Le=>Le.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Me extends b.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(L=>{this.resolveInialized=L})}addPassiveListener(L){this.passiveListeners.add(L)}removePassiveListener(L){this.passiveListeners.delete(L)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(L){return this.resolveInialized(),this.passiveListeners.forEach(k=>k(L)),super.onEvent(L)}initialized(){var L=this;return(0,p.Z)(function*(){yield L.initPromise})()}}function Ce($){return ye.apply(this,arguments)}function ye(){return(ye=(0,p.Z)(function*($){const L=yield Ct()._get($e($));return L&&(yield Ct()._remove($e($))),L})).apply(this,arguments)}function at(){const $=[];for(let k=0;k<20;k++){const fe=Math.floor(62*Math.random());$.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(fe))}return $.join("")}function Ct(){return(0,b.aE)(b.b)}function $e($){return(0,b.aF)("authEvent",$.config.apiKey,$.name)}function gn($){if(!$?.includes("?"))return{};const[L,...k]=$.split("?");return(0,Te.zd)(k.join("?"))}const Se=class Nt{constructor(){this._redirectPersistence=b.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=b.aG,this._overrideRedirectResult=b.aH}_initialize(L){var k=this;return(0,p.Z)(function*(){const fe=L._key();let Le=k.eventManagers.get(fe);return Le||(Le=new Me(L),k.eventManagers.set(fe,Le),k.attachCallbackListeners(L,Le)),Le})()}_openPopup(L){(0,b.ax)(L,"operation-not-supported-in-this-environment")}_openRedirect(L,k,fe,Le){var ct=this;return(0,p.Z)(function*(){!function rt($){var L,k,fe,Le,ct,Tt,Lt,kt,Kt,bn;const De=ue();(0,b.aC)("function"==typeof(null===(L=De?.universalLinks)||void 0===L?void 0:L.subscribe),$,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,b.aC)(typeof(null===(k=De?.BuildInfo)||void 0===k?void 0:k.packageName)<"u",$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,b.aC)("function"==typeof(null===(ct=null===(Le=null===(fe=De?.cordova)||void 0===fe?void 0:fe.plugins)||void 0===Le?void 0:Le.browsertab)||void 0===ct?void 0:ct.openUrl),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,b.aC)("function"==typeof(null===(kt=null===(Lt=null===(Tt=De?.cordova)||void 0===Tt?void 0:Tt.plugins)||void 0===Lt?void 0:Lt.browsertab)||void 0===kt?void 0:kt.isAvailable),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,b.aC)("function"==typeof(null===(bn=null===(Kt=De?.cordova)||void 0===Kt?void 0:Kt.InAppBrowser)||void 0===bn?void 0:bn.open),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(L);const Tt=yield ct._initialize(L);yield Tt.initialized(),Tt.resetRedirect(),(0,b.aI)(),yield ct._originValidation(L);const Lt=function me($,L,k=null){return{type:L,eventId:k,urlResponse:null,sessionId:at(),postBody:null,tenantId:$.tenantId,error:(0,b.aB)($,"no-auth-event")}}(L,fe,Le);yield function ge($,L){return Ct()._set($e($),L)}(L,Lt);const kt=yield function X($,L,k){return oe.apply(this,arguments)}(L,Lt,k),Kt=yield function Ye($){const{cordova:L}=ue();return new Promise(k=>{L.plugins.browsertab.isAvailable(fe=>{let Le=null;fe?L.plugins.browsertab.openUrl($):Le=L.InAppBrowser.open($,(0,b.aA)()?"_blank":"_system","location=yes"),k(Le)})})}(kt);return function lt($,L,k){return tt.apply(this,arguments)}(L,Tt,Kt)})()}_isIframeWebStorageSupported(L,k){throw new Error("Method not implemented.")}_originValidation(L){const k=L._key();return this.originValidationPromises[k]||(this.originValidationPromises[k]=function Ee($){return ze.apply(this,arguments)}(L)),this.originValidationPromises[k]}attachCallbackListeners(L,k){const{universalLinks:fe,handleOpenURL:Le,BuildInfo:ct}=ue(),Tt=setTimeout((0,p.Z)(function*(){yield Ce(L),k.onEvent(Oe())}),500),Lt=function(){var bn=(0,p.Z)(function*(De){clearTimeout(Tt);const ve=yield Ce(L);let xe=null;ve&&De?.url&&(xe=function he($,L){var k,fe;const Le=function At($){const L=gn($),k=L.link?decodeURIComponent(L.link):void 0,fe=gn(k).link,Le=L.deep_link_id?decodeURIComponent(L.deep_link_id):void 0;return gn(Le).link||Le||fe||k||$}(L);if(Le.includes("/__/auth/callback")){const ct=gn(Le),Tt=ct.firebaseError?function Gt($){try{return JSON.parse($)}catch{return null}}(decodeURIComponent(ct.firebaseError)):null,Lt=null===(fe=null===(k=Tt?.code)||void 0===k?void 0:k.split("auth/"))||void 0===fe?void 0:fe[1],kt=Lt?(0,b.aB)(Lt):null;return kt?{type:$.type,eventId:$.eventId,tenantId:$.tenantId,error:kt,urlResponse:null,sessionId:null,postBody:null}:{type:$.type,eventId:$.eventId,tenantId:$.tenantId,sessionId:$.sessionId,urlResponse:Le,postBody:null}}return null}(ve,De.url)),k.onEvent(xe||Oe())});return function(ve){return bn.apply(this,arguments)}}();typeof fe<"u"&&"function"==typeof fe.subscribe&&fe.subscribe(null,Lt);const kt=Le,Kt=`${ct.packageName.toLowerCase()}://`;ue().handleOpenURL=function(){var bn=(0,p.Z)(function*(De){if(De.toLowerCase().startsWith(Kt)&&Lt({url:De}),"function"==typeof kt)try{kt(De)}catch(ve){console.error(ve)}});return function(De){return bn.apply(this,arguments)}}()}};function Oe(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,b.aB)("no-auth-event")}}function gt(){var $;return(null===($=self?.location)||void 0===$?void 0:$.protocol)||null}function kn($=(0,Te.z$)()){return!("file:"!==gt()&&"ionic:"!==gt()&&"capacitor:"!==gt()||!$.toLowerCase().match(/iphone|ipad|ipod|android/))}function Bn(){try{const $=self.localStorage,L=b.aN();if($)return $.setItem(L,"1"),$.removeItem(L),!function un($=(0,Te.z$)()){return function An(){return(0,Te.w1)()&&11===document?.documentMode}()||function ln($=(0,Te.z$)()){return/Edge\/\d+/.test($)}($)}()||(0,Te.hl)()}catch{return Sn()&&(0,Te.hl)()}return!1}function Sn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Cn(){return(function _t(){return"http:"===gt()||"https:"===gt()}()||(0,Te.ru)()||kn())&&!function nn(){return(0,Te.b$)()||(0,Te.UG)()}()&&Bn()&&!Sn()}function Vt(){return kn()&&typeof document<"u"}function vr(){return(vr=(0,p.Z)(function*(){return!!Vt()&&new Promise($=>{const L=setTimeout(()=>{$(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(L),$(!0)})})})).apply(this,arguments)}const Fn={LOCAL:"local",NONE:"none",SESSION:"session"},kr=b.aC,ir="persistence";function hn($){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,p.Z)(function*($){yield $._initializationPromise;const L=Ir(),k=b.aF(ir,$.config.apiKey,$.name);L&&L.setItem(k,$._getPersistence())})).apply(this,arguments)}function Ir(){var $;try{return(null===($=function Rn(){return typeof window<"u"?window:null}())||void 0===$?void 0:$.sessionStorage)||null}catch{return null}}const Je=b.aC;class Dt{constructor(){this.browserResolver=b.aE(b.k),this.cordovaResolver=b.aE(Se),this.underlyingResolver=null,this._redirectPersistence=b.a,this._completeRedirectFn=b.aG,this._overrideRedirectResult=b.aH}_initialize(L){var k=this;return(0,p.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._initialize(L)})()}_openPopup(L,k,fe,Le){var ct=this;return(0,p.Z)(function*(){return yield ct.selectUnderlyingResolver(),ct.assertedUnderlyingResolver._openPopup(L,k,fe,Le)})()}_openRedirect(L,k,fe,Le){var ct=this;return(0,p.Z)(function*(){return yield ct.selectUnderlyingResolver(),ct.assertedUnderlyingResolver._openRedirect(L,k,fe,Le)})()}_isIframeWebStorageSupported(L,k){this.assertedUnderlyingResolver._isIframeWebStorageSupported(L,k)}_originValidation(L){return this.assertedUnderlyingResolver._originValidation(L)}get _shouldInitProactively(){return Vt()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Je(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var L=this;return(0,p.Z)(function*(){if(L.underlyingResolver)return;const k=yield function Pn(){return vr.apply(this,arguments)}();L.underlyingResolver=k?L.cordovaResolver:L.browserResolver})()}}function Ae($){return $.unwrap()}function Ke($){return Rt($)}function Rt($){const{_tokenResponse:L}=$ instanceof Te.ZR?$.customData:$;if(!L)return null;if(!($ instanceof Te.ZR)&&"temporaryProof"in L&&"phoneNumber"in L)return b.P.credentialFromResult($);const k=L.providerId;if(!k||k===b.p.PASSWORD)return null;let fe;switch(k){case b.p.GOOGLE:fe=b.X;break;case b.p.FACEBOOK:fe=b.W;break;case b.p.GITHUB:fe=b.Y;break;case b.p.TWITTER:fe=b.$;break;default:const{oauthIdToken:Le,oauthAccessToken:ct,oauthTokenSecret:Tt,pendingToken:Lt,nonce:kt}=L;return ct||Tt||Le||Lt?Lt?k.startsWith("saml.")?b.aQ._create(k,Lt):b.N._fromParams({providerId:k,signInMethod:k,pendingToken:Lt,idToken:Le,accessToken:ct}):new b.Z(k).credential({idToken:Le,accessToken:ct,rawNonce:kt}):null}return $ instanceof Te.ZR?fe.credentialFromError($):fe.credentialFromResult($)}function cn($,L){return L.catch(k=>{throw k instanceof Te.ZR&&function Ot($,L){var k;const fe=null===(k=L.customData)||void 0===k?void 0:k._tokenResponse;if("auth/multi-factor-auth-required"===L?.code)L.resolver=new Fr($,b.as($,L));else if(fe){const Le=Rt(L),ct=L;Le&&(ct.credential=Le,ct.tenantId=fe.tenantId||void 0,ct.email=fe.email||void 0,ct.phoneNumber=fe.phoneNumber||void 0)}}($,k),k}).then(k=>{const Le=k.user;return{operationType:k.operationType,credential:Ke(k),additionalUserInfo:b.aq(k),user:Hn.getOrCreate(Le)}})}function vn($,L){return qr.apply(this,arguments)}function qr(){return(qr=(0,p.Z)(function*($,L){const k=yield L;return{verificationId:k.verificationId,confirm:fe=>cn($,k.confirm(fe))}})).apply(this,arguments)}class Fr{constructor(L,k){this.resolver=k,this.auth=function Ge($){return $.wrapped()}(L)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(L){return cn(Ae(this.auth),this.resolver.resolveSignIn(L))}}class Hn{constructor(L){this._delegate=L,this.multiFactor=b.at(L)}static getOrCreate(L){return Hn.USER_MAP.has(L)||Hn.USER_MAP.set(L,new Hn(L)),Hn.USER_MAP.get(L)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(L){return this._delegate.getIdTokenResult(L)}getIdToken(L){return this._delegate.getIdToken(L)}linkAndRetrieveDataWithCredential(L){return this.linkWithCredential(L)}linkWithCredential(L){var k=this;return(0,p.Z)(function*(){return cn(k.auth,b.a2(k._delegate,L))})()}linkWithPhoneNumber(L,k){var fe=this;return(0,p.Z)(function*(){return vn(fe.auth,b.l(fe._delegate,L,k))})()}linkWithPopup(L){var k=this;return(0,p.Z)(function*(){return cn(k.auth,b.d(k._delegate,L,Dt))})()}linkWithRedirect(L){var k=this;return(0,p.Z)(function*(){return yield hn(b.aJ(k.auth)),b.g(k._delegate,L,Dt)})()}reauthenticateAndRetrieveDataWithCredential(L){return this.reauthenticateWithCredential(L)}reauthenticateWithCredential(L){var k=this;return(0,p.Z)(function*(){return cn(k.auth,b.a3(k._delegate,L))})()}reauthenticateWithPhoneNumber(L,k){return vn(this.auth,b.r(this._delegate,L,k))}reauthenticateWithPopup(L){return cn(this.auth,b.e(this._delegate,L,Dt))}reauthenticateWithRedirect(L){var k=this;return(0,p.Z)(function*(){return yield hn(b.aJ(k.auth)),b.h(k._delegate,L,Dt)})()}sendEmailVerification(L){return b.ag(this._delegate,L)}unlink(L){var k=this;return(0,p.Z)(function*(){return yield b.ap(k._delegate,L),k})()}updateEmail(L){return b.al(this._delegate,L)}updatePassword(L){return b.am(this._delegate,L)}updatePhoneNumber(L){return b.u(this._delegate,L)}updateProfile(L){return b.ak(this._delegate,L)}verifyBeforeUpdateEmail(L,k){return b.ah(this._delegate,L,k)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Hn.USER_MAP=new WeakMap;const ur=b.aC;let Hr=(()=>{class ${constructor(k,fe){if(this.app=k,fe.isInitialized())return this._delegate=fe.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Le}=k.options;ur(Le,"invalid-api-key",{appName:k.name}),ur(Le,"invalid-api-key",{appName:k.name});const ct=typeof window<"u"?Dt:void 0;this._delegate=fe.initialize({options:{persistence:Ei(Le,k.name),popupRedirectResolver:ct}}),this._delegate._updateErrorMap(b.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Hn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(k){this._delegate.languageCode=k}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(k){this._delegate.tenantId=k}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(k,fe){b.K(this._delegate,k,fe)}applyActionCode(k){return b.a7(this._delegate,k)}checkActionCode(k){return b.a8(this._delegate,k)}confirmPasswordReset(k,fe){return b.a6(this._delegate,k,fe)}createUserWithEmailAndPassword(k,fe){var Le=this;return(0,p.Z)(function*(){return cn(Le._delegate,b.aa(Le._delegate,k,fe))})()}fetchProvidersForEmail(k){return this.fetchSignInMethodsForEmail(k)}fetchSignInMethodsForEmail(k){return b.af(this._delegate,k)}isSignInWithEmailLink(k){return b.ad(this._delegate,k)}getRedirectResult(){var k=this;return(0,p.Z)(function*(){ur(Cn(),k._delegate,"operation-not-supported-in-this-environment");const fe=yield b.j(k._delegate,Dt);return fe?cn(k._delegate,Promise.resolve(fe)):{credential:null,user:null}})()}addFrameworkForLogging(k){!function qe($,L){(0,b.aJ)($)._logFramework(L)}(this._delegate,k)}onAuthStateChanged(k,fe,Le){const{next:ct,error:Tt,complete:Lt}=ti(k,fe,Le);return this._delegate.onAuthStateChanged(ct,Tt,Lt)}onIdTokenChanged(k,fe,Le){const{next:ct,error:Tt,complete:Lt}=ti(k,fe,Le);return this._delegate.onIdTokenChanged(ct,Tt,Lt)}sendSignInLinkToEmail(k,fe){return b.ac(this._delegate,k,fe)}sendPasswordResetEmail(k,fe){return b.a5(this._delegate,k,fe||void 0)}setPersistence(k){var fe=this;return(0,p.Z)(function*(){let Le;switch(function en($,L){kr(Object.values(Fn).includes(L),$,"invalid-persistence-type"),(0,Te.b$)()?kr(L!==Fn.SESSION,$,"unsupported-persistence-type"):(0,Te.UG)()?kr(L===Fn.NONE,$,"unsupported-persistence-type"):Sn()?kr(L===Fn.NONE||L===Fn.LOCAL&&(0,Te.hl)(),$,"unsupported-persistence-type"):kr(L===Fn.NONE||Bn(),$,"unsupported-persistence-type")}(fe._delegate,k),k){case Fn.SESSION:Le=b.a;break;case Fn.LOCAL:Le=(yield b.aE(b.i)._isAvailable())?b.i:b.b;break;case Fn.NONE:Le=b.U;break;default:return b.ax("argument-error",{appName:fe._delegate.name})}return fe._delegate.setPersistence(Le)})()}signInAndRetrieveDataWithCredential(k){return this.signInWithCredential(k)}signInAnonymously(){return cn(this._delegate,b.a0(this._delegate))}signInWithCredential(k){return cn(this._delegate,b.a1(this._delegate,k))}signInWithCustomToken(k){return cn(this._delegate,b.a4(this._delegate,k))}signInWithEmailAndPassword(k,fe){return cn(this._delegate,b.ab(this._delegate,k,fe))}signInWithEmailLink(k,fe){return cn(this._delegate,b.ae(this._delegate,k,fe))}signInWithPhoneNumber(k,fe){return vn(this._delegate,b.s(this._delegate,k,fe))}signInWithPopup(k){var fe=this;return(0,p.Z)(function*(){return ur(Cn(),fe._delegate,"operation-not-supported-in-this-environment"),cn(fe._delegate,b.c(fe._delegate,k,Dt))})()}signInWithRedirect(k){var fe=this;return(0,p.Z)(function*(){return ur(Cn(),fe._delegate,"operation-not-supported-in-this-environment"),yield hn(fe._delegate),b.f(fe._delegate,k,Dt)})()}updateCurrentUser(k){return this._delegate.updateCurrentUser(k)}verifyPasswordResetCode(k){return b.a9(this._delegate,k)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return $.Persistence=Fn,$})();function ti($,L,k){let fe=$;"function"!=typeof $&&({next:fe,error:L,complete:k}=$);const Le=fe;return{next:Tt=>Le(Tt&&Hn.getOrCreate(Tt)),error:L,complete:k}}function Ei($,L){const k=function Zn($,L){const k=Ir();if(!k)return[];const fe=b.aF(ir,$,L);switch(k.getItem(fe)){case Fn.NONE:return[b.U];case Fn.LOCAL:return[b.i,b.a];case Fn.SESSION:return[b.a];default:return[]}}($,L);if(typeof self<"u"&&!k.includes(b.i)&&k.push(b.i),typeof window<"u")for(const fe of[b.b,b.a])k.includes(fe)||k.push(fe);return k.includes(b.U)||k.push(b.U),k}class Dr{constructor(){this.providerId="phone",this._delegate=new b.P(Ae(V.Z.auth()))}static credential(L,k){return b.P.credential(L,k)}verifyPhoneNumber(L,k){return this._delegate.verifyPhoneNumber(L,k)}unwrap(){return this._delegate}}Dr.PHONE_SIGN_IN_METHOD=b.P.PHONE_SIGN_IN_METHOD,Dr.PROVIDER_ID=b.P.PROVIDER_ID;const Ar=b.aC;class Vr{constructor(L,k,fe=V.Z.app()){var Le;Ar(null===(Le=fe.options)||void 0===Le?void 0:Le.apiKey,"invalid-api-key",{appName:fe.name}),this._delegate=new b.R(fe.auth(),L,k),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function re($){$.INTERNAL.registerComponent(new q.wA("auth-compat",L=>{const k=L.getProvider("app-compat").getImmediate(),fe=L.getProvider("auth");return new Hr(k,fe)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:b.A.EMAIL_SIGNIN,PASSWORD_RESET:b.A.PASSWORD_RESET,RECOVER_EMAIL:b.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:b.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:b.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:b.A.VERIFY_EMAIL}},EmailAuthProvider:b.V,FacebookAuthProvider:b.W,GithubAuthProvider:b.Y,GoogleAuthProvider:b.X,OAuthProvider:b.Z,SAMLAuthProvider:b._,PhoneAuthProvider:Dr,PhoneMultiFactorGenerator:b.m,RecaptchaVerifier:Vr,TwitterAuthProvider:b.$,Auth:Hr,AuthCredential:b.L,Error:Te.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),$.registerVersion("@firebase/auth-compat","0.5.1")}(V.Z)},5219:(xt,je,U)=>{U.d(je,{F0:()=>Ee,b4:()=>Ye,jx:()=>rt,m8:()=>it});var p=U(5879),V=U(8645),b=U(6814);let ue=(()=>class ae{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static IN="in";static LESS_THAN="lt";static LESS_THAN_OR_EQUAL_TO="lte";static GREATER_THAN="gt";static GREATER_THAN_OR_EQUAL_TO="gte";static BETWEEN="between";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static DATE_IS="dateIs";static DATE_IS_NOT="dateIsNot";static DATE_BEFORE="dateBefore";static DATE_AFTER="dateAfter"})(),Ee=(()=>{class ae{clickSource=new V.x;clickObservable=this.clickSource.asObservable();add(me){me&&this.clickSource.next(me)}static \u0275fac=function(ge){return new(ge||ae)};static \u0275prov=p.Yz7({token:ae,factory:ae.\u0275fac,providedIn:"root"})}return ae})(),Ye=(()=>{class ae{ripple=!1;inputStyle="outlined";overlayOptions={};filterMatchModeOptions={text:[ue.STARTS_WITH,ue.CONTAINS,ue.NOT_CONTAINS,ue.ENDS_WITH,ue.EQUALS,ue.NOT_EQUALS],numeric:[ue.EQUALS,ue.NOT_EQUALS,ue.LESS_THAN,ue.LESS_THAN_OR_EQUAL_TO,ue.GREATER_THAN,ue.GREATER_THAN_OR_EQUAL_TO],date:[ue.DATE_IS,ue.DATE_IS_NOT,ue.DATE_BEFORE,ue.DATE_AFTER]};translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyFilterMessage:"No results found",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"{page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",previousPageLabel:"Previous Page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left"}};zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100};translationSource=new V.x;translationObserver=this.translationSource.asObservable();getTranslation(me){return this.translation[me]}setTranslation(me){this.translation={...this.translation,...me},this.translationSource.next(this.translation)}static \u0275fac=function(ge){return new(ge||ae)};static \u0275prov=p.Yz7({token:ae,factory:ae.\u0275fac,providedIn:"root"})}return ae})(),rt=(()=>{class ae{template;type;name;constructor(me){this.template=me}getType(){return this.name}static \u0275fac=function(ge){return new(ge||ae)(p.Y36(p.Rgc))};static \u0275dir=p.lG2({type:ae,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}})}return ae})(),it=(()=>{class ae{static \u0275fac=function(ge){return new(ge||ae)};static \u0275mod=p.oAB({type:ae});static \u0275inj=p.cJS({imports:[b.ez]})}return ae})()},4713:(xt,je,U)=>{U.d(je,{s:()=>Te});var p=U(5879),V=U(2332);const b=["*"];let Te=(()=>{class z{label;spin=!1;styleClass;role;ariaLabel;ariaHidden;ngOnInit(){this.getAttributes()}getAttributes(){const q=V.gb.isEmpty(this.label);this.role=q?void 0:"img",this.ariaLabel=q?void 0:this.label,this.ariaHidden=q}getClassNames(){return`p-icon ${this.styleClass?this.styleClass+" ":""}${this.spin?"p-icon-spin":""}`}static \u0275fac=function(ue){return new(ue||z)};static \u0275cmp=p.Xpm({type:z,selectors:[["ng-component"]],hostAttrs:[1,"p-element","p-icon-wrapper"],inputs:{label:"label",spin:"spin",styleClass:"styleClass"},standalone:!0,features:[p.jDz],ngContentSelectors:b,decls:1,vars:0,template:function(ue,de){1&ue&&(p.F$t(),p.Hsn(0))},encapsulation:2,changeDetection:0})}return z})()},336:(xt,je,U)=>{U.d(je,{hJ:()=>he});var p=U(6814),V=U(5879),b=U(5219),Te=U(4713),z=U(2332);let J=(()=>{class at extends Te.s{pathId;ngOnInit(){this.pathId="url(#"+(0,z.Th)()+")"}static \u0275fac=function(){let $e;return function(At){return($e||($e=V.n5z(at)))(At||at)}}();static \u0275cmp=V.Xpm({type:at,selectors:[["SpinnerIcon"]],standalone:!0,features:[V.qOj,V.jDz],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(Gt,At){1&Gt&&(V.O4$(),V.TgZ(0,"svg",0)(1,"g"),V._UZ(2,"path",1),V.qZA(),V.TgZ(3,"defs")(4,"clipPath",2),V._UZ(5,"rect",3),V.qZA()()()),2&Gt&&(V.Tol(At.getClassNames()),V.uIk("aria-label",At.ariaLabel)("aria-hidden",At.ariaHidden)("role",At.role),V.xp6(1),V.uIk("clip-path",At.pathId),V.xp6(3),V.Q6J("id",At.pathId))},encapsulation:2})}return at})();var q=U(4480);let he=(()=>{class at{static \u0275fac=function(Gt){return new(Gt||at)};static \u0275mod=V.oAB({type:at});static \u0275inj=V.cJS({imports:[p.ez,q.T,b.m8,J,b.m8]})}return at})()},4532:(xt,je,U)=>{U.d(je,{d:()=>tt});var p=U(6814),V=U(5879),b=U(5219);let tt=(()=>{class rt{static \u0275fac=function(ut){return new(ut||rt)};static \u0275mod=V.oAB({type:rt});static \u0275inj=V.cJS({imports:[p.ez,b.m8]})}return rt})()},5124:(xt,je,U)=>{U.d(je,{nD:()=>Me});var p=U(6814),V=U(5879),b=U(95),Te=U(5219),z=U(4713);let J=(()=>{class me extends z.s{static \u0275fac=function(){let Ce;return function(he){return(Ce||(Ce=V.n5z(me)))(he||me)}}();static \u0275cmp=V.Xpm({type:me,selectors:[["CheckIcon"]],standalone:!0,features:[V.qOj,V.jDz],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M4.86199 11.5948C4.78717 11.5923 4.71366 11.5745 4.64596 11.5426C4.57826 11.5107 4.51779 11.4652 4.46827 11.4091L0.753985 7.69483C0.683167 7.64891 0.623706 7.58751 0.580092 7.51525C0.536478 7.44299 0.509851 7.36177 0.502221 7.27771C0.49459 7.19366 0.506156 7.10897 0.536046 7.03004C0.565935 6.95111 0.613367 6.88 0.674759 6.82208C0.736151 6.76416 0.8099 6.72095 0.890436 6.69571C0.970973 6.67046 1.05619 6.66385 1.13966 6.67635C1.22313 6.68886 1.30266 6.72017 1.37226 6.76792C1.44186 6.81567 1.4997 6.8786 1.54141 6.95197L4.86199 10.2503L12.6397 2.49483C12.7444 2.42694 12.8689 2.39617 12.9932 2.40745C13.1174 2.41873 13.2343 2.47141 13.3251 2.55705C13.4159 2.64268 13.4753 2.75632 13.4938 2.87973C13.5123 3.00315 13.4888 3.1292 13.4271 3.23768L5.2557 11.4091C5.20618 11.4652 5.14571 11.5107 5.07801 11.5426C5.01031 11.5745 4.9368 11.5923 4.86199 11.5948Z","fill","currentColor"]],template:function(ye,he){1&ye&&(V.O4$(),V.TgZ(0,"svg",0),V._UZ(1,"path",1),V.qZA()),2&ye&&(V.Tol(he.getClassNames()),V.uIk("aria-label",he.ariaLabel)("aria-hidden",he.ariaHidden)("role",he.role))},encapsulation:2})}return me})();var q=U(2332);const ue=["input"];function de(me,ge){if(1&me&&V._UZ(0,"span",10),2&me){const Ce=V.oxw(3);V.Q6J("ngClass",Ce.checkboxIcon),V.uIk("data-pc-section","icon")}}function X(me,ge){1&me&&V._UZ(0,"CheckIcon",11),2&me&&(V.Q6J("styleClass","p-checkbox-icon"),V.uIk("data-pc-section","icon"))}function oe(me,ge){if(1&me&&(V.ynx(0),V.YNc(1,de,1,2,"span",8),V.YNc(2,X,1,2,"CheckIcon",9),V.BQk()),2&me){const Ce=V.oxw(2);V.xp6(1),V.Q6J("ngIf",Ce.checkboxIcon),V.xp6(1),V.Q6J("ngIf",!Ce.checkboxIcon)}}function Ee(me,ge){}function ze(me,ge){1&me&&V.YNc(0,Ee,0,0,"ng-template")}function Ye(me,ge){if(1&me&&(V.TgZ(0,"span",12),V.YNc(1,ze,1,0,null,13),V.qZA()),2&me){const Ce=V.oxw(2);V.uIk("data-pc-section","icon"),V.xp6(1),V.Q6J("ngTemplateOutlet",Ce.checkboxIconTemplate)}}function lt(me,ge){if(1&me&&(V.ynx(0),V.YNc(1,oe,3,2,"ng-container",5),V.YNc(2,Ye,2,2,"span",7),V.BQk()),2&me){const Ce=V.oxw();V.xp6(1),V.Q6J("ngIf",!Ce.checkboxIconTemplate),V.xp6(1),V.Q6J("ngIf",Ce.checkboxIconTemplate)}}const tt=function(me,ge,Ce){return{"p-checkbox-label":!0,"p-checkbox-label-active":me,"p-disabled":ge,"p-checkbox-label-focus":Ce}};function rt(me,ge){if(1&me){const Ce=V.EpF();V.TgZ(0,"label",14),V.NdJ("click",function(he){V.CHM(Ce);const at=V.oxw();return V.KtG(at.onClick(he))}),V._uU(1),V.qZA()}if(2&me){const Ce=V.oxw();V.Tol(Ce.labelStyleClass),V.Q6J("ngClass",V.kEZ(6,tt,Ce.checked(),Ce.disabled,Ce.focused)),V.uIk("for",Ce.inputId)("data-pc-section","label"),V.xp6(1),V.hij(" ",Ce.label,"")}}const it=function(me,ge,Ce){return{"p-checkbox p-component":!0,"p-checkbox-checked":me,"p-checkbox-disabled":ge,"p-checkbox-focused":Ce}},wt=function(me,ge,Ce){return{"p-highlight":me,"p-disabled":ge,"p-focus":Ce}},ut={provide:b.JU,useExisting:(0,V.Gpc)(()=>ae),multi:!0};let ae=(()=>{class me{cd;value;name;disabled;binary;label;ariaLabelledBy;ariaLabel;tabindex;inputId;style;styleClass;labelStyleClass;formControl;checkboxIcon;readonly;required;trueValue=!0;falseValue=!1;onChange=new V.vpe;inputViewChild;templates;checkboxIconTemplate;model;onModelChange=()=>{};onModelTouched=()=>{};focused=!1;constructor(Ce){this.cd=Ce}ngAfterContentInit(){this.templates.forEach(Ce=>{"icon"===Ce.getType()&&(this.checkboxIconTemplate=Ce.template)})}onClick(Ce){if(!this.disabled&&!this.readonly){let ye;this.inputViewChild.nativeElement.focus(),this.binary?(ye=this.checked()?this.falseValue:this.trueValue,this.model=ye,this.onModelChange(ye)):(ye=this.checked()?this.model.filter(he=>!q.gb.equals(he,this.value)):this.model?[...this.model,this.value]:[this.value],this.onModelChange(ye),this.model=ye,this.formControl&&this.formControl.setValue(ye)),this.onChange.emit({checked:ye,originalEvent:Ce})}}onFocus(){this.focused=!0}onBlur(){this.focused=!1,this.onModelTouched()}writeValue(Ce){this.model=Ce,this.cd.markForCheck()}registerOnChange(Ce){this.onModelChange=Ce}registerOnTouched(Ce){this.onModelTouched=Ce}setDisabledState(Ce){this.disabled=Ce,this.cd.markForCheck()}checked(){return this.binary?this.model===this.trueValue:q.gb.contains(this.value,this.model)}static \u0275fac=function(ye){return new(ye||me)(V.Y36(V.sBO))};static \u0275cmp=V.Xpm({type:me,selectors:[["p-checkbox"]],contentQueries:function(ye,he,at){if(1&ye&&V.Suo(at,Te.jx,4),2&ye){let Ct;V.iGM(Ct=V.CRH())&&(he.templates=Ct)}},viewQuery:function(ye,he){if(1&ye&&V.Gf(ue,5),2&ye){let at;V.iGM(at=V.CRH())&&(he.inputViewChild=at.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",name:"name",disabled:"disabled",binary:"binary",label:"label",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",tabindex:"tabindex",inputId:"inputId",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass",formControl:"formControl",checkboxIcon:"checkboxIcon",readonly:"readonly",required:"required",trueValue:"trueValue",falseValue:"falseValue"},outputs:{onChange:"onChange"},features:[V._Bn([ut])],decls:7,vars:35,consts:[[3,"ngStyle","ngClass","click"],[1,"p-hidden-accessible"],["type","checkbox",3,"value","checked","disabled","readonly","focus","blur"],["input",""],[1,"p-checkbox-box",3,"ngClass"],[4,"ngIf"],[3,"class","ngClass","click",4,"ngIf"],["class","p-checkbox-icon",4,"ngIf"],["class","p-checkbox-icon",3,"ngClass",4,"ngIf"],[3,"styleClass",4,"ngIf"],[1,"p-checkbox-icon",3,"ngClass"],[3,"styleClass"],[1,"p-checkbox-icon"],[4,"ngTemplateOutlet"],[3,"ngClass","click"]],template:function(ye,he){1&ye&&(V.TgZ(0,"div",0),V.NdJ("click",function(Ct){return he.onClick(Ct)}),V.TgZ(1,"div",1)(2,"input",2,3),V.NdJ("focus",function(){return he.onFocus()})("blur",function(){return he.onBlur()}),V.qZA()(),V.TgZ(4,"div",4),V.YNc(5,lt,3,2,"ng-container",5),V.qZA()(),V.YNc(6,rt,2,10,"label",6)),2&ye&&(V.Tol(he.styleClass),V.Q6J("ngStyle",he.style)("ngClass",V.kEZ(27,it,he.checked(),he.disabled,he.focused)),V.uIk("data-pc-name","checkbox")("data-pc-section","root"),V.xp6(1),V.uIk("data-pc-section","hiddenInputWrapper")("data-p-hidden-accessible",!0),V.xp6(1),V.Q6J("value",he.value)("checked",he.checked())("disabled",he.disabled)("readonly",he.readonly),V.uIk("id",he.inputId)("name",he.name)("tabindex",he.tabindex)("required",he.required)("aria-labelledby",he.ariaLabelledBy)("aria-label",he.ariaLabel)("aria-checked",he.checked())("data-pc-section","hiddenInput"),V.xp6(2),V.Q6J("ngClass",V.kEZ(31,wt,he.checked(),he.disabled,he.focused)),V.uIk("data-p-highlight",he.checked())("data-p-disabled",he.disabled)("data-p-focused",he.focused)("data-pc-section","input"),V.xp6(1),V.Q6J("ngIf",he.checked()),V.xp6(1),V.Q6J("ngIf",he.label))},dependencies:function(){return[p.mk,p.O5,p.tP,p.PC,J]},styles:["@layer primeng{.p-checkbox{display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;vertical-align:bottom;position:relative}.p-checkbox-disabled{cursor:default!important;pointer-events:none}.p-checkbox-box{display:flex;justify-content:center;align-items:center}p-checkbox{display:inline-flex;vertical-align:bottom;align-items:center}.p-checkbox-label{line-height:1}}\n"],encapsulation:2,changeDetection:0})}return me})(),Me=(()=>{class me{static \u0275fac=function(ye){return new(ye||me)};static \u0275mod=V.oAB({type:me});static \u0275inj=V.cJS({imports:[p.ez,J,Te.m8]})}return me})()},2076:(xt,je,U)=>{U.d(je,{V:()=>V,p:()=>p});let p=(()=>{class b{static zindex=1e3;static calculatedScrollbarWidth=null;static calculatedScrollbarHeight=null;static browser;static addClass(z,J){z&&J&&(z.classList?z.classList.add(J):z.className+=" "+J)}static addMultipleClasses(z,J){if(z&&J)if(z.classList){let q=J.trim().split(" ");for(let ue=0;ue<q.length;ue++)z.classList.add(q[ue])}else{let q=J.split(" ");for(let ue=0;ue<q.length;ue++)z.className+=" "+q[ue]}}static removeClass(z,J){z&&J&&(z.classList?z.classList.remove(J):z.className=z.className.replace(new RegExp("(^|\\b)"+J.split(" ").join("|")+"(\\b|$)","gi")," "))}static removeMultipleClasses(z,J){z&&J&&[J].flat().filter(Boolean).forEach(q=>q.split(" ").forEach(ue=>this.removeClass(z,ue)))}static hasClass(z,J){return!(!z||!J)&&(z.classList?z.classList.contains(J):new RegExp("(^| )"+J+"( |$)","gi").test(z.className))}static siblings(z){return Array.prototype.filter.call(z.parentNode.children,function(J){return J!==z})}static find(z,J){return Array.from(z.querySelectorAll(J))}static findSingle(z,J){return this.isElement(z)?z.querySelector(J):null}static index(z){let J=z.parentNode.childNodes,q=0;for(var ue=0;ue<J.length;ue++){if(J[ue]==z)return q;1==J[ue].nodeType&&q++}return-1}static indexWithinGroup(z,J){let q=z.parentNode?z.parentNode.childNodes:[],ue=0;for(var de=0;de<q.length;de++){if(q[de]==z)return ue;q[de].attributes&&q[de].attributes[J]&&1==q[de].nodeType&&ue++}return-1}static appendOverlay(z,J,q="self"){"self"!==q&&z&&J&&this.appendChild(z,J)}static alignOverlay(z,J,q="self",ue=!0){z&&J&&(ue&&(z.style.minWidth=`${b.getOuterWidth(J)}px`),"self"===q?this.relativePosition(z,J):this.absolutePosition(z,J))}static relativePosition(z,J){const q=ut=>{if(ut)return"relative"===getComputedStyle(ut).getPropertyValue("position")?ut:q(ut.parentElement)},ue=z.offsetParent?{width:z.offsetWidth,height:z.offsetHeight}:this.getHiddenElementDimensions(z),de=J.offsetHeight,X=J.getBoundingClientRect(),oe=this.getWindowScrollTop(),Ee=this.getWindowScrollLeft(),ze=this.getViewport(),lt=q(z)?.getBoundingClientRect()||{top:-1*oe,left:-1*Ee};let tt,rt;X.top+de+ue.height>ze.height?(tt=X.top-lt.top-ue.height,z.style.transformOrigin="bottom",X.top+tt<0&&(tt=-1*X.top)):(tt=de+X.top-lt.top,z.style.transformOrigin="top");const it=X.left+ue.width-ze.width;rt=ue.width>ze.width?-1*(X.left-lt.left):it>0?X.left-lt.left-it:X.left-lt.left,z.style.top=tt+"px",z.style.left=rt+"px"}static absolutePosition(z,J){const q=z.offsetParent?{width:z.offsetWidth,height:z.offsetHeight}:this.getHiddenElementDimensions(z),ue=q.height,de=q.width,X=J.offsetHeight,oe=J.offsetWidth,Ee=J.getBoundingClientRect(),ze=this.getWindowScrollTop(),Ye=this.getWindowScrollLeft(),lt=this.getViewport();let tt,rt;Ee.top+X+ue>lt.height?(tt=Ee.top+ze-ue,z.style.transformOrigin="bottom",tt<0&&(tt=ze)):(tt=X+Ee.top+ze,z.style.transformOrigin="top"),rt=Ee.left+de>lt.width?Math.max(0,Ee.left+Ye+oe-de):Ee.left+Ye,z.style.top=tt+"px",z.style.left=rt+"px"}static getParents(z,J=[]){return null===z.parentNode?J:this.getParents(z.parentNode,J.concat([z.parentNode]))}static getScrollableParents(z){let J=[];if(z){let q=this.getParents(z);const ue=/(auto|scroll)/,de=X=>{let oe=window.getComputedStyle(X,null);return ue.test(oe.getPropertyValue("overflow"))||ue.test(oe.getPropertyValue("overflowX"))||ue.test(oe.getPropertyValue("overflowY"))};for(let X of q){let oe=1===X.nodeType&&X.dataset.scrollselectors;if(oe){let Ee=oe.split(",");for(let ze of Ee){let Ye=this.findSingle(X,ze);Ye&&de(Ye)&&J.push(Ye)}}9!==X.nodeType&&de(X)&&J.push(X)}}return J}static getHiddenElementOuterHeight(z){z.style.visibility="hidden",z.style.display="block";let J=z.offsetHeight;return z.style.display="none",z.style.visibility="visible",J}static getHiddenElementOuterWidth(z){z.style.visibility="hidden",z.style.display="block";let J=z.offsetWidth;return z.style.display="none",z.style.visibility="visible",J}static getHiddenElementDimensions(z){let J={};return z.style.visibility="hidden",z.style.display="block",J.width=z.offsetWidth,J.height=z.offsetHeight,z.style.display="none",z.style.visibility="visible",J}static scrollInView(z,J){let q=getComputedStyle(z).getPropertyValue("borderTopWidth"),ue=q?parseFloat(q):0,de=getComputedStyle(z).getPropertyValue("paddingTop"),X=de?parseFloat(de):0,oe=z.getBoundingClientRect(),ze=J.getBoundingClientRect().top+document.body.scrollTop-(oe.top+document.body.scrollTop)-ue-X,Ye=z.scrollTop,lt=z.clientHeight,tt=this.getOuterHeight(J);ze<0?z.scrollTop=Ye+ze:ze+tt>lt&&(z.scrollTop=Ye+ze-lt+tt)}static fadeIn(z,J){z.style.opacity=0;let q=+new Date,ue=0,de=function(){ue=+z.style.opacity.replace(",",".")+((new Date).getTime()-q)/J,z.style.opacity=ue,q=+new Date,+ue<1&&(window.requestAnimationFrame&&requestAnimationFrame(de)||setTimeout(de,16))};de()}static fadeOut(z,J){var q=1,X=50/J;let oe=setInterval(()=>{(q-=X)<=0&&(q=0,clearInterval(oe)),z.style.opacity=q},50)}static getWindowScrollTop(){let z=document.documentElement;return(window.pageYOffset||z.scrollTop)-(z.clientTop||0)}static getWindowScrollLeft(){let z=document.documentElement;return(window.pageXOffset||z.scrollLeft)-(z.clientLeft||0)}static matches(z,J){var q=Element.prototype;return(q.matches||q.webkitMatchesSelector||q.mozMatchesSelector||q.msMatchesSelector||function(de){return-1!==[].indexOf.call(document.querySelectorAll(de),this)}).call(z,J)}static getOuterWidth(z,J){let q=z.offsetWidth;if(J){let ue=getComputedStyle(z);q+=parseFloat(ue.marginLeft)+parseFloat(ue.marginRight)}return q}static getHorizontalPadding(z){let J=getComputedStyle(z);return parseFloat(J.paddingLeft)+parseFloat(J.paddingRight)}static getHorizontalMargin(z){let J=getComputedStyle(z);return parseFloat(J.marginLeft)+parseFloat(J.marginRight)}static innerWidth(z){let J=z.offsetWidth,q=getComputedStyle(z);return J+=parseFloat(q.paddingLeft)+parseFloat(q.paddingRight),J}static width(z){let J=z.offsetWidth,q=getComputedStyle(z);return J-=parseFloat(q.paddingLeft)+parseFloat(q.paddingRight),J}static getInnerHeight(z){let J=z.offsetHeight,q=getComputedStyle(z);return J+=parseFloat(q.paddingTop)+parseFloat(q.paddingBottom),J}static getOuterHeight(z,J){let q=z.offsetHeight;if(J){let ue=getComputedStyle(z);q+=parseFloat(ue.marginTop)+parseFloat(ue.marginBottom)}return q}static getHeight(z){let J=z.offsetHeight,q=getComputedStyle(z);return J-=parseFloat(q.paddingTop)+parseFloat(q.paddingBottom)+parseFloat(q.borderTopWidth)+parseFloat(q.borderBottomWidth),J}static getWidth(z){let J=z.offsetWidth,q=getComputedStyle(z);return J-=parseFloat(q.paddingLeft)+parseFloat(q.paddingRight)+parseFloat(q.borderLeftWidth)+parseFloat(q.borderRightWidth),J}static getViewport(){let z=window,J=document,q=J.documentElement,ue=J.getElementsByTagName("body")[0];return{width:z.innerWidth||q.clientWidth||ue.clientWidth,height:z.innerHeight||q.clientHeight||ue.clientHeight}}static getOffset(z){var J=z.getBoundingClientRect();return{top:J.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:J.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(z,J){let q=z.parentNode;if(!q)throw"Can't replace element";return q.replaceChild(J,z)}static getUserAgent(){if(navigator&&this.isClient())return navigator.userAgent}static isIE(){var z=window.navigator.userAgent;return z.indexOf("MSIE ")>0||(z.indexOf("Trident/")>0?(z.indexOf("rv:"),!0):z.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(z,J){if(this.isElement(J))J.appendChild(z);else{if(!(J&&J.el&&J.el.nativeElement))throw"Cannot append "+J+" to "+z;J.el.nativeElement.appendChild(z)}}static removeChild(z,J){if(this.isElement(J))J.removeChild(z);else{if(!J.el||!J.el.nativeElement)throw"Cannot remove "+z+" from "+J;J.el.nativeElement.removeChild(z)}}static removeElement(z){"remove"in Element.prototype?z.remove():z.parentNode.removeChild(z)}static isElement(z){return"object"==typeof HTMLElement?z instanceof HTMLElement:z&&"object"==typeof z&&null!==z&&1===z.nodeType&&"string"==typeof z.nodeName}static calculateScrollbarWidth(z){if(z){let J=getComputedStyle(z);return z.offsetWidth-z.clientWidth-parseFloat(J.borderLeftWidth)-parseFloat(J.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let J=document.createElement("div");J.className="p-scrollbar-measure",document.body.appendChild(J);let q=J.offsetWidth-J.clientWidth;return document.body.removeChild(J),this.calculatedScrollbarWidth=q,q}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let z=document.createElement("div");z.className="p-scrollbar-measure",document.body.appendChild(z);let J=z.offsetHeight-z.clientHeight;return document.body.removeChild(z),this.calculatedScrollbarWidth=J,J}static invokeElementMethod(z,J,q){z[J].apply(z,q)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let z=this.resolveUserAgent();this.browser={},z.browser&&(this.browser[z.browser]=!0,this.browser.version=z.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let z=navigator.userAgent.toLowerCase(),J=/(chrome)[ \/]([\w.]+)/.exec(z)||/(webkit)[ \/]([\w.]+)/.exec(z)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(z)||/(msie) ([\w.]+)/.exec(z)||z.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(z)||[];return{browser:J[1]||"",version:J[2]||"0"}}static isInteger(z){return Number.isInteger?Number.isInteger(z):"number"==typeof z&&isFinite(z)&&Math.floor(z)===z}static isHidden(z){return!z||null===z.offsetParent}static isVisible(z){return z&&null!=z.offsetParent}static isExist(z){return null!==z&&typeof z<"u"&&z.nodeName&&z.parentNode}static focus(z,J){z&&document.activeElement!==z&&z.focus(J)}static getFocusableElements(z,J=""){let q=this.find(z,`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${J},\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${J},\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${J},\n                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${J},\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${J},\n                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${J},\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${J}`),ue=[];for(let de of q)"none"!=getComputedStyle(de).display&&"hidden"!=getComputedStyle(de).visibility&&ue.push(de);return ue}static getFirstFocusableElement(z,J){const q=this.getFocusableElements(z,J);return q.length>0?q[0]:null}static getLastFocusableElement(z,J){const q=this.getFocusableElements(z,J);return q.length>0?q[q.length-1]:null}static getNextFocusableElement(z,J=!1){const q=b.getFocusableElements(z);let ue=0;if(q&&q.length>0){const de=q.indexOf(q[0].ownerDocument.activeElement);J?ue=-1==de||0===de?q.length-1:de-1:-1!=de&&de!==q.length-1&&(ue=de+1)}return q[ue]}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}static getSelection(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null}static getTargetElement(z,J){if(!z)return null;switch(z){case"document":return document;case"window":return window;case"@next":return J?.nextElementSibling;case"@prev":return J?.previousElementSibling;case"@parent":return J?.parentElement;case"@grandparent":return J?.parentElement.parentElement;default:const q=typeof z;if("string"===q)return document.querySelector(z);if("object"===q&&z.hasOwnProperty("nativeElement"))return this.isExist(z.nativeElement)?z.nativeElement:void 0;const de=(X=z)&&X.constructor&&X.call&&X.apply?z():z;return de&&9===de.nodeType||this.isExist(de)?de:null}var X}static isClient(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}static getAttribute(z,J){if(z){const q=z.getAttribute(J);return isNaN(q)?"true"===q||"false"===q?"true"===q:q:+q}}static calculateBodyScrollbarWidth(){return window.innerWidth-document.documentElement.offsetWidth}static blockBodyScroll(z="p-overflow-hidden"){document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,z)}static unblockBodyScroll(z="p-overflow-hidden"){document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,z)}}return b})();class V{element;listener;scrollableParents;constructor(Te,z=(()=>{})){this.element=Te,this.listener=z}bindScrollListener(){this.scrollableParents=p.getScrollableParents(this.element);for(let Te=0;Te<this.scrollableParents.length;Te++)this.scrollableParents[Te].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let Te=0;Te<this.scrollableParents.length;Te++)this.scrollableParents[Te].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}},3714:(xt,je,U)=>{U.d(je,{j:()=>z,o:()=>Te});var p=U(5879),V=U(6814),b=U(95);let Te=(()=>{class J{el;ngModel;cd;filled;constructor(ue,de,X){this.el=ue,this.ngModel=de,this.cd=X}ngAfterViewInit(){this.updateFilledState(),this.cd.detectChanges()}ngDoCheck(){this.updateFilledState()}onInput(){this.updateFilledState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model}static \u0275fac=function(de){return new(de||J)(p.Y36(p.SBq),p.Y36(b.On,8),p.Y36(p.sBO))};static \u0275dir=p.lG2({type:J,selectors:[["","pInputText",""]],hostAttrs:[1,"p-inputtext","p-component","p-element"],hostVars:2,hostBindings:function(de,X){1&de&&p.NdJ("input",function(Ee){return X.onInput(Ee)}),2&de&&p.ekj("p-filled",X.filled)}})}return J})(),z=(()=>{class J{static \u0275fac=function(de){return new(de||J)};static \u0275mod=p.oAB({type:J});static \u0275inj=p.cJS({imports:[V.ez]})}return J})()},8516:(xt,je,U)=>{U.d(je,{W6:()=>Ir});var p=U(6814),V=U(5879),b=U(3781),Te=U(5219),z=U(4713);let J=(()=>{class Je extends z.s{static \u0275fac=function(){let Ae;return function(Ke){return(Ae||(Ae=V.n5z(Je)))(Ke||Je)}}();static \u0275cmp=V.Xpm({type:Je,selectors:[["AngleDownIcon"]],standalone:!0,features:[V.qOj,V.jDz],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M3.58659 4.5007C3.68513 4.50023 3.78277 4.51945 3.87379 4.55723C3.9648 4.59501 4.04735 4.65058 4.11659 4.7207L7.11659 7.7207L10.1166 4.7207C10.2619 4.65055 10.4259 4.62911 10.5843 4.65956C10.7427 4.69002 10.8871 4.77074 10.996 4.88976C11.1049 5.00877 11.1726 5.15973 11.1889 5.32022C11.2052 5.48072 11.1693 5.6422 11.0866 5.7807L7.58659 9.2807C7.44597 9.42115 7.25534 9.50004 7.05659 9.50004C6.85784 9.50004 6.66722 9.42115 6.52659 9.2807L3.02659 5.7807C2.88614 5.64007 2.80725 5.44945 2.80725 5.2507C2.80725 5.05195 2.88614 4.86132 3.02659 4.7207C3.09932 4.64685 3.18675 4.58911 3.28322 4.55121C3.37969 4.51331 3.48305 4.4961 3.58659 4.5007Z","fill","currentColor"]],template:function(Ge,Ke){1&Ge&&(V.O4$(),V.TgZ(0,"svg",0),V._UZ(1,"path",1),V.qZA()),2&Ge&&(V.Tol(Ke.getClassNames()),V.uIk("aria-label",Ke.ariaLabel)("aria-hidden",Ke.ariaHidden)("role",Ke.role))},encapsulation:2})}return Je})(),q=(()=>{class Je extends z.s{static \u0275fac=function(){let Ae;return function(Ke){return(Ae||(Ae=V.n5z(Je)))(Ke||Je)}}();static \u0275cmp=V.Xpm({type:Je,selectors:[["AngleRightIcon"]],standalone:!0,features:[V.qOj,V.jDz],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M5.25 11.1728C5.14929 11.1694 5.05033 11.1455 4.9592 11.1025C4.86806 11.0595 4.78666 10.9984 4.72 10.9228C4.57955 10.7822 4.50066 10.5916 4.50066 10.3928C4.50066 10.1941 4.57955 10.0035 4.72 9.86283L7.72 6.86283L4.72 3.86283C4.66067 3.71882 4.64765 3.55991 4.68275 3.40816C4.71785 3.25642 4.79932 3.11936 4.91585 3.01602C5.03238 2.91268 5.17819 2.84819 5.33305 2.83149C5.4879 2.81479 5.64411 2.84671 5.78 2.92283L9.28 6.42283C9.42045 6.56346 9.49934 6.75408 9.49934 6.95283C9.49934 7.15158 9.42045 7.34221 9.28 7.48283L5.78 10.9228C5.71333 10.9984 5.63193 11.0595 5.5408 11.1025C5.44966 11.1455 5.35071 11.1694 5.25 11.1728Z","fill","currentColor"]],template:function(Ge,Ke){1&Ge&&(V.O4$(),V.TgZ(0,"svg",0),V._UZ(1,"path",1),V.qZA()),2&Ge&&(V.Tol(Ke.getClassNames()),V.uIk("aria-label",Ke.ariaLabel)("aria-hidden",Ke.ariaHidden)("role",Ke.role))},encapsulation:2})}return Je})(),ue=(()=>{class Je extends z.s{static \u0275fac=function(){let Ae;return function(Ke){return(Ae||(Ae=V.n5z(Je)))(Ke||Je)}}();static \u0275cmp=V.Xpm({type:Je,selectors:[["BarsIcon"]],standalone:!0,features:[V.qOj,V.jDz],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M13.3226 3.6129H0.677419C0.497757 3.6129 0.325452 3.54152 0.198411 3.41448C0.0713707 3.28744 0 3.11514 0 2.93548C0 2.75581 0.0713707 2.58351 0.198411 2.45647C0.325452 2.32943 0.497757 2.25806 0.677419 2.25806H13.3226C13.5022 2.25806 13.6745 2.32943 13.8016 2.45647C13.9286 2.58351 14 2.75581 14 2.93548C14 3.11514 13.9286 3.28744 13.8016 3.41448C13.6745 3.54152 13.5022 3.6129 13.3226 3.6129ZM13.3226 7.67741H0.677419C0.497757 7.67741 0.325452 7.60604 0.198411 7.479C0.0713707 7.35196 0 7.17965 0 6.99999C0 6.82033 0.0713707 6.64802 0.198411 6.52098C0.325452 6.39394 0.497757 6.32257 0.677419 6.32257H13.3226C13.5022 6.32257 13.6745 6.39394 13.8016 6.52098C13.9286 6.64802 14 6.82033 14 6.99999C14 7.17965 13.9286 7.35196 13.8016 7.479C13.6745 7.60604 13.5022 7.67741 13.3226 7.67741ZM0.677419 11.7419H13.3226C13.5022 11.7419 13.6745 11.6706 13.8016 11.5435C13.9286 11.4165 14 11.2442 14 11.0645C14 10.8848 13.9286 10.7125 13.8016 10.5855C13.6745 10.4585 13.5022 10.3871 13.3226 10.3871H0.677419C0.497757 10.3871 0.325452 10.4585 0.198411 10.5855C0.0713707 10.7125 0 10.8848 0 11.0645C0 11.2442 0.0713707 11.4165 0.198411 11.5435C0.325452 11.6706 0.497757 11.7419 0.677419 11.7419Z","fill","currentColor"]],template:function(Ge,Ke){1&Ge&&(V.O4$(),V.TgZ(0,"svg",0),V._UZ(1,"path",1),V.qZA()),2&Ge&&(V.Tol(Ke.getClassNames()),V.uIk("aria-label",Ke.ariaLabel)("aria-hidden",Ke.ariaHidden)("role",Ke.role))},encapsulation:2})}return Je})();var de=U(4480);let oe=(()=>{class Je{static \u0275fac=function(Ge){return new(Ge||Je)};static \u0275mod=V.oAB({type:Je});static \u0275inj=V.cJS({imports:[p.ez]})}return Je})(),Ir=(()=>{class Je{static \u0275fac=function(Ge){return new(Ge||Je)};static \u0275mod=V.oAB({type:Je});static \u0275inj=V.cJS({imports:[p.ez,b.Bz,de.T,oe,Te.m8,ue,J,q,b.Bz,oe,Te.m8]})}return Je})()},734:(xt,je,U)=>{U.d(je,{T:()=>ut,y:()=>ae});var p=U(6825),V=U(6814),b=U(5879),Te=U(5219),z=U(2076),J=U(4713);let q=(()=>{class Me extends J.s{static \u0275fac=function(){let ge;return function(ye){return(ge||(ge=b.n5z(Me)))(ye||Me)}}();static \u0275cmp=b.Xpm({type:Me,selectors:[["TimesIcon"]],standalone:!0,features:[b.qOj,b.jDz],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z","fill","currentColor"]],template:function(Ce,ye){1&Ce&&(b.O4$(),b.TgZ(0,"svg",0),b._UZ(1,"path",1),b.qZA()),2&Ce&&(b.Tol(ye.getClassNames()),b.uIk("aria-label",ye.ariaLabel)("aria-hidden",ye.ariaHidden)("role",ye.role))},encapsulation:2})}return Me})();var ue=U(4480),de=U(2332);function X(Me,me){1&Me&&b.GkF(0)}function oe(Me,me){1&Me&&b._UZ(0,"TimesIcon",8),2&Me&&b.Q6J("styleClass","p-overlaypanel-close-icon")}function Ee(Me,me){}function ze(Me,me){1&Me&&b.YNc(0,Ee,0,0,"ng-template")}function Ye(Me,me){if(1&Me&&(b.TgZ(0,"span",9),b.YNc(1,ze,1,0,null,3),b.qZA()),2&Me){const ge=b.oxw(3);b.xp6(1),b.Q6J("ngTemplateOutlet",ge.closeIconTemplate)}}function lt(Me,me){if(1&Me){const ge=b.EpF();b.TgZ(0,"button",5),b.NdJ("click",function(ye){b.CHM(ge);const he=b.oxw(2);return b.KtG(he.onCloseClick(ye))})("keydown.enter",function(){b.CHM(ge);const ye=b.oxw(2);return b.KtG(ye.hide())}),b.YNc(1,oe,1,1,"TimesIcon",6),b.YNc(2,Ye,2,1,"span",7),b.qZA()}if(2&Me){const ge=b.oxw(2);b.uIk("aria-label",ge.ariaCloseLabel),b.xp6(1),b.Q6J("ngIf",!ge.closeIconTemplate),b.xp6(1),b.Q6J("ngIf",ge.closeIconTemplate)}}const tt=function(Me,me){return{showTransitionParams:Me,hideTransitionParams:me}},rt=function(Me,me){return{value:Me,params:me}};function it(Me,me){if(1&Me){const ge=b.EpF();b.TgZ(0,"div",1),b.NdJ("click",function(ye){b.CHM(ge);const he=b.oxw();return b.KtG(he.onOverlayClick(ye))})("@animation.start",function(ye){b.CHM(ge);const he=b.oxw();return b.KtG(he.onAnimationStart(ye))})("@animation.done",function(ye){b.CHM(ge);const he=b.oxw();return b.KtG(he.onAnimationEnd(ye))}),b.TgZ(1,"div",2),b.NdJ("click",function(){b.CHM(ge);const ye=b.oxw();return b.KtG(ye.onContentClick())})("mousedown",function(){b.CHM(ge);const ye=b.oxw();return b.KtG(ye.onContentClick())}),b.Hsn(2),b.YNc(3,X,1,0,"ng-container",3),b.qZA(),b.YNc(4,lt,3,3,"button",4),b.qZA()}if(2&Me){const ge=b.oxw();b.Tol(ge.styleClass),b.Q6J("ngClass","p-overlaypanel p-component")("ngStyle",ge.style)("@animation",b.WLB(11,rt,ge.overlayVisible?"open":"close",b.WLB(8,tt,ge.showTransitionOptions,ge.hideTransitionOptions))),b.uIk("aria-modal",ge.overlayVisible),b.xp6(3),b.Q6J("ngTemplateOutlet",ge.contentTemplate),b.xp6(1),b.Q6J("ngIf",ge.showCloseIcon)}}const wt=["*"];let ut=(()=>{class Me{document;platformId;el;renderer;cd;zone;config;overlayService;dismissable=!0;showCloseIcon;style;styleClass;appendTo="body";autoZIndex=!0;ariaCloseLabel;baseZIndex=0;focusOnShow=!0;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";onShow=new b.vpe;onHide=new b.vpe;templates;container;overlayVisible=!1;render=!1;isOverlayAnimationInProgress=!1;selfClick=!1;documentClickListener;target;willHide;scrollHandler;documentResizeListener;contentTemplate;closeIconTemplate;destroyCallback;overlayEventListener;overlaySubscription;constructor(ge,Ce,ye,he,at,Ct,$e,Gt){this.document=ge,this.platformId=Ce,this.el=ye,this.renderer=he,this.cd=at,this.zone=Ct,this.config=$e,this.overlayService=Gt}ngAfterContentInit(){this.templates?.forEach(ge=>{switch(ge.getType()){case"content":default:this.contentTemplate=ge.template;break;case"closeicon":this.closeIconTemplate=ge.template}this.cd.markForCheck()})}bindDocumentClickListener(){if((0,V.NF)(this.platformId)&&!this.documentClickListener&&this.dismissable){let ge=z.p.isIOS()?"touchstart":"click";this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:this.document,ge,ye=>{!this.container?.contains(ye.target)&&this.target!==ye.target&&!this.target.contains(ye.target)&&this.hide(),this.cd.markForCheck()})}}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null,this.selfClick=!1)}toggle(ge,Ce){this.isOverlayAnimationInProgress||(this.overlayVisible?(this.hasTargetChanged(ge,Ce)&&(this.destroyCallback=()=>{this.show(null,Ce||ge.currentTarget||ge.target)}),this.hide()):this.show(ge,Ce))}show(ge,Ce){Ce&&ge&&ge.stopPropagation(),!this.isOverlayAnimationInProgress&&(this.target=Ce||ge.currentTarget||ge.target,this.overlayVisible=!0,this.render=!0,this.cd.markForCheck())}onOverlayClick(ge){this.overlayService.add({originalEvent:ge,target:this.el.nativeElement}),this.selfClick=!0}onContentClick(){this.selfClick=!0}hasTargetChanged(ge,Ce){return null!=this.target&&this.target!==(Ce||ge.currentTarget||ge.target)}appendContainer(){this.appendTo&&("body"===this.appendTo?this.renderer.appendChild(this.document.body,this.container):z.p.appendChild(this.container,this.appendTo))}restoreAppend(){this.container&&this.appendTo&&this.renderer.appendChild(this.el.nativeElement,this.container)}align(){this.autoZIndex&&de.P9.set("overlay",this.container,this.baseZIndex+this.config.zIndex.overlay),z.p.absolutePosition(this.container,this.target);const ge=z.p.getOffset(this.container),Ce=z.p.getOffset(this.target),ye=this.document.defaultView?.getComputedStyle(this.container).getPropertyValue("border-radius");let he=0;ge.left<Ce.left&&(he=Ce.left-ge.left-2*parseFloat(ye)),this.container?.style.setProperty("--overlayArrowLeft",`${he}px`),ge.top<Ce.top&&(z.p.addClass(this.container,"p-overlaypanel-flipped"),this.showCloseIcon&&this.renderer.setStyle(this.container,"margin-top","-30px"))}onAnimationStart(ge){"open"===ge.toState&&(this.container=ge.element,this.appendContainer(),this.align(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.focusOnShow&&this.focus(),this.overlayEventListener=Ce=>{this.container&&this.container.contains(Ce.target)&&(this.selfClick=!0)},this.overlaySubscription=this.overlayService.clickObservable.subscribe(this.overlayEventListener),this.onShow.emit(null)),this.isOverlayAnimationInProgress=!0}onAnimationEnd(ge){switch(ge.toState){case"void":this.destroyCallback&&(this.destroyCallback(),this.destroyCallback=null),this.overlaySubscription&&this.overlaySubscription.unsubscribe();break;case"close":this.autoZIndex&&de.P9.clear(this.container),this.overlaySubscription&&this.overlaySubscription.unsubscribe(),this.onContainerDestroy(),this.onHide.emit({}),this.render=!1}this.isOverlayAnimationInProgress=!1}focus(){let ge=z.p.findSingle(this.container,"[autofocus]");ge&&this.zone.runOutsideAngular(()=>{setTimeout(()=>ge.focus(),5)})}hide(){this.overlayVisible=!1,this.cd.markForCheck()}onCloseClick(ge){this.hide(),ge.preventDefault()}onEscapeKeydown(ge){this.hide()}onWindowResize(){this.overlayVisible&&!z.p.isTouchDevice()&&this.hide()}bindDocumentResizeListener(){(0,V.NF)(this.platformId)&&!this.documentResizeListener&&(this.documentResizeListener=this.renderer.listen(this.document.defaultView,"resize",this.onWindowResize.bind(this)))}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindScrollListener(){(0,V.NF)(this.platformId)&&(this.scrollHandler||(this.scrollHandler=new z.V(this.target,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener())}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}onContainerDestroy(){this.cd.destroyed||(this.target=null),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener()}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.container&&this.autoZIndex&&de.P9.clear(this.container),this.cd.destroyed||(this.target=null),this.destroyCallback=null,this.container&&(this.restoreAppend(),this.onContainerDestroy()),this.overlaySubscription&&this.overlaySubscription.unsubscribe()}static \u0275fac=function(Ce){return new(Ce||Me)(b.Y36(V.K0),b.Y36(b.Lbi),b.Y36(b.SBq),b.Y36(b.Qsj),b.Y36(b.sBO),b.Y36(b.R0b),b.Y36(Te.b4),b.Y36(Te.F0))};static \u0275cmp=b.Xpm({type:Me,selectors:[["p-overlayPanel"]],contentQueries:function(Ce,ye,he){if(1&Ce&&b.Suo(he,Te.jx,4),2&Ce){let at;b.iGM(at=b.CRH())&&(ye.templates=at)}},hostAttrs:[1,"p-element"],hostBindings:function(Ce,ye){1&Ce&&b.NdJ("keydown.escape",function(at){return ye.onEscapeKeydown(at)},!1,b.evT)},inputs:{dismissable:"dismissable",showCloseIcon:"showCloseIcon",style:"style",styleClass:"styleClass",appendTo:"appendTo",autoZIndex:"autoZIndex",ariaCloseLabel:"ariaCloseLabel",baseZIndex:"baseZIndex",focusOnShow:"focusOnShow",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onShow:"onShow",onHide:"onHide"},ngContentSelectors:wt,decls:1,vars:1,consts:[["role","dialog",3,"ngClass","ngStyle","class","click",4,"ngIf"],["role","dialog",3,"ngClass","ngStyle","click"],[1,"p-overlaypanel-content",3,"click","mousedown"],[4,"ngTemplateOutlet"],["type","button","class","p-overlaypanel-close p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],["type","button","pRipple","",1,"p-overlaypanel-close","p-link",3,"click","keydown.enter"],[3,"styleClass",4,"ngIf"],["class","p-overlaypanel-close-icon",4,"ngIf"],[3,"styleClass"],[1,"p-overlaypanel-close-icon"]],template:function(Ce,ye){1&Ce&&(b.F$t(),b.YNc(0,it,5,14,"div",0)),2&Ce&&b.Q6J("ngIf",ye.render)},dependencies:function(){return[V.mk,V.O5,V.tP,V.PC,ue.H,q]},styles:['@layer primeng{.p-overlaypanel{position:absolute;margin-top:10px;top:0;left:0}.p-overlaypanel-flipped{margin-top:0;margin-bottom:10px}.p-overlaypanel-close{display:flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-overlaypanel:after,.p-overlaypanel:before{bottom:100%;left:calc(var(--overlayArrowLeft, 0) + 1.25rem);content:" ";height:0;width:0;position:absolute;pointer-events:none}.p-overlaypanel:after{border-width:8px;margin-left:-8px}.p-overlaypanel:before{border-width:10px;margin-left:-10px}.p-overlaypanel-shifted:after,.p-overlaypanel-shifted:before{left:auto;right:1.25em;margin-left:auto}.p-overlaypanel-flipped:after,.p-overlaypanel-flipped:before{bottom:auto;top:100%}.p-overlaypanel.p-overlaypanel-flipped:after{border-bottom-color:transparent}.p-overlaypanel.p-overlaypanel-flipped:before{border-bottom-color:transparent}}\n'],encapsulation:2,data:{animation:[(0,p.X$)("animation",[(0,p.SB)("void",(0,p.oB)({transform:"scaleY(0.8)",opacity:0})),(0,p.SB)("close",(0,p.oB)({opacity:0})),(0,p.SB)("open",(0,p.oB)({transform:"translateY(0)",opacity:1})),(0,p.eR)("void => open",(0,p.jt)("{{showTransitionParams}}")),(0,p.eR)("open => close",(0,p.jt)("{{hideTransitionParams}}"))])]},changeDetection:0})}return Me})(),ae=(()=>{class Me{static \u0275fac=function(Ce){return new(Ce||Me)};static \u0275mod=b.oAB({type:Me});static \u0275inj=b.cJS({imports:[V.ez,ue.T,Te.m8,q,Te.m8]})}return Me})()},4480:(xt,je,U)=>{U.d(je,{H:()=>z,T:()=>J});var p=U(6814),V=U(5879),b=U(2076),Te=U(5219);let z=(()=>{class q{document;platformId;renderer;el;zone;config;constructor(de,X,oe,Ee,ze,Ye){this.document=de,this.platformId=X,this.renderer=oe,this.el=Ee,this.zone=ze,this.config=Ye}animationListener;mouseDownListener;timeout;ngAfterViewInit(){(0,p.NF)(this.platformId)&&this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.renderer.listen(this.el.nativeElement,"mousedown",this.onMouseDown.bind(this))})}onMouseDown(de){let X=this.getInk();if(!X||"none"===this.document.defaultView?.getComputedStyle(X,null).display)return;if(b.p.removeClass(X,"p-ink-active"),!b.p.getHeight(X)&&!b.p.getWidth(X)){let Ye=Math.max(b.p.getOuterWidth(this.el.nativeElement),b.p.getOuterHeight(this.el.nativeElement));X.style.height=Ye+"px",X.style.width=Ye+"px"}let oe=b.p.getOffset(this.el.nativeElement),Ee=de.pageX-oe.left+this.document.body.scrollTop-b.p.getWidth(X)/2,ze=de.pageY-oe.top+this.document.body.scrollLeft-b.p.getHeight(X)/2;this.renderer.setStyle(X,"top",ze+"px"),this.renderer.setStyle(X,"left",Ee+"px"),b.p.addClass(X,"p-ink-active"),this.timeout=setTimeout(()=>{let Ye=this.getInk();Ye&&b.p.removeClass(Ye,"p-ink-active")},401)}getInk(){const de=this.el.nativeElement.children;for(let X=0;X<de.length;X++)if("string"==typeof de[X].className&&-1!==de[X].className.indexOf("p-ink"))return de[X];return null}resetInk(){let de=this.getInk();de&&b.p.removeClass(de,"p-ink-active")}onAnimationEnd(de){this.timeout&&clearTimeout(this.timeout),b.p.removeClass(de.currentTarget,"p-ink-active")}create(){let de=this.renderer.createElement("span");this.renderer.addClass(de,"p-ink"),this.renderer.appendChild(this.el.nativeElement,de),this.renderer.setAttribute(de,"aria-hidden","true"),this.renderer.setAttribute(de,"role","presentation"),this.animationListener||(this.animationListener=this.renderer.listen(de,"animationend",this.onAnimationEnd.bind(this)))}remove(){let de=this.getInk();de&&(this.mouseDownListener&&this.mouseDownListener(),this.animationListener&&this.animationListener(),this.mouseDownListener=null,this.animationListener=null,b.p.removeElement(de))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}static \u0275fac=function(X){return new(X||q)(V.Y36(p.K0),V.Y36(V.Lbi),V.Y36(V.Qsj),V.Y36(V.SBq),V.Y36(V.R0b),V.Y36(Te.b4,8))};static \u0275dir=V.lG2({type:q,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"]})}return q})(),J=(()=>{class q{static \u0275fac=function(X){return new(X||q)};static \u0275mod=V.oAB({type:q});static \u0275inj=V.cJS({imports:[p.ez]})}return q})()},2332:(xt,je,U)=>{U.d(je,{P9:()=>z,Th:()=>b,gb:()=>p});class p{static equals(q,ue,de){return de?this.resolveFieldData(q,de)===this.resolveFieldData(ue,de):this.equalsByValue(q,ue)}static equalsByValue(q,ue){if(q===ue)return!0;if(q&&ue&&"object"==typeof q&&"object"==typeof ue){var oe,Ee,ze,de=Array.isArray(q),X=Array.isArray(ue);if(de&&X){if((Ee=q.length)!=ue.length)return!1;for(oe=Ee;0!=oe--;)if(!this.equalsByValue(q[oe],ue[oe]))return!1;return!0}if(de!=X)return!1;var Ye=this.isDate(q),lt=this.isDate(ue);if(Ye!=lt)return!1;if(Ye&&lt)return q.getTime()==ue.getTime();var tt=q instanceof RegExp,rt=ue instanceof RegExp;if(tt!=rt)return!1;if(tt&&rt)return q.toString()==ue.toString();var it=Object.keys(q);if((Ee=it.length)!==Object.keys(ue).length)return!1;for(oe=Ee;0!=oe--;)if(!Object.prototype.hasOwnProperty.call(ue,it[oe]))return!1;for(oe=Ee;0!=oe--;)if(!this.equalsByValue(q[ze=it[oe]],ue[ze]))return!1;return!0}return q!=q&&ue!=ue}static resolveFieldData(q,ue){if(q&&ue){if(this.isFunction(ue))return ue(q);if(-1==ue.indexOf("."))return q[ue];{let de=ue.split("."),X=q;for(let oe=0,Ee=de.length;oe<Ee;++oe){if(null==X)return null;X=X[de[oe]]}return X}}return null}static isFunction(q){return!!(q&&q.constructor&&q.call&&q.apply)}static reorderArray(q,ue,de){q&&ue!==de&&(de>=q.length&&(de%=q.length,ue%=q.length),q.splice(de,0,q.splice(ue,1)[0]))}static insertIntoOrderedArray(q,ue,de,X){if(de.length>0){let oe=!1;for(let Ee=0;Ee<de.length;Ee++)if(this.findIndexInList(de[Ee],X)>ue){de.splice(Ee,0,q),oe=!0;break}oe||de.push(q)}else de.push(q)}static findIndexInList(q,ue){let de=-1;if(ue)for(let X=0;X<ue.length;X++)if(ue[X]==q){de=X;break}return de}static contains(q,ue){if(null!=q&&ue&&ue.length)for(let de of ue)if(this.equals(q,de))return!0;return!1}static removeAccents(q){return q&&q.search(/[\xC0-\xFF]/g)>-1&&(q=q.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),q}static isDate(q){return"[object Date]"===Object.prototype.toString.call(q)}static isEmpty(q){return null==q||""===q||Array.isArray(q)&&0===q.length||!this.isDate(q)&&"object"==typeof q&&0===Object.keys(q).length}static isNotEmpty(q){return!this.isEmpty(q)}static compare(q,ue,de,X=1){let oe=-1;const Ee=this.isEmpty(q),ze=this.isEmpty(ue);return oe=Ee&&ze?0:Ee?X:ze?-X:"string"==typeof q&&"string"==typeof ue?q.localeCompare(ue,de,{numeric:!0}):q<ue?-1:q>ue?1:0,oe}static sort(q,ue,de=1,X,oe=1){return(1===oe?de:oe)*p.compare(q,ue,X,de)}static merge(q,ue){if(null!=q||null!=ue)return null!=q&&"object"!=typeof q||null!=ue&&"object"!=typeof ue?null!=q&&"string"!=typeof q||null!=ue&&"string"!=typeof ue?ue||q:[q||"",ue||""].join(" "):{...q||{},...ue||{}}}static isPrintableCharacter(q=""){return this.isNotEmpty(q)&&1===q.length&&q.match(/\S| /)}static getItemValue(q,...ue){return this.isFunction(q)?q(...ue):q}static findLastIndex(q,ue){let de=-1;if(this.isNotEmpty(q))try{de=q.findLastIndex(ue)}catch{de=q.lastIndexOf([...q].reverse().find(ue))}return de}static findLast(q,ue){let de;if(this.isNotEmpty(q))try{de=q.findLast(ue)}catch{de=[...q].reverse().find(ue)}return de}}var V=0;function b(J="pn_id_"){return`${J}${++V}`}var z=function Te(){let J=[];const X=oe=>oe&&parseInt(oe.style.zIndex,10)||0;return{get:X,set:(oe,Ee,ze)=>{Ee&&(Ee.style.zIndex=String(((oe,Ee)=>{let ze=J.length>0?J[J.length-1]:{key:oe,value:Ee},Ye=ze.value+(ze.key===oe?0:Ee)+2;return J.push({key:oe,value:Ye}),Ye})(oe,ze)))},clear:oe=>{oe&&((oe=>{J=J.filter(Ee=>Ee.value!==oe)})(X(oe)),oe.style.zIndex="")},getCurrent:()=>J.length>0?J[J.length-1].value:0}}()},5861:(xt,je,U)=>{function p(b,Te,z,J,q,ue,de){try{var X=b[ue](de),oe=X.value}catch(Ee){return void z(Ee)}X.done?Te(oe):Promise.resolve(oe).then(J,q)}function V(b){return function(){var Te=this,z=arguments;return new Promise(function(J,q){var ue=b.apply(Te,z);function de(oe){p(ue,J,q,de,X,"next",oe)}function X(oe){p(ue,J,q,de,X,"throw",oe)}de(void 0)})}}U.d(je,{Z:()=>V})},7582:(xt,je,U)=>{function Te(Se,Oe){var qe={};for(var ke in Se)Object.prototype.hasOwnProperty.call(Se,ke)&&Oe.indexOf(ke)<0&&(qe[ke]=Se[ke]);if(null!=Se&&"function"==typeof Object.getOwnPropertySymbols){var He=0;for(ke=Object.getOwnPropertySymbols(Se);He<ke.length;He++)Oe.indexOf(ke[He])<0&&Object.prototype.propertyIsEnumerable.call(Se,ke[He])&&(qe[ke[He]]=Se[ke[He]])}return qe}function Ee(Se,Oe,qe,ke){return new(qe||(qe=Promise))(function(ht,gt){function _t(An){try{nn(ke.next(An))}catch(ln){gt(ln)}}function kn(An){try{nn(ke.throw(An))}catch(ln){gt(ln)}}function nn(An){An.done?ht(An.value):function He(ht){return ht instanceof qe?ht:new qe(function(gt){gt(ht)})}(An.value).then(_t,kn)}nn((ke=ke.apply(Se,Oe||[])).next())})}function ae(Se){return this instanceof ae?(this.v=Se,this):new ae(Se)}function Me(Se,Oe,qe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var He,ke=qe.apply(Se,Oe||[]),ht=[];return He={},gt("next"),gt("throw"),gt("return"),He[Symbol.asyncIterator]=function(){return this},He;function gt(un){ke[un]&&(He[un]=function(Bn){return new Promise(function(Sn,Cn){ht.push([un,Bn,Sn,Cn])>1||_t(un,Bn)})})}function _t(un,Bn){try{!function kn(un){un.value instanceof ae?Promise.resolve(un.value.v).then(nn,An):ln(ht[0][2],un)}(ke[un](Bn))}catch(Sn){ln(ht[0][3],Sn)}}function nn(un){_t("next",un)}function An(un){_t("throw",un)}function ln(un,Bn){un(Bn),ht.shift(),ht.length&&_t(ht[0][0],ht[0][1])}}function ge(Se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var qe,Oe=Se[Symbol.asyncIterator];return Oe?Oe.call(Se):(Se=function tt(Se){var Oe="function"==typeof Symbol&&Symbol.iterator,qe=Oe&&Se[Oe],ke=0;if(qe)return qe.call(Se);if(Se&&"number"==typeof Se.length)return{next:function(){return Se&&ke>=Se.length&&(Se=void 0),{value:Se&&Se[ke++],done:!Se}}};throw new TypeError(Oe?"Object is not iterable.":"Symbol.iterator is not defined.")}(Se),qe={},ke("next"),ke("throw"),ke("return"),qe[Symbol.asyncIterator]=function(){return this},qe);function ke(ht){qe[ht]=Se[ht]&&function(gt){return new Promise(function(_t,kn){!function He(ht,gt,_t,kn){Promise.resolve(kn).then(function(nn){ht({value:nn,done:_t})},gt)}(_t,kn,(gt=Se[ht](gt)).done,gt.value)})}}}U.d(je,{FC:()=>Me,KL:()=>ge,_T:()=>Te,mG:()=>Ee,qq:()=>ae}),"function"==typeof SuppressedError&&SuppressedError}},xt=>{xt(xt.s=3773)}]);