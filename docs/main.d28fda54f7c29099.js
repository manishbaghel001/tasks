"use strict";(self.webpackChunktasks=self.webpackChunktasks||[]).push([[792],{6220:(zt,ze,L)=>{L.d(ze,{_:()=>F});var p=L(4438);let F=(()=>{class _{setData(V,Q){localStorage.setItem(V,JSON.stringify(Q))}getData(V){const Q=localStorage.getItem(V);return Q?JSON.parse(Q):null}removeData(V){localStorage.removeItem(V)}static#e=this.\u0275fac=function(Q){return new(Q||_)};static#t=this.\u0275prov=p.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})()},1634:(zt,ze,L)=>{L.d(ze,{u:()=>y_});var p=L(4438),F=L(5845),_=L(7852),_e=L(1076),V=L(8041),Q=L(1362),W=L(4412),oe=L(3345),de=L(1182),ne=L(6220),le=L(9888),Re=L(177),We=L(1825),Ke=L(9253),yt=L(3236),At=L(1985),ut=L(8455),ft=L(7673),Ut=L(9172),Bt=L(9974),Ge=L(4360);function Ve(){return(0,Bt.N)((s,e)=>{let n,o=!1;s.subscribe((0,Ge._)(e,l=>{const u=n;n=l,o&&e.next([u,l]),o=!0}))})}var De=L(6354),ye=L(2816),be=L(3669);function ue(s,e){return s===e}var vt,Se=L(5964),Ee=(L(2438),L(467)),Ht=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},In={},nn=nn||{},Ct=Ht||self;function Me(s){var e=typeof s;return"array"==(e="object"!=e?e:s?Array.isArray(s)?"array":e:"null")||"object"==e&&"number"==typeof s.length}function He(s){var e=typeof s;return"object"==e&&null!=s||"function"==e}var Ze="closure_uid_"+(1e9*Math.random()>>>0),dt=0;function Qe(s,e,n){return s.call.apply(s.bind,arguments)}function Pt(s,e,n){if(!s)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var l=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(l,o),s.apply(e,l)}}return function(){return s.apply(e,arguments)}}function Gt(s,e,n){return(Gt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Qe:Pt).apply(null,arguments)}function on(s,e){var n=Array.prototype.slice.call(arguments,1);return function(){var o=n.slice();return o.push.apply(o,arguments),s.apply(this,o)}}function Mt(s,e){function n(){}n.prototype=e.prototype,s.$=e.prototype,s.prototype=new n,s.prototype.constructor=s,s.ac=function(o,l,u){for(var f=Array(arguments.length-2),D=2;D<arguments.length;D++)f[D-2]=arguments[D];return e.prototype[l].apply(o,f)}}function fn(){this.s=this.s,this.o=this.o}fn.prototype.s=!1,fn.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function lt(s){Object.prototype.hasOwnProperty.call(s,Ze)&&s[Ze]||(s[Ze]=++dt)}(this)},fn.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const xn=Array.prototype.indexOf?function(s,e){return Array.prototype.indexOf.call(s,e,void 0)}:function(s,e){if("string"==typeof s)return"string"!=typeof e||1!=e.length?-1:s.indexOf(e,0);for(let n=0;n<s.length;n++)if(n in s&&s[n]===e)return n;return-1};function Wn(s){const e=s.length;if(0<e){const n=Array(e);for(let o=0;o<e;o++)n[o]=s[o];return n}return[]}function Qn(s,e){for(let n=1;n<arguments.length;n++){const o=arguments[n];if(Me(o)){const l=s.length||0,u=o.length||0;s.length=l+u;for(let f=0;f<u;f++)s[l+f]=o[f]}else s.push(o)}}function Bn(s,e){this.type=s,this.g=this.target=e,this.defaultPrevented=!1}Bn.prototype.h=function(){this.defaultPrevented=!0};var Yt=function(){if(!Ct.addEventListener||!Object.defineProperty)return!1;var s=!1,e=Object.defineProperty({},"passive",{get:function(){s=!0}});try{const n=()=>{};Ct.addEventListener("test",n,e),Ct.removeEventListener("test",n,e)}catch{}return s}();function ir(s){return/^[\s\xa0]*$/.test(s)}function Ot(){var s=Ct.navigator;return s&&(s=s.userAgent)?s:""}function Nn(s){return-1!=Ot().indexOf(s)}function jn(s){return jn[" "](s),s}jn[" "]=function(){};var Jt,s,Dr=Nn("Opera"),Sr=Nn("Trident")||Nn("MSIE"),er=Nn("Edge"),an=er||Sr,dn=Nn("Gecko")&&!(-1!=Ot().toLowerCase().indexOf("webkit")&&!Nn("Edge"))&&!(Nn("Trident")||Nn("MSIE"))&&!Nn("Edge"),xr=-1!=Ot().toLowerCase().indexOf("webkit")&&!Nn("Edge");function Ye(){var s=Ct.document;return s?s.documentMode:void 0}e:{var ge="",je=(s=Ot(),dn?/rv:([^\);]+)(\)|;)/.exec(s):er?/Edge\/([\d\.]+)/.exec(s):Sr?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(s):xr?/WebKit\/(\S+)/.exec(s):Dr?/(?:Version)[ \/]?(\S+)/.exec(s):void 0);if(je&&(ge=je?je[1]:""),Sr){var bt=Ye();if(null!=bt&&bt>parseFloat(ge)){Jt=String(bt);break e}}Jt=ge}var rn=Ct.document&&Sr&&(Ye()||parseInt(Jt,10))||void 0;function kn(s,e){if(Bn.call(this,s?s.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,s){var n=this.type=s.type,o=s.changedTouches&&s.changedTouches.length?s.changedTouches[0]:null;if(this.target=s.target||s.srcElement,this.g=e,e=s.relatedTarget){if(dn){e:{try{jn(e.nodeName);var l=!0;break e}catch{}l=!1}l||(e=null)}}else"mouseover"==n?e=s.fromElement:"mouseout"==n&&(e=s.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0),this.button=s.button,this.key=s.key||"",this.ctrlKey=s.ctrlKey,this.altKey=s.altKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.pointerId=s.pointerId||0,this.pointerType="string"==typeof s.pointerType?s.pointerType:Sn[s.pointerType]||"",this.state=s.state,this.i=s,s.defaultPrevented&&kn.$.h.call(this)}}Mt(kn,Bn);var Sn={2:"touch",3:"pen",4:"mouse"};kn.prototype.h=function(){kn.$.h.call(this);var s=this.i;s.preventDefault?s.preventDefault():s.returnValue=!1};var ar="closure_listenable_"+(1e6*Math.random()|0),Rr=0;function Wr(s,e,n,o,l){this.listener=s,this.proxy=null,this.src=e,this.type=n,this.capture=!!o,this.la=l,this.key=++Rr,this.fa=this.ia=!1}function fi(s){s.fa=!0,s.listener=null,s.proxy=null,s.src=null,s.la=null}function ti(s,e,n){for(const o in s)e.call(n,s[o],o,s)}function qe(s){const e={};for(const n in s)e[n]=s[n];return e}const me="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Oe(s,e){let n,o;for(let l=1;l<arguments.length;l++){for(n in o=arguments[l],o)s[n]=o[n];for(let u=0;u<me.length;u++)n=me[u],Object.prototype.hasOwnProperty.call(o,n)&&(s[n]=o[n])}}function ae(s){this.src=s,this.g={},this.h=0}function he(s,e){var n=e.type;if(n in s.g){var u,o=s.g[n],l=xn(o,e);(u=0<=l)&&Array.prototype.splice.call(o,l,1),u&&(fi(e),0==s.g[n].length&&(delete s.g[n],s.h--))}}function Y(s,e,n,o){for(var l=0;l<s.length;++l){var u=s[l];if(!u.fa&&u.listener==e&&u.capture==!!n&&u.la==o)return l}return-1}ae.prototype.add=function(s,e,n,o,l){var u=s.toString();(s=this.g[u])||(s=this.g[u]=[],this.h++);var f=Y(s,e,o,l);return-1<f?(e=s[f],n||(e.ia=!1)):((e=new Wr(e,this.src,u,!!o,l)).ia=n,s.push(e)),e};var re="closure_lm_"+(1e6*Math.random()|0),X={};function ke(s,e,n,o,l){if(o&&o.once)return Fn(s,e,n,o,l);if(Array.isArray(e)){for(var u=0;u<e.length;u++)ke(s,e[u],n,o,l);return null}return n=Bi(n),s&&s[ar]?s.O(e,n,He(o)?!!o.capture:!!o,l):gt(s,e,n,!1,o,l)}function gt(s,e,n,o,l,u){if(!e)throw Error("Invalid event type");var f=He(l)?!!l.capture:!!l,D=tr(s);if(D||(s[re]=D=new ae(s)),(n=D.add(e,n,o,f,u)).proxy)return n;if(o=function $t(){const e=Zt;return function s(n){return e.call(s.src,s.listener,n)}}(),n.proxy=o,o.src=s,o.listener=n,s.addEventListener)Yt||(l=f),void 0===l&&(l=!1),s.addEventListener(e.toString(),o,l);else if(s.attachEvent)s.attachEvent(pn(e.toString()),o);else{if(!s.addListener||!s.removeListener)throw Error("addEventListener and attachEvent are unavailable.");s.addListener(o)}return n}function Fn(s,e,n,o,l){if(Array.isArray(e)){for(var u=0;u<e.length;u++)Fn(s,e[u],n,o,l);return null}return n=Bi(n),s&&s[ar]?s.P(e,n,He(o)?!!o.capture:!!o,l):gt(s,e,n,!0,o,l)}function Gn(s,e,n,o,l){if(Array.isArray(e))for(var u=0;u<e.length;u++)Gn(s,e[u],n,o,l);else o=He(o)?!!o.capture:!!o,n=Bi(n),s&&s[ar]?(s=s.i,(e=String(e).toString())in s.g&&-1<(n=Y(u=s.g[e],n,o,l))&&(fi(u[n]),Array.prototype.splice.call(u,n,1),0==u.length&&(delete s.g[e],s.h--))):s&&(s=tr(s))&&(e=s.g[e.toString()],s=-1,e&&(s=Y(e,n,o,l)),(n=-1<s?e[s]:null)&&ur(n))}function ur(s){if("number"!=typeof s&&s&&!s.fa){var e=s.src;if(e&&e[ar])he(e.i,s);else{var n=s.type,o=s.proxy;e.removeEventListener?e.removeEventListener(n,o,s.capture):e.detachEvent?e.detachEvent(pn(n),o):e.addListener&&e.removeListener&&e.removeListener(o),(n=tr(e))?(he(n,s),0==n.h&&(n.src=null,e[re]=null)):fi(s)}}}function pn(s){return s in X?X[s]:X[s]="on"+s}function Zt(s,e){if(s.fa)s=!0;else{e=new kn(e,this);var n=s.listener,o=s.la||s.src;s.ia&&ur(s),s=n.call(o,e)}return s}function tr(s){return(s=s[re])instanceof ae?s:null}var Lr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bi(s){return"function"==typeof s?s:(s[Lr]||(s[Lr]=function(e){return s.handleEvent(e)}),s[Lr])}function Fr(){fn.call(this),this.i=new ae(this),this.S=this,this.J=null}function Pr(s,e){var n,o=s.J;if(o)for(n=[];o;o=o.J)n.push(o);if(s=s.S,o=e.type||e,"string"==typeof e)e=new Bn(e,s);else if(e instanceof Bn)e.target=e.target||s;else{var l=e;Oe(e=new Bn(o,s),l)}if(l=!0,n)for(var u=n.length-1;0<=u;u--){var f=e.g=n[u];l=sr(f,o,!0,e)&&l}if(l=sr(f=e.g=s,o,!0,e)&&l,l=sr(f,o,!1,e)&&l,n)for(u=0;u<n.length;u++)l=sr(f=e.g=n[u],o,!1,e)&&l}function sr(s,e,n,o){if(!(e=s.i.g[String(e)]))return!0;e=e.concat();for(var l=!0,u=0;u<e.length;++u){var f=e[u];if(f&&!f.fa&&f.capture==n){var D=f.listener,M=f.la||f.src;f.ia&&he(s.i,f),l=!1!==D.call(M,o)&&l}}return l&&!o.defaultPrevented}Mt(Fr,fn),Fr.prototype[ar]=!0,Fr.prototype.removeEventListener=function(s,e,n,o){Gn(this,s,e,n,o)},Fr.prototype.N=function(){if(Fr.$.N.call(this),this.i){var e,s=this.i;for(e in s.g){for(var n=s.g[e],o=0;o<n.length;o++)fi(n[o]);delete s.g[e],s.h--}}this.J=null},Fr.prototype.O=function(s,e,n,o){return this.i.add(String(s),e,!1,n,o)},Fr.prototype.P=function(s,e,n,o){return this.i.add(String(s),e,!0,n,o)};var ds=Ct.JSON.stringify;function st(){var s=nt;let e=null;return s.g&&(e=s.g,s.g=s.g.next,s.g||(s.h=null),e.next=null),e}var _t=new class Yi{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Xt,s=>s.reset());class Xt{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function On(s){var e=1;s=s.split(":");const n=[];for(;0<e&&s.length;)n.push(s.shift()),e--;return s.length&&n.push(s.join(":")),n}function te(s){Ct.setTimeout(()=>{throw s},0)}let pe,we=!1,nt=new class $e{constructor(){this.h=this.g=null}add(e,n){const o=_t.get();o.set(e,n),this.h?this.h.next=o:this.g=o,this.h=o}},rt=()=>{const s=Ct.Promise.resolve(void 0);pe=()=>{s.then(xt)}};var xt=()=>{for(var s;s=st();){try{s.h.call(s.g)}catch(n){te(n)}var e=_t;e.j(s),100>e.h&&(e.h++,s.next=e.g,e.g=s)}we=!1};function kt(s,e){Fr.call(this),this.h=s||1,this.g=e||Ct,this.j=Gt(this.qb,this),this.l=Date.now()}function mn(s){s.ga=!1,s.T&&(s.g.clearTimeout(s.T),s.T=null)}function Cn(s,e,n){if("function"==typeof s)n&&(s=Gt(s,n));else{if(!s||"function"!=typeof s.handleEvent)throw Error("Invalid listener argument");s=Gt(s.handleEvent,s)}return 2147483647<Number(e)?-1:Ct.setTimeout(s,e||0)}function Cr(s){s.g=Cn(()=>{s.g=null,s.i&&(s.i=!1,Cr(s))},s.j);const e=s.h;s.h=null,s.m.apply(null,e)}Mt(kt,Fr),(vt=kt.prototype).ga=!1,vt.T=null,vt.qb=function(){if(this.ga){var s=Date.now()-this.l;0<s&&s<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-s):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Pr(this,"tick"),this.ga&&(mn(this),this.start()))}},vt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},vt.N=function(){kt.$.N.call(this),mn(this),delete this.g};class wr extends fn{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Cr(this)}N(){super.N(),this.g&&(Ct.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function br(s){fn.call(this),this.h=s,this.g={}}Mt(br,fn);var ai=[];function Zi(s,e,n,o){Array.isArray(n)||(n&&(ai[0]=n.toString()),n=ai);for(var l=0;l<n.length;l++){var u=ke(e,n[l],o||s.handleEvent,!1,s.h||s);if(!u)break;s.g[u.key]=u}}function li(s){ti(s.g,function(e,n){this.g.hasOwnProperty(n)&&ur(e)},s),s.g={}}function Zn(){this.g=!0}function qr(s,e,n,o){s.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Qr(s,e){if(!s.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(s=0;s<n.length;s++)if(Array.isArray(n[s])){var o=n[s];if(!(2>o.length)){var l=o[1];if(Array.isArray(l)&&!(1>l.length)){var u=l[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var f=1;f<l.length;f++)l[f]=""}}}return ds(n)}catch{return e}}(s,n)+(o?" "+o:"")})}br.prototype.N=function(){br.$.N.call(this),li(this)},br.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Zn.prototype.Ea=function(){this.g=!1},Zn.prototype.info=function(){};var _r={},ci=null;function Tn(){return ci=ci||new Fr}function Xn(s){Bn.call(this,_r.Ta,s)}function vo(s){const e=Tn();Pr(e,new Xn(e))}function ji(s,e){Bn.call(this,_r.STAT_EVENT,s),this.stat=e}function Xr(s){const e=Tn();Pr(e,new ji(e,s))}function Bo(s,e){Bn.call(this,_r.Ua,s),this.size=e}function Us(s,e){if("function"!=typeof s)throw Error("Fn must not be null and must be a function");return Ct.setTimeout(function(){s()},e)}_r.Ta="serverreachability",Mt(Xn,Bn),_r.STAT_EVENT="statevent",Mt(ji,Bn),_r.Ua="timingevent",Mt(Bo,Bn);var Bs={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},lr={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Ji(){}function Yr(){}Ji.prototype.h=null;var Ki,ms={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ca(){Bn.call(this,"d")}function jo(){Bn.call(this,"c")}function es(){}function _s(s,e,n,o){this.l=s,this.j=e,this.m=n,this.W=o||1,this.U=new br(this),this.P=Io,this.V=new kt(s=an?125:void 0),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Ho}function Ho(){this.i=null,this.g="",this.h=!1}Mt(ca,Bn),Mt(jo,Bn),Mt(es,Ji),es.prototype.g=function(){return new XMLHttpRequest},es.prototype.i=function(){return{}},Ki=new es;var Io=45e3,Js={},js={};function Zr(s,e,n){s.L=1,s.A=ro($i(e)),s.u=n,s.S=!0,Ci(s,null)}function Ci(s,e){s.G=Date.now(),ys(s),s.B=$i(s.A);var n=s.B,o=s.W;Array.isArray(o)||(o=[String(o)]),yr(n.i,"t",o),s.o=0,n=s.l.J,s.h=new Ho,s.g=Tl(s.l,n?e:null,!s.u),0<s.O&&(s.M=new wr(Gt(s.Pa,s,s.g),s.O)),Zi(s.U,s.g,"readystatechange",s.nb),e=s.I?qe(s.I):{},s.u?(s.v||(s.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",s.g.ha(s.B,s.v,s.u,e)):(s.v="GET",s.g.ha(s.B,s.v,null,e)),vo(),function nr(s,e,n,o,l,u){s.info(function(){if(s.g)if(u)for(var f="",D=u.split("&"),M=0;M<D.length;M++){var B=D[M].split("=");if(1<B.length){var J=B[0];B=B[1];var fe=J.split("_");f=2<=fe.length&&"type"==fe[1]?f+(J+"=")+B+"&":f+(J+"=redacted&")}}else f=null;else f=u;return"XMLHTTP REQ ("+o+") [attempt "+l+"]: "+e+"\n"+n+"\n"+f})}(s.j,s.v,s.B,s.m,s.W,s.u)}function Ai(s){return!!s.g&&"GET"==s.v&&2!=s.L&&s.l.Ha}function Eo(s,e,n){let l,o=!0;for(;!s.J&&s.o<n.length;){if(l=Ei(s,n),l==js){4==e&&(s.s=4,Xr(14),o=!1),qr(s.j,s.m,null,"[Incomplete Response]");break}if(l==Js){s.s=4,Xr(15),qr(s.j,s.m,n,"[Invalid Chunk]"),o=!1;break}qr(s.j,s.m,l,null),Ps(s,l)}Ai(s)&&0!=s.o&&(s.h.g=s.h.g.slice(s.o),s.o=0),4!=e||0!=n.length||s.h.h||(s.s=1,Xr(16),o=!1),s.i=s.i&&o,o?0<n.length&&!s.ba&&(s.ba=!0,(e=s.l).g==s&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Wo(e),e.M=!0,Xr(11))):(qr(s.j,s.m,n,"[Invalid Chunked Response]"),Hi(s),eo(s))}function Ei(s,e){var n=s.o,o=e.indexOf("\n",n);return-1==o?js:(n=Number(e.substring(n,o)),isNaN(n)?Js:(o+=1)+n>e.length?js:(e=e.slice(o,o+n),s.o=o+n,e))}function ys(s){s.Y=Date.now()+s.P,$n(s,s.P)}function $n(s,e){if(null!=s.C)throw Error("WatchDog timer not null");s.C=Us(Gt(s.lb,s),e)}function vs(s){s.C&&(Ct.clearTimeout(s.C),s.C=null)}function eo(s){0==s.l.H||s.J||zo(s.l,s)}function Hi(s){vs(s);var e=s.M;e&&"function"==typeof e.sa&&e.sa(),s.M=null,mn(s.V),li(s.U),s.g&&(e=s.g,s.g=null,e.abort(),e.sa())}function Ps(s,e){try{var n=s.l;if(0!=n.H&&(n.g==s||ua(n.i,s)))if(!s.K&&ua(n.i,s)&&3==n.H){try{var o=n.Ja.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var l=o;if(0==l[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<s.G))break e;ga(n),Cs(n)}Jo(n),Xr(18)}}else n.Fa=l[1],0<n.Fa-n.V&&37500>l[2]&&n.G&&0==n.A&&!n.v&&(n.v=Us(Gt(n.ib,n),6e3));if(1>=$s(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else zs(n,11)}else if((s.K||n.g==s)&&ga(n),!ir(e))for(l=n.Ja.g.parse(e),e=0;e<l.length;e++){let B=l[e];if(n.V=B[0],B=B[1],2==n.H)if("c"==B[0]){n.K=B[1],n.pa=B[2];const J=B[3];null!=J&&(n.ra=J,n.l.info("VER="+n.ra));const fe=B[4];null!=fe&&(n.Ga=fe,n.l.info("SVER="+n.Ga));const Ne=B[5];null!=Ne&&"number"==typeof Ne&&0<Ne&&(n.L=o=1.5*Ne,n.l.info("backChannelRequestTimeoutMs_="+o)),o=n;const et=s.g;if(et){const jt=et.g?et.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(jt){var u=o.i;u.g||-1==jt.indexOf("spdy")&&-1==jt.indexOf("quic")&&-1==jt.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(ao(u,u.h),u.h=null))}if(o.F){const Lt=et.g?et.g.getResponseHeader("X-HTTP-Session-Id"):null;Lt&&(o.Da=Lt,hr(o.I,o.F,Lt))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-s.G,n.l.info("Handshake RTT: "+n.S+"ms"));var f=s;if((o=n).wa=co(o,o.J?o.pa:null,o.Y),f.K){Si(o.i,f);var D=f,M=o.L;M&&D.setTimeout(M),D.C&&(vs(D),ys(D)),o.g=f}else lo(o);0<n.j.length&&Ns(n)}else"stop"!=B[0]&&"close"!=B[0]||zs(n,7);else 3==n.H&&("stop"==B[0]||"close"==B[0]?"stop"==B[0]?zs(n,7):gi(n):"noop"!=B[0]&&n.h&&n.h.Aa(B),n.A=0)}vo()}catch{}}function ts(s,e){if(s.forEach&&"function"==typeof s.forEach)s.forEach(e,void 0);else if(Me(s)||"string"==typeof s)Array.prototype.forEach.call(s,e,void 0);else for(var n=function to(s){if(s.ta&&"function"==typeof s.ta)return s.ta();if(!s.Z||"function"!=typeof s.Z){if(typeof Map<"u"&&s instanceof Map)return Array.from(s.keys());if(!(typeof Set<"u"&&s instanceof Set)){if(Me(s)||"string"==typeof s){var e=[];s=s.length;for(var n=0;n<s;n++)e.push(n);return e}e=[],n=0;for(const o in s)e[n++]=o;return e}}}(s),o=function wo(s){if(s.Z&&"function"==typeof s.Z)return s.Z();if(typeof Map<"u"&&s instanceof Map||typeof Set<"u"&&s instanceof Set)return Array.from(s.values());if("string"==typeof s)return s.split("");if(Me(s)){for(var e=[],n=s.length,o=0;o<n;o++)e.push(s[o]);return e}for(o in e=[],n=0,s)e[n++]=s[o];return e}(s),l=o.length,u=0;u<l;u++)e.call(void 0,o[u],n&&n[u],s)}(vt=_s.prototype).setTimeout=function(s){this.P=s},vt.nb=function(s){s=s.target;const e=this.M;e&&3==is(s)?e.l():this.Pa(s)},vt.Pa=function(s){try{if(s==this.g)e:{const J=is(this.g);var e=this.g.Ia();if(this.g.da(),!(3>J)&&(3!=J||an||this.g&&(this.h.h||this.g.ja()||al(this.g)))){this.J||4!=J||7==e||vo(),vs(this);var n=this.g.da();this.ca=n;t:if(Ai(this)){var o=al(this.g);s="";var l=o.length,u=4==is(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Hi(this),eo(this);var f="";break t}this.h.i=new Ct.TextDecoder}for(e=0;e<l;e++)this.h.h=!0,s+=this.h.i.decode(o[e],{stream:u&&e==l-1});o.length=0,this.h.g+=s,this.o=0,f=this.h.g}else f=this.g.ja();if(this.i=200==n,function Hn(s,e,n,o,l,u,f){s.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+l+"]: "+e+"\n"+n+"\n"+u+" "+f})}(this.j,this.v,this.B,this.m,this.W,J,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var D,M=this.g;if((D=M.g?M.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ir(D)){var B=D;break t}}B=null}if(!(n=B)){this.i=!1,this.s=3,Xr(12),Hi(this),eo(this);break e}qr(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ps(this,n)}this.S?(Eo(this,J,f),an&&this.i&&3==J&&(Zi(this.U,this.V,"tick",this.mb),this.V.start())):(qr(this.j,this.m,f,null),Ps(this,f)),4==J&&Hi(this),this.i&&!this.J&&(4==J?zo(this.l,this):(this.i=!1,ys(this)))}else(function fa(s){const e={};s=(s.g&&2<=is(s)&&s.g.getAllResponseHeaders()||"").split("\r\n");for(let o=0;o<s.length;o++){if(ir(s[o]))continue;var n=On(s[o]);const l=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const u=e[l]||[];e[l]=u,u.push(n)}!function Fe(s,e){for(const n in s)e.call(void 0,s[n],n,s)}(e,function(o){return o.join(", ")})})(this.g),400==n&&0<f.indexOf("Unknown SID")?(this.s=3,Xr(12)):(this.s=0,Xr(13)),Hi(this),eo(this)}}}catch{}},vt.mb=function(){if(this.g){var s=is(this.g),e=this.g.ja();this.o<e.length&&(vs(this),Eo(this,s,e),this.i&&4!=s&&ys(this))}},vt.cancel=function(){this.J=!0,Hi(this)},vt.lb=function(){this.C=null;const s=Date.now();0<=s-this.Y?(function Br(s,e){s.info(function(){return"TIMEOUT: "+e})}(this.j,this.B),2!=this.L&&(vo(),Xr(17)),Hi(this),this.s=2,eo(this)):$n(this,this.Y-s)};var qi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wi(s){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,s instanceof wi){this.h=s.h,ns(this,s.j),this.s=s.s,this.g=s.g,no(this,s.m),this.l=s.l;var e=s.i,n=new Di;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Jr(this,n),this.o=s.o}else s&&(e=String(s).match(qi))?(this.h=!1,ns(this,e[1]||"",!0),this.s=Is(e[2]||""),this.g=Is(e[3]||"",!0),no(this,e[4]),this.l=Is(e[5]||"",!0),Jr(this,e[6]||"",!0),this.o=Is(e[7]||"")):(this.h=!1,this.i=new Di(null,this.h))}function $i(s){return new wi(s)}function ns(s,e,n){s.j=n?Is(e,!0):e,s.j&&(s.j=s.j.replace(/:$/,""))}function no(s,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);s.m=e}else s.m=null}function Jr(s,e,n){e instanceof Di?(s.i=e,function Sa(s,e){e&&!s.j&&(xi(s),s.i=null,s.g.forEach(function(n,o){var l=o.toLowerCase();o!=l&&(so(this,o),yr(this,l,n))},s)),s.j=e}(s.i,s.h)):(n||(e=rs(e,ui)),s.i=new Di(e,s.h))}function hr(s,e,n){s.i.set(e,n)}function ro(s){return hr(s,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),s}function Is(s,e){return s?e?decodeURI(s.replace(/%25/g,"%2525")):decodeURIComponent(s):""}function rs(s,e,n){return"string"==typeof s?(s=encodeURI(s).replace(e,Co),n&&(s=s.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),s):null}function Co(s){return"%"+((s=s.charCodeAt(0))>>4&15).toString(16)+(15&s).toString(16)}wi.prototype.toString=function(){var s=[],e=this.j;e&&s.push(rs(e,Es,!0),":");var n=this.g;return(n||"file"==e)&&(s.push("//"),(e=this.s)&&s.push(rs(e,Es,!0),"@"),s.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&s.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&s.push("/"),s.push(rs(n,"/"==n.charAt(0)?io:Hs,!0))),(n=this.i.toString())&&s.push("?",n),(n=this.o)&&s.push("#",rs(n,Zo)),s.join("")};var Es=/[#\/\?@]/g,Hs=/[#\?:]/g,io=/[#\?]/g,ui=/[#\?@]/g,Zo=/#/g;function Di(s,e){this.h=this.g=null,this.i=s||null,this.j=!!e}function xi(s){s.g||(s.g=new Map,s.h=0,s.i&&function To(s,e){if(s){s=s.split("&");for(var n=0;n<s.length;n++){var o=s[n].indexOf("="),l=null;if(0<=o){var u=s[n].substring(0,o);l=s[n].substring(o+1)}else u=s[n];e(u,l?decodeURIComponent(l.replace(/\+/g," ")):"")}}}(s.i,function(e,n){s.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function so(s,e){xi(s),e=Qi(s,e),s.g.has(e)&&(s.i=null,s.h-=s.g.get(e).length,s.g.delete(e))}function Oi(s,e){return xi(s),e=Qi(s,e),s.g.has(e)}function yr(s,e,n){so(s,e),0<n.length&&(s.i=null,s.g.set(Qi(s,e),Wn(n)),s.h+=n.length)}function Qi(s,e){return e=String(e),s.j&&(e=e.toLowerCase()),e}(vt=Di.prototype).add=function(s,e){xi(this),this.i=null,s=Qi(this,s);var n=this.g.get(s);return n||this.g.set(s,n=[]),n.push(e),this.h+=1,this},vt.forEach=function(s,e){xi(this),this.g.forEach(function(n,o){n.forEach(function(l){s.call(e,l,o,this)},this)},this)},vt.ta=function(){xi(this);const s=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let o=0;o<e.length;o++){const l=s[o];for(let u=0;u<l.length;u++)n.push(e[o])}return n},vt.Z=function(s){xi(this);let e=[];if("string"==typeof s)Oi(this,s)&&(e=e.concat(this.g.get(Qi(this,s))));else{s=Array.from(this.g.values());for(let n=0;n<s.length;n++)e=e.concat(s[n])}return e},vt.set=function(s,e){return xi(this),this.i=null,Oi(this,s=Qi(this,s))&&(this.h-=this.g.get(s).length),this.g.set(s,[e]),this.h+=1,this},vt.get=function(s,e){return s&&0<(s=this.Z(s)).length?String(s[0]):e},vt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const s=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var o=e[n];const u=encodeURIComponent(String(o)),f=this.Z(o);for(o=0;o<f.length;o++){var l=u;""!==f[o]&&(l+="="+encodeURIComponent(String(f[o]))),s.push(l)}}return this.i=s.join("&")};var oo=class{constructor(s,e){this.g=s,this.map=e}};function di(s){this.l=s||bo,s=Ct.PerformanceNavigationTiming?0<(s=Ct.performance.getEntriesByType("navigation")).length&&("hq"==s[0].nextHopProtocol||"h2"==s[0].nextHopProtocol):!!(Ct.g&&Ct.g.Ka&&Ct.g.Ka()&&Ct.g.Ka().dc),this.j=s?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var bo=10;function Ni(s){return!!s.h||!!s.g&&s.g.size>=s.j}function $s(s){return s.h?1:s.g?s.g.size:0}function ua(s,e){return s.h?s.h==e:!!s.g&&s.g.has(e)}function ao(s,e){s.g?s.g.add(e):s.h=e}function Si(s,e){s.h&&s.h==e?s.h=null:s.g&&s.g.has(e)&&s.g.delete(e)}function Ao(s){if(null!=s.h)return s.i.concat(s.h.F);if(null!=s.g&&0!==s.g.size){let e=s.i;for(const n of s.g.values())e=e.concat(n.F);return e}return Wn(s.i)}di.prototype.cancel=function(){if(this.i=Ao(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const s of this.g.values())s.cancel();this.g.clear()}};var Ra=class{stringify(s){return Ct.JSON.stringify(s,void 0)}parse(s){return Ct.JSON.parse(s,void 0)}};function da(){this.g=new Ra}function ws(s,e,n){const o=n||"";try{ts(s,function(l,u){let f=l;He(l)&&(f=ds(l)),e.push(o+u+"="+encodeURIComponent(f))})}catch(l){throw e.push(o+"type="+encodeURIComponent("_badmap")),l}}function $o(s,e,n,o,l){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,l(o)}catch{}}function G(s){this.l=s.ec||null,this.j=s.ob||!1}function z(s,e){Fr.call(this),this.F=s,this.u=e,this.m=void 0,this.readyState=x,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Mt(G,Ji),G.prototype.g=function(){return new z(this.l,this.j)},G.prototype.i=function(s){return function(){return s}}({}),Mt(z,Fr);var x=0;function se(s){s.j.read().then(s.Xa.bind(s)).catch(s.ka.bind(s))}function Pe(s){s.readyState=4,s.l=null,s.j=null,s.A=null,gn(s)}function gn(s){s.onreadystatechange&&s.onreadystatechange.call(s)}(vt=z.prototype).open=function(s,e){if(this.readyState!=x)throw this.abort(),Error("Error reopening a connection");this.C=s,this.B=e,this.readyState=1,gn(this)},vt.send=function(s){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};s&&(e.body=s),(this.F||Ct).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},vt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Pe(this)),this.readyState=x},vt.$a=function(s){if(this.g&&(this.l=s,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=s.headers,this.readyState=2,gn(this)),this.g&&(this.readyState=3,gn(this),this.g)))if("arraybuffer"===this.responseType)s.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ct.ReadableStream<"u"&&"body"in s){if(this.j=s.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;se(this)}else s.text().then(this.Za.bind(this),this.ka.bind(this))},vt.Xa=function(s){if(this.g){if(this.u&&s.value)this.response.push(s.value);else if(!this.u){var e=s.value?s.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!s.done}))&&(this.response=this.responseText+=e)}s.done?Pe(this):gn(this),3==this.readyState&&se(this)}},vt.Za=function(s){this.g&&(this.response=this.responseText=s,Pe(this))},vt.Ya=function(s){this.g&&(this.response=s,Pe(this))},vt.ka=function(){this.g&&Pe(this)},vt.setRequestHeader=function(s,e){this.v.append(s,e)},vt.getResponseHeader=function(s){return this.h&&this.h.get(s.toLowerCase())||""},vt.getAllResponseHeaders=function(){if(!this.h)return"";const s=[],e=this.h.entries();for(var n=e.next();!n.done;)s.push((n=n.value)[0]+": "+n[1]),n=e.next();return s.join("\r\n")},Object.defineProperty(z.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(s){this.m=s?"include":"same-origin"}});var Yn=Ct.JSON.parse;function En(s){Fr.call(this),this.headers=new Map,this.u=s||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Gs,this.L=this.M=!1}Mt(En,Fr);var Gs="",Ms=/^https?$/i,xs=["POST","PUT"];function ha(s,e){s.h=!1,s.g&&(s.l=!0,s.g.abort(),s.l=!1),s.j=e,s.m=5,Pa(s),So(s)}function Pa(s){s.F||(s.F=!0,Pr(s,"complete"),Pr(s,"error"))}function Ts(s){if(s.h&&typeof nn<"u"&&(!s.C[1]||4!=is(s)||2!=s.da()))if(s.v&&4==is(s))Cn(s.La,0,s);else if(Pr(s,"readystatechange"),4==is(s)){s.h=!1;try{const f=s.da();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var o;if(o=0===f){var l=String(s.I).match(qi)[1]||null;!l&&Ct.self&&Ct.self.location&&(l=Ct.self.location.protocol.slice(0,-1)),o=!Ms.test(l?l.toLowerCase():"")}n=o}if(n)Pr(s,"complete"),Pr(s,"success");else{s.m=6;try{var u=2<is(s)?s.g.statusText:""}catch{u=""}s.j=u+" ["+s.da()+"]",Pa(s)}}finally{So(s)}}}function So(s,e){if(s.g){Go(s);const n=s.g,o=s.C[0]?()=>{}:null;s.g=null,s.C=null,e||Pr(s,"ready");try{n.onreadystatechange=o}catch{}}}function Go(s){s.g&&s.L&&(s.g.ontimeout=null),s.A&&(Ct.clearTimeout(s.A),s.A=null)}function is(s){return s.g?s.g.readyState:0}function al(s){try{if(!s.g)return null;if("response"in s.g)return s.g.response;switch(s.K){case Gs:case"text":return s.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in s.g)return s.g.mozResponseArrayBuffer}return null}catch{return null}}function Jn(s){let e="";return ti(s,function(n,o){e+=o,e+=":",e+=n,e+="\r\n"}),e}function ni(s,e,n){e:{for(o in n){var o=!1;break e}o=!0}o||(n=Jn(n),"string"==typeof s?null!=n&&encodeURIComponent(String(n)):hr(s,e,n))}function ei(s,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[s]||e}function pi(s){this.Ga=0,this.j=[],this.l=new Zn,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ei("failFast",!1,s),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ei("baseRetryDelayMs",5e3,s),this.hb=ei("retryDelaySeedMs",1e4,s),this.eb=ei("forwardChannelMaxRetries",2,s),this.xa=ei("forwardChannelRequestTimeoutMs",2e4,s),this.va=s&&s.xmlHttpFactory||void 0,this.Ha=s&&s.useFetchStreams||!1,this.L=void 0,this.J=s&&s.supportsCrossDomainXhr||!1,this.K="",this.i=new di(s&&s.concurrentRequestLimit),this.Ja=new da,this.P=s&&s.fastHandshake||!1,this.O=s&&s.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=s&&s.bc||!1,s&&s.Ea&&this.l.Ea(),s&&s.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&s&&s.detectBufferingProxy||!1,this.qa=void 0,s&&s.longPollingTimeout&&0<s.longPollingTimeout&&(this.qa=s.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function gi(s){if(Ma(s),3==s.H){var e=s.W++,n=$i(s.I);if(hr(n,"SID",s.K),hr(n,"RID",e),hr(n,"TYPE","terminate"),Ws(s,n),(e=new _s(s,s.l,e)).L=2,e.A=ro($i(n)),n=!1,Ct.navigator&&Ct.navigator.sendBeacon)try{n=Ct.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&Ct.Image&&((new Image).src=e.A,n=!0),n||(e.g=Tl(e.l,null),e.g.ha(e.A)),e.G=Date.now(),ys(e)}_a(s)}function Cs(s){s.g&&(Wo(s),s.g.cancel(),s.g=null)}function Ma(s){Cs(s),s.u&&(Ct.clearTimeout(s.u),s.u=null),ga(s),s.i.cancel(),s.m&&("number"==typeof s.m&&Ct.clearTimeout(s.m),s.m=null)}function Ns(s){if(!Ni(s.i)&&!s.m){s.m=!0;var e=s.Na;pe||rt(),we||(pe(),we=!0),nt.add(e,s),s.C=0}}function Ro(s,e){var n;n=e?e.m:s.W++;const o=$i(s.I);hr(o,"SID",s.K),hr(o,"RID",n),hr(o,"AID",s.V),Ws(s,o),s.o&&s.s&&ni(o,s.o,s.s),n=new _s(s,s.l,n,s.C+1),null===s.o&&(n.I=s.s),e&&(s.j=e.F.concat(s.j)),e=pa(s,n,1e3),n.setTimeout(Math.round(.5*s.xa)+Math.round(.5*s.xa*Math.random())),ao(s.i,n),Zr(n,o,e)}function Ws(s,e){s.na&&ti(s.na,function(n,o){hr(e,o,n)}),s.h&&ts({},function(n,o){hr(e,o,n)})}function pa(s,e,n){n=Math.min(s.j.length,n);var o=s.h?Gt(s.h.Va,s.h,s):null;e:{var l=s.j;let u=-1;for(;;){const f=["count="+n];-1==u?0<n?(u=l[0].g,f.push("ofs="+u)):u=0:f.push("ofs="+u);let D=!0;for(let M=0;M<n;M++){let B=l[M].g;const J=l[M].map;if(B-=u,0>B)u=Math.max(0,l[M].g-100),D=!1;else try{ws(J,f,"req"+B+"_")}catch{o&&o(J)}}if(D){o=f.join("&");break e}}}return s=s.j.splice(0,n),e.F=s,o}function lo(s){if(!s.g&&!s.u){s.ba=1;var e=s.Ma;pe||rt(),we||(pe(),we=!0),nt.add(e,s),s.A=0}}function Jo(s){return!(s.g||s.u||3<=s.A||(s.ba++,s.u=Us(Gt(s.Ma,s),ma(s,s.A)),s.A++,0))}function Wo(s){null!=s.B&&(Ct.clearTimeout(s.B),s.B=null)}function ea(s){s.g=new _s(s,s.l,"rpc",s.ba),null===s.o&&(s.g.I=s.s),s.g.O=0;var e=$i(s.wa);hr(e,"RID","rpc"),hr(e,"SID",s.K),hr(e,"AID",s.V),hr(e,"CI",s.G?"0":"1"),!s.G&&s.qa&&hr(e,"TO",s.qa),hr(e,"TYPE","xmlhttp"),Ws(s,e),s.o&&s.s&&ni(e,s.o,s.s),s.L&&s.g.setTimeout(s.L);var n=s.g;s=s.pa,n.L=1,n.A=ro($i(e)),n.u=null,n.S=!0,Ci(n,s)}function ga(s){null!=s.v&&(Ct.clearTimeout(s.v),s.v=null)}function zo(s,e){var n=null;if(s.g==e){ga(s),Wo(s),s.g=null;var o=2}else{if(!ua(s.i,e))return;n=e.F,Si(s.i,e),o=1}if(0!=s.H)if(e.i)if(1==o){n=e.u?e.u.length:0,e=Date.now()-e.G;var l=s.C;Pr(o=Tn(),new Bo(o,n)),Ns(s)}else lo(s);else if(3==(l=e.s)||0==l&&0<e.ca||!(1==o&&function ks(s,e){return!($s(s.i)>=s.i.j-(s.m?1:0)||(s.m?(s.j=e.F.concat(s.j),0):1==s.H||2==s.H||s.C>=(s.cb?0:s.eb)||(s.m=Us(Gt(s.Na,s,e),ma(s,s.C)),s.C++,0)))}(s,e)||2==o&&Jo(s)))switch(n&&0<n.length&&(e=s.i,e.i=e.i.concat(n)),l){case 1:zs(s,5);break;case 4:zs(s,10);break;case 3:zs(s,6);break;default:zs(s,2)}}function ma(s,e){let n=s.ab+Math.floor(Math.random()*s.hb);return s.isActive()||(n*=2),n*e}function zs(s,e){if(s.l.info("Error code "+e),2==e){var n=null;s.h&&(n=null);var o=Gt(s.pb,s);n||(n=new wi("//www.google.com/images/cleardot.gif"),Ct.location&&"http"==Ct.location.protocol||ns(n,"https"),ro(n)),function Do(s,e){const n=new Zn;if(Ct.Image){const o=new Image;o.onload=on($o,n,o,"TestLoadImage: loaded",!0,e),o.onerror=on($o,n,o,"TestLoadImage: error",!1,e),o.onabort=on($o,n,o,"TestLoadImage: abort",!1,e),o.ontimeout=on($o,n,o,"TestLoadImage: timeout",!1,e),Ct.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=s}else e(!1)}(n.toString(),o)}else Xr(2);s.H=0,s.h&&s.h.za(e),_a(s),Ma(s)}function _a(s){if(s.H=0,s.ma=[],s.h){const e=Ao(s.i);(0!=e.length||0!=s.j.length)&&(Qn(s.ma,e),Qn(s.ma,s.j),s.i.i.length=0,Wn(s.j),s.j.length=0),s.h.ya()}}function co(s,e,n){var o=n instanceof wi?$i(n):new wi(n);if(""!=o.g)e&&(o.g=e+"."+o.g),no(o,o.m);else{var l=Ct.location;o=l.protocol,e=e?e+"."+l.hostname:l.hostname,l=+l.port;var u=new wi(null);o&&ns(u,o),e&&(u.g=e),l&&no(u,l),n&&(u.l=n),o=u}return e=s.Da,(n=s.F)&&e&&hr(o,n,e),hr(o,"VER",s.ra),Ws(s,o),o}function Tl(s,e,n){if(e&&!s.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new En(s.Ha&&!s.va?new G({ob:n}):s.va)).Oa(s.J),e}function ya(){}function uo(){if(Sr&&!(10<=Number(rn)))throw Error("Environmental error: no available transport.")}function Gi(s,e){Fr.call(this),this.g=new pi(e),this.l=s,this.h=e&&e.messageUrlParams||null,s=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(s?s["X-Client-Protocol"]="webchannel":s={"X-Client-Protocol":"webchannel"}),this.g.s=s,s=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(s?s["X-WebChannel-Content-Type"]=e.messageContentType:s={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(s?s["X-WebChannel-Client-Profile"]=e.Ca:s={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=s,(s=e&&e.cc)&&!ir(s)&&(this.g.o=s),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ir(e)&&(this.g.F=e,null!==(s=this.h)&&e in s&&e in(s=this.h)&&delete s[e]),this.j=new ki(this)}function xa(s){ca.call(this),s.__headers__&&(this.headers=s.__headers__,this.statusCode=s.__status__,delete s.__headers__,delete s.__status__);var e=s.__sm__;if(e){e:{for(const n in e){s=n;break e}s=void 0}(this.i=s)&&(s=this.i,e=null!==e&&s in e?e[s]:void 0),this.data=e}else this.data=s}function Ko(){jo.call(this),this.status=1}function ki(s){this.g=s}function bs(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Oa(s,e,n){n||(n=0);var o=Array(16);if("string"==typeof e)for(var l=0;16>l;++l)o[l]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(l=0;16>l;++l)o[l]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var u=s.g[3],f=(e=s.g[0])+(u^(n=s.g[1])&((l=s.g[2])^u))+o[0]+3614090360&4294967295;f=(n=(l=(u=(e=(n=(l=(u=(e=(n=(l=(u=(e=(n=(l=(u=(e=(n=(l=(u=(e=(n=(l=(u=(e=(n=(l=(u=(e=(n=(l=(u=(e=(n=(l=(u=(e=(n=(l=(u=(e=(n=(l=(u=(e=(n=(l=(u=(e=(n=(l=(u=(e=(n=(l=(u=(e=(n=(l=(u=(e=n+(f<<7&4294967295|f>>>25))+((f=u+(l^e&(n^l))+o[1]+3905402710&4294967295)<<12&4294967295|f>>>20))+((f=l+(n^u&(e^n))+o[2]+606105819&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^l&(u^e))+o[3]+3250441966&4294967295)<<22&4294967295|f>>>10))+((f=e+(u^n&(l^u))+o[4]+4118548399&4294967295)<<7&4294967295|f>>>25))+((f=u+(l^e&(n^l))+o[5]+1200080426&4294967295)<<12&4294967295|f>>>20))+((f=l+(n^u&(e^n))+o[6]+2821735955&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^l&(u^e))+o[7]+4249261313&4294967295)<<22&4294967295|f>>>10))+((f=e+(u^n&(l^u))+o[8]+1770035416&4294967295)<<7&4294967295|f>>>25))+((f=u+(l^e&(n^l))+o[9]+2336552879&4294967295)<<12&4294967295|f>>>20))+((f=l+(n^u&(e^n))+o[10]+4294925233&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^l&(u^e))+o[11]+2304563134&4294967295)<<22&4294967295|f>>>10))+((f=e+(u^n&(l^u))+o[12]+1804603682&4294967295)<<7&4294967295|f>>>25))+((f=u+(l^e&(n^l))+o[13]+4254626195&4294967295)<<12&4294967295|f>>>20))+((f=l+(n^u&(e^n))+o[14]+2792965006&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^l&(u^e))+o[15]+1236535329&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^u&(n^l))+o[1]+4129170786&4294967295)<<5&4294967295|f>>>27))+((f=u+(n^l&(e^n))+o[6]+3225465664&4294967295)<<9&4294967295|f>>>23))+((f=l+(e^n&(u^e))+o[11]+643717713&4294967295)<<14&4294967295|f>>>18))+((f=n+(u^e&(l^u))+o[0]+3921069994&4294967295)<<20&4294967295|f>>>12))+((f=e+(l^u&(n^l))+o[5]+3593408605&4294967295)<<5&4294967295|f>>>27))+((f=u+(n^l&(e^n))+o[10]+38016083&4294967295)<<9&4294967295|f>>>23))+((f=l+(e^n&(u^e))+o[15]+3634488961&4294967295)<<14&4294967295|f>>>18))+((f=n+(u^e&(l^u))+o[4]+3889429448&4294967295)<<20&4294967295|f>>>12))+((f=e+(l^u&(n^l))+o[9]+568446438&4294967295)<<5&4294967295|f>>>27))+((f=u+(n^l&(e^n))+o[14]+3275163606&4294967295)<<9&4294967295|f>>>23))+((f=l+(e^n&(u^e))+o[3]+4107603335&4294967295)<<14&4294967295|f>>>18))+((f=n+(u^e&(l^u))+o[8]+1163531501&4294967295)<<20&4294967295|f>>>12))+((f=e+(l^u&(n^l))+o[13]+2850285829&4294967295)<<5&4294967295|f>>>27))+((f=u+(n^l&(e^n))+o[2]+4243563512&4294967295)<<9&4294967295|f>>>23))+((f=l+(e^n&(u^e))+o[7]+1735328473&4294967295)<<14&4294967295|f>>>18))+((f=n+(u^e&(l^u))+o[12]+2368359562&4294967295)<<20&4294967295|f>>>12))+((f=e+(n^l^u)+o[5]+4294588738&4294967295)<<4&4294967295|f>>>28))+((f=u+(e^n^l)+o[8]+2272392833&4294967295)<<11&4294967295|f>>>21))+((f=l+(u^e^n)+o[11]+1839030562&4294967295)<<16&4294967295|f>>>16))+((f=n+(l^u^e)+o[14]+4259657740&4294967295)<<23&4294967295|f>>>9))+((f=e+(n^l^u)+o[1]+2763975236&4294967295)<<4&4294967295|f>>>28))+((f=u+(e^n^l)+o[4]+1272893353&4294967295)<<11&4294967295|f>>>21))+((f=l+(u^e^n)+o[7]+4139469664&4294967295)<<16&4294967295|f>>>16))+((f=n+(l^u^e)+o[10]+3200236656&4294967295)<<23&4294967295|f>>>9))+((f=e+(n^l^u)+o[13]+681279174&4294967295)<<4&4294967295|f>>>28))+((f=u+(e^n^l)+o[0]+3936430074&4294967295)<<11&4294967295|f>>>21))+((f=l+(u^e^n)+o[3]+3572445317&4294967295)<<16&4294967295|f>>>16))+((f=n+(l^u^e)+o[6]+76029189&4294967295)<<23&4294967295|f>>>9))+((f=e+(n^l^u)+o[9]+3654602809&4294967295)<<4&4294967295|f>>>28))+((f=u+(e^n^l)+o[12]+3873151461&4294967295)<<11&4294967295|f>>>21))+((f=l+(u^e^n)+o[15]+530742520&4294967295)<<16&4294967295|f>>>16))+((f=n+(l^u^e)+o[2]+3299628645&4294967295)<<23&4294967295|f>>>9))+((f=e+(l^(n|~u))+o[0]+4096336452&4294967295)<<6&4294967295|f>>>26))+((f=u+(n^(e|~l))+o[7]+1126891415&4294967295)<<10&4294967295|f>>>22))+((f=l+(e^(u|~n))+o[14]+2878612391&4294967295)<<15&4294967295|f>>>17))+((f=n+(u^(l|~e))+o[5]+4237533241&4294967295)<<21&4294967295|f>>>11))+((f=e+(l^(n|~u))+o[12]+1700485571&4294967295)<<6&4294967295|f>>>26))+((f=u+(n^(e|~l))+o[3]+2399980690&4294967295)<<10&4294967295|f>>>22))+((f=l+(e^(u|~n))+o[10]+4293915773&4294967295)<<15&4294967295|f>>>17))+((f=n+(u^(l|~e))+o[1]+2240044497&4294967295)<<21&4294967295|f>>>11))+((f=e+(l^(n|~u))+o[8]+1873313359&4294967295)<<6&4294967295|f>>>26))+((f=u+(n^(e|~l))+o[15]+4264355552&4294967295)<<10&4294967295|f>>>22))+((f=l+(e^(u|~n))+o[6]+2734768916&4294967295)<<15&4294967295|f>>>17))+((f=n+(u^(l|~e))+o[13]+1309151649&4294967295)<<21&4294967295|f>>>11))+((u=(e=n+((f=e+(l^(n|~u))+o[4]+4149444226&4294967295)<<6&4294967295|f>>>26))+((f=u+(n^(e|~l))+o[11]+3174756917&4294967295)<<10&4294967295|f>>>22))^((l=u+((f=l+(e^(u|~n))+o[2]+718787259&4294967295)<<15&4294967295|f>>>17))|~e))+o[9]+3951481745&4294967295,s.g[0]=s.g[0]+e&4294967295,s.g[1]=s.g[1]+(l+(f<<21&4294967295|f>>>11))&4294967295,s.g[2]=s.g[2]+l&4294967295,s.g[3]=s.g[3]+u&4294967295}function jr(s,e){this.h=e;for(var n=[],o=!0,l=s.length-1;0<=l;l--){var u=0|s[l];o&&u==e||(n[l]=u,o=!1)}this.g=n}(vt=En.prototype).Oa=function(s){this.M=s},vt.ha=function(s,e,n,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+s);e=e?e.toUpperCase():"GET",this.I=s,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Ki.g(),this.C=function zi(s){return s.h||(s.h=s.i())}(this.u?this.u:Ki),this.g.onreadystatechange=Gt(this.La,this);try{this.G=!0,this.g.open(e,String(s),!0),this.G=!1}catch(u){return void ha(this,u)}if(s=n||"",n=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var l in o)n.set(l,o[l]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const u of o.keys())n.set(u,o.get(u))}o=Array.from(n.keys()).find(u=>"content-type"==u.toLowerCase()),l=Ct.FormData&&s instanceof Ct.FormData,!(0<=xn(xs,e))||o||l||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,f]of n)this.g.setRequestHeader(u,f);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Go(this),0<this.B&&((this.L=function Os(s){return Sr&&"number"==typeof s.timeout&&void 0!==s.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Gt(this.ua,this)):this.A=Cn(this.ua,this.B,this)),this.v=!0,this.g.send(s),this.v=!1}catch(u){ha(this,u)}},vt.ua=function(){typeof nn<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Pr(this,"timeout"),this.abort(8))},vt.abort=function(s){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=s||7,Pr(this,"complete"),Pr(this,"abort"),So(this))},vt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),So(this,!0)),En.$.N.call(this)},vt.La=function(){this.s||(this.G||this.v||this.l?Ts(this):this.kb())},vt.kb=function(){Ts(this)},vt.isActive=function(){return!!this.g},vt.da=function(){try{return 2<is(this)?this.g.status:-1}catch{return-1}},vt.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},vt.Wa=function(s){if(this.g){var e=this.g.responseText;return s&&0==e.indexOf(s)&&(e=e.substring(s.length)),Yn(e)}},vt.Ia=function(){return this.m},vt.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(vt=pi.prototype).ra=8,vt.H=1,vt.Na=function(s){if(this.m)if(this.m=null,1==this.H){if(!s){this.W=Math.floor(1e5*Math.random()),s=this.W++;const l=new _s(this,this.l,s);let u=this.s;if(this.U&&(u?(u=qe(u),Oe(u,this.U)):u=this.U),null!==this.o||this.O||(l.I=u,u=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var o=this.j[n];if(void 0===(o="__data__"in o.map&&"string"==typeof(o=o.map.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=pa(this,l,e),hr(n=$i(this.I),"RID",s),hr(n,"CVER",22),this.F&&hr(n,"X-HTTP-Session-Id",this.F),Ws(this,n),u&&(this.O?e="headers="+encodeURIComponent(String(Jn(u)))+"&"+e:this.o&&ni(n,this.o,u)),ao(this.i,l),this.bb&&hr(n,"TYPE","init"),this.P?(hr(n,"$req",e),hr(n,"SID","null"),l.aa=!0,Zr(l,n,null)):Zr(l,n,e),this.H=2}}else 3==this.H&&(s?Ro(this,s):0==this.j.length||Ni(this.i)||Ro(this))},vt.Ma=function(){if(this.u=null,ea(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var s=2*this.S;this.l.info("BP detection timer enabled: "+s),this.B=Us(Gt(this.jb,this),s)}},vt.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Xr(10),Cs(this),ea(this))},vt.ib=function(){null!=this.v&&(this.v=null,Cs(this),Jo(this),Xr(19))},vt.pb=function(s){s?(this.l.info("Successfully pinged google.com"),Xr(2)):(this.l.info("Failed to ping google.com"),Xr(1))},vt.isActive=function(){return!!this.h&&this.h.isActive(this)},(vt=ya.prototype).Ba=function(){},vt.Aa=function(){},vt.za=function(){},vt.ya=function(){},vt.isActive=function(){return!0},vt.Va=function(){},uo.prototype.g=function(s,e){return new Gi(s,e)},Mt(Gi,Fr),Gi.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var s=this.g,e=this.l,n=this.h||void 0;Xr(0),s.Y=e,s.na=n||{},s.G=s.aa,s.I=co(s,null,s.Y),Ns(s)},Gi.prototype.close=function(){gi(this.g)},Gi.prototype.u=function(s){var e=this.g;if("string"==typeof s){var n={};n.__data__=s,s=n}else this.v&&((n={}).__data__=ds(s),s=n);e.j.push(new oo(e.fb++,s)),3==e.H&&Ns(e)},Gi.prototype.N=function(){this.g.h=null,delete this.j,gi(this.g),delete this.g,Gi.$.N.call(this)},Mt(xa,ca),Mt(Ko,jo),Mt(ki,ya),ki.prototype.Ba=function(){Pr(this.g,"a")},ki.prototype.Aa=function(s){Pr(this.g,new xa(s))},ki.prototype.za=function(s){Pr(this.g,new Ko)},ki.prototype.ya=function(){Pr(this.g,"b")},Mt(bs,function ta(){this.blockSize=-1}),bs.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},bs.prototype.j=function(s,e){void 0===e&&(e=s.length);for(var n=e-this.blockSize,o=this.m,l=this.h,u=0;u<e;){if(0==l)for(;u<=n;)Oa(this,s,u),u+=this.blockSize;if("string"==typeof s){for(;u<e;)if(o[l++]=s.charCodeAt(u++),l==this.blockSize){Oa(this,o),l=0;break}}else for(;u<e;)if(o[l++]=s[u++],l==this.blockSize){Oa(this,o),l=0;break}}this.h=l,this.i+=e},bs.prototype.l=function(){var s=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);s[0]=128;for(var e=1;e<s.length-8;++e)s[e]=0;var n=8*this.i;for(e=s.length-8;e<s.length;++e)s[e]=255&n,n/=256;for(this.j(s),s=Array(16),e=n=0;4>e;++e)for(var o=0;32>o;o+=8)s[n++]=this.g[e]>>>o&255;return s};var Ka={};function ho(s){return-128<=s&&128>s?function Er(s,e){var n=Ka;return Object.prototype.hasOwnProperty.call(n,s)?n[s]:n[s]=e(s)}(s,function(e){return new jr([0|e],0>e?-1:0)}):new jr([0|s],0>s?-1:0)}function hs(s){if(isNaN(s)||!isFinite(s))return fo;if(0>s)return K(hs(-s));for(var e=[],n=1,o=0;s>=n;o++)e[o]=s/n|0,n*=cl;return new jr(e,0)}var cl=4294967296,fo=ho(0),Ks=ho(1),Cl=ho(16777216);function mi(s){if(0!=s.h)return!1;for(var e=0;e<s.g.length;e++)if(0!=s.g[e])return!1;return!0}function b(s){return-1==s.h}function K(s){for(var e=s.g.length,n=[],o=0;o<e;o++)n[o]=~s.g[o];return new jr(n,~s.h).add(Ks)}function O(s,e){return s.add(K(e))}function $(s,e){for(;(65535&s[e])!=s[e];)s[e+1]+=s[e]>>>16,s[e]&=65535,e++}function ve(s,e){this.g=s,this.h=e}function at(s,e){if(mi(e))throw Error("division by zero");if(mi(s))return new ve(fo,fo);if(b(s))return e=at(K(s),e),new ve(K(e.g),K(e.h));if(b(e))return e=at(s,K(e)),new ve(K(e.g),e.h);if(30<s.g.length){if(b(s)||b(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Ks,o=e;0>=o.X(s);)n=wt(n),o=wt(o);var l=hn(n,1),u=hn(o,1);for(o=hn(o,2),n=hn(n,2);!mi(o);){var f=u.add(o);0>=f.X(s)&&(l=l.add(n),u=f),o=hn(o,1),n=hn(n,1)}return e=O(s,l.R(e)),new ve(l,e)}for(l=fo;0<=s.X(e);){for(n=Math.max(1,Math.floor(s.ea()/e.ea())),o=48>=(o=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,o-48),f=(u=hs(n)).R(e);b(f)||0<f.X(s);)f=(u=hs(n-=o)).R(e);mi(u)&&(u=Ks),l=l.add(u),s=O(s,f)}return new ve(l,s)}function wt(s){for(var e=s.g.length+1,n=[],o=0;o<e;o++)n[o]=s.D(o)<<1|s.D(o-1)>>>31;return new jr(n,s.h)}function hn(s,e){var n=e>>5;e%=32;for(var o=s.g.length-n,l=[],u=0;u<o;u++)l[u]=0<e?s.D(u+n)>>>e|s.D(u+n+1)<<32-e:s.D(u+n);return new jr(l,s.h)}(vt=jr.prototype).ea=function(){if(b(this))return-K(this).ea();for(var s=0,e=1,n=0;n<this.g.length;n++){var o=this.D(n);s+=(0<=o?o:cl+o)*e,e*=cl}return s},vt.toString=function(s){if(2>(s=s||10)||36<s)throw Error("radix out of range: "+s);if(mi(this))return"0";if(b(this))return"-"+K(this).toString(s);for(var e=hs(Math.pow(s,6)),n=this,o="";;){var l=at(n,e).g,u=((0<(n=O(n,l.R(e))).g.length?n.g[0]:n.h)>>>0).toString(s);if(mi(n=l))return u+o;for(;6>u.length;)u="0"+u;o=u+o}},vt.D=function(s){return 0>s?0:s<this.g.length?this.g[s]:this.h},vt.X=function(s){return b(s=O(this,s))?-1:mi(s)?0:1},vt.abs=function(){return b(this)?K(this):this},vt.add=function(s){for(var e=Math.max(this.g.length,s.g.length),n=[],o=0,l=0;l<=e;l++){var u=o+(65535&this.D(l))+(65535&s.D(l)),f=(u>>>16)+(this.D(l)>>>16)+(s.D(l)>>>16);o=f>>>16,n[l]=(f&=65535)<<16|(u&=65535)}return new jr(n,-2147483648&n[n.length-1]?-1:0)},vt.R=function(s){if(mi(this)||mi(s))return fo;if(b(this))return b(s)?K(this).R(K(s)):K(K(this).R(s));if(b(s))return K(this.R(K(s)));if(0>this.X(Cl)&&0>s.X(Cl))return hs(this.ea()*s.ea());for(var e=this.g.length+s.g.length,n=[],o=0;o<2*e;o++)n[o]=0;for(o=0;o<this.g.length;o++)for(var l=0;l<s.g.length;l++){var u=this.D(o)>>>16,f=65535&this.D(o),D=s.D(l)>>>16,M=65535&s.D(l);n[2*o+2*l]+=f*M,$(n,2*o+2*l),n[2*o+2*l+1]+=u*M,$(n,2*o+2*l+1),n[2*o+2*l+1]+=f*D,$(n,2*o+2*l+1),n[2*o+2*l+2]+=u*D,$(n,2*o+2*l+2)}for(o=0;o<e;o++)n[o]=n[2*o+1]<<16|n[2*o];for(o=e;o<2*e;o++)n[o]=0;return new jr(n,0)},vt.gb=function(s){return at(this,s).h},vt.and=function(s){for(var e=Math.max(this.g.length,s.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)&s.D(o);return new jr(n,this.h&s.h)},vt.or=function(s){for(var e=Math.max(this.g.length,s.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)|s.D(o);return new jr(n,this.h|s.h)},vt.xor=function(s){for(var e=Math.max(this.g.length,s.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)^s.D(o);return new jr(n,this.h^s.h)},uo.prototype.createWebChannel=uo.prototype.g,Gi.prototype.send=Gi.prototype.u,Gi.prototype.open=Gi.prototype.m,Gi.prototype.close=Gi.prototype.close,Bs.NO_ERROR=0,Bs.TIMEOUT=8,Bs.HTTP_ERROR=6,lr.COMPLETE="complete",Yr.EventType=ms,ms.OPEN="a",ms.CLOSE="b",ms.ERROR="c",ms.MESSAGE="d",Fr.prototype.listen=Fr.prototype.O,En.prototype.listenOnce=En.prototype.P,En.prototype.getLastError=En.prototype.Sa,En.prototype.getLastErrorCode=En.prototype.Ia,En.prototype.getStatus=En.prototype.da,En.prototype.getResponseJson=En.prototype.Wa,En.prototype.getResponseText=En.prototype.ja,En.prototype.send=En.prototype.ha,En.prototype.setWithCredentials=En.prototype.Oa,bs.prototype.digest=bs.prototype.l,bs.prototype.reset=bs.prototype.reset,bs.prototype.update=bs.prototype.j,jr.prototype.add=jr.prototype.add,jr.prototype.multiply=jr.prototype.R,jr.prototype.modulo=jr.prototype.gb,jr.prototype.compare=jr.prototype.X,jr.prototype.toNumber=jr.prototype.ea,jr.prototype.toString=jr.prototype.toString,jr.prototype.getBits=jr.prototype.D,jr.fromNumber=hs,jr.fromString=function ll(s,e){if(0==s.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==s.charAt(0))return K(ll(s.substring(1),e));if(0<=s.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=hs(Math.pow(e,8)),o=fo,l=0;l<s.length;l+=8){var u=Math.min(8,s.length-l),f=parseInt(s.substring(l,l+u),e);8>u?(u=hs(Math.pow(e,u)),o=o.R(u).add(hs(f))):o=(o=o.R(n)).add(hs(f))}return o};var U=In.createWebChannelTransport=function(){return new uo},E=In.getStatEventTarget=function(){return Tn()},v=In.ErrorCode=Bs,S=In.EventType=lr,N=In.Event=_r,Z=In.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Ae=(In.FetchXmlHttpFactory=G,In.WebChannel=Yr),Ce=In.XhrIo=En,Ue=In.Md5=bs,St=In.Integer=jr;const Ft="@firebase/firestore";class sn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");let wn="10.10.0";const _n=new V.Vy("@firebase/firestore");function Qt(){return _n.logLevel}function mt(s,...e){if(_n.logLevel<=V.$b.DEBUG){const n=e.map(Ti);_n.debug(`Firestore (${wn}): ${s}`,...n)}}function Kt(s,...e){if(_n.logLevel<=V.$b.ERROR){const n=e.map(Ti);_n.error(`Firestore (${wn}): ${s}`,...n)}}function Ar(s,...e){if(_n.logLevel<=V.$b.WARN){const n=e.map(Ti);_n.warn(`Firestore (${wn}): ${s}`,...n)}}function Ti(s){if("string"==typeof s)return s;try{return JSON.stringify(s)}catch{return s}}function en(s="Unexpected state"){const e=`FIRESTORE (${wn}) INTERNAL ASSERTION FAILED: `+s;throw Kt(e),new Error(e)}function Vt(s,e){s||en()}function Nt(s,e){return s}const it={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Tt extends _e.g{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Fi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class Xi{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class As{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(sn.UNAUTHENTICATED))}shutdown(){}}class Po{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class rr{constructor(e){this.t=e,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var o=this;let l=this.i;const u=B=>this.i!==l?(l=this.i,n(B)):Promise.resolve();let f=new Fi;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new Fi,e.enqueueRetryable(()=>u(this.currentUser))};const D=()=>{const B=f;e.enqueueRetryable((0,Ee.A)(function*(){yield B.promise,yield u(o.currentUser)}))},M=B=>{mt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=B,this.auth.addAuthTokenListener(this.o),D()};this.t.onInit(B=>M(B)),setTimeout(()=>{if(!this.auth){const B=this.t.getImmediate({optional:!0});B?M(B):(mt("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new Fi)}},0),D()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(o=>this.i!==e?(mt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Vt("string"==typeof o.accessToken),new Xi(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Vt(null===e||"string"==typeof e),new sn(e)}}class bn{constructor(e,n,o){this.l=e,this.h=n,this.P=o,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Rn{constructor(e,n,o){this.l=e,this.h=n,this.P=o}getToken(){return Promise.resolve(new bn(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(sn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Pn{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Vn{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const o=u=>{null!=u.error&&mt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,mt("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>o(u))};const l=u=>{mt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>l(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?l(u):mt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Vt("string"==typeof n.token),this.R=n.token,new Pn(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Or(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let o=0;o<s;o++)n[o]=Math.floor(256*Math.random());return n}class ss{static newId(){const n=62*Math.floor(256/62);let o="";for(;o.length<20;){const l=Or(40);for(let u=0;u<l.length;++u)o.length<20&&l[u]<n&&(o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(l[u]%62))}return o}}function yn(s,e){return s<e?-1:s>e?1:0}function or(s,e,n){return s.length===e.length&&s.every((o,l)=>n(o,e[l]))}function qa(s){return s+"\0"}class Hr{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Tt(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Tt(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Tt(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Tt(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Hr.fromMillis(Date.now())}static fromDate(e){return Hr.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*n));return new Hr(n,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?yn(this.nanoseconds,e.nanoseconds):yn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class cn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new cn(e)}static min(){return new cn(new Hr(0,0))}static max(){return new cn(new Hr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class _i{constructor(e,n,o){void 0===n?n=0:n>e.length&&en(),void 0===o?o=e.length-n:o>e.length-n&&en(),this.segments=e,this.offset=n,this.len=o}get length(){return this.len}isEqual(e){return 0===_i.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof _i?e.forEach(o=>{n.push(o)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,o=this.limit();n<o;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const o=Math.min(e.length,n.length);for(let l=0;l<o;l++){const u=e.get(l),f=n.get(l);if(u<f)return-1;if(u>f)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Kn extends _i{construct(e,n,o){return new Kn(e,n,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const o of e){if(o.indexOf("//")>=0)throw new Tt(it.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);n.push(...o.split("/").filter(l=>l.length>0))}return new Kn(n)}static emptyPath(){return new Kn([])}}const na=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zr extends _i{construct(e,n,o){return new zr(e,n,o)}static isValidIdentifier(e){return na.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new zr(["__name__"])}static fromServerFormat(e){const n=[];let o="",l=0;const u=()=>{if(0===o.length)throw new Tt(it.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(o),o=""};let f=!1;for(;l<e.length;){const D=e[l];if("\\"===D){if(l+1===e.length)throw new Tt(it.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const M=e[l+1];if("\\"!==M&&"."!==M&&"`"!==M)throw new Tt(it.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=M,l+=2}else"`"===D?(f=!f,l++):"."!==D||f?(o+=D,l++):(u(),l++)}if(u(),f)throw new Tt(it.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zr(n)}static emptyPath(){return new zr([])}}class tn{constructor(e){this.path=e}static fromPath(e){return new tn(Kn.fromString(e))}static fromName(e){return new tn(Kn.fromString(e).popFirst(5))}static empty(){return new tn(Kn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Kn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Kn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new tn(new Kn(e.slice()))}}class va{constructor(e,n,o,l){this.indexId=e,this.collectionGroup=n,this.fields=o,this.indexState=l}}function Xl(s){return s.fields.find(e=>2===e.kind)}function qo(s){return s.fields.filter(e=>2!==e.kind)}va.UNKNOWN_ID=-1;class Na{constructor(e,n){this.fieldPath=e,this.kind=n}}class bl{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new bl(0,Mo.min())}}function gu(s,e){const n=s.toTimestamp().seconds,o=s.toTimestamp().nanoseconds+1,l=cn.fromTimestamp(1e9===o?new Hr(n+1,0):new Hr(n,o));return new Mo(l,tn.empty(),e)}function qh(s){return new Mo(s.readTime,s.key,-1)}class Mo{constructor(e,n,o){this.readTime=e,this.documentKey=n,this.largestBatchId=o}static min(){return new Mo(cn.min(),tn.empty(),-1)}static max(){return new Mo(cn.max(),tn.empty(),-1)}}function hd(s,e){let n=s.readTime.compareTo(e.readTime);return 0!==n?n:(n=tn.comparator(s.documentKey,e.documentKey),0!==n?n:yn(s.largestBatchId,e.largestBatchId))}const Qh="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Xh{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function ul(s){return fd.apply(this,arguments)}function fd(){return fd=(0,Ee.A)(function*(s){if(s.code!==it.FAILED_PRECONDITION||s.message!==Qh)throw s;mt("LocalStore","Unexpectedly lost primary lease")}),fd.apply(this,arguments)}class y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&en(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new y((o,l)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(o,l)},this.catchCallback=u=>{this.wrapFailure(n,u).next(o,l)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof y?n:y.resolve(n)}catch(n){return y.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):y.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):y.reject(n)}static resolve(e){return new y((n,o)=>{n(e)})}static reject(e){return new y((n,o)=>{o(e)})}static waitFor(e){return new y((n,o)=>{let l=0,u=0,f=!1;e.forEach(D=>{++l,D.next(()=>{++u,f&&u===l&&n()},M=>o(M))}),f=!0,u===l&&n()})}static or(e){let n=y.resolve(!1);for(const o of e)n=n.next(l=>l?y.resolve(l):o());return n}static forEach(e,n){const o=[];return e.forEach((l,u)=>{o.push(n.call(this,l,u))}),this.waitFor(o)}static mapArray(e,n){return new y((o,l)=>{const u=e.length,f=new Array(u);let D=0;for(let M=0;M<u;M++){const B=M;n(e[B]).next(J=>{f[B]=J,++D,D===u&&o(f)},J=>l(J))}})}static doWhile(e,n){return new y((o,l)=>{const u=()=>{!0===e()?n().next(()=>{u()},l):o()};u()})}}class R{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Fi,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new j(e,n.error)):this.V.resolve()},this.transaction.onerror=o=>{const l=ln(o.target.error);this.V.reject(new j(e,l))}}static open(e,n,o,l){try{return new R(n,e.transaction(l,o))}catch(u){throw new j(n,u)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(mt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const n=this.transaction.objectStore(e);return new Te(n)}}class T{constructor(e,n,o){this.name=e,this.version=n,this.p=o,12.2===T.S((0,_e.ZQ)())&&Kt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return mt("SimpleDb","Removing database:",e),ot(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,_e.zW)())return!1;if(T.C())return!0;const e=(0,_e.ZQ)(),n=T.S(e),o=0<n&&n<10,l=T.v(e),u=0<l&&l<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||u)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.F)}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static v(e){const n=e.match(/Android ([\d.]+)/i),o=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(o)}O(e){var n=this;return(0,Ee.A)(function*(){return n.db||(mt("SimpleDb","Opening database:",n.name),n.db=yield new Promise((o,l)=>{const u=indexedDB.open(n.name,n.version);u.onsuccess=f=>{o(f.target.result)},u.onblocked=()=>{l(new j(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=f=>{const D=f.target.error;l("VersionError"===D.name?new Tt(it.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===D.name?new Tt(it.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+D):new j(e,D))},u.onupgradeneeded=f=>{mt("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',f.oldVersion),n.p.N(f.target.result,u.transaction,f.oldVersion,n.version).next(()=>{mt("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.L&&(n.db.onversionchange=o=>n.L(o)),n.db})()}B(e){this.L=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,o,l){var u=this;return(0,Ee.A)(function*(){const f="readonly"===n;let D=0;for(;;){++D;try{u.db=yield u.O(e);const M=R.open(u.db,e,f?"readonly":"readwrite",o),B=l(M).next(J=>(M.g(),J)).catch(J=>(M.abort(J),y.reject(J))).toPromise();return B.catch(()=>{}),yield M.m,B}catch(M){const B=M,J="FirebaseError"!==B.name&&D<3;if(mt("SimpleDb","Transaction failed with error:",B.message,"Retrying:",J),u.close(),!J)return Promise.reject(B)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class P{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return ot(this.k.delete())}}class j extends Tt{constructor(e,n){super(it.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function ee(s){return"IndexedDbTransactionError"===s.name}class Te{constructor(e){this.store=e}put(e,n){let o;return void 0!==n?(mt("SimpleDb","PUT",this.store.name,e,n),o=this.store.put(n,e)):(mt("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),ot(o)}add(e){return mt("SimpleDb","ADD",this.store.name,e,e),ot(this.store.add(e))}get(e){return ot(this.store.get(e)).next(n=>(void 0===n&&(n=null),mt("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return mt("SimpleDb","DELETE",this.store.name,e),ot(this.store.delete(e))}count(){return mt("SimpleDb","COUNT",this.store.name),ot(this.store.count())}W(e,n){const o=this.options(e,n),l=o.index?this.store.index(o.index):this.store;if("function"==typeof l.getAll){const u=l.getAll(o.range);return new y((f,D)=>{u.onerror=M=>{D(M.target.error)},u.onsuccess=M=>{f(M.target.result)}})}{const u=this.cursor(o),f=[];return this.G(u,(D,M)=>{f.push(M)}).next(()=>f)}}j(e,n){const o=this.store.getAll(e,null===n?void 0:n);return new y((l,u)=>{o.onerror=f=>{u(f.target.error)},o.onsuccess=f=>{l(f.target.result)}})}H(e,n){mt("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,n);o.J=!1;const l=this.cursor(o);return this.G(l,(u,f,D)=>D.delete())}Y(e,n){let o;n?o=e:(o={},n=e);const l=this.cursor(o);return this.G(l,n)}Z(e){const n=this.cursor({});return new y((o,l)=>{n.onerror=u=>{const f=ln(u.target.error);l(f)},n.onsuccess=u=>{const f=u.target.result;f?e(f.primaryKey,f.value).next(D=>{D?f.continue():o()}):o()}})}G(e,n){const o=[];return new y((l,u)=>{e.onerror=f=>{u(f.target.error)},e.onsuccess=f=>{const D=f.target.result;if(!D)return void l();const M=new P(D),B=n(D.primaryKey,D.value,M);if(B instanceof y){const J=B.catch(fe=>(M.done(),y.reject(fe)));o.push(J)}M.isDone?l():null===M.$?D.continue():D.continue(M.$)}}).next(()=>y.waitFor(o))}options(e,n){let o;return void 0!==e&&("string"==typeof e?o=e:n=e),{index:o,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const o=this.store.index(e.index);return e.J?o.openKeyCursor(e.range,n):o.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function ot(s){return new y((e,n)=>{s.onsuccess=o=>{e(o.target.result)},s.onerror=o=>{const l=ln(o.target.error);n(l)}})}let Je=!1;function ln(s){const e=T.S((0,_e.ZQ)());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(s.message.indexOf(n)>=0){const o=new Tt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Je||(Je=!0,setTimeout(()=>{throw o},0)),o}}return s}class dr{constructor(e,n){this.asyncQueue=e,this.X=n,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){var n=this;mt("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Ee.A)(function*(){n.task=null;try{mt("IndexBackfiller",`Documents written: ${yield n.X.te()}`)}catch(o){ee(o)?mt("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",o):yield ul(o)}yield n.ee(6e4)}))}}class vr{constructor(e,n){this.localStore=e,this.persistence=n}te(e=50){var n=this;return(0,Ee.A)(function*(){return n.persistence.runTransaction("Backfill Indexes","readwrite-primary",o=>n.ne(o,e))})()}ne(e,n){const o=new Set;let l=n,u=!0;return y.doWhile(()=>!0===u&&l>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(f=>{if(null!==f&&!o.has(f))return mt("IndexBackfiller",`Processing collection: ${f}`),this.re(e,f,l).next(D=>{l-=D,o.add(f)});u=!1})).next(()=>n-l)}re(e,n,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(l=>this.localStore.localDocuments.getNextDocuments(e,n,l,o).next(u=>{const f=u.changes;return this.localStore.indexManager.updateIndexEntries(e,f).next(()=>this.ie(l,u)).next(D=>(mt("IndexBackfiller",`Updating offset: ${D}`),this.localStore.indexManager.updateCollectionGroup(e,n,D))).next(()=>f.size)}))}ie(e,n){let o=e;return n.changes.forEach((l,u)=>{const f=qh(u);hd(f,o)>0&&(o=f)}),new Mo(o.readTime,o.documentKey,Math.max(n.batchId,e.largestBatchId))}}let Vr=(()=>{class s{constructor(n,o){this.previousValue=n,o&&(o.sequenceNumberHandler=l=>this.se(l),this.oe=l=>o.writeSequenceNumber(l))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.oe&&this.oe(n),n}}return s._e=-1,s})();function xo(s){return null==s}function Ia(s){return 0===s&&1/s==-1/0}function ra(s){return"number"==typeof s&&Number.isInteger(s)&&!Ia(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}function os(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=pd(e)),e=as(s.get(n),e);return pd(e)}function as(s,e){let n=e;const o=s.length;for(let l=0;l<o;l++){const u=s.charAt(l);switch(u){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=u}}return n}function pd(s){return s+"\x01\x01"}function Qo(s){const e=s.length;if(Vt(e>=2),2===e)return Vt("\x01"===s.charAt(0)&&"\x01"===s.charAt(1)),Kn.emptyPath();const n=e-2,o=[];let l="";for(let u=0;u<e;){const f=s.indexOf("\x01",u);switch((f<0||f>n)&&en(),s.charAt(f+1)){case"\x01":const D=s.substring(u,f);let M;0===l.length?M=D:(l+=D,M=l,l=""),o.push(M);break;case"\x10":l+=s.substring(u,f),l+="\0";break;case"\x11":l+=s.substring(u,f+1);break;default:en()}u=f+2}return new Kn(o)}const Yl=["userId","batchId"];function Zl(s,e){return[s,os(e)]}function Xp(s,e,n){return[s,os(e),n]}const ri={},gd=["prefixPath","collectionGroup","readTime","documentId"],Ea=["prefixPath","collectionGroup","documentId"],Ls=["collectionGroup","readTime","prefixPath","documentId"],Yp=["canonicalId","targetId"],Tc=["targetId","path"],Jl=["path","targetId"],po=["collectionId","parent"],Yh=["indexId","uid"],md=["uid","sequenceNumber"],Zp=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],ia=["indexId","uid","orderedDocumentKey"],Zh=["userId","collectionPath","documentId"],_d=["userId","collectionPath","largestBatchId"],Jh=["userId","collectionGroup","largestBatchId"],ec=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Cc=[...ec,"documentOverlays"],tc=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Qa=tc,yd=[...Qa,"indexConfiguration","indexState","indexEntries"];class Xa extends Xh{constructor(e,n){super(),this.ae=e,this.currentSequenceNumber=n}}function An(s,e){const n=Nt(s);return T.M(n.ae,e)}function bc(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function Ya(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function ef(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class yi{constructor(e,n){this.comparator=e,this.root=n||fs.EMPTY}insert(e,n){return new yi(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,fs.BLACK,null,null))}remove(e){return new yi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fs.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const o=this.comparator(e,n.key);if(0===o)return n.value;o<0?n=n.left:o>0&&(n=n.right)}return null}indexOf(e){let n=0,o=this.root;for(;!o.isEmpty();){const l=this.comparator(e,o.key);if(0===l)return n+o.left.size;l<0?o=o.left:(n+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,o)=>(e(n,o),!1))}toString(){const e=[];return this.inorderTraversal((n,o)=>(e.push(`${n}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ac(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ac(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ac(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ac(this.root,e,this.comparator,!0)}}class Ac{constructor(e,n,o,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?o(e.key,n):1,n&&l&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fs{constructor(e,n,o,l,u){this.key=e,this.value=n,this.color=o??fs.RED,this.left=l??fs.EMPTY,this.right=u??fs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,o,l,u){return new fs(e??this.key,n??this.value,o??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,o){let l=this;const u=o(e,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(e,n,o),null):0===u?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,o)),l.fixUp()}removeMin(){if(this.left.isEmpty())return fs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let o,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===n(e,l.key)){if(l.right.isEmpty())return fs.EMPTY;o=l.right.min(),l=l.copy(o.key,o.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw en();const e=this.left.check();if(e!==this.right.check())throw en();return e+(this.isRed()?0:1)}}fs.EMPTY=null,fs.RED=!0,fs.BLACK=!1,fs.EMPTY=new class{constructor(){this.size=0}get key(){throw en()}get value(){throw en()}get color(){throw en()}get left(){throw en()}get right(){throw en()}copy(e,n,o,l,u){return this}insert(e,n,o){return new fs(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Kr{constructor(e){this.comparator=e,this.data=new yi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,o)=>(e(n),!1))}forEachInRange(e,n){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const l=o.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let o;for(o=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new tf(this.data.getIterator())}getIteratorFrom(e){return new tf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(o=>{n=n.add(o)}),n}isEqual(e){if(!(e instanceof Kr)||this.size!==e.size)return!1;const n=this.data.getIterator(),o=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=o.getNext().key;if(0!==this.comparator(l,u))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Kr(this.comparator);return n.data=e,n}}class tf{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function dl(s){return s.hasNext()?s.getNext():void 0}class Oo{constructor(e){this.fields=e,e.sort(zr.comparator)}static empty(){return new Oo([])}unionWith(e){let n=new Kr(zr.comparator);for(const o of this.fields)n=n.add(o);for(const o of e)n=n.add(o);return new Oo(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return or(this.fields,e.fields,(n,o)=>n.isEqual(o))}}class nf extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ht{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new nf("Invalid base64 string: "+u):u}}(e);return new ht(n)}static fromUint8Array(e){const n=function(l){let u="";for(let f=0;f<l.length;++f)u+=String.fromCharCode(l[f]);return u}(e);return new ht(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const o=new Uint8Array(n.length);for(let l=0;l<n.length;l++)o[l]=n.charCodeAt(l);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return yn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ht.EMPTY_BYTE_STRING=new ht("");const Mr=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wa(s){if(Vt(!!s),"string"==typeof s){let e=0;const n=Mr.exec(s);if(Vt(!!n),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const o=new Date(s);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Vi(s.seconds),nanos:Vi(s.nanos)}}function Vi(s){return"number"==typeof s?s:"string"==typeof s?Number(s):0}function Tr(s){return"string"==typeof s?ht.fromBase64String(s):ht.fromUint8Array(s)}function Al(s){var e,n;return"server_timestamp"===(null===(n=((null===(e=s?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ka(s){const e=s.mapValue.fields.__previous_value__;return Al(e)?ka(e):e}function go(s){const e=wa(s.mapValue.fields.__local_write_time__.timestampValue);return new Hr(e.seconds,e.nanos)}class Dc{constructor(e,n,o,l,u,f,D,M,B){this.databaseId=e,this.appId=n,this.persistenceKey=o,this.host=l,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=D,this.longPollingOptions=M,this.useFetchStreams=B}}class La{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new La("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof La&&e.projectId===this.projectId&&e.database===this.database}}const Za={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},mu={nullValue:"NULL_VALUE"};function Fa(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Al(s)?4:wd(s)?9007199254740991:10:en()}function Ri(s,e){if(s===e)return!0;const n=Fa(s);if(n!==Fa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return go(s).isEqual(go(e));case 3:return function(l,u){if("string"==typeof l.timestampValue&&"string"==typeof u.timestampValue&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const f=wa(l.timestampValue),D=wa(u.timestampValue);return f.seconds===D.seconds&&f.nanos===D.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return u=e,Tr(s.bytesValue).isEqual(Tr(u.bytesValue));case 7:return s.referenceValue===e.referenceValue;case 8:return function(l,u){return Vi(l.geoPointValue.latitude)===Vi(u.geoPointValue.latitude)&&Vi(l.geoPointValue.longitude)===Vi(u.geoPointValue.longitude)}(s,e);case 2:return function(l,u){if("integerValue"in l&&"integerValue"in u)return Vi(l.integerValue)===Vi(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const f=Vi(l.doubleValue),D=Vi(u.doubleValue);return f===D?Ia(f)===Ia(D):isNaN(f)&&isNaN(D)}return!1}(s,e);case 9:return or(s.arrayValue.values||[],e.arrayValue.values||[],Ri);case 10:return function(l,u){const f=l.mapValue.fields||{},D=u.mapValue.fields||{};if(bc(f)!==bc(D))return!1;for(const M in f)if(f.hasOwnProperty(M)&&(void 0===D[M]||!Ri(f[M],D[M])))return!1;return!0}(s,e);default:return en()}var u}function No(s,e){return void 0!==(s.values||[]).find(n=>Ri(n,e))}function Ta(s,e){if(s===e)return 0;const n=Fa(s),o=Fa(e);if(n!==o)return yn(n,o);switch(n){case 0:case 9007199254740991:return 0;case 1:return yn(s.booleanValue,e.booleanValue);case 2:return function(u,f){const D=Vi(u.integerValue||u.doubleValue),M=Vi(f.integerValue||f.doubleValue);return D<M?-1:D>M?1:D===M?0:isNaN(D)?isNaN(M)?0:-1:1}(s,e);case 3:return sa(s.timestampValue,e.timestampValue);case 4:return sa(go(s),go(e));case 5:return yn(s.stringValue,e.stringValue);case 6:return function(u,f){const D=Tr(u),M=Tr(f);return D.compareTo(M)}(s.bytesValue,e.bytesValue);case 7:return function(u,f){const D=u.split("/"),M=f.split("/");for(let B=0;B<D.length&&B<M.length;B++){const J=yn(D[B],M[B]);if(0!==J)return J}return yn(D.length,M.length)}(s.referenceValue,e.referenceValue);case 8:return function(u,f){const D=yn(Vi(u.latitude),Vi(f.latitude));return 0!==D?D:yn(Vi(u.longitude),Vi(f.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return function(u,f){const D=u.values||[],M=f.values||[];for(let B=0;B<D.length&&B<M.length;++B){const J=Ta(D[B],M[B]);if(J)return J}return yn(D.length,M.length)}(s.arrayValue,e.arrayValue);case 10:return function(u,f){if(u===Za.mapValue&&f===Za.mapValue)return 0;if(u===Za.mapValue)return 1;if(f===Za.mapValue)return-1;const D=u.fields||{},M=Object.keys(D),B=f.fields||{},J=Object.keys(B);M.sort(),J.sort();for(let fe=0;fe<M.length&&fe<J.length;++fe){const Ne=yn(M[fe],J[fe]);if(0!==Ne)return Ne;const et=Ta(D[M[fe]],B[J[fe]]);if(0!==et)return et}return yn(M.length,J.length)}(s.mapValue,e.mapValue);default:throw en()}}function sa(s,e){if("string"==typeof s&&"string"==typeof e&&s.length===e.length)return yn(s,e);const n=wa(s),o=wa(e),l=yn(n.seconds,o.seconds);return 0!==l?l:yn(n.nanos,o.nanos)}function ko(s){return Id(s)}function Id(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(n){const o=wa(n);return`time(${o.seconds},${o.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?Tr(s.bytesValue).toBase64():"referenceValue"in s?tn.fromName(s.referenceValue).toString():"geoPointValue"in s?function(n){return`geo(${n.latitude},${n.longitude})`}(s.geoPointValue):"arrayValue"in s?function(n){let o="[",l=!0;for(const u of n.values||[])l?l=!1:o+=",",o+=Id(u);return o+"]"}(s.arrayValue):"mapValue"in s?function(n){const o=Object.keys(n.fields||{}).sort();let l="{",u=!0;for(const f of o)u?u=!1:l+=",",l+=`${f}:${Id(n.fields[f])}`;return l+"}"}(s.mapValue):en()}function Sl(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Ed(s){return!!s&&"integerValue"in s}function hl(s){return!!s&&"arrayValue"in s}function _u(s){return!!s&&"nullValue"in s}function Rl(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Pl(s){return!!s&&"mapValue"in s}function Sc(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&"object"==typeof s.timestampValue)return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return Ya(s.mapValue.fields,(n,o)=>e.mapValue.fields[n]=Sc(o)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Sc(s.arrayValue.values[n]);return e}return Object.assign({},s)}function wd(s){return"__max__"===(((s.mapValue||{}).fields||{}).__type__||{}).stringValue}function Td(s){return"nullValue"in s?mu:"booleanValue"in s?{booleanValue:!1}:"integerValue"in s||"doubleValue"in s?{doubleValue:NaN}:"timestampValue"in s?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in s?{stringValue:""}:"bytesValue"in s?{bytesValue:""}:"referenceValue"in s?Sl(La.empty(),tn.empty()):"geoPointValue"in s?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in s?{arrayValue:{}}:"mapValue"in s?{mapValue:{}}:en()}function rf(s){return"nullValue"in s?{booleanValue:!1}:"booleanValue"in s?{doubleValue:NaN}:"integerValue"in s||"doubleValue"in s?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in s?{stringValue:""}:"stringValue"in s?{bytesValue:""}:"bytesValue"in s?Sl(La.empty(),tn.empty()):"referenceValue"in s?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in s?{arrayValue:{}}:"arrayValue"in s?{mapValue:{}}:"mapValue"in s?Za:en()}function Cd(s,e){const n=Ta(s.value,e.value);return 0!==n?n:s.inclusive&&!e.inclusive?-1:!s.inclusive&&e.inclusive?1:0}function bd(s,e){const n=Ta(s.value,e.value);return 0!==n?n:s.inclusive&&!e.inclusive?1:!s.inclusive&&e.inclusive?-1:0}class Ds{constructor(e){this.value=e}static empty(){return new Ds({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let o=0;o<e.length-1;++o)if(n=(n.mapValue.fields||{})[e.get(o)],!Pl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Sc(n)}setAll(e){let n=zr.emptyPath(),o={},l=[];e.forEach((f,D)=>{if(!n.isImmediateParentOf(D)){const M=this.getFieldsMap(n);this.applyChanges(M,o,l),o={},l=[],n=D.popLast()}f?o[D.lastSegment()]=Sc(f):l.push(D.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,o,l)}delete(e){const n=this.field(e.popLast());Pl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ri(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let o=0;o<e.length;++o){let l=n.mapValue.fields[e.get(o)];Pl(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(o)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,o){Ya(n,(l,u)=>e[l]=u);for(const l of o)delete e[l]}clone(){return new Ds(Sc(this.value))}}function nc(s){const e=[];return Ya(s.fields,(n,o)=>{const l=new zr([n]);if(Pl(o)){const u=nc(o.mapValue).fields;if(0===u.length)e.push(l);else for(const f of u)e.push(l.child(f))}else e.push(l)}),new Oo(e)}class bi{constructor(e,n,o,l,u,f,D){this.key=e,this.documentType=n,this.version=o,this.readTime=l,this.createTime=u,this.data=f,this.documentState=D}static newInvalidDocument(e){return new bi(e,0,cn.min(),cn.min(),cn.min(),Ds.empty(),0)}static newFoundDocument(e,n,o,l){return new bi(e,1,n,cn.min(),o,l,0)}static newNoDocument(e,n){return new bi(e,2,n,cn.min(),cn.min(),Ds.empty(),0)}static newUnknownDocument(e,n){return new bi(e,3,n,cn.min(),cn.min(),Ds.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(cn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ds.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ds.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=cn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof bi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new bi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ui{constructor(e,n){this.position=e,this.inclusive=n}}function fl(s,e,n){let o=0;for(let l=0;l<s.position.length;l++){const u=e[l],f=s.position[l];if(o=u.field.isKeyField()?tn.comparator(tn.fromName(f.referenceValue),n.key):Ta(f,n.data.field(u.field)),"desc"===u.dir&&(o*=-1),0!==o)break}return o}function vi(s,e){if(null===s)return null===e;if(null===e||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!Ri(s.position[n],e.position[n]))return!1;return!0}class rc{constructor(e,n="asc"){this.field=e,this.dir=n}}function sf(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class af{}class Nr extends af{constructor(e,n,o){super(),this.field=e,this.op=n,this.value=o}static create(e,n,o){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,o):new Ad(e,n,o):"array-contains"===n?new Nl(e,o):"in"===n?new Dd(e,o):"not-in"===n?new oc(e,o):"array-contains-any"===n?new lf(e,o):new Nr(e,n,o)}static createKeyFieldInFilter(e,n,o){return"in"===n?new vu(e,o):new Jp(e,o)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Ta(n,this.value)):null!==n&&Fa(this.value)===Fa(n)&&this.matchesComparison(Ta(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return en()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ii extends af{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new ii(e,n)}matches(e){return Ml(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Ml(s){return"and"===s.op}function xl(s){return"or"===s.op}function Lo(s){return yu(s)&&Ml(s)}function yu(s){for(const e of s.filters)if(e instanceof ii)return!1;return!0}function ic(s){if(s instanceof Nr)return s.field.canonicalString()+s.op.toString()+ko(s.value);if(Lo(s))return s.filters.map(e=>ic(e)).join(",");{const e=s.filters.map(n=>ic(n)).join(",");return`${s.op}(${e})`}}function Ol(s,e){return s instanceof Nr?(o=s,(l=e)instanceof Nr&&o.op===l.op&&o.field.isEqual(l.field)&&Ri(o.value,l.value)):s instanceof ii?function(o,l){return l instanceof ii&&o.op===l.op&&o.filters.length===l.filters.length&&o.filters.reduce((u,f,D)=>u&&Ol(f,l.filters[D]),!0)}(s,e):void en();var o,l}function Rc(s,e){const n=s.filters.concat(e);return ii.create(n,s.op)}function Pc(s){return s instanceof Nr?`${(n=s).field.canonicalString()} ${n.op} ${ko(n.value)}`:s instanceof ii?function(n){return n.op.toString()+" {"+n.getFilters().map(Pc).join(" ,")+"}"}(s):"Filter";var n}class Ad extends Nr{constructor(e,n,o){super(e,n,o),this.key=tn.fromName(o.referenceValue)}matches(e){const n=tn.comparator(e.key,this.key);return this.matchesComparison(n)}}class vu extends Nr{constructor(e,n){super(e,"in",n),this.keys=sc(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Jp extends Nr{constructor(e,n){super(e,"not-in",n),this.keys=sc(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function sc(s,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(o=>tn.fromName(o.referenceValue))}class Nl extends Nr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return hl(n)&&No(n.arrayValue,this.value)}}class Dd extends Nr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&No(this.value.arrayValue,n)}}class oc extends Nr{constructor(e,n){super(e,"not-in",n)}matches(e){if(No(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!No(this.value.arrayValue,n)}}class lf extends Nr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!hl(n)||!n.arrayValue.values)&&n.arrayValue.values.some(o=>No(this.value.arrayValue,o))}}class cf{constructor(e,n=null,o=[],l=[],u=null,f=null,D=null){this.path=e,this.collectionGroup=n,this.orderBy=o,this.filters=l,this.limit=u,this.startAt=f,this.endAt=D,this.ce=null}}function Sd(s,e=null,n=[],o=[],l=null,u=null,f=null){return new cf(s,e,n,o,l,u,f)}function ac(s){const e=Nt(s);if(null===e.ce){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(o=>ic(o)).join(","),n+="|ob:",n+=e.orderBy.map(o=>{return(u=o).field.canonicalString()+u.dir;var u}).join(","),xo(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(o=>ko(o)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(o=>ko(o)).join(",")),e.ce=n}return e.ce}function Iu(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!sf(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!Ol(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!vi(s.startAt,e.startAt)&&vi(s.endAt,e.endAt)}function lc(s){return tn.isDocumentKey(s.path)&&null===s.collectionGroup&&0===s.filters.length}function pl(s,e){return s.filters.filter(n=>n instanceof Nr&&n.field.isEqual(e))}function Rd(s,e,n){let o=mu,l=!0;for(const u of pl(s,e)){let f=mu,D=!0;switch(u.op){case"<":case"<=":f=Td(u.value);break;case"==":case"in":case">=":f=u.value;break;case">":f=u.value,D=!1;break;case"!=":case"not-in":f=mu}Cd({value:o,inclusive:l},{value:f,inclusive:D})<0&&(o=f,l=D)}if(null!==n)for(let u=0;u<s.orderBy.length;++u)if(s.orderBy[u].field.isEqual(e)){const f=n.position[u];Cd({value:o,inclusive:l},{value:f,inclusive:n.inclusive})<0&&(o=f,l=n.inclusive);break}return{value:o,inclusive:l}}function cc(s,e,n){let o=Za,l=!0;for(const u of pl(s,e)){let f=Za,D=!0;switch(u.op){case">=":case">":f=rf(u.value),D=!1;break;case"==":case"in":case"<=":f=u.value;break;case"<":f=u.value,D=!1;break;case"!=":case"not-in":f=Za}bd({value:o,inclusive:l},{value:f,inclusive:D})>0&&(o=f,l=D)}if(null!==n)for(let u=0;u<s.orderBy.length;++u)if(s.orderBy[u].field.isEqual(e)){const f=n.position[u];bd({value:o,inclusive:l},{value:f,inclusive:n.inclusive})>0&&(o=f,l=n.inclusive);break}return{value:o,inclusive:l}}class Va{constructor(e,n=null,o=[],l=[],u=null,f="F",D=null,M=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=o,this.filters=l,this.limit=u,this.limitType=f,this.startAt=D,this.endAt=M,this.le=null,this.he=null,this.Pe=null}}function Mc(s,e,n,o,l,u,f,D){return new Va(s,e,n,o,l,u,f,D)}function w(s){return new Va(s)}function h(s){return 0===s.filters.length&&null===s.limit&&null==s.startAt&&null==s.endAt&&(0===s.explicitOrderBy.length||1===s.explicitOrderBy.length&&s.explicitOrderBy[0].field.isKeyField())}function g(s){return null!==s.collectionGroup}function C(s){const e=Nt(s);if(null===e.le){e.le=[];const n=new Set;for(const u of e.explicitOrderBy)e.le.push(u),n.add(u.field.canonicalString());const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let D=new Kr(zr.comparator);return f.filters.forEach(M=>{M.getFlattenedFilters().forEach(B=>{B.isInequality()&&(D=D.add(B.field))})}),D})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.le.push(new rc(u,o))}),n.has(zr.keyField().canonicalString())||e.le.push(new rc(zr.keyField(),o))}return e.le}function H(s){const e=Nt(s);return e.he||(e.he=function ie(s,e){if("F"===s.limitType)return Sd(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(l=>new rc(l.field,"desc"===l.dir?"asc":"desc"));const n=s.endAt?new Ui(s.endAt.position,s.endAt.inclusive):null,o=s.startAt?new Ui(s.startAt.position,s.startAt.inclusive):null;return Sd(s.path,s.collectionGroup,e,s.filters,s.limit,n,o)}}(e,C(s))),e.he}function Le(s,e){const n=s.filters.concat([e]);return new Va(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function ct(s,e,n){return new Va(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function Dt(s,e){return Iu(H(s),H(e))&&s.limitType===e.limitType}function vn(s){return`${ac(H(s))}|lt:${s.limitType}`}function Mn(s){return`Query(target=${function(n){let o=n.path.canonicalString();return null!==n.collectionGroup&&(o+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(o+=`, filters: [${n.filters.map(l=>Pc(l)).join(", ")}]`),xo(n.limit)||(o+=", limit: "+n.limit),n.orderBy.length>0&&(o+=`, orderBy: [${n.orderBy.map(l=>{return`${(f=l).field.canonicalString()} (${f.dir})`;var f}).join(", ")}]`),n.startAt&&(o+=", startAt: ",o+=n.startAt.inclusive?"b:":"a:",o+=n.startAt.position.map(l=>ko(l)).join(",")),n.endAt&&(o+=", endAt: ",o+=n.endAt.inclusive?"a:":"b:",o+=n.endAt.position.map(l=>ko(l)).join(",")),`Target(${o})`}(H(s))}; limitType=${s.limitType})`}function Ir(s,e){return e.isFoundDocument()&&function(o,l){const u=l.key.path;return null!==o.collectionGroup?l.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(u):tn.isDocumentKey(o.path)?o.path.isEqual(u):o.path.isImmediateParentOf(u)}(s,e)&&function(o,l){for(const u of C(o))if(!u.field.isKeyField()&&null===l.data.field(u.field))return!1;return!0}(s,e)&&function(o,l){for(const u of o.filters)if(!u.matches(l))return!1;return!0}(s,e)&&(l=e,!((o=s).startAt&&!function(f,D,M){const B=fl(f,D,M);return f.inclusive?B<=0:B<0}(o.startAt,C(o),l)||o.endAt&&!function(f,D,M){const B=fl(f,D,M);return f.inclusive?B>=0:B>0}(o.endAt,C(o),l)));var o,l}function qs(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function Ua(s){return(e,n)=>{let o=!1;for(const l of C(s)){const u=xc(l,e,n);if(0!==u)return u;o=o||l.field.isKeyField()}return 0}}function xc(s,e,n){const o=s.field.isKeyField()?tn.comparator(e.key,n.key):function(u,f,D){const M=f.data.field(u),B=D.data.field(u);return null!==M&&null!==B?Ta(M,B):en()}(s.field,e,n);switch(s.dir){case"asc":return o;case"desc":return-1*o;default:return en()}}class Ca{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0!==o)for(const[l,u]of o)if(this.equalsFn(l,e))return u}has(e){return void 0!==this.get(e)}set(e,n){const o=this.mapKeyFn(e),l=this.inner[o];if(void 0===l)return this.inner[o]=[[e,n]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],e))return void(l[u]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0===o)return!1;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return 1===o.length?delete this.inner[n]:o.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Ya(this.inner,(n,o)=>{for(const[l,u]of o)e(l,u)})}isEmpty(){return ef(this.inner)}size(){return this.innerSize}}const Pd=new yi(tn.comparator);function Ss(){return Pd}const Ja=new yi(tn.comparator);function kl(...s){let e=Ja;for(const n of s)e=e.insert(n.key,n);return e}function Eu(s){let e=Ja;return s.forEach((n,o)=>e=e.insert(n,o.overlayedDocument)),e}function oa(){return ba()}function el(){return ba()}function ba(){return new Ca(s=>s.toString(),(s,e)=>s.isEqual(e))}const ps=new yi(tn.comparator),Md=new Kr(tn.comparator);function pr(...s){let e=Md;for(const n of s)e=e.add(n);return e}const eg=new Kr(yn);function tg(){return eg}function ng(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ia(e)?"-0":e}}function xd(s){return{integerValue:""+s}}function k_(s,e){return ra(e)?xd(e):ng(s,e)}class Od{constructor(){this._=void 0}}function rg(s,e,n){return s instanceof wu?function(l,u){const f={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&Al(u)&&(u=ka(u)),u&&(f.fields.__previous_value__=u),{mapValue:f}}(n,e):s instanceof Oc?L_(s,e):s instanceof uc?F_(s,e):function(l,u){const f=ig(l,u),D=V_(f)+V_(l.Ie);return Ed(f)&&Ed(l.Ie)?xd(D):ng(l.serializer,D)}(s,e)}function uf(s,e,n){return s instanceof Oc?L_(s,e):s instanceof uc?F_(s,e):n}function ig(s,e){return s instanceof Nc?Ed(o=e)||(u=o)&&"doubleValue"in u?e:{integerValue:0}:null;var o,u}class wu extends Od{}class Oc extends Od{constructor(e){super(),this.elements=e}}function L_(s,e){const n=U_(e);for(const o of s.elements)n.some(l=>Ri(l,o))||n.push(o);return{arrayValue:{values:n}}}class uc extends Od{constructor(e){super(),this.elements=e}}function F_(s,e){let n=U_(e);for(const o of s.elements)n=n.filter(l=>!Ri(l,o));return{arrayValue:{values:n}}}class Nc extends Od{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function V_(s){return Vi(s.integerValue||s.doubleValue)}function U_(s){return hl(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class df{constructor(e,n){this.field=e,this.transform=n}}class j_{constructor(e,n){this.version=e,this.transformResults=n}}class $r{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new $r}static exists(e){return new $r(void 0,e)}static updateTime(e){return new $r(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sg(s,e){return void 0!==s.updateTime?e.isFoundDocument()&&e.version.isEqual(s.updateTime):void 0===s.exists||s.exists===e.isFoundDocument()}class Nd{}function vI(s,e){if(!s.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return s.isNoDocument()?new kd(s.key,$r.none()):new Tu(s.key,s.data,$r.none());{const n=s.data,o=Ds.empty();let l=new Kr(zr.comparator);for(let u of e.fields)if(!l.has(u)){let f=n.field(u);null===f&&u.length>1&&(u=u.popLast(),f=n.field(u)),null===f?o.delete(u):o.set(u,f),l=l.add(u)}return new Ll(s.key,o,new Oo(l.toArray()),$r.none())}}function og(s,e,n){s instanceof Tu?function(l,u,f){const D=l.value.clone(),M=II(l.fieldTransforms,u,f.transformResults);D.setAll(M),u.convertToFoundDocument(f.version,D).setHasCommittedMutations()}(s,e,n):s instanceof Ll?function(l,u,f){if(!sg(l.precondition,u))return void u.convertToUnknownDocument(f.version);const D=II(l.fieldTransforms,u,f.transformResults),M=u.data;M.setAll(ag(l)),M.setAll(D),u.convertToFoundDocument(f.version,M).setHasCommittedMutations()}(s,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Aa(s,e,n,o){return s instanceof Tu?function(u,f,D,M){if(!sg(u.precondition,f))return D;const B=u.value.clone(),J=EI(u.fieldTransforms,M,f);return B.setAll(J),f.convertToFoundDocument(f.version,B).setHasLocalMutations(),null}(s,e,n,o):s instanceof Ll?function(u,f,D,M){if(!sg(u.precondition,f))return D;const B=EI(u.fieldTransforms,M,f),J=f.data;return J.setAll(ag(u)),J.setAll(B),f.convertToFoundDocument(f.version,J).setHasLocalMutations(),null===D?null:D.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(fe=>fe.field))}(s,e,n,o):(D=n,sg(s.precondition,f=e)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):D);var f,D}function H_(s,e){let n=null;for(const o of s.fieldTransforms){const l=e.data.field(o.field),u=ig(o.transform,l||null);null!=u&&(null===n&&(n=Ds.empty()),n.set(o.field,u))}return n||null}function kc(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&(l=e.fieldTransforms,!!(void 0===(o=s.fieldTransforms)&&void 0===l||o&&l&&or(o,l,(u,f)=>function B_(s,e){return s.field.isEqual(e.field)&&(l=e.transform,(o=s.transform)instanceof Oc&&l instanceof Oc||o instanceof uc&&l instanceof uc?or(o.elements,l.elements,Ri):o instanceof Nc&&l instanceof Nc?Ri(o.Ie,l.Ie):o instanceof wu&&l instanceof wu);var o,l}(u,f))))&&(0===s.type?s.value.isEqual(e.value):1!==s.type||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask));var o,l}class Tu extends Nd{constructor(e,n,o,l=[]){super(),this.key=e,this.value=n,this.precondition=o,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Ll extends Nd{constructor(e,n,o,l,u=[]){super(),this.key=e,this.data=n,this.fieldMask=o,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function ag(s){const e=new Map;return s.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const o=s.data.field(n);e.set(n,o)}}),e}function II(s,e,n){const o=new Map;Vt(s.length===n.length);for(let l=0;l<n.length;l++){const u=s[l],f=u.transform,D=e.data.field(u.field);o.set(u.field,uf(f,D,n[l]))}return o}function EI(s,e,n){const o=new Map;for(const l of s){const u=l.transform,f=n.data.field(l.field);o.set(l.field,rg(u,f,e))}return o}class kd extends Nd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $_ extends Nd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class G_{constructor(e,n,o,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=o,this.mutations=l}applyToRemoteDocument(e,n){const o=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(e.key)&&og(u,e,o[l])}}applyToLocalView(e,n){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(n=Aa(o,e,n,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(n=Aa(o,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const o=el();return this.mutations.forEach(l=>{const u=e.get(l.key),f=u.overlayedDocument;let D=this.applyToLocalView(f,u.mutatedFields);D=n.has(l.key)?null:D;const M=vI(f,D);null!==M&&o.set(l.key,M),f.isValidDocument()||f.convertToNoDocument(cn.min())}),o}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),pr())}isEqual(e){return this.batchId===e.batchId&&or(this.mutations,e.mutations,(n,o)=>kc(n,o))&&or(this.baseMutations,e.baseMutations,(n,o)=>kc(n,o))}}class lg{constructor(e,n,o,l){this.batch=e,this.commitVersion=n,this.mutationResults=o,this.docVersions=l}static from(e,n,o){Vt(e.mutations.length===o.length);let l=function(){return ps}();const u=e.mutations;for(let f=0;f<u.length;f++)l=l.insert(u[f].key,o[f].version);return new lg(e,n,o,l)}}class dc{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class W_{constructor(e,n){this.count=e,this.unchangedNames=n}}var Rs,Gr;function tl(s){switch(s){default:return en();case it.CANCELLED:case it.UNKNOWN:case it.DEADLINE_EXCEEDED:case it.RESOURCE_EXHAUSTED:case it.INTERNAL:case it.UNAVAILABLE:case it.UNAUTHENTICATED:return!1;case it.INVALID_ARGUMENT:case it.NOT_FOUND:case it.ALREADY_EXISTS:case it.PERMISSION_DENIED:case it.FAILED_PRECONDITION:case it.ABORTED:case it.OUT_OF_RANGE:case it.UNIMPLEMENTED:case it.DATA_LOSS:return!0}}function z_(s){if(void 0===s)return Kt("GRPC error has no .code"),it.UNKNOWN;switch(s){case Rs.OK:return it.OK;case Rs.CANCELLED:return it.CANCELLED;case Rs.UNKNOWN:return it.UNKNOWN;case Rs.DEADLINE_EXCEEDED:return it.DEADLINE_EXCEEDED;case Rs.RESOURCE_EXHAUSTED:return it.RESOURCE_EXHAUSTED;case Rs.INTERNAL:return it.INTERNAL;case Rs.UNAVAILABLE:return it.UNAVAILABLE;case Rs.UNAUTHENTICATED:return it.UNAUTHENTICATED;case Rs.INVALID_ARGUMENT:return it.INVALID_ARGUMENT;case Rs.NOT_FOUND:return it.NOT_FOUND;case Rs.ALREADY_EXISTS:return it.ALREADY_EXISTS;case Rs.PERMISSION_DENIED:return it.PERMISSION_DENIED;case Rs.FAILED_PRECONDITION:return it.FAILED_PRECONDITION;case Rs.ABORTED:return it.ABORTED;case Rs.OUT_OF_RANGE:return it.OUT_OF_RANGE;case Rs.UNIMPLEMENTED:return it.UNIMPLEMENTED;case Rs.DATA_LOSS:return it.DATA_LOSS;default:return en()}}(Gr=Rs||(Rs={}))[Gr.OK=0]="OK",Gr[Gr.CANCELLED=1]="CANCELLED",Gr[Gr.UNKNOWN=2]="UNKNOWN",Gr[Gr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Gr[Gr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Gr[Gr.NOT_FOUND=5]="NOT_FOUND",Gr[Gr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Gr[Gr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Gr[Gr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Gr[Gr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Gr[Gr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Gr[Gr.ABORTED=10]="ABORTED",Gr[Gr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Gr[Gr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Gr[Gr.INTERNAL=13]="INTERNAL",Gr[Gr.UNAVAILABLE=14]="UNAVAILABLE",Gr[Gr.DATA_LOSS=15]="DATA_LOSS";function bu(){return new TextEncoder}const wI=new St([4294967295,4294967295],0);function cg(s){const e=bu().encode(s),n=new Ue;return n.update(e),new Uint8Array(n.digest())}function ug(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),o=e.getUint32(4,!0),l=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new St([n,o],0),new St([l,u],0)]}class Au{constructor(e,n,o){if(this.bitmap=e,this.padding=n,this.hashCount=o,n<0||n>=8)throw new hc(`Invalid padding: ${n}`);if(o<0)throw new hc(`Invalid hash count: ${o}`);if(e.length>0&&0===this.hashCount)throw new hc(`Invalid hash count: ${o}`);if(0===e.length&&0!==n)throw new hc(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=St.fromNumber(this.Te)}de(e,n,o){let l=e.add(n.multiply(St.fromNumber(o)));return 1===l.compare(wI)&&(l=new St([l.getBits(0),l.getBits(1)],0)),l.modulo(this.Ee).toNumber()}Ae(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const n=cg(e),[o,l]=ug(n);for(let u=0;u<this.hashCount;u++){const f=this.de(o,l,u);if(!this.Ae(f))return!1}return!0}static create(e,n,o){const l=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Au(u,l,n);return o.forEach(D=>f.insert(D)),f}insert(e){if(0===this.Te)return;const n=cg(e),[o,l]=ug(n);for(let u=0;u<this.hashCount;u++){const f=this.de(o,l,u);this.Re(f)}}Re(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class hc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Lc{constructor(e,n,o,l,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=o,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,o){const l=new Map;return l.set(e,Fd.createSynthesizedTargetChangeForCurrentChange(e,n,o)),new Lc(cn.min(),l,new yi(yn),Ss(),pr())}}class Fd{constructor(e,n,o,l,u){this.resumeToken=e,this.current=n,this.addedDocuments=o,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,o){return new Fd(o,n,pr(),pr(),pr())}}class hf{constructor(e,n,o,l){this.Ve=e,this.removedTargetIds=n,this.key=o,this.me=l}}class K_{constructor(e,n){this.targetId=e,this.fe=n}}class dg{constructor(e,n,o=ht.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=o,this.cause=l}}class q_{constructor(){this.ge=0,this.pe=ff(),this.ye=ht.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=pr(),n=pr(),o=pr();return this.pe.forEach((l,u)=>{switch(u){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:o=o.add(l);break;default:en()}}),new Fd(this.ye,this.we,e,n,o)}Fe(){this.Se=!1,this.pe=ff()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Vt(this.ge>=0)}Le(){this.Se=!0,this.we=!0}}class TI{constructor(e){this.Be=e,this.ke=new Map,this.qe=Ss(),this.Qe=Xo(),this.Ke=new yi(yn)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const o=this.ze(n);switch(e.state){case 0:this.je(n)&&o.Ce(e.resumeToken);break;case 1:o.Ne(),o.be||o.Fe(),o.Ce(e.resumeToken);break;case 2:o.Ne(),o.be||this.removeTarget(n);break;case 3:this.je(n)&&(o.Le(),o.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),o.Ce(e.resumeToken));break;default:en()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((o,l)=>{this.je(l)&&n(l)})}Je(e){const n=e.targetId,o=e.fe.count,l=this.Ye(n);if(l){const u=l.target;if(lc(u))if(0===o){const f=new tn(u.path);this.We(n,f,bi.newNoDocument(f,cn.min()))}else Vt(1===o);else{const f=this.Ze(n);if(f!==o){const D=this.Xe(e),M=D?this.et(D,e,f):1;0!==M&&(this.He(n),this.Ke=this.Ke.insert(n,2===M?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:o="",padding:l=0},hashCount:u=0}=n;let f,D;try{f=Tr(o).toUint8Array()}catch(M){if(M instanceof nf)return Ar("Decoding the base64 bloom filter in existence filter failed ("+M.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw M}try{D=new Au(f,l,u)}catch(M){return Ar(M instanceof hc?"BloomFilter error: ":"Applying bloom filter failed: ",M),null}return 0===D.Te?null:D}et(e,n,o){return n.fe.count===o-this.rt(e,n.targetId)?0:2}rt(e,n){const o=this.Be.getRemoteKeysForTarget(n);let l=0;return o.forEach(u=>{const f=this.Be.nt(),D=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(D)||(this.We(n,u,null),l++)}),l}it(e){const n=new Map;this.ke.forEach((u,f)=>{const D=this.Ye(f);if(D){if(u.current&&lc(D.target)){const M=new tn(D.target.path);null!==this.qe.get(M)||this.st(f,M)||this.We(f,M,bi.newNoDocument(M,e))}u.De&&(n.set(f,u.ve()),u.Fe())}});let o=pr();this.Qe.forEach((u,f)=>{let D=!0;f.forEachWhile(M=>{const B=this.Ye(M);return!B||"TargetPurposeLimboResolution"===B.purpose||(D=!1,!1)}),D&&(o=o.add(u))}),this.qe.forEach((u,f)=>f.setReadTime(e));const l=new Lc(e,n,this.Ke,this.qe,o);return this.qe=Ss(),this.Qe=Xo(),this.Ke=new yi(yn),l}Ue(e,n){if(!this.je(e))return;const o=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,o),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,o){if(!this.je(e))return;const l=this.ze(e);this.st(e,n)?l.Me(n,1):l.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),o&&(this.qe=this.qe.insert(n,o))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new q_,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Kr(yn),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=null!==this.Ye(e);return n||mt("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Be._t(e)}He(e){this.ke.set(e,new q_),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}}function Xo(){return new yi(tn.comparator)}function ff(){return new yi(tn.comparator)}const Q_={asc:"ASCENDING",desc:"DESCENDING"},hg={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Fo={and:"AND",or:"OR"};class Vd{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function pf(s,e){return s.useProto3Json||xo(e)?e:{value:e}}function Fc(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function X_(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function Y_(s,e){return Fc(s,e.toTimestamp())}function gs(s){return Vt(!!s),cn.fromTimestamp(function(n){const o=wa(n);return new Hr(o.seconds,o.nanos)}(s))}function gf(s,e){return fg(s,e).canonicalString()}function fg(s,e){const n=(l=s,new Kn(["projects",l.projectId,"databases",l.database])).child("documents");var l;return void 0===e?n:n.child(e)}function pg(s){const e=Kn.fromString(s);return Vt(oy(e)),e}function Ud(s,e){return gf(s.databaseId,e.path)}function gl(s,e){const n=pg(e);if(n.get(1)!==s.databaseId.projectId)throw new Tt(it.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new Tt(it.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new tn(gg(n))}function Z_(s,e){return gf(s.databaseId,e)}function J_(s){const e=pg(s);return 4===e.length?Kn.emptyPath():gg(e)}function mf(s){return new Kn(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function gg(s){return Vt(s.length>4&&"documents"===s.get(4)),s.popFirst(5)}function mg(s,e,n){return{name:Ud(s,e),fields:n.value.mapValue.fields}}function Bd(s,e,n){const o=gl(s,e.name),l=gs(e.updateTime),u=e.createTime?gs(e.createTime):cn.min(),f=new Ds({mapValue:{fields:e.fields}}),D=bi.newFoundDocument(o,l,u,f);return n&&D.setHasCommittedMutations(),n?D.setHasCommittedMutations():D}function Du(s,e){let n;if(e instanceof Tu)n={update:mg(s,e.key,e.value)};else if(e instanceof kd)n={delete:Ud(s,e.key)};else if(e instanceof Ll)n={update:mg(s,e.key,e.data),updateMask:vg(e.fieldMask)};else{if(!(e instanceof $_))return en();n={verify:Ud(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(o=>function(u,f){const D=f.transform;if(D instanceof wu)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(D instanceof Oc)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:D.elements}};if(D instanceof uc)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:D.elements}};if(D instanceof Nc)return{fieldPath:f.field.canonicalString(),increment:D.Ie};throw en()}(0,o))),e.precondition.isNone||(n.currentDocument=void 0!==(u=e.precondition).updateTime?{updateTime:Y_(s,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:en()),n;var u}function _f(s,e){const n=e.currentDocument?void 0!==(u=e.currentDocument).updateTime?$r.updateTime(gs(u.updateTime)):void 0!==u.exists?$r.exists(u.exists):$r.none():$r.none(),o=e.updateTransforms?e.updateTransforms.map(l=>function(f,D){let M=null;"setToServerValue"in D?(Vt("REQUEST_TIME"===D.setToServerValue),M=new wu):"appendMissingElements"in D?M=new Oc(D.appendMissingElements.values||[]):"removeAllFromArray"in D?M=new uc(D.removeAllFromArray.values||[]):"increment"in D?M=new Nc(f,D.increment):en();const B=zr.fromServerFormat(D.fieldPath);return new df(B,M)}(s,l)):[];var u;if(e.update){const l=gl(s,e.update.name),u=new Ds({mapValue:{fields:e.update.fields}});if(e.updateMask){const f=new Oo((e.updateMask.fieldPaths||[]).map(J=>zr.fromServerFormat(J)));return new Ll(l,u,f,n,o)}return new Tu(l,u,n,o)}if(e.delete){const l=gl(s,e.delete);return new kd(l,n)}if(e.verify){const l=gl(s,e.verify);return new $_(l,n)}return en()}function ny(s,e){return{documents:[Z_(s,e.path)]}}function _g(s,e){const n={structuredQuery:{}},o=e.path;let l;null!==e.collectionGroup?(l=o,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=o.popLast(),n.structuredQuery.from=[{collectionId:o.lastSegment()}]),n.parent=Z_(s,l);const u=function(B){if(0!==B.length)return yg(ii.create(B,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(B){if(0!==B.length)return B.map(J=>{return{field:Vc((Ne=J).field),direction:sy(Ne.dir)};var Ne})}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const D=pf(s,e.limit);return null!==D&&(n.structuredQuery.limit=D),e.startAt&&(n.structuredQuery.startAt={before:(B=e.startAt).inclusive,values:B.position}),e.endAt&&(n.structuredQuery.endAt=function(B){return{before:!B.inclusive,values:B.position}}(e.endAt)),{ut:n,parent:l};var B}function ry(s){let e=J_(s.parent);const n=s.structuredQuery,o=n.from?n.from.length:0;let l=null;if(o>0){Vt(1===o);const J=n.from[0];J.allDescendants?l=J.collectionId:e=e.child(J.collectionId)}let u=[];n.where&&(u=function(fe){const Ne=bI(fe);return Ne instanceof ii&&Lo(Ne)?Ne.getFilters():[Ne]}(n.where));let f=[];n.orderBy&&(f=n.orderBy.map(Ne=>{return new rc(Su((jt=Ne).field),function(qt){switch(qt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(jt.direction));var jt}));let D=null;n.limit&&(D=function(fe){let Ne;return Ne="object"==typeof fe?fe.value:fe,xo(Ne)?null:Ne}(n.limit));let M=null;var fe;n.startAt&&(M=new Ui((fe=n.startAt).values||[],!!fe.before));let B=null;return n.endAt&&(B=function(fe){return new Ui(fe.values||[],!fe.before)}(n.endAt)),Mc(e,l,f,u,D,"F",M,B)}function bI(s){return void 0!==s.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const o=Su(n.unaryFilter.field);return Nr.create(o,"==",{doubleValue:NaN});case"IS_NULL":const l=Su(n.unaryFilter.field);return Nr.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Su(n.unaryFilter.field);return Nr.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Su(n.unaryFilter.field);return Nr.create(f,"!=",{nullValue:"NULL_VALUE"});default:return en()}}(s):void 0!==s.fieldFilter?Nr.create(Su((n=s).fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return en()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==s.compositeFilter?function(n){return ii.create(n.compositeFilter.filters.map(o=>bI(o)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return en()}}(n.compositeFilter.op))}(s):en();var n}function sy(s){return Q_[s]}function AI(s){return hg[s]}function DI(s){return Fo[s]}function Vc(s){return{fieldPath:s.canonicalString()}}function Su(s){return zr.fromServerFormat(s.fieldPath)}function yg(s){return s instanceof Nr?function(n){if("=="===n.op){if(Rl(n.value))return{unaryFilter:{field:Vc(n.field),op:"IS_NAN"}};if(_u(n.value))return{unaryFilter:{field:Vc(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(Rl(n.value))return{unaryFilter:{field:Vc(n.field),op:"IS_NOT_NAN"}};if(_u(n.value))return{unaryFilter:{field:Vc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vc(n.field),op:AI(n.op),value:n.value}}}(s):s instanceof ii?function(n){const o=n.getFilters().map(l=>yg(l));return 1===o.length?o[0]:{compositeFilter:{op:DI(n.op),filters:o}}}(s):en()}function vg(s){const e=[];return s.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function oy(s){return s.length>=4&&"projects"===s.get(0)&&"databases"===s.get(2)}class Vo{constructor(e,n,o,l,u=cn.min(),f=cn.min(),D=ht.EMPTY_BYTE_STRING,M=null){this.target=e,this.targetId=n,this.purpose=o,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=D,this.expectedCount=M}withSequenceNumber(e){return new Vo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Vo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Vo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Vo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Ig{constructor(e){this.ct=e}}function Eg(s,e){const n=e.key,o={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Ru(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:Ud(u=s.ct,(f=e).key),fields:f.data.value.mapValue.fields,updateTime:Fc(u,f.version.toTimestamp()),createTime:Fc(u,f.createTime.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:n.path.toArray(),readTime:Pu(e.version)};else{if(!e.isUnknownDocument())return en();o.unknownDocument={path:n.path.toArray(),version:Pu(e.version)}}var u,f;return o}function Ru(s){const e=s.toTimestamp();return[e.seconds,e.nanoseconds]}function Pu(s){const e=s.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Uc(s){const e=new Hr(s.seconds,s.nanoseconds);return cn.fromTimestamp(e)}function Bc(s,e){const n=(e.baseMutations||[]).map(u=>_f(s.ct,u));for(let u=0;u<e.mutations.length-1;++u)u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(e.mutations[u].updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u);const o=e.mutations.map(u=>_f(s.ct,u)),l=Hr.fromMillis(e.localWriteTimeMs);return new G_(e.batchId,l,n,o)}function jd(s){const e=Uc(s.readTime),n=void 0!==s.lastLimboFreeSnapshotVersion?Uc(s.lastLimboFreeSnapshotVersion):cn.min();let o;return o=void 0!==s.query.documents?(Vt(1===(u=s.query).documents.length),H(w(J_(u.documents[0])))):function(u){return H(ry(u))}(s.query),new Vo(o,s.targetId,"TargetPurposeListen",s.lastListenSequenceNumber,e,n,ht.fromBase64String(s.resumeToken));var u}function ay(s,e){const n=Pu(e.snapshotVersion),o=Pu(e.lastLimboFreeSnapshotVersion);let l;l=lc(e.target)?ny(s.ct,e.target):_g(s.ct,e.target).ut;const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ac(e.target),readTime:n,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:l}}function ly(s){const e=ry({parent:s.parent,structuredQuery:s.structuredQuery});return"LAST"===s.limitType?ct(e,e.limit,"L"):e}function cy(s,e){return new dc(e.largestBatchId,_f(s.ct,e.overlayMutation))}function Hd(s,e){const n=e.path.lastSegment();return[s,os(e.path.popLast()),n]}function uy(s,e,n,o){return{indexId:s,uid:e,sequenceNumber:n,readTime:Pu(o.readTime),documentKey:os(o.documentKey.path),largestBatchId:o.largestBatchId}}class wg{getBundleMetadata(e,n){return yf(e).get(n).next(o=>{if(o)return{id:(u=o).bundleId,createTime:Uc(u.createTime),version:u.version};var u})}saveBundleMetadata(e,n){return yf(e).put({bundleId:(l=n).id,createTime:Pu(gs(l.createTime)),version:l.version});var l}getNamedQuery(e,n){return jc(e).get(n).next(o=>{if(o)return{name:(u=o).name,query:ly(u.bundledQuery),readTime:Uc(u.readTime)};var u})}saveNamedQuery(e,n){return jc(e).put({name:(l=n).name,readTime:Pu(gs(l.readTime)),bundledQuery:l.bundledQuery});var l}}function yf(s){return An(s,"bundles")}function jc(s){return An(s,"namedQueries")}class Mu{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){return new Mu(e,n.uid||"")}getOverlay(e,n){return Hc(e).get(Hd(this.userId,n)).next(o=>o?cy(this.serializer,o):null)}getOverlays(e,n){const o=oa();return y.forEach(n,l=>this.getOverlay(e,l).next(u=>{null!==u&&o.set(l,u)})).next(()=>o)}saveOverlays(e,n,o){const l=[];return o.forEach((u,f)=>{const D=new dc(n,f);l.push(this.ht(e,D))}),y.waitFor(l)}removeOverlaysForBatchId(e,n,o){const l=new Set;n.forEach(f=>l.add(os(f.getCollectionPath())));const u=[];return l.forEach(f=>{const D=IDBKeyRange.bound([this.userId,f,o],[this.userId,f,o+1],!1,!0);u.push(Hc(e).H("collectionPathOverlayIndex",D))}),y.waitFor(u)}getOverlaysForCollection(e,n,o){const l=oa(),u=os(n),f=IDBKeyRange.bound([this.userId,u,o],[this.userId,u,Number.POSITIVE_INFINITY],!0);return Hc(e).W("collectionPathOverlayIndex",f).next(D=>{for(const M of D){const B=cy(this.serializer,M);l.set(B.getKey(),B)}return l})}getOverlaysForCollectionGroup(e,n,o,l){const u=oa();let f;const D=IDBKeyRange.bound([this.userId,n,o],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Hc(e).Y({index:"collectionGroupOverlayIndex",range:D},(M,B,J)=>{const fe=cy(this.serializer,B);u.size()<l||fe.largestBatchId===f?(u.set(fe.getKey(),fe),f=fe.largestBatchId):J.done()}).next(()=>u)}ht(e,n){return Hc(e).put(function(l,u,f){const[D,M,B]=Hd(u,f.mutation.key);return{userId:u,collectionPath:M,documentId:B,collectionGroup:f.mutation.key.getCollectionGroup(),largestBatchId:f.largestBatchId,overlayMutation:Du(l.ct,f.mutation)}}(this.serializer,this.userId,n))}}function Hc(s){return An(s,"documentOverlays")}class nl{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(Vi(e.integerValue));else if("doubleValue"in e){const o=Vi(e.doubleValue);isNaN(o)?this.Et(n,13):(this.Et(n,15),Ia(o)?n.dt(0):n.dt(o))}else if("timestampValue"in e){const o=e.timestampValue;this.Et(n,20),"string"==typeof o?n.At(o):(n.At(`${o.seconds||""}`),n.dt(o.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(Tr(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){const o=e.geoPointValue;this.Et(n,45),n.dt(o.latitude||0),n.dt(o.longitude||0)}else"mapValue"in e?wd(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):en()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){const o=e.fields||{};this.Et(n,55);for(const l of Object.keys(o))this.Rt(l,n),this.It(o[l],n)}wt(e,n){const o=e.values||[];this.Et(n,50);for(const l of o)this.It(l,n)}gt(e,n){this.Et(n,37),tn.fromName(e).path.forEach(o=>{this.Et(n,60),this.St(o,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}}function vf(s){if(0===s)return 8;let e=0;return!(s>>4)&&(e+=4,s<<=4),!(s>>6)&&(e+=2,s<<=2),!(s>>7)&&(e+=1),e}function $c(s){const e=64-function(o){let l=0;for(let u=0;u<8;++u){const f=vf(255&o[u]);if(l+=f,8!==f)break}return l}(s);return Math.ceil(e/8)}nl.bt=new nl;class Tg{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const n=e[Symbol.iterator]();let o=n.next();for(;!o.done;)this.Ct(o.value),o=n.next();this.vt()}Ft(e){const n=e[Symbol.iterator]();let o=n.next();for(;!o.done;)this.Mt(o.value),o=n.next();this.xt()}Ot(e){for(const n of e){const o=n.charCodeAt(0);if(o<128)this.Ct(o);else if(o<2048)this.Ct(960|o>>>6),this.Ct(128|63&o);else if(n<"\ud800"||"\udbff"<n)this.Ct(480|o>>>12),this.Ct(128|63&o>>>6),this.Ct(128|63&o);else{const l=n.codePointAt(0);this.Ct(240|l>>>18),this.Ct(128|63&l>>>12),this.Ct(128|63&l>>>6),this.Ct(128|63&l)}}this.vt()}Nt(e){for(const n of e){const o=n.charCodeAt(0);if(o<128)this.Mt(o);else if(o<2048)this.Mt(960|o>>>6),this.Mt(128|63&o);else if(n<"\ud800"||"\udbff"<n)this.Mt(480|o>>>12),this.Mt(128|63&o>>>6),this.Mt(128|63&o);else{const l=n.codePointAt(0);this.Mt(240|l>>>18),this.Mt(128|63&l>>>12),this.Mt(128|63&l>>>6),this.Mt(128|63&l)}}this.xt()}Lt(e){const n=this.Bt(e),o=$c(n);this.kt(1+o),this.buffer[this.position++]=255&o;for(let l=n.length-o;l<n.length;++l)this.buffer[this.position++]=255&n[l]}qt(e){const n=this.Bt(e),o=$c(n);this.kt(1+o),this.buffer[this.position++]=~(255&o);for(let l=n.length-o;l<n.length;++l)this.buffer[this.position++]=~(255&n[l])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){const n=function(u){const f=new DataView(new ArrayBuffer(8));return f.setFloat64(0,u,!1),new Uint8Array(f.buffer)}(e),o=!!(128&n[0]);n[0]^=o?255:128;for(let l=1;l<n.length;++l)n[l]^=o?255:0;return n}Ct(e){const n=255&e;0===n?(this.Kt(0),this.Kt(255)):255===n?(this.Kt(255),this.Kt(0)):this.Kt(n)}Mt(e){const n=255&e;0===n?(this.Ut(0),this.Ut(255)):255===n?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const n=e+this.position;if(n<=this.buffer.length)return;let o=2*this.buffer.length;o<n&&(o=n);const l=new Uint8Array(o);l.set(this.buffer),this.buffer=l}}class Cg{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}}class If{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class Ef{constructor(){this.Gt=new Tg,this.zt=new Cg(this.Gt),this.jt=new If(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return 0===e?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class Fl{constructor(e,n,o,l){this.indexId=e,this.documentKey=n,this.arrayValue=o,this.directionalValue=l}Jt(){const e=this.directionalValue.length,n=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(n);return o.set(this.directionalValue,0),n!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new Fl(this.indexId,this.documentKey,this.arrayValue,o)}}function Ba(s,e){let n=s.indexId-e.indexId;return 0!==n?n:(n=dy(s.arrayValue,e.arrayValue),0!==n?n:(n=dy(s.directionalValue,e.directionalValue),0!==n?n:tn.comparator(s.documentKey,e.documentKey)))}function dy(s,e){for(let n=0;n<s.length&&n<e.length;++n){const o=s[n]-e[n];if(0!==o)return o}return s.length-e.length}class bg{constructor(e){this.Yt=new Kr((n,o)=>zr.comparator(n.field,o.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const n of e.filters){const o=n;o.isInequality()?this.Yt=this.Yt.add(o):this.Xt.push(o)}}get en(){return this.Yt.size>1}tn(e){if(Vt(e.collectionGroup===this.collectionId),this.en)return!1;const n=Xl(e);if(void 0!==n&&!this.nn(n))return!1;const o=qo(e);let l=new Set,u=0,f=0;for(;u<o.length&&this.nn(o[u]);++u)l=l.add(o[u].fieldPath.canonicalString());if(u===o.length)return!0;if(this.Yt.size>0){const D=this.Yt.getIterator().getNext();if(!l.has(D.field.canonicalString())){const M=o[u];if(!this.rn(D,M)||!this.sn(this.Zt[f++],M))return!1}++u}for(;u<o.length;++u)if(f>=this.Zt.length||!this.sn(this.Zt[f++],o[u]))return!1;return!0}on(){if(this.en)return null;let e=new Kr(zr.comparator);const n=[];for(const o of this.Xt)if(!o.field.isKeyField())if("array-contains"===o.op||"array-contains-any"===o.op)n.push(new Na(o.field,2));else{if(e.has(o.field))continue;e=e.add(o.field),n.push(new Na(o.field,0))}for(const o of this.Zt)o.field.isKeyField()||e.has(o.field)||(e=e.add(o.field),n.push(new Na(o.field,"asc"===o.dir?0:1)));return new va(va.UNKNOWN_ID,this.collectionId,n,bl.empty())}nn(e){for(const n of this.Xt)if(this.rn(n,e))return!0;return!1}rn(e,n){return!(void 0===e||!e.field.isEqual(n.fieldPath))&&2===n.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,n){return!!e.field.isEqual(n.fieldPath)&&(0===n.kind&&"asc"===e.dir||1===n.kind&&"desc"===e.dir)}}function hy(s){var e,n;if(Vt(s instanceof Nr||s instanceof ii),s instanceof Nr){if(s instanceof Dd){const l=(null===(n=null===(e=s.value.arrayValue)||void 0===e?void 0:e.values)||void 0===n?void 0:n.map(u=>Nr.create(s.field,"==",u)))||[];return ii.create(l,"or")}return s}const o=s.filters.map(l=>hy(l));return ii.create(o,s.op)}function RI(s){if(0===s.getFilters().length)return[];const e=Ag(hy(s));return Vt(fy(e)),$d(e)||wf(e)?[e]:e.getFilters()}function $d(s){return s instanceof Nr}function wf(s){return s instanceof ii&&Lo(s)}function fy(s){return $d(s)||wf(s)||function(n){if(n instanceof ii&&xl(n)){for(const o of n.getFilters())if(!$d(o)&&!wf(o))return!1;return!0}return!1}(s)}function Ag(s){if(Vt(s instanceof Nr||s instanceof ii),s instanceof Nr)return s;if(1===s.filters.length)return Ag(s.filters[0]);const e=s.filters.map(o=>Ag(o));let n=ii.create(e,s.op);return n=xu(n),fy(n)?n:(Vt(n instanceof ii),Vt(Ml(n)),Vt(n.filters.length>1),n.filters.reduce((o,l)=>Gc(o,l)))}function Gc(s,e){let n;return Vt(s instanceof Nr||s instanceof ii),Vt(e instanceof Nr||e instanceof ii),n=s instanceof Nr?e instanceof Nr?ii.create([s,e],"and"):Dg(s,e):e instanceof Nr?Dg(e,s):function(l,u){if(Vt(l.filters.length>0&&u.filters.length>0),Ml(l)&&Ml(u))return Rc(l,u.getFilters());const f=xl(l)?l:u,D=xl(l)?u:l,M=f.filters.map(B=>Gc(B,D));return ii.create(M,"or")}(s,e),xu(n)}function Dg(s,e){if(Ml(e))return Rc(e,s.getFilters());{const n=e.filters.map(o=>Gc(s,o));return ii.create(n,"or")}}function xu(s){if(Vt(s instanceof Nr||s instanceof ii),s instanceof Nr)return s;const e=s.getFilters();if(1===e.length)return xu(e[0]);if(yu(s))return s;const n=e.map(l=>xu(l)),o=[];return n.forEach(l=>{l instanceof Nr?o.push(l):l instanceof ii&&(l.op===s.op?o.push(...l.filters):o.push(l))}),1===o.length?o[0]:ii.create(o,s.op)}class PI{constructor(){this._n=new py}addToCollectionParentIndex(e,n){return this._n.add(n),y.resolve()}getCollectionParents(e,n){return y.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return y.resolve()}deleteFieldIndex(e,n){return y.resolve()}deleteAllFieldIndexes(e){return y.resolve()}createTargetIndexes(e,n){return y.resolve()}getDocumentsMatchingTarget(e,n){return y.resolve(null)}getIndexType(e,n){return y.resolve(0)}getFieldIndexes(e,n){return y.resolve([])}getNextCollectionGroupToUpdate(e){return y.resolve(null)}getMinOffset(e,n){return y.resolve(Mo.min())}getMinOffsetFromCollectionGroup(e,n){return y.resolve(Mo.min())}updateCollectionGroup(e,n,o){return y.resolve()}updateIndexEntries(e,n){return y.resolve()}}class py{constructor(){this.index={}}add(e){const n=e.lastSegment(),o=e.popLast(),l=this.index[n]||new Kr(Kn.comparator),u=!l.has(o);return this.index[n]=l.add(o),u}has(e){const n=e.lastSegment(),o=e.popLast(),l=this.index[n];return l&&l.has(o)}getEntries(e){return(this.index[e]||new Kr(Kn.comparator)).toArray()}}const Sg=new Uint8Array(0);class Gd{constructor(e,n){this.databaseId=n,this.an=new py,this.un=new Ca(o=>ac(o),(o,l)=>Iu(o,l)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.an.has(n)){const o=n.lastSegment(),l=n.popLast();e.addOnCommittedListener(()=>{this.an.add(n)});const u={collectionId:o,parent:os(l)};return gy(e).put(u)}return y.resolve()}getCollectionParents(e,n){const o=[],l=IDBKeyRange.bound([n,""],[qa(n),""],!1,!0);return gy(e).W(l).next(u=>{for(const f of u){if(f.collectionId!==n)break;o.push(Qo(f.parent))}return o})}addFieldIndex(e,n){const o=Wc(e),l={indexId:(D=n).indexId,collectionGroup:D.collectionGroup,fields:D.fields.map(M=>[M.fieldPath.canonicalString(),M.kind])};var D;delete l.indexId;const u=o.add(l);if(n.indexState){const f=Ou(e);return u.next(D=>{f.put(uy(D,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return u.next()}deleteFieldIndex(e,n){const o=Wc(e),l=Ou(e),u=Vl(e);return o.delete(n.indexId).next(()=>l.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=Wc(e),o=Vl(e),l=Ou(e);return n.H().next(()=>o.H()).next(()=>l.H())}createTargetIndexes(e,n){return y.forEach(this.cn(n),o=>this.getIndexType(e,o).next(l=>{if(0===l||1===l){const u=new bg(o).on();if(null!=u)return this.addFieldIndex(e,u)}}))}getDocumentsMatchingTarget(e,n){const o=Vl(e);let l=!0;const u=new Map;return y.forEach(this.cn(n),f=>this.ln(e,f).next(D=>{l&&(l=!!D),u.set(f,D)})).next(()=>{if(l){let f=pr();const D=[];return y.forEach(u,(M,B)=>{var Ln;mt("IndexedDbIndexManager",`Using index ${Ln=M,`id=${Ln.indexId}|cg=${Ln.collectionGroup}|f=${Ln.fields.map(mr=>`${mr.fieldPath}:${mr.kind}`).join(",")}`} to execute ${ac(n)}`);const J=function(Ln,mr){const kr=Xl(mr);if(void 0===kr)return null;for(const si of pl(Ln,kr.fieldPath))switch(si.op){case"array-contains-any":return si.value.arrayValue.values||[];case"array-contains":return[si.value]}return null}(B,M),fe=function(Ln,mr){const kr=new Map;for(const si of qo(mr))for(const cs of pl(Ln,si.fieldPath))switch(cs.op){case"==":case"in":kr.set(si.fieldPath.canonicalString(),cs.value);break;case"not-in":case"!=":return kr.set(si.fieldPath.canonicalString(),cs.value),Array.from(kr.values())}return null}(B,M),Ne=function(Ln,mr){const kr=[];let si=!0;for(const cs of qo(mr)){const Ga=0===cs.kind?Rd(Ln,cs.fieldPath,Ln.startAt):cc(Ln,cs.fieldPath,Ln.startAt);kr.push(Ga.value),si&&(si=Ga.inclusive)}return new Ui(kr,si)}(B,M),et=function(Ln,mr){const kr=[];let si=!0;for(const cs of qo(mr)){const Ga=0===cs.kind?cc(Ln,cs.fieldPath,Ln.endAt):Rd(Ln,cs.fieldPath,Ln.endAt);kr.push(Ga.value),si&&(si=Ga.inclusive)}return new Ui(kr,si)}(B,M),jt=this.hn(M,B,Ne),Lt=this.hn(M,B,et),qt=this.Pn(M,B,fe),Un=this.In(M.indexId,J,jt,Ne.inclusive,Lt,et.inclusive,qt);return y.forEach(Un,qn=>o.j(qn,n.limit).next(Ln=>{Ln.forEach(mr=>{const kr=tn.fromSegments(mr.documentKey);f.has(kr)||(f=f.add(kr),D.push(kr))})}))}).next(()=>D)}return y.resolve(null)})}cn(e){let n=this.un.get(e);return n||(n=0===e.filters.length?[e]:RI(ii.create(e.filters,"and")).map(o=>Sd(e.path,e.collectionGroup,e.orderBy,o.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,n),n)}In(e,n,o,l,u,f,D){const M=(null!=n?n.length:1)*Math.max(o.length,u.length),B=M/(null!=n?n.length:1),J=[];for(let fe=0;fe<M;++fe){const Ne=n?this.Tn(n[fe/B]):Sg,et=this.En(e,Ne,o[fe%B],l),jt=this.dn(e,Ne,u[fe%B],f),Lt=D.map(qt=>this.En(e,Ne,qt,!0));J.push(...this.createRange(et,jt,Lt))}return J}En(e,n,o,l){const u=new Fl(e,tn.empty(),n,o);return l?u:u.Jt()}dn(e,n,o,l){const u=new Fl(e,tn.empty(),n,o);return l?u.Jt():u}ln(e,n){const o=new bg(n),l=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,l).next(u=>{let f=null;for(const D of u)o.tn(D)&&(!f||D.fields.length>f.fields.length)&&(f=D);return f})}getIndexType(e,n){let o=2;const l=this.cn(n);return y.forEach(l,u=>this.ln(e,u).next(f=>{f?0!==o&&f.fields.length<function(M){let B=new Kr(zr.comparator),J=!1;for(const fe of M.filters)for(const Ne of fe.getFlattenedFilters())Ne.field.isKeyField()||("array-contains"===Ne.op||"array-contains-any"===Ne.op?J=!0:B=B.add(Ne.field));for(const fe of M.orderBy)fe.field.isKeyField()||(B=B.add(fe.field));return B.size+(J?1:0)}(u)&&(o=1):o=0})).next(()=>null!==n.limit&&l.length>1&&2===o?1:o)}An(e,n){const o=new Ef;for(const l of qo(e)){const u=n.data.field(l.fieldPath);if(null==u)return null;const f=o.Ht(l.kind);nl.bt.Pt(u,f)}return o.Wt()}Tn(e){const n=new Ef;return nl.bt.Pt(e,n.Ht(0)),n.Wt()}Rn(e,n){const o=new Ef;return nl.bt.Pt(Sl(this.databaseId,n),o.Ht(function(u){const f=qo(u);return 0===f.length?0:f[f.length-1].kind}(e))),o.Wt()}Pn(e,n,o){if(null===o)return[];let l=[];l.push(new Ef);let u=0;for(const f of qo(e)){const D=o[u++];for(const M of l)if(this.Vn(n,f.fieldPath)&&hl(D))l=this.mn(l,f,D);else{const B=M.Ht(f.kind);nl.bt.Pt(D,B)}}return this.fn(l)}hn(e,n,o){return this.Pn(e,n,o.position)}fn(e){const n=[];for(let o=0;o<e.length;++o)n[o]=e[o].Wt();return n}mn(e,n,o){const l=[...e],u=[];for(const f of o.arrayValue.values||[])for(const D of l){const M=new Ef;M.seed(D.Wt()),nl.bt.Pt(f,M.Ht(n.kind)),u.push(M)}return u}Vn(e,n){return!!e.filters.find(o=>o instanceof Nr&&o.field.isEqual(n)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,n){const o=Wc(e),l=Ou(e);return(n?o.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):o.W()).next(u=>{const f=[];return y.forEach(u,D=>l.get([D.indexId,this.uid]).next(M=>{f.push(function(J,fe){const Ne=fe?new bl(fe.sequenceNumber,new Mo(Uc(fe.readTime),new tn(Qo(fe.documentKey)),fe.largestBatchId)):bl.empty(),et=J.fields.map(([jt,Lt])=>new Na(zr.fromServerFormat(jt),Lt));return new va(J.indexId,J.collectionGroup,et,Ne)}(D,M))})).next(()=>f)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>0===n.length?null:(n.sort((o,l)=>{const u=o.indexState.sequenceNumber-l.indexState.sequenceNumber;return 0!==u?u:yn(o.collectionGroup,l.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,o){const l=Wc(e),u=Ou(e);return this.gn(e).next(f=>l.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(D=>y.forEach(D,M=>u.put(uy(M.indexId,this.uid,f,o)))))}updateIndexEntries(e,n){const o=new Map;return y.forEach(n,(l,u)=>{const f=o.get(l.collectionGroup);return(f?y.resolve(f):this.getFieldIndexes(e,l.collectionGroup)).next(D=>(o.set(l.collectionGroup,D),y.forEach(D,M=>this.pn(e,l,M).next(B=>{const J=this.yn(u,M);return B.isEqual(J)?y.resolve():this.wn(e,u,M,B,J)}))))})}Sn(e,n,o,l){return Vl(e).put({indexId:l.indexId,uid:this.uid,arrayValue:l.arrayValue,directionalValue:l.directionalValue,orderedDocumentKey:this.Rn(o,n.key),documentKey:n.key.path.toArray()})}bn(e,n,o,l){return Vl(e).delete([l.indexId,this.uid,l.arrayValue,l.directionalValue,this.Rn(o,n.key),n.key.path.toArray()])}pn(e,n,o){const l=Vl(e);let u=new Kr(Ba);return l.Y({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.Rn(o,n)])},(f,D)=>{u=u.add(new Fl(o.indexId,n,D.arrayValue,D.directionalValue))}).next(()=>u)}yn(e,n){let o=new Kr(Ba);const l=this.An(n,e);if(null==l)return o;const u=Xl(n);if(null!=u){const f=e.data.field(u.fieldPath);if(hl(f))for(const D of f.arrayValue.values||[])o=o.add(new Fl(n.indexId,e.key,this.Tn(D),l))}else o=o.add(new Fl(n.indexId,e.key,Sg,l));return o}wn(e,n,o,l,u){mt("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const f=[];return function(M,B,J,fe,Ne){const et=M.getIterator(),jt=B.getIterator();let Lt=dl(et),qt=dl(jt);for(;Lt||qt;){let Un=!1,qn=!1;if(Lt&&qt){const Ln=J(Lt,qt);Ln<0?qn=!0:Ln>0&&(Un=!0)}else null!=Lt?qn=!0:Un=!0;Un?(fe(qt),qt=dl(jt)):qn?(Ne(Lt),Lt=dl(et)):(Lt=dl(et),qt=dl(jt))}}(l,u,Ba,D=>{f.push(this.Sn(e,n,o,D))},D=>{f.push(this.bn(e,n,o,D))}),y.waitFor(f)}gn(e){let n=1;return Ou(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,l,u)=>{u.done(),n=l.sequenceNumber+1}).next(()=>n)}createRange(e,n,o){o=o.sort((f,D)=>Ba(f,D)).filter((f,D,M)=>!D||0!==Ba(f,M[D-1]));const l=[];l.push(e);for(const f of o){const D=Ba(f,e),M=Ba(f,n);if(0===D)l[0]=e.Jt();else if(D>0&&M<0)l.push(f),l.push(f.Jt());else if(M>0)break}l.push(n);const u=[];for(let f=0;f<l.length;f+=2){if(this.Dn(l[f],l[f+1]))return[];u.push(IDBKeyRange.bound([l[f].indexId,this.uid,l[f].arrayValue,l[f].directionalValue,Sg,[]],[l[f+1].indexId,this.uid,l[f+1].arrayValue,l[f+1].directionalValue,Sg,[]]))}return u}Dn(e,n){return Ba(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(Rg)}getMinOffset(e,n){return y.mapArray(this.cn(n),o=>this.ln(e,o).next(l=>l||en())).next(Rg)}}function gy(s){return An(s,"collectionParents")}function Vl(s){return An(s,"indexEntries")}function Wc(s){return An(s,"indexConfiguration")}function Ou(s){return An(s,"indexState")}function Rg(s){Vt(0!==s.length);let e=s[0].indexState.offset,n=e.largestBatchId;for(let o=1;o<s.length;o++){const l=s[o].indexState.offset;hd(l,e)<0&&(e=l),n<l.largestBatchId&&(n=l.largestBatchId)}return new Mo(e.readTime,e.documentKey,n)}const Tf={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Fs{constructor(e,n,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new Fs(e,Fs.DEFAULT_COLLECTION_PERCENTILE,Fs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Wd(s,e,n){const o=s.store("mutations"),l=s.store("documentMutations"),u=[],f=IDBKeyRange.only(n.batchId);let D=0;const M=o.Y({range:f},(J,fe,Ne)=>(D++,Ne.delete()));u.push(M.next(()=>{Vt(1===D)}));const B=[];for(const J of n.mutations){const fe=Xp(e,J.key.path,n.batchId);u.push(l.delete(fe)),B.push(J.key)}return y.waitFor(u).next(()=>B)}function zd(s){if(!s)return 0;let e;if(s.document)e=s.document;else if(s.unknownDocument)e=s.unknownDocument;else{if(!s.noDocument)throw en();e=s.noDocument}return JSON.stringify(e).length}Fs.DEFAULT_COLLECTION_PERCENTILE=10,Fs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fs.DEFAULT=new Fs(41943040,Fs.DEFAULT_COLLECTION_PERCENTILE,Fs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fs.DISABLED=new Fs(-1,0,0);class Kd{constructor(e,n,o,l){this.userId=e,this.serializer=n,this.indexManager=o,this.referenceDelegate=l,this.Cn={}}static lt(e,n,o,l){Vt(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new Kd(u,n,o,l)}checkEmpty(e){let n=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return rl(e).Y({index:"userMutationsIndex",range:o},(l,u,f)=>{n=!1,f.done()}).next(()=>n)}addMutationBatch(e,n,o,l){const u=fc(e),f=rl(e);return f.add({}).next(D=>{Vt("number"==typeof D);const M=new G_(D,n,o,l),B=function(et,jt,Lt){const qt=Lt.baseMutations.map(qn=>Du(et.ct,qn)),Un=Lt.mutations.map(qn=>Du(et.ct,qn));return{userId:jt,batchId:Lt.batchId,localWriteTimeMs:Lt.localWriteTime.toMillis(),baseMutations:qt,mutations:Un}}(this.serializer,this.userId,M),J=[];let fe=new Kr((Ne,et)=>yn(Ne.canonicalString(),et.canonicalString()));for(const Ne of l){const et=Xp(this.userId,Ne.key.path,D);fe=fe.add(Ne.key.path.popLast()),J.push(f.put(B)),J.push(u.put(et,ri))}return fe.forEach(Ne=>{J.push(this.indexManager.addToCollectionParentIndex(e,Ne))}),e.addOnCommittedListener(()=>{this.Cn[D]=M.keys()}),y.waitFor(J).next(()=>M)})}lookupMutationBatch(e,n){return rl(e).get(n).next(o=>o?(Vt(o.userId===this.userId),Bc(this.serializer,o)):null)}vn(e,n){return this.Cn[n]?y.resolve(this.Cn[n]):this.lookupMutationBatch(e,n).next(o=>{if(o){const l=o.keys();return this.Cn[n]=l,l}return null})}getNextMutationBatchAfterBatchId(e,n){const o=n+1,l=IDBKeyRange.lowerBound([this.userId,o]);let u=null;return rl(e).Y({index:"userMutationsIndex",range:l},(f,D,M)=>{D.userId===this.userId&&(Vt(D.batchId>=o),u=Bc(this.serializer,D)),M.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return rl(e).Y({index:"userMutationsIndex",range:n,reverse:!0},(l,u,f)=>{o=u.batchId,f.done()}).next(()=>o)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return rl(e).W("userMutationsIndex",n).next(o=>o.map(l=>Bc(this.serializer,l)))}getAllMutationBatchesAffectingDocumentKey(e,n){const o=Zl(this.userId,n.path),l=IDBKeyRange.lowerBound(o),u=[];return fc(e).Y({range:l},(f,D,M)=>{const[B,J,fe]=f,Ne=Qo(J);if(B===this.userId&&n.path.isEqual(Ne))return rl(e).get(fe).next(et=>{if(!et)throw en();Vt(et.userId===this.userId),u.push(Bc(this.serializer,et))});M.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let o=new Kr(yn);const l=[];return n.forEach(u=>{const f=Zl(this.userId,u.path),D=IDBKeyRange.lowerBound(f),M=fc(e).Y({range:D},(B,J,fe)=>{const[Ne,et,jt]=B,Lt=Qo(et);Ne===this.userId&&u.path.isEqual(Lt)?o=o.add(jt):fe.done()});l.push(M)}),y.waitFor(l).next(()=>this.Fn(e,o))}getAllMutationBatchesAffectingQuery(e,n){const o=n.path,l=o.length+1,u=Zl(this.userId,o),f=IDBKeyRange.lowerBound(u);let D=new Kr(yn);return fc(e).Y({range:f},(M,B,J)=>{const[fe,Ne,et]=M,jt=Qo(Ne);fe===this.userId&&o.isPrefixOf(jt)?jt.length===l&&(D=D.add(et)):J.done()}).next(()=>this.Fn(e,D))}Fn(e,n){const o=[],l=[];return n.forEach(u=>{l.push(rl(e).get(u).next(f=>{if(null===f)throw en();Vt(f.userId===this.userId),o.push(Bc(this.serializer,f))}))}),y.waitFor(l).next(()=>o)}removeMutationBatch(e,n){return Wd(e.ae,this.userId,n).next(o=>(e.addOnCommittedListener(()=>{this.Mn(n.batchId)}),y.forEach(o,l=>this.referenceDelegate.markPotentiallyOrphaned(e,l))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return y.resolve();const o=IDBKeyRange.lowerBound(function(f){return[f]}(this.userId)),l=[];return fc(e).Y({range:o},(u,f,D)=>{if(u[0]===this.userId){const M=Qo(u[1]);l.push(M)}else D.done()}).next(()=>{Vt(0===l.length)})})}containsKey(e,n){return Pg(e,this.userId,n)}xn(e){return zc(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Pg(s,e,n){const o=Zl(e,n.path),l=o[1],u=IDBKeyRange.lowerBound(o);let f=!1;return fc(s).Y({range:u,J:!0},(D,M,B)=>{const[J,fe,Ne]=D;J===e&&fe===l&&(f=!0),B.done()}).next(()=>f)}function rl(s){return An(s,"mutations")}function fc(s){return An(s,"documentMutations")}function zc(s){return An(s,"mutationQueues")}class Kc{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Kc(0)}static Ln(){return new Kc(-1)}}class MI{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Bn(e).next(n=>{const o=new Kc(n.highestTargetId);return n.highestTargetId=o.next(),this.kn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(n=>cn.fromTimestamp(new Hr(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,o){return this.Bn(e).next(l=>(l.highestListenSequenceNumber=n,o&&(l.lastRemoteSnapshotVersion=o.toTimestamp()),n>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=n),this.kn(e,l)))}addTargetData(e,n){return this.qn(e,n).next(()=>this.Bn(e).next(o=>(o.targetCount+=1,this.Qn(n,o),this.kn(e,o))))}updateTargetData(e,n){return this.qn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>qd(e).delete(n.targetId)).next(()=>this.Bn(e)).next(o=>(Vt(o.targetCount>0),o.targetCount-=1,this.kn(e,o)))}removeTargets(e,n,o){let l=0;const u=[];return qd(e).Y((f,D)=>{const M=jd(D);M.sequenceNumber<=n&&null===o.get(M.targetId)&&(l++,u.push(this.removeTargetData(e,M)))}).next(()=>y.waitFor(u)).next(()=>l)}forEachTarget(e,n){return qd(e).Y((o,l)=>{const u=jd(l);n(u)})}Bn(e){return Qd(e).get("targetGlobalKey").next(n=>(Vt(null!==n),n))}kn(e,n){return Qd(e).put("targetGlobalKey",n)}qn(e,n){return qd(e).put(ay(this.serializer,n))}Qn(e,n){let o=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,o=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.Bn(e).next(n=>n.targetCount)}getTargetData(e,n){const o=ac(n),l=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let u=null;return qd(e).Y({range:l,index:"queryTargetsIndex"},(f,D,M)=>{const B=jd(D);Iu(n,B.target)&&(u=B,M.done())}).next(()=>u)}addMatchingKeys(e,n,o){const l=[],u=ml(e);return n.forEach(f=>{const D=os(f.path);l.push(u.put({targetId:o,path:D})),l.push(this.referenceDelegate.addReference(e,o,f))}),y.waitFor(l)}removeMatchingKeys(e,n,o){const l=ml(e);return y.forEach(n,u=>{const f=os(u.path);return y.waitFor([l.delete([o,f]),this.referenceDelegate.removeReference(e,o,u)])})}removeMatchingKeysForTargetId(e,n){const o=ml(e),l=IDBKeyRange.bound([n],[n+1],!1,!0);return o.delete(l)}getMatchingKeysForTargetId(e,n){const o=IDBKeyRange.bound([n],[n+1],!1,!0),l=ml(e);let u=pr();return l.Y({range:o,J:!0},(f,D,M)=>{const B=Qo(f[1]),J=new tn(B);u=u.add(J)}).next(()=>u)}containsKey(e,n){const o=os(n.path),l=IDBKeyRange.bound([o],[qa(o)],!1,!0);let u=0;return ml(e).Y({index:"documentTargetsIndex",J:!0,range:l},([f,D],M,B)=>{0!==f&&(u++,B.done())}).next(()=>u>0)}_t(e,n){return qd(e).get(n).next(o=>o?jd(o):null)}}function qd(s){return An(s,"targets")}function Qd(s){return An(s,"targetGlobal")}function ml(s){return An(s,"targetDocuments")}function Mg([s,e],[n,o]){const l=yn(s,n);return 0===l?yn(e,o):l}class my{constructor(e){this.Kn=e,this.buffer=new Kr(Mg),this.$n=0}Un(){return++this.$n}Wn(e){const n=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(n);else{const o=this.buffer.last();Mg(n,o)<0&&(this.buffer=this.buffer.delete(o).add(n))}}get maxValue(){return this.buffer.last()[0]}}class xg{constructor(e,n,o){this.garbageCollector=e,this.asyncQueue=n,this.localStore=o,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(e){var n=this;mt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Ee.A)(function*(){n.Gn=null;try{yield n.localStore.collectGarbage(n.garbageCollector)}catch(o){ee(o)?mt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield ul(o)}yield n.zn(3e5)}))}}class qc{constructor(e,n){this.jn=e,this.params=n}calculateTargetCount(e,n){return this.jn.Hn(e).next(o=>Math.floor(n/100*o))}nthSequenceNumber(e,n){if(0===n)return y.resolve(Vr._e);const o=new my(n);return this.jn.forEachTarget(e,l=>o.Wn(l.sequenceNumber)).next(()=>this.jn.Jn(e,l=>o.Wn(l))).next(()=>o.maxValue)}removeTargets(e,n,o){return this.jn.removeTargets(e,n,o)}removeOrphanedDocuments(e,n){return this.jn.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?(mt("LruGarbageCollector","Garbage collection skipped; disabled"),y.resolve(Tf)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(mt("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Tf):this.Yn(e,n))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,n){let o,l,u,f,D,M,B;const J=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(fe=>(fe>this.params.maximumSequenceNumbersToCollect?(mt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${fe}`),l=this.params.maximumSequenceNumbersToCollect):l=fe,f=Date.now(),this.nthSequenceNumber(e,l))).next(fe=>(o=fe,D=Date.now(),this.removeTargets(e,o,n))).next(fe=>(u=fe,M=Date.now(),this.removeOrphanedDocuments(e,o))).next(fe=>(B=Date.now(),Qt()<=V.$b.DEBUG&&mt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${f-J}ms\n\tDetermined least recently used ${l} in `+(D-f)+`ms\n\tRemoved ${u} targets in `+(M-D)+`ms\n\tRemoved ${fe} documents in `+(B-M)+`ms\nTotal Duration: ${B-J}ms`),y.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:fe})))}}class xI{constructor(e,n){this.db=e,this.garbageCollector=function _y(s,e){return new qc(s,e)}(this,n)}Hn(e){const n=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>n.next(l=>o+l))}Zn(e){let n=0;return this.Jn(e,o=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Jn(e,n){return this.Xn(e,(o,l)=>n(l))}addReference(e,n,o){return Cf(e,o)}removeReference(e,n,o){return Cf(e,o)}removeTargets(e,n,o){return this.db.getTargetCache().removeTargets(e,n,o)}markPotentiallyOrphaned(e,n){return Cf(e,n)}er(e,n){return function(l,u){let f=!1;return zc(l).Z(D=>Pg(l,D,u).next(M=>(M&&(f=!0),y.resolve(!M)))).next(()=>f)}(e,n)}removeOrphanedDocuments(e,n){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),l=[];let u=0;return this.Xn(e,(f,D)=>{if(D<=n){const M=this.er(e,f).next(B=>{if(!B)return u++,o.getEntry(e,f).next(()=>(o.removeEntry(f,cn.min()),ml(e).delete([0,os(f.path)])))});l.push(M)}}).next(()=>y.waitFor(l)).next(()=>o.apply(e)).next(()=>u)}removeTarget(e,n){const o=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,n){return Cf(e,n)}Xn(e,n){const o=ml(e);let l,u=Vr._e;return o.Y({index:"documentTargetsIndex"},([f,D],{path:M,sequenceNumber:B})=>{0===f?(u!==Vr._e&&n(new tn(Qo(l)),u),u=B,l=M):u=Vr._e}).next(()=>{u!==Vr._e&&n(new tn(Qo(l)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Cf(s,e){return ml(s).put((l=s.currentSequenceNumber,{targetId:0,path:os(e.path),sequenceNumber:l}));var l}class yy{constructor(){this.changes=new Ca(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,bi.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const o=this.changes.get(n);return void 0!==o?y.resolve(o):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class OI{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,o){return Qc(e).put(o)}removeEntry(e,n,o){return Qc(e).delete(function(u,f){const D=u.path.toArray();return[D.slice(0,D.length-2),D[D.length-2],Ru(f),D[D.length-1]]}(n,o))}updateMetadata(e,n){return this.getMetadata(e).next(o=>(o.byteSize+=n,this.tr(e,o)))}getEntry(e,n){let o=bi.newInvalidDocument(n);return Qc(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Xd(n))},(l,u)=>{o=this.nr(n,u)}).next(()=>o)}rr(e,n){let o={size:0,document:bi.newInvalidDocument(n)};return Qc(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Xd(n))},(l,u)=>{o={document:this.nr(n,u),size:zd(u)}}).next(()=>o)}getEntries(e,n){let o=Ss();return this.ir(e,n,(l,u)=>{const f=this.nr(l,u);o=o.insert(l,f)}).next(()=>o)}sr(e,n){let o=Ss(),l=new yi(tn.comparator);return this.ir(e,n,(u,f)=>{const D=this.nr(u,f);o=o.insert(u,D),l=l.insert(u,zd(f))}).next(()=>({documents:o,_r:l}))}ir(e,n,o){if(n.isEmpty())return y.resolve();let l=new Kr(Ey);n.forEach(M=>l=l.add(M));const u=IDBKeyRange.bound(Xd(l.first()),Xd(l.last())),f=l.getIterator();let D=f.getNext();return Qc(e).Y({index:"documentKeyIndex",range:u},(M,B,J)=>{const fe=tn.fromSegments([...B.prefixPath,B.collectionGroup,B.documentId]);for(;D&&Ey(D,fe)<0;)o(D,null),D=f.getNext();D&&D.isEqual(fe)&&(o(D,B),D=f.hasNext()?f.getNext():null),D?J.U(Xd(D)):J.done()}).next(()=>{for(;D;)o(D,null),D=f.hasNext()?f.getNext():null})}getDocumentsMatchingQuery(e,n,o,l,u){const f=n.path,D=[f.popLast().toArray(),f.lastSegment(),Ru(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],M=[f.popLast().toArray(),f.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Qc(e).W(IDBKeyRange.bound(D,M,!0)).next(B=>{u?.incrementDocumentReadCount(B.length);let J=Ss();for(const fe of B){const Ne=this.nr(tn.fromSegments(fe.prefixPath.concat(fe.collectionGroup,fe.documentId)),fe);Ne.isFoundDocument()&&(Ir(n,Ne)||l.has(Ne.key))&&(J=J.insert(Ne.key,Ne))}return J})}getAllFromCollectionGroup(e,n,o,l){let u=Ss();const f=Iy(n,o),D=Iy(n,Mo.max());return Qc(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(f,D,!0)},(M,B,J)=>{const fe=this.nr(tn.fromSegments(B.prefixPath.concat(B.collectionGroup,B.documentId)),B);u=u.insert(fe.key,fe),u.size===l&&J.done()}).next(()=>u)}newChangeBuffer(e){return new Nu(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return vy(e).get("remoteDocumentGlobalKey").next(n=>(Vt(!!n),n))}tr(e,n){return vy(e).put("remoteDocumentGlobalKey",n)}nr(e,n){if(n){const o=function SI(s,e){let n;if(e.document)n=Bd(s.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=tn.fromSegments(e.noDocument.path),l=Uc(e.noDocument.readTime);n=bi.newNoDocument(o,l),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return en();{const o=tn.fromSegments(e.unknownDocument.path),l=Uc(e.unknownDocument.version);n=bi.newUnknownDocument(o,l)}}return e.readTime&&n.setReadTime(function(l){const u=new Hr(l[0],l[1]);return cn.fromTimestamp(u)}(e.readTime)),n}(this.serializer,n);if(!o.isNoDocument()||!o.version.isEqual(cn.min()))return o}return bi.newInvalidDocument(e)}}function _l(s){return new OI(s)}class Nu extends yy{constructor(e,n){super(),this.ar=e,this.trackRemovals=n,this.ur=new Ca(o=>o.toString(),(o,l)=>o.isEqual(l))}applyChanges(e){const n=[];let o=0,l=new Kr((u,f)=>yn(u.canonicalString(),f.canonicalString()));return this.changes.forEach((u,f)=>{const D=this.ur.get(u);if(n.push(this.ar.removeEntry(e,u,D.readTime)),f.isValidDocument()){const M=Eg(this.ar.serializer,f);l=l.add(u.path.popLast());const B=zd(M);o+=B-D.size,n.push(this.ar.addEntry(e,u,M))}else if(o-=D.size,this.trackRemovals){const M=Eg(this.ar.serializer,f.convertToNoDocument(cn.min()));n.push(this.ar.addEntry(e,u,M))}}),l.forEach(u=>{n.push(this.ar.indexManager.addToCollectionParentIndex(e,u))}),n.push(this.ar.updateMetadata(e,o)),y.waitFor(n)}getFromCache(e,n){return this.ar.rr(e,n).next(o=>(this.ur.set(n,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,n){return this.ar.sr(e,n).next(({documents:o,_r:l})=>(l.forEach((u,f)=>{this.ur.set(u,{size:f,readTime:o.get(u).readTime})}),o))}}function vy(s){return An(s,"remoteDocumentGlobal")}function Qc(s){return An(s,"remoteDocumentsV14")}function Xd(s){const e=s.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Iy(s,e){const n=e.documentKey.path.toArray();return[s,Ru(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Ey(s,e){const n=s.path.toArray(),o=e.path.toArray();let l=0;for(let u=0;u<n.length-2&&u<o.length-2;++u)if(l=yn(n[u],o[u]),l)return l;return l=yn(n.length,o.length),l||(l=yn(n[n.length-2],o[o.length-2]),l||yn(n[n.length-1],o[o.length-1]))}class NI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Og{constructor(e,n,o,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=o,this.indexManager=l}getDocument(e,n){let o=null;return this.documentOverlayCache.getOverlay(e,n).next(l=>(o=l,this.remoteDocumentCache.getEntry(e,n))).next(l=>(null!==o&&Aa(o.mutation,l,Oo.empty(),Hr.now()),l))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.getLocalViewOfDocuments(e,o,pr()).next(()=>o))}getLocalViewOfDocuments(e,n,o=pr()){const l=oa();return this.populateOverlays(e,l,n).next(()=>this.computeViews(e,n,l,o).next(u=>{let f=kl();return u.forEach((D,M)=>{f=f.insert(D,M.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const o=oa();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,pr()))}populateOverlays(e,n,o){const l=[];return o.forEach(u=>{n.has(u)||l.push(u)}),this.documentOverlayCache.getOverlays(e,l).next(u=>{u.forEach((f,D)=>{n.set(f,D)})})}computeViews(e,n,o,l){let u=Ss();const f=ba(),D=ba();return n.forEach((M,B)=>{const J=o.get(B.key);l.has(B.key)&&(void 0===J||J.mutation instanceof Ll)?u=u.insert(B.key,B):void 0!==J?(f.set(B.key,J.mutation.getFieldMask()),Aa(J.mutation,B,J.mutation.getFieldMask(),Hr.now())):f.set(B.key,Oo.empty())}),this.recalculateAndSaveOverlays(e,u).next(M=>(M.forEach((B,J)=>f.set(B,J)),n.forEach((B,J)=>{var fe;return D.set(B,new NI(J,null!==(fe=f.get(B))&&void 0!==fe?fe:null))}),D))}recalculateAndSaveOverlays(e,n){const o=ba();let l=new yi((f,D)=>f-D),u=pr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const D of f)D.keys().forEach(M=>{const B=n.get(M);if(null===B)return;let J=o.get(M)||Oo.empty();J=D.applyToLocalView(B,J),o.set(M,J);const fe=(l.get(D.batchId)||pr()).add(M);l=l.insert(D.batchId,fe)})}).next(()=>{const f=[],D=l.getReverseIterator();for(;D.hasNext();){const M=D.getNext(),B=M.key,J=M.value,fe=el();J.forEach(Ne=>{if(!u.has(Ne)){const et=vI(n.get(Ne),o.get(Ne));null!==et&&fe.set(Ne,et),u=u.add(Ne)}}),f.push(this.documentOverlayCache.saveOverlays(e,B,fe))}return y.waitFor(f)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,n,o,l){return tn.isDocumentKey((f=n).path)&&null===f.collectionGroup&&0===f.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):g(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,o,l):this.getDocumentsMatchingCollectionQuery(e,n,o,l);var f}getNextDocuments(e,n,o,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,o,l).next(u=>{const f=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,o.largestBatchId,l-u.size):y.resolve(oa());let D=-1,M=u;return f.next(B=>y.forEach(B,(J,fe)=>(D<fe.largestBatchId&&(D=fe.largestBatchId),u.get(J)?y.resolve():this.remoteDocumentCache.getEntry(e,J).next(Ne=>{M=M.insert(J,Ne)}))).next(()=>this.populateOverlays(e,B,u)).next(()=>this.computeViews(e,M,B,pr())).next(J=>({batchId:D,changes:Eu(J)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new tn(n)).next(o=>{let l=kl();return o.isFoundDocument()&&(l=l.insert(o.key,o)),l})}getDocumentsMatchingCollectionGroupQuery(e,n,o,l){const u=n.collectionGroup;let f=kl();return this.indexManager.getCollectionParents(e,u).next(D=>y.forEach(D,M=>{const B=(fe=n,Ne=M.child(u),new Va(Ne,null,fe.explicitOrderBy.slice(),fe.filters.slice(),fe.limit,fe.limitType,fe.startAt,fe.endAt));var fe,Ne;return this.getDocumentsMatchingCollectionQuery(e,B,o,l).next(J=>{J.forEach((fe,Ne)=>{f=f.insert(fe,Ne)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,o,l){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,o.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,o,u,l))).next(f=>{u.forEach((M,B)=>{const J=B.getKey();null===f.get(J)&&(f=f.insert(J,bi.newInvalidDocument(J)))});let D=kl();return f.forEach((M,B)=>{const J=u.get(M);void 0!==J&&Aa(J.mutation,B,Oo.empty(),Hr.now()),Ir(n,B)&&(D=D.insert(M,B))}),D})}}class kI{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return y.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,{id:(l=n).id,version:l.version,createTime:gs(l.createTime)}),y.resolve();var l}getNamedQuery(e,n){return y.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,{name:(l=n).name,query:ly(l.bundledQuery),readTime:gs(l.readTime)}),y.resolve();var l}}class LI{constructor(){this.overlays=new yi(tn.comparator),this.hr=new Map}getOverlay(e,n){return y.resolve(this.overlays.get(n))}getOverlays(e,n){const o=oa();return y.forEach(n,l=>this.getOverlay(e,l).next(u=>{null!==u&&o.set(l,u)})).next(()=>o)}saveOverlays(e,n,o){return o.forEach((l,u)=>{this.ht(e,n,u)}),y.resolve()}removeOverlaysForBatchId(e,n,o){const l=this.hr.get(o);return void 0!==l&&(l.forEach(u=>this.overlays=this.overlays.remove(u)),this.hr.delete(o)),y.resolve()}getOverlaysForCollection(e,n,o){const l=oa(),u=n.length+1,f=new tn(n.child("")),D=this.overlays.getIteratorFrom(f);for(;D.hasNext();){const M=D.getNext().value,B=M.getKey();if(!n.isPrefixOf(B.path))break;B.path.length===u&&M.largestBatchId>o&&l.set(M.getKey(),M)}return y.resolve(l)}getOverlaysForCollectionGroup(e,n,o,l){let u=new yi((B,J)=>B-J);const f=this.overlays.getIterator();for(;f.hasNext();){const B=f.getNext().value;if(B.getKey().getCollectionGroup()===n&&B.largestBatchId>o){let J=u.get(B.largestBatchId);null===J&&(J=oa(),u=u.insert(B.largestBatchId,J)),J.set(B.getKey(),B)}}const D=oa(),M=u.getIterator();for(;M.hasNext()&&(M.getNext().value.forEach((B,J)=>D.set(B,J)),!(D.size()>=l)););return y.resolve(D)}ht(e,n,o){const l=this.overlays.get(o.key);if(null!==l){const f=this.hr.get(l.largestBatchId).delete(o.key);this.hr.set(l.largestBatchId,f)}this.overlays=this.overlays.insert(o.key,new dc(n,o));let u=this.hr.get(n);void 0===u&&(u=pr(),this.hr.set(n,u)),this.hr.set(n,u.add(o.key))}}class Ng{constructor(){this.Pr=new Kr(Qs.Ir),this.Tr=new Kr(Qs.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const o=new Qs(e,n);this.Pr=this.Pr.add(o),this.Tr=this.Tr.add(o)}dr(e,n){e.forEach(o=>this.addReference(o,n))}removeReference(e,n){this.Ar(new Qs(e,n))}Rr(e,n){e.forEach(o=>this.removeReference(o,n))}Vr(e){const n=new tn(new Kn([])),o=new Qs(n,e),l=new Qs(n,e+1),u=[];return this.Tr.forEachInRange([o,l],f=>{this.Ar(f),u.push(f.key)}),u}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new tn(new Kn([])),o=new Qs(n,e),l=new Qs(n,e+1);let u=pr();return this.Tr.forEachInRange([o,l],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new Qs(e,0),o=this.Pr.firstAfterOrEqual(n);return null!==o&&e.isEqual(o.key)}}class Qs{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return tn.comparator(e.key,n.key)||yn(e.pr,n.pr)}static Er(e,n){return yn(e.pr,n.pr)||tn.comparator(e.key,n.key)}}class bf{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Kr(Qs.Ir)}checkEmpty(e){return y.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,o,l){const u=this.yr;this.yr++;const f=new G_(u,n,o,l);this.mutationQueue.push(f);for(const D of l)this.wr=this.wr.add(new Qs(D.key,u)),this.indexManager.addToCollectionParentIndex(e,D.key.path.popLast());return y.resolve(f)}lookupMutationBatch(e,n){return y.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const l=this.br(n+1),u=l<0?0:l;return y.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return y.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const o=new Qs(n,0),l=new Qs(n,Number.POSITIVE_INFINITY),u=[];return this.wr.forEachInRange([o,l],f=>{const D=this.Sr(f.pr);u.push(D)}),y.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let o=new Kr(yn);return n.forEach(l=>{const u=new Qs(l,0),f=new Qs(l,Number.POSITIVE_INFINITY);this.wr.forEachInRange([u,f],D=>{o=o.add(D.pr)})}),y.resolve(this.Dr(o))}getAllMutationBatchesAffectingQuery(e,n){const o=n.path,l=o.length+1;let u=o;tn.isDocumentKey(u)||(u=u.child(""));const f=new Qs(new tn(u),0);let D=new Kr(yn);return this.wr.forEachWhile(M=>{const B=M.key.path;return!!o.isPrefixOf(B)&&(B.length===l&&(D=D.add(M.pr)),!0)},f),y.resolve(this.Dr(D))}Dr(e){const n=[];return e.forEach(o=>{const l=this.Sr(o);null!==l&&n.push(l)}),n}removeMutationBatch(e,n){Vt(0===this.Cr(n.batchId,"removed")),this.mutationQueue.shift();let o=this.wr;return y.forEach(n.mutations,l=>{const u=new Qs(l.key,n.batchId);return o=o.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.wr=o})}Mn(e){}containsKey(e,n){const o=new Qs(n,0),l=this.wr.firstAfterOrEqual(o);return y.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return y.resolve()}Cr(e,n){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Ul{constructor(e){this.vr=e,this.docs=new yi(tn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const o=n.key,l=this.docs.get(o),u=l?l.size:0,f=this.vr(n);return this.docs=this.docs.insert(o,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const o=this.docs.get(n);return y.resolve(o?o.document.mutableCopy():bi.newInvalidDocument(n))}getEntries(e,n){let o=Ss();return n.forEach(l=>{const u=this.docs.get(l);o=o.insert(l,u?u.document.mutableCopy():bi.newInvalidDocument(l))}),y.resolve(o)}getDocumentsMatchingQuery(e,n,o,l){let u=Ss();const f=n.path,D=new tn(f.child("")),M=this.docs.getIteratorFrom(D);for(;M.hasNext();){const{key:B,value:{document:J}}=M.getNext();if(!f.isPrefixOf(B.path))break;B.path.length>f.length+1||hd(qh(J),o)<=0||(l.has(J.key)||Ir(n,J))&&(u=u.insert(J.key,J.mutableCopy()))}return y.resolve(u)}getAllFromCollectionGroup(e,n,o,l){en()}Fr(e,n){return y.forEach(this.docs,o=>n(o))}newChangeBuffer(e){return new Yd(this)}getSize(e){return y.resolve(this.size)}}class Yd extends yy{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((o,l)=>{l.isValidDocument()?n.push(this.ar.addEntry(e,l)):this.ar.removeEntry(o)}),y.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}class wy{constructor(e){this.persistence=e,this.Mr=new Ca(n=>ac(n),Iu),this.lastRemoteSnapshotVersion=cn.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Ng,this.targetCount=0,this.Lr=Kc.Nn()}forEachTarget(e,n){return this.Mr.forEach((o,l)=>n(l)),y.resolve()}getLastRemoteSnapshotVersion(e){return y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return y.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),y.resolve(this.highestTargetId)}setTargetsMetadata(e,n,o){return o&&(this.lastRemoteSnapshotVersion=o),n>this.Or&&(this.Or=n),y.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new Kc(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,y.resolve()}updateTargetData(e,n){return this.qn(n),y.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,y.resolve()}removeTargets(e,n,o){let l=0;const u=[];return this.Mr.forEach((f,D)=>{D.sequenceNumber<=n&&null===o.get(D.targetId)&&(this.Mr.delete(f),u.push(this.removeMatchingKeysForTargetId(e,D.targetId)),l++)}),y.waitFor(u).next(()=>l)}getTargetCount(e){return y.resolve(this.targetCount)}getTargetData(e,n){const o=this.Mr.get(n)||null;return y.resolve(o)}addMatchingKeys(e,n,o){return this.Nr.dr(n,o),y.resolve()}removeMatchingKeys(e,n,o){this.Nr.Rr(n,o);const l=this.persistence.referenceDelegate,u=[];return l&&n.forEach(f=>{u.push(l.markPotentiallyOrphaned(e,f))}),y.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),y.resolve()}getMatchingKeysForTargetId(e,n){const o=this.Nr.gr(n);return y.resolve(o)}containsKey(e,n){return y.resolve(this.Nr.containsKey(n))}}class Af{constructor(e,n){this.Br={},this.overlays={},this.kr=new Vr(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new wy(this),this.indexManager=new PI,this.remoteDocumentCache=new Ul(o=>this.referenceDelegate.Kr(o)),this.serializer=new Ig(n),this.$r=new kI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new LI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let o=this.Br[e.toKey()];return o||(o=new bf(n,this.referenceDelegate),this.Br[e.toKey()]=o),o}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,o){mt("MemoryPersistence","Starting transaction:",e);const l=new Ty(this.kr.next());return this.referenceDelegate.Ur(),o(l).next(u=>this.referenceDelegate.Wr(l).next(()=>u)).toPromise().then(u=>(l.raiseOnCommittedEvent(),u))}Gr(e,n){return y.or(Object.values(this.Br).map(o=>()=>o.containsKey(e,n)))}}class Ty extends Xh{constructor(e){super(),this.currentSequenceNumber=e}}class kg{constructor(e){this.persistence=e,this.zr=new Ng,this.jr=null}static Hr(e){return new kg(e)}get Jr(){if(this.jr)return this.jr;throw en()}addReference(e,n,o){return this.zr.addReference(o,n),this.Jr.delete(o.toString()),y.resolve()}removeReference(e,n,o){return this.zr.removeReference(o,n),this.Jr.add(o.toString()),y.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),y.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(l=>this.Jr.add(l.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,n.targetId).next(l=>{l.forEach(u=>this.Jr.add(u.toString()))}).next(()=>o.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return y.forEach(this.Jr,o=>{const l=tn.fromPath(o);return this.Yr(e,l).next(u=>{u||n.removeEntry(l,cn.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(o=>{o?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return y.or([()=>y.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}class tw{constructor(e){this.serializer=e}N(e,n,o,l){const u=new R("createOrUpgrade",n);var M;o<1&&l>=1&&(e.createObjectStore("owner"),(M=e).createObjectStore("mutationQueues",{keyPath:"userId"}),M.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Yl,{unique:!0}),M.createObjectStore("documentMutations"),Df(e),function(M){M.createObjectStore("remoteDocuments")}(e));let f=y.resolve();return o<3&&l>=3&&(0!==o&&(function(M){M.deleteObjectStore("targetDocuments"),M.deleteObjectStore("targets"),M.deleteObjectStore("targetGlobal")}(e),Df(e)),f=f.next(()=>function(M){const B=M.store("targetGlobal"),J={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:cn.min().toTimestamp(),targetCount:0};return B.put("targetGlobalKey",J)}(u))),o<4&&l>=4&&(0!==o&&(f=f.next(()=>function(M,B){return B.store("mutations").W().next(J=>{M.deleteObjectStore("mutations"),M.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Yl,{unique:!0});const fe=B.store("mutations"),Ne=J.map(et=>fe.put(et));return y.waitFor(Ne)})}(e,u))),f=f.next(()=>{!function(M){M.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&l>=5&&(f=f.next(()=>this.Xr(u))),o<6&&l>=6&&(f=f.next(()=>(function(M){M.createObjectStore("remoteDocumentGlobal")}(e),this.ei(u)))),o<7&&l>=7&&(f=f.next(()=>this.ti(u))),o<8&&l>=8&&(f=f.next(()=>this.ni(e,u))),o<9&&l>=9&&(f=f.next(()=>{!function(M){M.objectStoreNames.contains("remoteDocumentChanges")&&M.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&l>=10&&(f=f.next(()=>this.ri(u))),o<11&&l>=11&&(f=f.next(()=>{(function(M){M.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(M){M.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&l>=12&&(f=f.next(()=>{!function(M){const B=M.createObjectStore("documentOverlays",{keyPath:Zh});B.createIndex("collectionPathOverlayIndex",_d,{unique:!1}),B.createIndex("collectionGroupOverlayIndex",Jh,{unique:!1})}(e)})),o<13&&l>=13&&(f=f.next(()=>function(M){const B=M.createObjectStore("remoteDocumentsV14",{keyPath:gd});B.createIndex("documentKeyIndex",Ea),B.createIndex("collectionGroupIndex",Ls)}(e)).next(()=>this.ii(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&l>=14&&(f=f.next(()=>this.si(e,u))),o<15&&l>=15&&(f=f.next(()=>function(M){M.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),M.createObjectStore("indexState",{keyPath:Yh}).createIndex("sequenceNumberIndex",md,{unique:!1}),M.createObjectStore("indexEntries",{keyPath:Zp}).createIndex("documentKeyIndex",ia,{unique:!1})}(e))),f}ei(e){let n=0;return e.store("remoteDocuments").Y((o,l)=>{n+=zd(l)}).next(()=>{const o={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}Xr(e){const n=e.store("mutationQueues"),o=e.store("mutations");return n.W().next(l=>y.forEach(l,u=>{const f=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return o.W("userMutationsIndex",f).next(D=>y.forEach(D,M=>{Vt(M.userId===u.userId);const B=Bc(this.serializer,M);return Wd(e,u.userId,B).next(()=>{})}))}))}ti(e){const n=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(l=>{const u=[];return o.Y((f,D)=>{const M=new Kn(f),B=[0,os(M)];u.push(n.get(B).next(J=>J?y.resolve():n.put({targetId:0,path:os(M),sequenceNumber:l.highestListenSequenceNumber})))}).next(()=>y.waitFor(u))})}ni(e,n){e.createObjectStore("collectionParents",{keyPath:po});const o=n.store("collectionParents"),l=new py,u=f=>{if(l.add(f)){const D=f.lastSegment(),M=f.popLast();return o.put({collectionId:D,parent:os(M)})}};return n.store("remoteDocuments").Y({J:!0},(f,D)=>{const M=new Kn(f);return u(M.popLast())}).next(()=>n.store("documentMutations").Y({J:!0},([f,D,M],B)=>{const J=Qo(D);return u(J.popLast())}))}ri(e){const n=e.store("targets");return n.Y((o,l)=>{const u=jd(l),f=ay(this.serializer,u);return n.put(f)})}ii(e,n){const o=n.store("remoteDocuments"),l=[];return o.Y((u,f)=>{const D=n.store("remoteDocumentsV14"),M=(fe=f,fe.document?new tn(Kn.fromString(fe.document.name).popFirst(5)):fe.noDocument?tn.fromSegments(fe.noDocument.path):fe.unknownDocument?tn.fromSegments(fe.unknownDocument.path):en()).path.toArray(),B={prefixPath:M.slice(0,M.length-2),collectionGroup:M[M.length-2],documentId:M[M.length-1],readTime:f.readTime||[0,0],unknownDocument:f.unknownDocument,noDocument:f.noDocument,document:f.document,hasCommittedMutations:!!f.hasCommittedMutations};var fe;l.push(D.put(B))}).next(()=>y.waitFor(l))}si(e,n){const o=n.store("mutations"),l=_l(this.serializer),u=new Af(kg.Hr,this.serializer.ct);return o.W().next(f=>{const D=new Map;return f.forEach(M=>{var B;let J=null!==(B=D.get(M.userId))&&void 0!==B?B:pr();Bc(this.serializer,M).keys().forEach(fe=>J=J.add(fe)),D.set(M.userId,J)}),y.forEach(D,(M,B)=>{const J=new sn(B),fe=Mu.lt(this.serializer,J),Ne=u.getIndexManager(J),et=Kd.lt(J,this.serializer,Ne,u.referenceDelegate);return new Og(l,et,fe,Ne).recalculateAndSaveOverlaysForDocumentKeys(new Xa(n,Vr._e),M).next()})})}}function Df(s){s.createObjectStore("targetDocuments",{keyPath:Tc}).createIndex("documentTargetsIndex",Jl,{unique:!0}),s.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Yp,{unique:!0}),s.createObjectStore("targetGlobal")}const Zd="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Cy{constructor(e,n,o,l,u,f,D,M,B,J,fe=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=o,this.oi=u,this.window=f,this.document=D,this._i=B,this.ai=J,this.ui=fe,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=Ne=>Promise.resolve(),!Cy.D())throw new Tt(it.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new xI(this,l),this.Ti=n+"main",this.serializer=new Ig(M),this.Ei=new T(this.Ti,this.ui,new tw(this.serializer)),this.Qr=new MI(this.referenceDelegate,this.serializer),this.remoteDocumentCache=_l(this.serializer),this.$r=new wg,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===J&&Kt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Tt(it.FAILED_PRECONDITION,Zd);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new Vr(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){var n=this;return this.Ii=function(){var o=(0,Ee.A)(function*(l){if(n.started)return e(l)});return function(l){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.B(function(){var n=(0,Ee.A)(function*(o){null===o.newVersion&&(yield e())});return function(o){return n.apply(this,arguments)}}())}setNetworkEnabled(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget((0,Ee.A)(function*(){n.started&&(yield n.Ai())})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Jd(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(n=>{n||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(n=>this.isPrimary&&!n?this.yi(e).next(()=>!1):!!n&&this.wi(e).next(()=>!0))).catch(e=>{if(ee(e))return mt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return mt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return Sf(e).get("owner").next(n=>y.resolve(this.Si(n)))}bi(e){return Jd(e).delete(this.clientId)}Di(){var e=this;return(0,Ee.A)(function*(){if(e.isPrimary&&!e.Ci(e.Pi,18e5)){e.Pi=Date.now();const n=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const l=An(o,"clientMetadata");return l.W().next(u=>{const f=e.vi(u,18e5),D=u.filter(M=>-1===f.indexOf(M));return y.forEach(D,M=>l.delete(M.clientId)).next(()=>D)})}).catch(()=>[]);if(e.di)for(const o of n)e.di.removeItem(e.Fi(o.clientId))}})()}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?y.resolve(!0):Sf(e).get("owner").next(n=>{if(null!==n&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)){if(this.Si(n)&&this.networkEnabled)return!0;if(!this.Si(n)){if(!n.allowTabSynchronization)throw new Tt(it.FAILED_PRECONDITION,Zd);return!1}}return!(!this.networkEnabled||!this.inForeground)||Jd(e).W().next(o=>void 0===this.vi(o,5e3).find(l=>!(this.clientId===l.clientId||!(!this.networkEnabled&&l.networkEnabled||!this.inForeground&&l.inForeground&&this.networkEnabled===l.networkEnabled))))}).next(n=>(this.isPrimary!==n&&mt("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var e=this;return(0,Ee.A)(function*(){e.qr=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Oi(),e.Ni(),yield e.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],n=>{const o=new Xa(n,Vr._e);return e.yi(o).next(()=>e.bi(o))}),e.Ei.close(),e.Li()})()}vi(e,n){return e.filter(o=>this.Ci(o.updateTimeMs,n)&&!this.Mi(o.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>Jd(e).W().next(n=>this.vi(n,18e5).map(o=>o.clientId)))}get started(){return this.qr}getMutationQueue(e,n){return Kd.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Gd(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return Mu.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,n,o){mt("IndexedDbPersistence","Starting transaction:",e);const l="readonly"===n?"readonly":"readwrite",u=15===(M=this.ui)?yd:14===M?Qa:13===M?tc:12===M?Cc:11===M?ec:void en();var M;let f;return this.Ei.runTransaction(e,l,u,D=>(f=new Xa(D,this.kr?this.kr.next():Vr._e),"readwrite-primary"===n?this.gi(f).next(M=>!!M||this.pi(f)).next(M=>{if(!M)throw Kt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new Tt(it.FAILED_PRECONDITION,Qh);return o(f)}).next(M=>this.wi(f).next(()=>M)):this.ki(f).next(()=>o(f)))).then(D=>(f.raiseOnCommittedEvent(),D))}ki(e){return Sf(e).get("owner").next(n=>{if(null!==n&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)&&!this.Si(n)&&!(this.ai||this.allowTabSynchronization&&n.allowTabSynchronization))throw new Tt(it.FAILED_PRECONDITION,Zd)})}wi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Sf(e).put("owner",n)}static D(){return T.D()}yi(e){const n=Sf(e);return n.get("owner").next(o=>this.Si(o)?(mt("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):y.resolve())}Ci(e,n){const o=Date.now();return!(e<o-n||e>o&&(Kt(`Detected an update time that is in the future: ${e} > ${o}`),1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const n=/(?:Version|Mobile)\/1[456]/;(0,_e.nr)()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var n;try{const o=null!==(null===(n=this.di)||void 0===n?void 0:n.getItem(this.Fi(e)));return mt("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return Kt("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){Kt("Failed to set zombie client id.",e)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Sf(s){return An(s,"owner")}function Jd(s){return An(s,"clientMetadata")}function Fg(s,e){let n=s.projectId;return s.isDefaultDatabase||(n+="."+s.database),"firestore/"+e+"/"+n+"/"}class Vg{constructor(e,n,o,l){this.targetId=e,this.fromCache=n,this.qi=o,this.Qi=l}static Ki(e,n){let o=pr(),l=pr();for(const u of n.docChanges)switch(u.type){case 0:o=o.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new Vg(e,n.fromCache,o,l)}}class FI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class by{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=(0,_e.nr)()?8:T.v((0,_e.ZQ)())>0?6:4}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,o,l){const u={result:null};return this.ji(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.Hi(e,n,l,o).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new FI;return this.Ji(e,n,f).next(D=>{if(u.result=D,this.Ui)return this.Yi(e,n,f,D.size)})}).next(()=>u.result)}Yi(e,n,o,l){return o.documentReadCount<this.Wi?(Qt()<=V.$b.DEBUG&&mt("QueryEngine","SDK will not create cache indexes for query:",Mn(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),y.resolve()):(Qt()<=V.$b.DEBUG&&mt("QueryEngine","Query:",Mn(n),"scans",o.documentReadCount,"local documents and returns",l,"documents as results."),o.documentReadCount>this.Gi*l?(Qt()<=V.$b.DEBUG&&mt("QueryEngine","The SDK decides to create cache indexes for query:",Mn(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,H(n))):y.resolve())}ji(e,n){if(h(n))return y.resolve(null);let o=H(n);return this.indexManager.getIndexType(e,o).next(l=>0===l?null:(null!==n.limit&&1===l&&(n=ct(n,null,"F"),o=H(n)),this.indexManager.getDocumentsMatchingTarget(e,o).next(u=>{const f=pr(...u);return this.zi.getDocuments(e,f).next(D=>this.indexManager.getMinOffset(e,o).next(M=>{const B=this.Zi(n,D);return this.Xi(n,B,f,M.readTime)?this.ji(e,ct(n,null,"F")):this.es(e,B,n,M)}))})))}Hi(e,n,o,l){return h(n)||l.isEqual(cn.min())?y.resolve(null):this.zi.getDocuments(e,o).next(u=>{const f=this.Zi(n,u);return this.Xi(n,f,o,l)?y.resolve(null):(Qt()<=V.$b.DEBUG&&mt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Mn(n)),this.es(e,f,n,gu(l,-1)).next(D=>D))})}Zi(e,n){let o=new Kr(Ua(e));return n.forEach((l,u)=>{Ir(e,u)&&(o=o.add(u))}),o}Xi(e,n,o,l){if(null===e.limit)return!1;if(o.size!==n.size)return!0;const u="F"===e.limitType?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}Ji(e,n,o){return Qt()<=V.$b.DEBUG&&mt("QueryEngine","Using full collection scan to execute query:",Mn(n)),this.zi.getDocumentsMatchingQuery(e,n,Mo.min(),o)}es(e,n,o,l){return this.zi.getDocumentsMatchingQuery(e,o,l).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}class VI{constructor(e,n,o,l){this.persistence=e,this.ts=n,this.serializer=l,this.ns=new yi(yn),this.rs=new Ca(u=>ac(u),Iu),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(o)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Og(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function Ug(s,e,n,o){return new VI(s,e,n,o)}function Bg(s,e){return jg.apply(this,arguments)}function jg(){return jg=(0,Ee.A)(function*(s,e){const n=Nt(s);return yield n.persistence.runTransaction("Handle user change","readonly",o=>{let l;return n.mutationQueue.getAllMutationBatches(o).next(u=>(l=u,n._s(e),n.mutationQueue.getAllMutationBatches(o))).next(u=>{const f=[],D=[];let M=pr();for(const B of l){f.push(B.batchId);for(const J of B.mutations)M=M.add(J.key)}for(const B of u){D.push(B.batchId);for(const J of B.mutations)M=M.add(J.key)}return n.localDocuments.getDocuments(o,M).next(B=>({us:B,removedBatchIds:f,addedBatchIds:D}))})})}),jg.apply(this,arguments)}function Hg(s){const e=Nt(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function $g(s,e,n){let o=pr(),l=pr();return n.forEach(u=>o=o.add(u)),e.getEntries(s,o).next(u=>{let f=Ss();return n.forEach((D,M)=>{const B=u.get(D);M.isFoundDocument()!==B.isFoundDocument()&&(l=l.add(D)),M.isNoDocument()&&M.version.isEqual(cn.min())?(e.removeEntry(D,M.readTime),f=f.insert(D,M)):!B.isValidDocument()||M.version.compareTo(B.version)>0||0===M.version.compareTo(B.version)&&B.hasPendingWrites?(e.addEntry(M),f=f.insert(D,M)):mt("LocalStore","Ignoring outdated watch update for ",D,". Current version:",B.version," Watch version:",M.version)}),{cs:f,ls:l}})}function Gg(s,e){const n=Nt(s);return n.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function ku(s,e){const n=Nt(s);return n.persistence.runTransaction("Allocate target","readwrite",o=>{let l;return n.Qr.getTargetData(o,e).next(u=>u?(l=u,y.resolve(l)):n.Qr.allocateTargetId(o).next(f=>(l=new Vo(e,f,"TargetPurposeListen",o.currentSequenceNumber),n.Qr.addTargetData(o,l).next(()=>l))))}).then(o=>{const l=n.ns.get(o.targetId);return(null===l||o.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.ns=n.ns.insert(o.targetId,o),n.rs.set(e,o.targetId)),o})}function ja(s,e,n){return Wg.apply(this,arguments)}function Wg(){return Wg=(0,Ee.A)(function*(s,e,n){const o=Nt(s),l=o.ns.get(e),u=n?"readwrite":"readwrite-primary";try{n||(yield o.persistence.runTransaction("Release target",u,f=>o.persistence.referenceDelegate.removeTarget(f,l)))}catch(f){if(!ee(f))throw f;mt("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}o.ns=o.ns.remove(e),o.rs.delete(l.target)}),Wg.apply(this,arguments)}function Pf(s,e,n){const o=Nt(s);let l=cn.min(),u=pr();return o.persistence.runTransaction("Execute query","readwrite",f=>function(M,B,J){const fe=Nt(M),Ne=fe.rs.get(J);return void 0!==Ne?y.resolve(fe.ns.get(Ne)):fe.Qr.getTargetData(B,J)}(o,f,H(e)).next(D=>{if(D)return l=D.lastLimboFreeSnapshotVersion,o.Qr.getMatchingKeysForTargetId(f,D.targetId).next(M=>{u=M})}).next(()=>o.ts.getDocumentsMatchingQuery(f,e,n?l:cn.min(),n?u:pr())).next(D=>(Ay(o,qs(e),D),{documents:D,hs:u})))}function Mf(s,e){const n=Nt(s),o=Nt(n.Qr),l=n.ns.get(e);return l?Promise.resolve(l.target):n.persistence.runTransaction("Get target data","readonly",u=>o._t(u,e).next(f=>f?f.target:null))}function zg(s,e){const n=Nt(s),o=n.ss.get(e)||cn.min();return n.persistence.runTransaction("Get new document changes","readonly",l=>n.os.getAllFromCollectionGroup(l,e,gu(o,-1),Number.MAX_SAFE_INTEGER)).then(l=>(Ay(n,e,l),l))}function Ay(s,e,n){let o=s.ss.get(e)||cn.min();n.forEach((l,u)=>{u.readTime.compareTo(o)>0&&(o=u.readTime)}),s.ss.set(e,o)}function Kg(){return Kg=(0,Ee.A)(function*(s,e,n,o){const l=Nt(s);let u=pr(),f=Ss();for(const B of n){const J=e.Ps(B.metadata.name);B.document&&(u=u.add(J));const fe=e.Is(B);fe.setReadTime(e.Ts(B.metadata.readTime)),f=f.insert(J,fe)}const D=l.os.newChangeBuffer({trackRemovals:!0}),M=yield ku(l,(J=o,H(w(Kn.fromString(`__bundle__/docs/${J}`)))));var J;return l.persistence.runTransaction("Apply bundle documents","readwrite",B=>$g(B,D,f).next(J=>(D.apply(B),J)).next(J=>l.Qr.removeMatchingKeysForTargetId(B,M.targetId).next(()=>l.Qr.addMatchingKeys(B,u,M.targetId)).next(()=>l.localDocuments.getLocalViewOfDocuments(B,J.cs,J.ls)).next(()=>J.cs)))}),Kg.apply(this,arguments)}function jI(s,e){return xf.apply(this,arguments)}function xf(){return xf=(0,Ee.A)(function*(s,e,n=pr()){const o=yield ku(s,H(ly(e.bundledQuery))),l=Nt(s);return l.persistence.runTransaction("Save named query","readwrite",u=>{const f=gs(e.readTime);if(o.snapshotVersion.compareTo(f)>=0)return l.$r.saveNamedQuery(u,e);const D=o.withResumeToken(ht.EMPTY_BYTE_STRING,f);return l.ns=l.ns.insert(D.targetId,D),l.Qr.updateTargetData(u,D).next(()=>l.Qr.removeMatchingKeysForTargetId(u,o.targetId)).next(()=>l.Qr.addMatchingKeys(u,n,o.targetId)).next(()=>l.$r.saveNamedQuery(u,e))})}),xf.apply(this,arguments)}function HI(s,e){return`firestore_clients_${s}_${e}`}function $I(s,e,n){let o=`firestore_mutations_${s}_${n}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function Xc(s,e){return`firestore_targets_${s}_${e}`}class Of{constructor(e,n,o,l){this.user=e,this.batchId=n,this.state=o,this.error=l}static Es(e,n,o){const l=JSON.parse(o);let u,f="object"==typeof l&&-1!==["pending","acknowledged","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return f&&l.error&&(f="string"==typeof l.error.message&&"string"==typeof l.error.code,f&&(u=new Tt(l.error.code,l.error.message))),f?new Of(e,n,l.state,u):(Kt("SharedClientState",`Failed to parse mutation state for ID '${n}': ${o}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class eh{constructor(e,n,o){this.targetId=e,this.state=n,this.error=o}static Es(e,n){const o=JSON.parse(n);let l,u="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return u&&o.error&&(u="string"==typeof o.error.message&&"string"==typeof o.error.code,u&&(l=new Tt(o.error.code,o.error.message))),u?new eh(e,o.state,l):(Kt("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Nf{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Es(e,n){const o=JSON.parse(n);let l="object"==typeof o&&o.activeTargetIds instanceof Array,u=tg();for(let f=0;l&&f<o.activeTargetIds.length;++f)l=ra(o.activeTargetIds[f]),u=u.add(o.activeTargetIds[f]);return l?new Nf(e,u):(Kt("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class kf{constructor(e,n){this.clientId=e,this.onlineState=n}static Es(e){const n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new kf(n.clientId,n.onlineState):(Kt("SharedClientState",`Failed to parse online state: ${e}`),null)}}class qg{constructor(){this.activeTargetIds=tg()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Qg{constructor(e,n,o,l,u){this.window=e,this.oi=n,this.persistenceKey=o,this.Vs=l,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new yi(yn),this.started=!1,this.ys=[];const f=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.ws=HI(this.persistenceKey,this.Vs),this.Ss=`firestore_sequence_number_${this.persistenceKey}`,this.ps=this.ps.insert(this.Vs,new qg),this.bs=new RegExp(`^firestore_clients_${f}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${f}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${f}_(\\d+)$`),this.vs=`firestore_online_state_${this.persistenceKey}`,this.Fs=function(M){return`firestore_bundle_loaded_v2_${M}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ee.A)(function*(){const n=yield e.syncEngine.Bi();for(const l of n){if(l===e.Vs)continue;const u=e.getItem(HI(e.persistenceKey,l));if(u){const f=Nf.Es(l,u);f&&(e.ps=e.ps.insert(f.clientId,f))}}e.Ms();const o=e.storage.getItem(e.vs);if(o){const l=e.xs(o);l&&e.Os(l)}for(const l of e.ys)e.gs(l);e.ys=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let n=!1;return this.ps.forEach((o,l)=>{l.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,n,o){this.Ls(e,n,o),this.Bs(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(Xc(this.persistenceKey,e));if(o){const l=eh.Es(e,o);l&&(n=l.state)}}return this.ks.As(e),this.Ms(),n}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Xc(this.persistenceKey,e))}updateQueryState(e,n,o){this.qs(e,n,o)}handleUserChange(e,n,o){n.forEach(l=>{this.Bs(l)}),this.currentUser=e,o.forEach(l=>{this.addPendingMutation(l)})}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return mt("SharedClientState","READ",e,n),n}setItem(e,n){mt("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){mt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){var n=this;const o=e;if(o.storageArea===this.storage){if(mt("SharedClientState","EVENT",o.key,o.newValue),o.key===this.ws)return void Kt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((0,Ee.A)(function*(){if(n.started){if(null!==o.key)if(n.bs.test(o.key)){if(null==o.newValue){const l=n.$s(o.key);return n.Us(l,null)}{const l=n.Ws(o.key,o.newValue);if(l)return n.Us(l.clientId,l)}}else if(n.Ds.test(o.key)){if(null!==o.newValue){const l=n.Gs(o.key,o.newValue);if(l)return n.zs(l)}}else if(n.Cs.test(o.key)){if(null!==o.newValue){const l=n.js(o.key,o.newValue);if(l)return n.Hs(l)}}else if(o.key===n.vs){if(null!==o.newValue){const l=n.xs(o.newValue);if(l)return n.Os(l)}}else if(o.key===n.Ss){const l=function(f){let D=Vr._e;if(null!=f)try{const M=JSON.parse(f);Vt("number"==typeof M),D=M}catch(M){Kt("SharedClientState","Failed to read sequence number from WebStorage",M)}return D}(o.newValue);l!==Vr._e&&n.sequenceNumberHandler(l)}else if(o.key===n.Fs){const l=n.Js(o.newValue);yield Promise.all(l.map(u=>n.syncEngine.Ys(u)))}}else n.ys.push(o)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(e,n,o){const l=new Of(this.currentUser,e,n,o),u=$I(this.persistenceKey,this.currentUser,e);this.setItem(u,l.ds())}Bs(e){const n=$I(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Qs(e){this.storage.setItem(this.vs,JSON.stringify({clientId:this.Vs,onlineState:e}))}qs(e,n,o){const l=Xc(this.persistenceKey,e),u=new eh(e,n,o);this.setItem(l,u.ds())}Ks(e){const n=JSON.stringify(Array.from(e));this.setItem(this.Fs,n)}$s(e){const n=this.bs.exec(e);return n?n[1]:null}Ws(e,n){const o=this.$s(e);return Nf.Es(o,n)}Gs(e,n){const o=this.Ds.exec(e),l=Number(o[1]);return Of.Es(new sn(void 0!==o[2]?o[2]:null),l,n)}js(e,n){const o=this.Cs.exec(e),l=Number(o[1]);return eh.Es(l,n)}xs(e){return kf.Es(e)}Js(e){return JSON.parse(e)}zs(e){var n=this;return(0,Ee.A)(function*(){if(e.user.uid===n.currentUser.uid)return n.syncEngine.Zs(e.batchId,e.state,e.error);mt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,n){const o=n?this.ps.insert(e,n):this.ps.remove(e),l=this.Ns(this.ps),u=this.Ns(o),f=[],D=[];return u.forEach(M=>{l.has(M)||f.push(M)}),l.forEach(M=>{u.has(M)||D.push(M)}),this.syncEngine.eo(f,D).then(()=>{this.ps=o})}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let n=tg();return e.forEach((o,l)=>{n=n.unionWith(l.activeTargetIds)}),n}}class Dy{constructor(){this.no=new qg,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,o){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,o){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new qg,Promise.resolve()}handleUserChange(e,n,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class GI{io(e){}shutdown(){}}class Sy{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){mt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){mt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Lf=null;function th(){return null===Lf?Lf=268435456+Math.round(2147483648*Math.random()):Lf++,"0x"+Lf.toString(16)}const nw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class rw{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}const Xs="WebChannelConnection";class iw extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const o=n.ssl?"https":"http",l=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.fo=o+"://"+n.host,this.po=`projects/${l}/databases/${u}`,this.yo="(default)"===this.databaseId.database?`project_id=${l}`:`project_id=${l}&database_id=${u}`}get wo(){return!1}So(n,o,l,u,f){const D=th(),M=this.bo(n,o.toUriEncodedString());mt("RestConnection",`Sending RPC '${n}' ${D}:`,M,l);const B={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(B,u,f),this.Co(n,M,B,l).then(J=>(mt("RestConnection",`Received RPC '${n}' ${D}: `,J),J),J=>{throw Ar("RestConnection",`RPC '${n}' ${D} failed with error: `,J,"url: ",M,"request:",l),J})}vo(n,o,l,u,f,D){return this.So(n,o,l,u,f)}Do(n,o,l){n["X-Goog-Api-Client"]="gl-js/ fire/"+wn,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),o&&o.headers.forEach((u,f)=>n[f]=u),l&&l.headers.forEach((u,f)=>n[f]=u)}bo(n,o){return`${this.fo}/v1/${o}:${nw[n]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,o,l){const u=th();return new Promise((f,D)=>{const M=new Ce;M.setWithCredentials(!0),M.listenOnce(S.COMPLETE,()=>{try{switch(M.getLastErrorCode()){case v.NO_ERROR:const J=M.getResponseJson();mt(Xs,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(J)),f(J);break;case v.TIMEOUT:mt(Xs,`RPC '${e}' ${u} timed out`),D(new Tt(it.DEADLINE_EXCEEDED,"Request time out"));break;case v.HTTP_ERROR:const fe=M.getStatus();if(mt(Xs,`RPC '${e}' ${u} failed with status:`,fe,"response text:",M.getResponseText()),fe>0){let Ne=M.getResponseJson();Array.isArray(Ne)&&(Ne=Ne[0]);const et=Ne?.error;if(et&&et.status&&et.message){const jt=function(qt){const Un=qt.toLowerCase().replace(/_/g,"-");return Object.values(it).indexOf(Un)>=0?Un:it.UNKNOWN}(et.status);D(new Tt(jt,et.message))}else D(new Tt(it.UNKNOWN,"Server responded with status "+M.getStatus()))}else D(new Tt(it.UNAVAILABLE,"Connection failed."));break;default:en()}}finally{mt(Xs,`RPC '${e}' ${u} completed.`)}});const B=JSON.stringify(l);mt(Xs,`RPC '${e}' ${u} sending request:`,l),M.send(n,"POST",B,o,15)})}Fo(e,n,o){const l=th(),u=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=U(),D=E(),M={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},B=this.longPollingOptions.timeoutSeconds;void 0!==B&&(M.longPollingTimeout=Math.round(1e3*B)),this.useFetchStreams&&(M.useFetchStreams=!0),this.Do(M.initMessageHeaders,n,o),M.encodeInitMessageHeaders=!0;const J=u.join("");mt(Xs,`Creating RPC '${e}' stream ${l}: ${J}`,M);const fe=f.createWebChannel(J,M);let Ne=!1,et=!1;const jt=new rw({lo:qt=>{et?mt(Xs,`Not sending because RPC '${e}' stream ${l} is closed:`,qt):(Ne||(mt(Xs,`Opening RPC '${e}' stream ${l} transport.`),fe.open(),Ne=!0),mt(Xs,`RPC '${e}' stream ${l} sending:`,qt),fe.send(qt))},ho:()=>fe.close()}),Lt=(qt,Un,qn)=>{qt.listen(Un,Ln=>{try{qn(Ln)}catch(mr){setTimeout(()=>{throw mr},0)}})};return Lt(fe,Ae.EventType.OPEN,()=>{et||mt(Xs,`RPC '${e}' stream ${l} transport opened.`)}),Lt(fe,Ae.EventType.CLOSE,()=>{et||(et=!0,mt(Xs,`RPC '${e}' stream ${l} transport closed`),jt.Vo())}),Lt(fe,Ae.EventType.ERROR,qt=>{et||(et=!0,Ar(Xs,`RPC '${e}' stream ${l} transport errored:`,qt),jt.Vo(new Tt(it.UNAVAILABLE,"The operation could not be completed")))}),Lt(fe,Ae.EventType.MESSAGE,qt=>{var Un;if(!et){const qn=qt.data[0];Vt(!!qn);const mr=qn.error||(null===(Un=qn[0])||void 0===Un?void 0:Un.error);if(mr){mt(Xs,`RPC '${e}' stream ${l} received error:`,mr);const kr=mr.status;let si=function(QE){const us=Rs[QE];if(void 0!==us)return z_(us)}(kr),cs=mr.message;void 0===si&&(si=it.INTERNAL,cs="Unknown error status: "+kr+" with message "+mr.message),et=!0,jt.Vo(new Tt(si,cs)),fe.close()}else mt(Xs,`RPC '${e}' stream ${l} received:`,qn),jt.mo(qn)}}),Lt(D,N.STAT_EVENT,qt=>{qt.stat===Z.PROXY?mt(Xs,`RPC '${e}' stream ${l} detected buffering proxy`):qt.stat===Z.NOPROXY&&mt(Xs,`RPC '${e}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{jt.Ro()},0),jt}}function WI(){return typeof window<"u"?window:null}function Xg(){return typeof document<"u"?document:null}function Ff(s){return new Vd(s,!0)}class Ry{constructor(e,n,o=1e3,l=1.5,u=6e4){this.oi=e,this.timerId=n,this.Mo=o,this.xo=l,this.Oo=u,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),o=Math.max(0,Date.now()-this.Bo),l=Math.max(0,n-o);l>0&&mt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${o} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,l,()=>(this.Bo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){null!==this.Lo&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){null!==this.Lo&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}}class Py{constructor(e,n,o,l,u,f,D,M){this.oi=e,this.$o=o,this.Uo=l,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=D,this.listener=M,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new Ry(e,n)}Ho(){return 1===this.state||5===this.state||this.Jo()}Jo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Yo()}stop(){var e=this;return(0,Ee.A)(function*(){e.Ho()&&(yield e.close(0))})()}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}e_(){var e=this;return(0,Ee.A)(function*(){if(e.Jo())return e.close(0)})()}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}close(e,n){var o=this;return(0,Ee.A)(function*(){o.n_(),o.r_(),o.jo.cancel(),o.Wo++,4!==e?o.jo.reset():n&&n.code===it.RESOURCE_EXHAUSTED?(Kt(n.toString()),Kt("Using maximum backoff delay to prevent overloading the backend."),o.jo.ko()):n&&n.code===it.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.i_(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.To(n)})()}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,l])=>{this.Wo===n&&this.o_(o,l)},o=>{e(()=>{const l=new Tt(it.UNKNOWN,"Fetching auth token failed: "+o.message);return this.__(l)})})}o_(e,n){const o=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{o(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(l=>{o(()=>this.__(l))}),this.stream.onMessage(l=>{o(()=>this.onMessage(l))})}Yo(){var e=this;this.state=5,this.jo.qo((0,Ee.A)(function*(){e.state=0,e.start()}))}__(e){return mt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(mt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Vf extends Py{constructor(e,n,o,l,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,o,l,f),this.serializer=u}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=function ty(s,e){let n;if("targetChange"in e){const o="NO_CHANGE"===(B=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===B?1:"REMOVE"===B?2:"CURRENT"===B?3:"RESET"===B?4:en(),l=e.targetChange.targetIds||[],u=function(B,J){return B.useProto3Json?(Vt(void 0===J||"string"==typeof J),ht.fromBase64String(J||"")):(Vt(void 0===J||J instanceof Uint8Array),ht.fromUint8Array(J||new Uint8Array))}(s,e.targetChange.resumeToken),f=e.targetChange.cause,D=f&&function(B){const J=void 0===B.code?it.UNKNOWN:z_(B.code);return new Tt(J,B.message||"")}(f);n=new dg(o,l,u,D||null)}else if("documentChange"in e){const o=e.documentChange,l=gl(s,o.document.name),u=gs(o.document.updateTime),f=o.document.createTime?gs(o.document.createTime):cn.min(),D=new Ds({mapValue:{fields:o.document.fields}}),M=bi.newFoundDocument(l,u,f,D);n=new hf(o.targetIds||[],o.removedTargetIds||[],M.key,M)}else if("documentDelete"in e){const o=e.documentDelete,l=gl(s,o.document),u=o.readTime?gs(o.readTime):cn.min(),f=bi.newNoDocument(l,u);n=new hf([],o.removedTargetIds||[],f.key,f)}else if("documentRemove"in e){const o=e.documentRemove,l=gl(s,o.document);n=new hf([],o.removedTargetIds||[],l,null)}else{if(!("filter"in e))return en();{const o=e.filter,{count:l=0,unchangedNames:u}=o,f=new W_(l,u);n=new K_(o.targetId,f)}}var B;return n}(this.serializer,e),o=function(u){if(!("targetChange"in u))return cn.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?cn.min():f.readTime?gs(f.readTime):cn.min()}(e);return this.listener.u_(n,o)}c_(e){const n={};n.database=mf(this.serializer),n.addTarget=function(u,f){let D;const M=f.target;if(D=lc(M)?{documents:ny(u,M)}:{query:_g(u,M).ut},D.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){D.resumeToken=X_(u,f.resumeToken);const B=pf(u,f.expectedCount);null!==B&&(D.expectedCount=B)}else if(f.snapshotVersion.compareTo(cn.min())>0){D.readTime=Fc(u,f.snapshotVersion.toTimestamp());const B=pf(u,f.expectedCount);null!==B&&(D.expectedCount=B)}return D}(this.serializer,e);const o=function iy(s,e){const n=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return en()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);o&&(n.labels=o),this.t_(n)}l_(e){const n={};n.database=mf(this.serializer),n.removeTarget=e,this.t_(n)}}class Uf extends Py{constructor(e,n,o,l,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,o,l,f),this.serializer=u,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(Vt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=function CI(s,e){return s&&s.length>0?(Vt(void 0!==e),s.map(n=>function(l,u){let f=gs(l.updateTime?l.updateTime:u);return f.isEqual(cn.min())&&(f=gs(u)),new j_(f,l.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),o=gs(e.commitTime);return this.listener.T_(o,n)}return Vt(!e.writeResults||0===e.writeResults.length),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=mf(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(o=>Du(this.serializer,o))};this.t_(n)}}class Yg extends class{}{constructor(e,n,o,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=o,this.serializer=l,this.A_=!1}R_(){if(this.A_)throw new Tt(it.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,o,l){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.So(e,fg(n,o),l,u,f)).catch(u=>{throw"FirebaseError"===u.name?(u.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Tt(it.UNKNOWN,u.toString())})}vo(e,n,o,l,u){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,D])=>this.connection.vo(e,fg(n,o),l,f,D,u)).catch(f=>{throw"FirebaseError"===f.name?(f.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new Tt(it.UNKNOWN,f.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class zI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,"Online"===e&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Kt(n),this.g_=!1):mt("OnlineStateTracker",n)}b_(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}class xy{constructor(e,n,o,l,u){var f=this;this.localStore=e,this.datastore=n,this.asyncQueue=o,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=u,this.M_.io(D=>{o.enqueueAndForget((0,Ee.A)(function*(){var M;Bl(f)&&(mt("RemoteStore","Restarting streams for network reachability change."),yield(M=(0,Ee.A)(function*(J){const fe=Nt(J);fe.v_.add(4),yield Ys(fe),fe.x_.set("Unknown"),fe.v_.delete(4),yield Lu(fe)}),function B(J){return M.apply(this,arguments)})(f))}))}),this.x_=new zI(o,l)}}function Lu(s){return pc.apply(this,arguments)}function pc(){return pc=(0,Ee.A)(function*(s){if(Bl(s))for(const e of s.F_)yield e(!0)}),pc.apply(this,arguments)}function Ys(s){return yl.apply(this,arguments)}function yl(){return yl=(0,Ee.A)(function*(s){for(const e of s.F_)yield e(!1)}),yl.apply(this,arguments)}function nh(s,e){const n=Nt(s);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),jf(n)?Oy(n):uh(n).Jo()&&Zg(n,e))}function rh(s,e){const n=Nt(s),o=uh(n);n.C_.delete(e),o.Jo()&&KI(n,e),0===n.C_.size&&(o.Jo()?o.Xo():Bl(n)&&n.x_.set("Unknown"))}function Zg(s,e){if(s.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(cn.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}uh(s).c_(e)}function KI(s,e){s.O_.Oe(e),uh(s).l_(e)}function Oy(s){s.O_=new TI({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>s.C_.get(e)||null,nt:()=>s.datastore.serializer.databaseId}),uh(s).start(),s.x_.p_()}function jf(s){return Bl(s)&&!uh(s).Ho()&&s.C_.size>0}function Bl(s){return 0===Nt(s).v_.size}function qI(s){s.O_=void 0}function Hf(s){return ih.apply(this,arguments)}function ih(){return ih=(0,Ee.A)(function*(s){s.C_.forEach((e,n)=>{Zg(s,e)})}),ih.apply(this,arguments)}function Jg(s,e){return em.apply(this,arguments)}function em(){return em=(0,Ee.A)(function*(s,e){qI(s),jf(s)?(s.x_.S_(e),Oy(s)):s.x_.set("Unknown")}),em.apply(this,arguments)}function Fu(s,e,n){return sh.apply(this,arguments)}function sh(){return sh=(0,Ee.A)(function*(s,e,n){if(s.x_.set("Online"),e instanceof dg&&2===e.state&&e.cause)try{yield(o=(0,Ee.A)(function*(u,f){const D=f.cause;for(const M of f.targetIds)u.C_.has(M)&&(yield u.remoteSyncer.rejectListen(M,D),u.C_.delete(M),u.O_.removeTarget(M))}),function l(u,f){return o.apply(this,arguments)})(s,e)}catch(o){mt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield oh(s,o)}else if(e instanceof hf?s.O_.$e(e):e instanceof K_?s.O_.Je(e):s.O_.Ge(e),!n.isEqual(cn.min()))try{const o=yield Hg(s.localStore);n.compareTo(o)>=0&&(yield function(u,f){const D=u.O_.it(f);return D.targetChanges.forEach((M,B)=>{if(M.resumeToken.approximateByteSize()>0){const J=u.C_.get(B);J&&u.C_.set(B,J.withResumeToken(M.resumeToken,f))}}),D.targetMismatches.forEach((M,B)=>{const J=u.C_.get(M);if(!J)return;u.C_.set(M,J.withResumeToken(ht.EMPTY_BYTE_STRING,J.snapshotVersion)),KI(u,M);const fe=new Vo(J.target,M,B,J.sequenceNumber);Zg(u,fe)}),u.remoteSyncer.applyRemoteEvent(D)}(s,n))}catch(o){mt("RemoteStore","Failed to raise snapshot:",o),yield oh(s,o)}var o}),sh.apply(this,arguments)}function oh(s,e,n){return ah.apply(this,arguments)}function ah(){return ah=(0,Ee.A)(function*(s,e,n){if(!ee(e))throw e;s.v_.add(1),yield Ys(s),s.x_.set("Offline"),n||(n=()=>Hg(s.localStore)),s.asyncQueue.enqueueRetryable((0,Ee.A)(function*(){mt("RemoteStore","Retrying IndexedDB access"),yield n(),s.v_.delete(1),yield Lu(s)}))}),ah.apply(this,arguments)}function lh(s,e){return e().catch(n=>oh(s,n,e))}function Vu(s){return tm.apply(this,arguments)}function tm(){return tm=(0,Ee.A)(function*(s){const e=Nt(s),n=il(e);let o=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;Ny(e);)try{const l=yield Gg(e.localStore,o);if(null===l){0===e.D_.length&&n.Xo();break}o=l.batchId,QI(e,l)}catch(l){yield oh(e,l)}ky(e)&&Ly(e)}),tm.apply(this,arguments)}function Ny(s){return Bl(s)&&s.D_.length<10}function QI(s,e){s.D_.push(e);const n=il(s);n.Jo()&&n.P_&&n.I_(e.mutations)}function ky(s){return Bl(s)&&!il(s).Ho()&&s.D_.length>0}function Ly(s){il(s).start()}function Fy(s){return Yc.apply(this,arguments)}function Yc(){return Yc=(0,Ee.A)(function*(s){il(s).d_()}),Yc.apply(this,arguments)}function $f(s){return ch.apply(this,arguments)}function ch(){return ch=(0,Ee.A)(function*(s){const e=il(s);for(const n of s.D_)e.I_(n.mutations)}),ch.apply(this,arguments)}function XI(s,e,n){return nm.apply(this,arguments)}function nm(){return nm=(0,Ee.A)(function*(s,e,n){const o=s.D_.shift(),l=lg.from(o,e,n);yield lh(s,()=>s.remoteSyncer.applySuccessfulWrite(l)),yield Vu(s)}),nm.apply(this,arguments)}function rm(s,e){return Gf.apply(this,arguments)}function Gf(){return Gf=(0,Ee.A)(function*(s,e){var n;e&&il(s).P_&&(yield(n=(0,Ee.A)(function*(l,u){if(tl(D=u.code)&&D!==it.ABORTED){const f=l.D_.shift();il(l).Zo(),yield lh(l,()=>l.remoteSyncer.rejectFailedWrite(f.batchId,u)),yield Vu(l)}var D}),function o(l,u){return n.apply(this,arguments)})(s,e)),ky(s)&&Ly(s)}),Gf.apply(this,arguments)}function gc(s,e){return Wf.apply(this,arguments)}function Wf(){return Wf=(0,Ee.A)(function*(s,e){const n=Nt(s);n.asyncQueue.verifyOperationInProgress(),mt("RemoteStore","RemoteStore received new credentials");const o=Bl(n);n.v_.add(3),yield Ys(n),o&&n.x_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),yield Lu(n)}),Wf.apply(this,arguments)}function zf(s,e){return im.apply(this,arguments)}function im(){return im=(0,Ee.A)(function*(s,e){const n=Nt(s);e?(n.v_.delete(2),yield Lu(n)):e||(n.v_.add(2),yield Ys(n),n.x_.set("Unknown"))}),im.apply(this,arguments)}function uh(s){return s.N_||(s.N_=function(n,o,l){const u=Nt(n);return u.R_(),new Vf(o,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)}(s.datastore,s.asyncQueue,{Po:Hf.bind(null,s),To:Jg.bind(null,s),u_:Fu.bind(null,s)}),s.F_.push(function(){var e=(0,Ee.A)(function*(n){n?(s.N_.Zo(),jf(s)?Oy(s):s.x_.set("Unknown")):(yield s.N_.stop(),qI(s))});return function(n){return e.apply(this,arguments)}}())),s.N_}function il(s){return s.L_||(s.L_=function(n,o,l){const u=Nt(n);return u.R_(),new Uf(o,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)}(s.datastore,s.asyncQueue,{Po:Fy.bind(null,s),To:rm.bind(null,s),E_:$f.bind(null,s),T_:XI.bind(null,s)}),s.F_.push(function(){var e=(0,Ee.A)(function*(n){n?(s.L_.Zo(),yield Vu(s)):(yield s.L_.stop(),s.D_.length>0&&(mt("RemoteStore",`Stopping write stream with ${s.D_.length} pending writes`),s.D_=[]))});return function(n){return e.apply(this,arguments)}}())),s.L_}class sm{constructor(e,n,o,l,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=o,this.op=l,this.removalCallback=u,this.deferred=new Fi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,o,l,u){const f=Date.now()+o,D=new sm(e,n,f,l,u);return D.start(o),D}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Tt(it.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zc(s,e){if(Kt("AsyncQueue",`${e}: ${s}`),ee(s))return new Tt(it.UNAVAILABLE,`${e}: ${s}`);throw s}class Jc{constructor(e){this.comparator=e?(n,o)=>e(n,o)||tn.comparator(n.key,o.key):(n,o)=>tn.comparator(n.key,o.key),this.keyedMap=kl(),this.sortedSet=new yi(this.comparator)}static emptySet(e){return new Jc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,o)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Jc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=o.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const o=new Jc;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=n,o}}class om{constructor(){this.B_=new yi(tn.comparator)}track(e){const n=e.doc.key,o=this.B_.get(n);o?0!==e.type&&3===o.type?this.B_=this.B_.insert(n,e):3===e.type&&1!==o.type?this.B_=this.B_.insert(n,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.B_=this.B_.remove(n):1===e.type&&2===o.type?this.B_=this.B_.insert(n,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):en():this.B_=this.B_.insert(n,e)}k_(){const e=[];return this.B_.inorderTraversal((n,o)=>{e.push(o)}),e}}class mc{constructor(e,n,o,l,u,f,D,M,B){this.query=e,this.docs=n,this.oldDocs=o,this.docChanges=l,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=D,this.excludesMetadataChanges=M,this.hasCachedResults=B}static fromInitialDocuments(e,n,o,l,u){const f=[];return n.forEach(D=>{f.push({type:0,doc:D})}),new mc(e,n,Jc.emptySet(n),f,o,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dt(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,o=e.docChanges;if(n.length!==o.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==o[l].type||!n[l].doc.isEqual(o[l].doc))return!1;return!0}}class Vy{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some(e=>e.U_())}}class Kf{constructor(){this.queries=new Ca(e=>vn(e),Dt),this.onlineState="Unknown",this.W_=new Set}}function eu(s,e){return qf.apply(this,arguments)}function qf(){return qf=(0,Ee.A)(function*(s,e){const n=Nt(s);let o=3;const l=e.query;let u=n.queries.get(l);u?!u.K_()&&e.U_()&&(o=2):(u=new Vy,o=e.U_()?0:1);try{switch(o){case 0:u.q_=yield n.onListen(l,!0);break;case 1:u.q_=yield n.onListen(l,!1);break;case 2:yield n.onFirstRemoteStoreListen(l)}}catch(f){const D=Zc(f,`Initialization of query '${Mn(e.query)}' failed`);return void e.onError(D)}n.queries.set(l,u),u.Q_.push(e),e.G_(n.onlineState),u.q_&&e.z_(u.q_)&&Uu(n)}),qf.apply(this,arguments)}function dh(s,e){return tu.apply(this,arguments)}function tu(){return tu=(0,Ee.A)(function*(s,e){const n=Nt(s),o=e.query;let l=3;const u=n.queries.get(o);if(u){const f=u.Q_.indexOf(e);f>=0&&(u.Q_.splice(f,1),0===u.Q_.length?l=e.U_()?0:1:!u.K_()&&e.U_()&&(l=2))}switch(l){case 0:return n.queries.delete(o),n.onUnlisten(o,!0);case 1:return n.queries.delete(o),n.onUnlisten(o,!1);case 2:return n.onLastRemoteStoreUnlisten(o);default:return}}),tu.apply(this,arguments)}function Uy(s,e){const n=Nt(s);let o=!1;for(const l of e){const f=n.queries.get(l.query);if(f){for(const D of f.Q_)D.z_(l)&&(o=!0);f.q_=l}}o&&Uu(n)}function am(s,e,n){const o=Nt(s),l=o.queries.get(e);if(l)for(const u of l.Q_)u.onError(n);o.queries.delete(e)}function Uu(s){s.W_.forEach(e=>{e.next()})}var lm,cm;(cm=lm||(lm={})).j_="default",cm.Cache="cache";class um{constructor(e,n,o){this.query=e,this.H_=n,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=o||{}}z_(e){if(!this.options.includeMetadataChanges){const o=[];for(const l of e.docChanges)3!==l.type&&o.push(l);e=new mc(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),n=!0):this.X_(e,this.onlineState)&&(this.ea(e),n=!0),this.Y_=e,n}onError(e){this.H_.error(e)}G_(e){this.onlineState=e;let n=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),n=!0),n}X_(e,n){return!e.fromCache||!this.U_()||(!this.options.ta||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}ea(e){e=mc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}U_(){return this.options.source!==lm.Cache}}class YI{constructor(e,n){this.na=e,this.byteLength=n}ra(){return"metadata"in this.na}}class By{constructor(e){this.serializer=e}Ps(e){return gl(this.serializer,e)}Is(e){return e.metadata.exists?Bd(this.serializer,e.document,!1):bi.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return gs(e)}}class jy{constructor(e,n,o){this.ia=e,this.localStore=n,this.serializer=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=dm(e)}sa(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.na.namedQuery)this.queries.push(e.na.namedQuery);else if(e.na.documentMetadata){this.documents.push({metadata:e.na.documentMetadata}),e.na.documentMetadata.exists||++n;const o=Kn.fromString(e.na.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.na.document&&(this.documents[this.documents.length-1].document=e.na.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}oa(e){const n=new Map,o=new By(this.serializer);for(const l of e)if(l.metadata.queries){const u=o.Ps(l.metadata.name);for(const f of l.metadata.queries){const D=(n.get(f)||pr()).add(u);n.set(f,D)}}return n}complete(){var e=this;return(0,Ee.A)(function*(){const n=yield function BI(s,e,n,o){return Kg.apply(this,arguments)}(e.localStore,new By(e.serializer),e.documents,e.ia.id),o=e.oa(e.documents);for(const l of e.queries)yield jI(e.localStore,l,o.get(l.name));return e.progress.taskState="Success",{progress:e.progress,_a:e.collectionGroups,aa:n}})()}}function dm(s){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:s.totalDocuments,totalBytes:s.totalBytes}}class gr{constructor(e){this.key=e}}class hm{constructor(e){this.key=e}}class fm{constructor(e,n){this.query=e,this.ua=n,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=pr(),this.mutatedKeys=pr(),this.ha=Ua(e),this.Pa=new Jc(this.ha)}get Ia(){return this.ua}Ta(e,n){const o=n?n.Ea:new om,l=n?n.Pa:this.Pa;let u=n?n.mutatedKeys:this.mutatedKeys,f=l,D=!1;const M="F"===this.query.limitType&&l.size===this.query.limit?l.last():null,B="L"===this.query.limitType&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((J,fe)=>{const Ne=l.get(J),et=Ir(this.query,fe)?fe:null,jt=!!Ne&&this.mutatedKeys.has(Ne.key),Lt=!!et&&(et.hasLocalMutations||this.mutatedKeys.has(et.key)&&et.hasCommittedMutations);let qt=!1;Ne&&et?Ne.data.isEqual(et.data)?jt!==Lt&&(o.track({type:3,doc:et}),qt=!0):this.da(Ne,et)||(o.track({type:2,doc:et}),qt=!0,(M&&this.ha(et,M)>0||B&&this.ha(et,B)<0)&&(D=!0)):!Ne&&et?(o.track({type:0,doc:et}),qt=!0):Ne&&!et&&(o.track({type:1,doc:Ne}),qt=!0,(M||B)&&(D=!0)),qt&&(et?(f=f.add(et),u=Lt?u.add(J):u.delete(J)):(f=f.delete(J),u=u.delete(J)))}),null!==this.query.limit)for(;f.size>this.query.limit;){const J="F"===this.query.limitType?f.last():f.first();f=f.delete(J.key),u=u.delete(J.key),o.track({type:1,doc:J})}return{Pa:f,Ea:o,Xi:D,mutatedKeys:u}}da(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,o,l){const u=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;const f=e.Ea.k_();f.sort((J,fe)=>function(et,jt){const Lt=qt=>{switch(qt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return en()}};return Lt(et)-Lt(jt)}(J.type,fe.type)||this.ha(J.doc,fe.doc)),this.Aa(o),l=null!=l&&l;const D=n&&!l?this.Ra():[],M=0===this.la.size&&this.current&&!l?1:0,B=M!==this.ca;return this.ca=M,0!==f.length||B?{snapshot:new mc(this.query,e.Pa,u,f,e.mutatedKeys,0===M,B,!1,!!o&&o.resumeToken.approximateByteSize()>0),Va:D}:{Va:D}}G_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new om,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}Aa(e){e&&(e.addedDocuments.forEach(n=>this.ua=this.ua.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ua=this.ua.delete(n)),this.current=e.current)}Ra(){if(!this.current)return[];const e=this.la;this.la=pr(),this.Pa.forEach(o=>{this.ma(o.key)&&(this.la=this.la.add(o.key))});const n=[];return e.forEach(o=>{this.la.has(o)||n.push(new hm(o))}),this.la.forEach(o=>{e.has(o)||n.push(new gr(o))}),n}fa(e){this.ua=e.hs,this.la=pr();const n=this.Ta(e.documents);return this.applyChanges(n,!0)}ga(){return mc.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,0===this.ca,this.hasCachedResults)}}class Bu{constructor(e,n,o){this.query=e,this.targetId=n,this.view=o}}class Hy{constructor(e){this.key=e,this.pa=!1}}class $y{constructor(e,n,o,l,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=o,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.ya={},this.wa=new Ca(D=>vn(D),Dt),this.Sa=new Map,this.ba=new Set,this.Da=new yi(tn.comparator),this.Ca=new Map,this.va=new Ng,this.Fa={},this.Ma=new Map,this.xa=Kc.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return!0===this.Oa}}function ZI(s,e){return ju.apply(this,arguments)}function ju(){return ju=(0,Ee.A)(function*(s,e,n=!0){const o=nu(s);let l;const u=o.wa.get(e);return u?(o.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.ga()):l=yield $u(o,e,n,!0),l}),ju.apply(this,arguments)}function Hu(s,e){return hh.apply(this,arguments)}function hh(){return hh=(0,Ee.A)(function*(s,e){const n=nu(s);yield $u(n,e,!0,!1)}),hh.apply(this,arguments)}function $u(s,e,n,o){return Qf.apply(this,arguments)}function Qf(){return Qf=(0,Ee.A)(function*(s,e,n,o){const l=yield ku(s.localStore,H(e)),u=l.targetId,f=n?s.sharedClientState.addLocalQueryTarget(u):"not-current";let D;return o&&(D=yield fh(s,e,u,"current"===f,l.resumeToken)),s.isPrimaryClient&&n&&nh(s.remoteStore,l),D}),Qf.apply(this,arguments)}function fh(s,e,n,o,l){return ph.apply(this,arguments)}function ph(){return ph=(0,Ee.A)(function*(s,e,n,o,l){s.Na=(fe,Ne,et)=>{return(jt=(0,Ee.A)(function*(qt,Un,qn,Ln){let mr=Un.view.Ta(qn);mr.Xi&&(mr=yield Pf(qt.localStore,Un.query,!1).then(({documents:Ga})=>Un.view.Ta(Ga,mr)));const kr=Ln&&Ln.targetChanges.get(Un.targetId),si=Ln&&null!=Ln.targetMismatches.get(Un.targetId),cs=Un.view.applyChanges(mr,qt.isPrimaryClient,kr,si);return bm(qt,Un.targetId,cs.Va),cs.snapshot}),function Lt(qt,Un,qn,Ln){return jt.apply(this,arguments)})(s,fe,Ne,et);var jt};const u=yield Pf(s.localStore,e,!0),f=new fm(e,u.hs),D=f.Ta(u.documents),M=Fd.createSynthesizedTargetChangeForCurrentChange(n,o&&"Offline"!==s.onlineState,l),B=f.applyChanges(D,s.isPrimaryClient,M);bm(s,n,B.Va);const J=new Bu(e,n,f);return s.wa.set(e,J),s.Sa.has(n)?s.Sa.get(n).push(e):s.Sa.set(n,[e]),B.snapshot}),ph.apply(this,arguments)}function pm(s,e,n){return Xf.apply(this,arguments)}function Xf(){return Xf=(0,Ee.A)(function*(s,e,n){const o=Nt(s),l=o.wa.get(e),u=o.Sa.get(l.targetId);if(u.length>1)return o.Sa.set(l.targetId,u.filter(f=>!Dt(f,e))),void o.wa.delete(e);o.isPrimaryClient?(o.sharedClientState.removeLocalQueryTarget(l.targetId),o.sharedClientState.isActiveQueryTarget(l.targetId)||(yield ja(o.localStore,l.targetId,!1).then(()=>{o.sharedClientState.clearQueryState(l.targetId),n&&rh(o.remoteStore,l.targetId),_c(o,l.targetId)}).catch(ul))):(_c(o,l.targetId),yield ja(o.localStore,l.targetId,!0))}),Xf.apply(this,arguments)}function gm(s,e){return mm.apply(this,arguments)}function mm(){return mm=(0,Ee.A)(function*(s,e){const n=Nt(s),o=n.wa.get(e),l=n.Sa.get(o.targetId);n.isPrimaryClient&&1===l.length&&(n.sharedClientState.removeLocalQueryTarget(o.targetId),rh(n.remoteStore,o.targetId))}),mm.apply(this,arguments)}function _m(){return _m=(0,Ee.A)(function*(s,e,n){const o=yh(s);try{const l=yield function(f,D){const M=Nt(f),B=Hr.now(),J=D.reduce((et,jt)=>et.add(jt.key),pr());let fe,Ne;return M.persistence.runTransaction("Locally write mutations","readwrite",et=>{let jt=Ss(),Lt=pr();return M.os.getEntries(et,J).next(qt=>{jt=qt,jt.forEach((Un,qn)=>{qn.isValidDocument()||(Lt=Lt.add(Un))})}).next(()=>M.localDocuments.getOverlayedDocuments(et,jt)).next(qt=>{fe=qt;const Un=[];for(const qn of D){const Ln=H_(qn,fe.get(qn.key).overlayedDocument);null!=Ln&&Un.push(new Ll(qn.key,Ln,nc(Ln.value.mapValue),$r.exists(!0)))}return M.mutationQueue.addMutationBatch(et,B,Un,D)}).next(qt=>{Ne=qt;const Un=qt.applyToLocalDocumentSet(fe,Lt);return M.documentOverlayCache.saveOverlays(et,qt.batchId,Un)})}).then(()=>({batchId:Ne.batchId,changes:Eu(fe)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(l.batchId),function(f,D,M){let B=f.Fa[f.currentUser.toKey()];B||(B=new yi(yn)),B=B.insert(D,M),f.Fa[f.currentUser.toKey()]=B}(o,l.batchId,n),yield vl(o,l.changes),yield Vu(o.remoteStore)}catch(l){const u=Zc(l,"Failed to persist write");n.reject(u)}}),_m.apply(this,arguments)}function ym(s,e){return vm.apply(this,arguments)}function vm(){return vm=(0,Ee.A)(function*(s,e){const n=Nt(s);try{const o=yield function Rf(s,e){const n=Nt(s),o=e.snapshotVersion;let l=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.os.newChangeBuffer({trackRemovals:!0});l=n.ns;const D=[];e.targetChanges.forEach((J,fe)=>{const Ne=l.get(fe);if(!Ne)return;D.push(n.Qr.removeMatchingKeys(u,J.removedDocuments,fe).next(()=>n.Qr.addMatchingKeys(u,J.addedDocuments,fe)));let et=Ne.withSequenceNumber(u.currentSequenceNumber);var Lt,qt,Un;null!==e.targetMismatches.get(fe)?et=et.withResumeToken(ht.EMPTY_BYTE_STRING,cn.min()).withLastLimboFreeSnapshotVersion(cn.min()):J.resumeToken.approximateByteSize()>0&&(et=et.withResumeToken(J.resumeToken,o)),l=l.insert(fe,et),qt=et,Un=J,(0===(Lt=Ne).resumeToken.approximateByteSize()||qt.snapshotVersion.toMicroseconds()-Lt.snapshotVersion.toMicroseconds()>=3e8||Un.addedDocuments.size+Un.modifiedDocuments.size+Un.removedDocuments.size>0)&&D.push(n.Qr.updateTargetData(u,et))});let M=Ss(),B=pr();if(e.documentUpdates.forEach(J=>{e.resolvedLimboDocuments.has(J)&&D.push(n.persistence.referenceDelegate.updateLimboDocument(u,J))}),D.push($g(u,f,e.documentUpdates).next(J=>{M=J.cs,B=J.ls})),!o.isEqual(cn.min())){const J=n.Qr.getLastRemoteSnapshotVersion(u).next(fe=>n.Qr.setTargetsMetadata(u,u.currentSequenceNumber,o));D.push(J)}return y.waitFor(D).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,M,B)).next(()=>M)}).then(u=>(n.ns=l,u))}(n.localStore,e);e.targetChanges.forEach((l,u)=>{const f=n.Ca.get(u);f&&(Vt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?f.pa=!0:l.modifiedDocuments.size>0?Vt(f.pa):l.removedDocuments.size>0&&(Vt(f.pa),f.pa=!1))}),yield vl(n,o,e)}catch(o){yield ul(o)}}),vm.apply(this,arguments)}function Gy(s,e,n){const o=Nt(s);if(o.isPrimaryClient&&0===n||!o.isPrimaryClient&&1===n){const l=[];o.wa.forEach((u,f)=>{const D=f.view.G_(e);D.snapshot&&l.push(D.snapshot)}),function(f,D){const M=Nt(f);M.onlineState=D;let B=!1;M.queries.forEach((J,fe)=>{for(const Ne of fe.Q_)Ne.G_(D)&&(B=!0)}),B&&Uu(M)}(o.eventManager,e),l.length&&o.ya.u_(l),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function eE(s,e,n){return Im.apply(this,arguments)}function Im(){return Im=(0,Ee.A)(function*(s,e,n){const o=Nt(s);o.sharedClientState.updateQueryState(e,"rejected",n);const l=o.Ca.get(e),u=l&&l.key;if(u){let f=new yi(tn.comparator);f=f.insert(u,bi.newNoDocument(u,cn.min()));const D=pr().add(u),M=new Lc(cn.min(),new Map,new yi(yn),f,D);yield ym(o,M),o.Da=o.Da.remove(u),o.Ca.delete(e),Am(o)}else yield ja(o.localStore,e,!1).then(()=>_c(o,e,n)).catch(ul)}),Im.apply(this,arguments)}function Wy(s,e){return Yf.apply(this,arguments)}function Yf(){return Yf=(0,Ee.A)(function*(s,e){const n=Nt(s),o=e.batch.batchId;try{const l=yield function UI(s,e){const n=Nt(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const l=e.batch.keys(),u=n.os.newChangeBuffer({trackRemovals:!0});return function(D,M,B,J){const fe=B.batch,Ne=fe.keys();let et=y.resolve();return Ne.forEach(jt=>{et=et.next(()=>J.getEntry(M,jt)).next(Lt=>{const qt=B.docVersions.get(jt);Vt(null!==qt),Lt.version.compareTo(qt)<0&&(fe.applyToRemoteDocument(Lt,B),Lt.isValidDocument()&&(Lt.setReadTime(B.commitVersion),J.addEntry(Lt)))})}),et.next(()=>D.mutationQueue.removeMutationBatch(M,fe))}(n,o,e,u).next(()=>u.apply(o)).next(()=>n.mutationQueue.performConsistencyCheck(o)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(o,l,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(D){let M=pr();for(let B=0;B<D.mutationResults.length;++B)D.mutationResults[B].transformResults.length>0&&(M=M.add(D.batch.mutations[B].key));return M}(e))).next(()=>n.localDocuments.getDocuments(o,l))})}(n.localStore,e);zy(n,o,null),Tm(n,o),n.sharedClientState.updateMutationState(o,"acknowledged"),yield vl(n,l)}catch(l){yield ul(l)}}),Yf.apply(this,arguments)}function tE(s,e,n){return Em.apply(this,arguments)}function Em(){return Em=(0,Ee.A)(function*(s,e,n){const o=Nt(s);try{const l=yield function(f,D){const M=Nt(f);return M.persistence.runTransaction("Reject batch","readwrite-primary",B=>{let J;return M.mutationQueue.lookupMutationBatch(B,D).next(fe=>(Vt(null!==fe),J=fe.keys(),M.mutationQueue.removeMutationBatch(B,fe))).next(()=>M.mutationQueue.performConsistencyCheck(B)).next(()=>M.documentOverlayCache.removeOverlaysForBatchId(B,J,D)).next(()=>M.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(B,J)).next(()=>M.localDocuments.getDocuments(B,J))})}(o.localStore,e);zy(o,e,n),Tm(o,e),o.sharedClientState.updateMutationState(e,"rejected",n),yield vl(o,l)}catch(l){yield ul(l)}}),Em.apply(this,arguments)}function wm(){return wm=(0,Ee.A)(function*(s,e){const n=Nt(s);Bl(n.remoteStore)||mt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(f){const D=Nt(f);return D.persistence.runTransaction("Get highest unacknowledged batch id","readonly",M=>D.mutationQueue.getHighestUnacknowledgedBatchId(M))}(n.localStore);if(-1===o)return void e.resolve();const l=n.Ma.get(o)||[];l.push(e),n.Ma.set(o,l)}catch(o){const l=Zc(o,"Initialization of waitForPendingWrites() operation failed");e.reject(l)}}),wm.apply(this,arguments)}function Tm(s,e){(s.Ma.get(e)||[]).forEach(n=>{n.resolve()}),s.Ma.delete(e)}function zy(s,e,n){const o=Nt(s);let l=o.Fa[o.currentUser.toKey()];if(l){const u=l.get(e);u&&(n?u.reject(n):u.resolve(),l=l.remove(e)),o.Fa[o.currentUser.toKey()]=l}}function _c(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const o of s.Sa.get(e))s.wa.delete(o),n&&s.ya.La(o,n);s.Sa.delete(e),s.isPrimaryClient&&s.va.Vr(e).forEach(o=>{s.va.containsKey(o)||Cm(s,o)})}function Cm(s,e){s.ba.delete(e.path.canonicalString());const n=s.Da.get(e);null!==n&&(rh(s.remoteStore,n),s.Da=s.Da.remove(e),s.Ca.delete(n),Am(s))}function bm(s,e,n){for(const o of n)o instanceof gr?(s.va.addReference(o.key,e),nE(s,o)):o instanceof hm?(mt("SyncEngine","Document no longer in limbo: "+o.key),s.va.removeReference(o.key,e),s.va.containsKey(o.key)||Cm(s,o.key)):en()}function nE(s,e){const n=e.key,o=n.path.canonicalString();s.Da.get(n)||s.ba.has(o)||(mt("SyncEngine","New document in limbo: "+n),s.ba.add(o),Am(s))}function Am(s){for(;s.ba.size>0&&s.Da.size<s.maxConcurrentLimboResolutions;){const e=s.ba.values().next().value;s.ba.delete(e);const n=new tn(Kn.fromString(e)),o=s.xa.next();s.Ca.set(o,new Hy(n)),s.Da=s.Da.insert(n,o),nh(s.remoteStore,new Vo(H(w(n.path)),o,"TargetPurposeLimboResolution",Vr._e))}}function vl(s,e,n){return Dm.apply(this,arguments)}function Dm(){return Dm=(0,Ee.A)(function*(s,e,n){const o=Nt(s),l=[],u=[],f=[];var D;o.wa.isEmpty()||(o.wa.forEach((D,M)=>{f.push(o.Na(M,e,n).then(B=>{if((B||n)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(M.targetId,B?.fromCache?"not-current":"current"),B){l.push(B);const J=Vg.Ki(M.targetId,B);u.push(J)}}))}),yield Promise.all(f),o.ya.u_(l),yield(D=(0,Ee.A)(function*(B,J){const fe=Nt(B);try{yield fe.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ne=>y.forEach(J,et=>y.forEach(et.qi,jt=>fe.persistence.referenceDelegate.addReference(Ne,et.targetId,jt)).next(()=>y.forEach(et.Qi,jt=>fe.persistence.referenceDelegate.removeReference(Ne,et.targetId,jt)))))}catch(Ne){if(!ee(Ne))throw Ne;mt("LocalStore","Failed to update sequence numbers: "+Ne)}for(const Ne of J){const et=Ne.targetId;if(!Ne.fromCache){const jt=fe.ns.get(et),qt=jt.withLastLimboFreeSnapshotVersion(jt.snapshotVersion);fe.ns=fe.ns.insert(et,qt)}}}),function M(B,J){return D.apply(this,arguments)})(o.localStore,u))}),Dm.apply(this,arguments)}function rE(s,e){return gh.apply(this,arguments)}function gh(){return gh=(0,Ee.A)(function*(s,e){const n=Nt(s);if(!n.currentUser.isEqual(e)){mt("SyncEngine","User change. New user:",e.toKey());const o=yield Bg(n.localStore,e);n.currentUser=e,(u=n).Ma.forEach(D=>{D.forEach(M=>{M.reject(new Tt(it.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.Ma.clear(),n.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield vl(n,o.us)}var u}),gh.apply(this,arguments)}function iE(s,e){const n=Nt(s),o=n.Ca.get(e);if(o&&o.pa)return pr().add(o.key);{let l=pr();const u=n.Sa.get(e);if(!u)return l;for(const f of u){const D=n.wa.get(f);l=l.unionWith(D.view.Ia)}return l}}function sE(s,e){return Sm.apply(this,arguments)}function Sm(){return Sm=(0,Ee.A)(function*(s,e){const n=Nt(s),o=yield Pf(n.localStore,e.query,!0),l=e.view.fa(o);return n.isPrimaryClient&&bm(n,e.targetId,l.Va),l}),Sm.apply(this,arguments)}function oE(s,e){return Rm.apply(this,arguments)}function Rm(){return Rm=(0,Ee.A)(function*(s,e){const n=Nt(s);return zg(n.localStore,e).then(o=>vl(n,o))}),Rm.apply(this,arguments)}function Il(s,e,n,o){return mh.apply(this,arguments)}function mh(){return mh=(0,Ee.A)(function*(s,e,n,o){const l=Nt(s),u=yield function(D,M){const B=Nt(D),J=Nt(B.mutationQueue);return B.persistence.runTransaction("Lookup mutation documents","readonly",fe=>J.vn(fe,M).next(Ne=>Ne?B.localDocuments.getDocuments(fe,Ne):y.resolve(null)))}(l.localStore,e);var M;null!==u?("pending"===n?yield Vu(l.remoteStore):"acknowledged"===n||"rejected"===n?(zy(l,e,o||null),Tm(l,e),M=e,Nt(Nt(l.localStore).mutationQueue).Mn(M)):en(),yield vl(l,u)):mt("SyncEngine","Cannot apply mutation batch with id: "+e)}),mh.apply(this,arguments)}function Pm(){return Pm=(0,Ee.A)(function*(s,e){const n=Nt(s);if(nu(n),yh(n),!0===e&&!0!==n.Oa){const o=n.sharedClientState.getAllActiveQueryTargets(),l=yield Mm(n,o.toArray());n.Oa=!0,yield zf(n.remoteStore,!0);for(const u of l)nh(n.remoteStore,u)}else if(!1===e&&!1!==n.Oa){const o=[];let l=Promise.resolve();n.Sa.forEach((u,f)=>{n.sharedClientState.isLocalQueryTarget(f)?o.push(f):l=l.then(()=>(_c(n,f),ja(n.localStore,f,!0))),rh(n.remoteStore,f)}),yield l,yield Mm(n,o),function(f){const D=Nt(f);D.Ca.forEach((M,B)=>{rh(D.remoteStore,B)}),D.va.mr(),D.Ca=new Map,D.Da=new yi(tn.comparator)}(n),n.Oa=!1,yield zf(n.remoteStore,!1)}}),Pm.apply(this,arguments)}function Mm(s,e,n){return Zf.apply(this,arguments)}function Zf(){return Zf=(0,Ee.A)(function*(s,e,n){const o=Nt(s),l=[],u=[];for(const f of e){let D;const M=o.Sa.get(f);if(M&&0!==M.length){D=yield ku(o.localStore,H(M[0]));for(const B of M){const J=o.wa.get(B),fe=yield sE(o,J);fe.snapshot&&u.push(fe.snapshot)}}else{const B=yield Mf(o.localStore,f);D=yield ku(o.localStore,B),yield fh(o,_h(B),f,!1,D.resumeToken)}l.push(D)}return o.ya.u_(u),l}),Zf.apply(this,arguments)}function _h(s){return Mc(s.path,s.collectionGroup,s.orderBy,s.filters,s.limit,"F",s.startAt,s.endAt)}function xm(s){return n=Nt(s).localStore,Nt(Nt(n).persistence).Bi();var n}function sw(s,e,n,o){return Jf.apply(this,arguments)}function Jf(){return Jf=(0,Ee.A)(function*(s,e,n,o){const l=Nt(s);if(l.Oa)return void mt("SyncEngine","Ignoring unexpected query state notification.");const u=l.Sa.get(e);if(u&&u.length>0)switch(n){case"current":case"not-current":{const f=yield zg(l.localStore,qs(u[0])),D=Lc.createSynthesizedRemoteEventForCurrentChange(e,"current"===n,ht.EMPTY_BYTE_STRING);yield vl(l,f,D);break}case"rejected":yield ja(l.localStore,e,!0),_c(l,e,o);break;default:en()}}),Jf.apply(this,arguments)}function Ky(s,e,n){return ep.apply(this,arguments)}function ep(){return ep=(0,Ee.A)(function*(s,e,n){const o=nu(s);if(o.Oa){for(const l of e){if(o.Sa.has(l)&&o.sharedClientState.isActiveQueryTarget(l)){mt("SyncEngine","Adding an already active target "+l);continue}const u=yield Mf(o.localStore,l),f=yield ku(o.localStore,u);yield fh(o,_h(u),f.targetId,!1,f.resumeToken),nh(o.remoteStore,f)}for(const l of n)o.Sa.has(l)&&(yield ja(o.localStore,l,!1).then(()=>{rh(o.remoteStore,l),_c(o,l)}).catch(ul))}}),ep.apply(this,arguments)}function nu(s){const e=Nt(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=ym.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=iE.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=eE.bind(null,e),e.ya.u_=Uy.bind(null,e.eventManager),e.ya.La=am.bind(null,e.eventManager),e}function yh(s){const e=Nt(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Wy.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tE.bind(null,e),e}class Gu{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,Ee.A)(function*(){n.serializer=Ff(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return Ug(this.persistence,new by,e.initialUser,this.serializer)}createPersistence(e){return new Af(kg.Hr,this.serializer)}createSharedClientState(e){return new Dy}terminate(){var e=this;return(0,Ee.A)(function*(){var n,o;null===(n=e.gcScheduler)||void 0===n||n.stop(),null===(o=e.indexBackfillerScheduler)||void 0===o||o.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class vh extends Gu{constructor(e,n,o){super(),this.ka=e,this.cacheSizeBytes=n,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var n=()=>super.initialize,o=this;return(0,Ee.A)(function*(){yield n().call(o,e),yield o.ka.initialize(o,e),yield yh(o.ka.syncEngine),yield Vu(o.ka.remoteStore),yield o.persistence.fi(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(),o.indexBackfillerScheduler&&!o.indexBackfillerScheduler.started&&o.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return Ug(this.persistence,new by,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){return new xg(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const o=new vr(n,this.persistence);return new dr(e.asyncQueue,o)}createPersistence(e){const n=Fg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?Fs.withCacheSize(this.cacheSizeBytes):Fs.DEFAULT;return new Cy(this.synchronizeTabs,n,e.clientId,o,e.asyncQueue,WI(),Xg(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Dy}}class qy extends vh{constructor(e,n){super(e,n,!1),this.ka=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){var n=()=>super.initialize,o=this;return(0,Ee.A)(function*(){yield n().call(o,e);const l=o.ka.syncEngine;o.sharedClientState instanceof Qg&&(o.sharedClientState.syncEngine={Zs:Il.bind(null,l),Xs:sw.bind(null,l),eo:Ky.bind(null,l),Bi:xm.bind(null,l),Ys:oE.bind(null,l)},yield o.sharedClientState.start()),yield o.persistence.fi(function(){var u=(0,Ee.A)(function*(f){yield function aE(s,e){return Pm.apply(this,arguments)}(o.ka.syncEngine,f),o.gcScheduler&&(f&&!o.gcScheduler.started?o.gcScheduler.start():f||o.gcScheduler.stop()),o.indexBackfillerScheduler&&(f&&!o.indexBackfillerScheduler.started?o.indexBackfillerScheduler.start():f||o.indexBackfillerScheduler.stop())});return function(f){return u.apply(this,arguments)}}())})()}createSharedClientState(e){const n=WI();if(!Qg.D(n))throw new Tt(it.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=Fg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Qg(n,e.asyncQueue,o,e.clientId,e.initialUser)}}class El{initialize(e,n){var o=this;return(0,Ee.A)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(n),o.remoteStore=o.createRemoteStore(n),o.eventManager=o.createEventManager(n),o.syncEngine=o.createSyncEngine(n,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=l=>Gy(o.syncEngine,l,1),o.remoteStore.remoteSyncer.handleCredentialChange=rE.bind(null,o.syncEngine),yield zf(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Kf}createDatastore(e){const n=Ff(e.databaseInfo.databaseId),o=new iw(e.databaseInfo);return new Yg(e.authCredentials,e.appCheckCredentials,o,n)}createRemoteStore(e){return o=this.localStore,l=this.datastore,u=e.asyncQueue,f=n=>Gy(this.syncEngine,n,0),D=Sy.D()?new Sy:new GI,new xy(o,l,u,f,D);var o,l,u,f,D}createSyncEngine(e,n){return function(l,u,f,D,M,B,J){const fe=new $y(l,u,f,D,M,B);return J&&(fe.Oa=!0),fe}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){var e=this;return(0,Ee.A)(function*(){var n,o;yield(o=(0,Ee.A)(function*(u){const f=Nt(u);mt("RemoteStore","RemoteStore shutting down."),f.v_.add(5),yield Ys(f),f.M_.shutdown(),f.x_.set("Unknown")}),function l(u){return o.apply(this,arguments)})(e.remoteStore),null===(n=e.datastore)||void 0===n||n.terminate()})()}}function Om(s,e=10240){let n=0;return{read:()=>(0,Ee.A)(function*(){if(n<s.byteLength){const o={value:s.slice(n,n+e),done:!1};return n+=e,o}return{done:!0}})(),cancel:()=>(0,Ee.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Hl{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.qa(this.observer.next,e)}error(e){this.observer.error?this.qa(this.observer.error,e):Kt("Uncaught Error in snapshot listener:",e.toString())}Qa(){this.muted=!0}qa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Ih{constructor(e,n){this.Ka=e,this.serializer=n,this.metadata=new Fi,this.buffer=new Uint8Array,this.$a=new TextDecoder("utf-8"),this.Ua().then(o=>{o&&o.ra()?this.metadata.resolve(o.na.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(o?.na)}`))},o=>this.metadata.reject(o))}close(){return this.Ka.cancel()}getMetadata(){var e=this;return(0,Ee.A)(function*(){return e.metadata.promise})()}Ba(){var e=this;return(0,Ee.A)(function*(){return yield e.getMetadata(),e.Ua()})()}Ua(){var e=this;return(0,Ee.A)(function*(){const n=yield e.Wa();if(null===n)return null;const o=e.$a.decode(n),l=Number(o);isNaN(l)&&e.Ga(`length string (${o}) is not valid number`);const u=yield e.za(l);return new YI(JSON.parse(u),n.length+l)})()}ja(){return this.buffer.findIndex(e=>123===e)}Wa(){var e=this;return(0,Ee.A)(function*(){for(;e.ja()<0&&!(yield e.Ha()););if(0===e.buffer.length)return null;const n=e.ja();n<0&&e.Ga("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,n);return e.buffer=e.buffer.slice(n),o})()}za(e){var n=this;return(0,Ee.A)(function*(){for(;n.buffer.length<e;)(yield n.Ha())&&n.Ga("Reached the end of bundle when more is expected.");const o=n.$a.decode(n.buffer.slice(0,e));return n.buffer=n.buffer.slice(e),o})()}Ga(e){throw this.Ka.cancel(),new Error(`Invalid bundle format: ${e}`)}Ha(){var e=this;return(0,Ee.A)(function*(){const n=yield e.Ka.read();if(!n.done){const o=new Uint8Array(e.buffer.length+n.value.length);o.set(e.buffer),o.set(n.value,e.buffer.length),e.buffer=o}return n.done})()}}class Nm{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var n=this;return(0,Ee.A)(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw n.lastTransactionError=new Tt(it.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),n.lastTransactionError;const o=yield(l=(0,Ee.A)(function*(f,D){const M=Nt(f),B={documents:D.map(et=>Ud(M.serializer,et))},J=yield M.vo("BatchGetDocuments",M.serializer.databaseId,Kn.emptyPath(),B,D.length),fe=new Map;J.forEach(et=>{const jt=function ey(s,e){return"found"in e?function(o,l){Vt(!!l.found);const u=gl(o,l.found.name),f=gs(l.found.updateTime),D=l.found.createTime?gs(l.found.createTime):cn.min(),M=new Ds({mapValue:{fields:l.found.fields}});return bi.newFoundDocument(u,f,D,M)}(s,e):"missing"in e?function(o,l){Vt(!!l.missing),Vt(!!l.readTime);const u=gl(o,l.missing),f=gs(l.readTime);return bi.newNoDocument(u,f)}(s,e):en()}(M.serializer,et);fe.set(jt.key.toString(),jt)});const Ne=[];return D.forEach(et=>{const jt=fe.get(et.toString());Vt(!!jt),Ne.push(jt)}),Ne}),function u(f,D){return l.apply(this,arguments)})(n.datastore,e);var l;return o.forEach(l=>n.recordVersion(l)),o})()}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastTransactionError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new kd(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ee.A)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const n=e.readVersions;var o;e.mutations.forEach(o=>{n.delete(o.key.toString())}),n.forEach((o,l)=>{const u=tn.fromPath(l);e.mutations.push(new $_(u,e.precondition(u)))}),yield(o=(0,Ee.A)(function*(u,f){const D=Nt(u),M={writes:f.map(B=>Du(D.serializer,B))};yield D.So("Commit",D.serializer.databaseId,Kn.emptyPath(),M)}),function l(u,f){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw en();n=cn.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!n.isEqual(o))throw new Tt(it.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(cn.min())?$r.exists(!1):$r.updateTime(n):$r.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(cn.min()))throw new Tt(it.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return $r.updateTime(n)}return $r.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Eh{constructor(e,n,o,l,u){this.asyncQueue=e,this.datastore=n,this.options=o,this.updateFunction=l,this.deferred=u,this.Ja=o.maxAttempts,this.jo=new Ry(this.asyncQueue,"transaction_retry")}Ya(){this.Ja-=1,this.Za()}Za(){var e=this;this.jo.qo((0,Ee.A)(function*(){const n=new Nm(e.datastore),o=e.Xa(n);o&&o.then(l=>{e.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{e.deferred.resolve(l)}).catch(u=>{e.eu(u)}))}).catch(l=>{e.eu(l)})}))}Xa(e){try{const n=this.updateFunction(e);return!xo(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}eu(e){this.Ja>0&&this.tu(e)?(this.Ja-=1,this.asyncQueue.enqueueAndForget(()=>(this.Za(),Promise.resolve()))):this.deferred.reject(e)}tu(e){if("FirebaseError"===e.name){const n=e.code;return"aborted"===n||"failed-precondition"===n||"already-exists"===n||!tl(n)}return!1}}class Qy{constructor(e,n,o,l){var u=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=o,this.databaseInfo=l,this.user=sn.UNAUTHENTICATED,this.clientId=ss.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var f=(0,Ee.A)(function*(D){mt("FirestoreClient","Received user=",D.uid),yield u.authCredentialListener(D),u.user=D});return function(D){return f.apply(this,arguments)}}()),this.appCheckCredentials.start(o,f=>(mt("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Tt(it.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Fi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ee.A)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(o){const l=Zc(o,"Failed to shutdown persistence");n.reject(l)}})),n.promise}}function wh(s,e){return km.apply(this,arguments)}function km(){return km=(0,Ee.A)(function*(s,e){s.asyncQueue.verifyOperationInProgress(),mt("FirestoreClient","Initializing OfflineComponentProvider");const n=s.configuration;yield e.initialize(n);let o=n.initialUser;s.setCredentialChangeListener(function(){var l=(0,Ee.A)(function*(u){o.isEqual(u)||(yield Bg(e.localStore,u),o=u)});return function(u){return l.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}),km.apply(this,arguments)}function Lm(s,e){return Fm.apply(this,arguments)}function Fm(){return Fm=(0,Ee.A)(function*(s,e){s.asyncQueue.verifyOperationInProgress();const n=yield tp(s);mt("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,s.configuration),s.setCredentialChangeListener(o=>gc(e.remoteStore,o)),s.setAppCheckTokenChangeListener((o,l)=>gc(e.remoteStore,l)),s._onlineComponents=e}),Fm.apply(this,arguments)}function Xy(s){return"FirebaseError"===s.name?s.code===it.FAILED_PRECONDITION||s.code===it.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||22===s.code||20===s.code||11===s.code}function tp(s){return Wu.apply(this,arguments)}function Wu(){return Wu=(0,Ee.A)(function*(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){mt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield wh(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!Xy(n))throw n;Ar("Error using user provided cache. Falling back to memory cache: "+n),yield wh(s,new Gu)}}else mt("FirestoreClient","Using default OfflineComponentProvider"),yield wh(s,new Gu);return s._offlineComponents}),Wu.apply(this,arguments)}function np(s){return Yy.apply(this,arguments)}function Yy(){return Yy=(0,Ee.A)(function*(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(mt("FirestoreClient","Using user provided OnlineComponentProvider"),yield Lm(s,s._uninitializedComponentsProvider._online)):(mt("FirestoreClient","Using default OnlineComponentProvider"),yield Lm(s,new El))),s._onlineComponents}),Yy.apply(this,arguments)}function Zy(s){return tp(s).then(e=>e.persistence)}function zu(s){return tp(s).then(e=>e.localStore)}function Vm(s){return np(s).then(e=>e.remoteStore)}function Um(s){return np(s).then(e=>e.syncEngine)}function ru(s){return Th.apply(this,arguments)}function Th(){return Th=(0,Ee.A)(function*(s){const e=yield np(s),n=e.eventManager;return n.onListen=ZI.bind(null,e.syncEngine),n.onUnlisten=pm.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Hu.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=gm.bind(null,e.syncEngine),n}),Th.apply(this,arguments)}function Ku(s,e,n={}){const o=new Fi;return s.asyncQueue.enqueueAndForget((0,Ee.A)(function*(){return function(u,f,D,M,B){const J=new Hl({next:Ne=>{f.enqueueAndForget(()=>dh(u,fe));const et=Ne.docs.has(D);!et&&Ne.fromCache?B.reject(new Tt(it.UNAVAILABLE,"Failed to get document because the client is offline.")):et&&Ne.fromCache&&M&&"server"===M.source?B.reject(new Tt(it.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):B.resolve(Ne)},error:Ne=>B.reject(Ne)}),fe=new um(w(D.path),J,{includeMetadataChanges:!0,ta:!0});return eu(u,fe)}(yield ru(s),s.asyncQueue,e,n,o)})),o.promise}function tv(s,e,n={}){const o=new Fi;return s.asyncQueue.enqueueAndForget((0,Ee.A)(function*(){return function(u,f,D,M,B){const J=new Hl({next:Ne=>{f.enqueueAndForget(()=>dh(u,fe)),Ne.fromCache&&"server"===M.source?B.reject(new Tt(it.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):B.resolve(Ne)},error:Ne=>B.reject(Ne)}),fe=new um(D,J,{includeMetadataChanges:!0,ta:!0});return eu(u,fe)}(yield ru(s),s.asyncQueue,e,n,o)})),o.promise}function nv(s){const e={};return void 0!==s.timeoutSeconds&&(e.timeoutSeconds=s.timeoutSeconds),e}const rv=new Map;function iv(s,e,n){if(!n)throw new Tt(it.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function sv(s,e,n,o){if(!0===e&&!0===o)throw new Tt(it.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function hE(s){if(!tn.isDocumentKey(s))throw new Tt(it.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function ov(s){if(tn.isDocumentKey(s))throw new Tt(it.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function ip(s){if(void 0===s)return"undefined";if(null===s)return"null";if("string"==typeof s)return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if("number"==typeof s||"boolean"==typeof s)return""+s;if("object"==typeof s){if(s instanceof Array)return"an array";{const e=(o=s).constructor?o.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var o;return"function"==typeof s?"a function":en()}function Ur(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new Tt(it.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ip(s);throw new Tt(it.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}function sp(s,e){if(e<=0)throw new Tt(it.INVALID_ARGUMENT,`Function ${s}() requires a positive number, but it was: ${e}.`)}class qu{constructor(e){var n,o;if(void 0===e.host){if(void 0!==e.ssl)throw new Tt(it.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Tt(it.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}sv("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=nv(null!==(o=e.experimentalLongPollingOptions)&&void 0!==o?o:{}),function(u){if(void 0!==u.timeoutSeconds){if(isNaN(u.timeoutSeconds))throw new Tt(it.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new Tt(it.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new Tt(it.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class iu{constructor(e,n,o,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=o,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qu({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Tt(it.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Tt(it.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qu(e),void 0!==e.credentials&&(this._authCredentials=function(o){if(!o)return new As;switch(o.type){case"firstParty":return new Rn(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new Tt(it.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const o=rv.get(n);o&&(mt("ComponentProvider","Removing Datastore"),rv.delete(n),o.terminate())}(this),Promise.resolve()}}class Zs{constructor(e,n,o){this.converter=n,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new Zs(this.firestore,e,this._query)}}class Ii{constructor(e,n,o){this.converter=n,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new sl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ii(this.firestore,e,this._key)}}class sl extends Zs{constructor(e,n,o){super(e,n,w(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ii(this.firestore,null,new tn(e))}withConverter(e){return new sl(this.firestore,e,this._path)}}function av(s,e,...n){if(s=(0,_e.Ku)(s),iv("collection","path",e),s instanceof iu){const o=Kn.fromString(e,...n);return ov(o),new sl(s,null,o)}{if(!(s instanceof Ii||s instanceof sl))throw new Tt(it.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=s._path.child(Kn.fromString(e,...n));return ov(o),new sl(s.firestore,null,o)}}function Sh(s,e,...n){if(s=(0,_e.Ku)(s),1===arguments.length&&(e=ss.newId()),iv("doc","path",e),s instanceof iu){const o=Kn.fromString(e,...n);return hE(o),new Ii(s,null,new tn(o))}{if(!(s instanceof Ii||s instanceof sl))throw new Tt(it.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=s._path.child(Kn.fromString(e,...n));return hE(o),new Ii(s.firestore,s instanceof sl?s.converter:null,new tn(o))}}function lv(s,e){return s=(0,_e.Ku)(s),e=(0,_e.Ku)(e),(s instanceof Ii||s instanceof sl)&&(e instanceof Ii||e instanceof sl)&&s.firestore===e.firestore&&s.path===e.path&&s.converter===e.converter}function op(s,e){return s=(0,_e.Ku)(s),e=(0,_e.Ku)(e),s instanceof Zs&&e instanceof Zs&&s.firestore===e.firestore&&Dt(s._query,e._query)&&s.converter===e.converter}class fE{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new Ry(this,"async_queue_retry"),this.cu=()=>{const n=Xg();n&&mt("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=Xg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;const n=Xg();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise(()=>{});const n=new Fi;return this.hu(()=>this.iu&&this.au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ru.push(e),this.Pu()))}Pu(){var e=this;return(0,Ee.A)(function*(){if(0!==e.ru.length){try{yield e.ru[0](),e.ru.shift(),e.jo.reset()}catch(n){if(!ee(n))throw n;mt("AsyncQueue","Operation failed with retryable error: "+n)}e.ru.length>0&&e.jo.qo(()=>e.Pu())}})()}hu(e){const n=this.nu.then(()=>(this._u=!0,e().catch(o=>{throw this.ou=o,this._u=!1,Kt("INTERNAL UNHANDLED ERROR: ",function(f){let D=f.message||"";return f.stack&&(D=f.stack.includes(f.message)?f.stack:f.message+"\n"+f.stack),D}(o)),o}).then(o=>(this._u=!1,o))));return this.nu=n,n}enqueueAfterDelay(e,n,o){this.lu(),this.uu.indexOf(e)>-1&&(n=0);const l=sm.createAndSchedule(this,e,n,o,u=>this.Iu(u));return this.su.push(l),l}lu(){this.ou&&en()}verifyOperationInProgress(){}Tu(){var e=this;return(0,Ee.A)(function*(){let n;do{n=e.nu,yield n}while(n!==e.nu)})()}Eu(e){for(const n of this.su)if(n.timerId===e)return!0;return!1}du(e){return this.Tu().then(()=>{this.su.sort((n,o)=>n.targetTimeMs-o.targetTimeMs);for(const n of this.su)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.Tu()})}Au(e){this.uu.push(e)}Iu(e){const n=this.su.indexOf(e);this.su.splice(n,1)}}function Qu(s){return function(n,o){if("object"!=typeof n||null===n)return!1;const l=n;for(const u of["next","error","complete"])if(u in l&&"function"==typeof l[u])return!0;return!1}(s)}class pE{constructor(){this._progressObserver={},this._taskCompletionResolver=new Fi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,o){this._progressObserver={next:e,error:n,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Pi extends iu{constructor(e,n,o,l){super(e,n,o,l),this.type="firestore",this._queue=new fE,this._persistenceKey=l?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Xu(this),this._firestoreClient.terminate()}}function Wi(s){return s._firestoreClient||Xu(s),s._firestoreClient.verifyNotTerminated(),s._firestoreClient}function Xu(s){var e,n,o;const l=s._freezeSettings(),u=(M=(null===(e=s._app)||void 0===e?void 0:e.options.appId)||"",new Dc(s._databaseId,M,s._persistenceKey,(J=l).host,J.ssl,J.experimentalForceLongPolling,J.experimentalAutoDetectLongPolling,nv(J.experimentalLongPollingOptions),J.useFetchStreams));var M,J;s._firestoreClient=new Qy(s._authCredentials,s._appCheckCredentials,s._queue,u),null!==(n=l.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(o=l.localCache)&&void 0!==o&&o._onlineComponentProvider&&(s._firestoreClient._uninitializedComponentsProvider={_offlineKind:l.localCache.kind,_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider})}function Rh(s,e,n){const o=new Fi;return s.asyncQueue.enqueue((0,Ee.A)(function*(){try{yield wh(s,n),yield Lm(s,e),o.resolve()}catch(l){const u=l;if(!Xy(u))throw u;Ar("Error enabling indexeddb cache. Falling back to memory cache: "+u),o.reject(u)}})).then(()=>o.promise)}function uv(s){if(s._initialized||s._terminated)throw new Tt(it.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class wl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wl(ht.fromBase64String(e))}catch(n){throw new Tt(it.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new wl(ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class la{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new Tt(it.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class su{constructor(e){this._methodName=e}}class Ph{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Tt(it.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Tt(it.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return yn(this._lat,e._lat)||yn(this._long,e._long)}}const EE=/^__.*__$/;class dv{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return null!==this.fieldMask?new Ll(e,this.data,this.fieldMask,n,this.fieldTransforms):new Tu(e,this.data,n,this.fieldTransforms)}}class wE{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return new Ll(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function hv(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw en()}}class ou{constructor(e,n,o,l,u,f){this.settings=e,this.databaseId=n,this.serializer=o,this.ignoreUndefinedProperties=l,void 0===u&&this.Ru(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new ou(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),l=this.mu({path:o,gu:!1});return l.pu(e),l}yu(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),l=this.mu({path:o,gu:!1});return l.Ru(),l}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return Oh(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(0===e.length)throw this.Su("Document fields must not be empty");if(hv(this.Vu)&&EE.test(e))throw this.Su('Document fields cannot begin and end with "__"')}}class fv{constructor(e,n,o){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=o||Ff(e)}Cu(e,n,o,l=!1){return new ou({Vu:e,methodName:n,Du:o,path:zr.emptyPath(),gu:!1,bu:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function au(s){const e=s._freezeSettings(),n=Ff(s._databaseId);return new fv(s._databaseId,!!e.ignoreUndefinedProperties,n)}function lp(s,e,n,o,l,u={}){const f=s.Cu(u.merge||u.mergeFields?2:0,e,n,l);Gm("Data must be an object, but it was:",f,o);const D=hp(o,f);let M,B;if(u.merge)M=new Oo(f.fieldMask),B=f.fieldTransforms;else if(u.mergeFields){const J=[];for(const fe of u.mergeFields){const Ne=cu(e,fe,n);if(!f.contains(Ne))throw new Tt(it.INVALID_ARGUMENT,`Field '${Ne}' is specified in your field mask but missing from your input data.`);yv(J,Ne)||J.push(Ne)}M=new Oo(J),B=f.fieldTransforms.filter(fe=>M.covers(fe.field))}else M=null,B=f.fieldTransforms;return new dv(new Ds(D),M,B)}class Mh extends su{_toFieldTransform(e){if(2!==e.Vu)throw e.Su(1===e.Vu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Mh}}function cp(s,e,n){return new ou({Vu:3,Du:e.settings.Du,methodName:s._methodName,gu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class pv extends su{_toFieldTransform(e){return new df(e.path,new wu)}isEqual(e){return e instanceof pv}}class up extends su{constructor(e,n){super(e),this.vu=n}_toFieldTransform(e){const n=cp(this,e,!0),o=this.vu.map(u=>lu(u,n)),l=new Oc(o);return new df(e.path,l)}isEqual(e){return e instanceof up&&(0,_e.bD)(this.vu,e.vu)}}class Ha extends su{constructor(e,n){super(e),this.vu=n}_toFieldTransform(e){const n=cp(this,e,!0),o=this.vu.map(u=>lu(u,n)),l=new uc(o);return new df(e.path,l)}isEqual(e){return e instanceof Ha&&(0,_e.bD)(this.vu,e.vu)}}class dp extends su{constructor(e,n){super(e),this.Fu=n}_toFieldTransform(e){const n=new Nc(e.serializer,k_(e.serializer,this.Fu));return new df(e.path,n)}isEqual(e){return e instanceof dp&&this.Fu===e.Fu}}function $m(s,e,n,o){const l=s.Cu(1,e,n);Gm("Data must be an object, but it was:",l,o);const u=[],f=Ds.empty();Ya(o,(M,B)=>{const J=xh(e,M,n);B=(0,_e.Ku)(B);const fe=l.yu(J);if(B instanceof Mh)u.push(J);else{const Ne=lu(B,fe);null!=Ne&&(u.push(J),f.set(J,Ne))}});const D=new Oo(u);return new wE(f,D,l.fieldTransforms)}function gv(s,e,n,o,l,u){const f=s.Cu(1,e,n),D=[cu(e,o,n)],M=[l];if(u.length%2!=0)throw new Tt(it.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Ne=0;Ne<u.length;Ne+=2)D.push(cu(e,u[Ne])),M.push(u[Ne+1]);const B=[],J=Ds.empty();for(let Ne=D.length-1;Ne>=0;--Ne)if(!yv(B,D[Ne])){const et=D[Ne];let jt=M[Ne];jt=(0,_e.Ku)(jt);const Lt=f.yu(et);if(jt instanceof Mh)B.push(et);else{const qt=lu(jt,Lt);null!=qt&&(B.push(et),J.set(et,qt))}}const fe=new Oo(B);return new wE(J,fe,f.fieldTransforms)}function ls(s,e,n,o=!1){return lu(n,s.Cu(o?4:3,e))}function lu(s,e){if(mv(s=(0,_e.Ku)(s)))return Gm("Unsupported field value:",e,s),hp(s,e);if(s instanceof su)return function(o,l){if(!hv(l.Vu))throw l.Su(`${o._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Su(`${o._methodName}() is not currently supported inside arrays`);const u=o._toFieldTransform(l);u&&l.fieldTransforms.push(u)}(s,e),null;if(void 0===s&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.gu&&4!==e.Vu)throw e.Su("Nested arrays are not supported");return function(o,l){const u=[];let f=0;for(const D of o){let M=lu(D,l.wu(f));null==M&&(M={nullValue:"NULL_VALUE"}),u.push(M),f++}return{arrayValue:{values:u}}}(s,e)}return function(o,l){if(null===(o=(0,_e.Ku)(o)))return{nullValue:"NULL_VALUE"};if("number"==typeof o)return k_(l.serializer,o);if("boolean"==typeof o)return{booleanValue:o};if("string"==typeof o)return{stringValue:o};if(o instanceof Date){const u=Hr.fromDate(o);return{timestampValue:Fc(l.serializer,u)}}if(o instanceof Hr){const u=new Hr(o.seconds,1e3*Math.floor(o.nanoseconds/1e3));return{timestampValue:Fc(l.serializer,u)}}if(o instanceof Ph)return{geoPointValue:{latitude:o.latitude,longitude:o.longitude}};if(o instanceof wl)return{bytesValue:X_(l.serializer,o._byteString)};if(o instanceof Ii){const u=l.databaseId,f=o.firestore._databaseId;if(!f.isEqual(u))throw l.Su(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:gf(o.firestore._databaseId||l.databaseId,o._key.path)}}throw l.Su(`Unsupported field value: ${ip(o)}`)}(s,e)}function hp(s,e){const n={};return ef(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ya(s,(o,l)=>{const u=lu(l,e.fu(o));null!=u&&(n[o]=u)}),{mapValue:{fields:n}}}function mv(s){return!("object"!=typeof s||null===s||s instanceof Array||s instanceof Date||s instanceof Hr||s instanceof Ph||s instanceof wl||s instanceof Ii||s instanceof su)}function Gm(s,e,n){if(!mv(n)||"object"!=typeof(l=n)||null===l||Object.getPrototypeOf(l)!==Object.prototype&&null!==Object.getPrototypeOf(l)){const o=ip(n);throw e.Su("an object"===o?s+" a custom object":s+" "+o)}var l}function cu(s,e,n){if((e=(0,_e.Ku)(e))instanceof la)return e._internalPath;if("string"==typeof e)return xh(s,e);throw Oh("Field path arguments must be of type string or ",s,!1,void 0,n)}const _v=new RegExp("[~\\*/\\[\\]]");function xh(s,e,n){if(e.search(_v)>=0)throw Oh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new la(...e.split("."))._internalPath}catch{throw Oh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function Oh(s,e,n,o,l){const u=o&&!o.isEmpty(),f=void 0!==l;let D=`Function ${e}() called with invalid data`;n&&(D+=" (via `toFirestore()`)"),D+=". ";let M="";return(u||f)&&(M+=" (found",u&&(M+=` in field ${o}`),f&&(M+=` in document ${l}`),M+=")"),new Tt(it.INVALID_ARGUMENT,D+s+M)}function yv(s,e){return s.some(n=>n.isEqual(e))}class Nh{constructor(e,n,o,l,u){this._firestore=e,this._userDataWriter=n,this._key=o,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ii(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new uu(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(kh("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class uu extends Nh{data(){return super.data()}}function kh(s,e){return"string"==typeof e?xh(s,e):e instanceof la?e._internalPath:e._delegate._internalPath}function fp(s){if("L"===s.limitType&&0===s.explicitOrderBy.length)throw new Tt(it.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Wm{}class Zu extends Wm{}function $l(s,e,...n){let o=[];e instanceof Wm&&o.push(e),o=o.concat(n),function(u){const f=u.filter(M=>M instanceof yc).length,D=u.filter(M=>M instanceof Ju).length;if(f>1||f>0&&D>0)throw new Tt(it.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const l of o)s=l._apply(s);return s}class Ju extends Zu{constructor(e,n,o){super(),this._field=e,this._op=n,this._value=o,this.type="where"}static _create(e,n,o){return new Ju(e,n,o)}_apply(e){const n=this._parse(e);return ed(e._query,n),new Zs(e.firestore,e.converter,Le(e._query,n))}_parse(e){const n=au(e.firestore);return function(u,f,D,M,B,J,fe){let Ne;if(B.isKeyField()){if("array-contains"===J||"array-contains-any"===J)throw new Tt(it.INVALID_ARGUMENT,`Invalid Query. You can't perform '${J}' queries on documentId().`);if("in"===J||"not-in"===J){Xm(fe,J);const et=[];for(const jt of fe)et.push(Iv(M,u,jt));Ne={arrayValue:{values:et}}}else Ne=Iv(M,u,fe)}else"in"!==J&&"not-in"!==J&&"array-contains-any"!==J||Xm(fe,J),Ne=ls(D,"where",fe,"in"===J||"not-in"===J);return Nr.create(B,J,Ne)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}class yc extends Wm{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new yc(e,n)}_parse(e){const n=this._queryConstraints.map(o=>o._parse(e)).filter(o=>o.getFilters().length>0);return 1===n.length?n[0]:ii.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(l,u){let f=l;const D=u.getFlattenedFilters();for(const M of D)ed(f,M),f=Le(f,M)}(e._query,n),new Zs(e.firestore,e.converter,Le(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class pp extends Zu{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new pp(e,n)}_apply(e){const n=function(l,u,f){if(null!==l.startAt)throw new Tt(it.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==l.endAt)throw new Tt(it.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new rc(u,f)}(e._query,this._field,this._direction);return new Zs(e.firestore,e.converter,function(l,u){const f=l.explicitOrderBy.concat([u]);return new Va(l.path,l.collectionGroup,f,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(e._query,n))}}class gp extends Zu{constructor(e,n,o){super(),this.type=e,this._limit=n,this._limitType=o}static _create(e,n,o){return new gp(e,n,o)}_apply(e){return new Zs(e.firestore,e.converter,ct(e._query,this._limit,this._limitType))}}class Vh extends Zu{constructor(e,n,o){super(),this.type=e,this._docOrFields=n,this._inclusive=o}static _create(e,n,o){return new Vh(e,n,o)}_apply(e){const n=Qm(e,this.type,this._docOrFields,this._inclusive);return new Zs(e.firestore,e.converter,(u=n,new Va((l=e._query).path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,u,l.endAt)));var l,u}}class qm extends Zu{constructor(e,n,o){super(),this.type=e,this._docOrFields=n,this._inclusive=o}static _create(e,n,o){return new qm(e,n,o)}_apply(e){const n=Qm(e,this.type,this._docOrFields,this._inclusive);return new Zs(e.firestore,e.converter,(u=n,new Va((l=e._query).path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,u)));var l,u}}function Qm(s,e,n,o){if(n[0]=(0,_e.Ku)(n[0]),n[0]instanceof Nh)return function(u,f,D,M,B){if(!M)throw new Tt(it.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${D}().`);const J=[];for(const fe of C(u))if(fe.field.isKeyField())J.push(Sl(f,M.key));else{const Ne=M.data.field(fe.field);if(Al(Ne))throw new Tt(it.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+fe.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ne){const et=fe.field.canonicalString();throw new Tt(it.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${et}' (used as the orderBy) does not exist.`)}J.push(Ne)}return new Ui(J,B)}(s._query,s.firestore._databaseId,e,n[0]._document,o);{const l=au(s.firestore);return function(f,D,M,B,J,fe){const Ne=f.explicitOrderBy;if(J.length>Ne.length)throw new Tt(it.INVALID_ARGUMENT,`Too many arguments provided to ${B}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const et=[];for(let jt=0;jt<J.length;jt++){const Lt=J[jt];if(Ne[jt].field.isKeyField()){if("string"!=typeof Lt)throw new Tt(it.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${B}(), but got a ${typeof Lt}`);if(!g(f)&&-1!==Lt.indexOf("/"))throw new Tt(it.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${B}() must be a plain document ID, but '${Lt}' contains a slash.`);const qt=f.path.child(Kn.fromString(Lt));if(!tn.isDocumentKey(qt))throw new Tt(it.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${B}() must result in a valid document path, but '${qt}' is not because it contains an odd number of segments.`);const Un=new tn(qt);et.push(Sl(D,Un))}else{const qt=ls(M,B,Lt);et.push(qt)}}return new Ui(et,fe)}(s._query,s.firestore._databaseId,l,e,n,o)}}function Iv(s,e,n){if("string"==typeof(n=(0,_e.Ku)(n))){if(""===n)throw new Tt(it.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!g(e)&&-1!==n.indexOf("/"))throw new Tt(it.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const o=e.path.child(Kn.fromString(n));if(!tn.isDocumentKey(o))throw new Tt(it.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return Sl(s,new tn(o))}if(n instanceof Ii)return Sl(s,n._key);throw new Tt(it.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ip(n)}.`)}function Xm(s,e){if(!Array.isArray(s)||0===s.length)throw new Tt(it.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ed(s,e){const n=function(l,u){for(const f of l)for(const D of f.getFlattenedFilters())if(u.indexOf(D.op)>=0)return D.op;return null}(s.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new Tt(it.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Ym{convertValue(e,n="none"){switch(Fa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Tr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw en()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const o={};return Ya(e,(l,u)=>{o[l]=this.convertValue(u,n)}),o}convertGeoPoint(e){return new Ph(Vi(e.latitude),Vi(e.longitude))}convertArray(e,n){return(e.values||[]).map(o=>this.convertValue(o,n))}convertServerTimestamp(e,n){switch(n){case"previous":const o=ka(e);return null==o?null:this.convertValue(o,n);case"estimate":return this.convertTimestamp(go(e));default:return null}}convertTimestamp(e){const n=wa(e);return new Hr(n.seconds,n.nanos)}convertDocumentKey(e,n){const o=Kn.fromString(e);Vt(oy(o));const l=new La(o.get(1),o.get(3)),u=new tn(o.popFirst(5));return l.isEqual(n)||Kt(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function _p(s,e,n){let o;return o=s?n&&(n.merge||n.mergeFields)?s.toFirestore(e,n):s.toFirestore(e):e,o}class CE extends Ym{constructor(e){super(),this.firestore=e}convertBytes(e){return new wl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ii(this.firestore,null,n)}}class hu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Gl extends Nh{constructor(e,n,o,l,u,f){super(e,n,o,l,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new td(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const o=this._document.data.field(kh("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,n.serverTimestamps)}}}class td extends Gl{data(e={}){return super.data(e)}}class Wl{constructor(e,n,o,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new hu(l.hasPendingWrites,l.fromCache),this.query=o}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(o=>{e.call(n,new td(this._firestore,this._userDataWriter,o.key,o,new hu(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Tt(it.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(l,u){if(l._snapshot.oldDocs.isEmpty()){let f=0;return l._snapshot.docChanges.map(D=>({type:"added",doc:new td(l._firestore,l._userDataWriter,D.doc.key,D.doc,new hu(l._snapshot.mutatedKeys.has(D.doc.key),l._snapshot.fromCache),l.query.converter),oldIndex:-1,newIndex:f++}))}{let f=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(D=>u||3!==D.type).map(D=>{const M=new td(l._firestore,l._userDataWriter,D.doc.key,D.doc,new hu(l._snapshot.mutatedKeys.has(D.doc.key),l._snapshot.fromCache),l.query.converter);let B=-1,J=-1;return 0!==D.type&&(B=f.indexOf(D.doc.key),f=f.delete(D.doc.key)),1!==D.type&&(f=f.add(D.doc),J=f.indexOf(D.doc.key)),{type:Jm(D.type),doc:M,oldIndex:B,newIndex:J}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Jm(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return en()}}function e_(s,e){return s instanceof Gl&&e instanceof Gl?s._firestore===e._firestore&&s._key.isEqual(e._key)&&(null===s._document?null===e._document:s._document.isEqual(e._document))&&s._converter===e._converter:s instanceof Wl&&e instanceof Wl&&s._firestore===e._firestore&&op(s.query,e.query)&&s.metadata.isEqual(e.metadata)&&s._snapshot.isEqual(e._snapshot)}class zl extends Ym{constructor(e){super(),this.firestore=e}convertBytes(e){return new wl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ii(this.firestore,null,n)}}function Cv(s,e,n){s=Ur(s,Ii);const o=Ur(s.firestore,Pi),l=_p(s.converter,e,n);return nd(o,[lp(au(o),"setDoc",s._key,l,null!==s.converter,n).toMutation(s._key,$r.none())])}function yp(s,e,n,...o){s=Ur(s,Ii);const l=Ur(s.firestore,Pi),u=au(l);let f;return f="string"==typeof(e=(0,_e.Ku)(e))||e instanceof la?gv(u,"updateDoc",s._key,e,n,o):$m(u,"updateDoc",s._key,e),nd(l,[f.toMutation(s._key,$r.exists(!0))])}function vp(s,...e){var n,o,l;s=(0,_e.Ku)(s);let u={includeMetadataChanges:!1,source:"default"},f=0;"object"!=typeof e[f]||Qu(e[f])||(u=e[f],f++);const D={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(Qu(e[f])){const fe=e[f];e[f]=null===(n=fe.next)||void 0===n?void 0:n.bind(fe),e[f+1]=null===(o=fe.error)||void 0===o?void 0:o.bind(fe),e[f+2]=null===(l=fe.complete)||void 0===l?void 0:l.bind(fe)}let M,B,J;if(s instanceof Ii)B=Ur(s.firestore,Pi),J=w(s._key.path),M={next:fe=>{e[f]&&e[f](i_(B,s,fe))},error:e[f+1],complete:e[f+2]};else{const fe=Ur(s,Zs);B=Ur(fe.firestore,Pi),J=fe._query;const Ne=new zl(B);M={next:et=>{e[f]&&e[f](new Wl(B,Ne,fe,et))},error:e[f+1],complete:e[f+2]},fp(s._query)}return function(Ne,et,jt,Lt){const qt=new Hl(Lt),Un=new um(et,qt,jt);return Ne.asyncQueue.enqueueAndForget((0,Ee.A)(function*(){return eu(yield ru(Ne),Un)})),()=>{qt.Qa(),Ne.asyncQueue.enqueueAndForget((0,Ee.A)(function*(){return dh(yield ru(Ne),Un)}))}}(Wi(B),J,D,M)}function nd(s,e){return function(o,l){const u=new Fi;return o.asyncQueue.enqueueAndForget((0,Ee.A)(function*(){return function JI(s,e,n){return _m.apply(this,arguments)}(yield Um(o),l,u)})),u.promise}(Wi(s),e)}function i_(s,e,n){const o=n.docs.get(e._key),l=new zl(s);return new Gl(s,l,e._key,o,new hu(n.hasPendingWrites,n.fromCache),e.converter)}const _w={maxAttempts:5};class kE{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=au(e)}set(e,n,o){this._verifyNotCommitted();const l=Ic(e,this._firestore),u=_p(l.converter,n,o),f=lp(this._dataReader,"WriteBatch.set",l._key,u,null!==l.converter,o);return this._mutations.push(f.toMutation(l._key,$r.none())),this}update(e,n,o,...l){this._verifyNotCommitted();const u=Ic(e,this._firestore);let f;return f="string"==typeof(n=(0,_e.Ku)(n))||n instanceof la?gv(this._dataReader,"WriteBatch.update",u._key,n,o,l):$m(this._dataReader,"WriteBatch.update",u._key,n),this._mutations.push(f.toMutation(u._key,$r.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Ic(e,this._firestore);return this._mutations=this._mutations.concat(new kd(n._key,$r.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Tt(it.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ic(s,e){if((s=(0,_e.Ku)(s)).firestore!==e)throw new Tt(it.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}class Rv extends class{constructor(n,o){this._firestore=n,this._transaction=o,this._dataReader=au(n)}get(n){const o=Ic(n,this._firestore),l=new CE(this._firestore);return this._transaction.lookup([o._key]).then(u=>{if(!u||1!==u.length)return en();const f=u[0];if(f.isFoundDocument())return new Nh(this._firestore,l,f.key,f,o.converter);if(f.isNoDocument())return new Nh(this._firestore,l,o._key,null,o.converter);throw en()})}set(n,o,l){const u=Ic(n,this._firestore),f=_p(u.converter,o,l),D=lp(this._dataReader,"Transaction.set",u._key,f,null!==u.converter,l);return this._transaction.set(u._key,D),this}update(n,o,l,...u){const f=Ic(n,this._firestore);let D;return D="string"==typeof(o=(0,_e.Ku)(o))||o instanceof la?gv(this._dataReader,"Transaction.update",f._key,o,l,u):$m(this._dataReader,"Transaction.update",f._key,o),this._transaction.update(f._key,D),this}delete(n){const o=Ic(n,this._firestore);return this._transaction.delete(o._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Ic(e,this._firestore),o=new zl(this._firestore);return super.get(e).then(l=>new Gl(this._firestore,o,n._key,l._document,new hu(!1,!1),n.converter))}}function Lv(s,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Tt("invalid-argument",`Invalid options passed to function ${s}(): You cannot specify both "merge" and "mergeFields".`);return e}function UE(){if(typeof Uint8Array>"u")throw new Tt("unimplemented","Uint8Arrays are not available in this environment.")}function BE(){if(!function vd(){return typeof atob<"u"}())throw new Tt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,n=!0){wn=_.SDK_VERSION,(0,_._registerComponent)(new Q.uA("firestore",(o,{instanceIdentifier:l,options:u})=>{const f=o.getProvider("app").getImmediate(),D=new Pi(new rr(o.getProvider("auth-internal")),new Vn(o.getProvider("app-check-internal")),function(B,J){if(!Object.prototype.hasOwnProperty.apply(B.options,["projectId"]))throw new Tt(it.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new La(B.options.projectId,J)}(f,l),f);return u=Object.assign({useFetchStreams:n},u),D._setSettings(u),D},"PUBLIC").setMultipleInstances(!0)),(0,_.registerVersion)(Ft,"4.5.1",e),(0,_.registerVersion)(Ft,"4.5.1","esm2017")}();class Ip{constructor(e){this._delegate=e}static fromBase64String(e){return BE(),new Ip(wl.fromBase64String(e))}static fromUint8Array(e){return UE(),new Ip(wl.fromUint8Array(e))}toBase64(){return BE(),this._delegate.toBase64()}toUint8Array(){return UE(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Fv(s){return function jE(s,e){if("object"!=typeof s||null===s)return!1;const n=s;for(const o of e)if(o in n&&"function"==typeof n[o])return!0;return!1}(s,["next","error","complete"])}class rd{enableIndexedDbPersistence(e,n){return function mE(s,e){uv(s=Ur(s,Pi));const n=Wi(s);if(n._uninitializedComponentsProvider)throw new Tt(it.FAILED_PRECONDITION,"SDK cache is already specified.");Ar("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const o=s._freezeSettings(),l=new El;return Rh(n,l,new vh(l,o.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return function ap(s){uv(s=Ur(s,Pi));const e=Wi(s);if(e._uninitializedComponentsProvider)throw new Tt(it.FAILED_PRECONDITION,"SDK cache is already specified.");Ar("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=s._freezeSettings(),o=new El;return Rh(e,o,new qy(o,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function uw(s){if(s._initialized&&!s._terminated)throw new Tt(it.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Fi;return s._queue.enqueueAndForgetEvenWhileRestricted((0,Ee.A)(function*(){try{yield(n=(0,Ee.A)(function*(l){if(!T.D())return Promise.resolve();const u=l+"main";yield T.delete(u)}),function o(l){return n.apply(this,arguments)})(Fg(s._databaseId,s._persistenceKey)),e.resolve()}catch(n){e.reject(n)}var n})),e.promise}(e._delegate)}}class id{constructor(e,n,o){this._delegate=n,this._persistenceProvider=o,this.INTERNAL={delete:()=>this.terminate()},e instanceof La||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Ar("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},n),e)).merge,this._delegate._setSettings(e)}useEmulator(e,n,o={}){!function Ah(s,e,n,o={}){var l;const u=(s=Ur(s,iu))._getSettings(),f=`${e}:${n}`;if("firestore.googleapis.com"!==u.host&&u.host!==f&&Ar("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),s._setSettings(Object.assign(Object.assign({},u),{host:f,ssl:!1})),o.mockUserToken){let D,M;if("string"==typeof o.mockUserToken)D=o.mockUserToken,M=sn.MOCK_USER;else{D=(0,_e.Fy)(o.mockUserToken,null===(l=s._app)||void 0===l?void 0:l.options.projectId);const B=o.mockUserToken.sub||o.mockUserToken.user_id;if(!B)throw new Tt(it.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");M=new sn(B)}s._authCredentials=new Po(new Xi(D,M))}}(this._delegate,e,n,o)}enableNetwork(){return function yE(s){return function ev(s){return s.asyncQueue.enqueue((0,Ee.A)(function*(){const e=yield Zy(s),n=yield Vm(s);return e.setNetworkEnabled(!0),function(l){const u=Nt(l);return u.v_.delete(0),Lu(u)}(n)}))}(Wi(s=Ur(s,Pi)))}(this._delegate)}disableNetwork(){return function jm(s){return function Ch(s){return s.asyncQueue.enqueue((0,Ee.A)(function*(){const e=yield Zy(s),n=yield Vm(s);return e.setNetworkEnabled(!1),(o=(0,Ee.A)(function*(u){const f=Nt(u);f.v_.add(0),yield Ys(f),f.x_.set("Offline")}),function l(u){return o.apply(this,arguments)})(n);var o}))}(Wi(s=Ur(s,Pi)))}(this._delegate)}enablePersistence(e){let n=!1,o=!1;return e&&(n=!!e.synchronizeTabs,o=!!e.experimentalForceOwningTab,sv("synchronizeTabs",n,"experimentalForceOwningTab",o)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,o)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function _E(s){return function(n){const o=new Fi;return n.asyncQueue.enqueueAndForget((0,Ee.A)(function*(){return function aa(s,e){return wm.apply(this,arguments)}(yield Um(n),o)})),o.promise}(Wi(s=Ur(s,Pi)))}(this._delegate)}onSnapshotsInSync(e){return function r_(s,e){return function uE(s,e){const n=new Hl(e);return s.asyncQueue.enqueueAndForget((0,Ee.A)(function*(){return l=yield ru(s),u=n,Nt(l).W_.add(u),void u.next();var l,u})),()=>{n.Qa(),s.asyncQueue.enqueueAndForget((0,Ee.A)(function*(){return l=yield ru(s),u=n,void Nt(l).W_.delete(u);var l,u}))}}(Wi(s=Ur(s,Pi)),Qu(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Tt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Hh(this,av(this._delegate,e))}catch(n){throw Yo(n,"collection()","Firestore.collection()")}}doc(e){try{return new $a(this,Sh(this._delegate,e))}catch(n){throw Yo(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Uo(this,function Dh(s,e){if(s=Ur(s,iu),iv("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Tt(it.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Zs(s,null,(o=e,new Va(Kn.emptyPath(),o)));var o}(this._delegate,e))}catch(n){throw Yo(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function Pv(s,e,n){s=Ur(s,Pi);const o=Object.assign(Object.assign({},_w),n);return function(u){if(u.maxAttempts<1)throw new Tt(it.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function(u,f,D){const M=new Fi;return u.asyncQueue.enqueueAndForget((0,Ee.A)(function*(){const B=yield function Jy(s){return np(s).then(e=>e.datastore)}(u);new Eh(u.asyncQueue,B,D,f,M).Ya()})),M.promise}(Wi(s),l=>e(new Rv(s,l)),o)}(this._delegate,n=>e(new d_(this,n)))}batch(){return Wi(this._delegate),new Vv(new kE(this._delegate,e=>nd(this._delegate,e)))}loadBundle(e){return function cv(s,e){const n=Wi(s=Ur(s,Pi)),o=new pE;return function rp(s,e,n,o){const l=function(f,D){let M;return M="string"==typeof f?bu().encode(f):f,J=function(J,fe){if(J instanceof Uint8Array)return Om(J,void 0);if(J instanceof ArrayBuffer)return Om(new Uint8Array(J),void 0);if(J instanceof ReadableStream)return J.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(M),new Ih(J,D);var J}(n,Ff(e));s.asyncQueue.enqueueAndForget((0,Ee.A)(function*(){!function jl(s,e,n){const o=Nt(s);var l;(l=(0,Ee.A)(function*(f,D,M){try{const B=yield D.getMetadata();if(yield function(jt,Lt){const qt=Nt(jt),Un=gs(Lt.createTime);return qt.persistence.runTransaction("hasNewerBundle","readonly",qn=>qt.$r.getBundleMetadata(qn,Lt.id)).then(qn=>!!qn&&qn.createTime.compareTo(Un)>=0)}(f.localStore,B))return yield D.close(),M._completeWith({taskState:"Success",documentsLoaded:(jt=B).totalDocuments,bytesLoaded:jt.totalBytes,totalDocuments:jt.totalDocuments,totalBytes:jt.totalBytes}),Promise.resolve(new Set);M._updateProgress(dm(B));const J=new jy(B,f.localStore,D.serializer);let fe=yield D.Ba();for(;fe;){const et=yield J.sa(fe);et&&M._updateProgress(et),fe=yield D.Ba()}const Ne=yield J.complete();return yield vl(f,Ne.aa,void 0),yield function(jt,Lt){const qt=Nt(jt);return qt.persistence.runTransaction("Save bundle","readwrite",Un=>qt.$r.saveBundleMetadata(Un,Lt))}(f.localStore,B),M._completeWith(Ne.progress),Promise.resolve(Ne._a)}catch(B){return Ar("SyncEngine",`Loading bundle failed with ${B}`),M._failWith(B),Promise.resolve(new Set)}var jt}),function u(f,D,M){return l.apply(this,arguments)})(o,e,n).then(l=>{o.sharedClientState.notifyBundleLoaded(l)})}(yield Um(s),l,o)}))}(n,s._databaseId,e,o),o}(this._delegate,e)}namedQuery(e){return function vE(s,e){return function Bm(s,e){return s.asyncQueue.enqueue((0,Ee.A)(function*(){return function(o,l){const u=Nt(o);return u.persistence.runTransaction("Get named query","readonly",f=>u.$r.getNamedQuery(f,l))}(yield zu(s),e)}))}(Wi(s=Ur(s,Pi)),e).then(n=>n?new Zs(s,null,n.query):null)}(this._delegate,e).then(n=>n?new Uo(this,n):null)}}class Ep extends Ym{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ip(new wl(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return $a.forKey(n,this.firestore,null)}}class d_{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new Ep(e)}get(e){const n=fu(e);return this._delegate.get(n).then(o=>new od(this._firestore,new Gl(this._firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,n.converter)))}set(e,n,o){const l=fu(e);return o?(Lv("Transaction.set",o),this._delegate.set(l,n,o)):this._delegate.set(l,n),this}update(e,n,o,...l){const u=fu(e);return 2===arguments.length?this._delegate.update(u,n):this._delegate.update(u,n,o,...l),this}delete(e){const n=fu(e);return this._delegate.delete(n),this}}class Vv{constructor(e){this._delegate=e}set(e,n,o){const l=fu(e);return o?(Lv("WriteBatch.set",o),this._delegate.set(l,n,o)):this._delegate.set(l,n),this}update(e,n,o,...l){const u=fu(e);return 2===arguments.length?this._delegate.update(u,n):this._delegate.update(u,n,o,...l),this}delete(e){const n=fu(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class sd{constructor(e,n,o){this._firestore=e,this._userDataWriter=n,this._delegate=o}fromFirestore(e,n){const o=new td(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new jh(this._firestore,o),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const o=sd.INSTANCES;let l=o.get(e);l||(l=new WeakMap,o.set(e,l));let u=l.get(n);return u||(u=new sd(e,new Ep(e),n),l.set(n,u)),u}}sd.INSTANCES=new WeakMap;class $a{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Ep(e)}static forPath(e,n,o){if(e.length%2!=0)throw new Tt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new $a(n,new Ii(n._delegate,o,new tn(e)))}static forKey(e,n,o){return new $a(n,new Ii(n._delegate,o,e))}get id(){return this._delegate.id}get parent(){return new Hh(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Hh(this.firestore,av(this._delegate,e))}catch(n){throw Yo(n,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,_e.Ku)(e))instanceof Ii&&lv(this._delegate,e)}set(e,n){n=Lv("DocumentReference.set",n);try{return n?Cv(this._delegate,e,n):Cv(this._delegate,e)}catch(o){throw Yo(o,"setDoc()","DocumentReference.set()")}}update(e,n,...o){try{return 1===arguments.length?yp(this._delegate,e):yp(this._delegate,e,n,...o)}catch(l){throw Yo(l,"updateDoc()","DocumentReference.update()")}}delete(){return function n_(s){return nd(Ur(s.firestore,Pi),[new kd(s._key,$r.none())])}(this._delegate)}onSnapshot(...e){const n=Uv(e),o=Bh(e,l=>new od(this.firestore,new Gl(this.firestore._delegate,this._userDataWriter,l._key,l._document,l.metadata,this._delegate.converter)));return vp(this._delegate,n,o)}get(e){let n;return n="cache"===e?.source?function t_(s){s=Ur(s,Ii);const e=Ur(s.firestore,Pi),n=Wi(e),o=new zl(e);return function bh(s,e){const n=new Fi;return s.asyncQueue.enqueueAndForget((0,Ee.A)(function*(){return(o=(0,Ee.A)(function*(u,f,D){try{const M=yield function(J,fe){const Ne=Nt(J);return Ne.persistence.runTransaction("read document","readonly",et=>Ne.localDocuments.getDocument(et,fe))}(u,f);M.isFoundDocument()?D.resolve(M):M.isNoDocument()?D.resolve(null):D.reject(new Tt(it.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(M){const B=Zc(M,`Failed to get document '${f} from cache`);D.reject(B)}}),function l(u,f,D){return o.apply(this,arguments)})(yield zu(s),e,n);var o})),n.promise}(n,s._key).then(l=>new Gl(e,o,s._key,l,new hu(null!==l&&l.hasLocalMutations,!0),s.converter))}(this._delegate):"server"===e?.source?function wv(s){s=Ur(s,Ii);const e=Ur(s.firestore,Pi);return Ku(Wi(e),s._key,{source:"server"}).then(n=>i_(e,s,n))}(this._delegate):function AE(s){s=Ur(s,Ii);const e=Ur(s.firestore,Pi);return Ku(Wi(e),s._key).then(n=>i_(e,s,n))}(this._delegate),n.then(o=>new od(this.firestore,new Gl(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)))}withConverter(e){return new $a(this.firestore,this._delegate.withConverter(e?sd.getInstance(this.firestore,e):null))}}function Yo(s,e,n){return s.message=s.message.replace(e,n),s}function Uv(s){for(const e of s)if("object"==typeof e&&!Fv(e))return e;return{}}function Bh(s,e){var n,o;let l;return l=Fv(s[0])?s[0]:Fv(s[1])?s[1]:"function"==typeof s[0]?{next:s[0],error:s[1],complete:s[2]}:{next:s[1],error:s[2],complete:s[3]},{next:u=>{l.next&&l.next(e(u))},error:null===(n=l.error)||void 0===n?void 0:n.bind(l),complete:null===(o=l.complete)||void 0===o?void 0:o.bind(l)}}class od{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new $a(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return e_(this._delegate,e._delegate)}}class jh extends od{data(e){const n=this._delegate.data(e);return this._delegate._converter||function Li(s,e){s||en()}(void 0!==n),n}}class Uo{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Ep(e)}where(e,n,o){try{return new Uo(this.firestore,$l(this._delegate,function Lh(s,e,n){const o=e,l=kh("where",s);return Ju._create(l,o,n)}(e,n,o)))}catch(l){throw Yo(l,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new Uo(this.firestore,$l(this._delegate,function Fh(s,e="asc"){const n=e,o=kh("orderBy",s);return pp._create(o,n)}(e,n)))}catch(o){throw Yo(o,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Uo(this.firestore,$l(this._delegate,function TE(s){return sp("limit",s),gp._create("limit",s,"F")}(e)))}catch(n){throw Yo(n,"limit()","Query.limit()")}}limitToLast(e){try{return new Uo(this.firestore,$l(this._delegate,function Km(s){return sp("limitToLast",s),gp._create("limitToLast",s,"L")}(e)))}catch(n){throw Yo(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Uo(this.firestore,$l(this._delegate,function vc(...s){return Vh._create("startAt",s,!0)}(...e)))}catch(n){throw Yo(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Uo(this.firestore,$l(this._delegate,function Uh(...s){return Vh._create("startAfter",s,!1)}(...e)))}catch(n){throw Yo(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Uo(this.firestore,$l(this._delegate,function mp(...s){return qm._create("endBefore",s,!1)}(...e)))}catch(n){throw Yo(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Uo(this.firestore,$l(this._delegate,function vv(...s){return qm._create("endAt",s,!0)}(...e)))}catch(n){throw Yo(n,"endAt()","Query.endAt()")}}isEqual(e){return op(this._delegate,e._delegate)}get(e){let n;return n="cache"===e?.source?function DE(s){s=Ur(s,Zs);const e=Ur(s.firestore,Pi),n=Wi(e),o=new zl(e);return function cE(s,e){const n=new Fi;return s.asyncQueue.enqueueAndForget((0,Ee.A)(function*(){return(o=(0,Ee.A)(function*(u,f,D){try{const M=yield Pf(u,f,!0),B=new fm(f,M.hs),J=B.Ta(M.documents),fe=B.applyChanges(J,!1);D.resolve(fe.snapshot)}catch(M){const B=Zc(M,`Failed to execute query '${f} against cache`);D.reject(B)}}),function l(u,f,D){return o.apply(this,arguments)})(yield zu(s),e,n);var o})),n.promise}(n,s._query).then(l=>new Wl(e,o,s,l))}(this._delegate):"server"===e?.source?function SE(s){s=Ur(s,Zs);const e=Ur(s.firestore,Pi),n=Wi(e),o=new zl(e);return tv(n,s._query,{source:"server"}).then(l=>new Wl(e,o,s,l))}(this._delegate):function Tv(s){s=Ur(s,Zs);const e=Ur(s.firestore,Pi),n=Wi(e),o=new zl(e);return fp(s._query),tv(n,s._query).then(l=>new Wl(e,o,s,l))}(this._delegate),n.then(o=>new wp(this.firestore,new Wl(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)))}onSnapshot(...e){const n=Uv(e),o=Bh(e,l=>new wp(this.firestore,new Wl(this.firestore._delegate,this._userDataWriter,this._delegate,l._snapshot)));return vp(this._delegate,n,o)}withConverter(e){return new Uo(this.firestore,this._delegate.withConverter(e?sd.getInstance(this.firestore,e):null))}}class Tw{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new jh(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class wp{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new Uo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new jh(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new Tw(this._firestore,n))}forEach(e,n){this._delegate.forEach(o=>{e.call(n,new jh(this._firestore,o))})}isEqual(e){return e_(this._delegate,e._delegate)}}class Hh extends Uo{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new $a(this.firestore,e):null}doc(e){try{return new $a(this.firestore,void 0===e?Sh(this._delegate):Sh(this._delegate,e))}catch(n){throw Yo(n,"doc()","CollectionReference.doc()")}}add(e){return function bv(s,e){const n=Ur(s.firestore,Pi),o=Sh(s),l=_p(s.converter,e);return nd(n,[lp(au(s.firestore),"addDoc",o._key,l,null!==s.converter,{}).toMutation(o._key,$r.exists(!1))]).then(()=>o)}(this._delegate,e).then(n=>new $a(this.firestore,n))}isEqual(e){return lv(this._delegate,e._delegate)}withConverter(e){return new Hh(this.firestore,this._delegate.withConverter(e?sd.getInstance(this.firestore,e):null))}}function fu(s){return Ur(s,Ii)}class Tp{constructor(...e){this._delegate=new la(...e)}static documentId(){return new Tp(zr.keyField().canonicalString())}isEqual(e){return(e=(0,_e.Ku)(e))instanceof la&&this._delegate._internalPath.isEqual(e._internalPath)}}class Kl{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Mv(){return new pv("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Kl(e)}static delete(){const e=function l_(){return new Mh("deleteField")}();return e._methodName="FieldValue.delete",new Kl(e)}static arrayUnion(...e){const n=function xv(...s){return new up("arrayUnion",s)}(...e);return n._methodName="FieldValue.arrayUnion",new Kl(n)}static arrayRemove(...e){const n=function Ov(...s){return new Ha("arrayRemove",s)}(...e);return n._methodName="FieldValue.arrayRemove",new Kl(n)}static increment(e){const n=function Nv(s){return new dp("increment",s)}(e);return n._methodName="FieldValue.increment",new Kl(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const HE={Firestore:id,GeoPoint:Ph,Timestamp:Hr,Blob:Ip,Transaction:d_,WriteBatch:Vv,DocumentReference:$a,DocumentSnapshot:od,Query:Uo,QueryDocumentSnapshot:jh,QuerySnapshot:wp,CollectionReference:Hh,FieldPath:Tp,FieldValue:Kl,setLogLevel:function ww(s){!function fr(s){_n.setLogLevel(s)}(s)},CACHE_SIZE_UNLIMITED:-1};function Bv(s,e){return function GE(s,e=yt.E){return new At.c(n=>{let o;return null!=e?e.schedule(()=>{o=s.onSnapshot({includeMetadataChanges:!0},n)}):o=s.onSnapshot({includeMetadataChanges:!0},n),()=>{o?.()}})}(s,e)}function h_(s,e){return Bv(s,e).pipe((0,De.T)(n=>({payload:n,type:"query"})))}!function Cp(s){(function $E(s,e){s.INTERNAL.registerComponent(new Q.uA("firestore-compat",n=>{const o=n.getProvider("app-compat").getImmediate(),l=n.getProvider("firestore").getImmediate();return e(o,l)},"PUBLIC").setServiceProps(Object.assign({},HE)))})(s,(e,n)=>new id(e,n,new rd)),s.registerVersion("@firebase/firestore-compat","0.3.28")}(oe.A),L(7935);class jv{ref;afs;constructor(e,n){this.ref=e,this.afs=n}set(e,n){return this.ref.set(e,n)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,n){const o=this.ref.collection(e),{ref:l,query:u}=Ap(o,n);return new m_(l,u,this.afs)}snapshotChanges(){return function WE(s,e){return Bv(s,e).pipe((0,Ut.Z)(void 0),Ve(),(0,De.T)(n=>{const[o,l]=n;return l.exists?o?.exists?{payload:l,type:"modified"}:{payload:l,type:"added"}:{payload:l,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(We.U0)}valueChanges(e={}){return this.snapshotChanges().pipe((0,De.T)(({payload:n})=>e.idField?{...n.data(),[e.idField]:n.id}:n.data()))}get(e){return(0,ut.H)(this.ref.get(e)).pipe(We.U0)}}function bp(s,e){return h_(s,e).pipe((0,Ut.Z)(void 0),Ve(),(0,De.T)(n=>{const[o,l]=n,u=l.payload.docChanges(),f=u.map(D=>({type:D.type,payload:D}));return o&&JSON.stringify(o.payload.metadata)!==JSON.stringify(l.payload.metadata)&&l.payload.docs.forEach((D,M)=>{const B=u.find(fe=>fe.doc.ref.isEqual(D.ref)),J=o?.payload.docs.find(fe=>fe.ref.isEqual(D.ref));B&&JSON.stringify(B.doc.metadata)===JSON.stringify(D.metadata)||!B&&J&&JSON.stringify(J.metadata)===JSON.stringify(D.metadata)||f.push({type:"modified",payload:{oldIndex:M,newIndex:M,type:"modified",doc:D}})}),f}))}function f_(s,e,n){return bp(s,n).pipe((0,ye.S)((o,l)=>function Hv(s,e,n){return e.forEach(o=>{n.indexOf(o.type)>-1&&(s=function bw(s,e){switch(e.type){case"added":if(!s[e.newIndex]||!s[e.newIndex].doc.ref.isEqual(e.doc.ref))return p_(s,e.newIndex,0,e);break;case"modified":if(null==s[e.oldIndex]||s[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=s.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return p_(s,e.newIndex,1,e)}break;case"removed":if(s[e.oldIndex]&&s[e.oldIndex].doc.ref.isEqual(e.doc.ref))return p_(s,e.oldIndex,1)}return s}(s,o))}),s}(o,l.map(u=>u.payload),e),[]),function Xe(s,e=be.D){return s=s??ue,(0,Bt.N)((n,o)=>{let l,u=!0;n.subscribe((0,Ge._)(o,f=>{const D=e(f);(u||!s(l,D))&&(u=!1,l=D,o.next(f))}))})}(),(0,De.T)(o=>o.map(l=>({type:l.type,payload:l}))))}function p_(s,e,n,...o){const l=s.slice();return l.splice(e,n,...o),l}function g_(s){return(!s||0===s.length)&&(s=["added","removed","modified"]),s}class m_{ref;query;afs;constructor(e,n,o){this.ref=e,this.query=n,this.afs=o}stateChanges(e){let n=bp(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(n=n.pipe((0,De.T)(o=>o.filter(l=>e.indexOf(l.type)>-1)))),n.pipe((0,Ut.Z)(void 0),Ve(),(0,Se.p)(([o,l])=>l.length>0||!o),(0,De.T)(([,o])=>o),We.U0)}auditTrail(e){return this.stateChanges(e).pipe((0,ye.S)((n,o)=>[...n,...o],[]))}snapshotChanges(e){const n=g_(e);return f_(this.query,n,this.afs.schedulers.outsideAngular).pipe(We.U0)}valueChanges(e={}){return h_(this.query,this.afs.schedulers.outsideAngular).pipe((0,De.T)(n=>n.payload.docs.map(o=>e.idField?{...o.data(),[e.idField]:o.id}:o.data())),We.U0)}get(e){return(0,ut.H)(this.query.get(e)).pipe(We.U0)}add(e){return this.ref.add(e)}doc(e){return new jv(this.ref.doc(e),this.afs)}}class pu{query;afs;constructor(e,n){this.query=e,this.afs=n}stateChanges(e){return e&&0!==e.length?bp(this.query,this.afs.schedulers.outsideAngular).pipe((0,De.T)(n=>n.filter(o=>e.indexOf(o.type)>-1)),(0,Se.p)(n=>n.length>0),We.U0):bp(this.query,this.afs.schedulers.outsideAngular).pipe(We.U0)}auditTrail(e){return this.stateChanges(e).pipe((0,ye.S)((n,o)=>[...n,...o],[]))}snapshotChanges(e){const n=g_(e);return f_(this.query,n,this.afs.schedulers.outsideAngular).pipe(We.U0)}valueChanges(e={}){return h_(this.query,this.afs.schedulers.outsideAngular).pipe((0,De.T)(o=>o.payload.docs.map(l=>e.idField?{[e.idField]:l.id,...l.data()}:l.data())),We.U0)}get(e){return(0,ut.H)(this.query.get(e)).pipe(We.U0)}}const $v=new p.nKC("angularfire2.enableFirestorePersistence"),zE=new p.nKC("angularfire2.firestore.persistenceSettings"),Aw=new p.nKC("angularfire2.firestore.settings"),__=new p.nKC("angularfire2.firestore.use-emulator");function Ap(s,e=(n=>n)){return{query:e(s),ref:s}}let KE=(()=>{class s{schedulers;firestore;persistenceEnabled$;constructor(n,o,l,u,f,D,M,B,J,fe,Ne,et,jt,Lt,qt,Un,qn){this.schedulers=M;const Ln=(0,Ke.iB)(n,D,o),mr=J;fe&&(0,de.gF)(Ln,D,Ne,jt,Lt,qt,et,Un),[this.firestore,this.persistenceEnabled$]=(0,Ke.BM)(`${Ln.name}.firestore`,"AngularFirestore",Ln.name,()=>{const kr=D.runOutsideAngular(()=>Ln.firestore());if(u&&kr.settings(u),mr&&kr.useEmulator(...mr),l&&!(0,Re.Vy)(f)){const si=()=>{try{return(0,ut.H)(kr.enablePersistence(B||void 0).then(()=>!0,()=>!1))}catch(cs){return typeof console<"u"&&console.warn(cs),(0,ft.of)(!1)}};return[kr,D.runOutsideAngular(si)]}return[kr,(0,ft.of)(!1)]},[u,mr,l])}collection(n,o){let l;l="string"==typeof n?this.firestore.collection(n):n;const{ref:u,query:f}=Ap(l,o),D=this.schedulers.ngZone.run(()=>u);return new m_(D,f,this)}collectionGroup(n,o){const l=o||(f=>f),u=this.firestore.collectionGroup(n);return new pu(l(u),this)}doc(n){let o;o="string"==typeof n?this.firestore.doc(n):n;const l=this.schedulers.ngZone.run(()=>o);return new jv(l,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(o){return new(o||s)(p.KVO(Ke.rx),p.KVO(Ke.uP,8),p.KVO($v,8),p.KVO(Aw,8),p.KVO(p.Agw),p.KVO(p.SKi),p.KVO(We.u0),p.KVO(zE,8),p.KVO(__,8),p.KVO(de.DS,8),p.KVO(de.CP,8),p.KVO(de.yy,8),p.KVO(de.ZP,8),p.KVO(de.$z,8),p.KVO(de.AU,8),p.KVO(de.UB,8),p.KVO(We.Jv,8))};static \u0275prov=p.jDH({token:s,factory:s.\u0275fac,providedIn:"any"})}return s})(),y_=(()=>{class s{constructor(n,o,l,u){this.afAuth=n,this.cacheService=o,this.router=l,this.firestore=u,this.userSubject=new W.t(null),this.user=this.userSubject.asObservable(),this.valueEmitter=new p.bkB,this.inputValueSubject=new W.t(!1),this.afAuth.authState.subscribe(f=>{this.userSubject.next(f)})}setLoaderValue(n){this.inputValueSubject.next(n)}getLoaderValue(){return this.inputValueSubject.asObservable()}sendVerificationCode(n){this.setLoaderValue(!0);const o=n,l=new oe.A.auth.RecaptchaVerifier("recaptcha-container",{size:"invisible"});return this.afAuth.signInWithPhoneNumber(o,l).then(u=>(this.setLoaderValue(!1),u.verificationId),u=>{alert(u.message),this.router.navigate(["/login"])})}verifyCode(n,o){this.setLoaderValue(!0);const l=oe.A.auth.PhoneAuthProvider.credential(n,o);return this.afAuth.signInWithCredential(l).then(u=>null!=u.user.displayName?(this.cacheService.setData("token",u.user),this.router.navigate(["/tasks"]),this.setLoaderValue(!1),u.user):(this.setLoaderValue(!1),u.user),u=>{alert(u.message),this.router.navigate(["/login"])})}updateInfo(n,o,l){n?.updateProfile({displayName:o}),n=n.multiFactor.user,this.storeAdditionalUserData(n?.uid,{fullName:l,username:o}),n={...n,displayName:o},this.cacheService.setData("token",n),this.router.navigate(["/tasks"])}getUser(){return this.user}setDisplayName(n,o){this.setLoaderValue(!0);const l=`${n} ${o}`;return this.afAuth.currentUser.then(u=>(this.setLoaderValue(!1),u?.updateProfile({displayName:l})))}signIn(n,o,l){this.setLoaderValue(!0),this.afAuth.signInWithEmailAndPassword(n,o).then(u=>{u.user?.emailVerified?(this.setLoaderValue(!1),this.cacheService.setData("token",u.user),this.router.navigate(["/tasks"],{state:{rememberMe:l}})):u.user&&(this.setLoaderValue(!1),u.user.sendEmailVerification(),this.router.navigate(["/verify-email"]))},u=>{alert(u.message),this.router.navigate(["/login"])})}register(n){this.setLoaderValue(!0),this.afAuth.createUserWithEmailAndPassword(n.email,n.password).then(o=>{o.user?.updateProfile({displayName:n.userName}),this.storeAdditionalUserData(o.user?.uid,{fullName:n.fullName,username:n.userName}),o.user&&(this.setLoaderValue(!1),o.user.sendEmailVerification(),this.router.navigate(["/verify-email"]))},o=>{alert(o.message)})}storeAdditionalUserData(n,o){n&&this.firestore.collection("users").doc(n).set(o,{merge:!0})}signOut(){this.setLoaderValue(!0),this.afAuth.signOut().then(()=>{this.setLoaderValue(!1),this.cacheService.removeData("token"),this.router.navigate(["/login"])},n=>{alert(n.message)})}forgotPassword(n){this.setLoaderValue(!0),this.afAuth.sendPasswordResetEmail(n).then(()=>{this.setLoaderValue(!1),this.email=n,this.router.navigate(["/verify-email"])},o=>{alert(o.message)})}deleteCurrentUser(){this.setLoaderValue(!0),this.afAuth.currentUser.then(n=>{n&&(n.delete(),this.setLoaderValue(!1),this.cacheService.removeData("token"),this.router.navigate(["/login"]))},n=>{alert(n.message)})}singInWithGoogle(){return this.setLoaderValue(!0),this.afAuth.signInWithPopup(new F.X).then(n=>{const o=n.user;if(o){const[l,u]=o.displayName?.split(" ")||["",""];o.updateProfile({displayName:o.displayName,photoURL:o.photoURL}).then(()=>{this.setLoaderValue(!1),this.cacheService.setData("token",n.user),this.router.navigate(["/tasks"]),"/tasks"==this.router.url&&window.location.reload()})}},n=>{alert(n.message),this.router.navigate(["/login"])})}singInWithGithub(){return this.setLoaderValue(!0),this.afAuth.signInWithPopup(new F.Y).then(n=>{const o=n.user;if(o){const[l,u]=o.displayName?.split(" ")||["",""];o.updateProfile({displayName:o.displayName,photoURL:o.photoURL}).then(()=>{this.setLoaderValue(!1),this.cacheService.setData("token",n.user),this.router.navigate(["/tasks"])})}},n=>{alert(n.message),this.router.navigate(["/login"])})}static#e=this.\u0275fac=function(o){return new(o||s)(p.KVO(de.DS),p.KVO(ne._),p.KVO(le.Ix),p.KVO(KE))};static#t=this.\u0275prov=p.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})()},7144:(zt,ze,L)=>{L.d(ze,{c:()=>p});const p={production:!0,firebaseConfig:{apiKey:"AIzaSyDEFnGE_jUVrWMEMuY2-bdk3TCL8PwiUxs",authDomain:"tasks-2aa20.firebaseapp.com",projectId:"tasks-2aa20",storageBucket:"tasks-2aa20.appspot.com",messagingSenderId:"289908118671",appId:"1:289908118671:web:40a2c8d77b6819feb10cfa",measurementId:"G-PRWGNQ569P"}}},5667:(zt,ze,L)=>{var p=L(345),F=L(9888),_=L(4438),_e=L(1634),V=L(177);function Q(U,E){if(1&U&&(_.j41(0,"span",6),_.EFF(1,"We've sent a verification mail to "),_.j41(2,"strong",7),_.EFF(3),_.k0s()()),2&U){const v=_.XpG();_.R7$(3),_.JRh(v.email)}}function W(U,E){if(1&U&&(_.j41(0,"span",6),_.EFF(1,"We've sent instructions on how to reset "),_.nrm(2,"br"),_.EFF(3," your password to "),_.j41(4,"strong",7),_.EFF(5),_.k0s()()),2&U){const v=_.XpG();_.R7$(5),_.JRh(v.email)}}function oe(U,E){1&U&&(_.j41(0,"span",6),_.EFF(1,"Please go to your mail to verify your email."),_.k0s())}let de=(()=>{class U{constructor(v){this.authService=v,this.email=null,this.forgotPassLabel=!1}ngOnInit(){this.authService.getUser().subscribe(v=>{v?this.email=v.email:(this.email=this.authService.email,this.forgotPassLabel=!0)})}static#e=this.\u0275fac=function(S){return new(S||U)(_.rXU(_e.u))};static#t=this.\u0275cmp=_.VBU({type:U,selectors:[["app-verifyemail"]],decls:10,vars:3,consts:[[1,"container"],[1,"box"],["src","assets/mail.png"],[1,"title"],["class","title1",4,"ngIf"],["href","#login",1,"title2"],[1,"title1"],[1,"bold-email"]],template:function(S,N){1&S&&(_.j41(0,"div",0)(1,"div",1),_.nrm(2,"img",2),_.j41(3,"span",3),_.EFF(4,"Check your email"),_.k0s(),_.DNE(5,Q,4,1,"span",4)(6,W,6,1,"span",4)(7,oe,2,0,"span",4),_.j41(8,"a",5),_.EFF(9,"Verified logging in"),_.k0s()()()),2&S&&(_.R7$(5),_.Y8G("ngIf",!N.forgotPassLabel),_.R7$(),_.Y8G("ngIf",N.forgotPassLabel),_.R7$(),_.Y8G("ngIf",!N.forgotPassLabel))},dependencies:[V.bT],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;height:100vh;background-color:#cdcde1;max-width:-webkit-fill-available}.box[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;background-color:#fff;padding:75px 50px;border-radius:10px;box-shadow:0 0 10px #0003}.box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-bottom:10px}.title[_ngcontent-%COMP%]{font-weight:600;font-size:larger;margin-bottom:20px;color:#2b2b2b}.bold-email[_ngcontent-%COMP%]{font-weight:700;color:#2b2b2b}.title1[_ngcontent-%COMP%]{margin-bottom:2%;color:gray;font-size:14px}.title2[_ngcontent-%COMP%]{color:#228be6;text-decoration:none;font-weight:500;margin-top:2%;font-size:16px;transition:color .3s ease}.title2[_ngcontent-%COMP%]:hover{color:#08f}"]})}return U})();var ne=L(4341);let le=(()=>{class U{constructor(v){this.authService=v,this.email=""}forgotPasswordMail(){this.authService.forgotPassword(this.email)}static#e=this.\u0275fac=function(S){return new(S||U)(_.rXU(_e.u))};static#t=this.\u0275cmp=_.VBU({type:U,selectors:[["app-forgotpassword"]],decls:13,vars:1,consts:[[1,"container"],[1,"box"],[1,"title"],[1,"title1"],["for","email",1,"emailLabel"],["type","email","id","email","name","email","aria-describedby","email",1,"emailInput",3,"ngModelChange","ngModel"],[1,"btn",3,"click"],["href","#login",1,"title2"]],template:function(S,N){1&S&&(_.j41(0,"div",0)(1,"div",1)(2,"span",2),_.EFF(3,"Forgot your password?"),_.k0s(),_.j41(4,"span",3),_.EFF(5,"Your password will be reset by email."),_.k0s(),_.j41(6,"label",4),_.EFF(7,"Enter your email address"),_.k0s(),_.j41(8,"input",5),_.mxI("ngModelChange",function(Ie){return _.DH7(N.email,Ie)||(N.email=Ie),Ie}),_.k0s(),_.j41(9,"button",6),_.bIt("click",function(){return N.forgotPasswordMail()}),_.EFF(10,"Next"),_.k0s(),_.j41(11,"a",7),_.EFF(12,"Back to log in"),_.k0s()()()),2&S&&(_.R7$(8),_.R50("ngModel",N.email))},dependencies:[ne.me,ne.BC,ne.vS],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;height:100vh;background-color:#cdcde1;max-width:-webkit-fill-available}.box[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;background-color:#fff;padding:45px 80px;border-radius:10px;box-shadow:0 0 10px #0003}.title[_ngcontent-%COMP%]{font-weight:600;font-size:x-large;margin-bottom:4%;color:#228be6}.btn[_ngcontent-%COMP%]{background-color:#228be6;color:#fff;margin-top:10px;height:40px;width:125%;padding:5px;border:none;border-radius:5px;cursor:pointer;margin-bottom:5%;transition:background-color .3s ease}.btn[_ngcontent-%COMP%]:hover{background-color:#08f}.title1[_ngcontent-%COMP%]{margin-bottom:6%;color:gray;font-size:13px}.emailLabel[_ngcontent-%COMP%]{color:gray;font-size:13px;margin-bottom:3%;font-weight:500;margin-left:-167px}.emailInput[_ngcontent-%COMP%]{padding-left:1%;border-radius:5px;border:solid 1px #3a3a3a;outline:none;height:40px;width:125%;margin-bottom:4%}.title2[_ngcontent-%COMP%]{color:#228be6;text-decoration:none;font-weight:500;margin-top:2%;font-size:14px;transition:color .3s ease}.title2[_ngcontent-%COMP%]:hover{color:#08f}"]})}return U})();var Re=L(6220);let We=(()=>{class U{constructor(v,S){this.cacheService=v,this.router=S}canActivate(){return this.userData()?this.userData():(this.userData(),this.router.navigate(["/login"]),!1)}userData(){let v=this.cacheService.getData("token");return!(!v||!(v.emailVerified||""!=v.phoneNumber&&null!=v.phoneNumber))||(this.router.navigate(["/login"]),!1)}static#e=this.\u0275fac=function(S){return new(S||U)(_.KVO(Re._),_.KVO(F.Ix))};static#t=this.\u0275prov=_.jDH({token:U,factory:U.\u0275fac,providedIn:"root"})}return U})();const Ke=["registerationForm"];function yt(U,E){if(1&U){const v=_.RV6();_.j41(0,"i",27),_.bIt("click",function(){_.eBV(v);const N=_.XpG();return _.Njj(N.togglePasswordVisibility())}),_.k0s()}}function At(U,E){if(1&U){const v=_.RV6();_.j41(0,"i",28),_.bIt("click",function(){_.eBV(v);const N=_.XpG();return _.Njj(N.togglePasswordVisibility())}),_.k0s()}}function ut(U,E){if(1&U){const v=_.RV6();_.j41(0,"i",27),_.bIt("click",function(){_.eBV(v);const N=_.XpG();return _.Njj(N.toggleConfirmPasswordVisibility())}),_.k0s()}}function ft(U,E){if(1&U){const v=_.RV6();_.j41(0,"i",28),_.bIt("click",function(){_.eBV(v);const N=_.XpG();return _.Njj(N.toggleConfirmPasswordVisibility())}),_.k0s()}}let Ut=(()=>{class U{constructor(v,S){this.authService=v,this.router=S,this.passwordToggle=!1,this.confirmPasswordToggle=!1}ngOnInit(){}register(){this.registerationForm.valid?this.registerationForm.valid&&this.registerationForm.value.password!=this.registerationForm.value.confirmPassword?alert("Password and Confirm password does not matching"):this.registerationForm.valid&&this.registerationForm.value.password==this.registerationForm.value.confirmPassword&&this.authService.register(this.registerationForm.value):alert("Please enter your registration details")}alreadyHaveAccount(){this.router.navigate(["/login"])}togglePasswordVisibility(){const v=document.getElementById("password");"password"===v.type?(v.type="text",this.passwordToggle=!1):(v.type="password",this.passwordToggle=!0)}toggleConfirmPasswordVisibility(){const v=document.getElementById("confirmPassword");"password"===v.type?(v.type="text",this.confirmPasswordToggle=!1):(v.type="password",this.confirmPasswordToggle=!0)}static#e=this.\u0275fac=function(S){return new(S||U)(_.rXU(_e.u),_.rXU(F.Ix))};static#t=this.\u0275cmp=_.VBU({type:U,selectors:[["app-register"]],viewQuery:function(S,N){if(1&S&&_.GBs(Ke,5),2&S){let Z;_.mGM(Z=_.lsd())&&(N.registerationForm=Z.first)}},decls:39,vars:4,consts:[["registerationForm","ngForm"],[1,"pleaseFillOutFormToRegister"],[3,"ngSubmit"],["for","fullName",1,"fullName"],["type","text","id","fullName","placeholder","Full Name","name","fullName","aria-describedby","fullName","ngModel","","required","",1,"rectangle9"],["for","userName",1,"userName"],["type","text","id","userName","placeholder","User Name","name","userName","aria-describedby","userName","ngModel","","required","",1,"rectangle2"],["for","email",1,"email"],["type","email","id","email","placeholder","Email","name","email","aria-describedby","email","ngModel","","required","",1,"rectangle10"],["for","password",1,"password"],[1,"rectangle3"],["type","password","id","password","placeholder","Password","id","password","name","password","ngModel","","required","",1,"passwordInput"],[1,"passwordIcon"],["class","bx bx-show",3,"click",4,"ngIf"],["class","bx bx-hide",3,"click",4,"ngIf"],["for","confirmPassword",1,"confirmPassword"],[1,"rectangle8"],["type","password","id","confirmPassword","placeholder","Password","id","confirmPassword","name","confirmPassword","ngModel","","required","",1,"passwordInput"],["type","submit",1,"btn"],[1,"yesIHaveAnAccountLogin"],[1,"labelWrapper"],[1,"label"],["href","#login",1,"label2"],[1,"label3"],[1,"rectangle6"],[1,"rectangle7"],[1,"pc-reg"],[1,"bx","bx-show",3,"click"],[1,"bx","bx-hide",3,"click"]],template:function(S,N){if(1&S){const Z=_.RV6();_.j41(0,"div",1),_.EFF(1,"Please Fill out form to Register!"),_.k0s(),_.j41(2,"form",2,0),_.bIt("ngSubmit",function(){return _.eBV(Z),_.Njj(N.register())}),_.j41(4,"label",3),_.EFF(5,"Full name:"),_.k0s(),_.nrm(6,"input",4),_.j41(7,"label",5),_.EFF(8,"Username:"),_.k0s(),_.nrm(9,"input",6),_.j41(10,"label",7),_.EFF(11,"Email:"),_.k0s(),_.nrm(12,"input",8),_.j41(13,"label",9),_.EFF(14,"Password:"),_.k0s(),_.j41(15,"div",10),_.nrm(16,"input",11),_.j41(17,"div",12),_.DNE(18,yt,1,0,"i",13)(19,At,1,0,"i",14),_.k0s()(),_.j41(20,"label",15),_.EFF(21,"Confirm Password:"),_.k0s(),_.j41(22,"div",16),_.nrm(23,"input",17),_.j41(24,"div",12),_.DNE(25,ut,1,0,"i",13)(26,ft,1,0,"i",14),_.k0s()(),_.j41(27,"button",18),_.EFF(28,"Register"),_.k0s()(),_.j41(29,"div",19)(30,"p",20)(31,"span",21),_.EFF(32,"Yes i have an account? "),_.k0s(),_.j41(33,"a",22),_.EFF(34,"Login"),_.k0s(),_.nrm(35,"span",23),_.k0s()(),_.nrm(36,"div",24)(37,"div",25)(38,"div",26)}2&S&&(_.R7$(18),_.Y8G("ngIf",N.passwordToggle),_.R7$(),_.Y8G("ngIf",!N.passwordToggle),_.R7$(6),_.Y8G("ngIf",N.confirmPasswordToggle),_.R7$(),_.Y8G("ngIf",!N.confirmPasswordToggle))},dependencies:[V.bT,ne.qT,ne.me,ne.BC,ne.cb,ne.YS,ne.vS,ne.cV],styles:['[_nghost-%COMP%], *[_ngcontent-%COMP%]{box-sizing:border-box;margin:0;padding:0;background:none;border:none;flex-shrink:0;text-decoration:none;min-width:0;overflow-wrap:anywhere}[_nghost-%COMP%], [_ngcontent-%COMP%]:not(span, a[_ngcontent-%COMP%], ul[_ngcontent-%COMP%], ol[_ngcontent-%COMP%], li[_ngcontent-%COMP%], p)[_ngcontent-%COMP%]{display:flex}ul[_ngcontent-%COMP%], ol[_ngcontent-%COMP%]{text-indent:0;padding-inline-start:1.5em}p[_ngcontent-%COMP%]:empty:before{content:"";display:inline-block}img[_ngcontent-%COMP%]{object-fit:contain}svg[_ngcontent-%COMP%]{overflow:visible}[_nghost-%COMP%]{position:relative;width:100vw;height:100vh;flex-direction:column;align-items:flex-start;background-color:#ebefff;overflow:hidden}.rectangle2[_ngcontent-%COMP%]{position:absolute;left:756px;top:240px;width:367px;height:40px;outline:solid 1px #3a3a3a;outline-offset:-1px;border-radius:5px;background-color:#afb3ff00;padding-left:.8%}.rectangle9[_ngcontent-%COMP%]{position:absolute;left:756px;top:164px;width:367px;height:40px;outline:solid 1px #3a3a3a;outline-offset:-1px;border-radius:5px;background-color:#afb3ff00;padding-left:.8%}.passwordInput[_ngcontent-%COMP%]{padding-left:3.2%}.rectangle3[_ngcontent-%COMP%]{position:absolute;left:758px;top:396px;width:367px;height:40px;outline:solid 1px #3a3a3a;outline-offset:-1px;border-radius:5px;background-color:#afb3ff00}.rectangle10[_ngcontent-%COMP%]{position:absolute;left:756px;top:320px;width:367px;height:40px;outline:solid 1px #3a3a3a;outline-offset:-1px;border-radius:5px;background-color:#afb3ff00;padding-left:.8%}.rectangle8[_ngcontent-%COMP%]{position:absolute;left:758px;top:472px;width:367px;height:40px;outline:solid 1px #3a3a3a;outline-offset:-1px;border-radius:5px;background-color:#afb3ff00}.userName[_ngcontent-%COMP%]{color:#000;font-size:16px;position:absolute;left:756px;top:210px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.fullName[_ngcontent-%COMP%]{color:#000;font-size:16px;position:absolute;left:756px;top:134px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.yesIHaveAnAccountLogin[_ngcontent-%COMP%]{position:absolute;left:838px;top:599px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.labelWrapper[_ngcontent-%COMP%]{font-size:16px;flex-shrink:1}.label[_ngcontent-%COMP%]{color:#000;font-size:16px}.label2[_ngcontent-%COMP%]{color:#000;font-size:16px;font-weight:500}.label3[_ngcontent-%COMP%]{color:#000;font-size:16px}.rectangle4[_ngcontent-%COMP%]{position:absolute;left:760px;top:532px;width:365px;height:40px;border-radius:5px;background-color:#228be6;transition:background-color .3s ease}.rectangle4[_ngcontent-%COMP%]:hover{background-color:#08f}.btn[_ngcontent-%COMP%]{box-sizing:border-box;background-color:#228be6;color:#fff;margin-top:10px;border:none;border-radius:5px;cursor:pointer;margin-bottom:5%;transition:background-color .3s ease;justify-content:center;align-items:center;position:absolute;left:760px;top:534px;width:368px;height:40px;font-size:16px;font-weight:500}.btn[_ngcontent-%COMP%]:hover{background-color:#08f;color:#fff}.rectangle3[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .rectangle8[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none;width:100%}.password[_ngcontent-%COMP%]{color:#000;font-size:16px;position:absolute;left:760px;top:366px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.email[_ngcontent-%COMP%]{color:#000;font-size:16px;position:absolute;left:758px;top:290px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.confirmPassword[_ngcontent-%COMP%]{color:#000;font-size:16px;position:absolute;left:760px;top:442px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.rectangle6[_ngcontent-%COMP%]{transform-origin:top left;position:absolute;left:180.2554px;top:510.0889px;width:635px;height:377px;border-radius:105.5304px;background-color:#228be690;transform:matrix(-.1248,-.9922,.9922,-.1248,0,0)}.rectangle7[_ngcontent-%COMP%]{transform-origin:top left;position:absolute;left:165px;top:536px;width:635px;height:377px;border-radius:105.5304px;background-color:#228be61f;transform:matrix(0,-1,1,0,0,0)}.socialMediaIcons[_ngcontent-%COMP%]{position:absolute;left:917px;top:636px;width:88.2188px;height:24.2188px;overflow:visible}.icon[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.pleaseFillOutFormToRegister[_ngcontent-%COMP%]{color:#1a1a1a;font-size:18px;font-weight:700;position:absolute;left:808px;top:88px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.pc-reg[_ngcontent-%COMP%]{position:absolute;inset:24.5833% 45.3906% 7.0833% 16.7344%;width:420px;height:420px;background-image:url(pc-reg.d15c0a20eefd0708.svg);background-position:center;background-repeat:no-repeat;background-size:contain}.passwordIcon[_ngcontent-%COMP%]{position:absolute;left:335px;top:14px}']})}return U})();var Bt=L(3236),Ge=L(1985),Ve=L(9470);var Xe=L(5779),ue=L(2242);const Se=(U,E,v)=>({$implicit:U,events:E,index:v});function pt(U,E){if(1&U){const v=_.RV6();_.qex(0),_.j41(1,"input",2),_.bIt("input",function(N){_.eBV(v);const Z=_.XpG().$implicit,Ie=_.XpG();return _.Njj(Ie.onInput(N,Z-1))})("focus",function(N){_.eBV(v);const Z=_.XpG(2);return _.Njj(Z.onInputFocus(N))})("blur",function(N){_.eBV(v);const Z=_.XpG(2);return _.Njj(Z.onInputBlur(N))})("paste",function(N){_.eBV(v);const Z=_.XpG(2);return _.Njj(Z.onPaste(N))})("keydown",function(N){_.eBV(v);const Z=_.XpG(2);return _.Njj(Z.onKeyDown(N))}),_.k0s(),_.bVm()}if(2&U){const v=_.XpG().$implicit,S=_.XpG();_.R7$(),_.Y8G("value",S.getModelValue(v))("maxLength",1)("type",S.inputType)("inputmode",S.inputMode)("variant",S.variant)("readonly",S.readonly)("disabled",S.disabled)("invalid",S.invalid)("tabindex",S.tabindex)("unstyled",S.unstyled)}}function Ee(U,E){1&U&&_.eu8(0)}function Ht(U,E){if(1&U&&(_.qex(0),_.DNE(1,Ee,1,0,"ng-container",3),_.bVm()),2&U){const v=_.XpG().$implicit,S=_.XpG();_.R7$(),_.Y8G("ngTemplateOutlet",S.inputTemplate)("ngTemplateOutletContext",_.sMw(2,Se,S.getToken(v-1),S.getTemplateEvents(v-1),v))}}function In(U,E){if(1&U&&(_.qex(0),_.DNE(1,pt,2,10,"ng-container",1)(2,Ht,2,6,"ng-container",1),_.bVm()),2&U){const v=_.XpG();_.R7$(),_.Y8G("ngIf",!v.inputTemplate),_.R7$(),_.Y8G("ngIf",v.inputTemplate)}}const vt={provide:ne.kq,useExisting:(0,_.Rfq)(()=>nn),multi:!0};let nn=(()=>{class U{cd;invalid=!1;disabled=!1;readonly=!1;variant=null;tabindex=null;length=4;mask=!1;integerOnly=!1;onChange=new _.bkB;onFocus=new _.bkB;onBlur=new _.bkB;templates;inputTemplate;tokens=[];onModelChange=()=>{};onModelTouched=()=>{};value;get inputMode(){return this.integerOnly?"number":"text"}get inputType(){return this.mask?"password":"text"}constructor(v){this.cd=v}ngAfterContentInit(){this.templates.forEach(v=>{v.getType(),this.inputTemplate=v.template})}getToken(v){return this.tokens[v]}getTemplateEvents(v){return{input:S=>this.onInput(S,v),keydown:S=>this.onKeyDown(S),focus:S=>this.onFocus.emit(S),blur:S=>this.onBlur.emit(S),paste:S=>this.onPaste(S)}}onInput(v,S){this.tokens[S]=v.target.value,this.updateModel(v),"deleteContentBackward"===v.inputType?this.moveToPrev(v):("insertText"===v.inputType||"deleteContentForward"===v.inputType)&&this.moveToNext(v)}updateModel(v){const S=this.tokens.join("");this.onModelChange(S),this.onChange.emit({originalEvent:v,value:S})}writeValue(v){this.value=v?Array.isArray(v)&&v.length>0?v.slice(0,this.length):v.toString().split("").slice(0,this.length):v,this.updateTokens(),this.cd.markForCheck()}updateTokens(){this.tokens=null!=this.value?Array.isArray(this.value)?[...this.value]:this.value.toString().split(""):[]}getModelValue(v){return this.tokens[v-1]||""}registerOnChange(v){this.onModelChange=v}registerOnTouched(v){this.onModelTouched=v}moveToPrev(v){let S=this.findPrevInput(v.target);S&&(S.focus(),S.select())}moveToNext(v){let S=this.findNextInput(v.target);S&&(S.focus(),S.select())}findNextInput(v){let S=v.nextElementSibling;if(S)return"INPUT"===S.nodeName?S:this.findNextInput(S)}findPrevInput(v){let S=v.previousElementSibling;if(S)return"INPUT"===S.nodeName?S:this.findPrevInput(S)}onInputFocus(v){v.target.select(),this.onFocus.emit(v)}onInputBlur(v){this.onBlur.emit(v)}onKeyDown(v){switch(v.keyCode){case 37:this.moveToPrev(v),v.preventDefault();break;case 38:case 40:v.preventDefault();break;case 8:0===v.target.value.length&&(this.moveToPrev(v),v.preventDefault());break;case 39:this.moveToNext(v),v.preventDefault();break;default:this.integerOnly&&!(v.keyCode>=48&&v.keyCode<=57)&&v.preventDefault()}}onPaste(v){let S=v.clipboardData.getData("text");if(S.length){let N=S.substring(0,this.length+1);(!this.integerOnly||!isNaN(N))&&(this.tokens=N.split(""),this.updateModel(v))}v.preventDefault()}getRange(v){return Array.from({length:v},(S,N)=>N+1)}trackByFn(v){return v}static \u0275fac=function(S){return new(S||U)(_.rXU(_.gRc))};static \u0275cmp=_.VBU({type:U,selectors:[["p-inputOtp"]],contentQueries:function(S,N,Z){if(1&S&&_.wni(Z,Xe.Ei,4),2&S){let Ie;_.mGM(Ie=_.lsd())&&(N.templates=Ie)}},hostAttrs:[1,"p-inputotp","p-component"],inputs:{invalid:"invalid",disabled:"disabled",readonly:"readonly",variant:"variant",tabindex:"tabindex",length:"length",mask:"mask",integerOnly:"integerOnly"},outputs:{onChange:"onChange",onFocus:"onFocus",onBlur:"onBlur"},features:[_.Jv_([vt])],decls:1,vars:2,consts:[[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],["type","text","pInputText","",1,"p-inputotp-input",3,"input","focus","blur","paste","keydown","value","maxLength","type","inputmode","variant","readonly","disabled","invalid","tabindex","unstyled"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(S,N){1&S&&_.DNE(0,In,3,2,"ng-container",0),2&S&&_.Y8G("ngForOf",N.getRange(N.length))("ngForTrackBy",N.trackByFn)},dependencies:[V.Sq,V.bT,V.T3,ue.S],encapsulation:2,changeDetection:0})}return U})(),Ct=(()=>{class U{static \u0275fac=function(S){return new(S||U)};static \u0275mod=_.$C({type:U});static \u0275inj=_.G2t({imports:[V.MD,Xe.Gg,ue.u,Xe.Gg]})}return U})();const Me=["phoneNumberRef"],He=["phoneNumberRef1"];function lt(U,E){1&U&&(_.j41(0,"span",15),_.EFF(1,"Please enter the 6-digit code sent to your phone number "),_.k0s())}function Ze(U,E){if(1&U&&(_.j41(0,"span",15),_.EFF(1),_.k0s()),2&U){const v=_.XpG();_.R7$(),_.Lme("",v.phoneCode,"",v.phoneNumber,"")}}function dt(U,E){1&U&&(_.j41(0,"span",15),_.EFF(1," for verification."),_.k0s())}function Qe(U,E){if(1&U){const v=_.RV6();_.j41(0,"div",16)(1,"p-inputOtp",17),_.mxI("ngModelChange",function(N){_.eBV(v);const Z=_.XpG();return _.DH7(Z.otpEntered,N)||(Z.otpEntered=N),_.Njj(N)}),_.bIt("input",function(){_.eBV(v);const N=_.XpG();return _.Njj(N.onInput())}),_.k0s()()}if(2&U){const v=_.XpG();_.R7$(),_.R50("ngModel",v.otpEntered),_.Y8G("length",6)("integerOnly",!0)}}function Pt(U,E){1&U&&(_.j41(0,"span",15),_.EFF(1,"Didn\u2019t receive any code? "),_.k0s())}function Gt(U,E){if(1&U&&(_.j41(0,"span"),_.EFF(1),_.k0s()),2&U){const v=_.XpG();_.R7$(),_.JRh(v.countdownDisplay)}}function on(U,E){if(1&U){const v=_.RV6();_.j41(0,"button",18),_.bIt("click",function(){_.eBV(v);const N=_.XpG();return _.Njj(N.resendBtn())}),_.EFF(1,"Resend Again"),_.k0s()}}function Mt(U,E){if(1&U){const v=_.RV6();_.j41(0,"input",19),_.mxI("ngModelChange",function(N){_.eBV(v);const Z=_.XpG();return _.DH7(Z.phoneCode,N)||(Z.phoneCode=N),_.Njj(N)}),_.k0s()}if(2&U){const v=_.XpG();_.R50("ngModel",v.phoneCode)}}function fn(U,E){if(1&U){const v=_.RV6();_.j41(0,"input",20,0),_.bIt("input",function(N){_.eBV(v);const Z=_.XpG();return _.Njj(Z.onInputPhone(N))}),_.mxI("ngModelChange",function(N){_.eBV(v);const Z=_.XpG();return _.DH7(Z.phoneNumber,N)||(Z.phoneNumber=N),_.Njj(N)}),_.k0s()}if(2&U){const v=_.XpG();_.R50("ngModel",v.phoneNumber)}}function Dn(U,E){1&U&&(_.j41(0,"span",15),_.EFF(1," First time user? Please update info! "),_.k0s())}function xn(U,E){if(1&U){const v=_.RV6();_.j41(0,"input",21),_.mxI("ngModelChange",function(N){_.eBV(v);const Z=_.XpG();return _.DH7(Z.fullName,N)||(Z.fullName=N),_.Njj(N)}),_.k0s()}if(2&U){const v=_.XpG();_.R50("ngModel",v.fullName)}}function Wn(U,E){if(1&U){const v=_.RV6();_.j41(0,"input",22),_.mxI("ngModelChange",function(N){_.eBV(v);const Z=_.XpG();return _.DH7(Z.userName,N)||(Z.userName=N),_.Njj(N)}),_.k0s()}if(2&U){const v=_.XpG();_.R50("ngModel",v.userName)}}function Qn(U,E){1&U&&_.nrm(0,"div",23)}function Bn(U,E){if(1&U){const v=_.RV6();_.j41(0,"button",24),_.bIt("click",function(){_.eBV(v);const N=_.XpG();return _.Njj(N.sendOtp())}),_.EFF(1,"Send OTP"),_.k0s()}if(2&U){const v=_.XpG();_.Y8G("disabled",v.btnDis)}}function Yt(U,E){if(1&U){const v=_.RV6();_.j41(0,"button",25),_.bIt("click",function(){_.eBV(v);const N=_.XpG();return _.Njj(N.updateData())}),_.EFF(1,"Update"),_.k0s()}}let ir=(()=>{class U{constructor(v){this.authService=v,this.closeModal=new _.bkB,this.phoneCode="+91",this.otpInput=!1,this.phoneInputFlg=!0,this.otpRecaptcha=!1,this.updateInput=!1,this.btnDis=!0,this.countdownTotalSeconds=120,this.showResendBtn=!1,this.countdownTotalSeconds=120}ngOnInit(){setTimeout(()=>{this.phoneNumberRef.nativeElement.focus()},0)}ngAfterViewInit(){setTimeout(()=>{this.phoneNumberRef.nativeElement.select()},0)}resendBtn(){this.countdownTotalSeconds=120,this.showResendBtn=!1,this.sendOtp()}startCountdown(){(function be(U=0,E=Bt.E){return U<0&&(U=0),function ye(U=0,E,v=Bt.b){let S=-1;return null!=E&&((0,Ve.m)(E)?v=E:S=E),new Ge.c(N=>{let Z=function De(U){return U instanceof Date&&!isNaN(U)}(U)?+U-v.now():U;Z<0&&(Z=0);let Ie=0;return v.schedule(function(){N.closed||(N.next(Ie++),0<=S?this.schedule(void 0,S):N.complete())},Z)})}(U,U,E)})(1e3).subscribe(()=>{if(this.countdownTotalSeconds<=0)this.showResendBtn=!0;else{this.countdownTotalSeconds--;const v=Math.floor(this.countdownTotalSeconds/60),S=this.countdownTotalSeconds%60;this.countdownDisplay=`${v.toString().padStart(2,"0")}:${S.toString().padStart(2,"0")}`}})}onInput(){6===this.otpEntered.length&&this.onOTPEntered(this.otpEntered)}onInputPhone(v){10===v.target.value.length&&""!=this.phoneCode?(this.otpRecaptcha=!0,this.btnDis=!1):this.btnDis=!0}onOTPEntered(v){this.authService.verifyCode(this.verificationId,v).then(S=>{this.user=S,this.otpRecaptcha=!1,this.btnDis=!0,this.otpInput=!1,this.phoneInputFlg=!1,this.otpEntered="",!this.user.displayName&&null==this.user.displayName&&(this.updateInput=!0)}).catch(S=>{this.otpRecaptcha=!1,this.updateInput=!1,this.btnDis=!0,this.otpInput=!0,this.phoneInputFlg=!1,this.startCountdown(),this.otpEntered=""})}closePopup(){this.closeModal.emit(),this.otpRecaptcha=!1,this.updateInput=!1,this.btnDis=!0,this.otpInput=!1,this.phoneInputFlg=!0}sendOtp(){this.authService.sendVerificationCode(this.phoneCode+this.phoneNumber).then(S=>{this.otpRecaptcha=!1,this.updateInput=!1,this.btnDis=!0,this.otpInput=!0,this.phoneInputFlg=!1,this.verificationId=S,this.startCountdown()}).catch(S=>{this.otpRecaptcha=!1,this.updateInput=!1,this.btnDis=!1,this.otpInput=!1,this.phoneInputFlg=!0})}updateData(){this.authService.updateInfo(this.user,this.userName,this.fullName),this.closePopup()}static#e=this.\u0275fac=function(S){return new(S||U)(_.rXU(_e.u))};static#t=this.\u0275cmp=_.VBU({type:U,selectors:[["app-phone-auth"]],viewQuery:function(S,N){if(1&S&&(_.GBs(Me,5),_.GBs(He,5)),2&S){let Z;_.mGM(Z=_.lsd())&&(N.phoneNumberRef=Z.first),_.mGM(Z=_.lsd())&&(N.phoneNumberRef1=Z.first)}},outputs:{closeModal:"closeModal"},decls:19,vars:15,consts:[["phoneNumberRef",""],[1,"box"],[1,"popUpHeader"],[1,"pi","pi-times",3,"click"],["class","title1",4,"ngIf"],["class","otp-input",4,"ngIf"],[4,"ngIf"],["class","resendBtn",3,"click",4,"ngIf"],["type","text","class","phoneCode",3,"ngModel","ngModelChange",4,"ngIf"],["type","text","class","phoneInput","placeholder","Phone Number",3,"ngModel","input","ngModelChange",4,"ngIf"],["type","text","class","InputFirstName","placeholder","Full Name",3,"ngModel","ngModelChange",4,"ngIf"],["type","text","class","Inputs","placeholder","User Name",3,"ngModel","ngModelChange",4,"ngIf"],["id","recaptcha-container",4,"ngIf"],["class","sendOtpBtn",3,"disabled","click",4,"ngIf"],["class","updateBtn",3,"click",4,"ngIf"],[1,"title1"],[1,"otp-input"],[3,"ngModelChange","input","ngModel","length","integerOnly"],[1,"resendBtn",3,"click"],["type","text",1,"phoneCode",3,"ngModelChange","ngModel"],["type","text","placeholder","Phone Number",1,"phoneInput",3,"input","ngModelChange","ngModel"],["type","text","placeholder","Full Name",1,"InputFirstName",3,"ngModelChange","ngModel"],["type","text","placeholder","User Name",1,"Inputs",3,"ngModelChange","ngModel"],["id","recaptcha-container"],[1,"sendOtpBtn",3,"click","disabled"],[1,"updateBtn",3,"click"]],template:function(S,N){1&S&&(_.j41(0,"div",1)(1,"div",2),_.nrm(2,"div"),_.j41(3,"i",3),_.bIt("click",function(){return N.closePopup()}),_.k0s()(),_.DNE(4,lt,2,0,"span",4)(5,Ze,2,2,"span",4)(6,dt,2,0,"span",4)(7,Qe,2,3,"div",5)(8,Pt,2,0,"span",4)(9,Gt,2,1,"span",6)(10,on,2,0,"button",7)(11,Mt,1,1,"input",8)(12,fn,2,1,"input",9)(13,Dn,2,0,"span",4)(14,xn,1,1,"input",10)(15,Wn,1,1,"input",11)(16,Qn,1,0,"div",12)(17,Bn,2,1,"button",13)(18,Yt,2,0,"button",14),_.k0s()),2&S&&(_.R7$(4),_.Y8G("ngIf",N.otpInput),_.R7$(),_.Y8G("ngIf",N.otpInput),_.R7$(),_.Y8G("ngIf",N.otpInput),_.R7$(),_.Y8G("ngIf",N.otpInput),_.R7$(),_.Y8G("ngIf",N.otpInput),_.R7$(),_.Y8G("ngIf",N.otpInput&&!N.showResendBtn),_.R7$(),_.Y8G("ngIf",N.otpInput&&N.showResendBtn),_.R7$(),_.Y8G("ngIf",N.phoneInputFlg),_.R7$(),_.Y8G("ngIf",N.phoneInputFlg),_.R7$(),_.Y8G("ngIf",N.updateInput),_.R7$(),_.Y8G("ngIf",N.updateInput),_.R7$(),_.Y8G("ngIf",N.updateInput),_.R7$(),_.Y8G("ngIf",N.otpRecaptcha),_.R7$(),_.Y8G("ngIf",N.phoneInputFlg),_.R7$(),_.Y8G("ngIf",N.updateInput))},dependencies:[V.bT,ne.me,ne.BC,ne.vS,nn],styles:[".modal-content[_ngcontent-%COMP%]{margin-top:150px;position:relative;display:flex;flex-direction:column;width:100%;color:var(--bs-modal-color);pointer-events:auto;background-clip:padding-box;outline:0}.modal-body[_ngcontent-%COMP%]{position:relative;flex:1 1 auto;padding:var(--bs-modal-padding)}.phoneInput[_ngcontent-%COMP%]{padding-left:14%;border-radius:5px;border:solid 1px #3a3a3a;outline:none;height:40px;width:80%;margin-bottom:4%}.InputFirstName[_ngcontent-%COMP%]{padding-left:2%;border-radius:5px;border:solid 1px #3a3a3a;outline:none;height:40px;width:80%;margin-bottom:4%;margin-top:20px}.Inputs[_ngcontent-%COMP%]{padding-left:2%;border-radius:5px;border:solid 1px #3a3a3a;outline:none;height:40px;width:80%;margin-bottom:4%}.popUpHeader[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-right:20px;margin-bottom:20px}.box[_ngcontent-%COMP%]{flex-direction:row;text-align:center;background-color:#fff;padding:25px 10px;border-radius:10px;width:400px;height:100%;box-shadow:0 0 10px #0003}.updateBtn[_ngcontent-%COMP%], .sendOtpBtn[_ngcontent-%COMP%]{background-color:#228be6;color:#fff;margin-top:10px;height:40px;width:80%;padding:5px;border:none;border-radius:5px;cursor:pointer;margin-bottom:5%;transition:background-color .3s ease}.sendOtpBtn[_ngcontent-%COMP%]:disabled{background-color:gray}.otp-input[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin-bottom:20px;margin-top:20px}.phoneCode[_ngcontent-%COMP%]{outline:none;position:absolute;width:40px;height:35px;margin-top:3px;margin-left:5px;text-align:center;padding-bottom:2px;border:none;border-right:solid 1px #3a3a3a}.otp-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:40px;height:40px;margin-right:10px;text-align:center;font-size:16px;border:1px solid #ccc;border-radius:5px}.otp-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:last-child{margin-right:0}.resendBtn[_ngcontent-%COMP%]{color:#228be6;text-decoration:none;font-weight:500;margin-top:2%;font-size:14px;transition:color .3s ease;background:none;outline:none;border:none;padding:1.2% 2%}.resendBtn[_ngcontent-%COMP%]:hover{color:#0067ff;background-color:#bdd6ff;outline:none;border-radius:5px;border:none}.title1[_ngcontent-%COMP%]{margin-bottom:2%;color:gray;font-size:14px}"]})}return U})();const Ot=["loginForm"],Nn=U=>({display:U}),jn=U=>({"blur-background":U});function Er(U,E){if(1&U){const v=_.RV6();_.j41(0,"i",35),_.bIt("click",function(){_.eBV(v);const N=_.XpG();return _.Njj(N.togglePasswordVisibility())}),_.k0s()}}function Dr(U,E){if(1&U){const v=_.RV6();_.j41(0,"i",36),_.bIt("click",function(){_.eBV(v);const N=_.XpG();return _.Njj(N.togglePasswordVisibility())}),_.k0s()}}const er=[{path:"",redirectTo:"/tasks",pathMatch:"full"},{path:"tasks",loadChildren:()=>L.e(858).then(L.bind(L,2858)).then(U=>U.AdminModule),canActivate:[We]},{path:"login",component:(()=>{class U{constructor(v,S){this.authService=v,this.router=S,this.passwordToggle=!1,this.displayPhoneModal="none"}openModal(){this.displayPhoneModal="flex"}closeModal(){this.displayPhoneModal="none"}login(v){this.loginForm.valid?this.authService.signIn(v.email,v.password,v.rememberMe):alert("Please enter your email and password")}forgotPass(){this.router.navigate(["/forgot-password"])}togglePasswordVisibility(){const v=document.getElementById("password");"password"===v.type?(v.type="text",this.passwordToggle=!1):(v.type="password",this.passwordToggle=!0)}signInWithGoogle(){this.authService.singInWithGoogle()}signInWithGithub(){this.authService.singInWithGithub()}static#e=this.\u0275fac=function(S){return new(S||U)(_.rXU(_e.u),_.rXU(F.Ix))};static#t=this.\u0275cmp=_.VBU({type:U,selectors:[["app-login"]],viewQuery:function(S,N){if(1&S&&_.GBs(Ot,5),2&S){let Z;_.mGM(Z=_.lsd())&&(N.loginForm=Z.first)}},decls:45,vars:8,consts:[["loginForm","ngForm"],[1,"rectangle1"],[1,"pc-login"],[1,"welcomeBack"],[3,"ngSubmit"],["for","exampleInputEmail",1,"username"],["type","email","id","exampleInputEmail","placeholder","Email","name","email","aria-describedby","emailHelp","ngModel","","required","",1,"rectangle2"],["for","exampleInputPassword",1,"password"],[1,"rectangle3"],["type","password","id","exampleInputPassword","placeholder","Password","id","password","name","password","ngModel","","required","",1,"passwordInput"],[1,"passwordIcon"],["class","bx bx-show",3,"click",4,"ngIf"],["class","bx bx-hide",3,"click",4,"ngIf"],[1,"dontHaveAndAccountRegister1"],[1,"labelWrapper1"],["type","checkbox","id","rememberMe","name","rememberMe","ngModel",""],["for","rememberMe",1,"rememberMe"],["href","#forgot-password",1,"forgotPassword"],[1,"dontHaveAndAccountRegister"],[1,"labelWrapper"],[1,"label"],["href","#register",1,"label2"],["type","submit",1,"btn"],[1,"socialMediaIcons"],[3,"click"],["src","assets/google.svg","alt","",1,"icon"],["src","assets/github.svg","alt","",1,"icon"],["data-toggle","modal","data-target","#myPhoneModal",1,"pi","pi-phone","phoneIcon",3,"click"],[1,"rectangle5"],[1,"rectangle6"],["id","myPhoneModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal",3,"ngStyle","ngClass"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-body"],[3,"closeModal"],[1,"bx","bx-show",3,"click"],[1,"bx","bx-hide",3,"click"]],template:function(S,N){if(1&S){const Z=_.RV6();_.nrm(0,"div",1)(1,"div",2),_.j41(2,"div",3),_.EFF(3,"Welcome Back!"),_.k0s(),_.j41(4,"form",4,0),_.bIt("ngSubmit",function(){_.eBV(Z);const Ae=_.sdS(5);return _.Njj(N.login(Ae.value))}),_.j41(6,"label",5),_.EFF(7,"Email:"),_.k0s(),_.nrm(8,"input",6),_.j41(9,"label",7),_.EFF(10,"Password:"),_.k0s(),_.j41(11,"div",8),_.nrm(12,"input",9),_.j41(13,"div",10),_.DNE(14,Er,1,0,"i",11)(15,Dr,1,0,"i",12),_.k0s()(),_.j41(16,"div",13)(17,"div",14)(18,"div"),_.nrm(19,"input",15),_.j41(20,"span",16),_.EFF(21,"Remember Me"),_.k0s()(),_.j41(22,"a",17),_.EFF(23,"Forgot Password"),_.k0s()()(),_.j41(24,"div",18)(25,"p",19)(26,"span",20),_.EFF(27,"Dont have and account? "),_.k0s(),_.j41(28,"a",21),_.EFF(29,"Register"),_.k0s()()(),_.j41(30,"button",22),_.EFF(31,"Login"),_.k0s(),_.j41(32,"div",23)(33,"a",24),_.bIt("click",function(){return _.eBV(Z),_.Njj(N.signInWithGoogle())}),_.nrm(34,"img",25),_.k0s(),_.j41(35,"a",24),_.bIt("click",function(){return _.eBV(Z),_.Njj(N.signInWithGithub())}),_.nrm(36,"img",26),_.k0s(),_.j41(37,"i",27),_.bIt("click",function(){return _.eBV(Z),_.Njj(N.openModal())}),_.k0s()()(),_.nrm(38,"div",28)(39,"div",29),_.j41(40,"div",30)(41,"div",31)(42,"div",32)(43,"div",33)(44,"app-phone-auth",34),_.bIt("closeModal",function(){return _.eBV(Z),_.Njj(N.closeModal())}),_.k0s()()()()()}2&S&&(_.R7$(14),_.Y8G("ngIf",N.passwordToggle),_.R7$(),_.Y8G("ngIf",!N.passwordToggle),_.R7$(25),_.Y8G("ngStyle",_.eq3(4,Nn,N.displayPhoneModal))("ngClass",_.eq3(6,jn,N.displayPhoneModal)))},dependencies:[V.YU,V.bT,V.B3,ne.qT,ne.me,ne.Zm,ne.BC,ne.cb,ne.YS,ne.vS,ne.cV,ir],styles:['[_nghost-%COMP%], *[_ngcontent-%COMP%]{box-sizing:border-box;margin:0;padding:0;background:none;border:none;flex-shrink:0;text-decoration:none;min-width:0;overflow-wrap:anywhere}[_nghost-%COMP%], [_ngcontent-%COMP%]:not(span, a[_ngcontent-%COMP%], ul[_ngcontent-%COMP%], ol[_ngcontent-%COMP%], li[_ngcontent-%COMP%], p)[_ngcontent-%COMP%]{display:flex}ul[_ngcontent-%COMP%], ol[_ngcontent-%COMP%]{text-indent:0;padding-inline-start:1.5em}p[_ngcontent-%COMP%]:empty:before{content:"";display:inline-block}img[_ngcontent-%COMP%]{object-fit:contain}svg[_ngcontent-%COMP%]{overflow:visible}[_nghost-%COMP%]{position:relative;width:100vw;height:100vh;flex-direction:column;align-items:flex-start;background-color:#ebefff;overflow:hidden}.rectangle1[_ngcontent-%COMP%]{position:absolute;left:842px;top:0;width:100%;height:100%;background-color:#228be62f}.socialMediaIcons[_ngcontent-%COMP%]{position:absolute;left:256px;top:530px;width:40px;height:35px;overflow:visible}.icon[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.rectangle2[_ngcontent-%COMP%]{position:absolute;left:122px;top:250px;width:367px;height:40px;padding-left:.8%;outline:solid 1px #3a3a3a;outline-offset:-1px;border-radius:5px;background-color:#afb3ff00}.rectangle28[_ngcontent-%COMP%]{position:absolute;left:122px;top:20px;width:367px;height:40px;padding-left:.8%;outline:solid 1px #3a3a3a;outline-offset:-1px;border-radius:5px;background-color:#afb3ff00}.passwordIcon[_ngcontent-%COMP%]{position:absolute;left:335px;top:14px}.rectangle3[_ngcontent-%COMP%]{position:absolute;left:122px;top:326px;width:367px;height:40px;outline:solid 1px #3a3a3a;outline-offset:-1px;border-radius:5px;background-color:#afb3ff00}.rectangle3[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none;width:90%}.username[_ngcontent-%COMP%]{color:#000;font-size:16px;position:absolute;left:122px;top:220px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.dontHaveAndAccountRegister1[_ngcontent-%COMP%]{position:absolute;left:134px;top:382px;width:350px;height:min-content;white-space:nowrap;flex-direction:column}.rememberMe[_ngcontent-%COMP%]{margin-left:6%}.dontHaveAndAccountRegister[_ngcontent-%COMP%]{position:absolute;left:188px;top:480px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.labelWrapper[_ngcontent-%COMP%]{font-size:16px;flex-shrink:1;margin-top:6px}.blur-background[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(1px);backdrop-filter:blur(1px);display:flex;align-items:center;justify-content:center;transition:-webkit-backdrop-filter .5s ease;transition:backdrop-filter .5s ease;transition:backdrop-filter .5s ease,-webkit-backdrop-filter .5s ease}.labelWrapper1[_ngcontent-%COMP%]{font-size:16px;display:flex;justify-content:space-between;align-items:center;margin-left:-10px}.label[_ngcontent-%COMP%]{color:#000;font-size:16px}.label2[_ngcontent-%COMP%]{color:#000;font-size:16px;font-weight:500}.forgotPassword[_ngcontent-%COMP%]{color:#000;font-size:16px;font-weight:500;margin-left:30%}.welcomeBack[_ngcontent-%COMP%]{color:#1a1a1a;font-size:20px;font-weight:700;position:absolute;left:240px;top:165px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.passwordInput[_ngcontent-%COMP%]{padding-left:3.2%}.btn[_ngcontent-%COMP%]{background-color:#228be6;color:#fff;margin-top:10px;border:none;border-radius:5px;cursor:pointer;margin-bottom:5%;transition:background-color .3s ease;justify-content:center;align-items:center;position:absolute;left:124px;top:420px;width:368px;height:40px;font-size:16px;font-weight:500}.phoneIcon[_ngcontent-%COMP%]{font-size:1.5rem;margin-top:6px;margin-left:5px;color:#0079e2;font-weight:700}.modal-content[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;width:100%;color:var(--bs-modal-color);pointer-events:auto;background-clip:padding-box;outline:0}.modal-body[_ngcontent-%COMP%]{position:relative;flex:1 1 auto;padding:var(--bs-modal-padding)}.btn[_ngcontent-%COMP%]:hover{background-color:#08f;color:#fff}.rectangle4[_ngcontent-%COMP%]{position:absolute;left:124px;top:420px;width:365px;height:40px;border-radius:5px;background-color:#228be6;transition:background-color .3s ease}.rectangle4[_ngcontent-%COMP%]:hover{background-color:#08f}.login[_ngcontent-%COMP%]{color:#fff;font-size:16px;font-weight:500;position:absolute;left:285px;top:427px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.password[_ngcontent-%COMP%]{color:#000;font-size:16px;position:absolute;left:124px;top:296px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.rectangle5[_ngcontent-%COMP%]{transform-origin:top left;position:absolute;left:-287px;top:912.3164px;width:596.734px;height:141.396px;border-radius:105.5304px;background-color:#228be690;transform:matrix(.7535,-.6574,.6574,.7535,0,0)}.rectangle6[_ngcontent-%COMP%]{transform-origin:top left;position:absolute;left:-252px;top:895.0518px;width:553.7418px;height:131.209px;border-radius:105.5304px;background-color:#2b3a4755;transform:matrix(.7535,-.6574,.6574,.7535,0,0)}.pc-login[_ngcontent-%COMP%]{position:absolute;left:565px;top:-37px;width:600px;height:590px;flex-direction:column;align-items:flex-start;right:0;background-image:url(pc-login.e75ae37e4f5b2e76.svg);background-position:center;background-repeat:no-repeat;background-size:cover}']})}return U})()},{path:"register",component:Ut},{path:"verify-email",component:de},{path:"forgot-password",component:le}];let an=(()=>{class U{static#e=this.\u0275fac=function(S){return new(S||U)};static#t=this.\u0275mod=_.$C({type:U});static#n=this.\u0275inj=_.G2t({imports:[F.iI.forRoot(er,{preloadingStrategy:F.Kp}),F.iI]})}return U})();var dn=L(7515);function xr(U,E){1&U&&(_.j41(0,"div",1),_.nrm(1,"p-progressSpinner",2),_.k0s())}let Ye=(()=>{class U{constructor(v){this.authService=v,this.title="tasks",this.showLoader=!1,this.authService.getLoaderValue().subscribe(S=>{this.showLoader=S})}static#e=this.\u0275fac=function(S){return new(S||U)(_.rXU(_e.u))};static#t=this.\u0275cmp=_.VBU({type:U,selectors:[["app-root"]],decls:2,vars:1,consts:[["class","progress-spinner",4,"ngIf"],[1,"progress-spinner"],["ariaLabel","loading","strokeWidth","3","animationDuration","1s",1,"p-progress-spinner-circle"]],template:function(S,N){1&S&&(_.DNE(0,xr,2,0,"div",0),_.nrm(1,"router-outlet")),2&S&&_.Y8G("ngIf",N.showLoader)},dependencies:[V.bT,F.n3,dn.p],styles:['.progress-spinner[_ngcontent-%COMP%]{position:fixed;z-index:9999;height:1rem;width:1rem;overflow:show;margin:auto;inset:0}.progress-spinner[_ngcontent-%COMP%]:before{content:"";display:block;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#9b9b9b87}']})}return U})();var Jt=L(1626),ge=L(9969);function bt(U){return new _.wOt(3e3,!1)}function $e(U){switch(U.length){case 0:return new ge.sf;case 1:return U[0];default:return new ge.ui(U)}}function _t(U,E,v=new Map,S=new Map){const N=[],Z=[];let Ie=-1,Ae=null;if(E.forEach(Ce=>{const Ue=Ce.get("offset"),St=Ue==Ie,Ft=St&&Ae||new Map;Ce.forEach((sn,wn)=>{let _n=wn,Qt=sn;if("offset"!==wn)switch(_n=U.normalizePropertyName(_n,N),Qt){case ge.FX:Qt=v.get(wn);break;case ge.kp:Qt=S.get(wn);break;default:Qt=U.normalizeStyleValue(wn,_n,Qt,N)}Ft.set(_n,Qt)}),St||Z.push(Ft),Ae=Ft,Ie=Ue}),N.length)throw function Gn(U){return new _.wOt(3502,!1)}();return Z}function Xt(U,E,v,S){switch(E){case"start":U.onStart(()=>S(v&&On(v,"start",U)));break;case"done":U.onDone(()=>S(v&&On(v,"done",U)));break;case"destroy":U.onDestroy(()=>S(v&&On(v,"destroy",U)))}}function On(U,E,v){const Z=te(U.element,U.triggerName,U.fromState,U.toState,E||U.phaseName,v.totalTime??U.totalTime,!!v.disabled),Ie=U._data;return null!=Ie&&(Z._data=Ie),Z}function te(U,E,v,S,N="",Z=0,Ie){return{element:U,triggerName:E,fromState:v,toState:S,phaseName:N,totalTime:Z,disabled:!!Ie}}function pe(U,E,v){let S=U.get(E);return S||U.set(E,S=v),S}function we(U){const E=U.indexOf(":");return[U.substring(1,E),U.slice(E+1)]}const nt=typeof document>"u"?null:document.documentElement;function rt(U){const E=U.parentNode||U.host||null;return E===nt?null:E}let kt=null,mn=!1;function br(U,E){for(;E;){if(E===U)return!0;E=rt(E)}return!1}function ai(U,E,v){if(v)return Array.from(U.querySelectorAll(E));const S=U.querySelector(E);return S?[S]:[]}let li=(()=>{class U{validateStyleProperty(v){return function Cn(U){kt||(kt=function wr(){return typeof document<"u"?document.body:null}()||{},mn=!!kt.style&&"WebkitAppearance"in kt.style);let E=!0;return kt.style&&!function xt(U){return"ebkit"==U.substring(1,6)}(U)&&(E=U in kt.style,!E&&mn&&(E="Webkit"+U.charAt(0).toUpperCase()+U.slice(1)in kt.style)),E}(v)}matchesElement(v,S){return!1}containsElement(v,S){return br(v,S)}getParentElement(v){return rt(v)}query(v,S,N){return ai(v,S,N)}computeStyle(v,S,N){return N||""}animate(v,S,N,Z,Ie,Ae=[],Ce){return new ge.sf(N,Z)}static#e=this.\u0275fac=function(S){return new(S||U)};static#t=this.\u0275prov=_.jDH({token:U,factory:U.\u0275fac})}return U})();class Zn{static#e=this.NOOP=new li}class nr{}const qr=1e3,_r="ng-enter",ci="ng-leave",Tn="ng-trigger",Xn=".ng-trigger",vo="ng-animating",ji=".ng-animating";function Xr(U){if("number"==typeof U)return U;const E=U.match(/^(-?[\.\d]+)(m?s)/);return!E||E.length<2?0:Bo(parseFloat(E[1]),E[2])}function Bo(U,E){return"s"===E?U*qr:U}function Us(U,E,v){return U.hasOwnProperty("duration")?U:function Bs(U,E,v){let N,Z=0,Ie="";if("string"==typeof U){const Ae=U.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Ae)return E.push(bt()),{duration:0,delay:0,easing:""};N=Bo(parseFloat(Ae[1]),Ae[2]);const Ce=Ae[3];null!=Ce&&(Z=Bo(parseFloat(Ce),Ae[4]));const Ue=Ae[5];Ue&&(Ie=Ue)}else N=U;if(!v){let Ae=!1,Ce=E.length;N<0&&(E.push(function It(){return new _.wOt(3100,!1)}()),Ae=!0),Z<0&&(E.push(function zn(){return new _.wOt(3101,!1)}()),Ae=!0),Ae&&E.splice(Ce,0,bt())}return{duration:N,delay:Z,easing:Ie}}(U,E,v)}function zi(U,E,v){E.forEach((S,N)=>{const Z=Ho(N);v&&!v.has(N)&&v.set(N,U.style[Z]),U.style[Z]=S})}function Yr(U,E){E.forEach((v,S)=>{const N=Ho(S);U.style[N]=""})}function ms(U){return Array.isArray(U)?1==U.length?U[0]:(0,ge.K2)(U):U}const jo=new RegExp("{{\\s*(.+?)\\s*}}","g");function Ki(U){let E=[];if("string"==typeof U){let v;for(;v=jo.exec(U);)E.push(v[1]);jo.lastIndex=0}return E}function es(U,E,v){const S=`${U}`,N=S.replace(jo,(Z,Ie)=>{let Ae=E[Ie];return null==Ae&&(v.push(function kn(U){return new _.wOt(3003,!1)}()),Ae=""),Ae.toString()});return N==S?U:N}const _s=/-+([a-z0-9])/g;function Ho(U){return U.replace(_s,(...E)=>E[1].toUpperCase())}function Zr(U,E,v){switch(E.type){case ge.If.Trigger:return U.visitTrigger(E,v);case ge.If.State:return U.visitState(E,v);case ge.If.Transition:return U.visitTransition(E,v);case ge.If.Sequence:return U.visitSequence(E,v);case ge.If.Group:return U.visitGroup(E,v);case ge.If.Animate:return U.visitAnimate(E,v);case ge.If.Keyframes:return U.visitKeyframes(E,v);case ge.If.Style:return U.visitStyle(E,v);case ge.If.Reference:return U.visitReference(E,v);case ge.If.AnimateChild:return U.visitAnimateChild(E,v);case ge.If.AnimateRef:return U.visitAnimateRef(E,v);case ge.If.Query:return U.visitQuery(E,v);case ge.If.Stagger:return U.visitStagger(E,v);default:throw function Sn(U){return new _.wOt(3004,!1)}()}}function Ci(U,E){return window.getComputedStyle(U)[E]}const Ai=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Eo extends nr{normalizePropertyName(E,v){return Ho(E)}normalizeStyleValue(E,v,S,N){let Z="";const Ie=S.toString().trim();if(Ai.has(v)&&0!==S&&"0"!==S)if("number"==typeof S)Z="px";else{const Ae=S.match(/^[+-]?[\d\.]+([a-z]*)$/);Ae&&0==Ae[1].length&&N.push(function ar(U,E){return new _.wOt(3005,!1)}())}return Ie+Z}}const Ps="*";const qi=new Set(["true","1"]),To=new Set(["false","0"]);function wi(U,E){const v=qi.has(U)||To.has(U),S=qi.has(E)||To.has(E);return(N,Z)=>{let Ie=U==Ps||U==N,Ae=E==Ps||E==Z;return!Ie&&v&&"boolean"==typeof N&&(Ie=N?qi.has(U):To.has(U)),!Ae&&S&&"boolean"==typeof Z&&(Ae=Z?qi.has(E):To.has(E)),Ie&&Ae}}const ns=new RegExp("s*:selfs*,?","g");function no(U,E,v,S){return new hr(U).build(E,v,S)}class hr{constructor(E){this._driver=E}build(E,v,S){const N=new rs(v);return this._resetContextStyleTimingState(N),Zr(this,ms(E),N)}_resetContextStyleTimingState(E){E.currentQuerySelector="",E.collectedStyles=new Map,E.collectedStyles.set("",new Map),E.currentTime=0}visitTrigger(E,v){let S=v.queryCount=0,N=v.depCount=0;const Z=[],Ie=[];return"@"==E.name.charAt(0)&&v.errors.push(function Rr(){return new _.wOt(3006,!1)}()),E.definitions.forEach(Ae=>{if(this._resetContextStyleTimingState(v),Ae.type==ge.If.State){const Ce=Ae,Ue=Ce.name;Ue.toString().split(/\s*,\s*/).forEach(St=>{Ce.name=St,Z.push(this.visitState(Ce,v))}),Ce.name=Ue}else if(Ae.type==ge.If.Transition){const Ce=this.visitTransition(Ae,v);S+=Ce.queryCount,N+=Ce.depCount,Ie.push(Ce)}else v.errors.push(function Wr(){return new _.wOt(3007,!1)}())}),{type:ge.If.Trigger,name:E.name,states:Z,transitions:Ie,queryCount:S,depCount:N,options:null}}visitState(E,v){const S=this.visitStyle(E.styles,v),N=E.options&&E.options.params||null;if(S.containsDynamicStyles){const Z=new Set,Ie=N||{};S.styles.forEach(Ae=>{Ae instanceof Map&&Ae.forEach(Ce=>{Ki(Ce).forEach(Ue=>{Ie.hasOwnProperty(Ue)||Z.add(Ue)})})}),Z.size&&v.errors.push(function fi(U,E){return new _.wOt(3008,!1)}(0,Z.values()))}return{type:ge.If.State,name:E.name,style:S,options:N?{params:N}:null}}visitTransition(E,v){v.queryCount=0,v.depCount=0;const S=Zr(this,ms(E.animation),v),N=function wo(U,E){const v=[];return"string"==typeof U?U.split(/\s*,\s*/).forEach(S=>function to(U,E,v){if(":"==U[0]){const Ce=function ts(U,E){switch(U){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(v,S)=>parseFloat(S)>parseFloat(v);case":decrement":return(v,S)=>parseFloat(S)<parseFloat(v);default:return E.push(function ke(U){return new _.wOt(3016,!1)}()),"* => *"}}(U,v);if("function"==typeof Ce)return void E.push(Ce);U=Ce}const S=U.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==S||S.length<4)return v.push(function X(U){return new _.wOt(3015,!1)}()),E;const N=S[1],Z=S[2],Ie=S[3];E.push(wi(N,Ie)),"<"==Z[0]&&(N!=Ps||Ie!=Ps)&&E.push(wi(Ie,N))}(S,v,E)):v.push(U),v}(E.expr,v.errors);return{type:ge.If.Transition,matchers:N,animation:S,queryCount:v.queryCount,depCount:v.depCount,options:Hs(E.options)}}visitSequence(E,v){return{type:ge.If.Sequence,steps:E.steps.map(S=>Zr(this,S,v)),options:Hs(E.options)}}visitGroup(E,v){const S=v.currentTime;let N=0;const Z=E.steps.map(Ie=>{v.currentTime=S;const Ae=Zr(this,Ie,v);return N=Math.max(N,v.currentTime),Ae});return v.currentTime=N,{type:ge.If.Group,steps:Z,options:Hs(E.options)}}visitAnimate(E,v){const S=function Es(U,E){if(U.hasOwnProperty("duration"))return U;if("number"==typeof U)return io(Us(U,E).duration,0,"");const v=U;if(v.split(/\s+/).some(Z=>"{"==Z.charAt(0)&&"{"==Z.charAt(1))){const Z=io(0,0,"");return Z.dynamic=!0,Z.strValue=v,Z}const N=Us(v,E);return io(N.duration,N.delay,N.easing)}(E.timings,v.errors);v.currentAnimateTimings=S;let N,Z=E.styles?E.styles:(0,ge.iF)({});if(Z.type==ge.If.Keyframes)N=this.visitKeyframes(Z,v);else{let Ie=E.styles,Ae=!1;if(!Ie){Ae=!0;const Ue={};S.easing&&(Ue.easing=S.easing),Ie=(0,ge.iF)(Ue)}v.currentTime+=S.duration+S.delay;const Ce=this.visitStyle(Ie,v);Ce.isEmptyStep=Ae,N=Ce}return v.currentAnimateTimings=null,{type:ge.If.Animate,timings:S,style:N,options:null}}visitStyle(E,v){const S=this._makeStyleAst(E,v);return this._validateStyleAst(S,v),S}_makeStyleAst(E,v){const S=[],N=Array.isArray(E.styles)?E.styles:[E.styles];for(let Ae of N)"string"==typeof Ae?Ae===ge.kp?S.push(Ae):v.errors.push(new _.wOt(3002,!1)):S.push(new Map(Object.entries(Ae)));let Z=!1,Ie=null;return S.forEach(Ae=>{if(Ae instanceof Map&&(Ae.has("easing")&&(Ie=Ae.get("easing"),Ae.delete("easing")),!Z))for(let Ce of Ae.values())if(Ce.toString().indexOf("{{")>=0){Z=!0;break}}),{type:ge.If.Style,styles:S,easing:Ie,offset:E.offset,containsDynamicStyles:Z,options:null}}_validateStyleAst(E,v){const S=v.currentAnimateTimings;let N=v.currentTime,Z=v.currentTime;S&&Z>0&&(Z-=S.duration+S.delay),E.styles.forEach(Ie=>{"string"!=typeof Ie&&Ie.forEach((Ae,Ce)=>{const Ue=v.collectedStyles.get(v.currentQuerySelector),St=Ue.get(Ce);let Ft=!0;St&&(Z!=N&&Z>=St.startTime&&N<=St.endTime&&(v.errors.push(function qe(U,E,v,S,N){return new _.wOt(3010,!1)}()),Ft=!1),Z=St.startTime),Ft&&Ue.set(Ce,{startTime:Z,endTime:N}),v.options&&function ca(U,E,v){const S=E.params||{},N=Ki(U);N.length&&N.forEach(Z=>{S.hasOwnProperty(Z)||v.push(function rn(U){return new _.wOt(3001,!1)}())})}(Ae,v.options,v.errors)})})}visitKeyframes(E,v){const S={type:ge.If.Keyframes,styles:[],options:null};if(!v.currentAnimateTimings)return v.errors.push(function me(){return new _.wOt(3011,!1)}()),S;let Z=0;const Ie=[];let Ae=!1,Ce=!1,Ue=0;const St=E.steps.map(mt=>{const Kt=this._makeStyleAst(mt,v);let Ar=null!=Kt.offset?Kt.offset:function Co(U){if("string"==typeof U)return null;let E=null;if(Array.isArray(U))U.forEach(v=>{if(v instanceof Map&&v.has("offset")){const S=v;E=parseFloat(S.get("offset")),S.delete("offset")}});else if(U instanceof Map&&U.has("offset")){const v=U;E=parseFloat(v.get("offset")),v.delete("offset")}return E}(Kt.styles),Ti=0;return null!=Ar&&(Z++,Ti=Kt.offset=Ar),Ce=Ce||Ti<0||Ti>1,Ae=Ae||Ti<Ue,Ue=Ti,Ie.push(Ti),Kt});Ce&&v.errors.push(function Oe(){return new _.wOt(3012,!1)}()),Ae&&v.errors.push(function ae(){return new _.wOt(3200,!1)}());const Ft=E.steps.length;let sn=0;Z>0&&Z<Ft?v.errors.push(function he(){return new _.wOt(3202,!1)}()):0==Z&&(sn=1/(Ft-1));const wn=Ft-1,_n=v.currentTime,Qt=v.currentAnimateTimings,fr=Qt.duration;return St.forEach((mt,Kt)=>{const Ar=sn>0?Kt==wn?1:sn*Kt:Ie[Kt],Ti=Ar*fr;v.currentTime=_n+Qt.delay+Ti,Qt.duration=Ti,this._validateStyleAst(mt,v),mt.offset=Ar,S.styles.push(mt)}),S}visitReference(E,v){return{type:ge.If.Reference,animation:Zr(this,ms(E.animation),v),options:Hs(E.options)}}visitAnimateChild(E,v){return v.depCount++,{type:ge.If.AnimateChild,options:Hs(E.options)}}visitAnimateRef(E,v){return{type:ge.If.AnimateRef,animation:this.visitReference(E.animation,v),options:Hs(E.options)}}visitQuery(E,v){const S=v.currentQuerySelector,N=E.options||{};v.queryCount++,v.currentQuery=E;const[Z,Ie]=function ro(U){const E=!!U.split(/\s*,\s*/).find(v=>":self"==v);return E&&(U=U.replace(ns,"")),U=U.replace(/@\*/g,Xn).replace(/@\w+/g,v=>Xn+"-"+v.slice(1)).replace(/:animating/g,ji),[U,E]}(E.selector);v.currentQuerySelector=S.length?S+" "+Z:Z,pe(v.collectedStyles,v.currentQuerySelector,new Map);const Ae=Zr(this,ms(E.animation),v);return v.currentQuery=null,v.currentQuerySelector=S,{type:ge.If.Query,selector:Z,limit:N.limit||0,optional:!!N.optional,includeSelf:Ie,animation:Ae,originalSelector:E.selector,options:Hs(E.options)}}visitStagger(E,v){v.currentQuery||v.errors.push(function Y(){return new _.wOt(3013,!1)}());const S="full"===E.timings?{duration:0,delay:0,easing:"full"}:Us(E.timings,v.errors,!0);return{type:ge.If.Stagger,animation:Zr(this,ms(E.animation),v),timings:S,options:null}}}class rs{constructor(E){this.errors=E,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Hs(U){return U?(U={...U}).params&&(U.params=function Is(U){return U?{...U}:null}(U.params)):U={},U}function io(U,E,v){return{duration:U,delay:E,easing:v}}function ui(U,E,v,S,N,Z,Ie=null,Ae=!1){return{type:1,element:U,keyframes:E,preStyleProps:v,postStyleProps:S,duration:N,delay:Z,totalTime:N+Z,easing:Ie,subTimeline:Ae}}class Zo{constructor(){this._map=new Map}get(E){return this._map.get(E)||[]}append(E,v){let S=this._map.get(E);S||this._map.set(E,S=[]),S.push(...v)}has(E){return this._map.has(E)}clear(){this._map.clear()}}const so=new RegExp(":enter","g"),yr=new RegExp(":leave","g");function Qi(U,E,v,S,N,Z=new Map,Ie=new Map,Ae,Ce,Ue=[]){return(new Sa).buildKeyframes(U,E,v,S,N,Z,Ie,Ae,Ce,Ue)}class Sa{buildKeyframes(E,v,S,N,Z,Ie,Ae,Ce,Ue,St=[]){Ue=Ue||new Zo;const Ft=new di(E,v,Ue,N,Z,St,[]);Ft.options=Ce;const sn=Ce.delay?Xr(Ce.delay):0;Ft.currentTimeline.delayNextStep(sn),Ft.currentTimeline.setStyles([Ie],null,Ft.errors,Ce),Zr(this,S,Ft);const wn=Ft.timelines.filter(_n=>_n.containsAnimation());if(wn.length&&Ae.size){let _n;for(let Qt=wn.length-1;Qt>=0;Qt--){const fr=wn[Qt];if(fr.element===v){_n=fr;break}}_n&&!_n.allowOnlyTimelineStyles()&&_n.setStyles([Ae],null,Ft.errors,Ce)}return wn.length?wn.map(_n=>_n.buildKeyframes()):[ui(v,[],[],[],0,sn,"",!1)]}visitTrigger(E,v){}visitState(E,v){}visitTransition(E,v){}visitAnimateChild(E,v){const S=v.subInstructions.get(v.element);if(S){const N=v.createSubContext(E.options),Z=v.currentTimeline.currentTime,Ie=this._visitSubInstructions(S,N,N.options);Z!=Ie&&v.transformIntoNewTimeline(Ie)}v.previousNode=E}visitAnimateRef(E,v){const S=v.createSubContext(E.options);S.transformIntoNewTimeline(),this._applyAnimationRefDelays([E.options,E.animation.options],v,S),this.visitReference(E.animation,S),v.transformIntoNewTimeline(S.currentTimeline.currentTime),v.previousNode=E}_applyAnimationRefDelays(E,v,S){for(const N of E){const Z=N?.delay;if(Z){const Ie="number"==typeof Z?Z:Xr(es(Z,N?.params??{},v.errors));S.delayNextStep(Ie)}}}_visitSubInstructions(E,v,S){let Z=v.currentTimeline.currentTime;const Ie=null!=S.duration?Xr(S.duration):null,Ae=null!=S.delay?Xr(S.delay):null;return 0!==Ie&&E.forEach(Ce=>{const Ue=v.appendInstructionToTimeline(Ce,Ie,Ae);Z=Math.max(Z,Ue.duration+Ue.delay)}),Z}visitReference(E,v){v.updateOptions(E.options,!0),Zr(this,E.animation,v),v.previousNode=E}visitSequence(E,v){const S=v.subContextCount;let N=v;const Z=E.options;if(Z&&(Z.params||Z.delay)&&(N=v.createSubContext(Z),N.transformIntoNewTimeline(),null!=Z.delay)){N.previousNode.type==ge.If.Style&&(N.currentTimeline.snapshotCurrentStyles(),N.previousNode=oo);const Ie=Xr(Z.delay);N.delayNextStep(Ie)}E.steps.length&&(E.steps.forEach(Ie=>Zr(this,Ie,N)),N.currentTimeline.applyStylesToKeyframe(),N.subContextCount>S&&N.transformIntoNewTimeline()),v.previousNode=E}visitGroup(E,v){const S=[];let N=v.currentTimeline.currentTime;const Z=E.options&&E.options.delay?Xr(E.options.delay):0;E.steps.forEach(Ie=>{const Ae=v.createSubContext(E.options);Z&&Ae.delayNextStep(Z),Zr(this,Ie,Ae),N=Math.max(N,Ae.currentTimeline.currentTime),S.push(Ae.currentTimeline)}),S.forEach(Ie=>v.currentTimeline.mergeTimelineCollectedStyles(Ie)),v.transformIntoNewTimeline(N),v.previousNode=E}_visitTiming(E,v){if(E.dynamic){const S=E.strValue;return Us(v.params?es(S,v.params,v.errors):S,v.errors)}return{duration:E.duration,delay:E.delay,easing:E.easing}}visitAnimate(E,v){const S=v.currentAnimateTimings=this._visitTiming(E.timings,v),N=v.currentTimeline;S.delay&&(v.incrementTime(S.delay),N.snapshotCurrentStyles());const Z=E.style;Z.type==ge.If.Keyframes?this.visitKeyframes(Z,v):(v.incrementTime(S.duration),this.visitStyle(Z,v),N.applyStylesToKeyframe()),v.currentAnimateTimings=null,v.previousNode=E}visitStyle(E,v){const S=v.currentTimeline,N=v.currentAnimateTimings;!N&&S.hasCurrentStyleProperties()&&S.forwardFrame();const Z=N&&N.easing||E.easing;E.isEmptyStep?S.applyEmptyStep(Z):S.setStyles(E.styles,Z,v.errors,v.options),v.previousNode=E}visitKeyframes(E,v){const S=v.currentAnimateTimings,N=v.currentTimeline.duration,Z=S.duration,Ae=v.createSubContext().currentTimeline;Ae.easing=S.easing,E.styles.forEach(Ce=>{Ae.forwardTime((Ce.offset||0)*Z),Ae.setStyles(Ce.styles,Ce.easing,v.errors,v.options),Ae.applyStylesToKeyframe()}),v.currentTimeline.mergeTimelineCollectedStyles(Ae),v.transformIntoNewTimeline(N+Z),v.previousNode=E}visitQuery(E,v){const S=v.currentTimeline.currentTime,N=E.options||{},Z=N.delay?Xr(N.delay):0;Z&&(v.previousNode.type===ge.If.Style||0==S&&v.currentTimeline.hasCurrentStyleProperties())&&(v.currentTimeline.snapshotCurrentStyles(),v.previousNode=oo);let Ie=S;const Ae=v.invokeQuery(E.selector,E.originalSelector,E.limit,E.includeSelf,!!N.optional,v.errors);v.currentQueryTotal=Ae.length;let Ce=null;Ae.forEach((Ue,St)=>{v.currentQueryIndex=St;const Ft=v.createSubContext(E.options,Ue);Z&&Ft.delayNextStep(Z),Ue===v.element&&(Ce=Ft.currentTimeline),Zr(this,E.animation,Ft),Ft.currentTimeline.applyStylesToKeyframe(),Ie=Math.max(Ie,Ft.currentTimeline.currentTime)}),v.currentQueryIndex=0,v.currentQueryTotal=0,v.transformIntoNewTimeline(Ie),Ce&&(v.currentTimeline.mergeTimelineCollectedStyles(Ce),v.currentTimeline.snapshotCurrentStyles()),v.previousNode=E}visitStagger(E,v){const S=v.parentContext,N=v.currentTimeline,Z=E.timings,Ie=Math.abs(Z.duration),Ae=Ie*(v.currentQueryTotal-1);let Ce=Ie*v.currentQueryIndex;switch(Z.duration<0?"reverse":Z.easing){case"reverse":Ce=Ae-Ce;break;case"full":Ce=S.currentStaggerTime}const St=v.currentTimeline;Ce&&St.delayNextStep(Ce);const Ft=St.currentTime;Zr(this,E.animation,v),v.previousNode=E,S.currentStaggerTime=N.currentTime-Ft+(N.startTime-S.currentTimeline.startTime)}}const oo={};class di{constructor(E,v,S,N,Z,Ie,Ae,Ce){this._driver=E,this.element=v,this.subInstructions=S,this._enterClassName=N,this._leaveClassName=Z,this.errors=Ie,this.timelines=Ae,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=oo,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Ce||new bo(this._driver,v,0),Ae.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(E,v){if(!E)return;const S=E;let N=this.options;null!=S.duration&&(N.duration=Xr(S.duration)),null!=S.delay&&(N.delay=Xr(S.delay));const Z=S.params;if(Z){let Ie=N.params;Ie||(Ie=this.options.params={}),Object.keys(Z).forEach(Ae=>{(!v||!Ie.hasOwnProperty(Ae))&&(Ie[Ae]=es(Z[Ae],Ie,this.errors))})}}_copyOptions(){const E={};if(this.options){const v=this.options.params;if(v){const S=E.params={};Object.keys(v).forEach(N=>{S[N]=v[N]})}}return E}createSubContext(E=null,v,S){const N=v||this.element,Z=new di(this._driver,N,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(N,S||0));return Z.previousNode=this.previousNode,Z.currentAnimateTimings=this.currentAnimateTimings,Z.options=this._copyOptions(),Z.updateOptions(E),Z.currentQueryIndex=this.currentQueryIndex,Z.currentQueryTotal=this.currentQueryTotal,Z.parentContext=this,this.subContextCount++,Z}transformIntoNewTimeline(E){return this.previousNode=oo,this.currentTimeline=this.currentTimeline.fork(this.element,E),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(E,v,S){const N={duration:v??E.duration,delay:this.currentTimeline.currentTime+(S??0)+E.delay,easing:""},Z=new Ni(this._driver,E.element,E.keyframes,E.preStyleProps,E.postStyleProps,N,E.stretchStartingKeyframe);return this.timelines.push(Z),N}incrementTime(E){this.currentTimeline.forwardTime(this.currentTimeline.duration+E)}delayNextStep(E){E>0&&this.currentTimeline.delayNextStep(E)}invokeQuery(E,v,S,N,Z,Ie){let Ae=[];if(N&&Ae.push(this.element),E.length>0){E=(E=E.replace(so,"."+this._enterClassName)).replace(yr,"."+this._leaveClassName);let Ue=this._driver.query(this.element,E,1!=S);0!==S&&(Ue=S<0?Ue.slice(Ue.length+S,Ue.length):Ue.slice(0,S)),Ae.push(...Ue)}return!Z&&0==Ae.length&&Ie.push(function re(U){return new _.wOt(3014,!1)}()),Ae}}class bo{constructor(E,v,S,N){this._driver=E,this.element=v,this.startTime=S,this._elementTimelineStylesLookup=N,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(v),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(v,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(E){const v=1===this._keyframes.size&&this._pendingStyles.size;this.duration||v?(this.forwardTime(this.currentTime+E),v&&this.snapshotCurrentStyles()):this.startTime+=E}fork(E,v){return this.applyStylesToKeyframe(),new bo(this._driver,E,v||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(E){this.applyStylesToKeyframe(),this.duration=E,this._loadKeyframe()}_updateStyle(E,v){this._localTimelineStyles.set(E,v),this._globalTimelineStyles.set(E,v),this._styleSummary.set(E,{time:this.currentTime,value:v})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(E){E&&this._previousKeyframe.set("easing",E);for(let[v,S]of this._globalTimelineStyles)this._backFill.set(v,S||ge.kp),this._currentKeyframe.set(v,ge.kp);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(E,v,S,N){v&&this._previousKeyframe.set("easing",v);const Z=N&&N.params||{},Ie=function ua(U,E){const v=new Map;let S;return U.forEach(N=>{if("*"===N){S??=E.keys();for(let Z of S)v.set(Z,ge.kp)}else for(let[Z,Ie]of N)v.set(Z,Ie)}),v}(E,this._globalTimelineStyles);for(let[Ae,Ce]of Ie){const Ue=es(Ce,Z,S);this._pendingStyles.set(Ae,Ue),this._localTimelineStyles.has(Ae)||this._backFill.set(Ae,this._globalTimelineStyles.get(Ae)??ge.kp),this._updateStyle(Ae,Ue)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((E,v)=>{this._currentKeyframe.set(v,E)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((E,v)=>{this._currentKeyframe.has(v)||this._currentKeyframe.set(v,E)}))}snapshotCurrentStyles(){for(let[E,v]of this._localTimelineStyles)this._pendingStyles.set(E,v),this._updateStyle(E,v)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const E=[];for(let v in this._currentKeyframe)E.push(v);return E}mergeTimelineCollectedStyles(E){E._styleSummary.forEach((v,S)=>{const N=this._styleSummary.get(S);(!N||v.time>N.time)&&this._updateStyle(S,v.value)})}buildKeyframes(){this.applyStylesToKeyframe();const E=new Set,v=new Set,S=1===this._keyframes.size&&0===this.duration;let N=[];this._keyframes.forEach((Ae,Ce)=>{const Ue=new Map([...this._backFill,...Ae]);Ue.forEach((St,Ft)=>{St===ge.FX?E.add(Ft):St===ge.kp&&v.add(Ft)}),S||Ue.set("offset",Ce/this.duration),N.push(Ue)});const Z=[...E.values()],Ie=[...v.values()];if(S){const Ae=N[0],Ce=new Map(Ae);Ae.set("offset",0),Ce.set("offset",1),N=[Ae,Ce]}return ui(this.element,N,Z,Ie,this.duration,this.startTime,this.easing,!1)}}class Ni extends bo{constructor(E,v,S,N,Z,Ie,Ae=!1){super(E,v,Ie.delay),this.keyframes=S,this.preStyleProps=N,this.postStyleProps=Z,this._stretchStartingKeyframe=Ae,this.timings={duration:Ie.duration,delay:Ie.delay,easing:Ie.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let E=this.keyframes,{delay:v,duration:S,easing:N}=this.timings;if(this._stretchStartingKeyframe&&v){const Z=[],Ie=S+v,Ae=v/Ie,Ce=new Map(E[0]);Ce.set("offset",0),Z.push(Ce);const Ue=new Map(E[0]);Ue.set("offset",$s(Ae)),Z.push(Ue);const St=E.length-1;for(let Ft=1;Ft<=St;Ft++){let sn=new Map(E[Ft]);const wn=sn.get("offset");sn.set("offset",$s((v+wn*S)/Ie)),Z.push(sn)}S=Ie,v=0,N="",E=Z}return ui(this.element,E,this.preStyleProps,this.postStyleProps,S,v,N,!0)}}function $s(U,E=3){const v=Math.pow(10,E-1);return Math.round(U*v)/v}function ao(U,E,v,S,N,Z,Ie,Ae,Ce,Ue,St,Ft,sn){return{type:0,element:U,triggerName:E,isRemovalTransition:N,fromState:v,fromStyles:Z,toState:S,toStyles:Ie,timelines:Ae,queriedElements:Ce,preStyleProps:Ue,postStyleProps:St,totalTime:Ft,errors:sn}}const Si={};class Ao{constructor(E,v,S){this._triggerName=E,this.ast=v,this._stateStyles=S}match(E,v,S,N){return function da(U,E,v,S,N){return U.some(Z=>Z(E,v,S,N))}(this.ast.matchers,E,v,S,N)}buildStyles(E,v,S){let N=this._stateStyles.get("*");return void 0!==E&&(N=this._stateStyles.get(E?.toString())||N),N?N.buildStyles(v,S):new Map}build(E,v,S,N,Z,Ie,Ae,Ce,Ue,St){const Ft=[],sn=this.ast.options&&this.ast.options.params||Si,_n=this.buildStyles(S,Ae&&Ae.params||Si,Ft),Qt=Ce&&Ce.params||Si,fr=this.buildStyles(N,Qt,Ft),mt=new Set,Kt=new Map,Ar=new Map,Ti="void"===N,en={params:ws(Qt,sn),delay:this.ast.options?.delay},Vt=St?[]:Qi(E,v,this.ast.animation,Z,Ie,_n,fr,en,Ue,Ft);let Li=0;return Vt.forEach(Nt=>{Li=Math.max(Nt.duration+Nt.delay,Li)}),Ft.length?ao(v,this._triggerName,S,N,Ti,_n,fr,[],[],Kt,Ar,Li,Ft):(Vt.forEach(Nt=>{const it=Nt.element,Tt=pe(Kt,it,new Set);Nt.preStyleProps.forEach(Xi=>Tt.add(Xi));const Fi=pe(Ar,it,new Set);Nt.postStyleProps.forEach(Xi=>Fi.add(Xi)),it!==v&&mt.add(it)}),ao(v,this._triggerName,S,N,Ti,_n,fr,Vt,[...mt.values()],Kt,Ar,Li))}}function ws(U,E){const v={...E};return Object.entries(U).forEach(([S,N])=>{null!=N&&(v[S]=N)}),v}class Do{constructor(E,v,S){this.styles=E,this.defaultParams=v,this.normalizer=S}buildStyles(E,v){const S=new Map,N=ws(E,this.defaultParams);return this.styles.styles.forEach(Z=>{"string"!=typeof Z&&Z.forEach((Ie,Ae)=>{Ie&&(Ie=es(Ie,N,v));const Ce=this.normalizer.normalizePropertyName(Ae,v);Ie=this.normalizer.normalizeStyleValue(Ae,Ce,Ie,v),S.set(Ae,Ie)})}),S}}class G{constructor(E,v,S){this.name=E,this.ast=v,this._normalizer=S,this.transitionFactories=[],this.states=new Map,v.states.forEach(N=>{this.states.set(N.name,new Do(N.style,N.options&&N.options.params||{},S))}),x(this.states,"true","1"),x(this.states,"false","0"),v.transitions.forEach(N=>{this.transitionFactories.push(new Ao(E,N,this.states))}),this.fallbackTransition=function z(U,E,v){return new Ao(U,{type:ge.If.Transition,animation:{type:ge.If.Sequence,steps:[],options:null},matchers:[(Ie,Ae)=>!0],options:null,queryCount:0,depCount:0},E)}(E,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(E,v,S,N){return this.transitionFactories.find(Ie=>Ie.match(E,v,S,N))||null}matchStyles(E,v,S){return this.fallbackTransition.buildStyles(E,v,S)}}function x(U,E,v){U.has(E)?U.has(v)||U.set(v,U.get(E)):U.has(v)&&U.set(E,U.get(v))}const se=new Zo;class Pe{constructor(E,v,S){this.bodyNode=E,this._driver=v,this._normalizer=S,this._animations=new Map,this._playersById=new Map,this.players=[]}register(E,v){const S=[],Z=no(this._driver,v,S,[]);if(S.length)throw function ur(U){return new _.wOt(3503,!1)}();this._animations.set(E,Z)}_buildPlayer(E,v,S){const N=E.element,Z=_t(this._normalizer,E.keyframes,v,S);return this._driver.animate(N,Z,E.duration,E.delay,E.easing,[],!0)}create(E,v,S={}){const N=[],Z=this._animations.get(E);let Ie;const Ae=new Map;if(Z?(Ie=Qi(this._driver,v,Z,_r,ci,new Map,new Map,S,se,N),Ie.forEach(St=>{const Ft=pe(Ae,St.element,new Map);St.postStyleProps.forEach(sn=>Ft.set(sn,null))})):(N.push(function pn(){return new _.wOt(3300,!1)}()),Ie=[]),N.length)throw function Zt(U){return new _.wOt(3504,!1)}();Ae.forEach((St,Ft)=>{St.forEach((sn,wn)=>{St.set(wn,this._driver.computeStyle(Ft,wn,ge.kp))})});const Ue=$e(Ie.map(St=>{const Ft=Ae.get(St.element);return this._buildPlayer(St,new Map,Ft)}));return this._playersById.set(E,Ue),Ue.onDestroy(()=>this.destroy(E)),this.players.push(Ue),Ue}destroy(E){const v=this._getPlayer(E);v.destroy(),this._playersById.delete(E);const S=this.players.indexOf(v);S>=0&&this.players.splice(S,1)}_getPlayer(E){const v=this._playersById.get(E);if(!v)throw function tr(U){return new _.wOt(3301,!1)}();return v}listen(E,v,S,N){const Z=te(v,"","","");return Xt(this._getPlayer(E),S,Z,N),()=>{}}command(E,v,S,N){if("register"==S)return void this.register(E,N[0]);if("create"==S)return void this.create(E,v,N[0]||{});const Z=this._getPlayer(E);switch(S){case"play":Z.play();break;case"pause":Z.pause();break;case"reset":Z.reset();break;case"restart":Z.restart();break;case"finish":Z.finish();break;case"init":Z.init();break;case"setPosition":Z.setPosition(parseFloat(N[0]));break;case"destroy":this.destroy(E)}}}const gn="ng-animate-queued",En="ng-animate-disabled",Os=[],ha={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Pa={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ts="__ng_removed";class So{get params(){return this.options.params}constructor(E,v=""){this.namespaceId=v;const S=E&&E.hasOwnProperty("value");if(this.value=function ei(U){return U??null}(S?E.value:E),S){const{value:Z,...Ie}=E;this.options=Ie}else this.options={};this.options.params||(this.options.params={})}absorbOptions(E){const v=E.params;if(v){const S=this.options.params;Object.keys(v).forEach(N=>{null==S[N]&&(S[N]=v[N])})}}}const Go="void",is=new So(Go);class al{constructor(E,v,S){this.id=E,this.hostElement=v,this._engine=S,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+E,ks(v,this._hostClassName)}listen(E,v,S,N){if(!this._triggers.has(v))throw function Lr(U,E){return new _.wOt(3302,!1)}();if(null==S||0==S.length)throw function Bi(U){return new _.wOt(3303,!1)}();if(!function gi(U){return"start"==U||"done"==U}(S))throw function Fr(U,E){return new _.wOt(3400,!1)}();const Z=pe(this._elementListeners,E,[]),Ie={name:v,phase:S,callback:N};Z.push(Ie);const Ae=pe(this._engine.statesByElement,E,new Map);return Ae.has(v)||(ks(E,Tn),ks(E,Tn+"-"+v),Ae.set(v,is)),()=>{this._engine.afterFlush(()=>{const Ce=Z.indexOf(Ie);Ce>=0&&Z.splice(Ce,1),this._triggers.has(v)||Ae.delete(v)})}}register(E,v){return!this._triggers.has(E)&&(this._triggers.set(E,v),!0)}_getTrigger(E){const v=this._triggers.get(E);if(!v)throw function Pr(U){return new _.wOt(3401,!1)}();return v}trigger(E,v,S,N=!0){const Z=this._getTrigger(v),Ie=new Jn(this.id,v,E);let Ae=this._engine.statesByElement.get(E);Ae||(ks(E,Tn),ks(E,Tn+"-"+v),this._engine.statesByElement.set(E,Ae=new Map));let Ce=Ae.get(v);const Ue=new So(S,this.id);if(!(S&&S.hasOwnProperty("value"))&&Ce&&Ue.absorbOptions(Ce.options),Ae.set(v,Ue),Ce||(Ce=is),Ue.value!==Go&&Ce.value===Ue.value){if(!function Jo(U,E){const v=Object.keys(U),S=Object.keys(E);if(v.length!=S.length)return!1;for(let N=0;N<v.length;N++){const Z=v[N];if(!E.hasOwnProperty(Z)||U[Z]!==E[Z])return!1}return!0}(Ce.params,Ue.params)){const Qt=[],fr=Z.matchStyles(Ce.value,Ce.params,Qt),mt=Z.matchStyles(Ue.value,Ue.params,Qt);Qt.length?this._engine.reportError(Qt):this._engine.afterFlush(()=>{Yr(E,fr),zi(E,mt)})}return}const sn=pe(this._engine.playersByElement,E,[]);sn.forEach(Qt=>{Qt.namespaceId==this.id&&Qt.triggerName==v&&Qt.queued&&Qt.destroy()});let wn=Z.matchTransition(Ce.value,Ue.value,E,Ue.params),_n=!1;if(!wn){if(!N)return;wn=Z.fallbackTransition,_n=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:E,triggerName:v,transition:wn,fromState:Ce,toState:Ue,player:Ie,isFallbackTransition:_n}),_n||(ks(E,gn),Ie.onStart(()=>{Ro(E,gn)})),Ie.onDone(()=>{let Qt=this.players.indexOf(Ie);Qt>=0&&this.players.splice(Qt,1);const fr=this._engine.playersByElement.get(E);if(fr){let mt=fr.indexOf(Ie);mt>=0&&fr.splice(mt,1)}}),this.players.push(Ie),sn.push(Ie),Ie}deregister(E){this._triggers.delete(E),this._engine.statesByElement.forEach(v=>v.delete(E)),this._elementListeners.forEach((v,S)=>{this._elementListeners.set(S,v.filter(N=>N.name!=E))})}clearElementCache(E){this._engine.statesByElement.delete(E),this._elementListeners.delete(E);const v=this._engine.playersByElement.get(E);v&&(v.forEach(S=>S.destroy()),this._engine.playersByElement.delete(E))}_signalRemovalForInnerTriggers(E,v){const S=this._engine.driver.query(E,Xn,!0);S.forEach(N=>{if(N[Ts])return;const Z=this._engine.fetchNamespacesByElement(N);Z.size?Z.forEach(Ie=>Ie.triggerLeaveAnimation(N,v,!1,!0)):this.clearElementCache(N)}),this._engine.afterFlushAnimationsDone(()=>S.forEach(N=>this.clearElementCache(N)))}triggerLeaveAnimation(E,v,S,N){const Z=this._engine.statesByElement.get(E),Ie=new Map;if(Z){const Ae=[];if(Z.forEach((Ce,Ue)=>{if(Ie.set(Ue,Ce.value),this._triggers.has(Ue)){const St=this.trigger(E,Ue,Go,N);St&&Ae.push(St)}}),Ae.length)return this._engine.markElementAsRemoved(this.id,E,!0,v,Ie),S&&$e(Ae).onDone(()=>this._engine.processLeaveNode(E)),!0}return!1}prepareLeaveAnimationListeners(E){const v=this._elementListeners.get(E),S=this._engine.statesByElement.get(E);if(v&&S){const N=new Set;v.forEach(Z=>{const Ie=Z.name;if(N.has(Ie))return;N.add(Ie);const Ce=this._triggers.get(Ie).fallbackTransition,Ue=S.get(Ie)||is,St=new So(Go),Ft=new Jn(this.id,Ie,E);this._engine.totalQueuedPlayers++,this._queue.push({element:E,triggerName:Ie,transition:Ce,fromState:Ue,toState:St,player:Ft,isFallbackTransition:!0})})}}removeNode(E,v){const S=this._engine;if(E.childElementCount&&this._signalRemovalForInnerTriggers(E,v),this.triggerLeaveAnimation(E,v,!0))return;let N=!1;if(S.totalAnimations){const Z=S.players.length?S.playersByQueriedElement.get(E):[];if(Z&&Z.length)N=!0;else{let Ie=E;for(;Ie=Ie.parentNode;)if(S.statesByElement.get(Ie)){N=!0;break}}}if(this.prepareLeaveAnimationListeners(E),N)S.markElementAsRemoved(this.id,E,!1,v);else{const Z=E[Ts];(!Z||Z===ha)&&(S.afterFlush(()=>this.clearElementCache(E)),S.destroyInnerAnimations(E),S._onRemovalComplete(E,v))}}insertNode(E,v){ks(E,this._hostClassName)}drainQueuedTransitions(E){const v=[];return this._queue.forEach(S=>{const N=S.player;if(N.destroyed)return;const Z=S.element,Ie=this._elementListeners.get(Z);Ie&&Ie.forEach(Ae=>{if(Ae.name==S.triggerName){const Ce=te(Z,S.triggerName,S.fromState.value,S.toState.value);Ce._data=E,Xt(S.player,Ae.phase,Ce,Ae.callback)}}),N.markedForDestroy?this._engine.afterFlush(()=>{N.destroy()}):v.push(S)}),this._queue=[],v.sort((S,N)=>{const Z=S.transition.ast.depCount,Ie=N.transition.ast.depCount;return 0==Z||0==Ie?Z-Ie:this._engine.driver.containsElement(S.element,N.element)?1:-1})}destroy(E){this.players.forEach(v=>v.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,E)}}class fa{_onRemovalComplete(E,v){this.onRemovalComplete(E,v)}constructor(E,v,S,N){this.bodyNode=E,this.driver=v,this._normalizer=S,this.scheduler=N,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(Z,Ie)=>{}}get queuedPlayers(){const E=[];return this._namespaceList.forEach(v=>{v.players.forEach(S=>{S.queued&&E.push(S)})}),E}createNamespace(E,v){const S=new al(E,v,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,v)?this._balanceNamespaceList(S,v):(this.newHostElements.set(v,S),this.collectEnterElement(v)),this._namespaceLookup[E]=S}_balanceNamespaceList(E,v){const S=this._namespaceList,N=this.namespacesByHostElement;if(S.length-1>=0){let Ie=!1,Ae=this.driver.getParentElement(v);for(;Ae;){const Ce=N.get(Ae);if(Ce){const Ue=S.indexOf(Ce);S.splice(Ue+1,0,E),Ie=!0;break}Ae=this.driver.getParentElement(Ae)}Ie||S.unshift(E)}else S.push(E);return N.set(v,E),E}register(E,v){let S=this._namespaceLookup[E];return S||(S=this.createNamespace(E,v)),S}registerTrigger(E,v,S){let N=this._namespaceLookup[E];N&&N.register(v,S)&&this.totalAnimations++}destroy(E,v){E&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const S=this._fetchNamespace(E);this.namespacesByHostElement.delete(S.hostElement);const N=this._namespaceList.indexOf(S);N>=0&&this._namespaceList.splice(N,1),S.destroy(v),delete this._namespaceLookup[E]}))}_fetchNamespace(E){return this._namespaceLookup[E]}fetchNamespacesByElement(E){const v=new Set,S=this.statesByElement.get(E);if(S)for(let N of S.values())if(N.namespaceId){const Z=this._fetchNamespace(N.namespaceId);Z&&v.add(Z)}return v}trigger(E,v,S,N){if(pi(v)){const Z=this._fetchNamespace(E);if(Z)return Z.trigger(v,S,N),!0}return!1}insertNode(E,v,S,N){if(!pi(v))return;const Z=v[Ts];if(Z&&Z.setForRemoval){Z.setForRemoval=!1,Z.setForMove=!0;const Ie=this.collectedLeaveElements.indexOf(v);Ie>=0&&this.collectedLeaveElements.splice(Ie,1)}if(E){const Ie=this._fetchNamespace(E);Ie&&Ie.insertNode(v,S)}N&&this.collectEnterElement(v)}collectEnterElement(E){this.collectedEnterElements.push(E)}markElementAsDisabled(E,v){v?this.disabledNodes.has(E)||(this.disabledNodes.add(E),ks(E,En)):this.disabledNodes.has(E)&&(this.disabledNodes.delete(E),Ro(E,En))}removeNode(E,v,S){if(pi(v)){this.scheduler?.notify();const N=E?this._fetchNamespace(E):null;N?N.removeNode(v,S):this.markElementAsRemoved(E,v,!1,S);const Z=this.namespacesByHostElement.get(v);Z&&Z.id!==E&&Z.removeNode(v,S)}else this._onRemovalComplete(v,S)}markElementAsRemoved(E,v,S,N,Z){this.collectedLeaveElements.push(v),v[Ts]={namespaceId:E,setForRemoval:N,hasAnimation:S,removedBeforeQueried:!1,previousTriggersValues:Z}}listen(E,v,S,N,Z){return pi(v)?this._fetchNamespace(E).listen(v,S,N,Z):()=>{}}_buildInstruction(E,v,S,N,Z){return E.transition.build(this.driver,E.element,E.fromState.value,E.toState.value,S,N,E.fromState.options,E.toState.options,v,Z)}destroyInnerAnimations(E){let v=this.driver.query(E,Xn,!0);v.forEach(S=>this.destroyActiveAnimationsForElement(S)),0!=this.playersByQueriedElement.size&&(v=this.driver.query(E,ji,!0),v.forEach(S=>this.finishActiveQueriedAnimationOnElement(S)))}destroyActiveAnimationsForElement(E){const v=this.playersByElement.get(E);v&&v.forEach(S=>{S.queued?S.markedForDestroy=!0:S.destroy()})}finishActiveQueriedAnimationOnElement(E){const v=this.playersByQueriedElement.get(E);v&&v.forEach(S=>S.finish())}whenRenderingDone(){return new Promise(E=>{if(this.players.length)return $e(this.players).onDone(()=>E());E()})}processLeaveNode(E){const v=E[Ts];if(v&&v.setForRemoval){if(E[Ts]=ha,v.namespaceId){this.destroyInnerAnimations(E);const S=this._fetchNamespace(v.namespaceId);S&&S.clearElementCache(E)}this._onRemovalComplete(E,v.setForRemoval)}E.classList?.contains(En)&&this.markElementAsDisabled(E,!1),this.driver.query(E,".ng-animate-disabled",!0).forEach(S=>{this.markElementAsDisabled(S,!1)})}flush(E=-1){let v=[];if(this.newHostElements.size&&(this.newHostElements.forEach((S,N)=>this._balanceNamespaceList(S,N)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let S=0;S<this.collectedEnterElements.length;S++)ks(this.collectedEnterElements[S],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const S=[];try{v=this._flushAnimations(S,E)}finally{for(let N=0;N<S.length;N++)S[N]()}}else for(let S=0;S<this.collectedLeaveElements.length;S++)this.processLeaveNode(this.collectedLeaveElements[S]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(S=>S()),this._flushFns=[],this._whenQuietFns.length){const S=this._whenQuietFns;this._whenQuietFns=[],v.length?$e(v).onDone(()=>{S.forEach(N=>N())}):S.forEach(N=>N())}}reportError(E){throw function sr(U){return new _.wOt(3402,!1)}()}_flushAnimations(E,v){const S=new Zo,N=[],Z=new Map,Ie=[],Ae=new Map,Ce=new Map,Ue=new Map,St=new Set;this.disabledNodes.forEach(bn=>{St.add(bn);const Rn=this.driver.query(bn,".ng-animate-queued",!0);for(let Pn=0;Pn<Rn.length;Pn++)St.add(Rn[Pn])});const Ft=this.bodyNode,sn=Array.from(this.statesByElement.keys()),wn=Ns(sn,this.collectedEnterElements),_n=new Map;let Qt=0;wn.forEach((bn,Rn)=>{const Pn=_r+Qt++;_n.set(Rn,Pn),bn.forEach(Vn=>ks(Vn,Pn))});const fr=[],mt=new Set,Kt=new Set;for(let bn=0;bn<this.collectedLeaveElements.length;bn++){const Rn=this.collectedLeaveElements[bn],Pn=Rn[Ts];Pn&&Pn.setForRemoval&&(fr.push(Rn),mt.add(Rn),Pn.hasAnimation?this.driver.query(Rn,".ng-star-inserted",!0).forEach(Vn=>mt.add(Vn)):Kt.add(Rn))}const Ar=new Map,Ti=Ns(sn,Array.from(mt));Ti.forEach((bn,Rn)=>{const Pn=ci+Qt++;Ar.set(Rn,Pn),bn.forEach(Vn=>ks(Vn,Pn))}),E.push(()=>{wn.forEach((bn,Rn)=>{const Pn=_n.get(Rn);bn.forEach(Vn=>Ro(Vn,Pn))}),Ti.forEach((bn,Rn)=>{const Pn=Ar.get(Rn);bn.forEach(Vn=>Ro(Vn,Pn))}),fr.forEach(bn=>{this.processLeaveNode(bn)})});const en=[],Vt=[];for(let bn=this._namespaceList.length-1;bn>=0;bn--)this._namespaceList[bn].drainQueuedTransitions(v).forEach(Pn=>{const Vn=Pn.player,hi=Pn.element;if(en.push(Vn),this.collectedEnterElements.length){const cn=hi[Ts];if(cn&&cn.setForMove){if(cn.previousTriggersValues&&cn.previousTriggersValues.has(Pn.triggerName)){const _i=cn.previousTriggersValues.get(Pn.triggerName),Kn=this.statesByElement.get(Pn.element);if(Kn&&Kn.has(Pn.triggerName)){const na=Kn.get(Pn.triggerName);na.value=_i,Kn.set(Pn.triggerName,na)}}return void Vn.destroy()}}const Or=!Ft||!this.driver.containsElement(Ft,hi),ss=Ar.get(hi),yn=_n.get(hi),or=this._buildInstruction(Pn,S,yn,ss,Or);if(or.errors&&or.errors.length)return void Vt.push(or);if(Or)return Vn.onStart(()=>Yr(hi,or.fromStyles)),Vn.onDestroy(()=>zi(hi,or.toStyles)),void N.push(Vn);if(Pn.isFallbackTransition)return Vn.onStart(()=>Yr(hi,or.fromStyles)),Vn.onDestroy(()=>zi(hi,or.toStyles)),void N.push(Vn);const qa=[];or.timelines.forEach(cn=>{cn.stretchStartingKeyframe=!0,this.disabledNodes.has(cn.element)||qa.push(cn)}),or.timelines=qa,S.append(hi,or.timelines),Ie.push({instruction:or,player:Vn,element:hi}),or.queriedElements.forEach(cn=>pe(Ae,cn,[]).push(Vn)),or.preStyleProps.forEach((cn,_i)=>{if(cn.size){let Kn=Ce.get(_i);Kn||Ce.set(_i,Kn=new Set),cn.forEach((na,zr)=>Kn.add(zr))}}),or.postStyleProps.forEach((cn,_i)=>{let Kn=Ue.get(_i);Kn||Ue.set(_i,Kn=new Set),cn.forEach((na,zr)=>Kn.add(zr))})});if(Vt.length){const bn=[];Vt.forEach(Rn=>{bn.push(function Yi(U,E){return new _.wOt(3505,!1)}())}),en.forEach(Rn=>Rn.destroy()),this.reportError(bn)}const Li=new Map,Nt=new Map;Ie.forEach(bn=>{const Rn=bn.element;S.has(Rn)&&(Nt.set(Rn,Rn),this._beforeAnimationBuild(bn.player.namespaceId,bn.instruction,Li))}),N.forEach(bn=>{const Rn=bn.element;this._getPreviousPlayers(Rn,!1,bn.namespaceId,bn.triggerName,null).forEach(Vn=>{pe(Li,Rn,[]).push(Vn),Vn.destroy()})});const it=fr.filter(bn=>Wo(bn,Ce,Ue)),Tt=new Map;Ma(Tt,this.driver,Kt,Ue,ge.kp).forEach(bn=>{Wo(bn,Ce,Ue)&&it.push(bn)});const Xi=new Map;wn.forEach((bn,Rn)=>{Ma(Xi,this.driver,new Set(bn),Ce,ge.FX)}),it.forEach(bn=>{const Rn=Tt.get(bn),Pn=Xi.get(bn);Tt.set(bn,new Map([...Rn?.entries()??[],...Pn?.entries()??[]]))});const As=[],Po=[],rr={};Ie.forEach(bn=>{const{element:Rn,player:Pn,instruction:Vn}=bn;if(S.has(Rn)){if(St.has(Rn))return Pn.onDestroy(()=>zi(Rn,Vn.toStyles)),Pn.disabled=!0,Pn.overrideTotalTime(Vn.totalTime),void N.push(Pn);let hi=rr;if(Nt.size>1){let ss=Rn;const yn=[];for(;ss=ss.parentNode;){const or=Nt.get(ss);if(or){hi=or;break}yn.push(ss)}yn.forEach(or=>Nt.set(or,hi))}const Or=this._buildAnimation(Pn.namespaceId,Vn,Li,Z,Xi,Tt);if(Pn.setRealPlayer(Or),hi===rr)As.push(Pn);else{const ss=this.playersByElement.get(hi);ss&&ss.length&&(Pn.parentPlayer=$e(ss)),N.push(Pn)}}else Yr(Rn,Vn.fromStyles),Pn.onDestroy(()=>zi(Rn,Vn.toStyles)),Po.push(Pn),St.has(Rn)&&N.push(Pn)}),Po.forEach(bn=>{const Rn=Z.get(bn.element);if(Rn&&Rn.length){const Pn=$e(Rn);bn.setRealPlayer(Pn)}}),N.forEach(bn=>{bn.parentPlayer?bn.syncPlayerEvents(bn.parentPlayer):bn.destroy()});for(let bn=0;bn<fr.length;bn++){const Rn=fr[bn],Pn=Rn[Ts];if(Ro(Rn,ci),Pn&&Pn.hasAnimation)continue;let Vn=[];if(Ae.size){let Or=Ae.get(Rn);Or&&Or.length&&Vn.push(...Or);let ss=this.driver.query(Rn,ji,!0);for(let yn=0;yn<ss.length;yn++){let or=Ae.get(ss[yn]);or&&or.length&&Vn.push(...or)}}const hi=Vn.filter(Or=>!Or.destroyed);hi.length?Ws(this,Rn,hi):this.processLeaveNode(Rn)}return fr.length=0,As.forEach(bn=>{this.players.push(bn),bn.onDone(()=>{bn.destroy();const Rn=this.players.indexOf(bn);this.players.splice(Rn,1)}),bn.play()}),As}afterFlush(E){this._flushFns.push(E)}afterFlushAnimationsDone(E){this._whenQuietFns.push(E)}_getPreviousPlayers(E,v,S,N,Z){let Ie=[];if(v){const Ae=this.playersByQueriedElement.get(E);Ae&&(Ie=Ae)}else{const Ae=this.playersByElement.get(E);if(Ae){const Ce=!Z||Z==Go;Ae.forEach(Ue=>{Ue.queued||!Ce&&Ue.triggerName!=N||Ie.push(Ue)})}}return(S||N)&&(Ie=Ie.filter(Ae=>!(S&&S!=Ae.namespaceId||N&&N!=Ae.triggerName))),Ie}_beforeAnimationBuild(E,v,S){const Z=v.element,Ie=v.isRemovalTransition?void 0:E,Ae=v.isRemovalTransition?void 0:v.triggerName;for(const Ce of v.timelines){const Ue=Ce.element,St=Ue!==Z,Ft=pe(S,Ue,[]);this._getPreviousPlayers(Ue,St,Ie,Ae,v.toState).forEach(wn=>{const _n=wn.getRealPlayer();_n.beforeDestroy&&_n.beforeDestroy(),wn.destroy(),Ft.push(wn)})}Yr(Z,v.fromStyles)}_buildAnimation(E,v,S,N,Z,Ie){const Ae=v.triggerName,Ce=v.element,Ue=[],St=new Set,Ft=new Set,sn=v.timelines.map(_n=>{const Qt=_n.element;St.add(Qt);const fr=Qt[Ts];if(fr&&fr.removedBeforeQueried)return new ge.sf(_n.duration,_n.delay);const mt=Qt!==Ce,Kt=function pa(U){const E=[];return lo(U,E),E}((S.get(Qt)||Os).map(Li=>Li.getRealPlayer())).filter(Li=>!!Li.element&&Li.element===Qt),Ar=Z.get(Qt),Ti=Ie.get(Qt),en=_t(this._normalizer,_n.keyframes,Ar,Ti),Vt=this._buildPlayer(_n,en,Kt);if(_n.subTimeline&&N&&Ft.add(Qt),mt){const Li=new Jn(E,Ae,Qt);Li.setRealPlayer(Vt),Ue.push(Li)}return Vt});Ue.forEach(_n=>{pe(this.playersByQueriedElement,_n.element,[]).push(_n),_n.onDone(()=>function ni(U,E,v){let S=U.get(E);if(S){if(S.length){const N=S.indexOf(v);S.splice(N,1)}0==S.length&&U.delete(E)}return S}(this.playersByQueriedElement,_n.element,_n))}),St.forEach(_n=>ks(_n,vo));const wn=$e(sn);return wn.onDestroy(()=>{St.forEach(_n=>Ro(_n,vo)),zi(Ce,v.toStyles)}),Ft.forEach(_n=>{pe(N,_n,[]).push(wn)}),wn}_buildPlayer(E,v,S){return v.length>0?this.driver.animate(E.element,v,E.duration,E.delay,E.easing,S):new ge.sf(E.duration,E.delay)}}class Jn{constructor(E,v,S){this.namespaceId=E,this.triggerName=v,this.element=S,this._player=new ge.sf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(E){this._containsRealPlayer||(this._player=E,this._queuedCallbacks.forEach((v,S)=>{v.forEach(N=>Xt(E,S,void 0,N))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(E.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(E){this.totalTime=E}syncPlayerEvents(E){const v=this._player;v.triggerCallback&&E.onStart(()=>v.triggerCallback("start")),E.onDone(()=>this.finish()),E.onDestroy(()=>this.destroy())}_queueEvent(E,v){pe(this._queuedCallbacks,E,[]).push(v)}onDone(E){this.queued&&this._queueEvent("done",E),this._player.onDone(E)}onStart(E){this.queued&&this._queueEvent("start",E),this._player.onStart(E)}onDestroy(E){this.queued&&this._queueEvent("destroy",E),this._player.onDestroy(E)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(E){this.queued||this._player.setPosition(E)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(E){const v=this._player;v.triggerCallback&&v.triggerCallback(E)}}function pi(U){return U&&1===U.nodeType}function Cs(U,E){const v=U.style.display;return U.style.display=E??"none",v}function Ma(U,E,v,S,N){const Z=[];v.forEach(Ce=>Z.push(Cs(Ce)));const Ie=[];S.forEach((Ce,Ue)=>{const St=new Map;Ce.forEach(Ft=>{const sn=E.computeStyle(Ue,Ft,N);St.set(Ft,sn),(!sn||0==sn.length)&&(Ue[Ts]=Pa,Ie.push(Ue))}),U.set(Ue,St)});let Ae=0;return v.forEach(Ce=>Cs(Ce,Z[Ae++])),Ie}function Ns(U,E){const v=new Map;if(U.forEach(Ae=>v.set(Ae,[])),0==E.length)return v;const N=new Set(E),Z=new Map;function Ie(Ae){if(!Ae)return 1;let Ce=Z.get(Ae);if(Ce)return Ce;const Ue=Ae.parentNode;return Ce=v.has(Ue)?Ue:N.has(Ue)?1:Ie(Ue),Z.set(Ae,Ce),Ce}return E.forEach(Ae=>{const Ce=Ie(Ae);1!==Ce&&v.get(Ce).push(Ae)}),v}function ks(U,E){U.classList?.add(E)}function Ro(U,E){U.classList?.remove(E)}function Ws(U,E,v){$e(v).onDone(()=>U.processLeaveNode(E))}function lo(U,E){for(let v=0;v<U.length;v++){const S=U[v];S instanceof ge.ui?lo(S.players,E):E.push(S)}}function Wo(U,E,v){const S=v.get(U);if(!S)return!1;let N=E.get(U);return N?S.forEach(Z=>N.add(Z)):E.set(U,S),v.delete(U),!0}class ea{constructor(E,v,S,N){this._driver=v,this._normalizer=S,this._triggerCache={},this.onRemovalComplete=(Z,Ie)=>{},this._transitionEngine=new fa(E.body,v,S,N),this._timelineEngine=new Pe(E.body,v,S),this._transitionEngine.onRemovalComplete=(Z,Ie)=>this.onRemovalComplete(Z,Ie)}registerTrigger(E,v,S,N,Z){const Ie=E+"-"+N;let Ae=this._triggerCache[Ie];if(!Ae){const Ce=[],St=no(this._driver,Z,Ce,[]);if(Ce.length)throw function Fn(U,E){return new _.wOt(3404,!1)}();Ae=function $o(U,E,v){return new G(U,E,v)}(N,St,this._normalizer),this._triggerCache[Ie]=Ae}this._transitionEngine.registerTrigger(v,N,Ae)}register(E,v){this._transitionEngine.register(E,v)}destroy(E,v){this._transitionEngine.destroy(E,v)}onInsert(E,v,S,N){this._transitionEngine.insertNode(E,v,S,N)}onRemove(E,v,S){this._transitionEngine.removeNode(E,v,S)}disableAnimations(E,v){this._transitionEngine.markElementAsDisabled(E,v)}process(E,v,S,N){if("@"==S.charAt(0)){const[Z,Ie]=we(S);this._timelineEngine.command(Z,v,Ie,N)}else this._transitionEngine.trigger(E,v,S,N)}listen(E,v,S,N,Z){if("@"==S.charAt(0)){const[Ie,Ae]=we(S);return this._timelineEngine.listen(Ie,v,Ae,Z)}return this._transitionEngine.listen(E,v,S,N,Z)}flush(E=-1){this._transitionEngine.flush(E)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(E){this._transitionEngine.afterFlushAnimationsDone(E)}}class zo{static#e=this.initialStylesByElement=new WeakMap;constructor(E,v,S){this._element=E,this._startStyles=v,this._endStyles=S,this._state=0;let N=zo.initialStylesByElement.get(E);N||zo.initialStylesByElement.set(E,N=new Map),this._initialStyles=N}start(){this._state<1&&(this._startStyles&&zi(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(zi(this._element,this._initialStyles),this._endStyles&&(zi(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(zo.initialStylesByElement.delete(this._element),this._startStyles&&(Yr(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Yr(this._element,this._endStyles),this._endStyles=null),zi(this._element,this._initialStyles),this._state=3)}}function ma(U){let E=null;return U.forEach((v,S)=>{(function zs(U){return"display"===U||"position"===U})(S)&&(E=E||new Map,E.set(S,v))}),E}class _a{constructor(E,v,S,N){this.element=E,this.keyframes=v,this.options=S,this._specialStyles=N,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=S.duration,this._delay=S.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(E=>E()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const E=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,E,this.options),this._finalKeyframe=E.length?E[E.length-1]:new Map;const v=()=>this._onFinish();this.domPlayer.addEventListener("finish",v),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",v)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(E){const v=[];return E.forEach(S=>{v.push(Object.fromEntries(S))}),v}_triggerWebAnimation(E,v,S){return E.animate(this._convertKeyframesToObject(v),S)}onStart(E){this._originalOnStartFns.push(E),this._onStartFns.push(E)}onDone(E){this._originalOnDoneFns.push(E),this._onDoneFns.push(E)}onDestroy(E){this._onDestroyFns.push(E)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(E=>E()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(E=>E()),this._onDestroyFns=[])}setPosition(E){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=E*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const E=new Map;this.hasStarted()&&this._finalKeyframe.forEach((S,N)=>{"offset"!==N&&E.set(N,this._finished?S:Ci(this.element,N))}),this.currentSnapshot=E}triggerCallback(E){const v="start"===E?this._onStartFns:this._onDoneFns;v.forEach(S=>S()),v.length=0}}class co{validateStyleProperty(E){return!0}validateAnimatableStyleProperty(E){return!0}matchesElement(E,v){return!1}containsElement(E,v){return br(E,v)}getParentElement(E){return rt(E)}query(E,v,S){return ai(E,v,S)}computeStyle(E,v,S){return Ci(E,v)}animate(E,v,S,N,Z,Ie=[]){const Ce={duration:S,delay:N,fill:0==N?"both":"forwards"};Z&&(Ce.easing=Z);const Ue=new Map,St=Ie.filter(wn=>wn instanceof _a);(function Js(U,E){return 0===U||0===E})(S,N)&&St.forEach(wn=>{wn.currentSnapshot.forEach((_n,Qt)=>Ue.set(Qt,_n))});let Ft=function lr(U){return U.length?U[0]instanceof Map?U:U.map(E=>new Map(Object.entries(E))):[]}(v).map(wn=>new Map(wn));Ft=function js(U,E,v){if(v.size&&E.length){let S=E[0],N=[];if(v.forEach((Z,Ie)=>{S.has(Ie)||N.push(Ie),S.set(Ie,Z)}),N.length)for(let Z=1;Z<E.length;Z++){let Ie=E[Z];N.forEach(Ae=>Ie.set(Ae,Ci(U,Ae)))}}return E}(E,Ft,Ue);const sn=function ga(U,E){let v=null,S=null;return Array.isArray(E)&&E.length?(v=ma(E[0]),E.length>1&&(S=ma(E[E.length-1]))):E instanceof Map&&(v=ma(E)),v||S?new zo(U,v,S):null}(E,Ft);return new _a(E,Ft,Ce,sn)}}const Gi="@.disabled";class xa{constructor(E,v,S,N){this.namespaceId=E,this.delegate=v,this.engine=S,this._onDestroy=N,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(E){this.delegate.destroyNode?.(E)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(E,v){return this.delegate.createElement(E,v)}createComment(E){return this.delegate.createComment(E)}createText(E){return this.delegate.createText(E)}appendChild(E,v){this.delegate.appendChild(E,v),this.engine.onInsert(this.namespaceId,v,E,!1)}insertBefore(E,v,S,N=!0){this.delegate.insertBefore(E,v,S),this.engine.onInsert(this.namespaceId,v,E,N)}removeChild(E,v,S){this.engine.onRemove(this.namespaceId,v,this.delegate)}selectRootElement(E,v){return this.delegate.selectRootElement(E,v)}parentNode(E){return this.delegate.parentNode(E)}nextSibling(E){return this.delegate.nextSibling(E)}setAttribute(E,v,S,N){this.delegate.setAttribute(E,v,S,N)}removeAttribute(E,v,S){this.delegate.removeAttribute(E,v,S)}addClass(E,v){this.delegate.addClass(E,v)}removeClass(E,v){this.delegate.removeClass(E,v)}setStyle(E,v,S,N){this.delegate.setStyle(E,v,S,N)}removeStyle(E,v,S){this.delegate.removeStyle(E,v,S)}setProperty(E,v,S){"@"==v.charAt(0)&&v==Gi?this.disableAnimations(E,!!S):this.delegate.setProperty(E,v,S)}setValue(E,v){this.delegate.setValue(E,v)}listen(E,v,S){return this.delegate.listen(E,v,S)}disableAnimations(E,v){this.engine.disableAnimations(E,v)}}class Ko extends xa{constructor(E,v,S,N,Z){super(v,S,N,Z),this.factory=E,this.namespaceId=v}setProperty(E,v,S){"@"==v.charAt(0)?"."==v.charAt(1)&&v==Gi?this.disableAnimations(E,S=void 0===S||!!S):this.engine.process(this.namespaceId,E,v.slice(1),S):this.delegate.setProperty(E,v,S)}listen(E,v,S){if("@"==v.charAt(0)){const N=function ki(U){switch(U){case"body":return document.body;case"document":return document;case"window":return window;default:return U}}(E);let Z=v.slice(1),Ie="";return"@"!=Z.charAt(0)&&([Z,Ie]=function ta(U){const E=U.indexOf(".");return[U.substring(0,E),U.slice(E+1)]}(Z)),this.engine.listen(this.namespaceId,N,Z,Ie,Ae=>{this.factory.scheduleListenerCallback(Ae._data||-1,S,Ae)})}return this.delegate.listen(E,v,S)}}class bs{constructor(E,v,S){this.delegate=E,this.engine=v,this._zone=S,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,v.onRemovalComplete=(N,Z)=>{const Ie=Z?.parentNode(N);Ie&&Z.removeChild(Ie,N)}}createRenderer(E,v){const N=this.delegate.createRenderer(E,v);if(!E||!v?.data?.animation){const Ue=this._rendererCache;let St=Ue.get(N);return St||(St=new xa("",N,this.engine,()=>Ue.delete(N)),Ue.set(N,St)),St}const Z=v.id,Ie=v.id+"-"+this._currentId;this._currentId++,this.engine.register(Ie,E);const Ae=Ue=>{Array.isArray(Ue)?Ue.forEach(Ae):this.engine.registerTrigger(Z,Ie,E,Ue.name,Ue)};return v.data.animation.forEach(Ae),new Ko(this,Ie,N,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(E,v,S){if(E>=0&&E<this._microtaskId)return void this._zone.run(()=>v(S));const N=this._animationCallbacksBuffer;0==N.length&&queueMicrotask(()=>{this._zone.run(()=>{N.forEach(Z=>{const[Ie,Ae]=Z;Ie(Ae)}),this._animationCallbacksBuffer=[]})}),N.push([v,S])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}const ho=[{provide:nr,useFactory:function jr(){return new Eo}},{provide:ea,useClass:(()=>{class U extends ea{constructor(v,S,N){super(v,S,N,(0,_.WQX)(_.An2,{optional:!0}))}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(S){return new(S||U)(_.KVO(V.qQ),_.KVO(Zn),_.KVO(nr))};static#t=this.\u0275prov=_.jDH({token:U,factory:U.\u0275fac})}return U})()},{provide:_._9s,useFactory:function Ka(U,E,v){return new bs(U,E,v)},deps:[p.B7,ea,_.SKi]}],hs=[{provide:Zn,useFactory:()=>new co},{provide:_.bc$,useValue:"BrowserAnimations"},...ho],ll=[{provide:Zn,useClass:li},{provide:_.bc$,useValue:"NoopAnimations"},...ho];let cl=(()=>{class U{static withConfig(v){return{ngModule:U,providers:v.disableAnimations?ll:hs}}static#e=this.\u0275fac=function(S){return new(S||U)};static#t=this.\u0275mod=_.$C({type:U});static#n=this.\u0275inj=_.G2t({providers:hs,imports:[p.Bb]})}return U})();var mi=L(9253),b=L(1182),K=L(7144),O=L(2796),$=L(2231),ve=L(491),at=L(7617),wt=L(5015);let hn=(()=>{class U{static#e=this.\u0275fac=function(S){return new(S||U)};static#t=this.\u0275mod=_.$C({type:U,bootstrap:[Ye]});static#n=this.\u0275inj=_.G2t({providers:[{provide:V.hb,useClass:V.fw}],imports:[p.Bb,an,Jt.q1,ne.YN,cl,ve.D,mi.bf.initializeApp(K.c.firebaseConfig),b.X8,O.tm,$.q4,at.N9,ue.u,wt.d,Ct,dn.d]})}return U})();p.sG().bootstrapModule(hn).catch(U=>console.error(U))},5845:(zt,ze,L)=>{L.d(ze,{$:()=>$s,A:()=>le,G:()=>Ke,K:()=>Xr,L:()=>Ji,N:()=>wi,P:()=>gd,R:()=>vr,U:()=>Gn,V:()=>Di,W:()=>yr,X:()=>Qi,Y:()=>Sa,Z:()=>Oi,_:()=>Ni,a:()=>Po,a0:()=>Ra,a1:()=>xs,a2:()=>ha,a3:()=>Ts,a4:()=>al,a5:()=>Ma,a6:()=>ks,a7:()=>Ws,a8:()=>lo,a9:()=>Wo,aA:()=>st,aB:()=>Ve,aC:()=>ue,aD:()=>Za,aE:()=>$t,aF:()=>ur,aG:()=>Al,aH:()=>yi,aI:()=>ef,aJ:()=>mn,aN:()=>Rn,aQ:()=>di,aa:()=>ga,ab:()=>ma,ac:()=>zs,ad:()=>co,ae:()=>Tl,af:()=>xa,ag:()=>ki,ah:()=>bs,ak:()=>ho,al:()=>ll,am:()=>cl,ap:()=>G,aq:()=>at,as:()=>wn,at:()=>en,au:()=>pt,av:()=>Yi,aw:()=>Pr,ax:()=>Ge,ay:()=>Lo,az:()=>No,b:()=>Xi,c:()=>Zp,d:()=>Jh,e:()=>Zh,f:()=>Kr,g:()=>ht,h:()=>Oo,i:()=>Mo,j:()=>Vi,k:()=>Pc,l:()=>os,m:()=>Jp,p:()=>oe,r:()=>pd,s:()=>Ia,u:()=>Xp});var p=L(467),F=L(7852),_=L(1076),_e=L(8041),V=L(1635),Q=L(1362);const oe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},le={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ke=function Re(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},yt=function We(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},At=new _.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ft=new _e.Vy("@firebase/auth");function Bt(w,...h){ft.logLevel<=_e.$b.ERROR&&ft.error(`Auth (${F.SDK_VERSION}): ${w}`,...h)}function Ge(w,...h){throw Xe(w,...h)}function Ve(w,...h){return Xe(w,...h)}function De(w,h,g){const C=Object.assign(Object.assign({},yt()),{[h]:g});return new _.FA("auth","Firebase",C).create(h,{appName:w.name})}function ye(w){return De(w,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function be(w,h,g){if(!(h instanceof g))throw g.name!==h.constructor.name&&Ge(w,"argument-error"),De(w,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Xe(w,...h){if("string"!=typeof w){const g=h[0],C=[...h.slice(1)];return C[0]&&(C[0].appName=w.name),w._errorFactory.create(g,...C)}return At.create(w,...h)}function ue(w,h,...g){if(!w)throw Xe(h,...g)}function Se(w){const h="INTERNAL ASSERTION FAILED: "+w;throw Bt(h),new Error(h)}function pt(w,h){w||Se(h)}function Ee(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.href)||""}function Ht(){return"http:"===In()||"https:"===In()}function In(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class Ct{constructor(h,g){this.shortDelay=h,this.longDelay=g,pt(g>h,"Short delay should be less than long delay!"),this.isMobile=(0,_.jZ)()||(0,_.lV)()}get(){return function vt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ht()||(0,_.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Me(w,h){pt(w.emulator,"Emulator should always be set here");const{url:g}=w.emulator;return h?`${g}${h.startsWith("/")?h.slice(1):h}`:g}class He{static initialize(h,g,C){this.fetchImpl=h,g&&(this.headersImpl=g),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Se("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Se("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Se("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const lt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ze=new Ct(3e4,6e4);function dt(w,h){return w.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:w.tenantId}):h}function Qe(w,h,g,C){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,p.A)(function*(w,h,g,C,H={}){return Gt(w,H,(0,p.A)(function*(){let ie={},Le={};C&&("GET"===h?Le=C:ie={body:JSON.stringify(C)});const ct=(0,_.Am)(Object.assign({key:w.config.apiKey},Le)).slice(1),Dt=yield w._getAdditionalHeaders();return Dt["Content-Type"]="application/json",w.languageCode&&(Dt["X-Firebase-Locale"]=w.languageCode),He.fetch()(Dn(w,w.config.apiHost,g,ct),Object.assign({method:h,headers:Dt,referrerPolicy:"no-referrer"},ie))}))})).apply(this,arguments)}function Gt(w,h,g){return on.apply(this,arguments)}function on(){return(on=(0,p.A)(function*(w,h,g){w._canInitEmulator=!1;const C=Object.assign(Object.assign({},lt),h);try{const H=new Wn(w),ie=yield Promise.race([g(),H.promise]);H.clearNetworkTimeout();const Le=yield ie.json();if("needConfirmation"in Le)throw Qn(w,"account-exists-with-different-credential",Le);if(ie.ok&&!("errorMessage"in Le))return Le;{const ct=ie.ok?Le.errorMessage:Le.error.message,[Dt,vn]=ct.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Dt)throw Qn(w,"credential-already-in-use",Le);if("EMAIL_EXISTS"===Dt)throw Qn(w,"email-already-in-use",Le);if("USER_DISABLED"===Dt)throw Qn(w,"user-disabled",Le);const Mn=C[Dt]||Dt.toLowerCase().replace(/[_\s]+/g,"-");if(vn)throw De(w,Mn,vn);Ge(w,Mn)}}catch(H){if(H instanceof _.g)throw H;Ge(w,"network-request-failed",{message:String(H)})}})).apply(this,arguments)}function Mt(w,h,g,C){return fn.apply(this,arguments)}function fn(){return(fn=(0,p.A)(function*(w,h,g,C,H={}){const ie=yield Qe(w,h,g,C,H);return"mfaPendingCredential"in ie&&Ge(w,"multi-factor-auth-required",{_serverResponse:ie}),ie})).apply(this,arguments)}function Dn(w,h,g,C){const H=`${h}${g}?${C}`;return w.config.emulator?Me(w.config,H):`${w.config.apiScheme}://${H}`}function xn(w){switch(w){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Wn{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((g,C)=>{this.timer=setTimeout(()=>C(Ve(this.auth,"network-request-failed")),Ze.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Qn(w,h,g){const C={appName:w.name};g.email&&(C.email=g.email),g.phoneNumber&&(C.phoneNumber=g.phoneNumber);const H=Ve(w,h,C);return H.customData._tokenResponse=g,H}function Bn(w){return void 0!==w&&void 0!==w.getResponse}function Yt(w){return void 0!==w&&void 0!==w.enterprise}class ir{constructor(h){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===h.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=h.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=h.recaptchaEnforcementState}getProviderEnforcementState(h){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const g of this.recaptchaEnforcementState)if(g.provider&&g.provider===h)return xn(g.enforcementState);return null}isProviderEnabled(h){return"ENFORCE"===this.getProviderEnforcementState(h)||"AUDIT"===this.getProviderEnforcementState(h)}}function Nn(){return(Nn=(0,p.A)(function*(w){return(yield Qe(w,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function jn(w,h){return Er.apply(this,arguments)}function Er(){return(Er=(0,p.A)(function*(w,h){return Qe(w,"GET","/v2/recaptchaConfig",dt(w,h))})).apply(this,arguments)}function Sr(){return(Sr=(0,p.A)(function*(w,h){return Qe(w,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function an(){return(an=(0,p.A)(function*(w,h){return Qe(w,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function dn(w,h){return xr.apply(this,arguments)}function xr(){return(xr=(0,p.A)(function*(w,h){return Qe(w,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function Ye(w){if(w)try{const h=new Date(Number(w));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function je(){return(je=(0,p.A)(function*(w,h=!1){const g=(0,_.Ku)(w),C=yield g.getIdToken(h),H=It(C);ue(H&&H.exp&&H.auth_time&&H.iat,g.auth,"internal-error");const ie="object"==typeof H.firebase?H.firebase:void 0,Le=ie?.sign_in_provider;return{claims:H,token:C,authTime:Ye(bt(H.auth_time)),issuedAtTime:Ye(bt(H.iat)),expirationTime:Ye(bt(H.exp)),signInProvider:Le||null,signInSecondFactor:ie?.sign_in_second_factor||null}})).apply(this,arguments)}function bt(w){return 1e3*Number(w)}function It(w){const[h,g,C]=w.split(".");if(void 0===h||void 0===g||void 0===C)return Bt("JWT malformed, contained fewer than 3 sections"),null;try{const H=(0,_.u)(g);return H?JSON.parse(H):(Bt("Failed to decode base64 JWT payload"),null)}catch(H){return Bt("Caught error parsing JWT payload as JSON",H?.toString()),null}}function zn(w){const h=It(w);return ue(h,"internal-error"),ue(typeof h.exp<"u","internal-error"),ue(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}function rn(w,h){return kn.apply(this,arguments)}function kn(){return(kn=(0,p.A)(function*(w,h,g=!1){if(g)return h;try{return yield h}catch(C){throw C instanceof _.g&&function Sn({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}(C)&&w.auth.currentUser===w&&(yield w.auth.signOut()),C}})).apply(this,arguments)}class ar{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var g;if(h){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const H=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,H)}}schedule(h=!1){var g=this;if(!this.isRunning)return;const C=this.getInterval(h);this.timerId=setTimeout((0,p.A)(function*(){yield g.iteration()}),C)}iteration(){var h=this;return(0,p.A)(function*(){try{yield h.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&h.schedule(!0))}h.schedule()})()}}class Rr{constructor(h,g){this.createdAt=h,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ye(this.lastLoginAt),this.creationTime=Ye(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Wr(w){return fi.apply(this,arguments)}function fi(){return(fi=(0,p.A)(function*(w){var h;const g=w.auth,C=yield w.getIdToken(),H=yield rn(w,dn(g,{idToken:C}));ue(H?.users.length,g,"internal-error");const ie=H.users[0];w._notifyReloadListener(ie);const Le=null!==(h=ie.providerUserInfo)&&void 0!==h&&h.length?me(ie.providerUserInfo):[],ct=function qe(w,h){return[...w.filter(C=>!h.some(H=>H.providerId===C.providerId)),...h]}(w.providerData,Le),Mn=!!w.isAnonymous&&!(w.email&&ie.passwordHash||ct?.length),Ir={uid:ie.localId,displayName:ie.displayName||null,photoURL:ie.photoUrl||null,email:ie.email||null,emailVerified:ie.emailVerified||!1,phoneNumber:ie.phoneNumber||null,tenantId:ie.tenantId||null,providerData:ct,metadata:new Rr(ie.createdAt,ie.lastLoginAt),isAnonymous:Mn};Object.assign(w,Ir)})).apply(this,arguments)}function Fe(){return(Fe=(0,p.A)(function*(w){const h=(0,_.Ku)(w);yield Wr(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function me(w){return w.map(h=>{var{providerId:g}=h,C=(0,V.Tt)(h,["providerId"]);return{providerId:g,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}function ae(){return(ae=(0,p.A)(function*(w,h){const g=yield Gt(w,{},(0,p.A)(function*(){const C=(0,_.Am)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:H,apiKey:ie}=w.config,Le=Dn(w,H,"/v1/token",`key=${ie}`),ct=yield w._getAdditionalHeaders();return ct["Content-Type"]="application/x-www-form-urlencoded",He.fetch()(Le,{method:"POST",headers:ct,body:C})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}function Y(){return(Y=(0,p.A)(function*(w,h){return Qe(w,"POST","/v2/accounts:revokeToken",dt(w,h))})).apply(this,arguments)}class re{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){ue(h.idToken,"internal-error"),ue(typeof h.idToken<"u","internal-error"),ue(typeof h.refreshToken<"u","internal-error");const g="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):zn(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,g)}updateFromIdToken(h){ue(0!==h.length,"internal-error");const g=zn(h);this.updateTokensAndExpiration(h,null,g)}getToken(h,g=!1){var C=this;return(0,p.A)(function*(){return g||!C.accessToken||C.isExpired?(ue(C.refreshToken,h,"user-token-expired"),C.refreshToken?(yield C.refresh(h,C.refreshToken),C.accessToken):null):C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,g){var C=this;return(0,p.A)(function*(){const{accessToken:H,refreshToken:ie,expiresIn:Le}=yield function Oe(w,h){return ae.apply(this,arguments)}(h,g);C.updateTokensAndExpiration(H,ie,Number(Le))})()}updateTokensAndExpiration(h,g,C){this.refreshToken=g||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(h,g){const{refreshToken:C,accessToken:H,expirationTime:ie}=g,Le=new re;return C&&(ue("string"==typeof C,"internal-error",{appName:h}),Le.refreshToken=C),H&&(ue("string"==typeof H,"internal-error",{appName:h}),Le.accessToken=H),ie&&(ue("number"==typeof ie,"internal-error",{appName:h}),Le.expirationTime=ie),Le}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new re,this.toJSON())}_performRefresh(){return Se("not implemented")}}function X(w,h){ue("string"==typeof w||typeof w>"u","internal-error",{appName:h})}class ke{constructor(h){var{uid:g,auth:C,stsTokenManager:H}=h,ie=(0,V.Tt)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ar(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=C,this.stsTokenManager=H,this.accessToken=H.accessToken,this.displayName=ie.displayName||null,this.email=ie.email||null,this.emailVerified=ie.emailVerified||!1,this.phoneNumber=ie.phoneNumber||null,this.photoURL=ie.photoURL||null,this.isAnonymous=ie.isAnonymous||!1,this.tenantId=ie.tenantId||null,this.providerData=ie.providerData?[...ie.providerData]:[],this.metadata=new Rr(ie.createdAt||void 0,ie.lastLoginAt||void 0)}getIdToken(h){var g=this;return(0,p.A)(function*(){const C=yield rn(g,g.stsTokenManager.getToken(g.auth,h));return ue(C,g.auth,"internal-error"),g.accessToken!==C&&(g.accessToken=C,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),C})()}getIdTokenResult(h){return function ge(w){return je.apply(this,arguments)}(this,h)}reload(){return function ti(w){return Fe.apply(this,arguments)}(this)}_assign(h){this!==h&&(ue(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(g=>Object.assign({},g)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const g=new ke(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(h){ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,g=!1){var C=this;return(0,p.A)(function*(){let H=!1;h.idToken&&h.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(h),H=!0),g&&(yield Wr(C)),yield C.auth._persistUserIfCurrent(C),H&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var h=this;return(0,p.A)(function*(){if((0,F._isFirebaseServerApp)(h.auth.app))return Promise.reject(ye(h.auth));const g=yield h.getIdToken();return yield rn(h,function Dr(w,h){return Sr.apply(this,arguments)}(h.auth,{idToken:g})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,g){var C,H,ie,Le,ct,Dt,vn,Mn;const Ir=null!==(C=g.displayName)&&void 0!==C?C:void 0,qs=null!==(H=g.email)&&void 0!==H?H:void 0,Ua=null!==(ie=g.phoneNumber)&&void 0!==ie?ie:void 0,xc=null!==(Le=g.photoURL)&&void 0!==Le?Le:void 0,Ca=null!==(ct=g.tenantId)&&void 0!==ct?ct:void 0,Pd=null!==(Dt=g._redirectEventId)&&void 0!==Dt?Dt:void 0,Ss=null!==(vn=g.createdAt)&&void 0!==vn?vn:void 0,Ja=null!==(Mn=g.lastLoginAt)&&void 0!==Mn?Mn:void 0,{uid:kl,emailVerified:Eu,isAnonymous:oa,providerData:el,stsTokenManager:ba}=g;ue(kl&&ba,h,"internal-error");const ps=re.fromJSON(this.name,ba);ue("string"==typeof kl,h,"internal-error"),X(Ir,h.name),X(qs,h.name),ue("boolean"==typeof Eu,h,"internal-error"),ue("boolean"==typeof oa,h,"internal-error"),X(Ua,h.name),X(xc,h.name),X(Ca,h.name),X(Pd,h.name),X(Ss,h.name),X(Ja,h.name);const Md=new ke({uid:kl,auth:h,email:qs,emailVerified:Eu,displayName:Ir,isAnonymous:oa,photoURL:xc,phoneNumber:Ua,tenantId:Ca,stsTokenManager:ps,createdAt:Ss,lastLoginAt:Ja});return el&&Array.isArray(el)&&(Md.providerData=el.map(pr=>Object.assign({},pr))),Pd&&(Md._redirectEventId=Pd),Md}static _fromIdTokenResponse(h,g,C=!1){return(0,p.A)(function*(){const H=new re;H.updateFromServerResponse(g);const ie=new ke({uid:g.localId,auth:h,stsTokenManager:H,isAnonymous:C});return yield Wr(ie),ie})()}static _fromGetAccountInfoResponse(h,g,C){return(0,p.A)(function*(){const H=g.users[0];ue(void 0!==H.localId,"internal-error");const ie=void 0!==H.providerUserInfo?me(H.providerUserInfo):[],Le=!(H.email&&H.passwordHash||ie?.length),ct=new re;ct.updateFromIdToken(C);const Dt=new ke({uid:H.localId,auth:h,stsTokenManager:ct,isAnonymous:Le}),vn={uid:H.localId,displayName:H.displayName||null,photoURL:H.photoUrl||null,email:H.email||null,emailVerified:H.emailVerified||!1,phoneNumber:H.phoneNumber||null,tenantId:H.tenantId||null,providerData:ie,metadata:new Rr(H.createdAt,H.lastLoginAt),isAnonymous:!(H.email&&H.passwordHash||ie?.length)};return Object.assign(Dt,vn),Dt})()}}const gt=new Map;function $t(w){pt(w instanceof Function,"Expected a class definition");let h=gt.get(w);return h?(pt(h instanceof w,"Instance stored in cache mismatched with class"),h):(h=new w,gt.set(w,h),h)}const Gn=(()=>{class w{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,p.A)(function*(){return!0})()}_set(g,C){var H=this;return(0,p.A)(function*(){H.storage[g]=C})()}_get(g){var C=this;return(0,p.A)(function*(){const H=C.storage[g];return void 0===H?null:H})()}_remove(g){var C=this;return(0,p.A)(function*(){delete C.storage[g]})()}_addListener(g,C){}_removeListener(g,C){}}return w.type="NONE",w})();function ur(w,h,g){return`firebase:${w}:${h}:${g}`}class pn{constructor(h,g,C){this.persistence=h,this.auth=g,this.userKey=C;const{config:H,name:ie}=this.auth;this.fullUserKey=ur(this.userKey,H.apiKey,ie),this.fullPersistenceKey=ur("persistence",H.apiKey,ie),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,p.A)(function*(){const g=yield h.persistence._get(h.fullUserKey);return g?ke._fromJSON(h.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var g=this;return(0,p.A)(function*(){if(g.persistence===h)return;const C=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=h,C?g.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,g,C="authUser"){return(0,p.A)(function*(){if(!g.length)return new pn($t(Gn),h,C);const H=(yield Promise.all(g.map(function(){var vn=(0,p.A)(function*(Mn){if(yield Mn._isAvailable())return Mn});return function(Mn){return vn.apply(this,arguments)}}()))).filter(vn=>vn);let ie=H[0]||$t(Gn);const Le=ur(C,h.config.apiKey,h.name);let ct=null;for(const vn of g)try{const Mn=yield vn._get(Le);if(Mn){const Ir=ke._fromJSON(h,Mn);vn!==ie&&(ct=Ir),ie=vn;break}}catch{}const Dt=H.filter(vn=>vn._shouldAllowMigration);return ie._shouldAllowMigration&&Dt.length?(ie=Dt[0],ct&&(yield ie._set(Le,ct.toJSON())),yield Promise.all(g.map(function(){var vn=(0,p.A)(function*(Mn){if(Mn!==ie)try{yield Mn._remove(Le)}catch{}});return function(Mn){return vn.apply(this,arguments)}}())),new pn(ie,h,C)):new pn(ie,h,C)})()}}function Zt(w){const h=w.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(Fr(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(tr(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(sr(h))return"Blackberry";if(ds(h))return"Webos";if(Lr(h))return"Safari";if((h.includes("chrome/")||Bi(h))&&!h.includes("edge/"))return"Chrome";if(Pr(h))return"Android";{const C=w.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===C?.length)return C[1]}return"Other"}function tr(w=(0,_.ZQ)()){return/firefox\//i.test(w)}function Lr(w=(0,_.ZQ)()){const h=w.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function Bi(w=(0,_.ZQ)()){return/crios\//i.test(w)}function Fr(w=(0,_.ZQ)()){return/iemobile/i.test(w)}function Pr(w=(0,_.ZQ)()){return/android/i.test(w)}function sr(w=(0,_.ZQ)()){return/blackberry/i.test(w)}function ds(w=(0,_.ZQ)()){return/webos/i.test(w)}function Yi(w=(0,_.ZQ)()){return/iphone|ipad|ipod/i.test(w)||/macintosh/i.test(w)&&/mobile/i.test(w)}function st(w=(0,_.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(w)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(w)}function Xt(w=(0,_.ZQ)()){return Yi(w)||Pr(w)||ds(w)||sr(w)||/windows phone/i.test(w)||Fr(w)}function te(w,h=[]){let g;switch(w){case"Browser":g=Zt((0,_.ZQ)());break;case"Worker":g=`${Zt((0,_.ZQ)())}-${w}`;break;default:g=w}const C=h.length?h.join(","):"FirebaseCore-web";return`${g}/JsCore/${F.SDK_VERSION}/${C}`}class pe{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,g){const C=ie=>new Promise((Le,ct)=>{try{Le(h(ie))}catch(Dt){ct(Dt)}});C.onAbort=g,this.queue.push(C);const H=this.queue.length-1;return()=>{this.queue[H]=()=>Promise.resolve()}}runMiddleware(h){var g=this;return(0,p.A)(function*(){if(g.auth.currentUser===h)return;const C=[];try{for(const H of g.queue)yield H(h),H.onAbort&&C.push(H.onAbort)}catch(H){C.reverse();for(const ie of C)try{ie()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:H?.message})}})()}}function nt(){return(nt=(0,p.A)(function*(w,h={}){return Qe(w,"GET","/v2/passwordPolicy",dt(w,h))})).apply(this,arguments)}class xt{constructor(h){var g,C,H,ie;const Le=h.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(g=Le.minPasswordLength)&&void 0!==g?g:6,Le.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Le.maxPasswordLength),void 0!==Le.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Le.containsLowercaseCharacter),void 0!==Le.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Le.containsUppercaseCharacter),void 0!==Le.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Le.containsNumericCharacter),void 0!==Le.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Le.containsNonAlphanumericCharacter),this.enforcementState=h.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(H=null===(C=h.allowedNonAlphanumericCharacters)||void 0===C?void 0:C.join(""))&&void 0!==H?H:"",this.forceUpgradeOnSignin=null!==(ie=h.forceUpgradeOnSignin)&&void 0!==ie&&ie,this.schemaVersion=h.schemaVersion}validatePassword(h){var g,C,H,ie,Le,ct;const Dt={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(h,Dt),this.validatePasswordCharacterOptions(h,Dt),Dt.isValid&&(Dt.isValid=null===(g=Dt.meetsMinPasswordLength)||void 0===g||g),Dt.isValid&&(Dt.isValid=null===(C=Dt.meetsMaxPasswordLength)||void 0===C||C),Dt.isValid&&(Dt.isValid=null===(H=Dt.containsLowercaseLetter)||void 0===H||H),Dt.isValid&&(Dt.isValid=null===(ie=Dt.containsUppercaseLetter)||void 0===ie||ie),Dt.isValid&&(Dt.isValid=null===(Le=Dt.containsNumericCharacter)||void 0===Le||Le),Dt.isValid&&(Dt.isValid=null===(ct=Dt.containsNonAlphanumericCharacter)||void 0===ct||ct),Dt}validatePasswordLengthOptions(h,g){const C=this.customStrengthOptions.minPasswordLength,H=this.customStrengthOptions.maxPasswordLength;C&&(g.meetsMinPasswordLength=h.length>=C),H&&(g.meetsMaxPasswordLength=h.length<=H)}validatePasswordCharacterOptions(h,g){let C;this.updatePasswordCharacterOptionsStatuses(g,!1,!1,!1,!1);for(let H=0;H<h.length;H++)C=h.charAt(H),this.updatePasswordCharacterOptionsStatuses(g,C>="a"&&C<="z",C>="A"&&C<="Z",C>="0"&&C<="9",this.allowedNonAlphanumericCharacters.includes(C))}updatePasswordCharacterOptionsStatuses(h,g,C,H,ie){this.customStrengthOptions.containsLowercaseLetter&&(h.containsLowercaseLetter||(h.containsLowercaseLetter=g)),this.customStrengthOptions.containsUppercaseLetter&&(h.containsUppercaseLetter||(h.containsUppercaseLetter=C)),this.customStrengthOptions.containsNumericCharacter&&(h.containsNumericCharacter||(h.containsNumericCharacter=H)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(h.containsNonAlphanumericCharacter||(h.containsNonAlphanumericCharacter=ie))}}class kt{constructor(h,g,C,H){this.app=h,this.heartbeatServiceProvider=g,this.appCheckServiceProvider=C,this.config=H,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Cn(this),this.idTokenSubscription=new Cn(this),this.beforeStateQueue=new pe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=At,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=H.sdkClientVersion}_initializeWithPersistence(h,g){var C=this;return g&&(this._popupRedirectResolver=$t(g)),this._initializationPromise=this.queue((0,p.A)(function*(){var H,ie;if(!C._deleted&&(C.persistenceManager=yield pn.create(C,h),!C._deleted)){if(null!==(H=C._popupRedirectResolver)&&void 0!==H&&H._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch{}yield C.initializeCurrentUser(g),C.lastNotifiedUid=(null===(ie=C.currentUser)||void 0===ie?void 0:ie.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,p.A)(function*(){if(h._deleted)return;const g=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||g){if(h.currentUser&&g&&h.currentUser.uid===g.uid)return h._currentUser._assign(g),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(g,!0)}})()}initializeCurrentUserFromIdToken(h){var g=this;return(0,p.A)(function*(){try{const C=yield dn(g,{idToken:h}),H=yield ke._fromGetAccountInfoResponse(g,C,h);yield g.directlySetCurrentUser(H)}catch(C){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",C),yield g.directlySetCurrentUser(null)}})()}initializeCurrentUser(h){var g=this;return(0,p.A)(function*(){var C;if((0,F._isFirebaseServerApp)(g.app)){const ct=g.app.settings.authIdToken;return ct?new Promise(Dt=>{setTimeout(()=>g.initializeCurrentUserFromIdToken(ct).then(Dt,Dt))}):g.directlySetCurrentUser(null)}const H=yield g.assertedPersistence.getCurrentUser();let ie=H,Le=!1;if(h&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const ct=null===(C=g.redirectUser)||void 0===C?void 0:C._redirectEventId,Dt=ie?._redirectEventId,vn=yield g.tryRedirectSignIn(h);(!ct||ct===Dt)&&vn?.user&&(ie=vn.user,Le=!0)}if(!ie)return g.directlySetCurrentUser(null);if(!ie._redirectEventId){if(Le)try{yield g.beforeStateQueue.runMiddleware(ie)}catch(ct){ie=H,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(ct))}return ie?g.reloadAndSetCurrentUserOrClear(ie):g.directlySetCurrentUser(null)}return ue(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===ie._redirectEventId?g.directlySetCurrentUser(ie):g.reloadAndSetCurrentUserOrClear(ie)})()}tryRedirectSignIn(h){var g=this;return(0,p.A)(function*(){let C=null;try{C=yield g._popupRedirectResolver._completeRedirectFn(g,h,!0)}catch{yield g._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(h){var g=this;return(0,p.A)(function*(){try{yield Wr(h)}catch(C){if("auth/network-request-failed"!==C?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function nn(){if(typeof navigator>"u")return null;const w=navigator;return w.languages&&w.languages[0]||w.language||null}()}_delete(){var h=this;return(0,p.A)(function*(){h._deleted=!0})()}updateCurrentUser(h){var g=this;return(0,p.A)(function*(){if((0,F._isFirebaseServerApp)(g.app))return Promise.reject(ye(g));const C=h?(0,_.Ku)(h):null;return C&&ue(C.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(C&&C._clone(g))})()}_updateCurrentUser(h,g=!1){var C=this;return(0,p.A)(function*(){if(!C._deleted)return h&&ue(C.tenantId===h.tenantId,C,"tenant-id-mismatch"),g||(yield C.beforeStateQueue.runMiddleware(h)),C.queue((0,p.A)(function*(){yield C.directlySetCurrentUser(h),C.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,p.A)(function*(){return(0,F._isFirebaseServerApp)(h.app)?Promise.reject(ye(h)):(yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0))})()}setPersistence(h){var g=this;return(0,F._isFirebaseServerApp)(this.app)?Promise.reject(ye(this)):this.queue((0,p.A)(function*(){yield g.assertedPersistence.setPersistence($t(h))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(h){var g=this;return(0,p.A)(function*(){g._getPasswordPolicyInternal()||(yield g._updatePasswordPolicy());const C=g._getPasswordPolicyInternal();return C.schemaVersion!==g.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(g._errorFactory.create("unsupported-password-policy-schema-version",{})):C.validatePassword(h)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var h=this;return(0,p.A)(function*(){const g=yield function we(w){return nt.apply(this,arguments)}(h),C=new xt(g);null===h.tenantId?h._projectPasswordPolicy=C:h._tenantPasswordPolicies[h.tenantId]=C})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new _.FA("auth","Firebase",h())}onAuthStateChanged(h,g,C){return this.registerStateListener(this.authStateSubscription,h,g,C)}beforeAuthStateChanged(h,g){return this.beforeStateQueue.pushCallback(h,g)}onIdTokenChanged(h,g,C){return this.registerStateListener(this.idTokenSubscription,h,g,C)}authStateReady(){return new Promise((h,g)=>{if(this.currentUser)h();else{const C=this.onAuthStateChanged(()=>{C(),h()},g)}})}revokeAccessToken(h){var g=this;return(0,p.A)(function*(){if(g.currentUser){const C=yield g.currentUser.getIdToken(),H={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:h,idToken:C};null!=g.tenantId&&(H.tenantId=g.tenantId),yield function he(w,h){return Y.apply(this,arguments)}(g,H)}})()}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,g){var C=this;return(0,p.A)(function*(){const H=yield C.getOrInitRedirectPersistenceManager(g);return null===h?H.removeCurrentUser():H.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var g=this;return(0,p.A)(function*(){if(!g.redirectPersistenceManager){const C=h&&$t(h)||g._popupRedirectResolver;ue(C,g,"argument-error"),g.redirectPersistenceManager=yield pn.create(g,[$t(C._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(h){var g=this;return(0,p.A)(function*(){var C,H;return g._isInitialized&&(yield g.queue((0,p.A)(function*(){}))),(null===(C=g._currentUser)||void 0===C?void 0:C._redirectEventId)===h?g._currentUser:(null===(H=g.redirectUser)||void 0===H?void 0:H._redirectEventId)===h?g.redirectUser:null})()}_persistUserIfCurrent(h){var g=this;return(0,p.A)(function*(){if(h===g.currentUser)return g.queue((0,p.A)(function*(){return g.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(g=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,g,C,H){if(this._deleted)return()=>{};const ie="function"==typeof g?g:g.next.bind(g);let Le=!1;const ct=this._isInitialized?Promise.resolve():this._initializationPromise;if(ue(ct,this,"internal-error"),ct.then(()=>{Le||ie(this.currentUser)}),"function"==typeof g){const Dt=h.addObserver(g,C,H);return()=>{Le=!0,Dt()}}{const Dt=h.addObserver(g);return()=>{Le=!0,Dt()}}}directlySetCurrentUser(h){var g=this;return(0,p.A)(function*(){g.currentUser&&g.currentUser!==h&&g._currentUser._stopProactiveRefresh(),h&&g.isProactiveRefreshEnabled&&h._startProactiveRefresh(),g.currentUser=h,h?yield g.assertedPersistence.setCurrentUser(h):yield g.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=te(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,p.A)(function*(){var g;const C={"X-Client-Version":h.clientVersion};h.app.options.appId&&(C["X-Firebase-gmpid"]=h.app.options.appId);const H=yield null===(g=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();H&&(C["X-Firebase-Client"]=H);const ie=yield h._getAppCheckToken();return ie&&(C["X-Firebase-AppCheck"]=ie),C})()}_getAppCheckToken(){var h=this;return(0,p.A)(function*(){var g;const C=yield null===(g=h.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getToken();return C?.error&&function Ut(w,...h){ft.logLevel<=_e.$b.WARN&&ft.warn(`Auth (${F.SDK_VERSION}): ${w}`,...h)}(`Error while retrieving App Check token: ${C.error}`),C?.token})()}}function mn(w){return(0,_.Ku)(w)}class Cn{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,_.tD)(g=>this.observer=g)}get next(){return ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Cr={loadJS:()=>(0,p.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function br(w){return Cr.loadJS(w)}function Zn(w){return`__${w}${Math.floor(1e6*Math.random())}`}class qr{constructor(h){this.type="recaptcha-enterprise",this.auth=mn(h)}verify(h="verify",g=!1){var C=this;return(0,p.A)(function*(){function ie(){return ie=(0,p.A)(function*(ct){if(!g){if(null==ct.tenantId&&null!=ct._agentRecaptchaConfig)return ct._agentRecaptchaConfig.siteKey;if(null!=ct.tenantId&&void 0!==ct._tenantRecaptchaConfigs[ct.tenantId])return ct._tenantRecaptchaConfigs[ct.tenantId].siteKey}return new Promise(function(){var Dt=(0,p.A)(function*(vn,Mn){jn(ct,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Ir=>{if(void 0!==Ir.recaptchaKey){const qs=new ir(Ir);return null==ct.tenantId?ct._agentRecaptchaConfig=qs:ct._tenantRecaptchaConfigs[ct.tenantId]=qs,vn(qs.siteKey)}Mn(new Error("recaptcha Enterprise site key undefined"))}).catch(Ir=>{Mn(Ir)})});return function(vn,Mn){return Dt.apply(this,arguments)}}())}),ie.apply(this,arguments)}function Le(ct,Dt,vn){const Mn=window.grecaptcha;Yt(Mn)?Mn.enterprise.ready(()=>{Mn.enterprise.execute(ct,{action:h}).then(Ir=>{Dt(Ir)}).catch(()=>{Dt("NO_RECAPTCHA")})}):vn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ct,Dt)=>{(function H(ct){return ie.apply(this,arguments)})(C.auth).then(vn=>{if(!g&&Yt(window.grecaptcha))Le(vn,ct,Dt);else{if(typeof window>"u")return void Dt(new Error("RecaptchaVerifier is only supported in browser"));let Mn=function Zi(){return Cr.recaptchaEnterpriseScript}();0!==Mn.length&&(Mn+=vn),br(Mn).then(()=>{Le(vn,ct,Dt)}).catch(Ir=>{Dt(Ir)})}}).catch(vn=>{Dt(vn)})})})()}}function Br(w,h,g){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,p.A)(function*(w,h,g,C=!1){const H=new qr(w);let ie;try{ie=yield H.verify(g)}catch{ie=yield H.verify(g,!0)}const Le=Object.assign({},h);return Object.assign(Le,C?{captchaResp:ie}:{captchaResponse:ie}),Object.assign(Le,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Le,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Le})).apply(this,arguments)}function _r(w,h,g,C){return ci.apply(this,arguments)}function ci(){return ci=(0,p.A)(function*(w,h,g,C){var H;if(null!==(H=w._getRecaptchaConfig())&&void 0!==H&&H.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const ie=yield Br(w,h,g,"getOobCode"===g);return C(w,ie)}return C(w,h).catch(function(){var ie=(0,p.A)(function*(Le){if("auth/missing-recaptcha-token"===Le.code){console.log(`${g} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const ct=yield Br(w,h,g,"getOobCode"===g);return C(w,ct)}return Promise.reject(Le)});return function(Le){return ie.apply(this,arguments)}}())}),ci.apply(this,arguments)}function Xr(w,h,g){const C=mn(w);ue(C._canInitEmulator,C,"emulator-config-failed"),ue(/^https?:\/\//.test(h),C,"invalid-emulator-scheme");const H=!!g?.disableWarnings,ie=Bo(h),{host:Le,port:ct}=function Us(w){const h=Bo(w),g=/(\/\/)?([^?#/]+)/.exec(w.substr(h.length));if(!g)return{host:"",port:null};const C=g[2].split("@").pop()||"",H=/^(\[[^\]]+\])(:|$)/.exec(C);if(H){const ie=H[1];return{host:ie,port:Bs(C.substr(ie.length+1))}}{const[ie,Le]=C.split(":");return{host:ie,port:Bs(Le)}}}(h);C.config.emulator={url:`${ie}//${Le}${null===ct?"":`:${ct}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:Le,port:ct,protocol:ie.replace(":",""),options:Object.freeze({disableWarnings:H})}),H||function lr(){function w(){const h=document.createElement("p"),g=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",w):w())}()}function Bo(w){const h=w.indexOf(":");return h<0?"":w.substr(0,h+1)}function Bs(w){if(!w)return null;const h=Number(w);return isNaN(h)?null:h}class Ji{constructor(h,g){this.providerId=h,this.signInMethod=g}toJSON(){return Se("not implemented")}_getIdTokenResponse(h){return Se("not implemented")}_linkToIdToken(h,g){return Se("not implemented")}_getReauthenticationResolver(h){return Se("not implemented")}}function zi(w,h){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,p.A)(function*(w,h){return Qe(w,"POST","/v1/accounts:resetPassword",dt(w,h))})).apply(this,arguments)}function ca(){return(ca=(0,p.A)(function*(w,h){return Qe(w,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function jo(w,h){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,p.A)(function*(w,h){return Qe(w,"POST","/v1/accounts:signUp",h)})).apply(this,arguments)}function _s(){return(_s=(0,p.A)(function*(w,h){return Qe(w,"POST","/v1/accounts:update",dt(w,h))})).apply(this,arguments)}function Ho(w,h){return Io.apply(this,arguments)}function Io(){return(Io=(0,p.A)(function*(w,h){return Mt(w,"POST","/v1/accounts:signInWithPassword",dt(w,h))})).apply(this,arguments)}function Js(w,h){return js.apply(this,arguments)}function js(){return(js=(0,p.A)(function*(w,h){return Qe(w,"POST","/v1/accounts:sendOobCode",dt(w,h))})).apply(this,arguments)}function Ci(){return(Ci=(0,p.A)(function*(w,h){return Js(w,h)})).apply(this,arguments)}function Ai(w,h){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,p.A)(function*(w,h){return Js(w,h)})).apply(this,arguments)}function Ei(w,h){return ys.apply(this,arguments)}function ys(){return(ys=(0,p.A)(function*(w,h){return Js(w,h)})).apply(this,arguments)}function vs(){return(vs=(0,p.A)(function*(w,h){return Js(w,h)})).apply(this,arguments)}function Hi(){return(Hi=(0,p.A)(function*(w,h){return Mt(w,"POST","/v1/accounts:signInWithEmailLink",dt(w,h))})).apply(this,arguments)}function wo(){return(wo=(0,p.A)(function*(w,h){return Mt(w,"POST","/v1/accounts:signInWithEmailLink",dt(w,h))})).apply(this,arguments)}class to extends Ji{constructor(h,g,C,H=null){super("password",C),this._email=h,this._password=g,this._tenantId=H}static _fromEmailAndPassword(h,g){return new to(h,g,"password")}static _fromEmailAndCode(h,g,C=null){return new to(h,g,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(h){var g=this;return(0,p.A)(function*(){switch(g.signInMethod){case"password":return _r(h,{returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Ho);case"emailLink":return function eo(w,h){return Hi.apply(this,arguments)}(h,{email:g._email,oobCode:g._password});default:Ge(h,"internal-error")}})()}_linkToIdToken(h,g){var C=this;return(0,p.A)(function*(){switch(C.signInMethod){case"password":return _r(h,{idToken:g,returnSecureToken:!0,email:C._email,password:C._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",jo);case"emailLink":return function Ps(w,h){return wo.apply(this,arguments)}(h,{idToken:g,email:C._email,oobCode:C._password});default:Ge(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function ts(w,h){return qi.apply(this,arguments)}function qi(){return(qi=(0,p.A)(function*(w,h){return Mt(w,"POST","/v1/accounts:signInWithIdp",dt(w,h))})).apply(this,arguments)}class wi extends Ji{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const g=new wi(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(g.idToken=h.idToken),h.accessToken&&(g.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(g.nonce=h.nonce),h.pendingToken&&(g.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(g.accessToken=h.oauthToken,g.secret=h.oauthTokenSecret):Ge("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h,{providerId:C,signInMethod:H}=g,ie=(0,V.Tt)(g,["providerId","signInMethod"]);if(!C||!H)return null;const Le=new wi(C,H);return Le.idToken=ie.idToken||void 0,Le.accessToken=ie.accessToken||void 0,Le.secret=ie.secret,Le.nonce=ie.nonce,Le.pendingToken=ie.pendingToken||null,Le}_getIdTokenResponse(h){return ts(h,this.buildRequest())}_linkToIdToken(h,g){const C=this.buildRequest();return C.idToken=g,ts(h,C)}_getReauthenticationResolver(h){const g=this.buildRequest();return g.autoCreate=!1,ts(h,g)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),h.postBody=(0,_.Am)(g)}return h}}function ns(){return(ns=(0,p.A)(function*(w,h){return Qe(w,"POST","/v1/accounts:sendVerificationCode",dt(w,h))})).apply(this,arguments)}function Jr(){return(Jr=(0,p.A)(function*(w,h){return Mt(w,"POST","/v1/accounts:signInWithPhoneNumber",dt(w,h))})).apply(this,arguments)}function ro(){return(ro=(0,p.A)(function*(w,h){const g=yield Mt(w,"POST","/v1/accounts:signInWithPhoneNumber",dt(w,h));if(g.temporaryProof)throw Qn(w,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Is={USER_NOT_FOUND:"user-not-found"};function Co(){return(Co=(0,p.A)(function*(w,h){return Mt(w,"POST","/v1/accounts:signInWithPhoneNumber",dt(w,Object.assign(Object.assign({},h),{operation:"REAUTH"})),Is)})).apply(this,arguments)}class Es extends Ji{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,g){return new Es({verificationId:h,verificationCode:g})}static _fromTokenResponse(h,g){return new Es({phoneNumber:h,temporaryProof:g})}_getIdTokenResponse(h){return function no(w,h){return Jr.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,g){return function hr(w,h){return ro.apply(this,arguments)}(h,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function rs(w,h){return Co.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:g,verificationId:C,verificationCode:H}=this.params;return h&&g?{temporaryProof:h,phoneNumber:g}:{sessionInfo:C,code:H}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:g,verificationCode:C,phoneNumber:H,temporaryProof:ie}=h;return C||g||H||ie?new Es({verificationId:g,verificationCode:C,phoneNumber:H,temporaryProof:ie}):null}}class ui{constructor(h){var g,C,H,ie,Le,ct;const Dt=(0,_.I9)((0,_.hp)(h)),vn=null!==(g=Dt.apiKey)&&void 0!==g?g:null,Mn=null!==(C=Dt.oobCode)&&void 0!==C?C:null,Ir=function Hs(w){switch(w){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(H=Dt.mode)&&void 0!==H?H:null);ue(vn&&Mn&&Ir,"argument-error"),this.apiKey=vn,this.operation=Ir,this.code=Mn,this.continueUrl=null!==(ie=Dt.continueUrl)&&void 0!==ie?ie:null,this.languageCode=null!==(Le=Dt.languageCode)&&void 0!==Le?Le:null,this.tenantId=null!==(ct=Dt.tenantId)&&void 0!==ct?ct:null}static parseLink(h){const g=function io(w){const h=(0,_.I9)((0,_.hp)(w)).link,g=h?(0,_.I9)((0,_.hp)(h)).deep_link_id:null,C=(0,_.I9)((0,_.hp)(w)).deep_link_id;return(C?(0,_.I9)((0,_.hp)(C)).link:null)||C||g||h||w}(h);try{return new ui(g)}catch{return null}}}let Di=(()=>{class w{constructor(){this.providerId=w.PROVIDER_ID}static credential(g,C){return to._fromEmailAndPassword(g,C)}static credentialWithLink(g,C){const H=ui.parseLink(C);return ue(H,"argument-error"),to._fromEmailAndCode(g,H.code,H.tenantId)}}return w.PROVIDER_ID="password",w.EMAIL_PASSWORD_SIGN_IN_METHOD="password",w.EMAIL_LINK_SIGN_IN_METHOD="emailLink",w})();class xi{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class so extends xi{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class Oi extends so{static credentialFromJSON(h){const g="string"==typeof h?JSON.parse(h):h;return ue("providerId"in g&&"signInMethod"in g,"argument-error"),wi._fromParams(g)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return ue(h.idToken||h.accessToken,"argument-error"),wi._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return Oi.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return Oi.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:g,oauthAccessToken:C,oauthTokenSecret:H,pendingToken:ie,nonce:Le,providerId:ct}=h;if(!C&&!H&&!g&&!ie||!ct)return null;try{return new Oi(ct)._credential({idToken:g,accessToken:C,nonce:Le,pendingToken:ie})}catch{return null}}}let yr=(()=>{class w extends so{constructor(){super("facebook.com")}static credential(g){return wi._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return w.credentialFromTaggedObject(g)}static credentialFromError(g){return w.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return w.credential(g.oauthAccessToken)}catch{return null}}}return w.FACEBOOK_SIGN_IN_METHOD="facebook.com",w.PROVIDER_ID="facebook.com",w})(),Qi=(()=>{class w extends so{constructor(){super("google.com"),this.addScope("profile")}static credential(g,C){return wi._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:C})}static credentialFromResult(g){return w.credentialFromTaggedObject(g)}static credentialFromError(g){return w.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:C,oauthAccessToken:H}=g;if(!C&&!H)return null;try{return w.credential(C,H)}catch{return null}}}return w.GOOGLE_SIGN_IN_METHOD="google.com",w.PROVIDER_ID="google.com",w})(),Sa=(()=>{class w extends so{constructor(){super("github.com")}static credential(g){return wi._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return w.credentialFromTaggedObject(g)}static credentialFromError(g){return w.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return w.credential(g.oauthAccessToken)}catch{return null}}}return w.GITHUB_SIGN_IN_METHOD="github.com",w.PROVIDER_ID="github.com",w})();class di extends Ji{constructor(h,g){super(h,h),this.pendingToken=g}_getIdTokenResponse(h){return ts(h,this.buildRequest())}_linkToIdToken(h,g){const C=this.buildRequest();return C.idToken=g,ts(h,C)}_getReauthenticationResolver(h){const g=this.buildRequest();return g.autoCreate=!1,ts(h,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h,{providerId:C,signInMethod:H,pendingToken:ie}=g;return C&&H&&ie&&C===H?new di(C,ie):null}static _create(h,g){return new di(h,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ni extends xi{constructor(h){ue(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return Ni.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return Ni.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const g=di.fromJSON(h);return ue(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:g,providerId:C}=h;if(!g||!C)return null;try{return di._create(C,g)}catch{return null}}}let $s=(()=>{class w extends so{constructor(){super("twitter.com")}static credential(g,C){return wi._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:C})}static credentialFromResult(g){return w.credentialFromTaggedObject(g)}static credentialFromError(g){return w.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:C,oauthTokenSecret:H}=g;if(!C||!H)return null;try{return w.credential(C,H)}catch{return null}}}return w.TWITTER_SIGN_IN_METHOD="twitter.com",w.PROVIDER_ID="twitter.com",w})();function ua(w,h){return ao.apply(this,arguments)}function ao(){return(ao=(0,p.A)(function*(w,h){return Mt(w,"POST","/v1/accounts:signUp",dt(w,h))})).apply(this,arguments)}class Si{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,g,C,H=!1){return(0,p.A)(function*(){const ie=yield ke._fromIdTokenResponse(h,C,H),Le=Ao(C);return new Si({user:ie,providerId:Le,_tokenResponse:C,operationType:g})})()}static _forOperation(h,g,C){return(0,p.A)(function*(){yield h._updateTokensIfNecessary(C,!0);const H=Ao(C);return new Si({user:h,providerId:H,_tokenResponse:C,operationType:g})})()}}function Ao(w){return w.providerId?w.providerId:"phoneNumber"in w?"phone":null}function Ra(w){return da.apply(this,arguments)}function da(){return(da=(0,p.A)(function*(w){var h;if((0,F._isFirebaseServerApp)(w.app))return Promise.reject(ye(w));const g=mn(w);if(yield g._initializationPromise,null!==(h=g.currentUser)&&void 0!==h&&h.isAnonymous)return new Si({user:g.currentUser,providerId:null,operationType:"signIn"});const C=yield ua(g,{returnSecureToken:!0}),H=yield Si._fromIdTokenResponse(g,"signIn",C,!0);return yield g._updateCurrentUser(H.user),H})).apply(this,arguments)}class ws extends _.g{constructor(h,g,C,H){var ie;super(g.code,g.message),this.operationType=C,this.user=H,Object.setPrototypeOf(this,ws.prototype),this.customData={appName:h.name,tenantId:null!==(ie=h.tenantId)&&void 0!==ie?ie:void 0,_serverResponse:g.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(h,g,C,H){return new ws(h,g,C,H)}}function Do(w,h,g,C){return("reauthenticate"===h?g._getReauthenticationResolver(w):g._getIdTokenResponse(w)).catch(ie=>{throw"auth/multi-factor-auth-required"===ie.code?ws._fromErrorAndOperation(w,ie,h,C):ie})}function $o(w){return new Set(w.map(({providerId:h})=>h).filter(h=>!!h))}function G(w,h){return z.apply(this,arguments)}function z(){return z=(0,p.A)(function*(w,h){const g=(0,_.Ku)(w);yield Pe(!0,g,h);const{providerUserInfo:C}=yield function er(w,h){return an.apply(this,arguments)}(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[h]}),H=$o(C||[]);return g.providerData=g.providerData.filter(ie=>H.has(ie.providerId)),H.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g}),z.apply(this,arguments)}function x(w,h){return se.apply(this,arguments)}function se(){return(se=(0,p.A)(function*(w,h,g=!1){const C=yield rn(w,h._linkToIdToken(w.auth,yield w.getIdToken()),g);return Si._forOperation(w,"link",C)})).apply(this,arguments)}function Pe(w,h,g){return gn.apply(this,arguments)}function gn(){return(gn=(0,p.A)(function*(w,h,g){yield Wr(h);const H=!1===w?"provider-already-linked":"no-such-provider";ue($o(h.providerData).has(g)===w,h.auth,H)})).apply(this,arguments)}function Yn(w,h){return En.apply(this,arguments)}function En(){return(En=(0,p.A)(function*(w,h,g=!1){const{auth:C}=w;if((0,F._isFirebaseServerApp)(C.app))return Promise.reject(ye(C));const H="reauthenticate";try{const ie=yield rn(w,Do(C,H,h,w),g);ue(ie.idToken,C,"internal-error");const Le=It(ie.idToken);ue(Le,C,"internal-error");const{sub:ct}=Le;return ue(w.uid===ct,C,"user-mismatch"),Si._forOperation(w,H,ie)}catch(ie){throw"auth/user-not-found"===ie?.code&&Ge(C,"user-mismatch"),ie}})).apply(this,arguments)}function Gs(w,h){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,p.A)(function*(w,h,g=!1){if((0,F._isFirebaseServerApp)(w.app))return Promise.reject(ye(w));const C="signIn",H=yield Do(w,C,h),ie=yield Si._fromIdTokenResponse(w,C,H);return g||(yield w._updateCurrentUser(ie.user)),ie})).apply(this,arguments)}function xs(w,h){return Os.apply(this,arguments)}function Os(){return(Os=(0,p.A)(function*(w,h){return Gs(mn(w),h)})).apply(this,arguments)}function ha(w,h){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,p.A)(function*(w,h){const g=(0,_.Ku)(w);return yield Pe(!1,g,h.providerId),x(g,h)})).apply(this,arguments)}function Ts(w,h){return So.apply(this,arguments)}function So(){return(So=(0,p.A)(function*(w,h){return Yn((0,_.Ku)(w),h)})).apply(this,arguments)}function is(){return(is=(0,p.A)(function*(w,h){return Mt(w,"POST","/v1/accounts:signInWithCustomToken",dt(w,h))})).apply(this,arguments)}function al(w,h){return fa.apply(this,arguments)}function fa(){return fa=(0,p.A)(function*(w,h){if((0,F._isFirebaseServerApp)(w.app))return Promise.reject(ye(w));const g=mn(w),C=yield function Go(w,h){return is.apply(this,arguments)}(g,{token:h,returnSecureToken:!0}),H=yield Si._fromIdTokenResponse(g,"signIn",C);return yield g._updateCurrentUser(H.user),H}),fa.apply(this,arguments)}class Jn{constructor(h,g){this.factorId=h,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(h,g){return"phoneInfo"in g?ni._fromServerResponse(h,g):"totpInfo"in g?ei._fromServerResponse(h,g):Ge(h,"internal-error")}}class ni extends Jn{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,g){return new ni(g)}}class ei extends Jn{constructor(h){super("totp",h)}static _fromServerResponse(h,g){return new ei(g)}}function pi(w,h,g){var C;ue((null===(C=g.url)||void 0===C?void 0:C.length)>0,w,"invalid-continue-uri"),ue(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,w,"invalid-dynamic-link-domain"),h.continueUrl=g.url,h.dynamicLinkDomain=g.dynamicLinkDomain,h.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(ue(g.iOS.bundleId.length>0,w,"missing-ios-bundle-id"),h.iOSBundleId=g.iOS.bundleId),g.android&&(ue(g.android.packageName.length>0,w,"missing-android-pkg-name"),h.androidInstallApp=g.android.installApp,h.androidMinimumVersionCode=g.android.minimumVersion,h.androidPackageName=g.android.packageName)}function gi(w){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,p.A)(function*(w){const h=mn(w);h._getPasswordPolicyInternal()&&(yield h._updatePasswordPolicy())})).apply(this,arguments)}function Ma(w,h,g){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,p.A)(function*(w,h,g){const C=mn(w),H={requestType:"PASSWORD_RESET",email:h,clientType:"CLIENT_TYPE_WEB"};g&&pi(C,H,g),yield _r(C,H,"getOobCode",Ai)})).apply(this,arguments)}function ks(w,h,g){return Ro.apply(this,arguments)}function Ro(){return Ro=(0,p.A)(function*(w,h,g){yield zi((0,_.Ku)(w),{oobCode:h,newPassword:g}).catch(function(){var C=(0,p.A)(function*(H){throw"auth/password-does-not-meet-requirements"===H.code&&gi(w),H});return function(H){return C.apply(this,arguments)}}())}),Ro.apply(this,arguments)}function Ws(w,h){return pa.apply(this,arguments)}function pa(){return pa=(0,p.A)(function*(w,h){yield function es(w,h){return _s.apply(this,arguments)}((0,_.Ku)(w),{oobCode:h})}),pa.apply(this,arguments)}function lo(w,h){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,p.A)(function*(w,h){const g=(0,_.Ku)(w),C=yield zi(g,{oobCode:h}),H=C.requestType;switch(ue(H,g,"internal-error"),H){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ue(C.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ue(C.mfaInfo,g,"internal-error");default:ue(C.email,g,"internal-error")}let ie=null;return C.mfaInfo&&(ie=Jn._fromServerResponse(mn(g),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:ie},operation:H}})).apply(this,arguments)}function Wo(w,h){return ea.apply(this,arguments)}function ea(){return(ea=(0,p.A)(function*(w,h){const{data:g}=yield lo((0,_.Ku)(w),h);return g.email})).apply(this,arguments)}function ga(w,h,g){return zo.apply(this,arguments)}function zo(){return(zo=(0,p.A)(function*(w,h,g){if((0,F._isFirebaseServerApp)(w.app))return Promise.reject(ye(w));const C=mn(w),Le=yield _r(C,{returnSecureToken:!0,email:h,password:g,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ua).catch(Dt=>{throw"auth/password-does-not-meet-requirements"===Dt.code&&gi(w),Dt}),ct=yield Si._fromIdTokenResponse(C,"signIn",Le);return yield C._updateCurrentUser(ct.user),ct})).apply(this,arguments)}function ma(w,h,g){return(0,F._isFirebaseServerApp)(w.app)?Promise.reject(ye(w)):xs((0,_.Ku)(w),Di.credential(h,g)).catch(function(){var C=(0,p.A)(function*(H){throw"auth/password-does-not-meet-requirements"===H.code&&gi(w),H});return function(H){return C.apply(this,arguments)}}())}function zs(w,h,g){return _a.apply(this,arguments)}function _a(){return(_a=(0,p.A)(function*(w,h,g){const C=mn(w),H={requestType:"EMAIL_SIGNIN",email:h,clientType:"CLIENT_TYPE_WEB"};(function ie(Le,ct){ue(ct.handleCodeInApp,C,"argument-error"),ct&&pi(C,Le,ct)})(H,g),yield _r(C,H,"getOobCode",Ei)})).apply(this,arguments)}function co(w,h){const g=ui.parseLink(h);return"EMAIL_SIGNIN"===g?.operation}function Tl(w,h,g){return ya.apply(this,arguments)}function ya(){return(ya=(0,p.A)(function*(w,h,g){if((0,F._isFirebaseServerApp)(w.app))return Promise.reject(ye(w));const C=(0,_.Ku)(w),H=Di.credentialWithLink(h,g||Ee());return ue(H._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),xs(C,H)})).apply(this,arguments)}function Gi(){return(Gi=(0,p.A)(function*(w,h){return Qe(w,"POST","/v1/accounts:createAuthUri",dt(w,h))})).apply(this,arguments)}function xa(w,h){return Ko.apply(this,arguments)}function Ko(){return Ko=(0,p.A)(function*(w,h){const C={identifier:h,continueUri:Ht()?Ee():"http://localhost"},{signinMethods:H}=yield function uo(w,h){return Gi.apply(this,arguments)}((0,_.Ku)(w),C);return H||[]}),Ko.apply(this,arguments)}function ki(w,h){return ta.apply(this,arguments)}function ta(){return ta=(0,p.A)(function*(w,h){const g=(0,_.Ku)(w),H={requestType:"VERIFY_EMAIL",idToken:yield w.getIdToken()};h&&pi(g.auth,H,h);const{email:ie}=yield function Zr(w,h){return Ci.apply(this,arguments)}(g.auth,H);ie!==w.email&&(yield w.reload())}),ta.apply(this,arguments)}function bs(w,h,g){return Oa.apply(this,arguments)}function Oa(){return Oa=(0,p.A)(function*(w,h,g){const C=(0,_.Ku)(w),ie={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield w.getIdToken(),newEmail:h};g&&pi(C.auth,ie,g);const{email:Le}=yield function $n(w,h){return vs.apply(this,arguments)}(C.auth,ie);Le!==w.email&&(yield w.reload())}),Oa.apply(this,arguments)}function Ka(){return(Ka=(0,p.A)(function*(w,h){return Qe(w,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function ho(w,h){return hs.apply(this,arguments)}function hs(){return hs=(0,p.A)(function*(w,{displayName:h,photoURL:g}){if(void 0===h&&void 0===g)return;const C=(0,_.Ku)(w),ie={idToken:yield C.getIdToken(),displayName:h,photoUrl:g,returnSecureToken:!0},Le=yield rn(C,function jr(w,h){return Ka.apply(this,arguments)}(C.auth,ie));C.displayName=Le.displayName||null,C.photoURL=Le.photoUrl||null;const ct=C.providerData.find(({providerId:Dt})=>"password"===Dt);ct&&(ct.displayName=C.displayName,ct.photoURL=C.photoURL),yield C._updateTokensIfNecessary(Le)}),hs.apply(this,arguments)}function ll(w,h){const g=(0,_.Ku)(w);return(0,F._isFirebaseServerApp)(g.auth.app)?Promise.reject(ye(g.auth)):fo(g,h,null)}function cl(w,h){return fo((0,_.Ku)(w),null,h)}function fo(w,h,g){return Ks.apply(this,arguments)}function Ks(){return Ks=(0,p.A)(function*(w,h,g){const{auth:C}=w,ie={idToken:yield w.getIdToken(),returnSecureToken:!0};h&&(ie.email=h),g&&(ie.password=g);const Le=yield rn(w,function ms(w,h){return ca.apply(this,arguments)}(C,ie));yield w._updateTokensIfNecessary(Le,!0)}),Ks.apply(this,arguments)}class mi{constructor(h,g,C={}){this.isNewUser=h,this.providerId=g,this.profile=C}}class b extends mi{constructor(h,g,C,H){super(h,g,C),this.username=H}}class K extends mi{constructor(h,g){super(h,"facebook.com",g)}}class O extends b{constructor(h,g){super(h,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class $ extends mi{constructor(h,g){super(h,"google.com",g)}}class ve extends b{constructor(h,g,C){super(h,"twitter.com",g,C)}}function at(w){const{user:h,_tokenResponse:g}=w;return h.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function Cl(w){var h,g;if(!w)return null;const{providerId:C}=w,H=w.rawUserInfo?JSON.parse(w.rawUserInfo):{},ie=w.isNewUser||"identitytoolkit#SignupNewUserResponse"===w.kind;if(!C&&w?.idToken){const Le=null===(g=null===(h=It(w.idToken))||void 0===h?void 0:h.firebase)||void 0===g?void 0:g.sign_in_provider;if(Le)return new mi(ie,"anonymous"!==Le&&"custom"!==Le?Le:null)}if(!C)return null;switch(C){case"facebook.com":return new K(ie,H);case"github.com":return new O(ie,H);case"google.com":return new $(ie,H);case"twitter.com":return new ve(ie,H,w.screenName||null);case"custom":case"anonymous":return new mi(ie,null);default:return new mi(ie,C,H)}}(g)}class Ft{constructor(h,g,C){this.type=h,this.credential=g,this.user=C}static _fromIdtoken(h,g){return new Ft("enroll",h,g)}static _fromMfaPendingCredential(h){return new Ft("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var g,C;if(h?.multiFactorSession){if(null!==(g=h.multiFactorSession)&&void 0!==g&&g.pendingCredential)return Ft._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null!==(C=h.multiFactorSession)&&void 0!==C&&C.idToken)return Ft._fromIdtoken(h.multiFactorSession.idToken)}return null}}class sn{constructor(h,g,C){this.session=h,this.hints=g,this.signInResolver=C}static _fromError(h,g){const C=mn(h),H=g.customData._serverResponse,ie=(H.mfaInfo||[]).map(ct=>Jn._fromServerResponse(C,ct));ue(H.mfaPendingCredential,C,"internal-error");const Le=Ft._fromMfaPendingCredential(H.mfaPendingCredential);return new sn(Le,ie,function(){var ct=(0,p.A)(function*(Dt){const vn=yield Dt._process(C,Le);delete H.mfaInfo,delete H.mfaPendingCredential;const Mn=Object.assign(Object.assign({},H),{idToken:vn.idToken,refreshToken:vn.refreshToken});switch(g.operationType){case"signIn":const Ir=yield Si._fromIdTokenResponse(C,g.operationType,Mn);return yield C._updateCurrentUser(Ir.user),Ir;case"reauthenticate":return ue(g.user,C,"internal-error"),Si._forOperation(g.user,g.operationType,Mn);default:Ge(C,"internal-error")}});return function(Dt){return ct.apply(this,arguments)}}())}resolveSignIn(h){var g=this;return(0,p.A)(function*(){return g.signInResolver(h)})()}}function wn(w,h){var g;const C=(0,_.Ku)(w),H=h;return ue(h.customData.operationType,C,"argument-error"),ue(null===(g=H.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,C,"argument-error"),sn._fromError(C,H)}class Ar{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(C=>Jn._fromServerResponse(h.auth,C)))})}static _fromUser(h){return new Ar(h)}getSession(){var h=this;return(0,p.A)(function*(){return Ft._fromIdtoken(yield h.user.getIdToken(),h.user)})()}enroll(h,g){var C=this;return(0,p.A)(function*(){const H=h,ie=yield C.getSession(),Le=yield rn(C.user,H._process(C.user.auth,ie,g));return yield C.user._updateTokensIfNecessary(Le),C.user.reload()})()}unenroll(h){var g=this;return(0,p.A)(function*(){const C="string"==typeof h?h:h.uid,H=yield g.user.getIdToken();try{const ie=yield rn(g.user,function Kt(w,h){return Qe(w,"POST","/v2/accounts/mfaEnrollment:withdraw",dt(w,h))}(g.user.auth,{idToken:H,mfaEnrollmentId:C}));g.enrolledFactors=g.enrolledFactors.filter(({uid:Le})=>Le!==C),yield g.user._updateTokensIfNecessary(ie),yield g.user.reload()}catch(ie){throw ie}})()}}const Ti=new WeakMap;function en(w){const h=(0,_.Ku)(w);return Ti.has(h)||Ti.set(h,Ar._fromUser(h)),Ti.get(h)}const Vt="__sak";class Li{constructor(h,g){this.storageRetriever=h,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Vt,"1"),this.storage.removeItem(Vt),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,g){return this.storage.setItem(h,JSON.stringify(g)),Promise.resolve()}_get(h){const g=this.storage.getItem(h);return Promise.resolve(g?JSON.parse(g):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const Xi=(()=>{class w extends Li{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,C)=>this.onStorageEvent(g,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Nt(){const w=(0,_.ZQ)();return Lr(w)||Yi(w)}()&&function On(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Xt(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const C of Object.keys(this.listeners)){const H=this.storage.getItem(C),ie=this.localCache[C];H!==ie&&g(C,ie,H)}}onStorageEvent(g,C=!1){if(!g.key)return void this.forAllChangedKeys((ct,Dt,vn)=>{this.notifyListeners(ct,vn)});const H=g.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ct=this.storage.getItem(H);if(g.newValue!==ct)null!==g.newValue?this.storage.setItem(H,g.newValue):this.storage.removeItem(H);else if(this.localCache[H]===g.newValue&&!C)return}const ie=()=>{const ct=this.storage.getItem(H);!C&&this.localCache[H]===ct||this.notifyListeners(H,ct)},Le=this.storage.getItem(H);!function _t(){return(0,_.lT)()&&10===document.documentMode}()||Le===g.newValue||g.newValue===g.oldValue?ie():setTimeout(ie,10)}notifyListeners(g,C){this.localCache[g]=C;const H=this.listeners[g];if(H)for(const ie of Array.from(H))ie(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,C,H)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:C,newValue:H}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(C)}_removeListener(g,C){this.listeners[g]&&(this.listeners[g].delete(C),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,C){var H=()=>super._set,ie=this;return(0,p.A)(function*(){yield H().call(ie,g,C),ie.localCache[g]=JSON.stringify(C)})()}_get(g){var C=()=>super._get,H=this;return(0,p.A)(function*(){const ie=yield C().call(H,g);return H.localCache[g]=JSON.stringify(ie),ie})()}_remove(g){var C=()=>super._remove,H=this;return(0,p.A)(function*(){yield C().call(H,g),delete H.localCache[g]})()}}return w.type="LOCAL",w})(),Po=(()=>{class w extends Li{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,C){}_removeListener(g,C){}}return w.type="SESSION",w})();let bn=(()=>{class w{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const C=this.receivers.find(ie=>ie.isListeningto(g));if(C)return C;const H=new w(g);return this.receivers.push(H),H}isListeningto(g){return this.eventTarget===g}handleEvent(g){var C=this;return(0,p.A)(function*(){const H=g,{eventId:ie,eventType:Le,data:ct}=H.data,Dt=C.handlersMap[Le];if(!Dt?.size)return;H.ports[0].postMessage({status:"ack",eventId:ie,eventType:Le});const vn=Array.from(Dt).map(function(){var Ir=(0,p.A)(function*(qs){return qs(H.origin,ct)});return function(qs){return Ir.apply(this,arguments)}}()),Mn=yield function rr(w){return Promise.all(w.map(function(){var h=(0,p.A)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(C){return{fulfilled:!1,reason:C}}});return function(g){return h.apply(this,arguments)}}()))}(vn);H.ports[0].postMessage({status:"done",eventId:ie,eventType:Le,response:Mn})})()}_subscribe(g,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(C)}_unsubscribe(g,C){this.handlersMap[g]&&C&&this.handlersMap[g].delete(C),(!C||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return w.receivers=[],w})();function Rn(w="",h=10){let g="";for(let C=0;C<h;C++)g+=Math.floor(10*Math.random());return w+g}class Pn{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,g,C=50){var H=this;return(0,p.A)(function*(){const ie=typeof MessageChannel<"u"?new MessageChannel:null;if(!ie)throw new Error("connection_unavailable");let Le,ct;return new Promise((Dt,vn)=>{const Mn=Rn("",20);ie.port1.start();const Ir=setTimeout(()=>{vn(new Error("unsupported_event"))},C);ct={messageChannel:ie,onMessage(qs){const Ua=qs;if(Ua.data.eventId===Mn)switch(Ua.data.status){case"ack":clearTimeout(Ir),Le=setTimeout(()=>{vn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Le),Dt(Ua.data.response);break;default:clearTimeout(Ir),clearTimeout(Le),vn(new Error("invalid_response"))}}},H.handlers.add(ct),ie.port1.addEventListener("message",ct.onMessage),H.target.postMessage({eventType:h,eventId:Mn,data:g},[ie.port2])}).finally(()=>{ct&&H.removeMessageHandler(ct)})})()}}function Vn(){return window}function Or(){return typeof Vn().WorkerGlobalScope<"u"&&"function"==typeof Vn().importScripts}function yn(){return(yn=(0,p.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Hr="firebaseLocalStorageDb",_i="firebaseLocalStorage",Kn="fbase_key";class na{constructor(h){this.request=h}toPromise(){return new Promise((h,g)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function zr(w,h){return w.transaction([_i],h?"readwrite":"readonly").objectStore(_i)}function va(){const w=indexedDB.open(Hr,1);return new Promise((h,g)=>{w.addEventListener("error",()=>{g(w.error)}),w.addEventListener("upgradeneeded",()=>{const C=w.result;try{C.createObjectStore(_i,{keyPath:Kn})}catch(H){g(H)}}),w.addEventListener("success",(0,p.A)(function*(){const C=w.result;C.objectStoreNames.contains(_i)?h(C):(C.close(),yield function tn(){const w=indexedDB.deleteDatabase(Hr);return new na(w).toPromise()}(),h(yield va()))}))})}function Xl(w,h,g){return qo.apply(this,arguments)}function qo(){return(qo=(0,p.A)(function*(w,h,g){const C=zr(w,!0).put({[Kn]:h,value:g});return new na(C).toPromise()})).apply(this,arguments)}function Na(){return(Na=(0,p.A)(function*(w,h){const g=zr(w,!1).get(h),C=yield new na(g).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function dd(w,h){const g=zr(w,!0).delete(h);return new na(g).toPromise()}const Mo=(()=>{class w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,p.A)(function*(){return g.db||(g.db=yield va()),g.db})()}_withRetries(g){var C=this;return(0,p.A)(function*(){let H=0;for(;;)try{const ie=yield C._openDb();return yield g(ie)}catch(ie){if(H++>3)throw ie;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,p.A)(function*(){return Or()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,p.A)(function*(){g.receiver=bn._getInstance(function qa(){return Or()?self:null}()),g.receiver._subscribe("keyChanged",function(){var C=(0,p.A)(function*(H,ie){return{keyProcessed:(yield g._poll()).includes(ie.key)}});return function(H,ie){return C.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var C=(0,p.A)(function*(H,ie){return["keyChanged"]});return function(H,ie){return C.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,p.A)(function*(){var C,H;if(g.activeServiceWorker=yield function ss(){return yn.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Pn(g.activeServiceWorker);const ie=yield g.sender._send("ping",{},800);ie&&null!==(C=ie[0])&&void 0!==C&&C.fulfilled&&null!==(H=ie[0])&&void 0!==H&&H.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var C=this;return(0,p.A)(function*(){if(C.sender&&C.activeServiceWorker&&function or(){var w;return(null===(w=navigator?.serviceWorker)||void 0===w?void 0:w.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:g},C.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,p.A)(function*(){try{if(!indexedDB)return!1;const g=yield va();return yield Xl(g,Vt,"1"),yield dd(g,Vt),!0}catch{}return!1})()}_withPendingWrite(g){var C=this;return(0,p.A)(function*(){C.pendingWrites++;try{yield g()}finally{C.pendingWrites--}})()}_set(g,C){var H=this;return(0,p.A)(function*(){return H._withPendingWrite((0,p.A)(function*(){return yield H._withRetries(ie=>Xl(ie,g,C)),H.localCache[g]=C,H.notifyServiceWorker(g)}))})()}_get(g){var C=this;return(0,p.A)(function*(){const H=yield C._withRetries(ie=>function Kh(w,h){return Na.apply(this,arguments)}(ie,g));return C.localCache[g]=H,H})()}_remove(g){var C=this;return(0,p.A)(function*(){return C._withPendingWrite((0,p.A)(function*(){return yield C._withRetries(H=>dd(H,g)),delete C.localCache[g],C.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,p.A)(function*(){const C=yield g._withRetries(Le=>{const ct=zr(Le,!1).getAll();return new na(ct).toPromise()});if(!C)return[];if(0!==g.pendingWrites)return[];const H=[],ie=new Set;if(0!==C.length)for(const{fbase_key:Le,value:ct}of C)ie.add(Le),JSON.stringify(g.localCache[Le])!==JSON.stringify(ct)&&(g.notifyListeners(Le,ct),H.push(Le));for(const Le of Object.keys(g.localCache))g.localCache[Le]&&!ie.has(Le)&&(g.notifyListeners(Le,null),H.push(Le));return H})()}notifyListeners(g,C){this.localCache[g]=C;const H=this.listeners[g];if(H)for(const ie of Array.from(H))ie(C)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,p.A)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(C)}_removeListener(g,C){this.listeners[g]&&(this.listeners[g].delete(C),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return w.type="LOCAL",w})(),y=1e12;class R{constructor(h){this.auth=h,this.counter=y,this._widgets=new Map}render(h,g){const C=this.counter;return this._widgets.set(C,new T(h,this.auth.name,g||{})),this.counter++,C}reset(h){var g;const C=h||y;null===(g=this._widgets.get(C))||void 0===g||g.delete(),this._widgets.delete(C)}getResponse(h){var g;return(null===(g=this._widgets.get(h||y))||void 0===g?void 0:g.getResponse())||""}execute(h){var g=this;return(0,p.A)(function*(){var C;return null===(C=g._widgets.get(h||y))||void 0===C||C.execute(),""})()}}class T{constructor(h,g,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const H="string"==typeof h?document.getElementById(h):h;ue(H,"argument-error",{appName:g}),this.container=H,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function P(w){const h=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<w;C++)h.push(g.charAt(Math.floor(62*Math.random())));return h.join("")}(50);const{callback:h,"expired-callback":g}=this.params;if(h)try{h(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const j=Zn("rcb"),ee=new Ct(3e4,6e4);class Te{constructor(){var h;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(h=Vn().grecaptcha)||void 0===h||!h.render)}load(h,g=""){return ue(function ot(w){return w.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(w)}(g),h,"argument-error"),this.shouldResolveImmediately(g)&&Bn(Vn().grecaptcha)?Promise.resolve(Vn().grecaptcha):new Promise((C,H)=>{const ie=Vn().setTimeout(()=>{H(Ve(h,"network-request-failed"))},ee.get());Vn()[j]=()=>{Vn().clearTimeout(ie),delete Vn()[j];const ct=Vn().grecaptcha;if(!ct||!Bn(ct))return void H(Ve(h,"internal-error"));const Dt=ct.render;ct.render=(vn,Mn)=>{const Ir=Dt(vn,Mn);return this.counter++,Ir},this.hostLanguage=g,C(ct)},br(`${function ai(){return Cr.recaptchaV2Script}()}?${(0,_.Am)({onload:j,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(ie),H(Ve(h,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){var g;return!(null===(g=Vn().grecaptcha)||void 0===g||!g.render)&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Je{load(h){return(0,p.A)(function*(){return new R(h)})()}clearedOneInstance(){}}const ln="recaptcha",dr={theme:"light",type:"image"};class vr{constructor(h,g,C=Object.assign({},dr)){this.parameters=C,this.type=ln,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=mn(h),this.isInvisible="invisible"===this.parameters.size,ue(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const H="string"==typeof g?document.getElementById(g):g;ue(H,this.auth,"argument-error"),this.container=H,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Je:new Te,this.validateStartingState()}verify(){var h=this;return(0,p.A)(function*(){h.assertNotDestroyed();const g=yield h.render(),C=h.getAssertedRecaptcha();return C.getResponse(g)||new Promise(ie=>{const Le=ct=>{ct&&(h.tokenChangeListeners.delete(Le),ie(ct))};h.tokenChangeListeners.add(Le),h.isInvisible&&C.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){ue(!this.parameters.sitekey,this.auth,"argument-error"),ue(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ue(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return g=>{if(this.tokenChangeListeners.forEach(C=>C(g)),"function"==typeof h)h(g);else if("string"==typeof h){const C=Vn()[h];"function"==typeof C&&C(g)}}}assertNotDestroyed(){ue(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,p.A)(function*(){if(yield h.init(),!h.widgetId){let g=h.container;if(!h.isInvisible){const C=document.createElement("div");g.appendChild(C),g=C}h.widgetId=h.getAssertedRecaptcha().render(g,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,p.A)(function*(){ue(Ht()&&!Or(),h.auth,"internal-error"),yield function Vr(){let w=null;return new Promise(h=>{"complete"!==document.readyState?(w=()=>h(),window.addEventListener("load",w)):h()}).catch(h=>{throw w&&window.removeEventListener("load",w),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const g=yield function Ot(w){return Nn.apply(this,arguments)}(h.auth);ue(g,h.auth,"internal-error"),h.parameters.sitekey=g})()}getAssertedRecaptcha(){return ue(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class xo{constructor(h,g){this.verificationId=h,this.onConfirmation=g}confirm(h){const g=Es._fromVerification(this.verificationId,h);return this.onConfirmation(g)}}function Ia(w,h,g){return ra.apply(this,arguments)}function ra(){return(ra=(0,p.A)(function*(w,h,g){if((0,F._isFirebaseServerApp)(w.app))return Promise.reject(ye(w));const C=mn(w),H=yield Yl(C,h,(0,_.Ku)(g));return new xo(H,ie=>xs(C,ie))})).apply(this,arguments)}function os(w,h,g){return as.apply(this,arguments)}function as(){return(as=(0,p.A)(function*(w,h,g){const C=(0,_.Ku)(w);yield Pe(!1,C,"phone");const H=yield Yl(C.auth,h,(0,_.Ku)(g));return new xo(H,ie=>ha(C,ie))})).apply(this,arguments)}function pd(w,h,g){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,p.A)(function*(w,h,g){const C=(0,_.Ku)(w);if((0,F._isFirebaseServerApp)(C.auth.app))return Promise.reject(ye(C.auth));const H=yield Yl(C.auth,h,(0,_.Ku)(g));return new xo(H,ie=>Ts(C,ie))})).apply(this,arguments)}function Yl(w,h,g){return Zl.apply(this,arguments)}function Zl(){return Zl=(0,p.A)(function*(w,h,g){var C;const H=yield g.verify();try{let ie;if(ue("string"==typeof H,w,"argument-error"),ue(g.type===ln,w,"argument-error"),ie="string"==typeof h?{phoneNumber:h}:h,"session"in ie){const Le=ie.session;if("phoneNumber"in ie)return ue("enroll"===Le.type,w,"internal-error"),(yield function _n(w,h){return Qe(w,"POST","/v2/accounts/mfaEnrollment:start",dt(w,h))}(w,{idToken:Le.credential,phoneEnrollmentInfo:{phoneNumber:ie.phoneNumber,recaptchaToken:H}})).phoneSessionInfo.sessionInfo;{ue("signin"===Le.type,w,"internal-error");const ct=(null===(C=ie.multiFactorHint)||void 0===C?void 0:C.uid)||ie.multiFactorUid;return ue(ct,w,"missing-multi-factor-info"),(yield function hd(w,h){return Qe(w,"POST","/v2/accounts/mfaSignIn:start",dt(w,h))}(w,{mfaPendingCredential:Le.credential,mfaEnrollmentId:ct,phoneSignInInfo:{recaptchaToken:H}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Le}=yield function $i(w,h){return ns.apply(this,arguments)}(w,{phoneNumber:ie.phoneNumber,recaptchaToken:H});return Le}}finally{g._reset()}}),Zl.apply(this,arguments)}function Xp(w,h){return ri.apply(this,arguments)}function ri(){return(ri=(0,p.A)(function*(w,h){const g=(0,_.Ku)(w);if((0,F._isFirebaseServerApp)(g.auth.app))return Promise.reject(ye(g.auth));yield x(g,h)})).apply(this,arguments)}let gd=(()=>{class w{constructor(g){this.providerId=w.PROVIDER_ID,this.auth=mn(g)}verifyPhoneNumber(g,C){return Yl(this.auth,g,(0,_.Ku)(C))}static credential(g,C){return Es._fromVerification(g,C)}static credentialFromResult(g){return w.credentialFromTaggedObject(g)}static credentialFromError(g){return w.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:C,temporaryProof:H}=g;return C&&H?Es._fromTokenResponse(C,H):null}}return w.PROVIDER_ID="phone",w.PHONE_SIGN_IN_METHOD="phone",w})();function Ea(w,h){return h?$t(h):(ue(w._popupRedirectResolver,w,"argument-error"),w._popupRedirectResolver)}class Ls extends Ji{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return ts(h,this._buildIdpRequest())}_linkToIdToken(h,g){return ts(h,this._buildIdpRequest(g))}_getReauthenticationResolver(h){return ts(h,this._buildIdpRequest())}_buildIdpRequest(h){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(g.idToken=h),g}}function Yp(w){return Gs(w.auth,new Ls(w),w.bypassAuthState)}function Tc(w){const{auth:h,user:g}=w;return ue(g,h,"internal-error"),Yn(g,new Ls(w),w.bypassAuthState)}function Jl(w){return po.apply(this,arguments)}function po(){return(po=(0,p.A)(function*(w){const{auth:h,user:g}=w;return ue(g,h,"internal-error"),x(g,new Ls(w),w.bypassAuthState)})).apply(this,arguments)}class Yh{constructor(h,g,C,H,ie=!1){this.auth=h,this.resolver=C,this.user=H,this.bypassAuthState=ie,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var h=this;return new Promise(function(){var g=(0,p.A)(function*(C,H){h.pendingPromise={resolve:C,reject:H};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(ie){h.reject(ie)}});return function(C,H){return g.apply(this,arguments)}}())}onAuthEvent(h){var g=this;return(0,p.A)(function*(){const{urlResponse:C,sessionId:H,postBody:ie,tenantId:Le,error:ct,type:Dt}=h;if(ct)return void g.reject(ct);const vn={auth:g.auth,requestUri:C,sessionId:H,tenantId:Le||void 0,postBody:ie||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Dt)(vn))}catch(Mn){g.reject(Mn)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return Yp;case"linkViaPopup":case"linkViaRedirect":return Jl;case"reauthViaPopup":case"reauthViaRedirect":return Tc;default:Ge(this.auth,"internal-error")}}resolve(h){pt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){pt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const md=new Ct(2e3,1e4);function Zp(w,h,g){return ia.apply(this,arguments)}function ia(){return(ia=(0,p.A)(function*(w,h,g){if((0,F._isFirebaseServerApp)(w.app))return Promise.reject(Ve(w,"operation-not-supported-in-this-environment"));const C=mn(w);be(w,h,xi);const H=Ea(C,g);return new Cc(C,"signInViaPopup",h,H).executeNotNull()})).apply(this,arguments)}function Zh(w,h,g){return _d.apply(this,arguments)}function _d(){return(_d=(0,p.A)(function*(w,h,g){const C=(0,_.Ku)(w);if((0,F._isFirebaseServerApp)(C.auth.app))return Promise.reject(Ve(C.auth,"operation-not-supported-in-this-environment"));be(C.auth,h,xi);const H=Ea(C.auth,g);return new Cc(C.auth,"reauthViaPopup",h,H,C).executeNotNull()})).apply(this,arguments)}function Jh(w,h,g){return ec.apply(this,arguments)}function ec(){return(ec=(0,p.A)(function*(w,h,g){const C=(0,_.Ku)(w);be(C.auth,h,xi);const H=Ea(C.auth,g);return new Cc(C.auth,"linkViaPopup",h,H,C).executeNotNull()})).apply(this,arguments)}let Cc=(()=>{class w extends Yh{constructor(g,C,H,ie,Le){super(g,C,ie,Le),this.provider=H,this.authWindow=null,this.pollId=null,w.currentPopupAction&&w.currentPopupAction.cancel(),w.currentPopupAction=this}executeNotNull(){var g=this;return(0,p.A)(function*(){const C=yield g.execute();return ue(C,g.auth,"internal-error"),C})()}onExecution(){var g=this;return(0,p.A)(function*(){pt(1===g.filter.length,"Popup operations only handle one event");const C=Rn();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],C),g.authWindow.associatedEvent=C,g.resolver._originValidation(g.auth).catch(H=>{g.reject(H)}),g.resolver._isIframeWebStorageSupported(g.auth,H=>{H||g.reject(Ve(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(Ve(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,w.currentPopupAction=null}pollUserCancellation(){const g=()=>{var C,H;this.pollId=null!==(H=null===(C=this.authWindow)||void 0===C?void 0:C.window)&&void 0!==H&&H.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ve(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(g,md.get())};g()}}return w.currentPopupAction=null,w})();const tc="pendingRedirect",Qa=new Map;class yd extends Yh{constructor(h,g,C=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,C),this.eventId=null}execute(){var h=()=>super.execute,g=this;return(0,p.A)(function*(){let C=Qa.get(g.auth._key());if(!C){try{const ie=(yield function Xa(w,h){return An.apply(this,arguments)}(g.resolver,g.auth))?yield h().call(g):null;C=()=>Promise.resolve(ie)}catch(H){C=()=>Promise.reject(H)}Qa.set(g.auth._key(),C)}return g.bypassAuthState||Qa.set(g.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(h){var g=()=>super.onAuthEvent,C=this;return(0,p.A)(function*(){if("signInViaRedirect"===h.type)return g().call(C,h);if("unknown"!==h.type){if(h.eventId){const H=yield C.auth._redirectUserForId(h.eventId);if(H)return C.user=H,g().call(C,h);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,p.A)(function*(){})()}cleanUp(){}}function An(){return(An=(0,p.A)(function*(w,h){const g=fs(h),C=Ac(w);if(!(yield C._isAvailable()))return!1;const H="true"===(yield C._get(g));return yield C._remove(g),H})).apply(this,arguments)}function bc(w,h){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,p.A)(function*(w,h){return Ac(w)._set(fs(h),"true")})).apply(this,arguments)}function ef(){Qa.clear()}function yi(w,h){Qa.set(w._key(),h)}function Ac(w){return $t(w._redirectPersistence)}function fs(w){return ur(tc,w.config.apiKey,w.name)}function Kr(w,h,g){return function tf(w,h,g){return dl.apply(this,arguments)}(w,h,g)}function dl(){return(dl=(0,p.A)(function*(w,h,g){if((0,F._isFirebaseServerApp)(w.app))return Promise.reject(ye(w));const C=mn(w);be(w,h,xi),yield C._initializationPromise;const H=Ea(C,g);return yield bc(H,C),H._openRedirect(C,h,"signInViaRedirect")})).apply(this,arguments)}function Oo(w,h,g){return function nf(w,h,g){return vd.apply(this,arguments)}(w,h,g)}function vd(){return(vd=(0,p.A)(function*(w,h,g){const C=(0,_.Ku)(w);if(be(C.auth,h,xi),(0,F._isFirebaseServerApp)(C.auth.app))return Promise.reject(ye(C.auth));yield C.auth._initializationPromise;const H=Ea(C.auth,g);yield bc(H,C.auth);const ie=yield go(C);return H._openRedirect(C.auth,h,"reauthViaRedirect",ie)})).apply(this,arguments)}function ht(w,h,g){return function Mr(w,h,g){return wa.apply(this,arguments)}(w,h,g)}function wa(){return(wa=(0,p.A)(function*(w,h,g){const C=(0,_.Ku)(w);be(C.auth,h,xi),yield C.auth._initializationPromise;const H=Ea(C.auth,g);yield Pe(!1,C,h.providerId),yield bc(H,C.auth);const ie=yield go(C);return H._openRedirect(C.auth,h,"linkViaRedirect",ie)})).apply(this,arguments)}function Vi(w,h){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,p.A)(function*(w,h){return yield mn(w)._initializationPromise,Al(w,h,!1)})).apply(this,arguments)}function Al(w,h){return ka.apply(this,arguments)}function ka(){return(ka=(0,p.A)(function*(w,h,g=!1){if((0,F._isFirebaseServerApp)(w.app))return Promise.reject(ye(w));const C=mn(w),H=Ea(C,h),Le=yield new yd(C,H,g).execute();return Le&&!g&&(delete Le.user._redirectEventId,yield C._persistUserIfCurrent(Le.user),yield C._setRedirectUser(null,h)),Le})).apply(this,arguments)}function go(w){return Dc.apply(this,arguments)}function Dc(){return(Dc=(0,p.A)(function*(w){const h=Rn(`${w.uid}:::`);return w._redirectEventId=h,yield w.auth._setRedirectUser(w),yield w.auth._persistUserIfCurrent(w),h})).apply(this,arguments)}class Za{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let g=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(h,C)&&(g=!0,this.sendToConsumer(h,C),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function Ri(w){switch(w.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Fa(w);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=h,g=!0)),g}sendToConsumer(h,g){var C;if(h.error&&!Fa(h)){const H=(null===(C=h.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";g.onError(Ve(this.auth,H))}else g.onAuthEvent(h)}isEventForConsumer(h,g){const C=null===g.eventId||!!h.eventId&&h.eventId===g.eventId;return g.filter.includes(h.type)&&C}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(mu(h))}saveEventToCache(h){this.cachedEventUids.add(mu(h)),this.lastProcessedEventTime=Date.now()}}function mu(w){return[w.type,w.eventId,w.sessionId,w.tenantId].filter(h=>h).join("-")}function Fa({type:w,error:h}){return"unknown"===w&&"auth/no-auth-event"===h?.code}function No(w){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,p.A)(function*(w,h={}){return Qe(w,"GET","/v1/projects",h)})).apply(this,arguments)}const sa=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ko=/^https?/;function Dl(){return(Dl=(0,p.A)(function*(w){if(w.config.emulator)return;const{authorizedDomains:h}=yield No(w);for(const g of h)try{if(Sl(g))return}catch{}Ge(w,"unauthorized-domain")})).apply(this,arguments)}function Sl(w){const h=Ee(),{protocol:g,hostname:C}=new URL(h);if(w.startsWith("chrome-extension://")){const Le=new URL(w);return""===Le.hostname&&""===C?"chrome-extension:"===g&&w.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===g&&Le.hostname===C}if(!ko.test(g))return!1;if(sa.test(w))return C===w;const H=w.replace(/\./g,"\\.");return new RegExp("^(.+\\."+H+"|"+H+")$","i").test(C)}const Ed=new Ct(3e4,6e4);function hl(){const w=Vn().___jsl;if(w?.H)for(const h of Object.keys(w.H))if(w.H[h].r=w.H[h].r||[],w.H[h].L=w.H[h].L||[],w.H[h].r=[...w.H[h].L],w.CP)for(let g=0;g<w.CP.length;g++)w.CP[g]=null}let Rl=null;const Sc=new Ct(5e3,15e3),wd="__/auth/iframe",Td="emulator/auth/iframe",rf={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Cd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bd(w){const h=w.config;ue(h.authDomain,w,"auth-domain-config-required");const g=h.emulator?Me(h,Td):`https://${w.config.authDomain}/${wd}`,C={apiKey:h.apiKey,appName:w.name,v:F.SDK_VERSION},H=Cd.get(w.config.apiHost);H&&(C.eid=H);const ie=w._getFrameworks();return ie.length&&(C.fw=ie.join(",")),`${g}?${(0,_.Am)(C).slice(1)}`}function nc(){return nc=(0,p.A)(function*(w){const h=yield function Pl(w){return Rl=Rl||function _u(w){return new Promise((h,g)=>{var C,H,ie;function Le(){hl(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{hl(),g(Ve(w,"network-request-failed"))},timeout:Ed.get()})}if(null!==(H=null===(C=Vn().gapi)||void 0===C?void 0:C.iframes)&&void 0!==H&&H.Iframe)h(gapi.iframes.getContext());else{if(null===(ie=Vn().gapi)||void 0===ie||!ie.load){const ct=Zn("iframefcb");return Vn()[ct]=()=>{gapi.load?Le():g(Ve(w,"network-request-failed"))},br(`${function li(){return Cr.gapiScript}()}?onload=${ct}`).catch(Dt=>g(Dt))}Le()}}).catch(h=>{throw Rl=null,h})}(w),Rl}(w),g=Vn().gapi;return ue(g,w,"internal-error"),h.open({where:document.body,url:bd(w),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rf,dontclear:!0},C=>new Promise(function(){var H=(0,p.A)(function*(ie,Le){yield C.restyle({setHideOnLeave:!1});const ct=Ve(w,"network-request-failed"),Dt=Vn().setTimeout(()=>{Le(ct)},Sc.get());function vn(){Vn().clearTimeout(Dt),ie(C)}C.ping(vn).then(vn,()=>{Le(ct)})});return function(ie,Le){return H.apply(this,arguments)}}()))}),nc.apply(this,arguments)}const bi={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class sf{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const ii="__/auth/handler",Ml="emulator/auth/handler",xl=encodeURIComponent("fac");function Lo(w,h,g,C,H,ie){return yu.apply(this,arguments)}function yu(){return(yu=(0,p.A)(function*(w,h,g,C,H,ie){ue(w.config.authDomain,w,"auth-domain-config-required"),ue(w.config.apiKey,w,"invalid-api-key");const Le={apiKey:w.config.apiKey,appName:w.name,authType:g,redirectUrl:C,v:F.SDK_VERSION,eventId:H};if(h instanceof xi){h.setDefaultLanguage(w.languageCode),Le.providerId=h.providerId||"",(0,_.Im)(h.getCustomParameters())||(Le.customParameters=JSON.stringify(h.getCustomParameters()));for(const[Mn,Ir]of Object.entries(ie||{}))Le[Mn]=Ir}if(h instanceof so){const Mn=h.getScopes().filter(Ir=>""!==Ir);Mn.length>0&&(Le.scopes=Mn.join(","))}w.tenantId&&(Le.tid=w.tenantId);const ct=Le;for(const Mn of Object.keys(ct))void 0===ct[Mn]&&delete ct[Mn];const Dt=yield w._getAppCheckToken(),vn=Dt?`#${xl}=${encodeURIComponent(Dt)}`:"";return`${function ic({config:w}){return w.emulator?Me(w,Ml):`https://${w.authDomain}/${ii}`}(w)}?${(0,_.Am)(ct).slice(1)}${vn}`})).apply(this,arguments)}const Ol="webStorageSupport",Pc=class Rc{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Po,this._completeRedirectFn=Al,this._overrideRedirectResult=yi}_openPopup(h,g,C,H){var ie=this;return(0,p.A)(function*(){var Le;pt(null===(Le=ie.eventManagers[h._key()])||void 0===Le?void 0:Le.manager,"_initialize() not called before _openPopup()");const ct=yield Lo(h,g,C,Ee(),H);return function af(w,h,g,C=500,H=600){const ie=Math.max((window.screen.availHeight-H)/2,0).toString(),Le=Math.max((window.screen.availWidth-C)/2,0).toString();let ct="";const Dt=Object.assign(Object.assign({},bi),{width:C.toString(),height:H.toString(),top:ie,left:Le}),vn=(0,_.ZQ)().toLowerCase();g&&(ct=Bi(vn)?"_blank":g),tr(vn)&&(h=h||"http://localhost",Dt.scrollbars="yes");const Mn=Object.entries(Dt).reduce((qs,[Ua,xc])=>`${qs}${Ua}=${xc},`,"");if(function $e(w=(0,_.ZQ)()){var h;return Yi(w)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(vn)&&"_self"!==ct)return function Nr(w,h){const g=document.createElement("a");g.href=w,g.target=h;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(C)}(h||"",ct),new sf(null);const Ir=window.open(h||"",ct,Mn);ue(Ir,w,"popup-blocked");try{Ir.focus()}catch{}return new sf(Ir)}(h,ct,Rn())})()}_openRedirect(h,g,C,H){var ie=this;return(0,p.A)(function*(){return yield ie._originValidation(h),function hi(w){Vn().location.href=w}(yield Lo(h,g,C,Ee(),H)),new Promise(()=>{})})()}_initialize(h){const g=h._key();if(this.eventManagers[g]){const{manager:H,promise:ie}=this.eventManagers[g];return H?Promise.resolve(H):(pt(ie,"If manager is not set, promise should be"),ie)}const C=this.initAndGetManager(h);return this.eventManagers[g]={promise:C},C.catch(()=>{delete this.eventManagers[g]}),C}initAndGetManager(h){var g=this;return(0,p.A)(function*(){const C=yield function Ds(w){return nc.apply(this,arguments)}(h),H=new Za(h);return C.register("authEvent",ie=>(ue(ie?.authEvent,h,"invalid-auth-event"),{status:H.onEvent(ie.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[h._key()]={manager:H},g.iframes[h._key()]=C,H})()}_isIframeWebStorageSupported(h,g){this.iframes[h._key()].send(Ol,{type:Ol},H=>{var ie;const Le=null===(ie=H?.[0])||void 0===ie?void 0:ie[Ol];void 0!==Le&&g(!!Le),Ge(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const g=h._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Id(w){return Dl.apply(this,arguments)}(h)),this.originValidationPromises[g]}get _shouldInitProactively(){return Xt()||Lr()||Yi()}};class Ad{constructor(h){this.factorId=h}_process(h,g,C){switch(g.type){case"enroll":return this._finalizeEnroll(h,g.credential,C);case"signin":return this._finalizeSignIn(h,g.credential);default:return Se("unexpected MultiFactorSessionType")}}}class vu extends Ad{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new vu(h)}_finalizeEnroll(h,g,C){return function Qt(w,h){return Qe(w,"POST","/v2/accounts/mfaEnrollment:finalize",dt(w,h))}(h,{idToken:g,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,g){return function Qh(w,h){return Qe(w,"POST","/v2/accounts/mfaSignIn:finalize",dt(w,h))}(h,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Jp=(()=>{class w{constructor(){}static assertion(g){return vu._fromCredential(g)}}return w.FACTOR_ID="phone",w})();var lf="@firebase/auth";class Sd{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var g=this;return(0,p.A)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const g=this.auth.onIdTokenChanged(C=>{h(C?.stsTokenManager.accessToken||null)});this.internalListeners.set(h,g),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const g=this.internalListeners.get(h);g&&(this.internalListeners.delete(h),g(),this.updateProactiveRefresh())}assertAuthConfigured(){ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,_.XA)("authIdTokenMaxAge"),function wr(w){Cr=w}({loadJS:w=>new Promise((h,g)=>{const C=document.createElement("script");C.setAttribute("src",w),C.onload=h,C.onerror=H=>{const ie=Ve("internal-error");ie.customData=H,g(ie)},C.type="text/javascript",C.charset="UTF-8",function Mc(){var w,h;return null!==(h=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==h?h:document}().appendChild(C)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Iu(w){(0,F._registerComponent)(new Q.uA("auth",(h,{options:g})=>{const C=h.getProvider("app").getImmediate(),H=h.getProvider("heartbeat"),ie=h.getProvider("app-check-internal"),{apiKey:Le,authDomain:ct}=C.options;ue(Le&&!Le.includes(":"),"invalid-api-key",{appName:C.name});const Dt={apiKey:Le,authDomain:ct,clientPlatform:w,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:te(w)},vn=new kt(C,H,ie,Dt);return function ji(w,h){const g=h?.persistence||[],C=(Array.isArray(g)?g:[g]).map($t);h?.errorMap&&w._updateErrorMap(h.errorMap),w._initializeWithPersistence(C,h?.popupRedirectResolver)}(vn,g),vn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,g,C)=>{h.getProvider("auth-internal").initialize()})),(0,F._registerComponent)(new Q.uA("auth-internal",h=>{const g=mn(h.getProvider("auth").getImmediate());return new Sd(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,F.registerVersion)(lf,"1.7.0",function ac(w){switch(w){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(w)),(0,F.registerVersion)(lf,"1.7.0","esm2017")}("Browser")},1076:(zt,ze,L)=>{L.d(ze,{Am:()=>Dr,Bd:()=>Se,FA:()=>Qe,Fy:()=>ye,I9:()=>Sr,Im:()=>ir,Ku:()=>Oe,Ll:()=>ue,T9:()=>Ge,Uj:()=>de,XA:()=>Ve,ZQ:()=>be,bD:()=>Nn,cY:()=>De,eX:()=>He,g:()=>dt,gR:()=>Bn,hp:()=>er,jZ:()=>Xe,lT:()=>In,lV:()=>Ee,nr:()=>Ct,sr:()=>pt,tD:()=>dn,u:()=>ne,zW:()=>Me,zw:()=>Re});const _e=function(ae){const he=[];let Y=0;for(let re=0;re<ae.length;re++){let X=ae.charCodeAt(re);X<128?he[Y++]=X:X<2048?(he[Y++]=X>>6|192,he[Y++]=63&X|128):55296==(64512&X)&&re+1<ae.length&&56320==(64512&ae.charCodeAt(re+1))?(X=65536+((1023&X)<<10)+(1023&ae.charCodeAt(++re)),he[Y++]=X>>18|240,he[Y++]=X>>12&63|128,he[Y++]=X>>6&63|128,he[Y++]=63&X|128):(he[Y++]=X>>12|224,he[Y++]=X>>6&63|128,he[Y++]=63&X|128)}return he},Q={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ae,he){if(!Array.isArray(ae))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Y=he?this.byteToCharMapWebSafe_:this.byteToCharMap_,re=[];for(let X=0;X<ae.length;X+=3){const ke=ae[X],gt=X+1<ae.length,$t=gt?ae[X+1]:0,Fn=X+2<ae.length,Gn=Fn?ae[X+2]:0;let Zt=(15&$t)<<2|Gn>>6,tr=63&Gn;Fn||(tr=64,gt||(Zt=64)),re.push(Y[ke>>2],Y[(3&ke)<<4|$t>>4],Y[Zt],Y[tr])}return re.join("")},encodeString(ae,he){return this.HAS_NATIVE_SUPPORT&&!he?btoa(ae):this.encodeByteArray(_e(ae),he)},decodeString(ae,he){return this.HAS_NATIVE_SUPPORT&&!he?atob(ae):function(ae){const he=[];let Y=0,re=0;for(;Y<ae.length;){const X=ae[Y++];if(X<128)he[re++]=String.fromCharCode(X);else if(X>191&&X<224){const ke=ae[Y++];he[re++]=String.fromCharCode((31&X)<<6|63&ke)}else if(X>239&&X<365){const Fn=((7&X)<<18|(63&ae[Y++])<<12|(63&ae[Y++])<<6|63&ae[Y++])-65536;he[re++]=String.fromCharCode(55296+(Fn>>10)),he[re++]=String.fromCharCode(56320+(1023&Fn))}else{const ke=ae[Y++],gt=ae[Y++];he[re++]=String.fromCharCode((15&X)<<12|(63&ke)<<6|63&gt)}}return he.join("")}(this.decodeStringToByteArray(ae,he))},decodeStringToByteArray(ae,he){this.init_();const Y=he?this.charToByteMapWebSafe_:this.charToByteMap_,re=[];for(let X=0;X<ae.length;){const ke=Y[ae.charAt(X++)],$t=X<ae.length?Y[ae.charAt(X)]:0;++X;const Gn=X<ae.length?Y[ae.charAt(X)]:64;++X;const pn=X<ae.length?Y[ae.charAt(X)]:64;if(++X,null==ke||null==$t||null==Gn||null==pn)throw new W;re.push(ke<<2|$t>>4),64!==Gn&&(re.push($t<<4&240|Gn>>2),64!==pn&&re.push(Gn<<6&192|pn))}return re},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ae=0;ae<this.ENCODED_VALS.length;ae++)this.byteToCharMap_[ae]=this.ENCODED_VALS.charAt(ae),this.charToByteMap_[this.byteToCharMap_[ae]]=ae,this.byteToCharMapWebSafe_[ae]=this.ENCODED_VALS_WEBSAFE.charAt(ae),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ae]]=ae,ae>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ae)]=ae,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ae)]=ae)}}};class W extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const de=function(ae){return function(ae){const he=_e(ae);return Q.encodeByteArray(he,!0)}(ae).replace(/\./g,"")},ne=function(ae){try{return Q.decodeString(ae,!0)}catch(he){console.error("base64Decode failed: ",he)}return null};function Re(ae,he){if(!(he instanceof Object))return he;switch(he.constructor){case Date:return new Date(he.getTime());case Object:void 0===ae&&(ae={});break;case Array:ae=[];break;default:return he}for(const Y in he)!he.hasOwnProperty(Y)||!We(Y)||(ae[Y]=Re(ae[Y],he[Y]));return ae}function We(ae){return"__proto__"!==ae}const ft=()=>{try{return function Ke(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const ae=process.env.__FIREBASE_DEFAULTS__;return ae?JSON.parse(ae):void 0})()||(()=>{if(typeof document>"u")return;let ae;try{ae=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const he=ae&&ne(ae[1]);return he&&JSON.parse(he)})()}catch(ae){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ae}`)}},Ge=()=>{var ae;return null===(ae=ft())||void 0===ae?void 0:ae.config},Ve=ae=>{var he;return null===(he=ft())||void 0===he?void 0:he[`_${ae}`]};class De{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((he,Y)=>{this.resolve=he,this.reject=Y})}wrapCallback(he){return(Y,re)=>{Y?this.reject(Y):this.resolve(re),"function"==typeof he&&(this.promise.catch(()=>{}),1===he.length?he(Y):he(Y,re))}}}function ye(ae,he){if(ae.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const re=he||"demo-project",X=ae.iat||0,ke=ae.sub||ae.user_id;if(!ke)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const gt=Object.assign({iss:`https://securetoken.google.com/${re}`,aud:re,iat:X,exp:X+3600,auth_time:X,sub:ke,user_id:ke,firebase:{sign_in_provider:"custom",identities:{}}},ae);return[de(JSON.stringify({alg:"none",type:"JWT"})),de(JSON.stringify(gt)),""].join(".")}function be(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Xe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(be())}function ue(){var ae;const he=null===(ae=ft())||void 0===ae?void 0:ae.forceEnvironment;if("node"===he)return!0;if("browser"===he)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Se(){return"object"==typeof self&&self.self===self}function pt(){const ae="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ae&&void 0!==ae.id}function Ee(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function In(){const ae=be();return ae.indexOf("MSIE ")>=0||ae.indexOf("Trident/")>=0}function Ct(){return!ue()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Me(){try{return"object"==typeof indexedDB}catch{return!1}}function He(){return new Promise((ae,he)=>{try{let Y=!0;const re="validate-browser-context-for-indexeddb-analytics-module",X=self.indexedDB.open(re);X.onsuccess=()=>{X.result.close(),Y||self.indexedDB.deleteDatabase(re),ae(!0)},X.onupgradeneeded=()=>{Y=!1},X.onerror=()=>{var ke;he((null===(ke=X.error)||void 0===ke?void 0:ke.message)||"")}}catch(Y){he(Y)}})}class dt extends Error{constructor(he,Y,re){super(Y),this.code=he,this.customData=re,this.name="FirebaseError",Object.setPrototypeOf(this,dt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qe.prototype.create)}}class Qe{constructor(he,Y,re){this.service=he,this.serviceName=Y,this.errors=re}create(he,...Y){const re=Y[0]||{},X=`${this.service}/${he}`,ke=this.errors[he],gt=ke?function Pt(ae,he){return ae.replace(Gt,(Y,re)=>{const X=he[re];return null!=X?String(X):`<${re}?>`})}(ke,re):"Error";return new dt(X,`${this.serviceName}: ${gt} (${X}).`,re)}}const Gt=/\{\$([^}]+)}/g;function Bn(ae,he){return Object.prototype.hasOwnProperty.call(ae,he)}function ir(ae){for(const he in ae)if(Object.prototype.hasOwnProperty.call(ae,he))return!1;return!0}function Nn(ae,he){if(ae===he)return!0;const Y=Object.keys(ae),re=Object.keys(he);for(const X of Y){if(!re.includes(X))return!1;const ke=ae[X],gt=he[X];if(jn(ke)&&jn(gt)){if(!Nn(ke,gt))return!1}else if(ke!==gt)return!1}for(const X of re)if(!Y.includes(X))return!1;return!0}function jn(ae){return null!==ae&&"object"==typeof ae}function Dr(ae){const he=[];for(const[Y,re]of Object.entries(ae))Array.isArray(re)?re.forEach(X=>{he.push(encodeURIComponent(Y)+"="+encodeURIComponent(X))}):he.push(encodeURIComponent(Y)+"="+encodeURIComponent(re));return he.length?"&"+he.join("&"):""}function Sr(ae){const he={};return ae.replace(/^\?/,"").split("&").forEach(re=>{if(re){const[X,ke]=re.split("=");he[decodeURIComponent(X)]=decodeURIComponent(ke)}}),he}function er(ae){const he=ae.indexOf("?");if(!he)return"";const Y=ae.indexOf("#",he);return ae.substring(he,Y>0?Y:void 0)}function dn(ae,he){const Y=new xr(ae,he);return Y.subscribe.bind(Y)}class xr{constructor(he,Y){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Y,this.task.then(()=>{he(this)}).catch(re=>{this.error(re)})}next(he){this.forEachObserver(Y=>{Y.next(he)})}error(he){this.forEachObserver(Y=>{Y.error(he)}),this.close(he)}complete(){this.forEachObserver(he=>{he.complete()}),this.close()}subscribe(he,Y,re){let X;if(void 0===he&&void 0===Y&&void 0===re)throw new Error("Missing Observer.");X=function Jt(ae,he){if("object"!=typeof ae||null===ae)return!1;for(const Y of he)if(Y in ae&&"function"==typeof ae[Y])return!0;return!1}(he,["next","error","complete"])?he:{next:he,error:Y,complete:re},void 0===X.next&&(X.next=ge),void 0===X.error&&(X.error=ge),void 0===X.complete&&(X.complete=ge);const ke=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?X.error(this.finalError):X.complete()}catch{}}),this.observers.push(X),ke}unsubscribeOne(he){void 0===this.observers||void 0===this.observers[he]||(delete this.observers[he],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(he){if(!this.finalized)for(let Y=0;Y<this.observers.length;Y++)this.sendOne(Y,he)}sendOne(he,Y){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[he])try{Y(this.observers[he])}catch(re){typeof console<"u"&&console.error&&console.error(re)}})}close(he){this.finalized||(this.finalized=!0,void 0!==he&&(this.finalError=he),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ge(){}function Oe(ae){return ae&&ae._delegate?ae._delegate:ae}},4412:(zt,ze,L)=>{L.d(ze,{t:()=>F});var p=L(1413);class F extends p.B{constructor(_e){super(),this._value=_e}get value(){return this.getValue()}_subscribe(_e){const V=super._subscribe(_e);return!V.closed&&_e.next(this._value),V}getValue(){const{hasError:_e,thrownError:V,_value:Q}=this;if(_e)throw V;return this._throwIfClosed(),Q}next(_e){super.next(this._value=_e)}}},1985:(zt,ze,L)=>{L.d(ze,{c:()=>oe});var p=L(7707),F=L(8359),_=L(3494),_e=L(1203),V=L(1026),Q=L(8071),W=L(9786);let oe=(()=>{class Re{constructor(Ke){Ke&&(this._subscribe=Ke)}lift(Ke){const yt=new Re;return yt.source=this,yt.operator=Ke,yt}subscribe(Ke,yt,At){const ut=function le(Re){return Re&&Re instanceof p.vU||function ne(Re){return Re&&(0,Q.T)(Re.next)&&(0,Q.T)(Re.error)&&(0,Q.T)(Re.complete)}(Re)&&(0,F.Uv)(Re)}(Ke)?Ke:new p.Ms(Ke,yt,At);return(0,W.Y)(()=>{const{operator:ft,source:Ut}=this;ut.add(ft?ft.call(ut,Ut):Ut?this._subscribe(ut):this._trySubscribe(ut))}),ut}_trySubscribe(Ke){try{return this._subscribe(Ke)}catch(yt){Ke.error(yt)}}forEach(Ke,yt){return new(yt=de(yt))((At,ut)=>{const ft=new p.Ms({next:Ut=>{try{Ke(Ut)}catch(Bt){ut(Bt),ft.unsubscribe()}},error:ut,complete:At});this.subscribe(ft)})}_subscribe(Ke){var yt;return null===(yt=this.source)||void 0===yt?void 0:yt.subscribe(Ke)}[_.s](){return this}pipe(...Ke){return(0,_e.m)(Ke)(this)}toPromise(Ke){return new(Ke=de(Ke))((yt,At)=>{let ut;this.subscribe(ft=>ut=ft,ft=>At(ft),()=>yt(ut))})}}return Re.create=We=>new Re(We),Re})();function de(Re){var We;return null!==(We=Re??V.$.Promise)&&void 0!==We?We:Promise}},1413:(zt,ze,L)=>{L.d(ze,{B:()=>W});var p=L(1985),F=L(8359);const _e=(0,L(1853).L)(de=>function(){de(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var V=L(7908),Q=L(9786);let W=(()=>{class de extends p.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(le){const Re=new oe(this,this);return Re.operator=le,Re}_throwIfClosed(){if(this.closed)throw new _e}next(le){(0,Q.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Re of this.currentObservers)Re.next(le)}})}error(le){(0,Q.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=le;const{observers:Re}=this;for(;Re.length;)Re.shift().error(le)}})}complete(){(0,Q.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:le}=this;for(;le.length;)le.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var le;return(null===(le=this.observers)||void 0===le?void 0:le.length)>0}_trySubscribe(le){return this._throwIfClosed(),super._trySubscribe(le)}_subscribe(le){return this._throwIfClosed(),this._checkFinalizedStatuses(le),this._innerSubscribe(le)}_innerSubscribe(le){const{hasError:Re,isStopped:We,observers:Ke}=this;return Re||We?F.Kn:(this.currentObservers=null,Ke.push(le),new F.yU(()=>{this.currentObservers=null,(0,V.o)(Ke,le)}))}_checkFinalizedStatuses(le){const{hasError:Re,thrownError:We,isStopped:Ke}=this;Re?le.error(We):Ke&&le.complete()}asObservable(){const le=new p.c;return le.source=this,le}}return de.create=(ne,le)=>new oe(ne,le),de})();class oe extends W{constructor(ne,le){super(),this.destination=ne,this.source=le}next(ne){var le,Re;null===(Re=null===(le=this.destination)||void 0===le?void 0:le.next)||void 0===Re||Re.call(le,ne)}error(ne){var le,Re;null===(Re=null===(le=this.destination)||void 0===le?void 0:le.error)||void 0===Re||Re.call(le,ne)}complete(){var ne,le;null===(le=null===(ne=this.destination)||void 0===ne?void 0:ne.complete)||void 0===le||le.call(ne)}_subscribe(ne){var le,Re;return null!==(Re=null===(le=this.source)||void 0===le?void 0:le.subscribe(ne))&&void 0!==Re?Re:F.Kn}}},7707:(zt,ze,L)=>{L.d(ze,{Ms:()=>At,vU:()=>Re});var p=L(8071),F=L(8359),_=L(1026),_e=L(5334),V=L(5343);const Q=de("C",void 0,void 0);function de(Ge,Ve,De){return{kind:Ge,value:Ve,error:De}}var ne=L(9270),le=L(9786);class Re extends F.yU{constructor(Ve){super(),this.isStopped=!1,Ve?(this.destination=Ve,(0,F.Uv)(Ve)&&Ve.add(this)):this.destination=Bt}static create(Ve,De,ye){return new At(Ve,De,ye)}next(Ve){this.isStopped?Ut(function oe(Ge){return de("N",Ge,void 0)}(Ve),this):this._next(Ve)}error(Ve){this.isStopped?Ut(function W(Ge){return de("E",void 0,Ge)}(Ve),this):(this.isStopped=!0,this._error(Ve))}complete(){this.isStopped?Ut(Q,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ve){this.destination.next(Ve)}_error(Ve){try{this.destination.error(Ve)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const We=Function.prototype.bind;function Ke(Ge,Ve){return We.call(Ge,Ve)}class yt{constructor(Ve){this.partialObserver=Ve}next(Ve){const{partialObserver:De}=this;if(De.next)try{De.next(Ve)}catch(ye){ut(ye)}}error(Ve){const{partialObserver:De}=this;if(De.error)try{De.error(Ve)}catch(ye){ut(ye)}else ut(Ve)}complete(){const{partialObserver:Ve}=this;if(Ve.complete)try{Ve.complete()}catch(De){ut(De)}}}class At extends Re{constructor(Ve,De,ye){let be;if(super(),(0,p.T)(Ve)||!Ve)be={next:Ve??void 0,error:De??void 0,complete:ye??void 0};else{let Xe;this&&_.$.useDeprecatedNextContext?(Xe=Object.create(Ve),Xe.unsubscribe=()=>this.unsubscribe(),be={next:Ve.next&&Ke(Ve.next,Xe),error:Ve.error&&Ke(Ve.error,Xe),complete:Ve.complete&&Ke(Ve.complete,Xe)}):be=Ve}this.destination=new yt(be)}}function ut(Ge){_.$.useDeprecatedSynchronousErrorHandling?(0,le.l)(Ge):(0,_e.m)(Ge)}function Ut(Ge,Ve){const{onStoppedNotification:De}=_.$;De&&ne.f.setTimeout(()=>De(Ge,Ve))}const Bt={closed:!0,next:V.l,error:function ft(Ge){throw Ge},complete:V.l}},8359:(zt,ze,L)=>{L.d(ze,{Kn:()=>Q,yU:()=>V,Uv:()=>W});var p=L(8071);const _=(0,L(1853).L)(de=>function(le){de(this),this.message=le?`${le.length} errors occurred during unsubscription:\n${le.map((Re,We)=>`${We+1}) ${Re.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=le});var _e=L(7908);class V{constructor(ne){this.initialTeardown=ne,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ne;if(!this.closed){this.closed=!0;const{_parentage:le}=this;if(le)if(this._parentage=null,Array.isArray(le))for(const Ke of le)Ke.remove(this);else le.remove(this);const{initialTeardown:Re}=this;if((0,p.T)(Re))try{Re()}catch(Ke){ne=Ke instanceof _?Ke.errors:[Ke]}const{_finalizers:We}=this;if(We){this._finalizers=null;for(const Ke of We)try{oe(Ke)}catch(yt){ne=ne??[],yt instanceof _?ne=[...ne,...yt.errors]:ne.push(yt)}}if(ne)throw new _(ne)}}add(ne){var le;if(ne&&ne!==this)if(this.closed)oe(ne);else{if(ne instanceof V){if(ne.closed||ne._hasParent(this))return;ne._addParent(this)}(this._finalizers=null!==(le=this._finalizers)&&void 0!==le?le:[]).push(ne)}}_hasParent(ne){const{_parentage:le}=this;return le===ne||Array.isArray(le)&&le.includes(ne)}_addParent(ne){const{_parentage:le}=this;this._parentage=Array.isArray(le)?(le.push(ne),le):le?[le,ne]:ne}_removeParent(ne){const{_parentage:le}=this;le===ne?this._parentage=null:Array.isArray(le)&&(0,_e.o)(le,ne)}remove(ne){const{_finalizers:le}=this;le&&(0,_e.o)(le,ne),ne instanceof V&&ne._removeParent(this)}}V.EMPTY=(()=>{const de=new V;return de.closed=!0,de})();const Q=V.EMPTY;function W(de){return de instanceof V||de&&"closed"in de&&(0,p.T)(de.remove)&&(0,p.T)(de.add)&&(0,p.T)(de.unsubscribe)}function oe(de){(0,p.T)(de)?de():de.unsubscribe()}},1026:(zt,ze,L)=>{L.d(ze,{$:()=>p});const p={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},8793:(zt,ze,L)=>{L.d(ze,{x:()=>V});var p=L(6365),_=L(9326),_e=L(8455);function V(...Q){return function F(){return(0,p.U)(1)}()((0,_e.H)(Q,(0,_.lI)(Q)))}},983:(zt,ze,L)=>{L.d(ze,{w:()=>F});const F=new(L(1985).c)(V=>V.complete())},8455:(zt,ze,L)=>{L.d(ze,{H:()=>Ve});var p=L(8750),F=L(941),_=L(6745),Q=L(1985),oe=L(4761),de=L(8071),ne=L(5225);function Re(De,ye){if(!De)throw new Error("Iterable cannot be null");return new Q.c(be=>{(0,ne.N)(be,ye,()=>{const Xe=De[Symbol.asyncIterator]();(0,ne.N)(be,ye,()=>{Xe.next().then(ue=>{ue.done?be.complete():be.next(ue.value)})},0,!0)})})}var We=L(5055),Ke=L(9858),yt=L(7441),At=L(5397),ut=L(7953),ft=L(591),Ut=L(5196);function Ve(De,ye){return ye?function Ge(De,ye){if(null!=De){if((0,We.l)(De))return function _e(De,ye){return(0,p.Tg)(De).pipe((0,_._)(ye),(0,F.Q)(ye))}(De,ye);if((0,yt.X)(De))return function W(De,ye){return new Q.c(be=>{let Xe=0;return ye.schedule(function(){Xe===De.length?be.complete():(be.next(De[Xe++]),be.closed||this.schedule())})})}(De,ye);if((0,Ke.y)(De))return function V(De,ye){return(0,p.Tg)(De).pipe((0,_._)(ye),(0,F.Q)(ye))}(De,ye);if((0,ut.T)(De))return Re(De,ye);if((0,At.x)(De))return function le(De,ye){return new Q.c(be=>{let Xe;return(0,ne.N)(be,ye,()=>{Xe=De[oe.l](),(0,ne.N)(be,ye,()=>{let ue,Se;try{({value:ue,done:Se}=Xe.next())}catch(pt){return void be.error(pt)}Se?be.complete():be.next(ue)},0,!0)}),()=>(0,de.T)(Xe?.return)&&Xe.return()})}(De,ye);if((0,Ut.U)(De))return function Bt(De,ye){return Re((0,Ut.C)(De),ye)}(De,ye)}throw(0,ft.L)(De)}(De,ye):(0,p.Tg)(De)}},8750:(zt,ze,L)=>{L.d(ze,{Tg:()=>We});var p=L(1635),F=L(7441),_=L(9858),_e=L(1985),V=L(5055),Q=L(7953),W=L(591),oe=L(5397),de=L(5196),ne=L(8071),le=L(5334),Re=L(3494);function We(Ge){if(Ge instanceof _e.c)return Ge;if(null!=Ge){if((0,V.l)(Ge))return function Ke(Ge){return new _e.c(Ve=>{const De=Ge[Re.s]();if((0,ne.T)(De.subscribe))return De.subscribe(Ve);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ge);if((0,F.X)(Ge))return function yt(Ge){return new _e.c(Ve=>{for(let De=0;De<Ge.length&&!Ve.closed;De++)Ve.next(Ge[De]);Ve.complete()})}(Ge);if((0,_.y)(Ge))return function At(Ge){return new _e.c(Ve=>{Ge.then(De=>{Ve.closed||(Ve.next(De),Ve.complete())},De=>Ve.error(De)).then(null,le.m)})}(Ge);if((0,Q.T)(Ge))return ft(Ge);if((0,oe.x)(Ge))return function ut(Ge){return new _e.c(Ve=>{for(const De of Ge)if(Ve.next(De),Ve.closed)return;Ve.complete()})}(Ge);if((0,de.U)(Ge))return function Ut(Ge){return ft((0,de.C)(Ge))}(Ge)}throw(0,W.L)(Ge)}function ft(Ge){return new _e.c(Ve=>{(function Bt(Ge,Ve){var De,ye,be,Xe;return(0,p.sH)(this,void 0,void 0,function*(){try{for(De=(0,p.xN)(Ge);!(ye=yield De.next()).done;)if(Ve.next(ye.value),Ve.closed)return}catch(ue){be={error:ue}}finally{try{ye&&!ye.done&&(Xe=De.return)&&(yield Xe.call(De))}finally{if(be)throw be.error}}Ve.complete()})})(Ge,Ve).catch(De=>Ve.error(De))})}},7673:(zt,ze,L)=>{L.d(ze,{of:()=>_});var p=L(9326),F=L(8455);function _(..._e){const V=(0,p.lI)(_e);return(0,F.H)(_e,V)}},4360:(zt,ze,L)=>{L.d(ze,{_:()=>F});var p=L(7707);function F(_e,V,Q,W,oe){return new _(_e,V,Q,W,oe)}class _ extends p.vU{constructor(V,Q,W,oe,de,ne){super(V),this.onFinalize=de,this.shouldUnsubscribe=ne,this._next=Q?function(le){try{Q(le)}catch(Re){V.error(Re)}}:super._next,this._error=oe?function(le){try{oe(le)}catch(Re){V.error(Re)}finally{this.unsubscribe()}}:super._error,this._complete=W?function(){try{W()}catch(le){V.error(le)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var V;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Q}=this;super.unsubscribe(),!Q&&(null===(V=this.onFinalize)||void 0===V||V.call(this))}}}},274:(zt,ze,L)=>{L.d(ze,{H:()=>_});var p=L(1397),F=L(8071);function _(_e,V){return(0,F.T)(V)?(0,p.Z)(_e,V,1):(0,p.Z)(_e,1)}},9901:(zt,ze,L)=>{L.d(ze,{U:()=>_});var p=L(9974),F=L(4360);function _(_e){return(0,p.N)((V,Q)=>{let W=!1;V.subscribe((0,F._)(Q,oe=>{W=!0,Q.next(oe)},()=>{W||Q.next(_e),Q.complete()}))})}},5964:(zt,ze,L)=>{L.d(ze,{p:()=>_});var p=L(9974),F=L(4360);function _(_e,V){return(0,p.N)((Q,W)=>{let oe=0;Q.subscribe((0,F._)(W,de=>_e.call(V,de,oe++)&&W.next(de)))})}},980:(zt,ze,L)=>{L.d(ze,{j:()=>F});var p=L(9974);function F(_){return(0,p.N)((_e,V)=>{try{_e.subscribe(V)}finally{V.add(_)}})}},1594:(zt,ze,L)=>{L.d(ze,{$:()=>W});var p=L(9350),F=L(5964),_=L(6697),_e=L(9901),V=L(3774),Q=L(3669);function W(oe,de){const ne=arguments.length>=2;return le=>le.pipe(oe?(0,F.p)((Re,We)=>oe(Re,We,le)):Q.D,(0,_.s)(1),ne?(0,_e.U)(de):(0,V.v)(()=>new p.G))}},6354:(zt,ze,L)=>{L.d(ze,{T:()=>_});var p=L(9974),F=L(4360);function _(_e,V){return(0,p.N)((Q,W)=>{let oe=0;Q.subscribe((0,F._)(W,de=>{W.next(_e.call(V,de,oe++))}))})}},6365:(zt,ze,L)=>{L.d(ze,{U:()=>_});var p=L(1397),F=L(3669);function _(_e=1/0){return(0,p.Z)(F.D,_e)}},1397:(zt,ze,L)=>{L.d(ze,{Z:()=>oe});var p=L(6354),F=L(8750),_=L(9974),_e=L(5225),V=L(4360),W=L(8071);function oe(de,ne,le=1/0){return(0,W.T)(ne)?oe((Re,We)=>(0,p.T)((Ke,yt)=>ne(Re,Ke,We,yt))((0,F.Tg)(de(Re,We))),le):("number"==typeof ne&&(le=ne),(0,_.N)((Re,We)=>function Q(de,ne,le,Re,We,Ke,yt,At){const ut=[];let ft=0,Ut=0,Bt=!1;const Ge=()=>{Bt&&!ut.length&&!ft&&ne.complete()},Ve=ye=>ft<Re?De(ye):ut.push(ye),De=ye=>{Ke&&ne.next(ye),ft++;let be=!1;(0,F.Tg)(le(ye,Ut++)).subscribe((0,V._)(ne,Xe=>{We?.(Xe),Ke?Ve(Xe):ne.next(Xe)},()=>{be=!0},void 0,()=>{if(be)try{for(ft--;ut.length&&ft<Re;){const Xe=ut.shift();yt?(0,_e.N)(ne,yt,()=>De(Xe)):De(Xe)}Ge()}catch(Xe){ne.error(Xe)}}))};return de.subscribe((0,V._)(ne,Ve,()=>{Bt=!0,Ge()})),()=>{At?.()}}(Re,We,de,le)))}},941:(zt,ze,L)=>{L.d(ze,{Q:()=>_e});var p=L(5225),F=L(9974),_=L(4360);function _e(V,Q=0){return(0,F.N)((W,oe)=>{W.subscribe((0,_._)(oe,de=>(0,p.N)(oe,V,()=>oe.next(de),Q),()=>(0,p.N)(oe,V,()=>oe.complete(),Q),de=>(0,p.N)(oe,V,()=>oe.error(de),Q)))})}},2816:(zt,ze,L)=>{L.d(ze,{S:()=>_e});var p=L(9974),F=L(4360);function _e(V,Q){return(0,p.N)(function _(V,Q,W,oe,de){return(ne,le)=>{let Re=W,We=Q,Ke=0;ne.subscribe((0,F._)(le,yt=>{const At=Ke++;We=Re?V(We,yt,At):(Re=!0,yt),oe&&le.next(We)},de&&(()=>{Re&&le.next(We),le.complete()})))}}(V,Q,arguments.length>=2,!0))}},9172:(zt,ze,L)=>{L.d(ze,{Z:()=>_e});var p=L(8793),F=L(9326),_=L(9974);function _e(...V){const Q=(0,F.lI)(V);return(0,_.N)((W,oe)=>{(Q?(0,p.x)(V,W,Q):(0,p.x)(V,W)).subscribe(oe)})}},6745:(zt,ze,L)=>{L.d(ze,{_:()=>F});var p=L(9974);function F(_,_e=0){return(0,p.N)((V,Q)=>{Q.add(_.schedule(()=>V.subscribe(Q),_e))})}},5558:(zt,ze,L)=>{L.d(ze,{n:()=>_e});var p=L(8750),F=L(9974),_=L(4360);function _e(V,Q){return(0,F.N)((W,oe)=>{let de=null,ne=0,le=!1;const Re=()=>le&&!de&&oe.complete();W.subscribe((0,_._)(oe,We=>{de?.unsubscribe();let Ke=0;const yt=ne++;(0,p.Tg)(V(We,yt)).subscribe(de=(0,_._)(oe,At=>oe.next(Q?Q(We,At,yt,Ke++):At),()=>{de=null,Re()}))},()=>{le=!0,Re()}))})}},6697:(zt,ze,L)=>{L.d(ze,{s:()=>_e});var p=L(983),F=L(9974),_=L(4360);function _e(V){return V<=0?()=>p.w:(0,F.N)((Q,W)=>{let oe=0;Q.subscribe((0,_._)(W,de=>{++oe<=V&&(W.next(de),V<=oe&&W.complete())}))})}},8141:(zt,ze,L)=>{L.d(ze,{M:()=>V});var p=L(8071),F=L(9974),_=L(4360),_e=L(3669);function V(Q,W,oe){const de=(0,p.T)(Q)||W||oe?{next:Q,error:W,complete:oe}:Q;return de?(0,F.N)((ne,le)=>{var Re;null===(Re=de.subscribe)||void 0===Re||Re.call(de);let We=!0;ne.subscribe((0,_._)(le,Ke=>{var yt;null===(yt=de.next)||void 0===yt||yt.call(de,Ke),le.next(Ke)},()=>{var Ke;We=!1,null===(Ke=de.complete)||void 0===Ke||Ke.call(de),le.complete()},Ke=>{var yt;We=!1,null===(yt=de.error)||void 0===yt||yt.call(de,Ke),le.error(Ke)},()=>{var Ke,yt;We&&(null===(Ke=de.unsubscribe)||void 0===Ke||Ke.call(de)),null===(yt=de.finalize)||void 0===yt||yt.call(de)}))}):_e.D}},3774:(zt,ze,L)=>{L.d(ze,{v:()=>_e});var p=L(9350),F=L(9974),_=L(4360);function _e(Q=V){return(0,F.N)((W,oe)=>{let de=!1;W.subscribe((0,_._)(oe,ne=>{de=!0,oe.next(ne)},()=>de?oe.complete():oe.error(Q())))})}function V(){return new p.G}},6780:(zt,ze,L)=>{L.d(ze,{R:()=>V});var p=L(8359);class F extends p.yU{constructor(W,oe){super()}schedule(W,oe=0){return this}}const _={setInterval(Q,W,...oe){const{delegate:de}=_;return de?.setInterval?de.setInterval(Q,W,...oe):setInterval(Q,W,...oe)},clearInterval(Q){const{delegate:W}=_;return(W?.clearInterval||clearInterval)(Q)},delegate:void 0};var _e=L(7908);class V extends F{constructor(W,oe){super(W,oe),this.scheduler=W,this.work=oe,this.pending=!1}schedule(W,oe=0){var de;if(this.closed)return this;this.state=W;const ne=this.id,le=this.scheduler;return null!=ne&&(this.id=this.recycleAsyncId(le,ne,oe)),this.pending=!0,this.delay=oe,this.id=null!==(de=this.id)&&void 0!==de?de:this.requestAsyncId(le,this.id,oe),this}requestAsyncId(W,oe,de=0){return _.setInterval(W.flush.bind(W,this),de)}recycleAsyncId(W,oe,de=0){if(null!=de&&this.delay===de&&!1===this.pending)return oe;null!=oe&&_.clearInterval(oe)}execute(W,oe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const de=this._execute(W,oe);if(de)return de;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(W,oe){let ne,de=!1;try{this.work(W)}catch(le){de=!0,ne=le||new Error("Scheduled action threw falsy error")}if(de)return this.unsubscribe(),ne}unsubscribe(){if(!this.closed){const{id:W,scheduler:oe}=this,{actions:de}=oe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,_e.o)(de,this),null!=W&&(this.id=this.recycleAsyncId(oe,W,null)),this.delay=null,super.unsubscribe()}}}},9687:(zt,ze,L)=>{L.d(ze,{q:()=>_});var p=L(6129);class F{constructor(V,Q=F.now){this.schedulerActionCtor=V,this.now=Q}schedule(V,Q=0,W){return new this.schedulerActionCtor(this,V).schedule(W,Q)}}F.now=p.U.now;class _ extends F{constructor(V,Q=F.now){super(V,Q),this.actions=[],this._active=!1}flush(V){const{actions:Q}=this;if(this._active)return void Q.push(V);let W;this._active=!0;do{if(W=V.execute(V.state,V.delay))break}while(V=Q.shift());if(this._active=!1,W){for(;V=Q.shift();)V.unsubscribe();throw W}}}},3236:(zt,ze,L)=>{L.d(ze,{E:()=>_,b:()=>_e});var p=L(6780);const _=new(L(9687).q)(p.R),_e=_},6129:(zt,ze,L)=>{L.d(ze,{U:()=>p});const p={now:()=>(p.delegate||Date).now(),delegate:void 0}},9270:(zt,ze,L)=>{L.d(ze,{f:()=>p});const p={setTimeout(F,_,..._e){const{delegate:V}=p;return V?.setTimeout?V.setTimeout(F,_,..._e):setTimeout(F,_,..._e)},clearTimeout(F){const{delegate:_}=p;return(_?.clearTimeout||clearTimeout)(F)},delegate:void 0}},4761:(zt,ze,L)=>{L.d(ze,{l:()=>F});const F=function p(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(zt,ze,L)=>{L.d(ze,{s:()=>p});const p="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(zt,ze,L)=>{L.d(ze,{G:()=>F});const F=(0,L(1853).L)(_=>function(){_(this),this.name="EmptyError",this.message="no elements in sequence"})},9326:(zt,ze,L)=>{L.d(ze,{R0:()=>Q,lI:()=>V,ms:()=>_e});var p=L(8071),F=L(9470);function _(W){return W[W.length-1]}function _e(W){return(0,p.T)(_(W))?W.pop():void 0}function V(W){return(0,F.m)(_(W))?W.pop():void 0}function Q(W,oe){return"number"==typeof _(W)?W.pop():oe}},3073:(zt,ze,L)=>{L.d(ze,{D:()=>V});const{isArray:p}=Array,{getPrototypeOf:F,prototype:_,keys:_e}=Object;function V(W){if(1===W.length){const oe=W[0];if(p(oe))return{args:oe,keys:null};if(function Q(W){return W&&"object"==typeof W&&F(W)===_}(oe)){const de=_e(oe);return{args:de.map(ne=>oe[ne]),keys:de}}}return{args:W,keys:null}}},7908:(zt,ze,L)=>{function p(F,_){if(F){const _e=F.indexOf(_);0<=_e&&F.splice(_e,1)}}L.d(ze,{o:()=>p})},1853:(zt,ze,L)=>{function p(F){const _e=F(V=>{Error.call(V),V.stack=(new Error).stack});return _e.prototype=Object.create(Error.prototype),_e.prototype.constructor=_e,_e}L.d(ze,{L:()=>p})},8496:(zt,ze,L)=>{function p(F,_){return F.reduce((_e,V,Q)=>(_e[V]=_[Q],_e),{})}L.d(ze,{e:()=>p})},9786:(zt,ze,L)=>{L.d(ze,{Y:()=>_,l:()=>_e});var p=L(1026);let F=null;function _(V){if(p.$.useDeprecatedSynchronousErrorHandling){const Q=!F;if(Q&&(F={errorThrown:!1,error:null}),V(),Q){const{errorThrown:W,error:oe}=F;if(F=null,W)throw oe}}else V()}function _e(V){p.$.useDeprecatedSynchronousErrorHandling&&F&&(F.errorThrown=!0,F.error=V)}},5225:(zt,ze,L)=>{function p(F,_,_e,V=0,Q=!1){const W=_.schedule(function(){_e(),Q?F.add(this.schedule(null,V)):this.unsubscribe()},V);if(F.add(W),!Q)return W}L.d(ze,{N:()=>p})},3669:(zt,ze,L)=>{function p(F){return F}L.d(ze,{D:()=>p})},7441:(zt,ze,L)=>{L.d(ze,{X:()=>p});const p=F=>F&&"number"==typeof F.length&&"function"!=typeof F},7953:(zt,ze,L)=>{L.d(ze,{T:()=>F});var p=L(8071);function F(_){return Symbol.asyncIterator&&(0,p.T)(_?.[Symbol.asyncIterator])}},8071:(zt,ze,L)=>{function p(F){return"function"==typeof F}L.d(ze,{T:()=>p})},5055:(zt,ze,L)=>{L.d(ze,{l:()=>_});var p=L(3494),F=L(8071);function _(_e){return(0,F.T)(_e[p.s])}},5397:(zt,ze,L)=>{L.d(ze,{x:()=>_});var p=L(4761),F=L(8071);function _(_e){return(0,F.T)(_e?.[p.l])}},9858:(zt,ze,L)=>{L.d(ze,{y:()=>F});var p=L(8071);function F(_){return(0,p.T)(_?.then)}},5196:(zt,ze,L)=>{L.d(ze,{C:()=>_,U:()=>_e});var p=L(1635),F=L(8071);function _(V){return(0,p.AQ)(this,arguments,function*(){const W=V.getReader();try{for(;;){const{value:oe,done:de}=yield(0,p.N3)(W.read());if(de)return yield(0,p.N3)(void 0);yield yield(0,p.N3)(oe)}}finally{W.releaseLock()}})}function _e(V){return(0,F.T)(V?.getReader)}},9470:(zt,ze,L)=>{L.d(ze,{m:()=>F});var p=L(8071);function F(_){return _&&(0,p.T)(_.schedule)}},9974:(zt,ze,L)=>{L.d(ze,{N:()=>_,S:()=>F});var p=L(8071);function F(_e){return(0,p.T)(_e?.lift)}function _(_e){return V=>{if(F(V))return V.lift(function(Q){try{return _e(Q,this)}catch(W){this.error(W)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(zt,ze,L)=>{L.d(ze,{I:()=>_e});var p=L(6354);const{isArray:F}=Array;function _e(V){return(0,p.T)(Q=>function _(V,Q){return F(Q)?V(...Q):V(Q)}(V,Q))}},5343:(zt,ze,L)=>{function p(){}L.d(ze,{l:()=>p})},1203:(zt,ze,L)=>{L.d(ze,{F:()=>F,m:()=>_});var p=L(3669);function F(..._e){return _(_e)}function _(_e){return 0===_e.length?p.D:1===_e.length?_e[0]:function(Q){return _e.reduce((W,oe)=>oe(W),Q)}}},5334:(zt,ze,L)=>{L.d(ze,{m:()=>_});var p=L(1026),F=L(9270);function _(_e){F.f.setTimeout(()=>{const{onUnhandledError:V}=p.$;if(!V)throw _e;V(_e)})}},591:(zt,ze,L)=>{function p(F){return new TypeError(`You provided ${null!==F&&"object"==typeof F?"an invalid object":`'${F}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}L.d(ze,{L:()=>p})},9969:(zt,ze,L)=>{L.d(ze,{FX:()=>Xe,If:()=>p,K2:()=>Q,hZ:()=>_,i0:()=>_e,iF:()=>W,kY:()=>ne,kp:()=>F,sf:()=>ye,ui:()=>be,wk:()=>oe});var p=function(ue){return ue[ue.State=0]="State",ue[ue.Transition=1]="Transition",ue[ue.Sequence=2]="Sequence",ue[ue.Group=3]="Group",ue[ue.Animate=4]="Animate",ue[ue.Keyframes=5]="Keyframes",ue[ue.Style=6]="Style",ue[ue.Trigger=7]="Trigger",ue[ue.Reference=8]="Reference",ue[ue.AnimateChild=9]="AnimateChild",ue[ue.AnimateRef=10]="AnimateRef",ue[ue.Query=11]="Query",ue[ue.Stagger=12]="Stagger",ue}(p||{});const F="*";function _(ue,Se){return{type:p.Trigger,name:ue,definitions:Se,options:{}}}function _e(ue,Se=null){return{type:p.Animate,styles:Se,timings:ue}}function Q(ue,Se=null){return{type:p.Sequence,steps:ue,options:Se}}function W(ue){return{type:p.Style,styles:ue,offset:null}}function oe(ue,Se,pt){return{type:p.State,name:ue,styles:Se,options:pt}}function ne(ue,Se,pt=null){return{type:p.Transition,expr:ue,animation:Se,options:pt}}class ye{constructor(Se=0,pt=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Se+pt}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Se=>Se()),this._onDoneFns=[])}onStart(Se){this._originalOnStartFns.push(Se),this._onStartFns.push(Se)}onDone(Se){this._originalOnDoneFns.push(Se),this._onDoneFns.push(Se)}onDestroy(Se){this._onDestroyFns.push(Se)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Se=>Se()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Se=>Se()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(Se){this._position=this.totalTime?Se*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Se){const pt="start"==Se?this._onStartFns:this._onDoneFns;pt.forEach(Ee=>Ee()),pt.length=0}}class be{constructor(Se){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Se;let pt=0,Ee=0,Ht=0;const In=this.players.length;0==In?queueMicrotask(()=>this._onFinish()):this.players.forEach(vt=>{vt.onDone(()=>{++pt==In&&this._onFinish()}),vt.onDestroy(()=>{++Ee==In&&this._onDestroy()}),vt.onStart(()=>{++Ht==In&&this._onStart()})}),this.totalTime=this.players.reduce((vt,nn)=>Math.max(vt,nn.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Se=>Se()),this._onDoneFns=[])}init(){this.players.forEach(Se=>Se.init())}onStart(Se){this._onStartFns.push(Se)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Se=>Se()),this._onStartFns=[])}onDone(Se){this._onDoneFns.push(Se)}onDestroy(Se){this._onDestroyFns.push(Se)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Se=>Se.play())}pause(){this.players.forEach(Se=>Se.pause())}restart(){this.players.forEach(Se=>Se.restart())}finish(){this._onFinish(),this.players.forEach(Se=>Se.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Se=>Se.destroy()),this._onDestroyFns.forEach(Se=>Se()),this._onDestroyFns=[])}reset(){this.players.forEach(Se=>Se.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Se){const pt=Se*this.totalTime;this.players.forEach(Ee=>{const Ht=Ee.totalTime?Math.min(1,pt/Ee.totalTime):1;Ee.setPosition(Ht)})}getPosition(){const Se=this.players.reduce((pt,Ee)=>null===pt||Ee.totalTime>pt.totalTime?Ee:pt,null);return null!=Se?Se.getPosition():0}beforeDestroy(){this.players.forEach(Se=>{Se.beforeDestroy&&Se.beforeDestroy()})}triggerCallback(Se){const pt="start"==Se?this._onStartFns:this._onDoneFns;pt.forEach(Ee=>Ee()),pt.length=0}}const Xe="!"},177:(zt,ze,L)=>{L.d(ze,{AJ:()=>Ps,B3:()=>Tn,MD:()=>Hi,N0:()=>Is,QT:()=>_,Sm:()=>At,Sq:()=>Cn,T3:()=>Xn,UE:()=>qi,VF:()=>V,Vy:()=>To,Xr:()=>no,YU:()=>rt,ZD:()=>_e,_b:()=>pe,aZ:()=>ft,bT:()=>br,fw:()=>ut,hb:()=>Ke,hj:()=>de,qQ:()=>W});var p=L(4438);let F=null;function _(){return F}function _e(b){F??=b}class V{}const W=new p.nKC("");let oe=(()=>{class b{historyGo(O){throw new Error("")}static#e=this.\u0275fac=function($){return new($||b)};static#t=this.\u0275prov=p.jDH({token:b,factory:()=>(0,p.WQX)(ne),providedIn:"platform"})}return b})();const de=new p.nKC("");let ne=(()=>{class b extends oe{constructor(){super(),this._doc=(0,p.WQX)(W),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return _().getBaseHref(this._doc)}onPopState(O){const $=_().getGlobalEventTarget(this._doc,"window");return $.addEventListener("popstate",O,!1),()=>$.removeEventListener("popstate",O)}onHashChange(O){const $=_().getGlobalEventTarget(this._doc,"window");return $.addEventListener("hashchange",O,!1),()=>$.removeEventListener("hashchange",O)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(O){this._location.pathname=O}pushState(O,$,ve){this._history.pushState(O,$,ve)}replaceState(O,$,ve){this._history.replaceState(O,$,ve)}forward(){this._history.forward()}back(){this._history.back()}historyGo(O=0){this._history.go(O)}getState(){return this._history.state}static#e=this.\u0275fac=function($){return new($||b)};static#t=this.\u0275prov=p.jDH({token:b,factory:()=>new b,providedIn:"platform"})}return b})();function le(b,K){if(0==b.length)return K;if(0==K.length)return b;let O=0;return b.endsWith("/")&&O++,K.startsWith("/")&&O++,2==O?b+K.substring(1):1==O?b+K:b+"/"+K}function Re(b){const K=b.match(/#|\?|$/),O=K&&K.index||b.length;return b.slice(0,O-("/"===b[O-1]?1:0))+b.slice(O)}function We(b){return b&&"?"!==b[0]?"?"+b:b}let Ke=(()=>{class b{historyGo(O){throw new Error("")}static#e=this.\u0275fac=function($){return new($||b)};static#t=this.\u0275prov=p.jDH({token:b,factory:()=>(0,p.WQX)(At),providedIn:"root"})}return b})();const yt=new p.nKC("");let At=(()=>{class b extends Ke{constructor(O,$){super(),this._platformLocation=O,this._removeListenerFns=[],this._baseHref=$??this._platformLocation.getBaseHrefFromDOM()??(0,p.WQX)(W).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(O){this._removeListenerFns.push(this._platformLocation.onPopState(O),this._platformLocation.onHashChange(O))}getBaseHref(){return this._baseHref}prepareExternalUrl(O){return le(this._baseHref,O)}path(O=!1){const $=this._platformLocation.pathname+We(this._platformLocation.search),ve=this._platformLocation.hash;return ve&&O?`${$}${ve}`:$}pushState(O,$,ve,at){const wt=this.prepareExternalUrl(ve+We(at));this._platformLocation.pushState(O,$,wt)}replaceState(O,$,ve,at){const wt=this.prepareExternalUrl(ve+We(at));this._platformLocation.replaceState(O,$,wt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(O=0){this._platformLocation.historyGo?.(O)}static#e=this.\u0275fac=function($){return new($||b)(p.KVO(oe),p.KVO(yt,8))};static#t=this.\u0275prov=p.jDH({token:b,factory:b.\u0275fac,providedIn:"root"})}return b})(),ut=(()=>{class b extends Ke{constructor(O,$){super(),this._platformLocation=O,this._baseHref="",this._removeListenerFns=[],null!=$&&(this._baseHref=$)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(O){this._removeListenerFns.push(this._platformLocation.onPopState(O),this._platformLocation.onHashChange(O))}getBaseHref(){return this._baseHref}path(O=!1){const $=this._platformLocation.hash??"#";return $.length>0?$.substring(1):$}prepareExternalUrl(O){const $=le(this._baseHref,O);return $.length>0?"#"+$:$}pushState(O,$,ve,at){let wt=this.prepareExternalUrl(ve+We(at));0==wt.length&&(wt=this._platformLocation.pathname),this._platformLocation.pushState(O,$,wt)}replaceState(O,$,ve,at){let wt=this.prepareExternalUrl(ve+We(at));0==wt.length&&(wt=this._platformLocation.pathname),this._platformLocation.replaceState(O,$,wt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(O=0){this._platformLocation.historyGo?.(O)}static#e=this.\u0275fac=function($){return new($||b)(p.KVO(oe),p.KVO(yt,8))};static#t=this.\u0275prov=p.jDH({token:b,factory:b.\u0275fac})}return b})(),ft=(()=>{class b{constructor(O){this._subject=new p.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=O;const $=this._locationStrategy.getBaseHref();this._basePath=function Ve(b){if(new RegExp("^(https?:)?//").test(b)){const[,O]=b.split(/\/\/[^\/]+/);return O}return b}(Re(Ge($))),this._locationStrategy.onPopState(ve=>{this._subject.emit({url:this.path(!0),pop:!0,state:ve.state,type:ve.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(O=!1){return this.normalize(this._locationStrategy.path(O))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(O,$=""){return this.path()==this.normalize(O+We($))}normalize(O){return b.stripTrailingSlash(function Bt(b,K){if(!b||!K.startsWith(b))return K;const O=K.substring(b.length);return""===O||["/",";","?","#"].includes(O[0])?O:K}(this._basePath,Ge(O)))}prepareExternalUrl(O){return O&&"/"!==O[0]&&(O="/"+O),this._locationStrategy.prepareExternalUrl(O)}go(O,$="",ve=null){this._locationStrategy.pushState(ve,"",O,$),this._notifyUrlChangeListeners(this.prepareExternalUrl(O+We($)),ve)}replaceState(O,$="",ve=null){this._locationStrategy.replaceState(ve,"",O,$),this._notifyUrlChangeListeners(this.prepareExternalUrl(O+We($)),ve)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(O=0){this._locationStrategy.historyGo?.(O)}onUrlChange(O){return this._urlChangeListeners.push(O),this._urlChangeSubscription??=this.subscribe($=>{this._notifyUrlChangeListeners($.url,$.state)}),()=>{const $=this._urlChangeListeners.indexOf(O);this._urlChangeListeners.splice($,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(O="",$){this._urlChangeListeners.forEach(ve=>ve(O,$))}subscribe(O,$,ve){return this._subject.subscribe({next:O,error:$,complete:ve})}static#e=this.normalizeQueryParams=We;static#t=this.joinWithSlash=le;static#n=this.stripTrailingSlash=Re;static#r=this.\u0275fac=function($){return new($||b)(p.KVO(Ke))};static#i=this.\u0275prov=p.jDH({token:b,factory:()=>function Ut(){return new ft((0,p.KVO)(Ke))}(),providedIn:"root"})}return b})();function Ge(b){return b.replace(/\/index.html$/,"")}function pe(b,K){K=encodeURIComponent(K);for(const O of b.split(";")){const $=O.indexOf("="),[ve,at]=-1==$?[O,""]:[O.slice(0,$),O.slice($+1)];if(ve.trim()===K)return decodeURIComponent(at)}return null}const we=/\s+/,nt=[];let rt=(()=>{class b{constructor(O,$){this._ngEl=O,this._renderer=$,this.initialClasses=nt,this.stateMap=new Map}set klass(O){this.initialClasses=null!=O?O.trim().split(we):nt}set ngClass(O){this.rawClass="string"==typeof O?O.trim().split(we):O}ngDoCheck(){for(const $ of this.initialClasses)this._updateState($,!0);const O=this.rawClass;if(Array.isArray(O)||O instanceof Set)for(const $ of O)this._updateState($,!0);else if(null!=O)for(const $ of Object.keys(O))this._updateState($,!!O[$]);this._applyStateDiff()}_updateState(O,$){const ve=this.stateMap.get(O);void 0!==ve?(ve.enabled!==$&&(ve.changed=!0,ve.enabled=$),ve.touched=!0):this.stateMap.set(O,{enabled:$,changed:!0,touched:!0})}_applyStateDiff(){for(const O of this.stateMap){const $=O[0],ve=O[1];ve.changed?(this._toggleClass($,ve.enabled),ve.changed=!1):ve.touched||(ve.enabled&&this._toggleClass($,!1),this.stateMap.delete($)),ve.touched=!1}}_toggleClass(O,$){(O=O.trim()).length>0&&O.split(we).forEach(ve=>{$?this._renderer.addClass(this._ngEl.nativeElement,ve):this._renderer.removeClass(this._ngEl.nativeElement,ve)})}static#e=this.\u0275fac=function($){return new($||b)(p.rXU(p.aKT),p.rXU(p.sFG))};static#t=this.\u0275dir=p.FsC({type:b,selectors:[["","ngClass",""]],inputs:{klass:[p.Mj6.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}return b})();class mn{constructor(K,O,$,ve){this.$implicit=K,this.ngForOf=O,this.index=$,this.count=ve}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Cn=(()=>{class b{set ngForOf(O){this._ngForOf=O,this._ngForOfDirty=!0}set ngForTrackBy(O){this._trackByFn=O}get ngForTrackBy(){return this._trackByFn}constructor(O,$,ve){this._viewContainer=O,this._template=$,this._differs=ve,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(O){O&&(this._template=O)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const O=this._ngForOf;!this._differ&&O&&(this._differ=this._differs.find(O).create(this.ngForTrackBy))}if(this._differ){const O=this._differ.diff(this._ngForOf);O&&this._applyChanges(O)}}_applyChanges(O){const $=this._viewContainer;O.forEachOperation((ve,at,wt)=>{if(null==ve.previousIndex)$.createEmbeddedView(this._template,new mn(ve.item,this._ngForOf,-1,-1),null===wt?void 0:wt);else if(null==wt)$.remove(null===at?void 0:at);else if(null!==at){const hn=$.get(at);$.move(hn,wt),Cr(hn,ve)}});for(let ve=0,at=$.length;ve<at;ve++){const hn=$.get(ve).context;hn.index=ve,hn.count=at,hn.ngForOf=this._ngForOf}O.forEachIdentityChange(ve=>{Cr($.get(ve.currentIndex),ve)})}static ngTemplateContextGuard(O,$){return!0}static#e=this.\u0275fac=function($){return new($||b)(p.rXU(p.c1b),p.rXU(p.C4Q),p.rXU(p._q3))};static#t=this.\u0275dir=p.FsC({type:b,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return b})();function Cr(b,K){b.context.$implicit=K.item}let br=(()=>{class b{constructor(O,$){this._viewContainer=O,this._context=new ai,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=$}set ngIf(O){this._context.$implicit=this._context.ngIf=O,this._updateView()}set ngIfThen(O){Zi("ngIfThen",O),this._thenTemplateRef=O,this._thenViewRef=null,this._updateView()}set ngIfElse(O){Zi("ngIfElse",O),this._elseTemplateRef=O,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(O,$){return!0}static#e=this.\u0275fac=function($){return new($||b)(p.rXU(p.c1b),p.rXU(p.C4Q))};static#t=this.\u0275dir=p.FsC({type:b,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return b})();class ai{constructor(){this.$implicit=null,this.ngIf=null}}function Zi(b,K){if(K&&!K.createEmbeddedView)throw new Error(`${b} must be a TemplateRef, but received '${(0,p.Tbb)(K)}'.`)}let Tn=(()=>{class b{constructor(O,$,ve){this._ngEl=O,this._differs=$,this._renderer=ve,this._ngStyle=null,this._differ=null}set ngStyle(O){this._ngStyle=O,!this._differ&&O&&(this._differ=this._differs.find(O).create())}ngDoCheck(){if(this._differ){const O=this._differ.diff(this._ngStyle);O&&this._applyChanges(O)}}_setStyle(O,$){const[ve,at]=O.split("."),wt=-1===ve.indexOf("-")?void 0:p.czy.DashCase;null!=$?this._renderer.setStyle(this._ngEl.nativeElement,ve,at?`${$}${at}`:$,wt):this._renderer.removeStyle(this._ngEl.nativeElement,ve,wt)}_applyChanges(O){O.forEachRemovedItem($=>this._setStyle($.key,null)),O.forEachAddedItem($=>this._setStyle($.key,$.currentValue)),O.forEachChangedItem($=>this._setStyle($.key,$.currentValue))}static#e=this.\u0275fac=function($){return new($||b)(p.rXU(p.aKT),p.rXU(p.MKu),p.rXU(p.sFG))};static#t=this.\u0275dir=p.FsC({type:b,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return b})(),Xn=(()=>{class b{constructor(O){this._viewContainerRef=O,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(O){if(this._shouldRecreateView(O)){const $=this._viewContainerRef;if(this._viewRef&&$.remove($.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const ve=this._createContextForwardProxy();this._viewRef=$.createEmbeddedView(this.ngTemplateOutlet,ve,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(O){return!!O.ngTemplateOutlet||!!O.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(O,$,ve)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,$,ve),get:(O,$,ve)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,$,ve)}})}static#e=this.\u0275fac=function($){return new($||b)(p.rXU(p.c1b))};static#t=this.\u0275dir=p.FsC({type:b,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[p.OA$]})}return b})(),Hi=(()=>{class b{static#e=this.\u0275fac=function($){return new($||b)};static#t=this.\u0275mod=p.$C({type:b});static#n=this.\u0275inj=p.G2t({})}return b})();const Ps="browser",wo="server";function qi(b){return b===Ps}function To(b){return b===wo}let no=(()=>{class b{static#e=this.\u0275prov=(0,p.jDH)({token:b,providedIn:"root",factory:()=>qi((0,p.WQX)(p.Agw))?new Jr((0,p.WQX)(W),window):new ro})}return b})();class Jr{constructor(K,O){this.document=K,this.window=O,this.offset=()=>[0,0]}setOffset(K){this.offset=Array.isArray(K)?()=>K:K}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(K){this.window.scrollTo(K[0],K[1])}scrollToAnchor(K){const O=function hr(b,K){const O=b.getElementById(K)||b.getElementsByName(K)[0];if(O)return O;if("function"==typeof b.createTreeWalker&&b.body&&"function"==typeof b.body.attachShadow){const $=b.createTreeWalker(b.body,NodeFilter.SHOW_ELEMENT);let ve=$.currentNode;for(;ve;){const at=ve.shadowRoot;if(at){const wt=at.getElementById(K)||at.querySelector(`[name="${K}"]`);if(wt)return wt}ve=$.nextNode()}}return null}(this.document,K);O&&(this.scrollToElement(O),O.focus())}setHistoryScrollRestoration(K){this.window.history.scrollRestoration=K}scrollToElement(K){const O=K.getBoundingClientRect(),$=O.left+this.window.pageXOffset,ve=O.top+this.window.pageYOffset,at=this.offset();this.window.scrollTo($-at[0],ve-at[1])}}class ro{setOffset(K){}getScrollPosition(){return[0,0]}scrollToPosition(K){}scrollToAnchor(K){}setHistoryScrollRestoration(K){}}class Is{}},1626:(zt,ze,L)=>{L.d(ze,{Qq:()=>lt,q1:()=>Gn}),L(467);var F=L(4438),_=L(7673),_e=L(1985),V=L(8455),Q=L(274),W=L(5964),oe=L(6354),de=L(980),ne=L(5558),le=L(177);class Re{}class We{}class Ke{constructor(pe){this.normalizedNames=new Map,this.lazyUpdate=null,pe?"string"==typeof pe?this.lazyInit=()=>{this.headers=new Map,pe.split("\n").forEach(we=>{const nt=we.indexOf(":");if(nt>0){const rt=we.slice(0,nt),xt=rt.toLowerCase(),kt=we.slice(nt+1).trim();this.maybeSetNormalizedName(rt,xt),this.headers.has(xt)?this.headers.get(xt).push(kt):this.headers.set(xt,[kt])}})}:typeof Headers<"u"&&pe instanceof Headers?(this.headers=new Map,pe.forEach((we,nt)=>{this.setHeaderEntries(nt,we)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(pe).forEach(([we,nt])=>{this.setHeaderEntries(we,nt)})}:this.headers=new Map}has(pe){return this.init(),this.headers.has(pe.toLowerCase())}get(pe){this.init();const we=this.headers.get(pe.toLowerCase());return we&&we.length>0?we[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(pe){return this.init(),this.headers.get(pe.toLowerCase())||null}append(pe,we){return this.clone({name:pe,value:we,op:"a"})}set(pe,we){return this.clone({name:pe,value:we,op:"s"})}delete(pe,we){return this.clone({name:pe,value:we,op:"d"})}maybeSetNormalizedName(pe,we){this.normalizedNames.has(we)||this.normalizedNames.set(we,pe)}init(){this.lazyInit&&(this.lazyInit instanceof Ke?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(pe=>this.applyUpdate(pe)),this.lazyUpdate=null))}copyFrom(pe){pe.init(),Array.from(pe.headers.keys()).forEach(we=>{this.headers.set(we,pe.headers.get(we)),this.normalizedNames.set(we,pe.normalizedNames.get(we))})}clone(pe){const we=new Ke;return we.lazyInit=this.lazyInit&&this.lazyInit instanceof Ke?this.lazyInit:this,we.lazyUpdate=(this.lazyUpdate||[]).concat([pe]),we}applyUpdate(pe){const we=pe.name.toLowerCase();switch(pe.op){case"a":case"s":let nt=pe.value;if("string"==typeof nt&&(nt=[nt]),0===nt.length)return;this.maybeSetNormalizedName(pe.name,we);const rt=("a"===pe.op?this.headers.get(we):void 0)||[];rt.push(...nt),this.headers.set(we,rt);break;case"d":const xt=pe.value;if(xt){let kt=this.headers.get(we);if(!kt)return;kt=kt.filter(mn=>-1===xt.indexOf(mn)),0===kt.length?(this.headers.delete(we),this.normalizedNames.delete(we)):this.headers.set(we,kt)}else this.headers.delete(we),this.normalizedNames.delete(we)}}setHeaderEntries(pe,we){const nt=(Array.isArray(we)?we:[we]).map(xt=>xt.toString()),rt=pe.toLowerCase();this.headers.set(rt,nt),this.maybeSetNormalizedName(pe,rt)}forEach(pe){this.init(),Array.from(this.normalizedNames.keys()).forEach(we=>pe(this.normalizedNames.get(we),this.headers.get(we)))}}class At{encodeKey(pe){return Bt(pe)}encodeValue(pe){return Bt(pe)}decodeKey(pe){return decodeURIComponent(pe)}decodeValue(pe){return decodeURIComponent(pe)}}const ft=/%(\d[a-f0-9])/gi,Ut={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Bt(te){return encodeURIComponent(te).replace(ft,(pe,we)=>Ut[we]??pe)}function Ge(te){return`${te}`}class Ve{constructor(pe={}){if(this.updates=null,this.cloneFrom=null,this.encoder=pe.encoder||new At,pe.fromString){if(pe.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function ut(te,pe){const we=new Map;return te.length>0&&te.replace(/^\?/,"").split("&").forEach(rt=>{const xt=rt.indexOf("="),[kt,mn]=-1==xt?[pe.decodeKey(rt),""]:[pe.decodeKey(rt.slice(0,xt)),pe.decodeValue(rt.slice(xt+1))],Cn=we.get(kt)||[];Cn.push(mn),we.set(kt,Cn)}),we}(pe.fromString,this.encoder)}else pe.fromObject?(this.map=new Map,Object.keys(pe.fromObject).forEach(we=>{const nt=pe.fromObject[we],rt=Array.isArray(nt)?nt.map(Ge):[Ge(nt)];this.map.set(we,rt)})):this.map=null}has(pe){return this.init(),this.map.has(pe)}get(pe){this.init();const we=this.map.get(pe);return we?we[0]:null}getAll(pe){return this.init(),this.map.get(pe)||null}keys(){return this.init(),Array.from(this.map.keys())}append(pe,we){return this.clone({param:pe,value:we,op:"a"})}appendAll(pe){const we=[];return Object.keys(pe).forEach(nt=>{const rt=pe[nt];Array.isArray(rt)?rt.forEach(xt=>{we.push({param:nt,value:xt,op:"a"})}):we.push({param:nt,value:rt,op:"a"})}),this.clone(we)}set(pe,we){return this.clone({param:pe,value:we,op:"s"})}delete(pe,we){return this.clone({param:pe,value:we,op:"d"})}toString(){return this.init(),this.keys().map(pe=>{const we=this.encoder.encodeKey(pe);return this.map.get(pe).map(nt=>we+"="+this.encoder.encodeValue(nt)).join("&")}).filter(pe=>""!==pe).join("&")}clone(pe){const we=new Ve({encoder:this.encoder});return we.cloneFrom=this.cloneFrom||this,we.updates=(this.updates||[]).concat(pe),we}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(pe=>this.map.set(pe,this.cloneFrom.map.get(pe))),this.updates.forEach(pe=>{switch(pe.op){case"a":case"s":const we=("a"===pe.op?this.map.get(pe.param):void 0)||[];we.push(Ge(pe.value)),this.map.set(pe.param,we);break;case"d":if(void 0===pe.value){this.map.delete(pe.param);break}{let nt=this.map.get(pe.param)||[];const rt=nt.indexOf(Ge(pe.value));-1!==rt&&nt.splice(rt,1),nt.length>0?this.map.set(pe.param,nt):this.map.delete(pe.param)}}}),this.cloneFrom=this.updates=null)}}class ye{constructor(){this.map=new Map}set(pe,we){return this.map.set(pe,we),this}get(pe){return this.map.has(pe)||this.map.set(pe,pe.defaultValue()),this.map.get(pe)}delete(pe){return this.map.delete(pe),this}has(pe){return this.map.has(pe)}keys(){return this.map.keys()}}function Xe(te){return typeof ArrayBuffer<"u"&&te instanceof ArrayBuffer}function ue(te){return typeof Blob<"u"&&te instanceof Blob}function Se(te){return typeof FormData<"u"&&te instanceof FormData}class Ee{constructor(pe,we,nt,rt){let xt;if(this.url=we,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=pe.toUpperCase(),function be(te){switch(te){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||rt?(this.body=void 0!==nt?nt:null,xt=rt):xt=nt,xt&&(this.reportProgress=!!xt.reportProgress,this.withCredentials=!!xt.withCredentials,xt.responseType&&(this.responseType=xt.responseType),xt.headers&&(this.headers=xt.headers),xt.context&&(this.context=xt.context),xt.params&&(this.params=xt.params),this.transferCache=xt.transferCache),this.headers??=new Ke,this.context??=new ye,this.params){const kt=this.params.toString();if(0===kt.length)this.urlWithParams=we;else{const mn=we.indexOf("?");this.urlWithParams=we+(-1===mn?"?":mn<we.length-1?"&":"")+kt}}else this.params=new Ve,this.urlWithParams=we}serializeBody(){return null===this.body?null:"string"==typeof this.body||Xe(this.body)||ue(this.body)||Se(this.body)||function pt(te){return typeof URLSearchParams<"u"&&te instanceof URLSearchParams}(this.body)?this.body:this.body instanceof Ve?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Se(this.body)?null:ue(this.body)?this.body.type||null:Xe(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ve?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(pe={}){const we=pe.method||this.method,nt=pe.url||this.url,rt=pe.responseType||this.responseType,xt=pe.transferCache??this.transferCache,kt=void 0!==pe.body?pe.body:this.body,mn=pe.withCredentials??this.withCredentials,Cn=pe.reportProgress??this.reportProgress;let Cr=pe.headers||this.headers,wr=pe.params||this.params;const br=pe.context??this.context;return void 0!==pe.setHeaders&&(Cr=Object.keys(pe.setHeaders).reduce((ai,Zi)=>ai.set(Zi,pe.setHeaders[Zi]),Cr)),pe.setParams&&(wr=Object.keys(pe.setParams).reduce((ai,Zi)=>ai.set(Zi,pe.setParams[Zi]),wr)),new Ee(we,nt,kt,{params:wr,headers:Cr,context:br,reportProgress:Cn,responseType:rt,withCredentials:mn,transferCache:xt})}}var Ht=function(te){return te[te.Sent=0]="Sent",te[te.UploadProgress=1]="UploadProgress",te[te.ResponseHeader=2]="ResponseHeader",te[te.DownloadProgress=3]="DownloadProgress",te[te.Response=4]="Response",te[te.User=5]="User",te}(Ht||{});class In{constructor(pe,we=Me.Ok,nt="OK"){this.headers=pe.headers||new Ke,this.status=void 0!==pe.status?pe.status:we,this.statusText=pe.statusText||nt,this.url=pe.url||null,this.ok=this.status>=200&&this.status<300}}class vt extends In{constructor(pe={}){super(pe),this.type=Ht.ResponseHeader}clone(pe={}){return new vt({headers:pe.headers||this.headers,status:void 0!==pe.status?pe.status:this.status,statusText:pe.statusText||this.statusText,url:pe.url||this.url||void 0})}}class nn extends In{constructor(pe={}){super(pe),this.type=Ht.Response,this.body=void 0!==pe.body?pe.body:null}clone(pe={}){return new nn({body:void 0!==pe.body?pe.body:this.body,headers:pe.headers||this.headers,status:void 0!==pe.status?pe.status:this.status,statusText:pe.statusText||this.statusText,url:pe.url||this.url||void 0})}}class Ct extends In{constructor(pe){super(pe,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${pe.url||"(unknown url)"}`:`Http failure response for ${pe.url||"(unknown url)"}: ${pe.status} ${pe.statusText}`,this.error=pe.error||null}}var Me=function(te){return te[te.Continue=100]="Continue",te[te.SwitchingProtocols=101]="SwitchingProtocols",te[te.Processing=102]="Processing",te[te.EarlyHints=103]="EarlyHints",te[te.Ok=200]="Ok",te[te.Created=201]="Created",te[te.Accepted=202]="Accepted",te[te.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",te[te.NoContent=204]="NoContent",te[te.ResetContent=205]="ResetContent",te[te.PartialContent=206]="PartialContent",te[te.MultiStatus=207]="MultiStatus",te[te.AlreadyReported=208]="AlreadyReported",te[te.ImUsed=226]="ImUsed",te[te.MultipleChoices=300]="MultipleChoices",te[te.MovedPermanently=301]="MovedPermanently",te[te.Found=302]="Found",te[te.SeeOther=303]="SeeOther",te[te.NotModified=304]="NotModified",te[te.UseProxy=305]="UseProxy",te[te.Unused=306]="Unused",te[te.TemporaryRedirect=307]="TemporaryRedirect",te[te.PermanentRedirect=308]="PermanentRedirect",te[te.BadRequest=400]="BadRequest",te[te.Unauthorized=401]="Unauthorized",te[te.PaymentRequired=402]="PaymentRequired",te[te.Forbidden=403]="Forbidden",te[te.NotFound=404]="NotFound",te[te.MethodNotAllowed=405]="MethodNotAllowed",te[te.NotAcceptable=406]="NotAcceptable",te[te.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",te[te.RequestTimeout=408]="RequestTimeout",te[te.Conflict=409]="Conflict",te[te.Gone=410]="Gone",te[te.LengthRequired=411]="LengthRequired",te[te.PreconditionFailed=412]="PreconditionFailed",te[te.PayloadTooLarge=413]="PayloadTooLarge",te[te.UriTooLong=414]="UriTooLong",te[te.UnsupportedMediaType=415]="UnsupportedMediaType",te[te.RangeNotSatisfiable=416]="RangeNotSatisfiable",te[te.ExpectationFailed=417]="ExpectationFailed",te[te.ImATeapot=418]="ImATeapot",te[te.MisdirectedRequest=421]="MisdirectedRequest",te[te.UnprocessableEntity=422]="UnprocessableEntity",te[te.Locked=423]="Locked",te[te.FailedDependency=424]="FailedDependency",te[te.TooEarly=425]="TooEarly",te[te.UpgradeRequired=426]="UpgradeRequired",te[te.PreconditionRequired=428]="PreconditionRequired",te[te.TooManyRequests=429]="TooManyRequests",te[te.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",te[te.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",te[te.InternalServerError=500]="InternalServerError",te[te.NotImplemented=501]="NotImplemented",te[te.BadGateway=502]="BadGateway",te[te.ServiceUnavailable=503]="ServiceUnavailable",te[te.GatewayTimeout=504]="GatewayTimeout",te[te.HttpVersionNotSupported=505]="HttpVersionNotSupported",te[te.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",te[te.InsufficientStorage=507]="InsufficientStorage",te[te.LoopDetected=508]="LoopDetected",te[te.NotExtended=510]="NotExtended",te[te.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",te}(Me||{});function He(te,pe){return{body:pe,headers:te.headers,context:te.context,observe:te.observe,params:te.params,reportProgress:te.reportProgress,responseType:te.responseType,withCredentials:te.withCredentials,transferCache:te.transferCache}}let lt=(()=>{class te{constructor(we){this.handler=we}request(we,nt,rt={}){let xt;if(we instanceof Ee)xt=we;else{let Cn,Cr;Cn=rt.headers instanceof Ke?rt.headers:new Ke(rt.headers),rt.params&&(Cr=rt.params instanceof Ve?rt.params:new Ve({fromObject:rt.params})),xt=new Ee(we,nt,void 0!==rt.body?rt.body:null,{headers:Cn,context:rt.context,params:Cr,reportProgress:rt.reportProgress,responseType:rt.responseType||"json",withCredentials:rt.withCredentials,transferCache:rt.transferCache})}const kt=(0,_.of)(xt).pipe((0,Q.H)(Cn=>this.handler.handle(Cn)));if(we instanceof Ee||"events"===rt.observe)return kt;const mn=kt.pipe((0,W.p)(Cn=>Cn instanceof nn));switch(rt.observe||"body"){case"body":switch(xt.responseType){case"arraybuffer":return mn.pipe((0,oe.T)(Cn=>{if(null!==Cn.body&&!(Cn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Cn.body}));case"blob":return mn.pipe((0,oe.T)(Cn=>{if(null!==Cn.body&&!(Cn.body instanceof Blob))throw new Error("Response is not a Blob.");return Cn.body}));case"text":return mn.pipe((0,oe.T)(Cn=>{if(null!==Cn.body&&"string"!=typeof Cn.body)throw new Error("Response is not a string.");return Cn.body}));default:return mn.pipe((0,oe.T)(Cn=>Cn.body))}case"response":return mn;default:throw new Error(`Unreachable: unhandled observe type ${rt.observe}}`)}}delete(we,nt={}){return this.request("DELETE",we,nt)}get(we,nt={}){return this.request("GET",we,nt)}head(we,nt={}){return this.request("HEAD",we,nt)}jsonp(we,nt){return this.request("JSONP",we,{params:(new Ve).append(nt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(we,nt={}){return this.request("OPTIONS",we,nt)}patch(we,nt,rt={}){return this.request("PATCH",we,He(rt,nt))}post(we,nt,rt={}){return this.request("POST",we,He(rt,nt))}put(we,nt,rt={}){return this.request("PUT",we,He(rt,nt))}static#e=this.\u0275fac=function(nt){return new(nt||te)(F.KVO(Re))};static#t=this.\u0275prov=F.jDH({token:te,factory:te.\u0275fac})}return te})();function fn(te,pe){return pe(te)}function Dn(te,pe){return(we,nt)=>pe.intercept(we,{handle:rt=>te(rt,nt)})}const Wn=new F.nKC(""),Qn=new F.nKC(""),Bn=new F.nKC(""),Yt=new F.nKC("");function ir(){let te=null;return(pe,we)=>{null===te&&(te=((0,F.WQX)(Wn,{optional:!0})??[]).reduceRight(Dn,fn));const nt=(0,F.WQX)(F.TgB),rt=nt.add();return te(pe,we).pipe((0,de.j)(()=>nt.remove(rt)))}}let jn=(()=>{class te extends Re{constructor(we,nt){super(),this.backend=we,this.injector=nt,this.chain=null,this.pendingTasks=(0,F.WQX)(F.TgB);const rt=(0,F.WQX)(Yt,{optional:!0});this.backend=rt??we}handle(we){if(null===this.chain){const rt=Array.from(new Set([...this.injector.get(Qn),...this.injector.get(Bn,[])]));this.chain=rt.reduceRight((xt,kt)=>function xn(te,pe,we){return(nt,rt)=>(0,F.N4e)(we,()=>pe(nt,xt=>te(xt,rt)))}(xt,kt,this.injector),fn)}const nt=this.pendingTasks.add();return this.chain(we,rt=>this.backend.handle(rt)).pipe((0,de.j)(()=>this.pendingTasks.remove(nt)))}static#e=this.\u0275fac=function(nt){return new(nt||te)(F.KVO(We),F.KVO(F.uvJ))};static#t=this.\u0275prov=F.jDH({token:te,factory:te.\u0275fac})}return te})();const bt=/^\)\]\}',?\n/;let zn=(()=>{class te{constructor(we){this.xhrFactory=we}handle(we){if("JSONP"===we.method)throw new F.wOt(-2800,!1);const nt=this.xhrFactory;return(nt.\u0275loadImpl?(0,V.H)(nt.\u0275loadImpl()):(0,_.of)(null)).pipe((0,ne.n)(()=>new _e.c(xt=>{const kt=nt.build();if(kt.open(we.method,we.urlWithParams),we.withCredentials&&(kt.withCredentials=!0),we.headers.forEach((Zn,nr)=>kt.setRequestHeader(Zn,nr.join(","))),we.headers.has("Accept")||kt.setRequestHeader("Accept","application/json, text/plain, */*"),!we.headers.has("Content-Type")){const Zn=we.detectContentTypeHeader();null!==Zn&&kt.setRequestHeader("Content-Type",Zn)}if(we.responseType){const Zn=we.responseType.toLowerCase();kt.responseType="json"!==Zn?Zn:"text"}const mn=we.serializeBody();let Cn=null;const Cr=()=>{if(null!==Cn)return Cn;const Zn=kt.statusText||"OK",nr=new Ke(kt.getAllResponseHeaders()),Hn=function It(te){return"responseURL"in te&&te.responseURL?te.responseURL:/^X-Request-URL:/m.test(te.getAllResponseHeaders())?te.getResponseHeader("X-Request-URL"):null}(kt)||we.url;return Cn=new vt({headers:nr,status:kt.status,statusText:Zn,url:Hn}),Cn},wr=()=>{let{headers:Zn,status:nr,statusText:Hn,url:qr}=Cr(),Br=null;nr!==Me.NoContent&&(Br=typeof kt.response>"u"?kt.responseText:kt.response),0===nr&&(nr=Br?Me.Ok:0);let Qr=nr>=200&&nr<300;if("json"===we.responseType&&"string"==typeof Br){const _r=Br;Br=Br.replace(bt,"");try{Br=""!==Br?JSON.parse(Br):null}catch(ci){Br=_r,Qr&&(Qr=!1,Br={error:ci,text:Br})}}Qr?(xt.next(new nn({body:Br,headers:Zn,status:nr,statusText:Hn,url:qr||void 0})),xt.complete()):xt.error(new Ct({error:Br,headers:Zn,status:nr,statusText:Hn,url:qr||void 0}))},br=Zn=>{const{url:nr}=Cr(),Hn=new Ct({error:Zn,status:kt.status||0,statusText:kt.statusText||"Unknown Error",url:nr||void 0});xt.error(Hn)};let ai=!1;const Zi=Zn=>{ai||(xt.next(Cr()),ai=!0);let nr={type:Ht.DownloadProgress,loaded:Zn.loaded};Zn.lengthComputable&&(nr.total=Zn.total),"text"===we.responseType&&kt.responseText&&(nr.partialText=kt.responseText),xt.next(nr)},li=Zn=>{let nr={type:Ht.UploadProgress,loaded:Zn.loaded};Zn.lengthComputable&&(nr.total=Zn.total),xt.next(nr)};return kt.addEventListener("load",wr),kt.addEventListener("error",br),kt.addEventListener("timeout",br),kt.addEventListener("abort",br),we.reportProgress&&(kt.addEventListener("progress",Zi),null!==mn&&kt.upload&&kt.upload.addEventListener("progress",li)),kt.send(mn),xt.next({type:Ht.Sent}),()=>{kt.removeEventListener("error",br),kt.removeEventListener("abort",br),kt.removeEventListener("load",wr),kt.removeEventListener("timeout",br),we.reportProgress&&(kt.removeEventListener("progress",Zi),null!==mn&&kt.upload&&kt.upload.removeEventListener("progress",li)),kt.readyState!==kt.DONE&&kt.abort()}})))}static#e=this.\u0275fac=function(nt){return new(nt||te)(F.KVO(le.N0))};static#t=this.\u0275prov=F.jDH({token:te,factory:te.\u0275fac})}return te})();const rn=new F.nKC(""),Sn=new F.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Rr=new F.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Wr{}let fi=(()=>{class te{constructor(we,nt,rt){this.doc=we,this.platform=nt,this.cookieName=rt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const we=this.doc.cookie||"";return we!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,le._b)(we,this.cookieName),this.lastCookieString=we),this.lastToken}static#e=this.\u0275fac=function(nt){return new(nt||te)(F.KVO(le.qQ),F.KVO(F.Agw),F.KVO(Sn))};static#t=this.\u0275prov=F.jDH({token:te,factory:te.\u0275fac})}return te})();function ti(te,pe){const we=te.url.toLowerCase();if(!(0,F.WQX)(rn)||"GET"===te.method||"HEAD"===te.method||we.startsWith("http://")||we.startsWith("https://"))return pe(te);const nt=(0,F.WQX)(Wr).getToken(),rt=(0,F.WQX)(Rr);return null!=nt&&!te.headers.has(rt)&&(te=te.clone({headers:te.headers.set(rt,nt)})),pe(te)}var qe=function(te){return te[te.Interceptors=0]="Interceptors",te[te.LegacyInterceptors=1]="LegacyInterceptors",te[te.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",te[te.NoXsrfProtection=3]="NoXsrfProtection",te[te.JsonpSupport=4]="JsonpSupport",te[te.RequestsMadeViaParent=5]="RequestsMadeViaParent",te[te.Fetch=6]="Fetch",te}(qe||{});function Oe(...te){const pe=[lt,zn,jn,{provide:Re,useExisting:jn},{provide:We,useExisting:zn},{provide:Qn,useValue:ti,multi:!0},{provide:rn,useValue:!0},{provide:Wr,useClass:fi}];for(const we of te)pe.push(...we.\u0275providers);return(0,F.EmA)(pe)}const he=new F.nKC("");function Y(){return function me(te,pe){return{\u0275kind:te,\u0275providers:pe}}(qe.LegacyInterceptors,[{provide:he,useFactory:ir},{provide:Qn,useExisting:he,multi:!0}])}let Gn=(()=>{class te{static#e=this.\u0275fac=function(nt){return new(nt||te)};static#t=this.\u0275mod=F.$C({type:te});static#n=this.\u0275inj=F.G2t({providers:[Oe(Y())]})}return te})()},4438:(zt,ze,L)=>{L.d(ze,{bc$:()=>Uc,iLQ:()=>$0,sZ2:()=>Ig,hnV:()=>Eb,Hbi:()=>tP,o8S:()=>cd,BIS:()=>Bc,gRc:()=>Nb,Ql9:()=>D1,Ocv:()=>k1,Z63:()=>Qi,aKT:()=>Ld,uvJ:()=>ki,zcH:()=>Aa,bkB:()=>tl,$GK:()=>lr,nKC:()=>rt,zZn:()=>$r,_q3:()=>Y0,MKu:()=>Z0,xe9:()=>dI,Co$:()=>$v,Vns:()=>pu,SKi:()=>ls,Xx1:()=>qi,Agw:()=>Ru,PLl:()=>Eg,sFG:()=>au,_9s:()=>fv,czy:()=>Hf,WPN:()=>ja,kdw:()=>wi,C4Q:()=>Ku,NYb:()=>I1,giA:()=>vb,xvI:()=>KR,RxE:()=>db,c1b:()=>Zm,gXe:()=>Ni,mal:()=>Zu,L39:()=>PP,Ol2:()=>y_,w6W:()=>zE,oH4:()=>Pb,Rfq:()=>ti,WQX:()=>$n,naY:()=>B1,QuC:()=>pi,EmA:()=>Ws,fpN:()=>eP,HJs:()=>VP,N4e:()=>Ks,O8t:()=>xP,An2:()=>Hm,H3F:()=>hb,H8p:()=>ya,KH2:()=>Gp,TgB:()=>f,wOt:()=>Ot,WHO:()=>_b,e01:()=>yb,lNU:()=>ir,h9k:()=>$g,$MX:()=>bf,ZF7:()=>Nu,Kcf:()=>Qc,e5t:()=>NI,UyX:()=>Iy,cWb:()=>Xd,osQ:()=>Ey,H5H:()=>E0,Zy3:()=>Nn,mq5:()=>bT,JZv:()=>It,LfX:()=>$e,plB:()=>du,jNT:()=>j0,zjR:()=>Ib,TL$:()=>oy,Tbb:()=>ar,rcV:()=>_l,Vt3:()=>Kl,Mj6:()=>$s,GFd:()=>m_,OA$:()=>Je,Jv_:()=>UC,aNF:()=>BC,R7$:()=>hm,BMQ:()=>o0,HbH:()=>uT,AVh:()=>f0,wni:()=>pC,VBU:()=>Pa,FsC:()=>al,jDH:()=>sr,G2t:()=>Yi,$C:()=>Go,EJ8:()=>fa,rXU:()=>Bu,nrm:()=>v0,eu8:()=>I0,bVm:()=>eI,qex:()=>Jv,k0s:()=>Zv,j41:()=>Yv,RV6:()=>wT,xGo:()=>pr,KVO:()=>Ei,kS0:()=>xd,QTQ:()=>Hy,bIt:()=>C0,lsd:()=>_C,qSk:()=>rc,XpG:()=>nC,SdG:()=>iC,NAR:()=>rC,Y8G:()=>u0,eq3:()=>HC,l_i:()=>$C,sMw:()=>GC,mGM:()=>mC,sdS:()=>yC,Njj:()=>Vi,EBC:()=>xy,eBV:()=>wa,B4B:()=>Mf,n$t:()=>xf,xc7:()=>h0,DNE:()=>kr,EFF:()=>SC,JRh:()=>D0,SpI:()=>sI,Lme:()=>S0,DH7:()=>FC,mxI:()=>P0,R50:()=>R0,GBs:()=>gC}),L(467);let _=null,V=1;const Q=Symbol("SIGNAL");function W(t){const r=_;return _=t,r}function Ke(t){if((!ye(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==V)){if(!t.producerMustRecompute(t)&&!Bt(t))return t.dirty=!1,void(t.lastCleanEpoch=V);t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=V}}function Bt(t){be(t);for(let r=0;r<t.producerNode.length;r++){const i=t.producerNode[r],a=t.producerLastReadVersion[r];if(a!==i.version||(Ke(i),a!==i.version))return!0}return!1}function De(t,r){if(function Xe(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),be(t),1===t.liveConsumerNode.length)for(let a=0;a<t.producerNode.length;a++)De(t.producerNode[a],t.producerIndexOfThis[a]);const i=t.liveConsumerNode.length-1;if(t.liveConsumerNode[r]=t.liveConsumerNode[i],t.liveConsumerIndexOfThis[r]=t.liveConsumerIndexOfThis[i],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,r<t.liveConsumerNode.length){const a=t.liveConsumerIndexOfThis[r],c=t.liveConsumerNode[r];be(c),c.producerIndexOfThis[a]=r}}function ye(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function be(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let vt=null;var xn=L(1413),Wn=L(8359),Qn=L(4412),Bn=L(6354);const ir="https://g.co/ng/security#xss";class Ot extends Error{constructor(r,i){super(Nn(r,i)),this.code=r}}function Nn(t,r){return`NG0${Math.abs(t)}${r?": "+r:""}`}function an(t){return{toString:t}.toString()}const xr="__parameters__";function je(t,r,i){return an(()=>{const a=function ge(t){return function(...i){if(t){const a=t(...i);for(const c in a)this[c]=a[c]}}}(r);function c(...d){if(this instanceof c)return a.apply(this,d),this;const m=new c(...d);return I.annotation=m,I;function I(A,k,q){const ce=A.hasOwnProperty(xr)?A[xr]:Object.defineProperty(A,xr,{value:[]})[xr];for(;ce.length<=q;)ce.push(null);return(ce[q]=ce[q]||[]).push(m),A}}return i&&(c.prototype=Object.create(i.prototype)),c.prototype.ngMetadataName=t,c.annotationCls=c,c})}const It=globalThis;function kn(t){for(let r in t)if(t[r]===kn)return r;throw Error("Could not find renamed property on target object.")}function Sn(t,r){for(const i in r)r.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=r[i])}function ar(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(ar).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const r=t.toString();if(null==r)return""+r;const i=r.indexOf("\n");return-1===i?r:r.substring(0,i)}function Rr(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}const fi=kn({__forward_ref__:kn});function ti(t){return t.__forward_ref__=ti,t.toString=function(){return ar(this())},t}function Fe(t){return qe(t)?t():t}function qe(t){return"function"==typeof t&&t.hasOwnProperty(fi)&&t.__forward_ref__===ti}function sr(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Yi(t){return{providers:t.providers||[],imports:t.imports||[]}}function st(t){return _t(t,te)||_t(t,we)}function $e(t){return null!==st(t)}function _t(t,r){return t.hasOwnProperty(r)?t[r]:null}function On(t){return t&&(t.hasOwnProperty(pe)||t.hasOwnProperty(nt))?t[pe]:null}const te=kn({\u0275prov:kn}),pe=kn({\u0275inj:kn}),we=kn({ngInjectableDef:kn}),nt=kn({ngInjectorDef:kn});class rt{constructor(r,i){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=sr({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Zn(t){return t&&!!t.\u0275providers}const nr=kn({\u0275cmp:kn}),Hn=kn({\u0275dir:kn}),qr=kn({\u0275pipe:kn}),Br=kn({\u0275mod:kn}),Qr=kn({\u0275fac:kn}),_r=kn({__NG_ELEMENT_ID__:kn}),ci=kn({__NG_ENV_ID__:kn});function Tn(t){return"string"==typeof t?t:null==t?"":String(t)}function Bs(t,r){throw new Ot(-201,!1)}var lr=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(lr||{});let Ji;function zi(){return Ji}function Yr(t){const r=Ji;return Ji=t,r}function ms(t,r,i){const a=st(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:i&lr.Optional?null:void 0!==r?r:void Bs()}const Ki={},es="__NG_DI_FLAG__",_s="ngTempTokenPath",Io=/\n/gm,js="__source";let Zr;function Ai(t){const r=Zr;return Zr=t,r}function Eo(t,r=lr.Default){if(void 0===Zr)throw new Ot(-203,!1);return null===Zr?ms(t,void 0,r):Zr.get(t,r&lr.Optional?null:void 0,r)}function Ei(t,r=lr.Default){return(zi()||Eo)(Fe(t),r)}function $n(t,r=lr.Default){return Ei(t,vs(r))}function vs(t){return typeof t>"u"||"number"==typeof t?t:(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function eo(t){const r=[];for(let i=0;i<t.length;i++){const a=Fe(t[i]);if(Array.isArray(a)){if(0===a.length)throw new Ot(900,!1);let c,d=lr.Default;for(let m=0;m<a.length;m++){const I=a[m],A=Ps(I);"number"==typeof A?-1===A?c=I.token:d|=A:c=I}r.push(Ei(c,d))}else r.push(Ei(a))}return r}function Hi(t,r){return t[es]=r,t.prototype[es]=r,t}function Ps(t){return t[es]}const qi=Hi(je("Optional"),8),wi=Hi(je("SkipSelf"),4);function ns(t,r){return t.hasOwnProperty(Qr)?t[Qr]:null}function hr(t,r){t.forEach(i=>Array.isArray(i)?hr(i,r):r(i))}function ro(t,r,i){r>=t.length?t.push(i):t.splice(r,0,i)}function Is(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function ui(t,r,i){let a=Di(t,r);return a>=0?t[1|a]=i:(a=~a,function Hs(t,r,i,a){let c=t.length;if(c==r)t.push(i,a);else if(1===c)t.push(a,t[0]),t[0]=i;else{for(c--,t.push(t[c-1],t[c]);c>r;)t[c]=t[c-2],c--;t[r]=i,t[r+1]=a}}(t,a,r,i)),a}function Zo(t,r){const i=Di(t,r);if(i>=0)return t[1|i]}function Di(t,r){return function so(t,r,i){let a=0,c=t.length>>i;for(;c!==a;){const d=a+(c-a>>1),m=t[d<<i];if(r===m)return d<<i;m>r?c=d:a=d+1}return~(c<<i)}(t,r,1)}const Oi={},yr=[],Qi=new rt(""),Sa=new rt("",-1),oo=new rt("");class di{get(r,i=Ki){if(i===Ki){const a=new Error(`NullInjectorError: No provider for ${ar(r)}!`);throw a.name="NullInjectorError",a}return i}}var bo=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(bo||{}),Ni=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Ni||{}),$s=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}($s||{});function ua(t,r,i){let a=t.length;for(;;){const c=t.indexOf(r,i);if(-1===c)return c;if(0===c||t.charCodeAt(c-1)<=32){const d=r.length;if(c+d===a||t.charCodeAt(c+d)<=32)return c}i=c+1}}function ao(t,r,i){let a=0;for(;a<i.length;){const c=i[a];if("number"==typeof c){if(0!==c)break;a++;const d=i[a++],m=i[a++],I=i[a++];t.setAttribute(r,m,I,d)}else{const d=c,m=i[++a];Ao(d)?t.setProperty(r,d,m):t.setAttribute(r,d,m),a++}}return a}function Si(t){return 3===t||4===t||6===t}function Ao(t){return 64===t.charCodeAt(0)}function Ra(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else{let i=-1;for(let a=0;a<r.length;a++){const c=r[a];"number"==typeof c?i=c:0===i||da(t,i,c,null,-1===i||2===i?r[++a]:null)}}return t}function da(t,r,i,a,c){let d=0,m=t.length;if(-1===r)m=-1;else for(;d<t.length;){const I=t[d++];if("number"==typeof I){if(I===r){m=-1;break}if(I>r){m=d-1;break}}}for(;d<t.length;){const I=t[d];if("number"==typeof I)break;if(I===i){if(null===a)return void(null!==c&&(t[d+1]=c));if(a===t[d+1])return void(t[d+2]=c)}d++,null!==a&&d++,null!==c&&d++}-1!==m&&(t.splice(m,0,r),d=m+1),t.splice(d++,0,i),null!==a&&t.splice(d++,0,a),null!==c&&t.splice(d++,0,c)}const ws="ng-template";function Do(t,r,i,a){let c=0;if(a){for(;c<r.length&&"string"==typeof r[c];c+=2)if("class"===r[c]&&-1!==ua(r[c+1].toLowerCase(),i,0))return!0}else if($o(t))return!1;if(c=r.indexOf(1,c),c>-1){let d;for(;++c<r.length&&"string"==typeof(d=r[c]);)if(d.toLowerCase()===i)return!0}return!1}function $o(t){return 4===t.type&&t.value!==ws}function G(t,r,i){return r===(4!==t.type||i?t.value:ws)}function z(t,r,i){let a=4;const c=t.attrs,d=null!==c?function Yn(t){for(let r=0;r<t.length;r++)if(Si(t[r]))return r;return t.length}(c):0;let m=!1;for(let I=0;I<r.length;I++){const A=r[I];if("number"!=typeof A){if(!m)if(4&a){if(a=2|1&a,""!==A&&!G(t,A,i)||""===A&&1===r.length){if(x(a))return!1;m=!0}}else if(8&a){if(null===c||!Do(t,c,A,i)){if(x(a))return!1;m=!0}}else{const k=r[++I],q=se(A,c,$o(t),i);if(-1===q){if(x(a))return!1;m=!0;continue}if(""!==k){let ce;if(ce=q>d?"":c[q+1].toLowerCase(),2&a&&k!==ce){if(x(a))return!1;m=!0}}}}else{if(!m&&!x(a)&&!x(A))return!1;if(m&&x(A))continue;m=!1,a=A|1&a}}return x(a)||m}function x(t){return!(1&t)}function se(t,r,i,a){if(null===r)return-1;let c=0;if(a||!i){let d=!1;for(;c<r.length;){const m=r[c];if(m===t)return c;if(3===m||6===m)d=!0;else{if(1===m||2===m){let I=r[++c];for(;"string"==typeof I;)I=r[++c];continue}if(4===m)break;if(0===m){c+=4;continue}}c+=d?1:2}return-1}return function En(t,r){let i=t.indexOf(4);if(i>-1)for(i++;i<t.length;){const a=t[i];if("number"==typeof a)return-1;if(a===r)return i;i++}return-1}(r,t)}function Pe(t,r,i=!1){for(let a=0;a<r.length;a++)if(z(t,r[a],i))return!0;return!1}function Gs(t,r){e:for(let i=0;i<r.length;i++){const a=r[i];if(t.length===a.length){for(let c=0;c<t.length;c++)if(t[c]!==a[c])continue e;return!0}}return!1}function Ms(t,r){return t?":not("+r.trim()+")":r}function xs(t){let r=t[0],i=1,a=2,c="",d=!1;for(;i<t.length;){let m=t[i];if("string"==typeof m)if(2&a){const I=t[++i];c+="["+m+(I.length>0?'="'+I+'"':"")+"]"}else 8&a?c+="."+m:4&a&&(c+=" "+m);else""!==c&&!x(m)&&(r+=Ms(d,c),c=""),a=m,d=d||!x(a);i++}return""!==c&&(r+=Ms(d,c)),r}function Pa(t){return an(()=>{const r=Cs(t),i={...r,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===bo.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Ni.Emulated,styles:t.styles||yr,_:null,schemas:t.schemas||null,tView:null,id:""};Ma(i);const a=t.dependencies;return i.directiveDefs=Ns(a,!1),i.pipeDefs=Ns(a,!0),i.id=function Ro(t){let r=0;const i=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const c of i)r=Math.imul(31,r)+c.charCodeAt(0)|0;return r+=2147483648,"c"+r}(i),i})}function Ts(t){return Jn(t)||ni(t)}function So(t){return null!==t}function Go(t){return an(()=>({type:t.type,bootstrap:t.bootstrap||yr,declarations:t.declarations||yr,imports:t.imports||yr,exports:t.exports||yr,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function is(t,r){if(null==t)return Oi;const i={};for(const a in t)if(t.hasOwnProperty(a)){const c=t[a];let d,m,I=$s.None;Array.isArray(c)?(I=c[0],d=c[1],m=c[2]??d):(d=c,m=c),r?(i[d]=I!==$s.None?[a,I]:a,r[d]=m):i[d]=a}return i}function al(t){return an(()=>{const r=Cs(t);return Ma(r),r})}function fa(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Jn(t){return t[nr]||null}function ni(t){return t[Hn]||null}function ei(t){return t[qr]||null}function pi(t){const r=Jn(t)||ni(t)||ei(t);return null!==r&&r.standalone}function gi(t,r){const i=t[Br]||null;if(!i&&!0===r)throw new Error(`Type ${ar(t)} does not have '\u0275mod' property.`);return i}function Cs(t){const r={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputTransforms:null,inputConfig:t.inputs||Oi,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||yr,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:is(t.inputs,r),outputs:is(t.outputs),debugInfo:null}}function Ma(t){t.features?.forEach(r=>r(t))}function Ns(t,r){if(!t)return null;const i=r?ei:Ts;return()=>("function"==typeof t?t():t).map(a=>i(a)).filter(So)}function Ws(t){return{\u0275providers:t}}function pa(...t){return{\u0275providers:lo(0,t),\u0275fromNgModule:!0}}function lo(t,...r){const i=[],a=new Set;let c;const d=m=>{i.push(m)};return hr(r,m=>{const I=m;Wo(I,d,[],a)&&(c||=[],c.push(I))}),void 0!==c&&Jo(c,d),i}function Jo(t,r){for(let i=0;i<t.length;i++){const{ngModule:a,providers:c}=t[i];ga(c,d=>{r(d,a)})}}function Wo(t,r,i,a){if(!(t=Fe(t)))return!1;let c=null,d=On(t);const m=!d&&Jn(t);if(d||m){if(m&&!m.standalone)return!1;c=t}else{const A=t.ngModule;if(d=On(A),!d)return!1;c=A}const I=a.has(c);if(m){if(I)return!1;if(a.add(c),m.dependencies){const A="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const k of A)Wo(k,r,i,a)}}else{if(!d)return!1;{if(null!=d.imports&&!I){let k;a.add(c);try{hr(d.imports,q=>{Wo(q,r,i,a)&&(k||=[],k.push(q))})}finally{}void 0!==k&&Jo(k,r)}if(!I){const k=ns(c)||(()=>new c);r({provide:c,useFactory:k,deps:yr},c),r({provide:oo,useValue:c,multi:!0},c),r({provide:Qi,useValue:()=>Ei(c),multi:!0},c)}const A=d.providers;if(null!=A&&!I){const k=t;ga(A,q=>{r(q,k)})}}}return c!==t&&void 0!==t.providers}function ga(t,r){for(let i of t)Zn(i)&&(i=i.\u0275providers),Array.isArray(i)?ga(i,r):r(i)}const zo=kn({provide:String,useValue:kn});function ma(t){return null!==t&&"object"==typeof t&&zo in t}function co(t){return"function"==typeof t}const ya=new rt(""),uo={},Gi={};let xa;function Ko(){return void 0===xa&&(xa=new di),xa}class ki{}class ta extends ki{get destroyed(){return this._destroyed}constructor(r,i,a,c){super(),this.parent=i,this.source=a,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,fo(r,m=>this.processProvider(m)),this.records.set(Sa,ho(void 0,this)),c.has("environment")&&this.records.set(ki,ho(void 0,this));const d=this.records.get(ya);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(oo,yr,lr.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const r=W(null);try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();const i=this._onDestroyHooks;this._onDestroyHooks=[];for(const a of i)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),W(r)}}onDestroy(r){return this.assertNotDestroyed(),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r)}runInContext(r){this.assertNotDestroyed();const i=Ai(this),a=Yr(void 0);try{return r()}finally{Ai(i),Yr(a)}}get(r,i=Ki,a=lr.Default){if(this.assertNotDestroyed(),r.hasOwnProperty(ci))return r[ci](this);a=vs(a);const d=Ai(this),m=Yr(void 0);try{if(!(a&lr.SkipSelf)){let A=this.records.get(r);if(void 0===A){const k=function cl(t){return"function"==typeof t||"object"==typeof t&&t instanceof rt}(r)&&st(r);A=k&&this.injectableDefInScope(k)?ho(bs(r),uo):null,this.records.set(r,A)}if(null!=A)return this.hydrate(r,A)}return(a&lr.Self?Ko():this.parent).get(r,i=a&lr.Optional&&i===Ki?null:i)}catch(I){if("NullInjectorError"===I.name){if((I[_s]=I[_s]||[]).unshift(ar(r)),d)throw I;return function wo(t,r,i,a){const c=t[_s];throw r[js]&&c.unshift(r[js]),t.message=function to(t,r,i,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let c=ar(r);if(Array.isArray(r))c=r.map(ar).join(" -> ");else if("object"==typeof r){let d=[];for(let m in r)if(r.hasOwnProperty(m)){let I=r[m];d.push(m+":"+("string"==typeof I?JSON.stringify(I):ar(I)))}c=`{${d.join(", ")}}`}return`${i}${a?"("+a+")":""}[${c}]: ${t.replace(Io,"\n  ")}`}("\n"+t.message,c,i,a),t.ngTokenPath=c,t[_s]=null,t}(I,r,"R3InjectorError",this.source)}throw I}finally{Yr(m),Ai(d)}}resolveInjectorInitializers(){const r=W(null),i=Ai(this),a=Yr(void 0);try{const d=this.get(Qi,yr,lr.Self);for(const m of d)m()}finally{Ai(i),Yr(a),W(r)}}toString(){const r=[],i=this.records;for(const a of i.keys())r.push(ar(a));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ot(205,!1)}processProvider(r){let i=co(r=Fe(r))?r:Fe(r&&r.provide);const a=function jr(t){return ma(t)?ho(void 0,t.useValue):ho(Ka(t),uo)}(r);if(!co(r)&&!0===r.multi){let c=this.records.get(i);c||(c=ho(void 0,uo,!0),c.factory=()=>eo(c.multi),this.records.set(i,c)),i=r,c.multi.push(r)}this.records.set(i,a)}hydrate(r,i){const a=W(null);try{return i.value===uo&&(i.value=Gi,i.value=i.factory()),"object"==typeof i.value&&i.value&&function ll(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}finally{W(a)}}injectableDefInScope(r){if(!r.providedIn)return!1;const i=Fe(r.providedIn);return"string"==typeof i?"any"===i||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(r){const i=this._onDestroyHooks.indexOf(r);-1!==i&&this._onDestroyHooks.splice(i,1)}}function bs(t){const r=st(t),i=null!==r?r.factory:ns(t);if(null!==i)return i;if(t instanceof rt)throw new Ot(204,!1);if(t instanceof Function)return function Oa(t){if(t.length>0)throw new Ot(204,!1);const i=function Xt(t){return t&&(t[te]||t[we])||null}(t);return null!==i?()=>i.factory(t):()=>new t}(t);throw new Ot(204,!1)}function Ka(t,r,i){let a;if(co(t)){const c=Fe(t);return ns(c)||bs(c)}if(ma(t))a=()=>Fe(t.useValue);else if(function _a(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...eo(t.deps||[]));else if(function zs(t){return!(!t||!t.useExisting)}(t))a=()=>Ei(Fe(t.useExisting));else{const c=Fe(t&&(t.useClass||t.provide));if(!function hs(t){return!!t.deps}(t))return ns(c)||bs(c);a=()=>new c(...eo(t.deps))}return a}function ho(t,r,i=!1){return{factory:t,value:r,multi:i?[]:void 0}}function fo(t,r){for(const i of t)Array.isArray(i)?fo(i,r):i&&Zn(i)?fo(i.\u0275providers,r):r(i)}function Ks(t,r){t instanceof ta&&t.assertNotDestroyed();const a=Ai(t),c=Yr(void 0);try{return r()}finally{Ai(a),Yr(c)}}function Cl(){return void 0!==zi()||null!=function Ci(){return Zr}()}const Ae=0,Ce=1,Ue=2,St=3,Ft=4,sn=5,wn=6,_n=7,Qt=8,fr=9,mt=10,Kt=11,Ar=12,Ti=13,en=14,Vt=15,Li=16,Nt=17,it=18,Tt=19,Fi=20,Xi=21,As=22,Po=23,rr=25,bn=1,Pn=7,hi=9,Or=10;var ss=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(ss||{});function yn(t){return Array.isArray(t)&&"object"==typeof t[bn]}function or(t){return Array.isArray(t)&&!0===t[bn]}function qa(t){return!!(4&t.flags)}function Hr(t){return t.componentOffset>-1}function cn(t){return!(1&~t.flags)}function _i(t){return!!t.template}function Kn(t){return!!(512&t[Ue])}class Te{constructor(r,i,a){this.previousValue=r,this.currentValue=i,this.firstChange=a}isFirstChange(){return this.firstChange}}function ot(t,r,i,a){null!==r?r.applyValueToInputSignal(r,a):t[i]=a}function Je(){return ln}function ln(t){return t.type.prototype.ngOnChanges&&(t.setInput=vr),dr}function dr(){const t=xo(this),r=t?.current;if(r){const i=t.previous;if(i===Oi)t.previous=r;else for(let a in r)i[a]=r[a];t.current=null,this.ngOnChanges(r)}}function vr(t,r,i,a,c){const d=this.declaredInputs[a],m=xo(t)||function Ia(t,r){return t[Vr]=r}(t,{previous:Oi,current:null}),I=m.current||(m.current={}),A=m.previous,k=A[d];I[d]=new Te(k&&k.currentValue,i,A===Oi),ot(t,r,c,i)}Je.ngInherit=!0;const Vr="__ngSimpleChanges__";function xo(t){return t[Vr]||null}const as=function(t,r,i){},pd="svg";let Yl=!1;function ri(t){for(;Array.isArray(t);)t=t[Ae];return t}function Ea(t,r){return ri(r[t])}function Ls(t,r){return ri(r[t.index])}function Tc(t,r){return t.data[r]}function po(t,r){const i=r[t];return yn(i)?i:i[Ae]}function md(t){return!(128&~t[Ue])}function ia(t,r){return null==r?null:t[r]}function Zh(t){t[Nt]=0}function _d(t){1024&t[Ue]||(t[Ue]|=1024,md(t)&&tc(t))}function ec(t){return!!(9216&t[Ue]||t[Po]?.dirty)}function Cc(t){t[mt].changeDetectionScheduler?.notify(1),ec(t)?tc(t):64&t[Ue]&&(function Zl(){return Yl}()?(t[Ue]|=1024,tc(t)):t[mt].changeDetectionScheduler?.notify())}function tc(t){t[mt].changeDetectionScheduler?.notify();let r=Xa(t);for(;null!==r&&!(8192&r[Ue])&&(r[Ue]|=8192,md(r));)r=Xa(r)}function Qa(t,r){if(!(256&~t[Ue]))throw new Ot(911,!1);null===t[Xi]&&(t[Xi]=[]),t[Xi].push(r)}function Xa(t){const r=t[St];return or(r)?r[St]:r}const An={lFrame:Cd(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function fs(){return An.bindingsEnabled}function Kr(){return null!==An.skipHydrationRootTNode}function ht(){return An.lFrame.lView}function Mr(){return An.lFrame.tView}function wa(t){return An.lFrame.contextLView=t,t[Qt]}function Vi(t){return An.lFrame.contextLView=null,t}function Tr(){let t=Al();for(;null!==t&&64===t.type;)t=t.parent;return t}function Al(){return An.lFrame.currentTNode}function go(t,r){const i=An.lFrame;i.currentTNode=t,i.isParent=r}function Dc(){return An.lFrame.isParent}function La(){An.lFrame.isParent=!1}function Ri(){const t=An.lFrame;let r=t.bindingRootIndex;return-1===r&&(r=t.bindingRootIndex=t.tView.bindingStartIndex),r}function sa(){return An.lFrame.bindingIndex++}function ko(t){const r=An.lFrame,i=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,i}function Sl(t,r){const i=An.lFrame;i.bindingIndex=i.bindingRootIndex=t,hl(r)}function hl(t){An.lFrame.currentDirectiveIndex=t}function Rl(){return An.lFrame.currentQueryIndex}function Pl(t){An.lFrame.currentQueryIndex=t}function Sc(t){const r=t[Ce];return 2===r.type?r.declTNode:1===r.type?t[sn]:null}function wd(t,r,i){if(i&lr.SkipSelf){let c=r,d=t;for(;!(c=c.parent,null!==c||i&lr.Host||(c=Sc(d),null===c||(d=d[en],10&c.type))););if(null===c)return!1;r=c,t=d}const a=An.lFrame=rf();return a.currentTNode=r,a.lView=t,!0}function Td(t){const r=rf(),i=t[Ce];An.lFrame=r,r.currentTNode=i.firstChild,r.lView=t,r.tView=i,r.contextLView=t,r.bindingIndex=i.bindingStartIndex,r.inI18n=!1}function rf(){const t=An.lFrame,r=null===t?null:t.child;return null===r?Cd(t):r}function Cd(t){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function bd(){const t=An.lFrame;return An.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Ds=bd;function nc(){const t=bd();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ui(){return An.lFrame.selectedIndex}function fl(t){An.lFrame.selectedIndex=t}function vi(){const t=An.lFrame;return Tc(t.tView,t.selectedIndex)}function rc(){An.lFrame.currentNamespace=pd}let Ml=!0;function xl(){return Ml}function Lo(t){Ml=t}function ic(t,r){for(let i=r.directiveStart,a=r.directiveEnd;i<a;i++){const d=t.data[i].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:I,ngAfterViewInit:A,ngAfterViewChecked:k,ngOnDestroy:q}=d;m&&(t.contentHooks??=[]).push(-i,m),I&&((t.contentHooks??=[]).push(i,I),(t.contentCheckHooks??=[]).push(i,I)),A&&(t.viewHooks??=[]).push(-i,A),k&&((t.viewHooks??=[]).push(i,k),(t.viewCheckHooks??=[]).push(i,k)),null!=q&&(t.destroyHooks??=[]).push(i,q)}}function Ol(t,r,i){Ad(t,r,3,i)}function Rc(t,r,i,a){(3&t[Ue])===i&&Ad(t,r,i,a)}function Pc(t,r){let i=t[Ue];(3&i)===r&&(i&=16383,i+=1,t[Ue]=i)}function Ad(t,r,i,a){const d=a??-1,m=r.length-1;let I=0;for(let A=void 0!==a?65535&t[Nt]:0;A<m;A++)if("number"==typeof r[A+1]){if(I=r[A],null!=a&&I>=a)break}else r[A]<0&&(t[Nt]+=65536),(I<d||-1==d)&&(Jp(t,i,r,A),t[Nt]=(4294901760&t[Nt])+A+2),A++}function vu(t,r){as(4,t,r);const i=W(null);try{r.call(t)}finally{W(i),as(5,t,r)}}function Jp(t,r,i,a){const c=i[a]<0,d=i[a+1],I=t[c?-i[a]:i[a]];c?t[Ue]>>14<t[Nt]>>16&&(3&t[Ue])===r&&(t[Ue]+=16384,vu(I,d)):vu(I,d)}const sc=-1;class Nl{constructor(r,i,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=a}}function lc(t){return t!==sc}function pl(t){return 32767&t}function cc(t,r){let i=function Rd(t){return t>>16}(t),a=r;for(;i>0;)a=a[en],i--;return a}let Va=!0;function Mc(t){const r=Va;return Va=t,r}const h=255,g=5;let C=0;const H={};function Le(t,r){const i=Dt(t,r);if(-1!==i)return i;const a=r[Ce];a.firstCreatePass&&(t.injectorIndex=r.length,ct(a.data,t),ct(r,null),ct(a.blueprint,null));const c=vn(t,r),d=t.injectorIndex;if(lc(c)){const m=pl(c),I=cc(c,r),A=I[Ce].data;for(let k=0;k<8;k++)r[d+k]=I[m+k]|A[m+k]}return r[d+8]=c,d}function ct(t,r){t.push(0,0,0,0,0,0,0,0,r)}function Dt(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function vn(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let i=0,a=null,c=r;for(;null!==c;){if(a=ng(c),null===a)return sc;if(i++,c=c[en],-1!==a.injectorIndex)return a.injectorIndex|i<<16}return sc}function Mn(t,r,i){!function ie(t,r,i){let a;"string"==typeof i?a=i.charCodeAt(0)||0:i.hasOwnProperty(_r)&&(a=i[_r]),null==a&&(a=i[_r]=C++);const c=a&h;r.data[t+(c>>g)]|=1<<c}(t,r,i)}function qs(t,r,i){if(i&lr.Optional||void 0!==t)return t;Bs()}function Ua(t,r,i,a){if(i&lr.Optional&&void 0===a&&(a=null),!(i&(lr.Self|lr.Host))){const c=t[fr],d=Yr(void 0);try{return c?c.get(r,a,i&lr.Optional):ms(r,a,i&lr.Optional)}finally{Yr(d)}}return qs(a,0,i)}function xc(t,r,i,a=lr.Default,c){if(null!==t){if(2048&r[Ue]&&!(a&lr.Self)){const m=function tg(t,r,i,a,c){let d=t,m=r;for(;null!==d&&null!==m&&2048&m[Ue]&&!(512&m[Ue]);){const I=Ca(d,m,i,a|lr.Self,H);if(I!==H)return I;let A=d.parent;if(!A){const k=m[Fi];if(k){const q=k.get(i,H,a);if(q!==H)return q}A=ng(m),m=m[en]}d=A}return c}(t,r,i,a,H);if(m!==H)return m}const d=Ca(t,r,i,a,H);if(d!==H)return d}return Ua(r,i,a,c)}function Ca(t,r,i,a,c){const d=function kl(t){if("string"==typeof t)return t.charCodeAt(0)||0;const r=t.hasOwnProperty(_r)?t[_r]:void 0;return"number"==typeof r?r>=0?r&h:Md:r}(i);if("function"==typeof d){if(!wd(r,t,a))return a&lr.Host?qs(c,0,a):Ua(r,i,a,c);try{let m;if(m=d(a),null!=m||a&lr.Optional)return m;Bs()}finally{Ds()}}else if("number"==typeof d){let m=null,I=Dt(t,r),A=sc,k=a&lr.Host?r[Vt][sn]:null;for((-1===I||a&lr.SkipSelf)&&(A=-1===I?vn(t,r):r[I+8],A!==sc&&oa(a,!1)?(m=r[Ce],I=pl(A),r=cc(A,r)):I=-1);-1!==I;){const q=r[Ce];if(Eu(d,I,q.data)){const ce=Pd(I,r,i,m,a,k);if(ce!==H)return ce}A=r[I+8],A!==sc&&oa(a,r[Ce].data[I+8]===k)&&Eu(d,I,r)?(m=q,I=pl(A),r=cc(A,r)):I=-1}}return c}function Pd(t,r,i,a,c,d){const m=r[Ce],I=m.data[t+8],q=Ss(I,m,i,null==a?Hr(I)&&Va:a!=m&&!!(3&I.type),c&lr.Host&&d===I);return null!==q?Ja(r,m,q,I):H}function Ss(t,r,i,a,c){const d=t.providerIndexes,m=r.data,I=1048575&d,A=t.directiveStart,q=d>>20,xe=c?I+q:t.directiveEnd;for(let Be=a?I:I+q;Be<xe;Be++){const tt=m[Be];if(Be<A&&i===tt||Be>=A&&tt.type===i)return Be}if(c){const Be=m[A];if(Be&&_i(Be)&&Be.type===i)return A}return null}function Ja(t,r,i,a){let c=t[i];const d=r.data;if(function Dd(t){return t instanceof Nl}(c)){const m=c;m.resolving&&function Xr(t,r){throw r&&r.join(" > "),new Ot(-200,t)}(function Xn(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Tn(t)}(d[i]));const I=Mc(m.canSeeViewProviders);m.resolving=!0;const k=m.injectImpl?Yr(m.injectImpl):null;wd(t,a,lr.Default);try{c=t[i]=m.factory(void 0,d,t,a),r.firstCreatePass&&i>=a.directiveStart&&function yu(t,r,i){const{ngOnChanges:a,ngOnInit:c,ngDoCheck:d}=r.type.prototype;if(a){const m=ln(r);(i.preOrderHooks??=[]).push(t,m),(i.preOrderCheckHooks??=[]).push(t,m)}c&&(i.preOrderHooks??=[]).push(0-t,c),d&&((i.preOrderHooks??=[]).push(t,d),(i.preOrderCheckHooks??=[]).push(t,d))}(i,d[i],r)}finally{null!==k&&Yr(k),Mc(I),m.resolving=!1,Ds()}}return c}function Eu(t,r,i){return!!(i[r+(t>>g)]&1<<t)}function oa(t,r){return!(t&lr.Self||t&lr.Host&&r)}class ps{constructor(r,i){this._tNode=r,this._lView=i}get(r,i,a){return xc(this._tNode,this._lView,r,vs(a),i)}}function Md(){return new ps(Tr(),ht())}function pr(t){return an(()=>{const r=t.prototype.constructor,i=r[Qr]||eg(r),a=Object.prototype;let c=Object.getPrototypeOf(t.prototype).constructor;for(;c&&c!==a;){const d=c[Qr]||eg(c);if(d&&d!==i)return d;c=Object.getPrototypeOf(c)}return d=>new d})}function eg(t){return qe(t)?()=>{const r=eg(Fe(t));return r&&r()}:ns(t)}function ng(t){const r=t[Ce],i=r.type;return 2===i?r.declTNode:1===i?t[sn]:null}function xd(t){return function Ir(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;const i=t.attrs;if(i){const a=i.length;let c=0;for(;c<a;){const d=i[c];if(Si(d))break;if(0===d)c+=2;else if("number"==typeof d)for(c++;c<a&&"string"==typeof i[c];)c++;else{if(d===r)return i[c+1];c+=2}}}return null}(Tr(),t)}function B_(t,r=null,i=null,a){const c=j_(t,r,i,a);return c.resolveInjectorInitializers(),c}function j_(t,r=null,i=null,a,c=new Set){const d=[i||yr,pa(t)];return a=a||("object"==typeof t?void 0:ar(t)),new ta(d,r||Ko(),a||null,c)}let $r=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=Ki;static#t=this.NULL=new di;static create(i,a){if(Array.isArray(i))return B_({name:""},a,i,"");{const c=i.name??"";return B_({name:c},i.parent,i.providers,c)}}static#n=this.\u0275prov=sr({token:t,providedIn:"any",factory:()=>Ei(Sa)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function og(t){return t.ngOriginalError}class Aa{constructor(){this._console=console}handleError(r){const i=this._findOriginalError(r);this._console.error("ERROR",r),i&&this._console.error("ORIGINAL ERROR",i)}_findOriginalError(r){let i=r&&og(r);for(;i&&og(i);)i=og(i);return i||null}}const H_=new rt("",{providedIn:"root",factory:()=>$n(Aa).handleError.bind(void 0)});let kc=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=Ll;static#t=this.__NG_ENV_ID__=i=>i}return t})();class Tu extends kc{constructor(r){super(),this._lView=r}onDestroy(r){return Qa(this._lView,r),()=>function yd(t,r){if(null===t[Xi])return;const i=t[Xi].indexOf(r);-1!==i&&t[Xi].splice(i,1)}(this._lView,r)}}function Ll(){return new Tu(ht())}function lg(){return dc(Tr(),ht())}function dc(t,r){return new Ld(Ls(t,r))}let Ld=(()=>{class t{constructor(i){this.nativeElement=i}static#e=this.__NG_ELEMENT_ID__=lg}return t})();function W_(t){return t instanceof Ld?t.nativeElement:t}function Gr(t){return r=>{setTimeout(t,void 0,r)}}const tl=class Rs extends xn.B{constructor(r=!1){super(),this.destroyRef=void 0,this.__isAsync=r,Cl()&&(this.destroyRef=$n(kc,{optional:!0})??void 0)}emit(r){const i=W(null);try{super.next(r)}finally{W(i)}}subscribe(r,i,a){let c=r,d=i||(()=>null),m=a;if(r&&"object"==typeof r){const A=r;c=A.next?.bind(A),d=A.error?.bind(A),m=A.complete?.bind(A)}this.__isAsync&&(d=Gr(d),c&&(c=Gr(c)),m&&(m=Gr(m)));const I=super.subscribe({next:c,error:d,complete:m});return r instanceof Wn.yU&&r.add(I),I}};function z_(){return this._results[Symbol.iterator]()}class Cu{static#e=Symbol.iterator;get changes(){return this._changes??=new tl}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const i=Cu.prototype;i[Symbol.iterator]||(i[Symbol.iterator]=z_)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,i){return this._results.reduce(r,i)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,i){this.dirty=!1;const a=function Jr(t){return t.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function no(t,r,i){if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++){let c=t[a],d=r[a];if(i&&(c=i(c),d=i(d)),d!==c)return!1}return!0}(this._results,a,i))&&(this._results=a,this.length=a.length,this.last=a[this.length-1],this.first=a[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(r){this._onDirty=r}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function Au(t){return!(128&~t.flags)}const Lc=new Map;let Fd=0;const hg="__ngContext__";function Fo(t,r){yn(r)?(t[hg]=r[Tt],function K_(t){Lc.set(t[Tt],t)}(r)):t[hg]=r}function mf(t){return mg(t[Ar])}function gg(t){return mg(t[Ft])}function mg(t){for(;null!==t&&!or(t);)t=t[Ft];return t}let vg;function oy(t){vg=t}const Ig=new rt("",{providedIn:"root",factory:()=>SI}),SI="ng",Eg=new rt(""),Ru=new rt("",{providedIn:"platform",factory:()=>"unknown"}),Uc=new rt(""),Bc=new rt("",{providedIn:"root",factory:()=>function Vo(){if(void 0!==vg)return vg;if(typeof document<"u")return document;throw new Ot(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let bg=()=>null;function $d(t,r,i=!1){return bg(t,r,i)}const Kd=new rt("",{providedIn:"root",factory:()=>!1});let rl,Qd;function zc(t){return function fc(){if(void 0===rl&&(rl=null,It.trustedTypes))try{rl=It.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return rl}()?.createHTML(t)||t}function xg(t){return function ml(){if(void 0===Qd&&(Qd=null,It.trustedTypes))try{Qd=It.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Qd}()?.createScriptURL(t)||t}class qc{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ir})`}}class _y extends qc{getTypeName(){return"HTML"}}class xI extends qc{getTypeName(){return"Style"}}class Cf extends qc{getTypeName(){return"Script"}}class yy extends qc{getTypeName(){return"URL"}}class OI extends qc{getTypeName(){return"ResourceURL"}}function _l(t){return t instanceof qc?t.changingThisBreaksApplicationSecurity:t}function Nu(t,r){const i=function vy(t){return t instanceof qc&&t.getTypeName()||null}(t);if(null!=i&&i!==r){if("ResourceURL"===i&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${i} (see ${ir})`)}return i===r}function Qc(t){return new _y(t)}function Xd(t){return new xI(t)}function Iy(t){return new Cf(t)}function Ey(t){return new yy(t)}function NI(t){return new OI(t)}class kI{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const i=(new window.DOMParser).parseFromString(zc(r),"text/html").body;return null===i?this.inertDocumentHelper.getInertBodyElement(r):(i.removeChild(i.firstChild),i)}catch{return null}}}class LI{constructor(r){this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(r){const i=this.inertDocument.createElement("template");return i.innerHTML=zc(r),i}}const Qs=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function bf(t){return(t=String(t)).match(Qs)?t:"unsafe:"+t}function Ul(t){const r={};for(const i of t.split(","))r[i]=!0;return r}function Yd(...t){const r={};for(const i of t)for(const a in i)i.hasOwnProperty(a)&&(r[a]=!0);return r}const wy=Ul("area,br,col,hr,img,wbr"),Af=Ul("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ty=Ul("rp,rt"),Df=Yd(wy,Yd(Af,Ul("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Yd(Ty,Ul("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Yd(Ty,Af)),Zd=Ul("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Jd=Yd(Zd,Ul("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ul("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Fg=Ul("script,style,template");class Vg{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let i=r.firstChild,a=!0,c=[];for(;i;)if(i.nodeType===Node.ELEMENT_NODE?a=this.startElement(i):i.nodeType===Node.TEXT_NODE?this.chars(i.nodeValue):this.sanitizedSomething=!0,a&&i.firstChild)c.push(i),i=VI(i);else for(;i;){i.nodeType===Node.ELEMENT_NODE&&this.endElement(i);let d=by(i);if(d){i=d;break}i=c.pop()}return this.buf.join("")}startElement(r){const i=Ug(r).toLowerCase();if(!Df.hasOwnProperty(i))return this.sanitizedSomething=!0,!Fg.hasOwnProperty(i);this.buf.push("<"),this.buf.push(i);const a=r.attributes;for(let c=0;c<a.length;c++){const d=a.item(c),m=d.name,I=m.toLowerCase();if(!Jd.hasOwnProperty(I)){this.sanitizedSomething=!0;continue}let A=d.value;Zd[I]&&(A=bf(A)),this.buf.push(" ",m,'="',Hg(A),'"')}return this.buf.push(">"),!0}endElement(r){const i=Ug(r).toLowerCase();Df.hasOwnProperty(i)&&!wy.hasOwnProperty(i)&&(this.buf.push("</"),this.buf.push(i),this.buf.push(">"))}chars(r){this.buf.push(Hg(r))}}function by(t){const r=t.nextSibling;if(r&&t!==r.previousSibling)throw Bg(r);return r}function VI(t){const r=t.firstChild;if(r&&function FI(t,r){return(t.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(t,r))throw Bg(r);return r}function Ug(t){const r=t.nodeName;return"string"==typeof r?r:"FORM"}function Bg(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}const jg=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,UI=/([^\#-~ |!])/g;function Hg(t){return t.replace(/&/g,"&amp;").replace(jg,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(UI,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Rf;function $g(t,r){let i=null;try{Rf=Rf||function Og(t){const r=new LI(t);return function Ng(){try{return!!(new window.DOMParser).parseFromString(zc(""),"text/html")}catch{return!1}}()?new kI(r):r}(t);let a=r?String(r):"";i=Rf.getInertBodyElement(a);let c=5,d=a;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,a=d,d=i.innerHTML,i=Rf.getInertBodyElement(a)}while(a!==d);return zc((new Vg).sanitizeChildren(Gg(i)||i))}finally{if(i){const a=Gg(i)||i;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function Gg(t){return"content"in t&&function ku(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var ja=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(ja||{});function Mf(t){const r=Xc();return r?r.sanitize(ja.URL,t)||"":Nu(t,"URL")?_l(t):bf(Tn(t))}function zg(t){const r=Xc();if(r)return xg(r.sanitize(ja.RESOURCE_URL,t)||"");if(Nu(t,"ResourceURL"))return xg(_l(t));throw new Ot(904,!1)}function xf(t,r,i){return function jI(t,r){return"src"===r&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===r&&("base"===t||"link"===t)?zg:Mf}(r,i)(t)}function Xc(){const t=ht();return t&&t[mt].sanitizer}const Of=/^>|^->|<!--|-->|--!>|<!-$/g,eh=/(<|>)/g,Nf="\u200b$1\u200b";function xy(t){return t.ownerDocument}function Ys(t){return t instanceof Function?t():t}var Hf=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Hf||{});let ih;function Jg(t,r){return ih(t,r)}function Fu(t,r,i,a,c){if(null!=a){let d,m=!1;or(a)?d=a:yn(a)&&(m=!0,a=a[Ae]);const I=ri(a);0===t&&null!==i?null==c?Wf(r,i,I):gc(r,i,I,c||null,!0):1===t&&null!==i?gc(r,i,I,c||null,!0):2===t?function tu(t,r,i){const a=il(t,r);a&&function im(t,r,i,a){t.removeChild(r,i,a)}(t,a,r,i)}(r,I,m):3===t&&r.destroyNode(I),null!=d&&function um(t,r,i,a,c){const d=i[Pn];d!==ri(i)&&Fu(r,t,a,d,c);for(let I=Or;I<i.length;I++){const A=i[I];Uu(A[Ce],A,t,r,a,d)}}(r,t,d,i,c)}}function ah(t,r){return t.createComment(function kf(t){return t.replace(Of,r=>r.replace(eh,Nf))}(r))}function lh(t,r,i){return t.createElement(r,i)}function Ny(t,r){r[mt].changeDetectionScheduler?.notify(1),Uu(t,r,r[Kt],2,null,null)}function Fy(t,r){const i=t[hi],a=i.indexOf(r);i.splice(a,1)}function Yc(t,r){if(t.length<=Or)return;const i=Or+r,a=t[i];if(a){const c=a[Li];null!==c&&c!==t&&Fy(c,a),r>0&&(t[i-1][Ft]=a[Ft]);const d=Is(t,Or+r);!function Vu(t,r){Ny(t,r),r[Ae]=null,r[sn]=null}(a[Ce],a);const m=d[it];null!==m&&m.detachView(d[Ce]),a[St]=null,a[Ft]=null,a[Ue]&=-129}return a}function $f(t,r){if(!(256&r[Ue])){const i=r[Kt];i.destroyNode&&Uu(t,r,i,3,null,null),function QI(t){let r=t[Ar];if(!r)return ch(t[Ce],t);for(;r;){let i=null;if(yn(r))i=r[Ar];else{const a=r[Or];a&&(i=a)}if(!i){for(;r&&!r[Ft]&&r!==t;)yn(r)&&ch(r[Ce],r),r=r[St];null===r&&(r=t),yn(r)&&ch(r[Ce],r),i=r&&r[Ft]}r=i}}(r)}}function ch(t,r){if(256&r[Ue])return;const i=W(null);try{r[Ue]&=-129,r[Ue]|=256,r[Po]&&function Ge(t){if(be(t),ye(t))for(let r=0;r<t.producerNode.length;r++)De(t.producerNode[r],t.producerIndexOfThis[r]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}(r[Po]),function nm(t,r){let i;if(null!=t&&null!=(i=t.destroyHooks))for(let a=0;a<i.length;a+=2){const c=r[i[a]];if(!(c instanceof Nl)){const d=i[a+1];if(Array.isArray(d))for(let m=0;m<d.length;m+=2){const I=c[d[m]],A=d[m+1];as(4,I,A);try{A.call(I)}finally{as(5,I,A)}}else{as(4,c,d);try{d.call(c)}finally{as(5,c,d)}}}}}(t,r),function XI(t,r){const i=t.cleanup,a=r[_n];if(null!==i)for(let d=0;d<i.length-1;d+=2)if("string"==typeof i[d]){const m=i[d+3];m>=0?a[m]():a[-m].unsubscribe(),d+=2}else i[d].call(a[i[d+1]]);null!==a&&(r[_n]=null);const c=r[Xi];if(null!==c){r[Xi]=null;for(let d=0;d<c.length;d++)(0,c[d])()}}(t,r),1===r[Ce].type&&r[Kt].destroy();const a=r[Li];if(null!==a&&or(r[St])){a!==r[St]&&Fy(a,r);const c=r[it];null!==c&&c.detachView(t)}!function q_(t){Lc.delete(t[Tt])}(r)}finally{W(i)}}function rm(t,r,i){return function Gf(t,r,i){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return i[Ae];{const{componentOffset:c}=a;if(c>-1){const{encapsulation:d}=t.data[a.directiveStart+c];if(d===Ni.None||d===Ni.Emulated)return null}return Ls(a,i)}}(t,r.parent,i)}function gc(t,r,i,a,c){t.insertBefore(r,i,a,c)}function Wf(t,r,i){t.appendChild(r,i)}function zf(t,r,i,a,c){null!==a?gc(t,r,i,a,c):Wf(t,r,i)}function il(t,r){return t.parentNode(r)}function Zc(t,r,i){return om(t,r,i)}let mc,om=function Jc(t,r,i){return 40&t.type?Ls(t,i):null};function Kf(t,r,i,a){const c=rm(t,a,r),d=r[Kt],I=Zc(a.parent||r[sn],a,r);if(null!=c)if(Array.isArray(i))for(let A=0;A<i.length;A++)zf(d,c,i[A],I,!1);else zf(d,c,i,I,!1);void 0!==mc&&mc(d,a,r,i,c)}function eu(t,r){if(null!==r){const i=r.type;if(3&i)return Ls(r,t);if(4&i)return dh(-1,t[r.index]);if(8&i){const a=r.child;if(null!==a)return eu(t,a);{const c=t[r.index];return or(c)?dh(-1,c):ri(c)}}if(32&i)return Jg(r,t)()||ri(t[r.index]);{const a=qf(t,r);return null!==a?Array.isArray(a)?a[0]:eu(Xa(t[Vt]),a):eu(t,r.next)}}return null}function qf(t,r){return null!==r?t[Vt][sn].projection[r.projection]:null}function dh(t,r){const i=Or+t+1;if(i<r.length){const a=r[i],c=a[Ce].firstChild;if(null!==c)return eu(a,c)}return r[Pn]}function am(t,r,i,a,c,d,m){for(;null!=i;){const I=a[i.index],A=i.type;if(m&&0===r&&(I&&Fo(ri(I),a),i.flags|=2),32&~i.flags)if(8&A)am(t,r,i.child,a,c,d,!1),Fu(r,t,c,I,d);else if(32&A){const k=Jg(i,a);let q;for(;q=k();)Fu(r,t,c,q,d);Fu(r,t,c,I,d)}else 16&A?cm(t,r,a,i,c,d):Fu(r,t,c,I,d);i=m?i.projectionNext:i.next}}function Uu(t,r,i,a,c,d){am(i,a,t.firstChild,r,c,d,!1)}function cm(t,r,i,a,c,d){const m=i[Vt],A=m[sn].projection[a.projection];if(Array.isArray(A))for(let k=0;k<A.length;k++)Fu(r,t,c,A[k],d);else{let k=A;const q=m[St];Au(a)&&(k.flags|=128),am(t,r,k,q,c,d,!0)}}function jy(t,r,i){""===i?t.removeAttribute(r,"class"):t.setAttribute(r,"class",i)}function dm(t,r,i){const{mergedAttrs:a,classes:c,styles:d}=i;null!==a&&ao(t,r,a),null!==c&&jy(t,r,c),null!==d&&function By(t,r,i){t.setAttribute(r,"style",i)}(t,r,d)}const gr={};function hm(t=1){fm(Mr(),ht(),Ui()+t,!1)}function fm(t,r,i,a){if(!a)if(3&~r[Ue]){const d=t.preOrderHooks;null!==d&&Rc(r,d,0,i)}else{const d=t.preOrderCheckHooks;null!==d&&Ol(r,d,i)}fl(i)}function Bu(t,r=lr.Default){const i=ht();return null===i?Ei(t,r):xc(Tr(),i,Fe(t),r)}function Hy(){throw new Error("invalid")}function $y(t,r,i,a,c,d){const m=W(null);try{let I=null;c&$s.SignalBased&&(I=r[a][Q]),null!==I&&void 0!==I.transformFn&&(d=I.transformFn(d)),c&$s.HasDecoratorInputTransform&&(d=t.inputTransforms[a].call(r,d)),null!==t.setInput?t.setInput(r,I,d,i,a):ot(r,I,a,d)}finally{W(m)}}function ju(t,r,i,a,c,d,m,I,A,k,q){const ce=r.blueprint.slice();return ce[Ae]=c,ce[Ue]=204|a,(null!==k||t&&2048&t[Ue])&&(ce[Ue]|=2048),Zh(ce),ce[St]=ce[en]=t,ce[Qt]=i,ce[mt]=m||t&&t[mt],ce[Kt]=I||t&&t[Kt],ce[fr]=A||t&&t[fr]||null,ce[sn]=d,ce[Tt]=function hf(){return Fd++}(),ce[wn]=q,ce[Fi]=k,ce[Vt]=2==r.type?t[Vt]:ce,ce}function Hu(t,r,i,a,c){let d=t.data[r];if(null===d)d=function hh(t,r,i,a,c){const d=Al(),m=Dc(),A=t.data[r]=function Im(t,r,i,a,c,d){let m=r?r.injectorIndex:-1,I=0;return Kr()&&(I|=128),{type:i,index:a,insertBeforeIndex:null,injectorIndex:m,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:I,providerIndexes:0,value:c,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?d:d&&d.parent,i,r,a,c);return null===t.firstChild&&(t.firstChild=A),null!==d&&(m?null==d.child&&null!==A.parent&&(d.child=A):null===d.next&&(d.next=A,A.prev=d)),A}(t,r,i,a,c),function Id(){return An.lFrame.inI18n}()&&(d.flags|=32);else if(64&d.type){d.type=i,d.value=a,d.attrs=c;const m=function ka(){const t=An.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}();d.injectorIndex=null===m?-1:m.injectorIndex}return go(d,!0),d}function $u(t,r,i,a){if(0===i)return-1;const c=r.length;for(let d=0;d<i;d++)r.push(a),t.blueprint.push(a),t.data.push(null);return c}function Qf(t,r,i,a,c){const d=Ui(),m=2&a;try{fl(-1),m&&r.length>rr&&fm(t,r,rr,!1),as(m?2:0,c),i(a,c)}finally{fl(d),as(m?3:1,c)}}function fh(t,r,i){if(qa(r)){const a=W(null);try{const d=r.directiveEnd;for(let m=r.directiveStart;m<d;m++){const I=t.data[m];I.contentQueries&&I.contentQueries(1,i[m],m)}}finally{W(a)}}}function ph(t,r,i){fs()&&(function Am(t,r,i,a){const c=i.directiveStart,d=i.directiveEnd;Hr(i)&&function Rm(t,r,i){const a=Ls(r,t),c=Xf(i);let m=16;i.signals?m=4096:i.onPush&&(m=64);const I=_h(t,ju(t,c,null,m,a,r,null,t[mt].rendererFactory.createRenderer(a,i),null,null,null));t[r.index]=I}(r,i,t.data[c+i.componentOffset]),t.firstCreatePass||Le(i,r),Fo(a,r);const m=i.initialInputs;for(let I=c;I<d;I++){const A=t.data[I],k=Ja(r,t,I,i);Fo(k,r),null!==m&&aE(0,I-c,k,A,0,m),_i(A)&&(po(i.index,r)[Qt]=Ja(r,t,I,i))}}(t,r,i,Ls(i,r)),!(64&~i.flags)&&vl(t,r,i))}function pm(t,r,i=Ls){const a=r.localNames;if(null!==a){let c=r.index+1;for(let d=0;d<a.length;d+=2){const m=a[d+1],I=-1===m?i(r,t):t[m];t[c++]=I}}}function Xf(t){const r=t.tView;return null===r||r.incompleteFirstPass?t.tView=gm(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):r}function gm(t,r,i,a,c,d,m,I,A,k,q){const ce=rr+a,xe=ce+c,Be=function mm(t,r){const i=[];for(let a=0;a<r;a++)i.push(a<t?null:gr);return i}(ce,xe),tt="function"==typeof k?k():k;return Be[Ce]={type:t,blueprint:Be,template:i,queries:null,viewQuery:I,declTNode:r,data:Be.slice().fill(null,ce),bindingStartIndex:ce,expandoStartIndex:xe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:A,consts:tt,incompleteFirstPass:!1,ssrId:q}}let ym=()=>null;function Wy(t,r,i,a,c){for(let d in r){if(!r.hasOwnProperty(d))continue;const m=r[d];if(void 0===m)continue;a??={};let I,A=$s.None;Array.isArray(m)?(I=m[0],A=m[1]):I=m;let k=d;if(null!==c){if(!c.hasOwnProperty(d))continue;k=c[d]}0===t?Yf(a,i,k,I,A):Yf(a,i,k,I)}return a}function Yf(t,r,i,a,c){let d;t.hasOwnProperty(i)?(d=t[i]).push(r,a):d=t[i]=[r,a],void 0!==c&&d.push(c)}function aa(t,r,i,a,c,d,m,I){const A=Ls(r,i);let q,k=r.inputs;!I&&null!=k&&(q=k[a])?(yh(t,i,q,a,c),Hr(r)&&function wm(t,r){const i=po(r,t);16&i[Ue]||(i[Ue]|=64)}(i,r.index)):3&r.type&&(a=function Em(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),c=null!=m?m(c,r.value||"",a):c,d.setProperty(A,a,c))}function _c(t,r,i,a){if(fs()){const c=null===a?null:{"":-1},d=function rE(t,r){const i=t.directiveRegistry;let a=null,c=null;if(i)for(let d=0;d<i.length;d++){const m=i[d];if(Pe(r,m.selectors,!1))if(a||(a=[]),_i(m))if(null!==m.findHostDirectiveDefs){const I=[];c=c||new Map,m.findHostDirectiveDefs(m,I,c),a.unshift(...I,m),gh(t,r,I.length)}else a.unshift(m),gh(t,r,0);else c=c||new Map,m.findHostDirectiveDefs?.(m,a,c),a.push(m)}return null===a?null:[a,c]}(t,i);let m,I;null===d?m=I=null:[m,I]=d,null!==m&&Cm(t,r,i,m,c,I),c&&function iE(t,r,i){if(r){const a=t.localNames=[];for(let c=0;c<r.length;c+=2){const d=i[r[c+1]];if(null==d)throw new Ot(-301,!1);a.push(r[c],d)}}}(i,a,c)}i.mergedAttrs=Ra(i.mergedAttrs,i.attrs)}function Cm(t,r,i,a,c,d){for(let k=0;k<a.length;k++)Mn(Le(i,r),t,a[k].type);!function Sm(t,r,i){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+i,t.providerIndexes=r}(i,t.data.length,a.length);for(let k=0;k<a.length;k++){const q=a[k];q.providersResolver&&q.providersResolver(q)}let m=!1,I=!1,A=$u(t,r,a.length,null);for(let k=0;k<a.length;k++){const q=a[k];i.mergedAttrs=Ra(i.mergedAttrs,q.hostAttrs),oE(t,i,r,A,q),sE(A,q,c),null!==q.contentQueries&&(i.flags|=4),(null!==q.hostBindings||null!==q.hostAttrs||0!==q.hostVars)&&(i.flags|=64);const ce=q.type.prototype;!m&&(ce.ngOnChanges||ce.ngOnInit||ce.ngDoCheck)&&((t.preOrderHooks??=[]).push(i.index),m=!0),!I&&(ce.ngOnChanges||ce.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(i.index),I=!0),A++}!function tE(t,r,i){const c=r.directiveEnd,d=t.data,m=r.attrs,I=[];let A=null,k=null;for(let q=r.directiveStart;q<c;q++){const ce=d[q],xe=i?i.get(ce):null,tt=xe?xe.outputs:null;A=Wy(0,ce.inputs,q,A,xe?xe.inputs:null),k=Wy(1,ce.outputs,q,k,tt);const Et=null===A||null===m||$o(r)?null:Pm(A,q,m);I.push(Et)}null!==A&&(A.hasOwnProperty("class")&&(r.flags|=8),A.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=I,r.inputs=A,r.outputs=k}(t,i,d)}function vl(t,r,i){const a=i.directiveStart,c=i.directiveEnd,d=i.index,m=function Ed(){return An.lFrame.currentDirectiveIndex}();try{fl(d);for(let I=a;I<c;I++){const A=t.data[I],k=r[I];hl(I),(null!==A.hostBindings||0!==A.hostVars||null!==A.hostAttrs)&&Dm(A,k)}}finally{fl(-1),hl(m)}}function Dm(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function gh(t,r,i){r.componentOffset=i,(t.components??=[]).push(r.index)}function sE(t,r,i){if(i){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)i[r.exportAs[a]]=t;_i(r)&&(i[""]=t)}}function oE(t,r,i,a,c){t.data[a]=c;const d=c.factory||(c.factory=ns(c.type)),m=new Nl(d,_i(c),Bu);t.blueprint[a]=m,i[a]=m,function bm(t,r,i,a,c){const d=c.hostBindings;if(d){let m=t.hostBindingOpCodes;null===m&&(m=t.hostBindingOpCodes=[]);const I=~r.index;(function nE(t){let r=t.length;for(;r>0;){const i=t[--r];if("number"==typeof i&&i<0)return i}return 0})(m)!=I&&m.push(I),m.push(i,a,d)}}(t,r,a,$u(t,i,c.hostVars,gr),c)}function Il(t,r,i,a,c,d){const m=Ls(t,r);!function mh(t,r,i,a,c,d,m){if(null==d)t.removeAttribute(r,c,i);else{const I=null==m?Tn(d):m(d,a||"",c);t.setAttribute(r,c,I,i)}}(r[Kt],m,d,t.value,i,a,c)}function aE(t,r,i,a,c,d){const m=d[r];if(null!==m)for(let I=0;I<m.length;)$y(a,i,m[I++],m[I++],m[I++],m[I++])}function Pm(t,r,i){let a=null,c=0;for(;c<i.length;){const d=i[c];if(0!==d)if(5!==d){if("number"==typeof d)break;if(t.hasOwnProperty(d)){null===a&&(a=[]);const m=t[d];for(let I=0;I<m.length;I+=3)if(m[I]===r){a.push(d,m[I+1],m[I+2],i[c+1]);break}}c+=2}else c+=2;else c+=4}return a}function Mm(t,r,i,a){return[t,!0,0,r,null,a,null,i,null,null]}function Zf(t,r){const i=t.contentQueries;if(null!==i){const a=W(null);try{for(let c=0;c<i.length;c+=2){const m=i[c+1];if(-1!==m){const I=t.data[m];Pl(i[c]),I.contentQueries(2,r[m],m)}}}finally{W(a)}}}function _h(t,r){return t[Ar]?t[Ti][Ft]=r:t[Ar]=r,t[Ti]=r,r}function xm(t,r,i){Pl(0);const a=W(null);try{r(t,i)}finally{W(a)}}function Jf(t){return t[_n]||(t[_n]=[])}function Ky(t){return t.cleanup||(t.cleanup=[])}function nu(t,r){const i=t[fr],a=i?i.get(Aa,null):null;a&&a.handleError(r)}function yh(t,r,i,a,c){for(let d=0;d<i.length;){const m=i[d++],I=i[d++],A=i[d++];$y(t.data[m],r[m],a,I,A,c)}}function jl(t,r,i){const a=Ea(r,t);!function oh(t,r,i){t.setValue(r,i)}(t[Kt],a,i)}function Gu(t,r){const i=po(r,t),a=i[Ce];!function lE(t,r){for(let i=r.length;i<t.blueprint.length;i++)r.push(t.blueprint[i])}(a,i);const c=i[Ae];null!==c&&null===i[wn]&&(i[wn]=$d(c,i[fr])),vh(a,i,i[Qt])}function vh(t,r,i){Td(r);try{const a=t.viewQuery;null!==a&&xm(1,a,i);const c=t.template;null!==c&&Qf(t,r,c,1,i),t.firstCreatePass&&(t.firstCreatePass=!1),r[it]?.finishViewCreation(t),t.staticContentQueries&&Zf(t,r),t.staticViewQueries&&xm(2,t.viewQuery,i);const d=t.components;null!==d&&function qy(t,r){for(let i=0;i<r.length;i++)Gu(t,r[i])}(r,d)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{r[Ue]&=-5,nc()}}function Hl(t,r){return!r||null===r.firstChild||Au(t)}function Ih(t,r,i,a=!0){const c=r[Ce];if(function ky(t,r,i,a){const c=Or+a,d=i.length;a>0&&(i[c-1][Ft]=r),a<d-Or?(r[Ft]=i[c],ro(i,Or+a,r)):(i.push(r),r[Ft]=null),r[St]=i;const m=r[Li];null!==m&&i!==m&&function Ly(t,r){const i=t[hi];r[Vt]!==r[St][St][Vt]&&(t[Ue]|=ss.HasTransplantedViews),null===i?t[hi]=[r]:i.push(r)}(m,r);const I=r[it];null!==I&&I.insertView(t),Cc(r),r[Ue]|=128}(c,r,t,i),a){const m=dh(i,t),I=r[Kt],A=il(I,t[Pn]);null!==A&&function tm(t,r,i,a,c,d){a[Ae]=c,a[sn]=r,Uu(t,a,i,1,c,d)}(c,t[sn],I,r,A,m)}const d=r[wn];null!==d&&null!==d.firstChild&&(d.firstChild=null)}function Eh(t,r,i,a,c=!1){for(;null!==i;){const d=r[i.index];null!==d&&a.push(ri(d)),or(d)&&Qy(d,a);const m=i.type;if(8&m)Eh(t,r,i.child,a);else if(32&m){const I=Jg(i,r);let A;for(;A=I();)a.push(A)}else if(16&m){const I=qf(r,i);if(Array.isArray(I))a.push(...I);else{const A=Xa(r[Vt]);Eh(A[Ce],A,I,a,!0)}}i=c?i.projectionNext:i.next}return a}function Qy(t,r){for(let i=Or;i<t.length;i++){const a=t[i],c=a[Ce].firstChild;null!==c&&Eh(a[Ce],a,c,r)}t[Pn]!==t[Ae]&&r.push(t[Pn])}let wh=[];const Xy={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{tc(t.lView)},consumerOnSignalRead(){this.lView[Po]=this}},tp=100;function Wu(t,r=!0,i=0){const a=t[mt],c=a.rendererFactory;c.begin?.();try{!function np(t,r){Th(t,r);let i=0;for(;ec(t);){if(i===tp)throw new Ot(103,!1);i++,Th(t,1)}}(t,i)}catch(m){throw r&&nu(t,m),m}finally{c.end?.(),a.inlineEffectRunner?.flush()}}function Zy(t,r,i,a){const c=r[Ue];if(!(256&~c))return;r[mt].inlineEffectRunner?.flush(),Td(r);let m=null,I=null;(function zu(t){return 2!==t.type})(t)&&(I=function km(t){return t[Po]??function Lm(t){const r=wh.pop()??Object.create(Xy);return r.lView=t,r}(t)}(r),m=function ft(t){return t&&(t.nextProducerIndex=0),W(t)}(I));try{Zh(r),function Ta(t){return An.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==i&&Qf(t,r,i,2,a);const A=!(3&~c);if(A){const ce=t.preOrderCheckHooks;null!==ce&&Ol(r,ce,null)}else{const ce=t.preOrderHooks;null!==ce&&Rc(r,ce,0,null),Pc(r,0)}if(function Um(t){for(let r=mf(t);null!==r;r=gg(r)){if(!(r[Ue]&ss.HasTransplantedViews))continue;const i=r[hi];for(let a=0;a<i.length;a++){_d(i[a])}}}(r),Vm(r,0),null!==t.contentQueries&&Zf(t,r),A){const ce=t.contentCheckHooks;null!==ce&&Ol(r,ce)}else{const ce=t.contentHooks;null!==ce&&Rc(r,ce,1),Pc(r,1)}!function ZI(t,r){const i=t.hostBindingOpCodes;if(null!==i)try{for(let a=0;a<i.length;a++){const c=i[a];if(c<0)fl(~c);else{const d=c,m=i[++a],I=i[++a];Sl(m,d),I(2,r[d])}}}finally{fl(-1)}}(t,r);const k=t.components;null!==k&&ev(r,k,0);const q=t.viewQuery;if(null!==q&&xm(2,q,a),A){const ce=t.viewCheckHooks;null!==ce&&Ol(r,ce)}else{const ce=t.viewHooks;null!==ce&&Rc(r,ce,2),Pc(r,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),r[As]){for(const ce of r[As])ce();r[As]=null}r[Ue]&=-73}catch(A){throw tc(r),A}finally{null!==I&&(function Ut(t,r){if(W(r),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(ye(t))for(let i=t.nextProducerIndex;i<t.producerNode.length;i++)De(t.producerNode[i],t.producerIndexOfThis[i]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}(I,m),function Fm(t){t.lView[Po]!==t&&(t.lView=null,wh.push(t))}(I)),nc()}}function Vm(t,r){for(let i=mf(t);null!==i;i=gg(i))for(let a=Or;a<i.length;a++)ru(i[a],r)}function Jy(t,r,i){ru(po(r,t),i)}function ru(t,r){md(t)&&Th(t,r)}function Th(t,r){const a=t[Ce],c=t[Ue],d=t[Po];let m=!!(0===r&&16&c);if(m||=!!(64&c&&0===r),m||=!!(1024&c),m||=!(!d?.dirty||!Bt(d)),d&&(d.dirty=!1),t[Ue]&=-9217,m)Zy(a,t,a.template,t[Qt]);else if(8192&c){Vm(t,1);const I=a.components;null!==I&&ev(t,I,1)}}function ev(t,r,i){for(let a=0;a<r.length;a++)Jy(t,r[a],i)}function Ch(t){for(t[mt].changeDetectionScheduler?.notify();t;){t[Ue]|=64;const r=Xa(t);if(Kn(t)&&!r)return t;t=r}return null}class bh{get rootNodes(){const r=this._lView,i=r[Ce];return Eh(i,r,i.firstChild,[])}constructor(r,i,a=!0){this._lView=r,this._cdRefInjectingView=i,this.notifyErrorHandler=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Qt]}set context(r){this._lView[Qt]=r}get destroyed(){return!(256&~this._lView[Ue])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[St];if(or(r)){const i=r[8],a=i?i.indexOf(this):-1;a>-1&&(Yc(r,a),Is(i,a))}this._attachedToViewContainer=!1}$f(this._lView[Ce],this._lView)}onDestroy(r){Qa(this._lView,r)}markForCheck(){Ch(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ue]&=-129}reattach(){Cc(this._lView),this._lView[Ue]|=128}detectChanges(){this._lView[Ue]|=1024,Wu(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ot(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,Ny(this._lView[Ce],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new Ot(902,!1);this._appRef=r,Cc(this._lView)}}let Ku=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=uE}return t})();const cE=Ku,tv=class extends cE{constructor(r,i,a){super(),this._declarationLView=r,this._declarationTContainer=i,this.elementRef=a}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(r,i){return this.createEmbeddedViewImpl(r,i)}createEmbeddedViewImpl(r,i,a){const c=function El(t,r,i,a){const c=W(null);try{const d=r.tView,A=ju(t,d,i,4096&t[Ue]?4096:16,null,r,null,null,a?.injector??null,a?.embeddedViewInjector??null,a?.dehydratedView??null);A[Li]=t[r.index];const q=t[it];return null!==q&&(A[it]=q.createEmbeddedView(d)),vh(d,A,i),A}finally{W(c)}}(this._declarationLView,this._declarationTContainer,r,{embeddedViewInjector:i,dehydratedView:a});return new bh(c)}};function uE(){return rp(Tr(),ht())}function rp(t,r){return 4&t.type?new tv(r,t,dc(t,r)):null}class Hm{}class su{}class Ph{}class hv{resolveComponentFactory(r){throw function EE(t){const r=Error(`No component factory found for ${ar(t)}.`);return r.ngComponent=t,r}(r)}}let ou=(()=>{class t{static#e=this.NULL=new hv}return t})();class fv{}let au=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function lp(){const t=ht(),i=po(Tr().index,t);return(yn(i)?i:t)[Kt]}()}return t})(),Mh=(()=>{class t{static#e=this.\u0275prov=sr({token:t,providedIn:"root",factory:()=>null})}return t})();const cp={},up=new Set;function Ha(t){up.has(t)||(up.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function dp(...t){}class ls{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new tl(!1),this.onMicrotaskEmpty=new tl(!1),this.onStable=new tl(!1),this.onError=new tl(!1),typeof Zone>"u")throw new Ot(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!a&&i,c.shouldCoalesceRunChangeDetection=a,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function $m(){const t="function"==typeof It.requestAnimationFrame;let r=It[t?"requestAnimationFrame":"setTimeout"],i=It[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&r&&i){const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a);const c=i[Zone.__symbol__("OriginalDelegate")];c&&(i=c)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function Gm(t){const r=()=>{!function mv(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(It,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,cu(t),t.isCheckStableRunning=!0,hp(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),cu(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,a,c,d,m,I)=>{if(function yv(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(I))return i.invokeTask(c,d,m,I);try{return _v(t),i.invokeTask(c,d,m,I)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||t.shouldCoalesceRunChangeDetection)&&r(),xh(t)}},onInvoke:(i,a,c,d,m,I,A)=>{try{return _v(t),i.invoke(c,d,m,I,A)}finally{t.shouldCoalesceRunChangeDetection&&r(),xh(t)}},onHasTask:(i,a,c,d)=>{i.hasTask(c,d),a===c&&("microTask"==d.change?(t._hasPendingMicrotasks=d.microTask,cu(t),hp(t)):"macroTask"==d.change&&(t.hasPendingMacrotasks=d.macroTask))},onHandleError:(i,a,c,d)=>(i.handleError(c,d),t.runOutsideAngular(()=>t.onError.emit(d)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ls.isInAngularZone())throw new Ot(909,!1)}static assertNotInAngularZone(){if(ls.isInAngularZone())throw new Ot(909,!1)}run(r,i,a){return this._inner.run(r,i,a)}runTask(r,i,a,c){const d=this._inner,m=d.scheduleEventTask("NgZoneEvent: "+c,r,lu,dp,dp);try{return d.runTask(m,i,a)}finally{d.cancelTask(m)}}runGuarded(r,i,a){return this._inner.runGuarded(r,i,a)}runOutsideAngular(r){return this._outer.run(r)}}const lu={};function hp(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function cu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function _v(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function xh(t){t._nesting--,hp(t)}class Oh{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new tl,this.onMicrotaskEmpty=new tl,this.onStable=new tl,this.onError=new tl}run(r,i,a){return r.apply(i,a)}runGuarded(r,i,a){return r.apply(i,a)}runOutsideAngular(r){return r()}runTask(r,i,a,c){return r.apply(i,a)}}var uu=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(uu||{});const kh={destroy(){}};function Zu(t,r){!r&&function mi(t){if(!Cl())throw new Ot(-203,!1)}();const i=r?.injector??$n($r);if(!function yl(t){return"browser"===(t??$n($r)).get(Ru)}(i))return kh;Ha("NgAfterNextRender");const a=i.get(Lh),c=a.handler??=new Ju,d=r?.phase??uu.MixedReadWrite,m=()=>{c.unregister(A),I()},I=i.get(kc).onDestroy(m),A=Ks(i,()=>new $l(d,()=>{m(),t()}));return c.register(A),{destroy:m}}class $l{constructor(r,i){this.phase=r,this.callbackFn=i,this.zone=$n(ls),this.errorHandler=$n(Aa,{optional:!0}),$n(Hm,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(r){this.errorHandler?.handleError(r)}}}class Ju{constructor(){this.executingCallbacks=!1,this.buckets={[uu.EarlyRead]:new Set,[uu.Write]:new Set,[uu.MixedReadWrite]:new Set,[uu.Read]:new Set},this.deferredCallbacks=new Set}register(r){(this.executingCallbacks?this.deferredCallbacks:this.buckets[r.phase]).add(r)}unregister(r){this.buckets[r.phase].delete(r),this.deferredCallbacks.delete(r)}execute(){this.executingCallbacks=!0;for(const r of Object.values(this.buckets))for(const i of r)i.invoke();this.executingCallbacks=!1;for(const r of this.deferredCallbacks)this.buckets[r.phase].add(r);this.deferredCallbacks.clear()}destroy(){for(const r of Object.values(this.buckets))r.clear();this.deferredCallbacks.clear()}}let Lh=(()=>{class t{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const i=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const a of i)a()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=sr({token:t,providedIn:"root",factory:()=>new t})}return t})();function du(t){return!!gi(t)}function mp(t,r,i){let a=i?t.styles:null,c=i?t.classes:null,d=0;if(null!==r)for(let m=0;m<r.length;m++){const I=r[m];"number"==typeof I?d=I:1==d?c=Rr(c,I):2==d&&(a=Rr(a,I+": "+r[++m]+";"))}i?t.styles=a:t.stylesWithoutHost=a,i?t.classes=c:t.classesWithoutHost=c}class vv extends ou{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const i=Jn(r);return new ed(i,this.ngModule)}}function Qm(t){const r=[];for(const i in t){if(!t.hasOwnProperty(i))continue;const a=t[i];void 0!==a&&r.push({propName:Array.isArray(a)?a[0]:a,templateName:i})}return r}class Xm{constructor(r,i){this.injector=r,this.parentInjector=i}get(r,i,a){a=vs(a);const c=this.injector.get(r,cp,a);return c!==cp||i===cp?c:this.parentInjector.get(r,i,a)}}class ed extends Ph{get inputs(){const r=this.componentDef,i=r.inputTransforms,a=Qm(r.inputs);if(null!==i)for(const c of a)i.hasOwnProperty(c.propName)&&(c.transform=i[c.propName]);return a}get outputs(){return Qm(this.componentDef.outputs)}constructor(r,i){super(),this.componentDef=r,this.ngModule=i,this.componentType=r.type,this.selector=function Os(t){return t.map(xs).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!i}create(r,i,a,c){const d=W(null);try{let m=(c=c||this.ngModule)instanceof ki?c:c?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const I=m?new Xm(r,m):r,A=I.get(fv,null);if(null===A)throw new Ot(407,!1);const k=I.get(Mh,null),xe={rendererFactory:A,sanitizer:k,inlineEffectRunner:null,afterRenderEventManager:I.get(Lh,null),changeDetectionScheduler:I.get(Hm,null)},Be=A.createRenderer(null,this.componentDef),tt=this.componentDef.selectors[0][0]||"div",Et=a?function JI(t,r,i,a){const d=a.get(Kd,!1)||i===Ni.ShadowDom,m=t.selectRootElement(r,d);return function _m(t){ym(t)}(m),m}(Be,a,this.componentDef.encapsulation,I):lh(Be,tt,function Iv(t){const r=t.toLowerCase();return"svg"===r?pd:"math"===r?"math":null}(tt));let Wt=512;this.componentDef.signals?Wt|=4096:this.componentDef.onPush||(Wt|=16);let un=null;null!==Et&&(un=$d(Et,I,!0));const Rt=gm(0,null,null,1,0,null,null,null,null,null,null),cr=ju(null,Rt,null,Wt,null,null,xe,Be,I,null,un);let oi,Mi;Td(cr);try{const yo=this.componentDef;let za,Qp=null;yo.findHostDirectiveDefs?(za=[],Qp=new Map,yo.findHostDirectiveDefs(yo,za,Qp),za.push(yo)):za=[yo];const dA=function Ym(t,r){const i=t[Ce],a=rr;return t[a]=r,Hu(i,a,2,"#host",null)}(cr,Et),UP=function _p(t,r,i,a,c,d,m){const I=c[Ce];!function CE(t,r,i,a){for(const c of t)r.mergedAttrs=Ra(r.mergedAttrs,c.hostAttrs);null!==r.mergedAttrs&&(mp(r,r.mergedAttrs,!0),null!==i&&dm(a,i,r))}(a,t,r,m);let A=null;null!==r&&(A=$d(r,c[fr]));const k=d.rendererFactory.createRenderer(r,i);let q=16;i.signals?q=4096:i.onPush&&(q=64);const ce=ju(c,Xf(i),null,q,c[t.index],t,d,k,null,null,A);return I.firstCreatePass&&gh(I,t,a.length-1),_h(c,ce),c[t.index]=ce}(dA,Et,yo,za,cr,xe,Be);Mi=Tc(Rt,rr),Et&&function fw(t,r,i,a){if(a)ao(t,i,["ng-version","17.3.2"]);else{const{attrs:c,classes:d}=function ha(t){const r=[],i=[];let a=1,c=2;for(;a<t.length;){let d=t[a];if("string"==typeof d)2===c?""!==d&&r.push(d,t[++a]):8===c&&i.push(d);else{if(!x(c))break;c=d}a++}return{attrs:r,classes:i}}(r.selectors[0]);c&&ao(t,i,c),d&&d.length>0&&jy(t,i,d.join(" "))}}(Be,yo,Et,a),void 0!==i&&function bE(t,r,i){const a=t.projection=[];for(let c=0;c<r.length;c++){const d=i[c];a.push(null!=d?Array.from(d):null)}}(Mi,this.ngContentSelectors,i),oi=function hw(t,r,i,a,c,d){const m=Tr(),I=c[Ce],A=Ls(m,c);Cm(I,c,m,i,null,a);for(let q=0;q<i.length;q++)Fo(Ja(c,I,m.directiveStart+q,m),c);vl(I,c,m),A&&Fo(A,c);const k=Ja(c,I,m.directiveStart+m.componentOffset,m);if(t[Qt]=c[Qt]=k,null!==d)for(const q of d)q(k,r);return fh(I,m,c),k}(UP,yo,za,Qp,cr,[pw]),vh(Rt,cr,null)}finally{nc()}return new Ev(this.componentType,oi,dc(Mi,cr),cr,Mi)}finally{W(d)}}}class Ev extends su{constructor(r,i,a,c,d){super(),this.location=a,this._rootLView=c,this._tNode=d,this.previousInputValues=null,this.instance=i,this.hostView=this.changeDetectorRef=new bh(c,void 0,!1),this.componentType=r}setInput(r,i){const a=this._tNode.inputs;let c;if(null!==a&&(c=a[r])){if(this.previousInputValues??=new Map,this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),i))return;const d=this._rootLView;yh(d[Ce],d,c,r,i),this.previousInputValues.set(r,i),Ch(po(this._tNode.index,d))}}get injector(){return new ps(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function pw(){const t=Tr();ic(ht()[Ce],t)}let Zm=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=hu}return t})();function hu(){return e_(Tr(),ht())}const Gl=Zm,td=class extends Gl{constructor(r,i,a){super(),this._lContainer=r,this._hostTNode=i,this._hostLView=a}get element(){return dc(this._hostTNode,this._hostLView)}get injector(){return new ps(this._hostTNode,this._hostLView)}get parentInjector(){const r=vn(this._hostTNode,this._hostLView);if(lc(r)){const i=cc(r,this._hostLView),a=pl(r);return new ps(i[Ce].data[a+8],i)}return new ps(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const i=Wl(this._lContainer);return null!==i&&i[r]||null}get length(){return this._lContainer.length-Or}createEmbeddedView(r,i,a){let c,d;"number"==typeof a?c=a:null!=a&&(c=a.index,d=a.injector);const I=r.createEmbeddedViewImpl(i||{},d,null);return this.insertImpl(I,c,Hl(this._hostTNode,null)),I}createComponent(r,i,a,c,d){const m=r&&!function wt(t){return"function"==typeof t}(r);let I;if(m)I=i;else{const tt=i||{};I=tt.index,a=tt.injector,c=tt.projectableNodes,d=tt.environmentInjector||tt.ngModuleRef}const A=m?r:new ed(Jn(r)),k=a||this.parentInjector;if(!d&&null==A.ngModule){const Et=(m?k:this.parentInjector).get(ki,null);Et&&(d=Et)}Jn(A.componentType??{});const Be=A.create(k,c,null,d);return this.insertImpl(Be.hostView,I,Hl(this._hostTNode,null)),Be}insert(r,i){return this.insertImpl(r,i,!0)}insertImpl(r,i,a){const c=r._lView;if(function Zp(t){return or(t[St])}(c)){const I=this.indexOf(r);if(-1!==I)this.detach(I);else{const A=c[St],k=new td(A,A[sn],A[St]);k.detach(k.indexOf(r))}}const d=this._adjustIndex(i),m=this._lContainer;return Ih(m,c,d,a),r.attachToViewContainerRef(),ro(Jm(m),d,r),r}move(r,i){return this.insert(r,i)}indexOf(r){const i=Wl(this._lContainer);return null!==i?i.indexOf(r):-1}remove(r){const i=this._adjustIndex(r,-1),a=Yc(this._lContainer,i);a&&(Is(Jm(this._lContainer),i),$f(a[Ce],a))}detach(r){const i=this._adjustIndex(r,-1),a=Yc(this._lContainer,i);return a&&null!=Is(Jm(this._lContainer),i)?new bh(a):null}_adjustIndex(r,i=0){return r??this.length+i}};function Wl(t){return t[8]}function Jm(t){return t[8]||(t[8]=[])}function e_(t,r){let i;const a=r[t.index];return or(a)?i=a:(i=Mm(a,r,null,t),r[t.index]=i,_h(r,i)),zl(i,r,t,a),new td(i,t,r)}let zl=function Tv(t,r,i,a){if(t[Pn])return;let c;c=8&i.type?ri(a):function AE(t,r){const i=t[Kt],a=i.createComment(""),c=Ls(r,t);return gc(i,il(i,c),a,function sm(t,r){return t.nextSibling(r)}(i,c),!1),a}(r,i),t[Pn]=c},t_=()=>!1;class yp{constructor(r){this.queryList=r,this.matches=null}clone(){return new yp(this.queryList)}setDirty(){this.queryList.setDirty()}}class n_{constructor(r=[]){this.queries=r}createEmbeddedView(r){const i=r.queries;if(null!==i){const a=null!==r.contentQueries?r.contentQueries[0]:i.length,c=[];for(let d=0;d<a;d++){const m=i.getByIndex(d);c.push(this.queries[m.indexInDeclarationView].clone())}return new n_(c)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}finishViewCreation(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let i=0;i<this.queries.length;i++)null!==a_(r,i).matches&&this.queries[i].setDirty()}}class bv{constructor(r,i,a=null){this.flags=i,this.read=a,this.predicate="string"==typeof r?function mw(t){return t.split(",").map(r=>r.trim())}(r):r}}class vp{constructor(r=[]){this.queries=r}elementStart(r,i){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,i)}elementEnd(r){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(r)}embeddedTView(r){let i=null;for(let a=0;a<this.length;a++){const c=null!==i?i.length:0,d=this.getByIndex(a).embeddedTView(r,c);d&&(d.indexInDeclarationView=a,null!==i?i.push(d):i=[d])}return null!==i?new vp(i):null}template(r,i){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,i)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class r_{constructor(r,i=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(r,i){this.isApplyingToNode(i)&&this.matchTNode(r,i)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,i){this.elementStart(r,i)}embeddedTView(r,i){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,i),new r_(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1&~this.metadata.flags){const i=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==i;)a=a.parent;return i===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,i){const a=this.metadata.predicate;if(Array.isArray(a))for(let c=0;c<a.length;c++){const d=a[c];this.matchTNodeWithReadOption(r,i,nd(i,d)),this.matchTNodeWithReadOption(r,i,Ss(i,r,d,!1,!1))}else a===Ku?4&i.type&&this.matchTNodeWithReadOption(r,i,-1):this.matchTNodeWithReadOption(r,i,Ss(i,r,a,!1,!1))}matchTNodeWithReadOption(r,i,a){if(null!==a){const c=this.metadata.read;if(null!==c)if(c===Ld||c===Zm||c===Ku&&4&i.type)this.addMatch(i.index,-2);else{const d=Ss(i,r,c,!1,!1);null!==d&&this.addMatch(i.index,d)}else this.addMatch(i.index,a)}}addMatch(r,i){null===this.matches?this.matches=[r,i]:this.matches.push(r,i)}}function nd(t,r){const i=t.localNames;if(null!==i)for(let a=0;a<i.length;a+=2)if(i[a]===r)return i[a+1];return null}function gw(t,r,i,a){return-1===i?function i_(t,r){return 11&t.type?dc(t,r):4&t.type?rp(t,r):null}(r,t):-2===i?function RE(t,r,i){return i===Ld?dc(r,t):i===Ku?rp(r,t):i===Zm?e_(r,t):void 0}(t,r,a):Ja(t,t[Ce],i,r)}function Av(t,r,i,a){const c=r[it].queries[a];if(null===c.matches){const d=t.data,m=i.matches,I=[];for(let A=0;null!==m&&A<m.length;A+=2){const k=m[A];I.push(k<0?null:gw(r,d[k],m[A+1],i.metadata.read))}c.matches=I}return c.matches}function s_(t,r,i,a){const c=t.queries.getByIndex(i),d=c.matches;if(null!==d){const m=Av(t,r,c,i);for(let I=0;I<d.length;I+=2){const A=d[I];if(A>0)a.push(m[I/2]);else{const k=d[I+1],q=r[-A];for(let ce=Or;ce<q.length;ce++){const xe=q[ce];xe[Li]===xe[St]&&s_(xe[Ce],xe,k,a)}if(null!==q[hi]){const ce=q[hi];for(let xe=0;xe<ce.length;xe++){const Be=ce[xe];s_(Be[Ce],Be,k,a)}}}}}return a}function Dv(t,r,i){const a=new Cu(!(4&~i));return function eE(t,r,i,a){const c=Jf(r);c.push(i),t.firstCreatePass&&Ky(t).push(a,c.length-1)}(t,r,a,a.destroy),(r[it]??=new n_).queries.push(new yp(a))-1}function xE(t,r,i){null===t.queries&&(t.queries=new vp),t.queries.track(new r_(r,i))}function a_(t,r){return t.queries.getByIndex(r)}function Sv(t,r){const i=t[Ce],a=a_(i,r);return a.crossesNgTemplate?s_(i,t,r,[]):Av(i,t,a,r)}function Pv(t){return function NE(t){return"function"==typeof t&&void 0!==t[Q]}(t)&&"function"==typeof t.set}function Kl(t){let r=function Tp(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),i=!0;const a=[t];for(;r;){let c;if(_i(t))c=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new Ot(903,!1);c=r.\u0275dir}if(c){if(i){a.push(c);const m=t;m.inputs=Cp(t.inputs),m.inputTransforms=Cp(t.inputTransforms),m.declaredInputs=Cp(t.declaredInputs),m.outputs=Cp(t.outputs);const I=c.hostBindings;I&&Bv(t,I);const A=c.viewQuery,k=c.contentQueries;if(A&&Cw(t,A),k&&GE(t,k),HE(t,c),Sn(t.outputs,c.outputs),_i(c)&&c.data.animation){const q=t.data;q.animation=(q.animation||[]).concat(c.data.animation)}}const d=c.features;if(d)for(let m=0;m<d.length;m++){const I=d[m];I&&I.ngInherit&&I(t),I===Kl&&(i=!1)}}r=Object.getPrototypeOf(r)}!function $E(t){let r=0,i=null;for(let a=t.length-1;a>=0;a--){const c=t[a];c.hostVars=r+=c.hostVars,c.hostAttrs=Ra(c.hostAttrs,i=Ra(i,c.hostAttrs))}}(a)}function HE(t,r){for(const i in r.inputs){if(!r.inputs.hasOwnProperty(i)||t.inputs.hasOwnProperty(i))continue;const a=r.inputs[i];if(void 0!==a&&(t.inputs[i]=a,t.declaredInputs[i]=r.declaredInputs[i],null!==r.inputTransforms)){const c=Array.isArray(a)?a[0]:a;if(!r.inputTransforms.hasOwnProperty(c))continue;t.inputTransforms??={},t.inputTransforms[c]=r.inputTransforms[c]}}}function Cp(t){return t===Oi?{}:t===yr?[]:t}function Cw(t,r){const i=t.viewQuery;t.viewQuery=i?(a,c)=>{r(a,c),i(a,c)}:r}function GE(t,r){const i=t.contentQueries;t.contentQueries=i?(a,c,d)=>{r(a,c,d),i(a,c,d)}:r}function Bv(t,r){const i=t.hostBindings;t.hostBindings=i?(a,c)=>{r(a,c),i(a,c)}:r}function m_(t){const r=t.inputConfig,i={};for(const a in r)if(r.hasOwnProperty(a)){const c=r[a];Array.isArray(c)&&c[3]&&(i[a]=c[3])}t.inputTransforms=i}class pu{}class $v{}function zE(t,r){return new __(t,r??null,[])}class __ extends pu{constructor(r,i,a){super(),this._parent=i,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new vv(this);const c=gi(r);this._bootstrapComponents=Ys(c.bootstrap),this._r3Injector=j_(r,i,[{provide:pu,useValue:this},{provide:ou,useValue:this.componentFactoryResolver},...a],ar(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class Ap extends $v{constructor(r){super(),this.moduleType=r}create(r){return new __(this.moduleType,r,[])}}class qE extends pu{constructor(r){super(),this.componentFactoryResolver=new vv(this),this.instance=null;const i=new ta([...r.providers,{provide:pu,useValue:this},{provide:ou,useValue:this.componentFactoryResolver}],r.parent||Ko(),r.debugName,new Set(["environment"]));this.injector=i,r.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function y_(t,r,i=null){return new qE({providers:t,parent:r,debugName:i,runEnvironmentInitializers:!0}).injector}let f=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Qn.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=sr({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function M(t){return!!fe(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function fe(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function et(t,r,i){return t[r]=i}function Lt(t,r,i){return!Object.is(t[r],i)&&(t[r]=i,!0)}function qt(t,r,i,a){const c=Lt(t,r,i);return Lt(t,r+1,a)||c}function kr(t,r,i,a,c,d,m,I){const A=ht(),k=Mr(),q=t+rr,ce=k.firstCreatePass?function mr(t,r,i,a,c,d,m,I,A){const k=r.consts,q=Hu(r,t,4,m||null,ia(k,I));_c(r,i,q,ia(k,A)),ic(r,q);const ce=q.tView=gm(2,q,a,c,d,r.directiveRegistry,r.pipeRegistry,null,r.schemas,k,null);return null!==r.queries&&(r.queries.template(r,q),ce.queries=r.queries.embeddedTView(q)),q}(q,k,A,r,i,a,c,d,m):k.data[q];go(ce,!1);const xe=si(k,A,ce,t);xl()&&Kf(k,A,xe,ce),Fo(xe,A);const Be=Mm(xe,A,xe,ce);return A[q]=Be,_h(A,Be),function wv(t,r,i){return t_(t,r,i)}(Be,ce,A),cn(ce)&&ph(k,A,ce),null!=m&&pm(A,ce,I),kr}let si=function cs(t,r,i,a){return Lo(!0),r[Kt].createComment("")};function o0(t,r,i,a){const c=ht();return Lt(c,sa(),r)&&(Mr(),Il(vi(),c,t,r,i,a)),o0}function kp(t,r,i,a,c,d){const I=qt(t,function No(){return An.lFrame.bindingIndex}(),i,c);return ko(2),I?r+Tn(i)+a+Tn(c)+d:gr}function Qv(t,r){return t<<17|r<<2}function ld(t){return t>>17&32767}function a0(t){return 2|t}function Gh(t){return(131068&t)>>2}function l0(t,r){return-131069&t|r<<2}function c0(t){return 1|t}function rT(t,r,i,a){const c=t[i+1],d=null===r;let m=a?ld(c):Gh(c),I=!1;for(;0!==m&&(!1===I||d);){const k=t[m+1];JA(t[m],r)&&(I=!0,t[m+1]=a?c0(k):a0(k)),m=a?ld(k):Gh(k)}I&&(t[i+1]=a?a0(c):c0(c))}function JA(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&Di(t,r)>=0}const mo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function iT(t){return t.substring(mo.key,mo.keyEnd)}function sT(t,r){const i=mo.textEnd;return i===r?-1:(r=mo.keyEnd=function rD(t,r,i){for(;r<i&&t.charCodeAt(r)>32;)r++;return r}(t,mo.key=r,i),Hp(t,r,i))}function Hp(t,r,i){for(;r<i&&t.charCodeAt(r)<=32;)r++;return r}function u0(t,r,i){const a=ht();return Lt(a,sa(),r)&&aa(Mr(),vi(),a,t,r,a[Kt],i,!1),u0}function d0(t,r,i,a,c){const m=c?"class":"style";yh(t,i,r.inputs[m],m,a)}function h0(t,r,i){return ql(t,r,i,!1),h0}function f0(t,r){return ql(t,r,null,!0),f0}function uT(t){!function Ql(t,r,i,a){const c=Mr(),d=ko(2);c.firstUpdatePass&&hT(c,null,d,a);const m=ht();if(i!==gr&&Lt(m,d,i)){const I=c.data[Ui()];if(mT(I,a)&&!dT(c,d)){let A=a?I.classesWithoutHost:I.stylesWithoutHost;null!==A&&(i=Rr(A,i||"")),d0(c,I,m,i,a)}else!function fD(t,r,i,a,c,d,m,I){c===gr&&(c=yr);let A=0,k=0,q=0<c.length?c[0]:null,ce=0<d.length?d[0]:null;for(;null!==q||null!==ce;){const xe=A<c.length?c[A+1]:void 0,Be=k<d.length?d[k+1]:void 0;let Et,tt=null;q===ce?(A+=2,k+=2,xe!==Be&&(tt=ce,Et=Be)):null===ce||null!==q&&q<ce?(A+=2,tt=q):(k+=2,tt=ce,Et=Be),null!==tt&&pT(t,r,i,a,tt,Et,m,I),q=A<c.length?c[A]:null,ce=k<d.length?d[k]:null}}(c,I,m,m[Kt],m[d+1],m[d+1]=function dD(t,r,i){if(null==i||""===i)return yr;const a=[],c=_l(i);if(Array.isArray(c))for(let d=0;d<c.length;d++)t(a,c[d],!0);else if("object"==typeof c)for(const d in c)c.hasOwnProperty(d)&&t(a,d,c[d]);else"string"==typeof c&&r(a,c);return a}(t,r,i),a,d)}}(hD,wc,t,!0)}function wc(t,r){for(let i=function tD(t){return function aT(t){mo.key=0,mo.keyEnd=0,mo.value=0,mo.valueEnd=0,mo.textEnd=t.length}(t),sT(t,Hp(t,0,mo.textEnd))}(r);i>=0;i=sT(r,i))ui(t,iT(r),!0)}function ql(t,r,i,a){const c=ht(),d=Mr(),m=ko(2);d.firstUpdatePass&&hT(d,t,m,a),r!==gr&&Lt(c,m,r)&&pT(d,d.data[Ui()],c,c[Kt],t,c[m+1]=function pD(t,r){return null==t||""===t||("string"==typeof r?t+=r:"object"==typeof t&&(t=ar(_l(t)))),t}(r,i),a,m)}function dT(t,r){return r>=t.expandoStartIndex}function hT(t,r,i,a){const c=t.data;if(null===c[i+1]){const d=c[Ui()],m=dT(t,i);mT(d,a)&&null===r&&!m&&(r=!1),r=function aD(t,r,i,a){const c=function _u(t){const r=An.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}(t);let d=a?r.residualClasses:r.residualStyles;if(null===c)0===(a?r.classBindings:r.styleBindings)&&(i=w_(i=p0(null,t,r,i,a),r.attrs,a),d=null);else{const m=r.directiveStylingLast;if(-1===m||t[m]!==c)if(i=p0(c,t,r,i,a),null===d){let A=function lD(t,r,i){const a=i?r.classBindings:r.styleBindings;if(0!==Gh(a))return t[ld(a)]}(t,r,a);void 0!==A&&Array.isArray(A)&&(A=p0(null,t,r,A[1],a),A=w_(A,r.attrs,a),function cD(t,r,i,a){t[ld(i?r.classBindings:r.styleBindings)]=a}(t,r,a,A))}else d=function uD(t,r,i){let a;const c=r.directiveEnd;for(let d=1+r.directiveStylingLast;d<c;d++)a=w_(a,t[d].hostAttrs,i);return w_(a,r.attrs,i)}(t,r,a)}return void 0!==d&&(a?r.residualClasses=d:r.residualStyles=d),i}(c,d,r,a),function YA(t,r,i,a,c,d){let m=d?r.classBindings:r.styleBindings,I=ld(m),A=Gh(m);t[a]=i;let q,k=!1;if(Array.isArray(i)?(q=i[1],(null===q||Di(i,q)>0)&&(k=!0)):q=i,c)if(0!==A){const xe=ld(t[I+1]);t[a+1]=Qv(xe,I),0!==xe&&(t[xe+1]=l0(t[xe+1],a)),t[I+1]=function QA(t,r){return 131071&t|r<<17}(t[I+1],a)}else t[a+1]=Qv(I,0),0!==I&&(t[I+1]=l0(t[I+1],a)),I=a;else t[a+1]=Qv(A,0),0===I?I=a:t[A+1]=l0(t[A+1],a),A=a;k&&(t[a+1]=a0(t[a+1])),rT(t,q,a,!0),rT(t,q,a,!1),function ZA(t,r,i,a,c){const d=c?t.residualClasses:t.residualStyles;null!=d&&"string"==typeof r&&Di(d,r)>=0&&(i[a+1]=c0(i[a+1]))}(r,q,t,a,d),m=Qv(I,A),d?r.classBindings=m:r.styleBindings=m}(c,d,r,i,m,a)}}function p0(t,r,i,a,c){let d=null;const m=i.directiveEnd;let I=i.directiveStylingLast;for(-1===I?I=i.directiveStart:I++;I<m&&(d=r[I],a=w_(a,d.hostAttrs,c),d!==t);)I++;return null!==t&&(i.directiveStylingLast=I),a}function w_(t,r,i){const a=i?1:2;let c=-1;if(null!==r)for(let d=0;d<r.length;d++){const m=r[d];"number"==typeof m?c=m:c===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),ui(t,m,!!i||r[++d]))}return void 0===t?null:t}function hD(t,r,i){const a=String(r);""!==a&&!a.includes(" ")&&ui(t,a,i)}function pT(t,r,i,a,c,d,m,I){if(!(3&r.type))return;const A=t.data,k=A[I+1],q=function XA(t){return!(1&~t)}(k)?gT(A,r,i,c,Gh(k),m):void 0;Xv(q)||(Xv(d)||function qA(t){return!(2&~t)}(k)&&(d=gT(A,null,i,c,I,m)),function YI(t,r,i,a,c){if(r)c?t.addClass(i,a):t.removeClass(i,a);else{let d=-1===a.indexOf("-")?void 0:Hf.DashCase;null==c?t.removeStyle(i,a,d):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),d|=Hf.Important),t.setStyle(i,a,c,d))}}(a,m,Ea(Ui(),i),c,d))}function gT(t,r,i,a,c,d){const m=null===r;let I;for(;c>0;){const A=t[c],k=Array.isArray(A),q=k?A[1]:A,ce=null===q;let xe=i[c+1];xe===gr&&(xe=ce?yr:void 0);let Be=ce?Zo(xe,a):q===a?xe:void 0;if(k&&!Xv(Be)&&(Be=Zo(A,a)),Xv(Be)&&(I=Be,m))return I;const tt=t[c+1];c=m?ld(tt):Gh(tt)}if(null!==r){let A=d?r.residualClasses:r.residualStyles;null!=A&&(I=Zo(A,a))}return I}function Xv(t){return void 0!==t}function mT(t,r){return!!(t.flags&(r?8:16))}function Yv(t,r,i,a){const c=ht(),d=Mr(),m=rr+t,I=c[Kt],A=d.firstCreatePass?function FD(t,r,i,a,c,d){const m=r.consts,A=Hu(r,t,2,a,ia(m,c));return _c(r,i,A,ia(m,d)),null!==A.attrs&&mp(A,A.attrs,!1),null!==A.mergedAttrs&&mp(A,A.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,A),A}(m,d,c,r,i,a):d.data[m],k=IT(d,c,A,I,r,t);c[m]=k;const q=cn(A);return go(A,!0),dm(I,k,A),!function Ln(t){return!(32&~t.flags)}(A)&&xl()&&Kf(d,c,k,A),0===function ef(){return An.lFrame.elementDepthCount}()&&Fo(k,c),function yi(){An.lFrame.elementDepthCount++}(),q&&(ph(d,c,A),fh(d,A,c)),null!==a&&pm(c,A),Yv}function Zv(){let t=Tr();Dc()?La():(t=t.parent,go(t,!1));const r=t;(function tf(t){return An.skipHydrationRootTNode===t})(r)&&function vd(){An.skipHydrationRootTNode=null}(),function Ac(){An.lFrame.elementDepthCount--}();const i=Mr();return i.firstCreatePass&&(ic(i,t),qa(t)&&i.queries.elementEnd(t)),null!=r.classesWithoutHost&&function cf(t){return!!(8&t.flags)}(r)&&d0(i,r,ht(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function Sd(t){return!!(16&t.flags)}(r)&&d0(i,r,ht(),r.stylesWithoutHost,!1),Zv}function v0(t,r,i,a){return Yv(t,r,i,a),Zv(),v0}let IT=(t,r,i,a,c,d)=>(Lo(!0),lh(a,c,function ii(){return An.lFrame.currentNamespace}()));function Jv(t,r,i){const a=ht(),c=Mr(),d=t+rr,m=c.firstCreatePass?function BD(t,r,i,a,c){const d=r.consts,m=ia(d,a),I=Hu(r,t,8,"ng-container",m);return null!==m&&mp(I,m,!0),_c(r,i,I,ia(d,c)),null!==r.queries&&r.queries.elementStart(r,I),I}(d,c,a,r,i):c.data[d];go(m,!0);const I=ET(c,a,m,t);return a[d]=I,xl()&&Kf(c,a,I,m),Fo(I,a),cn(m)&&(ph(c,a,m),fh(c,m,a)),null!=i&&pm(a,m),Jv}function eI(){let t=Tr();const r=Mr();return Dc()?La():(t=t.parent,go(t,!1)),r.firstCreatePass&&(ic(r,t),qa(t)&&r.queries.elementEnd(t)),eI}function I0(t,r,i){return Jv(t,r,i),eI(),I0}let ET=(t,r,i,a)=>(Lo(!0),ah(r[Kt],""));function wT(){return ht()}const Wh=void 0;var GD=["en",[["a","p"],["AM","PM"],Wh],[["AM","PM"],Wh,Wh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Wh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Wh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Wh,"{1} 'at' {0}",Wh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function $D(t){const i=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===a?1:5}];let $p={};function E0(t){const r=function WD(t){return t.toLowerCase().replace(/_/g,"-")}(t);let i=AT(r);if(i)return i;const a=r.split("-")[0];if(i=AT(a),i)return i;if("en"===a)return GD;throw new Ot(701,!1)}function bT(t){return E0(t)[Gp.PluralCase]}function AT(t){return t in $p||($p[t]=It.ng&&It.ng.common&&It.ng.common.locales&&It.ng.common.locales[t]),$p[t]}var Gp=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Gp||{});const Wp="en-US";let DT=Wp;function C0(t,r,i,a){const c=ht(),d=Mr(),m=Tr();return b0(d,c,c[Kt],m,t,r,a),C0}function b0(t,r,i,a,c,d,m){const I=cn(a),k=t.firstCreatePass&&Ky(t),q=r[Qt],ce=Jf(r);let xe=!0;if(3&a.type||m){const Et=Ls(a,r),Wt=m?m(Et):Et,un=ce.length,Rt=m?oi=>m(ri(oi[a.index])):a.index;let cr=null;if(!m&&I&&(cr=function jS(t,r,i,a){const c=t.cleanup;if(null!=c)for(let d=0;d<c.length-1;d+=2){const m=c[d];if(m===i&&c[d+1]===a){const I=r[_n],A=c[d+2];return I.length>A?I[A]:null}"string"==typeof m&&(d+=2)}return null}(t,r,c,a.index)),null!==cr)(cr.__ngLastListenerFn__||cr).__ngNextListenerFn__=d,cr.__ngLastListenerFn__=d,xe=!1;else{d=tC(a,r,q,d,!1);const oi=i.listen(Wt,c,d);ce.push(d,oi),k&&k.push(c,Rt,un,un+1)}}else d=tC(a,r,q,d,!1);const Be=a.outputs;let tt;if(xe&&null!==Be&&(tt=Be[c])){const Et=tt.length;if(Et)for(let Wt=0;Wt<Et;Wt+=2){const Mi=r[tt[Wt]][tt[Wt+1]].subscribe(d),yo=ce.length;ce.push(d,Mi),k&&k.push(c,a.index,yo,-(yo+1))}}}function eC(t,r,i,a){const c=W(null);try{return as(6,r,i),!1!==i(a)}catch(d){return nu(t,d),!1}finally{as(7,r,i),W(c)}}function tC(t,r,i,a,c){return function d(m){if(m===Function)return a;Ch(t.componentOffset>-1?po(t.index,r):r);let A=eC(r,i,a,m),k=d.__ngNextListenerFn__;for(;k;)A=eC(r,i,k,m)&&A,k=k.__ngNextListenerFn__;return c&&!1===A&&m.preventDefault(),A}}function nC(t=1){return function bi(t){return(An.lFrame.contextLView=function Jh(t,r){for(;t>0;)r=r[en],t--;return r}(t,An.lFrame.contextLView))[Qt]}(t)}function HS(t,r){let i=null;const a=function gn(t){const r=t.attrs;if(null!=r){const i=r.indexOf(5);if(!(1&i))return r[i+1]}return null}(t);for(let c=0;c<r.length;c++){const d=r[c];if("*"!==d){if(null===a?Pe(t,d,!0):Gs(a,d))return c}else i=c}return i}function rC(t){const r=ht()[Vt][sn];if(!r.projection){const a=r.projection=function rs(t,r){const i=[];for(let a=0;a<t;a++)i.push(r);return i}(t?t.length:1,null),c=a.slice();let d=r.child;for(;null!==d;){const m=t?HS(d,t):0;null!==m&&(c[m]?c[m].projectionNext=d:a[m]=d,c[m]=d),d=d.next}}}function iC(t,r=0,i){const a=ht(),c=Mr(),d=Hu(c,rr+t,16,null,i||null);null===d.projection&&(d.projection=r),La(),(!a[wn]||Kr())&&32&~d.flags&&function lm(t,r,i){cm(r[Kt],0,r,i,rm(t,i,r),Zc(i.parent||r[sn],i,r))}(c,a,d)}function pC(t,r,i,a){!function ME(t,r,i,a){const c=Mr();if(c.firstCreatePass){const d=Tr();xE(c,new bv(r,i,a),d.index),function OE(t,r){const i=t.contentQueries||(t.contentQueries=[]);r!==(i.length?i[i.length-1]:-1)&&i.push(t.queries.length-1,r)}(c,t),!(2&~i)&&(c.staticContentQueries=!0)}return Dv(c,ht(),i)}(t,r,i,a)}function gC(t,r,i){!function PE(t,r,i){const a=Mr();return a.firstCreatePass&&(xE(a,new bv(t,r,i),-1),!(2&~r)&&(a.staticViewQueries=!0)),Dv(a,ht(),r)}(t,r,i)}function mC(t){const r=ht(),i=Mr(),a=Rl();Pl(a+1);const c=a_(i,a);if(t.dirty&&function Yh(t){return!(4&~t[Ue])}(r)===!(2&~c.metadata.flags)){if(null===c.matches)t.reset([]);else{const d=Sv(r,a);t.reset(d,W_),t.notifyOnChanges()}return!0}return!1}function _C(){return function o_(t,r){return t[it].queries[r].queryList}(ht(),Rl())}function yC(t){return function Jl(t,r){return t[r]}(function Za(){return An.lFrame.contextLView}(),rr+t)}function SC(t,r=""){const i=ht(),a=Mr(),c=t+rr,d=a.firstCreatePass?Hu(a,c,1,r,null):a.data[c],m=RC(a,i,d,r,t);i[c]=m,xl()&&Kf(a,i,m,d),go(d,!1)}let RC=(t,r,i,a,c)=>(Lo(!0),function sh(t,r){return t.createText(r)}(r[Kt],a));function D0(t){return sI("",t,""),D0}function sI(t,r,i){const a=ht(),c=function Np(t,r,i,a){return Lt(t,sa(),i)?r+Tn(i)+a:gr}(a,t,r,i);return c!==gr&&jl(a,Ui(),c),sI}function S0(t,r,i,a,c){const d=ht(),m=kp(d,t,r,i,a,c);return m!==gr&&jl(d,Ui(),m),S0}function R0(t,r,i){Pv(r)&&(r=r());const a=ht();return Lt(a,sa(),r)&&aa(Mr(),vi(),a,t,r,a[Kt],i,!1),R0}function FC(t,r){const i=Pv(t);return i&&t.set(r),i}function P0(t,r){const i=ht(),a=Mr(),c=Tr();return b0(a,i,i[Kt],c,t,r),P0}function M0(t,r,i,a,c){if(t=Fe(t),Array.isArray(t))for(let d=0;d<t.length;d++)M0(t[d],r,i,a,c);else{const d=Mr(),m=ht(),I=Tr();let A=co(t)?t:Fe(t.provide);const k=Ka(t),q=1048575&I.providerIndexes,ce=I.directiveStart,xe=I.providerIndexes>>20;if(co(t)||!t.multi){const Be=new Nl(k,c,Bu),tt=O0(A,r,c?q:q+xe,ce);-1===tt?(Mn(Le(I,m),d,A),x0(d,t,r.length),r.push(A),I.directiveStart++,I.directiveEnd++,c&&(I.providerIndexes+=1048576),i.push(Be),m.push(Be)):(i[tt]=Be,m[tt]=Be)}else{const Be=O0(A,r,q+xe,ce),tt=O0(A,r,q,q+xe),Wt=tt>=0&&i[tt];if(c&&!Wt||!c&&!(Be>=0&&i[Be])){Mn(Le(I,m),d,A);const un=function aR(t,r,i,a,c){const d=new Nl(t,i,Bu);return d.multi=[],d.index=r,d.componentProviders=0,VC(d,c,a&&!i),d}(c?oR:sR,i.length,c,a,k);!c&&Wt&&(i[tt].providerFactory=un),x0(d,t,r.length,0),r.push(A),I.directiveStart++,I.directiveEnd++,c&&(I.providerIndexes+=1048576),i.push(un),m.push(un)}else x0(d,t,Be>-1?Be:tt,VC(i[c?tt:Be],k,!c&&a));!c&&a&&Wt&&i[tt].componentProviders++}}}function x0(t,r,i,a){const c=co(r),d=function Tl(t){return!!t.useClass}(r);if(c||d){const A=(d?Fe(r.useClass):r).prototype.ngOnDestroy;if(A){const k=t.destroyHooks||(t.destroyHooks=[]);if(!c&&r.multi){const q=k.indexOf(i);-1===q?k.push(i,[a,A]):k[q+1].push(a,A)}else k.push(i,A)}}}function VC(t,r,i){return i&&t.componentProviders++,t.multi.push(r)-1}function O0(t,r,i,a){for(let c=i;c<a;c++)if(r[c]===t)return c;return-1}function sR(t,r,i,a){return N0(this.multi,[])}function oR(t,r,i,a){const c=this.multi;let d;if(this.providerFactory){const m=this.providerFactory.componentProviders,I=Ja(i,i[Ce],this.providerFactory.index,a);d=I.slice(0,m),N0(c,d);for(let A=m;A<I.length;A++)d.push(I[A])}else d=[],N0(c,d);return d}function N0(t,r){for(let i=0;i<t.length;i++)r.push((0,t[i])());return r}function UC(t,r=[]){return i=>{i.providersResolver=(a,c)=>function iR(t,r,i){const a=Mr();if(a.firstCreatePass){const c=_i(t);M0(i,a.data,a.blueprint,c,!0),M0(r,a.data,a.blueprint,c,!1)}}(a,c?c(t):t,r)}}let lR=(()=>{class t{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){const a=lo(0,i.type),c=a.length>0?y_([a],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,c)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(const i of this.cachedInjectors.values())null!==i&&i.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=sr({token:t,providedIn:"environment",factory:()=>new t(Ei(ki))})}return t})();function BC(t){Ha("NgStandalone"),t.getStandaloneInjector=r=>r.get(lR).getOrCreateStandaloneInjector(t)}function HC(t,r,i,a){return function WC(t,r,i,a,c,d){const m=r+i;return Lt(t,m,c)?et(t,m+1,d?a.call(d,c):a(c)):R_(t,m+1)}(ht(),Ri(),t,r,i,a)}function $C(t,r,i,a,c){return function zC(t,r,i,a,c,d,m){const I=r+i;return qt(t,I,c,d)?et(t,I+2,m?a.call(m,c,d):a(c,d)):R_(t,I+2)}(ht(),Ri(),t,r,i,a,c)}function GC(t,r,i,a,c,d){return function KC(t,r,i,a,c,d,m,I){const A=r+i;return function Un(t,r,i,a,c){const d=qt(t,r,i,a);return Lt(t,r+2,c)||d}(t,A,c,d,m)?et(t,A+3,I?a.call(I,c,d,m):a(c,d,m)):R_(t,A+3)}(ht(),Ri(),t,r,i,a,c,d)}function R_(t,r){const i=t[r];return i===gr?void 0:i}class db{constructor(r){this.full=r;const i=r.split(".");this.major=i[0],this.minor=i[1],this.patch=i.slice(2).join(".")}}const KR=new db("17.3.2");let hb=(()=>{class t{log(i){console.log(i)}warn(i){console.warn(i)}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=sr({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const _b=new rt(""),yb=new rt("");let B0,I1=(()=>{class t{constructor(i,a,c){this._ngZone=i,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,B0||(function E1(t){B0=t}(c),c.addToWindow(a)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ls.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb()}});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(i)||(clearTimeout(a.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,a,c){let d=-1;a&&a>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==d),i()},a)),this._callbacks.push({doneCb:i,timeoutId:d,updateCb:c})}whenStable(i,a,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,a,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,a,c){return[]}static#e=this.\u0275fac=function(a){return new(a||t)(Ei(ls),Ei(vb),Ei(yb))};static#t=this.\u0275prov=sr({token:t,factory:t.\u0275fac})}return t})(),vb=(()=>{class t{constructor(){this._applications=new Map}registerApplication(i,a){this._applications.set(i,a)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,a=!0){return B0?.findTestabilityInTree(this,i,a)??null}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=sr({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function j0(t){return!!t&&"function"==typeof t.then}function Ib(t){return!!t&&"function"==typeof t.subscribe}const Eb=new rt("");let H0=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,a)=>{this.resolve=i,this.reject=a}),this.appInits=$n(Eb,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const i=[];for(const c of this.appInits){const d=c();if(j0(d))i.push(d);else if(Ib(d)){const m=new Promise((I,A)=>{d.subscribe({complete:I,error:A})});i.push(m)}}const a=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{a()}).catch(c=>{this.reject(c)}),0===i.length&&a(),this.initialized=!0}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=sr({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const $0=new rt("");function Cb(t,r){return Array.isArray(r)?r.reduce(Cb,t):{...t,...r}}let cd=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=$n(H_),this.afterRenderEffectManager=$n(Lh),this.externalTestViews=new Set,this.beforeRender=new xn.B,this.afterTick=new xn.B,this.componentTypes=[],this.components=[],this.isStable=$n(f).hasPendingTasks.pipe((0,Bn.T)(i=>!i)),this._injector=$n(ki)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,a){const c=i instanceof Ph;if(!this._injector.get(H0).done)throw!c&&pi(i),new Ot(405,!1);let m;m=c?i:this._injector.get(ou).resolveComponentFactory(i),this.componentTypes.push(m.componentType);const I=function w1(t){return t.isBoundToModule}(m)?void 0:this._injector.get(pu),k=m.create($r.NULL,[],a||m.selector,I),q=k.location.nativeElement,ce=k.injector.get(_b,null);return ce?.registerApplication(q),k.onDestroy(()=>{this.detachView(k.hostView),cI(this.components,k),ce?.unregisterApplication(q)}),this._loadComponent(k),k}tick(){this._tick(!0)}_tick(i){if(this._runningTick)throw new Ot(101,!1);const a=W(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(i)}catch(c){this.internalErrorHandler(c)}finally{this.afterTick.next(),this._runningTick=!1,W(a)}}detectChangesInAttachedViews(i){let a=0;const c=this.afterRenderEffectManager;for(;;){if(a===tp)throw new Ot(103,!1);if(i){const d=0===a;this.beforeRender.next(d);for(let{_lView:m,notifyErrorHandler:I}of this._views)C1(m,d,I)}if(a++,c.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:d})=>G0(d))&&(c.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:d})=>G0(d))))break}}attachView(i){const a=i;this._views.push(a),a.attachToAppRef(this)}detachView(i){const a=i;cI(this._views,a),a.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);const a=this._injector.get($0,[]);[...this._bootstrapListeners,...a].forEach(c=>c(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>cI(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new Ot(406,!1);const i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=sr({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function cI(t,r){const i=t.indexOf(r);i>-1&&t.splice(i,1)}function C1(t,r,i){!r&&!G0(t)||function b1(t,r,i){let a;i?(a=0,t[Ue]|=1024):a=64&t[Ue]?0:1,Wu(t,r,a)}(t,i,r)}function G0(t){return ec(t)}class A1{constructor(r,i){this.ngModuleFactory=r,this.componentFactories=i}}let D1=(()=>{class t{compileModuleSync(i){return new Ap(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){const a=this.compileModuleSync(i),d=Ys(gi(i).declarations).reduce((m,I)=>{const A=Jn(I);return A&&m.push(new ed(A)),m},[]);return new A1(a,d)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=sr({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),P1=(()=>{class t{constructor(){this.zone=$n(ls),this.applicationRef=$n(cd)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=sr({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function M1(){const t=$n(ls),r=$n(Aa);return i=>t.runOutsideAngular(()=>r.handleError(i))}let O1=(()=>{class t{constructor(){this.subscription=new Wn.yU,this.initialized=!1,this.zone=$n(ls),this.pendingTasks=$n(f)}initialize(){if(this.initialized)return;this.initialized=!0;let i=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(i=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ls.assertNotInAngularZone(),queueMicrotask(()=>{null!==i&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(i),i=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ls.assertInAngularZone(),i??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=sr({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const dI=new rt("",{providedIn:"root",factory:()=>$n(dI,lr.Optional|lr.SkipSelf)||function N1(){return typeof $localize<"u"&&$localize.locale||Wp}()}),k1=new rt("",{providedIn:"root",factory:()=>"USD"}),W0=new rt("");let Sb=(()=>{class t{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,a){const c=function Nh(t="zone.js",r){return"noop"===t?new Oh:"zone.js"===t?new ls(r):t}(a?.ngZone,function Db(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:a?.ngZoneEventCoalescing,runCoalescing:a?.ngZoneRunCoalescing}));return c.run(()=>{const d=function KE(t,r,i){return new __(t,r,i)}(i.moduleType,this.injector,function Ab(t){return[{provide:ls,useFactory:t},{provide:Qi,multi:!0,useFactory:()=>{const r=$n(P1,{optional:!0});return()=>r.initialize()}},{provide:Qi,multi:!0,useFactory:()=>{const r=$n(O1);return()=>{r.initialize()}}},{provide:H_,useFactory:M1}]}(()=>c)),m=d.injector.get(Aa,null);return c.runOutsideAngular(()=>{const I=c.onError.subscribe({next:A=>{m.handleError(A)}});d.onDestroy(()=>{cI(this._modules,d),I.unsubscribe()})}),function Tb(t,r,i){try{const a=i();return j0(a)?a.catch(c=>{throw r.runOutsideAngular(()=>t.handleError(c)),c}):a}catch(a){throw r.runOutsideAngular(()=>t.handleError(a)),a}}(m,c,()=>{const I=d.injector.get(H0);return I.runInitializers(),I.donePromise.then(()=>(function ST(t){"string"==typeof t&&(DT=t.toLowerCase().replace(/_/g,"-"))}(d.injector.get(dI,Wp)||Wp),this._moduleDoBootstrap(d),d))})})}bootstrapModule(i,a=[]){const c=Cb({},a);return function R1(t,r,i){const a=new Ap(i);return Promise.resolve(a)}(0,0,i).then(d=>this.bootstrapModuleFactory(d,c))}_moduleDoBootstrap(i){const a=i.injector.get(cd);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(c=>a.bootstrap(c));else{if(!i.instance.ngDoBootstrap)throw new Ot(-403,!1);i.instance.ngDoBootstrap(a)}this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ot(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const i=this._injector.get(W0,null);i&&(i.forEach(a=>a()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(a){return new(a||t)(Ei($r))};static#t=this.\u0275prov=sr({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),ud=null;const Rb=new rt("");function Pb(t,r,i=[]){const a=`Platform: ${r}`,c=new rt(a);return(d=[])=>{let m=z0();if(!m||m.injector.get(Rb,!1)){const I=[...i,...d,{provide:c,useValue:!0}];t?t(I):function F1(t){if(ud&&!ud.get(Rb,!1))throw new Ot(400,!1);(function wb(){!function Ct(t){vt=t}(()=>{throw new Ot(600,!1)})})(),ud=t;const r=t.get(Sb);(function xb(t){t.get(Eg,null)?.forEach(i=>i())})(t)}(function Mb(t=[],r){return $r.create({name:r,providers:[{provide:ya,useValue:"platform"},{provide:W0,useValue:new Set([()=>ud=null])},...t]})}(I,a))}return function V1(t){const r=z0();if(!r)throw new Ot(401,!1);return r}()}}function z0(){return ud?.get(Sb)??null}function B1(){return!1}let Nb=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=j1}return t})();function j1(t){return function H1(t,r,i){if(Hr(t)&&!i){const a=po(t.index,r);return new bh(a,a)}return 47&t.type?new bh(r[Vt],r):null}(Tr(),ht(),!(16&~t))}class Vb{constructor(){}supports(r){return M(r)}create(r){return new K1(r)}}const z1=(t,r)=>r;class K1{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||z1}forEachItem(r){let i;for(i=this._itHead;null!==i;i=i._next)r(i)}forEachOperation(r){let i=this._itHead,a=this._removalsHead,c=0,d=null;for(;i||a;){const m=!a||i&&i.currentIndex<Bb(a,c,d)?i:a,I=Bb(m,c,d),A=m.currentIndex;if(m===a)c--,a=a._nextRemoved;else if(i=i._next,null==m.previousIndex)c++;else{d||(d=[]);const k=I-c,q=A-c;if(k!=q){for(let xe=0;xe<k;xe++){const Be=xe<d.length?d[xe]:d[xe]=0,tt=Be+xe;q<=tt&&tt<k&&(d[xe]=Be+1)}d[m.previousIndex]=q-k}}I!==A&&r(m,I,A)}}forEachPreviousItem(r){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)r(i)}forEachAddedItem(r){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)r(i)}forEachMovedItem(r){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)r(i)}forEachRemovedItem(r){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)r(i)}forEachIdentityChange(r){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)r(i)}diff(r){if(null==r&&(r=[]),!M(r))throw new Ot(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let c,d,m,i=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let I=0;I<this.length;I++)d=r[I],m=this._trackByFn(I,d),null!==i&&Object.is(i.trackById,m)?(a&&(i=this._verifyReinsertion(i,d,m,I)),Object.is(i.item,d)||this._addIdentityChange(i,d)):(i=this._mismatch(i,d,m,I),a=!0),i=i._next}else c=0,function J(t,r){if(Array.isArray(t))for(let i=0;i<t.length;i++)r(t[i]);else{const i=t[Symbol.iterator]();let a;for(;!(a=i.next()).done;)r(a.value)}}(r,I=>{m=this._trackByFn(c,I),null!==i&&Object.is(i.trackById,m)?(a&&(i=this._verifyReinsertion(i,I,m,c)),Object.is(i.item,I)||this._addIdentityChange(i,I)):(i=this._mismatch(i,I,m,c),a=!0),i=i._next,c++}),this.length=c;return this._truncate(i),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,i,a,c){let d;return null===r?d=this._itTail:(d=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,i)||this._addIdentityChange(r,i),this._reinsertAfter(r,d,c)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,c))?(Object.is(r.item,i)||this._addIdentityChange(r,i),this._moveAfter(r,d,c)):r=this._addAfter(new q1(i,a),d,c),r}_verifyReinsertion(r,i,a,c){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==d?r=this._reinsertAfter(d,r._prev,c):r.currentIndex!=c&&(r.currentIndex=c,this._addToMoves(r,c)),r}_truncate(r){for(;null!==r;){const i=r._next;this._addToRemovals(this._unlink(r)),r=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,i,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const c=r._prevRemoved,d=r._nextRemoved;return null===c?this._removalsHead=d:c._nextRemoved=d,null===d?this._removalsTail=c:d._prevRemoved=c,this._insertAfter(r,i,a),this._addToMoves(r,a),r}_moveAfter(r,i,a){return this._unlink(r),this._insertAfter(r,i,a),this._addToMoves(r,a),r}_addAfter(r,i,a){return this._insertAfter(r,i,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,i,a){const c=null===i?this._itHead:i._next;return r._next=c,r._prev=i,null===c?this._itTail=r:c._prev=r,null===i?this._itHead=r:i._next=r,null===this._linkedRecords&&(this._linkedRecords=new Ub),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const i=r._prev,a=r._next;return null===i?this._itHead=a:i._next=a,null===a?this._itTail=i:a._prev=i,r}_addToMoves(r,i){return r.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ub),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,i){return r.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class q1{constructor(r,i){this.item=r,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Q1{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,i){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===i||i<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const i=r._prevDup,a=r._nextDup;return null===i?this._head=a:i._nextDup=a,null===a?this._tail=i:a._prevDup=i,null===this._head}}class Ub{constructor(){this.map=new Map}put(r){const i=r.trackById;let a=this.map.get(i);a||(a=new Q1,this.map.set(i,a)),a.add(r)}get(r,i){const c=this.map.get(r);return c?c.get(r,i):null}remove(r){const i=r.trackById;return this.map.get(i).remove(r)&&this.map.delete(i),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Bb(t,r,i){const a=t.previousIndex;if(null===a)return a;let c=0;return i&&a<i.length&&(c=i[a]),a+r+c}class jb{constructor(){}supports(r){return r instanceof Map||fe(r)}create(){return new X1}}class X1{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let i;for(i=this._mapHead;null!==i;i=i._next)r(i)}forEachPreviousItem(r){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)r(i)}forEachChangedItem(r){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)r(i)}forEachAddedItem(r){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)r(i)}forEachRemovedItem(r){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)r(i)}diff(r){if(r){if(!(r instanceof Map||fe(r)))throw new Ot(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,c)=>{if(i&&i.key===c)this._maybeAddToChanges(i,a),this._appendAfter=i,i=i._next;else{const d=this._getOrCreateRecordForKey(c,a);i=this._insertBeforeOrAppend(i,d)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let a=i;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,i){if(r){const a=r._prev;return i._next=r,i._prev=a,r._prev=i,a&&(a._next=i),r===this._mapHead&&(this._mapHead=i),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(r,i){if(this._records.has(r)){const c=this._records.get(r);this._maybeAddToChanges(c,i);const d=c._prev,m=c._next;return d&&(d._next=m),m&&(m._prev=d),c._next=null,c._prev=null,c}const a=new Y1(r);return this._records.set(r,a),a.currentValue=i,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,i){Object.is(i,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=i,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,i){r instanceof Map?r.forEach(i):Object.keys(r).forEach(a=>i(r[a],a))}}class Y1{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Hb(){return new Y0([new Vb])}let Y0=(()=>{class t{static#e=this.\u0275prov=sr({token:t,providedIn:"root",factory:Hb});constructor(i){this.factories=i}static create(i,a){if(null!=a){const c=a.factories.slice();i=i.concat(c)}return new t(i)}static extend(i){return{provide:t,useFactory:a=>t.create(i,a||Hb()),deps:[[t,new wi,new qi]]}}find(i){const a=this.factories.find(c=>c.supports(i));if(null!=a)return a;throw new Ot(901,!1)}}return t})();function $b(){return new Z0([new jb])}let Z0=(()=>{class t{static#e=this.\u0275prov=sr({token:t,providedIn:"root",factory:$b});constructor(i){this.factories=i}static create(i,a){if(a){const c=a.factories.slice();i=i.concat(c)}return new t(i)}static extend(i){return{provide:t,useFactory:a=>t.create(i,a||$b()),deps:[[t,new wi,new qi]]}}find(i){const a=this.factories.find(c=>c.supports(i));if(a)return a;throw new Ot(901,!1)}}return t})();const eP=Pb(null,"core",[]);let tP=(()=>{class t{constructor(i){}static#e=this.\u0275fac=function(a){return new(a||t)(Ei(cd))};static#t=this.\u0275mod=Go({type:t});static#n=this.\u0275inj=Yi({})}return t})();function PP(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function xP(t){const r=W(null);try{return t()}finally{W(r)}}function VP(t){const r=Jn(t);if(!r)return null;const i=new ed(r);return{get selector(){return i.selector},get type(){return i.componentType},get inputs(){return i.inputs},get outputs(){return i.outputs},get ngContentSelectors(){return i.ngContentSelectors},get isStandalone(){return r.standalone},get isSignal(){return r.signals}}}},1182:(zt,ze,L)=>{L.d(ze,{DS:()=>Ze,X8:()=>dt,$z:()=>Ct,UB:()=>He,yy:()=>vt,ZP:()=>nn,AU:()=>Me,CP:()=>In,gF:()=>lt}),L(2438);var F=L(177),_=L(4438),_e=L(1825),V=L(9253),Q=L(1413),W=L(7673),oe=L(1985),de=L(8455),ne=L(6365),le=L(8750),Re=L(983),We=L(9326),yt=L(941),At=L(5558),ut=L(6354),ft=L(6129);class Ut extends Q.B{constructor(Pt=1/0,Gt=1/0,on=ft.U){super(),this._bufferSize=Pt,this._windowTime=Gt,this._timestampProvider=on,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Gt===1/0,this._bufferSize=Math.max(1,Pt),this._windowTime=Math.max(1,Gt)}next(Pt){const{isStopped:Gt,_buffer:on,_infiniteTimeWindow:Mt,_timestampProvider:fn,_windowTime:Dn}=this;Gt||(on.push(Pt),!Mt&&on.push(fn.now()+Dn)),this._trimBuffer(),super.next(Pt)}_subscribe(Pt){this._throwIfClosed(),this._trimBuffer();const Gt=this._innerSubscribe(Pt),{_infiniteTimeWindow:on,_buffer:Mt}=this,fn=Mt.slice();for(let Dn=0;Dn<fn.length&&!Pt.closed;Dn+=on?1:2)Pt.next(fn[Dn]);return this._checkFinalizedStatuses(Pt),Gt}_trimBuffer(){const{_bufferSize:Pt,_timestampProvider:Gt,_buffer:on,_infiniteTimeWindow:Mt}=this,fn=(Mt?1:2)*Pt;if(Pt<1/0&&fn<on.length&&on.splice(0,on.length-fn),!Mt){const Dn=Gt.now();let xn=0;for(let Wn=1;Wn<on.length&&on[Wn]<=Dn;Wn+=2)xn=Wn;xn&&on.splice(0,xn+1)}}}var Bt=L(7707),Ge=L(9974);function De(Qe,Pt,...Gt){if(!0===Pt)return void Qe();if(!1===Pt)return;const on=new Bt.Ms({next:()=>{on.unsubscribe(),Qe()}});return(0,le.Tg)(Pt(...Gt)).subscribe(on)}function ye(Qe,Pt,Gt){let on,Mt=!1;return Qe&&"object"==typeof Qe?({bufferSize:on=1/0,windowTime:Pt=1/0,refCount:Mt=!1,scheduler:Gt}=Qe):on=Qe??1/0,function Ve(Qe={}){const{connector:Pt=(()=>new Q.B),resetOnError:Gt=!0,resetOnComplete:on=!0,resetOnRefCountZero:Mt=!0}=Qe;return fn=>{let Dn,xn,Wn,Qn=0,Bn=!1,Yt=!1;const ir=()=>{xn?.unsubscribe(),xn=void 0},Ot=()=>{ir(),Dn=Wn=void 0,Bn=Yt=!1},Nn=()=>{const jn=Dn;Ot(),jn?.unsubscribe()};return(0,Ge.N)((jn,Er)=>{Qn++,!Yt&&!Bn&&ir();const Dr=Wn=Wn??Pt();Er.add(()=>{Qn--,0===Qn&&!Yt&&!Bn&&(xn=De(Nn,Mt))}),Dr.subscribe(Er),!Dn&&Qn>0&&(Dn=new Bt.Ms({next:Sr=>Dr.next(Sr),error:Sr=>{Yt=!0,ir(),xn=De(Ot,Gt,Sr),Dr.error(Sr)},complete:()=>{Bn=!0,ir(),xn=De(Ot,on),Dr.complete()}}),(0,le.Tg)(jn).subscribe(Dn))})(fn)}}({connector:()=>new Ut(on,Pt,Gt),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Mt})}var be=L(1594),Xe=L(8071);function ue(Qe,Pt){return(0,Xe.T)(Pt)?(0,At.n)(()=>Qe,Pt):(0,At.n)(()=>Qe)}var Se=L(6745),pt=L(5964),Ee=L(7935);const In=new _.nKC("angularfire2.auth.use-emulator"),vt=new _.nKC("angularfire2.auth.settings"),nn=new _.nKC("angularfire2.auth.tenant-id"),Ct=new _.nKC("angularfire2.auth.langugage-code"),Me=new _.nKC("angularfire2.auth.use-device-language"),He=new _.nKC("angularfire.auth.persistence"),lt=(Qe,Pt,Gt,on,Mt,fn,Dn,xn)=>(0,V.BM)(`${Qe.name}.auth`,"AngularFireAuth",Qe.name,()=>{const Wn=Pt.runOutsideAngular(()=>Qe.auth());if(Gt&&Wn.useEmulator(...Gt),on&&(Wn.tenantId=on),Wn.languageCode=Mt,fn&&Wn.useDeviceLanguage(),Dn)for(const[Qn,Bn]of Object.entries(Dn))Wn.settings[Qn]=Bn;return xn&&Wn.setPersistence(xn),Wn},[Gt,on,Mt,fn,Dn,xn]);let Ze=(()=>{class Qe{authState;idToken;user;idTokenResult;credential;constructor(Gt,on,Mt,fn,Dn,xn,Wn,Qn,Bn,Yt,ir,Ot){const Nn=new Q.B,jn=(0,W.of)(void 0).pipe((0,yt.Q)(Dn.outsideAngular),(0,At.n)(()=>fn.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,2438)))),(0,ut.T)(()=>(0,V.iB)(Gt,fn,on)),(0,ut.T)(Er=>lt(Er,fn,xn,Qn,Bn,Yt,Wn,ir)),ye({bufferSize:1,refCount:!1}));if((0,F.Vy)(Mt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,W.of)(null);else{jn.pipe((0,be.$)()).subscribe();const Er=jn.pipe((0,At.n)(er=>er.getRedirectResult().then(an=>an,()=>null)),_e.U0,ye({bufferSize:1,refCount:!1})),Dr=jn.pipe((0,At.n)(er=>new oe.c(an=>({unsubscribe:fn.runOutsideAngular(()=>er.onAuthStateChanged(dn=>an.next(dn),dn=>an.error(dn),()=>an.complete()))})))),Sr=jn.pipe((0,At.n)(er=>new oe.c(an=>({unsubscribe:fn.runOutsideAngular(()=>er.onIdTokenChanged(dn=>an.next(dn),dn=>an.error(dn),()=>an.complete()))}))));this.authState=Er.pipe(ue(Dr),(0,Se._)(Dn.outsideAngular),(0,yt.Q)(Dn.insideAngular)),this.user=Er.pipe(ue(Sr),(0,Se._)(Dn.outsideAngular),(0,yt.Q)(Dn.insideAngular)),this.idToken=this.user.pipe((0,At.n)(er=>er?(0,de.H)(er.getIdToken()):(0,W.of)(null))),this.idTokenResult=this.user.pipe((0,At.n)(er=>er?(0,de.H)(er.getIdTokenResult()):(0,W.of)(null))),this.credential=function Ke(...Qe){const Pt=(0,We.lI)(Qe),Gt=(0,We.R0)(Qe,1/0),on=Qe;return on.length?1===on.length?(0,le.Tg)(on[0]):(0,ne.U)(Gt)((0,de.H)(on,Pt)):Re.w}(Er,Nn,this.authState.pipe((0,pt.p)(er=>!er))).pipe((0,ut.T)(er=>er?.user?er:null),(0,Se._)(Dn.outsideAngular),(0,yt.Q)(Dn.insideAngular))}return(0,V.Gt)(this,jn,fn,{spy:{apply:(Er,Dr,Sr)=>{(Er.startsWith("signIn")||Er.startsWith("createUser"))&&Sr.then(er=>Nn.next(er))}}})}static \u0275fac=function(on){return new(on||Qe)(_.KVO(V.rx),_.KVO(V.uP,8),_.KVO(_.Agw),_.KVO(_.SKi),_.KVO(_e.u0),_.KVO(In,8),_.KVO(vt,8),_.KVO(nn,8),_.KVO(Ct,8),_.KVO(Me,8),_.KVO(He,8),_.KVO(_e.Jv,8))};static \u0275prov=_.jDH({token:Qe,factory:Qe.\u0275fac,providedIn:"any"})}return Qe})(),dt=(()=>{class Qe{constructor(){Ee.A.registerVersion("angularfire",_e.xv.full,"auth-compat")}static \u0275fac=function(on){return new(on||Qe)};static \u0275mod=_.$C({type:Qe});static \u0275inj=_.G2t({providers:[Ze]})}return Qe})()},9253:(zt,ze,L)=>{L.d(ze,{BM:()=>Ke,Gt:()=>V,bf:()=>We,e7:()=>Q,iB:()=>ne,rx:()=>oe,uP:()=>de});var p=L(4438),F=L(1825),_=L(7935);const _e=["ngOnDestroy"],V=(ft,Ut,Bt,Ge={})=>new Proxy(ft,{get:(Ve,De)=>Bt.runOutsideAngular(()=>{if(ft[De])return Ge?.spy?.get&&Ge.spy.get(De,ft[De]),ft[De];if(_e.indexOf(De)>-1)return()=>{};const ye=Ut.toPromise().then(be=>{const Xe=be?.[De];return"function"==typeof Xe?Xe.bind(be):Xe?.then?Xe.then(ue=>Bt.run(()=>ue)):Bt.run(()=>Xe)});return new Proxy(()=>{},{get:(be,Xe)=>ye[Xe],apply:(be,Xe,ue)=>ye.then(Se=>{const pt=Se?.(...ue);return Ge?.spy?.apply&&Ge.spy.apply(De,ue,pt),pt})})})}),Q=(ft,Ut)=>{Ut.forEach(Bt=>{Object.getOwnPropertyNames(Bt.prototype||Bt).forEach(Ge=>{Object.defineProperty(ft.prototype,Ge,Object.getOwnPropertyDescriptor(Bt.prototype||Bt,Ge))})})};class W{constructor(Ut){return Ut}}const oe=new p.nKC("angularfire2.app.options"),de=new p.nKC("angularfire2.app.name");function ne(ft,Ut,Bt){const Ve="object"==typeof Bt&&Bt||{};Ve.name=Ve.name||"string"==typeof Bt&&Bt||"[DEFAULT]";const ye=_.A.apps.filter(be=>be&&be.name===Ve.name)[0]||Ut.runOutsideAngular(()=>_.A.initializeApp(ft,Ve));try{if(JSON.stringify(ft)!==JSON.stringify(ye.options)){const be=!!module.hot;le("error",`${ye.name} Firebase App already initialized with different options${be?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new W(ye)}const le=(ft,...Ut)=>{(0,p.naY)()&&typeof console<"u"&&console[ft](...Ut)},Re={provide:W,useFactory:ne,deps:[oe,p.SKi,[new p.Xx1,de]]};let We=(()=>{class ft{static initializeApp(Bt,Ge){return{ngModule:ft,providers:[{provide:oe,useValue:Bt},{provide:de,useValue:Ge}]}}constructor(Bt){_.A.registerVersion("angularfire",F.xv.full,"core"),_.A.registerVersion("angularfire",F.xv.full,"app-compat"),_.A.registerVersion("angular",p.xvI.full,Bt.toString())}static \u0275fac=function(Ge){return new(Ge||ft)(p.KVO(p.Agw))};static \u0275mod=p.$C({type:ft});static \u0275inj=p.G2t({providers:[Re]})}return ft})();function Ke(ft,Ut,Bt,Ge,Ve){const[,De,ye]=globalThis.\u0275AngularfireInstanceCache.find(be=>be[0]===ft)||[];if(De)return function yt(ft,Ut){try{return ft.toString()===Ut.toString()}catch{return ft===Ut}}(Ve,ye)||(ut("error",`${Ut} was already initialized on the ${Bt} Firebase App with different settings.${At?" You may need to reload as Firebase is not HMR aware.":""}`),ut("warn",{is:Ve,was:ye})),De;{const be=Ge();return globalThis.\u0275AngularfireInstanceCache.push([ft,be,Ve]),be}}const At=typeof module<"u"&&!!module.hot,ut=(ft,...Ut)=>{(0,p.naY)()&&typeof console<"u"&&console[ft](...Ut)};globalThis.\u0275AngularfireInstanceCache||=[]},1825:(zt,ze,L)=>{L.d(ze,{xv:()=>yt,U0:()=>Ee,u0:()=>ye,Jv:()=>Ut});var p=L(4438),F=L(7852);(0,F.registerVersion)("firebase","10.10.0","app");var V=L(6780),W=L(9687);const de=new class oe extends W.q{}(class Q extends V.R{constructor(Ct,Me){super(Ct,Me),this.scheduler=Ct,this.work=Me}schedule(Ct,Me=0){return Me>0?super.schedule(Ct,Me):(this.delay=Me,this.state=Ct,this.scheduler.flush(this),this)}execute(Ct,Me){return Me>0||this.closed?super.execute(Ct,Me):this._execute(Ct,Me)}requestAsyncId(Ct,Me,He=0){return null!=He&&He>0||null==He&&this.delay>0?super.requestAsyncId(Ct,Me,He):(Ct.flush(this),0)}});var le=L(3236),Re=L(8141),We=L(6745),Ke=L(941);const yt=new p.RxE("ANGULARFIRE2_VERSION");class Ut{constructor(){return((nn,Ct)=>{const Me=(0,F.getApps)(),He=[];return Me.forEach(lt=>{lt.container.getProvider(nn).instances.forEach(dt=>{He.includes(dt)||He.push(dt)})}),He})(Bt)}}const Bt="app-check";function Ge(){}class Ve{zone;delegate;constructor(Ct,Me=de){this.zone=Ct,this.delegate=Me}now(){return this.delegate.now()}schedule(Ct,Me,He){const lt=this.zone;return this.delegate.schedule(function(dt){lt.runGuarded(()=>{Ct.apply(this,[dt])})},Me,He)}}class De{zone;task=null;constructor(Ct){this.zone=Ct}call(Ct,Me){const He=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ge,{},Ge,Ge)),Me.pipe((0,Re.M)({next:He,complete:He,error:He})).subscribe(Ct).add(He)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ye=(()=>{class nn{ngZone;outsideAngular;insideAngular;constructor(Me){this.ngZone=Me,this.outsideAngular=Me.runOutsideAngular(()=>new Ve(Zone.current)),this.insideAngular=Me.run(()=>new Ve(Zone.current,le.E)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(He){return new(He||nn)(p.KVO(p.SKi))};static \u0275prov=p.jDH({token:nn,factory:nn.\u0275fac,providedIn:"root"})}return nn})();function Ee(nn){return function Ht(nn){return function(Me){return(Me=Me.lift(new De(nn.ngZone))).pipe((0,We._)(nn.outsideAngular),(0,Ke.Q)(nn.insideAngular))}}(function be(){const nn=globalThis.\u0275AngularFireScheduler;if(!nn)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return nn}())(nn)}},4341:(zt,ze,L)=>{L.d(ze,{Zm:()=>ut,me:()=>Ge,YN:()=>Do,kq:()=>yt,BC:()=>er,cb:()=>an,cV:()=>nr,vS:()=>lr,YS:()=>io,qT:()=>Ji});var p=L(4438),F=L(177),_=L(8455),_e=L(1985),V=L(3073),Q=L(8750),W=L(9326),oe=L(4360),de=L(6450),ne=L(8496),Re=L(6354);let We=(()=>{class G{constructor(x,se){this._renderer=x,this._elementRef=se,this.onChange=Pe=>{},this.onTouched=()=>{}}setProperty(x,se){this._renderer.setProperty(this._elementRef.nativeElement,x,se)}registerOnTouched(x){this.onTouched=x}registerOnChange(x){this.onChange=x}setDisabledState(x){this.setProperty("disabled",x)}static#e=this.\u0275fac=function(se){return new(se||G)(p.rXU(p.sFG),p.rXU(p.aKT))};static#t=this.\u0275dir=p.FsC({type:G})}return G})(),Ke=(()=>{class G extends We{static#e=this.\u0275fac=(()=>{let x;return function(Pe){return(x||(x=p.xGo(G)))(Pe||G)}})();static#t=this.\u0275dir=p.FsC({type:G,features:[p.Vt3]})}return G})();const yt=new p.nKC(""),At={provide:yt,useExisting:(0,p.Rfq)(()=>ut),multi:!0};let ut=(()=>{class G extends Ke{writeValue(x){this.setProperty("checked",x)}static#e=this.\u0275fac=(()=>{let x;return function(Pe){return(x||(x=p.xGo(G)))(Pe||G)}})();static#t=this.\u0275dir=p.FsC({type:G,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(se,Pe){1&se&&p.bIt("change",function(Yn){return Pe.onChange(Yn.target.checked)})("blur",function(){return Pe.onTouched()})},features:[p.Jv_([At]),p.Vt3]})}return G})();const ft={provide:yt,useExisting:(0,p.Rfq)(()=>Ge),multi:!0},Bt=new p.nKC("");let Ge=(()=>{class G extends We{constructor(x,se,Pe){super(x,se),this._compositionMode=Pe,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Ut(){const G=(0,F.QT)()?(0,F.QT)().getUserAgent():"";return/android (\d+)/.test(G.toLowerCase())}())}writeValue(x){this.setProperty("value",x??"")}_handleInput(x){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(x)}_compositionStart(){this._composing=!0}_compositionEnd(x){this._composing=!1,this._compositionMode&&this.onChange(x)}static#e=this.\u0275fac=function(se){return new(se||G)(p.rXU(p.sFG),p.rXU(p.aKT),p.rXU(Bt,8))};static#t=this.\u0275dir=p.FsC({type:G,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(se,Pe){1&se&&p.bIt("input",function(Yn){return Pe._handleInput(Yn.target.value)})("blur",function(){return Pe.onTouched()})("compositionstart",function(){return Pe._compositionStart()})("compositionend",function(Yn){return Pe._compositionEnd(Yn.target.value)})},features:[p.Jv_([ft]),p.Vt3]})}return G})();const ye=new p.nKC(""),be=new p.nKC("");function Ee(G){return function Ve(G){return null==G||("string"==typeof G||Array.isArray(G))&&0===G.length}(G.value)?{required:!0}:null}function Me(G){return null}function He(G){return null!=G}function lt(G){return(0,p.jNT)(G)?(0,_.H)(G):G}function Ze(G){let z={};return G.forEach(x=>{z=null!=x?{...z,...x}:z}),0===Object.keys(z).length?null:z}function dt(G,z){return z.map(x=>x(G))}function Pt(G){return G.map(z=>function Qe(G){return!G.validate}(z)?z:x=>z.validate(x))}function on(G){return null!=G?function Gt(G){if(!G)return null;const z=G.filter(He);return 0==z.length?null:function(x){return Ze(dt(x,z))}}(Pt(G)):null}function fn(G){return null!=G?function Mt(G){if(!G)return null;const z=G.filter(He);return 0==z.length?null:function(x){return function le(...G){const z=(0,W.ms)(G),{args:x,keys:se}=(0,V.D)(G),Pe=new _e.c(gn=>{const{length:Yn}=x;if(!Yn)return void gn.complete();const En=new Array(Yn);let Gs=Yn,Ms=Yn;for(let xs=0;xs<Yn;xs++){let Os=!1;(0,Q.Tg)(x[xs]).subscribe((0,oe._)(gn,ha=>{Os||(Os=!0,Ms--),En[xs]=ha},()=>Gs--,void 0,()=>{(!Gs||!Os)&&(Ms||gn.next(se?(0,ne.e)(se,En):En),gn.complete())}))}});return z?Pe.pipe((0,de.I)(z)):Pe}(dt(x,z).map(lt)).pipe((0,Re.T)(Ze))}}(Pt(G)):null}function Dn(G,z){return null===G?[z]:Array.isArray(G)?[...G,z]:[G,z]}function Qn(G){return G?Array.isArray(G)?G:[G]:[]}function Bn(G,z){return Array.isArray(G)?G.includes(z):G===z}function Yt(G,z){const x=Qn(z);return Qn(G).forEach(Pe=>{Bn(x,Pe)||x.push(Pe)}),x}function ir(G,z){return Qn(z).filter(x=>!Bn(G,x))}class Ot{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(z){this._rawValidators=z||[],this._composedValidatorFn=on(this._rawValidators)}_setAsyncValidators(z){this._rawAsyncValidators=z||[],this._composedAsyncValidatorFn=fn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(z){this._onDestroyCallbacks.push(z)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(z=>z()),this._onDestroyCallbacks=[]}reset(z=void 0){this.control&&this.control.reset(z)}hasError(z,x){return!!this.control&&this.control.hasError(z,x)}getError(z,x){return this.control?this.control.getError(z,x):null}}class Nn extends Ot{get formDirective(){return null}get path(){return null}}class jn extends Ot{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Er{constructor(z){this._cd=z}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let er=(()=>{class G extends Er{constructor(x){super(x)}static#e=this.\u0275fac=function(se){return new(se||G)(p.rXU(jn,2))};static#t=this.\u0275dir=p.FsC({type:G,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(se,Pe){2&se&&p.AVh("ng-untouched",Pe.isUntouched)("ng-touched",Pe.isTouched)("ng-pristine",Pe.isPristine)("ng-dirty",Pe.isDirty)("ng-valid",Pe.isValid)("ng-invalid",Pe.isInvalid)("ng-pending",Pe.isPending)},features:[p.Vt3]})}return G})(),an=(()=>{class G extends Er{constructor(x){super(x)}static#e=this.\u0275fac=function(se){return new(se||G)(p.rXU(Nn,10))};static#t=this.\u0275dir=p.FsC({type:G,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(se,Pe){2&se&&p.AVh("ng-untouched",Pe.isUntouched)("ng-touched",Pe.isTouched)("ng-pristine",Pe.isPristine)("ng-dirty",Pe.isDirty)("ng-valid",Pe.isValid)("ng-invalid",Pe.isInvalid)("ng-pending",Pe.isPending)("ng-submitted",Pe.isSubmitted)},features:[p.Vt3]})}return G})();const Fe="VALID",qe="INVALID",me="PENDING",Oe="DISABLED";function ae(G){return(X(G)?G.validators:G)||null}function Y(G,z){return(X(z)?z.asyncValidators:G)||null}function X(G){return null!=G&&!Array.isArray(G)&&"object"==typeof G}class $t{constructor(z,x){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(z),this._assignAsyncValidators(x)}get validator(){return this._composedValidatorFn}set validator(z){this._rawValidators=this._composedValidatorFn=z}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(z){this._rawAsyncValidators=this._composedAsyncValidatorFn=z}get parent(){return this._parent}get valid(){return this.status===Fe}get invalid(){return this.status===qe}get pending(){return this.status==me}get disabled(){return this.status===Oe}get enabled(){return this.status!==Oe}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(z){this._assignValidators(z)}setAsyncValidators(z){this._assignAsyncValidators(z)}addValidators(z){this.setValidators(Yt(z,this._rawValidators))}addAsyncValidators(z){this.setAsyncValidators(Yt(z,this._rawAsyncValidators))}removeValidators(z){this.setValidators(ir(z,this._rawValidators))}removeAsyncValidators(z){this.setAsyncValidators(ir(z,this._rawAsyncValidators))}hasValidator(z){return Bn(this._rawValidators,z)}hasAsyncValidator(z){return Bn(this._rawAsyncValidators,z)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(z={}){this.touched=!0,this._parent&&!z.onlySelf&&this._parent.markAsTouched(z)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(z=>z.markAllAsTouched())}markAsUntouched(z={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(x=>{x.markAsUntouched({onlySelf:!0})}),this._parent&&!z.onlySelf&&this._parent._updateTouched(z)}markAsDirty(z={}){this.pristine=!1,this._parent&&!z.onlySelf&&this._parent.markAsDirty(z)}markAsPristine(z={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(x=>{x.markAsPristine({onlySelf:!0})}),this._parent&&!z.onlySelf&&this._parent._updatePristine(z)}markAsPending(z={}){this.status=me,!1!==z.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!z.onlySelf&&this._parent.markAsPending(z)}disable(z={}){const x=this._parentMarkedDirty(z.onlySelf);this.status=Oe,this.errors=null,this._forEachChild(se=>{se.disable({...z,onlySelf:!0})}),this._updateValue(),!1!==z.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...z,skipPristineCheck:x}),this._onDisabledChange.forEach(se=>se(!0))}enable(z={}){const x=this._parentMarkedDirty(z.onlySelf);this.status=Fe,this._forEachChild(se=>{se.enable({...z,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:z.emitEvent}),this._updateAncestors({...z,skipPristineCheck:x}),this._onDisabledChange.forEach(se=>se(!1))}_updateAncestors(z){this._parent&&!z.onlySelf&&(this._parent.updateValueAndValidity(z),z.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(z){this._parent=z}getRawValue(){return this.value}updateValueAndValidity(z={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Fe||this.status===me)&&this._runAsyncValidator(z.emitEvent)),!1!==z.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!z.onlySelf&&this._parent.updateValueAndValidity(z)}_updateTreeValidity(z={emitEvent:!0}){this._forEachChild(x=>x._updateTreeValidity(z)),this.updateValueAndValidity({onlySelf:!0,emitEvent:z.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Oe:Fe}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(z){if(this.asyncValidator){this.status=me,this._hasOwnPendingAsyncValidator=!0;const x=lt(this.asyncValidator(this));this._asyncValidationSubscription=x.subscribe(se=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(se,{emitEvent:z})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(z,x={}){this.errors=z,this._updateControlsErrors(!1!==x.emitEvent)}get(z){let x=z;return null==x||(Array.isArray(x)||(x=x.split(".")),0===x.length)?null:x.reduce((se,Pe)=>se&&se._find(Pe),this)}getError(z,x){const se=x?this.get(x):this;return se&&se.errors?se.errors[z]:null}hasError(z,x){return!!this.getError(z,x)}get root(){let z=this;for(;z._parent;)z=z._parent;return z}_updateControlsErrors(z){this.status=this._calculateStatus(),z&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(z)}_initObservables(){this.valueChanges=new p.bkB,this.statusChanges=new p.bkB}_calculateStatus(){return this._allControlsDisabled()?Oe:this.errors?qe:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(me)?me:this._anyControlsHaveStatus(qe)?qe:Fe}_anyControlsHaveStatus(z){return this._anyControls(x=>x.status===z)}_anyControlsDirty(){return this._anyControls(z=>z.dirty)}_anyControlsTouched(){return this._anyControls(z=>z.touched)}_updatePristine(z={}){this.pristine=!this._anyControlsDirty(),this._parent&&!z.onlySelf&&this._parent._updatePristine(z)}_updateTouched(z={}){this.touched=this._anyControlsTouched(),this._parent&&!z.onlySelf&&this._parent._updateTouched(z)}_registerOnCollectionChange(z){this._onCollectionChange=z}_setUpdateStrategy(z){X(z)&&null!=z.updateOn&&(this._updateOn=z.updateOn)}_parentMarkedDirty(z){return!z&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(z){return null}_assignValidators(z){this._rawValidators=Array.isArray(z)?z.slice():z,this._composedValidatorFn=function he(G){return Array.isArray(G)?on(G):G||null}(this._rawValidators)}_assignAsyncValidators(z){this._rawAsyncValidators=Array.isArray(z)?z.slice():z,this._composedAsyncValidatorFn=function re(G){return Array.isArray(G)?fn(G):G||null}(this._rawAsyncValidators)}}class Fn extends $t{constructor(z,x,se){super(ae(x),Y(se,x)),this.controls=z,this._initObservables(),this._setUpdateStrategy(x),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(z,x){return this.controls[z]?this.controls[z]:(this.controls[z]=x,x.setParent(this),x._registerOnCollectionChange(this._onCollectionChange),x)}addControl(z,x,se={}){this.registerControl(z,x),this.updateValueAndValidity({emitEvent:se.emitEvent}),this._onCollectionChange()}removeControl(z,x={}){this.controls[z]&&this.controls[z]._registerOnCollectionChange(()=>{}),delete this.controls[z],this.updateValueAndValidity({emitEvent:x.emitEvent}),this._onCollectionChange()}setControl(z,x,se={}){this.controls[z]&&this.controls[z]._registerOnCollectionChange(()=>{}),delete this.controls[z],x&&this.registerControl(z,x),this.updateValueAndValidity({emitEvent:se.emitEvent}),this._onCollectionChange()}contains(z){return this.controls.hasOwnProperty(z)&&this.controls[z].enabled}setValue(z,x={}){(function gt(G,z,x){G._forEachChild((se,Pe)=>{if(void 0===x[Pe])throw new p.wOt(1002,"")})})(this,0,z),Object.keys(z).forEach(se=>{(function ke(G,z,x){const se=G.controls;if(!(z?Object.keys(se):se).length)throw new p.wOt(1e3,"");if(!se[x])throw new p.wOt(1001,"")})(this,!0,se),this.controls[se].setValue(z[se],{onlySelf:!0,emitEvent:x.emitEvent})}),this.updateValueAndValidity(x)}patchValue(z,x={}){null!=z&&(Object.keys(z).forEach(se=>{const Pe=this.controls[se];Pe&&Pe.patchValue(z[se],{onlySelf:!0,emitEvent:x.emitEvent})}),this.updateValueAndValidity(x))}reset(z={},x={}){this._forEachChild((se,Pe)=>{se.reset(z?z[Pe]:null,{onlySelf:!0,emitEvent:x.emitEvent})}),this._updatePristine(x),this._updateTouched(x),this.updateValueAndValidity(x)}getRawValue(){return this._reduceChildren({},(z,x,se)=>(z[se]=x.getRawValue(),z))}_syncPendingControls(){let z=this._reduceChildren(!1,(x,se)=>!!se._syncPendingControls()||x);return z&&this.updateValueAndValidity({onlySelf:!0}),z}_forEachChild(z){Object.keys(this.controls).forEach(x=>{const se=this.controls[x];se&&z(se,x)})}_setUpControls(){this._forEachChild(z=>{z.setParent(this),z._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(z){for(const[x,se]of Object.entries(this.controls))if(this.contains(x)&&z(se))return!0;return!1}_reduceValue(){return this._reduceChildren({},(x,se,Pe)=>((se.enabled||this.disabled)&&(x[Pe]=se.value),x))}_reduceChildren(z,x){let se=z;return this._forEachChild((Pe,gn)=>{se=x(se,Pe,gn)}),se}_allControlsDisabled(){for(const z of Object.keys(this.controls))if(this.controls[z].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(z){return this.controls.hasOwnProperty(z)?this.controls[z]:null}}const Lr=new p.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>Bi}),Bi="always";function Pr(G,z,x=Bi){st(G,z),z.valueAccessor.writeValue(G.value),(G.disabled||"always"===x)&&z.valueAccessor.setDisabledState?.(G.disabled),function _t(G,z){z.valueAccessor.registerOnChange(x=>{G._pendingValue=x,G._pendingChange=!0,G._pendingDirty=!0,"change"===G.updateOn&&On(G,z)})}(G,z),function te(G,z){const x=(se,Pe)=>{z.valueAccessor.writeValue(se),Pe&&z.viewToModelUpdate(se)};G.registerOnChange(x),z._registerOnDestroy(()=>{G._unregisterOnChange(x)})}(G,z),function Xt(G,z){z.valueAccessor.registerOnTouched(()=>{G._pendingTouched=!0,"blur"===G.updateOn&&G._pendingChange&&On(G,z),"submit"!==G.updateOn&&G.markAsTouched()})}(G,z),function Yi(G,z){if(z.valueAccessor.setDisabledState){const x=se=>{z.valueAccessor.setDisabledState(se)};G.registerOnDisabledChange(x),z._registerOnDestroy(()=>{G._unregisterOnDisabledChange(x)})}}(G,z)}function ds(G,z){G.forEach(x=>{x.registerOnValidatorChange&&x.registerOnValidatorChange(z)})}function st(G,z){const x=function xn(G){return G._rawValidators}(G);null!==z.validator?G.setValidators(Dn(x,z.validator)):"function"==typeof x&&G.setValidators([x]);const se=function Wn(G){return G._rawAsyncValidators}(G);null!==z.asyncValidator?G.setAsyncValidators(Dn(se,z.asyncValidator)):"function"==typeof se&&G.setAsyncValidators([se]);const Pe=()=>G.updateValueAndValidity();ds(z._rawValidators,Pe),ds(z._rawAsyncValidators,Pe)}function On(G,z){G._pendingDirty&&G.markAsDirty(),G.setValue(G._pendingValue,{emitModelToViewChange:!1}),z.viewToModelUpdate(G._pendingValue),G._pendingChange=!1}const li={provide:Nn,useExisting:(0,p.Rfq)(()=>nr)},Zn=Promise.resolve();let nr=(()=>{class G extends Nn{constructor(x,se,Pe){super(),this.callSetDisabledState=Pe,this.submitted=!1,this._directives=new Set,this.ngSubmit=new p.bkB,this.form=new Fn({},on(x),fn(se))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(x){Zn.then(()=>{const se=this._findContainer(x.path);x.control=se.registerControl(x.name,x.control),Pr(x.control,x,this.callSetDisabledState),x.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(x)})}getControl(x){return this.form.get(x.path)}removeControl(x){Zn.then(()=>{const se=this._findContainer(x.path);se&&se.removeControl(x.name),this._directives.delete(x)})}addFormGroup(x){Zn.then(()=>{const se=this._findContainer(x.path),Pe=new Fn({});(function pe(G,z){st(G,z)})(Pe,x),se.registerControl(x.name,Pe),Pe.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(x){Zn.then(()=>{const se=this._findContainer(x.path);se&&se.removeControl(x.name)})}getFormGroup(x){return this.form.get(x.path)}updateModel(x,se){Zn.then(()=>{this.form.get(x.path).setValue(se)})}setValue(x){this.control.setValue(x)}onSubmit(x){return this.submitted=!0,function wr(G,z){G._syncPendingControls(),z.forEach(x=>{const se=x.control;"submit"===se.updateOn&&se._pendingChange&&(x.viewToModelUpdate(se._pendingValue),se._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(x),"dialog"===x?.target?.method}onReset(){this.resetForm()}resetForm(x=void 0){this.form.reset(x),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(x){return x.pop(),x.length?this.form.get(x):this.form}static#e=this.\u0275fac=function(se){return new(se||G)(p.rXU(ye,10),p.rXU(be,10),p.rXU(Lr,8))};static#t=this.\u0275dir=p.FsC({type:G,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(se,Pe){1&se&&p.bIt("submit",function(Yn){return Pe.onSubmit(Yn)})("reset",function(){return Pe.onReset()})},inputs:{options:[p.Mj6.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[p.Jv_([li]),p.Vt3]})}return G})();function Hn(G,z){const x=G.indexOf(z);x>-1&&G.splice(x,1)}function qr(G){return"object"==typeof G&&null!==G&&2===Object.keys(G).length&&"value"in G&&"disabled"in G}const Br=class extends $t{constructor(z=null,x,se){super(ae(x),Y(se,x)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(z),this._setUpdateStrategy(x),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),X(x)&&(x.nonNullable||x.initialValueIsDefault)&&(this.defaultValue=qr(z)?z.value:z)}setValue(z,x={}){this.value=this._pendingValue=z,this._onChange.length&&!1!==x.emitModelToViewChange&&this._onChange.forEach(se=>se(this.value,!1!==x.emitViewToModelChange)),this.updateValueAndValidity(x)}patchValue(z,x={}){this.setValue(z,x)}reset(z=this.defaultValue,x={}){this._applyFormState(z),this.markAsPristine(x),this.markAsUntouched(x),this.setValue(this.value,x),this._pendingChange=!1}_updateValue(){}_anyControls(z){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(z){this._onChange.push(z)}_unregisterOnChange(z){Hn(this._onChange,z)}registerOnDisabledChange(z){this._onDisabledChange.push(z)}_unregisterOnDisabledChange(z){Hn(this._onDisabledChange,z)}_forEachChild(z){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(z){qr(z)?(this.value=this._pendingValue=z.value,z.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=z}},Us={provide:jn,useExisting:(0,p.Rfq)(()=>lr)},Bs=Promise.resolve();let lr=(()=>{class G extends jn{constructor(x,se,Pe,gn,Yn,En){super(),this._changeDetectorRef=Yn,this.callSetDisabledState=En,this.control=new Br,this._registered=!1,this.name="",this.update=new p.bkB,this._parent=x,this._setValidators(se),this._setAsyncValidators(Pe),this.valueAccessor=function br(G,z){if(!z)return null;let x,se,Pe;return Array.isArray(z),z.forEach(gn=>{gn.constructor===Ge?x=gn:function Cr(G){return Object.getPrototypeOf(G.constructor)===Ke}(gn)?se=gn:Pe=gn}),Pe||se||x||null}(0,gn)}ngOnChanges(x){if(this._checkForErrors(),!this._registered||"name"in x){if(this._registered&&(this._checkName(),this.formDirective)){const se=x.name.previousValue;this.formDirective.removeControl({name:se,path:this._getPath(se)})}this._setUpControl()}"isDisabled"in x&&this._updateDisabled(x),function Cn(G,z){if(!G.hasOwnProperty("model"))return!1;const x=G.model;return!!x.isFirstChange()||!Object.is(z,x.currentValue)}(x,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(x){this.viewModel=x,this.update.emit(x)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Pr(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(x){Bs.then(()=>{this.control.setValue(x,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(x){const se=x.isDisabled.currentValue,Pe=0!==se&&(0,p.L39)(se);Bs.then(()=>{Pe&&!this.control.disabled?this.control.disable():!Pe&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(x){return this._parent?function Fr(G,z){return[...z.path,G]}(x,this._parent):[x]}static#e=this.\u0275fac=function(se){return new(se||G)(p.rXU(Nn,9),p.rXU(ye,10),p.rXU(be,10),p.rXU(yt,10),p.rXU(p.gRc,8),p.rXU(Lr,8))};static#t=this.\u0275dir=p.FsC({type:G,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[p.Mj6.None,"disabled","isDisabled"],model:[p.Mj6.None,"ngModel","model"],options:[p.Mj6.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[p.Jv_([Us]),p.Vt3,p.OA$]})}return G})(),Ji=(()=>{class G{static#e=this.\u0275fac=function(se){return new(se||G)};static#t=this.\u0275dir=p.FsC({type:G,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return G})(),hr=(()=>{class G{constructor(){this._validator=Me}ngOnChanges(x){if(this.inputName in x){const se=this.normalizeInput(x[this.inputName].currentValue);this._enabled=this.enabled(se),this._validator=this._enabled?this.createValidator(se):Me,this._onChange&&this._onChange()}}validate(x){return this._validator(x)}registerOnValidatorChange(x){this._onChange=x}enabled(x){return null!=x}static#e=this.\u0275fac=function(se){return new(se||G)};static#t=this.\u0275dir=p.FsC({type:G,features:[p.OA$]})}return G})();const Es={provide:ye,useExisting:(0,p.Rfq)(()=>io),multi:!0};let io=(()=>{class G extends hr{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=p.L39,this.createValidator=x=>Ee}enabled(x){return x}static#e=this.\u0275fac=(()=>{let x;return function(Pe){return(x||(x=p.xGo(G)))(Pe||G)}})();static#t=this.\u0275dir=p.FsC({type:G,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(se,Pe){2&se&&p.BMQ("required",Pe._enabled?"":null)},inputs:{required:"required"},features:[p.Jv_([Es]),p.Vt3]})}return G})(),Ni=(()=>{class G{static#e=this.\u0275fac=function(se){return new(se||G)};static#t=this.\u0275mod=p.$C({type:G});static#n=this.\u0275inj=p.G2t({})}return G})(),Do=(()=>{class G{static withConfig(x){return{ngModule:G,providers:[{provide:Lr,useValue:x.callSetDisabledState??Bi}]}}static#e=this.\u0275fac=function(se){return new(se||G)};static#t=this.\u0275mod=p.$C({type:G});static#n=this.\u0275inj=p.G2t({imports:[Ni]})}return G})()},345:(zt,ze,L)=>{L.d(ze,{B7:()=>be,Bb:()=>Qn,hE:()=>ir,sG:()=>fn,up:()=>bt});var p=L(4438),F=L(177);class _ extends F.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class _e extends _{static makeCurrent(){(0,F.ZD)(new _e)}onAndCancel(qe,me,Oe){return qe.addEventListener(me,Oe),()=>{qe.removeEventListener(me,Oe)}}dispatchEvent(qe,me){qe.dispatchEvent(me)}remove(qe){qe.parentNode&&qe.parentNode.removeChild(qe)}createElement(qe,me){return(me=me||this.getDefaultDocument()).createElement(qe)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(qe){return qe.nodeType===Node.ELEMENT_NODE}isShadowRoot(qe){return qe instanceof DocumentFragment}getGlobalEventTarget(qe,me){return"window"===me?window:"document"===me?qe:"body"===me?qe.body:null}getBaseHref(qe){const me=function Q(){return V=V||document.querySelector("base"),V?V.getAttribute("href"):null}();return null==me?null:function W(Fe){return new URL(Fe,document.baseURI).pathname}(me)}resetBaseElement(){V=null}getUserAgent(){return window.navigator.userAgent}getCookie(qe){return(0,F._b)(document.cookie,qe)}}let V=null,de=(()=>{class Fe{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(Oe){return new(Oe||Fe)};static#t=this.\u0275prov=p.jDH({token:Fe,factory:Fe.\u0275fac})}return Fe})();const ne=new p.nKC("");let le=(()=>{class Fe{constructor(me,Oe){this._zone=Oe,this._eventNameToPlugin=new Map,me.forEach(ae=>{ae.manager=this}),this._plugins=me.slice().reverse()}addEventListener(me,Oe,ae){return this._findPluginFor(Oe).addEventListener(me,Oe,ae)}getZone(){return this._zone}_findPluginFor(me){let Oe=this._eventNameToPlugin.get(me);if(Oe)return Oe;if(Oe=this._plugins.find(he=>he.supports(me)),!Oe)throw new p.wOt(5101,!1);return this._eventNameToPlugin.set(me,Oe),Oe}static#e=this.\u0275fac=function(Oe){return new(Oe||Fe)(p.KVO(ne),p.KVO(p.SKi))};static#t=this.\u0275prov=p.jDH({token:Fe,factory:Fe.\u0275fac})}return Fe})();class Re{constructor(qe){this._doc=qe}}const We="ng-app-id";let Ke=(()=>{class Fe{constructor(me,Oe,ae,he={}){this.doc=me,this.appId=Oe,this.nonce=ae,this.platformId=he,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,F.Vy)(he),this.resetHostNodes()}addStyles(me){for(const Oe of me)1===this.changeUsageCount(Oe,1)&&this.onStyleAdded(Oe)}removeStyles(me){for(const Oe of me)this.changeUsageCount(Oe,-1)<=0&&this.onStyleRemoved(Oe)}ngOnDestroy(){const me=this.styleNodesInDOM;me&&(me.forEach(Oe=>Oe.remove()),me.clear());for(const Oe of this.getAllStyles())this.onStyleRemoved(Oe);this.resetHostNodes()}addHost(me){this.hostNodes.add(me);for(const Oe of this.getAllStyles())this.addStyleToHost(me,Oe)}removeHost(me){this.hostNodes.delete(me)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(me){for(const Oe of this.hostNodes)this.addStyleToHost(Oe,me)}onStyleRemoved(me){const Oe=this.styleRef;Oe.get(me)?.elements?.forEach(ae=>ae.remove()),Oe.delete(me)}collectServerRenderedStyles(){const me=this.doc.head?.querySelectorAll(`style[${We}="${this.appId}"]`);if(me?.length){const Oe=new Map;return me.forEach(ae=>{null!=ae.textContent&&Oe.set(ae.textContent,ae)}),Oe}return null}changeUsageCount(me,Oe){const ae=this.styleRef;if(ae.has(me)){const he=ae.get(me);return he.usage+=Oe,he.usage}return ae.set(me,{usage:Oe,elements:[]}),Oe}getStyleElement(me,Oe){const ae=this.styleNodesInDOM,he=ae?.get(Oe);if(he?.parentNode===me)return ae.delete(Oe),he.removeAttribute(We),he;{const Y=this.doc.createElement("style");return this.nonce&&Y.setAttribute("nonce",this.nonce),Y.textContent=Oe,this.platformIsServer&&Y.setAttribute(We,this.appId),me.appendChild(Y),Y}}addStyleToHost(me,Oe){const ae=this.getStyleElement(me,Oe),he=this.styleRef,Y=he.get(Oe)?.elements;Y?Y.push(ae):he.set(Oe,{elements:[ae],usage:1})}resetHostNodes(){const me=this.hostNodes;me.clear(),me.add(this.doc.head)}static#e=this.\u0275fac=function(Oe){return new(Oe||Fe)(p.KVO(F.qQ),p.KVO(p.sZ2),p.KVO(p.BIS,8),p.KVO(p.Agw))};static#t=this.\u0275prov=p.jDH({token:Fe,factory:Fe.\u0275fac})}return Fe})();const yt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},At=/%COMP%/g,Ge=new p.nKC("",{providedIn:"root",factory:()=>!0});function ye(Fe,qe){return qe.map(me=>me.replace(At,Fe))}let be=(()=>{class Fe{constructor(me,Oe,ae,he,Y,re,X,ke=null){this.eventManager=me,this.sharedStylesHost=Oe,this.appId=ae,this.removeStylesOnCompDestroy=he,this.doc=Y,this.platformId=re,this.ngZone=X,this.nonce=ke,this.rendererByCompId=new Map,this.platformIsServer=(0,F.Vy)(re),this.defaultRenderer=new Xe(me,Y,X,this.platformIsServer)}createRenderer(me,Oe){if(!me||!Oe)return this.defaultRenderer;this.platformIsServer&&Oe.encapsulation===p.gXe.ShadowDom&&(Oe={...Oe,encapsulation:p.gXe.Emulated});const ae=this.getOrCreateRenderer(me,Oe);return ae instanceof In?ae.applyToHost(me):ae instanceof Ht&&ae.applyStyles(),ae}getOrCreateRenderer(me,Oe){const ae=this.rendererByCompId;let he=ae.get(Oe.id);if(!he){const Y=this.doc,re=this.ngZone,X=this.eventManager,ke=this.sharedStylesHost,gt=this.removeStylesOnCompDestroy,$t=this.platformIsServer;switch(Oe.encapsulation){case p.gXe.Emulated:he=new In(X,ke,Oe,this.appId,gt,Y,re,$t);break;case p.gXe.ShadowDom:return new Ee(X,ke,me,Oe,Y,re,this.nonce,$t);default:he=new Ht(X,ke,Oe,gt,Y,re,$t)}ae.set(Oe.id,he)}return he}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(Oe){return new(Oe||Fe)(p.KVO(le),p.KVO(Ke),p.KVO(p.sZ2),p.KVO(Ge),p.KVO(F.qQ),p.KVO(p.Agw),p.KVO(p.SKi),p.KVO(p.BIS))};static#t=this.\u0275prov=p.jDH({token:Fe,factory:Fe.\u0275fac})}return Fe})();class Xe{constructor(qe,me,Oe,ae){this.eventManager=qe,this.doc=me,this.ngZone=Oe,this.platformIsServer=ae,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(qe,me){return me?this.doc.createElementNS(yt[me]||me,qe):this.doc.createElement(qe)}createComment(qe){return this.doc.createComment(qe)}createText(qe){return this.doc.createTextNode(qe)}appendChild(qe,me){(pt(qe)?qe.content:qe).appendChild(me)}insertBefore(qe,me,Oe){qe&&(pt(qe)?qe.content:qe).insertBefore(me,Oe)}removeChild(qe,me){qe&&qe.removeChild(me)}selectRootElement(qe,me){let Oe="string"==typeof qe?this.doc.querySelector(qe):qe;if(!Oe)throw new p.wOt(-5104,!1);return me||(Oe.textContent=""),Oe}parentNode(qe){return qe.parentNode}nextSibling(qe){return qe.nextSibling}setAttribute(qe,me,Oe,ae){if(ae){me=ae+":"+me;const he=yt[ae];he?qe.setAttributeNS(he,me,Oe):qe.setAttribute(me,Oe)}else qe.setAttribute(me,Oe)}removeAttribute(qe,me,Oe){if(Oe){const ae=yt[Oe];ae?qe.removeAttributeNS(ae,me):qe.removeAttribute(`${Oe}:${me}`)}else qe.removeAttribute(me)}addClass(qe,me){qe.classList.add(me)}removeClass(qe,me){qe.classList.remove(me)}setStyle(qe,me,Oe,ae){ae&(p.czy.DashCase|p.czy.Important)?qe.style.setProperty(me,Oe,ae&p.czy.Important?"important":""):qe.style[me]=Oe}removeStyle(qe,me,Oe){Oe&p.czy.DashCase?qe.style.removeProperty(me):qe.style[me]=""}setProperty(qe,me,Oe){null!=qe&&(qe[me]=Oe)}setValue(qe,me){qe.nodeValue=me}listen(qe,me,Oe){if("string"==typeof qe&&!(qe=(0,F.QT)().getGlobalEventTarget(this.doc,qe)))throw new Error(`Unsupported event target ${qe} for event ${me}`);return this.eventManager.addEventListener(qe,me,this.decoratePreventDefault(Oe))}decoratePreventDefault(qe){return me=>{if("__ngUnwrap__"===me)return qe;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>qe(me)):qe(me))&&me.preventDefault()}}}function pt(Fe){return"TEMPLATE"===Fe.tagName&&void 0!==Fe.content}class Ee extends Xe{constructor(qe,me,Oe,ae,he,Y,re,X){super(qe,he,Y,X),this.sharedStylesHost=me,this.hostEl=Oe,this.shadowRoot=Oe.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const ke=ye(ae.id,ae.styles);for(const gt of ke){const $t=document.createElement("style");re&&$t.setAttribute("nonce",re),$t.textContent=gt,this.shadowRoot.appendChild($t)}}nodeOrShadowRoot(qe){return qe===this.hostEl?this.shadowRoot:qe}appendChild(qe,me){return super.appendChild(this.nodeOrShadowRoot(qe),me)}insertBefore(qe,me,Oe){return super.insertBefore(this.nodeOrShadowRoot(qe),me,Oe)}removeChild(qe,me){return super.removeChild(this.nodeOrShadowRoot(qe),me)}parentNode(qe){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(qe)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ht extends Xe{constructor(qe,me,Oe,ae,he,Y,re,X){super(qe,he,Y,re),this.sharedStylesHost=me,this.removeStylesOnCompDestroy=ae,this.styles=X?ye(X,Oe.styles):Oe.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class In extends Ht{constructor(qe,me,Oe,ae,he,Y,re,X){const ke=ae+"-"+Oe.id;super(qe,me,Oe,he,Y,re,X,ke),this.contentAttr=function Ve(Fe){return"_ngcontent-%COMP%".replace(At,Fe)}(ke),this.hostAttr=function De(Fe){return"_nghost-%COMP%".replace(At,Fe)}(ke)}applyToHost(qe){this.applyStyles(),this.setAttribute(qe,this.hostAttr,"")}createElement(qe,me){const Oe=super.createElement(qe,me);return super.setAttribute(Oe,this.contentAttr,""),Oe}}let vt=(()=>{class Fe extends Re{constructor(me){super(me)}supports(me){return!0}addEventListener(me,Oe,ae){return me.addEventListener(Oe,ae,!1),()=>this.removeEventListener(me,Oe,ae)}removeEventListener(me,Oe,ae){return me.removeEventListener(Oe,ae)}static#e=this.\u0275fac=function(Oe){return new(Oe||Fe)(p.KVO(F.qQ))};static#t=this.\u0275prov=p.jDH({token:Fe,factory:Fe.\u0275fac})}return Fe})();const nn=["alt","control","meta","shift"],Ct={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Me={alt:Fe=>Fe.altKey,control:Fe=>Fe.ctrlKey,meta:Fe=>Fe.metaKey,shift:Fe=>Fe.shiftKey};let He=(()=>{class Fe extends Re{constructor(me){super(me)}supports(me){return null!=Fe.parseEventName(me)}addEventListener(me,Oe,ae){const he=Fe.parseEventName(Oe),Y=Fe.eventCallback(he.fullKey,ae,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,F.QT)().onAndCancel(me,he.domEventName,Y))}static parseEventName(me){const Oe=me.toLowerCase().split("."),ae=Oe.shift();if(0===Oe.length||"keydown"!==ae&&"keyup"!==ae)return null;const he=Fe._normalizeKey(Oe.pop());let Y="",re=Oe.indexOf("code");if(re>-1&&(Oe.splice(re,1),Y="code."),nn.forEach(ke=>{const gt=Oe.indexOf(ke);gt>-1&&(Oe.splice(gt,1),Y+=ke+".")}),Y+=he,0!=Oe.length||0===he.length)return null;const X={};return X.domEventName=ae,X.fullKey=Y,X}static matchEventFullKeyCode(me,Oe){let ae=Ct[me.key]||me.key,he="";return Oe.indexOf("code.")>-1&&(ae=me.code,he="code."),!(null==ae||!ae)&&(ae=ae.toLowerCase()," "===ae?ae="space":"."===ae&&(ae="dot"),nn.forEach(Y=>{Y!==ae&&(0,Me[Y])(me)&&(he+=Y+".")}),he+=ae,he===Oe)}static eventCallback(me,Oe,ae){return he=>{Fe.matchEventFullKeyCode(he,me)&&ae.runGuarded(()=>Oe(he))}}static _normalizeKey(me){return"esc"===me?"escape":me}static#e=this.\u0275fac=function(Oe){return new(Oe||Fe)(p.KVO(F.qQ))};static#t=this.\u0275prov=p.jDH({token:Fe,factory:Fe.\u0275fac})}return Fe})();const fn=(0,p.oH4)(p.fpN,"browser",[{provide:p.Agw,useValue:F.AJ},{provide:p.PLl,useValue:function Pt(){_e.makeCurrent()},multi:!0},{provide:F.qQ,useFactory:function on(){return(0,p.TL$)(document),document},deps:[]}]),Dn=new p.nKC(""),xn=[{provide:p.e01,useClass:class oe{addToWindow(qe){p.JZv.getAngularTestability=(Oe,ae=!0)=>{const he=qe.findTestabilityInTree(Oe,ae);if(null==he)throw new p.wOt(5103,!1);return he},p.JZv.getAllAngularTestabilities=()=>qe.getAllTestabilities(),p.JZv.getAllAngularRootElements=()=>qe.getAllRootElements(),p.JZv.frameworkStabilizers||(p.JZv.frameworkStabilizers=[]),p.JZv.frameworkStabilizers.push(Oe=>{const ae=p.JZv.getAllAngularTestabilities();let he=ae.length;const Y=function(){he--,0==he&&Oe()};ae.forEach(re=>{re.whenStable(Y)})})}findTestabilityInTree(qe,me,Oe){return null==me?null:qe.getTestability(me)??(Oe?(0,F.QT)().isShadowRoot(me)?this.findTestabilityInTree(qe,me.host,!0):this.findTestabilityInTree(qe,me.parentElement,!0):null)}},deps:[]},{provide:p.WHO,useClass:p.NYb,deps:[p.SKi,p.giA,p.e01]},{provide:p.NYb,useClass:p.NYb,deps:[p.SKi,p.giA,p.e01]}],Wn=[{provide:p.H8p,useValue:"root"},{provide:p.zcH,useFactory:function Gt(){return new p.zcH},deps:[]},{provide:ne,useClass:vt,multi:!0,deps:[F.qQ,p.SKi,p.Agw]},{provide:ne,useClass:He,multi:!0,deps:[F.qQ]},be,Ke,le,{provide:p._9s,useExisting:be},{provide:F.N0,useClass:de,deps:[]},[]];let Qn=(()=>{class Fe{constructor(me){}static withServerTransition(me){return{ngModule:Fe,providers:[{provide:p.sZ2,useValue:me.appId}]}}static#e=this.\u0275fac=function(Oe){return new(Oe||Fe)(p.KVO(Dn,12))};static#t=this.\u0275mod=p.$C({type:Fe});static#n=this.\u0275inj=p.G2t({providers:[...Wn,...xn],imports:[F.MD,p.Hbi]})}return Fe})(),ir=(()=>{class Fe{constructor(me){this._doc=me}getTitle(){return this._doc.title}setTitle(me){this._doc.title=me||""}static#e=this.\u0275fac=function(Oe){return new(Oe||Fe)(p.KVO(F.qQ))};static#t=this.\u0275prov=p.jDH({token:Fe,factory:Fe.\u0275fac,providedIn:"root"})}return Fe})(),bt=(()=>{class Fe{static#e=this.\u0275fac=function(Oe){return new(Oe||Fe)};static#t=this.\u0275prov=p.jDH({token:Fe,factory:function(Oe){let ae=null;return ae=Oe?new(Oe||Fe):p.KVO(It),ae},providedIn:"root"})}return Fe})(),It=(()=>{class Fe extends bt{constructor(me){super(),this._doc=me}sanitize(me,Oe){if(null==Oe)return null;switch(me){case p.WPN.NONE:return Oe;case p.WPN.HTML:return(0,p.ZF7)(Oe,"HTML")?(0,p.rcV)(Oe):(0,p.h9k)(this._doc,String(Oe)).toString();case p.WPN.STYLE:return(0,p.ZF7)(Oe,"Style")?(0,p.rcV)(Oe):Oe;case p.WPN.SCRIPT:if((0,p.ZF7)(Oe,"Script"))return(0,p.rcV)(Oe);throw new p.wOt(5200,!1);case p.WPN.URL:return(0,p.ZF7)(Oe,"URL")?(0,p.rcV)(Oe):(0,p.$MX)(String(Oe));case p.WPN.RESOURCE_URL:if((0,p.ZF7)(Oe,"ResourceURL"))return(0,p.rcV)(Oe);throw new p.wOt(5201,!1);default:throw new p.wOt(5202,!1)}}bypassSecurityTrustHtml(me){return(0,p.Kcf)(me)}bypassSecurityTrustStyle(me){return(0,p.cWb)(me)}bypassSecurityTrustScript(me){return(0,p.UyX)(me)}bypassSecurityTrustUrl(me){return(0,p.osQ)(me)}bypassSecurityTrustResourceUrl(me){return(0,p.e5t)(me)}static#e=this.\u0275fac=function(Oe){return new(Oe||Fe)(p.KVO(F.qQ))};static#t=this.\u0275prov=p.jDH({token:Fe,factory:Fe.\u0275fac,providedIn:"root"})}return Fe})()},9888:(zt,ze,L)=>{L.d(ze,{Kp:()=>Vt,Ix:()=>Qt,iI:()=>Xl,n3:()=>To});var p=L(4438),F=L(1985),_=L(8071),V=L(8455),Q=L(7673),W=L(4412),oe=L(3073),de=L(3669),ne=L(6450),le=L(9326),Re=L(8496),We=L(4360),Ke=L(5225);function yt(...y){const R=(0,le.lI)(y),T=(0,le.ms)(y),{args:P,keys:j}=(0,oe.D)(y);if(0===P.length)return(0,V.H)([],R);const ee=new F.c(function At(y,R,T=de.D){return P=>{ut(R,()=>{const{length:j}=y,ee=new Array(j);let Te=j,ot=j;for(let Je=0;Je<j;Je++)ut(R,()=>{const ln=(0,V.H)(y[Je],R);let dr=!1;ln.subscribe((0,We._)(P,vr=>{ee[Je]=vr,dr||(dr=!0,ot--),ot||P.next(T(ee.slice()))},()=>{--Te||P.complete()}))},P)},P)}}(P,R,j?Te=>(0,Re.e)(j,Te):de.D));return T?ee.pipe((0,ne.I)(T)):ee}function ut(y,R,T){y?(0,Ke.N)(T,y,R):R()}var ft=L(9350),Ut=L(8793),Bt=L(8750);function Ge(y){return new F.c(R=>{(0,Bt.Tg)(y()).subscribe(R)})}var Ve=L(1203);function De(y,R){const T=(0,_.T)(y)?y:()=>y,P=j=>j.error(T());return new F.c(R?j=>R.schedule(P,0,j):P)}var ye=L(983),be=L(8359),Xe=L(9974);function ue(){return(0,Xe.N)((y,R)=>{let T=null;y._refCount++;const P=(0,We._)(R,void 0,void 0,void 0,()=>{if(!y||y._refCount<=0||0<--y._refCount)return void(T=null);const j=y._connection,ee=T;T=null,j&&(!ee||j===ee)&&j.unsubscribe(),R.unsubscribe()});y.subscribe(P),P.closed||(T=y.connect())})}class Se extends F.c{constructor(R,T){super(),this.source=R,this.subjectFactory=T,this._subject=null,this._refCount=0,this._connection=null,(0,Xe.S)(R)&&(this.lift=R.lift)}_subscribe(R){return this.getSubject().subscribe(R)}getSubject(){const R=this._subject;return(!R||R.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:R}=this;this._subject=this._connection=null,R?.unsubscribe()}connect(){let R=this._connection;if(!R){R=this._connection=new be.yU;const T=this.getSubject();R.add(this.source.subscribe((0,We._)(T,void 0,()=>{this._teardown(),T.complete()},P=>{this._teardown(),T.error(P)},()=>this._teardown()))),R.closed&&(this._connection=null,R=be.yU.EMPTY)}return R}refCount(){return ue()(this)}}var pt=L(1413),Ee=L(177),Ht=L(6354),In=L(5558),vt=L(6697),nn=L(9172),Ct=L(5964),Me=L(1397),He=L(1594),lt=L(274),Ze=L(8141);function dt(y){return(0,Xe.N)((R,T)=>{let ee,P=null,j=!1;P=R.subscribe((0,We._)(T,void 0,void 0,Te=>{ee=(0,Bt.Tg)(y(Te,dt(y)(R))),P?(P.unsubscribe(),P=null,ee.subscribe(T)):j=!0})),j&&(P.unsubscribe(),P=null,ee.subscribe(T))})}var Qe=L(2816),Pt=L(9901);function Gt(y){return y<=0?()=>ye.w:(0,Xe.N)((R,T)=>{let P=[];R.subscribe((0,We._)(T,j=>{P.push(j),y<P.length&&P.shift()},()=>{for(const j of P)T.next(j);T.complete()},void 0,()=>{P=null}))})}var on=L(3774),Dn=L(980),xn=L(5343),Qn=L(6365),Bn=L(345);const Yt="primary",ir=Symbol("RouteTitle");class Ot{constructor(R){this.params=R||{}}has(R){return Object.prototype.hasOwnProperty.call(this.params,R)}get(R){if(this.has(R)){const T=this.params[R];return Array.isArray(T)?T[0]:T}return null}getAll(R){if(this.has(R)){const T=this.params[R];return Array.isArray(T)?T:[T]}return[]}get keys(){return Object.keys(this.params)}}function Nn(y){return new Ot(y)}function jn(y,R,T){const P=T.path.split("/");if(P.length>y.length||"full"===T.pathMatch&&(R.hasChildren()||P.length<y.length))return null;const j={};for(let ee=0;ee<P.length;ee++){const Te=P[ee],ot=y[ee];if(Te.startsWith(":"))j[Te.substring(1)]=ot;else if(Te!==ot.path)return null}return{consumed:y.slice(0,P.length),posParams:j}}function Dr(y,R){const T=y?Sr(y):void 0,P=R?Sr(R):void 0;if(!T||!P||T.length!=P.length)return!1;let j;for(let ee=0;ee<T.length;ee++)if(j=T[ee],!er(y[j],R[j]))return!1;return!0}function Sr(y){return[...Object.keys(y),...Object.getOwnPropertySymbols(y)]}function er(y,R){if(Array.isArray(y)&&Array.isArray(R)){if(y.length!==R.length)return!1;const T=[...y].sort(),P=[...R].sort();return T.every((j,ee)=>P[ee]===j)}return y===R}function an(y){return y.length>0?y[y.length-1]:null}function dn(y){return function _e(y){return!!y&&(y instanceof F.c||(0,_.T)(y.lift)&&(0,_.T)(y.subscribe))}(y)?y:(0,p.jNT)(y)?(0,V.H)(Promise.resolve(y)):(0,Q.of)(y)}const xr={exact:function je(y,R,T){if(!Wr(y.segments,R.segments)||!rn(y.segments,R.segments,T)||y.numberOfChildren!==R.numberOfChildren)return!1;for(const P in R.children)if(!y.children[P]||!je(y.children[P],R.children[P],T))return!1;return!0},subset:It},Ye={exact:function ge(y,R){return Dr(y,R)},subset:function bt(y,R){return Object.keys(R).length<=Object.keys(y).length&&Object.keys(R).every(T=>er(y[T],R[T]))},ignored:()=>!0};function Jt(y,R,T){return xr[T.paths](y.root,R.root,T.matrixParams)&&Ye[T.queryParams](y.queryParams,R.queryParams)&&!("exact"===T.fragment&&y.fragment!==R.fragment)}function It(y,R,T){return zn(y,R,R.segments,T)}function zn(y,R,T,P){if(y.segments.length>T.length){const j=y.segments.slice(0,T.length);return!(!Wr(j,T)||R.hasChildren()||!rn(j,T,P))}if(y.segments.length===T.length){if(!Wr(y.segments,T)||!rn(y.segments,T,P))return!1;for(const j in R.children)if(!y.children[j]||!It(y.children[j],R.children[j],P))return!1;return!0}{const j=T.slice(0,y.segments.length),ee=T.slice(y.segments.length);return!!(Wr(y.segments,j)&&rn(y.segments,j,P)&&y.children[Yt])&&zn(y.children[Yt],R,ee,P)}}function rn(y,R,T){return R.every((P,j)=>Ye[T](y[j].parameters,P.parameters))}class kn{constructor(R=new Sn([],{}),T={},P=null){this.root=R,this.queryParams=T,this.fragment=P}get queryParamMap(){return this._queryParamMap??=Nn(this.queryParams),this._queryParamMap}toString(){return qe.serialize(this)}}class Sn{constructor(R,T){this.segments=R,this.children=T,this.parent=null,Object.values(T).forEach(P=>P.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return me(this)}}class ar{constructor(R,T){this.path=R,this.parameters=T}get parameterMap(){return this._parameterMap??=Nn(this.parameters),this._parameterMap}toString(){return gt(this)}}function Wr(y,R){return y.length===R.length&&y.every((T,P)=>T.path===R[P].path)}let ti=(()=>{class y{static#e=this.\u0275fac=function(P){return new(P||y)};static#t=this.\u0275prov=p.jDH({token:y,factory:()=>new Fe,providedIn:"root"})}return y})();class Fe{parse(R){const T=new Pr(R);return new kn(T.parseRootSegment(),T.parseQueryParams(),T.parseFragment())}serialize(R){const T=`/${Oe(R.root,!0)}`,P=function Fn(y){const R=Object.entries(y).map(([T,P])=>Array.isArray(P)?P.map(j=>`${he(T)}=${he(j)}`).join("&"):`${he(T)}=${he(P)}`).filter(T=>T);return R.length?`?${R.join("&")}`:""}(R.queryParams);return`${T}${P}${"string"==typeof R.fragment?`#${function Y(y){return encodeURI(y)}(R.fragment)}`:""}`}}const qe=new Fe;function me(y){return y.segments.map(R=>gt(R)).join("/")}function Oe(y,R){if(!y.hasChildren())return me(y);if(R){const T=y.children[Yt]?Oe(y.children[Yt],!1):"",P=[];return Object.entries(y.children).forEach(([j,ee])=>{j!==Yt&&P.push(`${j}:${Oe(ee,!1)}`)}),P.length>0?`${T}(${P.join("//")})`:T}{const T=function fi(y,R){let T=[];return Object.entries(y.children).forEach(([P,j])=>{P===Yt&&(T=T.concat(R(j,P)))}),Object.entries(y.children).forEach(([P,j])=>{P!==Yt&&(T=T.concat(R(j,P)))}),T}(y,(P,j)=>j===Yt?[Oe(y.children[Yt],!1)]:[`${j}:${Oe(P,!1)}`]);return 1===Object.keys(y.children).length&&null!=y.children[Yt]?`${me(y)}/${T[0]}`:`${me(y)}/(${T.join("//")})`}}function ae(y){return encodeURIComponent(y).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function he(y){return ae(y).replace(/%3B/gi,";")}function re(y){return ae(y).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function X(y){return decodeURIComponent(y)}function ke(y){return X(y.replace(/\+/g,"%20"))}function gt(y){return`${re(y.path)}${function $t(y){return Object.entries(y).map(([R,T])=>`;${re(R)}=${re(T)}`).join("")}(y.parameters)}`}const Gn=/^[^\/()?;#]+/;function ur(y){const R=y.match(Gn);return R?R[0]:""}const pn=/^[^\/()?;=#]+/,tr=/^[^=?&#]+/,Bi=/^[^&#]+/;class Pr{constructor(R){this.url=R,this.remaining=R}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Sn([],{}):new Sn([],this.parseChildren())}parseQueryParams(){const R={};if(this.consumeOptional("?"))do{this.parseQueryParam(R)}while(this.consumeOptional("&"));return R}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const R=[];for(this.peekStartsWith("(")||R.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),R.push(this.parseSegment());let T={};this.peekStartsWith("/(")&&(this.capture("/"),T=this.parseParens(!0));let P={};return this.peekStartsWith("(")&&(P=this.parseParens(!1)),(R.length>0||Object.keys(T).length>0)&&(P[Yt]=new Sn(R,T)),P}parseSegment(){const R=ur(this.remaining);if(""===R&&this.peekStartsWith(";"))throw new p.wOt(4009,!1);return this.capture(R),new ar(X(R),this.parseMatrixParams())}parseMatrixParams(){const R={};for(;this.consumeOptional(";");)this.parseParam(R);return R}parseParam(R){const T=function Zt(y){const R=y.match(pn);return R?R[0]:""}(this.remaining);if(!T)return;this.capture(T);let P="";if(this.consumeOptional("=")){const j=ur(this.remaining);j&&(P=j,this.capture(P))}R[X(T)]=X(P)}parseQueryParam(R){const T=function Lr(y){const R=y.match(tr);return R?R[0]:""}(this.remaining);if(!T)return;this.capture(T);let P="";if(this.consumeOptional("=")){const Te=function Fr(y){const R=y.match(Bi);return R?R[0]:""}(this.remaining);Te&&(P=Te,this.capture(P))}const j=ke(T),ee=ke(P);if(R.hasOwnProperty(j)){let Te=R[j];Array.isArray(Te)||(Te=[Te],R[j]=Te),Te.push(ee)}else R[j]=ee}parseParens(R){const T={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const P=ur(this.remaining),j=this.remaining[P.length];if("/"!==j&&")"!==j&&";"!==j)throw new p.wOt(4010,!1);let ee;P.indexOf(":")>-1?(ee=P.slice(0,P.indexOf(":")),this.capture(ee),this.capture(":")):R&&(ee=Yt);const Te=this.parseChildren();T[ee]=1===Object.keys(Te).length?Te[Yt]:new Sn([],Te),this.consumeOptional("//")}return T}peekStartsWith(R){return this.remaining.startsWith(R)}consumeOptional(R){return!!this.peekStartsWith(R)&&(this.remaining=this.remaining.substring(R.length),!0)}capture(R){if(!this.consumeOptional(R))throw new p.wOt(4011,!1)}}function sr(y){return y.segments.length>0?new Sn([],{[Yt]:y}):y}function ds(y){const R={};for(const[P,j]of Object.entries(y.children)){const ee=ds(j);if(P===Yt&&0===ee.segments.length&&ee.hasChildren())for(const[Te,ot]of Object.entries(ee.children))R[Te]=ot;else(ee.segments.length>0||ee.hasChildren())&&(R[P]=ee)}return function Yi(y){if(1===y.numberOfChildren&&y.children[Yt]){const R=y.children[Yt];return new Sn(y.segments.concat(R.segments),R.children)}return y}(new Sn(y.segments,R))}function st(y){return y instanceof kn}function _t(y){let R;const j=sr(function T(ee){const Te={};for(const Je of ee.children){const ln=T(Je);Te[Je.outlet]=ln}const ot=new Sn(ee.url,Te);return ee===y&&(R=ot),ot}(y.root));return R??j}function Xt(y,R,T,P){let j=y;for(;j.parent;)j=j.parent;if(0===R.length)return pe(j,j,j,T,P);const ee=function rt(y){if("string"==typeof y[0]&&1===y.length&&"/"===y[0])return new nt(!0,0,y);let R=0,T=!1;const P=y.reduce((j,ee,Te)=>{if("object"==typeof ee&&null!=ee){if(ee.outlets){const ot={};return Object.entries(ee.outlets).forEach(([Je,ln])=>{ot[Je]="string"==typeof ln?ln.split("/"):ln}),[...j,{outlets:ot}]}if(ee.segmentPath)return[...j,ee.segmentPath]}return"string"!=typeof ee?[...j,ee]:0===Te?(ee.split("/").forEach((ot,Je)=>{0==Je&&"."===ot||(0==Je&&""===ot?T=!0:".."===ot?R++:""!=ot&&j.push(ot))}),j):[...j,ee]},[]);return new nt(T,R,P)}(R);if(ee.toRoot())return pe(j,j,new Sn([],{}),T,P);const Te=function kt(y,R,T){if(y.isAbsolute)return new xt(R,!0,0);if(!T)return new xt(R,!1,NaN);if(null===T.parent)return new xt(T,!0,0);const P=On(y.commands[0])?0:1;return function mn(y,R,T){let P=y,j=R,ee=T;for(;ee>j;){if(ee-=j,P=P.parent,!P)throw new p.wOt(4005,!1);j=P.segments.length}return new xt(P,!1,j-ee)}(T,T.segments.length-1+P,y.numberOfDoubleDots)}(ee,j,y),ot=Te.processChildren?wr(Te.segmentGroup,Te.index,ee.commands):Cr(Te.segmentGroup,Te.index,ee.commands);return pe(j,Te.segmentGroup,ot,T,P)}function On(y){return"object"==typeof y&&null!=y&&!y.outlets&&!y.segmentPath}function te(y){return"object"==typeof y&&null!=y&&y.outlets}function pe(y,R,T,P,j){let Te,ee={};P&&Object.entries(P).forEach(([Je,ln])=>{ee[Je]=Array.isArray(ln)?ln.map(dr=>`${dr}`):`${ln}`}),Te=y===R?T:we(y,R,T);const ot=sr(ds(Te));return new kn(ot,ee,j)}function we(y,R,T){const P={};return Object.entries(y.children).forEach(([j,ee])=>{P[j]=ee===R?T:we(ee,R,T)}),new Sn(y.segments,P)}class nt{constructor(R,T,P){if(this.isAbsolute=R,this.numberOfDoubleDots=T,this.commands=P,R&&P.length>0&&On(P[0]))throw new p.wOt(4003,!1);const j=P.find(te);if(j&&j!==an(P))throw new p.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class xt{constructor(R,T,P){this.segmentGroup=R,this.processChildren=T,this.index=P}}function Cr(y,R,T){if(y??=new Sn([],{}),0===y.segments.length&&y.hasChildren())return wr(y,R,T);const P=function br(y,R,T){let P=0,j=R;const ee={match:!1,pathIndex:0,commandIndex:0};for(;j<y.segments.length;){if(P>=T.length)return ee;const Te=y.segments[j],ot=T[P];if(te(ot))break;const Je=`${ot}`,ln=P<T.length-1?T[P+1]:null;if(j>0&&void 0===Je)break;if(Je&&ln&&"object"==typeof ln&&void 0===ln.outlets){if(!Zn(Je,ln,Te))return ee;P+=2}else{if(!Zn(Je,{},Te))return ee;P++}j++}return{match:!0,pathIndex:j,commandIndex:P}}(y,R,T),j=T.slice(P.commandIndex);if(P.match&&P.pathIndex<y.segments.length){const ee=new Sn(y.segments.slice(0,P.pathIndex),{});return ee.children[Yt]=new Sn(y.segments.slice(P.pathIndex),y.children),wr(ee,0,j)}return P.match&&0===j.length?new Sn(y.segments,{}):P.match&&!y.hasChildren()?ai(y,R,T):P.match?wr(y,0,j):ai(y,R,T)}function wr(y,R,T){if(0===T.length)return new Sn(y.segments,{});{const P=function Cn(y){return te(y[0])?y[0].outlets:{[Yt]:y}}(T),j={};if(Object.keys(P).some(ee=>ee!==Yt)&&y.children[Yt]&&1===y.numberOfChildren&&0===y.children[Yt].segments.length){const ee=wr(y.children[Yt],R,T);return new Sn(y.segments,ee.children)}return Object.entries(P).forEach(([ee,Te])=>{"string"==typeof Te&&(Te=[Te]),null!==Te&&(j[ee]=Cr(y.children[ee],R,Te))}),Object.entries(y.children).forEach(([ee,Te])=>{void 0===P[ee]&&(j[ee]=Te)}),new Sn(y.segments,j)}}function ai(y,R,T){const P=y.segments.slice(0,R);let j=0;for(;j<T.length;){const ee=T[j];if(te(ee)){const Je=Zi(ee.outlets);return new Sn(P,Je)}if(0===j&&On(T[0])){P.push(new ar(y.segments[R].path,li(T[0]))),j++;continue}const Te=te(ee)?ee.outlets[Yt]:`${ee}`,ot=j<T.length-1?T[j+1]:null;Te&&ot&&On(ot)?(P.push(new ar(Te,li(ot))),j+=2):(P.push(new ar(Te,{})),j++)}return new Sn(P,{})}function Zi(y){const R={};return Object.entries(y).forEach(([T,P])=>{"string"==typeof P&&(P=[P]),null!==P&&(R[T]=ai(new Sn([],{}),0,P))}),R}function li(y){const R={};return Object.entries(y).forEach(([T,P])=>R[T]=`${P}`),R}function Zn(y,R,T){return y==T.path&&Dr(R,T.parameters)}const nr="imperative";var Hn=function(y){return y[y.NavigationStart=0]="NavigationStart",y[y.NavigationEnd=1]="NavigationEnd",y[y.NavigationCancel=2]="NavigationCancel",y[y.NavigationError=3]="NavigationError",y[y.RoutesRecognized=4]="RoutesRecognized",y[y.ResolveStart=5]="ResolveStart",y[y.ResolveEnd=6]="ResolveEnd",y[y.GuardsCheckStart=7]="GuardsCheckStart",y[y.GuardsCheckEnd=8]="GuardsCheckEnd",y[y.RouteConfigLoadStart=9]="RouteConfigLoadStart",y[y.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",y[y.ChildActivationStart=11]="ChildActivationStart",y[y.ChildActivationEnd=12]="ChildActivationEnd",y[y.ActivationStart=13]="ActivationStart",y[y.ActivationEnd=14]="ActivationEnd",y[y.Scroll=15]="Scroll",y[y.NavigationSkipped=16]="NavigationSkipped",y}(Hn||{});class qr{constructor(R,T){this.id=R,this.url=T}}class Br extends qr{constructor(R,T,P="imperative",j=null){super(R,T),this.type=Hn.NavigationStart,this.navigationTrigger=P,this.restoredState=j}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Qr extends qr{constructor(R,T,P){super(R,T),this.urlAfterRedirects=P,this.type=Hn.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var _r=function(y){return y[y.Redirect=0]="Redirect",y[y.SupersededByNewNavigation=1]="SupersededByNewNavigation",y[y.NoDataFromResolver=2]="NoDataFromResolver",y[y.GuardRejected=3]="GuardRejected",y}(_r||{}),ci=function(y){return y[y.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",y[y.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",y}(ci||{});class Tn extends qr{constructor(R,T,P,j){super(R,T),this.reason=P,this.code=j,this.type=Hn.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Xn extends qr{constructor(R,T,P,j){super(R,T),this.reason=P,this.code=j,this.type=Hn.NavigationSkipped}}class vo extends qr{constructor(R,T,P,j){super(R,T),this.error=P,this.target=j,this.type=Hn.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ji extends qr{constructor(R,T,P,j){super(R,T),this.urlAfterRedirects=P,this.state=j,this.type=Hn.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xr extends qr{constructor(R,T,P,j){super(R,T),this.urlAfterRedirects=P,this.state=j,this.type=Hn.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bo extends qr{constructor(R,T,P,j,ee){super(R,T),this.urlAfterRedirects=P,this.state=j,this.shouldActivate=ee,this.type=Hn.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Us extends qr{constructor(R,T,P,j){super(R,T),this.urlAfterRedirects=P,this.state=j,this.type=Hn.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bs extends qr{constructor(R,T,P,j){super(R,T),this.urlAfterRedirects=P,this.state=j,this.type=Hn.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lr{constructor(R){this.route=R,this.type=Hn.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ji{constructor(R){this.route=R,this.type=Hn.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class zi{constructor(R){this.snapshot=R,this.type=Hn.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yr{constructor(R){this.snapshot=R,this.type=Hn.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ms{constructor(R){this.snapshot=R,this.type=Hn.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ca{constructor(R){this.snapshot=R,this.type=Hn.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jo{constructor(R,T,P){this.routerEvent=R,this.position=T,this.anchor=P,this.type=Hn.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Ki{}class es{constructor(R){this.url=R}}class Ho{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Io,this.attachRef=null}}let Io=(()=>{class y{constructor(){this.contexts=new Map}onChildOutletCreated(T,P){const j=this.getOrCreateContext(T);j.outlet=P,this.contexts.set(T,j)}onChildOutletDestroyed(T){const P=this.getContext(T);P&&(P.outlet=null,P.attachRef=null)}onOutletDeactivated(){const T=this.contexts;return this.contexts=new Map,T}onOutletReAttached(T){this.contexts=T}getOrCreateContext(T){let P=this.getContext(T);return P||(P=new Ho,this.contexts.set(T,P)),P}getContext(T){return this.contexts.get(T)||null}static#e=this.\u0275fac=function(P){return new(P||y)};static#t=this.\u0275prov=p.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();class Js{constructor(R){this._root=R}get root(){return this._root.value}parent(R){const T=this.pathFromRoot(R);return T.length>1?T[T.length-2]:null}children(R){const T=js(R,this._root);return T?T.children.map(P=>P.value):[]}firstChild(R){const T=js(R,this._root);return T&&T.children.length>0?T.children[0].value:null}siblings(R){const T=Zr(R,this._root);return T.length<2?[]:T[T.length-2].children.map(j=>j.value).filter(j=>j!==R)}pathFromRoot(R){return Zr(R,this._root).map(T=>T.value)}}function js(y,R){if(y===R.value)return R;for(const T of R.children){const P=js(y,T);if(P)return P}return null}function Zr(y,R){if(y===R.value)return[R];for(const T of R.children){const P=Zr(y,T);if(P.length)return P.unshift(R),P}return[]}class Ci{constructor(R,T){this.value=R,this.children=T}toString(){return`TreeNode(${this.value})`}}function Ai(y){const R={};return y&&y.children.forEach(T=>R[T.value.outlet]=T),R}class Eo extends Js{constructor(R,T){super(R),this.snapshot=T,Ps(this,R)}toString(){return this.snapshot.toString()}}function Ei(y){const R=function ys(y){const ee=new eo([],{},{},"",{},Yt,y,null,{});return new Hi("",new Ci(ee,[]))}(y),T=new W.t([new ar("",{})]),P=new W.t({}),j=new W.t({}),ee=new W.t({}),Te=new W.t(""),ot=new $n(T,P,ee,Te,j,Yt,y,R.root);return ot.snapshot=R.root,new Eo(new Ci(ot,[]),R)}class $n{constructor(R,T,P,j,ee,Te,ot,Je){this.urlSubject=R,this.paramsSubject=T,this.queryParamsSubject=P,this.fragmentSubject=j,this.dataSubject=ee,this.outlet=Te,this.component=ot,this._futureSnapshot=Je,this.title=this.dataSubject?.pipe((0,Ht.T)(ln=>ln[ir]))??(0,Q.of)(void 0),this.url=R,this.params=T,this.queryParams=P,this.fragment=j,this.data=ee}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,Ht.T)(R=>Nn(R))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,Ht.T)(R=>Nn(R))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function vs(y,R,T="emptyOnly"){let P;const{routeConfig:j}=y;return P=null===R||"always"!==T&&""!==j?.path&&(R.component||R.routeConfig?.loadComponent)?{params:{...y.params},data:{...y.data},resolve:{...y.data,...y._resolvedData??{}}}:{params:{...R.params,...y.params},data:{...R.data,...y.data},resolve:{...y.data,...R.data,...j?.data,...y._resolvedData}},j&&qi(j)&&(P.resolve[ir]=j.title),P}class eo{get title(){return this.data?.[ir]}constructor(R,T,P,j,ee,Te,ot,Je,ln){this.url=R,this.params=T,this.queryParams=P,this.fragment=j,this.data=ee,this.outlet=Te,this.component=ot,this.routeConfig=Je,this._resolve=ln}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Nn(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Nn(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(P=>P.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Hi extends Js{constructor(R,T){super(T),this.url=R,Ps(this,T)}toString(){return wo(this._root)}}function Ps(y,R){R.value._routerState=y,R.children.forEach(T=>Ps(y,T))}function wo(y){const R=y.children.length>0?` { ${y.children.map(wo).join(", ")} } `:"";return`${y.value}${R}`}function to(y){if(y.snapshot){const R=y.snapshot,T=y._futureSnapshot;y.snapshot=T,Dr(R.queryParams,T.queryParams)||y.queryParamsSubject.next(T.queryParams),R.fragment!==T.fragment&&y.fragmentSubject.next(T.fragment),Dr(R.params,T.params)||y.paramsSubject.next(T.params),function Er(y,R){if(y.length!==R.length)return!1;for(let T=0;T<y.length;++T)if(!Dr(y[T],R[T]))return!1;return!0}(R.url,T.url)||y.urlSubject.next(T.url),Dr(R.data,T.data)||y.dataSubject.next(T.data)}else y.snapshot=y._futureSnapshot,y.dataSubject.next(y._futureSnapshot.data)}function ts(y,R){const T=Dr(y.params,R.params)&&function Rr(y,R){return Wr(y,R)&&y.every((T,P)=>Dr(T.parameters,R[P].parameters))}(y.url,R.url);return T&&!(!y.parent!=!R.parent)&&(!y.parent||ts(y.parent,R.parent))}function qi(y){return"string"==typeof y.title||null===y.title}let To=(()=>{class y{constructor(){this.activated=null,this._activatedRoute=null,this.name=Yt,this.activateEvents=new p.bkB,this.deactivateEvents=new p.bkB,this.attachEvents=new p.bkB,this.detachEvents=new p.bkB,this.parentContexts=(0,p.WQX)(Io),this.location=(0,p.WQX)(p.c1b),this.changeDetector=(0,p.WQX)(p.gRc),this.environmentInjector=(0,p.WQX)(p.uvJ),this.inputBinder=(0,p.WQX)($i,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(T){if(T.name){const{firstChange:P,previousValue:j}=T.name;if(P)return;this.isTrackedInParentContexts(j)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(j)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(T){return this.parentContexts.getContext(T)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const T=this.parentContexts.getContext(this.name);T?.route&&(T.attachRef?this.attach(T.attachRef,T.route):this.activateWith(T.route,T.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new p.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new p.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new p.wOt(4012,!1);this.location.detach();const T=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(T.instance),T}attach(T,P){this.activated=T,this._activatedRoute=P,this.location.insert(T.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(T.instance)}deactivate(){if(this.activated){const T=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(T)}}activateWith(T,P){if(this.isActivated)throw new p.wOt(4013,!1);this._activatedRoute=T;const j=this.location,Te=T.snapshot.component,ot=this.parentContexts.getOrCreateContext(this.name).children,Je=new wi(T,ot,j.injector);this.activated=j.createComponent(Te,{index:j.length,injector:Je,environmentInjector:P??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(P){return new(P||y)};static#t=this.\u0275dir=p.FsC({type:y,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[p.OA$]})}return y})();class wi{constructor(R,T,P){this.route=R,this.childContexts=T,this.parent=P,this.__ngOutletInjector=!0}get(R,T){return R===$n?this.route:R===Io?this.childContexts:this.parent.get(R,T)}}const $i=new p.nKC("");let ns=(()=>{class y{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(T){this.unsubscribeFromRouteData(T),this.subscribeToRouteData(T)}unsubscribeFromRouteData(T){this.outletDataSubscriptions.get(T)?.unsubscribe(),this.outletDataSubscriptions.delete(T)}subscribeToRouteData(T){const{activatedRoute:P}=T,j=yt([P.queryParams,P.params,P.data]).pipe((0,In.n)(([ee,Te,ot],Je)=>(ot={...ee,...Te,...ot},0===Je?(0,Q.of)(ot):Promise.resolve(ot)))).subscribe(ee=>{if(!T.isActivated||!T.activatedComponentRef||T.activatedRoute!==P||null===P.component)return void this.unsubscribeFromRouteData(T);const Te=(0,p.HJs)(P.component);if(Te)for(const{templateName:ot}of Te.inputs)T.activatedComponentRef.setInput(ot,ee[ot]);else this.unsubscribeFromRouteData(T)});this.outletDataSubscriptions.set(T,j)}static#e=this.\u0275fac=function(P){return new(P||y)};static#t=this.\u0275prov=p.jDH({token:y,factory:y.\u0275fac})}return y})();function Jr(y,R,T){if(T&&y.shouldReuseRoute(R.value,T.value.snapshot)){const P=T.value;P._futureSnapshot=R.value;const j=function hr(y,R,T){return R.children.map(P=>{for(const j of T.children)if(y.shouldReuseRoute(P.value,j.value.snapshot))return Jr(y,P,j);return Jr(y,P)})}(y,R,T);return new Ci(P,j)}{if(y.shouldAttach(R.value)){const ee=y.retrieve(R.value);if(null!==ee){const Te=ee.route;return Te.value._futureSnapshot=R.value,Te.children=R.children.map(ot=>Jr(y,ot)),Te}}const P=function ro(y){return new $n(new W.t(y.url),new W.t(y.params),new W.t(y.queryParams),new W.t(y.fragment),new W.t(y.data),y.outlet,y.component,y)}(R.value),j=R.children.map(ee=>Jr(y,ee));return new Ci(P,j)}}const Is="ngNavigationCancelingError";function rs(y,R){const{redirectTo:T,navigationBehaviorOptions:P}=st(R)?{redirectTo:R,navigationBehaviorOptions:void 0}:R,j=Co(!1,_r.Redirect);return j.url=T,j.navigationBehaviorOptions=P,j}function Co(y,R){const T=new Error(`NavigationCancelingError: ${y||""}`);return T[Is]=!0,T.cancellationCode=R,T}function Hs(y){return!!y&&y[Is]}let io=(()=>{class y{static#e=this.\u0275fac=function(P){return new(P||y)};static#t=this.\u0275cmp=p.VBU({type:y,selectors:[["ng-component"]],standalone:!0,features:[p.aNF],decls:1,vars:0,template:function(P,j){1&P&&p.nrm(0,"router-outlet")},dependencies:[To],encapsulation:2})}return y})();function oo(y){const R=y.children&&y.children.map(oo),T=R?{...y,children:R}:{...y};return!T.component&&!T.loadComponent&&(R||T.loadChildren)&&T.outlet&&T.outlet!==Yt&&(T.component=io),T}function di(y){return y.outlet||Yt}function Ni(y){if(!y)return null;if(y.routeConfig?._injector)return y.routeConfig._injector;for(let R=y.parent;R;R=R.parent){const T=R.routeConfig;if(T?._loadedInjector)return T._loadedInjector;if(T?._injector)return T._injector}return null}class ao{constructor(R,T,P,j,ee){this.routeReuseStrategy=R,this.futureState=T,this.currState=P,this.forwardEvent=j,this.inputBindingEnabled=ee}activate(R){const T=this.futureState._root,P=this.currState?this.currState._root:null;this.deactivateChildRoutes(T,P,R),to(this.futureState.root),this.activateChildRoutes(T,P,R)}deactivateChildRoutes(R,T,P){const j=Ai(T);R.children.forEach(ee=>{const Te=ee.value.outlet;this.deactivateRoutes(ee,j[Te],P),delete j[Te]}),Object.values(j).forEach(ee=>{this.deactivateRouteAndItsChildren(ee,P)})}deactivateRoutes(R,T,P){const j=R.value,ee=T?T.value:null;if(j===ee)if(j.component){const Te=P.getContext(j.outlet);Te&&this.deactivateChildRoutes(R,T,Te.children)}else this.deactivateChildRoutes(R,T,P);else ee&&this.deactivateRouteAndItsChildren(T,P)}deactivateRouteAndItsChildren(R,T){R.value.component&&this.routeReuseStrategy.shouldDetach(R.value.snapshot)?this.detachAndStoreRouteSubtree(R,T):this.deactivateRouteAndOutlet(R,T)}detachAndStoreRouteSubtree(R,T){const P=T.getContext(R.value.outlet),j=P&&R.value.component?P.children:T,ee=Ai(R);for(const Te of Object.values(ee))this.deactivateRouteAndItsChildren(Te,j);if(P&&P.outlet){const Te=P.outlet.detach(),ot=P.children.onOutletDeactivated();this.routeReuseStrategy.store(R.value.snapshot,{componentRef:Te,route:R,contexts:ot})}}deactivateRouteAndOutlet(R,T){const P=T.getContext(R.value.outlet),j=P&&R.value.component?P.children:T,ee=Ai(R);for(const Te of Object.values(ee))this.deactivateRouteAndItsChildren(Te,j);P&&(P.outlet&&(P.outlet.deactivate(),P.children.onOutletDeactivated()),P.attachRef=null,P.route=null)}activateChildRoutes(R,T,P){const j=Ai(T);R.children.forEach(ee=>{this.activateRoutes(ee,j[ee.value.outlet],P),this.forwardEvent(new ca(ee.value.snapshot))}),R.children.length&&this.forwardEvent(new Yr(R.value.snapshot))}activateRoutes(R,T,P){const j=R.value,ee=T?T.value:null;if(to(j),j===ee)if(j.component){const Te=P.getOrCreateContext(j.outlet);this.activateChildRoutes(R,T,Te.children)}else this.activateChildRoutes(R,T,P);else if(j.component){const Te=P.getOrCreateContext(j.outlet);if(this.routeReuseStrategy.shouldAttach(j.snapshot)){const ot=this.routeReuseStrategy.retrieve(j.snapshot);this.routeReuseStrategy.store(j.snapshot,null),Te.children.onOutletReAttached(ot.contexts),Te.attachRef=ot.componentRef,Te.route=ot.route.value,Te.outlet&&Te.outlet.attach(ot.componentRef,ot.route.value),to(ot.route.value),this.activateChildRoutes(R,null,Te.children)}else{const ot=Ni(j.snapshot);Te.attachRef=null,Te.route=j,Te.injector=ot,Te.outlet&&Te.outlet.activateWith(j,Te.injector),this.activateChildRoutes(R,null,Te.children)}}else this.activateChildRoutes(R,null,P)}}class Si{constructor(R){this.path=R,this.route=this.path[this.path.length-1]}}class Ao{constructor(R,T){this.component=R,this.route=T}}function Ra(y,R,T){const P=y._root;return Do(P,R?R._root:null,T,[P.value])}function ws(y,R){const T=Symbol(),P=R.get(y,T);return P===T?"function"!=typeof y||(0,p.LfX)(y)?R.get(y):y:P}function Do(y,R,T,P,j={canDeactivateChecks:[],canActivateChecks:[]}){const ee=Ai(R);return y.children.forEach(Te=>{(function $o(y,R,T,P,j={canDeactivateChecks:[],canActivateChecks:[]}){const ee=y.value,Te=R?R.value:null,ot=T?T.getContext(y.value.outlet):null;if(Te&&ee.routeConfig===Te.routeConfig){const Je=function G(y,R,T){if("function"==typeof T)return T(y,R);switch(T){case"pathParamsChange":return!Wr(y.url,R.url);case"pathParamsOrQueryParamsChange":return!Wr(y.url,R.url)||!Dr(y.queryParams,R.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ts(y,R)||!Dr(y.queryParams,R.queryParams);default:return!ts(y,R)}}(Te,ee,ee.routeConfig.runGuardsAndResolvers);Je?j.canActivateChecks.push(new Si(P)):(ee.data=Te.data,ee._resolvedData=Te._resolvedData),Do(y,R,ee.component?ot?ot.children:null:T,P,j),Je&&ot&&ot.outlet&&ot.outlet.isActivated&&j.canDeactivateChecks.push(new Ao(ot.outlet.component,Te))}else Te&&z(R,ot,j),j.canActivateChecks.push(new Si(P)),Do(y,null,ee.component?ot?ot.children:null:T,P,j)})(Te,ee[Te.value.outlet],T,P.concat([Te.value]),j),delete ee[Te.value.outlet]}),Object.entries(ee).forEach(([Te,ot])=>z(ot,T.getContext(Te),j)),j}function z(y,R,T){const P=Ai(y),j=y.value;Object.entries(P).forEach(([ee,Te])=>{z(Te,j.component?R?R.children.getContext(ee):null:R,T)}),T.canDeactivateChecks.push(new Ao(j.component&&R&&R.outlet&&R.outlet.isActivated?R.outlet.component:null,j))}function x(y){return"function"==typeof y}function Ms(y){return y instanceof ft.G||"EmptyError"===y?.name}const xs=Symbol("INITIAL_VALUE");function Os(){return(0,In.n)(y=>yt(y.map(R=>R.pipe((0,vt.s)(1),(0,nn.Z)(xs)))).pipe((0,Ht.T)(R=>{for(const T of R)if(!0!==T){if(T===xs)return xs;if(!1===T||T instanceof kn)return T}return!0}),(0,Ct.p)(R=>R!==xs),(0,vt.s)(1)))}function ni(y){return(0,Ve.F)((0,Ze.M)(R=>{if(st(R))throw rs(0,R)}),(0,Ht.T)(R=>!0===R))}class pi{constructor(R){this.segmentGroup=R||null}}class gi extends Error{constructor(R){super(),this.urlTree=R}}function Cs(y){return De(new pi(y))}class Ro{constructor(R,T){this.urlSerializer=R,this.urlTree=T}lineralizeSegments(R,T){let P=[],j=T.root;for(;;){if(P=P.concat(j.segments),0===j.numberOfChildren)return(0,Q.of)(P);if(j.numberOfChildren>1||!j.children[Yt])return De(new p.wOt(4e3,!1));j=j.children[Yt]}}applyRedirectCommands(R,T,P){const j=this.applyRedirectCreateUrlTree(T,this.urlSerializer.parse(T),R,P);if(T.startsWith("/"))throw new gi(j);return j}applyRedirectCreateUrlTree(R,T,P,j){const ee=this.createSegmentGroup(R,T.root,P,j);return new kn(ee,this.createQueryParams(T.queryParams,this.urlTree.queryParams),T.fragment)}createQueryParams(R,T){const P={};return Object.entries(R).forEach(([j,ee])=>{if("string"==typeof ee&&ee.startsWith(":")){const ot=ee.substring(1);P[j]=T[ot]}else P[j]=ee}),P}createSegmentGroup(R,T,P,j){const ee=this.createSegments(R,T.segments,P,j);let Te={};return Object.entries(T.children).forEach(([ot,Je])=>{Te[ot]=this.createSegmentGroup(R,Je,P,j)}),new Sn(ee,Te)}createSegments(R,T,P,j){return T.map(ee=>ee.path.startsWith(":")?this.findPosParam(R,ee,j):this.findOrReturn(ee,P))}findPosParam(R,T,P){const j=P[T.path.substring(1)];if(!j)throw new p.wOt(4001,!1);return j}findOrReturn(R,T){let P=0;for(const j of T){if(j.path===R.path)return T.splice(P),j;P++}return R}}const Ws={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function pa(y,R,T,P,j){const ee=lo(y,R,T);return ee.matched?(P=function ui(y,R){return y.providers&&!y._injector&&(y._injector=(0,p.Ol2)(y.providers,R,`Route: ${y.path}`)),y._injector??R}(R,P),function ei(y,R,T,P){const j=R.canMatch;if(!j||0===j.length)return(0,Q.of)(!0);const ee=j.map(Te=>{const ot=ws(Te,y);return dn(function Gs(y){return y&&x(y.canMatch)}(ot)?ot.canMatch(R,T):(0,p.N4e)(y,()=>ot(R,T)))});return(0,Q.of)(ee).pipe(Os(),ni())}(P,R,T).pipe((0,Ht.T)(Te=>!0===Te?ee:{...Ws}))):(0,Q.of)(ee)}function lo(y,R,T){if("**"===R.path)return function Jo(y){return{matched:!0,parameters:y.length>0?an(y).parameters:{},consumedSegments:y,remainingSegments:[],positionalParamSegments:{}}}(T);if(""===R.path)return"full"===R.pathMatch&&(y.hasChildren()||T.length>0)?{...Ws}:{matched:!0,consumedSegments:[],remainingSegments:T,parameters:{},positionalParamSegments:{}};const j=(R.matcher||jn)(T,y,R);if(!j)return{...Ws};const ee={};Object.entries(j.posParams??{}).forEach(([ot,Je])=>{ee[ot]=Je.path});const Te=j.consumed.length>0?{...ee,...j.consumed[j.consumed.length-1].parameters}:ee;return{matched:!0,consumedSegments:j.consumed,remainingSegments:T.slice(j.consumed.length),parameters:Te,positionalParamSegments:j.posParams??{}}}function Wo(y,R,T,P){return T.length>0&&function zo(y,R,T){return T.some(P=>zs(y,R,P)&&di(P)!==Yt)}(y,T,P)?{segmentGroup:new Sn(R,ga(P,new Sn(T,y.children))),slicedSegments:[]}:0===T.length&&function ma(y,R,T){return T.some(P=>zs(y,R,P))}(y,T,P)?{segmentGroup:new Sn(y.segments,ea(y,T,P,y.children)),slicedSegments:T}:{segmentGroup:new Sn(y.segments,y.children),slicedSegments:T}}function ea(y,R,T,P){const j={};for(const ee of T)if(zs(y,R,ee)&&!P[di(ee)]){const Te=new Sn([],{});j[di(ee)]=Te}return{...P,...j}}function ga(y,R){const T={};T[Yt]=R;for(const P of y)if(""===P.path&&di(P)!==Yt){const j=new Sn([],{});T[di(P)]=j}return T}function zs(y,R,T){return(!(y.hasChildren()||R.length>0)||"full"!==T.pathMatch)&&""===T.path}class Tl{}class Gi{constructor(R,T,P,j,ee,Te,ot){this.injector=R,this.configLoader=T,this.rootComponentType=P,this.config=j,this.urlTree=ee,this.paramsInheritanceStrategy=Te,this.urlSerializer=ot,this.applyRedirects=new Ro(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(R){return new p.wOt(4002,`'${R.segmentGroup}'`)}recognize(){const R=Wo(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(R).pipe((0,Ht.T)(T=>{const P=new eo([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Yt,this.rootComponentType,null,{}),j=new Ci(P,T),ee=new Hi("",j),Te=function $e(y,R,T=null,P=null){return Xt(_t(y),R,T,P)}(P,[],this.urlTree.queryParams,this.urlTree.fragment);return Te.queryParams=this.urlTree.queryParams,ee.url=this.urlSerializer.serialize(Te),this.inheritParamsAndData(ee._root,null),{state:ee,tree:Te}}))}match(R){return this.processSegmentGroup(this.injector,this.config,R,Yt).pipe(dt(P=>{if(P instanceof gi)return this.urlTree=P.urlTree,this.match(P.urlTree.root);throw P instanceof pi?this.noMatchError(P):P}))}inheritParamsAndData(R,T){const P=R.value,j=vs(P,T,this.paramsInheritanceStrategy);P.params=Object.freeze(j.params),P.data=Object.freeze(j.data),R.children.forEach(ee=>this.inheritParamsAndData(ee,P))}processSegmentGroup(R,T,P,j){return 0===P.segments.length&&P.hasChildren()?this.processChildren(R,T,P):this.processSegment(R,T,P,P.segments,j,!0).pipe((0,Ht.T)(ee=>ee instanceof Ci?[ee]:[]))}processChildren(R,T,P){const j=[];for(const ee of Object.keys(P.children))"primary"===ee?j.unshift(ee):j.push(ee);return(0,V.H)(j).pipe((0,lt.H)(ee=>{const Te=P.children[ee],ot=function bo(y,R){const T=y.filter(P=>di(P)===R);return T.push(...y.filter(P=>di(P)!==R)),T}(T,ee);return this.processSegmentGroup(R,ot,Te,ee)}),(0,Qe.S)((ee,Te)=>(ee.push(...Te),ee)),(0,Pt.U)(null),function Mt(y,R){const T=arguments.length>=2;return P=>P.pipe(y?(0,Ct.p)((j,ee)=>y(j,ee,P)):de.D,Gt(1),T?(0,Pt.U)(R):(0,on.v)(()=>new ft.G))}(),(0,Me.Z)(ee=>{if(null===ee)return Cs(P);const Te=ki(ee);return function xa(y){y.sort((R,T)=>R.value.outlet===Yt?-1:T.value.outlet===Yt?1:R.value.outlet.localeCompare(T.value.outlet))}(Te),(0,Q.of)(Te)}))}processSegment(R,T,P,j,ee,Te){return(0,V.H)(T).pipe((0,lt.H)(ot=>this.processSegmentAgainstRoute(ot._injector??R,T,ot,P,j,ee,Te).pipe(dt(Je=>{if(Je instanceof pi)return(0,Q.of)(null);throw Je}))),(0,He.$)(ot=>!!ot),dt(ot=>{if(Ms(ot))return function co(y,R,T){return 0===R.length&&!y.children[T]}(P,j,ee)?(0,Q.of)(new Tl):Cs(P);throw ot}))}processSegmentAgainstRoute(R,T,P,j,ee,Te,ot){return function _a(y,R,T,P){return!!(di(y)===P||P!==Yt&&zs(R,T,y))&&lo(R,y,T).matched}(P,j,ee,Te)?void 0===P.redirectTo?this.matchSegmentAgainstRoute(R,j,P,ee,Te):this.allowRedirects&&ot?this.expandSegmentAgainstRouteUsingRedirect(R,j,T,P,ee,Te):Cs(j):Cs(j)}expandSegmentAgainstRouteUsingRedirect(R,T,P,j,ee,Te){const{matched:ot,consumedSegments:Je,positionalParamSegments:ln,remainingSegments:dr}=lo(T,j,ee);if(!ot)return Cs(T);j.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const vr=this.applyRedirects.applyRedirectCommands(Je,j.redirectTo,ln);return this.applyRedirects.lineralizeSegments(j,vr).pipe((0,Me.Z)(Vr=>this.processSegment(R,P,T,Vr.concat(dr),Te,!1)))}matchSegmentAgainstRoute(R,T,P,j,ee){const Te=pa(T,P,j,R);return"**"===P.path&&(T.children={}),Te.pipe((0,In.n)(ot=>ot.matched?this.getChildConfig(R=P._injector??R,P,j).pipe((0,In.n)(({routes:Je})=>{const ln=P._loadedInjector??R,{consumedSegments:dr,remainingSegments:vr,parameters:Vr}=ot,xo=new eo(dr,Vr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function bs(y){return y.data||{}}(P),di(P),P.component??P._loadedComponent??null,P,function Oa(y){return y.resolve||{}}(P)),{segmentGroup:Ia,slicedSegments:ra}=Wo(T,dr,vr,Je);if(0===ra.length&&Ia.hasChildren())return this.processChildren(ln,Je,Ia).pipe((0,Ht.T)(as=>null===as?null:new Ci(xo,as)));if(0===Je.length&&0===ra.length)return(0,Q.of)(new Ci(xo,[]));const os=di(P)===ee;return this.processSegment(ln,Je,Ia,ra,os?Yt:ee,!0).pipe((0,Ht.T)(as=>new Ci(xo,as instanceof Ci?[as]:[])))})):Cs(T)))}getChildConfig(R,T,P){return T.children?(0,Q.of)({routes:T.children,injector:R}):T.loadChildren?void 0!==T._loadedRoutes?(0,Q.of)({routes:T._loadedRoutes,injector:T._loadedInjector}):function Jn(y,R,T,P){const j=R.canLoad;if(void 0===j||0===j.length)return(0,Q.of)(!0);const ee=j.map(Te=>{const ot=ws(Te,y);return dn(function Pe(y){return y&&x(y.canLoad)}(ot)?ot.canLoad(R,T):(0,p.N4e)(y,()=>ot(R,T)))});return(0,Q.of)(ee).pipe(Os(),ni())}(R,T,P).pipe((0,Me.Z)(j=>j?this.configLoader.loadChildren(R,T).pipe((0,Ze.M)(ee=>{T._loadedRoutes=ee.routes,T._loadedInjector=ee.injector})):function ks(y){return De(Co(!1,_r.GuardRejected))}())):(0,Q.of)({routes:[],injector:R})}}function Ko(y){const R=y.value.routeConfig;return R&&""===R.path}function ki(y){const R=[],T=new Set;for(const P of y){if(!Ko(P)){R.push(P);continue}const j=R.find(ee=>P.value.routeConfig===ee.value.routeConfig);void 0!==j?(j.children.push(...P.children),T.add(j)):R.push(P)}for(const P of T){const j=ki(P.children);R.push(new Ci(P.value,j))}return R.filter(P=>!T.has(P))}function ho(y){const R=y.children.map(T=>ho(T)).flat();return[y,...R]}function fo(y){return(0,In.n)(R=>{const T=y(R);return T?(0,V.H)(T).pipe((0,Ht.T)(()=>R)):(0,Q.of)(R)})}let Ks=(()=>{class y{buildTitle(T){let P,j=T.root;for(;void 0!==j;)P=this.getResolvedTitleForRoute(j)??P,j=j.children.find(ee=>ee.outlet===Yt);return P}getResolvedTitleForRoute(T){return T.data[ir]}static#e=this.\u0275fac=function(P){return new(P||y)};static#t=this.\u0275prov=p.jDH({token:y,factory:()=>(0,p.WQX)(Cl),providedIn:"root"})}return y})(),Cl=(()=>{class y extends Ks{constructor(T){super(),this.title=T}updateTitle(T){const P=this.buildTitle(T);void 0!==P&&this.title.setTitle(P)}static#e=this.\u0275fac=function(P){return new(P||y)(p.KVO(Bn.hE))};static#t=this.\u0275prov=p.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();const mi=new p.nKC("",{providedIn:"root",factory:()=>({})}),b=new p.nKC("");let K=(()=>{class y{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,p.WQX)(p.Ql9)}loadComponent(T){if(this.componentLoaders.get(T))return this.componentLoaders.get(T);if(T._loadedComponent)return(0,Q.of)(T._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(T);const P=dn(T.loadComponent()).pipe((0,Ht.T)(ve),(0,Ze.M)(ee=>{this.onLoadEndListener&&this.onLoadEndListener(T),T._loadedComponent=ee}),(0,Dn.j)(()=>{this.componentLoaders.delete(T)})),j=new Se(P,()=>new pt.B).pipe(ue());return this.componentLoaders.set(T,j),j}loadChildren(T,P){if(this.childrenLoaders.get(P))return this.childrenLoaders.get(P);if(P._loadedRoutes)return(0,Q.of)({routes:P._loadedRoutes,injector:P._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(P);const ee=function O(y,R,T,P){return dn(y.loadChildren()).pipe((0,Ht.T)(ve),(0,Me.Z)(j=>j instanceof p.Co$||Array.isArray(j)?(0,Q.of)(j):(0,V.H)(R.compileModuleAsync(j))),(0,Ht.T)(j=>{P&&P(y);let ee,Te,ot=!1;return Array.isArray(j)?(Te=j,!0):(ee=j.create(T).injector,Te=ee.get(b,[],{optional:!0,self:!0}).flat()),{routes:Te.map(oo),injector:ee}}))}(P,this.compiler,T,this.onLoadEndListener).pipe((0,Dn.j)(()=>{this.childrenLoaders.delete(P)})),Te=new Se(ee,()=>new pt.B).pipe(ue());return this.childrenLoaders.set(P,Te),Te}static#e=this.\u0275fac=function(P){return new(P||y)};static#t=this.\u0275prov=p.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();function ve(y){return function $(y){return y&&"object"==typeof y&&"default"in y}(y)?y.default:y}let at=(()=>{class y{static#e=this.\u0275fac=function(P){return new(P||y)};static#t=this.\u0275prov=p.jDH({token:y,factory:()=>(0,p.WQX)(wt),providedIn:"root"})}return y})(),wt=(()=>{class y{shouldProcessUrl(T){return!0}extract(T){return T}merge(T,P){return T}static#e=this.\u0275fac=function(P){return new(P||y)};static#t=this.\u0275prov=p.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();const hn=new p.nKC(""),U=new p.nKC("");function E(y,R,T){const P=y.get(U),j=y.get(Ee.qQ);return y.get(p.SKi).runOutsideAngular(()=>{if(!j.startViewTransition||P.skipNextTransition)return P.skipNextTransition=!1,Promise.resolve();let ee;const Te=new Promise(ln=>{ee=ln}),ot=j.startViewTransition(()=>(ee(),function v(y){return new Promise(R=>{(0,p.mal)(R,{injector:y})})}(y))),{onViewTransitionCreated:Je}=P;return Je&&(0,p.N4e)(y,()=>Je({transition:ot,from:R,to:T})),Te})}let S=(()=>{class y{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new pt.B,this.transitionAbortSubject=new pt.B,this.configLoader=(0,p.WQX)(K),this.environmentInjector=(0,p.WQX)(p.uvJ),this.urlSerializer=(0,p.WQX)(ti),this.rootContexts=(0,p.WQX)(Io),this.location=(0,p.WQX)(Ee.aZ),this.inputBindingEnabled=null!==(0,p.WQX)($i,{optional:!0}),this.titleStrategy=(0,p.WQX)(Ks),this.options=(0,p.WQX)(mi,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,p.WQX)(at),this.createViewTransition=(0,p.WQX)(hn,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Q.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=j=>this.events.next(new Ji(j)),this.configLoader.onLoadStartListener=j=>this.events.next(new lr(j))}complete(){this.transitions?.complete()}handleNavigationRequest(T){const P=++this.navigationId;this.transitions?.next({...this.transitions.value,...T,id:P})}setupNavigations(T,P,j){return this.transitions=new W.t({id:0,currentUrlTree:P,currentRawUrl:P,extractedUrl:this.urlHandlingStrategy.extract(P),urlAfterRedirects:this.urlHandlingStrategy.extract(P),rawUrl:P,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:nr,restoredState:null,currentSnapshot:j.snapshot,targetSnapshot:null,currentRouterState:j,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Ct.p)(ee=>0!==ee.id),(0,Ht.T)(ee=>({...ee,extractedUrl:this.urlHandlingStrategy.extract(ee.rawUrl)})),(0,In.n)(ee=>{let Te=!1,ot=!1;return(0,Q.of)(ee).pipe((0,In.n)(Je=>{if(this.navigationId>ee.id)return this.cancelNavigationTransition(ee,"",_r.SupersededByNewNavigation),ye.w;this.currentTransition=ee,this.currentNavigation={id:Je.id,initialUrl:Je.rawUrl,extractedUrl:Je.extractedUrl,trigger:Je.source,extras:Je.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const ln=!T.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!ln&&"reload"!==(Je.extras.onSameUrlNavigation??T.onSameUrlNavigation)){const vr="";return this.events.next(new Xn(Je.id,this.urlSerializer.serialize(Je.rawUrl),vr,ci.IgnoredSameUrlNavigation)),Je.resolve(null),ye.w}if(this.urlHandlingStrategy.shouldProcessUrl(Je.rawUrl))return(0,Q.of)(Je).pipe((0,In.n)(vr=>{const Vr=this.transitions?.getValue();return this.events.next(new Br(vr.id,this.urlSerializer.serialize(vr.extractedUrl),vr.source,vr.restoredState)),Vr!==this.transitions?.getValue()?ye.w:Promise.resolve(vr)}),function jr(y,R,T,P,j,ee){return(0,Me.Z)(Te=>function ya(y,R,T,P,j,ee,Te="emptyOnly"){return new Gi(y,R,T,P,j,Te,ee).recognize()}(y,R,T,P,Te.extractedUrl,j,ee).pipe((0,Ht.T)(({state:ot,tree:Je})=>({...Te,targetSnapshot:ot,urlAfterRedirects:Je}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,T.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,Ze.M)(vr=>{ee.targetSnapshot=vr.targetSnapshot,ee.urlAfterRedirects=vr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:vr.urlAfterRedirects};const Vr=new ji(vr.id,this.urlSerializer.serialize(vr.extractedUrl),this.urlSerializer.serialize(vr.urlAfterRedirects),vr.targetSnapshot);this.events.next(Vr)}));if(ln&&this.urlHandlingStrategy.shouldProcessUrl(Je.currentRawUrl)){const{id:vr,extractedUrl:Vr,source:xo,restoredState:Ia,extras:ra}=Je,os=new Br(vr,this.urlSerializer.serialize(Vr),xo,Ia);this.events.next(os);const as=Ei(this.rootComponentType).snapshot;return this.currentTransition=ee={...Je,targetSnapshot:as,urlAfterRedirects:Vr,extras:{...ra,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=Vr,(0,Q.of)(ee)}{const vr="";return this.events.next(new Xn(Je.id,this.urlSerializer.serialize(Je.extractedUrl),vr,ci.IgnoredByUrlHandlingStrategy)),Je.resolve(null),ye.w}}),(0,Ze.M)(Je=>{const ln=new Xr(Je.id,this.urlSerializer.serialize(Je.extractedUrl),this.urlSerializer.serialize(Je.urlAfterRedirects),Je.targetSnapshot);this.events.next(ln)}),(0,Ht.T)(Je=>(this.currentTransition=ee={...Je,guards:Ra(Je.targetSnapshot,Je.currentSnapshot,this.rootContexts)},ee)),function ha(y,R){return(0,Me.Z)(T=>{const{targetSnapshot:P,currentSnapshot:j,guards:{canActivateChecks:ee,canDeactivateChecks:Te}}=T;return 0===Te.length&&0===ee.length?(0,Q.of)({...T,guardsResult:!0}):function Pa(y,R,T,P){return(0,V.H)(y).pipe((0,Me.Z)(j=>function fa(y,R,T,P,j){const ee=R&&R.routeConfig?R.routeConfig.canDeactivate:null;if(!ee||0===ee.length)return(0,Q.of)(!0);const Te=ee.map(ot=>{const Je=Ni(R)??j,ln=ws(ot,Je);return dn(function En(y){return y&&x(y.canDeactivate)}(ln)?ln.canDeactivate(y,R,T,P):(0,p.N4e)(Je,()=>ln(y,R,T,P))).pipe((0,He.$)())});return(0,Q.of)(Te).pipe(Os())}(j.component,j.route,T,R,P)),(0,He.$)(j=>!0!==j,!0))}(Te,P,j,y).pipe((0,Me.Z)(ot=>ot&&function se(y){return"boolean"==typeof y}(ot)?function Ts(y,R,T,P){return(0,V.H)(R).pipe((0,lt.H)(j=>(0,Ut.x)(function Go(y,R){return null!==y&&R&&R(new zi(y)),(0,Q.of)(!0)}(j.route.parent,P),function So(y,R){return null!==y&&R&&R(new ms(y)),(0,Q.of)(!0)}(j.route,P),function al(y,R,T){const P=R[R.length-1],ee=R.slice(0,R.length-1).reverse().map(Te=>function da(y){const R=y.routeConfig?y.routeConfig.canActivateChild:null;return R&&0!==R.length?{node:y,guards:R}:null}(Te)).filter(Te=>null!==Te).map(Te=>Ge(()=>{const ot=Te.guards.map(Je=>{const ln=Ni(Te.node)??T,dr=ws(Je,ln);return dn(function Yn(y){return y&&x(y.canActivateChild)}(dr)?dr.canActivateChild(P,y):(0,p.N4e)(ln,()=>dr(P,y))).pipe((0,He.$)())});return(0,Q.of)(ot).pipe(Os())}));return(0,Q.of)(ee).pipe(Os())}(y,j.path,T),function is(y,R,T){const P=R.routeConfig?R.routeConfig.canActivate:null;if(!P||0===P.length)return(0,Q.of)(!0);const j=P.map(ee=>Ge(()=>{const Te=Ni(R)??T,ot=ws(ee,Te);return dn(function gn(y){return y&&x(y.canActivate)}(ot)?ot.canActivate(R,y):(0,p.N4e)(Te,()=>ot(R,y))).pipe((0,He.$)())}));return(0,Q.of)(j).pipe(Os())}(y,j.route,T))),(0,He.$)(j=>!0!==j,!0))}(P,ee,y,R):(0,Q.of)(ot)),(0,Ht.T)(ot=>({...T,guardsResult:ot})))})}(this.environmentInjector,Je=>this.events.next(Je)),(0,Ze.M)(Je=>{if(ee.guardsResult=Je.guardsResult,st(Je.guardsResult))throw rs(0,Je.guardsResult);const ln=new Bo(Je.id,this.urlSerializer.serialize(Je.extractedUrl),this.urlSerializer.serialize(Je.urlAfterRedirects),Je.targetSnapshot,!!Je.guardsResult);this.events.next(ln)}),(0,Ct.p)(Je=>!!Je.guardsResult||(this.cancelNavigationTransition(Je,"",_r.GuardRejected),!1)),fo(Je=>{if(Je.guards.canActivateChecks.length)return(0,Q.of)(Je).pipe((0,Ze.M)(ln=>{const dr=new Us(ln.id,this.urlSerializer.serialize(ln.extractedUrl),this.urlSerializer.serialize(ln.urlAfterRedirects),ln.targetSnapshot);this.events.next(dr)}),(0,In.n)(ln=>{let dr=!1;return(0,Q.of)(ln).pipe(function Ka(y,R){return(0,Me.Z)(T=>{const{targetSnapshot:P,guards:{canActivateChecks:j}}=T;if(!j.length)return(0,Q.of)(T);const ee=new Set(j.map(Je=>Je.route)),Te=new Set;for(const Je of ee)if(!Te.has(Je))for(const ln of ho(Je))Te.add(ln);let ot=0;return(0,V.H)(Te).pipe((0,lt.H)(Je=>ee.has(Je)?function hs(y,R,T,P){const j=y.routeConfig,ee=y._resolve;return void 0!==j?.title&&!qi(j)&&(ee[ir]=j.title),function ll(y,R,T,P){const j=Sr(y);if(0===j.length)return(0,Q.of)({});const ee={};return(0,V.H)(j).pipe((0,Me.Z)(Te=>function cl(y,R,T,P){const j=Ni(R)??P,ee=ws(y,j);return dn(ee.resolve?ee.resolve(R,T):(0,p.N4e)(j,()=>ee(R,T)))}(y[Te],R,T,P).pipe((0,He.$)(),(0,Ze.M)(ot=>{ee[Te]=ot}))),Gt(1),function fn(y){return(0,Ht.T)(()=>y)}(ee),dt(Te=>Ms(Te)?ye.w:De(Te)))}(ee,y,R,P).pipe((0,Ht.T)(Te=>(y._resolvedData=Te,y.data=vs(y,y.parent,T).resolve,null)))}(Je,P,y,R):(Je.data=vs(Je,Je.parent,y).resolve,(0,Q.of)(void 0))),(0,Ze.M)(()=>ot++),Gt(1),(0,Me.Z)(Je=>ot===Te.size?(0,Q.of)(T):ye.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,Ze.M)({next:()=>dr=!0,complete:()=>{dr||this.cancelNavigationTransition(ln,"",_r.NoDataFromResolver)}}))}),(0,Ze.M)(ln=>{const dr=new Bs(ln.id,this.urlSerializer.serialize(ln.extractedUrl),this.urlSerializer.serialize(ln.urlAfterRedirects),ln.targetSnapshot);this.events.next(dr)}))}),fo(Je=>{const ln=dr=>{const vr=[];dr.routeConfig?.loadComponent&&!dr.routeConfig._loadedComponent&&vr.push(this.configLoader.loadComponent(dr.routeConfig).pipe((0,Ze.M)(Vr=>{dr.component=Vr}),(0,Ht.T)(()=>{})));for(const Vr of dr.children)vr.push(...ln(Vr));return vr};return yt(ln(Je.targetSnapshot.root)).pipe((0,Pt.U)(null),(0,vt.s)(1))}),fo(()=>this.afterPreactivation()),(0,In.n)(()=>{const{currentSnapshot:Je,targetSnapshot:ln}=ee,dr=this.createViewTransition?.(this.environmentInjector,Je.root,ln.root);return dr?(0,V.H)(dr).pipe((0,Ht.T)(()=>ee)):(0,Q.of)(ee)}),(0,Ht.T)(Je=>{const ln=function no(y,R,T){const P=Jr(y,R._root,T?T._root:void 0);return new Eo(P,R)}(T.routeReuseStrategy,Je.targetSnapshot,Je.currentRouterState);return this.currentTransition=ee={...Je,targetRouterState:ln},this.currentNavigation.targetRouterState=ln,ee}),(0,Ze.M)(()=>{this.events.next(new Ki)}),((y,R,T,P)=>(0,Ht.T)(j=>(new ao(R,j.targetRouterState,j.currentRouterState,T,P).activate(y),j)))(this.rootContexts,T.routeReuseStrategy,Je=>this.events.next(Je),this.inputBindingEnabled),(0,vt.s)(1),(0,Ze.M)({next:Je=>{Te=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Qr(Je.id,this.urlSerializer.serialize(Je.extractedUrl),this.urlSerializer.serialize(Je.urlAfterRedirects))),this.titleStrategy?.updateTitle(Je.targetRouterState.snapshot),Je.resolve(!0)},complete:()=>{Te=!0}}),function Wn(y){return(0,Xe.N)((R,T)=>{(0,Bt.Tg)(y).subscribe((0,We._)(T,()=>T.complete(),xn.l)),!T.closed&&R.subscribe(T)})}(this.transitionAbortSubject.pipe((0,Ze.M)(Je=>{throw Je}))),(0,Dn.j)(()=>{!Te&&!ot&&this.cancelNavigationTransition(ee,"",_r.SupersededByNewNavigation),this.currentTransition?.id===ee.id&&(this.currentNavigation=null,this.currentTransition=null)}),dt(Je=>{if(ot=!0,Hs(Je))this.events.next(new Tn(ee.id,this.urlSerializer.serialize(ee.extractedUrl),Je.message,Je.cancellationCode)),function Es(y){return Hs(y)&&st(y.url)}(Je)?this.events.next(new es(Je.url)):ee.resolve(!1);else{this.events.next(new vo(ee.id,this.urlSerializer.serialize(ee.extractedUrl),Je,ee.targetSnapshot??void 0));try{ee.resolve(T.errorHandler(Je))}catch(ln){this.options.resolveNavigationPromiseOnError?ee.resolve(!1):ee.reject(ln)}}return ye.w}))}))}cancelNavigationTransition(T,P,j){const ee=new Tn(T.id,this.urlSerializer.serialize(T.extractedUrl),P,j);this.events.next(ee),T.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static#e=this.\u0275fac=function(P){return new(P||y)};static#t=this.\u0275prov=p.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();function N(y){return y!==nr}let Z=(()=>{class y{static#e=this.\u0275fac=function(P){return new(P||y)};static#t=this.\u0275prov=p.jDH({token:y,factory:()=>(0,p.WQX)(Ae),providedIn:"root"})}return y})();class Ie{shouldDetach(R){return!1}store(R,T){}shouldAttach(R){return!1}retrieve(R){return null}shouldReuseRoute(R,T){return R.routeConfig===T.routeConfig}}let Ae=(()=>{class y extends Ie{static#e=this.\u0275fac=(()=>{let T;return function(j){return(T||(T=p.xGo(y)))(j||y)}})();static#t=this.\u0275prov=p.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})(),Ce=(()=>{class y{static#e=this.\u0275fac=function(P){return new(P||y)};static#t=this.\u0275prov=p.jDH({token:y,factory:()=>(0,p.WQX)(Ue),providedIn:"root"})}return y})(),Ue=(()=>{class y extends Ce{constructor(){super(...arguments),this.location=(0,p.WQX)(Ee.aZ),this.urlSerializer=(0,p.WQX)(ti),this.options=(0,p.WQX)(mi,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,p.WQX)(at),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new kn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Ei(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(T){return this.location.subscribe(P=>{"popstate"===P.type&&T(P.url,P.state)})}handleRouterEvent(T,P){if(T instanceof Br)this.stateMemento=this.createStateMemento();else if(T instanceof Xn)this.rawUrlTree=P.initialUrl;else if(T instanceof ji){if("eager"===this.urlUpdateStrategy&&!P.extras.skipLocationChange){const j=this.urlHandlingStrategy.merge(P.finalUrl,P.initialUrl);this.setBrowserUrl(j,P)}}else T instanceof Ki?(this.currentUrlTree=P.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(P.finalUrl,P.initialUrl),this.routerState=P.targetRouterState,"deferred"===this.urlUpdateStrategy&&(P.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,P))):T instanceof Tn&&(T.code===_r.GuardRejected||T.code===_r.NoDataFromResolver)?this.restoreHistory(P):T instanceof vo?this.restoreHistory(P,!0):T instanceof Qr&&(this.lastSuccessfulId=T.id,this.currentPageId=this.browserPageId)}setBrowserUrl(T,P){const j=this.urlSerializer.serialize(T);if(this.location.isCurrentPathEqualTo(j)||P.extras.replaceUrl){const Te={...P.extras.state,...this.generateNgRouterState(P.id,this.browserPageId)};this.location.replaceState(j,"",Te)}else{const ee={...P.extras.state,...this.generateNgRouterState(P.id,this.browserPageId+1)};this.location.go(j,"",ee)}}restoreHistory(T,P=!1){if("computed"===this.canceledNavigationResolution){const ee=this.currentPageId-this.browserPageId;0!==ee?this.location.historyGo(ee):this.currentUrlTree===T.finalUrl&&0===ee&&(this.resetState(T),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(P&&this.resetState(T),this.resetUrlToCurrentUrlTree())}resetState(T){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,T.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(T,P){return"computed"===this.canceledNavigationResolution?{navigationId:T,\u0275routerPageId:P}:{navigationId:T}}static#e=this.\u0275fac=(()=>{let T;return function(j){return(T||(T=p.xGo(y)))(j||y)}})();static#t=this.\u0275prov=p.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();var St=function(y){return y[y.COMPLETE=0]="COMPLETE",y[y.FAILED=1]="FAILED",y[y.REDIRECTING=2]="REDIRECTING",y}(St||{});function Ft(y,R){y.events.pipe((0,Ct.p)(T=>T instanceof Qr||T instanceof Tn||T instanceof vo||T instanceof Xn),(0,Ht.T)(T=>T instanceof Qr||T instanceof Xn?St.COMPLETE:T instanceof Tn&&(T.code===_r.Redirect||T.code===_r.SupersededByNewNavigation)?St.REDIRECTING:St.FAILED),(0,Ct.p)(T=>T!==St.REDIRECTING),(0,vt.s)(1)).subscribe(()=>{R()})}function sn(y){throw y}const wn={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},_n={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Qt=(()=>{class y{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=(0,p.WQX)(p.H3F),this.stateManager=(0,p.WQX)(Ce),this.options=(0,p.WQX)(mi,{optional:!0})||{},this.pendingTasks=(0,p.WQX)(p.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,p.WQX)(S),this.urlSerializer=(0,p.WQX)(ti),this.location=(0,p.WQX)(Ee.aZ),this.urlHandlingStrategy=(0,p.WQX)(at),this._events=new pt.B,this.errorHandler=this.options.errorHandler||sn,this.navigated=!1,this.routeReuseStrategy=(0,p.WQX)(Z),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,p.WQX)(b,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,p.WQX)($i,{optional:!0}),this.eventsSubscription=new be.yU,this.isNgZoneEnabled=(0,p.WQX)(p.SKi)instanceof p.SKi&&p.SKi.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:T=>{this.console.warn(T)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const T=this.navigationTransitions.events.subscribe(P=>{try{const j=this.navigationTransitions.currentTransition,ee=this.navigationTransitions.currentNavigation;if(null!==j&&null!==ee)if(this.stateManager.handleRouterEvent(P,ee),P instanceof Tn&&P.code!==_r.Redirect&&P.code!==_r.SupersededByNewNavigation)this.navigated=!0;else if(P instanceof Qr)this.navigated=!0;else if(P instanceof es){const Te=this.urlHandlingStrategy.merge(P.url,j.currentRawUrl),ot={info:j.extras.info,skipLocationChange:j.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||N(j.source)};this.scheduleNavigation(Te,nr,null,ot,{resolve:j.resolve,reject:j.reject,promise:j.promise})}(function mt(y){return!(y instanceof Ki||y instanceof es)})(P)&&this._events.next(P)}catch(j){this.navigationTransitions.transitionAbortSubject.next(j)}});this.eventsSubscription.add(T)}resetRootComponentType(T){this.routerState.root.component=T,this.navigationTransitions.rootComponentType=T}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),nr,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((T,P)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(T,"popstate",P)},0)})}navigateToSyncWithBrowser(T,P,j){const ee={replaceUrl:!0},Te=j?.navigationId?j:null;if(j){const Je={...j};delete Je.navigationId,delete Je.\u0275routerPageId,0!==Object.keys(Je).length&&(ee.state=Je)}const ot=this.parseUrl(T);this.scheduleNavigation(ot,P,Te,ee)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(T){this.config=T.map(oo),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(T,P={}){const{relativeTo:j,queryParams:ee,fragment:Te,queryParamsHandling:ot,preserveFragment:Je}=P,ln=Je?this.currentUrlTree.fragment:Te;let vr,dr=null;switch(ot){case"merge":dr={...this.currentUrlTree.queryParams,...ee};break;case"preserve":dr=this.currentUrlTree.queryParams;break;default:dr=ee||null}null!==dr&&(dr=this.removeEmptyProps(dr));try{vr=_t(j?j.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof T[0]||!T[0].startsWith("/"))&&(T=[]),vr=this.currentUrlTree.root}return Xt(vr,T,dr,ln??null)}navigateByUrl(T,P={skipLocationChange:!1}){const j=st(T)?T:this.parseUrl(T),ee=this.urlHandlingStrategy.merge(j,this.rawUrlTree);return this.scheduleNavigation(ee,nr,null,P)}navigate(T,P={skipLocationChange:!1}){return function fr(y){for(let R=0;R<y.length;R++)if(null==y[R])throw new p.wOt(4008,!1)}(T),this.navigateByUrl(this.createUrlTree(T,P),P)}serializeUrl(T){return this.urlSerializer.serialize(T)}parseUrl(T){try{return this.urlSerializer.parse(T)}catch{return this.urlSerializer.parse("/")}}isActive(T,P){let j;if(j=!0===P?{...wn}:!1===P?{..._n}:P,st(T))return Jt(this.currentUrlTree,T,j);const ee=this.parseUrl(T);return Jt(this.currentUrlTree,ee,j)}removeEmptyProps(T){return Object.entries(T).reduce((P,[j,ee])=>(null!=ee&&(P[j]=ee),P),{})}scheduleNavigation(T,P,j,ee,Te){if(this.disposed)return Promise.resolve(!1);let ot,Je,ln;Te?(ot=Te.resolve,Je=Te.reject,ln=Te.promise):ln=new Promise((vr,Vr)=>{ot=vr,Je=Vr});const dr=this.pendingTasks.add();return Ft(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(dr))}),this.navigationTransitions.handleNavigationRequest({source:P,restoredState:j,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:T,extras:ee,resolve:ot,reject:Je,promise:ln,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ln.catch(vr=>Promise.reject(vr))}static#e=this.\u0275fac=function(P){return new(P||y)};static#t=this.\u0275prov=p.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();class en{}let Vt=(()=>{class y{preload(T,P){return P().pipe(dt(()=>(0,Q.of)(null)))}static#e=this.\u0275fac=function(P){return new(P||y)};static#t=this.\u0275prov=p.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})(),Nt=(()=>{class y{constructor(T,P,j,ee,Te){this.router=T,this.injector=j,this.preloadingStrategy=ee,this.loader=Te}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ct.p)(T=>T instanceof Qr),(0,lt.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(T,P){const j=[];for(const ee of P){ee.providers&&!ee._injector&&(ee._injector=(0,p.Ol2)(ee.providers,T,`Route: ${ee.path}`));const Te=ee._injector??T,ot=ee._loadedInjector??Te;(ee.loadChildren&&!ee._loadedRoutes&&void 0===ee.canLoad||ee.loadComponent&&!ee._loadedComponent)&&j.push(this.preloadConfig(Te,ee)),(ee.children||ee._loadedRoutes)&&j.push(this.processRoutes(ot,ee.children??ee._loadedRoutes))}return(0,V.H)(j).pipe((0,Qn.U)())}preloadConfig(T,P){return this.preloadingStrategy.preload(P,()=>{let j;j=P.loadChildren&&void 0===P.canLoad?this.loader.loadChildren(T,P):(0,Q.of)(null);const ee=j.pipe((0,Me.Z)(Te=>null===Te?(0,Q.of)(void 0):(P._loadedRoutes=Te.routes,P._loadedInjector=Te.injector,this.processRoutes(Te.injector??T,Te.routes))));if(P.loadComponent&&!P._loadedComponent){const Te=this.loader.loadComponent(P);return(0,V.H)([ee,Te]).pipe((0,Qn.U)())}return ee})}static#e=this.\u0275fac=function(P){return new(P||y)(p.KVO(Qt),p.KVO(p.Ql9),p.KVO(p.uvJ),p.KVO(en),p.KVO(K))};static#t=this.\u0275prov=p.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();const it=new p.nKC("");let Tt=(()=>{class y{constructor(T,P,j,ee,Te={}){this.urlSerializer=T,this.transitions=P,this.viewportScroller=j,this.zone=ee,this.options=Te,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Te.scrollPositionRestoration||="disabled",Te.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(T=>{T instanceof Br?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=T.navigationTrigger,this.restoredId=T.restoredState?T.restoredState.navigationId:0):T instanceof Qr?(this.lastId=T.id,this.scheduleScrollEvent(T,this.urlSerializer.parse(T.urlAfterRedirects).fragment)):T instanceof Xn&&T.code===ci.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(T,this.urlSerializer.parse(T.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(T=>{T instanceof jo&&(T.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(T.position):T.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(T.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(T,P){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new jo(T,"popstate"===this.lastSource?this.store[this.restoredId]:null,P))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(P){p.QTQ()};static#t=this.\u0275prov=p.jDH({token:y,factory:y.\u0275fac})}return y})();function As(y,R){return{\u0275kind:y,\u0275providers:R}}function Pn(){const y=(0,p.WQX)(p.zZn);return R=>{const T=y.get(p.o8S);if(R!==T.components[0])return;const P=y.get(Qt),j=y.get(Vn);1===y.get(hi)&&P.initialNavigation(),y.get(or,null,p.$GK.Optional)?.setUpPreloading(),y.get(it,null,p.$GK.Optional)?.init(),P.resetRootComponentType(T.componentTypes[0]),j.closed||(j.next(),j.complete(),j.unsubscribe())}}const Vn=new p.nKC("",{factory:()=>new pt.B}),hi=new p.nKC("",{providedIn:"root",factory:()=>1}),or=new p.nKC("");function qa(y){return As(0,[{provide:or,useExisting:Nt},{provide:en,useExisting:y}])}function na(y){return As(9,[{provide:hn,useValue:E},{provide:U,useValue:{skipNextTransition:!!y?.skipInitialTransition,...y}}])}const tn=new p.nKC("ROUTER_FORROOT_GUARD"),va=[Ee.aZ,{provide:ti,useClass:Fe},Qt,Io,{provide:$n,useFactory:function Xi(y){return y.routerState.root},deps:[Qt]},K,[]];let Xl=(()=>{class y{constructor(T){}static forRoot(T,P){return{ngModule:y,providers:[va,[],{provide:b,multi:!0,useValue:T},{provide:tn,useFactory:dd,deps:[[Qt,new p.Xx1,new p.kdw]]},{provide:mi,useValue:P||{}},P?.useHash?{provide:Ee.hb,useClass:Ee.fw}:{provide:Ee.hb,useClass:Ee.Sm},{provide:it,useFactory:()=>{const y=(0,p.WQX)(Ee.Xr),R=(0,p.WQX)(p.SKi),T=(0,p.WQX)(mi),P=(0,p.WQX)(S),j=(0,p.WQX)(ti);return T.scrollOffset&&y.setOffset(T.scrollOffset),new Tt(j,P,y,R,T)}},P?.preloadingStrategy?qa(P.preloadingStrategy).\u0275providers:[],P?.initialNavigation?bl(P):[],P?.bindToComponentInputs?As(8,[ns,{provide:$i,useExisting:ns}]).\u0275providers:[],P?.enableViewTransitions?na().\u0275providers:[],[{provide:gu,useFactory:Pn},{provide:p.iLQ,multi:!0,useExisting:gu}]]}}static forChild(T){return{ngModule:y,providers:[{provide:b,multi:!0,useValue:T}]}}static#e=this.\u0275fac=function(P){return new(P||y)(p.KVO(tn,8))};static#t=this.\u0275mod=p.$C({type:y});static#n=this.\u0275inj=p.G2t({})}return y})();function dd(y){return"guarded"}function bl(y){return["disabled"===y.initialNavigation?As(3,[{provide:p.hnV,multi:!0,useFactory:()=>{const R=(0,p.WQX)(Qt);return()=>{R.setUpLocationChangeListener()}}},{provide:hi,useValue:2}]).\u0275providers:[],"enabledBlocking"===y.initialNavigation?As(2,[{provide:hi,useValue:0},{provide:p.hnV,multi:!0,deps:[p.zZn],useFactory:R=>{const T=R.get(Ee.hj,Promise.resolve());return()=>T.then(()=>new Promise(P=>{const j=R.get(Qt),ee=R.get(Vn);Ft(j,()=>{P(!0)}),R.get(S).afterPreactivation=()=>(P(!0),ee.closed?(0,Q.of)(void 0):ee),j.initialNavigation()}))}}]).\u0275providers:[]]}const gu=new p.nKC("")},3345:(zt,ze,L)=>{L.d(ze,{A:()=>yt});var p=L(1076),F=L(1362),_=L(7852),_e=L(8041);class V{constructor(ut,ft){this._delegate=ut,this.firebase=ft,(0,_._addComponent)(ut,new F.uA("app-compat",()=>this,"PUBLIC")),this.container=ut.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ut){this._delegate.automaticDataCollectionEnabled=ut}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ut=>{this._delegate.checkDestroyed(),ut()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,_.deleteApp)(this._delegate)))}_getService(ut,ft=_._DEFAULT_ENTRY_NAME){var Ut;this._delegate.checkDestroyed();const Bt=this._delegate.container.getProvider(ut);return!Bt.isInitialized()&&"EXPLICIT"===(null===(Ut=Bt.getComponent())||void 0===Ut?void 0:Ut.instantiationMode)&&Bt.initialize(),Bt.getImmediate({identifier:ft})}_removeServiceInstance(ut,ft=_._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ut).clearInstance(ft)}_addComponent(ut){(0,_._addComponent)(this._delegate,ut)}_addOrOverwriteComponent(ut){(0,_._addOrOverwriteComponent)(this._delegate,ut)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const W=new p.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ne=function de(){const At=function oe(At){const ut={},ft={__esModule:!0,initializeApp:function Ge(be,Xe={}){const ue=_.initializeApp(be,Xe);if((0,p.gR)(ut,ue.name))return ut[ue.name];const Se=new At(ue,ft);return ut[ue.name]=Se,Se},app:Bt,registerVersion:_.registerVersion,setLogLevel:_.setLogLevel,onLog:_.onLog,apps:null,SDK_VERSION:_.SDK_VERSION,INTERNAL:{registerComponent:function De(be){const Xe=be.name,ue=Xe.replace("-compat","");if(_._registerComponent(be)&&"PUBLIC"===be.type){const Se=(pt=Bt())=>{if("function"!=typeof pt[ue])throw W.create("invalid-app-argument",{appName:Xe});return pt[ue]()};void 0!==be.serviceProps&&(0,p.zw)(Se,be.serviceProps),ft[ue]=Se,At.prototype[ue]=function(...pt){return this._getService.bind(this,Xe).apply(this,be.multipleInstances?pt:[])}}return"PUBLIC"===be.type?ft[ue]:null},removeApp:function Ut(be){delete ut[be]},useAsService:function ye(be,Xe){return"serverAuth"===Xe?null:Xe},modularAPIs:_}};function Bt(be){if(!(0,p.gR)(ut,be=be||_._DEFAULT_ENTRY_NAME))throw W.create("no-app",{appName:be});return ut[be]}return ft.default=ft,Object.defineProperty(ft,"apps",{get:function Ve(){return Object.keys(ut).map(be=>ut[be])}}),Bt.App=At,ft}(V);return At.INTERNAL=Object.assign(Object.assign({},At.INTERNAL),{createFirebaseNamespace:de,extendNamespace:function ut(ft){(0,p.zw)(At,ft)},createSubscribe:p.tD,ErrorFactory:p.FA,deepExtend:p.zw}),At}(),le=new _e.Vy("@firebase/app-compat");if((0,p.Bd)()&&void 0!==self.firebase){le.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const At=self.firebase.SDK_VERSION;At&&At.indexOf("LITE")>=0&&le.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const yt=ne;!function Ke(At){(0,_.registerVersion)("@firebase/app-compat","0.2.30",At)}()},7852:(zt,ze,L)=>{L.r(ze),L.d(ze,{FirebaseError:()=>_e.g,SDK_VERSION:()=>Wr,_DEFAULT_ENTRY_NAME:()=>Sr,_addComponent:()=>Ye,_addOrOverwriteComponent:()=>Jt,_apps:()=>an,_clearComponents:()=>rn,_components:()=>xr,_getProvider:()=>je,_isFirebaseApp:()=>It,_isFirebaseServerApp:()=>zn,_registerComponent:()=>ge,_removeServiceInstance:()=>bt,_serverApps:()=>dn,deleteApp:()=>me,getApp:()=>Fe,getApps:()=>qe,initializeApp:()=>fi,initializeServerApp:()=>ti,onLog:()=>he,registerVersion:()=>ae,setLogLevel:()=>Y});var p=L(467),F=L(1362),_=L(8041),_e=L(1076);const V=(st,$e)=>$e.some(_t=>st instanceof _t);let Q,W;const ne=new WeakMap,le=new WeakMap,Re=new WeakMap,We=new WeakMap,Ke=new WeakMap;let ut={get(st,$e,_t){if(st instanceof IDBTransaction){if("done"===$e)return le.get(st);if("objectStoreNames"===$e)return st.objectStoreNames||Re.get(st);if("store"===$e)return _t.objectStoreNames[1]?void 0:_t.objectStore(_t.objectStoreNames[0])}return Ge(st[$e])},set:(st,$e,_t)=>(st[$e]=_t,!0),has:(st,$e)=>st instanceof IDBTransaction&&("done"===$e||"store"===$e)||$e in st};function Bt(st){return"function"==typeof st?function Ut(st){return st!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function de(){return W||(W=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(st)?function(...$e){return st.apply(Ve(this),$e),Ge(ne.get(this))}:function(...$e){return Ge(st.apply(Ve(this),$e))}:function($e,..._t){const Xt=st.call(Ve(this),$e,..._t);return Re.set(Xt,$e.sort?$e.sort():[$e]),Ge(Xt)}}(st):(st instanceof IDBTransaction&&function At(st){if(le.has(st))return;const $e=new Promise((_t,Xt)=>{const On=()=>{st.removeEventListener("complete",te),st.removeEventListener("error",pe),st.removeEventListener("abort",pe)},te=()=>{_t(),On()},pe=()=>{Xt(st.error||new DOMException("AbortError","AbortError")),On()};st.addEventListener("complete",te),st.addEventListener("error",pe),st.addEventListener("abort",pe)});le.set(st,$e)}(st),V(st,function oe(){return Q||(Q=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(st,ut):st)}function Ge(st){if(st instanceof IDBRequest)return function yt(st){const $e=new Promise((_t,Xt)=>{const On=()=>{st.removeEventListener("success",te),st.removeEventListener("error",pe)},te=()=>{_t(Ge(st.result)),On()},pe=()=>{Xt(st.error),On()};st.addEventListener("success",te),st.addEventListener("error",pe)});return $e.then(_t=>{_t instanceof IDBCursor&&ne.set(_t,st)}).catch(()=>{}),Ke.set($e,st),$e}(st);if(We.has(st))return We.get(st);const $e=Bt(st);return $e!==st&&(We.set(st,$e),Ke.set($e,st)),$e}const Ve=st=>Ke.get(st),be=["get","getKey","getAll","getAllKeys","count"],Xe=["put","add","delete","clear"],ue=new Map;function Se(st,$e){if(!(st instanceof IDBDatabase)||$e in st||"string"!=typeof $e)return;if(ue.get($e))return ue.get($e);const _t=$e.replace(/FromIndex$/,""),Xt=$e!==_t,On=Xe.includes(_t);if(!(_t in(Xt?IDBIndex:IDBObjectStore).prototype)||!On&&!be.includes(_t))return;const te=function(){var pe=(0,p.A)(function*(we,...nt){const rt=this.transaction(we,On?"readwrite":"readonly");let xt=rt.store;return Xt&&(xt=xt.index(nt.shift())),(yield Promise.all([xt[_t](...nt),On&&rt.done]))[0]});return function(nt){return pe.apply(this,arguments)}}();return ue.set($e,te),te}!function ft(st){ut=st(ut)}(st=>({...st,get:($e,_t,Xt)=>Se($e,_t)||st.get($e,_t,Xt),has:($e,_t)=>!!Se($e,_t)||st.has($e,_t)}));class pt{constructor($e){this.container=$e}getPlatformInfoString(){return this.container.getProviders().map(_t=>{if(function Ee(st){const $e=st.getComponent();return"VERSION"===$e?.type}(_t)){const Xt=_t.getImmediate();return`${Xt.library}/${Xt.version}`}return null}).filter(_t=>_t).join(" ")}}const Ht="@firebase/app",In="0.10.0",vt=new _.Vy("@firebase/app"),Sr="[DEFAULT]",er={[Ht]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},an=new Map,dn=new Map,xr=new Map;function Ye(st,$e){try{st.container.addComponent($e)}catch(_t){vt.debug(`Component ${$e.name} failed to register with FirebaseApp ${st.name}`,_t)}}function Jt(st,$e){st.container.addOrOverwriteComponent($e)}function ge(st){const $e=st.name;if(xr.has($e))return vt.debug(`There were multiple attempts to register component ${$e}.`),!1;xr.set($e,st);for(const _t of an.values())Ye(_t,st);for(const _t of dn.values())Ye(_t,st);return!0}function je(st,$e){const _t=st.container.getProvider("heartbeat").getImmediate({optional:!0});return _t&&_t.triggerHeartbeat(),st.container.getProvider($e)}function bt(st,$e,_t=Sr){je(st,$e).clearInstance(_t)}function It(st){return void 0!==st.options}function zn(st){return void 0!==st.settings}function rn(){xr.clear()}const Sn=new _e.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class ar{constructor($e,_t,Xt){this._isDeleted=!1,this._options=Object.assign({},$e),this._config=Object.assign({},_t),this._name=_t.name,this._automaticDataCollectionEnabled=_t.automaticDataCollectionEnabled,this._container=Xt,this.container.addComponent(new F.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled($e){this.checkDestroyed(),this._automaticDataCollectionEnabled=$e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted($e){this._isDeleted=$e}checkDestroyed(){if(this.isDeleted)throw Sn.create("app-deleted",{appName:this._name})}}class Rr extends ar{constructor($e,_t,Xt,On){const te=void 0!==_t.automaticDataCollectionEnabled&&_t.automaticDataCollectionEnabled,pe={name:Xt,automaticDataCollectionEnabled:te};super(void 0!==$e.apiKey?$e:$e.options,pe,On),this._serverConfig=Object.assign({automaticDataCollectionEnabled:te},_t),this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()}),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,_t.releaseOnDeref=void 0,ae(Ht,In,"serverapp")}get refCount(){return this._refCount}incRefCount($e){this.isDeleted||(this._refCount++,void 0!==$e&&this._finalizationRegistry.register($e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){me(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Sn.create("server-app-deleted")}}const Wr="10.10.0";function fi(st,$e={}){let _t=st;"object"!=typeof $e&&($e={name:$e});const Xt=Object.assign({name:Sr,automaticDataCollectionEnabled:!1},$e),On=Xt.name;if("string"!=typeof On||!On)throw Sn.create("bad-app-name",{appName:String(On)});if(_t||(_t=(0,_e.T9)()),!_t)throw Sn.create("no-options");const te=an.get(On);if(te){if((0,_e.bD)(_t,te.options)&&(0,_e.bD)(Xt,te.config))return te;throw Sn.create("duplicate-app",{appName:On})}const pe=new F.h1(On);for(const nt of xr.values())pe.addComponent(nt);const we=new ar(_t,Xt,pe);return an.set(On,we),we}function ti(st,$e){if((0,_e.Bd)())throw Sn.create("invalid-server-app-environment");let _t;void 0===$e.automaticDataCollectionEnabled&&($e.automaticDataCollectionEnabled=!1),_t=It(st)?st.options:st;const Xt=Object.assign(Object.assign({},$e),_t);if(void 0!==Xt.releaseOnDeref&&delete Xt.releaseOnDeref,void 0!==$e.releaseOnDeref&&typeof FinalizationRegistry>"u")throw Sn.create("finalization-registry-not-supported",{});const te=""+(rt=JSON.stringify(Xt),[...rt].reduce((xt,kt)=>Math.imul(31,xt)+kt.charCodeAt(0)|0,0)),pe=dn.get(te);var rt;if(pe)return pe.incRefCount($e.releaseOnDeref),pe;const we=new F.h1(te);for(const rt of xr.values())we.addComponent(rt);const nt=new Rr(_t,$e,te,we);return dn.set(te,nt),nt}function Fe(st=Sr){const $e=an.get(st);if(!$e&&st===Sr&&(0,_e.T9)())return fi();if(!$e)throw Sn.create("no-app",{appName:st});return $e}function qe(){return Array.from(an.values())}function me(st){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,p.A)(function*(st){let $e=!1;const _t=st.name;an.has(_t)?($e=!0,an.delete(_t)):dn.has(_t)&&st.decRefCount()<=0&&(dn.delete(_t),$e=!0),$e&&(yield Promise.all(st.container.getProviders().map(Xt=>Xt.delete())),st.isDeleted=!0)})).apply(this,arguments)}function ae(st,$e,_t){var Xt;let On=null!==(Xt=er[st])&&void 0!==Xt?Xt:st;_t&&(On+=`-${_t}`);const te=On.match(/\s|\//),pe=$e.match(/\s|\//);if(te||pe){const we=[`Unable to register library "${On}" with version "${$e}":`];return te&&we.push(`library name "${On}" contains illegal characters (whitespace or "/")`),te&&pe&&we.push("and"),pe&&we.push(`version name "${$e}" contains illegal characters (whitespace or "/")`),void vt.warn(we.join(" "))}ge(new F.uA(`${On}-version`,()=>({library:On,version:$e}),"VERSION"))}function he(st,$e){if(null!==st&&"function"!=typeof st)throw Sn.create("invalid-log-argument");(0,_.Ey)(st,$e)}function Y(st){(0,_.He)(st)}const re="firebase-heartbeat-database",X=1,ke="firebase-heartbeat-store";let gt=null;function $t(){return gt||(gt=function De(st,$e,{blocked:_t,upgrade:Xt,blocking:On,terminated:te}={}){const pe=indexedDB.open(st,$e),we=Ge(pe);return Xt&&pe.addEventListener("upgradeneeded",nt=>{Xt(Ge(pe.result),nt.oldVersion,nt.newVersion,Ge(pe.transaction),nt)}),_t&&pe.addEventListener("blocked",nt=>_t(nt.oldVersion,nt.newVersion,nt)),we.then(nt=>{te&&nt.addEventListener("close",()=>te()),On&&nt.addEventListener("versionchange",rt=>On(rt.oldVersion,rt.newVersion,rt))}).catch(()=>{}),we}(re,X,{upgrade:(st,$e)=>{if(0===$e)try{st.createObjectStore(ke)}catch(_t){console.warn(_t)}}}).catch(st=>{throw Sn.create("idb-open",{originalErrorMessage:st.message})})),gt}function Gn(){return(Gn=(0,p.A)(function*(st){try{const _t=(yield $t()).transaction(ke),Xt=yield _t.objectStore(ke).get(Zt(st));return yield _t.done,Xt}catch($e){if($e instanceof _e.g)vt.warn($e.message);else{const _t=Sn.create("idb-get",{originalErrorMessage:$e?.message});vt.warn(_t.message)}}})).apply(this,arguments)}function ur(st,$e){return pn.apply(this,arguments)}function pn(){return(pn=(0,p.A)(function*(st,$e){try{const Xt=(yield $t()).transaction(ke,"readwrite");yield Xt.objectStore(ke).put($e,Zt(st)),yield Xt.done}catch(_t){if(_t instanceof _e.g)vt.warn(_t.message);else{const Xt=Sn.create("idb-set",{originalErrorMessage:_t?.message});vt.warn(Xt.message)}}})).apply(this,arguments)}function Zt(st){return`${st.name}!${st.options.appId}`}class Bi{constructor($e){this.container=$e,this._heartbeatsCache=null;const _t=this.container.getProvider("app").getImmediate();this._storage=new sr(_t),this._heartbeatsCachePromise=this._storage.read().then(Xt=>(this._heartbeatsCache=Xt,Xt))}triggerHeartbeat(){var $e=this;return(0,p.A)(function*(){var _t,Xt;const te=$e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),pe=Fr();if((null!=(null===(_t=$e._heartbeatsCache)||void 0===_t?void 0:_t.heartbeats)||($e._heartbeatsCache=yield $e._heartbeatsCachePromise,null!=(null===(Xt=$e._heartbeatsCache)||void 0===Xt?void 0:Xt.heartbeats)))&&$e._heartbeatsCache.lastSentHeartbeatDate!==pe&&!$e._heartbeatsCache.heartbeats.some(we=>we.date===pe))return $e._heartbeatsCache.heartbeats.push({date:pe,agent:te}),$e._heartbeatsCache.heartbeats=$e._heartbeatsCache.heartbeats.filter(we=>{const nt=new Date(we.date).valueOf();return Date.now()-nt<=2592e6}),$e._storage.overwrite($e._heartbeatsCache)})()}getHeartbeatsHeader(){var $e=this;return(0,p.A)(function*(){var _t;if(null===$e._heartbeatsCache&&(yield $e._heartbeatsCachePromise),null==(null===(_t=$e._heartbeatsCache)||void 0===_t?void 0:_t.heartbeats)||0===$e._heartbeatsCache.heartbeats.length)return"";const Xt=Fr(),{heartbeatsToSend:On,unsentEntries:te}=function Pr(st,$e=1024){const _t=[];let Xt=st.slice();for(const On of st){const te=_t.find(pe=>pe.agent===On.agent);if(te){if(te.dates.push(On.date),ds(_t)>$e){te.dates.pop();break}}else if(_t.push({agent:On.agent,dates:[On.date]}),ds(_t)>$e){_t.pop();break}Xt=Xt.slice(1)}return{heartbeatsToSend:_t,unsentEntries:Xt}}($e._heartbeatsCache.heartbeats),pe=(0,_e.Uj)(JSON.stringify({version:2,heartbeats:On}));return $e._heartbeatsCache.lastSentHeartbeatDate=Xt,te.length>0?($e._heartbeatsCache.heartbeats=te,yield $e._storage.overwrite($e._heartbeatsCache)):($e._heartbeatsCache.heartbeats=[],$e._storage.overwrite($e._heartbeatsCache)),pe})()}}function Fr(){return(new Date).toISOString().substring(0,10)}class sr{constructor($e){this.app=$e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,p.A)(function*(){return!!(0,_e.zW)()&&(0,_e.eX)().then(()=>!0).catch(()=>!1)})()}read(){var $e=this;return(0,p.A)(function*(){if(yield $e._canUseIndexedDBPromise){const Xt=yield function Fn(st){return Gn.apply(this,arguments)}($e.app);return Xt?.heartbeats?Xt:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite($e){var _t=this;return(0,p.A)(function*(){var Xt;if(yield _t._canUseIndexedDBPromise){const te=yield _t.read();return ur(_t.app,{lastSentHeartbeatDate:null!==(Xt=$e.lastSentHeartbeatDate)&&void 0!==Xt?Xt:te.lastSentHeartbeatDate,heartbeats:$e.heartbeats})}})()}add($e){var _t=this;return(0,p.A)(function*(){var Xt;if(yield _t._canUseIndexedDBPromise){const te=yield _t.read();return ur(_t.app,{lastSentHeartbeatDate:null!==(Xt=$e.lastSentHeartbeatDate)&&void 0!==Xt?Xt:te.lastSentHeartbeatDate,heartbeats:[...te.heartbeats,...$e.heartbeats]})}})()}}function ds(st){return(0,_e.Uj)(JSON.stringify({version:2,heartbeats:st})).length}!function Yi(st){ge(new F.uA("platform-logger",$e=>new pt($e),"PRIVATE")),ge(new F.uA("heartbeat",$e=>new Bi($e),"PRIVATE")),ae(Ht,In,st),ae(Ht,In,"esm2017"),ae("fire-js","")}("")},1362:(zt,ze,L)=>{L.d(ze,{h1:()=>oe,uA:()=>_});var p=L(467),F=L(1076);class _{constructor(ne,le,Re){this.name=ne,this.instanceFactory=le,this.type=Re,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ne){return this.instantiationMode=ne,this}setMultipleInstances(ne){return this.multipleInstances=ne,this}setServiceProps(ne){return this.serviceProps=ne,this}setInstanceCreatedCallback(ne){return this.onInstanceCreated=ne,this}}const _e="[DEFAULT]";class V{constructor(ne,le){this.name=ne,this.container=le,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ne){const le=this.normalizeInstanceIdentifier(ne);if(!this.instancesDeferred.has(le)){const Re=new F.cY;if(this.instancesDeferred.set(le,Re),this.isInitialized(le)||this.shouldAutoInitialize())try{const We=this.getOrInitializeService({instanceIdentifier:le});We&&Re.resolve(We)}catch{}}return this.instancesDeferred.get(le).promise}getImmediate(ne){var le;const Re=this.normalizeInstanceIdentifier(ne?.identifier),We=null!==(le=ne?.optional)&&void 0!==le&&le;if(!this.isInitialized(Re)&&!this.shouldAutoInitialize()){if(We)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Re})}catch(Ke){if(We)return null;throw Ke}}getComponent(){return this.component}setComponent(ne){if(ne.name!==this.name)throw Error(`Mismatching Component ${ne.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ne,this.shouldAutoInitialize()){if(function W(de){return"EAGER"===de.instantiationMode}(ne))try{this.getOrInitializeService({instanceIdentifier:_e})}catch{}for(const[le,Re]of this.instancesDeferred.entries()){const We=this.normalizeInstanceIdentifier(le);try{const Ke=this.getOrInitializeService({instanceIdentifier:We});Re.resolve(Ke)}catch{}}}}clearInstance(ne=_e){this.instancesDeferred.delete(ne),this.instancesOptions.delete(ne),this.instances.delete(ne)}delete(){var ne=this;return(0,p.A)(function*(){const le=Array.from(ne.instances.values());yield Promise.all([...le.filter(Re=>"INTERNAL"in Re).map(Re=>Re.INTERNAL.delete()),...le.filter(Re=>"_delete"in Re).map(Re=>Re._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ne=_e){return this.instances.has(ne)}getOptions(ne=_e){return this.instancesOptions.get(ne)||{}}initialize(ne={}){const{options:le={}}=ne,Re=this.normalizeInstanceIdentifier(ne.instanceIdentifier);if(this.isInitialized(Re))throw Error(`${this.name}(${Re}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const We=this.getOrInitializeService({instanceIdentifier:Re,options:le});for(const[Ke,yt]of this.instancesDeferred.entries())Re===this.normalizeInstanceIdentifier(Ke)&&yt.resolve(We);return We}onInit(ne,le){var Re;const We=this.normalizeInstanceIdentifier(le),Ke=null!==(Re=this.onInitCallbacks.get(We))&&void 0!==Re?Re:new Set;Ke.add(ne),this.onInitCallbacks.set(We,Ke);const yt=this.instances.get(We);return yt&&ne(yt,We),()=>{Ke.delete(ne)}}invokeOnInitCallbacks(ne,le){const Re=this.onInitCallbacks.get(le);if(Re)for(const We of Re)try{We(ne,le)}catch{}}getOrInitializeService({instanceIdentifier:ne,options:le={}}){let Re=this.instances.get(ne);if(!Re&&this.component&&(Re=this.component.instanceFactory(this.container,{instanceIdentifier:(de=ne,de===_e?void 0:de),options:le}),this.instances.set(ne,Re),this.instancesOptions.set(ne,le),this.invokeOnInitCallbacks(Re,ne),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ne,Re)}catch{}var de;return Re||null}normalizeInstanceIdentifier(ne=_e){return this.component?this.component.multipleInstances?ne:_e:ne}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class oe{constructor(ne){this.name=ne,this.providers=new Map}addComponent(ne){const le=this.getProvider(ne.name);if(le.isComponentSet())throw new Error(`Component ${ne.name} has already been registered with ${this.name}`);le.setComponent(ne)}addOrOverwriteComponent(ne){this.getProvider(ne.name).isComponentSet()&&this.providers.delete(ne.name),this.addComponent(ne)}getProvider(ne){if(this.providers.has(ne))return this.providers.get(ne);const le=new V(ne,this);return this.providers.set(ne,le),le}getProviders(){return Array.from(this.providers.values())}}},8041:(zt,ze,L)=>{L.d(ze,{$b:()=>F,Ey:()=>de,He:()=>oe,Vy:()=>W});const p=[];var F=function(ne){return ne[ne.DEBUG=0]="DEBUG",ne[ne.VERBOSE=1]="VERBOSE",ne[ne.INFO=2]="INFO",ne[ne.WARN=3]="WARN",ne[ne.ERROR=4]="ERROR",ne[ne.SILENT=5]="SILENT",ne}(F||{});const _={debug:F.DEBUG,verbose:F.VERBOSE,info:F.INFO,warn:F.WARN,error:F.ERROR,silent:F.SILENT},_e=F.INFO,V={[F.DEBUG]:"log",[F.VERBOSE]:"log",[F.INFO]:"info",[F.WARN]:"warn",[F.ERROR]:"error"},Q=(ne,le,...Re)=>{if(le<ne.logLevel)return;const We=(new Date).toISOString(),Ke=V[le];if(!Ke)throw new Error(`Attempted to log a message with an invalid logType (value: ${le})`);console[Ke](`[${We}]  ${ne.name}:`,...Re)};class W{constructor(le){this.name=le,this._logLevel=_e,this._logHandler=Q,this._userLogHandler=null,p.push(this)}get logLevel(){return this._logLevel}set logLevel(le){if(!(le in F))throw new TypeError(`Invalid value "${le}" assigned to \`logLevel\``);this._logLevel=le}setLogLevel(le){this._logLevel="string"==typeof le?_[le]:le}get logHandler(){return this._logHandler}set logHandler(le){if("function"!=typeof le)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=le}get userLogHandler(){return this._userLogHandler}set userLogHandler(le){this._userLogHandler=le}debug(...le){this._userLogHandler&&this._userLogHandler(this,F.DEBUG,...le),this._logHandler(this,F.DEBUG,...le)}log(...le){this._userLogHandler&&this._userLogHandler(this,F.VERBOSE,...le),this._logHandler(this,F.VERBOSE,...le)}info(...le){this._userLogHandler&&this._userLogHandler(this,F.INFO,...le),this._logHandler(this,F.INFO,...le)}warn(...le){this._userLogHandler&&this._userLogHandler(this,F.WARN,...le),this._logHandler(this,F.WARN,...le)}error(...le){this._userLogHandler&&this._userLogHandler(this,F.ERROR,...le),this._logHandler(this,F.ERROR,...le)}}function oe(ne){p.forEach(le=>{le.setLogLevel(ne)})}function de(ne,le){for(const Re of p){let We=null;le&&le.level&&(We=_[le.level]),Re.userLogHandler=null===ne?null:(Ke,yt,...At)=>{const ut=At.map(ft=>{if(null==ft)return null;if("string"==typeof ft)return ft;if("number"==typeof ft||"boolean"==typeof ft)return ft.toString();if(ft instanceof Error)return ft.message;try{return JSON.stringify(ft)}catch{return null}}).filter(ft=>ft).join(" ");yt>=(We??Ke.logLevel)&&ne({level:F[yt].toLowerCase(),message:ut,args:At,type:Ke.name})}}}},7935:(zt,ze,L)=>{L.d(ze,{A:()=>p.A});var p=L(3345);p.A.registerVersion("firebase","10.10.0","app-compat")},2438:(zt,ze,L)=>{L.r(ze);var p=L(467),F=L(3345),_=L(5845),_e=L(1076),W=(L(7852),L(8041),L(1362));function oe(){return window}function le(){return le=(0,p.A)(function*(Y,re,X){var ke;const{BuildInfo:gt}=oe();(0,_.au)(re.sessionId,"AuthEvent did not contain a session ID");const $t=yield function ft(Y){return Ut.apply(this,arguments)}(re.sessionId),Fn={};return(0,_.av)()?Fn.ibi=gt.packageName:(0,_.aw)()?Fn.apn=gt.packageName:(0,_.ax)(Y,"operation-not-supported-in-this-environment"),gt.displayName&&(Fn.appDisplayName=gt.displayName),Fn.sessionId=$t,(0,_.ay)(Y,X,re.type,void 0,null!==(ke=re.eventId)&&void 0!==ke?ke:void 0,Fn)}),le.apply(this,arguments)}function We(){return(We=(0,p.A)(function*(Y){const{BuildInfo:re}=oe(),X={};(0,_.av)()?X.iosBundleId=re.packageName:(0,_.aw)()?X.androidPackageName=re.packageName:(0,_.ax)(Y,"operation-not-supported-in-this-environment"),yield(0,_.az)(Y,X)})).apply(this,arguments)}function At(){return(At=(0,p.A)(function*(Y,re,X){const{cordova:ke}=oe();let gt=()=>{};try{yield new Promise(($t,Fn)=>{let Gn=null;function ur(){var tr;$t();const Lr=null===(tr=ke.plugins.browsertab)||void 0===tr?void 0:tr.close;"function"==typeof Lr&&Lr(),"function"==typeof X?.close&&X.close()}function pn(){Gn||(Gn=window.setTimeout(()=>{Fn((0,_.aB)(Y,"redirect-cancelled-by-user"))},2e3))}function Zt(){"visible"===document?.visibilityState&&pn()}re.addPassiveListener(ur),document.addEventListener("resume",pn,!1),(0,_.aw)()&&document.addEventListener("visibilitychange",Zt,!1),gt=()=>{re.removePassiveListener(ur),document.removeEventListener("resume",pn,!1),document.removeEventListener("visibilitychange",Zt,!1),Gn&&window.clearTimeout(Gn)}})}finally{gt()}})).apply(this,arguments)}function Ut(){return(Ut=(0,p.A)(function*(Y){const re=function Bt(Y){if((0,_.au)(/[0-9a-zA-Z]+/.test(Y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(Y);const re=new ArrayBuffer(Y.length),X=new Uint8Array(re);for(let ke=0;ke<Y.length;ke++)X[ke]=Y.charCodeAt(ke);return X}(Y),X=yield crypto.subtle.digest("SHA-256",re);return Array.from(new Uint8Array(X)).map(gt=>gt.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Ve extends _.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(re=>{this.resolveInialized=re})}addPassiveListener(re){this.passiveListeners.add(re)}removePassiveListener(re){this.passiveListeners.delete(re)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(re){return this.resolveInialized(),this.passiveListeners.forEach(X=>X(re)),super.onEvent(re)}initialized(){var re=this;return(0,p.A)(function*(){yield re.initPromise})()}}function be(Y){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,p.A)(function*(Y){const re=yield pt()._get(Ee(Y));return re&&(yield pt()._remove(Ee(Y))),re})).apply(this,arguments)}function Se(){const Y=[];for(let X=0;X<20;X++){const ke=Math.floor(62*Math.random());Y.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(ke))}return Y.join("")}function pt(){return(0,_.aE)(_.b)}function Ee(Y){return(0,_.aF)("authEvent",Y.config.apiKey,Y.name)}function vt(Y){if(!Y?.includes("?"))return{};const[re,...X]=Y.split("?");return(0,_e.I9)(X.join("?"))}const Me=class Ct{constructor(){this._redirectPersistence=_.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=_.aG,this._overrideRedirectResult=_.aH}_initialize(re){var X=this;return(0,p.A)(function*(){const ke=re._key();let gt=X.eventManagers.get(ke);return gt||(gt=new Ve(re),X.eventManagers.set(ke,gt),X.attachCallbackListeners(re,gt)),gt})()}_openPopup(re){(0,_.ax)(re,"operation-not-supported-in-this-environment")}_openRedirect(re,X,ke,gt){var $t=this;return(0,p.A)(function*(){!function ut(Y){var re,X,ke,gt,$t,Fn,Gn,ur,pn,Zt;const tr=oe();(0,_.aC)("function"==typeof(null===(re=tr?.universalLinks)||void 0===re?void 0:re.subscribe),Y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,_.aC)(typeof(null===(X=tr?.BuildInfo)||void 0===X?void 0:X.packageName)<"u",Y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,_.aC)("function"==typeof(null===($t=null===(gt=null===(ke=tr?.cordova)||void 0===ke?void 0:ke.plugins)||void 0===gt?void 0:gt.browsertab)||void 0===$t?void 0:$t.openUrl),Y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,_.aC)("function"==typeof(null===(ur=null===(Gn=null===(Fn=tr?.cordova)||void 0===Fn?void 0:Fn.plugins)||void 0===Gn?void 0:Gn.browsertab)||void 0===ur?void 0:ur.isAvailable),Y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,_.aC)("function"==typeof(null===(Zt=null===(pn=tr?.cordova)||void 0===pn?void 0:pn.InAppBrowser)||void 0===Zt?void 0:Zt.open),Y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(re);const Fn=yield $t._initialize(re);yield Fn.initialized(),Fn.resetRedirect(),(0,_.aI)(),yield $t._originValidation(re);const Gn=function De(Y,re,X=null){return{type:re,eventId:X,urlResponse:null,sessionId:Se(),postBody:null,tenantId:Y.tenantId,error:(0,_.aB)(Y,"no-auth-event")}}(re,ke,gt);yield function ye(Y,re){return pt()._set(Ee(Y),re)}(re,Gn);const ur=yield function ne(Y,re,X){return le.apply(this,arguments)}(re,Gn,X),pn=yield function Ke(Y){const{cordova:re}=oe();return new Promise(X=>{re.plugins.browsertab.isAvailable(ke=>{let gt=null;ke?re.plugins.browsertab.openUrl(Y):gt=re.InAppBrowser.open(Y,(0,_.aA)()?"_blank":"_system","location=yes"),X(gt)})})}(ur);return function yt(Y,re,X){return At.apply(this,arguments)}(re,Fn,pn)})()}_isIframeWebStorageSupported(re,X){throw new Error("Method not implemented.")}_originValidation(re){const X=re._key();return this.originValidationPromises[X]||(this.originValidationPromises[X]=function Re(Y){return We.apply(this,arguments)}(re)),this.originValidationPromises[X]}attachCallbackListeners(re,X){const{universalLinks:ke,handleOpenURL:gt,BuildInfo:$t}=oe(),Fn=setTimeout((0,p.A)(function*(){yield be(re),X.onEvent(He())}),500),Gn=function(){var Zt=(0,p.A)(function*(tr){clearTimeout(Fn);const Lr=yield be(re);let Bi=null;Lr&&tr?.url&&(Bi=function ue(Y,re){var X,ke;const gt=function In(Y){const re=vt(Y),X=re.link?decodeURIComponent(re.link):void 0,ke=vt(X).link,gt=re.deep_link_id?decodeURIComponent(re.deep_link_id):void 0;return vt(gt).link||gt||ke||X||Y}(re);if(gt.includes("/__/auth/callback")){const $t=vt(gt),Fn=$t.firebaseError?function Ht(Y){try{return JSON.parse(Y)}catch{return null}}(decodeURIComponent($t.firebaseError)):null,Gn=null===(ke=null===(X=Fn?.code)||void 0===X?void 0:X.split("auth/"))||void 0===ke?void 0:ke[1],ur=Gn?(0,_.aB)(Gn):null;return ur?{type:Y.type,eventId:Y.eventId,tenantId:Y.tenantId,error:ur,urlResponse:null,sessionId:null,postBody:null}:{type:Y.type,eventId:Y.eventId,tenantId:Y.tenantId,sessionId:Y.sessionId,urlResponse:gt,postBody:null}}return null}(Lr,tr.url)),X.onEvent(Bi||He())});return function(Lr){return Zt.apply(this,arguments)}}();typeof ke<"u"&&"function"==typeof ke.subscribe&&ke.subscribe(null,Gn);const ur=gt,pn=`${$t.packageName.toLowerCase()}://`;oe().handleOpenURL=function(){var Zt=(0,p.A)(function*(tr){if(tr.toLowerCase().startsWith(pn)&&Gn({url:tr}),"function"==typeof ur)try{ur(tr)}catch(Lr){console.error(Lr)}});return function(tr){return Zt.apply(this,arguments)}}()}};function He(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,_.aB)("no-auth-event")}}function Pt(){var Y;return(null===(Y=self?.location)||void 0===Y?void 0:Y.protocol)||null}function on(Y=(0,_e.ZQ)()){return!("file:"!==Pt()&&"ionic:"!==Pt()&&"capacitor:"!==Pt()||!Y.toLowerCase().match(/iphone|ipad|ipod|android/))}function Wn(){try{const Y=self.localStorage,re=_.aN();if(Y)return Y.setItem(re,"1"),Y.removeItem(re),!function xn(Y=(0,_e.ZQ)()){return function fn(){return(0,_e.lT)()&&11===document?.documentMode}()||function Dn(Y=(0,_e.ZQ)()){return/Edge\/\d+/.test(Y)}(Y)}()||(0,_e.zW)()}catch{return Qn()&&(0,_e.zW)()}return!1}function Qn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Bn(){return(function Gt(){return"http:"===Pt()||"https:"===Pt()}()||(0,_e.sr)()||on())&&!function Mt(){return(0,_e.lV)()||(0,_e.Ll)()}()&&Wn()&&!Qn()}function Yt(){return on()&&typeof document<"u"}function Ot(){return(Ot=(0,p.A)(function*(){return!!Yt()&&new Promise(Y=>{const re=setTimeout(()=>{Y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(re),Y(!0)})})})).apply(this,arguments)}const jn={LOCAL:"local",NONE:"none",SESSION:"session"},Er=_.aC,Dr="persistence";function er(Y){return an.apply(this,arguments)}function an(){return(an=(0,p.A)(function*(Y){yield Y._initializationPromise;const re=xr(),X=_.aF(Dr,Y.config.apiKey,Y.name);re&&re.setItem(X,Y._getPersistence())})).apply(this,arguments)}function xr(){var Y;try{return(null===(Y=function Nn(){return typeof window<"u"?window:null}())||void 0===Y?void 0:Y.sessionStorage)||null}catch{return null}}const Ye=_.aC;class Jt{constructor(){this.browserResolver=_.aE(_.k),this.cordovaResolver=_.aE(Me),this.underlyingResolver=null,this._redirectPersistence=_.a,this._completeRedirectFn=_.aG,this._overrideRedirectResult=_.aH}_initialize(re){var X=this;return(0,p.A)(function*(){return yield X.selectUnderlyingResolver(),X.assertedUnderlyingResolver._initialize(re)})()}_openPopup(re,X,ke,gt){var $t=this;return(0,p.A)(function*(){return yield $t.selectUnderlyingResolver(),$t.assertedUnderlyingResolver._openPopup(re,X,ke,gt)})()}_openRedirect(re,X,ke,gt){var $t=this;return(0,p.A)(function*(){return yield $t.selectUnderlyingResolver(),$t.assertedUnderlyingResolver._openRedirect(re,X,ke,gt)})()}_isIframeWebStorageSupported(re,X){this.assertedUnderlyingResolver._isIframeWebStorageSupported(re,X)}_originValidation(re){return this.assertedUnderlyingResolver._originValidation(re)}get _shouldInitProactively(){return Yt()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ye(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var re=this;return(0,p.A)(function*(){if(re.underlyingResolver)return;const X=yield function ir(){return Ot.apply(this,arguments)}();re.underlyingResolver=X?re.cordovaResolver:re.browserResolver})()}}function ge(Y){return Y.unwrap()}function bt(Y){return zn(Y)}function zn(Y){const{_tokenResponse:re}=Y instanceof _e.g?Y.customData:Y;if(!re)return null;if(!(Y instanceof _e.g)&&"temporaryProof"in re&&"phoneNumber"in re)return _.P.credentialFromResult(Y);const X=re.providerId;if(!X||X===_.p.PASSWORD)return null;let ke;switch(X){case _.p.GOOGLE:ke=_.X;break;case _.p.FACEBOOK:ke=_.W;break;case _.p.GITHUB:ke=_.Y;break;case _.p.TWITTER:ke=_.$;break;default:const{oauthIdToken:gt,oauthAccessToken:$t,oauthTokenSecret:Fn,pendingToken:Gn,nonce:ur}=re;return $t||Fn||gt||Gn?Gn?X.startsWith("saml.")?_.aQ._create(X,Gn):_.N._fromParams({providerId:X,signInMethod:X,pendingToken:Gn,idToken:gt,accessToken:$t}):new _.Z(X).credential({idToken:gt,accessToken:$t,rawNonce:ur}):null}return Y instanceof _e.g?ke.credentialFromError(Y):ke.credentialFromResult(Y)}function rn(Y,re){return re.catch(X=>{throw X instanceof _e.g&&function It(Y,re){var X;const ke=null===(X=re.customData)||void 0===X?void 0:X._tokenResponse;if("auth/multi-factor-auth-required"===re?.code)re.resolver=new ar(Y,_.as(Y,re));else if(ke){const gt=zn(re),$t=re;gt&&($t.credential=gt,$t.tenantId=ke.tenantId||void 0,$t.email=ke.email||void 0,$t.phoneNumber=ke.phoneNumber||void 0)}}(Y,X),X}).then(X=>{const gt=X.user;return{operationType:X.operationType,credential:bt(X),additionalUserInfo:_.aq(X),user:Rr.getOrCreate(gt)}})}function kn(Y,re){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,p.A)(function*(Y,re){const X=yield re;return{verificationId:X.verificationId,confirm:ke=>rn(Y,X.confirm(ke))}})).apply(this,arguments)}class ar{constructor(re,X){this.resolver=X,this.auth=function je(Y){return Y.wrapped()}(re)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(re){return rn(ge(this.auth),this.resolver.resolveSignIn(re))}}class Rr{constructor(re){this._delegate=re,this.multiFactor=_.at(re)}static getOrCreate(re){return Rr.USER_MAP.has(re)||Rr.USER_MAP.set(re,new Rr(re)),Rr.USER_MAP.get(re)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(re){return this._delegate.getIdTokenResult(re)}getIdToken(re){return this._delegate.getIdToken(re)}linkAndRetrieveDataWithCredential(re){return this.linkWithCredential(re)}linkWithCredential(re){var X=this;return(0,p.A)(function*(){return rn(X.auth,_.a2(X._delegate,re))})()}linkWithPhoneNumber(re,X){var ke=this;return(0,p.A)(function*(){return kn(ke.auth,_.l(ke._delegate,re,X))})()}linkWithPopup(re){var X=this;return(0,p.A)(function*(){return rn(X.auth,_.d(X._delegate,re,Jt))})()}linkWithRedirect(re){var X=this;return(0,p.A)(function*(){return yield er(_.aJ(X.auth)),_.g(X._delegate,re,Jt)})()}reauthenticateAndRetrieveDataWithCredential(re){return this.reauthenticateWithCredential(re)}reauthenticateWithCredential(re){var X=this;return(0,p.A)(function*(){return rn(X.auth,_.a3(X._delegate,re))})()}reauthenticateWithPhoneNumber(re,X){return kn(this.auth,_.r(this._delegate,re,X))}reauthenticateWithPopup(re){return rn(this.auth,_.e(this._delegate,re,Jt))}reauthenticateWithRedirect(re){var X=this;return(0,p.A)(function*(){return yield er(_.aJ(X.auth)),_.h(X._delegate,re,Jt)})()}sendEmailVerification(re){return _.ag(this._delegate,re)}unlink(re){var X=this;return(0,p.A)(function*(){return yield _.ap(X._delegate,re),X})()}updateEmail(re){return _.al(this._delegate,re)}updatePassword(re){return _.am(this._delegate,re)}updatePhoneNumber(re){return _.u(this._delegate,re)}updateProfile(re){return _.ak(this._delegate,re)}verifyBeforeUpdateEmail(re,X){return _.ah(this._delegate,re,X)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Rr.USER_MAP=new WeakMap;const Wr=_.aC;let fi=(()=>{class Y{constructor(X,ke){if(this.app=X,ke.isInitialized())return this._delegate=ke.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:gt}=X.options;Wr(gt,"invalid-api-key",{appName:X.name}),Wr(gt,"invalid-api-key",{appName:X.name});const $t=typeof window<"u"?Jt:void 0;this._delegate=ke.initialize({options:{persistence:Fe(gt,X.name),popupRedirectResolver:$t}}),this._delegate._updateErrorMap(_.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Rr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(X){this._delegate.languageCode=X}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(X){this._delegate.tenantId=X}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(X,ke){_.K(this._delegate,X,ke)}applyActionCode(X){return _.a7(this._delegate,X)}checkActionCode(X){return _.a8(this._delegate,X)}confirmPasswordReset(X,ke){return _.a6(this._delegate,X,ke)}createUserWithEmailAndPassword(X,ke){var gt=this;return(0,p.A)(function*(){return rn(gt._delegate,_.aa(gt._delegate,X,ke))})()}fetchProvidersForEmail(X){return this.fetchSignInMethodsForEmail(X)}fetchSignInMethodsForEmail(X){return _.af(this._delegate,X)}isSignInWithEmailLink(X){return _.ad(this._delegate,X)}getRedirectResult(){var X=this;return(0,p.A)(function*(){Wr(Bn(),X._delegate,"operation-not-supported-in-this-environment");const ke=yield _.j(X._delegate,Jt);return ke?rn(X._delegate,Promise.resolve(ke)):{credential:null,user:null}})()}addFrameworkForLogging(X){!function lt(Y,re){(0,_.aJ)(Y)._logFramework(re)}(this._delegate,X)}onAuthStateChanged(X,ke,gt){const{next:$t,error:Fn,complete:Gn}=ti(X,ke,gt);return this._delegate.onAuthStateChanged($t,Fn,Gn)}onIdTokenChanged(X,ke,gt){const{next:$t,error:Fn,complete:Gn}=ti(X,ke,gt);return this._delegate.onIdTokenChanged($t,Fn,Gn)}sendSignInLinkToEmail(X,ke){return _.ac(this._delegate,X,ke)}sendPasswordResetEmail(X,ke){return _.a5(this._delegate,X,ke||void 0)}setPersistence(X){var ke=this;return(0,p.A)(function*(){let gt;switch(function Sr(Y,re){Er(Object.values(jn).includes(re),Y,"invalid-persistence-type"),(0,_e.lV)()?Er(re!==jn.SESSION,Y,"unsupported-persistence-type"):(0,_e.Ll)()?Er(re===jn.NONE,Y,"unsupported-persistence-type"):Qn()?Er(re===jn.NONE||re===jn.LOCAL&&(0,_e.zW)(),Y,"unsupported-persistence-type"):Er(re===jn.NONE||Wn(),Y,"unsupported-persistence-type")}(ke._delegate,X),X){case jn.SESSION:gt=_.a;break;case jn.LOCAL:gt=(yield _.aE(_.i)._isAvailable())?_.i:_.b;break;case jn.NONE:gt=_.U;break;default:return _.ax("argument-error",{appName:ke._delegate.name})}return ke._delegate.setPersistence(gt)})()}signInAndRetrieveDataWithCredential(X){return this.signInWithCredential(X)}signInAnonymously(){return rn(this._delegate,_.a0(this._delegate))}signInWithCredential(X){return rn(this._delegate,_.a1(this._delegate,X))}signInWithCustomToken(X){return rn(this._delegate,_.a4(this._delegate,X))}signInWithEmailAndPassword(X,ke){return rn(this._delegate,_.ab(this._delegate,X,ke))}signInWithEmailLink(X,ke){return rn(this._delegate,_.ae(this._delegate,X,ke))}signInWithPhoneNumber(X,ke){return kn(this._delegate,_.s(this._delegate,X,ke))}signInWithPopup(X){var ke=this;return(0,p.A)(function*(){return Wr(Bn(),ke._delegate,"operation-not-supported-in-this-environment"),rn(ke._delegate,_.c(ke._delegate,X,Jt))})()}signInWithRedirect(X){var ke=this;return(0,p.A)(function*(){return Wr(Bn(),ke._delegate,"operation-not-supported-in-this-environment"),yield er(ke._delegate),_.f(ke._delegate,X,Jt)})()}updateCurrentUser(X){return this._delegate.updateCurrentUser(X)}verifyPasswordResetCode(X){return _.a9(this._delegate,X)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return Y.Persistence=jn,Y})();function ti(Y,re,X){let ke=Y;"function"!=typeof Y&&({next:ke,error:re,complete:X}=Y);const gt=ke;return{next:Fn=>gt(Fn&&Rr.getOrCreate(Fn)),error:re,complete:X}}function Fe(Y,re){const X=function dn(Y,re){const X=xr();if(!X)return[];const ke=_.aF(Dr,Y,re);switch(X.getItem(ke)){case jn.NONE:return[_.U];case jn.LOCAL:return[_.i,_.a];case jn.SESSION:return[_.a];default:return[]}}(Y,re);if(typeof self<"u"&&!X.includes(_.i)&&X.push(_.i),typeof window<"u")for(const ke of[_.b,_.a])X.includes(ke)||X.push(ke);return X.includes(_.U)||X.push(_.U),X}class qe{constructor(){this.providerId="phone",this._delegate=new _.P(ge(F.A.auth()))}static credential(re,X){return _.P.credential(re,X)}verifyPhoneNumber(re,X){return this._delegate.verifyPhoneNumber(re,X)}unwrap(){return this._delegate}}qe.PHONE_SIGN_IN_METHOD=_.P.PHONE_SIGN_IN_METHOD,qe.PROVIDER_ID=_.P.PROVIDER_ID;const me=_.aC;class Oe{constructor(re,X,ke=F.A.app()){var gt;me(null===(gt=ke.options)||void 0===gt?void 0:gt.apiKey,"invalid-api-key",{appName:ke.name}),this._delegate=new _.R(ke.auth(),re,X),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function he(Y){Y.INTERNAL.registerComponent(new W.uA("auth-compat",re=>{const X=re.getProvider("app-compat").getImmediate(),ke=re.getProvider("auth");return new fi(X,ke)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:_.A.EMAIL_SIGNIN,PASSWORD_RESET:_.A.PASSWORD_RESET,RECOVER_EMAIL:_.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:_.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:_.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:_.A.VERIFY_EMAIL}},EmailAuthProvider:_.V,FacebookAuthProvider:_.W,GithubAuthProvider:_.Y,GoogleAuthProvider:_.X,OAuthProvider:_.Z,SAMLAuthProvider:_._,PhoneAuthProvider:qe,PhoneMultiFactorGenerator:_.m,RecaptchaVerifier:Oe,TwitterAuthProvider:_.$,Auth:fi,AuthCredential:_.L,Error:_e.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Y.registerVersion("@firebase/auth-compat","0.5.5")}(F.A)},5779:(zt,ze,L)=>{L.d(ze,{Ei:()=>ut,Gg:()=>ft,r1:()=>Ke,si:()=>Re});var p=L(4438),F=L(1413),_=L(177);let oe=(()=>class Ge{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static IN="in";static LESS_THAN="lt";static LESS_THAN_OR_EQUAL_TO="lte";static GREATER_THAN="gt";static GREATER_THAN_OR_EQUAL_TO="gte";static BETWEEN="between";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static DATE_IS="dateIs";static DATE_IS_NOT="dateIsNot";static DATE_BEFORE="dateBefore";static DATE_AFTER="dateAfter"})(),Re=(()=>{class Ge{clickSource=new F.B;clickObservable=this.clickSource.asObservable();add(De){De&&this.clickSource.next(De)}static \u0275fac=function(ye){return new(ye||Ge)};static \u0275prov=p.jDH({token:Ge,factory:Ge.\u0275fac,providedIn:"root"})}return Ge})(),Ke=(()=>{class Ge{ripple=!1;inputStyle="outlined";overlayOptions={};filterMatchModeOptions={text:[oe.STARTS_WITH,oe.CONTAINS,oe.NOT_CONTAINS,oe.ENDS_WITH,oe.EQUALS,oe.NOT_EQUALS],numeric:[oe.EQUALS,oe.NOT_EQUALS,oe.LESS_THAN,oe.LESS_THAN_OR_EQUAL_TO,oe.GREATER_THAN,oe.GREATER_THAN_OR_EQUAL_TO],date:[oe.DATE_IS,oe.DATE_IS_NOT,oe.DATE_BEFORE,oe.DATE_AFTER]};translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyFilterMessage:"No results found",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"{page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",previousPageLabel:"Previous Page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",listLabel:"Option List",selectColor:"Select a color",removeLabel:"Remove"}};zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100};translationSource=new F.B;translationObserver=this.translationSource.asObservable();getTranslation(De){return this.translation[De]}setTranslation(De){this.translation={...this.translation,...De},this.translationSource.next(this.translation)}static \u0275fac=function(ye){return new(ye||Ge)};static \u0275prov=p.jDH({token:Ge,factory:Ge.\u0275fac,providedIn:"root"})}return Ge})(),ut=(()=>{class Ge{template;type;name;constructor(De){this.template=De}getType(){return this.name}static \u0275fac=function(ye){return new(ye||Ge)(p.rXU(p.C4Q))};static \u0275dir=p.FsC({type:Ge,selectors:[["","pTemplate",""]],inputs:{type:"type",name:[p.Mj6.None,"pTemplate","name"]}})}return Ge})(),ft=(()=>{class Ge{static \u0275fac=function(ye){return new(ye||Ge)};static \u0275mod=p.$C({type:Ge});static \u0275inj=p.G2t({imports:[_.MD]})}return Ge})()},461:(zt,ze,L)=>{L.d(ze,{h:()=>_e});var p=L(4438),F=L(4420);const _=["*"];let _e=(()=>{class V{label;spin=!1;styleClass;role;ariaLabel;ariaHidden;ngOnInit(){this.getAttributes()}getAttributes(){const W=F.BF.isEmpty(this.label);this.role=W?void 0:"img",this.ariaLabel=W?void 0:this.label,this.ariaHidden=W}getClassNames(){return`p-icon ${this.styleClass?this.styleClass+" ":""}${this.spin?"p-icon-spin":""}`}static \u0275fac=function(oe){return new(oe||V)};static \u0275cmp=p.VBU({type:V,selectors:[["ng-component"]],hostAttrs:[1,"p-element","p-icon-wrapper"],inputs:{label:"label",spin:"spin",styleClass:"styleClass"},standalone:!0,features:[p.aNF],ngContentSelectors:_,decls:1,vars:0,template:function(oe,de){1&oe&&(p.NAR(),p.SdG(0))},encapsulation:2,changeDetection:0})}return V})()},2796:(zt,ze,L)=>{L.d(ze,{tm:()=>ue});var p=L(177),F=L(4438),_=L(5779),_e=L(461),V=L(4420);let Q=(()=>{class Se extends _e.h{pathId;ngOnInit(){this.pathId="url(#"+(0,V._Y)()+")"}static \u0275fac=(()=>{let Ee;return function(In){return(Ee||(Ee=F.xGo(Se)))(In||Se)}})();static \u0275cmp=F.VBU({type:Se,selectors:[["SpinnerIcon"]],standalone:!0,features:[F.Vt3,F.aNF],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(Ht,In){1&Ht&&(F.qSk(),F.j41(0,"svg",0)(1,"g"),F.nrm(2,"path",1),F.k0s(),F.j41(3,"defs")(4,"clipPath",2),F.nrm(5,"rect",3),F.k0s()()()),2&Ht&&(F.HbH(In.getClassNames()),F.BMQ("aria-label",In.ariaLabel)("aria-hidden",In.ariaHidden)("role",In.role),F.R7$(),F.BMQ("clip-path",In.pathId),F.R7$(3),F.Y8G("id",In.pathId))},encapsulation:2})}return Se})();var W=L(563);let ue=(()=>{class Se{static \u0275fac=function(Ht){return new(Ht||Se)};static \u0275mod=F.$C({type:Se});static \u0275inj=F.G2t({imports:[p.MD,W.Z,_.Gg,Q,_.Gg]})}return Se})()},491:(zt,ze,L)=>{L.d(ze,{D:()=>At});var p=L(177),F=L(4438),_=L(5779);let At=(()=>{class ut{static \u0275fac=function(Bt){return new(Bt||ut)};static \u0275mod=F.$C({type:ut});static \u0275inj=F.G2t({imports:[p.MD,_.Gg]})}return ut})()},2231:(zt,ze,L)=>{L.d(ze,{q4:()=>Ve});var p=L(177),F=L(4438),_=L(4341),_e=L(5779),V=L(461);let Q=(()=>{class De extends V.h{static \u0275fac=(()=>{let be;return function(ue){return(be||(be=F.xGo(De)))(ue||De)}})();static \u0275cmp=F.VBU({type:De,selectors:[["CheckIcon"]],standalone:!0,features:[F.Vt3,F.aNF],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M4.86199 11.5948C4.78717 11.5923 4.71366 11.5745 4.64596 11.5426C4.57826 11.5107 4.51779 11.4652 4.46827 11.4091L0.753985 7.69483C0.683167 7.64891 0.623706 7.58751 0.580092 7.51525C0.536478 7.44299 0.509851 7.36177 0.502221 7.27771C0.49459 7.19366 0.506156 7.10897 0.536046 7.03004C0.565935 6.95111 0.613367 6.88 0.674759 6.82208C0.736151 6.76416 0.8099 6.72095 0.890436 6.69571C0.970973 6.67046 1.05619 6.66385 1.13966 6.67635C1.22313 6.68886 1.30266 6.72017 1.37226 6.76792C1.44186 6.81567 1.4997 6.8786 1.54141 6.95197L4.86199 10.2503L12.6397 2.49483C12.7444 2.42694 12.8689 2.39617 12.9932 2.40745C13.1174 2.41873 13.2343 2.47141 13.3251 2.55705C13.4159 2.64268 13.4753 2.75632 13.4938 2.87973C13.5123 3.00315 13.4888 3.1292 13.4271 3.23768L5.2557 11.4091C5.20618 11.4652 5.14571 11.5107 5.07801 11.5426C5.01031 11.5745 4.9368 11.5923 4.86199 11.5948Z","fill","currentColor"]],template:function(Xe,ue){1&Xe&&(F.qSk(),F.j41(0,"svg",0),F.nrm(1,"path",1),F.k0s()),2&Xe&&(F.HbH(ue.getClassNames()),F.BMQ("aria-label",ue.ariaLabel)("aria-hidden",ue.ariaHidden)("role",ue.role))},encapsulation:2})}return De})();var W=L(4420);const oe=["input"],de=(De,ye,be)=>({"p-checkbox p-component":!0,"p-checkbox-checked":De,"p-checkbox-disabled":ye,"p-checkbox-focused":be}),ne=(De,ye,be)=>({"p-highlight":De,"p-disabled":ye,"p-focus":be}),le=(De,ye,be)=>({"p-checkbox-label":!0,"p-checkbox-label-active":De,"p-disabled":ye,"p-checkbox-label-focus":be});function Re(De,ye){if(1&De&&F.nrm(0,"span",10),2&De){const be=F.XpG(3);F.Y8G("ngClass",be.checkboxIcon),F.BMQ("data-pc-section","icon")}}function We(De,ye){1&De&&F.nrm(0,"CheckIcon",11),2&De&&(F.Y8G("styleClass","p-checkbox-icon"),F.BMQ("data-pc-section","icon"))}function Ke(De,ye){if(1&De&&(F.qex(0),F.DNE(1,Re,1,2,"span",8)(2,We,1,2,"CheckIcon",9),F.bVm()),2&De){const be=F.XpG(2);F.R7$(),F.Y8G("ngIf",be.checkboxIcon),F.R7$(),F.Y8G("ngIf",!be.checkboxIcon)}}function yt(De,ye){}function At(De,ye){1&De&&F.DNE(0,yt,0,0,"ng-template")}function ut(De,ye){if(1&De&&(F.j41(0,"span",12),F.DNE(1,At,1,0,null,13),F.k0s()),2&De){const be=F.XpG(2);F.BMQ("data-pc-section","icon"),F.R7$(),F.Y8G("ngTemplateOutlet",be.checkboxIconTemplate)}}function ft(De,ye){if(1&De&&(F.qex(0),F.DNE(1,Ke,3,2,"ng-container",5)(2,ut,2,2,"span",7),F.bVm()),2&De){const be=F.XpG();F.R7$(),F.Y8G("ngIf",!be.checkboxIconTemplate),F.R7$(),F.Y8G("ngIf",be.checkboxIconTemplate)}}function Ut(De,ye){if(1&De){const be=F.RV6();F.j41(0,"label",14),F.bIt("click",function(ue){F.eBV(be);const Se=F.XpG(),pt=F.sdS(3);return F.Njj(Se.onClick(ue,pt,!0))}),F.EFF(1),F.k0s()}if(2&De){const be=F.XpG();F.HbH(be.labelStyleClass),F.Y8G("ngClass",F.sMw(6,le,be.checked(),be.disabled,be.focused)),F.BMQ("for",be.inputId)("data-pc-section","label"),F.R7$(),F.SpI(" ",be.label,"")}}const Bt={provide:_.kq,useExisting:(0,F.Rfq)(()=>Ge),multi:!0};let Ge=(()=>{class De{cd;value;name;disabled;binary;label;ariaLabelledBy;ariaLabel;tabindex;inputId;style;styleClass;labelStyleClass;formControl;checkboxIcon;readonly;required;trueValue=!0;falseValue=!1;onChange=new F.bkB;onFocus=new F.bkB;onBlur=new F.bkB;inputViewChild;templates;checkboxIconTemplate;model;onModelChange=()=>{};onModelTouched=()=>{};focused=!1;constructor(be){this.cd=be}ngAfterContentInit(){this.templates.forEach(be=>{"icon"===be.getType()&&(this.checkboxIconTemplate=be.template)})}onClick(be,Xe,ue){be.preventDefault(),!this.disabled&&!this.readonly&&(this.updateModel(be),ue&&Xe.focus())}updateModel(be){let Xe;this.binary?(Xe=this.checked()?this.falseValue:this.trueValue,this.model=Xe,this.onModelChange(Xe)):(Xe=this.checked()?this.model.filter(ue=>!W.BF.equals(ue,this.value)):this.model?[...this.model,this.value]:[this.value],this.onModelChange(Xe),this.model=Xe,this.formControl&&this.formControl.setValue(Xe)),this.onChange.emit({checked:Xe,originalEvent:be})}handleChange(be){this.readonly||this.updateModel(be)}onInputFocus(be){this.focused=!0,this.onFocus.emit(be)}onInputBlur(be){this.focused=!1,this.onBlur.emit(be),this.onModelTouched()}focus(){this.inputViewChild.nativeElement.focus()}writeValue(be){this.model=be,this.cd.markForCheck()}registerOnChange(be){this.onModelChange=be}registerOnTouched(be){this.onModelTouched=be}setDisabledState(be){setTimeout(()=>{this.disabled=be,this.cd.markForCheck()})}checked(){return this.binary?this.model===this.trueValue:W.BF.contains(this.value,this.model)}static \u0275fac=function(Xe){return new(Xe||De)(F.rXU(F.gRc))};static \u0275cmp=F.VBU({type:De,selectors:[["p-checkbox"]],contentQueries:function(Xe,ue,Se){if(1&Xe&&F.wni(Se,_e.Ei,4),2&Xe){let pt;F.mGM(pt=F.lsd())&&(ue.templates=pt)}},viewQuery:function(Xe,ue){if(1&Xe&&F.GBs(oe,5),2&Xe){let Se;F.mGM(Se=F.lsd())&&(ue.inputViewChild=Se.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",name:"name",disabled:"disabled",binary:"binary",label:"label",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",tabindex:"tabindex",inputId:"inputId",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass",formControl:"formControl",checkboxIcon:"checkboxIcon",readonly:"readonly",required:"required",trueValue:"trueValue",falseValue:"falseValue"},outputs:{onChange:"onChange",onFocus:"onFocus",onBlur:"onBlur"},features:[F.Jv_([Bt])],decls:7,vars:35,consts:[["input",""],[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","checkbox",3,"change","focus","blur","value","checked","disabled","readonly"],[1,"p-checkbox-box",3,"click","ngClass"],[4,"ngIf"],[3,"class","ngClass","click",4,"ngIf"],["class","p-checkbox-icon",4,"ngIf"],["class","p-checkbox-icon",3,"ngClass",4,"ngIf"],[3,"styleClass",4,"ngIf"],[1,"p-checkbox-icon",3,"ngClass"],[3,"styleClass"],[1,"p-checkbox-icon"],[4,"ngTemplateOutlet"],[3,"click","ngClass"]],template:function(Xe,ue){if(1&Xe){const Se=F.RV6();F.j41(0,"div",1)(1,"div",2)(2,"input",3,0),F.bIt("change",function(Ee){return F.eBV(Se),F.Njj(ue.handleChange(Ee))})("focus",function(Ee){return F.eBV(Se),F.Njj(ue.onInputFocus(Ee))})("blur",function(Ee){return F.eBV(Se),F.Njj(ue.onInputBlur(Ee))}),F.k0s()(),F.j41(4,"div",4),F.bIt("click",function(Ee){F.eBV(Se);const Ht=F.sdS(3);return F.Njj(ue.onClick(Ee,Ht,!0))}),F.DNE(5,ft,3,2,"ng-container",5),F.k0s()(),F.DNE(6,Ut,2,10,"label",6)}2&Xe&&(F.HbH(ue.styleClass),F.Y8G("ngStyle",ue.style)("ngClass",F.sMw(27,de,ue.checked(),ue.disabled,ue.focused)),F.BMQ("data-pc-name","checkbox")("data-pc-section","root"),F.R7$(),F.BMQ("data-pc-section","hiddenInputWrapper")("data-p-hidden-accessible",!0),F.R7$(),F.Y8G("value",ue.value)("checked",ue.checked())("disabled",ue.disabled)("readonly",ue.readonly),F.BMQ("id",ue.inputId)("name",ue.name)("tabindex",ue.tabindex)("required",ue.required)("aria-labelledby",ue.ariaLabelledBy)("aria-label",ue.ariaLabel)("aria-checked",ue.checked())("data-pc-section","hiddenInput"),F.R7$(2),F.Y8G("ngClass",F.sMw(31,ne,ue.checked(),ue.disabled,ue.focused)),F.BMQ("data-p-highlight",ue.checked())("data-p-disabled",ue.disabled)("data-p-focused",ue.focused)("data-pc-section","input"),F.R7$(),F.Y8G("ngIf",ue.checked()),F.R7$(),F.Y8G("ngIf",ue.label))},dependencies:()=>[p.YU,p.bT,p.T3,p.B3,Q],styles:["@layer primeng{.p-checkbox{display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;vertical-align:bottom;position:relative}.p-checkbox-disabled{cursor:default!important;pointer-events:none}.p-checkbox-box{display:flex;justify-content:center;align-items:center}p-checkbox{display:inline-flex;vertical-align:bottom;align-items:center}.p-checkbox-label{line-height:1}}\n"],encapsulation:2,changeDetection:0})}return De})(),Ve=(()=>{class De{static \u0275fac=function(Xe){return new(Xe||De)};static \u0275mod=F.$C({type:De});static \u0275inj=F.G2t({imports:[p.MD,Q,_e.Gg]})}return De})()},1455:(zt,ze,L)=>{L.d(ze,{D:()=>p,b:()=>F});let p=(()=>{class _{static zindex=1e3;static calculatedScrollbarWidth=null;static calculatedScrollbarHeight=null;static browser;static addClass(V,Q){V&&Q&&(V.classList?V.classList.add(Q):V.className+=" "+Q)}static addMultipleClasses(V,Q){if(V&&Q)if(V.classList){let W=Q.trim().split(" ");for(let oe=0;oe<W.length;oe++)V.classList.add(W[oe])}else{let W=Q.split(" ");for(let oe=0;oe<W.length;oe++)V.className+=" "+W[oe]}}static removeClass(V,Q){V&&Q&&(V.classList?V.classList.remove(Q):V.className=V.className.replace(new RegExp("(^|\\b)"+Q.split(" ").join("|")+"(\\b|$)","gi")," "))}static removeMultipleClasses(V,Q){V&&Q&&[Q].flat().filter(Boolean).forEach(W=>W.split(" ").forEach(oe=>this.removeClass(V,oe)))}static hasClass(V,Q){return!(!V||!Q)&&(V.classList?V.classList.contains(Q):new RegExp("(^| )"+Q+"( |$)","gi").test(V.className))}static siblings(V){return Array.prototype.filter.call(V.parentNode.children,function(Q){return Q!==V})}static find(V,Q){return Array.from(V.querySelectorAll(Q))}static findSingle(V,Q){return this.isElement(V)?V.querySelector(Q):null}static index(V){let Q=V.parentNode.childNodes,W=0;for(var oe=0;oe<Q.length;oe++){if(Q[oe]==V)return W;1==Q[oe].nodeType&&W++}return-1}static indexWithinGroup(V,Q){let W=V.parentNode?V.parentNode.childNodes:[],oe=0;for(var de=0;de<W.length;de++){if(W[de]==V)return oe;W[de].attributes&&W[de].attributes[Q]&&1==W[de].nodeType&&oe++}return-1}static appendOverlay(V,Q,W="self"){"self"!==W&&V&&Q&&this.appendChild(V,Q)}static alignOverlay(V,Q,W="self",oe=!0){V&&Q&&(oe&&(V.style.minWidth=`${_.getOuterWidth(Q)}px`),"self"===W?this.relativePosition(V,Q):this.absolutePosition(V,Q))}static relativePosition(V,Q){const W=Bt=>{if(Bt)return"relative"===getComputedStyle(Bt).getPropertyValue("position")?Bt:W(Bt.parentElement)},oe=V.offsetParent?{width:V.offsetWidth,height:V.offsetHeight}:this.getHiddenElementDimensions(V),de=Q.offsetHeight,ne=Q.getBoundingClientRect(),le=this.getWindowScrollTop(),Re=this.getWindowScrollLeft(),We=this.getViewport(),yt=W(V)?.getBoundingClientRect()||{top:-1*le,left:-1*Re};let At,ut;ne.top+de+oe.height>We.height?(At=ne.top-yt.top-oe.height,V.style.transformOrigin="bottom",ne.top+At<0&&(At=-1*ne.top)):(At=de+ne.top-yt.top,V.style.transformOrigin="top");const ft=ne.left+oe.width-We.width;ut=oe.width>We.width?-1*(ne.left-yt.left):ft>0?ne.left-yt.left-ft:ne.left-yt.left,V.style.top=At+"px",V.style.left=ut+"px"}static absolutePosition(V,Q){const W=V.offsetParent?{width:V.offsetWidth,height:V.offsetHeight}:this.getHiddenElementDimensions(V),oe=W.height,de=W.width,ne=Q.offsetHeight,le=Q.offsetWidth,Re=Q.getBoundingClientRect(),We=this.getWindowScrollTop(),Ke=this.getWindowScrollLeft(),yt=this.getViewport();let At,ut;Re.top+ne+oe>yt.height?(At=Re.top+We-oe,V.style.transformOrigin="bottom",At<0&&(At=We)):(At=ne+Re.top+We,V.style.transformOrigin="top"),ut=Re.left+de>yt.width?Math.max(0,Re.left+Ke+le-de):Re.left+Ke,V.style.top=At+"px",V.style.left=ut+"px"}static getParents(V,Q=[]){return null===V.parentNode?Q:this.getParents(V.parentNode,Q.concat([V.parentNode]))}static getScrollableParents(V){let Q=[];if(V){let W=this.getParents(V);const oe=/(auto|scroll)/,de=ne=>{let le=window.getComputedStyle(ne,null);return oe.test(le.getPropertyValue("overflow"))||oe.test(le.getPropertyValue("overflowX"))||oe.test(le.getPropertyValue("overflowY"))};for(let ne of W){let le=1===ne.nodeType&&ne.dataset.scrollselectors;if(le){let Re=le.split(",");for(let We of Re){let Ke=this.findSingle(ne,We);Ke&&de(Ke)&&Q.push(Ke)}}9!==ne.nodeType&&de(ne)&&Q.push(ne)}}return Q}static getHiddenElementOuterHeight(V){V.style.visibility="hidden",V.style.display="block";let Q=V.offsetHeight;return V.style.display="none",V.style.visibility="visible",Q}static getHiddenElementOuterWidth(V){V.style.visibility="hidden",V.style.display="block";let Q=V.offsetWidth;return V.style.display="none",V.style.visibility="visible",Q}static getHiddenElementDimensions(V){let Q={};return V.style.visibility="hidden",V.style.display="block",Q.width=V.offsetWidth,Q.height=V.offsetHeight,V.style.display="none",V.style.visibility="visible",Q}static scrollInView(V,Q){let W=getComputedStyle(V).getPropertyValue("borderTopWidth"),oe=W?parseFloat(W):0,de=getComputedStyle(V).getPropertyValue("paddingTop"),ne=de?parseFloat(de):0,le=V.getBoundingClientRect(),We=Q.getBoundingClientRect().top+document.body.scrollTop-(le.top+document.body.scrollTop)-oe-ne,Ke=V.scrollTop,yt=V.clientHeight,At=this.getOuterHeight(Q);We<0?V.scrollTop=Ke+We:We+At>yt&&(V.scrollTop=Ke+We-yt+At)}static fadeIn(V,Q){V.style.opacity=0;let W=+new Date,oe=0,de=function(){oe=+V.style.opacity.replace(",",".")+((new Date).getTime()-W)/Q,V.style.opacity=oe,W=+new Date,+oe<1&&(window.requestAnimationFrame&&requestAnimationFrame(de)||setTimeout(de,16))};de()}static fadeOut(V,Q){var W=1,ne=50/Q;let le=setInterval(()=>{(W-=ne)<=0&&(W=0,clearInterval(le)),V.style.opacity=W},50)}static getWindowScrollTop(){let V=document.documentElement;return(window.pageYOffset||V.scrollTop)-(V.clientTop||0)}static getWindowScrollLeft(){let V=document.documentElement;return(window.pageXOffset||V.scrollLeft)-(V.clientLeft||0)}static matches(V,Q){var W=Element.prototype;return(W.matches||W.webkitMatchesSelector||W.mozMatchesSelector||W.msMatchesSelector||function(de){return-1!==[].indexOf.call(document.querySelectorAll(de),this)}).call(V,Q)}static getOuterWidth(V,Q){let W=V.offsetWidth;if(Q){let oe=getComputedStyle(V);W+=parseFloat(oe.marginLeft)+parseFloat(oe.marginRight)}return W}static getHorizontalPadding(V){let Q=getComputedStyle(V);return parseFloat(Q.paddingLeft)+parseFloat(Q.paddingRight)}static getHorizontalMargin(V){let Q=getComputedStyle(V);return parseFloat(Q.marginLeft)+parseFloat(Q.marginRight)}static innerWidth(V){let Q=V.offsetWidth,W=getComputedStyle(V);return Q+=parseFloat(W.paddingLeft)+parseFloat(W.paddingRight),Q}static width(V){let Q=V.offsetWidth,W=getComputedStyle(V);return Q-=parseFloat(W.paddingLeft)+parseFloat(W.paddingRight),Q}static getInnerHeight(V){let Q=V.offsetHeight,W=getComputedStyle(V);return Q+=parseFloat(W.paddingTop)+parseFloat(W.paddingBottom),Q}static getOuterHeight(V,Q){let W=V.offsetHeight;if(Q){let oe=getComputedStyle(V);W+=parseFloat(oe.marginTop)+parseFloat(oe.marginBottom)}return W}static getHeight(V){let Q=V.offsetHeight,W=getComputedStyle(V);return Q-=parseFloat(W.paddingTop)+parseFloat(W.paddingBottom)+parseFloat(W.borderTopWidth)+parseFloat(W.borderBottomWidth),Q}static getWidth(V){let Q=V.offsetWidth,W=getComputedStyle(V);return Q-=parseFloat(W.paddingLeft)+parseFloat(W.paddingRight)+parseFloat(W.borderLeftWidth)+parseFloat(W.borderRightWidth),Q}static getViewport(){let V=window,Q=document,W=Q.documentElement,oe=Q.getElementsByTagName("body")[0];return{width:V.innerWidth||W.clientWidth||oe.clientWidth,height:V.innerHeight||W.clientHeight||oe.clientHeight}}static getOffset(V){var Q=V.getBoundingClientRect();return{top:Q.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:Q.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(V,Q){let W=V.parentNode;if(!W)throw"Can't replace element";return W.replaceChild(Q,V)}static getUserAgent(){if(navigator&&this.isClient())return navigator.userAgent}static isIE(){var V=window.navigator.userAgent;return V.indexOf("MSIE ")>0||(V.indexOf("Trident/")>0?(V.indexOf("rv:"),!0):V.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(V,Q){if(this.isElement(Q))Q.appendChild(V);else{if(!(Q&&Q.el&&Q.el.nativeElement))throw"Cannot append "+Q+" to "+V;Q.el.nativeElement.appendChild(V)}}static removeChild(V,Q){if(this.isElement(Q))Q.removeChild(V);else{if(!Q.el||!Q.el.nativeElement)throw"Cannot remove "+V+" from "+Q;Q.el.nativeElement.removeChild(V)}}static removeElement(V){"remove"in Element.prototype?V.remove():V.parentNode.removeChild(V)}static isElement(V){return"object"==typeof HTMLElement?V instanceof HTMLElement:V&&"object"==typeof V&&null!==V&&1===V.nodeType&&"string"==typeof V.nodeName}static calculateScrollbarWidth(V){if(V){let Q=getComputedStyle(V);return V.offsetWidth-V.clientWidth-parseFloat(Q.borderLeftWidth)-parseFloat(Q.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let Q=document.createElement("div");Q.className="p-scrollbar-measure",document.body.appendChild(Q);let W=Q.offsetWidth-Q.clientWidth;return document.body.removeChild(Q),this.calculatedScrollbarWidth=W,W}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let V=document.createElement("div");V.className="p-scrollbar-measure",document.body.appendChild(V);let Q=V.offsetHeight-V.clientHeight;return document.body.removeChild(V),this.calculatedScrollbarWidth=Q,Q}static invokeElementMethod(V,Q,W){V[Q].apply(V,W)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let V=this.resolveUserAgent();this.browser={},V.browser&&(this.browser[V.browser]=!0,this.browser.version=V.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let V=navigator.userAgent.toLowerCase(),Q=/(chrome)[ \/]([\w.]+)/.exec(V)||/(webkit)[ \/]([\w.]+)/.exec(V)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(V)||/(msie) ([\w.]+)/.exec(V)||V.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(V)||[];return{browser:Q[1]||"",version:Q[2]||"0"}}static isInteger(V){return Number.isInteger?Number.isInteger(V):"number"==typeof V&&isFinite(V)&&Math.floor(V)===V}static isHidden(V){return!V||null===V.offsetParent}static isVisible(V){return V&&null!=V.offsetParent}static isExist(V){return null!==V&&typeof V<"u"&&V.nodeName&&V.parentNode}static focus(V,Q){V&&document.activeElement!==V&&V.focus(Q)}static getFocusableElements(V,Q=""){let W=this.find(V,`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${Q},\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${Q},\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${Q},\n                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${Q},\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${Q},\n                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${Q},\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${Q}`),oe=[];for(let de of W){const ne=getComputedStyle(de);this.isVisible(de)&&"none"!=ne.display&&"hidden"!=ne.visibility&&oe.push(de)}return oe}static getFirstFocusableElement(V,Q){const W=this.getFocusableElements(V,Q);return W.length>0?W[0]:null}static getLastFocusableElement(V,Q){const W=this.getFocusableElements(V,Q);return W.length>0?W[W.length-1]:null}static getNextFocusableElement(V,Q=!1){const W=_.getFocusableElements(V);let oe=0;if(W&&W.length>0){const de=W.indexOf(W[0].ownerDocument.activeElement);Q?oe=-1==de||0===de?W.length-1:de-1:-1!=de&&de!==W.length-1&&(oe=de+1)}return W[oe]}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}static getSelection(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null}static getTargetElement(V,Q){if(!V)return null;switch(V){case"document":return document;case"window":return window;case"@next":return Q?.nextElementSibling;case"@prev":return Q?.previousElementSibling;case"@parent":return Q?.parentElement;case"@grandparent":return Q?.parentElement.parentElement;default:const W=typeof V;if("string"===W)return document.querySelector(V);if("object"===W&&V.hasOwnProperty("nativeElement"))return this.isExist(V.nativeElement)?V.nativeElement:void 0;const de=(ne=V)&&ne.constructor&&ne.call&&ne.apply?V():V;return de&&9===de.nodeType||this.isExist(de)?de:null}var ne}static isClient(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}static getAttribute(V,Q){if(V){const W=V.getAttribute(Q);return isNaN(W)?"true"===W||"false"===W?"true"===W:W:+W}}static calculateBodyScrollbarWidth(){return window.innerWidth-document.documentElement.offsetWidth}static blockBodyScroll(V="p-overflow-hidden"){document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,V)}static unblockBodyScroll(V="p-overflow-hidden"){document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,V)}}return _})();class F{element;listener;scrollableParents;constructor(_e,V=(()=>{})){this.element=_e,this.listener=V}bindScrollListener(){this.scrollableParents=p.getScrollableParents(this.element);for(let _e=0;_e<this.scrollableParents.length;_e++)this.scrollableParents[_e].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let _e=0;_e<this.scrollableParents.length;_e++)this.scrollableParents[_e].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}},2242:(zt,ze,L)=>{L.d(ze,{S:()=>_e,u:()=>V});var p=L(4438),F=L(177),_=L(4341);let _e=(()=>{class Q{el;ngModel;cd;filled;constructor(oe,de,ne){this.el=oe,this.ngModel=de,this.cd=ne}ngAfterViewInit(){this.updateFilledState(),this.cd.detectChanges()}ngDoCheck(){this.updateFilledState()}onInput(){this.updateFilledState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model}static \u0275fac=function(de){return new(de||Q)(p.rXU(p.aKT),p.rXU(_.vS,8),p.rXU(p.gRc))};static \u0275dir=p.FsC({type:Q,selectors:[["","pInputText",""]],hostAttrs:[1,"p-inputtext","p-component","p-element"],hostVars:2,hostBindings:function(de,ne){1&de&&p.bIt("input",function(Re){return ne.onInput(Re)}),2&de&&p.AVh("p-filled",ne.filled)}})}return Q})(),V=(()=>{class Q{static \u0275fac=function(de){return new(de||Q)};static \u0275mod=p.$C({type:Q});static \u0275inj=p.G2t({imports:[F.MD]})}return Q})()},7617:(zt,ze,L)=>{L.d(ze,{N9:()=>xr});var p=L(177),F=L(4438),_=L(9888),_e=L(5779),V=L(461);let Q=(()=>{class Ye extends V.h{static \u0275fac=(()=>{let ge;return function(bt){return(ge||(ge=F.xGo(Ye)))(bt||Ye)}})();static \u0275cmp=F.VBU({type:Ye,selectors:[["AngleDownIcon"]],standalone:!0,features:[F.Vt3,F.aNF],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M3.58659 4.5007C3.68513 4.50023 3.78277 4.51945 3.87379 4.55723C3.9648 4.59501 4.04735 4.65058 4.11659 4.7207L7.11659 7.7207L10.1166 4.7207C10.2619 4.65055 10.4259 4.62911 10.5843 4.65956C10.7427 4.69002 10.8871 4.77074 10.996 4.88976C11.1049 5.00877 11.1726 5.15973 11.1889 5.32022C11.2052 5.48072 11.1693 5.6422 11.0866 5.7807L7.58659 9.2807C7.44597 9.42115 7.25534 9.50004 7.05659 9.50004C6.85784 9.50004 6.66722 9.42115 6.52659 9.2807L3.02659 5.7807C2.88614 5.64007 2.80725 5.44945 2.80725 5.2507C2.80725 5.05195 2.88614 4.86132 3.02659 4.7207C3.09932 4.64685 3.18675 4.58911 3.28322 4.55121C3.37969 4.51331 3.48305 4.4961 3.58659 4.5007Z","fill","currentColor"]],template:function(je,bt){1&je&&(F.qSk(),F.j41(0,"svg",0),F.nrm(1,"path",1),F.k0s()),2&je&&(F.HbH(bt.getClassNames()),F.BMQ("aria-label",bt.ariaLabel)("aria-hidden",bt.ariaHidden)("role",bt.role))},encapsulation:2})}return Ye})(),W=(()=>{class Ye extends V.h{static \u0275fac=(()=>{let ge;return function(bt){return(ge||(ge=F.xGo(Ye)))(bt||Ye)}})();static \u0275cmp=F.VBU({type:Ye,selectors:[["AngleRightIcon"]],standalone:!0,features:[F.Vt3,F.aNF],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M5.25 11.1728C5.14929 11.1694 5.05033 11.1455 4.9592 11.1025C4.86806 11.0595 4.78666 10.9984 4.72 10.9228C4.57955 10.7822 4.50066 10.5916 4.50066 10.3928C4.50066 10.1941 4.57955 10.0035 4.72 9.86283L7.72 6.86283L4.72 3.86283C4.66067 3.71882 4.64765 3.55991 4.68275 3.40816C4.71785 3.25642 4.79932 3.11936 4.91585 3.01602C5.03238 2.91268 5.17819 2.84819 5.33305 2.83149C5.4879 2.81479 5.64411 2.84671 5.78 2.92283L9.28 6.42283C9.42045 6.56346 9.49934 6.75408 9.49934 6.95283C9.49934 7.15158 9.42045 7.34221 9.28 7.48283L5.78 10.9228C5.71333 10.9984 5.63193 11.0595 5.5408 11.1025C5.44966 11.1455 5.35071 11.1694 5.25 11.1728Z","fill","currentColor"]],template:function(je,bt){1&je&&(F.qSk(),F.j41(0,"svg",0),F.nrm(1,"path",1),F.k0s()),2&je&&(F.HbH(bt.getClassNames()),F.BMQ("aria-label",bt.ariaLabel)("aria-hidden",bt.ariaHidden)("role",bt.role))},encapsulation:2})}return Ye})(),oe=(()=>{class Ye extends V.h{static \u0275fac=(()=>{let ge;return function(bt){return(ge||(ge=F.xGo(Ye)))(bt||Ye)}})();static \u0275cmp=F.VBU({type:Ye,selectors:[["BarsIcon"]],standalone:!0,features:[F.Vt3,F.aNF],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M13.3226 3.6129H0.677419C0.497757 3.6129 0.325452 3.54152 0.198411 3.41448C0.0713707 3.28744 0 3.11514 0 2.93548C0 2.75581 0.0713707 2.58351 0.198411 2.45647C0.325452 2.32943 0.497757 2.25806 0.677419 2.25806H13.3226C13.5022 2.25806 13.6745 2.32943 13.8016 2.45647C13.9286 2.58351 14 2.75581 14 2.93548C14 3.11514 13.9286 3.28744 13.8016 3.41448C13.6745 3.54152 13.5022 3.6129 13.3226 3.6129ZM13.3226 7.67741H0.677419C0.497757 7.67741 0.325452 7.60604 0.198411 7.479C0.0713707 7.35196 0 7.17965 0 6.99999C0 6.82033 0.0713707 6.64802 0.198411 6.52098C0.325452 6.39394 0.497757 6.32257 0.677419 6.32257H13.3226C13.5022 6.32257 13.6745 6.39394 13.8016 6.52098C13.9286 6.64802 14 6.82033 14 6.99999C14 7.17965 13.9286 7.35196 13.8016 7.479C13.6745 7.60604 13.5022 7.67741 13.3226 7.67741ZM0.677419 11.7419H13.3226C13.5022 11.7419 13.6745 11.6706 13.8016 11.5435C13.9286 11.4165 14 11.2442 14 11.0645C14 10.8848 13.9286 10.7125 13.8016 10.5855C13.6745 10.4585 13.5022 10.3871 13.3226 10.3871H0.677419C0.497757 10.3871 0.325452 10.4585 0.198411 10.5855C0.0713707 10.7125 0 10.8848 0 11.0645C0 11.2442 0.0713707 11.4165 0.198411 11.5435C0.325452 11.6706 0.497757 11.7419 0.677419 11.7419Z","fill","currentColor"]],template:function(je,bt){1&je&&(F.qSk(),F.j41(0,"svg",0),F.nrm(1,"path",1),F.k0s()),2&je&&(F.HbH(bt.getClassNames()),F.BMQ("aria-label",bt.ariaLabel)("aria-hidden",bt.ariaHidden)("role",bt.role))},encapsulation:2})}return Ye})();var de=L(563);let le=(()=>{class Ye{static \u0275fac=function(je){return new(je||Ye)};static \u0275mod=F.$C({type:Ye});static \u0275inj=F.G2t({imports:[p.MD]})}return Ye})(),xr=(()=>{class Ye{static \u0275fac=function(je){return new(je||Ye)};static \u0275mod=F.$C({type:Ye});static \u0275inj=F.G2t({imports:[p.MD,_.iI,de.Z,le,_e.Gg,oe,Q,W,_.iI,le,_e.Gg]})}return Ye})()},5015:(zt,ze,L)=>{L.d(ze,{j:()=>Bt,d:()=>Ge});var p=L(9969),F=L(177),_=L(4438),_e=L(5779),V=L(1455),Q=L(461);let W=(()=>{class Ve extends Q.h{static \u0275fac=(()=>{let ye;return function(Xe){return(ye||(ye=_.xGo(Ve)))(Xe||Ve)}})();static \u0275cmp=_.VBU({type:Ve,selectors:[["TimesIcon"]],standalone:!0,features:[_.Vt3,_.aNF],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z","fill","currentColor"]],template:function(be,Xe){1&be&&(_.qSk(),_.j41(0,"svg",0),_.nrm(1,"path",1),_.k0s()),2&be&&(_.HbH(Xe.getClassNames()),_.BMQ("aria-label",Xe.ariaLabel)("aria-hidden",Xe.ariaHidden)("role",Xe.role))},encapsulation:2})}return Ve})();var oe=L(563),de=L(4420);const ne=["*"],le=(Ve,De)=>({showTransitionParams:Ve,hideTransitionParams:De}),Re=(Ve,De)=>({value:Ve,params:De});function We(Ve,De){1&Ve&&_.eu8(0)}function Ke(Ve,De){1&Ve&&_.nrm(0,"TimesIcon",8),2&Ve&&_.Y8G("styleClass","p-overlaypanel-close-icon")}function yt(Ve,De){}function At(Ve,De){1&Ve&&_.DNE(0,yt,0,0,"ng-template")}function ut(Ve,De){if(1&Ve&&(_.j41(0,"span",9),_.DNE(1,At,1,0,null,3),_.k0s()),2&Ve){const ye=_.XpG(3);_.R7$(),_.Y8G("ngTemplateOutlet",ye.closeIconTemplate)}}function ft(Ve,De){if(1&Ve){const ye=_.RV6();_.j41(0,"button",5),_.bIt("click",function(Xe){_.eBV(ye);const ue=_.XpG(2);return _.Njj(ue.onCloseClick(Xe))})("keydown.enter",function(){_.eBV(ye);const Xe=_.XpG(2);return _.Njj(Xe.hide())}),_.DNE(1,Ke,1,1,"TimesIcon",6)(2,ut,2,1,"span",7),_.k0s()}if(2&Ve){const ye=_.XpG(2);_.BMQ("aria-label",ye.ariaCloseLabel),_.R7$(),_.Y8G("ngIf",!ye.closeIconTemplate),_.R7$(),_.Y8G("ngIf",ye.closeIconTemplate)}}function Ut(Ve,De){if(1&Ve){const ye=_.RV6();_.j41(0,"div",1),_.bIt("click",function(Xe){_.eBV(ye);const ue=_.XpG();return _.Njj(ue.onOverlayClick(Xe))})("@animation.start",function(Xe){_.eBV(ye);const ue=_.XpG();return _.Njj(ue.onAnimationStart(Xe))})("@animation.done",function(Xe){_.eBV(ye);const ue=_.XpG();return _.Njj(ue.onAnimationEnd(Xe))}),_.j41(1,"div",2),_.bIt("click",function(Xe){_.eBV(ye);const ue=_.XpG();return _.Njj(ue.onContentClick(Xe))})("mousedown",function(Xe){_.eBV(ye);const ue=_.XpG();return _.Njj(ue.onContentClick(Xe))}),_.SdG(2),_.DNE(3,We,1,0,"ng-container",3),_.k0s(),_.DNE(4,ft,3,3,"button",4),_.k0s()}if(2&Ve){const ye=_.XpG();_.HbH(ye.styleClass),_.Y8G("ngClass","p-overlaypanel p-component")("ngStyle",ye.style)("@animation",_.l_i(13,Re,ye.overlayVisible?"open":"close",_.l_i(10,le,ye.showTransitionOptions,ye.hideTransitionOptions))),_.BMQ("aria-modal",ye.overlayVisible)("aria-label",ye.ariaLabel)("aria-labelledBy",ye.ariaLabelledBy),_.R7$(3),_.Y8G("ngTemplateOutlet",ye.contentTemplate),_.R7$(),_.Y8G("ngIf",ye.showCloseIcon)}}let Bt=(()=>{class Ve{document;platformId;el;renderer;cd;zone;config;overlayService;ariaLabel;ariaLabelledBy;dismissable=!0;showCloseIcon;style;styleClass;appendTo="body";autoZIndex=!0;ariaCloseLabel;baseZIndex=0;focusOnShow=!0;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";onShow=new _.bkB;onHide=new _.bkB;templates;container;overlayVisible=!1;render=!1;isOverlayAnimationInProgress=!1;selfClick=!1;documentClickListener;target;willHide;scrollHandler;documentResizeListener;contentTemplate;closeIconTemplate;destroyCallback;overlayEventListener;overlaySubscription;constructor(ye,be,Xe,ue,Se,pt,Ee,Ht){this.document=ye,this.platformId=be,this.el=Xe,this.renderer=ue,this.cd=Se,this.zone=pt,this.config=Ee,this.overlayService=Ht}ngAfterContentInit(){this.templates?.forEach(ye=>{switch(ye.getType()){case"content":default:this.contentTemplate=ye.template;break;case"closeicon":this.closeIconTemplate=ye.template}this.cd.markForCheck()})}bindDocumentClickListener(){if((0,F.UE)(this.platformId)&&!this.documentClickListener&&this.dismissable){let ye=V.D.isIOS()?"touchstart":"click";this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:this.document,ye,Xe=>{!this.container?.contains(Xe.target)&&this.target!==Xe.target&&!this.target.contains(Xe.target)&&!this.selfClick&&this.hide(),this.selfClick=!1,this.cd.markForCheck()})}}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null,this.selfClick=!1)}toggle(ye,be){this.isOverlayAnimationInProgress||(this.overlayVisible?(this.hasTargetChanged(ye,be)&&(this.destroyCallback=()=>{this.show(null,be||ye.currentTarget||ye.target)}),this.hide()):this.show(ye,be))}show(ye,be){be&&ye&&ye.stopPropagation(),!this.isOverlayAnimationInProgress&&(this.target=be||ye.currentTarget||ye.target,this.overlayVisible=!0,this.render=!0,this.cd.markForCheck())}onOverlayClick(ye){this.overlayService.add({originalEvent:ye,target:this.el.nativeElement}),this.selfClick=!0}onContentClick(ye){const be=ye.target;this.selfClick=ye.offsetX<be.clientWidth&&ye.offsetY<be.clientHeight}hasTargetChanged(ye,be){return null!=this.target&&this.target!==(be||ye.currentTarget||ye.target)}appendContainer(){this.appendTo&&("body"===this.appendTo?this.renderer.appendChild(this.document.body,this.container):V.D.appendChild(this.container,this.appendTo))}restoreAppend(){this.container&&this.appendTo&&this.renderer.appendChild(this.el.nativeElement,this.container)}align(){this.autoZIndex&&de.Q$.set("overlay",this.container,this.baseZIndex+this.config.zIndex.overlay),V.D.absolutePosition(this.container,this.target);const ye=V.D.getOffset(this.container),be=V.D.getOffset(this.target),Xe=this.document.defaultView?.getComputedStyle(this.container).getPropertyValue("border-radius");let ue=0;ye.left<be.left&&(ue=be.left-ye.left-2*parseFloat(Xe)),this.container?.style.setProperty("--overlayArrowLeft",`${ue}px`),ye.top<be.top&&(V.D.addClass(this.container,"p-overlaypanel-flipped"),this.showCloseIcon&&this.renderer.setStyle(this.container,"margin-top","-30px"))}onAnimationStart(ye){"open"===ye.toState&&(this.container=ye.element,this.appendContainer(),this.align(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.focusOnShow&&this.focus(),this.overlayEventListener=be=>{this.container&&this.container.contains(be.target)&&(this.selfClick=!0)},this.overlaySubscription=this.overlayService.clickObservable.subscribe(this.overlayEventListener),this.onShow.emit(null)),this.isOverlayAnimationInProgress=!0}onAnimationEnd(ye){switch(ye.toState){case"void":this.destroyCallback&&(this.destroyCallback(),this.destroyCallback=null),this.overlaySubscription&&this.overlaySubscription.unsubscribe();break;case"close":this.autoZIndex&&de.Q$.clear(this.container),this.overlaySubscription&&this.overlaySubscription.unsubscribe(),this.onContainerDestroy(),this.onHide.emit({}),this.render=!1}this.isOverlayAnimationInProgress=!1}focus(){let ye=V.D.findSingle(this.container,"[autofocus]");ye&&this.zone.runOutsideAngular(()=>{setTimeout(()=>ye.focus(),5)})}hide(){this.overlayVisible=!1,this.cd.markForCheck()}onCloseClick(ye){this.hide(),ye.preventDefault()}onEscapeKeydown(ye){this.hide()}onWindowResize(){this.overlayVisible&&!V.D.isTouchDevice()&&this.hide()}bindDocumentResizeListener(){(0,F.UE)(this.platformId)&&!this.documentResizeListener&&(this.documentResizeListener=this.renderer.listen(this.document.defaultView,"resize",this.onWindowResize.bind(this)))}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindScrollListener(){(0,F.UE)(this.platformId)&&(this.scrollHandler||(this.scrollHandler=new V.b(this.target,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener())}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}onContainerDestroy(){this.cd.destroyed||(this.target=null),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener()}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.container&&this.autoZIndex&&de.Q$.clear(this.container),this.cd.destroyed||(this.target=null),this.destroyCallback=null,this.container&&(this.restoreAppend(),this.onContainerDestroy()),this.overlaySubscription&&this.overlaySubscription.unsubscribe()}static \u0275fac=function(be){return new(be||Ve)(_.rXU(F.qQ),_.rXU(_.Agw),_.rXU(_.aKT),_.rXU(_.sFG),_.rXU(_.gRc),_.rXU(_.SKi),_.rXU(_e.r1),_.rXU(_e.si))};static \u0275cmp=_.VBU({type:Ve,selectors:[["p-overlayPanel"]],contentQueries:function(be,Xe,ue){if(1&be&&_.wni(ue,_e.Ei,4),2&be){let Se;_.mGM(Se=_.lsd())&&(Xe.templates=Se)}},hostAttrs:[1,"p-element"],hostBindings:function(be,Xe){1&be&&_.bIt("keydown.escape",function(Se){return Xe.onEscapeKeydown(Se)},!1,_.EBC)},inputs:{ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",dismissable:"dismissable",showCloseIcon:"showCloseIcon",style:"style",styleClass:"styleClass",appendTo:"appendTo",autoZIndex:"autoZIndex",ariaCloseLabel:"ariaCloseLabel",baseZIndex:"baseZIndex",focusOnShow:"focusOnShow",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onShow:"onShow",onHide:"onHide"},ngContentSelectors:ne,decls:1,vars:1,consts:[["role","dialog",3,"ngClass","ngStyle","class","click",4,"ngIf"],["role","dialog",3,"click","ngClass","ngStyle"],[1,"p-overlaypanel-content",3,"click","mousedown"],[4,"ngTemplateOutlet"],["type","button","class","p-overlaypanel-close p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],["type","button","pRipple","",1,"p-overlaypanel-close","p-link",3,"click","keydown.enter"],[3,"styleClass",4,"ngIf"],["class","p-overlaypanel-close-icon",4,"ngIf"],[3,"styleClass"],[1,"p-overlaypanel-close-icon"]],template:function(be,Xe){1&be&&(_.NAR(),_.DNE(0,Ut,5,16,"div",0)),2&be&&_.Y8G("ngIf",Xe.render)},dependencies:()=>[F.YU,F.bT,F.T3,F.B3,oe.n,W],styles:['@layer primeng{.p-overlaypanel{position:absolute;margin-top:10px;top:0;left:0}.p-overlaypanel-flipped{margin-top:0;margin-bottom:10px}.p-overlaypanel-close{display:flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-overlaypanel:after,.p-overlaypanel:before{bottom:100%;left:calc(var(--overlayArrowLeft, 0) + 1.25rem);content:" ";height:0;width:0;position:absolute;pointer-events:none}.p-overlaypanel:after{border-width:8px;margin-left:-8px}.p-overlaypanel:before{border-width:10px;margin-left:-10px}.p-overlaypanel-shifted:after,.p-overlaypanel-shifted:before{left:auto;right:1.25em;margin-left:auto}.p-overlaypanel-flipped:after,.p-overlaypanel-flipped:before{bottom:auto;top:100%}.p-overlaypanel.p-overlaypanel-flipped:after{border-bottom-color:transparent}.p-overlaypanel.p-overlaypanel-flipped:before{border-bottom-color:transparent}}\n'],encapsulation:2,data:{animation:[(0,p.hZ)("animation",[(0,p.wk)("void",(0,p.iF)({transform:"scaleY(0.8)",opacity:0})),(0,p.wk)("close",(0,p.iF)({opacity:0})),(0,p.wk)("open",(0,p.iF)({transform:"translateY(0)",opacity:1})),(0,p.kY)("void => open",(0,p.i0)("{{showTransitionParams}}")),(0,p.kY)("open => close",(0,p.i0)("{{hideTransitionParams}}"))])]},changeDetection:0})}return Ve})(),Ge=(()=>{class Ve{static \u0275fac=function(be){return new(be||Ve)};static \u0275mod=_.$C({type:Ve});static \u0275inj=_.G2t({imports:[F.MD,oe.Z,_e.Gg,W,_e.Gg]})}return Ve})()},7515:(zt,ze,L)=>{L.d(ze,{d:()=>_e,p:()=>_});var p=L(177),F=L(4438);let _=(()=>{class V{styleClass;style;strokeWidth="2";fill="none";animationDuration="2s";ariaLabel;static \u0275fac=function(oe){return new(oe||V)};static \u0275cmp=F.VBU({type:V,selectors:[["p-progressSpinner"]],hostAttrs:[1,"p-element"],inputs:{styleClass:"styleClass",style:"style",strokeWidth:"strokeWidth",fill:"fill",animationDuration:"animationDuration",ariaLabel:"ariaLabel"},decls:3,vars:11,consts:[["role","progressbar",1,"p-progress-spinner",3,"ngStyle","ngClass"],["viewBox","25 25 50 50",1,"p-progress-spinner-svg"],["cx","50","cy","50","r","20","stroke-miterlimit","10",1,"p-progress-spinner-circle"]],template:function(oe,de){1&oe&&(F.j41(0,"div",0),F.qSk(),F.j41(1,"svg",1),F.nrm(2,"circle",2),F.k0s()()),2&oe&&(F.Y8G("ngStyle",de.style)("ngClass",de.styleClass),F.BMQ("aria-label",de.ariaLabel)("aria-busy",!0)("data-pc-name","progressspinner")("data-pc-section","root"),F.R7$(),F.xc7("animation-duration",de.animationDuration),F.BMQ("data-pc-section","root"),F.R7$(),F.BMQ("fill",de.fill)("stroke-width",de.strokeWidth))},dependencies:[p.YU,p.B3],styles:['@layer primeng{.p-progress-spinner{position:relative;margin:0 auto;width:100px;height:100px;display:inline-block}.p-progress-spinner:before{content:"";display:block;padding-top:100%}.p-progress-spinner-svg{animation:p-progress-spinner-rotate 2s linear infinite;height:100%;transform-origin:center center;width:100%;position:absolute;inset:0;margin:auto}.p-progress-spinner-circle{stroke-dasharray:89,200;stroke-dashoffset:0;stroke:#d62d20;animation:p-progress-spinner-dash 1.5s ease-in-out infinite,p-progress-spinner-color 6s ease-in-out infinite;stroke-linecap:round}}@keyframes p-progress-spinner-rotate{to{transform:rotate(360deg)}}@keyframes p-progress-spinner-dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:89,200;stroke-dashoffset:-35px}to{stroke-dasharray:89,200;stroke-dashoffset:-124px}}@keyframes p-progress-spinner-color{to,0%{stroke:#d62d20}40%{stroke:#0057e7}66%{stroke:#008744}80%,90%{stroke:#ffa700}}\n'],encapsulation:2,changeDetection:0})}return V})(),_e=(()=>{class V{static \u0275fac=function(oe){return new(oe||V)};static \u0275mod=F.$C({type:V});static \u0275inj=F.G2t({imports:[p.MD]})}return V})()},563:(zt,ze,L)=>{L.d(ze,{Z:()=>Q,n:()=>V});var p=L(177),F=L(4438),_=L(1455),_e=L(5779);let V=(()=>{class W{document;platformId;renderer;el;zone;config;constructor(de,ne,le,Re,We,Ke){this.document=de,this.platformId=ne,this.renderer=le,this.el=Re,this.zone=We,this.config=Ke}animationListener;mouseDownListener;timeout;ngAfterViewInit(){(0,p.UE)(this.platformId)&&this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.renderer.listen(this.el.nativeElement,"mousedown",this.onMouseDown.bind(this))})}onMouseDown(de){let ne=this.getInk();if(!ne||"none"===this.document.defaultView?.getComputedStyle(ne,null).display)return;if(_.D.removeClass(ne,"p-ink-active"),!_.D.getHeight(ne)&&!_.D.getWidth(ne)){let Ke=Math.max(_.D.getOuterWidth(this.el.nativeElement),_.D.getOuterHeight(this.el.nativeElement));ne.style.height=Ke+"px",ne.style.width=Ke+"px"}let le=_.D.getOffset(this.el.nativeElement),Re=de.pageX-le.left+this.document.body.scrollTop-_.D.getWidth(ne)/2,We=de.pageY-le.top+this.document.body.scrollLeft-_.D.getHeight(ne)/2;this.renderer.setStyle(ne,"top",We+"px"),this.renderer.setStyle(ne,"left",Re+"px"),_.D.addClass(ne,"p-ink-active"),this.timeout=setTimeout(()=>{let Ke=this.getInk();Ke&&_.D.removeClass(Ke,"p-ink-active")},401)}getInk(){const de=this.el.nativeElement.children;for(let ne=0;ne<de.length;ne++)if("string"==typeof de[ne].className&&-1!==de[ne].className.indexOf("p-ink"))return de[ne];return null}resetInk(){let de=this.getInk();de&&_.D.removeClass(de,"p-ink-active")}onAnimationEnd(de){this.timeout&&clearTimeout(this.timeout),_.D.removeClass(de.currentTarget,"p-ink-active")}create(){let de=this.renderer.createElement("span");this.renderer.addClass(de,"p-ink"),this.renderer.appendChild(this.el.nativeElement,de),this.renderer.setAttribute(de,"aria-hidden","true"),this.renderer.setAttribute(de,"role","presentation"),this.animationListener||(this.animationListener=this.renderer.listen(de,"animationend",this.onAnimationEnd.bind(this)))}remove(){let de=this.getInk();de&&(this.mouseDownListener&&this.mouseDownListener(),this.animationListener&&this.animationListener(),this.mouseDownListener=null,this.animationListener=null,_.D.removeElement(de))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}static \u0275fac=function(ne){return new(ne||W)(F.rXU(p.qQ),F.rXU(F.Agw),F.rXU(F.sFG),F.rXU(F.aKT),F.rXU(F.SKi),F.rXU(_e.r1,8))};static \u0275dir=F.FsC({type:W,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"]})}return W})(),Q=(()=>{class W{static \u0275fac=function(ne){return new(ne||W)};static \u0275mod=F.$C({type:W});static \u0275inj=F.G2t({imports:[p.MD]})}return W})()},4420:(zt,ze,L)=>{L.d(ze,{BF:()=>p,Q$:()=>V,_Y:()=>_});class p{static isArray(W,oe=!0){return Array.isArray(W)&&(oe||0!==W.length)}static isObject(W,oe=!0){return"object"==typeof W&&!Array.isArray(W)&&null!=W&&(oe||0!==Object.keys(W).length)}static equals(W,oe,de){return de?this.resolveFieldData(W,de)===this.resolveFieldData(oe,de):this.equalsByValue(W,oe)}static equalsByValue(W,oe){if(W===oe)return!0;if(W&&oe&&"object"==typeof W&&"object"==typeof oe){var le,Re,We,de=Array.isArray(W),ne=Array.isArray(oe);if(de&&ne){if((Re=W.length)!=oe.length)return!1;for(le=Re;0!=le--;)if(!this.equalsByValue(W[le],oe[le]))return!1;return!0}if(de!=ne)return!1;var Ke=this.isDate(W),yt=this.isDate(oe);if(Ke!=yt)return!1;if(Ke&&yt)return W.getTime()==oe.getTime();var At=W instanceof RegExp,ut=oe instanceof RegExp;if(At!=ut)return!1;if(At&&ut)return W.toString()==oe.toString();var ft=Object.keys(W);if((Re=ft.length)!==Object.keys(oe).length)return!1;for(le=Re;0!=le--;)if(!Object.prototype.hasOwnProperty.call(oe,ft[le]))return!1;for(le=Re;0!=le--;)if(!this.equalsByValue(W[We=ft[le]],oe[We]))return!1;return!0}return W!=W&&oe!=oe}static resolveFieldData(W,oe){if(W&&oe){if(this.isFunction(oe))return oe(W);if(-1==oe.indexOf("."))return W[oe];{let de=oe.split("."),ne=W;for(let le=0,Re=de.length;le<Re;++le){if(null==ne)return null;ne=ne[de[le]]}return ne}}return null}static isFunction(W){return!!(W&&W.constructor&&W.call&&W.apply)}static reorderArray(W,oe,de){W&&oe!==de&&(de>=W.length&&(de%=W.length,oe%=W.length),W.splice(de,0,W.splice(oe,1)[0]))}static insertIntoOrderedArray(W,oe,de,ne){if(de.length>0){let le=!1;for(let Re=0;Re<de.length;Re++)if(this.findIndexInList(de[Re],ne)>oe){de.splice(Re,0,W),le=!0;break}le||de.push(W)}else de.push(W)}static findIndexInList(W,oe){let de=-1;if(oe)for(let ne=0;ne<oe.length;ne++)if(oe[ne]==W){de=ne;break}return de}static contains(W,oe){if(null!=W&&oe&&oe.length)for(let de of oe)if(this.equals(W,de))return!0;return!1}static removeAccents(W){return W&&(W=W.normalize("NFKD").replace(new RegExp("\\p{Diacritic}","gu"),"")),W}static isDate(W){return"[object Date]"===Object.prototype.toString.call(W)}static isEmpty(W){return null==W||""===W||Array.isArray(W)&&0===W.length||!this.isDate(W)&&"object"==typeof W&&0===Object.keys(W).length}static isNotEmpty(W){return!this.isEmpty(W)}static compare(W,oe,de,ne=1){let le=-1;const Re=this.isEmpty(W),We=this.isEmpty(oe);return le=Re&&We?0:Re?ne:We?-ne:"string"==typeof W&&"string"==typeof oe?W.localeCompare(oe,de,{numeric:!0}):W<oe?-1:W>oe?1:0,le}static sort(W,oe,de=1,ne,le=1){const Re=p.compare(W,oe,ne,de);let We=de;return(p.isEmpty(W)||p.isEmpty(oe))&&(We=1===le?de:le),We*Re}static merge(W,oe){if(null!=W||null!=oe)return null!=W&&"object"!=typeof W||null!=oe&&"object"!=typeof oe?null!=W&&"string"!=typeof W||null!=oe&&"string"!=typeof oe?oe||W:[W||"",oe||""].join(" "):{...W||{},...oe||{}}}static isPrintableCharacter(W=""){return this.isNotEmpty(W)&&1===W.length&&W.match(/\S| /)}static getItemValue(W,...oe){return this.isFunction(W)?W(...oe):W}static findLastIndex(W,oe){let de=-1;if(this.isNotEmpty(W))try{de=W.findLastIndex(oe)}catch{de=W.lastIndexOf([...W].reverse().find(oe))}return de}static findLast(W,oe){let de;if(this.isNotEmpty(W))try{de=W.findLast(oe)}catch{de=[...W].reverse().find(oe)}return de}static deepEquals(W,oe){if(W===oe)return!0;if(W&&oe&&"object"==typeof W&&"object"==typeof oe){var le,Re,We,de=Array.isArray(W),ne=Array.isArray(oe);if(de&&ne){if((Re=W.length)!=oe.length)return!1;for(le=Re;0!=le--;)if(!this.deepEquals(W[le],oe[le]))return!1;return!0}if(de!=ne)return!1;var Ke=W instanceof Date,yt=oe instanceof Date;if(Ke!=yt)return!1;if(Ke&&yt)return W.getTime()==oe.getTime();var At=W instanceof RegExp,ut=oe instanceof RegExp;if(At!=ut)return!1;if(At&&ut)return W.toString()==oe.toString();var ft=Object.keys(W);if((Re=ft.length)!==Object.keys(oe).length)return!1;for(le=Re;0!=le--;)if(!Object.prototype.hasOwnProperty.call(oe,ft[le]))return!1;for(le=Re;0!=le--;)if(!this.deepEquals(W[We=ft[le]],oe[We]))return!1;return!0}return W!=W&&oe!=oe}}var F=0;function _(Q="pn_id_"){return`${Q}${++F}`}var V=function _e(){let Q=[];const ne=le=>le&&parseInt(le.style.zIndex,10)||0;return{get:ne,set:(le,Re,We)=>{Re&&(Re.style.zIndex=String(((le,Re)=>{let We=Q.length>0?Q[Q.length-1]:{key:le,value:Re},Ke=We.value+(We.key===le?0:Re)+2;return Q.push({key:le,value:Ke}),Ke})(le,We)))},clear:le=>{le&&((le=>{Q=Q.filter(Re=>Re.value!==le)})(ne(le)),le.style.zIndex="")},getCurrent:()=>Q.length>0?Q[Q.length-1].value:0}}()},467:(zt,ze,L)=>{function p(_,_e,V,Q,W,oe,de){try{var ne=_[oe](de),le=ne.value}catch(Re){return void V(Re)}ne.done?_e(le):Promise.resolve(le).then(Q,W)}function F(_){return function(){var _e=this,V=arguments;return new Promise(function(Q,W){var oe=_.apply(_e,V);function de(le){p(oe,Q,W,de,ne,"next",le)}function ne(le){p(oe,Q,W,de,ne,"throw",le)}de(void 0)})}}L.d(ze,{A:()=>F})},1635:(zt,ze,L)=>{function _e(Me,He){var lt={};for(var Ze in Me)Object.prototype.hasOwnProperty.call(Me,Ze)&&He.indexOf(Ze)<0&&(lt[Ze]=Me[Ze]);if(null!=Me&&"function"==typeof Object.getOwnPropertySymbols){var dt=0;for(Ze=Object.getOwnPropertySymbols(Me);dt<Ze.length;dt++)He.indexOf(Ze[dt])<0&&Object.prototype.propertyIsEnumerable.call(Me,Ze[dt])&&(lt[Ze[dt]]=Me[Ze[dt]])}return lt}function Re(Me,He,lt,Ze){return new(lt||(lt=Promise))(function(Qe,Pt){function Gt(fn){try{Mt(Ze.next(fn))}catch(Dn){Pt(Dn)}}function on(fn){try{Mt(Ze.throw(fn))}catch(Dn){Pt(Dn)}}function Mt(fn){fn.done?Qe(fn.value):function dt(Qe){return Qe instanceof lt?Qe:new lt(function(Pt){Pt(Qe)})}(fn.value).then(Gt,on)}Mt((Ze=Ze.apply(Me,He||[])).next())})}function Ge(Me){return this instanceof Ge?(this.v=Me,this):new Ge(Me)}function Ve(Me,He,lt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var dt,Ze=lt.apply(Me,He||[]),Qe=[];return dt={},Pt("next"),Pt("throw"),Pt("return"),dt[Symbol.asyncIterator]=function(){return this},dt;function Pt(xn){Ze[xn]&&(dt[xn]=function(Wn){return new Promise(function(Qn,Bn){Qe.push([xn,Wn,Qn,Bn])>1||Gt(xn,Wn)})})}function Gt(xn,Wn){try{!function on(xn){xn.value instanceof Ge?Promise.resolve(xn.value.v).then(Mt,fn):Dn(Qe[0][2],xn)}(Ze[xn](Wn))}catch(Qn){Dn(Qe[0][3],Qn)}}function Mt(xn){Gt("next",xn)}function fn(xn){Gt("throw",xn)}function Dn(xn,Wn){xn(Wn),Qe.shift(),Qe.length&&Gt(Qe[0][0],Qe[0][1])}}function ye(Me){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var lt,He=Me[Symbol.asyncIterator];return He?He.call(Me):(Me=function At(Me){var He="function"==typeof Symbol&&Symbol.iterator,lt=He&&Me[He],Ze=0;if(lt)return lt.call(Me);if(Me&&"number"==typeof Me.length)return{next:function(){return Me&&Ze>=Me.length&&(Me=void 0),{value:Me&&Me[Ze++],done:!Me}}};throw new TypeError(He?"Object is not iterable.":"Symbol.iterator is not defined.")}(Me),lt={},Ze("next"),Ze("throw"),Ze("return"),lt[Symbol.asyncIterator]=function(){return this},lt);function Ze(Qe){lt[Qe]=Me[Qe]&&function(Pt){return new Promise(function(Gt,on){!function dt(Qe,Pt,Gt,on){Promise.resolve(on).then(function(Mt){Qe({value:Mt,done:Gt})},Pt)}(Gt,on,(Pt=Me[Qe](Pt)).done,Pt.value)})}}}L.d(ze,{AQ:()=>Ve,N3:()=>Ge,Tt:()=>_e,sH:()=>Re,xN:()=>ye}),"function"==typeof SuppressedError&&SuppressedError}},zt=>{zt(zt.s=5667)}]);