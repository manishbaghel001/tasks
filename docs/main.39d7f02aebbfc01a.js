"use strict";(self.webpackChunktasks=self.webpackChunktasks||[]).push([[179],{4562:(xt,je,U)=>{U.d(je,{$:()=>us,A:()=>oe,G:()=>Ze,K:()=>zi,L:()=>bs,N:()=>Ti,P:()=>bu,R:()=>Aa,U:()=>Nt,V:()=>ki,W:()=>ai,X:()=>vs,Y:()=>Ur,Z:()=>as,_:()=>ls,a:()=>$l,a0:()=>va,a1:()=>Tn,a2:()=>Ss,a3:()=>Yi,a4:()=>Pr,a5:()=>Ro,a6:()=>yo,a7:()=>sl,a8:()=>xo,a9:()=>zs,aA:()=>mt,aB:()=>Me,aC:()=>ve,aD:()=>Pa,aE:()=>Le,aF:()=>_t,aG:()=>Kl,aH:()=>Lr,aI:()=>od,aJ:()=>Fn,aN:()=>vt,aQ:()=>Hr,aa:()=>ol,ab:()=>Hl,ac:()=>al,ad:()=>jl,ae:()=>Ua,af:()=>x,ag:()=>le,ah:()=>_,ak:()=>ce,al:()=>Ke,am:()=>ft,ap:()=>Ia,aq:()=>ui,as:()=>Rn,at:()=>ll,au:()=>lt,av:()=>tt,aw:()=>ye,ax:()=>ae,ay:()=>da,az:()=>Jo,b:()=>qi,c:()=>rd,d:()=>id,e:()=>Mp,f:()=>jr,g:()=>gi,h:()=>eo,i:()=>zl,j:()=>Pi,k:()=>hd,l:()=>hs,m:()=>Up,p:()=>ue,r:()=>Cu,s:()=>Vo,u:()=>bh});var p=U(5861),V=U(9058),b=U(534),Te=U(7879),$=U(7582),J=U(4537);const ue={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},oe={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ze=function Ee(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},ut=function ze(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Xe=new V.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),rt=new Te.Yd("@firebase/auth");function ct(I,...h){rt.logLevel<=Te.in.ERROR&&rt.error(`Auth (${b.SDK_VERSION}): ${I}`,...h)}function ae(I,...h){throw Ce(I,...h)}function Me(I,...h){return Ce(I,...h)}function me(I,h,m){const C=Object.assign(Object.assign({},ut()),{[h]:m});return new V.LL("auth","Firebase",C).create(h,{appName:I.name})}function ge(I,h,m){if(!(h instanceof m))throw m.name!==h.constructor.name&&ae(I,"argument-error"),me(I,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ce(I,...h){if("string"!=typeof I){const m=h[0],C=[...h.slice(1)];return C[0]&&(C[0].appName=I.name),I._errorFactory.create(m,...C)}return Xe.create(I,...h)}function ve(I,h,...m){if(!I)throw Ce(h,...m)}function fe(I){const h="INTERNAL ASSERTION FAILED: "+I;throw ct(h),new Error(h)}function lt(I,h){I||fe(h)}function bt(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.href)||""}function $e(){return"http:"===Gt()||"https:"===Gt()}function Gt(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class Dt{constructor(h,m){this.shortDelay=h,this.longDelay=m,lt(m>h,"Short delay should be less than long delay!"),this.isMobile=(0,V.uI)()||(0,V.b$)()}get(){return function St(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&($e()||(0,V.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function kt(I,h){lt(I.emulator,"Emulator should always be set here");const{url:m}=I.emulator;return h?`${m}${h.startsWith("/")?h.slice(1):h}`:m}class Se{static initialize(h,m,C){this.fetchImpl=h,m&&(this.headersImpl=m),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void fe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void fe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void fe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Oe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},qe=new Dt(3e4,6e4);function Ne(I,h){return I.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:I.tenantId}):h}function He(I,h,m,C){return dt.apply(this,arguments)}function dt(){return(dt=(0,p.Z)(function*(I,h,m,C,W={}){return gt(I,W,(0,p.Z)(function*(){let ie={},Fe={};C&&("GET"===h?Fe=C:ie={body:JSON.stringify(C)});const st=(0,V.xO)(Object.assign({key:I.config.apiKey},Fe)).slice(1),Et=yield I._getAdditionalHeaders();return Et["Content-Type"]="application/json",I.languageCode&&(Et["X-Firebase-Locale"]=I.languageCode),Se.fetch()(xn(I,I.config.apiHost,m,st),Object.assign({method:h,headers:Et,referrerPolicy:"no-referrer"},ie))}))})).apply(this,arguments)}function gt(I,h,m){return It.apply(this,arguments)}function It(){return(It=(0,p.Z)(function*(I,h,m){I._canInitEmulator=!1;const C=Object.assign(Object.assign({},Oe),h);try{const W=new hn(I),ie=yield Promise.race([m(),W.promise]);W.clearNetworkTimeout();const Fe=yield ie.json();if("needConfirmation"in Fe)throw zn(I,"account-exists-with-different-credential",Fe);if(ie.ok&&!("errorMessage"in Fe))return Fe;{const st=ie.ok?Fe.errorMessage:Fe.error.message,[Et,Wt]=st.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Et)throw zn(I,"credential-already-in-use",Fe);if("EMAIL_EXISTS"===Et)throw zn(I,"email-already-in-use",Fe);if("USER_DISABLED"===Et)throw zn(I,"user-disabled",Fe);const En=C[Et]||Et.toLowerCase().replace(/[_\s]+/g,"-");if(Wt)throw me(I,En,Wt);ae(I,En)}}catch(W){if(W instanceof V.ZR)throw W;ae(I,"network-request-failed",{message:String(W)})}})).apply(this,arguments)}function Bn(I,h,m,C){return nn.apply(this,arguments)}function nn(){return(nn=(0,p.Z)(function*(I,h,m,C,W={}){const ie=yield He(I,h,m,C,W);return"mfaPendingCredential"in ie&&ae(I,"multi-factor-auth-required",{_serverResponse:ie}),ie})).apply(this,arguments)}function xn(I,h,m,C){const W=`${h}${m}?${C}`;return I.config.emulator?kt(I.config,W):`${I.config.apiScheme}://${W}`}function dn(I){switch(I){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class hn{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((m,C)=>{this.timer=setTimeout(()=>C(Me(this.auth,"network-request-failed")),qe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function zn(I,h,m){const C={appName:I.name};m.email&&(C.email=m.email),m.phoneNumber&&(C.phoneNumber=m.phoneNumber);const W=Me(I,h,C);return W.customData._tokenResponse=m,W}function On(I){return void 0!==I&&void 0!==I.getResponse}function An(I){return void 0!==I&&void 0!==I.enterprise}class Vt{constructor(h){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===h.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=h.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=h.recaptchaEnforcementState}getProviderEnforcementState(h){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const m of this.recaptchaEnforcementState)if(m.provider&&m.provider===h)return dn(m.enforcementState);return null}isProviderEnabled(h){return"ENFORCE"===this.getProviderEnforcementState(h)||"AUDIT"===this.getProviderEnforcementState(h)}}function yr(){return(yr=(0,p.Z)(function*(I){return(yield He(I,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function kn(I,h){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,p.Z)(function*(I,h){return He(I,"GET","/v2/recaptchaConfig",Ne(I,h))})).apply(this,arguments)}function er(){return(er=(0,p.Z)(function*(I,h){return He(I,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function mn(){return(mn=(0,p.Z)(function*(I,h){return He(I,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Zn(){return(Zn=(0,p.Z)(function*(I,h){return He(I,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function vr(I){if(I)try{const h=new Date(Number(I));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function De(){return(De=(0,p.Z)(function*(I,h=!1){const m=(0,V.m9)(I),C=yield m.getIdToken(h),W=at(C);ve(W&&W.exp&&W.auth_time&&W.iat,m.auth,"internal-error");const ie="object"==typeof W.firebase?W.firebase:void 0,Fe=ie?.sign_in_provider;return{claims:W,token:C,authTime:vr(Ge(W.auth_time)),issuedAtTime:vr(Ge(W.iat)),expirationTime:vr(Ge(W.exp)),signInProvider:Fe||null,signInSecondFactor:ie?.sign_in_second_factor||null}})).apply(this,arguments)}function Ge(I){return 1e3*Number(I)}function at(I){const[h,m,C]=I.split(".");if(void 0===h||void 0===m||void 0===C)return ct("JWT malformed, contained fewer than 3 sections"),null;try{const W=(0,V.tV)(m);return W?JSON.parse(W):(ct("Failed to decode base64 JWT payload"),null)}catch(W){return ct("Caught error parsing JWT payload as JSON",W?.toString()),null}}function Mt(I,h){return cn.apply(this,arguments)}function cn(){return(cn=(0,p.Z)(function*(I,h,m=!1){if(m)return h;try{return yield h}catch(C){throw C instanceof V.ZR&&function wn({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}(C)&&I.auth.currentUser===I&&(yield I.auth.signOut()),C}})).apply(this,arguments)}class xr{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var m;if(h){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const W=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,W)}}schedule(h=!1){var m=this;if(!this.isRunning)return;const C=this.getInterval(h);this.timerId=setTimeout((0,p.Z)(function*(){yield m.iteration()}),C)}iteration(){var h=this;return(0,p.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m?.code&&h.schedule(!0))}h.schedule()})()}}class Qr{constructor(h,m){this.createdAt=h,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=vr(this.lastLoginAt),this.creationTime=vr(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Gn(I){return ir.apply(this,arguments)}function ir(){return ir=(0,p.Z)(function*(I){var h;const m=I.auth,C=yield I.getIdToken(),W=yield Mt(I,function Qt(I,h){return Zn.apply(this,arguments)}(m,{idToken:C}));ve(W?.users.length,m,"internal-error");const ie=W.users[0];I._notifyReloadListener(ie);const Fe=null!==(h=ie.providerUserInfo)&&void 0!==h&&h.length?function Or(I){return I.map(h=>{var{providerId:m}=h,C=(0,$._T)(h,["providerId"]);return{providerId:m,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}(ie.providerUserInfo):[],st=function $r(I,h){return[...I.filter(C=>!h.some(W=>W.providerId===C.providerId)),...h]}(I.providerData,Fe),En=!!I.isAnonymous&&!(I.email&&ie.passwordHash||st?.length),nr={uid:ie.localId,displayName:ie.displayName||null,photoURL:ie.photoUrl||null,email:ie.email||null,emailVerified:ie.emailVerified||!1,phoneNumber:ie.phoneNumber||null,tenantId:ie.tenantId||null,providerData:st,metadata:new Qr(ie.createdAt,ie.lastLoginAt),isAnonymous:En};Object.assign(I,nr)}),ir.apply(this,arguments)}function Jr(){return(Jr=(0,p.Z)(function*(I){const h=(0,V.m9)(I);yield Gn(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function Xr(){return(Xr=(0,p.Z)(function*(I,h){const m=yield gt(I,{},(0,p.Z)(function*(){const C=(0,V.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:W,apiKey:ie}=I.config,Fe=xn(I,W,"/v1/token",`key=${ie}`),st=yield I._getAdditionalHeaders();return st["Content-Type"]="application/x-www-form-urlencoded",Se.fetch()(Fe,{method:"POST",headers:st,body:C})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}function re(){return(re=(0,p.Z)(function*(I,h){return He(I,"POST","/v2/accounts:revokeToken",Ne(I,h))})).apply(this,arguments)}class j{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){ve(h.idToken,"internal-error"),ve(typeof h.idToken<"u","internal-error"),ve(typeof h.refreshToken<"u","internal-error");const m="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):function Ot(I){const h=at(I);return ve(h,"internal-error"),ve(typeof h.exp<"u","internal-error"),ve(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,m)}getToken(h,m=!1){var C=this;return(0,p.Z)(function*(){return ve(!C.accessToken||C.refreshToken,h,"user-token-expired"),m||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(h,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,m){var C=this;return(0,p.Z)(function*(){const{accessToken:W,refreshToken:ie,expiresIn:Fe}=yield function Tr(I,h){return Xr.apply(this,arguments)}(h,m);C.updateTokensAndExpiration(W,ie,Number(Fe))})()}updateTokensAndExpiration(h,m,C){this.refreshToken=m||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(h,m){const{refreshToken:C,accessToken:W,expirationTime:ie}=m,Fe=new j;return C&&(ve("string"==typeof C,"internal-error",{appName:h}),Fe.refreshToken=C),W&&(ve("string"==typeof W,"internal-error",{appName:h}),Fe.accessToken=W),ie&&(ve("number"==typeof ie,"internal-error",{appName:h}),Fe.expirationTime=ie),Fe}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new j,this.toJSON())}_performRefresh(){return fe("not implemented")}}function N(I,h){ve("string"==typeof I||typeof I>"u","internal-error",{appName:h})}class L{constructor(h){var{uid:m,auth:C,stsTokenManager:W}=h,ie=(0,$._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new xr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=C,this.stsTokenManager=W,this.accessToken=W.accessToken,this.displayName=ie.displayName||null,this.email=ie.email||null,this.emailVerified=ie.emailVerified||!1,this.phoneNumber=ie.phoneNumber||null,this.photoURL=ie.photoURL||null,this.isAnonymous=ie.isAnonymous||!1,this.tenantId=ie.tenantId||null,this.providerData=ie.providerData?[...ie.providerData]:[],this.metadata=new Qr(ie.createdAt||void 0,ie.lastLoginAt||void 0)}getIdToken(h){var m=this;return(0,p.Z)(function*(){const C=yield Mt(m,m.stsTokenManager.getToken(m.auth,h));return ve(C,m.auth,"internal-error"),m.accessToken!==C&&(m.accessToken=C,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),C})()}getIdTokenResult(h){return function At(I){return De.apply(this,arguments)}(this,h)}reload(){return function Vr(I){return Jr.apply(this,arguments)}(this)}_assign(h){this!==h&&(ve(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(m=>Object.assign({},m)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const m=new L(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return m.metadata._copy(this.metadata),m}_onReload(h){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,m=!1){var C=this;return(0,p.Z)(function*(){let W=!1;h.idToken&&h.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(h),W=!0),m&&(yield Gn(C)),yield C.auth._persistUserIfCurrent(C),W&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var h=this;return(0,p.Z)(function*(){const m=yield h.getIdToken();return yield Mt(h,function Mr(I,h){return er.apply(this,arguments)}(h.auth,{idToken:m})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,m){var C,W,ie,Fe,st,Et,Wt,En;const nr=null!==(C=m.displayName)&&void 0!==C?C:void 0,fs=null!==(W=m.email)&&void 0!==W?W:void 0,qa=null!==(ie=m.phoneNumber)&&void 0!==ie?ie:void 0,Jl=null!==(Fe=m.photoURL)&&void 0!==Fe?Fe:void 0,Bp=null!==(st=m.tenantId)&&void 0!==st?st:void 0,Xo=null!==(Et=m._redirectEventId)&&void 0!==Et?Et:void 0,kh=null!==(Wt=m.createdAt)&&void 0!==Wt?Wt:void 0,xs=null!==(En=m.lastLoginAt)&&void 0!==En?En:void 0,{uid:yd,emailVerified:xu,isAnonymous:Ou,providerData:ea,stsTokenManager:Lh}=m;ve(yd&&Lh,h,"internal-error");const vc=j.fromJSON(this.name,Lh);ve("string"==typeof yd,h,"internal-error"),N(nr,h.name),N(fs,h.name),ve("boolean"==typeof xu,h,"internal-error"),ve("boolean"==typeof Ou,h,"internal-error"),N(qa,h.name),N(Jl,h.name),N(Bp,h.name),N(Xo,h.name),N(kh,h.name),N(xs,h.name);const Fh=new L({uid:yd,auth:h,email:fs,emailVerified:xu,displayName:nr,isAnonymous:Ou,photoURL:Jl,phoneNumber:qa,tenantId:Bp,stsTokenManager:vc,createdAt:kh,lastLoginAt:xs});return ea&&Array.isArray(ea)&&(Fh.providerData=ea.map(Wg=>Object.assign({},Wg))),Xo&&(Fh._redirectEventId=Xo),Fh}static _fromIdTokenResponse(h,m,C=!1){return(0,p.Z)(function*(){const W=new j;W.updateFromServerResponse(m);const ie=new L({uid:m.localId,auth:h,stsTokenManager:W,isAnonymous:C});return yield Gn(ie),ie})()}}const he=new Map;function Le(I){lt(I instanceof Function,"Expected a class definition");let h=he.get(I);return h?(lt(h instanceof I,"Instance stored in cache mismatched with class"),h):(h=new I,he.set(I,h),h)}const Nt=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,p.Z)(function*(){return!0})()}_set(m,C){var W=this;return(0,p.Z)(function*(){W.storage[m]=C})()}_get(m){var C=this;return(0,p.Z)(function*(){const W=C.storage[m];return void 0===W?null:W})()}_remove(m){var C=this;return(0,p.Z)(function*(){delete C.storage[m]})()}_addListener(m,C){}_removeListener(m,C){}}return I.type="NONE",I})();function _t(I,h,m){return`firebase:${I}:${h}:${m}`}class rn{constructor(h,m,C){this.persistence=h,this.auth=m,this.userKey=C;const{config:W,name:ie}=this.auth;this.fullUserKey=_t(this.userKey,W.apiKey,ie),this.fullPersistenceKey=_t("persistence",W.apiKey,ie),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,p.Z)(function*(){const m=yield h.persistence._get(h.fullUserKey);return m?L._fromJSON(h.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var m=this;return(0,p.Z)(function*(){if(m.persistence===h)return;const C=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=h,C?m.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,m,C="authUser"){return(0,p.Z)(function*(){if(!m.length)return new rn(Le(Nt),h,C);const W=(yield Promise.all(m.map(function(){var Wt=(0,p.Z)(function*(En){if(yield En._isAvailable())return En});return function(En){return Wt.apply(this,arguments)}}()))).filter(Wt=>Wt);let ie=W[0]||Le(Nt);const Fe=_t(C,h.config.apiKey,h.name);let st=null;for(const Wt of m)try{const En=yield Wt._get(Fe);if(En){const nr=L._fromJSON(h,En);Wt!==ie&&(st=nr),ie=Wt;break}}catch{}const Et=W.filter(Wt=>Wt._shouldAllowMigration);return ie._shouldAllowMigration&&Et.length?(ie=Et[0],st&&(yield ie._set(Fe,st.toJSON())),yield Promise.all(m.map(function(){var Wt=(0,p.Z)(function*(En){if(En!==ie)try{yield En._remove(Fe)}catch{}});return function(En){return Wt.apply(this,arguments)}}())),new rn(ie,h,C)):new rn(ie,h,C)})()}}function Zt(I){const h=I.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(xe(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(Cn(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(we(h))return"Blackberry";if(Be(h))return"Webos";if(Ae(h))return"Safari";if((h.includes("chrome/")||Ie(h))&&!h.includes("edge/"))return"Chrome";if(ye(h))return"Android";{const C=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===C?.length)return C[1]}return"Other"}function Cn(I=(0,V.z$)()){return/firefox\//i.test(I)}function Ae(I=(0,V.z$)()){const h=I.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function Ie(I=(0,V.z$)()){return/crios\//i.test(I)}function xe(I=(0,V.z$)()){return/iemobile/i.test(I)}function ye(I=(0,V.z$)()){return/android/i.test(I)}function we(I=(0,V.z$)()){return/blackberry/i.test(I)}function Be(I=(0,V.z$)()){return/webos/i.test(I)}function tt(I=(0,V.z$)()){return/iphone|ipad|ipod/i.test(I)||/macintosh/i.test(I)&&/mobile/i.test(I)}function mt(I=(0,V.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(I)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(I)}function Jn(I=(0,V.z$)()){return tt(I)||ye(I)||Be(I)||we(I)||/windows phone/i.test(I)||xe(I)}function qn(I,h=[]){let m;switch(I){case"Browser":m=Zt((0,V.z$)());break;case"Worker":m=`${Zt((0,V.z$)())}-${I}`;break;default:m=I}const C=h.length?h.join(","):"FirebaseCore-web";return`${m}/JsCore/${b.SDK_VERSION}/${C}`}class ei{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,m){const C=ie=>new Promise((Fe,st)=>{try{Fe(h(ie))}catch(Et){st(Et)}});C.onAbort=m,this.queue.push(C);const W=this.queue.length-1;return()=>{this.queue[W]=()=>Promise.resolve()}}runMiddleware(h){var m=this;return(0,p.Z)(function*(){if(m.auth.currentUser===h)return;const C=[];try{for(const W of m.queue)yield W(h),W.onAbort&&C.push(W.onAbort)}catch(W){C.reverse();for(const ie of C)try{ie()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:W?.message})}})()}}function tr(){return(tr=(0,p.Z)(function*(I,h={}){return He(I,"GET","/v2/passwordPolicy",Ne(I,h))})).apply(this,arguments)}class ti{constructor(h){var m,C,W,ie;const Fe=h.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(m=Fe.minPasswordLength)&&void 0!==m?m:6,Fe.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Fe.maxPasswordLength),void 0!==Fe.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Fe.containsLowercaseCharacter),void 0!==Fe.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Fe.containsUppercaseCharacter),void 0!==Fe.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Fe.containsNumericCharacter),void 0!==Fe.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Fe.containsNonAlphanumericCharacter),this.enforcementState=h.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(W=null===(C=h.allowedNonAlphanumericCharacters)||void 0===C?void 0:C.join(""))&&void 0!==W?W:"",this.forceUpgradeOnSignin=null!==(ie=h.forceUpgradeOnSignin)&&void 0!==ie&&ie,this.schemaVersion=h.schemaVersion}validatePassword(h){var m,C,W,ie,Fe,st;const Et={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(h,Et),this.validatePasswordCharacterOptions(h,Et),Et.isValid&&(Et.isValid=null===(m=Et.meetsMinPasswordLength)||void 0===m||m),Et.isValid&&(Et.isValid=null===(C=Et.meetsMaxPasswordLength)||void 0===C||C),Et.isValid&&(Et.isValid=null===(W=Et.containsLowercaseLetter)||void 0===W||W),Et.isValid&&(Et.isValid=null===(ie=Et.containsUppercaseLetter)||void 0===ie||ie),Et.isValid&&(Et.isValid=null===(Fe=Et.containsNumericCharacter)||void 0===Fe||Fe),Et.isValid&&(Et.isValid=null===(st=Et.containsNonAlphanumericCharacter)||void 0===st||st),Et}validatePasswordLengthOptions(h,m){const C=this.customStrengthOptions.minPasswordLength,W=this.customStrengthOptions.maxPasswordLength;C&&(m.meetsMinPasswordLength=h.length>=C),W&&(m.meetsMaxPasswordLength=h.length<=W)}validatePasswordCharacterOptions(h,m){let C;this.updatePasswordCharacterOptionsStatuses(m,!1,!1,!1,!1);for(let W=0;W<h.length;W++)C=h.charAt(W),this.updatePasswordCharacterOptionsStatuses(m,C>="a"&&C<="z",C>="A"&&C<="Z",C>="0"&&C<="9",this.allowedNonAlphanumericCharacters.includes(C))}updatePasswordCharacterOptionsStatuses(h,m,C,W,ie){this.customStrengthOptions.containsLowercaseLetter&&(h.containsLowercaseLetter||(h.containsLowercaseLetter=m)),this.customStrengthOptions.containsUppercaseLetter&&(h.containsUppercaseLetter||(h.containsUppercaseLetter=C)),this.customStrengthOptions.containsNumericCharacter&&(h.containsNumericCharacter||(h.containsNumericCharacter=W)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(h.containsNonAlphanumericCharacter||(h.containsNonAlphanumericCharacter=ie))}}class Ks{constructor(h,m,C,W){this.app=h,this.heartbeatServiceProvider=m,this.appCheckServiceProvider=C,this.config=W,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rs(this),this.idTokenSubscription=new rs(this),this.beforeStateQueue=new ei(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Xe,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=W.sdkClientVersion}_initializeWithPersistence(h,m){var C=this;return m&&(this._popupRedirectResolver=Le(m)),this._initializationPromise=this.queue((0,p.Z)(function*(){var W,ie;if(!C._deleted&&(C.persistenceManager=yield rn.create(C,h),!C._deleted)){if(null!==(W=C._popupRedirectResolver)&&void 0!==W&&W._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch{}yield C.initializeCurrentUser(m),C.lastNotifiedUid=(null===(ie=C.currentUser)||void 0===ie?void 0:ie.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,p.Z)(function*(){if(h._deleted)return;const m=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||m){if(h.currentUser&&m&&h.currentUser.uid===m.uid)return h._currentUser._assign(m),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(m,!0)}})()}initializeCurrentUser(h){var m=this;return(0,p.Z)(function*(){var C;const W=yield m.assertedPersistence.getCurrentUser();let ie=W,Fe=!1;if(h&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const st=null===(C=m.redirectUser)||void 0===C?void 0:C._redirectEventId,Et=ie?._redirectEventId,Wt=yield m.tryRedirectSignIn(h);(!st||st===Et)&&Wt?.user&&(ie=Wt.user,Fe=!0)}if(!ie)return m.directlySetCurrentUser(null);if(!ie._redirectEventId){if(Fe)try{yield m.beforeStateQueue.runMiddleware(ie)}catch(st){ie=W,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(st))}return ie?m.reloadAndSetCurrentUserOrClear(ie):m.directlySetCurrentUser(null)}return ve(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===ie._redirectEventId?m.directlySetCurrentUser(ie):m.reloadAndSetCurrentUserOrClear(ie)})()}tryRedirectSignIn(h){var m=this;return(0,p.Z)(function*(){let C=null;try{C=yield m._popupRedirectResolver._completeRedirectFn(m,h,!0)}catch{yield m._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(h){var m=this;return(0,p.Z)(function*(){try{yield Gn(h)}catch(C){if("auth/network-request-failed"!==C?.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function gn(){if(typeof navigator>"u")return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var h=this;return(0,p.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var m=this;return(0,p.Z)(function*(){const C=h?(0,V.m9)(h):null;return C&&ve(C.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(C&&C._clone(m))})()}_updateCurrentUser(h,m=!1){var C=this;return(0,p.Z)(function*(){if(!C._deleted)return h&&ve(C.tenantId===h.tenantId,C,"tenant-id-mismatch"),m||(yield C.beforeStateQueue.runMiddleware(h)),C.queue((0,p.Z)(function*(){yield C.directlySetCurrentUser(h),C.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,p.Z)(function*(){return yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0)})()}setPersistence(h){var m=this;return this.queue((0,p.Z)(function*(){yield m.assertedPersistence.setPersistence(Le(h))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(h){var m=this;return(0,p.Z)(function*(){m._getPasswordPolicyInternal()||(yield m._updatePasswordPolicy());const C=m._getPasswordPolicyInternal();return C.schemaVersion!==m.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(m._errorFactory.create("unsupported-password-policy-schema-version",{})):C.validatePassword(h)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var h=this;return(0,p.Z)(function*(){const m=yield function yi(I){return tr.apply(this,arguments)}(h),C=new ti(m);null===h.tenantId?h._projectPasswordPolicy=C:h._tenantPasswordPolicies[h.tenantId]=C})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new V.LL("auth","Firebase",h())}onAuthStateChanged(h,m,C){return this.registerStateListener(this.authStateSubscription,h,m,C)}beforeAuthStateChanged(h,m){return this.beforeStateQueue.pushCallback(h,m)}onIdTokenChanged(h,m,C){return this.registerStateListener(this.idTokenSubscription,h,m,C)}authStateReady(){return new Promise((h,m)=>{if(this.currentUser)h();else{const C=this.onAuthStateChanged(()=>{C(),h()},m)}})}revokeAccessToken(h){var m=this;return(0,p.Z)(function*(){if(m.currentUser){const C=yield m.currentUser.getIdToken(),W={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:h,idToken:C};null!=m.tenantId&&(W.tenantId=m.tenantId),yield function Re(I,h){return re.apply(this,arguments)}(m,W)}})()}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,m){var C=this;return(0,p.Z)(function*(){const W=yield C.getOrInitRedirectPersistenceManager(m);return null===h?W.removeCurrentUser():W.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var m=this;return(0,p.Z)(function*(){if(!m.redirectPersistenceManager){const C=h&&Le(h)||m._popupRedirectResolver;ve(C,m,"argument-error"),m.redirectPersistenceManager=yield rn.create(m,[Le(C._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(h){var m=this;return(0,p.Z)(function*(){var C,W;return m._isInitialized&&(yield m.queue((0,p.Z)(function*(){}))),(null===(C=m._currentUser)||void 0===C?void 0:C._redirectEventId)===h?m._currentUser:(null===(W=m.redirectUser)||void 0===W?void 0:W._redirectEventId)===h?m.redirectUser:null})()}_persistUserIfCurrent(h){var m=this;return(0,p.Z)(function*(){if(h===m.currentUser)return m.queue((0,p.Z)(function*(){return m.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(m=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,m,C,W){if(this._deleted)return()=>{};const ie="function"==typeof m?m:m.next.bind(m);let Fe=!1;const st=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(st,this,"internal-error"),st.then(()=>{Fe||ie(this.currentUser)}),"function"==typeof m){const Et=h.addObserver(m,C,W);return()=>{Fe=!0,Et()}}{const Et=h.addObserver(m);return()=>{Fe=!0,Et()}}}directlySetCurrentUser(h){var m=this;return(0,p.Z)(function*(){m.currentUser&&m.currentUser!==h&&m._currentUser._stopProactiveRefresh(),h&&m.isProactiveRefreshEnabled&&h._startProactiveRefresh(),m.currentUser=h,h?yield m.assertedPersistence.setCurrentUser(h):yield m.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=qn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,p.Z)(function*(){var m;const C={"X-Client-Version":h.clientVersion};h.app.options.appId&&(C["X-Firebase-gmpid"]=h.app.options.appId);const W=yield null===(m=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();W&&(C["X-Firebase-Client"]=W);const ie=yield h._getAppCheckToken();return ie&&(C["X-Firebase-AppCheck"]=ie),C})()}_getAppCheckToken(){var h=this;return(0,p.Z)(function*(){var m;const C=yield null===(m=h.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getToken();return C?.error&&function Ct(I,...h){rt.logLevel<=Te.in.WARN&&rt.warn(`Auth (${b.SDK_VERSION}): ${I}`,...h)}(`Error while retrieving App Check token: ${C.error}`),C?.token})()}}function Fn(I){return(0,V.m9)(I)}class rs{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,V.ne)(m=>this.observer=m)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ji(I){return new Promise((h,m)=>{const C=document.createElement("script");C.setAttribute("src",I),C.onload=h,C.onerror=W=>{const ie=Me("internal-error");ie.customData=W,m(ie)},C.type="text/javascript",C.charset="UTF-8",function Sr(){var I,h;return null!==(h=null===(I=document.getElementsByTagName("head"))||void 0===I?void 0:I[0])&&void 0!==h?h:document}().appendChild(C)})}function Zs(I){return`__${I}${Math.floor(1e6*Math.random())}`}class Ls{constructor(h){this.type="recaptcha-enterprise",this.auth=Fn(h)}verify(h="verify",m=!1){var C=this;return(0,p.Z)(function*(){function ie(){return ie=(0,p.Z)(function*(st){if(!m){if(null==st.tenantId&&null!=st._agentRecaptchaConfig)return st._agentRecaptchaConfig.siteKey;if(null!=st.tenantId&&void 0!==st._tenantRecaptchaConfigs[st.tenantId])return st._tenantRecaptchaConfigs[st.tenantId].siteKey}return new Promise(function(){var Et=(0,p.Z)(function*(Wt,En){kn(st,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(nr=>{if(void 0!==nr.recaptchaKey){const fs=new Vt(nr);return null==st.tenantId?st._agentRecaptchaConfig=fs:st._tenantRecaptchaConfigs[st.tenantId]=fs,Wt(fs.siteKey)}En(new Error("recaptcha Enterprise site key undefined"))}).catch(nr=>{En(nr)})});return function(Wt,En){return Et.apply(this,arguments)}}())}),ie.apply(this,arguments)}function Fe(st,Et,Wt){const En=window.grecaptcha;An(En)?En.enterprise.ready(()=>{En.enterprise.execute(st,{action:h}).then(nr=>{Et(nr)}).catch(()=>{Et("NO_RECAPTCHA")})}):Wt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((st,Et)=>{(function W(st){return ie.apply(this,arguments)})(C.auth).then(Wt=>{if(!m&&An(window.grecaptcha))Fe(Wt,st,Et);else{if(typeof window>"u")return void Et(new Error("RecaptchaVerifier is only supported in browser"));ji("https://www.google.com/recaptcha/enterprise.js?render="+Wt).then(()=>{Fe(Wt,st,Et)}).catch(En=>{Et(En)})}}).catch(Wt=>{Et(Wt)})})})()}}function xi(I,h,m){return vi.apply(this,arguments)}function vi(){return(vi=(0,p.Z)(function*(I,h,m,C=!1){const W=new Ls(I);let ie;try{ie=yield W.verify(m)}catch{ie=yield W.verify(m,!0)}const Fe=Object.assign({},h);return Object.assign(Fe,C?{captchaResp:ie}:{captchaResponse:ie}),Object.assign(Fe,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Fe,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Fe})).apply(this,arguments)}function Fs(I,h,m,C){return ii.apply(this,arguments)}function ii(){return ii=(0,p.Z)(function*(I,h,m,C){var W;if(null!==(W=I._getRecaptchaConfig())&&void 0!==W&&W.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const ie=yield xi(I,h,m,"getOobCode"===m);return C(I,ie)}return C(I,h).catch(function(){var ie=(0,p.Z)(function*(Fe){if("auth/missing-recaptcha-token"===Fe.code){console.log(`${m} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const st=yield xi(I,h,m,"getOobCode"===m);return C(I,st)}return Promise.reject(Fe)});return function(Fe){return ie.apply(this,arguments)}}())}),ii.apply(this,arguments)}function zi(I,h,m){const C=Fn(I);ve(C._canInitEmulator,C,"emulator-config-failed"),ve(/^https?:\/\//.test(h),C,"invalid-emulator-scheme");const W=!!m?.disableWarnings,ie=Ei(h),{host:Fe,port:st}=function zo(I){const h=Ei(I),m=/(\/\/)?([^?#/]+)/.exec(I.substr(h.length));if(!m)return{host:"",port:null};const C=m[2].split("@").pop()||"",W=/^(\[[^\]]+\])(:|$)/.exec(C);if(W){const ie=W[1];return{host:ie,port:Ys(C.substr(ie.length+1))}}{const[ie,Fe]=C.split(":");return{host:ie,port:Ys(Fe)}}}(h);C.config.emulator={url:`${ie}//${Fe}${null===st?"":`:${st}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:Fe,port:st,protocol:ie.replace(":",""),options:Object.freeze({disableWarnings:W})}),W||function mo(){function I(){const h=document.createElement("p"),m=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",I):I())}()}function Ei(I){const h=I.indexOf(":");return h<0?"":I.substr(0,h+1)}function Ys(I){if(!I)return null;const h=Number(I);return isNaN(h)?null:h}class bs{constructor(h,m){this.providerId=h,this.signInMethod=m}toJSON(){return fe("not implemented")}_getIdTokenResponse(h){return fe("not implemented")}_linkToIdToken(h,m){return fe("not implemented")}_getReauthenticationResolver(h){return fe("not implemented")}}function go(I,h){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,p.Z)(function*(I,h){return He(I,"POST","/v1/accounts:resetPassword",Ne(I,h))})).apply(this,arguments)}function Vs(){return(Vs=(0,p.Z)(function*(I,h){return He(I,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Ln(I,h){return wr.apply(this,arguments)}function wr(){return(wr=(0,p.Z)(function*(I,h){return He(I,"POST","/v1/accounts:signUp",h)})).apply(this,arguments)}function Oi(){return(Oi=(0,p.Z)(function*(I,h){return He(I,"POST","/v1/accounts:update",Ne(I,h))})).apply(this,arguments)}function hi(I,h){return _s.apply(this,arguments)}function _s(){return(_s=(0,p.Z)(function*(I,h){return Bn(I,"POST","/v1/accounts:signInWithPassword",Ne(I,h))})).apply(this,arguments)}function so(I,h){return is.apply(this,arguments)}function is(){return(is=(0,p.Z)(function*(I,h){return He(I,"POST","/v1/accounts:sendOobCode",Ne(I,h))})).apply(this,arguments)}function bi(){return(bi=(0,p.Z)(function*(I,h){return so(I,h)})).apply(this,arguments)}function or(I,h){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,p.Z)(function*(I,h){return so(I,h)})).apply(this,arguments)}function _n(I,h){return cr.apply(this,arguments)}function cr(){return(cr=(0,p.Z)(function*(I,h){return so(I,h)})).apply(this,arguments)}function Zi(){return(Zi=(0,p.Z)(function*(I,h){return so(I,h)})).apply(this,arguments)}function Ni(){return(Ni=(0,p.Z)(function*(I,h){return Bn(I,"POST","/v1/accounts:signInWithEmailLink",Ne(I,h))})).apply(this,arguments)}function Di(){return(Di=(0,p.Z)(function*(I,h){return Bn(I,"POST","/v1/accounts:signInWithEmailLink",Ne(I,h))})).apply(this,arguments)}class ss extends bs{constructor(h,m,C,W=null){super("password",C),this._email=h,this._password=m,this._tenantId=W}static _fromEmailAndPassword(h,m){return new ss(h,m,"password")}static _fromEmailAndCode(h,m,C=null){return new ss(h,m,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const m="string"==typeof h?JSON.parse(h):h;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(h){var m=this;return(0,p.Z)(function*(){switch(m.signInMethod){case"password":return Fs(h,{returnSecureToken:!0,email:m._email,password:m._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",hi);case"emailLink":return function Gr(I,h){return Ni.apply(this,arguments)}(h,{email:m._email,oobCode:m._password});default:ae(h,"internal-error")}})()}_linkToIdToken(h,m){var C=this;return(0,p.Z)(function*(){switch(C.signInMethod){case"password":return Fs(h,{idToken:m,returnSecureToken:!0,email:C._email,password:C._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ln);case"emailLink":return function ar(I,h){return Di.apply(this,arguments)}(h,{idToken:m,email:C._email,oobCode:C._password});default:ae(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function on(I,h){return os.apply(this,arguments)}function os(){return(os=(0,p.Z)(function*(I,h){return Bn(I,"POST","/v1/accounts:signInWithIdp",Ne(I,h))})).apply(this,arguments)}class Ti extends bs{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const m=new Ti(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(m.idToken=h.idToken),h.accessToken&&(m.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(m.nonce=h.nonce),h.pendingToken&&(m.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(m.accessToken=h.oauthToken,m.secret=h.oauthTokenSecret):ae("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const m="string"==typeof h?JSON.parse(h):h,{providerId:C,signInMethod:W}=m,ie=(0,$._T)(m,["providerId","signInMethod"]);if(!C||!W)return null;const Fe=new Ti(C,W);return Fe.idToken=ie.idToken||void 0,Fe.accessToken=ie.accessToken||void 0,Fe.secret=ie.secret,Fe.nonce=ie.nonce,Fe.pendingToken=ie.pendingToken||null,Fe}_getIdTokenResponse(h){return on(h,this.buildRequest())}_linkToIdToken(h,m){const C=this.buildRequest();return C.idToken=m,on(h,C)}_getReauthenticationResolver(h){const m=this.buildRequest();return m.autoCreate=!1,on(h,m)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),h.postBody=(0,V.xO)(m)}return h}}function wi(){return(wi=(0,p.Z)(function*(I,h){return He(I,"POST","/v1/accounts:sendVerificationCode",Ne(I,h))})).apply(this,arguments)}function si(){return(si=(0,p.Z)(function*(I,h){return Bn(I,"POST","/v1/accounts:signInWithPhoneNumber",Ne(I,h))})).apply(this,arguments)}function hr(){return(hr=(0,p.Z)(function*(I,h){const m=yield Bn(I,"POST","/v1/accounts:signInWithPhoneNumber",Ne(I,h));if(m.temporaryProof)throw zn(I,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Gi={USER_NOT_FOUND:"user-not-found"};function fi(){return(fi=(0,p.Z)(function*(I,h){return Bn(I,"POST","/v1/accounts:signInWithPhoneNumber",Ne(I,Object.assign(Object.assign({},h),{operation:"REAUTH"})),Gi)})).apply(this,arguments)}class Wi extends bs{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,m){return new Wi({verificationId:h,verificationCode:m})}static _fromTokenResponse(h,m){return new Wi({phoneNumber:h,temporaryProof:m})}_getIdTokenResponse(h){return function Us(I,h){return si.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,m){return function Bs(I,h){return hr.apply(this,arguments)}(h,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function Ci(I,h){return fi.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:m,verificationId:C,verificationCode:W}=this.params;return h&&m?{temporaryProof:h,phoneNumber:m}:{sessionInfo:C,code:W}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:m,verificationCode:C,phoneNumber:W,temporaryProof:ie}=h;return C||m||W||ie?new Wi({verificationId:m,verificationCode:C,phoneNumber:W,temporaryProof:ie}):null}}class ys{constructor(h){var m,C,W,ie,Fe,st;const Et=(0,V.zd)((0,V.pd)(h)),Wt=null!==(m=Et.apiKey)&&void 0!==m?m:null,En=null!==(C=Et.oobCode)&&void 0!==C?C:null,nr=function Wn(I){switch(I){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(W=Et.mode)&&void 0!==W?W:null);ve(Wt&&En&&nr,"argument-error"),this.apiKey=Wt,this.operation=nr,this.code=En,this.continueUrl=null!==(ie=Et.continueUrl)&&void 0!==ie?ie:null,this.languageCode=null!==(Fe=Et.languageCode)&&void 0!==Fe?Fe:null,this.tenantId=null!==(st=Et.tenantId)&&void 0!==st?st:null}static parseLink(h){const m=function ya(I){const h=(0,V.zd)((0,V.pd)(I)).link,m=h?(0,V.zd)((0,V.pd)(h)).deep_link_id:null,C=(0,V.zd)((0,V.pd)(I)).deep_link_id;return(C?(0,V.zd)((0,V.pd)(C)).link:null)||C||m||h||I}(h);try{return new ys(m)}catch{return null}}}let ki=(()=>{class I{constructor(){this.providerId=I.PROVIDER_ID}static credential(m,C){return ss._fromEmailAndPassword(m,C)}static credentialWithLink(m,C){const W=ys.parseLink(C);return ve(W,"argument-error"),ss._fromEmailAndCode(m,W.code,W.tenantId)}}return I.PROVIDER_ID="password",I.EMAIL_PASSWORD_SIGN_IN_METHOD="password",I.EMAIL_LINK_SIGN_IN_METHOD="emailLink",I})();class oi{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class pi extends oi{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class as extends pi{static credentialFromJSON(h){const m="string"==typeof h?JSON.parse(h):h;return ve("providerId"in m&&"signInMethod"in m,"argument-error"),Ti._fromParams(m)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return ve(h.idToken||h.accessToken,"argument-error"),Ti._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return as.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return as.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:m,oauthAccessToken:C,oauthTokenSecret:W,pendingToken:ie,nonce:Fe,providerId:st}=h;if(!C&&!W&&!m&&!ie||!st)return null;try{return new as(st)._credential({idToken:m,accessToken:C,nonce:Fe,pendingToken:ie})}catch{return null}}}let ai=(()=>{class I extends pi{constructor(){super("facebook.com")}static credential(m){return Ti._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return I.credentialFromTaggedObject(m)}static credentialFromError(m){return I.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return I.credential(m.oauthAccessToken)}catch{return null}}}return I.FACEBOOK_SIGN_IN_METHOD="facebook.com",I.PROVIDER_ID="facebook.com",I})(),vs=(()=>{class I extends pi{constructor(){super("google.com"),this.addScope("profile")}static credential(m,C){return Ti._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:C})}static credentialFromResult(m){return I.credentialFromTaggedObject(m)}static credentialFromError(m){return I.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:C,oauthAccessToken:W}=m;if(!C&&!W)return null;try{return I.credential(C,W)}catch{return null}}}return I.GOOGLE_SIGN_IN_METHOD="google.com",I.PROVIDER_ID="google.com",I})(),Ur=(()=>{class I extends pi{constructor(){super("github.com")}static credential(m){return Ti._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return I.credentialFromTaggedObject(m)}static credentialFromError(m){return I.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return I.credential(m.oauthAccessToken)}catch{return null}}}return I.GITHUB_SIGN_IN_METHOD="github.com",I.PROVIDER_ID="github.com",I})();class Hr extends bs{constructor(h,m){super(h,h),this.pendingToken=m}_getIdTokenResponse(h){return on(h,this.buildRequest())}_linkToIdToken(h,m){const C=this.buildRequest();return C.idToken=m,on(h,C)}_getReauthenticationResolver(h){const m=this.buildRequest();return m.autoCreate=!1,on(h,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const m="string"==typeof h?JSON.parse(h):h,{providerId:C,signInMethod:W,pendingToken:ie}=m;return C&&W&&ie&&C===W?new Hr(C,ie):null}static _create(h,m){return new Hr(h,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ls extends oi{constructor(h){ve(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return ls.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return ls.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const m=Hr.fromJSON(h);return ve(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:m,providerId:C}=h;if(!m||!C)return null;try{return Hr._create(C,m)}catch{return null}}}let us=(()=>{class I extends pi{constructor(){super("twitter.com")}static credential(m,C){return Ti._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:C})}static credentialFromResult(m){return I.credentialFromTaggedObject(m)}static credentialFromError(m){return I.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:C,oauthTokenSecret:W}=m;if(!C||!W)return null;try{return I.credential(C,W)}catch{return null}}}return I.TWITTER_SIGN_IN_METHOD="twitter.com",I.PROVIDER_ID="twitter.com",I})();function bo(I,h){return Do.apply(this,arguments)}function Do(){return(Do=(0,p.Z)(function*(I,h){return Bn(I,"POST","/v1/accounts:signUp",Ne(I,h))})).apply(this,arguments)}class li{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,m,C,W=!1){return(0,p.Z)(function*(){const ie=yield L._fromIdTokenResponse(h,C,W),Fe=Ao(C);return new li({user:ie,providerId:Fe,_tokenResponse:C,operationType:m})})()}static _forOperation(h,m,C){return(0,p.Z)(function*(){yield h._updateTokensIfNecessary(C,!0);const W=Ao(C);return new li({user:h,providerId:W,_tokenResponse:C,operationType:m})})()}}function Ao(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}function va(I){return Go.apply(this,arguments)}function Go(){return(Go=(0,p.Z)(function*(I){var h;const m=Fn(I);if(yield m._initializationPromise,null!==(h=m.currentUser)&&void 0!==h&&h.isAnonymous)return new li({user:m.currentUser,providerId:null,operationType:"signIn"});const C=yield bo(m,{returnSecureToken:!0}),W=yield li._fromIdTokenResponse(m,"signIn",C,!0);return yield m._updateCurrentUser(W.user),W})).apply(this,arguments)}class js extends V.ZR{constructor(h,m,C,W){var ie;super(m.code,m.message),this.operationType=C,this.user=W,Object.setPrototypeOf(this,js.prototype),this.customData={appName:h.name,tenantId:null!==(ie=h.tenantId)&&void 0!==ie?ie:void 0,_serverResponse:m.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(h,m,C,W){return new js(h,m,C,W)}}function Ai(I,h,m,C){return("reauthenticate"===h?m._getReauthenticationResolver(I):m._getIdTokenResponse(I)).catch(ie=>{throw"auth/multi-factor-auth-required"===ie.code?js._fromErrorAndOperation(I,ie,h,C):ie})}function So(I){return new Set(I.map(({providerId:h})=>h).filter(h=>!!h))}function Ia(I,h){return lr.apply(this,arguments)}function lr(){return lr=(0,p.Z)(function*(I,h){const m=(0,V.m9)(I);yield G(!0,m,h);const{providerUserInfo:C}=yield function Xt(I,h){return mn.apply(this,arguments)}(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[h]}),W=So(C||[]);return m.providerData=m.providerData.filter(ie=>W.has(ie.providerId)),W.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m}),lr.apply(this,arguments)}function As(I,h){return sa.apply(this,arguments)}function sa(){return(sa=(0,p.Z)(function*(I,h,m=!1){const C=yield Mt(I,h._linkToIdToken(I.auth,yield I.getIdToken()),m);return li._forOperation(I,"link",C)})).apply(this,arguments)}function G(I,h,m){return K.apply(this,arguments)}function K(){return(K=(0,p.Z)(function*(I,h,m){yield Gn(h);const W=!1===I?"provider-already-linked":"no-such-provider";ve(So(h.providerData).has(m)===I,h.auth,W)})).apply(this,arguments)}function O(I,h){return se.apply(this,arguments)}function se(){return(se=(0,p.Z)(function*(I,h,m=!1){const{auth:C}=I,W="reauthenticate";try{const ie=yield Mt(I,Ai(C,W,h,I),m);ve(ie.idToken,C,"internal-error");const Fe=at(ie.idToken);ve(Fe,C,"internal-error");const{sub:st}=Fe;return ve(I.uid===st,C,"user-mismatch"),li._forOperation(I,W,ie)}catch(ie){throw"auth/user-not-found"===ie?.code&&ae(C,"user-mismatch"),ie}})).apply(this,arguments)}function be(I,h){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,p.Z)(function*(I,h,m=!1){const C="signIn",W=yield Ai(I,C,h),ie=yield li._fromIdTokenResponse(I,C,W);return m||(yield I._updateCurrentUser(ie.user)),ie})).apply(this,arguments)}function Tn(I,h){return Li.apply(this,arguments)}function Li(){return(Li=(0,p.Z)(function*(I,h){return be(Fn(I),h)})).apply(this,arguments)}function Ss(I,h){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,p.Z)(function*(I,h){const m=(0,V.m9)(I);return yield G(!1,m,h.providerId),As(m,h)})).apply(this,arguments)}function Yi(I,h){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,p.Z)(function*(I,h){return O((0,V.m9)(I),h)})).apply(this,arguments)}function oo(){return(oo=(0,p.Z)(function*(I,h){return Bn(I,"POST","/v1/accounts:signInWithCustomToken",Ne(I,h))})).apply(this,arguments)}function Pr(I,h){return _o.apply(this,arguments)}function _o(){return _o=(0,p.Z)(function*(I,h){const m=Fn(I),C=yield function $s(I,h){return oo.apply(this,arguments)}(m,{token:h,returnSecureToken:!0}),W=yield li._fromIdTokenResponse(m,"signIn",C);return yield m._updateCurrentUser(W.user),W}),_o.apply(this,arguments)}class Si{constructor(h,m){this.factorId=h,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(h,m){return"phoneInfo"in m?Po._fromServerResponse(h,m):"totpInfo"in m?Wo._fromServerResponse(h,m):ae(h,"internal-error")}}class Po extends Si{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,m){return new Po(m)}}class Wo extends Si{constructor(h){super("totp",h)}static _fromServerResponse(h,m){return new Wo(m)}}function Xs(I,h,m){var C;ve((null===(C=m.url)||void 0===C?void 0:C.length)>0,I,"invalid-continue-uri"),ve(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,I,"invalid-dynamic-link-domain"),h.continueUrl=m.url,h.dynamicLinkDomain=m.dynamicLinkDomain,h.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(ve(m.iOS.bundleId.length>0,I,"missing-ios-bundle-id"),h.iOSBundleId=m.iOS.bundleId),m.android&&(ve(m.android.packageName.length>0,I,"missing-android-pkg-name"),h.androidInstallApp=m.android.installApp,h.androidMinimumVersionCode=m.android.minimumVersion,h.androidPackageName=m.android.packageName)}function qo(I){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,p.Z)(function*(I){const h=Fn(I);h._getPasswordPolicyInternal()&&(yield h._updatePasswordPolicy())})).apply(this,arguments)}function Ro(I,h,m){return Is.apply(this,arguments)}function Is(){return(Is=(0,p.Z)(function*(I,h,m){const C=Fn(I),W={requestType:"PASSWORD_RESET",email:h,clientType:"CLIENT_TYPE_WEB"};m&&Xs(C,W,m),yield Fs(C,W,"getOobCode",or)})).apply(this,arguments)}function yo(I,h,m){return Ea.apply(this,arguments)}function Ea(){return Ea=(0,p.Z)(function*(I,h,m){yield go((0,V.m9)(I),{oobCode:h,newPassword:m}).catch(function(){var C=(0,p.Z)(function*(W){throw"auth/password-does-not-meet-requirements"===W.code&&qo(I),W});return function(W){return C.apply(this,arguments)}}())}),Ea.apply(this,arguments)}function sl(I,h){return Mo.apply(this,arguments)}function Mo(){return Mo=(0,p.Z)(function*(I,h){yield function zr(I,h){return Oi.apply(this,arguments)}((0,V.m9)(I),{oobCode:h})}),Mo.apply(this,arguments)}function xo(I,h){return vo.apply(this,arguments)}function vo(){return(vo=(0,p.Z)(function*(I,h){const m=(0,V.m9)(I),C=yield go(m,{oobCode:h}),W=C.requestType;switch(ve(W,m,"internal-error"),W){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ve(C.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ve(C.mfaInfo,m,"internal-error");default:ve(C.email,m,"internal-error")}let ie=null;return C.mfaInfo&&(ie=Si._fromServerResponse(Fn(m),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:ie},operation:W}})).apply(this,arguments)}function zs(I,h){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,p.Z)(function*(I,h){const{data:m}=yield xo((0,V.m9)(I),h);return m.email})).apply(this,arguments)}function ol(I,h,m){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,p.Z)(function*(I,h,m){const C=Fn(I),Fe=yield Fs(C,{returnSecureToken:!0,email:h,password:m,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",bo).catch(Et=>{throw"auth/password-does-not-meet-requirements"===Et.code&&qo(I),Et}),st=yield li._fromIdTokenResponse(C,"signIn",Fe);return yield C._updateCurrentUser(st.user),st})).apply(this,arguments)}function Hl(I,h,m){return Tn((0,V.m9)(I),ki.credential(h,m)).catch(function(){var C=(0,p.Z)(function*(W){throw"auth/password-does-not-meet-requirements"===W.code&&qo(I),W});return function(W){return C.apply(this,arguments)}}())}function al(I,h,m){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,p.Z)(function*(I,h,m){const C=Fn(I),W={requestType:"EMAIL_SIGNIN",email:h,clientType:"CLIENT_TYPE_WEB"};(function ie(Fe,st){ve(st.handleCodeInApp,C,"argument-error"),st&&Xs(C,Fe,st)})(W,m),yield Fs(C,W,"getOobCode",_n)})).apply(this,arguments)}function jl(I,h){const m=ys.parseLink(h);return"EMAIL_SIGNIN"===m?.operation}function Ua(I,h,m){return Z.apply(this,arguments)}function Z(){return(Z=(0,p.Z)(function*(I,h,m){const C=(0,V.m9)(I),W=ki.credentialWithLink(h,m||bt());return ve(W._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),Tn(C,W)})).apply(this,arguments)}function E(){return(E=(0,p.Z)(function*(I,h){return He(I,"POST","/v1/accounts:createAuthUri",Ne(I,h))})).apply(this,arguments)}function x(I,h){return Y.apply(this,arguments)}function Y(){return Y=(0,p.Z)(function*(I,h){const C={identifier:h,continueUri:$e()?bt():"http://localhost"},{signinMethods:W}=yield function y(I,h){return E.apply(this,arguments)}((0,V.m9)(I),C);return W||[]}),Y.apply(this,arguments)}function le(I,h){return Pe.apply(this,arguments)}function Pe(){return Pe=(0,p.Z)(function*(I,h){const m=(0,V.m9)(I),W={requestType:"VERIFY_EMAIL",idToken:yield I.getIdToken()};h&&Xs(m.auth,W,h);const{email:ie}=yield function Js(I,h){return bi.apply(this,arguments)}(m.auth,W);ie!==I.email&&(yield I.reload())}),Pe.apply(this,arguments)}function _(I,h,m){return k.apply(this,arguments)}function k(){return k=(0,p.Z)(function*(I,h,m){const C=(0,V.m9)(I),ie={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield I.getIdToken(),newEmail:h};m&&Xs(C.auth,ie,m);const{email:Fe}=yield function Dr(I,h){return Zi.apply(this,arguments)}(C.auth,ie);Fe!==I.email&&(yield I.reload())}),k.apply(this,arguments)}function F(){return(F=(0,p.Z)(function*(I,h){return He(I,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function ce(I,h){return Ue.apply(this,arguments)}function Ue(){return Ue=(0,p.Z)(function*(I,{displayName:h,photoURL:m}){if(void 0===h&&void 0===m)return;const C=(0,V.m9)(I),ie={idToken:yield C.getIdToken(),displayName:h,photoUrl:m,returnSecureToken:!0},Fe=yield Mt(C,function P(I,h){return F.apply(this,arguments)}(C.auth,ie));C.displayName=Fe.displayName||null,C.photoURL=Fe.photoUrl||null;const st=C.providerData.find(({providerId:Et})=>"password"===Et);st&&(st.displayName=C.displayName,st.photoURL=C.photoURL),yield C._updateTokensIfNecessary(Fe)}),Ue.apply(this,arguments)}function Ke(I,h){return jt((0,V.m9)(I),h,null)}function ft(I,h){return jt((0,V.m9)(I),null,h)}function jt(I,h,m){return en.apply(this,arguments)}function en(){return en=(0,p.Z)(function*(I,h,m){const{auth:C}=I,ie={idToken:yield I.getIdToken(),returnSecureToken:!0};h&&(ie.email=h),m&&(ie.password=m);const Fe=yield Mt(I,function Co(I,h){return Vs.apply(this,arguments)}(C,ie));yield I._updateTokensIfNecessary(Fe,!0)}),en.apply(this,arguments)}class tn{constructor(h,m,C={}){this.isNewUser=h,this.providerId=m,this.profile=C}}class Un extends tn{constructor(h,m,C,W){super(h,m,C),this.username=W}}class pn extends tn{constructor(h,m){super(h,"facebook.com",m)}}class jn extends Un{constructor(h,m){super(h,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class Wr extends tn{constructor(h,m){super(h,"google.com",m)}}class Cr extends Un{constructor(h,m,C){super(h,"twitter.com",m,C)}}function ui(I){const{user:h,_tokenResponse:m}=I;return h.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function fn(I){var h,m;if(!I)return null;const{providerId:C}=I,W=I.rawUserInfo?JSON.parse(I.rawUserInfo):{},ie=I.isNewUser||"identitytoolkit#SignupNewUserResponse"===I.kind;if(!C&&I?.idToken){const Fe=null===(m=null===(h=at(I.idToken))||void 0===h?void 0:h.firebase)||void 0===m?void 0:m.sign_in_provider;if(Fe)return new tn(ie,"anonymous"!==Fe&&"custom"!==Fe?Fe:null)}if(!C)return null;switch(C){case"facebook.com":return new pn(ie,W);case"github.com":return new jn(ie,W);case"google.com":return new Wr(ie,W);case"twitter.com":return new Cr(ie,W,I.screenName||null);case"custom":case"anonymous":return new tn(ie,null);default:return new tn(ie,C,W)}}(m)}class Kr{constructor(h,m,C){this.type=h,this.credential=m,this.user=C}static _fromIdtoken(h,m){return new Kr("enroll",h,m)}static _fromMfaPendingCredential(h){return new Kr("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var m,C;if(h?.multiFactorSession){if(null!==(m=h.multiFactorSession)&&void 0!==m&&m.pendingCredential)return Kr._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null!==(C=h.multiFactorSession)&&void 0!==C&&C.idToken)return Kr._fromIdtoken(h.multiFactorSession.idToken)}return null}}class Gs{constructor(h,m,C){this.session=h,this.hints=m,this.signInResolver=C}static _fromError(h,m){const C=Fn(h),W=m.customData._serverResponse,ie=(W.mfaInfo||[]).map(st=>Si._fromServerResponse(C,st));ve(W.mfaPendingCredential,C,"internal-error");const Fe=Kr._fromMfaPendingCredential(W.mfaPendingCredential);return new Gs(Fe,ie,function(){var st=(0,p.Z)(function*(Et){const Wt=yield Et._process(C,Fe);delete W.mfaInfo,delete W.mfaPendingCredential;const En=Object.assign(Object.assign({},W),{idToken:Wt.idToken,refreshToken:Wt.refreshToken});switch(m.operationType){case"signIn":const nr=yield li._fromIdTokenResponse(C,m.operationType,En);return yield C._updateCurrentUser(nr.user),nr;case"reauthenticate":return ve(m.user,C,"internal-error"),li._forOperation(m.user,m.operationType,En);default:ae(C,"internal-error")}});return function(Et){return st.apply(this,arguments)}}())}resolveSignIn(h){var m=this;return(0,p.Z)(function*(){return m.signInResolver(h)})()}}function Rn(I,h){var m;const C=(0,V.m9)(I),W=h;return ve(h.customData.operationType,C,"argument-error"),ve(null===(m=W.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,C,"argument-error"),Gs._fromError(C,W)}class kr{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(C=>Si._fromServerResponse(h.auth,C)))})}static _fromUser(h){return new kr(h)}getSession(){var h=this;return(0,p.Z)(function*(){return Kr._fromIdtoken(yield h.user.getIdToken(),h.user)})()}enroll(h,m){var C=this;return(0,p.Z)(function*(){const W=h,ie=yield C.getSession(),Fe=yield Mt(C.user,W._process(C.user.auth,ie,m));return yield C.user._updateTokensIfNecessary(Fe),C.user.reload()})()}unenroll(h){var m=this;return(0,p.Z)(function*(){const C="string"==typeof h?h:h.uid,W=yield m.user.getIdToken();try{const ie=yield Mt(m.user,function pt(I,h){return He(I,"POST","/v2/accounts/mfaEnrollment:withdraw",Ne(I,h))}(m.user.auth,{idToken:W,mfaEnrollmentId:C}));m.enrolledFactors=m.enrolledFactors.filter(({uid:Fe})=>Fe!==C),yield m.user._updateTokensIfNecessary(ie),yield m.user.reload()}catch(ie){throw ie}})()}}const Yt=new WeakMap;function ll(I){const h=(0,V.m9)(I);return Yt.has(h)||Yt.set(h,kr._fromUser(h)),Yt.get(h)}const Kt="__sak";class an{constructor(h,m){this.storageRetriever=h,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Kt,"1"),this.storage.removeItem(Kt),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,m){return this.storage.setItem(h,JSON.stringify(m)),Promise.resolve()}_get(h){const m=this.storage.getItem(h);return Promise.resolve(m?JSON.parse(m):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const qi=(()=>{class I extends an{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,C)=>this.onStorageEvent(m,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Zo(){const I=(0,V.z$)();return Ae(I)||tt(I)}()&&function Vn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Jn(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const C of Object.keys(this.listeners)){const W=this.storage.getItem(C),ie=this.localCache[C];W!==ie&&m(C,ie,W)}}onStorageEvent(m,C=!1){if(!m.key)return void this.forAllChangedKeys((st,Et,Wt)=>{this.notifyListeners(st,Wt)});const W=m.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const st=this.storage.getItem(W);if(m.newValue!==st)null!==m.newValue?this.storage.setItem(W,m.newValue):this.storage.removeItem(W);else if(this.localCache[W]===m.newValue&&!C)return}const ie=()=>{const st=this.storage.getItem(W);!C&&this.localCache[W]===st||this.notifyListeners(W,st)},Fe=this.storage.getItem(W);!function sn(){return(0,V.w1)()&&10===document.documentMode}()||Fe===m.newValue||m.newValue===m.oldValue?ie():setTimeout(ie,10)}notifyListeners(m,C){this.localCache[m]=C;const W=this.listeners[m];if(W)for(const ie of Array.from(W))ie(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,C,W)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:C,newValue:W}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(C)}_removeListener(m,C){this.listeners[m]&&(this.listeners[m].delete(C),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,C){var W=()=>super._set,ie=this;return(0,p.Z)(function*(){yield W().call(ie,m,C),ie.localCache[m]=JSON.stringify(C)})()}_get(m){var C=()=>super._get,W=this;return(0,p.Z)(function*(){const ie=yield C().call(W,m);return W.localCache[m]=JSON.stringify(ie),ie})()}_remove(m){var C=()=>super._remove,W=this;return(0,p.Z)(function*(){yield C().call(W,m),delete W.localCache[m]})()}}return I.type="LOCAL",I})(),$l=(()=>{class I extends an{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,C){}_removeListener(m,C){}}return I.type="SESSION",I})();let Jc=(()=>{class I{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const C=this.receivers.find(ie=>ie.isListeningto(m));if(C)return C;const W=new I(m);return this.receivers.push(W),W}isListeningto(m){return this.eventTarget===m}handleEvent(m){var C=this;return(0,p.Z)(function*(){const W=m,{eventId:ie,eventType:Fe,data:st}=W.data,Et=C.handlersMap[Fe];if(!Et?.size)return;W.ports[0].postMessage({status:"ack",eventId:ie,eventType:Fe});const Wt=Array.from(Et).map(function(){var nr=(0,p.Z)(function*(fs){return fs(W.origin,st)});return function(fs){return nr.apply(this,arguments)}}()),En=yield function Tu(I){return Promise.all(I.map(function(){var h=(0,p.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(C){return{fulfilled:!1,reason:C}}});return function(m){return h.apply(this,arguments)}}()))}(Wt);W.ports[0].postMessage({status:"done",eventId:ie,eventType:Fe,response:En})})()}_subscribe(m,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(C)}_unsubscribe(m,C){this.handlersMap[m]&&C&&this.handlersMap[m].delete(C),(!C||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();function vt(I="",h=10){let m="";for(let C=0;C<h;C++)m+=Math.floor(10*Math.random());return I+m}class Ir{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,m,C=50){var W=this;return(0,p.Z)(function*(){const ie=typeof MessageChannel<"u"?new MessageChannel:null;if(!ie)throw new Error("connection_unavailable");let Fe,st;return new Promise((Et,Wt)=>{const En=vt("",20);ie.port1.start();const nr=setTimeout(()=>{Wt(new Error("unsupported_event"))},C);st={messageChannel:ie,onMessage(fs){const qa=fs;if(qa.data.eventId===En)switch(qa.data.status){case"ack":clearTimeout(nr),Fe=setTimeout(()=>{Wt(new Error("timeout"))},3e3);break;case"done":clearTimeout(Fe),Et(qa.data.response);break;default:clearTimeout(nr),clearTimeout(Fe),Wt(new Error("invalid_response"))}}},W.handlers.add(st),ie.port1.addEventListener("message",st.onMessage),W.target.postMessage({eventType:h,eventId:En,data:m},[ie.port2])}).finally(()=>{st&&W.removeMessageHandler(st)})})()}}function mi(){return window}function ds(){return typeof mi().WorkerGlobalScope<"u"&&"function"==typeof mi().importScripts}function Ta(){return(Ta=(0,p.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ba="firebaseLocalStorageDb",ln="firebaseLocalStorage",Ca="fbase_key";class Sn{constructor(h){this.request=h}toPromise(){return new Promise((h,m)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function ao(I,h){return I.transaction([ln],h?"readwrite":"readonly").objectStore(ln)}function Ft(){const I=indexedDB.open(Ba,1);return new Promise((h,m)=>{I.addEventListener("error",()=>{m(I.error)}),I.addEventListener("upgradeneeded",()=>{const C=I.result;try{C.createObjectStore(ln,{keyPath:Ca})}catch(W){m(W)}}),I.addEventListener("success",(0,p.Z)(function*(){const C=I.result;C.objectStoreNames.contains(ln)?h(C):(C.close(),yield function Zr(){const I=indexedDB.deleteDatabase(Ba);return new Sn(I).toPromise()}(),h(yield Ft()))}))})}function Ms(I,h,m){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,p.Z)(function*(I,h,m){const C=ao(I,!0).put({[Ca]:h,value:m});return new Sn(C).toPromise()})).apply(this,arguments)}function cc(){return(cc=(0,p.Z)(function*(I,h){const m=ao(I,!1).get(h),C=yield new Sn(m).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function ba(I,h){const m=ao(I,!0).delete(h);return new Sn(m).toPromise()}const zl=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,p.Z)(function*(){return m.db||(m.db=yield Ft()),m.db})()}_withRetries(m){var C=this;return(0,p.Z)(function*(){let W=0;for(;;)try{const ie=yield C._openDb();return yield m(ie)}catch(ie){if(W++>3)throw ie;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,p.Z)(function*(){return ds()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,p.Z)(function*(){m.receiver=Jc._getInstance(function wa(){return ds()?self:null}()),m.receiver._subscribe("keyChanged",function(){var C=(0,p.Z)(function*(W,ie){return{keyProcessed:(yield m._poll()).includes(ie.key)}});return function(W,ie){return C.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var C=(0,p.Z)(function*(W,ie){return["keyChanged"]});return function(W,ie){return C.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,p.Z)(function*(){var C,W;if(m.activeServiceWorker=yield function Xc(){return Ta.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Ir(m.activeServiceWorker);const ie=yield m.sender._send("ping",{},800);ie&&null!==(C=ie[0])&&void 0!==C&&C.fulfilled&&null!==(W=ie[0])&&void 0!==W&&W.value.includes("keyChanged")&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var C=this;return(0,p.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function vn(){var I;return(null===(I=navigator?.serviceWorker)||void 0===I?void 0:I.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:m},C.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,p.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Ft();return yield Ms(m,Kt,"1"),yield ba(m,Kt),!0}catch{}return!1})()}_withPendingWrite(m){var C=this;return(0,p.Z)(function*(){C.pendingWrites++;try{yield m()}finally{C.pendingWrites--}})()}_set(m,C){var W=this;return(0,p.Z)(function*(){return W._withPendingWrite((0,p.Z)(function*(){return yield W._withRetries(ie=>Ms(ie,m,C)),W.localCache[m]=C,W.notifyServiceWorker(m)}))})()}_get(m){var C=this;return(0,p.Z)(function*(){const W=yield C._withRetries(ie=>function aa(I,h){return cc.apply(this,arguments)}(ie,m));return C.localCache[m]=W,W})()}_remove(m){var C=this;return(0,p.Z)(function*(){return C._withPendingWrite((0,p.Z)(function*(){return yield C._withRetries(W=>ba(W,m)),delete C.localCache[m],C.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,p.Z)(function*(){const C=yield m._withRetries(Fe=>{const st=ao(Fe,!1).getAll();return new Sn(st).toPromise()});if(!C)return[];if(0!==m.pendingWrites)return[];const W=[],ie=new Set;for(const{fbase_key:Fe,value:st}of C)ie.add(Fe),JSON.stringify(m.localCache[Fe])!==JSON.stringify(st)&&(m.notifyListeners(Fe,st),W.push(Fe));for(const Fe of Object.keys(m.localCache))m.localCache[Fe]&&!ie.has(Fe)&&(m.notifyListeners(Fe,null),W.push(Fe));return W})()}notifyListeners(m,C){this.localCache[m]=C;const W=this.listeners[m];if(W)for(const ie of Array.from(W))ie(C)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,p.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(C)}_removeListener(m,C){this.listeners[m]&&(this.listeners[m].delete(C),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})(),ne=1e12;class Q{constructor(h){this.auth=h,this.counter=ne,this._widgets=new Map}render(h,m){const C=this.counter;return this._widgets.set(C,new et(h,this.auth.name,m||{})),this.counter++,C}reset(h){var m;const C=h||ne;null===(m=this._widgets.get(C))||void 0===m||m.delete(),this._widgets.delete(C)}getResponse(h){var m;return(null===(m=this._widgets.get(h||ne))||void 0===m?void 0:m.getResponse())||""}execute(h){var m=this;return(0,p.Z)(function*(){var C;return null===(C=m._widgets.get(h||ne))||void 0===C||C.execute(),""})()}}class et{constructor(h,m,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const W="string"==typeof h?document.getElementById(h):h;ve(W,"argument-error",{appName:m}),this.container=W,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Qe(I){const h=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<I;C++)h.push(m.charAt(Math.floor(62*Math.random())));return h.join("")}(50);const{callback:h,"expired-callback":m}=this.params;if(h)try{h(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const zt=Zs("rcb"),un=new Dt(3e4,6e4);class In{constructor(){var h;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(h=mi().grecaptcha)||void 0===h||!h.render)}load(h,m=""){return ve(function Es(I){return I.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(I)}(m),h,"argument-error"),this.shouldResolveImmediately(m)&&On(mi().grecaptcha)?Promise.resolve(mi().grecaptcha):new Promise((C,W)=>{const ie=mi().setTimeout(()=>{W(Me(h,"network-request-failed"))},un.get());mi()[zt]=()=>{mi().clearTimeout(ie),delete mi()[zt];const st=mi().grecaptcha;if(!st||!On(st))return void W(Me(h,"internal-error"));const Et=st.render;st.render=(Wt,En)=>{const nr=Et(Wt,En);return this.counter++,nr},this.hostLanguage=m,C(st)},ji(`https://www.google.com/recaptcha/api.js??${(0,V.xO)({onload:zt,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(ie),W(Me(h,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){var m;return!(null===(m=mi().grecaptcha)||void 0===m||!m.render)&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ja{load(h){return(0,p.Z)(function*(){return new Q(h)})()}clearedOneInstance(){}}const la="recaptcha",wu={theme:"light",type:"image"};class Aa{constructor(h,m,C=Object.assign({},wu)){this.parameters=C,this.type=la,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Fn(h),this.isInvisible="invisible"===this.parameters.size,ve(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const W="string"==typeof m?document.getElementById(m):m;ve(W,this.auth,"argument-error"),this.container=W,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ja:new In,this.validateStartingState()}verify(){var h=this;return(0,p.Z)(function*(){h.assertNotDestroyed();const m=yield h.render(),C=h.getAssertedRecaptcha();return C.getResponse(m)||new Promise(ie=>{const Fe=st=>{st&&(h.tokenChangeListeners.delete(Fe),ie(st))};h.tokenChangeListeners.add(Fe),h.isInvisible&&C.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){ve(!this.parameters.sitekey,this.auth,"argument-error"),ve(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ve(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return m=>{if(this.tokenChangeListeners.forEach(C=>C(m)),"function"==typeof h)h(m);else if("string"==typeof h){const C=mi()[h];"function"==typeof C&&C(m)}}}assertNotDestroyed(){ve(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,p.Z)(function*(){if(yield h.init(),!h.widgetId){let m=h.container;if(!h.isInvisible){const C=document.createElement("div");m.appendChild(C),m=C}h.widgetId=h.getAssertedRecaptcha().render(m,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,p.Z)(function*(){ve($e()&&!ds(),h.auth,"internal-error"),yield function Ws(){let I=null;return new Promise(h=>{"complete"!==document.readyState?(I=()=>h(),window.addEventListener("load",I)):h()}).catch(h=>{throw I&&window.removeEventListener("load",I),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const m=yield function Nn(I){return yr.apply(this,arguments)}(h.auth);ve(m,h.auth,"internal-error"),h.parameters.sitekey=m})()}getAssertedRecaptcha(){return ve(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ua{constructor(h,m){this.verificationId=h,this.onConfirmation=m}confirm(h){const m=Wi._fromVerification(this.verificationId,h);return this.onConfirmation(m)}}function Vo(I,h,m){return hc.apply(this,arguments)}function hc(){return(hc=(0,p.Z)(function*(I,h,m){const C=Fn(I),W=yield Wl(C,h,(0,V.m9)(m));return new ua(W,ie=>Tn(C,ie))})).apply(this,arguments)}function hs(I,h,m){return Gl.apply(this,arguments)}function Gl(){return(Gl=(0,p.Z)(function*(I,h,m){const C=(0,V.m9)(I);yield G(!1,C,"phone");const W=yield Wl(C.auth,h,(0,V.m9)(m));return new ua(W,ie=>Ss(C,ie))})).apply(this,arguments)}function Cu(I,h,m){return lo.apply(this,arguments)}function lo(){return(lo=(0,p.Z)(function*(I,h,m){const C=(0,V.m9)(I),W=yield Wl(C.auth,h,(0,V.m9)(m));return new ua(W,ie=>Yi(C,ie))})).apply(this,arguments)}function Wl(I,h,m){return ul.apply(this,arguments)}function ul(){return ul=(0,p.Z)(function*(I,h,m){var C;const W=yield m.verify();try{let ie;if(ve("string"==typeof W,I,"argument-error"),ve(m.type===la,I,"argument-error"),ie="string"==typeof h?{phoneNumber:h}:h,"session"in ie){const Fe=ie.session;if("phoneNumber"in ie)return ve("enroll"===Fe.type,I,"internal-error"),(yield function ko(I,h){return He(I,"POST","/v2/accounts/mfaEnrollment:start",Ne(I,h))}(I,{idToken:Fe.credential,phoneEnrollmentInfo:{phoneNumber:ie.phoneNumber,recaptchaToken:W}})).phoneSessionInfo.sessionInfo;{ve("signin"===Fe.type,I,"internal-error");const st=(null===(C=ie.multiFactorHint)||void 0===C?void 0:C.uid)||ie.multiFactorUid;return ve(st,I,"missing-multi-factor-info"),(yield function T(I,h){return He(I,"POST","/v2/accounts/mfaSignIn:start",Ne(I,h))}(I,{mfaPendingCredential:Fe.credential,mfaEnrollmentId:st,phoneSignInInfo:{recaptchaToken:W}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Fe}=yield function dr(I,h){return wi.apply(this,arguments)}(I,{phoneNumber:ie.phoneNumber,recaptchaToken:W});return Fe}}finally{m._reset()}}),ul.apply(this,arguments)}function bh(I,h){return $a.apply(this,arguments)}function $a(){return($a=(0,p.Z)(function*(I,h){yield As((0,V.m9)(I),h)})).apply(this,arguments)}let bu=(()=>{class I{constructor(m){this.providerId=I.PROVIDER_ID,this.auth=Fn(m)}verifyPhoneNumber(m,C){return Wl(this.auth,m,(0,V.m9)(C))}static credential(m,C){return Wi._fromVerification(m,C)}static credentialFromResult(m){return I.credentialFromTaggedObject(m)}static credentialFromError(m){return I.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:C,temporaryProof:W}=m;return C&&W?Wi._fromTokenResponse(C,W):null}}return I.PROVIDER_ID="phone",I.PHONE_SIGN_IN_METHOD="phone",I})();function cl(I,h){return h?Le(h):(ve(I._popupRedirectResolver,I,"argument-error"),I._popupRedirectResolver)}class Dh extends bs{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return on(h,this._buildIdpRequest())}_linkToIdToken(h,m){return on(h,this._buildIdpRequest(m))}_getReauthenticationResolver(h){return on(h,this._buildIdpRequest())}_buildIdpRequest(h){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(m.idToken=h),m}}function td(I){return be(I.auth,new Dh(I),I.bypassAuthState)}function zg(I){const{auth:h,user:m}=I;return ve(m,h,"internal-error"),O(m,new Dh(I),I.bypassAuthState)}function Pp(I){return nd.apply(this,arguments)}function nd(){return(nd=(0,p.Z)(function*(I){const{auth:h,user:m}=I;return ve(m,h,"internal-error"),As(m,new Dh(I),I.bypassAuthState)})).apply(this,arguments)}class Rp{constructor(h,m,C,W,ie=!1){this.auth=h,this.resolver=C,this.user=W,this.bypassAuthState=ie,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var h=this;return new Promise(function(){var m=(0,p.Z)(function*(C,W){h.pendingPromise={resolve:C,reject:W};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(ie){h.reject(ie)}});return function(C,W){return m.apply(this,arguments)}}())}onAuthEvent(h){var m=this;return(0,p.Z)(function*(){const{urlResponse:C,sessionId:W,postBody:ie,tenantId:Fe,error:st,type:Et}=h;if(st)return void m.reject(st);const Wt={auth:m.auth,requestUri:C,sessionId:W,tenantId:Fe||void 0,postBody:ie||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Et)(Wt))}catch(En){m.reject(En)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return td;case"linkViaPopup":case"linkViaRedirect":return Pp;case"reauthViaPopup":case"reauthViaRedirect":return zg;default:ae(this.auth,"internal-error")}}resolve(h){lt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){lt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Gg=new Dt(2e3,1e4);function rd(I,h,m){return dl.apply(this,arguments)}function dl(){return(dl=(0,p.Z)(function*(I,h,m){const C=Fn(I);ge(I,h,oi);const W=cl(C,m);return new Ah(C,"signInViaPopup",h,W).executeNotNull()})).apply(this,arguments)}function Mp(I,h,m){return hl.apply(this,arguments)}function hl(){return(hl=(0,p.Z)(function*(I,h,m){const C=(0,V.m9)(I);ge(C.auth,h,oi);const W=cl(C.auth,m);return new Ah(C.auth,"reauthViaPopup",h,W,C).executeNotNull()})).apply(this,arguments)}function id(I,h,m){return fl.apply(this,arguments)}function fl(){return(fl=(0,p.Z)(function*(I,h,m){const C=(0,V.m9)(I);ge(C.auth,h,oi);const W=cl(C.auth,m);return new Ah(C.auth,"linkViaPopup",h,W,C).executeNotNull()})).apply(this,arguments)}let Ah=(()=>{class I extends Rp{constructor(m,C,W,ie,Fe){super(m,C,ie,Fe),this.provider=W,this.authWindow=null,this.pollId=null,I.currentPopupAction&&I.currentPopupAction.cancel(),I.currentPopupAction=this}executeNotNull(){var m=this;return(0,p.Z)(function*(){const C=yield m.execute();return ve(C,m.auth,"internal-error"),C})()}onExecution(){var m=this;return(0,p.Z)(function*(){lt(1===m.filter.length,"Popup operations only handle one event");const C=vt();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],C),m.authWindow.associatedEvent=C,m.resolver._originValidation(m.auth).catch(W=>{m.reject(W)}),m.resolver._isIframeWebStorageSupported(m.auth,W=>{W||m.reject(Me(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Me(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,I.currentPopupAction=null}pollUserCancellation(){const m=()=>{var C,W;this.pollId=null!==(W=null===(C=this.authWindow)||void 0===C?void 0:C.window)&&void 0!==W&&W.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Me(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(m,Gg.get())};m()}}return I.currentPopupAction=null,I})();const sd="pendingRedirect",pl=new Map;class xp extends Rp{constructor(h,m,C=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,C),this.eventId=null}execute(){var h=()=>super.execute,m=this;return(0,p.Z)(function*(){let C=pl.get(m.auth._key());if(!C){try{const ie=(yield function Uo(I,h){return Qi.apply(this,arguments)}(m.resolver,m.auth))?yield h().call(m):null;C=()=>Promise.resolve(ie)}catch(W){C=()=>Promise.reject(W)}pl.set(m.auth._key(),C)}return m.bypassAuthState||pl.set(m.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(h){var m=()=>super.onAuthEvent,C=this;return(0,p.Z)(function*(){if("signInViaRedirect"===h.type)return m().call(C,h);if("unknown"!==h.type){if(h.eventId){const W=yield C.auth._redirectUserForId(h.eventId);if(W)return C.user=W,m().call(C,h);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,p.Z)(function*(){})()}cleanUp(){}}function Qi(){return(Qi=(0,p.Z)(function*(I,h){const m=Ts(h),C=gl(I);if(!(yield C._isAvailable()))return!1;const W="true"===(yield C._get(m));return yield C._remove(m),W})).apply(this,arguments)}function ml(I,h){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,p.Z)(function*(I,h){return gl(I)._set(Ts(h),"true")})).apply(this,arguments)}function od(){pl.clear()}function Lr(I,h){pl.set(I._key(),h)}function gl(I){return Le(I._redirectPersistence)}function Ts(I){return _t(sd,I.config.apiKey,I.name)}function jr(I,h,m){return function ad(I,h,m){return Sa.apply(this,arguments)}(I,h,m)}function Sa(){return(Sa=(0,p.Z)(function*(I,h,m){const C=Fn(I);ge(I,h,oi),yield C._initializationPromise;const W=cl(C,m);return yield ml(W,C),W._openRedirect(C,h,"signInViaRedirect")})).apply(this,arguments)}function eo(I,h,m){return function Sh(I,h,m){return ql.apply(this,arguments)}(I,h,m)}function ql(){return(ql=(0,p.Z)(function*(I,h,m){const C=(0,V.m9)(I);ge(C.auth,h,oi),yield C.auth._initializationPromise;const W=cl(C.auth,m);yield ml(W,C.auth);const ie=yield Zl(C);return W._openRedirect(C.auth,h,"reauthViaRedirect",ie)})).apply(this,arguments)}function gi(I,h,m){return function Op(I,h,m){return Yo.apply(this,arguments)}(I,h,m)}function Yo(){return(Yo=(0,p.Z)(function*(I,h,m){const C=(0,V.m9)(I);ge(C.auth,h,oi),yield C.auth._initializationPromise;const W=cl(C.auth,m);yield G(!1,C,h.providerId),yield ml(W,C.auth);const ie=yield Zl(C);return W._openRedirect(C.auth,h,"linkViaRedirect",ie)})).apply(this,arguments)}function Pi(I,h){return to.apply(this,arguments)}function to(){return(to=(0,p.Z)(function*(I,h){return yield Fn(I)._initializationPromise,Kl(I,h,!1)})).apply(this,arguments)}function Kl(I,h){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,p.Z)(function*(I,h,m=!1){const C=Fn(I),W=cl(C,h),Fe=yield new xp(C,W,m).execute();return Fe&&!m&&(delete Fe.user._redirectEventId,yield C._persistUserIfCurrent(Fe.user),yield C._setRedirectUser(null,h)),Fe})).apply(this,arguments)}function Zl(I){return fc.apply(this,arguments)}function fc(){return(fc=(0,p.Z)(function*(I){const h=vt(`${I.uid}:::`);return I._redirectEventId=h,yield I.auth._setRedirectUser(I),yield I.auth._persistUserIfCurrent(I),h})).apply(this,arguments)}class Pa{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let m=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(h,C)&&(m=!0,this.sendToConsumer(h,C),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function no(I){switch(I.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Qo(I);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=h,m=!0)),m}sendToConsumer(h,m){var C;if(h.error&&!Qo(h)){const W=(null===(C=h.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";m.onError(Me(this.auth,W))}else m.onAuthEvent(h)}isEventForConsumer(h,m){const C=null===m.eventId||!!h.eventId&&h.eventId===m.eventId;return m.filter.includes(h.type)&&C}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Yl(h))}saveEventToCache(h){this.cachedEventUids.add(Yl(h)),this.lastProcessedEventTime=Date.now()}}function Yl(I){return[I.type,I.eventId,I.sessionId,I.tenantId].filter(h=>h).join("-")}function Qo({type:I,error:h}){return"unknown"===I&&"auth/no-auth-event"===h?.code}function Jo(I){return ro.apply(this,arguments)}function ro(){return(ro=(0,p.Z)(function*(I,h={}){return He(I,"GET","/v1/projects",h)})).apply(this,arguments)}const ld=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,za=/^https?/;function Du(){return(Du=(0,p.Z)(function*(I){if(I.config.emulator)return;const{authorizedDomains:h}=yield Jo(I);for(const m of h)try{if(_l(m))return}catch{}ae(I,"unauthorized-domain")})).apply(this,arguments)}function _l(I){const h=bt(),{protocol:m,hostname:C}=new URL(h);if(I.startsWith("chrome-extension://")){const Fe=new URL(I);return""===Fe.hostname&&""===C?"chrome-extension:"===m&&I.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===m&&Fe.hostname===C}if(!za.test(m))return!1;if(ld.test(I))return C===I;const W=I.replace(/\./g,"\\.");return new RegExp("^(.+\\."+W+"|"+W+")$","i").test(C)}const Ph=new Dt(3e4,6e4);function Au(){const I=mi().___jsl;if(I?.H)for(const h of Object.keys(I.H))if(I.H[h].r=I.H[h].r||[],I.H[h].L=I.H[h].L||[],I.H[h].r=[...I.H[h].L],I.CP)for(let m=0;m<I.CP.length;m++)I.CP[m]=null}let pc=null;const mc=new Dt(5e3,15e3),yl="__/auth/iframe",kp="emulator/auth/iframe",Lp={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Xi=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Rh(I){const h=I.config;ve(h.authDomain,I,"auth-domain-config-required");const m=h.emulator?kt(h,kp):`https://${I.config.authDomain}/${yl}`,C={apiKey:h.apiKey,appName:I.name,v:b.SDK_VERSION},W=Xi.get(I.config.apiHost);W&&(C.eid=W);const ie=I._getFrameworks();return ie.length&&(C.fw=ie.join(",")),`${m}?${(0,V.xO)(C).slice(1)}`}function gc(){return gc=(0,p.Z)(function*(I){const h=yield function ud(I){return pc=pc||function Np(I){return new Promise((h,m)=>{var C,W,ie;function Fe(){Au(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{Au(),m(Me(I,"network-request-failed"))},timeout:Ph.get()})}if(null!==(W=null===(C=mi().gapi)||void 0===C?void 0:C.iframes)&&void 0!==W&&W.Iframe)h(gapi.iframes.getContext());else{if(null===(ie=mi().gapi)||void 0===ie||!ie.load){const st=Zs("iframefcb");return mi()[st]=()=>{gapi.load?Fe():m(Me(I,"network-request-failed"))},ji(`https://apis.google.com/js/api.js?onload=${st}`).catch(Et=>m(Et))}Fe()}}).catch(h=>{throw pc=null,h})}(I),pc}(I),m=mi().gapi;return ve(m,I,"internal-error"),h.open({where:document.body,url:Rh(I),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Lp,dontclear:!0},C=>new Promise(function(){var W=(0,p.Z)(function*(ie,Fe){yield C.restyle({setHideOnLeave:!1});const st=Me(I,"network-request-failed"),Et=mi().setTimeout(()=>{Fe(st)},mc.get());function Wt(){mi().clearTimeout(Et),ie(C)}C.ping(Wt).then(Wt,()=>{Fe(st)})});return function(ie,Fe){return W.apply(this,arguments)}}()))}),gc.apply(this,arguments)}const pr={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Mh{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Yr="__/auth/handler",ws="emulator/auth/handler",Pu=encodeURIComponent("fac");function da(I,h,m,C,W,ie){return dd.apply(this,arguments)}function dd(){return(dd=(0,p.Z)(function*(I,h,m,C,W,ie){ve(I.config.authDomain,I,"auth-domain-config-required"),ve(I.config.apiKey,I,"invalid-api-key");const Fe={apiKey:I.config.apiKey,appName:I.name,authType:m,redirectUrl:C,v:b.SDK_VERSION,eventId:W};if(h instanceof oi){h.setDefaultLanguage(I.languageCode),Fe.providerId=h.providerId||"",(0,V.xb)(h.getCustomParameters())||(Fe.customParameters=JSON.stringify(h.getCustomParameters()));for(const[En,nr]of Object.entries(ie||{}))Fe[En]=nr}if(h instanceof pi){const En=h.getScopes().filter(nr=>""!==nr);En.length>0&&(Fe.scopes=En.join(","))}I.tenantId&&(Fe.tid=I.tenantId);const st=Fe;for(const En of Object.keys(st))void 0===st[En]&&delete st[En];const Et=yield I._getAppCheckToken(),Wt=Et?`#${Pu}=${encodeURIComponent(Et)}`:"";return`${function _c({config:I}){return I.emulator?kt(I,ws):`https://${I.authDomain}/${Yr}`}(I)}?${(0,V.xO)(st).slice(1)}${Wt}`})).apply(this,arguments)}const yc="webStorageSupport",hd=class xh{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$l,this._completeRedirectFn=Kl,this._overrideRedirectResult=Lr}_openPopup(h,m,C,W){var ie=this;return(0,p.Z)(function*(){var Fe;lt(null===(Fe=ie.eventManagers[h._key()])||void 0===Fe?void 0:Fe.manager,"_initialize() not called before _openPopup()");const st=yield da(h,m,C,bt(),W);return function Fp(I,h,m,C=500,W=600){const ie=Math.max((window.screen.availHeight-W)/2,0).toString(),Fe=Math.max((window.screen.availWidth-C)/2,0).toString();let st="";const Et=Object.assign(Object.assign({},pr),{width:C.toString(),height:W.toString(),top:ie,left:Fe}),Wt=(0,V.z$)().toLowerCase();m&&(st=Ie(Wt)?"_blank":m),Cn(Wt)&&(h=h||"http://localhost",Et.scrollbars="yes");const En=Object.entries(Et).reduce((fs,[qa,Jl])=>`${fs}${qa}=${Jl},`,"");if(function wt(I=(0,V.z$)()){var h;return tt(I)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(Wt)&&"_self"!==st)return function mr(I,h){const m=document.createElement("a");m.href=I,m.target=h;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(C)}(h||"",st),new Mh(null);const nr=window.open(h||"",st,En);ve(nr,I,"popup-blocked");try{nr.focus()}catch{}return new Mh(nr)}(h,st,vt())})()}_openRedirect(h,m,C,W){var ie=this;return(0,p.Z)(function*(){return yield ie._originValidation(h),function uc(I){mi().location.href=I}(yield da(h,m,C,bt(),W)),new Promise(()=>{})})()}_initialize(h){const m=h._key();if(this.eventManagers[m]){const{manager:W,promise:ie}=this.eventManagers[m];return W?Promise.resolve(W):(lt(ie,"If manager is not set, promise should be"),ie)}const C=this.initAndGetManager(h);return this.eventManagers[m]={promise:C},C.catch(()=>{delete this.eventManagers[m]}),C}initAndGetManager(h){var m=this;return(0,p.Z)(function*(){const C=yield function Ki(I){return gc.apply(this,arguments)}(h),W=new Pa(h);return C.register("authEvent",ie=>(ve(ie?.authEvent,h,"invalid-auth-event"),{status:W.onEvent(ie.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[h._key()]={manager:W},m.iframes[h._key()]=C,W})()}_isIframeWebStorageSupported(h,m){this.iframes[h._key()].send(yc,{type:yc},W=>{var ie;const Fe=null===(ie=W?.[0])||void 0===ie?void 0:ie[yc];void 0!==Fe&&m(!!Fe),ae(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const m=h._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Ga(I){return Du.apply(this,arguments)}(h)),this.originValidationPromises[m]}get _shouldInitProactively(){return Jn()||Ae()||tt()}};class Vp{constructor(h){this.factorId=h}_process(h,m,C){switch(m.type){case"enroll":return this._finalizeEnroll(h,m.credential,C);case"signin":return this._finalizeSignIn(h,m.credential);default:return fe("unexpected MultiFactorSessionType")}}}class fd extends Vp{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new fd(h)}_finalizeEnroll(h,m,C){return function Lo(I,h){return He(I,"POST","/v2/accounts/mfaEnrollment:finalize",Ne(I,h))}(h,{idToken:m,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,m){return function A(I,h){return He(I,"POST","/v2/accounts/mfaSignIn:finalize",Ne(I,h))}(h,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Up=(()=>{class I{constructor(){}static assertion(m){return fd._fromCredential(m)}}return I.FACTOR_ID="phone",I})();var Oh="@firebase/auth";class gd{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var m=this;return(0,p.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const m=this.auth.onIdTokenChanged(C=>{h(C?.stsTokenManager.accessToken||null)});this.internalListeners.set(h,m),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const m=this.internalListeners.get(h);m&&(this.internalListeners.delete(h),m(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,V.Pz)("authIdTokenMaxAge"),function Il(I){(0,b._registerComponent)(new J.wA("auth",(h,{options:m})=>{const C=h.getProvider("app").getImmediate(),W=h.getProvider("heartbeat"),ie=h.getProvider("app-check-internal"),{apiKey:Fe,authDomain:st}=C.options;ve(Fe&&!Fe.includes(":"),"invalid-api-key",{appName:C.name});const Et={apiKey:Fe,authDomain:st,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qn(I)},Wt=new Ks(C,W,ie,Et);return function po(I,h){const m=h?.persistence||[],C=(Array.isArray(m)?m:[m]).map(Le);h?.errorMap&&I._updateErrorMap(h.errorMap),I._initializeWithPersistence(C,h?.popupRedirectResolver)}(Wt,m),Wt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,m,C)=>{h.getProvider("auth-internal").initialize()})),(0,b._registerComponent)(new J.wA("auth-internal",h=>{const m=Fn(h.getProvider("auth").getImmediate());return new gd(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,b.registerVersion)(Oh,"1.4.0",function Wa(I){switch(I){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(I)),(0,b.registerVersion)(Oh,"1.4.0","esm2017")}("Browser")},9058:(xt,je,U)=>{U.d(je,{BH:()=>me,G6:()=>kt,L:()=>de,LL:()=>dt,Pz:()=>Me,Sg:()=>ge,UG:()=>fe,ZB:()=>Ee,ZR:()=>He,aH:()=>ae,b$:()=>$e,eu:()=>Oe,hl:()=>Se,jU:()=>lt,m9:()=>Xr,ne:()=>Zn,pd:()=>mn,r3:()=>An,ru:()=>bt,tV:()=>ee,uI:()=>ve,vZ:()=>kn,w1:()=>St,xO:()=>er,xb:()=>Nn,z$:()=>Ce,zd:()=>Xt});const Te=function(Re){const re=[];let j=0;for(let N=0;N<Re.length;N++){let L=Re.charCodeAt(N);L<128?re[j++]=L:L<2048?(re[j++]=L>>6|192,re[j++]=63&L|128):55296==(64512&L)&&N+1<Re.length&&56320==(64512&Re.charCodeAt(N+1))?(L=65536+((1023&L)<<10)+(1023&Re.charCodeAt(++N)),re[j++]=L>>18|240,re[j++]=L>>12&63|128,re[j++]=L>>6&63|128,re[j++]=63&L|128):(re[j++]=L>>12|224,re[j++]=L>>6&63|128,re[j++]=63&L|128)}return re},J={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Re,re){if(!Array.isArray(Re))throw Error("encodeByteArray takes an array as a parameter");this.init_();const j=re?this.byteToCharMapWebSafe_:this.byteToCharMap_,N=[];for(let L=0;L<Re.length;L+=3){const he=Re[L],Le=L+1<Re.length,ot=Le?Re[L+1]:0,Nt=L+2<Re.length,_t=Nt?Re[L+2]:0;let Cn=(15&ot)<<2|_t>>6,Ae=63&_t;Nt||(Ae=64,Le||(Cn=64)),N.push(j[he>>2],j[(3&he)<<4|ot>>4],j[Cn],j[Ae])}return N.join("")},encodeString(Re,re){return this.HAS_NATIVE_SUPPORT&&!re?btoa(Re):this.encodeByteArray(Te(Re),re)},decodeString(Re,re){return this.HAS_NATIVE_SUPPORT&&!re?atob(Re):function(Re){const re=[];let j=0,N=0;for(;j<Re.length;){const L=Re[j++];if(L<128)re[N++]=String.fromCharCode(L);else if(L>191&&L<224){const he=Re[j++];re[N++]=String.fromCharCode((31&L)<<6|63&he)}else if(L>239&&L<365){const Nt=((7&L)<<18|(63&Re[j++])<<12|(63&Re[j++])<<6|63&Re[j++])-65536;re[N++]=String.fromCharCode(55296+(Nt>>10)),re[N++]=String.fromCharCode(56320+(1023&Nt))}else{const he=Re[j++],Le=Re[j++];re[N++]=String.fromCharCode((15&L)<<12|(63&he)<<6|63&Le)}}return re.join("")}(this.decodeStringToByteArray(Re,re))},decodeStringToByteArray(Re,re){this.init_();const j=re?this.charToByteMapWebSafe_:this.charToByteMap_,N=[];for(let L=0;L<Re.length;){const he=j[Re.charAt(L++)],ot=L<Re.length?j[Re.charAt(L)]:0;++L;const _t=L<Re.length?j[Re.charAt(L)]:64;++L;const Zt=L<Re.length?j[Re.charAt(L)]:64;if(++L,null==he||null==ot||null==_t||null==Zt)throw new q;N.push(he<<2|ot>>4),64!==_t&&(N.push(ot<<4&240|_t>>2),64!==Zt&&N.push(_t<<6&192|Zt))}return N},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Re=0;Re<this.ENCODED_VALS.length;Re++)this.byteToCharMap_[Re]=this.ENCODED_VALS.charAt(Re),this.charToByteMap_[this.byteToCharMap_[Re]]=Re,this.byteToCharMapWebSafe_[Re]=this.ENCODED_VALS_WEBSAFE.charAt(Re),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Re]]=Re,Re>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Re)]=Re,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Re)]=Re)}}};class q extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const de=function(Re){return function(Re){const re=Te(Re);return J.encodeByteArray(re,!0)}(Re).replace(/\./g,"")},ee=function(Re){try{return J.decodeString(Re,!0)}catch(re){console.error("base64Decode failed: ",re)}return null};function Ee(Re,re){if(!(re instanceof Object))return re;switch(re.constructor){case Date:return new Date(re.getTime());case Object:void 0===Re&&(Re={});break;case Array:Re=[];break;default:return re}for(const j in re)!re.hasOwnProperty(j)||!ze(j)||(Re[j]=Ee(Re[j],re[j]));return Re}function ze(Re){return"__proto__"!==Re}const rt=()=>{try{return function Ze(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Re=process.env.__FIREBASE_DEFAULTS__;return Re?JSON.parse(Re):void 0})()||(()=>{if(typeof document>"u")return;let Re;try{Re=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const re=Re&&ee(Re[1]);return re&&JSON.parse(re)})()}catch(Re){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Re}`)}},ae=()=>{var Re;return null===(Re=rt())||void 0===Re?void 0:Re.config},Me=Re=>{var re;return null===(re=rt())||void 0===re?void 0:re[`_${Re}`]};class me{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((re,j)=>{this.resolve=re,this.reject=j})}wrapCallback(re){return(j,N)=>{j?this.reject(j):this.resolve(N),"function"==typeof re&&(this.promise.catch(()=>{}),1===re.length?re(j):re(j,N))}}}function ge(Re,re){if(Re.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const N=re||"demo-project",L=Re.iat||0,he=Re.sub||Re.user_id;if(!he)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Le=Object.assign({iss:`https://securetoken.google.com/${N}`,aud:N,iat:L,exp:L+3600,auth_time:L,sub:he,user_id:he,firebase:{sign_in_provider:"custom",identities:{}}},Re);return[de(JSON.stringify({alg:"none",type:"JWT"})),de(JSON.stringify(Le)),""].join(".")}function Ce(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ve(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ce())}function fe(){var Re;const re=null===(Re=rt())||void 0===Re?void 0:Re.forceEnvironment;if("node"===re)return!0;if("browser"===re)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function lt(){return"object"==typeof self&&self.self===self}function bt(){const Re="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Re&&void 0!==Re.id}function $e(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function St(){const Re=Ce();return Re.indexOf("MSIE ")>=0||Re.indexOf("Trident/")>=0}function kt(){return!fe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Se(){try{return"object"==typeof indexedDB}catch{return!1}}function Oe(){return new Promise((Re,re)=>{try{let j=!0;const N="validate-browser-context-for-indexeddb-analytics-module",L=self.indexedDB.open(N);L.onsuccess=()=>{L.result.close(),j||self.indexedDB.deleteDatabase(N),Re(!0)},L.onupgradeneeded=()=>{j=!1},L.onerror=()=>{var he;re((null===(he=L.error)||void 0===he?void 0:he.message)||"")}}catch(j){re(j)}})}class He extends Error{constructor(re,j,N){super(j),this.code=re,this.customData=N,this.name="FirebaseError",Object.setPrototypeOf(this,He.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,dt.prototype.create)}}class dt{constructor(re,j,N){this.service=re,this.serviceName=j,this.errors=N}create(re,...j){const N=j[0]||{},L=`${this.service}/${re}`,he=this.errors[re],Le=he?function gt(Re,re){return Re.replace(It,(j,N)=>{const L=re[N];return null!=L?String(L):`<${N}?>`})}(he,N):"Error";return new He(L,`${this.serviceName}: ${Le} (${L}).`,N)}}const It=/\{\$([^}]+)}/g;function An(Re,re){return Object.prototype.hasOwnProperty.call(Re,re)}function Nn(Re){for(const re in Re)if(Object.prototype.hasOwnProperty.call(Re,re))return!1;return!0}function kn(Re,re){if(Re===re)return!0;const j=Object.keys(Re),N=Object.keys(re);for(const L of j){if(!N.includes(L))return!1;const he=Re[L],Le=re[L];if(Hn(he)&&Hn(Le)){if(!kn(he,Le))return!1}else if(he!==Le)return!1}for(const L of N)if(!j.includes(L))return!1;return!0}function Hn(Re){return null!==Re&&"object"==typeof Re}function er(Re){const re=[];for(const[j,N]of Object.entries(Re))Array.isArray(N)?N.forEach(L=>{re.push(encodeURIComponent(j)+"="+encodeURIComponent(L))}):re.push(encodeURIComponent(j)+"="+encodeURIComponent(N));return re.length?"&"+re.join("&"):""}function Xt(Re){const re={};return Re.replace(/^\?/,"").split("&").forEach(N=>{if(N){const[L,he]=N.split("=");re[decodeURIComponent(L)]=decodeURIComponent(he)}}),re}function mn(Re){const re=Re.indexOf("?");if(!re)return"";const j=Re.indexOf("#",re);return Re.substring(re,j>0?j:void 0)}function Zn(Re,re){const j=new vr(Re,re);return j.subscribe.bind(j)}class vr{constructor(re,j){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=j,this.task.then(()=>{re(this)}).catch(N=>{this.error(N)})}next(re){this.forEachObserver(j=>{j.next(re)})}error(re){this.forEachObserver(j=>{j.error(re)}),this.close(re)}complete(){this.forEachObserver(re=>{re.complete()}),this.close()}subscribe(re,j,N){let L;if(void 0===re&&void 0===j&&void 0===N)throw new Error("Missing Observer.");L=function At(Re,re){if("object"!=typeof Re||null===Re)return!1;for(const j of re)if(j in Re&&"function"==typeof Re[j])return!0;return!1}(re,["next","error","complete"])?re:{next:re,error:j,complete:N},void 0===L.next&&(L.next=De),void 0===L.error&&(L.error=De),void 0===L.complete&&(L.complete=De);const he=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?L.error(this.finalError):L.complete()}catch{}}),this.observers.push(L),he}unsubscribeOne(re){void 0===this.observers||void 0===this.observers[re]||(delete this.observers[re],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(re){if(!this.finalized)for(let j=0;j<this.observers.length;j++)this.sendOne(j,re)}sendOne(re,j){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[re])try{j(this.observers[re])}catch(N){typeof console<"u"&&console.error&&console.error(N)}})}close(re){this.finalized||(this.finalized=!0,void 0!==re&&(this.finalError=re),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function De(){}function Xr(Re){return Re&&Re._delegate?Re._delegate:Re}},9445:(xt,je,U)=>{U.d(je,{e:()=>ev});var p=U(4562),V=U(9058),b=U(534),Te=U(7879),$=U(4537),J=U(5619),q=U(5879),ue=U(7213),de=U(3781),ee=U(6814),oe=U(8326),Ee=U(7217),ze=U(6321),Ze=U(5592),ut=U(2459),Xe=U(2096),nt=U(7921),rt=U(9360),Ct=U(8251);function ct(){return(0,rt.e)((i,e)=>{let n,s=!1;i.subscribe((0,Ct.x)(e,l=>{const c=n;n=l,s&&e.next([c,l]),s=!0}))})}var $e,ae=U(7398),Me=U(6699),me=U(3997),ge=U(2181),ve=(U(6365),U(3106)),fe=U(5861),lt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},bt={},Gt=Gt||{},St=lt||self;function gn(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function Dt(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var Se="closure_uid_"+(1e9*Math.random()>>>0),Oe=0;function qe(i,e,n){return i.call.apply(i.bind,arguments)}function Ne(i,e,n){if(!i)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var l=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(l,s),i.apply(e,l)}}return function(){return i.apply(e,arguments)}}function He(i,e,n){return(He=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?qe:Ne).apply(null,arguments)}function dt(i,e){var n=Array.prototype.slice.call(arguments,1);return function(){var s=n.slice();return s.push.apply(s,arguments),i.apply(this,s)}}function gt(i,e){function n(){}n.prototype=e.prototype,i.$=e.prototype,i.prototype=new n,i.prototype.constructor=i,i.ac=function(s,l,c){for(var f=Array(arguments.length-2),D=2;D<arguments.length;D++)f[D-2]=arguments[D];return e.prototype[l].apply(s,f)}}function It(){this.s=this.s,this.o=this.o}It.prototype.s=!1,It.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function kt(i){Object.prototype.hasOwnProperty.call(i,Se)&&i[Se]||(i[Se]=++Oe)}(this)},It.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const nn=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let n=0;n<i.length;n++)if(n in i&&i[n]===e)return n;return-1};function xn(i){const e=i.length;if(0<e){const n=Array(e);for(let s=0;s<e;s++)n[s]=i[s];return n}return[]}function dn(i,e){for(let n=1;n<arguments.length;n++){const s=arguments[n];if(gn(s)){const l=i.length||0,c=s.length||0;i.length=l+c;for(let f=0;f<c;f++)i[l+f]=s[f]}else i.push(s)}}function hn(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}hn.prototype.h=function(){this.defaultPrevented=!0};var zn=function(){if(!St.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{St.addEventListener("test",()=>{},e),St.removeEventListener("test",()=>{},e)}catch{}return i}();function On(i){return/^[\s\xa0]*$/.test(i)}function An(){var i=St.navigator;return i&&(i=i.userAgent)?i:""}function Vt(i){return-1!=An().indexOf(i)}function Nn(i){return Nn[" "](i),i}Nn[" "]=function(){};var Zn,i,kn=Vt("Opera"),Hn=Vt("Trident")||Vt("MSIE"),Mr=Vt("Edge"),er=Mr||Hn,Xt=Vt("Gecko")&&!(-1!=An().toLowerCase().indexOf("webkit")&&!Vt("Edge"))&&!(Vt("Trident")||Vt("MSIE"))&&!Vt("Edge"),mn=-1!=An().toLowerCase().indexOf("webkit")&&!Vt("Edge");function Qt(){var i=St.document;return i?i.documentMode:void 0}e:{var vr="",Ye=(i=An(),Xt?/rv:([^\);]+)(\)|;)/.exec(i):Mr?/Edge\/([\d\.]+)/.exec(i):Hn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):mn?/WebKit\/(\S+)/.exec(i):kn?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Ye&&(vr=Ye?Ye[1]:""),Hn){var At=Qt();if(null!=At&&At>parseFloat(vr)){Zn=String(At);break e}}Zn=vr}var at=St.document&&Hn&&(Qt()||parseInt(Zn,10))||void 0;function Ot(i,e){if(hn.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var n=this.type=i.type,s=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(Xt){e:{try{Nn(e.nodeName);var l=!0;break e}catch{}l=!1}l||(e=null)}}else"mouseover"==n?e=i.fromElement:"mouseout"==n&&(e=i.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Mt[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Ot.$.h.call(this)}}gt(Ot,hn);var Mt={2:"touch",3:"pen",4:"mouse"};Ot.prototype.h=function(){Ot.$.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var cn="closure_listenable_"+(1e6*Math.random()|0),wn=0;function xr(i,e,n,s,l){this.listener=i,this.proxy=null,this.src=e,this.type=n,this.capture=!!s,this.la=l,this.key=++wn,this.fa=this.ia=!1}function Qr(i){i.fa=!0,i.listener=null,i.proxy=null,i.src=null,i.la=null}function Gn(i,e,n){for(const s in i)e.call(n,i[s],s,i)}function Vr(i){const e={};for(const n in i)e[n]=i[n];return e}const Jr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $r(i,e){let n,s;for(let l=1;l<arguments.length;l++){for(n in s=arguments[l],s)i[n]=s[n];for(let c=0;c<Jr.length;c++)n=Jr[c],Object.prototype.hasOwnProperty.call(s,n)&&(i[n]=s[n])}}function Or(i){this.src=i,this.g={},this.h=0}function Tr(i,e){var n=e.type;if(n in i.g){var c,s=i.g[n],l=nn(s,e);(c=0<=l)&&Array.prototype.splice.call(s,l,1),c&&(Qr(e),0==i.g[n].length&&(delete i.g[n],i.h--))}}function Xr(i,e,n,s){for(var l=0;l<i.length;++l){var c=i[l];if(!c.fa&&c.listener==e&&c.capture==!!n&&c.la==s)return l}return-1}Or.prototype.add=function(i,e,n,s,l){var c=i.toString();(i=this.g[c])||(i=this.g[c]=[],this.h++);var f=Xr(i,e,s,l);return-1<f?(e=i[f],n||(e.ia=!1)):((e=new xr(e,this.src,c,!!s,l)).ia=n,i.push(e)),e};var Re="closure_lm_"+(1e6*Math.random()|0),re={};function j(i,e,n,s,l){if(s&&s.once)return he(i,e,n,s,l);if(Array.isArray(e)){for(var c=0;c<e.length;c++)j(i,e[c],n,s,l);return null}return n=Cn(n),i&&i[cn]?i.O(e,n,Dt(s)?!!s.capture:!!s,l):N(i,e,n,!1,s,l)}function N(i,e,n,s,l,c){if(!e)throw Error("Invalid event type");var f=Dt(l)?!!l.capture:!!l,D=rn(i);if(D||(i[Re]=D=new Or(i)),(n=D.add(e,n,s,f,c)).proxy)return n;if(s=function L(){const e=_t;return function i(n){return e.call(i.src,i.listener,n)}}(),n.proxy=s,s.src=i,s.listener=n,i.addEventListener)zn||(l=f),void 0===l&&(l=!1),i.addEventListener(e.toString(),s,l);else if(i.attachEvent)i.attachEvent(Nt(e.toString()),s);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(s)}return n}function he(i,e,n,s,l){if(Array.isArray(e)){for(var c=0;c<e.length;c++)he(i,e[c],n,s,l);return null}return n=Cn(n),i&&i[cn]?i.P(e,n,Dt(s)?!!s.capture:!!s,l):N(i,e,n,!0,s,l)}function Le(i,e,n,s,l){if(Array.isArray(e))for(var c=0;c<e.length;c++)Le(i,e[c],n,s,l);else s=Dt(s)?!!s.capture:!!s,n=Cn(n),i&&i[cn]?(i=i.i,(e=String(e).toString())in i.g&&-1<(n=Xr(c=i.g[e],n,s,l))&&(Qr(c[n]),Array.prototype.splice.call(c,n,1),0==c.length&&(delete i.g[e],i.h--))):i&&(i=rn(i))&&(e=i.g[e.toString()],i=-1,e&&(i=Xr(e,n,s,l)),(n=-1<i?e[i]:null)&&ot(n))}function ot(i){if("number"!=typeof i&&i&&!i.fa){var e=i.src;if(e&&e[cn])Tr(e.i,i);else{var n=i.type,s=i.proxy;e.removeEventListener?e.removeEventListener(n,s,i.capture):e.detachEvent?e.detachEvent(Nt(n),s):e.addListener&&e.removeListener&&e.removeListener(s),(n=rn(e))?(Tr(n,i),0==n.h&&(n.src=null,e[Re]=null)):Qr(i)}}}function Nt(i){return i in re?re[i]:re[i]="on"+i}function _t(i,e){if(i.fa)i=!0;else{e=new Ot(e,this);var n=i.listener,s=i.la||i.src;i.ia&&ot(i),i=n.call(s,e)}return i}function rn(i){return(i=i[Re])instanceof Or?i:null}var Zt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Cn(i){return"function"==typeof i?i:(i[Zt]||(i[Zt]=function(e){return i.handleEvent(e)}),i[Zt])}function Ae(){It.call(this),this.i=new Or(this),this.S=this,this.J=null}function Ie(i,e){var n,s=i.J;if(s)for(n=[];s;s=s.J)n.push(s);if(i=i.S,s=e.type||e,"string"==typeof e)e=new hn(e,i);else if(e instanceof hn)e.target=e.target||i;else{var l=e;$r(e=new hn(s,i),l)}if(l=!0,n)for(var c=n.length-1;0<=c;c--){var f=e.g=n[c];l=xe(f,s,!0,e)&&l}if(l=xe(f=e.g=i,s,!0,e)&&l,l=xe(f,s,!1,e)&&l,n)for(c=0;c<n.length;c++)l=xe(f=e.g=n[c],s,!1,e)&&l}function xe(i,e,n,s){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var l=!0,c=0;c<e.length;++c){var f=e[c];if(f&&!f.fa&&f.capture==n){var D=f.listener,M=f.la||f.src;f.ia&&Tr(i.i,f),l=!1!==D.call(M,s)&&l}}return l&&!s.defaultPrevented}gt(Ae,It),Ae.prototype[cn]=!0,Ae.prototype.removeEventListener=function(i,e,n,s){Le(this,i,e,n,s)},Ae.prototype.N=function(){if(Ae.$.N.call(this),this.i){var e,i=this.i;for(e in i.g){for(var n=i.g[e],s=0;s<n.length;s++)Qr(n[s]);delete i.g[e],i.h--}}this.J=null},Ae.prototype.O=function(i,e,n,s){return this.i.add(String(i),e,!1,n,s)},Ae.prototype.P=function(i,e,n,s){return this.i.add(String(i),e,!0,n,s)};var ye=St.JSON.stringify;function Be(){var i=ei;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var mt=new class we{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new wt,i=>i.reset());class wt{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function sn(i){var e=1;i=i.split(":");const n=[];for(;0<e&&i.length;)n.push(i.shift()),e--;return i.length&&n.push(i.join(":")),n}function Jn(i){St.setTimeout(()=>{throw i},0)}let Vn,qn=!1,ei=new class tt{constructor(){this.h=this.g=null}add(e,n){const s=mt.get();s.set(e,n),this.h?this.h.next=s:this.g=s,this.h=s}},yi=()=>{const i=St.Promise.resolve(void 0);Vn=()=>{i.then(tr)}};var tr=()=>{for(var i;i=Be();){try{i.h.call(i.g)}catch(n){Jn(n)}var e=mt;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}qn=!1};function ur(i,e){Ae.call(this),this.h=i||1,this.g=e||St,this.j=He(this.qb,this),this.l=Date.now()}function ti(i){i.ga=!1,i.T&&(i.g.clearTimeout(i.T),i.T=null)}function Ks(i,e,n){if("function"==typeof i)n&&(i=He(i,n));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=He(i.handleEvent,i)}return 2147483647<Number(e)?-1:St.setTimeout(i,e||0)}function Fn(i){i.g=Ks(()=>{i.g=null,i.i&&(i.i=!1,Fn(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}gt(ur,Ae),($e=ur.prototype).ga=!1,$e.T=null,$e.qb=function(){if(this.ga){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-i):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ie(this,"tick"),this.ga&&(ti(this),this.start()))}},$e.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},$e.N=function(){ur.$.N.call(this),ti(this),delete this.g};class rs extends It{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Fn(this)}N(){super.N(),this.g&&(St.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Sr(i){It.call(this),this.h=i,this.g={}}gt(Sr,It);var ji=[];function Zs(i,e,n,s){Array.isArray(n)||(n&&(ji[0]=n.toString()),n=ji);for(var l=0;l<n.length;l++){var c=j(e,n[l],s||i.handleEvent,!1,i.h||i);if(!c)break;i.g[c.key]=c}}function wo(i){Gn(i.g,function(e,n){this.g.hasOwnProperty(n)&&ot(e)},i),i.g={}}function $o(){this.g=!0}function xi(i,e,n,s){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Fs(i,e){if(!i.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(i=0;i<n.length;i++)if(Array.isArray(n[i])){var s=n[i];if(!(2>s.length)){var l=s[1];if(Array.isArray(l)&&!(1>l.length)){var c=l[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var f=1;f<l.length;f++)l[f]=""}}}return ye(n)}catch{return e}}(i,n)+(s?" "+s:"")})}Sr.prototype.N=function(){Sr.$.N.call(this),wo(this)},Sr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},$o.prototype.Ea=function(){this.g=!1},$o.prototype.info=function(){};var ii={},fo=null;function Ii(){return fo=fo||new Ae}function gs(i){hn.call(this,ii.Ta,i)}function po(i){const e=Ii();Ie(e,new gs(e))}function zi(i,e){hn.call(this,ii.STAT_EVENT,i),this.stat=e}function Ei(i){const e=Ii();Ie(e,new zi(e,i))}function zo(i,e){hn.call(this,ii.Ua,i),this.size=e}function Ys(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return St.setTimeout(function(){i()},e)}ii.Ta="serverreachability",gt(gs,hn),ii.STAT_EVENT="statevent",gt(zi,hn),ii.Ua="timingevent",gt(zo,hn);var mo={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},bs={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function go(){}function Co(){}go.prototype.h=null;var zr,Vs={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ln(){hn.call(this,"d")}function wr(){hn.call(this,"c")}function Oi(){}function hi(i,e,n,s){this.l=i,this.j=e,this.m=n,this.W=s||1,this.U=new Sr(this),this.P=so,this.V=new ur(i=er?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new _s}function _s(){this.i=null,this.g="",this.h=!1}gt(Ln,hn),gt(wr,hn),gt(Oi,go),Oi.prototype.g=function(){return new XMLHttpRequest},Oi.prototype.i=function(){return{}},zr=new Oi;var so=45e3,is={},Js={};function bi(i,e,n){i.L=1,i.v=Gi(wi(e)),i.s=n,i.S=!0,or(i,null)}function or(i,e){i.G=Date.now(),Dr(i),i.A=wi(i.v);var n=i.A,s=i.W;Array.isArray(s)||(s=[String(s)]),vs(n.i,"t",s),i.C=0,n=i.l.J,i.h=new _s,i.g=Z(i.l,n?e:null,!i.s),0<i.O&&(i.M=new rs(He(i.Pa,i,i.g),i.O)),Zs(i.U,i.g,"readystatechange",i.nb),e=i.I?Vr(i.I):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ha(i.A,i.u,i.s,e)):(i.u="GET",i.g.ha(i.A,i.u,null,e)),po(),function $i(i,e,n,s,l,c){i.info(function(){if(i.g)if(c)for(var f="",D=c.split("&"),M=0;M<D.length;M++){var z=D[M].split("=");if(1<z.length){var X=z[0];z=z[1];var pe=X.split("_");f=2<=pe.length&&"type"==pe[1]?f+(X+"=")+z+"&":f+(X+"=redacted&")}}else f=null;else f=c;return"XMLHTTP REQ ("+s+") [attempt "+l+"]: "+e+"\n"+n+"\n"+f})}(i.j,i.u,i.A,i.m,i.W,i.s)}function Lt(i){return!!i.g&&"GET"==i.u&&2!=i.L&&i.l.Ha}function _n(i,e,n){let l,s=!0;for(;!i.J&&i.C<n.length;){if(l=cr(i,n),l==Js){4==e&&(i.o=4,Ei(14),s=!1),xi(i.j,i.m,null,"[Incomplete Response]");break}if(l==is){i.o=4,Ei(15),xi(i.j,i.m,n,"[Invalid Chunk]"),s=!1;break}xi(i.j,i.m,l,null),Di(i,l)}Lt(i)&&l!=Js&&l!=is&&(i.h.g="",i.C=0),4!=e||0!=n.length||i.h.h||(i.o=1,Ei(16),s=!1),i.i=i.i&&s,s?0<n.length&&!i.ba&&(i.ba=!0,(e=i.l).g==i&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Oo(e),e.M=!0,Ei(11))):(xi(i.j,i.m,n,"[Invalid Chunked Response]"),ar(i),Ni(i))}function cr(i,e){var n=i.C,s=e.indexOf("\n",n);return-1==s?Js:(n=Number(e.substring(n,s)),isNaN(n)?is:(s+=1)+n>e.length?Js:(e=e.slice(s,s+n),i.C=s+n,e))}function Dr(i){i.Y=Date.now()+i.P,Zi(i,i.P)}function Zi(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Ys(He(i.lb,i),e)}function Gr(i){i.B&&(St.clearTimeout(i.B),i.B=null)}function Ni(i){0==i.l.H||i.J||Hl(i.l,i)}function ar(i){Gr(i);var e=i.M;e&&"function"==typeof e.sa&&e.sa(),i.M=null,ti(i.V),wo(i.U),i.g&&(e=i.g,i.g=null,e.abort(),e.sa())}function Di(i,e){try{var n=i.l;if(0!=n.H&&(n.g==i||Do(n.i,i)))if(!i.K&&Do(n.i,i)&&3==n.H){try{var s=n.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&3==s.length){var l=s;if(0==l[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<i.G))break e;Ko(n),Ro(n)}zs(n),Ei(18)}}else n.Fa=l[1],0<n.Fa-n.V&&37500>l[2]&&n.G&&0==n.A&&!n.v&&(n.v=Ys(He(n.ib,n),6e3));if(1>=bo(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Rs(n,11)}else if((i.K||n.g==i)&&Ko(n),!On(e))for(l=n.Ja.g.parse(e),e=0;e<l.length;e++){let z=l[e];if(n.V=z[0],z=z[1],2==n.H)if("c"==z[0]){n.K=z[1],n.pa=z[2];const X=z[3];null!=X&&(n.ra=X,n.l.info("VER="+n.ra));const pe=z[4];null!=pe&&(n.Ga=pe,n.l.info("SVER="+n.Ga));const ke=z[5];null!=ke&&"number"==typeof ke&&0<ke&&(n.L=s=1.5*ke,n.l.info("backChannelRequestTimeoutMs_="+s)),s=n;const Je=i.g;if(Je){const Rt=Je.g?Je.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Rt){var c=s.i;c.g||-1==Rt.indexOf("spdy")&&-1==Rt.indexOf("quic")&&-1==Rt.indexOf("h2")||(c.j=c.l,c.g=new Set,c.h&&(li(c,c.h),c.h=null))}if(s.F){const Ut=Je.g?Je.g.getResponseHeader("X-HTTP-Session-Id"):null;Ut&&(s.Da=Ut,hr(s.I,s.F,Ut))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-i.G,n.l.info("Handshake RTT: "+n.S+"ms"));var f=i;if((s=n).wa=Ua(s,s.J?s.pa:null,s.Y),f.K){Ao(s.i,f);var D=f,M=s.L;M&&D.setTimeout(M),D.B&&(Gr(D),Dr(D)),s.g=f}else vo(s);0<n.j.length&&yo(n)}else"stop"!=z[0]&&"close"!=z[0]||Rs(n,7);else 3==n.H&&("stop"==z[0]||"close"==z[0]?"stop"==z[0]?Rs(n,7):Ps(n):"noop"!=z[0]&&n.h&&n.h.Aa(z),n.A=0)}po()}catch{}}function os(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(gn(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var n=function on(i){if(i.ta&&"function"==typeof i.ta)return i.ta();if(!i.Z||"function"!=typeof i.Z){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(gn(i)||"string"==typeof i){var e=[];i=i.length;for(var n=0;n<i;n++)e.push(n);return e}e=[],n=0;for(const s in i)e[n++]=s;return e}}}(i),s=function ss(i){if(i.Z&&"function"==typeof i.Z)return i.Z();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(gn(i)){for(var e=[],n=i.length,s=0;s<n;s++)e.push(i[s]);return e}for(s in e=[],n=0,i)e[n++]=i[s];return e}(i),l=s.length,c=0;c<l;c++)e.call(void 0,s[c],n&&n[c],i)}($e=hi.prototype).setTimeout=function(i){this.P=i},$e.nb=function(i){i=i.target;const e=this.M;e&&3==Pr(i)?e.l():this.Pa(i)},$e.Pa=function(i){try{if(i==this.g)e:{const X=Pr(this.g);var e=this.g.Ia();if(this.g.da(),!(3>X)&&(3!=X||er||this.g&&(this.h.h||this.g.ja()||_o(this.g)))){this.J||4!=X||7==e||po(),Gr(this);var n=this.g.da();this.ca=n;t:if(Lt(this)){var s=_o(this.g);i="";var l=s.length,c=4==Pr(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ar(this),Ni(this);var f="";break t}this.h.i=new St.TextDecoder}for(e=0;e<l;e++)this.h.h=!0,i+=this.h.i.decode(s[e],{stream:c&&e==l-1});s.splice(0,l),this.h.g+=i,this.C=0,f=this.h.g}else f=this.g.ja();if(this.i=200==n,function Ls(i,e,n,s,l,c,f){i.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+l+"]: "+e+"\n"+n+"\n"+c+" "+f})}(this.j,this.u,this.A,this.m,this.W,X,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var D,M=this.g;if((D=M.g?M.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!On(D)){var z=D;break t}}z=null}if(!(n=z)){this.i=!1,this.o=3,Ei(12),ar(this),Ni(this);break e}xi(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Di(this,n)}this.S?(_n(this,X,f),er&&this.i&&3==X&&(Zs(this.U,this.V,"tick",this.mb),this.V.start())):(xi(this.j,this.m,f,null),Di(this,f)),4==X&&ar(this),this.i&&!this.J&&(4==X?Hl(this.l,this):(this.i=!1,Dr(this)))}else(function Si(i){const e={};i=(i.g&&2<=Pr(i)&&i.g.getAllResponseHeaders()||"").split("\r\n");for(let s=0;s<i.length;s++){if(On(i[s]))continue;var n=sn(i[s]);const l=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const c=e[l]||[];e[l]=c,c.push(n)}!function ir(i,e){for(const n in i)e.call(void 0,i[n],n,i)}(e,function(s){return s.join(", ")})})(this.g),400==n&&0<f.indexOf("Unknown SID")?(this.o=3,Ei(12)):(this.o=0,Ei(13)),ar(this),Ni(this)}}}catch{}},$e.mb=function(){if(this.g){var i=Pr(this.g),e=this.g.ja();this.C<e.length&&(Gr(this),_n(this,i,e),this.i&&4!=i&&Dr(this))}},$e.cancel=function(){this.J=!0,ar(this)},$e.lb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function vi(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(po(),Ei(17)),ar(this),this.o=2,Ni(this)):Zi(this,this.Y-i)};var Ds=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function dr(i){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof dr){this.h=i.h,Us(this,i.j),this.s=i.s,this.g=i.g,si(this,i.m),this.l=i.l;var e=i.i,n=new oi;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Bs(this,n),this.o=i.o}else i&&(e=String(i).match(Ds))?(this.h=!1,Us(this,e[1]||"",!0),this.s=Ci(e[2]||""),this.g=Ci(e[3]||"",!0),si(this,e[4]),this.l=Ci(e[5]||"",!0),Bs(this,e[6]||"",!0),this.o=Ci(e[7]||"")):(this.h=!1,this.i=new oi(null,this.h))}function wi(i){return new dr(i)}function Us(i,e,n){i.j=n?Ci(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function si(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function Bs(i,e,n){e instanceof oi?(i.i=e,function Br(i,e){e&&!i.j&&(pi(i),i.i=null,i.g.forEach(function(n,s){var l=s.toLowerCase();s!=l&&(as(this,s),vs(this,l,n))},i)),i.j=e}(i.i,i.h)):(n||(e=fi(e,Va)),i.i=new oi(e,i.h))}function hr(i,e,n){i.i.set(e,n)}function Gi(i){return hr(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Ci(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function fi(i,e,n){return"string"==typeof i?(i=encodeURI(i).replace(e,Wi),n&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function Wi(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}dr.prototype.toString=function(){var i=[],e=this.j;e&&i.push(fi(e,Wn,!0),":");var n=this.g;return(n||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(fi(e,Wn,!0),"@"),i.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&i.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&i.push("/"),i.push(fi(n,"/"==n.charAt(0)?ys:ya,!0))),(n=this.i.toString())&&i.push("?",n),(n=this.o)&&i.push("#",fi(n,ki)),i.join("")};var Wn=/[#\/\?@]/g,ya=/[#\?:]/g,ys=/[#\?]/g,Va=/[#\?@]/g,ki=/#/g;function oi(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function pi(i){i.g||(i.g=new Map,i.h=0,i.i&&function Ti(i,e){if(i){i=i.split("&");for(var n=0;n<i.length;n++){var s=i[n].indexOf("="),l=null;if(0<=s){var c=i[n].substring(0,s);l=i[n].substring(s+1)}else c=i[n];e(c,l?decodeURIComponent(l.replace(/\+/g," ")):"")}}}(i.i,function(e,n){i.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function as(i,e){pi(i),e=Ur(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function ai(i,e){return pi(i),e=Ur(i,e),i.g.has(e)}function vs(i,e,n){as(i,e),0<n.length&&(i.i=null,i.g.set(Ur(i,e),xn(n)),i.h+=n.length)}function Ur(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function Hs(i){this.l=i||ls,i=St.PerformanceNavigationTiming?0<(i=St.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(St.g&&St.g.Ka&&St.g.Ka()&&St.g.Ka().dc),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}($e=oi.prototype).add=function(i,e){pi(this),this.i=null,i=Ur(this,i);var n=this.g.get(i);return n||this.g.set(i,n=[]),n.push(e),this.h+=1,this},$e.forEach=function(i,e){pi(this),this.g.forEach(function(n,s){n.forEach(function(l){i.call(e,l,s,this)},this)},this)},$e.ta=function(){pi(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let s=0;s<e.length;s++){const l=i[s];for(let c=0;c<l.length;c++)n.push(e[s])}return n},$e.Z=function(i){pi(this);let e=[];if("string"==typeof i)ai(this,i)&&(e=e.concat(this.g.get(Ur(this,i))));else{i=Array.from(this.g.values());for(let n=0;n<i.length;n++)e=e.concat(i[n])}return e},$e.set=function(i,e){return pi(this),this.i=null,ai(this,i=Ur(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},$e.get=function(i,e){return i&&0<(i=this.Z(i)).length?String(i[0]):e},$e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var s=e[n];const c=encodeURIComponent(String(s)),f=this.Z(s);for(s=0;s<f.length;s++){var l=c;""!==f[s]&&(l+="="+encodeURIComponent(String(f[s]))),i.push(l)}}return this.i=i.join("&")};var ls=10;function us(i){return!!i.h||!!i.g&&i.g.size>=i.j}function bo(i){return i.h?1:i.g?i.g.size:0}function Do(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function li(i,e){i.g?i.g.add(e):i.h=e}function Ao(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function va(i){if(null!=i.h)return i.i.concat(i.h.F);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const n of i.g.values())e=e.concat(n.F);return e}return xn(i.i)}Hs.prototype.cancel=function(){if(this.i=va(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}};var Go=class{stringify(i){return St.JSON.stringify(i,void 0)}parse(i){return St.JSON.parse(i,void 0)}};function js(){this.g=new Go}function Ai(i,e,n){const s=n||"";try{os(i,function(l,c){let f=l;Dt(l)&&(f=ye(l)),e.push(s+c+"="+encodeURIComponent(f))})}catch(l){throw e.push(s+"type="+encodeURIComponent("_badmap")),l}}function Ia(i,e,n,s,l){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,l(s)}catch{}}function lr(i){this.l=i.ec||null,this.j=i.ob||!1}function As(i,e){Ae.call(this),this.F=i,this.u=e,this.m=void 0,this.readyState=sa,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}gt(lr,go),lr.prototype.g=function(){return new As(this.l,this.j)},lr.prototype.i=function(i){return function(){return i}}({}),gt(As,Ae);var sa=0;function G(i){i.j.read().then(i.Xa.bind(i)).catch(i.ka.bind(i))}function K(i){i.readyState=4,i.l=null,i.j=null,i.A=null,O(i)}function O(i){i.onreadystatechange&&i.onreadystatechange.call(i)}($e=As.prototype).open=function(i,e){if(this.readyState!=sa)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,O(this)},$e.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.F||St).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},$e.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,K(this)),this.readyState=sa},$e.$a=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,O(this)),this.g&&(this.readyState=3,O(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof St.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;G(this)}else i.text().then(this.Za.bind(this),this.ka.bind(this))},$e.Xa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?K(this):O(this),3==this.readyState&&G(this)}},$e.Za=function(i){this.g&&(this.response=this.responseText=i,K(this))},$e.Ya=function(i){this.g&&(this.response=i,K(this))},$e.ka=function(){this.g&&K(this)},$e.setRequestHeader=function(i,e){this.v.append(i,e)},$e.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},$e.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var n=e.next();!n.done;)i.push((n=n.value)[0]+": "+n[1]),n=e.next();return i.join("\r\n")},Object.defineProperty(As.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var se=St.JSON.parse;function be(i){Ae.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Jt,this.L=this.M=!1}gt(be,Ae);var Jt="",Tn=/^https?$/i,Li=["POST","PUT"];function Fi(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,Yi(i),$s(i)}function Yi(i){i.F||(i.F=!0,Ie(i,"complete"),Ie(i,"error"))}function Vi(i){if(i.h&&typeof Gt<"u"&&(!i.C[1]||4!=Pr(i)||2!=i.da()))if(i.v&&4==Pr(i))Ks(i.La,0,i);else if(Ie(i,"readystatechange"),4==Pr(i)){i.h=!1;try{const f=i.da();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var s;if(s=0===f){var l=String(i.I).match(Ds)[1]||null;!l&&St.self&&St.self.location&&(l=St.self.location.protocol.slice(0,-1)),s=!Tn.test(l?l.toLowerCase():"")}n=s}if(n)Ie(i,"complete"),Ie(i,"success");else{i.m=6;try{var c=2<Pr(i)?i.g.statusText:""}catch{c=""}i.j=c+" ["+i.da()+"]",Yi(i)}}finally{$s(i)}}}function $s(i,e){if(i.g){oo(i);const n=i.g,s=i.C[0]?()=>{}:null;i.g=null,i.C=null,e||Ie(i,"ready");try{n.onreadystatechange=s}catch{}}}function oo(i){i.g&&i.L&&(i.g.ontimeout=null),i.A&&(St.clearTimeout(i.A),i.A=null)}function Pr(i){return i.g?i.g.readyState:0}function _o(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.K){case Jt:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function Po(i){let e="";return Gn(i,function(n,s){e+=s,e+=":",e+=n,e+="\r\n"}),e}function Wo(i,e,n){e:{for(s in n){var s=!1;break e}s=!0}s||(n=Po(n),"string"==typeof i?null!=n&&encodeURIComponent(String(n)):hr(i,e,n))}function Xs(i,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[i]||e}function qo(i){this.Ga=0,this.j=[],this.l=new $o,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Xs("failFast",!1,i),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Xs("baseRetryDelayMs",5e3,i),this.hb=Xs("retryDelaySeedMs",1e4,i),this.eb=Xs("forwardChannelMaxRetries",2,i),this.xa=Xs("forwardChannelRequestTimeoutMs",2e4,i),this.va=i&&i.xmlHttpFactory||void 0,this.Ha=i&&i.useFetchStreams||!1,this.L=void 0,this.J=i&&i.supportsCrossDomainXhr||!1,this.K="",this.i=new Hs(i&&i.concurrentRequestLimit),this.Ja=new js,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=i&&i.bc||!1,i&&i.Ea&&this.l.Ea(),i&&i.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&i&&i.detectBufferingProxy||!1,this.qa=void 0,i&&i.longPollingTimeout&&0<i.longPollingTimeout&&(this.qa=i.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Ps(i){if(Is(i),3==i.H){var e=i.W++,n=wi(i.I);if(hr(n,"SID",i.K),hr(n,"RID",e),hr(n,"TYPE","terminate"),Mo(i,n),(e=new hi(i,i.l,e)).L=2,e.v=Gi(wi(n)),n=!1,St.navigator&&St.navigator.sendBeacon)try{n=St.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&St.Image&&((new Image).src=e.v,n=!0),n||(e.g=Z(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Dr(e)}jl(i)}function Ro(i){i.g&&(Oo(i),i.g.cancel(),i.g=null)}function Is(i){Ro(i),i.u&&(St.clearTimeout(i.u),i.u=null),Ko(i),i.i.cancel(),i.m&&("number"==typeof i.m&&St.clearTimeout(i.m),i.m=null)}function yo(i){if(!us(i.i)&&!i.m){i.m=!0;var e=i.Na;Vn||yi(),qn||(Vn(),qn=!0),ei.add(e,i),i.C=0}}function sl(i,e){var n;n=e?e.m:i.W++;const s=wi(i.I);hr(s,"SID",i.K),hr(s,"RID",n),hr(s,"AID",i.V),Mo(i,s),i.o&&i.s&&Wo(s,i.o,i.s),n=new hi(i,i.l,n,i.C+1),null===i.o&&(n.I=i.s),e&&(i.j=e.F.concat(i.j)),e=xo(i,n,1e3),n.setTimeout(Math.round(.5*i.xa)+Math.round(.5*i.xa*Math.random())),li(i.i,n),bi(n,s,e)}function Mo(i,e){i.na&&Gn(i.na,function(n,s){hr(e,s,n)}),i.h&&os({},function(n,s){hr(e,s,n)})}function xo(i,e,n){n=Math.min(i.j.length,n);var s=i.h?He(i.h.Va,i.h,i):null;e:{var l=i.j;let c=-1;for(;;){const f=["count="+n];-1==c?0<n?(c=l[0].g,f.push("ofs="+c)):c=0:f.push("ofs="+c);let D=!0;for(let M=0;M<n;M++){let z=l[M].g;const X=l[M].map;if(z-=c,0>z)c=Math.max(0,l[M].g-100),D=!1;else try{Ai(X,f,"req"+z+"_")}catch{s&&s(X)}}if(D){s=f.join("&");break e}}}return i=i.j.splice(0,n),e.F=i,s}function vo(i){if(!i.g&&!i.u){i.ba=1;var e=i.Ma;Vn||yi(),qn||(Vn(),qn=!0),ei.add(e,i),i.A=0}}function zs(i){return!(i.g||i.u||3<=i.A||(i.ba++,i.u=Ys(He(i.Ma,i),al(i,i.A)),i.A++,0))}function Oo(i){null!=i.B&&(St.clearTimeout(i.B),i.B=null)}function ol(i){i.g=new hi(i,i.l,"rpc",i.ba),null===i.o&&(i.g.I=i.s),i.g.O=0;var e=wi(i.wa);hr(e,"RID","rpc"),hr(e,"SID",i.K),hr(e,"AID",i.V),hr(e,"CI",i.G?"0":"1"),!i.G&&i.qa&&hr(e,"TO",i.qa),hr(e,"TYPE","xmlhttp"),Mo(i,e),i.o&&i.s&&Wo(e,i.o,i.s),i.L&&i.g.setTimeout(i.L);var n=i.g;i=i.pa,n.L=1,n.v=Gi(wi(e)),n.s=null,n.S=!0,or(n,i)}function Ko(i){null!=i.v&&(St.clearTimeout(i.v),i.v=null)}function Hl(i,e){var n=null;if(i.g==e){Ko(i),Oo(i),i.g=null;var s=2}else{if(!Do(i.i,e))return;n=e.F,Ao(i.i,e),s=1}if(0!=i.H)if(e.i)if(1==s){n=e.s?e.s.length:0,e=Date.now()-e.G;var l=i.C;Ie(s=Ii(),new zo(s,n)),yo(i)}else vo(i);else if(3==(l=e.o)||0==l&&0<e.ca||!(1==s&&function Ea(i,e){return!(bo(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.j=e.F.concat(i.j),0):1==i.H||2==i.H||i.C>=(i.cb?0:i.eb)||(i.m=Ys(He(i.Na,i,e),al(i,i.C)),i.C++,0)))}(i,e)||2==s&&zs(i)))switch(n&&0<n.length&&(e=i.i,e.i=e.i.concat(n)),l){case 1:Rs(i,5);break;case 4:Rs(i,10);break;case 3:Rs(i,6);break;default:Rs(i,2)}}function al(i,e){let n=i.ab+Math.floor(Math.random()*i.hb);return i.isActive()||(n*=2),n*e}function Rs(i,e){if(i.l.info("Error code "+e),2==e){var n=null;i.h&&(n=null);var s=He(i.pb,i);n||(n=new dr("//www.google.com/images/cleardot.gif"),St.location&&"http"==St.location.protocol||Us(n,"https"),Gi(n)),function So(i,e){const n=new $o;if(St.Image){const s=new Image;s.onload=dt(Ia,n,s,"TestLoadImage: loaded",!0,e),s.onerror=dt(Ia,n,s,"TestLoadImage: error",!1,e),s.onabort=dt(Ia,n,s,"TestLoadImage: abort",!1,e),s.ontimeout=dt(Ia,n,s,"TestLoadImage: timeout",!1,e),St.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=i}else e(!1)}(n.toString(),s)}else Ei(2);i.H=0,i.h&&i.h.za(e),jl(i),Is(i)}function jl(i){if(i.H=0,i.ma=[],i.h){const e=va(i.i);(0!=e.length||0!=i.j.length)&&(dn(i.ma,e),dn(i.ma,i.j),i.i.i.length=0,xn(i.j),i.j.length=0),i.h.ya()}}function Ua(i,e,n){var s=n instanceof dr?wi(n):new dr(n);if(""!=s.g)e&&(s.g=e+"."+s.g),si(s,s.m);else{var l=St.location;s=l.protocol,e=e?e+"."+l.hostname:l.hostname,l=+l.port;var c=new dr(null);s&&Us(c,s),e&&(c.g=e),l&&si(c,l),n&&(c.l=n),s=c}return e=i.Da,(n=i.F)&&e&&hr(s,n,e),hr(s,"VER",i.ra),Mo(i,s),s}function Z(i,e,n){if(e&&!i.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new be(n&&i.Ha&&!i.va?new lr({ob:!0}):i.va)).Oa(i.J),e}function y(){}function E(){if(Hn&&!(10<=Number(at)))throw Error("Environmental error: no available transport.")}function x(i,e){Ae.call(this),this.g=new qo(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(i?i["X-WebChannel-Client-Profile"]=e.Ca:i={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=i,(i=e&&e.cc)&&!On(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!On(e)&&(this.g.F=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new Pe(this)}function Y(i){Ln.call(this),i.__headers__&&(this.headers=i.__headers__,this.statusCode=i.__status__,delete i.__headers__,delete i.__status__);var e=i.__sm__;if(e){e:{for(const n in e){i=n;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function le(){wr.call(this),this.status=1}function Pe(i){this.g=i}function k(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function P(i,e,n){n||(n=0);var s=Array(16);if("string"==typeof e)for(var l=0;16>l;++l)s[l]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(l=0;16>l;++l)s[l]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var c=i.g[3],f=(e=i.g[0])+(c^(n=i.g[1])&((l=i.g[2])^c))+s[0]+3614090360&4294967295;f=(n=(l=(c=(e=(n=(l=(c=(e=(n=(l=(c=(e=(n=(l=(c=(e=(n=(l=(c=(e=(n=(l=(c=(e=(n=(l=(c=(e=(n=(l=(c=(e=(n=(l=(c=(e=(n=(l=(c=(e=(n=(l=(c=(e=(n=(l=(c=(e=(n=(l=(c=(e=(n=(l=(c=(e=(n=(l=(c=(e=n+(f<<7&4294967295|f>>>25))+((f=c+(l^e&(n^l))+s[1]+3905402710&4294967295)<<12&4294967295|f>>>20))+((f=l+(n^c&(e^n))+s[2]+606105819&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^l&(c^e))+s[3]+3250441966&4294967295)<<22&4294967295|f>>>10))+((f=e+(c^n&(l^c))+s[4]+4118548399&4294967295)<<7&4294967295|f>>>25))+((f=c+(l^e&(n^l))+s[5]+1200080426&4294967295)<<12&4294967295|f>>>20))+((f=l+(n^c&(e^n))+s[6]+2821735955&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^l&(c^e))+s[7]+4249261313&4294967295)<<22&4294967295|f>>>10))+((f=e+(c^n&(l^c))+s[8]+1770035416&4294967295)<<7&4294967295|f>>>25))+((f=c+(l^e&(n^l))+s[9]+2336552879&4294967295)<<12&4294967295|f>>>20))+((f=l+(n^c&(e^n))+s[10]+4294925233&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^l&(c^e))+s[11]+2304563134&4294967295)<<22&4294967295|f>>>10))+((f=e+(c^n&(l^c))+s[12]+1804603682&4294967295)<<7&4294967295|f>>>25))+((f=c+(l^e&(n^l))+s[13]+4254626195&4294967295)<<12&4294967295|f>>>20))+((f=l+(n^c&(e^n))+s[14]+2792965006&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^l&(c^e))+s[15]+1236535329&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^c&(n^l))+s[1]+4129170786&4294967295)<<5&4294967295|f>>>27))+((f=c+(n^l&(e^n))+s[6]+3225465664&4294967295)<<9&4294967295|f>>>23))+((f=l+(e^n&(c^e))+s[11]+643717713&4294967295)<<14&4294967295|f>>>18))+((f=n+(c^e&(l^c))+s[0]+3921069994&4294967295)<<20&4294967295|f>>>12))+((f=e+(l^c&(n^l))+s[5]+3593408605&4294967295)<<5&4294967295|f>>>27))+((f=c+(n^l&(e^n))+s[10]+38016083&4294967295)<<9&4294967295|f>>>23))+((f=l+(e^n&(c^e))+s[15]+3634488961&4294967295)<<14&4294967295|f>>>18))+((f=n+(c^e&(l^c))+s[4]+3889429448&4294967295)<<20&4294967295|f>>>12))+((f=e+(l^c&(n^l))+s[9]+568446438&4294967295)<<5&4294967295|f>>>27))+((f=c+(n^l&(e^n))+s[14]+3275163606&4294967295)<<9&4294967295|f>>>23))+((f=l+(e^n&(c^e))+s[3]+4107603335&4294967295)<<14&4294967295|f>>>18))+((f=n+(c^e&(l^c))+s[8]+1163531501&4294967295)<<20&4294967295|f>>>12))+((f=e+(l^c&(n^l))+s[13]+2850285829&4294967295)<<5&4294967295|f>>>27))+((f=c+(n^l&(e^n))+s[2]+4243563512&4294967295)<<9&4294967295|f>>>23))+((f=l+(e^n&(c^e))+s[7]+1735328473&4294967295)<<14&4294967295|f>>>18))+((f=n+(c^e&(l^c))+s[12]+2368359562&4294967295)<<20&4294967295|f>>>12))+((f=e+(n^l^c)+s[5]+4294588738&4294967295)<<4&4294967295|f>>>28))+((f=c+(e^n^l)+s[8]+2272392833&4294967295)<<11&4294967295|f>>>21))+((f=l+(c^e^n)+s[11]+1839030562&4294967295)<<16&4294967295|f>>>16))+((f=n+(l^c^e)+s[14]+4259657740&4294967295)<<23&4294967295|f>>>9))+((f=e+(n^l^c)+s[1]+2763975236&4294967295)<<4&4294967295|f>>>28))+((f=c+(e^n^l)+s[4]+1272893353&4294967295)<<11&4294967295|f>>>21))+((f=l+(c^e^n)+s[7]+4139469664&4294967295)<<16&4294967295|f>>>16))+((f=n+(l^c^e)+s[10]+3200236656&4294967295)<<23&4294967295|f>>>9))+((f=e+(n^l^c)+s[13]+681279174&4294967295)<<4&4294967295|f>>>28))+((f=c+(e^n^l)+s[0]+3936430074&4294967295)<<11&4294967295|f>>>21))+((f=l+(c^e^n)+s[3]+3572445317&4294967295)<<16&4294967295|f>>>16))+((f=n+(l^c^e)+s[6]+76029189&4294967295)<<23&4294967295|f>>>9))+((f=e+(n^l^c)+s[9]+3654602809&4294967295)<<4&4294967295|f>>>28))+((f=c+(e^n^l)+s[12]+3873151461&4294967295)<<11&4294967295|f>>>21))+((f=l+(c^e^n)+s[15]+530742520&4294967295)<<16&4294967295|f>>>16))+((f=n+(l^c^e)+s[2]+3299628645&4294967295)<<23&4294967295|f>>>9))+((f=e+(l^(n|~c))+s[0]+4096336452&4294967295)<<6&4294967295|f>>>26))+((f=c+(n^(e|~l))+s[7]+1126891415&4294967295)<<10&4294967295|f>>>22))+((f=l+(e^(c|~n))+s[14]+2878612391&4294967295)<<15&4294967295|f>>>17))+((f=n+(c^(l|~e))+s[5]+4237533241&4294967295)<<21&4294967295|f>>>11))+((f=e+(l^(n|~c))+s[12]+1700485571&4294967295)<<6&4294967295|f>>>26))+((f=c+(n^(e|~l))+s[3]+2399980690&4294967295)<<10&4294967295|f>>>22))+((f=l+(e^(c|~n))+s[10]+4293915773&4294967295)<<15&4294967295|f>>>17))+((f=n+(c^(l|~e))+s[1]+2240044497&4294967295)<<21&4294967295|f>>>11))+((f=e+(l^(n|~c))+s[8]+1873313359&4294967295)<<6&4294967295|f>>>26))+((f=c+(n^(e|~l))+s[15]+4264355552&4294967295)<<10&4294967295|f>>>22))+((f=l+(e^(c|~n))+s[6]+2734768916&4294967295)<<15&4294967295|f>>>17))+((f=n+(c^(l|~e))+s[13]+1309151649&4294967295)<<21&4294967295|f>>>11))+((c=(e=n+((f=e+(l^(n|~c))+s[4]+4149444226&4294967295)<<6&4294967295|f>>>26))+((f=c+(n^(e|~l))+s[11]+3174756917&4294967295)<<10&4294967295|f>>>22))^((l=c+((f=l+(e^(c|~n))+s[2]+718787259&4294967295)<<15&4294967295|f>>>17))|~e))+s[9]+3951481745&4294967295,i.g[0]=i.g[0]+e&4294967295,i.g[1]=i.g[1]+(l+(f<<21&4294967295|f>>>11))&4294967295,i.g[2]=i.g[2]+l&4294967295,i.g[3]=i.g[3]+c&4294967295}function F(i,e){this.h=e;for(var n=[],s=!0,l=i.length-1;0<=l;l--){var c=0|i[l];s&&c==e||(n[l]=c,s=!1)}this.g=n}($e=be.prototype).Oa=function(i){this.M=i},$e.ha=function(i,e,n,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+i);e=e?e.toUpperCase():"GET",this.I=i,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():zr.g(),this.C=function Qs(i){return i.h||(i.h=i.i())}(this.u?this.u:zr),this.g.onreadystatechange=He(this.La,this);try{this.G=!0,this.g.open(e,String(i),!0),this.G=!1}catch(c){return void Fi(this,c)}if(i=n||"",n=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var l in s)n.set(l,s[l]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const c of s.keys())n.set(c,s.get(c))}s=Array.from(n.keys()).find(c=>"content-type"==c.toLowerCase()),l=St.FormData&&i instanceof St.FormData,!(0<=nn(Li,e))||s||l||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[c,f]of n)this.g.setRequestHeader(c,f);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{oo(this),0<this.B&&((this.L=function Ss(i){return Hn&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=He(this.ua,this)):this.A=Ks(this.ua,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(c){Fi(this,c)}},$e.ua=function(){typeof Gt<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ie(this,"timeout"),this.abort(8))},$e.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Ie(this,"complete"),Ie(this,"abort"),$s(this))},$e.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),$s(this,!0)),be.$.N.call(this)},$e.La=function(){this.s||(this.G||this.v||this.l?Vi(this):this.kb())},$e.kb=function(){Vi(this)},$e.isActive=function(){return!!this.g},$e.da=function(){try{return 2<Pr(this)?this.g.status:-1}catch{return-1}},$e.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},$e.Wa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),se(e)}},$e.Ia=function(){return this.m},$e.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},($e=qo.prototype).ra=8,$e.H=1,$e.Na=function(i){if(this.m)if(this.m=null,1==this.H){if(!i){this.W=Math.floor(1e5*Math.random()),i=this.W++;const l=new hi(this,this.l,i);let c=this.s;if(this.U&&(c?(c=Vr(c),$r(c,this.U)):c=this.U),null!==this.o||this.O||(l.I=c,c=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var s=this.j[n];if(void 0===(s="__data__"in s.map&&"string"==typeof(s=s.map.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=xo(this,l,e),hr(n=wi(this.I),"RID",i),hr(n,"CVER",22),this.F&&hr(n,"X-HTTP-Session-Id",this.F),Mo(this,n),c&&(this.O?e="headers="+encodeURIComponent(String(Po(c)))+"&"+e:this.o&&Wo(n,this.o,c)),li(this.i,l),this.bb&&hr(n,"TYPE","init"),this.P?(hr(n,"$req",e),hr(n,"SID","null"),l.aa=!0,bi(l,n,null)):bi(l,n,e),this.H=2}}else 3==this.H&&(i?sl(this,i):0==this.j.length||us(this.i)||sl(this))},$e.Ma=function(){if(this.u=null,ol(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var i=2*this.S;this.l.info("BP detection timer enabled: "+i),this.B=Ys(He(this.jb,this),i)}},$e.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ei(10),Ro(this),ol(this))},$e.ib=function(){null!=this.v&&(this.v=null,Ro(this),zs(this),Ei(19))},$e.pb=function(i){i?(this.l.info("Successfully pinged google.com"),Ei(2)):(this.l.info("Failed to ping google.com"),Ei(1))},$e.isActive=function(){return!!this.h&&this.h.isActive(this)},($e=y.prototype).Ba=function(){},$e.Aa=function(){},$e.za=function(){},$e.ya=function(){},$e.isActive=function(){return!0},$e.Va=function(){},E.prototype.g=function(i,e){return new x(i,e)},gt(x,Ae),x.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var i=this.g,e=this.l,n=this.h||void 0;Ei(0),i.Y=e,i.na=n||{},i.G=i.aa,i.I=Ua(i,null,i.Y),yo(i)},x.prototype.close=function(){Ps(this.g)},x.prototype.u=function(i){var e=this.g;if("string"==typeof i){var n={};n.__data__=i,i=n}else this.v&&((n={}).__data__=ye(i),i=n);e.j.push(new class{constructor(i,e){this.g=i,this.map=e}}(e.fb++,i)),3==e.H&&yo(e)},x.prototype.N=function(){this.g.h=null,delete this.j,Ps(this.g),delete this.g,x.$.N.call(this)},gt(Y,Ln),gt(le,wr),gt(Pe,y),Pe.prototype.Ba=function(){Ie(this.g,"a")},Pe.prototype.Aa=function(i){Ie(this.g,new Y(i))},Pe.prototype.za=function(i){Ie(this.g,new le)},Pe.prototype.ya=function(){Ie(this.g,"b")},gt(k,function _(){this.blockSize=-1}),k.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},k.prototype.j=function(i,e){void 0===e&&(e=i.length);for(var n=e-this.blockSize,s=this.m,l=this.h,c=0;c<e;){if(0==l)for(;c<=n;)P(this,i,c),c+=this.blockSize;if("string"==typeof i){for(;c<e;)if(s[l++]=i.charCodeAt(c++),l==this.blockSize){P(this,s),l=0;break}}else for(;c<e;)if(s[l++]=i[c++],l==this.blockSize){P(this,s),l=0;break}}this.h=l,this.i+=e},k.prototype.l=function(){var i=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);i[0]=128;for(var e=1;e<i.length-8;++e)i[e]=0;var n=8*this.i;for(e=i.length-8;e<i.length;++e)i[e]=255&n,n/=256;for(this.j(i),i=Array(16),e=n=0;4>e;++e)for(var s=0;32>s;s+=8)i[n++]=this.g[e]>>>s&255;return i};var ce={};function Ue(i){return-128<=i&&128>i?function yr(i,e){var n=ce;return Object.prototype.hasOwnProperty.call(n,i)?n[i]:n[i]=e(i)}(i,function(e){return new F([0|e],0>e?-1:0)}):new F([0|i],0>i?-1:0)}function Ke(i){if(isNaN(i)||!isFinite(i))return en;if(0>i)return jn(Ke(-i));for(var e=[],n=1,s=0;i>=n;s++)e[s]=i/n|0,n*=jt;return new F(e,0)}var jt=4294967296,en=Ue(0),fn=Ue(1),tn=Ue(16777216);function Un(i){if(0!=i.h)return!1;for(var e=0;e<i.g.length;e++)if(0!=i.g[e])return!1;return!0}function pn(i){return-1==i.h}function jn(i){for(var e=i.g.length,n=[],s=0;s<e;s++)n[s]=~i.g[s];return new F(n,~i.h).add(fn)}function Wr(i,e){return i.add(jn(e))}function Cr(i,e){for(;(65535&i[e])!=i[e];)i[e+1]+=i[e]>>>16,i[e]&=65535,e++}function ui(i,e){this.g=i,this.h=e}function ni(i,e){if(Un(e))throw Error("division by zero");if(Un(i))return new ui(en,en);if(pn(i))return e=ni(jn(i),e),new ui(jn(e.g),jn(e.h));if(pn(e))return e=ni(i,jn(e)),new ui(jn(e.g),e.h);if(30<i.g.length){if(pn(i)||pn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=fn,s=e;0>=s.X(i);)n=Nr(n),s=Nr(s);var l=cs(n,1),c=cs(s,1);for(s=cs(s,2),n=cs(n,2);!Un(s);){var f=c.add(s);0>=f.X(i)&&(l=l.add(n),c=f),s=cs(s,1),n=cs(n,1)}return e=Wr(i,l.R(e)),new ui(l,e)}for(l=en;0<=i.X(e);){for(n=Math.max(1,Math.floor(i.ea()/e.ea())),s=48>=(s=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,s-48),f=(c=Ke(n)).R(e);pn(f)||0<f.X(i);)f=(c=Ke(n-=s)).R(e);Un(c)&&(c=fn),l=l.add(c),i=Wr(i,f)}return new ui(l,i)}function Nr(i){for(var e=i.g.length+1,n=[],s=0;s<e;s++)n[s]=i.D(s)<<1|i.D(s-1)>>>31;return new F(n,i.h)}function cs(i,e){var n=e>>5;e%=32;for(var s=i.g.length-n,l=[],c=0;c<s;c++)l[c]=0<e?i.D(c+n)>>>e|i.D(c+n+1)<<32-e:i.D(c+n);return new F(l,i.h)}($e=F.prototype).ea=function(){if(pn(this))return-jn(this).ea();for(var i=0,e=1,n=0;n<this.g.length;n++){var s=this.D(n);i+=(0<=s?s:jt+s)*e,e*=jt}return i},$e.toString=function(i){if(2>(i=i||10)||36<i)throw Error("radix out of range: "+i);if(Un(this))return"0";if(pn(this))return"-"+jn(this).toString(i);for(var e=Ke(Math.pow(i,6)),n=this,s="";;){var l=ni(n,e).g,c=((0<(n=Wr(n,l.R(e))).g.length?n.g[0]:n.h)>>>0).toString(i);if(Un(n=l))return c+s;for(;6>c.length;)c="0"+c;s=c+s}},$e.D=function(i){return 0>i?0:i<this.g.length?this.g[i]:this.h},$e.X=function(i){return pn(i=Wr(this,i))?-1:Un(i)?0:1},$e.abs=function(){return pn(this)?jn(this):this},$e.add=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],s=0,l=0;l<=e;l++){var c=s+(65535&this.D(l))+(65535&i.D(l)),f=(c>>>16)+(this.D(l)>>>16)+(i.D(l)>>>16);s=f>>>16,n[l]=(f&=65535)<<16|(c&=65535)}return new F(n,-2147483648&n[n.length-1]?-1:0)},$e.R=function(i){if(Un(this)||Un(i))return en;if(pn(this))return pn(i)?jn(this).R(jn(i)):jn(jn(this).R(i));if(pn(i))return jn(this.R(jn(i)));if(0>this.X(tn)&&0>i.X(tn))return Ke(this.ea()*i.ea());for(var e=this.g.length+i.g.length,n=[],s=0;s<2*e;s++)n[s]=0;for(s=0;s<this.g.length;s++)for(var l=0;l<i.g.length;l++){var c=this.D(s)>>>16,f=65535&this.D(s),D=i.D(l)>>>16,M=65535&i.D(l);n[2*s+2*l]+=f*M,Cr(n,2*s+2*l),n[2*s+2*l+1]+=c*M,Cr(n,2*s+2*l+1),n[2*s+2*l+1]+=f*D,Cr(n,2*s+2*l+1),n[2*s+2*l+2]+=c*D,Cr(n,2*s+2*l+2)}for(s=0;s<e;s++)n[s]=n[2*s+1]<<16|n[2*s];for(s=e;s<2*e;s++)n[s]=0;return new F(n,0)},$e.gb=function(i){return ni(this,i).h},$e.and=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)&i.D(s);return new F(n,this.h&i.h)},$e.or=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)|i.D(s);return new F(n,this.h|i.h)},$e.xor=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)^i.D(s);return new F(n,this.h^i.h)},E.prototype.createWebChannel=E.prototype.g,x.prototype.send=x.prototype.u,x.prototype.open=x.prototype.m,x.prototype.close=x.prototype.close,mo.NO_ERROR=0,mo.TIMEOUT=8,mo.HTTP_ERROR=6,bs.COMPLETE="complete",Co.EventType=Vs,Vs.OPEN="a",Vs.CLOSE="b",Vs.ERROR="c",Vs.MESSAGE="d",Ae.prototype.listen=Ae.prototype.O,be.prototype.listenOnce=be.prototype.P,be.prototype.getLastError=be.prototype.Sa,be.prototype.getLastErrorCode=be.prototype.Ia,be.prototype.getStatus=be.prototype.da,be.prototype.getResponseJson=be.prototype.Wa,be.prototype.getResponseText=be.prototype.ja,be.prototype.send=be.prototype.ha,be.prototype.setWithCredentials=be.prototype.Oa,k.prototype.digest=k.prototype.l,k.prototype.reset=k.prototype.reset,k.prototype.update=k.prototype.j,F.prototype.add=F.prototype.add,F.prototype.multiply=F.prototype.R,F.prototype.modulo=F.prototype.gb,F.prototype.compare=F.prototype.X,F.prototype.toNumber=F.prototype.ea,F.prototype.toString=F.prototype.toString,F.prototype.getBits=F.prototype.D,F.fromNumber=Ke,F.fromString=function ft(i,e){if(0==i.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==i.charAt(0))return jn(ft(i.substring(1),e));if(0<=i.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Ke(Math.pow(e,8)),s=en,l=0;l<i.length;l+=8){var c=Math.min(8,i.length-l),f=parseInt(i.substring(l,l+c),e);8>c?(c=Ke(Math.pow(e,c)),s=s.R(c).add(Ke(f))):s=(s=s.R(n)).add(Ke(f))}return s};var Ui=bt.createWebChannelTransport=function(){return new E},fr=bt.getStatEventTarget=function(){return Ii()},oa=bt.ErrorCode=mo,No=bt.EventType=bs,$t=bt.Event=ii,yn=bt.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Pn=bt.FetchXmlHttpFactory=lr,Kn=bt.WebChannel=Co,br=bt.XhrIo=be,qr=bt.Md5=k,Kr=bt.Integer=F;const Gs="@firebase/firestore";class Rn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Rn.UNAUTHENTICATED=new Rn(null),Rn.GOOGLE_CREDENTIALS=new Rn("google-credentials-uid"),Rn.FIRST_PARTY=new Rn("first-party-uid"),Rn.MOCK_USER=new Rn("mock-user");let ko="10.5.2";const Lo=new Te.Yd("@firebase/firestore");function ci(){return Lo.logLevel}function pt(i,...e){if(Lo.logLevel<=Te.in.DEBUG){const n=e.map(ll);Lo.debug(`Firestore (${ko}): ${i}`,...n)}}function kr(i,...e){if(Lo.logLevel<=Te.in.ERROR){const n=e.map(ll);Lo.error(`Firestore (${ko}): ${i}`,...n)}}function Yt(i,...e){if(Lo.logLevel<=Te.in.WARN){const n=e.map(ll);Lo.warn(`Firestore (${ko}): ${i}`,...n)}}function ll(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function Kt(i="Unexpected state"){const e=`FIRESTORE (${ko}) INTERNAL ASSERTION FAILED: `+i;throw kr(e),new Error(e)}function an(i,e){i||Kt()}function Ht(i,e){return i}const it={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class yt extends V.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class qi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class lc{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $l{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Rn.UNAUTHENTICATED))}shutdown(){}}class Tu{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Jc{constructor(e){this.t=e,this.currentUser=Rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var s=this;let l=this.i;const c=z=>this.i!==l?(l=this.i,n(z)):Promise.resolve();let f=new qi;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new qi,e.enqueueRetryable(()=>c(this.currentUser))};const D=()=>{const z=f;e.enqueueRetryable((0,fe.Z)(function*(){yield z.promise,yield c(s.currentUser)}))},M=z=>{pt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=z,this.auth.addAuthTokenListener(this.o),D()};this.t.onInit(z=>M(z)),setTimeout(()=>{if(!this.auth){const z=this.t.getImmediate({optional:!0});z?M(z):(pt("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new qi)}},0),D()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(pt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(an("string"==typeof s.accessToken),new lc(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return an(null===e||"string"==typeof e),new Rn(e)}}class vt{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=Rn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Ir{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new vt(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Rn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class mi{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class uc{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const s=c=>{null!=c.error&&pt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.R;return this.R=c.token,pt("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const l=c=>{pt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>l(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?l(c):pt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(an("string"==typeof n.token),this.R=n.token,new mi(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Xc(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}class Ta{static newId(){const n=62*Math.floor(256/62);let s="";for(;s.length<20;){const l=Xc(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<n&&(s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(l[c]%62))}return s}}function vn(i,e){return i<e?-1:i>e?1:0}function wa(i,e,n){return i.length===e.length&&i.every((s,l)=>n(s,e[l]))}function Ba(i){return i+"\0"}class di{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new yt(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new yt(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new yt(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new yt(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return di.fromMillis(Date.now())}static fromDate(e){return di.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new di(n,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?vn(this.nanoseconds,e.nanoseconds):vn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ln{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ln(e)}static min(){return new ln(new di(0,0))}static max(){return new ln(new di(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ca{constructor(e,n,s){void 0===n?n=0:n>e.length&&Kt(),void 0===s?s=e.length-n:s>e.length-n&&Kt(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return 0===Ca.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ca?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let l=0;l<s;l++){const c=e.get(l),f=n.get(l);if(c<f)return-1;if(c>f)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Sn extends Ca{construct(e,n,s){return new Sn(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new yt(it.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(l=>l.length>0))}return new Sn(n)}static emptyPath(){return new Sn([])}}const ao=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zr extends Ca{construct(e,n,s){return new Zr(e,n,s)}static isValidIdentifier(e){return ao.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Zr(["__name__"])}static fromServerFormat(e){const n=[];let s="",l=0;const c=()=>{if(0===s.length)throw new yt(it.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;l<e.length;){const D=e[l];if("\\"===D){if(l+1===e.length)throw new yt(it.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const M=e[l+1];if("\\"!==M&&"."!==M&&"`"!==M)throw new yt(it.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=M,l+=2}else"`"===D?(f=!f,l++):"."!==D||f?(s+=D,l++):(c(),l++)}if(c(),f)throw new yt(it.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zr(n)}static emptyPath(){return new Zr([])}}class Ft{constructor(e){this.path=e}static fromPath(e){return new Ft(Sn.fromString(e))}static fromName(e){return new Ft(Sn.fromString(e).popFirst(5))}static empty(){return new Ft(Sn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Sn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Sn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ft(new Sn(e.slice()))}}class Ms{constructor(e,n,s,l){this.indexId=e,this.collectionGroup=n,this.fields=s,this.indexState=l}}function Ha(i){return i.fields.find(e=>2===e.kind)}function aa(i){return i.fields.filter(e=>2!==e.kind)}Ms.UNKNOWN_ID=-1;class ba{constructor(e,n){this.fieldPath=e,this.kind=n}}class Da{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Da(0,T.min())}}function ed(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,l=ln.fromTimestamp(1e9===s?new di(n+1,0):new di(n,s));return new T(l,Ft.empty(),e)}function zl(i){return new T(i.readTime,i.key,-1)}class T{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new T(ln.min(),Ft.empty(),-1)}static max(){return new T(ln.max(),Ft.empty(),-1)}}function A(i,e){let n=i.readTime.compareTo(e.readTime);return 0!==n?n:(n=Ft.comparator(i.documentKey,e.documentKey),0!==n?n:vn(i.largestBatchId,e.largestBatchId))}const v="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class R{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function B(i){return ne.apply(this,arguments)}function ne(){return ne=(0,fe.Z)(function*(i){if(i.code!==it.FAILED_PRECONDITION||i.message!==v)throw i;pt("LocalStore","Unexpectedly lost primary lease")}),ne.apply(this,arguments)}class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Kt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Q((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,l)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.reject(n)}static resolve(e){return new Q((n,s)=>{n(e)})}static reject(e){return new Q((n,s)=>{s(e)})}static waitFor(e){return new Q((n,s)=>{let l=0,c=0,f=!1;e.forEach(D=>{++l,D.next(()=>{++c,f&&c===l&&n()},M=>s(M))}),f=!0,c===l&&n()})}static or(e){let n=Q.resolve(!1);for(const s of e)n=n.next(l=>l?Q.resolve(l):s());return n}static forEach(e,n){const s=[];return e.forEach((l,c)=>{s.push(n.call(this,l,c))}),this.waitFor(s)}static mapArray(e,n){return new Q((s,l)=>{const c=e.length,f=new Array(c);let D=0;for(let M=0;M<c;M++){const z=M;n(e[z]).next(X=>{f[z]=X,++D,D===c&&s(f)},X=>l(X))}})}static doWhile(e,n){return new Q((s,l)=>{const c=()=>{!0===e()?n().next(()=>{c()},l):s()};c()})}}class et{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new qi,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new un(e,n.error)):this.V.resolve()},this.transaction.onerror=s=>{const l=la(s.target.error);this.V.reject(new un(e,l))}}static open(e,n,s,l){try{return new et(n,e.transaction(l,s))}catch(c){throw new un(n,c)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(pt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const n=this.transaction.objectStore(e);return new In(n)}}class Qe{constructor(e,n,s){this.name=e,this.version=n,this.p=s,12.2===Qe.S((0,V.z$)())&&kr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return pt("SimpleDb","Removing database:",e),Es(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,V.hl)())return!1;if(Qe.C())return!0;const e=(0,V.z$)(),n=Qe.S(e),s=0<n&&n<10,l=Qe.v(e),c=0<l&&l<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||c)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.F)}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static v(e){const n=e.match(/Android ([\d.]+)/i),s=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(s)}O(e){var n=this;return(0,fe.Z)(function*(){return n.db||(pt("SimpleDb","Opening database:",n.name),n.db=yield new Promise((s,l)=>{const c=indexedDB.open(n.name,n.version);c.onsuccess=f=>{s(f.target.result)},c.onblocked=()=>{l(new un(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=f=>{const D=f.target.error;l("VersionError"===D.name?new yt(it.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===D.name?new yt(it.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+D):new un(e,D))},c.onupgradeneeded=f=>{pt("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',f.oldVersion),n.p.N(f.target.result,c.transaction,f.oldVersion,n.version).next(()=>{pt("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.B&&(n.db.onversionchange=s=>n.B(s)),n.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,s,l){var c=this;return(0,fe.Z)(function*(){const f="readonly"===n;let D=0;for(;;){++D;try{c.db=yield c.O(e);const M=et.open(c.db,e,f?"readonly":"readwrite",s),z=l(M).next(X=>(M.g(),X)).catch(X=>(M.abort(X),Q.reject(X))).toPromise();return z.catch(()=>{}),yield M.m,z}catch(M){const z=M,X="FirebaseError"!==z.name&&D<3;if(pt("SimpleDb","Transaction failed with error:",z.message,"Retrying:",X),c.close(),!X)return Promise.reject(z)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class zt{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Es(this.k.delete())}}class un extends yt{constructor(e,n){super(it.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Xn(i){return"IndexedDbTransactionError"===i.name}class In{constructor(e){this.store=e}put(e,n){let s;return void 0!==n?(pt("SimpleDb","PUT",this.store.name,e,n),s=this.store.put(n,e)):(pt("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),Es(s)}add(e){return pt("SimpleDb","ADD",this.store.name,e,e),Es(this.store.add(e))}get(e){return Es(this.store.get(e)).next(n=>(void 0===n&&(n=null),pt("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return pt("SimpleDb","DELETE",this.store.name,e),Es(this.store.delete(e))}count(){return pt("SimpleDb","COUNT",this.store.name),Es(this.store.count())}W(e,n){const s=this.options(e,n);if(s.index||"function"!=typeof this.store.getAll){const l=this.cursor(s),c=[];return this.G(l,(f,D)=>{c.push(D)}).next(()=>c)}{const l=this.store.getAll(s.range);return new Q((c,f)=>{l.onerror=D=>{f(D.target.error)},l.onsuccess=D=>{c(D.target.result)}})}}j(e,n){const s=this.store.getAll(e,null===n?void 0:n);return new Q((l,c)=>{s.onerror=f=>{c(f.target.error)},s.onsuccess=f=>{l(f.target.result)}})}H(e,n){pt("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,n);s.J=!1;const l=this.cursor(s);return this.G(l,(c,f,D)=>D.delete())}Y(e,n){let s;n?s=e:(s={},n=e);const l=this.cursor(s);return this.G(l,n)}Z(e){const n=this.cursor({});return new Q((s,l)=>{n.onerror=c=>{const f=la(c.target.error);l(f)},n.onsuccess=c=>{const f=c.target.result;f?e(f.primaryKey,f.value).next(D=>{D?f.continue():s()}):s()}})}G(e,n){const s=[];return new Q((l,c)=>{e.onerror=f=>{c(f.target.error)},e.onsuccess=f=>{const D=f.target.result;if(!D)return void l();const M=new zt(D),z=n(D.primaryKey,D.value,M);if(z instanceof Q){const X=z.catch(pe=>(M.done(),Q.reject(pe)));s.push(X)}M.isDone?l():null===M.$?D.continue():D.continue(M.$)}}).next(()=>Q.waitFor(s))}options(e,n){let s;return void 0!==e&&("string"==typeof e?s=e:n=e),{index:s,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const s=this.store.index(e.index);return e.J?s.openKeyCursor(e.range,n):s.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Es(i){return new Q((e,n)=>{i.onsuccess=s=>{e(s.target.result)},i.onerror=s=>{const l=la(s.target.error);n(l)}})}let ja=!1;function la(i){const e=Qe.S((0,V.z$)());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(n)>=0){const s=new yt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ja||(ja=!0,setTimeout(()=>{throw s},0)),s}}return i}class wu{constructor(e,n){this.asyncQueue=e,this.X=n,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){var n=this;pt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,fe.Z)(function*(){n.task=null;try{pt("IndexBackiller",`Documents written: ${yield n.X.te()}`)}catch(s){Xn(s)?pt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",s):yield B(s)}yield n.ee(6e4)}))}}class Aa{constructor(e,n){this.localStore=e,this.persistence=n}te(e=50){var n=this;return(0,fe.Z)(function*(){return n.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>n.ne(s,e))})()}ne(e,n){const s=new Set;let l=n,c=!0;return Q.doWhile(()=>!0===c&&l>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(f=>{if(null!==f&&!s.has(f))return pt("IndexBackiller",`Processing collection: ${f}`),this.re(e,f,l).next(D=>{l-=D,s.add(f)});c=!1})).next(()=>n-l)}re(e,n,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(l=>this.localStore.localDocuments.getNextDocuments(e,n,l,s).next(c=>{const f=c.changes;return this.localStore.indexManager.updateIndexEntries(e,f).next(()=>this.ie(l,c)).next(D=>(pt("IndexBackiller",`Updating offset: ${D}`),this.localStore.indexManager.updateCollectionGroup(e,n,D))).next(()=>f.size)}))}ie(e,n){let s=e;return n.changes.forEach((l,c)=>{const f=zl(c);A(f,s)>0&&(s=f)}),new T(s.readTime,s.documentKey,Math.max(n.batchId,e.largestBatchId))}}let Ws=(()=>{class i{constructor(n,s){this.previousValue=n,s&&(s.sequenceNumberHandler=l=>this.se(l),this.oe=l=>s.writeSequenceNumber(l))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.oe&&this.oe(n),n}}return i._e=-1,i})();function ua(i){return null==i}function Vo(i){return 0===i&&1/i==-1/0}function hc(i){return"number"==typeof i&&Number.isInteger(i)&&!Vo(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}function hs(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=Cu(e)),e=Gl(i.get(n),e);return Cu(e)}function Gl(i,e){let n=e;const s=i.length;for(let l=0;l<s;l++){const c=i.charAt(l);switch(c){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=c}}return n}function Cu(i){return i+"\x01\x01"}function lo(i){const e=i.length;if(an(e>=2),2===e)return an("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),Sn.emptyPath();const n=e-2,s=[];let l="";for(let c=0;c<e;){const f=i.indexOf("\x01",c);switch((f<0||f>n)&&Kt(),i.charAt(f+1)){case"\x01":const D=i.substring(c,f);let M;0===l.length?M=D:(l+=D,M=l,l=""),s.push(M);break;case"\x10":l+=i.substring(c,f),l+="\0";break;case"\x11":l+=i.substring(c,f+1);break;default:Kt()}c=f+2}return new Sn(s)}const Wl=["userId","batchId"];function ul(i,e){return[i,hs(e)]}function bh(i,e,n){return[i,hs(e),n]}const $a={},bu=["prefixPath","collectionGroup","readTime","documentId"],cl=["prefixPath","collectionGroup","documentId"],Dh=["collectionGroup","readTime","prefixPath","documentId"],td=["canonicalId","targetId"],zg=["targetId","path"],Pp=["path","targetId"],nd=["collectionId","parent"],Rp=["indexId","uid"],Gg=["uid","sequenceNumber"],rd=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],dl=["indexId","uid","orderedDocumentKey"],Mp=["userId","collectionPath","documentId"],hl=["userId","collectionPath","largestBatchId"],id=["userId","collectionGroup","largestBatchId"],fl=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Ah=[...fl,"documentOverlays"],sd=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],pl=sd,xp=[...pl,"indexConfiguration","indexState","indexEntries"];class Uo extends R{constructor(e,n){super(),this.ae=e,this.currentSequenceNumber=n}}function Qi(i,e){const n=Ht(i);return Qe.M(n.ae,e)}function ml(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Bo(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function od(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class Lr{constructor(e,n){this.comparator=e,this.root=n||Ts.EMPTY}insert(e,n){return new Lr(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ts.BLACK,null,null))}remove(e){return new Lr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ts.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(0===s)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(0===l)return n+s.left.size;l<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new gl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new gl(this.root,e,this.comparator,!1)}getReverseIterator(){return new gl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new gl(this.root,e,this.comparator,!0)}}class gl{constructor(e,n,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?s(e.key,n):1,n&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ts{constructor(e,n,s,l,c){this.key=e,this.value=n,this.color=s??Ts.RED,this.left=l??Ts.EMPTY,this.right=c??Ts.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,l,c){return new Ts(e??this.key,n??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let l=this;const c=s(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,n,s),null):0===c?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ts.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===n(e,l.key)){if(l.right.isEmpty())return Ts.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ts.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ts.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Kt();const e=this.left.check();if(e!==this.right.check())throw Kt();return e+(this.isRed()?0:1)}}Ts.EMPTY=null,Ts.RED=!0,Ts.BLACK=!1,Ts.EMPTY=new class{constructor(){this.size=0}get key(){throw Kt()}get value(){throw Kt()}get color(){throw Kt()}get left(){throw Kt()}get right(){throw Kt()}copy(e,n,s,l,c){return this}insert(e,n,s){return new Ts(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class jr{constructor(e){this.comparator=e,this.data=new Lr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let s;for(s=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ad(this.data.getIterator())}getIteratorFrom(e){return new ad(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof jr)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=s.getNext().key;if(0!==this.comparator(l,c))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new jr(this.comparator);return n.data=e,n}}class ad{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Sa(i){return i.hasNext()?i.getNext():void 0}class eo{constructor(e){this.fields=e,e.sort(Zr.comparator)}static empty(){return new eo([])}unionWith(e){let n=new jr(Zr.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new eo(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return wa(this.fields,e.fields,(n,s)=>n.isEqual(s))}}class Sh extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class gi{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Sh("Invalid base64 string: "+c):c}}(e);return new gi(n)}static fromUint8Array(e){const n=function(l){let c="";for(let f=0;f<l.length;++f)c+=String.fromCharCode(l[f]);return c}(e);return new gi(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let l=0;l<n.length;l++)s[l]=n.charCodeAt(l);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return vn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gi.EMPTY_BYTE_STRING=new gi("");const Op=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yo(i){if(an(!!i),"string"==typeof i){let e=0;const n=Op.exec(i);if(an(!!n),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Pi(i.seconds),nanos:Pi(i.nanos)}}function Pi(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function to(i){return"string"==typeof i?gi.fromBase64String(i):gi.fromUint8Array(i)}function Kl(i){var e,n;return"server_timestamp"===(null===(n=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ji(i){const e=i.mapValue.fields.__previous_value__;return Kl(e)?Ji(e):e}function Zl(i){const e=Yo(i.mapValue.fields.__local_write_time__.timestampValue);return new di(e.seconds,e.nanos)}class fc{constructor(e,n,s,l,c,f,D,M,z){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=D,this.longPollingOptions=M,this.useFetchStreams=z}}class ca{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ca("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ca&&e.projectId===this.projectId&&e.database===this.database}}const Pa={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Yl={nullValue:"NULL_VALUE"};function Qo(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Kl(i)?4:yl(i)?9007199254740991:10:Kt()}function no(i,e){if(i===e)return!0;const n=Qo(i);if(n!==Qo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Zl(i).isEqual(Zl(e));case 3:return function(l,c){if("string"==typeof l.timestampValue&&"string"==typeof c.timestampValue&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const f=Yo(l.timestampValue),D=Yo(c.timestampValue);return f.seconds===D.seconds&&f.nanos===D.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return c=e,to(i.bytesValue).isEqual(to(c.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(l,c){return Pi(l.geoPointValue.latitude)===Pi(c.geoPointValue.latitude)&&Pi(l.geoPointValue.longitude)===Pi(c.geoPointValue.longitude)}(i,e);case 2:return function(l,c){if("integerValue"in l&&"integerValue"in c)return Pi(l.integerValue)===Pi(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const f=Pi(l.doubleValue),D=Pi(c.doubleValue);return f===D?Vo(f)===Vo(D):isNaN(f)&&isNaN(D)}return!1}(i,e);case 9:return wa(i.arrayValue.values||[],e.arrayValue.values||[],no);case 10:return function(l,c){const f=l.mapValue.fields||{},D=c.mapValue.fields||{};if(ml(f)!==ml(D))return!1;for(const M in f)if(f.hasOwnProperty(M)&&(void 0===D[M]||!no(f[M],D[M])))return!1;return!0}(i,e);default:return Kt()}var c}function Jo(i,e){return void 0!==(i.values||[]).find(n=>no(n,e))}function ro(i,e){if(i===e)return 0;const n=Qo(i),s=Qo(e);if(n!==s)return vn(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return vn(i.booleanValue,e.booleanValue);case 2:return function(c,f){const D=Pi(c.integerValue||c.doubleValue),M=Pi(f.integerValue||f.doubleValue);return D<M?-1:D>M?1:D===M?0:isNaN(D)?isNaN(M)?0:-1:1}(i,e);case 3:return ld(i.timestampValue,e.timestampValue);case 4:return ld(Zl(i),Zl(e));case 5:return vn(i.stringValue,e.stringValue);case 6:return function(c,f){const D=to(c),M=to(f);return D.compareTo(M)}(i.bytesValue,e.bytesValue);case 7:return function(c,f){const D=c.split("/"),M=f.split("/");for(let z=0;z<D.length&&z<M.length;z++){const X=vn(D[z],M[z]);if(0!==X)return X}return vn(D.length,M.length)}(i.referenceValue,e.referenceValue);case 8:return function(c,f){const D=vn(Pi(c.latitude),Pi(f.latitude));return 0!==D?D:vn(Pi(c.longitude),Pi(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(c,f){const D=c.values||[],M=f.values||[];for(let z=0;z<D.length&&z<M.length;++z){const X=ro(D[z],M[z]);if(X)return X}return vn(D.length,M.length)}(i.arrayValue,e.arrayValue);case 10:return function(c,f){if(c===Pa.mapValue&&f===Pa.mapValue)return 0;if(c===Pa.mapValue)return 1;if(f===Pa.mapValue)return-1;const D=c.fields||{},M=Object.keys(D),z=f.fields||{},X=Object.keys(z);M.sort(),X.sort();for(let pe=0;pe<M.length&&pe<X.length;++pe){const ke=vn(M[pe],X[pe]);if(0!==ke)return ke;const Je=ro(D[M[pe]],z[X[pe]]);if(0!==Je)return Je}return vn(M.length,X.length)}(i.mapValue,e.mapValue);default:throw Kt()}}function ld(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return vn(i,e);const n=Yo(i),s=Yo(e),l=vn(n.seconds,s.seconds);return 0!==l?l:vn(n.nanos,s.nanos)}function za(i){return Ga(i)}function Ga(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=Yo(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?to(i.bytesValue).toBase64():"referenceValue"in i?Ft.fromName(i.referenceValue).toString():"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",l=!0;for(const c of n.values||[])l?l=!1:s+=",",s+=Ga(c);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let l="{",c=!0;for(const f of s)c?c=!1:l+=",",l+=`${f}:${Ga(n.fields[f])}`;return l+"}"}(i.mapValue):Kt()}function _l(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Ph(i){return!!i&&"integerValue"in i}function Au(i){return!!i&&"arrayValue"in i}function Np(i){return!!i&&"nullValue"in i}function pc(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function ud(i){return!!i&&"mapValue"in i}function mc(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Bo(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=mc(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=mc(i.arrayValue.values[n]);return e}return Object.assign({},i)}function yl(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function kp(i){return"nullValue"in i?Yl:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?_l(ca.empty(),Ft.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:Kt()}function Lp(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?_l(ca.empty(),Ft.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?Pa:Kt()}function Xi(i,e){const n=ro(i.value,e.value);return 0!==n?n:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function Rh(i,e){const n=ro(i.value,e.value);return 0!==n?n:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class Ki{constructor(e){this.value=e}static empty(){return new Ki({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!ud(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=mc(n)}setAll(e){let n=Zr.emptyPath(),s={},l=[];e.forEach((f,D)=>{if(!n.isImmediateParentOf(D)){const M=this.getFieldsMap(n);this.applyChanges(M,s,l),s={},l=[],n=D.popLast()}f?s[D.lastSegment()]=mc(f):l.push(D.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,s,l)}delete(e){const n=this.field(e.popLast());ud(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return no(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=n.mapValue.fields[e.get(s)];ud(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,s){Bo(n,(l,c)=>e[l]=c);for(const l of s)delete e[l]}clone(){return new Ki(mc(this.value))}}function gc(i){const e=[];return Bo(i.fields,(n,s)=>{const l=new Zr([n]);if(ud(s)){const c=gc(s.mapValue).fields;if(0===c.length)e.push(l);else for(const f of c)e.push(l.child(f))}else e.push(l)}),new eo(e)}class pr{constructor(e,n,s,l,c,f,D){this.key=e,this.documentType=n,this.version=s,this.readTime=l,this.createTime=c,this.data=f,this.documentState=D}static newInvalidDocument(e){return new pr(e,0,ln.min(),ln.min(),ln.min(),Ki.empty(),0)}static newFoundDocument(e,n,s,l){return new pr(e,1,n,ln.min(),s,l,0)}static newNoDocument(e,n){return new pr(e,2,n,ln.min(),ln.min(),Ki.empty(),0)}static newUnknownDocument(e,n){return new pr(e,3,n,ln.min(),ln.min(),Ki.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ln.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ki.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ki.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ln.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof pr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Io{constructor(e,n){this.position=e,this.inclusive=n}}function cd(i,e,n){let s=0;for(let l=0;l<i.position.length;l++){const c=e[l],f=i.position[l];if(s=c.field.isKeyField()?Ft.comparator(Ft.fromName(f.referenceValue),n.key):ro(f,n.data.field(c.field)),"desc"===c.dir&&(s*=-1),0!==s)break}return s}function Su(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!no(i.position[n],e.position[n]))return!1;return!0}class Ra{constructor(e,n="asc"){this.field=e,this.dir=n}}function Mh(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class Fp{}class mr extends Fp{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,s):new Vp(e,n,s):"array-contains"===n?new Ql(e,s):"in"===n?new md(e,s):"not-in"===n?new vl(e,s):"array-contains-any"===n?new Oh(e,s):new mr(e,n,s)}static createKeyFieldInFilter(e,n,s){return"in"===n?new fd(e,s):new Up(e,s)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(ro(n,this.value)):null!==n&&Qo(this.value)===Qo(n)&&this.matchesComparison(ro(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Kt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yr extends Fp{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Yr(e,n)}matches(e){return ws(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function ws(i){return"and"===i.op}function Pu(i){return"or"===i.op}function da(i){return dd(i)&&ws(i)}function dd(i){for(const e of i.filters)if(e instanceof Yr)return!1;return!0}function _c(i){if(i instanceof mr)return i.field.canonicalString()+i.op.toString()+za(i.value);if(da(i))return i.filters.map(e=>_c(e)).join(",");{const e=i.filters.map(n=>_c(n)).join(",");return`${i.op}(${e})`}}function yc(i,e){return i instanceof mr?(s=i,(l=e)instanceof mr&&s.op===l.op&&s.field.isEqual(l.field)&&no(s.value,l.value)):i instanceof Yr?function(s,l){return l instanceof Yr&&s.op===l.op&&s.filters.length===l.filters.length&&s.filters.reduce((c,f,D)=>c&&yc(f,l.filters[D]),!0)}(i,e):void Kt();var s,l}function xh(i,e){const n=i.filters.concat(e);return Yr.create(n,i.op)}function hd(i){return i instanceof mr?`${(n=i).field.canonicalString()} ${n.op} ${za(n.value)}`:i instanceof Yr?function(n){return n.op.toString()+" {"+n.getFilters().map(hd).join(" ,")+"}"}(i):"Filter";var n}class Vp extends mr{constructor(e,n,s){super(e,n,s),this.key=Ft.fromName(s.referenceValue)}matches(e){const n=Ft.comparator(e.key,this.key);return this.matchesComparison(n)}}class fd extends mr{constructor(e,n){super(e,"in",n),this.keys=pd(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Up extends mr{constructor(e,n){super(e,"not-in",n),this.keys=pd(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function pd(i,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(s=>Ft.fromName(s.referenceValue))}class Ql extends mr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Au(n)&&Jo(n.arrayValue,this.value)}}class md extends mr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Jo(this.value.arrayValue,n)}}class vl extends mr{constructor(e,n){super(e,"not-in",n)}matches(e){if(Jo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Jo(this.value.arrayValue,n)}}class Oh extends mr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Au(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Jo(this.value.arrayValue,s))}}class Ru{constructor(e,n=null,s=[],l=[],c=null,f=null,D=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=f,this.endAt=D,this.ce=null}}function gd(i,e=null,n=[],s=[],l=null,c=null,f=null){return new Ru(i,e,n,s,l,c,f)}function Wa(i){const e=Ht(i);if(null===e.ce){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>_c(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>{return(c=s).field.canonicalString()+c.dir;var c}).join(","),ua(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>za(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>za(s)).join(",")),e.ce=n}return e.ce}function Il(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!Mh(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!yc(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Su(i.startAt,e.startAt)&&Su(i.endAt,e.endAt)}function El(i){return Ft.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function Mu(i,e){return i.filters.filter(n=>n instanceof mr&&n.field.isEqual(e))}function _d(i,e,n){let s=Yl,l=!0;for(const c of Mu(i,e)){let f=Yl,D=!0;switch(c.op){case"<":case"<=":f=kp(c.value);break;case"==":case"in":case">=":f=c.value;break;case">":f=c.value,D=!1;break;case"!=":case"not-in":f=Yl}Xi({value:s,inclusive:l},{value:f,inclusive:D})<0&&(s=f,l=D)}if(null!==n)for(let c=0;c<i.orderBy.length;++c)if(i.orderBy[c].field.isEqual(e)){const f=n.position[c];Xi({value:s,inclusive:l},{value:f,inclusive:n.inclusive})<0&&(s=f,l=n.inclusive);break}return{value:s,inclusive:l}}function Nh(i,e,n){let s=Pa,l=!0;for(const c of Mu(i,e)){let f=Pa,D=!0;switch(c.op){case">=":case">":f=Lp(c.value),D=!1;break;case"==":case"in":case"<=":f=c.value;break;case"<":f=c.value,D=!1;break;case"!=":case"not-in":f=Pa}Rh({value:s,inclusive:l},{value:f,inclusive:D})>0&&(s=f,l=D)}if(null!==n)for(let c=0;c<i.orderBy.length;++c)if(i.orderBy[c].field.isEqual(e)){const f=n.position[c];Rh({value:s,inclusive:l},{value:f,inclusive:n.inclusive})>0&&(s=f,l=n.inclusive);break}return{value:s,inclusive:l}}class Eo{constructor(e,n=null,s=[],l=[],c=null,f="F",D=null,M=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=f,this.startAt=D,this.endAt=M,this.le=null,this.he=null,this.Pe=null}}function I(i,e,n,s,l,c,f,D){return new Eo(i,e,n,s,l,c,f,D)}function h(i){return new Eo(i)}function m(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function C(i){return null!==i.collectionGroup}function W(i){const e=Ht(i);if(null===e.le){e.le=[];const n=new Set;for(const c of e.explicitOrderBy)e.le.push(c),n.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let D=new jr(Zr.comparator);return f.filters.forEach(M=>{M.getFlattenedFilters().forEach(z=>{z.isInequality()&&(D=D.add(z.field))})}),D})(e).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||e.le.push(new Ra(c,s))}),n.has(Zr.keyField().canonicalString())||e.le.push(new Ra(Zr.keyField(),s))}return e.le}function ie(i){const e=Ht(i);return e.he||(e.he=function Fe(i,e){if("F"===i.limitType)return gd(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(l=>new Ra(l.field,"desc"===l.dir?"asc":"desc"));const n=i.endAt?new Io(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Io(i.startAt.position,i.startAt.inclusive):null;return gd(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}(e,W(i))),e.he}function st(i,e){const n=i.filters.concat([e]);return new Eo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Et(i,e,n){return new Eo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Wt(i,e){return Il(ie(i),ie(e))&&i.limitType===e.limitType}function En(i){return`${Wa(ie(i))}|lt:${i.limitType}`}function nr(i){return`Query(target=${function(n){let s=n.path.canonicalString();return null!==n.collectionGroup&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(l=>hd(l)).join(", ")}]`),ua(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(l=>{return`${(f=l).field.canonicalString()} (${f.dir})`;var f}).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(l=>za(l)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(l=>za(l)).join(",")),`Target(${s})`}(ie(i))}; limitType=${i.limitType})`}function fs(i,e){return e.isFoundDocument()&&function(s,l){const c=l.key.path;return null!==s.collectionGroup?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):Ft.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(i,e)&&function(s,l){for(const c of W(s))if(!c.field.isKeyField()&&null===l.data.field(c.field))return!1;return!0}(i,e)&&function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0}(i,e)&&(l=e,!((s=i).startAt&&!function(f,D,M){const z=cd(f,D,M);return f.inclusive?z<=0:z<0}(s.startAt,W(s),l)||s.endAt&&!function(f,D,M){const z=cd(f,D,M);return f.inclusive?z>=0:z>0}(s.endAt,W(s),l)));var s,l}function qa(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Jl(i){return(e,n)=>{let s=!1;for(const l of W(i)){const c=Bp(l,e,n);if(0!==c)return c;s=s||l.field.isKeyField()}return 0}}function Bp(i,e,n){const s=i.field.isKeyField()?Ft.comparator(e.key,n.key):function(c,f,D){const M=f.data.field(c),z=D.data.field(c);return null!==M&&null!==z?ro(M,z):Kt()}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Kt()}}class Xo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(void 0!==s)for(const[l,c]of s)if(this.equalsFn(l,e))return c}has(e){return void 0!==this.get(e)}set(e,n){const s=this.mapKeyFn(e),l=this.inner[s];if(void 0===l)return this.inner[s]=[[e,n]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(void 0===s)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return 1===s.length?delete this.inner[n]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Bo(this.inner,(n,s)=>{for(const[l,c]of s)e(l,c)})}isEmpty(){return od(this.inner)}size(){return this.innerSize}}const kh=new Lr(Ft.comparator);function xs(){return kh}const yd=new Lr(Ft.comparator);function xu(...i){let e=yd;for(const n of i)e=e.insert(n.key,n);return e}function Ou(i){let e=yd;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function ea(){return vc()}function Lh(){return vc()}function vc(){return new Xo(i=>i.toString(),(i,e)=>i.isEqual(e))}const Fh=new Lr(Ft.comparator),Wg=new jr(Ft.comparator);function rr(...i){let e=Wg;for(const n of i)e=e.add(n);return e}const Vh=new jr(vn);function Ic(){return Vh}function Hp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vo(e)?"-0":e}}function jp(i){return{integerValue:""+i}}function $p(i,e){return hc(e)?jp(e):Hp(i,e)}class Tl{constructor(){this._=void 0}}function qg(i,e,n){return i instanceof wl?function(l,c){const f={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Kl(c)&&(c=Ji(c)),c&&(f.fields.__previous_value__=c),{mapValue:f}}(n,e):i instanceof Ka?Zg(i,e):i instanceof Nu?Yg(i,e):function(l,c){const f=vd(l,c),D=Uh(f)+Uh(l.Ie);return Ph(f)&&Ph(l.Ie)?jp(D):Hp(l.serializer,D)}(i,e)}function Kg(i,e,n){return i instanceof Ka?Zg(i,e):i instanceof Nu?Yg(i,e):n}function vd(i,e){return i instanceof ku?Ph(s=e)||(c=s)&&"doubleValue"in c?e:{integerValue:0}:null;var s,c}class wl extends Tl{}class Ka extends Tl{constructor(e){super(),this.elements=e}}function Zg(i,e){const n=Qg(e);for(const s of i.elements)n.some(l=>no(l,s))||n.push(s);return{arrayValue:{values:n}}}class Nu extends Tl{constructor(e){super(),this.elements=e}}function Yg(i,e){let n=Qg(e);for(const s of i.elements)n=n.filter(l=>!no(l,s));return{arrayValue:{values:n}}}class ku extends Tl{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function Uh(i){return Pi(i.integerValue||i.doubleValue)}function Qg(i){return Au(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Id{constructor(e,n){this.field=e,this.transform=n}}class Jg{constructor(e,n){this.version=e,this.transformResults=n}}class Bi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Bi}static exists(e){return new Bi(void 0,e)}static updateTime(e){return new Bi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bh(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class io{}function Hh(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new Vu(i.key,Bi.none()):new Fu(i.key,i.data,Bi.none());{const n=i.data,s=Ki.empty();let l=new jr(Zr.comparator);for(let c of e.fields)if(!l.has(c)){let f=n.field(c);null===f&&c.length>1&&(c=c.popLast(),f=n.field(c)),null===f?s.delete(c):s.set(c,f),l=l.add(c)}return new Za(i.key,s,new eo(l.toArray()),Bi.none())}}function Xg(i,e,n){i instanceof Fu?function(l,c,f){const D=l.value.clone(),M=zp(l.fieldTransforms,c,f.transformResults);D.setAll(M),c.convertToFoundDocument(f.version,D).setHasCommittedMutations()}(i,e,n):i instanceof Za?function(l,c,f){if(!Bh(l.precondition,c))return void c.convertToUnknownDocument(f.version);const D=zp(l.fieldTransforms,c,f.transformResults),M=c.data;M.setAll(e_(l)),M.setAll(D),c.convertToFoundDocument(f.version,M).setHasCommittedMutations()}(i,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Lu(i,e,n,s){return i instanceof Fu?function(c,f,D,M){if(!Bh(c.precondition,f))return D;const z=c.value.clone(),X=t_(c.fieldTransforms,M,f);return z.setAll(X),f.convertToFoundDocument(f.version,z).setHasLocalMutations(),null}(i,e,n,s):i instanceof Za?function(c,f,D,M){if(!Bh(c.precondition,f))return D;const z=t_(c.fieldTransforms,M,f),X=f.data;return X.setAll(e_(c)),X.setAll(z),f.convertToFoundDocument(f.version,X).setHasLocalMutations(),null===D?null:D.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(pe=>pe.field))}(i,e,n,s):(D=n,Bh(i.precondition,f=e)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):D);var f,D}function uo(i,e){let n=null;for(const s of i.fieldTransforms){const l=e.data.field(s.field),c=vd(s.transform,l||null);null!=c&&(null===n&&(n=Ki.empty()),n.set(s.field,c))}return n||null}function Ec(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(l=e.fieldTransforms,!!(void 0===(s=i.fieldTransforms)&&void 0===l||s&&l&&wa(s,l,(c,f)=>function gv(i,e){return i.field.isEqual(e.field)&&(l=e.transform,(s=i.transform)instanceof Ka&&l instanceof Ka||s instanceof Nu&&l instanceof Nu?wa(s.elements,l.elements,no):s instanceof ku&&l instanceof ku?no(s.Ie,l.Ie):s instanceof wl&&l instanceof wl);var s,l}(c,f))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var s,l}class Fu extends io{constructor(e,n,s,l=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Za extends io{constructor(e,n,s,l,c=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function e_(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function zp(i,e,n){const s=new Map;an(i.length===n.length);for(let l=0;l<n.length;l++){const c=i[l],f=c.transform,D=e.data.field(c.field);s.set(c.field,Kg(f,D,n[l]))}return s}function t_(i,e,n){const s=new Map;for(const l of i){const c=l.transform,f=n.data.field(l.field);s.set(l.field,qg(c,f,e))}return s}class Vu extends io{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Gp extends io{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class jh{constructor(e,n,s,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&Xg(c,e,s[l])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Lu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Lu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Lh();return this.mutations.forEach(l=>{const c=e.get(l.key),f=c.overlayedDocument;let D=this.applyToLocalView(f,c.mutatedFields);D=n.has(l.key)?null:D;const M=Hh(f,D);null!==M&&s.set(l.key,M),f.isValidDocument()||f.convertToNoDocument(ln.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),rr())}isEqual(e){return this.batchId===e.batchId&&wa(this.mutations,e.mutations,(n,s)=>Ec(n,s))&&wa(this.baseMutations,e.baseMutations,(n,s)=>Ec(n,s))}}class Wp{constructor(e,n,s,l){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=l}static from(e,n,s){an(e.mutations.length===s.length);let l=Fh;const c=e.mutations;for(let f=0;f<c.length;f++)l=l.insert(c[f].key,s[f].version);return new Wp(e,n,s,l)}}class qp{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Zp{constructor(e,n){this.count=e,this.unchangedNames=n}}var Cs,gr;function n_(i){switch(i){default:return Kt();case it.CANCELLED:case it.UNKNOWN:case it.DEADLINE_EXCEEDED:case it.RESOURCE_EXHAUSTED:case it.INTERNAL:case it.UNAVAILABLE:case it.UNAUTHENTICATED:return!1;case it.INVALID_ARGUMENT:case it.NOT_FOUND:case it.ALREADY_EXISTS:case it.PERMISSION_DENIED:case it.FAILED_PRECONDITION:case it.ABORTED:case it.OUT_OF_RANGE:case it.UNIMPLEMENTED:case it.DATA_LOSS:return!0}}function r_(i){if(void 0===i)return kr("GRPC error has no .code"),it.UNKNOWN;switch(i){case Cs.OK:return it.OK;case Cs.CANCELLED:return it.CANCELLED;case Cs.UNKNOWN:return it.UNKNOWN;case Cs.DEADLINE_EXCEEDED:return it.DEADLINE_EXCEEDED;case Cs.RESOURCE_EXHAUSTED:return it.RESOURCE_EXHAUSTED;case Cs.INTERNAL:return it.INTERNAL;case Cs.UNAVAILABLE:return it.UNAVAILABLE;case Cs.UNAUTHENTICATED:return it.UNAUTHENTICATED;case Cs.INVALID_ARGUMENT:return it.INVALID_ARGUMENT;case Cs.NOT_FOUND:return it.NOT_FOUND;case Cs.ALREADY_EXISTS:return it.ALREADY_EXISTS;case Cs.PERMISSION_DENIED:return it.PERMISSION_DENIED;case Cs.FAILED_PRECONDITION:return it.FAILED_PRECONDITION;case Cs.ABORTED:return it.ABORTED;case Cs.OUT_OF_RANGE:return it.OUT_OF_RANGE;case Cs.UNIMPLEMENTED:return it.UNIMPLEMENTED;case Cs.DATA_LOSS:return it.DATA_LOSS;default:return Kt()}}(gr=Cs||(Cs={}))[gr.OK=0]="OK",gr[gr.CANCELLED=1]="CANCELLED",gr[gr.UNKNOWN=2]="UNKNOWN",gr[gr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gr[gr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gr[gr.NOT_FOUND=5]="NOT_FOUND",gr[gr.ALREADY_EXISTS=6]="ALREADY_EXISTS",gr[gr.PERMISSION_DENIED=7]="PERMISSION_DENIED",gr[gr.UNAUTHENTICATED=16]="UNAUTHENTICATED",gr[gr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gr[gr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gr[gr.ABORTED=10]="ABORTED",gr[gr.OUT_OF_RANGE=11]="OUT_OF_RANGE",gr[gr.UNIMPLEMENTED=12]="UNIMPLEMENTED",gr[gr.INTERNAL=13]="INTERNAL",gr[gr.UNAVAILABLE=14]="UNAVAILABLE",gr[gr.DATA_LOSS=15]="DATA_LOSS";function Yp(){return new TextEncoder}const i_=new Kr([4294967295,4294967295],0);function Uu(i){const e=Yp().encode(i),n=new qr;return n.update(e),new Uint8Array(n.digest())}function Td(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Kr([n,s],0),new Kr([l,c],0)]}class $h{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Bu(`Invalid padding: ${n}`);if(s<0)throw new Bu(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new Bu(`Invalid hash count: ${s}`);if(0===e.length&&0!==n)throw new Bu(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Kr.fromNumber(this.Te)}de(e,n,s){let l=e.add(n.multiply(Kr.fromNumber(s)));return 1===l.compare(i_)&&(l=new Kr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const n=Uu(e),[s,l]=Td(n);for(let c=0;c<this.hashCount;c++){const f=this.de(s,l,c);if(!this.Ae(f))return!1}return!0}static create(e,n,s){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new $h(c,l,n);return s.forEach(D=>f.insert(D)),f}insert(e){if(0===this.Te)return;const n=Uu(e),[s,l]=Td(n);for(let c=0;c<this.hashCount;c++){const f=this.de(s,l,c);this.Re(f)}}Re(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class Bu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Xl{constructor(e,n,s,l,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const l=new Map;return l.set(e,wd.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Xl(ln.min(),l,new Lr(vn),xs(),rr())}}class wd{constructor(e,n,s,l,c){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new wd(s,n,rr(),rr(),rr())}}class zh{constructor(e,n,s,l){this.Ve=e,this.removedTargetIds=n,this.key=s,this.me=l}}class s_{constructor(e,n){this.targetId=e,this.fe=n}}class o_{constructor(e,n,s=gi.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=l}}class a_{constructor(){this.ge=0,this.pe=Cd(),this.ye=gi.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=rr(),n=rr(),s=rr();return this.pe.forEach((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:s=s.add(l);break;default:Kt()}}),new wd(this.ye,this.we,e,n,s)}Fe(){this.Se=!1,this.pe=Cd()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class _v{constructor(e){this.Le=e,this.ke=new Map,this.qe=xs(),this.Qe=Qp(),this.Ke=new Lr(vn)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const s=this.ze(n);switch(e.state){case 0:this.je(n)&&s.Ce(e.resumeToken);break;case 1:s.Ne(),s.be||s.Fe(),s.Ce(e.resumeToken);break;case 2:s.Ne(),s.be||this.removeTarget(n);break;case 3:this.je(n)&&(s.Be(),s.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),s.Ce(e.resumeToken));break;default:Kt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((s,l)=>{this.je(l)&&n(l)})}Je(e){const n=e.targetId,s=e.fe.count,l=this.Ye(n);if(l){const c=l.target;if(El(c))if(0===s){const f=new Ft(c.path);this.We(n,f,pr.newNoDocument(f,ln.min()))}else an(1===s);else{const f=this.Ze(n);if(f!==s){const D=this.Xe(e),M=D?this.et(D,e,f):1;0!==M&&(this.He(n),this.Ke=this.Ke.insert(n,2===M?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=n;let f,D;try{f=to(s).toUint8Array()}catch(M){if(M instanceof Sh)return Yt("Decoding the base64 bloom filter in existence filter failed ("+M.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw M}try{D=new $h(f,l,c)}catch(M){return Yt(M instanceof Bu?"BloomFilter error: ":"Applying bloom filter failed: ",M),null}return 0===D.Te?null:D}et(e,n,s){return n.fe.count===s-this.rt(e,n.targetId)?0:2}rt(e,n){const s=this.Le.getRemoteKeysForTarget(n);let l=0;return s.forEach(c=>{const f=this.Le.nt(),D=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;e.mightContain(D)||(this.We(n,c,null),l++)}),l}it(e){const n=new Map;this.ke.forEach((c,f)=>{const D=this.Ye(f);if(D){if(c.current&&El(D.target)){const M=new Ft(D.target.path);null!==this.qe.get(M)||this.st(f,M)||this.We(f,M,pr.newNoDocument(M,e))}c.De&&(n.set(f,c.ve()),c.Fe())}});let s=rr();this.Qe.forEach((c,f)=>{let D=!0;f.forEachWhile(M=>{const z=this.Ye(M);return!z||"TargetPurposeLimboResolution"===z.purpose||(D=!1,!1)}),D&&(s=s.add(c))}),this.qe.forEach((c,f)=>f.setReadTime(e));const l=new Xl(e,n,this.Ke,this.qe,s);return this.qe=xs(),this.Qe=Qp(),this.Ke=new Lr(vn),l}Ue(e,n){if(!this.je(e))return;const s=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,s),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,s){if(!this.je(e))return;const l=this.ze(e);this.st(e,n)?l.Me(n,1):l.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),s&&(this.qe=this.qe.insert(n,s))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new a_,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new jr(vn),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=null!==this.Ye(e);return n||pt("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new a_),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Qp(){return new Lr(Ft.comparator)}function Cd(){return new Lr(Ft.comparator)}const Jp={asc:"ASCENDING",desc:"DESCENDING"},Xp={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yv={and:"AND",or:"OR"};class vv{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function bd(i,e){return i.useProto3Json||ua(e)?e:{value:e}}function Hu(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function eu(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function l_(i,e){return Hu(i,e.toTimestamp())}function es(i){return an(!!i),ln.fromTimestamp(function(n){const s=Yo(n);return new di(s.seconds,s.nanos)}(i))}function em(i,e){return(s=i,new Sn(["projects",s.projectId,"databases",s.database])).child("documents").child(e).canonicalString();var s}function Iv(i){const e=Sn.fromString(i);return an(m_(e)),e}function tu(i,e){return em(i.databaseId,e.path)}function Ya(i,e){const n=Iv(e);if(n.get(1)!==i.databaseId.projectId)throw new yt(it.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new yt(it.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Ft(Wh(n))}function Gh(i,e){return em(i.databaseId,e)}function tm(i){const e=Iv(i);return 4===e.length?Sn.emptyPath():Wh(e)}function Tc(i){return new Sn(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Wh(i){return an(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function nm(i,e,n){return{name:tu(i,e),fields:n.value.mapValue.fields}}function Dd(i,e,n){const s=Ya(i,e.name),l=es(e.updateTime),c=e.createTime?es(e.createTime):ln.min(),f=new Ki({mapValue:{fields:e.fields}}),D=pr.newFoundDocument(s,l,c,f);return n&&D.setHasCommittedMutations(),n?D.setHasCommittedMutations():D}function ju(i,e){let n;if(e instanceof Fu)n={update:nm(i,e.key,e.value)};else if(e instanceof Vu)n={delete:tu(i,e.key)};else if(e instanceof Za)n={update:nm(i,e.key,e.data),updateMask:Cc(e.fieldMask)};else{if(!(e instanceof Gp))return Kt();n={verify:tu(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(c,f){const D=f.transform;if(D instanceof wl)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(D instanceof Ka)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:D.elements}};if(D instanceof Nu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:D.elements}};if(D instanceof ku)return{fieldPath:f.field.canonicalString(),increment:D.Ie};throw Kt()}(0,s))),e.precondition.isNone||(n.currentDocument=void 0!==(c=e.precondition).updateTime?{updateTime:l_(i,c.updateTime)}:void 0!==c.exists?{exists:c.exists}:Kt()),n;var c}function wc(i,e){const n=e.currentDocument?void 0!==(c=e.currentDocument).updateTime?Bi.updateTime(es(c.updateTime)):void 0!==c.exists?Bi.exists(c.exists):Bi.none():Bi.none(),s=e.updateTransforms?e.updateTransforms.map(l=>function(f,D){let M=null;"setToServerValue"in D?(an("REQUEST_TIME"===D.setToServerValue),M=new wl):"appendMissingElements"in D?M=new Ka(D.appendMissingElements.values||[]):"removeAllFromArray"in D?M=new Nu(D.removeAllFromArray.values||[]):"increment"in D?M=new ku(f,D.increment):Kt();const z=Zr.fromServerFormat(D.fieldPath);return new Id(z,M)}(i,l)):[];var c;if(e.update){const l=Ya(i,e.update.name),c=new Ki({mapValue:{fields:e.update.fields}});if(e.updateMask){const f=new eo((e.updateMask.fieldPaths||[]).map(X=>Zr.fromServerFormat(X)));return new Za(l,c,f,n,s)}return new Fu(l,c,n,s)}if(e.delete){const l=Ya(i,e.delete);return new Vu(l,n)}if(e.verify){const l=Ya(i,e.verify);return new Gp(l,n)}return Kt()}function qh(i,e){return{documents:[Gh(i,e.path)]}}function $u(i,e){const n={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(n.parent=Gh(i,s),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Gh(i,s.popLast()),n.structuredQuery.from=[{collectionId:s.lastSegment()}]);const l=function(M){if(0!==M.length)return Kh(Yr.create(M,"and"))}(e.filters);l&&(n.structuredQuery.where=l);const c=function(M){if(0!==M.length)return M.map(z=>{return{field:Cl((pe=z).field),direction:Ev(pe.dir)};var pe})}(e.orderBy);c&&(n.structuredQuery.orderBy=c);const f=bd(i,e.limit);return null!==f&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt={before:(M=e.startAt).inclusive,values:M.position}),e.endAt&&(n.structuredQuery.endAt=function(M){return{before:!M.inclusive,values:M.position}}(e.endAt)),n;var M}function d_(i){let e=tm(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let l=null;if(s>0){an(1===s);const X=n.from[0];X.allDescendants?l=X.collectionId:e=e.child(X.collectionId)}let c=[];n.where&&(c=function(pe){const ke=f_(pe);return ke instanceof Yr&&da(ke)?ke.getFilters():[ke]}(n.where));let f=[];n.orderBy&&(f=n.orderBy.map(ke=>{return new Ra(bl((Rt=ke).field),function(Bt){switch(Bt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Rt.direction));var Rt}));let D=null;n.limit&&(D=function(pe){let ke;return ke="object"==typeof pe?pe.value:pe,ua(ke)?null:ke}(n.limit));let M=null;var pe;n.startAt&&(M=new Io((pe=n.startAt).values||[],!!pe.before));let z=null;return n.endAt&&(z=function(pe){return new Io(pe.values||[],!pe.before)}(n.endAt)),I(e,l,f,c,D,"F",M,z)}function f_(i){return void 0!==i.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=bl(n.unaryFilter.field);return mr.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=bl(n.unaryFilter.field);return mr.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=bl(n.unaryFilter.field);return mr.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=bl(n.unaryFilter.field);return mr.create(f,"!=",{nullValue:"NULL_VALUE"});default:return Kt()}}(i):void 0!==i.fieldFilter?mr.create(bl((n=i).fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Kt()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==i.compositeFilter?function(n){return Yr.create(n.compositeFilter.filters.map(s=>f_(s)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Kt()}}(n.compositeFilter.op))}(i):Kt();var n}function Ev(i){return Jp[i]}function Tv(i){return Xp[i]}function p_(i){return yv[i]}function Cl(i){return{fieldPath:i.canonicalString()}}function bl(i){return Zr.fromServerFormat(i.fieldPath)}function Kh(i){return i instanceof mr?function(n){if("=="===n.op){if(pc(n.value))return{unaryFilter:{field:Cl(n.field),op:"IS_NAN"}};if(Np(n.value))return{unaryFilter:{field:Cl(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(pc(n.value))return{unaryFilter:{field:Cl(n.field),op:"IS_NOT_NAN"}};if(Np(n.value))return{unaryFilter:{field:Cl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cl(n.field),op:Tv(n.op),value:n.value}}}(i):i instanceof Yr?function(n){const s=n.getFilters().map(l=>Kh(l));return 1===s.length?s[0]:{compositeFilter:{op:p_(n.op),filters:s}}}(i):Kt()}function Cc(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function m_(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class Dl{constructor(e,n,s,l,c=ln.min(),f=ln.min(),D=gi.EMPTY_BYTE_STRING,M=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=D,this.expectedCount=M}withSequenceNumber(e){return new Dl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Dl(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Dl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Dl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class wv{constructor(e){this.ut=e}}function Zh(i,e){const n=e.key,s={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Yh(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:tu(c=i.ut,(f=e).key),fields:f.data.value.mapValue.fields,updateTime:Hu(c,f.version.toTimestamp()),createTime:Hu(c,f.createTime.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:n.path.toArray(),readTime:ha(e.version)};else{if(!e.isUnknownDocument())return Kt();s.unknownDocument={path:n.path.toArray(),version:ha(e.version)}}var c,f;return s}function Yh(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function ha(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Qa(i){const e=new di(i.seconds,i.nanoseconds);return ln.fromTimestamp(e)}function Al(i,e){const n=(e.baseMutations||[]).map(c=>wc(i.ut,c));for(let c=0;c<e.mutations.length-1;++c)c+1<e.mutations.length&&void 0!==e.mutations[c+1].transform&&(e.mutations[c].updateTransforms=e.mutations[c+1].transform.fieldTransforms,e.mutations.splice(c+1,1),++c);const s=e.mutations.map(c=>wc(i.ut,c)),l=di.fromMillis(e.localWriteTimeMs);return new jh(e.batchId,l,n,s)}function bc(i){const e=Qa(i.readTime),n=void 0!==i.lastLimboFreeSnapshotVersion?Qa(i.lastLimboFreeSnapshotVersion):ln.min();let s;return s=void 0!==i.query.documents?(an(1===(c=i.query).documents.length),ie(h(tm(c.documents[0])))):function(c){return ie(d_(c))}(i.query),new Dl(s,i.targetId,"TargetPurposeListen",i.lastListenSequenceNumber,e,n,gi.fromBase64String(i.resumeToken));var c}function rm(i,e){const n=ha(e.snapshotVersion),s=ha(e.lastLimboFreeSnapshotVersion);let l;l=El(e.target)?qh(i.ut,e.target):$u(i.ut,e.target);const c=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Wa(e.target),readTime:n,resumeToken:c,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:l}}function Qh(i){const e=d_({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?Et(e,e.limit,"L"):e}function Jh(i,e){return new qp(e.largestBatchId,wc(i.ut,e.overlayMutation))}function g_(i,e){const n=e.path.lastSegment();return[i,hs(e.path.popLast()),n]}function __(i,e,n,s){return{indexId:i,uid:e.uid||"",sequenceNumber:n,readTime:ha(s.readTime),documentKey:hs(s.documentKey.path),largestBatchId:s.largestBatchId}}class bv{getBundleMetadata(e,n){return y_(e).get(n).next(s=>{if(s)return{id:(c=s).bundleId,createTime:Qa(c.createTime),version:c.version};var c})}saveBundleMetadata(e,n){return y_(e).put({bundleId:(l=n).id,createTime:ha(es(l.createTime)),version:l.version});var l}getNamedQuery(e,n){return v_(e).get(n).next(s=>{if(s)return{name:(c=s).name,query:Qh(c.bundledQuery),readTime:Qa(c.readTime)};var c})}saveNamedQuery(e,n){return v_(e).put({name:(l=n).name,readTime:ha(es(l.readTime)),bundledQuery:l.bundledQuery});var l}}function y_(i){return Qi(i,"bundles")}function v_(i){return Qi(i,"namedQueries")}class Ma{constructor(e,n){this.serializer=e,this.userId=n}static ct(e,n){return new Ma(e,n.uid||"")}getOverlay(e,n){return Sl(e).get(g_(this.userId,n)).next(s=>s?Jh(this.serializer,s):null)}getOverlays(e,n){const s=ea();return Q.forEach(n,l=>this.getOverlay(e,l).next(c=>{null!==c&&s.set(l,c)})).next(()=>s)}saveOverlays(e,n,s){const l=[];return s.forEach((c,f)=>{const D=new qp(n,f);l.push(this.lt(e,D))}),Q.waitFor(l)}removeOverlaysForBatchId(e,n,s){const l=new Set;n.forEach(f=>l.add(hs(f.getCollectionPath())));const c=[];return l.forEach(f=>{const D=IDBKeyRange.bound([this.userId,f,s],[this.userId,f,s+1],!1,!0);c.push(Sl(e).H("collectionPathOverlayIndex",D))}),Q.waitFor(c)}getOverlaysForCollection(e,n,s){const l=ea(),c=hs(n),f=IDBKeyRange.bound([this.userId,c,s],[this.userId,c,Number.POSITIVE_INFINITY],!0);return Sl(e).W("collectionPathOverlayIndex",f).next(D=>{for(const M of D){const z=Jh(this.serializer,M);l.set(z.getKey(),z)}return l})}getOverlaysForCollectionGroup(e,n,s,l){const c=ea();let f;const D=IDBKeyRange.bound([this.userId,n,s],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Sl(e).Y({index:"collectionGroupOverlayIndex",range:D},(M,z,X)=>{const pe=Jh(this.serializer,z);c.size()<l||pe.largestBatchId===f?(c.set(pe.getKey(),pe),f=pe.largestBatchId):X.done()}).next(()=>c)}lt(e,n){return Sl(e).put(function(l,c,f){const[D,M,z]=g_(c,f.mutation.key);return{userId:c,collectionPath:M,documentId:z,collectionGroup:f.mutation.key.getCollectionGroup(),largestBatchId:f.largestBatchId,overlayMutation:ju(l.ut,f.mutation)}}(this.serializer,this.userId,n))}}function Sl(i){return Qi(i,"documentOverlays")}class zu{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(Pi(e.integerValue));else if("doubleValue"in e){const s=Pi(e.doubleValue);isNaN(s)?this.Tt(n,13):(this.Tt(n,15),Vo(s)?n.Et(0):n.Et(s))}else if("timestampValue"in e){const s=e.timestampValue;this.Tt(n,20),"string"==typeof s?n.dt(s):(n.dt(`${s.seconds||""}`),n.Et(s.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(to(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){const s=e.geoPointValue;this.Tt(n,45),n.Et(s.latitude||0),n.Et(s.longitude||0)}else"mapValue"in e?yl(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):Kt()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){const s=e.fields||{};this.Tt(n,55);for(const l of Object.keys(s))this.At(l,n),this.Pt(s[l],n)}yt(e,n){const s=e.values||[];this.Tt(n,50);for(const l of s)this.Pt(l,n)}ft(e,n){this.Tt(n,37),Ft.fromName(e).path.forEach(s=>{this.Tt(n,60),this.wt(s,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}}function LE(i){if(0===i)return 8;let e=0;return!(i>>4)&&(e+=4,i<<=4),!(i>>6)&&(e+=2,i<<=2),!(i>>7)&&(e+=1),e}function Dv(i){const e=64-function(s){let l=0;for(let c=0;c<8;++c){const f=LE(255&s[c]);if(l+=f,8!==f)break}return l}(i);return Math.ceil(e/8)}zu.St=new zu;class FE{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const n=e[Symbol.iterator]();let s=n.next();for(;!s.done;)this.Dt(s.value),s=n.next();this.Ct()}vt(e){const n=e[Symbol.iterator]();let s=n.next();for(;!s.done;)this.Ft(s.value),s=n.next();this.Mt()}xt(e){for(const n of e){const s=n.charCodeAt(0);if(s<128)this.Dt(s);else if(s<2048)this.Dt(960|s>>>6),this.Dt(128|63&s);else if(n<"\ud800"||"\udbff"<n)this.Dt(480|s>>>12),this.Dt(128|63&s>>>6),this.Dt(128|63&s);else{const l=n.codePointAt(0);this.Dt(240|l>>>18),this.Dt(128|63&l>>>12),this.Dt(128|63&l>>>6),this.Dt(128|63&l)}}this.Ct()}Ot(e){for(const n of e){const s=n.charCodeAt(0);if(s<128)this.Ft(s);else if(s<2048)this.Ft(960|s>>>6),this.Ft(128|63&s);else if(n<"\ud800"||"\udbff"<n)this.Ft(480|s>>>12),this.Ft(128|63&s>>>6),this.Ft(128|63&s);else{const l=n.codePointAt(0);this.Ft(240|l>>>18),this.Ft(128|63&l>>>12),this.Ft(128|63&l>>>6),this.Ft(128|63&l)}}this.Mt()}Nt(e){const n=this.Bt(e),s=Dv(n);this.Lt(1+s),this.buffer[this.position++]=255&s;for(let l=n.length-s;l<n.length;++l)this.buffer[this.position++]=255&n[l]}kt(e){const n=this.Bt(e),s=Dv(n);this.Lt(1+s),this.buffer[this.position++]=~(255&s);for(let l=n.length-s;l<n.length;++l)this.buffer[this.position++]=~(255&n[l])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Bt(e){const n=function(c){const f=new DataView(new ArrayBuffer(8));return f.setFloat64(0,c,!1),new Uint8Array(f.buffer)}(e),s=0!=(128&n[0]);n[0]^=s?255:128;for(let l=1;l<n.length;++l)n[l]^=s?255:0;return n}Dt(e){const n=255&e;0===n?(this.Qt(0),this.Qt(255)):255===n?(this.Qt(255),this.Qt(0)):this.Qt(n)}Ft(e){const n=255&e;0===n?(this.$t(0),this.$t(255)):255===n?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Lt(1),this.buffer[this.position++]=e}$t(e){this.Lt(1),this.buffer[this.position++]=~e}Lt(e){const n=e+this.position;if(n<=this.buffer.length)return;let s=2*this.buffer.length;s<n&&(s=n);const l=new Uint8Array(s);l.set(this.buffer),this.buffer=l}}class VE{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class UE{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class Dc{constructor(){this.Wt=new FE,this.Gt=new VE(this.Wt),this.zt=new UE(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return 0===e?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class Gu{constructor(e,n,s,l){this.indexId=e,this.documentKey=n,this.arrayValue=s,this.directionalValue=l}Ht(){const e=this.directionalValue.length,n=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(n);return s.set(this.directionalValue,0),n!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new Gu(this.indexId,this.documentKey,this.arrayValue,s)}}function nu(i,e){let n=i.indexId-e.indexId;return 0!==n?n:(n=I_(i.arrayValue,e.arrayValue),0!==n?n:(n=I_(i.directionalValue,e.directionalValue),0!==n?n:Ft.comparator(i.documentKey,e.documentKey)))}function I_(i,e){for(let n=0;n<i.length&&n<e.length;++n){const s=i[n]-e[n];if(0!==s)return s}return i.length-e.length}class E_{constructor(e){this.Jt=new jr((n,s)=>Zr.comparator(n.field,s.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const n of e.filters){const s=n;s.isInequality()?this.Jt=this.Jt.add(s):this.Zt.push(s)}}get Xt(){return this.Jt.size>1}en(e){if(an(e.collectionGroup===this.collectionId),this.Xt)return!1;const n=Ha(e);if(void 0!==n&&!this.tn(n))return!1;const s=aa(e);let l=new Set,c=0,f=0;for(;c<s.length&&this.tn(s[c]);++c)l=l.add(s[c].fieldPath.canonicalString());if(c===s.length)return!0;if(this.Jt.size>0){const D=this.Jt.getIterator().getNext();if(!l.has(D.field.canonicalString())){const M=s[c];if(!this.nn(D,M)||!this.rn(this.Yt[f++],M))return!1}++c}for(;c<s.length;++c)if(f>=this.Yt.length||!this.rn(this.Yt[f++],s[c]))return!1;return!0}sn(){if(this.Xt)return null;let e=new jr(Zr.comparator);const n=[];for(const s of this.Zt)if(!s.field.isKeyField())if("array-contains"===s.op||"array-contains-any"===s.op)n.push(new ba(s.field,2));else{if(e.has(s.field))continue;e=e.add(s.field),n.push(new ba(s.field,0))}for(const s of this.Yt)s.field.isKeyField()||e.has(s.field)||(e=e.add(s.field),n.push(new ba(s.field,"asc"===s.dir?0:1)));return new Ms(Ms.UNKNOWN_ID,this.collectionId,n,Da.empty())}tn(e){for(const n of this.Zt)if(this.nn(n,e))return!0;return!1}nn(e,n){return!(void 0===e||!e.field.isEqual(n.fieldPath))&&2===n.kind==("array-contains"===e.op||"array-contains-any"===e.op)}rn(e,n){return!!e.field.isEqual(n.fieldPath)&&(0===n.kind&&"asc"===e.dir||1===n.kind&&"desc"===e.dir)}}function Xh(i){var e,n;if(an(i instanceof mr||i instanceof Yr),i instanceof mr){if(i instanceof md){const l=(null===(n=null===(e=i.value.arrayValue)||void 0===e?void 0:e.values)||void 0===n?void 0:n.map(c=>mr.create(i.field,"==",c)))||[];return Yr.create(l,"or")}return i}const s=i.filters.map(l=>Xh(l));return Yr.create(s,i.op)}function Pl(i){if(0===i.getFilters().length)return[];const e=tf(Xh(i));return an(im(e)),Wu(e)||ef(e)?[e]:e.getFilters()}function Wu(i){return i instanceof mr}function ef(i){return i instanceof Yr&&da(i)}function im(i){return Wu(i)||ef(i)||function(n){if(n instanceof Yr&&Pu(n)){for(const s of n.getFilters())if(!Wu(s)&&!ef(s))return!1;return!0}return!1}(i)}function tf(i){if(an(i instanceof mr||i instanceof Yr),i instanceof mr)return i;if(1===i.filters.length)return tf(i.filters[0]);const e=i.filters.map(s=>tf(s));let n=Yr.create(e,i.op);return n=sm(n),im(n)?n:(an(n instanceof Yr),an(ws(n)),an(n.filters.length>1),n.filters.reduce((s,l)=>T_(s,l)))}function T_(i,e){let n;return an(i instanceof mr||i instanceof Yr),an(e instanceof mr||e instanceof Yr),n=i instanceof mr?e instanceof mr?Yr.create([i,e],"and"):Av(i,e):e instanceof mr?Av(e,i):function(l,c){if(an(l.filters.length>0&&c.filters.length>0),ws(l)&&ws(c))return xh(l,c.getFilters());const f=Pu(l)?l:c,D=Pu(l)?c:l,M=f.filters.map(z=>T_(z,D));return Yr.create(M,"or")}(i,e),sm(n)}function Av(i,e){if(ws(e))return xh(e,i.getFilters());{const n=e.filters.map(s=>T_(i,s));return Yr.create(n,"or")}}function sm(i){if(an(i instanceof mr||i instanceof Yr),i instanceof mr)return i;const e=i.getFilters();if(1===e.length)return sm(e[0]);if(dd(i))return i;const n=e.map(l=>sm(l)),s=[];return n.forEach(l=>{l instanceof mr?s.push(l):l instanceof Yr&&(l.op===i.op?s.push(...l.filters):s.push(l))}),1===s.length?s[0]:Yr.create(s,i.op)}class om{constructor(){this.on=new Sd}addToCollectionParentIndex(e,n){return this.on.add(n),Q.resolve()}getCollectionParents(e,n){return Q.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return Q.resolve()}deleteFieldIndex(e,n){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,n){return Q.resolve()}getDocumentsMatchingTarget(e,n){return Q.resolve(null)}getIndexType(e,n){return Q.resolve(0)}getFieldIndexes(e,n){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,n){return Q.resolve(T.min())}getMinOffsetFromCollectionGroup(e,n){return Q.resolve(T.min())}updateCollectionGroup(e,n,s){return Q.resolve()}updateIndexEntries(e,n){return Q.resolve()}}class Sd{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),l=this.index[n]||new jr(Sn.comparator),c=!l.has(s);return this.index[n]=l.add(s),c}has(e){const n=e.lastSegment(),s=e.popLast(),l=this.index[n];return l&&l.has(s)}getEntries(e){return(this.index[e]||new jr(Sn.comparator)).toArray()}}const am=new Uint8Array(0);class BE{constructor(e,n){this.user=e,this.databaseId=n,this._n=new Sd,this.an=new Xo(s=>Wa(s),(s,l)=>Il(s,l)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this._n.has(n)){const s=n.lastSegment(),l=n.popLast();e.addOnCommittedListener(()=>{this._n.add(n)});const c={collectionId:s,parent:hs(l)};return lm(e).put(c)}return Q.resolve()}getCollectionParents(e,n){const s=[],l=IDBKeyRange.bound([n,""],[Ba(n),""],!1,!0);return lm(e).W(l).next(c=>{for(const f of c){if(f.collectionId!==n)break;s.push(lo(f.parent))}return s})}addFieldIndex(e,n){const s=Pd(e),l={indexId:(D=n).indexId,collectionGroup:D.collectionGroup,fields:D.fields.map(M=>[M.fieldPath.canonicalString(),M.kind])};var D;delete l.indexId;const c=s.add(l);if(n.indexState){const f=Sc(e);return c.next(D=>{f.put(__(D,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return c.next()}deleteFieldIndex(e,n){const s=Pd(e),l=Sc(e),c=Ac(e);return s.delete(n.indexId).next(()=>l.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>c.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=Pd(e),s=Ac(e),l=Sc(e);return n.H().next(()=>s.H()).next(()=>l.H())}createTargetIndexes(e,n){return Q.forEach(this.un(n),s=>this.getIndexType(e,s).next(l=>{if(0===l||1===l){const c=new E_(s).sn();if(null!=c)return this.addFieldIndex(e,c)}}))}getDocumentsMatchingTarget(e,n){const s=Ac(e);let l=!0;const c=new Map;return Q.forEach(this.un(n),f=>this.cn(e,f).next(D=>{l&&(l=!!D),c.set(f,D)})).next(()=>{if(l){let f=rr();const D=[];return Q.forEach(c,(M,z)=>{var bn;pt("IndexedDbIndexManager",`Using index ${bn=M,`id=${bn.indexId}|cg=${bn.collectionGroup}|f=${bn.fields.map(sr=>`${sr.fieldPath}:${sr.kind}`).join(",")}`} to execute ${Wa(n)}`);const X=function(bn,sr){const Ar=Ha(sr);if(void 0===Ar)return null;for(const Rr of Mu(bn,Ar.fieldPath))switch(Rr.op){case"array-contains-any":return Rr.value.arrayValue.values||[];case"array-contains":return[Rr.value]}return null}(z,M),pe=function(bn,sr){const Ar=new Map;for(const Rr of aa(sr))for(const ms of Mu(bn,Rr.fieldPath))switch(ms.op){case"==":case"in":Ar.set(Rr.fieldPath.canonicalString(),ms.value);break;case"not-in":case"!=":return Ar.set(Rr.fieldPath.canonicalString(),ms.value),Array.from(Ar.values())}return null}(z,M),ke=function(bn,sr){const Ar=[];let Rr=!0;for(const ms of aa(sr)){const Fa=0===ms.kind?_d(bn,ms.fieldPath,bn.startAt):Nh(bn,ms.fieldPath,bn.startAt);Ar.push(Fa.value),Rr&&(Rr=Fa.inclusive)}return new Io(Ar,Rr)}(z,M),Je=function(bn,sr){const Ar=[];let Rr=!0;for(const ms of aa(sr)){const Fa=0===ms.kind?Nh(bn,ms.fieldPath,bn.endAt):_d(bn,ms.fieldPath,bn.endAt);Ar.push(Fa.value),Rr&&(Rr=Fa.inclusive)}return new Io(Ar,Rr)}(z,M),Rt=this.ln(M,z,ke),Ut=this.ln(M,z,Je),Bt=this.hn(M,z,pe),Mn=this.Pn(M.indexId,X,Rt,ke.inclusive,Ut,Je.inclusive,Bt);return Q.forEach(Mn,$n=>s.j($n,n.limit).next(bn=>{bn.forEach(sr=>{const Ar=Ft.fromSegments(sr.documentKey);f.has(Ar)||(f=f.add(Ar),D.push(Ar))})}))}).next(()=>D)}return Q.resolve(null)})}un(e){let n=this.an.get(e);return n||(n=0===e.filters.length?[e]:Pl(Yr.create(e.filters,"and")).map(s=>gd(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt)),this.an.set(e,n),n)}Pn(e,n,s,l,c,f,D){const M=(null!=n?n.length:1)*Math.max(s.length,c.length),z=M/(null!=n?n.length:1),X=[];for(let pe=0;pe<M;++pe){const ke=n?this.In(n[pe/z]):am,Je=this.Tn(e,ke,s[pe%z],l),Rt=this.En(e,ke,c[pe%z],f),Ut=D.map(Bt=>this.Tn(e,ke,Bt,!0));X.push(...this.createRange(Je,Rt,Ut))}return X}Tn(e,n,s,l){const c=new Gu(e,Ft.empty(),n,s);return l?c:c.Ht()}En(e,n,s,l){const c=new Gu(e,Ft.empty(),n,s);return l?c.Ht():c}cn(e,n){const s=new E_(n),l=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,l).next(c=>{let f=null;for(const D of c)s.en(D)&&(!f||D.fields.length>f.fields.length)&&(f=D);return f})}getIndexType(e,n){let s=2;const l=this.un(n);return Q.forEach(l,c=>this.cn(e,c).next(f=>{f?0!==s&&f.fields.length<function(M){let z=new jr(Zr.comparator),X=!1;for(const pe of M.filters)for(const ke of pe.getFlattenedFilters())ke.field.isKeyField()||("array-contains"===ke.op||"array-contains-any"===ke.op?X=!0:z=z.add(ke.field));for(const pe of M.orderBy)pe.field.isKeyField()||(z=z.add(pe.field));return z.size+(X?1:0)}(c)&&(s=1):s=0})).next(()=>null!==n.limit&&l.length>1&&2===s?1:s)}dn(e,n){const s=new Dc;for(const l of aa(e)){const c=n.data.field(l.fieldPath);if(null==c)return null;const f=s.jt(l.kind);zu.St.ht(c,f)}return s.Ut()}In(e){const n=new Dc;return zu.St.ht(e,n.jt(0)),n.Ut()}An(e,n){const s=new Dc;return zu.St.ht(_l(this.databaseId,n),s.jt(function(c){const f=aa(c);return 0===f.length?0:f[f.length-1].kind}(e))),s.Ut()}hn(e,n,s){if(null===s)return[];let l=[];l.push(new Dc);let c=0;for(const f of aa(e)){const D=s[c++];for(const M of l)if(this.Rn(n,f.fieldPath)&&Au(D))l=this.Vn(l,f,D);else{const z=M.jt(f.kind);zu.St.ht(D,z)}}return this.mn(l)}ln(e,n,s){return this.hn(e,n,s.position)}mn(e){const n=[];for(let s=0;s<e.length;++s)n[s]=e[s].Ut();return n}Vn(e,n,s){const l=[...e],c=[];for(const f of s.arrayValue.values||[])for(const D of l){const M=new Dc;M.seed(D.Ut()),zu.St.ht(f,M.jt(n.kind)),c.push(M)}return c}Rn(e,n){return!!e.filters.find(s=>s instanceof mr&&s.field.isEqual(n)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,n){const s=Pd(e),l=Sc(e);return(n?s.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):s.W()).next(c=>{const f=[];return Q.forEach(c,D=>l.get([D.indexId,this.uid]).next(M=>{f.push(function(X,pe){const ke=pe?new Da(pe.sequenceNumber,new T(Qa(pe.readTime),new Ft(lo(pe.documentKey)),pe.largestBatchId)):Da.empty(),Je=X.fields.map(([Rt,Ut])=>new ba(Zr.fromServerFormat(Rt),Ut));return new Ms(X.indexId,X.collectionGroup,Je,ke)}(D,M))})).next(()=>f)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>0===n.length?null:(n.sort((s,l)=>{const c=s.indexState.sequenceNumber-l.indexState.sequenceNumber;return 0!==c?c:vn(s.collectionGroup,l.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,s){const l=Pd(e),c=Sc(e);return this.fn(e).next(f=>l.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(D=>Q.forEach(D,M=>c.put(__(M.indexId,this.user,f,s)))))}updateIndexEntries(e,n){const s=new Map;return Q.forEach(n,(l,c)=>{const f=s.get(l.collectionGroup);return(f?Q.resolve(f):this.getFieldIndexes(e,l.collectionGroup)).next(D=>(s.set(l.collectionGroup,D),Q.forEach(D,M=>this.gn(e,l,M).next(z=>{const X=this.pn(c,M);return z.isEqual(X)?Q.resolve():this.yn(e,c,M,z,X)}))))})}wn(e,n,s,l){return Ac(e).put({indexId:l.indexId,uid:this.uid,arrayValue:l.arrayValue,directionalValue:l.directionalValue,orderedDocumentKey:this.An(s,n.key),documentKey:n.key.path.toArray()})}Sn(e,n,s,l){return Ac(e).delete([l.indexId,this.uid,l.arrayValue,l.directionalValue,this.An(s,n.key),n.key.path.toArray()])}gn(e,n,s){const l=Ac(e);let c=new jr(nu);return l.Y({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.An(s,n)])},(f,D)=>{c=c.add(new Gu(s.indexId,n,D.arrayValue,D.directionalValue))}).next(()=>c)}pn(e,n){let s=new jr(nu);const l=this.dn(n,e);if(null==l)return s;const c=Ha(n);if(null!=c){const f=e.data.field(c.fieldPath);if(Au(f))for(const D of f.arrayValue.values||[])s=s.add(new Gu(n.indexId,e.key,this.In(D),l))}else s=s.add(new Gu(n.indexId,e.key,am,l));return s}yn(e,n,s,l,c){pt("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const f=[];return function(M,z,X,pe,ke){const Je=M.getIterator(),Rt=z.getIterator();let Ut=Sa(Je),Bt=Sa(Rt);for(;Ut||Bt;){let Mn=!1,$n=!1;if(Ut&&Bt){const bn=X(Ut,Bt);bn<0?$n=!0:bn>0&&(Mn=!0)}else null!=Ut?$n=!0:Mn=!0;Mn?(pe(Bt),Bt=Sa(Rt)):$n?(ke(Ut),Ut=Sa(Je)):(Ut=Sa(Je),Bt=Sa(Rt))}}(l,c,nu,D=>{f.push(this.wn(e,n,s,D))},D=>{f.push(this.Sn(e,n,s,D))}),Q.waitFor(f)}fn(e){let n=1;return Sc(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,l,c)=>{c.done(),n=l.sequenceNumber+1}).next(()=>n)}createRange(e,n,s){s=s.sort((f,D)=>nu(f,D)).filter((f,D,M)=>!D||0!==nu(f,M[D-1]));const l=[];l.push(e);for(const f of s){const D=nu(f,e),M=nu(f,n);if(0===D)l[0]=e.Ht();else if(D>0&&M<0)l.push(f),l.push(f.Ht());else if(M>0)break}l.push(n);const c=[];for(let f=0;f<l.length;f+=2){if(this.bn(l[f],l[f+1]))return[];c.push(IDBKeyRange.bound([l[f].indexId,this.uid,l[f].arrayValue,l[f].directionalValue,am,[]],[l[f+1].indexId,this.uid,l[f+1].arrayValue,l[f+1].directionalValue,am,[]]))}return c}bn(e,n){return nu(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(w_)}getMinOffset(e,n){return Q.mapArray(this.un(n),s=>this.cn(e,s).next(l=>l||Kt())).next(w_)}}function lm(i){return Qi(i,"collectionParents")}function Ac(i){return Qi(i,"indexEntries")}function Pd(i){return Qi(i,"indexConfiguration")}function Sc(i){return Qi(i,"indexState")}function w_(i){an(0!==i.length);let e=i[0].indexState.offset,n=e.largestBatchId;for(let s=1;s<i.length;s++){const l=i[s].indexState.offset;A(l,e)<0&&(e=l),n<l.largestBatchId&&(n=l.largestBatchId)}return new T(e.readTime,e.documentKey,n)}const um={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Os{constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new Os(e,Os.DEFAULT_COLLECTION_PERCENTILE,Os.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function C_(i,e,n){const s=i.store("mutations"),l=i.store("documentMutations"),c=[],f=IDBKeyRange.only(n.batchId);let D=0;const M=s.Y({range:f},(X,pe,ke)=>(D++,ke.delete()));c.push(M.next(()=>{an(1===D)}));const z=[];for(const X of n.mutations){const pe=bh(e,X.key.path,n.batchId);c.push(l.delete(pe)),z.push(X.key)}return Q.waitFor(c).next(()=>z)}function Pc(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw Kt();e=i.noDocument}return JSON.stringify(e).length}Os.DEFAULT_COLLECTION_PERCENTILE=10,Os.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Os.DEFAULT=new Os(41943040,Os.DEFAULT_COLLECTION_PERCENTILE,Os.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Os.DISABLED=new Os(-1,0,0);class nf{constructor(e,n,s,l){this.userId=e,this.serializer=n,this.indexManager=s,this.referenceDelegate=l,this.Dn={}}static ct(e,n,s,l){an(""!==e.uid);const c=e.isAuthenticated()?e.uid:"";return new nf(c,n,s,l)}checkEmpty(e){let n=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ru(e).Y({index:"userMutationsIndex",range:s},(l,c,f)=>{n=!1,f.done()}).next(()=>n)}addMutationBatch(e,n,s,l){const c=Rc(e),f=ru(e);return f.add({}).next(D=>{an("number"==typeof D);const M=new jh(D,n,s,l),z=function(Je,Rt,Ut){const Bt=Ut.baseMutations.map($n=>ju(Je.ut,$n)),Mn=Ut.mutations.map($n=>ju(Je.ut,$n));return{userId:Rt,batchId:Ut.batchId,localWriteTimeMs:Ut.localWriteTime.toMillis(),baseMutations:Bt,mutations:Mn}}(this.serializer,this.userId,M),X=[];let pe=new jr((ke,Je)=>vn(ke.canonicalString(),Je.canonicalString()));for(const ke of l){const Je=bh(this.userId,ke.key.path,D);pe=pe.add(ke.key.path.popLast()),X.push(f.put(z)),X.push(c.put(Je,$a))}return pe.forEach(ke=>{X.push(this.indexManager.addToCollectionParentIndex(e,ke))}),e.addOnCommittedListener(()=>{this.Dn[D]=M.keys()}),Q.waitFor(X).next(()=>M)})}lookupMutationBatch(e,n){return ru(e).get(n).next(s=>s?(an(s.userId===this.userId),Al(this.serializer,s)):null)}Cn(e,n){return this.Dn[n]?Q.resolve(this.Dn[n]):this.lookupMutationBatch(e,n).next(s=>{if(s){const l=s.keys();return this.Dn[n]=l,l}return null})}getNextMutationBatchAfterBatchId(e,n){const s=n+1,l=IDBKeyRange.lowerBound([this.userId,s]);let c=null;return ru(e).Y({index:"userMutationsIndex",range:l},(f,D,M)=>{D.userId===this.userId&&(an(D.batchId>=s),c=Al(this.serializer,D)),M.done()}).next(()=>c)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return ru(e).Y({index:"userMutationsIndex",range:n,reverse:!0},(l,c,f)=>{s=c.batchId,f.done()}).next(()=>s)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ru(e).W("userMutationsIndex",n).next(s=>s.map(l=>Al(this.serializer,l)))}getAllMutationBatchesAffectingDocumentKey(e,n){const s=ul(this.userId,n.path),l=IDBKeyRange.lowerBound(s),c=[];return Rc(e).Y({range:l},(f,D,M)=>{const[z,X,pe]=f,ke=lo(X);if(z===this.userId&&n.path.isEqual(ke))return ru(e).get(pe).next(Je=>{if(!Je)throw Kt();an(Je.userId===this.userId),c.push(Al(this.serializer,Je))});M.done()}).next(()=>c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new jr(vn);const l=[];return n.forEach(c=>{const f=ul(this.userId,c.path),D=IDBKeyRange.lowerBound(f),M=Rc(e).Y({range:D},(z,X,pe)=>{const[ke,Je,Rt]=z,Ut=lo(Je);ke===this.userId&&c.path.isEqual(Ut)?s=s.add(Rt):pe.done()});l.push(M)}),Q.waitFor(l).next(()=>this.vn(e,s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,l=s.length+1,c=ul(this.userId,s),f=IDBKeyRange.lowerBound(c);let D=new jr(vn);return Rc(e).Y({range:f},(M,z,X)=>{const[pe,ke,Je]=M,Rt=lo(ke);pe===this.userId&&s.isPrefixOf(Rt)?Rt.length===l&&(D=D.add(Je)):X.done()}).next(()=>this.vn(e,D))}vn(e,n){const s=[],l=[];return n.forEach(c=>{l.push(ru(e).get(c).next(f=>{if(null===f)throw Kt();an(f.userId===this.userId),s.push(Al(this.serializer,f))}))}),Q.waitFor(l).next(()=>s)}removeMutationBatch(e,n){return C_(e.ae,this.userId,n).next(s=>(e.addOnCommittedListener(()=>{this.Fn(n.batchId)}),Q.forEach(s,l=>this.referenceDelegate.markPotentiallyOrphaned(e,l))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return Q.resolve();const s=IDBKeyRange.lowerBound([this.userId]),l=[];return Rc(e).Y({range:s},(c,f,D)=>{if(c[0]===this.userId){const M=lo(c[1]);l.push(M)}else D.done()}).next(()=>{an(0===l.length)})})}containsKey(e,n){return qu(e,this.userId,n)}Mn(e){return rf(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function qu(i,e,n){const s=ul(e,n.path),l=s[1],c=IDBKeyRange.lowerBound(s);let f=!1;return Rc(i).Y({range:c,J:!0},(D,M,z)=>{const[X,pe,ke]=D;X===e&&pe===l&&(f=!0),z.done()}).next(()=>f)}function ru(i){return Qi(i,"mutations")}function Rc(i){return Qi(i,"documentMutations")}function rf(i){return Qi(i,"mutationQueues")}class iu{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new iu(0)}static Nn(){return new iu(-1)}}class Sv{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Bn(e).next(n=>{const s=new iu(n.highestTargetId);return n.highestTargetId=s.next(),this.Ln(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(n=>ln.fromTimestamp(new di(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,s){return this.Bn(e).next(l=>(l.highestListenSequenceNumber=n,s&&(l.lastRemoteSnapshotVersion=s.toTimestamp()),n>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=n),this.Ln(e,l)))}addTargetData(e,n){return this.kn(e,n).next(()=>this.Bn(e).next(s=>(s.targetCount+=1,this.qn(n,s),this.Ln(e,s))))}updateTargetData(e,n){return this.kn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Mc(e).delete(n.targetId)).next(()=>this.Bn(e)).next(s=>(an(s.targetCount>0),s.targetCount-=1,this.Ln(e,s)))}removeTargets(e,n,s){let l=0;const c=[];return Mc(e).Y((f,D)=>{const M=bc(D);M.sequenceNumber<=n&&null===s.get(M.targetId)&&(l++,c.push(this.removeTargetData(e,M)))}).next(()=>Q.waitFor(c)).next(()=>l)}forEachTarget(e,n){return Mc(e).Y((s,l)=>{const c=bc(l);n(c)})}Bn(e){return b_(e).get("targetGlobalKey").next(n=>(an(null!==n),n))}Ln(e,n){return b_(e).put("targetGlobalKey",n)}kn(e,n){return Mc(e).put(rm(this.serializer,n))}qn(e,n){let s=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,s=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.Bn(e).next(n=>n.targetCount)}getTargetData(e,n){const s=Wa(n),l=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let c=null;return Mc(e).Y({range:l,index:"queryTargetsIndex"},(f,D,M)=>{const z=bc(D);Il(n,z.target)&&(c=z,M.done())}).next(()=>c)}addMatchingKeys(e,n,s){const l=[],c=su(e);return n.forEach(f=>{const D=hs(f.path);l.push(c.put({targetId:s,path:D})),l.push(this.referenceDelegate.addReference(e,s,f))}),Q.waitFor(l)}removeMatchingKeys(e,n,s){const l=su(e);return Q.forEach(n,c=>{const f=hs(c.path);return Q.waitFor([l.delete([s,f]),this.referenceDelegate.removeReference(e,s,c)])})}removeMatchingKeysForTargetId(e,n){const s=su(e),l=IDBKeyRange.bound([n],[n+1],!1,!0);return s.delete(l)}getMatchingKeysForTargetId(e,n){const s=IDBKeyRange.bound([n],[n+1],!1,!0),l=su(e);let c=rr();return l.Y({range:s,J:!0},(f,D,M)=>{const z=lo(f[1]),X=new Ft(z);c=c.add(X)}).next(()=>c)}containsKey(e,n){const s=hs(n.path),l=IDBKeyRange.bound([s],[Ba(s)],!1,!0);let c=0;return su(e).Y({index:"documentTargetsIndex",J:!0,range:l},([f,D],M,z)=>{0!==f&&(c++,z.done())}).next(()=>c>0)}_t(e,n){return Mc(e).get(n).next(s=>s?bc(s):null)}}function Mc(i){return Qi(i,"targets")}function b_(i){return Qi(i,"targetGlobal")}function su(i){return Qi(i,"targetDocuments")}function cm([i,e],[n,s]){const l=vn(i,n);return 0===l?vn(e,s):l}class HE{constructor(e){this.Qn=e,this.buffer=new jr(cm),this.Kn=0}$n(){return++this.Kn}Un(e){const n=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();cm(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Pv{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(e){var n=this;pt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,fe.Z)(function*(){n.Wn=null;try{yield n.localStore.collectGarbage(n.garbageCollector)}catch(s){Xn(s)?pt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield B(s)}yield n.Gn(3e5)}))}}class Rd{constructor(e,n){this.zn=e,this.params=n}calculateTargetCount(e,n){return this.zn.jn(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(0===n)return Q.resolve(Ws._e);const s=new HE(n);return this.zn.forEachTarget(e,l=>s.Un(l.sequenceNumber)).next(()=>this.zn.Hn(e,l=>s.Un(l))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.zn.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.zn.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?(pt("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(um)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(pt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),um):this.Jn(e,n))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,n){let s,l,c,f,D,M,z;const X=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(pe=>(pe>this.params.maximumSequenceNumbersToCollect?(pt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${pe}`),l=this.params.maximumSequenceNumbersToCollect):l=pe,f=Date.now(),this.nthSequenceNumber(e,l))).next(pe=>(s=pe,D=Date.now(),this.removeTargets(e,s,n))).next(pe=>(c=pe,M=Date.now(),this.removeOrphanedDocuments(e,s))).next(pe=>(z=Date.now(),ci()<=Te.in.DEBUG&&pt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${f-X}ms\n\tDetermined least recently used ${l} in `+(D-f)+`ms\n\tRemoved ${c} targets in `+(M-D)+`ms\n\tRemoved ${pe} documents in `+(z-M)+`ms\nTotal Duration: ${z-X}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:pe})))}}class Md{constructor(e,n){this.db=e,this.garbageCollector=function Fr(i,e){return new Rd(i,e)}(this,n)}jn(e){const n=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next(s=>n.next(l=>s+l))}Yn(e){let n=0;return this.Hn(e,s=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Hn(e,n){return this.Zn(e,(s,l)=>n(l))}addReference(e,n,s){return xd(e,s)}removeReference(e,n,s){return xd(e,s)}removeTargets(e,n,s){return this.db.getTargetCache().removeTargets(e,n,s)}markPotentiallyOrphaned(e,n){return xd(e,n)}Xn(e,n){return function(l,c){let f=!1;return rf(l).Z(D=>qu(l,D,c).next(M=>(M&&(f=!0),Q.resolve(!M)))).next(()=>f)}(e,n)}removeOrphanedDocuments(e,n){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),l=[];let c=0;return this.Zn(e,(f,D)=>{if(D<=n){const M=this.Xn(e,f).next(z=>{if(!z)return c++,s.getEntry(e,f).next(()=>(s.removeEntry(f,ln.min()),su(e).delete([0,hs(f.path)])))});l.push(M)}}).next(()=>Q.waitFor(l)).next(()=>s.apply(e)).next(()=>c)}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,n){return xd(e,n)}Zn(e,n){const s=su(e);let l,c=Ws._e;return s.Y({index:"documentTargetsIndex"},([f,D],{path:M,sequenceNumber:z})=>{0===f?(c!==Ws._e&&n(new Ft(lo(l)),c),c=z,l=M):c=Ws._e}).next(()=>{c!==Ws._e&&n(new Ft(lo(l)),c)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function xd(i,e){return su(i).put((l=i.currentSequenceNumber,{targetId:0,path:hs(e.path),sequenceNumber:l}));var l}class dm{constructor(){this.changes=new Xo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,pr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return void 0!==s?Q.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class hm{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,s){return ou(e).put(s)}removeEntry(e,n,s){return ou(e).delete(function(c,f){const D=c.path.toArray();return[D.slice(0,D.length-2),D[D.length-2],Yh(f),D[D.length-1]]}(n,s))}updateMetadata(e,n){return this.getMetadata(e).next(s=>(s.byteSize+=n,this.er(e,s)))}getEntry(e,n){let s=pr.newInvalidDocument(n);return ou(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(au(n))},(l,c)=>{s=this.tr(n,c)}).next(()=>s)}nr(e,n){let s={size:0,document:pr.newInvalidDocument(n)};return ou(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(au(n))},(l,c)=>{s={document:this.tr(n,c),size:Pc(c)}}).next(()=>s)}getEntries(e,n){let s=xs();return this.rr(e,n,(l,c)=>{const f=this.tr(l,c);s=s.insert(l,f)}).next(()=>s)}ir(e,n){let s=xs(),l=new Lr(Ft.comparator);return this.rr(e,n,(c,f)=>{const D=this.tr(c,f);s=s.insert(c,D),l=l.insert(c,Pc(f))}).next(()=>({documents:s,sr:l}))}rr(e,n,s){if(n.isEmpty())return Q.resolve();let l=new jr(af);n.forEach(M=>l=l.add(M));const c=IDBKeyRange.bound(au(l.first()),au(l.last())),f=l.getIterator();let D=f.getNext();return ou(e).Y({index:"documentKeyIndex",range:c},(M,z,X)=>{const pe=Ft.fromSegments([...z.prefixPath,z.collectionGroup,z.documentId]);for(;D&&af(D,pe)<0;)s(D,null),D=f.getNext();D&&D.isEqual(pe)&&(s(D,z),D=f.hasNext()?f.getNext():null),D?X.U(au(D)):X.done()}).next(()=>{for(;D;)s(D,null),D=f.hasNext()?f.getNext():null})}getDocumentsMatchingQuery(e,n,s,l,c){const f=n.path,D=[f.popLast().toArray(),f.lastSegment(),Yh(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],M=[f.popLast().toArray(),f.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ou(e).W(IDBKeyRange.bound(D,M,!0)).next(z=>{c?.incrementDocumentReadCount(z.length);let X=xs();for(const pe of z){const ke=this.tr(Ft.fromSegments(pe.prefixPath.concat(pe.collectionGroup,pe.documentId)),pe);ke.isFoundDocument()&&(fs(n,ke)||l.has(ke.key))&&(X=X.insert(ke.key,ke))}return X})}getAllFromCollectionGroup(e,n,s,l){let c=xs();const f=Mv(n,s),D=Mv(n,T.max());return ou(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(f,D,!0)},(M,z,X)=>{const pe=this.tr(Ft.fromSegments(z.prefixPath.concat(z.collectionGroup,z.documentId)),z);c=c.insert(pe.key,pe),c.size===l&&X.done()}).next(()=>c)}newChangeBuffer(e){return new Rv(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return fm(e).get("remoteDocumentGlobalKey").next(n=>(an(!!n),n))}er(e,n){return fm(e).put("remoteDocumentGlobalKey",n)}tr(e,n){if(n){const s=function Cv(i,e){let n;if(e.document)n=Dd(i.ut,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=Ft.fromSegments(e.noDocument.path),l=Qa(e.noDocument.readTime);n=pr.newNoDocument(s,l),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Kt();{const s=Ft.fromSegments(e.unknownDocument.path),l=Qa(e.unknownDocument.version);n=pr.newUnknownDocument(s,l)}}return e.readTime&&n.setReadTime(function(l){const c=new di(l[0],l[1]);return ln.fromTimestamp(c)}(e.readTime)),n}(this.serializer,n);if(!s.isNoDocument()||!s.version.isEqual(ln.min()))return s}return pr.newInvalidDocument(e)}}function sf(i){return new hm(i)}class Rv extends dm{constructor(e,n){super(),this._r=e,this.trackRemovals=n,this.ar=new Xo(s=>s.toString(),(s,l)=>s.isEqual(l))}applyChanges(e){const n=[];let s=0,l=new jr((c,f)=>vn(c.canonicalString(),f.canonicalString()));return this.changes.forEach((c,f)=>{const D=this.ar.get(c);if(n.push(this._r.removeEntry(e,c,D.readTime)),f.isValidDocument()){const M=Zh(this._r.serializer,f);l=l.add(c.path.popLast());const z=Pc(M);s+=z-D.size,n.push(this._r.addEntry(e,c,M))}else if(s-=D.size,this.trackRemovals){const M=Zh(this._r.serializer,f.convertToNoDocument(ln.min()));n.push(this._r.addEntry(e,c,M))}}),l.forEach(c=>{n.push(this._r.indexManager.addToCollectionParentIndex(e,c))}),n.push(this._r.updateMetadata(e,s)),Q.waitFor(n)}getFromCache(e,n){return this._r.nr(e,n).next(s=>(this.ar.set(n,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,n){return this._r.ir(e,n).next(({documents:s,sr:l})=>(l.forEach((c,f)=>{this.ar.set(c,{size:f,readTime:s.get(c).readTime})}),s))}}function fm(i){return Qi(i,"remoteDocumentGlobal")}function ou(i){return Qi(i,"remoteDocumentsV14")}function au(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Mv(i,e){const n=e.documentKey.path.toArray();return[i,Yh(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function af(i,e){const n=i.path.toArray(),s=e.path.toArray();let l=0;for(let c=0;c<n.length-2&&c<s.length-2;++c)if(l=vn(n[c],s[c]),l)return l;return l=vn(n.length,s.length),l||(l=vn(n[n.length-2],s[s.length-2]),l||vn(n[n.length-1],s[s.length-1]))}class xv{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class lf{constructor(e,n,s,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=l}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(l=>(s=l,this.remoteDocumentCache.getEntry(e,n))).next(l=>(null!==s&&Lu(s.mutation,l,eo.empty(),di.now()),l))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,rr()).next(()=>s))}getLocalViewOfDocuments(e,n,s=rr()){const l=ea();return this.populateOverlays(e,l,n).next(()=>this.computeViews(e,n,l,s).next(c=>{let f=xu();return c.forEach((D,M)=>{f=f.insert(D,M.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=ea();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,rr()))}populateOverlays(e,n,s){const l=[];return s.forEach(c=>{n.has(c)||l.push(c)}),this.documentOverlayCache.getOverlays(e,l).next(c=>{c.forEach((f,D)=>{n.set(f,D)})})}computeViews(e,n,s,l){let c=xs();const f=vc(),D=vc();return n.forEach((M,z)=>{const X=s.get(z.key);l.has(z.key)&&(void 0===X||X.mutation instanceof Za)?c=c.insert(z.key,z):void 0!==X?(f.set(z.key,X.mutation.getFieldMask()),Lu(X.mutation,z,X.mutation.getFieldMask(),di.now())):f.set(z.key,eo.empty())}),this.recalculateAndSaveOverlays(e,c).next(M=>(M.forEach((z,X)=>f.set(z,X)),n.forEach((z,X)=>{var pe;return D.set(z,new xv(X,null!==(pe=f.get(z))&&void 0!==pe?pe:null))}),D))}recalculateAndSaveOverlays(e,n){const s=vc();let l=new Lr((f,D)=>f-D),c=rr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const D of f)D.keys().forEach(M=>{const z=n.get(M);if(null===z)return;let X=s.get(M)||eo.empty();X=D.applyToLocalView(z,X),s.set(M,X);const pe=(l.get(D.batchId)||rr()).add(M);l=l.insert(D.batchId,pe)})}).next(()=>{const f=[],D=l.getReverseIterator();for(;D.hasNext();){const M=D.getNext(),z=M.key,X=M.value,pe=Lh();X.forEach(ke=>{if(!c.has(ke)){const Je=Hh(n.get(ke),s.get(ke));null!==Je&&pe.set(ke,Je),c=c.add(ke)}}),f.push(this.documentOverlayCache.saveOverlays(e,z,pe))}return Q.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,l){return Ft.isDocumentKey((f=n).path)&&null===f.collectionGroup&&0===f.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):C(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,l):this.getDocumentsMatchingCollectionQuery(e,n,s,l);var f}getNextDocuments(e,n,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,l).next(c=>{const f=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,l-c.size):Q.resolve(ea());let D=-1,M=c;return f.next(z=>Q.forEach(z,(X,pe)=>(D<pe.largestBatchId&&(D=pe.largestBatchId),c.get(X)?Q.resolve():this.remoteDocumentCache.getEntry(e,X).next(ke=>{M=M.insert(X,ke)}))).next(()=>this.populateOverlays(e,z,c)).next(()=>this.computeViews(e,M,z,rr())).next(X=>({batchId:D,changes:Ou(X)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ft(n)).next(s=>{let l=xu();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}getDocumentsMatchingCollectionGroupQuery(e,n,s,l){const c=n.collectionGroup;let f=xu();return this.indexManager.getCollectionParents(e,c).next(D=>Q.forEach(D,M=>{const z=(pe=n,ke=M.child(c),new Eo(ke,null,pe.explicitOrderBy.slice(),pe.filters.slice(),pe.limit,pe.limitType,pe.startAt,pe.endAt));var pe,ke;return this.getDocumentsMatchingCollectionQuery(e,z,s,l).next(X=>{X.forEach((pe,ke)=>{f=f.insert(pe,ke)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,c,l))).next(f=>{c.forEach((M,z)=>{const X=z.getKey();null===f.get(X)&&(f=f.insert(X,pr.newInvalidDocument(X)))});let D=xu();return f.forEach((M,z)=>{const X=c.get(M);void 0!==X&&Lu(X.mutation,z,eo.empty(),di.now()),fs(n,z)&&(D=D.insert(M,z))}),D})}}class D_{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return Q.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,{id:(l=n).id,version:l.version,createTime:es(l.createTime)}),Q.resolve();var l}getNamedQuery(e,n){return Q.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,{name:(l=n).name,query:Qh(l.bundledQuery),readTime:es(l.readTime)}),Q.resolve();var l}}class A_{constructor(){this.overlays=new Lr(Ft.comparator),this.lr=new Map}getOverlay(e,n){return Q.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ea();return Q.forEach(n,l=>this.getOverlay(e,l).next(c=>{null!==c&&s.set(l,c)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((l,c)=>{this.lt(e,n,c)}),Q.resolve()}removeOverlaysForBatchId(e,n,s){const l=this.lr.get(s);return void 0!==l&&(l.forEach(c=>this.overlays=this.overlays.remove(c)),this.lr.delete(s)),Q.resolve()}getOverlaysForCollection(e,n,s){const l=ea(),c=n.length+1,f=new Ft(n.child("")),D=this.overlays.getIteratorFrom(f);for(;D.hasNext();){const M=D.getNext().value,z=M.getKey();if(!n.isPrefixOf(z.path))break;z.path.length===c&&M.largestBatchId>s&&l.set(M.getKey(),M)}return Q.resolve(l)}getOverlaysForCollectionGroup(e,n,s,l){let c=new Lr((z,X)=>z-X);const f=this.overlays.getIterator();for(;f.hasNext();){const z=f.getNext().value;if(z.getKey().getCollectionGroup()===n&&z.largestBatchId>s){let X=c.get(z.largestBatchId);null===X&&(X=ea(),c=c.insert(z.largestBatchId,X)),X.set(z.getKey(),z)}}const D=ea(),M=c.getIterator();for(;M.hasNext()&&(M.getNext().value.forEach((z,X)=>D.set(z,X)),!(D.size()>=l)););return Q.resolve(D)}lt(e,n,s){const l=this.overlays.get(s.key);if(null!==l){const f=this.lr.get(l.largestBatchId).delete(s.key);this.lr.set(l.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new qp(n,s));let c=this.lr.get(n);void 0===c&&(c=rr(),this.lr.set(n,c)),this.lr.set(n,c.add(s.key))}}class Rl{constructor(){this.hr=new jr(qs.Pr),this.Ir=new jr(qs.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const s=new qs(e,n);this.hr=this.hr.add(s),this.Ir=this.Ir.add(s)}Er(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.dr(new qs(e,n))}Ar(e,n){e.forEach(s=>this.removeReference(s,n))}Rr(e){const n=new Ft(new Sn([])),s=new qs(n,e),l=new qs(n,e+1),c=[];return this.Ir.forEachInRange([s,l],f=>{this.dr(f),c.push(f.key)}),c}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new Ft(new Sn([])),s=new qs(n,e),l=new qs(n,e+1);let c=rr();return this.Ir.forEachInRange([s,l],f=>{c=c.add(f.key)}),c}containsKey(e){const n=new qs(e,0),s=this.hr.firstAfterOrEqual(n);return null!==s&&e.isEqual(s.key)}}class qs{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return Ft.comparator(e.key,n.key)||vn(e.gr,n.gr)}static Tr(e,n){return vn(e.gr,n.gr)||Ft.comparator(e.key,n.key)}}class pm{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new jr(qs.Pr)}checkEmpty(e){return Q.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,s,l){const c=this.pr;this.pr++;const f=new jh(c,n,s,l);this.mutationQueue.push(f);for(const D of l)this.yr=this.yr.add(new qs(D.key,c)),this.indexManager.addToCollectionParentIndex(e,D.key.path.popLast());return Q.resolve(f)}lookupMutationBatch(e,n){return Q.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const l=this.Sr(n+1),c=l<0?0:l;return Q.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new qs(n,0),l=new qs(n,Number.POSITIVE_INFINITY),c=[];return this.yr.forEachInRange([s,l],f=>{const D=this.wr(f.gr);c.push(D)}),Q.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new jr(vn);return n.forEach(l=>{const c=new qs(l,0),f=new qs(l,Number.POSITIVE_INFINITY);this.yr.forEachInRange([c,f],D=>{s=s.add(D.gr)})}),Q.resolve(this.br(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,l=s.length+1;let c=s;Ft.isDocumentKey(c)||(c=c.child(""));const f=new qs(new Ft(c),0);let D=new jr(vn);return this.yr.forEachWhile(M=>{const z=M.key.path;return!!s.isPrefixOf(z)&&(z.length===l&&(D=D.add(M.gr)),!0)},f),Q.resolve(this.br(D))}br(e){const n=[];return e.forEach(s=>{const l=this.wr(s);null!==l&&n.push(l)}),n}removeMutationBatch(e,n){an(0===this.Dr(n.batchId,"removed")),this.mutationQueue.shift();let s=this.yr;return Q.forEach(n.mutations,l=>{const c=new qs(l.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.yr=s})}Fn(e){}containsKey(e,n){const s=new qs(n,0),l=this.yr.firstAfterOrEqual(s);return Q.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return Q.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class uf{constructor(e){this.Cr=e,this.docs=new Lr(Ft.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,l=this.docs.get(s),c=l?l.size:0,f=this.Cr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return Q.resolve(s?s.document.mutableCopy():pr.newInvalidDocument(n))}getEntries(e,n){let s=xs();return n.forEach(l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():pr.newInvalidDocument(l))}),Q.resolve(s)}getDocumentsMatchingQuery(e,n,s,l){let c=xs();const f=n.path,D=new Ft(f.child("")),M=this.docs.getIteratorFrom(D);for(;M.hasNext();){const{key:z,value:{document:X}}=M.getNext();if(!f.isPrefixOf(z.path))break;z.path.length>f.length+1||A(zl(X),s)<=0||(l.has(X.key)||fs(n,X))&&(c=c.insert(X.key,X.mutableCopy()))}return Q.resolve(c)}getAllFromCollectionGroup(e,n,s,l){Kt()}vr(e,n){return Q.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new Ov(this)}getSize(e){return Q.resolve(this.size)}}class Ov extends dm{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((s,l)=>{l.isValidDocument()?n.push(this._r.addEntry(e,l)):this._r.removeEntry(s)}),Q.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}class mm{constructor(e){this.persistence=e,this.Fr=new Xo(n=>Wa(n),Il),this.lastRemoteSnapshotVersion=ln.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Rl,this.targetCount=0,this.Nr=iu.On()}forEachTarget(e,n){return this.Fr.forEach((s,l)=>n(l)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.Mr&&(this.Mr=n),Q.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new iu(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,Q.resolve()}updateTargetData(e,n){return this.kn(n),Q.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,n,s){let l=0;const c=[];return this.Fr.forEach((f,D)=>{D.sequenceNumber<=n&&null===s.get(D.targetId)&&(this.Fr.delete(f),c.push(this.removeMatchingKeysForTargetId(e,D.targetId)),l++)}),Q.waitFor(c).next(()=>l)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,n){const s=this.Fr.get(n)||null;return Q.resolve(s)}addMatchingKeys(e,n,s){return this.Or.Er(n,s),Q.resolve()}removeMatchingKeys(e,n,s){this.Or.Ar(n,s);const l=this.persistence.referenceDelegate,c=[];return l&&n.forEach(f=>{c.push(l.markPotentiallyOrphaned(e,f))}),Q.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),Q.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Or.mr(n);return Q.resolve(s)}containsKey(e,n){return Q.resolve(this.Or.containsKey(n))}}class xc{constructor(e,n){this.Br={},this.overlays={},this.Lr=new Ws(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new mm(this),this.indexManager=new om,this.remoteDocumentCache=new uf(s=>this.referenceDelegate.Qr(s)),this.serializer=new wv(n),this.Kr=new D_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new A_,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Br[e.toKey()];return s||(s=new pm(n,this.referenceDelegate),this.Br[e.toKey()]=s),s}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,s){pt("MemoryPersistence","Starting transaction:",e);const l=new Ja(this.Lr.next());return this.referenceDelegate.$r(),s(l).next(c=>this.referenceDelegate.Ur(l).next(()=>c)).toPromise().then(c=>(l.raiseOnCommittedEvent(),c))}Wr(e,n){return Q.or(Object.values(this.Br).map(s=>()=>s.containsKey(e,n)))}}class Ja extends R{constructor(e){super(),this.currentSequenceNumber=e}}class Ku{constructor(e){this.persistence=e,this.Gr=new Rl,this.zr=null}static jr(e){return new Ku(e)}get Hr(){if(this.zr)return this.zr;throw Kt()}addReference(e,n,s){return this.Gr.addReference(s,n),this.Hr.delete(s.toString()),Q.resolve()}removeReference(e,n,s){return this.Gr.removeReference(s,n),this.Hr.add(s.toString()),Q.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),Q.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(l=>this.Hr.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(l=>{l.forEach(c=>this.Hr.add(c.toString()))}).next(()=>s.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.Hr,s=>{const l=Ft.fromPath(s);return this.Jr(e,l).next(c=>{c||n.removeEntry(l,ln.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(s=>{s?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return Q.or([()=>Q.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}class Nv{constructor(e){this.serializer=e}N(e,n,s,l){const c=new et("createOrUpgrade",n);var M;s<1&&l>=1&&(e.createObjectStore("owner"),(M=e).createObjectStore("mutationQueues",{keyPath:"userId"}),M.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Wl,{unique:!0}),M.createObjectStore("documentMutations"),S_(e),function(M){M.createObjectStore("remoteDocuments")}(e));let f=Q.resolve();return s<3&&l>=3&&(0!==s&&(function(M){M.deleteObjectStore("targetDocuments"),M.deleteObjectStore("targets"),M.deleteObjectStore("targetGlobal")}(e),S_(e)),f=f.next(()=>function(M){const z=M.store("targetGlobal"),X={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ln.min().toTimestamp(),targetCount:0};return z.put("targetGlobalKey",X)}(c))),s<4&&l>=4&&(0!==s&&(f=f.next(()=>function(M,z){return z.store("mutations").W().next(X=>{M.deleteObjectStore("mutations"),M.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Wl,{unique:!0});const pe=z.store("mutations"),ke=X.map(Je=>pe.put(Je));return Q.waitFor(ke)})}(e,c))),f=f.next(()=>{!function(M){M.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&l>=5&&(f=f.next(()=>this.Zr(c))),s<6&&l>=6&&(f=f.next(()=>(function(M){M.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(c)))),s<7&&l>=7&&(f=f.next(()=>this.ei(c))),s<8&&l>=8&&(f=f.next(()=>this.ti(e,c))),s<9&&l>=9&&(f=f.next(()=>{!function(M){M.objectStoreNames.contains("remoteDocumentChanges")&&M.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&l>=10&&(f=f.next(()=>this.ni(c))),s<11&&l>=11&&(f=f.next(()=>{(function(M){M.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(M){M.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&l>=12&&(f=f.next(()=>{!function(M){const z=M.createObjectStore("documentOverlays",{keyPath:Mp});z.createIndex("collectionPathOverlayIndex",hl,{unique:!1}),z.createIndex("collectionGroupOverlayIndex",id,{unique:!1})}(e)})),s<13&&l>=13&&(f=f.next(()=>function(M){const z=M.createObjectStore("remoteDocumentsV14",{keyPath:bu});z.createIndex("documentKeyIndex",cl),z.createIndex("collectionGroupIndex",Dh)}(e)).next(()=>this.ri(e,c)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&l>=14&&(f=f.next(()=>this.ii(e,c))),s<15&&l>=15&&(f=f.next(()=>function(M){M.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),M.createObjectStore("indexState",{keyPath:Rp}).createIndex("sequenceNumberIndex",Gg,{unique:!1}),M.createObjectStore("indexEntries",{keyPath:rd}).createIndex("documentKeyIndex",dl,{unique:!1})}(e))),f}Xr(e){let n=0;return e.store("remoteDocuments").Y((s,l)=>{n+=Pc(l)}).next(()=>{const s={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}Zr(e){const n=e.store("mutationQueues"),s=e.store("mutations");return n.W().next(l=>Q.forEach(l,c=>{const f=IDBKeyRange.bound([c.userId,-1],[c.userId,c.lastAcknowledgedBatchId]);return s.W("userMutationsIndex",f).next(D=>Q.forEach(D,M=>{an(M.userId===c.userId);const z=Al(this.serializer,M);return C_(e,c.userId,z).next(()=>{})}))}))}ei(e){const n=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(l=>{const c=[];return s.Y((f,D)=>{const M=new Sn(f),z=[0,hs(M)];c.push(n.get(z).next(X=>X?Q.resolve():n.put({targetId:0,path:hs(M),sequenceNumber:l.highestListenSequenceNumber})))}).next(()=>Q.waitFor(c))})}ti(e,n){e.createObjectStore("collectionParents",{keyPath:nd});const s=n.store("collectionParents"),l=new Sd,c=f=>{if(l.add(f)){const D=f.lastSegment(),M=f.popLast();return s.put({collectionId:D,parent:hs(M)})}};return n.store("remoteDocuments").Y({J:!0},(f,D)=>{const M=new Sn(f);return c(M.popLast())}).next(()=>n.store("documentMutations").Y({J:!0},([f,D,M],z)=>{const X=lo(D);return c(X.popLast())}))}ni(e){const n=e.store("targets");return n.Y((s,l)=>{const c=bc(l),f=rm(this.serializer,c);return n.put(f)})}ri(e,n){const s=n.store("remoteDocuments"),l=[];return s.Y((c,f)=>{const D=n.store("remoteDocumentsV14"),M=(pe=f,pe.document?new Ft(Sn.fromString(pe.document.name).popFirst(5)):pe.noDocument?Ft.fromSegments(pe.noDocument.path):pe.unknownDocument?Ft.fromSegments(pe.unknownDocument.path):Kt()).path.toArray(),z={prefixPath:M.slice(0,M.length-2),collectionGroup:M[M.length-2],documentId:M[M.length-1],readTime:f.readTime||[0,0],unknownDocument:f.unknownDocument,noDocument:f.noDocument,document:f.document,hasCommittedMutations:!!f.hasCommittedMutations};var pe;l.push(D.put(z))}).next(()=>Q.waitFor(l))}ii(e,n){const s=n.store("mutations"),l=sf(this.serializer),c=new xc(Ku.jr,this.serializer.ut);return s.W().next(f=>{const D=new Map;return f.forEach(M=>{var z;let X=null!==(z=D.get(M.userId))&&void 0!==z?z:rr();Al(this.serializer,M).keys().forEach(pe=>X=X.add(pe)),D.set(M.userId,X)}),Q.forEach(D,(M,z)=>{const X=new Rn(z),pe=Ma.ct(this.serializer,X),ke=c.getIndexManager(X),Je=nf.ct(X,this.serializer,ke,c.referenceDelegate);return new lf(l,Je,pe,ke).recalculateAndSaveOverlaysForDocumentKeys(new Uo(n,Ws._e),M).next()})})}}function S_(i){i.createObjectStore("targetDocuments",{keyPath:zg}).createIndex("documentTargetsIndex",Pp,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",td,{unique:!0}),i.createObjectStore("targetGlobal")}const cf="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class lu{constructor(e,n,s,l,c,f,D,M,z,X,pe=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=s,this.si=c,this.window=f,this.document=D,this.oi=z,this._i=X,this.ai=pe,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=ke=>Promise.resolve(),!lu.D())throw new yt(it.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Md(this,l),this.Ii=n+"main",this.serializer=new wv(M),this.Ti=new Qe(this.Ii,this.ai,new Nv(this.serializer)),this.qr=new Sv(this.referenceDelegate,this.serializer),this.remoteDocumentCache=sf(this.serializer),this.Kr=new bv,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===X&&kr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new yt(it.FAILED_PRECONDITION,cf);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.qr.getHighestSequenceNumber(e))}).then(e=>{this.Lr=new Ws(e,this.oi)}).then(()=>{this.kr=!0}).catch(e=>(this.Ti&&this.Ti.close(),Promise.reject(e)))}mi(e){var n=this;return this.Pi=function(){var s=(0,fe.Z)(function*(l){if(n.started)return e(l)});return function(l){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L(function(){var n=(0,fe.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return n.apply(this,arguments)}}())}setNetworkEnabled(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((0,fe.Z)(function*(){n.started&&(yield n.di())})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>df(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(n=>{n||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(e)).next(n=>this.isPrimary&&!n?this.pi(e).next(()=>!1):!!n&&this.yi(e).next(()=>!0))).catch(e=>{if(Xn(e))return pt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return pt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.Pi(e)),this.isPrimary=e})}fi(e){return Od(e).get("owner").next(n=>Q.resolve(this.wi(n)))}Si(e){return df(e).delete(this.clientId)}bi(){var e=this;return(0,fe.Z)(function*(){if(e.isPrimary&&!e.Di(e.hi,18e5)){e.hi=Date.now();const n=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const l=Qi(s,"clientMetadata");return l.W().next(c=>{const f=e.Ci(c,18e5),D=c.filter(M=>-1===f.indexOf(M));return Q.forEach(D,M=>l.delete(M.clientId)).next(()=>D)})}).catch(()=>[]);if(e.Ei)for(const s of n)e.Ei.removeItem(e.vi(s.clientId))}})()}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?Q.resolve(!0):Od(e).get("owner").next(n=>{if(null!==n&&this.Di(n.leaseTimestampMs,5e3)&&!this.Fi(n.ownerId)){if(this.wi(n)&&this.networkEnabled)return!0;if(!this.wi(n)){if(!n.allowTabSynchronization)throw new yt(it.FAILED_PRECONDITION,cf);return!1}}return!(!this.networkEnabled||!this.inForeground)||df(e).W().next(s=>void 0===this.Ci(s,5e3).find(l=>!(this.clientId===l.clientId||!(!this.networkEnabled&&l.networkEnabled||!this.inForeground&&l.inForeground&&this.networkEnabled===l.networkEnabled))))}).next(n=>(this.isPrimary!==n&&pt("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var e=this;return(0,fe.Z)(function*(){e.kr=!1,e.Mi(),e.li&&(e.li.cancel(),e.li=null),e.xi(),e.Oi(),yield e.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],n=>{const s=new Uo(n,Ws._e);return e.pi(s).next(()=>e.Si(s))}),e.Ti.close(),e.Ni()})()}Ci(e,n){return e.filter(s=>this.Di(s.updateTimeMs,n)&&!this.Fi(s.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>df(e).W().next(n=>this.Ci(n,18e5).map(s=>s.clientId)))}get started(){return this.kr}getMutationQueue(e,n){return nf.ct(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new BE(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return Ma.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,n,s){pt("IndexedDbPersistence","Starting transaction:",e);const l="readonly"===n?"readonly":"readwrite",c=15===(M=this.ai)?xp:14===M?pl:13===M?sd:12===M?Ah:11===M?fl:void Kt();var M;let f;return this.Ti.runTransaction(e,l,c,D=>(f=new Uo(D,this.Lr?this.Lr.next():Ws._e),"readwrite-primary"===n?this.fi(f).next(M=>!!M||this.gi(f)).next(M=>{if(!M)throw kr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new yt(it.FAILED_PRECONDITION,v);return s(f)}).next(M=>this.yi(f).next(()=>M)):this.Li(f).next(()=>s(f)))).then(D=>(f.raiseOnCommittedEvent(),D))}Li(e){return Od(e).get("owner").next(n=>{if(null!==n&&this.Di(n.leaseTimestampMs,5e3)&&!this.Fi(n.ownerId)&&!this.wi(n)&&!(this._i||this.allowTabSynchronization&&n.allowTabSynchronization))throw new yt(it.FAILED_PRECONDITION,cf)})}yi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Od(e).put("owner",n)}static D(){return Qe.D()}pi(e){const n=Od(e);return n.get("owner").next(s=>this.wi(s)?(pt("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Q.resolve())}Di(e,n){const s=Date.now();return!(e<s-n||e>s&&(kr(`Detected an update time that is in the future: ${e} > ${s}`),1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Mi();const n=/(?:Version|Mobile)\/1[456]/;(0,V.G6)()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var n;try{const s=null!==(null===(n=this.Ei)||void 0===n?void 0:n.getItem(this.vi(e)));return pt("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return kr("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){kr("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Od(i){return Qi(i,"owner")}function df(i){return Qi(i,"clientMetadata")}function gm(i,e){let n=i.projectId;return i.isDefaultDatabase||(n+="."+i.database),"firestore/"+e+"/"+n+"/"}class Nd{constructor(e,n,s,l){this.targetId=e,this.fromCache=n,this.ki=s,this.qi=l}static Qi(e,n){let s=rr(),l=rr();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Nd(e,n.fromCache,s,l)}}class P_{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class R_{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,s,l){const c={result:null};return this.zi(e,n).next(f=>{c.result=f}).next(()=>{if(!c.result)return this.ji(e,n,l,s).next(f=>{c.result=f})}).next(()=>{if(c.result)return;const f=new P_;return this.Hi(e,n,f).next(D=>{if(c.result=D,this.$i)return this.Ji(e,n,f,D.size)})}).next(()=>c.result)}Ji(e,n,s,l){return s.documentReadCount<this.Ui?(ci()<=Te.in.DEBUG&&pt("QueryEngine","SDK will not create cache indexes for query:",nr(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),Q.resolve()):(ci()<=Te.in.DEBUG&&pt("QueryEngine","Query:",nr(n),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.Wi*l?(ci()<=Te.in.DEBUG&&pt("QueryEngine","The SDK decides to create cache indexes for query:",nr(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ie(n))):Q.resolve())}zi(e,n){if(m(n))return Q.resolve(null);let s=ie(n);return this.indexManager.getIndexType(e,s).next(l=>0===l?null:(null!==n.limit&&1===l&&(n=Et(n,null,"F"),s=ie(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const f=rr(...c);return this.Gi.getDocuments(e,f).next(D=>this.indexManager.getMinOffset(e,s).next(M=>{const z=this.Yi(n,D);return this.Zi(n,z,f,M.readTime)?this.zi(e,Et(n,null,"F")):this.Xi(e,z,n,M)}))})))}ji(e,n,s,l){return m(n)||l.isEqual(ln.min())?Q.resolve(null):this.Gi.getDocuments(e,s).next(c=>{const f=this.Yi(n,c);return this.Zi(n,f,s,l)?Q.resolve(null):(ci()<=Te.in.DEBUG&&pt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),nr(n)),this.Xi(e,f,n,ed(l,-1)).next(D=>D))})}Yi(e,n){let s=new jr(Jl(e));return n.forEach((l,c)=>{fs(e,c)&&(s=s.add(c))}),s}Zi(e,n,s,l){if(null===e.limit)return!1;if(s.size!==n.size)return!0;const c="F"===e.limitType?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Hi(e,n,s){return ci()<=Te.in.DEBUG&&pt("QueryEngine","Using full collection scan to execute query:",nr(n)),this.Gi.getDocumentsMatchingQuery(e,n,T.min(),s)}Xi(e,n,s,l){return this.Gi.getDocumentsMatchingQuery(e,s,l).next(c=>(n.forEach(f=>{c=c.insert(f.key,f)}),c))}}class M_{constructor(e,n,s,l){this.persistence=e,this.es=n,this.serializer=l,this.ts=new Lr(vn),this.ns=new Xo(c=>Wa(c),Il),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(s)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lf(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function hf(i,e,n,s){return new M_(i,e,n,s)}function kv(i,e){return _m.apply(this,arguments)}function _m(){return _m=(0,fe.Z)(function*(i,e){const n=Ht(i);return yield n.persistence.runTransaction("Handle user change","readonly",s=>{let l;return n.mutationQueue.getAllMutationBatches(s).next(c=>(l=c,n.os(e),n.mutationQueue.getAllMutationBatches(s))).next(c=>{const f=[],D=[];let M=rr();for(const z of l){f.push(z.batchId);for(const X of z.mutations)M=M.add(X.key)}for(const z of c){D.push(z.batchId);for(const X of z.mutations)M=M.add(X.key)}return n.localDocuments.getDocuments(s,M).next(z=>({_s:z,removedBatchIds:f,addedBatchIds:D}))})})}),_m.apply(this,arguments)}function x_(i){const e=Ht(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function Fv(i,e,n){let s=rr(),l=rr();return n.forEach(c=>s=s.add(c)),e.getEntries(i,s).next(c=>{let f=xs();return n.forEach((D,M)=>{const z=c.get(D);M.isFoundDocument()!==z.isFoundDocument()&&(l=l.add(D)),M.isNoDocument()&&M.version.isEqual(ln.min())?(e.removeEntry(D,M.readTime),f=f.insert(D,M)):!z.isValidDocument()||M.version.compareTo(z.version)>0||0===M.version.compareTo(z.version)&&z.hasPendingWrites?(e.addEntry(M),f=f.insert(D,M)):pt("LocalStore","Ignoring outdated watch update for ",D,". Current version:",z.version," Watch version:",M.version)}),{us:f,cs:l}})}function ff(i,e){const n=Ht(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Nc(i,e){const n=Ht(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return n.qr.getTargetData(s,e).next(c=>c?(l=c,Q.resolve(l)):n.qr.allocateTargetId(s).next(f=>(l=new Dl(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.qr.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=n.ts.get(s.targetId);return(null===l||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.ts=n.ts.insert(s.targetId,s),n.ns.set(e,s.targetId)),s})}function uu(i,e,n){return kd.apply(this,arguments)}function kd(){return kd=(0,fe.Z)(function*(i,e,n){const s=Ht(i),l=s.ts.get(e),c=n?"readwrite":"readwrite-primary";try{n||(yield s.persistence.runTransaction("Release target",c,f=>s.persistence.referenceDelegate.removeTarget(f,l)))}catch(f){if(!Xn(f))throw f;pt("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}s.ts=s.ts.remove(e),s.ns.delete(l.target)}),kd.apply(this,arguments)}function Ml(i,e,n){const s=Ht(i);let l=ln.min(),c=rr();return s.persistence.runTransaction("Execute query","readwrite",f=>function(M,z,X){const pe=Ht(M),ke=pe.ns.get(X);return void 0!==ke?Q.resolve(pe.ts.get(ke)):pe.qr.getTargetData(z,X)}(s,f,ie(e)).next(D=>{if(D)return l=D.lastLimboFreeSnapshotVersion,s.qr.getMatchingKeysForTargetId(f,D.targetId).next(M=>{c=M})}).next(()=>s.es.getDocumentsMatchingQuery(f,e,n?l:ln.min(),n?c:rr())).next(D=>(kc(s,qa(e),D),{documents:D,ls:c})))}function pf(i,e){const n=Ht(i),s=Ht(n.qr),l=n.ts.get(e);return l?Promise.resolve(l.target):n.persistence.runTransaction("Get target data","readonly",c=>s._t(c,e).next(f=>f?f.target:null))}function mf(i,e){const n=Ht(i),s=n.rs.get(e)||ln.min();return n.persistence.runTransaction("Get new document changes","readonly",l=>n.ss.getAllFromCollectionGroup(l,e,ed(s,-1),Number.MAX_SAFE_INTEGER)).then(l=>(kc(n,e,l),l))}function kc(i,e,n){let s=i.rs.get(e)||ln.min();n.forEach((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),i.rs.set(e,s)}function cu(){return cu=(0,fe.Z)(function*(i,e,n,s){const l=Ht(i);let c=rr(),f=xs();for(const z of n){const X=e.hs(z.metadata.name);z.document&&(c=c.add(X));const pe=e.Ps(z);pe.setReadTime(e.Is(z.metadata.readTime)),f=f.insert(X,pe)}const D=l.ss.newChangeBuffer({trackRemovals:!0}),M=yield Nc(l,(X=s,ie(h(Sn.fromString(`__bundle__/docs/${X}`)))));var X;return l.persistence.runTransaction("Apply bundle documents","readwrite",z=>Fv(z,D,f).next(X=>(D.apply(z),X)).next(X=>l.qr.removeMatchingKeysForTargetId(z,M.targetId).next(()=>l.qr.addMatchingKeys(z,c,M.targetId)).next(()=>l.localDocuments.getLocalViewOfDocuments(z,X.us,X.cs)).next(()=>X.us)))}),cu.apply(this,arguments)}function ym(i,e){return Ld.apply(this,arguments)}function Ld(){return Ld=(0,fe.Z)(function*(i,e,n=rr()){const s=yield Nc(i,ie(Qh(e.bundledQuery))),l=Ht(i);return l.persistence.runTransaction("Save named query","readwrite",c=>{const f=es(e.readTime);if(s.snapshotVersion.compareTo(f)>=0)return l.Kr.saveNamedQuery(c,e);const D=s.withResumeToken(gi.EMPTY_BYTE_STRING,f);return l.ts=l.ts.insert(D.targetId,D),l.qr.updateTargetData(c,D).next(()=>l.qr.removeMatchingKeysForTargetId(c,s.targetId)).next(()=>l.qr.addMatchingKeys(c,n,s.targetId)).next(()=>l.Kr.saveNamedQuery(c,e))})}),Ld.apply(this,arguments)}function Fd(i,e){return`firestore_clients_${i}_${e}`}function Vv(i,e,n){let s=`firestore_mutations_${i}_${n}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function Vd(i,e){return`firestore_targets_${i}_${e}`}class du{constructor(e,n,s,l){this.user=e,this.batchId=n,this.state=s,this.error=l}static Ts(e,n,s){const l=JSON.parse(s);let c,f="object"==typeof l&&-1!==["pending","acknowledged","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return f&&l.error&&(f="string"==typeof l.error.message&&"string"==typeof l.error.code,f&&(c=new yt(l.error.code,l.error.message))),f?new du(e,n,l.state,c):(kr("SharedClientState",`Failed to parse mutation state for ID '${n}': ${s}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ud{constructor(e,n,s){this.targetId=e,this.state=n,this.error=s}static Ts(e,n){const s=JSON.parse(n);let l,c="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return c&&s.error&&(c="string"==typeof s.error.message&&"string"==typeof s.error.code,c&&(l=new yt(s.error.code,s.error.message))),c?new Ud(e,s.state,l):(kr("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Bd{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Ts(e,n){const s=JSON.parse(n);let l="object"==typeof s&&s.activeTargetIds instanceof Array,c=Ic();for(let f=0;l&&f<s.activeTargetIds.length;++f)l=hc(s.activeTargetIds[f]),c=c.add(s.activeTargetIds[f]);return l?new Bd(e,c):(kr("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class vm{constructor(e,n){this.clientId=e,this.onlineState=n}static Ts(e){const n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new vm(n.clientId,n.onlineState):(kr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Im{constructor(){this.activeTargetIds=Ic()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Hd{constructor(e,n,s,l,c){this.window=e,this.si=n,this.persistenceKey=s,this.Rs=l,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new Lr(vn),this.started=!1,this.ps=[];const f=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=c,this.ys=Fd(this.persistenceKey,this.Rs),this.ws=`firestore_sequence_number_${this.persistenceKey}`,this.gs=this.gs.insert(this.Rs,new Im),this.Ss=new RegExp(`^firestore_clients_${f}_([^_]*)$`),this.bs=new RegExp(`^firestore_mutations_${f}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${f}_(\\d+)$`),this.Cs=`firestore_online_state_${this.persistenceKey}`,this.vs=function(M){return`firestore_bundle_loaded_v2_${M}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,fe.Z)(function*(){const n=yield e.syncEngine.Bi();for(const l of n){if(l===e.Rs)continue;const c=e.getItem(Fd(e.persistenceKey,l));if(c){const f=Bd.Ts(l,c);f&&(e.gs=e.gs.insert(f.clientId,f))}}e.Fs();const s=e.storage.getItem(e.Cs);if(s){const l=e.Ms(s);l&&e.xs(l)}for(const l of e.ps)e.fs(l);e.ps=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let n=!1;return this.gs.forEach((s,l)=>{l.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,n,s){this.Ns(e,n,s),this.Bs(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(Vd(this.persistenceKey,e));if(s){const l=Ud.Ts(e,s);l&&(n=l.state)}}return this.Ls.ds(e),this.Fs(),n}removeLocalQueryTarget(e){this.Ls.As(e),this.Fs()}isLocalQueryTarget(e){return this.Ls.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Vd(this.persistenceKey,e))}updateQueryState(e,n,s){this.ks(e,n,s)}handleUserChange(e,n,s){n.forEach(l=>{this.Bs(l)}),this.currentUser=e,s.forEach(l=>{this.addPendingMutation(l)})}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return pt("SharedClientState","READ",e,n),n}setItem(e,n){pt("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){pt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){var n=this;const s=e;if(s.storageArea===this.storage){if(pt("SharedClientState","EVENT",s.key,s.newValue),s.key===this.ys)return void kr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,fe.Z)(function*(){if(n.started){if(null!==s.key)if(n.Ss.test(s.key)){if(null==s.newValue){const l=n.Ks(s.key);return n.$s(l,null)}{const l=n.Us(s.key,s.newValue);if(l)return n.$s(l.clientId,l)}}else if(n.bs.test(s.key)){if(null!==s.newValue){const l=n.Ws(s.key,s.newValue);if(l)return n.Gs(l)}}else if(n.Ds.test(s.key)){if(null!==s.newValue){const l=n.zs(s.key,s.newValue);if(l)return n.js(l)}}else if(s.key===n.Cs){if(null!==s.newValue){const l=n.Ms(s.newValue);if(l)return n.xs(l)}}else if(s.key===n.ws){const l=function(f){let D=Ws._e;if(null!=f)try{const M=JSON.parse(f);an("number"==typeof M),D=M}catch(M){kr("SharedClientState","Failed to read sequence number from WebStorage",M)}return D}(s.newValue);l!==Ws._e&&n.sequenceNumberHandler(l)}else if(s.key===n.vs){const l=n.Hs(s.newValue);yield Promise.all(l.map(c=>n.syncEngine.Js(c)))}}else n.ps.push(s)}))}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(e,n,s){const l=new du(this.currentUser,e,n,s),c=Vv(this.persistenceKey,this.currentUser,e);this.setItem(c,l.Es())}Bs(e){const n=Vv(this.persistenceKey,this.currentUser,e);this.removeItem(n)}qs(e){this.storage.setItem(this.Cs,JSON.stringify({clientId:this.Rs,onlineState:e}))}ks(e,n,s){const l=Vd(this.persistenceKey,e),c=new Ud(e,n,s);this.setItem(l,c.Es())}Qs(e){const n=JSON.stringify(Array.from(e));this.setItem(this.vs,n)}Ks(e){const n=this.Ss.exec(e);return n?n[1]:null}Us(e,n){const s=this.Ks(e);return Bd.Ts(s,n)}Ws(e,n){const s=this.bs.exec(e),l=Number(s[1]);return du.Ts(new Rn(void 0!==s[2]?s[2]:null),l,n)}zs(e,n){const s=this.Ds.exec(e),l=Number(s[1]);return Ud.Ts(l,n)}Ms(e){return vm.Ts(e)}Hs(e){return JSON.parse(e)}Gs(e){var n=this;return(0,fe.Z)(function*(){if(e.user.uid===n.currentUser.uid)return n.syncEngine.Ys(e.batchId,e.state,e.error);pt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,n){const s=n?this.gs.insert(e,n):this.gs.remove(e),l=this.Os(this.gs),c=this.Os(s),f=[],D=[];return c.forEach(M=>{l.has(M)||f.push(M)}),l.forEach(M=>{c.has(M)||D.push(M)}),this.syncEngine.Xs(f,D).then(()=>{this.gs=s})}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let n=Ic();return e.forEach((s,l)=>{n=n.unionWith(l.activeTargetIds)}),n}}class Em{constructor(){this.eo=new Im,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,s){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new Im,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Uv{ro(e){}shutdown(){}}class O_{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){pt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){pt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Tm=null;function wm(){return null===Tm?Tm=268435456+Math.round(2147483648*Math.random()):Tm++,"0x"+Tm.toString(16)}const _f={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Cm{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const co="WebChannelConnection";class N_ extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const s=n.ssl?"https":"http",l=encodeURIComponent(this.databaseId.projectId),c=encodeURIComponent(this.databaseId.database);this.mo=s+"://"+n.host,this.fo=`projects/${l}/databases/${c}`,this.po="(default)"===this.databaseId.database?`project_id=${l}`:`project_id=${l}&database_id=${c}`}get yo(){return!1}wo(n,s,l,c,f){const D=wm(),M=this.So(n,s);pt("RestConnection",`Sending RPC '${n}' ${D}:`,M,l);const z={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(z,c,f),this.Do(n,M,z,l).then(X=>(pt("RestConnection",`Received RPC '${n}' ${D}: `,X),X),X=>{throw Yt("RestConnection",`RPC '${n}' ${D} failed with error: `,X,"url: ",M,"request:",l),X})}Co(n,s,l,c,f,D){return this.wo(n,s,l,c,f)}bo(n,s,l){n["X-Goog-Api-Client"]="gl-js/ fire/"+ko,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((c,f)=>n[f]=c),l&&l.headers.forEach((c,f)=>n[f]=c)}So(n,s){return`${this.mo}/v1/${s}:${_f[n]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,s,l){const c=wm();return new Promise((f,D)=>{const M=new br;M.setWithCredentials(!0),M.listenOnce(No.COMPLETE,()=>{try{switch(M.getLastErrorCode()){case oa.NO_ERROR:const X=M.getResponseJson();pt(co,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(X)),f(X);break;case oa.TIMEOUT:pt(co,`RPC '${e}' ${c} timed out`),D(new yt(it.DEADLINE_EXCEEDED,"Request time out"));break;case oa.HTTP_ERROR:const pe=M.getStatus();if(pt(co,`RPC '${e}' ${c} failed with status:`,pe,"response text:",M.getResponseText()),pe>0){let ke=M.getResponseJson();Array.isArray(ke)&&(ke=ke[0]);const Je=ke?.error;if(Je&&Je.status&&Je.message){const Rt=function(Bt){const Mn=Bt.toLowerCase().replace(/_/g,"-");return Object.values(it).indexOf(Mn)>=0?Mn:it.UNKNOWN}(Je.status);D(new yt(Rt,Je.message))}else D(new yt(it.UNKNOWN,"Server responded with status "+M.getStatus()))}else D(new yt(it.UNAVAILABLE,"Connection failed."));break;default:Kt()}}finally{pt(co,`RPC '${e}' ${c} completed.`)}});const z=JSON.stringify(l);pt(co,`RPC '${e}' ${c} sending request:`,l),M.send(n,"POST",z,s,15)})}vo(e,n,s){const l=wm(),c=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=Ui(),D=fr(),M={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},z=this.longPollingOptions.timeoutSeconds;void 0!==z&&(M.longPollingTimeout=Math.round(1e3*z)),this.useFetchStreams&&(M.xmlHttpFactory=new Pn({})),this.bo(M.initMessageHeaders,n,s),M.encodeInitMessageHeaders=!0;const X=c.join("");pt(co,`Creating RPC '${e}' stream ${l}: ${X}`,M);const pe=f.createWebChannel(X,M);let ke=!1,Je=!1;const Rt=new Cm({co:Bt=>{Je?pt(co,`Not sending because RPC '${e}' stream ${l} is closed:`,Bt):(ke||(pt(co,`Opening RPC '${e}' stream ${l} transport.`),pe.open(),ke=!0),pt(co,`RPC '${e}' stream ${l} sending:`,Bt),pe.send(Bt))},lo:()=>pe.close()}),Ut=(Bt,Mn,$n)=>{Bt.listen(Mn,bn=>{try{$n(bn)}catch(sr){setTimeout(()=>{throw sr},0)}})};return Ut(pe,Kn.EventType.OPEN,()=>{Je||pt(co,`RPC '${e}' stream ${l} transport opened.`)}),Ut(pe,Kn.EventType.CLOSE,()=>{Je||(Je=!0,pt(co,`RPC '${e}' stream ${l} transport closed`),Rt.Ro())}),Ut(pe,Kn.EventType.ERROR,Bt=>{Je||(Je=!0,Yt(co,`RPC '${e}' stream ${l} transport errored:`,Bt),Rt.Ro(new yt(it.UNAVAILABLE,"The operation could not be completed")))}),Ut(pe,Kn.EventType.MESSAGE,Bt=>{var Mn;if(!Je){const $n=Bt.data[0];an(!!$n);const sr=$n.error||(null===(Mn=$n[0])||void 0===Mn?void 0:Mn.error);if(sr){pt(co,`RPC '${e}' stream ${l} received error:`,sr);const Ar=sr.status;let Rr=function(tv){const Og=Cs[tv];if(void 0!==Og)return r_(Og)}(Ar),ms=sr.message;void 0===Rr&&(Rr=it.INTERNAL,ms="Unknown error status: "+Ar+" with message "+sr.message),Je=!0,Rt.Ro(new yt(Rr,ms)),pe.close()}else pt(co,`RPC '${e}' stream ${l} received:`,$n),Rt.Vo($n)}}),Ut(D,$t.STAT_EVENT,Bt=>{Bt.stat===yn.PROXY?pt(co,`RPC '${e}' stream ${l} detected buffering proxy`):Bt.stat===yn.NOPROXY&&pt(co,`RPC '${e}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{Rt.Ao()},0),Rt}}function yf(){return typeof window<"u"?window:null}function Zu(){return typeof document<"u"?document:null}function jd(i){return new vv(i,!0)}class vf{constructor(e,n,s=1e3,l=1.5,c=6e4){this.si=e,this.timerId=n,this.Fo=s,this.Mo=l,this.xo=c,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),s=Math.max(0,Date.now()-this.Bo),l=Math.max(0,n-s);l>0&&pt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,l,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class k_{constructor(e,n,s,l,c,f,D,M){this.si=e,this.Ko=s,this.$o=l,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=D,this.listener=M,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new vf(e,n)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return(0,fe.Z)(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return(0,fe.Z)(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,n){var s=this;return(0,fe.Z)(function*(){s.t_(),s.n_(),s.zo.cancel(),s.Uo++,4!==e?s.zo.reset():n&&n.code===it.RESOURCE_EXHAUSTED?(kr(n.toString()),kr("Using maximum backoff delay to prevent overloading the backend."),s.zo.Lo()):n&&n.code===it.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.r_(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.Io(n)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,l])=>{this.Uo===n&&this.s_(s,l)},s=>{e(()=>{const l=new yt(it.UNKNOWN,"Fetching auth token failed: "+s.message);return this.o_(l)})})}s_(e,n){const s=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{s(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(l=>{s(()=>this.o_(l))}),this.stream.onMessage(l=>{s(()=>this.onMessage(l))})}Jo(){var e=this;this.state=5,this.zo.ko((0,fe.Z)(function*(){e.state=0,e.start()}))}o_(e){return pt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(pt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class L_ extends k_{constructor(e,n,s,l,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,l,f),this.serializer=c}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=function u_(i,e){let n;if("targetChange"in e){const s="NO_CHANGE"===(z=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===z?1:"REMOVE"===z?2:"CURRENT"===z?3:"RESET"===z?4:Kt(),l=e.targetChange.targetIds||[],c=function(z,X){return z.useProto3Json?(an(void 0===X||"string"==typeof X),gi.fromBase64String(X||"")):(an(void 0===X||X instanceof Uint8Array),gi.fromUint8Array(X||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,D=f&&function(z){const X=void 0===z.code?it.UNKNOWN:r_(z.code);return new yt(X,z.message||"")}(f);n=new o_(s,l,c,D||null)}else if("documentChange"in e){const s=e.documentChange,l=Ya(i,s.document.name),c=es(s.document.updateTime),f=s.document.createTime?es(s.document.createTime):ln.min(),D=new Ki({mapValue:{fields:s.document.fields}}),M=pr.newFoundDocument(l,c,f,D);n=new zh(s.targetIds||[],s.removedTargetIds||[],M.key,M)}else if("documentDelete"in e){const s=e.documentDelete,l=Ya(i,s.document),c=s.readTime?es(s.readTime):ln.min(),f=pr.newNoDocument(l,c);n=new zh([],s.removedTargetIds||[],f.key,f)}else if("documentRemove"in e){const s=e.documentRemove,l=Ya(i,s.document);n=new zh([],s.removedTargetIds||[],l,null)}else{if(!("filter"in e))return Kt();{const s=e.filter,{count:l=0,unchangedNames:c}=s,f=new Zp(l,c);n=new s_(s.targetId,f)}}var z;return n}(this.serializer,e),s=function(c){if(!("targetChange"in c))return ln.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?ln.min():f.readTime?es(f.readTime):ln.min()}(e);return this.listener.a_(n,s)}u_(e){const n={};n.database=Tc(this.serializer),n.addTarget=function(c,f){let D;const M=f.target;if(D=El(M)?{documents:qh(c,M)}:{query:$u(c,M)},D.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){D.resumeToken=eu(c,f.resumeToken);const z=bd(c,f.expectedCount);null!==z&&(D.expectedCount=z)}else if(f.snapshotVersion.compareTo(ln.min())>0){D.readTime=Hu(c,f.snapshotVersion.toTimestamp());const z=bd(c,f.expectedCount);null!==z&&(D.expectedCount=z)}return D}(this.serializer,e);const s=function h_(i,e){const n=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Kt()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);s&&(n.labels=s),this.e_(n)}c_(e){const n={};n.database=Tc(this.serializer),n.removeTarget=e,this.e_(n)}}class $E extends k_{constructor(e,n,s,l,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,l,f),this.serializer=c,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(an(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=function c_(i,e){return i&&i.length>0?(an(void 0!==e),i.map(n=>function(l,c){let f=es(l.updateTime?l.updateTime:c);return f.isEqual(ln.min())&&(f=es(c)),new Jg(f,l.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),s=es(e.commitTime);return this.listener.I_(s,n)}return an(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=Tc(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>ju(this.serializer,s))};this.e_(n)}}class Bv extends class{}{constructor(e,n,s,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=l,this.d_=!1}A_(){if(this.d_)throw new yt(it.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,s){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.wo(e,n,s,l,c)).catch(l=>{throw"FirebaseError"===l.name?(l.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new yt(it.UNKNOWN,l.toString())})}Co(e,n,s,l){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Co(e,n,s,c,f,l)).catch(c=>{throw"FirebaseError"===c.name?(c.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new yt(it.UNKNOWN,c.toString())})}terminate(){this.d_=!0}}class Lc{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(kr(n),this.f_=!1):pt("OnlineStateTracker",n)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class $d{constructor(e,n,s,l,c){var f=this;this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=c,this.F_.ro(D=>{s.enqueueAndForget((0,fe.Z)(function*(){var M;xl(f)&&(pt("RemoteStore","Restarting streams for network reachability change."),yield(M=(0,fe.Z)(function*(X){const pe=Ht(X);pe.C_.add(4),yield Fc(pe),pe.M_.set("Unknown"),pe.C_.delete(4),yield zd(pe)}),function z(X){return M.apply(this,arguments)})(f))}))}),this.M_=new Lc(s,l)}}function zd(i){return Ef.apply(this,arguments)}function Ef(){return Ef=(0,fe.Z)(function*(i){if(xl(i))for(const e of i.v_)yield e(!0)}),Ef.apply(this,arguments)}function Fc(i){return Dm.apply(this,arguments)}function Dm(){return Dm=(0,fe.Z)(function*(i){for(const e of i.v_)yield e(!1)}),Dm.apply(this,arguments)}function Tf(i,e){const n=Ht(i);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),Gd(n)?F_(n):Uc(n).Ho()&&wf(n,e))}function Vc(i,e){const n=Ht(i),s=Uc(n);n.D_.delete(e),s.Ho()&&Cf(n,e),0===n.D_.size&&(s.Ho()?s.Zo():xl(n)&&n.M_.set("Unknown"))}function wf(i,e){if(i.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ln.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Uc(i).u_(e)}function Cf(i,e){i.x_.Oe(e),Uc(i).c_(e)}function F_(i){i.x_=new _v({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>i.D_.get(e)||null,nt:()=>i.datastore.serializer.databaseId}),Uc(i).start(),i.M_.g_()}function Gd(i){return xl(i)&&!Uc(i).jo()&&i.D_.size>0}function xl(i){return 0===Ht(i).C_.size}function V_(i){i.x_=void 0}function Hv(i){return bf.apply(this,arguments)}function bf(){return bf=(0,fe.Z)(function*(i){i.D_.forEach((e,n)=>{wf(i,e)})}),bf.apply(this,arguments)}function jv(i,e){return Df.apply(this,arguments)}function Df(){return Df=(0,fe.Z)(function*(i,e){V_(i),Gd(i)?(i.M_.w_(e),F_(i)):i.M_.set("Unknown")}),Df.apply(this,arguments)}function $v(i,e,n){return Am.apply(this,arguments)}function Am(){return Am=(0,fe.Z)(function*(i,e,n){if(i.M_.set("Online"),e instanceof o_&&2===e.state&&e.cause)try{yield(s=(0,fe.Z)(function*(c,f){const D=f.cause;for(const M of f.targetIds)c.D_.has(M)&&(yield c.remoteSyncer.rejectListen(M,D),c.D_.delete(M),c.x_.removeTarget(M))}),function l(c,f){return s.apply(this,arguments)})(i,e)}catch(s){pt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield Sm(i,s)}else if(e instanceof zh?i.x_.$e(e):e instanceof s_?i.x_.Je(e):i.x_.Ge(e),!n.isEqual(ln.min()))try{const s=yield x_(i.localStore);n.compareTo(s)>=0&&(yield function(c,f){const D=c.x_.it(f);return D.targetChanges.forEach((M,z)=>{if(M.resumeToken.approximateByteSize()>0){const X=c.D_.get(z);X&&c.D_.set(z,X.withResumeToken(M.resumeToken,f))}}),D.targetMismatches.forEach((M,z)=>{const X=c.D_.get(M);if(!X)return;c.D_.set(M,X.withResumeToken(gi.EMPTY_BYTE_STRING,X.snapshotVersion)),Cf(c,M);const pe=new Dl(X.target,M,z,X.sequenceNumber);wf(c,pe)}),c.remoteSyncer.applyRemoteEvent(D)}(i,n))}catch(s){pt("RemoteStore","Failed to raise snapshot:",s),yield Sm(i,s)}var s}),Am.apply(this,arguments)}function Sm(i,e,n){return Af.apply(this,arguments)}function Af(){return Af=(0,fe.Z)(function*(i,e,n){if(!Xn(e))throw e;i.C_.add(1),yield Fc(i),i.M_.set("Offline"),n||(n=()=>x_(i.localStore)),i.asyncQueue.enqueueRetryable((0,fe.Z)(function*(){pt("RemoteStore","Retrying IndexedDB access"),yield n(),i.C_.delete(1),yield zd(i)}))}),Af.apply(this,arguments)}function Pm(i,e){return e().catch(n=>Sm(i,n,e))}function ho(i){return Sf.apply(this,arguments)}function Sf(){return Sf=(0,fe.Z)(function*(i){const e=Ht(i),n=el(e);let s=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;zE(e);)try{const l=yield ff(e.localStore,s);if(null===l){0===e.b_.length&&n.Zo();break}s=l.batchId,Rm(e,l)}catch(l){yield Sm(e,l)}Ol(e)&&Pf(e)}),Sf.apply(this,arguments)}function zE(i){return xl(i)&&i.b_.length<10}function Rm(i,e){i.b_.push(e);const n=el(i);n.Ho()&&n.h_&&n.P_(e.mutations)}function Ol(i){return xl(i)&&!el(i).jo()&&i.b_.length>0}function Pf(i){el(i).start()}function zv(i){return U_.apply(this,arguments)}function U_(){return U_=(0,fe.Z)(function*(i){el(i).E_()}),U_.apply(this,arguments)}function Gv(i){return Wd.apply(this,arguments)}function Wd(){return Wd=(0,fe.Z)(function*(i){const e=el(i);for(const n of i.b_)e.P_(n.mutations)}),Wd.apply(this,arguments)}function Xa(i,e,n){return Rf.apply(this,arguments)}function Rf(){return Rf=(0,fe.Z)(function*(i,e,n){const s=i.b_.shift(),l=Wp.from(s,e,n);yield Pm(i,()=>i.remoteSyncer.applySuccessfulWrite(l)),yield ho(i)}),Rf.apply(this,arguments)}function Wv(i,e){return B_.apply(this,arguments)}function B_(){return B_=(0,fe.Z)(function*(i,e){var n;e&&el(i).h_&&(yield(n=(0,fe.Z)(function*(l,c){if(n_(D=c.code)&&D!==it.ABORTED){const f=l.b_.shift();el(l).Yo(),yield Pm(l,()=>l.remoteSyncer.rejectFailedWrite(f.batchId,c)),yield ho(l)}var D}),function s(l,c){return n.apply(this,arguments)})(i,e)),Ol(i)&&Pf(i)}),B_.apply(this,arguments)}function Ns(i,e){return Mm.apply(this,arguments)}function Mm(){return Mm=(0,fe.Z)(function*(i,e){const n=Ht(i);n.asyncQueue.verifyOperationInProgress(),pt("RemoteStore","RemoteStore received new credentials");const s=xl(n);n.C_.add(3),yield Fc(n),s&&n.M_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),yield zd(n)}),Mm.apply(this,arguments)}function qd(i,e){return xm.apply(this,arguments)}function xm(){return xm=(0,fe.Z)(function*(i,e){const n=Ht(i);e?(n.C_.delete(2),yield zd(n)):e||(n.C_.add(2),yield Fc(n),n.M_.set("Unknown"))}),xm.apply(this,arguments)}function Uc(i){return i.O_||(i.O_=function(n,s,l){const c=Ht(n);return c.A_(),new L_(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(i.datastore,i.asyncQueue,{ho:Hv.bind(null,i),Io:jv.bind(null,i),a_:$v.bind(null,i)}),i.v_.push(function(){var e=(0,fe.Z)(function*(n){n?(i.O_.Yo(),Gd(i)?F_(i):i.M_.set("Unknown")):(yield i.O_.stop(),V_(i))});return function(n){return e.apply(this,arguments)}}())),i.O_}function el(i){return i.N_||(i.N_=function(n,s,l){const c=Ht(n);return c.A_(),new $E(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(i.datastore,i.asyncQueue,{ho:zv.bind(null,i),Io:Wv.bind(null,i),T_:Gv.bind(null,i),I_:Xa.bind(null,i)}),i.v_.push(function(){var e=(0,fe.Z)(function*(n){n?(i.N_.Yo(),yield ho(i)):(yield i.N_.stop(),i.b_.length>0&&(pt("RemoteStore",`Stopping write stream with ${i.b_.length} pending writes`),i.b_=[]))});return function(n){return e.apply(this,arguments)}}())),i.N_}class Mf{constructor(e,n,s,l,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new qi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,l,c){const f=Date.now()+s,D=new Mf(e,n,f,l,c);return D.start(s),D}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new yt(it.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yu(i,e){if(kr("AsyncQueue",`${e}: ${i}`),Xn(i))return new yt(it.UNAVAILABLE,`${e}: ${i}`);throw i}class Bc{constructor(e){this.comparator=e?(n,s)=>e(n,s)||Ft.comparator(n.key,s.key):(n,s)=>Ft.comparator(n.key,s.key),this.keyedMap=xu(),this.sortedSet=new Lr(this.comparator)}static emptySet(e){return new Bc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Bc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const s=new Bc;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class Om{constructor(){this.B_=new Lr(Ft.comparator)}track(e){const n=e.doc.key,s=this.B_.get(n);s?0!==e.type&&3===s.type?this.B_=this.B_.insert(n,e):3===e.type&&1!==s.type?this.B_=this.B_.insert(n,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.B_=this.B_.remove(n):1===e.type&&2===s.type?this.B_=this.B_.insert(n,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):Kt():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,s)=>{e.push(s)}),e}}class Qu{constructor(e,n,s,l,c,f,D,M,z){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=D,this.excludesMetadataChanges=M,this.hasCachedResults=z}static fromInitialDocuments(e,n,s,l,c){const f=[];return n.forEach(D=>{f.push({type:0,doc:D})}),new Qu(e,n,Bc.emptySet(n),f,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wt(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==s[l].type||!n[l].doc.isEqual(s[l].doc))return!1;return!0}}class qv{constructor(){this.k_=void 0,this.listeners=[]}}class Kv{constructor(){this.queries=new Xo(e=>En(e),Wt),this.onlineState="Unknown",this.q_=new Set}}function xf(i,e){return Of.apply(this,arguments)}function Of(){return Of=(0,fe.Z)(function*(i,e){const n=Ht(i),s=e.query;let l=!1,c=n.queries.get(s);if(c||(l=!0,c=new qv),l)try{c.k_=yield n.onListen(s)}catch(f){const D=Yu(f,`Initialization of query '${nr(e.query)}' failed`);return void e.onError(D)}n.queries.set(s,c),c.listeners.push(e),e.Q_(n.onlineState),c.k_&&e.K_(c.k_)&&Nm(n)}),Of.apply(this,arguments)}function hu(i,e){return xa.apply(this,arguments)}function xa(){return xa=(0,fe.Z)(function*(i,e){const n=Ht(i),s=e.query;let l=!1;const c=n.queries.get(s);if(c){const f=c.listeners.indexOf(e);f>=0&&(c.listeners.splice(f,1),l=0===c.listeners.length)}if(l)return n.queries.delete(s),n.onUnlisten(s)}),xa.apply(this,arguments)}function Hc(i,e){const n=Ht(i);let s=!1;for(const l of e){const f=n.queries.get(l.query);if(f){for(const D of f.listeners)D.K_(l)&&(s=!0);f.k_=l}}s&&Nm(n)}function Zv(i,e,n){const s=Ht(i),l=s.queries.get(e);if(l)for(const c of l.listeners)c.onError(n);s.queries.delete(e)}function Nm(i){i.q_.forEach(e=>{e.next()})}class Nf{constructor(e,n,s){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=s||{}}K_(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)3!==l.type&&s.push(l);e=new Qu(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){return!e.fromCache||(!this.options.J_||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=Qu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class H_{constructor(e,n){this.Y_=e,this.byteLength=n}Z_(){return"metadata"in this.Y_}}class kf{constructor(e){this.serializer=e}hs(e){return Ya(this.serializer,e)}Ps(e){return e.metadata.exists?Dd(this.serializer,e.document,!1):pr.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return es(e)}}class Kd{constructor(e,n,s){this.X_=e,this.localStore=n,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Zd(e)}ea(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++n;const s=Sn.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}ta(e){const n=new Map,s=new kf(this.serializer);for(const l of e)if(l.metadata.queries){const c=s.hs(l.metadata.name);for(const f of l.metadata.queries){const D=(n.get(f)||rr()).add(c);n.set(f,D)}}return n}complete(){var e=this;return(0,fe.Z)(function*(){const n=yield function gf(i,e,n,s){return cu.apply(this,arguments)}(e.localStore,new kf(e.serializer),e.documents,e.X_.id),s=e.ta(e.documents);for(const l of e.queries)yield ym(e.localStore,l,s.get(l.name));return e.progress.taskState="Success",{progress:e.progress,na:e.collectionGroups,ra:n}})()}}function Zd(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class km{constructor(e){this.key=e}}class Lm{constructor(e){this.key=e}}class j_{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=rr(),this.mutatedKeys=rr(),this._a=Jl(e),this.aa=new Bc(this._a)}get ua(){return this.ia}ca(e,n){const s=n?n.la:new Om,l=n?n.aa:this.aa;let c=n?n.mutatedKeys:this.mutatedKeys,f=l,D=!1;const M="F"===this.query.limitType&&l.size===this.query.limit?l.last():null,z="L"===this.query.limitType&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((X,pe)=>{const ke=l.get(X),Je=fs(this.query,pe)?pe:null,Rt=!!ke&&this.mutatedKeys.has(ke.key),Ut=!!Je&&(Je.hasLocalMutations||this.mutatedKeys.has(Je.key)&&Je.hasCommittedMutations);let Bt=!1;ke&&Je?ke.data.isEqual(Je.data)?Rt!==Ut&&(s.track({type:3,doc:Je}),Bt=!0):this.ha(ke,Je)||(s.track({type:2,doc:Je}),Bt=!0,(M&&this._a(Je,M)>0||z&&this._a(Je,z)<0)&&(D=!0)):!ke&&Je?(s.track({type:0,doc:Je}),Bt=!0):ke&&!Je&&(s.track({type:1,doc:ke}),Bt=!0,(M||z)&&(D=!0)),Bt&&(Je?(f=f.add(Je),c=Ut?c.add(X):c.delete(X)):(f=f.delete(X),c=c.delete(X)))}),null!==this.query.limit)for(;f.size>this.query.limit;){const X="F"===this.query.limitType?f.last():f.first();f=f.delete(X.key),c=c.delete(X.key),s.track({type:1,doc:X})}return{aa:f,la:s,Zi:D,mutatedKeys:c}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s){const l=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const c=e.la.L_();c.sort((z,X)=>function(ke,Je){const Rt=Ut=>{switch(Ut){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Kt()}};return Rt(ke)-Rt(Je)}(z.type,X.type)||this._a(z.doc,X.doc)),this.Pa(s);const f=n?this.Ia():[],D=0===this.oa.size&&this.current?1:0,M=D!==this.sa;return this.sa=D,0!==c.length||M?{snapshot:new Qu(this.query,e.aa,l,c,e.mutatedKeys,0===D,M,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ta:f}:{Ta:f}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new Om,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=rr(),this.aa.forEach(s=>{this.Ea(s.key)&&(this.oa=this.oa.add(s.key))});const n=[];return e.forEach(s=>{this.oa.has(s)||n.push(new Lm(s))}),this.oa.forEach(s=>{e.has(s)||n.push(new km(s))}),n}da(e){this.ia=e.ls,this.oa=rr();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return Qu.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class Yv{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class Qv{constructor(e){this.key=e,this.Ra=!1}}class Jv{constructor(e,n,s,l,c,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.Va={},this.ma=new Xo(D=>En(D),Wt),this.fa=new Map,this.ga=new Set,this.pa=new Lr(Ft.comparator),this.ya=new Map,this.wa=new Rl,this.Sa={},this.ba=new Map,this.Da=iu.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function $_(i,e){return z_.apply(this,arguments)}function z_(){return z_=(0,fe.Z)(function*(i,e){const n=eh(i);let s,l;const c=n.ma.get(e);if(c)s=c.targetId,n.sharedClientState.addLocalQueryTarget(s),l=c.view.Aa();else{const f=yield Nc(n.localStore,ie(e)),D=n.sharedClientState.addLocalQueryTarget(f.targetId);s=f.targetId,l=yield Fm(n,e,s,"current"===D,f.resumeToken),n.isPrimaryClient&&Tf(n.remoteStore,f)}return l}),z_.apply(this,arguments)}function Fm(i,e,n,s,l){return G_.apply(this,arguments)}function G_(){return G_=(0,fe.Z)(function*(i,e,n,s,l){i.va=(pe,ke,Je)=>{return(Rt=(0,fe.Z)(function*(Bt,Mn,$n,bn){let sr=Mn.view.ca($n);sr.Zi&&(sr=yield Ml(Bt.localStore,Mn.query,!1).then(({documents:ms})=>Mn.view.ca(ms,sr)));const Ar=bn&&bn.targetChanges.get(Mn.targetId),Rr=Mn.view.applyChanges(sr,Bt.isPrimaryClient,Ar);return Qd(Bt,Mn.targetId,Rr.Ta),Rr.snapshot}),function Ut(Bt,Mn,$n,bn){return Rt.apply(this,arguments)})(i,pe,ke,Je);var Rt};const c=yield Ml(i.localStore,e,!0),f=new j_(e,c.ls),D=f.ca(c.documents),M=wd.createSynthesizedTargetChangeForCurrentChange(n,s&&"Offline"!==i.onlineState,l),z=f.applyChanges(D,i.isPrimaryClient,M);Qd(i,n,z.Ta);const X=new Yv(e,n,f);return i.ma.set(e,X),i.fa.has(n)?i.fa.get(n).push(e):i.fa.set(n,[e]),z.snapshot}),G_.apply(this,arguments)}function GE(i,e){return Lf.apply(this,arguments)}function Lf(){return Lf=(0,fe.Z)(function*(i,e){const n=Ht(i),s=n.ma.get(e),l=n.fa.get(s.targetId);if(l.length>1)return n.fa.set(s.targetId,l.filter(c=>!Wt(c,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||(yield uu(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),Vc(n.remoteStore,s.targetId),Nl(n,s.targetId)}).catch(B))):(Nl(n,s.targetId),yield uu(n.localStore,s.targetId,!0))}),Lf.apply(this,arguments)}function q_(){return q_=(0,fe.Z)(function*(i,e,n){const s=zf(i);try{const l=yield function(f,D){const M=Ht(f),z=di.now(),X=D.reduce((Je,Rt)=>Je.add(Rt.key),rr());let pe,ke;return M.persistence.runTransaction("Locally write mutations","readwrite",Je=>{let Rt=xs(),Ut=rr();return M.ss.getEntries(Je,X).next(Bt=>{Rt=Bt,Rt.forEach((Mn,$n)=>{$n.isValidDocument()||(Ut=Ut.add(Mn))})}).next(()=>M.localDocuments.getOverlayedDocuments(Je,Rt)).next(Bt=>{pe=Bt;const Mn=[];for(const $n of D){const bn=uo($n,pe.get($n.key).overlayedDocument);null!=bn&&Mn.push(new Za($n.key,bn,gc(bn.value.mapValue),Bi.exists(!0)))}return M.mutationQueue.addMutationBatch(Je,z,Mn,D)}).next(Bt=>{ke=Bt;const Mn=Bt.applyToLocalDocumentSet(pe,Ut);return M.documentOverlayCache.saveOverlays(Je,Bt.batchId,Mn)})}).then(()=>({batchId:ke.batchId,changes:Ou(pe)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(l.batchId),function(f,D,M){let z=f.Sa[f.currentUser.toKey()];z||(z=new Lr(vn)),z=z.insert(D,M),f.Sa[f.currentUser.toKey()]=z}(s,l.batchId,n),yield Oa(s,l.changes),yield ho(s.remoteStore)}catch(l){const c=Yu(l,"Failed to persist write");n.reject(c)}}),q_.apply(this,arguments)}function Yd(i,e){return K_.apply(this,arguments)}function K_(){return K_=(0,fe.Z)(function*(i,e){const n=Ht(i);try{const s=yield function jE(i,e){const n=Ht(i),s=e.snapshotVersion;let l=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const f=n.ss.newChangeBuffer({trackRemovals:!0});l=n.ts;const D=[];e.targetChanges.forEach((X,pe)=>{const ke=l.get(pe);if(!ke)return;D.push(n.qr.removeMatchingKeys(c,X.removedDocuments,pe).next(()=>n.qr.addMatchingKeys(c,X.addedDocuments,pe)));let Je=ke.withSequenceNumber(c.currentSequenceNumber);var Ut,Bt,Mn;null!==e.targetMismatches.get(pe)?Je=Je.withResumeToken(gi.EMPTY_BYTE_STRING,ln.min()).withLastLimboFreeSnapshotVersion(ln.min()):X.resumeToken.approximateByteSize()>0&&(Je=Je.withResumeToken(X.resumeToken,s)),l=l.insert(pe,Je),Bt=Je,Mn=X,(0===(Ut=ke).resumeToken.approximateByteSize()||Bt.snapshotVersion.toMicroseconds()-Ut.snapshotVersion.toMicroseconds()>=3e8||Mn.addedDocuments.size+Mn.modifiedDocuments.size+Mn.removedDocuments.size>0)&&D.push(n.qr.updateTargetData(c,Je))});let M=xs(),z=rr();if(e.documentUpdates.forEach(X=>{e.resolvedLimboDocuments.has(X)&&D.push(n.persistence.referenceDelegate.updateLimboDocument(c,X))}),D.push(Fv(c,f,e.documentUpdates).next(X=>{M=X.us,z=X.cs})),!s.isEqual(ln.min())){const X=n.qr.getLastRemoteSnapshotVersion(c).next(pe=>n.qr.setTargetsMetadata(c,c.currentSequenceNumber,s));D.push(X)}return Q.waitFor(D).next(()=>f.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,M,z)).next(()=>M)}).then(c=>(n.ts=l,c))}(n.localStore,e);e.targetChanges.forEach((l,c)=>{const f=n.ya.get(c);f&&(an(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?f.Ra=!0:l.modifiedDocuments.size>0?an(f.Ra):l.removedDocuments.size>0&&(an(f.Ra),f.Ra=!1))}),yield Oa(n,s,e)}catch(s){yield B(s)}}),K_.apply(this,arguments)}function Vm(i,e,n){const s=Ht(i);if(s.isPrimaryClient&&0===n||!s.isPrimaryClient&&1===n){const l=[];s.ma.forEach((c,f)=>{const D=f.view.Q_(e);D.snapshot&&l.push(D.snapshot)}),function(f,D){const M=Ht(f);M.onlineState=D;let z=!1;M.queries.forEach((X,pe)=>{for(const ke of pe.listeners)ke.Q_(D)&&(z=!0)}),z&&Nm(M)}(s.eventManager,e),l.length&&s.Va.a_(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function Z_(i,e,n){return Um.apply(this,arguments)}function Um(){return Um=(0,fe.Z)(function*(i,e,n){const s=Ht(i);s.sharedClientState.updateQueryState(e,"rejected",n);const l=s.ya.get(e),c=l&&l.key;if(c){let f=new Lr(Ft.comparator);f=f.insert(c,pr.newNoDocument(c,ln.min()));const D=rr().add(c),M=new Xl(ln.min(),new Map,new Lr(vn),f,D);yield Yd(s,M),s.pa=s.pa.remove(c),s.ya.delete(e),Bf(s)}else yield uu(s.localStore,e,!1).then(()=>Nl(s,e,n)).catch(B)}),Um.apply(this,arguments)}function Y_(i,e){return Ff.apply(this,arguments)}function Ff(){return Ff=(0,fe.Z)(function*(i,e){const n=Ht(i),s=e.batch.batchId;try{const l=yield function Lv(i,e){const n=Ht(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=e.batch.keys(),c=n.ss.newChangeBuffer({trackRemovals:!0});return function(D,M,z,X){const pe=z.batch,ke=pe.keys();let Je=Q.resolve();return ke.forEach(Rt=>{Je=Je.next(()=>X.getEntry(M,Rt)).next(Ut=>{const Bt=z.docVersions.get(Rt);an(null!==Bt),Ut.version.compareTo(Bt)<0&&(pe.applyToRemoteDocument(Ut,z),Ut.isValidDocument()&&(Ut.setReadTime(z.commitVersion),X.addEntry(Ut)))})}),Je.next(()=>D.mutationQueue.removeMutationBatch(M,pe))}(n,s,e,c).next(()=>c.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,l,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(D){let M=rr();for(let z=0;z<D.mutationResults.length;++z)D.mutationResults[z].transformResults.length>0&&(M=M.add(D.batch.mutations[z].key));return M}(e))).next(()=>n.localDocuments.getDocuments(s,l))})}(n.localStore,e);Bm(n,s,null),Uf(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),yield Oa(n,l)}catch(l){yield B(l)}}),Ff.apply(this,arguments)}function Qn(i,e,n){return Vf.apply(this,arguments)}function Vf(){return Vf=(0,fe.Z)(function*(i,e,n){const s=Ht(i);try{const l=yield function(f,D){const M=Ht(f);return M.persistence.runTransaction("Reject batch","readwrite-primary",z=>{let X;return M.mutationQueue.lookupMutationBatch(z,D).next(pe=>(an(null!==pe),X=pe.keys(),M.mutationQueue.removeMutationBatch(z,pe))).next(()=>M.mutationQueue.performConsistencyCheck(z)).next(()=>M.documentOverlayCache.removeOverlaysForBatchId(z,X,D)).next(()=>M.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(z,X)).next(()=>M.localDocuments.getDocuments(z,X))})}(s.localStore,e);Bm(s,e,n),Uf(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),yield Oa(s,l)}catch(l){yield B(l)}}),Vf.apply(this,arguments)}function fu(){return fu=(0,fe.Z)(function*(i,e){const n=Ht(i);xl(n.remoteStore)||pt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(f){const D=Ht(f);return D.persistence.runTransaction("Get highest unacknowledged batch id","readonly",M=>D.mutationQueue.getHighestUnacknowledgedBatchId(M))}(n.localStore);if(-1===s)return void e.resolve();const l=n.ba.get(s)||[];l.push(e),n.ba.set(s,l)}catch(s){const l=Yu(s,"Initialization of waitForPendingWrites() operation failed");e.reject(l)}}),fu.apply(this,arguments)}function Uf(i,e){(i.ba.get(e)||[]).forEach(n=>{n.resolve()}),i.ba.delete(e)}function Bm(i,e,n){const s=Ht(i);let l=s.Sa[s.currentUser.toKey()];if(l){const c=l.get(e);c&&(n?c.reject(n):c.resolve(),l=l.remove(e)),s.Sa[s.currentUser.toKey()]=l}}function Nl(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.fa.get(e))i.ma.delete(s),n&&i.Va.Fa(s,n);i.fa.delete(e),i.isPrimaryClient&&i.wa.Rr(e).forEach(s=>{i.wa.containsKey(s)||Ju(i,s)})}function Ju(i,e){i.ga.delete(e.path.canonicalString());const n=i.pa.get(e);null!==n&&(Vc(i.remoteStore,n),i.pa=i.pa.remove(e),i.ya.delete(n),Bf(i))}function Qd(i,e,n){for(const s of n)s instanceof km?(i.wa.addReference(s.key,e),Jd(i,s)):s instanceof Lm?(pt("SyncEngine","Document no longer in limbo: "+s.key),i.wa.removeReference(s.key,e),i.wa.containsKey(s.key)||Ju(i,s.key)):Kt()}function Jd(i,e){const n=e.key,s=n.path.canonicalString();i.pa.get(n)||i.ga.has(s)||(pt("SyncEngine","New document in limbo: "+n),i.ga.add(s),Bf(i))}function Bf(i){for(;i.ga.size>0&&i.pa.size<i.maxConcurrentLimboResolutions;){const e=i.ga.values().next().value;i.ga.delete(e);const n=new Ft(Sn.fromString(e)),s=i.Da.next();i.ya.set(s,new Qv(n)),i.pa=i.pa.insert(n,s),Tf(i.remoteStore,new Dl(ie(h(n.path)),s,"TargetPurposeLimboResolution",Ws._e))}}function Oa(i,e,n){return Xd.apply(this,arguments)}function Xd(){return Xd=(0,fe.Z)(function*(i,e,n){const s=Ht(i),l=[],c=[],f=[];var D;s.ma.isEmpty()||(s.ma.forEach((D,M)=>{f.push(s.va(M,e,n).then(z=>{if((z||n)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(M.targetId,z?.fromCache?"not-current":"current"),z){l.push(z);const X=Nd.Qi(M.targetId,z);c.push(X)}}))}),yield Promise.all(f),s.Va.a_(l),yield(D=(0,fe.Z)(function*(z,X){const pe=Ht(z);try{yield pe.persistence.runTransaction("notifyLocalViewChanges","readwrite",ke=>Q.forEach(X,Je=>Q.forEach(Je.ki,Rt=>pe.persistence.referenceDelegate.addReference(ke,Je.targetId,Rt)).next(()=>Q.forEach(Je.qi,Rt=>pe.persistence.referenceDelegate.removeReference(ke,Je.targetId,Rt)))))}catch(ke){if(!Xn(ke))throw ke;pt("LocalStore","Failed to update sequence numbers: "+ke)}for(const ke of X){const Je=ke.targetId;if(!ke.fromCache){const Rt=pe.ts.get(Je),Bt=Rt.withLastLimboFreeSnapshotVersion(Rt.snapshotVersion);pe.ts=pe.ts.insert(Je,Bt)}}}),function M(z,X){return D.apply(this,arguments)})(s.localStore,c))}),Xd.apply(this,arguments)}function Hm(i,e){return Hf.apply(this,arguments)}function Hf(){return Hf=(0,fe.Z)(function*(i,e){const n=Ht(i);if(!n.currentUser.isEqual(e)){pt("SyncEngine","User change. New user:",e.toKey());const s=yield kv(n.localStore,e);n.currentUser=e,(c=n).ba.forEach(D=>{D.forEach(M=>{M.reject(new yt(it.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),c.ba.clear(),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield Oa(n,s._s)}var c}),Hf.apply(this,arguments)}function jm(i,e){const n=Ht(i),s=n.ya.get(e);if(s&&s.Ra)return rr().add(s.key);{let l=rr();const c=n.fa.get(e);if(!c)return l;for(const f of c){const D=n.ma.get(f);l=l.unionWith(D.view.ua)}return l}}function Xv(i,e){return $m.apply(this,arguments)}function $m(){return $m=(0,fe.Z)(function*(i,e){const n=Ht(i),s=yield Ml(n.localStore,e.query,!0),l=e.view.da(s);return n.isPrimaryClient&&Qd(n,e.targetId,l.Ta),l}),$m.apply(this,arguments)}function eI(i,e){return jf.apply(this,arguments)}function jf(){return jf=(0,fe.Z)(function*(i,e){const n=Ht(i);return mf(n.localStore,e).then(s=>Oa(n,s))}),jf.apply(this,arguments)}function tI(i,e,n,s){return zm.apply(this,arguments)}function zm(){return zm=(0,fe.Z)(function*(i,e,n,s){const l=Ht(i),c=yield function(D,M){const z=Ht(D),X=Ht(z.mutationQueue);return z.persistence.runTransaction("Lookup mutation documents","readonly",pe=>X.Cn(pe,M).next(ke=>ke?z.localDocuments.getDocuments(pe,ke):Q.resolve(null)))}(l.localStore,e);var M;null!==c?("pending"===n?yield ho(l.remoteStore):"acknowledged"===n||"rejected"===n?(Bm(l,e,s||null),Uf(l,e),M=e,Ht(Ht(l.localStore).mutationQueue).Fn(M)):Kt(),yield Oa(l,c)):pt("SyncEngine","Cannot apply mutation batch with id: "+e)}),zm.apply(this,arguments)}function Gm(){return Gm=(0,fe.Z)(function*(i,e){const n=Ht(i);if(eh(n),zf(n),!0===e&&!0!==n.Ca){const s=n.sharedClientState.getAllActiveQueryTargets(),l=yield Wm(n,s.toArray());n.Ca=!0,yield qd(n.remoteStore,!0);for(const c of l)Tf(n.remoteStore,c)}else if(!1===e&&!1!==n.Ca){const s=[];let l=Promise.resolve();n.fa.forEach((c,f)=>{n.sharedClientState.isLocalQueryTarget(f)?s.push(f):l=l.then(()=>(Nl(n,f),uu(n.localStore,f,!0))),Vc(n.remoteStore,f)}),yield l,yield Wm(n,s),function(f){const D=Ht(f);D.ya.forEach((M,z)=>{Vc(D.remoteStore,z)}),D.wa.Vr(),D.ya=new Map,D.pa=new Lr(Ft.comparator)}(n),n.Ca=!1,yield qd(n.remoteStore,!1)}}),Gm.apply(this,arguments)}function Wm(i,e,n){return $f.apply(this,arguments)}function $f(){return $f=(0,fe.Z)(function*(i,e,n){const s=Ht(i),l=[],c=[];for(const f of e){let D;const M=s.fa.get(f);if(M&&0!==M.length){D=yield Nc(s.localStore,ie(M[0]));for(const z of M){const X=s.ma.get(z),pe=yield Xv(s,X);pe.snapshot&&c.push(pe.snapshot)}}else{const z=yield pf(s.localStore,f);D=yield Nc(s.localStore,z),yield Fm(s,J_(z),f,!1,D.resumeToken)}l.push(D)}return s.Va.a_(c),l}),$f.apply(this,arguments)}function J_(i){return I(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function rI(i){return n=Ht(i).localStore,Ht(Ht(n).persistence).Bi();var n}function ta(i,e,n,s){return qm.apply(this,arguments)}function qm(){return qm=(0,fe.Z)(function*(i,e,n,s){const l=Ht(i);if(l.Ca)return void pt("SyncEngine","Ignoring unexpected query state notification.");const c=l.fa.get(e);if(c&&c.length>0)switch(n){case"current":case"not-current":{const f=yield mf(l.localStore,qa(c[0])),D=Xl.createSynthesizedRemoteEventForCurrentChange(e,"current"===n,gi.EMPTY_BYTE_STRING);yield Oa(l,f,D);break}case"rejected":yield uu(l.localStore,e,!0),Nl(l,e,s);break;default:Kt()}}),qm.apply(this,arguments)}function iI(i,e,n){return X_.apply(this,arguments)}function X_(){return X_=(0,fe.Z)(function*(i,e,n){const s=eh(i);if(s.Ca){for(const l of e){if(s.fa.has(l)){pt("SyncEngine","Adding an already active target "+l);continue}const c=yield pf(s.localStore,l),f=yield Nc(s.localStore,c);yield Fm(s,J_(c),f.targetId,!1,f.resumeToken),Tf(s.remoteStore,f)}for(const l of n)s.fa.has(l)&&(yield uu(s.localStore,l,!1).then(()=>{Vc(s.remoteStore,l),Nl(s,l)}).catch(B))}}),X_.apply(this,arguments)}function eh(i){const e=Ht(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Yd.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=jm.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Z_.bind(null,e),e.Va.a_=Hc.bind(null,e.eventManager),e.Va.Fa=Zv.bind(null,e.eventManager),e}function zf(i){const e=Ht(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Y_.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Qn.bind(null,e),e}class th{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,fe.Z)(function*(){n.serializer=jd(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return hf(this.persistence,new R_,e.initialUser,this.serializer)}createPersistence(e){return new xc(Ku.jr,this.serializer)}createSharedClientState(e){return new Em}terminate(){var e=this;return(0,fe.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Gf extends th{constructor(e,n,s){super(),this.xa=e,this.cacheSizeBytes=n,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var n=()=>super.initialize,s=this;return(0,fe.Z)(function*(){yield n().call(s,e),yield s.xa.initialize(s,e),yield zf(s.xa.syncEngine),yield ho(s.xa.remoteStore),yield s.persistence.mi(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return hf(this.persistence,new R_,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){return new Pv(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const s=new Aa(n,this.persistence);return new wu(e.asyncQueue,s)}createPersistence(e){const n=gm(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?Os.withCacheSize(this.cacheSizeBytes):Os.DEFAULT;return new lu(this.synchronizeTabs,n,e.clientId,s,e.asyncQueue,yf(),Zu(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Em}}class ey extends Gf{constructor(e,n){super(e,n,!1),this.xa=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){var n=()=>super.initialize,s=this;return(0,fe.Z)(function*(){yield n().call(s,e);const l=s.xa.syncEngine;s.sharedClientState instanceof Hd&&(s.sharedClientState.syncEngine={Ys:tI.bind(null,l),Zs:ta.bind(null,l),Xs:iI.bind(null,l),Bi:rI.bind(null,l),Js:eI.bind(null,l)},yield s.sharedClientState.start()),yield s.persistence.mi(function(){var c=(0,fe.Z)(function*(f){yield function nI(i,e){return Gm.apply(this,arguments)}(s.xa.syncEngine,f),s.gcScheduler&&(f&&!s.gcScheduler.started?s.gcScheduler.start():f||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(f&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():f||s.indexBackfillerScheduler.stop())});return function(f){return c.apply(this,arguments)}}())})()}createSharedClientState(e){const n=yf();if(!Hd.D(n))throw new yt(it.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=gm(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Hd(n,e.asyncQueue,s,e.clientId,e.initialUser)}}class jc{initialize(e,n){var s=this;return(0,fe.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(n),s.remoteStore=s.createRemoteStore(n),s.eventManager=s.createEventManager(n),s.syncEngine=s.createSyncEngine(n,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=l=>Vm(s.syncEngine,l,1),s.remoteStore.remoteSyncer.handleCredentialChange=Hm.bind(null,s.syncEngine),yield qd(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Kv}createDatastore(e){const n=jd(e.databaseInfo.databaseId),s=new N_(e.databaseInfo);return new Bv(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return s=this.localStore,l=this.datastore,c=e.asyncQueue,f=n=>Vm(this.syncEngine,n,0),D=O_.D()?new O_:new Uv,new $d(s,l,c,f,D);var s,l,c,f,D}createSyncEngine(e,n){return function(l,c,f,D,M,z,X){const pe=new Jv(l,c,f,D,M,z);return X&&(pe.Ca=!0),pe}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,fe.Z)(function*(s){const l=Ht(s);pt("RemoteStore","RemoteStore shutting down."),l.C_.add(5),yield Fc(l),l.F_.shutdown(),l.M_.set("Unknown")}),function n(s){return e.apply(this,arguments)})(this.remoteStore);var e}}function Wf(i,e=10240){let n=0;return{read:()=>(0,fe.Z)(function*(){if(n<i.byteLength){const s={value:i.slice(n,n+e),done:!1};return n+=e,s}return{done:!0}})(),cancel:()=>(0,fe.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class qf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):kr("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class aI{constructor(e,n){this.Ba=e,this.serializer=n,this.metadata=new qi,this.buffer=new Uint8Array,this.La=new TextDecoder("utf-8"),this.ka().then(s=>{s&&s.Z_()?this.metadata.resolve(s.Y_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(s?.Y_)}`))},s=>this.metadata.reject(s))}close(){return this.Ba.cancel()}getMetadata(){var e=this;return(0,fe.Z)(function*(){return e.metadata.promise})()}Ma(){var e=this;return(0,fe.Z)(function*(){return yield e.getMetadata(),e.ka()})()}ka(){var e=this;return(0,fe.Z)(function*(){const n=yield e.qa();if(null===n)return null;const s=e.La.decode(n),l=Number(s);isNaN(l)&&e.Qa(`length string (${s}) is not valid number`);const c=yield e.Ka(l);return new H_(JSON.parse(c),n.length+l)})()}$a(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}qa(){var e=this;return(0,fe.Z)(function*(){for(;e.$a()<0&&!(yield e.Ua()););if(0===e.buffer.length)return null;const n=e.$a();n<0&&e.Qa("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,n);return e.buffer=e.buffer.slice(n),s})()}Ka(e){var n=this;return(0,fe.Z)(function*(){for(;n.buffer.length<e;)(yield n.Ua())&&n.Qa("Reached the end of bundle when more is expected.");const s=n.La.decode(n.buffer.slice(0,e));return n.buffer=n.buffer.slice(e),s})()}Qa(e){throw this.Ba.cancel(),new Error(`Invalid bundle format: ${e}`)}Ua(){var e=this;return(0,fe.Z)(function*(){const n=yield e.Ba.read();if(!n.done){const s=new Uint8Array(e.buffer.length+n.value.length);s.set(e.buffer),s.set(n.value,e.buffer.length),e.buffer=s}return n.done})()}}class lI{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var n=this;return(0,fe.Z)(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw new yt(it.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(l=(0,fe.Z)(function*(f,D){const M=Ht(f),z=Tc(M.serializer)+"/documents",X={documents:D.map(Rt=>tu(M.serializer,Rt))},pe=yield M.Co("BatchGetDocuments",z,X,D.length),ke=new Map;pe.forEach(Rt=>{const Ut=function Ad(i,e){return"found"in e?function(s,l){an(!!l.found);const c=Ya(s,l.found.name),f=es(l.found.updateTime),D=l.found.createTime?es(l.found.createTime):ln.min(),M=new Ki({mapValue:{fields:l.found.fields}});return pr.newFoundDocument(c,f,D,M)}(i,e):"missing"in e?function(s,l){an(!!l.missing),an(!!l.readTime);const c=Ya(s,l.missing),f=es(l.readTime);return pr.newNoDocument(c,f)}(i,e):Kt()}(M.serializer,Rt);ke.set(Ut.key.toString(),Ut)});const Je=[];return D.forEach(Rt=>{const Ut=ke.get(Rt.toString());an(!!Ut),Je.push(Ut)}),Je}),function c(f,D){return l.apply(this,arguments)})(n.datastore,e);var l;return s.forEach(l=>n.recordVersion(l)),s})()}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new Vu(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,fe.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const n=e.readVersions;var s;e.mutations.forEach(s=>{n.delete(s.key.toString())}),n.forEach((s,l)=>{const c=Ft.fromPath(l);e.mutations.push(new Gp(c,e.precondition(c)))}),yield(s=(0,fe.Z)(function*(c,f){const D=Ht(c),M=Tc(D.serializer)+"/documents",z={writes:f.map(X=>ju(D.serializer,X))};yield D.wo("Commit",M,z)}),function l(c,f){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Kt();n=ln.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!n.isEqual(s))throw new yt(it.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(ln.min())?Bi.exists(!1):Bi.updateTime(n):Bi.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(ln.min()))throw new yt(it.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Bi.updateTime(n)}return Bi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class uI{constructor(e,n,s,l,c){this.asyncQueue=e,this.datastore=n,this.options=s,this.updateFunction=l,this.deferred=c,this.Wa=s.maxAttempts,this.zo=new vf(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){var e=this;this.zo.ko((0,fe.Z)(function*(){const n=new lI(e.datastore),s=e.za(n);s&&s.then(l=>{e.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{e.deferred.resolve(l)}).catch(c=>{e.ja(c)}))}).catch(l=>{e.ja(l)})}))}za(e){try{const n=this.updateFunction(e);return!ua(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}ja(e){this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ga(),Promise.resolve()))):this.deferred.reject(e)}Ha(e){if("FirebaseError"===e.name){const n=e.code;return"aborted"===n||"failed-precondition"===n||"already-exists"===n||!n_(n)}return!1}}class cI{constructor(e,n,s,l){var c=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=l,this.user=Rn.UNAUTHENTICATED,this.clientId=Ta.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var f=(0,fe.Z)(function*(D){pt("FirestoreClient","Received user=",D.uid),yield c.authCredentialListener(D),c.user=D});return function(D){return f.apply(this,arguments)}}()),this.appCheckCredentials.start(s,f=>(pt("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}getConfiguration(){var e=this;return(0,fe.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new yt(it.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new qi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,fe.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(s){const l=Yu(s,"Failed to shutdown persistence");n.reject(l)}})),n.promise}}function na(i,e){return nh.apply(this,arguments)}function nh(){return nh=(0,fe.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),pt("FirestoreClient","Initializing OfflineComponentProvider");const n=yield i.getConfiguration();yield e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(function(){var l=(0,fe.Z)(function*(c){s.isEqual(c)||(yield kv(e.localStore,c),s=c)});return function(c){return l.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}),nh.apply(this,arguments)}function Km(i,e){return Kf.apply(this,arguments)}function Kf(){return Kf=(0,fe.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const n=yield Zf(i);pt("FirestoreClient","Initializing OnlineComponentProvider");const s=yield i.getConfiguration();yield e.initialize(n,s),i.setCredentialChangeListener(l=>Ns(e.remoteStore,l)),i.setAppCheckTokenChangeListener((l,c)=>Ns(e.remoteStore,c)),i._onlineComponents=e}),Kf.apply(this,arguments)}function ty(i){return"FirebaseError"===i.name?i.code===it.FAILED_PRECONDITION||i.code===it.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code}function Zf(i){return Yf.apply(this,arguments)}function Yf(){return Yf=(0,fe.Z)(function*(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){pt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield na(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!ty(n))throw n;Yt("Error using user provided cache. Falling back to memory cache: "+n),yield na(i,new th)}}else pt("FirestoreClient","Using default OfflineComponentProvider"),yield na(i,new th);return i._offlineComponents}),Yf.apply(this,arguments)}function Xu(i){return rh.apply(this,arguments)}function rh(){return rh=(0,fe.Z)(function*(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(pt("FirestoreClient","Using user provided OnlineComponentProvider"),yield Km(i,i._uninitializedComponentsProvider._online)):(pt("FirestoreClient","Using default OnlineComponentProvider"),yield Km(i,new jc))),i._onlineComponents}),rh.apply(this,arguments)}function dI(i){return Zf(i).then(e=>e.persistence)}function ec(i){return Zf(i).then(e=>e.localStore)}function Zm(i){return Xu(i).then(e=>e.remoteStore)}function Qf(i){return Xu(i).then(e=>e.syncEngine)}function pu(i){return Na.apply(this,arguments)}function Na(){return Na=(0,fe.Z)(function*(i){const e=yield Xu(i),n=e.eventManager;return n.onListen=$_.bind(null,e.syncEngine),n.onUnlisten=GE.bind(null,e.syncEngine),n}),Na.apply(this,arguments)}function ny(i,e,n={}){const s=new qi;return i.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return function(c,f,D,M,z){const X=new qf({next:ke=>{f.enqueueAndForget(()=>hu(c,pe));const Je=ke.docs.has(D);!Je&&ke.fromCache?z.reject(new yt(it.UNAVAILABLE,"Failed to get document because the client is offline.")):Je&&ke.fromCache&&M&&"server"===M.source?z.reject(new yt(it.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):z.resolve(ke)},error:ke=>z.reject(ke)}),pe=new Nf(h(D.path),X,{includeMetadataChanges:!0,J_:!0});return xf(c,pe)}(yield pu(i),i.asyncQueue,e,n,s)})),s.promise}function iy(i,e,n={}){const s=new qi;return i.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return function(c,f,D,M,z){const X=new qf({next:ke=>{f.enqueueAndForget(()=>hu(c,pe)),ke.fromCache&&"server"===M.source?z.reject(new yt(it.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):z.resolve(ke)},error:ke=>z.reject(ke)}),pe=new Nf(D,X,{includeMetadataChanges:!0,J_:!0});return xf(c,pe)}(yield pu(i),i.asyncQueue,e,n,s)})),s.promise}function Jm(i){const e={};return void 0!==i.timeoutSeconds&&(e.timeoutSeconds=i.timeoutSeconds),e}const Xm=new Map;function eg(i,e,n){if(!n)throw new yt(it.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function oy(i,e,n,s){if(!0===e&&!0===s)throw new yt(it.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function tg(i){if(!Ft.isDocumentKey(i))throw new yt(it.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function ng(i){if(Ft.isDocumentKey(i))throw new yt(it.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function mu(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(s=i).constructor?s.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var s;return"function"==typeof i?"a function":Kt()}function Er(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new yt(it.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=mu(i);throw new yt(it.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function rg(i,e){if(e<=0)throw new yt(it.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class ig{constructor(e){var n,s;if(void 0===e.host){if(void 0!==e.ssl)throw new yt(it.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new yt(it.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}oy("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Jm(null!==(s=e.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(c){if(void 0!==c.timeoutSeconds){if(isNaN(c.timeoutSeconds))throw new yt(it.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new yt(it.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new yt(it.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sh{constructor(e,n,s,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ig({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new yt(it.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new yt(it.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ig(e),void 0!==e.credentials&&(this._authCredentials=function(s){if(!s)return new $l;switch(s.type){case"firstParty":return new Ir(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new yt(it.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Xm.get(n);s&&(pt("ComponentProvider","Removing Datastore"),Xm.delete(n),s.terminate())}(this),Promise.resolve()}}class ps{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ps(this.firestore,e,this._query)}}class Ri{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new tl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ri(this.firestore,e,this._key)}}class tl extends ps{constructor(e,n,s){super(e,n,h(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ri(this.firestore,null,new Ft(e))}withConverter(e){return new tl(this.firestore,e,this._path)}}function ly(i,e,...n){if(i=(0,V.m9)(i),eg("collection","path",e),i instanceof sh){const s=Sn.fromString(e,...n);return ng(s),new tl(i,null,s)}{if(!(i instanceof Ri||i instanceof tl))throw new yt(it.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Sn.fromString(e,...n));return ng(s),new tl(i.firestore,null,s)}}function ep(i,e,...n){if(i=(0,V.m9)(i),1===arguments.length&&(e=Ta.newId()),eg("doc","path",e),i instanceof sh){const s=Sn.fromString(e,...n);return tg(s),new Ri(i,null,new Ft(s))}{if(!(i instanceof Ri||i instanceof tl))throw new yt(it.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Sn.fromString(e,...n));return tg(s),new Ri(i.firestore,i instanceof tl?i.converter:null,new Ft(s))}}function uy(i,e){return i=(0,V.m9)(i),e=(0,V.m9)(e),(i instanceof Ri||i instanceof tl)&&(e instanceof Ri||e instanceof tl)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function sg(i,e){return i=(0,V.m9)(i),e=(0,V.m9)(e),i instanceof ps&&e instanceof ps&&i.firestore===e.firestore&&Wt(i._query,e._query)&&i.converter===e.converter}class gI{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new vf(this,"async_queue_retry"),this.iu=()=>{const n=Zu();n&&pt("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=Zu();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=Zu();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new qi;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return(0,fe.Z)(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(n){if(!Xn(n))throw n;pt("AsyncQueue","Operation failed with retryable error: "+n)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(s=>{throw this.eu=s,this.tu=!1,kr("INTERNAL UNHANDLED ERROR: ",function(f){let D=f.message||"";return f.stack&&(D=f.stack.includes(f.message)?f.stack:f.message+"\n"+f.stack),D}(s)),s}).then(s=>(this.tu=!1,s))));return this.Ja=n,n}enqueueAfterDelay(e,n,s){this.su(),this.ru.indexOf(e)>-1&&(n=0);const l=Mf.createAndSchedule(this,e,n,s,c=>this.au(c));return this.Xa.push(l),l}su(){this.eu&&Kt()}verifyOperationInProgress(){}uu(){var e=this;return(0,fe.Z)(function*(){let n;do{n=e.Ja,yield n}while(n!==e.Ja)})()}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}function tp(i){return function(n,s){if("object"!=typeof n||null===n)return!1;const l=n;for(const c of["next","error","complete"])if(c in l&&"function"==typeof l[c])return!0;return!1}(i)}class og{constructor(){this._progressObserver={},this._taskCompletionResolver=new qi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,s){this._progressObserver={next:e,error:n,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class ri extends sh{constructor(e,n,s,l){super(e,n,s,l),this.type="firestore",this._queue=new gI,this._persistenceKey=l?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||cy(this),this._firestoreClient.terminate()}}function ts(i){return i._firestoreClient||cy(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function cy(i){var e,n,s;const l=i._freezeSettings(),c=(M=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new fc(i._databaseId,M,i._persistenceKey,(X=l).host,X.ssl,X.experimentalForceLongPolling,X.experimentalAutoDetectLongPolling,Jm(X.experimentalLongPollingOptions),X.useFetchStreams));var M,X;i._firestoreClient=new cI(i._authCredentials,i._appCheckCredentials,i._queue,c),null!==(n=l.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(s=l.localCache)&&void 0!==s&&s._onlineComponentProvider&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:l.localCache.kind,_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider})}function dy(i,e,n){const s=new qi;return i.asyncQueue.enqueue((0,fe.Z)(function*(){try{yield na(i,n),yield Km(i,e),s.resolve()}catch(l){const c=l;if(!ty(c))throw c;Yt("Error enabling indexeddb cache. Falling back to memory cache: "+c),s.reject(c)}})).then(()=>s.promise)}function oh(i){if(i._initialized||i._terminated)throw new yt(it.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class fa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fa(gi.fromBase64String(e))}catch(n){throw new yt(it.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new fa(gi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class kl{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new yt(it.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ka{constructor(e){this._methodName=e}}class ks{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new yt(it.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new yt(it.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return vn(this._lat,e._lat)||vn(this._long,e._long)}}const tc=/^__.*__$/;class np{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return null!==this.fieldMask?new Za(e,this.data,this.fieldMask,n,this.fieldTransforms):new Fu(e,this.data,n,this.fieldTransforms)}}class ra{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Za(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function rp(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Kt()}}class Fl{constructor(e,n,s,l,c,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=l,void 0===c&&this.Pu(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new Fl(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const s=null===(n=this.path)||void 0===n?void 0:n.child(e),l=this.Tu({path:s,du:!1});return l.Au(e),l}Ru(e){var n;const s=null===(n=this.path)||void 0===n?void 0:n.child(e),l=this.Tu({path:s,du:!1});return l.Pu(),l}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return dg(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(rp(this.Iu)&&tc.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class $c{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||jd(e)}pu(e,n,s,l=!1){return new Fl({Iu:e,methodName:n,gu:s,path:Zr.emptyPath(),du:!1,fu:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pa(i){const e=i._freezeSettings(),n=jd(i._databaseId);return new $c(i._databaseId,!!e.ignoreUndefinedProperties,n)}function Vl(i,e,n,s,l,c={}){const f=i.pu(c.merge||c.mergeFields?2:0,e,n,l);op("Data must be an object, but it was:",f,s);const D=lg(s,f);let M,z;if(c.merge)M=new eo(f.fieldMask),z=f.fieldTransforms;else if(c.mergeFields){const X=[];for(const pe of c.mergeFields){const ke=Wc(e,pe,n);if(!f.contains(ke))throw new yt(it.INVALID_ARGUMENT,`Field '${ke}' is specified in your field mask but missing from your input data.`);wI(X,ke)||X.push(ke)}M=new eo(X),z=f.fieldTransforms.filter(pe=>M.covers(pe.field))}else M=null,z=f.fieldTransforms;return new np(new Ki(D),M,z)}class nl extends ka{_toFieldTransform(e){if(2!==e.Iu)throw e.mu(1===e.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof nl}}function nc(i,e,n){return new Fl({Iu:3,gu:e.settings.gu,methodName:i._methodName,du:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class gu extends ka{_toFieldTransform(e){return new Id(e.path,new wl)}isEqual(e){return e instanceof gu}}class zc extends ka{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){const n=nc(this,e,!0),s=this.yu.map(c=>_u(c,n)),l=new Ka(s);return new Id(e.path,l)}isEqual(e){return this===e}}class Gc extends ka{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){const n=nc(this,e,!0),s=this.yu.map(c=>_u(c,n)),l=new Nu(s);return new Id(e.path,l)}isEqual(e){return this===e}}class my extends ka{constructor(e,n){super(e),this.wu=n}_toFieldTransform(e){const n=new ku(e.serializer,$p(e.serializer,this.wu));return new Id(e.path,n)}isEqual(e){return this===e}}function ip(i,e,n,s){const l=i.pu(1,e,n);op("Data must be an object, but it was:",l,s);const c=[],f=Ki.empty();Bo(s,(M,z)=>{const X=ap(e,M,n);z=(0,V.m9)(z);const pe=l.Ru(X);if(z instanceof nl)c.push(X);else{const ke=_u(z,pe);null!=ke&&(c.push(X),f.set(X,ke))}});const D=new eo(c);return new ra(f,D,l.fieldTransforms)}function sp(i,e,n,s,l,c){const f=i.pu(1,e,n),D=[Wc(e,s,n)],M=[l];if(c.length%2!=0)throw new yt(it.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let ke=0;ke<c.length;ke+=2)D.push(Wc(e,c[ke])),M.push(c[ke+1]);const z=[],X=Ki.empty();for(let ke=D.length-1;ke>=0;--ke)if(!wI(z,D[ke])){const Je=D[ke];let Rt=M[ke];Rt=(0,V.m9)(Rt);const Ut=f.Ru(Je);if(Rt instanceof nl)z.push(Je);else{const Bt=_u(Rt,Ut);null!=Bt&&(z.push(Je),X.set(Je,Bt))}}const pe=new eo(z);return new ra(X,pe,f.fieldTransforms)}function ag(i,e,n,s=!1){return _u(n,i.pu(s?4:3,e))}function _u(i,e){if(ug(i=(0,V.m9)(i)))return op("Unsupported field value:",e,i),lg(i,e);if(i instanceof ka)return function(s,l){if(!rp(l.Iu))throw l.mu(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.mu(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(s,l){const c=[];let f=0;for(const D of s){let M=_u(D,l.Vu(f));null==M&&(M={nullValue:"NULL_VALUE"}),c.push(M),f++}return{arrayValue:{values:c}}}(i,e)}return function(s,l){if(null===(s=(0,V.m9)(s)))return{nullValue:"NULL_VALUE"};if("number"==typeof s)return $p(l.serializer,s);if("boolean"==typeof s)return{booleanValue:s};if("string"==typeof s)return{stringValue:s};if(s instanceof Date){const c=di.fromDate(s);return{timestampValue:Hu(l.serializer,c)}}if(s instanceof di){const c=new di(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Hu(l.serializer,c)}}if(s instanceof ks)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof fa)return{bytesValue:eu(l.serializer,s._byteString)};if(s instanceof Ri){const c=l.databaseId,f=s.firestore._databaseId;if(!f.isEqual(c))throw l.mu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:em(s.firestore._databaseId||l.databaseId,s._key.path)}}throw l.mu(`Unsupported field value: ${mu(s)}`)}(i,e)}function lg(i,e){const n={};return od(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bo(i,(s,l)=>{const c=_u(l,e.Eu(s));null!=c&&(n[s]=c)}),{mapValue:{fields:n}}}function ug(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof di||i instanceof ks||i instanceof fa||i instanceof Ri||i instanceof ka)}function op(i,e,n){if(!ug(n)||"object"!=typeof(l=n)||null===l||Object.getPrototypeOf(l)!==Object.prototype&&null!==Object.getPrototypeOf(l)){const s=mu(n);throw e.mu("an object"===s?i+" a custom object":i+" "+s)}var l}function Wc(i,e,n){if((e=(0,V.m9)(e))instanceof kl)return e._internalPath;if("string"==typeof e)return ap(i,e);throw dg("Field path arguments must be of type string or ",i,!1,void 0,n)}const cg=new RegExp("[~\\*/\\[\\]]");function ap(i,e,n){if(e.search(cg)>=0)throw dg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new kl(...e.split("."))._internalPath}catch{throw dg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function dg(i,e,n,s,l){const c=s&&!s.isEmpty(),f=void 0!==l;let D=`Function ${e}() called with invalid data`;n&&(D+=" (via `toFirestore()`)"),D+=". ";let M="";return(c||f)&&(M+=" (found",c&&(M+=` in field ${s}`),f&&(M+=` in document ${l}`),M+=")"),new yt(it.INVALID_ARGUMENT,D+i+M)}function wI(i,e){return i.some(n=>n.isEqual(e))}class lh{constructor(e,n,s,l,c){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ri(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new CI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(hg("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class CI extends lh{data(){return super.data()}}function hg(i,e){return"string"==typeof e?ap(i,e):e instanceof kl?e._internalPath:e._delegate._internalPath}function gy(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new yt(it.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _y{}class uh extends _y{}function yu(i,e,...n){let s=[];e instanceof _y&&s.push(e),s=s.concat(n),function(c){const f=c.filter(M=>M instanceof rl).length,D=c.filter(M=>M instanceof ch).length;if(f>1||f>0&&D>0)throw new yt(it.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const l of s)i=l._apply(i);return i}class ch extends uh{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new ch(e,n,s)}_apply(e){const n=this._parse(e);return Iy(e._query,n),new ps(e.firestore,e.converter,st(e._query,n))}_parse(e){const n=pa(e.firestore);return function(c,f,D,M,z,X,pe){let ke;if(z.isKeyField()){if("array-contains"===X||"array-contains-any"===X)throw new yt(it.INVALID_ARGUMENT,`Invalid Query. You can't perform '${X}' queries on documentId().`);if("in"===X||"not-in"===X){vy(pe,X);const Je=[];for(const Rt of pe)Je.push(SI(M,c,Rt));ke={arrayValue:{values:Je}}}else ke=SI(M,c,pe)}else"in"!==X&&"not-in"!==X&&"array-contains-any"!==X||vy(pe,X),ke=ag(D,"where",pe,"in"===X||"not-in"===X);return mr.create(z,X,ke)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}class rl extends _y{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new rl(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===n.length?n[0]:Yr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(l,c){let f=l;const D=c.getFlattenedFilters();for(const M of D)Iy(f,M),f=st(f,M)}(e._query,n),new ps(e.firestore,e.converter,st(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class lp extends uh{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new lp(e,n)}_apply(e){const n=function(l,c,f){if(null!==l.startAt)throw new yt(it.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==l.endAt)throw new yt(it.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ra(c,f)}(e._query,this._field,this._direction);return new ps(e.firestore,e.converter,function(l,c){const f=l.explicitOrderBy.concat([c]);return new Eo(l.path,l.collectionGroup,f,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(e._query,n))}}class hh extends uh{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new hh(e,n,s)}_apply(e){return new ps(e.firestore,e.converter,Et(e._query,this._limit,this._limitType))}}class up extends uh{constructor(e,n,s){super(),this.type=e,this._docOrFields=n,this._inclusive=s}static _create(e,n,s){return new up(e,n,s)}_apply(e){const n=ph(e,this.type,this._docOrFields,this._inclusive);return new ps(e.firestore,e.converter,(c=n,new Eo((l=e._query).path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,c,l.endAt)));var l,c}}class cp extends uh{constructor(e,n,s){super(),this.type=e,this._docOrFields=n,this._inclusive=s}static _create(e,n,s){return new cp(e,n,s)}_apply(e){const n=ph(e,this.type,this._docOrFields,this._inclusive);return new ps(e.firestore,e.converter,(c=n,new Eo((l=e._query).path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,c)));var l,c}}function ph(i,e,n,s){if(n[0]=(0,V.m9)(n[0]),n[0]instanceof lh)return function(c,f,D,M,z){if(!M)throw new yt(it.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${D}().`);const X=[];for(const pe of W(c))if(pe.field.isKeyField())X.push(_l(f,M.key));else{const ke=M.data.field(pe.field);if(Kl(ke))throw new yt(it.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+pe.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===ke){const Je=pe.field.canonicalString();throw new yt(it.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Je}' (used as the orderBy) does not exist.`)}X.push(ke)}return new Io(X,z)}(i._query,i.firestore._databaseId,e,n[0]._document,s);{const l=pa(i.firestore);return function(f,D,M,z,X,pe){const ke=f.explicitOrderBy;if(X.length>ke.length)throw new yt(it.INVALID_ARGUMENT,`Too many arguments provided to ${z}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Je=[];for(let Rt=0;Rt<X.length;Rt++){const Ut=X[Rt];if(ke[Rt].field.isKeyField()){if("string"!=typeof Ut)throw new yt(it.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${z}(), but got a ${typeof Ut}`);if(!C(f)&&-1!==Ut.indexOf("/"))throw new yt(it.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${z}() must be a plain document ID, but '${Ut}' contains a slash.`);const Bt=f.path.child(Sn.fromString(Ut));if(!Ft.isDocumentKey(Bt))throw new yt(it.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${z}() must result in a valid document path, but '${Bt}' is not because it contains an odd number of segments.`);const Mn=new Ft(Bt);Je.push(_l(D,Mn))}else{const Bt=ag(M,z,Ut);Je.push(Bt)}}return new Io(Je,pe)}(i._query,i.firestore._databaseId,l,e,n,s)}}function SI(i,e,n){if("string"==typeof(n=(0,V.m9)(n))){if(""===n)throw new yt(it.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!C(e)&&-1!==n.indexOf("/"))throw new yt(it.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(Sn.fromString(n));if(!Ft.isDocumentKey(s))throw new yt(it.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return _l(i,new Ft(s))}if(n instanceof Ri)return _l(i,n._key);throw new yt(it.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mu(n)}.`)}function vy(i,e){if(!Array.isArray(i)||0===i.length)throw new yt(it.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Iy(i,e){const n=function(l,c){for(const f of l)for(const D of f.getFlattenedFilters())if(c.indexOf(D.op)>=0)return D.op;return null}(i.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new yt(it.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class gg{convertValue(e,n="none"){switch(Qo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(to(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Kt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Bo(e,(l,c)=>{s[l]=this.convertValue(c,n)}),s}convertGeoPoint(e){return new ks(Pi(e.latitude),Pi(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Ji(e);return null==s?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Zl(e));default:return null}}convertTimestamp(e){const n=Yo(e);return new di(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Sn.fromString(e);an(m_(s));const l=new ca(s.get(1),s.get(3)),c=new Ft(s.popFirst(5));return l.isEqual(n)||kr(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}function mh(i,e,n){let s;return s=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,s}class PI extends gg{constructor(e){super(),this.firestore=e}convertBytes(e){return new fa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ri(this.firestore,null,n)}}class rc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ul extends lh{constructor(e,n,s,l,c,f){super(e,n,s,l,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new qc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(hg("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class qc extends Ul{data(e={}){return super.data(e)}}class il{constructor(e,n,s,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new rc(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new qc(this._firestore,this._userDataWriter,s.key,s,new rc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new yt(it.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(l,c){if(l._snapshot.oldDocs.isEmpty()){let f=0;return l._snapshot.docChanges.map(D=>({type:"added",doc:new qc(l._firestore,l._userDataWriter,D.doc.key,D.doc,new rc(l._snapshot.mutatedKeys.has(D.doc.key),l._snapshot.fromCache),l.query.converter),oldIndex:-1,newIndex:f++}))}{let f=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(D=>c||3!==D.type).map(D=>{const M=new qc(l._firestore,l._userDataWriter,D.doc.key,D.doc,new rc(l._snapshot.mutatedKeys.has(D.doc.key),l._snapshot.fromCache),l.query.converter);let z=-1,X=-1;return 0!==D.type&&(z=f.indexOf(D.doc.key),f=f.delete(D.doc.key)),1!==D.type&&(f=f.add(D.doc),X=f.indexOf(D.doc.key)),{type:_g(D.type),doc:M,oldIndex:z,newIndex:X}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function _g(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Kt()}}function Ty(i,e){return i instanceof Ul&&e instanceof Ul?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof il&&e instanceof il&&i._firestore===e._firestore&&sg(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}class La extends gg{constructor(e){super(),this.firestore=e}convertBytes(e){return new fa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ri(this.firestore,null,n)}}function gh(i,e,n){i=Er(i,Ri);const s=Er(i.firestore,ri),l=mh(i.converter,e,n);return ic(s,[Vl(pa(s),"setDoc",i._key,l,null!==i.converter,n).toMutation(i._key,Bi.none())])}function _h(i,e,n,...s){i=Er(i,Ri);const l=Er(i.firestore,ri),c=pa(l);let f;return f="string"==typeof(e=(0,V.m9)(e))||e instanceof kl?sp(c,"updateDoc",i._key,e,n,s):ip(c,"updateDoc",i._key,e),ic(l,[f.toMutation(i._key,Bi.exists(!0))])}function by(i,...e){var n,s,l;i=(0,V.m9)(i);let c={includeMetadataChanges:!1},f=0;"object"!=typeof e[f]||tp(e[f])||(c=e[f],f++);const D={includeMetadataChanges:c.includeMetadataChanges};if(tp(e[f])){const pe=e[f];e[f]=null===(n=pe.next)||void 0===n?void 0:n.bind(pe),e[f+1]=null===(s=pe.error)||void 0===s?void 0:s.bind(pe),e[f+2]=null===(l=pe.complete)||void 0===l?void 0:l.bind(pe)}let M,z,X;if(i instanceof Ri)z=Er(i.firestore,ri),X=h(i._key.path),M={next:pe=>{e[f]&&e[f](yh(z,i,pe))},error:e[f+1],complete:e[f+2]};else{const pe=Er(i,ps);z=Er(pe.firestore,ri),X=pe._query;const ke=new La(z);M={next:Je=>{e[f]&&e[f](new il(z,ke,pe,Je))},error:e[f+1],complete:e[f+2]},gy(i._query)}return function(ke,Je,Rt,Ut){const Bt=new qf(Ut),Mn=new Nf(Je,Bt,Rt);return ke.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return xf(yield pu(ke),Mn)})),()=>{Bt.Na(),ke.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return hu(yield pu(ke),Mn)}))}}(ts(z),X,D,M)}function ic(i,e){return function(s,l){const c=new qi;return s.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return function W_(i,e,n){return q_.apply(this,arguments)}(yield Qf(s),l,c)})),c.promise}(ts(i),e)}function yh(i,e,n){const s=n.docs.get(e._key),l=new La(i);return new Ul(i,l,e._key,s,new rc(n.hasPendingWrites,n.fromCache),e.converter)}const My={maxAttempts:5};class Tg{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=pa(e)}set(e,n,s){this._verifyNotCommitted();const l=Bl(e,this._firestore),c=mh(l.converter,n,s),f=Vl(this._dataReader,"WriteBatch.set",l._key,c,null!==l.converter,s);return this._mutations.push(f.toMutation(l._key,Bi.none())),this}update(e,n,s,...l){this._verifyNotCommitted();const c=Bl(e,this._firestore);let f;return f="string"==typeof(n=(0,V.m9)(n))||n instanceof kl?sp(this._dataReader,"WriteBatch.update",c._key,n,s,l):ip(this._dataReader,"WriteBatch.update",c._key,n),this._mutations.push(f.toMutation(c._key,Bi.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Bl(e,this._firestore);return this._mutations=this._mutations.concat(new Vu(n._key,Bi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new yt(it.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Bl(i,e){if((i=(0,V.m9)(i)).firestore!==e)throw new yt(it.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class xy extends class{constructor(n,s){this._firestore=n,this._transaction=s,this._dataReader=pa(n)}get(n){const s=Bl(n,this._firestore),l=new PI(this._firestore);return this._transaction.lookup([s._key]).then(c=>{if(!c||1!==c.length)return Kt();const f=c[0];if(f.isFoundDocument())return new lh(this._firestore,l,f.key,f,s.converter);if(f.isNoDocument())return new lh(this._firestore,l,s._key,null,s.converter);throw Kt()})}set(n,s,l){const c=Bl(n,this._firestore),f=mh(c.converter,s,l),D=Vl(this._dataReader,"Transaction.set",c._key,f,null!==c.converter,l);return this._transaction.set(c._key,D),this}update(n,s,l,...c){const f=Bl(n,this._firestore);let D;return D="string"==typeof(s=(0,V.m9)(s))||s instanceof kl?sp(this._dataReader,"Transaction.update",f._key,s,l,c):ip(this._dataReader,"Transaction.update",f._key,s),this._transaction.update(f._key,D),this}delete(n){const s=Bl(n,this._firestore);return this._transaction.delete(s._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Bl(e,this._firestore),s=new La(this._firestore);return super.get(e).then(l=>new Ul(this._firestore,s,n._key,l._document,new rc(!1,!1),n.converter))}}function bg(i,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new yt("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return e}function Dg(){if(typeof Uint8Array>"u")throw new yt("unimplemented","Uint8Arrays are not available in this environment.")}function Hy(){if(!function ql(){return typeof atob<"u"}())throw new yt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,n=!0){ko=b.SDK_VERSION,(0,b._registerComponent)(new $.wA("firestore",(s,{instanceIdentifier:l,options:c})=>{const f=s.getProvider("app").getImmediate(),D=new ri(new Jc(s.getProvider("auth-internal")),new uc(s.getProvider("app-check-internal")),function(z,X){if(!Object.prototype.hasOwnProperty.apply(z.options,["projectId"]))throw new yt(it.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ca(z.options.projectId,X)}(f,l),f);return c=Object.assign({useFetchStreams:n},c),D._setSettings(c),D},"PUBLIC").setMultipleInstances(!0)),(0,b.registerVersion)(Gs,"4.3.2",e),(0,b.registerVersion)(Gs,"4.3.2","esm2017")}();class Kc{constructor(e){this._delegate=e}static fromBase64String(e){return Hy(),new Kc(fa.fromBase64String(e))}static fromUint8Array(e){return Dg(),new Kc(fa.fromUint8Array(e))}toBase64(){return Hy(),this._delegate.toBase64()}toUint8Array(){return Dg(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function mp(i){return function Zc(i,e){if("object"!=typeof i||null===i)return!1;const n=i;for(const s of e)if(s in n&&"function"==typeof n[s])return!0;return!1}(i,["next","error","complete"])}class GI{enableIndexedDbPersistence(e,n){return function yI(i,e){oh(i=Er(i,ri));const n=ts(i);if(n._uninitializedComponentsProvider)throw new yt(it.FAILED_PRECONDITION,"SDK cache is already specified.");Yt("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const s=i._freezeSettings(),l=new jc;return dy(n,l,new Gf(l,s.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return function vI(i){oh(i=Er(i,ri));const e=ts(i);if(e._uninitializedComponentsProvider)throw new yt(it.FAILED_PRECONDITION,"SDK cache is already specified.");Yt("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=i._freezeSettings(),s=new jc;return dy(e,s,new ey(s,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function hy(i){if(i._initialized&&!i._terminated)throw new yt(it.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new qi;return i._queue.enqueueAndForgetEvenWhileRestricted((0,fe.Z)(function*(){try{yield(n=(0,fe.Z)(function*(l){if(!Qe.D())return Promise.resolve();const c=l+"main";yield Qe.delete(c)}),function s(l){return n.apply(this,arguments)})(gm(i._databaseId,i._persistenceKey)),e.resolve()}catch(n){e.reject(n)}var n})),e.promise}(e._delegate)}}class jy{constructor(e,n,s){this._delegate=n,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},e instanceof ca||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Yt("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},n),e)).merge,this._delegate._setSettings(e)}useEmulator(e,n,s={}){!function ay(i,e,n,s={}){var l;const c=(i=Er(i,sh))._getSettings(),f=`${e}:${n}`;if("firestore.googleapis.com"!==c.host&&c.host!==f&&Yt("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},c),{host:f,ssl:!1})),s.mockUserToken){let D,M;if("string"==typeof s.mockUserToken)D=s.mockUserToken,M=Rn.MOCK_USER;else{D=(0,V.Sg)(s.mockUserToken,null===(l=i._app)||void 0===l?void 0:l.options.projectId);const z=s.mockUserToken.sub||s.mockUserToken.user_id;if(!z)throw new yt(it.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");M=new Rn(z)}i._authCredentials=new Tu(new lc(D,M))}}(this._delegate,e,n,s)}enableNetwork(){return function II(i){return function hI(i){return i.asyncQueue.enqueue((0,fe.Z)(function*(){const e=yield dI(i),n=yield Zm(i);return e.setNetworkEnabled(!0),function(l){const c=Ht(l);return c.C_.delete(0),zd(c)}(n)}))}(ts(i=Er(i,ri)))}(this._delegate)}disableNetwork(){return function ZE(i){return function fI(i){return i.asyncQueue.enqueue((0,fe.Z)(function*(){const e=yield dI(i),n=yield Zm(i);return e.setNetworkEnabled(!1),(s=(0,fe.Z)(function*(c){const f=Ht(c);f.C_.add(0),yield Fc(f),f.M_.set("Offline")}),function l(c){return s.apply(this,arguments)})(n);var s}))}(ts(i=Er(i,ri)))}(this._delegate)}enablePersistence(e){let n=!1,s=!1;return e&&(n=!!e.synchronizeTabs,s=!!e.experimentalForceOwningTab,oy("synchronizeTabs",n,"experimentalForceOwningTab",s)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function fy(i){return function(n){const s=new qi;return n.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return function Q_(i,e){return fu.apply(this,arguments)}(yield Qf(n),s)})),s.promise}(ts(i=Er(i,ri)))}(this._delegate)}onSnapshotsInSync(e){return function kI(i,e){return function Jf(i,e){const n=new qf(e);return i.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return l=yield pu(i),c=n,Ht(l).q_.add(c),void c.next();var l,c})),()=>{n.Na(),i.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return l=yield pu(i),c=n,void Ht(l).q_.delete(c);var l,c}))}}(ts(i=Er(i,ri)),tp(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new yt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Yc(this,ly(this._delegate,e))}catch(n){throw Hi(n,"collection()","Firestore.collection()")}}doc(e){try{return new Ho(this,ep(this._delegate,e))}catch(n){throw Hi(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Mi(this,function mI(i,e){if(i=Er(i,sh),eg("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new yt(it.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ps(i,null,(s=e,new Eo(Sn.emptyPath(),s)));var s}(this._delegate,e))}catch(n){throw Hi(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function Oy(i,e,n){i=Er(i,ri);const s=Object.assign(Object.assign({},My),n);return function(c){if(c.maxAttempts<1)throw new yt(it.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(c,f,D){const M=new qi;return c.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){const z=yield function Ym(i){return Xu(i).then(e=>e.datastore)}(c);new uI(c.asyncQueue,z,D,f,M).run()})),M.promise}(ts(i),l=>e(new xy(i,l)),s)}(this._delegate,n=>e(new Ag(this,n)))}batch(){return ts(this._delegate),new qI(new Tg(this._delegate,e=>ic(this._delegate,e)))}loadBundle(e){return function py(i,e){const n=ts(i=Er(i,ri)),s=new og;return function ih(i,e,n,s){const l=function(f,D){let M;return M="string"==typeof f?Yp().encode(f):f,X=function(X,pe){if(X instanceof Uint8Array)return Wf(X,void 0);if(X instanceof ArrayBuffer)return Wf(new Uint8Array(X),void 0);if(X instanceof ReadableStream)return X.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(M),new aI(X,D);var X}(n,jd(e));i.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){!function sI(i,e,n){const s=Ht(i);var l;(l=(0,fe.Z)(function*(f,D,M){try{const z=yield D.getMetadata();if(yield function(Rt,Ut){const Bt=Ht(Rt),Mn=es(Ut.createTime);return Bt.persistence.runTransaction("hasNewerBundle","readonly",$n=>Bt.Kr.getBundleMetadata($n,Ut.id)).then($n=>!!$n&&$n.createTime.compareTo(Mn)>=0)}(f.localStore,z))return yield D.close(),M._completeWith({taskState:"Success",documentsLoaded:(Rt=z).totalDocuments,bytesLoaded:Rt.totalBytes,totalDocuments:Rt.totalDocuments,totalBytes:Rt.totalBytes}),Promise.resolve(new Set);M._updateProgress(Zd(z));const X=new Kd(z,f.localStore,D.serializer);let pe=yield D.Ma();for(;pe;){const Je=yield X.ea(pe);Je&&M._updateProgress(Je),pe=yield D.Ma()}const ke=yield X.complete();return yield Oa(f,ke.ra,void 0),yield function(Rt,Ut){const Bt=Ht(Rt);return Bt.persistence.runTransaction("Save bundle","readwrite",Mn=>Bt.Kr.saveBundleMetadata(Mn,Ut))}(f.localStore,z),M._completeWith(ke.progress),Promise.resolve(ke.na)}catch(z){return Yt("SyncEngine",`Loading bundle failed with ${z}`),M._failWith(z),Promise.resolve(new Set)}var Rt}),function c(f,D,M){return l.apply(this,arguments)})(s,e,n).then(l=>{s.sharedClientState.notifyBundleLoaded(l)})}(yield Qf(i),l,s)}))}(n,i._databaseId,e,s),s}(this._delegate,e)}namedQuery(e){return function YE(i,e){return function sy(i,e){return i.asyncQueue.enqueue((0,fe.Z)(function*(){return function(s,l){const c=Ht(s);return c.persistence.runTransaction("Get named query","readonly",f=>c.Kr.getNamedQuery(f,l))}(yield ec(i),e)}))}(ts(i=Er(i,ri)),e).then(n=>n?new ps(i,null,n.query):null)}(this._delegate,e).then(n=>n?new Mi(this,n):null)}}class vh extends gg{constructor(e){super(),this.firestore=e}convertBytes(e){return new Kc(new fa(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return Ho.forKey(n,this.firestore,null)}}class Ag{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new vh(e)}get(e){const n=sc(e);return this._delegate.get(n).then(s=>new jo(this._firestore,new Ul(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,n.converter)))}set(e,n,s){const l=sc(e);return s?(bg("Transaction.set",s),this._delegate.set(l,n,s)):this._delegate.set(l,n),this}update(e,n,s,...l){const c=sc(e);return 2===arguments.length?this._delegate.update(c,n):this._delegate.update(c,n,s,...l),this}delete(e){const n=sc(e);return this._delegate.delete(n),this}}class qI{constructor(e){this._delegate=e}set(e,n,s){const l=sc(e);return s?(bg("WriteBatch.set",s),this._delegate.set(l,n,s)):this._delegate.set(l,n),this}update(e,n,s,...l){const c=sc(e);return 2===arguments.length?this._delegate.update(c,n):this._delegate.update(c,n,s,...l),this}delete(e){const n=sc(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class Eu{constructor(e,n,s){this._firestore=e,this._userDataWriter=n,this._delegate=s}fromFirestore(e,n){const s=new qc(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new To(this._firestore,s),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const s=Eu.INSTANCES;let l=s.get(e);l||(l=new WeakMap,s.set(e,l));let c=l.get(n);return c||(c=new Eu(e,new vh(e),n),l.set(n,c)),c}}Eu.INSTANCES=new WeakMap;class Ho{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new vh(e)}static forPath(e,n,s){if(e.length%2!=0)throw new yt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ho(n,new Ri(n._delegate,s,new Ft(e)))}static forKey(e,n,s){return new Ho(n,new Ri(n._delegate,s,e))}get id(){return this._delegate.id}get parent(){return new Yc(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Yc(this.firestore,ly(this._delegate,e))}catch(n){throw Hi(n,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,V.m9)(e))instanceof Ri&&uy(this._delegate,e)}set(e,n){n=bg("DocumentReference.set",n);try{return n?gh(this._delegate,e,n):gh(this._delegate,e)}catch(s){throw Hi(s,"setDoc()","DocumentReference.set()")}}update(e,n,...s){try{return 1===arguments.length?_h(this._delegate,e):_h(this._delegate,e,n,...s)}catch(l){throw Hi(l,"updateDoc()","DocumentReference.update()")}}delete(){return function vg(i){return ic(Er(i.firestore,ri),[new Vu(i._key,Bi.none())])}(this._delegate)}onSnapshot(...e){const n=$y(e),s=Sg(e,l=>new jo(this.firestore,new Ul(this.firestore._delegate,this._userDataWriter,l._key,l._document,l.metadata,this._delegate.converter)));return by(this._delegate,n,s)}get(e){let n;return n="cache"===e?.source?function yg(i){i=Er(i,Ri);const e=Er(i.firestore,ri),n=ts(e),s=new La(e);return function Qm(i,e){const n=new qi;return i.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return(s=(0,fe.Z)(function*(c,f,D){try{const M=yield function(X,pe){const ke=Ht(X);return ke.persistence.runTransaction("read document","readonly",Je=>ke.localDocuments.getDocument(Je,pe))}(c,f);M.isFoundDocument()?D.resolve(M):M.isNoDocument()?D.resolve(null):D.reject(new yt(it.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(M){const z=Yu(M,`Failed to get document '${f} from cache`);D.reject(z)}}),function l(c,f,D){return s.apply(this,arguments)})(yield ec(i),e,n);var s})),n.promise}(n,i._key).then(l=>new Ul(e,s,i._key,l,new rc(null!==l&&l.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===e?.source?function wy(i){i=Er(i,Ri);const e=Er(i.firestore,ri);return ny(ts(e),i._key,{source:"server"}).then(n=>yh(e,i,n))}(this._delegate):function fp(i){i=Er(i,Ri);const e=Er(i.firestore,ri);return ny(ts(e),i._key).then(n=>yh(e,i,n))}(this._delegate),n.then(s=>new jo(this.firestore,new Ul(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(e){return new Ho(this.firestore,this._delegate.withConverter(e?Eu.getInstance(this.firestore,e):null))}}function Hi(i,e,n){return i.message=i.message.replace(e,n),i}function $y(i){for(const e of i)if("object"==typeof e&&!mp(e))return e;return{}}function Sg(i,e){var n,s;let l;return l=mp(i[0])?i[0]:mp(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:c=>{l.next&&l.next(e(c))},error:null===(n=l.error)||void 0===n?void 0:n.bind(l),complete:null===(s=l.complete)||void 0===s?void 0:s.bind(l)}}class jo{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new Ho(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return Ty(this._delegate,e._delegate)}}class To extends jo{data(e){const n=this._delegate.data(e);return this._delegate._converter||function Zo(i,e){i||Kt()}(void 0!==n),n}}class Mi{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new vh(e)}where(e,n,s){try{return new Mi(this.firestore,yu(this._delegate,function fg(i,e,n){const s=e,l=hg("where",i);return ch._create(l,s,n)}(e,n,s)))}catch(l){throw Hi(l,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new Mi(this.firestore,yu(this._delegate,function dh(i,e="asc"){const n=e,s=hg("orderBy",i);return lp._create(s,n)}(e,n)))}catch(s){throw Hi(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Mi(this.firestore,yu(this._delegate,function bI(i){return rg("limit",i),hh._create("limit",i,"F")}(e)))}catch(n){throw Hi(n,"limit()","Query.limit()")}}limitToLast(e){try{return new Mi(this.firestore,yu(this._delegate,function fh(i){return rg("limitToLast",i),hh._create("limitToLast",i,"L")}(e)))}catch(n){throw Hi(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Mi(this.firestore,yu(this._delegate,function DI(...i){return up._create("startAt",i,!0)}(...e)))}catch(n){throw Hi(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Mi(this.firestore,yu(this._delegate,function AI(...i){return up._create("startAfter",i,!1)}(...e)))}catch(n){throw Hi(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Mi(this.firestore,yu(this._delegate,function mg(...i){return cp._create("endBefore",i,!1)}(...e)))}catch(n){throw Hi(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Mi(this.firestore,yu(this._delegate,function dp(...i){return cp._create("endAt",i,!0)}(...e)))}catch(n){throw Hi(n,"endAt()","Query.endAt()")}}isEqual(e){return sg(this._delegate,e._delegate)}get(e){let n;return n="cache"===e?.source?function OI(i){i=Er(i,ps);const e=Er(i.firestore,ri),n=ts(e),s=new La(e);return function ry(i,e){const n=new qi;return i.asyncQueue.enqueueAndForget((0,fe.Z)(function*(){return(s=(0,fe.Z)(function*(c,f,D){try{const M=yield Ml(c,f,!0),z=new j_(f,M.ls),X=z.ca(M.documents),pe=z.applyChanges(X,!1);D.resolve(pe.snapshot)}catch(M){const z=Yu(M,`Failed to execute query '${f} against cache`);D.reject(z)}}),function l(c,f,D){return s.apply(this,arguments)})(yield ec(i),e,n);var s})),n.promise}(n,i._query).then(l=>new il(e,s,i,l))}(this._delegate):"server"===e?.source?function NI(i){i=Er(i,ps);const e=Er(i.firestore,ri),n=ts(e),s=new La(e);return iy(n,i._query,{source:"server"}).then(l=>new il(e,s,i,l))}(this._delegate):function xI(i){i=Er(i,ps);const e=Er(i.firestore,ri),n=ts(e),s=new La(e);return gy(i._query),iy(n,i._query).then(l=>new il(e,s,i,l))}(this._delegate),n.then(s=>new gp(this.firestore,new il(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...e){const n=$y(e),s=Sg(e,l=>new gp(this.firestore,new il(this.firestore._delegate,this._userDataWriter,this._delegate,l._snapshot)));return by(this._delegate,n,s)}withConverter(e){return new Mi(this.firestore,this._delegate.withConverter(e?Eu.getInstance(this.firestore,e):null))}}class zy{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new To(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class gp{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new Mi(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new To(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new zy(this._firestore,n))}forEach(e,n){this._delegate.forEach(s=>{e.call(n,new To(this._firestore,s))})}isEqual(e){return Ty(this._delegate,e._delegate)}}class Yc extends Mi{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ho(this.firestore,e):null}doc(e){try{return new Ho(this.firestore,void 0===e?ep(this._delegate):ep(this._delegate,e))}catch(n){throw Hi(n,"doc()","CollectionReference.doc()")}}add(e){return function Cy(i,e){const n=Er(i.firestore,ri),s=ep(i),l=mh(i.converter,e);return ic(n,[Vl(pa(i.firestore),"addDoc",s._key,l,null!==i.converter,{}).toMutation(s._key,Bi.exists(!1))]).then(()=>s)}(this._delegate,e).then(n=>new Ho(this.firestore,n))}isEqual(e){return uy(this._delegate,e._delegate)}withConverter(e){return new Yc(this.firestore,this._delegate.withConverter(e?Eu.getInstance(this.firestore,e):null))}}function sc(i){return Er(i,Ri)}class Pg{constructor(...e){this._delegate=new kl(...e)}static documentId(){return new Pg(Zr.keyField().canonicalString())}isEqual(e){return(e=(0,V.m9)(e))instanceof kl&&this._delegate._internalPath.isEqual(e._internalPath)}}class oc{constructor(e){this._delegate=e}static serverTimestamp(){const e=function ky(){return new gu("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new oc(e)}static delete(){const e=function Ny(){return new nl("deleteField")}();return e._methodName="FieldValue.delete",new oc(e)}static arrayUnion(...e){const n=function pp(...i){return new zc("arrayUnion",i)}(...e);return n._methodName="FieldValue.arrayUnion",new oc(n)}static arrayRemove(...e){const n=function vu(...i){return new Gc("arrayRemove",i)}(...e);return n._methodName="FieldValue.arrayRemove",new oc(n)}static increment(e){const n=function jI(i){return new my("increment",i)}(e);return n._methodName="FieldValue.increment",new oc(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Rg={Firestore:jy,GeoPoint:ks,Timestamp:di,Blob:Kc,Transaction:Ag,WriteBatch:qI,DocumentReference:Ho,DocumentSnapshot:jo,Query:Mi,QueryDocumentSnapshot:To,QuerySnapshot:gp,CollectionReference:Yc,FieldPath:Pg,FieldValue:oc,setLogLevel:function WI(i){!function Fo(i){Lo.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};function Gy(i,e){return function YI(i,e=ze.z){return new Ze.y(n=>{let s;return null!=e?e.schedule(()=>{s=i.onSnapshot({includeMetadataChanges:!0},n)}):s=i.onSnapshot({includeMetadataChanges:!0},n),()=>{s?.()}})}(i,e)}function _p(i,e){return Gy(i,e).pipe((0,ae.U)(n=>({payload:n,type:"query"})))}!function KI(i){(function Ih(i,e){i.INTERNAL.registerComponent(new $.wA("firestore-compat",n=>{const s=n.getProvider("app-compat").getImmediate(),l=n.getProvider("firestore").getImmediate();return e(s,l)},"PUBLIC").setServiceProps(Object.assign({},Rg)))})(i,(e,n)=>new jy(e,n,new GI)),i.registerVersion("@firebase/firestore-compat","0.3.22")}(ve.Z),U(7142);class Eh{ref;afs;constructor(e,n){this.ref=e,this.afs=n}set(e,n){return this.ref.set(e,n)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,n){const s=this.ref.collection(e),{ref:l,query:c}=xg(s,n);return new Ip(l,c,this.afs)}snapshotChanges(){return function Wy(i,e){return Gy(i,e).pipe((0,nt.O)(void 0),ct(),(0,ae.U)(n=>{const[s,l]=n;return l.exists?s?.exists?{payload:l,type:"modified"}:{payload:l,type:"added"}:{payload:l,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(oe.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,ae.U)(({payload:n})=>e.idField?{...n.data(),[e.idField]:n.id}:n.data()))}get(e){return(0,ut.D)(this.ref.get(e)).pipe(oe.iC)}}function yp(i,e){return _p(i,e).pipe((0,nt.O)(void 0),ct(),(0,ae.U)(n=>{const[s,l]=n,c=l.payload.docChanges(),f=c.map(D=>({type:D.type,payload:D}));return s&&JSON.stringify(s.payload.metadata)!==JSON.stringify(l.payload.metadata)&&l.payload.docs.forEach((D,M)=>{const z=c.find(pe=>pe.doc.ref.isEqual(D.ref)),X=s?.payload.docs.find(pe=>pe.ref.isEqual(D.ref));z&&JSON.stringify(z.doc.metadata)===JSON.stringify(D.metadata)||!z&&X&&JSON.stringify(X.metadata)===JSON.stringify(D.metadata)||f.push({type:"modified",payload:{oldIndex:M,newIndex:M,type:"modified",doc:D}})}),f}))}function Mg(i,e,n){return yp(i,n).pipe((0,Me.R)((s,l)=>function qy(i,e,n){return e.forEach(s=>{n.indexOf(s.type)>-1&&(i=function QI(i,e){switch(e.type){case"added":if(!i[e.newIndex]||!i[e.newIndex].doc.ref.isEqual(e.doc.ref))return vp(i,e.newIndex,0,e);break;case"modified":if(null==i[e.oldIndex]||i[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=i.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return vp(i,e.newIndex,1,e)}break;case"removed":if(i[e.oldIndex]&&i[e.oldIndex].doc.ref.isEqual(e.doc.ref))return vp(i,e.oldIndex,1)}return i}(i,s))}),i}(s,l.map(c=>c.payload),e),[]),(0,me.x)(),(0,ae.U)(s=>s.map(l=>({type:l.type,payload:l}))))}function vp(i,e,n,...s){const l=i.slice();return l.splice(e,n,...s),l}function Ky(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}class Ip{ref;query;afs;constructor(e,n,s){this.ref=e,this.query=n,this.afs=s}stateChanges(e){let n=yp(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(n=n.pipe((0,ae.U)(s=>s.filter(l=>e.indexOf(l.type)>-1)))),n.pipe((0,nt.O)(void 0),ct(),(0,ge.h)(([s,l])=>l.length>0||!s),(0,ae.U)(([,s])=>s),oe.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Me.R)((n,s)=>[...n,...s],[]))}snapshotChanges(e){const n=Ky(e);return Mg(this.query,n,this.afs.schedulers.outsideAngular).pipe(oe.iC)}valueChanges(e={}){return _p(this.query,this.afs.schedulers.outsideAngular).pipe((0,ae.U)(n=>n.payload.docs.map(s=>e.idField?{...s.data(),[e.idField]:s.id}:s.data())),oe.iC)}get(e){return(0,ut.D)(this.query.get(e)).pipe(oe.iC)}add(e){return this.ref.add(e)}doc(e){return new Eh(this.ref.doc(e),this.afs)}}class Ep{query;afs;constructor(e,n){this.query=e,this.afs=n}stateChanges(e){return e&&0!==e.length?yp(this.query,this.afs.schedulers.outsideAngular).pipe((0,ae.U)(n=>n.filter(s=>e.indexOf(s.type)>-1)),(0,ge.h)(n=>n.length>0),oe.iC):yp(this.query,this.afs.schedulers.outsideAngular).pipe(oe.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Me.R)((n,s)=>[...n,...s],[]))}snapshotChanges(e){const n=Ky(e);return Mg(this.query,n,this.afs.schedulers.outsideAngular).pipe(oe.iC)}valueChanges(e={}){return _p(this.query,this.afs.schedulers.outsideAngular).pipe((0,ae.U)(s=>s.payload.docs.map(l=>e.idField?{[e.idField]:l.id,...l.data()}:l.data())),oe.iC)}get(e){return(0,ut.D)(this.query.get(e)).pipe(oe.iC)}}const Zy=new q.OlP("angularfire2.enableFirestorePersistence"),Yy=new q.OlP("angularfire2.firestore.persistenceSettings"),Qy=new q.OlP("angularfire2.firestore.settings"),Jy=new q.OlP("angularfire2.firestore.use-emulator");function xg(i,e=(n=>n)){return{query:e(i),ref:i}}let Xy=(()=>{class i{schedulers;firestore;persistenceEnabled$;constructor(n,s,l,c,f,D,M,z,X,pe,ke,Je,Rt,Ut,Bt,Mn,$n){this.schedulers=M;const bn=(0,Ee.on)(n,D,s),sr=X;pe&&(0,ue.nw)(bn,D,ke,Rt,Ut,Bt,Je,Mn),[this.firestore,this.persistenceEnabled$]=(0,Ee.cc)(`${bn.name}.firestore`,"AngularFirestore",bn.name,()=>{const Ar=D.runOutsideAngular(()=>bn.firestore());if(c&&Ar.settings(c),sr&&Ar.useEmulator(...sr),l&&!(0,ee.PM)(f)){const Rr=()=>{try{return(0,ut.D)(Ar.enablePersistence(z||void 0).then(()=>!0,()=>!1))}catch(ms){return typeof console<"u"&&console.warn(ms),(0,Xe.of)(!1)}};return[Ar,D.runOutsideAngular(Rr)]}return[Ar,(0,Xe.of)(!1)]},[c,sr,l])}collection(n,s){let l;l="string"==typeof n?this.firestore.collection(n):n;const{ref:c,query:f}=xg(l,s),D=this.schedulers.ngZone.run(()=>c);return new Ip(D,f,this)}collectionGroup(n,s){const l=s||(f=>f),c=this.firestore.collectionGroup(n);return new Ep(l(c),this)}doc(n){let s;s="string"==typeof n?this.firestore.doc(n):n;const l=this.schedulers.ngZone.run(()=>s);return new Eh(l,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(s){return new(s||i)(q.LFG(Ee.Dh),q.LFG(Ee.xv,8),q.LFG(Zy,8),q.LFG(Qy,8),q.LFG(q.Lbi),q.LFG(q.R0b),q.LFG(oe.HU),q.LFG(Yy,8),q.LFG(Jy,8),q.LFG(ue.zQ,8),q.LFG(ue.Qv,8),q.LFG(ue.L6,8),q.LFG(ue._Q,8),q.LFG(ue.rT,8),q.LFG(ue.lh,8),q.LFG(ue.f7,8),q.LFG(oe.Rf,8))};static \u0275prov=q.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"})}return i})(),ev=(()=>{class i{constructor(n,s,l){this.afAuth=n,this.router=s,this.firestore=l,this.userSubject=new J.X(null),this.user=this.userSubject.asObservable(),this.afAuth.authState.subscribe(c=>{this.userSubject.next(c)})}getUser(){return this.user}isLoggedIn(){return!!localStorage.getItem("token")}setDisplayName(n,s){const l=`${n} ${s}`;return this.afAuth.currentUser.then(c=>c?.updateProfile({displayName:l}))}signIn(n,s,l){this.afAuth.signInWithEmailAndPassword(n,s).then(c=>{c.user?.emailVerified?(""!=l?(localStorage.setItem("rememberMe","true"),localStorage.setItem("token",c.user?.uid)):(localStorage.setItem("rememberMe","false"),localStorage.removeItem("token")),this.router.navigate(["/tasks"])):c.user&&(c.user.sendEmailVerification(),this.router.navigate(["/verify-email"]))},c=>{alert(c.message),this.router.navigate(["/login"])})}register(n){this.afAuth.createUserWithEmailAndPassword(n.email,n.password).then(s=>{s.user?.updateProfile({displayName:n.userName}),this.storeAdditionalUserData(s.user?.uid,{fullName:n.fullName,username:n.userName}),s.user&&(s.user.sendEmailVerification(),this.router.navigate(["/verify-email"]))},s=>{alert(s.message)})}storeAdditionalUserData(n,s){n&&this.firestore.collection("users").doc(n).set(s,{merge:!0}).then(()=>{console.log("Additional user data stored successfully")}).catch(l=>{console.error("Error storing additional user data:",l)})}signOut(){this.afAuth.signOut().then(()=>{localStorage.removeItem("token"),this.router.navigate(["/login"])},n=>{alert(n.message)})}forgotPassword(n){this.afAuth.sendPasswordResetEmail(n).then(()=>{this.email=n,this.router.navigate(["/verify-email"])},s=>{alert(s.message)})}deleteCurrentUser(){this.afAuth.currentUser.then(n=>{n&&(n.delete(),localStorage.removeItem("token"),this.router.navigate(["/login"]))},n=>{alert(n.message)})}singInWithGoogle(){return this.afAuth.signInWithPopup(new p.X).then(n=>{const s=n.user;if(s){const[l,c]=s.displayName?.split(" ")||["",""];s.updateProfile({displayName:s.displayName,photoURL:s.photoURL}).then(()=>{localStorage.setItem("token",n.user?.uid),this.router.navigate(["/tasks"])})}},n=>{alert(n.message),this.router.navigate(["/login"])})}singInWithGithub(){return this.afAuth.signInWithPopup(new p.Y).then(n=>{const s=n.user;if(s){const[l,c]=s.displayName?.split(" ")||["",""];s.updateProfile({displayName:s.displayName,photoURL:s.photoURL}).then(()=>{localStorage.setItem("token",n.user?.uid),this.router.navigate(["/tasks"])})}},n=>{alert(n.message),this.router.navigate(["/login"])})}static#e=this.\u0275fac=function(s){return new(s||i)(q.LFG(ue.zQ),q.LFG(de.F0),q.LFG(Xy))};static#t=this.\u0275prov=q.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})()},553:(xt,je,U)=>{U.d(je,{N:()=>p});const p={production:!0,firebase:{apiKey:"AIzaSyDEFnGE_jUVrWMEMuY2-bdk3TCL8PwiUxs",authDomain:"tasks-2aa20.firebaseapp.com",projectId:"tasks-2aa20",storageBucket:"tasks-2aa20.appspot.com",messagingSenderId:"289908118671",appId:"1:289908118671:web:40a2c8d77b6819feb10cfa",measurementId:"G-PRWGNQ569P"}}},3773:(xt,je,U)=>{var p=U(6593),V=U(3781),b=U(5879),Te=U(9445),$=U(6814);function J(Z,y){if(1&Z&&(b.TgZ(0,"span",6),b._uU(1,"We've sent a verification mail to "),b.TgZ(2,"strong",7),b._uU(3),b.qZA()()),2&Z){const E=b.oxw();b.xp6(3),b.Oqu(E.email)}}function q(Z,y){if(1&Z&&(b.TgZ(0,"span",6),b._uU(1,"We've sent instructions on how to reset "),b._UZ(2,"br"),b._uU(3," your password to "),b.TgZ(4,"strong",7),b._uU(5),b.qZA()()),2&Z){const E=b.oxw();b.xp6(5),b.Oqu(E.email)}}function ue(Z,y){1&Z&&(b.TgZ(0,"span",6),b._uU(1,"Please go to your mail to verify your email."),b.qZA())}let de=(()=>{class Z{constructor(E){this.authService=E,this.email=null,this.forgotPassLabel=!1}ngOnInit(){this.authService.getUser().subscribe(E=>{E?this.email=E.email:(this.email=this.authService.email,this.forgotPassLabel=!0)})}static#e=this.\u0275fac=function(x){return new(x||Z)(b.Y36(Te.e))};static#t=this.\u0275cmp=b.Xpm({type:Z,selectors:[["app-verifyemail"]],decls:10,vars:3,consts:[[1,"container"],[1,"box"],["src","assets/mail.png"],[1,"title"],["class","title1",4,"ngIf"],["href","login",1,"title2"],[1,"title1"],[1,"bold-email"]],template:function(x,Y){1&x&&(b.TgZ(0,"div",0)(1,"div",1),b._UZ(2,"img",2),b.TgZ(3,"span",3),b._uU(4,"Check your email"),b.qZA(),b.YNc(5,J,4,1,"span",4),b.YNc(6,q,6,1,"span",4),b.YNc(7,ue,2,0,"span",4),b.TgZ(8,"a",5),b._uU(9,"Verified logging in"),b.qZA()()()),2&x&&(b.xp6(5),b.Q6J("ngIf",!Y.forgotPassLabel),b.xp6(1),b.Q6J("ngIf",Y.forgotPassLabel),b.xp6(1),b.Q6J("ngIf",!Y.forgotPassLabel))},dependencies:[$.O5],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;height:100%;background-color:#cdcde1;max-width:1500px}.box[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;background-color:#fff;padding:75px 50px;border-radius:10px;box-shadow:0 0 10px #0003}.box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-bottom:10px}.title[_ngcontent-%COMP%]{font-weight:600;font-size:larger;margin-bottom:20px;color:#2b2b2b}.bold-email[_ngcontent-%COMP%]{font-weight:700;color:#2b2b2b}.title1[_ngcontent-%COMP%]{margin-bottom:2%;color:gray;font-size:14px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}.title2[_ngcontent-%COMP%]{color:#228be6;text-decoration:none;font-weight:500;margin-top:2%;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}.title2[_ngcontent-%COMP%]:hover{color:#00f}"]})}return Z})();var ee=U(95);let oe=(()=>{class Z{constructor(E){this.authService=E,this.email=""}forgotPasswordMail(){this.authService.forgotPassword(this.email)}static#e=this.\u0275fac=function(x){return new(x||Z)(b.Y36(Te.e))};static#t=this.\u0275cmp=b.Xpm({type:Z,selectors:[["app-forgotpassword"]],decls:13,vars:1,consts:[[1,"container"],[1,"box"],[1,"title"],[1,"title1"],["for","email",1,"emailLabel"],["type","email","id","email","name","email","aria-describedby","email",1,"emailInput",3,"ngModel","ngModelChange"],[1,"btn",3,"click"],["href","login",1,"title2"]],template:function(x,Y){1&x&&(b.TgZ(0,"div",0)(1,"div",1)(2,"span",2),b._uU(3,"Forgot your password?"),b.qZA(),b.TgZ(4,"span",3),b._uU(5,"Your password will be reset by email."),b.qZA(),b.TgZ(6,"label",4),b._uU(7,"Enter your email address"),b.qZA(),b.TgZ(8,"input",5),b.NdJ("ngModelChange",function(Pe){return Y.email=Pe}),b.qZA(),b.TgZ(9,"button",6),b.NdJ("click",function(){return Y.forgotPasswordMail()}),b._uU(10,"Next"),b.qZA(),b.TgZ(11,"a",7),b._uU(12,"Back to log in"),b.qZA()()()),2&x&&(b.xp6(8),b.Q6J("ngModel",Y.email))},dependencies:[ee.Fj,ee.JJ,ee.On],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;height:100vh;background-color:#cdcde1;max-width:1500px}.box[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;background-color:#fff;padding:45px 80px;border-radius:10px;box-shadow:0 0 10px #0003}.title[_ngcontent-%COMP%]{font-weight:600;font-size:x-large;margin-bottom:4%;color:#228be6}.btn[_ngcontent-%COMP%]{background-color:#228be6;color:#fff;margin-top:10px;height:40px;width:125%;padding:5px;border:none;border-radius:5px;cursor:pointer;margin-bottom:5%}.title1[_ngcontent-%COMP%]{margin-bottom:6%;color:gray;font-size:13px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}.emailLabel[_ngcontent-%COMP%]{color:gray;font-size:13px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;margin-bottom:3%;font-weight:500;margin-left:-167px}.emailInput[_ngcontent-%COMP%]{padding-left:1%;border-radius:5px;border:solid 1px #3a3a3a;outline:none;height:40px;width:125%;margin-bottom:4%}.title2[_ngcontent-%COMP%]{color:#228be6;text-decoration:none;font-weight:500;margin-top:2%;font-size:14px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}.title2[_ngcontent-%COMP%]:hover{color:#00f}"]})}return Z})(),Ee=(()=>{class Z{constructor(E,x){this.authService=E,this.router=x}canActivate(E,x){return this.authService.isLoggedIn()||"false"==localStorage.getItem("rememberMe")?(localStorage.removeItem("rememberMe"),!0):(this.router.navigate(["/login"]),!1)}static#e=this.\u0275fac=function(x){return new(x||Z)(b.LFG(Te.e),b.LFG(V.F0))};static#t=this.\u0275prov=b.Yz7({token:Z,factory:Z.\u0275fac,providedIn:"root"})}return Z})();const ze=["registerationForm"];function Ze(Z,y){if(1&Z){const E=b.EpF();b.TgZ(0,"i",28),b.NdJ("click",function(){b.CHM(E);const Y=b.oxw();return b.KtG(Y.togglePasswordVisibility())}),b.qZA()}}function ut(Z,y){if(1&Z){const E=b.EpF();b.TgZ(0,"i",29),b.NdJ("click",function(){b.CHM(E);const Y=b.oxw();return b.KtG(Y.togglePasswordVisibility())}),b.qZA()}}function Xe(Z,y){if(1&Z){const E=b.EpF();b.TgZ(0,"i",28),b.NdJ("click",function(){b.CHM(E);const Y=b.oxw();return b.KtG(Y.toggleConfirmPasswordVisibility())}),b.qZA()}}function nt(Z,y){if(1&Z){const E=b.EpF();b.TgZ(0,"i",29),b.NdJ("click",function(){b.CHM(E);const Y=b.oxw();return b.KtG(Y.toggleConfirmPasswordVisibility())}),b.qZA()}}let rt=(()=>{class Z{constructor(E,x){this.authService=E,this.router=x,this.passwordToggle=!1,this.confirmPasswordToggle=!1}ngOnInit(){}register(){this.registerationForm.valid?this.registerationForm.valid&&this.registerationForm.value.password!=this.registerationForm.value.confirmPassword?alert("Password and Confirm password does not matching"):this.registerationForm.valid&&this.registerationForm.value.password==this.registerationForm.value.confirmPassword&&this.authService.register(this.registerationForm.value):alert("Please enter your registration details")}alreadyHaveAccount(){this.router.navigate(["/login"])}togglePasswordVisibility(){const E=document.getElementById("password");"password"===E.type?(E.type="text",this.passwordToggle=!1):(E.type="password",this.passwordToggle=!0)}toggleConfirmPasswordVisibility(){const E=document.getElementById("confirmPassword");"password"===E.type?(E.type="text",this.confirmPasswordToggle=!1):(E.type="password",this.confirmPasswordToggle=!0)}static#e=this.\u0275fac=function(x){return new(x||Z)(b.Y36(Te.e),b.Y36(V.F0))};static#t=this.\u0275cmp=b.Xpm({type:Z,selectors:[["app-register"]],viewQuery:function(x,Y){if(1&x&&b.Gf(ze,5),2&x){let le;b.iGM(le=b.CRH())&&(Y.registerationForm=le.first)}},decls:40,vars:4,consts:[[1,"pleaseFillOutFormToRegister"],[3,"ngSubmit"],["registerationForm","ngForm"],["for","fullName",1,"fullName"],["type","text","id","fullName","placeholder","Full Name","name","fullName","aria-describedby","fullName","ngModel","","required","",1,"rectangle9"],["for","userName",1,"userName"],["type","text","id","userName","placeholder","User Name","name","userName","aria-describedby","userName","ngModel","","required","",1,"rectangle2"],["for","email",1,"email"],["type","email","id","email","placeholder","Email","name","email","aria-describedby","email","ngModel","","required","",1,"rectangle10"],["for","password",1,"password"],[1,"rectangle3"],["type","password","id","password","placeholder","Password","id","password","name","password","ngModel","","required",""],[1,"passwordIcon"],["class","bx bx-show",3,"click",4,"ngIf"],["class","bx bx-hide",3,"click",4,"ngIf"],["for","confirmPassword",1,"confirmPassword"],[1,"rectangle8"],["type","password","id","confirmPassword","placeholder","Password","id","confirmPassword","name","confirmPassword","ngModel","","required",""],[1,"rectangle4"],["type","submit",1,"register"],[1,"yesIHaveAnAccountLogin"],[1,"labelWrapper"],[1,"label"],["href","login",1,"label2"],[1,"label3"],[1,"rectangle6"],[1,"rectangle7"],[1,"pc-reg"],[1,"bx","bx-show",3,"click"],[1,"bx","bx-hide",3,"click"]],template:function(x,Y){1&x&&(b.TgZ(0,"div",0),b._uU(1,"Please Fill out form to Register!"),b.qZA(),b.TgZ(2,"form",1,2),b.NdJ("ngSubmit",function(){return Y.register()}),b.TgZ(4,"label",3),b._uU(5,"Full name:"),b.qZA(),b._UZ(6,"input",4),b.TgZ(7,"label",5),b._uU(8,"Username:"),b.qZA(),b._UZ(9,"input",6),b.TgZ(10,"label",7),b._uU(11,"Email:"),b.qZA(),b._UZ(12,"input",8),b.TgZ(13,"label",9),b._uU(14,"Password:"),b.qZA(),b.TgZ(15,"div",10),b._UZ(16,"input",11),b.TgZ(17,"div",12),b.YNc(18,Ze,1,0,"i",13),b.YNc(19,ut,1,0,"i",14),b.qZA()(),b.TgZ(20,"label",15),b._uU(21,"Confirm Password:"),b.qZA(),b.TgZ(22,"div",16),b._UZ(23,"input",17),b.TgZ(24,"div",12),b.YNc(25,Xe,1,0,"i",13),b.YNc(26,nt,1,0,"i",14),b.qZA()(),b._UZ(27,"div",18),b.TgZ(28,"button",19),b._uU(29,"Register"),b.qZA()(),b.TgZ(30,"div",20)(31,"p",21)(32,"span",22),b._uU(33,"Yes i have an account?"),b.qZA(),b.TgZ(34,"a",23),b._uU(35,"Login"),b.qZA(),b._UZ(36,"span",24),b.qZA()(),b._UZ(37,"div",25)(38,"div",26)(39,"div",27)),2&x&&(b.xp6(18),b.Q6J("ngIf",Y.passwordToggle),b.xp6(1),b.Q6J("ngIf",!Y.passwordToggle),b.xp6(6),b.Q6J("ngIf",Y.confirmPasswordToggle),b.xp6(1),b.Q6J("ngIf",!Y.confirmPasswordToggle))},dependencies:[$.O5,ee._Y,ee.Fj,ee.JJ,ee.JL,ee.Q7,ee.On,ee.F],styles:['[_nghost-%COMP%], *[_ngcontent-%COMP%]{box-sizing:border-box;margin:0;padding:0;background:none;border:none;flex-shrink:0;text-decoration:none;min-width:0;overflow-wrap:anywhere}[_nghost-%COMP%], [_ngcontent-%COMP%]:not(span, a[_ngcontent-%COMP%], ul[_ngcontent-%COMP%], ol[_ngcontent-%COMP%], li[_ngcontent-%COMP%], p)[_ngcontent-%COMP%]{display:flex}ul[_ngcontent-%COMP%], ol[_ngcontent-%COMP%]{text-indent:0;padding-inline-start:1.5em}p[_ngcontent-%COMP%]:empty:before{content:"";display:inline-block}img[_ngcontent-%COMP%]{object-fit:contain}svg[_ngcontent-%COMP%]{overflow:visible}[_nghost-%COMP%]{position:relative;width:100vw;height:100vh;flex-direction:column;align-items:flex-start;background-color:#ebefff;overflow:hidden}.rectangle2[_ngcontent-%COMP%]{position:absolute;left:756px;top:240px;width:367px;height:40px;outline:solid 1px #3a3a3a;outline-offset:-1px;border-radius:5px;background-color:#afb3ff00;padding-left:1%}.rectangle9[_ngcontent-%COMP%]{position:absolute;left:756px;top:164px;width:367px;height:40px;outline:solid 1px #3a3a3a;outline-offset:-1px;border-radius:5px;background-color:#afb3ff00;padding-left:1%}.rectangle3[_ngcontent-%COMP%]{position:absolute;left:758px;top:396px;width:367px;height:40px;outline:solid 1px #3a3a3a;outline-offset:-1px;border-radius:5px;background-color:#afb3ff00;padding-left:1%}.rectangle10[_ngcontent-%COMP%]{position:absolute;left:756px;top:320px;width:367px;height:40px;outline:solid 1px #3a3a3a;outline-offset:-1px;border-radius:5px;background-color:#afb3ff00;padding-left:1%}.rectangle8[_ngcontent-%COMP%]{position:absolute;left:758px;top:472px;width:367px;height:40px;outline:solid 1px #3a3a3a;outline-offset:-1px;border-radius:5px;background-color:#afb3ff00;padding-left:1%}.userName[_ngcontent-%COMP%]{color:#000;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:756px;top:210px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.fullName[_ngcontent-%COMP%]{color:#000;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:756px;top:134px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.yesIHaveAnAccountLogin[_ngcontent-%COMP%]{position:absolute;left:838px;top:586px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.labelWrapper[_ngcontent-%COMP%]{font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;flex-shrink:1}.label[_ngcontent-%COMP%]{color:#000;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}.label2[_ngcontent-%COMP%]{color:#000;font-size:16px;font-weight:500;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}.label3[_ngcontent-%COMP%]{color:#000;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}.rectangle4[_ngcontent-%COMP%]{position:absolute;left:760px;top:532px;width:365px;height:40px;border-radius:5px;background-color:#228be6}.register[_ngcontent-%COMP%]{color:#fff;font-size:16px;font-weight:500;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:910px;top:539px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.rectangle3[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .rectangle8[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none;width:90%}.password[_ngcontent-%COMP%]{color:#000;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:760px;top:366px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.email[_ngcontent-%COMP%]{color:#000;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:758px;top:290px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.confirmPassword[_ngcontent-%COMP%]{color:#000;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:760px;top:442px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.rectangle6[_ngcontent-%COMP%]{transform-origin:top left;position:absolute;left:180.2554px;top:510.0889px;width:635px;height:377px;border-radius:105.5304px;background-color:#228be690;transform:matrix(-.1248,-.9922,.9922,-.1248,0,0)}.rectangle7[_ngcontent-%COMP%]{transform-origin:top left;position:absolute;left:165px;top:536px;width:635px;height:377px;border-radius:105.5304px;background-color:#228be61f;transform:matrix(0,-1,1,0,0,0)}.socialMediaIcons[_ngcontent-%COMP%]{position:absolute;left:917px;top:636px;width:88.2188px;height:24.2188px;overflow:visible}.icon[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.pleaseFillOutFormToRegister[_ngcontent-%COMP%]{color:#1a1a1a;font-size:17px;font-weight:700;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:818px;top:92px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.pc-reg[_ngcontent-%COMP%]{position:absolute;inset:24.5833% 45.3906% 7.0833% 12.7344%;background-image:url(/assets/pc-reg.svg);background-position:center;background-repeat:no-repeat;background-size:cover}.passwordIcon[_ngcontent-%COMP%]{position:absolute;left:335px;top:14px}']})}return Z})();const Ct=["loginForm"];function ct(Z,y){if(1&Z){const E=b.EpF();b.TgZ(0,"i",29),b.NdJ("click",function(){b.CHM(E);const Y=b.oxw();return b.KtG(Y.togglePasswordVisibility())}),b.qZA()}}function ae(Z,y){if(1&Z){const E=b.EpF();b.TgZ(0,"i",30),b.NdJ("click",function(){b.CHM(E);const Y=b.oxw();return b.KtG(Y.togglePasswordVisibility())}),b.qZA()}}const me=[{path:"",redirectTo:"/tasks",pathMatch:"full"},{path:"tasks",loadChildren:()=>U.e(12).then(U.bind(U,5012)).then(Z=>Z.AdminModule),canActivate:[Ee]},{path:"login",component:(()=>{class Z{constructor(E,x){this.authService=E,this.router=x,this.passwordToggle=!1}ngOnInit(){}login(E){this.loginForm.valid?this.authService.signIn(E.email,E.password,E.rememberMe):alert("Please enter your email and password")}forgotPass(){this.router.navigate(["/forgot-password"])}togglePasswordVisibility(){const E=document.getElementById("password");"password"===E.type?(E.type="text",this.passwordToggle=!1):(E.type="password",this.passwordToggle=!0)}signInWithGoogle(){this.authService.singInWithGoogle()}signInWithGithub(){this.authService.singInWithGithub()}static#e=this.\u0275fac=function(x){return new(x||Z)(b.Y36(Te.e),b.Y36(V.F0))};static#t=this.\u0275cmp=b.Xpm({type:Z,selectors:[["app-login"]],viewQuery:function(x,Y){if(1&x&&b.Gf(Ct,5),2&x){let le;b.iGM(le=b.CRH())&&(Y.loginForm=le.first)}},decls:40,vars:2,consts:[[1,"rectangle1"],[1,"pc-login"],[1,"welcomeBack"],[3,"ngSubmit"],["loginForm","ngForm"],["for","exampleInputEmail",1,"username"],["type","email","id","exampleInputEmail","placeholder","Email","name","email","aria-describedby","emailHelp","ngModel","","required","",1,"rectangle2"],["for","exampleInputPassword",1,"password"],[1,"rectangle3"],["type","password","id","exampleInputPassword","placeholder","Password","id","password","name","password","ngModel","","required",""],[1,"passwordIcon"],["class","bx bx-show",3,"click",4,"ngIf"],["class","bx bx-hide",3,"click",4,"ngIf"],[1,"dontHaveAndAccountRegister1"],[1,"labelWrapper"],["type","checkbox","id","rememberMe","name","rememberMe","ngModel",""],["for","rememberMe",1,"rememberMe"],["href","forgot-password",1,"forgotPassword"],[1,"dontHaveAndAccountRegister"],[1,"label"],["href","register",1,"label2"],[1,"rectangle4"],["type","submit",1,"login"],[1,"socialMediaIcons"],[3,"click"],["src","assets/google.svg","alt","",1,"icon"],["src","assets/github.svg","alt","",1,"icon"],[1,"rectangle5"],[1,"rectangle6"],[1,"bx","bx-show",3,"click"],[1,"bx","bx-hide",3,"click"]],template:function(x,Y){if(1&x){const le=b.EpF();b._UZ(0,"div",0)(1,"div",1),b.TgZ(2,"div",2),b._uU(3,"Welcome Back!"),b.qZA(),b.TgZ(4,"form",3,4),b.NdJ("ngSubmit",function(){b.CHM(le);const _=b.MAs(5);return b.KtG(Y.login(_.value))}),b.TgZ(6,"label",5),b._uU(7,"Username:"),b.qZA(),b._UZ(8,"input",6),b.TgZ(9,"label",7),b._uU(10,"Password:"),b.qZA(),b.TgZ(11,"div",8),b._UZ(12,"input",9),b.TgZ(13,"div",10),b.YNc(14,ct,1,0,"i",11),b.YNc(15,ae,1,0,"i",12),b.qZA()(),b.TgZ(16,"div",13)(17,"div",14)(18,"div"),b._UZ(19,"input",15),b.TgZ(20,"span",16),b._uU(21,"Remember Me"),b.qZA()(),b.TgZ(22,"a",17),b._uU(23,"Forgot Password"),b.qZA()()(),b.TgZ(24,"div",18)(25,"p",14)(26,"span",19),b._uU(27,"Dont have and account?"),b.qZA(),b.TgZ(28,"a",20),b._uU(29,"Register"),b.qZA()()(),b._UZ(30,"div",21),b.TgZ(31,"button",22),b._uU(32,"Login"),b.qZA(),b.TgZ(33,"div",23)(34,"a",24),b.NdJ("click",function(){return Y.signInWithGoogle()}),b._UZ(35,"img",25),b.qZA(),b.TgZ(36,"a",24),b.NdJ("click",function(){return Y.signInWithGithub()}),b._UZ(37,"img",26),b.qZA()()(),b._UZ(38,"div",27)(39,"div",28)}2&x&&(b.xp6(14),b.Q6J("ngIf",Y.passwordToggle),b.xp6(1),b.Q6J("ngIf",!Y.passwordToggle))},dependencies:[$.O5,ee._Y,ee.Fj,ee.Wl,ee.JJ,ee.JL,ee.Q7,ee.On,ee.F],styles:['[_nghost-%COMP%], *[_ngcontent-%COMP%]{box-sizing:border-box;margin:0;padding:0;background:none;border:none;flex-shrink:0;text-decoration:none;min-width:0;overflow-wrap:anywhere}[_nghost-%COMP%], [_ngcontent-%COMP%]:not(span, a[_ngcontent-%COMP%], ul[_ngcontent-%COMP%], ol[_ngcontent-%COMP%], li[_ngcontent-%COMP%], p)[_ngcontent-%COMP%]{display:flex}ul[_ngcontent-%COMP%], ol[_ngcontent-%COMP%]{text-indent:0;padding-inline-start:1.5em}p[_ngcontent-%COMP%]:empty:before{content:"";display:inline-block}img[_ngcontent-%COMP%]{object-fit:contain}svg[_ngcontent-%COMP%]{overflow:visible}[_nghost-%COMP%]{position:relative;width:100vw;height:100vh;flex-direction:column;align-items:flex-start;background-color:#ebefff;overflow:hidden}.rectangle1[_ngcontent-%COMP%]{position:absolute;left:842px;top:0;width:525px;height:720px;background-color:#228be62f}.socialMediaIcons[_ngcontent-%COMP%]{position:absolute;left:256px;top:530px;width:40px;height:35px;overflow:visible}.icon[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.rectangle2[_ngcontent-%COMP%]{position:absolute;left:122px;top:250px;width:367px;height:40px;padding-left:1%;outline:solid 1px #3a3a3a;outline-offset:-1px;border-radius:5px;background-color:#afb3ff00}.passwordIcon[_ngcontent-%COMP%]{position:absolute;left:335px;top:14px}.rectangle3[_ngcontent-%COMP%]{position:absolute;left:122px;top:326px;width:367px;height:40px;padding-left:1%;outline:solid 1px #3a3a3a;outline-offset:-1px;border-radius:5px;background-color:#afb3ff00}.rectangle3[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none;width:90%}.username[_ngcontent-%COMP%]{color:#000;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:122px;top:220px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.dontHaveAndAccountRegister1[_ngcontent-%COMP%]{position:absolute;left:134px;top:379px;width:max-content;height:min-content;white-space:nowrap;flex-direction:column}.rememberMe[_ngcontent-%COMP%]{margin-left:6%}.dontHaveAndAccountRegister[_ngcontent-%COMP%]{position:absolute;left:188px;top:480px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.labelWrapper[_ngcontent-%COMP%]{font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;flex-shrink:1}.label[_ngcontent-%COMP%]{color:#000;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}.label2[_ngcontent-%COMP%]{color:#000;font-size:16px;font-weight:500;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}.forgotPassword[_ngcontent-%COMP%]{color:#000;font-size:16px;font-weight:500;margin-left:30%;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}.welcomeBack[_ngcontent-%COMP%]{color:#1a1a1a;font-size:17px;font-weight:700;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:240px;top:177px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.rectangle4[_ngcontent-%COMP%]{position:absolute;left:124px;top:420px;width:365px;height:40px;border-radius:5px;background-color:#228be6}.login[_ngcontent-%COMP%]{color:#fff;font-size:16px;font-weight:500;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:285px;top:427px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.password[_ngcontent-%COMP%]{color:#000;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:124px;top:296px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.rectangle5[_ngcontent-%COMP%]{transform-origin:top left;position:absolute;left:-287px;top:912.3164px;width:596.734px;height:141.396px;border-radius:105.5304px;background-color:#228be690;transform:matrix(.7535,-.6574,.6574,.7535,0,0)}.rectangle6[_ngcontent-%COMP%]{transform-origin:top left;position:absolute;left:-252px;top:895.0518px;width:553.7418px;height:131.209px;border-radius:105.5304px;background-color:#2b3a4755;transform:matrix(.7535,-.6574,.6574,.7535,0,0)}.pc-login[_ngcontent-%COMP%]{position:absolute;left:565px;top:-37px;width:600px;height:590px;flex-direction:column;align-items:flex-start;right:0;background-image:url(/assets/pc-login.svg);background-position:center;background-repeat:no-repeat;background-size:cover}']})}return Z})()},{path:"register",component:rt},{path:"verify-email",component:de},{path:"forgot-password",component:oe}];let ge=(()=>{class Z{static#e=this.\u0275fac=function(x){return new(x||Z)};static#t=this.\u0275mod=b.oAB({type:Z});static#n=this.\u0275inj=b.cJS({imports:[V.Bz.forRoot(me,{preloadingStrategy:V.wm}),V.Bz]})}return Z})(),Ce=(()=>{class Z{constructor(){this.title="tasks"}static#e=this.\u0275fac=function(x){return new(x||Z)};static#t=this.\u0275cmp=b.Xpm({type:Z,selectors:[["app-root"]],decls:1,vars:0,template:function(x,Y){1&x&&b._UZ(0,"router-outlet")},dependencies:[V.lC]})}return Z})();var ve=U(9862),fe=U(6825);function bt(Z){return new b.vHH(3e3,!1)}function De(Z){switch(Z.length){case 0:return new fe.ZN;case 1:return Z[0];default:return new fe.ZE(Z)}}function Ge(Z,y,E=new Map,x=new Map){const Y=[],le=[];let Pe=-1,_=null;if(y.forEach(k=>{const P=k.get("offset"),F=P==Pe,ce=F&&_||new Map;k.forEach((Ue,Ke)=>{let ft=Ke,jt=Ue;if("offset"!==Ke)switch(ft=Z.normalizePropertyName(ft,Y),jt){case fe.k1:jt=E.get(Ke);break;case fe.l3:jt=x.get(Ke);break;default:jt=Z.normalizeStyleValue(Ke,ft,jt,Y)}ce.set(ft,jt)}),F||le.push(ce),_=ce,Pe=P}),Y.length)throw function Nn(Z){return new b.vHH(3502,!1)}();return le}function at(Z,y,E,x){switch(y){case"start":Z.onStart(()=>x(E&&Ot(E,"start",Z)));break;case"done":Z.onDone(()=>x(E&&Ot(E,"done",Z)));break;case"destroy":Z.onDestroy(()=>x(E&&Ot(E,"destroy",Z)))}}function Ot(Z,y,E){const le=Mt(Z.element,Z.triggerName,Z.fromState,Z.toState,y||Z.phaseName,E.totalTime??Z.totalTime,!!E.disabled),Pe=Z._data;return null!=Pe&&(le._data=Pe),le}function Mt(Z,y,E,x,Y="",le=0,Pe){return{element:Z,triggerName:y,fromState:E,toState:x,phaseName:Y,totalTime:le,disabled:!!Pe}}function cn(Z,y,E){let x=Z.get(y);return x||Z.set(y,x=E),x}function wn(Z){const y=Z.indexOf(":");return[Z.substring(1,y),Z.slice(y+1)]}const xr=(()=>typeof document>"u"?null:document.documentElement)();function Qr(Z){const y=Z.parentNode||Z.host||null;return y===xr?null:y}let ir=null,Vr=!1;function Tr(Z,y){for(;y;){if(y===Z)return!0;y=Qr(y)}return!1}function Xr(Z,y,E){if(E)return Array.from(Z.querySelectorAll(y));const x=Z.querySelector(y);return x?[x]:[]}let re=(()=>{class Z{validateStyleProperty(E){return function Jr(Z){ir||(ir=function Or(){return typeof document<"u"?document.body:null}()||{},Vr=!!ir.style&&"WebkitAppearance"in ir.style);let y=!0;return ir.style&&!function Gn(Z){return"ebkit"==Z.substring(1,6)}(Z)&&(y=Z in ir.style,!y&&Vr&&(y="Webkit"+Z.charAt(0).toUpperCase()+Z.slice(1)in ir.style)),y}(E)}matchesElement(E,x){return!1}containsElement(E,x){return Tr(E,x)}getParentElement(E){return Qr(E)}query(E,x,Y){return Xr(E,x,Y)}computeStyle(E,x,Y){return Y||""}animate(E,x,Y,le,Pe,_=[],k){return new fe.ZN(Y,le)}static#e=this.\u0275fac=function(x){return new(x||Z)};static#t=this.\u0275prov=b.Yz7({token:Z,factory:Z.\u0275fac})}return Z})(),j=(()=>{class Z{static#e=this.NOOP=new re}return Z})();const N=1e3,Le="ng-enter",ot="ng-leave",Nt="ng-trigger",_t=".ng-trigger",rn="ng-animating",Zt=".ng-animating";function Cn(Z){if("number"==typeof Z)return Z;const y=Z.match(/^(-?[\.\d]+)(m?s)/);return!y||y.length<2?0:Ae(parseFloat(y[1]),y[2])}function Ae(Z,y){return"s"===y?Z*N:Z}function Ie(Z,y,E){return Z.hasOwnProperty("duration")?Z:function xe(Z,y,E){let Y,le=0,Pe="";if("string"==typeof Z){const _=Z.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===_)return y.push(bt()),{duration:0,delay:0,easing:""};Y=Ae(parseFloat(_[1]),_[2]);const k=_[3];null!=k&&(le=Ae(parseFloat(k),_[4]));const P=_[5];P&&(Pe=P)}else Y=Z;if(!E){let _=!1,k=y.length;Y<0&&(y.push(function $e(){return new b.vHH(3100,!1)}()),_=!0),le<0&&(y.push(function Gt(){return new b.vHH(3101,!1)}()),_=!0),_&&y.splice(k,0,bt())}return{duration:Y,delay:le,easing:Pe}}(Z,y,E)}function ye(Z,y={}){return Object.keys(Z).forEach(E=>{y[E]=Z[E]}),y}function we(Z){const y=new Map;return Object.keys(Z).forEach(E=>{y.set(E,Z[E])}),y}function mt(Z,y=new Map,E){if(E)for(let[x,Y]of E)y.set(x,Y);for(let[x,Y]of Z)y.set(x,Y);return y}function wt(Z,y,E){y.forEach((x,Y)=>{const le=ti(Y);E&&!E.has(Y)&&E.set(Y,Z.style[le]),Z.style[le]=x})}function sn(Z,y){y.forEach((E,x)=>{const Y=ti(x);Z.style[Y]=""})}function Jn(Z){return Array.isArray(Z)?1==Z.length?Z[0]:(0,fe.vP)(Z):Z}const qn=new RegExp("{{\\s*(.+?)\\s*}}","g");function ei(Z){let y=[];if("string"==typeof Z){let E;for(;E=qn.exec(Z);)y.push(E[1]);qn.lastIndex=0}return y}function yi(Z,y,E){const x=Z.toString(),Y=x.replace(qn,(le,Pe)=>{let _=y[Pe];return null==_&&(E.push(function gn(Z){return new b.vHH(3003,!1)}()),_=""),_.toString()});return Y==x?Z:Y}function tr(Z){const y=[];let E=Z.next();for(;!E.done;)y.push(E.value),E=Z.next();return y}const ur=/-+([a-z0-9])/g;function ti(Z){return Z.replace(ur,(...y)=>y[1].toUpperCase())}function Sr(Z,y,E){switch(y.type){case 7:return Z.visitTrigger(y,E);case 0:return Z.visitState(y,E);case 1:return Z.visitTransition(y,E);case 2:return Z.visitSequence(y,E);case 3:return Z.visitGroup(y,E);case 4:return Z.visitAnimate(y,E);case 5:return Z.visitKeyframes(y,E);case 6:return Z.visitStyle(y,E);case 8:return Z.visitReference(y,E);case 9:return Z.visitAnimateChild(y,E);case 10:return Z.visitAnimateRef(y,E);case 11:return Z.visitQuery(y,E);case 12:return Z.visitStagger(y,E);default:throw function Dt(Z){return new b.vHH(3004,!1)}()}}function ji(Z,y){return window.getComputedStyle(Z)[y]}const vi="*";function Fs(Z,y){const E=[];return"string"==typeof Z?Z.split(/\s*,\s*/).forEach(x=>function ii(Z,y,E){if(":"==Z[0]){const k=function fo(Z,y){switch(Z){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(E,x)=>parseFloat(x)>parseFloat(E);case":decrement":return(E,x)=>parseFloat(x)<parseFloat(E);default:return y.push(function zn(Z){return new b.vHH(3016,!1)}()),"* => *"}}(Z,E);if("function"==typeof k)return void y.push(k);Z=k}const x=Z.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==x||x.length<4)return E.push(function hn(Z){return new b.vHH(3015,!1)}()),y;const Y=x[1],le=x[2],Pe=x[3];y.push(po(Y,Pe));"<"==le[0]&&!(Y==vi&&Pe==vi)&&y.push(po(Pe,Y))}(x,E,y)):E.push(Z),E}const Ii=new Set(["true","1"]),gs=new Set(["false","0"]);function po(Z,y){const E=Ii.has(Z)||gs.has(Z),x=Ii.has(y)||gs.has(y);return(Y,le)=>{let Pe=Z==vi||Z==Y,_=y==vi||y==le;return!Pe&&E&&"boolean"==typeof Y&&(Pe=Y?Ii.has(Z):gs.has(Z)),!_&&x&&"boolean"==typeof le&&(_=le?Ii.has(y):gs.has(y)),Pe&&_}}const Ei=new RegExp("s*:selfs*,?","g");function zo(Z,y,E,x){return new mo(Z).build(y,E,x)}class mo{constructor(y){this._driver=y}build(y,E,x){const Y=new Qs(E);return this._resetContextStyleTimingState(Y),Sr(this,Jn(y),Y)}_resetContextStyleTimingState(y){y.currentQuerySelector="",y.collectedStyles=new Map,y.collectedStyles.set("",new Map),y.currentTime=0}visitTrigger(y,E){let x=E.queryCount=0,Y=E.depCount=0;const le=[],Pe=[];return"@"==y.name.charAt(0)&&E.errors.push(function Se(){return new b.vHH(3006,!1)}()),y.definitions.forEach(_=>{if(this._resetContextStyleTimingState(E),0==_.type){const k=_,P=k.name;P.toString().split(/\s*,\s*/).forEach(F=>{k.name=F,le.push(this.visitState(k,E))}),k.name=P}else if(1==_.type){const k=this.visitTransition(_,E);x+=k.queryCount,Y+=k.depCount,Pe.push(k)}else E.errors.push(function Oe(){return new b.vHH(3007,!1)}())}),{type:7,name:y.name,states:le,transitions:Pe,queryCount:x,depCount:Y,options:null}}visitState(y,E){const x=this.visitStyle(y.styles,E),Y=y.options&&y.options.params||null;if(x.containsDynamicStyles){const le=new Set,Pe=Y||{};x.styles.forEach(_=>{_ instanceof Map&&_.forEach(k=>{ei(k).forEach(P=>{Pe.hasOwnProperty(P)||le.add(P)})})}),le.size&&(tr(le.values()),E.errors.push(function qe(Z,y){return new b.vHH(3008,!1)}()))}return{type:0,name:y.name,style:x,options:Y?{params:Y}:null}}visitTransition(y,E){E.queryCount=0,E.depCount=0;const x=Sr(this,Jn(y.animation),E);return{type:1,matchers:Fs(y.expr,E.errors),animation:x,queryCount:E.queryCount,depCount:E.depCount,options:Ln(y.options)}}visitSequence(y,E){return{type:2,steps:y.steps.map(x=>Sr(this,x,E)),options:Ln(y.options)}}visitGroup(y,E){const x=E.currentTime;let Y=0;const le=y.steps.map(Pe=>{E.currentTime=x;const _=Sr(this,Pe,E);return Y=Math.max(Y,E.currentTime),_});return E.currentTime=Y,{type:3,steps:le,options:Ln(y.options)}}visitAnimate(y,E){const x=function Vs(Z,y){if(Z.hasOwnProperty("duration"))return Z;if("number"==typeof Z)return wr(Ie(Z,y).duration,0,"");const E=Z;if(E.split(/\s+/).some(le=>"{"==le.charAt(0)&&"{"==le.charAt(1))){const le=wr(0,0,"");return le.dynamic=!0,le.strValue=E,le}const Y=Ie(E,y);return wr(Y.duration,Y.delay,Y.easing)}(y.timings,E.errors);E.currentAnimateTimings=x;let Y,le=y.styles?y.styles:(0,fe.oB)({});if(5==le.type)Y=this.visitKeyframes(le,E);else{let Pe=y.styles,_=!1;if(!Pe){_=!0;const P={};x.easing&&(P.easing=x.easing),Pe=(0,fe.oB)(P)}E.currentTime+=x.duration+x.delay;const k=this.visitStyle(Pe,E);k.isEmptyStep=_,Y=k}return E.currentAnimateTimings=null,{type:4,timings:x,style:Y,options:null}}visitStyle(y,E){const x=this._makeStyleAst(y,E);return this._validateStyleAst(x,E),x}_makeStyleAst(y,E){const x=[],Y=Array.isArray(y.styles)?y.styles:[y.styles];for(let _ of Y)"string"==typeof _?_===fe.l3?x.push(_):E.errors.push(new b.vHH(3002,!1)):x.push(we(_));let le=!1,Pe=null;return x.forEach(_=>{if(_ instanceof Map&&(_.has("easing")&&(Pe=_.get("easing"),_.delete("easing")),!le))for(let k of _.values())if(k.toString().indexOf("{{")>=0){le=!0;break}}),{type:6,styles:x,easing:Pe,offset:y.offset,containsDynamicStyles:le,options:null}}_validateStyleAst(y,E){const x=E.currentAnimateTimings;let Y=E.currentTime,le=E.currentTime;x&&le>0&&(le-=x.duration+x.delay),y.styles.forEach(Pe=>{"string"!=typeof Pe&&Pe.forEach((_,k)=>{const P=E.collectedStyles.get(E.currentQuerySelector),F=P.get(k);let ce=!0;F&&(le!=Y&&le>=F.startTime&&Y<=F.endTime&&(E.errors.push(function dt(Z,y,E,x,Y){return new b.vHH(3010,!1)}()),ce=!1),le=F.startTime),ce&&P.set(k,{startTime:le,endTime:Y}),E.options&&function Vn(Z,y,E){const x=y.params||{},Y=ei(Z);Y.length&&Y.forEach(le=>{x.hasOwnProperty(le)||E.push(function St(Z){return new b.vHH(3001,!1)}())})}(_,E.options,E.errors)})})}visitKeyframes(y,E){const x={type:5,styles:[],options:null};if(!E.currentAnimateTimings)return E.errors.push(function gt(){return new b.vHH(3011,!1)}()),x;let le=0;const Pe=[];let _=!1,k=!1,P=0;const F=y.steps.map(fn=>{const tn=this._makeStyleAst(fn,E);let Un=null!=tn.offset?tn.offset:function Co(Z){if("string"==typeof Z)return null;let y=null;if(Array.isArray(Z))Z.forEach(E=>{if(E instanceof Map&&E.has("offset")){const x=E;y=parseFloat(x.get("offset")),x.delete("offset")}});else if(Z instanceof Map&&Z.has("offset")){const E=Z;y=parseFloat(E.get("offset")),E.delete("offset")}return y}(tn.styles),pn=0;return null!=Un&&(le++,pn=tn.offset=Un),k=k||pn<0||pn>1,_=_||pn<P,P=pn,Pe.push(pn),tn});k&&E.errors.push(function It(){return new b.vHH(3012,!1)}()),_&&E.errors.push(function Bn(){return new b.vHH(3200,!1)}());const ce=y.steps.length;let Ue=0;le>0&&le<ce?E.errors.push(function nn(){return new b.vHH(3202,!1)}()):0==le&&(Ue=1/(ce-1));const Ke=ce-1,ft=E.currentTime,jt=E.currentAnimateTimings,en=jt.duration;return F.forEach((fn,tn)=>{const Un=Ue>0?tn==Ke?1:Ue*tn:Pe[tn],pn=Un*en;E.currentTime=ft+jt.delay+pn,jt.duration=pn,this._validateStyleAst(fn,E),fn.offset=Un,x.styles.push(fn)}),x}visitReference(y,E){return{type:8,animation:Sr(this,Jn(y.animation),E),options:Ln(y.options)}}visitAnimateChild(y,E){return E.depCount++,{type:9,options:Ln(y.options)}}visitAnimateRef(y,E){return{type:10,animation:this.visitReference(y.animation,E),options:Ln(y.options)}}visitQuery(y,E){const x=E.currentQuerySelector,Y=y.options||{};E.queryCount++,E.currentQuery=y;const[le,Pe]=function bs(Z){const y=!!Z.split(/\s*,\s*/).find(E=>":self"==E);return y&&(Z=Z.replace(Ei,"")),Z=Z.replace(/@\*/g,_t).replace(/@\w+/g,E=>_t+"-"+E.slice(1)).replace(/:animating/g,Zt),[Z,y]}(y.selector);E.currentQuerySelector=x.length?x+" "+le:le,cn(E.collectedStyles,E.currentQuerySelector,new Map);const _=Sr(this,Jn(y.animation),E);return E.currentQuery=null,E.currentQuerySelector=x,{type:11,selector:le,limit:Y.limit||0,optional:!!Y.optional,includeSelf:Pe,animation:_,originalSelector:y.selector,options:Ln(y.options)}}visitStagger(y,E){E.currentQuery||E.errors.push(function xn(){return new b.vHH(3013,!1)}());const x="full"===y.timings?{duration:0,delay:0,easing:"full"}:Ie(y.timings,E.errors,!0);return{type:12,animation:Sr(this,Jn(y.animation),E),timings:x,options:null}}}class Qs{constructor(y){this.errors=y,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Ln(Z){return Z?(Z=ye(Z)).params&&(Z.params=function go(Z){return Z?ye(Z):null}(Z.params)):Z={},Z}function wr(Z,y,E){return{duration:Z,delay:y,easing:E}}function zr(Z,y,E,x,Y,le,Pe=null,_=!1){return{type:1,element:Z,keyframes:y,preStyleProps:E,postStyleProps:x,duration:Y,delay:le,totalTime:Y+le,easing:Pe,subTimeline:_}}class Oi{constructor(){this._map=new Map}get(y){return this._map.get(y)||[]}append(y,E){let x=this._map.get(y);x||this._map.set(y,x=[]),x.push(...E)}has(y){return this._map.has(y)}clear(){this._map.clear()}}const so=new RegExp(":enter","g"),Js=new RegExp(":leave","g");function bi(Z,y,E,x,Y,le=new Map,Pe=new Map,_,k,P=[]){return(new or).buildKeyframes(Z,y,E,x,Y,le,Pe,_,k,P)}class or{buildKeyframes(y,E,x,Y,le,Pe,_,k,P,F=[]){P=P||new Oi;const ce=new _n(y,E,P,Y,le,F,[]);ce.options=k;const Ue=k.delay?Cn(k.delay):0;ce.currentTimeline.delayNextStep(Ue),ce.currentTimeline.setStyles([Pe],null,ce.errors,k),Sr(this,x,ce);const Ke=ce.timelines.filter(ft=>ft.containsAnimation());if(Ke.length&&_.size){let ft;for(let jt=Ke.length-1;jt>=0;jt--){const en=Ke[jt];if(en.element===E){ft=en;break}}ft&&!ft.allowOnlyTimelineStyles()&&ft.setStyles([_],null,ce.errors,k)}return Ke.length?Ke.map(ft=>ft.buildKeyframes()):[zr(E,[],[],[],0,Ue,"",!1)]}visitTrigger(y,E){}visitState(y,E){}visitTransition(y,E){}visitAnimateChild(y,E){const x=E.subInstructions.get(E.element);if(x){const Y=E.createSubContext(y.options),le=E.currentTimeline.currentTime,Pe=this._visitSubInstructions(x,Y,Y.options);le!=Pe&&E.transformIntoNewTimeline(Pe)}E.previousNode=y}visitAnimateRef(y,E){const x=E.createSubContext(y.options);x.transformIntoNewTimeline(),this._applyAnimationRefDelays([y.options,y.animation.options],E,x),this.visitReference(y.animation,x),E.transformIntoNewTimeline(x.currentTimeline.currentTime),E.previousNode=y}_applyAnimationRefDelays(y,E,x){for(const Y of y){const le=Y?.delay;if(le){const Pe="number"==typeof le?le:Cn(yi(le,Y?.params??{},E.errors));x.delayNextStep(Pe)}}}_visitSubInstructions(y,E,x){let le=E.currentTimeline.currentTime;const Pe=null!=x.duration?Cn(x.duration):null,_=null!=x.delay?Cn(x.delay):null;return 0!==Pe&&y.forEach(k=>{const P=E.appendInstructionToTimeline(k,Pe,_);le=Math.max(le,P.duration+P.delay)}),le}visitReference(y,E){E.updateOptions(y.options,!0),Sr(this,y.animation,E),E.previousNode=y}visitSequence(y,E){const x=E.subContextCount;let Y=E;const le=y.options;if(le&&(le.params||le.delay)&&(Y=E.createSubContext(le),Y.transformIntoNewTimeline(),null!=le.delay)){6==Y.previousNode.type&&(Y.currentTimeline.snapshotCurrentStyles(),Y.previousNode=Lt);const Pe=Cn(le.delay);Y.delayNextStep(Pe)}y.steps.length&&(y.steps.forEach(Pe=>Sr(this,Pe,Y)),Y.currentTimeline.applyStylesToKeyframe(),Y.subContextCount>x&&Y.transformIntoNewTimeline()),E.previousNode=y}visitGroup(y,E){const x=[];let Y=E.currentTimeline.currentTime;const le=y.options&&y.options.delay?Cn(y.options.delay):0;y.steps.forEach(Pe=>{const _=E.createSubContext(y.options);le&&_.delayNextStep(le),Sr(this,Pe,_),Y=Math.max(Y,_.currentTimeline.currentTime),x.push(_.currentTimeline)}),x.forEach(Pe=>E.currentTimeline.mergeTimelineCollectedStyles(Pe)),E.transformIntoNewTimeline(Y),E.previousNode=y}_visitTiming(y,E){if(y.dynamic){const x=y.strValue;return Ie(E.params?yi(x,E.params,E.errors):x,E.errors)}return{duration:y.duration,delay:y.delay,easing:y.easing}}visitAnimate(y,E){const x=E.currentAnimateTimings=this._visitTiming(y.timings,E),Y=E.currentTimeline;x.delay&&(E.incrementTime(x.delay),Y.snapshotCurrentStyles());const le=y.style;5==le.type?this.visitKeyframes(le,E):(E.incrementTime(x.duration),this.visitStyle(le,E),Y.applyStylesToKeyframe()),E.currentAnimateTimings=null,E.previousNode=y}visitStyle(y,E){const x=E.currentTimeline,Y=E.currentAnimateTimings;!Y&&x.hasCurrentStyleProperties()&&x.forwardFrame();const le=Y&&Y.easing||y.easing;y.isEmptyStep?x.applyEmptyStep(le):x.setStyles(y.styles,le,E.errors,E.options),E.previousNode=y}visitKeyframes(y,E){const x=E.currentAnimateTimings,Y=E.currentTimeline.duration,le=x.duration,_=E.createSubContext().currentTimeline;_.easing=x.easing,y.styles.forEach(k=>{_.forwardTime((k.offset||0)*le),_.setStyles(k.styles,k.easing,E.errors,E.options),_.applyStylesToKeyframe()}),E.currentTimeline.mergeTimelineCollectedStyles(_),E.transformIntoNewTimeline(Y+le),E.previousNode=y}visitQuery(y,E){const x=E.currentTimeline.currentTime,Y=y.options||{},le=Y.delay?Cn(Y.delay):0;le&&(6===E.previousNode.type||0==x&&E.currentTimeline.hasCurrentStyleProperties())&&(E.currentTimeline.snapshotCurrentStyles(),E.previousNode=Lt);let Pe=x;const _=E.invokeQuery(y.selector,y.originalSelector,y.limit,y.includeSelf,!!Y.optional,E.errors);E.currentQueryTotal=_.length;let k=null;_.forEach((P,F)=>{E.currentQueryIndex=F;const ce=E.createSubContext(y.options,P);le&&ce.delayNextStep(le),P===E.element&&(k=ce.currentTimeline),Sr(this,y.animation,ce),ce.currentTimeline.applyStylesToKeyframe(),Pe=Math.max(Pe,ce.currentTimeline.currentTime)}),E.currentQueryIndex=0,E.currentQueryTotal=0,E.transformIntoNewTimeline(Pe),k&&(E.currentTimeline.mergeTimelineCollectedStyles(k),E.currentTimeline.snapshotCurrentStyles()),E.previousNode=y}visitStagger(y,E){const x=E.parentContext,Y=E.currentTimeline,le=y.timings,Pe=Math.abs(le.duration),_=Pe*(E.currentQueryTotal-1);let k=Pe*E.currentQueryIndex;switch(le.duration<0?"reverse":le.easing){case"reverse":k=_-k;break;case"full":k=x.currentStaggerTime}const F=E.currentTimeline;k&&F.delayNextStep(k);const ce=F.currentTime;Sr(this,y.animation,E),E.previousNode=y,x.currentStaggerTime=Y.currentTime-ce+(Y.startTime-x.currentTimeline.startTime)}}const Lt={};class _n{constructor(y,E,x,Y,le,Pe,_,k){this._driver=y,this.element=E,this.subInstructions=x,this._enterClassName=Y,this._leaveClassName=le,this.errors=Pe,this.timelines=_,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Lt,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=k||new cr(this._driver,E,0),_.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(y,E){if(!y)return;const x=y;let Y=this.options;null!=x.duration&&(Y.duration=Cn(x.duration)),null!=x.delay&&(Y.delay=Cn(x.delay));const le=x.params;if(le){let Pe=Y.params;Pe||(Pe=this.options.params={}),Object.keys(le).forEach(_=>{(!E||!Pe.hasOwnProperty(_))&&(Pe[_]=yi(le[_],Pe,this.errors))})}}_copyOptions(){const y={};if(this.options){const E=this.options.params;if(E){const x=y.params={};Object.keys(E).forEach(Y=>{x[Y]=E[Y]})}}return y}createSubContext(y=null,E,x){const Y=E||this.element,le=new _n(this._driver,Y,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(Y,x||0));return le.previousNode=this.previousNode,le.currentAnimateTimings=this.currentAnimateTimings,le.options=this._copyOptions(),le.updateOptions(y),le.currentQueryIndex=this.currentQueryIndex,le.currentQueryTotal=this.currentQueryTotal,le.parentContext=this,this.subContextCount++,le}transformIntoNewTimeline(y){return this.previousNode=Lt,this.currentTimeline=this.currentTimeline.fork(this.element,y),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(y,E,x){const Y={duration:E??y.duration,delay:this.currentTimeline.currentTime+(x??0)+y.delay,easing:""},le=new Dr(this._driver,y.element,y.keyframes,y.preStyleProps,y.postStyleProps,Y,y.stretchStartingKeyframe);return this.timelines.push(le),Y}incrementTime(y){this.currentTimeline.forwardTime(this.currentTimeline.duration+y)}delayNextStep(y){y>0&&this.currentTimeline.delayNextStep(y)}invokeQuery(y,E,x,Y,le,Pe){let _=[];if(Y&&_.push(this.element),y.length>0){y=(y=y.replace(so,"."+this._enterClassName)).replace(Js,"."+this._leaveClassName);let P=this._driver.query(this.element,y,1!=x);0!==x&&(P=x<0?P.slice(P.length+x,P.length):P.slice(0,x)),_.push(...P)}return!le&&0==_.length&&Pe.push(function dn(Z){return new b.vHH(3014,!1)}()),_}}class cr{constructor(y,E,x,Y){this._driver=y,this.element=E,this.startTime=x,this._elementTimelineStylesLookup=Y,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(E),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(E,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(y){const E=1===this._keyframes.size&&this._pendingStyles.size;this.duration||E?(this.forwardTime(this.currentTime+y),E&&this.snapshotCurrentStyles()):this.startTime+=y}fork(y,E){return this.applyStylesToKeyframe(),new cr(this._driver,y,E||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(y){this.applyStylesToKeyframe(),this.duration=y,this._loadKeyframe()}_updateStyle(y,E){this._localTimelineStyles.set(y,E),this._globalTimelineStyles.set(y,E),this._styleSummary.set(y,{time:this.currentTime,value:E})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(y){y&&this._previousKeyframe.set("easing",y);for(let[E,x]of this._globalTimelineStyles)this._backFill.set(E,x||fe.l3),this._currentKeyframe.set(E,fe.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(y,E,x,Y){E&&this._previousKeyframe.set("easing",E);const le=Y&&Y.params||{},Pe=function Gr(Z,y){const E=new Map;let x;return Z.forEach(Y=>{if("*"===Y){x=x||y.keys();for(let le of x)E.set(le,fe.l3)}else mt(Y,E)}),E}(y,this._globalTimelineStyles);for(let[_,k]of Pe){const P=yi(k,le,x);this._pendingStyles.set(_,P),this._localTimelineStyles.has(_)||this._backFill.set(_,this._globalTimelineStyles.get(_)??fe.l3),this._updateStyle(_,P)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((y,E)=>{this._currentKeyframe.set(E,y)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((y,E)=>{this._currentKeyframe.has(E)||this._currentKeyframe.set(E,y)}))}snapshotCurrentStyles(){for(let[y,E]of this._localTimelineStyles)this._pendingStyles.set(y,E),this._updateStyle(y,E)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const y=[];for(let E in this._currentKeyframe)y.push(E);return y}mergeTimelineCollectedStyles(y){y._styleSummary.forEach((E,x)=>{const Y=this._styleSummary.get(x);(!Y||E.time>Y.time)&&this._updateStyle(x,E.value)})}buildKeyframes(){this.applyStylesToKeyframe();const y=new Set,E=new Set,x=1===this._keyframes.size&&0===this.duration;let Y=[];this._keyframes.forEach((_,k)=>{const P=mt(_,new Map,this._backFill);P.forEach((F,ce)=>{F===fe.k1?y.add(ce):F===fe.l3&&E.add(ce)}),x||P.set("offset",k/this.duration),Y.push(P)});const le=y.size?tr(y.values()):[],Pe=E.size?tr(E.values()):[];if(x){const _=Y[0],k=new Map(_);_.set("offset",0),k.set("offset",1),Y=[_,k]}return zr(this.element,Y,le,Pe,this.duration,this.startTime,this.easing,!1)}}class Dr extends cr{constructor(y,E,x,Y,le,Pe,_=!1){super(y,E,Pe.delay),this.keyframes=x,this.preStyleProps=Y,this.postStyleProps=le,this._stretchStartingKeyframe=_,this.timings={duration:Pe.duration,delay:Pe.delay,easing:Pe.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let y=this.keyframes,{delay:E,duration:x,easing:Y}=this.timings;if(this._stretchStartingKeyframe&&E){const le=[],Pe=x+E,_=E/Pe,k=mt(y[0]);k.set("offset",0),le.push(k);const P=mt(y[0]);P.set("offset",Zi(_)),le.push(P);const F=y.length-1;for(let ce=1;ce<=F;ce++){let Ue=mt(y[ce]);const Ke=Ue.get("offset");Ue.set("offset",Zi((E+Ke*x)/Pe)),le.push(Ue)}x=Pe,E=0,Y="",y=le}return zr(this.element,y,this.preStyleProps,this.postStyleProps,x,E,Y,!0)}}function Zi(Z,y=3){const E=Math.pow(10,y-1);return Math.round(Z*E)/E}class ar{}const ss=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class on extends ar{normalizePropertyName(y,E){return ti(y)}normalizeStyleValue(y,E,x,Y){let le="";const Pe=x.toString().trim();if(ss.has(E)&&0!==x&&"0"!==x)if("number"==typeof x)le="px";else{const _=x.match(/^[+-]?[\d\.]+([a-z]*)$/);_&&0==_[1].length&&Y.push(function kt(Z,y){return new b.vHH(3005,!1)}())}return Pe+le}}function os(Z,y,E,x,Y,le,Pe,_,k,P,F,ce,Ue){return{type:0,element:Z,triggerName:y,isRemovalTransition:Y,fromState:E,fromStyles:le,toState:x,toStyles:Pe,timelines:_,queriedElements:k,preStyleProps:P,postStyleProps:F,totalTime:ce,errors:Ue}}const Ds={};class Ti{constructor(y,E,x){this._triggerName=y,this.ast=E,this._stateStyles=x}match(y,E,x,Y){return function wi(Z,y,E,x,Y){return Z.some(le=>le(y,E,x,Y))}(this.ast.matchers,y,E,x,Y)}buildStyles(y,E,x){let Y=this._stateStyles.get("*");return void 0!==y&&(Y=this._stateStyles.get(y?.toString())||Y),Y?Y.buildStyles(E,x):new Map}build(y,E,x,Y,le,Pe,_,k,P,F){const ce=[],Ue=this.ast.options&&this.ast.options.params||Ds,ft=this.buildStyles(x,_&&_.params||Ds,ce),jt=k&&k.params||Ds,en=this.buildStyles(Y,jt,ce),fn=new Set,tn=new Map,Un=new Map,pn="void"===Y,jn={params:Us(jt,Ue),delay:this.ast.options?.delay},Wr=F?[]:bi(y,E,this.ast.animation,le,Pe,ft,en,jn,P,ce);let Cr=0;if(Wr.forEach(ni=>{Cr=Math.max(ni.duration+ni.delay,Cr)}),ce.length)return os(E,this._triggerName,x,Y,pn,ft,en,[],[],tn,Un,Cr,ce);Wr.forEach(ni=>{const Nr=ni.element,cs=cn(tn,Nr,new Set);ni.preStyleProps.forEach(fr=>cs.add(fr));const Ui=cn(Un,Nr,new Set);ni.postStyleProps.forEach(fr=>Ui.add(fr)),Nr!==E&&fn.add(Nr)});const ui=tr(fn.values());return os(E,this._triggerName,x,Y,pn,ft,en,Wr,ui,tn,Un,Cr)}}function Us(Z,y){const E=ye(y);for(const x in Z)Z.hasOwnProperty(x)&&null!=Z[x]&&(E[x]=Z[x]);return E}class si{constructor(y,E,x){this.styles=y,this.defaultParams=E,this.normalizer=x}buildStyles(y,E){const x=new Map,Y=ye(this.defaultParams);return Object.keys(y).forEach(le=>{const Pe=y[le];null!==Pe&&(Y[le]=Pe)}),this.styles.styles.forEach(le=>{"string"!=typeof le&&le.forEach((Pe,_)=>{Pe&&(Pe=yi(Pe,Y,E));const k=this.normalizer.normalizePropertyName(_,E);Pe=this.normalizer.normalizeStyleValue(_,k,Pe,E),x.set(_,Pe)})}),x}}class hr{constructor(y,E,x){this.name=y,this.ast=E,this._normalizer=x,this.transitionFactories=[],this.states=new Map,E.states.forEach(Y=>{this.states.set(Y.name,new si(Y.style,Y.options&&Y.options.params||{},x))}),Ci(this.states,"true","1"),Ci(this.states,"false","0"),E.transitions.forEach(Y=>{this.transitionFactories.push(new Ti(y,Y,this.states))}),this.fallbackTransition=function Gi(Z,y,E){return new Ti(Z,{type:1,animation:{type:2,steps:[],options:null},matchers:[(Pe,_)=>!0],options:null,queryCount:0,depCount:0},y)}(y,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(y,E,x,Y){return this.transitionFactories.find(Pe=>Pe.match(y,E,x,Y))||null}matchStyles(y,E,x){return this.fallbackTransition.buildStyles(y,E,x)}}function Ci(Z,y,E){Z.has(y)?Z.has(E)||Z.set(E,Z.get(y)):Z.has(E)&&Z.set(y,Z.get(E))}const fi=new Oi;class Wi{constructor(y,E,x){this.bodyNode=y,this._driver=E,this._normalizer=x,this._animations=new Map,this._playersById=new Map,this.players=[]}register(y,E){const x=[],le=zo(this._driver,E,x,[]);if(x.length)throw function yr(Z){return new b.vHH(3503,!1)}();this._animations.set(y,le)}_buildPlayer(y,E,x){const Y=y.element,le=Ge(this._normalizer,y.keyframes,E,x);return this._driver.animate(Y,le,y.duration,y.delay,y.easing,[],!0)}create(y,E,x={}){const Y=[],le=this._animations.get(y);let Pe;const _=new Map;if(le?(Pe=bi(this._driver,E,le,Le,ot,new Map,new Map,x,fi,Y),Pe.forEach(F=>{const ce=cn(_,F.element,new Map);F.postStyleProps.forEach(Ue=>ce.set(Ue,null))})):(Y.push(function kn(){return new b.vHH(3300,!1)}()),Pe=[]),Y.length)throw function Hn(Z){return new b.vHH(3504,!1)}();_.forEach((F,ce)=>{F.forEach((Ue,Ke)=>{F.set(Ke,this._driver.computeStyle(ce,Ke,fe.l3))})});const P=De(Pe.map(F=>{const ce=_.get(F.element);return this._buildPlayer(F,new Map,ce)}));return this._playersById.set(y,P),P.onDestroy(()=>this.destroy(y)),this.players.push(P),P}destroy(y){const E=this._getPlayer(y);E.destroy(),this._playersById.delete(y);const x=this.players.indexOf(E);x>=0&&this.players.splice(x,1)}_getPlayer(y){const E=this._playersById.get(y);if(!E)throw function Mr(Z){return new b.vHH(3301,!1)}();return E}listen(y,E,x,Y){const le=Mt(E,"","","");return at(this._getPlayer(y),x,le,Y),()=>{}}command(y,E,x,Y){if("register"==x)return void this.register(y,Y[0]);if("create"==x)return void this.create(y,E,Y[0]||{});const le=this._getPlayer(y);switch(x){case"play":le.play();break;case"pause":le.pause();break;case"reset":le.reset();break;case"restart":le.restart();break;case"finish":le.finish();break;case"init":le.init();break;case"setPosition":le.setPosition(parseFloat(Y[0]));break;case"destroy":this.destroy(y)}}}const Wn="ng-animate-queued",ys="ng-animate-disabled",pi=[],as={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ai={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},vs="__ng_removed";class Ur{get params(){return this.options.params}constructor(y,E=""){this.namespaceId=E;const x=y&&y.hasOwnProperty("value");if(this.value=function Do(Z){return Z??null}(x?y.value:y),x){const le=ye(y);delete le.value,this.options=le}else this.options={};this.options.params||(this.options.params={})}absorbOptions(y){const E=y.params;if(E){const x=this.options.params;Object.keys(E).forEach(Y=>{null==x[Y]&&(x[Y]=E[Y])})}}}const Br="void",Hr=new Ur(Br);class Hs{constructor(y,E,x){this.id=y,this.hostElement=E,this._engine=x,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+y,Ai(E,this._hostClassName)}listen(y,E,x,Y){if(!this._triggers.has(E))throw function er(Z,y){return new b.vHH(3302,!1)}();if(null==x||0==x.length)throw function Xt(Z){return new b.vHH(3303,!1)}();if(!function Ao(Z){return"start"==Z||"done"==Z}(x))throw function mn(Z,y){return new b.vHH(3400,!1)}();const le=cn(this._elementListeners,y,[]),Pe={name:E,phase:x,callback:Y};le.push(Pe);const _=cn(this._engine.statesByElement,y,new Map);return _.has(E)||(Ai(y,Nt),Ai(y,Nt+"-"+E),_.set(E,Hr)),()=>{this._engine.afterFlush(()=>{const k=le.indexOf(Pe);k>=0&&le.splice(k,1),this._triggers.has(E)||_.delete(E)})}}register(y,E){return!this._triggers.has(y)&&(this._triggers.set(y,E),!0)}_getTrigger(y){const E=this._triggers.get(y);if(!E)throw function Qt(Z){return new b.vHH(3401,!1)}();return E}trigger(y,E,x,Y=!0){const le=this._getTrigger(E),Pe=new us(this.id,E,y);let _=this._engine.statesByElement.get(y);_||(Ai(y,Nt),Ai(y,Nt+"-"+E),this._engine.statesByElement.set(y,_=new Map));let k=_.get(E);const P=new Ur(x,this.id);if(!(x&&x.hasOwnProperty("value"))&&k&&P.absorbOptions(k.options),_.set(E,P),k||(k=Hr),P.value!==Br&&k.value===P.value){if(!function sa(Z,y){const E=Object.keys(Z),x=Object.keys(y);if(E.length!=x.length)return!1;for(let Y=0;Y<E.length;Y++){const le=E[Y];if(!y.hasOwnProperty(le)||Z[le]!==y[le])return!1}return!0}(k.params,P.params)){const jt=[],en=le.matchStyles(k.value,k.params,jt),fn=le.matchStyles(P.value,P.params,jt);jt.length?this._engine.reportError(jt):this._engine.afterFlush(()=>{sn(y,en),wt(y,fn)})}return}const Ue=cn(this._engine.playersByElement,y,[]);Ue.forEach(jt=>{jt.namespaceId==this.id&&jt.triggerName==E&&jt.queued&&jt.destroy()});let Ke=le.matchTransition(k.value,P.value,y,P.params),ft=!1;if(!Ke){if(!Y)return;Ke=le.fallbackTransition,ft=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:y,triggerName:E,transition:Ke,fromState:k,toState:P,player:Pe,isFallbackTransition:ft}),ft||(Ai(y,Wn),Pe.onStart(()=>{So(y,Wn)})),Pe.onDone(()=>{let jt=this.players.indexOf(Pe);jt>=0&&this.players.splice(jt,1);const en=this._engine.playersByElement.get(y);if(en){let fn=en.indexOf(Pe);fn>=0&&en.splice(fn,1)}}),this.players.push(Pe),Ue.push(Pe),Pe}deregister(y){this._triggers.delete(y),this._engine.statesByElement.forEach(E=>E.delete(y)),this._elementListeners.forEach((E,x)=>{this._elementListeners.set(x,E.filter(Y=>Y.name!=y))})}clearElementCache(y){this._engine.statesByElement.delete(y),this._elementListeners.delete(y);const E=this._engine.playersByElement.get(y);E&&(E.forEach(x=>x.destroy()),this._engine.playersByElement.delete(y))}_signalRemovalForInnerTriggers(y,E){const x=this._engine.driver.query(y,_t,!0);x.forEach(Y=>{if(Y[vs])return;const le=this._engine.fetchNamespacesByElement(Y);le.size?le.forEach(Pe=>Pe.triggerLeaveAnimation(Y,E,!1,!0)):this.clearElementCache(Y)}),this._engine.afterFlushAnimationsDone(()=>x.forEach(Y=>this.clearElementCache(Y)))}triggerLeaveAnimation(y,E,x,Y){const le=this._engine.statesByElement.get(y),Pe=new Map;if(le){const _=[];if(le.forEach((k,P)=>{if(Pe.set(P,k.value),this._triggers.has(P)){const F=this.trigger(y,P,Br,Y);F&&_.push(F)}}),_.length)return this._engine.markElementAsRemoved(this.id,y,!0,E,Pe),x&&De(_).onDone(()=>this._engine.processLeaveNode(y)),!0}return!1}prepareLeaveAnimationListeners(y){const E=this._elementListeners.get(y),x=this._engine.statesByElement.get(y);if(E&&x){const Y=new Set;E.forEach(le=>{const Pe=le.name;if(Y.has(Pe))return;Y.add(Pe);const k=this._triggers.get(Pe).fallbackTransition,P=x.get(Pe)||Hr,F=new Ur(Br),ce=new us(this.id,Pe,y);this._engine.totalQueuedPlayers++,this._queue.push({element:y,triggerName:Pe,transition:k,fromState:P,toState:F,player:ce,isFallbackTransition:!0})})}}removeNode(y,E){const x=this._engine;if(y.childElementCount&&this._signalRemovalForInnerTriggers(y,E),this.triggerLeaveAnimation(y,E,!0))return;let Y=!1;if(x.totalAnimations){const le=x.players.length?x.playersByQueriedElement.get(y):[];if(le&&le.length)Y=!0;else{let Pe=y;for(;Pe=Pe.parentNode;)if(x.statesByElement.get(Pe)){Y=!0;break}}}if(this.prepareLeaveAnimationListeners(y),Y)x.markElementAsRemoved(this.id,y,!1,E);else{const le=y[vs];(!le||le===as)&&(x.afterFlush(()=>this.clearElementCache(y)),x.destroyInnerAnimations(y),x._onRemovalComplete(y,E))}}insertNode(y,E){Ai(y,this._hostClassName)}drainQueuedTransitions(y){const E=[];return this._queue.forEach(x=>{const Y=x.player;if(Y.destroyed)return;const le=x.element,Pe=this._elementListeners.get(le);Pe&&Pe.forEach(_=>{if(_.name==x.triggerName){const k=Mt(le,x.triggerName,x.fromState.value,x.toState.value);k._data=y,at(x.player,_.phase,k,_.callback)}}),Y.markedForDestroy?this._engine.afterFlush(()=>{Y.destroy()}):E.push(x)}),this._queue=[],E.sort((x,Y)=>{const le=x.transition.ast.depCount,Pe=Y.transition.ast.depCount;return 0==le||0==Pe?le-Pe:this._engine.driver.containsElement(x.element,Y.element)?1:-1})}destroy(y){this.players.forEach(E=>E.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,y)}}class ls{_onRemovalComplete(y,E){this.onRemovalComplete(y,E)}constructor(y,E,x){this.bodyNode=y,this.driver=E,this._normalizer=x,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(Y,le)=>{}}get queuedPlayers(){const y=[];return this._namespaceList.forEach(E=>{E.players.forEach(x=>{x.queued&&y.push(x)})}),y}createNamespace(y,E){const x=new Hs(y,E,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,E)?this._balanceNamespaceList(x,E):(this.newHostElements.set(E,x),this.collectEnterElement(E)),this._namespaceLookup[y]=x}_balanceNamespaceList(y,E){const x=this._namespaceList,Y=this.namespacesByHostElement;if(x.length-1>=0){let Pe=!1,_=this.driver.getParentElement(E);for(;_;){const k=Y.get(_);if(k){const P=x.indexOf(k);x.splice(P+1,0,y),Pe=!0;break}_=this.driver.getParentElement(_)}Pe||x.unshift(y)}else x.push(y);return Y.set(E,y),y}register(y,E){let x=this._namespaceLookup[y];return x||(x=this.createNamespace(y,E)),x}registerTrigger(y,E,x){let Y=this._namespaceLookup[y];Y&&Y.register(E,x)&&this.totalAnimations++}destroy(y,E){y&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const x=this._fetchNamespace(y);this.namespacesByHostElement.delete(x.hostElement);const Y=this._namespaceList.indexOf(x);Y>=0&&this._namespaceList.splice(Y,1),x.destroy(E),delete this._namespaceLookup[y]}))}_fetchNamespace(y){return this._namespaceLookup[y]}fetchNamespacesByElement(y){const E=new Set,x=this.statesByElement.get(y);if(x)for(let Y of x.values())if(Y.namespaceId){const le=this._fetchNamespace(Y.namespaceId);le&&E.add(le)}return E}trigger(y,E,x,Y){if(li(E)){const le=this._fetchNamespace(y);if(le)return le.trigger(E,x,Y),!0}return!1}insertNode(y,E,x,Y){if(!li(E))return;const le=E[vs];if(le&&le.setForRemoval){le.setForRemoval=!1,le.setForMove=!0;const Pe=this.collectedLeaveElements.indexOf(E);Pe>=0&&this.collectedLeaveElements.splice(Pe,1)}if(y){const Pe=this._fetchNamespace(y);Pe&&Pe.insertNode(E,x)}Y&&this.collectEnterElement(E)}collectEnterElement(y){this.collectedEnterElements.push(y)}markElementAsDisabled(y,E){E?this.disabledNodes.has(y)||(this.disabledNodes.add(y),Ai(y,ys)):this.disabledNodes.has(y)&&(this.disabledNodes.delete(y),So(y,ys))}removeNode(y,E,x){if(li(E)){const Y=y?this._fetchNamespace(y):null;Y?Y.removeNode(E,x):this.markElementAsRemoved(y,E,!1,x);const le=this.namespacesByHostElement.get(E);le&&le.id!==y&&le.removeNode(E,x)}else this._onRemovalComplete(E,x)}markElementAsRemoved(y,E,x,Y,le){this.collectedLeaveElements.push(E),E[vs]={namespaceId:y,setForRemoval:Y,hasAnimation:x,removedBeforeQueried:!1,previousTriggersValues:le}}listen(y,E,x,Y,le){return li(E)?this._fetchNamespace(y).listen(E,x,Y,le):()=>{}}_buildInstruction(y,E,x,Y,le){return y.transition.build(this.driver,y.element,y.fromState.value,y.toState.value,x,Y,y.fromState.options,y.toState.options,E,le)}destroyInnerAnimations(y){let E=this.driver.query(y,_t,!0);E.forEach(x=>this.destroyActiveAnimationsForElement(x)),0!=this.playersByQueriedElement.size&&(E=this.driver.query(y,Zt,!0),E.forEach(x=>this.finishActiveQueriedAnimationOnElement(x)))}destroyActiveAnimationsForElement(y){const E=this.playersByElement.get(y);E&&E.forEach(x=>{x.queued?x.markedForDestroy=!0:x.destroy()})}finishActiveQueriedAnimationOnElement(y){const E=this.playersByQueriedElement.get(y);E&&E.forEach(x=>x.finish())}whenRenderingDone(){return new Promise(y=>{if(this.players.length)return De(this.players).onDone(()=>y());y()})}processLeaveNode(y){const E=y[vs];if(E&&E.setForRemoval){if(y[vs]=as,E.namespaceId){this.destroyInnerAnimations(y);const x=this._fetchNamespace(E.namespaceId);x&&x.clearElementCache(y)}this._onRemovalComplete(y,E.setForRemoval)}y.classList?.contains(ys)&&this.markElementAsDisabled(y,!1),this.driver.query(y,".ng-animate-disabled",!0).forEach(x=>{this.markElementAsDisabled(x,!1)})}flush(y=-1){let E=[];if(this.newHostElements.size&&(this.newHostElements.forEach((x,Y)=>this._balanceNamespaceList(x,Y)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let x=0;x<this.collectedEnterElements.length;x++)Ai(this.collectedEnterElements[x],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const x=[];try{E=this._flushAnimations(x,y)}finally{for(let Y=0;Y<x.length;Y++)x[Y]()}}else for(let x=0;x<this.collectedLeaveElements.length;x++)this.processLeaveNode(this.collectedLeaveElements[x]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(x=>x()),this._flushFns=[],this._whenQuietFns.length){const x=this._whenQuietFns;this._whenQuietFns=[],E.length?De(E).onDone(()=>{x.forEach(Y=>Y())}):x.forEach(Y=>Y())}}reportError(y){throw function Zn(Z){return new b.vHH(3402,!1)}()}_flushAnimations(y,E){const x=new Oi,Y=[],le=new Map,Pe=[],_=new Map,k=new Map,P=new Map,F=new Set;this.disabledNodes.forEach($t=>{F.add($t);const yn=this.driver.query($t,".ng-animate-queued",!0);for(let Pn=0;Pn<yn.length;Pn++)F.add(yn[Pn])});const ce=this.bodyNode,Ue=Array.from(this.statesByElement.keys()),Ke=js(Ue,this.collectedEnterElements),ft=new Map;let jt=0;Ke.forEach(($t,yn)=>{const Pn=Le+jt++;ft.set(yn,Pn),$t.forEach(Kn=>Ai(Kn,Pn))});const en=[],fn=new Set,tn=new Set;for(let $t=0;$t<this.collectedLeaveElements.length;$t++){const yn=this.collectedLeaveElements[$t],Pn=yn[vs];Pn&&Pn.setForRemoval&&(en.push(yn),fn.add(yn),Pn.hasAnimation?this.driver.query(yn,".ng-star-inserted",!0).forEach(Kn=>fn.add(Kn)):tn.add(yn))}const Un=new Map,pn=js(Ue,Array.from(fn));pn.forEach(($t,yn)=>{const Pn=ot+jt++;Un.set(yn,Pn),$t.forEach(Kn=>Ai(Kn,Pn))}),y.push(()=>{Ke.forEach(($t,yn)=>{const Pn=ft.get(yn);$t.forEach(Kn=>So(Kn,Pn))}),pn.forEach(($t,yn)=>{const Pn=Un.get(yn);$t.forEach(Kn=>So(Kn,Pn))}),en.forEach($t=>{this.processLeaveNode($t)})});const jn=[],Wr=[];for(let $t=this._namespaceList.length-1;$t>=0;$t--)this._namespaceList[$t].drainQueuedTransitions(E).forEach(Pn=>{const Kn=Pn.player,br=Pn.element;if(jn.push(Kn),this.collectedEnterElements.length){const ci=br[vs];if(ci&&ci.setForMove){if(ci.previousTriggersValues&&ci.previousTriggersValues.has(Pn.triggerName)){const Fo=ci.previousTriggersValues.get(Pn.triggerName),pt=this.statesByElement.get(Pn.element);if(pt&&pt.has(Pn.triggerName)){const kr=pt.get(Pn.triggerName);kr.value=Fo,pt.set(Pn.triggerName,kr)}}return void Kn.destroy()}}const qr=!ce||!this.driver.containsElement(ce,br),Kr=Un.get(br),Gs=ft.get(br),Rn=this._buildInstruction(Pn,x,Gs,Kr,qr);if(Rn.errors&&Rn.errors.length)return void Wr.push(Rn);if(qr)return Kn.onStart(()=>sn(br,Rn.fromStyles)),Kn.onDestroy(()=>wt(br,Rn.toStyles)),void Y.push(Kn);if(Pn.isFallbackTransition)return Kn.onStart(()=>sn(br,Rn.fromStyles)),Kn.onDestroy(()=>wt(br,Rn.toStyles)),void Y.push(Kn);const ko=[];Rn.timelines.forEach(ci=>{ci.stretchStartingKeyframe=!0,this.disabledNodes.has(ci.element)||ko.push(ci)}),Rn.timelines=ko,x.append(br,Rn.timelines),Pe.push({instruction:Rn,player:Kn,element:br}),Rn.queriedElements.forEach(ci=>cn(_,ci,[]).push(Kn)),Rn.preStyleProps.forEach((ci,Fo)=>{if(ci.size){let pt=k.get(Fo);pt||k.set(Fo,pt=new Set),ci.forEach((kr,Yt)=>pt.add(Yt))}}),Rn.postStyleProps.forEach((ci,Fo)=>{let pt=P.get(Fo);pt||P.set(Fo,pt=new Set),ci.forEach((kr,Yt)=>pt.add(Yt))})});if(Wr.length){const $t=[];Wr.forEach(yn=>{$t.push(function Ye(Z,y){return new b.vHH(3505,!1)}())}),jn.forEach(yn=>yn.destroy()),this.reportError($t)}const Cr=new Map,ui=new Map;Pe.forEach($t=>{const yn=$t.element;x.has(yn)&&(ui.set(yn,yn),this._beforeAnimationBuild($t.player.namespaceId,$t.instruction,Cr))}),Y.forEach($t=>{const yn=$t.element;this._getPreviousPlayers(yn,!1,$t.namespaceId,$t.triggerName,null).forEach(Kn=>{cn(Cr,yn,[]).push(Kn),Kn.destroy()})});const ni=en.filter($t=>G($t,k,P)),Nr=new Map;Go(Nr,this.driver,tn,P,fe.l3).forEach($t=>{G($t,k,P)&&ni.push($t)});const Ui=new Map;Ke.forEach(($t,yn)=>{Go(Ui,this.driver,new Set($t),k,fe.k1)}),ni.forEach($t=>{const yn=Nr.get($t),Pn=Ui.get($t);Nr.set($t,new Map([...yn?.entries()??[],...Pn?.entries()??[]]))});const fr=[],oa=[],No={};Pe.forEach($t=>{const{element:yn,player:Pn,instruction:Kn}=$t;if(x.has(yn)){if(F.has(yn))return Pn.onDestroy(()=>wt(yn,Kn.toStyles)),Pn.disabled=!0,Pn.overrideTotalTime(Kn.totalTime),void Y.push(Pn);let br=No;if(ui.size>1){let Kr=yn;const Gs=[];for(;Kr=Kr.parentNode;){const Rn=ui.get(Kr);if(Rn){br=Rn;break}Gs.push(Kr)}Gs.forEach(Rn=>ui.set(Rn,br))}const qr=this._buildAnimation(Pn.namespaceId,Kn,Cr,le,Ui,Nr);if(Pn.setRealPlayer(qr),br===No)fr.push(Pn);else{const Kr=this.playersByElement.get(br);Kr&&Kr.length&&(Pn.parentPlayer=De(Kr)),Y.push(Pn)}}else sn(yn,Kn.fromStyles),Pn.onDestroy(()=>wt(yn,Kn.toStyles)),oa.push(Pn),F.has(yn)&&Y.push(Pn)}),oa.forEach($t=>{const yn=le.get($t.element);if(yn&&yn.length){const Pn=De(yn);$t.setRealPlayer(Pn)}}),Y.forEach($t=>{$t.parentPlayer?$t.syncPlayerEvents($t.parentPlayer):$t.destroy()});for(let $t=0;$t<en.length;$t++){const yn=en[$t],Pn=yn[vs];if(So(yn,ot),Pn&&Pn.hasAnimation)continue;let Kn=[];if(_.size){let qr=_.get(yn);qr&&qr.length&&Kn.push(...qr);let Kr=this.driver.query(yn,Zt,!0);for(let Gs=0;Gs<Kr.length;Gs++){let Rn=_.get(Kr[Gs]);Rn&&Rn.length&&Kn.push(...Rn)}}const br=Kn.filter(qr=>!qr.destroyed);br.length?Ia(this,yn,br):this.processLeaveNode(yn)}return en.length=0,fr.forEach($t=>{this.players.push($t),$t.onDone(()=>{$t.destroy();const yn=this.players.indexOf($t);this.players.splice(yn,1)}),$t.play()}),fr}afterFlush(y){this._flushFns.push(y)}afterFlushAnimationsDone(y){this._whenQuietFns.push(y)}_getPreviousPlayers(y,E,x,Y,le){let Pe=[];if(E){const _=this.playersByQueriedElement.get(y);_&&(Pe=_)}else{const _=this.playersByElement.get(y);if(_){const k=!le||le==Br;_.forEach(P=>{P.queued||!k&&P.triggerName!=Y||Pe.push(P)})}}return(x||Y)&&(Pe=Pe.filter(_=>!(x&&x!=_.namespaceId||Y&&Y!=_.triggerName))),Pe}_beforeAnimationBuild(y,E,x){const le=E.element,Pe=E.isRemovalTransition?void 0:y,_=E.isRemovalTransition?void 0:E.triggerName;for(const k of E.timelines){const P=k.element,F=P!==le,ce=cn(x,P,[]);this._getPreviousPlayers(P,F,Pe,_,E.toState).forEach(Ke=>{const ft=Ke.getRealPlayer();ft.beforeDestroy&&ft.beforeDestroy(),Ke.destroy(),ce.push(Ke)})}sn(le,E.fromStyles)}_buildAnimation(y,E,x,Y,le,Pe){const _=E.triggerName,k=E.element,P=[],F=new Set,ce=new Set,Ue=E.timelines.map(ft=>{const jt=ft.element;F.add(jt);const en=jt[vs];if(en&&en.removedBeforeQueried)return new fe.ZN(ft.duration,ft.delay);const fn=jt!==k,tn=function lr(Z){const y=[];return As(Z,y),y}((x.get(jt)||pi).map(Cr=>Cr.getRealPlayer())).filter(Cr=>!!Cr.element&&Cr.element===jt),Un=le.get(jt),pn=Pe.get(jt),jn=Ge(this._normalizer,ft.keyframes,Un,pn),Wr=this._buildPlayer(ft,jn,tn);if(ft.subTimeline&&Y&&ce.add(jt),fn){const Cr=new us(y,_,jt);Cr.setRealPlayer(Wr),P.push(Cr)}return Wr});P.forEach(ft=>{cn(this.playersByQueriedElement,ft.element,[]).push(ft),ft.onDone(()=>function bo(Z,y,E){let x=Z.get(y);if(x){if(x.length){const Y=x.indexOf(E);x.splice(Y,1)}0==x.length&&Z.delete(y)}return x}(this.playersByQueriedElement,ft.element,ft))}),F.forEach(ft=>Ai(ft,rn));const Ke=De(Ue);return Ke.onDestroy(()=>{F.forEach(ft=>So(ft,rn)),wt(k,E.toStyles)}),ce.forEach(ft=>{cn(Y,ft,[]).push(Ke)}),Ke}_buildPlayer(y,E,x){return E.length>0?this.driver.animate(y.element,E,y.duration,y.delay,y.easing,x):new fe.ZN(y.duration,y.delay)}}class us{constructor(y,E,x){this.namespaceId=y,this.triggerName=E,this.element=x,this._player=new fe.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(y){this._containsRealPlayer||(this._player=y,this._queuedCallbacks.forEach((E,x)=>{E.forEach(Y=>at(y,x,void 0,Y))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(y.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(y){this.totalTime=y}syncPlayerEvents(y){const E=this._player;E.triggerCallback&&y.onStart(()=>E.triggerCallback("start")),y.onDone(()=>this.finish()),y.onDestroy(()=>this.destroy())}_queueEvent(y,E){cn(this._queuedCallbacks,y,[]).push(E)}onDone(y){this.queued&&this._queueEvent("done",y),this._player.onDone(y)}onStart(y){this.queued&&this._queueEvent("start",y),this._player.onStart(y)}onDestroy(y){this.queued&&this._queueEvent("destroy",y),this._player.onDestroy(y)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(y){this.queued||this._player.setPosition(y)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(y){const E=this._player;E.triggerCallback&&E.triggerCallback(y)}}function li(Z){return Z&&1===Z.nodeType}function va(Z,y){const E=Z.style.display;return Z.style.display=y??"none",E}function Go(Z,y,E,x,Y){const le=[];E.forEach(k=>le.push(va(k)));const Pe=[];x.forEach((k,P)=>{const F=new Map;k.forEach(ce=>{const Ue=y.computeStyle(P,ce,Y);F.set(ce,Ue),(!Ue||0==Ue.length)&&(P[vs]=ai,Pe.push(P))}),Z.set(P,F)});let _=0;return E.forEach(k=>va(k,le[_++])),Pe}function js(Z,y){const E=new Map;if(Z.forEach(_=>E.set(_,[])),0==y.length)return E;const Y=new Set(y),le=new Map;function Pe(_){if(!_)return 1;let k=le.get(_);if(k)return k;const P=_.parentNode;return k=E.has(P)?P:Y.has(P)?1:Pe(P),le.set(_,k),k}return y.forEach(_=>{const k=Pe(_);1!==k&&E.get(k).push(_)}),E}function Ai(Z,y){Z.classList?.add(y)}function So(Z,y){Z.classList?.remove(y)}function Ia(Z,y,E){De(E).onDone(()=>Z.processLeaveNode(y))}function As(Z,y){for(let E=0;E<Z.length;E++){const x=Z[E];x instanceof fe.ZE?As(x.players,y):y.push(x)}}function G(Z,y,E){const x=E.get(Z);if(!x)return!1;let Y=y.get(Z);return Y?x.forEach(le=>Y.add(le)):y.set(Z,x),E.delete(Z),!0}class K{constructor(y,E,x){this.bodyNode=y,this._driver=E,this._normalizer=x,this._triggerCache={},this.onRemovalComplete=(Y,le)=>{},this._transitionEngine=new ls(y,E,x),this._timelineEngine=new Wi(y,E,x),this._transitionEngine.onRemovalComplete=(Y,le)=>this.onRemovalComplete(Y,le)}registerTrigger(y,E,x,Y,le){const Pe=y+"-"+Y;let _=this._triggerCache[Pe];if(!_){const k=[],F=zo(this._driver,le,k,[]);if(k.length)throw function Vt(Z,y){return new b.vHH(3404,!1)}();_=function Bs(Z,y,E){return new hr(Z,y,E)}(Y,F,this._normalizer),this._triggerCache[Pe]=_}this._transitionEngine.registerTrigger(E,Y,_)}register(y,E){this._transitionEngine.register(y,E)}destroy(y,E){this._transitionEngine.destroy(y,E)}onInsert(y,E,x,Y){this._transitionEngine.insertNode(y,E,x,Y)}onRemove(y,E,x){this._transitionEngine.removeNode(y,E,x)}disableAnimations(y,E){this._transitionEngine.markElementAsDisabled(y,E)}process(y,E,x,Y){if("@"==x.charAt(0)){const[le,Pe]=wn(x);this._timelineEngine.command(le,E,Pe,Y)}else this._transitionEngine.trigger(y,E,x,Y)}listen(y,E,x,Y,le){if("@"==x.charAt(0)){const[Pe,_]=wn(x);return this._timelineEngine.listen(Pe,E,_,le)}return this._transitionEngine.listen(y,E,x,Y,le)}flush(y=-1){this._transitionEngine.flush(y)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(y){this._transitionEngine.afterFlushAnimationsDone(y)}}let se=(()=>{class Z{static#e=this.initialStylesByElement=new WeakMap;constructor(E,x,Y){this._element=E,this._startStyles=x,this._endStyles=Y,this._state=0;let le=Z.initialStylesByElement.get(E);le||Z.initialStylesByElement.set(E,le=new Map),this._initialStyles=le}start(){this._state<1&&(this._startStyles&&wt(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(wt(this._element,this._initialStyles),this._endStyles&&(wt(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Z.initialStylesByElement.delete(this._element),this._startStyles&&(sn(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(sn(this._element,this._endStyles),this._endStyles=null),wt(this._element,this._initialStyles),this._state=3)}}return Z})();function be(Z){let y=null;return Z.forEach((E,x)=>{(function Jt(Z){return"display"===Z||"position"===Z})(x)&&(y=y||new Map,y.set(x,E))}),y}class Tn{constructor(y,E,x,Y){this.element=y,this.keyframes=E,this.options=x,this._specialStyles=Y,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=x.duration,this._delay=x.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(y=>y()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const y=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,y,this.options),this._finalKeyframe=y.length?y[y.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(y){const E=[];return y.forEach(x=>{E.push(Object.fromEntries(x))}),E}_triggerWebAnimation(y,E,x){return y.animate(this._convertKeyframesToObject(E),x)}onStart(y){this._originalOnStartFns.push(y),this._onStartFns.push(y)}onDone(y){this._originalOnDoneFns.push(y),this._onDoneFns.push(y)}onDestroy(y){this._onDestroyFns.push(y)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(y=>y()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(y=>y()),this._onDestroyFns=[])}setPosition(y){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=y*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const y=new Map;this.hasStarted()&&this._finalKeyframe.forEach((x,Y)=>{"offset"!==Y&&y.set(Y,this._finished?x:ji(this.element,Y))}),this.currentSnapshot=y}triggerCallback(y){const E="start"===y?this._onStartFns:this._onDoneFns;E.forEach(x=>x()),E.length=0}}class Li{validateStyleProperty(y){return!0}validateAnimatableStyleProperty(y){return!0}matchesElement(y,E){return!1}containsElement(y,E){return Tr(y,E)}getParentElement(y){return Qr(y)}query(y,E,x){return Xr(y,E,x)}computeStyle(y,E,x){return window.getComputedStyle(y)[E]}animate(y,E,x,Y,le,Pe=[]){const k={duration:x,delay:Y,fill:0==Y?"both":"forwards"};le&&(k.easing=le);const P=new Map,F=Pe.filter(Ke=>Ke instanceof Tn);(function Fn(Z,y){return 0===Z||0===y})(x,Y)&&F.forEach(Ke=>{Ke.currentSnapshot.forEach((ft,jt)=>P.set(jt,ft))});let ce=function Be(Z){return Z.length?Z[0]instanceof Map?Z:Z.map(y=>we(y)):[]}(E).map(Ke=>mt(Ke));ce=function rs(Z,y,E){if(E.size&&y.length){let x=y[0],Y=[];if(E.forEach((le,Pe)=>{x.has(Pe)||Y.push(Pe),x.set(Pe,le)}),Y.length)for(let le=1;le<y.length;le++){let Pe=y[le];Y.forEach(_=>Pe.set(_,ji(Z,_)))}}return y}(y,ce,P);const Ue=function O(Z,y){let E=null,x=null;return Array.isArray(y)&&y.length?(E=be(y[0]),y.length>1&&(x=be(y[y.length-1]))):y instanceof Map&&(E=be(y)),E||x?new se(Z,E,x):null}(y,ce);return new Tn(y,ce,k,Ue)}}let Ss=(()=>{class Z extends fe._j{constructor(E,x){super(),this._nextAnimationId=0,this._renderer=E.createRenderer(x.body,{id:"0",encapsulation:b.ifc.None,styles:[],data:{animation:[]}})}build(E){const x=this._nextAnimationId.toString();this._nextAnimationId++;const Y=Array.isArray(E)?(0,fe.vP)(E):E;return Vi(this._renderer,null,x,"register",[Y]),new Fi(x,this._renderer)}static#e=this.\u0275fac=function(x){return new(x||Z)(b.LFG(b.FYo),b.LFG($.K0))};static#t=this.\u0275prov=b.Yz7({token:Z,factory:Z.\u0275fac})}return Z})();class Fi extends fe.LC{constructor(y,E){super(),this._id=y,this._renderer=E}create(y,E){return new Yi(this._id,y,E||{},this._renderer)}}class Yi{constructor(y,E,x,Y){this.id=y,this.element=E,this._renderer=Y,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",x)}_listen(y,E){return this._renderer.listen(this.element,`@@${this.id}:${y}`,E)}_command(y,...E){return Vi(this._renderer,this.element,this.id,y,E)}onDone(y){this._listen("done",y)}onStart(y){this._listen("start",y)}onDestroy(y){this._listen("destroy",y)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(y){this._command("setPosition",y)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Vi(Z,y,E,x,Y){return Z.setProperty(y,`@@${E}:${x}`,Y)}const oo="@.disabled";let Pr=(()=>{class Z{constructor(E,x,Y){this.delegate=E,this.engine=x,this._zone=Y,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,x.onRemovalComplete=(le,Pe)=>{const _=Pe?.parentNode(le);_&&Pe.removeChild(_,le)}}createRenderer(E,x){const le=this.delegate.createRenderer(E,x);if(!(E&&x&&x.data&&x.data.animation)){let F=this._rendererCache.get(le);return F||(F=new _o("",le,this.engine,()=>this._rendererCache.delete(le)),this._rendererCache.set(le,F)),F}const Pe=x.id,_=x.id+"-"+this._currentId;this._currentId++,this.engine.register(_,E);const k=F=>{Array.isArray(F)?F.forEach(k):this.engine.registerTrigger(Pe,_,E,F.name,F)};return x.data.animation.forEach(k),new Si(this,_,le,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(E,x,Y){E>=0&&E<this._microtaskId?this._zone.run(()=>x(Y)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(le=>{const[Pe,_]=le;Pe(_)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([x,Y]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(x){return new(x||Z)(b.LFG(b.FYo),b.LFG(K),b.LFG(b.R0b))};static#t=this.\u0275prov=b.Yz7({token:Z,factory:Z.\u0275fac})}return Z})();class _o{constructor(y,E,x,Y){this.namespaceId=y,this.delegate=E,this.engine=x,this._onDestroy=Y}get data(){return this.delegate.data}destroyNode(y){this.delegate.destroyNode?.(y)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(y,E){return this.delegate.createElement(y,E)}createComment(y){return this.delegate.createComment(y)}createText(y){return this.delegate.createText(y)}appendChild(y,E){this.delegate.appendChild(y,E),this.engine.onInsert(this.namespaceId,E,y,!1)}insertBefore(y,E,x,Y=!0){this.delegate.insertBefore(y,E,x),this.engine.onInsert(this.namespaceId,E,y,Y)}removeChild(y,E,x){this.engine.onRemove(this.namespaceId,E,this.delegate)}selectRootElement(y,E){return this.delegate.selectRootElement(y,E)}parentNode(y){return this.delegate.parentNode(y)}nextSibling(y){return this.delegate.nextSibling(y)}setAttribute(y,E,x,Y){this.delegate.setAttribute(y,E,x,Y)}removeAttribute(y,E,x){this.delegate.removeAttribute(y,E,x)}addClass(y,E){this.delegate.addClass(y,E)}removeClass(y,E){this.delegate.removeClass(y,E)}setStyle(y,E,x,Y){this.delegate.setStyle(y,E,x,Y)}removeStyle(y,E,x){this.delegate.removeStyle(y,E,x)}setProperty(y,E,x){"@"==E.charAt(0)&&E==oo?this.disableAnimations(y,!!x):this.delegate.setProperty(y,E,x)}setValue(y,E){this.delegate.setValue(y,E)}listen(y,E,x){return this.delegate.listen(y,E,x)}disableAnimations(y,E){this.engine.disableAnimations(y,E)}}class Si extends _o{constructor(y,E,x,Y,le){super(E,x,Y,le),this.factory=y,this.namespaceId=E}setProperty(y,E,x){"@"==E.charAt(0)?"."==E.charAt(1)&&E==oo?this.disableAnimations(y,x=void 0===x||!!x):this.engine.process(this.namespaceId,y,E.slice(1),x):this.delegate.setProperty(y,E,x)}listen(y,E,x){if("@"==E.charAt(0)){const Y=function Po(Z){switch(Z){case"body":return document.body;case"document":return document;case"window":return window;default:return Z}}(y);let le=E.slice(1),Pe="";return"@"!=le.charAt(0)&&([le,Pe]=function Wo(Z){const y=Z.indexOf(".");return[Z.substring(0,y),Z.slice(y+1)]}(le)),this.engine.listen(this.namespaceId,Y,le,Pe,_=>{this.factory.scheduleListenerCallback(_._data||-1,x,_)})}return this.delegate.listen(y,E,x)}}const Ro=[{provide:fe._j,useClass:Ss},{provide:ar,useFactory:function qo(){return new on}},{provide:K,useClass:(()=>{class Z extends K{constructor(E,x,Y,le){super(E.body,x,Y)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(x){return new(x||Z)(b.LFG($.K0),b.LFG(j),b.LFG(ar),b.LFG(b.z2F))};static#t=this.\u0275prov=b.Yz7({token:Z,factory:Z.\u0275fac})}return Z})()},{provide:b.FYo,useFactory:function Ps(Z,y,E){return new Pr(Z,y,E)},deps:[p.se,K,b.R0b]}],Is=[{provide:j,useFactory:()=>new Li},{provide:b.QbO,useValue:"BrowserAnimations"},...Ro],yo=[{provide:j,useClass:re},{provide:b.QbO,useValue:"NoopAnimations"},...Ro];let Ea=(()=>{class Z{static withConfig(E){return{ngModule:Z,providers:E.disableAnimations?yo:Is}}static#e=this.\u0275fac=function(x){return new(x||Z)};static#t=this.\u0275mod=b.oAB({type:Z});static#n=this.\u0275inj=b.cJS({providers:Is,imports:[p.b2]})}return Z})();var vo=U(7217),zs=U(7213),Oo=U(553),ol=U(336),Ko=U(5124),Hl=U(4532),al=U(8516),Rs=U(3714),jl=U(734);let Ua=(()=>{class Z{static#e=this.\u0275fac=function(x){return new(x||Z)};static#t=this.\u0275mod=b.oAB({type:Z,bootstrap:[Ce]});static#n=this.\u0275inj=b.cJS({providers:[{provide:$.S$,useClass:$.Do}],imports:[p.b2,ge,ve.JF,ee.u5,Ea,Hl.d,vo.hO.initializeApp(Oo.N.firebase),zs.ww,ol.hJ,Ko.nD,al.W6,Rs.j,jl.y]})}return Z})();p.q6().bootstrapModule(Ua).catch(Z=>console.error(Z))},5619:(xt,je,U)=>{U.d(je,{X:()=>V});var p=U(8645);class V extends p.x{constructor(Te){super(),this._value=Te}get value(){return this.getValue()}_subscribe(Te){const $=super._subscribe(Te);return!$.closed&&Te.next(this._value),$}getValue(){const{hasError:Te,thrownError:$,_value:J}=this;if(Te)throw $;return this._throwIfClosed(),J}next(Te){super.next(this._value=Te)}}},5592:(xt,je,U)=>{U.d(je,{y:()=>ue});var p=U(305),V=U(7394),b=U(4850),Te=U(8407),$=U(2653),J=U(4674),q=U(1441);let ue=(()=>{class Ee{constructor(Ze){Ze&&(this._subscribe=Ze)}lift(Ze){const ut=new Ee;return ut.source=this,ut.operator=Ze,ut}subscribe(Ze,ut,Xe){const nt=function oe(Ee){return Ee&&Ee instanceof p.Lv||function ee(Ee){return Ee&&(0,J.m)(Ee.next)&&(0,J.m)(Ee.error)&&(0,J.m)(Ee.complete)}(Ee)&&(0,V.Nn)(Ee)}(Ze)?Ze:new p.Hp(Ze,ut,Xe);return(0,q.x)(()=>{const{operator:rt,source:Ct}=this;nt.add(rt?rt.call(nt,Ct):Ct?this._subscribe(nt):this._trySubscribe(nt))}),nt}_trySubscribe(Ze){try{return this._subscribe(Ze)}catch(ut){Ze.error(ut)}}forEach(Ze,ut){return new(ut=de(ut))((Xe,nt)=>{const rt=new p.Hp({next:Ct=>{try{Ze(Ct)}catch(ct){nt(ct),rt.unsubscribe()}},error:nt,complete:Xe});this.subscribe(rt)})}_subscribe(Ze){var ut;return null===(ut=this.source)||void 0===ut?void 0:ut.subscribe(Ze)}[b.L](){return this}pipe(...Ze){return(0,Te.U)(Ze)(this)}toPromise(Ze){return new(Ze=de(Ze))((ut,Xe)=>{let nt;this.subscribe(rt=>nt=rt,rt=>Xe(rt),()=>ut(nt))})}}return Ee.create=ze=>new Ee(ze),Ee})();function de(Ee){var ze;return null!==(ze=Ee??$.config.Promise)&&void 0!==ze?ze:Promise}},8645:(xt,je,U)=>{U.d(je,{x:()=>q});var p=U(5592),V=U(7394);const Te=(0,U(2306).d)(de=>function(){de(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var $=U(9039),J=U(1441);let q=(()=>{class de extends p.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(oe){const Ee=new ue(this,this);return Ee.operator=oe,Ee}_throwIfClosed(){if(this.closed)throw new Te}next(oe){(0,J.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Ee of this.currentObservers)Ee.next(oe)}})}error(oe){(0,J.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=oe;const{observers:Ee}=this;for(;Ee.length;)Ee.shift().error(oe)}})}complete(){(0,J.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:oe}=this;for(;oe.length;)oe.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var oe;return(null===(oe=this.observers)||void 0===oe?void 0:oe.length)>0}_trySubscribe(oe){return this._throwIfClosed(),super._trySubscribe(oe)}_subscribe(oe){return this._throwIfClosed(),this._checkFinalizedStatuses(oe),this._innerSubscribe(oe)}_innerSubscribe(oe){const{hasError:Ee,isStopped:ze,observers:Ze}=this;return Ee||ze?V.Lc:(this.currentObservers=null,Ze.push(oe),new V.w0(()=>{this.currentObservers=null,(0,$.P)(Ze,oe)}))}_checkFinalizedStatuses(oe){const{hasError:Ee,thrownError:ze,isStopped:Ze}=this;Ee?oe.error(ze):Ze&&oe.complete()}asObservable(){const oe=new p.y;return oe.source=this,oe}}return de.create=(ee,oe)=>new ue(ee,oe),de})();class ue extends q{constructor(ee,oe){super(),this.destination=ee,this.source=oe}next(ee){var oe,Ee;null===(Ee=null===(oe=this.destination)||void 0===oe?void 0:oe.next)||void 0===Ee||Ee.call(oe,ee)}error(ee){var oe,Ee;null===(Ee=null===(oe=this.destination)||void 0===oe?void 0:oe.error)||void 0===Ee||Ee.call(oe,ee)}complete(){var ee,oe;null===(oe=null===(ee=this.destination)||void 0===ee?void 0:ee.complete)||void 0===oe||oe.call(ee)}_subscribe(ee){var oe,Ee;return null!==(Ee=null===(oe=this.source)||void 0===oe?void 0:oe.subscribe(ee))&&void 0!==Ee?Ee:V.Lc}}},305:(xt,je,U)=>{U.d(je,{Hp:()=>Xe,Lv:()=>Ee});var p=U(4674),V=U(7394),b=U(2653),Te=U(3894),$=U(2420);const J=de("C",void 0,void 0);function de(ae,Me,me){return{kind:ae,value:Me,error:me}}var ee=U(7599),oe=U(1441);class Ee extends V.w0{constructor(Me){super(),this.isStopped=!1,Me?(this.destination=Me,(0,V.Nn)(Me)&&Me.add(this)):this.destination=ct}static create(Me,me,ge){return new Xe(Me,me,ge)}next(Me){this.isStopped?Ct(function ue(ae){return de("N",ae,void 0)}(Me),this):this._next(Me)}error(Me){this.isStopped?Ct(function q(ae){return de("E",void 0,ae)}(Me),this):(this.isStopped=!0,this._error(Me))}complete(){this.isStopped?Ct(J,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Me){this.destination.next(Me)}_error(Me){try{this.destination.error(Me)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ze=Function.prototype.bind;function Ze(ae,Me){return ze.call(ae,Me)}class ut{constructor(Me){this.partialObserver=Me}next(Me){const{partialObserver:me}=this;if(me.next)try{me.next(Me)}catch(ge){nt(ge)}}error(Me){const{partialObserver:me}=this;if(me.error)try{me.error(Me)}catch(ge){nt(ge)}else nt(Me)}complete(){const{partialObserver:Me}=this;if(Me.complete)try{Me.complete()}catch(me){nt(me)}}}class Xe extends Ee{constructor(Me,me,ge){let Ce;if(super(),(0,p.m)(Me)||!Me)Ce={next:Me??void 0,error:me??void 0,complete:ge??void 0};else{let ve;this&&b.config.useDeprecatedNextContext?(ve=Object.create(Me),ve.unsubscribe=()=>this.unsubscribe(),Ce={next:Me.next&&Ze(Me.next,ve),error:Me.error&&Ze(Me.error,ve),complete:Me.complete&&Ze(Me.complete,ve)}):Ce=Me}this.destination=new ut(Ce)}}function nt(ae){b.config.useDeprecatedSynchronousErrorHandling?(0,oe.O)(ae):(0,Te.h)(ae)}function Ct(ae,Me){const{onStoppedNotification:me}=b.config;me&&ee.z.setTimeout(()=>me(ae,Me))}const ct={closed:!0,next:$.Z,error:function rt(ae){throw ae},complete:$.Z}},7394:(xt,je,U)=>{U.d(je,{Lc:()=>J,w0:()=>$,Nn:()=>q});var p=U(4674);const b=(0,U(2306).d)(de=>function(oe){de(this),this.message=oe?`${oe.length} errors occurred during unsubscription:\n${oe.map((Ee,ze)=>`${ze+1}) ${Ee.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=oe});var Te=U(9039);class ${constructor(ee){this.initialTeardown=ee,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ee;if(!this.closed){this.closed=!0;const{_parentage:oe}=this;if(oe)if(this._parentage=null,Array.isArray(oe))for(const Ze of oe)Ze.remove(this);else oe.remove(this);const{initialTeardown:Ee}=this;if((0,p.m)(Ee))try{Ee()}catch(Ze){ee=Ze instanceof b?Ze.errors:[Ze]}const{_finalizers:ze}=this;if(ze){this._finalizers=null;for(const Ze of ze)try{ue(Ze)}catch(ut){ee=ee??[],ut instanceof b?ee=[...ee,...ut.errors]:ee.push(ut)}}if(ee)throw new b(ee)}}add(ee){var oe;if(ee&&ee!==this)if(this.closed)ue(ee);else{if(ee instanceof $){if(ee.closed||ee._hasParent(this))return;ee._addParent(this)}(this._finalizers=null!==(oe=this._finalizers)&&void 0!==oe?oe:[]).push(ee)}}_hasParent(ee){const{_parentage:oe}=this;return oe===ee||Array.isArray(oe)&&oe.includes(ee)}_addParent(ee){const{_parentage:oe}=this;this._parentage=Array.isArray(oe)?(oe.push(ee),oe):oe?[oe,ee]:ee}_removeParent(ee){const{_parentage:oe}=this;oe===ee?this._parentage=null:Array.isArray(oe)&&(0,Te.P)(oe,ee)}remove(ee){const{_finalizers:oe}=this;oe&&(0,Te.P)(oe,ee),ee instanceof $&&ee._removeParent(this)}}$.EMPTY=(()=>{const de=new $;return de.closed=!0,de})();const J=$.EMPTY;function q(de){return de instanceof $||de&&"closed"in de&&(0,p.m)(de.remove)&&(0,p.m)(de.add)&&(0,p.m)(de.unsubscribe)}function ue(de){(0,p.m)(de)?de():de.unsubscribe()}},2653:(xt,je,U)=>{U.d(je,{config:()=>p});const p={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},5211:(xt,je,U)=>{U.d(je,{z:()=>$});var p=U(7537),b=U(4564),Te=U(2459);function $(...J){return function V(){return(0,p.J)(1)}()((0,Te.D)(J,(0,b.yG)(J)))}},6232:(xt,je,U)=>{U.d(je,{E:()=>V});const V=new(U(5592).y)($=>$.complete())},2459:(xt,je,U)=>{U.d(je,{D:()=>Me});var p=U(4829),V=U(3093),b=U(5137),J=U(5592),ue=U(4971),de=U(4674),ee=U(7103);function Ee(me,ge){if(!me)throw new Error("Iterable cannot be null");return new J.y(Ce=>{(0,ee.f)(Ce,ge,()=>{const ve=me[Symbol.asyncIterator]();(0,ee.f)(Ce,ge,()=>{ve.next().then(fe=>{fe.done?Ce.complete():Ce.next(fe.value)})},0,!0)})})}var ze=U(8382),Ze=U(4026),ut=U(4266),Xe=U(3664),nt=U(5726),rt=U(9853),Ct=U(541);function Me(me,ge){return ge?function ae(me,ge){if(null!=me){if((0,ze.c)(me))return function Te(me,ge){return(0,p.Xf)(me).pipe((0,b.R)(ge),(0,V.Q)(ge))}(me,ge);if((0,ut.z)(me))return function q(me,ge){return new J.y(Ce=>{let ve=0;return ge.schedule(function(){ve===me.length?Ce.complete():(Ce.next(me[ve++]),Ce.closed||this.schedule())})})}(me,ge);if((0,Ze.t)(me))return function $(me,ge){return(0,p.Xf)(me).pipe((0,b.R)(ge),(0,V.Q)(ge))}(me,ge);if((0,nt.D)(me))return Ee(me,ge);if((0,Xe.T)(me))return function oe(me,ge){return new J.y(Ce=>{let ve;return(0,ee.f)(Ce,ge,()=>{ve=me[ue.h](),(0,ee.f)(Ce,ge,()=>{let fe,lt;try{({value:fe,done:lt}=ve.next())}catch(bt){return void Ce.error(bt)}lt?Ce.complete():Ce.next(fe)},0,!0)}),()=>(0,de.m)(ve?.return)&&ve.return()})}(me,ge);if((0,Ct.L)(me))return function ct(me,ge){return Ee((0,Ct.Q)(me),ge)}(me,ge)}throw(0,rt.z)(me)}(me,ge):(0,p.Xf)(me)}},4829:(xt,je,U)=>{U.d(je,{Xf:()=>ze});var p=U(7582),V=U(4266),b=U(4026),Te=U(5592),$=U(8382),J=U(5726),q=U(9853),ue=U(3664),de=U(541),ee=U(4674),oe=U(3894),Ee=U(4850);function ze(ae){if(ae instanceof Te.y)return ae;if(null!=ae){if((0,$.c)(ae))return function Ze(ae){return new Te.y(Me=>{const me=ae[Ee.L]();if((0,ee.m)(me.subscribe))return me.subscribe(Me);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ae);if((0,V.z)(ae))return function ut(ae){return new Te.y(Me=>{for(let me=0;me<ae.length&&!Me.closed;me++)Me.next(ae[me]);Me.complete()})}(ae);if((0,b.t)(ae))return function Xe(ae){return new Te.y(Me=>{ae.then(me=>{Me.closed||(Me.next(me),Me.complete())},me=>Me.error(me)).then(null,oe.h)})}(ae);if((0,J.D)(ae))return rt(ae);if((0,ue.T)(ae))return function nt(ae){return new Te.y(Me=>{for(const me of ae)if(Me.next(me),Me.closed)return;Me.complete()})}(ae);if((0,de.L)(ae))return function Ct(ae){return rt((0,de.Q)(ae))}(ae)}throw(0,q.z)(ae)}function rt(ae){return new Te.y(Me=>{(function ct(ae,Me){var me,ge,Ce,ve;return(0,p.mG)(this,void 0,void 0,function*(){try{for(me=(0,p.KL)(ae);!(ge=yield me.next()).done;)if(Me.next(ge.value),Me.closed)return}catch(fe){Ce={error:fe}}finally{try{ge&&!ge.done&&(ve=me.return)&&(yield ve.call(me))}finally{if(Ce)throw Ce.error}}Me.complete()})})(ae,Me).catch(me=>Me.error(me))})}},3019:(xt,je,U)=>{U.d(je,{T:()=>J});var p=U(7537),V=U(4829),b=U(6232),Te=U(4564),$=U(2459);function J(...q){const ue=(0,Te.yG)(q),de=(0,Te._6)(q,1/0),ee=q;return ee.length?1===ee.length?(0,V.Xf)(ee[0]):(0,p.J)(de)((0,$.D)(ee,ue)):b.E}},2096:(xt,je,U)=>{U.d(je,{of:()=>b});var p=U(4564),V=U(2459);function b(...Te){const $=(0,p.yG)(Te);return(0,V.D)(Te,$)}},8251:(xt,je,U)=>{U.d(je,{x:()=>V});var p=U(305);function V(Te,$,J,q,ue){return new b(Te,$,J,q,ue)}class b extends p.Lv{constructor($,J,q,ue,de,ee){super($),this.onFinalize=de,this.shouldUnsubscribe=ee,this._next=J?function(oe){try{J(oe)}catch(Ee){$.error(Ee)}}:super._next,this._error=ue?function(oe){try{ue(oe)}catch(Ee){$.error(Ee)}finally{this.unsubscribe()}}:super._error,this._complete=q?function(){try{q()}catch(oe){$.error(oe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var $;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:J}=this;super.unsubscribe(),!J&&(null===($=this.onFinalize)||void 0===$||$.call(this))}}}},6328:(xt,je,U)=>{U.d(je,{b:()=>b});var p=U(1631),V=U(4674);function b(Te,$){return(0,V.m)($)?(0,p.z)(Te,$,1):(0,p.z)(Te,1)}},3572:(xt,je,U)=>{U.d(je,{d:()=>b});var p=U(9360),V=U(8251);function b(Te){return(0,p.e)(($,J)=>{let q=!1;$.subscribe((0,V.x)(J,ue=>{q=!0,J.next(ue)},()=>{q||J.next(Te),J.complete()}))})}},3997:(xt,je,U)=>{U.d(je,{x:()=>Te});var p=U(2737),V=U(9360),b=U(8251);function Te(J,q=p.y){return J=J??$,(0,V.e)((ue,de)=>{let ee,oe=!0;ue.subscribe((0,b.x)(de,Ee=>{const ze=q(Ee);(oe||!J(ee,ze))&&(oe=!1,ee=ze,de.next(Ee))}))})}function $(J,q){return J===q}},2181:(xt,je,U)=>{U.d(je,{h:()=>b});var p=U(9360),V=U(8251);function b(Te,$){return(0,p.e)((J,q)=>{let ue=0;J.subscribe((0,V.x)(q,de=>Te.call($,de,ue++)&&q.next(de)))})}},4716:(xt,je,U)=>{U.d(je,{x:()=>V});var p=U(9360);function V(b){return(0,p.e)((Te,$)=>{try{Te.subscribe($)}finally{$.add(b)}})}},1374:(xt,je,U)=>{U.d(je,{P:()=>q});var p=U(6973),V=U(2181),b=U(8180),Te=U(3572),$=U(3026),J=U(2737);function q(ue,de){const ee=arguments.length>=2;return oe=>oe.pipe(ue?(0,V.h)((Ee,ze)=>ue(Ee,ze,oe)):J.y,(0,b.q)(1),ee?(0,Te.d)(de):(0,$.T)(()=>new p.K))}},7398:(xt,je,U)=>{U.d(je,{U:()=>b});var p=U(9360),V=U(8251);function b(Te,$){return(0,p.e)((J,q)=>{let ue=0;J.subscribe((0,V.x)(q,de=>{q.next(Te.call($,de,ue++))}))})}},7537:(xt,je,U)=>{U.d(je,{J:()=>b});var p=U(1631),V=U(2737);function b(Te=1/0){return(0,p.z)(V.y,Te)}},1631:(xt,je,U)=>{U.d(je,{z:()=>ue});var p=U(7398),V=U(4829),b=U(9360),Te=U(7103),$=U(8251),q=U(4674);function ue(de,ee,oe=1/0){return(0,q.m)(ee)?ue((Ee,ze)=>(0,p.U)((Ze,ut)=>ee(Ee,Ze,ze,ut))((0,V.Xf)(de(Ee,ze))),oe):("number"==typeof ee&&(oe=ee),(0,b.e)((Ee,ze)=>function J(de,ee,oe,Ee,ze,Ze,ut,Xe){const nt=[];let rt=0,Ct=0,ct=!1;const ae=()=>{ct&&!nt.length&&!rt&&ee.complete()},Me=ge=>rt<Ee?me(ge):nt.push(ge),me=ge=>{Ze&&ee.next(ge),rt++;let Ce=!1;(0,V.Xf)(oe(ge,Ct++)).subscribe((0,$.x)(ee,ve=>{ze?.(ve),Ze?Me(ve):ee.next(ve)},()=>{Ce=!0},void 0,()=>{if(Ce)try{for(rt--;nt.length&&rt<Ee;){const ve=nt.shift();ut?(0,Te.f)(ee,ut,()=>me(ve)):me(ve)}ae()}catch(ve){ee.error(ve)}}))};return de.subscribe((0,$.x)(ee,Me,()=>{ct=!0,ae()})),()=>{Xe?.()}}(Ee,ze,de,oe)))}},3093:(xt,je,U)=>{U.d(je,{Q:()=>Te});var p=U(7103),V=U(9360),b=U(8251);function Te($,J=0){return(0,V.e)((q,ue)=>{q.subscribe((0,b.x)(ue,de=>(0,p.f)(ue,$,()=>ue.next(de),J),()=>(0,p.f)(ue,$,()=>ue.complete(),J),de=>(0,p.f)(ue,$,()=>ue.error(de),J)))})}},6699:(xt,je,U)=>{U.d(je,{R:()=>Te});var p=U(9360),V=U(8251);function Te($,J){return(0,p.e)(function b($,J,q,ue,de){return(ee,oe)=>{let Ee=q,ze=J,Ze=0;ee.subscribe((0,V.x)(oe,ut=>{const Xe=Ze++;ze=Ee?$(ze,ut,Xe):(Ee=!0,ut),ue&&oe.next(ze)},de&&(()=>{Ee&&oe.next(ze),oe.complete()})))}}($,J,arguments.length>=2,!0))}},3020:(xt,je,U)=>{U.d(je,{B:()=>$});var p=U(4829),V=U(8645),b=U(305),Te=U(9360);function $(q={}){const{connector:ue=(()=>new V.x),resetOnError:de=!0,resetOnComplete:ee=!0,resetOnRefCountZero:oe=!0}=q;return Ee=>{let ze,Ze,ut,Xe=0,nt=!1,rt=!1;const Ct=()=>{Ze?.unsubscribe(),Ze=void 0},ct=()=>{Ct(),ze=ut=void 0,nt=rt=!1},ae=()=>{const Me=ze;ct(),Me?.unsubscribe()};return(0,Te.e)((Me,me)=>{Xe++,!rt&&!nt&&Ct();const ge=ut=ut??ue();me.add(()=>{Xe--,0===Xe&&!rt&&!nt&&(Ze=J(ae,oe))}),ge.subscribe(me),!ze&&Xe>0&&(ze=new b.Hp({next:Ce=>ge.next(Ce),error:Ce=>{rt=!0,Ct(),Ze=J(ct,de,Ce),ge.error(Ce)},complete:()=>{nt=!0,Ct(),Ze=J(ct,ee),ge.complete()}}),(0,p.Xf)(Me).subscribe(ze))})(Ee)}}function J(q,ue,...de){if(!0===ue)return void q();if(!1===ue)return;const ee=new b.Hp({next:()=>{ee.unsubscribe(),q()}});return(0,p.Xf)(ue(...de)).subscribe(ee)}},7921:(xt,je,U)=>{U.d(je,{O:()=>Te});var p=U(5211),V=U(4564),b=U(9360);function Te(...$){const J=(0,V.yG)($);return(0,b.e)((q,ue)=>{(J?(0,p.z)($,q,J):(0,p.z)($,q)).subscribe(ue)})}},5137:(xt,je,U)=>{U.d(je,{R:()=>V});var p=U(9360);function V(b,Te=0){return(0,p.e)(($,J)=>{J.add(b.schedule(()=>$.subscribe(J),Te))})}},4664:(xt,je,U)=>{U.d(je,{w:()=>Te});var p=U(4829),V=U(9360),b=U(8251);function Te($,J){return(0,V.e)((q,ue)=>{let de=null,ee=0,oe=!1;const Ee=()=>oe&&!de&&ue.complete();q.subscribe((0,b.x)(ue,ze=>{de?.unsubscribe();let Ze=0;const ut=ee++;(0,p.Xf)($(ze,ut)).subscribe(de=(0,b.x)(ue,Xe=>ue.next(J?J(ze,Xe,ut,Ze++):Xe),()=>{de=null,Ee()}))},()=>{oe=!0,Ee()}))})}},8180:(xt,je,U)=>{U.d(je,{q:()=>Te});var p=U(6232),V=U(9360),b=U(8251);function Te($){return $<=0?()=>p.E:(0,V.e)((J,q)=>{let ue=0;J.subscribe((0,b.x)(q,de=>{++ue<=$&&(q.next(de),$<=ue&&q.complete())}))})}},9397:(xt,je,U)=>{U.d(je,{b:()=>$});var p=U(4674),V=U(9360),b=U(8251),Te=U(2737);function $(J,q,ue){const de=(0,p.m)(J)||q||ue?{next:J,error:q,complete:ue}:J;return de?(0,V.e)((ee,oe)=>{var Ee;null===(Ee=de.subscribe)||void 0===Ee||Ee.call(de);let ze=!0;ee.subscribe((0,b.x)(oe,Ze=>{var ut;null===(ut=de.next)||void 0===ut||ut.call(de,Ze),oe.next(Ze)},()=>{var Ze;ze=!1,null===(Ze=de.complete)||void 0===Ze||Ze.call(de),oe.complete()},Ze=>{var ut;ze=!1,null===(ut=de.error)||void 0===ut||ut.call(de,Ze),oe.error(Ze)},()=>{var Ze,ut;ze&&(null===(Ze=de.unsubscribe)||void 0===Ze||Ze.call(de)),null===(ut=de.finalize)||void 0===ut||ut.call(de)}))}):Te.y}},3026:(xt,je,U)=>{U.d(je,{T:()=>Te});var p=U(6973),V=U(9360),b=U(8251);function Te(J=$){return(0,V.e)((q,ue)=>{let de=!1;q.subscribe((0,b.x)(ue,ee=>{de=!0,ue.next(ee)},()=>de?ue.complete():ue.error(J())))})}function $(){return new p.K}},1954:(xt,je,U)=>{U.d(je,{o:()=>$});var p=U(7394);class V extends p.w0{constructor(q,ue){super()}schedule(q,ue=0){return this}}const b={setInterval(J,q,...ue){const{delegate:de}=b;return de?.setInterval?de.setInterval(J,q,...ue):setInterval(J,q,...ue)},clearInterval(J){const{delegate:q}=b;return(q?.clearInterval||clearInterval)(J)},delegate:void 0};var Te=U(9039);class $ extends V{constructor(q,ue){super(q,ue),this.scheduler=q,this.work=ue,this.pending=!1}schedule(q,ue=0){var de;if(this.closed)return this;this.state=q;const ee=this.id,oe=this.scheduler;return null!=ee&&(this.id=this.recycleAsyncId(oe,ee,ue)),this.pending=!0,this.delay=ue,this.id=null!==(de=this.id)&&void 0!==de?de:this.requestAsyncId(oe,this.id,ue),this}requestAsyncId(q,ue,de=0){return b.setInterval(q.flush.bind(q,this),de)}recycleAsyncId(q,ue,de=0){if(null!=de&&this.delay===de&&!1===this.pending)return ue;null!=ue&&b.clearInterval(ue)}execute(q,ue){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const de=this._execute(q,ue);if(de)return de;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(q,ue){let ee,de=!1;try{this.work(q)}catch(oe){de=!0,ee=oe||new Error("Scheduled action threw falsy error")}if(de)return this.unsubscribe(),ee}unsubscribe(){if(!this.closed){const{id:q,scheduler:ue}=this,{actions:de}=ue;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Te.P)(de,this),null!=q&&(this.id=this.recycleAsyncId(ue,q,null)),this.delay=null,super.unsubscribe()}}}},2631:(xt,je,U)=>{U.d(je,{v:()=>b});var p=U(4552);class V{constructor($,J=V.now){this.schedulerActionCtor=$,this.now=J}schedule($,J=0,q){return new this.schedulerActionCtor(this,$).schedule(q,J)}}V.now=p.l.now;class b extends V{constructor($,J=V.now){super($,J),this.actions=[],this._active=!1}flush($){const{actions:J}=this;if(this._active)return void J.push($);let q;this._active=!0;do{if(q=$.execute($.state,$.delay))break}while($=J.shift());if(this._active=!1,q){for(;$=J.shift();)$.unsubscribe();throw q}}}},6321:(xt,je,U)=>{U.d(je,{z:()=>b});var p=U(1954);const b=new(U(2631).v)(p.o)},4552:(xt,je,U)=>{U.d(je,{l:()=>p});const p={now:()=>(p.delegate||Date).now(),delegate:void 0}},7599:(xt,je,U)=>{U.d(je,{z:()=>p});const p={setTimeout(V,b,...Te){const{delegate:$}=p;return $?.setTimeout?$.setTimeout(V,b,...Te):setTimeout(V,b,...Te)},clearTimeout(V){const{delegate:b}=p;return(b?.clearTimeout||clearTimeout)(V)},delegate:void 0}},4971:(xt,je,U)=>{U.d(je,{h:()=>V});const V=function p(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(xt,je,U)=>{U.d(je,{L:()=>p});const p="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(xt,je,U)=>{U.d(je,{K:()=>V});const V=(0,U(2306).d)(b=>function(){b(this),this.name="EmptyError",this.message="no elements in sequence"})},4564:(xt,je,U)=>{U.d(je,{_6:()=>J,jO:()=>Te,yG:()=>$});var p=U(4674);function b(q){return q[q.length-1]}function Te(q){return(0,p.m)(b(q))?q.pop():void 0}function $(q){return function V(q){return q&&(0,p.m)(q.schedule)}(b(q))?q.pop():void 0}function J(q,ue){return"number"==typeof b(q)?q.pop():ue}},7453:(xt,je,U)=>{U.d(je,{D:()=>$});const{isArray:p}=Array,{getPrototypeOf:V,prototype:b,keys:Te}=Object;function $(q){if(1===q.length){const ue=q[0];if(p(ue))return{args:ue,keys:null};if(function J(q){return q&&"object"==typeof q&&V(q)===b}(ue)){const de=Te(ue);return{args:de.map(ee=>ue[ee]),keys:de}}}return{args:q,keys:null}}},9039:(xt,je,U)=>{function p(V,b){if(V){const Te=V.indexOf(b);0<=Te&&V.splice(Te,1)}}U.d(je,{P:()=>p})},2306:(xt,je,U)=>{function p(V){const Te=V($=>{Error.call($),$.stack=(new Error).stack});return Te.prototype=Object.create(Error.prototype),Te.prototype.constructor=Te,Te}U.d(je,{d:()=>p})},2714:(xt,je,U)=>{function p(V,b){return V.reduce((Te,$,J)=>(Te[$]=b[J],Te),{})}U.d(je,{n:()=>p})},1441:(xt,je,U)=>{U.d(je,{O:()=>Te,x:()=>b});var p=U(2653);let V=null;function b($){if(p.config.useDeprecatedSynchronousErrorHandling){const J=!V;if(J&&(V={errorThrown:!1,error:null}),$(),J){const{errorThrown:q,error:ue}=V;if(V=null,q)throw ue}}else $()}function Te($){p.config.useDeprecatedSynchronousErrorHandling&&V&&(V.errorThrown=!0,V.error=$)}},7103:(xt,je,U)=>{function p(V,b,Te,$=0,J=!1){const q=b.schedule(function(){Te(),J?V.add(this.schedule(null,$)):this.unsubscribe()},$);if(V.add(q),!J)return q}U.d(je,{f:()=>p})},2737:(xt,je,U)=>{function p(V){return V}U.d(je,{y:()=>p})},4266:(xt,je,U)=>{U.d(je,{z:()=>p});const p=V=>V&&"number"==typeof V.length&&"function"!=typeof V},5726:(xt,je,U)=>{U.d(je,{D:()=>V});var p=U(4674);function V(b){return Symbol.asyncIterator&&(0,p.m)(b?.[Symbol.asyncIterator])}},4674:(xt,je,U)=>{function p(V){return"function"==typeof V}U.d(je,{m:()=>p})},8382:(xt,je,U)=>{U.d(je,{c:()=>b});var p=U(4850),V=U(4674);function b(Te){return(0,V.m)(Te[p.L])}},3664:(xt,je,U)=>{U.d(je,{T:()=>b});var p=U(4971),V=U(4674);function b(Te){return(0,V.m)(Te?.[p.h])}},4026:(xt,je,U)=>{U.d(je,{t:()=>V});var p=U(4674);function V(b){return(0,p.m)(b?.then)}},541:(xt,je,U)=>{U.d(je,{L:()=>Te,Q:()=>b});var p=U(7582),V=U(4674);function b($){return(0,p.FC)(this,arguments,function*(){const q=$.getReader();try{for(;;){const{value:ue,done:de}=yield(0,p.qq)(q.read());if(de)return yield(0,p.qq)(void 0);yield yield(0,p.qq)(ue)}}finally{q.releaseLock()}})}function Te($){return(0,V.m)($?.getReader)}},9360:(xt,je,U)=>{U.d(je,{A:()=>V,e:()=>b});var p=U(4674);function V(Te){return(0,p.m)(Te?.lift)}function b(Te){return $=>{if(V($))return $.lift(function(J){try{return Te(J,this)}catch(q){this.error(q)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(xt,je,U)=>{U.d(je,{Z:()=>Te});var p=U(7398);const{isArray:V}=Array;function Te($){return(0,p.U)(J=>function b($,J){return V(J)?$(...J):$(J)}($,J))}},2420:(xt,je,U)=>{function p(){}U.d(je,{Z:()=>p})},8407:(xt,je,U)=>{U.d(je,{U:()=>b,z:()=>V});var p=U(2737);function V(...Te){return b(Te)}function b(Te){return 0===Te.length?p.y:1===Te.length?Te[0]:function(J){return Te.reduce((q,ue)=>ue(q),J)}}},3894:(xt,je,U)=>{U.d(je,{h:()=>b});var p=U(2653),V=U(7599);function b(Te){V.z.setTimeout(()=>{const{onUnhandledError:$}=p.config;if(!$)throw Te;$(Te)})}},9853:(xt,je,U)=>{function p(V){return new TypeError(`You provided ${null!==V&&"object"==typeof V?"an invalid object":`'${V}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}U.d(je,{z:()=>p})},6825:(xt,je,U)=>{U.d(je,{LC:()=>V,SB:()=>de,X$:()=>Te,ZE:()=>rt,ZN:()=>nt,_j:()=>p,eR:()=>oe,jt:()=>$,k1:()=>Ct,l3:()=>b,oB:()=>ue,vP:()=>q});class p{}class V{}const b="*";function Te(ct,ae){return{type:7,name:ct,definitions:ae,options:{}}}function $(ct,ae=null){return{type:4,styles:ae,timings:ct}}function q(ct,ae=null){return{type:2,steps:ct,options:ae}}function ue(ct){return{type:6,styles:ct,offset:null}}function de(ct,ae,Me){return{type:0,name:ct,styles:ae,options:Me}}function oe(ct,ae,Me=null){return{type:1,expr:ct,animation:ae,options:Me}}class nt{constructor(ae=0,Me=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=ae+Me}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(ae=>ae()),this._onDoneFns=[])}onStart(ae){this._originalOnStartFns.push(ae),this._onStartFns.push(ae)}onDone(ae){this._originalOnDoneFns.push(ae),this._onDoneFns.push(ae)}onDestroy(ae){this._onDestroyFns.push(ae)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(ae=>ae()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(ae=>ae()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(ae){this._position=this.totalTime?ae*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(ae){const Me="start"==ae?this._onStartFns:this._onDoneFns;Me.forEach(me=>me()),Me.length=0}}class rt{constructor(ae){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=ae;let Me=0,me=0,ge=0;const Ce=this.players.length;0==Ce?queueMicrotask(()=>this._onFinish()):this.players.forEach(ve=>{ve.onDone(()=>{++Me==Ce&&this._onFinish()}),ve.onDestroy(()=>{++me==Ce&&this._onDestroy()}),ve.onStart(()=>{++ge==Ce&&this._onStart()})}),this.totalTime=this.players.reduce((ve,fe)=>Math.max(ve,fe.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(ae=>ae()),this._onDoneFns=[])}init(){this.players.forEach(ae=>ae.init())}onStart(ae){this._onStartFns.push(ae)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(ae=>ae()),this._onStartFns=[])}onDone(ae){this._onDoneFns.push(ae)}onDestroy(ae){this._onDestroyFns.push(ae)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(ae=>ae.play())}pause(){this.players.forEach(ae=>ae.pause())}restart(){this.players.forEach(ae=>ae.restart())}finish(){this._onFinish(),this.players.forEach(ae=>ae.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(ae=>ae.destroy()),this._onDestroyFns.forEach(ae=>ae()),this._onDestroyFns=[])}reset(){this.players.forEach(ae=>ae.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(ae){const Me=ae*this.totalTime;this.players.forEach(me=>{const ge=me.totalTime?Math.min(1,Me/me.totalTime):1;me.setPosition(ge)})}getPosition(){const ae=this.players.reduce((Me,me)=>null===Me||me.totalTime>Me.totalTime?me:Me,null);return null!=ae?ae.getPosition():0}beforeDestroy(){this.players.forEach(ae=>{ae.beforeDestroy&&ae.beforeDestroy()})}triggerCallback(ae){const Me="start"==ae?this._onStartFns:this._onDoneFns;Me.forEach(me=>me()),Me.length=0}}const Ct="!"},6814:(xt,je,U)=>{U.d(je,{Do:()=>Xe,EM:()=>si,HT:()=>Te,JF:()=>Ci,K0:()=>J,Mx:()=>ei,NF:()=>Ds,O5:()=>Zs,PC:()=>Ii,PM:()=>Ti,S$:()=>ze,V_:()=>ue,Ye:()=>nt,b0:()=>ut,bD:()=>Di,ez:()=>ar,mk:()=>ur,q:()=>b,sg:()=>rs,tP:()=>gs,w_:()=>$});var p=U(5879);let V=null;function b(){return V}function Te(_){V||(V=_)}class ${}const J=new p.OlP("DocumentToken");let q=(()=>{class _{historyGo(P){throw new Error("Not implemented")}static#e=this.\u0275fac=function(F){return new(F||_)};static#t=this.\u0275prov=p.Yz7({token:_,factory:function(){return(0,p.f3M)(de)},providedIn:"platform"})}return _})();const ue=new p.OlP("Location Initialized");let de=(()=>{class _ extends q{constructor(){super(),this._doc=(0,p.f3M)(J),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return b().getBaseHref(this._doc)}onPopState(P){const F=b().getGlobalEventTarget(this._doc,"window");return F.addEventListener("popstate",P,!1),()=>F.removeEventListener("popstate",P)}onHashChange(P){const F=b().getGlobalEventTarget(this._doc,"window");return F.addEventListener("hashchange",P,!1),()=>F.removeEventListener("hashchange",P)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(P){this._location.pathname=P}pushState(P,F,ce){this._history.pushState(P,F,ce)}replaceState(P,F,ce){this._history.replaceState(P,F,ce)}forward(){this._history.forward()}back(){this._history.back()}historyGo(P=0){this._history.go(P)}getState(){return this._history.state}static#e=this.\u0275fac=function(F){return new(F||_)};static#t=this.\u0275prov=p.Yz7({token:_,factory:function(){return new _},providedIn:"platform"})}return _})();function ee(_,k){if(0==_.length)return k;if(0==k.length)return _;let P=0;return _.endsWith("/")&&P++,k.startsWith("/")&&P++,2==P?_+k.substring(1):1==P?_+k:_+"/"+k}function oe(_){const k=_.match(/#|\?|$/),P=k&&k.index||_.length;return _.slice(0,P-("/"===_[P-1]?1:0))+_.slice(P)}function Ee(_){return _&&"?"!==_[0]?"?"+_:_}let ze=(()=>{class _{historyGo(P){throw new Error("Not implemented")}static#e=this.\u0275fac=function(F){return new(F||_)};static#t=this.\u0275prov=p.Yz7({token:_,factory:function(){return(0,p.f3M)(ut)},providedIn:"root"})}return _})();const Ze=new p.OlP("appBaseHref");let ut=(()=>{class _ extends ze{constructor(P,F){super(),this._platformLocation=P,this._removeListenerFns=[],this._baseHref=F??this._platformLocation.getBaseHrefFromDOM()??(0,p.f3M)(J).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(P){this._removeListenerFns.push(this._platformLocation.onPopState(P),this._platformLocation.onHashChange(P))}getBaseHref(){return this._baseHref}prepareExternalUrl(P){return ee(this._baseHref,P)}path(P=!1){const F=this._platformLocation.pathname+Ee(this._platformLocation.search),ce=this._platformLocation.hash;return ce&&P?`${F}${ce}`:F}pushState(P,F,ce,Ue){const Ke=this.prepareExternalUrl(ce+Ee(Ue));this._platformLocation.pushState(P,F,Ke)}replaceState(P,F,ce,Ue){const Ke=this.prepareExternalUrl(ce+Ee(Ue));this._platformLocation.replaceState(P,F,Ke)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(P=0){this._platformLocation.historyGo?.(P)}static#e=this.\u0275fac=function(F){return new(F||_)(p.LFG(q),p.LFG(Ze,8))};static#t=this.\u0275prov=p.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})(),Xe=(()=>{class _ extends ze{constructor(P,F){super(),this._platformLocation=P,this._baseHref="",this._removeListenerFns=[],null!=F&&(this._baseHref=F)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(P){this._removeListenerFns.push(this._platformLocation.onPopState(P),this._platformLocation.onHashChange(P))}getBaseHref(){return this._baseHref}path(P=!1){let F=this._platformLocation.hash;return null==F&&(F="#"),F.length>0?F.substring(1):F}prepareExternalUrl(P){const F=ee(this._baseHref,P);return F.length>0?"#"+F:F}pushState(P,F,ce,Ue){let Ke=this.prepareExternalUrl(ce+Ee(Ue));0==Ke.length&&(Ke=this._platformLocation.pathname),this._platformLocation.pushState(P,F,Ke)}replaceState(P,F,ce,Ue){let Ke=this.prepareExternalUrl(ce+Ee(Ue));0==Ke.length&&(Ke=this._platformLocation.pathname),this._platformLocation.replaceState(P,F,Ke)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(P=0){this._platformLocation.historyGo?.(P)}static#e=this.\u0275fac=function(F){return new(F||_)(p.LFG(q),p.LFG(Ze,8))};static#t=this.\u0275prov=p.Yz7({token:_,factory:_.\u0275fac})}return _})(),nt=(()=>{class _{constructor(P){this._subject=new p.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=P;const F=this._locationStrategy.getBaseHref();this._basePath=function ae(_){if(new RegExp("^(https?:)?//").test(_)){const[,P]=_.split(/\/\/[^\/]+/);return P}return _}(oe(ct(F))),this._locationStrategy.onPopState(ce=>{this._subject.emit({url:this.path(!0),pop:!0,state:ce.state,type:ce.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(P=!1){return this.normalize(this._locationStrategy.path(P))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(P,F=""){return this.path()==this.normalize(P+Ee(F))}normalize(P){return _.stripTrailingSlash(function Ct(_,k){if(!_||!k.startsWith(_))return k;const P=k.substring(_.length);return""===P||["/",";","?","#"].includes(P[0])?P:k}(this._basePath,ct(P)))}prepareExternalUrl(P){return P&&"/"!==P[0]&&(P="/"+P),this._locationStrategy.prepareExternalUrl(P)}go(P,F="",ce=null){this._locationStrategy.pushState(ce,"",P,F),this._notifyUrlChangeListeners(this.prepareExternalUrl(P+Ee(F)),ce)}replaceState(P,F="",ce=null){this._locationStrategy.replaceState(ce,"",P,F),this._notifyUrlChangeListeners(this.prepareExternalUrl(P+Ee(F)),ce)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(P=0){this._locationStrategy.historyGo?.(P)}onUrlChange(P){return this._urlChangeListeners.push(P),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(F=>{this._notifyUrlChangeListeners(F.url,F.state)})),()=>{const F=this._urlChangeListeners.indexOf(P);this._urlChangeListeners.splice(F,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(P="",F){this._urlChangeListeners.forEach(ce=>ce(P,F))}subscribe(P,F,ce){return this._subject.subscribe({next:P,error:F,complete:ce})}static#e=this.normalizeQueryParams=Ee;static#t=this.joinWithSlash=ee;static#n=this.stripTrailingSlash=oe;static#r=this.\u0275fac=function(F){return new(F||_)(p.LFG(ze))};static#i=this.\u0275prov=p.Yz7({token:_,factory:function(){return function rt(){return new nt((0,p.LFG)(ze))}()},providedIn:"root"})}return _})();function ct(_){return _.replace(/\/index.html$/,"")}function ei(_,k){k=encodeURIComponent(k);for(const P of _.split(";")){const F=P.indexOf("="),[ce,Ue]=-1==F?[P,""]:[P.slice(0,F),P.slice(F+1)];if(ce.trim()===k)return decodeURIComponent(Ue)}return null}const yi=/\s+/,tr=[];let ur=(()=>{class _{constructor(P,F,ce,Ue){this._iterableDiffers=P,this._keyValueDiffers=F,this._ngEl=ce,this._renderer=Ue,this.initialClasses=tr,this.stateMap=new Map}set klass(P){this.initialClasses=null!=P?P.trim().split(yi):tr}set ngClass(P){this.rawClass="string"==typeof P?P.trim().split(yi):P}ngDoCheck(){for(const F of this.initialClasses)this._updateState(F,!0);const P=this.rawClass;if(Array.isArray(P)||P instanceof Set)for(const F of P)this._updateState(F,!0);else if(null!=P)for(const F of Object.keys(P))this._updateState(F,!!P[F]);this._applyStateDiff()}_updateState(P,F){const ce=this.stateMap.get(P);void 0!==ce?(ce.enabled!==F&&(ce.changed=!0,ce.enabled=F),ce.touched=!0):this.stateMap.set(P,{enabled:F,changed:!0,touched:!0})}_applyStateDiff(){for(const P of this.stateMap){const F=P[0],ce=P[1];ce.changed?(this._toggleClass(F,ce.enabled),ce.changed=!1):ce.touched||(ce.enabled&&this._toggleClass(F,!1),this.stateMap.delete(F)),ce.touched=!1}}_toggleClass(P,F){(P=P.trim()).length>0&&P.split(yi).forEach(ce=>{F?this._renderer.addClass(this._ngEl.nativeElement,ce):this._renderer.removeClass(this._ngEl.nativeElement,ce)})}static#e=this.\u0275fac=function(F){return new(F||_)(p.Y36(p.ZZ4),p.Y36(p.aQg),p.Y36(p.SBq),p.Y36(p.Qsj))};static#t=this.\u0275dir=p.lG2({type:_,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return _})();class Fn{constructor(k,P,F,ce){this.$implicit=k,this.ngForOf=P,this.index=F,this.count=ce}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let rs=(()=>{class _{set ngForOf(P){this._ngForOf=P,this._ngForOfDirty=!0}set ngForTrackBy(P){this._trackByFn=P}get ngForTrackBy(){return this._trackByFn}constructor(P,F,ce){this._viewContainer=P,this._template=F,this._differs=ce,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(P){P&&(this._template=P)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const P=this._ngForOf;!this._differ&&P&&(this._differ=this._differs.find(P).create(this.ngForTrackBy))}if(this._differ){const P=this._differ.diff(this._ngForOf);P&&this._applyChanges(P)}}_applyChanges(P){const F=this._viewContainer;P.forEachOperation((ce,Ue,Ke)=>{if(null==ce.previousIndex)F.createEmbeddedView(this._template,new Fn(ce.item,this._ngForOf,-1,-1),null===Ke?void 0:Ke);else if(null==Ke)F.remove(null===Ue?void 0:Ue);else if(null!==Ue){const ft=F.get(Ue);F.move(ft,Ke),Sr(ft,ce)}});for(let ce=0,Ue=F.length;ce<Ue;ce++){const ft=F.get(ce).context;ft.index=ce,ft.count=Ue,ft.ngForOf=this._ngForOf}P.forEachIdentityChange(ce=>{Sr(F.get(ce.currentIndex),ce)})}static ngTemplateContextGuard(P,F){return!0}static#e=this.\u0275fac=function(F){return new(F||_)(p.Y36(p.s_b),p.Y36(p.Rgc),p.Y36(p.ZZ4))};static#t=this.\u0275dir=p.lG2({type:_,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return _})();function Sr(_,k){_.context.$implicit=k.item}let Zs=(()=>{class _{constructor(P,F){this._viewContainer=P,this._context=new wo,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=F}set ngIf(P){this._context.$implicit=this._context.ngIf=P,this._updateView()}set ngIfThen(P){$o("ngIfThen",P),this._thenTemplateRef=P,this._thenViewRef=null,this._updateView()}set ngIfElse(P){$o("ngIfElse",P),this._elseTemplateRef=P,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(P,F){return!0}static#e=this.\u0275fac=function(F){return new(F||_)(p.Y36(p.s_b),p.Y36(p.Rgc))};static#t=this.\u0275dir=p.lG2({type:_,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return _})();class wo{constructor(){this.$implicit=null,this.ngIf=null}}function $o(_,k){if(k&&!k.createEmbeddedView)throw new Error(`${_} must be a TemplateRef, but received '${(0,p.AaK)(k)}'.`)}let Ii=(()=>{class _{constructor(P,F,ce){this._ngEl=P,this._differs=F,this._renderer=ce,this._ngStyle=null,this._differ=null}set ngStyle(P){this._ngStyle=P,!this._differ&&P&&(this._differ=this._differs.find(P).create())}ngDoCheck(){if(this._differ){const P=this._differ.diff(this._ngStyle);P&&this._applyChanges(P)}}_setStyle(P,F){const[ce,Ue]=P.split("."),Ke=-1===ce.indexOf("-")?void 0:p.JOm.DashCase;null!=F?this._renderer.setStyle(this._ngEl.nativeElement,ce,Ue?`${F}${Ue}`:F,Ke):this._renderer.removeStyle(this._ngEl.nativeElement,ce,Ke)}_applyChanges(P){P.forEachRemovedItem(F=>this._setStyle(F.key,null)),P.forEachAddedItem(F=>this._setStyle(F.key,F.currentValue)),P.forEachChangedItem(F=>this._setStyle(F.key,F.currentValue))}static#e=this.\u0275fac=function(F){return new(F||_)(p.Y36(p.SBq),p.Y36(p.aQg),p.Y36(p.Qsj))};static#t=this.\u0275dir=p.lG2({type:_,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return _})(),gs=(()=>{class _{constructor(P){this._viewContainerRef=P,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(P){if(P.ngTemplateOutlet||P.ngTemplateOutletInjector){const F=this._viewContainerRef;if(this._viewRef&&F.remove(F.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:ce,ngTemplateOutletContext:Ue,ngTemplateOutletInjector:Ke}=this;this._viewRef=F.createEmbeddedView(ce,Ue,Ke?{injector:Ke}:void 0)}else this._viewRef=null}else this._viewRef&&P.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(F){return new(F||_)(p.Y36(p.s_b))};static#t=this.\u0275dir=p.lG2({type:_,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[p.TTD]})}return _})(),ar=(()=>{class _{static#e=this.\u0275fac=function(F){return new(F||_)};static#t=this.\u0275mod=p.oAB({type:_});static#n=this.\u0275inj=p.cJS({})}return _})();const Di="browser",ss="server";function Ds(_){return _===Di}function Ti(_){return _===ss}let si=(()=>{class _{static#e=this.\u0275prov=(0,p.Yz7)({token:_,providedIn:"root",factory:()=>new Bs((0,p.LFG)(J),window)})}return _})();class Bs{constructor(k,P){this.document=k,this.window=P,this.offset=()=>[0,0]}setOffset(k){this.offset=Array.isArray(k)?()=>k:k}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(k){this.supportsScrolling()&&this.window.scrollTo(k[0],k[1])}scrollToAnchor(k){if(!this.supportsScrolling())return;const P=function hr(_,k){const P=_.getElementById(k)||_.getElementsByName(k)[0];if(P)return P;if("function"==typeof _.createTreeWalker&&_.body&&"function"==typeof _.body.attachShadow){const F=_.createTreeWalker(_.body,NodeFilter.SHOW_ELEMENT);let ce=F.currentNode;for(;ce;){const Ue=ce.shadowRoot;if(Ue){const Ke=Ue.getElementById(k)||Ue.querySelector(`[name="${k}"]`);if(Ke)return Ke}ce=F.nextNode()}}return null}(this.document,k);P&&(this.scrollToElement(P),P.focus())}setHistoryScrollRestoration(k){this.supportsScrolling()&&(this.window.history.scrollRestoration=k)}scrollToElement(k){const P=k.getBoundingClientRect(),F=P.left+this.window.pageXOffset,ce=P.top+this.window.pageYOffset,Ue=this.offset();this.window.scrollTo(F-Ue[0],ce-Ue[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Ci{}},9862:(xt,je,U)=>{U.d(je,{JF:()=>L,eN:()=>Se});var p=U(5879),V=U(2096),b=U(2459),Te=U(5592),$=U(6328),J=U(2181),q=U(7398),ue=U(4716),de=U(4664),ee=U(6814);class oe{}class Ee{}class ze{constructor(Ie){this.normalizedNames=new Map,this.lazyUpdate=null,Ie?"string"==typeof Ie?this.lazyInit=()=>{this.headers=new Map,Ie.split("\n").forEach(xe=>{const ye=xe.indexOf(":");if(ye>0){const we=xe.slice(0,ye),Be=we.toLowerCase(),tt=xe.slice(ye+1).trim();this.maybeSetNormalizedName(we,Be),this.headers.has(Be)?this.headers.get(Be).push(tt):this.headers.set(Be,[tt])}})}:typeof Headers<"u"&&Ie instanceof Headers?(this.headers=new Map,Ie.forEach((xe,ye)=>{this.setHeaderEntries(ye,xe)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(Ie).forEach(([xe,ye])=>{this.setHeaderEntries(xe,ye)})}:this.headers=new Map}has(Ie){return this.init(),this.headers.has(Ie.toLowerCase())}get(Ie){this.init();const xe=this.headers.get(Ie.toLowerCase());return xe&&xe.length>0?xe[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Ie){return this.init(),this.headers.get(Ie.toLowerCase())||null}append(Ie,xe){return this.clone({name:Ie,value:xe,op:"a"})}set(Ie,xe){return this.clone({name:Ie,value:xe,op:"s"})}delete(Ie,xe){return this.clone({name:Ie,value:xe,op:"d"})}maybeSetNormalizedName(Ie,xe){this.normalizedNames.has(xe)||this.normalizedNames.set(xe,Ie)}init(){this.lazyInit&&(this.lazyInit instanceof ze?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Ie=>this.applyUpdate(Ie)),this.lazyUpdate=null))}copyFrom(Ie){Ie.init(),Array.from(Ie.headers.keys()).forEach(xe=>{this.headers.set(xe,Ie.headers.get(xe)),this.normalizedNames.set(xe,Ie.normalizedNames.get(xe))})}clone(Ie){const xe=new ze;return xe.lazyInit=this.lazyInit&&this.lazyInit instanceof ze?this.lazyInit:this,xe.lazyUpdate=(this.lazyUpdate||[]).concat([Ie]),xe}applyUpdate(Ie){const xe=Ie.name.toLowerCase();switch(Ie.op){case"a":case"s":let ye=Ie.value;if("string"==typeof ye&&(ye=[ye]),0===ye.length)return;this.maybeSetNormalizedName(Ie.name,xe);const we=("a"===Ie.op?this.headers.get(xe):void 0)||[];we.push(...ye),this.headers.set(xe,we);break;case"d":const Be=Ie.value;if(Be){let tt=this.headers.get(xe);if(!tt)return;tt=tt.filter(mt=>-1===Be.indexOf(mt)),0===tt.length?(this.headers.delete(xe),this.normalizedNames.delete(xe)):this.headers.set(xe,tt)}else this.headers.delete(xe),this.normalizedNames.delete(xe)}}setHeaderEntries(Ie,xe){const ye=(Array.isArray(xe)?xe:[xe]).map(Be=>Be.toString()),we=Ie.toLowerCase();this.headers.set(we,ye),this.maybeSetNormalizedName(Ie,we)}forEach(Ie){this.init(),Array.from(this.normalizedNames.keys()).forEach(xe=>Ie(this.normalizedNames.get(xe),this.headers.get(xe)))}}class ut{encodeKey(Ie){return Ct(Ie)}encodeValue(Ie){return Ct(Ie)}decodeKey(Ie){return decodeURIComponent(Ie)}decodeValue(Ie){return decodeURIComponent(Ie)}}const nt=/%(\d[a-f0-9])/gi,rt={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ct(Ae){return encodeURIComponent(Ae).replace(nt,(Ie,xe)=>rt[xe]??Ie)}function ct(Ae){return`${Ae}`}class ae{constructor(Ie={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Ie.encoder||new ut,Ie.fromString){if(Ie.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Xe(Ae,Ie){const xe=new Map;return Ae.length>0&&Ae.replace(/^\?/,"").split("&").forEach(we=>{const Be=we.indexOf("="),[tt,mt]=-1==Be?[Ie.decodeKey(we),""]:[Ie.decodeKey(we.slice(0,Be)),Ie.decodeValue(we.slice(Be+1))],wt=xe.get(tt)||[];wt.push(mt),xe.set(tt,wt)}),xe}(Ie.fromString,this.encoder)}else Ie.fromObject?(this.map=new Map,Object.keys(Ie.fromObject).forEach(xe=>{const ye=Ie.fromObject[xe],we=Array.isArray(ye)?ye.map(ct):[ct(ye)];this.map.set(xe,we)})):this.map=null}has(Ie){return this.init(),this.map.has(Ie)}get(Ie){this.init();const xe=this.map.get(Ie);return xe?xe[0]:null}getAll(Ie){return this.init(),this.map.get(Ie)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Ie,xe){return this.clone({param:Ie,value:xe,op:"a"})}appendAll(Ie){const xe=[];return Object.keys(Ie).forEach(ye=>{const we=Ie[ye];Array.isArray(we)?we.forEach(Be=>{xe.push({param:ye,value:Be,op:"a"})}):xe.push({param:ye,value:we,op:"a"})}),this.clone(xe)}set(Ie,xe){return this.clone({param:Ie,value:xe,op:"s"})}delete(Ie,xe){return this.clone({param:Ie,value:xe,op:"d"})}toString(){return this.init(),this.keys().map(Ie=>{const xe=this.encoder.encodeKey(Ie);return this.map.get(Ie).map(ye=>xe+"="+this.encoder.encodeValue(ye)).join("&")}).filter(Ie=>""!==Ie).join("&")}clone(Ie){const xe=new ae({encoder:this.encoder});return xe.cloneFrom=this.cloneFrom||this,xe.updates=(this.updates||[]).concat(Ie),xe}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Ie=>this.map.set(Ie,this.cloneFrom.map.get(Ie))),this.updates.forEach(Ie=>{switch(Ie.op){case"a":case"s":const xe=("a"===Ie.op?this.map.get(Ie.param):void 0)||[];xe.push(ct(Ie.value)),this.map.set(Ie.param,xe);break;case"d":if(void 0===Ie.value){this.map.delete(Ie.param);break}{let ye=this.map.get(Ie.param)||[];const we=ye.indexOf(ct(Ie.value));-1!==we&&ye.splice(we,1),ye.length>0?this.map.set(Ie.param,ye):this.map.delete(Ie.param)}}}),this.cloneFrom=this.updates=null)}}class me{constructor(){this.map=new Map}set(Ie,xe){return this.map.set(Ie,xe),this}get(Ie){return this.map.has(Ie)||this.map.set(Ie,Ie.defaultValue()),this.map.get(Ie)}delete(Ie){return this.map.delete(Ie),this}has(Ie){return this.map.has(Ie)}keys(){return this.map.keys()}}function Ce(Ae){return typeof ArrayBuffer<"u"&&Ae instanceof ArrayBuffer}function ve(Ae){return typeof Blob<"u"&&Ae instanceof Blob}function fe(Ae){return typeof FormData<"u"&&Ae instanceof FormData}class bt{constructor(Ie,xe,ye,we){let Be;if(this.url=xe,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Ie.toUpperCase(),function ge(Ae){switch(Ae){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||we?(this.body=void 0!==ye?ye:null,Be=we):Be=ye,Be&&(this.reportProgress=!!Be.reportProgress,this.withCredentials=!!Be.withCredentials,Be.responseType&&(this.responseType=Be.responseType),Be.headers&&(this.headers=Be.headers),Be.context&&(this.context=Be.context),Be.params&&(this.params=Be.params)),this.headers||(this.headers=new ze),this.context||(this.context=new me),this.params){const tt=this.params.toString();if(0===tt.length)this.urlWithParams=xe;else{const mt=xe.indexOf("?");this.urlWithParams=xe+(-1===mt?"?":mt<xe.length-1?"&":"")+tt}}else this.params=new ae,this.urlWithParams=xe}serializeBody(){return null===this.body?null:Ce(this.body)||ve(this.body)||fe(this.body)||function lt(Ae){return typeof URLSearchParams<"u"&&Ae instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ae?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||fe(this.body)?null:ve(this.body)?this.body.type||null:Ce(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ae?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Ie={}){const xe=Ie.method||this.method,ye=Ie.url||this.url,we=Ie.responseType||this.responseType,Be=void 0!==Ie.body?Ie.body:this.body,tt=void 0!==Ie.withCredentials?Ie.withCredentials:this.withCredentials,mt=void 0!==Ie.reportProgress?Ie.reportProgress:this.reportProgress;let wt=Ie.headers||this.headers,sn=Ie.params||this.params;const Jn=Ie.context??this.context;return void 0!==Ie.setHeaders&&(wt=Object.keys(Ie.setHeaders).reduce((Vn,qn)=>Vn.set(qn,Ie.setHeaders[qn]),wt)),Ie.setParams&&(sn=Object.keys(Ie.setParams).reduce((Vn,qn)=>Vn.set(qn,Ie.setParams[qn]),sn)),new bt(xe,ye,Be,{params:sn,headers:wt,context:Jn,reportProgress:mt,responseType:we,withCredentials:tt})}}var $e=function(Ae){return Ae[Ae.Sent=0]="Sent",Ae[Ae.UploadProgress=1]="UploadProgress",Ae[Ae.ResponseHeader=2]="ResponseHeader",Ae[Ae.DownloadProgress=3]="DownloadProgress",Ae[Ae.Response=4]="Response",Ae[Ae.User=5]="User",Ae}($e||{});class Gt{constructor(Ie,xe=200,ye="OK"){this.headers=Ie.headers||new ze,this.status=void 0!==Ie.status?Ie.status:xe,this.statusText=Ie.statusText||ye,this.url=Ie.url||null,this.ok=this.status>=200&&this.status<300}}class St extends Gt{constructor(Ie={}){super(Ie),this.type=$e.ResponseHeader}clone(Ie={}){return new St({headers:Ie.headers||this.headers,status:void 0!==Ie.status?Ie.status:this.status,statusText:Ie.statusText||this.statusText,url:Ie.url||this.url||void 0})}}class gn extends Gt{constructor(Ie={}){super(Ie),this.type=$e.Response,this.body=void 0!==Ie.body?Ie.body:null}clone(Ie={}){return new gn({body:void 0!==Ie.body?Ie.body:this.body,headers:Ie.headers||this.headers,status:void 0!==Ie.status?Ie.status:this.status,statusText:Ie.statusText||this.statusText,url:Ie.url||this.url||void 0})}}class Dt extends Gt{constructor(Ie){super(Ie,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Ie.url||"(unknown url)"}`:`Http failure response for ${Ie.url||"(unknown url)"}: ${Ie.status} ${Ie.statusText}`,this.error=Ie.error||null}}function kt(Ae,Ie){return{body:Ie,headers:Ae.headers,context:Ae.context,observe:Ae.observe,params:Ae.params,reportProgress:Ae.reportProgress,responseType:Ae.responseType,withCredentials:Ae.withCredentials}}let Se=(()=>{class Ae{constructor(xe){this.handler=xe}request(xe,ye,we={}){let Be;if(xe instanceof bt)Be=xe;else{let wt,sn;wt=we.headers instanceof ze?we.headers:new ze(we.headers),we.params&&(sn=we.params instanceof ae?we.params:new ae({fromObject:we.params})),Be=new bt(xe,ye,void 0!==we.body?we.body:null,{headers:wt,context:we.context,params:sn,reportProgress:we.reportProgress,responseType:we.responseType||"json",withCredentials:we.withCredentials})}const tt=(0,V.of)(Be).pipe((0,$.b)(wt=>this.handler.handle(wt)));if(xe instanceof bt||"events"===we.observe)return tt;const mt=tt.pipe((0,J.h)(wt=>wt instanceof gn));switch(we.observe||"body"){case"body":switch(Be.responseType){case"arraybuffer":return mt.pipe((0,q.U)(wt=>{if(null!==wt.body&&!(wt.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return wt.body}));case"blob":return mt.pipe((0,q.U)(wt=>{if(null!==wt.body&&!(wt.body instanceof Blob))throw new Error("Response is not a Blob.");return wt.body}));case"text":return mt.pipe((0,q.U)(wt=>{if(null!==wt.body&&"string"!=typeof wt.body)throw new Error("Response is not a string.");return wt.body}));default:return mt.pipe((0,q.U)(wt=>wt.body))}case"response":return mt;default:throw new Error(`Unreachable: unhandled observe type ${we.observe}}`)}}delete(xe,ye={}){return this.request("DELETE",xe,ye)}get(xe,ye={}){return this.request("GET",xe,ye)}head(xe,ye={}){return this.request("HEAD",xe,ye)}jsonp(xe,ye){return this.request("JSONP",xe,{params:(new ae).append(ye,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(xe,ye={}){return this.request("OPTIONS",xe,ye)}patch(xe,ye,we={}){return this.request("PATCH",xe,kt(we,ye))}post(xe,ye,we={}){return this.request("POST",xe,kt(we,ye))}put(xe,ye,we={}){return this.request("PUT",xe,kt(we,ye))}static#e=this.\u0275fac=function(ye){return new(ye||Ae)(p.LFG(oe))};static#t=this.\u0275prov=p.Yz7({token:Ae,factory:Ae.\u0275fac})}return Ae})();function Bn(Ae,Ie){return Ie(Ae)}function nn(Ae,Ie){return(xe,ye)=>Ie.intercept(xe,{handle:we=>Ae(we,ye)})}const dn=new p.OlP(""),hn=new p.OlP(""),zn=new p.OlP("");function On(){let Ae=null;return(Ie,xe)=>{null===Ae&&(Ae=((0,p.f3M)(dn,{optional:!0})??[]).reduceRight(nn,Bn));const ye=(0,p.f3M)(p.HDt),we=ye.add();return Ae(Ie,xe).pipe((0,ue.x)(()=>ye.remove(we)))}}let An=(()=>{class Ae extends oe{constructor(xe,ye){super(),this.backend=xe,this.injector=ye,this.chain=null,this.pendingTasks=(0,p.f3M)(p.HDt)}handle(xe){if(null===this.chain){const we=Array.from(new Set([...this.injector.get(hn),...this.injector.get(zn,[])]));this.chain=we.reduceRight((Be,tt)=>function xn(Ae,Ie,xe){return(ye,we)=>xe.runInContext(()=>Ie(ye,Be=>Ae(Be,we)))}(Be,tt,this.injector),Bn)}const ye=this.pendingTasks.add();return this.chain(xe,we=>this.backend.handle(we)).pipe((0,ue.x)(()=>this.pendingTasks.remove(ye)))}static#e=this.\u0275fac=function(ye){return new(ye||Ae)(p.LFG(Ee),p.LFG(p.lqb))};static#t=this.\u0275prov=p.Yz7({token:Ae,factory:Ae.\u0275fac})}return Ae})();const vr=/^\)\]\}',?\n/;let At=(()=>{class Ae{constructor(xe){this.xhrFactory=xe}handle(xe){if("JSONP"===xe.method)throw new p.vHH(-2800,!1);const ye=this.xhrFactory;return(ye.\u0275loadImpl?(0,b.D)(ye.\u0275loadImpl()):(0,V.of)(null)).pipe((0,de.w)(()=>new Te.y(Be=>{const tt=ye.build();if(tt.open(xe.method,xe.urlWithParams),xe.withCredentials&&(tt.withCredentials=!0),xe.headers.forEach((tr,ur)=>tt.setRequestHeader(tr,ur.join(","))),xe.headers.has("Accept")||tt.setRequestHeader("Accept","application/json, text/plain, */*"),!xe.headers.has("Content-Type")){const tr=xe.detectContentTypeHeader();null!==tr&&tt.setRequestHeader("Content-Type",tr)}if(xe.responseType){const tr=xe.responseType.toLowerCase();tt.responseType="json"!==tr?tr:"text"}const mt=xe.serializeBody();let wt=null;const sn=()=>{if(null!==wt)return wt;const tr=tt.statusText||"OK",ur=new ze(tt.getAllResponseHeaders()),ti=function Ye(Ae){return"responseURL"in Ae&&Ae.responseURL?Ae.responseURL:/^X-Request-URL:/m.test(Ae.getAllResponseHeaders())?Ae.getResponseHeader("X-Request-URL"):null}(tt)||xe.url;return wt=new St({headers:ur,status:tt.status,statusText:tr,url:ti}),wt},Jn=()=>{let{headers:tr,status:ur,statusText:ti,url:Ks}=sn(),Fn=null;204!==ur&&(Fn=typeof tt.response>"u"?tt.responseText:tt.response),0===ur&&(ur=Fn?200:0);let rs=ur>=200&&ur<300;if("json"===xe.responseType&&"string"==typeof Fn){const Sr=Fn;Fn=Fn.replace(vr,"");try{Fn=""!==Fn?JSON.parse(Fn):null}catch(ji){Fn=Sr,rs&&(rs=!1,Fn={error:ji,text:Fn})}}rs?(Be.next(new gn({body:Fn,headers:tr,status:ur,statusText:ti,url:Ks||void 0})),Be.complete()):Be.error(new Dt({error:Fn,headers:tr,status:ur,statusText:ti,url:Ks||void 0}))},Vn=tr=>{const{url:ur}=sn(),ti=new Dt({error:tr,status:tt.status||0,statusText:tt.statusText||"Unknown Error",url:ur||void 0});Be.error(ti)};let qn=!1;const ei=tr=>{qn||(Be.next(sn()),qn=!0);let ur={type:$e.DownloadProgress,loaded:tr.loaded};tr.lengthComputable&&(ur.total=tr.total),"text"===xe.responseType&&tt.responseText&&(ur.partialText=tt.responseText),Be.next(ur)},yi=tr=>{let ur={type:$e.UploadProgress,loaded:tr.loaded};tr.lengthComputable&&(ur.total=tr.total),Be.next(ur)};return tt.addEventListener("load",Jn),tt.addEventListener("error",Vn),tt.addEventListener("timeout",Vn),tt.addEventListener("abort",Vn),xe.reportProgress&&(tt.addEventListener("progress",ei),null!==mt&&tt.upload&&tt.upload.addEventListener("progress",yi)),tt.send(mt),Be.next({type:$e.Sent}),()=>{tt.removeEventListener("error",Vn),tt.removeEventListener("abort",Vn),tt.removeEventListener("load",Jn),tt.removeEventListener("timeout",Vn),xe.reportProgress&&(tt.removeEventListener("progress",ei),null!==mt&&tt.upload&&tt.upload.removeEventListener("progress",yi)),tt.readyState!==tt.DONE&&tt.abort()}})))}static#e=this.\u0275fac=function(ye){return new(ye||Ae)(p.LFG(ee.JF))};static#t=this.\u0275prov=p.Yz7({token:Ae,factory:Ae.\u0275fac})}return Ae})();const De=new p.OlP("XSRF_ENABLED"),at=new p.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Mt=new p.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class cn{}let wn=(()=>{class Ae{constructor(xe,ye,we){this.doc=xe,this.platform=ye,this.cookieName=we,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const xe=this.doc.cookie||"";return xe!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,ee.Mx)(xe,this.cookieName),this.lastCookieString=xe),this.lastToken}static#e=this.\u0275fac=function(ye){return new(ye||Ae)(p.LFG(ee.K0),p.LFG(p.Lbi),p.LFG(at))};static#t=this.\u0275prov=p.Yz7({token:Ae,factory:Ae.\u0275fac})}return Ae})();function xr(Ae,Ie){const xe=Ae.url.toLowerCase();if(!(0,p.f3M)(De)||"GET"===Ae.method||"HEAD"===Ae.method||xe.startsWith("http://")||xe.startsWith("https://"))return Ie(Ae);const ye=(0,p.f3M)(cn).getToken(),we=(0,p.f3M)(Mt);return null!=ye&&!Ae.headers.has(we)&&(Ae=Ae.clone({headers:Ae.headers.set(we,ye)})),Ie(Ae)}var Gn=function(Ae){return Ae[Ae.Interceptors=0]="Interceptors",Ae[Ae.LegacyInterceptors=1]="LegacyInterceptors",Ae[Ae.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Ae[Ae.NoXsrfProtection=3]="NoXsrfProtection",Ae[Ae.JsonpSupport=4]="JsonpSupport",Ae[Ae.RequestsMadeViaParent=5]="RequestsMadeViaParent",Ae[Ae.Fetch=6]="Fetch",Ae}(Gn||{});function Vr(...Ae){const Ie=[Se,At,An,{provide:oe,useExisting:An},{provide:Ee,useExisting:At},{provide:hn,useValue:xr,multi:!0},{provide:De,useValue:!0},{provide:cn,useClass:wn}];for(const xe of Ae)Ie.push(...xe.\u0275providers);return(0,p.MR2)(Ie)}const $r=new p.OlP("LEGACY_INTERCEPTOR_FN");function Or(){return function ir(Ae,Ie){return{\u0275kind:Ae,\u0275providers:Ie}}(Gn.LegacyInterceptors,[{provide:$r,useFactory:On},{provide:hn,useExisting:$r,multi:!0}])}let L=(()=>{class Ae{static#e=this.\u0275fac=function(ye){return new(ye||Ae)};static#t=this.\u0275mod=p.oAB({type:Ae});static#n=this.\u0275inj=p.cJS({providers:[Vr(Or())]})}return Ae})()},5879:(xt,je,U)=>{U.d(je,{$8M:()=>Qo,$WT:()=>Oi,$Z:()=>Uf,AFp:()=>P_,AaK:()=>Ee,BQk:()=>_h,CHM:()=>mi,CRH:()=>dT,EJc:()=>Nb,EpF:()=>ic,F$t:()=>BI,F4k:()=>LI,FYo:()=>Ef,FiY:()=>vl,Gf:()=>uT,GfV:()=>Vc,GkF:()=>vg,Gpc:()=>ut,HDt:()=>OT,Hsn:()=>Py,JOm:()=>Ka,KtG:()=>uc,LFG:()=>ot,LSH:()=>rf,Lbi:()=>hf,Lck:()=>yC,MAs:()=>qc,MMx:()=>L0,MR2:()=>sf,NdJ:()=>Ig,O4$:()=>Es,Ojb:()=>Lv,OlP:()=>Fr,Oqu:()=>Ip,P3R:()=>cm,PXZ:()=>aD,Q6J:()=>il,QGY:()=>yh,QbO:()=>_m,Qsj:()=>Fc,R0b:()=>Ns,RDi:()=>Yh,Rgc:()=>Hg,SBq:()=>$d,Sil:()=>Fb,Suo:()=>cT,TTD:()=>fn,TgZ:()=>fp,Tol:()=>Sg,VuI:()=>$D,WLB:()=>z0,X6Q:()=>mD,XFs:()=>Xt,Xpm:()=>Ei,Xq5:()=>py,Xts:()=>Md,Y36:()=>fu,YKP:()=>N0,YNc:()=>RI,Yjl:()=>Vs,Yz7:()=>dn,Z0I:()=>An,ZZ4:()=>xE,_Bn:()=>O0,_UZ:()=>yg,_c5:()=>MD,_uU:()=>qy,aQg:()=>OE,c2e:()=>xT,cJS:()=>zn,cg1:()=>XI,dDg:()=>rD,dqk:()=>At,eFA:()=>$T,eJc:()=>gE,ekj:()=>Ho,eoX:()=>UT,evT:()=>xf,f3M:()=>_t,g9A:()=>M_,h0i:()=>wh,hGG:()=>xD,hij:()=>Ep,iGM:()=>lT,ifc:()=>Be,ip1:()=>MT,jDz:()=>F0,kEZ:()=>G0,kL8:()=>s0,lG2:()=>Co,lqb:()=>Ja,lri:()=>FT,n5z:()=>fc,oAB:()=>bs,oxw:()=>UI,q4F:()=>wf,qFp:()=>GD,qLn:()=>Ol,qOj:()=>og,qZA:()=>La,rWj:()=>VT,rg0:()=>ce,sBO:()=>gD,s_b:()=>lv,soG:()=>cv,tb:()=>DE,tp0:()=>Ru,uIk:()=>rp,vHH:()=>ae,vpe:()=>Xa,wAp:()=>wp,xp6:()=>Vf,ynx:()=>gh,z2F:()=>Ap,zSh:()=>pm,zs3:()=>ho});var p=U(8645),V=U(7394),b=U(5592),Te=U(3019),$=U(5619),J=U(2096),q=U(3020),ue=U(4664),de=U(3997);function ee(t){for(let r in t)if(t[r]===ee)return r;throw Error("Could not find renamed property on target object.")}function oe(t,r){for(const o in r)r.hasOwnProperty(o)&&!t.hasOwnProperty(o)&&(t[o]=r[o])}function Ee(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Ee).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const r=t.toString();if(null==r)return""+r;const o=r.indexOf("\n");return-1===o?r:r.substring(0,o)}function ze(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}const Ze=ee({__forward_ref__:ee});function ut(t){return t.__forward_ref__=ut,t.toString=function(){return Ee(this())},t}function Xe(t){return nt(t)?t():t}function nt(t){return"function"==typeof t&&t.hasOwnProperty(Ze)&&t.__forward_ref__===ut}function rt(t){return t&&!!t.\u0275providers}const ct="https://g.co/ng/security#xss";class ae extends Error{constructor(r,o){super(function Me(t,r){return`NG0${Math.abs(t)}${r?": "+r:""}`}(r,o)),this.code=r}}function me(t){return"string"==typeof t?t:null==t?"":String(t)}function lt(t,r){throw new ae(-201,!1)}function gt(t,r){null==t&&function It(t,r,o,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${o} ${a} ${r} <=Actual]`))}(r,t,null,"!=")}function dn(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function zn(t){return{providers:t.providers||[],imports:t.imports||[]}}function On(t){return Vt(t,kn)||Vt(t,Mr)}function An(t){return null!==On(t)}function Vt(t,r){return t.hasOwnProperty(r)?t[r]:null}function yr(t){return t&&(t.hasOwnProperty(Hn)||t.hasOwnProperty(er))?t[Hn]:null}const kn=ee({\u0275prov:ee}),Hn=ee({\u0275inj:ee}),Mr=ee({ngInjectableDef:ee}),er=ee({ngInjectorDef:ee});var Xt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Xt||{});let mn;function Zn(t){const r=mn;return mn=t,r}function vr(t,r,o){const a=On(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:o&Xt.Optional?null:void 0!==r?r:void lt(Ee(t))}const At=globalThis,$r={},Or="__NG_DI_FLAG__",Tr="ngTempTokenPath",Re=/\n/gm,j="__source";let N;function he(t){const r=N;return N=t,r}function Le(t,r=Xt.Default){if(void 0===N)throw new ae(-203,!1);return null===N?vr(t,void 0,r):N.get(t,r&Xt.Optional?null:void 0,r)}function ot(t,r=Xt.Default){return(function Qt(){return mn}()||Le)(Xe(t),r)}function _t(t,r=Xt.Default){return ot(t,rn(r))}function rn(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Zt(t){const r=[];for(let o=0;o<t.length;o++){const a=Xe(t[o]);if(Array.isArray(a)){if(0===a.length)throw new ae(900,!1);let u,d=Xt.Default;for(let g=0;g<a.length;g++){const w=a[g],S=Ae(w);"number"==typeof S?-1===S?u=w.token:d|=S:u=w}r.push(ot(u,d))}else r.push(ot(a))}return r}function Cn(t,r){return t[Or]=r,t.prototype[Or]=r,t}function Ae(t){return t[Or]}function ye(t){return{toString:t}.toString()}var we=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(we||{}),Be=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Be||{});const tt={},mt=[],wt=ee({\u0275cmp:ee}),sn=ee({\u0275dir:ee}),Jn=ee({\u0275pipe:ee}),Vn=ee({\u0275mod:ee}),qn=ee({\u0275fac:ee}),ei=ee({__NG_ELEMENT_ID__:ee}),yi=ee({__NG_ENV_ID__:ee});function tr(t,r,o){let a=t.length;for(;;){const u=t.indexOf(r,o);if(-1===u)return u;if(0===u||t.charCodeAt(u-1)<=32){const d=r.length;if(u+d===a||t.charCodeAt(u+d)<=32)return u}o=u+1}}function ur(t,r,o){let a=0;for(;a<o.length;){const u=o[a];if("number"==typeof u){if(0!==u)break;a++;const d=o[a++],g=o[a++],w=o[a++];t.setAttribute(r,g,w,d)}else{const d=u,g=o[++a];Ks(d)?t.setProperty(r,d,g):t.setAttribute(r,d,g),a++}}return a}function ti(t){return 3===t||4===t||6===t}function Ks(t){return 64===t.charCodeAt(0)}function Fn(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else{let o=-1;for(let a=0;a<r.length;a++){const u=r[a];"number"==typeof u?o=u:0===o||rs(t,o,u,null,-1===o||2===o?r[++a]:null)}}return t}function rs(t,r,o,a,u){let d=0,g=t.length;if(-1===r)g=-1;else for(;d<t.length;){const w=t[d++];if("number"==typeof w){if(w===r){g=-1;break}if(w>r){g=d-1;break}}}for(;d<t.length;){const w=t[d];if("number"==typeof w)break;if(w===o){if(null===a)return void(null!==u&&(t[d+1]=u));if(a===t[d+1])return void(t[d+2]=u)}d++,null!==a&&d++,null!==u&&d++}-1!==g&&(t.splice(g,0,r),d=g+1),t.splice(d++,0,o),null!==a&&t.splice(d++,0,a),null!==u&&t.splice(d++,0,u)}const Sr="ng-template";function ji(t,r,o){let a=0,u=!0;for(;a<t.length;){let d=t[a++];if("string"==typeof d&&u){const g=t[a++];if(o&&"class"===d&&-1!==tr(g.toLowerCase(),r,0))return!0}else{if(1===d){for(;a<t.length&&"string"==typeof(d=t[a++]);)if(d.toLowerCase()===r)return!0;return!1}"number"==typeof d&&(u=!1)}}return!1}function Zs(t){return 4===t.type&&t.value!==Sr}function wo(t,r,o){return r===(4!==t.type||o?t.value:Sr)}function $o(t,r,o){let a=4;const u=t.attrs||[],d=function Fs(t){for(let r=0;r<t.length;r++)if(ti(t[r]))return r;return t.length}(u);let g=!1;for(let w=0;w<r.length;w++){const S=r[w];if("number"!=typeof S){if(!g)if(4&a){if(a=2|1&a,""!==S&&!wo(t,S,o)||""===S&&1===r.length){if($i(a))return!1;g=!0}}else{const H=8&a?S:r[++w];if(8&a&&null!==t.attrs){if(!ji(t.attrs,H,o)){if($i(a))return!1;g=!0}continue}const _e=Ls(8&a?"class":S,u,Zs(t),o);if(-1===_e){if($i(a))return!1;g=!0;continue}if(""!==H){let Ve;Ve=_e>d?"":u[_e+1].toLowerCase();const We=8&a?Ve:null;if(We&&-1!==tr(We,H,0)||2&a&&H!==Ve){if($i(a))return!1;g=!0}}}}else{if(!g&&!$i(a)&&!$i(S))return!1;if(g&&$i(S))continue;g=!1,a=S|1&a}}return $i(a)||g}function $i(t){return 0==(1&t)}function Ls(t,r,o,a){if(null===r)return-1;let u=0;if(a||!o){let d=!1;for(;u<r.length;){const g=r[u];if(g===t)return u;if(3===g||6===g)d=!0;else{if(1===g||2===g){let w=r[++u];for(;"string"==typeof w;)w=r[++u];continue}if(4===g)break;if(0===g){u+=4;continue}}u+=d?1:2}return-1}return function ii(t,r){let o=t.indexOf(4);if(o>-1)for(o++;o<t.length;){const a=t[o];if("number"==typeof a)return-1;if(a===r)return o;o++}return-1}(r,t)}function xi(t,r,o=!1){for(let a=0;a<r.length;a++)if($o(t,r[a],o))return!0;return!1}function fo(t,r){e:for(let o=0;o<r.length;o++){const a=r[o];if(t.length===a.length){for(let u=0;u<t.length;u++)if(t[u]!==a[u])continue e;return!0}}return!1}function Ii(t,r){return t?":not("+r.trim()+")":r}function gs(t){let r=t[0],o=1,a=2,u="",d=!1;for(;o<t.length;){let g=t[o];if("string"==typeof g)if(2&a){const w=t[++o];u+="["+g+(w.length>0?'="'+w+'"':"")+"]"}else 8&a?u+="."+g:4&a&&(u+=" "+g);else""!==u&&!$i(g)&&(r+=Ii(d,u),u=""),a=g,d=d||!$i(a);o++}return""!==u&&(r+=Ii(d,u)),r}function Ei(t){return ye(()=>{const r=_s(t),o={...r,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===we.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Be.Emulated,styles:t.styles||mt,_:null,schemas:t.schemas||null,tView:null,id:""};so(o);const a=t.dependencies;return o.directiveDefs=is(a,!1),o.pipeDefs=is(a,!0),o.id=function bi(t){let r=0;const o=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const u of o)r=Math.imul(31,r)+u.charCodeAt(0)<<0;return r+=2147483648,"c"+r}(o),o})}function Ys(t){return Ln(t)||wr(t)}function mo(t){return null!==t}function bs(t){return ye(()=>({type:t.type,bootstrap:t.bootstrap||mt,declarations:t.declarations||mt,imports:t.imports||mt,exports:t.exports||mt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Qs(t,r){if(null==t)return tt;const o={};for(const a in t)if(t.hasOwnProperty(a)){let u=t[a],d=u;Array.isArray(u)&&(d=u[1],u=u[0]),o[u]=a,r&&(r[u]=d)}return o}function Co(t){return ye(()=>{const r=_s(t);return so(r),r})}function Vs(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Ln(t){return t[wt]||null}function wr(t){return t[sn]||null}function zr(t){return t[Jn]||null}function Oi(t){const r=Ln(t)||wr(t)||zr(t);return null!==r&&r.standalone}function hi(t,r){const o=t[Vn]||null;if(!o&&!0===r)throw new Error(`Type ${Ee(t)} does not have '\u0275mod' property.`);return o}function _s(t){const r={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputTransforms:null,inputConfig:t.inputs||tt,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||mt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Qs(t.inputs,r),outputs:Qs(t.outputs)}}function so(t){t.features?.forEach(r=>r(t))}function is(t,r){if(!t)return null;const o=r?zr:Ys;return()=>("function"==typeof t?t():t).map(a=>o(a)).filter(mo)}const or=0,Lt=1,_n=2,cr=3,Dr=4,Zi=5,Gr=6,Ni=7,ar=8,Di=9,ss=10,on=11,os=12,Ds=13,Ti=14,dr=15,wi=16,Us=17,si=18,Bs=19,hr=20,Gi=21,Ci=22,fi=23,Wi=24,Wn=25,ys=1,Va=2,ki=7,pi=9,ai=11;function Ur(t){return Array.isArray(t)&&"object"==typeof t[ys]}function Br(t){return Array.isArray(t)&&!0===t[ys]}function Hr(t){return 0!=(4&t.flags)}function Hs(t){return t.componentOffset>-1}function ls(t){return 1==(1&t.flags)}function us(t){return!!t.template}function bo(t){return 0!=(512&t[_n])}function Yi(t,r){return t.hasOwnProperty(qn)?t[qn]:null}let Pr=null,_o=!1;function Si(t){const r=Pr;return Pr=t,r}const Po={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Xs(t){if(!vo(t)||t.dirty){if(!t.producerMustRecompute(t)&&!Ea(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function Ro(t){t.dirty=!0,function qo(t){if(void 0===t.liveConsumerNode)return;const r=_o;_o=!0;try{for(const o of t.liveConsumerNode)o.dirty||Ro(o)}finally{_o=r}}(t),t.consumerMarkedDirty?.(t)}function Is(t){return t&&(t.nextProducerIndex=0),Si(t)}function yo(t,r){if(Si(r),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(vo(t))for(let o=t.nextProducerIndex;o<t.producerNode.length;o++)xo(t.producerNode[o],t.producerIndexOfThis[o]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Ea(t){zs(t);for(let r=0;r<t.producerNode.length;r++){const o=t.producerNode[r],a=t.producerLastReadVersion[r];if(a!==o.version||(Xs(o),a!==o.version))return!0}return!1}function sl(t){if(zs(t),vo(t))for(let r=0;r<t.producerNode.length;r++)xo(t.producerNode[r],t.producerIndexOfThis[r]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function xo(t,r){if(function Oo(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),zs(t),1===t.liveConsumerNode.length)for(let a=0;a<t.producerNode.length;a++)xo(t.producerNode[a],t.producerIndexOfThis[a]);const o=t.liveConsumerNode.length-1;if(t.liveConsumerNode[r]=t.liveConsumerNode[o],t.liveConsumerIndexOfThis[r]=t.liveConsumerIndexOfThis[o],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,r<t.liveConsumerNode.length){const a=t.liveConsumerIndexOfThis[r],u=t.liveConsumerNode[r];zs(u),u.producerIndexOfThis[a]=r}}function vo(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function zs(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let Ua=null;function ce(t){const r=Si(null);try{return t()}finally{Si(r)}}const Ke=()=>{},ft=(()=>({...Po,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:Ke}))();class en{constructor(r,o,a){this.previousValue=r,this.currentValue=o,this.firstChange=a}isFirstChange(){return this.firstChange}}function fn(){return tn}function tn(t){return t.type.prototype.ngOnChanges&&(t.setInput=pn),Un}function Un(){const t=Wr(this),r=t?.current;if(r){const o=t.previous;if(o===tt)t.previous=r;else for(let a in r)o[a]=r[a];t.current=null,this.ngOnChanges(r)}}function pn(t,r,o,a){const u=this.declaredInputs[o],d=Wr(t)||function Cr(t,r){return t[jn]=r}(t,{previous:tt,current:null}),g=d.current||(d.current={}),w=d.previous,S=w[u];g[u]=new en(S&&S.currentValue,r,w===tt),t[a]=r}fn.ngInherit=!0;const jn="__ngSimpleChanges__";function Wr(t){return t[jn]||null}const Nr=function(t,r,o){},cs="svg";function fr(t){for(;Array.isArray(t);)t=t[or];return t}function No(t,r){return fr(r[t])}function $t(t,r){return fr(r[t.index])}function Pn(t,r){return t.data[r]}function br(t,r){const o=r[t];return Ur(o)?o:o[or]}function Rn(t,r){return null==r?null:t[r]}function ko(t){t[Us]=0}function Lo(t){1024&t[_n]||(t[_n]|=1024,Fo(t,1))}function ci(t){1024&t[_n]&&(t[_n]&=-1025,Fo(t,-1))}function Fo(t,r){let o=t[cr];if(null===o)return;o[Zi]+=r;let a=o;for(o=o[cr];null!==o&&(1===r&&1===a[Zi]||-1===r&&0===a[Zi]);)o[Zi]+=r,a=o,o=o[cr]}const Yt={lFrame:B(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function it(){return Yt.bindingsEnabled}function yt(){return null!==Yt.skipHydrationRootTNode}function vt(){return Yt.lFrame.lView}function Ir(){return Yt.lFrame.tView}function mi(t){return Yt.lFrame.contextLView=t,t[ar]}function uc(t){return Yt.lFrame.contextLView=null,t}function ds(){let t=Xc();for(;null!==t&&64===t.type;)t=t.parent;return t}function Xc(){return Yt.lFrame.currentTNode}function vn(t,r){const o=Yt.lFrame;o.currentTNode=t,o.isParent=r}function wa(){return Yt.lFrame.isParent}function Ba(){Yt.lFrame.isParent=!1}function Sn(){const t=Yt.lFrame;let r=t.bindingRootIndex;return-1===r&&(r=t.bindingRootIndex=t.tView.bindingStartIndex),r}function Ft(){return Yt.lFrame.bindingIndex++}function Ms(t){const r=Yt.lFrame,o=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,o}function cc(t,r){const o=Yt.lFrame;o.bindingIndex=o.bindingRootIndex=t,dc(r)}function dc(t){Yt.lFrame.currentDirectiveIndex=t}function ed(){return Yt.lFrame.currentQueryIndex}function zl(t){Yt.lFrame.currentQueryIndex=t}function T(t){const r=t[Lt];return 2===r.type?r.declTNode:1===r.type?t[Gr]:null}function A(t,r,o){if(o&Xt.SkipSelf){let u=r,d=t;for(;!(u=u.parent,null!==u||o&Xt.Host||(u=T(d),null===u||(d=d[Ti],10&u.type))););if(null===u)return!1;r=u,t=d}const a=Yt.lFrame=R();return a.currentTNode=r,a.lView=t,!0}function v(t){const r=R(),o=t[Lt];Yt.lFrame=r,r.currentTNode=o.firstChild,r.lView=t,r.tView=o,r.contextLView=t,r.bindingIndex=o.bindingStartIndex,r.inI18n=!1}function R(){const t=Yt.lFrame,r=null===t?null:t.child;return null===r?B(t):r}function B(t){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function ne(){const t=Yt.lFrame;return Yt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Q=ne;function et(){const t=ne();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function un(){return Yt.lFrame.selectedIndex}function Xn(t){Yt.lFrame.selectedIndex=t}function In(){const t=Yt.lFrame;return Pn(t.tView,t.selectedIndex)}function Es(){Yt.lFrame.currentNamespace=cs}let Ws=!0;function ua(){return Ws}function Vo(t){Ws=t}function hs(t,r){for(let o=r.directiveStart,a=r.directiveEnd;o<a;o++){const d=t.data[o].type.prototype,{ngAfterContentInit:g,ngAfterContentChecked:w,ngAfterViewInit:S,ngAfterViewChecked:H,ngOnDestroy:te}=d;g&&(t.contentHooks??=[]).push(-o,g),w&&((t.contentHooks??=[]).push(o,w),(t.contentCheckHooks??=[]).push(o,w)),S&&(t.viewHooks??=[]).push(-o,S),H&&((t.viewHooks??=[]).push(o,H),(t.viewCheckHooks??=[]).push(o,H)),null!=te&&(t.destroyHooks??=[]).push(o,te)}}function Gl(t,r,o){Wl(t,r,3,o)}function Cu(t,r,o,a){(3&t[_n])===o&&Wl(t,r,o,a)}function lo(t,r){let o=t[_n];(3&o)===r&&(o&=8191,o+=1,t[_n]=o)}function Wl(t,r,o,a){const d=a??-1,g=r.length-1;let w=0;for(let S=void 0!==a?65535&t[Us]:0;S<g;S++)if("number"==typeof r[S+1]){if(w=r[S],null!=a&&w>=a)break}else r[S]<0&&(t[Us]+=65536),(w<d||-1==d)&&(bh(t,o,r,S),t[Us]=(4294901760&t[Us])+S+2),S++}function ul(t,r){Nr(4,t,r);const o=Si(null);try{r.call(t)}finally{Si(o),Nr(5,t,r)}}function bh(t,r,o,a){const u=o[a]<0,d=o[a+1],w=t[u?-o[a]:o[a]];u?t[_n]>>13<t[Us]>>16&&(3&t[_n])===r&&(t[_n]+=8192,ul(w,d)):ul(w,d)}const $a=-1;class bu{constructor(r,o,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=a}}function rd(t){return t!==$a}function dl(t){return 32767&t}function hl(t,r){let o=function Mp(t){return t>>16}(t),a=r;for(;o>0;)a=a[Ti],o--;return a}let id=!0;function fl(t){const r=id;return id=t,r}const sd=255,pl=5;let xp=0;const Uo={};function ml(t,r){const o=od(t,r);if(-1!==o)return o;const a=r[Lt];a.firstCreatePass&&(t.injectorIndex=r.length,Bo(a.data,t),Bo(r,null),Bo(a.blueprint,null));const u=Lr(t,r),d=t.injectorIndex;if(rd(u)){const g=dl(u),w=hl(u,r),S=w[Lt].data;for(let H=0;H<8;H++)r[d+H]=w[g+H]|S[g+H]}return r[d+8]=u,d}function Bo(t,r){t.push(0,0,0,0,0,0,0,0,r)}function od(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function Lr(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let o=0,a=null,u=r;for(;null!==u;){if(a=Yl(u),null===a)return $a;if(o++,u=u[Ti],-1!==a.injectorIndex)return a.injectorIndex|o<<16}return $a}function gl(t,r,o){!function Qi(t,r,o){let a;"string"==typeof o?a=o.charCodeAt(0)||0:o.hasOwnProperty(ei)&&(a=o[ei]),null==a&&(a=o[ei]=xp++);const u=a&sd;r.data[t+(u>>pl)]|=1<<u}(t,r,o)}function jr(t,r,o){if(o&Xt.Optional||void 0!==t)return t;lt()}function ad(t,r,o,a){if(o&Xt.Optional&&void 0===a&&(a=null),!(o&(Xt.Self|Xt.Host))){const u=t[Di],d=Zn(void 0);try{return u?u.get(r,a,o&Xt.Optional):vr(r,a,o&Xt.Optional)}finally{Zn(d)}}return jr(a,0,o)}function Sa(t,r,o,a=Xt.Default,u){if(null!==t){if(2048&r[_n]&&!(a&Xt.Self)){const g=function Pa(t,r,o,a,u){let d=t,g=r;for(;null!==d&&null!==g&&2048&g[_n]&&!(512&g[_n]);){const w=eo(d,g,o,a|Xt.Self,Uo);if(w!==Uo)return w;let S=d.parent;if(!S){const H=g[hr];if(H){const te=H.get(o,Uo,a);if(te!==Uo)return te}S=Yl(g),g=g[Ti]}d=S}return u}(t,r,o,a,Uo);if(g!==Uo)return g}const d=eo(t,r,o,a,Uo);if(d!==Uo)return d}return ad(r,o,a,u)}function eo(t,r,o,a,u){const d=function Op(t){if("string"==typeof t)return t.charCodeAt(0)||0;const r=t.hasOwnProperty(ei)?t[ei]:void 0;return"number"==typeof r?r>=0?r&sd:Zl:r}(o);if("function"==typeof d){if(!A(r,t,a))return a&Xt.Host?jr(u,0,a):ad(r,o,a,u);try{let g;if(g=d(a),null!=g||a&Xt.Optional)return g;lt()}finally{Q()}}else if("number"==typeof d){let g=null,w=od(t,r),S=$a,H=a&Xt.Host?r[dr][Gr]:null;for((-1===w||a&Xt.SkipSelf)&&(S=-1===w?Lr(t,r):r[w+8],S!==$a&&Pi(a,!1)?(g=r[Lt],w=dl(S),r=hl(S,r)):w=-1);-1!==w;){const te=r[Lt];if(Yo(d,w,te.data)){const _e=Sh(w,r,o,g,a,H);if(_e!==Uo)return _e}S=r[w+8],S!==$a&&Pi(a,r[Lt].data[w+8]===H)&&Yo(d,w,r)?(g=te,w=dl(S),r=hl(S,r)):w=-1}}return u}function Sh(t,r,o,a,u,d){const g=r[Lt],w=g.data[t+8],te=ql(w,g,o,null==a?Hs(w)&&id:a!=g&&0!=(3&w.type),u&Xt.Host&&d===w);return null!==te?gi(r,g,te,w):Uo}function ql(t,r,o,a,u){const d=t.providerIndexes,g=r.data,w=1048575&d,S=t.directiveStart,te=d>>20,Ve=u?w+te:t.directiveEnd;for(let We=a?w:w+te;We<Ve;We++){const ht=g[We];if(We<S&&o===ht||We>=S&&ht.type===o)return We}if(u){const We=g[S];if(We&&us(We)&&We.type===o)return S}return null}function gi(t,r,o,a){let u=t[o];const d=r.data;if(function cl(t){return t instanceof bu}(u)){const g=u;g.resolving&&function Ce(t,r){const o=r?`. Dependency path: ${r.join(" > ")} > ${t}`:"";throw new ae(-200,`Circular dependency in DI detected for ${t}${o}`)}(function ge(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():me(t)}(d[o]));const w=fl(g.canSeeViewProviders);g.resolving=!0;const H=g.injectImpl?Zn(g.injectImpl):null;A(t,a,Xt.Default);try{u=t[o]=g.factory(void 0,d,t,a),r.firstCreatePass&&o>=a.directiveStart&&function hc(t,r,o){const{ngOnChanges:a,ngOnInit:u,ngDoCheck:d}=r.type.prototype;if(a){const g=tn(r);(o.preOrderHooks??=[]).push(t,g),(o.preOrderCheckHooks??=[]).push(t,g)}u&&(o.preOrderHooks??=[]).push(0-t,u),d&&((o.preOrderHooks??=[]).push(t,d),(o.preOrderCheckHooks??=[]).push(t,d))}(o,d[o],r)}finally{null!==H&&Zn(H),fl(w),g.resolving=!1,Q()}}return u}function Yo(t,r,o){return!!(o[r+(t>>pl)]&1<<t)}function Pi(t,r){return!(t&Xt.Self||t&Xt.Host&&r)}class Ji{constructor(r,o){this._tNode=r,this._lView=o}get(r,o,a){return Sa(this._tNode,this._lView,r,rn(a),o)}}function Zl(){return new Ji(ds(),vt())}function fc(t){return ye(()=>{const r=t.prototype.constructor,o=r[qn]||ca(r),a=Object.prototype;let u=Object.getPrototypeOf(t.prototype).constructor;for(;u&&u!==a;){const d=u[qn]||ca(u);if(d&&d!==o)return d;u=Object.getPrototypeOf(u)}return d=>new d})}function ca(t){return nt(t)?()=>{const r=ca(Xe(t));return r&&r()}:Yi(t)}function Yl(t){const r=t[Lt],o=r.type;return 2===o?r.declTNode:1===o?t[Gr]:null}function Qo(t){return function Ts(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;const o=t.attrs;if(o){const a=o.length;let u=0;for(;u<a;){const d=o[u];if(ti(d))break;if(0===d)u+=2;else if("number"==typeof d)for(u++;u<a&&"string"==typeof o[u];)u++;else{if(d===r)return o[u+1];u+=2}}}return null}(ds(),t)}const Jo="__parameters__";function Ga(t,r,o){return ye(()=>{const a=function za(t){return function(...o){if(t){const a=t(...o);for(const u in a)this[u]=a[u]}}}(r);function u(...d){if(this instanceof u)return a.apply(this,d),this;const g=new u(...d);return w.annotation=g,w;function w(S,H,te){const _e=S.hasOwnProperty(Jo)?S[Jo]:Object.defineProperty(S,Jo,{value:[]})[Jo];for(;_e.length<=te;)_e.push(null);return(_e[te]=_e[te]||[]).push(g),S}}return o&&(u.prototype=Object.create(o.prototype)),u.prototype.ngMetadataName=t,u.annotationCls=u,u})}function Io(t,r){t.forEach(o=>Array.isArray(o)?Io(o,r):r(o))}function cd(t,r,o){r>=t.length?t.push(o):t.splice(r,0,o)}function Su(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function Ra(t,r){const o=[];for(let a=0;a<t;a++)o.push(r);return o}function ws(t,r,o){let a=da(t,r);return a>=0?t[1|a]=o:(a=~a,function mr(t,r,o,a){let u=t.length;if(u==r)t.push(o,a);else if(1===u)t.push(a,t[0]),t[0]=o;else{for(u--,t.push(t[u-1],t[u]);u>r;)t[u]=t[u-2],u--;t[r]=o,t[r+1]=a}}(t,a,r,o)),a}function Pu(t,r){const o=da(t,r);if(o>=0)return t[1|o]}function da(t,r){return function _c(t,r,o){let a=0,u=t.length>>o;for(;u!==a;){const d=a+(u-a>>1),g=t[d<<o];if(r===g)return d<<o;g>r?u=d:a=d+1}return~(u<<o)}(t,r,1)}const vl=Cn(Ga("Optional"),8),Ru=Cn(Ga("SkipSelf"),4);function vd(t){return 128==(128&t.flags)}var Ka=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Ka||{});const Zg=/^>|^->|<!--|-->|--!>|<!-$/g,Nu=/(<|>)/g,Yg="\u200b$1\u200b";const Uh=new Map;let Qg=0;const Lu="__ngContext__";function uo(t,r){Ur(r)?(t[Lu]=r[Bs],function gv(t){Uh.set(t[Bs],t)}(r)):t[Lu]=r}let Kp;function Zp(t,r){return Kp(t,r)}function gr(t){const r=t[cr];return Br(r)?r[cr]:r}function Ed(t){return i_(t[os])}function Yp(t){return i_(t[Dr])}function i_(t){for(;null!==t&&!Br(t);)t=t[Dr];return t}function Uu(t,r,o,a,u){if(null!=a){let d,g=!1;Br(a)?d=a:Ur(a)&&(g=!0,a=a[or]);const w=fr(a);0===t&&null!==o?null==u?l_(r,o,w):eu(r,o,w,u||null,!0):1===t&&null!==o?eu(r,o,w,u||null,!0):2===t?function wc(t,r,o){const a=tu(t,r);a&&function em(t,r,o,a){t.removeChild(r,o,a)}(t,a,r,o)}(r,w,g):3===t&&r.destroyNode(w),null!=d&&function f_(t,r,o,a,u){const d=o[ki];d!==fr(o)&&Uu(r,t,a,d,u);for(let w=ai;w<o.length;w++){const S=o[w];$u(S[Lt],S,t,r,a,d)}}(r,t,d,o,u)}}function Bu(t,r){return t.createComment(function ku(t){return t.replace(Zg,r=>r.replace(Nu,Yg))}(r))}function Xl(t,r,o){return t.createElement(r,o)}function Qp(t,r){const o=t[pi],a=o.indexOf(r);ci(r),o.splice(a,1)}function Cd(t,r){if(t.length<=ai)return;const o=ai+r,a=t[o];if(a){const u=a[wi];null!==u&&u!==t&&Qp(u,a),r>0&&(t[o-1][Dr]=a[Dr]);const d=Su(t,ai+r);!function wd(t,r){$u(t,r,r[on],2,null,null),r[or]=null,r[Gr]=null}(a[Lt],a);const g=d[si];null!==g&&g.detachView(d[Lt]),a[cr]=null,a[Dr]=null,a[_n]&=-129}return a}function Jp(t,r){if(!(256&r[_n])){const o=r[on];r[fi]&&sl(r[fi]),r[Wi]&&sl(r[Wi]),o.destroyNode&&$u(t,r,o,3,null,null),function o_(t){let r=t[os];if(!r)return Xp(t[Lt],t);for(;r;){let o=null;if(Ur(r))o=r[os];else{const a=r[ai];a&&(o=a)}if(!o){for(;r&&!r[Dr]&&r!==t;)Ur(r)&&Xp(r[Lt],r),r=r[cr];null===r&&(r=t),Ur(r)&&Xp(r[Lt],r),o=r&&r[Dr]}r=o}}(r)}}function Xp(t,r){if(!(256&r[_n])){r[_n]&=-129,r[_n]|=256,function vv(t,r){let o;if(null!=t&&null!=(o=t.destroyHooks))for(let a=0;a<o.length;a+=2){const u=r[o[a]];if(!(u instanceof bu)){const d=o[a+1];if(Array.isArray(d))for(let g=0;g<d.length;g+=2){const w=u[d[g]],S=d[g+1];Nr(4,w,S);try{S.call(w)}finally{Nr(5,w,S)}}else{Nr(4,u,d);try{d.call(u)}finally{Nr(5,u,d)}}}}}(t,r),function yv(t,r){const o=t.cleanup,a=r[Ni];if(null!==o)for(let d=0;d<o.length-1;d+=2)if("string"==typeof o[d]){const g=o[d+3];g>=0?a[g]():a[-g].unsubscribe(),d+=2}else o[d].call(a[o[d+1]]);null!==a&&(r[Ni]=null);const u=r[Gi];if(null!==u){r[Gi]=null;for(let d=0;d<u.length;d++)(0,u[d])()}}(t,r),1===r[Lt].type&&r[on].destroy();const o=r[wi];if(null!==o&&Br(r[cr])){o!==r[cr]&&Qp(o,r);const a=r[si];null!==a&&a.detachView(t)}!function Bi(t){Uh.delete(t[Bs])}(r)}}function bd(t,r,o){return function Hu(t,r,o){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return o[or];{const{componentOffset:u}=a;if(u>-1){const{encapsulation:d}=t.data[a.directiveStart+u];if(d===Be.None||d===Be.Emulated)return null}return $t(a,o)}}(t,r.parent,o)}function eu(t,r,o,a,u){t.insertBefore(r,o,a,u)}function l_(t,r,o){t.appendChild(r,o)}function es(t,r,o,a,u){null!==a?eu(t,r,o,a,u):l_(t,r,o)}function tu(t,r){return t.parentNode(r)}function Gh(t,r,o){return Tc(t,r,o)}let Wh,Zh,Qa,Tc=function tm(t,r,o){return 40&t.type?$t(t,o):null};function Dd(t,r,o,a){const u=bd(t,a,r),d=r[on],w=Gh(a.parent||r[Gr],a,r);if(null!=u)if(Array.isArray(o))for(let S=0;S<o.length;S++)es(d,u,o[S],w,!1);else es(d,u,o,w,!1);void 0!==Wh&&Wh(d,a,r,o,u)}function Ad(t,r){if(null!==r){const o=r.type;if(3&o)return $t(r,t);if(4&o)return ju(-1,t[r.index]);if(8&o){const a=r.child;if(null!==a)return Ad(t,a);{const u=t[r.index];return Br(u)?ju(-1,u):fr(u)}}if(32&o)return Zp(r,t)()||fr(t[r.index]);{const a=u_(t,r);return null!==a?Array.isArray(a)?a[0]:Ad(gr(t[dr]),a):Ad(t,r.next)}}return null}function u_(t,r){return null!==r?t[dr][Gr].projection[r.projection]:null}function ju(t,r){const o=ai+t+1;if(o<r.length){const a=r[o],u=a[Lt].firstChild;if(null!==u)return Ad(a,u)}return r[ki]}function qh(t,r,o,a,u,d,g){for(;null!=o;){const w=a[o.index],S=o.type;if(g&&0===r&&(w&&uo(fr(w),a),o.flags|=2),32!=(32&o.flags))if(8&S)qh(t,r,o.child,a,u,d,!1),Uu(r,t,u,w,d);else if(32&S){const H=Zp(o,a);let te;for(;te=H();)Uu(r,t,u,te,d);Uu(r,t,u,w,d)}else 16&S?h_(t,r,a,o,u,d):Uu(r,t,u,w,d);o=g?o.projectionNext:o.next}}function $u(t,r,o,a,u,d){qh(o,a,t.firstChild,r,u,d,!1)}function h_(t,r,o,a,u,d){const g=o[dr],S=g[Gr].projection[a.projection];if(Array.isArray(S))for(let H=0;H<S.length;H++)Uu(r,t,u,S[H],d);else{let H=S;const te=g[cr];vd(a)&&(H.flags|=128),qh(t,r,H,te,u,d,!0)}}function p_(t,r,o){""===o?t.removeAttribute(r,"class"):t.setAttribute(r,"class",o)}function Cl(t,r,o){const{mergedAttrs:a,classes:u,styles:d}=o;null!==a&&ur(t,r,a),null!==u&&p_(t,r,u),null!==d&&function Tv(t,r,o){t.setAttribute(r,"style",o)}(t,r,d)}function Yh(t){Zh=t}function Qh(t){return function Al(){if(void 0===Qa&&(Qa=null,At.trustedTypes))try{Qa=At.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Qa}()?.createScriptURL(t)||t}class Jh{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ct})`}}function Ma(t){return t instanceof Jh?t.changingThisBreaksApplicationSecurity:t}function Sl(t,r){const o=function zu(t){return t instanceof Jh&&t.getTypeName()||null}(t);if(null!=o&&o!==r){if("ResourceURL"===o&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${o} (see ${ct})`)}return o===r}const E_=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var qu=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(qu||{});function rf(t){const r=Rd();return r?r.sanitize(qu.URL,t)||"":Sl(t,"URL")?Ma(t):function Xh(t){return(t=String(t)).match(E_)?t:"unsafe:"+t}(me(t))}function iu(t){const r=Rd();if(r)return Qh(r.sanitize(qu.RESOURCE_URL,t)||"");if(Sl(t,"ResourceURL"))return Qh(Ma(t));throw new ae(904,!1)}function cm(t,r,o){return function su(t,r){return"src"===r&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===r&&("base"===t||"link"===t)?iu:rf}(r,o)(t)}function Rd(){const t=vt();return t&&t[ss].sanitizer}class Fr{constructor(r,o){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=dn({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Md=new Fr("ENVIRONMENT_INITIALIZER"),xd=new Fr("INJECTOR",-1),dm=new Fr("INJECTOR_DEF_TYPES");class hm{get(r,o=$r){if(o===$r){const a=new Error(`NullInjectorError: No provider for ${Ee(r)}!`);throw a.name="NullInjectorError",a}return o}}function sf(t){return{\u0275providers:t}}function Rv(...t){return{\u0275providers:fm(0,t),\u0275fromNgModule:!0}}function fm(t,...r){const o=[],a=new Set;let u;const d=g=>{o.push(g)};return Io(r,g=>{const w=g;au(w,d,[],a)&&(u||=[],u.push(w))}),void 0!==u&&ou(u,d),o}function ou(t,r){for(let o=0;o<t.length;o++){const{ngModule:a,providers:u}=t[o];af(u,d=>{r(d,a)})}}function au(t,r,o,a){if(!(t=Xe(t)))return!1;let u=null,d=yr(t);const g=!d&&Ln(t);if(d||g){if(g&&!g.standalone)return!1;u=t}else{const S=t.ngModule;if(d=yr(S),!d)return!1;u=S}const w=a.has(u);if(g){if(w)return!1;if(a.add(u),g.dependencies){const S="function"==typeof g.dependencies?g.dependencies():g.dependencies;for(const H of S)au(H,r,o,a)}}else{if(!d)return!1;{if(null!=d.imports&&!w){let H;a.add(u);try{Io(d.imports,te=>{au(te,r,o,a)&&(H||=[],H.push(te))})}finally{}void 0!==H&&ou(H,r)}if(!w){const H=Yi(u)||(()=>new u);r({provide:u,useFactory:H,deps:mt},u),r({provide:dm,useValue:u,multi:!0},u),r({provide:Md,useValue:()=>ot(u),multi:!0},u)}const S=d.providers;if(null!=S&&!w){const H=t;af(S,te=>{r(te,H)})}}}return u!==t&&void 0!==t.providers}function af(t,r){for(let o of t)rt(o)&&(o=o.\u0275providers),Array.isArray(o)?af(o,r):r(o)}const xv=ee({provide:String,useValue:ee});function lf(t){return null!==t&&"object"==typeof t&&xv in t}function Rl(t){return"function"==typeof t}const pm=new Fr("Set Injector scope."),uf={},Ov={};let mm;function xc(){return void 0===mm&&(mm=new hm),mm}class Ja{}class Ku extends Ja{get destroyed(){return this._destroyed}constructor(r,o,a,u){super(),this.parent=o,this.source=a,this.scopes=u,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Nd(r,g=>this.processProvider(g)),this.records.set(xd,lu(void 0,this)),u.has("environment")&&this.records.set(Ja,lu(void 0,this));const d=this.records.get(pm);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(dm.multi,mt,Xt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of r)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(r){return this.assertNotDestroyed(),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r)}runInContext(r){this.assertNotDestroyed();const o=he(this),a=Zn(void 0);try{return r()}finally{he(o),Zn(a)}}get(r,o=$r,a=Xt.Default){if(this.assertNotDestroyed(),r.hasOwnProperty(yi))return r[yi](this);a=rn(a);const d=he(this),g=Zn(void 0);try{if(!(a&Xt.SkipSelf)){let S=this.records.get(r);if(void 0===S){const H=function gm(t){return"function"==typeof t||"object"==typeof t&&t instanceof Fr}(r)&&On(r);S=H&&this.injectableDefInScope(H)?lu(Oc(r),uf):null,this.records.set(r,S)}if(null!=S)return this.hydrate(r,S)}return(a&Xt.Self?xc():this.parent).get(r,o=a&Xt.Optional&&o===$r?null:o)}catch(w){if("NullInjectorError"===w.name){if((w[Tr]=w[Tr]||[]).unshift(Ee(r)),d)throw w;return function Ie(t,r,o,a){const u=t[Tr];throw r[j]&&u.unshift(r[j]),t.message=function xe(t,r,o,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let u=Ee(r);if(Array.isArray(r))u=r.map(Ee).join(" -> ");else if("object"==typeof r){let d=[];for(let g in r)if(r.hasOwnProperty(g)){let w=r[g];d.push(g+":"+("string"==typeof w?JSON.stringify(w):Ee(w)))}u=`{${d.join(", ")}}`}return`${o}${a?"("+a+")":""}[${u}]: ${t.replace(Re,"\n  ")}`}("\n"+t.message,u,o,a),t.ngTokenPath=u,t[Tr]=null,t}(w,r,"R3InjectorError",this.source)}throw w}finally{Zn(g),he(d)}}resolveInjectorInitializers(){const r=he(this),o=Zn(void 0);try{const u=this.get(Md.multi,mt,Xt.Self);for(const d of u)d()}finally{he(r),Zn(o)}}toString(){const r=[],o=this.records;for(const a of o.keys())r.push(Ee(a));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ae(205,!1)}processProvider(r){let o=Rl(r=Xe(r))?r:Xe(r&&r.provide);const a=function S_(t){return lf(t)?lu(void 0,t.useValue):lu(cf(t),uf)}(r);if(Rl(r)||!0!==r.multi)this.records.get(o);else{let u=this.records.get(o);u||(u=lu(void 0,uf,!0),u.factory=()=>Zt(u.multi),this.records.set(o,u)),o=r,u.multi.push(r)}this.records.set(o,a)}hydrate(r,o){return o.value===uf&&(o.value=Ov,o.value=o.factory()),"object"==typeof o.value&&o.value&&function df(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(r){if(!r.providedIn)return!1;const o=Xe(r.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}removeOnDestroy(r){const o=this._onDestroyHooks.indexOf(r);-1!==o&&this._onDestroyHooks.splice(o,1)}}function Oc(t){const r=On(t),o=null!==r?r.factory:Yi(t);if(null!==o)return o;if(t instanceof Fr)throw new ae(204,!1);if(t instanceof Function)return function Nv(t){const r=t.length;if(r>0)throw Ra(r,"?"),new ae(204,!1);const o=function Nn(t){return t&&(t[kn]||t[Mr])||null}(t);return null!==o?()=>o.factory(t):()=>new t}(t);throw new ae(204,!1)}function cf(t,r,o){let a;if(Rl(t)){const u=Xe(t);return Yi(u)||Oc(u)}if(lf(t))a=()=>Xe(t.useValue);else if(function A_(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...Zt(t.deps||[]));else if(function D_(t){return!(!t||!t.useExisting)}(t))a=()=>ot(Xe(t.useExisting));else{const u=Xe(t&&(t.useClass||t.provide));if(!function Od(t){return!!t.deps}(t))return Yi(u)||Oc(u);a=()=>new u(...Zt(t.deps))}return a}function lu(t,r,o=!1){return{factory:t,value:r,multi:o?[]:void 0}}function Nd(t,r){for(const o of t)Array.isArray(o)?Nd(o,r):o&&rt(o)?Nd(o.\u0275providers,r):r(o)}const P_=new Fr("AppId",{providedIn:"root",factory:()=>R_}),R_="ng",M_=new Fr("Platform Initializer"),hf=new Fr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),_m=new Fr("AnimationModuleType"),Lv=new Fr("CSP nonce",{providedIn:"root",factory:()=>function ha(){if(void 0!==Zh)return Zh;if(typeof document<"u")return document;throw new ae(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Bd=(t,r,o)=>null;function Hd(t,r,o=!1){return Bd(t,r,o)}class jd{}class vf{}class Bv{resolveComponentFactory(r){throw function k_(t){const r=Error(`No component factory found for ${Ee(t)}.`);return r.ngComponent=t,r}(r)}}let If=(()=>{class t{static#e=this.NULL=new Bv}return t})();function bm(){return Lc(ds(),vt())}function Lc(t,r){return new $d($t(t,r))}let $d=(()=>{class t{constructor(o){this.nativeElement=o}static#e=this.__NG_ELEMENT_ID__=bm}return t})();function zd(t){return t instanceof $d?t.nativeElement:t}class Ef{}let Fc=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function Dm(){const t=vt(),o=br(ds().index,t);return(Ur(o)?o:t)[on]}()}return t})(),Tf=(()=>{class t{static#e=this.\u0275prov=dn({token:t,providedIn:"root",factory:()=>null})}return t})();class Vc{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const wf=new Vc("16.2.9"),Cf={};function Af(t,r=null,o=null,a){const u=Pm(t,r,o,a);return u.resolveInjectorInitializers(),u}function Pm(t,r=null,o=null,a,u=new Set){const d=[o||mt,Rv(t)];return a=a||("object"==typeof t?void 0:Ee(t)),new Ku(d,r||xc(),a||null,u)}let ho=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=$r;static#t=this.NULL=new hm;static create(o,a){if(Array.isArray(o))return Af({name:""},a,o,"");{const u=o.name??"";return Af({name:u},o.parent,o.providers,u)}}static#n=this.\u0275prov=dn({token:t,providedIn:"any",factory:()=>ot(xd)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function Rm(t){return t.ngOriginalError}class Ol{constructor(){this._console=console}handleError(r){const o=this._findOriginalError(r);this._console.error("ERROR",r),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(r){let o=r&&Rm(r);for(;o&&Rm(o);)o=Rm(o);return o||null}}function Wd(t){return r=>{setTimeout(t,void 0,r)}}const Xa=class Gv extends p.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,o,a){let u=r,d=o||(()=>null),g=a;if(r&&"object"==typeof r){const S=r;u=S.next?.bind(S),d=S.error?.bind(S),g=S.complete?.bind(S)}this.__isAsync&&(d=Wd(d),u&&(u=Wd(u)),g&&(g=Wd(g)));const w=super.subscribe({next:u,error:d,complete:g});return r instanceof V.w0&&r.add(w),w}};function Rf(...t){}class Ns{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Xa(!1),this.onMicrotaskEmpty=new Xa(!1),this.onStable=new Xa(!1),this.onError=new Xa(!1),typeof Zone>"u")throw new ae(908,!1);Zone.assertZonePatched();const u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!a&&o,u.shouldCoalesceRunChangeDetection=a,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function Wv(){const t="function"==typeof At.requestAnimationFrame;let r=At[t?"requestAnimationFrame":"setTimeout"],o=At[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&r&&o){const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a);const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function Uc(t){const r=()=>{!function xm(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(At,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,el(t),t.isCheckStableRunning=!0,qd(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),el(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,a,u,d,g,w)=>{if(function qv(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(w))return o.invokeTask(u,d,g,w);try{return Mf(t),o.invokeTask(u,d,g,w)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||t.shouldCoalesceRunChangeDetection)&&r(),Yu(t)}},onInvoke:(o,a,u,d,g,w,S)=>{try{return Mf(t),o.invoke(u,d,g,w,S)}finally{t.shouldCoalesceRunChangeDetection&&r(),Yu(t)}},onHasTask:(o,a,u,d)=>{o.hasTask(u,d),a===u&&("microTask"==d.change?(t._hasPendingMicrotasks=d.microTask,el(t),qd(t)):"macroTask"==d.change&&(t.hasPendingMacrotasks=d.macroTask))},onHandleError:(o,a,u,d)=>(o.handleError(u,d),t.runOutsideAngular(()=>t.onError.emit(d)),!1)})}(u)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ns.isInAngularZone())throw new ae(909,!1)}static assertNotInAngularZone(){if(Ns.isInAngularZone())throw new ae(909,!1)}run(r,o,a){return this._inner.run(r,o,a)}runTask(r,o,a,u){const d=this._inner,g=d.scheduleEventTask("NgZoneEvent: "+u,r,Mm,Rf,Rf);try{return d.runTask(g,o,a)}finally{d.cancelTask(g)}}runGuarded(r,o,a){return this._inner.runGuarded(r,o,a)}runOutsideAngular(r){return this._outer.run(r)}}const Mm={};function qd(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function el(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Mf(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Yu(t){t._nesting--,qd(t)}class Bc{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Xa,this.onMicrotaskEmpty=new Xa,this.onStable=new Xa,this.onError=new Xa}run(r,o,a){return r.apply(o,a)}runGuarded(r,o,a){return r.apply(o,a)}runOutsideAngular(r){return r()}runTask(r,o,a,u){return r.apply(o,a)}}const Om=new Fr("",{providedIn:"root",factory:Qu});function Qu(){const t=_t(Ns);let r=!0;const o=new b.y(u=>{r=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{u.next(r),u.complete()})}),a=new b.y(u=>{let d;t.runOutsideAngular(()=>{d=t.onStable.subscribe(()=>{Ns.assertNotInAngularZone(),queueMicrotask(()=>{!r&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(r=!0,u.next(!0))})})});const g=t.onUnstable.subscribe(()=>{Ns.assertInAngularZone(),r&&(r=!1,t.runOutsideAngular(()=>{u.next(!1)}))});return()=>{d.unsubscribe(),g.unsubscribe()}});return(0,Te.T)(o,a.pipe((0,q.B)()))}function xf(t){return t.ownerDocument}function xa(t){return t instanceof Function?t():t}let kf=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=dn({token:t,providedIn:"root",factory:()=>new t})}return t})();function Kd(t){for(;t;){t[_n]|=64;const r=gr(t);if(bo(t)&&!r)return t;t=r}return null}const Lm=new Fr("",{providedIn:"root",factory:()=>!1});let Yd=null;function Vm(t,r){return t[r]??Ff()}function Z_(t,r){const o=Ff();o.producerNode?.length&&(t[r]=Yd,o.lView=t,Yd=Y_())}const Um={...Po,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Kd(t.lView)},lView:null};function Y_(){return Object.create(Um)}function Ff(){return Yd??=Y_(),Yd}const Qn={};function Vf(t){Q_(Ir(),vt(),un()+t,!1)}function Q_(t,r,o,a){if(!a)if(3==(3&r[_n])){const d=t.preOrderCheckHooks;null!==d&&Gl(r,d,o)}else{const d=t.preOrderHooks;null!==d&&Cu(r,d,0,o)}Xn(o)}function fu(t,r=Xt.Default){const o=vt();return null===o?ot(t,r):Sa(ds(),o,Xe(t),r)}function Uf(){throw new Error("invalid")}function Nl(t,r,o,a,u,d,g,w,S,H,te){const _e=r.blueprint.slice();return _e[or]=u,_e[_n]=140|a,(null!==H||t&&2048&t[_n])&&(_e[_n]|=2048),ko(_e),_e[cr]=_e[Ti]=t,_e[ar]=o,_e[ss]=g||t&&t[ss],_e[on]=w||t&&t[on],_e[Di]=S||t&&t[Di]||null,_e[Gr]=d,_e[Bs]=function Id(){return Qg++}(),_e[Ci]=te,_e[hr]=H,_e[dr]=2==r.type?t[dr]:_e,_e}function Ju(t,r,o,a,u){let d=t.data[r];if(null===d)d=function Qd(t,r,o,a,u){const d=Xc(),g=wa(),S=t.data[r]=function Gm(t,r,o,a,u,d){let g=r?r.injectorIndex:-1,w=0;return yt()&&(w|=128),{type:o,index:a,insertBeforeIndex:null,injectorIndex:g,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:w,providerIndexes:0,value:u,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?d:d&&d.parent,o,r,a,u);return null===t.firstChild&&(t.firstChild=S),null!==d&&(g?null==d.child&&null!==S.parent&&(d.child=S):null===d.next&&(d.next=S,S.prev=d)),S}(t,r,o,a,u),function Ha(){return Yt.lFrame.inI18n}()&&(d.flags|=32);else if(64&d.type){d.type=o,d.value=a,d.attrs=u;const g=function Ta(){const t=Yt.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}();d.injectorIndex=null===g?-1:g.injectorIndex}return vn(d,!0),d}function Jd(t,r,o,a){if(0===o)return-1;const u=r.length;for(let d=0;d<o;d++)r.push(a),t.blueprint.push(a),t.data.push(null);return u}function Bf(t,r,o,a,u){const d=Vm(r,fi),g=un(),w=2&a;try{Xn(-1),w&&r.length>Wn&&Q_(t,r,Wn,!1),Nr(w?2:0,u);const H=w?d:null,te=Is(H);try{null!==H&&(H.dirty=!1),o(a,u)}finally{yo(H,te)}}finally{w&&null===r[fi]&&Z_(r,fi),Xn(g),Nr(w?3:1,u)}}function Oa(t,r,o){if(Hr(r)){const a=Si(null);try{const d=r.directiveEnd;for(let g=r.directiveStart;g<d;g++){const w=t.data[g];w.contentQueries&&w.contentQueries(1,o[g],g)}}finally{Si(a)}}}function Xd(t,r,o){it()&&(function oI(t,r,o,a){const u=o.directiveStart,d=o.directiveEnd;Hs(o)&&function cI(t,r,o){const a=$t(r,t),u=Hf(o);let g=16;o.signals?g=4096:o.onPush&&(g=64);const w=Xu(t,Nl(t,u,null,g,a,r,null,t[ss].rendererFactory.createRenderer(a,o),null,null,null));t[r.index]=w}(r,o,t.data[u+o.componentOffset]),t.firstCreatePass||ml(o,r),uo(a,r);const g=o.initialInputs;for(let w=u;w<d;w++){const S=t.data[w],H=gi(r,t,w,o);uo(H,r),null!==g&&Km(0,w-u,H,S,0,g),us(S)&&(br(o.index,r)[ar]=gi(r,t,w,o))}}(t,r,o,$t(o,r)),64==(64&o.flags)&&Gf(t,r,o))}function Hm(t,r,o=$t){const a=r.localNames;if(null!==a){let u=r.index+1;for(let d=0;d<a.length;d+=2){const g=a[d+1],w=-1===g?o(r,t):t[g];t[u++]=w}}}function Hf(t){const r=t.tView;return null===r||r.incompleteFirstPass?t.tView=jm(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):r}function jm(t,r,o,a,u,d,g,w,S,H,te){const _e=Wn+a,Ve=_e+u,We=function Xv(t,r){const o=[];for(let a=0;a<r;a++)o.push(a<t?null:Qn);return o}(_e,Ve),ht="function"==typeof H?H():H;return We[Lt]={type:t,blueprint:We,template:o,queries:null,viewQuery:w,declTNode:r,data:We.slice().fill(null,_e),bindingStartIndex:_e,expandoStartIndex:Ve,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:S,consts:ht,incompleteFirstPass:!1,ssrId:te}}let jf=t=>null;function Wm(t,r,o,a){for(let u in t)if(t.hasOwnProperty(u)){o=null===o?{}:o;const d=t[u];null===a?$f(o,r,u,d):a.hasOwnProperty(u)&&$f(o,r,a[u],d)}return o}function $f(t,r,o,a){t.hasOwnProperty(o)?t[o].push(r,a):t[o]=[r,a]}function eh(t,r,o,a){if(it()){const u=null===a?null:{"":-1},d=function jc(t,r){const o=t.directiveRegistry;let a=null,u=null;if(o)for(let d=0;d<o.length;d++){const g=o[d];if(xi(r,g.selectors,!1))if(a||(a=[]),us(g))if(null!==g.findHostDirectiveDefs){const w=[];u=u||new Map,g.findHostDirectiveDefs(g,w,u),a.unshift(...w,g),Wf(t,r,w.length)}else a.unshift(g),Wf(t,r,0);else u=u||new Map,g.findHostDirectiveDefs?.(g,a,u),a.push(g)}return null===a?null:[a,u]}(t,o);let g,w;null===d?g=w=null:[g,w]=d,null!==g&&zf(t,r,o,g,u,w),u&&function qf(t,r,o){if(r){const a=t.localNames=[];for(let u=0;u<r.length;u+=2){const d=o[r[u+1]];if(null==d)throw new ae(-301,!1);a.push(r[u],d)}}}(o,a,u)}o.mergedAttrs=Fn(o.mergedAttrs,o.attrs)}function zf(t,r,o,a,u,d){for(let H=0;H<a.length;H++)gl(ml(o,r),t,a[H].type);!function lI(t,r,o){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+o,t.providerIndexes=r}(o,t.data.length,a.length);for(let H=0;H<a.length;H++){const te=a[H];te.providersResolver&&te.providersResolver(te)}let g=!1,w=!1,S=Jd(t,r,a.length,null);for(let H=0;H<a.length;H++){const te=a[H];o.mergedAttrs=Fn(o.mergedAttrs,te.hostAttrs),uI(t,o,r,S,te),aI(S,te,u),null!==te.contentQueries&&(o.flags|=4),(null!==te.hostBindings||null!==te.hostAttrs||0!==te.hostVars)&&(o.flags|=64);const _e=te.type.prototype;!g&&(_e.ngOnChanges||_e.ngOnInit||_e.ngDoCheck)&&((t.preOrderHooks??=[]).push(o.index),g=!0),!w&&(_e.ngOnChanges||_e.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(o.index),w=!0),S++}!function J_(t,r,o){const u=r.directiveEnd,d=t.data,g=r.attrs,w=[];let S=null,H=null;for(let te=r.directiveStart;te<u;te++){const _e=d[te],Ve=o?o.get(_e):null,ht=Ve?Ve.outputs:null;S=Wm(_e.inputs,te,S,Ve?Ve.inputs:null),H=Wm(_e.outputs,te,H,ht);const Pt=null===S||null===g||Zs(r)?null:ty(S,te,g);w.push(Pt)}null!==S&&(S.hasOwnProperty("class")&&(r.flags|=8),S.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=w,r.inputs=S,r.outputs=H}(t,o,d)}function Gf(t,r,o){const a=o.directiveStart,u=o.directiveEnd,d=o.index,g=function ba(){return Yt.lFrame.currentDirectiveIndex}();try{Xn(d);for(let w=a;w<u;w++){const S=t.data[w],H=r[w];dc(w),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&ey(S,H)}}finally{Xn(-1),dc(g)}}function ey(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function Wf(t,r,o){r.componentOffset=o,(t.components??=[]).push(r.index)}function aI(t,r,o){if(o){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)o[r.exportAs[a]]=t;us(r)&&(o[""]=t)}}function uI(t,r,o,a,u){t.data[a]=u;const d=u.factory||(u.factory=Yi(u.type)),g=new bu(d,us(u),fu);t.blueprint[a]=g,o[a]=g,function sI(t,r,o,a,u){const d=u.hostBindings;if(d){let g=t.hostBindingOpCodes;null===g&&(g=t.hostBindingOpCodes=[]);const w=~r.index;(function th(t){let r=t.length;for(;r>0;){const o=t[--r];if("number"==typeof o&&o<0)return o}return 0})(g)!=w&&g.push(w),g.push(o,a,d)}}(t,r,a,Jd(t,o,u.hostVars,Qn),u)}function na(t,r,o,a,u,d){const g=$t(t,r);!function nh(t,r,o,a,u,d,g){if(null==d)t.removeAttribute(r,u,o);else{const w=null==g?me(d):g(d,a||"",u);t.setAttribute(r,u,w,o)}}(r[on],g,d,t.value,o,a,u)}function Km(t,r,o,a,u,d){const g=d[r];if(null!==g)for(let w=0;w<g.length;)Kf(a,o,g[w++],g[w++],g[w++])}function Kf(t,r,o,a,u){const d=Si(null);try{const g=t.inputTransforms;null!==g&&g.hasOwnProperty(a)&&(u=g[a].call(r,u)),null!==t.setInput?t.setInput(r,u,o,a):r[a]=u}finally{Si(d)}}function ty(t,r,o){let a=null,u=0;for(;u<o.length;){const d=o[u];if(0!==d)if(5!==d){if("number"==typeof d)break;if(t.hasOwnProperty(d)){null===a&&(a=[]);const g=t[d];for(let w=0;w<g.length;w+=2)if(g[w]===r){a.push(d,g[w+1],o[u+1]);break}}u+=2}else u+=2;else u+=4}return a}function Zf(t,r,o,a){return[t,!0,!1,r,null,0,a,o,null,null,null]}function Yf(t,r){const o=t.contentQueries;if(null!==o)for(let a=0;a<o.length;a+=2){const d=o[a+1];if(-1!==d){const g=t.data[d];zl(o[a]),g.contentQueries(2,r[d],d)}}}function Xu(t,r){return t[os]?t[Ds][Dr]=r:t[os]=r,t[Ds]=r,r}function rh(t,r,o){zl(0);const a=Si(null);try{r(t,o)}finally{Si(a)}}function ec(t){return t[Ni]||(t[Ni]=[])}function Zm(t){return t.cleanup||(t.cleanup=[])}function Ym(t,r){const o=t[Di],a=o?o.get(Ol,null):null;a&&a.handleError(r)}function pu(t,r,o,a,u){for(let d=0;d<o.length;){const g=o[d++],w=o[d++];Kf(t.data[g],r[g],a,w,u)}}function hI(t,r){const o=br(r,t),a=o[Lt];!function fI(t,r){for(let o=r.length;o<t.blueprint.length;o++)r.push(t.blueprint[o])}(a,o);const u=o[or];null!==u&&null===o[Ci]&&(o[Ci]=Hd(u,o[Di])),Qm(a,o,o[ar])}function Qm(t,r,o){v(r);try{const a=t.viewQuery;null!==a&&rh(1,a,o);const u=t.template;null!==u&&Bf(t,r,u,1,o),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Yf(t,r),t.staticViewQueries&&rh(2,t.viewQuery,o);const d=t.components;null!==d&&function ny(t,r){for(let o=0;o<r.length;o++)hI(t,r[o])}(r,d)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{r[_n]&=-5,et()}}let ry=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(o,a,u){const d=typeof Zone>"u"?null:Zone.current,g=function Ue(t,r,o){const a=Object.create(ft);o&&(a.consumerAllowSignalWrites=!0),a.fn=t,a.schedule=r;const u=g=>{a.cleanupFn=g};return a.ref={notify:()=>Ro(a),run:()=>{if(a.dirty=!1,a.hasRun&&!Ea(a))return;a.hasRun=!0;const g=Is(a);try{a.cleanupFn(),a.cleanupFn=Ke,a.fn(u)}finally{yo(a,g)}},cleanup:()=>a.cleanupFn()},a.ref}(o,H=>{this.all.has(H)&&this.queue.set(H,d)},u);let w;this.all.add(g),g.notify();const S=()=>{g.cleanup(),w?.(),this.all.delete(g),this.queue.delete(g)};return w=a?.onDestroy(S),{destroy:S}}flush(){if(0!==this.queue.size)for(const[o,a]of this.queue)this.queue.delete(o),a?a.run(()=>o.run()):o.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=dn({token:t,providedIn:"root",factory:()=>new t})}return t})();function Jf(t,r,o){let a=o?t.styles:null,u=o?t.classes:null,d=0;if(null!==r)for(let g=0;g<r.length;g++){const w=r[g];"number"==typeof w?d=w:1==d?u=ze(u,w):2==d&&(a=ze(a,w+": "+r[++g]+";"))}o?t.styles=a:t.stylesWithoutHost=a,o?t.classes=u:t.classesWithoutHost=u}function ih(t,r,o,a,u=!1){for(;null!==o;){const d=r[o.index];null!==d&&a.push(fr(d)),Br(d)&&sy(d,a);const g=o.type;if(8&g)ih(t,r,o.child,a);else if(32&g){const w=Zp(o,r);let S;for(;S=w();)a.push(S)}else if(16&g){const w=u_(r,o);if(Array.isArray(w))a.push(...w);else{const S=gr(r[dr]);ih(S[Lt],S,w,a,!0)}}o=u?o.projectionNext:o.next}return a}function sy(t,r){for(let o=ai;o<t.length;o++){const a=t[o],u=a[Lt].firstChild;null!==u&&ih(a[Lt],a,u,r)}t[ki]!==t[or]&&r.push(t[ki])}function Xf(t,r,o,a=!0){const u=r[ss],d=u.rendererFactory,g=u.afterRenderEventManager;d.begin?.(),g?.begin();try{Jm(t,r,t.template,o)}catch(S){throw a&&Ym(r,S),S}finally{d.end?.(),u.effectManager?.flush(),g?.end()}}function Jm(t,r,o,a){const u=r[_n];if(256!=(256&u)){r[ss].effectManager?.flush(),v(r);try{ko(r),function Zr(t){return Yt.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==o&&Bf(t,r,o,2,a);const g=3==(3&u);if(g){const H=t.preOrderCheckHooks;null!==H&&Gl(r,H,null)}else{const H=t.preOrderHooks;null!==H&&Cu(r,H,0,null),lo(r,0)}if(function eg(t){for(let r=Ed(t);null!==r;r=Yp(r)){if(!r[Va])continue;const o=r[pi];for(let a=0;a<o.length;a++){Lo(o[a])}}}(r),Xm(r,2),null!==t.contentQueries&&Yf(t,r),g){const H=t.contentCheckHooks;null!==H&&Gl(r,H)}else{const H=t.contentHooks;null!==H&&Cu(r,H,1),lo(r,1)}!function Bm(t,r){const o=t.hostBindingOpCodes;if(null===o)return;const a=Vm(r,Wi);try{for(let u=0;u<o.length;u++){const d=o[u];if(d<0)Xn(~d);else{const g=d,w=o[++u],S=o[++u];cc(w,g),a.dirty=!1;const H=Is(a);try{S(2,r[g])}finally{yo(a,H)}}}}finally{null===r[Wi]&&Z_(r,Wi),Xn(-1)}}(t,r);const w=t.components;null!==w&&ng(r,w,0);const S=t.viewQuery;if(null!==S&&rh(2,S,a),g){const H=t.viewCheckHooks;null!==H&&Gl(r,H)}else{const H=t.viewHooks;null!==H&&Cu(r,H,2),lo(r,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),r[_n]&=-73,ci(r)}finally{et()}}}function Xm(t,r){for(let o=Ed(t);null!==o;o=Yp(o))for(let a=ai;a<o.length;a++)tg(o[a],r)}function oy(t,r,o){tg(br(r,t),o)}function tg(t,r){if(!function Kr(t){return 128==(128&t[_n])}(t))return;const o=t[Lt],a=t[_n];if(80&a&&0===r||1024&a||2===r)Jm(o,t,o.template,t[ar]);else if(t[Zi]>0){Xm(t,1);const u=o.components;null!==u&&ng(t,u,1)}}function ng(t,r,o){for(let a=0;a<r.length;a++)oy(t,r[a],o)}class mu{get rootNodes(){const r=this._lView,o=r[Lt];return ih(o,r,o.firstChild,[])}constructor(r,o){this._lView=r,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ar]}set context(r){this._lView[ar]=r}get destroyed(){return 256==(256&this._lView[_n])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[cr];if(Br(r)){const o=r[8],a=o?o.indexOf(this):-1;a>-1&&(Cd(r,a),Su(o,a))}this._attachedToViewContainer=!1}Jp(this._lView[Lt],this._lView)}onDestroy(r){!function pt(t,r){if(256==(256&t[_n]))throw new ae(911,!1);null===t[Gi]&&(t[Gi]=[]),t[Gi].push(r)}(this._lView,r)}markForCheck(){Kd(this._cdRefInjectingView||this._lView)}detach(){this._lView[_n]&=-129}reattach(){this._lView[_n]|=128}detectChanges(){Xf(this._lView[Lt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ae(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function s_(t,r){$u(t,r,r[on],2,null,null)}(this._lView[Lt],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new ae(902,!1);this._appRef=r}}class Er extends mu{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;Xf(r[Lt],r,r[ar],!1)}checkNoChanges(){}get context(){return null}}class rg extends If{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const o=Ln(r);return new ps(o,this.ngModule)}}function ig(t){const r=[];for(let o in t)t.hasOwnProperty(o)&&r.push({propName:t[o],templateName:o});return r}class ay{constructor(r,o){this.injector=r,this.parentInjector=o}get(r,o,a){a=rn(a);const u=this.injector.get(r,Cf,a);return u!==Cf||o===Cf?u:this.parentInjector.get(r,o,a)}}class ps extends vf{get inputs(){const r=this.componentDef,o=r.inputTransforms,a=ig(r.inputs);if(null!==o)for(const u of a)o.hasOwnProperty(u.propName)&&(u.transform=o[u.propName]);return a}get outputs(){return ig(this.componentDef.outputs)}constructor(r,o){super(),this.componentDef=r,this.ngModule=o,this.componentType=r.type,this.selector=function po(t){return t.map(gs).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!o}create(r,o,a,u){let d=(u=u||this.ngModule)instanceof Ja?u:u?.injector;d&&null!==this.componentDef.getStandaloneInjector&&(d=this.componentDef.getStandaloneInjector(d)||d);const g=d?new ay(r,d):r,w=g.get(Ef,null);if(null===w)throw new ae(407,!1);const _e={rendererFactory:w,sanitizer:g.get(Tf,null),effectManager:g.get(ry,null),afterRenderEventManager:g.get(kf,null)},Ve=w.createRenderer(null,this.componentDef),We=this.componentDef.selectors[0][0]||"div",ht=a?function $m(t,r,o,a){const d=a.get(Lm,!1)||o===Be.ShadowDom,g=t.selectRootElement(r,d);return function eI(t){jf(t)}(g),g}(Ve,a,this.componentDef.encapsulation,g):Xl(Ve,We,function sh(t){const r=t.toLowerCase();return"svg"===r?cs:"math"===r?"math":null}(We)),Dn=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Tt=null;null!==ht&&(Tt=Hd(ht,g,!0));const Yn=jm(0,null,null,1,0,null,null,null,null,null,null),_r=Nl(null,Yn,null,Dn,null,null,_e,Ve,g,null,Tt);let _i,_a;v(_r);try{const ac=this.componentDef;let Sp,kE=null;ac.findHostDirectiveDefs?(Sp=[],kE=new Map,ac.findHostDirectiveDefs(ac,Sp,kE),Sp.push(ac)):Sp=[ac];const WD=function tl(t,r){const o=t[Lt],a=Wn;return t[a]=r,Ju(o,a,2,"#host",null)}(_r,ht),qD=function ly(t,r,o,a,u,d,g){const w=u[Lt];!function mI(t,r,o,a){for(const u of t)r.mergedAttrs=Fn(r.mergedAttrs,u.hostAttrs);null!==r.mergedAttrs&&(Jf(r,r.mergedAttrs,!0),null!==o&&Cl(a,o,r))}(a,t,r,g);let S=null;null!==r&&(S=Hd(r,u[Di]));const H=d.rendererFactory.createRenderer(r,o);let te=16;o.signals?te=4096:o.onPush&&(te=64);const _e=Nl(u,Hf(o),null,te,u[t.index],t,d,H,null,null,S);return w.firstCreatePass&&Wf(w,t,a.length-1),Xu(u,_e),u[t.index]=_e}(WD,ht,ac,Sp,_r,_e,Ve);_a=Pn(Yn,Wn),ht&&function uy(t,r,o,a){if(a)ur(t,o,["ng-version",wf.full]);else{const{attrs:u,classes:d}=function zi(t){const r=[],o=[];let a=1,u=2;for(;a<t.length;){let d=t[a];if("string"==typeof d)2===u?""!==d&&r.push(d,t[++a]):8===u&&o.push(d);else{if(!$i(u))break;u=d}a++}return{attrs:r,classes:o}}(r.selectors[0]);u&&ur(t,o,u),d&&d.length>0&&p_(t,o,d.join(" "))}}(Ve,ac,ht,a),void 0!==o&&function sg(t,r,o){const a=t.projection=[];for(let u=0;u<r.length;u++){const d=o[u];a.push(null!=d?Array.from(d):null)}}(_a,this.ngContentSelectors,o),_i=function ep(t,r,o,a,u,d){const g=ds(),w=u[Lt],S=$t(g,u);zf(w,u,g,o,null,a);for(let te=0;te<o.length;te++)uo(gi(u,w,g.directiveStart+te,g),u);Gf(w,u,g),S&&uo(S,u);const H=gi(u,w,g.directiveStart+g.componentOffset,g);if(t[ar]=u[ar]=H,null!==d)for(const te of d)te(H,r);return Oa(w,g,t),H}(qD,ac,Sp,kE,_r,[gI]),Qm(Yn,_r,null)}finally{et()}return new Ri(this.componentType,_i,Lc(_a,_r),_r,_a)}}class Ri extends jd{constructor(r,o,a,u,d){super(),this.location=a,this._rootLView=u,this._tNode=d,this.previousInputValues=null,this.instance=o,this.hostView=this.changeDetectorRef=new Er(u),this.componentType=r}setInput(r,o){const a=this._tNode.inputs;let u;if(null!==a&&(u=a[r])){if(this.previousInputValues??=new Map,this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),o))return;const d=this._rootLView;pu(d[Lt],d,u,r,o),this.previousInputValues.set(r,o),Kd(br(this._tNode.index,d))}}get injector(){return new Ji(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function gI(){const t=ds();hs(vt()[Lt],t)}function og(t){let r=function tp(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),o=!0;const a=[t];for(;r;){let u;if(us(t))u=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new ae(903,!1);u=r.\u0275dir}if(u){if(o){a.push(u);const g=t;g.inputs=ri(t.inputs),g.inputTransforms=ri(t.inputTransforms),g.declaredInputs=ri(t.declaredInputs),g.outputs=ri(t.outputs);const w=u.hostBindings;w&&ts(t,w);const S=u.viewQuery,H=u.contentQueries;if(S&&qE(t,S),H&&KE(t,H),oe(t.inputs,u.inputs),oe(t.declaredInputs,u.declaredInputs),oe(t.outputs,u.outputs),null!==u.inputTransforms&&(null===g.inputTransforms&&(g.inputTransforms={}),oe(g.inputTransforms,u.inputTransforms)),us(u)&&u.data.animation){const te=t.data;te.animation=(te.animation||[]).concat(u.data.animation)}}const d=u.features;if(d)for(let g=0;g<d.length;g++){const w=d[g];w&&w.ngInherit&&w(t),w===og&&(o=!1)}}r=Object.getPrototypeOf(r)}!function _I(t){let r=0,o=null;for(let a=t.length-1;a>=0;a--){const u=t[a];u.hostVars=r+=u.hostVars,u.hostAttrs=Fn(u.hostAttrs,o=Fn(o,u.hostAttrs))}}(a)}function ri(t){return t===tt?{}:t===mt?[]:t}function qE(t,r){const o=t.viewQuery;t.viewQuery=o?(a,u)=>{r(a,u),o(a,u)}:r}function KE(t,r){const o=t.contentQueries;t.contentQueries=o?(a,u,d)=>{r(a,u,d),o(a,u,d)}:r}function ts(t,r){const o=t.hostBindings;t.hostBindings=o?(a,u)=>{r(a,u),o(a,u)}:r}function py(t){const r=t.inputConfig,o={};for(const a in r)if(r.hasOwnProperty(a)){const u=r[a];Array.isArray(u)&&u[2]&&(o[a]=u[2])}t.inputTransforms=o}function oh(t){return!!fa(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function fa(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ll(t,r,o){return t[r]=o}function ks(t,r,o){return!Object.is(t[r],o)&&(t[r]=o,!0)}function tc(t,r,o,a){const u=ks(t,r,o);return ks(t,r+1,a)||u}function rp(t,r,o,a){const u=vt();return ks(u,Ft(),r)&&(Ir(),na(In(),u,t,r,o,a)),rp}function RI(t,r,o,a,u,d,g,w){const S=vt(),H=Ir(),te=t+Wn,_e=H.firstCreatePass?function QE(t,r,o,a,u,d,g,w,S){const H=r.consts,te=Ju(r,t,4,g||null,Rn(H,w));eh(r,o,te,Rn(H,S)),hs(r,te);const _e=te.tView=jm(2,te,a,u,d,r.directiveRegistry,r.pipeRegistry,null,r.schemas,H,null);return null!==r.queries&&(r.queries.template(r,te),_e.queries=r.queries.embeddedTView(te)),te}(te,H,S,r,o,a,u,d,g):H.data[te];vn(_e,!1);const Ve=Ey(H,S,_e,t);ua()&&Dd(H,S,Ve,_e),uo(Ve,S),Xu(S,S[te]=Zf(Ve,S,Ve,_e)),ls(_e)&&Xd(H,S,_e),null!=g&&Hm(S,_e,w)}let Ey=function MI(t,r,o,a){return Vo(!0),r[on].createComment("")};function qc(t){return function Kn(t,r){return t[r]}(function di(){return Yt.lFrame.contextLView}(),Wn+t)}function il(t,r,o){const a=vt();return ks(a,Ft(),r)&&function ta(t,r,o,a,u,d,g,w){const S=$t(r,o);let te,H=r.inputs;!w&&null!=H&&(te=H[a])?(pu(t,o,te,a,u),Hs(r)&&function qm(t,r){const o=br(r,t);16&o[_n]||(o[_n]|=64)}(o,r.index)):3&r.type&&(a=function rI(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),u=null!=g?g(u,r.value||"",a):u,d.setProperty(S,a,u))}(Ir(),In(),a,t,r,a[on],o,!1),il}function _g(t,r,o,a,u){const g=u?"class":"style";pu(t,o,r.inputs[g],g,a)}function fp(t,r,o,a){const u=vt(),d=Ir(),g=Wn+t,w=u[on],S=d.firstCreatePass?function Ty(t,r,o,a,u,d){const g=r.consts,S=Ju(r,t,2,a,Rn(g,u));return eh(r,o,S,Rn(g,d)),null!==S.attrs&&Jf(S,S.attrs,!1),null!==S.mergedAttrs&&Jf(S,S.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,S),S}(g,d,u,r,o,a):d.data[g],H=wy(d,u,S,w,r,t);u[g]=H;const te=ls(S);return vn(S,!0),Cl(w,H,S),32!=(32&S.flags)&&ua()&&Dd(d,u,H,S),0===function an(){return Yt.lFrame.elementDepthCount}()&&uo(H,u),function Zo(){Yt.lFrame.elementDepthCount++}(),te&&(Xd(d,u,S),Oa(d,S,u)),null!==a&&Hm(u,S),fp}function La(){let t=ds();wa()?Ba():(t=t.parent,vn(t,!1));const r=t;(function qi(t){return Yt.skipHydrationRootTNode===t})(r)&&function Jc(){Yt.skipHydrationRootTNode=null}(),function Ht(){Yt.lFrame.elementDepthCount--}();const o=Ir();return o.firstCreatePass&&(hs(o,t),Hr(t)&&o.queries.elementEnd(t)),null!=r.classesWithoutHost&&function Pp(t){return 0!=(8&t.flags)}(r)&&_g(o,r,vt(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function nd(t){return 0!=(16&t.flags)}(r)&&_g(o,r,vt(),r.stylesWithoutHost,!1),La}function yg(t,r,o,a){return fp(t,r,o,a),La(),yg}let wy=(t,r,o,a,u,d)=>(Vo(!0),Xl(a,u,function Aa(){return Yt.lFrame.currentNamespace}()));function gh(t,r,o){const a=vt(),u=Ir(),d=t+Wn,g=u.firstCreatePass?function NI(t,r,o,a,u){const d=r.consts,g=Rn(d,a),w=Ju(r,t,8,"ng-container",g);return null!==g&&Jf(w,g,!0),eh(r,o,w,Rn(d,u)),null!==r.queries&&r.queries.elementStart(r,w),w}(d,u,a,r,o):u.data[d];vn(g,!0);const w=Cy(u,a,g,t);return a[d]=w,ua()&&Dd(u,a,w,g),uo(w,a),ls(g)&&(Xd(u,a,g),Oa(u,g,a)),null!=o&&Hm(a,g),gh}function _h(){let t=ds();const r=Ir();return wa()?Ba():(t=t.parent,vn(t,!1)),r.firstCreatePass&&(hs(r,t),Hr(t)&&r.queries.elementEnd(t)),_h}function vg(t,r,o){return gh(t,r,o),_h(),vg}let Cy=(t,r,o,a)=>(Vo(!0),Bu(r[on],""));function ic(){return vt()}function yh(t){return!!t&&"function"==typeof t.then}function LI(t){return!!t&&"function"==typeof t.subscribe}function Ig(t,r,o,a){const u=vt(),d=Ir(),g=ds();return function Ay(t,r,o,a,u,d,g){const w=ls(a),H=t.firstCreatePass&&Zm(t),te=r[ar],_e=ec(r);let Ve=!0;if(3&a.type||g){const Pt=$t(a,r),qt=g?g(Pt):Pt,Dn=_e.length,Tt=g?_r=>g(fr(_r[a.index])):a.index;let Yn=null;if(!g&&w&&(Yn=function FI(t,r,o,a){const u=t.cleanup;if(null!=u)for(let d=0;d<u.length-1;d+=2){const g=u[d];if(g===o&&u[d+1]===a){const w=r[Ni],S=u[d+2];return w.length>S?w[S]:null}"string"==typeof g&&(d+=2)}return null}(t,r,u,a.index)),null!==Yn)(Yn.__ngLastListenerFn__||Yn).__ngNextListenerFn__=d,Yn.__ngLastListenerFn__=d,Ve=!1;else{d=VI(a,r,te,d,!1);const _r=o.listen(qt,u,d);_e.push(d,_r),H&&H.push(u,Tt,Dn,Dn+1)}}else d=VI(a,r,te,d,!1);const We=a.outputs;let ht;if(Ve&&null!==We&&(ht=We[u])){const Pt=ht.length;if(Pt)for(let qt=0;qt<Pt;qt+=2){const _i=r[ht[qt]][ht[qt+1]].subscribe(d),_a=_e.length;_e.push(d,_i),H&&H.push(u,a.index,_a,-(_a+1))}}}(d,u,u[on],g,t,r,a),Ig}function Sy(t,r,o,a){try{return Nr(6,r,o),!1!==o(a)}catch(u){return Ym(t,u),!1}finally{Nr(7,r,o)}}function VI(t,r,o,a,u){return function d(g){if(g===Function)return a;Kd(t.componentOffset>-1?br(t.index,r):r);let S=Sy(r,o,a,g),H=d.__ngNextListenerFn__;for(;H;)S=Sy(r,o,H,g)&&S,H=H.__ngNextListenerFn__;return u&&!1===S&&g.preventDefault(),S}}function UI(t=1){return function Qe(t){return(Yt.lFrame.contextLView=function zt(t,r){for(;t>0;)r=r[Ti],t--;return r}(t,Yt.lFrame.contextLView))[ar]}(t)}function XE(t,r){let o=null;const a=function vi(t){const r=t.attrs;if(null!=r){const o=r.indexOf(5);if(!(1&o))return r[o+1]}return null}(t);for(let u=0;u<r.length;u++){const d=r[u];if("*"!==d){if(null===a?xi(t,d,!0):fo(a,d))return u}else o=u}return o}function BI(t){const r=vt()[dr][Gr];if(!r.projection){const a=r.projection=Ra(t?t.length:1,null),u=a.slice();let d=r.child;for(;null!==d;){const g=t?XE(d,t):0;null!==g&&(u[g]?u[g].projectionNext=d:a[g]=d,u[g]=d),d=d.next}}}function Py(t,r=0,o){const a=vt(),u=Ir(),d=Ju(u,Wn+t,16,null,o||null);null===d.projection&&(d.projection=r),Ba(),(!a[Ci]||yt())&&32!=(32&d.flags)&&function d_(t,r,o){h_(r[on],0,r,o,bd(t,o,r),Gh(o.parent||r[Gr],o,r))}(u,a,d)}function pp(t,r){return t<<17|r<<2}function vu(t){return t>>17&32767}function Ly(t){return 2|t}function Iu(t){return(131068&t)>>2}function wg(t,r){return-131069&t|r<<2}function Fy(t){return 1|t}function $I(t,r,o,a,u){const d=t[o+1],g=null===r;let w=a?vu(d):Iu(d),S=!1;for(;0!==w&&(!1===S||g);){const te=t[w+1];Cg(t[w],r)&&(S=!0,t[w+1]=a?Fy(te):Ly(te)),w=a?vu(te):Iu(te)}S&&(t[o+1]=a?Ly(d):Fy(d))}function Cg(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&da(t,r)>=0}const ns={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function By(t){return t.substring(ns.key,ns.keyEnd)}function Dg(t,r){const o=ns.textEnd;return o===r?-1:(r=ns.keyEnd=function GI(t,r,o){for(;r<o&&t.charCodeAt(r)>32;)r++;return r}(t,ns.key=r,o),Zc(t,r,o))}function Zc(t,r,o){for(;r<o&&t.charCodeAt(r)<=32;)r++;return r}function Ho(t,r){return function To(t,r,o,a){const u=vt(),d=Ir(),g=Ms(2);d.firstUpdatePass&&gp(d,t,g,a),r!==Qn&&ks(u,g,r)&&Wy(d,d.data[un()],u,u[on],t,u[g+1]=function yp(t,r){return null==t||""===t||("string"==typeof r?t+=r:"object"==typeof t&&(t=Ee(Ma(t)))),t}(r,o),a,g)}(t,r,null,!0),Ho}function Sg(t){!function Mi(t,r,o,a){const u=Ir(),d=Ms(2);u.firstUpdatePass&&gp(u,null,d,a);const g=vt();if(o!==Qn&&ks(g,d,o)){const w=u.data[un()];if(Mg(w,a)&&!zy(u,d)){let S=a?w.classesWithoutHost:w.stylesWithoutHost;null!==S&&(o=ze(S,o||"")),_g(u,w,g,o,a)}else!function Gy(t,r,o,a,u,d,g,w){u===Qn&&(u=mt);let S=0,H=0,te=0<u.length?u[0]:null,_e=0<d.length?d[0]:null;for(;null!==te||null!==_e;){const Ve=S<u.length?u[S+1]:void 0,We=H<d.length?d[H+1]:void 0;let Pt,ht=null;te===_e?(S+=2,H+=2,Ve!==We&&(ht=_e,Pt=We)):null===_e||null!==te&&te<_e?(S+=2,ht=te):(H+=2,ht=_e,Pt=We),null!==ht&&Wy(t,r,o,a,ht,Pt,g,w),te=S<u.length?u[S]:null,_e=H<d.length?d[H]:null}}(u,w,g,g[on],g[d+1],g[d+1]=function KI(t,r,o){if(null==o||""===o)return mt;const a=[],u=Ma(o);if(Array.isArray(u))for(let d=0;d<u.length;d++)t(a,u[d],!0);else if("object"==typeof u)for(const d in u)u.hasOwnProperty(d)&&t(a,d,u[d]);else"string"==typeof u&&r(a,u);return a}(t,r,o),a,d)}}(YI,jo,t,!0)}function jo(t,r){for(let o=function bg(t){return function mp(t){ns.key=0,ns.keyEnd=0,ns.value=0,ns.valueEnd=0,ns.textEnd=t.length}(t),Dg(t,Zc(t,0,ns.textEnd))}(r);o>=0;o=Dg(r,o))ws(t,By(r),!0)}function zy(t,r){return r>=t.expandoStartIndex}function gp(t,r,o,a){const u=t.data;if(null===u[o+1]){const d=u[un()],g=zy(t,o);Mg(d,a)&&null===r&&!g&&(r=!1),r=function Yc(t,r,o,a){const u=function Da(t){const r=Yt.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}(t);let d=a?r.residualClasses:r.residualStyles;if(null===u)0===(a?r.classBindings:r.styleBindings)&&(o=Ih(o=Rg(null,t,r,o,a),r.attrs,a),d=null);else{const g=r.directiveStylingLast;if(-1===g||t[g]!==u)if(o=Rg(u,t,r,o,a),null===d){let S=function sc(t,r,o){const a=o?r.classBindings:r.styleBindings;if(0!==Iu(a))return t[vu(a)]}(t,r,a);void 0!==S&&Array.isArray(S)&&(S=Rg(null,t,r,S[1],a),S=Ih(S,r.attrs,a),function Pg(t,r,o,a){t[vu(o?r.classBindings:r.styleBindings)]=a}(t,r,a,S))}else d=function oc(t,r,o){let a;const u=r.directiveEnd;for(let d=1+r.directiveStylingLast;d<u;d++)a=Ih(a,t[d].hostAttrs,o);return Ih(a,r.attrs,o)}(t,r,a)}return void 0!==d&&(a?r.residualClasses=d:r.residualStyles=d),o}(u,d,r,a),function Vy(t,r,o,a,u,d){let g=d?r.classBindings:r.styleBindings,w=vu(g),S=Iu(g);t[a]=o;let te,H=!1;if(Array.isArray(o)?(te=o[1],(null===te||da(o,te)>0)&&(H=!0)):te=o,u)if(0!==S){const Ve=vu(t[w+1]);t[a+1]=pp(Ve,w),0!==Ve&&(t[Ve+1]=wg(t[Ve+1],a)),t[w+1]=function e0(t,r){return 131071&t|r<<17}(t[w+1],a)}else t[a+1]=pp(w,0),0!==w&&(t[w+1]=wg(t[w+1],a)),w=a;else t[a+1]=pp(S,0),0===w?w=a:t[S+1]=wg(t[S+1],a),S=a;H&&(t[a+1]=Ly(t[a+1])),$I(t,te,a,!0),$I(t,te,a,!1),function Uy(t,r,o,a,u){const d=u?t.residualClasses:t.residualStyles;null!=d&&"string"==typeof r&&da(d,r)>=0&&(o[a+1]=Fy(o[a+1]))}(r,te,t,a,d),g=pp(w,S),d?r.classBindings=g:r.styleBindings=g}(u,d,r,o,g,a)}}function Rg(t,r,o,a,u){let d=null;const g=o.directiveEnd;let w=o.directiveStylingLast;for(-1===w?w=o.directiveStart:w++;w<g&&(d=r[w],a=Ih(a,d.hostAttrs,u),d!==t);)w++;return null!==t&&(o.directiveStylingLast=w),a}function Ih(t,r,o){const a=o?1:2;let u=-1;if(null!==r)for(let d=0;d<r.length;d++){const g=r[d];"number"==typeof g?u=g:u===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),ws(t,g,!!o||r[++d]))}return void 0===t?null:t}function YI(t,r,o){const a=String(r);""!==a&&!a.includes(" ")&&ws(t,a,o)}function Wy(t,r,o,a,u,d,g,w){if(!(3&r.type))return;const S=t.data,H=S[w+1],te=function t0(t){return 1==(1&t)}(H)?_p(S,r,o,u,Iu(H),g):void 0;Eh(te)||(Eh(d)||function jI(t){return 2==(2&t)}(H)&&(d=_p(S,null,o,u,w,g)),function Ev(t,r,o,a,u){if(r)u?t.addClass(o,a):t.removeClass(o,a);else{let d=-1===a.indexOf("-")?void 0:Ka.DashCase;null==u?t.removeStyle(o,a,d):("string"==typeof u&&u.endsWith("!important")&&(u=u.slice(0,-10),d|=Ka.Important),t.setStyle(o,a,u,d))}}(a,g,No(un(),o),u,d))}function _p(t,r,o,a,u,d){const g=null===r;let w;for(;u>0;){const S=t[u],H=Array.isArray(S),te=H?S[1]:S,_e=null===te;let Ve=o[u+1];Ve===Qn&&(Ve=_e?mt:void 0);let We=_e?Pu(Ve,a):te===a?Ve:void 0;if(H&&!Eh(We)&&(We=Pu(S,a)),Eh(We)&&(w=We,g))return w;const ht=t[u+1];u=g?vu(ht):Iu(ht)}if(null!==r){let S=d?r.residualClasses:r.residualStyles;null!=S&&(w=Pu(S,a))}return w}function Eh(t){return void 0!==t}function Mg(t,r){return 0!=(t.flags&(r?8:16))}function qy(t,r=""){const o=vt(),a=Ir(),u=t+Wn,d=a.firstCreatePass?Ju(a,u,1,r,null):a.data[u],g=vp(a,o,d,r,t);o[u]=g,ua()&&Dd(a,o,g,d),vn(d,!1)}let vp=(t,r,o,a,u)=>(Vo(!0),function Td(t,r){return t.createText(r)}(r[on],a));function Ip(t){return Ep("",t,""),Ip}function Ep(t,r,o){const a=vt(),u=function $c(t,r,o,a){return ks(t,Ft(),o)?r+me(o)+a:Qn}(a,t,r,o);return u!==Qn&&function Na(t,r,o){const a=No(r,t);!function $h(t,r,o){t.setValue(r,o)}(t[on],a,o)}(a,un(),u),Ep}const Th=void 0;var yw=["en",[["a","p"],["AM","PM"],Th],[["AM","PM"],Th,Th],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Th,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Th,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Th,"{1} 'at' {0}",Th],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function _w(t){const o=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===a?1:5}];let Tp={};function XI(t){const r=function vw(t){return t.toLowerCase().replace(/_/g,"-")}(t);let o=o0(r);if(o)return o;const a=r.split("-")[0];if(o=o0(a),o)return o;if("en"===a)return yw;throw new ae(701,!1)}function s0(t){return XI(t)[wp.PluralCase]}function o0(t){return t in Tp||(Tp[t]=At.ng&&At.ng.common&&At.ng.common.locales&&At.ng.common.locales[t]),Tp[t]}var wp=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(wp||{});const Cp="en-US";let a0=Cp;function nE(t,r,o,a,u){if(t=Xe(t),Array.isArray(t))for(let d=0;d<t.length;d++)nE(t[d],r,o,a,u);else{const d=Ir(),g=vt(),w=ds();let S=Rl(t)?t:Xe(t.provide);const H=cf(t),te=1048575&w.providerIndexes,_e=w.directiveStart,Ve=w.providerIndexes>>20;if(Rl(t)||!t.multi){const We=new bu(H,u,fu),ht=iE(S,r,u?te:te+Ve,_e);-1===ht?(gl(ml(w,g),d,S),rE(d,t,r.length),r.push(S),w.directiveStart++,w.directiveEnd++,u&&(w.providerIndexes+=1048576),o.push(We),g.push(We)):(o[ht]=We,g[ht]=We)}else{const We=iE(S,r,te+Ve,_e),ht=iE(S,r,te,te+Ve),qt=ht>=0&&o[ht];if(u&&!qt||!u&&!(We>=0&&o[We])){gl(ml(w,g),d,S);const Dn=function _C(t,r,o,a,u){const d=new bu(t,o,fu);return d.multi=[],d.index=r,d.componentProviders=0,x0(d,u,a&&!o),d}(u?gC:mC,o.length,u,a,H);!u&&qt&&(o[ht].providerFactory=Dn),rE(d,t,r.length,0),r.push(S),w.directiveStart++,w.directiveEnd++,u&&(w.providerIndexes+=1048576),o.push(Dn),g.push(Dn)}else rE(d,t,We>-1?We:ht,x0(o[u?ht:We],H,!u&&a));!u&&a&&qt&&o[ht].componentProviders++}}}function rE(t,r,o,a){const u=Rl(r),d=function qs(t){return!!t.useClass}(r);if(u||d){const S=(d?Xe(r.useClass):r).prototype.ngOnDestroy;if(S){const H=t.destroyHooks||(t.destroyHooks=[]);if(!u&&r.multi){const te=H.indexOf(o);-1===te?H.push(o,[a,S]):H[te+1].push(a,S)}else H.push(o,S)}}}function x0(t,r,o){return o&&t.componentProviders++,t.multi.push(r)-1}function iE(t,r,o,a){for(let u=o;u<a;u++)if(r[u]===t)return u;return-1}function mC(t,r,o,a){return sE(this.multi,[])}function gC(t,r,o,a){const u=this.multi;let d;if(this.providerFactory){const g=this.providerFactory.componentProviders,w=gi(o,o[Lt],this.providerFactory.index,a);d=w.slice(0,g),sE(u,d);for(let S=g;S<w.length;S++)d.push(w[S])}else d=[],sE(u,d);return d}function sE(t,r){for(let o=0;o<t.length;o++)r.push((0,t[o])());return r}function O0(t,r=[]){return o=>{o.providersResolver=(a,u)=>function pC(t,r,o){const a=Ir();if(a.firstCreatePass){const u=us(t);nE(o,a.data,a.blueprint,u,!0),nE(r,a.data,a.blueprint,u,!1)}}(a,u?u(t):t,r)}}class wh{}class N0{}function yC(t,r){return new oE(t,r??null,[])}class oE extends wh{constructor(r,o,a){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new rg(this);const u=hi(r);this._bootstrapComponents=xa(u.bootstrap),this._r3Injector=Pm(r,o,[{provide:wh,useValue:this},{provide:If,useValue:this.componentFactoryResolver},...a],Ee(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class aE extends N0{constructor(r){super(),this.moduleType=r}create(r){return new oE(this.moduleType,r,[])}}class k0 extends wh{constructor(r){super(),this.componentFactoryResolver=new rg(this),this.instance=null;const o=new Ku([...r.providers,{provide:wh,useValue:this},{provide:If,useValue:this.componentFactoryResolver}],r.parent||xc(),r.debugName,new Set(["environment"]));this.injector=o,r.runEnvironmentInitializers&&o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function L0(t,r,o=null){return new k0({providers:t,parent:r,debugName:o,runEnvironmentInitializers:!0}).injector}let IC=(()=>{class t{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o)){const a=fm(0,o.type),u=a.length>0?L0([a],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o,u)}return this.cachedInjectors.get(o)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=dn({token:t,providedIn:"environment",factory:()=>new t(ot(Ja))})}return t})();function F0(t){t.getStandaloneInjector=r=>r.get(IC).getOrCreateStandaloneInjector(t)}function z0(t,r,o,a,u){return function q0(t,r,o,a,u,d,g){const w=r+o;return tc(t,w,u,d)?Ll(t,w+2,g?a.call(g,u,d):a(u,d)):Ug(t,w+2)}(vt(),Sn(),t,r,o,a,u)}function G0(t,r,o,a,u,d){return function K0(t,r,o,a,u,d,g,w){const S=r+o;return function np(t,r,o,a,u){const d=tc(t,r,o,a);return ks(t,r+2,u)||d}(t,S,u,d,g)?Ll(t,S+3,w?a.call(w,u,d,g):a(u,d,g)):Ug(t,S+3)}(vt(),Sn(),t,r,o,a,u,d)}function Ug(t,r){const o=t[r];return o===Qn?void 0:o}function zC(){return this._results[Symbol.iterator]()}class uE{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Xa)}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=uE.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=zC)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,o){return this._results.reduce(r,o)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,o){const a=this;a.dirty=!1;const u=function pr(t){return t.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function gc(t,r,o){if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++){let u=t[a],d=r[a];if(o&&(u=o(u),d=o(d)),d!==u)return!1}return!0}(a._results,u,o))&&(a._results=u,a.length=u.length,a.last=u[this.length-1],a.first=u[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function WC(t,r,o,a=!0){const u=r[Lt];if(function a_(t,r,o,a){const u=ai+a,d=o.length;a>0&&(o[u-1][Dr]=r),a<d-ai?(r[Dr]=o[u],cd(o,ai+a,r)):(o.push(r),r[Dr]=null),r[cr]=o;const g=r[wi];null!==g&&o!==g&&function _v(t,r){const o=t[pi];r[dr]!==r[cr][cr][dr]&&(t[Va]=!0),null===o?t[pi]=[r]:o.push(r)}(g,r);const w=r[si];null!==w&&w.insertView(t),r[_n]|=128}(u,r,t,o),a){const d=ju(o,t),g=r[on],w=tu(g,t[ki]);null!==w&&function zh(t,r,o,a,u,d){a[or]=u,a[Gr]=r,$u(t,a,o,1,u,d)}(u,t[Gr],g,r,w,d)}}let Hg=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=ZC}return t})();const qC=Hg,KC=class extends qC{constructor(r,o,a){super(),this._declarationLView=r,this._declarationTContainer=o,this.elementRef=a}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(r,o){return this.createEmbeddedViewImpl(r,o)}createEmbeddedViewImpl(r,o,a){const u=function GC(t,r,o,a){const u=r.tView,w=Nl(t,u,o,4096&t[_n]?4096:16,null,r,null,null,null,a?.injector??null,a?.hydrationInfo??null);w[wi]=t[r.index];const H=t[si];return null!==H&&(w[si]=H.createEmbeddedView(u)),Qm(u,w,o),w}(this._declarationLView,this._declarationTContainer,r,{injector:o,hydrationInfo:a});return new mu(u)}};function ZC(){return ov(ds(),vt())}function ov(t,r){return 4&t.type?new KC(r,t,Lc(t,r)):null}let lv=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=tb}return t})();function tb(){return rT(ds(),vt())}const nb=lv,tT=class extends nb{constructor(r,o,a){super(),this._lContainer=r,this._hostTNode=o,this._hostLView=a}get element(){return Lc(this._hostTNode,this._hostLView)}get injector(){return new Ji(this._hostTNode,this._hostLView)}get parentInjector(){const r=Lr(this._hostTNode,this._hostLView);if(rd(r)){const o=hl(r,this._hostLView),a=dl(r);return new Ji(o[Lt].data[a+8],o)}return new Ji(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const o=nT(this._lContainer);return null!==o&&o[r]||null}get length(){return this._lContainer.length-ai}createEmbeddedView(r,o,a){let u,d;"number"==typeof a?u=a:null!=a&&(u=a.index,d=a.injector);const w=r.createEmbeddedViewImpl(o||{},d,null);return this.insertImpl(w,u,false),w}createComponent(r,o,a,u,d){const g=r&&!function Ki(t){return"function"==typeof t}(r);let w;if(g)w=o;else{const Pt=o||{};w=Pt.index,a=Pt.injector,u=Pt.projectableNodes,d=Pt.environmentInjector||Pt.ngModuleRef}const S=g?r:new ps(Ln(r)),H=a||this.parentInjector;if(!d&&null==S.ngModule){const qt=(g?H:this.parentInjector).get(Ja,null);qt&&(d=qt)}Ln(S.componentType??{});const We=S.create(H,u,null,d);return this.insertImpl(We.hostView,w,false),We}insert(r,o){return this.insertImpl(r,o,!1)}insertImpl(r,o,a){const u=r._lView;if(function Gs(t){return Br(t[cr])}(u)){const S=this.indexOf(r);if(-1!==S)this.detach(S);else{const H=u[cr],te=new tT(H,H[Gr],H[cr]);te.detach(te.indexOf(r))}}const g=this._adjustIndex(o),w=this._lContainer;return WC(w,u,g,!a),r.attachToViewContainerRef(),cd(cE(w),g,r),r}move(r,o){return this.insert(r,o)}indexOf(r){const o=nT(this._lContainer);return null!==o?o.indexOf(r):-1}remove(r){const o=this._adjustIndex(r,-1),a=Cd(this._lContainer,o);a&&(Su(cE(this._lContainer),o),Jp(a[Lt],a))}detach(r){const o=this._adjustIndex(r,-1),a=Cd(this._lContainer,o);return a&&null!=Su(cE(this._lContainer),o)?new mu(a):null}_adjustIndex(r,o=0){return r??this.length+o}};function nT(t){return t[8]}function cE(t){return t[8]||(t[8]=[])}function rT(t,r){let o;const a=r[t.index];return Br(a)?o=a:(o=Zf(a,r,null,t),r[t.index]=o,Xu(r,o)),iT(o,r,t,a),new tT(o,t,r)}let iT=function sT(t,r,o,a){if(t[ki])return;let u;u=8&o.type?fr(a):function rb(t,r){const o=t[on],a=o.createComment(""),u=$t(r,t);return eu(o,tu(o,u),a,function Ya(t,r){return t.nextSibling(r)}(o,u),!1),a}(r,o),t[ki]=u};class dE{constructor(r){this.queryList=r,this.matches=null}clone(){return new dE(this.queryList)}setDirty(){this.queryList.setDirty()}}class hE{constructor(r=[]){this.queries=r}createEmbeddedView(r){const o=r.queries;if(null!==o){const a=null!==r.contentQueries?r.contentQueries[0]:o.length,u=[];for(let d=0;d<a;d++){const g=o.getByIndex(d);u.push(this.queries[g.indexInDeclarationView].clone())}return new hE(u)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let o=0;o<this.queries.length;o++)null!==pT(r,o).matches&&this.queries[o].setDirty()}}class oT{constructor(r,o,a=null){this.predicate=r,this.flags=o,this.read=a}}class fE{constructor(r=[]){this.queries=r}elementStart(r,o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,o)}elementEnd(r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(r)}embeddedTView(r){let o=null;for(let a=0;a<this.length;a++){const u=null!==o?o.length:0,d=this.getByIndex(a).embeddedTView(r,u);d&&(d.indexInDeclarationView=a,null!==o?o.push(d):o=[d])}return null!==o?new fE(o):null}template(r,o){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,o)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class pE{constructor(r,o=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(r,o){this.isApplyingToNode(o)&&this.matchTNode(r,o)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,o){this.elementStart(r,o)}embeddedTView(r,o){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,o),new pE(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==o;)a=a.parent;return o===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,o){const a=this.metadata.predicate;if(Array.isArray(a))for(let u=0;u<a.length;u++){const d=a[u];this.matchTNodeWithReadOption(r,o,ob(o,d)),this.matchTNodeWithReadOption(r,o,ql(o,r,d,!1,!1))}else a===Hg?4&o.type&&this.matchTNodeWithReadOption(r,o,-1):this.matchTNodeWithReadOption(r,o,ql(o,r,a,!1,!1))}matchTNodeWithReadOption(r,o,a){if(null!==a){const u=this.metadata.read;if(null!==u)if(u===$d||u===lv||u===Hg&&4&o.type)this.addMatch(o.index,-2);else{const d=ql(o,r,u,!1,!1);null!==d&&this.addMatch(o.index,d)}else this.addMatch(o.index,a)}}addMatch(r,o){null===this.matches?this.matches=[r,o]:this.matches.push(r,o)}}function ob(t,r){const o=t.localNames;if(null!==o)for(let a=0;a<o.length;a+=2)if(o[a]===r)return o[a+1];return null}function lb(t,r,o,a){return-1===o?function ab(t,r){return 11&t.type?Lc(t,r):4&t.type?ov(t,r):null}(r,t):-2===o?function ub(t,r,o){return o===$d?Lc(r,t):o===Hg?ov(r,t):o===lv?rT(r,t):void 0}(t,r,a):gi(t,t[Lt],o,r)}function aT(t,r,o,a){const u=r[si].queries[a];if(null===u.matches){const d=t.data,g=o.matches,w=[];for(let S=0;S<g.length;S+=2){const H=g[S];w.push(H<0?null:lb(r,d[H],g[S+1],o.metadata.read))}u.matches=w}return u.matches}function mE(t,r,o,a){const u=t.queries.getByIndex(o),d=u.matches;if(null!==d){const g=aT(t,r,u,o);for(let w=0;w<d.length;w+=2){const S=d[w];if(S>0)a.push(g[w/2]);else{const H=d[w+1],te=r[-S];for(let _e=ai;_e<te.length;_e++){const Ve=te[_e];Ve[wi]===Ve[cr]&&mE(Ve[Lt],Ve,H,a)}if(null!==te[pi]){const _e=te[pi];for(let Ve=0;Ve<_e.length;Ve++){const We=_e[Ve];mE(We[Lt],We,H,a)}}}}}return a}function lT(t){const r=vt(),o=Ir(),a=ed();zl(a+1);const u=pT(o,a);if(t.dirty&&function qr(t){return 4==(4&t[_n])}(r)===(2==(2&u.metadata.flags))){if(null===u.matches)t.reset([]);else{const d=u.crossesNgTemplate?mE(o,r,a,[]):aT(o,r,u,a);t.reset(d,zd),t.notifyOnChanges()}return!0}return!1}function uT(t,r,o){const a=Ir();a.firstCreatePass&&(fT(a,new oT(t,r,o),-1),2==(2&r)&&(a.staticViewQueries=!0)),hT(a,vt(),r)}function cT(t,r,o,a){const u=Ir();if(u.firstCreatePass){const d=ds();fT(u,new oT(r,o,a),d.index),function db(t,r){const o=t.contentQueries||(t.contentQueries=[]);r!==(o.length?o[o.length-1]:-1)&&o.push(t.queries.length-1,r)}(u,t),2==(2&o)&&(u.staticContentQueries=!0)}hT(u,vt(),o)}function dT(){return function cb(t,r){return t[si].queries[r].queryList}(vt(),ed())}function hT(t,r,o){const a=new uE(4==(4&o));(function nI(t,r,o,a){const u=ec(r);u.push(o),t.firstCreatePass&&Zm(t).push(a,u.length-1)})(t,r,a,a.destroy),null===r[si]&&(r[si]=new hE),r[si].queries.push(new dE(a))}function fT(t,r,o){null===t.queries&&(t.queries=new fE),t.queries.track(new pE(r,o))}function pT(t,r){return t.queries.getByIndex(r)}function gE(t){return!!hi(t)}const MT=new Fr("Application Initializer");let EE=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((o,a)=>{this.resolve=o,this.reject=a}),this.appInits=_t(MT,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const o=[];for(const u of this.appInits){const d=u();if(yh(d))o.push(d);else if(LI(d)){const g=new Promise((w,S)=>{d.subscribe({complete:w,error:S})});o.push(g)}}const a=()=>{this.done=!0,this.resolve()};Promise.all(o).then(()=>{a()}).catch(u=>{this.reject(u)}),0===o.length&&a(),this.initialized=!0}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=dn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),xT=(()=>{class t{log(o){console.log(o)}warn(o){console.warn(o)}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=dn({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const cv=new Fr("LocaleId",{providedIn:"root",factory:()=>_t(cv,Xt.Optional|Xt.SkipSelf)||function Ob(){return typeof $localize<"u"&&$localize.locale||Cp}()}),Nb=new Fr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let OT=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new $.X(!1)}add(){this.hasPendingTasks.next(!0);const o=this.taskId++;return this.pendingTasks.add(o),o}remove(o){this.pendingTasks.delete(o),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=dn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class Lb{constructor(r,o){this.ngModuleFactory=r,this.componentFactories=o}}let Fb=(()=>{class t{compileModuleSync(o){return new aE(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const a=this.compileModuleSync(o),d=xa(hi(o).declarations).reduce((g,w)=>{const S=Ln(w);return S&&g.push(new ps(S)),g},[]);return new Lb(a,d)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=dn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const FT=new Fr(""),VT=new Fr("");let CE,rD=(()=>{class t{constructor(o,a,u){this._ngZone=o,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,CE||(function iD(t){CE=t}(u),u.addToWindow(a)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ns.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(o)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,a,u){let d=-1;a&&a>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(g=>g.timeoutId!==d),o(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:o,timeoutId:d,updateCb:u})}whenStable(o,a,u){if(u&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,a,u),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,a,u){return[]}static#e=this.\u0275fac=function(a){return new(a||t)(ot(Ns),ot(UT),ot(VT))};static#t=this.\u0275prov=dn({token:t,factory:t.\u0275fac})}return t})(),UT=(()=>{class t{constructor(){this._applications=new Map}registerApplication(o,a){this._applications.set(o,a)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,a=!0){return CE?.findTestabilityInTree(this,o,a)??null}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=dn({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),Qc=null;const BT=new Fr("AllowMultipleToken"),bE=new Fr("PlatformDestroyListeners"),DE=new Fr("appBootstrapListener");class aD{constructor(r,o){this.name=r,this.token=o}}function $T(t,r,o=[]){const a=`Platform: ${r}`,u=new Fr(a);return(d=[])=>{let g=AE();if(!g||g.injector.get(BT,!1)){const w=[...o,...d,{provide:u,useValue:!0}];t?t(w):function lD(t){if(Qc&&!Qc.get(BT,!1))throw new ae(400,!1);(function HT(){!function y(t){Ua=t}(()=>{throw new ae(600,!1)})})(),Qc=t;const r=t.get(GT);(function jT(t){t.get(M_,null)?.forEach(o=>o())})(t)}(function zT(t=[],r){return ho.create({name:r,providers:[{provide:pm,useValue:"platform"},{provide:bE,useValue:new Set([()=>Qc=null])},...t]})}(w,a))}return function cD(t){const r=AE();if(!r)throw new ae(401,!1);return r}()}}function AE(){return Qc?.get(GT)??null}let GT=(()=>{class t{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,a){const u=function dD(t="zone.js",r){return"noop"===t?new Bc:"zone.js"===t?new Ns(r):t}(a?.ngZone,function WT(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:a?.ngZoneEventCoalescing,runCoalescing:a?.ngZoneRunCoalescing}));return u.run(()=>{const d=function vC(t,r,o){return new oE(t,r,o)}(o.moduleType,this.injector,function QT(t){return[{provide:Ns,useFactory:t},{provide:Md,multi:!0,useFactory:()=>{const r=_t(fD,{optional:!0});return()=>r.initialize()}},{provide:YT,useFactory:hD},{provide:Om,useFactory:Qu}]}(()=>u)),g=d.injector.get(Ol,null);return u.runOutsideAngular(()=>{const w=u.onError.subscribe({next:S=>{g.handleError(S)}});d.onDestroy(()=>{hv(this._modules,d),w.unsubscribe()})}),function qT(t,r,o){try{const a=o();return yh(a)?a.catch(u=>{throw r.runOutsideAngular(()=>t.handleError(u)),u}):a}catch(a){throw r.runOutsideAngular(()=>t.handleError(a)),a}}(g,u,()=>{const w=d.injector.get(EE);return w.runInitializers(),w.donePromise.then(()=>(function l0(t){gt(t,"Expected localeId to be defined"),"string"==typeof t&&(a0=t.toLowerCase().replace(/_/g,"-"))}(d.injector.get(cv,Cp)||Cp),this._moduleDoBootstrap(d),d))})})}bootstrapModule(o,a=[]){const u=KT({},a);return function sD(t,r,o){const a=new aE(o);return Promise.resolve(a)}(0,0,o).then(d=>this.bootstrapModuleFactory(d,u))}_moduleDoBootstrap(o){const a=o.injector.get(Ap);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(u=>a.bootstrap(u));else{if(!o.instance.ngDoBootstrap)throw new ae(-403,!1);o.instance.ngDoBootstrap(a)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ae(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const o=this._injector.get(bE,null);o&&(o.forEach(a=>a()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(a){return new(a||t)(ot(ho))};static#t=this.\u0275prov=dn({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function KT(t,r){return Array.isArray(r)?r.reduce(KT,t):{...t,...r}}let Ap=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=_t(YT),this.zoneIsStable=_t(Om),this.componentTypes=[],this.components=[],this.isStable=_t(OT).hasPendingTasks.pipe((0,ue.w)(o=>o?(0,J.of)(!1):this.zoneIsStable),(0,de.x)(),(0,q.B)()),this._injector=_t(Ja)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,a){const u=o instanceof vf;if(!this._injector.get(EE).done)throw!u&&Oi(o),new ae(405,!1);let g;g=u?o:this._injector.get(If).resolveComponentFactory(o),this.componentTypes.push(g.componentType);const w=function oD(t){return t.isBoundToModule}(g)?void 0:this._injector.get(wh),H=g.create(ho.NULL,[],a||g.selector,w),te=H.location.nativeElement,_e=H.injector.get(FT,null);return _e?.registerApplication(te),H.onDestroy(()=>{this.detachView(H.hostView),hv(this.components,H),_e?.unregisterApplication(te)}),this._loadComponent(H),H}tick(){if(this._runningTick)throw new ae(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1}}attachView(o){const a=o;this._views.push(a),a.attachToAppRef(this)}detachView(o){const a=o;hv(this._views,a),a.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const a=this._injector.get(DE,[]);a.push(...this._bootstrapListeners),a.forEach(u=>u(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>hv(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new ae(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=dn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function hv(t,r){const o=t.indexOf(r);o>-1&&t.splice(o,1)}const YT=new Fr("",{providedIn:"root",factory:()=>_t(Ol).handleError.bind(void 0)});function hD(){const t=_t(Ns),r=_t(Ol);return o=>t.runOutsideAngular(()=>r.handleError(o))}let fD=(()=>{class t{constructor(){this.zone=_t(Ns),this.applicationRef=_t(Ap)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=dn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function mD(){return!1}let gD=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=_D}return t})();function _D(t){return function yD(t,r,o){if(Hs(t)&&!o){const a=br(t.index,r);return new mu(a,a)}return 47&t.type?new mu(r[dr],r):null}(ds(),vt(),16==(16&t))}class tw{constructor(){}supports(r){return oh(r)}create(r){return new CD(r)}}const wD=(t,r)=>r;class CD{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||wD}forEachItem(r){let o;for(o=this._itHead;null!==o;o=o._next)r(o)}forEachOperation(r){let o=this._itHead,a=this._removalsHead,u=0,d=null;for(;o||a;){const g=!a||o&&o.currentIndex<rw(a,u,d)?o:a,w=rw(g,u,d),S=g.currentIndex;if(g===a)u--,a=a._nextRemoved;else if(o=o._next,null==g.previousIndex)u++;else{d||(d=[]);const H=w-u,te=S-u;if(H!=te){for(let Ve=0;Ve<H;Ve++){const We=Ve<d.length?d[Ve]:d[Ve]=0,ht=We+Ve;te<=ht&&ht<H&&(d[Ve]=We+1)}d[g.previousIndex]=te-H}}w!==S&&r(g,w,S)}}forEachPreviousItem(r){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachMovedItem(r){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}forEachIdentityChange(r){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)r(o)}diff(r){if(null==r&&(r=[]),!oh(r))throw new ae(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let u,d,g,o=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let w=0;w<this.length;w++)d=r[w],g=this._trackByFn(w,d),null!==o&&Object.is(o.trackById,g)?(a&&(o=this._verifyReinsertion(o,d,g,w)),Object.is(o.item,d)||this._addIdentityChange(o,d)):(o=this._mismatch(o,d,g,w),a=!0),o=o._next}else u=0,function TI(t,r){if(Array.isArray(t))for(let o=0;o<t.length;o++)r(t[o]);else{const o=t[Symbol.iterator]();let a;for(;!(a=o.next()).done;)r(a.value)}}(r,w=>{g=this._trackByFn(u,w),null!==o&&Object.is(o.trackById,g)?(a&&(o=this._verifyReinsertion(o,w,g,u)),Object.is(o.item,w)||this._addIdentityChange(o,w)):(o=this._mismatch(o,w,g,u),a=!0),o=o._next,u++}),this.length=u;return this._truncate(o),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,o,a,u){let d;return null===r?d=this._itTail:(d=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._reinsertAfter(r,d,u)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,u))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._moveAfter(r,d,u)):r=this._addAfter(new bD(o,a),d,u),r}_verifyReinsertion(r,o,a,u){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==d?r=this._reinsertAfter(d,r._prev,u):r.currentIndex!=u&&(r.currentIndex=u,this._addToMoves(r,u)),r}_truncate(r){for(;null!==r;){const o=r._next;this._addToRemovals(this._unlink(r)),r=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,o,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const u=r._prevRemoved,d=r._nextRemoved;return null===u?this._removalsHead=d:u._nextRemoved=d,null===d?this._removalsTail=u:d._prevRemoved=u,this._insertAfter(r,o,a),this._addToMoves(r,a),r}_moveAfter(r,o,a){return this._unlink(r),this._insertAfter(r,o,a),this._addToMoves(r,a),r}_addAfter(r,o,a){return this._insertAfter(r,o,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,o,a){const u=null===o?this._itHead:o._next;return r._next=u,r._prev=o,null===u?this._itTail=r:u._prev=r,null===o?this._itHead=r:o._next=r,null===this._linkedRecords&&(this._linkedRecords=new nw),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const o=r._prev,a=r._next;return null===o?this._itHead=a:o._next=a,null===a?this._itTail=o:a._prev=o,r}_addToMoves(r,o){return r.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new nw),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,o){return r.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class bD{constructor(r,o){this.item=r,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class DD{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,o){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===o||o<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const o=r._prevDup,a=r._nextDup;return null===o?this._head=a:o._nextDup=a,null===a?this._tail=o:a._prevDup=o,null===this._head}}class nw{constructor(){this.map=new Map}put(r){const o=r.trackById;let a=this.map.get(o);a||(a=new DD,this.map.set(o,a)),a.add(r)}get(r,o){const u=this.map.get(r);return u?u.get(r,o):null}remove(r){const o=r.trackById;return this.map.get(o).remove(r)&&this.map.delete(o),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function rw(t,r,o){const a=t.previousIndex;if(null===a)return a;let u=0;return o&&a<o.length&&(u=o[a]),a+r+u}class iw{constructor(){}supports(r){return r instanceof Map||fa(r)}create(){return new AD}}class AD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let o;for(o=this._mapHead;null!==o;o=o._next)r(o)}forEachPreviousItem(r){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)r(o)}forEachChangedItem(r){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}diff(r){if(r){if(!(r instanceof Map||fa(r)))throw new ae(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,u)=>{if(o&&o.key===u)this._maybeAddToChanges(o,a),this._appendAfter=o,o=o._next;else{const d=this._getOrCreateRecordForKey(u,a);o=this._insertBeforeOrAppend(o,d)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let a=o;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,o){if(r){const a=r._prev;return o._next=r,o._prev=a,r._prev=o,a&&(a._next=o),r===this._mapHead&&(this._mapHead=o),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(r,o){if(this._records.has(r)){const u=this._records.get(r);this._maybeAddToChanges(u,o);const d=u._prev,g=u._next;return d&&(d._next=g),g&&(g._prev=d),u._next=null,u._prev=null,u}const a=new SD(r);return this._records.set(r,a),a.currentValue=o,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,o){Object.is(o,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=o,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,o){r instanceof Map?r.forEach(o):Object.keys(r).forEach(a=>o(r[a],a))}}class SD{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function sw(){return new xE([new tw])}let xE=(()=>{class t{static#e=this.\u0275prov=dn({token:t,providedIn:"root",factory:sw});constructor(o){this.factories=o}static create(o,a){if(null!=a){const u=a.factories.slice();o=o.concat(u)}return new t(o)}static extend(o){return{provide:t,useFactory:a=>t.create(o,a||sw()),deps:[[t,new Ru,new vl]]}}find(o){const a=this.factories.find(u=>u.supports(o));if(null!=a)return a;throw new ae(901,!1)}}return t})();function ow(){return new OE([new iw])}let OE=(()=>{class t{static#e=this.\u0275prov=dn({token:t,providedIn:"root",factory:ow});constructor(o){this.factories=o}static create(o,a){if(a){const u=a.factories.slice();o=o.concat(u)}return new t(o)}static extend(o){return{provide:t,useFactory:a=>t.create(o,a||ow()),deps:[[t,new Ru,new vl]]}}find(o){const a=this.factories.find(u=>u.supports(o));if(a)return a;throw new ae(901,!1)}}return t})();const MD=$T(null,"core",[]);let xD=(()=>{class t{constructor(o){}static#e=this.\u0275fac=function(a){return new(a||t)(ot(Ap))};static#t=this.\u0275mod=bs({type:t});static#n=this.\u0275inj=zn({})}return t})();function $D(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function GD(t){const r=Ln(t);if(!r)return null;const o=new ps(r);return{get selector(){return o.selector},get type(){return o.componentType},get inputs(){return o.inputs},get outputs(){return o.outputs},get ngContentSelectors(){return o.ngContentSelectors},get isStandalone(){return r.standalone},get isSignal(){return r.signals}}}},7213:(xt,je,U)=>{U.d(je,{zQ:()=>St,ww:()=>gn,rT:()=>lt,f7:()=>$e,L6:()=>ve,_Q:()=>fe,lh:()=>bt,Qv:()=>Ce,nw:()=>Gt}),U(6365);var V=U(6814),b=U(5879),Te=U(8326),$=U(7217),J=U(8645),q=U(2096),ue=U(5592),de=U(2459),ee=U(3019),oe=U(3093),Ee=U(4664),ze=U(7398),Ze=U(4552);class ut extends J.x{constructor(kt=1/0,Se=1/0,Oe=Ze.l){super(),this._bufferSize=kt,this._windowTime=Se,this._timestampProvider=Oe,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Se===1/0,this._bufferSize=Math.max(1,kt),this._windowTime=Math.max(1,Se)}next(kt){const{isStopped:Se,_buffer:Oe,_infiniteTimeWindow:qe,_timestampProvider:Ne,_windowTime:He}=this;Se||(Oe.push(kt),!qe&&Oe.push(Ne.now()+He)),this._trimBuffer(),super.next(kt)}_subscribe(kt){this._throwIfClosed(),this._trimBuffer();const Se=this._innerSubscribe(kt),{_infiniteTimeWindow:Oe,_buffer:qe}=this,Ne=qe.slice();for(let He=0;He<Ne.length&&!kt.closed;He+=Oe?1:2)kt.next(Ne[He]);return this._checkFinalizedStatuses(kt),Se}_trimBuffer(){const{_bufferSize:kt,_timestampProvider:Se,_buffer:Oe,_infiniteTimeWindow:qe}=this,Ne=(qe?1:2)*kt;if(kt<1/0&&Ne<Oe.length&&Oe.splice(0,Oe.length-Ne),!qe){const He=Se.now();let dt=0;for(let gt=1;gt<Oe.length&&Oe[gt]<=He;gt+=2)dt=gt;dt&&Oe.splice(0,dt+1)}}}var Xe=U(3020);function nt(Dt,kt,Se){let Oe,qe=!1;return Dt&&"object"==typeof Dt?({bufferSize:Oe=1/0,windowTime:kt=1/0,refCount:qe=!1,scheduler:Se}=Dt):Oe=Dt??1/0,(0,Xe.B)({connector:()=>new ut(Oe,kt,Se),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:qe})}var rt=U(1374),Ct=U(4674);function ct(Dt,kt){return(0,Ct.m)(kt)?(0,Ee.w)(()=>Dt,kt):(0,Ee.w)(()=>Dt)}var ae=U(5137),Me=U(2181),me=U(7142);const Ce=new b.OlP("angularfire2.auth.use-emulator"),ve=new b.OlP("angularfire2.auth.settings"),fe=new b.OlP("angularfire2.auth.tenant-id"),lt=new b.OlP("angularfire2.auth.langugage-code"),bt=new b.OlP("angularfire2.auth.use-device-language"),$e=new b.OlP("angularfire.auth.persistence"),Gt=(Dt,kt,Se,Oe,qe,Ne,He,dt)=>(0,$.cc)(`${Dt.name}.auth`,"AngularFireAuth",Dt.name,()=>{const gt=kt.runOutsideAngular(()=>Dt.auth());if(Se&&gt.useEmulator(...Se),Oe&&(gt.tenantId=Oe),gt.languageCode=qe,Ne&&gt.useDeviceLanguage(),He)for(const[It,Bn]of Object.entries(He))gt.settings[It]=Bn;return dt&&gt.setPersistence(dt),gt},[Se,Oe,qe,Ne,He,dt]);let St=(()=>{class Dt{authState;idToken;user;idTokenResult;credential;constructor(Se,Oe,qe,Ne,He,dt,gt,It,Bn,nn,xn,dn){const hn=new J.x,zn=(0,q.of)(void 0).pipe((0,oe.Q)(He.outsideAngular),(0,Ee.w)(()=>Ne.runOutsideAngular(()=>Promise.resolve().then(U.bind(U,6365)))),(0,ze.U)(()=>(0,$.on)(Se,Ne,Oe)),(0,ze.U)(On=>Gt(On,Ne,dt,It,Bn,nn,gt,xn)),nt({bufferSize:1,refCount:!1}));if((0,V.PM)(qe))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,q.of)(null);else{zn.pipe((0,rt.P)()).subscribe();const On=zn.pipe((0,Ee.w)(Nn=>Nn.getRedirectResult().then(yr=>yr,()=>null)),Te.iC,nt({bufferSize:1,refCount:!1})),An=zn.pipe((0,Ee.w)(Nn=>new ue.y(yr=>({unsubscribe:Ne.runOutsideAngular(()=>Nn.onAuthStateChanged(kn=>yr.next(kn),kn=>yr.error(kn),()=>yr.complete()))})))),Vt=zn.pipe((0,Ee.w)(Nn=>new ue.y(yr=>({unsubscribe:Ne.runOutsideAngular(()=>Nn.onIdTokenChanged(kn=>yr.next(kn),kn=>yr.error(kn),()=>yr.complete()))}))));this.authState=On.pipe(ct(An),(0,ae.R)(He.outsideAngular),(0,oe.Q)(He.insideAngular)),this.user=On.pipe(ct(Vt),(0,ae.R)(He.outsideAngular),(0,oe.Q)(He.insideAngular)),this.idToken=this.user.pipe((0,Ee.w)(Nn=>Nn?(0,de.D)(Nn.getIdToken()):(0,q.of)(null))),this.idTokenResult=this.user.pipe((0,Ee.w)(Nn=>Nn?(0,de.D)(Nn.getIdTokenResult()):(0,q.of)(null))),this.credential=(0,ee.T)(On,hn,this.authState.pipe((0,Me.h)(Nn=>!Nn))).pipe((0,ze.U)(Nn=>Nn?.user?Nn:null),(0,ae.R)(He.outsideAngular),(0,oe.Q)(He.insideAngular))}return(0,$.pX)(this,zn,Ne,{spy:{apply:(On,An,Vt)=>{(On.startsWith("signIn")||On.startsWith("createUser"))&&Vt.then(Nn=>hn.next(Nn))}}})}static \u0275fac=function(Oe){return new(Oe||Dt)(b.LFG($.Dh),b.LFG($.xv,8),b.LFG(b.Lbi),b.LFG(b.R0b),b.LFG(Te.HU),b.LFG(Ce,8),b.LFG(ve,8),b.LFG(fe,8),b.LFG(lt,8),b.LFG(bt,8),b.LFG($e,8),b.LFG(Te.Rf,8))};static \u0275prov=b.Yz7({token:Dt,factory:Dt.\u0275fac,providedIn:"any"})}return Dt})(),gn=(()=>{class Dt{constructor(){me.Z.registerVersion("angularfire",Te.q4.full,"auth-compat")}static \u0275fac=function(Oe){return new(Oe||Dt)};static \u0275mod=b.oAB({type:Dt});static \u0275inj=b.cJS({providers:[St]})}return Dt})()},7217:(xt,je,U)=>{U.d(je,{Dh:()=>ue,GT:()=>J,cc:()=>Ze,hO:()=>ze,on:()=>ee,pX:()=>$,xv:()=>de});var p=U(5879),V=U(8326),b=U(7142);const Te=["ngOnDestroy"],$=(rt,Ct,ct,ae={})=>new Proxy(rt,{get:(Me,me)=>ct.runOutsideAngular(()=>{if(rt[me])return ae?.spy?.get&&ae.spy.get(me,rt[me]),rt[me];if(Te.indexOf(me)>-1)return()=>{};const ge=Ct.toPromise().then(Ce=>{const ve=Ce?.[me];return"function"==typeof ve?ve.bind(Ce):ve?.then?ve.then(fe=>ct.run(()=>fe)):ct.run(()=>ve)});return new Proxy(()=>{},{get:(Ce,ve)=>ge[ve],apply:(Ce,ve,fe)=>ge.then(lt=>{const bt=lt?.(...fe);return ae?.spy?.apply&&ae.spy.apply(me,fe,bt),bt})})})}),J=(rt,Ct)=>{Ct.forEach(ct=>{Object.getOwnPropertyNames(ct.prototype||ct).forEach(ae=>{Object.defineProperty(rt.prototype,ae,Object.getOwnPropertyDescriptor(ct.prototype||ct,ae))})})};class q{constructor(Ct){return Ct}}const ue=new p.OlP("angularfire2.app.options"),de=new p.OlP("angularfire2.app.name");function ee(rt,Ct,ct){const Me="object"==typeof ct&&ct||{};Me.name=Me.name||"string"==typeof ct&&ct||"[DEFAULT]";const ge=b.Z.apps.filter(Ce=>Ce&&Ce.name===Me.name)[0]||Ct.runOutsideAngular(()=>b.Z.initializeApp(rt,Me));try{if(JSON.stringify(rt)!==JSON.stringify(ge.options)){const Ce=!!module.hot;oe("error",`${ge.name} Firebase App already initialized with different options${Ce?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new q(ge)}const oe=(rt,...Ct)=>{(0,p.X6Q)()&&typeof console<"u"&&console[rt](...Ct)},Ee={provide:q,useFactory:ee,deps:[ue,p.R0b,[new p.FiY,de]]};let ze=(()=>{class rt{static initializeApp(ct,ae){return{ngModule:rt,providers:[{provide:ue,useValue:ct},{provide:de,useValue:ae}]}}constructor(ct){b.Z.registerVersion("angularfire",V.q4.full,"core"),b.Z.registerVersion("angularfire",V.q4.full,"app-compat"),b.Z.registerVersion("angular",p.q4F.full,ct.toString())}static \u0275fac=function(ae){return new(ae||rt)(p.LFG(p.Lbi))};static \u0275mod=p.oAB({type:rt});static \u0275inj=p.cJS({providers:[Ee]})}return rt})();function Ze(rt,Ct,ct,ae,Me){const[,me,ge]=globalThis.\u0275AngularfireInstanceCache.find(Ce=>Ce[0]===rt)||[];if(me)return function ut(rt,Ct){try{return rt.toString()===Ct.toString()}catch{return rt===Ct}}(Me,ge)||(nt("error",`${Ct} was already initialized on the ${ct} Firebase App with different settings.${Xe?" You may need to reload as Firebase is not HMR aware.":""}`),nt("warn",{is:Me,was:ge})),me;{const Ce=ae();return globalThis.\u0275AngularfireInstanceCache.push([rt,Ce,Me]),Ce}}const Xe=typeof module<"u"&&!!module.hot,nt=(rt,...Ct)=>{(0,p.X6Q)()&&typeof console<"u"&&console[rt](...Ct)};globalThis.\u0275AngularfireInstanceCache||=[]},8326:(xt,je,U)=>{U.d(je,{q4:()=>ut,iC:()=>$e,HU:()=>ge,Rf:()=>Ct});var p=U(5879),V=U(534);(0,V.registerVersion)("firebase","10.6.0","app");var $=U(1954),q=U(2631);const de=new class ue extends q.v{}(class J extends $.o{constructor(kt,Se){super(kt,Se),this.scheduler=kt,this.work=Se}schedule(kt,Se=0){return Se>0?super.schedule(kt,Se):(this.delay=Se,this.state=kt,this.scheduler.flush(this),this)}execute(kt,Se){return Se>0||this.closed?super.execute(kt,Se):this._execute(kt,Se)}requestAsyncId(kt,Se,Oe=0){return null!=Oe&&Oe>0||null==Oe&&this.delay>0?super.requestAsyncId(kt,Se,Oe):(kt.flush(this),0)}});var oe=U(6321),Ee=U(9397),ze=U(5137),Ze=U(3093);const ut=new p.GfV("ANGULARFIRE2_VERSION");class Ct{constructor(){return((Dt,kt)=>{const Se=(0,V.getApps)(),Oe=[];return Se.forEach(qe=>{qe.container.getProvider(Dt).instances.forEach(He=>{Oe.includes(He)||Oe.push(He)})}),Oe})(ct)}}const ct="app-check";function ae(){}class Me{zone;delegate;constructor(kt,Se=de){this.zone=kt,this.delegate=Se}now(){return this.delegate.now()}schedule(kt,Se,Oe){const qe=this.zone;return this.delegate.schedule(function(He){qe.runGuarded(()=>{kt.apply(this,[He])})},Se,Oe)}}class me{zone;task=null;constructor(kt){this.zone=kt}call(kt,Se){const Oe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ae,{},ae,ae)),Se.pipe((0,Ee.b)({next:Oe,complete:Oe,error:Oe})).subscribe(kt).add(Oe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ge=(()=>{class Dt{ngZone;outsideAngular;insideAngular;constructor(Se){this.ngZone=Se,this.outsideAngular=Se.runOutsideAngular(()=>new Me(Zone.current)),this.insideAngular=Se.run(()=>new Me(Zone.current,oe.z)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(Oe){return new(Oe||Dt)(p.LFG(p.R0b))};static \u0275prov=p.Yz7({token:Dt,factory:Dt.\u0275fac,providedIn:"root"})}return Dt})();function $e(Dt){return function Gt(Dt){return function(Se){return(Se=Se.lift(new me(Dt.ngZone))).pipe((0,ze.R)(Dt.outsideAngular),(0,Ze.Q)(Dt.insideAngular))}}(function Ce(){const Dt=globalThis.\u0275AngularFireScheduler;if(!Dt)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return Dt}())(Dt)}},95:(xt,je,U)=>{U.d(je,{Wl:()=>nt,Fj:()=>ae,u5:()=>As,JU:()=>ut,JJ:()=>mn,JL:()=>Qt,F:()=>xi,On:()=>Qs,Q7:()=>oi,_Y:()=>Co});var p=U(5879),V=U(6814),b=U(2459),Te=U(5592),$=U(7453),J=U(4829),q=U(4564),ue=U(8251),de=U(7400),ee=U(2714),Ee=U(7398);let ze=(()=>{class G{constructor(O,se){this._renderer=O,this._elementRef=se,this.onChange=be=>{},this.onTouched=()=>{}}setProperty(O,se){this._renderer.setProperty(this._elementRef.nativeElement,O,se)}registerOnTouched(O){this.onTouched=O}registerOnChange(O){this.onChange=O}setDisabledState(O){this.setProperty("disabled",O)}static#e=this.\u0275fac=function(se){return new(se||G)(p.Y36(p.Qsj),p.Y36(p.SBq))};static#t=this.\u0275dir=p.lG2({type:G})}return G})(),Ze=(()=>{class G extends ze{static#e=this.\u0275fac=function(){let O;return function(be){return(O||(O=p.n5z(G)))(be||G)}}();static#t=this.\u0275dir=p.lG2({type:G,features:[p.qOj]})}return G})();const ut=new p.OlP("NgValueAccessor"),Xe={provide:ut,useExisting:(0,p.Gpc)(()=>nt),multi:!0};let nt=(()=>{class G extends Ze{writeValue(O){this.setProperty("checked",O)}static#e=this.\u0275fac=function(){let O;return function(be){return(O||(O=p.n5z(G)))(be||G)}}();static#t=this.\u0275dir=p.lG2({type:G,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(se,be){1&se&&p.NdJ("change",function(Tn){return be.onChange(Tn.target.checked)})("blur",function(){return be.onTouched()})},features:[p._Bn([Xe]),p.qOj]})}return G})();const rt={provide:ut,useExisting:(0,p.Gpc)(()=>ae),multi:!0},ct=new p.OlP("CompositionEventMode");let ae=(()=>{class G extends ze{constructor(O,se,be){super(O,se),this._compositionMode=be,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Ct(){const G=(0,V.q)()?(0,V.q)().getUserAgent():"";return/android (\d+)/.test(G.toLowerCase())}())}writeValue(O){this.setProperty("value",O??"")}_handleInput(O){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(O)}_compositionStart(){this._composing=!0}_compositionEnd(O){this._composing=!1,this._compositionMode&&this.onChange(O)}static#e=this.\u0275fac=function(se){return new(se||G)(p.Y36(p.Qsj),p.Y36(p.SBq),p.Y36(ct,8))};static#t=this.\u0275dir=p.lG2({type:G,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(se,be){1&se&&p.NdJ("input",function(Tn){return be._handleInput(Tn.target.value)})("blur",function(){return be.onTouched()})("compositionstart",function(){return be._compositionStart()})("compositionend",function(Tn){return be._compositionEnd(Tn.target.value)})},features:[p._Bn([rt]),p.qOj]})}return G})();const ge=new p.OlP("NgValidators"),Ce=new p.OlP("NgAsyncValidators");function $e(G){return function Me(G){return null==G||("string"==typeof G||Array.isArray(G))&&0===G.length}(G.value)?{required:!0}:null}function Se(G){return null}function Oe(G){return null!=G}function qe(G){return(0,p.QGY)(G)?(0,b.D)(G):G}function Ne(G){let K={};return G.forEach(O=>{K=null!=O?{...K,...O}:K}),0===Object.keys(K).length?null:K}function He(G,K){return K.map(O=>O(G))}function gt(G){return G.map(K=>function dt(G){return!G.validate}(K)?K:O=>K.validate(O))}function Bn(G){return null!=G?function It(G){if(!G)return null;const K=G.filter(Oe);return 0==K.length?null:function(O){return Ne(He(O,K))}}(gt(G)):null}function xn(G){return null!=G?function nn(G){if(!G)return null;const K=G.filter(Oe);return 0==K.length?null:function(O){return function oe(...G){const K=(0,q.jO)(G),{args:O,keys:se}=(0,$.D)(G),be=new Te.y(Jt=>{const{length:Tn}=O;if(!Tn)return void Jt.complete();const Li=new Array(Tn);let Ss=Tn,Fi=Tn;for(let Yi=0;Yi<Tn;Yi++){let Vi=!1;(0,J.Xf)(O[Yi]).subscribe((0,ue.x)(Jt,$s=>{Vi||(Vi=!0,Fi--),Li[Yi]=$s},()=>Ss--,void 0,()=>{(!Ss||!Vi)&&(Fi||Jt.next(se?(0,ee.n)(se,Li):Li),Jt.complete())}))}});return K?be.pipe((0,de.Z)(K)):be}(He(O,K).map(qe)).pipe((0,Ee.U)(Ne))}}(gt(G)):null}function dn(G,K){return null===G?[K]:Array.isArray(G)?[...G,K]:[G,K]}function On(G){return G?Array.isArray(G)?G:[G]:[]}function An(G,K){return Array.isArray(G)?G.includes(K):G===K}function Vt(G,K){const O=On(K);return On(G).forEach(be=>{An(O,be)||O.push(be)}),O}function Nn(G,K){return On(K).filter(O=>!An(G,O))}class yr{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(K){this._rawValidators=K||[],this._composedValidatorFn=Bn(this._rawValidators)}_setAsyncValidators(K){this._rawAsyncValidators=K||[],this._composedAsyncValidatorFn=xn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(K){this._onDestroyCallbacks.push(K)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(K=>K()),this._onDestroyCallbacks=[]}reset(K=void 0){this.control&&this.control.reset(K)}hasError(K,O){return!!this.control&&this.control.hasError(K,O)}getError(K,O){return this.control?this.control.getError(K,O):null}}class kn extends yr{get formDirective(){return null}get path(){return null}}class Hn extends yr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Mr{constructor(K){this._cd=K}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let mn=(()=>{class G extends Mr{constructor(O){super(O)}static#e=this.\u0275fac=function(se){return new(se||G)(p.Y36(Hn,2))};static#t=this.\u0275dir=p.lG2({type:G,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(se,be){2&se&&p.ekj("ng-untouched",be.isUntouched)("ng-touched",be.isTouched)("ng-pristine",be.isPristine)("ng-dirty",be.isDirty)("ng-valid",be.isValid)("ng-invalid",be.isInvalid)("ng-pending",be.isPending)},features:[p.qOj]})}return G})(),Qt=(()=>{class G extends Mr{constructor(O){super(O)}static#e=this.\u0275fac=function(se){return new(se||G)(p.Y36(kn,10))};static#t=this.\u0275dir=p.lG2({type:G,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(se,be){2&se&&p.ekj("ng-untouched",be.isUntouched)("ng-touched",be.isTouched)("ng-pristine",be.isPristine)("ng-dirty",be.isDirty)("ng-valid",be.isValid)("ng-invalid",be.isInvalid)("ng-pending",be.isPending)("ng-submitted",be.isSubmitted)},features:[p.qOj]})}return G})();const $r="VALID",Or="INVALID",Tr="PENDING",Xr="DISABLED";function Re(G){return(L(G)?G.validators:G)||null}function j(G,K){return(L(K)?K.asyncValidators:G)||null}function L(G){return null!=G&&!Array.isArray(G)&&"object"==typeof G}class ot{constructor(K,O){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(K),this._assignAsyncValidators(O)}get validator(){return this._composedValidatorFn}set validator(K){this._rawValidators=this._composedValidatorFn=K}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(K){this._rawAsyncValidators=this._composedAsyncValidatorFn=K}get parent(){return this._parent}get valid(){return this.status===$r}get invalid(){return this.status===Or}get pending(){return this.status==Tr}get disabled(){return this.status===Xr}get enabled(){return this.status!==Xr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(K){this._assignValidators(K)}setAsyncValidators(K){this._assignAsyncValidators(K)}addValidators(K){this.setValidators(Vt(K,this._rawValidators))}addAsyncValidators(K){this.setAsyncValidators(Vt(K,this._rawAsyncValidators))}removeValidators(K){this.setValidators(Nn(K,this._rawValidators))}removeAsyncValidators(K){this.setAsyncValidators(Nn(K,this._rawAsyncValidators))}hasValidator(K){return An(this._rawValidators,K)}hasAsyncValidator(K){return An(this._rawAsyncValidators,K)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(K={}){this.touched=!0,this._parent&&!K.onlySelf&&this._parent.markAsTouched(K)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(K=>K.markAllAsTouched())}markAsUntouched(K={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(O=>{O.markAsUntouched({onlySelf:!0})}),this._parent&&!K.onlySelf&&this._parent._updateTouched(K)}markAsDirty(K={}){this.pristine=!1,this._parent&&!K.onlySelf&&this._parent.markAsDirty(K)}markAsPristine(K={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(O=>{O.markAsPristine({onlySelf:!0})}),this._parent&&!K.onlySelf&&this._parent._updatePristine(K)}markAsPending(K={}){this.status=Tr,!1!==K.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!K.onlySelf&&this._parent.markAsPending(K)}disable(K={}){const O=this._parentMarkedDirty(K.onlySelf);this.status=Xr,this.errors=null,this._forEachChild(se=>{se.disable({...K,onlySelf:!0})}),this._updateValue(),!1!==K.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...K,skipPristineCheck:O}),this._onDisabledChange.forEach(se=>se(!0))}enable(K={}){const O=this._parentMarkedDirty(K.onlySelf);this.status=$r,this._forEachChild(se=>{se.enable({...K,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:K.emitEvent}),this._updateAncestors({...K,skipPristineCheck:O}),this._onDisabledChange.forEach(se=>se(!1))}_updateAncestors(K){this._parent&&!K.onlySelf&&(this._parent.updateValueAndValidity(K),K.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(K){this._parent=K}getRawValue(){return this.value}updateValueAndValidity(K={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===$r||this.status===Tr)&&this._runAsyncValidator(K.emitEvent)),!1!==K.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!K.onlySelf&&this._parent.updateValueAndValidity(K)}_updateTreeValidity(K={emitEvent:!0}){this._forEachChild(O=>O._updateTreeValidity(K)),this.updateValueAndValidity({onlySelf:!0,emitEvent:K.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Xr:$r}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(K){if(this.asyncValidator){this.status=Tr,this._hasOwnPendingAsyncValidator=!0;const O=qe(this.asyncValidator(this));this._asyncValidationSubscription=O.subscribe(se=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(se,{emitEvent:K})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(K,O={}){this.errors=K,this._updateControlsErrors(!1!==O.emitEvent)}get(K){let O=K;return null==O||(Array.isArray(O)||(O=O.split(".")),0===O.length)?null:O.reduce((se,be)=>se&&se._find(be),this)}getError(K,O){const se=O?this.get(O):this;return se&&se.errors?se.errors[K]:null}hasError(K,O){return!!this.getError(K,O)}get root(){let K=this;for(;K._parent;)K=K._parent;return K}_updateControlsErrors(K){this.status=this._calculateStatus(),K&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(K)}_initObservables(){this.valueChanges=new p.vpe,this.statusChanges=new p.vpe}_calculateStatus(){return this._allControlsDisabled()?Xr:this.errors?Or:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Tr)?Tr:this._anyControlsHaveStatus(Or)?Or:$r}_anyControlsHaveStatus(K){return this._anyControls(O=>O.status===K)}_anyControlsDirty(){return this._anyControls(K=>K.dirty)}_anyControlsTouched(){return this._anyControls(K=>K.touched)}_updatePristine(K={}){this.pristine=!this._anyControlsDirty(),this._parent&&!K.onlySelf&&this._parent._updatePristine(K)}_updateTouched(K={}){this.touched=this._anyControlsTouched(),this._parent&&!K.onlySelf&&this._parent._updateTouched(K)}_registerOnCollectionChange(K){this._onCollectionChange=K}_setUpdateStrategy(K){L(K)&&null!=K.updateOn&&(this._updateOn=K.updateOn)}_parentMarkedDirty(K){return!K&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(K){return null}_assignValidators(K){this._rawValidators=Array.isArray(K)?K.slice():K,this._composedValidatorFn=function re(G){return Array.isArray(G)?Bn(G):G||null}(this._rawValidators)}_assignAsyncValidators(K){this._rawAsyncValidators=Array.isArray(K)?K.slice():K,this._composedAsyncValidatorFn=function N(G){return Array.isArray(G)?xn(G):G||null}(this._rawAsyncValidators)}}class Nt extends ot{constructor(K,O,se){super(Re(O),j(se,O)),this.controls=K,this._initObservables(),this._setUpdateStrategy(O),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(K,O){return this.controls[K]?this.controls[K]:(this.controls[K]=O,O.setParent(this),O._registerOnCollectionChange(this._onCollectionChange),O)}addControl(K,O,se={}){this.registerControl(K,O),this.updateValueAndValidity({emitEvent:se.emitEvent}),this._onCollectionChange()}removeControl(K,O={}){this.controls[K]&&this.controls[K]._registerOnCollectionChange(()=>{}),delete this.controls[K],this.updateValueAndValidity({emitEvent:O.emitEvent}),this._onCollectionChange()}setControl(K,O,se={}){this.controls[K]&&this.controls[K]._registerOnCollectionChange(()=>{}),delete this.controls[K],O&&this.registerControl(K,O),this.updateValueAndValidity({emitEvent:se.emitEvent}),this._onCollectionChange()}contains(K){return this.controls.hasOwnProperty(K)&&this.controls[K].enabled}setValue(K,O={}){(function Le(G,K,O){G._forEachChild((se,be)=>{if(void 0===O[be])throw new p.vHH(1002,"")})})(this,0,K),Object.keys(K).forEach(se=>{(function he(G,K,O){const se=G.controls;if(!(K?Object.keys(se):se).length)throw new p.vHH(1e3,"");if(!se[O])throw new p.vHH(1001,"")})(this,!0,se),this.controls[se].setValue(K[se],{onlySelf:!0,emitEvent:O.emitEvent})}),this.updateValueAndValidity(O)}patchValue(K,O={}){null!=K&&(Object.keys(K).forEach(se=>{const be=this.controls[se];be&&be.patchValue(K[se],{onlySelf:!0,emitEvent:O.emitEvent})}),this.updateValueAndValidity(O))}reset(K={},O={}){this._forEachChild((se,be)=>{se.reset(K?K[be]:null,{onlySelf:!0,emitEvent:O.emitEvent})}),this._updatePristine(O),this._updateTouched(O),this.updateValueAndValidity(O)}getRawValue(){return this._reduceChildren({},(K,O,se)=>(K[se]=O.getRawValue(),K))}_syncPendingControls(){let K=this._reduceChildren(!1,(O,se)=>!!se._syncPendingControls()||O);return K&&this.updateValueAndValidity({onlySelf:!0}),K}_forEachChild(K){Object.keys(this.controls).forEach(O=>{const se=this.controls[O];se&&K(se,O)})}_setUpControls(){this._forEachChild(K=>{K.setParent(this),K._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(K){for(const[O,se]of Object.entries(this.controls))if(this.contains(O)&&K(se))return!0;return!1}_reduceValue(){return this._reduceChildren({},(O,se,be)=>((se.enabled||this.disabled)&&(O[be]=se.value),O))}_reduceChildren(K,O){let se=K;return this._forEachChild((be,Jt)=>{se=O(se,be,Jt)}),se}_allControlsDisabled(){for(const K of Object.keys(this.controls))if(this.controls[K].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(K){return this.controls.hasOwnProperty(K)?this.controls[K]:null}}const Ae=new p.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Ie}),Ie="always";function ye(G,K,O=Ie){mt(G,K),K.valueAccessor.writeValue(G.value),(G.disabled||"always"===O)&&K.valueAccessor.setDisabledState?.(G.disabled),function sn(G,K){K.valueAccessor.registerOnChange(O=>{G._pendingValue=O,G._pendingChange=!0,G._pendingDirty=!0,"change"===G.updateOn&&Vn(G,K)})}(G,K),function qn(G,K){const O=(se,be)=>{K.valueAccessor.writeValue(se),be&&K.viewToModelUpdate(se)};G.registerOnChange(O),K._registerOnDestroy(()=>{G._unregisterOnChange(O)})}(G,K),function Jn(G,K){K.valueAccessor.registerOnTouched(()=>{G._pendingTouched=!0,"blur"===G.updateOn&&G._pendingChange&&Vn(G,K),"submit"!==G.updateOn&&G.markAsTouched()})}(G,K),function tt(G,K){if(K.valueAccessor.setDisabledState){const O=se=>{K.valueAccessor.setDisabledState(se)};G.registerOnDisabledChange(O),K._registerOnDestroy(()=>{G._unregisterOnDisabledChange(O)})}}(G,K)}function Be(G,K){G.forEach(O=>{O.registerOnValidatorChange&&O.registerOnValidatorChange(K)})}function mt(G,K){const O=function hn(G){return G._rawValidators}(G);null!==K.validator?G.setValidators(dn(O,K.validator)):"function"==typeof O&&G.setValidators([O]);const se=function zn(G){return G._rawAsyncValidators}(G);null!==K.asyncValidator?G.setAsyncValidators(dn(se,K.asyncValidator)):"function"==typeof se&&G.setAsyncValidators([se]);const be=()=>G.updateValueAndValidity();Be(K._rawValidators,be),Be(K._rawAsyncValidators,be)}function Vn(G,K){G._pendingDirty&&G.markAsDirty(),G.setValue(G._pendingValue,{emitModelToViewChange:!1}),K.viewToModelUpdate(G._pendingValue),G._pendingChange=!1}const $i={provide:kn,useExisting:(0,p.Gpc)(()=>xi)},Ls=(()=>Promise.resolve())();let xi=(()=>{class G extends kn{constructor(O,se,be){super(),this.callSetDisabledState=be,this.submitted=!1,this._directives=new Set,this.ngSubmit=new p.vpe,this.form=new Nt({},Bn(O),xn(se))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(O){Ls.then(()=>{const se=this._findContainer(O.path);O.control=se.registerControl(O.name,O.control),ye(O.control,O,this.callSetDisabledState),O.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(O)})}getControl(O){return this.form.get(O.path)}removeControl(O){Ls.then(()=>{const se=this._findContainer(O.path);se&&se.removeControl(O.name),this._directives.delete(O)})}addFormGroup(O){Ls.then(()=>{const se=this._findContainer(O.path),be=new Nt({});(function ei(G,K){mt(G,K)})(be,O),se.registerControl(O.name,be),be.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(O){Ls.then(()=>{const se=this._findContainer(O.path);se&&se.removeControl(O.name)})}getFormGroup(O){return this.form.get(O.path)}updateModel(O,se){Ls.then(()=>{this.form.get(O.path).setValue(se)})}setValue(O){this.control.setValue(O)}onSubmit(O){return this.submitted=!0,function ji(G,K){G._syncPendingControls(),K.forEach(O=>{const se=O.control;"submit"===se.updateOn&&se._pendingChange&&(O.viewToModelUpdate(se._pendingValue),se._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(O),"dialog"===O?.target?.method}onReset(){this.resetForm()}resetForm(O=void 0){this.form.reset(O),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(O){return O.pop(),O.length?this.form.get(O):this.form}static#e=this.\u0275fac=function(se){return new(se||G)(p.Y36(ge,10),p.Y36(Ce,10),p.Y36(Ae,8))};static#t=this.\u0275dir=p.lG2({type:G,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(se,be){1&se&&p.NdJ("submit",function(Tn){return be.onSubmit(Tn)})("reset",function(){return be.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[p._Bn([$i]),p.qOj]})}return G})();function vi(G,K){const O=G.indexOf(K);O>-1&&G.splice(O,1)}function Fs(G){return"object"==typeof G&&null!==G&&2===Object.keys(G).length&&"value"in G&&"disabled"in G}const ii=class extends ot{constructor(K=null,O,se){super(Re(O),j(se,O)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(K),this._setUpdateStrategy(O),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),L(O)&&(O.nonNullable||O.initialValueIsDefault)&&(this.defaultValue=Fs(K)?K.value:K)}setValue(K,O={}){this.value=this._pendingValue=K,this._onChange.length&&!1!==O.emitModelToViewChange&&this._onChange.forEach(se=>se(this.value,!1!==O.emitViewToModelChange)),this.updateValueAndValidity(O)}patchValue(K,O={}){this.setValue(K,O)}reset(K=this.defaultValue,O={}){this._applyFormState(K),this.markAsPristine(O),this.markAsUntouched(O),this.setValue(this.value,O),this._pendingChange=!1}_updateValue(){}_anyControls(K){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(K){this._onChange.push(K)}_unregisterOnChange(K){vi(this._onChange,K)}registerOnDisabledChange(K){this._onDisabledChange.push(K)}_unregisterOnDisabledChange(K){vi(this._onDisabledChange,K)}_forEachChild(K){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(K){Fs(K)?(this.value=this._pendingValue=K.value,K.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=K}},bs={provide:Hn,useExisting:(0,p.Gpc)(()=>Qs)},go=(()=>Promise.resolve())();let Qs=(()=>{class G extends Hn{constructor(O,se,be,Jt,Tn,Li){super(),this._changeDetectorRef=Tn,this.callSetDisabledState=Li,this.control=new ii,this._registered=!1,this.name="",this.update=new p.vpe,this._parent=O,this._setValidators(se),this._setAsyncValidators(be),this.valueAccessor=function Zs(G,K){if(!K)return null;let O,se,be;return Array.isArray(K),K.forEach(Jt=>{Jt.constructor===ae?O=Jt:function Sr(G){return Object.getPrototypeOf(G.constructor)===Ze}(Jt)?se=Jt:be=Jt}),be||se||O||null}(0,Jt)}ngOnChanges(O){if(this._checkForErrors(),!this._registered||"name"in O){if(this._registered&&(this._checkName(),this.formDirective)){const se=O.name.previousValue;this.formDirective.removeControl({name:se,path:this._getPath(se)})}this._setUpControl()}"isDisabled"in O&&this._updateDisabled(O),function rs(G,K){if(!G.hasOwnProperty("model"))return!1;const O=G.model;return!!O.isFirstChange()||!Object.is(K,O.currentValue)}(O,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(O){this.viewModel=O,this.update.emit(O)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ye(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(O){go.then(()=>{this.control.setValue(O,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(O){const se=O.isDisabled.currentValue,be=0!==se&&(0,p.VuI)(se);go.then(()=>{be&&!this.control.disabled?this.control.disable():!be&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(O){return this._parent?function xe(G,K){return[...K.path,G]}(O,this._parent):[O]}static#e=this.\u0275fac=function(se){return new(se||G)(p.Y36(kn,9),p.Y36(ge,10),p.Y36(Ce,10),p.Y36(ut,10),p.Y36(p.sBO,8),p.Y36(Ae,8))};static#t=this.\u0275dir=p.lG2({type:G,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[p._Bn([bs]),p.qOj,p.TTD]})}return G})(),Co=(()=>{class G{static#e=this.\u0275fac=function(se){return new(se||G)};static#t=this.\u0275dir=p.lG2({type:G,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return G})(),Oi=(()=>{class G{static#e=this.\u0275fac=function(se){return new(se||G)};static#t=this.\u0275mod=p.oAB({type:G});static#n=this.\u0275inj=p.cJS({})}return G})(),fi=(()=>{class G{constructor(){this._validator=Se}ngOnChanges(O){if(this.inputName in O){const se=this.normalizeInput(O[this.inputName].currentValue);this._enabled=this.enabled(se),this._validator=this._enabled?this.createValidator(se):Se,this._onChange&&this._onChange()}}validate(O){return this._validator(O)}registerOnValidatorChange(O){this._onChange=O}enabled(O){return null!=O}static#e=this.\u0275fac=function(se){return new(se||G)};static#t=this.\u0275dir=p.lG2({type:G,features:[p.TTD]})}return G})();const Va={provide:ge,useExisting:(0,p.Gpc)(()=>oi),multi:!0};let oi=(()=>{class G extends fi{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=p.VuI,this.createValidator=O=>$e}enabled(O){return O}static#e=this.\u0275fac=function(){let O;return function(be){return(O||(O=p.n5z(G)))(be||G)}}();static#t=this.\u0275dir=p.lG2({type:G,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(se,be){2&se&&p.uIk("required",be._enabled?"":null)},inputs:{required:"required"},features:[p._Bn([Va]),p.qOj]})}return G})(),li=(()=>{class G{static#e=this.\u0275fac=function(se){return new(se||G)};static#t=this.\u0275mod=p.oAB({type:G});static#n=this.\u0275inj=p.cJS({imports:[Oi]})}return G})(),As=(()=>{class G{static withConfig(O){return{ngModule:G,providers:[{provide:Ae,useValue:O.callSetDisabledState??Ie}]}}static#e=this.\u0275fac=function(se){return new(se||G)};static#t=this.\u0275mod=p.oAB({type:G});static#n=this.\u0275inj=p.cJS({imports:[li]})}return G})()},6593:(xt,je,U)=>{U.d(je,{Dx:()=>Hn,b2:()=>An,q6:()=>dn,se:()=>ve});var p=U(5879),V=U(6814);class b extends V.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Te extends b{static makeCurrent(){(0,V.HT)(new Te)}onAndCancel(j,N,L){return j.addEventListener(N,L),()=>{j.removeEventListener(N,L)}}dispatchEvent(j,N){j.dispatchEvent(N)}remove(j){j.parentNode&&j.parentNode.removeChild(j)}createElement(j,N){return(N=N||this.getDefaultDocument()).createElement(j)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(j){return j.nodeType===Node.ELEMENT_NODE}isShadowRoot(j){return j instanceof DocumentFragment}getGlobalEventTarget(j,N){return"window"===N?window:"document"===N?j:"body"===N?j.body:null}getBaseHref(j){const N=function J(){return $=$||document.querySelector("base"),$?$.getAttribute("href"):null}();return null==N?null:function ue(re){q=q||document.createElement("a"),q.setAttribute("href",re);const j=q.pathname;return"/"===j.charAt(0)?j:`/${j}`}(N)}resetBaseElement(){$=null}getUserAgent(){return window.navigator.userAgent}getCookie(j){return(0,V.Mx)(document.cookie,j)}}let q,$=null,ee=(()=>{class re{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(L){return new(L||re)};static#t=this.\u0275prov=p.Yz7({token:re,factory:re.\u0275fac})}return re})();const oe=new p.OlP("EventManagerPlugins");let Ee=(()=>{class re{constructor(N,L){this._zone=L,this._eventNameToPlugin=new Map,N.forEach(he=>{he.manager=this}),this._plugins=N.slice().reverse()}addEventListener(N,L,he){return this._findPluginFor(L).addEventListener(N,L,he)}getZone(){return this._zone}_findPluginFor(N){let L=this._eventNameToPlugin.get(N);if(L)return L;if(L=this._plugins.find(Le=>Le.supports(N)),!L)throw new p.vHH(5101,!1);return this._eventNameToPlugin.set(N,L),L}static#e=this.\u0275fac=function(L){return new(L||re)(p.LFG(oe),p.LFG(p.R0b))};static#t=this.\u0275prov=p.Yz7({token:re,factory:re.\u0275fac})}return re})();class ze{constructor(j){this._doc=j}}const Ze="ng-app-id";let ut=(()=>{class re{constructor(N,L,he,Le={}){this.doc=N,this.appId=L,this.nonce=he,this.platformId=Le,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,V.PM)(Le),this.resetHostNodes()}addStyles(N){for(const L of N)1===this.changeUsageCount(L,1)&&this.onStyleAdded(L)}removeStyles(N){for(const L of N)this.changeUsageCount(L,-1)<=0&&this.onStyleRemoved(L)}ngOnDestroy(){const N=this.styleNodesInDOM;N&&(N.forEach(L=>L.remove()),N.clear());for(const L of this.getAllStyles())this.onStyleRemoved(L);this.resetHostNodes()}addHost(N){this.hostNodes.add(N);for(const L of this.getAllStyles())this.addStyleToHost(N,L)}removeHost(N){this.hostNodes.delete(N)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(N){for(const L of this.hostNodes)this.addStyleToHost(L,N)}onStyleRemoved(N){const L=this.styleRef;L.get(N)?.elements?.forEach(he=>he.remove()),L.delete(N)}collectServerRenderedStyles(){const N=this.doc.head?.querySelectorAll(`style[${Ze}="${this.appId}"]`);if(N?.length){const L=new Map;return N.forEach(he=>{null!=he.textContent&&L.set(he.textContent,he)}),L}return null}changeUsageCount(N,L){const he=this.styleRef;if(he.has(N)){const Le=he.get(N);return Le.usage+=L,Le.usage}return he.set(N,{usage:L,elements:[]}),L}getStyleElement(N,L){const he=this.styleNodesInDOM,Le=he?.get(L);if(Le?.parentNode===N)return he.delete(L),Le.removeAttribute(Ze),Le;{const ot=this.doc.createElement("style");return this.nonce&&ot.setAttribute("nonce",this.nonce),ot.textContent=L,this.platformIsServer&&ot.setAttribute(Ze,this.appId),ot}}addStyleToHost(N,L){const he=this.getStyleElement(N,L);N.appendChild(he);const Le=this.styleRef,ot=Le.get(L)?.elements;ot?ot.push(he):Le.set(L,{elements:[he],usage:1})}resetHostNodes(){const N=this.hostNodes;N.clear(),N.add(this.doc.head)}static#e=this.\u0275fac=function(L){return new(L||re)(p.LFG(V.K0),p.LFG(p.AFp),p.LFG(p.Ojb,8),p.LFG(p.Lbi))};static#t=this.\u0275prov=p.Yz7({token:re,factory:re.\u0275fac})}return re})();const Xe={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},nt=/%COMP%/g,Me=new p.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Ce(re,j){return j.map(N=>N.replace(nt,re))}let ve=(()=>{class re{constructor(N,L,he,Le,ot,Nt,_t,rn=null){this.eventManager=N,this.sharedStylesHost=L,this.appId=he,this.removeStylesOnCompDestroy=Le,this.doc=ot,this.platformId=Nt,this.ngZone=_t,this.nonce=rn,this.rendererByCompId=new Map,this.platformIsServer=(0,V.PM)(Nt),this.defaultRenderer=new fe(N,ot,_t,this.platformIsServer)}createRenderer(N,L){if(!N||!L)return this.defaultRenderer;this.platformIsServer&&L.encapsulation===p.ifc.ShadowDom&&(L={...L,encapsulation:p.ifc.Emulated});const he=this.getOrCreateRenderer(N,L);return he instanceof gn?he.applyToHost(N):he instanceof St&&he.applyStyles(),he}getOrCreateRenderer(N,L){const he=this.rendererByCompId;let Le=he.get(L.id);if(!Le){const ot=this.doc,Nt=this.ngZone,_t=this.eventManager,rn=this.sharedStylesHost,Zt=this.removeStylesOnCompDestroy,Cn=this.platformIsServer;switch(L.encapsulation){case p.ifc.Emulated:Le=new gn(_t,rn,L,this.appId,Zt,ot,Nt,Cn);break;case p.ifc.ShadowDom:return new Gt(_t,rn,N,L,ot,Nt,this.nonce,Cn);default:Le=new St(_t,rn,L,Zt,ot,Nt,Cn)}he.set(L.id,Le)}return Le}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(L){return new(L||re)(p.LFG(Ee),p.LFG(ut),p.LFG(p.AFp),p.LFG(Me),p.LFG(V.K0),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(p.Ojb))};static#t=this.\u0275prov=p.Yz7({token:re,factory:re.\u0275fac})}return re})();class fe{constructor(j,N,L,he){this.eventManager=j,this.doc=N,this.ngZone=L,this.platformIsServer=he,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(j,N){return N?this.doc.createElementNS(Xe[N]||N,j):this.doc.createElement(j)}createComment(j){return this.doc.createComment(j)}createText(j){return this.doc.createTextNode(j)}appendChild(j,N){($e(j)?j.content:j).appendChild(N)}insertBefore(j,N,L){j&&($e(j)?j.content:j).insertBefore(N,L)}removeChild(j,N){j&&j.removeChild(N)}selectRootElement(j,N){let L="string"==typeof j?this.doc.querySelector(j):j;if(!L)throw new p.vHH(-5104,!1);return N||(L.textContent=""),L}parentNode(j){return j.parentNode}nextSibling(j){return j.nextSibling}setAttribute(j,N,L,he){if(he){N=he+":"+N;const Le=Xe[he];Le?j.setAttributeNS(Le,N,L):j.setAttribute(N,L)}else j.setAttribute(N,L)}removeAttribute(j,N,L){if(L){const he=Xe[L];he?j.removeAttributeNS(he,N):j.removeAttribute(`${L}:${N}`)}else j.removeAttribute(N)}addClass(j,N){j.classList.add(N)}removeClass(j,N){j.classList.remove(N)}setStyle(j,N,L,he){he&(p.JOm.DashCase|p.JOm.Important)?j.style.setProperty(N,L,he&p.JOm.Important?"important":""):j.style[N]=L}removeStyle(j,N,L){L&p.JOm.DashCase?j.style.removeProperty(N):j.style[N]=""}setProperty(j,N,L){j[N]=L}setValue(j,N){j.nodeValue=N}listen(j,N,L){if("string"==typeof j&&!(j=(0,V.q)().getGlobalEventTarget(this.doc,j)))throw new Error(`Unsupported event target ${j} for event ${N}`);return this.eventManager.addEventListener(j,N,this.decoratePreventDefault(L))}decoratePreventDefault(j){return N=>{if("__ngUnwrap__"===N)return j;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>j(N)):j(N))&&N.preventDefault()}}}function $e(re){return"TEMPLATE"===re.tagName&&void 0!==re.content}class Gt extends fe{constructor(j,N,L,he,Le,ot,Nt,_t){super(j,Le,ot,_t),this.sharedStylesHost=N,this.hostEl=L,this.shadowRoot=L.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const rn=Ce(he.id,he.styles);for(const Zt of rn){const Cn=document.createElement("style");Nt&&Cn.setAttribute("nonce",Nt),Cn.textContent=Zt,this.shadowRoot.appendChild(Cn)}}nodeOrShadowRoot(j){return j===this.hostEl?this.shadowRoot:j}appendChild(j,N){return super.appendChild(this.nodeOrShadowRoot(j),N)}insertBefore(j,N,L){return super.insertBefore(this.nodeOrShadowRoot(j),N,L)}removeChild(j,N){return super.removeChild(this.nodeOrShadowRoot(j),N)}parentNode(j){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(j)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class St extends fe{constructor(j,N,L,he,Le,ot,Nt,_t){super(j,Le,ot,Nt),this.sharedStylesHost=N,this.removeStylesOnCompDestroy=he,this.styles=_t?Ce(_t,L.styles):L.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class gn extends St{constructor(j,N,L,he,Le,ot,Nt,_t){const rn=he+"-"+L.id;super(j,N,L,Le,ot,Nt,_t,rn),this.contentAttr=function me(re){return"_ngcontent-%COMP%".replace(nt,re)}(rn),this.hostAttr=function ge(re){return"_nghost-%COMP%".replace(nt,re)}(rn)}applyToHost(j){this.applyStyles(),this.setAttribute(j,this.hostAttr,"")}createElement(j,N){const L=super.createElement(j,N);return super.setAttribute(L,this.contentAttr,""),L}}let Dt=(()=>{class re extends ze{constructor(N){super(N)}supports(N){return!0}addEventListener(N,L,he){return N.addEventListener(L,he,!1),()=>this.removeEventListener(N,L,he)}removeEventListener(N,L,he){return N.removeEventListener(L,he)}static#e=this.\u0275fac=function(L){return new(L||re)(p.LFG(V.K0))};static#t=this.\u0275prov=p.Yz7({token:re,factory:re.\u0275fac})}return re})();const kt=["alt","control","meta","shift"],Se={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Oe={alt:re=>re.altKey,control:re=>re.ctrlKey,meta:re=>re.metaKey,shift:re=>re.shiftKey};let qe=(()=>{class re extends ze{constructor(N){super(N)}supports(N){return null!=re.parseEventName(N)}addEventListener(N,L,he){const Le=re.parseEventName(L),ot=re.eventCallback(Le.fullKey,he,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,V.q)().onAndCancel(N,Le.domEventName,ot))}static parseEventName(N){const L=N.toLowerCase().split("."),he=L.shift();if(0===L.length||"keydown"!==he&&"keyup"!==he)return null;const Le=re._normalizeKey(L.pop());let ot="",Nt=L.indexOf("code");if(Nt>-1&&(L.splice(Nt,1),ot="code."),kt.forEach(rn=>{const Zt=L.indexOf(rn);Zt>-1&&(L.splice(Zt,1),ot+=rn+".")}),ot+=Le,0!=L.length||0===Le.length)return null;const _t={};return _t.domEventName=he,_t.fullKey=ot,_t}static matchEventFullKeyCode(N,L){let he=Se[N.key]||N.key,Le="";return L.indexOf("code.")>-1&&(he=N.code,Le="code."),!(null==he||!he)&&(he=he.toLowerCase()," "===he?he="space":"."===he&&(he="dot"),kt.forEach(ot=>{ot!==he&&(0,Oe[ot])(N)&&(Le+=ot+".")}),Le+=he,Le===L)}static eventCallback(N,L,he){return Le=>{re.matchEventFullKeyCode(Le,N)&&he.runGuarded(()=>L(Le))}}static _normalizeKey(N){return"esc"===N?"escape":N}static#e=this.\u0275fac=function(L){return new(L||re)(p.LFG(V.K0))};static#t=this.\u0275prov=p.Yz7({token:re,factory:re.\u0275fac})}return re})();const dn=(0,p.eFA)(p._c5,"browser",[{provide:p.Lbi,useValue:V.bD},{provide:p.g9A,useValue:function It(){Te.makeCurrent()},multi:!0},{provide:V.K0,useFactory:function nn(){return(0,p.RDi)(document),document},deps:[]}]),hn=new p.OlP(""),zn=[{provide:p.rWj,useClass:class de{addToWindow(j){p.dqk.getAngularTestability=(L,he=!0)=>{const Le=j.findTestabilityInTree(L,he);if(null==Le)throw new p.vHH(5103,!1);return Le},p.dqk.getAllAngularTestabilities=()=>j.getAllTestabilities(),p.dqk.getAllAngularRootElements=()=>j.getAllRootElements(),p.dqk.frameworkStabilizers||(p.dqk.frameworkStabilizers=[]),p.dqk.frameworkStabilizers.push(L=>{const he=p.dqk.getAllAngularTestabilities();let Le=he.length,ot=!1;const Nt=function(_t){ot=ot||_t,Le--,0==Le&&L(ot)};he.forEach(_t=>{_t.whenStable(Nt)})})}findTestabilityInTree(j,N,L){return null==N?null:j.getTestability(N)??(L?(0,V.q)().isShadowRoot(N)?this.findTestabilityInTree(j,N.host,!0):this.findTestabilityInTree(j,N.parentElement,!0):null)}},deps:[]},{provide:p.lri,useClass:p.dDg,deps:[p.R0b,p.eoX,p.rWj]},{provide:p.dDg,useClass:p.dDg,deps:[p.R0b,p.eoX,p.rWj]}],On=[{provide:p.zSh,useValue:"root"},{provide:p.qLn,useFactory:function Bn(){return new p.qLn},deps:[]},{provide:oe,useClass:Dt,multi:!0,deps:[V.K0,p.R0b,p.Lbi]},{provide:oe,useClass:qe,multi:!0,deps:[V.K0]},ve,ut,Ee,{provide:p.FYo,useExisting:ve},{provide:V.JF,useClass:ee,deps:[]},[]];let An=(()=>{class re{constructor(N){}static withServerTransition(N){return{ngModule:re,providers:[{provide:p.AFp,useValue:N.appId}]}}static#e=this.\u0275fac=function(L){return new(L||re)(p.LFG(hn,12))};static#t=this.\u0275mod=p.oAB({type:re});static#n=this.\u0275inj=p.cJS({providers:[...On,...zn],imports:[V.ez,p.hGG]})}return re})(),Hn=(()=>{class re{constructor(N){this._doc=N}getTitle(){return this._doc.title}setTitle(N){this._doc.title=N||""}static#e=this.\u0275fac=function(L){return new(L||re)(p.LFG(V.K0))};static#t=this.\u0275prov=p.Yz7({token:re,factory:function(L){let he=null;return he=L?new L:function kn(){return new Hn((0,p.LFG)(V.K0))}(),he},providedIn:"root"})}return re})();typeof window<"u"&&window},3781:(xt,je,U)=>{U.d(je,{wm:()=>Fo,F0:()=>qr,Bz:()=>Ca,lC:()=>Ds});var p=U(5879),V=U(5592),b=U(4674),$=U(2459),J=U(2096),q=U(5619),ue=U(7453),de=U(2737),ee=U(7400),oe=U(4564),Ee=U(2714),ze=U(8251),Ze=U(7103);function ut(...T){const A=(0,oe.yG)(T),v=(0,oe.jO)(T),{args:R,keys:B}=(0,ue.D)(T);if(0===R.length)return(0,$.D)([],A);const ne=new V.y(function Xe(T,A,v=de.y){return R=>{nt(A,()=>{const{length:B}=T,ne=new Array(B);let Q=B,et=B;for(let Qe=0;Qe<B;Qe++)nt(A,()=>{const zt=(0,$.D)(T[Qe],A);let un=!1;zt.subscribe((0,ze.x)(R,Xn=>{ne[Qe]=Xn,un||(un=!0,et--),et||R.next(v(ne.slice()))},()=>{--Q||R.complete()}))},R)},R)}}(R,A,B?Q=>(0,Ee.n)(B,Q):de.y));return v?ne.pipe((0,ee.Z)(v)):ne}function nt(T,A,v){T?(0,Ze.f)(v,T,A):A()}var rt=U(6973),Ct=U(5211),ct=U(4829);function ae(T){return new V.y(A=>{(0,ct.Xf)(T()).subscribe(A)})}var Me=U(8407);function me(T,A){const v=(0,b.m)(T)?T:()=>T,R=B=>B.error(v());return new V.y(A?B=>A.schedule(R,0,B):R)}var ge=U(6232),Ce=U(7394),ve=U(9360);function fe(){return(0,ve.e)((T,A)=>{let v=null;T._refCount++;const R=(0,ze.x)(A,void 0,void 0,void 0,()=>{if(!T||T._refCount<=0||0<--T._refCount)return void(v=null);const B=T._connection,ne=v;v=null,B&&(!ne||B===ne)&&B.unsubscribe(),A.unsubscribe()});T.subscribe(R),R.closed||(v=T.connect())})}class lt extends V.y{constructor(A,v){super(),this.source=A,this.subjectFactory=v,this._subject=null,this._refCount=0,this._connection=null,(0,ve.A)(A)&&(this.lift=A.lift)}_subscribe(A){return this.getSubject().subscribe(A)}getSubject(){const A=this._subject;return(!A||A.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:A}=this;this._subject=this._connection=null,A?.unsubscribe()}connect(){let A=this._connection;if(!A){A=this._connection=new Ce.w0;const v=this.getSubject();A.add(this.source.subscribe((0,ze.x)(v,void 0,()=>{this._teardown(),v.complete()},R=>{this._teardown(),v.error(R)},()=>this._teardown()))),A.closed&&(this._connection=null,A=Ce.w0.EMPTY)}return A}refCount(){return fe()(this)}}var bt=U(8645),$e=U(6814),Gt=U(7398),St=U(4664),gn=U(8180),Dt=U(7921),kt=U(2181),Se=U(1631),Oe=U(1374),qe=U(6328),Ne=U(9397);function He(T){return(0,ve.e)((A,v)=>{let ne,R=null,B=!1;R=A.subscribe((0,ze.x)(v,void 0,void 0,Q=>{ne=(0,ct.Xf)(T(Q,He(T)(A))),R?(R.unsubscribe(),R=null,ne.subscribe(v)):B=!0})),B&&(R.unsubscribe(),R=null,ne.subscribe(v))})}var dt=U(6699),gt=U(3572);function It(T){return T<=0?()=>ge.E:(0,ve.e)((A,v)=>{let R=[];A.subscribe((0,ze.x)(v,B=>{R.push(B),T<R.length&&R.shift()},()=>{for(const B of R)v.next(B);v.complete()},void 0,()=>{R=null}))})}var Bn=U(3026),dn=U(4716),hn=U(2420),On=U(7537),An=U(6593);const Vt="primary",Nn=Symbol("RouteTitle");class yr{constructor(A){this.params=A||{}}has(A){return Object.prototype.hasOwnProperty.call(this.params,A)}get(A){if(this.has(A)){const v=this.params[A];return Array.isArray(v)?v[0]:v}return null}getAll(A){if(this.has(A)){const v=this.params[A];return Array.isArray(v)?v:[v]}return[]}get keys(){return Object.keys(this.params)}}function kn(T){return new yr(T)}function Hn(T,A,v){const R=v.path.split("/");if(R.length>T.length||"full"===v.pathMatch&&(A.hasChildren()||R.length<T.length))return null;const B={};for(let ne=0;ne<R.length;ne++){const Q=R[ne],et=T[ne];if(Q.startsWith(":"))B[Q.substring(1)]=et;else if(Q!==et.path)return null}return{consumed:T.slice(0,R.length),posParams:B}}function er(T,A){const v=T?Object.keys(T):void 0,R=A?Object.keys(A):void 0;if(!v||!R||v.length!=R.length)return!1;let B;for(let ne=0;ne<v.length;ne++)if(B=v[ne],!Xt(T[B],A[B]))return!1;return!0}function Xt(T,A){if(Array.isArray(T)&&Array.isArray(A)){if(T.length!==A.length)return!1;const v=[...T].sort(),R=[...A].sort();return v.every((B,ne)=>R[ne]===B)}return T===A}function mn(T){return T.length>0?T[T.length-1]:null}function Qt(T){return function Te(T){return!!T&&(T instanceof V.y||(0,b.m)(T.lift)&&(0,b.m)(T.subscribe))}(T)?T:(0,p.QGY)(T)?(0,$.D)(Promise.resolve(T)):(0,J.of)(T)}const Zn={exact:function De(T,A,v){if(!Gn(T.segments,A.segments)||!Mt(T.segments,A.segments,v)||T.numberOfChildren!==A.numberOfChildren)return!1;for(const R in A.children)if(!T.children[R]||!De(T.children[R],A.children[R],v))return!1;return!0},subset:at},vr={exact:function At(T,A){return er(T,A)},subset:function Ge(T,A){return Object.keys(A).length<=Object.keys(T).length&&Object.keys(A).every(v=>Xt(T[v],A[v]))},ignored:()=>!0};function Ye(T,A,v){return Zn[v.paths](T.root,A.root,v.matrixParams)&&vr[v.queryParams](T.queryParams,A.queryParams)&&!("exact"===v.fragment&&T.fragment!==A.fragment)}function at(T,A,v){return Ot(T,A,A.segments,v)}function Ot(T,A,v,R){if(T.segments.length>v.length){const B=T.segments.slice(0,v.length);return!(!Gn(B,v)||A.hasChildren()||!Mt(B,v,R))}if(T.segments.length===v.length){if(!Gn(T.segments,v)||!Mt(T.segments,v,R))return!1;for(const B in A.children)if(!T.children[B]||!at(T.children[B],A.children[B],R))return!1;return!0}{const B=v.slice(0,T.segments.length),ne=v.slice(T.segments.length);return!!(Gn(T.segments,B)&&Mt(T.segments,B,R)&&T.children[Vt])&&Ot(T.children[Vt],A,ne,R)}}function Mt(T,A,v){return A.every((R,B)=>vr[v](T[B].parameters,R.parameters))}class cn{constructor(A=new wn([],{}),v={},R=null){this.root=A,this.queryParams=v,this.fragment=R}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=kn(this.queryParams)),this._queryParamMap}toString(){return $r.serialize(this)}}class wn{constructor(A,v){this.segments=A,this.children=v,this.parent=null,Object.values(v).forEach(R=>R.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Or(this)}}class xr{constructor(A,v){this.path=A,this.parameters=v}get parameterMap(){return this._parameterMap||(this._parameterMap=kn(this.parameters)),this._parameterMap}toString(){return he(this)}}function Gn(T,A){return T.length===A.length&&T.every((v,R)=>v.path===A[R].path)}let Vr=(()=>{class T{static#e=this.\u0275fac=function(R){return new(R||T)};static#t=this.\u0275prov=p.Yz7({token:T,factory:function(){return new Jr},providedIn:"root"})}return T})();class Jr{parse(A){const v=new ye(A);return new cn(v.parseRootSegment(),v.parseQueryParams(),v.parseFragment())}serialize(A){const v=`/${Tr(A.root,!0)}`,R=function ot(T){const A=Object.keys(T).map(v=>{const R=T[v];return Array.isArray(R)?R.map(B=>`${Re(v)}=${Re(B)}`).join("&"):`${Re(v)}=${Re(R)}`}).filter(v=>!!v);return A.length?`?${A.join("&")}`:""}(A.queryParams);return`${v}${R}${"string"==typeof A.fragment?`#${function re(T){return encodeURI(T)}(A.fragment)}`:""}`}}const $r=new Jr;function Or(T){return T.segments.map(A=>he(A)).join("/")}function Tr(T,A){if(!T.hasChildren())return Or(T);if(A){const v=T.children[Vt]?Tr(T.children[Vt],!1):"",R=[];return Object.entries(T.children).forEach(([B,ne])=>{B!==Vt&&R.push(`${B}:${Tr(ne,!1)}`)}),R.length>0?`${v}(${R.join("//")})`:v}{const v=function ir(T,A){let v=[];return Object.entries(T.children).forEach(([R,B])=>{R===Vt&&(v=v.concat(A(B,R)))}),Object.entries(T.children).forEach(([R,B])=>{R!==Vt&&(v=v.concat(A(B,R)))}),v}(T,(R,B)=>B===Vt?[Tr(T.children[Vt],!1)]:[`${B}:${Tr(R,!1)}`]);return 1===Object.keys(T.children).length&&null!=T.children[Vt]?`${Or(T)}/${v[0]}`:`${Or(T)}/(${v.join("//")})`}}function Xr(T){return encodeURIComponent(T).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Re(T){return Xr(T).replace(/%3B/gi,";")}function j(T){return Xr(T).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function N(T){return decodeURIComponent(T)}function L(T){return N(T.replace(/\+/g,"%20"))}function he(T){return`${j(T.path)}${function Le(T){return Object.keys(T).map(A=>`;${j(A)}=${j(T[A])}`).join("")}(T.parameters)}`}const Nt=/^[^\/()?;#]+/;function _t(T){const A=T.match(Nt);return A?A[0]:""}const rn=/^[^\/()?;=#]+/,Cn=/^[^=?&#]+/,Ie=/^[^&#]+/;class ye{constructor(A){this.url=A,this.remaining=A}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new wn([],{}):new wn([],this.parseChildren())}parseQueryParams(){const A={};if(this.consumeOptional("?"))do{this.parseQueryParam(A)}while(this.consumeOptional("&"));return A}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const A=[];for(this.peekStartsWith("(")||A.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),A.push(this.parseSegment());let v={};this.peekStartsWith("/(")&&(this.capture("/"),v=this.parseParens(!0));let R={};return this.peekStartsWith("(")&&(R=this.parseParens(!1)),(A.length>0||Object.keys(v).length>0)&&(R[Vt]=new wn(A,v)),R}parseSegment(){const A=_t(this.remaining);if(""===A&&this.peekStartsWith(";"))throw new p.vHH(4009,!1);return this.capture(A),new xr(N(A),this.parseMatrixParams())}parseMatrixParams(){const A={};for(;this.consumeOptional(";");)this.parseParam(A);return A}parseParam(A){const v=function Zt(T){const A=T.match(rn);return A?A[0]:""}(this.remaining);if(!v)return;this.capture(v);let R="";if(this.consumeOptional("=")){const B=_t(this.remaining);B&&(R=B,this.capture(R))}A[N(v)]=N(R)}parseQueryParam(A){const v=function Ae(T){const A=T.match(Cn);return A?A[0]:""}(this.remaining);if(!v)return;this.capture(v);let R="";if(this.consumeOptional("=")){const Q=function xe(T){const A=T.match(Ie);return A?A[0]:""}(this.remaining);Q&&(R=Q,this.capture(R))}const B=L(v),ne=L(R);if(A.hasOwnProperty(B)){let Q=A[B];Array.isArray(Q)||(Q=[Q],A[B]=Q),Q.push(ne)}else A[B]=ne}parseParens(A){const v={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const R=_t(this.remaining),B=this.remaining[R.length];if("/"!==B&&")"!==B&&";"!==B)throw new p.vHH(4010,!1);let ne;R.indexOf(":")>-1?(ne=R.slice(0,R.indexOf(":")),this.capture(ne),this.capture(":")):A&&(ne=Vt);const Q=this.parseChildren();v[ne]=1===Object.keys(Q).length?Q[Vt]:new wn([],Q),this.consumeOptional("//")}return v}peekStartsWith(A){return this.remaining.startsWith(A)}consumeOptional(A){return!!this.peekStartsWith(A)&&(this.remaining=this.remaining.substring(A.length),!0)}capture(A){if(!this.consumeOptional(A))throw new p.vHH(4011,!1)}}function we(T){return T.segments.length>0?new wn([],{[Vt]:T}):T}function Be(T){const A={};for(const R of Object.keys(T.children)){const ne=Be(T.children[R]);if(R===Vt&&0===ne.segments.length&&ne.hasChildren())for(const[Q,et]of Object.entries(ne.children))A[Q]=et;else(ne.segments.length>0||ne.hasChildren())&&(A[R]=ne)}return function tt(T){if(1===T.numberOfChildren&&T.children[Vt]){const A=T.children[Vt];return new wn(T.segments.concat(A.segments),A.children)}return T}(new wn(T.segments,A))}function mt(T){return T instanceof cn}function sn(T){let A;const B=we(function v(ne){const Q={};for(const Qe of ne.children){const zt=v(Qe);Q[Qe.outlet]=zt}const et=new wn(ne.url,Q);return ne===T&&(A=et),et}(T.root));return A??B}function Jn(T,A,v,R){let B=T;for(;B.parent;)B=B.parent;if(0===A.length)return ei(B,B,B,v,R);const ne=function ur(T){if("string"==typeof T[0]&&1===T.length&&"/"===T[0])return new tr(!0,0,T);let A=0,v=!1;const R=T.reduce((B,ne,Q)=>{if("object"==typeof ne&&null!=ne){if(ne.outlets){const et={};return Object.entries(ne.outlets).forEach(([Qe,zt])=>{et[Qe]="string"==typeof zt?zt.split("/"):zt}),[...B,{outlets:et}]}if(ne.segmentPath)return[...B,ne.segmentPath]}return"string"!=typeof ne?[...B,ne]:0===Q?(ne.split("/").forEach((et,Qe)=>{0==Qe&&"."===et||(0==Qe&&""===et?v=!0:".."===et?A++:""!=et&&B.push(et))}),B):[...B,ne]},[]);return new tr(v,A,R)}(A);if(ne.toRoot())return ei(B,B,new wn([],{}),v,R);const Q=function Ks(T,A,v){if(T.isAbsolute)return new ti(A,!0,0);if(!v)return new ti(A,!1,NaN);if(null===v.parent)return new ti(v,!0,0);const R=Vn(T.commands[0])?0:1;return function Fn(T,A,v){let R=T,B=A,ne=v;for(;ne>B;){if(ne-=B,R=R.parent,!R)throw new p.vHH(4005,!1);B=R.segments.length}return new ti(R,!1,B-ne)}(v,v.segments.length-1+R,T.numberOfDoubleDots)}(ne,B,T),et=Q.processChildren?ji(Q.segmentGroup,Q.index,ne.commands):Sr(Q.segmentGroup,Q.index,ne.commands);return ei(B,Q.segmentGroup,et,v,R)}function Vn(T){return"object"==typeof T&&null!=T&&!T.outlets&&!T.segmentPath}function qn(T){return"object"==typeof T&&null!=T&&T.outlets}function ei(T,A,v,R,B){let Q,ne={};R&&Object.entries(R).forEach(([Qe,zt])=>{ne[Qe]=Array.isArray(zt)?zt.map(un=>`${un}`):`${zt}`}),Q=T===A?v:yi(T,A,v);const et=we(Be(Q));return new cn(et,ne,B)}function yi(T,A,v){const R={};return Object.entries(T.children).forEach(([B,ne])=>{R[B]=ne===A?v:yi(ne,A,v)}),new wn(T.segments,R)}class tr{constructor(A,v,R){if(this.isAbsolute=A,this.numberOfDoubleDots=v,this.commands=R,A&&R.length>0&&Vn(R[0]))throw new p.vHH(4003,!1);const B=R.find(qn);if(B&&B!==mn(R))throw new p.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ti{constructor(A,v,R){this.segmentGroup=A,this.processChildren=v,this.index=R}}function Sr(T,A,v){if(T||(T=new wn([],{})),0===T.segments.length&&T.hasChildren())return ji(T,A,v);const R=function Zs(T,A,v){let R=0,B=A;const ne={match:!1,pathIndex:0,commandIndex:0};for(;B<T.segments.length;){if(R>=v.length)return ne;const Q=T.segments[B],et=v[R];if(qn(et))break;const Qe=`${et}`,zt=R<v.length-1?v[R+1]:null;if(B>0&&void 0===Qe)break;if(Qe&&zt&&"object"==typeof zt&&void 0===zt.outlets){if(!Ls(Qe,zt,Q))return ne;R+=2}else{if(!Ls(Qe,{},Q))return ne;R++}B++}return{match:!0,pathIndex:B,commandIndex:R}}(T,A,v),B=v.slice(R.commandIndex);if(R.match&&R.pathIndex<T.segments.length){const ne=new wn(T.segments.slice(0,R.pathIndex),{});return ne.children[Vt]=new wn(T.segments.slice(R.pathIndex),T.children),ji(ne,0,B)}return R.match&&0===B.length?new wn(T.segments,{}):R.match&&!T.hasChildren()?wo(T,A,v):R.match?ji(T,0,B):wo(T,A,v)}function ji(T,A,v){if(0===v.length)return new wn(T.segments,{});{const R=function rs(T){return qn(T[0])?T[0].outlets:{[Vt]:T}}(v),B={};if(Object.keys(R).some(ne=>ne!==Vt)&&T.children[Vt]&&1===T.numberOfChildren&&0===T.children[Vt].segments.length){const ne=ji(T.children[Vt],A,v);return new wn(T.segments,ne.children)}return Object.entries(R).forEach(([ne,Q])=>{"string"==typeof Q&&(Q=[Q]),null!==Q&&(B[ne]=Sr(T.children[ne],A,Q))}),Object.entries(T.children).forEach(([ne,Q])=>{void 0===R[ne]&&(B[ne]=Q)}),new wn(T.segments,B)}}function wo(T,A,v){const R=T.segments.slice(0,A);let B=0;for(;B<v.length;){const ne=v[B];if(qn(ne)){const Qe=$o(ne.outlets);return new wn(R,Qe)}if(0===B&&Vn(v[0])){R.push(new xr(T.segments[A].path,$i(v[0]))),B++;continue}const Q=qn(ne)?ne.outlets[Vt]:`${ne}`,et=B<v.length-1?v[B+1]:null;Q&&et&&Vn(et)?(R.push(new xr(Q,$i(et))),B+=2):(R.push(new xr(Q,{})),B++)}return new wn(R,{})}function $o(T){const A={};return Object.entries(T).forEach(([v,R])=>{"string"==typeof R&&(R=[R]),null!==R&&(A[v]=wo(new wn([],{}),0,R))}),A}function $i(T){const A={};return Object.entries(T).forEach(([v,R])=>A[v]=`${R}`),A}function Ls(T,A,v){return T==v.path&&er(A,v.parameters)}const xi="imperative";class vi{constructor(A,v){this.id=A,this.url=v}}class Fs extends vi{constructor(A,v,R="imperative",B=null){super(A,v),this.type=0,this.navigationTrigger=R,this.restoredState=B}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ii extends vi{constructor(A,v,R){super(A,v),this.urlAfterRedirects=R,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class fo extends vi{constructor(A,v,R,B){super(A,v),this.reason=R,this.code=B,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ii extends vi{constructor(A,v,R,B){super(A,v),this.reason=R,this.code=B,this.type=16}}class gs extends vi{constructor(A,v,R,B){super(A,v),this.error=R,this.target=B,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class po extends vi{constructor(A,v,R,B){super(A,v),this.urlAfterRedirects=R,this.state=B,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zi extends vi{constructor(A,v,R,B){super(A,v),this.urlAfterRedirects=R,this.state=B,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ei extends vi{constructor(A,v,R,B,ne){super(A,v),this.urlAfterRedirects=R,this.state=B,this.shouldActivate=ne,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class zo extends vi{constructor(A,v,R,B){super(A,v),this.urlAfterRedirects=R,this.state=B,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ys extends vi{constructor(A,v,R,B){super(A,v),this.urlAfterRedirects=R,this.state=B,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mo{constructor(A){this.route=A,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class bs{constructor(A){this.route=A,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class go{constructor(A){this.snapshot=A,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qs{constructor(A){this.snapshot=A,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Co{constructor(A){this.snapshot=A,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vs{constructor(A){this.snapshot=A,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ln{constructor(A,v,R){this.routerEvent=A,this.position=v,this.anchor=R,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class wr{}class zr{constructor(A){this.url=A}}class hi{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new _s,this.attachRef=null}}let _s=(()=>{class T{constructor(){this.contexts=new Map}onChildOutletCreated(v,R){const B=this.getOrCreateContext(v);B.outlet=R,this.contexts.set(v,B)}onChildOutletDestroyed(v){const R=this.getContext(v);R&&(R.outlet=null,R.attachRef=null)}onOutletDeactivated(){const v=this.contexts;return this.contexts=new Map,v}onOutletReAttached(v){this.contexts=v}getOrCreateContext(v){let R=this.getContext(v);return R||(R=new hi,this.contexts.set(v,R)),R}getContext(v){return this.contexts.get(v)||null}static#e=this.\u0275fac=function(R){return new(R||T)};static#t=this.\u0275prov=p.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})();class so{constructor(A){this._root=A}get root(){return this._root.value}parent(A){const v=this.pathFromRoot(A);return v.length>1?v[v.length-2]:null}children(A){const v=is(A,this._root);return v?v.children.map(R=>R.value):[]}firstChild(A){const v=is(A,this._root);return v&&v.children.length>0?v.children[0].value:null}siblings(A){const v=Js(A,this._root);return v.length<2?[]:v[v.length-2].children.map(B=>B.value).filter(B=>B!==A)}pathFromRoot(A){return Js(A,this._root).map(v=>v.value)}}function is(T,A){if(T===A.value)return A;for(const v of A.children){const R=is(T,v);if(R)return R}return null}function Js(T,A){if(T===A.value)return[A];for(const v of A.children){const R=Js(T,v);if(R.length)return R.unshift(A),R}return[]}class bi{constructor(A,v){this.value=A,this.children=v}toString(){return`TreeNode(${this.value})`}}function or(T){const A={};return T&&T.children.forEach(v=>A[v.value.outlet]=v),A}class Lt extends so{constructor(A,v){super(A),this.snapshot=v,Di(this,A)}toString(){return this.snapshot.toString()}}function _n(T,A){const v=function cr(T,A){const Q=new Ni([],{},{},"",{},Vt,A,null,{});return new ar("",new bi(Q,[]))}(0,A),R=new q.X([new xr("",{})]),B=new q.X({}),ne=new q.X({}),Q=new q.X({}),et=new q.X(""),Qe=new Dr(R,B,Q,et,ne,Vt,A,v.root);return Qe.snapshot=v.root,new Lt(new bi(Qe,[]),v)}class Dr{constructor(A,v,R,B,ne,Q,et,Qe){this.urlSubject=A,this.paramsSubject=v,this.queryParamsSubject=R,this.fragmentSubject=B,this.dataSubject=ne,this.outlet=Q,this.component=et,this._futureSnapshot=Qe,this.title=this.dataSubject?.pipe((0,Gt.U)(zt=>zt[Nn]))??(0,J.of)(void 0),this.url=A,this.params=v,this.queryParams=R,this.fragment=B,this.data=ne}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Gt.U)(A=>kn(A)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Gt.U)(A=>kn(A)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Zi(T,A="emptyOnly"){const v=T.pathFromRoot;let R=0;if("always"!==A)for(R=v.length-1;R>=1;){const B=v[R],ne=v[R-1];if(B.routeConfig&&""===B.routeConfig.path)R--;else{if(ne.component)break;R--}}return function Gr(T){return T.reduce((A,v)=>({params:{...A.params,...v.params},data:{...A.data,...v.data},resolve:{...v.data,...A.resolve,...v.routeConfig?.data,...v._resolvedData}}),{params:{},data:{},resolve:{}})}(v.slice(R))}class Ni{get title(){return this.data?.[Nn]}constructor(A,v,R,B,ne,Q,et,Qe,zt){this.url=A,this.params=v,this.queryParams=R,this.fragment=B,this.data=ne,this.outlet=Q,this.component=et,this.routeConfig=Qe,this._resolve=zt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=kn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=kn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(R=>R.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ar extends so{constructor(A,v){super(v),this.url=A,Di(this,v)}toString(){return ss(this._root)}}function Di(T,A){A.value._routerState=T,A.children.forEach(v=>Di(T,v))}function ss(T){const A=T.children.length>0?` { ${T.children.map(ss).join(", ")} } `:"";return`${T.value}${A}`}function on(T){if(T.snapshot){const A=T.snapshot,v=T._futureSnapshot;T.snapshot=v,er(A.queryParams,v.queryParams)||T.queryParamsSubject.next(v.queryParams),A.fragment!==v.fragment&&T.fragmentSubject.next(v.fragment),er(A.params,v.params)||T.paramsSubject.next(v.params),function Mr(T,A){if(T.length!==A.length)return!1;for(let v=0;v<T.length;++v)if(!er(T[v],A[v]))return!1;return!0}(A.url,v.url)||T.urlSubject.next(v.url),er(A.data,v.data)||T.dataSubject.next(v.data)}else T.snapshot=T._futureSnapshot,T.dataSubject.next(T._futureSnapshot.data)}function os(T,A){const v=er(T.params,A.params)&&function Qr(T,A){return Gn(T,A)&&T.every((v,R)=>er(v.parameters,A[R].parameters))}(T.url,A.url);return v&&!(!T.parent!=!A.parent)&&(!T.parent||os(T.parent,A.parent))}let Ds=(()=>{class T{constructor(){this.activated=null,this._activatedRoute=null,this.name=Vt,this.activateEvents=new p.vpe,this.deactivateEvents=new p.vpe,this.attachEvents=new p.vpe,this.detachEvents=new p.vpe,this.parentContexts=(0,p.f3M)(_s),this.location=(0,p.f3M)(p.s_b),this.changeDetector=(0,p.f3M)(p.sBO),this.environmentInjector=(0,p.f3M)(p.lqb),this.inputBinder=(0,p.f3M)(dr,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(v){if(v.name){const{firstChange:R,previousValue:B}=v.name;if(R)return;this.isTrackedInParentContexts(B)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(B)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(v){return this.parentContexts.getContext(v)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const v=this.parentContexts.getContext(this.name);v?.route&&(v.attachRef?this.attach(v.attachRef,v.route):this.activateWith(v.route,v.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new p.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new p.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new p.vHH(4012,!1);this.location.detach();const v=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(v.instance),v}attach(v,R){this.activated=v,this._activatedRoute=R,this.location.insert(v.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(v.instance)}deactivate(){if(this.activated){const v=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(v)}}activateWith(v,R){if(this.isActivated)throw new p.vHH(4013,!1);this._activatedRoute=v;const B=this.location,Q=v.snapshot.component,et=this.parentContexts.getOrCreateContext(this.name).children,Qe=new Ti(v,et,B.injector);this.activated=B.createComponent(Q,{index:B.length,injector:Qe,environmentInjector:R??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(R){return new(R||T)};static#t=this.\u0275dir=p.lG2({type:T,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[p.TTD]})}return T})();class Ti{constructor(A,v,R){this.route=A,this.childContexts=v,this.parent=R}get(A,v){return A===Dr?this.route:A===_s?this.childContexts:this.parent.get(A,v)}}const dr=new p.OlP("");let wi=(()=>{class T{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(v){this.unsubscribeFromRouteData(v),this.subscribeToRouteData(v)}unsubscribeFromRouteData(v){this.outletDataSubscriptions.get(v)?.unsubscribe(),this.outletDataSubscriptions.delete(v)}subscribeToRouteData(v){const{activatedRoute:R}=v,B=ut([R.queryParams,R.params,R.data]).pipe((0,St.w)(([ne,Q,et],Qe)=>(et={...ne,...Q,...et},0===Qe?(0,J.of)(et):Promise.resolve(et)))).subscribe(ne=>{if(!v.isActivated||!v.activatedComponentRef||v.activatedRoute!==R||null===R.component)return void this.unsubscribeFromRouteData(v);const Q=(0,p.qFp)(R.component);if(Q)for(const{templateName:et}of Q.inputs)v.activatedComponentRef.setInput(et,ne[et]);else this.unsubscribeFromRouteData(v)});this.outletDataSubscriptions.set(v,B)}static#e=this.\u0275fac=function(R){return new(R||T)};static#t=this.\u0275prov=p.Yz7({token:T,factory:T.\u0275fac})}return T})();function si(T,A,v){if(v&&T.shouldReuseRoute(A.value,v.value.snapshot)){const R=v.value;R._futureSnapshot=A.value;const B=function Bs(T,A,v){return A.children.map(R=>{for(const B of v.children)if(T.shouldReuseRoute(R.value,B.value.snapshot))return si(T,R,B);return si(T,R)})}(T,A,v);return new bi(R,B)}{if(T.shouldAttach(A.value)){const ne=T.retrieve(A.value);if(null!==ne){const Q=ne.route;return Q.value._futureSnapshot=A.value,Q.children=A.children.map(et=>si(T,et)),Q}}const R=function hr(T){return new Dr(new q.X(T.url),new q.X(T.params),new q.X(T.queryParams),new q.X(T.fragment),new q.X(T.data),T.outlet,T.component,T)}(A.value),B=A.children.map(ne=>si(T,ne));return new bi(R,B)}}const Gi="ngNavigationCancelingError";function Ci(T,A){const{redirectTo:v,navigationBehaviorOptions:R}=mt(A)?{redirectTo:A,navigationBehaviorOptions:void 0}:A,B=fi(!1,0,A);return B.url=v,B.navigationBehaviorOptions=R,B}function fi(T,A,v){const R=new Error("NavigationCancelingError: "+(T||""));return R[Gi]=!0,R.cancellationCode=A,v&&(R.url=v),R}function Wn(T){return T&&T[Gi]}let ya=(()=>{class T{static#e=this.\u0275fac=function(R){return new(R||T)};static#t=this.\u0275cmp=p.Xpm({type:T,selectors:[["ng-component"]],standalone:!0,features:[p.jDz],decls:1,vars:0,template:function(R,B){1&R&&p._UZ(0,"router-outlet")},dependencies:[Ds],encapsulation:2})}return T})();function Br(T){const A=T.children&&T.children.map(Br),v=A?{...T,children:A}:{...T};return!v.component&&!v.loadComponent&&(A||v.loadChildren)&&v.outlet&&v.outlet!==Vt&&(v.component=ya),v}function Hr(T){return T.outlet||Vt}function ls(T){if(!T)return null;if(T.routeConfig?._injector)return T.routeConfig._injector;for(let A=T.parent;A;A=A.parent){const v=A.routeConfig;if(v?._loadedInjector)return v._loadedInjector;if(v?._injector)return v._injector}return null}class Do{constructor(A,v,R,B,ne){this.routeReuseStrategy=A,this.futureState=v,this.currState=R,this.forwardEvent=B,this.inputBindingEnabled=ne}activate(A){const v=this.futureState._root,R=this.currState?this.currState._root:null;this.deactivateChildRoutes(v,R,A),on(this.futureState.root),this.activateChildRoutes(v,R,A)}deactivateChildRoutes(A,v,R){const B=or(v);A.children.forEach(ne=>{const Q=ne.value.outlet;this.deactivateRoutes(ne,B[Q],R),delete B[Q]}),Object.values(B).forEach(ne=>{this.deactivateRouteAndItsChildren(ne,R)})}deactivateRoutes(A,v,R){const B=A.value,ne=v?v.value:null;if(B===ne)if(B.component){const Q=R.getContext(B.outlet);Q&&this.deactivateChildRoutes(A,v,Q.children)}else this.deactivateChildRoutes(A,v,R);else ne&&this.deactivateRouteAndItsChildren(v,R)}deactivateRouteAndItsChildren(A,v){A.value.component&&this.routeReuseStrategy.shouldDetach(A.value.snapshot)?this.detachAndStoreRouteSubtree(A,v):this.deactivateRouteAndOutlet(A,v)}detachAndStoreRouteSubtree(A,v){const R=v.getContext(A.value.outlet),B=R&&A.value.component?R.children:v,ne=or(A);for(const Q of Object.keys(ne))this.deactivateRouteAndItsChildren(ne[Q],B);if(R&&R.outlet){const Q=R.outlet.detach(),et=R.children.onOutletDeactivated();this.routeReuseStrategy.store(A.value.snapshot,{componentRef:Q,route:A,contexts:et})}}deactivateRouteAndOutlet(A,v){const R=v.getContext(A.value.outlet),B=R&&A.value.component?R.children:v,ne=or(A);for(const Q of Object.keys(ne))this.deactivateRouteAndItsChildren(ne[Q],B);R&&(R.outlet&&(R.outlet.deactivate(),R.children.onOutletDeactivated()),R.attachRef=null,R.route=null)}activateChildRoutes(A,v,R){const B=or(v);A.children.forEach(ne=>{this.activateRoutes(ne,B[ne.value.outlet],R),this.forwardEvent(new Vs(ne.value.snapshot))}),A.children.length&&this.forwardEvent(new Qs(A.value.snapshot))}activateRoutes(A,v,R){const B=A.value,ne=v?v.value:null;if(on(B),B===ne)if(B.component){const Q=R.getOrCreateContext(B.outlet);this.activateChildRoutes(A,v,Q.children)}else this.activateChildRoutes(A,v,R);else if(B.component){const Q=R.getOrCreateContext(B.outlet);if(this.routeReuseStrategy.shouldAttach(B.snapshot)){const et=this.routeReuseStrategy.retrieve(B.snapshot);this.routeReuseStrategy.store(B.snapshot,null),Q.children.onOutletReAttached(et.contexts),Q.attachRef=et.componentRef,Q.route=et.route.value,Q.outlet&&Q.outlet.attach(et.componentRef,et.route.value),on(et.route.value),this.activateChildRoutes(A,null,Q.children)}else{const et=ls(B.snapshot);Q.attachRef=null,Q.route=B,Q.injector=et,Q.outlet&&Q.outlet.activateWith(B,Q.injector),this.activateChildRoutes(A,null,Q.children)}}else this.activateChildRoutes(A,null,R)}}class li{constructor(A){this.path=A,this.route=this.path[this.path.length-1]}}class Ao{constructor(A,v){this.component=A,this.route=v}}function va(T,A,v){const R=T._root;return Ai(R,A?A._root:null,v,[R.value])}function js(T,A){const v=Symbol(),R=A.get(T,v);return R===v?"function"!=typeof T||(0,p.Z0I)(T)?A.get(T):T:R}function Ai(T,A,v,R,B={canDeactivateChecks:[],canActivateChecks:[]}){const ne=or(A);return T.children.forEach(Q=>{(function So(T,A,v,R,B={canDeactivateChecks:[],canActivateChecks:[]}){const ne=T.value,Q=A?A.value:null,et=v?v.getContext(T.value.outlet):null;if(Q&&ne.routeConfig===Q.routeConfig){const Qe=function Ia(T,A,v){if("function"==typeof v)return v(T,A);switch(v){case"pathParamsChange":return!Gn(T.url,A.url);case"pathParamsOrQueryParamsChange":return!Gn(T.url,A.url)||!er(T.queryParams,A.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!os(T,A)||!er(T.queryParams,A.queryParams);default:return!os(T,A)}}(Q,ne,ne.routeConfig.runGuardsAndResolvers);Qe?B.canActivateChecks.push(new li(R)):(ne.data=Q.data,ne._resolvedData=Q._resolvedData),Ai(T,A,ne.component?et?et.children:null:v,R,B),Qe&&et&&et.outlet&&et.outlet.isActivated&&B.canDeactivateChecks.push(new Ao(et.outlet.component,Q))}else Q&&lr(A,et,B),B.canActivateChecks.push(new li(R)),Ai(T,null,ne.component?et?et.children:null:v,R,B)})(Q,ne[Q.value.outlet],v,R.concat([Q.value]),B),delete ne[Q.value.outlet]}),Object.entries(ne).forEach(([Q,et])=>lr(et,v.getContext(Q),B)),B}function lr(T,A,v){const R=or(T),B=T.value;Object.entries(R).forEach(([ne,Q])=>{lr(Q,B.component?A?A.children.getContext(ne):null:A,v)}),v.canDeactivateChecks.push(new Ao(B.component&&A&&A.outlet&&A.outlet.isActivated?A.outlet.component:null,B))}function As(T){return"function"==typeof T}function Li(T){return T instanceof rt.K||"EmptyError"===T?.name}const Ss=Symbol("INITIAL_VALUE");function Fi(){return(0,St.w)(T=>ut(T.map(A=>A.pipe((0,gn.q)(1),(0,Dt.O)(Ss)))).pipe((0,Gt.U)(A=>{for(const v of A)if(!0!==v){if(v===Ss)return Ss;if(!1===v||v instanceof cn)return v}return!0}),(0,kt.h)(A=>A!==Ss),(0,gn.q)(1)))}function Xs(T){return(0,Me.z)((0,Ne.b)(A=>{if(mt(A))throw Ci(0,A)}),(0,Gt.U)(A=>!0===A))}class Ps{constructor(A){this.segmentGroup=A||null}}class Ro{constructor(A){this.urlTree=A}}function Is(T){return me(new Ps(T))}function yo(T){return me(new Ro(T))}class Mo{constructor(A,v){this.urlSerializer=A,this.urlTree=v}noMatchError(A){return new p.vHH(4002,!1)}lineralizeSegments(A,v){let R=[],B=v.root;for(;;){if(R=R.concat(B.segments),0===B.numberOfChildren)return(0,J.of)(R);if(B.numberOfChildren>1||!B.children[Vt])return me(new p.vHH(4e3,!1));B=B.children[Vt]}}applyRedirectCommands(A,v,R){return this.applyRedirectCreateUrlTree(v,this.urlSerializer.parse(v),A,R)}applyRedirectCreateUrlTree(A,v,R,B){const ne=this.createSegmentGroup(A,v.root,R,B);return new cn(ne,this.createQueryParams(v.queryParams,this.urlTree.queryParams),v.fragment)}createQueryParams(A,v){const R={};return Object.entries(A).forEach(([B,ne])=>{if("string"==typeof ne&&ne.startsWith(":")){const et=ne.substring(1);R[B]=v[et]}else R[B]=ne}),R}createSegmentGroup(A,v,R,B){const ne=this.createSegments(A,v.segments,R,B);let Q={};return Object.entries(v.children).forEach(([et,Qe])=>{Q[et]=this.createSegmentGroup(A,Qe,R,B)}),new wn(ne,Q)}createSegments(A,v,R,B){return v.map(ne=>ne.path.startsWith(":")?this.findPosParam(A,ne,B):this.findOrReturn(ne,R))}findPosParam(A,v,R){const B=R[v.path.substring(1)];if(!B)throw new p.vHH(4001,!1);return B}findOrReturn(A,v){let R=0;for(const B of v){if(B.path===A.path)return v.splice(R),B;R++}return A}}const xo={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function vo(T,A,v,R,B){const ne=zs(T,A,v);return ne.matched?(R=function ys(T,A){return T.providers&&!T._injector&&(T._injector=(0,p.MMx)(T.providers,A,`Route: ${T.path}`)),T._injector??A}(A,R),function qo(T,A,v,R){const B=A.canMatch;if(!B||0===B.length)return(0,J.of)(!0);const ne=B.map(Q=>{const et=js(Q,T);return Qt(function be(T){return T&&As(T.canMatch)}(et)?et.canMatch(A,v):T.runInContext(()=>et(A,v)))});return(0,J.of)(ne).pipe(Fi(),Xs())}(R,A,v).pipe((0,Gt.U)(Q=>!0===Q?ne:{...xo}))):(0,J.of)(ne)}function zs(T,A,v){if(""===A.path)return"full"===A.pathMatch&&(T.hasChildren()||v.length>0)?{...xo}:{matched:!0,consumedSegments:[],remainingSegments:v,parameters:{},positionalParamSegments:{}};const B=(A.matcher||Hn)(v,T,A);if(!B)return{...xo};const ne={};Object.entries(B.posParams??{}).forEach(([et,Qe])=>{ne[et]=Qe.path});const Q=B.consumed.length>0?{...ne,...B.consumed[B.consumed.length-1].parameters}:ne;return{matched:!0,consumedSegments:B.consumed,remainingSegments:v.slice(B.consumed.length),parameters:Q,positionalParamSegments:B.posParams??{}}}function Oo(T,A,v,R){return v.length>0&&function Hl(T,A,v){return v.some(R=>Rs(T,A,R)&&Hr(R)!==Vt)}(T,v,R)?{segmentGroup:new wn(A,Ko(R,new wn(v,T.children))),slicedSegments:[]}:0===v.length&&function al(T,A,v){return v.some(R=>Rs(T,A,R))}(T,v,R)?{segmentGroup:new wn(T.segments,ol(T,0,v,R,T.children)),slicedSegments:v}:{segmentGroup:new wn(T.segments,T.children),slicedSegments:v}}function ol(T,A,v,R,B){const ne={};for(const Q of R)if(Rs(T,v,Q)&&!B[Hr(Q)]){const et=new wn([],{});ne[Hr(Q)]=et}return{...B,...ne}}function Ko(T,A){const v={};v[Vt]=A;for(const R of T)if(""===R.path&&Hr(R)!==Vt){const B=new wn([],{});v[Hr(R)]=B}return v}function Rs(T,A,v){return(!(T.hasChildren()||A.length>0)||"full"!==v.pathMatch)&&""===v.path}class y{constructor(A,v,R,B,ne,Q,et){this.injector=A,this.configLoader=v,this.rootComponentType=R,this.config=B,this.urlTree=ne,this.paramsInheritanceStrategy=Q,this.urlSerializer=et,this.allowRedirects=!0,this.applyRedirects=new Mo(this.urlSerializer,this.urlTree)}noMatchError(A){return new p.vHH(4002,!1)}recognize(){const A=Oo(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,A,Vt).pipe(He(v=>{if(v instanceof Ro)return this.allowRedirects=!1,this.urlTree=v.urlTree,this.match(v.urlTree);throw v instanceof Ps?this.noMatchError(v):v}),(0,Gt.U)(v=>{const R=new Ni([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Vt,this.rootComponentType,null,{}),B=new bi(R,v),ne=new ar("",B),Q=function wt(T,A,v=null,R=null){return Jn(sn(T),A,v,R)}(R,[],this.urlTree.queryParams,this.urlTree.fragment);return Q.queryParams=this.urlTree.queryParams,ne.url=this.urlSerializer.serialize(Q),this.inheritParamsAndData(ne._root),{state:ne,tree:Q}}))}match(A){return this.processSegmentGroup(this.injector,this.config,A.root,Vt).pipe(He(R=>{throw R instanceof Ps?this.noMatchError(R):R}))}inheritParamsAndData(A){const v=A.value,R=Zi(v,this.paramsInheritanceStrategy);v.params=Object.freeze(R.params),v.data=Object.freeze(R.data),A.children.forEach(B=>this.inheritParamsAndData(B))}processSegmentGroup(A,v,R,B){return 0===R.segments.length&&R.hasChildren()?this.processChildren(A,v,R):this.processSegment(A,v,R,R.segments,B,!0)}processChildren(A,v,R){const B=[];for(const ne of Object.keys(R.children))"primary"===ne?B.unshift(ne):B.push(ne);return(0,$.D)(B).pipe((0,qe.b)(ne=>{const Q=R.children[ne],et=function Hs(T,A){const v=T.filter(R=>Hr(R)===A);return v.push(...T.filter(R=>Hr(R)!==A)),v}(v,ne);return this.processSegmentGroup(A,et,Q,ne)}),(0,dt.R)((ne,Q)=>(ne.push(...Q),ne)),(0,gt.d)(null),function nn(T,A){const v=arguments.length>=2;return R=>R.pipe(T?(0,kt.h)((B,ne)=>T(B,ne,R)):de.y,It(1),v?(0,gt.d)(A):(0,Bn.T)(()=>new rt.K))}(),(0,Se.z)(ne=>{if(null===ne)return Is(R);const Q=Y(ne);return function E(T){T.sort((A,v)=>A.value.outlet===Vt?-1:v.value.outlet===Vt?1:A.value.outlet.localeCompare(v.value.outlet))}(Q),(0,J.of)(Q)}))}processSegment(A,v,R,B,ne,Q){return(0,$.D)(v).pipe((0,qe.b)(et=>this.processSegmentAgainstRoute(et._injector??A,v,et,R,B,ne,Q).pipe(He(Qe=>{if(Qe instanceof Ps)return(0,J.of)(null);throw Qe}))),(0,Oe.P)(et=>!!et),He(et=>{if(Li(et))return function Ua(T,A,v){return 0===A.length&&!T.children[v]}(R,B,ne)?(0,J.of)([]):Is(R);throw et}))}processSegmentAgainstRoute(A,v,R,B,ne,Q,et){return function jl(T,A,v,R){return!!(Hr(T)===R||R!==Vt&&Rs(A,v,T))&&("**"===T.path||zs(A,T,v).matched)}(R,B,ne,Q)?void 0===R.redirectTo?this.matchSegmentAgainstRoute(A,B,R,ne,Q,et):et&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(A,B,v,R,ne,Q):Is(B):Is(B)}expandSegmentAgainstRouteUsingRedirect(A,v,R,B,ne,Q){return"**"===B.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(A,R,B,Q):this.expandRegularSegmentAgainstRouteUsingRedirect(A,v,R,B,ne,Q)}expandWildCardWithParamsAgainstRouteUsingRedirect(A,v,R,B){const ne=this.applyRedirects.applyRedirectCommands([],R.redirectTo,{});return R.redirectTo.startsWith("/")?yo(ne):this.applyRedirects.lineralizeSegments(R,ne).pipe((0,Se.z)(Q=>{const et=new wn(Q,{});return this.processSegment(A,v,et,Q,B,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(A,v,R,B,ne,Q){const{matched:et,consumedSegments:Qe,remainingSegments:zt,positionalParamSegments:un}=zs(v,B,ne);if(!et)return Is(v);const Xn=this.applyRedirects.applyRedirectCommands(Qe,B.redirectTo,un);return B.redirectTo.startsWith("/")?yo(Xn):this.applyRedirects.lineralizeSegments(B,Xn).pipe((0,Se.z)(In=>this.processSegment(A,R,v,In.concat(zt),Q,!1)))}matchSegmentAgainstRoute(A,v,R,B,ne,Q){let et;if("**"===R.path){const Qe=B.length>0?mn(B).parameters:{},zt=new Ni(B,Qe,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Pe(R),Hr(R),R.component??R._loadedComponent??null,R,_(R));et=(0,J.of)({snapshot:zt,consumedSegments:[],remainingSegments:[]}),v.children={}}else et=vo(v,R,B,A).pipe((0,Gt.U)(({matched:Qe,consumedSegments:zt,remainingSegments:un,parameters:Xn})=>Qe?{snapshot:new Ni(zt,Xn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Pe(R),Hr(R),R.component??R._loadedComponent??null,R,_(R)),consumedSegments:zt,remainingSegments:un}:null));return et.pipe((0,St.w)(Qe=>null===Qe?Is(v):this.getChildConfig(A=R._injector??A,R,B).pipe((0,St.w)(({routes:zt})=>{const un=R._loadedInjector??A,{snapshot:Xn,consumedSegments:In,remainingSegments:Es}=Qe,{segmentGroup:ja,slicedSegments:la}=Oo(v,In,Es,zt);if(0===la.length&&ja.hasChildren())return this.processChildren(un,zt,ja).pipe((0,Gt.U)(Aa=>null===Aa?null:[new bi(Xn,Aa)]));if(0===zt.length&&0===la.length)return(0,J.of)([new bi(Xn,[])]);const wu=Hr(R)===ne;return this.processSegment(un,zt,ja,la,wu?Vt:ne,!0).pipe((0,Gt.U)(Aa=>[new bi(Xn,Aa)]))}))))}getChildConfig(A,v,R){return v.children?(0,J.of)({routes:v.children,injector:A}):v.loadChildren?void 0!==v._loadedRoutes?(0,J.of)({routes:v._loadedRoutes,injector:v._loadedInjector}):function Wo(T,A,v,R){const B=A.canLoad;if(void 0===B||0===B.length)return(0,J.of)(!0);const ne=B.map(Q=>{const et=js(Q,T);return Qt(function G(T){return T&&As(T.canLoad)}(et)?et.canLoad(A,v):T.runInContext(()=>et(A,v)))});return(0,J.of)(ne).pipe(Fi(),Xs())}(A,v,R).pipe((0,Se.z)(B=>B?this.configLoader.loadChildren(A,v).pipe((0,Ne.b)(ne=>{v._loadedRoutes=ne.routes,v._loadedInjector=ne.injector})):function sl(T){return me(fi(!1,3))}())):(0,J.of)({routes:[],injector:A})}}function x(T){const A=T.value.routeConfig;return A&&""===A.path}function Y(T){const A=[],v=new Set;for(const R of T){if(!x(R)){A.push(R);continue}const B=A.find(ne=>R.value.routeConfig===ne.value.routeConfig);void 0!==B?(B.children.push(...R.children),v.add(B)):A.push(R)}for(const R of v){const B=Y(R.children);A.push(new bi(R.value,B))}return A.filter(R=>!v.has(R))}function Pe(T){return T.data||{}}function _(T){return T.resolve||{}}function ft(T){return"string"==typeof T.title||null===T.title}function jt(T){return(0,St.w)(A=>{const v=T(A);return v?(0,$.D)(v).pipe((0,Gt.U)(()=>A)):(0,J.of)(A)})}const en=new p.OlP("ROUTES");let fn=(()=>{class T{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,p.f3M)(p.Sil)}loadComponent(v){if(this.componentLoaders.get(v))return this.componentLoaders.get(v);if(v._loadedComponent)return(0,J.of)(v._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(v);const R=Qt(v.loadComponent()).pipe((0,Gt.U)(pn),(0,Ne.b)(ne=>{this.onLoadEndListener&&this.onLoadEndListener(v),v._loadedComponent=ne}),(0,dn.x)(()=>{this.componentLoaders.delete(v)})),B=new lt(R,()=>new bt.x).pipe(fe());return this.componentLoaders.set(v,B),B}loadChildren(v,R){if(this.childrenLoaders.get(R))return this.childrenLoaders.get(R);if(R._loadedRoutes)return(0,J.of)({routes:R._loadedRoutes,injector:R._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(R);const ne=function tn(T,A,v,R){return Qt(T.loadChildren()).pipe((0,Gt.U)(pn),(0,Se.z)(B=>B instanceof p.YKP||Array.isArray(B)?(0,J.of)(B):(0,$.D)(A.compileModuleAsync(B))),(0,Gt.U)(B=>{R&&R(T);let ne,Q,et=!1;return Array.isArray(B)?(Q=B,!0):(ne=B.create(v).injector,Q=ne.get(en,[],{optional:!0,self:!0}).flat()),{routes:Q.map(Br),injector:ne}}))}(R,this.compiler,v,this.onLoadEndListener).pipe((0,dn.x)(()=>{this.childrenLoaders.delete(R)})),Q=new lt(ne,()=>new bt.x).pipe(fe());return this.childrenLoaders.set(R,Q),Q}static#e=this.\u0275fac=function(R){return new(R||T)};static#t=this.\u0275prov=p.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})();function pn(T){return function Un(T){return T&&"object"==typeof T&&"default"in T}(T)?T.default:T}let jn=(()=>{class T{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new bt.x,this.transitionAbortSubject=new bt.x,this.configLoader=(0,p.f3M)(fn),this.environmentInjector=(0,p.f3M)(p.lqb),this.urlSerializer=(0,p.f3M)(Vr),this.rootContexts=(0,p.f3M)(_s),this.inputBindingEnabled=null!==(0,p.f3M)(dr,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,J.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=B=>this.events.next(new bs(B)),this.configLoader.onLoadStartListener=B=>this.events.next(new mo(B))}complete(){this.transitions?.complete()}handleNavigationRequest(v){const R=++this.navigationId;this.transitions?.next({...this.transitions.value,...v,id:R})}setupNavigations(v,R,B){return this.transitions=new q.X({id:0,currentUrlTree:R,currentRawUrl:R,currentBrowserUrl:R,extractedUrl:v.urlHandlingStrategy.extract(R),urlAfterRedirects:v.urlHandlingStrategy.extract(R),rawUrl:R,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:xi,restoredState:null,currentSnapshot:B.snapshot,targetSnapshot:null,currentRouterState:B,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,kt.h)(ne=>0!==ne.id),(0,Gt.U)(ne=>({...ne,extractedUrl:v.urlHandlingStrategy.extract(ne.rawUrl)})),(0,St.w)(ne=>{this.currentTransition=ne;let Q=!1,et=!1;return(0,J.of)(ne).pipe((0,Ne.b)(Qe=>{this.currentNavigation={id:Qe.id,initialUrl:Qe.rawUrl,extractedUrl:Qe.extractedUrl,trigger:Qe.source,extras:Qe.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,St.w)(Qe=>{const zt=Qe.currentBrowserUrl.toString(),un=!v.navigated||Qe.extractedUrl.toString()!==zt||zt!==Qe.currentUrlTree.toString();if(!un&&"reload"!==(Qe.extras.onSameUrlNavigation??v.onSameUrlNavigation)){const In="";return this.events.next(new Ii(Qe.id,this.urlSerializer.serialize(Qe.rawUrl),In,0)),Qe.resolve(null),ge.E}if(v.urlHandlingStrategy.shouldProcessUrl(Qe.rawUrl))return(0,J.of)(Qe).pipe((0,St.w)(In=>{const Es=this.transitions?.getValue();return this.events.next(new Fs(In.id,this.urlSerializer.serialize(In.extractedUrl),In.source,In.restoredState)),Es!==this.transitions?.getValue()?ge.E:Promise.resolve(In)}),function k(T,A,v,R,B,ne){return(0,Se.z)(Q=>function Z(T,A,v,R,B,ne,Q="emptyOnly"){return new y(T,A,v,R,B,Q,ne).recognize()}(T,A,v,R,Q.extractedUrl,B,ne).pipe((0,Gt.U)(({state:et,tree:Qe})=>({...Q,targetSnapshot:et,urlAfterRedirects:Qe}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,v.config,this.urlSerializer,v.paramsInheritanceStrategy),(0,Ne.b)(In=>{ne.targetSnapshot=In.targetSnapshot,ne.urlAfterRedirects=In.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:In.urlAfterRedirects};const Es=new po(In.id,this.urlSerializer.serialize(In.extractedUrl),this.urlSerializer.serialize(In.urlAfterRedirects),In.targetSnapshot);this.events.next(Es)}));if(un&&v.urlHandlingStrategy.shouldProcessUrl(Qe.currentRawUrl)){const{id:In,extractedUrl:Es,source:ja,restoredState:la,extras:wu}=Qe,Aa=new Fs(In,this.urlSerializer.serialize(Es),ja,la);this.events.next(Aa);const Ws=_n(0,this.rootComponentType).snapshot;return this.currentTransition=ne={...Qe,targetSnapshot:Ws,urlAfterRedirects:Es,extras:{...wu,skipLocationChange:!1,replaceUrl:!1}},(0,J.of)(ne)}{const In="";return this.events.next(new Ii(Qe.id,this.urlSerializer.serialize(Qe.extractedUrl),In,1)),Qe.resolve(null),ge.E}}),(0,Ne.b)(Qe=>{const zt=new zi(Qe.id,this.urlSerializer.serialize(Qe.extractedUrl),this.urlSerializer.serialize(Qe.urlAfterRedirects),Qe.targetSnapshot);this.events.next(zt)}),(0,Gt.U)(Qe=>(this.currentTransition=ne={...Qe,guards:va(Qe.targetSnapshot,Qe.currentSnapshot,this.rootContexts)},ne)),function Yi(T,A){return(0,Se.z)(v=>{const{targetSnapshot:R,currentSnapshot:B,guards:{canActivateChecks:ne,canDeactivateChecks:Q}}=v;return 0===Q.length&&0===ne.length?(0,J.of)({...v,guardsResult:!0}):function Vi(T,A,v,R){return(0,$.D)(T).pipe((0,Se.z)(B=>function Po(T,A,v,R,B){const ne=A&&A.routeConfig?A.routeConfig.canDeactivate:null;if(!ne||0===ne.length)return(0,J.of)(!0);const Q=ne.map(et=>{const Qe=ls(A)??B,zt=js(et,Qe);return Qt(function se(T){return T&&As(T.canDeactivate)}(zt)?zt.canDeactivate(T,A,v,R):Qe.runInContext(()=>zt(T,A,v,R))).pipe((0,Oe.P)())});return(0,J.of)(Q).pipe(Fi())}(B.component,B.route,v,A,R)),(0,Oe.P)(B=>!0!==B,!0))}(Q,R,B,T).pipe((0,Se.z)(et=>et&&function sa(T){return"boolean"==typeof T}(et)?function $s(T,A,v,R){return(0,$.D)(A).pipe((0,qe.b)(B=>(0,Ct.z)(function Pr(T,A){return null!==T&&A&&A(new go(T)),(0,J.of)(!0)}(B.route.parent,R),function oo(T,A){return null!==T&&A&&A(new Co(T)),(0,J.of)(!0)}(B.route,R),function Si(T,A,v){const R=A[A.length-1],ne=A.slice(0,A.length-1).reverse().map(Q=>function Go(T){const A=T.routeConfig?T.routeConfig.canActivateChild:null;return A&&0!==A.length?{node:T,guards:A}:null}(Q)).filter(Q=>null!==Q).map(Q=>ae(()=>{const et=Q.guards.map(Qe=>{const zt=ls(Q.node)??v,un=js(Qe,zt);return Qt(function O(T){return T&&As(T.canActivateChild)}(un)?un.canActivateChild(R,T):zt.runInContext(()=>un(R,T))).pipe((0,Oe.P)())});return(0,J.of)(et).pipe(Fi())}));return(0,J.of)(ne).pipe(Fi())}(T,B.path,v),function _o(T,A,v){const R=A.routeConfig?A.routeConfig.canActivate:null;if(!R||0===R.length)return(0,J.of)(!0);const B=R.map(ne=>ae(()=>{const Q=ls(A)??v,et=js(ne,Q);return Qt(function K(T){return T&&As(T.canActivate)}(et)?et.canActivate(A,T):Q.runInContext(()=>et(A,T))).pipe((0,Oe.P)())}));return(0,J.of)(B).pipe(Fi())}(T,B.route,v))),(0,Oe.P)(B=>!0!==B,!0))}(R,ne,T,A):(0,J.of)(et)),(0,Gt.U)(et=>({...v,guardsResult:et})))})}(this.environmentInjector,Qe=>this.events.next(Qe)),(0,Ne.b)(Qe=>{if(ne.guardsResult=Qe.guardsResult,mt(Qe.guardsResult))throw Ci(0,Qe.guardsResult);const zt=new Ei(Qe.id,this.urlSerializer.serialize(Qe.extractedUrl),this.urlSerializer.serialize(Qe.urlAfterRedirects),Qe.targetSnapshot,!!Qe.guardsResult);this.events.next(zt)}),(0,kt.h)(Qe=>!!Qe.guardsResult||(this.cancelNavigationTransition(Qe,"",3),!1)),jt(Qe=>{if(Qe.guards.canActivateChecks.length)return(0,J.of)(Qe).pipe((0,Ne.b)(zt=>{const un=new zo(zt.id,this.urlSerializer.serialize(zt.extractedUrl),this.urlSerializer.serialize(zt.urlAfterRedirects),zt.targetSnapshot);this.events.next(un)}),(0,St.w)(zt=>{let un=!1;return(0,J.of)(zt).pipe(function P(T,A){return(0,Se.z)(v=>{const{targetSnapshot:R,guards:{canActivateChecks:B}}=v;if(!B.length)return(0,J.of)(v);let ne=0;return(0,$.D)(B).pipe((0,qe.b)(Q=>function F(T,A,v,R){const B=T.routeConfig,ne=T._resolve;return void 0!==B?.title&&!ft(B)&&(ne[Nn]=B.title),function ce(T,A,v,R){const B=function Ue(T){return[...Object.keys(T),...Object.getOwnPropertySymbols(T)]}(T);if(0===B.length)return(0,J.of)({});const ne={};return(0,$.D)(B).pipe((0,Se.z)(Q=>function Ke(T,A,v,R){const B=ls(A)??R,ne=js(T,B);return Qt(ne.resolve?ne.resolve(A,v):B.runInContext(()=>ne(A,v)))}(T[Q],A,v,R).pipe((0,Oe.P)(),(0,Ne.b)(et=>{ne[Q]=et}))),It(1),function xn(T){return(0,Gt.U)(()=>T)}(ne),He(Q=>Li(Q)?ge.E:me(Q)))}(ne,T,A,R).pipe((0,Gt.U)(Q=>(T._resolvedData=Q,T.data=Zi(T,v).resolve,B&&ft(B)&&(T.data[Nn]=B.title),null)))}(Q.route,R,T,A)),(0,Ne.b)(()=>ne++),It(1),(0,Se.z)(Q=>ne===B.length?(0,J.of)(v):ge.E))})}(v.paramsInheritanceStrategy,this.environmentInjector),(0,Ne.b)({next:()=>un=!0,complete:()=>{un||this.cancelNavigationTransition(zt,"",2)}}))}),(0,Ne.b)(zt=>{const un=new Ys(zt.id,this.urlSerializer.serialize(zt.extractedUrl),this.urlSerializer.serialize(zt.urlAfterRedirects),zt.targetSnapshot);this.events.next(un)}))}),jt(Qe=>{const zt=un=>{const Xn=[];un.routeConfig?.loadComponent&&!un.routeConfig._loadedComponent&&Xn.push(this.configLoader.loadComponent(un.routeConfig).pipe((0,Ne.b)(In=>{un.component=In}),(0,Gt.U)(()=>{})));for(const In of un.children)Xn.push(...zt(In));return Xn};return ut(zt(Qe.targetSnapshot.root)).pipe((0,gt.d)(),(0,gn.q)(1))}),jt(()=>this.afterPreactivation()),(0,Gt.U)(Qe=>{const zt=function Us(T,A,v){const R=si(T,A._root,v?v._root:void 0);return new Lt(R,A)}(v.routeReuseStrategy,Qe.targetSnapshot,Qe.currentRouterState);return this.currentTransition=ne={...Qe,targetRouterState:zt},ne}),(0,Ne.b)(()=>{this.events.next(new wr)}),((T,A,v,R)=>(0,Gt.U)(B=>(new Do(A,B.targetRouterState,B.currentRouterState,v,R).activate(T),B)))(this.rootContexts,v.routeReuseStrategy,Qe=>this.events.next(Qe),this.inputBindingEnabled),(0,gn.q)(1),(0,Ne.b)({next:Qe=>{Q=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ii(Qe.id,this.urlSerializer.serialize(Qe.extractedUrl),this.urlSerializer.serialize(Qe.urlAfterRedirects))),v.titleStrategy?.updateTitle(Qe.targetRouterState.snapshot),Qe.resolve(!0)},complete:()=>{Q=!0}}),function zn(T){return(0,ve.e)((A,v)=>{(0,ct.Xf)(T).subscribe((0,ze.x)(v,()=>v.complete(),hn.Z)),!v.closed&&A.subscribe(v)})}(this.transitionAbortSubject.pipe((0,Ne.b)(Qe=>{throw Qe}))),(0,dn.x)(()=>{Q||et||this.cancelNavigationTransition(ne,"",1),this.currentNavigation?.id===ne.id&&(this.currentNavigation=null)}),He(Qe=>{if(et=!0,Wn(Qe))this.events.next(new fo(ne.id,this.urlSerializer.serialize(ne.extractedUrl),Qe.message,Qe.cancellationCode)),function Wi(T){return Wn(T)&&mt(T.url)}(Qe)?this.events.next(new zr(Qe.url)):ne.resolve(!1);else{this.events.next(new gs(ne.id,this.urlSerializer.serialize(ne.extractedUrl),Qe,ne.targetSnapshot??void 0));try{ne.resolve(v.errorHandler(Qe))}catch(zt){ne.reject(zt)}}return ge.E}))}))}cancelNavigationTransition(v,R,B){const ne=new fo(v.id,this.urlSerializer.serialize(v.extractedUrl),R,B);this.events.next(ne),v.resolve(!1)}static#e=this.\u0275fac=function(R){return new(R||T)};static#t=this.\u0275prov=p.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})();function Wr(T){return T!==xi}let Cr=(()=>{class T{buildTitle(v){let R,B=v.root;for(;void 0!==B;)R=this.getResolvedTitleForRoute(B)??R,B=B.children.find(ne=>ne.outlet===Vt);return R}getResolvedTitleForRoute(v){return v.data[Nn]}static#e=this.\u0275fac=function(R){return new(R||T)};static#t=this.\u0275prov=p.Yz7({token:T,factory:function(){return(0,p.f3M)(ui)},providedIn:"root"})}return T})(),ui=(()=>{class T extends Cr{constructor(v){super(),this.title=v}updateTitle(v){const R=this.buildTitle(v);void 0!==R&&this.title.setTitle(R)}static#e=this.\u0275fac=function(R){return new(R||T)(p.LFG(An.Dx))};static#t=this.\u0275prov=p.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})(),ni=(()=>{class T{static#e=this.\u0275fac=function(R){return new(R||T)};static#t=this.\u0275prov=p.Yz7({token:T,factory:function(){return(0,p.f3M)(cs)},providedIn:"root"})}return T})();class Nr{shouldDetach(A){return!1}store(A,v){}shouldAttach(A){return!1}retrieve(A){return null}shouldReuseRoute(A,v){return A.routeConfig===v.routeConfig}}let cs=(()=>{class T extends Nr{static#e=this.\u0275fac=function(){let v;return function(B){return(v||(v=p.n5z(T)))(B||T)}}();static#t=this.\u0275prov=p.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})();const Ui=new p.OlP("",{providedIn:"root",factory:()=>({})});let fr=(()=>{class T{static#e=this.\u0275fac=function(R){return new(R||T)};static#t=this.\u0275prov=p.Yz7({token:T,factory:function(){return(0,p.f3M)(oa)},providedIn:"root"})}return T})(),oa=(()=>{class T{shouldProcessUrl(v){return!0}extract(v){return v}merge(v,R){return v}static#e=this.\u0275fac=function(R){return new(R||T)};static#t=this.\u0275prov=p.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})();var No=function(T){return T[T.COMPLETE=0]="COMPLETE",T[T.FAILED=1]="FAILED",T[T.REDIRECTING=2]="REDIRECTING",T}(No||{});function $t(T,A){T.events.pipe((0,kt.h)(v=>v instanceof ii||v instanceof fo||v instanceof gs||v instanceof Ii),(0,Gt.U)(v=>v instanceof ii||v instanceof Ii?No.COMPLETE:v instanceof fo&&(0===v.code||1===v.code)?No.REDIRECTING:No.FAILED),(0,kt.h)(v=>v!==No.REDIRECTING),(0,gn.q)(1)).subscribe(()=>{A()})}function yn(T){throw T}function Pn(T,A,v){return A.parse("/")}const Kn={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},br={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let qr=(()=>{class T{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,p.f3M)(p.c2e),this.isNgZoneEnabled=!1,this._events=new bt.x,this.options=(0,p.f3M)(Ui,{optional:!0})||{},this.pendingTasks=(0,p.f3M)(p.HDt),this.errorHandler=this.options.errorHandler||yn,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Pn,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,p.f3M)(fr),this.routeReuseStrategy=(0,p.f3M)(ni),this.titleStrategy=(0,p.f3M)(Cr),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,p.f3M)(en,{optional:!0})?.flat()??[],this.navigationTransitions=(0,p.f3M)(jn),this.urlSerializer=(0,p.f3M)(Vr),this.location=(0,p.f3M)($e.Ye),this.componentInputBindingEnabled=!!(0,p.f3M)(dr,{optional:!0}),this.eventsSubscription=new Ce.w0,this.isNgZoneEnabled=(0,p.f3M)(p.R0b)instanceof p.R0b&&p.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new cn,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=_n(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(v=>{this.lastSuccessfulId=v.id,this.currentPageId=this.browserPageId},v=>{this.console.warn(`Unhandled Navigation Error: ${v}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const v=this.navigationTransitions.events.subscribe(R=>{try{const{currentTransition:B}=this.navigationTransitions;if(null===B)return void(Gs(R)&&this._events.next(R));if(R instanceof Fs)Wr(B.source)&&(this.browserUrlTree=B.extractedUrl);else if(R instanceof Ii)this.rawUrlTree=B.rawUrl;else if(R instanceof po){if("eager"===this.urlUpdateStrategy){if(!B.extras.skipLocationChange){const ne=this.urlHandlingStrategy.merge(B.urlAfterRedirects,B.rawUrl);this.setBrowserUrl(ne,B)}this.browserUrlTree=B.urlAfterRedirects}}else if(R instanceof wr)this.currentUrlTree=B.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(B.urlAfterRedirects,B.rawUrl),this.routerState=B.targetRouterState,"deferred"===this.urlUpdateStrategy&&(B.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,B),this.browserUrlTree=B.urlAfterRedirects);else if(R instanceof fo)0!==R.code&&1!==R.code&&(this.navigated=!0),(3===R.code||2===R.code)&&this.restoreHistory(B);else if(R instanceof zr){const ne=this.urlHandlingStrategy.merge(R.url,B.currentRawUrl),Q={skipLocationChange:B.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Wr(B.source)};this.scheduleNavigation(ne,xi,null,Q,{resolve:B.resolve,reject:B.reject,promise:B.promise})}R instanceof gs&&this.restoreHistory(B,!0),R instanceof ii&&(this.navigated=!0),Gs(R)&&this._events.next(R)}catch(B){this.navigationTransitions.transitionAbortSubject.next(B)}});this.eventsSubscription.add(v)}resetRootComponentType(v){this.routerState.root.component=v,this.navigationTransitions.rootComponentType=v}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const v=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),xi,v)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(v=>{const R="popstate"===v.type?"popstate":"hashchange";"popstate"===R&&setTimeout(()=>{this.navigateToSyncWithBrowser(v.url,R,v.state)},0)}))}navigateToSyncWithBrowser(v,R,B){const ne={replaceUrl:!0},Q=B?.navigationId?B:null;if(B){const Qe={...B};delete Qe.navigationId,delete Qe.\u0275routerPageId,0!==Object.keys(Qe).length&&(ne.state=Qe)}const et=this.parseUrl(v);this.scheduleNavigation(et,R,Q,ne)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(v){this.config=v.map(Br),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(v,R={}){const{relativeTo:B,queryParams:ne,fragment:Q,queryParamsHandling:et,preserveFragment:Qe}=R,zt=Qe?this.currentUrlTree.fragment:Q;let Xn,un=null;switch(et){case"merge":un={...this.currentUrlTree.queryParams,...ne};break;case"preserve":un=this.currentUrlTree.queryParams;break;default:un=ne||null}null!==un&&(un=this.removeEmptyProps(un));try{Xn=sn(B?B.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof v[0]||!v[0].startsWith("/"))&&(v=[]),Xn=this.currentUrlTree.root}return Jn(Xn,v,un,zt??null)}navigateByUrl(v,R={skipLocationChange:!1}){const B=mt(v)?v:this.parseUrl(v),ne=this.urlHandlingStrategy.merge(B,this.rawUrlTree);return this.scheduleNavigation(ne,xi,null,R)}navigate(v,R={skipLocationChange:!1}){return function Kr(T){for(let A=0;A<T.length;A++)if(null==T[A])throw new p.vHH(4008,!1)}(v),this.navigateByUrl(this.createUrlTree(v,R),R)}serializeUrl(v){return this.urlSerializer.serialize(v)}parseUrl(v){let R;try{R=this.urlSerializer.parse(v)}catch(B){R=this.malformedUriErrorHandler(B,this.urlSerializer,v)}return R}isActive(v,R){let B;if(B=!0===R?{...Kn}:!1===R?{...br}:R,mt(v))return Ye(this.currentUrlTree,v,B);const ne=this.parseUrl(v);return Ye(this.currentUrlTree,ne,B)}removeEmptyProps(v){return Object.keys(v).reduce((R,B)=>{const ne=v[B];return null!=ne&&(R[B]=ne),R},{})}scheduleNavigation(v,R,B,ne,Q){if(this.disposed)return Promise.resolve(!1);let et,Qe,zt;Q?(et=Q.resolve,Qe=Q.reject,zt=Q.promise):zt=new Promise((Xn,In)=>{et=Xn,Qe=In});const un=this.pendingTasks.add();return $t(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(un))}),this.navigationTransitions.handleNavigationRequest({source:R,restoredState:B,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:v,extras:ne,resolve:et,reject:Qe,promise:zt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),zt.catch(Xn=>Promise.reject(Xn))}setBrowserUrl(v,R){const B=this.urlSerializer.serialize(v);if(this.location.isCurrentPathEqualTo(B)||R.extras.replaceUrl){const Q={...R.extras.state,...this.generateNgRouterState(R.id,this.browserPageId)};this.location.replaceState(B,"",Q)}else{const ne={...R.extras.state,...this.generateNgRouterState(R.id,this.browserPageId+1)};this.location.go(B,"",ne)}}restoreHistory(v,R=!1){if("computed"===this.canceledNavigationResolution){const ne=this.currentPageId-this.browserPageId;0!==ne?this.location.historyGo(ne):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===ne&&(this.resetState(v),this.browserUrlTree=v.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(R&&this.resetState(v),this.resetUrlToCurrentUrlTree())}resetState(v){this.routerState=v.currentRouterState,this.currentUrlTree=v.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,v.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(v,R){return"computed"===this.canceledNavigationResolution?{navigationId:v,\u0275routerPageId:R}:{navigationId:v}}static#e=this.\u0275fac=function(R){return new(R||T)};static#t=this.\u0275prov=p.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})();function Gs(T){return!(T instanceof wr||T instanceof zr)}class ci{}let Fo=(()=>{class T{preload(v,R){return R().pipe(He(()=>(0,J.of)(null)))}static#e=this.\u0275fac=function(R){return new(R||T)};static#t=this.\u0275prov=p.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})(),kr=(()=>{class T{constructor(v,R,B,ne,Q){this.router=v,this.injector=B,this.preloadingStrategy=ne,this.loader=Q}setUpPreloading(){this.subscription=this.router.events.pipe((0,kt.h)(v=>v instanceof ii),(0,qe.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(v,R){const B=[];for(const ne of R){ne.providers&&!ne._injector&&(ne._injector=(0,p.MMx)(ne.providers,v,`Route: ${ne.path}`));const Q=ne._injector??v,et=ne._loadedInjector??Q;(ne.loadChildren&&!ne._loadedRoutes&&void 0===ne.canLoad||ne.loadComponent&&!ne._loadedComponent)&&B.push(this.preloadConfig(Q,ne)),(ne.children||ne._loadedRoutes)&&B.push(this.processRoutes(et,ne.children??ne._loadedRoutes))}return(0,$.D)(B).pipe((0,On.J)())}preloadConfig(v,R){return this.preloadingStrategy.preload(R,()=>{let B;B=R.loadChildren&&void 0===R.canLoad?this.loader.loadChildren(v,R):(0,J.of)(null);const ne=B.pipe((0,Se.z)(Q=>null===Q?(0,J.of)(void 0):(R._loadedRoutes=Q.routes,R._loadedInjector=Q.injector,this.processRoutes(Q.injector??v,Q.routes))));if(R.loadComponent&&!R._loadedComponent){const Q=this.loader.loadComponent(R);return(0,$.D)([ne,Q]).pipe((0,On.J)())}return ne})}static#e=this.\u0275fac=function(R){return new(R||T)(p.LFG(qr),p.LFG(p.Sil),p.LFG(p.lqb),p.LFG(ci),p.LFG(fn))};static#t=this.\u0275prov=p.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})();const Yt=new p.OlP("");let ll=(()=>{class T{constructor(v,R,B,ne,Q={}){this.urlSerializer=v,this.transitions=R,this.viewportScroller=B,this.zone=ne,this.options=Q,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Q.scrollPositionRestoration=Q.scrollPositionRestoration||"disabled",Q.anchorScrolling=Q.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(v=>{v instanceof Fs?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=v.navigationTrigger,this.restoredId=v.restoredState?v.restoredState.navigationId:0):v instanceof ii?(this.lastId=v.id,this.scheduleScrollEvent(v,this.urlSerializer.parse(v.urlAfterRedirects).fragment)):v instanceof Ii&&0===v.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(v,this.urlSerializer.parse(v.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(v=>{v instanceof Ln&&(v.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(v.position):v.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(v.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(v,R){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ln(v,"popstate"===this.lastSource?this.store[this.restoredId]:null,R))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(R){p.$Z()};static#t=this.\u0275prov=p.Yz7({token:T,factory:T.\u0275fac})}return T})();function Zo(T,A){return{\u0275kind:T,\u0275providers:A}}function lc(){const T=(0,p.f3M)(p.zs3);return A=>{const v=T.get(p.z2F);if(A!==v.components[0])return;const R=T.get(qr),B=T.get($l);1===T.get(Tu)&&R.initialNavigation(),T.get(mi,null,p.XFs.Optional)?.setUpPreloading(),T.get(Yt,null,p.XFs.Optional)?.init(),R.resetRootComponentType(v.componentTypes[0]),B.closed||(B.next(),B.complete(),B.unsubscribe())}}const $l=new p.OlP("",{factory:()=>new bt.x}),Tu=new p.OlP("",{providedIn:"root",factory:()=>1}),mi=new p.OlP("");function uc(T){return Zo(0,[{provide:mi,useExisting:kr},{provide:ci,useExisting:T}])}const Ba=new p.OlP("ROUTER_FORROOT_GUARD"),di=[$e.Ye,{provide:Vr,useClass:Jr},qr,_s,{provide:Dr,useFactory:function an(T){return T.routerState.root},deps:[qr]},fn,[]];function ln(){return new p.PXZ("Router",qr)}let Ca=(()=>{class T{constructor(v){}static forRoot(v,R){return{ngModule:T,providers:[di,[],{provide:en,multi:!0,useValue:v},{provide:Ba,useFactory:Ft,deps:[[qr,new p.FiY,new p.tp0]]},{provide:Ui,useValue:R||{}},R?.useHash?{provide:$e.S$,useClass:$e.Do}:{provide:$e.S$,useClass:$e.b0},{provide:Yt,useFactory:()=>{const T=(0,p.f3M)($e.EM),A=(0,p.f3M)(p.R0b),v=(0,p.f3M)(Ui),R=(0,p.f3M)(jn),B=(0,p.f3M)(Vr);return v.scrollOffset&&T.setOffset(v.scrollOffset),new ll(B,R,T,A,v)}},R?.preloadingStrategy?uc(R.preloadingStrategy).\u0275providers:[],{provide:p.PXZ,multi:!0,useFactory:ln},R?.initialNavigation?Ms(R):[],R?.bindToComponentInputs?Zo(8,[wi,{provide:dr,useExisting:wi}]).\u0275providers:[],[{provide:Ha,useFactory:lc},{provide:p.tb,multi:!0,useExisting:Ha}]]}}static forChild(v){return{ngModule:T,providers:[{provide:en,multi:!0,useValue:v}]}}static#e=this.\u0275fac=function(R){return new(R||T)(p.LFG(Ba,8))};static#t=this.\u0275mod=p.oAB({type:T});static#n=this.\u0275inj=p.cJS({})}return T})();function Ft(T){return"guarded"}function Ms(T){return["disabled"===T.initialNavigation?Zo(3,[{provide:p.ip1,multi:!0,useFactory:()=>{const A=(0,p.f3M)(qr);return()=>{A.setUpLocationChangeListener()}}},{provide:Tu,useValue:2}]).\u0275providers:[],"enabledBlocking"===T.initialNavigation?Zo(2,[{provide:Tu,useValue:0},{provide:p.ip1,multi:!0,deps:[p.zs3],useFactory:A=>{const v=A.get($e.V_,Promise.resolve());return()=>v.then(()=>new Promise(R=>{const B=A.get(qr),ne=A.get($l);$t(B,()=>{R(!0)}),A.get(jn).afterPreactivation=()=>(R(!0),ne.closed?(0,J.of)(void 0):ne),B.initialNavigation()}))}}]).\u0275providers:[]]}const Ha=new p.OlP("")},3106:(xt,je,U)=>{U.d(je,{Z:()=>ut});var p=U(9058),V=U(4537),b=U(534),Te=U(7879);class ${constructor(nt,rt){this._delegate=nt,this.firebase=rt,(0,b._addComponent)(nt,new V.wA("app-compat",()=>this,"PUBLIC")),this.container=nt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(nt){this._delegate.automaticDataCollectionEnabled=nt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(nt=>{this._delegate.checkDestroyed(),nt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,b.deleteApp)(this._delegate)))}_getService(nt,rt=b._DEFAULT_ENTRY_NAME){var Ct;this._delegate.checkDestroyed();const ct=this._delegate.container.getProvider(nt);return!ct.isInitialized()&&"EXPLICIT"===(null===(Ct=ct.getComponent())||void 0===Ct?void 0:Ct.instantiationMode)&&ct.initialize(),ct.getImmediate({identifier:rt})}_removeServiceInstance(nt,rt=b._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(nt).clearInstance(rt)}_addComponent(nt){(0,b._addComponent)(this._delegate,nt)}_addOrOverwriteComponent(nt){(0,b._addOrOverwriteComponent)(this._delegate,nt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const q=new p.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ee=function de(){const Xe=function ue(Xe){const nt={},rt={__esModule:!0,initializeApp:function ae(Ce,ve={}){const fe=b.initializeApp(Ce,ve);if((0,p.r3)(nt,fe.name))return nt[fe.name];const lt=new Xe(fe,rt);return nt[fe.name]=lt,lt},app:ct,registerVersion:b.registerVersion,setLogLevel:b.setLogLevel,onLog:b.onLog,apps:null,SDK_VERSION:b.SDK_VERSION,INTERNAL:{registerComponent:function me(Ce){const ve=Ce.name,fe=ve.replace("-compat","");if(b._registerComponent(Ce)&&"PUBLIC"===Ce.type){const lt=(bt=ct())=>{if("function"!=typeof bt[fe])throw q.create("invalid-app-argument",{appName:ve});return bt[fe]()};void 0!==Ce.serviceProps&&(0,p.ZB)(lt,Ce.serviceProps),rt[fe]=lt,Xe.prototype[fe]=function(...bt){return this._getService.bind(this,ve).apply(this,Ce.multipleInstances?bt:[])}}return"PUBLIC"===Ce.type?rt[fe]:null},removeApp:function Ct(Ce){delete nt[Ce]},useAsService:function ge(Ce,ve){return"serverAuth"===ve?null:ve},modularAPIs:b}};function ct(Ce){if(!(0,p.r3)(nt,Ce=Ce||b._DEFAULT_ENTRY_NAME))throw q.create("no-app",{appName:Ce});return nt[Ce]}return rt.default=rt,Object.defineProperty(rt,"apps",{get:function Me(){return Object.keys(nt).map(Ce=>nt[Ce])}}),ct.App=Xe,rt}($);return Xe.INTERNAL=Object.assign(Object.assign({},Xe.INTERNAL),{createFirebaseNamespace:de,extendNamespace:function nt(rt){(0,p.ZB)(Xe,rt)},createSubscribe:p.ne,ErrorFactory:p.LL,deepExtend:p.ZB}),Xe}(),oe=new Te.Yd("@firebase/app-compat");if((0,p.jU)()&&void 0!==self.firebase){oe.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Xe=self.firebase.SDK_VERSION;Xe&&Xe.indexOf("LITE")>=0&&oe.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ut=ee;!function Ze(Xe){(0,b.registerVersion)("@firebase/app-compat","0.2.23",Xe)}()},534:(xt,je,U)=>{U.r(je),U.d(je,{FirebaseError:()=>Te.ZR,SDK_VERSION:()=>wn,_DEFAULT_ENTRY_NAME:()=>Xt,_addComponent:()=>vr,_addOrOverwriteComponent:()=>Ye,_apps:()=>Qt,_clearComponents:()=>at,_components:()=>Zn,_getProvider:()=>De,_registerComponent:()=>At,_removeServiceInstance:()=>Ge,deleteApp:()=>ir,getApp:()=>Qr,getApps:()=>Gn,initializeApp:()=>xr,onLog:()=>$r,registerVersion:()=>Jr,setLogLevel:()=>Or});var p=U(5861),V=U(4537),b=U(7879),Te=U(9058);const $=(ye,we)=>we.some(Be=>ye instanceof Be);let J,q;const ee=new WeakMap,oe=new WeakMap,Ee=new WeakMap,ze=new WeakMap,Ze=new WeakMap;let nt={get(ye,we,Be){if(ye instanceof IDBTransaction){if("done"===we)return oe.get(ye);if("objectStoreNames"===we)return ye.objectStoreNames||Ee.get(ye);if("store"===we)return Be.objectStoreNames[1]?void 0:Be.objectStore(Be.objectStoreNames[0])}return ae(ye[we])},set:(ye,we,Be)=>(ye[we]=Be,!0),has:(ye,we)=>ye instanceof IDBTransaction&&("done"===we||"store"===we)||we in ye};function ct(ye){return"function"==typeof ye?function Ct(ye){return ye!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function de(){return q||(q=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ye)?function(...we){return ye.apply(Me(this),we),ae(ee.get(this))}:function(...we){return ae(ye.apply(Me(this),we))}:function(we,...Be){const tt=ye.call(Me(this),we,...Be);return Ee.set(tt,we.sort?we.sort():[we]),ae(tt)}}(ye):(ye instanceof IDBTransaction&&function Xe(ye){if(oe.has(ye))return;const we=new Promise((Be,tt)=>{const mt=()=>{ye.removeEventListener("complete",wt),ye.removeEventListener("error",sn),ye.removeEventListener("abort",sn)},wt=()=>{Be(),mt()},sn=()=>{tt(ye.error||new DOMException("AbortError","AbortError")),mt()};ye.addEventListener("complete",wt),ye.addEventListener("error",sn),ye.addEventListener("abort",sn)});oe.set(ye,we)}(ye),$(ye,function ue(){return J||(J=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ye,nt):ye)}function ae(ye){if(ye instanceof IDBRequest)return function ut(ye){const we=new Promise((Be,tt)=>{const mt=()=>{ye.removeEventListener("success",wt),ye.removeEventListener("error",sn)},wt=()=>{Be(ae(ye.result)),mt()},sn=()=>{tt(ye.error),mt()};ye.addEventListener("success",wt),ye.addEventListener("error",sn)});return we.then(Be=>{Be instanceof IDBCursor&&ee.set(Be,ye)}).catch(()=>{}),Ze.set(we,ye),we}(ye);if(ze.has(ye))return ze.get(ye);const we=ct(ye);return we!==ye&&(ze.set(ye,we),Ze.set(we,ye)),we}const Me=ye=>Ze.get(ye),Ce=["get","getKey","getAll","getAllKeys","count"],ve=["put","add","delete","clear"],fe=new Map;function lt(ye,we){if(!(ye instanceof IDBDatabase)||we in ye||"string"!=typeof we)return;if(fe.get(we))return fe.get(we);const Be=we.replace(/FromIndex$/,""),tt=we!==Be,mt=ve.includes(Be);if(!(Be in(tt?IDBIndex:IDBObjectStore).prototype)||!mt&&!Ce.includes(Be))return;const wt=function(){var sn=(0,p.Z)(function*(Jn,...Vn){const qn=this.transaction(Jn,mt?"readwrite":"readonly");let ei=qn.store;return tt&&(ei=ei.index(Vn.shift())),(yield Promise.all([ei[Be](...Vn),mt&&qn.done]))[0]});return function(Vn){return sn.apply(this,arguments)}}();return fe.set(we,wt),wt}!function rt(ye){nt=ye(nt)}(ye=>({...ye,get:(we,Be,tt)=>lt(we,Be)||ye.get(we,Be,tt),has:(we,Be)=>!!lt(we,Be)||ye.has(we,Be)}));class bt{constructor(we){this.container=we}getPlatformInfoString(){return this.container.getProviders().map(Be=>{if(function $e(ye){const we=ye.getComponent();return"VERSION"===we?.type}(Be)){const tt=Be.getImmediate();return`${tt.library}/${tt.version}`}return null}).filter(Be=>Be).join(" ")}}const Gt="@firebase/app",gn=new b.Yd("@firebase/app"),Xt="[DEFAULT]",mn={[Gt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Qt=new Map,Zn=new Map;function vr(ye,we){try{ye.container.addComponent(we)}catch(Be){gn.debug(`Component ${we.name} failed to register with FirebaseApp ${ye.name}`,Be)}}function Ye(ye,we){ye.container.addOrOverwriteComponent(we)}function At(ye){const we=ye.name;if(Zn.has(we))return gn.debug(`There were multiple attempts to register component ${we}.`),!1;Zn.set(we,ye);for(const Be of Qt.values())vr(Be,ye);return!0}function De(ye,we){const Be=ye.container.getProvider("heartbeat").getImmediate({optional:!0});return Be&&Be.triggerHeartbeat(),ye.container.getProvider(we)}function Ge(ye,we,Be=Xt){De(ye,we).clearInstance(Be)}function at(){Zn.clear()}const Mt=new Te.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class cn{constructor(we,Be,tt){this._isDeleted=!1,this._options=Object.assign({},we),this._config=Object.assign({},Be),this._name=Be.name,this._automaticDataCollectionEnabled=Be.automaticDataCollectionEnabled,this._container=tt,this.container.addComponent(new V.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(we){this.checkDestroyed(),this._automaticDataCollectionEnabled=we}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(we){this._isDeleted=we}checkDestroyed(){if(this.isDeleted)throw Mt.create("app-deleted",{appName:this._name})}}const wn="10.6.0";function xr(ye,we={}){let Be=ye;"object"!=typeof we&&(we={name:we});const tt=Object.assign({name:Xt,automaticDataCollectionEnabled:!1},we),mt=tt.name;if("string"!=typeof mt||!mt)throw Mt.create("bad-app-name",{appName:String(mt)});if(Be||(Be=(0,Te.aH)()),!Be)throw Mt.create("no-options");const wt=Qt.get(mt);if(wt){if((0,Te.vZ)(Be,wt.options)&&(0,Te.vZ)(tt,wt.config))return wt;throw Mt.create("duplicate-app",{appName:mt})}const sn=new V.H0(mt);for(const Vn of Zn.values())sn.addComponent(Vn);const Jn=new cn(Be,tt,sn);return Qt.set(mt,Jn),Jn}function Qr(ye=Xt){const we=Qt.get(ye);if(!we&&ye===Xt&&(0,Te.aH)())return xr();if(!we)throw Mt.create("no-app",{appName:ye});return we}function Gn(){return Array.from(Qt.values())}function ir(ye){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,p.Z)(function*(ye){const we=ye.name;Qt.has(we)&&(Qt.delete(we),yield Promise.all(ye.container.getProviders().map(Be=>Be.delete())),ye.isDeleted=!0)})).apply(this,arguments)}function Jr(ye,we,Be){var tt;let mt=null!==(tt=mn[ye])&&void 0!==tt?tt:ye;Be&&(mt+=`-${Be}`);const wt=mt.match(/\s|\//),sn=we.match(/\s|\//);if(wt||sn){const Jn=[`Unable to register library "${mt}" with version "${we}":`];return wt&&Jn.push(`library name "${mt}" contains illegal characters (whitespace or "/")`),wt&&sn&&Jn.push("and"),sn&&Jn.push(`version name "${we}" contains illegal characters (whitespace or "/")`),void gn.warn(Jn.join(" "))}At(new V.wA(`${mt}-version`,()=>({library:mt,version:we}),"VERSION"))}function $r(ye,we){if(null!==ye&&"function"!=typeof ye)throw Mt.create("invalid-log-argument");(0,b.Am)(ye,we)}function Or(ye){(0,b.Ub)(ye)}const Tr="firebase-heartbeat-database",Xr=1,Re="firebase-heartbeat-store";let re=null;function j(){return re||(re=function me(ye,we,{blocked:Be,upgrade:tt,blocking:mt,terminated:wt}={}){const sn=indexedDB.open(ye,we),Jn=ae(sn);return tt&&sn.addEventListener("upgradeneeded",Vn=>{tt(ae(sn.result),Vn.oldVersion,Vn.newVersion,ae(sn.transaction),Vn)}),Be&&sn.addEventListener("blocked",Vn=>Be(Vn.oldVersion,Vn.newVersion,Vn)),Jn.then(Vn=>{wt&&Vn.addEventListener("close",()=>wt()),mt&&Vn.addEventListener("versionchange",qn=>mt(qn.oldVersion,qn.newVersion,qn))}).catch(()=>{}),Jn}(Tr,Xr,{upgrade:(ye,we)=>{0===we&&ye.createObjectStore(Re)}}).catch(ye=>{throw Mt.create("idb-open",{originalErrorMessage:ye.message})})),re}function L(){return(L=(0,p.Z)(function*(ye){try{return yield(yield j()).transaction(Re).objectStore(Re).get(ot(ye))}catch(we){if(we instanceof Te.ZR)gn.warn(we.message);else{const Be=Mt.create("idb-get",{originalErrorMessage:we?.message});gn.warn(Be.message)}}})).apply(this,arguments)}function he(ye,we){return Le.apply(this,arguments)}function Le(){return(Le=(0,p.Z)(function*(ye,we){try{const tt=(yield j()).transaction(Re,"readwrite");yield tt.objectStore(Re).put(we,ot(ye)),yield tt.done}catch(Be){if(Be instanceof Te.ZR)gn.warn(Be.message);else{const tt=Mt.create("idb-set",{originalErrorMessage:Be?.message});gn.warn(tt.message)}}})).apply(this,arguments)}function ot(ye){return`${ye.name}!${ye.options.appId}`}class rn{constructor(we){this.container=we,this._heartbeatsCache=null;const Be=this.container.getProvider("app").getImmediate();this._storage=new Ae(Be),this._heartbeatsCachePromise=this._storage.read().then(tt=>(this._heartbeatsCache=tt,tt))}triggerHeartbeat(){var we=this;return(0,p.Z)(function*(){var Be;const mt=we.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),wt=Zt();if(null==(null===(Be=we._heartbeatsCache)||void 0===Be?void 0:Be.heartbeats)&&(we._heartbeatsCache=yield we._heartbeatsCachePromise),we._heartbeatsCache.lastSentHeartbeatDate!==wt&&!we._heartbeatsCache.heartbeats.some(sn=>sn.date===wt))return we._heartbeatsCache.heartbeats.push({date:wt,agent:mt}),we._heartbeatsCache.heartbeats=we._heartbeatsCache.heartbeats.filter(sn=>{const Jn=new Date(sn.date).valueOf();return Date.now()-Jn<=2592e6}),we._storage.overwrite(we._heartbeatsCache)})()}getHeartbeatsHeader(){var we=this;return(0,p.Z)(function*(){var Be;if(null===we._heartbeatsCache&&(yield we._heartbeatsCachePromise),null==(null===(Be=we._heartbeatsCache)||void 0===Be?void 0:Be.heartbeats)||0===we._heartbeatsCache.heartbeats.length)return"";const tt=Zt(),{heartbeatsToSend:mt,unsentEntries:wt}=function Cn(ye,we=1024){const Be=[];let tt=ye.slice();for(const mt of ye){const wt=Be.find(sn=>sn.agent===mt.agent);if(wt){if(wt.dates.push(mt.date),Ie(Be)>we){wt.dates.pop();break}}else if(Be.push({agent:mt.agent,dates:[mt.date]}),Ie(Be)>we){Be.pop();break}tt=tt.slice(1)}return{heartbeatsToSend:Be,unsentEntries:tt}}(we._heartbeatsCache.heartbeats),sn=(0,Te.L)(JSON.stringify({version:2,heartbeats:mt}));return we._heartbeatsCache.lastSentHeartbeatDate=tt,wt.length>0?(we._heartbeatsCache.heartbeats=wt,yield we._storage.overwrite(we._heartbeatsCache)):(we._heartbeatsCache.heartbeats=[],we._storage.overwrite(we._heartbeatsCache)),sn})()}}function Zt(){return(new Date).toISOString().substring(0,10)}class Ae{constructor(we){this.app=we,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,p.Z)(function*(){return!!(0,Te.hl)()&&(0,Te.eu)().then(()=>!0).catch(()=>!1)})()}read(){var we=this;return(0,p.Z)(function*(){return(yield we._canUseIndexedDBPromise)&&(yield function N(ye){return L.apply(this,arguments)}(we.app))||{heartbeats:[]}})()}overwrite(we){var Be=this;return(0,p.Z)(function*(){var tt;if(yield Be._canUseIndexedDBPromise){const wt=yield Be.read();return he(Be.app,{lastSentHeartbeatDate:null!==(tt=we.lastSentHeartbeatDate)&&void 0!==tt?tt:wt.lastSentHeartbeatDate,heartbeats:we.heartbeats})}})()}add(we){var Be=this;return(0,p.Z)(function*(){var tt;if(yield Be._canUseIndexedDBPromise){const wt=yield Be.read();return he(Be.app,{lastSentHeartbeatDate:null!==(tt=we.lastSentHeartbeatDate)&&void 0!==tt?tt:wt.lastSentHeartbeatDate,heartbeats:[...wt.heartbeats,...we.heartbeats]})}})()}}function Ie(ye){return(0,Te.L)(JSON.stringify({version:2,heartbeats:ye})).length}!function xe(ye){At(new V.wA("platform-logger",we=>new bt(we),"PRIVATE")),At(new V.wA("heartbeat",we=>new rn(we),"PRIVATE")),Jr(Gt,"0.9.23",ye),Jr(Gt,"0.9.23","esm2017"),Jr("fire-js","")}("")},4537:(xt,je,U)=>{U.d(je,{H0:()=>ue,wA:()=>b});var p=U(5861),V=U(9058);class b{constructor(ee,oe,Ee){this.name=ee,this.instanceFactory=oe,this.type=Ee,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ee){return this.instantiationMode=ee,this}setMultipleInstances(ee){return this.multipleInstances=ee,this}setServiceProps(ee){return this.serviceProps=ee,this}setInstanceCreatedCallback(ee){return this.onInstanceCreated=ee,this}}const Te="[DEFAULT]";class ${constructor(ee,oe){this.name=ee,this.container=oe,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ee){const oe=this.normalizeInstanceIdentifier(ee);if(!this.instancesDeferred.has(oe)){const Ee=new V.BH;if(this.instancesDeferred.set(oe,Ee),this.isInitialized(oe)||this.shouldAutoInitialize())try{const ze=this.getOrInitializeService({instanceIdentifier:oe});ze&&Ee.resolve(ze)}catch{}}return this.instancesDeferred.get(oe).promise}getImmediate(ee){var oe;const Ee=this.normalizeInstanceIdentifier(ee?.identifier),ze=null!==(oe=ee?.optional)&&void 0!==oe&&oe;if(!this.isInitialized(Ee)&&!this.shouldAutoInitialize()){if(ze)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ee})}catch(Ze){if(ze)return null;throw Ze}}getComponent(){return this.component}setComponent(ee){if(ee.name!==this.name)throw Error(`Mismatching Component ${ee.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ee,this.shouldAutoInitialize()){if(function q(de){return"EAGER"===de.instantiationMode}(ee))try{this.getOrInitializeService({instanceIdentifier:Te})}catch{}for(const[oe,Ee]of this.instancesDeferred.entries()){const ze=this.normalizeInstanceIdentifier(oe);try{const Ze=this.getOrInitializeService({instanceIdentifier:ze});Ee.resolve(Ze)}catch{}}}}clearInstance(ee=Te){this.instancesDeferred.delete(ee),this.instancesOptions.delete(ee),this.instances.delete(ee)}delete(){var ee=this;return(0,p.Z)(function*(){const oe=Array.from(ee.instances.values());yield Promise.all([...oe.filter(Ee=>"INTERNAL"in Ee).map(Ee=>Ee.INTERNAL.delete()),...oe.filter(Ee=>"_delete"in Ee).map(Ee=>Ee._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ee=Te){return this.instances.has(ee)}getOptions(ee=Te){return this.instancesOptions.get(ee)||{}}initialize(ee={}){const{options:oe={}}=ee,Ee=this.normalizeInstanceIdentifier(ee.instanceIdentifier);if(this.isInitialized(Ee))throw Error(`${this.name}(${Ee}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ze=this.getOrInitializeService({instanceIdentifier:Ee,options:oe});for(const[Ze,ut]of this.instancesDeferred.entries())Ee===this.normalizeInstanceIdentifier(Ze)&&ut.resolve(ze);return ze}onInit(ee,oe){var Ee;const ze=this.normalizeInstanceIdentifier(oe),Ze=null!==(Ee=this.onInitCallbacks.get(ze))&&void 0!==Ee?Ee:new Set;Ze.add(ee),this.onInitCallbacks.set(ze,Ze);const ut=this.instances.get(ze);return ut&&ee(ut,ze),()=>{Ze.delete(ee)}}invokeOnInitCallbacks(ee,oe){const Ee=this.onInitCallbacks.get(oe);if(Ee)for(const ze of Ee)try{ze(ee,oe)}catch{}}getOrInitializeService({instanceIdentifier:ee,options:oe={}}){let Ee=this.instances.get(ee);if(!Ee&&this.component&&(Ee=this.component.instanceFactory(this.container,{instanceIdentifier:(de=ee,de===Te?void 0:de),options:oe}),this.instances.set(ee,Ee),this.instancesOptions.set(ee,oe),this.invokeOnInitCallbacks(Ee,ee),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ee,Ee)}catch{}var de;return Ee||null}normalizeInstanceIdentifier(ee=Te){return this.component?this.component.multipleInstances?ee:Te:ee}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ue{constructor(ee){this.name=ee,this.providers=new Map}addComponent(ee){const oe=this.getProvider(ee.name);if(oe.isComponentSet())throw new Error(`Component ${ee.name} has already been registered with ${this.name}`);oe.setComponent(ee)}addOrOverwriteComponent(ee){this.getProvider(ee.name).isComponentSet()&&this.providers.delete(ee.name),this.addComponent(ee)}getProvider(ee){if(this.providers.has(ee))return this.providers.get(ee);const oe=new $(ee,this);return this.providers.set(ee,oe),oe}getProviders(){return Array.from(this.providers.values())}}},7879:(xt,je,U)=>{U.d(je,{Am:()=>de,Ub:()=>ue,Yd:()=>q,in:()=>V});const p=[];var V=function(ee){return ee[ee.DEBUG=0]="DEBUG",ee[ee.VERBOSE=1]="VERBOSE",ee[ee.INFO=2]="INFO",ee[ee.WARN=3]="WARN",ee[ee.ERROR=4]="ERROR",ee[ee.SILENT=5]="SILENT",ee}(V||{});const b={debug:V.DEBUG,verbose:V.VERBOSE,info:V.INFO,warn:V.WARN,error:V.ERROR,silent:V.SILENT},Te=V.INFO,$={[V.DEBUG]:"log",[V.VERBOSE]:"log",[V.INFO]:"info",[V.WARN]:"warn",[V.ERROR]:"error"},J=(ee,oe,...Ee)=>{if(oe<ee.logLevel)return;const ze=(new Date).toISOString(),Ze=$[oe];if(!Ze)throw new Error(`Attempted to log a message with an invalid logType (value: ${oe})`);console[Ze](`[${ze}]  ${ee.name}:`,...Ee)};class q{constructor(oe){this.name=oe,this._logLevel=Te,this._logHandler=J,this._userLogHandler=null,p.push(this)}get logLevel(){return this._logLevel}set logLevel(oe){if(!(oe in V))throw new TypeError(`Invalid value "${oe}" assigned to \`logLevel\``);this._logLevel=oe}setLogLevel(oe){this._logLevel="string"==typeof oe?b[oe]:oe}get logHandler(){return this._logHandler}set logHandler(oe){if("function"!=typeof oe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=oe}get userLogHandler(){return this._userLogHandler}set userLogHandler(oe){this._userLogHandler=oe}debug(...oe){this._userLogHandler&&this._userLogHandler(this,V.DEBUG,...oe),this._logHandler(this,V.DEBUG,...oe)}log(...oe){this._userLogHandler&&this._userLogHandler(this,V.VERBOSE,...oe),this._logHandler(this,V.VERBOSE,...oe)}info(...oe){this._userLogHandler&&this._userLogHandler(this,V.INFO,...oe),this._logHandler(this,V.INFO,...oe)}warn(...oe){this._userLogHandler&&this._userLogHandler(this,V.WARN,...oe),this._logHandler(this,V.WARN,...oe)}error(...oe){this._userLogHandler&&this._userLogHandler(this,V.ERROR,...oe),this._logHandler(this,V.ERROR,...oe)}}function ue(ee){p.forEach(oe=>{oe.setLogLevel(ee)})}function de(ee,oe){for(const Ee of p){let ze=null;oe&&oe.level&&(ze=b[oe.level]),Ee.userLogHandler=null===ee?null:(Ze,ut,...Xe)=>{const nt=Xe.map(rt=>{if(null==rt)return null;if("string"==typeof rt)return rt;if("number"==typeof rt||"boolean"==typeof rt)return rt.toString();if(rt instanceof Error)return rt.message;try{return JSON.stringify(rt)}catch{return null}}).filter(rt=>rt).join(" ");ut>=(ze??Ze.logLevel)&&ee({level:V[ut].toLowerCase(),message:nt,args:Xe,type:Ze.name})}}}},7142:(xt,je,U)=>{U.d(je,{Z:()=>p.Z});var p=U(3106);p.Z.registerVersion("firebase","10.6.0","app-compat")},6365:(xt,je,U)=>{U.r(je);var p=U(5861),V=U(3106),b=U(4562),Te=U(9058),q=(U(534),U(7879),U(4537));function ue(){return window}function oe(){return oe=(0,p.Z)(function*(j,N,L){var he;const{BuildInfo:Le}=ue();(0,b.au)(N.sessionId,"AuthEvent did not contain a session ID");const ot=yield function rt(j){return Ct.apply(this,arguments)}(N.sessionId),Nt={};return(0,b.av)()?Nt.ibi=Le.packageName:(0,b.aw)()?Nt.apn=Le.packageName:(0,b.ax)(j,"operation-not-supported-in-this-environment"),Le.displayName&&(Nt.appDisplayName=Le.displayName),Nt.sessionId=ot,(0,b.ay)(j,L,N.type,void 0,null!==(he=N.eventId)&&void 0!==he?he:void 0,Nt)}),oe.apply(this,arguments)}function ze(){return(ze=(0,p.Z)(function*(j){const{BuildInfo:N}=ue(),L={};(0,b.av)()?L.iosBundleId=N.packageName:(0,b.aw)()?L.androidPackageName=N.packageName:(0,b.ax)(j,"operation-not-supported-in-this-environment"),yield(0,b.az)(j,L)})).apply(this,arguments)}function Xe(){return(Xe=(0,p.Z)(function*(j,N,L){const{cordova:he}=ue();let Le=()=>{};try{yield new Promise((ot,Nt)=>{let _t=null;function rn(){var Ae;ot();const Ie=null===(Ae=he.plugins.browsertab)||void 0===Ae?void 0:Ae.close;"function"==typeof Ie&&Ie(),"function"==typeof L?.close&&L.close()}function Zt(){_t||(_t=window.setTimeout(()=>{Nt((0,b.aB)(j,"redirect-cancelled-by-user"))},2e3))}function Cn(){"visible"===document?.visibilityState&&Zt()}N.addPassiveListener(rn),document.addEventListener("resume",Zt,!1),(0,b.aw)()&&document.addEventListener("visibilitychange",Cn,!1),Le=()=>{N.removePassiveListener(rn),document.removeEventListener("resume",Zt,!1),document.removeEventListener("visibilitychange",Cn,!1),_t&&window.clearTimeout(_t)}})}finally{Le()}})).apply(this,arguments)}function Ct(){return(Ct=(0,p.Z)(function*(j){const N=function ct(j){if((0,b.au)(/[0-9a-zA-Z]+/.test(j),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(j);const N=new ArrayBuffer(j.length),L=new Uint8Array(N);for(let he=0;he<j.length;he++)L[he]=j.charCodeAt(he);return L}(j),L=yield crypto.subtle.digest("SHA-256",N);return Array.from(new Uint8Array(L)).map(Le=>Le.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Me extends b.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(N=>{this.resolveInialized=N})}addPassiveListener(N){this.passiveListeners.add(N)}removePassiveListener(N){this.passiveListeners.delete(N)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(N){return this.resolveInialized(),this.passiveListeners.forEach(L=>L(N)),super.onEvent(N)}initialized(){var N=this;return(0,p.Z)(function*(){yield N.initPromise})()}}function Ce(j){return ve.apply(this,arguments)}function ve(){return(ve=(0,p.Z)(function*(j){const N=yield bt()._get($e(j));return N&&(yield bt()._remove($e(j))),N})).apply(this,arguments)}function lt(){const j=[];for(let L=0;L<20;L++){const he=Math.floor(62*Math.random());j.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(he))}return j.join("")}function bt(){return(0,b.aE)(b.b)}function $e(j){return(0,b.aF)("authEvent",j.config.apiKey,j.name)}function gn(j){if(!j?.includes("?"))return{};const[N,...L]=j.split("?");return(0,Te.zd)(L.join("?"))}const Se=class kt{constructor(){this._redirectPersistence=b.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=b.aG,this._overrideRedirectResult=b.aH}_initialize(N){var L=this;return(0,p.Z)(function*(){const he=N._key();let Le=L.eventManagers.get(he);return Le||(Le=new Me(N),L.eventManagers.set(he,Le),L.attachCallbackListeners(N,Le)),Le})()}_openPopup(N){(0,b.ax)(N,"operation-not-supported-in-this-environment")}_openRedirect(N,L,he,Le){var ot=this;return(0,p.Z)(function*(){!function nt(j){var N,L,he,Le,ot,Nt,_t,rn,Zt,Cn;const Ae=ue();(0,b.aC)("function"==typeof(null===(N=Ae?.universalLinks)||void 0===N?void 0:N.subscribe),j,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,b.aC)(typeof(null===(L=Ae?.BuildInfo)||void 0===L?void 0:L.packageName)<"u",j,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,b.aC)("function"==typeof(null===(ot=null===(Le=null===(he=Ae?.cordova)||void 0===he?void 0:he.plugins)||void 0===Le?void 0:Le.browsertab)||void 0===ot?void 0:ot.openUrl),j,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,b.aC)("function"==typeof(null===(rn=null===(_t=null===(Nt=Ae?.cordova)||void 0===Nt?void 0:Nt.plugins)||void 0===_t?void 0:_t.browsertab)||void 0===rn?void 0:rn.isAvailable),j,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,b.aC)("function"==typeof(null===(Cn=null===(Zt=Ae?.cordova)||void 0===Zt?void 0:Zt.InAppBrowser)||void 0===Cn?void 0:Cn.open),j,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(N);const Nt=yield ot._initialize(N);yield Nt.initialized(),Nt.resetRedirect(),(0,b.aI)(),yield ot._originValidation(N);const _t=function me(j,N,L=null){return{type:N,eventId:L,urlResponse:null,sessionId:lt(),postBody:null,tenantId:j.tenantId,error:(0,b.aB)(j,"no-auth-event")}}(N,he,Le);yield function ge(j,N){return bt()._set($e(j),N)}(N,_t);const rn=yield function ee(j,N,L){return oe.apply(this,arguments)}(N,_t,L),Zt=yield function Ze(j){const{cordova:N}=ue();return new Promise(L=>{N.plugins.browsertab.isAvailable(he=>{let Le=null;he?N.plugins.browsertab.openUrl(j):Le=N.InAppBrowser.open(j,(0,b.aA)()?"_blank":"_system","location=yes"),L(Le)})})}(rn);return function ut(j,N,L){return Xe.apply(this,arguments)}(N,Nt,Zt)})()}_isIframeWebStorageSupported(N,L){throw new Error("Method not implemented.")}_originValidation(N){const L=N._key();return this.originValidationPromises[L]||(this.originValidationPromises[L]=function Ee(j){return ze.apply(this,arguments)}(N)),this.originValidationPromises[L]}attachCallbackListeners(N,L){const{universalLinks:he,handleOpenURL:Le,BuildInfo:ot}=ue(),Nt=setTimeout((0,p.Z)(function*(){yield Ce(N),L.onEvent(Oe())}),500),_t=function(){var Cn=(0,p.Z)(function*(Ae){clearTimeout(Nt);const Ie=yield Ce(N);let xe=null;Ie&&Ae?.url&&(xe=function fe(j,N){var L,he;const Le=function St(j){const N=gn(j),L=N.link?decodeURIComponent(N.link):void 0,he=gn(L).link,Le=N.deep_link_id?decodeURIComponent(N.deep_link_id):void 0;return gn(Le).link||Le||he||L||j}(N);if(Le.includes("/__/auth/callback")){const ot=gn(Le),Nt=ot.firebaseError?function Gt(j){try{return JSON.parse(j)}catch{return null}}(decodeURIComponent(ot.firebaseError)):null,_t=null===(he=null===(L=Nt?.code)||void 0===L?void 0:L.split("auth/"))||void 0===he?void 0:he[1],rn=_t?(0,b.aB)(_t):null;return rn?{type:j.type,eventId:j.eventId,tenantId:j.tenantId,error:rn,urlResponse:null,sessionId:null,postBody:null}:{type:j.type,eventId:j.eventId,tenantId:j.tenantId,sessionId:j.sessionId,urlResponse:Le,postBody:null}}return null}(Ie,Ae.url)),L.onEvent(xe||Oe())});return function(Ie){return Cn.apply(this,arguments)}}();typeof he<"u"&&"function"==typeof he.subscribe&&he.subscribe(null,_t);const rn=Le,Zt=`${ot.packageName.toLowerCase()}://`;ue().handleOpenURL=function(){var Cn=(0,p.Z)(function*(Ae){if(Ae.toLowerCase().startsWith(Zt)&&_t({url:Ae}),"function"==typeof rn)try{rn(Ae)}catch(Ie){console.error(Ie)}});return function(Ae){return Cn.apply(this,arguments)}}()}};function Oe(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,b.aB)("no-auth-event")}}function gt(){var j;return(null===(j=self?.location)||void 0===j?void 0:j.protocol)||null}function Bn(j=(0,Te.z$)()){return!("file:"!==gt()&&"ionic:"!==gt()&&"capacitor:"!==gt()||!j.toLowerCase().match(/iphone|ipad|ipod|android/))}function zn(){try{const j=self.localStorage,N=b.aN();if(j)return j.setItem(N,"1"),j.removeItem(N),!function hn(j=(0,Te.z$)()){return function xn(){return(0,Te.w1)()&&11===document?.documentMode}()||function dn(j=(0,Te.z$)()){return/Edge\/\d+/.test(j)}(j)}()||(0,Te.hl)()}catch{return On()&&(0,Te.hl)()}return!1}function On(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function An(){return(function It(){return"http:"===gt()||"https:"===gt()}()||(0,Te.ru)()||Bn())&&!function nn(){return(0,Te.b$)()||(0,Te.UG)()}()&&zn()&&!On()}function Vt(){return Bn()&&typeof document<"u"}function yr(){return(yr=(0,p.Z)(function*(){return!!Vt()&&new Promise(j=>{const N=setTimeout(()=>{j(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(N),j(!0)})})})).apply(this,arguments)}const Hn={LOCAL:"local",NONE:"none",SESSION:"session"},Mr=b.aC,er="persistence";function mn(j){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,p.Z)(function*(j){yield j._initializationPromise;const N=vr(),L=b.aF(er,j.config.apiKey,j.name);N&&N.setItem(L,j._getPersistence())})).apply(this,arguments)}function vr(){var j;try{return(null===(j=function kn(){return typeof window<"u"?window:null}())||void 0===j?void 0:j.sessionStorage)||null}catch{return null}}const Ye=b.aC;class At{constructor(){this.browserResolver=b.aE(b.k),this.cordovaResolver=b.aE(Se),this.underlyingResolver=null,this._redirectPersistence=b.a,this._completeRedirectFn=b.aG,this._overrideRedirectResult=b.aH}_initialize(N){var L=this;return(0,p.Z)(function*(){return yield L.selectUnderlyingResolver(),L.assertedUnderlyingResolver._initialize(N)})()}_openPopup(N,L,he,Le){var ot=this;return(0,p.Z)(function*(){return yield ot.selectUnderlyingResolver(),ot.assertedUnderlyingResolver._openPopup(N,L,he,Le)})()}_openRedirect(N,L,he,Le){var ot=this;return(0,p.Z)(function*(){return yield ot.selectUnderlyingResolver(),ot.assertedUnderlyingResolver._openRedirect(N,L,he,Le)})()}_isIframeWebStorageSupported(N,L){this.assertedUnderlyingResolver._isIframeWebStorageSupported(N,L)}_originValidation(N){return this.assertedUnderlyingResolver._originValidation(N)}get _shouldInitProactively(){return Vt()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ye(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var N=this;return(0,p.Z)(function*(){if(N.underlyingResolver)return;const L=yield function Nn(){return yr.apply(this,arguments)}();N.underlyingResolver=L?N.cordovaResolver:N.browserResolver})()}}function De(j){return j.unwrap()}function at(j){return Mt(j)}function Mt(j){const{_tokenResponse:N}=j instanceof Te.ZR?j.customData:j;if(!N)return null;if(!(j instanceof Te.ZR)&&"temporaryProof"in N&&"phoneNumber"in N)return b.P.credentialFromResult(j);const L=N.providerId;if(!L||L===b.p.PASSWORD)return null;let he;switch(L){case b.p.GOOGLE:he=b.X;break;case b.p.FACEBOOK:he=b.W;break;case b.p.GITHUB:he=b.Y;break;case b.p.TWITTER:he=b.$;break;default:const{oauthIdToken:Le,oauthAccessToken:ot,oauthTokenSecret:Nt,pendingToken:_t,nonce:rn}=N;return ot||Nt||Le||_t?_t?L.startsWith("saml.")?b.aQ._create(L,_t):b.N._fromParams({providerId:L,signInMethod:L,pendingToken:_t,idToken:Le,accessToken:ot}):new b.Z(L).credential({idToken:Le,accessToken:ot,rawNonce:rn}):null}return j instanceof Te.ZR?he.credentialFromError(j):he.credentialFromResult(j)}function cn(j,N){return N.catch(L=>{throw L instanceof Te.ZR&&function Ot(j,N){var L;const he=null===(L=N.customData)||void 0===L?void 0:L._tokenResponse;if("auth/multi-factor-auth-required"===N?.code)N.resolver=new Qr(j,b.as(j,N));else if(he){const Le=Mt(N),ot=N;Le&&(ot.credential=Le,ot.tenantId=he.tenantId||void 0,ot.email=he.email||void 0,ot.phoneNumber=he.phoneNumber||void 0)}}(j,L),L}).then(L=>{const Le=L.user;return{operationType:L.operationType,credential:at(L),additionalUserInfo:b.aq(L),user:Gn.getOrCreate(Le)}})}function wn(j,N){return xr.apply(this,arguments)}function xr(){return(xr=(0,p.Z)(function*(j,N){const L=yield N;return{verificationId:L.verificationId,confirm:he=>cn(j,L.confirm(he))}})).apply(this,arguments)}class Qr{constructor(N,L){this.resolver=L,this.auth=function Ge(j){return j.wrapped()}(N)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(N){return cn(De(this.auth),this.resolver.resolveSignIn(N))}}class Gn{constructor(N){this._delegate=N,this.multiFactor=b.at(N)}static getOrCreate(N){return Gn.USER_MAP.has(N)||Gn.USER_MAP.set(N,new Gn(N)),Gn.USER_MAP.get(N)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(N){return this._delegate.getIdTokenResult(N)}getIdToken(N){return this._delegate.getIdToken(N)}linkAndRetrieveDataWithCredential(N){return this.linkWithCredential(N)}linkWithCredential(N){var L=this;return(0,p.Z)(function*(){return cn(L.auth,b.a2(L._delegate,N))})()}linkWithPhoneNumber(N,L){var he=this;return(0,p.Z)(function*(){return wn(he.auth,b.l(he._delegate,N,L))})()}linkWithPopup(N){var L=this;return(0,p.Z)(function*(){return cn(L.auth,b.d(L._delegate,N,At))})()}linkWithRedirect(N){var L=this;return(0,p.Z)(function*(){return yield mn(b.aJ(L.auth)),b.g(L._delegate,N,At)})()}reauthenticateAndRetrieveDataWithCredential(N){return this.reauthenticateWithCredential(N)}reauthenticateWithCredential(N){var L=this;return(0,p.Z)(function*(){return cn(L.auth,b.a3(L._delegate,N))})()}reauthenticateWithPhoneNumber(N,L){return wn(this.auth,b.r(this._delegate,N,L))}reauthenticateWithPopup(N){return cn(this.auth,b.e(this._delegate,N,At))}reauthenticateWithRedirect(N){var L=this;return(0,p.Z)(function*(){return yield mn(b.aJ(L.auth)),b.h(L._delegate,N,At)})()}sendEmailVerification(N){return b.ag(this._delegate,N)}unlink(N){var L=this;return(0,p.Z)(function*(){return yield b.ap(L._delegate,N),L})()}updateEmail(N){return b.al(this._delegate,N)}updatePassword(N){return b.am(this._delegate,N)}updatePhoneNumber(N){return b.u(this._delegate,N)}updateProfile(N){return b.ak(this._delegate,N)}verifyBeforeUpdateEmail(N,L){return b.ah(this._delegate,N,L)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Gn.USER_MAP=new WeakMap;const ir=b.aC;let Vr=(()=>{class j{constructor(L,he){if(this.app=L,he.isInitialized())return this._delegate=he.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Le}=L.options;ir(Le,"invalid-api-key",{appName:L.name}),ir(Le,"invalid-api-key",{appName:L.name});const ot=typeof window<"u"?At:void 0;this._delegate=he.initialize({options:{persistence:$r(Le,L.name),popupRedirectResolver:ot}}),this._delegate._updateErrorMap(b.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Gn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(L){this._delegate.languageCode=L}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(L){this._delegate.tenantId=L}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(L,he){b.K(this._delegate,L,he)}applyActionCode(L){return b.a7(this._delegate,L)}checkActionCode(L){return b.a8(this._delegate,L)}confirmPasswordReset(L,he){return b.a6(this._delegate,L,he)}createUserWithEmailAndPassword(L,he){var Le=this;return(0,p.Z)(function*(){return cn(Le._delegate,b.aa(Le._delegate,L,he))})()}fetchProvidersForEmail(L){return this.fetchSignInMethodsForEmail(L)}fetchSignInMethodsForEmail(L){return b.af(this._delegate,L)}isSignInWithEmailLink(L){return b.ad(this._delegate,L)}getRedirectResult(){var L=this;return(0,p.Z)(function*(){ir(An(),L._delegate,"operation-not-supported-in-this-environment");const he=yield b.j(L._delegate,At);return he?cn(L._delegate,Promise.resolve(he)):{credential:null,user:null}})()}addFrameworkForLogging(L){!function qe(j,N){(0,b.aJ)(j)._logFramework(N)}(this._delegate,L)}onAuthStateChanged(L,he,Le){const{next:ot,error:Nt,complete:_t}=Jr(L,he,Le);return this._delegate.onAuthStateChanged(ot,Nt,_t)}onIdTokenChanged(L,he,Le){const{next:ot,error:Nt,complete:_t}=Jr(L,he,Le);return this._delegate.onIdTokenChanged(ot,Nt,_t)}sendSignInLinkToEmail(L,he){return b.ac(this._delegate,L,he)}sendPasswordResetEmail(L,he){return b.a5(this._delegate,L,he||void 0)}setPersistence(L){var he=this;return(0,p.Z)(function*(){let Le;switch(function Xt(j,N){Mr(Object.values(Hn).includes(N),j,"invalid-persistence-type"),(0,Te.b$)()?Mr(N!==Hn.SESSION,j,"unsupported-persistence-type"):(0,Te.UG)()?Mr(N===Hn.NONE,j,"unsupported-persistence-type"):On()?Mr(N===Hn.NONE||N===Hn.LOCAL&&(0,Te.hl)(),j,"unsupported-persistence-type"):Mr(N===Hn.NONE||zn(),j,"unsupported-persistence-type")}(he._delegate,L),L){case Hn.SESSION:Le=b.a;break;case Hn.LOCAL:Le=(yield b.aE(b.i)._isAvailable())?b.i:b.b;break;case Hn.NONE:Le=b.U;break;default:return b.ax("argument-error",{appName:he._delegate.name})}return he._delegate.setPersistence(Le)})()}signInAndRetrieveDataWithCredential(L){return this.signInWithCredential(L)}signInAnonymously(){return cn(this._delegate,b.a0(this._delegate))}signInWithCredential(L){return cn(this._delegate,b.a1(this._delegate,L))}signInWithCustomToken(L){return cn(this._delegate,b.a4(this._delegate,L))}signInWithEmailAndPassword(L,he){return cn(this._delegate,b.ab(this._delegate,L,he))}signInWithEmailLink(L,he){return cn(this._delegate,b.ae(this._delegate,L,he))}signInWithPhoneNumber(L,he){return wn(this._delegate,b.s(this._delegate,L,he))}signInWithPopup(L){var he=this;return(0,p.Z)(function*(){return ir(An(),he._delegate,"operation-not-supported-in-this-environment"),cn(he._delegate,b.c(he._delegate,L,At))})()}signInWithRedirect(L){var he=this;return(0,p.Z)(function*(){return ir(An(),he._delegate,"operation-not-supported-in-this-environment"),yield mn(he._delegate),b.f(he._delegate,L,At)})()}updateCurrentUser(L){return this._delegate.updateCurrentUser(L)}verifyPasswordResetCode(L){return b.a9(this._delegate,L)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return j.Persistence=Hn,j})();function Jr(j,N,L){let he=j;"function"!=typeof j&&({next:he,error:N,complete:L}=j);const Le=he;return{next:Nt=>Le(Nt&&Gn.getOrCreate(Nt)),error:N,complete:L}}function $r(j,N){const L=function Zn(j,N){const L=vr();if(!L)return[];const he=b.aF(er,j,N);switch(L.getItem(he)){case Hn.NONE:return[b.U];case Hn.LOCAL:return[b.i,b.a];case Hn.SESSION:return[b.a];default:return[]}}(j,N);if(typeof self<"u"&&!L.includes(b.i)&&L.push(b.i),typeof window<"u")for(const he of[b.b,b.a])L.includes(he)||L.push(he);return L.includes(b.U)||L.push(b.U),L}class Or{constructor(){this.providerId="phone",this._delegate=new b.P(De(V.Z.auth()))}static credential(N,L){return b.P.credential(N,L)}verifyPhoneNumber(N,L){return this._delegate.verifyPhoneNumber(N,L)}unwrap(){return this._delegate}}Or.PHONE_SIGN_IN_METHOD=b.P.PHONE_SIGN_IN_METHOD,Or.PROVIDER_ID=b.P.PROVIDER_ID;const Tr=b.aC;class Xr{constructor(N,L,he=V.Z.app()){var Le;Tr(null===(Le=he.options)||void 0===Le?void 0:Le.apiKey,"invalid-api-key",{appName:he.name}),this._delegate=new b.R(he.auth(),N,L),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function re(j){j.INTERNAL.registerComponent(new q.wA("auth-compat",N=>{const L=N.getProvider("app-compat").getImmediate(),he=N.getProvider("auth");return new Vr(L,he)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:b.A.EMAIL_SIGNIN,PASSWORD_RESET:b.A.PASSWORD_RESET,RECOVER_EMAIL:b.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:b.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:b.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:b.A.VERIFY_EMAIL}},EmailAuthProvider:b.V,FacebookAuthProvider:b.W,GithubAuthProvider:b.Y,GoogleAuthProvider:b.X,OAuthProvider:b.Z,SAMLAuthProvider:b._,PhoneAuthProvider:Or,PhoneMultiFactorGenerator:b.m,RecaptchaVerifier:Xr,TwitterAuthProvider:b.$,Auth:Vr,AuthCredential:b.L,Error:Te.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),j.registerVersion("@firebase/auth-compat","0.4.9")}(V.Z)},5219:(xt,je,U)=>{U.d(je,{F0:()=>Ee,b4:()=>Ze,jx:()=>nt,m8:()=>rt});var p=U(5879),V=U(8645),b=U(6814);let ue=(()=>class ae{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static IN="in";static LESS_THAN="lt";static LESS_THAN_OR_EQUAL_TO="lte";static GREATER_THAN="gt";static GREATER_THAN_OR_EQUAL_TO="gte";static BETWEEN="between";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static DATE_IS="dateIs";static DATE_IS_NOT="dateIsNot";static DATE_BEFORE="dateBefore";static DATE_AFTER="dateAfter"})(),Ee=(()=>{class ae{clickSource=new V.x;clickObservable=this.clickSource.asObservable();add(me){me&&this.clickSource.next(me)}static \u0275fac=function(ge){return new(ge||ae)};static \u0275prov=p.Yz7({token:ae,factory:ae.\u0275fac,providedIn:"root"})}return ae})(),Ze=(()=>{class ae{ripple=!1;inputStyle="outlined";overlayOptions={};filterMatchModeOptions={text:[ue.STARTS_WITH,ue.CONTAINS,ue.NOT_CONTAINS,ue.ENDS_WITH,ue.EQUALS,ue.NOT_EQUALS],numeric:[ue.EQUALS,ue.NOT_EQUALS,ue.LESS_THAN,ue.LESS_THAN_OR_EQUAL_TO,ue.GREATER_THAN,ue.GREATER_THAN_OR_EQUAL_TO],date:[ue.DATE_IS,ue.DATE_IS_NOT,ue.DATE_BEFORE,ue.DATE_AFTER]};translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyFilterMessage:"No results found",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"{page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",previousPageLabel:"Previous Page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left"}};zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100};translationSource=new V.x;translationObserver=this.translationSource.asObservable();getTranslation(me){return this.translation[me]}setTranslation(me){this.translation={...this.translation,...me},this.translationSource.next(this.translation)}static \u0275fac=function(ge){return new(ge||ae)};static \u0275prov=p.Yz7({token:ae,factory:ae.\u0275fac,providedIn:"root"})}return ae})(),nt=(()=>{class ae{template;type;name;constructor(me){this.template=me}getType(){return this.name}static \u0275fac=function(ge){return new(ge||ae)(p.Y36(p.Rgc))};static \u0275dir=p.lG2({type:ae,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}})}return ae})(),rt=(()=>{class ae{static \u0275fac=function(ge){return new(ge||ae)};static \u0275mod=p.oAB({type:ae});static \u0275inj=p.cJS({imports:[b.ez]})}return ae})()},4713:(xt,je,U)=>{U.d(je,{s:()=>Te});var p=U(5879),V=U(2332);const b=["*"];let Te=(()=>{class ${label;spin=!1;styleClass;role;ariaLabel;ariaHidden;ngOnInit(){this.getAttributes()}getAttributes(){const q=V.gb.isEmpty(this.label);this.role=q?void 0:"img",this.ariaLabel=q?void 0:this.label,this.ariaHidden=q}getClassNames(){return`p-icon ${this.styleClass?this.styleClass+" ":""}${this.spin?"p-icon-spin":""}`}static \u0275fac=function(ue){return new(ue||$)};static \u0275cmp=p.Xpm({type:$,selectors:[["ng-component"]],hostAttrs:[1,"p-element","p-icon-wrapper"],inputs:{label:"label",spin:"spin",styleClass:"styleClass"},standalone:!0,features:[p.jDz],ngContentSelectors:b,decls:1,vars:0,template:function(ue,de){1&ue&&(p.F$t(),p.Hsn(0))},encapsulation:2,changeDetection:0})}return $})()},336:(xt,je,U)=>{U.d(je,{hJ:()=>fe});var p=U(6814),V=U(5879),b=U(5219),Te=U(4713),$=U(2332);let J=(()=>{class lt extends Te.s{pathId;ngOnInit(){this.pathId="url(#"+(0,$.Th)()+")"}static \u0275fac=function(){let $e;return function(St){return($e||($e=V.n5z(lt)))(St||lt)}}();static \u0275cmp=V.Xpm({type:lt,selectors:[["SpinnerIcon"]],standalone:!0,features:[V.qOj,V.jDz],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(Gt,St){1&Gt&&(V.O4$(),V.TgZ(0,"svg",0)(1,"g"),V._UZ(2,"path",1),V.qZA(),V.TgZ(3,"defs")(4,"clipPath",2),V._UZ(5,"rect",3),V.qZA()()()),2&Gt&&(V.Tol(St.getClassNames()),V.uIk("aria-label",St.ariaLabel)("aria-hidden",St.ariaHidden)("role",St.role),V.xp6(1),V.uIk("clip-path",St.pathId),V.xp6(3),V.Q6J("id",St.pathId))},encapsulation:2})}return lt})();var q=U(4480);let fe=(()=>{class lt{static \u0275fac=function(Gt){return new(Gt||lt)};static \u0275mod=V.oAB({type:lt});static \u0275inj=V.cJS({imports:[p.ez,q.T,b.m8,J,b.m8]})}return lt})()},4532:(xt,je,U)=>{U.d(je,{d:()=>Xe});var p=U(6814),V=U(5879),b=U(5219);let Xe=(()=>{class nt{static \u0275fac=function(ct){return new(ct||nt)};static \u0275mod=V.oAB({type:nt});static \u0275inj=V.cJS({imports:[p.ez,b.m8]})}return nt})()},5124:(xt,je,U)=>{U.d(je,{nD:()=>Me});var p=U(6814),V=U(5879),b=U(95),Te=U(5219),$=U(4713);let J=(()=>{class me extends $.s{static \u0275fac=function(){let Ce;return function(fe){return(Ce||(Ce=V.n5z(me)))(fe||me)}}();static \u0275cmp=V.Xpm({type:me,selectors:[["CheckIcon"]],standalone:!0,features:[V.qOj,V.jDz],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M4.86199 11.5948C4.78717 11.5923 4.71366 11.5745 4.64596 11.5426C4.57826 11.5107 4.51779 11.4652 4.46827 11.4091L0.753985 7.69483C0.683167 7.64891 0.623706 7.58751 0.580092 7.51525C0.536478 7.44299 0.509851 7.36177 0.502221 7.27771C0.49459 7.19366 0.506156 7.10897 0.536046 7.03004C0.565935 6.95111 0.613367 6.88 0.674759 6.82208C0.736151 6.76416 0.8099 6.72095 0.890436 6.69571C0.970973 6.67046 1.05619 6.66385 1.13966 6.67635C1.22313 6.68886 1.30266 6.72017 1.37226 6.76792C1.44186 6.81567 1.4997 6.8786 1.54141 6.95197L4.86199 10.2503L12.6397 2.49483C12.7444 2.42694 12.8689 2.39617 12.9932 2.40745C13.1174 2.41873 13.2343 2.47141 13.3251 2.55705C13.4159 2.64268 13.4753 2.75632 13.4938 2.87973C13.5123 3.00315 13.4888 3.1292 13.4271 3.23768L5.2557 11.4091C5.20618 11.4652 5.14571 11.5107 5.07801 11.5426C5.01031 11.5745 4.9368 11.5923 4.86199 11.5948Z","fill","currentColor"]],template:function(ve,fe){1&ve&&(V.O4$(),V.TgZ(0,"svg",0),V._UZ(1,"path",1),V.qZA()),2&ve&&(V.Tol(fe.getClassNames()),V.uIk("aria-label",fe.ariaLabel)("aria-hidden",fe.ariaHidden)("role",fe.role))},encapsulation:2})}return me})();var q=U(2332);const ue=["input"];function de(me,ge){if(1&me&&V._UZ(0,"span",10),2&me){const Ce=V.oxw(3);V.Q6J("ngClass",Ce.checkboxIcon),V.uIk("data-pc-section","icon")}}function ee(me,ge){1&me&&V._UZ(0,"CheckIcon",11),2&me&&(V.Q6J("styleClass","p-checkbox-icon"),V.uIk("data-pc-section","icon"))}function oe(me,ge){if(1&me&&(V.ynx(0),V.YNc(1,de,1,2,"span",8),V.YNc(2,ee,1,2,"CheckIcon",9),V.BQk()),2&me){const Ce=V.oxw(2);V.xp6(1),V.Q6J("ngIf",Ce.checkboxIcon),V.xp6(1),V.Q6J("ngIf",!Ce.checkboxIcon)}}function Ee(me,ge){}function ze(me,ge){1&me&&V.YNc(0,Ee,0,0,"ng-template")}function Ze(me,ge){if(1&me&&(V.TgZ(0,"span",12),V.YNc(1,ze,1,0,null,13),V.qZA()),2&me){const Ce=V.oxw(2);V.uIk("data-pc-section","icon"),V.xp6(1),V.Q6J("ngTemplateOutlet",Ce.checkboxIconTemplate)}}function ut(me,ge){if(1&me&&(V.ynx(0),V.YNc(1,oe,3,2,"ng-container",5),V.YNc(2,Ze,2,2,"span",7),V.BQk()),2&me){const Ce=V.oxw();V.xp6(1),V.Q6J("ngIf",!Ce.checkboxIconTemplate),V.xp6(1),V.Q6J("ngIf",Ce.checkboxIconTemplate)}}const Xe=function(me,ge,Ce){return{"p-checkbox-label":!0,"p-checkbox-label-active":me,"p-disabled":ge,"p-checkbox-label-focus":Ce}};function nt(me,ge){if(1&me){const Ce=V.EpF();V.TgZ(0,"label",14),V.NdJ("click",function(fe){V.CHM(Ce);const lt=V.oxw();return V.KtG(lt.onClick(fe))}),V._uU(1),V.qZA()}if(2&me){const Ce=V.oxw();V.Tol(Ce.labelStyleClass),V.Q6J("ngClass",V.kEZ(6,Xe,Ce.checked(),Ce.disabled,Ce.focused)),V.uIk("for",Ce.inputId)("data-pc-section","label"),V.xp6(1),V.hij(" ",Ce.label,"")}}const rt=function(me,ge,Ce){return{"p-checkbox p-component":!0,"p-checkbox-checked":me,"p-checkbox-disabled":ge,"p-checkbox-focused":Ce}},Ct=function(me,ge,Ce){return{"p-highlight":me,"p-disabled":ge,"p-focus":Ce}},ct={provide:b.JU,useExisting:(0,V.Gpc)(()=>ae),multi:!0};let ae=(()=>{class me{cd;value;name;disabled;binary;label;ariaLabelledBy;ariaLabel;tabindex;inputId;style;styleClass;labelStyleClass;formControl;checkboxIcon;readonly;required;trueValue=!0;falseValue=!1;onChange=new V.vpe;inputViewChild;templates;checkboxIconTemplate;model;onModelChange=()=>{};onModelTouched=()=>{};focused=!1;constructor(Ce){this.cd=Ce}ngAfterContentInit(){this.templates.forEach(Ce=>{"icon"===Ce.getType()&&(this.checkboxIconTemplate=Ce.template)})}onClick(Ce){if(!this.disabled&&!this.readonly){let ve;this.inputViewChild.nativeElement.focus(),this.binary?(ve=this.checked()?this.falseValue:this.trueValue,this.model=ve,this.onModelChange(ve)):(ve=this.checked()?this.model.filter(fe=>!q.gb.equals(fe,this.value)):this.model?[...this.model,this.value]:[this.value],this.onModelChange(ve),this.model=ve,this.formControl&&this.formControl.setValue(ve)),this.onChange.emit({checked:ve,originalEvent:Ce})}}onFocus(){this.focused=!0}onBlur(){this.focused=!1,this.onModelTouched()}writeValue(Ce){this.model=Ce,this.cd.markForCheck()}registerOnChange(Ce){this.onModelChange=Ce}registerOnTouched(Ce){this.onModelTouched=Ce}setDisabledState(Ce){this.disabled=Ce,this.cd.markForCheck()}checked(){return this.binary?this.model===this.trueValue:q.gb.contains(this.value,this.model)}static \u0275fac=function(ve){return new(ve||me)(V.Y36(V.sBO))};static \u0275cmp=V.Xpm({type:me,selectors:[["p-checkbox"]],contentQueries:function(ve,fe,lt){if(1&ve&&V.Suo(lt,Te.jx,4),2&ve){let bt;V.iGM(bt=V.CRH())&&(fe.templates=bt)}},viewQuery:function(ve,fe){if(1&ve&&V.Gf(ue,5),2&ve){let lt;V.iGM(lt=V.CRH())&&(fe.inputViewChild=lt.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",name:"name",disabled:"disabled",binary:"binary",label:"label",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",tabindex:"tabindex",inputId:"inputId",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass",formControl:"formControl",checkboxIcon:"checkboxIcon",readonly:"readonly",required:"required",trueValue:"trueValue",falseValue:"falseValue"},outputs:{onChange:"onChange"},features:[V._Bn([ct])],decls:7,vars:35,consts:[[3,"ngStyle","ngClass","click"],[1,"p-hidden-accessible"],["type","checkbox",3,"value","checked","disabled","readonly","focus","blur"],["input",""],[1,"p-checkbox-box",3,"ngClass"],[4,"ngIf"],[3,"class","ngClass","click",4,"ngIf"],["class","p-checkbox-icon",4,"ngIf"],["class","p-checkbox-icon",3,"ngClass",4,"ngIf"],[3,"styleClass",4,"ngIf"],[1,"p-checkbox-icon",3,"ngClass"],[3,"styleClass"],[1,"p-checkbox-icon"],[4,"ngTemplateOutlet"],[3,"ngClass","click"]],template:function(ve,fe){1&ve&&(V.TgZ(0,"div",0),V.NdJ("click",function(bt){return fe.onClick(bt)}),V.TgZ(1,"div",1)(2,"input",2,3),V.NdJ("focus",function(){return fe.onFocus()})("blur",function(){return fe.onBlur()}),V.qZA()(),V.TgZ(4,"div",4),V.YNc(5,ut,3,2,"ng-container",5),V.qZA()(),V.YNc(6,nt,2,10,"label",6)),2&ve&&(V.Tol(fe.styleClass),V.Q6J("ngStyle",fe.style)("ngClass",V.kEZ(27,rt,fe.checked(),fe.disabled,fe.focused)),V.uIk("data-pc-name","checkbox")("data-pc-section","root"),V.xp6(1),V.uIk("data-pc-section","hiddenInputWrapper")("data-p-hidden-accessible",!0),V.xp6(1),V.Q6J("value",fe.value)("checked",fe.checked())("disabled",fe.disabled)("readonly",fe.readonly),V.uIk("id",fe.inputId)("name",fe.name)("tabindex",fe.tabindex)("required",fe.required)("aria-labelledby",fe.ariaLabelledBy)("aria-label",fe.ariaLabel)("aria-checked",fe.checked())("data-pc-section","hiddenInput"),V.xp6(2),V.Q6J("ngClass",V.kEZ(31,Ct,fe.checked(),fe.disabled,fe.focused)),V.uIk("data-p-highlight",fe.checked())("data-p-disabled",fe.disabled)("data-p-focused",fe.focused)("data-pc-section","input"),V.xp6(1),V.Q6J("ngIf",fe.checked()),V.xp6(1),V.Q6J("ngIf",fe.label))},dependencies:function(){return[p.mk,p.O5,p.tP,p.PC,J]},styles:["@layer primeng{.p-checkbox{display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;vertical-align:bottom;position:relative}.p-checkbox-disabled{cursor:default!important;pointer-events:none}.p-checkbox-box{display:flex;justify-content:center;align-items:center}p-checkbox{display:inline-flex;vertical-align:bottom;align-items:center}.p-checkbox-label{line-height:1}}\n"],encapsulation:2,changeDetection:0})}return me})(),Me=(()=>{class me{static \u0275fac=function(ve){return new(ve||me)};static \u0275mod=V.oAB({type:me});static \u0275inj=V.cJS({imports:[p.ez,J,Te.m8]})}return me})()},2076:(xt,je,U)=>{U.d(je,{V:()=>V,p:()=>p});let p=(()=>{class b{static zindex=1e3;static calculatedScrollbarWidth=null;static calculatedScrollbarHeight=null;static browser;static addClass($,J){$&&J&&($.classList?$.classList.add(J):$.className+=" "+J)}static addMultipleClasses($,J){if($&&J)if($.classList){let q=J.trim().split(" ");for(let ue=0;ue<q.length;ue++)$.classList.add(q[ue])}else{let q=J.split(" ");for(let ue=0;ue<q.length;ue++)$.className+=" "+q[ue]}}static removeClass($,J){$&&J&&($.classList?$.classList.remove(J):$.className=$.className.replace(new RegExp("(^|\\b)"+J.split(" ").join("|")+"(\\b|$)","gi")," "))}static removeMultipleClasses($,J){$&&J&&[J].flat().filter(Boolean).forEach(q=>q.split(" ").forEach(ue=>this.removeClass($,ue)))}static hasClass($,J){return!(!$||!J)&&($.classList?$.classList.contains(J):new RegExp("(^| )"+J+"( |$)","gi").test($.className))}static siblings($){return Array.prototype.filter.call($.parentNode.children,function(J){return J!==$})}static find($,J){return Array.from($.querySelectorAll(J))}static findSingle($,J){return this.isElement($)?$.querySelector(J):null}static index($){let J=$.parentNode.childNodes,q=0;for(var ue=0;ue<J.length;ue++){if(J[ue]==$)return q;1==J[ue].nodeType&&q++}return-1}static indexWithinGroup($,J){let q=$.parentNode?$.parentNode.childNodes:[],ue=0;for(var de=0;de<q.length;de++){if(q[de]==$)return ue;q[de].attributes&&q[de].attributes[J]&&1==q[de].nodeType&&ue++}return-1}static appendOverlay($,J,q="self"){"self"!==q&&$&&J&&this.appendChild($,J)}static alignOverlay($,J,q="self",ue=!0){$&&J&&(ue&&($.style.minWidth=`${b.getOuterWidth(J)}px`),"self"===q?this.relativePosition($,J):this.absolutePosition($,J))}static relativePosition($,J){const q=ct=>{if(ct)return"relative"===getComputedStyle(ct).getPropertyValue("position")?ct:q(ct.parentElement)},ue=$.offsetParent?{width:$.offsetWidth,height:$.offsetHeight}:this.getHiddenElementDimensions($),de=J.offsetHeight,ee=J.getBoundingClientRect(),oe=this.getWindowScrollTop(),Ee=this.getWindowScrollLeft(),ze=this.getViewport(),ut=q($)?.getBoundingClientRect()||{top:-1*oe,left:-1*Ee};let Xe,nt;ee.top+de+ue.height>ze.height?(Xe=ee.top-ut.top-ue.height,$.style.transformOrigin="bottom",ee.top+Xe<0&&(Xe=-1*ee.top)):(Xe=de+ee.top-ut.top,$.style.transformOrigin="top");const rt=ee.left+ue.width-ze.width;nt=ue.width>ze.width?-1*(ee.left-ut.left):rt>0?ee.left-ut.left-rt:ee.left-ut.left,$.style.top=Xe+"px",$.style.left=nt+"px"}static absolutePosition($,J){const q=$.offsetParent?{width:$.offsetWidth,height:$.offsetHeight}:this.getHiddenElementDimensions($),ue=q.height,de=q.width,ee=J.offsetHeight,oe=J.offsetWidth,Ee=J.getBoundingClientRect(),ze=this.getWindowScrollTop(),Ze=this.getWindowScrollLeft(),ut=this.getViewport();let Xe,nt;Ee.top+ee+ue>ut.height?(Xe=Ee.top+ze-ue,$.style.transformOrigin="bottom",Xe<0&&(Xe=ze)):(Xe=ee+Ee.top+ze,$.style.transformOrigin="top"),nt=Ee.left+de>ut.width?Math.max(0,Ee.left+Ze+oe-de):Ee.left+Ze,$.style.top=Xe+"px",$.style.left=nt+"px"}static getParents($,J=[]){return null===$.parentNode?J:this.getParents($.parentNode,J.concat([$.parentNode]))}static getScrollableParents($){let J=[];if($){let q=this.getParents($);const ue=/(auto|scroll)/,de=ee=>{let oe=window.getComputedStyle(ee,null);return ue.test(oe.getPropertyValue("overflow"))||ue.test(oe.getPropertyValue("overflowX"))||ue.test(oe.getPropertyValue("overflowY"))};for(let ee of q){let oe=1===ee.nodeType&&ee.dataset.scrollselectors;if(oe){let Ee=oe.split(",");for(let ze of Ee){let Ze=this.findSingle(ee,ze);Ze&&de(Ze)&&J.push(Ze)}}9!==ee.nodeType&&de(ee)&&J.push(ee)}}return J}static getHiddenElementOuterHeight($){$.style.visibility="hidden",$.style.display="block";let J=$.offsetHeight;return $.style.display="none",$.style.visibility="visible",J}static getHiddenElementOuterWidth($){$.style.visibility="hidden",$.style.display="block";let J=$.offsetWidth;return $.style.display="none",$.style.visibility="visible",J}static getHiddenElementDimensions($){let J={};return $.style.visibility="hidden",$.style.display="block",J.width=$.offsetWidth,J.height=$.offsetHeight,$.style.display="none",$.style.visibility="visible",J}static scrollInView($,J){let q=getComputedStyle($).getPropertyValue("borderTopWidth"),ue=q?parseFloat(q):0,de=getComputedStyle($).getPropertyValue("paddingTop"),ee=de?parseFloat(de):0,oe=$.getBoundingClientRect(),ze=J.getBoundingClientRect().top+document.body.scrollTop-(oe.top+document.body.scrollTop)-ue-ee,Ze=$.scrollTop,ut=$.clientHeight,Xe=this.getOuterHeight(J);ze<0?$.scrollTop=Ze+ze:ze+Xe>ut&&($.scrollTop=Ze+ze-ut+Xe)}static fadeIn($,J){$.style.opacity=0;let q=+new Date,ue=0,de=function(){ue=+$.style.opacity.replace(",",".")+((new Date).getTime()-q)/J,$.style.opacity=ue,q=+new Date,+ue<1&&(window.requestAnimationFrame&&requestAnimationFrame(de)||setTimeout(de,16))};de()}static fadeOut($,J){var q=1,ee=50/J;let oe=setInterval(()=>{(q-=ee)<=0&&(q=0,clearInterval(oe)),$.style.opacity=q},50)}static getWindowScrollTop(){let $=document.documentElement;return(window.pageYOffset||$.scrollTop)-($.clientTop||0)}static getWindowScrollLeft(){let $=document.documentElement;return(window.pageXOffset||$.scrollLeft)-($.clientLeft||0)}static matches($,J){var q=Element.prototype;return(q.matches||q.webkitMatchesSelector||q.mozMatchesSelector||q.msMatchesSelector||function(de){return-1!==[].indexOf.call(document.querySelectorAll(de),this)}).call($,J)}static getOuterWidth($,J){let q=$.offsetWidth;if(J){let ue=getComputedStyle($);q+=parseFloat(ue.marginLeft)+parseFloat(ue.marginRight)}return q}static getHorizontalPadding($){let J=getComputedStyle($);return parseFloat(J.paddingLeft)+parseFloat(J.paddingRight)}static getHorizontalMargin($){let J=getComputedStyle($);return parseFloat(J.marginLeft)+parseFloat(J.marginRight)}static innerWidth($){let J=$.offsetWidth,q=getComputedStyle($);return J+=parseFloat(q.paddingLeft)+parseFloat(q.paddingRight),J}static width($){let J=$.offsetWidth,q=getComputedStyle($);return J-=parseFloat(q.paddingLeft)+parseFloat(q.paddingRight),J}static getInnerHeight($){let J=$.offsetHeight,q=getComputedStyle($);return J+=parseFloat(q.paddingTop)+parseFloat(q.paddingBottom),J}static getOuterHeight($,J){let q=$.offsetHeight;if(J){let ue=getComputedStyle($);q+=parseFloat(ue.marginTop)+parseFloat(ue.marginBottom)}return q}static getHeight($){let J=$.offsetHeight,q=getComputedStyle($);return J-=parseFloat(q.paddingTop)+parseFloat(q.paddingBottom)+parseFloat(q.borderTopWidth)+parseFloat(q.borderBottomWidth),J}static getWidth($){let J=$.offsetWidth,q=getComputedStyle($);return J-=parseFloat(q.paddingLeft)+parseFloat(q.paddingRight)+parseFloat(q.borderLeftWidth)+parseFloat(q.borderRightWidth),J}static getViewport(){let $=window,J=document,q=J.documentElement,ue=J.getElementsByTagName("body")[0];return{width:$.innerWidth||q.clientWidth||ue.clientWidth,height:$.innerHeight||q.clientHeight||ue.clientHeight}}static getOffset($){var J=$.getBoundingClientRect();return{top:J.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:J.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith($,J){let q=$.parentNode;if(!q)throw"Can't replace element";return q.replaceChild(J,$)}static getUserAgent(){if(navigator&&this.isClient())return navigator.userAgent}static isIE(){var $=window.navigator.userAgent;return $.indexOf("MSIE ")>0||($.indexOf("Trident/")>0?($.indexOf("rv:"),!0):$.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild($,J){if(this.isElement(J))J.appendChild($);else{if(!(J&&J.el&&J.el.nativeElement))throw"Cannot append "+J+" to "+$;J.el.nativeElement.appendChild($)}}static removeChild($,J){if(this.isElement(J))J.removeChild($);else{if(!J.el||!J.el.nativeElement)throw"Cannot remove "+$+" from "+J;J.el.nativeElement.removeChild($)}}static removeElement($){"remove"in Element.prototype?$.remove():$.parentNode.removeChild($)}static isElement($){return"object"==typeof HTMLElement?$ instanceof HTMLElement:$&&"object"==typeof $&&null!==$&&1===$.nodeType&&"string"==typeof $.nodeName}static calculateScrollbarWidth($){if($){let J=getComputedStyle($);return $.offsetWidth-$.clientWidth-parseFloat(J.borderLeftWidth)-parseFloat(J.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let J=document.createElement("div");J.className="p-scrollbar-measure",document.body.appendChild(J);let q=J.offsetWidth-J.clientWidth;return document.body.removeChild(J),this.calculatedScrollbarWidth=q,q}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let $=document.createElement("div");$.className="p-scrollbar-measure",document.body.appendChild($);let J=$.offsetHeight-$.clientHeight;return document.body.removeChild($),this.calculatedScrollbarWidth=J,J}static invokeElementMethod($,J,q){$[J].apply($,q)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let $=this.resolveUserAgent();this.browser={},$.browser&&(this.browser[$.browser]=!0,this.browser.version=$.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let $=navigator.userAgent.toLowerCase(),J=/(chrome)[ \/]([\w.]+)/.exec($)||/(webkit)[ \/]([\w.]+)/.exec($)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec($)||/(msie) ([\w.]+)/.exec($)||$.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec($)||[];return{browser:J[1]||"",version:J[2]||"0"}}static isInteger($){return Number.isInteger?Number.isInteger($):"number"==typeof $&&isFinite($)&&Math.floor($)===$}static isHidden($){return!$||null===$.offsetParent}static isVisible($){return $&&null!=$.offsetParent}static isExist($){return null!==$&&typeof $<"u"&&$.nodeName&&$.parentNode}static focus($,J){$&&document.activeElement!==$&&$.focus(J)}static getFocusableElements($,J=""){let q=this.find($,`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${J},\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${J},\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${J},\n                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${J},\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${J},\n                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${J},\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${J}`),ue=[];for(let de of q)"none"!=getComputedStyle(de).display&&"hidden"!=getComputedStyle(de).visibility&&ue.push(de);return ue}static getFirstFocusableElement($,J){const q=this.getFocusableElements($,J);return q.length>0?q[0]:null}static getLastFocusableElement($,J){const q=this.getFocusableElements($,J);return q.length>0?q[q.length-1]:null}static getNextFocusableElement($,J=!1){const q=b.getFocusableElements($);let ue=0;if(q&&q.length>0){const de=q.indexOf(q[0].ownerDocument.activeElement);J?ue=-1==de||0===de?q.length-1:de-1:-1!=de&&de!==q.length-1&&(ue=de+1)}return q[ue]}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}static getSelection(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null}static getTargetElement($,J){if(!$)return null;switch($){case"document":return document;case"window":return window;case"@next":return J?.nextElementSibling;case"@prev":return J?.previousElementSibling;case"@parent":return J?.parentElement;case"@grandparent":return J?.parentElement.parentElement;default:const q=typeof $;if("string"===q)return document.querySelector($);if("object"===q&&$.hasOwnProperty("nativeElement"))return this.isExist($.nativeElement)?$.nativeElement:void 0;const de=(ee=$)&&ee.constructor&&ee.call&&ee.apply?$():$;return de&&9===de.nodeType||this.isExist(de)?de:null}var ee}static isClient(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}static getAttribute($,J){if($){const q=$.getAttribute(J);return isNaN(q)?"true"===q||"false"===q?"true"===q:q:+q}}static calculateBodyScrollbarWidth(){return window.innerWidth-document.documentElement.offsetWidth}static blockBodyScroll($="p-overflow-hidden"){document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,$)}static unblockBodyScroll($="p-overflow-hidden"){document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,$)}}return b})();class V{element;listener;scrollableParents;constructor(Te,$=(()=>{})){this.element=Te,this.listener=$}bindScrollListener(){this.scrollableParents=p.getScrollableParents(this.element);for(let Te=0;Te<this.scrollableParents.length;Te++)this.scrollableParents[Te].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let Te=0;Te<this.scrollableParents.length;Te++)this.scrollableParents[Te].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}},3714:(xt,je,U)=>{U.d(je,{j:()=>$,o:()=>Te});var p=U(5879),V=U(6814),b=U(95);let Te=(()=>{class J{el;ngModel;cd;filled;constructor(ue,de,ee){this.el=ue,this.ngModel=de,this.cd=ee}ngAfterViewInit(){this.updateFilledState(),this.cd.detectChanges()}ngDoCheck(){this.updateFilledState()}onInput(){this.updateFilledState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model}static \u0275fac=function(de){return new(de||J)(p.Y36(p.SBq),p.Y36(b.On,8),p.Y36(p.sBO))};static \u0275dir=p.lG2({type:J,selectors:[["","pInputText",""]],hostAttrs:[1,"p-inputtext","p-component","p-element"],hostVars:2,hostBindings:function(de,ee){1&de&&p.NdJ("input",function(Ee){return ee.onInput(Ee)}),2&de&&p.ekj("p-filled",ee.filled)}})}return J})(),$=(()=>{class J{static \u0275fac=function(de){return new(de||J)};static \u0275mod=p.oAB({type:J});static \u0275inj=p.cJS({imports:[V.ez]})}return J})()},8516:(xt,je,U)=>{U.d(je,{W6:()=>vr});var p=U(6814),V=U(5879),b=U(3781),Te=U(5219),$=U(4713);let J=(()=>{class Ye extends $.s{static \u0275fac=function(){let De;return function(at){return(De||(De=V.n5z(Ye)))(at||Ye)}}();static \u0275cmp=V.Xpm({type:Ye,selectors:[["AngleDownIcon"]],standalone:!0,features:[V.qOj,V.jDz],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M3.58659 4.5007C3.68513 4.50023 3.78277 4.51945 3.87379 4.55723C3.9648 4.59501 4.04735 4.65058 4.11659 4.7207L7.11659 7.7207L10.1166 4.7207C10.2619 4.65055 10.4259 4.62911 10.5843 4.65956C10.7427 4.69002 10.8871 4.77074 10.996 4.88976C11.1049 5.00877 11.1726 5.15973 11.1889 5.32022C11.2052 5.48072 11.1693 5.6422 11.0866 5.7807L7.58659 9.2807C7.44597 9.42115 7.25534 9.50004 7.05659 9.50004C6.85784 9.50004 6.66722 9.42115 6.52659 9.2807L3.02659 5.7807C2.88614 5.64007 2.80725 5.44945 2.80725 5.2507C2.80725 5.05195 2.88614 4.86132 3.02659 4.7207C3.09932 4.64685 3.18675 4.58911 3.28322 4.55121C3.37969 4.51331 3.48305 4.4961 3.58659 4.5007Z","fill","currentColor"]],template:function(Ge,at){1&Ge&&(V.O4$(),V.TgZ(0,"svg",0),V._UZ(1,"path",1),V.qZA()),2&Ge&&(V.Tol(at.getClassNames()),V.uIk("aria-label",at.ariaLabel)("aria-hidden",at.ariaHidden)("role",at.role))},encapsulation:2})}return Ye})(),q=(()=>{class Ye extends $.s{static \u0275fac=function(){let De;return function(at){return(De||(De=V.n5z(Ye)))(at||Ye)}}();static \u0275cmp=V.Xpm({type:Ye,selectors:[["AngleRightIcon"]],standalone:!0,features:[V.qOj,V.jDz],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M5.25 11.1728C5.14929 11.1694 5.05033 11.1455 4.9592 11.1025C4.86806 11.0595 4.78666 10.9984 4.72 10.9228C4.57955 10.7822 4.50066 10.5916 4.50066 10.3928C4.50066 10.1941 4.57955 10.0035 4.72 9.86283L7.72 6.86283L4.72 3.86283C4.66067 3.71882 4.64765 3.55991 4.68275 3.40816C4.71785 3.25642 4.79932 3.11936 4.91585 3.01602C5.03238 2.91268 5.17819 2.84819 5.33305 2.83149C5.4879 2.81479 5.64411 2.84671 5.78 2.92283L9.28 6.42283C9.42045 6.56346 9.49934 6.75408 9.49934 6.95283C9.49934 7.15158 9.42045 7.34221 9.28 7.48283L5.78 10.9228C5.71333 10.9984 5.63193 11.0595 5.5408 11.1025C5.44966 11.1455 5.35071 11.1694 5.25 11.1728Z","fill","currentColor"]],template:function(Ge,at){1&Ge&&(V.O4$(),V.TgZ(0,"svg",0),V._UZ(1,"path",1),V.qZA()),2&Ge&&(V.Tol(at.getClassNames()),V.uIk("aria-label",at.ariaLabel)("aria-hidden",at.ariaHidden)("role",at.role))},encapsulation:2})}return Ye})(),ue=(()=>{class Ye extends $.s{static \u0275fac=function(){let De;return function(at){return(De||(De=V.n5z(Ye)))(at||Ye)}}();static \u0275cmp=V.Xpm({type:Ye,selectors:[["BarsIcon"]],standalone:!0,features:[V.qOj,V.jDz],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M13.3226 3.6129H0.677419C0.497757 3.6129 0.325452 3.54152 0.198411 3.41448C0.0713707 3.28744 0 3.11514 0 2.93548C0 2.75581 0.0713707 2.58351 0.198411 2.45647C0.325452 2.32943 0.497757 2.25806 0.677419 2.25806H13.3226C13.5022 2.25806 13.6745 2.32943 13.8016 2.45647C13.9286 2.58351 14 2.75581 14 2.93548C14 3.11514 13.9286 3.28744 13.8016 3.41448C13.6745 3.54152 13.5022 3.6129 13.3226 3.6129ZM13.3226 7.67741H0.677419C0.497757 7.67741 0.325452 7.60604 0.198411 7.479C0.0713707 7.35196 0 7.17965 0 6.99999C0 6.82033 0.0713707 6.64802 0.198411 6.52098C0.325452 6.39394 0.497757 6.32257 0.677419 6.32257H13.3226C13.5022 6.32257 13.6745 6.39394 13.8016 6.52098C13.9286 6.64802 14 6.82033 14 6.99999C14 7.17965 13.9286 7.35196 13.8016 7.479C13.6745 7.60604 13.5022 7.67741 13.3226 7.67741ZM0.677419 11.7419H13.3226C13.5022 11.7419 13.6745 11.6706 13.8016 11.5435C13.9286 11.4165 14 11.2442 14 11.0645C14 10.8848 13.9286 10.7125 13.8016 10.5855C13.6745 10.4585 13.5022 10.3871 13.3226 10.3871H0.677419C0.497757 10.3871 0.325452 10.4585 0.198411 10.5855C0.0713707 10.7125 0 10.8848 0 11.0645C0 11.2442 0.0713707 11.4165 0.198411 11.5435C0.325452 11.6706 0.497757 11.7419 0.677419 11.7419Z","fill","currentColor"]],template:function(Ge,at){1&Ge&&(V.O4$(),V.TgZ(0,"svg",0),V._UZ(1,"path",1),V.qZA()),2&Ge&&(V.Tol(at.getClassNames()),V.uIk("aria-label",at.ariaLabel)("aria-hidden",at.ariaHidden)("role",at.role))},encapsulation:2})}return Ye})();var de=U(4480);let oe=(()=>{class Ye{static \u0275fac=function(Ge){return new(Ge||Ye)};static \u0275mod=V.oAB({type:Ye});static \u0275inj=V.cJS({imports:[p.ez]})}return Ye})(),vr=(()=>{class Ye{static \u0275fac=function(Ge){return new(Ge||Ye)};static \u0275mod=V.oAB({type:Ye});static \u0275inj=V.cJS({imports:[p.ez,b.Bz,de.T,oe,Te.m8,ue,J,q,b.Bz,oe,Te.m8]})}return Ye})()},734:(xt,je,U)=>{U.d(je,{T:()=>ct,y:()=>ae});var p=U(6825),V=U(6814),b=U(5879),Te=U(5219),$=U(2076),J=U(4713);let q=(()=>{class Me extends J.s{static \u0275fac=function(){let ge;return function(ve){return(ge||(ge=b.n5z(Me)))(ve||Me)}}();static \u0275cmp=b.Xpm({type:Me,selectors:[["TimesIcon"]],standalone:!0,features:[b.qOj,b.jDz],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z","fill","currentColor"]],template:function(Ce,ve){1&Ce&&(b.O4$(),b.TgZ(0,"svg",0),b._UZ(1,"path",1),b.qZA()),2&Ce&&(b.Tol(ve.getClassNames()),b.uIk("aria-label",ve.ariaLabel)("aria-hidden",ve.ariaHidden)("role",ve.role))},encapsulation:2})}return Me})();var ue=U(4480),de=U(2332);function ee(Me,me){1&Me&&b.GkF(0)}function oe(Me,me){1&Me&&b._UZ(0,"TimesIcon",8),2&Me&&b.Q6J("styleClass","p-overlaypanel-close-icon")}function Ee(Me,me){}function ze(Me,me){1&Me&&b.YNc(0,Ee,0,0,"ng-template")}function Ze(Me,me){if(1&Me&&(b.TgZ(0,"span",9),b.YNc(1,ze,1,0,null,3),b.qZA()),2&Me){const ge=b.oxw(3);b.xp6(1),b.Q6J("ngTemplateOutlet",ge.closeIconTemplate)}}function ut(Me,me){if(1&Me){const ge=b.EpF();b.TgZ(0,"button",5),b.NdJ("click",function(ve){b.CHM(ge);const fe=b.oxw(2);return b.KtG(fe.onCloseClick(ve))})("keydown.enter",function(){b.CHM(ge);const ve=b.oxw(2);return b.KtG(ve.hide())}),b.YNc(1,oe,1,1,"TimesIcon",6),b.YNc(2,Ze,2,1,"span",7),b.qZA()}if(2&Me){const ge=b.oxw(2);b.uIk("aria-label",ge.ariaCloseLabel),b.xp6(1),b.Q6J("ngIf",!ge.closeIconTemplate),b.xp6(1),b.Q6J("ngIf",ge.closeIconTemplate)}}const Xe=function(Me,me){return{showTransitionParams:Me,hideTransitionParams:me}},nt=function(Me,me){return{value:Me,params:me}};function rt(Me,me){if(1&Me){const ge=b.EpF();b.TgZ(0,"div",1),b.NdJ("click",function(ve){b.CHM(ge);const fe=b.oxw();return b.KtG(fe.onOverlayClick(ve))})("@animation.start",function(ve){b.CHM(ge);const fe=b.oxw();return b.KtG(fe.onAnimationStart(ve))})("@animation.done",function(ve){b.CHM(ge);const fe=b.oxw();return b.KtG(fe.onAnimationEnd(ve))}),b.TgZ(1,"div",2),b.NdJ("click",function(){b.CHM(ge);const ve=b.oxw();return b.KtG(ve.onContentClick())})("mousedown",function(){b.CHM(ge);const ve=b.oxw();return b.KtG(ve.onContentClick())}),b.Hsn(2),b.YNc(3,ee,1,0,"ng-container",3),b.qZA(),b.YNc(4,ut,3,3,"button",4),b.qZA()}if(2&Me){const ge=b.oxw();b.Tol(ge.styleClass),b.Q6J("ngClass","p-overlaypanel p-component")("ngStyle",ge.style)("@animation",b.WLB(11,nt,ge.overlayVisible?"open":"close",b.WLB(8,Xe,ge.showTransitionOptions,ge.hideTransitionOptions))),b.uIk("aria-modal",ge.overlayVisible),b.xp6(3),b.Q6J("ngTemplateOutlet",ge.contentTemplate),b.xp6(1),b.Q6J("ngIf",ge.showCloseIcon)}}const Ct=["*"];let ct=(()=>{class Me{document;platformId;el;renderer;cd;zone;config;overlayService;dismissable=!0;showCloseIcon;style;styleClass;appendTo="body";autoZIndex=!0;ariaCloseLabel;baseZIndex=0;focusOnShow=!0;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";onShow=new b.vpe;onHide=new b.vpe;templates;container;overlayVisible=!1;render=!1;isOverlayAnimationInProgress=!1;selfClick=!1;documentClickListener;target;willHide;scrollHandler;documentResizeListener;contentTemplate;closeIconTemplate;destroyCallback;overlayEventListener;overlaySubscription;constructor(ge,Ce,ve,fe,lt,bt,$e,Gt){this.document=ge,this.platformId=Ce,this.el=ve,this.renderer=fe,this.cd=lt,this.zone=bt,this.config=$e,this.overlayService=Gt}ngAfterContentInit(){this.templates?.forEach(ge=>{switch(ge.getType()){case"content":default:this.contentTemplate=ge.template;break;case"closeicon":this.closeIconTemplate=ge.template}this.cd.markForCheck()})}bindDocumentClickListener(){if((0,V.NF)(this.platformId)&&!this.documentClickListener&&this.dismissable){let ge=$.p.isIOS()?"touchstart":"click";this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:this.document,ge,ve=>{!this.container?.contains(ve.target)&&this.target!==ve.target&&!this.target.contains(ve.target)&&this.hide(),this.cd.markForCheck()})}}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null,this.selfClick=!1)}toggle(ge,Ce){this.isOverlayAnimationInProgress||(this.overlayVisible?(this.hasTargetChanged(ge,Ce)&&(this.destroyCallback=()=>{this.show(null,Ce||ge.currentTarget||ge.target)}),this.hide()):this.show(ge,Ce))}show(ge,Ce){Ce&&ge&&ge.stopPropagation(),!this.isOverlayAnimationInProgress&&(this.target=Ce||ge.currentTarget||ge.target,this.overlayVisible=!0,this.render=!0,this.cd.markForCheck())}onOverlayClick(ge){this.overlayService.add({originalEvent:ge,target:this.el.nativeElement}),this.selfClick=!0}onContentClick(){this.selfClick=!0}hasTargetChanged(ge,Ce){return null!=this.target&&this.target!==(Ce||ge.currentTarget||ge.target)}appendContainer(){this.appendTo&&("body"===this.appendTo?this.renderer.appendChild(this.document.body,this.container):$.p.appendChild(this.container,this.appendTo))}restoreAppend(){this.container&&this.appendTo&&this.renderer.appendChild(this.el.nativeElement,this.container)}align(){this.autoZIndex&&de.P9.set("overlay",this.container,this.baseZIndex+this.config.zIndex.overlay),$.p.absolutePosition(this.container,this.target);const ge=$.p.getOffset(this.container),Ce=$.p.getOffset(this.target),ve=this.document.defaultView?.getComputedStyle(this.container).getPropertyValue("border-radius");let fe=0;ge.left<Ce.left&&(fe=Ce.left-ge.left-2*parseFloat(ve)),this.container?.style.setProperty("--overlayArrowLeft",`${fe}px`),ge.top<Ce.top&&($.p.addClass(this.container,"p-overlaypanel-flipped"),this.showCloseIcon&&this.renderer.setStyle(this.container,"margin-top","-30px"))}onAnimationStart(ge){"open"===ge.toState&&(this.container=ge.element,this.appendContainer(),this.align(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.focusOnShow&&this.focus(),this.overlayEventListener=Ce=>{this.container&&this.container.contains(Ce.target)&&(this.selfClick=!0)},this.overlaySubscription=this.overlayService.clickObservable.subscribe(this.overlayEventListener),this.onShow.emit(null)),this.isOverlayAnimationInProgress=!0}onAnimationEnd(ge){switch(ge.toState){case"void":this.destroyCallback&&(this.destroyCallback(),this.destroyCallback=null),this.overlaySubscription&&this.overlaySubscription.unsubscribe();break;case"close":this.autoZIndex&&de.P9.clear(this.container),this.overlaySubscription&&this.overlaySubscription.unsubscribe(),this.onContainerDestroy(),this.onHide.emit({}),this.render=!1}this.isOverlayAnimationInProgress=!1}focus(){let ge=$.p.findSingle(this.container,"[autofocus]");ge&&this.zone.runOutsideAngular(()=>{setTimeout(()=>ge.focus(),5)})}hide(){this.overlayVisible=!1,this.cd.markForCheck()}onCloseClick(ge){this.hide(),ge.preventDefault()}onEscapeKeydown(ge){this.hide()}onWindowResize(){this.overlayVisible&&!$.p.isTouchDevice()&&this.hide()}bindDocumentResizeListener(){(0,V.NF)(this.platformId)&&!this.documentResizeListener&&(this.documentResizeListener=this.renderer.listen(this.document.defaultView,"resize",this.onWindowResize.bind(this)))}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindScrollListener(){(0,V.NF)(this.platformId)&&(this.scrollHandler||(this.scrollHandler=new $.V(this.target,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener())}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}onContainerDestroy(){this.cd.destroyed||(this.target=null),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener()}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.container&&this.autoZIndex&&de.P9.clear(this.container),this.cd.destroyed||(this.target=null),this.destroyCallback=null,this.container&&(this.restoreAppend(),this.onContainerDestroy()),this.overlaySubscription&&this.overlaySubscription.unsubscribe()}static \u0275fac=function(Ce){return new(Ce||Me)(b.Y36(V.K0),b.Y36(b.Lbi),b.Y36(b.SBq),b.Y36(b.Qsj),b.Y36(b.sBO),b.Y36(b.R0b),b.Y36(Te.b4),b.Y36(Te.F0))};static \u0275cmp=b.Xpm({type:Me,selectors:[["p-overlayPanel"]],contentQueries:function(Ce,ve,fe){if(1&Ce&&b.Suo(fe,Te.jx,4),2&Ce){let lt;b.iGM(lt=b.CRH())&&(ve.templates=lt)}},hostAttrs:[1,"p-element"],hostBindings:function(Ce,ve){1&Ce&&b.NdJ("keydown.escape",function(lt){return ve.onEscapeKeydown(lt)},!1,b.evT)},inputs:{dismissable:"dismissable",showCloseIcon:"showCloseIcon",style:"style",styleClass:"styleClass",appendTo:"appendTo",autoZIndex:"autoZIndex",ariaCloseLabel:"ariaCloseLabel",baseZIndex:"baseZIndex",focusOnShow:"focusOnShow",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onShow:"onShow",onHide:"onHide"},ngContentSelectors:Ct,decls:1,vars:1,consts:[["role","dialog",3,"ngClass","ngStyle","class","click",4,"ngIf"],["role","dialog",3,"ngClass","ngStyle","click"],[1,"p-overlaypanel-content",3,"click","mousedown"],[4,"ngTemplateOutlet"],["type","button","class","p-overlaypanel-close p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],["type","button","pRipple","",1,"p-overlaypanel-close","p-link",3,"click","keydown.enter"],[3,"styleClass",4,"ngIf"],["class","p-overlaypanel-close-icon",4,"ngIf"],[3,"styleClass"],[1,"p-overlaypanel-close-icon"]],template:function(Ce,ve){1&Ce&&(b.F$t(),b.YNc(0,rt,5,14,"div",0)),2&Ce&&b.Q6J("ngIf",ve.render)},dependencies:function(){return[V.mk,V.O5,V.tP,V.PC,ue.H,q]},styles:['@layer primeng{.p-overlaypanel{position:absolute;margin-top:10px;top:0;left:0}.p-overlaypanel-flipped{margin-top:0;margin-bottom:10px}.p-overlaypanel-close{display:flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-overlaypanel:after,.p-overlaypanel:before{bottom:100%;left:calc(var(--overlayArrowLeft, 0) + 1.25rem);content:" ";height:0;width:0;position:absolute;pointer-events:none}.p-overlaypanel:after{border-width:8px;margin-left:-8px}.p-overlaypanel:before{border-width:10px;margin-left:-10px}.p-overlaypanel-shifted:after,.p-overlaypanel-shifted:before{left:auto;right:1.25em;margin-left:auto}.p-overlaypanel-flipped:after,.p-overlaypanel-flipped:before{bottom:auto;top:100%}.p-overlaypanel.p-overlaypanel-flipped:after{border-bottom-color:transparent}.p-overlaypanel.p-overlaypanel-flipped:before{border-bottom-color:transparent}}\n'],encapsulation:2,data:{animation:[(0,p.X$)("animation",[(0,p.SB)("void",(0,p.oB)({transform:"scaleY(0.8)",opacity:0})),(0,p.SB)("close",(0,p.oB)({opacity:0})),(0,p.SB)("open",(0,p.oB)({transform:"translateY(0)",opacity:1})),(0,p.eR)("void => open",(0,p.jt)("{{showTransitionParams}}")),(0,p.eR)("open => close",(0,p.jt)("{{hideTransitionParams}}"))])]},changeDetection:0})}return Me})(),ae=(()=>{class Me{static \u0275fac=function(Ce){return new(Ce||Me)};static \u0275mod=b.oAB({type:Me});static \u0275inj=b.cJS({imports:[V.ez,ue.T,Te.m8,q,Te.m8]})}return Me})()},4480:(xt,je,U)=>{U.d(je,{H:()=>$,T:()=>J});var p=U(6814),V=U(5879),b=U(2076),Te=U(5219);let $=(()=>{class q{document;platformId;renderer;el;zone;config;constructor(de,ee,oe,Ee,ze,Ze){this.document=de,this.platformId=ee,this.renderer=oe,this.el=Ee,this.zone=ze,this.config=Ze}animationListener;mouseDownListener;timeout;ngAfterViewInit(){(0,p.NF)(this.platformId)&&this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.renderer.listen(this.el.nativeElement,"mousedown",this.onMouseDown.bind(this))})}onMouseDown(de){let ee=this.getInk();if(!ee||"none"===this.document.defaultView?.getComputedStyle(ee,null).display)return;if(b.p.removeClass(ee,"p-ink-active"),!b.p.getHeight(ee)&&!b.p.getWidth(ee)){let Ze=Math.max(b.p.getOuterWidth(this.el.nativeElement),b.p.getOuterHeight(this.el.nativeElement));ee.style.height=Ze+"px",ee.style.width=Ze+"px"}let oe=b.p.getOffset(this.el.nativeElement),Ee=de.pageX-oe.left+this.document.body.scrollTop-b.p.getWidth(ee)/2,ze=de.pageY-oe.top+this.document.body.scrollLeft-b.p.getHeight(ee)/2;this.renderer.setStyle(ee,"top",ze+"px"),this.renderer.setStyle(ee,"left",Ee+"px"),b.p.addClass(ee,"p-ink-active"),this.timeout=setTimeout(()=>{let Ze=this.getInk();Ze&&b.p.removeClass(Ze,"p-ink-active")},401)}getInk(){const de=this.el.nativeElement.children;for(let ee=0;ee<de.length;ee++)if("string"==typeof de[ee].className&&-1!==de[ee].className.indexOf("p-ink"))return de[ee];return null}resetInk(){let de=this.getInk();de&&b.p.removeClass(de,"p-ink-active")}onAnimationEnd(de){this.timeout&&clearTimeout(this.timeout),b.p.removeClass(de.currentTarget,"p-ink-active")}create(){let de=this.renderer.createElement("span");this.renderer.addClass(de,"p-ink"),this.renderer.appendChild(this.el.nativeElement,de),this.renderer.setAttribute(de,"aria-hidden","true"),this.renderer.setAttribute(de,"role","presentation"),this.animationListener||(this.animationListener=this.renderer.listen(de,"animationend",this.onAnimationEnd.bind(this)))}remove(){let de=this.getInk();de&&(this.mouseDownListener&&this.mouseDownListener(),this.animationListener&&this.animationListener(),this.mouseDownListener=null,this.animationListener=null,b.p.removeElement(de))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}static \u0275fac=function(ee){return new(ee||q)(V.Y36(p.K0),V.Y36(V.Lbi),V.Y36(V.Qsj),V.Y36(V.SBq),V.Y36(V.R0b),V.Y36(Te.b4,8))};static \u0275dir=V.lG2({type:q,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"]})}return q})(),J=(()=>{class q{static \u0275fac=function(ee){return new(ee||q)};static \u0275mod=V.oAB({type:q});static \u0275inj=V.cJS({imports:[p.ez]})}return q})()},2332:(xt,je,U)=>{U.d(je,{P9:()=>$,Th:()=>b,gb:()=>p});class p{static equals(q,ue,de){return de?this.resolveFieldData(q,de)===this.resolveFieldData(ue,de):this.equalsByValue(q,ue)}static equalsByValue(q,ue){if(q===ue)return!0;if(q&&ue&&"object"==typeof q&&"object"==typeof ue){var oe,Ee,ze,de=Array.isArray(q),ee=Array.isArray(ue);if(de&&ee){if((Ee=q.length)!=ue.length)return!1;for(oe=Ee;0!=oe--;)if(!this.equalsByValue(q[oe],ue[oe]))return!1;return!0}if(de!=ee)return!1;var Ze=this.isDate(q),ut=this.isDate(ue);if(Ze!=ut)return!1;if(Ze&&ut)return q.getTime()==ue.getTime();var Xe=q instanceof RegExp,nt=ue instanceof RegExp;if(Xe!=nt)return!1;if(Xe&&nt)return q.toString()==ue.toString();var rt=Object.keys(q);if((Ee=rt.length)!==Object.keys(ue).length)return!1;for(oe=Ee;0!=oe--;)if(!Object.prototype.hasOwnProperty.call(ue,rt[oe]))return!1;for(oe=Ee;0!=oe--;)if(!this.equalsByValue(q[ze=rt[oe]],ue[ze]))return!1;return!0}return q!=q&&ue!=ue}static resolveFieldData(q,ue){if(q&&ue){if(this.isFunction(ue))return ue(q);if(-1==ue.indexOf("."))return q[ue];{let de=ue.split("."),ee=q;for(let oe=0,Ee=de.length;oe<Ee;++oe){if(null==ee)return null;ee=ee[de[oe]]}return ee}}return null}static isFunction(q){return!!(q&&q.constructor&&q.call&&q.apply)}static reorderArray(q,ue,de){q&&ue!==de&&(de>=q.length&&(de%=q.length,ue%=q.length),q.splice(de,0,q.splice(ue,1)[0]))}static insertIntoOrderedArray(q,ue,de,ee){if(de.length>0){let oe=!1;for(let Ee=0;Ee<de.length;Ee++)if(this.findIndexInList(de[Ee],ee)>ue){de.splice(Ee,0,q),oe=!0;break}oe||de.push(q)}else de.push(q)}static findIndexInList(q,ue){let de=-1;if(ue)for(let ee=0;ee<ue.length;ee++)if(ue[ee]==q){de=ee;break}return de}static contains(q,ue){if(null!=q&&ue&&ue.length)for(let de of ue)if(this.equals(q,de))return!0;return!1}static removeAccents(q){return q&&q.search(/[\xC0-\xFF]/g)>-1&&(q=q.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),q}static isDate(q){return"[object Date]"===Object.prototype.toString.call(q)}static isEmpty(q){return null==q||""===q||Array.isArray(q)&&0===q.length||!this.isDate(q)&&"object"==typeof q&&0===Object.keys(q).length}static isNotEmpty(q){return!this.isEmpty(q)}static compare(q,ue,de,ee=1){let oe=-1;const Ee=this.isEmpty(q),ze=this.isEmpty(ue);return oe=Ee&&ze?0:Ee?ee:ze?-ee:"string"==typeof q&&"string"==typeof ue?q.localeCompare(ue,de,{numeric:!0}):q<ue?-1:q>ue?1:0,oe}static sort(q,ue,de=1,ee,oe=1){return(1===oe?de:oe)*p.compare(q,ue,ee,de)}static merge(q,ue){if(null!=q||null!=ue)return null!=q&&"object"!=typeof q||null!=ue&&"object"!=typeof ue?null!=q&&"string"!=typeof q||null!=ue&&"string"!=typeof ue?ue||q:[q||"",ue||""].join(" "):{...q||{},...ue||{}}}static isPrintableCharacter(q=""){return this.isNotEmpty(q)&&1===q.length&&q.match(/\S| /)}static getItemValue(q,...ue){return this.isFunction(q)?q(...ue):q}static findLastIndex(q,ue){let de=-1;if(this.isNotEmpty(q))try{de=q.findLastIndex(ue)}catch{de=q.lastIndexOf([...q].reverse().find(ue))}return de}static findLast(q,ue){let de;if(this.isNotEmpty(q))try{de=q.findLast(ue)}catch{de=[...q].reverse().find(ue)}return de}}var V=0;function b(J="pn_id_"){return`${J}${++V}`}var $=function Te(){let J=[];const ee=oe=>oe&&parseInt(oe.style.zIndex,10)||0;return{get:ee,set:(oe,Ee,ze)=>{Ee&&(Ee.style.zIndex=String(((oe,Ee)=>{let ze=J.length>0?J[J.length-1]:{key:oe,value:Ee},Ze=ze.value+(ze.key===oe?0:Ee)+2;return J.push({key:oe,value:Ze}),Ze})(oe,ze)))},clear:oe=>{oe&&((oe=>{J=J.filter(Ee=>Ee.value!==oe)})(ee(oe)),oe.style.zIndex="")},getCurrent:()=>J.length>0?J[J.length-1].value:0}}()},5861:(xt,je,U)=>{function p(b,Te,$,J,q,ue,de){try{var ee=b[ue](de),oe=ee.value}catch(Ee){return void $(Ee)}ee.done?Te(oe):Promise.resolve(oe).then(J,q)}function V(b){return function(){var Te=this,$=arguments;return new Promise(function(J,q){var ue=b.apply(Te,$);function de(oe){p(ue,J,q,de,ee,"next",oe)}function ee(oe){p(ue,J,q,de,ee,"throw",oe)}de(void 0)})}}U.d(je,{Z:()=>V})},7582:(xt,je,U)=>{function Te(Se,Oe){var qe={};for(var Ne in Se)Object.prototype.hasOwnProperty.call(Se,Ne)&&Oe.indexOf(Ne)<0&&(qe[Ne]=Se[Ne]);if(null!=Se&&"function"==typeof Object.getOwnPropertySymbols){var He=0;for(Ne=Object.getOwnPropertySymbols(Se);He<Ne.length;He++)Oe.indexOf(Ne[He])<0&&Object.prototype.propertyIsEnumerable.call(Se,Ne[He])&&(qe[Ne[He]]=Se[Ne[He]])}return qe}function Ee(Se,Oe,qe,Ne){return new(qe||(qe=Promise))(function(dt,gt){function It(xn){try{nn(Ne.next(xn))}catch(dn){gt(dn)}}function Bn(xn){try{nn(Ne.throw(xn))}catch(dn){gt(dn)}}function nn(xn){xn.done?dt(xn.value):function He(dt){return dt instanceof qe?dt:new qe(function(gt){gt(dt)})}(xn.value).then(It,Bn)}nn((Ne=Ne.apply(Se,Oe||[])).next())})}function ae(Se){return this instanceof ae?(this.v=Se,this):new ae(Se)}function Me(Se,Oe,qe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var He,Ne=qe.apply(Se,Oe||[]),dt=[];return He={},gt("next"),gt("throw"),gt("return"),He[Symbol.asyncIterator]=function(){return this},He;function gt(hn){Ne[hn]&&(He[hn]=function(zn){return new Promise(function(On,An){dt.push([hn,zn,On,An])>1||It(hn,zn)})})}function It(hn,zn){try{!function Bn(hn){hn.value instanceof ae?Promise.resolve(hn.value.v).then(nn,xn):dn(dt[0][2],hn)}(Ne[hn](zn))}catch(On){dn(dt[0][3],On)}}function nn(hn){It("next",hn)}function xn(hn){It("throw",hn)}function dn(hn,zn){hn(zn),dt.shift(),dt.length&&It(dt[0][0],dt[0][1])}}function ge(Se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var qe,Oe=Se[Symbol.asyncIterator];return Oe?Oe.call(Se):(Se=function Xe(Se){var Oe="function"==typeof Symbol&&Symbol.iterator,qe=Oe&&Se[Oe],Ne=0;if(qe)return qe.call(Se);if(Se&&"number"==typeof Se.length)return{next:function(){return Se&&Ne>=Se.length&&(Se=void 0),{value:Se&&Se[Ne++],done:!Se}}};throw new TypeError(Oe?"Object is not iterable.":"Symbol.iterator is not defined.")}(Se),qe={},Ne("next"),Ne("throw"),Ne("return"),qe[Symbol.asyncIterator]=function(){return this},qe);function Ne(dt){qe[dt]=Se[dt]&&function(gt){return new Promise(function(It,Bn){!function He(dt,gt,It,Bn){Promise.resolve(Bn).then(function(nn){dt({value:nn,done:It})},gt)}(It,Bn,(gt=Se[dt](gt)).done,gt.value)})}}}U.d(je,{FC:()=>Me,KL:()=>ge,_T:()=>Te,mG:()=>Ee,qq:()=>ae}),"function"==typeof SuppressedError&&SuppressedError}},xt=>{xt(xt.s=3773)}]);