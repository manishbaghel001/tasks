(self.webpackChunktasks=self.webpackChunktasks||[]).push([[179],{562:(oi,Qn,ot)=>{"use strict";ot.d(Qn,{$:()=>xo,A:()=>me,G:()=>zt,K:()=>sh,L:()=>dl,N:()=>Nn,P:()=>Vi,R:()=>C_,U:()=>je,V:()=>hh,W:()=>Oi,X:()=>cn,Y:()=>$t,Z:()=>Bs,_:()=>bu,a:()=>Cl,a0:()=>wp,a1:()=>Pu,a2:()=>Tp,a3:()=>Cp,a4:()=>g_,a5:()=>Rr,a6:()=>ki,a7:()=>Sp,a8:()=>Ap,a9:()=>Bn,aA:()=>Ft,aB:()=>on,aC:()=>Ee,aD:()=>zu,aE:()=>se,aF:()=>ht,aG:()=>Wc,aH:()=>Gc,aI:()=>A_,aJ:()=>er,aN:()=>es,aQ:()=>la,aa:()=>K,ab:()=>Pe,ac:()=>gt,ad:()=>Gn,ae:()=>Et,af:()=>ua,ag:()=>$s,ah:()=>ca,ak:()=>Mu,al:()=>Mo,am:()=>Ou,ap:()=>bp,aq:()=>yr,as:()=>rE,at:()=>Fc,au:()=>Fn,av:()=>Ke,aw:()=>Y,ax:()=>wt,ay:()=>Pl,az:()=>qu,b:()=>fa,c:()=>Ch,d:()=>Bp,e:()=>zc,f:()=>D_,g:()=>xh,h:()=>Ct,i:()=>_a,j:()=>xl,k:()=>Da,l:()=>bh,m:()=>$o,p:()=>Tn,r:()=>zs,s:()=>ya,u:()=>Th});var O=ot(861),C=ot(58),q=ot(534),Ge=ot(879),un=ot(582),rn=ot(537);const Tn={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},me={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const zt=function We(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},ir=function pt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},vt=new C.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),It=new Ge.Yd("@firebase/auth");function Dn(m,...h){It.logLevel<=Ge.in.ERROR&&It.error(`Auth (${q.SDK_VERSION}): ${m}`,...h)}function wt(m,...h){throw Pt(m,...h)}function on(m,...h){return Pt(m,...h)}function gr(m,h,f){const _=Object.assign(Object.assign({},ir()),{[h]:f});return new C.LL("auth","Firebase",_).create(h,{appName:m.name})}function zn(m,h,f){if(!(h instanceof f))throw f.name!==h.constructor.name&&wt(m,"argument-error"),gr(m,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Pt(m,...h){if("string"!=typeof m){const f=h[0],_=[...h.slice(1)];return _[0]&&(_[0].appName=m.name),m._errorFactory.create(f,..._)}return vt.create(m,...h)}function Ee(m,h,...f){if(!m)throw Pt(h,...f)}function nn(m){const h="INTERNAL ASSERTION FAILED: "+m;throw Dn(h),new Error(h)}function Fn(m,h){m||nn(h)}function sr(){var m;return typeof self<"u"&&(null===(m=self.location)||void 0===m?void 0:m.href)||""}function or(){return"http:"===Ns()||"https:"===Ns()}function Ns(){var m;return typeof self<"u"&&(null===(m=self.location)||void 0===m?void 0:m.protocol)||null}class Ar{constructor(h,f){this.shortDelay=h,this.longDelay=f,Fn(f>h,"Short delay should be less than long delay!"),this.isMobile=(0,C.uI)()||(0,C.b$)()}get(){return function ks(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(or()||(0,C.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function io(m,h){Fn(m.emulator,"Emulator should always be set here");const{url:f}=m.emulator;return h?`${f}${h.startsWith("/")?h.slice(1):h}`:f}class ee{static initialize(h,f,_){this.fetchImpl=h,f&&(this.headersImpl=f),_&&(this.responseImpl=_)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void nn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void nn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void nn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const te={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ie=new Ar(3e4,6e4);function ne(m,h){return m.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:m.tenantId}):h}function he(m,h,f,_){return le.apply(this,arguments)}function le(){return(le=(0,O.Z)(function*(m,h,f,_,E={}){return Ae(m,E,(0,O.Z)(function*(){let D={},H={};_&&("GET"===h?H=_:D={body:JSON.stringify(_)});const X=(0,C.xO)(Object.assign({key:m.config.apiKey},H)).slice(1),ge=yield m._getAdditionalHeaders();return ge["Content-Type"]="application/json",m.languageCode&&(ge["X-Firebase-Locale"]=m.languageCode),ee.fetch()(an(m,m.config.apiHost,f,X),Object.assign({method:h,headers:ge,referrerPolicy:"no-referrer"},D))}))})).apply(this,arguments)}function Ae(m,h,f){return qt.apply(this,arguments)}function qt(){return(qt=(0,O.Z)(function*(m,h,f){m._canInitEmulator=!1;const _=Object.assign(Object.assign({},te),h);try{const E=new mn(m),D=yield Promise.race([f(),E.promise]);E.clearNetworkTimeout();const H=yield D.json();if("needConfirmation"in H)throw qn(m,"account-exists-with-different-credential",H);if(D.ok&&!("errorMessage"in H))return H;{const X=D.ok?H.errorMessage:H.error.message,[ge,ze]=X.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ge)throw qn(m,"credential-already-in-use",H);if("EMAIL_EXISTS"===ge)throw qn(m,"email-already-in-use",H);if("USER_DISABLED"===ge)throw qn(m,"user-disabled",H);const tt=_[ge]||ge.toLowerCase().replace(/[_\s]+/g,"-");if(ze)throw gr(m,tt,ze);wt(m,tt)}}catch(E){if(E instanceof C.ZR)throw E;wt(m,"network-request-failed",{message:String(E)})}})).apply(this,arguments)}function Re(m,h,f,_){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,O.Z)(function*(m,h,f,_,E={}){const D=yield he(m,h,f,_,E);return"mfaPendingCredential"in D&&wt(m,"multi-factor-auth-required",{_serverResponse:D}),D})).apply(this,arguments)}function an(m,h,f,_){const E=`${h}${f}?${_}`;return m.config.emulator?io(m.config,E):`${m.config.apiScheme}://${E}`}function xn(m){switch(m){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class mn{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((f,_)=>{this.timer=setTimeout(()=>_(on(this.auth,"network-request-failed")),ie.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function qn(m,h,f){const _={appName:m.name};f.email&&(_.email=f.email),f.phoneNumber&&(_.phoneNumber=f.phoneNumber);const E=on(m,h,_);return E.customData._tokenResponse=f,E}function En(m){return void 0!==m&&void 0!==m.getResponse}function Yn(m){return void 0!==m&&void 0!==m.enterprise}class Jr{constructor(h){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===h.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=h.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=h.recaptchaEnforcementState}getProviderEnforcementState(h){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const f of this.recaptchaEnforcementState)if(f.provider&&f.provider===h)return xn(f.enforcementState);return null}isProviderEnabled(h){return"ENFORCE"===this.getProviderEnforcementState(h)||"AUDIT"===this.getProviderEnforcementState(h)}}function fs(){return(fs=(0,O.Z)(function*(m){return(yield he(m,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function so(m,h){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,O.Z)(function*(m,h){return he(m,"GET","/v2/recaptchaConfig",ne(m,h))})).apply(this,arguments)}function Di(){return(Di=(0,O.Z)(function*(m,h){return he(m,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function Ls(){return(Ls=(0,O.Z)(function*(m,h){return he(m,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Yi(){return(Yi=(0,O.Z)(function*(m,h){return he(m,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function Xr(m){if(m)try{const h=new Date(Number(m));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function pn(){return(pn=(0,O.Z)(function*(m,h=!1){const f=(0,C.m9)(m),_=yield f.getIdToken(h),E=Jn(_);Ee(E&&E.exp&&E.auth_time&&E.iat,f.auth,"internal-error");const D="object"==typeof E.firebase?E.firebase:void 0,H=D?.sign_in_provider;return{claims:E,token:_,authTime:Xr(yi(E.auth_time)),issuedAtTime:Xr(yi(E.iat)),expirationTime:Xr(yi(E.exp)),signInProvider:H||null,signInSecondFactor:D?.sign_in_second_factor||null}})).apply(this,arguments)}function yi(m){return 1e3*Number(m)}function Jn(m){const[h,f,_]=m.split(".");if(void 0===h||void 0===f||void 0===_)return Dn("JWT malformed, contained fewer than 3 sections"),null;try{const E=(0,C.tV)(f);return E?JSON.parse(E):(Dn("Failed to decode base64 JWT payload"),null)}catch(E){return Dn("Caught error parsing JWT payload as JSON",E?.toString()),null}}function Vn(m,h){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,O.Z)(function*(m,h,f=!1){if(f)return h;try{return yield h}catch(_){throw _ instanceof C.ZR&&function ps({code:m}){return"auth/user-disabled"===m||"auth/user-token-expired"===m}(_)&&m.auth.currentUser===m&&(yield m.auth.signOut()),_}})).apply(this,arguments)}class gs{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var f;if(h){const _=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),_}{this.errorBackoff=3e4;const E=(null!==(f=this.user.stsTokenManager.expirationTime)&&void 0!==f?f:0)-Date.now()-3e5;return Math.max(0,E)}}schedule(h=!1){var f=this;if(!this.isRunning)return;const _=this.getInterval(h);this.timerId=setTimeout((0,O.Z)(function*(){yield f.iteration()}),_)}iteration(){var h=this;return(0,O.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(f){return void("auth/network-request-failed"===f?.code&&h.schedule(!0))}h.schedule()})()}}class Fs{constructor(h,f){this.createdAt=h,this.lastLoginAt=f,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xr(this.lastLoginAt),this.creationTime=Xr(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Fr(m){return Vr.apply(this,arguments)}function Vr(){return Vr=(0,O.Z)(function*(m){var h;const f=m.auth,_=yield m.getIdToken(),E=yield Vn(m,function xr(m,h){return Yi.apply(this,arguments)}(f,{idToken:_}));Ee(E?.users.length,f,"internal-error");const D=E.users[0];m._notifyReloadListener(D);const H=null!==(h=D.providerUserInfo)&&void 0!==h&&h.length?function oa(m){return m.map(h=>{var{providerId:f}=h,_=(0,un._T)(h,["providerId"]);return{providerId:f,uid:_.rawId||"",displayName:_.displayName||null,email:_.email||null,phoneNumber:_.phoneNumber||null,photoURL:_.photoUrl||null}})}(D.providerUserInfo):[],X=function cl(m,h){return[...m.filter(_=>!h.some(E=>E.providerId===_.providerId)),...h]}(m.providerData,H),tt=!!m.isAnonymous&&!(m.email&&D.passwordHash||X?.length),xt={uid:D.localId,displayName:D.displayName||null,photoURL:D.photoUrl||null,email:D.email||null,emailVerified:D.emailVerified||!1,phoneNumber:D.phoneNumber||null,tenantId:D.tenantId||null,providerData:X,metadata:new Fs(D.createdAt,D.lastLoginAt),isAnonymous:tt};Object.assign(m,xt)}),Vr.apply(this,arguments)}function Ri(){return(Ri=(0,O.Z)(function*(m){const h=(0,C.m9)(m);yield Fr(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function oo(){return(oo=(0,O.Z)(function*(m,h){const f=yield Ae(m,{},(0,O.Z)(function*(){const _=(0,C.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:E,apiKey:D}=m.config,H=an(m,E,"/v1/token",`key=${D}`),X=yield m._getAdditionalHeaders();return X["Content-Type"]="application/x-www-form-urlencoded",ee.fetch()(H,{method:"POST",headers:X,body:_})}));return{accessToken:f.access_token,expiresIn:f.expires_in,refreshToken:f.refresh_token}})).apply(this,arguments)}function F(){return(F=(0,O.Z)(function*(m,h){return he(m,"POST","/v2/accounts:revokeToken",ne(m,h))})).apply(this,arguments)}class A{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){Ee(h.idToken,"internal-error"),Ee(typeof h.idToken<"u","internal-error"),Ee(typeof h.refreshToken<"u","internal-error");const f="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):function $a(m){const h=Jn(m);return Ee(h,"internal-error"),Ee(typeof h.exp<"u","internal-error"),Ee(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,f)}getToken(h,f=!1){var _=this;return(0,O.Z)(function*(){return Ee(!_.accessToken||_.refreshToken,h,"user-token-expired"),f||!_.accessToken||_.isExpired?_.refreshToken?(yield _.refresh(h,_.refreshToken),_.accessToken):null:_.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,f){var _=this;return(0,O.Z)(function*(){const{accessToken:E,refreshToken:D,expiresIn:H}=yield function ja(m,h){return oo.apply(this,arguments)}(h,f);_.updateTokensAndExpiration(E,D,Number(H))})()}updateTokensAndExpiration(h,f,_){this.refreshToken=f||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*_}static fromJSON(h,f){const{refreshToken:_,accessToken:E,expirationTime:D}=f,H=new A;return _&&(Ee("string"==typeof _,"internal-error",{appName:h}),H.refreshToken=_),E&&(Ee("string"==typeof E,"internal-error",{appName:h}),H.accessToken=E),D&&(Ee("number"==typeof D,"internal-error",{appName:h}),H.expirationTime=D),H}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new A,this.toJSON())}_performRefresh(){return nn("not implemented")}}function R(m,h){Ee("string"==typeof m||typeof m>"u","internal-error",{appName:h})}class T{constructor(h){var{uid:f,auth:_,stsTokenManager:E}=h,D=(0,un._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gs(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=f,this.auth=_,this.stsTokenManager=E,this.accessToken=E.accessToken,this.displayName=D.displayName||null,this.email=D.email||null,this.emailVerified=D.emailVerified||!1,this.phoneNumber=D.phoneNumber||null,this.photoURL=D.photoURL||null,this.isAnonymous=D.isAnonymous||!1,this.tenantId=D.tenantId||null,this.providerData=D.providerData?[...D.providerData]:[],this.metadata=new Fs(D.createdAt||void 0,D.lastLoginAt||void 0)}getIdToken(h){var f=this;return(0,O.Z)(function*(){const _=yield Vn(f,f.stsTokenManager.getToken(f.auth,h));return Ee(_,f.auth,"internal-error"),f.accessToken!==_&&(f.accessToken=_,yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)),_})()}getIdTokenResult(h){return function Lr(m){return pn.apply(this,arguments)}(this,h)}reload(){return function ai(m){return Ri.apply(this,arguments)}(this)}_assign(h){this!==h&&(Ee(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(f=>Object.assign({},f)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const f=new T(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return f.metadata._copy(this.metadata),f}_onReload(h){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,f=!1){var _=this;return(0,O.Z)(function*(){let E=!1;h.idToken&&h.idToken!==_.stsTokenManager.accessToken&&(_.stsTokenManager.updateFromServerResponse(h),E=!0),f&&(yield Fr(_)),yield _.auth._persistUserIfCurrent(_),E&&_.auth._notifyListenersIfCurrent(_)})()}delete(){var h=this;return(0,O.Z)(function*(){const f=yield h.getIdToken();return yield Vn(h,function Dr(m,h){return Di.apply(this,arguments)}(h.auth,{idToken:f})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,f){var _,E,D,H,X,ge,ze,tt;const xt=null!==(_=f.displayName)&&void 0!==_?_:void 0,pi=null!==(E=f.email)&&void 0!==E?E:void 0,mo=null!==(D=f.phoneNumber)&&void 0!==D?D:void 0,Yc=null!==(H=f.photoURL)&&void 0!==H?H:void 0,Ll=null!==(X=f.tenantId)&&void 0!==X?X:void 0,qo=null!==(ge=f._redirectEventId)&&void 0!==ge?ge:void 0,Qp=null!==(ze=f.createdAt)&&void 0!==ze?ze:void 0,Gs=null!==(tt=f.lastLoginAt)&&void 0!==tt?tt:void 0,{uid:Fl,emailVerified:xa,isAnonymous:Jc,providerData:Mr,stsTokenManager:Ya}=f;Ee(Fl&&Ya,h,"internal-error");const Le=A.fromJSON(this.name,Ya);Ee("string"==typeof Fl,h,"internal-error"),R(xt,h.name),R(pi,h.name),Ee("boolean"==typeof xa,h,"internal-error"),Ee("boolean"==typeof Jc,h,"internal-error"),R(mo,h.name),R(Yc,h.name),R(Ll,h.name),R(qo,h.name),R(Qp,h.name),R(Gs,h.name);const Ra=new T({uid:Fl,auth:h,email:pi,emailVerified:xa,displayName:xt,isAnonymous:Jc,photoURL:Yc,phoneNumber:mo,tenantId:Ll,stsTokenManager:Le,createdAt:Qp,lastLoginAt:Gs});return Mr&&Array.isArray(Mr)&&(Ra.providerData=Mr.map(zh=>Object.assign({},zh))),qo&&(Ra._redirectEventId=qo),Ra}static _fromIdTokenResponse(h,f,_=!1){return(0,O.Z)(function*(){const E=new A;E.updateFromServerResponse(f);const D=new T({uid:f.localId,auth:h,stsTokenManager:E,isAnonymous:_});return yield Fr(D),D})()}}const V=new Map;function se(m){Fn(m instanceof Function,"Expected a class definition");let h=V.get(m);return h?(Fn(h instanceof m,"Instance stored in cache mismatched with class"),h):(h=new m,V.set(m,h),h)}const je=(()=>{class m{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,O.Z)(function*(){return!0})()}_set(f,_){var E=this;return(0,O.Z)(function*(){E.storage[f]=_})()}_get(f){var _=this;return(0,O.Z)(function*(){const E=_.storage[f];return void 0===E?null:E})()}_remove(f){var _=this;return(0,O.Z)(function*(){delete _.storage[f]})()}_addListener(f,_){}_removeListener(f,_){}}return m.type="NONE",m})();function ht(m,h,f){return`firebase:${m}:${h}:${f}`}class ln{constructor(h,f,_){this.persistence=h,this.auth=f,this.userKey=_;const{config:E,name:D}=this.auth;this.fullUserKey=ht(this.userKey,E.apiKey,D),this.fullPersistenceKey=ht("persistence",E.apiKey,D),this.boundEventHandler=f._onStorageEvent.bind(f),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,O.Z)(function*(){const f=yield h.persistence._get(h.fullUserKey);return f?T._fromJSON(h.auth,f):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var f=this;return(0,O.Z)(function*(){if(f.persistence===h)return;const _=yield f.getCurrentUser();return yield f.removeCurrentUser(),f.persistence=h,_?f.setCurrentUser(_):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,f,_="authUser"){return(0,O.Z)(function*(){if(!f.length)return new ln(se(je),h,_);const E=(yield Promise.all(f.map(function(){var ze=(0,O.Z)(function*(tt){if(yield tt._isAvailable())return tt});return function(tt){return ze.apply(this,arguments)}}()))).filter(ze=>ze);let D=E[0]||se(je);const H=ht(_,h.config.apiKey,h.name);let X=null;for(const ze of f)try{const tt=yield ze._get(H);if(tt){const xt=T._fromJSON(h,tt);ze!==D&&(X=xt),D=ze;break}}catch{}const ge=E.filter(ze=>ze._shouldAllowMigration);return D._shouldAllowMigration&&ge.length?(D=ge[0],X&&(yield D._set(H,X.toJSON())),yield Promise.all(f.map(function(){var ze=(0,O.Z)(function*(tt){if(tt!==D)try{yield tt._remove(H)}catch{}});return function(tt){return ze.apply(this,arguments)}}())),new ln(D,h,_)):new ln(D,h,_)})()}}function ke(m){const h=m.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(aa(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(Cn(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(j(h))return"Blackberry";if(ve(h))return"Webos";if(Ye(h))return"Safari";if((h.includes("chrome/")||zr(h))&&!h.includes("edge/"))return"Chrome";if(Y(h))return"Android";{const _=m.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===_?.length)return _[1]}return"Other"}function Cn(m=(0,C.z$)()){return/firefox\//i.test(m)}function Ye(m=(0,C.z$)()){const h=m.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function zr(m=(0,C.z$)()){return/crios\//i.test(m)}function aa(m=(0,C.z$)()){return/iemobile/i.test(m)}function Y(m=(0,C.z$)()){return/android/i.test(m)}function j(m=(0,C.z$)()){return/blackberry/i.test(m)}function ve(m=(0,C.z$)()){return/webos/i.test(m)}function Ke(m=(0,C.z$)()){return/iphone|ipad|ipod/i.test(m)||/macintosh/i.test(m)&&/mobile/i.test(m)}function Ft(m=(0,C.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(m)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(m)}function mr(m=(0,C.z$)()){return Ke(m)||Y(m)||ve(m)||j(m)||/windows phone/i.test(m)||aa(m)}function Wt(m,h=[]){let f;switch(m){case"Browser":f=ke((0,C.z$)());break;case"Worker":f=`${ke((0,C.z$)())}-${m}`;break;default:f=m}const _=h.length?h.join(","):"FirebaseCore-web";return`${f}/JsCore/${q.SDK_VERSION}/${_}`}class pu{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,f){const _=D=>new Promise((H,X)=>{try{H(h(D))}catch(ge){X(ge)}});_.onAbort=f,this.queue.push(_);const E=this.queue.length-1;return()=>{this.queue[E]=()=>Promise.resolve()}}runMiddleware(h){var f=this;return(0,O.Z)(function*(){if(f.auth.currentUser===h)return;const _=[];try{for(const E of f.queue)yield E(h),E.onAbort&&_.push(E.onAbort)}catch(E){_.reverse();for(const D of _)try{D()}catch{}throw f.auth._errorFactory.create("login-blocked",{originalMessage:E?.message})}})()}}function wc(){return(wc=(0,O.Z)(function*(m,h={}){return he(m,"GET","/v2/passwordPolicy",ne(m,h))})).apply(this,arguments)}class Pi{constructor(h){var f,_,E,D;const H=h.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(f=H.minPasswordLength)&&void 0!==f?f:6,H.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=H.maxPasswordLength),void 0!==H.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=H.containsLowercaseCharacter),void 0!==H.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=H.containsUppercaseCharacter),void 0!==H.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=H.containsNumericCharacter),void 0!==H.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=H.containsNonAlphanumericCharacter),this.enforcementState=h.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(E=null===(_=h.allowedNonAlphanumericCharacters)||void 0===_?void 0:_.join(""))&&void 0!==E?E:"",this.forceUpgradeOnSignin=null!==(D=h.forceUpgradeOnSignin)&&void 0!==D&&D,this.schemaVersion=h.schemaVersion}validatePassword(h){var f,_,E,D,H,X;const ge={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(h,ge),this.validatePasswordCharacterOptions(h,ge),ge.isValid&&(ge.isValid=null===(f=ge.meetsMinPasswordLength)||void 0===f||f),ge.isValid&&(ge.isValid=null===(_=ge.meetsMaxPasswordLength)||void 0===_||_),ge.isValid&&(ge.isValid=null===(E=ge.containsLowercaseLetter)||void 0===E||E),ge.isValid&&(ge.isValid=null===(D=ge.containsUppercaseLetter)||void 0===D||D),ge.isValid&&(ge.isValid=null===(H=ge.containsNumericCharacter)||void 0===H||H),ge.isValid&&(ge.isValid=null===(X=ge.containsNonAlphanumericCharacter)||void 0===X||X),ge}validatePasswordLengthOptions(h,f){const _=this.customStrengthOptions.minPasswordLength,E=this.customStrengthOptions.maxPasswordLength;_&&(f.meetsMinPasswordLength=h.length>=_),E&&(f.meetsMaxPasswordLength=h.length<=E)}validatePasswordCharacterOptions(h,f){let _;this.updatePasswordCharacterOptionsStatuses(f,!1,!1,!1,!1);for(let E=0;E<h.length;E++)_=h.charAt(E),this.updatePasswordCharacterOptionsStatuses(f,_>="a"&&_<="z",_>="A"&&_<="Z",_>="0"&&_<="9",this.allowedNonAlphanumericCharacters.includes(_))}updatePasswordCharacterOptionsStatuses(h,f,_,E,D){this.customStrengthOptions.containsLowercaseLetter&&(h.containsLowercaseLetter||(h.containsLowercaseLetter=f)),this.customStrengthOptions.containsUppercaseLetter&&(h.containsUppercaseLetter||(h.containsUppercaseLetter=_)),this.customStrengthOptions.containsNumericCharacter&&(h.containsNumericCharacter||(h.containsNumericCharacter=E)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(h.containsNonAlphanumericCharacter||(h.containsNonAlphanumericCharacter=D))}}class YI{constructor(h,f,_,E){this.app=h,this.heartbeatServiceProvider=f,this.appCheckServiceProvider=_,this.config=E,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new c_(this),this.idTokenSubscription=new c_(this),this.beforeStateQueue=new pu(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=E.sdkClientVersion}_initializeWithPersistence(h,f){var _=this;return f&&(this._popupRedirectResolver=se(f)),this._initializationPromise=this.queue((0,O.Z)(function*(){var E,D;if(!_._deleted&&(_.persistenceManager=yield ln.create(_,h),!_._deleted)){if(null!==(E=_._popupRedirectResolver)&&void 0!==E&&E._shouldInitProactively)try{yield _._popupRedirectResolver._initialize(_)}catch{}yield _.initializeCurrentUser(f),_.lastNotifiedUid=(null===(D=_.currentUser)||void 0===D?void 0:D.uid)||null,!_._deleted&&(_._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,O.Z)(function*(){if(h._deleted)return;const f=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||f){if(h.currentUser&&f&&h.currentUser.uid===f.uid)return h._currentUser._assign(f),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(f,!0)}})()}initializeCurrentUser(h){var f=this;return(0,O.Z)(function*(){var _;const E=yield f.assertedPersistence.getCurrentUser();let D=E,H=!1;if(h&&f.config.authDomain){yield f.getOrInitRedirectPersistenceManager();const X=null===(_=f.redirectUser)||void 0===_?void 0:_._redirectEventId,ge=D?._redirectEventId,ze=yield f.tryRedirectSignIn(h);(!X||X===ge)&&ze?.user&&(D=ze.user,H=!0)}if(!D)return f.directlySetCurrentUser(null);if(!D._redirectEventId){if(H)try{yield f.beforeStateQueue.runMiddleware(D)}catch(X){D=E,f._popupRedirectResolver._overrideRedirectResult(f,()=>Promise.reject(X))}return D?f.reloadAndSetCurrentUserOrClear(D):f.directlySetCurrentUser(null)}return Ee(f._popupRedirectResolver,f,"argument-error"),yield f.getOrInitRedirectPersistenceManager(),f.redirectUser&&f.redirectUser._redirectEventId===D._redirectEventId?f.directlySetCurrentUser(D):f.reloadAndSetCurrentUserOrClear(D)})()}tryRedirectSignIn(h){var f=this;return(0,O.Z)(function*(){let _=null;try{_=yield f._popupRedirectResolver._completeRedirectFn(f,h,!0)}catch{yield f._setRedirectUser(null)}return _})()}reloadAndSetCurrentUserOrClear(h){var f=this;return(0,O.Z)(function*(){try{yield Fr(h)}catch(_){if("auth/network-request-failed"!==_?.code)return f.directlySetCurrentUser(null)}return f.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function bt(){if(typeof navigator>"u")return null;const m=navigator;return m.languages&&m.languages[0]||m.language||null}()}_delete(){var h=this;return(0,O.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var f=this;return(0,O.Z)(function*(){const _=h?(0,C.m9)(h):null;return _&&Ee(_.auth.config.apiKey===f.config.apiKey,f,"invalid-user-token"),f._updateCurrentUser(_&&_._clone(f))})()}_updateCurrentUser(h,f=!1){var _=this;return(0,O.Z)(function*(){if(!_._deleted)return h&&Ee(_.tenantId===h.tenantId,_,"tenant-id-mismatch"),f||(yield _.beforeStateQueue.runMiddleware(h)),_.queue((0,O.Z)(function*(){yield _.directlySetCurrentUser(h),_.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,O.Z)(function*(){return yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0)})()}setPersistence(h){var f=this;return this.queue((0,O.Z)(function*(){yield f.assertedPersistence.setPersistence(se(h))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(h){var f=this;return(0,O.Z)(function*(){f._getPasswordPolicyInternal()||(yield f._updatePasswordPolicy());const _=f._getPasswordPolicyInternal();return _.schemaVersion!==f.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(f._errorFactory.create("unsupported-password-policy-schema-version",{})):_.validatePassword(h)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var h=this;return(0,O.Z)(function*(){const f=yield function QI(m){return wc.apply(this,arguments)}(h),_=new Pi(f);null===h.tenantId?h._projectPasswordPolicy=_:h._tenantPasswordPolicies[h.tenantId]=_})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new C.LL("auth","Firebase",h())}onAuthStateChanged(h,f,_){return this.registerStateListener(this.authStateSubscription,h,f,_)}beforeAuthStateChanged(h,f){return this.beforeStateQueue.pushCallback(h,f)}onIdTokenChanged(h,f,_){return this.registerStateListener(this.idTokenSubscription,h,f,_)}authStateReady(){return new Promise((h,f)=>{if(this.currentUser)h();else{const _=this.onAuthStateChanged(()=>{_(),h()},f)}})}revokeAccessToken(h){var f=this;return(0,O.Z)(function*(){if(f.currentUser){const _=yield f.currentUser.getIdToken(),E={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:h,idToken:_};null!=f.tenantId&&(E.tenantId=f.tenantId),yield function U(m,h){return F.apply(this,arguments)}(f,E)}})()}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,f){var _=this;return(0,O.Z)(function*(){const E=yield _.getOrInitRedirectPersistenceManager(f);return null===h?E.removeCurrentUser():E.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var f=this;return(0,O.Z)(function*(){if(!f.redirectPersistenceManager){const _=h&&se(h)||f._popupRedirectResolver;Ee(_,f,"argument-error"),f.redirectPersistenceManager=yield ln.create(f,[se(_._redirectPersistence)],"redirectUser"),f.redirectUser=yield f.redirectPersistenceManager.getCurrentUser()}return f.redirectPersistenceManager})()}_redirectUserForId(h){var f=this;return(0,O.Z)(function*(){var _,E;return f._isInitialized&&(yield f.queue((0,O.Z)(function*(){}))),(null===(_=f._currentUser)||void 0===_?void 0:_._redirectEventId)===h?f._currentUser:(null===(E=f.redirectUser)||void 0===E?void 0:E._redirectEventId)===h?f.redirectUser:null})()}_persistUserIfCurrent(h){var f=this;return(0,O.Z)(function*(){if(h===f.currentUser)return f.queue((0,O.Z)(function*(){return f.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,f;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const _=null!==(f=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==f?f:null;this.lastNotifiedUid!==_&&(this.lastNotifiedUid=_,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,f,_,E){if(this._deleted)return()=>{};const D="function"==typeof f?f:f.next.bind(f);let H=!1;const X=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(X,this,"internal-error"),X.then(()=>{H||D(this.currentUser)}),"function"==typeof f){const ge=h.addObserver(f,_,E);return()=>{H=!0,ge()}}{const ge=h.addObserver(f);return()=>{H=!0,ge()}}}directlySetCurrentUser(h){var f=this;return(0,O.Z)(function*(){f.currentUser&&f.currentUser!==h&&f._currentUser._stopProactiveRefresh(),h&&f.isProactiveRefreshEnabled&&h._startProactiveRefresh(),f.currentUser=h,h?yield f.assertedPersistence.setCurrentUser(h):yield f.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=Wt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,O.Z)(function*(){var f;const _={"X-Client-Version":h.clientVersion};h.app.options.appId&&(_["X-Firebase-gmpid"]=h.app.options.appId);const E=yield null===(f=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===f?void 0:f.getHeartbeatsHeader();E&&(_["X-Firebase-Client"]=E);const D=yield h._getAppCheckToken();return D&&(_["X-Firebase-AppCheck"]=D),_})()}_getAppCheckToken(){var h=this;return(0,O.Z)(function*(){var f;const _=yield null===(f=h.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===f?void 0:f.getToken();return _?.error&&function An(m,...h){It.logLevel<=Ge.in.WARN&&It.warn(`Auth (${q.SDK_VERSION}): ${m}`,...h)}(`Error while retrieving App Check token: ${_.error}`),_?.token})()}}function er(m){return(0,C.m9)(m)}class c_{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,C.ne)(f=>this.observer=f)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function rh(m){return new Promise((h,f)=>{const _=document.createElement("script");_.setAttribute("src",m),_.onload=h,_.onerror=E=>{const D=on("internal-error");D.customData=E,f(D)},_.type="text/javascript",_.charset="UTF-8",function za(){var m,h;return null!==(h=null===(m=document.getElementsByTagName("head"))||void 0===m?void 0:m[0])&&void 0!==h?h:document}().appendChild(_)})}function hp(m){return`__${m}${Math.floor(1e6*Math.random())}`}class pp{constructor(h){this.type="recaptcha-enterprise",this.auth=er(h)}verify(h="verify",f=!1){var _=this;return(0,O.Z)(function*(){function D(){return D=(0,O.Z)(function*(X){if(!f){if(null==X.tenantId&&null!=X._agentRecaptchaConfig)return X._agentRecaptchaConfig.siteKey;if(null!=X.tenantId&&void 0!==X._tenantRecaptchaConfigs[X.tenantId])return X._tenantRecaptchaConfigs[X.tenantId].siteKey}return new Promise(function(){var ge=(0,O.Z)(function*(ze,tt){so(X,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(xt=>{if(void 0!==xt.recaptchaKey){const pi=new Jr(xt);return null==X.tenantId?X._agentRecaptchaConfig=pi:X._tenantRecaptchaConfigs[X.tenantId]=pi,ze(pi.siteKey)}tt(new Error("recaptcha Enterprise site key undefined"))}).catch(xt=>{tt(xt)})});return function(ze,tt){return ge.apply(this,arguments)}}())}),D.apply(this,arguments)}function H(X,ge,ze){const tt=window.grecaptcha;Yn(tt)?tt.enterprise.ready(()=>{tt.enterprise.execute(X,{action:h}).then(xt=>{ge(xt)}).catch(()=>{ge("NO_RECAPTCHA")})}):ze(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((X,ge)=>{(function E(X){return D.apply(this,arguments)})(_.auth).then(ze=>{if(!f&&Yn(window.grecaptcha))H(ze,X,ge);else{if(typeof window>"u")return void ge(new Error("RecaptchaVerifier is only supported in browser"));rh("https://www.google.com/recaptcha/enterprise.js?render="+ze).then(()=>{H(ze,X,ge)}).catch(tt=>{ge(tt)})}}).catch(ze=>{ge(ze)})})})()}}function gu(m,h,f){return ih.apply(this,arguments)}function ih(){return(ih=(0,O.Z)(function*(m,h,f,_=!1){const E=new pp(m);let D;try{D=yield E.verify(f)}catch{D=yield E.verify(f,!0)}const H=Object.assign({},h);return Object.assign(H,_?{captchaResp:D}:{captchaResponse:D}),Object.assign(H,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(H,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),H})).apply(this,arguments)}function li(m,h,f,_){return ct.apply(this,arguments)}function ct(){return ct=(0,O.Z)(function*(m,h,f,_){var E;if(null!==(E=m._getRecaptchaConfig())&&void 0!==E&&E.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const D=yield gu(m,h,f,"getOobCode"===f);return _(m,D)}return _(m,h).catch(function(){var D=(0,O.Z)(function*(H){if("auth/missing-recaptcha-token"===H.code){console.log(`${f} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const X=yield gu(m,h,f,"getOobCode"===f);return _(m,X)}return Promise.reject(H)});return function(H){return D.apply(this,arguments)}}())}),ct.apply(this,arguments)}function sh(m,h,f){const _=er(m);Ee(_._canInitEmulator,_,"emulator-config-failed"),Ee(/^https?:\/\//.test(h),_,"invalid-emulator-scheme");const E=!!f?.disableWarnings,D=Rn(h),{host:H,port:X}=function Ao(m){const h=Rn(m),f=/(\/\/)?([^?#/]+)/.exec(m.substr(h.length));if(!f)return{host:"",port:null};const _=f[2].split("@").pop()||"",E=/^(\[[^\]]+\])(:|$)/.exec(_);if(E){const D=E[1];return{host:D,port:oh(_.substr(D.length+1))}}{const[D,H]=_.split(":");return{host:D,port:oh(H)}}}(h);_.config.emulator={url:`${D}//${H}${null===X?"":`:${X}`}/`},_.settings.appVerificationDisabledForTesting=!0,_.emulatorConfig=Object.freeze({host:H,port:X,protocol:D.replace(":",""),options:Object.freeze({disableWarnings:E})}),E||function ah(){function m(){const h=document.createElement("p"),f=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",f.position="fixed",f.width="100%",f.backgroundColor="#ffffff",f.border=".1em solid #000000",f.color="#b50000",f.bottom="0px",f.left="0px",f.margin="0px",f.zIndex="10000",f.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",m):m())}()}function Rn(m){const h=m.indexOf(":");return h<0?"":m.substr(0,h+1)}function oh(m){if(!m)return null;const h=Number(m);return isNaN(h)?null:h}class dl{constructor(h,f){this.providerId=h,this.signInMethod=f}toJSON(){return nn("not implemented")}_getIdTokenResponse(h){return nn("not implemented")}_linkToIdToken(h,f){return nn("not implemented")}_getReauthenticationResolver(h){return nn("not implemented")}}function hl(m,h){return qa.apply(this,arguments)}function qa(){return(qa=(0,O.Z)(function*(m,h){return he(m,"POST","/v1/accounts:resetPassword",ne(m,h))})).apply(this,arguments)}function mu(){return(mu=(0,O.Z)(function*(m,h){return he(m,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function p_(m,h){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,O.Z)(function*(m,h){return he(m,"POST","/v1/accounts:signUp",h)})).apply(this,arguments)}function _u(){return(_u=(0,O.Z)(function*(m,h){return he(m,"POST","/v1/accounts:update",ne(m,h))})).apply(this,arguments)}function Mi(m,h){return Sc.apply(this,arguments)}function Sc(){return(Sc=(0,O.Z)(function*(m,h){return Re(m,"POST","/v1/accounts:signInWithPassword",ne(m,h))})).apply(this,arguments)}function uh(m,h){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,O.Z)(function*(m,h){return he(m,"POST","/v1/accounts:sendOobCode",ne(m,h))})).apply(this,arguments)}function mp(){return(mp=(0,O.Z)(function*(m,h){return uh(m,h)})).apply(this,arguments)}function ch(m,h){return yu.apply(this,arguments)}function yu(){return(yu=(0,O.Z)(function*(m,h){return uh(m,h)})).apply(this,arguments)}function _p(m,h){return vu.apply(this,arguments)}function vu(){return(vu=(0,O.Z)(function*(m,h){return uh(m,h)})).apply(this,arguments)}function _n(){return(_n=(0,O.Z)(function*(m,h){return uh(m,h)})).apply(this,arguments)}function yp(){return(yp=(0,O.Z)(function*(m,h){return Re(m,"POST","/v1/accounts:signInWithEmailLink",ne(m,h))})).apply(this,arguments)}function vp(){return(vp=(0,O.Z)(function*(m,h){return Re(m,"POST","/v1/accounts:signInWithEmailLink",ne(m,h))})).apply(this,arguments)}class Ac extends dl{constructor(h,f,_,E=null){super("password",_),this._email=h,this._password=f,this._tenantId=E}static _fromEmailAndPassword(h,f){return new Ac(h,f,"password")}static _fromEmailAndCode(h,f,_=null){return new Ac(h,f,"emailLink",_)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const f="string"==typeof h?JSON.parse(h):h;if(f?.email&&f?.password){if("password"===f.signInMethod)return this._fromEmailAndPassword(f.email,f.password);if("emailLink"===f.signInMethod)return this._fromEmailAndCode(f.email,f.password,f.tenantId)}return null}_getIdTokenResponse(h){var f=this;return(0,O.Z)(function*(){switch(f.signInMethod){case"password":return li(h,{returnSecureToken:!0,email:f._email,password:f._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Mi);case"emailLink":return function XI(m,h){return yp.apply(this,arguments)}(h,{email:f._email,oobCode:f._password});default:wt(h,"internal-error")}})()}_linkToIdToken(h,f){var _=this;return(0,O.Z)(function*(){switch(_.signInMethod){case"password":return li(h,{idToken:f,returnSecureToken:!0,email:_._email,password:_._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",p_);case"emailLink":return function eE(m,h){return vp.apply(this,arguments)}(h,{idToken:f,email:_._email,oobCode:_._password});default:wt(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function Ji(m,h){return fl.apply(this,arguments)}function fl(){return(fl=(0,O.Z)(function*(m,h){return Re(m,"POST","/v1/accounts:signInWithIdp",ne(m,h))})).apply(this,arguments)}class Nn extends dl{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const f=new Nn(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(f.idToken=h.idToken),h.accessToken&&(f.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(f.nonce=h.nonce),h.pendingToken&&(f.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(f.accessToken=h.oauthToken,f.secret=h.oauthTokenSecret):wt("argument-error"),f}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const f="string"==typeof h?JSON.parse(h):h,{providerId:_,signInMethod:E}=f,D=(0,un._T)(f,["providerId","signInMethod"]);if(!_||!E)return null;const H=new Nn(_,E);return H.idToken=D.idToken||void 0,H.accessToken=D.accessToken||void 0,H.secret=D.secret,H.nonce=D.nonce,H.pendingToken=D.pendingToken||null,H}_getIdTokenResponse(h){return Ji(h,this.buildRequest())}_linkToIdToken(h,f){const _=this.buildRequest();return _.idToken=f,Ji(h,_)}_getReauthenticationResolver(h){const f=this.buildRequest();return f.autoCreate=!1,Ji(h,f)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const f={};this.idToken&&(f.id_token=this.idToken),this.accessToken&&(f.access_token=this.accessToken),this.secret&&(f.oauth_token_secret=this.secret),f.providerId=this.providerId,this.nonce&&!this.pendingToken&&(f.nonce=this.nonce),h.postBody=(0,C.xO)(f)}return h}}function Ga(){return(Ga=(0,O.Z)(function*(m,h){return he(m,"POST","/v1/accounts:sendVerificationCode",ne(m,h))})).apply(this,arguments)}function ao(){return(ao=(0,O.Z)(function*(m,h){return Re(m,"POST","/v1/accounts:signInWithPhoneNumber",ne(m,h))})).apply(this,arguments)}function Vs(){return(Vs=(0,O.Z)(function*(m,h){const f=yield Re(m,"POST","/v1/accounts:signInWithPhoneNumber",ne(m,h));if(f.temporaryProof)throw qn(m,"account-exists-with-different-credential",f);return f})).apply(this,arguments)}const Ep={USER_NOT_FOUND:"user-not-found"};function Iu(){return(Iu=(0,O.Z)(function*(m,h){return Re(m,"POST","/v1/accounts:signInWithPhoneNumber",ne(m,Object.assign(Object.assign({},h),{operation:"REAUTH"})),Ep)})).apply(this,arguments)}class De extends dl{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,f){return new De({verificationId:h,verificationCode:f})}static _fromTokenResponse(h,f){return new De({phoneNumber:h,temporaryProof:f})}_getIdTokenResponse(h){return function dh(m,h){return ao.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,f){return function ms(m,h){return Vs.apply(this,arguments)}(h,Object.assign({idToken:f},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function Ie(m,h){return Iu.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:f,verificationId:_,verificationCode:E}=this.params;return h&&f?{temporaryProof:h,phoneNumber:f}:{sessionInfo:_,code:E}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:f,verificationCode:_,phoneNumber:E,temporaryProof:D}=h;return _||f||E||D?new De({verificationId:f,verificationCode:_,phoneNumber:E,temporaryProof:D}):null}}class Do{constructor(h){var f,_,E,D,H,X;const ge=(0,C.zd)((0,C.pd)(h)),ze=null!==(f=ge.apiKey)&&void 0!==f?f:null,tt=null!==(_=ge.oobCode)&&void 0!==_?_:null,xt=function Eu(m){switch(m){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(E=ge.mode)&&void 0!==E?E:null);Ee(ze&&tt&&xt,"argument-error"),this.apiKey=ze,this.operation=xt,this.code=tt,this.continueUrl=null!==(D=ge.continueUrl)&&void 0!==D?D:null,this.languageCode=null!==(H=ge.languageCode)&&void 0!==H?H:null,this.tenantId=null!==(X=ge.tenantId)&&void 0!==X?X:null}static parseLink(h){const f=function vi(m){const h=(0,C.zd)((0,C.pd)(m)).link,f=h?(0,C.zd)((0,C.pd)(h)).deep_link_id:null,_=(0,C.zd)((0,C.pd)(m)).deep_link_id;return(_?(0,C.zd)((0,C.pd)(_)).link:null)||_||f||h||m}(h);try{return new Do(f)}catch{return null}}}let hh=(()=>{class m{constructor(){this.providerId=m.PROVIDER_ID}static credential(f,_){return Ac._fromEmailAndPassword(f,_)}static credentialWithLink(f,_){const E=Do.parseLink(_);return Ee(E,"argument-error"),Ac._fromEmailAndCode(f,E.code,E.tenantId)}}return m.PROVIDER_ID="password",m.EMAIL_PASSWORD_SIGN_IN_METHOD="password",m.EMAIL_LINK_SIGN_IN_METHOD="emailLink",m})();class lo{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class _r extends lo{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class Bs extends _r{static credentialFromJSON(h){const f="string"==typeof h?JSON.parse(h):h;return Ee("providerId"in f&&"signInMethod"in f,"argument-error"),Nn._fromParams(f)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return Ee(h.idToken||h.accessToken,"argument-error"),Nn._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return Bs.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return Bs.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:f,oauthAccessToken:_,oauthTokenSecret:E,pendingToken:D,nonce:H,providerId:X}=h;if(!_&&!E&&!f&&!D||!X)return null;try{return new Bs(X)._credential({idToken:f,accessToken:_,nonce:H,pendingToken:D})}catch{return null}}}let Oi=(()=>{class m extends _r{constructor(){super("facebook.com")}static credential(f){return Nn._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.FACEBOOK_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return m.credential(f.oauthAccessToken)}catch{return null}}}return m.FACEBOOK_SIGN_IN_METHOD="facebook.com",m.PROVIDER_ID="facebook.com",m})(),cn=(()=>{class m extends _r{constructor(){super("google.com"),this.addScope("profile")}static credential(f,_){return Nn._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GOOGLE_SIGN_IN_METHOD,idToken:f,accessToken:_})}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:_,oauthAccessToken:E}=f;if(!_&&!E)return null;try{return m.credential(_,E)}catch{return null}}}return m.GOOGLE_SIGN_IN_METHOD="google.com",m.PROVIDER_ID="google.com",m})(),$t=(()=>{class m extends _r{constructor(){super("github.com")}static credential(f){return Nn._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GITHUB_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return m.credential(f.oauthAccessToken)}catch{return null}}}return m.GITHUB_SIGN_IN_METHOD="github.com",m.PROVIDER_ID="github.com",m})();class la extends dl{constructor(h,f){super(h,h),this.pendingToken=f}_getIdTokenResponse(h){return Ji(h,this.buildRequest())}_linkToIdToken(h,f){const _=this.buildRequest();return _.idToken=f,Ji(h,_)}_getReauthenticationResolver(h){const f=this.buildRequest();return f.autoCreate=!1,Ji(h,f)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const f="string"==typeof h?JSON.parse(h):h,{providerId:_,signInMethod:E,pendingToken:D}=f;return _&&E&&D&&_===E?new la(_,D):null}static _create(h,f){return new la(h,f)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class bu extends lo{constructor(h){Ee(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return bu.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return bu.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const f=la.fromJSON(h);return Ee(f,"argument-error"),f}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:f,providerId:_}=h;if(!f||!_)return null;try{return la._create(_,f)}catch{return null}}}let xo=(()=>{class m extends _r{constructor(){super("twitter.com")}static credential(f,_){return Nn._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.TWITTER_SIGN_IN_METHOD,oauthToken:f,oauthTokenSecret:_})}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthAccessToken:_,oauthTokenSecret:E}=f;if(!_||!E)return null;try{return m.credential(_,E)}catch{return null}}}return m.TWITTER_SIGN_IN_METHOD="twitter.com",m.PROVIDER_ID="twitter.com",m})();function gl(m,h){return Tu.apply(this,arguments)}function Tu(){return(Tu=(0,O.Z)(function*(m,h){return Re(m,"POST","/v1/accounts:signUp",ne(m,h))})).apply(this,arguments)}class ui{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,f,_,E=!1){return(0,O.Z)(function*(){const D=yield T._fromIdTokenResponse(h,_,E),H=Ro(_);return new ui({user:D,providerId:H,_tokenResponse:_,operationType:f})})()}static _forOperation(h,f,_){return(0,O.Z)(function*(){yield h._updateTokensIfNecessary(_,!0);const E=Ro(_);return new ui({user:h,providerId:E,_tokenResponse:_,operationType:f})})()}}function Ro(m){return m.providerId?m.providerId:"phoneNumber"in m?"phone":null}function wp(m){return Cu.apply(this,arguments)}function Cu(){return(Cu=(0,O.Z)(function*(m){var h;const f=er(m);if(yield f._initializationPromise,null!==(h=f.currentUser)&&void 0!==h&&h.isAnonymous)return new ui({user:f.currentUser,providerId:null,operationType:"signIn"});const _=yield gl(f,{returnSecureToken:!0}),E=yield ui._fromIdTokenResponse(f,"signIn",_,!0);return yield f._updateCurrentUser(E.user),E})).apply(this,arguments)}class Po extends C.ZR{constructor(h,f,_,E){var D;super(f.code,f.message),this.operationType=_,this.user=E,Object.setPrototypeOf(this,Po.prototype),this.customData={appName:h.name,tenantId:null!==(D=h.tenantId)&&void 0!==D?D:void 0,_serverResponse:f.customData._serverResponse,operationType:_}}static _fromErrorAndOperation(h,f,_,E){return new Po(h,f,_,E)}}function Su(m,h,f,_){return("reauthenticate"===h?f._getReauthenticationResolver(m):f._getIdTokenResponse(m)).catch(D=>{throw"auth/multi-factor-auth-required"===D.code?Po._fromErrorAndOperation(m,D,h,_):D})}function Au(m){return new Set(m.map(({providerId:h})=>h).filter(h=>!!h))}function bp(m,h){return xc.apply(this,arguments)}function xc(){return xc=(0,O.Z)(function*(m,h){const f=(0,C.m9)(m);yield Ni(!0,f,h);const{providerUserInfo:_}=yield function xi(m,h){return Ls.apply(this,arguments)}(f.auth,{idToken:yield f.getIdToken(),deleteProvider:[h]}),E=Au(_||[]);return f.providerData=f.providerData.filter(D=>E.has(D.providerId)),E.has("phone")||(f.phoneNumber=null),yield f.auth._persistUserIfCurrent(f),f}),xc.apply(this,arguments)}function Du(m,h){return xu.apply(this,arguments)}function xu(){return(xu=(0,O.Z)(function*(m,h,f=!1){const _=yield Vn(m,h._linkToIdToken(m.auth,yield m.getIdToken()),f);return ui._forOperation(m,"link",_)})).apply(this,arguments)}function Ni(m,h,f){return Rc.apply(this,arguments)}function Rc(){return(Rc=(0,O.Z)(function*(m,h,f){yield Fr(h);const E=!1===m?"provider-already-linked":"no-such-provider";Ee(Au(h.providerData).has(f)===m,h.auth,E)})).apply(this,arguments)}function Ii(m,h){return Ru.apply(this,arguments)}function Ru(){return(Ru=(0,O.Z)(function*(m,h,f=!1){const{auth:_}=m,E="reauthenticate";try{const D=yield Vn(m,Su(_,E,h,m),f);Ee(D.idToken,_,"internal-error");const H=Jn(D.idToken);Ee(H,_,"internal-error");const{sub:X}=H;return Ee(m.uid===X,_,"user-mismatch"),ui._forOperation(m,E,D)}catch(D){throw"auth/user-not-found"===D?.code&&wt(_,"user-mismatch"),D}})).apply(this,arguments)}function ml(m,h){return Pc.apply(this,arguments)}function Pc(){return(Pc=(0,O.Z)(function*(m,h,f=!1){const _="signIn",E=yield Su(m,_,h),D=yield ui._fromIdTokenResponse(m,_,E);return f||(yield m._updateCurrentUser(D.user)),D})).apply(this,arguments)}function Pu(m,h){return Mc.apply(this,arguments)}function Mc(){return(Mc=(0,O.Z)(function*(m,h){return ml(er(m),h)})).apply(this,arguments)}function Tp(m,h){return fh.apply(this,arguments)}function fh(){return(fh=(0,O.Z)(function*(m,h){const f=(0,C.m9)(m);return yield Ni(!1,f,h.providerId),Du(f,h)})).apply(this,arguments)}function Cp(m,h){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,O.Z)(function*(m,h){return Ii((0,C.m9)(m),h)})).apply(this,arguments)}function ph(){return(ph=(0,O.Z)(function*(m,h){return Re(m,"POST","/v1/accounts:signInWithCustomToken",ne(m,h))})).apply(this,arguments)}function g_(m,h){return Pn.apply(this,arguments)}function Pn(){return Pn=(0,O.Z)(function*(m,h){const f=er(m),_=yield function _l(m,h){return ph.apply(this,arguments)}(f,{token:h,returnSecureToken:!0}),E=yield ui._fromIdTokenResponse(f,"signIn",_);return yield f._updateCurrentUser(E.user),E}),Pn.apply(this,arguments)}class yl{constructor(h,f){this.factorId=h,this.uid=f.mfaEnrollmentId,this.enrollmentTime=new Date(f.enrolledAt).toUTCString(),this.displayName=f.displayName}static _fromServerResponse(h,f){return"phoneInfo"in f?Hs._fromServerResponse(h,f):"totpInfo"in f?it._fromServerResponse(h,f):wt(h,"internal-error")}}class Hs extends yl{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,f){return new Hs(f)}}class it extends yl{constructor(h){super("totp",h)}static _fromServerResponse(h,f){return new it(f)}}function ei(m,h,f){var _;Ee((null===(_=f.url)||void 0===_?void 0:_.length)>0,m,"invalid-continue-uri"),Ee(typeof f.dynamicLinkDomain>"u"||f.dynamicLinkDomain.length>0,m,"invalid-dynamic-link-domain"),h.continueUrl=f.url,h.dynamicLinkDomain=f.dynamicLinkDomain,h.canHandleCodeInApp=f.handleCodeInApp,f.iOS&&(Ee(f.iOS.bundleId.length>0,m,"missing-ios-bundle-id"),h.iOSBundleId=f.iOS.bundleId),f.android&&(Ee(f.android.packageName.length>0,m,"missing-android-pkg-name"),h.androidInstallApp=f.android.installApp,h.androidMinimumVersionCode=f.android.minimumVersion,h.androidPackageName=f.android.packageName)}function en(m){return Br.apply(this,arguments)}function Br(){return(Br=(0,O.Z)(function*(m){const h=er(m);h._getPasswordPolicyInternal()&&(yield h._updatePasswordPolicy())})).apply(this,arguments)}function Rr(m,h,f){return qr.apply(this,arguments)}function qr(){return(qr=(0,O.Z)(function*(m,h,f){const _=er(m),E={requestType:"PASSWORD_RESET",email:h,clientType:"CLIENT_TYPE_WEB"};f&&ei(_,E,f),yield li(_,E,"getOobCode",ch)})).apply(this,arguments)}function ki(m,h,f){return Oc.apply(this,arguments)}function Oc(){return Oc=(0,O.Z)(function*(m,h,f){yield hl((0,C.m9)(m),{oobCode:h,newPassword:f}).catch(function(){var _=(0,O.Z)(function*(E){throw"auth/password-does-not-meet-requirements"===E.code&&en(m),E});return function(E){return _.apply(this,arguments)}}())}),Oc.apply(this,arguments)}function Sp(m,h){return vl.apply(this,arguments)}function vl(){return vl=(0,O.Z)(function*(m,h){yield function lh(m,h){return _u.apply(this,arguments)}((0,C.m9)(m),{oobCode:h})}),vl.apply(this,arguments)}function Ap(m,h){return gh.apply(this,arguments)}function gh(){return(gh=(0,O.Z)(function*(m,h){const f=(0,C.m9)(m),_=yield hl(f,{oobCode:h}),E=_.requestType;switch(Ee(E,f,"internal-error"),E){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ee(_.newEmail,f,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ee(_.mfaInfo,f,"internal-error");default:Ee(_.email,f,"internal-error")}let D=null;return _.mfaInfo&&(D=yl._fromServerResponse(er(f),_.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===_.requestType?_.newEmail:_.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===_.requestType?_.email:_.newEmail)||null,multiFactorInfo:D},operation:E}})).apply(this,arguments)}function Bn(m,h){return N.apply(this,arguments)}function N(){return(N=(0,O.Z)(function*(m,h){const{data:f}=yield Ap((0,C.m9)(m),h);return f.email})).apply(this,arguments)}function K(m,h,f){return Z.apply(this,arguments)}function Z(){return(Z=(0,O.Z)(function*(m,h,f){const _=er(m),H=yield li(_,{returnSecureToken:!0,email:h,password:f,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",gl).catch(ge=>{throw"auth/password-does-not-meet-requirements"===ge.code&&en(m),ge}),X=yield ui._fromIdTokenResponse(_,"signIn",H);return yield _._updateCurrentUser(X.user),X})).apply(this,arguments)}function Pe(m,h,f){return Pu((0,C.m9)(m),hh.credential(h,f)).catch(function(){var _=(0,O.Z)(function*(E){throw"auth/password-does-not-meet-requirements"===E.code&&en(m),E});return function(E){return _.apply(this,arguments)}}())}function gt(m,h,f){return mt.apply(this,arguments)}function mt(){return(mt=(0,O.Z)(function*(m,h,f){const _=er(m),E={requestType:"EMAIL_SIGNIN",email:h,clientType:"CLIENT_TYPE_WEB"};(function D(H,X){Ee(X.handleCodeInApp,_,"argument-error"),X&&ei(_,H,X)})(E,f),yield li(_,E,"getOobCode",_p)})).apply(this,arguments)}function Gn(m,h){const f=Do.parseLink(h);return"EMAIL_SIGNIN"===f?.operation}function Et(m,h,f){return _s.apply(this,arguments)}function _s(){return(_s=(0,O.Z)(function*(m,h,f){const _=(0,C.m9)(m),E=hh.credentialWithLink(h,f||sr());return Ee(E._tenantId===(_.tenantId||null),_,"tenant-id-mismatch"),Pu(_,E)})).apply(this,arguments)}function Je(){return(Je=(0,O.Z)(function*(m,h){return he(m,"POST","/v1/accounts:createAuthUri",ne(m,h))})).apply(this,arguments)}function ua(m,h){return Nc.apply(this,arguments)}function Nc(){return Nc=(0,O.Z)(function*(m,h){const _={identifier:h,continueUri:or()?sr():"http://localhost"},{signinMethods:E}=yield function Il(m,h){return Je.apply(this,arguments)}((0,C.m9)(m),_);return E||[]}),Nc.apply(this,arguments)}function $s(m,h){return kn.apply(this,arguments)}function kn(){return kn=(0,O.Z)(function*(m,h){const f=(0,C.m9)(m),E={requestType:"VERIFY_EMAIL",idToken:yield m.getIdToken()};h&&ei(f.auth,E,h);const{email:D}=yield function gp(m,h){return mp.apply(this,arguments)}(f.auth,E);D!==m.email&&(yield m.reload())}),kn.apply(this,arguments)}function ca(m,h,f){return tn.apply(this,arguments)}function tn(){return tn=(0,O.Z)(function*(m,h,f){const _=(0,C.m9)(m),D={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield m.getIdToken(),newEmail:h};f&&ei(_.auth,D,f);const{email:H}=yield function Un(m,h){return _n.apply(this,arguments)}(_.auth,D);H!==m.email&&(yield m.reload())}),tn.apply(this,arguments)}function da(){return(da=(0,O.Z)(function*(m,h){return he(m,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Mu(m,h){return co.apply(this,arguments)}function co(){return co=(0,O.Z)(function*(m,{displayName:h,photoURL:f}){if(void 0===h&&void 0===f)return;const _=(0,C.m9)(m),D={idToken:yield _.getIdToken(),displayName:h,photoUrl:f,returnSecureToken:!0},H=yield Vn(_,function uo(m,h){return da.apply(this,arguments)}(_.auth,D));_.displayName=H.displayName||null,_.photoURL=H.photoUrl||null;const X=_.providerData.find(({providerId:ge})=>"password"===ge);X&&(X.displayName=_.displayName,X.photoURL=_.photoURL),yield _._updateTokensIfNecessary(H)}),co.apply(this,arguments)}function Mo(m,h){return Oo((0,C.m9)(m),h,null)}function Ou(m,h){return Oo((0,C.m9)(m),null,h)}function Oo(m,h,f){return Tt.apply(this,arguments)}function Tt(){return Tt=(0,O.Z)(function*(m,h,f){const{auth:_}=m,D={idToken:yield m.getIdToken(),returnSecureToken:!0};h&&(D.email=h),f&&(D.password=f);const H=yield Vn(m,function Cc(m,h){return mu.apply(this,arguments)}(_,D));yield m._updateTokensIfNecessary(H,!0)}),Tt.apply(this,arguments)}class No{constructor(h,f,_={}){this.isNewUser=h,this.providerId=f,this.profile=_}}class El extends No{constructor(h,f,_,E){super(h,f,_),this.username=E}}class js extends No{constructor(h,f){super(h,"facebook.com",f)}}class Nu extends El{constructor(h,f){super(h,"github.com",f,"string"==typeof f?.login?f?.login:null)}}class ko extends No{constructor(h,f){super(h,"google.com",f)}}class wl extends El{constructor(h,f,_){super(h,"twitter.com",f,_)}}function yr(m){const{user:h,_tokenResponse:f}=m;return h.isAnonymous&&!f?{providerId:null,isNewUser:!1,profile:null}:function mh(m){var h,f;if(!m)return null;const{providerId:_}=m,E=m.rawUserInfo?JSON.parse(m.rawUserInfo):{},D=m.isNewUser||"identitytoolkit#SignupNewUserResponse"===m.kind;if(!_&&m?.idToken){const H=null===(f=null===(h=Jn(m.idToken))||void 0===h?void 0:h.firebase)||void 0===f?void 0:f.sign_in_provider;if(H)return new No(D,"anonymous"!==H&&"custom"!==H?H:null)}if(!_)return null;switch(_){case"facebook.com":return new js(D,E);case"github.com":return new Nu(D,E);case"google.com":return new ko(D,E);case"twitter.com":return new wl(D,E,m.screenName||null);case"custom":case"anonymous":return new No(D,null);default:return new No(D,_,E)}}(f)}class Ir{constructor(h,f,_){this.type=h,this.credential=f,this.user=_}static _fromIdtoken(h,f){return new Ir("enroll",h,f)}static _fromMfaPendingCredential(h){return new Ir("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var f,_;if(h?.multiFactorSession){if(null!==(f=h.multiFactorSession)&&void 0!==f&&f.pendingCredential)return Ir._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null!==(_=h.multiFactorSession)&&void 0!==_&&_.idToken)return Ir._fromIdtoken(h.multiFactorSession.idToken)}return null}}class Dp{constructor(h,f,_){this.session=h,this.hints=f,this.signInResolver=_}static _fromError(h,f){const _=er(h),E=f.customData._serverResponse,D=(E.mfaInfo||[]).map(X=>yl._fromServerResponse(_,X));Ee(E.mfaPendingCredential,_,"internal-error");const H=Ir._fromMfaPendingCredential(E.mfaPendingCredential);return new Dp(H,D,function(){var X=(0,O.Z)(function*(ge){const ze=yield ge._process(_,H);delete E.mfaInfo,delete E.mfaPendingCredential;const tt=Object.assign(Object.assign({},E),{idToken:ze.idToken,refreshToken:ze.refreshToken});switch(f.operationType){case"signIn":const xt=yield ui._fromIdTokenResponse(_,f.operationType,tt);return yield _._updateCurrentUser(xt.user),xt;case"reauthenticate":return Ee(f.user,_,"internal-error"),ui._forOperation(f.user,f.operationType,tt);default:wt(_,"internal-error")}});return function(ge){return X.apply(this,arguments)}}())}resolveSignIn(h){var f=this;return(0,O.Z)(function*(){return f.signInResolver(h)})()}}function rE(m,h){var f;const _=(0,C.m9)(m),E=h;return Ee(h.customData.operationType,_,"argument-error"),Ee(null===(f=E.customData._serverResponse)||void 0===f?void 0:f.mfaPendingCredential,_,"argument-error"),Dp._fromError(_,E)}class Za{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(f=>{f.mfaInfo&&(this.enrolledFactors=f.mfaInfo.map(_=>yl._fromServerResponse(h.auth,_)))})}static _fromUser(h){return new Za(h)}getSession(){var h=this;return(0,O.Z)(function*(){return Ir._fromIdtoken(yield h.user.getIdToken(),h.user)})()}enroll(h,f){var _=this;return(0,O.Z)(function*(){const E=h,D=yield _.getSession(),H=yield Vn(_.user,E._process(_.user.auth,D,f));return yield _.user._updateTokensIfNecessary(H),_.user.reload()})()}unenroll(h){var f=this;return(0,O.Z)(function*(){const _="string"==typeof h?h:h.uid,E=yield f.user.getIdToken();try{const D=yield Vn(f.user,function xp(m,h){return he(m,"POST","/v2/accounts/mfaEnrollment:withdraw",ne(m,h))}(f.user.auth,{idToken:E,mfaEnrollmentId:_}));f.enrolledFactors=f.enrolledFactors.filter(({uid:H})=>H!==_),yield f.user._updateTokensIfNecessary(D),yield f.user.reload()}catch(D){throw D}})()}}const bl=new WeakMap;function Fc(m){const h=(0,C.m9)(m);return bl.has(h)||bl.set(h,Za._fromUser(h)),bl.get(h)}const Tl="__sak";class ha{constructor(h,f){this.storageRetriever=h,this.type=f}_isAvailable(){try{return this.storage?(this.storage.setItem(Tl,"1"),this.storage.removeItem(Tl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,f){return this.storage.setItem(h,JSON.stringify(f)),Promise.resolve()}_get(h){const f=this.storage.getItem(h);return Promise.resolve(f?JSON.parse(f):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const fa=(()=>{class m extends ha{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(f,_)=>this.onStorageEvent(f,_),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Rp(){const m=(0,C.z$)();return Ye(m)||Ke(m)}()&&function Be(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=mr(),this._shouldAllowMigration=!0}forAllChangedKeys(f){for(const _ of Object.keys(this.listeners)){const E=this.storage.getItem(_),D=this.localCache[_];E!==D&&f(_,D,E)}}onStorageEvent(f,_=!1){if(!f.key)return void this.forAllChangedKeys((X,ge,ze)=>{this.notifyListeners(X,ze)});const E=f.key;if(_?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const X=this.storage.getItem(E);if(f.newValue!==X)null!==f.newValue?this.storage.setItem(E,f.newValue):this.storage.removeItem(E);else if(this.localCache[E]===f.newValue&&!_)return}const D=()=>{const X=this.storage.getItem(E);!_&&this.localCache[E]===X||this.notifyListeners(E,X)},H=this.storage.getItem(E);!function W(){return(0,C.w1)()&&10===document.documentMode}()||H===f.newValue||f.newValue===f.oldValue?D():setTimeout(D,10)}notifyListeners(f,_){this.localCache[f]=_;const E=this.listeners[f];if(E)for(const D of Array.from(E))D(_&&JSON.parse(_))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((f,_,E)=>{this.onStorageEvent(new StorageEvent("storage",{key:f,oldValue:_,newValue:E}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(f,_){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[f]||(this.listeners[f]=new Set,this.localCache[f]=this.storage.getItem(f)),this.listeners[f].add(_)}_removeListener(f,_){this.listeners[f]&&(this.listeners[f].delete(_),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(f,_){var E=()=>super._set,D=this;return(0,O.Z)(function*(){yield E().call(D,f,_),D.localCache[f]=JSON.stringify(_)})()}_get(f){var _=()=>super._get,E=this;return(0,O.Z)(function*(){const D=yield _().call(E,f);return E.localCache[f]=JSON.stringify(D),D})()}_remove(f){var _=()=>super._remove,E=this;return(0,O.Z)(function*(){yield _().call(E,f),delete E.localCache[f]})()}}return m.type="LOCAL",m})(),Cl=(()=>{class m extends ha{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(f,_){}_removeListener(f,_){}}return m.type="SESSION",m})();let S=(()=>{class m{constructor(f){this.eventTarget=f,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(f){const _=this.receivers.find(D=>D.isListeningto(f));if(_)return _;const E=new m(f);return this.receivers.push(E),E}isListeningto(f){return this.eventTarget===f}handleEvent(f){var _=this;return(0,O.Z)(function*(){const E=f,{eventId:D,eventType:H,data:X}=E.data,ge=_.handlersMap[H];if(!ge?.size)return;E.ports[0].postMessage({status:"ack",eventId:D,eventType:H});const ze=Array.from(ge).map(function(){var xt=(0,O.Z)(function*(pi){return pi(E.origin,X)});return function(pi){return xt.apply(this,arguments)}}()),tt=yield function v_(m){return Promise.all(m.map(function(){var h=(0,O.Z)(function*(f){try{return{fulfilled:!0,value:yield f}}catch(_){return{fulfilled:!1,reason:_}}});return function(f){return h.apply(this,arguments)}}()))}(ze);E.ports[0].postMessage({status:"done",eventId:D,eventType:H,response:tt})})()}_subscribe(f,_){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[f]||(this.handlersMap[f]=new Set),this.handlersMap[f].add(_)}_unsubscribe(f,_){this.handlersMap[f]&&_&&this.handlersMap[f].delete(_),(!_||0===this.handlersMap[f].size)&&delete this.handlersMap[f],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return m.receivers=[],m})();function es(m="",h=10){let f="";for(let _=0;_<h;_++)f+=Math.floor(10*Math.random());return m+f}class Ei{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,f,_=50){var E=this;return(0,O.Z)(function*(){const D=typeof MessageChannel<"u"?new MessageChannel:null;if(!D)throw new Error("connection_unavailable");let H,X;return new Promise((ge,ze)=>{const tt=es("",20);D.port1.start();const xt=setTimeout(()=>{ze(new Error("unsupported_event"))},_);X={messageChannel:D,onMessage(pi){const mo=pi;if(mo.data.eventId===tt)switch(mo.data.status){case"ack":clearTimeout(xt),H=setTimeout(()=>{ze(new Error("timeout"))},3e3);break;case"done":clearTimeout(H),ge(mo.data.response);break;default:clearTimeout(xt),clearTimeout(H),ze(new Error("invalid_response"))}}},E.handlers.add(X),D.port1.addEventListener("message",X.onMessage),E.target.postMessage({eventType:h,eventId:tt,data:f},[D.port2])}).finally(()=>{X&&E.removeMessageHandler(X)})})()}}function hn(){return window}function Vc(){return typeof hn().WorkerGlobalScope<"u"&&"function"==typeof hn().importScripts}function Fu(){return(Fu=(0,O.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Uc="firebaseLocalStorageDb",Vu="firebaseLocalStorage",yh="fbase_key";class di{constructor(h){this.request=h}toPromise(){return new Promise((h,f)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{f(this.request.error)})})}}function ga(m,h){return m.transaction([Vu],h?"readwrite":"readonly").objectStore(Vu)}function Bc(){const m=indexedDB.open(Uc,1);return new Promise((h,f)=>{m.addEventListener("error",()=>{f(m.error)}),m.addEventListener("upgradeneeded",()=>{const _=m.result;try{_.createObjectStore(Vu,{keyPath:yh})}catch(E){f(E)}}),m.addEventListener("success",(0,O.Z)(function*(){const _=m.result;_.objectStoreNames.contains(Vu)?h(_):(_.close(),yield function Sl(){const m=indexedDB.deleteDatabase(Uc);return new di(m).toPromise()}(),h(yield Bc()))}))})}function I_(m,h,f){return Op.apply(this,arguments)}function Op(){return(Op=(0,O.Z)(function*(m,h,f){const _=ga(m,!0).put({[yh]:h,value:f});return new di(_).toPromise()})).apply(this,arguments)}function vh(){return(vh=(0,O.Z)(function*(m,h){const f=ga(m,!1).get(h),_=yield new di(f).toPromise();return void 0===_?null:_.value})).apply(this,arguments)}function Np(m,h){const f=ga(m,!0).delete(h);return new di(f).toPromise()}const _a=(()=>{class m{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var f=this;return(0,O.Z)(function*(){return f.db||(f.db=yield Bc()),f.db})()}_withRetries(f){var _=this;return(0,O.Z)(function*(){let E=0;for(;;)try{const D=yield _._openDb();return yield f(D)}catch(D){if(E++>3)throw D;_.db&&(_.db.close(),_.db=void 0)}})()}initializeServiceWorkerMessaging(){var f=this;return(0,O.Z)(function*(){return Vc()?f.initializeReceiver():f.initializeSender()})()}initializeReceiver(){var f=this;return(0,O.Z)(function*(){f.receiver=S._getInstance(function _h(){return Vc()?self:null}()),f.receiver._subscribe("keyChanged",function(){var _=(0,O.Z)(function*(E,D){return{keyProcessed:(yield f._poll()).includes(D.key)}});return function(E,D){return _.apply(this,arguments)}}()),f.receiver._subscribe("ping",function(){var _=(0,O.Z)(function*(E,D){return["keyChanged"]});return function(E,D){return _.apply(this,arguments)}}())})()}initializeSender(){var f=this;return(0,O.Z)(function*(){var _,E;if(f.activeServiceWorker=yield function Pp(){return Fu.apply(this,arguments)}(),!f.activeServiceWorker)return;f.sender=new Ei(f.activeServiceWorker);const D=yield f.sender._send("ping",{},800);D&&null!==(_=D[0])&&void 0!==_&&_.fulfilled&&null!==(E=D[0])&&void 0!==E&&E.value.includes("keyChanged")&&(f.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(f){var _=this;return(0,O.Z)(function*(){if(_.sender&&_.activeServiceWorker&&function pa(){var m;return(null===(m=navigator?.serviceWorker)||void 0===m?void 0:m.controller)||null}()===_.activeServiceWorker)try{yield _.sender._send("keyChanged",{key:f},_.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,O.Z)(function*(){try{if(!indexedDB)return!1;const f=yield Bc();return yield I_(f,Tl,"1"),yield Np(f,Tl),!0}catch{}return!1})()}_withPendingWrite(f){var _=this;return(0,O.Z)(function*(){_.pendingWrites++;try{yield f()}finally{_.pendingWrites--}})()}_set(f,_){var E=this;return(0,O.Z)(function*(){return E._withPendingWrite((0,O.Z)(function*(){return yield E._withRetries(D=>I_(D,f,_)),E.localCache[f]=_,E.notifyServiceWorker(f)}))})()}_get(f){var _=this;return(0,O.Z)(function*(){const E=yield _._withRetries(D=>function ma(m,h){return vh.apply(this,arguments)}(D,f));return _.localCache[f]=E,E})()}_remove(f){var _=this;return(0,O.Z)(function*(){return _._withPendingWrite((0,O.Z)(function*(){return yield _._withRetries(E=>Np(E,f)),delete _.localCache[f],_.notifyServiceWorker(f)}))})()}_poll(){var f=this;return(0,O.Z)(function*(){const _=yield f._withRetries(H=>{const X=ga(H,!1).getAll();return new di(X).toPromise()});if(!_)return[];if(0!==f.pendingWrites)return[];const E=[],D=new Set;for(const{fbase_key:H,value:X}of _)D.add(H),JSON.stringify(f.localCache[H])!==JSON.stringify(X)&&(f.notifyListeners(H,X),E.push(H));for(const H of Object.keys(f.localCache))f.localCache[H]&&!D.has(H)&&(f.notifyListeners(H,null),E.push(H));return E})()}notifyListeners(f,_){this.localCache[f]=_;const E=this.listeners[f];if(E)for(const D of Array.from(E))D(_)}startPolling(){var f=this;this.stopPolling(),this.pollTimer=setInterval((0,O.Z)(function*(){return f._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(f,_){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[f]||(this.listeners[f]=new Set,this._get(f)),this.listeners[f].add(_)}_removeListener(f,_){this.listeners[f]&&(this.listeners[f].delete(_),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return m.type="LOCAL",m})(),Uu=1e12;class w_{constructor(h){this.auth=h,this.counter=Uu,this._widgets=new Map}render(h,f){const _=this.counter;return this._widgets.set(_,new b_(h,this.auth.name,f||{})),this.counter++,_}reset(h){var f;const _=h||Uu;null===(f=this._widgets.get(_))||void 0===f||f.delete(),this._widgets.delete(_)}getResponse(h){var f;return(null===(f=this._widgets.get(h||Uu))||void 0===f?void 0:f.getResponse())||""}execute(h){var f=this;return(0,O.Z)(function*(){var _;return null===(_=f._widgets.get(h||Uu))||void 0===_||_.execute(),""})()}}class b_{constructor(h,f,_){this.params=_,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const E="string"==typeof h?document.getElementById(h):h;Ee(E,"argument-error",{appName:f}),this.container=E,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Vp(m){const h=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let _=0;_<m;_++)h.push(f.charAt(Math.floor(62*Math.random())));return h.join("")}(50);const{callback:h,"expired-callback":f}=this.params;if(h)try{h(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,f)try{f()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Bu=hp("rcb"),T_=new Ar(3e4,6e4);class Eh{constructor(){var h;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(h=hn().grecaptcha)||void 0===h||!h.render)}load(h,f=""){return Ee(function Hc(m){return m.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(m)}(f),h,"argument-error"),this.shouldResolveImmediately(f)&&En(hn().grecaptcha)?Promise.resolve(hn().grecaptcha):new Promise((_,E)=>{const D=hn().setTimeout(()=>{E(on(h,"network-request-failed"))},T_.get());hn()[Bu]=()=>{hn().clearTimeout(D),delete hn()[Bu];const X=hn().grecaptcha;if(!X||!En(X))return void E(on(h,"internal-error"));const ge=X.render;X.render=(ze,tt)=>{const xt=ge(ze,tt);return this.counter++,xt},this.hostLanguage=f,_(X)},rh(`https://www.google.com/recaptcha/api.js??${(0,C.xO)({onload:Bu,render:"explicit",hl:f})}`).catch(()=>{clearTimeout(D),E(on(h,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){var f;return!(null===(f=hn().grecaptcha)||void 0===f||!f.render)&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class $c{load(h){return(0,O.Z)(function*(){return new w_(h)})()}clearedOneInstance(){}}const ts="recaptcha",wh={theme:"light",type:"image"};class C_{constructor(h,f,_=Object.assign({},wh)){this.parameters=_,this.type=ts,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=er(h),this.isInvisible="invisible"===this.parameters.size,Ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const E="string"==typeof f?document.getElementById(f):f;Ee(E,this.auth,"argument-error"),this.container=E,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new $c:new Eh,this.validateStartingState()}verify(){var h=this;return(0,O.Z)(function*(){h.assertNotDestroyed();const f=yield h.render(),_=h.getAssertedRecaptcha();return _.getResponse(f)||new Promise(D=>{const H=X=>{X&&(h.tokenChangeListeners.delete(H),D(X))};h.tokenChangeListeners.add(H),h.isInvisible&&_.execute(f)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){Ee(!this.parameters.sitekey,this.auth,"argument-error"),Ee(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return f=>{if(this.tokenChangeListeners.forEach(_=>_(f)),"function"==typeof h)h(f);else if("string"==typeof h){const _=hn()[h];"function"==typeof _&&_(f)}}}assertNotDestroyed(){Ee(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,O.Z)(function*(){if(yield h.init(),!h.widgetId){let f=h.container;if(!h.isInvisible){const _=document.createElement("div");f.appendChild(_),f=_}h.widgetId=h.getAssertedRecaptcha().render(f,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,O.Z)(function*(){Ee(or()&&!Vc(),h.auth,"internal-error"),yield function Lo(){let m=null;return new Promise(h=>{"complete"!==document.readyState?(m=()=>h(),window.addEventListener("load",m)):h()}).catch(h=>{throw m&&window.removeEventListener("load",m),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const f=yield function ar(m){return fs.apply(this,arguments)}(h.auth);Ee(f,h.auth,"internal-error"),h.parameters.sitekey=f})()}getAssertedRecaptcha(){return Ee(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Al{constructor(h,f){this.verificationId=h,this.onConfirmation=f}confirm(h){const f=De._fromVerification(this.verificationId,h);return this.onConfirmation(f)}}function ya(m,h,f){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,O.Z)(function*(m,h,f){const _=er(m),E=yield ys(_,h,(0,C.m9)(f));return new Al(E,D=>Pu(_,D))})).apply(this,arguments)}function bh(m,h,f){return jc.apply(this,arguments)}function jc(){return(jc=(0,O.Z)(function*(m,h,f){const _=(0,C.m9)(m);yield Ni(!1,_,"phone");const E=yield ys(_.auth,h,(0,C.m9)(f));return new Al(E,D=>Tp(_,D))})).apply(this,arguments)}function zs(m,h,f){return va.apply(this,arguments)}function va(){return(va=(0,O.Z)(function*(m,h,f){const _=(0,C.m9)(m),E=yield ys(_.auth,h,(0,C.m9)(f));return new Al(E,D=>Cp(_,D))})).apply(this,arguments)}function ys(m,h,f){return wn.apply(this,arguments)}function wn(){return wn=(0,O.Z)(function*(m,h,f){var _;const E=yield f.verify();try{let D;if(Ee("string"==typeof E,m,"argument-error"),Ee(f.type===ts,m,"argument-error"),D="string"==typeof h?{phoneNumber:h}:h,"session"in D){const H=D.session;if("phoneNumber"in D)return Ee("enroll"===H.type,m,"internal-error"),(yield function __(m,h){return he(m,"POST","/v2/accounts/mfaEnrollment:start",ne(m,h))}(m,{idToken:H.credential,phoneEnrollmentInfo:{phoneNumber:D.phoneNumber,recaptchaToken:E}})).phoneSessionInfo.sessionInfo;{Ee("signin"===H.type,m,"internal-error");const X=(null===(_=D.multiFactorHint)||void 0===_?void 0:_.uid)||D.multiFactorUid;return Ee(X,m,"missing-multi-factor-info"),(yield function Ih(m,h){return he(m,"POST","/v2/accounts/mfaSignIn:start",ne(m,h))}(m,{mfaPendingCredential:H.credential,mfaEnrollmentId:X,phoneSignInInfo:{recaptchaToken:E}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:H}=yield function Ip(m,h){return Ga.apply(this,arguments)}(m,{phoneNumber:D.phoneNumber,recaptchaToken:E});return H}}finally{f._reset()}}),wn.apply(this,arguments)}function Th(m,h){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,O.Z)(function*(m,h){yield Du((0,C.m9)(m),h)})).apply(this,arguments)}let Vi=(()=>{class m{constructor(f){this.providerId=m.PROVIDER_ID,this.auth=er(f)}verifyPhoneNumber(f,_){return ys(this.auth,f,(0,C.m9)(_))}static credential(f,_){return De._fromVerification(f,_)}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{phoneNumber:_,temporaryProof:E}=f;return _&&E?De._fromTokenResponse(_,E):null}}return m.PROVIDER_ID="phone",m.PHONE_SIGN_IN_METHOD="phone",m})();function Ia(m,h){return h?se(h):(Ee(m._popupRedirectResolver,m,"argument-error"),m._popupRedirectResolver)}class Pr extends dl{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return Ji(h,this._buildIdpRequest())}_linkToIdToken(h,f){return Ji(h,this._buildIdpRequest(f))}_getReauthenticationResolver(h){return Ji(h,this._buildIdpRequest())}_buildIdpRequest(h){const f={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(f.idToken=h),f}}function Ea(m){return ml(m.auth,new Pr(m),m.bypassAuthState)}function Ui(m){const{auth:h,user:f}=m;return Ee(f,h,"internal-error"),Ii(f,new Pr(m),m.bypassAuthState)}function po(m){return Hu.apply(this,arguments)}function Hu(){return(Hu=(0,O.Z)(function*(m){const{auth:h,user:f}=m;return Ee(f,h,"internal-error"),Du(f,new Pr(m),m.bypassAuthState)})).apply(this,arguments)}class $u{constructor(h,f,_,E,D=!1){this.auth=h,this.resolver=_,this.user=E,this.bypassAuthState=D,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(f)?f:[f]}execute(){var h=this;return new Promise(function(){var f=(0,O.Z)(function*(_,E){h.pendingPromise={resolve:_,reject:E};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(D){h.reject(D)}});return function(_,E){return f.apply(this,arguments)}}())}onAuthEvent(h){var f=this;return(0,O.Z)(function*(){const{urlResponse:_,sessionId:E,postBody:D,tenantId:H,error:X,type:ge}=h;if(X)return void f.reject(X);const ze={auth:f.auth,requestUri:_,sessionId:E,tenantId:H||void 0,postBody:D||void 0,user:f.user,bypassAuthState:f.bypassAuthState};try{f.resolve(yield f.getIdpTask(ge)(ze))}catch(tt){f.reject(tt)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return Ea;case"linkViaPopup":case"linkViaRedirect":return po;case"reauthViaPopup":case"reauthViaRedirect":return Ui;default:wt(this.auth,"internal-error")}}resolve(h){Fn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){Fn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Bi=new Ar(2e3,1e4);function Ch(m,h,f){return ti.apply(this,arguments)}function ti(){return(ti=(0,O.Z)(function*(m,h,f){const _=er(m);zn(m,h,lo);const E=Ia(_,f);return new lt(_,"signInViaPopup",h,E).executeNotNull()})).apply(this,arguments)}function zc(m,h,f){return qc.apply(this,arguments)}function qc(){return(qc=(0,O.Z)(function*(m,h,f){const _=(0,C.m9)(m);zn(_.auth,h,lo);const E=Ia(_.auth,f);return new lt(_.auth,"reauthViaPopup",h,E,_).executeNotNull()})).apply(this,arguments)}function Bp(m,h,f){return Sh.apply(this,arguments)}function Sh(){return(Sh=(0,O.Z)(function*(m,h,f){const _=(0,C.m9)(m);zn(_.auth,h,lo);const E=Ia(_.auth,f);return new lt(_.auth,"linkViaPopup",h,E,_).executeNotNull()})).apply(this,arguments)}let lt=(()=>{class m extends $u{constructor(f,_,E,D,H){super(f,_,D,H),this.provider=E,this.authWindow=null,this.pollId=null,m.currentPopupAction&&m.currentPopupAction.cancel(),m.currentPopupAction=this}executeNotNull(){var f=this;return(0,O.Z)(function*(){const _=yield f.execute();return Ee(_,f.auth,"internal-error"),_})()}onExecution(){var f=this;return(0,O.Z)(function*(){Fn(1===f.filter.length,"Popup operations only handle one event");const _=es();f.authWindow=yield f.resolver._openPopup(f.auth,f.provider,f.filter[0],_),f.authWindow.associatedEvent=_,f.resolver._originValidation(f.auth).catch(E=>{f.reject(E)}),f.resolver._isIframeWebStorageSupported(f.auth,E=>{E||f.reject(on(f.auth,"web-storage-unsupported"))}),f.pollUserCancellation()})()}get eventId(){var f;return(null===(f=this.authWindow)||void 0===f?void 0:f.associatedEvent)||null}cancel(){this.reject(on(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,m.currentPopupAction=null}pollUserCancellation(){const f=()=>{var _,E;this.pollId=null!==(E=null===(_=this.authWindow)||void 0===_?void 0:_.window)&&void 0!==E&&E.closed?window.setTimeout(()=>{this.pollId=null,this.reject(on(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(f,Bi.get())};f()}}return m.currentPopupAction=null,m})();const Hp="pendingRedirect",wa=new Map;class $p extends $u{constructor(h,f,_=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],f,void 0,_),this.eventId=null}execute(){var h=()=>super.execute,f=this;return(0,O.Z)(function*(){let _=wa.get(f.auth._key());if(!_){try{const D=(yield function S_(m,h){return Ah.apply(this,arguments)}(f.resolver,f.auth))?yield h().call(f):null;_=()=>Promise.resolve(D)}catch(E){_=()=>Promise.reject(E)}wa.set(f.auth._key(),_)}return f.bypassAuthState||wa.set(f.auth._key(),()=>Promise.resolve(null)),_()})()}onAuthEvent(h){var f=()=>super.onAuthEvent,_=this;return(0,O.Z)(function*(){if("signInViaRedirect"===h.type)return f().call(_,h);if("unknown"!==h.type){if(h.eventId){const E=yield _.auth._redirectUserForId(h.eventId);if(E)return _.user=E,f().call(_,h);_.resolve(null)}}else _.resolve(null)})()}onExecution(){return(0,O.Z)(function*(){})()}cleanUp(){}}function Ah(){return(Ah=(0,O.Z)(function*(m,h){const f=jp(h),_=Dh(m);if(!(yield _._isAvailable()))return!1;const E="true"===(yield _._get(f));return yield _._remove(f),E})).apply(this,arguments)}function ba(m,h){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,O.Z)(function*(m,h){return Dh(m)._set(jp(h),"true")})).apply(this,arguments)}function A_(){wa.clear()}function Gc(m,h){wa.set(m._key(),h)}function Dh(m){return se(m._redirectPersistence)}function jp(m){return ht(Hp,m.config.apiKey,m.name)}function D_(m,h,f){return function pe(m,h,f){return Yt.apply(this,arguments)}(m,h,f)}function Yt(){return(Yt=(0,O.Z)(function*(m,h,f){const _=er(m);zn(m,h,lo),yield _._initializationPromise;const E=Ia(_,f);return yield ba(E,_),E._openRedirect(_,h,"signInViaRedirect")})).apply(this,arguments)}function Ct(m,h,f){return function Dt(m,h,f){return Er.apply(this,arguments)}(m,h,f)}function Er(){return(Er=(0,O.Z)(function*(m,h,f){const _=(0,C.m9)(m);zn(_.auth,h,lo),yield _.auth._initializationPromise;const E=Ia(_.auth,f);yield ba(E,_.auth);const D=yield Ph(_);return E._openRedirect(_.auth,h,"reauthViaRedirect",D)})).apply(this,arguments)}function xh(m,h,f){return function Dl(m,h,f){return ns.apply(this,arguments)}(m,h,f)}function ns(){return(ns=(0,O.Z)(function*(m,h,f){const _=(0,C.m9)(m);zn(_.auth,h,lo),yield _.auth._initializationPromise;const E=Ia(_.auth,f);yield Ni(!1,_,h.providerId),yield ba(E,_.auth);const D=yield Ph(_);return E._openRedirect(_.auth,h,"linkViaRedirect",D)})).apply(this,arguments)}function xl(m,h){return ju.apply(this,arguments)}function ju(){return(ju=(0,O.Z)(function*(m,h){return yield er(m)._initializationPromise,Wc(m,h,!1)})).apply(this,arguments)}function Wc(m,h){return Rh.apply(this,arguments)}function Rh(){return(Rh=(0,O.Z)(function*(m,h,f=!1){const _=er(m),E=Ia(_,h),H=yield new $p(_,E,f).execute();return H&&!f&&(delete H.user._redirectEventId,yield _._persistUserIfCurrent(H.user),yield _._setRedirectUser(null,h)),H})).apply(this,arguments)}function Ph(m){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,O.Z)(function*(m){const h=es(`${m.uid}:::`);return m._redirectEventId=h,yield m.auth._setRedirectUser(m),yield m.auth._persistUserIfCurrent(m),h})).apply(this,arguments)}class zu{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let f=!1;return this.consumers.forEach(_=>{this.isEventForConsumer(h,_)&&(f=!0,this.sendToConsumer(h,_),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function x_(m){switch(m.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vs(m);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,f||(this.queuedRedirectEvent=h,f=!0)),f}sendToConsumer(h,f){var _;if(h.error&&!vs(h)){const E=(null===(_=h.error.code)||void 0===_?void 0:_.split("auth/")[1])||"internal-error";f.onError(on(this.auth,E))}else f.onAuthEvent(h)}isEventForConsumer(h,f){const _=null===f.eventId||!!h.eventId&&h.eventId===f.eventId;return f.filter.includes(h.type)&&_}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ca(h))}saveEventToCache(h){this.cachedEventUids.add(Ca(h)),this.lastProcessedEventTime=Date.now()}}function Ca(m){return[m.type,m.eventId,m.sessionId,m.tenantId].filter(h=>h).join("-")}function vs({type:m,error:h}){return"unknown"===m&&"auth/no-auth-event"===h?.code}function qu(m){return kt.apply(this,arguments)}function kt(){return(kt=(0,O.Z)(function*(m,h={}){return he(m,"GET","/v1/projects",h)})).apply(this,arguments)}const R_=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Mh=/^https?/;function Gu(){return(Gu=(0,O.Z)(function*(m){if(m.config.emulator)return;const{authorizedDomains:h}=yield qu(m);for(const f of h)try{if(Oh(f))return}catch{}wt(m,"unauthorized-domain")})).apply(this,arguments)}function Oh(m){const h=sr(),{protocol:f,hostname:_}=new URL(h);if(m.startsWith("chrome-extension://")){const H=new URL(m);return""===H.hostname&&""===_?"chrome-extension:"===f&&m.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===f&&H.hostname===_}if(!Mh.test(f))return!1;if(R_.test(m))return _===m;const E=m.replace(/\./g,"\\.");return new RegExp("^(.+\\."+E+"|"+E+")$","i").test(_)}const P_=new Ar(3e4,6e4);function Hi(){const m=hn().___jsl;if(m?.H)for(const h of Object.keys(m.H))if(m.H[h].r=m.H[h].r||[],m.H[h].L=m.H[h].L||[],m.H[h].r=[...m.H[h].L],m.CP)for(let f=0;f<m.CP.length;f++)m.CP[f]=null}let Sa=null;const kh=new Ar(5e3,15e3),Lh="__/auth/iframe",wi="emulator/auth/iframe",Aa={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Fh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hi(m){const h=m.config;Ee(h.authDomain,m,"auth-domain-config-required");const f=h.emulator?io(h,wi):`https://${m.config.authDomain}/${Lh}`,_={apiKey:h.apiKey,appName:m.name,v:q.SDK_VERSION},E=Fh.get(m.config.apiHost);E&&(_.eid=E);const D=m._getFrameworks();return D.length&&(_.fw=D.join(",")),`${f}?${(0,C.xO)(_).slice(1)}`}function Ln(){return Ln=(0,O.Z)(function*(m){const h=yield function Kc(m){return Sa=Sa||function Nh(m){return new Promise((h,f)=>{var _,E,D;function H(){Hi(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{Hi(),f(on(m,"network-request-failed"))},timeout:P_.get()})}if(null!==(E=null===(_=hn().gapi)||void 0===_?void 0:_.iframes)&&void 0!==E&&E.Iframe)h(gapi.iframes.getContext());else{if(null===(D=hn().gapi)||void 0===D||!D.load){const X=hp("iframefcb");return hn()[X]=()=>{gapi.load?H():f(on(m,"network-request-failed"))},rh(`https://apis.google.com/js/api.js?onload=${X}`).catch(ge=>f(ge))}H()}}).catch(h=>{throw Sa=null,h})}(m),Sa}(m),f=hn().gapi;return Ee(f,m,"internal-error"),h.open({where:document.body,url:hi(m),messageHandlersFilter:f.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Aa,dontclear:!0},_=>new Promise(function(){var E=(0,O.Z)(function*(D,H){yield _.restyle({setHideOnLeave:!1});const X=on(m,"network-request-failed"),ge=hn().setTimeout(()=>{H(X)},kh.get());function ze(){hn().clearTimeout(ge),D(_)}_.ping(ze).then(ze,()=>{H(X)})});return function(D,H){return E.apply(this,arguments)}}()))}),Ln.apply(this,arguments)}const Uo={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Bh{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const qp="__/auth/handler",Rl="emulator/auth/handler",Zc=encodeURIComponent("fac");function Pl(m,h,f,_,E,D){return Wu.apply(this,arguments)}function Wu(){return(Wu=(0,O.Z)(function*(m,h,f,_,E,D){Ee(m.config.authDomain,m,"auth-domain-config-required"),Ee(m.config.apiKey,m,"invalid-api-key");const H={apiKey:m.config.apiKey,appName:m.name,authType:f,redirectUrl:_,v:q.SDK_VERSION,eventId:E};if(h instanceof lo){h.setDefaultLanguage(m.languageCode),H.providerId=h.providerId||"",(0,C.xb)(h.getCustomParameters())||(H.customParameters=JSON.stringify(h.getCustomParameters()));for(const[tt,xt]of Object.entries(D||{}))H[tt]=xt}if(h instanceof _r){const tt=h.getScopes().filter(xt=>""!==xt);tt.length>0&&(H.scopes=tt.join(","))}m.tenantId&&(H.tid=m.tenantId);const X=H;for(const tt of Object.keys(X))void 0===X[tt]&&delete X[tt];const ge=yield m._getAppCheckToken(),ze=ge?`#${Zc}=${encodeURIComponent(ge)}`:"";return`${function Hh({config:m}){return m.emulator?io(m,Rl):`https://${m.authDomain}/${qp}`}(m)}?${(0,C.xO)(X).slice(1)}${ze}`})).apply(this,arguments)}const Ku="webStorageSupport",Da=class M_{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Cl,this._completeRedirectFn=Wc,this._overrideRedirectResult=Gc}_openPopup(h,f,_,E){var D=this;return(0,O.Z)(function*(){var H;Fn(null===(H=D.eventManagers[h._key()])||void 0===H?void 0:H.manager,"_initialize() not called before _openPopup()");const X=yield Pl(h,f,_,sr(),E);return function qs(m,h,f,_=500,E=600){const D=Math.max((window.screen.availHeight-E)/2,0).toString(),H=Math.max((window.screen.availWidth-_)/2,0).toString();let X="";const ge=Object.assign(Object.assign({},Uo),{width:_.toString(),height:E.toString(),top:D,left:H}),ze=(0,C.z$)().toLowerCase();f&&(X=zr(ze)?"_blank":f),Cn(ze)&&(h=h||"http://localhost",ge.scrollbars="yes");const tt=Object.entries(ge).reduce((pi,[mo,Yc])=>`${pi}${mo}=${Yc},`,"");if(function Bt(m=(0,C.z$)()){var h;return Ke(m)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(ze)&&"_self"!==X)return function Ho(m,h){const f=document.createElement("a");f.href=m,f.target=h;const _=document.createEvent("MouseEvent");_.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),f.dispatchEvent(_)}(h||"",X),new Bh(null);const xt=window.open(h||"",X,tt);Ee(xt,m,"popup-blocked");try{xt.focus()}catch{}return new Bh(xt)}(h,X,es())})()}_openRedirect(h,f,_,E){var D=this;return(0,O.Z)(function*(){return yield D._originValidation(h),function Qt(m){hn().location.href=m}(yield Pl(h,f,_,sr(),E)),new Promise(()=>{})})()}_initialize(h){const f=h._key();if(this.eventManagers[f]){const{manager:E,promise:D}=this.eventManagers[f];return E?Promise.resolve(E):(Fn(D,"If manager is not set, promise should be"),D)}const _=this.initAndGetManager(h);return this.eventManagers[f]={promise:_},_.catch(()=>{delete this.eventManagers[f]}),_}initAndGetManager(h){var f=this;return(0,O.Z)(function*(){const _=yield function go(m){return Ln.apply(this,arguments)}(h),E=new zu(h);return _.register("authEvent",D=>(Ee(D?.authEvent,h,"invalid-auth-event"),{status:E.onEvent(D.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),f.eventManagers[h._key()]={manager:E},f.iframes[h._key()]=_,E})()}_isIframeWebStorageSupported(h,f){this.iframes[h._key()].send(Ku,{type:Ku},E=>{var D;const H=null===(D=E?.[0])||void 0===D?void 0:D[Ku];void 0!==H&&f(!!H),wt(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const f=h._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function Qa(m){return Gu.apply(this,arguments)}(h)),this.originValidationPromises[f]}get _shouldInitProactively(){return mr()||Ye()||Ke()}};class Ml{constructor(h){this.factorId=h}_process(h,f,_){switch(f.type){case"enroll":return this._finalizeEnroll(h,f.credential,_);case"signin":return this._finalizeSignIn(h,f.credential);default:return nn("unexpected MultiFactorSessionType")}}}class fi extends Ml{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new fi(h)}_finalizeEnroll(h,f,_){return function iE(m,h){return he(m,"POST","/v2/accounts/mfaEnrollment:finalize",ne(m,h))}(h,{idToken:f,displayName:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,f){return function lE(m,h){return he(m,"POST","/v2/accounts/mfaSignIn:finalize",ne(m,h))}(h,{mfaPendingCredential:f,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let $o=(()=>{class m{constructor(){}static assertion(f){return fi._fromCredential(f)}}return m.FACTOR_ID="phone",m})();var Kp="@firebase/auth";class $h{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var f=this;return(0,O.Z)(function*(){return f.assertAuthConfigured(),yield f.auth._initializationPromise,f.auth.currentUser?{accessToken:yield f.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const f=this.auth.onIdTokenChanged(_=>{h(_?.stsTokenManager.accessToken||null)});this.internalListeners.set(h,f),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const f=this.internalListeners.get(h);f&&(this.internalListeners.delete(h),f(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,C.Pz)("authIdTokenMaxAge"),function Nl(m){(0,q._registerComponent)(new rn.wA("auth",(h,{options:f})=>{const _=h.getProvider("app").getImmediate(),E=h.getProvider("heartbeat"),D=h.getProvider("app-check-internal"),{apiKey:H,authDomain:X}=_.options;Ee(H&&!H.includes(":"),"invalid-api-key",{appName:_.name});const ge={apiKey:H,authDomain:X,clientPlatform:m,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Wt(m)},ze=new YI(_,E,D,ge);return function He(m,h){const f=h?.persistence||[],_=(Array.isArray(f)?f:[f]).map(se);h?.errorMap&&m._updateErrorMap(h.errorMap),m._initializeWithPersistence(_,h?.popupRedirectResolver)}(ze,f),ze},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,f,_)=>{h.getProvider("auth-internal").initialize()})),(0,q._registerComponent)(new rn.wA("auth-internal",h=>{const f=er(h.getProvider("auth").getImmediate());return new $h(f)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,q.registerVersion)(Kp,"1.4.0",function Ol(m){switch(m){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(m)),(0,q.registerVersion)(Kp,"1.4.0","esm2017")}("Browser")},58:(oi,Qn,ot)=>{"use strict";ot.d(Qn,{BH:()=>gr,G6:()=>io,L:()=>sn,LL:()=>le,Pz:()=>on,Sg:()=>zn,UG:()=>nn,ZB:()=>We,ZR:()=>he,aH:()=>wt,b$:()=>or,eu:()=>te,hl:()=>ee,jU:()=>Fn,m9:()=>oo,ne:()=>Yi,pd:()=>Ls,r3:()=>Yn,ru:()=>sr,tV:()=>ae,uI:()=>Ee,vZ:()=>so,w1:()=>ks,xO:()=>Di,xb:()=>ar,z$:()=>Pt,zd:()=>xi});const Ge=function(U){const F=[];let A=0;for(let R=0;R<U.length;R++){let T=U.charCodeAt(R);T<128?F[A++]=T:T<2048?(F[A++]=T>>6|192,F[A++]=63&T|128):55296==(64512&T)&&R+1<U.length&&56320==(64512&U.charCodeAt(R+1))?(T=65536+((1023&T)<<10)+(1023&U.charCodeAt(++R)),F[A++]=T>>18|240,F[A++]=T>>12&63|128,F[A++]=T>>6&63|128,F[A++]=63&T|128):(F[A++]=T>>12|224,F[A++]=T>>6&63|128,F[A++]=63&T|128)}return F},rn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(U,F){if(!Array.isArray(U))throw Error("encodeByteArray takes an array as a parameter");this.init_();const A=F?this.byteToCharMapWebSafe_:this.byteToCharMap_,R=[];for(let T=0;T<U.length;T+=3){const V=U[T],se=T+1<U.length,Ue=se?U[T+1]:0,je=T+2<U.length,ht=je?U[T+2]:0;let Cn=(15&Ue)<<2|ht>>6,Ye=63&ht;je||(Ye=64,se||(Cn=64)),R.push(A[V>>2],A[(3&V)<<4|Ue>>4],A[Cn],A[Ye])}return R.join("")},encodeString(U,F){return this.HAS_NATIVE_SUPPORT&&!F?btoa(U):this.encodeByteArray(Ge(U),F)},decodeString(U,F){return this.HAS_NATIVE_SUPPORT&&!F?atob(U):function(U){const F=[];let A=0,R=0;for(;A<U.length;){const T=U[A++];if(T<128)F[R++]=String.fromCharCode(T);else if(T>191&&T<224){const V=U[A++];F[R++]=String.fromCharCode((31&T)<<6|63&V)}else if(T>239&&T<365){const je=((7&T)<<18|(63&U[A++])<<12|(63&U[A++])<<6|63&U[A++])-65536;F[R++]=String.fromCharCode(55296+(je>>10)),F[R++]=String.fromCharCode(56320+(1023&je))}else{const V=U[A++],se=U[A++];F[R++]=String.fromCharCode((15&T)<<12|(63&V)<<6|63&se)}}return F.join("")}(this.decodeStringToByteArray(U,F))},decodeStringToByteArray(U,F){this.init_();const A=F?this.charToByteMapWebSafe_:this.charToByteMap_,R=[];for(let T=0;T<U.length;){const V=A[U.charAt(T++)],Ue=T<U.length?A[U.charAt(T)]:0;++T;const ht=T<U.length?A[U.charAt(T)]:64;++T;const ke=T<U.length?A[U.charAt(T)]:64;if(++T,null==V||null==Ue||null==ht||null==ke)throw new pr;R.push(V<<2|Ue>>4),64!==ht&&(R.push(Ue<<4&240|ht>>2),64!==ke&&R.push(ht<<6&192|ke))}return R},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let U=0;U<this.ENCODED_VALS.length;U++)this.byteToCharMap_[U]=this.ENCODED_VALS.charAt(U),this.charToByteMap_[this.byteToCharMap_[U]]=U,this.byteToCharMapWebSafe_[U]=this.ENCODED_VALS_WEBSAFE.charAt(U),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[U]]=U,U>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(U)]=U,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(U)]=U)}}};class pr extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sn=function(U){return function(U){const F=Ge(U);return rn.encodeByteArray(F,!0)}(U).replace(/\./g,"")},ae=function(U){try{return rn.decodeString(U,!0)}catch(F){console.error("base64Decode failed: ",F)}return null};function We(U,F){if(!(F instanceof Object))return F;switch(F.constructor){case Date:return new Date(F.getTime());case Object:void 0===U&&(U={});break;case Array:U=[];break;default:return F}for(const A in F)!F.hasOwnProperty(A)||!pt(A)||(U[A]=We(U[A],F[A]));return U}function pt(U){return"__proto__"!==U}const It=()=>{try{return function zt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const U=process.env.__FIREBASE_DEFAULTS__;return U?JSON.parse(U):void 0})()||(()=>{if(typeof document>"u")return;let U;try{U=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const F=U&&ae(U[1]);return F&&JSON.parse(F)})()}catch(U){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${U}`)}},wt=()=>{var U;return null===(U=It())||void 0===U?void 0:U.config},on=U=>{var F;return null===(F=It())||void 0===F?void 0:F[`_${U}`]};class gr{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((F,A)=>{this.resolve=F,this.reject=A})}wrapCallback(F){return(A,R)=>{A?this.reject(A):this.resolve(R),"function"==typeof F&&(this.promise.catch(()=>{}),1===F.length?F(A):F(A,R))}}}function zn(U,F){if(U.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const R=F||"demo-project",T=U.iat||0,V=U.sub||U.user_id;if(!V)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const se=Object.assign({iss:`https://securetoken.google.com/${R}`,aud:R,iat:T,exp:T+3600,auth_time:T,sub:V,user_id:V,firebase:{sign_in_provider:"custom",identities:{}}},U);return[sn(JSON.stringify({alg:"none",type:"JWT"})),sn(JSON.stringify(se)),""].join(".")}function Pt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ee(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pt())}function nn(){var U;const F=null===(U=It())||void 0===U?void 0:U.forceEnvironment;if("node"===F)return!0;if("browser"===F)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Fn(){return"object"==typeof self&&self.self===self}function sr(){const U="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof U&&void 0!==U.id}function or(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ks(){const U=Pt();return U.indexOf("MSIE ")>=0||U.indexOf("Trident/")>=0}function io(){return!nn()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ee(){try{return"object"==typeof indexedDB}catch{return!1}}function te(){return new Promise((U,F)=>{try{let A=!0;const R="validate-browser-context-for-indexeddb-analytics-module",T=self.indexedDB.open(R);T.onsuccess=()=>{T.result.close(),A||self.indexedDB.deleteDatabase(R),U(!0)},T.onupgradeneeded=()=>{A=!1},T.onerror=()=>{var V;F((null===(V=T.error)||void 0===V?void 0:V.message)||"")}}catch(A){F(A)}})}class he extends Error{constructor(F,A,R){super(A),this.code=F,this.customData=R,this.name="FirebaseError",Object.setPrototypeOf(this,he.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,le.prototype.create)}}class le{constructor(F,A,R){this.service=F,this.serviceName=A,this.errors=R}create(F,...A){const R=A[0]||{},T=`${this.service}/${F}`,V=this.errors[F],se=V?function Ae(U,F){return U.replace(qt,(A,R)=>{const T=F[R];return null!=T?String(T):`<${R}?>`})}(V,R):"Error";return new he(T,`${this.serviceName}: ${se} (${T}).`,R)}}const qt=/\{\$([^}]+)}/g;function Yn(U,F){return Object.prototype.hasOwnProperty.call(U,F)}function ar(U){for(const F in U)if(Object.prototype.hasOwnProperty.call(U,F))return!1;return!0}function so(U,F){if(U===F)return!0;const A=Object.keys(U),R=Object.keys(F);for(const T of A){if(!R.includes(T))return!1;const V=U[T],se=F[T];if(Gt(V)&&Gt(se)){if(!so(V,se))return!1}else if(V!==se)return!1}for(const T of R)if(!A.includes(T))return!1;return!0}function Gt(U){return null!==U&&"object"==typeof U}function Di(U){const F=[];for(const[A,R]of Object.entries(U))Array.isArray(R)?R.forEach(T=>{F.push(encodeURIComponent(A)+"="+encodeURIComponent(T))}):F.push(encodeURIComponent(A)+"="+encodeURIComponent(R));return F.length?"&"+F.join("&"):""}function xi(U){const F={};return U.replace(/^\?/,"").split("&").forEach(R=>{if(R){const[T,V]=R.split("=");F[decodeURIComponent(T)]=decodeURIComponent(V)}}),F}function Ls(U){const F=U.indexOf("?");if(!F)return"";const A=U.indexOf("#",F);return U.substring(F,A>0?A:void 0)}function Yi(U,F){const A=new Xr(U,F);return A.subscribe.bind(A)}class Xr{constructor(F,A){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=A,this.task.then(()=>{F(this)}).catch(R=>{this.error(R)})}next(F){this.forEachObserver(A=>{A.next(F)})}error(F){this.forEachObserver(A=>{A.error(F)}),this.close(F)}complete(){this.forEachObserver(F=>{F.complete()}),this.close()}subscribe(F,A,R){let T;if(void 0===F&&void 0===A&&void 0===R)throw new Error("Missing Observer.");T=function Lr(U,F){if("object"!=typeof U||null===U)return!1;for(const A of F)if(A in U&&"function"==typeof U[A])return!0;return!1}(F,["next","error","complete"])?F:{next:F,error:A,complete:R},void 0===T.next&&(T.next=pn),void 0===T.error&&(T.error=pn),void 0===T.complete&&(T.complete=pn);const V=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?T.error(this.finalError):T.complete()}catch{}}),this.observers.push(T),V}unsubscribeOne(F){void 0===this.observers||void 0===this.observers[F]||(delete this.observers[F],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(F){if(!this.finalized)for(let A=0;A<this.observers.length;A++)this.sendOne(A,F)}sendOne(F,A){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[F])try{A(this.observers[F])}catch(R){typeof console<"u"&&console.error&&console.error(R)}})}close(F){this.finalized||(this.finalized=!0,void 0!==F&&(this.finalError=F),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pn(){}function oo(U){return U&&U._delegate?U._delegate:U}},752:(oi,Qn,ot)=>{"use strict";function O(n){return"function"==typeof n}function C(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const q=C(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function Ge(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class un{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(O(r))try{r()}catch(s){e=s instanceof q?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{Tn(s)}catch(o){e=e??[],o instanceof q?e=[...e,...o.errors]:e.push(o)}}if(e)throw new q(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Tn(e);else{if(e instanceof un){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Ge(t,e)}remove(e){const{_finalizers:t}=this;t&&Ge(t,e),e instanceof un&&e._removeParent(this)}}un.EMPTY=(()=>{const n=new un;return n.closed=!0,n})();const rn=un.EMPTY;function pr(n){return n instanceof un||n&&"closed"in n&&O(n.remove)&&O(n.add)&&O(n.unsubscribe)}function Tn(n){O(n)?n():n.unsubscribe()}const sn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ae={setTimeout(n,e,...t){const{delegate:r}=ae;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=ae;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function me(n){ae.setTimeout(()=>{const{onUnhandledError:e}=sn;if(!e)throw n;e(n)})}function We(){}const pt=vt("C",void 0,void 0);function vt(n,e,t){return{kind:n,value:e,error:t}}let at=null;function It(n){if(sn.useDeprecatedSynchronousErrorHandling){const e=!at;if(e&&(at={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=at;if(at=null,t)throw r}}else n()}class Dn extends un{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,pr(e)&&e.add(this)):this.destination=Fn}static create(e,t,r){return new zn(e,t,r)}next(e){this.isStopped?nn(function ir(n){return vt("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?nn(function zt(n){return vt("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?nn(pt,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const wt=Function.prototype.bind;function on(n,e){return wt.call(n,e)}class gr{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Pt(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Pt(r)}else Pt(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Pt(t)}}}class zn extends Dn{constructor(e,t,r){let i;if(super(),O(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&sn.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&on(e.next,s),error:e.error&&on(e.error,s),complete:e.complete&&on(e.complete,s)}):i=e}this.destination=new gr(i)}}function Pt(n){sn.useDeprecatedSynchronousErrorHandling?function An(n){sn.useDeprecatedSynchronousErrorHandling&&at&&(at.errorThrown=!0,at.error=n)}(n):me(n)}function nn(n,e){const{onStoppedNotification:t}=sn;t&&ae.setTimeout(()=>t(n,e))}const Fn={closed:!0,next:We,error:function Ee(n){throw n},complete:We},sr="function"==typeof Symbol&&Symbol.observable||"@@observable";function or(n){return n}function ks(n){return 0===n.length?or:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let bt=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function ee(n){return n&&n instanceof Dn||function io(n){return n&&O(n.next)&&O(n.error)&&O(n.complete)}(n)&&pr(n)}(t)?t:new zn(t,r,i);return It(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=Ar(r))((i,s)=>{const o=new zn({next:a=>{try{t(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[sr](){return this}pipe(...t){return ks(t)(this)}toPromise(t){return new(t=Ar(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function Ar(n){var e;return null!==(e=n??sn.Promise)&&void 0!==e?e:Promise}const te=C(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ie=(()=>{class n extends bt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new ne(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new te}next(t){It(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){It(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){It(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?rn:(this.currentObservers=null,s.push(t),new un(()=>{this.currentObservers=null,Ge(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new bt;return t.source=this,t}}return n.create=(e,t)=>new ne(e,t),n})();class ne extends ie{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:rn}}function he(n){return O(n?.lift)}function le(n){return e=>{if(he(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ae(n,e,t,r,i){return new qt(n,e,t,r,i)}class qt extends Dn{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Re(n,e){return le((t,r)=>{let i=0;t.subscribe(Ae(r,s=>{r.next(n.call(e,s,i++))}))})}var Ze=ot(582);const an=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function xn(n){return O(n?.then)}function mn(n){return O(n[sr])}function qn(n){return Symbol.asyncIterator&&O(n?.[Symbol.asyncIterator])}function En(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Jr=function Yn(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function ar(n){return O(n?.[Jr])}function fs(n){return(0,Ze.FC)(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield(0,Ze.qq)(t.read());if(i)return yield(0,Ze.qq)(void 0);yield yield(0,Ze.qq)(r)}}finally{t.releaseLock()}})}function so(n){return O(n?.getReader)}function Gt(n){if(n instanceof bt)return n;if(null!=n){if(mn(n))return function Dr(n){return new bt(e=>{const t=n[sr]();if(O(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(an(n))return function Di(n){return new bt(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(xn(n))return function xi(n){return new bt(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,me)})}(n);if(qn(n))return xr(n);if(ar(n))return function Ls(n){return new bt(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(so(n))return function Yi(n){return xr(fs(n))}(n)}throw En(n)}function xr(n){return new bt(e=>{(function Xr(n,e){var t,r,i,s;return(0,Ze.mG)(this,void 0,void 0,function*(){try{for(t=(0,Ze.KL)(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function jr(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function pn(n,e,t=1/0){return O(e)?pn((r,i)=>Re((s,o)=>e(r,s,i,o))(Gt(n(r,i))),t):("number"==typeof e&&(t=e),le((r,i)=>function Lr(n,e,t,r,i,s,o,a){const u=[];let d=0,p=0,y=!1;const I=()=>{y&&!u.length&&!d&&e.complete()},w=M=>d<r?x(M):u.push(M),x=M=>{s&&e.next(M),d++;let L=!1;Gt(t(M,p++)).subscribe(Ae(e,G=>{i?.(G),s?w(G):e.next(G)},()=>{L=!0},void 0,()=>{if(L)try{for(d--;u.length&&d<r;){const G=u.shift();o?jr(e,o,()=>x(G)):x(G)}I()}catch(G){e.error(G)}}))};return n.subscribe(Ae(e,w,()=>{y=!0,I()})),()=>{a?.()}}(r,i,n,t)))}function yi(n=1/0){return pn(or,n)}const Jn=new bt(n=>n.complete());function ps(n){return n[n.length-1]}function gs(n){return O(ps(n))?n.pop():void 0}function Fs(n){return function Xn(n){return n&&O(n.schedule)}(ps(n))?n.pop():void 0}function Vr(n,e=0){return le((t,r)=>{t.subscribe(Ae(r,i=>jr(r,n,()=>r.next(i),e),()=>jr(r,n,()=>r.complete(),e),i=>jr(r,n,()=>r.error(i),e)))})}function ai(n,e=0){return le((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function oo(n,e){if(!n)throw new Error("Iterable cannot be null");return new bt(t=>{jr(t,e,()=>{const r=n[Symbol.asyncIterator]();jr(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function A(n,e){return e?function F(n,e){if(null!=n){if(mn(n))return function Ri(n,e){return Gt(n).pipe(ai(e),Vr(e))}(n,e);if(an(n))return function oa(n,e){return new bt(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(xn(n))return function cl(n,e){return Gt(n).pipe(ai(e),Vr(e))}(n,e);if(qn(n))return oo(n,e);if(ar(n))return function ja(n,e){return new bt(t=>{let r;return jr(t,e,()=>{r=n[Jr](),jr(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>O(r?.return)&&r.return()})}(n,e);if(so(n))return function U(n,e){return oo(fs(n),e)}(n,e)}throw En(n)}(n,e):Gt(n)}function R(...n){const e=Fs(n),t=function Fr(n,e){return"number"==typeof ps(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?Gt(r[0]):yi(t)(A(r,e)):Jn}class T extends ie{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function V(...n){return A(n,Fs(n))}function se(n={}){const{connector:e=(()=>new ie),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o,a,u,d=0,p=!1,y=!1;const I=()=>{a?.unsubscribe(),a=void 0},w=()=>{I(),o=u=void 0,p=y=!1},x=()=>{const M=o;w(),M?.unsubscribe()};return le((M,L)=>{d++,!y&&!p&&I();const G=u=u??e();L.add(()=>{d--,0===d&&!y&&!p&&(a=Ue(x,i))}),G.subscribe(L),!o&&d>0&&(o=new zn({next:$=>G.next($),error:$=>{y=!0,I(),a=Ue(w,t,$),G.error($)},complete:()=>{p=!0,I(),a=Ue(w,r),G.complete()}}),Gt(M).subscribe(o))})(s)}}function Ue(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new zn({next:()=>{r.unsubscribe(),n()}});return Gt(e(...t)).subscribe(r)}function je(n,e){return le((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(Ae(r,u=>{i?.unsubscribe();let d=0;const p=s++;Gt(n(u,p)).subscribe(i=Ae(r,y=>r.next(e?e(u,y,p,d++):y),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function ht(n,e=or){return n=n??ln,le((t,r)=>{let i,s=!0;t.subscribe(Ae(r,o=>{const a=e(o);(s||!n(i,a))&&(s=!1,i=a,r.next(o))}))})}function ln(n,e){return n===e}function ke(n){for(let e in n)if(n[e]===ke)return e;throw Error("Could not find renamed property on target object.")}function Cn(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Ye(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Ye).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function zr(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const aa=ke({__forward_ref__:ke});function Y(n){return n.__forward_ref__=Y,n.toString=function(){return Ye(this())},n}function j(n){return ve(n)?n():n}function ve(n){return"function"==typeof n&&n.hasOwnProperty(aa)&&n.__forward_ref__===Y}function Ke(n){return n&&!!n.\u0275providers}const Bt="https://g.co/ng/security#xss";class W extends Error{constructor(e,t){super(function mr(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function Be(n){return"string"==typeof n?n:null==n?"":String(n)}function bc(n,e){throw new W(-201,!1)}function li(n,e){null==n&&function ct(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function He(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Rn(n){return{providers:n.providers||[],imports:n.imports||[]}}function Ao(n){return ah(n,qa)||ah(n,mu)}function ah(n,e){return n.hasOwnProperty(e)?n[e]:null}function hl(n){return n&&(n.hasOwnProperty(Cc)||n.hasOwnProperty(p_))?n[Cc]:null}const qa=ke({\u0275prov:ke}),Cc=ke({\u0275inj:ke}),mu=ke({ngInjectableDef:ke}),p_=ke({ngInjectorDef:ke});var Ht=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Ht||{});let lh;function Mi(n){const e=lh;return lh=n,e}function Sc(n,e,t){const r=Ao(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&Ht.Optional?null:void 0!==e?e:void bc(Ye(n))}const Sn=globalThis,Ji={},fl="__NG_DI_FLAG__",Dc="ngTempTokenPath",Ip=/\n/gm,dh="__source";let ao;function Vs(n){const e=ao;return ao=n,e}function Ep(n,e=Ht.Default){if(void 0===ao)throw new W(-203,!1);return null===ao?Sc(n,void 0,e):ao.get(n,e&Ht.Optional?null:void 0,e)}function Ie(n,e=Ht.Default){return(function _u(){return lh}()||Ep)(j(n),e)}function De(n,e=Ht.Default){return Ie(n,Eu(e))}function Eu(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function vi(n){const e=[];for(let t=0;t<n.length;t++){const r=j(n[t]);if(Array.isArray(r)){if(0===r.length)throw new W(900,!1);let i,s=Ht.Default;for(let o=0;o<r.length;o++){const a=r[o],u=Us(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(Ie(i,s))}else e.push(Ie(r))}return e}function Do(n,e){return n[fl]=e,n.prototype[fl]=e,n}function Us(n){return n[fl]}function _r(n){return{toString:n}.toString()}var Bs=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(Bs||{}),Oi=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Oi||{});const cn={},$t=[],pl=ke({\u0275cmp:ke}),la=ke({\u0275dir:ke}),wu=ke({\u0275pipe:ke}),bu=ke({\u0275mod:ke}),xo=ke({\u0275fac:ke}),gl=ke({__NG_ELEMENT_ID__:ke}),Tu=ke({__NG_ENV_ID__:ke});function ui(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}function Ro(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{const s=i,o=t[++r];Cu(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function wp(n){return 3===n||4===n||6===n}function Cu(n){return 64===n.charCodeAt(0)}function Po(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||Su(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function Su(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}const Au="ng-template";function bp(n,e,t){let r=0,i=!0;for(;r<n.length;){let s=n[r++];if("string"==typeof s&&i){const o=n[r++];if(t&&"class"===s&&-1!==ui(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<n.length&&"string"==typeof(s=n[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function xc(n){return 4===n.type&&n.value!==Au}function Du(n,e,t){return e===(4!==n.type||t?n.value:Au)}function xu(n,e,t){let r=4;const i=n.attrs||[],s=function ml(n){for(let e=0;e<n.length;e++)if(wp(n[e]))return e;return n.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!Du(n,u,t)||""===u&&1===e.length){if(Ni(r))return!1;o=!0}}else{const d=8&r?u:e[++a];if(8&r&&null!==n.attrs){if(!bp(n.attrs,d,t)){if(Ni(r))return!1;o=!0}continue}const y=Rc(8&r?"class":u,i,xc(n),t);if(-1===y){if(Ni(r))return!1;o=!0;continue}if(""!==d){let I;I=y>s?"":i[y+1].toLowerCase();const w=8&r?I:null;if(w&&-1!==ui(w,d,0)||2&r&&d!==I){if(Ni(r))return!1;o=!0}}}}else{if(!o&&!Ni(r)&&!Ni(u))return!1;if(o&&Ni(u))continue;o=!1,r=u|1&r}}return Ni(r)||o}function Ni(n){return 0==(1&n)}function Rc(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function Pc(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function Ii(n,e,t=!1){for(let r=0;r<e.length;r++)if(xu(n,e[r],t))return!0;return!1}function Pu(n,e){e:for(let t=0;t<e.length;t++){const r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function Mc(n,e){return n?":not("+e.trim()+")":e}function Tp(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Ni(o)&&(e+=Mc(s,i),i=""),r=o,s=s||!Ni(r);t++}return""!==i&&(e+=Mc(s,i)),e}function Ur(n){return _r(()=>{const e=Oc(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Bs.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Oi.Emulated,styles:n.styles||$t,_:null,schemas:n.schemas||null,tView:null,id:""};Sp(t);const r=n.dependencies;return t.directiveDefs=vl(r,!1),t.pipeDefs=vl(r,!0),t.id=function gh(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(t),t})}function ph(n){return en(n)||Br(n)}function g_(n){return null!==n}function Pn(n){return _r(()=>({type:n.type,bootstrap:n.bootstrap||$t,declarations:n.declarations||$t,imports:n.imports||$t,exports:n.exports||$t,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Hs(n,e){if(null==n)return cn;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}function it(n){return _r(()=>{const e=Oc(n);return Sp(e),e})}function en(n){return n[pl]||null}function Br(n){return n[la]||null}function Rr(n){return n[wu]||null}function ki(n,e){const t=n[bu]||null;if(!t&&!0===e)throw new Error(`Type ${Ye(n)} does not have '\u0275mod' property.`);return t}function Oc(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||cn,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||$t,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Hs(n.inputs,e),outputs:Hs(n.outputs)}}function Sp(n){n.features?.forEach(e=>e(n))}function vl(n,e){if(!n)return null;const t=e?Rr:ph;return()=>("function"==typeof n?n():n).map(r=>t(r)).filter(g_)}const Bn=0,N=1,K=2,Z=3,Pe=4,gt=5,mt=6,Gn=7,Et=8,_s=9,Il=10,Je=11,ua=12,Nc=13,$s=14,kn=15,ca=16,tn=17,uo=18,da=19,Mu=20,co=21,Mo=22,Ou=23,Oo=24,Tt=25,No=1,El=2,js=7,ko=9,yr=11;function ci(n){return Array.isArray(n)&&"object"==typeof n[No]}function Li(n){return Array.isArray(n)&&!0===n[No]}function Lu(n){return 0!=(4&n.flags)}function Wa(n){return n.componentOffset>-1}function Ka(n){return 1==(1&n.flags)}function Xi(n){return!!n.template}function kc(n){return 0!=(512&n[K])}function fa(n,e){return n.hasOwnProperty(xo)?n[xo]:null}let S=null,es=!1;function Ei(n){const e=S;return S=n,e}const hn={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Vc(n){if(!ga(n)||n.dirty){if(!n.producerMustRecompute(n)&&!Mp(n))return void(n.dirty=!1);n.producerRecomputeValue(n),n.dirty=!1}}function pa(n){n.dirty=!0,function Pp(n){if(void 0===n.liveConsumerNode)return;const e=es;es=!0;try{for(const t of n.liveConsumerNode)t.dirty||pa(t)}finally{es=e}}(n),n.consumerMarkedDirty?.(n)}function _h(n){return n&&(n.nextProducerIndex=0),Ei(n)}function Uc(n,e){if(Ei(e),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(ga(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)di(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Mp(n){Sl(n);for(let e=0;e<n.producerNode.length;e++){const t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(Vc(t),r!==t.version))return!0}return!1}function Vu(n){if(Sl(n),ga(n))for(let e=0;e<n.producerNode.length;e++)di(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function di(n,e){if(function Bc(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),Sl(n),1===n.liveConsumerNode.length)for(let r=0;r<n.producerNode.length;r++)di(n.producerNode[r],n.producerIndexOfThis[r]);const t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){const r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];Sl(i),i.producerIndexOfThis[r]=e}}function ga(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Sl(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let kp=null;const Up=()=>{},Eh=(()=>({...hn,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule(n.ref)},hasRun:!1,cleanupFn:Up}))();class $c{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function ts(){return wh}function wh(n){return n.type.prototype.ngOnChanges&&(n.setInput=Lo),C_}function C_(){const n=ya(this),e=n?.current;if(e){const t=n.previous;if(t===cn)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function Lo(n,e,t,r){const i=this.declaredInputs[t],s=ya(n)||function Fi(n,e){return n[Al]=e}(n,{previous:cn,current:null}),o=s.current||(s.current={}),a=s.previous,u=a[i];o[i]=new $c(u&&u.currentValue,e,a===cn),n[r]=e}ts.ngInherit=!0;const Al="__ngSimpleChanges__";function ya(n){return n[Al]||null}const zs=function(n,e,t){};function wn(n){for(;Array.isArray(n);)n=n[Bn];return n}function Fo(n,e){return wn(e[n])}function Vi(n,e){return wn(e[n.index])}function Pr(n,e){return n.data[e]}function Ui(n,e){const t=e[n];return ci(t)?t:t[Bn]}function Bi(n,e){return null==e?null:n[e]}function Ch(n){n[tn]=0}function ti(n){1024&n[K]||(n[K]|=1024,qc(n,1))}function zc(n){1024&n[K]&&(n[K]&=-1025,qc(n,-1))}function qc(n,e){let t=n[Z];if(null===t)return;t[gt]+=e;let r=t;for(t=t[Z];null!==t&&(1===e&&1===r[gt]||-1===e&&0===r[gt]);)t[gt]+=e,r=t,t=t[Z]}const lt={lFrame:Kc(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function ba(){return lt.bindingsEnabled}function Ta(){return null!==lt.skipHydrationRootTNode}function pe(){return lt.lFrame.lView}function Yt(){return lt.lFrame.tView}function Ct(n){return lt.lFrame.contextLView=n,n[Et]}function Dt(n){return lt.lFrame.contextLView=null,n}function Er(){let n=xh();for(;null!==n&&64===n.type;)n=n.parent;return n}function xh(){return lt.lFrame.currentTNode}function ns(n,e){const t=lt.lFrame;t.currentTNode=n,t.isParent=e}function xl(){return lt.lFrame.isParent}function ju(){lt.lFrame.isParent=!1}function Gr(){const n=lt.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Ca(){return lt.lFrame.bindingIndex++}function vs(n){const e=lt.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function kt(n,e){const t=lt.lFrame;t.bindingIndex=t.bindingRootIndex=n,Mh(e)}function Mh(n){lt.lFrame.currentDirectiveIndex=n}function Gu(){return lt.lFrame.currentQueryIndex}function Oh(n){lt.lFrame.currentQueryIndex=n}function P_(n){const e=n[N];return 2===e.type?e.declTNode:1===e.type?n[mt]:null}function Hi(n,e,t){if(t&Ht.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&Ht.Host||(i=P_(s),null===i||(s=s[$s],10&i.type))););if(null===i)return!1;e=i,n=s}const r=lt.lFrame=Sa();return r.currentTNode=e,r.lView=n,!0}function Nh(n){const e=Sa(),t=n[N];lt.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function Sa(){const n=lt.lFrame,e=null===n?null:n.child;return null===e?Kc(n):e}function Kc(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function kh(){const n=lt.lFrame;return lt.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Lh=kh;function wi(){const n=kh();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function hi(){return lt.lFrame.selectedIndex}function go(n){lt.lFrame.selectedIndex=n}function Ln(){const n=lt.lFrame;return Pr(n.tView,n.selectedIndex)}function Uo(){lt.lFrame.currentNamespace="svg"}let Bh=!0;function qs(){return Bh}function Ho(n){Bh=n}function Rl(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:d,ngOnDestroy:p}=s;o&&(n.contentHooks??=[]).push(-t,o),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),u&&(n.viewHooks??=[]).push(-t,u),d&&((n.viewHooks??=[]).push(t,d),(n.viewCheckHooks??=[]).push(t,d)),null!=p&&(n.destroyHooks??=[]).push(t,p)}}function Zc(n,e,t){Hh(n,e,3,t)}function Pl(n,e,t,r){(3&n[K])===t&&Hh(n,e,t,r)}function Wu(n,e){let t=n[K];(3&t)===e&&(t&=8191,t+=1,n[K]=t)}function Hh(n,e,t,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&n[tn]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(n[tn]+=65536),(a<s||-1==s)&&(M_(n,t,e,u),n[tn]=(4294901760&n[tn])+u+2),u++}function Ku(n,e){zs(4,n,e);const t=Ei(null);try{e.call(n)}finally{Ei(t),zs(5,n,e)}}function M_(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];i?n[K]>>13<n[tn]>>16&&(3&n[K])===e&&(n[K]+=8192,Ku(a,s)):Ku(a,s)}const Da=-1;class Ml{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function $h(n){return n!==Da}function Ol(n){return 32767&n}function zo(n,e){let t=function Nl(n){return n>>16}(n),r=e;for(;t>0;)r=r[$s],t--;return r}let jh=!0;function kl(n){const e=jh;return jh=n,e}const Qc=255,m=5;let h=0;const f={};function E(n,e){const t=H(n,e);if(-1!==t)return t;const r=e[N];r.firstCreatePass&&(n.injectorIndex=e.length,D(r.data,n),D(e,null),D(r.blueprint,null));const i=X(n,e),s=n.injectorIndex;if($h(i)){const o=Ol(i),a=zo(i,e),u=a[N].data;for(let d=0;d<8;d++)e[s+d]=a[o+d]|u[o+d]}return e[s+8]=i,s}function D(n,e){n.push(0,0,0,0,0,0,0,0,e)}function H(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function X(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=Vl(i),null===r)return Da;if(t++,i=i[$s],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return Da}function ge(n,e,t){!function _(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(gl)&&(r=t[gl]),null==r&&(r=t[gl]=h++);const i=r&Qc;e.data[n+(i>>m)]|=1<<i}(n,e,t)}function tt(n,e,t){if(t&Ht.Optional||void 0!==n)return n;bc()}function xt(n,e,t,r){if(t&Ht.Optional&&void 0===r&&(r=null),!(t&(Ht.Self|Ht.Host))){const i=n[_s],s=Mi(void 0);try{return i?i.get(e,r,t&Ht.Optional):Sc(e,r,t&Ht.Optional)}finally{Mi(s)}}return tt(r,0,t)}function pi(n,e,t,r=Ht.Default,i){if(null!==n){if(2048&e[K]&&!(r&Ht.Self)){const o=function zh(n,e,t,r,i){let s=n,o=e;for(;null!==s&&null!==o&&2048&o[K]&&!(512&o[K]);){const a=mo(s,o,t,r|Ht.Self,f);if(a!==f)return a;let u=s.parent;if(!u){const d=o[Mu];if(d){const p=d.get(t,f,r);if(p!==f)return p}u=Vl(o),o=o[$s]}s=u}return i}(n,e,t,r,f);if(o!==f)return o}const s=mo(n,e,t,r,f);if(s!==f)return s}return xt(e,t,r,i)}function mo(n,e,t,r,i){const s=function Qp(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(gl)?n[gl]:void 0;return"number"==typeof e?e>=0?e&Qc:Ya:e}(t);if("function"==typeof s){if(!Hi(e,n,r))return r&Ht.Host?tt(i,0,r):xt(e,t,r,i);try{let o;if(o=s(r),null!=o||r&Ht.Optional)return o;bc()}finally{Lh()}}else if("number"==typeof s){let o=null,a=H(n,e),u=Da,d=r&Ht.Host?e[kn][mt]:null;for((-1===a||r&Ht.SkipSelf)&&(u=-1===a?X(n,e):e[a+8],u!==Da&&Fl(r,!1)?(o=e[N],a=Ol(u),e=zo(u,e)):a=-1);-1!==a;){const p=e[N];if(Gs(s,a,p.data)){const y=Yc(a,e,t,o,r,d);if(y!==f)return y}u=e[a+8],u!==Da&&Fl(r,e[N].data[a+8]===d)&&Gs(s,a,e)?(o=p,a=Ol(u),e=zo(u,e)):a=-1}}return i}function Yc(n,e,t,r,i,s){const o=e[N],a=o.data[n+8],p=Ll(a,o,t,null==r?Wa(a)&&jh:r!=o&&0!=(3&a.type),i&Ht.Host&&s===a);return null!==p?qo(e,o,p,a):f}function Ll(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,u=n.directiveStart,p=s>>20,I=i?a+p:n.directiveEnd;for(let w=r?a:a+p;w<I;w++){const x=o[w];if(w<u&&t===x||w>=u&&x.type===t)return w}if(i){const w=o[u];if(w&&Xi(w)&&w.type===t)return u}return null}function qo(n,e,t,r){let i=n[t];const s=e.data;if(function fi(n){return n instanceof Ml}(i)){const o=i;o.resolving&&function pu(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new W(-200,`Circular dependency in DI detected for ${n}${t}`)}(function Wt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Be(n)}(s[t]));const a=kl(o.canSeeViewProviders);o.resolving=!0;const d=o.injectImpl?Mi(o.injectImpl):null;Hi(n,r,Ht.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function qp(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=wh(e);(t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o)}i&&(t.preOrderHooks??=[]).push(0-n,i),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}(t,s[t],e)}finally{null!==d&&Mi(d),kl(a),o.resolving=!1,Lh()}}return i}function Gs(n,e,t){return!!(t[e+(n>>m)]&1<<n)}function Fl(n,e){return!(n&Ht.Self||n&Ht.Host&&e)}class Mr{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return pi(this._tNode,this._lView,e,Eu(r),t)}}function Ya(){return new Mr(Er(),pe())}function Le(n){return _r(()=>{const e=n.prototype.constructor,t=e[xo]||Ra(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[xo]||Ra(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Ra(n){return ve(n)?()=>{const e=Ra(j(n));return e&&e()}:fa(n)}function Vl(n){const e=n[N],t=e.type;return 2===t?e.declTNode:1===t?n[mt]:null}const Qu="__parameters__";function Yu(n,e,t){return _r(()=>{const r=function N_(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,d,p){const y=u.hasOwnProperty(Qu)?u[Qu]:Object.defineProperty(u,Qu,{value:[]})[Qu];for(;y.length<=p;)y.push(null);return(y[p]=y[p]||[]).push(o),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}function td(n,e){n.forEach(t=>Array.isArray(t)?td(t,e):e(t))}function fE(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Jp(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function nd(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}function bi(n,e,t){let r=Ju(n,e);return r>=0?n[1|r]=t:(r=~r,function L_(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function Gh(n,e){const t=Ju(n,e);if(t>=0)return n[1|t]}function Ju(n,e){return function Wh(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const Kh=Do(Yu("Optional"),8),eg=Do(Yu("SkipSelf"),4);function ig(n){return 128==(128&n.flags)}var Hl=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Hl||{});const H_=/^>|^->|<!--|-->|--!>|<!-$/g,xE=/(<|>)/g,oC="\u200b$1\u200b";const $_=new Map;let aC=0;const j_="__ngContext__";function $i(n,e){ci(e)?(n[j_]=e[da],function uC(n){$_.set(n[da],n)}(e)):n[j_]=e}let z_;function q_(n,e){return z_(n,e)}function od(n){const e=n[Z];return Li(e)?e[Z]:e}function BE(n){return Jh(n[ua])}function HE(n){return Jh(n[Pe])}function Jh(n){for(;null!==n&&!Li(n);)n=n[Pe];return n}function ad(n,e,t,r,i){if(null!=r){let s,o=!1;Li(r)?s=r:ci(r)&&(o=!0,r=r[Bn]);const a=wn(r);0===n&&null!==t?null==i?zE(e,t,a):$l(e,t,a,i||null,!0):1===n&&null!==t?$l(e,t,a,i||null,!0):2===n?function pg(n,e,t){const r=ec(n,e);r&&function TC(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function Go(n,e,t,r,i){const s=t[js];s!==wn(t)&&ad(e,n,r,s,i);for(let a=yr;a<t.length;a++){const u=t[a];tf(u[N],u,n,e,r,s)}}(e,n,s,t,i)}}function G_(n,e){return n.createComment(function RE(n){return n.replace(H_,e=>e.replace(xE,oC))}(e))}function ag(n,e,t){return n.createElement(e,t)}function Xh(n,e){const t=n[ko],r=t.indexOf(e);zc(e),t.splice(r,1)}function lg(n,e){if(n.length<=yr)return;const t=yr+e,r=n[t];if(r){const i=r[ca];null!==i&&i!==n&&Xh(i,r),e>0&&(n[t-1][Pe]=r[Pe]);const s=Jp(n,yr+e);!function yC(n,e){tf(n,e,e[Je],2,null,null),e[Bn]=null,e[mt]=null}(r[N],r);const o=s[uo];null!==o&&o.detachView(s[N]),r[Z]=null,r[Pe]=null,r[K]&=-129}return r}function ug(n,e){if(!(256&e[K])){const t=e[Je];e[Ou]&&Vu(e[Ou]),e[Oo]&&Vu(e[Oo]),t.destroyNode&&tf(n,e,t,3,null,null),function EC(n){let e=n[ua];if(!e)return cg(n[N],n);for(;e;){let t=null;if(ci(e))t=e[ua];else{const r=e[yr];r&&(t=r)}if(!t){for(;e&&!e[Pe]&&e!==n;)ci(e)&&cg(e[N],e),e=e[Z];null===e&&(e=n),ci(e)&&cg(e[N],e),t=e&&e[Pe]}e=t}}(e)}}function cg(n,e){if(!(256&e[K])){e[K]&=-129,e[K]|=256,function jE(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof Ml)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];zs(4,a,u);try{u.call(a)}finally{zs(5,a,u)}}else{zs(4,i,s);try{s.call(i)}finally{zs(5,i,s)}}}}}(n,e),function W_(n,e){const t=n.cleanup,r=e[Gn];if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else t[s].call(r[t[s+1]]);null!==r&&(e[Gn]=null);const i=e[co];if(null!==i){e[co]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(n,e),1===e[N].type&&e[Je].destroy();const t=e[ca];if(null!==t&&Li(e[Z])){t!==e[Z]&&Xh(t,e);const r=e[uo];null!==r&&r.detachView(n)}!function cC(n){$_.delete(n[da])}(e)}}function dg(n,e,t){return function K_(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[Bn];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=n.data[r.directiveStart+i];if(s===Oi.None||s===Oi.Emulated)return null}return Vi(r,t)}}(n,e.parent,t)}function $l(n,e,t,r,i){n.insertBefore(e,t,r,i)}function zE(n,e,t){n.appendChild(e,t)}function qE(n,e,t,r,i){null!==r?$l(n,e,t,r,i):zE(n,e,t)}function ec(n,e){return n.parentNode(e)}function GE(n,e,t){return Q_(n,e,t)}let Y_,ey,Q_=function hg(n,e,t){return 40&n.type?Vi(n,t):null};function fg(n,e,t,r){const i=dg(n,r,e),s=e[Je],a=GE(r.parent||e[mt],r,e);if(null!=i)if(Array.isArray(t))for(let u=0;u<t.length;u++)qE(s,i,t[u],a,!1);else qE(s,i,t,a,!1);void 0!==Y_&&Y_(s,r,e,t,i)}function ef(n,e){if(null!==e){const t=e.type;if(3&t)return Vi(e,n);if(4&t)return J_(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return ef(n,r);{const i=n[e.index];return Li(i)?J_(-1,i):wn(i)}}if(32&t)return q_(e,n)()||wn(n[e.index]);{const r=KE(n,e);return null!==r?Array.isArray(r)?r[0]:ef(od(n[kn]),r):ef(n,e.next)}}return null}function KE(n,e){return null!==e?n[kn][mt].projection[e.projection]:null}function J_(n,e){const t=yr+n+1;if(t<e.length){const r=e[t],i=r[N].firstChild;if(null!==i)return ef(r,i)}return e[js]}function X_(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],u=t.type;if(o&&0===e&&(a&&$i(wn(a),r),t.flags|=2),32!=(32&t.flags))if(8&u)X_(n,e,t.child,r,i,s,!1),ad(e,n,i,a,s);else if(32&u){const d=q_(t,r);let p;for(;p=d();)ad(e,n,i,p,s);ad(e,n,i,a,s)}else 16&u?QE(n,e,r,t,i,s):ad(e,n,i,a,s);t=o?t.projectionNext:t.next}}function tf(n,e,t,r,i,s){X_(t,r,n.firstChild,e,i,s,!1)}function QE(n,e,t,r,i,s){const o=t[kn],u=o[mt].projection[r.projection];if(Array.isArray(u))for(let d=0;d<u.length;d++)ad(e,n,i,u[d],s);else{let d=u;const p=o[Z];ig(r)&&(d.flags|=128),X_(n,e,d,p,i,s,!0)}}function jl(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function Mt(n,e,t){const{mergedAttrs:r,classes:i,styles:s}=t;null!==r&&Ro(n,e,r),null!==i&&jl(n,e,i),null!==s&&function DC(n,e,t){n.setAttribute(e,"style",t)}(n,e,s)}class lr{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Bt})`}}function ql(n){return n instanceof lr?n.changingThisBreaksApplicationSecurity:n}const UC=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var dd=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(dd||{});function ay(n){const e=function uf(){const n=pe();return n&&n[Il].sanitizer}();return e?e.sanitize(dd.URL,n)||"":function rf(n,e){const t=function kC(n){return n instanceof lr&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Bt})`)}return t===e}(n,"URL")?ql(n):function ry(n){return(n=String(n)).match(UC)?n:"unsafe:"+n}(Be(n))}class xe{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=He({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const cf=new xe("ENVIRONMENT_INITIALIZER"),uy=new xe("INJECTOR",-1),t0=new xe("INJECTOR_DEF_TYPES");class cy{get(e,t=Ji){if(t===Ji){const r=new Error(`NullInjectorError: No provider for ${Ye(e)}!`);throw r.name="NullInjectorError",r}return t}}function n0(...n){return{\u0275providers:r0(0,n),\u0275fromNgModule:!0}}function r0(n,...e){const t=[],r=new Set;let i;const s=o=>{t.push(o)};return td(e,o=>{const a=o;vg(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&s0(i,s),t}function s0(n,e){for(let t=0;t<n.length;t++){const{ngModule:r,providers:i}=n[t];Ig(i,s=>{e(s,r)})}}function vg(n,e,t,r){if(!(n=j(n)))return!1;let i=null,s=hl(n);const o=!s&&en(n);if(s||o){if(o&&!o.standalone)return!1;i=n}else{const u=n.ngModule;if(s=hl(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const d of u)vg(d,e,t,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let d;r.add(i);try{td(s.imports,p=>{vg(p,e,t,r)&&(d||=[],d.push(p))})}finally{}void 0!==d&&s0(d,e)}if(!a){const d=fa(i)||(()=>new i);e({provide:i,useFactory:d,deps:$t},i),e({provide:t0,useValue:i,multi:!0},i),e({provide:cf,useValue:()=>Ie(i),multi:!0},i)}const u=s.providers;if(null!=u&&!a){const d=n;Ig(u,p=>{e(p,d)})}}}return i!==n&&void 0!==n.providers}function Ig(n,e){for(let t of n)Ke(t)&&(t=t.\u0275providers),Array.isArray(t)?Ig(t,e):e(t)}const tS=ke({provide:String,useValue:ke});function hy(n){return null!==n&&"object"==typeof n&&tS in n}function yo(n){return"function"==typeof n}const fy=new xe("Set Injector scope."),Eg={},rS={};let py;function df(){return void 0===py&&(py=new cy),py}class ws{}class wg extends ws{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,my(e,o=>this.processProvider(o)),this.records.set(uy,hd(void 0,this)),i.has("environment")&&this.records.set(ws,hd(void 0,this));const s=this.records.get(fy);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(t0.multi,$t,Ht.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=Vs(this),r=Mi(void 0);try{return e()}finally{Vs(t),Mi(r)}}get(e,t=Ji,r=Ht.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Tu))return e[Tu](this);r=Eu(r);const s=Vs(this),o=Mi(void 0);try{if(!(r&Ht.SkipSelf)){let u=this.records.get(e);if(void 0===u){const d=function lS(n){return"function"==typeof n||"object"==typeof n&&n instanceof xe}(e)&&Ao(e);u=d&&this.injectableDefInScope(d)?hd(gy(e),Eg):null,this.records.set(e,u)}if(null!=u)return this.hydrate(e,u)}return(r&Ht.Self?df():this.parent).get(e,t=r&Ht.Optional&&t===Ji?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[Dc]=a[Dc]||[]).unshift(Ye(e)),s)throw a;return function hh(n,e,t,r){const i=n[Dc];throw e[dh]&&i.unshift(e[dh]),n.message=function lo(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=Ye(e);if(Array.isArray(e))i=e.map(Ye).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Ye(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(Ip,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[Dc]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{Mi(o),Vs(s)}}resolveInjectorInitializers(){const e=Vs(this),t=Mi(void 0);try{const i=this.get(cf.multi,$t,Ht.Self);for(const s of i)s()}finally{Vs(e),Mi(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(Ye(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new W(205,!1)}processProvider(e){let t=yo(e=j(e))?e:j(e&&e.provide);const r=function sS(n){return hy(n)?hd(void 0,n.useValue):hd(l0(n),Eg)}(e);if(yo(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=hd(void 0,Eg,!0),i.factory=()=>vi(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===Eg&&(t.value=rS,t.value=t.factory()),"object"==typeof t.value&&t.value&&function aS(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=j(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function gy(n){const e=Ao(n),t=null!==e?e.factory:fa(n);if(null!==t)return t;if(n instanceof xe)throw new W(204,!1);if(n instanceof Function)return function iS(n){const e=n.length;if(e>0)throw nd(e,"?"),new W(204,!1);const t=function dl(n){return n&&(n[qa]||n[mu])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new W(204,!1)}function l0(n,e,t){let r;if(yo(n)){const i=j(n);return fa(i)||gy(i)}if(hy(n))r=()=>j(n.useValue);else if(function a0(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...vi(n.deps||[]));else if(function o0(n){return!(!n||!n.useExisting)}(n))r=()=>Ie(j(n.useExisting));else{const i=j(n&&(n.useClass||n.provide));if(!function oS(n){return!!n.deps}(n))return fa(i)||gy(i);r=()=>new i(...vi(n.deps))}return r}function hd(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function my(n,e){for(const t of n)Array.isArray(t)?my(t,e):t&&Ke(t)?my(t.\u0275providers,e):e(t)}const bg=new xe("AppId",{providedIn:"root",factory:()=>uS}),uS="ng",u0=new xe("Platform Initializer"),vo=new xe("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),c0=new xe("AnimationModuleType"),d0=new xe("CSP nonce",{providedIn:"root",factory:()=>function ld(){if(void 0!==ey)return ey;if(typeof document<"u")return document;throw new W(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let h0=(n,e,t)=>null;function wy(n,e,t=!1){return h0(n,e,t)}class Sy{}class Pg{}class _S{resolveComponentFactory(e){throw function mS(n){const e=Error(`No component factory found for ${Ye(n)}.`);return e.ngComponent=n,e}(e)}}let Mg=(()=>{class n{static#e=this.NULL=new _S}return n})();function yS(){return md(Er(),pe())}function md(n,e){return new zi(Vi(n,e))}let zi=(()=>{class n{constructor(t){this.nativeElement=t}static#e=this.__NG_ELEMENT_ID__=yS}return n})();function vS(n){return n instanceof zi?n.nativeElement:n}class pf{}let Ko=(()=>{class n{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function IS(){const n=pe(),t=Ui(Er().index,n);return(ci(t)?t:n)[Je]}()}return n})(),ES=(()=>{class n{static#e=this.\u0275prov=He({token:n,providedIn:"root",factory:()=>null})}return n})();class _d{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const m0=new _d("16.2.9"),Ay={};function k(n,e=null,t=null,r){const i=B(n,e,t,r);return i.resolveInjectorInitializers(),i}function B(n,e=null,t=null,r,i=new Set){const s=[t||$t,n0(n)];return r=r||("object"==typeof n?void 0:Ye(n)),new wg(s,e||df(),r||null,i)}let z=(()=>{class n{static#e=this.THROW_IF_NOT_FOUND=Ji;static#t=this.NULL=new cy;static create(t,r){if(Array.isArray(t))return k({name:""},r,t,"");{const i=t.name??"";return k({name:i},t.parent,t.providers,i)}}static#n=this.\u0275prov=He({token:n,providedIn:"any",factory:()=>Ie(uy)});static#r=this.__NG_ELEMENT_ID__=-1}return n})();function we(n){return n.ngOriginalError}class Se{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&we(e);for(;t&&we(t);)t=we(t);return t||null}}function Xt(n){return e=>{setTimeout(n,void 0,e)}}const nt=class yt extends ie{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=Xt(s),i&&(i=Xt(i)),o&&(o=Xt(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof un&&e.add(a),a}};function bs(...n){}class ut{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new nt(!1),this.onMicrotaskEmpty=new nt(!1),this.onStable=new nt(!1),this.onError=new nt(!1),typeof Zone>"u")throw new W(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function is(){const n="function"==typeof Sn.requestAnimationFrame;let e=Sn[n?"requestAnimationFrame":"setTimeout"],t=Sn[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function s6(n){const e=()=>{!function y0(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Sn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,TS(n),n.isCheckStableRunning=!0,Qo(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),TS(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{if(function a6(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(i,s,o,a);try{return IM(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),EM(n)}},onInvoke:(t,r,i,s,o,a,u)=>{try{return IM(n),t.invoke(i,s,o,a,u)}finally{n.shouldCoalesceRunChangeDetection&&e(),EM(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,TS(n),Qo(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ut.isInAngularZone())throw new W(909,!1)}static assertNotInAngularZone(){if(ut.isInAngularZone())throw new W(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,Zo,bs,bs);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const Zo={};function Qo(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function TS(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function IM(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function EM(n){n._nesting--,Qo(n)}class o6{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new nt,this.onMicrotaskEmpty=new nt,this.onStable=new nt,this.onError=new nt}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const wM=new xe("",{providedIn:"root",factory:bM});function bM(){const n=De(ut);let e=!0;return R(new bt(i=>{e=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{i.next(e),i.complete()})}),new bt(i=>{let s;n.runOutsideAngular(()=>{s=n.onStable.subscribe(()=>{ut.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=n.onUnstable.subscribe(()=>{ut.assertInAngularZone(),e&&(e=!1,n.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(se()))}function TM(n){return n.ownerDocument}function tc(n){return n instanceof Function?n():n}let CS=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=He({token:n,providedIn:"root",factory:()=>new n})}return n})();function xy(n){for(;n;){n[K]|=64;const e=od(n);if(kc(n)&&!e)return n;n=e}return null}const xM=new xe("",{providedIn:"root",factory:()=>!1});let I0=null;function OM(n,e){return n[e]??LM()}function NM(n,e){const t=LM();t.producerNode?.length&&(n[e]=I0,t.lView=n,I0=kM())}const m6={...hn,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{xy(n.lView)},lView:null};function kM(){return Object.create(m6)}function LM(){return I0??=kM(),I0}const Ut={};function $e(n){FM(Yt(),pe(),hi()+n,!1)}function FM(n,e,t,r){if(!r)if(3==(3&e[K])){const s=n.preOrderCheckHooks;null!==s&&Zc(e,s,t)}else{const s=n.preOrderHooks;null!==s&&Pl(e,s,0,t)}go(t)}function oe(n,e=Ht.Default){const t=pe();return null===t?Ie(n,e):pi(Er(),t,j(n),e)}function E0(n,e,t,r,i,s,o,a,u,d,p){const y=e.blueprint.slice();return y[Bn]=i,y[K]=140|r,(null!==d||n&&2048&n[K])&&(y[K]|=2048),Ch(y),y[Z]=y[$s]=n,y[Et]=t,y[Il]=o||n&&n[Il],y[Je]=a||n&&n[Je],y[_s]=u||n&&n[_s]||null,y[mt]=s,y[da]=function lC(){return aC++}(),y[Mo]=p,y[Mu]=d,y[kn]=2==e.type?n[kn]:y,y}function kg(n,e,t,r,i){let s=n.data[e];if(null===s)s=function SS(n,e,t,r,i){const s=xh(),o=xl(),u=n.data[e]=function T6(n,e,t,r,i,s){let o=e?e.injectorIndex:-1,a=0;return Ta()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u,u.prev=s)),u}(n,e,t,r,i),function x_(){return lt.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function Dl(){const n=lt.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return ns(s,!0),s}function Ry(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function UM(n,e,t,r,i){const s=OM(e,Ou),o=hi(),a=2&r;try{go(-1),a&&e.length>Tt&&FM(n,e,Tt,!1),zs(a?2:0,i);const d=a?s:null,p=_h(d);try{null!==d&&(d.dirty=!1),t(r,i)}finally{Uc(d,p)}}finally{a&&null===e[Ou]&&NM(e,Ou),go(o),zs(a?3:1,i)}}function AS(n,e,t){if(Lu(e)){const r=Ei(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=n.data[o];a.contentQueries&&a.contentQueries(1,t[o],o)}}finally{Ei(r)}}}function DS(n,e,t){ba()&&(function P6(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;Wa(t)&&function V6(n,e,t){const r=Vi(e,n),i=BM(t);let o=16;t.signals?o=4096:t.onPush&&(o=64);const a=w0(n,E0(n,i,null,o,r,e,null,n[Il].rendererFactory.createRenderer(r,t),null,null,null));n[e.index]=a}(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||E(t,e),$i(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const u=n.data[a],d=qo(e,n,a,t);$i(d,e),null!==o&&U6(0,a-i,d,u,0,o),Xi(u)&&(Ui(t.index,e)[Et]=qo(e,n,a,t))}}(n,e,t,Vi(t,e)),64==(64&t.flags)&&qM(n,e,t))}function xS(n,e,t=Vi){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}function BM(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=RS(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function RS(n,e,t,r,i,s,o,a,u,d,p){const y=Tt+r,I=y+i,w=function y6(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:Ut);return t}(y,I),x="function"==typeof d?d():d;return w[N]={type:n,blueprint:w,template:t,queries:null,viewQuery:a,declTNode:e,data:w.slice().fill(null,y),bindingStartIndex:y,expandoStartIndex:I,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:x,incompleteFirstPass:!1,ssrId:p}}let HM=n=>null;function $M(n,e,t,r){for(let i in n)if(n.hasOwnProperty(i)){t=null===t?{}:t;const s=n[i];null===r?jM(t,e,i,s):r.hasOwnProperty(i)&&jM(t,e,r[i],s)}return t}function jM(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function PS(n,e,t,r){if(ba()){const i=null===r?null:{"":-1},s=function O6(n,e){const t=n.directiveRegistry;let r=null,i=null;if(t)for(let s=0;s<t.length;s++){const o=t[s];if(Ii(e,o.selectors,!1))if(r||(r=[]),Xi(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),MS(n,e,a.length)}else r.unshift(o),MS(n,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(n,t);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&zM(n,e,t,o,i,a),i&&function N6(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new W(-301,!1);r.push(e[i],s)}}}(t,r,i)}t.mergedAttrs=Po(t.mergedAttrs,t.attrs)}function zM(n,e,t,r,i,s){for(let d=0;d<r.length;d++)ge(E(t,e),n,r[d].type);!function L6(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let d=0;d<r.length;d++){const p=r[d];p.providersResolver&&p.providersResolver(p)}let o=!1,a=!1,u=Ry(n,e,r.length,null);for(let d=0;d<r.length;d++){const p=r[d];t.mergedAttrs=Po(t.mergedAttrs,p.hostAttrs),F6(n,t,e,u,p),k6(u,p,i),null!==p.contentQueries&&(t.flags|=4),(null!==p.hostBindings||null!==p.hostAttrs||0!==p.hostVars)&&(t.flags|=64);const y=p.type.prototype;!o&&(y.ngOnChanges||y.ngOnInit||y.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),o=!0),!a&&(y.ngOnChanges||y.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),u++}!function C6(n,e,t){const i=e.directiveEnd,s=n.data,o=e.attrs,a=[];let u=null,d=null;for(let p=e.directiveStart;p<i;p++){const y=s[p],I=t?t.get(y):null,x=I?I.outputs:null;u=$M(y.inputs,p,u,I?I.inputs:null),d=$M(y.outputs,p,d,x);const M=null===u||null===o||xc(e)?null:B6(u,p,o);a.push(M)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=d}(n,t,s)}function qM(n,e,t){const r=t.directiveStart,i=t.directiveEnd,s=t.index,o=function R_(){return lt.lFrame.currentDirectiveIndex}();try{go(s);for(let a=r;a<i;a++){const u=n.data[a],d=e[a];Mh(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&M6(u,d)}}finally{go(-1),Mh(o)}}function M6(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function MS(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function k6(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Xi(e)&&(t[""]=n)}}function F6(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=fa(i.type)),o=new Ml(s,Xi(i),oe);n.blueprint[r]=o,t[r]=o,function x6(n,e,t,r,i){const s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const a=~e.index;(function R6(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(o)!=a&&o.push(a),o.push(t,r,s)}}(n,e,r,Ry(n,t,i.hostVars,Ut),i)}function Gl(n,e,t,r,i,s){const o=Vi(n,e);!function OS(n,e,t,r,i,s,o){if(null==s)n.removeAttribute(e,i,t);else{const a=null==o?Be(s):o(s,r||"",i);n.setAttribute(e,i,a,t)}}(e[Je],o,s,n.value,t,r,i)}function U6(n,e,t,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)GM(r,t,o[a++],o[a++],o[a++])}function GM(n,e,t,r,i){const s=Ei(null);try{const o=n.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),null!==n.setInput?n.setInput(e,i,t,r):e[r]=i}finally{Ei(s)}}function B6(n,e,t){let r=null,i=0;for(;i<t.length;){const s=t[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===r&&(r=[]);const o=n[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function WM(n,e,t,r){return[n,!0,!1,e,null,0,r,t,null,null,null]}function KM(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const s=t[r+1];if(-1!==s){const o=n.data[s];Oh(t[r]),o.contentQueries(2,e[s],s)}}}function w0(n,e){return n[ua]?n[Nc][Pe]=e:n[ua]=e,n[Nc]=e,e}function NS(n,e,t){Oh(0);const r=Ei(null);try{e(n,t)}finally{Ei(r)}}function ZM(n){return n[Gn]||(n[Gn]=[])}function QM(n){return n.cleanup||(n.cleanup=[])}function JM(n,e){const t=n[_s],r=t?t.get(Se,null):null;r&&r.handleError(e)}function kS(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++];GM(n.data[o],e[o],r,a,i)}}function H6(n,e){const t=Ui(e,n),r=t[N];!function $6(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(r,t);const i=t[Bn];null!==i&&null===t[Mo]&&(t[Mo]=wy(i,t[_s])),LS(r,t,t[Et])}function LS(n,e,t){Nh(e);try{const r=n.viewQuery;null!==r&&NS(1,r,t);const i=n.template;null!==i&&UM(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&KM(n,e),n.staticViewQueries&&NS(2,n.viewQuery,t);const s=n.components;null!==s&&function j6(n,e){for(let t=0;t<e.length;t++)H6(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[K]&=-5,wi()}}let XM=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(t,r,i){const s=typeof Zone>"u"?null:Zone.current,o=function T_(n,e,t){const r=Object.create(Eh);t&&(r.consumerAllowSignalWrites=!0),r.fn=n,r.schedule=e;const i=o=>{r.cleanupFn=o};return r.ref={notify:()=>pa(r),run:()=>{if(r.dirty=!1,r.hasRun&&!Mp(r))return;r.hasRun=!0;const o=_h(r);try{r.cleanupFn(),r.cleanupFn=Up,r.fn(i)}finally{Uc(r,o)}},cleanup:()=>r.cleanupFn()},r.ref}(t,d=>{this.all.has(d)&&this.queue.set(d,s)},i);let a;this.all.add(o),o.notify();const u=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=r?.onDestroy(u),{destroy:u}}flush(){if(0!==this.queue.size)for(const[t,r]of this.queue)this.queue.delete(t),r?r.run(()=>t.run()):t.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=He({token:n,providedIn:"root",factory:()=>new n})}return n})();function b0(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=zr(i,a):2==s&&(r=zr(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function Py(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];null!==s&&r.push(wn(s)),Li(s)&&eO(s,r);const o=t.type;if(8&o)Py(n,e,t.child,r);else if(32&o){const a=q_(t,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=KE(e,t);if(Array.isArray(a))r.push(...a);else{const u=od(e[kn]);Py(u[N],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function eO(n,e){for(let t=yr;t<n.length;t++){const r=n[t],i=r[N].firstChild;null!==i&&Py(r[N],r,i,e)}n[js]!==n[Bn]&&e.push(n[js])}function T0(n,e,t,r=!0){const i=e[Il],s=i.rendererFactory,o=i.afterRenderEventManager;s.begin?.(),o?.begin();try{tO(n,e,n.template,t)}catch(u){throw r&&JM(e,u),u}finally{s.end?.(),i.effectManager?.flush(),o?.end()}}function tO(n,e,t,r){const i=e[K];if(256!=(256&i)){e[Il].effectManager?.flush(),Nh(e);try{Ch(e),function zu(n){return lt.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&UM(n,e,t,2,r);const o=3==(3&i);if(o){const d=n.preOrderCheckHooks;null!==d&&Zc(e,d,null)}else{const d=n.preOrderHooks;null!==d&&Pl(e,d,0,null),Wu(e,0)}if(function G6(n){for(let e=BE(n);null!==e;e=HE(e)){if(!e[El])continue;const t=e[ko];for(let r=0;r<t.length;r++){ti(t[r])}}}(e),nO(e,2),null!==n.contentQueries&&KM(n,e),o){const d=n.contentCheckHooks;null!==d&&Zc(e,d)}else{const d=n.contentHooks;null!==d&&Pl(e,d,1),Wu(e,1)}!function _6(n,e){const t=n.hostBindingOpCodes;if(null===t)return;const r=OM(e,Oo);try{for(let i=0;i<t.length;i++){const s=t[i];if(s<0)go(~s);else{const o=s,a=t[++i],u=t[++i];kt(a,o),r.dirty=!1;const d=_h(r);try{u(2,e[o])}finally{Uc(r,d)}}}}finally{null===e[Oo]&&NM(e,Oo),go(-1)}}(n,e);const a=n.components;null!==a&&iO(e,a,0);const u=n.viewQuery;if(null!==u&&NS(2,u,r),o){const d=n.viewCheckHooks;null!==d&&Zc(e,d)}else{const d=n.viewHooks;null!==d&&Pl(e,d,2),Wu(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[K]&=-73,zc(e)}finally{wi()}}}function nO(n,e){for(let t=BE(n);null!==t;t=HE(t))for(let r=yr;r<t.length;r++)rO(t[r],e)}function W6(n,e,t){rO(Ui(e,n),t)}function rO(n,e){if(!function Hu(n){return 128==(128&n[K])}(n))return;const t=n[N],r=n[K];if(80&r&&0===e||1024&r||2===e)tO(t,n,t.template,n[Et]);else if(n[gt]>0){nO(n,1);const i=t.components;null!==i&&iO(n,i,1)}}function iO(n,e,t){for(let r=0;r<e.length;r++)W6(n,e[r],t)}class My{get rootNodes(){const e=this._lView,t=e[N];return Py(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Et]}set context(e){this._lView[Et]=e}get destroyed(){return 256==(256&this._lView[K])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Z];if(Li(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(lg(e,r),Jp(t,r))}this._attachedToViewContainer=!1}ug(this._lView[N],this._lView)}onDestroy(e){!function Bp(n,e){if(256==(256&n[K]))throw new W(911,!1);null===n[co]&&(n[co]=[]),n[co].push(e)}(this._lView,e)}markForCheck(){xy(this._cdRefInjectingView||this._lView)}detach(){this._lView[K]&=-129}reattach(){this._lView[K]|=128}detectChanges(){T0(this._lView[N],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new W(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function IC(n,e){tf(n,e,e[Je],2,null,null)}(this._lView[N],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new W(902,!1);this._appRef=e}}class K6 extends My{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;T0(e[N],e,e[Et],!1)}checkNoChanges(){}get context(){return null}}class sO extends Mg{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=en(e);return new Oy(t,this.ngModule)}}function oO(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class Q6{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Eu(r);const i=this.injector.get(e,Ay,r);return i!==Ay||t===Ay?i:this.parentInjector.get(e,t,r)}}class Oy extends Pg{get inputs(){const e=this.componentDef,t=e.inputTransforms,r=oO(e.inputs);if(null!==t)for(const i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return oO(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function fh(n){return n.map(Tp).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let s=(i=i||this.ngModule)instanceof ws?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new Q6(e,s):e,a=o.get(pf,null);if(null===a)throw new W(407,!1);const y={rendererFactory:a,sanitizer:o.get(ES,null),effectManager:o.get(XM,null),afterRenderEventManager:o.get(CS,null)},I=a.createRenderer(null,this.componentDef),w=this.componentDef.selectors[0][0]||"div",x=r?function v6(n,e,t,r){const s=r.get(xM,!1)||t===Oi.ShadowDom,o=n.selectRootElement(e,s);return function I6(n){HM(n)}(o),o}(I,r,this.componentDef.encapsulation,o):ag(I,w,function Z6(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(w)),G=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let $=null;null!==x&&($=wy(x,o,!0));const J=RS(0,null,null,1,0,null,null,null,null,null,null),ue=E0(null,J,null,G,null,null,y,I,o,null,$);let Ce,Xe;Nh(ue);try{const Rt=this.componentDef;let Zn,ro=null;Rt.findHostDirectiveDefs?(Zn=[],ro=new Map,Rt.findHostDirectiveDefs(Rt,Zn,ro),Zn.push(Rt)):Zn=[Rt];const So=function J6(n,e){const t=n[N],r=Tt;return n[r]=e,kg(t,r,2,"#host",null)}(ue,x),FT=function X6(n,e,t,r,i,s,o){const a=i[N];!function e9(n,e,t,r){for(const i of n)e.mergedAttrs=Po(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(b0(e,e.mergedAttrs,!0),null!==t&&Mt(r,t,e))}(r,n,e,o);let u=null;null!==e&&(u=wy(e,i[_s]));const d=s.rendererFactory.createRenderer(e,t);let p=16;t.signals?p=4096:t.onPush&&(p=64);const y=E0(i,BM(t),null,p,i[n.index],n,s,d,null,null,u);return a.firstCreatePass&&MS(a,n,r.length-1),w0(i,y),i[n.index]=y}(So,x,Rt,Zn,ue,y,I);Xe=Pr(J,Tt),x&&function n9(n,e,t,r){if(r)Ro(n,t,["ng-version",m0.full]);else{const{attrs:i,classes:s}=function Cp(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!Ni(i))break;i=s}r++}return{attrs:e,classes:t}}(e.selectors[0]);i&&Ro(n,t,i),s&&s.length>0&&jl(n,t,s.join(" "))}}(I,Rt,x,r),void 0!==t&&function r9(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const s=t[i];r.push(null!=s?Array.from(s):null)}}(Xe,this.ngContentSelectors,t),Ce=function t9(n,e,t,r,i,s){const o=Er(),a=i[N],u=Vi(o,i);zM(a,i,o,t,null,r);for(let p=0;p<t.length;p++)$i(qo(i,a,o.directiveStart+p,o),i);qM(a,i,o),u&&$i(u,i);const d=qo(i,a,o.directiveStart+o.componentOffset,o);if(n[Et]=i[Et]=d,null!==s)for(const p of s)p(d,e);return AS(a,o,n),d}(FT,Rt,Zn,ro,ue,[i9]),LS(J,ue,null)}finally{wi()}return new Y6(this.componentType,Ce,md(Xe,ue),ue,Xe)}}class Y6 extends Sy{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new K6(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const s=this._rootLView;kS(s[N],s,i,e,t),this.previousInputValues.set(e,t),xy(Ui(this._tNode.index,s))}}get injector(){return new Mr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function i9(){const n=Er();Rl(pe()[N],n)}function gn(n){let e=function aO(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(Xi(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new W(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=C0(n.inputs),o.inputTransforms=C0(n.inputTransforms),o.declaredInputs=C0(n.declaredInputs),o.outputs=C0(n.outputs);const a=i.hostBindings;a&&l9(n,a);const u=i.viewQuery,d=i.contentQueries;if(u&&o9(n,u),d&&a9(n,d),Cn(n.inputs,i.inputs),Cn(n.declaredInputs,i.declaredInputs),Cn(n.outputs,i.outputs),null!==i.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),Cn(o.inputTransforms,i.inputTransforms)),Xi(i)&&i.data.animation){const p=n.data;p.animation=(p.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===gn&&(t=!1)}}e=Object.getPrototypeOf(e)}!function s9(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Po(i.hostAttrs,t=Po(t,i.hostAttrs))}}(r)}function C0(n){return n===cn?{}:n===$t?[]:n}function o9(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function a9(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function l9(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}function S0(n){return!!FS(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function FS(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Wl(n,e,t){return n[e]=t}function Ts(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function gf(n,e,t,r){const i=Ts(n,e,t);return Ts(n,e+1,r)||i}function tr(n,e,t,r){const i=pe();return Ts(i,Ca(),e)&&(Yt(),Gl(Ln(),i,n,e,t,r)),tr}function St(n,e,t,r,i,s,o,a){const u=pe(),d=Yt(),p=n+Tt,y=d.firstCreatePass?function O9(n,e,t,r,i,s,o,a,u){const d=e.consts,p=kg(e,n,4,o||null,Bi(d,a));PS(e,t,p,Bi(d,u)),Rl(e,p);const y=p.tView=RS(2,p,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,d,null);return null!==e.queries&&(e.queries.template(e,p),y.queries=e.queries.embeddedTView(p)),p}(p,d,u,e,t,r,i,s,o):d.data[p];ns(y,!1);const I=TO(d,u,y,n);qs()&&fg(d,u,I,y),$i(I,u),w0(u,u[p]=WM(I,u,I,y)),Ka(y)&&DS(d,u,y),null!=o&&xS(u,y,a)}let TO=function CO(n,e,t,r){return Ho(!0),e[Je].createComment("")};function qg(n){return function Ea(n,e){return n[e]}(function Wc(){return lt.lFrame.contextLView}(),Tt+n)}function Ve(n,e,t){const r=pe();return Ts(r,Ca(),e)&&function Yo(n,e,t,r,i,s,o,a){const u=Vi(e,t);let p,d=e.inputs;!a&&null!=d&&(p=d[r])?(kS(n,t,p,r,i),Wa(e)&&function A6(n,e){const t=Ui(e,n);16&t[K]||(t[K]|=64)}(t,e.index)):3&e.type&&(r=function S6(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}(Yt(),Ln(),r,n,e,r[Je],t,!1),Ve}function jS(n,e,t,r,i){const o=i?"class":"style";kS(n,t,e.inputs[o],o,r)}function _e(n,e,t,r){const i=pe(),s=Yt(),o=Tt+n,a=i[Je],u=s.firstCreatePass?function F9(n,e,t,r,i,s){const o=e.consts,u=kg(e,n,2,r,Bi(o,i));return PS(e,t,u,Bi(o,s)),null!==u.attrs&&b0(u,u.attrs,!1),null!==u.mergedAttrs&&b0(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,e,t,r):s.data[o],d=SO(s,i,u,a,e,n);i[o]=d;const p=Ka(u);return ns(u,!0),Mt(a,d,u),32!=(32&u.flags)&&qs()&&fg(s,i,d,u),0===function $p(){return lt.lFrame.elementDepthCount}()&&$i(d,i),function S_(){lt.lFrame.elementDepthCount++}(),p&&(DS(s,i,u),AS(s,u,i)),null!==r&&xS(i,u),_e}function Te(){let n=Er();xl()?ju():(n=n.parent,ns(n,!1));const e=n;(function A_(n){return lt.skipHydrationRootTNode===n})(e)&&function D_(){lt.skipHydrationRootTNode=null}(),function Ah(){lt.lFrame.elementDepthCount--}();const t=Yt();return t.firstCreatePass&&(Rl(t,n),Lu(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function Zu(n){return 0!=(8&n.flags)}(e)&&jS(t,e,pe(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function jo(n){return 0!=(16&n.flags)}(e)&&jS(t,e,pe(),e.stylesWithoutHost,!1),Te}function jt(n,e,t,r){return _e(n,e,t,r),Te(),jt}let SO=(n,e,t,r,i,s)=>(Ho(!0),ag(r,i,function Bo(){return lt.lFrame.currentNamespace}()));function Vy(n,e,t){const r=pe(),i=Yt(),s=n+Tt,o=i.firstCreatePass?function B9(n,e,t,r,i){const s=e.consts,o=Bi(s,r),a=kg(e,n,8,"ng-container",o);return null!==o&&b0(a,o,!0),PS(e,t,a,Bi(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,t):i.data[s];ns(o,!0);const a=AO(i,r,o,n);return r[s]=a,qs()&&fg(i,r,a,o),$i(a,r),Ka(o)&&(DS(i,r,o),AS(i,o,r)),null!=t&&xS(r,o),Vy}function Uy(){let n=Er();const e=Yt();return xl()?ju():(n=n.parent,ns(n,!1)),e.firstCreatePass&&(Rl(e,n),Lu(n)&&e.queries.elementEnd(n)),Uy}function zS(n,e,t){return Vy(n,e,t),Uy(),zS}let AO=(n,e,t,r)=>(Ho(!0),G_(e[Je],""));function ur(){return pe()}function By(n){return!!n&&"function"==typeof n.then}function DO(n){return!!n&&"function"==typeof n.subscribe}function dt(n,e,t,r){const i=pe(),s=Yt(),o=Er();return function RO(n,e,t,r,i,s,o){const a=Ka(r),d=n.firstCreatePass&&QM(n),p=e[Et],y=ZM(e);let I=!0;if(3&r.type||o){const M=Vi(r,e),L=o?o(M):M,G=y.length,$=o?ue=>o(wn(ue[r.index])):r.index;let J=null;if(!o&&a&&(J=function j9(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[Gn],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==J)(J.__ngLastListenerFn__||J).__ngNextListenerFn__=s,J.__ngLastListenerFn__=s,I=!1;else{s=MO(r,e,p,s,!1);const ue=t.listen(L,i,s);y.push(s,ue),d&&d.push(i,$,G,G+1)}}else s=MO(r,e,p,s,!1);const w=r.outputs;let x;if(I&&null!==w&&(x=w[i])){const M=x.length;if(M)for(let L=0;L<M;L+=2){const Ce=e[x[L]][x[L+1]].subscribe(s),Xe=y.length;y.push(s,Ce),d&&d.push(i,r.index,Xe,-(Xe+1))}}}(s,i,i[Je],o,n,e,r),dt}function PO(n,e,t,r){try{return zs(6,e,t),!1!==t(r)}catch(i){return JM(n,i),!1}finally{zs(7,e,t)}}function MO(n,e,t,r,i){return function s(o){if(o===Function)return r;xy(n.componentOffset>-1?Ui(n.index,e):e);let u=PO(e,t,r,o),d=s.__ngNextListenerFn__;for(;d;)u=PO(e,t,d,o)&&u,d=d.__ngNextListenerFn__;return i&&!1===u&&o.preventDefault(),u}}function Me(n=1){return function Aa(n){return(lt.lFrame.contextLView=function Fh(n,e){for(;n>0;)e=e[$s],n--;return e}(n,lt.lFrame.contextLView))[Et]}(n)}function z9(n,e){let t=null;const r=function Ru(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?Ii(n,s,!0):Pu(r,s))return i}else t=i}return t}function qS(n){const e=pe()[kn][mt];if(!e.projection){const r=e.projection=nd(n?n.length:1,null),i=r.slice();let s=e.child;for(;null!==s;){const o=n?z9(s,n):0;null!==o&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}function GS(n,e=0,t){const r=pe(),i=Yt(),s=kg(i,Tt+n,16,null,t||null);null===s.projection&&(s.projection=e),ju(),(!r[Mo]||Ta())&&32!=(32&s.flags)&&function SC(n,e,t){QE(e[Je],0,e,t,dg(n,t,e),GE(t.parent||e[mt],t,e))}(i,r,s)}function P0(n,e){return n<<17|e<<2}function yd(n){return n>>17&32767}function KS(n){return 2|n}function mf(n){return(131068&n)>>2}function ZS(n,e){return-131069&n|e<<2}function QS(n){return 1|n}function $O(n,e,t,r,i){const s=n[t+1],o=null===e;let a=r?yd(s):mf(s),u=!1;for(;0!==a&&(!1===u||o);){const p=n[a+1];Q9(n[a],e)&&(u=!0,n[a+1]=r?QS(p):KS(p)),a=r?yd(p):mf(p)}u&&(n[t+1]=r?KS(s):QS(s))}function Q9(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Ju(n,e)>=0}const Ci={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function jO(n){return n.substring(Ci.key,Ci.keyEnd)}function zO(n,e){const t=Ci.textEnd;return t===e?-1:(e=Ci.keyEnd=function e$(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,Ci.key=e,t),Gg(n,e,t))}function Gg(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function Hy(n,e){return function Xa(n,e,t,r){const i=pe(),s=Yt(),o=vs(2);s.firstUpdatePass&&YO(s,n,o,r),e!==Ut&&Ts(i,o,e)&&XO(s,s.data[hi()],i,i[Je],n,i[o+1]=function d$(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Ye(ql(n)))),n}(e,t),r,o)}(n,e,null,!0),Hy}function Zl(n){!function el(n,e,t,r){const i=Yt(),s=vs(2);i.firstUpdatePass&&YO(i,null,s,r);const o=pe();if(t!==Ut&&Ts(o,s,t)){const a=i.data[hi()];if(tN(a,r)&&!QO(i,s)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;null!==u&&(t=zr(u,t||"")),jS(i,a,o,t,r)}else!function c$(n,e,t,r,i,s,o,a){i===Ut&&(i=$t);let u=0,d=0,p=0<i.length?i[0]:null,y=0<s.length?s[0]:null;for(;null!==p||null!==y;){const I=u<i.length?i[u+1]:void 0,w=d<s.length?s[d+1]:void 0;let M,x=null;p===y?(u+=2,d+=2,I!==w&&(x=y,M=w)):null===y||null!==p&&p<y?(u+=2,x=p):(d+=2,x=y,M=w),null!==x&&XO(n,e,t,r,x,M,o,a),p=u<i.length?i[u]:null,y=d<s.length?s[d]:null}}(i,a,o,o[Je],o[s+1],o[s+1]=function l$(n,e,t){if(null==t||""===t)return $t;const r=[],i=ql(t);if(Array.isArray(i))for(let s=0;s<i.length;s++)n(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&n(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(n,e,t),r,s)}}(u$,Ql,n,!0)}function Ql(n,e){for(let t=function J9(n){return function GO(n){Ci.key=0,Ci.keyEnd=0,Ci.value=0,Ci.valueEnd=0,Ci.textEnd=n.length}(n),zO(n,Gg(n,0,Ci.textEnd))}(e);t>=0;t=zO(e,t))bi(n,jO(e),!0)}function QO(n,e){return e>=n.expandoStartIndex}function YO(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[hi()],o=QO(n,t);tN(s,r)&&null===e&&!o&&(e=!1),e=function i$(n,e,t,r){const i=function Qa(n){const e=lt.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=$y(t=YS(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=YS(i,n,e,t,r),null===s){let u=function s$(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==mf(r))return n[yd(r)]}(n,e,r);void 0!==u&&Array.isArray(u)&&(u=YS(null,n,e,u[1],r),u=$y(u,e.attrs,r),function o$(n,e,t,r){n[yd(t?e.classBindings:e.styleBindings)]=r}(n,e,r,u))}else s=function a$(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=$y(r,n[s].hostAttrs,t);return $y(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function K9(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=yd(o),u=mf(o);n[r]=t;let p,d=!1;if(Array.isArray(t)?(p=t[1],(null===p||Ju(t,p)>0)&&(d=!0)):p=t,i)if(0!==u){const I=yd(n[a+1]);n[r+1]=P0(I,a),0!==I&&(n[I+1]=ZS(n[I+1],r)),n[a+1]=function G9(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=P0(a,0),0!==a&&(n[a+1]=ZS(n[a+1],r)),a=r;else n[r+1]=P0(u,0),0===a?a=r:n[u+1]=ZS(n[u+1],r),u=r;d&&(n[r+1]=KS(n[r+1])),$O(n,p,r,!0),$O(n,p,r,!1),function Z9(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&Ju(s,e)>=0&&(t[r+1]=QS(t[r+1]))}(e,p,n,r,s),o=P0(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}function YS(n,e,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],r=$y(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function $y(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),bi(n,o,!!t||e[++s]))}return void 0===n?null:n}function u$(n,e,t){const r=String(e);""!==r&&!r.includes(" ")&&bi(n,r,t)}function XO(n,e,t,r,i,s,o,a){if(!(3&e.type))return;const u=n.data,d=u[a+1],p=function W9(n){return 1==(1&n)}(d)?eN(u,e,t,i,mf(d),o):void 0;M0(p)||(M0(s)||function q9(n){return 2==(2&n)}(d)&&(s=eN(u,null,t,i,a,o)),function AC(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=-1===r.indexOf("-")?void 0:Hl.DashCase;null==i?n.removeStyle(t,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Hl.Important),n.setStyle(t,r,i,s))}}(r,o,Fo(hi(),t),i,s))}function eN(n,e,t,r,i,s){const o=null===e;let a;for(;i>0;){const u=n[i],d=Array.isArray(u),p=d?u[1]:u,y=null===p;let I=t[i+1];I===Ut&&(I=y?$t:void 0);let w=y?Gh(I,r):p===r?I:void 0;if(d&&!M0(w)&&(w=Gh(u,r)),M0(w)&&(a=w,o))return a;const x=n[i+1];i=o?yd(x):mf(x)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=Gh(u,r))}return a}function M0(n){return void 0!==n}function tN(n,e){return 0!=(n.flags&(e?8:16))}function Ot(n,e=""){const t=pe(),r=Yt(),i=n+Tt,s=r.firstCreatePass?kg(r,i,1,e,null):r.data[i],o=nN(r,t,s,e,n);t[i]=o,qs()&&fg(r,t,o,s),ns(s,!1)}let nN=(n,e,t,r,i)=>(Ho(!0),function og(n,e){return n.createText(e)}(e[Je],r));function _f(n){return Wg("",n,""),_f}function Wg(n,e,t){const r=pe(),i=function Fg(n,e,t,r){return Ts(n,Ca(),t)?e+Be(t)+r:Ut}(r,n,e,t);return i!==Ut&&function nc(n,e,t){const r=Fo(e,n);!function $E(n,e,t){n.setValue(e,t)}(n[Je],r,t)}(r,hi(),i),Wg}const Zg="en-US";let TN=Zg;function eA(n,e,t,r,i){if(n=j(n),Array.isArray(n))for(let s=0;s<n.length;s++)eA(n[s],e,t,r,i);else{const s=Yt(),o=pe(),a=Er();let u=yo(n)?n:j(n.provide);const d=l0(n),p=1048575&a.providerIndexes,y=a.directiveStart,I=a.providerIndexes>>20;if(yo(n)||!n.multi){const w=new Ml(d,i,oe),x=nA(u,e,i?p:p+I,y);-1===x?(ge(E(a,o),s,u),tA(s,n,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(w),o.push(w)):(t[x]=w,o[x]=w)}else{const w=nA(u,e,p+I,y),x=nA(u,e,p,p+I),L=x>=0&&t[x];if(i&&!L||!i&&!(w>=0&&t[w])){ge(E(a,o),s,u);const G=function Mj(n,e,t,r,i){const s=new Ml(n,t,oe);return s.multi=[],s.index=e,s.componentProviders=0,ZN(s,i,r&&!t),s}(i?Pj:Rj,t.length,i,r,d);!i&&L&&(t[x].providerFactory=G),tA(s,n,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(G),o.push(G)}else tA(s,n,w>-1?w:x,ZN(t[i?x:w],d,!i&&r));!i&&r&&L&&t[x].componentProviders++}}}function tA(n,e,t,r){const i=yo(e),s=function nS(n){return!!n.useClass}(e);if(i||s){const u=(s?j(e.useClass):e).prototype.ngOnDestroy;if(u){const d=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const p=d.indexOf(t);-1===p?d.push(t,[r,u]):d[p+1].push(r,u)}else d.push(t,u)}}}function ZN(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function nA(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function Rj(n,e,t,r){return rA(this.multi,[])}function Pj(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=qo(t,t[N],this.providerFactory.index,r);s=a.slice(0,o),rA(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],rA(i,s);return s}function rA(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function wr(n,e=[]){return t=>{t.providersResolver=(r,i)=>function xj(n,e,t){const r=Yt();if(r.firstCreatePass){const i=Xi(n);eA(t,r.data,r.blueprint,i,!0),eA(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class vf{}class QN{}class iA extends vf{constructor(e,t,r){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new sO(this);const i=ki(e);this._bootstrapComponents=tc(i.bootstrap),this._r3Injector=B(e,t,[{provide:vf,useValue:this},{provide:Mg,useValue:this.componentFactoryResolver},...r],Ye(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class sA extends QN{constructor(e){super(),this.moduleType=e}create(e){return new iA(this.moduleType,e,[])}}class YN extends vf{constructor(e){super(),this.componentFactoryResolver=new sO(this),this.instance=null;const t=new wg([...e.providers,{provide:vf,useValue:this},{provide:Mg,useValue:this.componentFactoryResolver}],e.parent||df(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function oA(n,e,t=null){return new YN({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}let kj=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const r=r0(0,t.type),i=r.length>0?oA([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=He({token:n,providedIn:"environment",factory:()=>new n(Ie(ws))})}return n})();function rc(n){n.getStandaloneInjector=e=>e.get(kj).getOrCreateStandaloneInjector(n)}function lA(n,e,t,r,i){return function sk(n,e,t,r,i,s,o){const a=e+t;return gf(n,a,i,s)?Wl(n,a+2,o?r.call(o,i,s):r(i,s)):Ky(n,a+2)}(pe(),Gr(),n,e,t,r,i)}function F0(n,e,t,r,i,s){return function ok(n,e,t,r,i,s,o,a){const u=e+t;return function A0(n,e,t,r,i){const s=gf(n,e,t,r);return Ts(n,e+2,i)||s}(n,u,i,s,o)?Wl(n,u+3,a?r.call(a,i,s,o):r(i,s,o)):Ky(n,u+3)}(pe(),Gr(),n,e,t,r,i,s)}function Ky(n,e){const t=n[e];return t===Ut?void 0:t}function s8(){return this._results[Symbol.iterator]()}class uA{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new nt)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=uA.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=s8)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=function _o(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function hE(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function a8(n,e,t,r=!0){const i=e[N];if(function wC(n,e,t,r){const i=yr+r,s=t.length;r>0&&(t[i-1][Pe]=e),r<s-yr?(e[Pe]=t[i],fE(t,yr+r,e)):(t.push(e),e[Pe]=null),e[Z]=t;const o=e[ca];null!==o&&t!==o&&function bC(n,e){const t=n[ko];e[kn]!==e[Z][Z][kn]&&(n[El]=!0),null===t?n[ko]=[e]:t.push(e)}(o,e);const a=e[uo];null!==a&&a.insertView(n),e[K]|=128}(i,e,n,t),r){const s=J_(t,n),o=e[Je],a=ec(o,n[js]);null!==a&&function vC(n,e,t,r,i,s){r[Bn]=i,r[mt]=e,tf(n,r,t,1,i,s)}(i,n[mt],o,e,a,s)}}let Yl=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=c8}return n})();const l8=Yl,u8=class extends l8{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){const i=function o8(n,e,t,r){const i=e.tView,a=E0(n,i,t,4096&n[K]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[ca]=n[e.index];const d=n[uo];return null!==d&&(a[uo]=d.createEmbeddedView(i)),LS(i,a,t),a}(this._declarationLView,this._declarationTContainer,e,{injector:t,hydrationInfo:r});return new My(i)}};function c8(){return V0(Er(),pe())}function V0(n,e){return 4&n.type?new u8(e,n,md(n,e)):null}let tl=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=m8}return n})();function m8(){return gk(Er(),pe())}const _8=tl,fk=class extends _8{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return md(this._hostTNode,this._hostLView)}get injector(){return new Mr(this._hostTNode,this._hostLView)}get parentInjector(){const e=X(this._hostTNode,this._hostLView);if($h(e)){const t=zo(e,this._hostLView),r=Ol(e);return new Mr(t[N].data[r+8],t)}return new Mr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=pk(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-yr}createEmbeddedView(e,t,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(t||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,t,r,i,s){const o=e&&!function ed(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const M=t||{};a=M.index,r=M.injector,i=M.projectableNodes,s=M.environmentInjector||M.ngModuleRef}const u=o?e:new Oy(en(e)),d=r||this.parentInjector;if(!s&&null==u.ngModule){const L=(o?d:this.parentInjector).get(ws,null);L&&(s=L)}en(u.componentType??{});const w=u.create(d,i,null,s);return this.insertImpl(w.hostView,a,false),w}insert(e,t){return this.insertImpl(e,t,!1)}insertImpl(e,t,r){const i=e._lView;if(function $u(n){return Li(n[Z])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const d=i[Z],p=new fk(d,d[mt],d[Z]);p.detach(p.indexOf(e))}}const o=this._adjustIndex(t),a=this._lContainer;return a8(a,i,o,!r),e.attachToViewContainerRef(),fE(cA(a),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=pk(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=lg(this._lContainer,t);r&&(Jp(cA(this._lContainer),t),ug(r[N],r))}detach(e){const t=this._adjustIndex(e,-1),r=lg(this._lContainer,t);return r&&null!=Jp(cA(this._lContainer),t)?new My(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function pk(n){return n[8]}function cA(n){return n[8]||(n[8]=[])}function gk(n,e){let t;const r=e[n.index];return Li(r)?t=r:(t=WM(r,e,null,n),e[n.index]=t,w0(e,t)),mk(t,e,n,r),new fk(t,n,e)}let mk=function _k(n,e,t,r){if(n[js])return;let i;i=8&t.type?wn(r):function y8(n,e){const t=n[Je],r=t.createComment(""),i=Vi(e,n);return $l(t,ec(t,i),r,function CC(n,e){return n.nextSibling(e)}(t,i),!1),r}(e,t),n[js]=i};class dA{constructor(e){this.queryList=e,this.matches=null}clone(){return new dA(this.queryList)}setDirty(){this.queryList.setDirty()}}class hA{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){const o=t.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new hA(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==wk(e,t).matches&&this.queries[t].setDirty()}}class yk{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class fA{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==t?t.push(s):t=[s])}return null!==t?new fA(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class pA{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new pA(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,t,E8(t,s)),this.matchTNodeWithReadOption(e,t,Ll(t,e,s,!1,!1))}else r===Yl?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Ll(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===zi||i===tl||i===Yl&&4&t.type)this.addMatch(t.index,-2);else{const s=Ll(t,e,i,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function E8(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function b8(n,e,t,r){return-1===t?function w8(n,e){return 11&n.type?md(n,e):4&n.type?V0(n,e):null}(e,n):-2===t?function T8(n,e,t){return t===zi?md(e,n):t===Yl?V0(e,n):t===tl?gk(e,n):void 0}(n,e,r):qo(n,n[N],t,e)}function vk(n,e,t,r){const i=e[uo].queries[r];if(null===i.matches){const s=n.data,o=t.matches,a=[];for(let u=0;u<o.length;u+=2){const d=o[u];a.push(d<0?null:b8(e,s[d],o[u+1],t.metadata.read))}i.matches=a}return i.matches}function gA(n,e,t,r){const i=n.queries.getByIndex(t),s=i.matches;if(null!==s){const o=vk(n,e,i,t);for(let a=0;a<s.length;a+=2){const u=s[a];if(u>0)r.push(o[a/2]);else{const d=s[a+1],p=e[-u];for(let y=yr;y<p.length;y++){const I=p[y];I[ca]===I[Z]&&gA(I[N],I,d,r)}if(null!==p[ko]){const y=p[ko];for(let I=0;I<y.length;I++){const w=y[I];gA(w[N],w,d,r)}}}}}return r}function If(n){const e=pe(),t=Yt(),r=Gu();Oh(r+1);const i=wk(t,r);if(n.dirty&&function po(n){return 4==(4&n[K])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const s=i.crossesNgTemplate?gA(t,e,r,[]):vk(t,e,i,r);n.reset(s,vS),n.notifyOnChanges()}return!0}return!1}function B0(n,e,t){const r=Yt();r.firstCreatePass&&(Ek(r,new yk(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),Ik(r,pe(),e)}function H0(n,e,t,r){const i=Yt();if(i.firstCreatePass){const s=Er();Ek(i,new yk(e,t,r),s.index),function S8(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(i,n),2==(2&t)&&(i.staticContentQueries=!0)}Ik(i,pe(),t)}function Ef(){return function C8(n,e){return n[uo].queries[e].queryList}(pe(),Gu())}function Ik(n,e,t){const r=new uA(4==(4&t));(function b6(n,e,t,r){const i=ZM(e);i.push(t),n.firstCreatePass&&QM(n).push(r,i.length-1)})(n,e,r,r.destroy),null===e[uo]&&(e[uo]=new hA),e[uo].queries.push(new dA(r))}function Ek(n,e,t){null===n.queries&&(n.queries=new fA),n.queries.track(new pA(e,t))}function wk(n,e){return n.queries.getByIndex(e)}const EA=new xe("Application Initializer");let wA=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=De(EA,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const i of this.appInits){const s=i();if(By(s))t.push(s);else if(DO(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});t.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Uk=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const ic=new xe("LocaleId",{providedIn:"root",factory:()=>De(ic,Ht.Optional|Ht.SkipSelf)||function K8(){return typeof $localize<"u"&&$localize.locale||Zg}()});let j0=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new T(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class Y8{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let Bk=(()=>{class n{compileModuleSync(t){return new sA(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=tc(ki(t).declarations).reduce((o,a)=>{const u=en(a);return u&&o.push(new Oy(u)),o},[]);return new Y8(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const zk=new xe(""),q0=new xe("");let AA,CA=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,AA||(function _7(n){AA=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ut.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||n)(Ie(ut),Ie(SA),Ie(q0))};static#t=this.\u0275prov=He({token:n,factory:n.\u0275fac})}return n})(),SA=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return AA?.findTestabilityInTree(this,t,r)??null}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),vd=null;const qk=new xe("AllowMultipleToken"),DA=new xe("PlatformDestroyListeners"),xA=new xe("appBootstrapListener");class Wk{constructor(e,t){this.name=e,this.token=t}}function Zk(n,e,t=[]){const r=`Platform: ${e}`,i=new xe(r);return(s=[])=>{let o=RA();if(!o||o.injector.get(qk,!1)){const a=[...t,...s,{provide:i,useValue:!0}];n?n(a):function I7(n){if(vd&&!vd.get(qk,!1))throw new W(400,!1);(function Gk(){!function _a(n){kp=n}(()=>{throw new W(600,!1)})})(),vd=n;const e=n.get(Yk);(function Kk(n){n.get(u0,null)?.forEach(t=>t())})(n)}(function Qk(n=[],e){return z.create({name:e,providers:[{provide:fy,useValue:"platform"},{provide:DA,useValue:new Set([()=>vd=null])},...n]})}(a,r))}return function w7(n){const e=RA();if(!e)throw new W(401,!1);return e}()}}function RA(){return vd?.get(Yk)??null}let Yk=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function b7(n="zone.js",e){return"noop"===n?new o6:"zone.js"===n?new ut(e):n}(r?.ngZone,function Jk(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function Nj(n,e,t){return new iA(n,e,t)}(t.moduleType,this.injector,function rL(n){return[{provide:ut,useFactory:n},{provide:cf,multi:!0,useFactory:()=>{const e=De(C7,{optional:!0});return()=>e.initialize()}},{provide:nL,useFactory:T7},{provide:wM,useFactory:bM}]}(()=>i)),o=s.injector.get(Se,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:u=>{o.handleError(u)}});s.onDestroy(()=>{G0(this._modules,s),a.unsubscribe()})}),function Xk(n,e,t){try{const r=t();return By(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(o,i,()=>{const a=s.injector.get(wA);return a.runInitializers(),a.donePromise.then(()=>(function CN(n){li(n,"Expected localeId to be defined"),"string"==typeof n&&(TN=n.toLowerCase().replace(/_/g,"-"))}(s.injector.get(ic,Zg)||Zg),this._moduleDoBootstrap(s),s))})})}bootstrapModule(t,r=[]){const i=eL({},r);return function y7(n,e,t){const r=new sA(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(wf);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new W(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new W(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(DA,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||n)(Ie(z))};static#t=this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function eL(n,e){return Array.isArray(e)?e.reduce(eL,n):{...n,...e}}let wf=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=De(nL),this.zoneIsStable=De(wM),this.componentTypes=[],this.components=[],this.isStable=De(j0).hasPendingTasks.pipe(je(t=>t?V(!1):this.zoneIsStable),ht(),se()),this._injector=De(ws)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof Pg;if(!this._injector.get(wA).done)throw!i&&function qr(n){const e=en(n)||Br(n)||Rr(n);return null!==e&&e.standalone}(t),new W(405,!1);let o;o=i?t:this._injector.get(Mg).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function v7(n){return n.isBoundToModule}(o)?void 0:this._injector.get(vf),d=o.create(z.NULL,[],r||o.selector,a),p=d.location.nativeElement,y=d.injector.get(zk,null);return y?.registerApplication(p),d.onDestroy(()=>{this.detachView(d.hostView),G0(this.components,d),y?.unregisterApplication(p)}),this._loadComponent(d),d}tick(){if(this._runningTick)throw new W(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;G0(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(xA,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>G0(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new W(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function G0(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const nL=new xe("",{providedIn:"root",factory:()=>De(Se).handleError.bind(void 0)});function T7(){const n=De(ut),e=De(Se);return t=>n.runOutsideAngular(()=>e.handleError(t))}let C7=(()=>{class n{constructor(){this.zone=De(ut),this.applicationRef=De(wf)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();let bf=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=A7}return n})();function A7(n){return function D7(n,e,t){if(Wa(n)&&!t){const r=Ui(n.index,e);return new My(r,r)}return 47&n.type?new My(e[kn],e):null}(Er(),pe(),16==(16&n))}class lL{constructor(){}supports(e){return S0(e)}create(e){return new N7(e)}}const O7=(n,e)=>e;class N7{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||O7}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const o=!r||t&&t.currentIndex<cL(r,i,s)?t:r,a=cL(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{s||(s=[]);const d=a-i,p=u-i;if(d!=p){for(let I=0;I<d;I++){const w=I<s.length?s[I]:s[I]=0,x=w+I;p<=x&&x<d&&(s[I]=w+1)}s[o.previousIndex]=p-d}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!S0(e))throw new W(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),r=!0),t=t._next}else i=0,function g9(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new k7(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new uL),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new uL),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class k7{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class L7{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class uL{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new L7,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function cL(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class dL{constructor(){}supports(e){return e instanceof Map||FS(e)}create(){return new F7}}class F7{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||FS(e)))throw new W(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new V7(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class V7{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function hL(){return new Z0([new lL])}let Z0=(()=>{class n{static#e=this.\u0275prov=He({token:n,providedIn:"root",factory:hL});constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||hL()),deps:[[n,new eg,new Kh]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new W(901,!1)}}return n})();function fL(){return new Jy([new dL])}let Jy=(()=>{class n{static#e=this.\u0275prov=He({token:n,providedIn:"root",factory:fL});constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||fL()),deps:[[n,new eg,new Kh]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new W(901,!1)}}return n})();const H7=Zk(null,"core",[]);let $7=(()=>{class n{constructor(t){}static#e=this.\u0275fac=function(r){return new(r||n)(Ie(wf))};static#t=this.\u0275mod=Pn({type:n});static#n=this.\u0275inj=Rn({})}return n})();function Jg(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let LA=null;function Id(){return LA}class nz{}const ss=new xe("DocumentToken");let FA=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=He({token:n,factory:function(){return De(iz)},providedIn:"platform"})}return n})();const rz=new xe("Location Initialized");let iz=(()=>{class n extends FA{constructor(){super(),this._doc=De(ss),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Id().getBaseHref(this._doc)}onPopState(t){const r=Id().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Id().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=He({token:n,factory:function(){return new n},providedIn:"platform"})}return n})();function VA(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function wL(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function sc(n){return n&&"?"!==n[0]?"?"+n:n}let Cf=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=He({token:n,factory:function(){return De(TL)},providedIn:"root"})}return n})();const bL=new xe("appBaseHref");let TL=(()=>{class n extends Cf{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??De(ss).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return VA(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+sc(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+sc(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+sc(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||n)(Ie(FA),Ie(bL,8))};static#t=this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),sz=(()=>{class n extends Cf{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=VA(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+sc(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+sc(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||n)(Ie(FA),Ie(bL,8))};static#t=this.\u0275prov=He({token:n,factory:n.\u0275fac})}return n})(),UA=(()=>{class n{constructor(t){this._subject=new nt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function lz(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(wL(CL(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+sc(r))}normalize(t){return n.stripTrailingSlash(function az(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,CL(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+sc(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+sc(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static#e=this.normalizeQueryParams=sc;static#t=this.joinWithSlash=VA;static#n=this.stripTrailingSlash=wL;static#r=this.\u0275fac=function(r){return new(r||n)(Ie(Cf))};static#i=this.\u0275prov=He({token:n,factory:function(){return function oz(){return new UA(Ie(Cf))}()},providedIn:"root"})}return n})();function CL(n){return n.replace(/\/index.html$/,"")}function NL(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}const ZA=/\s+/,kL=[];let aw=(()=>{class n{constructor(t,r,i,s){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this.initialClasses=kL,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(ZA):kL}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(ZA):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){const i=this.stateMap.get(t);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(ZA).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static#e=this.\u0275fac=function(r){return new(r||n)(oe(Z0),oe(Jy),oe(zi),oe(Ko))};static#t=this.\u0275dir=it({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return n})();class Wz{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let FL=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Wz(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),VL(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{VL(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}static#e=this.\u0275fac=function(r){return new(r||n)(oe(tl),oe(Yl),oe(Z0))};static#t=this.\u0275dir=it({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function VL(n,e){n.context.$implicit=e.item}let Sf=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Kz,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){UL("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){UL("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static#e=this.\u0275fac=function(r){return new(r||n)(oe(tl),oe(Yl))};static#t=this.\u0275dir=it({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class Kz{constructor(){this.$implicit=null,this.ngIf=null}}function UL(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Ye(e)}'.`)}let JA=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,s]=t.split("."),o=-1===i.indexOf("-")?void 0:Hl.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,s?`${r}${s}`:r,o):this._renderer.removeStyle(this._ngEl.nativeElement,i,o)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static#e=this.\u0275fac=function(r){return new(r||n)(oe(zi),oe(Jy),oe(Ko))};static#t=this.\u0275dir=it({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return n})(),XA=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:i,ngTemplateOutletContext:s,ngTemplateOutletInjector:o}=this;this._viewRef=r.createEmbeddedView(i,s,o?{injector:o}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(r){return new(r||n)(oe(tl))};static#t=this.\u0275dir=it({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[ts]})}return n})(),Jl=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Pn({type:n});static#n=this.\u0275inj=Rn({})}return n})();const $L="browser";function lw(n){return n===$L}function uw(n){return"server"===n}let bq=(()=>{class n{static#e=this.\u0275prov=He({token:n,providedIn:"root",factory:()=>new Tq(Ie(ss),window)})}return n})();class Tq{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Cq(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class jL{}class Kq extends nz{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class iD extends Kq{static makeCurrent(){!function tz(n){LA||(LA=n)}(new iD)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Zq(){return nv=nv||document.querySelector("base"),nv?nv.getAttribute("href"):null}();return null==t?null:function Qq(n){hw=hw||document.createElement("a"),hw.setAttribute("href",n);const e=hw.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){nv=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return NL(document.cookie,e)}}let hw,nv=null,Jq=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=He({token:n,factory:n.\u0275fac})}return n})();const sD=new xe("EventManagerPlugins");let KL=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(s=>s.supports(t)),!r)throw new W(5101,!1);return this._eventNameToPlugin.set(t,r),r}static#e=this.\u0275fac=function(r){return new(r||n)(Ie(sD),Ie(ut))};static#t=this.\u0275prov=He({token:n,factory:n.\u0275fac})}return n})();class ZL{constructor(e){this._doc=e}}const oD="ng-app-id";let QL=(()=>{class n{constructor(t,r,i,s={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=uw(s),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${oD}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){const i=this.styleRef;if(i.has(t)){const s=i.get(t);return s.usage+=r,s.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===t)return i.delete(r),s.removeAttribute(oD),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(oD,this.appId),o}}addStyleToHost(t,r){const i=this.getStyleElement(t,r);t.appendChild(i);const s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||n)(Ie(ss),Ie(bg),Ie(d0,8),Ie(vo))};static#t=this.\u0275prov=He({token:n,factory:n.\u0275fac})}return n})();const aD={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},lD=/%COMP%/g,nG=new xe("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function JL(n,e){return e.map(t=>t.replace(lD,n))}let uD=(()=>{class n{constructor(t,r,i,s,o,a,u,d=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=u,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=uw(a),this.defaultRenderer=new cD(t,o,u,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Oi.ShadowDom&&(r={...r,encapsulation:Oi.Emulated});const i=this.getOrCreateRenderer(t,r);return i instanceof e2?i.applyToHost(t):i instanceof dD&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,u=this.eventManager,d=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,y=this.platformIsServer;switch(r.encapsulation){case Oi.Emulated:s=new e2(u,d,r,this.appId,p,o,a,y);break;case Oi.ShadowDom:return new oG(u,d,t,r,o,a,this.nonce,y);default:s=new dD(u,d,r,p,o,a,y)}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||n)(Ie(KL),Ie(QL),Ie(bg),Ie(nG),Ie(ss),Ie(vo),Ie(ut),Ie(d0))};static#t=this.\u0275prov=He({token:n,factory:n.\u0275fac})}return n})();class cD{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(aD[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(XL(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(XL(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new W(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=aD[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=aD[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Hl.DashCase|Hl.Important)?e.style.setProperty(t,r,i&Hl.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Hl.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){if("string"==typeof e&&!(e=Id().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function XL(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class oG extends cD{constructor(e,t,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const d=JL(i.id,i.styles);for(const p of d){const y=document.createElement("style");a&&y.setAttribute("nonce",a),y.textContent=p,this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class dD extends cD{constructor(e,t,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=u?JL(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class e2 extends dD{constructor(e,t,r,i,s,o,a,u){const d=i+"-"+r.id;super(e,t,r,s,o,a,u,d),this.contentAttr=function rG(n){return"_ngcontent-%COMP%".replace(lD,n)}(d),this.hostAttr=function iG(n){return"_nghost-%COMP%".replace(lD,n)}(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let aG=(()=>{class n extends ZL{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||n)(Ie(ss))};static#t=this.\u0275prov=He({token:n,factory:n.\u0275fac})}return n})();const t2=["alt","control","meta","shift"],lG={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},uG={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let cG=(()=>{class n extends ZL{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Id().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),t2.forEach(d=>{const p=r.indexOf(d);p>-1&&(r.splice(p,1),o+=d+".")}),o+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(t,r){let i=lG[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),t2.forEach(o=>{o!==i&&(0,uG[o])(t)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(r){return new(r||n)(Ie(ss))};static#t=this.\u0275prov=He({token:n,factory:n.\u0275fac})}return n})();const r2=[{provide:vo,useValue:$L},{provide:u0,useValue:function dG(){iD.makeCurrent()},multi:!0},{provide:ss,useFactory:function fG(){return function PC(n){ey=n}(document),document},deps:[]}],pG=Zk(H7,"browser",r2),gG=new xe(""),s2=[{provide:q0,useClass:class Yq{addToWindow(e){Sn.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new W(5103,!1);return s},Sn.getAllAngularTestabilities=()=>e.getAllTestabilities(),Sn.getAllAngularRootElements=()=>e.getAllRootElements(),Sn.frameworkStabilizers||(Sn.frameworkStabilizers=[]),Sn.frameworkStabilizers.push(r=>{const i=Sn.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(u=>{u.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?Id().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:zk,useClass:CA,deps:[ut,SA,q0]},{provide:CA,useClass:CA,deps:[ut,SA,q0]}],o2=[{provide:fy,useValue:"root"},{provide:Se,useFactory:function hG(){return new Se},deps:[]},{provide:sD,useClass:aG,multi:!0,deps:[ss,ut,vo]},{provide:sD,useClass:cG,multi:!0,deps:[ss]},uD,QL,KL,{provide:pf,useExisting:uD},{provide:jL,useClass:Jq,deps:[]},[]];let a2=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:bg,useValue:t.appId}]}}static#e=this.\u0275fac=function(r){return new(r||n)(Ie(gG,12))};static#t=this.\u0275mod=Pn({type:n});static#n=this.\u0275inj=Rn({providers:[...o2,...s2],imports:[Jl,$7]})}return n})(),l2=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(r){return new(r||n)(Ie(ss))};static#t=this.\u0275prov=He({token:n,factory:function(r){let i=null;return i=r?new r:function _G(){return new l2(Ie(ss))}(),i},providedIn:"root"})}return n})();typeof window<"u"&&window;const{isArray:bG}=Array,{getPrototypeOf:TG,prototype:CG,keys:SG}=Object;function h2(n){if(1===n.length){const e=n[0];if(bG(e))return{args:e,keys:null};if(function AG(n){return n&&"object"==typeof n&&TG(n)===CG}(e)){const t=SG(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:DG}=Array;function f2(n){return Re(e=>function xG(n,e){return DG(e)?n(...e):n(e)}(n,e))}function p2(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function fD(...n){const e=Fs(n),t=gs(n),{args:r,keys:i}=h2(n);if(0===r.length)return A([],e);const s=new bt(function RG(n,e,t=or){return r=>{g2(e,()=>{const{length:i}=n,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)g2(e,()=>{const d=A(n[u],e);let p=!1;d.subscribe(Ae(r,y=>{s[u]=y,p||(p=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>p2(i,o):or));return t?s.pipe(f2(t)):s}function g2(n,e,t){n?jr(t,n,e):e()}const fw=C(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function pD(...n){return function PG(){return yi(1)}()(A(n,Fs(n)))}function m2(n){return new bt(e=>{Gt(n()).subscribe(e)})}function rv(n,e){const t=O(n)?n:()=>n,r=i=>i.error(t());return new bt(e?i=>e.schedule(r,0,i):r)}function gD(){return le((n,e)=>{let t=null;n._refCount++;const r=Ae(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class _2 extends bt{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,he(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new un;const t=this.getSubject();e.add(this.source.subscribe(Ae(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=un.EMPTY)}return e}refCount(){return gD()(this)}}function em(n){return n<=0?()=>Jn:le((e,t)=>{let r=0;e.subscribe(Ae(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function pw(...n){const e=Fs(n);return le((t,r)=>{(e?pD(n,t,e):pD(n,t)).subscribe(r)})}function Fa(n,e){return le((t,r)=>{let i=0;t.subscribe(Ae(r,s=>n.call(e,s,i++)&&r.next(s)))})}function gw(n){return le((e,t)=>{let r=!1;e.subscribe(Ae(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function y2(n=MG){return le((e,t)=>{let r=!1;e.subscribe(Ae(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function MG(){return new fw}function wd(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Fa((i,s)=>n(i,s,r)):or,em(1),t?gw(e):y2(()=>new fw))}function tm(n,e){return O(e)?pn(n,e,1):pn(n,1)}function os(n,e,t){const r=O(n)||e||t?{next:n,error:e,complete:t}:n;return r?le((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(Ae(s,u=>{var d;null===(d=r.next)||void 0===d||d.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var d;a=!1,null===(d=r.error)||void 0===d||d.call(r,u),s.error(u)},()=>{var u,d;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(d=r.finalize)||void 0===d||d.call(r)}))}):or}function Af(n){return le((e,t)=>{let s,r=null,i=!1;r=e.subscribe(Ae(t,void 0,void 0,o=>{s=Gt(n(o,Af(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function mw(n,e){return le(function OG(n,e,t,r,i){return(s,o)=>{let a=t,u=e,d=0;s.subscribe(Ae(o,p=>{const y=d++;u=a?n(u,p,y):(a=!0,p),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}(n,e,arguments.length>=2,!0))}function mD(n){return n<=0?()=>Jn:le((e,t)=>{let r=[];e.subscribe(Ae(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function iv(n){return le((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Kt="primary",sv=Symbol("RouteTitle");class FG{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function nm(n){return new FG(n)}function VG(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Xl(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!v2(n[i],e[i]))return!1;return!0}function v2(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function I2(n){return n.length>0?n[n.length-1]:null}function bd(n){return function wG(n){return!!n&&(n instanceof bt||O(n.lift)&&O(n.subscribe))}(n)?n:By(n)?A(Promise.resolve(n)):V(n)}const BG={exact:function b2(n,e,t){if(!Df(n.segments,e.segments)||!_w(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!b2(n.children[r],e.children[r],t))return!1;return!0},subset:T2},E2={exact:function HG(n,e){return Xl(n,e)},subset:function $G(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>v2(n[t],e[t]))},ignored:()=>!0};function w2(n,e,t){return BG[t.paths](n.root,e.root,t.matrixParams)&&E2[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function T2(n,e,t){return C2(n,e,e.segments,t)}function C2(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Df(i,t)||e.hasChildren()||!_w(i,t,r))}if(n.segments.length===t.length){if(!Df(n.segments,t)||!_w(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!T2(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(Df(n.segments,i)&&_w(n.segments,i,r)&&n.children[Kt])&&C2(n.children[Kt],e,s,r)}}function _w(n,e,t){return e.every((r,i)=>E2[t](n[i].parameters,r.parameters))}class rm{constructor(e=new Hn([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=nm(this.queryParams)),this._queryParamMap}toString(){return qG.serialize(this)}}class Hn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return yw(this)}}class ov{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=nm(this.parameters)),this._parameterMap}toString(){return D2(this)}}function Df(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let av=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=He({token:n,factory:function(){return new _D},providedIn:"root"})}return n})();class _D{parse(e){const t=new nW(e);return new rm(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${lv(e.root,!0)}`,r=function KG(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${vw(t)}=${vw(i)}`).join("&"):`${vw(t)}=${vw(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function GG(n){return encodeURI(n)}(e.fragment)}`:""}`}}const qG=new _D;function yw(n){return n.segments.map(e=>D2(e)).join("/")}function lv(n,e){if(!n.hasChildren())return yw(n);if(e){const t=n.children[Kt]?lv(n.children[Kt],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==Kt&&r.push(`${i}:${lv(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function zG(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===Kt&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==Kt&&(t=t.concat(e(i,r)))}),t}(n,(r,i)=>i===Kt?[lv(n.children[Kt],!1)]:[`${i}:${lv(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Kt]?`${yw(n)}/${t[0]}`:`${yw(n)}/(${t.join("//")})`}}function S2(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function vw(n){return S2(n).replace(/%3B/gi,";")}function yD(n){return S2(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Iw(n){return decodeURIComponent(n)}function A2(n){return Iw(n.replace(/\+/g,"%20"))}function D2(n){return`${yD(n.path)}${function WG(n){return Object.keys(n).map(e=>`;${yD(e)}=${yD(n[e])}`).join("")}(n.parameters)}`}const ZG=/^[^\/()?;#]+/;function vD(n){const e=n.match(ZG);return e?e[0]:""}const QG=/^[^\/()?;=#]+/,JG=/^[^=?&#]+/,eW=/^[^&#]+/;class nW{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Hn([],{}):new Hn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Kt]=new Hn(e,t)),r}parseSegment(){const e=vD(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new W(4009,!1);return this.capture(e),new ov(Iw(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function YG(n){const e=n.match(QG);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=vD(this.remaining);i&&(r=i,this.capture(r))}e[Iw(t)]=Iw(r)}parseQueryParam(e){const t=function XG(n){const e=n.match(JG);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function tW(n){const e=n.match(eW);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=A2(t),s=A2(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=vD(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new W(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Kt);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[Kt]:new Hn([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new W(4011,!1)}}function x2(n){return n.segments.length>0?new Hn([],{[Kt]:n}):n}function R2(n){const e={};for(const r of Object.keys(n.children)){const s=R2(n.children[r]);if(r===Kt&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function rW(n){if(1===n.numberOfChildren&&n.children[Kt]){const e=n.children[Kt];return new Hn(n.segments.concat(e.segments),e.children)}return n}(new Hn(n.segments,e))}function xf(n){return n instanceof rm}function P2(n){let e;const i=x2(function t(s){const o={};for(const u of s.children){const d=t(u);o[u.outlet]=d}const a=new Hn(s.url,o);return s===n&&(e=a),a}(n.root));return e??i}function M2(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(0===e.length)return ID(i,i,i,t,r);const s=function sW(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new N2(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([u,d])=>{a[u]="string"==typeof d?d.split("/"):d}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new N2(t,e,r)}(e);if(s.toRoot())return ID(i,i,new Hn([],{}),t,r);const o=function oW(n,e,t){if(n.isAbsolute)return new ww(e,!0,0);if(!t)return new ww(e,!1,NaN);if(null===t.parent)return new ww(t,!0,0);const r=Ew(n.commands[0])?0:1;return function aW(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new W(4005,!1);i=r.segments.length}return new ww(r,!1,i-s)}(t,t.segments.length-1+r,n.numberOfDoubleDots)}(s,i,n),a=o.processChildren?cv(o.segmentGroup,o.index,s.commands):k2(o.segmentGroup,o.index,s.commands);return ID(i,o.segmentGroup,a,t,r)}function Ew(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function uv(n){return"object"==typeof n&&null!=n&&n.outlets}function ID(n,e,t,r,i){let o,s={};r&&Object.entries(r).forEach(([u,d])=>{s[u]=Array.isArray(d)?d.map(p=>`${p}`):`${d}`}),o=n===e?t:O2(n,e,t);const a=x2(R2(o));return new rm(a,s,i)}function O2(n,e,t){const r={};return Object.entries(n.children).forEach(([i,s])=>{r[i]=s===e?t:O2(s,e,t)}),new Hn(n.segments,r)}class N2{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Ew(r[0]))throw new W(4003,!1);const i=r.find(uv);if(i&&i!==I2(r))throw new W(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ww{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function k2(n,e,t){if(n||(n=new Hn([],{})),0===n.segments.length&&n.hasChildren())return cv(n,e,t);const r=function uW(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],a=t[r];if(uv(a))break;const u=`${a}`,d=r<t.length-1?t[r+1]:null;if(i>0&&void 0===u)break;if(u&&d&&"object"==typeof d&&void 0===d.outlets){if(!F2(u,d,o))return s;r+=2}else{if(!F2(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new Hn(n.segments.slice(0,r.pathIndex),{});return s.children[Kt]=new Hn(n.segments.slice(r.pathIndex),n.children),cv(s,0,i)}return r.match&&0===i.length?new Hn(n.segments,{}):r.match&&!n.hasChildren()?ED(n,e,t):r.match?cv(n,0,i):ED(n,e,t)}function cv(n,e,t){if(0===t.length)return new Hn(n.segments,{});{const r=function lW(n){return uv(n[0])?n[0].outlets:{[Kt]:n}}(t),i={};if(Object.keys(r).some(s=>s!==Kt)&&n.children[Kt]&&1===n.numberOfChildren&&0===n.children[Kt].segments.length){const s=cv(n.children[Kt],e,t);return new Hn(n.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=k2(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new Hn(n.segments,i)}}function ED(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(uv(s)){const u=cW(s.outlets);return new Hn(r,u)}if(0===i&&Ew(t[0])){r.push(new ov(n.segments[e].path,L2(t[0]))),i++;continue}const o=uv(s)?s.outlets[Kt]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&Ew(a)?(r.push(new ov(o,L2(a))),i+=2):(r.push(new ov(o,{})),i++)}return new Hn(r,{})}function cW(n){const e={};return Object.entries(n).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[t]=ED(new Hn([],{}),0,r))}),e}function L2(n){const e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function F2(n,e,t){return n==t.path&&Xl(e,t.parameters)}const dv="imperative";class eu{constructor(e,t){this.id=e,this.url=t}}class bw extends eu{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Td extends eu{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class hv extends eu{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class im extends eu{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class Tw extends eu{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class V2 extends eu{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dW extends eu{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hW extends eu{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class fW extends eu{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pW extends eu{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gW{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class mW{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class _W{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yW{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vW{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class IW{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class U2{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class wD{}class bD{constructor(e){this.url=e}}class EW{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new fv,this.attachRef=null}}let fv=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new EW,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class B2{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=TD(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=TD(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=CD(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return CD(e,this._root).map(t=>t.value)}}function TD(n,e){if(n===e.value)return e;for(const t of e.children){const r=TD(n,t);if(r)return r}return null}function CD(n,e){if(n===e.value)return[e];for(const t of e.children){const r=CD(n,t);if(r.length)return r.unshift(e),r}return[]}class lc{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function sm(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class H2 extends B2{constructor(e,t){super(e),this.snapshot=t,SD(this,e)}toString(){return this.snapshot.toString()}}function $2(n,e){const t=function wW(n,e){const o=new Cw([],{},{},"",{},Kt,e,null,{});return new z2("",new lc(o,[]))}(0,e),r=new T([new ov("",{})]),i=new T({}),s=new T({}),o=new T({}),a=new T(""),u=new om(r,i,o,a,s,Kt,e,t.root);return u.snapshot=t.root,new H2(new lc(u,[]),t)}class om{constructor(e,t,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(Re(d=>d[sv]))??V(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Re(e=>nm(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Re(e=>nm(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function j2(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function bW(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Cw{get title(){return this.data?.[sv]}constructor(e,t,r,i,s,o,a,u,d){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=nm(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=nm(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class z2 extends B2{constructor(e,t){super(t),this.url=e,SD(this,t)}toString(){return q2(this._root)}}function SD(n,e){e.value._routerState=n,e.children.forEach(t=>SD(n,t))}function q2(n){const e=n.children.length>0?` { ${n.children.map(q2).join(", ")} } `:"";return`${n.value}${e}`}function AD(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Xl(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Xl(e.params,t.params)||n.paramsSubject.next(t.params),function UG(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Xl(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),Xl(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function DD(n,e){const t=Xl(n.params,e.params)&&function jG(n,e){return Df(n,e)&&n.every((t,r)=>Xl(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||DD(n.parent,e.parent))}let xD=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Kt,this.activateEvents=new nt,this.deactivateEvents=new nt,this.attachEvents=new nt,this.detachEvents=new nt,this.parentContexts=De(fv),this.location=De(tl),this.changeDetector=De(bf),this.environmentInjector=De(ws),this.inputBinder=De(Sw,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new W(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new W(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new W(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new W(4013,!1);this._activatedRoute=t;const i=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new TW(t,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=it({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ts]})}return n})();class TW{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===om?this.route:e===fv?this.childContexts:this.parent.get(e,t)}}const Sw=new xe("");let G2=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,i=fD([r.queryParams,r.params,r.data]).pipe(je(([s,o,a],u)=>(a={...s,...o,...a},0===u?V(a):Promise.resolve(a)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const o=function ez(n){const e=en(n);if(!e)return null;const t=new Oy(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(o)for(const{templateName:a}of o.inputs)t.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,i)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=He({token:n,factory:n.\u0275fac})}return n})();function pv(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function SW(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return pv(n,r,i);return pv(n,r)})}(n,e,t);return new lc(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>pv(n,a)),o}}const r=function AW(n){return new om(new T(n.url),new T(n.params),new T(n.queryParams),new T(n.fragment),new T(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>pv(n,s));return new lc(r,i)}}const RD="ngNavigationCancelingError";function W2(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=xf(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=K2(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function K2(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[RD]=!0,r.cancellationCode=e,t&&(r.url=t),r}function Z2(n){return n&&n[RD]}let Q2=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=Ur({type:n,selectors:[["ng-component"]],standalone:!0,features:[rc],decls:1,vars:0,template:function(r,i){1&r&&jt(0,"router-outlet")},dependencies:[xD],encapsulation:2})}return n})();function PD(n){const e=n.children&&n.children.map(PD),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Kt&&(t.component=Q2),t}function il(n){return n.outlet||Kt}function gv(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class kW{constructor(e,t,r,i,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),AD(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=sm(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=sm(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=sm(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){const i=sm(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new IW(s.value.snapshot))}),e.children.length&&this.forwardEvent(new yW(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(AD(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),AD(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=gv(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class Y2{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Aw{constructor(e,t){this.component=e,this.route=t}}function LW(n,e,t){const r=n._root;return mv(r,e?e._root:null,t,[r.value])}function am(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function oh(n){return null!==Ao(n)}(n)?e.get(n):n:r}function mv(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=sm(e);return n.children.forEach(o=>{(function VW(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function UW(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Df(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Df(n.url,e.url)||!Xl(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!DD(n,e)||!Xl(n.queryParams,e.queryParams);default:return!DD(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Y2(r)):(s.data=o.data,s._resolvedData=o._resolvedData),mv(n,e,s.component?a?a.children:null:t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Aw(a.outlet.component,o))}else o&&_v(e,a,i),i.canActivateChecks.push(new Y2(r)),mv(n,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>_v(a,t.getContext(o),i)),i}function _v(n,e,t){const r=sm(n),i=n.value;Object.entries(r).forEach(([s,o])=>{_v(o,i.component?e?e.children.getContext(s):null:e,t)}),t.canDeactivateChecks.push(new Aw(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function yv(n){return"function"==typeof n}function J2(n){return n instanceof fw||"EmptyError"===n?.name}const Dw=Symbol("INITIAL_VALUE");function lm(){return je(n=>fD(n.map(e=>e.pipe(em(1),pw(Dw)))).pipe(Re(e=>{for(const t of e)if(!0!==t){if(t===Dw)return Dw;if(!1===t||t instanceof rm)return t}return!0}),Fa(e=>e!==Dw),em(1)))}function X2(n){return function Ns(...n){return ks(n)}(os(e=>{if(xf(e))throw W2(0,e)}),Re(e=>!0===e))}class xw{constructor(e){this.segmentGroup=e||null}}class eF{constructor(e){this.urlTree=e}}function um(n){return rv(new xw(n))}function tF(n){return rv(new eF(n))}class sK{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new W(4002,!1)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return V(r);if(i.numberOfChildren>1||!i.children[Kt])return rv(new W(4e3,!1));i=i.children[Kt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new rm(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=t[a]}else r[i]=s}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return Object.entries(t.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new Hn(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new W(4001,!1);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}const MD={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function oK(n,e,t,r,i){const s=OD(n,e,t);return s.matched?(r=function xW(n,e){return n.providers&&!n._injector&&(n._injector=oA(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,r),function nK(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?V(i.map(o=>{const a=am(o,n);return bd(function qW(n){return n&&yv(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(lm(),X2()):V(!0)}(r,e,t).pipe(Re(o=>!0===o?s:{...MD}))):V(s)}function OD(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...MD}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||VG)(t,n,e);if(!i)return{...MD};const s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function nF(n,e,t,r){return t.length>0&&function uK(n,e,t){return t.some(r=>Rw(n,e,r)&&il(r)!==Kt)}(n,t,r)?{segmentGroup:new Hn(e,lK(r,new Hn(t,n.children))),slicedSegments:[]}:0===t.length&&function cK(n,e,t){return t.some(r=>Rw(n,e,r))}(n,t,r)?{segmentGroup:new Hn(n.segments,aK(n,0,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Hn(n.segments,n.children),slicedSegments:t}}function aK(n,e,t,r,i){const s={};for(const o of r)if(Rw(n,t,o)&&!i[il(o)]){const a=new Hn([],{});s[il(o)]=a}return{...i,...s}}function lK(n,e){const t={};t[Kt]=e;for(const r of n)if(""===r.path&&il(r)!==Kt){const i=new Hn([],{});t[il(r)]=i}return t}function Rw(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class pK{constructor(e,t,r,i,s,o,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new sK(this.urlSerializer,this.urlTree)}noMatchError(e){return new W(4002,!1)}recognize(){const e=nF(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Kt).pipe(Af(t=>{if(t instanceof eF)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof xw?this.noMatchError(t):t}),Re(t=>{const r=new Cw([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Kt,this.rootComponentType,null,{}),i=new lc(r,t),s=new z2("",i),o=function iW(n,e,t=null,r=null){return M2(P2(n),e,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,Kt).pipe(Af(r=>{throw r instanceof xw?this.noMatchError(r):r}))}inheritParamsAndData(e){const t=e.value,r=j2(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i,!0)}processChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return A(i).pipe(tm(s=>{const o=r.children[s],a=function OW(n,e){const t=n.filter(r=>il(r)===e);return t.push(...n.filter(r=>il(r)!==e)),t}(t,s);return this.processSegmentGroup(e,a,o,s)}),mw((s,o)=>(s.push(...o),s)),gw(null),function NG(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Fa((i,s)=>n(i,s,r)):or,mD(1),t?gw(e):y2(()=>new fw))}(),pn(s=>{if(null===s)return um(r);const o=rF(s);return function gK(n){n.sort((e,t)=>e.value.outlet===Kt?-1:t.value.outlet===Kt?1:e.value.outlet.localeCompare(t.value.outlet))}(o),V(o)}))}processSegment(e,t,r,i,s,o){return A(t).pipe(tm(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,r,i,s,o).pipe(Af(u=>{if(u instanceof xw)return V(null);throw u}))),wd(a=>!!a),Af(a=>{if(J2(a))return function hK(n,e,t){return 0===e.length&&!n.children[t]}(r,i,s)?V([]):um(r);throw a}))}processSegmentAgainstRoute(e,t,r,i,s,o,a){return function dK(n,e,t,r){return!!(il(n)===r||r!==Kt&&Rw(e,t,n))&&("**"===n.path||OD(e,n,t).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,s,o):um(i):um(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?tF(s):this.applyRedirects.lineralizeSegments(r,s).pipe(pn(o=>{const a=new Hn(o,{});return this.processSegment(e,t,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:d,positionalParamSegments:p}=OD(t,i,s);if(!a)return um(t);const y=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,p);return i.redirectTo.startsWith("/")?tF(y):this.applyRedirects.lineralizeSegments(i,y).pipe(pn(I=>this.processSegment(e,r,t,I.concat(d),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s,o){let a;if("**"===r.path){const u=i.length>0?I2(i).parameters:{};a=V({snapshot:new Cw(i,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,iF(r),il(r),r.component??r._loadedComponent??null,r,sF(r)),consumedSegments:[],remainingSegments:[]}),t.children={}}else a=oK(t,r,i,e).pipe(Re(({matched:u,consumedSegments:d,remainingSegments:p,parameters:y})=>u?{snapshot:new Cw(d,y,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,iF(r),il(r),r.component??r._loadedComponent??null,r,sF(r)),consumedSegments:d,remainingSegments:p}:null));return a.pipe(je(u=>null===u?um(t):this.getChildConfig(e=r._injector??e,r,i).pipe(je(({routes:d})=>{const p=r._loadedInjector??e,{snapshot:y,consumedSegments:I,remainingSegments:w}=u,{segmentGroup:x,slicedSegments:M}=nF(t,I,w,d);if(0===M.length&&x.hasChildren())return this.processChildren(p,d,x).pipe(Re(G=>null===G?null:[new lc(y,G)]));if(0===d.length&&0===M.length)return V([new lc(y,[])]);const L=il(r)===s;return this.processSegment(p,d,x,M,L?Kt:s,!0).pipe(Re(G=>[new lc(y,G)]))}))))}getChildConfig(e,t,r){return t.children?V({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?V({routes:t._loadedRoutes,injector:t._loadedInjector}):function tK(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?V(!0):V(i.map(o=>{const a=am(o,n);return bd(function HW(n){return n&&yv(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(lm(),X2())}(e,t,r).pipe(pn(i=>i?this.configLoader.loadChildren(e,t).pipe(os(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function iK(n){return rv(K2(!1,3))}())):V({routes:[],injector:e})}}function mK(n){const e=n.value.routeConfig;return e&&""===e.path}function rF(n){const e=[],t=new Set;for(const r of n){if(!mK(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=rF(r.children);e.push(new lc(r.value,i))}return e.filter(r=>!t.has(r))}function iF(n){return n.data||{}}function sF(n){return n.resolve||{}}function oF(n){return"string"==typeof n.title||null===n.title}function ND(n){return je(e=>{const t=n(e);return t?A(t).pipe(Re(()=>e)):V(e)})}const cm=new xe("ROUTES");let kD=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=De(Bk)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return V(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=bd(t.loadComponent()).pipe(Re(aF),os(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),iv(()=>{this.componentLoaders.delete(t)})),i=new _2(r,()=>new ie).pipe(gD());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return V({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=function bK(n,e,t,r){return bd(n.loadChildren()).pipe(Re(aF),pn(i=>i instanceof QN||Array.isArray(i)?V(i):A(e.compileModuleAsync(i))),Re(i=>{r&&r(n);let s,o,a=!1;return Array.isArray(i)?(o=i,!0):(s=i.create(t).injector,o=s.get(cm,[],{optional:!0,self:!0}).flat()),{routes:o.map(PD),injector:s}}))}(r,this.compiler,t,this.onLoadEndListener).pipe(iv(()=>{this.childrenLoaders.delete(r)})),o=new _2(s,()=>new ie).pipe(gD());return this.childrenLoaders.set(r,o),o}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function aF(n){return function TK(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Pw=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ie,this.transitionAbortSubject=new ie,this.configLoader=De(kD),this.environmentInjector=De(ws),this.urlSerializer=De(av),this.rootContexts=De(fv),this.inputBindingEnabled=null!==De(Sw,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>V(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new mW(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new gW(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t,r,i){return this.transitions=new T({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:t.urlHandlingStrategy.extract(r),urlAfterRedirects:t.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:dv,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Fa(s=>0!==s.id),Re(s=>({...s,extractedUrl:t.urlHandlingStrategy.extract(s.rawUrl)})),je(s=>{this.currentTransition=s;let o=!1,a=!1;return V(s).pipe(os(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),je(u=>{const d=u.currentBrowserUrl.toString(),p=!t.navigated||u.extractedUrl.toString()!==d||d!==u.currentUrlTree.toString();if(!p&&"reload"!==(u.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const I="";return this.events.next(new im(u.id,this.urlSerializer.serialize(u.rawUrl),I,0)),u.resolve(null),Jn}if(t.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return V(u).pipe(je(I=>{const w=this.transitions?.getValue();return this.events.next(new bw(I.id,this.urlSerializer.serialize(I.extractedUrl),I.source,I.restoredState)),w!==this.transitions?.getValue()?Jn:Promise.resolve(I)}),function _K(n,e,t,r,i,s){return pn(o=>function fK(n,e,t,r,i,s,o="emptyOnly"){return new pK(n,e,t,r,i,o,s).recognize()}(n,e,t,r,o.extractedUrl,i,s).pipe(Re(({state:a,tree:u})=>({...o,targetSnapshot:a,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),os(I=>{s.targetSnapshot=I.targetSnapshot,s.urlAfterRedirects=I.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:I.urlAfterRedirects};const w=new V2(I.id,this.urlSerializer.serialize(I.extractedUrl),this.urlSerializer.serialize(I.urlAfterRedirects),I.targetSnapshot);this.events.next(w)}));if(p&&t.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){const{id:I,extractedUrl:w,source:x,restoredState:M,extras:L}=u,G=new bw(I,this.urlSerializer.serialize(w),x,M);this.events.next(G);const $=$2(0,this.rootComponentType).snapshot;return this.currentTransition=s={...u,targetSnapshot:$,urlAfterRedirects:w,extras:{...L,skipLocationChange:!1,replaceUrl:!1}},V(s)}{const I="";return this.events.next(new im(u.id,this.urlSerializer.serialize(u.extractedUrl),I,1)),u.resolve(null),Jn}}),os(u=>{const d=new dW(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),Re(u=>(this.currentTransition=s={...u,guards:LW(u.targetSnapshot,u.currentSnapshot,this.rootContexts)},s)),function WW(n,e){return pn(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?V({...t,guardsResult:!0}):function KW(n,e,t,r){return A(n).pipe(pn(i=>function eK(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?V(s.map(a=>{const u=gv(e)??i,d=am(a,u);return bd(function zW(n){return n&&yv(n.canDeactivate)}(d)?d.canDeactivate(n,e,t,r):u.runInContext(()=>d(n,e,t,r))).pipe(wd())})).pipe(lm()):V(!0)}(i.component,i.route,t,e,r)),wd(i=>!0!==i,!0))}(o,r,i,n).pipe(pn(a=>a&&function BW(n){return"boolean"==typeof n}(a)?function ZW(n,e,t,r){return A(e).pipe(tm(i=>pD(function YW(n,e){return null!==n&&e&&e(new _W(n)),V(!0)}(i.route.parent,r),function QW(n,e){return null!==n&&e&&e(new vW(n)),V(!0)}(i.route,r),function XW(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function FW(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>m2(()=>V(o.guards.map(u=>{const d=gv(o.node)??t,p=am(u,d);return bd(function jW(n){return n&&yv(n.canActivateChild)}(p)?p.canActivateChild(r,n):d.runInContext(()=>p(r,n))).pipe(wd())})).pipe(lm())));return V(s).pipe(lm())}(n,i.path,t),function JW(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return V(!0);const i=r.map(s=>m2(()=>{const o=gv(e)??t,a=am(s,o);return bd(function $W(n){return n&&yv(n.canActivate)}(a)?a.canActivate(e,n):o.runInContext(()=>a(e,n))).pipe(wd())}));return V(i).pipe(lm())}(n,i.route,t))),wd(i=>!0!==i,!0))}(r,s,n,e):V(a)),Re(a=>({...t,guardsResult:a})))})}(this.environmentInjector,u=>this.events.next(u)),os(u=>{if(s.guardsResult=u.guardsResult,xf(u.guardsResult))throw W2(0,u.guardsResult);const d=new hW(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(d)}),Fa(u=>!!u.guardsResult||(this.cancelNavigationTransition(u,"",3),!1)),ND(u=>{if(u.guards.canActivateChecks.length)return V(u).pipe(os(d=>{const p=new fW(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}),je(d=>{let p=!1;return V(d).pipe(function yK(n,e){return pn(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return V(t);let s=0;return A(i).pipe(tm(o=>function vK(n,e,t,r){const i=n.routeConfig,s=n._resolve;return void 0!==i?.title&&!oF(i)&&(s[sv]=i.title),function IK(n,e,t,r){const i=function EK(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return V({});const s={};return A(i).pipe(pn(o=>function wK(n,e,t,r){const i=gv(e)??r,s=am(n,i);return bd(s.resolve?s.resolve(e,t):i.runInContext(()=>s(e,t)))}(n[o],e,t,r).pipe(wd(),os(a=>{s[o]=a}))),mD(1),function kG(n){return Re(()=>n)}(s),Af(o=>J2(o)?Jn:rv(o)))}(s,n,e,r).pipe(Re(o=>(n._resolvedData=o,n.data=j2(n,t).resolve,i&&oF(i)&&(n.data[sv]=i.title),null)))}(o.route,r,n,e)),os(()=>s++),mD(1),pn(o=>s===i.length?V(t):Jn))})}(t.paramsInheritanceStrategy,this.environmentInjector),os({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(d,"",2)}}))}),os(d=>{const p=new pW(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}))}),ND(u=>{const d=p=>{const y=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&y.push(this.configLoader.loadComponent(p.routeConfig).pipe(os(I=>{p.component=I}),Re(()=>{})));for(const I of p.children)y.push(...d(I));return y};return fD(d(u.targetSnapshot.root)).pipe(gw(),em(1))}),ND(()=>this.afterPreactivation()),Re(u=>{const d=function CW(n,e,t){const r=pv(n,e._root,t?t._root:void 0);return new H2(r,e)}(t.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s={...u,targetRouterState:d},s}),os(()=>{this.events.next(new wD)}),((n,e,t,r)=>Re(i=>(new kW(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),em(1),os({next:u=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Td(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),t.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{o=!0}}),function LG(n){return le((e,t)=>{Gt(n).subscribe(Ae(t,()=>t.complete(),We)),!t.closed&&e.subscribe(t)})}(this.transitionAbortSubject.pipe(os(u=>{throw u}))),iv(()=>{o||a||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),Af(u=>{if(a=!0,Z2(u))this.events.next(new hv(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),function DW(n){return Z2(n)&&xf(n.url)}(u)?this.events.next(new bD(u.url)):s.resolve(!1);else{this.events.next(new Tw(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0));try{s.resolve(t.errorHandler(u))}catch(d){s.reject(d)}}return Jn}))}))}cancelNavigationTransition(t,r,i){const s=new hv(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function lF(n){return n!==dv}let uF=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===Kt);return r}getResolvedTitleForRoute(t){return t.data[sv]}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=He({token:n,factory:function(){return De(CK)},providedIn:"root"})}return n})(),CK=(()=>{class n extends uF{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||n)(Ie(l2))};static#t=this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),SK=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=He({token:n,factory:function(){return De(DK)},providedIn:"root"})}return n})();class AK{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let DK=(()=>{class n extends AK{static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=Le(n)))(i||n)}}();static#t=this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Mw=new xe("",{providedIn:"root",factory:()=>({})});let xK=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=He({token:n,factory:function(){return De(RK)},providedIn:"root"})}return n})(),RK=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var vv=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(vv||{});function cF(n,e){n.events.pipe(Fa(t=>t instanceof Td||t instanceof hv||t instanceof Tw||t instanceof im),Re(t=>t instanceof Td||t instanceof im?vv.COMPLETE:t instanceof hv&&(0===t.code||1===t.code)?vv.REDIRECTING:vv.FAILED),Fa(t=>t!==vv.REDIRECTING),em(1)).subscribe(()=>{e()})}function PK(n){throw n}function MK(n,e,t){return e.parse("/")}const OK={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},NK={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Cs=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=De(Uk),this.isNgZoneEnabled=!1,this._events=new ie,this.options=De(Mw,{optional:!0})||{},this.pendingTasks=De(j0),this.errorHandler=this.options.errorHandler||PK,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||MK,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=De(xK),this.routeReuseStrategy=De(SK),this.titleStrategy=De(uF),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=De(cm,{optional:!0})?.flat()??[],this.navigationTransitions=De(Pw),this.urlSerializer=De(av),this.location=De(UA),this.componentInputBindingEnabled=!!De(Sw,{optional:!0}),this.eventsSubscription=new un,this.isNgZoneEnabled=De(ut)instanceof ut&&ut.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new rm,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=$2(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(dF(r)&&this._events.next(r));if(r instanceof bw)lF(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof im)this.rawUrlTree=i.rawUrl;else if(r instanceof V2){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(s,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof wD)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof hv)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof bD){const s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),o={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||lF(i.source)};this.scheduleNavigation(s,dv,null,o,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof Tw&&this.restoreHistory(i,!0),r instanceof Td&&(this.navigated=!0),dF(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),dv,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(PD),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,d=u?this.currentUrlTree.fragment:o;let y,p=null;switch(a){case"merge":p={...this.currentUrlTree.queryParams,...s};break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=s||null}null!==p&&(p=this.removeEmptyProps(p));try{y=P2(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),y=this.currentUrlTree.root}return M2(y,t,p,d??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=xf(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,dv,null,r)}navigate(t,r={skipLocationChange:!1}){return function kK(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new W(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...OK}:!1===r?{...NK}:r,xf(t))return w2(this.currentUrlTree,t,i);const s=this.parseUrl(t);return w2(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,d;o?(a=o.resolve,u=o.reject,d=o.promise):d=new Promise((y,I)=>{a=y,u=I});const p=this.pendingTasks.add();return cF(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:s,resolve:a,reject:u,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(y=>Promise.reject(y))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",s)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function dF(n){return!(n instanceof wD||n instanceof bD)}class hF{}let VK=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Fa(t=>t instanceof Td),tm(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=oA(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return A(i).pipe(yi())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):V(null);const s=i.pipe(pn(o=>null===o?V(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return r.loadComponent&&!r._loadedComponent?A([s,this.loader.loadComponent(r)]).pipe(yi()):s})}static#e=this.\u0275fac=function(r){return new(r||n)(Ie(Cs),Ie(Bk),Ie(ws),Ie(hF),Ie(kD))};static#t=this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const FD=new xe("");let fF=(()=>{class n{constructor(t,r,i,s,o={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof bw?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Td?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof im&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof U2&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new U2(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function VM(){throw new Error("invalid")}()};static#t=this.\u0275prov=He({token:n,factory:n.\u0275fac})}return n})();function uc(n,e){return{\u0275kind:n,\u0275providers:e}}function gF(){const n=De(z);return e=>{const t=n.get(wf);if(e!==t.components[0])return;const r=n.get(Cs),i=n.get(mF);1===n.get(VD)&&r.initialNavigation(),n.get(_F,null,Ht.Optional)?.setUpPreloading(),n.get(FD,null,Ht.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const mF=new xe("",{factory:()=>new ie}),VD=new xe("",{providedIn:"root",factory:()=>1}),_F=new xe("");function $K(n){return uc(0,[{provide:_F,useExisting:VK},{provide:hF,useExisting:n}])}const yF=new xe("ROUTER_FORROOT_GUARD"),zK=[UA,{provide:av,useClass:_D},Cs,fv,{provide:om,useFactory:function pF(n){return n.routerState.root},deps:[Cs]},kD,[]];function qK(){return new Wk("Router",Cs)}let Ow=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[zK,[],{provide:cm,multi:!0,useValue:t},{provide:yF,useFactory:ZK,deps:[[Cs,new Kh,new eg]]},{provide:Mw,useValue:r||{}},r?.useHash?{provide:Cf,useClass:sz}:{provide:Cf,useClass:TL},{provide:FD,useFactory:()=>{const n=De(bq),e=De(ut),t=De(Mw),r=De(Pw),i=De(av);return t.scrollOffset&&n.setOffset(t.scrollOffset),new fF(i,r,n,e,t)}},r?.preloadingStrategy?$K(r.preloadingStrategy).\u0275providers:[],{provide:Wk,multi:!0,useFactory:qK},r?.initialNavigation?QK(r):[],r?.bindToComponentInputs?uc(8,[G2,{provide:Sw,useExisting:G2}]).\u0275providers:[],[{provide:vF,useFactory:gF},{provide:xA,multi:!0,useExisting:vF}]]}}static forChild(t){return{ngModule:n,providers:[{provide:cm,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(r){return new(r||n)(Ie(yF,8))};static#t=this.\u0275mod=Pn({type:n});static#n=this.\u0275inj=Rn({})}return n})();function ZK(n){return"guarded"}function QK(n){return["disabled"===n.initialNavigation?uc(3,[{provide:EA,multi:!0,useFactory:()=>{const e=De(Cs);return()=>{e.setUpLocationChangeListener()}}},{provide:VD,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?uc(2,[{provide:VD,useValue:0},{provide:EA,multi:!0,deps:[z],useFactory:e=>{const t=e.get(rz,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(Cs),s=e.get(mF);cF(i,()=>{r(!0)}),e.get(Pw).afterPreactivation=()=>(r(!0),s.closed?V(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const vF=new xe("");var IF=ot(562),rr=ot(58),dm=ot(534),tu=ot(879),EF=ot(537);ot(365),(0,dm.registerVersion)("firebase","10.6.0","app");class eZ extends un{constructor(e,t){super()}schedule(e,t=0){return this}}const Nw={setInterval(n,e,...t){const{delegate:r}=Nw;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Nw;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class wF extends eZ{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return Nw.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&Nw.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Ge(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const UD={now:()=>(UD.delegate||Date).now(),delegate:void 0};class Iv{constructor(e,t=Iv.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}Iv.now=UD.now;class bF extends Iv{constructor(e,t=Iv.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const rZ=new class nZ extends bF{}(class tZ extends wF{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),TF=new bF(wF),BD=new _d("ANGULARFIRE2_VERSION");class CF{constructor(){return((n,e)=>{const t=(0,dm.getApps)(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r})(sZ)}}const sZ="app-check";function hm(){}class SF{zone;delegate;constructor(e,t=rZ){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},t,r)}}class oZ{zone;task=null;constructor(e){this.zone=e}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",hm,{},hm,hm)),t.pipe(os({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let AF=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new SF(Zone.current)),this.insideAngular=t.run(()=>new SF(Zone.current,TF)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(Ie(ut))};static \u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Xo(n){return function lZ(n){return function(t){return(t=t.lift(new oZ(n.ngZone))).pipe(ai(n.outsideAngular),Vr(n.insideAngular))}}(function fm(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}())(n)}var Cd=ot(106);Cd.Z.registerVersion("firebase","10.6.0","app-compat");const hZ=["ngOnDestroy"];class DF{constructor(e){return e}}const kw=new xe("angularfire2.app.options"),Lw=new xe("angularfire2.app.name");function HD(n,e,t){const i="object"==typeof t&&t||{};i.name=i.name||"string"==typeof t&&t||"[DEFAULT]";const o=Cd.Z.apps.filter(a=>a&&a.name===i.name)[0]||e.runOutsideAngular(()=>Cd.Z.initializeApp(n,i));try{if(JSON.stringify(n)!==JSON.stringify(o.options)){const a=!!module.hot;gZ("error",`${o.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new DF(o)}const gZ=(n,...e)=>{},mZ={provide:DF,useFactory:HD,deps:[kw,ut,[new Kh,Lw]]};let _Z=(()=>{class n{static initializeApp(t,r){return{ngModule:n,providers:[{provide:kw,useValue:t},{provide:Lw,useValue:r}]}}constructor(t){Cd.Z.registerVersion("angularfire",BD.full,"core"),Cd.Z.registerVersion("angularfire",BD.full,"app-compat"),Cd.Z.registerVersion("angular",m0.full,t.toString())}static \u0275fac=function(r){return new(r||n)(Ie(vo))};static \u0275mod=Pn({type:n});static \u0275inj=Rn({providers:[mZ]})}return n})();function xF(n,e,t,r,i){const[,s,o]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===n)||[];if(s)return function yZ(n,e){try{return n.toString()===e.toString()}catch{return n===e}}(i,o)||(RF("error",`${e} was already initialized on the ${t} Firebase App with different settings.${vZ?" You may need to reload as Firebase is not HMR aware.":""}`),RF("warn",{is:i,was:o})),s;{const a=r();return globalThis.\u0275AngularfireInstanceCache.push([n,a,i]),a}}const vZ=typeof module<"u"&&!!module.hot,RF=(n,...e)=>{};globalThis.\u0275AngularfireInstanceCache||=[];class IZ extends ie{constructor(e=1/0,t=1/0,r=UD){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:o}=this;t||(r.push(e),!i&&r.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let o=0;o<s.length&&!e.closed;o+=r?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){const o=t.now();let a=0;for(let u=1;u<r.length&&r[u]<=o;u+=2)a=u;a&&r.splice(0,a+1)}}}function PF(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,se({connector:()=>new IZ(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function MF(n,e){return O(e)?je(()=>n,e):je(()=>n)}const OF=new xe("angularfire2.auth.use-emulator"),NF=new xe("angularfire2.auth.settings"),kF=new xe("angularfire2.auth.tenant-id"),LF=new xe("angularfire2.auth.langugage-code"),FF=new xe("angularfire2.auth.use-device-language"),VF=new xe("angularfire.auth.persistence"),UF=(n,e,t,r,i,s,o,a)=>xF(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const u=e.runOutsideAngular(()=>n.auth());if(t&&u.useEmulator(...t),r&&(u.tenantId=r),u.languageCode=i,s&&u.useDeviceLanguage(),o)for(const[d,p]of Object.entries(o))u.settings[d]=p;return a&&u.setPersistence(a),u},[t,r,i,s,o,a]);let Fw=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(t,r,i,s,o,a,u,d,p,y,I,w){const x=new ie,M=V(void 0).pipe(Vr(o.outsideAngular),je(()=>s.runOutsideAngular(()=>Promise.resolve().then(ot.bind(ot,365)))),Re(()=>HD(t,s,r)),Re(L=>UF(L,s,a,d,p,y,u,I)),PF({bufferSize:1,refCount:!1}));if(uw(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=V(null);else{M.pipe(wd()).subscribe();const L=M.pipe(je(J=>J.getRedirectResult().then(ue=>ue,()=>null)),Xo,PF({bufferSize:1,refCount:!1})),G=M.pipe(je(J=>new bt(ue=>({unsubscribe:s.runOutsideAngular(()=>J.onAuthStateChanged(Ce=>ue.next(Ce),Ce=>ue.error(Ce),()=>ue.complete()))})))),$=M.pipe(je(J=>new bt(ue=>({unsubscribe:s.runOutsideAngular(()=>J.onIdTokenChanged(Ce=>ue.next(Ce),Ce=>ue.error(Ce),()=>ue.complete()))}))));this.authState=L.pipe(MF(G),ai(o.outsideAngular),Vr(o.insideAngular)),this.user=L.pipe(MF($),ai(o.outsideAngular),Vr(o.insideAngular)),this.idToken=this.user.pipe(je(J=>J?A(J.getIdToken()):V(null))),this.idTokenResult=this.user.pipe(je(J=>J?A(J.getIdTokenResult()):V(null))),this.credential=R(L,x,this.authState.pipe(Fa(J=>!J))).pipe(Re(J=>J?.user?J:null),ai(o.outsideAngular),Vr(o.insideAngular))}return((n,e,t,r={})=>new Proxy(n,{get:(i,s)=>t.runOutsideAngular(()=>{if(n[s])return r?.spy?.get&&r.spy.get(s,n[s]),n[s];if(hZ.indexOf(s)>-1)return()=>{};const o=e.toPromise().then(a=>{const u=a?.[s];return"function"==typeof u?u.bind(a):u?.then?u.then(d=>t.run(()=>d)):t.run(()=>u)});return new Proxy(()=>{},{get:(a,u)=>o[u],apply:(a,u,d)=>o.then(p=>{const y=p?.(...d);return r?.spy?.apply&&r.spy.apply(s,d,y),y})})})}))(this,M,s,{spy:{apply:(L,G,$)=>{(L.startsWith("signIn")||L.startsWith("createUser"))&&$.then(J=>x.next(J))}}})}static \u0275fac=function(r){return new(r||n)(Ie(kw),Ie(Lw,8),Ie(vo),Ie(ut),Ie(AF),Ie(OF,8),Ie(NF,8),Ie(kF,8),Ie(LF,8),Ie(FF,8),Ie(VF,8),Ie(CF,8))};static \u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),wZ=(()=>{class n{constructor(){Cd.Z.registerVersion("angularfire",BD.full,"auth-compat")}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Pn({type:n});static \u0275inj=Rn({providers:[Fw]})}return n})();function $D(){return le((n,e)=>{let t,r=!1;n.subscribe(Ae(e,i=>{const s=t;t=i,r&&e.next([s,i]),r=!0}))})}var Fe,ce=ot(861),bZ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},sl={},jD=jD||{},Lt=bZ||self;function Vw(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Ev(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var zD="closure_uid_"+(1e9*Math.random()>>>0),CZ=0;function SZ(n,e,t){return n.call.apply(n.bind,arguments)}function AZ(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Ss(n,e,t){return(Ss=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?SZ:AZ).apply(null,arguments)}function Uw(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function qi(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Sd(){this.s=this.s,this.o=this.o}Sd.prototype.s=!1,Sd.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function TZ(n){Object.prototype.hasOwnProperty.call(n,zD)&&n[zD]||(n[zD]=++CZ)}(this)},Sd.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const BF=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function qD(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function HF(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Vw(r)){const i=n.length||0,s=r.length||0;n.length=i+s;for(let o=0;o<s;o++)n[i+o]=r[o]}else n.push(r)}}function As(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}As.prototype.h=function(){this.defaultPrevented=!0};var xZ=function(){if(!Lt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Lt.addEventListener("test",()=>{},e),Lt.removeEventListener("test",()=>{},e)}catch{}return n}();function wv(n){return/^[\s\xa0]*$/.test(n)}function Bw(){var n=Lt.navigator;return n&&(n=n.userAgent)?n:""}function nu(n){return-1!=Bw().indexOf(n)}function GD(n){return GD[" "](n),n}GD[" "]=function(){};var KD,n,PZ=nu("Opera"),pm=nu("Trident")||nu("MSIE"),$F=nu("Edge"),WD=$F||pm,jF=nu("Gecko")&&!(-1!=Bw().toLowerCase().indexOf("webkit")&&!nu("Edge"))&&!(nu("Trident")||nu("MSIE"))&&!nu("Edge"),MZ=-1!=Bw().toLowerCase().indexOf("webkit")&&!nu("Edge");function zF(){var n=Lt.document;return n?n.documentMode:void 0}e:{var ZD="",QD=(n=Bw(),jF?/rv:([^\);]+)(\)|;)/.exec(n):$F?/Edge\/([\d\.]+)/.exec(n):pm?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):MZ?/WebKit\/(\S+)/.exec(n):PZ?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(QD&&(ZD=QD?QD[1]:""),pm){var YD=zF();if(null!=YD&&YD>parseFloat(ZD)){KD=String(YD);break e}}KD=ZD}var OZ=Lt.document&&pm&&(zF()||parseInt(KD,10))||void 0;function bv(n,e){if(As.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(jF){e:{try{GD(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:NZ[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&bv.$.h.call(this)}}qi(bv,As);var NZ={2:"touch",3:"pen",4:"mouse"};bv.prototype.h=function(){bv.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Tv="closure_listenable_"+(1e6*Math.random()|0),kZ=0;function LZ(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++kZ,this.fa=this.ia=!1}function Hw(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function XD(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function GF(n){const e={};for(const t in n)e[t]=n[t];return e}const WF="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function KF(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<WF.length;s++)t=WF[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function $w(n){this.src=n,this.g={},this.h=0}function e1(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=BF(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Hw(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function t1(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.fa&&s.listener==e&&s.capture==!!t&&s.la==r)return i}return-1}$w.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=t1(n,e,r,i);return-1<o?(e=n[o],t||(e.ia=!1)):((e=new LZ(e,this.src,s,!!r,i)).ia=t,n.push(e)),e};var n1="closure_lm_"+(1e6*Math.random()|0),r1={};function ZF(n,e,t,r,i){if(r&&r.once)return YF(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)ZF(n,e[s],t,r,i);return null}return t=l1(t),n&&n[Tv]?n.O(e,t,Ev(r)?!!r.capture:!!r,i):QF(n,e,t,!1,r,i)}function QF(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var o=Ev(i)?!!i.capture:!!i,a=o1(n);if(a||(n[n1]=a=new $w(n)),(t=a.add(e,t,r,o,s)).proxy)return t;if(r=function VZ(){const e=UZ;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)xZ||(i=o),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(XF(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function YF(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)YF(n,e[s],t,r,i);return null}return t=l1(t),n&&n[Tv]?n.P(e,t,Ev(r)?!!r.capture:!!r,i):QF(n,e,t,!0,r,i)}function JF(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)JF(n,e[s],t,r,i);else r=Ev(r)?!!r.capture:!!r,t=l1(t),n&&n[Tv]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=t1(s=n.g[e],t,r,i))&&(Hw(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=o1(n))&&(e=n.g[e.toString()],n=-1,e&&(n=t1(e,t,r,i)),(t=-1<n?e[n]:null)&&s1(t))}function s1(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Tv])e1(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(XF(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=o1(e))?(e1(t,n),0==t.h&&(t.src=null,e[n1]=null)):Hw(n)}}}function XF(n){return n in r1?r1[n]:r1[n]="on"+n}function UZ(n,e){if(n.fa)n=!0;else{e=new bv(e,this);var t=n.listener,r=n.la||n.src;n.ia&&s1(n),n=t.call(r,e)}return n}function o1(n){return(n=n[n1])instanceof $w?n:null}var a1="__closure_events_fn_"+(1e9*Math.random()>>>0);function l1(n){return"function"==typeof n?n:(n[a1]||(n[a1]=function(e){return n.handleEvent(e)}),n[a1])}function Gi(){Sd.call(this),this.i=new $w(this),this.S=this,this.J=null}function as(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new As(e,n);else if(e instanceof As)e.target=e.target||n;else{var i=e;KF(e=new As(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];i=jw(o,r,!0,e)&&i}if(i=jw(o=e.g=n,r,!0,e)&&i,i=jw(o,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=jw(o=e.g=t[s],r,!1,e)&&i}function jw(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==t){var a=o.listener,u=o.la||o.src;o.ia&&e1(n.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}qi(Gi,Sd),Gi.prototype[Tv]=!0,Gi.prototype.removeEventListener=function(n,e,t,r){JF(this,n,e,t,r)},Gi.prototype.N=function(){if(Gi.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Hw(t[r]);delete n.g[e],n.h--}}this.J=null},Gi.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Gi.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var u1=Lt.JSON.stringify;function HZ(){var n=c1;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var eV=new class BZ{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new jZ,n=>n.reset());class jZ{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function zZ(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function qZ(n){Lt.setTimeout(()=>{throw n},0)}let Cv,Sv=!1,c1=new class $Z{constructor(){this.h=this.g=null}add(e,t){const r=eV.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},tV=()=>{const n=Lt.Promise.resolve(void 0);Cv=()=>{n.then(GZ)}};var GZ=()=>{for(var n;n=HZ();){try{n.h.call(n.g)}catch(t){qZ(t)}var e=eV;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Sv=!1};function zw(n,e){Gi.call(this),this.h=n||1,this.g=e||Lt,this.j=Ss(this.qb,this),this.l=Date.now()}function d1(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function h1(n,e,t){if("function"==typeof n)t&&(n=Ss(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Ss(n.handleEvent,n)}return 2147483647<Number(e)?-1:Lt.setTimeout(n,e||0)}function nV(n){n.g=h1(()=>{n.g=null,n.i&&(n.i=!1,nV(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}qi(zw,Gi),(Fe=zw.prototype).ga=!1,Fe.T=null,Fe.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),as(this,"tick"),this.ga&&(d1(this),this.start()))}},Fe.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Fe.N=function(){zw.$.N.call(this),d1(this),delete this.g};class WZ extends Sd{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:nV(this)}N(){super.N(),this.g&&(Lt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Av(n){Sd.call(this),this.h=n,this.g={}}qi(Av,Sd);var rV=[];function iV(n,e,t,r){Array.isArray(t)||(t&&(rV[0]=t.toString()),t=rV);for(var i=0;i<t.length;i++){var s=ZF(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function sV(n){XD(n.g,function(e,t){this.g.hasOwnProperty(t)&&s1(e)},n),n.g={}}function qw(){this.g=!0}function gm(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function YZ(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return u1(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Av.prototype.N=function(){Av.$.N.call(this),sV(this)},Av.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},qw.prototype.Ea=function(){this.g=!1},qw.prototype.info=function(){};var Pf={},oV=null;function Gw(){return oV=oV||new Gi}function aV(n){As.call(this,Pf.Ta,n)}function Dv(n){const e=Gw();as(e,new aV(e))}function lV(n,e){As.call(this,Pf.STAT_EVENT,n),this.stat=e}function Js(n){const e=Gw();as(e,new lV(e,n))}function uV(n,e){As.call(this,Pf.Ua,n),this.size=e}function xv(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Lt.setTimeout(function(){n()},e)}Pf.Ta="serverreachability",qi(aV,As),Pf.STAT_EVENT="statevent",qi(lV,As),Pf.Ua="timingevent",qi(uV,As);var Ww={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},cV={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function f1(){}function hV(){}f1.prototype.h=null;var m1,Rv={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function p1(){As.call(this,"d")}function g1(){As.call(this,"c")}function Kw(){}function Pv(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new Av(this),this.P=JZ,this.V=new zw(n=WD?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new fV}function fV(){this.i=null,this.g="",this.h=!1}qi(p1,As),qi(g1,As),qi(Kw,f1),Kw.prototype.g=function(){return new XMLHttpRequest},Kw.prototype.i=function(){return{}},m1=new Kw;var JZ=45e3,_1={},Zw={};function y1(n,e,t){n.L=1,n.v=Xw(cc(e)),n.s=t,n.S=!0,pV(n,null)}function pV(n,e){n.G=Date.now(),Mv(n),n.A=cc(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),TV(t.i,"t",r),n.C=0,t=n.l.J,n.h=new fV,n.g=KV(n.l,t?e:null,!n.s),0<n.O&&(n.M=new WZ(Ss(n.Pa,n,n.g),n.O)),iV(n.U,n.g,"readystatechange",n.nb),e=n.I?GF(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Dv(),function KZ(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var d=a[u].split("=");if(1<d.length){var p=d[0];d=d[1];var y=p.split("_");o=2<=y.length&&"type"==y[1]?o+(p+"=")+d+"&":o+(p+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.u,n.A,n.m,n.W,n.s)}function gV(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function mV(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=XZ(n,t),i==Zw){4==e&&(n.o=4,Js(14),r=!1),gm(n.j,n.m,null,"[Incomplete Response]");break}if(i==_1){n.o=4,Js(15),gm(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}gm(n.j,n.m,i,null),v1(n,i)}gV(n)&&i!=Zw&&i!=_1&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Js(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),S1(e),e.M=!0,Js(11))):(gm(n.j,n.m,t,"[Invalid Chunked Response]"),Mf(n),Ov(n))}function XZ(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Zw:(t=Number(e.substring(t,r)),isNaN(t)?_1:(r+=1)+t>e.length?Zw:(e=e.slice(r,r+t),n.C=r+t,e))}function Mv(n){n.Y=Date.now()+n.P,_V(n,n.P)}function _V(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=xv(Ss(n.lb,n),e)}function Qw(n){n.B&&(Lt.clearTimeout(n.B),n.B=null)}function Ov(n){0==n.l.H||n.J||zV(n.l,n)}function Mf(n){Qw(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,d1(n.V),sV(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function v1(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||I1(t.i,n)))if(!n.K&&I1(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;sb(t),rb(t)}C1(t),Js(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=xv(Ss(t.ib,t),6e3));if(1>=AV(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Nf(t,11)}else if((n.K||t.g==n)&&sb(t),!wv(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let d=i[e];if(t.V=d[0],d=d[1],2==t.H)if("c"==d[0]){t.K=d[1],t.pa=d[2];const p=d[3];null!=p&&(t.ra=p,t.l.info("VER="+t.ra));const y=d[4];null!=y&&(t.Ga=y,t.l.info("SVER="+t.Ga));const I=d[5];null!=I&&"number"==typeof I&&0<I&&(t.L=r=1.5*I,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const w=n.g;if(w){const x=w.g?w.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(x){var s=r.i;s.g||-1==x.indexOf("spdy")&&-1==x.indexOf("quic")&&-1==x.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(E1(s,s.h),s.h=null))}if(r.F){const M=w.g?w.g.getResponseHeader("X-HTTP-Session-Id"):null;M&&(r.Da=M,br(r.I,r.F,M))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var o=n;if((r=t).wa=WV(r,r.J?r.pa:null,r.Y),o.K){DV(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.B&&(Qw(a),Mv(a)),r.g=o}else $V(r);0<t.j.length&&ib(t)}else"stop"!=d[0]&&"close"!=d[0]||Nf(t,7);else 3==t.H&&("stop"==d[0]||"close"==d[0]?"stop"==d[0]?Nf(t,7):T1(t):"noop"!=d[0]&&t.h&&t.h.Aa(d),t.A=0)}Dv()}catch{}}function yV(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Vw(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function tQ(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Vw(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function eQ(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Vw(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}(Fe=Pv.prototype).setTimeout=function(n){this.P=n},Fe.nb=function(n){n=n.target;const e=this.M;e&&3==ru(n)?e.l():this.Pa(n)},Fe.Pa=function(n){try{if(n==this.g)e:{const p=ru(this.g);var e=this.g.Ia();if(this.g.da(),!(3>p)&&(3!=p||WD||this.g&&(this.h.h||this.g.ja()||LV(this.g)))){this.J||4!=p||7==e||Dv(),Qw(this);var t=this.g.da();this.ca=t;t:if(gV(this)){var r=LV(this.g);n="";var i=r.length,s=4==ru(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Mf(this),Ov(this);var o="";break t}this.h.i=new Lt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==t,function ZZ(n,e,t,r,i,s,o){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,p,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!wv(a)){var d=a;break t}}d=null}if(!(t=d)){this.i=!1,this.o=3,Js(12),Mf(this),Ov(this);break e}gm(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,v1(this,t)}this.S?(mV(this,p,o),WD&&this.i&&3==p&&(iV(this.U,this.V,"tick",this.mb),this.V.start())):(gm(this.j,this.m,o,null),v1(this,o)),4==p&&Mf(this),this.i&&!this.J&&(4==p?zV(this.l,this):(this.i=!1,Mv(this)))}else(function vQ(n){const e={};n=(n.g&&2<=ru(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(wv(n[r]))continue;var t=zZ(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const s=e[i]||[];e[i]=s,s.push(t)}!function FZ(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<o.indexOf("Unknown SID")?(this.o=3,Js(12)):(this.o=0,Js(13)),Mf(this),Ov(this)}}}catch{}},Fe.mb=function(){if(this.g){var n=ru(this.g),e=this.g.ja();this.C<e.length&&(Qw(this),mV(this,n,e),this.i&&4!=n&&Mv(this))}},Fe.cancel=function(){this.J=!0,Mf(this)},Fe.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function QZ(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Dv(),Js(17)),Mf(this),this.o=2,Ov(this)):_V(this,this.Y-n)};var vV=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Of(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Of){this.h=n.h,Yw(this,n.j),this.s=n.s,this.g=n.g,Jw(this,n.m),this.l=n.l;var e=n.i,t=new Lv;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),IV(this,t),this.o=n.o}else n&&(e=String(n).match(vV))?(this.h=!1,Yw(this,e[1]||"",!0),this.s=Nv(e[2]||""),this.g=Nv(e[3]||"",!0),Jw(this,e[4]),this.l=Nv(e[5]||"",!0),IV(this,e[6]||"",!0),this.o=Nv(e[7]||"")):(this.h=!1,this.i=new Lv(null,this.h))}function cc(n){return new Of(n)}function Yw(n,e,t){n.j=t?Nv(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Jw(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function IV(n,e,t){e instanceof Lv?(n.i=e,function lQ(n,e){e&&!n.j&&(Ad(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(wV(this,r),TV(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=kv(e,oQ)),n.i=new Lv(e,n.h))}function br(n,e,t){n.i.set(e,t)}function Xw(n){return br(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Nv(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function kv(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,rQ),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function rQ(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Of.prototype.toString=function(){var n=[],e=this.j;e&&n.push(kv(e,EV,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(kv(e,EV,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(kv(t,"/"==t.charAt(0)?sQ:iQ,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",kv(t,aQ)),n.join("")};var EV=/[#\/\?@]/g,iQ=/[#\?:]/g,sQ=/[#\?]/g,oQ=/[#\?@]/g,aQ=/#/g;function Lv(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Ad(n){n.g||(n.g=new Map,n.h=0,n.i&&function nQ(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function wV(n,e){Ad(n),e=mm(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function bV(n,e){return Ad(n),e=mm(n,e),n.g.has(e)}function TV(n,e,t){wV(n,e),0<t.length&&(n.i=null,n.g.set(mm(n,e),qD(t)),n.h+=t.length)}function mm(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function CV(n){this.l=n||cQ,n=Lt.PerformanceNavigationTiming?0<(n=Lt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Lt.g&&Lt.g.Ka&&Lt.g.Ka()&&Lt.g.Ka().dc),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Fe=Lv.prototype).add=function(n,e){Ad(this),this.i=null,n=mm(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Fe.forEach=function(n,e){Ad(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},Fe.ta=function(){Ad(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let s=0;s<i.length;s++)t.push(e[r])}return t},Fe.Z=function(n){Ad(this);let e=[];if("string"==typeof n)bV(this,n)&&(e=e.concat(this.g.get(mm(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Fe.set=function(n,e){return Ad(this),this.i=null,bV(this,n=mm(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Fe.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},Fe.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),n.push(i)}}return this.i=n.join("&")};var cQ=10;function SV(n){return!!n.h||!!n.g&&n.g.size>=n.j}function AV(n){return n.h?1:n.g?n.g.size:0}function I1(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function E1(n,e){n.g?n.g.add(e):n.h=e}function DV(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function xV(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return qD(n.i)}CV.prototype.cancel=function(){if(this.i=xV(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var dQ=class{stringify(n){return Lt.JSON.stringify(n,void 0)}parse(n){return Lt.JSON.parse(n,void 0)}};function hQ(){this.g=new dQ}function fQ(n,e,t){const r=t||"";try{yV(n,function(i,s){let o=i;Ev(i)&&(o=u1(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function eb(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Fv(n){this.l=n.ec||null,this.j=n.ob||!1}function tb(n,e){Gi.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=w1,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}qi(Fv,f1),Fv.prototype.g=function(){return new tb(this.l,this.j)},Fv.prototype.i=function(n){return function(){return n}}({}),qi(tb,Gi);var w1=0;function RV(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Vv(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Uv(n)}function Uv(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Fe=tb.prototype).open=function(n,e){if(this.readyState!=w1)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Uv(this)},Fe.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Lt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Fe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Vv(this)),this.readyState=w1},Fe.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Uv(this)),this.g&&(this.readyState=3,Uv(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Lt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;RV(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},Fe.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Vv(this):Uv(this),3==this.readyState&&RV(this)}},Fe.Za=function(n){this.g&&(this.response=this.responseText=n,Vv(this))},Fe.Ya=function(n){this.g&&(this.response=n,Vv(this))},Fe.ka=function(){this.g&&Vv(this)},Fe.setRequestHeader=function(n,e){this.v.append(n,e)},Fe.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Fe.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(tb.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var gQ=Lt.JSON.parse;function Kr(n){Gi.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=PV,this.L=this.M=!1}qi(Kr,Gi);var PV="",mQ=/^https?$/i,_Q=["POST","PUT"];function MV(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,OV(n),nb(n)}function OV(n){n.F||(n.F=!0,as(n,"complete"),as(n,"error"))}function NV(n){if(n.h&&typeof jD<"u"&&(!n.C[1]||4!=ru(n)||2!=n.da()))if(n.v&&4==ru(n))h1(n.La,0,n);else if(as(n,"readystatechange"),4==ru(n)){n.h=!1;try{const o=n.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===o){var i=String(n.I).match(vV)[1]||null;!i&&Lt.self&&Lt.self.location&&(i=Lt.self.location.protocol.slice(0,-1)),r=!mQ.test(i?i.toLowerCase():"")}t=r}if(t)as(n,"complete"),as(n,"success");else{n.m=6;try{var s=2<ru(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",OV(n)}}finally{nb(n)}}}function nb(n,e){if(n.g){kV(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||as(n,"ready");try{t.onreadystatechange=r}catch{}}}function kV(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Lt.clearTimeout(n.A),n.A=null)}function ru(n){return n.g?n.g.readyState:0}function LV(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case PV:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function FV(n){let e="";return XD(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function b1(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=FV(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):br(n,e,t))}function Bv(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function VV(n){this.Ga=0,this.j=[],this.l=new qw,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Bv("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Bv("baseRetryDelayMs",5e3,n),this.hb=Bv("retryDelaySeedMs",1e4,n),this.eb=Bv("forwardChannelMaxRetries",2,n),this.xa=Bv("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new CV(n&&n.concurrentRequestLimit),this.Ja=new hQ,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function T1(n){if(UV(n),3==n.H){var e=n.W++,t=cc(n.I);if(br(t,"SID",n.K),br(t,"RID",e),br(t,"TYPE","terminate"),Hv(n,t),(e=new Pv(n,n.l,e)).L=2,e.v=Xw(cc(t)),t=!1,Lt.navigator&&Lt.navigator.sendBeacon)try{t=Lt.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Lt.Image&&((new Image).src=e.v,t=!0),t||(e.g=KV(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Mv(e)}GV(n)}function rb(n){n.g&&(S1(n),n.g.cancel(),n.g=null)}function UV(n){rb(n),n.u&&(Lt.clearTimeout(n.u),n.u=null),sb(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Lt.clearTimeout(n.m),n.m=null)}function ib(n){if(!SV(n.i)&&!n.m){n.m=!0;var e=n.Na;Cv||tV(),Sv||(Cv(),Sv=!0),c1.add(e,n),n.C=0}}function BV(n,e){var t;t=e?e.m:n.W++;const r=cc(n.I);br(r,"SID",n.K),br(r,"RID",t),br(r,"AID",n.V),Hv(n,r),n.o&&n.s&&b1(r,n.o,n.s),t=new Pv(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=HV(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),E1(n.i,t),y1(t,r,e)}function Hv(n,e){n.na&&XD(n.na,function(t,r){br(e,r,t)}),n.h&&yV({},function(t,r){br(e,r,t)})}function HV(n,e,t){t=Math.min(n.j.length,t);var r=n.h?Ss(n.h.Va,n.h,n):null;e:{var i=n.j;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<t;u++){let d=i[u].g;const p=i[u].map;if(d-=s,0>d)s=Math.max(0,i[u].g-100),a=!1;else try{fQ(p,o,"req"+d+"_")}catch{r&&r(p)}}if(a){r=o.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function $V(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Cv||tV(),Sv||(Cv(),Sv=!0),c1.add(e,n),n.A=0}}function C1(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=xv(Ss(n.Ma,n),qV(n,n.A)),n.A++,0))}function S1(n){null!=n.B&&(Lt.clearTimeout(n.B),n.B=null)}function jV(n){n.g=new Pv(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=cc(n.wa);br(e,"RID","rpc"),br(e,"SID",n.K),br(e,"AID",n.V),br(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&br(e,"TO",n.qa),br(e,"TYPE","xmlhttp"),Hv(n,e),n.o&&n.s&&b1(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=Xw(cc(e)),t.s=null,t.S=!0,pV(t,n)}function sb(n){null!=n.v&&(Lt.clearTimeout(n.v),n.v=null)}function zV(n,e){var t=null;if(n.g==e){sb(n),S1(n),n.g=null;var r=2}else{if(!I1(n.i,e))return;t=e.F,DV(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;as(r=Gw(),new uV(r,t)),ib(n)}else $V(n);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function IQ(n,e){return!(AV(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=xv(Ss(n.Na,n,e),qV(n,n.C)),n.C++,0)))}(n,e)||2==r&&C1(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:Nf(n,5);break;case 4:Nf(n,10);break;case 3:Nf(n,6);break;default:Nf(n,2)}}function qV(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Nf(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=Ss(n.pb,n);t||(t=new Of("//www.google.com/images/cleardot.gif"),Lt.location&&"http"==Lt.location.protocol||Yw(t,"https"),Xw(t)),function pQ(n,e){const t=new qw;if(Lt.Image){const r=new Image;r.onload=Uw(eb,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Uw(eb,t,r,"TestLoadImage: error",!1,e),r.onabort=Uw(eb,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Uw(eb,t,r,"TestLoadImage: timeout",!1,e),Lt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Js(2);n.H=0,n.h&&n.h.za(e),GV(n),UV(n)}function GV(n){if(n.H=0,n.ma=[],n.h){const e=xV(n.i);(0!=e.length||0!=n.j.length)&&(HF(n.ma,e),HF(n.ma,n.j),n.i.i.length=0,qD(n.j),n.j.length=0),n.h.ya()}}function WV(n,e,t){var r=t instanceof Of?cc(t):new Of(t);if(""!=r.g)e&&(r.g=e+"."+r.g),Jw(r,r.m);else{var i=Lt.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Of(null);r&&Yw(s,r),e&&(s.g=e),i&&Jw(s,i),t&&(s.l=t),r=s}return e=n.Da,(t=n.F)&&e&&br(r,t,e),br(r,"VER",n.ra),Hv(n,r),r}function KV(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Kr(t&&n.Ha&&!n.va?new Fv({ob:!0}):n.va)).Oa(n.J),e}function ZV(){}function ob(){if(pm&&!(10<=Number(OZ)))throw Error("Environmental error: no available transport.")}function ea(n,e){Gi.call(this),this.g=new VV(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!wv(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!wv(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new _m(this)}function QV(n){p1.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function YV(){g1.call(this),this.status=1}function _m(n){this.g=n}function ol(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function A1(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var s=n.g[3],o=(e=n.g[0])+(s^(t=n.g[1])&((i=n.g[2])^s))+r[0]+3614090360&4294967295;o=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=t+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(t^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(t|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=t+((o=e+(i^(t|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~t))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+s&4294967295}function $n(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var s=0|n[i];r&&s==e||(t[i]=s,r=!1)}this.g=t}(Fe=Kr.prototype).Oa=function(n){this.M=n},Fe.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():m1.g(),this.C=function dV(n){return n.h||(n.h=n.i())}(this.u?this.u:m1),this.g.onreadystatechange=Ss(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(s){return void MV(this,s)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())t.set(s,r.get(s))}r=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),i=Lt.FormData&&n instanceof Lt.FormData,!(0<=BF(_Q,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of t)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{kV(this),0<this.B&&((this.L=function yQ(n){return pm&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ss(this.ua,this)):this.A=h1(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){MV(this,s)}},Fe.ua=function(){typeof jD<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,as(this,"timeout"),this.abort(8))},Fe.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,as(this,"complete"),as(this,"abort"),nb(this))},Fe.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),nb(this,!0)),Kr.$.N.call(this)},Fe.La=function(){this.s||(this.G||this.v||this.l?NV(this):this.kb())},Fe.kb=function(){NV(this)},Fe.isActive=function(){return!!this.g},Fe.da=function(){try{return 2<ru(this)?this.g.status:-1}catch{return-1}},Fe.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Fe.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),gQ(e)}},Fe.Ia=function(){return this.m},Fe.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Fe=VV.prototype).ra=8,Fe.H=1,Fe.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new Pv(this,this.l,n);let s=this.s;if(this.U&&(s?(s=GF(s),KF(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=HV(this,i,e),br(t=cc(this.I),"RID",n),br(t,"CVER",22),this.F&&br(t,"X-HTTP-Session-Id",this.F),Hv(this,t),s&&(this.O?e="headers="+encodeURIComponent(String(FV(s)))+"&"+e:this.o&&b1(t,this.o,s)),E1(this.i,i),this.bb&&br(t,"TYPE","init"),this.P?(br(t,"$req",e),br(t,"SID","null"),i.aa=!0,y1(i,t,null)):y1(i,t,e),this.H=2}}else 3==this.H&&(n?BV(this,n):0==this.j.length||SV(this.i)||BV(this))},Fe.Ma=function(){if(this.u=null,jV(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=xv(Ss(this.jb,this),n)}},Fe.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Js(10),rb(this),jV(this))},Fe.ib=function(){null!=this.v&&(this.v=null,rb(this),C1(this),Js(19))},Fe.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Js(2)):(this.l.info("Failed to ping google.com"),Js(1))},Fe.isActive=function(){return!!this.h&&this.h.isActive(this)},(Fe=ZV.prototype).Ba=function(){},Fe.Aa=function(){},Fe.za=function(){},Fe.ya=function(){},Fe.isActive=function(){return!0},Fe.Va=function(){},ob.prototype.g=function(n,e){return new ea(n,e)},qi(ea,Gi),ea.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Js(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=WV(n,null,n.Y),ib(n)},ea.prototype.close=function(){T1(this.g)},ea.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=u1(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&ib(e)},ea.prototype.N=function(){this.g.h=null,delete this.j,T1(this.g),delete this.g,ea.$.N.call(this)},qi(QV,p1),qi(YV,g1),qi(_m,ZV),_m.prototype.Ba=function(){as(this.g,"a")},_m.prototype.Aa=function(n){as(this.g,new QV(n))},_m.prototype.za=function(n){as(this.g,new YV)},_m.prototype.ya=function(){as(this.g,"b")},qi(ol,function EQ(){this.blockSize=-1}),ol.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},ol.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=t;)A1(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<e;)if(r[i++]=n.charCodeAt(s++),i==this.blockSize){A1(this,r),i=0;break}}else for(;s<e;)if(r[i++]=n[s++],i==this.blockSize){A1(this,r),i=0;break}}this.h=i,this.i+=e},ol.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var wQ={};function D1(n){return-128<=n&&128>n?function RZ(n,e){var t=wQ;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new $n([0|e],0>e?-1:0)}):new $n([0|n],0>n?-1:0)}function iu(n){if(isNaN(n)||!isFinite(n))return ym;if(0>n)return ls(iu(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=x1;return new $n(e,0)}var x1=4294967296,ym=D1(0),R1=D1(1),XV=D1(16777216);function dc(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Va(n){return-1==n.h}function ls(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new $n(t,~n.h).add(R1)}function ab(n,e){return n.add(ls(e))}function lb(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function $v(n,e){this.g=n,this.h=e}function ub(n,e){if(dc(e))throw Error("division by zero");if(dc(n))return new $v(ym,ym);if(Va(n))return e=ub(ls(n),e),new $v(ls(e.g),ls(e.h));if(Va(e))return e=ub(n,ls(e)),new $v(ls(e.g),e.h);if(30<n.g.length){if(Va(n)||Va(e))throw Error("slowDivide_ only works with positive integers.");for(var t=R1,r=e;0>=r.X(n);)t=eU(t),r=eU(r);var i=vm(t,1),s=vm(r,1);for(r=vm(r,2),t=vm(t,2);!dc(r);){var o=s.add(r);0>=o.X(n)&&(i=i.add(t),s=o),r=vm(r,1),t=vm(t,1)}return e=ab(n,i.R(e)),new $v(i,e)}for(i=ym;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),o=(s=iu(t)).R(e);Va(o)||0<o.X(n);)o=(s=iu(t-=r)).R(e);dc(s)&&(s=R1),i=i.add(s),n=ab(n,o)}return new $v(i,n)}function eU(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new $n(t,n.h)}function vm(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],s=0;s<r;s++)i[s]=0<e?n.D(s+t)>>>e|n.D(s+t+1)<<32-e:n.D(s+t);return new $n(i,n.h)}(Fe=$n.prototype).ea=function(){if(Va(this))return-ls(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:x1+r)*e,e*=x1}return n},Fe.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(dc(this))return"0";if(Va(this))return"-"+ls(this).toString(n);for(var e=iu(Math.pow(n,6)),t=this,r="";;){var i=ub(t,e).g,s=((0<(t=ab(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(dc(t=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},Fe.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},Fe.X=function(n){return Va(n=ab(this,n))?-1:dc(n)?0:1},Fe.abs=function(){return Va(this)?ls(this):this},Fe.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&n.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=o>>>16,t[i]=(o&=65535)<<16|(s&=65535)}return new $n(t,-2147483648&t[t.length-1]?-1:0)},Fe.R=function(n){if(dc(this)||dc(n))return ym;if(Va(this))return Va(n)?ls(this).R(ls(n)):ls(ls(this).R(n));if(Va(n))return ls(this.R(ls(n)));if(0>this.X(XV)&&0>n.X(XV))return iu(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=n.D(i)>>>16,u=65535&n.D(i);t[2*r+2*i]+=o*u,lb(t,2*r+2*i),t[2*r+2*i+1]+=s*u,lb(t,2*r+2*i+1),t[2*r+2*i+1]+=o*a,lb(t,2*r+2*i+1),t[2*r+2*i+2]+=s*a,lb(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new $n(t,0)},Fe.gb=function(n){return ub(this,n).h},Fe.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new $n(t,this.h&n.h)},Fe.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new $n(t,this.h|n.h)},Fe.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new $n(t,this.h^n.h)},ob.prototype.createWebChannel=ob.prototype.g,ea.prototype.send=ea.prototype.u,ea.prototype.open=ea.prototype.m,ea.prototype.close=ea.prototype.close,Ww.NO_ERROR=0,Ww.TIMEOUT=8,Ww.HTTP_ERROR=6,cV.COMPLETE="complete",hV.EventType=Rv,Rv.OPEN="a",Rv.CLOSE="b",Rv.ERROR="c",Rv.MESSAGE="d",Gi.prototype.listen=Gi.prototype.O,Kr.prototype.listenOnce=Kr.prototype.P,Kr.prototype.getLastError=Kr.prototype.Sa,Kr.prototype.getLastErrorCode=Kr.prototype.Ia,Kr.prototype.getStatus=Kr.prototype.da,Kr.prototype.getResponseJson=Kr.prototype.Wa,Kr.prototype.getResponseText=Kr.prototype.ja,Kr.prototype.send=Kr.prototype.ha,Kr.prototype.setWithCredentials=Kr.prototype.Oa,ol.prototype.digest=ol.prototype.l,ol.prototype.reset=ol.prototype.reset,ol.prototype.update=ol.prototype.j,$n.prototype.add=$n.prototype.add,$n.prototype.multiply=$n.prototype.R,$n.prototype.modulo=$n.prototype.gb,$n.prototype.compare=$n.prototype.X,$n.prototype.toNumber=$n.prototype.ea,$n.prototype.toString=$n.prototype.toString,$n.prototype.getBits=$n.prototype.D,$n.fromNumber=iu,$n.fromString=function JV(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return ls(JV(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=iu(Math.pow(e,8)),r=ym,i=0;i<n.length;i+=8){var s=Math.min(8,n.length-i),o=parseInt(n.substring(i,i+s),e);8>s?(s=iu(Math.pow(e,s)),r=r.R(s).add(iu(o))):r=(r=r.R(t)).add(iu(o))}return r};var bQ=sl.createWebChannelTransport=function(){return new ob},TQ=sl.getStatEventTarget=function(){return Gw()},P1=sl.ErrorCode=Ww,CQ=sl.EventType=cV,SQ=sl.Event=Pf,tU=sl.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},AQ=sl.FetchXmlHttpFactory=Fv,cb=sl.WebChannel=hV,DQ=sl.XhrIo=Kr,xQ=sl.Md5=ol,Im=sl.Integer=$n;const nU="@firebase/firestore";class Wi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wi.UNAUTHENTICATED=new Wi(null),Wi.GOOGLE_CREDENTIALS=new Wi("google-credentials-uid"),Wi.FIRST_PARTY=new Wi("first-party-uid"),Wi.MOCK_USER=new Wi("mock-user");let Em="10.5.2";const Dd=new tu.Yd("@firebase/firestore");function wm(){return Dd.logLevel}function be(n,...e){if(Dd.logLevel<=tu.in.DEBUG){const t=e.map(M1);Dd.debug(`Firestore (${Em}): ${n}`,...t)}}function ii(n,...e){if(Dd.logLevel<=tu.in.ERROR){const t=e.map(M1);Dd.error(`Firestore (${Em}): ${n}`,...t)}}function bo(n,...e){if(Dd.logLevel<=tu.in.WARN){const t=e.map(M1);Dd.warn(`Firestore (${Em}): ${n}`,...t)}}function M1(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function qe(n="Unexpected state"){const e=`FIRESTORE (${Em}) INTERNAL ASSERTION FAILED: `+n;throw ii(e),new Error(e)}function rt(n,e){n||qe()}function Oe(n,e){return n}const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends rr.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Si{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class rU{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class MQ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Wi.UNAUTHENTICATED))}shutdown(){}}class OQ{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class NQ{constructor(e){this.t=e,this.currentUser=Wi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=d=>this.i!==i?(i=this.i,t(d)):Promise.resolve();let o=new Si;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Si,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const d=o;e.enqueueRetryable((0,ce.Z)(function*(){yield d.promise,yield s(r.currentUser)}))},u=d=>{be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(d=>u(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?u(d):(be("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Si)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(rt("string"==typeof r.accessToken),new rU(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return rt(null===e||"string"==typeof e),new Wi(e)}}class kQ{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Wi.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class LQ{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new kQ(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Wi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class iU{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class FQ{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const r=s=>{null!=s.error&&be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,be("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(rt("string"==typeof t.token),this.R=t.token,new iU(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function VQ(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class sU{static newId(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=VQ(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function Nt(n,e){return n<e?-1:n>e?1:0}function bm(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function oU(n){return n+"\0"}class Nr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ye(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ye(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ye(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Nr.fromMillis(Date.now())}static fromDate(e){return Nr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Nr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Nt(this.nanoseconds,e.nanoseconds):Nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class st{constructor(e){this.timestamp=e}static fromTimestamp(e){return new st(e)}static min(){return new st(new Nr(0,0))}static max(){return new st(new Nr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class jv{constructor(e,t,r){void 0===t?t=0:t>e.length&&qe(),void 0===r?r=e.length-t:r>e.length-t&&qe(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===jv.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof jv?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class vn extends jv{construct(e,t,r){return new vn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ye(re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new vn(t)}static emptyPath(){return new vn([])}}const UQ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Tr extends jv{construct(e,t,r){return new Tr(e,t,r)}static isValidIdentifier(e){return UQ.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Tr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Tr(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new ye(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new ye(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new ye(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ye(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Tr(t)}static emptyPath(){return new Tr([])}}class Ne{constructor(e){this.path=e}static fromPath(e){return new Ne(vn.fromString(e))}static fromName(e){return new Ne(vn.fromString(e).popFirst(5))}static empty(){return new Ne(vn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===vn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return vn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ne(new vn(e.slice()))}}class Tm{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function O1(n){return n.fields.find(e=>2===e.kind)}function kf(n){return n.fields.filter(e=>2!==e.kind)}Tm.UNKNOWN_ID=-1;class Lf{constructor(e,t){this.fieldPath=e,this.kind=t}}class Cm{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Cm(0,ta.min())}}function aU(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=st.fromTimestamp(1e9===r?new Nr(t+1,0):new Nr(t,r));return new ta(i,Ne.empty(),e)}function lU(n){return new ta(n.readTime,n.key,-1)}class ta{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ta(st.min(),Ne.empty(),-1)}static max(){return new ta(st.max(),Ne.empty(),-1)}}function N1(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ne.comparator(n.documentKey,e.documentKey),0!==t?t:Nt(n.largestBatchId,e.largestBatchId))}const uU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cU{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function xd(n){return k1.apply(this,arguments)}function k1(){return k1=(0,ce.Z)(function*(n){if(n.code!==re.FAILED_PRECONDITION||n.message!==uU)throw n;be("LocalStore","Unexpectedly lost primary lease")}),k1.apply(this,arguments)}class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&qe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Q((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Q?t:Q.resolve(t)}catch(t){return Q.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Q.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Q.reject(t)}static resolve(e){return new Q((t,r)=>{t(e)})}static reject(e){return new Q((t,r)=>{r(e)})}static waitFor(e){return new Q((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},u=>r(u))}),o=!0,s===i&&t()})}static or(e){let t=Q.resolve(!1);for(const r of e)t=t.next(i=>i?Q.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new Q((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const d=u;t(e[d]).next(p=>{o[d]=p,++a,a===s&&r(o)},p=>i(p))}})}static doWhile(e,t){return new Q((r,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):r()};s()})}}class db{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new Si,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new zv(e,t.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=L1(r.target.error);this.V.reject(new zv(e,i))}}static open(e,t,r,i){try{return new db(t,e.transaction(i,r))}catch(s){throw new zv(t,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(be("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new jQ(t)}}class al{constructor(e,t,r){this.name=e,this.version=t,this.p=r,12.2===al.S((0,rr.z$)())&&ii("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return be("SimpleDb","Removing database:",e),Ff(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,rr.hl)())return!1;if(al.C())return!0;const e=(0,rr.z$)(),t=al.S(e),r=0<t&&t<10,i=al.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(e){var t=this;return(0,ce.Z)(function*(){return t.db||(be("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const s=indexedDB.open(t.name,t.version);s.onsuccess=o=>{r(o.target.result)},s.onblocked=()=>{i(new zv(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=o=>{const a=o.target.error;i("VersionError"===a.name?new ye(re.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new ye(re.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new zv(e,a))},s.onupgradeneeded=o=>{be("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',o.oldVersion),t.p.N(o.target.result,s.transaction,o.oldVersion,t.version).next(()=>{be("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var s=this;return(0,ce.Z)(function*(){const o="readonly"===t;let a=0;for(;;){++a;try{s.db=yield s.O(e);const u=db.open(s.db,e,o?"readonly":"readwrite",r),d=i(u).next(p=>(u.g(),p)).catch(p=>(u.abort(p),Q.reject(p))).toPromise();return d.catch(()=>{}),yield u.m,d}catch(u){const d=u,p="FirebaseError"!==d.name&&a<3;if(be("SimpleDb","Transaction failed with error:",d.message,"Retrying:",p),s.close(),!p)return Promise.reject(d)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class $Q{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Ff(this.k.delete())}}class zv extends ye{constructor(e,t){super(re.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Rd(n){return"IndexedDbTransactionError"===n.name}class jQ{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(be("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(be("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Ff(r)}add(e){return be("SimpleDb","ADD",this.store.name,e,e),Ff(this.store.add(e))}get(e){return Ff(this.store.get(e)).next(t=>(void 0===t&&(t=null),be("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return be("SimpleDb","DELETE",this.store.name,e),Ff(this.store.delete(e))}count(){return be("SimpleDb","COUNT",this.store.name),Ff(this.store.count())}W(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),s=[];return this.G(i,(o,a)=>{s.push(a)}).next(()=>s)}{const i=this.store.getAll(r.range);return new Q((s,o)=>{i.onerror=a=>{o(a.target.error)},i.onsuccess=a=>{s(a.target.result)}})}}j(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new Q((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(e,t){be("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.J=!1;const i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.G(i,t)}Z(e){const t=this.cursor({});return new Q((r,i)=>{t.onerror=s=>{const o=L1(s.target.error);i(o)},t.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,t){const r=[];return new Q((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const u=new $Q(a),d=t(a.primaryKey,a.value,u);if(d instanceof Q){const p=d.catch(y=>(u.done(),Q.reject(y)));r.push(p)}u.isDone?i():null===u.$?a.continue():a.continue(u.$)}}).next(()=>Q.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Ff(n){return new Q((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=L1(r.target.error);t(i)}})}let dU=!1;function L1(n){const e=al.S((0,rr.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new ye("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return dU||(dU=!0,setTimeout(()=>{throw r},0)),r}}return n}class zQ{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){var t=this;be("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ce.Z)(function*(){t.task=null;try{be("IndexBackiller",`Documents written: ${yield t.X.te()}`)}catch(r){Rd(r)?be("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield xd(r)}yield t.ee(6e4)}))}}class qQ{constructor(e,t){this.localStore=e,this.persistence=t}te(e=50){var t=this;return(0,ce.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.ne(r,e))})()}ne(e,t){const r=new Set;let i=t,s=!0;return Q.doWhile(()=>!0===s&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(null!==o&&!r.has(o))return be("IndexBackiller",`Processing collection: ${o}`),this.re(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>t-i)}re(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.ie(i,s)).next(a=>(be("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,t,a))).next(()=>o.size)}))}ie(e,t){let r=e;return t.changes.forEach((i,s)=>{const o=lU(s);N1(o,r)>0&&(r=o)}),new ta(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let na=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}return n._e=-1,n})();function qv(n){return null==n}function Gv(n){return 0===n&&1/n==-1/0}function hU(n){return"number"==typeof n&&Number.isInteger(n)&&!Gv(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Ds(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=fU(e)),e=GQ(n.get(t),e);return fU(e)}function GQ(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=s}}return t}function fU(n){return n+"\x01\x01"}function su(n){const e=n.length;if(rt(e>=2),2===e)return rt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),vn.emptyPath();const t=e-2,r=[];let i="";for(let s=0;s<e;){const o=n.indexOf("\x01",s);switch((o<0||o>t)&&qe(),n.charAt(o+1)){case"\x01":const a=n.substring(s,o);let u;0===i.length?u=a:(i+=a,u=i,i=""),r.push(u);break;case"\x10":i+=n.substring(s,o),i+="\0";break;case"\x11":i+=n.substring(s,o+1);break;default:qe()}s=o+2}return new vn(r)}const pU=["userId","batchId"];function hb(n,e){return[n,Ds(e)]}function gU(n,e,t){return[n,Ds(e),t]}const WQ={},KQ=["prefixPath","collectionGroup","readTime","documentId"],ZQ=["prefixPath","collectionGroup","documentId"],QQ=["collectionGroup","readTime","prefixPath","documentId"],YQ=["canonicalId","targetId"],JQ=["targetId","path"],XQ=["path","targetId"],eY=["collectionId","parent"],tY=["indexId","uid"],nY=["uid","sequenceNumber"],rY=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],iY=["indexId","uid","orderedDocumentKey"],sY=["userId","collectionPath","documentId"],oY=["userId","collectionPath","largestBatchId"],aY=["userId","collectionGroup","largestBatchId"],mU=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],lY=[...mU,"documentOverlays"],_U=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],yU=_U,uY=[...yU,"indexConfiguration","indexState","indexEntries"];class F1 extends cU{constructor(e,t){super(),this.ae=e,this.currentSequenceNumber=t}}function Ki(n,e){const t=Oe(n);return al.M(t.ae,e)}function vU(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Pd(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function IU(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class hr{constructor(e,t){this.comparator=e,this.root=t||us.EMPTY}insert(e,t){return new hr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,us.BLACK,null,null))}remove(e){return new hr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,us.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fb(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fb(this.root,e,this.comparator,!1)}getReverseIterator(){return new fb(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fb(this.root,e,this.comparator,!0)}}class fb{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class us{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??us.RED,this.left=i??us.EMPTY,this.right=s??us.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new us(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return us.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return us.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,us.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,us.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw qe();const e=this.left.check();if(e!==this.right.check())throw qe();return e+(this.isRed()?0:1)}}us.EMPTY=null,us.RED=!0,us.BLACK=!1,us.EMPTY=new class{constructor(){this.size=0}get key(){throw qe()}get value(){throw qe()}get color(){throw qe()}get left(){throw qe()}get right(){throw qe()}copy(e,t,r,i,s){return this}insert(e,t,r){return new us(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Kn{constructor(e){this.comparator=e,this.data=new hr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new EU(this.data.getIterator())}getIteratorFrom(e){return new EU(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Kn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Kn(this.comparator);return t.data=e,t}}class EU{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Sm(n){return n.hasNext()?n.getNext():void 0}class To{constructor(e){this.fields=e,e.sort(Tr.comparator)}static empty(){return new To([])}unionWith(e){let t=new Kn(Tr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new To(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return bm(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class wU extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ai{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new wU("Invalid base64 string: "+s):s}}(e);return new Ai(t)}static fromUint8Array(e){const t=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Ai(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ai.EMPTY_BYTE_STRING=new Ai("");const dY=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Md(n){if(rt(!!n),"string"==typeof n){let e=0;const t=dY.exec(n);if(rt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Zr(n.seconds),nanos:Zr(n.nanos)}}function Zr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function hc(n){return"string"==typeof n?Ai.fromBase64String(n):Ai.fromUint8Array(n)}function pb(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function gb(n){const e=n.mapValue.fields.__previous_value__;return pb(e)?gb(e):e}function Wv(n){const e=Md(n.mapValue.fields.__local_write_time__.timestampValue);return new Nr(e.seconds,e.nanos)}class hY{constructor(e,t,r,i,s,o,a,u,d){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=d}}class Od{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Od("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Od&&e.projectId===this.projectId&&e.database===this.database}}const Nd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},mb={nullValue:"NULL_VALUE"};function kd(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?pb(n)?4:SU(n)?9007199254740991:10:qe()}function ou(n,e){if(n===e)return!0;const t=kd(n);if(t!==kd(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Wv(n).isEqual(Wv(e));case 3:return function(i,s){if("string"==typeof i.timestampValue&&"string"==typeof s.timestampValue&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Md(i.timestampValue),a=Md(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return s=e,hc(n.bytesValue).isEqual(hc(s.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return Zr(i.geoPointValue.latitude)===Zr(s.geoPointValue.latitude)&&Zr(i.geoPointValue.longitude)===Zr(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Zr(i.integerValue)===Zr(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Zr(i.doubleValue),a=Zr(s.doubleValue);return o===a?Gv(o)===Gv(a):isNaN(o)&&isNaN(a)}return!1}(n,e);case 9:return bm(n.arrayValue.values||[],e.arrayValue.values||[],ou);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(vU(o)!==vU(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(void 0===a[u]||!ou(o[u],a[u])))return!1;return!0}(n,e);default:return qe()}var s}function Kv(n,e){return void 0!==(n.values||[]).find(t=>ou(t,e))}function Ld(n,e){if(n===e)return 0;const t=kd(n),r=kd(e);if(t!==r)return Nt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Nt(n.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Zr(s.integerValue||s.doubleValue),u=Zr(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(n,e);case 3:return bU(n.timestampValue,e.timestampValue);case 4:return bU(Wv(n),Wv(e));case 5:return Nt(n.stringValue,e.stringValue);case 6:return function(s,o){const a=hc(s),u=hc(o);return a.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),u=o.split("/");for(let d=0;d<a.length&&d<u.length;d++){const p=Nt(a[d],u[d]);if(0!==p)return p}return Nt(a.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Nt(Zr(s.latitude),Zr(o.latitude));return 0!==a?a:Nt(Zr(s.longitude),Zr(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],u=o.values||[];for(let d=0;d<a.length&&d<u.length;++d){const p=Ld(a[d],u[d]);if(p)return p}return Nt(a.length,u.length)}(n.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Nd.mapValue&&o===Nd.mapValue)return 0;if(s===Nd.mapValue)return 1;if(o===Nd.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),d=o.fields||{},p=Object.keys(d);u.sort(),p.sort();for(let y=0;y<u.length&&y<p.length;++y){const I=Nt(u[y],p[y]);if(0!==I)return I;const w=Ld(a[u[y]],d[p[y]]);if(0!==w)return w}return Nt(u.length,p.length)}(n.mapValue,e.mapValue);default:throw qe()}}function bU(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Nt(n,e);const t=Md(n),r=Md(e),i=Nt(t.seconds,r.seconds);return 0!==i?i:Nt(t.nanos,r.nanos)}function Am(n){return V1(n)}function V1(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Md(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?hc(n.bytesValue).toBase64():"referenceValue"in n?Ne.fromName(n.referenceValue).toString():"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const s of t.values||[])i?i=!1:r+=",",r+=V1(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${V1(t.fields[o])}`;return i+"}"}(n.mapValue):qe()}function Vf(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function U1(n){return!!n&&"integerValue"in n}function Zv(n){return!!n&&"arrayValue"in n}function TU(n){return!!n&&"nullValue"in n}function CU(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function yb(n){return!!n&&"mapValue"in n}function Qv(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Pd(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Qv(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Qv(n.arrayValue.values[t]);return e}return Object.assign({},n)}function SU(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function fY(n){return"nullValue"in n?mb:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Vf(Od.empty(),Ne.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:qe()}function pY(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Vf(Od.empty(),Ne.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Nd:qe()}function AU(n,e){const t=Ld(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function DU(n,e){const t=Ld(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class cs{constructor(e){this.value=e}static empty(){return new cs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!yb(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qv(t)}setAll(e){let t=Tr.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=Qv(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());yb(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ou(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];yb(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Pd(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new cs(Qv(this.value))}}function xU(n){const e=[];return Pd(n.fields,(t,r)=>{const i=new Tr([t]);if(yb(r)){const s=xU(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new To(e)}class Cr{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Cr(e,0,st.min(),st.min(),st.min(),cs.empty(),0)}static newFoundDocument(e,t,r,i){return new Cr(e,1,t,st.min(),r,i,0)}static newNoDocument(e,t){return new Cr(e,2,t,st.min(),st.min(),cs.empty(),0)}static newUnknownDocument(e,t){return new Cr(e,3,t,st.min(),st.min(),cs.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(st.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=st.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Cr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Cr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Fd{constructor(e,t){this.position=e,this.inclusive=t}}function RU(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(r=s.field.isKeyField()?Ne.comparator(Ne.fromName(o.referenceValue),t.key):Ld(o,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function PU(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ou(n.position[t],e.position[t]))return!1;return!0}class Yv{constructor(e,t="asc"){this.field=e,this.dir=t}}function gY(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class MU{}class fn extends MU{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new mY(e,t,r):"array-contains"===t?new vY(e,r):"in"===t?new VU(e,r):"not-in"===t?new IY(e,r):"array-contains-any"===t?new EY(e,r):new fn(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new _Y(e,r):new yY(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Ld(t,this.value)):null!==t&&kd(this.value)===kd(t)&&this.matchesComparison(Ld(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return qe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class jn extends MU{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new jn(e,t)}matches(e){return Dm(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Dm(n){return"and"===n.op}function B1(n){return"or"===n.op}function H1(n){return OU(n)&&Dm(n)}function OU(n){for(const e of n.filters)if(e instanceof jn)return!1;return!0}function $1(n){if(n instanceof fn)return n.field.canonicalString()+n.op.toString()+Am(n.value);if(H1(n))return n.filters.map(e=>$1(e)).join(",");{const e=n.filters.map(t=>$1(t)).join(",");return`${n.op}(${e})`}}function NU(n,e){return n instanceof fn?(r=n,(i=e)instanceof fn&&r.op===i.op&&r.field.isEqual(i.field)&&ou(r.value,i.value)):n instanceof jn?function(r,i){return i instanceof jn&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((s,o,a)=>s&&NU(o,i.filters[a]),!0)}(n,e):void qe();var r,i}function kU(n,e){const t=n.filters.concat(e);return jn.create(t,n.op)}function LU(n){return n instanceof fn?`${(t=n).field.canonicalString()} ${t.op} ${Am(t.value)}`:n instanceof jn?function(t){return t.op.toString()+" {"+t.getFilters().map(LU).join(" ,")+"}"}(n):"Filter";var t}class mY extends fn{constructor(e,t,r){super(e,t,r),this.key=Ne.fromName(r.referenceValue)}matches(e){const t=Ne.comparator(e.key,this.key);return this.matchesComparison(t)}}class _Y extends fn{constructor(e,t){super(e,"in",t),this.keys=FU(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class yY extends fn{constructor(e,t){super(e,"not-in",t),this.keys=FU(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function FU(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Ne.fromName(r.referenceValue))}class vY extends fn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Zv(t)&&Kv(t.arrayValue,this.value)}}class VU extends fn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Kv(this.value.arrayValue,t)}}class IY extends fn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Kv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Kv(this.value.arrayValue,t)}}class EY extends fn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Zv(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Kv(this.value.arrayValue,r))}}class wY{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function j1(n,e=null,t=[],r=[],i=null,s=null,o=null){return new wY(n,e,t,r,i,s,o)}function Uf(n){const e=Oe(n);if(null===e.ce){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>$1(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),qv(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Am(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Am(r)).join(",")),e.ce=t}return e.ce}function Jv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!gY(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!NU(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!PU(n.startAt,e.startAt)&&PU(n.endAt,e.endAt)}function vb(n){return Ne.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Ib(n,e){return n.filters.filter(t=>t instanceof fn&&t.field.isEqual(e))}function UU(n,e,t){let r=mb,i=!0;for(const s of Ib(n,e)){let o=mb,a=!0;switch(s.op){case"<":case"<=":o=fY(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=mb}AU({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const o=t.position[s];AU({value:r,inclusive:i},{value:o,inclusive:t.inclusive})<0&&(r=o,i=t.inclusive);break}return{value:r,inclusive:i}}function BU(n,e,t){let r=Nd,i=!0;for(const s of Ib(n,e)){let o=Nd,a=!0;switch(s.op){case">=":case">":o=pY(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=Nd}DU({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const o=t.position[s];DU({value:r,inclusive:i},{value:o,inclusive:t.inclusive})>0&&(r=o,i=t.inclusive);break}return{value:r,inclusive:i}}class fc{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.le=null,this.he=null,this.Pe=null}}function HU(n,e,t,r,i,s,o,a){return new fc(n,e,t,r,i,s,o,a)}function xm(n){return new fc(n)}function $U(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function z1(n){return null!==n.collectionGroup}function Rm(n){const e=Oe(n);if(null===e.le){e.le=[];const t=new Set;for(const s of e.explicitOrderBy)e.le.push(s),t.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Kn(Tr.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.le.push(new Yv(s,r))}),t.has(Tr.keyField().canonicalString())||e.le.push(new Yv(Tr.keyField(),r))}return e.le}function Xs(n){const e=Oe(n);return e.he||(e.he=function jU(n,e){if("F"===n.limitType)return j1(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>new Yv(i.field,"desc"===i.dir?"asc":"desc"));const t=n.endAt?new Fd(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Fd(n.startAt.position,n.startAt.inclusive):null;return j1(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}(e,Rm(n))),e.he}function q1(n,e){const t=n.filters.concat([e]);return new fc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Eb(n,e,t){return new fc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Xv(n,e){return Jv(Xs(n),Xs(e))&&n.limitType===e.limitType}function zU(n){return`${Uf(Xs(n))}|lt:${n.limitType}`}function Pm(n){return`Query(target=${function(t){let r=t.path.canonicalString();return null!==t.collectionGroup&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>LU(i)).join(", ")}]`),qv(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>{return`${(o=i).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Am(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Am(i)).join(",")),`Target(${r})`}(Xs(n))}; limitType=${n.limitType})`}function eI(n,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Ne.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(const s of Rm(r))if(!s.field.isKeyField()&&null===i.data.field(s.field))return!1;return!0}(n,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&(i=e,!((r=n).startAt&&!function(o,a,u){const d=RU(o,a,u);return o.inclusive?d<=0:d<0}(r.startAt,Rm(r),i)||r.endAt&&!function(o,a,u){const d=RU(o,a,u);return o.inclusive?d>=0:d>0}(r.endAt,Rm(r),i)));var r,i}function qU(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function GU(n){return(e,t)=>{let r=!1;for(const i of Rm(n)){const s=bY(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function bY(n,e,t){const r=n.field.isKeyField()?Ne.comparator(e.key,t.key):function(s,o,a){const u=o.data.field(s),d=a.data.field(s);return null!==u&&null!==d?Ld(u,d):qe()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return qe()}}class pc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Pd(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return IU(this.inner)}size(){return this.innerSize}}const TY=new hr(Ne.comparator);function Co(){return TY}const WU=new hr(Ne.comparator);function tI(...n){let e=WU;for(const t of n)e=e.insert(t.key,t);return e}function KU(n){let e=WU;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function au(){return nI()}function ZU(){return nI()}function nI(){return new pc(n=>n.toString(),(n,e)=>n.isEqual(e))}const CY=new hr(Ne.comparator),SY=new Kn(Ne.comparator);function Zt(...n){let e=SY;for(const t of n)e=e.add(t);return e}const AY=new Kn(Nt);function G1(){return AY}function QU(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gv(e)?"-0":e}}function YU(n){return{integerValue:""+n}}function JU(n,e){return hU(e)?YU(e):QU(n,e)}class wb{constructor(){this._=void 0}}function DY(n,e,t){return n instanceof Mm?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&pb(s)&&(s=gb(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(t,e):n instanceof Bf?eB(n,e):n instanceof Hf?tB(n,e):function(i,s){const o=XU(i,s),a=nB(o)+nB(i.Ie);return U1(o)&&U1(i.Ie)?YU(a):QU(i.serializer,a)}(n,e)}function xY(n,e,t){return n instanceof Bf?eB(n,e):n instanceof Hf?tB(n,e):t}function XU(n,e){return n instanceof Om?U1(r=e)||(s=r)&&"doubleValue"in s?e:{integerValue:0}:null;var r,s}class Mm extends wb{}class Bf extends wb{constructor(e){super(),this.elements=e}}function eB(n,e){const t=rB(e);for(const r of n.elements)t.some(i=>ou(i,r))||t.push(r);return{arrayValue:{values:t}}}class Hf extends wb{constructor(e){super(),this.elements=e}}function tB(n,e){let t=rB(e);for(const r of n.elements)t=t.filter(i=>!ou(i,r));return{arrayValue:{values:t}}}class Om extends wb{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function nB(n){return Zr(n.integerValue||n.doubleValue)}function rB(n){return Zv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class rI{constructor(e,t){this.field=e,this.transform=t}}class PY{constructor(e,t){this.version=e,this.transformResults=t}}class kr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new kr}static exists(e){return new kr(void 0,e)}static updateTime(e){return new kr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bb(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Tb{}function iB(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new km(n.key,kr.none()):new Nm(n.key,n.data,kr.none());{const t=n.data,r=cs.empty();let i=new Kn(Tr.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);null===o&&s.length>1&&(s=s.popLast(),o=t.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new gc(n.key,r,new To(i.toArray()),kr.none())}}function MY(n,e,t){n instanceof Nm?function(i,s,o){const a=i.value.clone(),u=aB(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):n instanceof gc?function(i,s,o){if(!bb(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=aB(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(oB(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function iI(n,e,t,r){return n instanceof Nm?function(s,o,a,u){if(!bb(s.precondition,o))return a;const d=s.value.clone(),p=lB(s.fieldTransforms,u,o);return d.setAll(p),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(n,e,t,r):n instanceof gc?function(s,o,a,u){if(!bb(s.precondition,o))return a;const d=lB(s.fieldTransforms,u,o),p=o.data;return p.setAll(oB(s)),p.setAll(d),o.convertToFoundDocument(o.version,p).setHasLocalMutations(),null===a?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(y=>y.field))}(n,e,t,r):(a=t,bb(n.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a);var o,a}function OY(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=XU(r.transform,i||null);null!=s&&(null===t&&(t=cs.empty()),t.set(r.field,s))}return t||null}function sB(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=n.fieldTransforms)&&void 0===i||r&&i&&bm(r,i,(s,o)=>function RY(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(r=n.transform)instanceof Bf&&i instanceof Bf||r instanceof Hf&&i instanceof Hf?bm(r.elements,i.elements,ou):r instanceof Om&&i instanceof Om?ou(r.Ie,i.Ie):r instanceof Mm&&i instanceof Mm);var r,i}(s,o))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var r,i}class Nm extends Tb{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class gc extends Tb{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function oB(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function aB(n,e,t){const r=new Map;rt(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,xY(o,a,t[i]))}return r}function lB(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,DY(s,o,e))}return r}class km extends Tb{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class W1 extends Tb{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class K1{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&MY(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=iI(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=iI(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=ZU();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;const u=iB(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(st.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Zt())}isEqual(e){return this.batchId===e.batchId&&bm(this.mutations,e.mutations,(t,r)=>sB(t,r))&&bm(this.baseMutations,e.baseMutations,(t,r)=>sB(t,r))}}class Z1{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){rt(e.mutations.length===r.length);let i=CY;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Z1(e,t,r,i)}}class Q1{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class kY{constructor(e,t){this.count=e,this.unchangedNames=t}}var _i,In;function uB(n){switch(n){default:return qe();case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0}}function cB(n){if(void 0===n)return ii("GRPC error has no .code"),re.UNKNOWN;switch(n){case _i.OK:return re.OK;case _i.CANCELLED:return re.CANCELLED;case _i.UNKNOWN:return re.UNKNOWN;case _i.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case _i.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case _i.INTERNAL:return re.INTERNAL;case _i.UNAVAILABLE:return re.UNAVAILABLE;case _i.UNAUTHENTICATED:return re.UNAUTHENTICATED;case _i.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case _i.NOT_FOUND:return re.NOT_FOUND;case _i.ALREADY_EXISTS:return re.ALREADY_EXISTS;case _i.PERMISSION_DENIED:return re.PERMISSION_DENIED;case _i.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case _i.ABORTED:return re.ABORTED;case _i.OUT_OF_RANGE:return re.OUT_OF_RANGE;case _i.UNIMPLEMENTED:return re.UNIMPLEMENTED;case _i.DATA_LOSS:return re.DATA_LOSS;default:return qe()}}(In=_i||(_i={}))[In.OK=0]="OK",In[In.CANCELLED=1]="CANCELLED",In[In.UNKNOWN=2]="UNKNOWN",In[In.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",In[In.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",In[In.NOT_FOUND=5]="NOT_FOUND",In[In.ALREADY_EXISTS=6]="ALREADY_EXISTS",In[In.PERMISSION_DENIED=7]="PERMISSION_DENIED",In[In.UNAUTHENTICATED=16]="UNAUTHENTICATED",In[In.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",In[In.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",In[In.ABORTED=10]="ABORTED",In[In.OUT_OF_RANGE=11]="OUT_OF_RANGE",In[In.UNIMPLEMENTED=12]="UNIMPLEMENTED",In[In.INTERNAL=13]="INTERNAL",In[In.UNAVAILABLE=14]="UNAVAILABLE",In[In.DATA_LOSS=15]="DATA_LOSS";function dB(){return new TextEncoder}const LY=new Im([4294967295,4294967295],0);function hB(n){const e=dB().encode(n),t=new xQ;return t.update(e),new Uint8Array(t.digest())}function fB(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Im([t,r],0),new Im([i,s],0)]}class Y1{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new sI(`Invalid padding: ${t}`);if(r<0)throw new sI(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new sI(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new sI(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ee=Im.fromNumber(this.Te)}de(e,t,r){let i=e.add(t.multiply(Im.fromNumber(r)));return 1===i.compare(LY)&&(i=new Im([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=hB(e),[r,i]=fB(t);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Y1(s,i,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.Te)return;const t=hB(e),[r,i]=fB(t);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class sI extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class oI{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,aI.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new oI(st.min(),i,new hr(Nt),Co(),Zt())}}class aI{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new aI(r,t,Zt(),Zt(),Zt())}}class Sb{constructor(e,t,r,i){this.Ve=e,this.removedTargetIds=t,this.key=r,this.me=i}}class pB{constructor(e,t){this.targetId=e,this.fe=t}}class gB{constructor(e,t,r=Ai.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class mB{constructor(){this.ge=0,this.pe=yB(),this.ye=Ai.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Zt(),t=Zt(),r=Zt();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:qe()}}),new aI(this.ye,this.we,e,t,r)}Fe(){this.Se=!1,this.pe=yB()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class FY{constructor(e){this.Le=e,this.ke=new Map,this.qe=Co(),this.Qe=_B(),this.Ke=new hr(Nt)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,t=>{const r=this.ze(t);switch(e.state){case 0:this.je(t)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(t);break;case 3:this.je(t)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),r.Ce(e.resumeToken));break;default:qe()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach((r,i)=>{this.je(i)&&t(i)})}Je(e){const t=e.targetId,r=e.fe.count,i=this.Ye(t);if(i){const s=i.target;if(vb(s))if(0===r){const o=new Ne(s.path);this.We(t,o,Cr.newNoDocument(o,st.min()))}else rt(1===r);else{const o=this.Ze(t);if(o!==r){const a=this.Xe(e),u=a?this.et(a,e,o):1;0!==u&&(this.He(t),this.Ke=this.Ke.insert(t,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t;let o,a;try{o=hc(r).toUint8Array()}catch(u){if(u instanceof wU)return bo("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Y1(o,i,s)}catch(u){return bo(u instanceof sI?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return 0===a.Te?null:a}et(e,t,r){return t.fe.count===r-this.rt(e,t.targetId)?0:2}rt(e,t){const r=this.Le.getRemoteKeysForTarget(t);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(t,s,null),i++)}),i}it(e){const t=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&vb(a.target)){const u=new Ne(a.target.path);null!==this.qe.get(u)||this.st(o,u)||this.We(o,u,Cr.newNoDocument(u,e))}s.De&&(t.set(o,s.ve()),s.Fe())}});let r=Zt();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const d=this.Ye(u);return!d||"TargetPurposeLimboResolution"===d.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new oI(e,t,this.Ke,this.qe,r);return this.qe=Co(),this.Qe=_B(),this.Ke=new hr(Nt),i}Ue(e,t){if(!this.je(e))return;const r=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,r),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,t)?i.Me(t,1):i.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),r&&(this.qe=this.qe.insert(t,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new mB,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new Kn(Nt),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||be("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new mB),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function _B(){return new hr(Ne.comparator)}function yB(){return new hr(Ne.comparator)}const VY={asc:"ASCENDING",desc:"DESCENDING"},UY={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},BY={and:"AND",or:"OR"};class HY{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function J1(n,e){return n.useProto3Json||qv(e)?e:{value:e}}function Lm(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vB(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function $Y(n,e){return Lm(n,e.toTimestamp())}function si(n){return rt(!!n),st.fromTimestamp(function(t){const r=Md(t);return new Nr(r.seconds,r.nanos)}(n))}function X1(n,e){return(r=n,new vn(["projects",r.projectId,"databases",r.database])).child("documents").child(e).canonicalString();var r}function IB(n){const e=vn.fromString(n);return rt(xB(e)),e}function lI(n,e){return X1(n.databaseId,e.path)}function lu(n,e){const t=IB(e);if(t.get(1)!==n.databaseId.projectId)throw new ye(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ye(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ne(wB(t))}function ex(n,e){return X1(n.databaseId,e)}function EB(n){const e=IB(n);return 4===e.length?vn.emptyPath():wB(e)}function uI(n){return new vn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function wB(n){return rt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function bB(n,e,t){return{name:lI(n,e),fields:t.value.mapValue.fields}}function TB(n,e,t){const r=lu(n,e.name),i=si(e.updateTime),s=e.createTime?si(e.createTime):st.min(),o=new cs({mapValue:{fields:e.fields}}),a=Cr.newFoundDocument(r,i,s,o);return t&&a.setHasCommittedMutations(),t?a.setHasCommittedMutations():a}function cI(n,e){let t;if(e instanceof Nm)t={update:bB(n,e.key,e.value)};else if(e instanceof km)t={delete:lI(n,e.key)};else if(e instanceof gc)t={update:bB(n,e.key,e.data),updateMask:QY(e.fieldMask)};else{if(!(e instanceof W1))return qe();t={verify:lI(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Mm)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Bf)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Hf)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Om)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw qe()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:$Y(n,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:qe()),t;var s}function tx(n,e){const t=e.currentDocument?void 0!==(s=e.currentDocument).updateTime?kr.updateTime(si(s.updateTime)):void 0!==s.exists?kr.exists(s.exists):kr.none():kr.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,a){let u=null;"setToServerValue"in a?(rt("REQUEST_TIME"===a.setToServerValue),u=new Mm):"appendMissingElements"in a?u=new Bf(a.appendMissingElements.values||[]):"removeAllFromArray"in a?u=new Hf(a.removeAllFromArray.values||[]):"increment"in a?u=new Om(o,a.increment):qe();const d=Tr.fromServerFormat(a.fieldPath);return new rI(d,u)}(n,i)):[];var s;if(e.update){const i=lu(n,e.update.name),s=new cs({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=new To((e.updateMask.fieldPaths||[]).map(p=>Tr.fromServerFormat(p)));return new gc(i,s,o,t,r)}return new Nm(i,s,t,r)}if(e.delete){const i=lu(n,e.delete);return new km(i,t)}if(e.verify){const i=lu(n,e.verify);return new W1(i,t)}return qe()}function CB(n,e){return{documents:[ex(n,e.path)]}}function nx(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=ex(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=ex(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return DB(jn.create(u,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(d=>{return{field:Vd((y=d).field),direction:WY(y.dir)};var y})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const o=J1(n,e.limit);return null!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt={before:(u=e.startAt).inclusive,values:u.position}),e.endAt&&(t.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),t;var u}function SB(n){let e=EB(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){rt(1===r);const p=t.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let s=[];t.where&&(s=function(y){const I=AB(y);return I instanceof jn&&H1(I)?I.getFilters():[I]}(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(I=>{return new Yv(Fm((x=I).field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction));var x}));let a=null;t.limit&&(a=function(y){let I;return I="object"==typeof y?y.value:y,qv(I)?null:I}(t.limit));let u=null;var y;t.startAt&&(u=new Fd((y=t.startAt).values||[],!!y.before));let d=null;return t.endAt&&(d=function(y){return new Fd(y.values||[],!y.before)}(t.endAt)),HU(e,i,o,s,a,"F",u,d)}function AB(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Fm(t.unaryFilter.field);return fn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Fm(t.unaryFilter.field);return fn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Fm(t.unaryFilter.field);return fn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Fm(t.unaryFilter.field);return fn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return qe()}}(n):void 0!==n.fieldFilter?fn.create(Fm((t=n).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return qe()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return jn.create(t.compositeFilter.filters.map(r=>AB(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return qe()}}(t.compositeFilter.op))}(n):qe();var t}function WY(n){return VY[n]}function KY(n){return UY[n]}function ZY(n){return BY[n]}function Vd(n){return{fieldPath:n.canonicalString()}}function Fm(n){return Tr.fromServerFormat(n.fieldPath)}function DB(n){return n instanceof fn?function(t){if("=="===t.op){if(CU(t.value))return{unaryFilter:{field:Vd(t.field),op:"IS_NAN"}};if(TU(t.value))return{unaryFilter:{field:Vd(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(CU(t.value))return{unaryFilter:{field:Vd(t.field),op:"IS_NOT_NAN"}};if(TU(t.value))return{unaryFilter:{field:Vd(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vd(t.field),op:KY(t.op),value:t.value}}}(n):n instanceof jn?function(t){const r=t.getFilters().map(i=>DB(i));return 1===r.length?r[0]:{compositeFilter:{op:ZY(t.op),filters:r}}}(n):qe()}function QY(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function xB(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class mc{constructor(e,t,r,i,s=st.min(),o=st.min(),a=Ai.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new mc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new mc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new mc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new mc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class RB{constructor(e){this.ut=e}}function PB(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Ab(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:lI(s=n.ut,(o=e).key),fields:o.data.value.mapValue.fields,updateTime:Lm(s,o.version.toTimestamp()),createTime:Lm(s,o.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:$f(e.version)};else{if(!e.isUnknownDocument())return qe();r.unknownDocument={path:t.path.toArray(),version:$f(e.version)}}var s,o;return r}function Ab(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function $f(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function jf(n){const e=new Nr(n.seconds,n.nanoseconds);return st.fromTimestamp(e)}function zf(n,e){const t=(e.baseMutations||[]).map(s=>tx(n.ut,s));for(let s=0;s<e.mutations.length-1;++s)s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform&&(e.mutations[s].updateTransforms=e.mutations[s+1].transform.fieldTransforms,e.mutations.splice(s+1,1),++s);const r=e.mutations.map(s=>tx(n.ut,s)),i=Nr.fromMillis(e.localWriteTimeMs);return new K1(e.batchId,i,t,r)}function dI(n){const e=jf(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?jf(n.lastLimboFreeSnapshotVersion):st.min();let r;return r=void 0!==n.query.documents?(rt(1===(s=n.query).documents.length),Xs(xm(EB(s.documents[0])))):function(s){return Xs(SB(s))}(n.query),new mc(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Ai.fromBase64String(n.resumeToken));var s}function MB(n,e){const t=$f(e.snapshotVersion),r=$f(e.lastLimboFreeSnapshotVersion);let i;i=vb(e.target)?CB(n.ut,e.target):nx(n.ut,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Uf(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function rx(n){const e=SB({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Eb(e,e.limit,"L"):e}function ix(n,e){return new Q1(e.largestBatchId,tx(n.ut,e.overlayMutation))}function OB(n,e){const t=e.path.lastSegment();return[n,Ds(e.path.popLast()),t]}function NB(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:$f(r.readTime),documentKey:Ds(r.documentKey.path),largestBatchId:r.largestBatchId}}class JY{getBundleMetadata(e,t){return kB(e).get(t).next(r=>{if(r)return{id:(s=r).bundleId,createTime:jf(s.createTime),version:s.version};var s})}saveBundleMetadata(e,t){return kB(e).put({bundleId:(i=t).id,createTime:$f(si(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return LB(e).get(t).next(r=>{if(r)return{name:(s=r).name,query:rx(s.bundledQuery),readTime:jf(s.readTime)};var s})}saveNamedQuery(e,t){return LB(e).put({name:(i=t).name,readTime:$f(si(i.readTime)),bundledQuery:i.bundledQuery});var i}}function kB(n){return Ki(n,"bundles")}function LB(n){return Ki(n,"namedQueries")}class Db{constructor(e,t){this.serializer=e,this.userId=t}static ct(e,t){return new Db(e,t.uid||"")}getOverlay(e,t){return hI(e).get(OB(this.userId,t)).next(r=>r?ix(this.serializer,r):null)}getOverlays(e,t){const r=au();return Q.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((s,o)=>{const a=new Q1(t,o);i.push(this.lt(e,a))}),Q.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(o=>i.add(Ds(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(hI(e).H("collectionPathOverlayIndex",a))}),Q.waitFor(s)}getOverlaysForCollection(e,t,r){const i=au(),s=Ds(t),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return hI(e).W("collectionPathOverlayIndex",o).next(a=>{for(const u of a){const d=ix(this.serializer,u);i.set(d.getKey(),d)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const s=au();let o;const a=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return hI(e).Y({index:"collectionGroupOverlayIndex",range:a},(u,d,p)=>{const y=ix(this.serializer,d);s.size()<i||y.largestBatchId===o?(s.set(y.getKey(),y),o=y.largestBatchId):p.done()}).next(()=>s)}lt(e,t){return hI(e).put(function(i,s,o){const[a,u,d]=OB(s,o.mutation.key);return{userId:s,collectionPath:u,documentId:d,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:cI(i.ut,o.mutation)}}(this.serializer,this.userId,t))}}function hI(n){return Ki(n,"documentOverlays")}class qf{constructor(){}ht(e,t){this.Pt(e,t),t.It()}Pt(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et(Zr(e.integerValue));else if("doubleValue"in e){const r=Zr(e.doubleValue);isNaN(r)?this.Tt(t,13):(this.Tt(t,15),Gv(r)?t.Et(0):t.Et(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Tt(t,20),"string"==typeof r?t.dt(r):(t.dt(`${r.seconds||""}`),t.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(hc(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Tt(t,45),t.Et(r.latitude||0),t.Et(r.longitude||0)}else"mapValue"in e?SU(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):qe()}At(e,t){this.Tt(t,25),this.wt(e,t)}wt(e,t){t.dt(e)}gt(e,t){const r=e.fields||{};this.Tt(t,55);for(const i of Object.keys(r))this.At(i,t),this.Pt(r[i],t)}yt(e,t){const r=e.values||[];this.Tt(t,50);for(const i of r)this.Pt(i,t)}ft(e,t){this.Tt(t,37),Ne.fromName(e).path.forEach(r=>{this.Tt(t,60),this.wt(r,t)})}Tt(e,t){e.Et(t)}Rt(e){e.Et(2)}}function XY(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function FB(n){const e=64-function(r){let i=0;for(let s=0;s<8;++s){const o=XY(255&r[s]);if(i+=o,8!==o)break}return i}(n);return Math.ceil(e/8)}qf.St=new qf;class eJ{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Dt(r.value),r=t.next();this.Ct()}vt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ft(r.value),r=t.next();this.Mt()}xt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Dt(r);else if(r<2048)this.Dt(960|r>>>6),this.Dt(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Dt(480|r>>>12),this.Dt(128|63&r>>>6),this.Dt(128|63&r);else{const i=t.codePointAt(0);this.Dt(240|i>>>18),this.Dt(128|63&i>>>12),this.Dt(128|63&i>>>6),this.Dt(128|63&i)}}this.Ct()}Ot(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{const i=t.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Nt(e){const t=this.Bt(e),r=FB(t);this.Lt(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}kt(e){const t=this.Bt(e),r=FB(t);this.Lt(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Bt(e){const t=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Dt(e){const t=255&e;0===t?(this.Qt(0),this.Qt(255)):255===t?(this.Qt(255),this.Qt(0)):this.Qt(t)}Ft(e){const t=255&e;0===t?(this.$t(0),this.$t(255)):255===t?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Lt(1),this.buffer[this.position++]=e}$t(e){this.Lt(1),this.buffer[this.position++]=~e}Lt(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class tJ{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class nJ{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class fI{constructor(){this.Wt=new eJ,this.Gt=new tJ(this.Wt),this.zt=new nJ(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return 0===e?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class Gf{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Ht(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Gf(this.indexId,this.documentKey,this.arrayValue,r)}}function Ud(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=VB(n.arrayValue,e.arrayValue),0!==t?t:(t=VB(n.directionalValue,e.directionalValue),0!==t?t:Ne.comparator(n.documentKey,e.documentKey)))}function VB(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class UB{constructor(e){this.Jt=new Kn((t,r)=>Tr.comparator(t.field,r.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const t of e.filters){const r=t;r.isInequality()?this.Jt=this.Jt.add(r):this.Zt.push(r)}}get Xt(){return this.Jt.size>1}en(e){if(rt(e.collectionGroup===this.collectionId),this.Xt)return!1;const t=O1(e);if(void 0!==t&&!this.tn(t))return!1;const r=kf(e);let i=new Set,s=0,o=0;for(;s<r.length&&this.tn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.Jt.size>0){const a=this.Jt.getIterator().getNext();if(!i.has(a.field.canonicalString())){const u=r[s];if(!this.nn(a,u)||!this.rn(this.Yt[o++],u))return!1}++s}for(;s<r.length;++s)if(o>=this.Yt.length||!this.rn(this.Yt[o++],r[s]))return!1;return!0}sn(){if(this.Xt)return null;let e=new Kn(Tr.comparator);const t=[];for(const r of this.Zt)if(!r.field.isKeyField())if("array-contains"===r.op||"array-contains-any"===r.op)t.push(new Lf(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new Lf(r.field,0))}for(const r of this.Yt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new Lf(r.field,"asc"===r.dir?0:1)));return new Tm(Tm.UNKNOWN_ID,this.collectionId,t,Cm.empty())}tn(e){for(const t of this.Zt)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}rn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function BB(n){var e,t;if(rt(n instanceof fn||n instanceof jn),n instanceof fn){if(n instanceof VU){const i=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(s=>fn.create(n.field,"==",s)))||[];return jn.create(i,"or")}return n}const r=n.filters.map(i=>BB(i));return jn.create(r,n.op)}function rJ(n){if(0===n.getFilters().length)return[];const e=ax(BB(n));return rt(HB(e)),sx(e)||ox(e)?[e]:e.getFilters()}function sx(n){return n instanceof fn}function ox(n){return n instanceof jn&&H1(n)}function HB(n){return sx(n)||ox(n)||function(t){if(t instanceof jn&&B1(t)){for(const r of t.getFilters())if(!sx(r)&&!ox(r))return!1;return!0}return!1}(n)}function ax(n){if(rt(n instanceof fn||n instanceof jn),n instanceof fn)return n;if(1===n.filters.length)return ax(n.filters[0]);const e=n.filters.map(r=>ax(r));let t=jn.create(e,n.op);return t=xb(t),HB(t)?t:(rt(t instanceof jn),rt(Dm(t)),rt(t.filters.length>1),t.filters.reduce((r,i)=>lx(r,i)))}function lx(n,e){let t;return rt(n instanceof fn||n instanceof jn),rt(e instanceof fn||e instanceof jn),t=n instanceof fn?e instanceof fn?jn.create([n,e],"and"):$B(n,e):e instanceof fn?$B(e,n):function(i,s){if(rt(i.filters.length>0&&s.filters.length>0),Dm(i)&&Dm(s))return kU(i,s.getFilters());const o=B1(i)?i:s,a=B1(i)?s:i,u=o.filters.map(d=>lx(d,a));return jn.create(u,"or")}(n,e),xb(t)}function $B(n,e){if(Dm(e))return kU(e,n.getFilters());{const t=e.filters.map(r=>lx(n,r));return jn.create(t,"or")}}function xb(n){if(rt(n instanceof fn||n instanceof jn),n instanceof fn)return n;const e=n.getFilters();if(1===e.length)return xb(e[0]);if(OU(n))return n;const t=e.map(i=>xb(i)),r=[];return t.forEach(i=>{i instanceof fn?r.push(i):i instanceof jn&&(i.op===n.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:jn.create(r,n.op)}class iJ{constructor(){this.on=new ux}addToCollectionParentIndex(e,t){return this.on.add(t),Q.resolve()}getCollectionParents(e,t){return Q.resolve(this.on.getEntries(t))}addFieldIndex(e,t){return Q.resolve()}deleteFieldIndex(e,t){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,t){return Q.resolve()}getDocumentsMatchingTarget(e,t){return Q.resolve(null)}getIndexType(e,t){return Q.resolve(0)}getFieldIndexes(e,t){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,t){return Q.resolve(ta.min())}getMinOffsetFromCollectionGroup(e,t){return Q.resolve(ta.min())}updateCollectionGroup(e,t,r){return Q.resolve()}updateIndexEntries(e,t){return Q.resolve()}}class ux{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Kn(vn.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Kn(vn.comparator)).toArray()}}const Rb=new Uint8Array(0);class sJ{constructor(e,t){this.user=e,this.databaseId=t,this._n=new ux,this.an=new pc(r=>Uf(r),(r,i)=>Jv(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this._n.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this._n.add(t)});const s={collectionId:r,parent:Ds(i)};return jB(e).put(s)}return Q.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[oU(t),""],!1,!0);return jB(e).W(i).next(s=>{for(const o of s){if(o.collectionId!==t)break;r.push(su(o.parent))}return r})}addFieldIndex(e,t){const r=pI(e),i={indexId:(a=t).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(u=>[u.fieldPath.canonicalString(),u.kind])};var a;delete i.indexId;const s=r.add(i);if(t.indexState){const o=Um(e);return s.next(a=>{o.put(NB(a,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return s.next()}deleteFieldIndex(e,t){const r=pI(e),i=Um(e),s=Vm(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=pI(e),r=Vm(e),i=Um(e);return t.H().next(()=>r.H()).next(()=>i.H())}createTargetIndexes(e,t){return Q.forEach(this.un(t),r=>this.getIndexType(e,r).next(i=>{if(0===i||1===i){const s=new UB(r).sn();if(null!=s)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,t){const r=Vm(e);let i=!0;const s=new Map;return Q.forEach(this.un(t),o=>this.cn(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=Zt();const a=[];return Q.forEach(s,(u,d)=>{var J;be("IndexedDbIndexManager",`Using index ${J=u,`id=${J.indexId}|cg=${J.collectionGroup}|f=${J.fields.map(ue=>`${ue.fieldPath}:${ue.kind}`).join(",")}`} to execute ${Uf(t)}`);const p=function(J,ue){const Ce=O1(ue);if(void 0===Ce)return null;for(const Xe of Ib(J,Ce.fieldPath))switch(Xe.op){case"array-contains-any":return Xe.value.arrayValue.values||[];case"array-contains":return[Xe.value]}return null}(d,u),y=function(J,ue){const Ce=new Map;for(const Xe of kf(ue))for(const Rt of Ib(J,Xe.fieldPath))switch(Rt.op){case"==":case"in":Ce.set(Xe.fieldPath.canonicalString(),Rt.value);break;case"not-in":case"!=":return Ce.set(Xe.fieldPath.canonicalString(),Rt.value),Array.from(Ce.values())}return null}(d,u),I=function(J,ue){const Ce=[];let Xe=!0;for(const Rt of kf(ue)){const Zn=0===Rt.kind?UU(J,Rt.fieldPath,J.startAt):BU(J,Rt.fieldPath,J.startAt);Ce.push(Zn.value),Xe&&(Xe=Zn.inclusive)}return new Fd(Ce,Xe)}(d,u),w=function(J,ue){const Ce=[];let Xe=!0;for(const Rt of kf(ue)){const Zn=0===Rt.kind?BU(J,Rt.fieldPath,J.endAt):UU(J,Rt.fieldPath,J.endAt);Ce.push(Zn.value),Xe&&(Xe=Zn.inclusive)}return new Fd(Ce,Xe)}(d,u),x=this.ln(u,d,I),M=this.ln(u,d,w),L=this.hn(u,d,y),G=this.Pn(u.indexId,p,x,I.inclusive,M,w.inclusive,L);return Q.forEach(G,$=>r.j($,t.limit).next(J=>{J.forEach(ue=>{const Ce=Ne.fromSegments(ue.documentKey);o.has(Ce)||(o=o.add(Ce),a.push(Ce))})}))}).next(()=>a)}return Q.resolve(null)})}un(e){let t=this.an.get(e);return t||(t=0===e.filters.length?[e]:rJ(jn.create(e.filters,"and")).map(r=>j1(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.an.set(e,t),t)}Pn(e,t,r,i,s,o,a){const u=(null!=t?t.length:1)*Math.max(r.length,s.length),d=u/(null!=t?t.length:1),p=[];for(let y=0;y<u;++y){const I=t?this.In(t[y/d]):Rb,w=this.Tn(e,I,r[y%d],i),x=this.En(e,I,s[y%d],o),M=a.map(L=>this.Tn(e,I,L,!0));p.push(...this.createRange(w,x,M))}return p}Tn(e,t,r,i){const s=new Gf(e,Ne.empty(),t,r);return i?s:s.Ht()}En(e,t,r,i){const s=new Gf(e,Ne.empty(),t,r);return i?s.Ht():s}cn(e,t){const r=new UB(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const a of s)r.en(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,t){let r=2;const i=this.un(t);return Q.forEach(i,s=>this.cn(e,s).next(o=>{o?0!==r&&o.fields.length<function(u){let d=new Kn(Tr.comparator),p=!1;for(const y of u.filters)for(const I of y.getFlattenedFilters())I.field.isKeyField()||("array-contains"===I.op||"array-contains-any"===I.op?p=!0:d=d.add(I.field));for(const y of u.orderBy)y.field.isKeyField()||(d=d.add(y.field));return d.size+(p?1:0)}(s)&&(r=1):r=0})).next(()=>null!==t.limit&&i.length>1&&2===r?1:r)}dn(e,t){const r=new fI;for(const i of kf(e)){const s=t.data.field(i.fieldPath);if(null==s)return null;const o=r.jt(i.kind);qf.St.ht(s,o)}return r.Ut()}In(e){const t=new fI;return qf.St.ht(e,t.jt(0)),t.Ut()}An(e,t){const r=new fI;return qf.St.ht(Vf(this.databaseId,t),r.jt(function(s){const o=kf(s);return 0===o.length?0:o[o.length-1].kind}(e))),r.Ut()}hn(e,t,r){if(null===r)return[];let i=[];i.push(new fI);let s=0;for(const o of kf(e)){const a=r[s++];for(const u of i)if(this.Rn(t,o.fieldPath)&&Zv(a))i=this.Vn(i,o,a);else{const d=u.jt(o.kind);qf.St.ht(a,d)}}return this.mn(i)}ln(e,t,r){return this.hn(e,t,r.position)}mn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Ut();return t}Vn(e,t,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const u=new fI;u.seed(a.Ut()),qf.St.ht(o,u.jt(t.kind)),s.push(u)}return s}Rn(e,t){return!!e.filters.find(r=>r instanceof fn&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=pI(e),i=Um(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(s=>{const o=[];return Q.forEach(s,a=>i.get([a.indexId,this.uid]).next(u=>{o.push(function(p,y){const I=y?new Cm(y.sequenceNumber,new ta(jf(y.readTime),new Ne(su(y.documentKey)),y.largestBatchId)):Cm.empty(),w=p.fields.map(([x,M])=>new Lf(Tr.fromServerFormat(x),M));return new Tm(p.indexId,p.collectionGroup,w,I)}(a,u))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==s?s:Nt(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=pI(e),s=Um(e);return this.fn(e).next(o=>i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(a=>Q.forEach(a,u=>s.put(NB(u.indexId,this.user,o,r)))))}updateIndexEntries(e,t){const r=new Map;return Q.forEach(t,(i,s)=>{const o=r.get(i.collectionGroup);return(o?Q.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),Q.forEach(a,u=>this.gn(e,i,u).next(d=>{const p=this.pn(s,u);return d.isEqual(p)?Q.resolve():this.yn(e,s,u,d,p)}))))})}wn(e,t,r,i){return Vm(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.An(r,t.key),documentKey:t.key.path.toArray()})}Sn(e,t,r,i){return Vm(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.An(r,t.key),t.key.path.toArray()])}gn(e,t,r){const i=Vm(e);let s=new Kn(Ud);return i.Y({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.An(r,t)])},(o,a)=>{s=s.add(new Gf(r.indexId,t,a.arrayValue,a.directionalValue))}).next(()=>s)}pn(e,t){let r=new Kn(Ud);const i=this.dn(t,e);if(null==i)return r;const s=O1(t);if(null!=s){const o=e.data.field(s.fieldPath);if(Zv(o))for(const a of o.arrayValue.values||[])r=r.add(new Gf(t.indexId,e.key,this.In(a),i))}else r=r.add(new Gf(t.indexId,e.key,Rb,i));return r}yn(e,t,r,i,s){be("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const o=[];return function(u,d,p,y,I){const w=u.getIterator(),x=d.getIterator();let M=Sm(w),L=Sm(x);for(;M||L;){let G=!1,$=!1;if(M&&L){const J=p(M,L);J<0?$=!0:J>0&&(G=!0)}else null!=M?$=!0:G=!0;G?(y(L),L=Sm(x)):$?(I(M),M=Sm(w)):(M=Sm(w),L=Sm(x))}}(i,s,Ud,a=>{o.push(this.wn(e,t,r,a))},a=>{o.push(this.Sn(e,t,r,a))}),Q.waitFor(o)}fn(e){let t=1;return Um(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((o,a)=>Ud(o,a)).filter((o,a,u)=>!a||0!==Ud(o,u[a-1]));const i=[];i.push(e);for(const o of r){const a=Ud(o,e),u=Ud(o,t);if(0===a)i[0]=e.Ht();else if(a>0&&u<0)i.push(o),i.push(o.Ht());else if(u>0)break}i.push(t);const s=[];for(let o=0;o<i.length;o+=2){if(this.bn(i[o],i[o+1]))return[];s.push(IDBKeyRange.bound([i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,Rb,[]],[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,Rb,[]]))}return s}bn(e,t){return Ud(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(zB)}getMinOffset(e,t){return Q.mapArray(this.un(t),r=>this.cn(e,r).next(i=>i||qe())).next(zB)}}function jB(n){return Ki(n,"collectionParents")}function Vm(n){return Ki(n,"indexEntries")}function pI(n){return Ki(n,"indexConfiguration")}function Um(n){return Ki(n,"indexState")}function zB(n){rt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;N1(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new ta(e.readTime,e.documentKey,t)}const qB={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class xs{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new xs(e,xs.DEFAULT_COLLECTION_PERCENTILE,xs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function GB(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),s=[],o=IDBKeyRange.only(t.batchId);let a=0;const u=r.Y({range:o},(p,y,I)=>(a++,I.delete()));s.push(u.next(()=>{rt(1===a)}));const d=[];for(const p of t.mutations){const y=gU(e,p.key.path,t.batchId);s.push(i.delete(y)),d.push(p.key)}return Q.waitFor(s).next(()=>d)}function Pb(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw qe();e=n.noDocument}return JSON.stringify(e).length}xs.DEFAULT_COLLECTION_PERCENTILE=10,xs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xs.DEFAULT=new xs(41943040,xs.DEFAULT_COLLECTION_PERCENTILE,xs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xs.DISABLED=new xs(-1,0,0);class Mb{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Dn={}}static ct(e,t,r,i){rt(""!==e.uid);const s=e.isAuthenticated()?e.uid:"";return new Mb(s,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Bd(e).Y({index:"userMutationsIndex",range:r},(i,s,o)=>{t=!1,o.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const s=Bm(e),o=Bd(e);return o.add({}).next(a=>{rt("number"==typeof a);const u=new K1(a,t,r,i),d=function(w,x,M){const L=M.baseMutations.map($=>cI(w.ut,$)),G=M.mutations.map($=>cI(w.ut,$));return{userId:x,batchId:M.batchId,localWriteTimeMs:M.localWriteTime.toMillis(),baseMutations:L,mutations:G}}(this.serializer,this.userId,u),p=[];let y=new Kn((I,w)=>Nt(I.canonicalString(),w.canonicalString()));for(const I of i){const w=gU(this.userId,I.key.path,a);y=y.add(I.key.path.popLast()),p.push(o.put(d)),p.push(s.put(w,WQ))}return y.forEach(I=>{p.push(this.indexManager.addToCollectionParentIndex(e,I))}),e.addOnCommittedListener(()=>{this.Dn[a]=u.keys()}),Q.waitFor(p).next(()=>u)})}lookupMutationBatch(e,t){return Bd(e).get(t).next(r=>r?(rt(r.userId===this.userId),zf(this.serializer,r)):null)}Cn(e,t){return this.Dn[t]?Q.resolve(this.Dn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.Dn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return Bd(e).Y({index:"userMutationsIndex",range:i},(o,a,u)=>{a.userId===this.userId&&(rt(a.batchId>=r),s=zf(this.serializer,a)),u.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Bd(e).Y({index:"userMutationsIndex",range:t,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Bd(e).W("userMutationsIndex",t).next(r=>r.map(i=>zf(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=hb(this.userId,t.path),i=IDBKeyRange.lowerBound(r),s=[];return Bm(e).Y({range:i},(o,a,u)=>{const[d,p,y]=o,I=su(p);if(d===this.userId&&t.path.isEqual(I))return Bd(e).get(y).next(w=>{if(!w)throw qe();rt(w.userId===this.userId),s.push(zf(this.serializer,w))});u.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Kn(Nt);const i=[];return t.forEach(s=>{const o=hb(this.userId,s.path),a=IDBKeyRange.lowerBound(o),u=Bm(e).Y({range:a},(d,p,y)=>{const[I,w,x]=d,M=su(w);I===this.userId&&s.path.isEqual(M)?r=r.add(x):y.done()});i.push(u)}),Q.waitFor(i).next(()=>this.vn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,s=hb(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new Kn(Nt);return Bm(e).Y({range:o},(u,d,p)=>{const[y,I,w]=u,x=su(I);y===this.userId&&r.isPrefixOf(x)?x.length===i&&(a=a.add(w)):p.done()}).next(()=>this.vn(e,a))}vn(e,t){const r=[],i=[];return t.forEach(s=>{i.push(Bd(e).get(s).next(o=>{if(null===o)throw qe();rt(o.userId===this.userId),r.push(zf(this.serializer,o))}))}),Q.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return GB(e.ae,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Fn(t.batchId)}),Q.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Q.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return Bm(e).Y({range:r},(s,o,a)=>{if(s[0]===this.userId){const u=su(s[1]);i.push(u)}else a.done()}).next(()=>{rt(0===i.length)})})}containsKey(e,t){return WB(e,this.userId,t)}Mn(e){return KB(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function WB(n,e,t){const r=hb(e,t.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return Bm(n).Y({range:s,J:!0},(a,u,d)=>{const[p,y,I]=a;p===e&&y===i&&(o=!0),d.done()}).next(()=>o)}function Bd(n){return Ki(n,"mutations")}function Bm(n){return Ki(n,"documentMutations")}function KB(n){return Ki(n,"mutationQueues")}class Wf{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Wf(0)}static Nn(){return new Wf(-1)}}class oJ{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Bn(e).next(t=>{const r=new Wf(t.highestTargetId);return t.highestTargetId=r.next(),this.Ln(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(t=>st.fromTimestamp(new Nr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Bn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Ln(e,i)))}addTargetData(e,t){return this.kn(e,t).next(()=>this.Bn(e).next(r=>(r.targetCount+=1,this.qn(t,r),this.Ln(e,r))))}updateTargetData(e,t){return this.kn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Hm(e).delete(t.targetId)).next(()=>this.Bn(e)).next(r=>(rt(r.targetCount>0),r.targetCount-=1,this.Ln(e,r)))}removeTargets(e,t,r){let i=0;const s=[];return Hm(e).Y((o,a)=>{const u=dI(a);u.sequenceNumber<=t&&null===r.get(u.targetId)&&(i++,s.push(this.removeTargetData(e,u)))}).next(()=>Q.waitFor(s)).next(()=>i)}forEachTarget(e,t){return Hm(e).Y((r,i)=>{const s=dI(i);t(s)})}Bn(e){return ZB(e).get("targetGlobalKey").next(t=>(rt(null!==t),t))}Ln(e,t){return ZB(e).put("targetGlobalKey",t)}kn(e,t){return Hm(e).put(MB(this.serializer,t))}qn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Bn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Uf(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return Hm(e).Y({range:i,index:"queryTargetsIndex"},(o,a,u)=>{const d=dI(a);Jv(t,d.target)&&(s=d,u.done())}).next(()=>s)}addMatchingKeys(e,t,r){const i=[],s=Hd(e);return t.forEach(o=>{const a=Ds(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),Q.waitFor(i)}removeMatchingKeys(e,t,r){const i=Hd(e);return Q.forEach(t,s=>{const o=Ds(s.path);return Q.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,t){const r=Hd(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Hd(e);let s=Zt();return i.Y({range:r,J:!0},(o,a,u)=>{const d=su(o[1]),p=new Ne(d);s=s.add(p)}).next(()=>s)}containsKey(e,t){const r=Ds(t.path),i=IDBKeyRange.bound([r],[oU(r)],!1,!0);let s=0;return Hd(e).Y({index:"documentTargetsIndex",J:!0,range:i},([o,a],u,d)=>{0!==o&&(s++,d.done())}).next(()=>s>0)}_t(e,t){return Hm(e).get(t).next(r=>r?dI(r):null)}}function Hm(n){return Ki(n,"targets")}function ZB(n){return Ki(n,"targetGlobal")}function Hd(n){return Ki(n,"targetDocuments")}function QB([n,e],[t,r]){const i=Nt(n,t);return 0===i?Nt(e,r):i}class aJ{constructor(e){this.Qn=e,this.buffer=new Kn(QB),this.Kn=0}$n(){return++this.Kn}Un(e){const t=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();QB(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class YB{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(e){var t=this;be("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ce.Z)(function*(){t.Wn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Rd(r)?be("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield xd(r)}yield t.Gn(3e5)}))}}class lJ{constructor(e,t){this.zn=e,this.params=t}calculateTargetCount(e,t){return this.zn.jn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return Q.resolve(na._e);const r=new aJ(t);return this.zn.forEachTarget(e,i=>r.Un(i.sequenceNumber)).next(()=>this.zn.Hn(e,i=>r.Un(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.zn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.zn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(be("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(qB)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(be("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qB):this.Jn(e,t))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,t){let r,i,s,o,a,u,d;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(be("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),i=this.params.maximumSequenceNumbersToCollect):i=y,o=Date.now(),this.nthSequenceNumber(e,i))).next(y=>(r=y,a=Date.now(),this.removeTargets(e,r,t))).next(y=>(s=y,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(y=>(d=Date.now(),wm()<=tu.in.DEBUG&&be("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${o-p}ms\n\tDetermined least recently used ${i} in `+(a-o)+`ms\n\tRemoved ${s} targets in `+(u-a)+`ms\n\tRemoved ${y} documents in `+(d-u)+`ms\nTotal Duration: ${d-p}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:y})))}}class uJ{constructor(e,t){this.db=e,this.garbageCollector=function JB(n,e){return new lJ(n,e)}(this,t)}jn(e){const t=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Yn(e){let t=0;return this.Hn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Hn(e,t){return this.Zn(e,(r,i)=>t(i))}addReference(e,t,r){return Ob(e,r)}removeReference(e,t,r){return Ob(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Ob(e,t)}Xn(e,t){return function(i,s){let o=!1;return KB(i).Z(a=>WB(i,a,s).next(u=>(u&&(o=!0),Q.resolve(!u)))).next(()=>o)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Zn(e,(o,a)=>{if(a<=t){const u=this.Xn(e,o).next(d=>{if(!d)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,st.min()),Hd(e).delete([0,Ds(o.path)])))});i.push(u)}}).next(()=>Q.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Ob(e,t)}Zn(e,t){const r=Hd(e);let i,s=na._e;return r.Y({index:"documentTargetsIndex"},([o,a],{path:u,sequenceNumber:d})=>{0===o?(s!==na._e&&t(new Ne(su(i)),s),s=d,i=u):s=na._e}).next(()=>{s!==na._e&&t(new Ne(su(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Ob(n,e){return Hd(n).put((i=n.currentSequenceNumber,{targetId:0,path:Ds(e.path),sequenceNumber:i}));var i}class XB{constructor(){this.changes=new pc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Cr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?Q.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class cJ{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Kf(e).put(r)}removeEntry(e,t,r){return Kf(e).delete(function(s,o){const a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],Ab(o),a[a.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.er(e,r)))}getEntry(e,t){let r=Cr.newInvalidDocument(t);return Kf(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(gI(t))},(i,s)=>{r=this.tr(t,s)}).next(()=>r)}nr(e,t){let r={size:0,document:Cr.newInvalidDocument(t)};return Kf(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(gI(t))},(i,s)=>{r={document:this.tr(t,s),size:Pb(s)}}).next(()=>r)}getEntries(e,t){let r=Co();return this.rr(e,t,(i,s)=>{const o=this.tr(i,s);r=r.insert(i,o)}).next(()=>r)}ir(e,t){let r=Co(),i=new hr(Ne.comparator);return this.rr(e,t,(s,o)=>{const a=this.tr(s,o);r=r.insert(s,a),i=i.insert(s,Pb(o))}).next(()=>({documents:r,sr:i}))}rr(e,t,r){if(t.isEmpty())return Q.resolve();let i=new Kn(r3);t.forEach(u=>i=i.add(u));const s=IDBKeyRange.bound(gI(i.first()),gI(i.last())),o=i.getIterator();let a=o.getNext();return Kf(e).Y({index:"documentKeyIndex",range:s},(u,d,p)=>{const y=Ne.fromSegments([...d.prefixPath,d.collectionGroup,d.documentId]);for(;a&&r3(a,y)<0;)r(a,null),a=o.getNext();a&&a.isEqual(y)&&(r(a,d),a=o.hasNext()?o.getNext():null),a?p.U(gI(a)):p.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,t,r,i,s){const o=t.path,a=[o.popLast().toArray(),o.lastSegment(),Ab(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Kf(e).W(IDBKeyRange.bound(a,u,!0)).next(d=>{s?.incrementDocumentReadCount(d.length);let p=Co();for(const y of d){const I=this.tr(Ne.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);I.isFoundDocument()&&(eI(t,I)||i.has(I.key))&&(p=p.insert(I.key,I))}return p})}getAllFromCollectionGroup(e,t,r,i){let s=Co();const o=n3(t,r),a=n3(t,ta.max());return Kf(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(u,d,p)=>{const y=this.tr(Ne.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);s=s.insert(y.key,y),s.size===i&&p.done()}).next(()=>s)}newChangeBuffer(e){return new dJ(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return t3(e).get("remoteDocumentGlobalKey").next(t=>(rt(!!t),t))}er(e,t){return t3(e).put("remoteDocumentGlobalKey",t)}tr(e,t){if(t){const r=function YY(n,e){let t;if(e.document)t=TB(n.ut,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Ne.fromSegments(e.noDocument.path),i=jf(e.noDocument.readTime);t=Cr.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return qe();{const r=Ne.fromSegments(e.unknownDocument.path),i=jf(e.unknownDocument.version);t=Cr.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(i){const s=new Nr(i[0],i[1]);return st.fromTimestamp(s)}(e.readTime)),t}(this.serializer,t);if(!r.isNoDocument()||!r.version.isEqual(st.min()))return r}return Cr.newInvalidDocument(e)}}function e3(n){return new cJ(n)}class dJ extends XB{constructor(e,t){super(),this._r=e,this.trackRemovals=t,this.ar=new pc(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new Kn((s,o)=>Nt(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.ar.get(s);if(t.push(this._r.removeEntry(e,s,a.readTime)),o.isValidDocument()){const u=PB(this._r.serializer,o);i=i.add(s.path.popLast());const d=Pb(u);r+=d-a.size,t.push(this._r.addEntry(e,s,u))}else if(r-=a.size,this.trackRemovals){const u=PB(this._r.serializer,o.convertToNoDocument(st.min()));t.push(this._r.addEntry(e,s,u))}}),i.forEach(s=>{t.push(this._r.indexManager.addToCollectionParentIndex(e,s))}),t.push(this._r.updateMetadata(e,r)),Q.waitFor(t)}getFromCache(e,t){return this._r.nr(e,t).next(r=>(this.ar.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this._r.ir(e,t).next(({documents:r,sr:i})=>(i.forEach((s,o)=>{this.ar.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function t3(n){return Ki(n,"remoteDocumentGlobal")}function Kf(n){return Ki(n,"remoteDocumentsV14")}function gI(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function n3(n,e){const t=e.documentKey.path.toArray();return[n,Ab(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function r3(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<t.length-2&&s<r.length-2;++s)if(i=Nt(t[s],r[s]),i)return i;return i=Nt(t.length,r.length),i||(i=Nt(t[t.length-2],r[r.length-2]),i||Nt(t[t.length-1],r[r.length-1]))}class hJ{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class s3{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&iI(r.mutation,i,To.empty(),Nr.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Zt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Zt()){const i=au();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=tI();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=au();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Zt()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=Co();const o=nI(),a=nI();return t.forEach((u,d)=>{const p=r.get(d.key);i.has(d.key)&&(void 0===p||p.mutation instanceof gc)?s=s.insert(d.key,d):void 0!==p?(o.set(d.key,p.mutation.getFieldMask()),iI(p.mutation,d,p.mutation.getFieldMask(),Nr.now())):o.set(d.key,To.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((d,p)=>o.set(d,p)),t.forEach((d,p)=>{var y;return a.set(d,new hJ(p,null!==(y=o.get(d))&&void 0!==y?y:null))}),a))}recalculateAndSaveOverlays(e,t){const r=nI();let i=new hr((o,a)=>o-a),s=Zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(u=>{const d=t.get(u);if(null===d)return;let p=r.get(u)||To.empty();p=a.applyToLocalView(d,p),r.set(u,p);const y=(i.get(a.batchId)||Zt()).add(u);i=i.insert(a.batchId,y)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),d=u.key,p=u.value,y=ZU();p.forEach(I=>{if(!s.has(I)){const w=iB(t.get(I),r.get(I));null!==w&&y.set(I,w),s=s.add(I)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,y))}return Q.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return Ne.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):z1(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i);var o}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):Q.resolve(au());let a=-1,u=s;return o.next(d=>Q.forEach(d,(p,y)=>(a<y.largestBatchId&&(a=y.largestBatchId),s.get(p)?Q.resolve():this.remoteDocumentCache.getEntry(e,p).next(I=>{u=u.insert(p,I)}))).next(()=>this.populateOverlays(e,d,s)).next(()=>this.computeViews(e,u,d,Zt())).next(p=>({batchId:a,changes:KU(p)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ne(t)).next(r=>{let i=tI();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const s=t.collectionGroup;let o=tI();return this.indexManager.getCollectionParents(e,s).next(a=>Q.forEach(a,u=>{const d=(y=t,I=u.child(s),new fc(I,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt));var y,I;return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(p=>{p.forEach((y,I)=>{o=o.insert(y,I)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(o=>{s.forEach((u,d)=>{const p=d.getKey();null===o.get(p)&&(o=o.insert(p,Cr.newInvalidDocument(p)))});let a=tI();return o.forEach((u,d)=>{const p=s.get(u);void 0!==p&&iI(p.mutation,d,To.empty(),Nr.now()),eI(t,d)&&(a=a.insert(u,d))}),a})}}class fJ{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,t){return Q.resolve(this.ur.get(t))}saveBundleMetadata(e,t){return this.ur.set(t.id,{id:(i=t).id,version:i.version,createTime:si(i.createTime)}),Q.resolve();var i}getNamedQuery(e,t){return Q.resolve(this.cr.get(t))}saveNamedQuery(e,t){return this.cr.set(t.name,{name:(i=t).name,query:rx(i.bundledQuery),readTime:si(i.readTime)}),Q.resolve();var i}}class pJ{constructor(){this.overlays=new hr(Ne.comparator),this.lr=new Map}getOverlay(e,t){return Q.resolve(this.overlays.get(t))}getOverlays(e,t){const r=au();return Q.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.lt(e,t,s)}),Q.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.lr.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),Q.resolve()}getOverlaysForCollection(e,t,r){const i=au(),s=t.length+1,o=new Ne(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,d=u.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return Q.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new hr((d,p)=>d-p);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>r){let p=s.get(d.largestBatchId);null===p&&(p=au(),s=s.insert(d.largestBatchId,p)),p.set(d.getKey(),d)}}const a=au(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,p)=>a.set(d,p)),!(a.size()>=i)););return Q.resolve(a)}lt(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Q1(t,r));let s=this.lr.get(t);void 0===s&&(s=Zt(),this.lr.set(t,s)),this.lr.set(t,s.add(r.key))}}class cx{constructor(){this.hr=new Kn(Zi.Pr),this.Ir=new Kn(Zi.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,t){const r=new Zi(e,t);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.dr(new Zi(e,t))}Ar(e,t){e.forEach(r=>this.removeReference(r,t))}Rr(e){const t=new Ne(new vn([])),r=new Zi(t,e),i=new Zi(t,e+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const t=new Ne(new vn([])),r=new Zi(t,e),i=new Zi(t,e+1);let s=Zt();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new Zi(e,0),r=this.hr.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Zi{constructor(e,t){this.key=e,this.gr=t}static Pr(e,t){return Ne.comparator(e.key,t.key)||Nt(e.gr,t.gr)}static Tr(e,t){return Nt(e.gr,t.gr)||Ne.comparator(e.key,t.key)}}class gJ{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.pr=1,this.yr=new Kn(Zi.Pr)}checkEmpty(e){return Q.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const s=this.pr;this.pr++;const o=new K1(s,t,r,i);this.mutationQueue.push(o);for(const a of i)this.yr=this.yr.add(new Zi(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Q.resolve(o)}lookupMutationBatch(e,t){return Q.resolve(this.wr(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.Sr(t+1),s=i<0?0:i;return Q.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Zi(t,0),i=new Zi(t,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{const a=this.wr(o.gr);s.push(a)}),Q.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Kn(Nt);return t.forEach(i=>{const s=new Zi(i,0),o=new Zi(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),Q.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;Ne.isDocumentKey(s)||(s=s.child(""));const o=new Zi(new Ne(s),0);let a=new Kn(Nt);return this.yr.forEachWhile(u=>{const d=u.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(a=a.add(u.gr)),!0)},o),Q.resolve(this.br(a))}br(e){const t=[];return e.forEach(r=>{const i=this.wr(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){rt(0===this.Dr(t.batchId,"removed")),this.mutationQueue.shift();let r=this.yr;return Q.forEach(t.mutations,i=>{const s=new Zi(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,t){const r=new Zi(t,0),i=this.yr.firstAfterOrEqual(r);return Q.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return Q.resolve()}Dr(e,t){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class mJ{constructor(e){this.Cr=e,this.docs=new hr(Ne.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Q.resolve(r?r.document.mutableCopy():Cr.newInvalidDocument(t))}getEntries(e,t){let r=Co();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Cr.newInvalidDocument(i))}),Q.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=Co();const o=t.path,a=new Ne(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:d,value:{document:p}}=u.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||N1(lU(p),r)<=0||(i.has(p.key)||eI(t,p))&&(s=s.insert(p.key,p.mutableCopy()))}return Q.resolve(s)}getAllFromCollectionGroup(e,t,r,i){qe()}vr(e,t){return Q.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new _J(this)}getSize(e){return Q.resolve(this.size)}}class _J extends XB{constructor(e){super(),this._r=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),Q.waitFor(t)}getFromCache(e,t){return this._r.getEntry(e,t)}getAllFromCache(e,t){return this._r.getEntries(e,t)}}class yJ{constructor(e){this.persistence=e,this.Fr=new pc(t=>Uf(t),Jv),this.lastRemoteSnapshotVersion=st.min(),this.highestTargetId=0,this.Mr=0,this.Or=new cx,this.targetCount=0,this.Nr=Wf.On()}forEachTarget(e,t){return this.Fr.forEach((r,i)=>t(i)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Mr&&(this.Mr=t),Q.resolve()}kn(e){this.Fr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Nr=new Wf(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,t){return this.kn(t),this.targetCount+=1,Q.resolve()}updateTargetData(e,t){return this.kn(t),Q.resolve()}removeTargetData(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Q.waitFor(s).next(()=>i)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,t){const r=this.Fr.get(t)||null;return Q.resolve(r)}addMatchingKeys(e,t,r){return this.Or.Er(t,r),Q.resolve()}removeMatchingKeys(e,t,r){this.Or.Ar(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),Q.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Or.Rr(t),Q.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Or.mr(t);return Q.resolve(r)}containsKey(e,t){return Q.resolve(this.Or.containsKey(t))}}class dx{constructor(e,t){this.Br={},this.overlays={},this.Lr=new na(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new yJ(this),this.indexManager=new iJ,this.remoteDocumentCache=new mJ(r=>this.referenceDelegate.Qr(r)),this.serializer=new RB(t),this.Kr=new fJ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new pJ,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Br[e.toKey()];return r||(r=new gJ(t,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,t,r){be("MemoryPersistence","Starting transaction:",e);const i=new vJ(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(e,t){return Q.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,t)))}}class vJ extends cU{constructor(e){super(),this.currentSequenceNumber=e}}class Nb{constructor(e){this.persistence=e,this.Gr=new cx,this.zr=null}static jr(e){return new Nb(e)}get Hr(){if(this.zr)return this.zr;throw qe()}addReference(e,t,r){return this.Gr.addReference(r,t),this.Hr.delete(r.toString()),Q.resolve()}removeReference(e,t,r){return this.Gr.removeReference(r,t),this.Hr.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(e,t){return this.Hr.add(t.toString()),Q.resolve()}removeTarget(e,t){this.Gr.Rr(t.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}$r(){this.zr=new Set}Ur(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.Hr,r=>{const i=Ne.fromPath(r);return this.Jr(e,i).next(s=>{s||t.removeEntry(i,st.min())})}).next(()=>(this.zr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Jr(e,t).next(r=>{r?this.Hr.delete(t.toString()):this.Hr.add(t.toString())})}Qr(e){return 0}Jr(e,t){return Q.or([()=>Q.resolve(this.Gr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Wr(e,t)])}}class IJ{constructor(e){this.serializer=e}N(e,t,r,i){const s=new db("createOrUpgrade",t);var u;r<1&&i>=1&&(e.createObjectStore("owner"),(u=e).createObjectStore("mutationQueues",{keyPath:"userId"}),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",pU,{unique:!0}),u.createObjectStore("documentMutations"),o3(e),function(u){u.createObjectStore("remoteDocuments")}(e));let o=Q.resolve();return r<3&&i>=3&&(0!==r&&(function(u){u.deleteObjectStore("targetDocuments"),u.deleteObjectStore("targets"),u.deleteObjectStore("targetGlobal")}(e),o3(e)),o=o.next(()=>function(u){const d=u.store("targetGlobal"),p={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:st.min().toTimestamp(),targetCount:0};return d.put("targetGlobalKey",p)}(s))),r<4&&i>=4&&(0!==r&&(o=o.next(()=>function(u,d){return d.store("mutations").W().next(p=>{u.deleteObjectStore("mutations"),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",pU,{unique:!0});const y=d.store("mutations"),I=p.map(w=>y.put(w));return Q.waitFor(I)})}(e,s))),o=o.next(()=>{!function(u){u.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(o=o.next(()=>this.Zr(s))),r<6&&i>=6&&(o=o.next(()=>(function(u){u.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(s)))),r<7&&i>=7&&(o=o.next(()=>this.ei(s))),r<8&&i>=8&&(o=o.next(()=>this.ti(e,s))),r<9&&i>=9&&(o=o.next(()=>{!function(u){u.objectStoreNames.contains("remoteDocumentChanges")&&u.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(o=o.next(()=>this.ni(s))),r<11&&i>=11&&(o=o.next(()=>{(function(u){u.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(u){u.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{!function(u){const d=u.createObjectStore("documentOverlays",{keyPath:sY});d.createIndex("collectionPathOverlayIndex",oY,{unique:!1}),d.createIndex("collectionGroupOverlayIndex",aY,{unique:!1})}(e)})),r<13&&i>=13&&(o=o.next(()=>function(u){const d=u.createObjectStore("remoteDocumentsV14",{keyPath:KQ});d.createIndex("documentKeyIndex",ZQ),d.createIndex("collectionGroupIndex",QQ)}(e)).next(()=>this.ri(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.ii(e,s))),r<15&&i>=15&&(o=o.next(()=>function(u){u.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),u.createObjectStore("indexState",{keyPath:tY}).createIndex("sequenceNumberIndex",nY,{unique:!1}),u.createObjectStore("indexEntries",{keyPath:rY}).createIndex("documentKeyIndex",iY,{unique:!1})}(e))),o}Xr(e){let t=0;return e.store("remoteDocuments").Y((r,i)=>{t+=Pb(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Zr(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(i=>Q.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",o).next(a=>Q.forEach(a,u=>{rt(u.userId===s.userId);const d=zf(this.serializer,u);return GB(e,s.userId,d).next(()=>{})}))}))}ei(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.Y((o,a)=>{const u=new vn(o),d=[0,Ds(u)];s.push(t.get(d).next(p=>p?Q.resolve():t.put({targetId:0,path:Ds(u),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>Q.waitFor(s))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:eY});const r=t.store("collectionParents"),i=new ux,s=o=>{if(i.add(o)){const a=o.lastSegment(),u=o.popLast();return r.put({collectionId:a,parent:Ds(u)})}};return t.store("remoteDocuments").Y({J:!0},(o,a)=>{const u=new vn(o);return s(u.popLast())}).next(()=>t.store("documentMutations").Y({J:!0},([o,a,u],d)=>{const p=su(a);return s(p.popLast())}))}ni(e){const t=e.store("targets");return t.Y((r,i)=>{const s=dI(i),o=MB(this.serializer,s);return t.put(o)})}ri(e,t){const r=t.store("remoteDocuments"),i=[];return r.Y((s,o)=>{const a=t.store("remoteDocumentsV14"),u=(y=o,y.document?new Ne(vn.fromString(y.document.name).popFirst(5)):y.noDocument?Ne.fromSegments(y.noDocument.path):y.unknownDocument?Ne.fromSegments(y.unknownDocument.path):qe()).path.toArray(),d={prefixPath:u.slice(0,u.length-2),collectionGroup:u[u.length-2],documentId:u[u.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};var y;i.push(a.put(d))}).next(()=>Q.waitFor(i))}ii(e,t){const r=t.store("mutations"),i=e3(this.serializer),s=new dx(Nb.jr,this.serializer.ut);return r.W().next(o=>{const a=new Map;return o.forEach(u=>{var d;let p=null!==(d=a.get(u.userId))&&void 0!==d?d:Zt();zf(this.serializer,u).keys().forEach(y=>p=p.add(y)),a.set(u.userId,p)}),Q.forEach(a,(u,d)=>{const p=new Wi(d),y=Db.ct(this.serializer,p),I=s.getIndexManager(p),w=Mb.ct(p,this.serializer,I,s.referenceDelegate);return new s3(i,w,y,I).recalculateAndSaveOverlaysForDocumentKeys(new F1(t,na._e),u).next()})})}}function o3(n){n.createObjectStore("targetDocuments",{keyPath:JQ}).createIndex("documentTargetsIndex",XQ,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",YQ,{unique:!0}),n.createObjectStore("targetGlobal")}const hx="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class fx{constructor(e,t,r,i,s,o,a,u,d,p,y=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.si=s,this.window=o,this.document=a,this.oi=d,this._i=p,this.ai=y,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=I=>Promise.resolve(),!fx.D())throw new ye(re.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new uJ(this,i),this.Ii=t+"main",this.serializer=new RB(u),this.Ti=new al(this.Ii,this.ai,new IJ(this.serializer)),this.qr=new oJ(this.referenceDelegate,this.serializer),this.remoteDocumentCache=e3(this.serializer),this.Kr=new JY,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===p&&ii("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ye(re.FAILED_PRECONDITION,hx);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.qr.getHighestSequenceNumber(e))}).then(e=>{this.Lr=new na(e,this.oi)}).then(()=>{this.kr=!0}).catch(e=>(this.Ti&&this.Ti.close(),Promise.reject(e)))}mi(e){var t=this;return this.Pi=function(){var r=(0,ce.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L(function(){var t=(0,ce.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((0,ce.Z)(function*(){t.started&&(yield t.di())})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Lb(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(e)).next(t=>this.isPrimary&&!t?this.pi(e).next(()=>!1):!!t&&this.yi(e).next(()=>!0))).catch(e=>{if(Rd(e))return be("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return be("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.Pi(e)),this.isPrimary=e})}fi(e){return mI(e).get("owner").next(t=>Q.resolve(this.wi(t)))}Si(e){return Lb(e).delete(this.clientId)}bi(){var e=this;return(0,ce.Z)(function*(){if(e.isPrimary&&!e.Di(e.hi,18e5)){e.hi=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Ki(r,"clientMetadata");return i.W().next(s=>{const o=e.Ci(s,18e5),a=s.filter(u=>-1===o.indexOf(u));return Q.forEach(a,u=>i.delete(u.clientId)).next(()=>a)})}).catch(()=>[]);if(e.Ei)for(const r of t)e.Ei.removeItem(e.vi(r.clientId))}})()}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?Q.resolve(!0):mI(e).get("owner").next(t=>{if(null!==t&&this.Di(t.leaseTimestampMs,5e3)&&!this.Fi(t.ownerId)){if(this.wi(t)&&this.networkEnabled)return!0;if(!this.wi(t)){if(!t.allowTabSynchronization)throw new ye(re.FAILED_PRECONDITION,hx);return!1}}return!(!this.networkEnabled||!this.inForeground)||Lb(e).W().next(r=>void 0===this.Ci(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(t=>(this.isPrimary!==t&&be("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ce.Z)(function*(){e.kr=!1,e.Mi(),e.li&&(e.li.cancel(),e.li=null),e.xi(),e.Oi(),yield e.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new F1(t,na._e);return e.pi(r).next(()=>e.Si(r))}),e.Ti.close(),e.Ni()})()}Ci(e,t){return e.filter(r=>this.Di(r.updateTimeMs,t)&&!this.Fi(r.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>Lb(e).W().next(t=>this.Ci(t,18e5).map(r=>r.clientId)))}get started(){return this.kr}getMutationQueue(e,t){return Mb.ct(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new sJ(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return Db.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,t,r){be("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",s=15===(u=this.ai)?uY:14===u?yU:13===u?_U:12===u?lY:11===u?mU:void qe();var u;let o;return this.Ti.runTransaction(e,i,s,a=>(o=new F1(a,this.Lr?this.Lr.next():na._e),"readwrite-primary"===t?this.fi(o).next(u=>!!u||this.gi(o)).next(u=>{if(!u)throw ii(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new ye(re.FAILED_PRECONDITION,uU);return r(o)}).next(u=>this.yi(o).next(()=>u)):this.Li(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}Li(e){return mI(e).get("owner").next(t=>{if(null!==t&&this.Di(t.leaseTimestampMs,5e3)&&!this.Fi(t.ownerId)&&!this.wi(t)&&!(this._i||this.allowTabSynchronization&&t.allowTabSynchronization))throw new ye(re.FAILED_PRECONDITION,hx)})}yi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return mI(e).put("owner",t)}static D(){return al.D()}pi(e){const t=mI(e);return t.get("owner").next(r=>this.wi(r)?(be("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Q.resolve())}Di(e,t){const r=Date.now();return!(e<r-t||e>r&&(ii(`Detected an update time that is in the future: ${e} > ${r}`),1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Mi();const t=/(?:Version|Mobile)\/1[456]/;(0,rr.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var t;try{const r=null!==(null===(t=this.Ei)||void 0===t?void 0:t.getItem(this.vi(e)));return be("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return ii("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){ii("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function mI(n){return Ki(n,"owner")}function Lb(n){return Ki(n,"clientMetadata")}function px(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class gx{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ki=r,this.qi=i}static Qi(e,t){let r=Zt(),i=Zt();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new gx(e,t.fromCache,r,i)}}class EJ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class a3{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}getDocumentsMatchingQuery(e,t,r,i){const s={result:null};return this.zi(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(e,t,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new EJ;return this.Hi(e,t,o).next(a=>{if(s.result=a,this.$i)return this.Ji(e,t,o,a.size)})}).next(()=>s.result)}Ji(e,t,r,i){return r.documentReadCount<this.Ui?(wm()<=tu.in.DEBUG&&be("QueryEngine","SDK will not create cache indexes for query:",Pm(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),Q.resolve()):(wm()<=tu.in.DEBUG&&be("QueryEngine","Query:",Pm(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(wm()<=tu.in.DEBUG&&be("QueryEngine","The SDK decides to create cache indexes for query:",Pm(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xs(t))):Q.resolve())}zi(e,t){if($U(t))return Q.resolve(null);let r=Xs(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=Eb(t,null,"F"),r=Xs(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Zt(...s);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const d=this.Yi(t,a);return this.Zi(t,d,o,u.readTime)?this.zi(e,Eb(t,null,"F")):this.Xi(e,d,t,u)}))})))}ji(e,t,r,i){return $U(t)||i.isEqual(st.min())?Q.resolve(null):this.Gi.getDocuments(e,r).next(s=>{const o=this.Yi(t,s);return this.Zi(t,o,r,i)?Q.resolve(null):(wm()<=tu.in.DEBUG&&be("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Pm(t)),this.Xi(e,o,t,aU(i,-1)).next(a=>a))})}Yi(e,t){let r=new Kn(GU(e));return t.forEach((i,s)=>{eI(e,s)&&(r=r.add(s))}),r}Zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(e,t,r){return wm()<=tu.in.DEBUG&&be("QueryEngine","Using full collection scan to execute query:",Pm(t)),this.Gi.getDocumentsMatchingQuery(e,t,ta.min(),r)}Xi(e,t,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}class wJ{constructor(e,t,r,i){this.persistence=e,this.es=t,this.serializer=i,this.ts=new hr(Nt),this.ns=new pc(s=>Uf(s),Jv),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new s3(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ts))}}function l3(n,e,t,r){return new wJ(n,e,t,r)}function u3(n,e){return mx.apply(this,arguments)}function mx(){return mx=(0,ce.Z)(function*(n,e){const t=Oe(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.os(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=Zt();for(const d of i){o.push(d.batchId);for(const p of d.mutations)u=u.add(p.key)}for(const d of s){a.push(d.batchId);for(const p of d.mutations)u=u.add(p.key)}return t.localDocuments.getDocuments(r,u).next(d=>({_s:d,removedBatchIds:o,addedBatchIds:a}))})})}),mx.apply(this,arguments)}function c3(n){const e=Oe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.qr.getLastRemoteSnapshotVersion(t))}function d3(n,e,t){let r=Zt(),i=Zt();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=Co();return t.forEach((a,u)=>{const d=s.get(a);u.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(st.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||0===u.version.compareTo(d.version)&&d.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):be("LocalStore","Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",u.version)}),{us:o,cs:i}})}function CJ(n,e){const t=Oe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function $m(n,e){const t=Oe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.qr.getTargetData(r,e).next(s=>s?(i=s,Q.resolve(i)):t.qr.allocateTargetId(r).next(o=>(i=new mc(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.ts.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.ts=t.ts.insert(r.targetId,r),t.ns.set(e,r.targetId)),r})}function jm(n,e,t){return _x.apply(this,arguments)}function _x(){return _x=(0,ce.Z)(function*(n,e,t){const r=Oe(n),i=r.ts.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Rd(o))throw o;be("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}),_x.apply(this,arguments)}function Fb(n,e,t){const r=Oe(n);let i=st.min(),s=Zt();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,d,p){const y=Oe(u),I=y.ns.get(p);return void 0!==I?Q.resolve(y.ts.get(I)):y.qr.getTargetData(d,p)}(r,o,Xs(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.es.getDocumentsMatchingQuery(o,e,t?i:st.min(),t?s:Zt())).next(a=>(p3(r,qU(e),a),{documents:a,ls:s})))}function h3(n,e){const t=Oe(n),r=Oe(t.qr),i=t.ts.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",s=>r._t(s,e).next(o=>o?o.target:null))}function f3(n,e){const t=Oe(n),r=t.rs.get(e)||st.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.ss.getAllFromCollectionGroup(i,e,aU(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(p3(t,e,i),i))}function p3(n,e,t){let r=n.rs.get(e)||st.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.rs.set(e,r)}function yx(){return yx=(0,ce.Z)(function*(n,e,t,r){const i=Oe(n);let s=Zt(),o=Co();for(const d of t){const p=e.hs(d.metadata.name);d.document&&(s=s.add(p));const y=e.Ps(d);y.setReadTime(e.Is(d.metadata.readTime)),o=o.insert(p,y)}const a=i.ss.newChangeBuffer({trackRemovals:!0}),u=yield $m(i,(p=r,Xs(xm(vn.fromString(`__bundle__/docs/${p}`)))));var p;return i.persistence.runTransaction("Apply bundle documents","readwrite",d=>d3(d,a,o).next(p=>(a.apply(d),p)).next(p=>i.qr.removeMatchingKeysForTargetId(d,u.targetId).next(()=>i.qr.addMatchingKeys(d,s,u.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(d,p.us,p.cs)).next(()=>p.us)))}),yx.apply(this,arguments)}function AJ(n,e){return vx.apply(this,arguments)}function vx(){return vx=(0,ce.Z)(function*(n,e,t=Zt()){const r=yield $m(n,Xs(rx(e.bundledQuery))),i=Oe(n);return i.persistence.runTransaction("Save named query","readwrite",s=>{const o=si(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Kr.saveNamedQuery(s,e);const a=r.withResumeToken(Ai.EMPTY_BYTE_STRING,o);return i.ts=i.ts.insert(a.targetId,a),i.qr.updateTargetData(s,a).next(()=>i.qr.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.qr.addMatchingKeys(s,t,r.targetId)).next(()=>i.Kr.saveNamedQuery(s,e))})}),vx.apply(this,arguments)}function g3(n,e){return`firestore_clients_${n}_${e}`}function m3(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Ix(n,e){return`firestore_targets_${n}_${e}`}class Vb{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Ts(e,t,r){const i=JSON.parse(r);let s,o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(s=new ye(i.error.code,i.error.message))),o?new Vb(e,t,i.state,s):(ii("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class _I{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Ts(e,t){const r=JSON.parse(t);let i,s="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new ye(r.error.code,r.error.message))),s?new _I(e,r.state,i):(ii("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ub{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ts(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,s=G1();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=hU(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new Ub(e,s):(ii("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Ex{constructor(e,t){this.clientId=e,this.onlineState=t}static Ts(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Ex(t.clientId,t.onlineState):(ii("SharedClientState",`Failed to parse online state: ${e}`),null)}}class wx{constructor(){this.activeTargetIds=G1()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class bx{constructor(e,t,r,i,s){this.window=e,this.si=t,this.persistenceKey=r,this.Rs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new hr(Nt),this.started=!1,this.ps=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ys=g3(this.persistenceKey,this.Rs),this.ws=`firestore_sequence_number_${this.persistenceKey}`,this.gs=this.gs.insert(this.Rs,new wx),this.Ss=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.bs=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.Cs=`firestore_online_state_${this.persistenceKey}`,this.vs=function(u){return`firestore_bundle_loaded_v2_${u}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ce.Z)(function*(){const t=yield e.syncEngine.Bi();for(const i of t){if(i===e.Rs)continue;const s=e.getItem(g3(e.persistenceKey,i));if(s){const o=Ub.Ts(i,s);o&&(e.gs=e.gs.insert(o.clientId,o))}}e.Fs();const r=e.storage.getItem(e.Cs);if(r){const i=e.Ms(r);i&&e.xs(i)}for(const i of e.ps)e.fs(i);e.ps=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let t=!1;return this.gs.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,t,r){this.Ns(e,t,r),this.Bs(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(Ix(this.persistenceKey,e));if(r){const i=_I.Ts(e,r);i&&(t=i.state)}}return this.Ls.ds(e),this.Fs(),t}removeLocalQueryTarget(e){this.Ls.As(e),this.Fs()}isLocalQueryTarget(e){return this.Ls.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Ix(this.persistenceKey,e))}updateQueryState(e,t,r){this.ks(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Bs(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return be("SharedClientState","READ",e,t),t}setItem(e,t){be("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){be("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){var t=this;const r=e;if(r.storageArea===this.storage){if(be("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ys)return void ii("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,ce.Z)(function*(){if(t.started){if(null!==r.key)if(t.Ss.test(r.key)){if(null==r.newValue){const i=t.Ks(r.key);return t.$s(i,null)}{const i=t.Us(r.key,r.newValue);if(i)return t.$s(i.clientId,i)}}else if(t.bs.test(r.key)){if(null!==r.newValue){const i=t.Ws(r.key,r.newValue);if(i)return t.Gs(i)}}else if(t.Ds.test(r.key)){if(null!==r.newValue){const i=t.zs(r.key,r.newValue);if(i)return t.js(i)}}else if(r.key===t.Cs){if(null!==r.newValue){const i=t.Ms(r.newValue);if(i)return t.xs(i)}}else if(r.key===t.ws){const i=function(o){let a=na._e;if(null!=o)try{const u=JSON.parse(o);rt("number"==typeof u),a=u}catch(u){ii("SharedClientState","Failed to read sequence number from WebStorage",u)}return a}(r.newValue);i!==na._e&&t.sequenceNumberHandler(i)}else if(r.key===t.vs){const i=t.Hs(r.newValue);yield Promise.all(i.map(s=>t.syncEngine.Js(s)))}}else t.ps.push(r)}))}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(e,t,r){const i=new Vb(this.currentUser,e,t,r),s=m3(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Es())}Bs(e){const t=m3(this.persistenceKey,this.currentUser,e);this.removeItem(t)}qs(e){this.storage.setItem(this.Cs,JSON.stringify({clientId:this.Rs,onlineState:e}))}ks(e,t,r){const i=Ix(this.persistenceKey,e),s=new _I(e,t,r);this.setItem(i,s.Es())}Qs(e){const t=JSON.stringify(Array.from(e));this.setItem(this.vs,t)}Ks(e){const t=this.Ss.exec(e);return t?t[1]:null}Us(e,t){const r=this.Ks(e);return Ub.Ts(r,t)}Ws(e,t){const r=this.bs.exec(e),i=Number(r[1]);return Vb.Ts(new Wi(void 0!==r[2]?r[2]:null),i,t)}zs(e,t){const r=this.Ds.exec(e),i=Number(r[1]);return _I.Ts(i,t)}Ms(e){return Ex.Ts(e)}Hs(e){return JSON.parse(e)}Gs(e){var t=this;return(0,ce.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Ys(e.batchId,e.state,e.error);be("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,t){const r=t?this.gs.insert(e,t):this.gs.remove(e),i=this.Os(this.gs),s=this.Os(r),o=[],a=[];return s.forEach(u=>{i.has(u)||o.push(u)}),i.forEach(u=>{s.has(u)||a.push(u)}),this.syncEngine.Xs(o,a).then(()=>{this.gs=r})}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let t=G1();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class _3{constructor(){this.eo=new wx,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,t,r){this.no[e]=t}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new wx,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class DJ{ro(e){}shutdown(){}}class y3{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){be("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){be("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Bb=null;function Tx(){return null===Bb?Bb=268435456+Math.round(2147483648*Math.random()):Bb++,"0x"+Bb.toString(16)}const xJ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class RJ{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const Rs="WebChannelConnection";class PJ extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+t.host,this.fo=`projects/${i}/databases/${s}`,this.po="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get yo(){return!1}wo(t,r,i,s,o){const a=Tx(),u=this.So(t,r);be("RestConnection",`Sending RPC '${t}' ${a}:`,u,i);const d={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(d,s,o),this.Do(t,u,d,i).then(p=>(be("RestConnection",`Received RPC '${t}' ${a}: `,p),p),p=>{throw bo("RestConnection",`RPC '${t}' ${a} failed with error: `,p,"url: ",u,"request:",i),p})}Co(t,r,i,s,o,a){return this.wo(t,r,i,s,o)}bo(t,r,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+Em,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>t[o]=s),i&&i.headers.forEach((s,o)=>t[o]=s)}So(t,r){return`${this.mo}/v1/${r}:${xJ[t]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,t,r,i){const s=Tx();return new Promise((o,a)=>{const u=new DQ;u.setWithCredentials(!0),u.listenOnce(CQ.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case P1.NO_ERROR:const p=u.getResponseJson();be(Rs,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),o(p);break;case P1.TIMEOUT:be(Rs,`RPC '${e}' ${s} timed out`),a(new ye(re.DEADLINE_EXCEEDED,"Request time out"));break;case P1.HTTP_ERROR:const y=u.getStatus();if(be(Rs,`RPC '${e}' ${s} failed with status:`,y,"response text:",u.getResponseText()),y>0){let I=u.getResponseJson();Array.isArray(I)&&(I=I[0]);const w=I?.error;if(w&&w.status&&w.message){const x=function(L){const G=L.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(G)>=0?G:re.UNKNOWN}(w.status);a(new ye(x,w.message))}else a(new ye(re.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new ye(re.UNAVAILABLE,"Connection failed."));break;default:qe()}}finally{be(Rs,`RPC '${e}' ${s} completed.`)}});const d=JSON.stringify(i);be(Rs,`RPC '${e}' ${s} sending request:`,i),u.send(t,"POST",d,r,15)})}vo(e,t,r){const i=Tx(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=bQ(),a=TQ(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;void 0!==d&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.xmlHttpFactory=new AQ({})),this.bo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;const p=s.join("");be(Rs,`Creating RPC '${e}' stream ${i}: ${p}`,u);const y=o.createWebChannel(p,u);let I=!1,w=!1;const x=new RJ({co:L=>{w?be(Rs,`Not sending because RPC '${e}' stream ${i} is closed:`,L):(I||(be(Rs,`Opening RPC '${e}' stream ${i} transport.`),y.open(),I=!0),be(Rs,`RPC '${e}' stream ${i} sending:`,L),y.send(L))},lo:()=>y.close()}),M=(L,G,$)=>{L.listen(G,J=>{try{$(J)}catch(ue){setTimeout(()=>{throw ue},0)}})};return M(y,cb.EventType.OPEN,()=>{w||be(Rs,`RPC '${e}' stream ${i} transport opened.`)}),M(y,cb.EventType.CLOSE,()=>{w||(w=!0,be(Rs,`RPC '${e}' stream ${i} transport closed`),x.Ro())}),M(y,cb.EventType.ERROR,L=>{w||(w=!0,bo(Rs,`RPC '${e}' stream ${i} transport errored:`,L),x.Ro(new ye(re.UNAVAILABLE,"The operation could not be completed")))}),M(y,cb.EventType.MESSAGE,L=>{var G;if(!w){const $=L.data[0];rt(!!$);const ue=$.error||(null===(G=$[0])||void 0===G?void 0:G.error);if(ue){be(Rs,`RPC '${e}' stream ${i} received error:`,ue);const Ce=ue.status;let Xe=function(ro){const So=_i[ro];if(void 0!==So)return cB(So)}(Ce),Rt=ue.message;void 0===Xe&&(Xe=re.INTERNAL,Rt="Unknown error status: "+Ce+" with message "+ue.message),w=!0,x.Ro(new ye(Xe,Rt)),y.close()}else be(Rs,`RPC '${e}' stream ${i} received:`,$),x.Vo($)}}),M(a,SQ.STAT_EVENT,L=>{L.stat===tU.PROXY?be(Rs,`RPC '${e}' stream ${i} detected buffering proxy`):L.stat===tU.NOPROXY&&be(Rs,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{x.Ao()},0),x}}function v3(){return typeof window<"u"?window:null}function Hb(){return typeof document<"u"?document:null}function yI(n){return new HY(n,!0)}class Cx{constructor(e,t,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=t,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const t=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,t-r);i>0&&be("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class I3{constructor(e,t,r,i,s,o,a,u){this.si=e,this.Ko=r,this.$o=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new Cx(e,t)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return(0,ce.Z)(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return(0,ce.Z)(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,t){var r=this;return(0,ce.Z)(function*(){r.t_(),r.n_(),r.zo.cancel(),r.Uo++,4!==e?r.zo.reset():t&&t.code===re.RESOURCE_EXHAUSTED?(ii(t.toString()),ii("Using maximum backoff delay to prevent overloading the backend."),r.zo.Lo()):t&&t.code===re.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.r_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Io(t)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),t=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===t&&this.s_(r,i)},r=>{e(()=>{const i=new ye(re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,t){const r=this.i_(this.Uo);this.stream=this.__(e,t),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){var e=this;this.state=5,this.zo.ko((0,ce.Z)(function*(){e.state=0,e.start()}))}o_(e){return be("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return t=>{this.si.enqueueAndForget(()=>this.Uo===e?t():(be("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class MJ extends I3{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}__(e,t){return this.connection.vo("Listen",e,t)}onMessage(e){this.zo.reset();const t=function zY(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(d=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===d?1:"REMOVE"===d?2:"CURRENT"===d?3:"RESET"===d?4:qe(),i=e.targetChange.targetIds||[],s=function(d,p){return d.useProto3Json?(rt(void 0===p||"string"==typeof p),Ai.fromBase64String(p||"")):(rt(void 0===p||p instanceof Uint8Array),Ai.fromUint8Array(p||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(d){const p=void 0===d.code?re.UNKNOWN:cB(d.code);return new ye(p,d.message||"")}(o);t=new gB(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=lu(n,r.document.name),s=si(r.document.updateTime),o=r.document.createTime?si(r.document.createTime):st.min(),a=new cs({mapValue:{fields:r.document.fields}}),u=Cr.newFoundDocument(i,s,o,a);t=new Sb(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=lu(n,r.document),s=r.readTime?si(r.readTime):st.min(),o=Cr.newNoDocument(i,s);t=new Sb([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=lu(n,r.document);t=new Sb([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return qe();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new kY(i,s);t=new pB(r.targetId,o)}}var d;return t}(this.serializer,e),r=function(s){if(!("targetChange"in s))return st.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?st.min():o.readTime?si(o.readTime):st.min()}(e);return this.listener.a_(t,r)}u_(e){const t={};t.database=uI(this.serializer),t.addTarget=function(s,o){let a;const u=o.target;if(a=vb(u)?{documents:CB(s,u)}:{query:nx(s,u)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=vB(s,o.resumeToken);const d=J1(s,o.expectedCount);null!==d&&(a.expectedCount=d)}else if(o.snapshotVersion.compareTo(st.min())>0){a.readTime=Lm(s,o.snapshotVersion.toTimestamp());const d=J1(s,o.expectedCount);null!==d&&(a.expectedCount=d)}return a}(this.serializer,e);const r=function GY(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return qe()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.e_(t)}c_(e){const t={};t.database=uI(this.serializer),t.removeTarget=e,this.e_(t)}}class OJ extends I3{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,t){return this.connection.vo("Write",e,t)}onMessage(e){if(rt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const t=function qY(n,e){return n&&n.length>0?(rt(void 0!==e),n.map(t=>function(i,s){let o=si(i.updateTime?i.updateTime:s);return o.isEqual(st.min())&&(o=si(s)),new PY(o,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=si(e.commitTime);return this.listener.I_(r,t)}return rt(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=uI(this.serializer),this.e_(e)}P_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>cI(this.serializer,r))};this.e_(t)}}class NJ extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new ye(re.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,t,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.wo(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ye(re.UNKNOWN,i.toString())})}Co(e,t,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,t,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ye(re.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class LJ{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(ii(t),this.f_=!1):be("OnlineStateTracker",t)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class FJ{constructor(e,t,r,i,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(a=>{r.enqueueAndForget((0,ce.Z)(function*(){var u;$d(o)&&(be("RemoteStore","Restarting streams for network reachability change."),yield(u=(0,ce.Z)(function*(p){const y=Oe(p);y.C_.add(4),yield zm(y),y.M_.set("Unknown"),y.C_.delete(4),yield vI(y)}),function d(p){return u.apply(this,arguments)})(o))}))}),this.M_=new LJ(r,i)}}function vI(n){return Ax.apply(this,arguments)}function Ax(){return Ax=(0,ce.Z)(function*(n){if($d(n))for(const e of n.v_)yield e(!0)}),Ax.apply(this,arguments)}function zm(n){return Dx.apply(this,arguments)}function Dx(){return Dx=(0,ce.Z)(function*(n){for(const e of n.v_)yield e(!1)}),Dx.apply(this,arguments)}function $b(n,e){const t=Oe(n);t.D_.has(e.targetId)||(t.D_.set(e.targetId,e),Px(t)?Rx(t):Gm(t).Ho()&&xx(t,e))}function II(n,e){const t=Oe(n),r=Gm(t);t.D_.delete(e),r.Ho()&&E3(t,e),0===t.D_.size&&(r.Ho()?r.Zo():$d(t)&&t.M_.set("Unknown"))}function xx(n,e){if(n.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(st.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Gm(n).u_(e)}function E3(n,e){n.x_.Oe(e),Gm(n).c_(e)}function Rx(n){n.x_=new FY({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>n.D_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),Gm(n).start(),n.M_.g_()}function Px(n){return $d(n)&&!Gm(n).jo()&&n.D_.size>0}function $d(n){return 0===Oe(n).C_.size}function w3(n){n.x_=void 0}function VJ(n){return Mx.apply(this,arguments)}function Mx(){return Mx=(0,ce.Z)(function*(n){n.D_.forEach((e,t)=>{xx(n,e)})}),Mx.apply(this,arguments)}function UJ(n,e){return Ox.apply(this,arguments)}function Ox(){return Ox=(0,ce.Z)(function*(n,e){w3(n),Px(n)?(n.M_.w_(e),Rx(n)):n.M_.set("Unknown")}),Ox.apply(this,arguments)}function BJ(n,e,t){return Nx.apply(this,arguments)}function Nx(){return Nx=(0,ce.Z)(function*(n,e,t){if(n.M_.set("Online"),e instanceof gB&&2===e.state&&e.cause)try{yield(r=(0,ce.Z)(function*(s,o){const a=o.cause;for(const u of o.targetIds)s.D_.has(u)&&(yield s.remoteSyncer.rejectListen(u,a),s.D_.delete(u),s.x_.removeTarget(u))}),function i(s,o){return r.apply(this,arguments)})(n,e)}catch(r){be("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield jb(n,r)}else if(e instanceof Sb?n.x_.$e(e):e instanceof pB?n.x_.Je(e):n.x_.Ge(e),!t.isEqual(st.min()))try{const r=yield c3(n.localStore);t.compareTo(r)>=0&&(yield function(s,o){const a=s.x_.it(o);return a.targetChanges.forEach((u,d)=>{if(u.resumeToken.approximateByteSize()>0){const p=s.D_.get(d);p&&s.D_.set(d,p.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,d)=>{const p=s.D_.get(u);if(!p)return;s.D_.set(u,p.withResumeToken(Ai.EMPTY_BYTE_STRING,p.snapshotVersion)),E3(s,u);const y=new mc(p.target,u,d,p.sequenceNumber);xx(s,y)}),s.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){be("RemoteStore","Failed to raise snapshot:",r),yield jb(n,r)}var r}),Nx.apply(this,arguments)}function jb(n,e,t){return kx.apply(this,arguments)}function kx(){return kx=(0,ce.Z)(function*(n,e,t){if(!Rd(e))throw e;n.C_.add(1),yield zm(n),n.M_.set("Offline"),t||(t=()=>c3(n.localStore)),n.asyncQueue.enqueueRetryable((0,ce.Z)(function*(){be("RemoteStore","Retrying IndexedDB access"),yield t(),n.C_.delete(1),yield vI(n)}))}),kx.apply(this,arguments)}function b3(n,e){return e().catch(t=>jb(n,t,e))}function qm(n){return Lx.apply(this,arguments)}function Lx(){return Lx=(0,ce.Z)(function*(n){const e=Oe(n),t=jd(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;HJ(e);)try{const i=yield CJ(e.localStore,r);if(null===i){0===e.b_.length&&t.Zo();break}r=i.batchId,$J(e,i)}catch(i){yield jb(e,i)}T3(e)&&C3(e)}),Lx.apply(this,arguments)}function HJ(n){return $d(n)&&n.b_.length<10}function $J(n,e){n.b_.push(e);const t=jd(n);t.Ho()&&t.h_&&t.P_(e.mutations)}function T3(n){return $d(n)&&!jd(n).jo()&&n.b_.length>0}function C3(n){jd(n).start()}function jJ(n){return Fx.apply(this,arguments)}function Fx(){return Fx=(0,ce.Z)(function*(n){jd(n).E_()}),Fx.apply(this,arguments)}function zJ(n){return Vx.apply(this,arguments)}function Vx(){return Vx=(0,ce.Z)(function*(n){const e=jd(n);for(const t of n.b_)e.P_(t.mutations)}),Vx.apply(this,arguments)}function qJ(n,e,t){return Ux.apply(this,arguments)}function Ux(){return Ux=(0,ce.Z)(function*(n,e,t){const r=n.b_.shift(),i=Z1.from(r,e,t);yield b3(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield qm(n)}),Ux.apply(this,arguments)}function GJ(n,e){return Bx.apply(this,arguments)}function Bx(){return Bx=(0,ce.Z)(function*(n,e){var t;e&&jd(n).h_&&(yield(t=(0,ce.Z)(function*(i,s){if(uB(a=s.code)&&a!==re.ABORTED){const o=i.b_.shift();jd(i).Yo(),yield b3(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s)),yield qm(i)}var a}),function r(i,s){return t.apply(this,arguments)})(n,e)),T3(n)&&C3(n)}),Bx.apply(this,arguments)}function S3(n,e){return Hx.apply(this,arguments)}function Hx(){return Hx=(0,ce.Z)(function*(n,e){const t=Oe(n);t.asyncQueue.verifyOperationInProgress(),be("RemoteStore","RemoteStore received new credentials");const r=$d(t);t.C_.add(3),yield zm(t),r&&t.M_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.C_.delete(3),yield vI(t)}),Hx.apply(this,arguments)}function $x(n,e){return jx.apply(this,arguments)}function jx(){return jx=(0,ce.Z)(function*(n,e){const t=Oe(n);e?(t.C_.delete(2),yield vI(t)):e||(t.C_.add(2),yield zm(t),t.M_.set("Unknown"))}),jx.apply(this,arguments)}function Gm(n){return n.O_||(n.O_=function(t,r,i){const s=Oe(t);return s.A_(),new MJ(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{ho:VJ.bind(null,n),Io:UJ.bind(null,n),a_:BJ.bind(null,n)}),n.v_.push(function(){var e=(0,ce.Z)(function*(t){t?(n.O_.Yo(),Px(n)?Rx(n):n.M_.set("Unknown")):(yield n.O_.stop(),w3(n))});return function(t){return e.apply(this,arguments)}}())),n.O_}function jd(n){return n.N_||(n.N_=function(t,r,i){const s=Oe(t);return s.A_(),new OJ(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{ho:jJ.bind(null,n),Io:GJ.bind(null,n),T_:zJ.bind(null,n),I_:qJ.bind(null,n)}),n.v_.push(function(){var e=(0,ce.Z)(function*(t){t?(n.N_.Yo(),yield qm(n)):(yield n.N_.stop(),n.b_.length>0&&(be("RemoteStore",`Stopping write stream with ${n.b_.length} pending writes`),n.b_=[]))});return function(t){return e.apply(this,arguments)}}())),n.N_}class zx{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Si,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new zx(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ye(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wm(n,e){if(ii("AsyncQueue",`${e}: ${n}`),Rd(n))return new ye(re.UNAVAILABLE,`${e}: ${n}`);throw n}class Km{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ne.comparator(t.key,r.key):(t,r)=>Ne.comparator(t.key,r.key),this.keyedMap=tI(),this.sortedSet=new hr(this.comparator)}static emptySet(e){return new Km(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Km)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Km;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class A3{constructor(){this.B_=new hr(Ne.comparator)}track(e){const t=e.doc.key,r=this.B_.get(t);r?0!==e.type&&3===r.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==r.type?this.B_=this.B_.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.B_=this.B_.remove(t):1===e.type&&2===r.type?this.B_=this.B_.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):qe():this.B_=this.B_.insert(t,e)}L_(){const e=[];return this.B_.inorderTraversal((t,r)=>{e.push(r)}),e}}class Zm{constructor(e,t,r,i,s,o,a,u,d){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,t,r,i,s){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new Zm(e,t,Km.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class WJ{constructor(){this.k_=void 0,this.listeners=[]}}class KJ{constructor(){this.queries=new pc(e=>zU(e),Xv),this.onlineState="Unknown",this.q_=new Set}}function qx(n,e){return Gx.apply(this,arguments)}function Gx(){return Gx=(0,ce.Z)(function*(n,e){const t=Oe(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new WJ),i)try{s.k_=yield t.onListen(r)}catch(o){const a=Wm(o,`Initialization of query '${Pm(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,s),s.listeners.push(e),e.Q_(t.onlineState),s.k_&&e.K_(s.k_)&&Zx(t)}),Gx.apply(this,arguments)}function Wx(n,e){return Kx.apply(this,arguments)}function Kx(){return Kx=(0,ce.Z)(function*(n,e){const t=Oe(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),Kx.apply(this,arguments)}function ZJ(n,e){const t=Oe(n);let r=!1;for(const i of e){const o=t.queries.get(i.query);if(o){for(const a of o.listeners)a.K_(i)&&(r=!0);o.k_=i}}r&&Zx(t)}function QJ(n,e,t){const r=Oe(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function Zx(n){n.q_.forEach(e=>{e.next()})}class Qx{constructor(e,t,r){this.query=e,this.U_=t,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Zm(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.W_?this.z_(e)&&(this.U_.next(e),t=!0):this.j_(e,this.onlineState)&&(this.H_(e),t=!0),this.G_=e,t}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let t=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),t=!0),t}j_(e,t){return!e.fromCache||(!this.options.J_||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=Zm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class YJ{constructor(e,t){this.Y_=e,this.byteLength=t}Z_(){return"metadata"in this.Y_}}class D3{constructor(e){this.serializer=e}hs(e){return lu(this.serializer,e)}Ps(e){return e.metadata.exists?TB(this.serializer,e.document,!1):Cr.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return si(e)}}class JJ{constructor(e,t,r){this.X_=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=x3(e)}ea(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++t;const r=vn.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ta(e){const t=new Map,r=new D3(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.hs(i.metadata.name);for(const o of i.metadata.queries){const a=(t.get(o)||Zt()).add(s);t.set(o,a)}}return t}complete(){var e=this;return(0,ce.Z)(function*(){const t=yield function SJ(n,e,t,r){return yx.apply(this,arguments)}(e.localStore,new D3(e.serializer),e.documents,e.X_.id),r=e.ta(e.documents);for(const i of e.queries)yield AJ(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,na:e.collectionGroups,ra:t}})()}}function x3(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class R3{constructor(e){this.key=e}}class P3{constructor(e){this.key=e}}class M3{constructor(e,t){this.query=e,this.ia=t,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=Zt(),this.mutatedKeys=Zt(),this._a=GU(e),this.aa=new Km(this._a)}get ua(){return this.ia}ca(e,t){const r=t?t.la:new A3,i=t?t.aa:this.aa;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,d="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,y)=>{const I=i.get(p),w=eI(this.query,y)?y:null,x=!!I&&this.mutatedKeys.has(I.key),M=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let L=!1;I&&w?I.data.isEqual(w.data)?x!==M&&(r.track({type:3,doc:w}),L=!0):this.ha(I,w)||(r.track({type:2,doc:w}),L=!0,(u&&this._a(w,u)>0||d&&this._a(w,d)<0)&&(a=!0)):!I&&w?(r.track({type:0,doc:w}),L=!0):I&&!w&&(r.track({type:1,doc:I}),L=!0,(u||d)&&(a=!0)),L&&(w?(o=o.add(w),s=M?s.add(p):s.delete(p)):(o=o.delete(p),s=s.delete(p)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const p="F"===this.query.limitType?o.last():o.first();o=o.delete(p.key),s=s.delete(p.key),r.track({type:1,doc:p})}return{aa:o,la:r,Zi:a,mutatedKeys:s}}ha(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const s=e.la.L_();s.sort((d,p)=>function(I,w){const x=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qe()}};return x(I)-x(w)}(d.type,p.type)||this._a(d.doc,p.doc)),this.Pa(r);const o=t?this.Ia():[],a=0===this.oa.size&&this.current?1:0,u=a!==this.sa;return this.sa=a,0!==s.length||u?{snapshot:new Zm(this.query,e.aa,i,s,e.mutatedKeys,0===a,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:o}:{Ta:o}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new A3,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(t=>this.ia=this.ia.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.ia=this.ia.delete(t)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=Zt(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const t=[];return e.forEach(r=>{this.oa.has(r)||t.push(new P3(r))}),this.oa.forEach(r=>{e.has(r)||t.push(new R3(r))}),t}da(e){this.ia=e.ls,this.oa=Zt();const t=this.ca(e.documents);return this.applyChanges(t,!0)}Aa(){return Zm.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class XJ{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class eX{constructor(e){this.key=e,this.Ra=!1}}class tX{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new pc(a=>zU(a),Xv),this.fa=new Map,this.ga=new Set,this.pa=new hr(Ne.comparator),this.ya=new Map,this.wa=new cx,this.Sa={},this.ba=new Map,this.Da=Wf.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function nX(n,e){return Yx.apply(this,arguments)}function Yx(){return Yx=(0,ce.Z)(function*(n,e){const t=IR(n);let r,i;const s=t.ma.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{const o=yield $m(t.localStore,Xs(e)),a=t.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield Jx(t,e,r,"current"===a,o.resumeToken),t.isPrimaryClient&&$b(t.remoteStore,o)}return i}),Yx.apply(this,arguments)}function Jx(n,e,t,r,i){return Xx.apply(this,arguments)}function Xx(){return Xx=(0,ce.Z)(function*(n,e,t,r,i){n.va=(y,I,w)=>{return(x=(0,ce.Z)(function*(L,G,$,J){let ue=G.view.ca($);ue.Zi&&(ue=yield Fb(L.localStore,G.query,!1).then(({documents:Rt})=>G.view.ca(Rt,ue)));const Ce=J&&J.targetChanges.get(G.targetId),Xe=G.view.applyChanges(ue,L.isPrimaryClient,Ce);return uR(L,G.targetId,Xe.Ta),Xe.snapshot}),function M(L,G,$,J){return x.apply(this,arguments)})(n,y,I,w);var x};const s=yield Fb(n.localStore,e,!0),o=new M3(e,s.ls),a=o.ca(s.documents),u=aI.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),d=o.applyChanges(a,n.isPrimaryClient,u);uR(n,t,d.Ta);const p=new XJ(e,t,o);return n.ma.set(e,p),n.fa.has(t)?n.fa.get(t).push(e):n.fa.set(t,[e]),d.snapshot}),Xx.apply(this,arguments)}function rX(n,e){return eR.apply(this,arguments)}function eR(){return eR=(0,ce.Z)(function*(n,e){const t=Oe(n),r=t.ma.get(e),i=t.fa.get(r.targetId);if(i.length>1)return t.fa.set(r.targetId,i.filter(s=>!Xv(s,e))),void t.ma.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield jm(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),II(t.remoteStore,r.targetId),Qm(t,r.targetId)}).catch(xd))):(Qm(t,r.targetId),yield jm(t.localStore,r.targetId,!0))}),eR.apply(this,arguments)}function tR(){return tR=(0,ce.Z)(function*(n,e,t){const r=ER(n);try{const i=yield function(o,a){const u=Oe(o),d=Nr.now(),p=a.reduce((w,x)=>w.add(x.key),Zt());let y,I;return u.persistence.runTransaction("Locally write mutations","readwrite",w=>{let x=Co(),M=Zt();return u.ss.getEntries(w,p).next(L=>{x=L,x.forEach((G,$)=>{$.isValidDocument()||(M=M.add(G))})}).next(()=>u.localDocuments.getOverlayedDocuments(w,x)).next(L=>{y=L;const G=[];for(const $ of a){const J=OY($,y.get($.key).overlayedDocument);null!=J&&G.push(new gc($.key,J,xU(J.value.mapValue),kr.exists(!0)))}return u.mutationQueue.addMutationBatch(w,d,G,a)}).next(L=>{I=L;const G=L.applyToLocalDocumentSet(y,M);return u.documentOverlayCache.saveOverlays(w,L.batchId,G)})}).then(()=>({batchId:I.batchId,changes:KU(y)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let d=o.Sa[o.currentUser.toKey()];d||(d=new hr(Nt)),d=d.insert(a,u),o.Sa[o.currentUser.toKey()]=d}(r,i.batchId,t),yield _c(r,i.changes),yield qm(r.remoteStore)}catch(i){const s=Wm(i,"Failed to persist write");t.reject(s)}}),tR.apply(this,arguments)}function O3(n,e){return nR.apply(this,arguments)}function nR(){return nR=(0,ce.Z)(function*(n,e){const t=Oe(n);try{const r=yield function TJ(n,e){const t=Oe(n),r=e.snapshotVersion;let i=t.ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.ss.newChangeBuffer({trackRemovals:!0});i=t.ts;const a=[];e.targetChanges.forEach((p,y)=>{const I=i.get(y);if(!I)return;a.push(t.qr.removeMatchingKeys(s,p.removedDocuments,y).next(()=>t.qr.addMatchingKeys(s,p.addedDocuments,y)));let w=I.withSequenceNumber(s.currentSequenceNumber);var M,L,G;null!==e.targetMismatches.get(y)?w=w.withResumeToken(Ai.EMPTY_BYTE_STRING,st.min()).withLastLimboFreeSnapshotVersion(st.min()):p.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(p.resumeToken,r)),i=i.insert(y,w),L=w,G=p,(0===(M=I).resumeToken.approximateByteSize()||L.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=3e8||G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0)&&a.push(t.qr.updateTargetData(s,w))});let u=Co(),d=Zt();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,p))}),a.push(d3(s,o,e.documentUpdates).next(p=>{u=p.us,d=p.cs})),!r.isEqual(st.min())){const p=t.qr.getLastRemoteSnapshotVersion(s).next(y=>t.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(p)}return Q.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,u,d)).next(()=>u)}).then(s=>(t.ts=i,s))}(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.ya.get(s);o&&(rt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ra=!0:i.modifiedDocuments.size>0?rt(o.Ra):i.removedDocuments.size>0&&(rt(o.Ra),o.Ra=!1))}),yield _c(t,r,e)}catch(r){yield xd(r)}}),nR.apply(this,arguments)}function N3(n,e,t){const r=Oe(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ma.forEach((s,o)=>{const a=o.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const u=Oe(o);u.onlineState=a;let d=!1;u.queries.forEach((p,y)=>{for(const I of y.listeners)I.Q_(a)&&(d=!0)}),d&&Zx(u)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function sX(n,e,t){return rR.apply(this,arguments)}function rR(){return rR=(0,ce.Z)(function*(n,e,t){const r=Oe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.ya.get(e),s=i&&i.key;if(s){let o=new hr(Ne.comparator);o=o.insert(s,Cr.newNoDocument(s,st.min()));const a=Zt().add(s),u=new oI(st.min(),new Map,new hr(Nt),o,a);yield O3(r,u),r.pa=r.pa.remove(s),r.ya.delete(e),cR(r)}else yield jm(r.localStore,e,!1).then(()=>Qm(r,e,t)).catch(xd)}),rR.apply(this,arguments)}function oX(n,e){return iR.apply(this,arguments)}function iR(){return iR=(0,ce.Z)(function*(n,e){const t=Oe(n),r=e.batch.batchId;try{const i=yield function bJ(n,e){const t=Oe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.ss.newChangeBuffer({trackRemovals:!0});return function(a,u,d,p){const y=d.batch,I=y.keys();let w=Q.resolve();return I.forEach(x=>{w=w.next(()=>p.getEntry(u,x)).next(M=>{const L=d.docVersions.get(x);rt(null!==L),M.version.compareTo(L)<0&&(y.applyToRemoteDocument(M,d),M.isValidDocument()&&(M.setReadTime(d.commitVersion),p.addEntry(M)))})}),w.next(()=>a.mutationQueue.removeMutationBatch(u,y))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=Zt();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(u=u.add(a.batch.mutations[d].key));return u}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);lR(t,r,null),aR(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield _c(t,i)}catch(i){yield xd(i)}}),iR.apply(this,arguments)}function aX(n,e,t){return sR.apply(this,arguments)}function sR(){return sR=(0,ce.Z)(function*(n,e,t){const r=Oe(n);try{const i=yield function(o,a){const u=Oe(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let p;return u.mutationQueue.lookupMutationBatch(d,a).next(y=>(rt(null!==y),p=y.keys(),u.mutationQueue.removeMutationBatch(d,y))).next(()=>u.mutationQueue.performConsistencyCheck(d)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(d,p,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,p)).next(()=>u.localDocuments.getDocuments(d,p))})}(r.localStore,e);lR(r,e,t),aR(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield _c(r,i)}catch(i){yield xd(i)}}),sR.apply(this,arguments)}function oR(){return oR=(0,ce.Z)(function*(n,e){const t=Oe(n);$d(t.remoteStore)||be("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(o){const a=Oe(o);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",u=>a.mutationQueue.getHighestUnacknowledgedBatchId(u))}(t.localStore);if(-1===r)return void e.resolve();const i=t.ba.get(r)||[];i.push(e),t.ba.set(r,i)}catch(r){const i=Wm(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),oR.apply(this,arguments)}function aR(n,e){(n.ba.get(e)||[]).forEach(t=>{t.resolve()}),n.ba.delete(e)}function lR(n,e,t){const r=Oe(n);let i=r.Sa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}function Qm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.fa.get(e))n.ma.delete(r),t&&n.Va.Fa(r,t);n.fa.delete(e),n.isPrimaryClient&&n.wa.Rr(e).forEach(r=>{n.wa.containsKey(r)||k3(n,r)})}function k3(n,e){n.ga.delete(e.path.canonicalString());const t=n.pa.get(e);null!==t&&(II(n.remoteStore,t),n.pa=n.pa.remove(e),n.ya.delete(t),cR(n))}function uR(n,e,t){for(const r of t)r instanceof R3?(n.wa.addReference(r.key,e),uX(n,r)):r instanceof P3?(be("SyncEngine","Document no longer in limbo: "+r.key),n.wa.removeReference(r.key,e),n.wa.containsKey(r.key)||k3(n,r.key)):qe()}function uX(n,e){const t=e.key,r=t.path.canonicalString();n.pa.get(t)||n.ga.has(r)||(be("SyncEngine","New document in limbo: "+t),n.ga.add(r),cR(n))}function cR(n){for(;n.ga.size>0&&n.pa.size<n.maxConcurrentLimboResolutions;){const e=n.ga.values().next().value;n.ga.delete(e);const t=new Ne(vn.fromString(e)),r=n.Da.next();n.ya.set(r,new eX(t)),n.pa=n.pa.insert(t,r),$b(n.remoteStore,new mc(Xs(xm(t.path)),r,"TargetPurposeLimboResolution",na._e))}}function _c(n,e,t){return dR.apply(this,arguments)}function dR(){return dR=(0,ce.Z)(function*(n,e,t){const r=Oe(n),i=[],s=[],o=[];var a;r.ma.isEmpty()||(r.ma.forEach((a,u)=>{o.push(r.va(u,e,t).then(d=>{if((d||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,d?.fromCache?"not-current":"current"),d){i.push(d);const p=gx.Qi(u.targetId,d);s.push(p)}}))}),yield Promise.all(o),r.Va.a_(i),yield(a=(0,ce.Z)(function*(d,p){const y=Oe(d);try{yield y.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>Q.forEach(p,w=>Q.forEach(w.ki,x=>y.persistence.referenceDelegate.addReference(I,w.targetId,x)).next(()=>Q.forEach(w.qi,x=>y.persistence.referenceDelegate.removeReference(I,w.targetId,x)))))}catch(I){if(!Rd(I))throw I;be("LocalStore","Failed to update sequence numbers: "+I)}for(const I of p){const w=I.targetId;if(!I.fromCache){const x=y.ts.get(w),L=x.withLastLimboFreeSnapshotVersion(x.snapshotVersion);y.ts=y.ts.insert(w,L)}}}),function u(d,p){return a.apply(this,arguments)})(r.localStore,s))}),dR.apply(this,arguments)}function cX(n,e){return hR.apply(this,arguments)}function hR(){return hR=(0,ce.Z)(function*(n,e){const t=Oe(n);if(!t.currentUser.isEqual(e)){be("SyncEngine","User change. New user:",e.toKey());const r=yield u3(t.localStore,e);t.currentUser=e,(s=t).ba.forEach(a=>{a.forEach(u=>{u.reject(new ye(re.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ba.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield _c(t,r._s)}var s}),hR.apply(this,arguments)}function dX(n,e){const t=Oe(n),r=t.ya.get(e);if(r&&r.Ra)return Zt().add(r.key);{let i=Zt();const s=t.fa.get(e);if(!s)return i;for(const o of s){const a=t.ma.get(o);i=i.unionWith(a.view.ua)}return i}}function hX(n,e){return fR.apply(this,arguments)}function fR(){return fR=(0,ce.Z)(function*(n,e){const t=Oe(n),r=yield Fb(t.localStore,e.query,!0),i=e.view.da(r);return t.isPrimaryClient&&uR(t,e.targetId,i.Ta),i}),fR.apply(this,arguments)}function fX(n,e){return pR.apply(this,arguments)}function pR(){return pR=(0,ce.Z)(function*(n,e){const t=Oe(n);return f3(t.localStore,e).then(r=>_c(t,r))}),pR.apply(this,arguments)}function pX(n,e,t,r){return gR.apply(this,arguments)}function gR(){return gR=(0,ce.Z)(function*(n,e,t,r){const i=Oe(n),s=yield function(a,u){const d=Oe(a),p=Oe(d.mutationQueue);return d.persistence.runTransaction("Lookup mutation documents","readonly",y=>p.Cn(y,u).next(I=>I?d.localDocuments.getDocuments(y,I):Q.resolve(null)))}(i.localStore,e);var u;null!==s?("pending"===t?yield qm(i.remoteStore):"acknowledged"===t||"rejected"===t?(lR(i,e,r||null),aR(i,e),u=e,Oe(Oe(i.localStore).mutationQueue).Fn(u)):qe(),yield _c(i,s)):be("SyncEngine","Cannot apply mutation batch with id: "+e)}),gR.apply(this,arguments)}function mR(){return mR=(0,ce.Z)(function*(n,e){const t=Oe(n);if(IR(t),ER(t),!0===e&&!0!==t.Ca){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield L3(t,r.toArray());t.Ca=!0,yield $x(t.remoteStore,!0);for(const s of i)$b(t.remoteStore,s)}else if(!1===e&&!1!==t.Ca){const r=[];let i=Promise.resolve();t.fa.forEach((s,o)=>{t.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(Qm(t,o),jm(t.localStore,o,!0))),II(t.remoteStore,o)}),yield i,yield L3(t,r),function(o){const a=Oe(o);a.ya.forEach((u,d)=>{II(a.remoteStore,d)}),a.wa.Vr(),a.ya=new Map,a.pa=new hr(Ne.comparator)}(t),t.Ca=!1,yield $x(t.remoteStore,!1)}}),mR.apply(this,arguments)}function L3(n,e,t){return _R.apply(this,arguments)}function _R(){return _R=(0,ce.Z)(function*(n,e,t){const r=Oe(n),i=[],s=[];for(const o of e){let a;const u=r.fa.get(o);if(u&&0!==u.length){a=yield $m(r.localStore,Xs(u[0]));for(const d of u){const p=r.ma.get(d),y=yield hX(r,p);y.snapshot&&s.push(y.snapshot)}}else{const d=yield h3(r.localStore,o);a=yield $m(r.localStore,d),yield Jx(r,F3(d),o,!1,a.resumeToken)}i.push(a)}return r.Va.a_(s),i}),_R.apply(this,arguments)}function F3(n){return HU(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function mX(n){return t=Oe(n).localStore,Oe(Oe(t).persistence).Bi();var t}function _X(n,e,t,r){return yR.apply(this,arguments)}function yR(){return yR=(0,ce.Z)(function*(n,e,t,r){const i=Oe(n);if(i.Ca)return void be("SyncEngine","Ignoring unexpected query state notification.");const s=i.fa.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const o=yield f3(i.localStore,qU(s[0])),a=oI.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Ai.EMPTY_BYTE_STRING);yield _c(i,o,a);break}case"rejected":yield jm(i.localStore,e,!0),Qm(i,e,r);break;default:qe()}}),yR.apply(this,arguments)}function yX(n,e,t){return vR.apply(this,arguments)}function vR(){return vR=(0,ce.Z)(function*(n,e,t){const r=IR(n);if(r.Ca){for(const i of e){if(r.fa.has(i)){be("SyncEngine","Adding an already active target "+i);continue}const s=yield h3(r.localStore,i),o=yield $m(r.localStore,s);yield Jx(r,F3(s),o.targetId,!1,o.resumeToken),$b(r.remoteStore,o)}for(const i of t)r.fa.has(i)&&(yield jm(r.localStore,i,!1).then(()=>{II(r.remoteStore,i),Qm(r,i)}).catch(xd))}}),vR.apply(this,arguments)}function IR(n){const e=Oe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=O3.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=dX.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sX.bind(null,e),e.Va.a_=ZJ.bind(null,e.eventManager),e.Va.Fa=QJ.bind(null,e.eventManager),e}function ER(n){const e=Oe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=oX.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=aX.bind(null,e),e}class EI{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ce.Z)(function*(){t.serializer=yI(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return l3(this.persistence,new a3,e.initialUser,this.serializer)}createPersistence(e){return new dx(Nb.jr,this.serializer)}createSharedClientState(e){return new _3}terminate(){var e=this;return(0,ce.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class wR extends EI{constructor(e,t,r){super(),this.xa=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,ce.Z)(function*(){yield t().call(r,e),yield r.xa.initialize(r,e),yield ER(r.xa.syncEngine),yield qm(r.xa.remoteStore),yield r.persistence.mi(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return l3(this.persistence,new a3,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new YB(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new qQ(t,this.persistence);return new zQ(e.asyncQueue,r)}createPersistence(e){const t=px(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?xs.withCacheSize(this.cacheSizeBytes):xs.DEFAULT;return new fx(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,v3(),Hb(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new _3}}class V3 extends wR{constructor(e,t){super(e,t,!1),this.xa=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,ce.Z)(function*(){yield t().call(r,e);const i=r.xa.syncEngine;r.sharedClientState instanceof bx&&(r.sharedClientState.syncEngine={Ys:pX.bind(null,i),Zs:_X.bind(null,i),Xs:yX.bind(null,i),Bi:mX.bind(null,i),Js:fX.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.mi(function(){var s=(0,ce.Z)(function*(o){yield function gX(n,e){return mR.apply(this,arguments)}(r.xa.syncEngine,o),r.gcScheduler&&(o&&!r.gcScheduler.started?r.gcScheduler.start():o||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(o&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():o||r.indexBackfillerScheduler.stop())});return function(o){return s.apply(this,arguments)}}())})()}createSharedClientState(e){const t=v3();if(!bx.D(t))throw new ye(re.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=px(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new bx(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class Ym{initialize(e,t){var r=this;return(0,ce.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>N3(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=cX.bind(null,r.syncEngine),yield $x(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new KJ}createDatastore(e){const t=yI(e.databaseInfo.databaseId),r=new PJ(e.databaseInfo);return new NJ(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return r=this.localStore,i=this.datastore,s=e.asyncQueue,o=t=>N3(this.syncEngine,t,0),a=y3.D()?new y3:new DJ,new FJ(r,i,s,o,a);var r,i,s,o,a}createSyncEngine(e,t){return function(i,s,o,a,u,d,p){const y=new tX(i,s,o,a,u,d);return p&&(y.Ca=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ce.Z)(function*(r){const i=Oe(r);be("RemoteStore","RemoteStore shutting down."),i.C_.add(5),yield zm(i),i.F_.shutdown(),i.M_.set("Unknown")}),function t(r){return e.apply(this,arguments)})(this.remoteStore);var e}}function U3(n,e=10240){let t=0;return{read:()=>(0,ce.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,ce.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class zb{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):ii("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class EX{constructor(e,t){this.Ba=e,this.serializer=t,this.metadata=new Si,this.buffer=new Uint8Array,this.La=new TextDecoder("utf-8"),this.ka().then(r=>{r&&r.Z_()?this.metadata.resolve(r.Y_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Y_)}`))},r=>this.metadata.reject(r))}close(){return this.Ba.cancel()}getMetadata(){var e=this;return(0,ce.Z)(function*(){return e.metadata.promise})()}Ma(){var e=this;return(0,ce.Z)(function*(){return yield e.getMetadata(),e.ka()})()}ka(){var e=this;return(0,ce.Z)(function*(){const t=yield e.qa();if(null===t)return null;const r=e.La.decode(t),i=Number(r);isNaN(i)&&e.Qa(`length string (${r}) is not valid number`);const s=yield e.Ka(i);return new YJ(JSON.parse(s),t.length+i)})()}$a(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}qa(){var e=this;return(0,ce.Z)(function*(){for(;e.$a()<0&&!(yield e.Ua()););if(0===e.buffer.length)return null;const t=e.$a();t<0&&e.Qa("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Ka(e){var t=this;return(0,ce.Z)(function*(){for(;t.buffer.length<e;)(yield t.Ua())&&t.Qa("Reached the end of bundle when more is expected.");const r=t.La.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Qa(e){throw this.Ba.cancel(),new Error(`Invalid bundle format: ${e}`)}Ua(){var e=this;return(0,ce.Z)(function*(){const t=yield e.Ba.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class wX{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ce.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new ye(re.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,ce.Z)(function*(o,a){const u=Oe(o),d=uI(u.serializer)+"/documents",p={documents:a.map(x=>lI(u.serializer,x))},y=yield u.Co("BatchGetDocuments",d,p,a.length),I=new Map;y.forEach(x=>{const M=function jY(n,e){return"found"in e?function(r,i){rt(!!i.found);const s=lu(r,i.found.name),o=si(i.found.updateTime),a=i.found.createTime?si(i.found.createTime):st.min(),u=new cs({mapValue:{fields:i.found.fields}});return Cr.newFoundDocument(s,o,a,u)}(n,e):"missing"in e?function(r,i){rt(!!i.missing),rt(!!i.readTime);const s=lu(r,i.missing),o=si(i.readTime);return Cr.newNoDocument(s,o)}(n,e):qe()}(u.serializer,x);I.set(M.key.toString(),M)});const w=[];return a.forEach(x=>{const M=I.get(x.toString());rt(!!M),w.push(M)}),w}),function s(o,a){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new km(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ce.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const s=Ne.fromPath(i);e.mutations.push(new W1(s,e.precondition(s)))}),yield(r=(0,ce.Z)(function*(s,o){const a=Oe(s),u=uI(a.serializer)+"/documents",d={writes:o.map(p=>cI(a.serializer,p))};yield a.wo("Commit",u,d)}),function i(s,o){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw qe();t=st.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new ye(re.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(st.min())?kr.exists(!1):kr.updateTime(t):kr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(st.min()))throw new ye(re.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return kr.updateTime(t)}return kr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class bX{constructor(e,t,r,i,s){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=s,this.Wa=r.maxAttempts,this.zo=new Cx(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){var e=this;this.zo.ko((0,ce.Z)(function*(){const t=new wX(e.datastore),r=e.za(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(s=>{e.ja(s)}))}).catch(i=>{e.ja(i)})}))}za(e){try{const t=this.updateFunction(e);return!qv(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}ja(e){this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ga(),Promise.resolve()))):this.deferred.reject(e)}Ha(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!uB(t)}return!1}}class TX{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Wi.UNAUTHENTICATED,this.clientId=sU.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=(0,ce.Z)(function*(a){be("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(be("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return(0,ce.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ye(re.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Si;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ce.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Wm(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function qb(n,e){return bR.apply(this,arguments)}function bR(){return bR=(0,ce.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),be("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,ce.Z)(function*(s){r.isEqual(s)||(yield u3(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),bR.apply(this,arguments)}function TR(n,e){return CR.apply(this,arguments)}function CR(){return CR=(0,ce.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield SR(n);be("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>S3(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>S3(e.remoteStore,s)),n._onlineComponents=e}),CR.apply(this,arguments)}function B3(n){return"FirebaseError"===n.name?n.code===re.FAILED_PRECONDITION||n.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function SR(n){return AR.apply(this,arguments)}function AR(){return AR=(0,ce.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){be("FirestoreClient","Using user provided OfflineComponentProvider");try{yield qb(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!B3(t))throw t;bo("Error using user provided cache. Falling back to memory cache: "+t),yield qb(n,new EI)}}else be("FirestoreClient","Using default OfflineComponentProvider"),yield qb(n,new EI);return n._offlineComponents}),AR.apply(this,arguments)}function Gb(n){return DR.apply(this,arguments)}function DR(){return DR=(0,ce.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(be("FirestoreClient","Using user provided OnlineComponentProvider"),yield TR(n,n._uninitializedComponentsProvider._online)):(be("FirestoreClient","Using default OnlineComponentProvider"),yield TR(n,new Ym))),n._onlineComponents}),DR.apply(this,arguments)}function H3(n){return SR(n).then(e=>e.persistence)}function Jm(n){return SR(n).then(e=>e.localStore)}function $3(n){return Gb(n).then(e=>e.remoteStore)}function xR(n){return Gb(n).then(e=>e.syncEngine)}function Xm(n){return RR.apply(this,arguments)}function RR(){return RR=(0,ce.Z)(function*(n){const e=yield Gb(n),t=e.eventManager;return t.onListen=nX.bind(null,e.syncEngine),t.onUnlisten=rX.bind(null,e.syncEngine),t}),RR.apply(this,arguments)}function z3(n,e,t={}){const r=new Si;return n.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return function(s,o,a,u,d){const p=new zb({next:I=>{o.enqueueAndForget(()=>Wx(s,y));const w=I.docs.has(a);!w&&I.fromCache?d.reject(new ye(re.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&I.fromCache&&u&&"server"===u.source?d.reject(new ye(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(I)},error:I=>d.reject(I)}),y=new Qx(xm(a.path),p,{includeMetadataChanges:!0,J_:!0});return qx(s,y)}(yield Xm(n),n.asyncQueue,e,t,r)})),r.promise}function q3(n,e,t={}){const r=new Si;return n.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return function(s,o,a,u,d){const p=new zb({next:I=>{o.enqueueAndForget(()=>Wx(s,y)),I.fromCache&&"server"===u.source?d.reject(new ye(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(I)},error:I=>d.reject(I)}),y=new Qx(a,p,{includeMetadataChanges:!0,J_:!0});return qx(s,y)}(yield Xm(n),n.asyncQueue,e,t,r)})),r.promise}function G3(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const W3=new Map;function PR(n,e,t){if(!t)throw new ye(re.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function K3(n,e,t,r){if(!0===e&&!0===r)throw new ye(re.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Z3(n){if(!Ne.isDocumentKey(n))throw new ye(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Q3(n){if(Ne.isDocumentKey(n))throw new ye(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Wb(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(r=n).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof n?"a function":qe()}function dn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ye(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Wb(n);throw new ye(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Y3(n,e){if(e<=0)throw new ye(re.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class J3{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new ye(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ye(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}K3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=G3(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new ye(re.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ye(re.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ye(re.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wI{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new J3({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ye(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ye(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new J3(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new MQ;switch(r.type){case"firstParty":return new LQ(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ye(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=W3.get(t);r&&(be("ComponentProvider","Removing Datastore"),W3.delete(t),r.terminate())}(this),Promise.resolve()}}class ds{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ds(this.firestore,e,this._query)}}class Sr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new uu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Sr(this.firestore,e,this._key)}}class uu extends ds{constructor(e,t,r){super(e,t,xm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Sr(this.firestore,null,new Ne(e))}withConverter(e){return new uu(this.firestore,e,this._path)}}function e4(n,e,...t){if(n=(0,rr.m9)(n),PR("collection","path",e),n instanceof wI){const r=vn.fromString(e,...t);return Q3(r),new uu(n,null,r)}{if(!(n instanceof Sr||n instanceof uu))throw new ye(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(vn.fromString(e,...t));return Q3(r),new uu(n.firestore,null,r)}}function Kb(n,e,...t){if(n=(0,rr.m9)(n),1===arguments.length&&(e=sU.newId()),PR("doc","path",e),n instanceof wI){const r=vn.fromString(e,...t);return Z3(r),new Sr(n,null,new Ne(r))}{if(!(n instanceof Sr||n instanceof uu))throw new ye(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(vn.fromString(e,...t));return Z3(r),new Sr(n.firestore,n instanceof uu?n.converter:null,new Ne(r))}}function t4(n,e){return n=(0,rr.m9)(n),e=(0,rr.m9)(e),(n instanceof Sr||n instanceof uu)&&(e instanceof Sr||e instanceof uu)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function MR(n,e){return n=(0,rr.m9)(n),e=(0,rr.m9)(e),n instanceof ds&&e instanceof ds&&n.firestore===e.firestore&&Xv(n._query,e._query)&&n.converter===e.converter}class LX{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new Cx(this,"async_queue_retry"),this.iu=()=>{const t=Hb();t&&be("AsyncQueue","Visibility state changed to "+t.visibilityState),this.zo.Qo()};const e=Hb();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const t=Hb();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const t=new Si;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return(0,ce.Z)(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(t){if(!Rd(t))throw t;be("AsyncQueue","Operation failed with retryable error: "+t)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const t=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{throw this.eu=r,this.tu=!1,ii("INTERNAL UNHANDLED ERROR: ",function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),a}(r)),r}).then(r=>(this.tu=!1,r))));return this.Ja=t,t}enqueueAfterDelay(e,t,r){this.su(),this.ru.indexOf(e)>-1&&(t=0);const i=zx.createAndSchedule(this,e,t,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&qe()}verifyOperationInProgress(){}uu(){var e=this;return(0,ce.Z)(function*(){let t;do{t=e.Ja,yield t}while(t!==e.Ja)})()}cu(e){for(const t of this.Xa)if(t.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Xa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const t=this.Xa.indexOf(e);this.Xa.splice(t,1)}}function OR(n){return function(t,r){if("object"!=typeof t||null===t)return!1;const i=t;for(const s of["next","error","complete"])if(s in i&&"function"==typeof i[s])return!0;return!1}(n)}class FX{constructor(){this._progressObserver={},this._taskCompletionResolver=new Si,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class fr extends wI{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new LX,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||n4(this),this._firestoreClient.terminate()}}function Qr(n){return n._firestoreClient||n4(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function n4(n){var e,t,r;const i=n._freezeSettings(),s=(u=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new hY(n._databaseId,u,n._persistenceKey,(p=i).host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,G3(p.experimentalLongPollingOptions),p.useFetchStreams));var u,p;n._firestoreClient=new TX(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(t=i.localCache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function r4(n,e,t){const r=new Si;return n.asyncQueue.enqueue((0,ce.Z)(function*(){try{yield qb(n,t),yield TR(n,e),r.resolve()}catch(i){const s=i;if(!B3(s))throw s;bo("Error enabling indexeddb cache. Falling back to memory cache: "+s),r.reject(s)}})).then(()=>r.promise)}function s4(n){if(n._initialized||n._terminated)throw new ye(re.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class cu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new cu(Ai.fromBase64String(e))}catch(t){throw new ye(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new cu(Ai.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class yc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new ye(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Zf{constructor(e){this._methodName=e}}class Zb{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ye(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ye(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Nt(this._lat,e._lat)||Nt(this._long,e._long)}}const KX=/^__.*__$/;class ZX{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new gc(e,this.data,this.fieldMask,t,this.fieldTransforms):new Nm(e,this.data,t,this.fieldTransforms)}}class o4{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new gc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function a4(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qe()}}class Qb{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new Qb(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return Xb(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(a4(this.Iu)&&KX.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class QX{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||yI(e)}pu(e,t,r,i=!1){return new Qb({Iu:e,methodName:t,gu:r,path:Tr.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qf(n){const e=n._freezeSettings(),t=yI(n._databaseId);return new QX(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Yb(n,e,t,r,i,s={}){const o=n.pu(s.merge||s.mergeFields?2:0,e,t,i);FR("Data must be an object, but it was:",o,r);const a=c4(r,o);let u,d;if(s.merge)u=new To(o.fieldMask),d=o.fieldTransforms;else if(s.mergeFields){const p=[];for(const y of s.mergeFields){const I=CI(e,y,t);if(!o.contains(I))throw new ye(re.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);h4(p,I)||p.push(I)}u=new To(p),d=o.fieldTransforms.filter(y=>u.covers(y.field))}else u=null,d=o.fieldTransforms;return new ZX(new cs(a),u,d)}class TI extends Zf{_toFieldTransform(e){if(2!==e.Iu)throw e.mu(1===e.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof TI}}function l4(n,e,t){return new Qb({Iu:3,gu:e.settings.gu,methodName:n._methodName,du:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class NR extends Zf{_toFieldTransform(e){return new rI(e.path,new Mm)}isEqual(e){return e instanceof NR}}class YX extends Zf{constructor(e,t){super(e),this.yu=t}_toFieldTransform(e){const t=l4(this,e,!0),r=this.yu.map(s=>Yf(s,t)),i=new Bf(r);return new rI(e.path,i)}isEqual(e){return this===e}}class JX extends Zf{constructor(e,t){super(e),this.yu=t}_toFieldTransform(e){const t=l4(this,e,!0),r=this.yu.map(s=>Yf(s,t)),i=new Hf(r);return new rI(e.path,i)}isEqual(e){return this===e}}class XX extends Zf{constructor(e,t){super(e),this.wu=t}_toFieldTransform(e){const t=new Om(e.serializer,JU(e.serializer,this.wu));return new rI(e.path,t)}isEqual(e){return this===e}}function kR(n,e,t,r){const i=n.pu(1,e,t);FR("Data must be an object, but it was:",i,r);const s=[],o=cs.empty();Pd(r,(u,d)=>{const p=Jb(e,u,t);d=(0,rr.m9)(d);const y=i.Ru(p);if(d instanceof TI)s.push(p);else{const I=Yf(d,y);null!=I&&(s.push(p),o.set(p,I))}});const a=new To(s);return new o4(o,a,i.fieldTransforms)}function LR(n,e,t,r,i,s){const o=n.pu(1,e,t),a=[CI(e,r,t)],u=[i];if(s.length%2!=0)throw new ye(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<s.length;I+=2)a.push(CI(e,s[I])),u.push(s[I+1]);const d=[],p=cs.empty();for(let I=a.length-1;I>=0;--I)if(!h4(d,a[I])){const w=a[I];let x=u[I];x=(0,rr.m9)(x);const M=o.Ru(w);if(x instanceof TI)d.push(w);else{const L=Yf(x,M);null!=L&&(d.push(w),p.set(w,L))}}const y=new To(d);return new o4(p,y,o.fieldTransforms)}function u4(n,e,t,r=!1){return Yf(t,n.pu(r?4:3,e))}function Yf(n,e){if(d4(n=(0,rr.m9)(n)))return FR("Unsupported field value:",e,n),c4(n,e);if(n instanceof Zf)return function(r,i){if(!a4(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let u=Yf(a,i.Vu(o));null==u&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if(null===(r=(0,rr.m9)(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return JU(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const s=Nr.fromDate(r);return{timestampValue:Lm(i.serializer,s)}}if(r instanceof Nr){const s=new Nr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Lm(i.serializer,s)}}if(r instanceof Zb)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof cu)return{bytesValue:vB(i.serializer,r._byteString)};if(r instanceof Sr){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:X1(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${Wb(r)}`)}(n,e)}function c4(n,e){const t={};return IU(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Pd(n,(r,i)=>{const s=Yf(i,e.Eu(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function d4(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Nr||n instanceof Zb||n instanceof cu||n instanceof Sr||n instanceof Zf)}function FR(n,e,t){if(!d4(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=Wb(t);throw e.mu("an object"===r?n+" a custom object":n+" "+r)}var i}function CI(n,e,t){if((e=(0,rr.m9)(e))instanceof yc)return e._internalPath;if("string"==typeof e)return Jb(n,e);throw Xb("Field path arguments must be of type string or ",n,!1,void 0,t)}const eee=new RegExp("[~\\*/\\[\\]]");function Jb(n,e,t){if(e.search(eee)>=0)throw Xb(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new yc(...e.split("."))._internalPath}catch{throw Xb(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Xb(n,e,t,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new ye(re.INVALID_ARGUMENT,a+n+u)}function h4(n,e){return n.some(t=>t.isEqual(e))}class SI{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Sr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new tee(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(eT("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class tee extends SI{data(){return super.data()}}function eT(n,e){return"string"==typeof e?Jb(n,e):e instanceof yc?e._internalPath:e._delegate._internalPath}function f4(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new ye(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class VR{}class AI extends VR{}function zd(n,e,...t){let r=[];e instanceof VR&&r.push(e),r=r.concat(t),function(s){const o=s.filter(u=>u instanceof e_).length,a=s.filter(u=>u instanceof DI).length;if(o>1||o>0&&a>0)throw new ye(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class DI extends AI{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new DI(e,t,r)}_apply(e){const t=this._parse(e);return _4(e._query,t),new ds(e.firestore,e.converter,q1(e._query,t))}_parse(e){const t=Qf(e.firestore);return function(s,o,a,u,d,p,y){let I;if(d.isKeyField()){if("array-contains"===p||"array-contains-any"===p)throw new ye(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if("in"===p||"not-in"===p){m4(y,p);const w=[];for(const x of y)w.push(g4(u,s,x));I={arrayValue:{values:w}}}else I=g4(u,s,y)}else"in"!==p&&"not-in"!==p&&"array-contains-any"!==p||m4(y,p),I=u4(a,"where",y,"in"===p||"not-in"===p);return fn.create(d,p,I)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class e_ extends VR{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new e_(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:jn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const u of a)_4(o,u),o=q1(o,u)}(e._query,t),new ds(e.firestore,e.converter,q1(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class UR extends AI{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new UR(e,t)}_apply(e){const t=function(i,s,o){if(null!==i.startAt)throw new ye(re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new ye(re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Yv(s,o)}(e._query,this._field,this._direction);return new ds(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new fc(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class tT extends AI{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new tT(e,t,r)}_apply(e){return new ds(e.firestore,e.converter,Eb(e._query,this._limit,this._limitType))}}class nT extends AI{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new nT(e,t,r)}_apply(e){const t=p4(e,this.type,this._docOrFields,this._inclusive);return new ds(e.firestore,e.converter,(s=t,new fc((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)));var i,s}}class rT extends AI{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new rT(e,t,r)}_apply(e){const t=p4(e,this.type,this._docOrFields,this._inclusive);return new ds(e.firestore,e.converter,(s=t,new fc((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)));var i,s}}function p4(n,e,t,r){if(t[0]=(0,rr.m9)(t[0]),t[0]instanceof SI)return function(s,o,a,u,d){if(!u)throw new ye(re.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const p=[];for(const y of Rm(s))if(y.field.isKeyField())p.push(Vf(o,u.key));else{const I=u.data.field(y.field);if(pb(I))throw new ye(re.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+y.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===I){const w=y.field.canonicalString();throw new ye(re.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${w}' (used as the orderBy) does not exist.`)}p.push(I)}return new Fd(p,d)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Qf(n.firestore);return function(o,a,u,d,p,y){const I=o.explicitOrderBy;if(p.length>I.length)throw new ye(re.INVALID_ARGUMENT,`Too many arguments provided to ${d}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const w=[];for(let x=0;x<p.length;x++){const M=p[x];if(I[x].field.isKeyField()){if("string"!=typeof M)throw new ye(re.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${d}(), but got a ${typeof M}`);if(!z1(o)&&-1!==M.indexOf("/"))throw new ye(re.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${d}() must be a plain document ID, but '${M}' contains a slash.`);const L=o.path.child(vn.fromString(M));if(!Ne.isDocumentKey(L))throw new ye(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${d}() must result in a valid document path, but '${L}' is not because it contains an odd number of segments.`);const G=new Ne(L);w.push(Vf(a,G))}else{const L=u4(u,d,M);w.push(L)}}return new Fd(w,y)}(n._query,n.firestore._databaseId,i,e,t,r)}}function g4(n,e,t){if("string"==typeof(t=(0,rr.m9)(t))){if(""===t)throw new ye(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!z1(e)&&-1!==t.indexOf("/"))throw new ye(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(vn.fromString(t));if(!Ne.isDocumentKey(r))throw new ye(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Vf(n,new Ne(r))}if(t instanceof Sr)return Vf(n,t._key);throw new ye(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wb(t)}.`)}function m4(n,e){if(!Array.isArray(n)||0===n.length)throw new ye(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function _4(n,e){const t=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new ye(re.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class BR{convertValue(e,t="none"){switch(kd(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Zr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(hc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw qe()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Pd(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new Zb(Zr(e.latitude),Zr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=gb(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Wv(e));default:return null}}convertTimestamp(e){const t=Md(e);return new Nr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=vn.fromString(e);rt(xB(r));const i=new Od(r.get(1),r.get(3)),s=new Ne(r.popFirst(5));return i.isEqual(t)||ii(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function iT(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class cee extends BR{constructor(e){super(),this.firestore=e}convertBytes(e){return new cu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Sr(this.firestore,null,t)}}class Jf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vc extends SI{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new xI(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(eT("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class xI extends vc{data(e={}){return super.data(e)}}class qd{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Jf(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new xI(this._firestore,this._userDataWriter,r.key,r,new Jf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ye(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new xI(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Jf(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||3!==a.type).map(a=>{const u=new xI(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Jf(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,p=-1;return 0!==a.type&&(d=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),1!==a.type&&(o=o.add(a.doc),p=o.indexOf(a.doc.key)),{type:hee(a.type),doc:u,oldIndex:d,newIndex:p}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function hee(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qe()}}function v4(n,e){return n instanceof vc&&e instanceof vc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof qd&&e instanceof qd&&n._firestore===e._firestore&&MR(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Gd extends BR{constructor(e){super(),this.firestore=e}convertBytes(e){return new cu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Sr(this.firestore,null,t)}}function I4(n,e,t){n=dn(n,Sr);const r=dn(n.firestore,fr),i=iT(n.converter,e,t);return t_(r,[Yb(Qf(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,kr.none())])}function E4(n,e,t,...r){n=dn(n,Sr);const i=dn(n.firestore,fr),s=Qf(i);let o;return o="string"==typeof(e=(0,rr.m9)(e))||e instanceof yc?LR(s,"updateDoc",n._key,e,t,r):kR(s,"updateDoc",n._key,e),t_(i,[o.toMutation(n._key,kr.exists(!0))])}function w4(n,...e){var t,r,i;n=(0,rr.m9)(n);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||OR(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(OR(e[o])){const y=e[o];e[o]=null===(t=y.next)||void 0===t?void 0:t.bind(y),e[o+1]=null===(r=y.error)||void 0===r?void 0:r.bind(y),e[o+2]=null===(i=y.complete)||void 0===i?void 0:i.bind(y)}let u,d,p;if(n instanceof Sr)d=dn(n.firestore,fr),p=xm(n._key.path),u={next:y=>{e[o]&&e[o](HR(d,n,y))},error:e[o+1],complete:e[o+2]};else{const y=dn(n,ds);d=dn(y.firestore,fr),p=y._query;const I=new Gd(d);u={next:w=>{e[o]&&e[o](new qd(d,I,y,w))},error:e[o+1],complete:e[o+2]},f4(n._query)}return function(I,w,x,M){const L=new zb(M),G=new Qx(w,L,x);return I.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return qx(yield Xm(I),G)})),()=>{L.Na(),I.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return Wx(yield Xm(I),G)}))}}(Qr(d),p,a,u)}function t_(n,e){return function(r,i){const s=new Si;return r.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return function iX(n,e,t){return tR.apply(this,arguments)}(yield xR(r),i,s)})),s.promise}(Qr(n),e)}function HR(n,e,t){const r=t.docs.get(e._key),i=new Gd(n);return new vc(n,i,e._key,r,new Jf(t.hasPendingWrites,t.fromCache),e.converter)}const Ree={maxAttempts:5};class b4{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Qf(e)}set(e,t,r){this._verifyNotCommitted();const i=Wd(e,this._firestore),s=iT(i.converter,t,r),o=Yb(this._dataReader,"WriteBatch.set",i._key,s,null!==i.converter,r);return this._mutations.push(o.toMutation(i._key,kr.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const s=Wd(e,this._firestore);let o;return o="string"==typeof(t=(0,rr.m9)(t))||t instanceof yc?LR(this._dataReader,"WriteBatch.update",s._key,t,r,i):kR(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(o.toMutation(s._key,kr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Wd(e,this._firestore);return this._mutations=this._mutations.concat(new km(t._key,kr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ye(re.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Wd(n,e){if((n=(0,rr.m9)(n)).firestore!==e)throw new ye(re.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Pee extends class{constructor(t,r){this._firestore=t,this._transaction=r,this._dataReader=Qf(t)}get(t){const r=Wd(t,this._firestore),i=new cee(this._firestore);return this._transaction.lookup([r._key]).then(s=>{if(!s||1!==s.length)return qe();const o=s[0];if(o.isFoundDocument())return new SI(this._firestore,i,o.key,o,r.converter);if(o.isNoDocument())return new SI(this._firestore,i,r._key,null,r.converter);throw qe()})}set(t,r,i){const s=Wd(t,this._firestore),o=iT(s.converter,r,i),a=Yb(this._dataReader,"Transaction.set",s._key,o,null!==s.converter,i);return this._transaction.set(s._key,a),this}update(t,r,i,...s){const o=Wd(t,this._firestore);let a;return a="string"==typeof(r=(0,rr.m9)(r))||r instanceof yc?LR(this._dataReader,"Transaction.update",o._key,r,i,s):kR(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,a),this}delete(t){const r=Wd(t,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Wd(e,this._firestore),r=new Gd(this._firestore);return super.get(e).then(i=>new vc(this._firestore,r,t._key,i._document,new Jf(!1,!1),t.converter))}}function jR(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new ye("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function A4(){if(typeof Uint8Array>"u")throw new ye("unimplemented","Uint8Arrays are not available in this environment.")}function D4(){if(!function cY(){return typeof atob<"u"}())throw new ye("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,t=!0){Em=dm.SDK_VERSION,(0,dm._registerComponent)(new EF.wA("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new fr(new NQ(r.getProvider("auth-internal")),new FQ(r.getProvider("app-check-internal")),function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new ye(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Od(d.options.projectId,p)}(o,i),o);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),(0,dm.registerVersion)(nU,"4.3.2",e),(0,dm.registerVersion)(nU,"4.3.2","esm2017")}();class RI{constructor(e){this._delegate=e}static fromBase64String(e){return D4(),new RI(cu.fromBase64String(e))}static fromUint8Array(e){return A4(),new RI(cu.fromUint8Array(e))}toBase64(){return D4(),this._delegate.toBase64()}toUint8Array(){return A4(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function zR(n){return function Hee(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class $ee{enableIndexedDbPersistence(e,t){return function UX(n,e){s4(n=dn(n,fr));const t=Qr(n);if(t._uninitializedComponentsProvider)throw new ye(re.FAILED_PRECONDITION,"SDK cache is already specified.");bo("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),i=new Ym;return r4(t,i,new wR(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function BX(n){s4(n=dn(n,fr));const e=Qr(n);if(e._uninitializedComponentsProvider)throw new ye(re.FAILED_PRECONDITION,"SDK cache is already specified.");bo("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),r=new Ym;return r4(e,r,new V3(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function HX(n){if(n._initialized&&!n._terminated)throw new ye(re.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Si;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ce.Z)(function*(){try{yield(t=(0,ce.Z)(function*(i){if(!al.D())return Promise.resolve();const s=i+"main";yield al.delete(s)}),function r(i){return t.apply(this,arguments)})(px(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class x4{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Od||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&bo("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function X3(n,e,t,r={}){var i;const s=(n=dn(n,wI))._getSettings(),o=`${e}:${t}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&bo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=Wi.MOCK_USER;else{a=(0,rr.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new ye(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Wi(d)}n._authCredentials=new OQ(new rU(a,u))}}(this._delegate,e,t,r)}enableNetwork(){return function jX(n){return function CX(n){return n.asyncQueue.enqueue((0,ce.Z)(function*(){const e=yield H3(n),t=yield $3(n);return e.setNetworkEnabled(!0),function(i){const s=Oe(i);return s.C_.delete(0),vI(s)}(t)}))}(Qr(n=dn(n,fr)))}(this._delegate)}disableNetwork(){return function zX(n){return function SX(n){return n.asyncQueue.enqueue((0,ce.Z)(function*(){const e=yield H3(n),t=yield $3(n);return e.setNetworkEnabled(!1),(r=(0,ce.Z)(function*(s){const o=Oe(s);o.C_.add(0),yield zm(o),o.M_.set("Offline")}),function i(s){return r.apply(this,arguments)})(t);var r}))}(Qr(n=dn(n,fr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,K3("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function $X(n){return function(t){const r=new Si;return t.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return function lX(n,e){return oR.apply(this,arguments)}(yield xR(t),r)})),r.promise}(Qr(n=dn(n,fr)))}(this._delegate)}onSnapshotsInSync(e){return function Eee(n,e){return function xX(n,e){const t=new zb(e);return n.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return i=yield Xm(n),s=t,Oe(i).q_.add(s),void s.next();var i,s})),()=>{t.Na(),n.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return i=yield Xm(n),s=t,void Oe(i).q_.delete(s);var i,s}))}}(Qr(n=dn(n,fr)),OR(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new ye("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new n_(this,e4(this._delegate,e))}catch(t){throw eo(t,"collection()","Firestore.collection()")}}doc(e){try{return new Ua(this,Kb(this._delegate,e))}catch(t){throw eo(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new to(this,function kX(n,e){if(n=dn(n,wI),PR("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ye(re.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ds(n,null,(r=e,new fc(vn.emptyPath(),r)));var r}(this._delegate,e))}catch(t){throw eo(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function Mee(n,e,t){n=dn(n,fr);const r=Object.assign(Object.assign({},Ree),t);return function(s){if(s.maxAttempts<1)throw new ye(re.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,a){const u=new Si;return s.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){const d=yield function j3(n){return Gb(n).then(e=>e.datastore)}(s);new bX(s.asyncQueue,d,a,o,u).run()})),u.promise}(Qr(n),i=>e(new Pee(n,i)),r)}(this._delegate,t=>e(new R4(this,t)))}batch(){return Qr(this._delegate),new P4(new b4(this._delegate,e=>t_(this._delegate,e)))}loadBundle(e){return function qX(n,e){const t=Qr(n=dn(n,fr)),r=new FX;return function RX(n,e,t,r){const i=function(o,a){let u;return u="string"==typeof o?dB().encode(o):o,p=function(p,y){if(p instanceof Uint8Array)return U3(p,y);if(p instanceof ArrayBuffer)return U3(new Uint8Array(p),y);if(p instanceof ReadableStream)return p.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(u),new EX(p,a);var p}(t,yI(e));n.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){!function vX(n,e,t){const r=Oe(n);var i;(i=(0,ce.Z)(function*(o,a,u){try{const d=yield a.getMetadata();if(yield function(x,M){const L=Oe(x),G=si(M.createTime);return L.persistence.runTransaction("hasNewerBundle","readonly",$=>L.Kr.getBundleMetadata($,M.id)).then($=>!!$&&$.createTime.compareTo(G)>=0)}(o.localStore,d))return yield a.close(),u._completeWith({taskState:"Success",documentsLoaded:(x=d).totalDocuments,bytesLoaded:x.totalBytes,totalDocuments:x.totalDocuments,totalBytes:x.totalBytes}),Promise.resolve(new Set);u._updateProgress(x3(d));const p=new JJ(d,o.localStore,a.serializer);let y=yield a.Ma();for(;y;){const w=yield p.ea(y);w&&u._updateProgress(w),y=yield a.Ma()}const I=yield p.complete();return yield _c(o,I.ra,void 0),yield function(x,M){const L=Oe(x);return L.persistence.runTransaction("Save bundle","readwrite",G=>L.Kr.saveBundleMetadata(G,M))}(o.localStore,d),u._completeWith(I.progress),Promise.resolve(I.na)}catch(d){return bo("SyncEngine",`Loading bundle failed with ${d}`),u._failWith(d),Promise.resolve(new Set)}var x}),function s(o,a,u){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield xR(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function GX(n,e){return function PX(n,e){return n.asyncQueue.enqueue((0,ce.Z)(function*(){return function(r,i){const s=Oe(r);return s.persistence.runTransaction("Get named query","readonly",o=>s.Kr.getNamedQuery(o,i))}(yield Jm(n),e)}))}(Qr(n=dn(n,fr)),e).then(t=>t?new ds(n,null,t.query):null)}(this._delegate,e).then(t=>t?new to(this,t):null)}}class oT extends BR{constructor(e){super(),this.firestore=e}convertBytes(e){return new RI(new cu(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Ua.forKey(t,this.firestore,null)}}class R4{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new oT(e)}get(e){const t=ep(e);return this._delegate.get(t).then(r=>new PI(this._firestore,new vc(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=ep(e);return r?(jR("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=ep(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=ep(e);return this._delegate.delete(t),this}}class P4{constructor(e){this._delegate=e}set(e,t,r){const i=ep(e);return r?(jR("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=ep(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=ep(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Xf{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new xI(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new MI(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Xf.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(t);return s||(s=new Xf(e,new oT(e),t),i.set(t,s)),s}}Xf.INSTANCES=new WeakMap;class Ua{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new oT(e)}static forPath(e,t,r){if(e.length%2!=0)throw new ye("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ua(t,new Sr(t._delegate,r,new Ne(e)))}static forKey(e,t,r){return new Ua(t,new Sr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new n_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new n_(this.firestore,e4(this._delegate,e))}catch(t){throw eo(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,rr.m9)(e))instanceof Sr&&t4(this._delegate,e)}set(e,t){t=jR("DocumentReference.set",t);try{return t?I4(this._delegate,e,t):I4(this._delegate,e)}catch(r){throw eo(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?E4(this._delegate,e):E4(this._delegate,e,t,...r)}catch(i){throw eo(i,"updateDoc()","DocumentReference.update()")}}delete(){return function vee(n){return t_(dn(n.firestore,fr),[new km(n._key,kr.none())])}(this._delegate)}onSnapshot(...e){const t=M4(e),r=O4(e,i=>new PI(this.firestore,new vc(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return w4(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function pee(n){n=dn(n,Sr);const e=dn(n.firestore,fr),t=Qr(e),r=new Gd(e);return function AX(n,e){const t=new Si;return n.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return(r=(0,ce.Z)(function*(s,o,a){try{const u=yield function(p,y){const I=Oe(p);return I.persistence.runTransaction("read document","readonly",w=>I.localDocuments.getDocument(w,y))}(s,o);u.isFoundDocument()?a.resolve(u):u.isNoDocument()?a.resolve(null):a.reject(new ye(re.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(u){const d=Wm(u,`Failed to get document '${o} from cache`);a.reject(d)}}),function i(s,o,a){return r.apply(this,arguments)})(yield Jm(n),e,t);var r})),t.promise}(t,n._key).then(i=>new vc(e,r,n._key,i,new Jf(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function gee(n){n=dn(n,Sr);const e=dn(n.firestore,fr);return z3(Qr(e),n._key,{source:"server"}).then(t=>HR(e,n,t))}(this._delegate):function fee(n){n=dn(n,Sr);const e=dn(n.firestore,fr);return z3(Qr(e),n._key).then(t=>HR(e,n,t))}(this._delegate),t.then(r=>new PI(this.firestore,new vc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Ua(this.firestore,this._delegate.withConverter(e?Xf.getInstance(this.firestore,e):null))}}function eo(n,e,t){return n.message=n.message.replace(e,t),n}function M4(n){for(const e of n)if("object"==typeof e&&!zR(e))return e;return{}}function O4(n,e){var t,r;let i;return i=zR(n[0])?n[0]:zR(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{i.next&&i.next(e(s))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class PI{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Ua(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return v4(this._delegate,e._delegate)}}class MI extends PI{data(e){const t=this._delegate.data(e);return this._delegate._converter||function PQ(n,e){n||qe()}(void 0!==t),t}}class to{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new oT(e)}where(e,t,r){try{return new to(this.firestore,zd(this._delegate,function nee(n,e,t){const r=e,i=eT("where",n);return DI._create(i,r,t)}(e,t,r)))}catch(i){throw eo(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new to(this.firestore,zd(this._delegate,function ree(n,e="asc"){const t=e,r=eT("orderBy",n);return UR._create(r,t)}(e,t)))}catch(r){throw eo(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new to(this.firestore,zd(this._delegate,function iee(n){return Y3("limit",n),tT._create("limit",n,"F")}(e)))}catch(t){throw eo(t,"limit()","Query.limit()")}}limitToLast(e){try{return new to(this.firestore,zd(this._delegate,function see(n){return Y3("limitToLast",n),tT._create("limitToLast",n,"L")}(e)))}catch(t){throw eo(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new to(this.firestore,zd(this._delegate,function oee(...n){return nT._create("startAt",n,!0)}(...e)))}catch(t){throw eo(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new to(this.firestore,zd(this._delegate,function aee(...n){return nT._create("startAfter",n,!1)}(...e)))}catch(t){throw eo(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new to(this.firestore,zd(this._delegate,function lee(...n){return rT._create("endBefore",n,!1)}(...e)))}catch(t){throw eo(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new to(this.firestore,zd(this._delegate,function uee(...n){return rT._create("endAt",n,!0)}(...e)))}catch(t){throw eo(t,"endAt()","Query.endAt()")}}isEqual(e){return MR(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function _ee(n){n=dn(n,ds);const e=dn(n.firestore,fr),t=Qr(e),r=new Gd(e);return function DX(n,e){const t=new Si;return n.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return(r=(0,ce.Z)(function*(s,o,a){try{const u=yield Fb(s,o,!0),d=new M3(o,u.ls),p=d.ca(u.documents),y=d.applyChanges(p,!1);a.resolve(y.snapshot)}catch(u){const d=Wm(u,`Failed to execute query '${o} against cache`);a.reject(d)}}),function i(s,o,a){return r.apply(this,arguments)})(yield Jm(n),e,t);var r})),t.promise}(t,n._query).then(i=>new qd(e,r,n,i))}(this._delegate):"server"===e?.source?function yee(n){n=dn(n,ds);const e=dn(n.firestore,fr),t=Qr(e),r=new Gd(e);return q3(t,n._query,{source:"server"}).then(i=>new qd(e,r,n,i))}(this._delegate):function mee(n){n=dn(n,ds);const e=dn(n.firestore,fr),t=Qr(e),r=new Gd(e);return f4(n._query),q3(t,n._query).then(i=>new qd(e,r,n,i))}(this._delegate),t.then(r=>new qR(this.firestore,new qd(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=M4(e),r=O4(e,i=>new qR(this.firestore,new qd(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return w4(this._delegate,t,r)}withConverter(e){return new to(this.firestore,this._delegate.withConverter(e?Xf.getInstance(this.firestore,e):null))}}class zee{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new MI(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class qR{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new to(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new MI(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new zee(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new MI(this._firestore,r))})}isEqual(e){return v4(this._delegate,e._delegate)}}class n_ extends to{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ua(this.firestore,e):null}doc(e){try{return new Ua(this.firestore,void 0===e?Kb(this._delegate):Kb(this._delegate,e))}catch(t){throw eo(t,"doc()","CollectionReference.doc()")}}add(e){return function Iee(n,e){const t=dn(n.firestore,fr),r=Kb(n),i=iT(n.converter,e);return t_(t,[Yb(Qf(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,kr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Ua(this.firestore,t))}isEqual(e){return t4(this._delegate,e._delegate)}withConverter(e){return new n_(this.firestore,this._delegate.withConverter(e?Xf.getInstance(this.firestore,e):null))}}function ep(n){return dn(n,Sr)}class GR{constructor(...e){this._delegate=new yc(...e)}static documentId(){return new GR(Tr.keyField().canonicalString())}isEqual(e){return(e=(0,rr.m9)(e))instanceof yc&&this._delegate._internalPath.isEqual(e._internalPath)}}class tp{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Nee(){return new NR("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new tp(e)}static delete(){const e=function Oee(){return new TI("deleteField")}();return e._methodName="FieldValue.delete",new tp(e)}static arrayUnion(...e){const t=function kee(...n){return new YX("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new tp(t)}static arrayRemove(...e){const t=function Lee(...n){return new JX("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new tp(t)}static increment(e){const t=function Fee(n){return new XX("increment",n)}(e);return t._methodName="FieldValue.increment",new tp(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const qee={Firestore:x4,GeoPoint:Zb,Timestamp:Nr,Blob:RI,Transaction:R4,WriteBatch:P4,DocumentReference:Ua,DocumentSnapshot:PI,Query:to,QueryDocumentSnapshot:MI,QuerySnapshot:qR,CollectionReference:n_,FieldPath:GR,FieldValue:tp,setLogLevel:function jee(n){!function RQ(n){Dd.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function N4(n,e){return function Kee(n,e=TF){return new bt(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function WR(n,e){return N4(n,e).pipe(Re(t=>({payload:t,type:"query"})))}!function Wee(n){(function Gee(n,e){n.INTERNAL.registerComponent(new EF.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},qee)))})(n,(e,t)=>new x4(e,t,new $ee)),n.registerVersion("@firebase/firestore-compat","0.3.22")}(Cd.Z);class k4{ref;afs;constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:s}=U4(r,t);return new V4(i,s,this.afs)}snapshotChanges(){return function Zee(n,e){return N4(n,e).pipe(pw(void 0),$D(),Re(t=>{const[r,i]=t;return i.exists?r?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Xo)}valueChanges(e={}){return this.snapshotChanges().pipe(Re(({payload:t})=>e.idField?{...t.data(),[e.idField]:t.id}:t.data()))}get(e){return A(this.ref.get(e)).pipe(Xo)}}function aT(n,e){return WR(n,e).pipe(pw(void 0),$D(),Re(t=>{const[r,i]=t,s=i.payload.docChanges(),o=s.map(a=>({type:a.type,payload:a}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((a,u)=>{const d=s.find(y=>y.doc.ref.isEqual(a.ref)),p=r?.payload.docs.find(y=>y.ref.isEqual(a.ref));d&&JSON.stringify(d.doc.metadata)===JSON.stringify(a.metadata)||!d&&p&&JSON.stringify(p.metadata)===JSON.stringify(a.metadata)||o.push({type:"modified",payload:{oldIndex:u,newIndex:u,type:"modified",doc:a}})}),o}))}function L4(n,e,t){return aT(n,t).pipe(mw((r,i)=>function Qee(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function Yee(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return KR(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return KR(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return KR(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(s=>s.payload),e),[]),ht(),Re(r=>r.map(i=>({type:i.type,payload:i}))))}function KR(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function F4(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class V4{ref;query;afs;constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=aT(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe(Re(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(pw(void 0),$D(),Fa(([r,i])=>i.length>0||!r),Re(([,r])=>r),Xo)}auditTrail(e){return this.stateChanges(e).pipe(mw((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=F4(e);return L4(this.query,t,this.afs.schedulers.outsideAngular).pipe(Xo)}valueChanges(e={}){return WR(this.query,this.afs.schedulers.outsideAngular).pipe(Re(t=>t.payload.docs.map(r=>e.idField?{...r.data(),[e.idField]:r.id}:r.data())),Xo)}get(e){return A(this.query.get(e)).pipe(Xo)}add(e){return this.ref.add(e)}doc(e){return new k4(this.ref.doc(e),this.afs)}}class Jee{query;afs;constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?aT(this.query,this.afs.schedulers.outsideAngular).pipe(Re(t=>t.filter(r=>e.indexOf(r.type)>-1)),Fa(t=>t.length>0),Xo):aT(this.query,this.afs.schedulers.outsideAngular).pipe(Xo)}auditTrail(e){return this.stateChanges(e).pipe(mw((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=F4(e);return L4(this.query,t,this.afs.schedulers.outsideAngular).pipe(Xo)}valueChanges(e={}){return WR(this.query,this.afs.schedulers.outsideAngular).pipe(Re(r=>r.payload.docs.map(i=>e.idField?{[e.idField]:i.id,...i.data()}:i.data())),Xo)}get(e){return A(this.query.get(e)).pipe(Xo)}}const Xee=new xe("angularfire2.enableFirestorePersistence"),ete=new xe("angularfire2.firestore.persistenceSettings"),tte=new xe("angularfire2.firestore.settings"),nte=new xe("angularfire2.firestore.use-emulator");function U4(n,e=(t=>t)){return{query:e(n),ref:n}}let rte=(()=>{class n{schedulers;firestore;persistenceEnabled$;constructor(t,r,i,s,o,a,u,d,p,y,I,w,x,M,L,G,$){this.schedulers=u;const J=HD(t,a,r),ue=p;y&&UF(J,a,I,x,M,L,w,G),[this.firestore,this.persistenceEnabled$]=xF(`${J.name}.firestore`,"AngularFirestore",J.name,()=>{const Ce=a.runOutsideAngular(()=>J.firestore());if(s&&Ce.settings(s),ue&&Ce.useEmulator(...ue),i&&!uw(o)){const Xe=()=>{try{return A(Ce.enablePersistence(d||void 0).then(()=>!0,()=>!1))}catch(Rt){return typeof console<"u"&&console.warn(Rt),V(!1)}};return[Ce,a.runOutsideAngular(Xe)]}return[Ce,V(!1)]},[s,ue,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:s,query:o}=U4(i,r),a=this.schedulers.ngZone.run(()=>s);return new V4(a,o,this)}collectionGroup(t,r){const i=r||(o=>o),s=this.firestore.collectionGroup(t);return new Jee(i(s),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new k4(i,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(r){return new(r||n)(Ie(kw),Ie(Lw,8),Ie(Xee,8),Ie(tte,8),Ie(vo),Ie(ut),Ie(AF),Ie(ete,8),Ie(nte,8),Ie(Fw,8),Ie(OF,8),Ie(NF,8),Ie(kF,8),Ie(LF,8),Ie(FF,8),Ie(VF,8),Ie(CF,8))};static \u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),r_=(()=>{class n{constructor(t,r,i){this.afAuth=t,this.router=r,this.firestore=i,this.userSubject=new T(null),this.user=this.userSubject.asObservable(),this.afAuth.authState.subscribe(s=>{this.userSubject.next(s)})}getUser(){return this.user}isLoggedIn(){return!!localStorage.getItem("token")}setDisplayName(t,r){const i=`${t} ${r}`;return this.afAuth.currentUser.then(s=>s?.updateProfile({displayName:i}))}signIn(t,r,i){this.afAuth.signInWithEmailAndPassword(t,r).then(s=>{s.user?.emailVerified?(""!=i?(localStorage.setItem("rememberMe","true"),localStorage.setItem("token",s.user?.uid)):(localStorage.setItem("rememberMe","false"),localStorage.removeItem("token")),this.router.navigate(["/tasks"])):s.user&&(s.user.sendEmailVerification(),this.router.navigate(["/verify-email"]))},s=>{alert(s.message),this.router.navigate(["/login"])})}register(t){this.afAuth.createUserWithEmailAndPassword(t.email,t.password).then(r=>{r.user?.updateProfile({displayName:t.userName}),this.storeAdditionalUserData(r.user?.uid,{fullName:t.fullName,username:t.userName}),r.user&&(r.user.sendEmailVerification(),this.router.navigate(["/verify-email"]))},r=>{alert(r.message)})}storeAdditionalUserData(t,r){t&&this.firestore.collection("users").doc(t).set(r,{merge:!0}).then(()=>{console.log("Additional user data stored successfully")}).catch(i=>{console.error("Error storing additional user data:",i)})}signOut(){this.afAuth.signOut().then(()=>{localStorage.removeItem("token"),this.router.navigate(["/login"])},t=>{alert(t.message)})}forgotPassword(t){this.afAuth.sendPasswordResetEmail(t).then(()=>{this.email=t,this.router.navigate(["/verify-email"])},r=>{alert(r.message)})}deleteCurrentUser(){this.afAuth.currentUser.then(t=>{t&&(t.delete(),localStorage.removeItem("token"),this.router.navigate(["/login"]))},t=>{alert(t.message)})}singInWithGoogle(){return this.afAuth.signInWithPopup(new IF.X).then(t=>{const r=t.user;if(r){const[i,s]=r.displayName?.split(" ")||["",""];r.updateProfile({displayName:r.displayName,photoURL:r.photoURL}).then(()=>{localStorage.setItem("token",t.user?.uid),this.router.navigate(["/tasks"])})}},t=>{alert(t.message),this.router.navigate(["/login"])})}singInWithGithub(){return this.afAuth.signInWithPopup(new IF.Y).then(t=>{const r=t.user;if(r){const[i,s]=r.displayName?.split(" ")||["",""];r.updateProfile({displayName:r.displayName,photoURL:r.photoURL}).then(()=>{localStorage.setItem("token",t.user?.uid),this.router.navigate(["/tasks"])})}},t=>{alert(t.message),this.router.navigate(["/login"])})}static#e=this.\u0275fac=function(r){return new(r||n)(Ie(Fw),Ie(Cs),Ie(rte))};static#t=this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ite(n,e){if(1&n&&(_e(0,"span",6),Ot(1,"We've sent a verification mail to "),_e(2,"strong",7),Ot(3),Te()()),2&n){const t=Me();$e(3),_f(t.email)}}function ste(n,e){if(1&n&&(_e(0,"span",6),Ot(1,"We've sent instructions on how to reset "),jt(2,"br"),Ot(3," your password to "),_e(4,"strong",7),Ot(5),Te()()),2&n){const t=Me();$e(5),_f(t.email)}}function ote(n,e){1&n&&(_e(0,"span",6),Ot(1,"Please go to your mail to verify your email."),Te())}let ate=(()=>{class n{constructor(t){this.authService=t,this.email=null,this.forgotPassLabel=!1}ngOnInit(){this.authService.getUser().subscribe(t=>{t?this.email=t.email:(this.email=this.authService.email,this.forgotPassLabel=!0)})}static#e=this.\u0275fac=function(r){return new(r||n)(oe(r_))};static#t=this.\u0275cmp=Ur({type:n,selectors:[["app-verifyemail"]],decls:10,vars:3,consts:[[1,"container"],[1,"box"],["src","assets/mail.png"],[1,"title"],["class","title1",4,"ngIf"],["href","login",1,"title2"],[1,"title1"],[1,"bold-email"]],template:function(r,i){1&r&&(_e(0,"div",0)(1,"div",1),jt(2,"img",2),_e(3,"span",3),Ot(4,"Check your email"),Te(),St(5,ite,4,1,"span",4),St(6,ste,6,1,"span",4),St(7,ote,2,0,"span",4),_e(8,"a",5),Ot(9,"Verified logging in"),Te()()()),2&r&&($e(5),Ve("ngIf",!i.forgotPassLabel),$e(1),Ve("ngIf",i.forgotPassLabel),$e(1),Ve("ngIf",!i.forgotPassLabel))},dependencies:[Sf],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;height:100%;background-color:#cdcde1;max-width:1500px}.box[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;background-color:#fff;padding:75px 50px;border-radius:10px;box-shadow:0 0 10px #0003}.box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-bottom:10px}.title[_ngcontent-%COMP%]{font-weight:600;font-size:larger;margin-bottom:20px;color:#2b2b2b}.bold-email[_ngcontent-%COMP%]{font-weight:700;color:#2b2b2b}.title1[_ngcontent-%COMP%]{margin-bottom:2%;color:gray;font-size:14px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}.title2[_ngcontent-%COMP%]{color:#228be6;text-decoration:none;font-weight:500;margin-top:2%;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}.title2[_ngcontent-%COMP%]:hover{color:#00f}"]})}return n})(),B4=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static#e=this.\u0275fac=function(r){return new(r||n)(oe(Ko),oe(zi))};static#t=this.\u0275dir=it({type:n})}return n})(),np=(()=>{class n extends B4{static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=Le(n)))(i||n)}}();static#t=this.\u0275dir=it({type:n,features:[gn]})}return n})();const ll=new xe("NgValueAccessor"),ute={provide:ll,useExisting:Y(()=>ZR),multi:!0};let ZR=(()=>{class n extends np{writeValue(t){this.setProperty("checked",t)}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=Le(n)))(i||n)}}();static#t=this.\u0275dir=it({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){1&r&&dt("change",function(o){return i.onChange(o.target.checked)})("blur",function(){return i.onTouched()})},features:[wr([ute]),gn]})}return n})();const cte={provide:ll,useExisting:Y(()=>rp),multi:!0},hte=new xe("CompositionEventMode");let rp=(()=>{class n extends B4{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function dte(){const n=Id()?Id().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static#e=this.\u0275fac=function(r){return new(r||n)(oe(Ko),oe(zi),oe(hte,8))};static#t=this.\u0275dir=it({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&dt("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[wr([cte]),gn]})}return n})();const Ps=new xe("NgValidators"),Zd=new xe("NgAsyncValidators");function z4(n){return function Kd(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}(n.value)?{required:!0}:null}function lT(n){return null}function Q4(n){return null!=n}function Y4(n){return By(n)?A(n):n}function J4(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function X4(n,e){return e.map(t=>t(n))}function e5(n){return n.map(e=>function pte(n){return!n.validate}(e)?e:t=>e.validate(t))}function QR(n){return null!=n?function t5(n){if(!n)return null;const e=n.filter(Q4);return 0==e.length?null:function(t){return J4(X4(t,e))}}(e5(n)):null}function YR(n){return null!=n?function n5(n){if(!n)return null;const e=n.filter(Q4);return 0==e.length?null:function(t){return function lte(...n){const e=gs(n),{args:t,keys:r}=h2(n),i=new bt(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let u=o,d=o;for(let p=0;p<o;p++){let y=!1;Gt(t[p]).subscribe(Ae(s,I=>{y||(y=!0,d--),a[p]=I},()=>u--,void 0,()=>{(!u||!y)&&(d||s.next(r?p2(r,a):a),s.complete())}))}});return e?i.pipe(f2(e)):i}(X4(t,e).map(Y4)).pipe(Re(J4))}}(e5(n)):null}function r5(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function JR(n){return n?Array.isArray(n)?n:[n]:[]}function uT(n,e){return Array.isArray(n)?n.includes(e):n===e}function a5(n,e){const t=JR(e);return JR(n).forEach(i=>{uT(t,i)||t.push(i)}),t}function l5(n,e){return JR(e).filter(t=>!uT(n,t))}class u5{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=QR(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=YR(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class no extends u5{get formDirective(){return null}get path(){return null}}class Qd extends u5{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class c5{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let OI=(()=>{class n extends c5{constructor(t){super(t)}static#e=this.\u0275fac=function(r){return new(r||n)(oe(Qd,2))};static#t=this.\u0275dir=it({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&Hy("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[gn]})}return n})(),XR=(()=>{class n extends c5{constructor(t){super(t)}static#e=this.\u0275fac=function(r){return new(r||n)(oe(no,10))};static#t=this.\u0275dir=it({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&Hy("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[gn]})}return n})();const NI="VALID",dT="INVALID",i_="PENDING",kI="DISABLED";function nP(n){return(hT(n)?n.validators:n)||null}function rP(n,e){return(hT(e)?e.asyncValidators:n)||null}function hT(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class p5{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===NI}get invalid(){return this.status===dT}get pending(){return this.status==i_}get disabled(){return this.status===kI}get enabled(){return this.status!==kI}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(a5(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(a5(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(l5(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(l5(e,this._rawAsyncValidators))}hasValidator(e){return uT(this._rawValidators,e)}hasAsyncValidator(e){return uT(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=i_,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=kI,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=NI,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===NI||this.status===i_)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?kI:NI}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=i_,this._hasOwnPendingAsyncValidator=!0;const t=Y4(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new nt,this.statusChanges=new nt}_calculateStatus(){return this._allControlsDisabled()?kI:this.errors?dT:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(i_)?i_:this._anyControlsHaveStatus(dT)?dT:NI}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){hT(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function yte(n){return Array.isArray(n)?QR(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function vte(n){return Array.isArray(n)?YR(n):n||null}(this._rawAsyncValidators)}}class iP extends p5{constructor(e,t,r){super(nP(t),rP(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function f5(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new W(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function h5(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new W(1e3,"");if(!r[t])throw new W(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const s_=new xe("CallSetDisabledState",{providedIn:"root",factory:()=>fT}),fT="always";function LI(n,e,t=fT){sP(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function wte(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&g5(n,e)})}(n,e),function Tte(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function bte(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&g5(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Ete(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function mT(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function sP(n,e){const t=function s5(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(r5(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function o5(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(r5(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();mT(e._rawValidators,i),mT(e._rawAsyncValidators,i)}function g5(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const xte={provide:no,useExisting:Y(()=>VI)},FI=(()=>Promise.resolve())();let VI=(()=>{class n extends no{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new nt,this.form=new iP({},QR(t),YR(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){FI.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),LI(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){FI.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){FI.then(()=>{const r=this._findContainer(t.path),i=new iP({});(function m5(n,e){sP(n,e)})(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){FI.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){FI.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function _5(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static#e=this.\u0275fac=function(r){return new(r||n)(oe(Ps,10),oe(Zd,10),oe(s_,8))};static#t=this.\u0275dir=it({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&dt("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[wr([xte]),gn]})}return n})();function y5(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function v5(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const I5=class extends p5{constructor(e=null,t,r){super(nP(t),rP(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),hT(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=v5(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){y5(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){y5(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){v5(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Mte={provide:Qd,useExisting:Y(()=>ip)},b5=(()=>Promise.resolve())();let ip=(()=>{class n extends Qd{constructor(t,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new I5,this._registered=!1,this.name="",this.update=new nt,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function lP(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===rp?t=s:function Ate(n){return Object.getPrototypeOf(n.constructor)===np}(s)?r=s:i=s}),i||r||t||null}(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function aP(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){LI(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){b5.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&Jg(r);b5.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function pT(n,e){return[...e.path,n]}(t,this._parent):[t]}static#e=this.\u0275fac=function(r){return new(r||n)(oe(no,9),oe(Ps,10),oe(Zd,10),oe(ll,10),oe(bf,8),oe(s_,8))};static#t=this.\u0275dir=it({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[wr([Mte]),gn,ts]})}return n})(),uP=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=it({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return n})(),C5=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Pn({type:n});static#n=this.\u0275inj=Rn({})}return n})(),sp=(()=>{class n{constructor(){this._validator=lT}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):lT,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=it({type:n,features:[ts]})}return n})();const Qte={provide:Ps,useExisting:Y(()=>UI),multi:!0};let UI=(()=>{class n extends sp{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Jg,this.createValidator=t=>z4}enabled(t){return t}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=Le(n)))(i||n)}}();static#t=this.\u0275dir=it({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){2&r&&tr("required",i._enabled?"":null)},inputs:{required:"required"},features:[wr([Qte]),gn]})}return n})(),nne=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Pn({type:n});static#n=this.\u0275inj=Rn({imports:[C5]})}return n})(),ine=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:s_,useValue:t.callSetDisabledState??fT}]}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Pn({type:n});static#n=this.\u0275inj=Rn({imports:[nne]})}return n})(),sne=(()=>{class n{constructor(t){this.authService=t,this.email=""}forgotPasswordMail(){this.authService.forgotPassword(this.email)}static#e=this.\u0275fac=function(r){return new(r||n)(oe(r_))};static#t=this.\u0275cmp=Ur({type:n,selectors:[["app-forgotpassword"]],decls:13,vars:1,consts:[[1,"container"],[1,"box"],[1,"title"],[1,"title1"],["for","email",1,"emailLabel"],["type","email","id","email","name","email","aria-describedby","email",1,"emailInput",3,"ngModel","ngModelChange"],[1,"btn",3,"click"],["href","login",1,"title2"]],template:function(r,i){1&r&&(_e(0,"div",0)(1,"div",1)(2,"span",2),Ot(3,"Forgot your password?"),Te(),_e(4,"span",3),Ot(5,"Your password will be reset by email."),Te(),_e(6,"label",4),Ot(7,"Enter your email address"),Te(),_e(8,"input",5),dt("ngModelChange",function(o){return i.email=o}),Te(),_e(9,"button",6),dt("click",function(){return i.forgotPasswordMail()}),Ot(10,"Next"),Te(),_e(11,"a",7),Ot(12,"Back to log in"),Te()()()),2&r&&($e(8),Ve("ngModel",i.email))},dependencies:[rp,OI,ip],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;height:100%;background-color:#cdcde1;max-width:1500px}.box[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;background-color:#fff;padding:45px 80px;border-radius:10px;box-shadow:0 0 10px #0003}.title[_ngcontent-%COMP%]{font-weight:600;font-size:x-large;margin-bottom:4%;color:#228be6}.btn[_ngcontent-%COMP%]{background-color:#228be6;color:#fff;margin-top:10px;height:40px;width:125%;padding:5px 60%;border:none;border-radius:5px;cursor:pointer;margin-bottom:5%}.title1[_ngcontent-%COMP%]{margin-bottom:6%;color:gray;font-size:13px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}.emailLabel[_ngcontent-%COMP%]{color:gray;font-size:13px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;margin-bottom:3%;font-weight:500;margin-left:-180px}.emailInput[_ngcontent-%COMP%]{padding-left:1%;border-radius:5px;border:solid 1px #3a3a3a;outline:none;height:40px;width:125%;margin-bottom:4%}.title2[_ngcontent-%COMP%]{color:#228be6;text-decoration:none;font-weight:500;margin-top:2%;font-size:14px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}.title2[_ngcontent-%COMP%]:hover{color:#00f}"]})}return n})(),one=(()=>{class n{constructor(t,r){this.authService=t,this.router=r}canActivate(t,r){return this.authService.isLoggedIn()||"false"==localStorage.getItem("rememberMe")?(localStorage.removeItem("rememberMe"),!0):(this.router.navigate(["/login"]),!1)}static#e=this.\u0275fac=function(r){return new(r||n)(Ie(r_),Ie(Cs))};static#t=this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const ane=["registerationForm"];function lne(n,e){if(1&n){const t=ur();_e(0,"i",28),dt("click",function(){return Ct(t),Dt(Me().togglePasswordVisibility())}),Te()}}function une(n,e){if(1&n){const t=ur();_e(0,"i",29),dt("click",function(){return Ct(t),Dt(Me().togglePasswordVisibility())}),Te()}}function cne(n,e){if(1&n){const t=ur();_e(0,"i",28),dt("click",function(){return Ct(t),Dt(Me().toggleConfirmPasswordVisibility())}),Te()}}function dne(n,e){if(1&n){const t=ur();_e(0,"i",29),dt("click",function(){return Ct(t),Dt(Me().toggleConfirmPasswordVisibility())}),Te()}}let hne=(()=>{class n{constructor(t,r){this.authService=t,this.router=r,this.passwordToggle=!1,this.confirmPasswordToggle=!1}ngOnInit(){}register(){this.registerationForm.valid?this.registerationForm.valid&&this.registerationForm.value.password!=this.registerationForm.value.confirmPassword?alert("Password and Confirm password does not matching"):this.registerationForm.valid&&this.registerationForm.value.password==this.registerationForm.value.confirmPassword&&this.authService.register(this.registerationForm.value):alert("Please enter your registration details")}alreadyHaveAccount(){this.router.navigate(["/login"])}togglePasswordVisibility(){const t=document.getElementById("password");"password"===t.type?(t.type="text",this.passwordToggle=!1):(t.type="password",this.passwordToggle=!0)}toggleConfirmPasswordVisibility(){const t=document.getElementById("confirmPassword");"password"===t.type?(t.type="text",this.confirmPasswordToggle=!1):(t.type="password",this.confirmPasswordToggle=!0)}static#e=this.\u0275fac=function(r){return new(r||n)(oe(r_),oe(Cs))};static#t=this.\u0275cmp=Ur({type:n,selectors:[["app-register"]],viewQuery:function(r,i){if(1&r&&B0(ane,5),2&r){let s;If(s=Ef())&&(i.registerationForm=s.first)}},decls:40,vars:4,consts:[[1,"pleaseFillOutFormToRegister"],[3,"ngSubmit"],["registerationForm","ngForm"],["for","fullName",1,"fullName"],["type","text","id","fullName","placeholder","Full Name","name","fullName","aria-describedby","fullName","ngModel","","required","",1,"rectangle9"],["for","userName",1,"userName"],["type","text","id","userName","placeholder","User Name","name","userName","aria-describedby","userName","ngModel","","required","",1,"rectangle2"],["for","email",1,"email"],["type","email","id","email","placeholder","Email","name","email","aria-describedby","email","ngModel","","required","",1,"rectangle10"],["for","password",1,"password"],[1,"rectangle3"],["type","password","id","password","placeholder","Password","id","password","name","password","ngModel","","required",""],[1,"passwordIcon"],["class","bx bx-show",3,"click",4,"ngIf"],["class","bx bx-hide",3,"click",4,"ngIf"],["for","confirmPassword",1,"confirmPassword"],[1,"rectangle8"],["type","password","id","confirmPassword","placeholder","Password","id","confirmPassword","name","confirmPassword","ngModel","","required",""],[1,"rectangle4"],["type","submit",1,"register"],[1,"yesIHaveAnAccountLogin"],[1,"labelWrapper"],[1,"label"],["href","login",1,"label2"],[1,"label3"],[1,"rectangle6"],[1,"rectangle7"],[1,"pc-reg"],[1,"bx","bx-show",3,"click"],[1,"bx","bx-hide",3,"click"]],template:function(r,i){1&r&&(_e(0,"div",0),Ot(1,"Please Fill out form to Register!"),Te(),_e(2,"form",1,2),dt("ngSubmit",function(){return i.register()}),_e(4,"label",3),Ot(5,"Full name:"),Te(),jt(6,"input",4),_e(7,"label",5),Ot(8,"Username:"),Te(),jt(9,"input",6),_e(10,"label",7),Ot(11,"Email:"),Te(),jt(12,"input",8),_e(13,"label",9),Ot(14,"Password:"),Te(),_e(15,"div",10),jt(16,"input",11),_e(17,"div",12),St(18,lne,1,0,"i",13),St(19,une,1,0,"i",14),Te()(),_e(20,"label",15),Ot(21,"Confirm Password:"),Te(),_e(22,"div",16),jt(23,"input",17),_e(24,"div",12),St(25,cne,1,0,"i",13),St(26,dne,1,0,"i",14),Te()(),jt(27,"div",18),_e(28,"button",19),Ot(29,"Register"),Te()(),_e(30,"div",20)(31,"p",21)(32,"span",22),Ot(33,"Yes i have an account?"),Te(),_e(34,"a",23),Ot(35,"Login"),Te(),jt(36,"span",24),Te()(),jt(37,"div",25)(38,"div",26)(39,"div",27)),2&r&&($e(18),Ve("ngIf",i.passwordToggle),$e(1),Ve("ngIf",!i.passwordToggle),$e(6),Ve("ngIf",i.confirmPasswordToggle),$e(1),Ve("ngIf",!i.confirmPasswordToggle))},dependencies:[Sf,uP,rp,OI,XR,UI,ip,VI],styles:['[_nghost-%COMP%], *[_ngcontent-%COMP%]{box-sizing:border-box;margin:0;padding:0;background:none;border:none;flex-shrink:0;text-decoration:none;min-width:0;overflow-wrap:anywhere}[_nghost-%COMP%], [_ngcontent-%COMP%]:not(span, a[_ngcontent-%COMP%], ul[_ngcontent-%COMP%], ol[_ngcontent-%COMP%], li[_ngcontent-%COMP%], p)[_ngcontent-%COMP%]{display:flex}ul[_ngcontent-%COMP%], ol[_ngcontent-%COMP%]{text-indent:0;padding-inline-start:1.5em}p[_ngcontent-%COMP%]:empty:before{content:"";display:inline-block}img[_ngcontent-%COMP%]{object-fit:contain}svg[_ngcontent-%COMP%]{overflow:visible}[_nghost-%COMP%]{position:relative;width:100vw;height:100vh;flex-direction:column;align-items:flex-start;background-color:#ebefff;overflow:hidden}.rectangle2[_ngcontent-%COMP%]{position:absolute;left:756px;top:240px;width:367px;height:34px;outline:solid 1px #656ed3;outline-offset:-1px;border-radius:50px;background-color:#afb3ff00;padding-left:1%}.rectangle9[_ngcontent-%COMP%]{position:absolute;left:756px;top:164px;width:367px;height:34px;outline:solid 1px #656ed3;outline-offset:-1px;border-radius:50px;background-color:#afb3ff00;padding-left:1%}.rectangle3[_ngcontent-%COMP%]{position:absolute;left:758px;top:396px;width:367px;height:34px;outline:solid 1px #656ed3;outline-offset:-1px;border-radius:50px;background-color:#afb3ff00;padding-left:1%}.rectangle10[_ngcontent-%COMP%]{position:absolute;left:756px;top:320px;width:367px;height:34px;outline:solid 1px #656ed3;outline-offset:-1px;border-radius:50px;background-color:#afb3ff00;padding-left:1%}.rectangle8[_ngcontent-%COMP%]{position:absolute;left:758px;top:472px;width:367px;height:34px;outline:solid 1px #656ed3;outline-offset:-1px;border-radius:50px;background-color:#afb3ff00;padding-left:1%}.userName[_ngcontent-%COMP%]{color:#000;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:756px;top:210px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.fullName[_ngcontent-%COMP%]{color:#000;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:756px;top:134px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.yesIHaveAnAccountLogin[_ngcontent-%COMP%]{position:absolute;left:838px;top:590px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.labelWrapper[_ngcontent-%COMP%]{font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;flex-shrink:1}.label[_ngcontent-%COMP%]{color:#000;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}.label2[_ngcontent-%COMP%]{color:#000;font-size:16px;font-weight:500;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}.label3[_ngcontent-%COMP%]{color:#000;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}.rectangle4[_ngcontent-%COMP%]{position:absolute;left:760px;top:529px;width:365px;height:34px;border-radius:50px;background-color:#656ed3}.register[_ngcontent-%COMP%]{color:#fff;font-size:16px;font-weight:500;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:910px;top:533px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.rectangle3[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .rectangle8[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none;width:90%}.password[_ngcontent-%COMP%]{color:#000;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:760px;top:366px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.email[_ngcontent-%COMP%]{color:#000;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:758px;top:290px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.confirmPassword[_ngcontent-%COMP%]{color:#000;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:760px;top:442px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.rectangle6[_ngcontent-%COMP%]{transform-origin:top left;position:absolute;left:180.2554px;top:510.0889px;width:635px;height:377px;border-radius:105.5304px;background-color:#656ed3;transform:matrix(-.1248,-.9922,.9922,-.1248,0,0)}.rectangle7[_ngcontent-%COMP%]{transform-origin:top left;position:absolute;left:165px;top:536px;width:635px;height:377px;border-radius:105.5304px;background-color:#afb3ff;transform:matrix(0,-1,1,0,0,0)}.socialMediaIcons[_ngcontent-%COMP%]{position:absolute;left:917px;top:636px;width:88.2188px;height:24.2188px;overflow:visible}.icon[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.pleaseFillOutFormToRegister[_ngcontent-%COMP%]{color:#1a1a1a;font-size:16px;font-weight:700;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:818px;top:92px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.pc-reg[_ngcontent-%COMP%]{position:absolute;inset:24.5833% 45.3906% 7.0833% 12.7344%;background-image:url(/assets/pc-reg.svg);background-position:center;background-repeat:no-repeat;background-size:cover}.passwordIcon[_ngcontent-%COMP%]{position:absolute;left:335px;top:9px}']})}return n})();const fne=["loginForm"];function pne(n,e){if(1&n){const t=ur();_e(0,"i",29),dt("click",function(){return Ct(t),Dt(Me().togglePasswordVisibility())}),Te()}}function gne(n,e){if(1&n){const t=ur();_e(0,"i",30),dt("click",function(){return Ct(t),Dt(Me().togglePasswordVisibility())}),Te()}}let mne=(()=>{class n{constructor(t,r){this.authService=t,this.router=r,this.passwordToggle=!1}ngOnInit(){}login(t){this.loginForm.valid?this.authService.signIn(t.email,t.password,t.rememberMe):alert("Please enter your email and password")}forgotPass(){this.router.navigate(["/forgot-password"])}togglePasswordVisibility(){const t=document.getElementById("password");"password"===t.type?(t.type="text",this.passwordToggle=!1):(t.type="password",this.passwordToggle=!0)}signInWithGoogle(){this.authService.singInWithGoogle()}signInWithGithub(){this.authService.singInWithGithub()}static#e=this.\u0275fac=function(r){return new(r||n)(oe(r_),oe(Cs))};static#t=this.\u0275cmp=Ur({type:n,selectors:[["app-login"]],viewQuery:function(r,i){if(1&r&&B0(fne,5),2&r){let s;If(s=Ef())&&(i.loginForm=s.first)}},decls:40,vars:2,consts:[[1,"rectangle1"],[1,"pc-login"],[1,"welcomeBack"],[3,"ngSubmit"],["loginForm","ngForm"],["for","exampleInputEmail",1,"username"],["type","email","id","exampleInputEmail","placeholder","Email","name","email","aria-describedby","emailHelp","ngModel","","required","",1,"rectangle2"],["for","exampleInputPassword",1,"password"],[1,"rectangle3"],["type","password","id","exampleInputPassword","placeholder","Password","id","password","name","password","ngModel","","required",""],[1,"passwordIcon"],["class","bx bx-show",3,"click",4,"ngIf"],["class","bx bx-hide",3,"click",4,"ngIf"],[1,"dontHaveAndAccountRegister1"],[1,"labelWrapper"],["type","checkbox","id","rememberMe","name","rememberMe","ngModel",""],["for","rememberMe",1,"rememberMe"],["href","forgot-password",1,"forgotPassword"],[1,"dontHaveAndAccountRegister"],[1,"label"],["href","register",1,"label2"],[1,"rectangle4"],["type","submit",1,"login"],[1,"socialMediaIcons"],[3,"click"],["src","assets/google.svg","alt","",1,"icon"],["src","assets/github.svg","alt","",1,"icon"],[1,"rectangle5"],[1,"rectangle6"],[1,"bx","bx-show",3,"click"],[1,"bx","bx-hide",3,"click"]],template:function(r,i){if(1&r){const s=ur();jt(0,"div",0)(1,"div",1),_e(2,"div",2),Ot(3,"Welcome Back!"),Te(),_e(4,"form",3,4),dt("ngSubmit",function(){Ct(s);const a=qg(5);return Dt(i.login(a.value))}),_e(6,"label",5),Ot(7,"Username:"),Te(),jt(8,"input",6),_e(9,"label",7),Ot(10,"Password:"),Te(),_e(11,"div",8),jt(12,"input",9),_e(13,"div",10),St(14,pne,1,0,"i",11),St(15,gne,1,0,"i",12),Te()(),_e(16,"div",13)(17,"div",14)(18,"div"),jt(19,"input",15),_e(20,"span",16),Ot(21,"Remember Me"),Te()(),_e(22,"a",17),Ot(23,"Forgot Password"),Te()()(),_e(24,"div",18)(25,"p",14)(26,"span",19),Ot(27,"Dont have and account?"),Te(),_e(28,"a",20),Ot(29,"Register"),Te()()(),jt(30,"div",21),_e(31,"button",22),Ot(32,"Login"),Te(),_e(33,"div",23)(34,"a",24),dt("click",function(){return i.signInWithGoogle()}),jt(35,"img",25),Te(),_e(36,"a",24),dt("click",function(){return i.signInWithGithub()}),jt(37,"img",26),Te()()(),jt(38,"div",27)(39,"div",28)}2&r&&($e(14),Ve("ngIf",i.passwordToggle),$e(1),Ve("ngIf",!i.passwordToggle))},dependencies:[Sf,uP,rp,ZR,OI,XR,UI,ip,VI],styles:['[_nghost-%COMP%], *[_ngcontent-%COMP%]{box-sizing:border-box;margin:0;padding:0;background:none;border:none;flex-shrink:0;text-decoration:none;min-width:0;overflow-wrap:anywhere}[_nghost-%COMP%], [_ngcontent-%COMP%]:not(span, a[_ngcontent-%COMP%], ul[_ngcontent-%COMP%], ol[_ngcontent-%COMP%], li[_ngcontent-%COMP%], p)[_ngcontent-%COMP%]{display:flex}ul[_ngcontent-%COMP%], ol[_ngcontent-%COMP%]{text-indent:0;padding-inline-start:1.5em}p[_ngcontent-%COMP%]:empty:before{content:"";display:inline-block}img[_ngcontent-%COMP%]{object-fit:contain}svg[_ngcontent-%COMP%]{overflow:visible}[_nghost-%COMP%]{position:relative;width:100vw;height:100vh;flex-direction:column;align-items:flex-start;background-color:#ebefff;overflow:hidden}.rectangle1[_ngcontent-%COMP%]{position:absolute;left:842px;top:0;width:525px;height:720px;background-color:#afb3ff}.socialMediaIcons[_ngcontent-%COMP%]{position:absolute;left:256px;top:530px;width:40px;height:35px;overflow:visible}.icon[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.rectangle2[_ngcontent-%COMP%]{position:absolute;left:122px;top:250px;width:367px;height:34px;padding-left:1%;outline:solid 1px #656ed3;outline-offset:-1px;border-radius:50px;background-color:#afb3ff00}.passwordIcon[_ngcontent-%COMP%]{position:absolute;left:335px;top:9px}.rectangle3[_ngcontent-%COMP%]{position:absolute;left:122px;top:326px;width:367px;height:34px;padding-left:1%;outline:solid 1px #656ed3;outline-offset:-1px;border-radius:50px;background-color:#afb3ff00}.rectangle3[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none;width:90%}.username[_ngcontent-%COMP%]{color:#000;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:122px;top:220px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.dontHaveAndAccountRegister1[_ngcontent-%COMP%]{position:absolute;left:134px;top:379px;width:max-content;height:min-content;white-space:nowrap;flex-direction:column}.rememberMe[_ngcontent-%COMP%]{margin-left:6%}.dontHaveAndAccountRegister[_ngcontent-%COMP%]{position:absolute;left:188px;top:480px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.labelWrapper[_ngcontent-%COMP%]{font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;flex-shrink:1}.label[_ngcontent-%COMP%]{color:#000;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}.label2[_ngcontent-%COMP%]{color:#000;font-size:16px;font-weight:500;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}.forgotPassword[_ngcontent-%COMP%]{color:#000;font-size:16px;font-weight:500;margin-left:30%;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}.welcomeBack[_ngcontent-%COMP%]{color:#1a1a1a;font-size:16px;font-weight:700;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:240px;top:177px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.rectangle4[_ngcontent-%COMP%]{position:absolute;left:124px;top:420px;width:365px;height:34px;border-radius:50px;background-color:#656ed3}.login[_ngcontent-%COMP%]{color:#fff;font-size:16px;font-weight:500;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:285px;top:424px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.password[_ngcontent-%COMP%]{color:#000;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:124px;top:296px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.rectangle5[_ngcontent-%COMP%]{transform-origin:top left;position:absolute;left:-287px;top:912.3164px;width:596.734px;height:141.396px;border-radius:105.5304px;background-color:#838cf1;transform:matrix(.7535,-.6574,.6574,.7535,0,0)}.rectangle6[_ngcontent-%COMP%]{transform-origin:top left;position:absolute;left:-252px;top:895.0518px;width:553.7418px;height:131.209px;border-radius:105.5304px;background-color:#afb3ff;transform:matrix(.7535,-.6574,.6574,.7535,0,0)}.pc-login[_ngcontent-%COMP%]{position:absolute;left:565px;top:-37px;width:600px;height:590px;flex-direction:column;align-items:flex-start;right:0;background-image:url(/assets/pc-login.svg);background-position:center;background-repeat:no-repeat;background-size:cover}']})}return n})();const j5={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let yT;const _ne=new Uint8Array(16);function yne(){if(!yT&&(yT=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!yT))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return yT(_ne)}const hs=[];for(let n=0;n<256;++n)hs.push((n+256).toString(16).slice(1));const q5=function vne(n,e,t){if(j5.randomUUID&&!e&&!n)return j5.randomUUID();const r=(n=n||{}).random||(n.rng||yne)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){t=t||0;for(let i=0;i<16;++i)e[t+i]=r[i];return e}return function z5(n,e=0){return hs[n[e+0]]+hs[n[e+1]]+hs[n[e+2]]+hs[n[e+3]]+"-"+hs[n[e+4]]+hs[n[e+5]]+"-"+hs[n[e+6]]+hs[n[e+7]]+"-"+hs[n[e+8]]+hs[n[e+9]]+"-"+hs[n[e+10]]+hs[n[e+11]]+hs[n[e+12]]+hs[n[e+13]]+hs[n[e+14]]+hs[n[e+15]]}(r)};class gP{setModel(e,t,r,i,s){this.name=t,this.id=e,this.todoId=s||q5(),this.completed=r||!1,this.deleted=i||!1}}class mP{setModel(e,t,r){this.name=t,this.id=e||q5(),this.deleted=r||!1}}var G5=ot(990);const _P_apiUrl="https://tasksapi-production-96eb.up.railway.app";class vT{}class IT{}class du{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),s=i.toLowerCase(),o=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof du?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new du;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof du?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(t);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const r=(Array.isArray(t)?t:[t]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Ine{encodeKey(e){return W5(e)}encodeValue(e){return W5(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const wne=/%(\d[a-f0-9])/gi,bne={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function W5(n){return encodeURIComponent(n).replace(wne,(e,t)=>bne[t]??e)}function ET(n){return`${n}`}class Yd{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Ine,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Ene(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],u=t.get(o)||[];u.push(a),t.set(o,u)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(ET):[ET(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Yd({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(ET(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(ET(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Tne{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function K5(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Z5(n){return typeof Blob<"u"&&n instanceof Blob}function Q5(n){return typeof FormData<"u"&&n instanceof FormData}class BI{constructor(e,t,r,i){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function Cne(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new du),this.context||(this.context=new Tne),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+o}}else this.params=new Yd,this.urlWithParams=t}serializeBody(){return null===this.body?null:K5(this.body)||Z5(this.body)||Q5(this.body)||function Sne(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Yd?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Q5(this.body)?null:Z5(this.body)?this.body.type||null:K5(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Yd?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let u=e.headers||this.headers,d=e.params||this.params;const p=e.context??this.context;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce((y,I)=>y.set(I,e.setHeaders[I]),u)),e.setParams&&(d=Object.keys(e.setParams).reduce((y,I)=>y.set(I,e.setParams[I]),d)),new BI(t,r,s,{params:d,headers:u,context:p,reportProgress:a,responseType:i,withCredentials:o})}}var o_=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(o_||{});class yP{constructor(e,t=200,r="OK"){this.headers=e.headers||new du,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class vP extends yP{constructor(e={}){super(e),this.type=o_.ResponseHeader}clone(e={}){return new vP({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class a_ extends yP{constructor(e={}){super(e),this.type=o_.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new a_({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Y5 extends yP{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function IP(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let J5=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof BI)s=t;else{let u,d;u=i.headers instanceof du?i.headers:new du(i.headers),i.params&&(d=i.params instanceof Yd?i.params:new Yd({fromObject:i.params})),s=new BI(t,r,void 0!==i.body?i.body:null,{headers:u,context:i.context,params:d,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const o=V(s).pipe(tm(u=>this.handler.handle(u)));if(t instanceof BI||"events"===i.observe)return o;const a=o.pipe(Fa(u=>u instanceof a_));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(Re(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(Re(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(Re(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return a.pipe(Re(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Yd).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,IP(i,r))}post(t,r,i={}){return this.request("POST",t,IP(i,r))}put(t,r,i={}){return this.request("PUT",t,IP(i,r))}static#e=this.\u0275fac=function(r){return new(r||n)(Ie(vT))};static#t=this.\u0275prov=He({token:n,factory:n.\u0275fac})}return n})();function tH(n,e){return e(n)}function Dne(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}const Rne=new xe(""),HI=new xe(""),nH=new xe("");function Pne(){let n=null;return(e,t)=>{null===n&&(n=(De(Rne,{optional:!0})??[]).reduceRight(Dne,tH));const r=De(j0),i=r.add();return n(e,t).pipe(iv(()=>r.remove(i)))}}let rH=(()=>{class n extends vT{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=De(j0)}handle(t){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(HI),...this.injector.get(nH,[])]));this.chain=i.reduceRight((s,o)=>function xne(n,e,t){return(r,i)=>t.runInContext(()=>e(r,s=>n(s,i)))}(s,o,this.injector),tH)}const r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(iv(()=>this.pendingTasks.remove(r)))}static#e=this.\u0275fac=function(r){return new(r||n)(Ie(IT),Ie(ws))};static#t=this.\u0275prov=He({token:n,factory:n.\u0275fac})}return n})();const kne=/^\)\]\}',?\n/;let sH=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new W(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?A(r.\u0275loadImpl()):V(null)).pipe(je(()=>new bt(s=>{const o=r.build();if(o.open(t.method,t.urlWithParams),t.withCredentials&&(o.withCredentials=!0),t.headers.forEach((M,L)=>o.setRequestHeader(M,L.join(","))),t.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const M=t.detectContentTypeHeader();null!==M&&o.setRequestHeader("Content-Type",M)}if(t.responseType){const M=t.responseType.toLowerCase();o.responseType="json"!==M?M:"text"}const a=t.serializeBody();let u=null;const d=()=>{if(null!==u)return u;const M=o.statusText||"OK",L=new du(o.getAllResponseHeaders()),G=function Lne(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(o)||t.url;return u=new vP({headers:L,status:o.status,statusText:M,url:G}),u},p=()=>{let{headers:M,status:L,statusText:G,url:$}=d(),J=null;204!==L&&(J=typeof o.response>"u"?o.responseText:o.response),0===L&&(L=J?200:0);let ue=L>=200&&L<300;if("json"===t.responseType&&"string"==typeof J){const Ce=J;J=J.replace(kne,"");try{J=""!==J?JSON.parse(J):null}catch(Xe){J=Ce,ue&&(ue=!1,J={error:Xe,text:J})}}ue?(s.next(new a_({body:J,headers:M,status:L,statusText:G,url:$||void 0})),s.complete()):s.error(new Y5({error:J,headers:M,status:L,statusText:G,url:$||void 0}))},y=M=>{const{url:L}=d(),G=new Y5({error:M,status:o.status||0,statusText:o.statusText||"Unknown Error",url:L||void 0});s.error(G)};let I=!1;const w=M=>{I||(s.next(d()),I=!0);let L={type:o_.DownloadProgress,loaded:M.loaded};M.lengthComputable&&(L.total=M.total),"text"===t.responseType&&o.responseText&&(L.partialText=o.responseText),s.next(L)},x=M=>{let L={type:o_.UploadProgress,loaded:M.loaded};M.lengthComputable&&(L.total=M.total),s.next(L)};return o.addEventListener("load",p),o.addEventListener("error",y),o.addEventListener("timeout",y),o.addEventListener("abort",y),t.reportProgress&&(o.addEventListener("progress",w),null!==a&&o.upload&&o.upload.addEventListener("progress",x)),o.send(a),s.next({type:o_.Sent}),()=>{o.removeEventListener("error",y),o.removeEventListener("abort",y),o.removeEventListener("load",p),o.removeEventListener("timeout",y),t.reportProgress&&(o.removeEventListener("progress",w),null!==a&&o.upload&&o.upload.removeEventListener("progress",x)),o.readyState!==o.DONE&&o.abort()}})))}static#e=this.\u0275fac=function(r){return new(r||n)(Ie(jL))};static#t=this.\u0275prov=He({token:n,factory:n.\u0275fac})}return n})();const EP=new xe("XSRF_ENABLED"),oH=new xe("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),aH=new xe("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class lH{}let Une=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=NL(t,this.cookieName),this.lastCookieString=t),this.lastToken}static#e=this.\u0275fac=function(r){return new(r||n)(Ie(ss),Ie(vo),Ie(oH))};static#t=this.\u0275prov=He({token:n,factory:n.\u0275fac})}return n})();function Bne(n,e){const t=n.url.toLowerCase();if(!De(EP)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=De(lH).getToken(),i=De(aH);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var Jd=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(Jd||{});function Hne(...n){const e=[J5,sH,rH,{provide:vT,useExisting:rH},{provide:IT,useExisting:sH},{provide:HI,useValue:Bne,multi:!0},{provide:EP,useValue:!0},{provide:lH,useClass:Une}];for(const t of n)e.push(...t.\u0275providers);return function dy(n){return{\u0275providers:n}}(e)}const uH=new xe("LEGACY_INTERCEPTOR_FN");function $ne(){return function op(n,e){return{\u0275kind:n,\u0275providers:e}}(Jd.LegacyInterceptors,[{provide:uH,useFactory:Pne},{provide:HI,useExisting:uH,multi:!0}])}let jne=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Pn({type:n});static#n=this.\u0275inj=Rn({providers:[Hne($ne())]})}return n})(),Zne=(()=>{class n{constructor(t){this.http=t,this.apiMode=_P_apiUrl+"/api/mode/",this.apiTasks=_P_apiUrl+"/api/tasks/",this.apiTodo=_P_apiUrl+"/api/todos/"}updateMode(t,r){return this.http.patch(this.apiMode+r,t)}createTodo(t,r){return this.http.post(this.apiTodo+t,r)}patchTodo(t,r){return this.http.patch(this.apiTodo+t,r)}getTasks(t){return this.http.get(this.apiTasks+t)}createTasks(t,r){return this.http.post(this.apiTasks+r,t)}patchTasks(t,r){return this.http.patch(this.apiTasks+t,r)}static#e=this.\u0275fac=function(r){return new(r||n)(Ie(J5))};static#t=this.\u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ms=(()=>class n{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static IN="in";static LESS_THAN="lt";static LESS_THAN_OR_EQUAL_TO="lte";static GREATER_THAN="gt";static GREATER_THAN_OR_EQUAL_TO="gte";static BETWEEN="between";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static DATE_IS="dateIs";static DATE_IS_NOT="dateIsNot";static DATE_BEFORE="dateBefore";static DATE_AFTER="dateAfter"})(),Yne=(()=>{class n{clickSource=new ie;clickObservable=this.clickSource.asObservable();add(t){t&&this.clickSource.next(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),cH=(()=>{class n{ripple=!1;inputStyle="outlined";overlayOptions={};filterMatchModeOptions={text:[Ms.STARTS_WITH,Ms.CONTAINS,Ms.NOT_CONTAINS,Ms.ENDS_WITH,Ms.EQUALS,Ms.NOT_EQUALS],numeric:[Ms.EQUALS,Ms.NOT_EQUALS,Ms.LESS_THAN,Ms.LESS_THAN_OR_EQUAL_TO,Ms.GREATER_THAN,Ms.GREATER_THAN_OR_EQUAL_TO],date:[Ms.DATE_IS,Ms.DATE_IS_NOT,Ms.DATE_BEFORE,Ms.DATE_AFTER]};translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyFilterMessage:"No results found",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"{page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",previousPageLabel:"Previous Page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left"}};zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100};translationSource=new ie;translationObserver=this.translationSource.asObservable();getTranslation(t){return this.translation[t]}setTranslation(t){this.translation={...this.translation,...t},this.translationSource.next(this.translation)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=He({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),dH=(()=>{class n{template;type;name;constructor(t){this.template=t}getType(){return this.name}static \u0275fac=function(r){return new(r||n)(oe(Yl))};static \u0275dir=it({type:n,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}})}return n})(),Xd=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Pn({type:n});static \u0275inj=Rn({imports:[Jl]})}return n})();class $I{static equals(e,t,r){return r?this.resolveFieldData(e,r)===this.resolveFieldData(t,r):this.equalsByValue(e,t)}static equalsByValue(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){var s,o,a,r=Array.isArray(e),i=Array.isArray(t);if(r&&i){if((o=e.length)!=t.length)return!1;for(s=o;0!=s--;)if(!this.equalsByValue(e[s],t[s]))return!1;return!0}if(r!=i)return!1;var u=this.isDate(e),d=this.isDate(t);if(u!=d)return!1;if(u&&d)return e.getTime()==t.getTime();var p=e instanceof RegExp,y=t instanceof RegExp;if(p!=y)return!1;if(p&&y)return e.toString()==t.toString();var I=Object.keys(e);if((o=I.length)!==Object.keys(t).length)return!1;for(s=o;0!=s--;)if(!Object.prototype.hasOwnProperty.call(t,I[s]))return!1;for(s=o;0!=s--;)if(!this.equalsByValue(e[a=I[s]],t[a]))return!1;return!0}return e!=e&&t!=t}static resolveFieldData(e,t){if(e&&t){if(this.isFunction(t))return t(e);if(-1==t.indexOf("."))return e[t];{let r=t.split("."),i=e;for(let s=0,o=r.length;s<o;++s){if(null==i)return null;i=i[r[s]]}return i}}return null}static isFunction(e){return!!(e&&e.constructor&&e.call&&e.apply)}static reorderArray(e,t,r){e&&t!==r&&(r>=e.length&&(r%=e.length,t%=e.length),e.splice(r,0,e.splice(t,1)[0]))}static insertIntoOrderedArray(e,t,r,i){if(r.length>0){let s=!1;for(let o=0;o<r.length;o++)if(this.findIndexInList(r[o],i)>t){r.splice(o,0,e),s=!0;break}s||r.push(e)}else r.push(e)}static findIndexInList(e,t){let r=-1;if(t)for(let i=0;i<t.length;i++)if(t[i]==e){r=i;break}return r}static contains(e,t){if(null!=e&&t&&t.length)for(let r of t)if(this.equals(e,r))return!0;return!1}static removeAccents(e){return e&&e.search(/[\xC0-\xFF]/g)>-1&&(e=e.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),e}static isDate(e){return"[object Date]"===Object.prototype.toString.call(e)}static isEmpty(e){return null==e||""===e||Array.isArray(e)&&0===e.length||!this.isDate(e)&&"object"==typeof e&&0===Object.keys(e).length}static isNotEmpty(e){return!this.isEmpty(e)}static compare(e,t,r,i=1){let s=-1;const o=this.isEmpty(e),a=this.isEmpty(t);return s=o&&a?0:o?i:a?-i:"string"==typeof e&&"string"==typeof t?e.localeCompare(t,r,{numeric:!0}):e<t?-1:e>t?1:0,s}static sort(e,t,r=1,i,s=1){return(1===s?r:s)*$I.compare(e,t,i,r)}static merge(e,t){if(null!=e||null!=t)return null!=e&&"object"!=typeof e||null!=t&&"object"!=typeof t?null!=e&&"string"!=typeof e||null!=t&&"string"!=typeof t?t||e:[e||"",t||""].join(" "):{...e||{},...t||{}}}static isPrintableCharacter(e=""){return this.isNotEmpty(e)&&1===e.length&&e.match(/\S| /)}static getItemValue(e,...t){return this.isFunction(e)?e(...t):e}static findLastIndex(e,t){let r=-1;if(this.isNotEmpty(e))try{r=e.findLastIndex(t)}catch{r=e.lastIndexOf([...e].reverse().find(t))}return r}static findLast(e,t){let r;if(this.isNotEmpty(e))try{r=e.findLast(t)}catch{r=[...e].reverse().find(t)}return r}}var hH=0,wP=function Xne(){let n=[];const i=s=>s&&parseInt(s.style.zIndex,10)||0;return{get:i,set:(s,o,a)=>{o&&(o.style.zIndex=String(((s,o)=>{let a=n.length>0?n[n.length-1]:{key:s,value:o},u=a.value+(a.key===s?0:o)+2;return n.push({key:s,value:u}),u})(s,a)))},clear:s=>{s&&((s=>{n=n.filter(o=>o.value!==s)})(i(s)),s.style.zIndex="")},getCurrent:()=>n.length>0?n[n.length-1].value:0}}();const ere=["*"];let l_=(()=>{class n{label;spin=!1;styleClass;role;ariaLabel;ariaHidden;ngOnInit(){this.getAttributes()}getAttributes(){const t=$I.isEmpty(this.label);this.role=t?void 0:"img",this.ariaLabel=t?void 0:this.label,this.ariaHidden=t}getClassNames(){return`p-icon ${this.styleClass?this.styleClass+" ":""}${this.spin?"p-icon-spin":""}`}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Ur({type:n,selectors:[["ng-component"]],hostAttrs:[1,"p-element","p-icon-wrapper"],inputs:{label:"label",spin:"spin",styleClass:"styleClass"},standalone:!0,features:[rc],ngContentSelectors:ere,decls:1,vars:0,template:function(r,i){1&r&&(qS(),GS(0))},encapsulation:2,changeDetection:0})}return n})(),fH=(()=>{class n extends l_{static \u0275fac=function(){let t;return function(i){return(t||(t=Le(n)))(i||n)}}();static \u0275cmp=Ur({type:n,selectors:[["CheckIcon"]],standalone:!0,features:[gn,rc],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M4.86199 11.5948C4.78717 11.5923 4.71366 11.5745 4.64596 11.5426C4.57826 11.5107 4.51779 11.4652 4.46827 11.4091L0.753985 7.69483C0.683167 7.64891 0.623706 7.58751 0.580092 7.51525C0.536478 7.44299 0.509851 7.36177 0.502221 7.27771C0.49459 7.19366 0.506156 7.10897 0.536046 7.03004C0.565935 6.95111 0.613367 6.88 0.674759 6.82208C0.736151 6.76416 0.8099 6.72095 0.890436 6.69571C0.970973 6.67046 1.05619 6.66385 1.13966 6.67635C1.22313 6.68886 1.30266 6.72017 1.37226 6.76792C1.44186 6.81567 1.4997 6.8786 1.54141 6.95197L4.86199 10.2503L12.6397 2.49483C12.7444 2.42694 12.8689 2.39617 12.9932 2.40745C13.1174 2.41873 13.2343 2.47141 13.3251 2.55705C13.4159 2.64268 13.4753 2.75632 13.4938 2.87973C13.5123 3.00315 13.4888 3.1292 13.4271 3.23768L5.2557 11.4091C5.20618 11.4652 5.14571 11.5107 5.07801 11.5426C5.01031 11.5745 4.9368 11.5923 4.86199 11.5948Z","fill","currentColor"]],template:function(r,i){1&r&&(Uo(),_e(0,"svg",0),jt(1,"path",1),Te()),2&r&&(Zl(i.getClassNames()),tr("aria-label",i.ariaLabel)("aria-hidden",i.ariaHidden)("role",i.role))},encapsulation:2})}return n})();const tre=["input"];function nre(n,e){1&n&&jt(0,"span",10),2&n&&(Ve("ngClass",Me(3).checkboxIcon),tr("data-pc-section","icon"))}function rre(n,e){1&n&&jt(0,"CheckIcon",11),2&n&&(Ve("styleClass","p-checkbox-icon"),tr("data-pc-section","icon"))}function ire(n,e){if(1&n&&(Vy(0),St(1,nre,1,2,"span",8),St(2,rre,1,2,"CheckIcon",9),Uy()),2&n){const t=Me(2);$e(1),Ve("ngIf",t.checkboxIcon),$e(1),Ve("ngIf",!t.checkboxIcon)}}function sre(n,e){}function ore(n,e){1&n&&St(0,sre,0,0,"ng-template")}function are(n,e){if(1&n&&(_e(0,"span",12),St(1,ore,1,0,null,13),Te()),2&n){const t=Me(2);tr("data-pc-section","icon"),$e(1),Ve("ngTemplateOutlet",t.checkboxIconTemplate)}}function lre(n,e){if(1&n&&(Vy(0),St(1,ire,3,2,"ng-container",5),St(2,are,2,2,"span",7),Uy()),2&n){const t=Me();$e(1),Ve("ngIf",!t.checkboxIconTemplate),$e(1),Ve("ngIf",t.checkboxIconTemplate)}}const ure=function(n,e,t){return{"p-checkbox-label":!0,"p-checkbox-label-active":n,"p-disabled":e,"p-checkbox-label-focus":t}};function cre(n,e){if(1&n){const t=ur();_e(0,"label",14),dt("click",function(i){return Ct(t),Dt(Me().onClick(i))}),Ot(1),Te()}if(2&n){const t=Me();Zl(t.labelStyleClass),Ve("ngClass",F0(6,ure,t.checked(),t.disabled,t.focused)),tr("for",t.inputId)("data-pc-section","label"),$e(1),Wg(" ",t.label,"")}}const dre=function(n,e,t){return{"p-checkbox p-component":!0,"p-checkbox-checked":n,"p-checkbox-disabled":e,"p-checkbox-focused":t}},hre=function(n,e,t){return{"p-highlight":n,"p-disabled":e,"p-focus":t}},fre={provide:ll,useExisting:Y(()=>pH),multi:!0};let pH=(()=>{class n{cd;value;name;disabled;binary;label;ariaLabelledBy;ariaLabel;tabindex;inputId;style;styleClass;labelStyleClass;formControl;checkboxIcon;readonly;required;trueValue=!0;falseValue=!1;onChange=new nt;inputViewChild;templates;checkboxIconTemplate;model;onModelChange=()=>{};onModelTouched=()=>{};focused=!1;constructor(t){this.cd=t}ngAfterContentInit(){this.templates.forEach(t=>{"icon"===t.getType()&&(this.checkboxIconTemplate=t.template)})}onClick(t){if(!this.disabled&&!this.readonly){let r;this.inputViewChild.nativeElement.focus(),this.binary?(r=this.checked()?this.falseValue:this.trueValue,this.model=r,this.onModelChange(r)):(r=this.checked()?this.model.filter(i=>!$I.equals(i,this.value)):this.model?[...this.model,this.value]:[this.value],this.onModelChange(r),this.model=r,this.formControl&&this.formControl.setValue(r)),this.onChange.emit({checked:r,originalEvent:t})}}onFocus(){this.focused=!0}onBlur(){this.focused=!1,this.onModelTouched()}writeValue(t){this.model=t,this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}checked(){return this.binary?this.model===this.trueValue:$I.contains(this.value,this.model)}static \u0275fac=function(r){return new(r||n)(oe(bf))};static \u0275cmp=Ur({type:n,selectors:[["p-checkbox"]],contentQueries:function(r,i,s){if(1&r&&H0(s,dH,4),2&r){let o;If(o=Ef())&&(i.templates=o)}},viewQuery:function(r,i){if(1&r&&B0(tre,5),2&r){let s;If(s=Ef())&&(i.inputViewChild=s.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",name:"name",disabled:"disabled",binary:"binary",label:"label",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",tabindex:"tabindex",inputId:"inputId",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass",formControl:"formControl",checkboxIcon:"checkboxIcon",readonly:"readonly",required:"required",trueValue:"trueValue",falseValue:"falseValue"},outputs:{onChange:"onChange"},features:[wr([fre])],decls:7,vars:35,consts:[[3,"ngStyle","ngClass","click"],[1,"p-hidden-accessible"],["type","checkbox",3,"value","checked","disabled","readonly","focus","blur"],["input",""],[1,"p-checkbox-box",3,"ngClass"],[4,"ngIf"],[3,"class","ngClass","click",4,"ngIf"],["class","p-checkbox-icon",4,"ngIf"],["class","p-checkbox-icon",3,"ngClass",4,"ngIf"],[3,"styleClass",4,"ngIf"],[1,"p-checkbox-icon",3,"ngClass"],[3,"styleClass"],[1,"p-checkbox-icon"],[4,"ngTemplateOutlet"],[3,"ngClass","click"]],template:function(r,i){1&r&&(_e(0,"div",0),dt("click",function(o){return i.onClick(o)}),_e(1,"div",1)(2,"input",2,3),dt("focus",function(){return i.onFocus()})("blur",function(){return i.onBlur()}),Te()(),_e(4,"div",4),St(5,lre,3,2,"ng-container",5),Te()(),St(6,cre,2,10,"label",6)),2&r&&(Zl(i.styleClass),Ve("ngStyle",i.style)("ngClass",F0(27,dre,i.checked(),i.disabled,i.focused)),tr("data-pc-name","checkbox")("data-pc-section","root"),$e(1),tr("data-pc-section","hiddenInputWrapper")("data-p-hidden-accessible",!0),$e(1),Ve("value",i.value)("checked",i.checked())("disabled",i.disabled)("readonly",i.readonly),tr("id",i.inputId)("name",i.name)("tabindex",i.tabindex)("required",i.required)("aria-labelledby",i.ariaLabelledBy)("aria-label",i.ariaLabel)("aria-checked",i.checked())("data-pc-section","hiddenInput"),$e(2),Ve("ngClass",F0(31,hre,i.checked(),i.disabled,i.focused)),tr("data-p-highlight",i.checked())("data-p-disabled",i.disabled)("data-p-focused",i.focused)("data-pc-section","input"),$e(1),Ve("ngIf",i.checked()),$e(1),Ve("ngIf",i.label))},dependencies:function(){return[aw,Sf,XA,JA,fH]},styles:["@layer primeng{.p-checkbox{display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;vertical-align:bottom;position:relative}.p-checkbox-disabled{cursor:default!important;pointer-events:none}.p-checkbox-box{display:flex;justify-content:center;align-items:center}p-checkbox{display:inline-flex;vertical-align:bottom;align-items:center}.p-checkbox-label{line-height:1}}\n"],encapsulation:2,changeDetection:0})}return n})(),pre=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Pn({type:n});static \u0275inj=Rn({imports:[Jl,fH,Xd]})}return n})(),gre=(()=>{class n{el;ngModel;cd;filled;constructor(t,r,i){this.el=t,this.ngModel=r,this.cd=i}ngAfterViewInit(){this.updateFilledState(),this.cd.detectChanges()}ngDoCheck(){this.updateFilledState()}onInput(){this.updateFilledState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model}static \u0275fac=function(r){return new(r||n)(oe(zi),oe(ip,8),oe(bf))};static \u0275dir=it({type:n,selectors:[["","pInputText",""]],hostAttrs:[1,"p-inputtext","p-component","p-element"],hostVars:2,hostBindings:function(r,i){1&r&&dt("input",function(o){return i.onInput(o)}),2&r&&Hy("p-filled",i.filled)}})}return n})(),mre=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Pn({type:n});static \u0275inj=Rn({imports:[Jl]})}return n})();class gH{}class _re{}const Ic="*";function yre(n,e){return{type:7,name:n,definitions:e,options:{}}}function mH(n,e=null){return{type:4,styles:e,timings:n}}function _H(n,e=null){return{type:2,steps:n,options:e}}function jI(n){return{type:6,styles:n,offset:null}}function bP(n,e,t){return{type:0,name:n,styles:e,options:t}}function yH(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}class zI{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class vH{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}let Yr=(()=>{class n{static zindex=1e3;static calculatedScrollbarWidth=null;static calculatedScrollbarHeight=null;static browser;static addClass(t,r){t&&r&&(t.classList?t.classList.add(r):t.className+=" "+r)}static addMultipleClasses(t,r){if(t&&r)if(t.classList){let i=r.trim().split(" ");for(let s=0;s<i.length;s++)t.classList.add(i[s])}else{let i=r.split(" ");for(let s=0;s<i.length;s++)t.className+=" "+i[s]}}static removeClass(t,r){t&&r&&(t.classList?t.classList.remove(r):t.className=t.className.replace(new RegExp("(^|\\b)"+r.split(" ").join("|")+"(\\b|$)","gi")," "))}static removeMultipleClasses(t,r){t&&r&&[r].flat().filter(Boolean).forEach(i=>i.split(" ").forEach(s=>this.removeClass(t,s)))}static hasClass(t,r){return!(!t||!r)&&(t.classList?t.classList.contains(r):new RegExp("(^| )"+r+"( |$)","gi").test(t.className))}static siblings(t){return Array.prototype.filter.call(t.parentNode.children,function(r){return r!==t})}static find(t,r){return Array.from(t.querySelectorAll(r))}static findSingle(t,r){return this.isElement(t)?t.querySelector(r):null}static index(t){let r=t.parentNode.childNodes,i=0;for(var s=0;s<r.length;s++){if(r[s]==t)return i;1==r[s].nodeType&&i++}return-1}static indexWithinGroup(t,r){let i=t.parentNode?t.parentNode.childNodes:[],s=0;for(var o=0;o<i.length;o++){if(i[o]==t)return s;i[o].attributes&&i[o].attributes[r]&&1==i[o].nodeType&&s++}return-1}static appendOverlay(t,r,i="self"){"self"!==i&&t&&r&&this.appendChild(t,r)}static alignOverlay(t,r,i="self",s=!0){t&&r&&(s&&(t.style.minWidth=`${n.getOuterWidth(r)}px`),"self"===i?this.relativePosition(t,r):this.absolutePosition(t,r))}static relativePosition(t,r){const i=G=>{if(G)return"relative"===getComputedStyle(G).getPropertyValue("position")?G:i(G.parentElement)},s=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),o=r.offsetHeight,a=r.getBoundingClientRect(),u=this.getWindowScrollTop(),d=this.getWindowScrollLeft(),p=this.getViewport(),I=i(t)?.getBoundingClientRect()||{top:-1*u,left:-1*d};let w,x;a.top+o+s.height>p.height?(w=a.top-I.top-s.height,t.style.transformOrigin="bottom",a.top+w<0&&(w=-1*a.top)):(w=o+a.top-I.top,t.style.transformOrigin="top");const M=a.left+s.width-p.width;x=s.width>p.width?-1*(a.left-I.left):M>0?a.left-I.left-M:a.left-I.left,t.style.top=w+"px",t.style.left=x+"px"}static absolutePosition(t,r){const i=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),s=i.height,o=i.width,a=r.offsetHeight,u=r.offsetWidth,d=r.getBoundingClientRect(),p=this.getWindowScrollTop(),y=this.getWindowScrollLeft(),I=this.getViewport();let w,x;d.top+a+s>I.height?(w=d.top+p-s,t.style.transformOrigin="bottom",w<0&&(w=p)):(w=a+d.top+p,t.style.transformOrigin="top"),x=d.left+o>I.width?Math.max(0,d.left+y+u-o):d.left+y,t.style.top=w+"px",t.style.left=x+"px"}static getParents(t,r=[]){return null===t.parentNode?r:this.getParents(t.parentNode,r.concat([t.parentNode]))}static getScrollableParents(t){let r=[];if(t){let i=this.getParents(t);const s=/(auto|scroll)/,o=a=>{let u=window.getComputedStyle(a,null);return s.test(u.getPropertyValue("overflow"))||s.test(u.getPropertyValue("overflowX"))||s.test(u.getPropertyValue("overflowY"))};for(let a of i){let u=1===a.nodeType&&a.dataset.scrollselectors;if(u){let d=u.split(",");for(let p of d){let y=this.findSingle(a,p);y&&o(y)&&r.push(y)}}9!==a.nodeType&&o(a)&&r.push(a)}}return r}static getHiddenElementOuterHeight(t){t.style.visibility="hidden",t.style.display="block";let r=t.offsetHeight;return t.style.display="none",t.style.visibility="visible",r}static getHiddenElementOuterWidth(t){t.style.visibility="hidden",t.style.display="block";let r=t.offsetWidth;return t.style.display="none",t.style.visibility="visible",r}static getHiddenElementDimensions(t){let r={};return t.style.visibility="hidden",t.style.display="block",r.width=t.offsetWidth,r.height=t.offsetHeight,t.style.display="none",t.style.visibility="visible",r}static scrollInView(t,r){let i=getComputedStyle(t).getPropertyValue("borderTopWidth"),s=i?parseFloat(i):0,o=getComputedStyle(t).getPropertyValue("paddingTop"),a=o?parseFloat(o):0,u=t.getBoundingClientRect(),p=r.getBoundingClientRect().top+document.body.scrollTop-(u.top+document.body.scrollTop)-s-a,y=t.scrollTop,I=t.clientHeight,w=this.getOuterHeight(r);p<0?t.scrollTop=y+p:p+w>I&&(t.scrollTop=y+p-I+w)}static fadeIn(t,r){t.style.opacity=0;let i=+new Date,s=0,o=function(){s=+t.style.opacity.replace(",",".")+((new Date).getTime()-i)/r,t.style.opacity=s,i=+new Date,+s<1&&(window.requestAnimationFrame&&requestAnimationFrame(o)||setTimeout(o,16))};o()}static fadeOut(t,r){var i=1,a=50/r;let u=setInterval(()=>{(i-=a)<=0&&(i=0,clearInterval(u)),t.style.opacity=i},50)}static getWindowScrollTop(){let t=document.documentElement;return(window.pageYOffset||t.scrollTop)-(t.clientTop||0)}static getWindowScrollLeft(){let t=document.documentElement;return(window.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}static matches(t,r){var i=Element.prototype;return(i.matches||i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector||function(o){return-1!==[].indexOf.call(document.querySelectorAll(o),this)}).call(t,r)}static getOuterWidth(t,r){let i=t.offsetWidth;if(r){let s=getComputedStyle(t);i+=parseFloat(s.marginLeft)+parseFloat(s.marginRight)}return i}static getHorizontalPadding(t){let r=getComputedStyle(t);return parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)}static getHorizontalMargin(t){let r=getComputedStyle(t);return parseFloat(r.marginLeft)+parseFloat(r.marginRight)}static innerWidth(t){let r=t.offsetWidth,i=getComputedStyle(t);return r+=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight),r}static width(t){let r=t.offsetWidth,i=getComputedStyle(t);return r-=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight),r}static getInnerHeight(t){let r=t.offsetHeight,i=getComputedStyle(t);return r+=parseFloat(i.paddingTop)+parseFloat(i.paddingBottom),r}static getOuterHeight(t,r){let i=t.offsetHeight;if(r){let s=getComputedStyle(t);i+=parseFloat(s.marginTop)+parseFloat(s.marginBottom)}return i}static getHeight(t){let r=t.offsetHeight,i=getComputedStyle(t);return r-=parseFloat(i.paddingTop)+parseFloat(i.paddingBottom)+parseFloat(i.borderTopWidth)+parseFloat(i.borderBottomWidth),r}static getWidth(t){let r=t.offsetWidth,i=getComputedStyle(t);return r-=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)+parseFloat(i.borderLeftWidth)+parseFloat(i.borderRightWidth),r}static getViewport(){let t=window,r=document,i=r.documentElement,s=r.getElementsByTagName("body")[0];return{width:t.innerWidth||i.clientWidth||s.clientWidth,height:t.innerHeight||i.clientHeight||s.clientHeight}}static getOffset(t){var r=t.getBoundingClientRect();return{top:r.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:r.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(t,r){let i=t.parentNode;if(!i)throw"Can't replace element";return i.replaceChild(r,t)}static getUserAgent(){if(navigator&&this.isClient())return navigator.userAgent}static isIE(){var t=window.navigator.userAgent;return t.indexOf("MSIE ")>0||(t.indexOf("Trident/")>0?(t.indexOf("rv:"),!0):t.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(t,r){if(this.isElement(r))r.appendChild(t);else{if(!(r&&r.el&&r.el.nativeElement))throw"Cannot append "+r+" to "+t;r.el.nativeElement.appendChild(t)}}static removeChild(t,r){if(this.isElement(r))r.removeChild(t);else{if(!r.el||!r.el.nativeElement)throw"Cannot remove "+t+" from "+r;r.el.nativeElement.removeChild(t)}}static removeElement(t){"remove"in Element.prototype?t.remove():t.parentNode.removeChild(t)}static isElement(t){return"object"==typeof HTMLElement?t instanceof HTMLElement:t&&"object"==typeof t&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName}static calculateScrollbarWidth(t){if(t){let r=getComputedStyle(t);return t.offsetWidth-t.clientWidth-parseFloat(r.borderLeftWidth)-parseFloat(r.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let r=document.createElement("div");r.className="p-scrollbar-measure",document.body.appendChild(r);let i=r.offsetWidth-r.clientWidth;return document.body.removeChild(r),this.calculatedScrollbarWidth=i,i}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let t=document.createElement("div");t.className="p-scrollbar-measure",document.body.appendChild(t);let r=t.offsetHeight-t.clientHeight;return document.body.removeChild(t),this.calculatedScrollbarWidth=r,r}static invokeElementMethod(t,r,i){t[r].apply(t,i)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let t=this.resolveUserAgent();this.browser={},t.browser&&(this.browser[t.browser]=!0,this.browser.version=t.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let t=navigator.userAgent.toLowerCase(),r=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:r[1]||"",version:r[2]||"0"}}static isInteger(t){return Number.isInteger?Number.isInteger(t):"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}static isHidden(t){return!t||null===t.offsetParent}static isVisible(t){return t&&null!=t.offsetParent}static isExist(t){return null!==t&&typeof t<"u"&&t.nodeName&&t.parentNode}static focus(t,r){t&&document.activeElement!==t&&t.focus(r)}static getFocusableElements(t,r=""){let i=this.find(t,`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},\n                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},\n                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r}`),s=[];for(let o of i)"none"!=getComputedStyle(o).display&&"hidden"!=getComputedStyle(o).visibility&&s.push(o);return s}static getFirstFocusableElement(t,r){const i=this.getFocusableElements(t,r);return i.length>0?i[0]:null}static getLastFocusableElement(t,r){const i=this.getFocusableElements(t,r);return i.length>0?i[i.length-1]:null}static getNextFocusableElement(t,r=!1){const i=n.getFocusableElements(t);let s=0;if(i&&i.length>0){const o=i.indexOf(i[0].ownerDocument.activeElement);r?s=-1==o||0===o?i.length-1:o-1:-1!=o&&o!==i.length-1&&(s=o+1)}return i[s]}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}static getSelection(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null}static getTargetElement(t,r){if(!t)return null;switch(t){case"document":return document;case"window":return window;case"@next":return r?.nextElementSibling;case"@prev":return r?.previousElementSibling;case"@parent":return r?.parentElement;case"@grandparent":return r?.parentElement.parentElement;default:const i=typeof t;if("string"===i)return document.querySelector(t);if("object"===i&&t.hasOwnProperty("nativeElement"))return this.isExist(t.nativeElement)?t.nativeElement:void 0;const o=(a=t)&&a.constructor&&a.call&&a.apply?t():t;return o&&9===o.nodeType||this.isExist(o)?o:null}var a}static isClient(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}static getAttribute(t,r){if(t){const i=t.getAttribute(r);return isNaN(i)?"true"===i||"false"===i?"true"===i:i:+i}}static calculateBodyScrollbarWidth(){return window.innerWidth-document.documentElement.offsetWidth}static blockBodyScroll(t="p-overflow-hidden"){document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,t)}static unblockBodyScroll(t="p-overflow-hidden"){document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,t)}}return n})();class vre{element;listener;scrollableParents;constructor(e,t=(()=>{})){this.element=e,this.listener=t}bindScrollListener(){this.scrollableParents=Yr.getScrollableParents(this.element);for(let e=0;e<this.scrollableParents.length;e++)this.scrollableParents[e].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let e=0;e<this.scrollableParents.length;e++)this.scrollableParents[e].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}let IH=(()=>{class n extends l_{static \u0275fac=function(){let t;return function(i){return(t||(t=Le(n)))(i||n)}}();static \u0275cmp=Ur({type:n,selectors:[["TimesIcon"]],standalone:!0,features:[gn,rc],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z","fill","currentColor"]],template:function(r,i){1&r&&(Uo(),_e(0,"svg",0),jt(1,"path",1),Te()),2&r&&(Zl(i.getClassNames()),tr("aria-label",i.ariaLabel)("aria-hidden",i.ariaHidden)("role",i.role))},encapsulation:2})}return n})(),Ire=(()=>{class n{document;platformId;renderer;el;zone;config;constructor(t,r,i,s,o,a){this.document=t,this.platformId=r,this.renderer=i,this.el=s,this.zone=o,this.config=a}animationListener;mouseDownListener;timeout;ngAfterViewInit(){lw(this.platformId)&&this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.renderer.listen(this.el.nativeElement,"mousedown",this.onMouseDown.bind(this))})}onMouseDown(t){let r=this.getInk();if(!r||"none"===this.document.defaultView?.getComputedStyle(r,null).display)return;if(Yr.removeClass(r,"p-ink-active"),!Yr.getHeight(r)&&!Yr.getWidth(r)){let a=Math.max(Yr.getOuterWidth(this.el.nativeElement),Yr.getOuterHeight(this.el.nativeElement));r.style.height=a+"px",r.style.width=a+"px"}let i=Yr.getOffset(this.el.nativeElement),s=t.pageX-i.left+this.document.body.scrollTop-Yr.getWidth(r)/2,o=t.pageY-i.top+this.document.body.scrollLeft-Yr.getHeight(r)/2;this.renderer.setStyle(r,"top",o+"px"),this.renderer.setStyle(r,"left",s+"px"),Yr.addClass(r,"p-ink-active"),this.timeout=setTimeout(()=>{let a=this.getInk();a&&Yr.removeClass(a,"p-ink-active")},401)}getInk(){const t=this.el.nativeElement.children;for(let r=0;r<t.length;r++)if("string"==typeof t[r].className&&-1!==t[r].className.indexOf("p-ink"))return t[r];return null}resetInk(){let t=this.getInk();t&&Yr.removeClass(t,"p-ink-active")}onAnimationEnd(t){this.timeout&&clearTimeout(this.timeout),Yr.removeClass(t.currentTarget,"p-ink-active")}create(){let t=this.renderer.createElement("span");this.renderer.addClass(t,"p-ink"),this.renderer.appendChild(this.el.nativeElement,t),this.renderer.setAttribute(t,"aria-hidden","true"),this.renderer.setAttribute(t,"role","presentation"),this.animationListener||(this.animationListener=this.renderer.listen(t,"animationend",this.onAnimationEnd.bind(this)))}remove(){let t=this.getInk();t&&(this.mouseDownListener&&this.mouseDownListener(),this.animationListener&&this.animationListener(),this.mouseDownListener=null,this.animationListener=null,Yr.removeElement(t))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}static \u0275fac=function(r){return new(r||n)(oe(ss),oe(vo),oe(Ko),oe(zi),oe(ut),oe(cH,8))};static \u0275dir=it({type:n,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"]})}return n})(),CP=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Pn({type:n});static \u0275inj=Rn({imports:[Jl]})}return n})();function Ere(n,e){1&n&&zS(0)}function wre(n,e){1&n&&jt(0,"TimesIcon",8),2&n&&Ve("styleClass","p-overlaypanel-close-icon")}function bre(n,e){}function Tre(n,e){1&n&&St(0,bre,0,0,"ng-template")}function Cre(n,e){if(1&n&&(_e(0,"span",9),St(1,Tre,1,0,null,3),Te()),2&n){const t=Me(3);$e(1),Ve("ngTemplateOutlet",t.closeIconTemplate)}}function Sre(n,e){if(1&n){const t=ur();_e(0,"button",5),dt("click",function(i){return Ct(t),Dt(Me(2).onCloseClick(i))})("keydown.enter",function(){return Ct(t),Dt(Me(2).hide())}),St(1,wre,1,1,"TimesIcon",6),St(2,Cre,2,1,"span",7),Te()}if(2&n){const t=Me(2);tr("aria-label",t.ariaCloseLabel),$e(1),Ve("ngIf",!t.closeIconTemplate),$e(1),Ve("ngIf",t.closeIconTemplate)}}const Are=function(n,e){return{showTransitionParams:n,hideTransitionParams:e}},Dre=function(n,e){return{value:n,params:e}};function xre(n,e){if(1&n){const t=ur();_e(0,"div",1),dt("click",function(i){return Ct(t),Dt(Me().onOverlayClick(i))})("@animation.start",function(i){return Ct(t),Dt(Me().onAnimationStart(i))})("@animation.done",function(i){return Ct(t),Dt(Me().onAnimationEnd(i))}),_e(1,"div",2),dt("click",function(){return Ct(t),Dt(Me().onContentClick())})("mousedown",function(){return Ct(t),Dt(Me().onContentClick())}),GS(2),St(3,Ere,1,0,"ng-container",3),Te(),St(4,Sre,3,3,"button",4),Te()}if(2&n){const t=Me();Zl(t.styleClass),Ve("ngClass","p-overlaypanel p-component")("ngStyle",t.style)("@animation",lA(11,Dre,t.overlayVisible?"open":"close",lA(8,Are,t.showTransitionOptions,t.hideTransitionOptions))),tr("aria-modal",t.overlayVisible),$e(3),Ve("ngTemplateOutlet",t.contentTemplate),$e(1),Ve("ngIf",t.showCloseIcon)}}const Rre=["*"];let Pre=(()=>{class n{document;platformId;el;renderer;cd;zone;config;overlayService;dismissable=!0;showCloseIcon;style;styleClass;appendTo="body";autoZIndex=!0;ariaCloseLabel;baseZIndex=0;focusOnShow=!0;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";onShow=new nt;onHide=new nt;templates;container;overlayVisible=!1;render=!1;isOverlayAnimationInProgress=!1;selfClick=!1;documentClickListener;target;willHide;scrollHandler;documentResizeListener;contentTemplate;closeIconTemplate;destroyCallback;overlayEventListener;overlaySubscription;constructor(t,r,i,s,o,a,u,d){this.document=t,this.platformId=r,this.el=i,this.renderer=s,this.cd=o,this.zone=a,this.config=u,this.overlayService=d}ngAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"content":default:this.contentTemplate=t.template;break;case"closeicon":this.closeIconTemplate=t.template}this.cd.markForCheck()})}bindDocumentClickListener(){if(lw(this.platformId)&&!this.documentClickListener&&this.dismissable){let t=Yr.isIOS()?"touchstart":"click";this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:this.document,t,i=>{!this.container?.contains(i.target)&&this.target!==i.target&&!this.target.contains(i.target)&&this.hide(),this.cd.markForCheck()})}}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null,this.selfClick=!1)}toggle(t,r){this.isOverlayAnimationInProgress||(this.overlayVisible?(this.hasTargetChanged(t,r)&&(this.destroyCallback=()=>{this.show(null,r||t.currentTarget||t.target)}),this.hide()):this.show(t,r))}show(t,r){r&&t&&t.stopPropagation(),!this.isOverlayAnimationInProgress&&(this.target=r||t.currentTarget||t.target,this.overlayVisible=!0,this.render=!0,this.cd.markForCheck())}onOverlayClick(t){this.overlayService.add({originalEvent:t,target:this.el.nativeElement}),this.selfClick=!0}onContentClick(){this.selfClick=!0}hasTargetChanged(t,r){return null!=this.target&&this.target!==(r||t.currentTarget||t.target)}appendContainer(){this.appendTo&&("body"===this.appendTo?this.renderer.appendChild(this.document.body,this.container):Yr.appendChild(this.container,this.appendTo))}restoreAppend(){this.container&&this.appendTo&&this.renderer.appendChild(this.el.nativeElement,this.container)}align(){this.autoZIndex&&wP.set("overlay",this.container,this.baseZIndex+this.config.zIndex.overlay),Yr.absolutePosition(this.container,this.target);const t=Yr.getOffset(this.container),r=Yr.getOffset(this.target),i=this.document.defaultView?.getComputedStyle(this.container).getPropertyValue("border-radius");let s=0;t.left<r.left&&(s=r.left-t.left-2*parseFloat(i)),this.container?.style.setProperty("--overlayArrowLeft",`${s}px`),t.top<r.top&&(Yr.addClass(this.container,"p-overlaypanel-flipped"),this.showCloseIcon&&this.renderer.setStyle(this.container,"margin-top","-30px"))}onAnimationStart(t){"open"===t.toState&&(this.container=t.element,this.appendContainer(),this.align(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.focusOnShow&&this.focus(),this.overlayEventListener=r=>{this.container&&this.container.contains(r.target)&&(this.selfClick=!0)},this.overlaySubscription=this.overlayService.clickObservable.subscribe(this.overlayEventListener),this.onShow.emit(null)),this.isOverlayAnimationInProgress=!0}onAnimationEnd(t){switch(t.toState){case"void":this.destroyCallback&&(this.destroyCallback(),this.destroyCallback=null),this.overlaySubscription&&this.overlaySubscription.unsubscribe();break;case"close":this.autoZIndex&&wP.clear(this.container),this.overlaySubscription&&this.overlaySubscription.unsubscribe(),this.onContainerDestroy(),this.onHide.emit({}),this.render=!1}this.isOverlayAnimationInProgress=!1}focus(){let t=Yr.findSingle(this.container,"[autofocus]");t&&this.zone.runOutsideAngular(()=>{setTimeout(()=>t.focus(),5)})}hide(){this.overlayVisible=!1,this.cd.markForCheck()}onCloseClick(t){this.hide(),t.preventDefault()}onEscapeKeydown(t){this.hide()}onWindowResize(){this.overlayVisible&&!Yr.isTouchDevice()&&this.hide()}bindDocumentResizeListener(){lw(this.platformId)&&!this.documentResizeListener&&(this.documentResizeListener=this.renderer.listen(this.document.defaultView,"resize",this.onWindowResize.bind(this)))}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindScrollListener(){lw(this.platformId)&&(this.scrollHandler||(this.scrollHandler=new vre(this.target,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener())}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}onContainerDestroy(){this.cd.destroyed||(this.target=null),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener()}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.container&&this.autoZIndex&&wP.clear(this.container),this.cd.destroyed||(this.target=null),this.destroyCallback=null,this.container&&(this.restoreAppend(),this.onContainerDestroy()),this.overlaySubscription&&this.overlaySubscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)(oe(ss),oe(vo),oe(zi),oe(Ko),oe(bf),oe(ut),oe(cH),oe(Yne))};static \u0275cmp=Ur({type:n,selectors:[["p-overlayPanel"]],contentQueries:function(r,i,s){if(1&r&&H0(s,dH,4),2&r){let o;If(o=Ef())&&(i.templates=o)}},hostAttrs:[1,"p-element"],hostBindings:function(r,i){1&r&&dt("keydown.escape",function(o){return i.onEscapeKeydown(o)},0,TM)},inputs:{dismissable:"dismissable",showCloseIcon:"showCloseIcon",style:"style",styleClass:"styleClass",appendTo:"appendTo",autoZIndex:"autoZIndex",ariaCloseLabel:"ariaCloseLabel",baseZIndex:"baseZIndex",focusOnShow:"focusOnShow",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onShow:"onShow",onHide:"onHide"},ngContentSelectors:Rre,decls:1,vars:1,consts:[["role","dialog",3,"ngClass","ngStyle","class","click",4,"ngIf"],["role","dialog",3,"ngClass","ngStyle","click"],[1,"p-overlaypanel-content",3,"click","mousedown"],[4,"ngTemplateOutlet"],["type","button","class","p-overlaypanel-close p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],["type","button","pRipple","",1,"p-overlaypanel-close","p-link",3,"click","keydown.enter"],[3,"styleClass",4,"ngIf"],["class","p-overlaypanel-close-icon",4,"ngIf"],[3,"styleClass"],[1,"p-overlaypanel-close-icon"]],template:function(r,i){1&r&&(qS(),St(0,xre,5,14,"div",0)),2&r&&Ve("ngIf",i.render)},dependencies:function(){return[aw,Sf,XA,JA,Ire,IH]},styles:['@layer primeng{.p-overlaypanel{position:absolute;margin-top:10px;top:0;left:0}.p-overlaypanel-flipped{margin-top:0;margin-bottom:10px}.p-overlaypanel-close{display:flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-overlaypanel:after,.p-overlaypanel:before{bottom:100%;left:calc(var(--overlayArrowLeft, 0) + 1.25rem);content:" ";height:0;width:0;position:absolute;pointer-events:none}.p-overlaypanel:after{border-width:8px;margin-left:-8px}.p-overlaypanel:before{border-width:10px;margin-left:-10px}.p-overlaypanel-shifted:after,.p-overlaypanel-shifted:before{left:auto;right:1.25em;margin-left:auto}.p-overlaypanel-flipped:after,.p-overlaypanel-flipped:before{bottom:auto;top:100%}.p-overlaypanel.p-overlaypanel-flipped:after{border-bottom-color:transparent}.p-overlaypanel.p-overlaypanel-flipped:before{border-bottom-color:transparent}}\n'],encapsulation:2,data:{animation:[yre("animation",[bP("void",jI({transform:"scaleY(0.8)",opacity:0})),bP("close",jI({opacity:0})),bP("open",jI({transform:"translateY(0)",opacity:1})),yH("void => open",mH("{{showTransitionParams}}")),yH("open => close",mH("{{hideTransitionParams}}"))])]},changeDetection:0})}return n})(),Mre=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Pn({type:n});static \u0275inj=Rn({imports:[Jl,CP,Xd,IH,Xd]})}return n})();function Ore(n,e){if(1&n){const t=ur();_e(0,"i",23),dt("click",function(){return Ct(t),Dt(Me().darkMode())}),Te()}}function Nre(n,e){if(1&n){const t=ur();_e(0,"i",24),dt("click",function(){return Ct(t),Dt(Me().darkMode())}),Te()}}function kre(n,e){if(1&n){const t=ur();_e(0,"i",25),dt("click",function(i){return Ct(t),Me(),Dt(qg(14).toggle(i))}),Te()}}function Lre(n,e){if(1&n){const t=ur();_e(0,"img",26),dt("click",function(i){return Ct(t),Me(),Dt(qg(14).toggle(i))}),Te()}2&n&&Ve("src",Me().photoURL,ay)}function Fre(n,e){if(1&n&&(_e(0,"span",0),Ot(1),Te()),2&n){const t=Me();Ve("ngClass",t.mode?"main-board-dark":"main-board"),$e(1),_f(t.mainBoard)}}function Vre(n,e){if(1&n){const t=ur();_e(0,"div")(1,"input",27),dt("ngModelChange",function(i){return Ct(t),Dt(Me().mainBoardName=i)})("keyup.enter",function(){return Ct(t),Dt(Me().onEnterMainBoard())}),Te()()}if(2&n){const t=Me();$e(1),Ve("ngModel",t.mainBoardName)}}function Ure(n,e){if(1&n&&(_e(0,"label",48),Ot(1),Te()),2&n){const t=Me(2).$implicit;$e(1),Wg(" ",t.name," ")}}function Bre(n,e){if(1&n){const t=ur();_e(0,"div")(1,"input",27),dt("ngModelChange",function(i){return Ct(t),Dt(Me(4).taskLabelName=i)})("keyup.enter",function(){Ct(t);const i=Me(2).$implicit;return Dt(Me(2).onEnterCardLabel(i.id))}),Te()()}if(2&n){const t=Me(4);$e(1),Ve("ngModel",t.taskLabelName)}}function Hre(n,e){if(1&n){const t=ur();_e(0,"input",49),dt("ngModelChange",function(i){return Ct(t),Dt(Me(4).addedTodo=i)})("keyup.enter",function(){Ct(t);const i=Me(2).$implicit;return Dt(Me(2).onEnterTodo(i.id))}),Te()}2&n&&Ve("ngModel",Me(4).addedTodo)}function $re(n,e){if(1&n){const t=ur();_e(0,"p-checkbox",56),dt("mouseover",function(){return Ct(t),Dt(Me(6).checkHover=!1)})("mouseout",function(){return Ct(t),Dt(Me(6).checkHover=!0)})("click",function(){Ct(t);const i=Me(2).$implicit;return Dt(Me(4).onCheckboxClick(i))}),Te()}2&n&&Ve("inputId",Me(2).$implicit.key)}function jre(n,e){if(1&n){const t=ur();_e(0,"i",57),dt("mouseover",function(){return Ct(t),Dt(Me(6).checkHover=!0)})("mouseout",function(){return Ct(t),Dt(Me(6).checkHover=!1)}),Te()}}function zre(n,e){if(1&n&&(_e(0,"div",52),St(1,$re,1,1,"p-checkbox",53),St(2,jre,1,0,"i",54),_e(3,"label",55),Ot(4),Te()()),2&n){const t=Me().$implicit,r=Me(4);$e(1),Ve("ngIf",!r.checkHover),$e(1),Ve("ngIf",r.checkHover),$e(1),Ve("for",t.key),$e(1),_f(t.name)}}function qre(n,e){if(1&n&&(_e(0,"div",50),St(1,zre,5,4,"div",51),Te()),2&n){const t=e.$implicit,r=Me(2).$implicit;$e(1),Ve("ngIf",!t.deleted&&!t.completed&&t.id===r.id)}}function Gre(n,e){1&n&&(_e(0,"div")(1,"span",58),Ot(2,"Completed"),Te()())}function Wre(n,e){if(1&n){const t=ur();_e(0,"div",59)(1,"span",58),Ot(2),Te(),_e(3,"button",60),dt("click",function(){Ct(t);const i=Me(2).$implicit;return Dt(Me(2).toggleForCompletedList(i.id))}),Te()()}if(2&n){const t=Me(2).$implicit,r=Me(2);$e(2),Wg("Completed(",r.completedTodosCountObj[t.id],")"),$e(1),Ve("textContent",r.isCompletedListOpen.includes(t.id)?"\u039b":"V")}}function Kre(n,e){if(1&n){const t=ur();_e(0,"button",68),dt("click",function(){Ct(t);const i=Me(2).$implicit;return Dt(Me(5).deleteCompleteList(i))}),jt(1,"i",69),Te()}}function Zre(n,e){if(1&n&&(_e(0,"div",63)(1,"div",64),jt(2,"i",65),_e(3,"label",66),Ot(4),Te()(),St(5,Kre,2,0,"button",67),Te()),2&n){const t=Me().$implicit,r=Me(3).$implicit;$e(4),_f(t.name),$e(1),Ve("ngIf",!t.deleted&&t.completed&&t.id===r.id)}}function Qre(n,e){if(1&n&&(_e(0,"div",50),St(1,Zre,6,2,"div",62),Te()),2&n){const t=e.$implicit,r=Me(3).$implicit;$e(1),Ve("ngIf",!t.deleted&&t.completed&&t.id===r.id)}}function Yre(n,e){if(1&n&&(_e(0,"div",61),St(1,Qre,2,1,"div",45),Te()),2&n){const t=Me(4);$e(1),Ve("ngForOf",t.todos)}}function Jre(n,e){if(1&n){const t=ur();_e(0,"div")(1,"div",33)(2,"div",34),St(3,Ure,2,1,"label",35),St(4,Bre,2,1,"div",17),_e(5,"div",36)(6,"p-overlayPanel",null,37)(8,"span",10),dt("click",function(){Ct(t);const i=Me().$implicit;return Dt(Me(2).menuItemClicked("delete",i))}),jt(9,"i",38),Ot(10," Delete"),Te(),_e(11,"span",10),dt("click",function(){Ct(t);const i=Me().$implicit;return Dt(Me(2).menuItemClicked("edit",i))}),jt(12,"i",39),Ot(13," Edit"),Te()(),_e(14,"i",40),dt("click",function(i){return Ct(t),Dt(qg(7).toggle(i))}),Te()()(),_e(15,"div",41),dt("mouseover",function(){Ct(t);const i=Me().$implicit;return Dt(Me(2).hoverOnAddTaskMtd(i))})("mouseout",function(){Ct(t);const i=Me().$implicit;return Dt(Me(2).hoverOnAddTaskMtd1(i))})("click",function(){Ct(t);const i=Me().$implicit;return Dt(Me(2).addTodo(i.id))}),jt(16,"i",42),Ot(17," Add Task "),Te(),_e(18,"div",43),St(19,Hre,1,1,"input",44),St(20,qre,2,1,"div",45),Te(),St(21,Gre,3,0,"div",17),St(22,Wre,4,2,"div",46),St(23,Yre,2,1,"div",47),Te()()}if(2&n){const t=Me().$implicit,r=Me(2);$e(3),Ve("ngIf",r.editTaskLabel!=t.id),$e(1),Ve("ngIf",r.editTaskLabel===t.id),$e(12),Ve("ngClass",t.sty?"add-icon-hover":"add-icon"),$e(3),Ve("ngIf",r.isAddTodo===t.id),$e(1),Ve("ngForOf",r.todos),$e(1),Ve("ngIf",r.completedTodosCountObj&&!r.completedTodosCountObj.hasOwnProperty(t.id)),$e(1),Ve("ngIf",r.completedTodosCountObj&&r.completedTodosCountObj[t.id]&&0!=r.completedTodosCountObj[t.id]),$e(1),Ve("ngIf",r.isCompletedListOpen.includes(t.id))}}function Xre(n,e){if(1&n&&(_e(0,"div",32),St(1,Jre,24,8,"div",17),Te()),2&n){const t=e.$implicit;$e(1),Ve("ngIf",!t.deleted)}}function eie(n,e){if(1&n){const t=ur();_e(0,"p",70),dt("click",function(){return Ct(t),Dt(Me(2).addTasksIcon())}),jt(1,"i",71),Ot(2," Add new list"),Te()}}function tie(n,e){if(1&n){const t=ur();_e(0,"div",72)(1,"span",73)(2,"i",74),dt("click",function(){return Ct(t),Dt(Me(2).plusIconBtn())}),Te(),_e(3,"input",75),dt("ngModelChange",function(i){return Ct(t),Dt(Me(2).addedTask=i)})("keyup.enter",function(){return Ct(t),Dt(Me(2).onEnterTask())}),Te()()()}if(2&n){const t=Me(2);$e(3),Ve("ngModel",t.addedTask)}}function nie(n,e){if(1&n&&(_e(0,"div",28),St(1,Xre,2,1,"div",29),_e(2,"div",0),St(3,eie,3,0,"p",30),St(4,tie,4,1,"div",31),Te()()),2&n){const t=Me();$e(1),Ve("ngForOf",t.tasks),$e(1),Ve("ngClass",t.mode?"add-new-todo-card-dark":"add-new-todo-card"),$e(1),Ve("ngIf",!t.addTasksInput),$e(1),Ve("ngIf",t.addTasksInput)}}const rie=[{path:"",redirectTo:"/tasks",pathMatch:"full"},{path:"tasks",component:(()=>{class n{constructor(t,r){this.tasksService=t,this.authService=r,this.menuOpen=!1,this.errorMsg="API failing",this.showProfileOptions=!1,this.addedTask="",this.addedTodo="",this.isCompletedListOpen=[],this.isAddTodo="",this.todos=[],this.todosFix=[],this.tasksFix=[],this.addTasksInput=!1,this.isMenuOpen="",this.tasks=[],this.mode=!1,this.checkHover=!1,this.hoverOnAddTask=!1,this.editMainBoard=!1,this.mainBoard=""}ngOnInit(){this.authService.getUser().subscribe(t=>{t&&(this.photoURL=t.photoURL,t.uid&&""!=t.uid&&null!=t.uid&&(this.uid=t.uid,this.getLatestTasks(t.uid)))})}hoverOnAddTaskMtd(t){t.sty=!0}hoverOnAddTaskMtd1(t){t.sty=!1}onEnterSearch(){this.todos=this.todosFix.filter(r=>r.name.toLowerCase().includes(this.searchValue.toLowerCase()));const t=this.todos.map(r=>r.id);this.tasks=this.tasksFix.filter(r=>t.includes(r.id))}ngafterviewinit(){}darkMode(){this.mode?(this.mode=!1,this.tasksService.updateMode({mode:"light"},this.uid).subscribe(t=>{})):(this.mode=!0,this.tasksService.updateMode({mode:"dark"},this.uid).subscribe(t=>{}))}toggleProfileOptions(){this.showProfileOptions=!this.showProfileOptions}switchAccount(){this.authService.singInWithGoogle()}logout(){this.authService.signOut()}editBoard(){this.editMainBoard=!0,this.mainBoardName=this.mainBoard}onEnterMainBoard(){this.tasksService.updateMode({mainBoard:this.mainBoardName},this.uid).subscribe(t=>{this.editMainBoard=!1,this.getLatestTasks(this.uid)})}completedTodosCount(t){const r={};for(const i of t)if(!0===i.completed&&!1===i.deleted){const s=i.id;r[s]||(r[s]=0),r[s]++}return r}getLatestTasks(t){this.tasksService.getTasks(t).subscribe(r=>{r[0].todos&&(this.tasks=r[0].tasks,this.todos=r[0].todos,this.todosFix=(0,G5.cloneDeep)(this.todos),this.tasksFix=(0,G5.cloneDeep)(this.tasks),this.completedTodosCountObj=this.completedTodosCount(this.todos),this.mode="dark"==r[0].mode,this.mainBoard=r[0].mainBoard)})}addTasksIcon(){this.addTasksInput=!0,this.addedTask=""}plusIconBtn(){this.addTasksInput=!1,this.addedTask=""}onEnterTask(){""!=this.addedTask?(this.tasksModel=new mP,this.tasksModel.setModel(void 0,this.addedTask),this.tasksService.createTasks(this.tasksModel,this.uid).subscribe(t=>{this.getLatestTasks(this.uid),this.addedTask="",this.addTasksInput=!1})):alert("Please enter name of task")}onEnterCardLabel(t){""!=this.editTaskLabel?(this.tasksModel=new mP,this.tasksModel.setModel(t,this.taskLabelName),this.tasksService.patchTasks(this.uid,this.tasksModel).subscribe(r=>{this.getLatestTasks(this.uid),this.editTaskLabel=""})):alert("Please enter name of task")}ellipseMenu(t){this.isMenuOpen=this.isMenuOpen==t?"":t}menuItemClicked(t,r){if("delete"==t)this.tasksModel=new mP,this.tasksModel.setModel(r.id,r.name,!0),this.tasksService.patchTasks(this.uid,this.tasksModel).subscribe(i=>{this.isMenuOpen="",this.getLatestTasks(this.uid)});else if("edit"==t){this.editTaskLabel=r.id;let i=this.tasks.find(s=>s.id==s.id);this.taskLabelName=i.name,this.isMenuOpen=""}}addTodo(t){this.isAddTodo==t?this.isAddTodo="":(this.isAddTodo=t,this.addedTodo="")}onEnterTodo(t){""!=this.addedTodo?(this.todosModel=new gP,this.todosModel.setModel(t,this.addedTodo),this.tasksService.createTodo(this.uid,this.todosModel).subscribe(r=>{this.getLatestTasks(this.uid),this.addedTodo=""})):alert("Please enter name of todo")}onCheckboxClick(t){this.todosModel=new gP,this.todosModel.setModel(t.id,t.name,!0,t.deleted,t.todoId),this.tasksService.patchTodo(this.uid,this.todosModel).subscribe(r=>{this.getLatestTasks(this.uid)})}deleteCompleteList(t){this.todosModel=new gP,this.todosModel.setModel(t.id,t.name,t.completed,!0,t.todoId),this.tasksService.patchTodo(this.uid,this.todosModel).subscribe(r=>{this.getLatestTasks(this.uid)})}toggleForCompletedList(t){if(this.isCompletedListOpen.includes(t)){let r=this.isCompletedListOpen.findIndex(i=>i===t);this.isCompletedListOpen.splice(r,1)}else this.isCompletedListOpen.push(t)}static#e=this.\u0275fac=function(r){return new(r||n)(oe(Zne),oe(r_))};static#t=this.\u0275cmp=Ur({type:n,selectors:[["app-tasks"]],decls:35,vars:12,consts:[[3,"ngClass"],[1,"pi","pi-th-large"],[1,"ml-2","tasksBoard"],[1,"p-input-icon-left","searchIconBox"],[1,"pi","pi-search","searchIcon"],["type","text","pInputText","","placeholder","Search",1,"search",3,"ngModel","ngModelChange","input"],[1,"profile"],["class","pi pi-sun modeIcon",3,"click",4,"ngIf"],["class","pi pi-moon modeIcon",3,"click",4,"ngIf"],["op2",""],[1,"menu-items",3,"click"],[1,"pi","pi-sign-out","mr-3"],[1,"pi","pi-user","mr-3"],["class","pi pi-user",3,"click",4,"ngIf"],["class","profile-img","alt","Profile Icon",3,"src","click",4,"ngIf"],[1,"add-todo-action"],[3,"ngClass",4,"ngIf"],[4,"ngIf"],[1,"add-todo-text"],["op1",""],[1,"pi","pi-pencil"],[1,"pi","pi-ellipsis-v",3,"ngClass","click"],["class","cards-container",4,"ngIf"],[1,"pi","pi-sun","modeIcon",3,"click"],[1,"pi","pi-moon","modeIcon",3,"click"],[1,"pi","pi-user",3,"click"],["alt","Profile Icon",1,"profile-img",3,"src","click"],["type","text","pInputText","",1,"edit_Task",3,"ngModel","ngModelChange","keyup.enter"],[1,"cards-container"],["class","first",4,"ngFor","ngForOf"],["class","list-label",3,"click",4,"ngIf"],["class","custom-input-container",4,"ngIf"],[1,"first"],[1,"card"],[1,"ellipse"],["class","taskLabel",4,"ngIf"],[1,"ellipse-card"],["op",""],[1,"pi","pi-trash"],[1,"pi","pi-file-edit"],[1,"pi","pi-ellipsis-v",2,"color","#495057",3,"click"],[1,"mb-2","add-button",3,"mouseover","mouseout","click"],[1,"pi","pi-plus",3,"ngClass"],[1,"todoIncompleted"],["type","text","class","add_Todo","pInputText","",3,"ngModel","ngModelChange","keyup.enter",4,"ngIf"],["class","field-checkbox",4,"ngFor","ngForOf"],["class","list-container",4,"ngIf"],["class","todoCompleted",4,"ngIf"],[1,"taskLabel"],["type","text","pInputText","",1,"add_Todo",3,"ngModel","ngModelChange","keyup.enter"],[1,"field-checkbox"],["class","checkIncompleted",4,"ngIf"],[1,"checkIncompleted"],["class","checkbox-icon",3,"inputId","mouseover","mouseout","click",4,"ngIf"],["class","pi pi-check checkHoverIcon",3,"mouseover","mouseout",4,"ngIf"],[1,"ml-2","mb-0",3,"for"],[1,"checkbox-icon",3,"inputId","mouseover","mouseout","click"],[1,"pi","pi-check","checkHoverIcon",3,"mouseover","mouseout"],[1,"completed-button"],[1,"list-container"],["type","button",1,"toggle-button",3,"textContent","click"],[1,"todoCompleted"],["class","check",4,"ngIf"],[1,"check"],[1,"check-icon"],[1,"pi","pi-check",2,"font-size","0.8rem","color","rgb(66, 133, 244)"],[1,"ml-2","mb-0"],["class","delete-button","type","button",3,"click",4,"ngIf"],["type","button",1,"delete-button",3,"click"],[1,"pi","pi-trash",2,"color","#495057"],[1,"list-label",3,"click"],[1,"pi","pi-plus",2,"font-size","0.6rem","color","rgb(115, 121, 125)"],[1,"custom-input-container"],[1,"p-input-icon-right"],[1,"pi","pi-plus","plusIcon",3,"click"],["type","text","pInputText","","placeholder","New Task",1,"add_Task",3,"ngModel","ngModelChange","keyup.enter"]],template:function(r,i){if(1&r){const s=ur();_e(0,"div",0)(1,"div",0)(2,"div"),jt(3,"i",1),_e(4,"span",2),Ot(5,"TasksBoard"),Te()(),_e(6,"div")(7,"span",3),jt(8,"i",4),_e(9,"input",5),dt("ngModelChange",function(a){return i.searchValue=a})("input",function(){return i.onEnterSearch()}),Te()()(),_e(10,"div",6),St(11,Ore,1,0,"i",7),St(12,Nre,1,0,"i",8),_e(13,"p-overlayPanel",null,9)(15,"span",10),dt("click",function(){return i.logout()}),jt(16,"i",11),Ot(17," Sign Out"),Te(),_e(18,"span",10),dt("click",function(){return i.switchAccount()}),jt(19,"i",12),Ot(20," Switch Account"),Te()(),St(21,kre,1,0,"i",13),St(22,Lre,1,1,"img",14),Te()()(),_e(23,"div",0)(24,"div",15),St(25,Fre,2,2,"span",16),St(26,Vre,2,1,"div",17),_e(27,"div",18)(28,"p-overlayPanel",null,19)(30,"span",10),dt("click",function(){return i.editBoard()}),jt(31,"i",20),Ot(32," Edit Board"),Te()(),_e(33,"i",21),dt("click",function(a){return Ct(s),Dt(qg(29).toggle(a))}),Te()()(),St(34,nie,5,4,"div",22),Te()}2&r&&(Ve("ngClass",i.mode?"main-header-dark":"main-header"),$e(1),Ve("ngClass",i.mode?"header-dark":"header"),$e(8),Ve("ngModel",i.searchValue),$e(2),Ve("ngIf",!i.mode),$e(1),Ve("ngIf",i.mode),$e(9),Ve("ngIf",null==i.photoURL),$e(1),Ve("ngIf",null!=i.photoURL),$e(1),Ve("ngClass",i.mode?"main-card-dark":"main-card"),$e(2),Ve("ngIf",!i.editMainBoard),$e(1),Ve("ngIf",i.editMainBoard),$e(7),Ve("ngClass",i.mode?"ellipse-dark":"ellipse"),$e(1),Ve("ngIf",i.tasks&&i.tasks.length>0))},dependencies:[aw,FL,Sf,rp,OI,ip,pH,gre,Pre],styles:['.header[_ngcontent-%COMP%]{padding:.5rem;background:#fff;color:#495057;border:1px solid #dee2e6;border-radius:0 0 8px 8px;height:45px;display:flex;align-items:center;justify-content:space-between}.header-dark[_ngcontent-%COMP%]{padding:.5rem;background:#6c6c6c;color:#fff;border:1px solid #2e2e2e;border-radius:0 0 8px 8px;height:45px;display:flex;align-items:center;justify-content:space-between}.tasksBoard[_ngcontent-%COMP%]{font-size:large}.taskBoradIcon-dark[_ngcontent-%COMP%], .taskBoradIcon[_ngcontent-%COMP%]{height:20px}.searchIcon[_ngcontent-%COMP%]{font-size:14px;margin-top:-6px}.modeIcon[_ngcontent-%COMP%]{margin-right:20px;padding:6px;border-radius:8px}.modeIcon[_ngcontent-%COMP%]:hover{background-color:gray;opacity:.5;transition:.3s}.search[_ngcontent-%COMP%]{width:450px;height:35px;background-color:#dee2e6;background:rgb(241,243,244);border:1px solid transparent;border-radius:8px;max-width:500px}@media (max-width: 430px){.search[_ngcontent-%COMP%]{width:120px}}@media (max-width: 978px){.cards-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:left;flex-direction:row;overflow-x:auto;overflow-y:auto}.search[_ngcontent-%COMP%]{height:35px;background-color:#dee2e6;background:rgb(241,243,244);border:1px solid transparent;border-radius:8px;max-width:250px}}.label_toggle[_ngcontent-%COMP%]{margin-right:25px;margin-top:10px;width:50px;height:20px;position:relative;display:block;background:#ebebeb;border-radius:200px;box-shadow:inset 0 5px 15px #0006,inset 0 -5px 15px #fff3;cursor:pointer}.label_toggle[_ngcontent-%COMP%]:after{content:"";width:20px;height:20px;top:0;left:0;position:absolute;background:linear-gradient(180deg,#ffcc89,#d39f51);border-radius:180px;box-shadow:0 5px 10px #0003}.input_toggle[_ngcontent-%COMP%]{width:0;height:0;visibility:hidden}.input_toggle[_ngcontent-%COMP%]:checked + .label_toggle[_ngcontent-%COMP%]{background:#242424}.input_toggle[_ngcontent-%COMP%]:checked + .label_toggle[_ngcontent-%COMP%]:after{left:50px;transform:translate(-100%);background:linear-gradient(180deg,#777,#3a3a3a)}.label_toggle[_ngcontent-%COMP%], .label_toggle[_ngcontent-%COMP%]:after{transition:.3s}.label_toggle[_ngcontent-%COMP%]:active:after{width:50px}.label_toggle[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{position:absolute;width:13px;top:3px;z-index:100}.label_toggle[_ngcontent-%COMP%]   svg.sun[_ngcontent-%COMP%]{left:3px;fill:#fff;transition:.3s}.label_toggle[_ngcontent-%COMP%]   svg.moon[_ngcontent-%COMP%]{left:33px;fill:#7e7e7e;transition:.3s}.input_toggle[_ngcontent-%COMP%]:checked + .label_toggle[_ngcontent-%COMP%]   svg.sun[_ngcontent-%COMP%]{fill:#7e7e7e}.input_toggle[_ngcontent-%COMP%]:checked + .label_toggle[_ngcontent-%COMP%]   svg.moon[_ngcontent-%COMP%]{fill:#fff}.profile-img[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:100px}.profile[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.profile-options[_ngcontent-%COMP%]{position:absolute;top:50px;right:10px;background-color:#fff;border:1px solid #ccc;border-radius:50px;box-shadow:0 2px 5px #0000001a;z-index:1}.profile-options[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;padding:0;margin:0}.profile-options[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px}.profile-options[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#333;display:block}.profile-options[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}.bxs-face[_ngcontent-%COMP%]{font-size:xx-large}.custom-input-container[_ngcontent-%COMP%]{display:flex;align-items:center;height:50px;width:270px}.custom-input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-right:5px}.ellipse[_ngcontent-%COMP%]{color:#495057}.ellipse-dark[_ngcontent-%COMP%]{color:#fff}.card[_ngcontent-%COMP%]{padding:10px;position:relative;display:flex;-webkit-box-align:center;justify-content:flex-start;height:auto;flex-direction:column;flex-shrink:0;width:270px;max-width:800px;max-height:calc(100vh - 114px);background:rgb(255,255,255);box-shadow:#a9aeb780 0 1px 2px;border-radius:8px;margin:10px;overflow:auto;border:solid 1px #fff;cursor:default!important}.add-new-todo-card[_ngcontent-%COMP%]{border-radius:8px;margin:10px;display:flex;flex-shrink:0;align-items:center;justify-content:center;min-height:52px;height:45px;width:270px;cursor:pointer;font-size:15px;line-height:15px;background:rgba(255,255,255,.5);color:#73797d;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.add-new-todo-card-dark[_ngcontent-%COMP%]{border-radius:8px;margin:10px;display:flex;flex-shrink:0;align-items:center;justify-content:center;min-height:52px;height:45px;width:270px;cursor:pointer;font-size:15px;line-height:15px;background:#fff;color:#73797d;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.list-label[_ngcontent-%COMP%]{font-size:14px;margin-top:16px;padding:19px 50px}.main-header-dark[_ngcontent-%COMP%]{background-color:#242424}.main-header[_ngcontent-%COMP%]{background-color:#f6f8f9}.main-card[_ngcontent-%COMP%]{background-color:#f6f8f9;height:calc(100vh - 45px)}.main-card-dark[_ngcontent-%COMP%]{background-color:#242424;height:calc(100vh - 45px)}[_nghost-%COMP%]     .checkbox-icon .p-checkbox .p-checkbox-box{border:2px solid #ced4da;background:#ffffff;width:18px;height:18px;color:#727272;margin-top:3px;border-radius:10px;transition:background-color .2s,color .2s,border-color .2s,box-shadow .2s}.toggle-button[_ngcontent-%COMP%]{border:none;color:#727272;background-color:transparent;font-size:small;margin-left:10px;display:flex;align-items:center}.completed-button[_ngcontent-%COMP%]{font-size:16;margin-top:2px;color:#727272;margin-right:140px}.list-container[_ngcontent-%COMP%]{display:flex;list-style:none;align-items:center;justify-content:space-between;margin-bottom:7px}.checkHoverIcon[_ngcontent-%COMP%]{font-size:13px;color:#4285f4}.check[_ngcontent-%COMP%]{display:flex;list-style:none;align-items:center;justify-content:space-between;padding:8px;margin-left:5px;transition:box-shadow .3s,transform .3s}.check[_ngcontent-%COMP%]:hover{box-shadow:0 4px 8px #0000001a;transform:translateY(-4px)}.check-icon[_ngcontent-%COMP%]{display:flex;align-items:center}.checkIncompleted[_ngcontent-%COMP%]{display:flex;align-items:center;padding:5px 0;transition:box-shadow .3s,transform .3s}.checkIncompleted[_ngcontent-%COMP%]:hover{box-shadow:0 4px 8px #0000001a;transform:translateY(-4px)}.delete-button[_ngcontent-%COMP%]{margin-left:10px;border:none;background-color:transparent;font-size:large;display:flex;align-items:center}.cards-container[_ngcontent-%COMP%]{height:calc(100vh - 77px);display:flex;flex-wrap:nowrap;justify-content:left;flex-direction:row;overflow-x:auto;overflow-y:hidden;margin-left:5px}@media (max-width: 576px){.cards-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:left;flex-direction:row;overflow-x:auto;overflow-y:auto}.add-new-todo-card[_ngcontent-%COMP%]{order:0}.first[_ngcontent-%COMP%]{order:1}.search[_ngcontent-%COMP%]{height:30px;background-color:#dee2e6;background:rgb(241,243,244);border:1px solid transparent;border-radius:8px;max-width:200px}}.add_Task[_ngcontent-%COMP%]{height:50px;width:270px;font-size:14px}.add_Todo[_ngcontent-%COMP%]{margin-bottom:13px;width:240px;height:30px}.main-board[_ngcontent-%COMP%]{font-size:18px;color:#727272}.main-board-dark[_ngcontent-%COMP%]{font-size:18px;color:#fff}.todoCompleted[_ngcontent-%COMP%]{overflow:auto}.todoIncompleted[_ngcontent-%COMP%]{overflow:auto;margin-bottom:7px}.add-button[_ngcontent-%COMP%]:hover{color:#4285f4}.add-button[_ngcontent-%COMP%]{color:gray}.add-icon[_ngcontent-%COMP%]{color:#4285f4;font-size:12px;padding:3px;margin-right:8px}.add-icon-hover[_ngcontent-%COMP%]{margin-right:10px;font-size:10px;padding:3px;color:#fff;background-color:#4285f4;border-radius:50px}.ellipse-button[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background-color:#4285f4;color:#fff;border:none;cursor:pointer}.add-todo[_ngcontent-%COMP%]{background-color:transparent;border:none}.add-todo-icon[_ngcontent-%COMP%]{color:#fff;margin-top:2px;margin-left:2px}.add-todo-action[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-left:15px;padding-top:5px}.add-todo-text[_ngcontent-%COMP%]{margin-right:10px}.plusIcon[_ngcontent-%COMP%]{font-size:15px;color:#4285f4;margin-right:8px;margin-top:-7px}.ellipse[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.check[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .checkIncompleted[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#727272}.taskLabel[_ngcontent-%COMP%]{font-size:large;color:#727272}.p-card-content[_ngcontent-%COMP%]{padding:0;margin:0}.menu-items[_ngcontent-%COMP%]{border:none;background-color:transparent;cursor:pointer;display:flex;align-items:center;color:#727272;font-size:13px;margin-bottom:5px}.edit_Task[_ngcontent-%COMP%]{height:30px;width:220px;margin-bottom:8px}.menu-items[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:3px;font-size:13px;color:#727272}.vertical-ellipse-button[_ngcontent-%COMP%]{margin-top:6px;margin-left:2.5px;color:#727272;font-size:20px}.bxs-plus-circle[_ngcontent-%COMP%]{color:#727272;font-size:30px}']})}return n})(),canActivate:[one]},{path:"login",component:mne},{path:"register",component:hne},{path:"verify-email",component:ate},{path:"forgot-password",component:sne}];let iie=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Pn({type:n});static#n=this.\u0275inj=Rn({imports:[Ow.forRoot(rie),Ow]})}return n})(),sie=(()=>{class n{constructor(){this.title="tasks"}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=Ur({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(r,i){1&r&&jt(0,"router-outlet")},dependencies:[xD]})}return n})();function EH(n){return new W(3e3,!1)}function eh(n){switch(n.length){case 0:return new zI;case 1:return n[0];default:return new vH(n)}}function wH(n,e,t=new Map,r=new Map){const i=[],s=[];let o=-1,a=null;if(e.forEach(u=>{const d=u.get("offset"),p=d==o,y=p&&a||new Map;u.forEach((I,w)=>{let x=w,M=I;if("offset"!==w)switch(x=n.normalizePropertyName(x,i),M){case"!":M=t.get(w);break;case Ic:M=r.get(w);break;default:M=n.normalizeStyleValue(w,x,M,i)}y.set(x,M)}),p||s.push(y),a=y,o=d}),i.length)throw function Die(n){return new W(3502,!1)}();return s}function SP(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&AP(t,"start",n)));break;case"done":n.onDone(()=>r(t&&AP(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&AP(t,"destroy",n)))}}function AP(n,e,t){const s=DP(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),o=n._data;return null!=o&&(s._data=o),s}function DP(n,e,t,r,i="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function ra(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function bH(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const Bie=(()=>typeof document>"u"?null:document.documentElement)();function xP(n){const e=n.parentNode||n.host||null;return e===Bie?null:e}let ap=null,TH=!1;function CH(n,e){for(;e;){if(e===n)return!0;e=xP(e)}return!1}function SH(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]}let AH=(()=>{class n{validateStyleProperty(t){return function $ie(n){ap||(ap=function jie(){return typeof document<"u"?document.body:null}()||{},TH=!!ap.style&&"WebkitAppearance"in ap.style);let e=!0;return ap.style&&!function Hie(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in ap.style,!e&&TH&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in ap.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return CH(t,r)}getParentElement(t){return xP(t)}query(t,r,i){return SH(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,o,a=[],u){return new zI(i,s)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=He({token:n,factory:n.\u0275fac})}return n})(),RP=(()=>{class n{static#e=this.NOOP=new AH}return n})();const zie=1e3,PP="ng-enter",bT="ng-leave",TT="ng-trigger",CT=".ng-trigger",xH="ng-animating",MP=".ng-animating";function Ec(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:OP(parseFloat(e[1]),e[2])}function OP(n,e){return"s"===e?n*zie:n}function ST(n,e,t){return n.hasOwnProperty("duration")?n:function Gie(n,e,t){let i,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(EH()),{duration:0,delay:0,easing:""};i=OP(parseFloat(a[1]),a[2]);const u=a[3];null!=u&&(s=OP(parseFloat(u),a[4]));const d=a[5];d&&(o=d)}else i=n;if(!t){let a=!1,u=e.length;i<0&&(e.push(function oie(){return new W(3100,!1)}()),a=!0),s<0&&(e.push(function aie(){return new W(3101,!1)}()),a=!0),a&&e.splice(u,0,EH())}return{duration:i,delay:s,easing:o}}(n,e,t)}function qI(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function RH(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function th(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function hu(n,e,t){e.forEach((r,i)=>{const s=kP(i);t&&!t.has(i)&&t.set(i,n.style[s]),n.style[s]=r})}function lp(n,e){e.forEach((t,r)=>{const i=kP(r);n.style[i]=""})}function GI(n){return Array.isArray(n)?1==n.length?n[0]:_H(n):n}const NP=new RegExp("{{\\s*(.+?)\\s*}}","g");function MH(n){let e=[];if("string"==typeof n){let t;for(;t=NP.exec(n);)e.push(t[1]);NP.lastIndex=0}return e}function WI(n,e,t){const r=n.toString(),i=r.replace(NP,(s,o)=>{let a=e[o];return null==a&&(t.push(function uie(n){return new W(3003,!1)}()),a=""),a.toString()});return i==r?n:i}function AT(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Zie=/-+([a-z0-9])/g;function kP(n){return n.replace(Zie,(...e)=>e[1].toUpperCase())}function ia(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function cie(n){return new W(3004,!1)}()}}function OH(n,e){return window.getComputedStyle(n)[e]}const DT="*";function Jie(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function Xie(n,e,t){if(":"==n[0]){const u=function ese(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function Tie(n){return new W(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof u)return void e.push(u);n=u}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function bie(n){return new W(3015,!1)}()),e;const i=r[1],s=r[2],o=r[3];e.push(NH(i,o));"<"==s[0]&&!(i==DT&&o==DT)&&e.push(NH(o,i))}(r,t,e)):t.push(n),t}const xT=new Set(["true","1"]),RT=new Set(["false","0"]);function NH(n,e){const t=xT.has(n)||RT.has(n),r=xT.has(e)||RT.has(e);return(i,s)=>{let o=n==DT||n==i,a=e==DT||e==s;return!o&&t&&"boolean"==typeof i&&(o=i?xT.has(n):RT.has(n)),!a&&r&&"boolean"==typeof s&&(a=s?xT.has(e):RT.has(e)),o&&a}}const tse=new RegExp("s*:selfs*,?","g");function LP(n,e,t,r){return new nse(n).build(e,t,r)}class nse{constructor(e){this._driver=e}build(e,t,r){const i=new sse(t);return this._resetContextStyleTimingState(i),ia(this,GI(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push(function hie(){return new W(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const u=a,d=u.name;d.toString().split(/\s*,\s*/).forEach(p=>{u.name=p,s.push(this.visitState(u,t))}),u.name=d}else if(1==a.type){const u=this.visitTransition(a,t);r+=u.queryCount,i+=u.depCount,o.push(u)}else t.errors.push(function fie(){return new W(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(u=>{MH(u).forEach(d=>{o.hasOwnProperty(d)||s.add(d)})})}),s.size&&(AT(s.values()),t.errors.push(function pie(n,e){return new W(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=ia(this,GI(e.animation),t);return{type:1,matchers:Jie(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:up(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>ia(this,r,t)),options:up(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const s=e.steps.map(o=>{t.currentTime=r;const a=ia(this,o,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:3,steps:s,options:up(e.options)}}visitAnimate(e,t){const r=function ase(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return FP(ST(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=FP(0,0,"");return s.dynamic=!0,s.strValue=t,s}const i=ST(t,e);return FP(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:jI({});if(5==s.type)i=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;const d={};r.easing&&(d.easing=r.easing),o=jI(d)}t.currentTime+=r.duration+r.delay;const u=this.visitStyle(o,t);u.isEmptyStep=a,i=u}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)"string"==typeof a?a===Ic?r.push(a):t.errors.push(new W(3002,!1)):r.push(RH(a));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let u of a.values())if(u.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,u)=>{const d=t.collectedStyles.get(t.currentQuerySelector),p=d.get(u);let y=!0;p&&(s!=i&&s>=p.startTime&&i<=p.endTime&&(t.errors.push(function mie(n,e,t,r,i){return new W(3010,!1)}()),y=!1),s=p.startTime),y&&d.set(u,{startTime:s,endTime:i}),t.options&&function Kie(n,e,t){const r=e.params||{},i=MH(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(function lie(n){return new W(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function _ie(){return new W(3011,!1)}()),r;let s=0;const o=[];let a=!1,u=!1,d=0;const p=e.steps.map(G=>{const $=this._makeStyleAst(G,t);let J=null!=$.offset?$.offset:function ose(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}($.styles),ue=0;return null!=J&&(s++,ue=$.offset=J),u=u||ue<0||ue>1,a=a||ue<d,d=ue,o.push(ue),$});u&&t.errors.push(function yie(){return new W(3012,!1)}()),a&&t.errors.push(function vie(){return new W(3200,!1)}());const y=e.steps.length;let I=0;s>0&&s<y?t.errors.push(function Iie(){return new W(3202,!1)}()):0==s&&(I=1/(y-1));const w=y-1,x=t.currentTime,M=t.currentAnimateTimings,L=M.duration;return p.forEach((G,$)=>{const J=I>0?$==w?1:I*$:o[$],ue=J*L;t.currentTime=x+M.delay+ue,M.duration=ue,this._validateStyleAst(G,t),G.offset=J,r.styles.push(G)}),r}visitReference(e,t){return{type:8,animation:ia(this,GI(e.animation),t),options:up(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:up(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:up(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function rse(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(tse,"")),n=n.replace(/@\*/g,CT).replace(/@\w+/g,t=>CT+"-"+t.slice(1)).replace(/:animating/g,MP),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,ra(t.collectedStyles,t.currentQuerySelector,new Map);const a=ia(this,GI(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:up(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function Eie(){return new W(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:ST(e.timings,t.errors,!0);return{type:12,animation:ia(this,GI(e.animation),t),timings:r,options:null}}}class sse{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function up(n){return n?(n=qI(n)).params&&(n.params=function ise(n){return n?qI(n):null}(n.params)):n={},n}function FP(n,e,t){return{duration:n,delay:e,easing:t}}function VP(n,e,t,r,i,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class PT{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const cse=new RegExp(":enter","g"),hse=new RegExp(":leave","g");function UP(n,e,t,r,i,s=new Map,o=new Map,a,u,d=[]){return(new fse).buildKeyframes(n,e,t,r,i,s,o,a,u,d)}class fse{buildKeyframes(e,t,r,i,s,o,a,u,d,p=[]){d=d||new PT;const y=new BP(e,t,d,i,s,p,[]);y.options=u;const I=u.delay?Ec(u.delay):0;y.currentTimeline.delayNextStep(I),y.currentTimeline.setStyles([o],null,y.errors,u),ia(this,r,y);const w=y.timelines.filter(x=>x.containsAnimation());if(w.length&&a.size){let x;for(let M=w.length-1;M>=0;M--){const L=w[M];if(L.element===t){x=L;break}}x&&!x.allowOnlyTimelineStyles()&&x.setStyles([a],null,y.errors,u)}return w.length?w.map(x=>x.buildKeyframes()):[VP(t,[],[],[],0,I,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const s=i?.delay;if(s){const o="number"==typeof s?s:Ec(WI(s,i?.params??{},t.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime;const o=null!=r.duration?Ec(r.duration):null,a=null!=r.delay?Ec(r.delay):null;return 0!==o&&e.forEach(u=>{const d=t.appendInstructionToTimeline(u,o,a);s=Math.max(s,d.duration+d.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),ia(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=MT);const o=Ec(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>ia(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?Ec(e.options.delay):0;e.steps.forEach(o=>{const a=t.createSubContext(e.options);s&&a.delayNextStep(s),ia(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return ST(t.params?WI(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(u=>{a.forwardTime((u.offset||0)*s),a.setStyles(u.styles,u.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?Ec(i.delay):0;s&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=MT);let o=r;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let u=null;a.forEach((d,p)=>{t.currentQueryIndex=p;const y=t.createSubContext(e.options,d);s&&y.delayNextStep(s),d===t.element&&(u=y.currentTimeline),ia(this,e.animation,y),y.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,y.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),u&&(t.currentTimeline.mergeTimelineCollectedStyles(u),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1);let u=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":u=a-u;break;case"full":u=r.currentStaggerTime}const p=t.currentTimeline;u&&p.delayNextStep(u);const y=p.currentTime;ia(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-y+(i.startTime-r.currentTimeline.startTime)}}const MT={};class BP{constructor(e,t,r,i,s,o,a,u){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=MT,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new OT(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Ec(r.duration)),null!=r.delay&&(i.delay=Ec(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=WI(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,s=new BP(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=MT,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new pse(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(cse,"."+this._enterClassName)).replace(hse,"."+this._leaveClassName);let d=this._driver.query(this.element,e,1!=r);0!==r&&(d=r<0?d.slice(d.length+r,d.length):d.slice(0,r)),a.push(...d)}return!s&&0==a.length&&o.push(function wie(n){return new W(3014,!1)}()),a}}class OT{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new OT(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Ic),this._currentKeyframe.set(t,Ic);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const s=i&&i.params||{},o=function gse(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let s of r)t.set(s,Ic)}else th(i,t)}),t}(e,this._globalTimelineStyles);for(let[a,u]of o){const d=WI(u,s,r);this._pendingStyles.set(a,d),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Ic),this._updateStyle(a,d)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,u)=>{const d=th(a,new Map,this._backFill);d.forEach((p,y)=>{"!"===p?e.add(y):p===Ic&&t.add(y)}),r||d.set("offset",u/this.duration),i.push(d)});const s=e.size?AT(e.values()):[],o=t.size?AT(t.values()):[];if(r){const a=i[0],u=new Map(a);a.set("offset",0),u.set("offset",1),i=[a,u]}return VP(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class pse extends OT{constructor(e,t,r,i,s,o,a=!1){super(e,t,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=r+t,a=t/o,u=th(e[0]);u.set("offset",0),s.push(u);const d=th(e[0]);d.set("offset",FH(a)),s.push(d);const p=e.length-1;for(let y=1;y<=p;y++){let I=th(e[y]);const w=I.get("offset");I.set("offset",FH((t+w*r)/o)),s.push(I)}r=o,t=0,i="",e=s}return VP(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function FH(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class HP{}const mse=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class _se extends HP{normalizePropertyName(e,t){return kP(e)}normalizeStyleValue(e,t,r,i){let s="";const o=r.toString().trim();if(mse.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function die(n,e){return new W(3005,!1)}())}return o+s}}function VH(n,e,t,r,i,s,o,a,u,d,p,y,I){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:u,preStyleProps:d,postStyleProps:p,totalTime:y,errors:I}}const $P={};class UH{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function yse(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,s,o,a,u,d,p){const y=[],I=this.ast.options&&this.ast.options.params||$P,x=this.buildStyles(r,a&&a.params||$P,y),M=u&&u.params||$P,L=this.buildStyles(i,M,y),G=new Set,$=new Map,J=new Map,ue="void"===i,Ce={params:vse(M,I),delay:this.ast.options?.delay},Xe=p?[]:UP(e,t,this.ast.animation,s,o,x,L,Ce,d,y);let Rt=0;if(Xe.forEach(ro=>{Rt=Math.max(ro.duration+ro.delay,Rt)}),y.length)return VH(t,this._triggerName,r,i,ue,x,L,[],[],$,J,Rt,y);Xe.forEach(ro=>{const So=ro.element,FT=ra($,So,new Set);ro.preStyleProps.forEach(cp=>FT.add(cp));const ZI=ra(J,So,new Set);ro.postStyleProps.forEach(cp=>ZI.add(cp)),So!==t&&G.add(So)});const Zn=AT(G.values());return VH(t,this._triggerName,r,i,ue,x,L,Xe,Zn,$,J,Rt)}}function vse(n,e){const t=qI(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class Ise{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=qI(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!==o&&(i[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=WI(o,i,t));const u=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,u,o,t),r.set(a,o)})}),r}}class wse{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new Ise(i.style,i.options&&i.options.params||{},r))}),BH(this.states,"true","1"),BH(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new UH(e,i,this.states))}),this.fallbackTransition=function bse(n,e,t){return new UH(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(o=>o.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function BH(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const Tse=new PT;class Cse{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],s=LP(this._driver,t,r,[]);if(r.length)throw function xie(n){return new W(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,r){const i=e.element,s=wH(this._normalizer,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],s=this._animations.get(e);let o;const a=new Map;if(s?(o=UP(this._driver,t,s,PP,bT,new Map,new Map,r,Tse,i),o.forEach(p=>{const y=ra(a,p.element,new Map);p.postStyleProps.forEach(I=>y.set(I,null))})):(i.push(function Rie(){return new W(3300,!1)}()),o=[]),i.length)throw function Pie(n){return new W(3504,!1)}();a.forEach((p,y)=>{p.forEach((I,w)=>{p.set(w,this._driver.computeStyle(y,w,Ic))})});const d=eh(o.map(p=>{const y=a.get(p.element);return this._buildPlayer(p,new Map,y)}));return this._playersById.set(e,d),d.onDestroy(()=>this.destroy(e)),this.players.push(d),d}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function Mie(n){return new W(3301,!1)}();return t}listen(e,t,r,i){const s=DP(t,"","","");return SP(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const HH="ng-animate-queued",jP="ng-animate-disabled",Rse=[],$H={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Pse={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ul="__ng_removed";class zP{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function kse(n){return n??null}(r?e.value:e),r){const s=qI(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const KI="void",qP=new zP(KI);class Mse{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Ba(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function Oie(n,e){return new W(3302,!1)}();if(null==r||0==r.length)throw function Nie(n){return new W(3303,!1)}();if(!function Lse(n){return"start"==n||"done"==n}(r))throw function kie(n,e){return new W(3400,!1)}();const s=ra(this._elementListeners,e,[]),o={name:t,phase:r,callback:i};s.push(o);const a=ra(this._engine.statesByElement,e,new Map);return a.has(t)||(Ba(e,TT),Ba(e,TT+"-"+t),a.set(t,qP)),()=>{this._engine.afterFlush(()=>{const u=s.indexOf(o);u>=0&&s.splice(u,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function Lie(n){return new W(3401,!1)}();return t}trigger(e,t,r,i=!0){const s=this._getTrigger(t),o=new GP(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(Ba(e,TT),Ba(e,TT+"-"+t),this._engine.statesByElement.set(e,a=new Map));let u=a.get(t);const d=new zP(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&u&&d.absorbOptions(u.options),a.set(t,d),u||(u=qP),d.value!==KI&&u.value===d.value){if(!function Use(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(u.params,d.params)){const M=[],L=s.matchStyles(u.value,u.params,M),G=s.matchStyles(d.value,d.params,M);M.length?this._engine.reportError(M):this._engine.afterFlush(()=>{lp(e,L),hu(e,G)})}return}const I=ra(this._engine.playersByElement,e,[]);I.forEach(M=>{M.namespaceId==this.id&&M.triggerName==t&&M.queued&&M.destroy()});let w=s.matchTransition(u.value,d.value,e,d.params),x=!1;if(!w){if(!i)return;w=s.fallbackTransition,x=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:w,fromState:u,toState:d,player:o,isFallbackTransition:x}),x||(Ba(e,HH),o.onStart(()=>{u_(e,HH)})),o.onDone(()=>{let M=this.players.indexOf(o);M>=0&&this.players.splice(M,1);const L=this._engine.playersByElement.get(e);if(L){let G=L.indexOf(o);G>=0&&L.splice(G,1)}}),this.players.push(o),I.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,CT,!0);r.forEach(i=>{if(i[ul])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const a=[];if(s.forEach((u,d)=>{if(o.set(d,u.value),this._triggers.has(d)){const p=this.trigger(e,d,KI,i);p&&a.push(p)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),r&&eh(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const u=this._triggers.get(o).fallbackTransition,d=r.get(o)||qP,p=new zP(KI),y=new GP(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:u,fromState:d,toState:p,player:y,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const s=e[ul];(!s||s===$H)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Ba(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const u=DP(s,r.triggerName,r.fromState.value,r.toState.value);u._data=e,SP(r.player,a.phase,u,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class Ose{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new Mse(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){const u=i.get(a);if(u){const d=r.indexOf(u);r.splice(d+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&t.add(s)}return t}trigger(e,t,r,i){if(NT(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!NT(t))return;const s=t[ul];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Ba(e,jP)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),u_(e,jP))}removeNode(e,t,r){if(NT(t)){const i=e?this._fetchNamespace(e):null;i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);const s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,i,s){this.collectedLeaveElements.push(t),t[ul]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,i,s){return NT(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,CT,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,MP,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return eh(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[ul];if(t&&t.setForRemoval){if(e[ul]=$H,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(jP)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Ba(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?eh(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function Fie(n){return new W(3402,!1)}()}_flushAnimations(e,t){const r=new PT,i=[],s=new Map,o=[],a=new Map,u=new Map,d=new Map,p=new Set;this.disabledNodes.forEach(et=>{p.add(et);const ft=this.driver.query(et,".ng-animate-queued",!0);for(let At=0;At<ft.length;At++)p.add(ft[At])});const y=this.bodyNode,I=Array.from(this.statesByElement.keys()),w=qH(I,this.collectedEnterElements),x=new Map;let M=0;w.forEach((et,ft)=>{const At=PP+M++;x.set(ft,At),et.forEach(bn=>Ba(bn,At))});const L=[],G=new Set,$=new Set;for(let et=0;et<this.collectedLeaveElements.length;et++){const ft=this.collectedLeaveElements[et],At=ft[ul];At&&At.setForRemoval&&(L.push(ft),G.add(ft),At.hasAnimation?this.driver.query(ft,".ng-star-inserted",!0).forEach(bn=>G.add(bn)):$.add(ft))}const J=new Map,ue=qH(I,Array.from(G));ue.forEach((et,ft)=>{const At=bT+M++;J.set(ft,At),et.forEach(bn=>Ba(bn,At))}),e.push(()=>{w.forEach((et,ft)=>{const At=x.get(ft);et.forEach(bn=>u_(bn,At))}),ue.forEach((et,ft)=>{const At=J.get(ft);et.forEach(bn=>u_(bn,At))}),L.forEach(et=>{this.processLeaveNode(et)})});const Ce=[],Xe=[];for(let et=this._namespaceList.length-1;et>=0;et--)this._namespaceList[et].drainQueuedTransitions(t).forEach(At=>{const bn=At.player,Qi=At.element;if(Ce.push(bn),this.collectedEnterElements.length){const Os=Qi[ul];if(Os&&Os.setForMove){if(Os.previousTriggersValues&&Os.previousTriggersValues.has(At.triggerName)){const dp=Os.previousTriggersValues.get(At.triggerName),Ha=this.statesByElement.get(At.element);if(Ha&&Ha.has(At.triggerName)){const VT=Ha.get(At.triggerName);VT.value=dp,Ha.set(At.triggerName,VT)}}return void bn.destroy()}}const fu=!y||!this.driver.containsElement(y,Qi),sa=J.get(Qi),nh=x.get(Qi),$r=this._buildInstruction(At,r,nh,sa,fu);if($r.errors&&$r.errors.length)return void Xe.push($r);if(fu)return bn.onStart(()=>lp(Qi,$r.fromStyles)),bn.onDestroy(()=>hu(Qi,$r.toStyles)),void i.push(bn);if(At.isFallbackTransition)return bn.onStart(()=>lp(Qi,$r.fromStyles)),bn.onDestroy(()=>hu(Qi,$r.toStyles)),void i.push(bn);const i6=[];$r.timelines.forEach(Os=>{Os.stretchStartingKeyframe=!0,this.disabledNodes.has(Os.element)||i6.push(Os)}),$r.timelines=i6,r.append(Qi,$r.timelines),o.push({instruction:$r,player:bn,element:Qi}),$r.queriedElements.forEach(Os=>ra(a,Os,[]).push(bn)),$r.preStyleProps.forEach((Os,dp)=>{if(Os.size){let Ha=u.get(dp);Ha||u.set(dp,Ha=new Set),Os.forEach((VT,ZP)=>Ha.add(ZP))}}),$r.postStyleProps.forEach((Os,dp)=>{let Ha=d.get(dp);Ha||d.set(dp,Ha=new Set),Os.forEach((VT,ZP)=>Ha.add(ZP))})});if(Xe.length){const et=[];Xe.forEach(ft=>{et.push(function Vie(n,e){return new W(3505,!1)}())}),Ce.forEach(ft=>ft.destroy()),this.reportError(et)}const Rt=new Map,Zn=new Map;o.forEach(et=>{const ft=et.element;r.has(ft)&&(Zn.set(ft,ft),this._beforeAnimationBuild(et.player.namespaceId,et.instruction,Rt))}),i.forEach(et=>{const ft=et.element;this._getPreviousPlayers(ft,!1,et.namespaceId,et.triggerName,null).forEach(bn=>{ra(Rt,ft,[]).push(bn),bn.destroy()})});const ro=L.filter(et=>WH(et,u,d)),So=new Map;zH(So,this.driver,$,d,Ic).forEach(et=>{WH(et,u,d)&&ro.push(et)});const ZI=new Map;w.forEach((et,ft)=>{zH(ZI,this.driver,new Set(et),u,"!")}),ro.forEach(et=>{const ft=So.get(et),At=ZI.get(et);So.set(et,new Map([...ft?.entries()??[],...At?.entries()??[]]))});const cp=[],n6=[],r6={};o.forEach(et=>{const{element:ft,player:At,instruction:bn}=et;if(r.has(ft)){if(p.has(ft))return At.onDestroy(()=>hu(ft,bn.toStyles)),At.disabled=!0,At.overrideTotalTime(bn.totalTime),void i.push(At);let Qi=r6;if(Zn.size>1){let sa=ft;const nh=[];for(;sa=sa.parentNode;){const $r=Zn.get(sa);if($r){Qi=$r;break}nh.push(sa)}nh.forEach($r=>Zn.set($r,Qi))}const fu=this._buildAnimation(At.namespaceId,bn,Rt,s,ZI,So);if(At.setRealPlayer(fu),Qi===r6)cp.push(At);else{const sa=this.playersByElement.get(Qi);sa&&sa.length&&(At.parentPlayer=eh(sa)),i.push(At)}}else lp(ft,bn.fromStyles),At.onDestroy(()=>hu(ft,bn.toStyles)),n6.push(At),p.has(ft)&&i.push(At)}),n6.forEach(et=>{const ft=s.get(et.element);if(ft&&ft.length){const At=eh(ft);et.setRealPlayer(At)}}),i.forEach(et=>{et.parentPlayer?et.syncPlayerEvents(et.parentPlayer):et.destroy()});for(let et=0;et<L.length;et++){const ft=L[et],At=ft[ul];if(u_(ft,bT),At&&At.hasAnimation)continue;let bn=[];if(a.size){let fu=a.get(ft);fu&&fu.length&&bn.push(...fu);let sa=this.driver.query(ft,MP,!0);for(let nh=0;nh<sa.length;nh++){let $r=a.get(sa[nh]);$r&&$r.length&&bn.push(...$r)}}const Qi=bn.filter(fu=>!fu.destroyed);Qi.length?Fse(this,ft,Qi):this.processLeaveNode(ft)}return L.length=0,cp.forEach(et=>{this.players.push(et),et.onDone(()=>{et.destroy();const ft=this.players.indexOf(et);this.players.splice(ft,1)}),et.play()}),cp}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let o=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const u=!s||s==KI;a.forEach(d=>{d.queued||!u&&d.triggerName!=i||o.push(d)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,t,r){const s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const u of t.timelines){const d=u.element,p=d!==s,y=ra(r,d,[]);this._getPreviousPlayers(d,p,o,a,t.toState).forEach(w=>{const x=w.getRealPlayer();x.beforeDestroy&&x.beforeDestroy(),w.destroy(),y.push(w)})}lp(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,o){const a=t.triggerName,u=t.element,d=[],p=new Set,y=new Set,I=t.timelines.map(x=>{const M=x.element;p.add(M);const L=M[ul];if(L&&L.removedBeforeQueried)return new zI(x.duration,x.delay);const G=M!==u,$=function Vse(n){const e=[];return GH(n,e),e}((r.get(M)||Rse).map(Rt=>Rt.getRealPlayer())).filter(Rt=>!!Rt.element&&Rt.element===M),J=s.get(M),ue=o.get(M),Ce=wH(this._normalizer,x.keyframes,J,ue),Xe=this._buildPlayer(x,Ce,$);if(x.subTimeline&&i&&y.add(M),G){const Rt=new GP(e,a,M);Rt.setRealPlayer(Xe),d.push(Rt)}return Xe});d.forEach(x=>{ra(this.playersByQueriedElement,x.element,[]).push(x),x.onDone(()=>function Nse(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,x.element,x))}),p.forEach(x=>Ba(x,xH));const w=eh(I);return w.onDestroy(()=>{p.forEach(x=>u_(x,xH)),hu(u,t.toStyles)}),y.forEach(x=>{ra(i,x,[]).push(w)}),w}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new zI(e.duration,e.delay)}}class GP{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new zI,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>SP(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){ra(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function NT(n){return n&&1===n.nodeType}function jH(n,e){const t=n.style.display;return n.style.display=e??"none",t}function zH(n,e,t,r,i){const s=[];t.forEach(u=>s.push(jH(u)));const o=[];r.forEach((u,d)=>{const p=new Map;u.forEach(y=>{const I=e.computeStyle(d,y,i);p.set(y,I),(!I||0==I.length)&&(d[ul]=Pse,o.push(d))}),n.set(d,p)});let a=0;return t.forEach(u=>jH(u,s[a++])),o}function qH(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const i=new Set(e),s=new Map;function o(a){if(!a)return 1;let u=s.get(a);if(u)return u;const d=a.parentNode;return u=t.has(d)?d:i.has(d)?1:o(d),s.set(a,u),u}return e.forEach(a=>{const u=o(a);1!==u&&t.get(u).push(a)}),t}function Ba(n,e){n.classList?.add(e)}function u_(n,e){n.classList?.remove(e)}function Fse(n,e,t){eh(t).onDone(()=>n.processLeaveNode(e))}function GH(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof vH?GH(r.players,e):e.push(r)}}function WH(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}class kT{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new Ose(e,t,r),this._timelineEngine=new Cse(e,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,t,r,i,s){const o=e+"-"+i;let a=this._triggerCache[o];if(!a){const u=[],p=LP(this._driver,s,u,[]);if(u.length)throw function Aie(n,e){return new W(3404,!1)}();a=function Ese(n,e,t){return new wse(n,e,t)}(i,p,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[s,o]=bH(r);this._timelineEngine.command(s,t,o,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if("@"==r.charAt(0)){const[o,a]=bH(r);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let Hse=(()=>{class n{static#e=this.initialStylesByElement=new WeakMap;constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&hu(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(hu(this._element,this._initialStyles),this._endStyles&&(hu(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(lp(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(lp(this._element,this._endStyles),this._endStyles=null),hu(this._element,this._initialStyles),this._state=3)}}return n})();function WP(n){let e=null;return n.forEach((t,r)=>{(function $se(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class KH{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:OH(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class jse{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return CH(e,t)}getParentElement(e){return xP(e)}query(e,t,r){return SH(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,s,o=[]){const u={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(u.easing=s);const d=new Map,p=o.filter(w=>w instanceof KH);(function Qie(n,e){return 0===n||0===e})(r,i)&&p.forEach(w=>{w.currentSnapshot.forEach((x,M)=>d.set(M,x))});let y=function Wie(n){return n.length?n[0]instanceof Map?n:n.map(e=>RH(e)):[]}(t).map(w=>th(w));y=function Yie(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,OH(n,a)))}}return e}(e,y,d);const I=function Bse(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=WP(e[0]),e.length>1&&(r=WP(e[e.length-1]))):e instanceof Map&&(t=WP(e)),t||r?new Hse(n,t,r):null}(e,y);return new KH(e,y,u,I)}}let zse=(()=>{class n extends gH{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:Oi.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?_H(t):t;return ZH(this._renderer,null,r,"register",[i]),new qse(r,this._renderer)}static#e=this.\u0275fac=function(r){return new(r||n)(Ie(pf),Ie(ss))};static#t=this.\u0275prov=He({token:n,factory:n.\u0275fac})}return n})();class qse extends _re{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new Gse(this._id,e,t||{},this._renderer)}}class Gse{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return ZH(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function ZH(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const QH="@.disabled";let Wse=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,r.onRemovalComplete=(s,o)=>{const a=o?.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(t,r){const s=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let p=this._rendererCache.get(s);return p||(p=new YH("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,p)),p}const o=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const u=p=>{Array.isArray(p)?p.forEach(u):this.engine.registerTrigger(o,a,t,p.name,p)};return r.data.animation.forEach(u),new Kse(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(r){return new(r||n)(Ie(pf),Ie(kT),Ie(ut))};static#t=this.\u0275prov=He({token:n,factory:n.\u0275fac})}return n})();class YH{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==QH?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Kse extends YH{constructor(e,t,r,i,s){super(t,r,i,s),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==QH?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function Zse(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function Qse(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,t,r)}}let Yse=(()=>{class n extends kT{constructor(t,r,i,s){super(t.body,r,i)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(r){return new(r||n)(Ie(ss),Ie(RP),Ie(HP),Ie(wf))};static#t=this.\u0275prov=He({token:n,factory:n.\u0275fac})}return n})();const JH=[{provide:gH,useClass:zse},{provide:HP,useFactory:function Jse(){return new _se}},{provide:kT,useClass:Yse},{provide:pf,useFactory:function Xse(n,e,t){return new Wse(n,e,t)},deps:[uD,kT,ut]}],KP=[{provide:RP,useFactory:()=>new jse},{provide:c0,useValue:"BrowserAnimations"},...JH],XH=[{provide:RP,useClass:AH},{provide:c0,useValue:"NoopAnimations"},...JH];let eoe=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?XH:KP}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Pn({type:n});static#n=this.\u0275inj=Rn({providers:KP,imports:[a2]})}return n})();const toe_firebase={apiKey:"AIzaSyDEFnGE_jUVrWMEMuY2-bdk3TCL8PwiUxs",authDomain:"tasks-2aa20.firebaseapp.com",projectId:"tasks-2aa20",storageBucket:"tasks-2aa20.appspot.com",messagingSenderId:"289908118671",appId:"1:289908118671:web:40a2c8d77b6819feb10cfa",measurementId:"G-PRWGNQ569P"};let noe=(()=>{class n extends l_{pathId;ngOnInit(){this.pathId="url(#"+function Jne(n="pn_id_"){return`${n}${++hH}`}()+")"}static \u0275fac=function(){let t;return function(i){return(t||(t=Le(n)))(i||n)}}();static \u0275cmp=Ur({type:n,selectors:[["SpinnerIcon"]],standalone:!0,features:[gn,rc],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(r,i){1&r&&(Uo(),_e(0,"svg",0)(1,"g"),jt(2,"path",1),Te(),_e(3,"defs")(4,"clipPath",2),jt(5,"rect",3),Te()()()),2&r&&(Zl(i.getClassNames()),tr("aria-label",i.ariaLabel)("aria-hidden",i.ariaHidden)("role",i.role),$e(1),tr("clip-path",i.pathId),$e(3),Ve("id",i.pathId))},encapsulation:2})}return n})(),foe=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Pn({type:n});static \u0275inj=Rn({imports:[Jl,CP,Xd,noe,Xd]})}return n})(),yoe=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Pn({type:n});static \u0275inj=Rn({imports:[Jl,Xd]})}return n})(),voe=(()=>{class n extends l_{static \u0275fac=function(){let t;return function(i){return(t||(t=Le(n)))(i||n)}}();static \u0275cmp=Ur({type:n,selectors:[["AngleDownIcon"]],standalone:!0,features:[gn,rc],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M3.58659 4.5007C3.68513 4.50023 3.78277 4.51945 3.87379 4.55723C3.9648 4.59501 4.04735 4.65058 4.11659 4.7207L7.11659 7.7207L10.1166 4.7207C10.2619 4.65055 10.4259 4.62911 10.5843 4.65956C10.7427 4.69002 10.8871 4.77074 10.996 4.88976C11.1049 5.00877 11.1726 5.15973 11.1889 5.32022C11.2052 5.48072 11.1693 5.6422 11.0866 5.7807L7.58659 9.2807C7.44597 9.42115 7.25534 9.50004 7.05659 9.50004C6.85784 9.50004 6.66722 9.42115 6.52659 9.2807L3.02659 5.7807C2.88614 5.64007 2.80725 5.44945 2.80725 5.2507C2.80725 5.05195 2.88614 4.86132 3.02659 4.7207C3.09932 4.64685 3.18675 4.58911 3.28322 4.55121C3.37969 4.51331 3.48305 4.4961 3.58659 4.5007Z","fill","currentColor"]],template:function(r,i){1&r&&(Uo(),_e(0,"svg",0),jt(1,"path",1),Te()),2&r&&(Zl(i.getClassNames()),tr("aria-label",i.ariaLabel)("aria-hidden",i.ariaHidden)("role",i.role))},encapsulation:2})}return n})(),Ioe=(()=>{class n extends l_{static \u0275fac=function(){let t;return function(i){return(t||(t=Le(n)))(i||n)}}();static \u0275cmp=Ur({type:n,selectors:[["AngleRightIcon"]],standalone:!0,features:[gn,rc],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M5.25 11.1728C5.14929 11.1694 5.05033 11.1455 4.9592 11.1025C4.86806 11.0595 4.78666 10.9984 4.72 10.9228C4.57955 10.7822 4.50066 10.5916 4.50066 10.3928C4.50066 10.1941 4.57955 10.0035 4.72 9.86283L7.72 6.86283L4.72 3.86283C4.66067 3.71882 4.64765 3.55991 4.68275 3.40816C4.71785 3.25642 4.79932 3.11936 4.91585 3.01602C5.03238 2.91268 5.17819 2.84819 5.33305 2.83149C5.4879 2.81479 5.64411 2.84671 5.78 2.92283L9.28 6.42283C9.42045 6.56346 9.49934 6.75408 9.49934 6.95283C9.49934 7.15158 9.42045 7.34221 9.28 7.48283L5.78 10.9228C5.71333 10.9984 5.63193 11.0595 5.5408 11.1025C5.44966 11.1455 5.35071 11.1694 5.25 11.1728Z","fill","currentColor"]],template:function(r,i){1&r&&(Uo(),_e(0,"svg",0),jt(1,"path",1),Te()),2&r&&(Zl(i.getClassNames()),tr("aria-label",i.ariaLabel)("aria-hidden",i.ariaHidden)("role",i.role))},encapsulation:2})}return n})(),Eoe=(()=>{class n extends l_{static \u0275fac=function(){let t;return function(i){return(t||(t=Le(n)))(i||n)}}();static \u0275cmp=Ur({type:n,selectors:[["BarsIcon"]],standalone:!0,features:[gn,rc],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M13.3226 3.6129H0.677419C0.497757 3.6129 0.325452 3.54152 0.198411 3.41448C0.0713707 3.28744 0 3.11514 0 2.93548C0 2.75581 0.0713707 2.58351 0.198411 2.45647C0.325452 2.32943 0.497757 2.25806 0.677419 2.25806H13.3226C13.5022 2.25806 13.6745 2.32943 13.8016 2.45647C13.9286 2.58351 14 2.75581 14 2.93548C14 3.11514 13.9286 3.28744 13.8016 3.41448C13.6745 3.54152 13.5022 3.6129 13.3226 3.6129ZM13.3226 7.67741H0.677419C0.497757 7.67741 0.325452 7.60604 0.198411 7.479C0.0713707 7.35196 0 7.17965 0 6.99999C0 6.82033 0.0713707 6.64802 0.198411 6.52098C0.325452 6.39394 0.497757 6.32257 0.677419 6.32257H13.3226C13.5022 6.32257 13.6745 6.39394 13.8016 6.52098C13.9286 6.64802 14 6.82033 14 6.99999C14 7.17965 13.9286 7.35196 13.8016 7.479C13.6745 7.60604 13.5022 7.67741 13.3226 7.67741ZM0.677419 11.7419H13.3226C13.5022 11.7419 13.6745 11.6706 13.8016 11.5435C13.9286 11.4165 14 11.2442 14 11.0645C14 10.8848 13.9286 10.7125 13.8016 10.5855C13.6745 10.4585 13.5022 10.3871 13.3226 10.3871H0.677419C0.497757 10.3871 0.325452 10.4585 0.198411 10.5855C0.0713707 10.7125 0 10.8848 0 11.0645C0 11.2442 0.0713707 11.4165 0.198411 11.5435C0.325452 11.6706 0.497757 11.7419 0.677419 11.7419Z","fill","currentColor"]],template:function(r,i){1&r&&(Uo(),_e(0,"svg",0),jt(1,"path",1),Te()),2&r&&(Zl(i.getClassNames()),tr("aria-label",i.ariaLabel)("aria-hidden",i.ariaHidden)("role",i.role))},encapsulation:2})}return n})(),e6=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Pn({type:n});static \u0275inj=Rn({imports:[Jl]})}return n})(),iae=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Pn({type:n});static \u0275inj=Rn({imports:[Jl,Ow,CP,e6,Xd,Eoe,voe,Ioe,Ow,e6,Xd]})}return n})(),sae=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Pn({type:n,bootstrap:[sie]});static#n=this.\u0275inj=Rn({imports:[a2,iie,jne,ine,eoe,yoe,_Z.initializeApp(toe_firebase),wZ,foe,pre,iae,mre,Mre]})}return n})();pG().bootstrapModule(sae).catch(n=>console.error(n))},990:function(oi,Qn,ot){var O;oi=ot.nmd(oi),function(){var C,rn="Expected a function",Tn="__lodash_hash_undefined__",ae="__lodash_placeholder__",bt=1/0,Ar=9007199254740991,te=4294967295,he=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],le="[object Arguments]",Ae="[object Array]",Re="[object Boolean]",Ze="[object Date]",xn="[object Error]",mn="[object Function]",qn="[object GeneratorFunction]",En="[object Map]",Yn="[object Number]",ar="[object Object]",fs="[object Promise]",Gt="[object RegExp]",Dr="[object Set]",Di="[object String]",xi="[object Symbol]",xr="[object WeakMap]",Xr="[object ArrayBuffer]",jr="[object DataView]",Lr="[object Float32Array]",pn="[object Float64Array]",yi="[object Int8Array]",Jn="[object Int16Array]",$a="[object Int32Array]",Vn="[object Uint8Array]",Xn="[object Uint8ClampedArray]",ps="[object Uint16Array]",gs="[object Uint32Array]",Fs=/\b__p \+= '';/g,Fr=/\b(__p \+=) '' \+/g,Vr=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ai=/&(?:amp|lt|gt|quot|#39);/g,Ri=/[&<>"']/g,cl=RegExp(ai.source),oa=RegExp(Ri.source),ja=/<%-([\s\S]+?)%>/g,oo=/<%([\s\S]+?)%>/g,U=/<%=([\s\S]+?)%>/g,F=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,A=/^\w*$/,R=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,T=/[\\^$.*+?()[\]{}|]/g,V=RegExp(T.source),se=/^\s+/,Ue=/\s/,je=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ht=/\{\n\/\* \[wrapped with (.+)\] \*/,ln=/,? & /,ke=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Cn=/[()=,{}\[\]\/\s]/,Ye=/\\(\\)?/g,zr=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,aa=/\w*$/,Y=/^[-+]0x[0-9a-f]+$/i,j=/^0b[01]+$/i,ve=/^\[object .+?Constructor\]$/,Ke=/^0o[0-7]+$/i,Ft=/^(?:0|[1-9]\d*)$/,Bt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,W=/($^)/,mr=/['\n\r\u2028\u2029\\]/g,Be="\\ud800-\\udfff",wc="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",bc="\\u2700-\\u27bf",Pi="a-z\\xdf-\\xf6\\xf8-\\xff",rh="A-Z\\xc0-\\xd6\\xd8-\\xde",hp="\\ufe0e\\ufe0f",d_="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",h_="["+Be+"]",pp="["+d_+"]",gu="["+wc+"]",ih="\\d+",li="["+bc+"]",ct="["+Pi+"]",f_="[^"+Be+d_+ih+bc+Pi+rh+"]",Tc="\\ud83c[\\udffb-\\udfff]",He="[^"+Be+"]",sh="(?:\\ud83c[\\udde6-\\uddff]){2}",Rn="[\\ud800-\\udbff][\\udc00-\\udfff]",Ao="["+rh+"]",ah="(?:"+ct+"|"+f_+")",dl="(?:"+Ao+"|"+f_+")",hl="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",qa="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Cc="(?:"+gu+"|"+Tc+")?",mu="["+hp+"]?",_u=mu+Cc+"(?:\\u200d(?:"+[He,sh,Rn].join("|")+")"+mu+Cc+")*",Mi="(?:"+[li,sh,Rn].join("|")+")"+_u,Sc="(?:"+[He+gu+"?",gu,sh,Rn,h_].join("|")+")",uh=RegExp("['\u2019]","g"),Sn=RegExp(gu,"g"),gp=RegExp(Tc+"(?="+Tc+")|"+Sc+_u,"g"),mp=RegExp([Ao+"?"+ct+"+"+hl+"(?="+[pp,Ao,"$"].join("|")+")",dl+"+"+qa+"(?="+[pp,Ao+ah,"$"].join("|")+")",Ao+"?"+ah+"+"+hl,Ao+"+"+qa,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ih,Mi].join("|"),"g"),ch=RegExp("[\\u200d"+Be+wc+hp+"]"),yu=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,_p=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],vu=-1,Un={};Un[Lr]=Un[pn]=Un[yi]=Un[Jn]=Un[$a]=Un[Vn]=Un[Xn]=Un[ps]=Un[gs]=!0,Un[le]=Un[Ae]=Un[Xr]=Un[Re]=Un[jr]=Un[Ze]=Un[xn]=Un[mn]=Un[En]=Un[Yn]=Un[ar]=Un[Gt]=Un[Dr]=Un[Di]=Un[xr]=!1;var _n={};_n[le]=_n[Ae]=_n[Xr]=_n[jr]=_n[Re]=_n[Ze]=_n[Lr]=_n[pn]=_n[yi]=_n[Jn]=_n[$a]=_n[En]=_n[Yn]=_n[ar]=_n[Gt]=_n[Dr]=_n[Di]=_n[xi]=_n[Vn]=_n[Xn]=_n[ps]=_n[gs]=!0,_n[xn]=_n[mn]=_n[xr]=!1;var vp={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ac=parseFloat,Ji=parseInt,fl="object"==typeof global&&global&&global.Object===Object&&global,Dc="object"==typeof self&&self&&self.Object===Object&&self,Nn=fl||Dc||Function("return this")(),Ip=Qn&&!Qn.nodeType&&Qn,Ga=Ip&&oi&&!oi.nodeType&&oi,dh=Ga&&Ga.exports===Ip,ao=dh&&fl.process,ms=function(){try{return Ga&&Ga.require&&Ga.require("util").types||ao&&ao.binding&&ao.binding("util")}catch{}}(),Vs=ms&&ms.isArrayBuffer,Ep=ms&&ms.isDate,Ie=ms&&ms.isMap,Iu=ms&&ms.isRegExp,De=ms&&ms.isSet,Eu=ms&&ms.isTypedArray;function vi(N,K,Z){switch(Z.length){case 0:return N.call(K);case 1:return N.call(K,Z[0]);case 2:return N.call(K,Z[0],Z[1]);case 3:return N.call(K,Z[0],Z[1],Z[2])}return N.apply(K,Z)}function Do(N,K,Z,Pe){for(var gt=-1,mt=null==N?0:N.length;++gt<mt;){var Gn=N[gt];K(Pe,Gn,Z(Gn),N)}return Pe}function Us(N,K){for(var Z=-1,Pe=null==N?0:N.length;++Z<Pe&&!1!==K(N[Z],Z,N););return N}function hh(N,K){for(var Z=null==N?0:N.length;Z--&&!1!==K(N[Z],Z,N););return N}function lo(N,K){for(var Z=-1,Pe=null==N?0:N.length;++Z<Pe;)if(!K(N[Z],Z,N))return!1;return!0}function _r(N,K){for(var Z=-1,Pe=null==N?0:N.length,gt=0,mt=[];++Z<Pe;){var Gn=N[Z];K(Gn,Z,N)&&(mt[gt++]=Gn)}return mt}function Bs(N,K){return!(null==N||!N.length)&&Ro(N,K,0)>-1}function Oi(N,K,Z){for(var Pe=-1,gt=null==N?0:N.length;++Pe<gt;)if(Z(K,N[Pe]))return!0;return!1}function cn(N,K){for(var Z=-1,Pe=null==N?0:N.length,gt=Array(Pe);++Z<Pe;)gt[Z]=K(N[Z],Z,N);return gt}function $t(N,K){for(var Z=-1,Pe=K.length,gt=N.length;++Z<Pe;)N[gt+Z]=K[Z];return N}function pl(N,K,Z,Pe){var gt=-1,mt=null==N?0:N.length;for(Pe&&mt&&(Z=N[++gt]);++gt<mt;)Z=K(Z,N[gt],gt,N);return Z}function la(N,K,Z,Pe){var gt=null==N?0:N.length;for(Pe&&gt&&(Z=N[--gt]);gt--;)Z=K(Z,N[gt],gt,N);return Z}function wu(N,K){for(var Z=-1,Pe=null==N?0:N.length;++Z<Pe;)if(K(N[Z],Z,N))return!0;return!1}var bu=Su("length");function Tu(N,K,Z){var Pe;return Z(N,function(gt,mt,Gn){if(K(gt,mt,Gn))return Pe=mt,!1}),Pe}function ui(N,K,Z,Pe){for(var gt=N.length,mt=Z+(Pe?1:-1);Pe?mt--:++mt<gt;)if(K(N[mt],mt,N))return mt;return-1}function Ro(N,K,Z){return K==K?function en(N,K,Z){for(var Pe=Z-1,gt=N.length;++Pe<gt;)if(N[Pe]===K)return Pe;return-1}(N,K,Z):ui(N,Cu,Z)}function wp(N,K,Z,Pe){for(var gt=Z-1,mt=N.length;++gt<mt;)if(Pe(N[gt],K))return gt;return-1}function Cu(N){return N!=N}function Po(N,K){var Z=null==N?0:N.length;return Z?Du(N,K)/Z:NaN}function Su(N){return function(K){return null==K?C:K[N]}}function Au(N){return function(K){return null==N?C:N[K]}}function bp(N,K,Z,Pe,gt){return gt(N,function(mt,Gn,Et){Z=Pe?(Pe=!1,mt):K(Z,mt,Gn,Et)}),Z}function Du(N,K){for(var Z,Pe=-1,gt=N.length;++Pe<gt;){var mt=K(N[Pe]);mt!==C&&(Z=Z===C?mt:Z+mt)}return Z}function xu(N,K){for(var Z=-1,Pe=Array(N);++Z<N;)Pe[Z]=K(Z);return Pe}function Rc(N){return N&&N.slice(0,ki(N)+1).replace(se,"")}function Ii(N){return function(K){return N(K)}}function Ru(N,K){return cn(K,function(Z){return N[Z]})}function ml(N,K){return N.has(K)}function Pc(N,K){for(var Z=-1,Pe=N.length;++Z<Pe&&Ro(K,N[Z],0)>-1;);return Z}function Pu(N,K){for(var Z=N.length;Z--&&Ro(K,N[Z],0)>-1;);return Z}var Tp=Au({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),fh=Au({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Cp(N){return"\\"+vp[N]}function _l(N){return ch.test(N)}function Pn(N){var K=-1,Z=Array(N.size);return N.forEach(function(Pe,gt){Z[++K]=[gt,Pe]}),Z}function yl(N,K){return function(Z){return N(K(Z))}}function Hs(N,K){for(var Z=-1,Pe=N.length,gt=0,mt=[];++Z<Pe;){var Gn=N[Z];(Gn===K||Gn===ae)&&(N[Z]=ae,mt[gt++]=Z)}return mt}function it(N){var K=-1,Z=Array(N.size);return N.forEach(function(Pe){Z[++K]=Pe}),Z}function Rr(N){return _l(N)?function Sp(N){for(var K=gp.lastIndex=0;gp.test(N);)++K;return K}(N):bu(N)}function qr(N){return _l(N)?function vl(N){return N.match(gp)||[]}(N):function xo(N){return N.split("")}(N)}function ki(N){for(var K=N.length;K--&&Ue.test(N.charAt(K)););return K}var Oc=Au({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Bn=function N(K){var l,Z=(K=null==K?Nn:Bn.defaults(Nn.Object(),K,Bn.pick(Nn,_p))).Array,Pe=K.Date,gt=K.Error,mt=K.Function,Gn=K.Math,Et=K.Object,_s=K.RegExp,Il=K.String,Je=K.TypeError,ua=Z.prototype,$s=Et.prototype,kn=K["__core-js_shared__"],ca=mt.prototype.toString,tn=$s.hasOwnProperty,uo=0,da=(l=/[^.]+$/.exec(kn&&kn.keys&&kn.keys.IE_PROTO||""))?"Symbol(src)_1."+l:"",Mu=$s.toString,co=ca.call(Et),Mo=Nn._,Ou=_s("^"+ca.call(tn).replace(T,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Oo=dh?K.Buffer:C,Tt=K.Symbol,mh=K.Uint8Array,No=Oo?Oo.allocUnsafe:C,El=yl(Et.getPrototypeOf,Et),js=Et.create,Nu=$s.propertyIsEnumerable,ko=ua.splice,wl=Tt?Tt.isConcatSpreadable:C,yr=Tt?Tt.iterator:C,ku=Tt?Tt.toStringTag:C,ci=function(){try{var l=Vl(Et,"defineProperty");return l({},"",{}),l}catch{}}(),Li=K.clearTimeout!==Nn.clearTimeout&&K.clearTimeout,Lu=Pe&&Pe.now!==Nn.Date.now&&Pe.now,Wa=K.setTimeout!==Nn.setTimeout&&K.setTimeout,Ka=Gn.ceil,Xi=Gn.floor,kc=Et.getOwnPropertySymbols,tE=Oo?Oo.isBuffer:C,m_=K.isFinite,UT=ua.join,nE=yl(Et.keys,Et),vr=Gn.max,Ir=Gn.min,Dp=Pe.now,rE=K.parseInt,__=Gn.random,iE=ua.reverse,y_=Vl(K,"DataView"),Lc=Vl(K,"Map"),xp=Vl(K,"Promise"),Za=Vl(K,"Set"),bl=Vl(K,"WeakMap"),Fc=Vl(Et,"create"),Tl=bl&&new bl,ha={},Rp=Xu(y_),sE=Xu(Lc),oE=Xu(xp),BT=Xu(Za),fa=Xu(bl),ho=Tt?Tt.prototype:C,Cl=ho?ho.valueOf:C,v_=ho?ho.toString:C;function S(l){if(Or(l)&&!Mt(l)&&!(l instanceof Qt)){if(l instanceof hn)return l;if(tn.call(l,"__wrapped__"))return mE(l)}return new hn(l)}var es=function(){function l(){}return function(c){if(!lr(c))return{};if(js)return js(c);l.prototype=c;var g=new l;return l.prototype=C,g}}();function Ei(){}function hn(l,c){this.__wrapped__=l,this.__actions__=[],this.__chain__=!!c,this.__index__=0,this.__values__=C}function Qt(l){this.__wrapped__=l,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=te,this.__views__=[]}function pa(l){var c=-1,g=null==l?0:l.length;for(this.clear();++c<g;){var v=l[c];this.set(v[0],v[1])}}function di(l){var c=-1,g=null==l?0:l.length;for(this.clear();++c<g;){var v=l[c];this.set(v[0],v[1])}}function ma(l){var c=-1,g=null==l?0:l.length;for(this.clear();++c<g;){var v=l[c];this.set(v[0],v[1])}}function _a(l){var c=-1,g=null==l?0:l.length;for(this.__data__=new ma;++c<g;)this.add(l[c])}function fo(l){var c=this.__data__=new di(l);this.size=c.size}function Vp(l,c){var g=Mt(l),v=!g&&jl(l),b=!g&&!v&&zl(l),P=!g&&!v&&!b&&cd(l),k=g||v||b||P,B=k?xu(l.length,Il):[],z=B.length;for(var de in l)(c||tn.call(l,de))&&(!k||!("length"==de||b&&("offset"==de||"parent"==de)||P&&("buffer"==de||"byteLength"==de||"byteOffset"==de)||Bl(de,z)))&&B.push(de);return B}function Bu(l){var c=l.length;return c?l[vs(0,c-1)]:C}function T_(l,c){return Wh(fi(l),ya(c,0,l.length))}function Up(l){return Wh(fi(l))}function Eh(l,c,g){(g!==C&&!Go(l[c],g)||g===C&&!(c in l))&&Lo(l,c,g)}function Hc(l,c,g){var v=l[c];(!tn.call(l,c)||!Go(v,g)||g===C&&!(c in l))&&Lo(l,c,g)}function $c(l,c){for(var g=l.length;g--;)if(Go(l[g][0],c))return g;return-1}function ts(l,c,g,v){return ys(l,function(b,P,k){c(v,b,g(b),k)}),v}function wh(l,c){return l&&$o(c,Ti(c),l)}function Lo(l,c,g){"__proto__"==c&&ci?ci(l,c,{configurable:!0,enumerable:!0,value:g,writable:!0}):l[c]=g}function Al(l,c){for(var g=-1,v=c.length,b=Z(v),P=null==l;++g<v;)b[g]=P?C:yg(l,c[g]);return b}function ya(l,c,g){return l==l&&(g!==C&&(l=l<=g?l:g),c!==C&&(l=l>=c?l:c)),l}function Fi(l,c,g,v,b,P){var k,B=1&c,z=2&c,de=4&c;if(g&&(k=b?g(l,v,b,P):g(l)),k!==C)return k;if(!lr(l))return l;var fe=Mt(l);if(fe){if(k=function QP(l){var c=l.length,g=new l.constructor(c);return c&&"string"==typeof l[0]&&tn.call(l,"index")&&(g.index=l.index,g.input=l.input),g}(l),!B)return fi(l,k)}else{var we=Hr(l),Se=we==mn||we==qn;if(zl(l))return qp(l,B);if(we==ar||we==le||Se&&!b){if(k=z||Se?{}:cE(l),!B)return z?function Wp(l,c){return $o(l,Qu(l),c)}(l,function C_(l,c){return l&&$o(c,Ks(c),l)}(k,l)):function Gp(l,c){return $o(l,Ul(l),c)}(l,wh(k,l))}else{if(!_n[we])return b?l:{};k=function YP(l,c,g){var v=l.constructor;switch(c){case Xr:return Rl(l);case Re:case Ze:return new v(+l);case jr:return function Zc(l,c){var g=c?Rl(l.buffer):l.buffer;return new l.constructor(g,l.byteOffset,l.byteLength)}(l,g);case Lr:case pn:case yi:case Jn:case $a:case Vn:case Xn:case ps:case gs:return Hh(l,g);case En:return new v;case Yn:case Di:return new v(l);case Gt:return function Pl(l){var c=new l.constructor(l.source,aa.exec(l));return c.lastIndex=l.lastIndex,c}(l);case Dr:return new v;case xi:return function Wu(l){return Cl?Et(Cl.call(l)):{}}(l)}}(l,we,B)}}P||(P=new fo);var Qe=P.get(l);if(Qe)return Qe;P.set(l,k),FC(l)?l.forEach(function(yt){k.add(Fi(yt,c,g,yt,l,P))}):YE(l)&&l.forEach(function(yt,Xt){k.set(Xt,Fi(yt,c,g,Xt,l,P))});var Jt=fe?C:(de?z?xa:Fl:z?Ks:Ti)(l);return Us(Jt||l,function(yt,Xt){Jt&&(yt=l[Xt=yt]),Hc(k,Xt,Fi(yt,c,g,Xt,l,P))}),k}function jc(l,c,g){var v=g.length;if(null==l)return!v;for(l=Et(l);v--;){var b=g[v],k=l[b];if(k===C&&!(b in l)||!(0,c[b])(k))return!1}return!0}function zs(l,c,g){if("function"!=typeof l)throw new Je(rn);return bi(function(){l.apply(C,g)},c)}function va(l,c,g,v){var b=-1,P=Bs,k=!0,B=l.length,z=[],de=c.length;if(!B)return z;g&&(c=cn(c,Ii(g))),v?(P=Oi,k=!1):c.length>=200&&(P=ml,k=!1,c=new _a(c));e:for(;++b<B;){var fe=l[b],we=null==g?fe:g(fe);if(fe=v||0!==fe?fe:0,k&&we==we){for(var Se=de;Se--;)if(c[Se]===we)continue e;z.push(fe)}else P(c,we,v)||z.push(fe)}return z}S.templateSettings={escape:ja,evaluate:oo,interpolate:U,variable:"",imports:{_:S}},(S.prototype=Ei.prototype).constructor=S,(hn.prototype=es(Ei.prototype)).constructor=hn,(Qt.prototype=es(Ei.prototype)).constructor=Qt,pa.prototype.clear=function _h(){this.__data__=Fc?Fc(null):{},this.size=0},pa.prototype.delete=function Uc(l){var c=this.has(l)&&delete this.__data__[l];return this.size-=c?1:0,c},pa.prototype.get=function Mp(l){var c=this.__data__;if(Fc){var g=c[l];return g===Tn?C:g}return tn.call(c,l)?c[l]:C},pa.prototype.has=function Vu(l){var c=this.__data__;return Fc?c[l]!==C:tn.call(c,l)},pa.prototype.set=function yh(l,c){var g=this.__data__;return this.size+=this.has(l)?0:1,g[l]=Fc&&c===C?Tn:c,this},di.prototype.clear=function ga(){this.__data__=[],this.size=0},di.prototype.delete=function Sl(l){var c=this.__data__,g=$c(c,l);return!(g<0||(g==c.length-1?c.pop():ko.call(c,g,1),--this.size,0))},di.prototype.get=function Bc(l){var c=this.__data__,g=$c(c,l);return g<0?C:c[g][1]},di.prototype.has=function I_(l){return $c(this.__data__,l)>-1},di.prototype.set=function Op(l,c){var g=this.__data__,v=$c(g,l);return v<0?(++this.size,g.push([l,c])):g[v][1]=c,this},ma.prototype.clear=function vh(){this.size=0,this.__data__={hash:new pa,map:new(Lc||di),string:new pa}},ma.prototype.delete=function Np(l){var c=Ra(this,l).delete(l);return this.size-=c?1:0,c},ma.prototype.get=function aE(l){return Ra(this,l).get(l)},ma.prototype.has=function kp(l){return Ra(this,l).has(l)},ma.prototype.set=function Lp(l,c){var g=Ra(this,l),v=g.size;return g.set(l,c),this.size+=g.size==v?0:1,this},_a.prototype.add=_a.prototype.push=function Ih(l){return this.__data__.set(l,Tn),this},_a.prototype.has=function lE(l){return this.__data__.has(l)},fo.prototype.clear=function E_(){this.__data__=new di,this.size=0},fo.prototype.delete=function Fp(l){var c=this.__data__,g=c.delete(l);return this.size=c.size,g},fo.prototype.get=function Uu(l){return this.__data__.get(l)},fo.prototype.has=function w_(l){return this.__data__.has(l)},fo.prototype.set=function b_(l,c){var g=this.__data__;if(g instanceof di){var v=g.__data__;if(!Lc||v.length<199)return v.push([l,c]),this.size=++g.size,this;g=this.__data__=new ma(v)}return g.set(l,c),this.size=g.size,this};var ys=Kp(po),wn=Kp(Hu,!0);function Th(l,c){var g=!0;return ys(l,function(v,b,P){return g=!!c(v,b,P)}),g}function Fo(l,c,g){for(var v=-1,b=l.length;++v<b;){var P=l[v],k=c(P);if(null!=k&&(B===C?k==k&&!Ws(k):g(k,B)))var B=k,z=P}return z}function Ia(l,c){var g=[];return ys(l,function(v,b,P){c(v,b,P)&&g.push(v)}),g}function Pr(l,c,g,v,b){var P=-1,k=l.length;for(g||(g=XP),b||(b=[]);++P<k;){var B=l[P];c>0&&g(B)?c>1?Pr(B,c-1,g,v,b):$t(b,B):v||(b[b.length]=B)}return b}var Ea=Zp(),Ui=Zp(!0);function po(l,c){return l&&Ea(l,c,Ti)}function Hu(l,c){return l&&Ui(l,c,Ti)}function $u(l,c){return _r(c,function(g){return Ma(l[g])})}function Bi(l,c){for(var g=0,v=(c=Bo(c,l)).length;null!=l&&g<v;)l=l[Pa(c[g++])];return g&&g==v?l:C}function Ch(l,c,g){var v=c(l);return Mt(l)?v:$t(v,g(l))}function ti(l){return null==l?l===C?"[object Undefined]":"[object Null]":ku&&ku in Et(l)?function Yp(l){var c=tn.call(l,ku),g=l[ku];try{l[ku]=C;var v=!0}catch{}var b=Mu.call(l);return v&&(c?l[ku]=g:delete l[ku]),b}(l):function Jp(l){return Mu.call(l)}(l)}function zc(l,c){return l>c}function qc(l,c){return null!=l&&tn.call(l,c)}function Bp(l,c){return null!=l&&c in Et(l)}function lt(l,c,g){for(var v=g?Oi:Bs,b=l[0].length,P=l.length,k=P,B=Z(P),z=1/0,de=[];k--;){var fe=l[k];k&&c&&(fe=cn(fe,Ii(c))),z=Ir(fe.length,z),B[k]=!g&&(c||b>=120&&fe.length>=120)?new _a(k&&fe):C}fe=l[0];var we=-1,Se=B[0];e:for(;++we<b&&de.length<z;){var Qe=fe[we],_t=c?c(Qe):Qe;if(Qe=g||0!==Qe?Qe:0,!(Se?ml(Se,_t):v(de,_t,g))){for(k=P;--k;){var Jt=B[k];if(!(Jt?ml(Jt,_t):v(l[k],_t,g)))continue e}Se&&Se.push(_t),de.push(Qe)}}return de}function wa(l,c,g){var v=null==(l=pE(l,c=Bo(c,l)))?l:l[Pa(rs(c))];return null==v?C:vi(v,l,g)}function $p(l){return Or(l)&&ti(l)==le}function ba(l,c,g,v,b){return l===c||(null==l||null==c||!Or(l)&&!Or(c)?l!=l&&c!=c:function Ta(l,c,g,v,b,P){var k=Mt(l),B=Mt(c),z=k?Ae:Hr(l),de=B?Ae:Hr(c),fe=(z=z==le?ar:z)==ar,we=(de=de==le?ar:de)==ar,Se=z==de;if(Se&&zl(l)){if(!zl(c))return!1;k=!0,fe=!1}if(Se&&!fe)return P||(P=new fo),k||cd(l)?Ll(l,c,g,v,b,P):function qo(l,c,g,v,b,P,k){switch(g){case jr:if(l.byteLength!=c.byteLength||l.byteOffset!=c.byteOffset)return!1;l=l.buffer,c=c.buffer;case Xr:return!(l.byteLength!=c.byteLength||!P(new mh(l),new mh(c)));case Re:case Ze:case Yn:return Go(+l,+c);case xn:return l.name==c.name&&l.message==c.message;case Gt:case Di:return l==c+"";case En:var B=Pn;case Dr:if(B||(B=it),l.size!=c.size&&!(1&v))return!1;var de=k.get(l);if(de)return de==c;v|=2,k.set(l,c);var fe=Ll(B(l),B(c),v,b,P,k);return k.delete(l),fe;case xi:if(Cl)return Cl.call(l)==Cl.call(c)}return!1}(l,c,z,g,v,b,P);if(!(1&g)){var Qe=fe&&tn.call(l,"__wrapped__"),_t=we&&tn.call(c,"__wrapped__");if(Qe||_t){var Jt=Qe?l.value():l,yt=_t?c.value():c;return P||(P=new fo),b(Jt,yt,g,v,P)}}return!!Se&&(P||(P=new fo),function Qp(l,c,g,v,b,P){var k=1&g,B=Fl(l),z=B.length;if(z!=Fl(c).length&&!k)return!1;for(var we=z;we--;){var Se=B[we];if(!(k?Se in c:tn.call(c,Se)))return!1}var Qe=P.get(l),_t=P.get(c);if(Qe&&_t)return Qe==c&&_t==l;var Jt=!0;P.set(l,c),P.set(c,l);for(var yt=k;++we<z;){var Xt=l[Se=B[we]],nt=c[Se];if(v)var bs=k?v(nt,Xt,Se,c,l,P):v(Xt,nt,Se,l,c,P);if(!(bs===C?Xt===nt||b(Xt,nt,g,v,P):bs)){Jt=!1;break}yt||(yt="constructor"==Se)}if(Jt&&!yt){var is=l.constructor,Io=c.constructor;is!=Io&&"constructor"in l&&"constructor"in c&&!("function"==typeof is&&is instanceof is&&"function"==typeof Io&&Io instanceof Io)&&(Jt=!1)}return P.delete(l),P.delete(c),Jt}(l,c,g,v,b,P))}(l,c,g,v,ba,b))}function Gc(l,c,g,v){var b=g.length,P=b,k=!v;if(null==l)return!P;for(l=Et(l);b--;){var B=g[b];if(k&&B[2]?B[1]!==l[B[0]]:!(B[0]in l))return!1}for(;++b<P;){var z=(B=g[b])[0],de=l[z],fe=B[1];if(k&&B[2]){if(de===C&&!(z in l))return!1}else{var we=new fo;if(v)var Se=v(de,fe,z,l,c,we);if(!(Se===C?ba(fe,de,3,v,we):Se))return!1}}return!0}function Dh(l){return!(!lr(l)||function HT(l){return!!da&&da in l}(l))&&(Ma(l)?Ou:ve).test(Xu(l))}function Yt(l){return"function"==typeof l?l:null==l?gi:"object"==typeof l?Mt(l)?ns(l[0],l[1]):Dl(l):f0(l)}function Ct(l){if(!qh(l))return nE(l);var c=[];for(var g in Et(l))tn.call(l,g)&&"constructor"!=g&&c.push(g);return c}function Er(l,c){return l<c}function xh(l,c){var g=-1,v=ji(l)?Z(l.length):[];return ys(l,function(b,P,k){v[++g]=c(b,P,k)}),v}function Dl(l){var c=zh(l);return 1==c.length&&c[0][2]?hE(c[0][0],c[0][1]):function(g){return g===l||Gc(g,l,c)}}function ns(l,c){return dE(l)&&ed(c)?hE(Pa(l),c):function(g){var v=yg(g,l);return v===C&&v===c?ly(g,l):ba(c,v,3)}}function xl(l,c,g,v,b){l!==c&&Ea(c,function(P,k){if(b||(b=new fo),lr(P))!function ju(l,c,g,v,b,P,k){var B=L_(l,g),z=L_(c,g),de=k.get(z);if(de)Eh(l,g,de);else{var fe=P?P(B,z,g+"",l,c,k):C,we=fe===C;if(we){var Se=Mt(z),Qe=!Se&&zl(z),_t=!Se&&!Qe&&cd(z);fe=z,Se||Qe||_t?Mt(B)?fe=B:Wn(B)?fe=fi(B):Qe?(we=!1,fe=qp(z,!0)):_t?(we=!1,fe=Hh(z,!0)):fe=[]:mg(z)||jl(z)?(fe=B,jl(B)?fe=HC(B):(!lr(B)||Ma(B))&&(fe=cE(z))):we=!1}we&&(k.set(z,fe),b(fe,z,v,P,k),k.delete(z)),Eh(l,g,fe)}}(l,c,k,g,xl,v,b);else{var B=v?v(L_(l,k),P,k+"",l,c,b):C;B===C&&(B=P),Eh(l,k,B)}},Ks)}function Wc(l,c){var g=l.length;if(g)return Bl(c+=c<0?g:0,g)?l[c]:C}function Rh(l,c,g){c=c.length?cn(c,function(P){return Mt(P)?function(k){return Bi(k,1===P.length?P[0]:P)}:P}):[gi];var v=-1;return c=cn(c,Ii(Le())),function xc(N,K){var Z=N.length;for(N.sort(K);Z--;)N[Z]=N[Z].value;return N}(xh(l,function(P,k,B){return{criteria:cn(c,function(de){return de(P)}),index:++v,value:P}}),function(P,k){return function M_(l,c,g){for(var v=-1,b=l.criteria,P=c.criteria,k=b.length,B=g.length;++v<k;){var z=Ku(b[v],P[v]);if(z)return v>=B?z:z*("desc"==g[v]?-1:1)}return l.index-c.index}(P,k,g)})}function Gr(l,c,g){for(var v=-1,b=c.length,P={};++v<b;){var k=c[v],B=Bi(l,k);g(B,k)&&Qa(P,Bo(k,l),B)}return P}function zu(l,c,g,v){var b=v?wp:Ro,P=-1,k=c.length,B=l;for(l===c&&(c=fi(c)),g&&(B=cn(l,Ii(g)));++P<k;)for(var z=0,de=c[P],fe=g?g(de):de;(z=b(B,fe,z,v))>-1;)B!==l&&ko.call(B,z,1),ko.call(l,z,1);return l}function Ca(l,c){for(var g=l?c.length:0,v=g-1;g--;){var b=c[g];if(g==v||b!==P){var P=b;Bl(b)?ko.call(l,b,1):Fh(l,b)}}return l}function vs(l,c){return l+Xi(__()*(c-l+1))}function qu(l,c){var g="";if(!l||c<1||c>Ar)return g;do{c%2&&(g+=l),(c=Xi(c/2))&&(l+=l)}while(c);return g}function kt(l,c){return Gh(nd(l,c,gi),l+"")}function R_(l){return Bu(yo(l))}function Mh(l,c){var g=yo(l);return Wh(g,ya(c,0,g.length))}function Qa(l,c,g,v){if(!lr(l))return l;for(var b=-1,P=(c=Bo(c,l)).length,k=P-1,B=l;null!=B&&++b<P;){var z=Pa(c[b]),de=g;if("__proto__"===z||"constructor"===z||"prototype"===z)return l;if(b!=k){var fe=B[z];(de=v?v(fe,z,B):C)===C&&(de=lr(fe)?fe:Bl(c[b+1])?[]:{})}Hc(B,z,de),B=B[z]}return l}var Gu=Tl?function(l,c){return Tl.set(l,c),l}:gi,Oh=ci?function(l,c){return ci(l,"toString",{configurable:!0,enumerable:!1,value:ff(c),writable:!0})}:gi;function P_(l){return Wh(yo(l))}function Hi(l,c,g){var v=-1,b=l.length;c<0&&(c=-c>b?0:b+c),(g=g>b?b:g)<0&&(g+=b),b=c>g?0:g-c>>>0,c>>>=0;for(var P=Z(b);++v<b;)P[v]=l[v+c];return P}function Nh(l,c){var g;return ys(l,function(v,b,P){return!(g=c(v,b,P))}),!!g}function Sa(l,c,g){var v=0,b=null==l?v:l.length;if("number"==typeof c&&c==c&&b<=2147483647){for(;v<b;){var P=v+b>>>1,k=l[P];null!==k&&!Ws(k)&&(g?k<=c:k<c)?v=P+1:b=P}return b}return Kc(l,c,gi,g)}function Kc(l,c,g,v){var b=0,P=null==l?0:l.length;if(0===P)return 0;for(var k=(c=g(c))!=c,B=null===c,z=Ws(c),de=c===C;b<P;){var fe=Xi((b+P)/2),we=g(l[fe]),Se=we!==C,Qe=null===we,_t=we==we,Jt=Ws(we);if(k)var yt=v||_t;else yt=de?_t&&(v||Se):B?_t&&Se&&(v||!Qe):z?_t&&Se&&!Qe&&(v||!Jt):!Qe&&!Jt&&(v?we<=c:we<c);yt?b=fe+1:P=fe}return Ir(P,4294967294)}function kh(l,c){for(var g=-1,v=l.length,b=0,P=[];++g<v;){var k=l[g],B=c?c(k):k;if(!g||!Go(B,z)){var z=B;P[b++]=0===k?0:k}}return P}function Lh(l){return"number"==typeof l?l:Ws(l)?NaN:+l}function wi(l){if("string"==typeof l)return l;if(Mt(l))return cn(l,wi)+"";if(Ws(l))return v_?v_.call(l):"";var c=l+"";return"0"==c&&1/l==-bt?"-0":c}function Aa(l,c,g){var v=-1,b=Bs,P=l.length,k=!0,B=[],z=B;if(g)k=!1,b=Oi;else if(P>=200){var de=c?null:ze(l);if(de)return it(de);k=!1,b=ml,z=new _a}else z=c?[]:B;e:for(;++v<P;){var fe=l[v],we=c?c(fe):fe;if(fe=g||0!==fe?fe:0,k&&we==we){for(var Se=z.length;Se--;)if(z[Se]===we)continue e;c&&z.push(we),B.push(fe)}else b(z,we,g)||(z!==B&&z.push(we),B.push(fe))}return B}function Fh(l,c){return null==(l=pE(l,c=Bo(c,l)))||delete l[Pa(rs(c))]}function hi(l,c,g,v){return Qa(l,c,g(Bi(l,c)),v)}function go(l,c,g,v){for(var b=l.length,P=v?b:-1;(v?P--:++P<b)&&c(l[P],P,l););return g?Hi(l,v?0:P,v?P+1:b):Hi(l,v?P+1:0,v?b:P)}function Ln(l,c){var g=l;return g instanceof Qt&&(g=g.value()),pl(c,function(v,b){return b.func.apply(b.thisArg,$t([v],b.args))},g)}function Uo(l,c,g){var v=l.length;if(v<2)return v?Aa(l[0]):[];for(var b=-1,P=Z(v);++b<v;)for(var k=l[b],B=-1;++B<v;)B!=b&&(P[b]=va(P[b]||k,l[B],c,g));return Aa(Pr(P,1),c,g)}function zp(l,c,g){for(var v=-1,b=l.length,P=c.length,k={};++v<b;)g(k,l[v],v<P?c[v]:C);return k}function Vh(l){return Wn(l)?l:[]}function Uh(l){return"function"==typeof l?l:gi}function Bo(l,c){return Mt(l)?l:dE(l,c)?[l]:gE(yn(l))}var Bh=kt;function qs(l,c,g){var v=l.length;return g=g===C?v:g,!c&&g>=v?l:Hi(l,c,g)}var Ho=Li||function(l){return Nn.clearTimeout(l)};function qp(l,c){if(c)return l.slice();var g=l.length,v=No?No(g):new l.constructor(g);return l.copy(v),v}function Rl(l){var c=new l.constructor(l.byteLength);return new mh(c).set(new mh(l)),c}function Hh(l,c){var g=c?Rl(l.buffer):l.buffer;return new l.constructor(g,l.byteOffset,l.length)}function Ku(l,c){if(l!==c){var g=l!==C,v=null===l,b=l==l,P=Ws(l),k=c!==C,B=null===c,z=c==c,de=Ws(c);if(!B&&!de&&!P&&l>c||P&&k&&z&&!B&&!de||v&&k&&z||!g&&z||!b)return 1;if(!v&&!P&&!de&&l<c||de&&g&&b&&!v&&!P||B&&g&&b||!k&&b||!z)return-1}return 0}function Da(l,c,g,v){for(var b=-1,P=l.length,k=g.length,B=-1,z=c.length,de=vr(P-k,0),fe=Z(z+de),we=!v;++B<z;)fe[B]=c[B];for(;++b<k;)(we||b<P)&&(fe[g[b]]=l[b]);for(;de--;)fe[B++]=l[b++];return fe}function Ml(l,c,g,v){for(var b=-1,P=l.length,k=-1,B=g.length,z=-1,de=c.length,fe=vr(P-B,0),we=Z(fe+de),Se=!v;++b<fe;)we[b]=l[b];for(var Qe=b;++z<de;)we[Qe+z]=c[z];for(;++k<B;)(Se||b<P)&&(we[Qe+g[k]]=l[b++]);return we}function fi(l,c){var g=-1,v=l.length;for(c||(c=Z(v));++g<v;)c[g]=l[g];return c}function $o(l,c,g,v){var b=!g;g||(g={});for(var P=-1,k=c.length;++P<k;){var B=c[P],z=v?v(g[B],l[B],B,g,l):C;z===C&&(z=l[B]),b?Lo(g,B,z):Hc(g,B,z)}return g}function Zu(l,c){return function(g,v){var b=Mt(g)?Do:ts,P=c?c():{};return b(g,l,Le(v,2),P)}}function jo(l){return kt(function(c,g){var v=-1,b=g.length,P=b>1?g[b-1]:C,k=b>2?g[2]:C;for(P=l.length>3&&"function"==typeof P?(b--,P):C,k&&Is(g[0],g[1],k)&&(P=b<3?C:P,b=1),c=Et(c);++v<b;){var B=g[v];B&&l(c,B,v,P)}return c})}function Kp(l,c){return function(g,v){if(null==g)return g;if(!ji(g))return l(g,v);for(var b=g.length,P=c?b:-1,k=Et(g);(c?P--:++P<b)&&!1!==v(k[P],P,k););return g}}function Zp(l){return function(c,g,v){for(var b=-1,P=Et(c),k=v(c),B=k.length;B--;){var z=k[l?B:++b];if(!1===g(P[z],z,P))break}return c}}function Ol(l){return function(c){var g=_l(c=yn(c))?qr(c):C,v=g?g[0]:c.charAt(0),b=g?qs(g,1).join(""):c.slice(1);return v[l]()+b}}function Nl(l){return function(c){return pl(Cg(ws(c).replace(uh,"")),l,"")}}function zo(l){return function(){var c=arguments;switch(c.length){case 0:return new l;case 1:return new l(c[0]);case 2:return new l(c[0],c[1]);case 3:return new l(c[0],c[1],c[2]);case 4:return new l(c[0],c[1],c[2],c[3]);case 5:return new l(c[0],c[1],c[2],c[3],c[4]);case 6:return new l(c[0],c[1],c[2],c[3],c[4],c[5]);case 7:return new l(c[0],c[1],c[2],c[3],c[4],c[5],c[6])}var g=es(l.prototype),v=l.apply(g,c);return lr(v)?v:g}}function kl(l){return function(c,g,v){var b=Et(c);if(!ji(c)){var P=Le(g,3);c=Ti(c),g=function(B){return P(b[B],B,b)}}var k=l(c,g,v);return k>-1?b[P?c[k]:k]:C}}function O_(l){return Gs(function(c){var g=c.length,v=g,b=hn.prototype.thru;for(l&&c.reverse();v--;){var P=c[v];if("function"!=typeof P)throw new Je(rn);if(b&&!k&&"wrapper"==Mr(P))var k=new hn([],!0)}for(v=k?v:g;++v<g;){var B=Mr(P=c[v]),z="wrapper"==B?Jc(P):C;k=z&&k_(z[0])&&424==z[1]&&!z[4].length&&1==z[9]?k[Mr(z[0])].apply(k,z[3]):1==P.length&&k_(P)?k[B]():k.thru(P)}return function(){var de=arguments,fe=de[0];if(k&&1==de.length&&Mt(fe))return k.plant(fe).value();for(var we=0,Se=g?c[we].apply(this,de):fe;++we<g;)Se=c[we].call(this,Se);return Se}})}function Qc(l,c,g,v,b,P,k,B,z,de){var fe=128&c,we=1&c,Se=2&c,Qe=24&c,_t=512&c,Jt=Se?C:zo(l);return function yt(){for(var Xt=arguments.length,nt=Z(Xt),bs=Xt;bs--;)nt[bs]=arguments[bs];if(Qe)var is=Ya(yt),Io=function Mc(N,K){for(var Z=N.length,Pe=0;Z--;)N[Z]===K&&++Pe;return Pe}(nt,is);if(v&&(nt=Da(nt,v,b,Qe)),P&&(nt=Ml(nt,P,k,Qe)),Xt-=Io,Qe&&Xt<de){var ut=Hs(nt,is);return X(l,c,Qc,yt.placeholder,g,nt,ut,B,z,de-Xt)}var Zo=we?g:this,Qo=Se?Zo[l]:l;return Xt=nt.length,B?nt=function eM(l,c){for(var g=l.length,v=Ir(c.length,g),b=fi(l);v--;){var P=c[v];l[v]=Bl(P,g)?b[P]:C}return l}(nt,B):_t&&Xt>1&&nt.reverse(),fe&&z<Xt&&(nt.length=z),this&&this!==Nn&&this instanceof yt&&(Qo=Jt||zo(Qo)),Qo.apply(Zo,nt)}}function m(l,c){return function(g,v){return function Hp(l,c,g,v){return po(l,function(b,P,k){c(v,g(b),P,k)}),v}(g,l,c(v),{})}}function h(l,c){return function(g,v){var b;if(g===C&&v===C)return c;if(g!==C&&(b=g),v!==C){if(b===C)return v;"string"==typeof g||"string"==typeof v?(g=wi(g),v=wi(v)):(g=Lh(g),v=Lh(v)),b=l(g,v)}return b}}function f(l){return Gs(function(c){return c=cn(c,Ii(Le())),kt(function(g){var v=this;return l(c,function(b){return vi(b,v,g)})})})}function _(l,c){var g=(c=c===C?" ":wi(c)).length;if(g<2)return g?qu(c,l):c;var v=qu(c,Ka(l/Rr(c)));return _l(c)?qs(qr(v),0,l).join(""):v.slice(0,l)}function D(l){return function(c,g,v){return v&&"number"!=typeof v&&Is(c,g,v)&&(g=v=C),c=Oa(c),g===C?(g=c,c=0):g=Oa(g),function x_(l,c,g,v){for(var b=-1,P=vr(Ka((c-l)/(g||1)),0),k=Z(P);P--;)k[v?P:++b]=l,l+=g;return k}(c,g,v=v===C?c<g?1:-1:Oa(v),l)}}function H(l){return function(c,g){return"string"==typeof c&&"string"==typeof g||(c=Wo(c),g=Wo(g)),l(c,g)}}function X(l,c,g,v,b,P,k,B,z,de){var fe=8&c;c|=fe?32:64,4&(c&=~(fe?64:32))||(c&=-4);var Jt=[l,c,b,fe?P:C,fe?k:C,fe?C:P,fe?C:k,B,z,de],yt=g.apply(C,Jt);return k_(l)&&$T(yt,Jt),yt.placeholder=v,Ju(yt,l,c)}function ge(l){var c=Gn[l];return function(g,v){if(g=Wo(g),(v=null==v?0:Ir(Vt(v),292))&&m_(g)){var b=(yn(g)+"e").split("e");return+((b=(yn(c(b[0]+"e"+(+b[1]+v)))+"e").split("e"))[0]+"e"+(+b[1]-v))}return c(g)}}var ze=Za&&1/it(new Za([,-0]))[1]==bt?function(l){return new Za(l)}:by;function tt(l){return function(c){var g=Hr(c);return g==En?Pn(c):g==Dr?function ei(N){var K=-1,Z=Array(N.size);return N.forEach(function(Pe){Z[++K]=[Pe,Pe]}),Z}(c):function Ni(N,K){return cn(K,function(Z){return[Z,N[Z]]})}(c,l(c))}}function xt(l,c,g,v,b,P,k,B){var z=2&c;if(!z&&"function"!=typeof l)throw new Je(rn);var de=v?v.length:0;if(de||(c&=-97,v=b=C),k=k===C?k:vr(Vt(k),0),B=B===C?B:Vt(B),de-=b?b.length:0,64&c){var fe=v,we=b;v=b=C}var Se=z?C:Jc(l),Qe=[l,c,g,v,b,fe,we,P,k,B];if(Se&&function td(l,c){var g=l[1],v=c[1],b=g|v;if(!(b<131)&&!(128==v&&8==g||128==v&&256==g&&l[7].length<=c[8]||384==v&&c[7].length<=c[8]&&8==g))return l;1&v&&(l[2]=c[2],b|=1&g?0:4);var B=c[3];if(B){var z=l[3];l[3]=z?Da(z,B,c[4]):B,l[4]=z?Hs(l[3],ae):c[4]}(B=c[5])&&(l[5]=(z=l[5])?Ml(z,B,c[6]):B,l[6]=z?Hs(l[5],ae):c[6]),(B=c[7])&&(l[7]=B),128&v&&(l[8]=null==l[8]?c[8]:Ir(l[8],c[8])),null==l[9]&&(l[9]=c[9]),l[0]=c[0],l[1]=b}(Qe,Se),l=Qe[0],c=Qe[1],g=Qe[2],v=Qe[3],b=Qe[4],!(B=Qe[9]=Qe[9]===C?z?0:l.length:vr(Qe[9]-de,0))&&24&c&&(c&=-25),c&&1!=c)_t=8==c||16==c?function jh(l,c,g){var v=zo(l);return function b(){for(var P=arguments.length,k=Z(P),B=P,z=Ya(b);B--;)k[B]=arguments[B];var de=P<3&&k[0]!==z&&k[P-1]!==z?[]:Hs(k,z);return(P-=de.length)<g?X(l,c,Qc,b.placeholder,C,k,de,C,C,g-P):vi(this&&this!==Nn&&this instanceof b?v:l,this,k)}}(l,c,B):32!=c&&33!=c||b.length?Qc.apply(C,Qe):function E(l,c,g,v){var b=1&c,P=zo(l);return function k(){for(var B=-1,z=arguments.length,de=-1,fe=v.length,we=Z(fe+z),Se=this&&this!==Nn&&this instanceof k?P:l;++de<fe;)we[de]=v[de];for(;z--;)we[de++]=arguments[++B];return vi(Se,b?g:this,we)}}(l,c,g,v);else var _t=function $h(l,c,g){var v=1&c,b=zo(l);return function P(){return(this&&this!==Nn&&this instanceof P?b:l).apply(v?g:this,arguments)}}(l,c,g);return Ju((Se?Gu:$T)(_t,Qe),l,c)}function pi(l,c,g,v){return l===C||Go(l,$s[g])&&!tn.call(v,g)?c:l}function mo(l,c,g,v,b,P){return lr(l)&&lr(c)&&(P.set(c,l),xl(l,c,C,mo,P),P.delete(c)),l}function Yc(l){return mg(l)?C:l}function Ll(l,c,g,v,b,P){var k=1&g,B=l.length,z=c.length;if(B!=z&&!(k&&z>B))return!1;var de=P.get(l),fe=P.get(c);if(de&&fe)return de==c&&fe==l;var we=-1,Se=!0,Qe=2&g?new _a:C;for(P.set(l,c),P.set(c,l);++we<B;){var _t=l[we],Jt=c[we];if(v)var yt=k?v(Jt,_t,we,c,l,P):v(_t,Jt,we,l,c,P);if(yt!==C){if(yt)continue;Se=!1;break}if(Qe){if(!wu(c,function(Xt,nt){if(!ml(Qe,nt)&&(_t===Xt||b(_t,Xt,g,v,P)))return Qe.push(nt)})){Se=!1;break}}else if(_t!==Jt&&!b(_t,Jt,g,v,P)){Se=!1;break}}return P.delete(l),P.delete(c),Se}function Gs(l){return Gh(nd(l,C,vE),l+"")}function Fl(l){return Ch(l,Ti,Ul)}function xa(l){return Ch(l,Ks,Qu)}var Jc=Tl?function(l){return Tl.get(l)}:by;function Mr(l){for(var c=l.name+"",g=ha[c],v=tn.call(ha,c)?g.length:0;v--;){var b=g[v],P=b.func;if(null==P||P==l)return b.name}return c}function Ya(l){return(tn.call(S,"placeholder")?S:l).placeholder}function Le(){var l=S.iteratee||Ey;return l=l===Ey?Yt:l,arguments.length?l(arguments[0],arguments[1]):l}function Ra(l,c){var g=l.__data__;return function Xc(l){var c=typeof l;return"string"==c||"number"==c||"symbol"==c||"boolean"==c?"__proto__"!==l:null===l}(c)?g["string"==typeof c?"string":"hash"]:g.map}function zh(l){for(var c=Ti(l),g=c.length;g--;){var v=c[g],b=l[v];c[g]=[v,b,ed(b)]}return c}function Vl(l,c){var g=function Ur(N,K){return null==N?C:N[K]}(l,c);return Dh(g)?g:C}var Ul=kc?function(l){return null==l?[]:(l=Et(l),_r(kc(l),function(c){return Nu.call(l,c)}))}:Sy,Qu=kc?function(l){for(var c=[];l;)$t(c,Ul(l)),l=El(l);return c}:Sy,Hr=ti;function Yu(l,c,g){for(var v=-1,b=(c=Bo(c,l)).length,P=!1;++v<b;){var k=Pa(c[v]);if(!(P=null!=l&&g(l,k)))break;l=l[k]}return P||++v!=b?P:!!(b=null==l?0:l.length)&&nf(b)&&Bl(k,b)&&(Mt(l)||jl(l))}function cE(l){return"function"!=typeof l.constructor||qh(l)?{}:es(El(l))}function XP(l){return Mt(l)||jl(l)||!!(wl&&l&&l[wl])}function Bl(l,c){var g=typeof l;return!!(c=c??Ar)&&("number"==g||"symbol"!=g&&Ft.test(l))&&l>-1&&l%1==0&&l<c}function Is(l,c,g){if(!lr(g))return!1;var v=typeof c;return!!("number"==v?ji(g)&&Bl(c,g.length):"string"==v&&c in g)&&Go(g[c],l)}function dE(l,c){if(Mt(l))return!1;var g=typeof l;return!("number"!=g&&"symbol"!=g&&"boolean"!=g&&null!=l&&!Ws(l))||A.test(l)||!F.test(l)||null!=c&&l in Et(c)}function k_(l){var c=Mr(l),g=S[c];if("function"!=typeof g||!(c in Qt.prototype))return!1;if(l===g)return!0;var v=Jc(g);return!!v&&l===v[0]}(y_&&Hr(new y_(new ArrayBuffer(1)))!=jr||Lc&&Hr(new Lc)!=En||xp&&Hr(xp.resolve())!=fs||Za&&Hr(new Za)!=Dr||bl&&Hr(new bl)!=xr)&&(Hr=function(l){var c=ti(l),g=c==ar?l.constructor:C,v=g?Xu(g):"";if(v)switch(v){case Rp:return jr;case sE:return En;case oE:return fs;case BT:return Dr;case fa:return xr}return c});var ni=kn?Ma:Pg;function qh(l){var c=l&&l.constructor;return l===("function"==typeof c&&c.prototype||$s)}function ed(l){return l==l&&!lr(l)}function hE(l,c){return function(g){return null!=g&&g[l]===c&&(c!==C||l in Et(g))}}function nd(l,c,g){return c=vr(c===C?l.length-1:c,0),function(){for(var v=arguments,b=-1,P=vr(v.length-c,0),k=Z(P);++b<P;)k[b]=v[c+b];b=-1;for(var B=Z(c+1);++b<c;)B[b]=v[b];return B[c]=g(k),vi(l,this,B)}}function pE(l,c){return c.length<2?l:Bi(l,Hi(c,0,-1))}function L_(l,c){if(("constructor"!==c||"function"!=typeof l[c])&&"__proto__"!=c)return l[c]}var $T=jT(Gu),bi=Wa||function(l,c){return Nn.setTimeout(l,c)},Gh=jT(Oh);function Ju(l,c,g){var v=c+"";return Gh(l,function JP(l,c){var g=c.length;if(!g)return l;var v=g-1;return c[v]=(g>1?"& ":"")+c[v],c=c.join(g>2?", ":" "),l.replace(je,"{\n/* [wrapped with "+c+"] */\n")}(v,function zT(l,c){return Us(he,function(g){var v="_."+g[0];c&g[1]&&!Bs(l,v)&&l.push(v)}),l.sort()}(function N_(l){var c=l.match(ht);return c?c[1].split(ln):[]}(v),g)))}function jT(l){var c=0,g=0;return function(){var v=Dp(),b=16-(v-g);if(g=v,b>0){if(++c>=800)return arguments[0]}else c=0;return l.apply(C,arguments)}}function Wh(l,c){var g=-1,v=l.length,b=v-1;for(c=c===C?v:c;++g<c;){var P=vs(g,b),k=l[P];l[P]=l[g],l[g]=k}return l.length=c,l}var gE=function _o(l){var c=Z_(l,function(v){return 500===g.size&&g.clear(),v}),g=c.cache;return c}(function(l){var c=[];return 46===l.charCodeAt(0)&&c.push(""),l.replace(R,function(g,v,b,P){c.push(b?P.replace(Ye,"$1"):v||g)}),c});function Pa(l){if("string"==typeof l||Ws(l))return l;var c=l+"";return"0"==c&&1/l==-bt?"-0":c}function Xu(l){if(null!=l){try{return ca.call(l)}catch{}try{return l+""}catch{}}return""}function mE(l){if(l instanceof Qt)return l.clone();var c=new hn(l.__wrapped__,l.__chain__);return c.__actions__=fi(l.__actions__),c.__index__=l.__index__,c.__values__=l.__values__,c}var GT=kt(function(l,c){return Wn(l)?va(l,Pr(c,1,Wn,!0)):[]}),Kh=kt(function(l,c){var g=rs(c);return Wn(g)&&(g=C),Wn(l)?va(l,Pr(c,1,Wn,!0),Le(g,2)):[]}),WT=kt(function(l,c){var g=rs(c);return Wn(g)&&(g=C),Wn(l)?va(l,Pr(c,1,Wn,!0),C,g):[]});function U_(l,c,g){var v=null==l?0:l.length;if(!v)return-1;var b=null==g?0:Vt(g);return b<0&&(b=vr(v+b,0)),ui(l,Le(c,3),b)}function yE(l,c,g){var v=null==l?0:l.length;if(!v)return-1;var b=v-1;return g!==C&&(b=Vt(g),b=g<0?vr(v+b,0):Ir(b,v-1)),ui(l,Le(c,3),b,!0)}function vE(l){return null!=l&&l.length?Pr(l,1):[]}function QT(l){return l&&l.length?l[0]:C}var tM=kt(function(l){var c=cn(l,Vh);return c.length&&c[0]===l[0]?lt(c):[]}),JT=kt(function(l){var c=rs(l),g=cn(l,Vh);return c===rs(g)?c=C:g.pop(),g.length&&g[0]===l[0]?lt(g,Le(c,2)):[]}),XT=kt(function(l){var c=rs(l),g=cn(l,Vh);return(c="function"==typeof c?c:C)&&g.pop(),g.length&&g[0]===l[0]?lt(g,C,c):[]});function rs(l){var c=null==l?0:l.length;return c?l[c-1]:C}var wE=kt(nC);function nC(l,c){return l&&l.length&&c&&c.length?zu(l,c):l}var rC=Gs(function(l,c){var g=null==l?0:l.length,v=Al(l,c);return Ca(l,cn(c,function(b){return Bl(b,g)?+b:b}).sort(Ku)),v});function Qh(l){return null==l?l:iE.call(l)}var id=kt(function(l){return Aa(Pr(l,1,Wn,!0))}),AE=kt(function(l){var c=rs(l);return Wn(c)&&(c=C),Aa(Pr(l,1,Wn,!0),Le(c,2))}),DE=kt(function(l){var c=rs(l);return c="function"==typeof c?c:C,Aa(Pr(l,1,Wn,!0),C,c)});function H_(l){if(!l||!l.length)return[];var c=0;return l=_r(l,function(g){if(Wn(g))return c=vr(g.length,c),!0}),xu(c,function(g){return cn(l,Su(g))})}function xE(l,c){if(!l||!l.length)return[];var g=H_(l);return null==c?g:cn(g,function(v){return vi(c,C,v)})}var oC=kt(function(l,c){return Wn(l)?va(l,c):[]}),RE=kt(function(l){return Uo(_r(l,Wn))}),$_=kt(function(l){var c=rs(l);return Wn(c)&&(c=C),Uo(_r(l,Wn),Le(c,2))}),aC=kt(function(l){var c=rs(l);return c="function"==typeof c?c:C,Uo(_r(l,Wn),C,c)}),lC=kt(H_),cC=kt(function(l){var c=l.length,g=c>1?l[c-1]:C;return g="function"==typeof g?(l.pop(),g):C,xE(l,g)});function ME(l){var c=S(l);return c.__chain__=!0,c}function sd(l,c){return c(l)}var OE=Gs(function(l){var c=l.length,g=c?l[0]:0,v=this.__wrapped__,b=function(P){return Al(P,l)};return!(c>1||this.__actions__.length)&&v instanceof Qt&&Bl(g)?((v=v.slice(g,+g+(c?1:0))).__actions__.push({func:sd,args:[b],thisArg:C}),new hn(v,this.__chain__).thru(function(P){return c&&!P.length&&P.push(C),P})):this.thru(b)}),hC=Zu(function(l,c,g){tn.call(l,g)?++l[g]:Lo(l,g,1)}),VE=kl(U_),pC=kl(yE);function UE(l,c){return(Mt(l)?Us:ys)(l,Le(c,3))}function od(l,c){return(Mt(l)?hh:wn)(l,Le(c,3))}var mC=Zu(function(l,c,g){tn.call(l,g)?l[g].push(c):Lo(l,g,[c])}),BE=kt(function(l,c,g){var v=-1,b="function"==typeof c,P=ji(l)?Z(l.length):[];return ys(l,function(k){P[++v]=b?vi(c,k,g):wa(k,c,g)}),P}),HE=Zu(function(l,c,g){Lo(l,g,c)});function Jh(l,c){return(Mt(l)?cn:xh)(l,Le(c,3))}var og=Zu(function(l,c,g){l[g?0:1].push(c)},function(){return[[],[]]}),bC=kt(function(l,c){if(null==l)return[];var g=c.length;return g>1&&Is(l,c[0],c[1])?c=[]:g>2&&Is(c[0],c[1],c[2])&&(c=[c[0]]),Rh(l,Pr(c,1),[])}),Xh=Lu||function(){return Nn.Date.now()};function ug(l,c,g){return c=g?C:c,xt(l,128,C,C,C,C,c=l&&null==c?l.length:c)}function cg(l,c){var g;if("function"!=typeof c)throw new Je(rn);return l=Vt(l),function(){return--l>0&&(g=c.apply(this,arguments)),l<=1&&(c=C),g}}var W_=kt(function(l,c,g){var v=1;if(g.length){var b=Hs(g,Ya(W_));v|=32}return xt(l,v,c,g,b)}),jE=kt(function(l,c,g){var v=3;if(g.length){var b=Hs(g,Ya(jE));v|=32}return xt(c,v,l,g,b)});function $l(l,c,g){var v,b,P,k,B,z,de=0,fe=!1,we=!1,Se=!0;if("function"!=typeof l)throw new Je(rn);function Qe(ut){var Zo=v,Qo=b;return v=b=C,de=ut,k=l.apply(Qo,Zo)}function yt(ut){var Zo=ut-z;return z===C||Zo>=c||Zo<0||we&&ut-de>=P}function Xt(){var ut=Xh();if(yt(ut))return nt(ut);B=bi(Xt,function Jt(ut){var y0=c-(ut-z);return we?Ir(y0,P-(ut-de)):y0}(ut))}function nt(ut){return B=C,Se&&v?Qe(ut):(v=b=C,k)}function Io(){var ut=Xh(),Zo=yt(ut);if(v=arguments,b=this,z=ut,Zo){if(B===C)return function _t(ut){return de=ut,B=bi(Xt,c),fe?Qe(ut):k}(z);if(we)return Ho(B),B=bi(Xt,c),Qe(z)}return B===C&&(B=bi(Xt,c)),k}return c=Wo(c)||0,lr(g)&&(fe=!!g.leading,P=(we="maxWait"in g)?vr(Wo(g.maxWait)||0,c):P,Se="trailing"in g?!!g.trailing:Se),Io.cancel=function bs(){B!==C&&Ho(B),de=0,v=z=b=B=C},Io.flush=function is(){return B===C?k:nt(Xh())},Io}var zE=kt(function(l,c){return zs(l,1,c)}),qE=kt(function(l,c,g){return zs(l,Wo(c)||0,g)});function Z_(l,c){if("function"!=typeof l||null!=c&&"function"!=typeof c)throw new Je(rn);var g=function(){var v=arguments,b=c?c.apply(this,v):v[0],P=g.cache;if(P.has(b))return P.get(b);var k=l.apply(this,v);return g.cache=P.set(b,k)||P,k};return g.cache=new(Z_.Cache||ma),g}function ec(l){if("function"!=typeof l)throw new Je(rn);return function(){var c=arguments;switch(c.length){case 0:return!l.call(this);case 1:return!l.call(this,c[0]);case 2:return!l.call(this,c[0],c[1]);case 3:return!l.call(this,c[0],c[1],c[2])}return!l.apply(this,c)}}Z_.Cache=ma;var GE=Bh(function(l,c){var g=(c=1==c.length&&Mt(c[0])?cn(c[0],Ii(Le())):cn(Pr(c,1),Ii(Le()))).length;return kt(function(v){for(var b=-1,P=Ir(v.length,g);++b<P;)v[b]=c[b].call(this,v[b]);return vi(l,this,v)})}),hg=kt(function(l,c){var g=Hs(c,Ya(hg));return xt(l,32,C,c,g)}),Q_=kt(function(l,c){var g=Hs(c,Ya(Q_));return xt(l,64,C,c,g)}),Y_=Gs(function(l,c){return xt(l,256,C,C,C,c)});function Go(l,c){return l===c||l!=l&&c!=c}var AC=H(zc),DC=H(function(l,c){return l>=c}),jl=$p(function(){return arguments}())?$p:function(l){return Or(l)&&tn.call(l,"callee")&&!Nu.call(l,"callee")},Mt=Z.isArray,gg=Vs?Ii(Vs):function S_(l){return Or(l)&&ti(l)==Xr};function ji(l){return null!=l&&nf(l.length)&&!Ma(l)}function Wn(l){return Or(l)&&ji(l)}var zl=tE||Pg,cM=Ep?Ii(Ep):function Ah(l){return Or(l)&&ti(l)==Ze};function ud(l){if(!Or(l))return!1;var c=ti(l);return c==xn||"[object DOMException]"==c||"string"==typeof l.message&&"string"==typeof l.name&&!mg(l)}function Ma(l){if(!lr(l))return!1;var c=ti(l);return c==mn||c==qn||"[object AsyncFunction]"==c||"[object Proxy]"==c}function ny(l){return"number"==typeof l&&l==Vt(l)}function nf(l){return"number"==typeof l&&l>-1&&l%1==0&&l<=Ar}function lr(l){var c=typeof l;return null!=l&&("object"==c||"function"==c)}function Or(l){return null!=l&&"object"==typeof l}var YE=Ie?Ii(Ie):function A_(l){return Or(l)&&Hr(l)==En};function LC(l){return"number"==typeof l||Or(l)&&ti(l)==Yn}function mg(l){if(!Or(l)||ti(l)!=ar)return!1;var c=El(l);if(null===c)return!0;var g=tn.call(c,"constructor")&&c.constructor;return"function"==typeof g&&g instanceof g&&ca.call(g)==co}var JE=Iu?Ii(Iu):function jp(l){return Or(l)&&ti(l)==Gt},FC=De?Ii(De):function D_(l){return Or(l)&&Hr(l)==Dr};function sf(l){return"string"==typeof l||!Mt(l)&&Or(l)&&ti(l)==Di}function Ws(l){return"symbol"==typeof l||Or(l)&&ti(l)==xi}var cd=Eu?Ii(Eu):function pe(l){return Or(l)&&nf(l.length)&&!!Un[ti(l)]},Ja=H(Er),af=H(function(l,c){return l<=c});function iy(l){if(!l)return[];if(ji(l))return sf(l)?qr(l):fi(l);if(yr&&l[yr])return function g_(N){for(var K,Z=[];!(K=N.next()).done;)Z.push(K.value);return Z}(l[yr]());var c=Hr(l);return(c==En?Pn:c==Dr?it:yo)(l)}function Oa(l){return l?(l=Wo(l))===bt||l===-bt?17976931348623157e292*(l<0?-1:1):l==l?l:0:0===l?l:0}function Vt(l){var c=Oa(l),g=c%1;return c==c?g?c-g:c:0}function BC(l){return l?ya(Vt(l),0,te):0}function Wo(l){if("number"==typeof l)return l;if(Ws(l))return NaN;if(lr(l)){var c="function"==typeof l.valueOf?l.valueOf():l;l=lr(c)?c+"":c}if("string"!=typeof l)return 0===l?l:+l;l=Rc(l);var g=j.test(l);return g||Ke.test(l)?Ji(l.slice(2),g?2:8):Y.test(l)?NaN:+l}function HC(l){return $o(l,Ks(l))}function yn(l){return null==l?"":wi(l)}var hM=jo(function(l,c){if(qh(c)||ji(c))$o(c,Ti(c),l);else for(var g in c)tn.call(c,g)&&Hc(l,g,c[g])}),$C=jo(function(l,c){$o(c,Ks(c),l)}),lf=jo(function(l,c,g,v){$o(c,Ks(c),l,v)}),jC=jo(function(l,c,g,v){$o(c,Ti(c),l,v)}),zC=Gs(Al),GC=kt(function(l,c){l=Et(l);var g=-1,v=c.length,b=v>2?c[2]:C;for(b&&Is(c[0],c[1],b)&&(v=1);++g<v;)for(var P=c[g],k=Ks(P),B=-1,z=k.length;++B<z;){var de=k[B],fe=l[de];(fe===C||Go(fe,$s[de])&&!tn.call(l,de))&&(l[de]=P[de])}return l}),XE=kt(function(l){return l.push(C,mo),vi(uy,C,l)});function yg(l,c,g){var v=null==l?C:Bi(l,c);return v===C?g:v}function ly(l,c){return null!=l&&Yu(l,c,Bp)}var JC=m(function(l,c,g){null!=c&&"function"!=typeof c.toString&&(c=Mu.call(c)),l[c]=g},ff(gi)),XC=m(function(l,c,g){null!=c&&"function"!=typeof c.toString&&(c=Mu.call(c)),tn.call(l,c)?l[c].push(g):l[c]=[g]},Le),e0=kt(wa);function Ti(l){return ji(l)?Vp(l):Ct(l)}function Ks(l){return ji(l)?Vp(l,!0):function Dt(l){if(!lr(l))return function fE(l){var c=[];if(null!=l)for(var g in Et(l))c.push(g);return c}(l);var c=qh(l),g=[];for(var v in l)"constructor"==v&&(c||!tn.call(l,v))||g.push(v);return g}(l)}var cf=jo(function(l,c,g){xl(l,c,g)}),uy=jo(function(l,c,g,v){xl(l,c,g,v)}),t0=Gs(function(l,c){var g={};if(null==l)return g;var v=!1;c=cn(c,function(P){return P=Bo(P,l),v||(v=P.length>1),P}),$o(l,xa(l),g),v&&(g=Fi(g,7,Yc));for(var b=c.length;b--;)Fh(g,c[b]);return g}),dy=Gs(function(l,c){return null==l?{}:function Ph(l,c){return Gr(l,c,function(g,v){return ly(l,v)})}(l,c)});function n0(l,c){if(null==l)return{};var g=cn(xa(l),function(v){return[v]});return c=Le(c),Gr(l,g,function(v,b){return c(v,b[0])})}var eS=tt(Ti),Ig=tt(Ks);function yo(l){return null==l?[]:Ru(l,Ti(l))}var py=Nl(function(l,c,g){return c=c.toLowerCase(),l+(g?df(c):c)});function df(l){return hf(yn(l).toLowerCase())}function ws(l){return(l=yn(l))&&l.replace(Bt,Tp).replace(Sn,"")}var sS=Nl(function(l,c,g){return l+(g?"-":"")+c.toLowerCase()}),l0=Nl(function(l,c,g){return l+(g?" ":"")+c.toLowerCase()}),hd=Ol("toLowerCase"),u0=Nl(function(l,c,g){return l+(g?"_":"")+c.toLowerCase()}),fM=Nl(function(l,c,g){return l+(g?" ":"")+hf(c)}),fd=Nl(function(l,c,g){return l+(g?" ":"")+c.toUpperCase()}),hf=Ol("toUpperCase");function Cg(l,c,g){return l=yn(l),(c=g?C:c)===C?function ph(N){return yu.test(N)}(l)?function Ap(N){return N.match(mp)||[]}(l):function gl(N){return N.match(ke)||[]}(l):l.match(c)||[]}var pd=kt(function(l,c){try{return vi(l,C,c)}catch(g){return ud(g)?g:new gt(g)}}),Sg=Gs(function(l,c){return Us(c,function(g){g=Pa(g),Lo(l,g,W_(l[g],l))}),l});function ff(l){return function(){return l}}var mM=O_(),Iy=O_(!0);function gi(l){return l}function Ey(l){return Yt("function"==typeof l?l:Fi(l,1))}var fS=kt(function(l,c){return function(g){return wa(g,l,c)}}),wy=kt(function(l,c){return function(g){return wa(l,g,c)}});function Dg(l,c,g){var v=Ti(c),b=$u(c,v);null==g&&(!lr(c)||!b.length&&v.length)&&(g=c,c=l,l=this,b=$u(c,Ti(c)));var P=!(lr(g)&&"chain"in g&&!g.chain),k=Ma(l);return Us(b,function(B){var z=c[B];l[B]=z,k&&(l.prototype[B]=function(){var de=this.__chain__;if(P||de){var fe=l(this.__wrapped__);return(fe.__actions__=fi(this.__actions__)).push({func:z,args:arguments,thisArg:l}),fe.__chain__=de,fe}return z.apply(l,$t([this.value()],arguments))})}),l}function by(){}var gS=f(cn),xg=f(lo),Ty=f(wu);function f0(l){return dE(l)?Su(Pa(l)):function Vo(l){return function(c){return Bi(c,l)}}(l)}var Cy=D(),Rg=D(!0);function Sy(){return[]}function Pg(){return!1}var md=h(function(l,c){return l+c},0),zi=ge("ceil"),vS=h(function(l,c){return l/c},1),pf=ge("floor"),vM=h(function(l,c){return l*c},1),Dy=ge("round"),_0=h(function(l,c){return l-c},0);return S.after=function lg(l,c){if("function"!=typeof c)throw new Je(rn);return l=Vt(l),function(){if(--l<1)return c.apply(this,arguments)}},S.ary=ug,S.assign=hM,S.assignIn=$C,S.assignInWith=lf,S.assignWith=jC,S.at=zC,S.before=cg,S.bind=W_,S.bindAll=Sg,S.bindKey=jE,S.castArray=function pg(){if(!arguments.length)return[];var l=arguments[0];return Mt(l)?l:[l]},S.chain=ME,S.chunk=function qT(l,c,g){c=(g?Is(l,c,g):c===C)?1:vr(Vt(c),0);var v=null==l?0:l.length;if(!v||c<1)return[];for(var b=0,P=0,k=Z(Ka(v/c));b<v;)k[P++]=Hi(l,b,b+=c);return k},S.compact=function F_(l){for(var c=-1,g=null==l?0:l.length,v=0,b=[];++c<g;){var P=l[c];P&&(b[v++]=P)}return b},S.concat=function Xp(){var l=arguments.length;if(!l)return[];for(var c=Z(l-1),g=arguments[0],v=l;v--;)c[v-1]=arguments[v];return $t(Mt(g)?fi(g):[g],Pr(c,1))},S.cond=function gd(l){var c=null==l?0:l.length,g=Le();return l=c?cn(l,function(v){if("function"!=typeof v[1])throw new Je(rn);return[g(v[0]),v[1]]}):[],kt(function(v){for(var b=-1;++b<c;){var P=l[b];if(vi(P[0],this,v))return vi(P[1],this,v)}})},S.conforms=function vy(l){return function bh(l){var c=Ti(l);return function(g){return jc(g,l,c)}}(Fi(l,1))},S.constant=ff,S.countBy=hC,S.create=function qC(l,c){var g=es(l);return null==c?g:wh(g,c)},S.curry=function dg(l,c,g){var v=xt(l,8,C,C,C,C,C,c=g?C:c);return v.placeholder=dg.placeholder,v},S.curryRight=function K_(l,c,g){var v=xt(l,16,C,C,C,C,C,c=g?C:c);return v.placeholder=K_.placeholder,v},S.debounce=$l,S.defaults=GC,S.defaultsDeep=XE,S.defer=zE,S.delay=qE,S.difference=GT,S.differenceBy=Kh,S.differenceWith=WT,S.drop=function eg(l,c,g){var v=null==l?0:l.length;return v?Hi(l,(c=g||c===C?1:Vt(c))<0?0:c,v):[]},S.dropRight=function KT(l,c,g){var v=null==l?0:l.length;return v?Hi(l,0,(c=v-(c=g||c===C?1:Vt(c)))<0?0:c):[]},S.dropRightWhile=function _E(l,c){return l&&l.length?go(l,Le(c,3),!0,!0):[]},S.dropWhile=function V_(l,c){return l&&l.length?go(l,Le(c,3),!0):[]},S.fill=function tg(l,c,g,v){var b=null==l?0:l.length;return b?(g&&"number"!=typeof g&&Is(l,c,g)&&(g=0,v=b),function Vi(l,c,g,v){var b=l.length;for((g=Vt(g))<0&&(g=-g>b?0:b+g),(v=v===C||v>b?b:Vt(v))<0&&(v+=b),v=g>v?0:BC(v);g<v;)l[g++]=c;return l}(l,c,g,v)):[]},S.filter=function fC(l,c){return(Mt(l)?_r:Ia)(l,Le(c,3))},S.flatMap=function gC(l,c){return Pr(Jh(l,c),1)},S.flatMapDeep=function z_(l,c){return Pr(Jh(l,c),bt)},S.flatMapDepth=function q_(l,c,g){return g=g===C?1:Vt(g),Pr(Jh(l,c),g)},S.flatten=vE,S.flattenDeep=function rd(l){return null!=l&&l.length?Pr(l,bt):[]},S.flattenDepth=function Zh(l,c){return null!=l&&l.length?Pr(l,c=c===C?1:Vt(c)):[]},S.flip=function TC(l){return xt(l,512)},S.flow=mM,S.flowRight=Iy,S.fromPairs=function ZT(l){for(var c=-1,g=null==l?0:l.length,v={};++c<g;){var b=l[c];v[b[0]]=b[1]}return v},S.functions=function QC(l){return null==l?[]:$u(l,Ti(l))},S.functionsIn=function ay(l){return null==l?[]:$u(l,Ks(l))},S.groupBy=mC,S.initial=function YT(l){return null!=l&&l.length?Hi(l,0,-1):[]},S.intersection=tM,S.intersectionBy=JT,S.intersectionWith=XT,S.invert=JC,S.invertBy=XC,S.invokeMap=BE,S.iteratee=Ey,S.keyBy=HE,S.keys=Ti,S.keysIn=Ks,S.map=Jh,S.mapKeys=function uf(l,c){var g={};return c=Le(c,3),po(l,function(v,b,P){Lo(g,c(v,b,P),v)}),g},S.mapValues=function xe(l,c){var g={};return c=Le(c,3),po(l,function(v,b,P){Lo(g,b,c(v,b,P))}),g},S.matches=function h0(l){return Dl(Fi(l,1))},S.matchesProperty=function hS(l,c){return ns(l,Fi(c,1))},S.memoize=Z_,S.merge=cf,S.mergeWith=uy,S.method=fS,S.methodOf=wy,S.mixin=Dg,S.negate=ec,S.nthArg=function _M(l){return l=Vt(l),kt(function(c){return Wc(c,l)})},S.omit=t0,S.omitBy=function cy(l,c){return n0(l,ec(Le(c)))},S.once=function CC(l){return cg(2,l)},S.orderBy=function ad(l,c,g,v){return null==l?[]:(Mt(c)||(c=null==c?[]:[c]),Mt(g=v?C:g)||(g=null==g?[]:[g]),Rh(l,c,g))},S.over=gS,S.overArgs=GE,S.overEvery=xg,S.overSome=Ty,S.partial=hg,S.partialRight=Q_,S.partition=og,S.pick=dy,S.pickBy=n0,S.property=f0,S.propertyOf=function p0(l){return function(c){return null==l?C:Bi(l,c)}},S.pull=wE,S.pullAll=nC,S.pullAllBy=function bE(l,c,g){return l&&l.length&&c&&c.length?zu(l,c,Le(g,2)):l},S.pullAllWith=function nM(l,c,g){return l&&l.length&&c&&c.length?zu(l,c,C,g):l},S.pullAt=rC,S.range=Cy,S.rangeRight=Rg,S.rearg=Y_,S.reject=function ag(l,c){return(Mt(l)?_r:Ia)(l,ec(Le(c,3)))},S.remove=function iC(l,c){var g=[];if(!l||!l.length)return g;var v=-1,b=[],P=l.length;for(c=Le(c,3);++v<P;){var k=l[v];c(k,v,l)&&(g.push(k),b.push(v))}return Ca(l,b),g},S.rest=function WE(l,c){if("function"!=typeof l)throw new Je(rn);return kt(l,c=c===C?c:Vt(c))},S.reverse=Qh,S.sampleSize=function vC(l,c,g){return c=(g?Is(l,c,g):c===C)?1:Vt(c),(Mt(l)?T_:Mh)(l,c)},S.set=function s0(l,c,g){return null==l?l:Qa(l,c,g)},S.setWith=function vg(l,c,g,v){return v="function"==typeof v?v:C,null==l?l:Qa(l,c,g,v)},S.shuffle=function IC(l){return(Mt(l)?Up:P_)(l)},S.slice=function rM(l,c,g){var v=null==l?0:l.length;return v?(g&&"number"!=typeof g&&Is(l,c,g)?(c=0,g=v):(c=null==c?0:Vt(c),g=g===C?v:Vt(g)),Hi(l,c,g)):[]},S.sortBy=bC,S.sortedUniq=function uM(l){return l&&l.length?kh(l):[]},S.sortedUniqBy=function sC(l,c){return l&&l.length?kh(l,Le(c,2)):[]},S.split=function vo(l,c,g){return g&&"number"!=typeof g&&Is(l,c,g)&&(c=g=C),(g=g===C?te:g>>>0)?(l=yn(l))&&("string"==typeof c||null!=c&&!JE(c))&&!(c=wi(c))&&_l(l)?qs(qr(l),0,g):l.split(c,g):[]},S.spread=function fg(l,c){if("function"!=typeof l)throw new Je(rn);return c=null==c?0:vr(Vt(c),0),kt(function(g){var v=g[c],b=qs(g,0,c);return v&&$t(b,v),vi(l,this,b)})},S.tail=function ng(l){var c=null==l?0:l.length;return c?Hi(l,1,c):[]},S.take=function rg(l,c,g){return l&&l.length?Hi(l,0,(c=g||c===C?1:Vt(c))<0?0:c):[]},S.takeRight=function TE(l,c,g){var v=null==l?0:l.length;return v?Hi(l,(c=v-(c=g||c===C?1:Vt(c)))<0?0:c,v):[]},S.takeRightWhile=function CE(l,c){return l&&l.length?go(l,Le(c,3),!1,!0):[]},S.takeWhile=function SE(l,c){return l&&l.length?go(l,Le(c,3)):[]},S.tap=function Es(l,c){return c(l),l},S.throttle=function ef(l,c,g){var v=!0,b=!0;if("function"!=typeof l)throw new Je(rn);return lr(g)&&(v="leading"in g?!!g.leading:v,b="trailing"in g?!!g.trailing:b),$l(l,c,{leading:v,maxWait:c,trailing:b})},S.thru=sd,S.toArray=iy,S.toPairs=eS,S.toPairsIn=Ig,S.toPath=function Mg(l){return Mt(l)?cn(l,Pa):Ws(l)?[l]:fi(gE(yn(l)))},S.toPlainObject=HC,S.transform=function tS(l,c,g){var v=Mt(l),b=v||zl(l)||cd(l);if(c=Le(c,4),null==g){var P=l&&l.constructor;g=b?v?new P:[]:lr(l)&&Ma(P)?es(El(l)):{}}return(b?Us:po)(l,function(k,B,z){return c(g,k,B,z)}),g},S.unary=function KE(l){return ug(l,1)},S.union=id,S.unionBy=AE,S.unionWith=DE,S.uniq=function ig(l){return l&&l.length?Aa(l):[]},S.uniqBy=function sg(l,c){return l&&l.length?Aa(l,Le(c,2)):[]},S.uniqWith=function Hl(l,c){return c="function"==typeof c?c:C,l&&l.length?Aa(l,C,c):[]},S.unset=function hy(l,c){return null==l||Fh(l,c)},S.unzip=H_,S.unzipWith=xE,S.update=function o0(l,c,g){return null==l?l:hi(l,c,Uh(g))},S.updateWith=function a0(l,c,g,v){return v="function"==typeof v?v:C,null==l?l:hi(l,c,Uh(g),v)},S.values=yo,S.valuesIn=function nS(l){return null==l?[]:Ru(l,Ks(l))},S.without=oC,S.words=Cg,S.wrap=function J_(l,c){return hg(Uh(c),l)},S.xor=RE,S.xorBy=$_,S.xorWith=aC,S.zip=lC,S.zipObject=function uC(l,c){return zp(l||[],c||[],Hc)},S.zipObjectDeep=function PE(l,c){return zp(l||[],c||[],Qa)},S.zipWith=cC,S.entries=eS,S.entriesIn=Ig,S.extend=$C,S.extendWith=lf,Dg(S,S),S.add=md,S.attempt=pd,S.camelCase=py,S.capitalize=df,S.ceil=zi,S.clamp=function fy(l,c,g){return g===C&&(g=c,c=C),g!==C&&(g=(g=Wo(g))==g?g:0),c!==C&&(c=(c=Wo(c))==c?c:0),ya(Wo(l),c,g)},S.clone=function ZE(l){return Fi(l,4)},S.cloneDeep=function tf(l){return Fi(l,5)},S.cloneDeepWith=function SC(l,c){return Fi(l,5,c="function"==typeof c?c:C)},S.cloneWith=function X_(l,c){return Fi(l,4,c="function"==typeof c?c:C)},S.conformsTo=function QE(l,c){return null==c||jc(l,c,Ti(c))},S.deburr=ws,S.defaultTo=function Ag(l,c){return null==l||l!=l?c:l},S.divide=vS,S.endsWith=function wg(l,c,g){l=yn(l),c=wi(c);var v=l.length,b=g=g===C?v:ya(Vt(g),0,v);return(g-=c.length)>=0&&l.slice(g,b)==c},S.eq=Go,S.escape=function gy(l){return(l=yn(l))&&oa.test(l)?l.replace(Ri,fh):l},S.escapeRegExp=function iS(l){return(l=yn(l))&&V.test(l)?l.replace(T,"\\$&"):l},S.every=function FE(l,c,g){var v=Mt(l)?lo:Th;return g&&Is(l,c,g)&&(c=C),v(l,Le(c,3))},S.find=VE,S.findIndex=U_,S.findKey=function _g(l,c){return Tu(l,Le(c,3),po)},S.findLast=pC,S.findLastIndex=yE,S.findLastKey=function WC(l,c){return Tu(l,Le(c,3),Hu)},S.floor=pf,S.forEach=UE,S.forEachRight=od,S.forIn=function oy(l,c){return null==l?l:Ea(l,Le(c,3),Ks)},S.forInRight=function KC(l,c){return null==l?l:Ui(l,Le(c,3),Ks)},S.forOwn=function dd(l,c){return l&&po(l,Le(c,3))},S.forOwnRight=function ZC(l,c){return l&&Hu(l,Le(c,3))},S.get=yg,S.gt=AC,S.gte=DC,S.has=function YC(l,c){return null!=l&&Yu(l,c,qc)},S.hasIn=ly,S.head=QT,S.identity=gi,S.includes=function _C(l,c,g,v){l=ji(l)?l:yo(l),g=g&&!v?Vt(g):0;var b=l.length;return g<0&&(g=vr(b+g,0)),sf(l)?g<=b&&l.indexOf(c,g)>-1:!!b&&Ro(l,c,g)>-1},S.indexOf=function IE(l,c,g){var v=null==l?0:l.length;if(!v)return-1;var b=null==g?0:Vt(g);return b<0&&(b=vr(v+b,0)),Ro(l,c,b)},S.inRange=function Eg(l,c,g){return c=Oa(c),g===C?(g=c,c=0):g=Oa(g),function Sh(l,c,g){return l>=Ir(c,g)&&l<vr(c,g)}(l=Wo(l),c,g)},S.invoke=e0,S.isArguments=jl,S.isArray=Mt,S.isArrayBuffer=gg,S.isArrayLike=ji,S.isArrayLikeObject=Wn,S.isBoolean=function xC(l){return!0===l||!1===l||Or(l)&&ti(l)==Re},S.isBuffer=zl,S.isDate=cM,S.isElement=function RC(l){return Or(l)&&1===l.nodeType&&!mg(l)},S.isEmpty=function ey(l){if(null==l)return!0;if(ji(l)&&(Mt(l)||"string"==typeof l||"function"==typeof l.splice||zl(l)||cd(l)||jl(l)))return!l.length;var c=Hr(l);if(c==En||c==Dr)return!l.size;if(qh(l))return!Ct(l).length;for(var g in l)if(tn.call(l,g))return!1;return!0},S.isEqual=function PC(l,c){return ba(l,c)},S.isEqualWith=function ld(l,c,g){var v=(g="function"==typeof g?g:C)?g(l,c):C;return v===C?ba(l,c,C,g):!!v},S.isError=ud,S.isFinite=function ty(l){return"number"==typeof l&&m_(l)},S.isFunction=Ma,S.isInteger=ny,S.isLength=nf,S.isMap=YE,S.isMatch=function MC(l,c){return l===c||Gc(l,c,zh(c))},S.isMatchWith=function OC(l,c,g){return g="function"==typeof g?g:C,Gc(l,c,zh(c),g)},S.isNaN=function NC(l){return LC(l)&&l!=+l},S.isNative=function ql(l){if(ni(l))throw new gt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Dh(l)},S.isNil=function kC(l){return null==l},S.isNull=function rf(l){return null===l},S.isNumber=LC,S.isObject=lr,S.isObjectLike=Or,S.isPlainObject=mg,S.isRegExp=JE,S.isSafeInteger=function dM(l){return ny(l)&&l>=-Ar&&l<=Ar},S.isSet=FC,S.isString=sf,S.isSymbol=Ws,S.isTypedArray=cd,S.isUndefined=function VC(l){return l===C},S.isWeakMap=function UC(l){return Or(l)&&Hr(l)==xr},S.isWeakSet=function ry(l){return Or(l)&&"[object WeakSet]"==ti(l)},S.join=function eC(l,c){return null==l?"":UT.call(l,c)},S.kebabCase=sS,S.last=rs,S.lastIndexOf=function EE(l,c,g){var v=null==l?0:l.length;if(!v)return-1;var b=v;return g!==C&&(b=(b=Vt(g))<0?vr(v+b,0):Ir(b,v-1)),c==c?function Br(N,K,Z){for(var Pe=Z+1;Pe--;)if(N[Pe]===K)return Pe;return Pe}(l,c,b):ui(l,Cu,b,!0)},S.lowerCase=l0,S.lowerFirst=hd,S.lt=Ja,S.lte=af,S.max=function Ko(l){return l&&l.length?Fo(l,gi,zc):C},S.maxBy=function IS(l,c){return l&&l.length?Fo(l,Le(c,2),zc):C},S.mean=function ES(l){return Po(l,gi)},S.meanBy=function _d(l,c){return Po(l,Le(c,2))},S.min=function m0(l){return l&&l.length?Fo(l,gi,Er):C},S.minBy=function Ay(l,c){return l&&l.length?Fo(l,Le(c,2),Er):C},S.stubArray=Sy,S.stubFalse=Pg,S.stubObject=function mS(){return{}},S.stubString=function g0(){return""},S.stubTrue=function yM(){return!0},S.multiply=vM,S.nth=function tC(l,c){return l&&l.length?Wc(l,Vt(c)):C},S.noConflict=function pS(){return Nn._===this&&(Nn._=Mo),this},S.noop=by,S.now=Xh,S.pad=function oS(l,c,g){l=yn(l);var v=(c=Vt(c))?Rr(l):0;if(!c||v>=c)return l;var b=(c-v)/2;return _(Xi(b),g)+l+_(Ka(b),g)},S.padEnd=function aS(l,c,g){l=yn(l);var v=(c=Vt(c))?Rr(l):0;return c&&v<c?l+_(c-v,g):l},S.padStart=function lS(l,c,g){l=yn(l);var v=(c=Vt(c))?Rr(l):0;return c&&v<c?_(c-v,g)+l:l},S.parseInt=function my(l,c,g){return g||null==c?c=0:c&&(c=+c),rE(yn(l).replace(se,""),c||0)},S.random=function rS(l,c,g){if(g&&"boolean"!=typeof g&&Is(l,c,g)&&(c=g=C),g===C&&("boolean"==typeof c?(g=c,c=C):"boolean"==typeof l&&(g=l,l=C)),l===C&&c===C?(l=0,c=1):(l=Oa(l),c===C?(c=l,l=0):c=Oa(c)),l>c){var v=l;l=c,c=v}if(g||l%1||c%1){var b=__();return Ir(l+b*(c-l+Ac("1e-"+((b+"").length-1))),c)}return vs(l,c)},S.reduce=function $E(l,c,g){var v=Mt(l)?pl:bp,b=arguments.length<3;return v(l,Le(c,4),g,b,ys)},S.reduceRight=function G_(l,c,g){var v=Mt(l)?la:bp,b=arguments.length<3;return v(l,Le(c,4),g,b,wn)},S.repeat=function bg(l,c,g){return c=(g?Is(l,c,g):c===C)?1:Vt(c),qu(yn(l),c)},S.replace=function uS(){var l=arguments,c=yn(l[0]);return l.length<3?c:c.replace(l[1],l[2])},S.result=function r0(l,c,g){var v=-1,b=(c=Bo(c,l)).length;for(b||(b=1,l=C);++v<b;){var P=null==l?C:l[Pa(c[v])];P===C&&(v=b,P=g),l=Ma(P)?P.call(l):P}return l},S.round=Dy,S.runInContext=N,S.sample=function yC(l){return(Mt(l)?Bu:R_)(l)},S.size=function EC(l){if(null==l)return 0;if(ji(l))return sf(l)?Rr(l):l.length;var c=Hr(l);return c==En||c==Dr?l.size:Ct(l).length},S.snakeCase=u0,S.some=function wC(l,c,g){var v=Mt(l)?wu:Nh;return g&&Is(l,c,g)&&(c=C),v(l,Le(c,3))},S.sortedIndex=function iM(l,c){return Sa(l,c)},S.sortedIndexBy=function B_(l,c,g){return Kc(l,c,Le(g,2))},S.sortedIndexOf=function sM(l,c){var g=null==l?0:l.length;if(g){var v=Sa(l,c);if(v<g&&Go(l[v],c))return v}return-1},S.sortedLastIndex=function oM(l,c){return Sa(l,c,!0)},S.sortedLastIndexBy=function aM(l,c,g){return Kc(l,c,Le(g,2),!0)},S.sortedLastIndexOf=function lM(l,c){if(null!=l&&l.length){var v=Sa(l,c,!0)-1;if(Go(l[v],c))return v}return-1},S.startCase=fM,S.startsWith=function c0(l,c,g){return l=yn(l),g=null==g?0:ya(Vt(g),0,l.length),c=wi(c),l.slice(g,g+c.length)==c},S.subtract=_0,S.sum=function wS(l){return l&&l.length?Du(l,gi):0},S.sumBy=function bS(l,c){return l&&l.length?Du(l,Le(c,2)):0},S.template=function d0(l,c,g){var v=S.templateSettings;g&&Is(l,c,g)&&(c=C),l=yn(l),c=lf({},c,v,pi);var B,z,b=lf({},c.imports,v.imports,pi),P=Ti(b),k=Ru(b,P),de=0,fe=c.interpolate||W,we="__p += '",Se=_s((c.escape||W).source+"|"+fe.source+"|"+(fe===U?zr:W).source+"|"+(c.evaluate||W).source+"|$","g"),Qe="//# sourceURL="+(tn.call(c,"sourceURL")?(c.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++vu+"]")+"\n";l.replace(Se,function(yt,Xt,nt,bs,is,Io){return nt||(nt=bs),we+=l.slice(de,Io).replace(mr,Cp),Xt&&(B=!0,we+="' +\n__e("+Xt+") +\n'"),is&&(z=!0,we+="';\n"+is+";\n__p += '"),nt&&(we+="' +\n((__t = ("+nt+")) == null ? '' : __t) +\n'"),de=Io+yt.length,yt}),we+="';\n";var _t=tn.call(c,"variable")&&c.variable;if(_t){if(Cn.test(_t))throw new gt("Invalid `variable` option passed into `_.template`")}else we="with (obj) {\n"+we+"\n}\n";we=(z?we.replace(Fs,""):we).replace(Fr,"$1").replace(Vr,"$1;"),we="function("+(_t||"obj")+") {\n"+(_t?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(B?", __e = _.escape":"")+(z?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+we+"return __p\n}";var Jt=pd(function(){return mt(P,Qe+"return "+we).apply(C,k)});if(Jt.source=we,ud(Jt))throw Jt;return Jt},S.times=function _S(l,c){if((l=Vt(l))<1||l>Ar)return[];var g=te,v=Ir(l,te);c=Le(c),l-=te;for(var b=xu(v,c);++g<l;)c(g);return b},S.toFinite=Oa,S.toInteger=Vt,S.toLength=BC,S.toLower=function cS(l){return yn(l).toLowerCase()},S.toNumber=Wo,S.toSafeInteger=function sy(l){return l?ya(Vt(l),-Ar,Ar):0===l?l:0},S.toString=yn,S.toUpper=function pM(l){return yn(l).toUpperCase()},S.trim=function gM(l,c,g){if((l=yn(l))&&(g||c===C))return Rc(l);if(!l||!(c=wi(c)))return l;var v=qr(l),b=qr(c);return qs(v,Pc(v,b),Pu(v,b)+1).join("")},S.trimEnd=function Tg(l,c,g){if((l=yn(l))&&(g||c===C))return l.slice(0,ki(l)+1);if(!l||!(c=wi(c)))return l;var v=qr(l);return qs(v,0,Pu(v,qr(c))+1).join("")},S.trimStart=function dS(l,c,g){if((l=yn(l))&&(g||c===C))return l.replace(se,"");if(!l||!(c=wi(c)))return l;var v=qr(l);return qs(v,Pc(v,qr(c))).join("")},S.truncate=function _y(l,c){var g=30,v="...";if(lr(c)){var b="separator"in c?c.separator:b;g="length"in c?Vt(c.length):g,v="omission"in c?wi(c.omission):v}var P=(l=yn(l)).length;if(_l(l)){var k=qr(l);P=k.length}if(g>=P)return l;var B=g-Rr(v);if(B<1)return v;var z=k?qs(k,0,B).join(""):l.slice(0,B);if(b===C)return z+v;if(k&&(B+=z.length-B),JE(b)){if(l.slice(B).search(b)){var de,fe=z;for(b.global||(b=_s(b.source,yn(aa.exec(b))+"g")),b.lastIndex=0;de=b.exec(fe);)var we=de.index;z=z.slice(0,we===C?B:we)}}else if(l.indexOf(wi(b),B)!=B){var Se=z.lastIndexOf(b);Se>-1&&(z=z.slice(0,Se))}return z+v},S.unescape=function yy(l){return(l=yn(l))&&cl.test(l)?l.replace(ai,Oc):l},S.uniqueId=function yS(l){var c=++uo;return yn(l)+c},S.upperCase=fd,S.upperFirst=hf,S.each=UE,S.eachRight=od,S.first=QT,Dg(S,function(){var l={};return po(S,function(c,g){tn.call(S.prototype,g)||(l[g]=c)}),l}(),{chain:!1}),S.VERSION="4.17.21",Us(["bind","bindKey","curry","curryRight","partial","partialRight"],function(l){S[l].placeholder=S}),Us(["drop","take"],function(l,c){Qt.prototype[l]=function(g){g=g===C?1:vr(Vt(g),0);var v=this.__filtered__&&!c?new Qt(this):this.clone();return v.__filtered__?v.__takeCount__=Ir(g,v.__takeCount__):v.__views__.push({size:Ir(g,te),type:l+(v.__dir__<0?"Right":"")}),v},Qt.prototype[l+"Right"]=function(g){return this.reverse()[l](g).reverse()}}),Us(["filter","map","takeWhile"],function(l,c){var g=c+1,v=1==g||3==g;Qt.prototype[l]=function(b){var P=this.clone();return P.__iteratees__.push({iteratee:Le(b,3),type:g}),P.__filtered__=P.__filtered__||v,P}}),Us(["head","last"],function(l,c){var g="take"+(c?"Right":"");Qt.prototype[l]=function(){return this[g](1).value()[0]}}),Us(["initial","tail"],function(l,c){var g="drop"+(c?"":"Right");Qt.prototype[l]=function(){return this.__filtered__?new Qt(this):this[g](1)}}),Qt.prototype.compact=function(){return this.filter(gi)},Qt.prototype.find=function(l){return this.filter(l).head()},Qt.prototype.findLast=function(l){return this.reverse().find(l)},Qt.prototype.invokeMap=kt(function(l,c){return"function"==typeof l?new Qt(this):this.map(function(g){return wa(g,l,c)})}),Qt.prototype.reject=function(l){return this.filter(ec(Le(l)))},Qt.prototype.slice=function(l,c){l=Vt(l);var g=this;return g.__filtered__&&(l>0||c<0)?new Qt(g):(l<0?g=g.takeRight(-l):l&&(g=g.drop(l)),c!==C&&(g=(c=Vt(c))<0?g.dropRight(-c):g.take(c-l)),g)},Qt.prototype.takeRightWhile=function(l){return this.reverse().takeWhile(l).reverse()},Qt.prototype.toArray=function(){return this.take(te)},po(Qt.prototype,function(l,c){var g=/^(?:filter|find|map|reject)|While$/.test(c),v=/^(?:head|last)$/.test(c),b=S[v?"take"+("last"==c?"Right":""):c],P=v||/^find/.test(c);b&&(S.prototype[c]=function(){var k=this.__wrapped__,B=v?[1]:arguments,z=k instanceof Qt,de=B[0],fe=z||Mt(k),we=function(Xt){var nt=b.apply(S,$t([Xt],B));return v&&Se?nt[0]:nt};fe&&g&&"function"==typeof de&&1!=de.length&&(z=fe=!1);var Se=this.__chain__,_t=P&&!Se,Jt=z&&!this.__actions__.length;if(!P&&fe){k=Jt?k:new Qt(this);var yt=l.apply(k,B);return yt.__actions__.push({func:sd,args:[we],thisArg:C}),new hn(yt,Se)}return _t&&Jt?l.apply(this,B):(yt=this.thru(we),_t?v?yt.value()[0]:yt.value():yt)})}),Us(["pop","push","shift","sort","splice","unshift"],function(l){var c=ua[l],g=/^(?:push|sort|unshift)$/.test(l)?"tap":"thru",v=/^(?:pop|shift)$/.test(l);S.prototype[l]=function(){var b=arguments;if(v&&!this.__chain__){var P=this.value();return c.apply(Mt(P)?P:[],b)}return this[g](function(k){return c.apply(Mt(k)?k:[],b)})}}),po(Qt.prototype,function(l,c){var g=S[c];if(g){var v=g.name+"";tn.call(ha,v)||(ha[v]=[]),ha[v].push({name:c,func:g})}}),ha[Qc(C,2).name]=[{name:"wrapper",func:C}],Qt.prototype.clone=function Vc(){var l=new Qt(this.__wrapped__);return l.__actions__=fi(this.__actions__),l.__dir__=this.__dir__,l.__filtered__=this.__filtered__,l.__iteratees__=fi(this.__iteratees__),l.__takeCount__=this.__takeCount__,l.__views__=fi(this.__views__),l},Qt.prototype.reverse=function Pp(){if(this.__filtered__){var l=new Qt(this);l.__dir__=-1,l.__filtered__=!0}else(l=this.clone()).__dir__*=-1;return l},Qt.prototype.value=function Fu(){var l=this.__wrapped__.value(),c=this.__dir__,g=Mt(l),v=c<0,b=g?l.length:0,P=function uE(l,c,g){for(var v=-1,b=g.length;++v<b;){var P=g[v],k=P.size;switch(P.type){case"drop":l+=k;break;case"dropRight":c-=k;break;case"take":c=Ir(c,l+k);break;case"takeRight":l=vr(l,c-k)}}return{start:l,end:c}}(0,b,this.__views__),k=P.start,B=P.end,z=B-k,de=v?B:k-1,fe=this.__iteratees__,we=fe.length,Se=0,Qe=Ir(z,this.__takeCount__);if(!g||!v&&b==z&&Qe==z)return Ln(l,this.__actions__);var _t=[];e:for(;z--&&Se<Qe;){for(var Jt=-1,yt=l[de+=c];++Jt<we;){var Xt=fe[Jt],bs=Xt.type,is=(0,Xt.iteratee)(yt);if(2==bs)yt=is;else if(!is){if(1==bs)continue e;break e}}_t[Se++]=yt}return _t},S.prototype.at=OE,S.prototype.chain=function j_(){return ME(this)},S.prototype.commit=function $i(){return new hn(this.value(),this.__chain__)},S.prototype.next=function Yh(){this.__values__===C&&(this.__values__=iy(this.value()));var l=this.__index__>=this.__values__.length;return{done:l,value:l?C:this.__values__[this.__index__++]}},S.prototype.plant=function kE(l){for(var c,g=this;g instanceof Ei;){var v=mE(g);v.__index__=0,v.__values__=C,c?b.__wrapped__=v:c=v;var b=v;g=g.__wrapped__}return b.__wrapped__=l,c},S.prototype.reverse=function dC(){var l=this.__wrapped__;if(l instanceof Qt){var c=l;return this.__actions__.length&&(c=new Qt(this)),(c=c.reverse()).__actions__.push({func:sd,args:[Qh],thisArg:C}),new hn(c,this.__chain__)}return this.thru(Qh)},S.prototype.toJSON=S.prototype.valueOf=S.prototype.value=function LE(){return Ln(this.__wrapped__,this.__actions__)},S.prototype.first=S.prototype.head,yr&&(S.prototype[yr]=function NE(){return this}),S}();Nn._=Bn,(O=function(){return Bn}.call(Qn,ot,Qn,oi))!==C&&(oi.exports=O)}.call(this)},106:(oi,Qn,ot)=>{"use strict";ot.d(Qn,{Z:()=>ir});var O=ot(58),C=ot(537),q=ot(534),Ge=ot(879);class un{constructor(at,It){this._delegate=at,this.firebase=It,(0,q._addComponent)(at,new C.wA("app-compat",()=>this,"PUBLIC")),this.container=at.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(at){this._delegate.automaticDataCollectionEnabled=at}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(at=>{this._delegate.checkDestroyed(),at()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,q.deleteApp)(this._delegate)))}_getService(at,It=q._DEFAULT_ENTRY_NAME){var An;this._delegate.checkDestroyed();const Dn=this._delegate.container.getProvider(at);return!Dn.isInitialized()&&"EXPLICIT"===(null===(An=Dn.getComponent())||void 0===An?void 0:An.instantiationMode)&&Dn.initialize(),Dn.getImmediate({identifier:It})}_removeServiceInstance(at,It=q._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(at).clearInstance(It)}_addComponent(at){(0,q._addComponent)(this._delegate,at)}_addOrOverwriteComponent(at){(0,q._addOrOverwriteComponent)(this._delegate,at)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const pr=new O.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ae=function sn(){const vt=function Tn(vt){const at={},It={__esModule:!0,initializeApp:function wt(Pt,Ee={}){const nn=q.initializeApp(Pt,Ee);if((0,O.r3)(at,nn.name))return at[nn.name];const Fn=new vt(nn,It);return at[nn.name]=Fn,Fn},app:Dn,registerVersion:q.registerVersion,setLogLevel:q.setLogLevel,onLog:q.onLog,apps:null,SDK_VERSION:q.SDK_VERSION,INTERNAL:{registerComponent:function gr(Pt){const Ee=Pt.name,nn=Ee.replace("-compat","");if(q._registerComponent(Pt)&&"PUBLIC"===Pt.type){const Fn=(sr=Dn())=>{if("function"!=typeof sr[nn])throw pr.create("invalid-app-argument",{appName:Ee});return sr[nn]()};void 0!==Pt.serviceProps&&(0,O.ZB)(Fn,Pt.serviceProps),It[nn]=Fn,vt.prototype[nn]=function(...sr){return this._getService.bind(this,Ee).apply(this,Pt.multipleInstances?sr:[])}}return"PUBLIC"===Pt.type?It[nn]:null},removeApp:function An(Pt){delete at[Pt]},useAsService:function zn(Pt,Ee){return"serverAuth"===Ee?null:Ee},modularAPIs:q}};function Dn(Pt){if(!(0,O.r3)(at,Pt=Pt||q._DEFAULT_ENTRY_NAME))throw pr.create("no-app",{appName:Pt});return at[Pt]}return It.default=It,Object.defineProperty(It,"apps",{get:function on(){return Object.keys(at).map(Pt=>at[Pt])}}),Dn.App=vt,It}(un);return vt.INTERNAL=Object.assign(Object.assign({},vt.INTERNAL),{createFirebaseNamespace:sn,extendNamespace:function at(It){(0,O.ZB)(vt,It)},createSubscribe:O.ne,ErrorFactory:O.LL,deepExtend:O.ZB}),vt}(),me=new Ge.Yd("@firebase/app-compat");if((0,O.jU)()&&void 0!==self.firebase){me.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const vt=self.firebase.SDK_VERSION;vt&&vt.indexOf("LITE")>=0&&me.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ir=ae;!function zt(vt){(0,q.registerVersion)("@firebase/app-compat","0.2.23",vt)}()},534:(oi,Qn,ot)=>{"use strict";ot.r(Qn),ot.d(Qn,{FirebaseError:()=>Ge.ZR,SDK_VERSION:()=>ps,_DEFAULT_ENTRY_NAME:()=>xi,_addComponent:()=>Xr,_addOrOverwriteComponent:()=>jr,_apps:()=>xr,_clearComponents:()=>Jn,_components:()=>Yi,_getProvider:()=>pn,_registerComponent:()=>Lr,_removeServiceInstance:()=>yi,deleteApp:()=>Vr,getApp:()=>Fs,getApps:()=>Fr,initializeApp:()=>gs,onLog:()=>cl,registerVersion:()=>Ri,setLogLevel:()=>oa});var O=ot(861),C=ot(537),q=ot(879),Ge=ot(58);const un=(Y,j)=>j.some(ve=>Y instanceof ve);let rn,pr;const ae=new WeakMap,me=new WeakMap,We=new WeakMap,pt=new WeakMap,zt=new WeakMap;let at={get(Y,j,ve){if(Y instanceof IDBTransaction){if("done"===j)return me.get(Y);if("objectStoreNames"===j)return Y.objectStoreNames||We.get(Y);if("store"===j)return ve.objectStoreNames[1]?void 0:ve.objectStore(ve.objectStoreNames[0])}return wt(Y[j])},set:(Y,j,ve)=>(Y[j]=ve,!0),has:(Y,j)=>Y instanceof IDBTransaction&&("done"===j||"store"===j)||j in Y};function Dn(Y){return"function"==typeof Y?function An(Y){return Y!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function sn(){return pr||(pr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Y)?function(...j){return Y.apply(on(this),j),wt(ae.get(this))}:function(...j){return wt(Y.apply(on(this),j))}:function(j,...ve){const Ke=Y.call(on(this),j,...ve);return We.set(Ke,j.sort?j.sort():[j]),wt(Ke)}}(Y):(Y instanceof IDBTransaction&&function vt(Y){if(me.has(Y))return;const j=new Promise((ve,Ke)=>{const Ft=()=>{Y.removeEventListener("complete",Bt),Y.removeEventListener("error",W),Y.removeEventListener("abort",W)},Bt=()=>{ve(),Ft()},W=()=>{Ke(Y.error||new DOMException("AbortError","AbortError")),Ft()};Y.addEventListener("complete",Bt),Y.addEventListener("error",W),Y.addEventListener("abort",W)});me.set(Y,j)}(Y),un(Y,function Tn(){return rn||(rn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Y,at):Y)}function wt(Y){if(Y instanceof IDBRequest)return function ir(Y){const j=new Promise((ve,Ke)=>{const Ft=()=>{Y.removeEventListener("success",Bt),Y.removeEventListener("error",W)},Bt=()=>{ve(wt(Y.result)),Ft()},W=()=>{Ke(Y.error),Ft()};Y.addEventListener("success",Bt),Y.addEventListener("error",W)});return j.then(ve=>{ve instanceof IDBCursor&&ae.set(ve,Y)}).catch(()=>{}),zt.set(j,Y),j}(Y);if(pt.has(Y))return pt.get(Y);const j=Dn(Y);return j!==Y&&(pt.set(Y,j),zt.set(j,Y)),j}const on=Y=>zt.get(Y),Pt=["get","getKey","getAll","getAllKeys","count"],Ee=["put","add","delete","clear"],nn=new Map;function Fn(Y,j){if(!(Y instanceof IDBDatabase)||j in Y||"string"!=typeof j)return;if(nn.get(j))return nn.get(j);const ve=j.replace(/FromIndex$/,""),Ke=j!==ve,Ft=Ee.includes(ve);if(!(ve in(Ke?IDBIndex:IDBObjectStore).prototype)||!Ft&&!Pt.includes(ve))return;const Bt=function(){var W=(0,O.Z)(function*(mr,...Be){const Wt=this.transaction(mr,Ft?"readwrite":"readonly");let pu=Wt.store;return Ke&&(pu=pu.index(Be.shift())),(yield Promise.all([pu[ve](...Be),Ft&&Wt.done]))[0]});return function(Be){return W.apply(this,arguments)}}();return nn.set(j,Bt),Bt}!function It(Y){at=Y(at)}(Y=>({...Y,get:(j,ve,Ke)=>Fn(j,ve)||Y.get(j,ve,Ke),has:(j,ve)=>!!Fn(j,ve)||Y.has(j,ve)}));class sr{constructor(j){this.container=j}getPlatformInfoString(){return this.container.getProviders().map(ve=>{if(function or(Y){const j=Y.getComponent();return"VERSION"===j?.type}(ve)){const Ke=ve.getImmediate();return`${Ke.library}/${Ke.version}`}return null}).filter(ve=>ve).join(" ")}}const Ns="@firebase/app",bt=new q.Yd("@firebase/app"),xi="[DEFAULT]",Ls={[Ns]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},xr=new Map,Yi=new Map;function Xr(Y,j){try{Y.container.addComponent(j)}catch(ve){bt.debug(`Component ${j.name} failed to register with FirebaseApp ${Y.name}`,ve)}}function jr(Y,j){Y.container.addOrOverwriteComponent(j)}function Lr(Y){const j=Y.name;if(Yi.has(j))return bt.debug(`There were multiple attempts to register component ${j}.`),!1;Yi.set(j,Y);for(const ve of xr.values())Xr(ve,Y);return!0}function pn(Y,j){const ve=Y.container.getProvider("heartbeat").getImmediate({optional:!0});return ve&&ve.triggerHeartbeat(),Y.container.getProvider(j)}function yi(Y,j,ve=xi){pn(Y,j).clearInstance(ve)}function Jn(){Yi.clear()}const Vn=new Ge.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Xn{constructor(j,ve,Ke){this._isDeleted=!1,this._options=Object.assign({},j),this._config=Object.assign({},ve),this._name=ve.name,this._automaticDataCollectionEnabled=ve.automaticDataCollectionEnabled,this._container=Ke,this.container.addComponent(new C.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(j){this.checkDestroyed(),this._automaticDataCollectionEnabled=j}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(j){this._isDeleted=j}checkDestroyed(){if(this.isDeleted)throw Vn.create("app-deleted",{appName:this._name})}}const ps="10.6.0";function gs(Y,j={}){let ve=Y;"object"!=typeof j&&(j={name:j});const Ke=Object.assign({name:xi,automaticDataCollectionEnabled:!1},j),Ft=Ke.name;if("string"!=typeof Ft||!Ft)throw Vn.create("bad-app-name",{appName:String(Ft)});if(ve||(ve=(0,Ge.aH)()),!ve)throw Vn.create("no-options");const Bt=xr.get(Ft);if(Bt){if((0,Ge.vZ)(ve,Bt.options)&&(0,Ge.vZ)(Ke,Bt.config))return Bt;throw Vn.create("duplicate-app",{appName:Ft})}const W=new C.H0(Ft);for(const Be of Yi.values())W.addComponent(Be);const mr=new Xn(ve,Ke,W);return xr.set(Ft,mr),mr}function Fs(Y=xi){const j=xr.get(Y);if(!j&&Y===xi&&(0,Ge.aH)())return gs();if(!j)throw Vn.create("no-app",{appName:Y});return j}function Fr(){return Array.from(xr.values())}function Vr(Y){return ai.apply(this,arguments)}function ai(){return(ai=(0,O.Z)(function*(Y){const j=Y.name;xr.has(j)&&(xr.delete(j),yield Promise.all(Y.container.getProviders().map(ve=>ve.delete())),Y.isDeleted=!0)})).apply(this,arguments)}function Ri(Y,j,ve){var Ke;let Ft=null!==(Ke=Ls[Y])&&void 0!==Ke?Ke:Y;ve&&(Ft+=`-${ve}`);const Bt=Ft.match(/\s|\//),W=j.match(/\s|\//);if(Bt||W){const mr=[`Unable to register library "${Ft}" with version "${j}":`];return Bt&&mr.push(`library name "${Ft}" contains illegal characters (whitespace or "/")`),Bt&&W&&mr.push("and"),W&&mr.push(`version name "${j}" contains illegal characters (whitespace or "/")`),void bt.warn(mr.join(" "))}Lr(new C.wA(`${Ft}-version`,()=>({library:Ft,version:j}),"VERSION"))}function cl(Y,j){if(null!==Y&&"function"!=typeof Y)throw Vn.create("invalid-log-argument");(0,q.Am)(Y,j)}function oa(Y){(0,q.Ub)(Y)}const ja="firebase-heartbeat-database",oo=1,U="firebase-heartbeat-store";let F=null;function A(){return F||(F=function gr(Y,j,{blocked:ve,upgrade:Ke,blocking:Ft,terminated:Bt}={}){const W=indexedDB.open(Y,j),mr=wt(W);return Ke&&W.addEventListener("upgradeneeded",Be=>{Ke(wt(W.result),Be.oldVersion,Be.newVersion,wt(W.transaction),Be)}),ve&&W.addEventListener("blocked",Be=>ve(Be.oldVersion,Be.newVersion,Be)),mr.then(Be=>{Bt&&Be.addEventListener("close",()=>Bt()),Ft&&Be.addEventListener("versionchange",Wt=>Ft(Wt.oldVersion,Wt.newVersion,Wt))}).catch(()=>{}),mr}(ja,oo,{upgrade:(Y,j)=>{0===j&&Y.createObjectStore(U)}}).catch(Y=>{throw Vn.create("idb-open",{originalErrorMessage:Y.message})})),F}function T(){return(T=(0,O.Z)(function*(Y){try{return yield(yield A()).transaction(U).objectStore(U).get(Ue(Y))}catch(j){if(j instanceof Ge.ZR)bt.warn(j.message);else{const ve=Vn.create("idb-get",{originalErrorMessage:j?.message});bt.warn(ve.message)}}})).apply(this,arguments)}function V(Y,j){return se.apply(this,arguments)}function se(){return(se=(0,O.Z)(function*(Y,j){try{const Ke=(yield A()).transaction(U,"readwrite");yield Ke.objectStore(U).put(j,Ue(Y)),yield Ke.done}catch(ve){if(ve instanceof Ge.ZR)bt.warn(ve.message);else{const Ke=Vn.create("idb-set",{originalErrorMessage:ve?.message});bt.warn(Ke.message)}}})).apply(this,arguments)}function Ue(Y){return`${Y.name}!${Y.options.appId}`}class ln{constructor(j){this.container=j,this._heartbeatsCache=null;const ve=this.container.getProvider("app").getImmediate();this._storage=new Ye(ve),this._heartbeatsCachePromise=this._storage.read().then(Ke=>(this._heartbeatsCache=Ke,Ke))}triggerHeartbeat(){var j=this;return(0,O.Z)(function*(){var ve;const Ft=j.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Bt=ke();if(null==(null===(ve=j._heartbeatsCache)||void 0===ve?void 0:ve.heartbeats)&&(j._heartbeatsCache=yield j._heartbeatsCachePromise),j._heartbeatsCache.lastSentHeartbeatDate!==Bt&&!j._heartbeatsCache.heartbeats.some(W=>W.date===Bt))return j._heartbeatsCache.heartbeats.push({date:Bt,agent:Ft}),j._heartbeatsCache.heartbeats=j._heartbeatsCache.heartbeats.filter(W=>{const mr=new Date(W.date).valueOf();return Date.now()-mr<=2592e6}),j._storage.overwrite(j._heartbeatsCache)})()}getHeartbeatsHeader(){var j=this;return(0,O.Z)(function*(){var ve;if(null===j._heartbeatsCache&&(yield j._heartbeatsCachePromise),null==(null===(ve=j._heartbeatsCache)||void 0===ve?void 0:ve.heartbeats)||0===j._heartbeatsCache.heartbeats.length)return"";const Ke=ke(),{heartbeatsToSend:Ft,unsentEntries:Bt}=function Cn(Y,j=1024){const ve=[];let Ke=Y.slice();for(const Ft of Y){const Bt=ve.find(W=>W.agent===Ft.agent);if(Bt){if(Bt.dates.push(Ft.date),zr(ve)>j){Bt.dates.pop();break}}else if(ve.push({agent:Ft.agent,dates:[Ft.date]}),zr(ve)>j){ve.pop();break}Ke=Ke.slice(1)}return{heartbeatsToSend:ve,unsentEntries:Ke}}(j._heartbeatsCache.heartbeats),W=(0,Ge.L)(JSON.stringify({version:2,heartbeats:Ft}));return j._heartbeatsCache.lastSentHeartbeatDate=Ke,Bt.length>0?(j._heartbeatsCache.heartbeats=Bt,yield j._storage.overwrite(j._heartbeatsCache)):(j._heartbeatsCache.heartbeats=[],j._storage.overwrite(j._heartbeatsCache)),W})()}}function ke(){return(new Date).toISOString().substring(0,10)}class Ye{constructor(j){this.app=j,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,O.Z)(function*(){return!!(0,Ge.hl)()&&(0,Ge.eu)().then(()=>!0).catch(()=>!1)})()}read(){var j=this;return(0,O.Z)(function*(){return(yield j._canUseIndexedDBPromise)&&(yield function R(Y){return T.apply(this,arguments)}(j.app))||{heartbeats:[]}})()}overwrite(j){var ve=this;return(0,O.Z)(function*(){var Ke;if(yield ve._canUseIndexedDBPromise){const Bt=yield ve.read();return V(ve.app,{lastSentHeartbeatDate:null!==(Ke=j.lastSentHeartbeatDate)&&void 0!==Ke?Ke:Bt.lastSentHeartbeatDate,heartbeats:j.heartbeats})}})()}add(j){var ve=this;return(0,O.Z)(function*(){var Ke;if(yield ve._canUseIndexedDBPromise){const Bt=yield ve.read();return V(ve.app,{lastSentHeartbeatDate:null!==(Ke=j.lastSentHeartbeatDate)&&void 0!==Ke?Ke:Bt.lastSentHeartbeatDate,heartbeats:[...Bt.heartbeats,...j.heartbeats]})}})()}}function zr(Y){return(0,Ge.L)(JSON.stringify({version:2,heartbeats:Y})).length}!function aa(Y){Lr(new C.wA("platform-logger",j=>new sr(j),"PRIVATE")),Lr(new C.wA("heartbeat",j=>new ln(j),"PRIVATE")),Ri(Ns,"0.9.23",Y),Ri(Ns,"0.9.23","esm2017"),Ri("fire-js","")}("")},537:(oi,Qn,ot)=>{"use strict";ot.d(Qn,{H0:()=>Tn,wA:()=>q});var O=ot(861),C=ot(58);class q{constructor(ae,me,We){this.name=ae,this.instanceFactory=me,this.type=We,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ae){return this.instantiationMode=ae,this}setMultipleInstances(ae){return this.multipleInstances=ae,this}setServiceProps(ae){return this.serviceProps=ae,this}setInstanceCreatedCallback(ae){return this.onInstanceCreated=ae,this}}const Ge="[DEFAULT]";class un{constructor(ae,me){this.name=ae,this.container=me,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ae){const me=this.normalizeInstanceIdentifier(ae);if(!this.instancesDeferred.has(me)){const We=new C.BH;if(this.instancesDeferred.set(me,We),this.isInitialized(me)||this.shouldAutoInitialize())try{const pt=this.getOrInitializeService({instanceIdentifier:me});pt&&We.resolve(pt)}catch{}}return this.instancesDeferred.get(me).promise}getImmediate(ae){var me;const We=this.normalizeInstanceIdentifier(ae?.identifier),pt=null!==(me=ae?.optional)&&void 0!==me&&me;if(!this.isInitialized(We)&&!this.shouldAutoInitialize()){if(pt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:We})}catch(zt){if(pt)return null;throw zt}}getComponent(){return this.component}setComponent(ae){if(ae.name!==this.name)throw Error(`Mismatching Component ${ae.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ae,this.shouldAutoInitialize()){if(function pr(sn){return"EAGER"===sn.instantiationMode}(ae))try{this.getOrInitializeService({instanceIdentifier:Ge})}catch{}for(const[me,We]of this.instancesDeferred.entries()){const pt=this.normalizeInstanceIdentifier(me);try{const zt=this.getOrInitializeService({instanceIdentifier:pt});We.resolve(zt)}catch{}}}}clearInstance(ae=Ge){this.instancesDeferred.delete(ae),this.instancesOptions.delete(ae),this.instances.delete(ae)}delete(){var ae=this;return(0,O.Z)(function*(){const me=Array.from(ae.instances.values());yield Promise.all([...me.filter(We=>"INTERNAL"in We).map(We=>We.INTERNAL.delete()),...me.filter(We=>"_delete"in We).map(We=>We._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ae=Ge){return this.instances.has(ae)}getOptions(ae=Ge){return this.instancesOptions.get(ae)||{}}initialize(ae={}){const{options:me={}}=ae,We=this.normalizeInstanceIdentifier(ae.instanceIdentifier);if(this.isInitialized(We))throw Error(`${this.name}(${We}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const pt=this.getOrInitializeService({instanceIdentifier:We,options:me});for(const[zt,ir]of this.instancesDeferred.entries())We===this.normalizeInstanceIdentifier(zt)&&ir.resolve(pt);return pt}onInit(ae,me){var We;const pt=this.normalizeInstanceIdentifier(me),zt=null!==(We=this.onInitCallbacks.get(pt))&&void 0!==We?We:new Set;zt.add(ae),this.onInitCallbacks.set(pt,zt);const ir=this.instances.get(pt);return ir&&ae(ir,pt),()=>{zt.delete(ae)}}invokeOnInitCallbacks(ae,me){const We=this.onInitCallbacks.get(me);if(We)for(const pt of We)try{pt(ae,me)}catch{}}getOrInitializeService({instanceIdentifier:ae,options:me={}}){let We=this.instances.get(ae);if(!We&&this.component&&(We=this.component.instanceFactory(this.container,{instanceIdentifier:(sn=ae,sn===Ge?void 0:sn),options:me}),this.instances.set(ae,We),this.instancesOptions.set(ae,me),this.invokeOnInitCallbacks(We,ae),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ae,We)}catch{}var sn;return We||null}normalizeInstanceIdentifier(ae=Ge){return this.component?this.component.multipleInstances?ae:Ge:ae}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Tn{constructor(ae){this.name=ae,this.providers=new Map}addComponent(ae){const me=this.getProvider(ae.name);if(me.isComponentSet())throw new Error(`Component ${ae.name} has already been registered with ${this.name}`);me.setComponent(ae)}addOrOverwriteComponent(ae){this.getProvider(ae.name).isComponentSet()&&this.providers.delete(ae.name),this.addComponent(ae)}getProvider(ae){if(this.providers.has(ae))return this.providers.get(ae);const me=new un(ae,this);return this.providers.set(ae,me),me}getProviders(){return Array.from(this.providers.values())}}},879:(oi,Qn,ot)=>{"use strict";ot.d(Qn,{Am:()=>sn,Ub:()=>Tn,Yd:()=>pr,in:()=>C});const O=[];var C=function(ae){return ae[ae.DEBUG=0]="DEBUG",ae[ae.VERBOSE=1]="VERBOSE",ae[ae.INFO=2]="INFO",ae[ae.WARN=3]="WARN",ae[ae.ERROR=4]="ERROR",ae[ae.SILENT=5]="SILENT",ae}(C||{});const q={debug:C.DEBUG,verbose:C.VERBOSE,info:C.INFO,warn:C.WARN,error:C.ERROR,silent:C.SILENT},Ge=C.INFO,un={[C.DEBUG]:"log",[C.VERBOSE]:"log",[C.INFO]:"info",[C.WARN]:"warn",[C.ERROR]:"error"},rn=(ae,me,...We)=>{if(me<ae.logLevel)return;const pt=(new Date).toISOString(),zt=un[me];if(!zt)throw new Error(`Attempted to log a message with an invalid logType (value: ${me})`);console[zt](`[${pt}]  ${ae.name}:`,...We)};class pr{constructor(me){this.name=me,this._logLevel=Ge,this._logHandler=rn,this._userLogHandler=null,O.push(this)}get logLevel(){return this._logLevel}set logLevel(me){if(!(me in C))throw new TypeError(`Invalid value "${me}" assigned to \`logLevel\``);this._logLevel=me}setLogLevel(me){this._logLevel="string"==typeof me?q[me]:me}get logHandler(){return this._logHandler}set logHandler(me){if("function"!=typeof me)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=me}get userLogHandler(){return this._userLogHandler}set userLogHandler(me){this._userLogHandler=me}debug(...me){this._userLogHandler&&this._userLogHandler(this,C.DEBUG,...me),this._logHandler(this,C.DEBUG,...me)}log(...me){this._userLogHandler&&this._userLogHandler(this,C.VERBOSE,...me),this._logHandler(this,C.VERBOSE,...me)}info(...me){this._userLogHandler&&this._userLogHandler(this,C.INFO,...me),this._logHandler(this,C.INFO,...me)}warn(...me){this._userLogHandler&&this._userLogHandler(this,C.WARN,...me),this._logHandler(this,C.WARN,...me)}error(...me){this._userLogHandler&&this._userLogHandler(this,C.ERROR,...me),this._logHandler(this,C.ERROR,...me)}}function Tn(ae){O.forEach(me=>{me.setLogLevel(ae)})}function sn(ae,me){for(const We of O){let pt=null;me&&me.level&&(pt=q[me.level]),We.userLogHandler=null===ae?null:(zt,ir,...vt)=>{const at=vt.map(It=>{if(null==It)return null;if("string"==typeof It)return It;if("number"==typeof It||"boolean"==typeof It)return It.toString();if(It instanceof Error)return It.message;try{return JSON.stringify(It)}catch{return null}}).filter(It=>It).join(" ");ir>=(pt??zt.logLevel)&&ae({level:C[ir].toLowerCase(),message:at,args:vt,type:zt.name})}}}},365:(oi,Qn,ot)=>{"use strict";ot.r(Qn);var O=ot(861),C=ot(106),q=ot(562),Ge=ot(58),pr=(ot(534),ot(879),ot(537));function Tn(){return window}function me(){return me=(0,O.Z)(function*(A,R,T){var V;const{BuildInfo:se}=Tn();(0,q.au)(R.sessionId,"AuthEvent did not contain a session ID");const Ue=yield function It(A){return An.apply(this,arguments)}(R.sessionId),je={};return(0,q.av)()?je.ibi=se.packageName:(0,q.aw)()?je.apn=se.packageName:(0,q.ax)(A,"operation-not-supported-in-this-environment"),se.displayName&&(je.appDisplayName=se.displayName),je.sessionId=Ue,(0,q.ay)(A,T,R.type,void 0,null!==(V=R.eventId)&&void 0!==V?V:void 0,je)}),me.apply(this,arguments)}function pt(){return(pt=(0,O.Z)(function*(A){const{BuildInfo:R}=Tn(),T={};(0,q.av)()?T.iosBundleId=R.packageName:(0,q.aw)()?T.androidPackageName=R.packageName:(0,q.ax)(A,"operation-not-supported-in-this-environment"),yield(0,q.az)(A,T)})).apply(this,arguments)}function vt(){return(vt=(0,O.Z)(function*(A,R,T){const{cordova:V}=Tn();let se=()=>{};try{yield new Promise((Ue,je)=>{let ht=null;function ln(){var Ye;Ue();const zr=null===(Ye=V.plugins.browsertab)||void 0===Ye?void 0:Ye.close;"function"==typeof zr&&zr(),"function"==typeof T?.close&&T.close()}function ke(){ht||(ht=window.setTimeout(()=>{je((0,q.aB)(A,"redirect-cancelled-by-user"))},2e3))}function Cn(){"visible"===document?.visibilityState&&ke()}R.addPassiveListener(ln),document.addEventListener("resume",ke,!1),(0,q.aw)()&&document.addEventListener("visibilitychange",Cn,!1),se=()=>{R.removePassiveListener(ln),document.removeEventListener("resume",ke,!1),document.removeEventListener("visibilitychange",Cn,!1),ht&&window.clearTimeout(ht)}})}finally{se()}})).apply(this,arguments)}function An(){return(An=(0,O.Z)(function*(A){const R=function Dn(A){if((0,q.au)(/[0-9a-zA-Z]+/.test(A),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(A);const R=new ArrayBuffer(A.length),T=new Uint8Array(R);for(let V=0;V<A.length;V++)T[V]=A.charCodeAt(V);return T}(A),T=yield crypto.subtle.digest("SHA-256",R);return Array.from(new Uint8Array(T)).map(se=>se.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class on extends q.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(R=>{this.resolveInialized=R})}addPassiveListener(R){this.passiveListeners.add(R)}removePassiveListener(R){this.passiveListeners.delete(R)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(R){return this.resolveInialized(),this.passiveListeners.forEach(T=>T(R)),super.onEvent(R)}initialized(){var R=this;return(0,O.Z)(function*(){yield R.initPromise})()}}function Pt(A){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,O.Z)(function*(A){const R=yield sr()._get(or(A));return R&&(yield sr()._remove(or(A))),R})).apply(this,arguments)}function Fn(){const A=[];for(let T=0;T<20;T++){const V=Math.floor(62*Math.random());A.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(V))}return A.join("")}function sr(){return(0,q.aE)(q.b)}function or(A){return(0,q.aF)("authEvent",A.config.apiKey,A.name)}function bt(A){if(!A?.includes("?"))return{};const[R,...T]=A.split("?");return(0,Ge.zd)(T.join("?"))}const ee=class io{constructor(){this._redirectPersistence=q.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=q.aG,this._overrideRedirectResult=q.aH}_initialize(R){var T=this;return(0,O.Z)(function*(){const V=R._key();let se=T.eventManagers.get(V);return se||(se=new on(R),T.eventManagers.set(V,se),T.attachCallbackListeners(R,se)),se})()}_openPopup(R){(0,q.ax)(R,"operation-not-supported-in-this-environment")}_openRedirect(R,T,V,se){var Ue=this;return(0,O.Z)(function*(){!function at(A){var R,T,V,se,Ue,je,ht,ln,ke,Cn;const Ye=Tn();(0,q.aC)("function"==typeof(null===(R=Ye?.universalLinks)||void 0===R?void 0:R.subscribe),A,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,q.aC)(typeof(null===(T=Ye?.BuildInfo)||void 0===T?void 0:T.packageName)<"u",A,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,q.aC)("function"==typeof(null===(Ue=null===(se=null===(V=Ye?.cordova)||void 0===V?void 0:V.plugins)||void 0===se?void 0:se.browsertab)||void 0===Ue?void 0:Ue.openUrl),A,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,q.aC)("function"==typeof(null===(ln=null===(ht=null===(je=Ye?.cordova)||void 0===je?void 0:je.plugins)||void 0===ht?void 0:ht.browsertab)||void 0===ln?void 0:ln.isAvailable),A,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,q.aC)("function"==typeof(null===(Cn=null===(ke=Ye?.cordova)||void 0===ke?void 0:ke.InAppBrowser)||void 0===Cn?void 0:Cn.open),A,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(R);const je=yield Ue._initialize(R);yield je.initialized(),je.resetRedirect(),(0,q.aI)(),yield Ue._originValidation(R);const ht=function gr(A,R,T=null){return{type:R,eventId:T,urlResponse:null,sessionId:Fn(),postBody:null,tenantId:A.tenantId,error:(0,q.aB)(A,"no-auth-event")}}(R,V,se);yield function zn(A,R){return sr()._set(or(A),R)}(R,ht);const ln=yield function ae(A,R,T){return me.apply(this,arguments)}(R,ht,T),ke=yield function zt(A){const{cordova:R}=Tn();return new Promise(T=>{R.plugins.browsertab.isAvailable(V=>{let se=null;V?R.plugins.browsertab.openUrl(A):se=R.InAppBrowser.open(A,(0,q.aA)()?"_blank":"_system","location=yes"),T(se)})})}(ln);return function ir(A,R,T){return vt.apply(this,arguments)}(R,je,ke)})()}_isIframeWebStorageSupported(R,T){throw new Error("Method not implemented.")}_originValidation(R){const T=R._key();return this.originValidationPromises[T]||(this.originValidationPromises[T]=function We(A){return pt.apply(this,arguments)}(R)),this.originValidationPromises[T]}attachCallbackListeners(R,T){const{universalLinks:V,handleOpenURL:se,BuildInfo:Ue}=Tn(),je=setTimeout((0,O.Z)(function*(){yield Pt(R),T.onEvent(te())}),500),ht=function(){var Cn=(0,O.Z)(function*(Ye){clearTimeout(je);const zr=yield Pt(R);let aa=null;zr&&Ye?.url&&(aa=function nn(A,R){var T,V;const se=function ks(A){const R=bt(A),T=R.link?decodeURIComponent(R.link):void 0,V=bt(T).link,se=R.deep_link_id?decodeURIComponent(R.deep_link_id):void 0;return bt(se).link||se||V||T||A}(R);if(se.includes("/__/auth/callback")){const Ue=bt(se),je=Ue.firebaseError?function Ns(A){try{return JSON.parse(A)}catch{return null}}(decodeURIComponent(Ue.firebaseError)):null,ht=null===(V=null===(T=je?.code)||void 0===T?void 0:T.split("auth/"))||void 0===V?void 0:V[1],ln=ht?(0,q.aB)(ht):null;return ln?{type:A.type,eventId:A.eventId,tenantId:A.tenantId,error:ln,urlResponse:null,sessionId:null,postBody:null}:{type:A.type,eventId:A.eventId,tenantId:A.tenantId,sessionId:A.sessionId,urlResponse:se,postBody:null}}return null}(zr,Ye.url)),T.onEvent(aa||te())});return function(zr){return Cn.apply(this,arguments)}}();typeof V<"u"&&"function"==typeof V.subscribe&&V.subscribe(null,ht);const ln=se,ke=`${Ue.packageName.toLowerCase()}://`;Tn().handleOpenURL=function(){var Cn=(0,O.Z)(function*(Ye){if(Ye.toLowerCase().startsWith(ke)&&ht({url:Ye}),"function"==typeof ln)try{ln(Ye)}catch(zr){console.error(zr)}});return function(Ye){return Cn.apply(this,arguments)}}()}};function te(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,q.aB)("no-auth-event")}}function Ae(){var A;return(null===(A=self?.location)||void 0===A?void 0:A.protocol)||null}function Re(A=(0,Ge.z$)()){return!("file:"!==Ae()&&"ionic:"!==Ae()&&"capacitor:"!==Ae()||!A.toLowerCase().match(/iphone|ipad|ipod|android/))}function qn(){try{const A=self.localStorage,R=q.aN();if(A)return A.setItem(R,"1"),A.removeItem(R),!function mn(A=(0,Ge.z$)()){return function an(){return(0,Ge.w1)()&&11===document?.documentMode}()||function xn(A=(0,Ge.z$)()){return/Edge\/\d+/.test(A)}(A)}()||(0,Ge.hl)()}catch{return En()&&(0,Ge.hl)()}return!1}function En(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Yn(){return(function qt(){return"http:"===Ae()||"https:"===Ae()}()||(0,Ge.ru)()||Re())&&!function Ze(){return(0,Ge.b$)()||(0,Ge.UG)()}()&&qn()&&!En()}function Jr(){return Re()&&typeof document<"u"}function fs(){return(fs=(0,O.Z)(function*(){return!!Jr()&&new Promise(A=>{const R=setTimeout(()=>{A(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(R),A(!0)})})})).apply(this,arguments)}const Gt={LOCAL:"local",NONE:"none",SESSION:"session"},Dr=q.aC,Di="persistence";function Ls(A){return xr.apply(this,arguments)}function xr(){return(xr=(0,O.Z)(function*(A){yield A._initializationPromise;const R=Xr(),T=q.aF(Di,A.config.apiKey,A.name);R&&R.setItem(T,A._getPersistence())})).apply(this,arguments)}function Xr(){var A;try{return(null===(A=function so(){return typeof window<"u"?window:null}())||void 0===A?void 0:A.sessionStorage)||null}catch{return null}}const jr=q.aC;class Lr{constructor(){this.browserResolver=q.aE(q.k),this.cordovaResolver=q.aE(ee),this.underlyingResolver=null,this._redirectPersistence=q.a,this._completeRedirectFn=q.aG,this._overrideRedirectResult=q.aH}_initialize(R){var T=this;return(0,O.Z)(function*(){return yield T.selectUnderlyingResolver(),T.assertedUnderlyingResolver._initialize(R)})()}_openPopup(R,T,V,se){var Ue=this;return(0,O.Z)(function*(){return yield Ue.selectUnderlyingResolver(),Ue.assertedUnderlyingResolver._openPopup(R,T,V,se)})()}_openRedirect(R,T,V,se){var Ue=this;return(0,O.Z)(function*(){return yield Ue.selectUnderlyingResolver(),Ue.assertedUnderlyingResolver._openRedirect(R,T,V,se)})()}_isIframeWebStorageSupported(R,T){this.assertedUnderlyingResolver._isIframeWebStorageSupported(R,T)}_originValidation(R){return this.assertedUnderlyingResolver._originValidation(R)}get _shouldInitProactively(){return Jr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return jr(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var R=this;return(0,O.Z)(function*(){if(R.underlyingResolver)return;const T=yield function ar(){return fs.apply(this,arguments)}();R.underlyingResolver=T?R.cordovaResolver:R.browserResolver})()}}function pn(A){return A.unwrap()}function Jn(A){return Vn(A)}function Vn(A){const{_tokenResponse:R}=A instanceof Ge.ZR?A.customData:A;if(!R)return null;if(!(A instanceof Ge.ZR)&&"temporaryProof"in R&&"phoneNumber"in R)return q.P.credentialFromResult(A);const T=R.providerId;if(!T||T===q.p.PASSWORD)return null;let V;switch(T){case q.p.GOOGLE:V=q.X;break;case q.p.FACEBOOK:V=q.W;break;case q.p.GITHUB:V=q.Y;break;case q.p.TWITTER:V=q.$;break;default:const{oauthIdToken:se,oauthAccessToken:Ue,oauthTokenSecret:je,pendingToken:ht,nonce:ln}=R;return Ue||je||se||ht?ht?T.startsWith("saml.")?q.aQ._create(T,ht):q.N._fromParams({providerId:T,signInMethod:T,pendingToken:ht,idToken:se,accessToken:Ue}):new q.Z(T).credential({idToken:se,accessToken:Ue,rawNonce:ln}):null}return A instanceof Ge.ZR?V.credentialFromError(A):V.credentialFromResult(A)}function Xn(A,R){return R.catch(T=>{throw T instanceof Ge.ZR&&function $a(A,R){var T;const V=null===(T=R.customData)||void 0===T?void 0:T._tokenResponse;if("auth/multi-factor-auth-required"===R?.code)R.resolver=new Fs(A,q.as(A,R));else if(V){const se=Vn(R),Ue=R;se&&(Ue.credential=se,Ue.tenantId=V.tenantId||void 0,Ue.email=V.email||void 0,Ue.phoneNumber=V.phoneNumber||void 0)}}(A,T),T}).then(T=>{const se=T.user;return{operationType:T.operationType,credential:Jn(T),additionalUserInfo:q.aq(T),user:Fr.getOrCreate(se)}})}function ps(A,R){return gs.apply(this,arguments)}function gs(){return(gs=(0,O.Z)(function*(A,R){const T=yield R;return{verificationId:T.verificationId,confirm:V=>Xn(A,T.confirm(V))}})).apply(this,arguments)}class Fs{constructor(R,T){this.resolver=T,this.auth=function yi(A){return A.wrapped()}(R)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(R){return Xn(pn(this.auth),this.resolver.resolveSignIn(R))}}class Fr{constructor(R){this._delegate=R,this.multiFactor=q.at(R)}static getOrCreate(R){return Fr.USER_MAP.has(R)||Fr.USER_MAP.set(R,new Fr(R)),Fr.USER_MAP.get(R)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(R){return this._delegate.getIdTokenResult(R)}getIdToken(R){return this._delegate.getIdToken(R)}linkAndRetrieveDataWithCredential(R){return this.linkWithCredential(R)}linkWithCredential(R){var T=this;return(0,O.Z)(function*(){return Xn(T.auth,q.a2(T._delegate,R))})()}linkWithPhoneNumber(R,T){var V=this;return(0,O.Z)(function*(){return ps(V.auth,q.l(V._delegate,R,T))})()}linkWithPopup(R){var T=this;return(0,O.Z)(function*(){return Xn(T.auth,q.d(T._delegate,R,Lr))})()}linkWithRedirect(R){var T=this;return(0,O.Z)(function*(){return yield Ls(q.aJ(T.auth)),q.g(T._delegate,R,Lr)})()}reauthenticateAndRetrieveDataWithCredential(R){return this.reauthenticateWithCredential(R)}reauthenticateWithCredential(R){var T=this;return(0,O.Z)(function*(){return Xn(T.auth,q.a3(T._delegate,R))})()}reauthenticateWithPhoneNumber(R,T){return ps(this.auth,q.r(this._delegate,R,T))}reauthenticateWithPopup(R){return Xn(this.auth,q.e(this._delegate,R,Lr))}reauthenticateWithRedirect(R){var T=this;return(0,O.Z)(function*(){return yield Ls(q.aJ(T.auth)),q.h(T._delegate,R,Lr)})()}sendEmailVerification(R){return q.ag(this._delegate,R)}unlink(R){var T=this;return(0,O.Z)(function*(){return yield q.ap(T._delegate,R),T})()}updateEmail(R){return q.al(this._delegate,R)}updatePassword(R){return q.am(this._delegate,R)}updatePhoneNumber(R){return q.u(this._delegate,R)}updateProfile(R){return q.ak(this._delegate,R)}verifyBeforeUpdateEmail(R,T){return q.ah(this._delegate,R,T)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Fr.USER_MAP=new WeakMap;const Vr=q.aC;let ai=(()=>{class A{constructor(T,V){if(this.app=T,V.isInitialized())return this._delegate=V.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:se}=T.options;Vr(se,"invalid-api-key",{appName:T.name}),Vr(se,"invalid-api-key",{appName:T.name});const Ue=typeof window<"u"?Lr:void 0;this._delegate=V.initialize({options:{persistence:cl(se,T.name),popupRedirectResolver:Ue}}),this._delegate._updateErrorMap(q.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Fr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(T){this._delegate.languageCode=T}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(T){this._delegate.tenantId=T}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(T,V){q.K(this._delegate,T,V)}applyActionCode(T){return q.a7(this._delegate,T)}checkActionCode(T){return q.a8(this._delegate,T)}confirmPasswordReset(T,V){return q.a6(this._delegate,T,V)}createUserWithEmailAndPassword(T,V){var se=this;return(0,O.Z)(function*(){return Xn(se._delegate,q.aa(se._delegate,T,V))})()}fetchProvidersForEmail(T){return this.fetchSignInMethodsForEmail(T)}fetchSignInMethodsForEmail(T){return q.af(this._delegate,T)}isSignInWithEmailLink(T){return q.ad(this._delegate,T)}getRedirectResult(){var T=this;return(0,O.Z)(function*(){Vr(Yn(),T._delegate,"operation-not-supported-in-this-environment");const V=yield q.j(T._delegate,Lr);return V?Xn(T._delegate,Promise.resolve(V)):{credential:null,user:null}})()}addFrameworkForLogging(T){!function ie(A,R){(0,q.aJ)(A)._logFramework(R)}(this._delegate,T)}onAuthStateChanged(T,V,se){const{next:Ue,error:je,complete:ht}=Ri(T,V,se);return this._delegate.onAuthStateChanged(Ue,je,ht)}onIdTokenChanged(T,V,se){const{next:Ue,error:je,complete:ht}=Ri(T,V,se);return this._delegate.onIdTokenChanged(Ue,je,ht)}sendSignInLinkToEmail(T,V){return q.ac(this._delegate,T,V)}sendPasswordResetEmail(T,V){return q.a5(this._delegate,T,V||void 0)}setPersistence(T){var V=this;return(0,O.Z)(function*(){let se;switch(function xi(A,R){Dr(Object.values(Gt).includes(R),A,"invalid-persistence-type"),(0,Ge.b$)()?Dr(R!==Gt.SESSION,A,"unsupported-persistence-type"):(0,Ge.UG)()?Dr(R===Gt.NONE,A,"unsupported-persistence-type"):En()?Dr(R===Gt.NONE||R===Gt.LOCAL&&(0,Ge.hl)(),A,"unsupported-persistence-type"):Dr(R===Gt.NONE||qn(),A,"unsupported-persistence-type")}(V._delegate,T),T){case Gt.SESSION:se=q.a;break;case Gt.LOCAL:se=(yield q.aE(q.i)._isAvailable())?q.i:q.b;break;case Gt.NONE:se=q.U;break;default:return q.ax("argument-error",{appName:V._delegate.name})}return V._delegate.setPersistence(se)})()}signInAndRetrieveDataWithCredential(T){return this.signInWithCredential(T)}signInAnonymously(){return Xn(this._delegate,q.a0(this._delegate))}signInWithCredential(T){return Xn(this._delegate,q.a1(this._delegate,T))}signInWithCustomToken(T){return Xn(this._delegate,q.a4(this._delegate,T))}signInWithEmailAndPassword(T,V){return Xn(this._delegate,q.ab(this._delegate,T,V))}signInWithEmailLink(T,V){return Xn(this._delegate,q.ae(this._delegate,T,V))}signInWithPhoneNumber(T,V){return ps(this._delegate,q.s(this._delegate,T,V))}signInWithPopup(T){var V=this;return(0,O.Z)(function*(){return Vr(Yn(),V._delegate,"operation-not-supported-in-this-environment"),Xn(V._delegate,q.c(V._delegate,T,Lr))})()}signInWithRedirect(T){var V=this;return(0,O.Z)(function*(){return Vr(Yn(),V._delegate,"operation-not-supported-in-this-environment"),yield Ls(V._delegate),q.f(V._delegate,T,Lr)})()}updateCurrentUser(T){return this._delegate.updateCurrentUser(T)}verifyPasswordResetCode(T){return q.a9(this._delegate,T)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return A.Persistence=Gt,A})();function Ri(A,R,T){let V=A;"function"!=typeof A&&({next:V,error:R,complete:T}=A);const se=V;return{next:je=>se(je&&Fr.getOrCreate(je)),error:R,complete:T}}function cl(A,R){const T=function Yi(A,R){const T=Xr();if(!T)return[];const V=q.aF(Di,A,R);switch(T.getItem(V)){case Gt.NONE:return[q.U];case Gt.LOCAL:return[q.i,q.a];case Gt.SESSION:return[q.a];default:return[]}}(A,R);if(typeof self<"u"&&!T.includes(q.i)&&T.push(q.i),typeof window<"u")for(const V of[q.b,q.a])T.includes(V)||T.push(V);return T.includes(q.U)||T.push(q.U),T}class oa{constructor(){this.providerId="phone",this._delegate=new q.P(pn(C.Z.auth()))}static credential(R,T){return q.P.credential(R,T)}verifyPhoneNumber(R,T){return this._delegate.verifyPhoneNumber(R,T)}unwrap(){return this._delegate}}oa.PHONE_SIGN_IN_METHOD=q.P.PHONE_SIGN_IN_METHOD,oa.PROVIDER_ID=q.P.PROVIDER_ID;const ja=q.aC;class oo{constructor(R,T,V=C.Z.app()){var se;ja(null===(se=V.options)||void 0===se?void 0:se.apiKey,"invalid-api-key",{appName:V.name}),this._delegate=new q.R(V.auth(),R,T),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function F(A){A.INTERNAL.registerComponent(new pr.wA("auth-compat",R=>{const T=R.getProvider("app-compat").getImmediate(),V=R.getProvider("auth");return new ai(T,V)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:q.A.EMAIL_SIGNIN,PASSWORD_RESET:q.A.PASSWORD_RESET,RECOVER_EMAIL:q.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:q.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:q.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:q.A.VERIFY_EMAIL}},EmailAuthProvider:q.V,FacebookAuthProvider:q.W,GithubAuthProvider:q.Y,GoogleAuthProvider:q.X,OAuthProvider:q.Z,SAMLAuthProvider:q._,PhoneAuthProvider:oa,PhoneMultiFactorGenerator:q.m,RecaptchaVerifier:oo,TwitterAuthProvider:q.$,Auth:ai,AuthCredential:q.L,Error:Ge.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),A.registerVersion("@firebase/auth-compat","0.4.9")}(C.Z)},861:(oi,Qn,ot)=>{"use strict";function O(q,Ge,un,rn,pr,Tn,sn){try{var ae=q[Tn](sn),me=ae.value}catch(We){return void un(We)}ae.done?Ge(me):Promise.resolve(me).then(rn,pr)}function C(q){return function(){var Ge=this,un=arguments;return new Promise(function(rn,pr){var Tn=q.apply(Ge,un);function sn(me){O(Tn,rn,pr,sn,ae,"next",me)}function ae(me){O(Tn,rn,pr,sn,ae,"throw",me)}sn(void 0)})}}ot.d(Qn,{Z:()=>C})},582:(oi,Qn,ot)=>{"use strict";function Ge(ee,te){var ie={};for(var ne in ee)Object.prototype.hasOwnProperty.call(ee,ne)&&te.indexOf(ne)<0&&(ie[ne]=ee[ne]);if(null!=ee&&"function"==typeof Object.getOwnPropertySymbols){var he=0;for(ne=Object.getOwnPropertySymbols(ee);he<ne.length;he++)te.indexOf(ne[he])<0&&Object.prototype.propertyIsEnumerable.call(ee,ne[he])&&(ie[ne[he]]=ee[ne[he]])}return ie}function We(ee,te,ie,ne){return new(ie||(ie=Promise))(function(le,Ae){function qt(an){try{Ze(ne.next(an))}catch(xn){Ae(xn)}}function Re(an){try{Ze(ne.throw(an))}catch(xn){Ae(xn)}}function Ze(an){an.done?le(an.value):function he(le){return le instanceof ie?le:new ie(function(Ae){Ae(le)})}(an.value).then(qt,Re)}Ze((ne=ne.apply(ee,te||[])).next())})}function wt(ee){return this instanceof wt?(this.v=ee,this):new wt(ee)}function on(ee,te,ie){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var he,ne=ie.apply(ee,te||[]),le=[];return he={},Ae("next"),Ae("throw"),Ae("return"),he[Symbol.asyncIterator]=function(){return this},he;function Ae(mn){ne[mn]&&(he[mn]=function(qn){return new Promise(function(En,Yn){le.push([mn,qn,En,Yn])>1||qt(mn,qn)})})}function qt(mn,qn){try{!function Re(mn){mn.value instanceof wt?Promise.resolve(mn.value.v).then(Ze,an):xn(le[0][2],mn)}(ne[mn](qn))}catch(En){xn(le[0][3],En)}}function Ze(mn){qt("next",mn)}function an(mn){qt("throw",mn)}function xn(mn,qn){mn(qn),le.shift(),le.length&&qt(le[0][0],le[0][1])}}function zn(ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ie,te=ee[Symbol.asyncIterator];return te?te.call(ee):(ee=function vt(ee){var te="function"==typeof Symbol&&Symbol.iterator,ie=te&&ee[te],ne=0;if(ie)return ie.call(ee);if(ee&&"number"==typeof ee.length)return{next:function(){return ee&&ne>=ee.length&&(ee=void 0),{value:ee&&ee[ne++],done:!ee}}};throw new TypeError(te?"Object is not iterable.":"Symbol.iterator is not defined.")}(ee),ie={},ne("next"),ne("throw"),ne("return"),ie[Symbol.asyncIterator]=function(){return this},ie);function ne(le){ie[le]=ee[le]&&function(Ae){return new Promise(function(qt,Re){!function he(le,Ae,qt,Re){Promise.resolve(Re).then(function(Ze){le({value:Ze,done:qt})},Ae)}(qt,Re,(Ae=ee[le](Ae)).done,Ae.value)})}}}ot.d(Qn,{FC:()=>on,KL:()=>zn,_T:()=>Ge,mG:()=>We,qq:()=>wt}),"function"==typeof SuppressedError&&SuppressedError}},oi=>{oi(oi.s=752)}]);