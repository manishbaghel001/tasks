"use strict";(self.webpackChunktasks=self.webpackChunktasks||[]).push([[179],{562:(co,Gn,Be)=>{Be.d(Gn,{$:()=>Vo,A:()=>de,G:()=>Pt,K:()=>Y0,L:()=>Ca,N:()=>_o,P:()=>Ki,R:()=>fw,U:()=>Te,V:()=>Qh,W:()=>Rr,X:()=>yo,Y:()=>Ot,Z:()=>rs,_:()=>Vc,a:()=>t_,a0:()=>Hg,a1:()=>wu,a2:()=>Gg,a3:()=>qg,a4:()=>rw,a5:()=>Oi,a6:()=>gr,a7:()=>Wg,a8:()=>Zg,a9:()=>Dn,aA:()=>ct,aB:()=>jt,aC:()=>ce,aD:()=>kf,aE:()=>K,aF:()=>He,aG:()=>Af,aH:()=>b_,aI:()=>vw,aJ:()=>vn,aN:()=>ds,aQ:()=>os,aa:()=>it,ab:()=>Kr,ac:()=>Uc,ad:()=>Sa,ae:()=>On,af:()=>jc,ag:()=>Ma,ah:()=>zc,ak:()=>Kg,al:()=>Bo,am:()=>Hc,ap:()=>nw,aq:()=>pi,as:()=>TA,at:()=>MA,au:()=>on,av:()=>Se,aw:()=>L,ax:()=>vt,ay:()=>Va,az:()=>Rf,b:()=>us,c:()=>g_,d:()=>v_,e:()=>__,f:()=>yw,g:()=>I_,h:()=>en,i:()=>u_,j:()=>Sf,k:()=>Qs,l:()=>wf,m:()=>BA,p:()=>Xt,r:()=>To,s:()=>p_,u:()=>If});var T=Be(861),Y=Be(58),O=Be(534),Me=Be(879),_t=Be(582),mn=Be(537);const Xt={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},de={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Pt=function Ae(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},qn=function nt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},yt=new Y.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Qe=new Me.Yd("@firebase/auth");function Cn(f,...u){Qe.logLevel<=Me.in.ERROR&&Qe.error(`Auth (${O.SDK_VERSION}): ${f}`,...u)}function vt(f,...u){throw at(f,...u)}function jt(f,...u){return at(f,...u)}function sr(f,u,d){const m=Object.assign(Object.assign({},qn()),{[u]:d});return new Y.LL("auth","Firebase",m).create(u,{appName:f.name})}function Vn(f,u,d){if(!(u instanceof d))throw d.name!==u.constructor.name&&vt(f,"argument-error"),sr(f,"argument-error",`Type of ${u.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function at(f,...u){if("string"!=typeof f){const d=u[0],m=[...u.slice(1)];return m[0]&&(m[0].appName=f.name),f._errorFactory.create(d,...m)}return yt.create(f,...u)}function ce(f,u,...d){if(!f)throw at(u,...d)}function xt(f){const u="INTERNAL ASSERTION FAILED: "+f;throw Cn(u),new Error(u)}function on(f,u){f||xt(u)}function Tn(){var f;return typeof self<"u"&&(null===(f=self.location)||void 0===f?void 0:f.href)||""}function kn(){return"http:"===Hr()||"https:"===Hr()}function Hr(){var f;return typeof self<"u"&&(null===(f=self.location)||void 0===f?void 0:f.protocol)||null}class ar{constructor(u,d){this.shortDelay=u,this.longDelay=d,on(d>u,"Short delay should be less than long delay!"),this.isMobile=(0,Y.uI)()||(0,Y.b$)()}get(){return function $r(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(kn()||(0,Y.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function lo(f,u){on(f.emulator,"Emulator should always be set here");const{url:d}=f.emulator;return u?`${d}${u.startsWith("/")?u.slice(1):u}`:d}class ${static initialize(u,d,m){this.fetchImpl=u,d&&(this.headersImpl=d),m&&(this.responseImpl=m)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void xt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void xt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void xt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const W={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},G=new ar(3e4,6e4);function H(f,u){return f.tenantId&&!u.tenantId?Object.assign(Object.assign({},u),{tenantId:f.tenantId}):u}function ne(f,u,d,m){return ee.apply(this,arguments)}function ee(){return(ee=(0,T.Z)(function*(f,u,d,m,_={}){return ge(f,_,(0,T.Z)(function*(){let w={},P={};m&&("GET"===u?P=m:w={body:JSON.stringify(m)});const z=(0,Y.xO)(Object.assign({key:f.config.apiKey},P)).slice(1),se=yield f._getAdditionalHeaders();return se["Content-Type"]="application/json",f.languageCode&&(se["X-Firebase-Locale"]=f.languageCode),$.fetch()(Dt(f,f.config.apiHost,d,z),Object.assign({method:u,headers:se,referrerPolicy:"no-referrer"},w))}))})).apply(this,arguments)}function ge(f,u,d){return pt.apply(this,arguments)}function pt(){return(pt=(0,T.Z)(function*(f,u,d){f._canInitEmulator=!1;const m=Object.assign(Object.assign({},W),u);try{const _=new Zt(f),w=yield Promise.race([d(),_.promise]);_.clearNetworkTimeout();const P=yield w.json();if("needConfirmation"in P)throw gn(f,"account-exists-with-different-credential",P);if(w.ok&&!("errorMessage"in P))return P;{const z=w.ok?P.errorMessage:P.error.message,[se,xe]=z.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===se)throw gn(f,"credential-already-in-use",P);if("EMAIL_EXISTS"===se)throw gn(f,"email-already-in-use",P);if("USER_DISABLED"===se)throw gn(f,"user-disabled",P);const Ve=m[se]||se.toLowerCase().replace(/[_\s]+/g,"-");if(xe)throw sr(f,Ve,xe);vt(f,Ve)}}catch(_){if(_ instanceof Y.ZR)throw _;vt(f,"network-request-failed",{message:String(_)})}})).apply(this,arguments)}function me(f,u,d,m){return Le.apply(this,arguments)}function Le(){return(Le=(0,T.Z)(function*(f,u,d,m,_={}){const w=yield ne(f,u,d,m,_);return"mfaPendingCredential"in w&&vt(f,"multi-factor-auth-required",{_serverResponse:w}),w})).apply(this,arguments)}function Dt(f,u,d,m){const _=`${u}${d}?${m}`;return f.config.emulator?lo(f.config,_):`${f.config.apiScheme}://${_}`}function ln(f){switch(f){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Zt{constructor(u){this.auth=u,this.timer=null,this.promise=new Promise((d,m)=>{this.timer=setTimeout(()=>m(jt(this.auth,"network-request-failed")),G.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function gn(f,u,d){const m={appName:f.name};d.email&&(m.email=d.email),d.phoneNumber&&(m.phoneNumber=d.phoneNumber);const _=jt(f,u,m);return _.customData._tokenResponse=d,_}function Wn(f){return void 0!==f&&void 0!==f.getResponse}function Zn(f){return void 0!==f&&void 0!==f.enterprise}class di{constructor(u){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===u.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=u.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=u.recaptchaEnforcementState}getProviderEnforcementState(u){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const d of this.recaptchaEnforcementState)if(d.provider&&d.provider===u)return ln(d.enforcementState);return null}isProviderEnabled(u){return"ENFORCE"===this.getProviderEnforcementState(u)||"AUDIT"===this.getProviderEnforcementState(u)}}function Gr(){return(Gr=(0,T.Z)(function*(f){return(yield ne(f,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function uo(f,u){return bt.apply(this,arguments)}function bt(){return(bt=(0,T.Z)(function*(f,u){return ne(f,"GET","/v2/recaptchaConfig",H(f,u))})).apply(this,arguments)}function fo(){return(fo=(0,T.Z)(function*(f,u){return ne(f,"POST","/v1/accounts:delete",u)})).apply(this,arguments)}function Wr(){return(Wr=(0,T.Z)(function*(f,u){return ne(f,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function cr(){return(cr=(0,T.Z)(function*(f,u){return ne(f,"POST","/v1/accounts:lookup",u)})).apply(this,arguments)}function lr(f){if(f)try{const u=new Date(Number(f));if(!isNaN(u.getTime()))return u.toUTCString()}catch{}}function Bt(){return(Bt=(0,T.Z)(function*(f,u=!1){const d=(0,Y.m9)(f),m=yield d.getIdToken(u),_=Rn(m);ce(_&&_.exp&&_.auth_time&&_.iat,d.auth,"internal-error");const w="object"==typeof _.firebase?_.firebase:void 0,P=w?.sign_in_provider;return{claims:_,token:m,authTime:lr(dr(_.auth_time)),issuedAtTime:lr(dr(_.iat)),expirationTime:lr(dr(_.exp)),signInProvider:P||null,signInSecondFactor:w?.sign_in_second_factor||null}})).apply(this,arguments)}function dr(f){return 1e3*Number(f)}function Rn(f){const[u,d,m]=f.split(".");if(void 0===u||void 0===d||void 0===m)return Cn("JWT malformed, contained fewer than 3 sections"),null;try{const _=(0,Y.tV)(d);return _?JSON.parse(_):(Cn("Failed to decode base64 JWT payload"),null)}catch(_){return Cn("Caught error parsing JWT payload as JSON",_?.toString()),null}}function _n(f,u){return xn.apply(this,arguments)}function xn(){return(xn=(0,T.Z)(function*(f,u,d=!1){if(d)return u;try{return yield u}catch(m){throw m instanceof Y.ZR&&function po({code:f}){return"auth/user-disabled"===f||"auth/user-token-expired"===f}(m)&&f.auth.currentUser===f&&(yield f.auth.signOut()),m}})).apply(this,arguments)}class mo{constructor(u){this.user=u,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(u){var d;if(u){const m=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),m}{this.errorBackoff=3e4;const _=(null!==(d=this.user.stsTokenManager.expirationTime)&&void 0!==d?d:0)-Date.now()-3e5;return Math.max(0,_)}}schedule(u=!1){var d=this;if(!this.isRunning)return;const m=this.getInterval(u);this.timerId=setTimeout((0,T.Z)(function*(){yield d.iteration()}),m)}iteration(){var u=this;return(0,T.Z)(function*(){try{yield u.user.getIdToken(!0)}catch(d){return void("auth/network-request-failed"===d?.code&&u.schedule(!0))}u.schedule()})()}}class Zr{constructor(u,d){this.createdAt=u,this.lastLoginAt=d,this._initializeTime()}_initializeTime(){this.lastSignInTime=lr(this.lastLoginAt),this.creationTime=lr(this.createdAt)}_copy(u){this.createdAt=u.createdAt,this.lastLoginAt=u.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Kn(f){return Yn.apply(this,arguments)}function Yn(){return Yn=(0,T.Z)(function*(f){var u;const d=f.auth,m=yield f.getIdToken(),_=yield _n(f,function Ci(f,u){return cr.apply(this,arguments)}(d,{idToken:m}));ce(_?.users.length,d,"internal-error");const w=_.users[0];f._notifyReloadListener(w);const P=null!==(u=w.providerUserInfo)&&void 0!==u&&u.length?function ns(f){return f.map(u=>{var{providerId:d}=u,m=(0,_t._T)(u,["providerId"]);return{providerId:d,uid:m.rawId||"",displayName:m.displayName||null,email:m.email||null,phoneNumber:m.phoneNumber||null,photoURL:m.photoUrl||null}})}(w.providerUserInfo):[],z=function Ia(f,u){return[...f.filter(m=>!u.some(_=>_.providerId===m.providerId)),...u]}(f.providerData,P),Ve=!!f.isAnonymous&&!(f.email&&w.passwordHash||z?.length),Tt={uid:w.localId,displayName:w.displayName||null,photoURL:w.photoUrl||null,email:w.email||null,emailVerified:w.emailVerified||!1,phoneNumber:w.phoneNumber||null,tenantId:w.tenantId||null,providerData:z,metadata:new Zr(w.createdAt,w.lastLoginAt),isAnonymous:Ve};Object.assign(f,Tt)}),Yn.apply(this,arguments)}function hr(){return(hr=(0,T.Z)(function*(f){const u=(0,Y.m9)(f);yield Kn(u),yield u.auth._persistUserIfCurrent(u),u.auth._notifyListenersIfCurrent(u)})).apply(this,arguments)}function go(){return(go=(0,T.Z)(function*(f,u){const d=yield ge(f,{},(0,T.Z)(function*(){const m=(0,Y.xO)({grant_type:"refresh_token",refresh_token:u}).slice(1),{tokenApiHost:_,apiKey:w}=f.config,P=Dt(f,_,"/v1/token",`key=${w}`),z=yield f._getAdditionalHeaders();return z["Content-Type"]="application/x-www-form-urlencoded",$.fetch()(P,{method:"POST",headers:z,body:m})}));return{accessToken:d.access_token,expiresIn:d.expires_in,refreshToken:d.refresh_token}})).apply(this,arguments)}function D(){return(D=(0,T.Z)(function*(f,u){return ne(f,"POST","/v2/accounts:revokeToken",H(f,u))})).apply(this,arguments)}class b{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(u){ce(u.idToken,"internal-error"),ce(typeof u.idToken<"u","internal-error"),ce(typeof u.refreshToken<"u","internal-error");const d="expiresIn"in u&&typeof u.expiresIn<"u"?Number(u.expiresIn):function kc(f){const u=Rn(f);return ce(u,"internal-error"),ce(typeof u.exp<"u","internal-error"),ce(typeof u.iat<"u","internal-error"),Number(u.exp)-Number(u.iat)}(u.idToken);this.updateTokensAndExpiration(u.idToken,u.refreshToken,d)}getToken(u,d=!1){var m=this;return(0,T.Z)(function*(){return ce(!m.accessToken||m.refreshToken,u,"user-token-expired"),d||!m.accessToken||m.isExpired?m.refreshToken?(yield m.refresh(u,m.refreshToken),m.accessToken):null:m.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(u,d){var m=this;return(0,T.Z)(function*(){const{accessToken:_,refreshToken:w,expiresIn:P}=yield function js(f,u){return go.apply(this,arguments)}(u,d);m.updateTokensAndExpiration(_,w,Number(P))})()}updateTokensAndExpiration(u,d,m){this.refreshToken=d||null,this.accessToken=u||null,this.expirationTime=Date.now()+1e3*m}static fromJSON(u,d){const{refreshToken:m,accessToken:_,expirationTime:w}=d,P=new b;return m&&(ce("string"==typeof m,"internal-error",{appName:u}),P.refreshToken=m),_&&(ce("string"==typeof _,"internal-error",{appName:u}),P.accessToken=_),w&&(ce("number"==typeof w,"internal-error",{appName:u}),P.expirationTime=w),P}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(u){this.accessToken=u.accessToken,this.refreshToken=u.refreshToken,this.expirationTime=u.expirationTime}_clone(){return Object.assign(new b,this.toJSON())}_performRefresh(){return xt("not implemented")}}function I(f,u){ce("string"==typeof f||typeof f>"u","internal-error",{appName:u})}class y{constructor(u){var{uid:d,auth:m,stsTokenManager:_}=u,w=(0,_t._T)(u,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new mo(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=d,this.auth=m,this.stsTokenManager=_,this.accessToken=_.accessToken,this.displayName=w.displayName||null,this.email=w.email||null,this.emailVerified=w.emailVerified||!1,this.phoneNumber=w.phoneNumber||null,this.photoURL=w.photoURL||null,this.isAnonymous=w.isAnonymous||!1,this.tenantId=w.tenantId||null,this.providerData=w.providerData?[...w.providerData]:[],this.metadata=new Zr(w.createdAt||void 0,w.lastLoginAt||void 0)}getIdToken(u){var d=this;return(0,T.Z)(function*(){const m=yield _n(d,d.stsTokenManager.getToken(d.auth,u));return ce(m,d.auth,"internal-error"),d.accessToken!==m&&(d.accessToken=m,yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)),m})()}getIdTokenResult(u){return function hi(f){return Bt.apply(this,arguments)}(this,u)}reload(){return function Pi(f){return hr.apply(this,arguments)}(this)}_assign(u){this!==u&&(ce(this.uid===u.uid,this.auth,"internal-error"),this.displayName=u.displayName,this.photoURL=u.photoURL,this.email=u.email,this.emailVerified=u.emailVerified,this.phoneNumber=u.phoneNumber,this.isAnonymous=u.isAnonymous,this.tenantId=u.tenantId,this.providerData=u.providerData.map(d=>Object.assign({},d)),this.metadata._copy(u.metadata),this.stsTokenManager._assign(u.stsTokenManager))}_clone(u){const d=new y(Object.assign(Object.assign({},this),{auth:u,stsTokenManager:this.stsTokenManager._clone()}));return d.metadata._copy(this.metadata),d}_onReload(u){ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=u,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(u){this.reloadListener?this.reloadListener(u):this.reloadUserInfo=u}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(u,d=!1){var m=this;return(0,T.Z)(function*(){let _=!1;u.idToken&&u.idToken!==m.stsTokenManager.accessToken&&(m.stsTokenManager.updateFromServerResponse(u),_=!0),d&&(yield Kn(m)),yield m.auth._persistUserIfCurrent(m),_&&m.auth._notifyListenersIfCurrent(m)})()}delete(){var u=this;return(0,T.Z)(function*(){const d=yield u.getIdToken();return yield _n(u,function ho(f,u){return fo.apply(this,arguments)}(u.auth,{idToken:d})),u.stsTokenManager.clearRefreshToken(),u.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(u=>Object.assign({},u)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(u,d){var m,_,w,P,z,se,xe,Ve;const Tt=null!==(m=d.displayName)&&void 0!==m?m:void 0,Fi=null!==(_=d.email)&&void 0!==_?_:void 0,jo=null!==(w=d.phoneNumber)&&void 0!==w?w:void 0,$u=null!==(P=d.photoURL)&&void 0!==P?P:void 0,rl=null!==(z=d.tenantId)&&void 0!==z?z:void 0,zo=null!==(se=d._redirectEventId)&&void 0!==se?se:void 0,P_=null!==(xe=d.createdAt)&&void 0!==xe?xe:void 0,$f=null!==(Ve=d.lastLoginAt)&&void 0!==Ve?Ve:void 0,{uid:Gu,emailVerified:Ba,isAnonymous:O_,providerData:_i,stsTokenManager:N_}=d;ce(Gu&&N_,u,"internal-error");const Un=b.fromJSON(this.name,N_);ce("string"==typeof Gu,u,"internal-error"),I(Tt,u.name),I(Fi,u.name),ce("boolean"==typeof Ba,u,"internal-error"),ce("boolean"==typeof O_,u,"internal-error"),I(jo,u.name),I($u,u.name),I(rl,u.name),I(zo,u.name),I(P_,u.name),I($f,u.name);const ol=new y({uid:Gu,auth:u,email:Fi,emailVerified:Ba,displayName:Tt,isAnonymous:O_,photoURL:$u,phoneNumber:jo,tenantId:rl,stsTokenManager:Un,createdAt:P_,lastLoginAt:$f});return _i&&Array.isArray(_i)&&(ol.providerData=_i.map(Pw=>Object.assign({},Pw))),zo&&(ol._redirectEventId=zo),ol}static _fromIdTokenResponse(u,d,m=!1){return(0,T.Z)(function*(){const _=new b;_.updateFromServerResponse(d);const w=new y({uid:d.localId,auth:u,stsTokenManager:_,isAnonymous:m});return yield Kn(w),w})()}}const S=new Map;function K(f){on(f instanceof Function,"Expected a class definition");let u=S.get(f);return u?(on(u instanceof f,"Instance stored in cache mismatched with class"),u):(u=new f,S.set(f,u),u)}const Te=(()=>{class f{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,T.Z)(function*(){return!0})()}_set(d,m){var _=this;return(0,T.Z)(function*(){_.storage[d]=m})()}_get(d){var m=this;return(0,T.Z)(function*(){const _=m.storage[d];return void 0===_?null:_})()}_remove(d){var m=this;return(0,T.Z)(function*(){delete m.storage[d]})()}_addListener(d,m){}_removeListener(d,m){}}return f.type="NONE",f})();function He(f,u,d){return`firebase:${f}:${u}:${d}`}class Mt{constructor(u,d,m){this.persistence=u,this.auth=d,this.userKey=m;const{config:_,name:w}=this.auth;this.fullUserKey=He(this.userKey,_.apiKey,w),this.fullPersistenceKey=He("persistence",_.apiKey,w),this.boundEventHandler=d._onStorageEvent.bind(d),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(u){return this.persistence._set(this.fullUserKey,u.toJSON())}getCurrentUser(){var u=this;return(0,T.Z)(function*(){const d=yield u.persistence._get(u.fullUserKey);return d?y._fromJSON(u.auth,d):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(u){var d=this;return(0,T.Z)(function*(){if(d.persistence===u)return;const m=yield d.getCurrentUser();return yield d.removeCurrentUser(),d.persistence=u,m?d.setCurrentUser(m):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(u,d,m="authUser"){return(0,T.Z)(function*(){if(!d.length)return new Mt(K(Te),u,m);const _=(yield Promise.all(d.map(function(){var xe=(0,T.Z)(function*(Ve){if(yield Ve._isAvailable())return Ve});return function(Ve){return xe.apply(this,arguments)}}()))).filter(xe=>xe);let w=_[0]||K(Te);const P=He(m,u.config.apiKey,u.name);let z=null;for(const xe of d)try{const Ve=yield xe._get(P);if(Ve){const Tt=y._fromJSON(u,Ve);xe!==w&&(z=Tt),w=xe;break}}catch{}const se=_.filter(xe=>xe._shouldAllowMigration);return w._shouldAllowMigration&&se.length?(w=se[0],z&&(yield w._set(P,z.toJSON())),yield Promise.all(d.map(function(){var xe=(0,T.Z)(function*(Ve){if(Ve!==w)try{yield Ve._remove(P)}catch{}});return function(Ve){return xe.apply(this,arguments)}}())),new Mt(w,u,m)):new Mt(w,u,m)})()}}function be(f){const u=f.toLowerCase();if(u.includes("opera/")||u.includes("opr/")||u.includes("opios/"))return"Opera";if(zs(u))return"IEMobile";if(u.includes("msie")||u.includes("trident/"))return"IE";if(u.includes("edge/"))return"Edge";if(Gt(u))return"Firefox";if(u.includes("silk/"))return"Silk";if(R(u))return"Blackberry";if(ae(u))return"Webos";if(Pe(u))return"Safari";if((u.includes("chrome/")||ii(u))&&!u.includes("edge/"))return"Chrome";if(L(u))return"Android";{const m=f.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===m?.length)return m[1]}return"Other"}function Gt(f=(0,Y.z$)()){return/firefox\//i.test(f)}function Pe(f=(0,Y.z$)()){const u=f.toLowerCase();return u.includes("safari/")&&!u.includes("chrome/")&&!u.includes("crios/")&&!u.includes("android")}function ii(f=(0,Y.z$)()){return/crios\//i.test(f)}function zs(f=(0,Y.z$)()){return/iemobile/i.test(f)}function L(f=(0,Y.z$)()){return/android/i.test(f)}function R(f=(0,Y.z$)()){return/blackberry/i.test(f)}function ae(f=(0,Y.z$)()){return/webos/i.test(f)}function Se(f=(0,Y.z$)()){return/iphone|ipad|ipod/i.test(f)||/macintosh/i.test(f)&&/mobile/i.test(f)}function ct(f=(0,Y.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(f)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(f)}function Pn(f=(0,Y.z$)()){return Se(f)||L(f)||ae(f)||R(f)||/windows phone/i.test(f)||zs(f)}function mt(f,u=[]){let d;switch(f){case"Browser":d=be((0,Y.z$)());break;case"Worker":d=`${be((0,Y.z$)())}-${f}`;break;default:d=f}const m=u.length?u.join(","):"FirebaseCore-web";return`${d}/JsCore/${O.SDK_VERSION}/${m}`}class Rc{constructor(u){this.auth=u,this.queue=[]}pushCallback(u,d){const m=w=>new Promise((P,z)=>{try{P(u(w))}catch(se){z(se)}});m.onAbort=d,this.queue.push(m);const _=this.queue.length-1;return()=>{this.queue[_]=()=>Promise.resolve()}}runMiddleware(u){var d=this;return(0,T.Z)(function*(){if(d.auth.currentUser===u)return;const m=[];try{for(const _ of d.queue)yield _(u),_.onAbort&&m.push(_.onAbort)}catch(_){m.reverse();for(const w of m)try{w()}catch{}throw d.auth._errorFactory.create("login-blocked",{originalMessage:_?.message})}})()}}function Hh(){return(Hh=(0,T.Z)(function*(f,u={}){return ne(f,"GET","/v2/passwordPolicy",H(f,u))})).apply(this,arguments)}class fr{constructor(u){var d,m,_,w;const P=u.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(d=P.minPasswordLength)&&void 0!==d?d:6,P.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=P.maxPasswordLength),void 0!==P.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=P.containsLowercaseCharacter),void 0!==P.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=P.containsUppercaseCharacter),void 0!==P.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=P.containsNumericCharacter),void 0!==P.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=P.containsNonAlphanumericCharacter),this.enforcementState=u.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(_=null===(m=u.allowedNonAlphanumericCharacters)||void 0===m?void 0:m.join(""))&&void 0!==_?_:"",this.forceUpgradeOnSignin=null!==(w=u.forceUpgradeOnSignin)&&void 0!==w&&w,this.schemaVersion=u.schemaVersion}validatePassword(u){var d,m,_,w,P,z;const se={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(u,se),this.validatePasswordCharacterOptions(u,se),se.isValid&&(se.isValid=null===(d=se.meetsMinPasswordLength)||void 0===d||d),se.isValid&&(se.isValid=null===(m=se.meetsMaxPasswordLength)||void 0===m||m),se.isValid&&(se.isValid=null===(_=se.containsLowercaseLetter)||void 0===_||_),se.isValid&&(se.isValid=null===(w=se.containsUppercaseLetter)||void 0===w||w),se.isValid&&(se.isValid=null===(P=se.containsNumericCharacter)||void 0===P||P),se.isValid&&(se.isValid=null===(z=se.containsNonAlphanumericCharacter)||void 0===z||z),se}validatePasswordLengthOptions(u,d){const m=this.customStrengthOptions.minPasswordLength,_=this.customStrengthOptions.maxPasswordLength;m&&(d.meetsMinPasswordLength=u.length>=m),_&&(d.meetsMaxPasswordLength=u.length<=_)}validatePasswordCharacterOptions(u,d){let m;this.updatePasswordCharacterOptionsStatuses(d,!1,!1,!1,!1);for(let _=0;_<u.length;_++)m=u.charAt(_),this.updatePasswordCharacterOptionsStatuses(d,m>="a"&&m<="z",m>="A"&&m<="Z",m>="0"&&m<="9",this.allowedNonAlphanumericCharacters.includes(m))}updatePasswordCharacterOptionsStatuses(u,d,m,_,w){this.customStrengthOptions.containsLowercaseLetter&&(u.containsLowercaseLetter||(u.containsLowercaseLetter=d)),this.customStrengthOptions.containsUppercaseLetter&&(u.containsUppercaseLetter||(u.containsUppercaseLetter=m)),this.customStrengthOptions.containsNumericCharacter&&(u.containsNumericCharacter||(u.containsNumericCharacter=_)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(u.containsNonAlphanumericCharacter||(u.containsNonAlphanumericCharacter=w))}}class hA{constructor(u,d,m,_){this.app=u,this.heartbeatServiceProvider=d,this.appCheckServiceProvider=m,this.config=_,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new q0(this),this.idTokenSubscription=new q0(this),this.beforeStateQueue=new Rc(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=u.name,this.clientVersion=_.sdkClientVersion}_initializeWithPersistence(u,d){var m=this;return d&&(this._popupRedirectResolver=K(d)),this._initializationPromise=this.queue((0,T.Z)(function*(){var _,w;if(!m._deleted&&(m.persistenceManager=yield Mt.create(m,u),!m._deleted)){if(null!==(_=m._popupRedirectResolver)&&void 0!==_&&_._shouldInitProactively)try{yield m._popupRedirectResolver._initialize(m)}catch{}yield m.initializeCurrentUser(d),m.lastNotifiedUid=(null===(w=m.currentUser)||void 0===w?void 0:w.uid)||null,!m._deleted&&(m._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var u=this;return(0,T.Z)(function*(){if(u._deleted)return;const d=yield u.assertedPersistence.getCurrentUser();if(u.currentUser||d){if(u.currentUser&&d&&u.currentUser.uid===d.uid)return u._currentUser._assign(d),void(yield u.currentUser.getIdToken());yield u._updateCurrentUser(d,!0)}})()}initializeCurrentUser(u){var d=this;return(0,T.Z)(function*(){var m;const _=yield d.assertedPersistence.getCurrentUser();let w=_,P=!1;if(u&&d.config.authDomain){yield d.getOrInitRedirectPersistenceManager();const z=null===(m=d.redirectUser)||void 0===m?void 0:m._redirectEventId,se=w?._redirectEventId,xe=yield d.tryRedirectSignIn(u);(!z||z===se)&&xe?.user&&(w=xe.user,P=!0)}if(!w)return d.directlySetCurrentUser(null);if(!w._redirectEventId){if(P)try{yield d.beforeStateQueue.runMiddleware(w)}catch(z){w=_,d._popupRedirectResolver._overrideRedirectResult(d,()=>Promise.reject(z))}return w?d.reloadAndSetCurrentUserOrClear(w):d.directlySetCurrentUser(null)}return ce(d._popupRedirectResolver,d,"argument-error"),yield d.getOrInitRedirectPersistenceManager(),d.redirectUser&&d.redirectUser._redirectEventId===w._redirectEventId?d.directlySetCurrentUser(w):d.reloadAndSetCurrentUserOrClear(w)})()}tryRedirectSignIn(u){var d=this;return(0,T.Z)(function*(){let m=null;try{m=yield d._popupRedirectResolver._completeRedirectFn(d,u,!0)}catch{yield d._setRedirectUser(null)}return m})()}reloadAndSetCurrentUserOrClear(u){var d=this;return(0,T.Z)(function*(){try{yield Kn(u)}catch(m){if("auth/network-request-failed"!==m?.code)return d.directlySetCurrentUser(null)}return d.directlySetCurrentUser(u)})()}useDeviceLanguage(){this.languageCode=function et(){if(typeof navigator>"u")return null;const f=navigator;return f.languages&&f.languages[0]||f.language||null}()}_delete(){var u=this;return(0,T.Z)(function*(){u._deleted=!0})()}updateCurrentUser(u){var d=this;return(0,T.Z)(function*(){const m=u?(0,Y.m9)(u):null;return m&&ce(m.auth.config.apiKey===d.config.apiKey,d,"invalid-user-token"),d._updateCurrentUser(m&&m._clone(d))})()}_updateCurrentUser(u,d=!1){var m=this;return(0,T.Z)(function*(){if(!m._deleted)return u&&ce(m.tenantId===u.tenantId,m,"tenant-id-mismatch"),d||(yield m.beforeStateQueue.runMiddleware(u)),m.queue((0,T.Z)(function*(){yield m.directlySetCurrentUser(u),m.notifyAuthListeners()}))})()}signOut(){var u=this;return(0,T.Z)(function*(){return yield u.beforeStateQueue.runMiddleware(null),(u.redirectPersistenceManager||u._popupRedirectResolver)&&(yield u._setRedirectUser(null)),u._updateCurrentUser(null,!0)})()}setPersistence(u){var d=this;return this.queue((0,T.Z)(function*(){yield d.assertedPersistence.setPersistence(K(u))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(u){var d=this;return(0,T.Z)(function*(){d._getPasswordPolicyInternal()||(yield d._updatePasswordPolicy());const m=d._getPasswordPolicyInternal();return m.schemaVersion!==d.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(d._errorFactory.create("unsupported-password-policy-schema-version",{})):m.validatePassword(u)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var u=this;return(0,T.Z)(function*(){const d=yield function dA(f){return Hh.apply(this,arguments)}(u),m=new fr(d);null===u.tenantId?u._projectPasswordPolicy=m:u._tenantPasswordPolicies[u.tenantId]=m})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(u){this._errorFactory=new Y.LL("auth","Firebase",u())}onAuthStateChanged(u,d,m){return this.registerStateListener(this.authStateSubscription,u,d,m)}beforeAuthStateChanged(u,d){return this.beforeStateQueue.pushCallback(u,d)}onIdTokenChanged(u,d,m){return this.registerStateListener(this.idTokenSubscription,u,d,m)}authStateReady(){return new Promise((u,d)=>{if(this.currentUser)u();else{const m=this.onAuthStateChanged(()=>{m(),u()},d)}})}revokeAccessToken(u){var d=this;return(0,T.Z)(function*(){if(d.currentUser){const m=yield d.currentUser.getIdToken(),_={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:u,idToken:m};null!=d.tenantId&&(_.tenantId=d.tenantId),yield function M(f,u){return D.apply(this,arguments)}(d,_)}})()}toJSON(){var u;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(u=this._currentUser)||void 0===u?void 0:u.toJSON()}}_setRedirectUser(u,d){var m=this;return(0,T.Z)(function*(){const _=yield m.getOrInitRedirectPersistenceManager(d);return null===u?_.removeCurrentUser():_.setCurrentUser(u)})()}getOrInitRedirectPersistenceManager(u){var d=this;return(0,T.Z)(function*(){if(!d.redirectPersistenceManager){const m=u&&K(u)||d._popupRedirectResolver;ce(m,d,"argument-error"),d.redirectPersistenceManager=yield Mt.create(d,[K(m._redirectPersistence)],"redirectUser"),d.redirectUser=yield d.redirectPersistenceManager.getCurrentUser()}return d.redirectPersistenceManager})()}_redirectUserForId(u){var d=this;return(0,T.Z)(function*(){var m,_;return d._isInitialized&&(yield d.queue((0,T.Z)(function*(){}))),(null===(m=d._currentUser)||void 0===m?void 0:m._redirectEventId)===u?d._currentUser:(null===(_=d.redirectUser)||void 0===_?void 0:_._redirectEventId)===u?d.redirectUser:null})()}_persistUserIfCurrent(u){var d=this;return(0,T.Z)(function*(){if(u===d.currentUser)return d.queue((0,T.Z)(function*(){return d.directlySetCurrentUser(u)}))})()}_notifyListenersIfCurrent(u){u===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var u,d;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const m=null!==(d=null===(u=this.currentUser)||void 0===u?void 0:u.uid)&&void 0!==d?d:null;this.lastNotifiedUid!==m&&(this.lastNotifiedUid=m,this.authStateSubscription.next(this.currentUser))}registerStateListener(u,d,m,_){if(this._deleted)return()=>{};const w="function"==typeof d?d:d.next.bind(d);let P=!1;const z=this._isInitialized?Promise.resolve():this._initializationPromise;if(ce(z,this,"internal-error"),z.then(()=>{P||w(this.currentUser)}),"function"==typeof d){const se=u.addObserver(d,m,_);return()=>{P=!0,se()}}{const se=u.addObserver(d);return()=>{P=!0,se()}}}directlySetCurrentUser(u){var d=this;return(0,T.Z)(function*(){d.currentUser&&d.currentUser!==u&&d._currentUser._stopProactiveRefresh(),u&&d.isProactiveRefreshEnabled&&u._startProactiveRefresh(),d.currentUser=u,u?yield d.assertedPersistence.setCurrentUser(u):yield d.assertedPersistence.removeCurrentUser()})()}queue(u){return this.operations=this.operations.then(u,u),this.operations}get assertedPersistence(){return ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(u){!u||this.frameworks.includes(u)||(this.frameworks.push(u),this.frameworks.sort(),this.clientVersion=mt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var u=this;return(0,T.Z)(function*(){var d;const m={"X-Client-Version":u.clientVersion};u.app.options.appId&&(m["X-Firebase-gmpid"]=u.app.options.appId);const _=yield null===(d=u.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getHeartbeatsHeader();_&&(m["X-Firebase-Client"]=_);const w=yield u._getAppCheckToken();return w&&(m["X-Firebase-AppCheck"]=w),m})()}_getAppCheckToken(){var u=this;return(0,T.Z)(function*(){var d;const m=yield null===(d=u.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getToken();return m?.error&&function ni(f,...u){Qe.logLevel<=Me.in.WARN&&Qe.warn(`Auth (${O.SDK_VERSION}): ${f}`,...u)}(`Error while retrieving App Check token: ${m.error}`),m?.token})()}}function vn(f){return(0,Y.m9)(f)}class q0{constructor(u){this.auth=u,this.observer=null,this.addObserver=(0,Y.ne)(d=>this.observer=d)}get next(){return ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Rg(f){return new Promise((u,d)=>{const m=document.createElement("script");m.setAttribute("src",f),m.onload=u,m.onerror=_=>{const w=jt("internal-error");w.customData=_,d(w)},m.type="text/javascript",m.charset="UTF-8",function Hs(){var f,u;return null!==(u=null===(f=document.getElementsByTagName("head"))||void 0===f?void 0:f[0])&&void 0!==u?u:document}().appendChild(m)})}function W0(f){return`__${f}${Math.floor(1e6*Math.random())}`}class K0{constructor(u){this.type="recaptcha-enterprise",this.auth=vn(u)}verify(u="verify",d=!1){var m=this;return(0,T.Z)(function*(){function w(){return w=(0,T.Z)(function*(z){if(!d){if(null==z.tenantId&&null!=z._agentRecaptchaConfig)return z._agentRecaptchaConfig.siteKey;if(null!=z.tenantId&&void 0!==z._tenantRecaptchaConfigs[z.tenantId])return z._tenantRecaptchaConfigs[z.tenantId].siteKey}return new Promise(function(){var se=(0,T.Z)(function*(xe,Ve){uo(z,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Tt=>{if(void 0!==Tt.recaptchaKey){const Fi=new di(Tt);return null==z.tenantId?z._agentRecaptchaConfig=Fi:z._tenantRecaptchaConfigs[z.tenantId]=Fi,xe(Fi.siteKey)}Ve(new Error("recaptcha Enterprise site key undefined"))}).catch(Tt=>{Ve(Tt)})});return function(xe,Ve){return se.apply(this,arguments)}}())}),w.apply(this,arguments)}function P(z,se,xe){const Ve=window.grecaptcha;Zn(Ve)?Ve.enterprise.ready(()=>{Ve.enterprise.execute(z,{action:u}).then(Tt=>{se(Tt)}).catch(()=>{se("NO_RECAPTCHA")})}):xe(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((z,se)=>{(function _(z){return w.apply(this,arguments)})(m.auth).then(xe=>{if(!d&&Zn(window.grecaptcha))P(xe,z,se);else{if(typeof window>"u")return void se(new Error("RecaptchaVerifier is only supported in browser"));Rg("https://www.google.com/recaptcha/enterprise.js?render="+xe).then(()=>{P(xe,z,se)}).catch(Ve=>{se(Ve)})}}).catch(xe=>{se(xe)})})})()}}function Pg(f,u,d){return Og.apply(this,arguments)}function Og(){return(Og=(0,T.Z)(function*(f,u,d,m=!1){const _=new K0(f);let w;try{w=yield _.verify(d)}catch{w=yield _.verify(d,!0)}const P=Object.assign({},u);return Object.assign(P,m?{captchaResp:w}:{captchaResponse:w}),Object.assign(P,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(P,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),P})).apply(this,arguments)}function Ti(f,u,d,m){return $e.apply(this,arguments)}function $e(){return $e=(0,T.Z)(function*(f,u,d,m){var _;if(null!==(_=f._getRecaptchaConfig())&&void 0!==_&&_.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const w=yield Pg(f,u,d,"getOobCode"===d);return m(f,w)}return m(f,u).catch(function(){var w=(0,T.Z)(function*(P){if("auth/missing-recaptcha-token"===P.code){console.log(`${d} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const z=yield Pg(f,u,d,"getOobCode"===d);return m(f,z)}return Promise.reject(P)});return function(P){return w.apply(this,arguments)}}())}),$e.apply(this,arguments)}function Y0(f,u,d){const m=vn(f);ce(m._canInitEmulator,m,"emulator-config-failed"),ce(/^https?:\/\//.test(u),m,"invalid-emulator-scheme");const _=!!d?.disableWarnings,w=wt(u),{host:P,port:z}=function cu(f){const u=wt(f),d=/(\/\/)?([^?#/]+)/.exec(f.substr(u.length));if(!d)return{host:"",port:null};const m=d[2].split("@").pop()||"",_=/^(\[[^\]]+\])(:|$)/.exec(m);if(_){const w=_[1];return{host:w,port:Fg(m.substr(w.length+1))}}{const[w,P]=m.split(":");return{host:w,port:Fg(P)}}}(u);m.config.emulator={url:`${w}//${P}${null===z?"":`:${z}`}/`},m.settings.appVerificationDisabledForTesting=!0,m.emulatorConfig=Object.freeze({host:P,port:z,protocol:w.replace(":",""),options:Object.freeze({disableWarnings:_})}),_||function Lg(){function f(){const u=document.createElement("p"),d=u.style;u.innerText="Running in emulator mode. Do not use with production credentials.",d.position="fixed",d.width="100%",d.backgroundColor="#ffffff",d.border=".1em solid #000000",d.color="#b50000",d.bottom="0px",d.left="0px",d.margin="0px",d.zIndex="10000",d.textAlign="center",u.classList.add("firebase-emulator-warning"),document.body.appendChild(u)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",f):f())}()}function wt(f){const u=f.indexOf(":");return u<0?"":f.substr(0,u+1)}function Fg(f){if(!f)return null;const u=Number(f);return isNaN(u)?null:u}class Ca{constructor(u,d){this.providerId=u,this.signInMethod=d}toJSON(){return xt("not implemented")}_getIdTokenResponse(u){return xt("not implemented")}_linkToIdToken(u,d){return xt("not implemented")}_getReauthenticationResolver(u){return xt("not implemented")}}function Pc(f,u){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,T.Z)(function*(f,u){return ne(f,"POST","/v1/accounts:resetPassword",H(f,u))})).apply(this,arguments)}function lu(){return(lu=(0,T.Z)(function*(f,u){return ne(f,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function Q0(f,u){return ht.apply(this,arguments)}function ht(){return(ht=(0,T.Z)(function*(f,u){return ne(f,"POST","/v1/accounts:signUp",u)})).apply(this,arguments)}function uu(){return(uu=(0,T.Z)(function*(f,u){return ne(f,"POST","/v1/accounts:update",H(f,u))})).apply(this,arguments)}function Gi(f,u){return du.apply(this,arguments)}function du(){return(du=(0,T.Z)(function*(f,u){return me(f,"POST","/v1/accounts:signInWithPassword",H(f,u))})).apply(this,arguments)}function Wh(f,u){return qt.apply(this,arguments)}function qt(){return(qt=(0,T.Z)(function*(f,u){return ne(f,"POST","/v1/accounts:sendOobCode",H(f,u))})).apply(this,arguments)}function Vg(){return(Vg=(0,T.Z)(function*(f,u){return Wh(f,u)})).apply(this,arguments)}function Zh(f,u){return Oc.apply(this,arguments)}function Oc(){return(Oc=(0,T.Z)(function*(f,u){return Wh(f,u)})).apply(this,arguments)}function Bg(f,u){return Nc.apply(this,arguments)}function Nc(){return(Nc=(0,T.Z)(function*(f,u){return Wh(f,u)})).apply(this,arguments)}function Fc(){return(Fc=(0,T.Z)(function*(f,u){return Wh(f,u)})).apply(this,arguments)}function Ug(){return(Ug=(0,T.Z)(function*(f,u){return me(f,"POST","/v1/accounts:signInWithEmailLink",H(f,u))})).apply(this,arguments)}function jg(){return(jg=(0,T.Z)(function*(f,u){return me(f,"POST","/v1/accounts:signInWithEmailLink",H(f,u))})).apply(this,arguments)}class hu extends Ca{constructor(u,d,m,_=null){super("password",m),this._email=u,this._password=d,this._tenantId=_}static _fromEmailAndPassword(u,d){return new hu(u,d,"password")}static _fromEmailAndCode(u,d,m=null){return new hu(u,d,"emailLink",m)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(u){const d="string"==typeof u?JSON.parse(u):u;if(d?.email&&d?.password){if("password"===d.signInMethod)return this._fromEmailAndPassword(d.email,d.password);if("emailLink"===d.signInMethod)return this._fromEmailAndCode(d.email,d.password,d.tenantId)}return null}_getIdTokenResponse(u){var d=this;return(0,T.Z)(function*(){switch(d.signInMethod){case"password":return Ti(u,{returnSecureToken:!0,email:d._email,password:d._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Gi);case"emailLink":return function vA(f,u){return Ug.apply(this,arguments)}(u,{email:d._email,oobCode:d._password});default:vt(u,"internal-error")}})()}_linkToIdToken(u,d){var m=this;return(0,T.Z)(function*(){switch(m.signInMethod){case"password":return Ti(u,{idToken:d,returnSecureToken:!0,email:m._email,password:m._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Q0);case"emailLink":return function yA(f,u){return jg.apply(this,arguments)}(u,{idToken:d,email:m._email,oobCode:m._password});default:vt(u,"internal-error")}})()}_getReauthenticationResolver(u){return this._getIdTokenResponse(u)}}function pr(f,u){return Lc.apply(this,arguments)}function Lc(){return(Lc=(0,T.Z)(function*(f,u){return me(f,"POST","/v1/accounts:signInWithIdp",H(f,u))})).apply(this,arguments)}class _o extends Ca{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(u){const d=new _o(u.providerId,u.signInMethod);return u.idToken||u.accessToken?(u.idToken&&(d.idToken=u.idToken),u.accessToken&&(d.accessToken=u.accessToken),u.nonce&&!u.pendingToken&&(d.nonce=u.nonce),u.pendingToken&&(d.pendingToken=u.pendingToken)):u.oauthToken&&u.oauthTokenSecret?(d.accessToken=u.oauthToken,d.secret=u.oauthTokenSecret):vt("argument-error"),d}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(u){const d="string"==typeof u?JSON.parse(u):u,{providerId:m,signInMethod:_}=d,w=(0,_t._T)(d,["providerId","signInMethod"]);if(!m||!_)return null;const P=new _o(m,_);return P.idToken=w.idToken||void 0,P.accessToken=w.accessToken||void 0,P.secret=w.secret,P.nonce=w.nonce,P.pendingToken=w.pendingToken||null,P}_getIdTokenResponse(u){return pr(u,this.buildRequest())}_linkToIdToken(u,d){const m=this.buildRequest();return m.idToken=d,pr(u,m)}_getReauthenticationResolver(u){const d=this.buildRequest();return d.autoCreate=!1,pr(u,d)}buildRequest(){const u={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)u.pendingToken=this.pendingToken;else{const d={};this.idToken&&(d.id_token=this.idToken),this.accessToken&&(d.access_token=this.accessToken),this.secret&&(d.oauth_token_secret=this.secret),d.providerId=this.providerId,this.nonce&&!this.pendingToken&&(d.nonce=this.nonce),u.postBody=(0,Y.xO)(d)}return u}}function Kh(){return(Kh=(0,T.Z)(function*(f,u){return ne(f,"POST","/v1/accounts:sendVerificationCode",H(f,u))})).apply(this,arguments)}function is(){return(is=(0,T.Z)(function*(f,u){return me(f,"POST","/v1/accounts:signInWithPhoneNumber",H(f,u))})).apply(this,arguments)}function vo(){return(vo=(0,T.Z)(function*(f,u){const d=yield me(f,"POST","/v1/accounts:signInWithPhoneNumber",H(f,u));if(d.temporaryProof)throw gn(f,"account-exists-with-different-credential",d);return d})).apply(this,arguments)}const tw={USER_NOT_FOUND:"user-not-found"};function pu(){return(pu=(0,T.Z)(function*(f,u){return me(f,"POST","/v1/accounts:signInWithPhoneNumber",H(f,Object.assign(Object.assign({},u),{operation:"REAUTH"})),tw)})).apply(this,arguments)}class he extends Ca{constructor(u){super("phone","phone"),this.params=u}static _fromVerification(u,d){return new he({verificationId:u,verificationCode:d})}static _fromTokenResponse(u,d){return new he({phoneNumber:u,temporaryProof:d})}_getIdTokenResponse(u){return function zg(f,u){return is.apply(this,arguments)}(u,this._makeVerificationRequest())}_linkToIdToken(u,d){return function ew(f,u){return vo.apply(this,arguments)}(u,Object.assign({idToken:d},this._makeVerificationRequest()))}_getReauthenticationResolver(u){return function V(f,u){return pu.apply(this,arguments)}(u,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:u,phoneNumber:d,verificationId:m,verificationCode:_}=this.params;return u&&d?{temporaryProof:u,phoneNumber:d}:{sessionInfo:m,code:_}}toJSON(){const u={providerId:this.providerId};return this.params.phoneNumber&&(u.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(u.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(u.verificationCode=this.params.verificationCode),this.params.verificationId&&(u.verificationId=this.params.verificationId),u}static fromJSON(u){"string"==typeof u&&(u=JSON.parse(u));const{verificationId:d,verificationCode:m,phoneNumber:_,temporaryProof:w}=u;return m||d||_||w?new he({verificationId:d,verificationCode:m,phoneNumber:_,temporaryProof:w}):null}}class Fo{constructor(u){var d,m,_,w,P,z;const se=(0,Y.zd)((0,Y.pd)(u)),xe=null!==(d=se.apiKey)&&void 0!==d?d:null,Ve=null!==(m=se.oobCode)&&void 0!==m?m:null,Tt=function mu(f){switch(f){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(_=se.mode)&&void 0!==_?_:null);ce(xe&&Ve&&Tt,"argument-error"),this.apiKey=xe,this.operation=Tt,this.code=Ve,this.continueUrl=null!==(w=se.continueUrl)&&void 0!==w?w:null,this.languageCode=null!==(P=se.languageCode)&&void 0!==P?P:null,this.tenantId=null!==(z=se.tenantId)&&void 0!==z?z:null}static parseLink(u){const d=function Yh(f){const u=(0,Y.zd)((0,Y.pd)(f)).link,d=u?(0,Y.zd)((0,Y.pd)(u)).deep_link_id:null,m=(0,Y.zd)((0,Y.pd)(f)).deep_link_id;return(m?(0,Y.zd)((0,Y.pd)(m)).link:null)||m||d||u||f}(u);try{return new Fo(d)}catch{return null}}}let Qh=(()=>{class f{constructor(){this.providerId=f.PROVIDER_ID}static credential(d,m){return hu._fromEmailAndPassword(d,m)}static credentialWithLink(d,m){const _=Fo.parseLink(m);return ce(_,"argument-error"),hu._fromEmailAndCode(d,_.code,_.tenantId)}}return f.PROVIDER_ID="password",f.EMAIL_PASSWORD_SIGN_IN_METHOD="password",f.EMAIL_LINK_SIGN_IN_METHOD="emailLink",f})();class Lo{constructor(u){this.providerId=u,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(u){this.defaultLanguageCode=u}setCustomParameters(u){return this.customParameters=u,this}getCustomParameters(){return this.customParameters}}class qi extends Lo{constructor(){super(...arguments),this.scopes=[]}addScope(u){return this.scopes.includes(u)||this.scopes.push(u),this}getScopes(){return[...this.scopes]}}class rs extends qi{static credentialFromJSON(u){const d="string"==typeof u?JSON.parse(u):u;return ce("providerId"in d&&"signInMethod"in d,"argument-error"),_o._fromParams(d)}credential(u){return this._credential(Object.assign(Object.assign({},u),{nonce:u.rawNonce}))}_credential(u){return ce(u.idToken||u.accessToken,"argument-error"),_o._fromParams(Object.assign(Object.assign({},u),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(u){return rs.oauthCredentialFromTaggedObject(u)}static credentialFromError(u){return rs.oauthCredentialFromTaggedObject(u.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{oauthIdToken:d,oauthAccessToken:m,oauthTokenSecret:_,pendingToken:w,nonce:P,providerId:z}=u;if(!m&&!_&&!d&&!w||!z)return null;try{return new rs(z)._credential({idToken:d,accessToken:m,nonce:P,pendingToken:w})}catch{return null}}}let Rr=(()=>{class f extends qi{constructor(){super("facebook.com")}static credential(d){return _o._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.FACEBOOK_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return f.credential(d.oauthAccessToken)}catch{return null}}}return f.FACEBOOK_SIGN_IN_METHOD="facebook.com",f.PROVIDER_ID="facebook.com",f})(),yo=(()=>{class f extends qi{constructor(){super("google.com"),this.addScope("profile")}static credential(d,m){return _o._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.GOOGLE_SIGN_IN_METHOD,idToken:d,accessToken:m})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:m,oauthAccessToken:_}=d;if(!m&&!_)return null;try{return f.credential(m,_)}catch{return null}}}return f.GOOGLE_SIGN_IN_METHOD="google.com",f.PROVIDER_ID="google.com",f})(),Ot=(()=>{class f extends qi{constructor(){super("github.com")}static credential(d){return _o._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.GITHUB_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return f.credential(d.oauthAccessToken)}catch{return null}}}return f.GITHUB_SIGN_IN_METHOD="github.com",f.PROVIDER_ID="github.com",f})();class os extends Ca{constructor(u,d){super(u,u),this.pendingToken=d}_getIdTokenResponse(u){return pr(u,this.buildRequest())}_linkToIdToken(u,d){const m=this.buildRequest();return m.idToken=d,pr(u,m)}_getReauthenticationResolver(u){const d=this.buildRequest();return d.autoCreate=!1,pr(u,d)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(u){const d="string"==typeof u?JSON.parse(u):u,{providerId:m,signInMethod:_,pendingToken:w}=d;return m&&_&&w&&m===_?new os(m,w):null}static _create(u,d){return new os(u,d)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Vc extends Lo{constructor(u){ce(u.startsWith("saml."),"argument-error"),super(u)}static credentialFromResult(u){return Vc.samlCredentialFromTaggedObject(u)}static credentialFromError(u){return Vc.samlCredentialFromTaggedObject(u.customData||{})}static credentialFromJSON(u){const d=os.fromJSON(u);return ce(d,"argument-error"),d}static samlCredentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{pendingToken:d,providerId:m}=u;if(!d||!m)return null;try{return os._create(m,d)}catch{return null}}}let Vo=(()=>{class f extends qi{constructor(){super("twitter.com")}static credential(d,m){return _o._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.TWITTER_SIGN_IN_METHOD,oauthToken:d,oauthTokenSecret:m})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthAccessToken:m,oauthTokenSecret:_}=d;if(!m||!_)return null;try{return f.credential(m,_)}catch{return null}}}return f.TWITTER_SIGN_IN_METHOD="twitter.com",f.PROVIDER_ID="twitter.com",f})();function xa(f,u){return _u.apply(this,arguments)}function _u(){return(_u=(0,T.Z)(function*(f,u){return me(f,"POST","/v1/accounts:signUp",H(f,u))})).apply(this,arguments)}class mr{constructor(u){this.user=u.user,this.providerId=u.providerId,this._tokenResponse=u._tokenResponse,this.operationType=u.operationType}static _fromIdTokenResponse(u,d,m,_=!1){return(0,T.Z)(function*(){const w=yield y._fromIdTokenResponse(u,m,_),P=vu(m);return new mr({user:w,providerId:P,_tokenResponse:m,operationType:d})})()}static _forOperation(u,d,m){return(0,T.Z)(function*(){yield u._updateTokensIfNecessary(m,!0);const _=vu(m);return new mr({user:u,providerId:_,_tokenResponse:m,operationType:d})})()}}function vu(f){return f.providerId?f.providerId:"phoneNumber"in f?"phone":null}function Hg(f){return yu.apply(this,arguments)}function yu(){return(yu=(0,T.Z)(function*(f){var u;const d=vn(f);if(yield d._initializationPromise,null!==(u=d.currentUser)&&void 0!==u&&u.isAnonymous)return new mr({user:d.currentUser,providerId:null,operationType:"signIn"});const m=yield xa(d,{returnSecureToken:!0}),_=yield mr._fromIdTokenResponse(d,"signIn",m,!0);return yield d._updateCurrentUser(_.user),_})).apply(this,arguments)}class ss extends Y.ZR{constructor(u,d,m,_){var w;super(d.code,d.message),this.operationType=m,this.user=_,Object.setPrototypeOf(this,ss.prototype),this.customData={appName:u.name,tenantId:null!==(w=u.tenantId)&&void 0!==w?w:void 0,_serverResponse:d.customData._serverResponse,operationType:m}}static _fromErrorAndOperation(u,d,m,_){return new ss(u,d,m,_)}}function Jh(f,u,d,m){return("reauthenticate"===u?d._getReauthenticationResolver(f):d._getIdTokenResponse(f)).catch(w=>{throw"auth/multi-factor-auth-required"===w.code?ss._fromErrorAndOperation(f,w,u,m):w})}function ef(f){return new Set(f.map(({providerId:u})=>u).filter(u=>!!u))}function nw(f,u){return bu.apply(this,arguments)}function bu(){return bu=(0,T.Z)(function*(f,u){const d=(0,Y.m9)(f);yield Wi(!0,d,u);const{providerUserInfo:m}=yield function qr(f,u){return Wr.apply(this,arguments)}(d.auth,{idToken:yield d.getIdToken(),deleteProvider:[u]}),_=ef(m||[]);return d.providerData=d.providerData.filter(w=>_.has(w.providerId)),_.has("phone")||(d.phoneNumber=null),yield d.auth._persistUserIfCurrent(d),d}),bu.apply(this,arguments)}function tf(f,u){return nf.apply(this,arguments)}function nf(){return(nf=(0,T.Z)(function*(f,u,d=!1){const m=yield _n(f,u._linkToIdToken(f.auth,yield f.getIdToken()),d);return mr._forOperation(f,"link",m)})).apply(this,arguments)}function Wi(f,u,d){return rf.apply(this,arguments)}function rf(){return(rf=(0,T.Z)(function*(f,u,d){yield Kn(u);const _=!1===f?"provider-already-linked":"no-such-provider";ce(ef(u.providerData).has(d)===f,u.auth,_)})).apply(this,arguments)}function sf(f,u){return af.apply(this,arguments)}function af(){return(af=(0,T.Z)(function*(f,u,d=!1){const{auth:m}=f,_="reauthenticate";try{const w=yield _n(f,Jh(m,_,u,f),d);ce(w.idToken,m,"internal-error");const P=Rn(w.idToken);ce(P,m,"internal-error");const{sub:z}=P;return ce(f.uid===z,m,"user-mismatch"),mr._forOperation(f,_,w)}catch(w){throw"auth/user-not-found"===w?.code&&vt(m,"user-mismatch"),w}})).apply(this,arguments)}function $g(f,u){return cf.apply(this,arguments)}function cf(){return(cf=(0,T.Z)(function*(f,u,d=!1){const m="signIn",_=yield Jh(f,m,u),w=yield mr._fromIdTokenResponse(f,m,_);return d||(yield f._updateCurrentUser(w.user)),w})).apply(this,arguments)}function wu(f,u){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,T.Z)(function*(f,u){return $g(vn(f),u)})).apply(this,arguments)}function Gg(f,u){return lf.apply(this,arguments)}function lf(){return(lf=(0,T.Z)(function*(f,u){const d=(0,Y.m9)(f);return yield Wi(!1,d,u.providerId),tf(d,u)})).apply(this,arguments)}function qg(f,u){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,T.Z)(function*(f,u){return sf((0,Y.m9)(f),u)})).apply(this,arguments)}function uf(){return(uf=(0,T.Z)(function*(f,u){return me(f,"POST","/v1/accounts:signInWithCustomToken",H(f,u))})).apply(this,arguments)}function rw(f,u){return Et.apply(this,arguments)}function Et(){return Et=(0,T.Z)(function*(f,u){const d=vn(f),m=yield function iw(f,u){return uf.apply(this,arguments)}(d,{token:u,returnSecureToken:!0}),_=yield mr._fromIdTokenResponse(d,"signIn",m);return yield d._updateCurrentUser(_.user),_}),Et.apply(this,arguments)}class Bc{constructor(u,d){this.factorId=u,this.uid=d.mfaEnrollmentId,this.enrollmentTime=new Date(d.enrolledAt).toUTCString(),this.displayName=d.displayName}static _fromServerResponse(u,d){return"phoneInfo"in d?Iu._fromServerResponse(u,d):"totpInfo"in d?Ee._fromServerResponse(u,d):vt(u,"internal-error")}}class Iu extends Bc{constructor(u){super("phone",u),this.phoneNumber=u.phoneInfo}static _fromServerResponse(u,d){return new Iu(d)}}class Ee extends Bc{constructor(u){super("totp",u)}static _fromServerResponse(u,d){return new Ee(d)}}function fi(f,u,d){var m;ce((null===(m=d.url)||void 0===m?void 0:m.length)>0,f,"invalid-continue-uri"),ce(typeof d.dynamicLinkDomain>"u"||d.dynamicLinkDomain.length>0,f,"invalid-dynamic-link-domain"),u.continueUrl=d.url,u.dynamicLinkDomain=d.dynamicLinkDomain,u.canHandleCodeInApp=d.handleCodeInApp,d.iOS&&(ce(d.iOS.bundleId.length>0,f,"missing-ios-bundle-id"),u.iOSBundleId=d.iOS.bundleId),d.android&&(ce(d.android.packageName.length>0,f,"missing-android-pkg-name"),u.androidInstallApp=d.android.installApp,u.androidMinimumVersionCode=d.android.minimumVersion,u.androidPackageName=d.android.packageName)}function It(f){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,T.Z)(function*(f){const u=vn(f);u._getPasswordPolicyInternal()&&(yield u._updatePasswordPolicy())})).apply(this,arguments)}function Oi(f,u,d){return as.apply(this,arguments)}function as(){return(as=(0,T.Z)(function*(f,u,d){const m=vn(f),_={requestType:"PASSWORD_RESET",email:u,clientType:"CLIENT_TYPE_WEB"};d&&fi(m,_,d),yield Ti(m,_,"getOobCode",Zh)})).apply(this,arguments)}function gr(f,u,d){return Cu.apply(this,arguments)}function Cu(){return Cu=(0,T.Z)(function*(f,u,d){yield Pc((0,Y.m9)(f),{oobCode:u,newPassword:d}).catch(function(){var m=(0,T.Z)(function*(_){throw"auth/password-does-not-meet-requirements"===_.code&&It(f),_});return function(_){return m.apply(this,arguments)}}())}),Cu.apply(this,arguments)}function Wg(f,u){return Da.apply(this,arguments)}function Da(){return Da=(0,T.Z)(function*(f,u){yield function qh(f,u){return uu.apply(this,arguments)}((0,Y.m9)(f),{oobCode:u})}),Da.apply(this,arguments)}function Zg(f,u){return df.apply(this,arguments)}function df(){return(df=(0,T.Z)(function*(f,u){const d=(0,Y.m9)(f),m=yield Pc(d,{oobCode:u}),_=m.requestType;switch(ce(_,d,"internal-error"),_){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ce(m.newEmail,d,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ce(m.mfaInfo,d,"internal-error");default:ce(m.email,d,"internal-error")}let w=null;return m.mfaInfo&&(w=Bc._fromServerResponse(vn(d),m.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===m.requestType?m.newEmail:m.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===m.requestType?m.email:m.newEmail)||null,multiFactorInfo:w},operation:_}})).apply(this,arguments)}function Dn(f,u){return ye.apply(this,arguments)}function ye(){return(ye=(0,T.Z)(function*(f,u){const{data:d}=yield Zg((0,Y.m9)(f),u);return d.email})).apply(this,arguments)}function it(f,u,d){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,T.Z)(function*(f,u,d){const m=vn(f),P=yield Ti(m,{returnSecureToken:!0,email:u,password:d,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",xa).catch(se=>{throw"auth/password-does-not-meet-requirements"===se.code&&It(f),se}),z=yield mr._fromIdTokenResponse(m,"signIn",P);return yield m._updateCurrentUser(z.user),z})).apply(this,arguments)}function Kr(f,u,d){return wu((0,Y.m9)(f),Qh.credential(u,d)).catch(function(){var m=(0,T.Z)(function*(_){throw"auth/password-does-not-meet-requirements"===_.code&&It(f),_});return function(_){return m.apply(this,arguments)}}())}function Uc(f,u,d){return ri.apply(this,arguments)}function ri(){return(ri=(0,T.Z)(function*(f,u,d){const m=vn(f),_={requestType:"EMAIL_SIGNIN",email:u,clientType:"CLIENT_TYPE_WEB"};(function w(P,z){ce(z.handleCodeInApp,m,"argument-error"),z&&fi(m,P,z)})(_,d),yield Ti(m,_,"getOobCode",Bg)})).apply(this,arguments)}function Sa(f,u){const d=Fo.parseLink(u);return"EMAIL_SIGNIN"===d?.operation}function On(f,u,d){return bo.apply(this,arguments)}function bo(){return(bo=(0,T.Z)(function*(f,u,d){const m=(0,Y.m9)(f),_=Qh.credentialWithLink(u,d||Tn());return ce(_._tenantId===(m.tenantId||null),m,"tenant-id-mismatch"),wu(m,_)})).apply(this,arguments)}function Ze(){return(Ze=(0,T.Z)(function*(f,u){return ne(f,"POST","/v1/accounts:createAuthUri",H(f,u))})).apply(this,arguments)}function jc(f,u){return Tu.apply(this,arguments)}function Tu(){return Tu=(0,T.Z)(function*(f,u){const m={identifier:u,continueUri:kn()?Tn():"http://localhost"},{signinMethods:_}=yield function Aa(f,u){return Ze.apply(this,arguments)}((0,Y.m9)(f),m);return _||[]}),Tu.apply(this,arguments)}function Ma(f,u){return yn.apply(this,arguments)}function yn(){return yn=(0,T.Z)(function*(f,u){const d=(0,Y.m9)(f),_={requestType:"VERIFY_EMAIL",idToken:yield f.getIdToken()};u&&fi(d.auth,_,u);const{email:w}=yield function _A(f,u){return Vg.apply(this,arguments)}(d.auth,_);w!==f.email&&(yield f.reload())}),yn.apply(this,arguments)}function zc(f,u,d){return cs.apply(this,arguments)}function cs(){return cs=(0,T.Z)(function*(f,u,d){const m=(0,Y.m9)(f),w={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield f.getIdToken(),newEmail:u};d&&fi(m.auth,w,d);const{email:P}=yield function X0(f,u){return Fc.apply(this,arguments)}(m.auth,w);P!==f.email&&(yield f.reload())}),cs.apply(this,arguments)}function $s(){return($s=(0,T.Z)(function*(f,u){return ne(f,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function Kg(f,u){return Eo.apply(this,arguments)}function Eo(){return Eo=(0,T.Z)(function*(f,{displayName:u,photoURL:d}){if(void 0===u&&void 0===d)return;const m=(0,Y.m9)(f),w={idToken:yield m.getIdToken(),displayName:u,photoUrl:d,returnSecureToken:!0},P=yield _n(m,function wo(f,u){return $s.apply(this,arguments)}(m.auth,w));m.displayName=P.displayName||null,m.photoURL=P.photoUrl||null;const z=m.providerData.find(({providerId:se})=>"password"===se);z&&(z.displayName=m.displayName,z.photoURL=m.photoURL),yield m._updateTokensIfNecessary(P)}),Eo.apply(this,arguments)}function Bo(f,u){return ka((0,Y.m9)(f),u,null)}function Hc(f,u){return ka((0,Y.m9)(f),null,u)}function ka(f,u,d){return ft.apply(this,arguments)}function ft(){return ft=(0,T.Z)(function*(f,u,d){const{auth:m}=f,w={idToken:yield f.getIdToken(),returnSecureToken:!0};u&&(w.email=u),d&&(w.password=d);const P=yield _n(f,function Gh(f,u){return lu.apply(this,arguments)}(m,w));yield f._updateTokensIfNecessary(P,!0)}),ft.apply(this,arguments)}class ls{constructor(u,d,m={}){this.isNewUser=u,this.providerId=d,this.profile=m}}class hf extends ls{constructor(u,d,m,_){super(u,d,m),this.username=_}}class Io extends ls{constructor(u,d){super(u,"facebook.com",d)}}class xu extends hf{constructor(u,d){super(u,"github.com",d,"string"==typeof d?.login?d?.login:null)}}class Ra extends ls{constructor(u,d){super(u,"google.com",d)}}class $c extends hf{constructor(u,d,m){super(u,"twitter.com",d,m)}}function pi(f){const{user:u,_tokenResponse:d}=f;return u.isAnonymous&&!d?{providerId:null,isNewUser:!1,profile:null}:function wA(f){var u,d;if(!f)return null;const{providerId:m}=f,_=f.rawUserInfo?JSON.parse(f.rawUserInfo):{},w=f.isNewUser||"identitytoolkit#SignupNewUserResponse"===f.kind;if(!m&&f?.idToken){const P=null===(d=null===(u=Rn(f.idToken))||void 0===u?void 0:u.firebase)||void 0===d?void 0:d.sign_in_provider;if(P)return new ls(w,"anonymous"!==P&&"custom"!==P?P:null)}if(!m)return null;switch(m){case"facebook.com":return new Io(w,_);case"github.com":return new xu(w,_);case"google.com":return new Ra(w,_);case"twitter.com":return new $c(w,_,f.screenName||null);case"custom":case"anonymous":return new ls(w,null);default:return new ls(w,m,_)}}(d)}class Pa{constructor(u,d,m){this.type=u,this.credential=d,this.user=m}static _fromIdtoken(u,d){return new Pa("enroll",u,d)}static _fromMfaPendingCredential(u){return new Pa("signin",u)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(u){var d,m;if(u?.multiFactorSession){if(null!==(d=u.multiFactorSession)&&void 0!==d&&d.pendingCredential)return Pa._fromMfaPendingCredential(u.multiFactorSession.pendingCredential);if(null!==(m=u.multiFactorSession)&&void 0!==m&&m.idToken)return Pa._fromIdtoken(u.multiFactorSession.idToken)}return null}}class Qg{constructor(u,d,m){this.session=u,this.hints=d,this.signInResolver=m}static _fromError(u,d){const m=vn(u),_=d.customData._serverResponse,w=(_.mfaInfo||[]).map(z=>Bc._fromServerResponse(m,z));ce(_.mfaPendingCredential,m,"internal-error");const P=Pa._fromMfaPendingCredential(_.mfaPendingCredential);return new Qg(P,w,function(){var z=(0,T.Z)(function*(se){const xe=yield se._process(m,P);delete _.mfaInfo,delete _.mfaPendingCredential;const Ve=Object.assign(Object.assign({},_),{idToken:xe.idToken,refreshToken:xe.refreshToken});switch(d.operationType){case"signIn":const Tt=yield mr._fromIdTokenResponse(m,d.operationType,Ve);return yield m._updateCurrentUser(Tt.user),Tt;case"reauthenticate":return ce(d.user,m,"internal-error"),mr._forOperation(d.user,d.operationType,Ve);default:vt(m,"internal-error")}});return function(se){return z.apply(this,arguments)}}())}resolveSignIn(u){var d=this;return(0,T.Z)(function*(){return d.signInResolver(u)})()}}function TA(f,u){var d;const m=(0,Y.m9)(f),_=u;return ce(u.customData.operationType,m,"argument-error"),ce(null===(d=_.customData._serverResponse)||void 0===d?void 0:d.mfaPendingCredential,m,"argument-error"),Qg._fromError(m,_)}class Xg{constructor(u){this.user=u,this.enrolledFactors=[],u._onReload(d=>{d.mfaInfo&&(this.enrolledFactors=d.mfaInfo.map(m=>Bc._fromServerResponse(u.auth,m)))})}static _fromUser(u){return new Xg(u)}getSession(){var u=this;return(0,T.Z)(function*(){return Pa._fromIdtoken(yield u.user.getIdToken(),u.user)})()}enroll(u,d){var m=this;return(0,T.Z)(function*(){const _=u,w=yield m.getSession(),P=yield _n(m.user,_._process(m.user.auth,w,d));return yield m.user._updateTokensIfNecessary(P),m.user.reload()})()}unenroll(u){var d=this;return(0,T.Z)(function*(){const m="string"==typeof u?u:u.uid,_=yield d.user.getIdToken();try{const w=yield _n(d.user,function AA(f,u){return ne(f,"POST","/v2/accounts/mfaEnrollment:withdraw",H(f,u))}(d.user.auth,{idToken:_,mfaEnrollmentId:m}));d.enrolledFactors=d.enrolledFactors.filter(({uid:P})=>P!==m),yield d.user._updateTokensIfNecessary(w),yield d.user.reload()}catch(w){throw w}})()}}const Jg=new WeakMap;function MA(f){const u=(0,Y.m9)(f);return Jg.has(u)||Jg.set(u,Xg._fromUser(u)),Jg.get(u)}const pf="__sak";class mf{constructor(u,d){this.storageRetriever=u,this.type=d}_isAvailable(){try{return this.storage?(this.storage.setItem(pf,"1"),this.storage.removeItem(pf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(u,d){return this.storage.setItem(u,JSON.stringify(d)),Promise.resolve()}_get(u){const d=this.storage.getItem(u);return Promise.resolve(d?JSON.parse(d):null)}_remove(u){return this.storage.removeItem(u),Promise.resolve()}get storage(){return this.storageRetriever()}}const us=(()=>{class f extends mf{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(d,m)=>this.onStorageEvent(d,m),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function e_(){const f=(0,Y.z$)();return Pe(f)||Se(f)}()&&function De(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Pn(),this._shouldAllowMigration=!0}forAllChangedKeys(d){for(const m of Object.keys(this.listeners)){const _=this.storage.getItem(m),w=this.localCache[m];_!==w&&d(m,w,_)}}onStorageEvent(d,m=!1){if(!d.key)return void this.forAllChangedKeys((z,se,xe)=>{this.notifyListeners(z,xe)});const _=d.key;if(m?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const z=this.storage.getItem(_);if(d.newValue!==z)null!==d.newValue?this.storage.setItem(_,d.newValue):this.storage.removeItem(_);else if(this.localCache[_]===d.newValue&&!m)return}const w=()=>{const z=this.storage.getItem(_);!m&&this.localCache[_]===z||this.notifyListeners(_,z)},P=this.storage.getItem(_);!function F(){return(0,Y.w1)()&&10===document.documentMode}()||P===d.newValue||d.newValue===d.oldValue?w():setTimeout(w,10)}notifyListeners(d,m){this.localCache[d]=m;const _=this.listeners[d];if(_)for(const w of Array.from(_))w(m&&JSON.parse(m))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((d,m,_)=>{this.onStorageEvent(new StorageEvent("storage",{key:d,oldValue:m,newValue:_}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(d,m){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[d]||(this.listeners[d]=new Set,this.localCache[d]=this.storage.getItem(d)),this.listeners[d].add(m)}_removeListener(d,m){this.listeners[d]&&(this.listeners[d].delete(m),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(d,m){var _=()=>super._set,w=this;return(0,T.Z)(function*(){yield _().call(w,d,m),w.localCache[d]=JSON.stringify(m)})()}_get(d){var m=()=>super._get,_=this;return(0,T.Z)(function*(){const w=yield m().call(_,d);return _.localCache[d]=JSON.stringify(w),w})()}_remove(d){var m=()=>super._remove,_=this;return(0,T.Z)(function*(){yield m().call(_,d),delete _.localCache[d]})()}}return f.type="LOCAL",f})(),t_=(()=>{class f extends mf{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(d,m){}_removeListener(d,m){}}return f.type="SESSION",f})();let mi=(()=>{class f{constructor(d){this.eventTarget=d,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(d){const m=this.receivers.find(w=>w.isListeningto(d));if(m)return m;const _=new f(d);return this.receivers.push(_),_}isListeningto(d){return this.eventTarget===d}handleEvent(d){var m=this;return(0,T.Z)(function*(){const _=d,{eventId:w,eventType:P,data:z}=_.data,se=m.handlersMap[P];if(!se?.size)return;_.ports[0].postMessage({status:"ack",eventId:w,eventType:P});const xe=Array.from(se).map(function(){var Tt=(0,T.Z)(function*(Fi){return Fi(_.origin,z)});return function(Fi){return Tt.apply(this,arguments)}}()),Ve=yield function PA(f){return Promise.all(f.map(function(){var u=(0,T.Z)(function*(d){try{return{fulfilled:!0,value:yield d}}catch(m){return{fulfilled:!1,reason:m}}});return function(d){return u.apply(this,arguments)}}()))}(xe);_.ports[0].postMessage({status:"done",eventId:w,eventType:P,response:Ve})})()}_subscribe(d,m){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[d]||(this.handlersMap[d]=new Set),this.handlersMap[d].add(m)}_unsubscribe(d,m){this.handlersMap[d]&&m&&this.handlersMap[d].delete(m),(!m||0===this.handlersMap[d].size)&&delete this.handlersMap[d],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return f.receivers=[],f})();function ds(f="",u=10){let d="";for(let m=0;m<u;m++)d+=Math.floor(10*Math.random());return f+d}class Pr{constructor(u){this.target=u,this.handlers=new Set}removeMessageHandler(u){u.messageChannel&&(u.messageChannel.port1.removeEventListener("message",u.onMessage),u.messageChannel.port1.close()),this.handlers.delete(u)}_send(u,d,m=50){var _=this;return(0,T.Z)(function*(){const w=typeof MessageChannel<"u"?new MessageChannel:null;if(!w)throw new Error("connection_unavailable");let P,z;return new Promise((se,xe)=>{const Ve=ds("",20);w.port1.start();const Tt=setTimeout(()=>{xe(new Error("unsupported_event"))},m);z={messageChannel:w,onMessage(Fi){const jo=Fi;if(jo.data.eventId===Ve)switch(jo.data.status){case"ack":clearTimeout(Tt),P=setTimeout(()=>{xe(new Error("timeout"))},3e3);break;case"done":clearTimeout(P),se(jo.data.response);break;default:clearTimeout(Tt),clearTimeout(P),xe(new Error("invalid_response"))}}},_.handlers.add(z),w.port1.addEventListener("message",z.onMessage),_.target.postMessage({eventType:u,eventId:Ve,data:d},[w.port2])}).finally(()=>{z&&_.removeMessageHandler(z)})})()}}function Nn(){return window}function Su(){return typeof Nn().WorkerGlobalScope<"u"&&"function"==typeof Nn().importScripts}function qc(){return(qc=(0,T.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Au="firebaseLocalStorageDb",Wc="firebaseLocalStorage",_f="fbase_key";class hs{constructor(u){this.request=u}toPromise(){return new Promise((u,d)=>{this.request.addEventListener("success",()=>{u(this.request.result)}),this.request.addEventListener("error",()=>{d(this.request.error)})})}}function fs(f,u){return f.transaction([Wc],u?"readwrite":"readonly").objectStore(Wc)}function Mu(){const f=indexedDB.open(Au,1);return new Promise((u,d)=>{f.addEventListener("error",()=>{d(f.error)}),f.addEventListener("upgradeneeded",()=>{const m=f.result;try{m.createObjectStore(Wc,{keyPath:_f})}catch(_){d(_)}}),f.addEventListener("success",(0,T.Z)(function*(){const m=f.result;m.objectStoreNames.contains(Wc)?u(m):(m.close(),yield function Oa(){const f=indexedDB.deleteDatabase(Au);return new hs(f).toPromise()}(),u(yield Mu()))}))})}function ow(f,u,d){return s_.apply(this,arguments)}function s_(){return(s_=(0,T.Z)(function*(f,u,d){const m=fs(f,!0).put({[_f]:u,value:d});return new hs(m).toPromise()})).apply(this,arguments)}function vf(){return(vf=(0,T.Z)(function*(f,u){const d=fs(f,!1).get(u),m=yield new hs(d).toPromise();return void 0===m?null:m.value})).apply(this,arguments)}function a_(f,u){const d=fs(f,!0).delete(u);return new hs(d).toPromise()}const u_=(()=>{class f{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var d=this;return(0,T.Z)(function*(){return d.db||(d.db=yield Mu()),d.db})()}_withRetries(d){var m=this;return(0,T.Z)(function*(){let _=0;for(;;)try{const w=yield m._openDb();return yield d(w)}catch(w){if(_++>3)throw w;m.db&&(m.db.close(),m.db=void 0)}})()}initializeServiceWorkerMessaging(){var d=this;return(0,T.Z)(function*(){return Su()?d.initializeReceiver():d.initializeSender()})()}initializeReceiver(){var d=this;return(0,T.Z)(function*(){d.receiver=mi._getInstance(function gf(){return Su()?self:null}()),d.receiver._subscribe("keyChanged",function(){var m=(0,T.Z)(function*(_,w){return{keyProcessed:(yield d._poll()).includes(w.key)}});return function(_,w){return m.apply(this,arguments)}}()),d.receiver._subscribe("ping",function(){var m=(0,T.Z)(function*(_,w){return["keyChanged"]});return function(_,w){return m.apply(this,arguments)}}())})()}initializeSender(){var d=this;return(0,T.Z)(function*(){var m,_;if(d.activeServiceWorker=yield function i_(){return qc.apply(this,arguments)}(),!d.activeServiceWorker)return;d.sender=new Pr(d.activeServiceWorker);const w=yield d.sender._send("ping",{},800);w&&null!==(m=w[0])&&void 0!==m&&m.fulfilled&&null!==(_=w[0])&&void 0!==_&&_.value.includes("keyChanged")&&(d.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(d){var m=this;return(0,T.Z)(function*(){if(m.sender&&m.activeServiceWorker&&function r_(){var f;return(null===(f=navigator?.serviceWorker)||void 0===f?void 0:f.controller)||null}()===m.activeServiceWorker)try{yield m.sender._send("keyChanged",{key:d},m.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,T.Z)(function*(){try{if(!indexedDB)return!1;const d=yield Mu();return yield ow(d,pf,"1"),yield a_(d,pf),!0}catch{}return!1})()}_withPendingWrite(d){var m=this;return(0,T.Z)(function*(){m.pendingWrites++;try{yield d()}finally{m.pendingWrites--}})()}_set(d,m){var _=this;return(0,T.Z)(function*(){return _._withPendingWrite((0,T.Z)(function*(){return yield _._withRetries(w=>ow(w,d,m)),_.localCache[d]=m,_.notifyServiceWorker(d)}))})()}_get(d){var m=this;return(0,T.Z)(function*(){const _=yield m._withRetries(w=>function OA(f,u){return vf.apply(this,arguments)}(w,d));return m.localCache[d]=_,_})()}_remove(d){var m=this;return(0,T.Z)(function*(){return m._withPendingWrite((0,T.Z)(function*(){return yield m._withRetries(_=>a_(_,d)),delete m.localCache[d],m.notifyServiceWorker(d)}))})()}_poll(){var d=this;return(0,T.Z)(function*(){const m=yield d._withRetries(P=>{const z=fs(P,!1).getAll();return new hs(z).toPromise()});if(!m)return[];if(0!==d.pendingWrites)return[];const _=[],w=new Set;for(const{fbase_key:P,value:z}of m)w.add(P),JSON.stringify(d.localCache[P])!==JSON.stringify(z)&&(d.notifyListeners(P,z),_.push(P));for(const P of Object.keys(d.localCache))d.localCache[P]&&!w.has(P)&&(d.notifyListeners(P,null),_.push(P));return _})()}notifyListeners(d,m){this.localCache[d]=m;const _=this.listeners[d];if(_)for(const w of Array.from(_))w(m)}startPolling(){var d=this;this.stopPolling(),this.pollTimer=setInterval((0,T.Z)(function*(){return d._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(d,m){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[d]||(this.listeners[d]=new Set,this._get(d)),this.listeners[d].add(m)}_removeListener(d,m){this.listeners[d]&&(this.listeners[d].delete(m),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return f.type="LOCAL",f})(),Zc=1e12;class aw{constructor(u){this.auth=u,this.counter=Zc,this._widgets=new Map}render(u,d){const m=this.counter;return this._widgets.set(m,new cw(u,this.auth.name,d||{})),this.counter++,m}reset(u){var d;const m=u||Zc;null===(d=this._widgets.get(m))||void 0===d||d.delete(),this._widgets.delete(m)}getResponse(u){var d;return(null===(d=this._widgets.get(u||Zc))||void 0===d?void 0:d.getResponse())||""}execute(u){var d=this;return(0,T.Z)(function*(){var m;return null===(m=d._widgets.get(u||Zc))||void 0===m||m.execute(),""})()}}class cw{constructor(u,d,m){this.params=m,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const _="string"==typeof u?document.getElementById(u):u;ce(_,"argument-error",{appName:d}),this.container=_,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function lw(f){const u=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<f;m++)u.push(d.charAt(Math.floor(62*Math.random())));return u.join("")}(50);const{callback:u,"expired-callback":d}=this.params;if(u)try{u(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,d)try{d()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ku=W0("rcb"),uw=new ar(3e4,6e4);class dw{constructor(){var u;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(u=Nn().grecaptcha)||void 0===u||!u.render)}load(u,d=""){return ce(function VA(f){return f.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(f)}(d),u,"argument-error"),this.shouldResolveImmediately(d)&&Wn(Nn().grecaptcha)?Promise.resolve(Nn().grecaptcha):new Promise((m,_)=>{const w=Nn().setTimeout(()=>{_(jt(u,"network-request-failed"))},uw.get());Nn()[ku]=()=>{Nn().clearTimeout(w),delete Nn()[ku];const z=Nn().grecaptcha;if(!z||!Wn(z))return void _(jt(u,"internal-error"));const se=z.render;z.render=(xe,Ve)=>{const Tt=se(xe,Ve);return this.counter++,Tt},this.hostLanguage=d,m(z)},Rg(`https://www.google.com/recaptcha/api.js??${(0,Y.xO)({onload:ku,render:"explicit",hl:d})}`).catch(()=>{clearTimeout(w),_(jt(u,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(u){var d;return!(null===(d=Nn().grecaptcha)||void 0===d||!d.render)&&(u===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class hw{load(u){return(0,T.Z)(function*(){return new aw(u)})()}clearedOneInstance(){}}const vr="recaptcha",f_={theme:"light",type:"image"};class fw{constructor(u,d,m=Object.assign({},f_)){this.parameters=m,this.type=vr,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=vn(u),this.isInvisible="invisible"===this.parameters.size,ce(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const _="string"==typeof d?document.getElementById(d):d;ce(_,this.auth,"argument-error"),this.container=_,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new hw:new dw,this.validateStartingState()}verify(){var u=this;return(0,T.Z)(function*(){u.assertNotDestroyed();const d=yield u.render(),m=u.getAssertedRecaptcha();return m.getResponse(d)||new Promise(w=>{const P=z=>{z&&(u.tokenChangeListeners.delete(P),w(z))};u.tokenChangeListeners.add(P),u.isInvisible&&m.execute(d)})})()}render(){try{this.assertNotDestroyed()}catch(u){return Promise.reject(u)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(u=>{throw this.renderPromise=null,u})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(u=>{this.container.removeChild(u)})}validateStartingState(){ce(!this.parameters.sitekey,this.auth,"argument-error"),ce(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ce(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(u){return d=>{if(this.tokenChangeListeners.forEach(m=>m(d)),"function"==typeof u)u(d);else if("string"==typeof u){const m=Nn()[u];"function"==typeof m&&m(d)}}}assertNotDestroyed(){ce(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var u=this;return(0,T.Z)(function*(){if(yield u.init(),!u.widgetId){let d=u.container;if(!u.isInvisible){const m=document.createElement("div");d.appendChild(m),d=m}u.widgetId=u.getAssertedRecaptcha().render(d,u.parameters)}return u.widgetId})()}init(){var u=this;return(0,T.Z)(function*(){ce(kn()&&!Su(),u.auth,"internal-error"),yield function pw(){let f=null;return new Promise(u=>{"complete"!==document.readyState?(f=()=>u(),window.addEventListener("load",f)):u()}).catch(u=>{throw f&&window.removeEventListener("load",f),u})}(),u.recaptcha=yield u._recaptchaLoader.load(u.auth,u.auth.languageCode||void 0);const d=yield function $i(f){return Gr.apply(this,arguments)}(u.auth);ce(d,u.auth,"internal-error"),u.parameters.sitekey=d})()}getAssertedRecaptcha(){return ce(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ru{constructor(u,d){this.verificationId=u,this.onConfirmation=d}confirm(u){const d=he._fromVerification(this.verificationId,u);return this.onConfirmation(d)}}function p_(f,u,d){return bf.apply(this,arguments)}function bf(){return(bf=(0,T.Z)(function*(f,u,d){const m=vn(f),_=yield Kc(m,u,(0,Y.m9)(d));return new Ru(_,w=>wu(m,w))})).apply(this,arguments)}function wf(f,u,d){return Ef.apply(this,arguments)}function Ef(){return(Ef=(0,T.Z)(function*(f,u,d){const m=(0,Y.m9)(f);yield Wi(!1,m,"phone");const _=yield Kc(m.auth,u,(0,Y.m9)(d));return new Ru(_,w=>Gg(m,w))})).apply(this,arguments)}function To(f,u,d){return Pu.apply(this,arguments)}function Pu(){return(Pu=(0,T.Z)(function*(f,u,d){const m=(0,Y.m9)(f),_=yield Kc(m.auth,u,(0,Y.m9)(d));return new Ru(_,w=>qg(m,w))})).apply(this,arguments)}function Kc(f,u,d){return Wt.apply(this,arguments)}function Wt(){return Wt=(0,T.Z)(function*(f,u,d){var m;const _=yield d.verify();try{let w;if(ce("string"==typeof _,f,"argument-error"),ce(d.type===vr,f,"argument-error"),w="string"==typeof u?{phoneNumber:u}:u,"session"in w){const P=w.session;if("phoneNumber"in w)return ce("enroll"===P.type,f,"internal-error"),(yield function xA(f,u){return ne(f,"POST","/v2/accounts/mfaEnrollment:start",H(f,u))}(f,{idToken:P.credential,phoneEnrollmentInfo:{phoneNumber:w.phoneNumber,recaptchaToken:_}})).phoneSessionInfo.sessionInfo;{ce("signin"===P.type,f,"internal-error");const z=(null===(m=w.multiFactorHint)||void 0===m?void 0:m.uid)||w.multiFactorUid;return ce(z,f,"missing-multi-factor-info"),(yield function yf(f,u){return ne(f,"POST","/v2/accounts/mfaSignIn:start",H(f,u))}(f,{mfaPendingCredential:P.credential,mfaEnrollmentId:z,phoneSignInInfo:{recaptchaToken:_}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:P}=yield function J0(f,u){return Kh.apply(this,arguments)}(f,{phoneNumber:w.phoneNumber,recaptchaToken:_});return P}}finally{d._reset()}}),Wt.apply(this,arguments)}function If(f,u){return Na.apply(this,arguments)}function Na(){return(Na=(0,T.Z)(function*(f,u){yield tf((0,Y.m9)(f),u)})).apply(this,arguments)}let Ki=(()=>{class f{constructor(d){this.providerId=f.PROVIDER_ID,this.auth=vn(d)}verifyPhoneNumber(d,m){return Kc(this.auth,d,(0,Y.m9)(m))}static credential(d,m){return he._fromVerification(d,m)}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{phoneNumber:m,temporaryProof:_}=d;return m&&_?he._fromTokenResponse(m,_):null}}return f.PROVIDER_ID="phone",f.PHONE_SIGN_IN_METHOD="phone",f})();function Ws(f,u){return u?K(u):(ce(f._popupRedirectResolver,f,"argument-error"),f._popupRedirectResolver)}class Ou extends Ca{constructor(u){super("custom","custom"),this.params=u}_getIdTokenResponse(u){return pr(u,this._buildIdpRequest())}_linkToIdToken(u,d){return pr(u,this._buildIdpRequest(d))}_getReauthenticationResolver(u){return pr(u,this._buildIdpRequest())}_buildIdpRequest(u){const d={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return u&&(d.idToken=u),d}}function Fa(f){return $g(f.auth,new Ou(f),f.bypassAuthState)}function yr(f){const{auth:u,user:d}=f;return ce(d,u,"internal-error"),sf(d,new Ou(f),f.bypassAuthState)}function mw(f){return Cf.apply(this,arguments)}function Cf(){return(Cf=(0,T.Z)(function*(f){const{auth:u,user:d}=f;return ce(d,u,"internal-error"),tf(d,new Ou(f),f.bypassAuthState)})).apply(this,arguments)}class m_{constructor(u,d,m,_,w=!1){this.auth=u,this.resolver=m,this.user=_,this.bypassAuthState=w,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(d)?d:[d]}execute(){var u=this;return new Promise(function(){var d=(0,T.Z)(function*(m,_){u.pendingPromise={resolve:m,reject:_};try{u.eventManager=yield u.resolver._initialize(u.auth),yield u.onExecution(),u.eventManager.registerConsumer(u)}catch(w){u.reject(w)}});return function(m,_){return d.apply(this,arguments)}}())}onAuthEvent(u){var d=this;return(0,T.Z)(function*(){const{urlResponse:m,sessionId:_,postBody:w,tenantId:P,error:z,type:se}=u;if(z)return void d.reject(z);const xe={auth:d.auth,requestUri:m,sessionId:_,tenantId:P||void 0,postBody:w||void 0,user:d.user,bypassAuthState:d.bypassAuthState};try{d.resolve(yield d.getIdpTask(se)(xe))}catch(Ve){d.reject(Ve)}})()}onError(u){this.reject(u)}getIdpTask(u){switch(u){case"signInViaPopup":case"signInViaRedirect":return Fa;case"linkViaPopup":case"linkViaRedirect":return mw;case"reauthViaPopup":case"reauthViaRedirect":return yr;default:vt(this.auth,"internal-error")}}resolve(u){on(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(u),this.unregisterAndCleanUp()}reject(u){on(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(u),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ps=new ar(2e3,1e4);function g_(f,u,d){return Tf.apply(this,arguments)}function Tf(){return(Tf=(0,T.Z)(function*(f,u,d){const m=vn(f);Vn(f,u,Lo);const _=Ws(m,d);return new Ge(m,"signInViaPopup",u,_).executeNotNull()})).apply(this,arguments)}function __(f,u,d){return Nu.apply(this,arguments)}function Nu(){return(Nu=(0,T.Z)(function*(f,u,d){const m=(0,Y.m9)(f);Vn(m.auth,u,Lo);const _=Ws(m.auth,d);return new Ge(m.auth,"reauthViaPopup",u,_,m).executeNotNull()})).apply(this,arguments)}function v_(f,u,d){return xf.apply(this,arguments)}function xf(){return(xf=(0,T.Z)(function*(f,u,d){const m=(0,Y.m9)(f);Vn(m.auth,u,Lo);const _=Ws(m.auth,d);return new Ge(m.auth,"linkViaPopup",u,_,m).executeNotNull()})).apply(this,arguments)}let Ge=(()=>{class f extends m_{constructor(d,m,_,w,P){super(d,m,w,P),this.provider=_,this.authWindow=null,this.pollId=null,f.currentPopupAction&&f.currentPopupAction.cancel(),f.currentPopupAction=this}executeNotNull(){var d=this;return(0,T.Z)(function*(){const m=yield d.execute();return ce(m,d.auth,"internal-error"),m})()}onExecution(){var d=this;return(0,T.Z)(function*(){on(1===d.filter.length,"Popup operations only handle one event");const m=ds();d.authWindow=yield d.resolver._openPopup(d.auth,d.provider,d.filter[0],m),d.authWindow.associatedEvent=m,d.resolver._originValidation(d.auth).catch(_=>{d.reject(_)}),d.resolver._isIframeWebStorageSupported(d.auth,_=>{_||d.reject(jt(d.auth,"web-storage-unsupported"))}),d.pollUserCancellation()})()}get eventId(){var d;return(null===(d=this.authWindow)||void 0===d?void 0:d.associatedEvent)||null}cancel(){this.reject(jt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,f.currentPopupAction=null}pollUserCancellation(){const d=()=>{var m,_;this.pollId=null!==(_=null===(m=this.authWindow)||void 0===m?void 0:m.window)&&void 0!==_&&_.closed?window.setTimeout(()=>{this.pollId=null,this.reject(jt(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(d,ps.get())};d()}}return f.currentPopupAction=null,f})();const y_="pendingRedirect",Fu=new Map;class gw extends m_{constructor(u,d,m=!1){super(u,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],d,void 0,m),this.eventId=null}execute(){var u=()=>super.execute,d=this;return(0,T.Z)(function*(){let m=Fu.get(d.auth._key());if(!m){try{const w=(yield function _w(f,u){return Df.apply(this,arguments)}(d.resolver,d.auth))?yield u().call(d):null;m=()=>Promise.resolve(w)}catch(_){m=()=>Promise.reject(_)}Fu.set(d.auth._key(),m)}return d.bypassAuthState||Fu.set(d.auth._key(),()=>Promise.resolve(null)),m()})()}onAuthEvent(u){var d=()=>super.onAuthEvent,m=this;return(0,T.Z)(function*(){if("signInViaRedirect"===u.type)return d().call(m,u);if("unknown"!==u.type){if(u.eventId){const _=yield m.auth._redirectUserForId(u.eventId);if(_)return m.user=_,d().call(m,u);m.resolve(null)}}else m.resolve(null)})()}onExecution(){return(0,T.Z)(function*(){})()}cleanUp(){}}function Df(){return(Df=(0,T.Z)(function*(f,u){const d=E_(u),m=w_(f);if(!(yield m._isAvailable()))return!1;const _="true"===(yield m._get(d));return yield m._remove(d),_})).apply(this,arguments)}function Lu(f,u){return ms.apply(this,arguments)}function ms(){return(ms=(0,T.Z)(function*(f,u){return w_(f)._set(E_(u),"true")})).apply(this,arguments)}function vw(){Fu.clear()}function b_(f,u){Fu.set(f._key(),u)}function w_(f){return K(f._redirectPersistence)}function E_(f){return He(y_,f.config.apiKey,f.name)}function yw(f,u,d){return function re(f,u,d){return Ct.apply(this,arguments)}(f,u,d)}function Ct(){return(Ct=(0,T.Z)(function*(f,u,d){const m=vn(f);Vn(f,u,Lo),yield m._initializationPromise;const _=Ws(m,d);return yield Lu(_,m),_._openRedirect(m,u,"signInViaRedirect")})).apply(this,arguments)}function en(f,u,d){return function tn(f,u,d){return Xn.apply(this,arguments)}(f,u,d)}function Xn(){return(Xn=(0,T.Z)(function*(f,u,d){const m=(0,Y.m9)(f);Vn(m.auth,u,Lo),yield m.auth._initializationPromise;const _=Ws(m.auth,d);yield Lu(_,m.auth);const w=yield Mf(m);return _._openRedirect(m.auth,u,"reauthViaRedirect",w)})).apply(this,arguments)}function I_(f,u,d){return function Yc(f,u,d){return Or.apply(this,arguments)}(f,u,d)}function Or(){return(Or=(0,T.Z)(function*(f,u,d){const m=(0,Y.m9)(f);Vn(m.auth,u,Lo),yield m.auth._initializationPromise;const _=Ws(m.auth,d);yield Wi(!1,m,u.providerId),yield Lu(_,m.auth);const w=yield Mf(m);return _._openRedirect(m.auth,u,"linkViaRedirect",w)})).apply(this,arguments)}function Sf(f,u){return Qc.apply(this,arguments)}function Qc(){return(Qc=(0,T.Z)(function*(f,u){return yield vn(f)._initializationPromise,Af(f,u,!1)})).apply(this,arguments)}function Af(f,u){return C_.apply(this,arguments)}function C_(){return(C_=(0,T.Z)(function*(f,u,d=!1){const m=vn(f),_=Ws(m,u),P=yield new gw(m,_,d).execute();return P&&!d&&(delete P.user._redirectEventId,yield m._persistUserIfCurrent(P.user),yield m._setRedirectUser(null,u)),P})).apply(this,arguments)}function Mf(f){return gi.apply(this,arguments)}function gi(){return(gi=(0,T.Z)(function*(f){const u=ds(`${f.uid}:::`);return f._redirectEventId=u,yield f.auth._setRedirectUser(f),yield f.auth._persistUserIfCurrent(f),u})).apply(this,arguments)}class kf{constructor(u){this.auth=u,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(u){this.consumers.add(u),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,u)&&(this.sendToConsumer(this.queuedRedirectEvent,u),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(u){this.consumers.delete(u)}onEvent(u){if(this.hasEventBeenHandled(u))return!1;let d=!1;return this.consumers.forEach(m=>{this.isEventForConsumer(u,m)&&(d=!0,this.sendToConsumer(u,m),this.saveEventToCache(u))}),this.hasHandledPotentialRedirect||!function bw(f){switch(f.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xo(f);default:return!1}}(u)||(this.hasHandledPotentialRedirect=!0,d||(this.queuedRedirectEvent=u,d=!0)),d}sendToConsumer(u,d){var m;if(u.error&&!xo(u)){const _=(null===(m=u.error.code)||void 0===m?void 0:m.split("auth/")[1])||"internal-error";d.onError(jt(this.auth,_))}else d.onAuthEvent(u)}isEventForConsumer(u,d){const m=null===d.eventId||!!u.eventId&&u.eventId===d.eventId;return d.filter.includes(u.type)&&m}hasEventBeenHandled(u){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Zs(u))}saveEventToCache(u){this.cachedEventUids.add(Zs(u)),this.lastProcessedEventTime=Date.now()}}function Zs(f){return[f.type,f.eventId,f.sessionId,f.tenantId].filter(u=>u).join("-")}function xo({type:f,error:u}){return"unknown"===f&&"auth/no-auth-event"===u?.code}function Rf(f){return Pf.apply(this,arguments)}function Pf(){return(Pf=(0,T.Z)(function*(f,u={}){return ne(f,"GET","/v1/projects",u)})).apply(this,arguments)}const ww=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Of=/^https?/;function Vu(){return(Vu=(0,T.Z)(function*(f){if(f.config.emulator)return;const{authorizedDomains:u}=yield Rf(f);for(const d of u)try{if(Ff(d))return}catch{}vt(f,"unauthorized-domain")})).apply(this,arguments)}function Ff(f){const u=Tn(),{protocol:d,hostname:m}=new URL(u);if(f.startsWith("chrome-extension://")){const P=new URL(f);return""===P.hostname&&""===m?"chrome-extension:"===d&&f.replace("chrome-extension://","")===u.replace("chrome-extension://",""):"chrome-extension:"===d&&P.hostname===m}if(!Of.test(d))return!1;if(ww.test(f))return m===f;const _=f.replace(/\./g,"\\.");return new RegExp("^(.+\\."+_+"|"+_+")$","i").test(m)}const Ew=new ar(3e4,6e4);function Lf(){const f=Nn().___jsl;if(f?.H)for(const u of Object.keys(f.H))if(f.H[u].r=f.H[u].r||[],f.H[u].L=f.H[u].L||[],f.H[u].r=[...f.H[u].L],f.CP)for(let d=0;d<f.CP.length;d++)f.CP[d]=null}let Xc=null;const x_=new ar(5e3,15e3),D_="__/auth/iframe",Bf="emulator/auth/iframe",Iw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Cw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ni(f){const u=f.config;ce(u.authDomain,f,"auth-domain-config-required");const d=u.emulator?lo(u,Bf):`https://${f.config.authDomain}/${D_}`,m={apiKey:u.apiKey,appName:f.name,v:O.SDK_VERSION},_=Cw.get(f.config.apiHost);_&&(m.eid=_);const w=f._getFrameworks();return w.length&&(m.fw=w.join(",")),`${d}?${(0,Y.xO)(m).slice(1)}`}function sn(){return sn=(0,T.Z)(function*(f){const u=yield function T_(f){return Xc=Xc||function Vf(f){return new Promise((u,d)=>{var m,_,w;function P(){Lf(),gapi.load("gapi.iframes",{callback:()=>{u(gapi.iframes.getContext())},ontimeout:()=>{Lf(),d(jt(f,"network-request-failed"))},timeout:Ew.get()})}if(null!==(_=null===(m=Nn().gapi)||void 0===m?void 0:m.iframes)&&void 0!==_&&_.Iframe)u(gapi.iframes.getContext());else{if(null===(w=Nn().gapi)||void 0===w||!w.load){const z=W0("iframefcb");return Nn()[z]=()=>{gapi.load?P():d(jt(f,"network-request-failed"))},Rg(`https://apis.google.com/js/api.js?onload=${z}`).catch(se=>d(se))}P()}}).catch(u=>{throw Xc=null,u})}(f),Xc}(f),d=Nn().gapi;return ce(d,f,"internal-error"),u.open({where:document.body,url:Ni(f),messageHandlersFilter:d.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Iw,dontclear:!0},m=>new Promise(function(){var _=(0,T.Z)(function*(w,P){yield m.restyle({setHideOnLeave:!1});const z=jt(f,"network-request-failed"),se=Nn().setTimeout(()=>{P(z)},x_.get());function xe(){Nn().clearTimeout(se),w(m)}m.ping(xe).then(xe,()=>{P(z)})});return function(w,P){return _.apply(this,arguments)}}()))}),sn.apply(this,arguments)}const Ys={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Uf{constructor(u){this.window=u,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Dw="__/auth/handler",Uu="emulator/auth/handler",ju=encodeURIComponent("fac");function Va(f,u,d,m,_,w){return Jc.apply(this,arguments)}function Jc(){return(Jc=(0,T.Z)(function*(f,u,d,m,_,w){ce(f.config.authDomain,f,"auth-domain-config-required"),ce(f.config.apiKey,f,"invalid-api-key");const P={apiKey:f.config.apiKey,appName:f.name,authType:d,redirectUrl:m,v:O.SDK_VERSION,eventId:_};if(u instanceof Lo){u.setDefaultLanguage(f.languageCode),P.providerId=u.providerId||"",(0,Y.xb)(u.getCustomParameters())||(P.customParameters=JSON.stringify(u.getCustomParameters()));for(const[Ve,Tt]of Object.entries(w||{}))P[Ve]=Tt}if(u instanceof qi){const Ve=u.getScopes().filter(Tt=>""!==Tt);Ve.length>0&&(P.scopes=Ve.join(","))}f.tenantId&&(P.tid=f.tenantId);const z=P;for(const Ve of Object.keys(z))void 0===z[Ve]&&delete z[Ve];const se=yield f._getAppCheckToken(),xe=se?`#${ju}=${encodeURIComponent(se)}`:"";return`${function A_({config:f}){return f.emulator?lo(f,Uu):`https://${f.authDomain}/${Dw}`}(f)}?${(0,Y.xO)(z).slice(1)}${xe}`})).apply(this,arguments)}const zu="webStorageSupport",Qs=class Sw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=t_,this._completeRedirectFn=Af,this._overrideRedirectResult=b_}_openPopup(u,d,m,_){var w=this;return(0,T.Z)(function*(){var P;on(null===(P=w.eventManagers[u._key()])||void 0===P?void 0:P.manager,"_initialize() not called before _openPopup()");const z=yield Va(u,d,m,Tn(),_);return function Bu(f,u,d,m=500,_=600){const w=Math.max((window.screen.availHeight-_)/2,0).toString(),P=Math.max((window.screen.availWidth-m)/2,0).toString();let z="";const se=Object.assign(Object.assign({},Ys),{width:m.toString(),height:_.toString(),top:w,left:P}),xe=(0,Y.z$)().toLowerCase();d&&(z=ii(xe)?"_blank":d),Gt(xe)&&(u=u||"http://localhost",se.scrollbars="yes");const Ve=Object.entries(se).reduce((Fi,[jo,$u])=>`${Fi}${jo}=${$u},`,"");if(function dt(f=(0,Y.z$)()){var u;return Se(f)&&!(null===(u=window.navigator)||void 0===u||!u.standalone)}(xe)&&"_self"!==z)return function gs(f,u){const d=document.createElement("a");d.href=f,d.target=u;const m=document.createEvent("MouseEvent");m.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),d.dispatchEvent(m)}(u||"",z),new Uf(null);const Tt=window.open(u||"",z,Ve);ce(Tt,f,"popup-blocked");try{Tt.focus()}catch{}return new Uf(Tt)}(u,z,ds())})()}_openRedirect(u,d,m,_){var w=this;return(0,T.Z)(function*(){return yield w._originValidation(u),function n_(f){Nn().location.href=f}(yield Va(u,d,m,Tn(),_)),new Promise(()=>{})})()}_initialize(u){const d=u._key();if(this.eventManagers[d]){const{manager:_,promise:w}=this.eventManagers[d];return _?Promise.resolve(_):(on(w,"If manager is not set, promise should be"),w)}const m=this.initAndGetManager(u);return this.eventManagers[d]={promise:m},m.catch(()=>{delete this.eventManagers[d]}),m}initAndGetManager(u){var d=this;return(0,T.Z)(function*(){const m=yield function Ks(f){return sn.apply(this,arguments)}(u),_=new kf(u);return m.register("authEvent",w=>(ce(w?.authEvent,u,"invalid-auth-event"),{status:_.onEvent(w.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),d.eventManagers[u._key()]={manager:_},d.iframes[u._key()]=m,_})()}_isIframeWebStorageSupported(u,d){this.iframes[u._key()].send(zu,{type:zu},_=>{var w;const P=null===(w=_?.[0])||void 0===w?void 0:w[zu];void 0!==P&&d(!!P),vt(u,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(u){const d=u._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function Nf(f){return Vu.apply(this,arguments)}(u)),this.originValidationPromises[d]}get _shouldInitProactively(){return Pn()||Pe()||Se()}};class el{constructor(u){this.factorId=u}_process(u,d,m){switch(d.type){case"enroll":return this._finalizeEnroll(u,d.credential,m);case"signin":return this._finalizeSignIn(u,d.credential);default:return xt("unexpected MultiFactorSessionType")}}}class jf extends el{constructor(u){super("phone"),this.credential=u}static _fromCredential(u){return new jf(u)}_finalizeEnroll(u,d,m){return function DA(f,u){return ne(f,"POST","/v2/accounts/mfaEnrollment:finalize",H(f,u))}(u,{idToken:d,displayName:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(u,d){return function FA(f,u){return ne(f,"POST","/v2/accounts/mfaSignIn:finalize",H(f,u))}(u,{mfaPendingCredential:d,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let BA=(()=>{class f{constructor(){}static assertion(d){return jf._fromCredential(d)}}return f.FACTOR_ID="phone",f})();var Aw="@firebase/auth";class zf{constructor(u){this.auth=u,this.internalListeners=new Map}getUid(){var u;return this.assertAuthConfigured(),(null===(u=this.auth.currentUser)||void 0===u?void 0:u.uid)||null}getToken(u){var d=this;return(0,T.Z)(function*(){return d.assertAuthConfigured(),yield d.auth._initializationPromise,d.auth.currentUser?{accessToken:yield d.auth.currentUser.getIdToken(u)}:null})()}addAuthTokenListener(u){if(this.assertAuthConfigured(),this.internalListeners.has(u))return;const d=this.auth.onIdTokenChanged(m=>{u(m?.stsTokenManager.accessToken||null)});this.internalListeners.set(u,d),this.updateProactiveRefresh()}removeAuthTokenListener(u){this.assertAuthConfigured();const d=this.internalListeners.get(u);d&&(this.internalListeners.delete(u),d(),this.updateProactiveRefresh())}assertAuthConfigured(){ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,Y.Pz)("authIdTokenMaxAge"),function kw(f){(0,O._registerComponent)(new mn.wA("auth",(u,{options:d})=>{const m=u.getProvider("app").getImmediate(),_=u.getProvider("heartbeat"),w=u.getProvider("app-check-internal"),{apiKey:P,authDomain:z}=m.options;ce(P&&!P.includes(":"),"invalid-api-key",{appName:m.name});const se={apiKey:P,authDomain:z,clientPlatform:f,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mt(f)},xe=new hA(m,_,w,se);return function fe(f,u){const d=u?.persistence||[],m=(Array.isArray(d)?d:[d]).map(K);u?.errorMap&&f._updateErrorMap(u.errorMap),f._initializeWithPersistence(m,u?.popupRedirectResolver)}(xe,d),xe},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((u,d,m)=>{u.getProvider("auth-internal").initialize()})),(0,O._registerComponent)(new mn.wA("auth-internal",u=>{const d=vn(u.getProvider("auth").getImmediate());return new zf(d)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,O.registerVersion)(Aw,"1.4.0",function tl(f){switch(f){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(f)),(0,O.registerVersion)(Aw,"1.4.0","esm2017")}("Browser")},58:(co,Gn,Be)=>{Be.d(Gn,{BH:()=>sr,G6:()=>lo,L:()=>At,LL:()=>ee,Pz:()=>jt,Sg:()=>Vn,UG:()=>xt,ZB:()=>Ae,ZR:()=>ne,aH:()=>vt,b$:()=>kn,eu:()=>W,hl:()=>$,jU:()=>on,m9:()=>go,ne:()=>cr,pd:()=>Wr,r3:()=>Zn,ru:()=>Tn,tV:()=>J,uI:()=>ce,vZ:()=>uo,w1:()=>$r,xO:()=>fo,xb:()=>$i,z$:()=>at,zd:()=>qr});const Me=function(M){const D=[];let b=0;for(let I=0;I<M.length;I++){let y=M.charCodeAt(I);y<128?D[b++]=y:y<2048?(D[b++]=y>>6|192,D[b++]=63&y|128):55296==(64512&y)&&I+1<M.length&&56320==(64512&M.charCodeAt(I+1))?(y=65536+((1023&y)<<10)+(1023&M.charCodeAt(++I)),D[b++]=y>>18|240,D[b++]=y>>12&63|128,D[b++]=y>>6&63|128,D[b++]=63&y|128):(D[b++]=y>>12|224,D[b++]=y>>6&63|128,D[b++]=63&y|128)}return D},mn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(M,D){if(!Array.isArray(M))throw Error("encodeByteArray takes an array as a parameter");this.init_();const b=D?this.byteToCharMapWebSafe_:this.byteToCharMap_,I=[];for(let y=0;y<M.length;y+=3){const S=M[y],K=y+1<M.length,Ie=K?M[y+1]:0,Te=y+2<M.length,He=Te?M[y+2]:0;let Gt=(15&Ie)<<2|He>>6,Pe=63&He;Te||(Pe=64,K||(Gt=64)),I.push(b[S>>2],b[(3&S)<<4|Ie>>4],b[Gt],b[Pe])}return I.join("")},encodeString(M,D){return this.HAS_NATIVE_SUPPORT&&!D?btoa(M):this.encodeByteArray(Me(M),D)},decodeString(M,D){return this.HAS_NATIVE_SUPPORT&&!D?atob(M):function(M){const D=[];let b=0,I=0;for(;b<M.length;){const y=M[b++];if(y<128)D[I++]=String.fromCharCode(y);else if(y>191&&y<224){const S=M[b++];D[I++]=String.fromCharCode((31&y)<<6|63&S)}else if(y>239&&y<365){const Te=((7&y)<<18|(63&M[b++])<<12|(63&M[b++])<<6|63&M[b++])-65536;D[I++]=String.fromCharCode(55296+(Te>>10)),D[I++]=String.fromCharCode(56320+(1023&Te))}else{const S=M[b++],K=M[b++];D[I++]=String.fromCharCode((15&y)<<12|(63&S)<<6|63&K)}}return D.join("")}(this.decodeStringToByteArray(M,D))},decodeStringToByteArray(M,D){this.init_();const b=D?this.charToByteMapWebSafe_:this.charToByteMap_,I=[];for(let y=0;y<M.length;){const S=b[M.charAt(y++)],Ie=y<M.length?b[M.charAt(y)]:0;++y;const He=y<M.length?b[M.charAt(y)]:64;++y;const be=y<M.length?b[M.charAt(y)]:64;if(++y,null==S||null==Ie||null==He||null==be)throw new Mn;I.push(S<<2|Ie>>4),64!==He&&(I.push(Ie<<4&240|He>>2),64!==be&&I.push(He<<6&192|be))}return I},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let M=0;M<this.ENCODED_VALS.length;M++)this.byteToCharMap_[M]=this.ENCODED_VALS.charAt(M),this.charToByteMap_[this.byteToCharMap_[M]]=M,this.byteToCharMapWebSafe_[M]=this.ENCODED_VALS_WEBSAFE.charAt(M),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[M]]=M,M>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(M)]=M,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(M)]=M)}}};class Mn extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const At=function(M){return function(M){const D=Me(M);return mn.encodeByteArray(D,!0)}(M).replace(/\./g,"")},J=function(M){try{return mn.decodeString(M,!0)}catch(D){console.error("base64Decode failed: ",D)}return null};function Ae(M,D){if(!(D instanceof Object))return D;switch(D.constructor){case Date:return new Date(D.getTime());case Object:void 0===M&&(M={});break;case Array:M=[];break;default:return D}for(const b in D)!D.hasOwnProperty(b)||!nt(b)||(M[b]=Ae(M[b],D[b]));return M}function nt(M){return"__proto__"!==M}const Qe=()=>{try{return function Pt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const M=process.env.__FIREBASE_DEFAULTS__;return M?JSON.parse(M):void 0})()||(()=>{if(typeof document>"u")return;let M;try{M=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const D=M&&J(M[1]);return D&&JSON.parse(D)})()}catch(M){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${M}`)}},vt=()=>{var M;return null===(M=Qe())||void 0===M?void 0:M.config},jt=M=>{var D;return null===(D=Qe())||void 0===D?void 0:D[`_${M}`]};class sr{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((D,b)=>{this.resolve=D,this.reject=b})}wrapCallback(D){return(b,I)=>{b?this.reject(b):this.resolve(I),"function"==typeof D&&(this.promise.catch(()=>{}),1===D.length?D(b):D(b,I))}}}function Vn(M,D){if(M.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const I=D||"demo-project",y=M.iat||0,S=M.sub||M.user_id;if(!S)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const K=Object.assign({iss:`https://securetoken.google.com/${I}`,aud:I,iat:y,exp:y+3600,auth_time:y,sub:S,user_id:S,firebase:{sign_in_provider:"custom",identities:{}}},M);return[At(JSON.stringify({alg:"none",type:"JWT"})),At(JSON.stringify(K)),""].join(".")}function at(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ce(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(at())}function xt(){var M;const D=null===(M=Qe())||void 0===M?void 0:M.forceEnvironment;if("node"===D)return!0;if("browser"===D)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function on(){return"object"==typeof self&&self.self===self}function Tn(){const M="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof M&&void 0!==M.id}function kn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function $r(){const M=at();return M.indexOf("MSIE ")>=0||M.indexOf("Trident/")>=0}function lo(){return!xt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $(){try{return"object"==typeof indexedDB}catch{return!1}}function W(){return new Promise((M,D)=>{try{let b=!0;const I="validate-browser-context-for-indexeddb-analytics-module",y=self.indexedDB.open(I);y.onsuccess=()=>{y.result.close(),b||self.indexedDB.deleteDatabase(I),M(!0)},y.onupgradeneeded=()=>{b=!1},y.onerror=()=>{var S;D((null===(S=y.error)||void 0===S?void 0:S.message)||"")}}catch(b){D(b)}})}class ne extends Error{constructor(D,b,I){super(b),this.code=D,this.customData=I,this.name="FirebaseError",Object.setPrototypeOf(this,ne.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ee.prototype.create)}}class ee{constructor(D,b,I){this.service=D,this.serviceName=b,this.errors=I}create(D,...b){const I=b[0]||{},y=`${this.service}/${D}`,S=this.errors[D],K=S?function ge(M,D){return M.replace(pt,(b,I)=>{const y=D[I];return null!=y?String(y):`<${I}?>`})}(S,I):"Error";return new ne(y,`${this.serviceName}: ${K} (${y}).`,I)}}const pt=/\{\$([^}]+)}/g;function Zn(M,D){return Object.prototype.hasOwnProperty.call(M,D)}function $i(M){for(const D in M)if(Object.prototype.hasOwnProperty.call(M,D))return!1;return!0}function uo(M,D){if(M===D)return!0;const b=Object.keys(M),I=Object.keys(D);for(const y of b){if(!I.includes(y))return!1;const S=M[y],K=D[y];if(bt(S)&&bt(K)){if(!uo(S,K))return!1}else if(S!==K)return!1}for(const y of I)if(!b.includes(y))return!1;return!0}function bt(M){return null!==M&&"object"==typeof M}function fo(M){const D=[];for(const[b,I]of Object.entries(M))Array.isArray(I)?I.forEach(y=>{D.push(encodeURIComponent(b)+"="+encodeURIComponent(y))}):D.push(encodeURIComponent(b)+"="+encodeURIComponent(I));return D.length?"&"+D.join("&"):""}function qr(M){const D={};return M.replace(/^\?/,"").split("&").forEach(I=>{if(I){const[y,S]=I.split("=");D[decodeURIComponent(y)]=decodeURIComponent(S)}}),D}function Wr(M){const D=M.indexOf("?");if(!D)return"";const b=M.indexOf("#",D);return M.substring(D,b>0?b:void 0)}function cr(M,D){const b=new lr(M,D);return b.subscribe.bind(b)}class lr{constructor(D,b){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=b,this.task.then(()=>{D(this)}).catch(I=>{this.error(I)})}next(D){this.forEachObserver(b=>{b.next(D)})}error(D){this.forEachObserver(b=>{b.error(D)}),this.close(D)}complete(){this.forEachObserver(D=>{D.complete()}),this.close()}subscribe(D,b,I){let y;if(void 0===D&&void 0===b&&void 0===I)throw new Error("Missing Observer.");y=function hi(M,D){if("object"!=typeof M||null===M)return!1;for(const b of D)if(b in M&&"function"==typeof M[b])return!0;return!1}(D,["next","error","complete"])?D:{next:D,error:b,complete:I},void 0===y.next&&(y.next=Bt),void 0===y.error&&(y.error=Bt),void 0===y.complete&&(y.complete=Bt);const S=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?y.error(this.finalError):y.complete()}catch{}}),this.observers.push(y),S}unsubscribeOne(D){void 0===this.observers||void 0===this.observers[D]||(delete this.observers[D],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(D){if(!this.finalized)for(let b=0;b<this.observers.length;b++)this.sendOne(b,D)}sendOne(D,b){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[D])try{b(this.observers[D])}catch(I){typeof console<"u"&&console.error&&console.error(I)}})}close(D){this.finalized||(this.finalized=!0,void 0!==D&&(this.finalError=D),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Bt(){}function go(M){return M&&M._delegate?M._delegate:M}},140:(co,Gn,Be)=>{function T(n){return"function"==typeof n}function Y(n){const t=n(i=>{Error.call(i),i.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const O=Y(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function Me(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class _t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:i}=this;if(T(i))try{i()}catch(o){e=o instanceof O?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{Xt(o)}catch(s){e=e??[],s instanceof O?e=[...e,...s.errors]:e.push(s)}}if(e)throw new O(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Xt(e);else{if(e instanceof _t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Me(t,e)}remove(e){const{_finalizers:t}=this;t&&Me(t,e),e instanceof _t&&e._removeParent(this)}}_t.EMPTY=(()=>{const n=new _t;return n.closed=!0,n})();const mn=_t.EMPTY;function Mn(n){return n instanceof _t||n&&"closed"in n&&T(n.remove)&&T(n.add)&&T(n.unsubscribe)}function Xt(n){T(n)?n():n.unsubscribe()}const At={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},J={setTimeout(n,e,...t){const{delegate:i}=J;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=J;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function de(n){J.setTimeout(()=>{const{onUnhandledError:e}=At;if(!e)throw n;e(n)})}function Ae(){}const nt=yt("C",void 0,void 0);function yt(n,e,t){return{kind:n,value:e,error:t}}let Ye=null;function Qe(n){if(At.useDeprecatedSynchronousErrorHandling){const e=!Ye;if(e&&(Ye={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:i}=Ye;if(Ye=null,t)throw i}}else n()}class Cn extends _t{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Mn(e)&&e.add(this)):this.destination=on}static create(e,t,i){return new Vn(e,t,i)}next(e){this.isStopped?xt(function qn(n){return yt("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?xt(function Pt(n){return yt("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?xt(nt,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const vt=Function.prototype.bind;function jt(n,e){return vt.call(n,e)}class sr{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){at(i)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){at(i)}else at(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){at(t)}}}class Vn extends Cn{constructor(e,t,i){let r;if(super(),T(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let o;this&&At.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&jt(e.next,o),error:e.error&&jt(e.error,o),complete:e.complete&&jt(e.complete,o)}):r=e}this.destination=new sr(r)}}function at(n){At.useDeprecatedSynchronousErrorHandling?function ni(n){At.useDeprecatedSynchronousErrorHandling&&Ye&&(Ye.errorThrown=!0,Ye.error=n)}(n):de(n)}function xt(n,e){const{onStoppedNotification:t}=At;t&&J.setTimeout(()=>t(n,e))}const on={closed:!0,next:Ae,error:function ce(n){throw n},complete:Ae},Tn="function"==typeof Symbol&&Symbol.observable||"@@observable";function kn(n){return n}function $r(n){return 0===n.length?kn:1===n.length?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}let et=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){const o=function $(n){return n&&n instanceof Cn||function lo(n){return n&&T(n.next)&&T(n.error)&&T(n.complete)}(n)&&Mn(n)}(t)?t:new Vn(t,i,r);return Qe(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return new(i=ar(i))((r,o)=>{const s=new Vn({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(t){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(t)}[Tn](){return this}pipe(...t){return $r(t)(this)}toPromise(t){return new(t=ar(t))((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=e=>new n(e),n})();function ar(n){var e;return null!==(e=n??At.Promise)&&void 0!==e?e:Promise}const W=Y(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let G=(()=>{class n extends et{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const i=new H(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new W}next(t){Qe(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(t)}})}error(t){Qe(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){Qe(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:i,isStopped:r,observers:o}=this;return i||r?mn:(this.currentObservers=null,o.push(t),new _t(()=>{this.currentObservers=null,Me(o,t)}))}_checkFinalizedStatuses(t){const{hasError:i,thrownError:r,isStopped:o}=this;i?t.error(r):o&&t.complete()}asObservable(){const t=new et;return t.source=this,t}}return n.create=(e,t)=>new H(e,t),n})();class H extends G{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,e)}error(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==i?i:mn}}function ne(n){return T(n?.lift)}function ee(n){return e=>{if(ne(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function ge(n,e,t,i,r){return new pt(n,e,t,i,r)}class pt extends Cn{constructor(e,t,i,r,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function me(n,e){return ee((t,i)=>{let r=0;t.subscribe(ge(i,o=>{i.next(n.call(e,o,r++))}))})}var Le=Be(582);const Dt=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function ln(n){return T(n?.then)}function Zt(n){return T(n[Tn])}function gn(n){return Symbol.asyncIterator&&T(n?.[Symbol.asyncIterator])}function Wn(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const di=function Zn(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function $i(n){return T(n?.[di])}function Gr(n){return(0,Le.FC)(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:i,done:r}=yield(0,Le.qq)(t.read());if(r)return yield(0,Le.qq)(void 0);yield yield(0,Le.qq)(i)}}finally{t.releaseLock()}})}function uo(n){return T(n?.getReader)}function bt(n){if(n instanceof et)return n;if(null!=n){if(Zt(n))return function ho(n){return new et(e=>{const t=n[Tn]();if(T(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Dt(n))return function fo(n){return new et(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(ln(n))return function qr(n){return new et(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,de)})}(n);if(gn(n))return Ci(n);if($i(n))return function Wr(n){return new et(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(uo(n))return function cr(n){return Ci(Gr(n))}(n)}throw Wn(n)}function Ci(n){return new et(e=>{(function lr(n,e){var t,i,r,o;return(0,Le.mG)(this,void 0,void 0,function*(){try{for(t=(0,Le.KL)(n);!(i=yield t.next()).done;)if(e.next(i.value),e.closed)return}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=t.return)&&(yield o.call(t))}finally{if(r)throw r.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function ur(n,e,t,i=0,r=!1){const o=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function Bt(n,e,t=1/0){return T(e)?Bt((i,r)=>me((o,s)=>e(i,o,r,s))(bt(n(i,r))),t):("number"==typeof e&&(t=e),ee((i,r)=>function hi(n,e,t,i,r,o,s,a){const c=[];let l=0,h=0,p=!1;const g=()=>{p&&!c.length&&!l&&e.complete()},v=C=>l<i?E(C):c.push(C),E=C=>{o&&e.next(C),l++;let x=!1;bt(t(C,h++)).subscribe(ge(e,N=>{r?.(N),o?v(N):e.next(N)},()=>{x=!0},void 0,()=>{if(x)try{for(l--;c.length&&l<i;){const N=c.shift();s?ur(e,s,()=>E(N)):E(N)}g()}catch(N){e.error(N)}}))};return n.subscribe(ge(e,v,()=>{p=!0,g()})),()=>{a?.()}}(i,r,n,t)))}function dr(n=1/0){return Bt(kn,n)}const Rn=new et(n=>n.complete());function xn(n){return n&&T(n.schedule)}function po(n){return n[n.length-1]}function mo(n){return T(po(n))?n.pop():void 0}function Zr(n){return xn(po(n))?n.pop():void 0}function Yn(n,e=0){return ee((t,i)=>{t.subscribe(ge(i,r=>ur(i,n,()=>i.next(r),e),()=>ur(i,n,()=>i.complete(),e),r=>ur(i,n,()=>i.error(r),e)))})}function Pi(n,e=0){return ee((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function go(n,e){if(!n)throw new Error("Iterable cannot be null");return new et(t=>{ur(t,e,()=>{const i=n[Symbol.asyncIterator]();ur(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function b(n,e){return e?function D(n,e){if(null!=n){if(Zt(n))return function hr(n,e){return bt(n).pipe(Pi(e),Yn(e))}(n,e);if(Dt(n))return function ns(n,e){return new et(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}(n,e);if(ln(n))return function Ia(n,e){return bt(n).pipe(Pi(e),Yn(e))}(n,e);if(gn(n))return go(n,e);if($i(n))return function js(n,e){return new et(t=>{let i;return ur(t,e,()=>{i=n[di](),ur(t,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){return void t.error(s)}o?t.complete():t.next(r)},0,!0)}),()=>T(i?.return)&&i.return()})}(n,e);if(uo(n))return function M(n,e){return go(Gr(n),e)}(n,e)}throw Wn(n)}(n,e):bt(n)}function I(...n){const e=Zr(n),t=function Kn(n,e){return"number"==typeof po(n)?n.pop():e}(n,1/0),i=n;return i.length?1===i.length?bt(i[0]):dr(t)(b(i,e)):Rn}class y extends G{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}function S(...n){return b(n,Zr(n))}function K(n={}){const{connector:e=(()=>new G),resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return o=>{let s,a,c,l=0,h=!1,p=!1;const g=()=>{a?.unsubscribe(),a=void 0},v=()=>{g(),s=c=void 0,h=p=!1},E=()=>{const C=s;v(),C?.unsubscribe()};return ee((C,x)=>{l++,!p&&!h&&g();const N=c=c??e();x.add(()=>{l--,0===l&&!p&&!h&&(a=Ie(E,r))}),N.subscribe(x),!s&&l>0&&(s=new Vn({next:k=>N.next(k),error:k=>{p=!0,g(),a=Ie(v,t,k),N.error(k)},complete:()=>{h=!0,g(),a=Ie(v,i),N.complete()}}),bt(C).subscribe(s))})(o)}}function Ie(n,e,...t){if(!0===e)return void n();if(!1===e)return;const i=new Vn({next:()=>{i.unsubscribe(),n()}});return bt(e(...t)).subscribe(i)}function Te(n,e){return ee((t,i)=>{let r=null,o=0,s=!1;const a=()=>s&&!r&&i.complete();t.subscribe(ge(i,c=>{r?.unsubscribe();let l=0;const h=o++;bt(n(c,h)).subscribe(r=ge(i,p=>i.next(e?e(c,p,h,l++):p),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function He(n,e=kn){return n=n??Mt,ee((t,i)=>{let r,o=!0;t.subscribe(ge(i,s=>{const a=e(s);(o||!n(r,a))&&(o=!1,r=a,i.next(s))}))})}function Mt(n,e){return n===e}function be(n){for(let e in n)if(n[e]===be)return e;throw Error("Could not find renamed property on target object.")}function Gt(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Pe(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Pe).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function ii(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const zs=be({__forward_ref__:be});function L(n){return n.__forward_ref__=L,n.toString=function(){return Pe(this())},n}function R(n){return ae(n)?n():n}function ae(n){return"function"==typeof n&&n.hasOwnProperty(zs)&&n.__forward_ref__===L}function Se(n){return n&&!!n.\u0275providers}const dt="https://g.co/ng/security#xss";class F extends Error{constructor(e,t){super(function Pn(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function De(n){return"string"==typeof n?n:null==n?"":String(n)}function $h(n,e){throw new F(-201,!1)}function Ti(n,e){null==n&&function $e(n,e,t,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${t} ${i} ${e} <=Actual]`))}(e,n,null,"!=")}function fe(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function wt(n){return{providers:n.providers||[],imports:n.imports||[]}}function cu(n){return Lg(n,Ta)||Lg(n,lu)}function Lg(n,e){return n.hasOwnProperty(e)?n[e]:null}function Pc(n){return n&&(n.hasOwnProperty(Gh)||n.hasOwnProperty(Q0))?n[Gh]:null}const Ta=be({\u0275prov:be}),Gh=be({\u0275inj:be}),lu=be({ngInjectableDef:be}),Q0=be({ngInjectorDef:be});var ht=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(ht||{});let qh;function Gi(n){const e=qh;return qh=n,e}function du(n,e,t){const i=cu(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:t&ht.Optional?null:void 0!==e?e:void $h(Pe(n))}const qt=globalThis,pr={},Lc="__NG_DI_FLAG__",fu="ngTempTokenPath",J0=/\n/gm,zg="__source";let is;function vo(n){const e=is;return is=n,e}function tw(n,e=ht.Default){if(void 0===is)throw new F(-203,!1);return null===is?du(n,void 0,e):is.get(n,e&ht.Optional?null:void 0,e)}function V(n,e=ht.Default){return(function uu(){return qh}()||tw)(R(n),e)}function he(n,e=ht.Default){return V(n,mu(e))}function mu(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Yh(n){const e=[];for(let t=0;t<n.length;t++){const i=R(n[t]);if(Array.isArray(i)){if(0===i.length)throw new F(900,!1);let r,o=ht.Default;for(let s=0;s<i.length;s++){const a=i[s],c=bA(a);"number"==typeof c?-1===c?r=a.token:o|=c:r=a}e.push(V(r,o))}else e.push(V(i))}return e}function Fo(n,e){return n[Lc]=e,n.prototype[Lc]=e,n}function bA(n){return n[Lc]}function qi(n){return{toString:n}.toString()}var rs=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(rs||{}),Rr=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Rr||{});const yo={},Ot=[],gu=be({\u0275cmp:be}),os=be({\u0275dir:be}),Xh=be({\u0275pipe:be}),Vc=be({\u0275mod:be}),Vo=be({\u0275fac:be}),xa=be({__NG_ELEMENT_ID__:be}),_u=be({__NG_ENV_ID__:be});function mr(n,e,t){let i=n.length;for(;;){const r=n.indexOf(e,t);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const o=e.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}t=r+1}}function vu(n,e,t){let i=0;for(;i<t.length;){const r=t[i];if("number"==typeof r){if(0!==r)break;i++;const o=t[i++],s=t[i++],a=t[i++];n.setAttribute(e,s,a,o)}else{const o=r,s=t[++i];yu(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),i++}}return i}function Hg(n){return 3===n||4===n||6===n}function yu(n){return 64===n.charCodeAt(0)}function ss(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?t=r:0===t||Jh(n,t,r,null,-1===t||2===t?e[++i]:null)}}return n}function Jh(n,e,t,i,r){let o=0,s=n.length;if(-1===e)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===t){if(null===i)return void(null!==r&&(n[o+1]=r));if(i===n[o+1])return void(n[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),null!==i&&n.splice(o++,0,i),null!==r&&n.splice(o++,0,r)}const ef="ng-template";function nw(n,e,t){let i=0,r=!0;for(;i<n.length;){let o=n[i++];if("string"==typeof o&&r){const s=n[i++];if(t&&"class"===o&&-1!==mr(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;i<n.length&&"string"==typeof(o=n[i++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(r=!1)}}return!1}function bu(n){return 4===n.type&&n.value!==ef}function tf(n,e,t){return e===(4!==n.type||t?n.value:ef)}function nf(n,e,t){let i=4;const r=n.attrs||[],o=function $g(n){for(let e=0;e<n.length;e++)if(Hg(n[e]))return e;return n.length}(r);let s=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!s)if(4&i){if(i=2|1&i,""!==c&&!tf(n,c,t)||""===c&&1===e.length){if(Wi(i))return!1;s=!0}}else{const l=8&i?c:e[++a];if(8&i&&null!==n.attrs){if(!nw(n.attrs,l,t)){if(Wi(i))return!1;s=!0}continue}const p=rf(8&i?"class":c,r,bu(n),t);if(-1===p){if(Wi(i))return!1;s=!0;continue}if(""!==l){let g;g=p>o?"":r[p+1].toLowerCase();const v=8&i?g:null;if(v&&-1!==mr(v,l,0)||2&i&&l!==g){if(Wi(i))return!1;s=!0}}}}else{if(!s&&!Wi(i)&&!Wi(c))return!1;if(s&&Wi(c))continue;s=!1,i=c|1&i}}return Wi(i)||s}function Wi(n){return 0==(1&n)}function rf(n,e,t,i){if(null===e)return-1;let r=0;if(i||!t){let o=!1;for(;r<e.length;){const s=e[r];if(s===n)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++r];for(;"string"==typeof a;)a=e[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function cf(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const i=n[t];if("number"==typeof i)return-1;if(i===e)return t;t++}return-1}(e,n)}function sf(n,e,t=!1){for(let i=0;i<e.length;i++)if(nf(n,e[i],t))return!0;return!1}function wu(n,e){e:for(let t=0;t<e.length;t++){const i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function Eu(n,e){return n?":not("+e.trim()+")":e}function Gg(n){let e=n[0],t=1,i=2,r="",o=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&i){const a=n[++t];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""!==r&&!Wi(s)&&(e+=Eu(o,r),r=""),i=s,o=o||!Wi(i);t++}return""!==r&&(e+=Eu(o,r)),e}function Bn(n){return qi(()=>{const e=Cu(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===rs.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Rr.Emulated,styles:n.styles||Ot,_:null,schemas:n.schemas||null,tView:null,id:""};Wg(t);const i=n.dependencies;return t.directiveDefs=Da(i,!1),t.pipeDefs=Da(i,!0),t.id=function df(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const r of t)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(t),t})}function uf(n){return It(n)||Qn(n)}function rw(n){return null!==n}function Et(n){return qi(()=>({type:n.type,bootstrap:n.bootstrap||Ot,declarations:n.declarations||Ot,imports:n.imports||Ot,exports:n.exports||Ot,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Iu(n,e){if(null==n)return yo;const t={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),t[r]=i,e&&(e[r]=o)}return t}function Ee(n){return qi(()=>{const e=Cu(n);return Wg(e),e})}function It(n){return n[gu]||null}function Qn(n){return n[os]||null}function Oi(n){return n[Xh]||null}function gr(n,e){const t=n[Vc]||null;if(!t&&!0===e)throw new Error(`Type ${Pe(n)} does not have '\u0275mod' property.`);return t}function Cu(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||yo,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||Ot,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Iu(n.inputs,e),outputs:Iu(n.outputs)}}function Wg(n){n.features?.forEach(e=>e(n))}function Da(n,e){if(!n)return null;const t=e?Oi:uf;return()=>("function"==typeof n?n():n).map(i=>t(i)).filter(rw)}const Dn=0,ye=1,it=2,Jt=3,Kr=4,Uc=5,ri=6,Sa=7,On=8,bo=9,Aa=10,Ze=11,jc=12,Tu=13,Ma=14,yn=15,zc=16,cs=17,wo=18,$s=19,Kg=20,Eo=21,Bo=22,Hc=23,ka=24,ft=25,ls=1,hf=2,Io=7,Ra=9,pi=11;function _r(n){return Array.isArray(n)&&"object"==typeof n[ls]}function Zi(n){return Array.isArray(n)&&!0===n[ls]}function Gc(n){return 0!=(4&n.flags)}function Gs(n){return n.componentOffset>-1}function Du(n){return 1==(1&n.flags)}function Co(n){return!!n.template}function Yg(n){return 0!=(512&n[it])}function us(n,e){return n.hasOwnProperty(Vo)?n[Vo]:null}let mi=null,ds=!1;function Pr(n){const e=mi;return mi=n,e}const Nn={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Su(n){if(!fs(n)||n.dirty){if(!n.producerMustRecompute(n)&&!o_(n))return void(n.dirty=!1);n.producerRecomputeValue(n),n.dirty=!1}}function r_(n){n.dirty=!0,function i_(n){if(void 0===n.liveConsumerNode)return;const e=ds;ds=!0;try{for(const t of n.liveConsumerNode)t.dirty||r_(t)}finally{ds=e}}(n),n.consumerMarkedDirty?.(n)}function gf(n){return n&&(n.nextProducerIndex=0),Pr(n)}function Au(n,e){if(Pr(e),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(fs(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)hs(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function o_(n){Oa(n);for(let e=0;e<n.producerNode.length;e++){const t=n.producerNode[e],i=n.producerLastReadVersion[e];if(i!==t.version||(Su(t),i!==t.version))return!0}return!1}function Wc(n){if(Oa(n),fs(n))for(let e=0;e<n.producerNode.length;e++)hs(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function hs(n,e){if(function Mu(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),Oa(n),1===n.liveConsumerNode.length)for(let i=0;i<n.producerNode.length;i++)hs(n.producerNode[i],n.producerIndexOfThis[i]);const t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){const i=n.liveConsumerIndexOfThis[e],r=n.liveConsumerNode[e];Oa(r),r.producerIndexOfThis[i]=e}}function fs(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Oa(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let c_=null;const h_=()=>{},dw=(()=>({...Nn,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule(n.ref)},hasRun:!1,cleanupFn:h_}))();class hw{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function vr(){return f_}function f_(n){return n.type.prototype.ngOnChanges&&(n.setInput=pw),fw}function fw(){const n=p_(this),e=n?.current;if(e){const t=n.previous;if(t===yo)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function pw(n,e,t,i){const r=this.declaredInputs[t],o=p_(n)||function bf(n,e){return n[Ru]=e}(n,{previous:yo,current:null}),s=o.current||(o.current={}),a=o.previous,c=a[r];s[r]=new hw(c&&c.currentValue,e,a===yo),n[i]=e}vr.ngInherit=!0;const Ru="__ngSimpleChanges__";function p_(n){return n[Ru]||null}const To=function(n,e,t){},Pu="svg";function Wt(n){for(;Array.isArray(n);)n=n[Dn];return n}function Na(n,e){return Wt(e[n])}function Ki(n,e){return Wt(e[n.index])}function Ou(n,e){return n.data[e]}function yr(n,e){const t=e[n];return _r(t)?t:t[Dn]}function ps(n,e){return null==e?null:n[e]}function g_(n){n[cs]=0}function Tf(n){1024&n[it]||(n[it]|=1024,Nu(n,1))}function __(n){1024&n[it]&&(n[it]&=-1025,Nu(n,-1))}function Nu(n,e){let t=n[Jt];if(null===t)return;t[Uc]+=e;let i=t;for(t=t[Jt];null!==t&&(1===e&&1===i[Uc]||-1===e&&0===i[Uc]);)t[Uc]+=e,i=t,t=t[Jt]}const Ge={lFrame:T_(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Lu(){return Ge.bindingsEnabled}function ms(){return null!==Ge.skipHydrationRootTNode}function re(){return Ge.lFrame.lView}function Ct(){return Ge.lFrame.tView}function en(n){return Ge.lFrame.contextLView=n,n[On]}function tn(n){return Ge.lFrame.contextLView=null,n}function Xn(){let n=I_();for(;null!==n&&64===n.type;)n=n.parent;return n}function I_(){return Ge.lFrame.currentTNode}function Or(n,e){const t=Ge.lFrame;t.currentTNode=n,t.isParent=e}function Sf(){return Ge.lFrame.isParent}function Qc(){Ge.lFrame.isParent=!1}function Zs(){return Ge.lFrame.bindingIndex++}function Pf(n,e){const t=Ge.lFrame;t.bindingIndex=t.bindingRootIndex=n,Of(e)}function Of(n){Ge.lFrame.currentDirectiveIndex=n}function Vu(){return Ge.lFrame.currentQueryIndex}function Ff(n){Ge.lFrame.currentQueryIndex=n}function Ew(n){const e=n[ye];return 2===e.type?e.declTNode:1===e.type?n[ri]:null}function Lf(n,e,t){if(t&ht.SkipSelf){let r=e,o=n;for(;!(r=r.parent,null!==r||t&ht.Host||(r=Ew(o),null===r||(o=o[Ma],10&r.type))););if(null===r)return!1;e=r,n=o}const i=Ge.lFrame=Xc();return i.currentTNode=e,i.lView=n,!0}function Vf(n){const e=Xc(),t=n[ye];Ge.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function Xc(){const n=Ge.lFrame,e=null===n?null:n.child;return null===e?T_(n):e}function T_(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function x_(){const n=Ge.lFrame;return Ge.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const D_=x_;function Bf(){const n=x_();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Ni(){return Ge.lFrame.selectedIndex}function Ks(n){Ge.lFrame.selectedIndex=n}function sn(){const n=Ge.lFrame;return Ou(n.tView,n.selectedIndex)}function Ys(){Ge.lFrame.currentNamespace=Pu}function La(){!function xw(){Ge.lFrame.currentNamespace=null}()}let Uf=!0;function Bu(){return Uf}function gs(n){Uf=n}function Uu(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){const o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),null!=h&&(n.destroyHooks??=[]).push(t,h)}}function ju(n,e,t){A_(n,e,3,t)}function Va(n,e,t,i){(3&n[it])===t&&A_(n,e,t,i)}function Jc(n,e){let t=n[it];(3&t)===e&&(t&=8191,t+=1,n[it]=t)}function A_(n,e,t,i){const o=i??-1,s=e.length-1;let a=0;for(let c=void 0!==i?65535&n[cs]:0;c<s;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=i&&a>=i)break}else e[c]<0&&(n[cs]+=65536),(a<o||-1==o)&&(Sw(n,t,e,c),n[cs]=(4294901760&n[cs])+c+2),c++}function zu(n,e){To(4,n,e);const t=Pr(null);try{e.call(n)}finally{Pr(t),To(5,n,e)}}function Sw(n,e,t,i){const r=t[i]<0,o=t[i+1],a=n[r?-t[i]:t[i]];r?n[it]>>13<n[cs]>>16&&(3&n[it])===e&&(n[it]+=8192,zu(a,o)):zu(a,o)}const Qs=-1;class el{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function zf(n){return n!==Qs}function tl(n){return 32767&n}function nl(n,e){let t=function kw(n){return n>>16}(n),i=e;for(;t>0;)i=i[Ma],t--;return i}let Hf=!0;function il(n){const e=Hf;return Hf=n,e}const Rw=255,f=5;let u=0;const d={};function _(n,e){const t=P(n,e);if(-1!==t)return t;const i=e[ye];i.firstCreatePass&&(n.injectorIndex=e.length,w(i.data,n),w(e,null),w(i.blueprint,null));const r=z(n,e),o=n.injectorIndex;if(zf(r)){const s=tl(r),a=nl(r,e),c=a[ye].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=r,o}function w(n,e){n.push(0,0,0,0,0,0,0,0,e)}function P(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function z(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;null!==r;){if(i=jA(r),null===i)return Qs;if(t++,r=r[Ma],-1!==i.injectorIndex)return i.injectorIndex|t<<16}return Qs}function se(n,e,t){!function m(n,e,t){let i;"string"==typeof t?i=t.charCodeAt(0)||0:t.hasOwnProperty(xa)&&(i=t[xa]),null==i&&(i=t[xa]=u++);const r=i&Rw;e.data[n+(r>>f)]|=1<<r}(n,e,t)}function Ve(n,e,t){if(t&ht.Optional||void 0!==n)return n;$h()}function Tt(n,e,t,i){if(t&ht.Optional&&void 0===i&&(i=null),!(t&(ht.Self|ht.Host))){const r=n[bo],o=Gi(void 0);try{return r?r.get(e,i,t&ht.Optional):du(e,i,t&ht.Optional)}finally{Gi(o)}}return Ve(i,0,t)}function Fi(n,e,t,i=ht.Default,r){if(null!==n){if(2048&e[it]&&!(i&ht.Self)){const s=function Pw(n,e,t,i,r){let o=n,s=e;for(;null!==o&&null!==s&&2048&s[it]&&!(512&s[it]);){const a=jo(o,s,t,i|ht.Self,d);if(a!==d)return a;let c=o.parent;if(!c){const l=s[Kg];if(l){const h=l.get(t,d,i);if(h!==d)return h}c=jA(s),s=s[Ma]}o=c}return r}(n,e,t,i,d);if(s!==d)return s}const o=jo(n,e,t,i,d);if(o!==d)return o}return Tt(e,t,i,r)}function jo(n,e,t,i,r){const o=function P_(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(xa)?n[xa]:void 0;return"number"==typeof e?e>=0?e&Rw:N_:e}(t);if("function"==typeof o){if(!Lf(e,n,i))return i&ht.Host?Ve(r,0,i):Tt(e,t,i,r);try{let s;if(s=o(i),null!=s||i&ht.Optional)return s;$h()}finally{D_()}}else if("number"==typeof o){let s=null,a=P(n,e),c=Qs,l=i&ht.Host?e[yn][ri]:null;for((-1===a||i&ht.SkipSelf)&&(c=-1===a?z(n,e):e[a+8],c!==Qs&&Gu(i,!1)?(s=e[ye],a=tl(c),e=nl(c,e)):a=-1);-1!==a;){const h=e[ye];if($f(o,a,h.data)){const p=$u(a,e,t,s,i,l);if(p!==d)return p}c=e[a+8],c!==Qs&&Gu(i,e[ye].data[a+8]===l)&&$f(o,a,e)?(s=h,a=tl(c),e=nl(c,e)):a=-1}}return r}function $u(n,e,t,i,r,o){const s=e[ye],a=s.data[n+8],h=rl(a,s,t,null==i?Gs(a)&&Hf:i!=s&&0!=(3&a.type),r&ht.Host&&o===a);return null!==h?zo(e,s,h,a):d}function rl(n,e,t,i,r){const o=n.providerIndexes,s=e.data,a=1048575&o,c=n.directiveStart,h=o>>20,g=r?a+h:n.directiveEnd;for(let v=i?a:a+h;v<g;v++){const E=s[v];if(v<c&&t===E||v>=c&&E.type===t)return v}if(r){const v=s[c];if(v&&Co(v)&&v.type===t)return c}return null}function zo(n,e,t,i){let r=n[t];const o=e.data;if(function jf(n){return n instanceof el}(r)){const s=r;s.resolving&&function Rc(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new F(-200,`Circular dependency in DI detected for ${n}${t}`)}(function mt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():De(n)}(o[t]));const a=il(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?Gi(s.injectImpl):null;Lf(n,i,ht.Default);try{r=n[t]=s.factory(void 0,o,n,i),e.firstCreatePass&&t>=i.directiveStart&&function Dw(n,e,t){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){const s=f_(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}r&&(t.preOrderHooks??=[]).push(0-n,r),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}(t,o[t],e)}finally{null!==l&&Gi(l),il(a),s.resolving=!1,D_()}}return r}function $f(n,e,t){return!!(t[e+(n>>f)]&1<<n)}function Gu(n,e){return!(n&ht.Self||n&ht.Host&&e)}class _i{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return Fi(this._tNode,this._lView,e,mu(i),t)}}function N_(){return new _i(Xn(),re())}function Un(n){return qi(()=>{const e=n.prototype.constructor,t=e[Vo]||ol(e),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const o=r[Vo]||ol(r);if(o&&o!==t)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function ol(n){return ae(n)?()=>{const e=ol(R(n));return e&&e()}:us(n)}function jA(n){const e=n[ye],t=e.type;return 2===t?e.declTNode:1===t?n[ri]:null}function Ua(n){return function xe(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const i=t.length;let r=0;for(;r<i;){const o=t[r];if(Hg(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<i&&"string"==typeof t[r];)r++;else{if(o===e)return t[r+1];r+=2}}}return null}(Xn(),n)}const Wu="__parameters__";function Ku(n,e,t){return qi(()=>{const i=function Ow(n){return function(...t){if(n){const i=n(...t);for(const r in i)this[r]=i[r]}}}(e);function r(...o){if(this instanceof r)return i.apply(this,o),this;const s=new r(...o);return a.annotation=s,a;function a(c,l,h){const p=c.hasOwnProperty(Wu)?c[Wu]:Object.defineProperty(c,Wu,{value:[]})[Wu];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),c}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}function Qu(n,e){n.forEach(t=>Array.isArray(t)?Qu(t,e):e(t))}function HA(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function F_(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function qf(n,e){const t=[];for(let i=0;i<n;i++)t.push(e);return t}function Yr(n,e,t){let i=Xu(n,e);return i>=0?n[1|i]=t:(i=~i,function zz(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(1===r)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;)n[r]=n[r-2],r--;n[e]=t,n[e+1]=i}}(n,i,e,t)),i}function Nw(n,e){const t=Xu(n,e);if(t>=0)return n[1|t]}function Xu(n,e){return function $A(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){const o=i+(r-i>>1),s=n[o<<t];if(e===s)return o<<t;s>e?r=o:i=o+1}return~(r<<t)}(n,e,1)}const ja=Fo(Ku("Optional"),8),Wf=Fo(Ku("SkipSelf"),4);function z_(n){return 128==(128&n.flags)}var za=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(za||{});const Uw=new Map;let f3=0;const zw="__ngContext__";function Yi(n,e){_r(e)?(n[zw]=e[$s],function m3(n){Uw.set(n[$s],n)}(e)):n[zw]=e}let Hw;function $w(n,e){return Hw(n,e)}function Yf(n){const e=n[Jt];return Zi(e)?e[Jt]:e}function uM(n){return hM(n[jc])}function dM(n){return hM(n[Kr])}function hM(n){for(;null!==n&&!Zi(n);)n=n[Kr];return n}function td(n,e,t,i,r){if(null!=i){let o,s=!1;Zi(i)?o=i:_r(i)&&(s=!0,i=i[Dn]);const a=Wt(i);0===n&&null!==t?null==r?gM(e,t,a):sl(e,t,a,r||null,!0):1===n&&null!==t?sl(e,t,a,r||null,!0):2===n?function K_(n,e,t){const i=W_(n,e);i&&function O3(n,e,t,i){n.removeChild(e,t,i)}(n,i,e,t)}(e,a,s):3===n&&e.destroyNode(a),null!=o&&function L3(n,e,t,i,r){const o=t[Io];o!==Wt(t)&&td(e,n,i,o,r);for(let a=pi;a<t.length;a++){const c=t[a];Xf(c[ye],c,n,e,i,o)}}(e,n,o,t,r)}}function G_(n,e,t){return n.createElement(e,t)}function pM(n,e){const t=n[Ra],i=t.indexOf(e);__(e),t.splice(i,1)}function q_(n,e){if(n.length<=pi)return;const t=pi+e,i=n[t];if(i){const r=i[zc];null!==r&&r!==n&&pM(r,i),e>0&&(n[t-1][Kr]=i[Kr]);const o=F_(n,pi+e);!function x3(n,e){Xf(n,e,e[Ze],2,null,null),e[Dn]=null,e[ri]=null}(i[ye],i);const s=o[wo];null!==s&&s.detachView(o[ye]),i[Jt]=null,i[Kr]=null,i[it]&=-129}return i}function qw(n,e){if(!(256&e[it])){const t=e[Ze];e[Hc]&&Wc(e[Hc]),e[ka]&&Wc(e[ka]),t.destroyNode&&Xf(n,e,t,3,null,null),function A3(n){let e=n[jc];if(!e)return Ww(n[ye],n);for(;e;){let t=null;if(_r(e))t=e[jc];else{const i=e[pi];i&&(t=i)}if(!t){for(;e&&!e[Kr]&&e!==n;)_r(e)&&Ww(e[ye],e),e=e[Jt];null===e&&(e=n),_r(e)&&Ww(e[ye],e),t=e&&e[Kr]}e=t}}(e)}}function Ww(n,e){if(!(256&e[it])){e[it]&=-129,e[it]|=256,function P3(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let i=0;i<t.length;i+=2){const r=e[t[i]];if(!(r instanceof el)){const o=t[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=r[o[s]],c=o[s+1];To(4,a,c);try{c.call(a)}finally{To(5,a,c)}}else{To(4,r,o);try{o.call(r)}finally{To(5,r,o)}}}}}(n,e),function R3(n,e){const t=n.cleanup,i=e[Sa];if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else t[o].call(i[t[o+1]]);null!==i&&(e[Sa]=null);const r=e[Eo];if(null!==r){e[Eo]=null;for(let o=0;o<r.length;o++)(0,r[o])()}}(n,e),1===e[ye].type&&e[Ze].destroy();const t=e[zc];if(null!==t&&Zi(e[Jt])){t!==e[Jt]&&pM(t,e);const i=e[wo];null!==i&&i.detachView(n)}!function g3(n){Uw.delete(n[$s])}(e)}}function Zw(n,e,t){return function mM(n,e,t){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return t[Dn];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:o}=n.data[i.directiveStart+r];if(o===Rr.None||o===Rr.Emulated)return null}return Ki(i,t)}}(n,e.parent,t)}function sl(n,e,t,i,r){n.insertBefore(e,t,i,r)}function gM(n,e,t){n.appendChild(e,t)}function _M(n,e,t,i,r){null!==i?sl(n,e,t,i,r):gM(n,e,t)}function W_(n,e){return n.parentNode(e)}function vM(n,e,t){return bM(n,e,t)}let Kw,Y_,Jw,bM=function yM(n,e,t){return 40&n.type?Ki(n,t):null};function Z_(n,e,t,i){const r=Zw(n,i,e),o=e[Ze],a=vM(i.parent||e[ri],i,e);if(null!=r)if(Array.isArray(t))for(let c=0;c<t.length;c++)_M(o,r,t[c],a,!1);else _M(o,r,t,a,!1);void 0!==Kw&&Kw(o,i,e,t,r)}function Qf(n,e){if(null!==e){const t=e.type;if(3&t)return Ki(e,n);if(4&t)return Yw(-1,n[e.index]);if(8&t){const i=e.child;if(null!==i)return Qf(n,i);{const r=n[e.index];return Zi(r)?Yw(-1,r):Wt(r)}}if(32&t)return $w(e,n)()||Wt(n[e.index]);{const i=EM(n,e);return null!==i?Array.isArray(i)?i[0]:Qf(Yf(n[yn]),i):Qf(n,e.next)}}return null}function EM(n,e){return null!==e?n[yn][ri].projection[e.projection]:null}function Yw(n,e){const t=pi+n+1;if(t<e.length){const i=e[t],r=i[ye].firstChild;if(null!==r)return Qf(i,r)}return e[Io]}function Qw(n,e,t,i,r,o,s){for(;null!=t;){const a=i[t.index],c=t.type;if(s&&0===e&&(a&&Yi(Wt(a),i),t.flags|=2),32!=(32&t.flags))if(8&c)Qw(n,e,t.child,i,r,o,!1),td(e,n,r,a,o);else if(32&c){const l=$w(t,i);let h;for(;h=l();)td(e,n,r,h,o);td(e,n,r,a,o)}else 16&c?CM(n,e,i,t,r,o):td(e,n,r,a,o);t=s?t.projectionNext:t.next}}function Xf(n,e,t,i,r,o){Qw(t,i,n.firstChild,e,r,o,!1)}function CM(n,e,t,i,r,o){const s=t[yn],c=s[ri].projection[i.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)td(e,n,r,c[l],o);else{let l=c;const h=s[Jt];z_(i)&&(l.flags|=128),Qw(n,e,l,h,r,o,!0)}}function TM(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function xM(n,e,t){const{mergedAttrs:i,classes:r,styles:o}=t;null!==i&&vu(n,e,i),null!==r&&TM(n,e,r),null!==o&&function B3(n,e,t){n.setAttribute(e,"style",t)}(n,e,o)}function nd(n){return function Xw(){if(void 0===Y_&&(Y_=null,qt.trustedTypes))try{Y_=qt.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Y_}()?.createHTML(n)||n}class al{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${dt})`}}class $3 extends al{getTypeName(){return"HTML"}}class G3 extends al{getTypeName(){return"Style"}}class q3 extends al{getTypeName(){return"Script"}}class W3 extends al{getTypeName(){return"URL"}}class Z3 extends al{getTypeName(){return"ResourceURL"}}function Qr(n){return n instanceof al?n.changingThisBreaksApplicationSecurity:n}function _s(n,e){const t=function K3(n){return n instanceof al&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${dt})`)}return t===e}class tH{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(nd(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class nH{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const t=this.inertDocument.createElement("template");return t.innerHTML=nd(e),t}}const rH=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function X_(n){return(n=String(n)).match(rH)?n:"unsafe:"+n}function Xs(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function Jf(...n){const e={};for(const t of n)for(const i in t)t.hasOwnProperty(i)&&(e[i]=!0);return e}const kM=Xs("area,br,col,hr,img,wbr"),RM=Xs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),PM=Xs("rp,rt"),tE=Jf(kM,Jf(RM,Xs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Jf(PM,Xs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Jf(PM,RM)),nE=Xs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),OM=Jf(nE,Xs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Xs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),oH=Xs("script,style,template");class sH{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,i=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let r=this.checkClobberedElement(t,t.nextSibling);if(r){t=r;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!tE.hasOwnProperty(t))return this.sanitizedSomething=!0,!oH.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const i=e.attributes;for(let r=0;r<i.length;r++){const o=i.item(r),s=o.name,a=s.toLowerCase();if(!OM.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;nE[a]&&(c=X_(c)),this.buf.push(" ",s,'="',NM(c),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();tE.hasOwnProperty(t)&&!kM.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(NM(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const aH=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,cH=/([^\#-~ |!])/g;function NM(n){return n.replace(/&/g,"&amp;").replace(aH,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(cH,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let J_;function FM(n,e){let t=null;try{J_=J_||function MM(n){const e=new nH(n);return function iH(){try{return!!(new window.DOMParser).parseFromString(nd(""),"text/html")}catch{return!1}}()?new tH(e):e}(n);let i=e?String(e):"";t=J_.getInertBodyElement(i);let r=5,o=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=t.innerHTML,t=J_.getInertBodyElement(i)}while(i!==o);return nd((new sH).sanitizeChildren(iE(t)||t))}finally{if(t){const i=iE(t)||t;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function iE(n){return"content"in n&&function lH(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Li=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Li||{});function rE(n){const e=function ep(){const n=re();return n&&n[Aa].sanitizer}();return e?e.sanitize(Li.URL,n)||"":_s(n,"URL")?Qr(n):X_(De(n))}class ie{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=fe({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const tp=new ie("ENVIRONMENT_INITIALIZER"),BM=new ie("INJECTOR",-1),UM=new ie("INJECTOR_DEF_TYPES");class oE{get(e,t=pr){if(t===pr){const i=new Error(`NullInjectorError: No provider for ${Pe(e)}!`);throw i.name="NullInjectorError",i}return t}}function gH(...n){return{\u0275providers:jM(0,n),\u0275fromNgModule:!0}}function jM(n,...e){const t=[],i=new Set;let r;const o=s=>{t.push(s)};return Qu(e,s=>{const a=s;ev(a,o,[],i)&&(r||=[],r.push(a))}),void 0!==r&&zM(r,o),t}function zM(n,e){for(let t=0;t<n.length;t++){const{ngModule:i,providers:r}=n[t];aE(r,o=>{e(o,i)})}}function ev(n,e,t,i){if(!(n=R(n)))return!1;let r=null,o=Pc(n);const s=!o&&It(n);if(o||s){if(s&&!s.standalone)return!1;r=n}else{const c=n.ngModule;if(o=Pc(c),!o)return!1;r=c}const a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const l of c)ev(l,e,t,i)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let l;i.add(r);try{Qu(o.imports,h=>{ev(h,e,t,i)&&(l||=[],l.push(h))})}finally{}void 0!==l&&zM(l,e)}if(!a){const l=us(r)||(()=>new r);e({provide:r,useFactory:l,deps:Ot},r),e({provide:UM,useValue:r,multi:!0},r),e({provide:tp,useValue:()=>V(r),multi:!0},r)}const c=o.providers;if(null!=c&&!a){const l=n;aE(c,h=>{e(h,l)})}}}return r!==n&&void 0!==n.providers}function aE(n,e){for(let t of n)Se(t)&&(t=t.\u0275providers),Array.isArray(t)?aE(t,e):e(t)}const _H=be({provide:String,useValue:be});function cE(n){return null!==n&&"object"==typeof n&&_H in n}function cl(n){return"function"==typeof n}const lE=new ie("Set Injector scope."),tv={},yH={};let uE;function nv(){return void 0===uE&&(uE=new oE),uE}class Xr{}class iv extends Xr{get destroyed(){return this._destroyed}constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,hE(e,s=>this.processProvider(s)),this.records.set(BM,rd(void 0,this)),r.has("environment")&&this.records.set(Xr,rd(void 0,this));const o=this.records.get(lE);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(UM.multi,Ot,ht.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=vo(this),i=Gi(void 0);try{return e()}finally{vo(t),Gi(i)}}get(e,t=pr,i=ht.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(_u))return e[_u](this);i=mu(i);const o=vo(this),s=Gi(void 0);try{if(!(i&ht.SkipSelf)){let c=this.records.get(e);if(void 0===c){const l=function CH(n){return"function"==typeof n||"object"==typeof n&&n instanceof ie}(e)&&cu(e);c=l&&this.injectableDefInScope(l)?rd(dE(e),tv):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(i&ht.Self?nv():this.parent).get(e,t=i&ht.Optional&&t===pr?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[fu]=a[fu]||[]).unshift(Pe(e)),o)throw a;return function Qh(n,e,t,i){const r=n[fu];throw e[zg]&&r.unshift(e[zg]),n.message=function Lo(n,e,t,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=Pe(e);if(Array.isArray(e))r=e.map(Pe).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Pe(a)))}r=`{${o.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(J0,"\n  ")}`}("\n"+n.message,r,t,i),n.ngTokenPath=r,n[fu]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{Gi(s),vo(o)}}resolveInjectorInitializers(){const e=vo(this),t=Gi(void 0);try{const r=this.get(tp.multi,Ot,ht.Self);for(const o of r)o()}finally{vo(e),Gi(t)}}toString(){const e=[],t=this.records;for(const i of t.keys())e.push(Pe(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new F(205,!1)}processProvider(e){let t=cl(e=R(e))?e:R(e&&e.provide);const i=function wH(n){return cE(n)?rd(void 0,n.useValue):rd(GM(n),tv)}(e);if(cl(e)||!0!==e.multi)this.records.get(t);else{let r=this.records.get(t);r||(r=rd(void 0,tv,!0),r.factory=()=>Yh(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){return t.value===tv&&(t.value=yH,t.value=t.factory()),"object"==typeof t.value&&t.value&&function IH(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=R(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function dE(n){const e=cu(n),t=null!==e?e.factory:us(n);if(null!==t)return t;if(n instanceof ie)throw new F(204,!1);if(n instanceof Function)return function bH(n){const e=n.length;if(e>0)throw qf(e,"?"),new F(204,!1);const t=function Ca(n){return n&&(n[Ta]||n[lu])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new F(204,!1)}function GM(n,e,t){let i;if(cl(n)){const r=R(n);return us(r)||dE(r)}if(cE(n))i=()=>R(n.useValue);else if(function $M(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...Yh(n.deps||[]));else if(function HM(n){return!(!n||!n.useExisting)}(n))i=()=>V(R(n.useExisting));else{const r=R(n&&(n.useClass||n.provide));if(!function EH(n){return!!n.deps}(n))return us(r)||dE(r);i=()=>new r(...Yh(n.deps))}return i}function rd(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function hE(n,e){for(const t of n)Array.isArray(t)?hE(t,e):t&&Se(t)?hE(t.\u0275providers,e):e(t)}const rv=new ie("AppId",{providedIn:"root",factory:()=>TH}),TH="ng",qM=new ie("Platform Initializer"),Ho=new ie("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Js=new ie("AnimationModuleType"),fE=new ie("CSP nonce",{providedIn:"root",factory:()=>function id(){if(void 0!==Jw)return Jw;if(typeof document<"u")return document;throw new F(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let WM=(n,e,t)=>null;function wE(n,e,t=!1){return WM(n,e,t)}class NH{}class YM{}class LH{resolveComponentFactory(e){throw function FH(n){const e=Error(`No component factory found for ${Pe(n)}.`);return e.ngComponent=n,e}(e)}}let rp=(()=>{class n{static#e=this.NULL=new LH}return n})();function VH(){return ad(Xn(),re())}function ad(n,e){return new un(Ki(n,e))}let un=(()=>{class n{constructor(t){this.nativeElement=t}static#e=this.__NG_ELEMENT_ID__=VH}return n})();function BH(n){return n instanceof un?n.nativeElement:n}class op{}let ea=(()=>{class n{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function UH(){const n=re(),t=yr(Xn().index,n);return(_r(t)?t:n)[Ze]}()}return n})(),jH=(()=>{class n{static#e=this.\u0275prov=fe({token:n,providedIn:"root",factory:()=>null})}return n})();class Ha{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const XM=new Ha("16.2.9"),CE={};function nk(n,e=null,t=null,i){const r=ik(n,e,t,i);return r.resolveInjectorInitializers(),r}function ik(n,e=null,t=null,i,r=new Set){const o=[t||Ot,gH(n)];return i=i||("object"==typeof n?void 0:Pe(n)),new iv(o,e||nv(),i||null,r)}let Qi=(()=>{class n{static#e=this.THROW_IF_NOT_FOUND=pr;static#t=this.NULL=new oE;static create(t,i){if(Array.isArray(t))return nk({name:""},i,t,"");{const r=t.name??"";return nk({name:r},t.parent,t.providers,r)}}static#n=this.\u0275prov=fe({token:n,providedIn:"any",factory:()=>V(BM)});static#i=this.__NG_ELEMENT_ID__=-1}return n})();function xE(n){return n.ngOriginalError}class So{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&xE(e);for(;t&&xE(t);)t=xE(t);return t||null}}function SE(n){return e=>{setTimeout(n,void 0,e)}}const Ut=class ZH extends G{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,i){let r=e,o=t||(()=>null),s=i;if(e&&"object"==typeof e){const c=e;r=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=SE(o),r&&(r=SE(r)),s&&(s=SE(s)));const a=super.subscribe({next:r,error:o,complete:s});return e instanceof _t&&e.add(a),a}};function ok(...n){}class Xe{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ut(!1),this.onMicrotaskEmpty=new Ut(!1),this.onStable=new Ut(!1),this.onError=new Ut(!1),typeof Zone>"u")throw new F(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&t,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function KH(){const n="function"==typeof qt.requestAnimationFrame;let e=qt[n?"requestAnimationFrame":"setTimeout"],t=qt[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function XH(n){const e=()=>{!function QH(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(qt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,ME(n),n.isCheckStableRunning=!0,AE(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),ME(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,r,o,s,a)=>{if(function e$(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(r,o,s,a);try{return sk(n),t.invokeTask(r,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&e(),ak(n)}},onInvoke:(t,i,r,o,s,a,c)=>{try{return sk(n),t.invoke(r,o,s,a,c)}finally{n.shouldCoalesceRunChangeDetection&&e(),ak(n)}},onHasTask:(t,i,r,o)=>{t.hasTask(r,o),i===r&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,ME(n),AE(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,i,r,o)=>(t.handleError(r,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Xe.isInAngularZone())throw new F(909,!1)}static assertNotInAngularZone(){if(Xe.isInAngularZone())throw new F(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,e,YH,ok,ok);try{return o.runTask(s,t,i)}finally{o.cancelTask(s)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}}const YH={};function AE(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function ME(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function sk(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function ak(n){n._nesting--,AE(n)}class JH{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ut,this.onMicrotaskEmpty=new Ut,this.onStable=new Ut,this.onError=new Ut}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}}const ck=new ie("",{providedIn:"root",factory:lk});function lk(){const n=he(Xe);let e=!0;return I(new et(r=>{e=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{r.next(e),r.complete()})}),new et(r=>{let o;n.runOutsideAngular(()=>{o=n.onStable.subscribe(()=>{Xe.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(e=!0,r.next(!0))})})});const s=n.onUnstable.subscribe(()=>{Xe.assertInAngularZone(),e&&(e=!1,n.runOutsideAngular(()=>{r.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(K()))}function ta(n){return n instanceof Function?n():n}let kE=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=fe({token:n,providedIn:"root",factory:()=>new n})}return n})();function sp(n){for(;n;){n[it]|=64;const e=Yf(n);if(Yg(n)&&!e)return n;n=e}return null}const pk=new ie("",{providedIn:"root",factory:()=>!1});let dv=null;function vk(n,e){return n[e]??wk()}function yk(n,e){const t=wk();t.producerNode?.length&&(n[e]=dv,t.lView=n,dv=bk())}const u$={...Nn,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{sp(n.lView)},lView:null};function bk(){return Object.create(u$)}function wk(){return dv??=bk(),dv}const ot={};function Ne(n){Ek(Ct(),re(),Ni()+n,!1)}function Ek(n,e,t,i){if(!i)if(3==(3&e[it])){const o=n.preOrderCheckHooks;null!==o&&ju(e,o,t)}else{const o=n.preOrderHooks;null!==o&&Va(e,o,0,t)}Ks(t)}function j(n,e=ht.Default){const t=re();return null===t?V(n,e):Fi(Xn(),t,R(n),e)}function ud(){throw new Error("invalid")}function hv(n,e,t,i,r,o,s,a,c,l,h){const p=e.blueprint.slice();return p[Dn]=r,p[it]=140|i,(null!==l||n&&2048&n[it])&&(p[it]|=2048),g_(p),p[Jt]=p[Ma]=n,p[On]=t,p[Aa]=s||n&&n[Aa],p[Ze]=a||n&&n[Ze],p[bo]=c||n&&n[bo]||null,p[ri]=o,p[$s]=function p3(){return f3++}(),p[Bo]=h,p[Kg]=l,p[yn]=2==e.type?n[yn]:p,p}function dd(n,e,t,i,r){let o=n.data[e];if(null===o)o=function RE(n,e,t,i,r){const o=I_(),s=Sf(),c=n.data[e]=function v$(n,e,t,i,r,o){let s=e?e.injectorIndex:-1,a=0;return ms()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,e,i,r);return null===n.firstChild&&(n.firstChild=c),null!==o&&(s?null==o.child&&null!==c.parent&&(o.child=c):null===o.next&&(o.next=c,c.prev=o)),c}(n,e,t,i,r),function bw(){return Ge.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=t,o.value=i,o.attrs=r;const s=function Yc(){const n=Ge.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Or(o,!0),o}function ap(n,e,t,i){if(0===t)return-1;const r=e.length;for(let o=0;o<t;o++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function Ik(n,e,t,i,r){const o=vk(e,Hc),s=Ni(),a=2&i;try{Ks(-1),a&&e.length>ft&&Ek(n,e,ft,!1),To(a?2:0,r);const l=a?o:null,h=gf(l);try{null!==l&&(l.dirty=!1),t(i,r)}finally{Au(l,h)}}finally{a&&null===e[Hc]&&yk(e,Hc),Ks(s),To(a?3:1,r)}}function PE(n,e,t){if(Gc(e)){const i=Pr(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=n.data[s];a.contentQueries&&a.contentQueries(1,t[s],s)}}finally{Pr(i)}}}function OE(n,e,t){Lu()&&(function T$(n,e,t,i){const r=t.directiveStart,o=t.directiveEnd;Gs(t)&&function R$(n,e,t){const i=Ki(e,n),r=Ck(t);let s=16;t.signals?s=4096:t.onPush&&(s=64);const a=fv(n,hv(n,r,null,s,i,e,null,n[Aa].rendererFactory.createRenderer(i,t),null,null,null));n[e.index]=a}(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||_(t,e),Yi(i,e);const s=t.initialInputs;for(let a=r;a<o;a++){const c=n.data[a],l=zo(e,n,a,t);Yi(l,e),null!==s&&P$(0,a-r,l,c,0,s),Co(c)&&(yr(t.index,e)[On]=zo(e,n,a,t))}}(n,e,t,Ki(t,e)),64==(64&t.flags)&&Ak(n,e,t))}function NE(n,e,t=Ki){const i=e.localNames;if(null!==i){let r=e.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],a=-1===s?t(e,n):n[s];n[r++]=a}}}function Ck(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=FE(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function FE(n,e,t,i,r,o,s,a,c,l,h){const p=ft+i,g=p+r,v=function h$(n,e){const t=[];for(let i=0;i<e;i++)t.push(i<n?null:ot);return t}(p,g),E="function"==typeof l?l():l;return v[ye]={type:n,blueprint:v,template:t,queries:null,viewQuery:a,declTNode:e,data:v.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:E,incompleteFirstPass:!1,ssrId:h}}let Tk=n=>null;function xk(n,e,t,i){for(let r in n)if(n.hasOwnProperty(r)){t=null===t?{}:t;const o=n[r];null===i?Dk(t,e,r,o):i.hasOwnProperty(r)&&Dk(t,e,i[r],o)}return t}function Dk(n,e,t,i){n.hasOwnProperty(t)?n[t].push(e,i):n[t]=[e,i]}function LE(n,e,t,i){if(Lu()){const r=null===i?null:{"":-1},o=function D$(n,e){const t=n.directiveRegistry;let i=null,r=null;if(t)for(let o=0;o<t.length;o++){const s=t[o];if(sf(e,s.selectors,!1))if(i||(i=[]),Co(s))if(null!==s.findHostDirectiveDefs){const a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s),VE(n,e,a.length)}else i.unshift(s),VE(n,e,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return null===i?null:[i,r]}(n,t);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&Sk(n,e,t,s,r,a),r&&function S$(n,e,t){if(e){const i=n.localNames=[];for(let r=0;r<e.length;r+=2){const o=t[e[r+1]];if(null==o)throw new F(-301,!1);i.push(e[r],o)}}}(t,i,r)}t.mergedAttrs=ss(t.mergedAttrs,t.attrs)}function Sk(n,e,t,i,r,o){for(let l=0;l<i.length;l++)se(_(t,e),n,i[l].type);!function M$(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,i.length);for(let l=0;l<i.length;l++){const h=i[l];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,c=ap(n,e,i.length,null);for(let l=0;l<i.length;l++){const h=i[l];t.mergedAttrs=ss(t.mergedAttrs,h.hostAttrs),k$(n,t,e,c,h),A$(c,h,r),null!==h.contentQueries&&(t.flags|=4),(null!==h.hostBindings||null!==h.hostAttrs||0!==h.hostVars)&&(t.flags|=64);const p=h.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),c++}!function y$(n,e,t){const r=e.directiveEnd,o=n.data,s=e.attrs,a=[];let c=null,l=null;for(let h=e.directiveStart;h<r;h++){const p=o[h],g=t?t.get(p):null,E=g?g.outputs:null;c=xk(p.inputs,h,c,g?g.inputs:null),l=xk(p.outputs,h,l,E);const C=null===c||null===s||bu(e)?null:O$(c,h,s);a.push(C)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}(n,t,o)}function Ak(n,e,t){const i=t.directiveStart,r=t.directiveEnd,o=t.index,s=function ww(){return Ge.lFrame.currentDirectiveIndex}();try{Ks(o);for(let a=i;a<r;a++){const c=n.data[a],l=e[a];Of(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&x$(c,l)}}finally{Ks(-1),Of(s)}}function x$(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function VE(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function A$(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;Co(e)&&(t[""]=n)}}function k$(n,e,t,i,r){n.data[i]=r;const o=r.factory||(r.factory=us(r.type)),s=new el(o,Co(r),j);n.blueprint[i]=s,t[i]=s,function I$(n,e,t,i,r){const o=r.hostBindings;if(o){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~e.index;(function C$(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,i,o)}}(n,e,i,ap(n,t,r.hostVars,ot),r)}function vs(n,e,t,i,r,o){const s=Ki(n,e);!function BE(n,e,t,i,r,o,s){if(null==o)n.removeAttribute(e,r,t);else{const a=null==s?De(o):s(o,i||"",r);n.setAttribute(e,r,a,t)}}(e[Ze],s,o,n.value,t,i,r)}function P$(n,e,t,i,r,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)Mk(i,t,s[a++],s[a++],s[a++])}function Mk(n,e,t,i,r){const o=Pr(null);try{const s=n.inputTransforms;null!==s&&s.hasOwnProperty(i)&&(r=s[i].call(e,r)),null!==n.setInput?n.setInput(e,r,t,i):e[i]=r}finally{Pr(o)}}function O$(n,e,t){let i=null,r=0;for(;r<t.length;){const o=t[r];if(0!==o)if(5!==o){if("number"==typeof o)break;if(n.hasOwnProperty(o)){null===i&&(i=[]);const s=n[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){i.push(o,s[a+1],t[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function kk(n,e,t,i){return[n,!0,!1,e,null,0,i,t,null,null,null]}function Rk(n,e){const t=n.contentQueries;if(null!==t)for(let i=0;i<t.length;i+=2){const o=t[i+1];if(-1!==o){const s=n.data[o];Ff(t[i]),s.contentQueries(2,e[o],o)}}}function fv(n,e){return n[jc]?n[Tu][Kr]=e:n[jc]=e,n[Tu]=e,e}function UE(n,e,t){Ff(0);const i=Pr(null);try{e(n,t)}finally{Pr(i)}}function Pk(n){return n[Sa]||(n[Sa]=[])}function Ok(n){return n.cleanup||(n.cleanup=[])}function Fk(n,e){const t=n[bo],i=t?t.get(So,null):null;i&&i.handleError(e)}function jE(n,e,t,i,r){for(let o=0;o<t.length;){const s=t[o++],a=t[o++];Mk(n.data[s],e[s],i,a,r)}}function N$(n,e){const t=yr(e,n),i=t[ye];!function F$(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(i,t);const r=t[Dn];null!==r&&null===t[Bo]&&(t[Bo]=wE(r,t[bo])),zE(i,t,t[On])}function zE(n,e,t){Vf(e);try{const i=n.viewQuery;null!==i&&UE(1,i,t);const r=n.template;null!==r&&Ik(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Rk(n,e),n.staticViewQueries&&UE(2,n.viewQuery,t);const o=n.components;null!==o&&function L$(n,e){for(let t=0;t<e.length;t++)N$(n,e[t])}(e,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[it]&=-5,Bf()}}let Lk=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(t,i,r){const o=typeof Zone>"u"?null:Zone.current,s=function uw(n,e,t){const i=Object.create(dw);t&&(i.consumerAllowSignalWrites=!0),i.fn=n,i.schedule=e;const r=s=>{i.cleanupFn=s};return i.ref={notify:()=>r_(i),run:()=>{if(i.dirty=!1,i.hasRun&&!o_(i))return;i.hasRun=!0;const s=gf(i);try{i.cleanupFn(),i.cleanupFn=h_,i.fn(r)}finally{Au(i,s)}},cleanup:()=>i.cleanupFn()},i.ref}(t,l=>{this.all.has(l)&&this.queue.set(l,o)},r);let a;this.all.add(s),s.notify();const c=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=i?.onDestroy(c),{destroy:c}}flush(){if(0!==this.queue.size)for(const[t,i]of this.queue)this.queue.delete(t),i?i.run(()=>t.run()):t.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=fe({token:n,providedIn:"root",factory:()=>new n})}return n})();function pv(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?r=ii(r,a):2==o&&(i=ii(i,a+": "+e[++s]+";"))}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}function cp(n,e,t,i,r=!1){for(;null!==t;){const o=e[t.index];null!==o&&i.push(Wt(o)),Zi(o)&&Vk(o,i);const s=t.type;if(8&s)cp(n,e,t.child,i);else if(32&s){const a=$w(t,e);let c;for(;c=a();)i.push(c)}else if(16&s){const a=EM(e,t);if(Array.isArray(a))i.push(...a);else{const c=Yf(e[yn]);cp(c[ye],c,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function Vk(n,e){for(let t=pi;t<n.length;t++){const i=n[t],r=i[ye].firstChild;null!==r&&cp(i[ye],i,r,e)}n[Io]!==n[Dn]&&e.push(n[Io])}function mv(n,e,t,i=!0){const r=e[Aa],o=r.rendererFactory,s=r.afterRenderEventManager;o.begin?.(),s?.begin();try{Bk(n,e,n.template,t)}catch(c){throw i&&Fk(e,c),c}finally{o.end?.(),r.effectManager?.flush(),s?.end()}}function Bk(n,e,t,i){const r=e[it];if(256!=(256&r)){e[Aa].effectManager?.flush(),Vf(e);try{g_(e),function kf(n){return Ge.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&Ik(n,e,t,2,i);const s=3==(3&r);if(s){const l=n.preOrderCheckHooks;null!==l&&ju(e,l,null)}else{const l=n.preOrderHooks;null!==l&&Va(e,l,0,null),Jc(e,0)}if(function U$(n){for(let e=uM(n);null!==e;e=dM(e)){if(!e[hf])continue;const t=e[Ra];for(let i=0;i<t.length;i++){Tf(t[i])}}}(e),Uk(e,2),null!==n.contentQueries&&Rk(n,e),s){const l=n.contentCheckHooks;null!==l&&ju(e,l)}else{const l=n.contentHooks;null!==l&&Va(e,l,1),Jc(e,1)}!function d$(n,e){const t=n.hostBindingOpCodes;if(null===t)return;const i=vk(e,ka);try{for(let r=0;r<t.length;r++){const o=t[r];if(o<0)Ks(~o);else{const s=o,a=t[++r],c=t[++r];Pf(a,s),i.dirty=!1;const l=gf(i);try{c(2,e[s])}finally{Au(i,l)}}}}finally{null===e[ka]&&yk(e,ka),Ks(-1)}}(n,e);const a=n.components;null!==a&&zk(e,a,0);const c=n.viewQuery;if(null!==c&&UE(2,c,i),s){const l=n.viewCheckHooks;null!==l&&ju(e,l)}else{const l=n.viewHooks;null!==l&&Va(e,l,2),Jc(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[it]&=-73,__(e)}finally{Bf()}}}function Uk(n,e){for(let t=uM(n);null!==t;t=dM(t))for(let i=pi;i<t.length;i++)jk(t[i],e)}function j$(n,e,t){jk(yr(e,n),t)}function jk(n,e){if(!function Cf(n){return 128==(128&n[it])}(n))return;const t=n[ye],i=n[it];if(80&i&&0===e||1024&i||2===e)Bk(t,n,t.template,n[On]);else if(n[Uc]>0){Uk(n,1);const r=t.components;null!==r&&zk(n,r,1)}}function zk(n,e,t){for(let i=0;i<e.length;i++)j$(n,e[i],t)}class lp{get rootNodes(){const e=this._lView,t=e[ye];return cp(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[On]}set context(e){this._lView[On]=e}get destroyed(){return 256==(256&this._lView[it])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Jt];if(Zi(e)){const t=e[8],i=t?t.indexOf(this):-1;i>-1&&(q_(e,i),F_(t,i))}this._attachedToViewContainer=!1}qw(this._lView[ye],this._lView)}onDestroy(e){!function v_(n,e){if(256==(256&n[it]))throw new F(911,!1);null===n[Eo]&&(n[Eo]=[]),n[Eo].push(e)}(this._lView,e)}markForCheck(){sp(this._cdRefInjectingView||this._lView)}detach(){this._lView[it]&=-129}reattach(){this._lView[it]|=128}detectChanges(){mv(this._lView[ye],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new F(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function S3(n,e){Xf(n,e,e[Ze],2,null,null)}(this._lView[ye],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new F(902,!1);this._appRef=e}}class z$ extends lp{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;mv(e[ye],e,e[On],!1)}checkNoChanges(){}get context(){return null}}class Hk extends rp{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=It(e);return new up(t,this.ngModule)}}function $k(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class $${constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=mu(i);const r=this.injector.get(e,CE,i);return r!==CE||t===CE?r:this.parentInjector.get(e,t,i)}}class up extends YM{get inputs(){const e=this.componentDef,t=e.inputTransforms,i=$k(e.inputs);if(null!==t)for(const r of i)t.hasOwnProperty(r.propName)&&(r.transform=t[r.propName]);return i}get outputs(){return $k(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function lf(n){return n.map(Gg).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,i,r){let o=(r=r||this.ngModule)instanceof Xr?r:r?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new $$(e,o):e,a=s.get(op,null);if(null===a)throw new F(407,!1);const p={rendererFactory:a,sanitizer:s.get(jH,null),effectManager:s.get(Lk,null),afterRenderEventManager:s.get(kE,null)},g=a.createRenderer(null,this.componentDef),v=this.componentDef.selectors[0][0]||"div",E=i?function f$(n,e,t,i){const o=i.get(pk,!1)||t===Rr.ShadowDom,s=n.selectRootElement(e,o);return function p$(n){Tk(n)}(s),s}(g,i,this.componentDef.encapsulation,s):G_(g,v,function H$(n){const e=n.toLowerCase();return"svg"===e?Pu:"math"===e?"math":null}(v)),N=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let k=null;null!==E&&(k=wE(E,s,!0));const U=FE(0,null,null,1,0,null,null,null,null,null,null),Q=hv(null,U,null,N,null,null,p,g,s,null,k);let pe,ke;Vf(Q);try{const Je=this.componentDef;let rn,kr=null;Je.findHostDirectiveDefs?(rn=[],kr=new Map,Je.findHostDirectiveDefs(Je,rn,kr),rn.push(Je)):rn=[Je];const zr=function q$(n,e){const t=n[ye],i=ft;return n[i]=e,dd(t,i,2,"#host",null)}(Q,E),$0=function W$(n,e,t,i,r,o,s){const a=r[ye];!function Z$(n,e,t,i){for(const r of n)e.mergedAttrs=ss(e.mergedAttrs,r.hostAttrs);null!==e.mergedAttrs&&(pv(e,e.mergedAttrs,!0),null!==t&&xM(i,t,e))}(i,n,e,s);let c=null;null!==e&&(c=wE(e,r[bo]));const l=o.rendererFactory.createRenderer(e,t);let h=16;t.signals?h=4096:t.onPush&&(h=64);const p=hv(r,Ck(t),null,h,r[n.index],n,o,l,null,null,c);return a.firstCreatePass&&VE(a,n,i.length-1),fv(r,p),r[n.index]=p}(zr,E,Je,rn,Q,p,g);ke=Ou(U,ft),E&&function Y$(n,e,t,i){if(i)vu(n,t,["ng-version",XM.full]);else{const{attrs:r,classes:o}=function qg(n){const e=[],t=[];let i=1,r=2;for(;i<n.length;){let o=n[i];if("string"==typeof o)2===r?""!==o&&e.push(o,n[++i]):8===r&&t.push(o);else{if(!Wi(r))break;r=o}i++}return{attrs:e,classes:t}}(e.selectors[0]);r&&vu(n,t,r),o&&o.length>0&&TM(n,t,o.join(" "))}}(g,Je,E,i),void 0!==t&&function Q$(n,e,t){const i=n.projection=[];for(let r=0;r<e.length;r++){const o=t[r];i.push(null!=o?Array.from(o):null)}}(ke,this.ngContentSelectors,t),pe=function K$(n,e,t,i,r,o){const s=Xn(),a=r[ye],c=Ki(s,r);Sk(a,r,s,t,null,i);for(let h=0;h<t.length;h++)Yi(zo(r,a,s.directiveStart+h,s),r);Ak(a,r,s),c&&Yi(c,r);const l=zo(r,a,s.directiveStart+s.componentOffset,s);if(n[On]=r[On]=l,null!==o)for(const h of o)h(l,e);return PE(a,s,n),l}($0,Je,rn,kr,Q,[X$]),zE(U,Q,null)}finally{Bf()}return new G$(this.componentType,pe,ad(ke,Q),Q,ke)}}class G$ extends NH{constructor(e,t,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new z$(r),this.componentType=e}setInput(e,t){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const o=this._rootLView;jE(o[ye],o,r,e,t),this.previousInputValues.set(e,t),sp(yr(this._tNode.index,o))}}get injector(){return new _i(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function X$(){const n=Xn();Uu(re()[ye],n)}function st(n){let e=function Gk(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const i=[n];for(;e;){let r;if(Co(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new F(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);const s=n;s.inputs=gv(n.inputs),s.inputTransforms=gv(n.inputTransforms),s.declaredInputs=gv(n.declaredInputs),s.outputs=gv(n.outputs);const a=r.hostBindings;a&&n5(n,a);const c=r.viewQuery,l=r.contentQueries;if(c&&e5(n,c),l&&t5(n,l),Gt(n.inputs,r.inputs),Gt(n.declaredInputs,r.declaredInputs),Gt(n.outputs,r.outputs),null!==r.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),Gt(s.inputTransforms,r.inputTransforms)),Co(r)&&r.data.animation){const h=n.data;h.animation=(h.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===st&&(t=!1)}}e=Object.getPrototypeOf(e)}!function J$(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=ss(r.hostAttrs,t=ss(t,r.hostAttrs))}}(i)}function gv(n){return n===yo?{}:n===Ot?[]:n}function e5(n,e){const t=n.viewQuery;n.viewQuery=t?(i,r)=>{e(i,r),t(i,r)}:e}function t5(n,e){const t=n.contentQueries;n.contentQueries=t?(i,r,o)=>{e(i,r,o),t(i,r,o)}:e}function n5(n,e){const t=n.hostBindings;n.hostBindings=t?(i,r)=>{e(i,r),t(i,r)}:e}function _v(n){return!!HE(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function HE(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Xi(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function oi(n,e,t,i){const r=re();return Xi(r,Zs(),e)&&(Ct(),vs(sn(),r,n,e,t,i)),oi}function Lt(n,e,t,i,r,o,s,a){const c=re(),l=Ct(),h=n+ft,p=l.firstCreatePass?function S5(n,e,t,i,r,o,s,a,c){const l=e.consts,h=dd(e,n,4,s||null,ps(l,a));LE(e,t,h,ps(l,c)),Uu(e,h);const p=h.tView=FE(2,h,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return null!==e.queries&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}(h,l,c,e,t,i,r,o,s):l.data[h];Or(p,!1);const g=cR(l,c,p,n);Bu()&&Z_(l,c,g,p),Yi(g,c),fv(c,c[h]=kk(g,c,g,p)),Du(p)&&OE(l,c,p),null!=s&&NE(c,p,a)}let cR=function lR(n,e,t,i){return gs(!0),e[Ze].createComment("")};function mp(n){return function Fa(n,e){return n[e]}(function Af(){return Ge.lFrame.contextLView}(),ft+n)}function Ue(n,e,t){const i=re();return Xi(i,Zs(),e)&&function Jr(n,e,t,i,r,o,s,a){const c=Ki(e,t);let h,l=e.inputs;!a&&null!=l&&(h=l[i])?(jE(n,t,h,i,r),Gs(e)&&function w$(n,e){const t=yr(e,n);16&t[it]||(t[it]|=64)}(t,e.index)):3&e.type&&(i=function b$(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=s?s(r,e.value||"",i):r,o.setProperty(c,i,r))}(Ct(),sn(),i,n,e,i[Ze],t,!1),Ue}function KE(n,e,t,i,r){const s=r?"class":"style";jE(n,t,e.inputs[s],s,i)}function te(n,e,t,i){const r=re(),o=Ct(),s=ft+n,a=r[Ze],c=o.firstCreatePass?function R5(n,e,t,i,r,o){const s=e.consts,c=dd(e,n,2,i,ps(s,r));return LE(e,t,c,ps(s,o)),null!==c.attrs&&pv(c,c.attrs,!1),null!==c.mergedAttrs&&pv(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(s,o,r,e,t,i):o.data[s],l=uR(o,r,c,a,e,n);r[s]=l;const h=Du(c);return Or(c,!0),xM(a,l,c),32!=(32&c.flags)&&Bu()&&Z_(o,r,l,c),0===function gw(){return Ge.lFrame.elementDepthCount}()&&Yi(l,r),function _w(){Ge.lFrame.elementDepthCount++}(),h&&(OE(o,r,c),PE(o,c,r)),null!==i&&NE(r,c),te}function ue(){let n=Xn();Sf()?Qc():(n=n.parent,Or(n,!1));const e=n;(function vw(n){return Ge.skipHydrationRootTNode===n})(e)&&function yw(){Ge.skipHydrationRootTNode=null}(),function Df(){Ge.lFrame.elementDepthCount--}();const t=Ct();return t.firstCreatePass&&(Uu(t,n),Gc(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function R_(n){return 0!=(8&n.flags)}(e)&&KE(t,e,re(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function Hu(n){return 0!=(16&n.flags)}(e)&&KE(t,e,re(),e.stylesWithoutHost,!1),ue}function gt(n,e,t,i){return te(n,e,t,i),ue(),gt}let uR=(n,e,t,i,r,o)=>(gs(!0),G_(i,r,function S_(){return Ge.lFrame.currentNamespace}()));function si(){return re()}function gp(n){return!!n&&"function"==typeof n.then}function fR(n){return!!n&&"function"==typeof n.subscribe}function qe(n,e,t,i){const r=re(),o=Ct(),s=Xn();return function mR(n,e,t,i,r,o,s){const a=Du(i),l=n.firstCreatePass&&Ok(n),h=e[On],p=Pk(e);let g=!0;if(3&i.type||s){const C=Ki(i,e),x=s?s(C):C,N=p.length,k=s?Q=>s(Wt(Q[i.index])):i.index;let U=null;if(!s&&a&&(U=function V5(n,e,t,i){const r=n.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const s=r[o];if(s===t&&r[o+1]===i){const a=e[Sa],c=r[o+2];return a.length>c?a[c]:null}"string"==typeof s&&(o+=2)}return null}(n,e,r,i.index)),null!==U)(U.__ngLastListenerFn__||U).__ngNextListenerFn__=o,U.__ngLastListenerFn__=o,g=!1;else{o=_R(i,e,h,o,!1);const Q=t.listen(x,r,o);p.push(o,Q),l&&l.push(r,k,N,N+1)}}else o=_R(i,e,h,o,!1);const v=i.outputs;let E;if(g&&null!==v&&(E=v[r])){const C=E.length;if(C)for(let x=0;x<C;x+=2){const pe=e[E[x]][E[x+1]].subscribe(o),ke=p.length;p.push(o,pe),l&&l.push(r,i.index,ke,-(ke+1))}}}(o,r,r[Ze],s,n,e,i),qe}function gR(n,e,t,i){try{return To(6,e,t),!1!==t(i)}catch(r){return Fk(n,r),!1}finally{To(7,e,t)}}function _R(n,e,t,i,r){return function o(s){if(s===Function)return i;sp(n.componentOffset>-1?yr(n.index,e):e);let c=gR(e,t,i,s),l=o.__ngNextListenerFn__;for(;l;)c=gR(e,t,l,s)&&c,l=l.__ngNextListenerFn__;return r&&!1===c&&s.preventDefault(),c}}function je(n=1){return function Iw(n){return(Ge.lFrame.contextLView=function Cw(n,e){for(;n>0;)e=e[Ma],n--;return e}(n,Ge.lFrame.contextLView))[On]}(n)}function B5(n,e){let t=null;const i=function af(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let r=0;r<e.length;r++){const o=e[r];if("*"!==o){if(null===i?sf(n,o,!0):wu(i,o))return r}else t=r}return t}function bs(n){const e=re()[yn][ri];if(!e.projection){const i=e.projection=qf(n?n.length:1,null),r=i.slice();let o=e.child;for(;null!==o;){const s=n?B5(o,n):0;null!==s&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o),o=o.next}}}function br(n,e=0,t){const i=re(),r=Ct(),o=dd(r,ft+n,16,null,t||null);null===o.projection&&(o.projection=e),Qc(),(!i[Bo]||ms())&&32!=(32&o.flags)&&function F3(n,e,t){CM(e[Ze],0,e,t,Zw(n,t,e),vM(t.parent||e[ri],t,e))}(r,i,o)}function Ev(n,e){return n<<17|e<<2}function $a(n){return n>>17&32767}function JE(n){return 2|n}function ul(n){return(131068&n)>>2}function eI(n,e){return-131069&n|e<<2}function tI(n){return 1|n}function DR(n,e,t,i,r){const o=n[t+1],s=null===e;let a=i?$a(o):ul(o),c=!1;for(;0!==a&&(!1===c||s);){const h=n[a+1];G5(n[a],e)&&(c=!0,n[a+1]=i?tI(h):JE(h)),a=i?$a(h):ul(h)}c&&(n[t+1]=i?JE(o):tI(o))}function G5(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Xu(n,e)>=0}function bi(n,e){return function $o(n,e,t,i){const r=re(),o=Ct(),s=function xo(n){const e=Ge.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}(2);o.firstUpdatePass&&function FR(n,e,t,i){const r=n.data;if(null===r[t+1]){const o=r[Ni()],s=function NR(n,e){return e>=n.expandoStartIndex}(n,t);(function UR(n,e){return 0!=(n.flags&(e?8:16))})(o,i)&&null===e&&!s&&(e=!1),e=function e6(n,e,t,i){const r=function Nf(n){const e=Ge.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let o=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(t=_p(t=nI(null,n,e,t,i),e.attrs,i),o=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==r)if(t=nI(r,n,e,t,i),null===o){let c=function t6(n,e,t){const i=t?e.classBindings:e.styleBindings;if(0!==ul(i))return n[$a(i)]}(n,e,i);void 0!==c&&Array.isArray(c)&&(c=nI(null,n,e,c[1],i),c=_p(c,e.attrs,i),function n6(n,e,t,i){n[$a(t?e.classBindings:e.styleBindings)]=i}(n,e,i,c))}else o=function i6(n,e,t){let i;const r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++)i=_p(i,n[o].hostAttrs,t);return _p(i,e.attrs,t)}(n,e,i)}return void 0!==o&&(i?e.residualClasses=o:e.residualStyles=o),t}(r,o,e,i),function H5(n,e,t,i,r,o){let s=o?e.classBindings:e.styleBindings,a=$a(s),c=ul(s);n[i]=t;let h,l=!1;if(Array.isArray(t)?(h=t[1],(null===h||Xu(t,h)>0)&&(l=!0)):h=t,r)if(0!==c){const g=$a(n[a+1]);n[i+1]=Ev(g,a),0!==g&&(n[g+1]=eI(n[g+1],i)),n[a+1]=function j5(n,e){return 131071&n|e<<17}(n[a+1],i)}else n[i+1]=Ev(a,0),0!==a&&(n[a+1]=eI(n[a+1],i)),a=i;else n[i+1]=Ev(c,0),0===a?a=i:n[c+1]=eI(n[c+1],i),c=i;l&&(n[i+1]=JE(n[i+1])),DR(n,h,i,!0),DR(n,h,i,!1),function $5(n,e,t,i,r){const o=r?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof e&&Xu(o,e)>=0&&(t[i+1]=tI(t[i+1]))}(e,h,n,i,o),s=Ev(a,c),o?e.classBindings=s:e.styleBindings=s}(r,o,e,t,s,i)}}(o,n,s,i),e!==ot&&Xi(r,s,e)&&function VR(n,e,t,i,r,o,s,a){if(!(3&e.type))return;const c=n.data,l=c[a+1],h=function z5(n){return 1==(1&n)}(l)?BR(c,e,t,r,ul(l),s):void 0;Iv(h)||(Iv(o)||function U5(n){return 2==(2&n)}(l)&&(o=BR(c,null,t,r,a,s)),function V3(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let o=-1===i.indexOf("-")?void 0:za.DashCase;null==r?n.removeStyle(t,i,o):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=za.Important),n.setStyle(t,i,r,o))}}(i,s,Na(Ni(),t),r,o))}(o,o.data[Ni()],r,r[Ze],n,r[s+1]=function a6(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Pe(Qr(n)))),n}(e,t),i,s)}(n,e,null,!0),bi}function nI(n,e,t,i,r){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=e[a],i=_p(i,o.hostAttrs,r),o!==n);)a++;return null!==n&&(t.directiveStylingLast=a),i}function _p(n,e,t){const i=t?1:2;let r=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?r=s:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Yr(n,s,!!t||e[++o]))}return void 0===n?null:n}function BR(n,e,t,i,r,o){const s=null===e;let a;for(;r>0;){const c=n[r],l=Array.isArray(c),h=l?c[1]:c,p=null===h;let g=t[r+1];g===ot&&(g=p?Ot:void 0);let v=p?Nw(g,i):h===i?g:void 0;if(l&&!Iv(v)&&(v=Nw(c,i)),Iv(v)&&(a=v,s))return a;const E=n[r+1];r=s?$a(E):ul(E)}if(null!==e){let c=o?e.residualClasses:e.residualStyles;null!=c&&(a=Nw(c,i))}return a}function Iv(n){return void 0!==n}function We(n,e=""){const t=re(),i=Ct(),r=n+ft,o=i.firstCreatePass?dd(i,r,1,e,null):i.data[r],s=jR(i,t,o,e,n);t[r]=s,Bu()&&Z_(i,t,s,o),Or(o,!1)}let jR=(n,e,t,i,r)=>(gs(!0),function $_(n,e){return n.createText(e)}(e[Ze],i));function dl(n){return vp("",n,""),dl}function vp(n,e,t){const i=re(),r=function fd(n,e,t,i){return Xi(n,Zs(),t)?e+De(t)+i:ot}(i,n,e,t);return r!==ot&&function na(n,e,t){const i=Na(e,n);!function fM(n,e,t){n.setValue(e,t)}(n[Ze],i,t)}(i,Ni(),r),vp}const Id="en-US";let cP=Id;function oI(n,e,t,i,r){if(n=R(n),Array.isArray(n))for(let o=0;o<n.length;o++)oI(n[o],e,t,i,r);else{const o=Ct(),s=re(),a=Xn();let c=cl(n)?n:R(n.provide);const l=GM(n),h=1048575&a.providerIndexes,p=a.directiveStart,g=a.providerIndexes>>20;if(cl(n)||!n.multi){const v=new el(l,r,j),E=aI(c,e,r?h:h+g,p);-1===E?(se(_(a,s),o,c),sI(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(v),s.push(v)):(t[E]=v,s[E]=v)}else{const v=aI(c,e,h+g,p),E=aI(c,e,h,h+g),x=E>=0&&t[E];if(r&&!x||!r&&!(v>=0&&t[v])){se(_(a,s),o,c);const N=function S8(n,e,t,i,r){const o=new el(n,t,j);return o.multi=[],o.index=e,o.componentProviders=0,PP(o,r,i&&!t),o}(r?D8:x8,t.length,r,i,l);!r&&x&&(t[E].providerFactory=N),sI(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(N),s.push(N)}else sI(o,n,v>-1?v:E,PP(t[r?E:v],l,!r&&i));!r&&i&&x&&t[E].componentProviders++}}}function sI(n,e,t,i){const r=cl(e),o=function vH(n){return!!n.useClass}(e);if(r||o){const c=(o?R(e.useClass):e).prototype.ngOnDestroy;if(c){const l=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){const h=l.indexOf(t);-1===h?l.push(t,[i,c]):l[h+1].push(i,c)}else l.push(t,c)}}}function PP(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function aI(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function x8(n,e,t,i){return cI(this.multi,[])}function D8(n,e,t,i){const r=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=zo(t,t[ye],this.providerFactory.index,i);o=a.slice(0,s),cI(r,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],cI(r,o);return o}function cI(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function zt(n,e=[]){return t=>{t.providersResolver=(i,r)=>function T8(n,e,t){const i=Ct();if(i.firstCreatePass){const r=Co(n);oI(t,i.data,i.blueprint,r,!0),oI(e,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,e)}}class fl{}class OP{}class lI extends fl{constructor(e,t,i){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Hk(this);const r=gr(e);this._bootstrapComponents=ta(r.bootstrap),this._r3Injector=ik(e,t,[{provide:fl,useValue:this},{provide:rp,useValue:this.componentFactoryResolver},...i],Pe(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class uI extends OP{constructor(e){super(),this.moduleType=e}create(e){return new lI(this.moduleType,e,[])}}class NP extends fl{constructor(e){super(),this.componentFactoryResolver=new Hk(this),this.instance=null;const t=new iv([...e.providers,{provide:fl,useValue:this},{provide:rp,useValue:this.componentFactoryResolver}],e.parent||nv(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function dI(n,e,t=null){return new NP({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}let k8=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const i=jM(0,t.type),r=i.length>0?dI([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=fe({token:n,providedIn:"environment",factory:()=>new n(V(Xr))})}return n})();function FP(n){n.getStandaloneInjector=e=>e.get(k8).getOrCreateStandaloneInjector(n)}function i9(){return this._results[Symbol.iterator]()}class fI{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Ut)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=fI.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=i9)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const i=this;i.dirty=!1;const r=function Do(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function Uz(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=e[i];if(t&&(r=t(r),o=t(o)),o!==r)return!1}return!0}(i._results,r,t))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function o9(n,e,t,i=!0){const r=e[ye];if(function M3(n,e,t,i){const r=pi+i,o=t.length;i>0&&(t[r-1][Kr]=e),i<o-pi?(e[Kr]=t[r],HA(t,pi+i,e)):(t.push(e),e[Kr]=null),e[Jt]=t;const s=e[zc];null!==s&&t!==s&&function k3(n,e){const t=n[Ra];e[yn]!==e[Jt][Jt][yn]&&(n[hf]=!0),null===t?n[Ra]=[e]:t.push(e)}(s,e);const a=e[wo];null!==a&&a.insertView(n),e[it]|=128}(r,e,n,t),i){const o=Yw(t,n),s=e[Ze],a=W_(s,n[Io]);null!==a&&function D3(n,e,t,i,r,o){i[Dn]=r,i[ri]=e,Xf(n,i,t,1,r,o)}(r,n[ri],s,e,a,o)}}let ia=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=c9}return n})();const s9=ia,a9=class extends s9{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,i){const r=function r9(n,e,t,i){const r=e.tView,a=hv(n,r,t,4096&n[it]?4096:16,null,e,null,null,null,i?.injector??null,i?.hydrationInfo??null);a[zc]=n[e.index];const l=n[wo];return null!==l&&(a[wo]=l.createEmbeddedView(r)),zE(r,a,t),a}(this._declarationLView,this._declarationTContainer,e,{injector:t,hydrationInfo:i});return new lp(r)}};function c9(){return Av(Xn(),re())}function Av(n,e){return 4&n.type?new a9(e,n,ad(n,e)):null}let qo=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=p9}return n})();function p9(){return e1(Xn(),re())}const m9=qo,XP=class extends m9{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return ad(this._hostTNode,this._hostLView)}get injector(){return new _i(this._hostTNode,this._hostLView)}get parentInjector(){const e=z(this._hostTNode,this._hostLView);if(zf(e)){const t=nl(e,this._hostLView),i=tl(e);return new _i(t[ye].data[i+8],t)}return new _i(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=JP(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-pi}createEmbeddedView(e,t,i){let r,o;"number"==typeof i?r=i:null!=i&&(r=i.index,o=i.injector);const a=e.createEmbeddedViewImpl(t||{},o,null);return this.insertImpl(a,r,false),a}createComponent(e,t,i,r,o){const s=e&&!function Gf(n){return"function"==typeof n}(e);let a;if(s)a=t;else{const C=t||{};a=C.index,i=C.injector,r=C.projectableNodes,o=C.environmentInjector||C.ngModuleRef}const c=s?e:new up(It(e)),l=i||this.parentInjector;if(!o&&null==c.ngModule){const x=(s?l:this.parentInjector).get(Xr,null);x&&(o=x)}It(c.componentType??{});const v=c.create(l,r,null,o);return this.insertImpl(v.hostView,a,false),v}insert(e,t){return this.insertImpl(e,t,!1)}insertImpl(e,t,i){const r=e._lView;if(function m_(n){return Zi(n[Jt])}(r)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const l=r[Jt],h=new XP(l,l[ri],l[Jt]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(t),a=this._lContainer;return o9(a,r,s,!i),e.attachToViewContainerRef(),HA(pI(a),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=JP(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),i=q_(this._lContainer,t);i&&(F_(pI(this._lContainer),t),qw(i[ye],i))}detach(e){const t=this._adjustIndex(e,-1),i=q_(this._lContainer,t);return i&&null!=F_(pI(this._lContainer),t)?new lp(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function JP(n){return n[8]}function pI(n){return n[8]||(n[8]=[])}function e1(n,e){let t;const i=e[n.index];return Zi(i)?t=i:(t=kk(i,e,null,n),e[n.index]=t,fv(e,t)),t1(t,e,n,i),new XP(t,n,e)}let t1=function n1(n,e,t,i){if(n[Io])return;let r;r=8&t.type?Wt(i):function g9(n,e){const t=n[Ze],i=t.createComment(""),r=Ki(e,n);return sl(t,W_(t,r),i,function N3(n,e){return n.nextSibling(e)}(t,r),!1),i}(e,t),n[Io]=r};class mI{constructor(e){this.queryList=e,this.matches=null}clone(){return new mI(this.queryList)}setDirty(){this.queryList.setDirty()}}class gI{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const i=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let o=0;o<i;o++){const s=t.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new gI(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==c1(e,t).matches&&this.queries[t].setDirty()}}class r1{constructor(e,t,i=null){this.predicate=e,this.flags=t,this.read=i}}class _I{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){const r=null!==t?t.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,null!==t?t.push(o):t=[o])}return null!==t?new _I(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class vI{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new vI(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let i=e.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(e,t,y9(t,o)),this.matchTNodeWithReadOption(e,t,rl(t,e,o,!1,!1))}else i===ia?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,rl(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===un||r===qo||r===ia&&4&t.type)this.addMatch(t.index,-2);else{const o=rl(t,e,r,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,i)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function y9(n,e){const t=n.localNames;if(null!==t)for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1];return null}function w9(n,e,t,i){return-1===t?function b9(n,e){return 11&n.type?ad(n,e):4&n.type?Av(n,e):null}(e,n):-2===t?function E9(n,e,t){return t===un?ad(e,n):t===ia?Av(e,n):t===qo?e1(e,n):void 0}(n,e,i):zo(n,n[ye],t,e)}function o1(n,e,t,i){const r=e[wo].queries[i];if(null===r.matches){const o=n.data,s=t.matches,a=[];for(let c=0;c<s.length;c+=2){const l=s[c];a.push(l<0?null:w9(e,o[l],s[c+1],t.metadata.read))}r.matches=a}return r.matches}function yI(n,e,t,i){const r=n.queries.getByIndex(t),o=r.matches;if(null!==o){const s=o1(n,e,r,t);for(let a=0;a<o.length;a+=2){const c=o[a];if(c>0)i.push(s[a/2]);else{const l=o[a+1],h=e[-c];for(let p=pi;p<h.length;p++){const g=h[p];g[zc]===g[Jt]&&yI(g[ye],g,l,i)}if(null!==h[Ra]){const p=h[Ra];for(let g=0;g<p.length;g++){const v=p[g];yI(v[ye],v,l,i)}}}}}return i}function Wo(n){const e=re(),t=Ct(),i=Vu();Ff(i+1);const r=c1(t,i);if(n.dirty&&function mw(n){return 4==(4&n[it])}(e)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const o=r.crossesNgTemplate?yI(t,e,i,[]):o1(t,e,r,i);n.reset(o,BH),n.notifyOnChanges()}return!0}return!1}function Ga(n,e,t){const i=Ct();i.firstCreatePass&&(a1(i,new r1(n,e,t),-1),2==(2&e)&&(i.staticViewQueries=!0)),s1(i,re(),e)}function Zo(){return function I9(n,e){return n[wo].queries[e].queryList}(re(),Vu())}function s1(n,e,t){const i=new fI(4==(4&t));(function _$(n,e,t,i){const r=Pk(e);r.push(t),n.firstCreatePass&&Ok(n).push(i,r.length-1)})(n,e,i,i.destroy),null===e[wo]&&(e[wo]=new gI),e[wo].queries.push(new mI(i))}function a1(n,e,t){null===n.queries&&(n.queries=new _I),n.queries.track(new vI(e,t))}function c1(n,e){return n.queries.getByIndex(e)}const TI=new ie("Application Initializer");let xI=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i}),this.appInits=he(TI,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const r of this.appInits){const o=r();if(gp(o))t.push(o);else if(fR(o)){const s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),0===t.length&&i(),this.initialized=!0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),T1=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const Is=new ie("LocaleId",{providedIn:"root",factory:()=>he(Is,ht.Optional|ht.SkipSelf)||function q9(){return typeof $localize<"u"&&$localize.locale||Id}()});let Pv=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new y(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class K9{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let x1=(()=>{class n{compileModuleSync(t){return new uI(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const i=this.compileModuleSync(t),o=ta(gr(t).declarations).reduce((s,a)=>{const c=It(a);return c&&s.push(new up(c)),s},[]);return new K9(i,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const M1=new ie(""),Nv=new ie("");let kI,AI=(()=>{class n{constructor(t,i,r){this._ngZone=t,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,kI||(function mG(n){kI=n}(r),r.addToWindow(i)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Xe.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(t)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:r})}whenStable(t,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,i,r){return[]}static#e=this.\u0275fac=function(i){return new(i||n)(V(Xe),V(MI),V(Nv))};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac})}return n})(),MI=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return kI?.findTestabilityInTree(this,t,i)??null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),qa=null;const k1=new ie("AllowMultipleToken"),RI=new ie("PlatformDestroyListeners"),PI=new ie("appBootstrapListener");class P1{constructor(e,t){this.name=e,this.token=t}}function N1(n,e,t=[]){const i=`Platform: ${e}`,r=new ie(i);return(o=[])=>{let s=OI();if(!s||s.injector.get(k1,!1)){const a=[...t,...o,{provide:r,useValue:!0}];n?n(a):function vG(n){if(qa&&!qa.get(k1,!1))throw new F(400,!1);(function R1(){!function u_(n){c_=n}(()=>{throw new F(600,!1)})})(),qa=n;const e=n.get(L1);(function O1(n){n.get(qM,null)?.forEach(t=>t())})(n)}(function F1(n=[],e){return Qi.create({name:e,providers:[{provide:lE,useValue:"platform"},{provide:RI,useValue:new Set([()=>qa=null])},...n]})}(a,i))}return function bG(n){const e=OI();if(!e)throw new F(401,!1);return e}()}}function OI(){return qa?.get(L1)??null}let L1=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){const r=function wG(n="zone.js",e){return"noop"===n?new JH:"zone.js"===n?new Xe(e):n}(i?.ngZone,function V1(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return r.run(()=>{const o=function M8(n,e,t){return new lI(n,e,t)}(t.moduleType,this.injector,function H1(n){return[{provide:Xe,useFactory:n},{provide:tp,multi:!0,useFactory:()=>{const e=he(IG,{optional:!0});return()=>e.initialize()}},{provide:z1,useFactory:EG},{provide:ck,useFactory:lk}]}(()=>r)),s=o.injector.get(So,null);return r.runOutsideAngular(()=>{const a=r.onError.subscribe({next:c=>{s.handleError(c)}});o.onDestroy(()=>{Fv(this._modules,o),a.unsubscribe()})}),function B1(n,e,t){try{const i=t();return gp(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}(s,r,()=>{const a=o.injector.get(xI);return a.runInitializers(),a.donePromise.then(()=>(function lP(n){Ti(n,"Expected localeId to be defined"),"string"==typeof n&&(cP=n.toLowerCase().replace(/_/g,"-"))}(o.injector.get(Is,Id)||Id),this._moduleDoBootstrap(o),o))})})}bootstrapModule(t,i=[]){const r=U1({},i);return function gG(n,e,t){const i=new uI(t);return Promise.resolve(i)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(t){const i=t.injector.get(Wa);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new F(-403,!1);t.instance.ngDoBootstrap(i)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new F(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const t=this._injector.get(RI,null);t&&(t.forEach(i=>i()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(i){return new(i||n)(V(Qi))};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function U1(n,e){return Array.isArray(e)?e.reduce(U1,n):{...n,...e}}let Wa=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=he(z1),this.zoneIsStable=he(ck),this.componentTypes=[],this.components=[],this.isStable=he(Pv).hasPendingTasks.pipe(Te(t=>t?S(!1):this.zoneIsStable),He(),K()),this._injector=he(Xr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,i){const r=t instanceof YM;if(!this._injector.get(xI).done)throw!r&&function as(n){const e=It(n)||Qn(n)||Oi(n);return null!==e&&e.standalone}(t),new F(405,!1);let s;s=r?t:this._injector.get(rp).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function _G(n){return n.isBoundToModule}(s)?void 0:this._injector.get(fl),l=s.create(Qi.NULL,[],i||s.selector,a),h=l.location.nativeElement,p=l.injector.get(M1,null);return p?.registerApplication(h),l.onDestroy(()=>{this.detachView(l.hostView),Fv(this.components,l),p?.unregisterApplication(h)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new F(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){const i=t;Fv(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const i=this._injector.get(PI,[]);i.push(...this._bootstrapListeners),i.forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Fv(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new F(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Fv(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const z1=new ie("",{providedIn:"root",factory:()=>he(So).handleError.bind(void 0)});function EG(){const n=he(Xe),e=he(So);return t=>n.runOutsideAngular(()=>e.handleError(t))}let IG=(()=>{class n{constructor(){this.zone=he(Xe),this.applicationRef=he(Wa)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();let Cs=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=TG}return n})();function TG(n){return function xG(n,e,t){if(Gs(n)&&!t){const i=yr(n.index,e);return new lp(i,i)}return 47&n.type?new lp(e[yn],e):null}(Xn(),re(),16==(16&n))}class Z1{constructor(){}supports(e){return _v(e)}create(e){return new RG(e)}}const kG=(n,e)=>e;class RG{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||kG}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,o=null;for(;t||i;){const s=!i||t&&t.currentIndex<Y1(i,r,o)?t:i,a=Y1(s,r,o),c=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(t=t._next,null==s.previousIndex)r++;else{o||(o=[]);const l=a-r,h=c-r;if(l!=h){for(let g=0;g<l;g++){const v=g<o.length?o[g]:o[g]=0,E=v+g;h<=E&&E<l&&(o[g]=v+1)}o[s.previousIndex]=h-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!_v(e))throw new F(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let r,o,s,t=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(i&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),i=!0),t=t._next}else r=0,function u5(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let i;for(;!(i=t.next()).done;)e(i.value)}}(e,a=>{s=this._trackByFn(r,a),null!==t&&Object.is(t.trackById,s)?(i&&(t=this._verifyReinsertion(t,a,s,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,r),i=!0),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,r)):e=this._addAfter(new PG(t,i),o,r),e}_verifyReinsertion(e,t,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,o=e._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new K1),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,i=e._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new K1),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class PG{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class OG{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){const t=e._prevDup,i=e._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}}class K1{constructor(){this.map=new Map}put(e){const t=e.trackById;let i=this.map.get(t);i||(i=new OG,this.map.set(t,i)),i.add(e)}get(e,t){const r=this.map.get(e);return r?r.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Y1(n,e,t){const i=n.previousIndex;if(null===i)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}class Q1{constructor(){}supports(e){return e instanceof Map||HE(e)}create(){return new NG}}class NG{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||HE(e)))throw new F(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(i,r)=>{if(t&&t.key===r)this._maybeAddToChanges(t,i),this._appendAfter=t,t=t._next;else{const o=this._getOrCreateRecordForKey(r,i);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let i=t;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const i=e._prev;return t._next=e,t._prev=i,e._prev=t,i&&(i._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const r=this._records.get(e);this._maybeAddToChanges(r,t);const o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}const i=new FG(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(i=>t(e[i],i))}}class FG{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function X1(){return new Bv([new Z1])}let Bv=(()=>{class n{static#e=this.\u0275prov=fe({token:n,providedIn:"root",factory:X1});constructor(t){this.factories=t}static create(t,i){if(null!=i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||X1()),deps:[[n,new Wf,new ja]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(null!=i)return i;throw new F(901,!1)}}return n})();function J1(){return new Sp([new Q1])}let Sp=(()=>{class n{static#e=this.\u0275prov=fe({token:n,providedIn:"root",factory:J1});constructor(t){this.factories=t}static create(t,i){if(i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||J1()),deps:[[n,new Wf,new ja]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(i)return i;throw new F(901,!1)}}return n})();const BG=N1(null,"core",[]);let UG=(()=>{class n{constructor(t){}static#e=this.\u0275fac=function(i){return new(i||n)(V(Wa))};static#t=this.\u0275mod=Et({type:n});static#n=this.\u0275inj=wt({})}return n})();function xd(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let UI=null;function Za(){return UI}class eq{}const kt=new ie("DocumentToken");let jI=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=fe({token:n,factory:function(){return he(nq)},providedIn:"platform"})}return n})();const tq=new ie("Location Initialized");let nq=(()=>{class n extends jI{constructor(){super(),this._doc=he(kt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Za().getBaseHref(this._doc)}onPopState(t){const i=Za().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=Za().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=fe({token:n,factory:function(){return new n},providedIn:"platform"})}return n})();function zI(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function cO(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function ra(n){return n&&"?"!==n[0]?"?"+n:n}let ml=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=fe({token:n,factory:function(){return he(uO)},providedIn:"root"})}return n})();const lO=new ie("appBaseHref");let uO=(()=>{class n extends ml{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??he(kt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return zI(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+ra(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,o){const s=this.prepareExternalUrl(r+ra(o));this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){const s=this.prepareExternalUrl(r+ra(o));this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(i){return new(i||n)(V(jI),V(lO,8))};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),iq=(()=>{class n extends ml{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=zI(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,o){let s=this.prepareExternalUrl(r+ra(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){let s=this.prepareExternalUrl(r+ra(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(i){return new(i||n)(V(jI),V(lO,8))};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac})}return n})(),jv=(()=>{class n{constructor(t){this._subject=new Ut,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function sq(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(cO(dO(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+ra(i))}normalize(t){return n.stripTrailingSlash(function oq(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,dO(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ra(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ra(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}static#e=this.normalizeQueryParams=ra;static#t=this.joinWithSlash=zI;static#n=this.stripTrailingSlash=cO;static#i=this.\u0275fac=function(i){return new(i||n)(V(ml))};static#r=this.\u0275prov=fe({token:n,factory:function(){return function rq(){return new jv(V(ml))}()},providedIn:"root"})}return n})();function dO(n){return n.replace(/\/index.html$/,"")}function bO(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,o]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}const XI=/\s+/,wO=[];let JI=(()=>{class n{constructor(t,i,r,o){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this.initialClasses=wO,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(XI):wO}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(XI):t}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const i of t)this._updateState(i,!0);else if(null!=t)for(const i of Object.keys(t))this._updateState(i,!!t[i]);this._applyStateDiff()}_updateState(t,i){const r=this.stateMap.get(t);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){(t=t.trim()).length>0&&t.split(XI).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static#e=this.\u0275fac=function(i){return new(i||n)(j(Bv),j(Sp),j(un),j(ea))};static#t=this.\u0275dir=Ee({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return n})();class Gq{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let eC=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,o,s)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Gq(r.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)i.remove(null===o?void 0:o);else if(null!==o){const a=i.get(o);i.move(a,s),IO(a,r)}});for(let r=0,o=i.length;r<o;r++){const a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{IO(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(j(qo),j(ia),j(Bv))};static#t=this.\u0275dir=Ee({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function IO(n,e){n.context.$implicit=e.item}let gl=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new qq,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){CO("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){CO("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(j(qo),j(ia))};static#t=this.\u0275dir=Ee({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class qq{constructor(){this.$implicit=null,this.ngIf=null}}function CO(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Pe(e)}'.`)}let Sd=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Et({type:n});static#n=this.\u0275inj=wt({})}return n})();const DO="browser";function Xv(n){return"server"===n}let wW=(()=>{class n{static#e=this.\u0275prov=fe({token:n,providedIn:"root",factory:()=>new EW(V(kt),window)})}return n})();class EW{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function IW(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class SO{}class qW extends eq{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class aC extends qW{static makeCurrent(){!function JG(n){UI||(UI=n)}(new aC)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function WW(){return Rp=Rp||document.querySelector("base"),Rp?Rp.getAttribute("href"):null}();return null==t?null:function ZW(n){ty=ty||document.createElement("a"),ty.setAttribute("href",n);const e=ty.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Rp=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return bO(document.cookie,e)}}let ty,Rp=null,YW=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac})}return n})();const cC=new ie("EventManagerPlugins");let PO=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(o=>o.supports(t)),!i)throw new F(5101,!1);return this._eventNameToPlugin.set(t,i),i}static#e=this.\u0275fac=function(i){return new(i||n)(V(cC),V(Xe))};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac})}return n})();class OO{constructor(e){this._doc=e}}const lC="ng-app-id";let NO=(()=>{class n{constructor(t,i,r,o={}){this.doc=t,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Xv(o),this.resetHostNodes()}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.elements?.forEach(r=>r.remove()),i.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${lC}="${this.appId}"]`);if(t?.length){const i=new Map;return t.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(t,i){const r=this.styleRef;if(r.has(t)){const o=r.get(t);return o.usage+=i,o.usage}return r.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){const r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===t)return r.delete(i),o.removeAttribute(lC),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(lC,this.appId),s}}addStyleToHost(t,i){const r=this.getStyleElement(t,i);t.appendChild(r);const o=this.styleRef,s=o.get(i)?.elements;s?s.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||n)(V(kt),V(rv),V(fE,8),V(Ho))};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac})}return n})();const uC={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},dC=/%COMP%/g,e7=new ie("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function LO(n,e){return e.map(t=>t.replace(dC,n))}let hC=(()=>{class n{constructor(t,i,r,o,s,a,c,l=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Xv(a),this.defaultRenderer=new fC(t,s,c,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Rr.ShadowDom&&(i={...i,encapsulation:Rr.Emulated});const r=this.getOrCreateRenderer(t,i);return r instanceof BO?r.applyToHost(t):r instanceof pC&&r.applyStyles(),r}getOrCreateRenderer(t,i){const r=this.rendererByCompId;let o=r.get(i.id);if(!o){const s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(i.encapsulation){case Rr.Emulated:o=new BO(c,l,i,this.appId,h,s,a,p);break;case Rr.ShadowDom:return new r7(c,l,t,i,s,a,this.nonce,p);default:o=new pC(c,l,i,h,s,a,p)}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||n)(V(PO),V(NO),V(rv),V(e7),V(kt),V(Ho),V(Xe),V(fE))};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac})}return n})();class fC{constructor(e,t,i,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(uC[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(VO(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(VO(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?this.doc.querySelector(e):e;if(!i)throw new F(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const o=uC[r];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=uC[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(za.DashCase|za.Important)?e.style.setProperty(t,i,r&za.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&za.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){if("string"==typeof e&&!(e=Za().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function VO(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class r7 extends fC{constructor(e,t,i,r,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=LO(r.id,r.styles);for(const h of l){const p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class pC extends fC{constructor(e,t,i,r,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=c?LO(c,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class BO extends pC{constructor(e,t,i,r,o,s,a,c){const l=r+"-"+i.id;super(e,t,i,o,s,a,c,l),this.contentAttr=function t7(n){return"_ngcontent-%COMP%".replace(dC,n)}(l),this.hostAttr=function n7(n){return"_nghost-%COMP%".replace(dC,n)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}let o7=(()=>{class n extends OO{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}static#e=this.\u0275fac=function(i){return new(i||n)(V(kt))};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac})}return n})();const UO=["alt","control","meta","shift"],s7={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},a7={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let c7=(()=>{class n extends OO{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const o=n.parseEventName(i),s=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Za().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),UO.forEach(l=>{const h=i.indexOf(l);h>-1&&(i.splice(h,1),s+=l+".")}),s+=o,0!=i.length||0===o.length)return null;const c={};return c.domEventName=r,c.fullKey=s,c}static matchEventFullKeyCode(t,i){let r=s7[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),UO.forEach(s=>{s!==r&&(0,a7[s])(t)&&(o+=s+".")}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{n.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(i){return new(i||n)(V(kt))};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac})}return n})();const zO=[{provide:Ho,useValue:DO},{provide:qM,useValue:function l7(){aC.makeCurrent()},multi:!0},{provide:kt,useFactory:function d7(){return function H3(n){Jw=n}(document),document},deps:[]}],h7=N1(BG,"browser",zO),f7=new ie(""),HO=[{provide:Nv,useClass:class KW{addToWindow(e){qt.getAngularTestability=(i,r=!0)=>{const o=e.findTestabilityInTree(i,r);if(null==o)throw new F(5103,!1);return o},qt.getAllAngularTestabilities=()=>e.getAllTestabilities(),qt.getAllAngularRootElements=()=>e.getAllRootElements(),qt.frameworkStabilizers||(qt.frameworkStabilizers=[]),qt.frameworkStabilizers.push(i=>{const r=qt.getAllAngularTestabilities();let o=r.length,s=!1;const a=function(c){s=s||c,o--,0==o&&i(s)};r.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?Za().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:M1,useClass:AI,deps:[Xe,MI,Nv]},{provide:AI,useClass:AI,deps:[Xe,MI,Nv]}],$O=[{provide:lE,useValue:"root"},{provide:So,useFactory:function u7(){return new So},deps:[]},{provide:cC,useClass:o7,multi:!0,deps:[kt,Xe,Ho]},{provide:cC,useClass:c7,multi:!0,deps:[kt]},hC,NO,PO,{provide:op,useExisting:hC},{provide:SO,useClass:YW,deps:[]},[]];let GO=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:rv,useValue:t.appId}]}}static#e=this.\u0275fac=function(i){return new(i||n)(V(f7,12))};static#t=this.\u0275mod=Et({type:n});static#n=this.\u0275inj=wt({providers:[...$O,...HO],imports:[Sd,UG]})}return n})(),qO=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(i){return new(i||n)(V(kt))};static#t=this.\u0275prov=fe({token:n,factory:function(i){let r=null;return r=i?new i:function m7(){return new qO(V(kt))}(),r},providedIn:"root"})}return n})();typeof window<"u"&&window;let gC=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=fe({token:n,factory:function(i){let r=null;return r=i?new(i||n):V(KO),r},providedIn:"root"})}return n})(),KO=(()=>{class n extends gC{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case Li.NONE:return i;case Li.HTML:return _s(i,"HTML")?Qr(i):FM(this._doc,String(i)).toString();case Li.STYLE:return _s(i,"Style")?Qr(i):i;case Li.SCRIPT:if(_s(i,"Script"))return Qr(i);throw new F(5200,!1);case Li.URL:return _s(i,"URL")?Qr(i):X_(String(i));case Li.RESOURCE_URL:if(_s(i,"ResourceURL"))return Qr(i);throw new F(5201,!1);default:throw new F(5202,!1)}}bypassSecurityTrustHtml(t){return function Y3(n){return new $3(n)}(t)}bypassSecurityTrustStyle(t){return function Q3(n){return new G3(n)}(t)}bypassSecurityTrustScript(t){return function X3(n){return new q3(n)}(t)}bypassSecurityTrustUrl(t){return function J3(n){return new W3(n)}(t)}bypassSecurityTrustResourceUrl(t){return function eH(n){return new Z3(n)}(t)}static#e=this.\u0275fac=function(i){return new(i||n)(V(kt))};static#t=this.\u0275prov=fe({token:n,factory:function(i){let r=null;return r=i?new i:function y7(n){return new KO(n.get(kt))}(V(Qi)),r},providedIn:"root"})}return n})();const{isArray:w7}=Array,{getPrototypeOf:E7,prototype:I7,keys:C7}=Object;function QO(n){if(1===n.length){const e=n[0];if(w7(e))return{args:e,keys:null};if(function T7(n){return n&&"object"==typeof n&&E7(n)===I7}(e)){const t=C7(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}const{isArray:x7}=Array;function _C(n){return me(e=>function D7(n,e){return x7(e)?n(...e):n(e)}(n,e))}function XO(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function ny(...n){const e=Zr(n),t=mo(n),{args:i,keys:r}=QO(n);if(0===i.length)return b([],e);const o=new et(function S7(n,e,t=kn){return i=>{JO(e,()=>{const{length:r}=n,o=new Array(r);let s=r,a=r;for(let c=0;c<r;c++)JO(e,()=>{const l=b(n[c],e);let h=!1;l.subscribe(ge(i,p=>{o[c]=p,h||(h=!0,a--),a||i.next(t(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}(i,e,r?s=>XO(r,s):kn));return t?o.pipe(_C(t)):o}function JO(n,e,t){n?ur(t,n,e):e()}const iy=Y(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function ry(...n){return function A7(){return dr(1)}()(b(n,Zr(n)))}function eN(n){return new et(e=>{bt(n()).subscribe(e)})}function Ad(n,e){const t=T(n)?n:()=>n,i=r=>r.error(t());return new et(e?r=>e.schedule(i,0,r):i)}function vC(){return ee((n,e)=>{let t=null;n._refCount++;const i=ge(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,o=t;t=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class tN extends et{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,ne(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new _t;const t=this.getSubject();e.add(this.source.subscribe(ge(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=_t.EMPTY)}return e}refCount(){return vC()(this)}}function aa(n){return n<=0?()=>Rn:ee((e,t)=>{let i=0;e.subscribe(ge(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function Pp(...n){const e=Zr(n);return ee((t,i)=>{(e?ry(n,t,e):ry(n,t)).subscribe(i)})}function Cr(n,e){return ee((t,i)=>{let r=0;t.subscribe(ge(i,o=>n.call(e,o,r++)&&i.next(o)))})}function oy(n){return ee((e,t)=>{let i=!1;e.subscribe(ge(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function nN(n=M7){return ee((e,t)=>{let i=!1;e.subscribe(ge(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function M7(){return new iy}function Ya(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Cr((r,o)=>n(r,o,i)):kn,aa(1),t?oy(e):nN(()=>new iy))}function Md(n,e){return T(e)?Bt(n,e,1):Bt(n,1)}function ci(n,e,t){const i=T(n)||e||t?{next:n,error:e,complete:t}:n;return i?ee((r,o)=>{var s;null===(s=i.subscribe)||void 0===s||s.call(i);let a=!0;r.subscribe(ge(o,c=>{var l;null===(l=i.next)||void 0===l||l.call(i,c),o.next(c)},()=>{var c;a=!1,null===(c=i.complete)||void 0===c||c.call(i),o.complete()},c=>{var l;a=!1,null===(l=i.error)||void 0===l||l.call(i,c),o.error(c)},()=>{var c,l;a&&(null===(c=i.unsubscribe)||void 0===c||c.call(i)),null===(l=i.finalize)||void 0===l||l.call(i)}))}):kn}function ca(n){return ee((e,t)=>{let o,i=null,r=!1;i=e.subscribe(ge(t,void 0,void 0,s=>{o=bt(n(s,ca(n)(e))),i?(i.unsubscribe(),i=null,o.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(t))})}function sy(n,e){return ee(function k7(n,e,t,i,r){return(o,s)=>{let a=t,c=e,l=0;o.subscribe(ge(s,h=>{const p=l++;c=a?n(c,h,p):(a=!0,h),i&&s.next(c)},r&&(()=>{a&&s.next(c),s.complete()})))}}(n,e,arguments.length>=2,!0))}function yC(n){return n<=0?()=>Rn:ee((e,t)=>{let i=[];e.subscribe(ge(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function kd(n){return ee((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function ay(n){return ee((e,t)=>{bt(n).subscribe(ge(t,()=>t.complete(),Ae)),!t.closed&&e.subscribe(t)})}const lt="primary",Op=Symbol("RouteTitle");class O7{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Rd(n){return new O7(n)}function N7(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const s=i[o],a=n[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Ts(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let o=0;o<t.length;o++)if(r=t[o],!iN(n[r],e[r]))return!1;return!0}function iN(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,o)=>i[o]===r)}return n===e}function rN(n){return n.length>0?n[n.length-1]:null}function Qa(n){return function b7(n){return!!n&&(n instanceof et||T(n.lift)&&T(n.subscribe))}(n)?n:gp(n)?b(Promise.resolve(n)):S(n)}const L7={exact:function aN(n,e,t){if(!_l(n.segments,e.segments)||!cy(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!aN(n.children[i],e.children[i],t))return!1;return!0},subset:cN},oN={exact:function V7(n,e){return Ts(n,e)},subset:function B7(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>iN(n[t],e[t]))},ignored:()=>!0};function sN(n,e,t){return L7[t.paths](n.root,e.root,t.matrixParams)&&oN[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function cN(n,e,t){return lN(n,e,e.segments,t)}function lN(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!_l(r,t)||e.hasChildren()||!cy(r,t,i))}if(n.segments.length===t.length){if(!_l(n.segments,t)||!cy(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!cN(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(_l(n.segments,r)&&cy(n.segments,r,i)&&n.children[lt])&&lN(n.children[lt],e,o,i)}}function cy(n,e,t){return e.every((i,r)=>oN[t](n[r].parameters,i.parameters))}class Pd{constructor(e=new Kt([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Rd(this.queryParams)),this._queryParamMap}toString(){return z7.serialize(this)}}class Kt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ly(this)}}class Np{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Rd(this.parameters)),this._parameterMap}toString(){return hN(this)}}function _l(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let Fp=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=fe({token:n,factory:function(){return new bC},providedIn:"root"})}return n})();class bC{parse(e){const t=new J7(e);return new Pd(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Lp(e.root,!0)}`,i=function G7(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${uy(t)}=${uy(r)}`).join("&"):`${uy(t)}=${uy(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function H7(n){return encodeURI(n)}(e.fragment)}`:""}`}}const z7=new bC;function ly(n){return n.segments.map(e=>hN(e)).join("/")}function Lp(n,e){if(!n.hasChildren())return ly(n);if(e){const t=n.children[lt]?Lp(n.children[lt],!1):"",i=[];return Object.entries(n.children).forEach(([r,o])=>{r!==lt&&i.push(`${r}:${Lp(o,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function j7(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===lt&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==lt&&(t=t.concat(e(r,i)))}),t}(n,(i,r)=>r===lt?[Lp(n.children[lt],!1)]:[`${r}:${Lp(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[lt]?`${ly(n)}/${t[0]}`:`${ly(n)}/(${t.join("//")})`}}function uN(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function uy(n){return uN(n).replace(/%3B/gi,";")}function wC(n){return uN(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function dy(n){return decodeURIComponent(n)}function dN(n){return dy(n.replace(/\+/g,"%20"))}function hN(n){return`${wC(n.path)}${function $7(n){return Object.keys(n).map(e=>`;${wC(e)}=${wC(n[e])}`).join("")}(n.parameters)}`}const q7=/^[^\/()?;#]+/;function EC(n){const e=n.match(q7);return e?e[0]:""}const W7=/^[^\/()?;=#]+/,K7=/^[^=?&#]+/,Q7=/^[^&#]+/;class J7{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Kt([],{}):new Kt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[lt]=new Kt(e,t)),i}parseSegment(){const e=EC(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new F(4009,!1);return this.capture(e),new Np(dy(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function Z7(n){const e=n.match(W7);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=EC(this.remaining);r&&(i=r,this.capture(i))}e[dy(t)]=dy(i)}parseQueryParam(e){const t=function Y7(n){const e=n.match(K7);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const s=function X7(n){const e=n.match(Q7);return e?e[0]:""}(this.remaining);s&&(i=s,this.capture(i))}const r=dN(t),o=dN(i);if(e.hasOwnProperty(r)){let s=e[r];Array.isArray(s)||(s=[s],e[r]=s),s.push(o)}else e[r]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=EC(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new F(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=lt);const s=this.parseChildren();t[o]=1===Object.keys(s).length?s[lt]:new Kt([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new F(4011,!1)}}function fN(n){return n.segments.length>0?new Kt([],{[lt]:n}):n}function pN(n){const e={};for(const i of Object.keys(n.children)){const o=pN(n.children[i]);if(i===lt&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[i]=o)}return function eZ(n){if(1===n.numberOfChildren&&n.children[lt]){const e=n.children[lt];return new Kt(n.segments.concat(e.segments),e.children)}return n}(new Kt(n.segments,e))}function vl(n){return n instanceof Pd}function mN(n){let e;const r=fN(function t(o){const s={};for(const c of o.children){const l=t(c);s[c.outlet]=l}const a=new Kt(o.url,s);return o===n&&(e=a),a}(n.root));return e??r}function gN(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(0===e.length)return IC(r,r,r,t,i);const o=function nZ(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new vN(!0,0,n);let e=0,t=!1;const i=n.reduce((r,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]="string"==typeof l?l.split("/"):l}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===s?(o.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?t=!0:".."===a?e++:""!=a&&r.push(a))}),r):[...r,o]},[]);return new vN(t,e,i)}(e);if(o.toRoot())return IC(r,r,new Kt([],{}),t,i);const s=function iZ(n,e,t){if(n.isAbsolute)return new fy(e,!0,0);if(!t)return new fy(e,!1,NaN);if(null===t.parent)return new fy(t,!0,0);const i=hy(n.commands[0])?0:1;return function rZ(n,e,t){let i=n,r=e,o=t;for(;o>r;){if(o-=r,i=i.parent,!i)throw new F(4005,!1);r=i.segments.length}return new fy(i,!1,r-o)}(t,t.segments.length-1+i,n.numberOfDoubleDots)}(o,r,n),a=s.processChildren?Bp(s.segmentGroup,s.index,o.commands):yN(s.segmentGroup,s.index,o.commands);return IC(r,s.segmentGroup,a,t,i)}function hy(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Vp(n){return"object"==typeof n&&null!=n&&n.outlets}function IC(n,e,t,i,r){let s,o={};i&&Object.entries(i).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`}),s=n===e?t:_N(n,e,t);const a=fN(pN(s));return new Pd(a,o,r)}function _N(n,e,t){const i={};return Object.entries(n.children).forEach(([r,o])=>{i[r]=o===e?t:_N(o,e,t)}),new Kt(n.segments,i)}class vN{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&hy(i[0]))throw new F(4003,!1);const r=i.find(Vp);if(r&&r!==rN(i))throw new F(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class fy{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function yN(n,e,t){if(n||(n=new Kt([],{})),0===n.segments.length&&n.hasChildren())return Bp(n,e,t);const i=function sZ(n,e,t){let i=0,r=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return o;const s=n.segments[r],a=t[i];if(Vp(a))break;const c=`${a}`,l=i<t.length-1?t[i+1]:null;if(r>0&&void 0===c)break;if(c&&l&&"object"==typeof l&&void 0===l.outlets){if(!wN(c,l,s))return o;i+=2}else{if(!wN(c,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new Kt(n.segments.slice(0,i.pathIndex),{});return o.children[lt]=new Kt(n.segments.slice(i.pathIndex),n.children),Bp(o,0,r)}return i.match&&0===r.length?new Kt(n.segments,{}):i.match&&!n.hasChildren()?CC(n,e,t):i.match?Bp(n,0,r):CC(n,e,t)}function Bp(n,e,t){if(0===t.length)return new Kt(n.segments,{});{const i=function oZ(n){return Vp(n[0])?n[0].outlets:{[lt]:n}}(t),r={};if(Object.keys(i).some(o=>o!==lt)&&n.children[lt]&&1===n.numberOfChildren&&0===n.children[lt].segments.length){const o=Bp(n.children[lt],e,t);return new Kt(n.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(r[o]=yN(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{void 0===i[o]&&(r[o]=s)}),new Kt(n.segments,r)}}function CC(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const o=t[r];if(Vp(o)){const c=aZ(o.outlets);return new Kt(i,c)}if(0===r&&hy(t[0])){i.push(new Np(n.segments[e].path,bN(t[0]))),r++;continue}const s=Vp(o)?o.outlets[lt]:`${o}`,a=r<t.length-1?t[r+1]:null;s&&a&&hy(a)?(i.push(new Np(s,bN(a))),r+=2):(i.push(new Np(s,{})),r++)}return new Kt(i,{})}function aZ(n){const e={};return Object.entries(n).forEach(([t,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(e[t]=CC(new Kt([],{}),0,i))}),e}function bN(n){const e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function wN(n,e,t){return n==t.path&&Ts(e,t.parameters)}const Up="imperative";class xs{constructor(e,t){this.id=e,this.url=t}}class py extends xs{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Xa extends xs{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class jp extends xs{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Od extends xs{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=16}}class my extends xs{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class EN extends xs{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cZ extends xs{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lZ extends xs{constructor(e,t,i,r,o){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class uZ extends xs{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dZ extends xs{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hZ{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class fZ{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class pZ{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mZ{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gZ{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _Z{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class IN{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class TC{}class xC{constructor(e){this.url=e}}class vZ{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new zp,this.attachRef=null}}let zp=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new vZ,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class CN{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=DC(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=DC(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=SC(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return SC(e,this._root).map(t=>t.value)}}function DC(n,e){if(n===e.value)return e;for(const t of e.children){const i=DC(n,t);if(i)return i}return null}function SC(n,e){if(n===e.value)return[e];for(const t of e.children){const i=SC(n,t);if(i.length)return i.unshift(e),i}return[]}class la{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Nd(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class TN extends CN{constructor(e,t){super(e),this.snapshot=t,AC(this,e)}toString(){return this.snapshot.toString()}}function xN(n,e){const t=function yZ(n,e){const s=new gy([],{},{},"",{},lt,e,null,{});return new SN("",new la(s,[]))}(0,e),i=new y([new Np("",{})]),r=new y({}),o=new y({}),s=new y({}),a=new y(""),c=new Fd(i,r,s,a,o,lt,e,t.root);return c.snapshot=t.root,new TN(new la(c,[]),t)}class Fd{constructor(e,t,i,r,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(me(l=>l[Op]))??S(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(me(e=>Rd(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(me(e=>Rd(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function DN(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],o=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function bZ(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class gy{get title(){return this.data?.[Op]}constructor(e,t,i,r,o,s,a,c,l){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Rd(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Rd(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class SN extends CN{constructor(e,t){super(t),this.url=e,AC(this,t)}toString(){return AN(this._root)}}function AC(n,e){e.value._routerState=n,e.children.forEach(t=>AC(n,t))}function AN(n){const e=n.children.length>0?` { ${n.children.map(AN).join(", ")} } `:"";return`${n.value}${e}`}function MC(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ts(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Ts(e.params,t.params)||n.paramsSubject.next(t.params),function F7(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Ts(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),Ts(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function kC(n,e){const t=Ts(n.params,e.params)&&function U7(n,e){return _l(n,e)&&n.every((t,i)=>Ts(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||kC(n.parent,e.parent))}let RC=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=lt,this.activateEvents=new Ut,this.deactivateEvents=new Ut,this.attachEvents=new Ut,this.detachEvents=new Ut,this.parentContexts=he(zp),this.location=he(qo),this.changeDetector=he(Cs),this.environmentInjector=he(Xr),this.inputBinder=he(_y,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new F(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new F(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new F(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new F(4013,!1);this._activatedRoute=t;const r=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new wZ(t,a,r.injector);this.activated=r.createComponent(s,{index:r.length,injector:c,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Ee({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[vr]})}return n})();class wZ{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===Fd?this.route:e===zp?this.childContexts:this.parent.get(e,t)}}const _y=new ie("");let MN=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:i}=t,r=ny([i.queryParams,i.params,i.data]).pipe(Te(([o,s,a],c)=>(a={...o,...s,...a},0===c?S(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(t);const s=function XG(n){const e=It(n);if(!e)return null;const t=new up(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(i.component);if(s)for(const{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,r)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac})}return n})();function Hp(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function IZ(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Hp(n,i,r);return Hp(n,i)})}(n,e,t);return new la(i,r)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Hp(n,a)),s}}const i=function CZ(n){return new Fd(new y(n.url),new y(n.params),new y(n.queryParams),new y(n.fragment),new y(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(o=>Hp(n,o));return new la(i,r)}}const PC="ngNavigationCancelingError";function kN(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=vl(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=RN(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function RN(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[PC]=!0,i.cancellationCode=e,t&&(i.url=t),i}function PN(n){return n&&n[PC]}let ON=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Bn({type:n,selectors:[["ng-component"]],standalone:!0,features:[FP],decls:1,vars:0,template:function(i,r){1&i&&gt(0,"router-outlet")},dependencies:[RC],encapsulation:2})}return n})();function OC(n){const e=n.children&&n.children.map(OC),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==lt&&(t.component=ON),t}function Qo(n){return n.outlet||lt}function $p(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class RZ{constructor(e,t,i,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),MC(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=Nd(t);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,t,i){const r=e.value,o=t?t.value:null;if(r===o)if(r.component){const s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=Nd(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);if(i&&i.outlet){const s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=Nd(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){const r=Nd(t);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new _Z(o.value.snapshot))}),e.children.length&&this.forwardEvent(new mZ(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,o=t?t.value:null;if(MC(r),r===o)if(r.component){const s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),MC(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=$p(r.snapshot);s.attachRef=null,s.route=r,s.injector=a,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,i)}}class NN{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class vy{constructor(e,t){this.component=e,this.route=t}}function PZ(n,e,t){const i=n._root;return Gp(i,e?e._root:null,t,[i.value])}function Ld(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||function Fg(n){return null!==cu(n)}(n)?e.get(n):n:i}function Gp(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=Nd(e);return n.children.forEach(s=>{(function NZ(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function FZ(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!_l(n.url,e.url);case"pathParamsOrQueryParamsChange":return!_l(n.url,e.url)||!Ts(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!kC(n,e)||!Ts(n.queryParams,e.queryParams);default:return!kC(n,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new NN(i)):(o.data=s.data,o._resolvedData=s._resolvedData),Gp(n,e,o.component?a?a.children:null:t,i,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new vy(a.outlet.component,s))}else s&&qp(e,a,r),r.canActivateChecks.push(new NN(i)),Gp(n,null,o.component?a?a.children:null:t,i,r)})(s,o[s.value.outlet],t,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>qp(a,t.getContext(s),r)),r}function qp(n,e,t){const i=Nd(n),r=n.value;Object.entries(i).forEach(([o,s])=>{qp(s,r.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new vy(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function Wp(n){return"function"==typeof n}function FN(n){return n instanceof iy||"EmptyError"===n?.name}const yy=Symbol("INITIAL_VALUE");function Vd(){return Te(n=>ny(n.map(e=>e.pipe(aa(1),Pp(yy)))).pipe(me(e=>{for(const t of e)if(!0!==t){if(t===yy)return yy;if(!1===t||t instanceof Pd)return t}return!0}),Cr(e=>e!==yy),aa(1)))}function LN(n){return function Hr(...n){return $r(n)}(ci(e=>{if(vl(e))throw kN(0,e)}),me(e=>!0===e))}class by{constructor(e){this.segmentGroup=e||null}}class VN{constructor(e){this.urlTree=e}}function Bd(n){return Ad(new by(n))}function BN(n){return Ad(new VN(n))}class nK{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new F(4002,!1)}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return S(i);if(r.numberOfChildren>1||!r.children[lt])return Ad(new F(4e3,!1));r=r.children[lt]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const o=this.createSegmentGroup(e,t.root,i,r);return new Pd(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Object.entries(e).forEach(([r,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);i[r]=t[a]}else i[r]=o}),i}createSegmentGroup(e,t,i,r){const o=this.createSegments(e,t.segments,i,r);let s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,i,r)}),new Kt(o,s)}createSegments(e,t,i,r){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new F(4001,!1);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}const NC={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function iK(n,e,t,i,r){const o=FC(n,e,t);return o.matched?(i=function xZ(n,e){return n.providers&&!n._injector&&(n._injector=dI(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,i),function JZ(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?S(r.map(s=>{const a=Ld(s,n);return Qa(function zZ(n){return n&&Wp(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(Vd(),LN()):S(!0)}(i,e,t).pipe(me(s=>!0===s?o:{...NC}))):S(o)}function FC(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...NC}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||N7)(t,n,e);if(!r)return{...NC};const o={};Object.entries(r.posParams??{}).forEach(([a,c])=>{o[a]=c.path});const s=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function UN(n,e,t,i){return t.length>0&&function sK(n,e,t){return t.some(i=>wy(n,e,i)&&Qo(i)!==lt)}(n,t,i)?{segmentGroup:new Kt(e,oK(i,new Kt(t,n.children))),slicedSegments:[]}:0===t.length&&function aK(n,e,t){return t.some(i=>wy(n,e,i))}(n,t,i)?{segmentGroup:new Kt(n.segments,rK(n,0,t,i,n.children)),slicedSegments:t}:{segmentGroup:new Kt(n.segments,n.children),slicedSegments:t}}function rK(n,e,t,i,r){const o={};for(const s of i)if(wy(n,t,s)&&!r[Qo(s)]){const a=new Kt([],{});o[Qo(s)]=a}return{...r,...o}}function oK(n,e){const t={};t[lt]=e;for(const i of n)if(""===i.path&&Qo(i)!==lt){const r=new Kt([],{});t[Qo(i)]=r}return t}function wy(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class dK{constructor(e,t,i,r,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new nK(this.urlSerializer,this.urlTree)}noMatchError(e){return new F(4002,!1)}recognize(){const e=UN(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,lt).pipe(ca(t=>{if(t instanceof VN)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof by?this.noMatchError(t):t}),me(t=>{const i=new gy([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},lt,this.rootComponentType,null,{}),r=new la(i,t),o=new SN("",r),s=function tZ(n,e,t=null,i=null){return gN(mN(n),e,t,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,lt).pipe(ca(i=>{throw i instanceof by?this.noMatchError(i):i}))}inheritParamsAndData(e){const t=e.value,i=DN(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r,!0)}processChildren(e,t,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return b(r).pipe(Md(o=>{const s=i.children[o],a=function MZ(n,e){const t=n.filter(i=>Qo(i)===e);return t.push(...n.filter(i=>Qo(i)!==e)),t}(t,o);return this.processSegmentGroup(e,a,s,o)}),sy((o,s)=>(o.push(...s),o)),oy(null),function R7(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Cr((r,o)=>n(r,o,i)):kn,yC(1),t?oy(e):nN(()=>new iy))}(),Bt(o=>{if(null===o)return Bd(i);const s=jN(o);return function hK(n){n.sort((e,t)=>e.value.outlet===lt?-1:t.value.outlet===lt?1:e.value.outlet.localeCompare(t.value.outlet))}(s),S(s)}))}processSegment(e,t,i,r,o,s){return b(t).pipe(Md(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,i,r,o,s).pipe(ca(c=>{if(c instanceof by)return S(null);throw c}))),Ya(a=>!!a),ca(a=>{if(FN(a))return function lK(n,e,t){return 0===e.length&&!n.children[t]}(i,r,o)?S([]):Bd(i);throw a}))}processSegmentAgainstRoute(e,t,i,r,o,s,a){return function cK(n,e,t,i){return!!(Qo(n)===i||i!==lt&&wy(e,t,n))&&("**"===n.path||FC(e,n,t).matched)}(i,r,o,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,r,i,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,o,s):Bd(r):Bd(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const o=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?BN(o):this.applyRedirects.lineralizeSegments(i,o).pipe(Bt(s=>{const a=new Kt(s,{});return this.processSegment(e,t,a,s,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s){const{matched:a,consumedSegments:c,remainingSegments:l,positionalParamSegments:h}=FC(t,r,o);if(!a)return Bd(t);const p=this.applyRedirects.applyRedirectCommands(c,r.redirectTo,h);return r.redirectTo.startsWith("/")?BN(p):this.applyRedirects.lineralizeSegments(r,p).pipe(Bt(g=>this.processSegment(e,i,t,g.concat(l),s,!1)))}matchSegmentAgainstRoute(e,t,i,r,o,s){let a;if("**"===i.path){const c=r.length>0?rN(r).parameters:{};a=S({snapshot:new gy(r,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,zN(i),Qo(i),i.component??i._loadedComponent??null,i,HN(i)),consumedSegments:[],remainingSegments:[]}),t.children={}}else a=iK(t,i,r,e).pipe(me(({matched:c,consumedSegments:l,remainingSegments:h,parameters:p})=>c?{snapshot:new gy(l,p,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,zN(i),Qo(i),i.component??i._loadedComponent??null,i,HN(i)),consumedSegments:l,remainingSegments:h}:null));return a.pipe(Te(c=>null===c?Bd(t):this.getChildConfig(e=i._injector??e,i,r).pipe(Te(({routes:l})=>{const h=i._loadedInjector??e,{snapshot:p,consumedSegments:g,remainingSegments:v}=c,{segmentGroup:E,slicedSegments:C}=UN(t,g,v,l);if(0===C.length&&E.hasChildren())return this.processChildren(h,l,E).pipe(me(N=>null===N?null:[new la(p,N)]));if(0===l.length&&0===C.length)return S([new la(p,[])]);const x=Qo(i)===o;return this.processSegment(h,l,E,C,x?lt:o,!0).pipe(me(N=>[new la(p,N)]))}))))}getChildConfig(e,t,i){return t.children?S({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?S({routes:t._loadedRoutes,injector:t._loadedInjector}):function XZ(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?S(!0):S(r.map(s=>{const a=Ld(s,n);return Qa(function VZ(n){return n&&Wp(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(Vd(),LN())}(e,t,i).pipe(Bt(r=>r?this.configLoader.loadChildren(e,t).pipe(ci(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function tK(n){return Ad(RN(!1,3))}())):S({routes:[],injector:e})}}function fK(n){const e=n.value.routeConfig;return e&&""===e.path}function jN(n){const e=[],t=new Set;for(const i of n){if(!fK(i)){e.push(i);continue}const r=e.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=jN(i.children);e.push(new la(i.value,r))}return e.filter(i=>!t.has(i))}function zN(n){return n.data||{}}function HN(n){return n.resolve||{}}function $N(n){return"string"==typeof n.title||null===n.title}function LC(n){return Te(e=>{const t=n(e);return t?b(t).pipe(me(()=>e)):S(e)})}const Ud=new ie("ROUTES");let VC=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=he(x1)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return S(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=Qa(t.loadComponent()).pipe(me(GN),ci(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),kd(()=>{this.componentLoaders.delete(t)})),r=new tN(i,()=>new G).pipe(vC());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return S({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=function bK(n,e,t,i){return Qa(n.loadChildren()).pipe(me(GN),Bt(r=>r instanceof OP||Array.isArray(r)?S(r):b(e.compileModuleAsync(r))),me(r=>{i&&i(n);let o,s,a=!1;return Array.isArray(r)?(s=r,!0):(o=r.create(t).injector,s=o.get(Ud,[],{optional:!0,self:!0}).flat()),{routes:s.map(OC),injector:o}}))}(i,this.compiler,t,this.onLoadEndListener).pipe(kd(()=>{this.childrenLoaders.delete(i)})),s=new tN(o,()=>new G).pipe(vC());return this.childrenLoaders.set(i,s),s}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function GN(n){return function wK(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Ey=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new G,this.transitionAbortSubject=new G,this.configLoader=he(VC),this.environmentInjector=he(Xr),this.urlSerializer=he(Fp),this.rootContexts=he(zp),this.inputBindingEnabled=null!==he(_y,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>S(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new fZ(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new hZ(r))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t,i,r){return this.transitions=new y({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:t.urlHandlingStrategy.extract(i),urlAfterRedirects:t.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Up,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Cr(o=>0!==o.id),me(o=>({...o,extractedUrl:t.urlHandlingStrategy.extract(o.rawUrl)})),Te(o=>{this.currentTransition=o;let s=!1,a=!1;return S(o).pipe(ci(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Te(c=>{const l=c.currentBrowserUrl.toString(),h=!t.navigated||c.extractedUrl.toString()!==l||l!==c.currentUrlTree.toString();if(!h&&"reload"!==(c.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const g="";return this.events.next(new Od(c.id,this.urlSerializer.serialize(c.rawUrl),g,0)),c.resolve(null),Rn}if(t.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return S(c).pipe(Te(g=>{const v=this.transitions?.getValue();return this.events.next(new py(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),v!==this.transitions?.getValue()?Rn:Promise.resolve(g)}),function pK(n,e,t,i,r,o){return Bt(s=>function uK(n,e,t,i,r,o,s="emptyOnly"){return new dK(n,e,t,i,r,s,o).recognize()}(n,e,t,i,s.extractedUrl,r,o).pipe(me(({state:a,tree:c})=>({...s,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),ci(g=>{o.targetSnapshot=g.targetSnapshot,o.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:g.urlAfterRedirects};const v=new EN(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(v)}));if(h&&t.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:g,extractedUrl:v,source:E,restoredState:C,extras:x}=c,N=new py(g,this.urlSerializer.serialize(v),E,C);this.events.next(N);const k=xN(0,this.rootComponentType).snapshot;return this.currentTransition=o={...c,targetSnapshot:k,urlAfterRedirects:v,extras:{...x,skipLocationChange:!1,replaceUrl:!1}},S(o)}{const g="";return this.events.next(new Od(c.id,this.urlSerializer.serialize(c.extractedUrl),g,1)),c.resolve(null),Rn}}),ci(c=>{const l=new cZ(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),me(c=>(this.currentTransition=o={...c,guards:PZ(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},o)),function $Z(n,e){return Bt(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return 0===s.length&&0===o.length?S({...t,guardsResult:!0}):function GZ(n,e,t,i){return b(n).pipe(Bt(r=>function QZ(n,e,t,i,r){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?S(o.map(a=>{const c=$p(e)??r,l=Ld(a,c);return Qa(function jZ(n){return n&&Wp(n.canDeactivate)}(l)?l.canDeactivate(n,e,t,i):c.runInContext(()=>l(n,e,t,i))).pipe(Ya())})).pipe(Vd()):S(!0)}(r.component,r.route,t,e,i)),Ya(r=>!0!==r,!0))}(s,i,r,n).pipe(Bt(a=>a&&function LZ(n){return"boolean"==typeof n}(a)?function qZ(n,e,t,i){return b(e).pipe(Md(r=>ry(function ZZ(n,e){return null!==n&&e&&e(new pZ(n)),S(!0)}(r.route.parent,i),function WZ(n,e){return null!==n&&e&&e(new gZ(n)),S(!0)}(r.route,i),function YZ(n,e,t){const i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function OZ(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(s)).filter(s=>null!==s).map(s=>eN(()=>S(s.guards.map(c=>{const l=$p(s.node)??t,h=Ld(c,l);return Qa(function UZ(n){return n&&Wp(n.canActivateChild)}(h)?h.canActivateChild(i,n):l.runInContext(()=>h(i,n))).pipe(Ya())})).pipe(Vd())));return S(o).pipe(Vd())}(n,r.path,t),function KZ(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return S(!0);const r=i.map(o=>eN(()=>{const s=$p(e)??t,a=Ld(o,s);return Qa(function BZ(n){return n&&Wp(n.canActivate)}(a)?a.canActivate(e,n):s.runInContext(()=>a(e,n))).pipe(Ya())}));return S(r).pipe(Vd())}(n,r.route,t))),Ya(r=>!0!==r,!0))}(i,o,n,e):S(a)),me(a=>({...t,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),ci(c=>{if(o.guardsResult=c.guardsResult,vl(c.guardsResult))throw kN(0,c.guardsResult);const l=new lZ(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),Cr(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",3),!1)),LC(c=>{if(c.guards.canActivateChecks.length)return S(c).pipe(ci(l=>{const h=new uZ(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),Te(l=>{let h=!1;return S(l).pipe(function mK(n,e){return Bt(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return S(t);let o=0;return b(r).pipe(Md(s=>function gK(n,e,t,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!$N(r)&&(o[Op]=r.title),function _K(n,e,t,i){const r=function vK(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return S({});const o={};return b(r).pipe(Bt(s=>function yK(n,e,t,i){const r=$p(e)??i,o=Ld(n,r);return Qa(o.resolve?o.resolve(e,t):r.runInContext(()=>o(e,t)))}(n[s],e,t,i).pipe(Ya(),ci(a=>{o[s]=a}))),yC(1),function P7(n){return me(()=>n)}(o),ca(s=>FN(s)?Rn:Ad(s)))}(o,n,e,i).pipe(me(s=>(n._resolvedData=s,n.data=DN(n,t).resolve,r&&$N(r)&&(n.data[Op]=r.title),null)))}(s.route,i,n,e)),ci(()=>o++),yC(1),Bt(s=>o===r.length?S(t):Rn))})}(t.paramsInheritanceStrategy,this.environmentInjector),ci({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(l,"",2)}}))}),ci(l=>{const h=new dZ(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}))}),LC(c=>{const l=h=>{const p=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(h.routeConfig).pipe(ci(g=>{h.component=g}),me(()=>{})));for(const g of h.children)p.push(...l(g));return p};return ny(l(c.targetSnapshot.root)).pipe(oy(),aa(1))}),LC(()=>this.afterPreactivation()),me(c=>{const l=function EZ(n,e,t){const i=Hp(n,e._root,t?t._root:void 0);return new TN(i,e)}(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o={...c,targetRouterState:l},o}),ci(()=>{this.events.next(new TC)}),((n,e,t,i)=>me(r=>(new RZ(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),aa(1),ci({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Xa(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),t.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),ay(this.transitionAbortSubject.pipe(ci(c=>{throw c}))),kd(()=>{s||a||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),ca(c=>{if(a=!0,PN(c))this.events.next(new jp(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),function TZ(n){return PN(n)&&vl(n.url)}(c)?this.events.next(new xC(c.url)):o.resolve(!1);else{this.events.next(new my(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(t.errorHandler(c))}catch(l){o.reject(l)}}return Rn}))}))}cancelNavigationTransition(t,i,r){const o=new jp(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(o),t.resolve(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function qN(n){return n!==Up}let WN=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===lt);return i}getResolvedTitleForRoute(t){return t.data[Op]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=fe({token:n,factory:function(){return he(EK)},providedIn:"root"})}return n})(),EK=(()=>{class n extends WN{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}static#e=this.\u0275fac=function(i){return new(i||n)(V(qO))};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),IK=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=fe({token:n,factory:function(){return he(TK)},providedIn:"root"})}return n})();class CK{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let TK=(()=>{class n extends CK{static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=Un(n)))(r||n)}}();static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Iy=new ie("",{providedIn:"root",factory:()=>({})});let xK=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=fe({token:n,factory:function(){return he(DK)},providedIn:"root"})}return n})(),DK=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Zp=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Zp||{});function ZN(n,e){n.events.pipe(Cr(t=>t instanceof Xa||t instanceof jp||t instanceof my||t instanceof Od),me(t=>t instanceof Xa||t instanceof Od?Zp.COMPLETE:t instanceof jp&&(0===t.code||1===t.code)?Zp.REDIRECTING:Zp.FAILED),Cr(t=>t!==Zp.REDIRECTING),aa(1)).subscribe(()=>{e()})}function SK(n){throw n}function AK(n,e,t){return e.parse("/")}const MK={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},kK={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ji=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=he(T1),this.isNgZoneEnabled=!1,this._events=new G,this.options=he(Iy,{optional:!0})||{},this.pendingTasks=he(Pv),this.errorHandler=this.options.errorHandler||SK,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||AK,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=he(xK),this.routeReuseStrategy=he(IK),this.titleStrategy=he(WN),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=he(Ud,{optional:!0})?.flat()??[],this.navigationTransitions=he(Ey),this.urlSerializer=he(Fp),this.location=he(jv),this.componentInputBindingEnabled=!!he(_y,{optional:!0}),this.eventsSubscription=new _t,this.isNgZoneEnabled=he(Xe)instanceof Xe&&Xe.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Pd,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=xN(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:r}=this.navigationTransitions;if(null===r)return void(KN(i)&&this._events.next(i));if(i instanceof py)qN(r.source)&&(this.browserUrlTree=r.extractedUrl);else if(i instanceof Od)this.rawUrlTree=r.rawUrl;else if(i instanceof EN){if("eager"===this.urlUpdateStrategy){if(!r.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl);this.setBrowserUrl(o,r)}this.browserUrlTree=r.urlAfterRedirects}}else if(i instanceof TC)this.currentUrlTree=r.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r),this.browserUrlTree=r.urlAfterRedirects);else if(i instanceof jp)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(r);else if(i instanceof xC){const o=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),s={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||qN(r.source)};this.scheduleNavigation(o,Up,null,s,{resolve:r.resolve,reject:r.reject,promise:r.promise})}i instanceof my&&this.restoreHistory(r,!0),i instanceof Xa&&(this.navigated=!0),KN(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Up,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,i,t.state)},0)}))}navigateToSyncWithBrowser(t,i,r){const o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){const c={...r};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(o.state=c)}const a=this.parseUrl(t);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(OC),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){const{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=i,l=c?this.currentUrlTree.fragment:s;let p,h=null;switch(a){case"merge":h={...this.currentUrlTree.queryParams,...o};break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}null!==h&&(h=this.removeEmptyProps(h));try{p=mN(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),p=this.currentUrlTree.root}return gN(p,t,h,l??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=vl(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,Up,null,i)}navigate(t,i={skipLocationChange:!1}){return function RK(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new F(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...MK}:!1===i?{...kK}:i,vl(t))return sN(this.currentUrlTree,t,r);const o=this.parseUrl(t);return sN(this.currentUrlTree,o,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const o=t[r];return null!=o&&(i[r]=o),i},{})}scheduleNavigation(t,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((p,g)=>{a=p,c=g});const h=this.pendingTasks.add();return ZN(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",s)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(r,"",o)}}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function KN(n){return!(n instanceof TC||n instanceof xC)}class YN{}let NK=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Cr(t=>t instanceof Xa),Md(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=dI(o.providers,t,`Route: ${o.path}`));const s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return b(r).pipe(dr())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):S(null);const o=r.pipe(Bt(s=>null===s?S(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));return i.loadComponent&&!i._loadedComponent?b([o,this.loader.loadComponent(i)]).pipe(dr()):o})}static#e=this.\u0275fac=function(i){return new(i||n)(V(Ji),V(x1),V(Xr),V(YN),V(VC))};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const UC=new ie("");let QN=(()=>{class n{constructor(t,i,r,o,s={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof py?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Xa?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Od&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof IN&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new IN(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){ud()};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac})}return n})();function ua(n,e){return{\u0275kind:n,\u0275providers:e}}function JN(){const n=he(Qi);return e=>{const t=n.get(Wa);if(e!==t.components[0])return;const i=n.get(Ji),r=n.get(eF);1===n.get(jC)&&i.initialNavigation(),n.get(tF,null,ht.Optional)?.setUpPreloading(),n.get(UC,null,ht.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const eF=new ie("",{factory:()=>new G}),jC=new ie("",{providedIn:"root",factory:()=>1}),tF=new ie("");function BK(n){return ua(0,[{provide:tF,useExisting:NK},{provide:YN,useExisting:n}])}const nF=new ie("ROUTER_FORROOT_GUARD"),jK=[jv,{provide:Fp,useClass:bC},Ji,zp,{provide:Fd,useFactory:function XN(n){return n.routerState.root},deps:[Ji]},VC,[]];function zK(){return new P1("Router",Ji)}let iF=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[jK,[],{provide:Ud,multi:!0,useValue:t},{provide:nF,useFactory:qK,deps:[[Ji,new ja,new Wf]]},{provide:Iy,useValue:i||{}},i?.useHash?{provide:ml,useClass:iq}:{provide:ml,useClass:uO},{provide:UC,useFactory:()=>{const n=he(wW),e=he(Xe),t=he(Iy),i=he(Ey),r=he(Fp);return t.scrollOffset&&n.setOffset(t.scrollOffset),new QN(r,i,n,e,t)}},i?.preloadingStrategy?BK(i.preloadingStrategy).\u0275providers:[],{provide:P1,multi:!0,useFactory:zK},i?.initialNavigation?WK(i):[],i?.bindToComponentInputs?ua(8,[MN,{provide:_y,useExisting:MN}]).\u0275providers:[],[{provide:rF,useFactory:JN},{provide:PI,multi:!0,useExisting:rF}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Ud,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(i){return new(i||n)(V(nF,8))};static#t=this.\u0275mod=Et({type:n});static#n=this.\u0275inj=wt({})}return n})();function qK(n){return"guarded"}function WK(n){return["disabled"===n.initialNavigation?ua(3,[{provide:TI,multi:!0,useFactory:()=>{const e=he(Ji);return()=>{e.setUpLocationChangeListener()}}},{provide:jC,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?ua(2,[{provide:jC,useValue:0},{provide:TI,multi:!0,deps:[Qi],useFactory:e=>{const t=e.get(tq,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const r=e.get(Ji),o=e.get(eF);ZN(r,()=>{i(!0)}),e.get(Ey).afterPreactivation=()=>(i(!0),o.closed?S(void 0):o),r.initialNavigation()}))}}]).\u0275providers:[]]}const rF=new ie("");function zC(...n){const e=mo(n),{args:t,keys:i}=QO(n),r=new et(o=>{const{length:s}=t;if(!s)return void o.complete();const a=new Array(s);let c=s,l=s;for(let h=0;h<s;h++){let p=!1;bt(t[h]).subscribe(ge(o,g=>{p||(p=!0,l--),a[h]=g},()=>c--,void 0,()=>{(!c||!p)&&(l||o.next(i?XO(i,a):a),o.complete())}))}});return e?r.pipe(_C(e)):r}const Cy_apiUrl="https://tasksapi-production-96eb.up.railway.app";class Ty{}class xy{}class Ds{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),o=r.toLowerCase(),s=t.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,i)=>{this.setHeaderEntries(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Ds?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Ds;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Ds?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const o=e.value;if(o){let s=this.headers.get(t);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const i=(Array.isArray(t)?t:[t]).map(o=>o.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class KK{encodeKey(e){return oF(e)}encodeValue(e){return oF(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const QK=/%(\d[a-f0-9])/gi,XK={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function oF(n){return encodeURIComponent(n).replace(QK,(e,t)=>XK[t]??e)}function Dy(n){return`${n}`}class Ja{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new KK,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function YK(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[s,a]=-1==o?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(Dy):[Dy(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(o=>{t.push({param:i,value:o,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Ja({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Dy(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(Dy(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class JK{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function sF(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function aF(n){return typeof Blob<"u"&&n instanceof Blob}function cF(n){return typeof FormData<"u"&&n instanceof FormData}class Kp{constructor(e,t,i,r){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function eY(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Ds),this.context||(this.context=new JK),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+s}}else this.params=new Ja,this.urlWithParams=t}serializeBody(){return null===this.body?null:sF(this.body)||aF(this.body)||cF(this.body)||function tY(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ja?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||cF(this.body)?null:aF(this.body)?this.body.type||null:sF(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ja?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,l=e.params||this.params;const h=e.context??this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((p,g)=>p.set(g,e.setHeaders[g]),c)),e.setParams&&(l=Object.keys(e.setParams).reduce((p,g)=>p.set(g,e.setParams[g]),l)),new Kp(t,i,o,{params:l,headers:c,context:h,reportProgress:a,responseType:r,withCredentials:s})}}var jd=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(jd||{});class HC{constructor(e,t=200,i="OK"){this.headers=e.headers||new Ds,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class $C extends HC{constructor(e={}){super(e),this.type=jd.ResponseHeader}clone(e={}){return new $C({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class zd extends HC{constructor(e={}){super(e),this.type=jd.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new zd({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class lF extends HC{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function GC(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Yp=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let o;if(t instanceof Kp)o=t;else{let c,l;c=r.headers instanceof Ds?r.headers:new Ds(r.headers),r.params&&(l=r.params instanceof Ja?r.params:new Ja({fromObject:r.params})),o=new Kp(t,i,void 0!==r.body?r.body:null,{headers:c,context:r.context,params:l,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const s=S(o).pipe(Md(c=>this.handler.handle(c)));if(t instanceof Kp||"events"===r.observe)return s;const a=s.pipe(Cr(c=>c instanceof zd));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(me(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(me(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(me(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return a.pipe(me(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new Ja).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,GC(r,i))}post(t,i,r={}){return this.request("POST",t,GC(r,i))}put(t,i,r={}){return this.request("PUT",t,GC(r,i))}static#e=this.\u0275fac=function(i){return new(i||n)(V(Ty))};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac})}return n})();function hF(n,e){return e(n)}function iY(n,e){return(t,i)=>e.intercept(t,{handle:r=>n(r,i)})}const oY=new ie(""),Qp=new ie(""),fF=new ie("");function sY(){let n=null;return(e,t)=>{null===n&&(n=(he(oY,{optional:!0})??[]).reduceRight(iY,hF));const i=he(Pv),r=i.add();return n(e,t).pipe(kd(()=>i.remove(r)))}}let pF=(()=>{class n extends Ty{constructor(t,i){super(),this.backend=t,this.injector=i,this.chain=null,this.pendingTasks=he(Pv)}handle(t){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(Qp),...this.injector.get(fF,[])]));this.chain=r.reduceRight((o,s)=>function rY(n,e,t){return(i,r)=>t.runInContext(()=>e(i,o=>n(o,r)))}(o,s,this.injector),hF)}const i=this.pendingTasks.add();return this.chain(t,r=>this.backend.handle(r)).pipe(kd(()=>this.pendingTasks.remove(i)))}static#e=this.\u0275fac=function(i){return new(i||n)(V(xy),V(Xr))};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac})}return n})();const uY=/^\)\]\}',?\n/;let gF=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new F(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?b(i.\u0275loadImpl()):S(null)).pipe(Te(()=>new et(o=>{const s=i.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((C,x)=>s.setRequestHeader(C,x.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const C=t.detectContentTypeHeader();null!==C&&s.setRequestHeader("Content-Type",C)}if(t.responseType){const C=t.responseType.toLowerCase();s.responseType="json"!==C?C:"text"}const a=t.serializeBody();let c=null;const l=()=>{if(null!==c)return c;const C=s.statusText||"OK",x=new Ds(s.getAllResponseHeaders()),N=function dY(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(s)||t.url;return c=new $C({headers:x,status:s.status,statusText:C,url:N}),c},h=()=>{let{headers:C,status:x,statusText:N,url:k}=l(),U=null;204!==x&&(U=typeof s.response>"u"?s.responseText:s.response),0===x&&(x=U?200:0);let Q=x>=200&&x<300;if("json"===t.responseType&&"string"==typeof U){const pe=U;U=U.replace(uY,"");try{U=""!==U?JSON.parse(U):null}catch(ke){U=pe,Q&&(Q=!1,U={error:ke,text:U})}}Q?(o.next(new zd({body:U,headers:C,status:x,statusText:N,url:k||void 0})),o.complete()):o.error(new lF({error:U,headers:C,status:x,statusText:N,url:k||void 0}))},p=C=>{const{url:x}=l(),N=new lF({error:C,status:s.status||0,statusText:s.statusText||"Unknown Error",url:x||void 0});o.error(N)};let g=!1;const v=C=>{g||(o.next(l()),g=!0);let x={type:jd.DownloadProgress,loaded:C.loaded};C.lengthComputable&&(x.total=C.total),"text"===t.responseType&&s.responseText&&(x.partialText=s.responseText),o.next(x)},E=C=>{let x={type:jd.UploadProgress,loaded:C.loaded};C.lengthComputable&&(x.total=C.total),o.next(x)};return s.addEventListener("load",h),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),t.reportProgress&&(s.addEventListener("progress",v),null!==a&&s.upload&&s.upload.addEventListener("progress",E)),s.send(a),o.next({type:jd.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",h),s.removeEventListener("timeout",p),t.reportProgress&&(s.removeEventListener("progress",v),null!==a&&s.upload&&s.upload.removeEventListener("progress",E)),s.readyState!==s.DONE&&s.abort()}})))}static#e=this.\u0275fac=function(i){return new(i||n)(V(SO))};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac})}return n})();const qC=new ie("XSRF_ENABLED"),_F=new ie("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),vF=new ie("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class yF{}let pY=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=bO(t,this.cookieName),this.lastCookieString=t),this.lastToken}static#e=this.\u0275fac=function(i){return new(i||n)(V(kt),V(Ho),V(_F))};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac})}return n})();function mY(n,e){const t=n.url.toLowerCase();if(!he(qC)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const i=he(yF).getToken(),r=he(vF);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),e(n)}var ec=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(ec||{});function gY(...n){const e=[Yp,gF,pF,{provide:Ty,useExisting:pF},{provide:xy,useExisting:gF},{provide:Qp,useValue:mY,multi:!0},{provide:qC,useValue:!0},{provide:yF,useClass:pY}];for(const t of n)e.push(...t.\u0275providers);return function sE(n){return{\u0275providers:n}}(e)}const bF=new ie("LEGACY_INTERCEPTOR_FN");function _Y(){return function yl(n,e){return{\u0275kind:n,\u0275providers:e}}(ec.LegacyInterceptors,[{provide:bF,useFactory:sY},{provide:Qp,useExisting:bF,multi:!0}])}let vY=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Et({type:n});static#n=this.\u0275inj=wt({providers:[gY(_Y())]})}return n})(),wF=(()=>{class n{setData(t,i){sessionStorage.setItem(t,JSON.stringify(i))}getData(t){const i=sessionStorage.getItem(t);return i?JSON.parse(i):null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),CY=(()=>{class n{constructor(t,i){this.http=t,this.cacheService=i,this.apiMode=Cy_apiUrl+"/api/mode/",this.apiTasks=Cy_apiUrl+"/api/tasks/"}getMode(t){const i="modeKey",r=this.cacheService.getData(i);return r?S(r):this.http.get(this.apiMode+t).pipe(me(o=>(this.cacheService.setData(i,o),o)))}getUIDData(t){const i="UIDDataKey",r=this.cacheService.getData(i);return r?S(r):this.http.get(this.apiTasks+t).pipe(me(o=>(this.cacheService.setData(i,o),o)))}updateMode(t,i){return this.http.patch(this.apiMode+i,{mode:t})}static#e=this.\u0275fac=function(i){return new(i||n)(V(Yp),V(wF))};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var EF=Be(562),cn=Be(58),Hd=Be(534),Ss=Be(879),IF=Be(537);Be(365),(0,Hd.registerVersion)("firebase","10.6.0","app");class DY extends _t{constructor(e,t){super()}schedule(e,t=0){return this}}const Ay={setInterval(n,e,...t){const{delegate:i}=Ay;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Ay;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class My extends DY{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;const r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,i=0){return Ay.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&Ay.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r,i=!1;try{this.work(e)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Me(i,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const WC={now:()=>(WC.delegate||Date).now(),delegate:void 0};class Xp{constructor(e,t=Xp.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}}Xp.now=WC.now;class ky extends Xp{constructor(e,t=Xp.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}const MY=new class AY extends ky{}(class SY extends My{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(e,t,i):(e.flush(this),0)}}),Jp=new ky(My),kY=Jp,ZC=new Ha("ANGULARFIRE2_VERSION");class CF{constructor(){return((n,e)=>{const t=(0,Hd.getApps)(),i=[];return t.forEach(r=>{r.container.getProvider(n).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i})(PY)}}const PY="app-check";function $d(){}class TF{zone;delegate;constructor(e,t=MY){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){const r=this.zone;return this.delegate.schedule(function(s){r.runGuarded(()=>{e.apply(this,[s])})},t,i)}}class OY{zone;task=null;constructor(e){this.zone=e}call(e,t){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",$d,{},$d,$d)),t.pipe(ci({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let xF=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new TF(Zone.current)),this.insideAngular=t.run(()=>new TF(Zone.current,Jp)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||n)(V(Xe))};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function to(n){return function FY(n){return function(t){return(t=t.lift(new OY(n.ngZone))).pipe(Pi(n.outsideAngular),Yn(n.insideAngular))}}(function Gd(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}())(n)}var tc=Be(106);tc.Z.registerVersion("firebase","10.6.0","app-compat");const UY=["ngOnDestroy"];class DF{constructor(e){return e}}const Ry=new ie("angularfire2.app.options"),Py=new ie("angularfire2.app.name");function KC(n,e,t){const r="object"==typeof t&&t||{};r.name=r.name||"string"==typeof t&&t||"[DEFAULT]";const s=tc.Z.apps.filter(a=>a&&a.name===r.name)[0]||e.runOutsideAngular(()=>tc.Z.initializeApp(n,r));try{if(JSON.stringify(n)!==JSON.stringify(s.options)){const a=!!module.hot;HY("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new DF(s)}const HY=(n,...e)=>{},$Y={provide:DF,useFactory:KC,deps:[Ry,Xe,[new ja,Py]]};let GY=(()=>{class n{static initializeApp(t,i){return{ngModule:n,providers:[{provide:Ry,useValue:t},{provide:Py,useValue:i}]}}constructor(t){tc.Z.registerVersion("angularfire",ZC.full,"core"),tc.Z.registerVersion("angularfire",ZC.full,"app-compat"),tc.Z.registerVersion("angular",XM.full,t.toString())}static \u0275fac=function(i){return new(i||n)(V(Ho))};static \u0275mod=Et({type:n});static \u0275inj=wt({providers:[$Y]})}return n})();function SF(n,e,t,i,r){const[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===n)||[];if(o)return function qY(n,e){try{return n.toString()===e.toString()}catch{return n===e}}(r,s)||(AF("error",`${e} was already initialized on the ${t} Firebase App with different settings.${WY?" You may need to reload as Firebase is not HMR aware.":""}`),AF("warn",{is:r,was:s})),o;{const a=i();return globalThis.\u0275AngularfireInstanceCache.push([n,a,r]),a}}const WY=typeof module<"u"&&!!module.hot,AF=(n,...e)=>{};globalThis.\u0275AngularfireInstanceCache||=[];class ZY extends G{constructor(e=1/0,t=1/0,i=WC){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;t||(i.push(e),!r&&i.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!e.closed;s+=i?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*e;if(e<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const s=t.now();let a=0;for(let c=1;c<i.length&&i[c]<=s;c+=2)a=c;a&&i.splice(0,a+1)}}}function MF(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,K({connector:()=>new ZY(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function kF(n,e){return T(e)?Te(()=>n,e):Te(()=>n)}const RF=new ie("angularfire2.auth.use-emulator"),PF=new ie("angularfire2.auth.settings"),OF=new ie("angularfire2.auth.tenant-id"),NF=new ie("angularfire2.auth.langugage-code"),FF=new ie("angularfire2.auth.use-device-language"),LF=new ie("angularfire.auth.persistence"),VF=(n,e,t,i,r,o,s,a)=>SF(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const c=e.runOutsideAngular(()=>n.auth());if(t&&c.useEmulator(...t),i&&(c.tenantId=i),c.languageCode=r,o&&c.useDeviceLanguage(),s)for(const[l,h]of Object.entries(s))c.settings[l]=h;return a&&c.setPersistence(a),c},[t,i,r,o,s,a]);let Oy=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(t,i,r,o,s,a,c,l,h,p,g,v){const E=new G,C=S(void 0).pipe(Yn(s.outsideAngular),Te(()=>o.runOutsideAngular(()=>Promise.resolve().then(Be.bind(Be,365)))),me(()=>KC(t,o,i)),me(x=>VF(x,o,a,l,h,p,c,g)),MF({bufferSize:1,refCount:!1}));if(Xv(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=S(null);else{C.pipe(Ya()).subscribe();const x=C.pipe(Te(U=>U.getRedirectResult().then(Q=>Q,()=>null)),to,MF({bufferSize:1,refCount:!1})),N=C.pipe(Te(U=>new et(Q=>({unsubscribe:o.runOutsideAngular(()=>U.onAuthStateChanged(pe=>Q.next(pe),pe=>Q.error(pe),()=>Q.complete()))})))),k=C.pipe(Te(U=>new et(Q=>({unsubscribe:o.runOutsideAngular(()=>U.onIdTokenChanged(pe=>Q.next(pe),pe=>Q.error(pe),()=>Q.complete()))}))));this.authState=x.pipe(kF(N),Pi(s.outsideAngular),Yn(s.insideAngular)),this.user=x.pipe(kF(k),Pi(s.outsideAngular),Yn(s.insideAngular)),this.idToken=this.user.pipe(Te(U=>U?b(U.getIdToken()):S(null))),this.idTokenResult=this.user.pipe(Te(U=>U?b(U.getIdTokenResult()):S(null))),this.credential=I(x,E,this.authState.pipe(Cr(U=>!U))).pipe(me(U=>U?.user?U:null),Pi(s.outsideAngular),Yn(s.insideAngular))}return((n,e,t,i={})=>new Proxy(n,{get:(r,o)=>t.runOutsideAngular(()=>{if(n[o])return i?.spy?.get&&i.spy.get(o,n[o]),n[o];if(UY.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(a=>{const c=a?.[o];return"function"==typeof c?c.bind(a):c?.then?c.then(l=>t.run(()=>l)):t.run(()=>c)});return new Proxy(()=>{},{get:(a,c)=>s[c],apply:(a,c,l)=>s.then(h=>{const p=h?.(...l);return i?.spy?.apply&&i.spy.apply(o,l,p),p})})})}))(this,C,o,{spy:{apply:(x,N,k)=>{(x.startsWith("signIn")||x.startsWith("createUser"))&&k.then(U=>E.next(U))}}})}static \u0275fac=function(i){return new(i||n)(V(Ry),V(Py,8),V(Ho),V(Xe),V(xF),V(RF,8),V(PF,8),V(OF,8),V(NF,8),V(FF,8),V(LF,8),V(CF,8))};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),YY=(()=>{class n{constructor(){tc.Z.registerVersion("angularfire",ZC.full,"auth-compat")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Et({type:n});static \u0275inj=wt({providers:[Oy]})}return n})();function YC(){return ee((n,e)=>{let t,i=!1;n.subscribe(ge(e,r=>{const o=t;t=r,i&&e.next([o,r]),i=!0}))})}var we,X=Be(861),QY=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Xo={},QC=QC||{},rt=QY||self;function Ny(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function em(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var XC="closure_uid_"+(1e9*Math.random()>>>0),JY=0;function eQ(n,e,t){return n.call.apply(n.bind,arguments)}function tQ(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function er(n,e,t){return(er=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?eQ:tQ).apply(null,arguments)}function Fy(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function xi(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(i,r,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[r].apply(i,s)}}function nc(){this.s=this.s,this.o=this.o}nc.prototype.s=!1,nc.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function XY(n){Object.prototype.hasOwnProperty.call(n,XC)&&n[XC]||(n[XC]=++JY)}(this)},nc.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const BF=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function JC(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function UF(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(Ny(i)){const r=n.length||0,o=i.length||0;n.length=r+o;for(let s=0;s<o;s++)n[r+s]=i[s]}else n.push(i)}}function tr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}tr.prototype.h=function(){this.defaultPrevented=!0};var iQ=function(){if(!rt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{rt.addEventListener("test",()=>{},e),rt.removeEventListener("test",()=>{},e)}catch{}return n}();function tm(n){return/^[\s\xa0]*$/.test(n)}function Ly(){var n=rt.navigator;return n&&(n=n.userAgent)?n:""}function As(n){return-1!=Ly().indexOf(n)}function eT(n){return eT[" "](n),n}eT[" "]=function(){};var nT,n,oQ=As("Opera"),qd=As("Trident")||As("MSIE"),jF=As("Edge"),tT=jF||qd,zF=As("Gecko")&&!(-1!=Ly().toLowerCase().indexOf("webkit")&&!As("Edge"))&&!(As("Trident")||As("MSIE"))&&!As("Edge"),sQ=-1!=Ly().toLowerCase().indexOf("webkit")&&!As("Edge");function HF(){var n=rt.document;return n?n.documentMode:void 0}e:{var iT="",rT=(n=Ly(),zF?/rv:([^\);]+)(\)|;)/.exec(n):jF?/Edge\/([\d\.]+)/.exec(n):qd?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):sQ?/WebKit\/(\S+)/.exec(n):oQ?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(rT&&(iT=rT?rT[1]:""),qd){var oT=HF();if(null!=oT&&oT>parseFloat(iT)){nT=String(oT);break e}}nT=iT}var aQ=rt.document&&qd&&(HF()||parseInt(nT,10))||void 0;function nm(n,e){if(tr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(zF){e:{try{eT(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:cQ[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&nm.$.h.call(this)}}xi(nm,tr);var cQ={2:"touch",3:"pen",4:"mouse"};nm.prototype.h=function(){nm.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var im="closure_listenable_"+(1e6*Math.random()|0),lQ=0;function uQ(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.la=r,this.key=++lQ,this.fa=this.ia=!1}function Vy(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function aT(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function GF(n){const e={};for(const t in n)e[t]=n[t];return e}const qF="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function WF(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let o=0;o<qF.length;o++)t=qF[o],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function By(n){this.src=n,this.g={},this.h=0}function cT(n,e){var t=e.type;if(t in n.g){var o,i=n.g[t],r=BF(i,e);(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(Vy(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function lT(n,e,t,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.fa&&o.listener==e&&o.capture==!!t&&o.la==i)return r}return-1}By.prototype.add=function(n,e,t,i,r){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var s=lT(n,e,i,r);return-1<s?(e=n[s],t||(e.ia=!1)):((e=new uQ(e,this.src,o,!!i,r)).ia=t,n.push(e)),e};var uT="closure_lm_"+(1e6*Math.random()|0),dT={};function ZF(n,e,t,i,r){if(i&&i.once)return YF(n,e,t,i,r);if(Array.isArray(e)){for(var o=0;o<e.length;o++)ZF(n,e[o],t,i,r);return null}return t=mT(t),n&&n[im]?n.O(e,t,em(i)?!!i.capture:!!i,r):KF(n,e,t,!1,i,r)}function KF(n,e,t,i,r,o){if(!e)throw Error("Invalid event type");var s=em(r)?!!r.capture:!!r,a=fT(n);if(a||(n[uT]=a=new By(n)),(t=a.add(e,t,i,s,o)).proxy)return t;if(i=function hQ(){const e=fQ;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)iQ||(r=s),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(XF(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function YF(n,e,t,i,r){if(Array.isArray(e)){for(var o=0;o<e.length;o++)YF(n,e[o],t,i,r);return null}return t=mT(t),n&&n[im]?n.P(e,t,em(i)?!!i.capture:!!i,r):KF(n,e,t,!0,i,r)}function QF(n,e,t,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)QF(n,e[o],t,i,r);else i=em(i)?!!i.capture:!!i,t=mT(t),n&&n[im]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=lT(o=n.g[e],t,i,r))&&(Vy(o[t]),Array.prototype.splice.call(o,t,1),0==o.length&&(delete n.g[e],n.h--))):n&&(n=fT(n))&&(e=n.g[e.toString()],n=-1,e&&(n=lT(e,t,i,r)),(t=-1<n?e[n]:null)&&hT(t))}function hT(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[im])cT(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(XF(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=fT(e))?(cT(t,n),0==t.h&&(t.src=null,e[uT]=null)):Vy(n)}}}function XF(n){return n in dT?dT[n]:dT[n]="on"+n}function fQ(n,e){if(n.fa)n=!0;else{e=new nm(e,this);var t=n.listener,i=n.la||n.src;n.ia&&hT(n),n=t.call(i,e)}return n}function fT(n){return(n=n[uT])instanceof By?n:null}var pT="__closure_events_fn_"+(1e9*Math.random()>>>0);function mT(n){return"function"==typeof n?n:(n[pT]||(n[pT]=function(e){return n.handleEvent(e)}),n[pT])}function Di(){nc.call(this),this.i=new By(this),this.S=this,this.J=null}function Vi(n,e){var t,i=n.J;if(i)for(t=[];i;i=i.J)t.push(i);if(n=n.S,i=e.type||e,"string"==typeof e)e=new tr(e,n);else if(e instanceof tr)e.target=e.target||n;else{var r=e;WF(e=new tr(i,n),r)}if(r=!0,t)for(var o=t.length-1;0<=o;o--){var s=e.g=t[o];r=Uy(s,i,!0,e)&&r}if(r=Uy(s=e.g=n,i,!0,e)&&r,r=Uy(s,i,!1,e)&&r,t)for(o=0;o<t.length;o++)r=Uy(s=e.g=t[o],i,!1,e)&&r}function Uy(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==t){var a=s.listener,c=s.la||s.src;s.ia&&cT(n.i,s),r=!1!==a.call(c,i)&&r}}return r&&!i.defaultPrevented}xi(Di,nc),Di.prototype[im]=!0,Di.prototype.removeEventListener=function(n,e,t,i){QF(this,n,e,t,i)},Di.prototype.N=function(){if(Di.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)Vy(t[i]);delete n.g[e],n.h--}}this.J=null},Di.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},Di.prototype.P=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var gT=rt.JSON.stringify;function mQ(){var n=_T;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var JF=new class pQ{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new _Q,n=>n.reset());class _Q{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function vQ(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function yQ(n){rt.setTimeout(()=>{throw n},0)}let rm,om=!1,_T=new class gQ{constructor(){this.h=this.g=null}add(e,t){const i=JF.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}},eL=()=>{const n=rt.Promise.resolve(void 0);rm=()=>{n.then(bQ)}};var bQ=()=>{for(var n;n=mQ();){try{n.h.call(n.g)}catch(t){yQ(t)}var e=JF;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}om=!1};function jy(n,e){Di.call(this),this.h=n||1,this.g=e||rt,this.j=er(this.qb,this),this.l=Date.now()}function vT(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function yT(n,e,t){if("function"==typeof n)t&&(n=er(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=er(n.handleEvent,n)}return 2147483647<Number(e)?-1:rt.setTimeout(n,e||0)}function tL(n){n.g=yT(()=>{n.g=null,n.i&&(n.i=!1,tL(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}xi(jy,Di),(we=jy.prototype).ga=!1,we.T=null,we.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Vi(this,"tick"),this.ga&&(vT(this),this.start()))}},we.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},we.N=function(){jy.$.N.call(this),vT(this),delete this.g};class wQ extends nc{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:tL(this)}N(){super.N(),this.g&&(rt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function sm(n){nc.call(this),this.h=n,this.g={}}xi(sm,nc);var nL=[];function iL(n,e,t,i){Array.isArray(t)||(t&&(nL[0]=t.toString()),t=nL);for(var r=0;r<t.length;r++){var o=ZF(e,t[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function rL(n){aT(n.g,function(e,t){this.g.hasOwnProperty(t)&&hT(e)},n),n.g={}}function zy(){this.g=!0}function Wd(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function TQ(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<r.length;s++)r[s]=""}}}return gT(t)}catch{return e}}(n,t)+(i?" "+i:"")})}sm.prototype.N=function(){sm.$.N.call(this),rL(this)},sm.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},zy.prototype.Ea=function(){this.g=!1},zy.prototype.info=function(){};var wl={},oL=null;function Hy(){return oL=oL||new Di}function sL(n){tr.call(this,wl.Ta,n)}function am(n){const e=Hy();Vi(e,new sL(e))}function aL(n,e){tr.call(this,wl.STAT_EVENT,n),this.stat=e}function Tr(n){const e=Hy();Vi(e,new aL(e,n))}function cL(n,e){tr.call(this,wl.Ua,n),this.size=e}function cm(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return rt.setTimeout(function(){n()},e)}wl.Ta="serverreachability",xi(sL,tr),wl.STAT_EVENT="statevent",xi(aL,tr),wl.Ua="timingevent",xi(cL,tr);var $y={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},lL={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function bT(){}function dL(){}bT.prototype.h=null;var IT,lm={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function wT(){tr.call(this,"d")}function ET(){tr.call(this,"c")}function Gy(){}function um(n,e,t,i){this.l=n,this.j=e,this.m=t,this.W=i||1,this.U=new sm(this),this.P=xQ,this.V=new jy(n=tT?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new hL}function hL(){this.i=null,this.g="",this.h=!1}xi(wT,tr),xi(ET,tr),xi(Gy,bT),Gy.prototype.g=function(){return new XMLHttpRequest},Gy.prototype.i=function(){return{}},IT=new Gy;var xQ=45e3,CT={},qy={};function TT(n,e,t){n.L=1,n.v=Yy(da(e)),n.s=t,n.S=!0,fL(n,null)}function fL(n,e){n.G=Date.now(),dm(n),n.A=da(n.v);var t=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),IL(t.i,"t",i),n.C=0,t=n.l.J,n.h=new hL,n.g=WL(n.l,t?e:null,!n.s),0<n.O&&(n.M=new wQ(er(n.Pa,n,n.g),n.O)),iL(n.U,n.g,"readystatechange",n.nb),e=n.I?GF(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),am(),function EQ(n,e,t,i,r,o){n.info(function(){if(n.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var h=l[0];l=l[1];var p=h.split("_");s=2<=p.length&&"type"==p[1]?s+(h+"=")+l+"&":s+(h+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+s})}(n.j,n.u,n.A,n.m,n.W,n.s)}function pL(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function mL(n,e,t){let r,i=!0;for(;!n.J&&n.C<t.length;){if(r=DQ(n,t),r==qy){4==e&&(n.o=4,Tr(14),i=!1),Wd(n.j,n.m,null,"[Incomplete Response]");break}if(r==CT){n.o=4,Tr(15),Wd(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}Wd(n.j,n.m,r,null),xT(n,r)}pL(n)&&r!=qy&&r!=CT&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Tr(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),PT(e),e.M=!0,Tr(11))):(Wd(n.j,n.m,t,"[Invalid Chunked Response]"),El(n),hm(n))}function DQ(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?qy:(t=Number(e.substring(t,i)),isNaN(t)?CT:(i+=1)+t>e.length?qy:(e=e.slice(i,i+t),n.C=i+t,e))}function dm(n){n.Y=Date.now()+n.P,gL(n,n.P)}function gL(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=cm(er(n.lb,n),e)}function Wy(n){n.B&&(rt.clearTimeout(n.B),n.B=null)}function hm(n){0==n.l.H||n.J||HL(n.l,n)}function El(n){Wy(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,vT(n.V),rL(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function xT(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||DT(t.i,n)))if(!n.K&&DT(t.i,n)&&3==t.H){try{var i=t.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;nb(t),eb(t)}RT(t),Tr(18)}}else t.Fa=r[1],0<t.Fa-t.V&&37500>r[2]&&t.G&&0==t.A&&!t.v&&(t.v=cm(er(t.ib,t),6e3));if(1>=xL(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Cl(t,11)}else if((n.K||t.g==n)&&nb(t),!tm(e))for(r=t.Ja.g.parse(e),e=0;e<r.length;e++){let l=r[e];if(t.V=l[0],l=l[1],2==t.H)if("c"==l[0]){t.K=l[1],t.pa=l[2];const h=l[3];null!=h&&(t.ra=h,t.l.info("VER="+t.ra));const p=l[4];null!=p&&(t.Ga=p,t.l.info("SVER="+t.Ga));const g=l[5];null!=g&&"number"==typeof g&&0<g&&(t.L=i=1.5*g,t.l.info("backChannelRequestTimeoutMs_="+i)),i=t;const v=n.g;if(v){const E=v.g?v.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(E){var o=i.i;o.g||-1==E.indexOf("spdy")&&-1==E.indexOf("quic")&&-1==E.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(ST(o,o.h),o.h=null))}if(i.F){const C=v.g?v.g.getResponseHeader("X-HTTP-Session-Id"):null;C&&(i.Da=C,bn(i.I,i.F,C))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var s=n;if((i=t).wa=qL(i,i.J?i.pa:null,i.Y),s.K){DL(i.i,s);var a=s,c=i.L;c&&a.setTimeout(c),a.B&&(Wy(a),dm(a)),i.g=s}else jL(i);0<t.j.length&&tb(t)}else"stop"!=l[0]&&"close"!=l[0]||Cl(t,7);else 3==t.H&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?Cl(t,7):kT(t):"noop"!=l[0]&&t.h&&t.h.Aa(l),t.A=0)}am()}catch{}}function _L(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Ny(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function AQ(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Ny(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function SQ(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Ny(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,o=0;o<r;o++)e.call(void 0,i[o],t&&t[o],n)}(we=um.prototype).setTimeout=function(n){this.P=n},we.nb=function(n){n=n.target;const e=this.M;e&&3==Ms(n)?e.l():this.Pa(n)},we.Pa=function(n){try{if(n==this.g)e:{const h=Ms(this.g);var e=this.g.Ia();if(this.g.da(),!(3>h)&&(3!=h||tT||this.g&&(this.h.h||this.g.ja()||NL(this.g)))){this.J||4!=h||7==e||am(),Wy(this);var t=this.g.da();this.ca=t;t:if(pL(this)){var i=NL(this.g);n="";var r=i.length,o=4==Ms(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){El(this),hm(this);var s="";break t}this.h.i=new rt.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:o&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==t,function IQ(n,e,t,i,r,o,s){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+o+" "+s})}(this.j,this.u,this.A,this.m,this.W,h,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!tm(a)){var l=a;break t}}l=null}if(!(t=l)){this.i=!1,this.o=3,Tr(12),El(this),hm(this);break e}Wd(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,xT(this,t)}this.S?(mL(this,h,s),tT&&this.i&&3==h&&(iL(this.U,this.V,"tick",this.mb),this.V.start())):(Wd(this.j,this.m,s,null),xT(this,s)),4==h&&El(this),this.i&&!this.J&&(4==h?HL(this.l,this):(this.i=!1,dm(this)))}else(function WQ(n){const e={};n=(n.g&&2<=Ms(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(tm(n[i]))continue;var t=vQ(n[i]);const r=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const o=e[r]||[];e[r]=o,o.push(t)}!function dQ(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(i){return i.join(", ")})})(this.g),400==t&&0<s.indexOf("Unknown SID")?(this.o=3,Tr(12)):(this.o=0,Tr(13)),El(this),hm(this)}}}catch{}},we.mb=function(){if(this.g){var n=Ms(this.g),e=this.g.ja();this.C<e.length&&(Wy(this),mL(this,n,e),this.i&&4!=n&&dm(this))}},we.cancel=function(){this.J=!0,El(this)},we.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function CQ(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(am(),Tr(17)),El(this),this.o=2,hm(this)):gL(this,this.Y-n)};var vL=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Il(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Il){this.h=n.h,Zy(this,n.j),this.s=n.s,this.g=n.g,Ky(this,n.m),this.l=n.l;var e=n.i,t=new mm;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),yL(this,t),this.o=n.o}else n&&(e=String(n).match(vL))?(this.h=!1,Zy(this,e[1]||"",!0),this.s=fm(e[2]||""),this.g=fm(e[3]||"",!0),Ky(this,e[4]),this.l=fm(e[5]||"",!0),yL(this,e[6]||"",!0),this.o=fm(e[7]||"")):(this.h=!1,this.i=new mm(null,this.h))}function da(n){return new Il(n)}function Zy(n,e,t){n.j=t?fm(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Ky(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function yL(n,e,t){e instanceof mm?(n.i=e,function FQ(n,e){e&&!n.j&&(ic(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(wL(this,i),IL(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=pm(e,OQ)),n.i=new mm(e,n.h))}function bn(n,e,t){n.i.set(e,t)}function Yy(n){return bn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function fm(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function pm(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,kQ),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function kQ(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Il.prototype.toString=function(){var n=[],e=this.j;e&&n.push(pm(e,bL,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(pm(e,bL,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(pm(t,"/"==t.charAt(0)?PQ:RQ,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",pm(t,NQ)),n.join("")};var bL=/[#\/\?@]/g,RQ=/[#\?:]/g,PQ=/[#\?]/g,OQ=/[#\?@]/g,NQ=/#/g;function mm(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function ic(n){n.g||(n.g=new Map,n.h=0,n.i&&function MQ(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var o=n[t].substring(0,i);r=n[t].substring(i+1)}else o=n[t];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function wL(n,e){ic(n),e=Zd(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function EL(n,e){return ic(n),e=Zd(n,e),n.g.has(e)}function IL(n,e,t){wL(n,e),0<t.length&&(n.i=null,n.g.set(Zd(n,e),JC(t)),n.h+=t.length)}function Zd(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function CL(n){this.l=n||VQ,n=rt.PerformanceNavigationTiming?0<(n=rt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(rt.g&&rt.g.Ka&&rt.g.Ka()&&rt.g.Ka().dc),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(we=mm.prototype).add=function(n,e){ic(this),this.i=null,n=Zd(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},we.forEach=function(n,e){ic(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},we.ta=function(){ic(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let o=0;o<r.length;o++)t.push(e[i])}return t},we.Z=function(n){ic(this);let e=[];if("string"==typeof n)EL(this,n)&&(e=e.concat(this.g.get(Zd(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},we.set=function(n,e){return ic(this),this.i=null,EL(this,n=Zd(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},we.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},we.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const o=encodeURIComponent(String(i)),s=this.Z(i);for(i=0;i<s.length;i++){var r=o;""!==s[i]&&(r+="="+encodeURIComponent(String(s[i]))),n.push(r)}}return this.i=n.join("&")};var VQ=10;function TL(n){return!!n.h||!!n.g&&n.g.size>=n.j}function xL(n){return n.h?1:n.g?n.g.size:0}function DT(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function ST(n,e){n.g?n.g.add(e):n.h=e}function DL(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function SL(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return JC(n.i)}CL.prototype.cancel=function(){if(this.i=SL(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var BQ=class{stringify(n){return rt.JSON.stringify(n,void 0)}parse(n){return rt.JSON.parse(n,void 0)}};function UQ(){this.g=new BQ}function jQ(n,e,t){const i=t||"";try{_L(n,function(r,o){let s=r;em(r)&&(s=gT(r)),e.push(i+o+"="+encodeURIComponent(s))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function Qy(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function gm(n){this.l=n.ec||null,this.j=n.ob||!1}function Xy(n,e){Di.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=AT,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}xi(gm,bT),gm.prototype.g=function(){return new Xy(this.l,this.j)},gm.prototype.i=function(n){return function(){return n}}({}),xi(Xy,Di);var AT=0;function AL(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function _m(n){n.readyState=4,n.l=null,n.j=null,n.A=null,vm(n)}function vm(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(we=Xy.prototype).open=function(n,e){if(this.readyState!=AT)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,vm(this)},we.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||rt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},we.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,_m(this)),this.readyState=AT},we.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,vm(this)),this.g&&(this.readyState=3,vm(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof rt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;AL(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},we.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?_m(this):vm(this),3==this.readyState&&AL(this)}},we.Za=function(n){this.g&&(this.response=this.responseText=n,_m(this))},we.Ya=function(n){this.g&&(this.response=n,_m(this))},we.ka=function(){this.g&&_m(this)},we.setRequestHeader=function(n,e){this.v.append(n,e)},we.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},we.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Xy.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var HQ=rt.JSON.parse;function zn(n){Di.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=ML,this.L=this.M=!1}xi(zn,Di);var ML="",$Q=/^https?$/i,GQ=["POST","PUT"];function kL(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,RL(n),Jy(n)}function RL(n){n.F||(n.F=!0,Vi(n,"complete"),Vi(n,"error"))}function PL(n){if(n.h&&typeof QC<"u"&&(!n.C[1]||4!=Ms(n)||2!=n.da()))if(n.v&&4==Ms(n))yT(n.La,0,n);else if(Vi(n,"readystatechange"),4==Ms(n)){n.h=!1;try{const s=n.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===s){var r=String(n.I).match(vL)[1]||null;!r&&rt.self&&rt.self.location&&(r=rt.self.location.protocol.slice(0,-1)),i=!$Q.test(r?r.toLowerCase():"")}t=i}if(t)Vi(n,"complete"),Vi(n,"success");else{n.m=6;try{var o=2<Ms(n)?n.g.statusText:""}catch{o=""}n.j=o+" ["+n.da()+"]",RL(n)}}finally{Jy(n)}}}function Jy(n,e){if(n.g){OL(n);const t=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Vi(n,"ready");try{t.onreadystatechange=i}catch{}}}function OL(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(rt.clearTimeout(n.A),n.A=null)}function Ms(n){return n.g?n.g.readyState:0}function NL(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case ML:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function FL(n){let e="";return aT(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function MT(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=FL(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):bn(n,e,t))}function ym(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function LL(n){this.Ga=0,this.j=[],this.l=new zy,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ym("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ym("baseRetryDelayMs",5e3,n),this.hb=ym("retryDelaySeedMs",1e4,n),this.eb=ym("forwardChannelMaxRetries",2,n),this.xa=ym("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new CL(n&&n.concurrentRequestLimit),this.Ja=new UQ,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function kT(n){if(VL(n),3==n.H){var e=n.W++,t=da(n.I);if(bn(t,"SID",n.K),bn(t,"RID",e),bn(t,"TYPE","terminate"),bm(n,t),(e=new um(n,n.l,e)).L=2,e.v=Yy(da(t)),t=!1,rt.navigator&&rt.navigator.sendBeacon)try{t=rt.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&rt.Image&&((new Image).src=e.v,t=!0),t||(e.g=WL(e.l,null),e.g.ha(e.v)),e.G=Date.now(),dm(e)}GL(n)}function eb(n){n.g&&(PT(n),n.g.cancel(),n.g=null)}function VL(n){eb(n),n.u&&(rt.clearTimeout(n.u),n.u=null),nb(n),n.i.cancel(),n.m&&("number"==typeof n.m&&rt.clearTimeout(n.m),n.m=null)}function tb(n){if(!TL(n.i)&&!n.m){n.m=!0;var e=n.Na;rm||eL(),om||(rm(),om=!0),_T.add(e,n),n.C=0}}function BL(n,e){var t;t=e?e.m:n.W++;const i=da(n.I);bn(i,"SID",n.K),bn(i,"RID",t),bn(i,"AID",n.V),bm(n,i),n.o&&n.s&&MT(i,n.o,n.s),t=new um(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=UL(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),ST(n.i,t),TT(t,i,e)}function bm(n,e){n.na&&aT(n.na,function(t,i){bn(e,i,t)}),n.h&&_L({},function(t,i){bn(e,i,t)})}function UL(n,e,t){t=Math.min(n.j.length,t);var i=n.h?er(n.h.Va,n.h,n):null;e:{var r=n.j;let o=-1;for(;;){const s=["count="+t];-1==o?0<t?(o=r[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let c=0;c<t;c++){let l=r[c].g;const h=r[c].map;if(l-=o,0>l)o=Math.max(0,r[c].g-100),a=!1;else try{jQ(h,s,"req"+l+"_")}catch{i&&i(h)}}if(a){i=s.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,i}function jL(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;rm||eL(),om||(rm(),om=!0),_T.add(e,n),n.A=0}}function RT(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=cm(er(n.Ma,n),$L(n,n.A)),n.A++,0))}function PT(n){null!=n.B&&(rt.clearTimeout(n.B),n.B=null)}function zL(n){n.g=new um(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=da(n.wa);bn(e,"RID","rpc"),bn(e,"SID",n.K),bn(e,"AID",n.V),bn(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&bn(e,"TO",n.qa),bn(e,"TYPE","xmlhttp"),bm(n,e),n.o&&n.s&&MT(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=Yy(da(e)),t.s=null,t.S=!0,fL(t,n)}function nb(n){null!=n.v&&(rt.clearTimeout(n.v),n.v=null)}function HL(n,e){var t=null;if(n.g==e){nb(n),PT(n),n.g=null;var i=2}else{if(!DT(n.i,e))return;t=e.F,DL(n.i,e),i=1}if(0!=n.H)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.G;var r=n.C;Vi(i=Hy(),new cL(i,t)),tb(n)}else jL(n);else if(3==(r=e.o)||0==r&&0<e.ca||!(1==i&&function ZQ(n,e){return!(xL(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=cm(er(n.Na,n,e),$L(n,n.C)),n.C++,0)))}(n,e)||2==i&&RT(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:Cl(n,5);break;case 4:Cl(n,10);break;case 3:Cl(n,6);break;default:Cl(n,2)}}function $L(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Cl(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var i=er(n.pb,n);t||(t=new Il("//www.google.com/images/cleardot.gif"),rt.location&&"http"==rt.location.protocol||Zy(t,"https"),Yy(t)),function zQ(n,e){const t=new zy;if(rt.Image){const i=new Image;i.onload=Fy(Qy,t,i,"TestLoadImage: loaded",!0,e),i.onerror=Fy(Qy,t,i,"TestLoadImage: error",!1,e),i.onabort=Fy(Qy,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=Fy(Qy,t,i,"TestLoadImage: timeout",!1,e),rt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else Tr(2);n.H=0,n.h&&n.h.za(e),GL(n),VL(n)}function GL(n){if(n.H=0,n.ma=[],n.h){const e=SL(n.i);(0!=e.length||0!=n.j.length)&&(UF(n.ma,e),UF(n.ma,n.j),n.i.i.length=0,JC(n.j),n.j.length=0),n.h.ya()}}function qL(n,e,t){var i=t instanceof Il?da(t):new Il(t);if(""!=i.g)e&&(i.g=e+"."+i.g),Ky(i,i.m);else{var r=rt.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var o=new Il(null);i&&Zy(o,i),e&&(o.g=e),r&&Ky(o,r),t&&(o.l=t),i=o}return e=n.Da,(t=n.F)&&e&&bn(i,t,e),bn(i,"VER",n.ra),bm(n,i),i}function WL(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new zn(t&&n.Ha&&!n.va?new gm({ob:!0}):n.va)).Oa(n.J),e}function ZL(){}function ib(){if(qd&&!(10<=Number(aQ)))throw Error("Environmental error: no available transport.")}function no(n,e){Di.call(this),this.g=new LL(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!tm(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!tm(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Kd(this)}function KL(n){wT.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function YL(){ET.call(this),this.status=1}function Kd(n){this.g=n}function Jo(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function OT(n,e,t){t||(t=0);var i=Array(16);if("string"==typeof e)for(var r=0;16>r;++r)i[r]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(r=0;16>r;++r)i[r]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var o=n.g[3],s=(e=n.g[0])+(o^(t=n.g[1])&((r=n.g[2])^o))+i[0]+3614090360&4294967295;s=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=t+(s<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(r^o))+i[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(r^o))+i[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(r^o))+i[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=e+(r^o&(t^r))+i[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=e+(r^o&(t^r))+i[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=e+(r^o&(t^r))+i[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=e+(r^o&(t^r))+i[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=e+(t^r^o)+i[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^r^o)+i[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^r^o)+i[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^r^o)+i[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=e+(r^(t|~o))+i[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=r+(e^(o|~t))+i[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(r|~e))+i[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=e+(r^(t|~o))+i[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=r+(e^(o|~t))+i[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(r|~e))+i[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=e+(r^(t|~o))+i[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=r+(e^(o|~t))+i[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(r|~e))+i[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(e=t+((s=e+(r^(t|~o))+i[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((r=o+((s=r+(e^(o|~t))+i[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~e))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(r+(s<<21&4294967295|s>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+o&4294967295}function Yt(n,e){this.h=e;for(var t=[],i=!0,r=n.length-1;0<=r;r--){var o=0|n[r];i&&o==e||(t[r]=o,i=!1)}this.g=t}(we=zn.prototype).Oa=function(n){this.M=n},we.ha=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():IT.g(),this.C=function uL(n){return n.h||(n.h=n.i())}(this.u?this.u:IT),this.g.onreadystatechange=er(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(o){return void kL(this,o)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const o of i.keys())t.set(o,i.get(o))}i=Array.from(t.keys()).find(o=>"content-type"==o.toLowerCase()),r=rt.FormData&&n instanceof rt.FormData,!(0<=BF(GQ,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of t)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{OL(this),0<this.B&&((this.L=function qQ(n){return qd&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=er(this.ua,this)):this.A=yT(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){kL(this,o)}},we.ua=function(){typeof QC<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Vi(this,"timeout"),this.abort(8))},we.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Vi(this,"complete"),Vi(this,"abort"),Jy(this))},we.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Jy(this,!0)),zn.$.N.call(this)},we.La=function(){this.s||(this.G||this.v||this.l?PL(this):this.kb())},we.kb=function(){PL(this)},we.isActive=function(){return!!this.g},we.da=function(){try{return 2<Ms(this)?this.g.status:-1}catch{return-1}},we.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},we.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),HQ(e)}},we.Ia=function(){return this.m},we.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(we=LL.prototype).ra=8,we.H=1,we.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new um(this,this.l,n);let o=this.s;if(this.U&&(o?(o=GF(o),WF(o,this.U)):o=this.U),null!==this.o||this.O||(r.I=o,o=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var i=this.j[t];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=UL(this,r,e),bn(t=da(this.I),"RID",n),bn(t,"CVER",22),this.F&&bn(t,"X-HTTP-Session-Id",this.F),bm(this,t),o&&(this.O?e="headers="+encodeURIComponent(String(FL(o)))+"&"+e:this.o&&MT(t,this.o,o)),ST(this.i,r),this.bb&&bn(t,"TYPE","init"),this.P?(bn(t,"$req",e),bn(t,"SID","null"),r.aa=!0,TT(r,t,null)):TT(r,t,e),this.H=2}}else 3==this.H&&(n?BL(this,n):0==this.j.length||TL(this.i)||BL(this))},we.Ma=function(){if(this.u=null,zL(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=cm(er(this.jb,this),n)}},we.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Tr(10),eb(this),zL(this))},we.ib=function(){null!=this.v&&(this.v=null,eb(this),RT(this),Tr(19))},we.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Tr(2)):(this.l.info("Failed to ping google.com"),Tr(1))},we.isActive=function(){return!!this.h&&this.h.isActive(this)},(we=ZL.prototype).Ba=function(){},we.Aa=function(){},we.za=function(){},we.ya=function(){},we.isActive=function(){return!0},we.Va=function(){},ib.prototype.g=function(n,e){return new no(n,e)},xi(no,Di),no.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Tr(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=qL(n,null,n.Y),tb(n)},no.prototype.close=function(){kT(this.g)},no.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=gT(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&tb(e)},no.prototype.N=function(){this.g.h=null,delete this.j,kT(this.g),delete this.g,no.$.N.call(this)},xi(KL,wT),xi(YL,ET),xi(Kd,ZL),Kd.prototype.Ba=function(){Vi(this.g,"a")},Kd.prototype.Aa=function(n){Vi(this.g,new KL(n))},Kd.prototype.za=function(n){Vi(this.g,new YL)},Kd.prototype.ya=function(){Vi(this.g,"b")},xi(Jo,function KQ(){this.blockSize=-1}),Jo.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Jo.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,i=this.m,r=this.h,o=0;o<e;){if(0==r)for(;o<=t;)OT(this,n,o),o+=this.blockSize;if("string"==typeof n){for(;o<e;)if(i[r++]=n.charCodeAt(o++),r==this.blockSize){OT(this,i),r=0;break}}else for(;o<e;)if(i[r++]=n[o++],r==this.blockSize){OT(this,i),r=0;break}}this.h=r,this.i+=e},Jo.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var i=0;32>i;i+=8)n[t++]=this.g[e]>>>i&255;return n};var YQ={};function NT(n){return-128<=n&&128>n?function rQ(n,e){var t=YQ;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Yt([0|e],0>e?-1:0)}):new Yt([0|n],0>n?-1:0)}function ks(n){if(isNaN(n)||!isFinite(n))return Yd;if(0>n)return Bi(ks(-n));for(var e=[],t=1,i=0;n>=t;i++)e[i]=n/t|0,t*=FT;return new Yt(e,0)}var FT=4294967296,Yd=NT(0),LT=NT(1),XL=NT(16777216);function ha(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Ro(n){return-1==n.h}function Bi(n){for(var e=n.g.length,t=[],i=0;i<e;i++)t[i]=~n.g[i];return new Yt(t,~n.h).add(LT)}function rb(n,e){return n.add(Bi(e))}function ob(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function wm(n,e){this.g=n,this.h=e}function sb(n,e){if(ha(e))throw Error("division by zero");if(ha(n))return new wm(Yd,Yd);if(Ro(n))return e=sb(Bi(n),e),new wm(Bi(e.g),Bi(e.h));if(Ro(e))return e=sb(n,Bi(e)),new wm(Bi(e.g),e.h);if(30<n.g.length){if(Ro(n)||Ro(e))throw Error("slowDivide_ only works with positive integers.");for(var t=LT,i=e;0>=i.X(n);)t=JL(t),i=JL(i);var r=Qd(t,1),o=Qd(i,1);for(i=Qd(i,2),t=Qd(t,2);!ha(i);){var s=o.add(i);0>=s.X(n)&&(r=r.add(t),o=s),i=Qd(i,1),t=Qd(t,1)}return e=rb(n,r.R(e)),new wm(r,e)}for(r=Yd;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,i-48),s=(o=ks(t)).R(e);Ro(s)||0<s.X(n);)s=(o=ks(t-=i)).R(e);ha(o)&&(o=LT),r=r.add(o),n=rb(n,s)}return new wm(r,n)}function JL(n){for(var e=n.g.length+1,t=[],i=0;i<e;i++)t[i]=n.D(i)<<1|n.D(i-1)>>>31;return new Yt(t,n.h)}function Qd(n,e){var t=e>>5;e%=32;for(var i=n.g.length-t,r=[],o=0;o<i;o++)r[o]=0<e?n.D(o+t)>>>e|n.D(o+t+1)<<32-e:n.D(o+t);return new Yt(r,n.h)}(we=Yt.prototype).ea=function(){if(Ro(this))return-Bi(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var i=this.D(t);n+=(0<=i?i:FT+i)*e,e*=FT}return n},we.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(ha(this))return"0";if(Ro(this))return"-"+Bi(this).toString(n);for(var e=ks(Math.pow(n,6)),t=this,i="";;){var r=sb(t,e).g,o=((0<(t=rb(t,r.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(ha(t=r))return o+i;for(;6>o.length;)o="0"+o;i=o+i}},we.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},we.X=function(n){return Ro(n=rb(this,n))?-1:ha(n)?0:1},we.abs=function(){return Ro(this)?Bi(this):this},we.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0,r=0;r<=e;r++){var o=i+(65535&this.D(r))+(65535&n.D(r)),s=(o>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=s>>>16,t[r]=(s&=65535)<<16|(o&=65535)}return new Yt(t,-2147483648&t[t.length-1]?-1:0)},we.R=function(n){if(ha(this)||ha(n))return Yd;if(Ro(this))return Ro(n)?Bi(this).R(Bi(n)):Bi(Bi(this).R(n));if(Ro(n))return Bi(this.R(Bi(n)));if(0>this.X(XL)&&0>n.X(XL))return ks(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],i=0;i<2*e;i++)t[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var o=this.D(i)>>>16,s=65535&this.D(i),a=n.D(r)>>>16,c=65535&n.D(r);t[2*i+2*r]+=s*c,ob(t,2*i+2*r),t[2*i+2*r+1]+=o*c,ob(t,2*i+2*r+1),t[2*i+2*r+1]+=s*a,ob(t,2*i+2*r+1),t[2*i+2*r+2]+=o*a,ob(t,2*i+2*r+2)}for(i=0;i<e;i++)t[i]=t[2*i+1]<<16|t[2*i];for(i=e;i<2*e;i++)t[i]=0;return new Yt(t,0)},we.gb=function(n){return sb(this,n).h},we.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)&n.D(i);return new Yt(t,this.h&n.h)},we.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)|n.D(i);return new Yt(t,this.h|n.h)},we.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)^n.D(i);return new Yt(t,this.h^n.h)},ib.prototype.createWebChannel=ib.prototype.g,no.prototype.send=no.prototype.u,no.prototype.open=no.prototype.m,no.prototype.close=no.prototype.close,$y.NO_ERROR=0,$y.TIMEOUT=8,$y.HTTP_ERROR=6,lL.COMPLETE="complete",dL.EventType=lm,lm.OPEN="a",lm.CLOSE="b",lm.ERROR="c",lm.MESSAGE="d",Di.prototype.listen=Di.prototype.O,zn.prototype.listenOnce=zn.prototype.P,zn.prototype.getLastError=zn.prototype.Sa,zn.prototype.getLastErrorCode=zn.prototype.Ia,zn.prototype.getStatus=zn.prototype.da,zn.prototype.getResponseJson=zn.prototype.Wa,zn.prototype.getResponseText=zn.prototype.ja,zn.prototype.send=zn.prototype.ha,zn.prototype.setWithCredentials=zn.prototype.Oa,Jo.prototype.digest=Jo.prototype.l,Jo.prototype.reset=Jo.prototype.reset,Jo.prototype.update=Jo.prototype.j,Yt.prototype.add=Yt.prototype.add,Yt.prototype.multiply=Yt.prototype.R,Yt.prototype.modulo=Yt.prototype.gb,Yt.prototype.compare=Yt.prototype.X,Yt.prototype.toNumber=Yt.prototype.ea,Yt.prototype.toString=Yt.prototype.toString,Yt.prototype.getBits=Yt.prototype.D,Yt.fromNumber=ks,Yt.fromString=function QL(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Bi(QL(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=ks(Math.pow(e,8)),i=Yd,r=0;r<n.length;r+=8){var o=Math.min(8,n.length-r),s=parseInt(n.substring(r,r+o),e);8>o?(o=ks(Math.pow(e,o)),i=i.R(o).add(ks(s))):i=(i=i.R(t)).add(ks(s))}return i};var QQ=Xo.createWebChannelTransport=function(){return new ib},XQ=Xo.getStatEventTarget=function(){return Hy()},VT=Xo.ErrorCode=$y,JQ=Xo.EventType=lL,eX=Xo.Event=wl,eV=Xo.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},tX=Xo.FetchXmlHttpFactory=gm,ab=Xo.WebChannel=dL,nX=Xo.XhrIo=zn,iX=Xo.Md5=Jo,Xd=Xo.Integer=Yt;const tV="@firebase/firestore";class Si{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Si.UNAUTHENTICATED=new Si(null),Si.GOOGLE_CREDENTIALS=new Si("google-credentials-uid"),Si.FIRST_PARTY=new Si("first-party-uid"),Si.MOCK_USER=new Si("mock-user");let Jd="10.5.2";const rc=new Ss.Yd("@firebase/firestore");function eh(){return rc.logLevel}function le(n,...e){if(rc.logLevel<=Ss.in.DEBUG){const t=e.map(BT);rc.debug(`Firestore (${Jd}): ${n}`,...t)}}function ei(n,...e){if(rc.logLevel<=Ss.in.ERROR){const t=e.map(BT);rc.error(`Firestore (${Jd}): ${n}`,...t)}}function Vr(n,...e){if(rc.logLevel<=Ss.in.WARN){const t=e.map(BT);rc.warn(`Firestore (${Jd}): ${n}`,...t)}}function BT(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Ce(n="Unexpected state"){const e=`FIRESTORE (${Jd}) INTERNAL ASSERTION FAILED: `+n;throw ei(e),new Error(e)}function Oe(n,e){n||Ce()}function _e(n,e){return n}const q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends cn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class wi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class nV{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class sX{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Si.UNAUTHENTICATED))}shutdown(){}}class aX{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class cX{constructor(e){this.t=e,this.currentUser=Si.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const o=l=>this.i!==r?(r=this.i,t(l)):Promise.resolve();let s=new wi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new wi,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const l=s;e.enqueueRetryable((0,X.Z)(function*(){yield l.promise,yield o(i.currentUser)}))},c=l=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?c(l):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new wi)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Oe("string"==typeof i.accessToken),new nV(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Oe(null===e||"string"==typeof e),new Si(e)}}class lX{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=Si.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class uX{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new lX(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Si.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class iV{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dX{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const i=o=>{null!=o.error&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,le("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const r=o=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?r(o):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Oe("string"==typeof t.token),this.R=t.token,new iV(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function hX(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class rV{static newId(){const t=62*Math.floor(256/62);let i="";for(;i.length<20;){const r=hX(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<t&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[o]%62))}return i}}function tt(n,e){return n<e?-1:n>e?1:0}function th(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function oV(n){return n+"\0"}class Sn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new oe(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new oe(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new oe(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Sn.fromMillis(Date.now())}static fromDate(e){return Sn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Sn(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?tt(this.nanoseconds,e.nanoseconds):tt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Fe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Fe(e)}static min(){return new Fe(new Sn(0,0))}static max(){return new Fe(new Sn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Em{constructor(e,t,i){void 0===t?t=0:t>e.length&&Ce(),void 0===i?i=e.length-t:i>e.length-t&&Ce(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===Em.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Em?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const o=e.get(r),s=t.get(r);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Nt extends Em{construct(e,t,i){return new Nt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new oe(q.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new Nt(t)}static emptyPath(){return new Nt([])}}const fX=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wn extends Em{construct(e,t,i){return new wn(e,t,i)}static isValidIdentifier(e){return fX.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new wn(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const o=()=>{if(0===i.length)throw new oe(q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let s=!1;for(;r<e.length;){const a=e[r];if("\\"===a){if(r+1===e.length)throw new oe(q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[r+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new oe(q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=c,r+=2}else"`"===a?(s=!s,r++):"."!==a||s?(i+=a,r++):(o(),r++)}if(o(),s)throw new oe(q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wn(t)}static emptyPath(){return new wn([])}}class ve{constructor(e){this.path=e}static fromPath(e){return new ve(Nt.fromString(e))}static fromName(e){return new ve(Nt.fromString(e).popFirst(5))}static empty(){return new ve(Nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Nt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Nt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new Nt(e.slice()))}}class nh{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function UT(n){return n.fields.find(e=>2===e.kind)}function Tl(n){return n.fields.filter(e=>2!==e.kind)}nh.UNKNOWN_ID=-1;class xl{constructor(e,t){this.fieldPath=e,this.kind=t}}class ih{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new ih(0,io.min())}}function sV(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Fe.fromTimestamp(1e9===i?new Sn(t+1,0):new Sn(t,i));return new io(r,ve.empty(),e)}function aV(n){return new io(n.readTime,n.key,-1)}class io{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new io(Fe.min(),ve.empty(),-1)}static max(){return new io(Fe.max(),ve.empty(),-1)}}function jT(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=ve.comparator(n.documentKey,e.documentKey),0!==t?t:tt(n.largestBatchId,e.largestBatchId))}const cV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function oc(n){return zT.apply(this,arguments)}function zT(){return zT=(0,X.Z)(function*(n){if(n.code!==q.FAILED_PRECONDITION||n.message!==cV)throw n;le("LocalStore","Unexpectedly lost primary lease")}),zT.apply(this,arguments)}class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ce(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new B((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(t,o).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof B?t:B.resolve(t)}catch(t){return B.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):B.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):B.reject(t)}static resolve(e){return new B((t,i)=>{t(e)})}static reject(e){return new B((t,i)=>{i(e)})}static waitFor(e){return new B((t,i)=>{let r=0,o=0,s=!1;e.forEach(a=>{++r,a.next(()=>{++o,s&&o===r&&t()},c=>i(c))}),s=!0,o===r&&t()})}static or(e){let t=B.resolve(!1);for(const i of e)t=t.next(r=>r?B.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,o)=>{i.push(t.call(this,r,o))}),this.waitFor(i)}static mapArray(e,t){return new B((i,r)=>{const o=e.length,s=new Array(o);let a=0;for(let c=0;c<o;c++){const l=c;t(e[l]).next(h=>{s[l]=h,++a,a===o&&i(s)},h=>r(h))}})}static doWhile(e,t){return new B((i,r)=>{const o=()=>{!0===e()?t().next(()=>{o()},r):i()};o()})}}class cb{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new wi,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new Im(e,t.error)):this.V.resolve()},this.transaction.onerror=i=>{const r=HT(i.target.error);this.V.reject(new Im(e,r))}}static open(e,t,i,r){try{return new cb(t,e.transaction(r,i))}catch(o){throw new Im(t,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(le("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new _X(t)}}class es{constructor(e,t,i){this.name=e,this.version=t,this.p=i,12.2===es.S((0,cn.z$)())&&ei("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return le("SimpleDb","Removing database:",e),Dl(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,cn.hl)())return!1;if(es.C())return!0;const e=(0,cn.z$)(),t=es.S(e),i=0<t&&t<10,r=es.v(e),o=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||o)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static v(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}O(e){var t=this;return(0,X.Z)(function*(){return t.db||(le("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const o=indexedDB.open(t.name,t.version);o.onsuccess=s=>{i(s.target.result)},o.onblocked=()=>{r(new Im(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=s=>{const a=s.target.error;r("VersionError"===a.name?new oe(q.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new oe(q.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new Im(e,a))},o.onupgradeneeded=s=>{le("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',s.oldVersion),t.p.N(s.target.result,o.transaction,s.oldVersion,t.version).next(()=>{le("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=i=>t.B(i)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var o=this;return(0,X.Z)(function*(){const s="readonly"===t;let a=0;for(;;){++a;try{o.db=yield o.O(e);const c=cb.open(o.db,e,s?"readonly":"readwrite",i),l=r(c).next(h=>(c.g(),h)).catch(h=>(c.abort(h),B.reject(h))).toPromise();return l.catch(()=>{}),yield c.m,l}catch(c){const l=c,h="FirebaseError"!==l.name&&a<3;if(le("SimpleDb","Transaction failed with error:",l.message,"Retrying:",h),o.close(),!h)return Promise.reject(l)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class gX{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Dl(this.k.delete())}}class Im extends oe{constructor(e,t){super(q.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function sc(n){return"IndexedDbTransactionError"===n.name}class _X{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(le("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(le("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Dl(i)}add(e){return le("SimpleDb","ADD",this.store.name,e,e),Dl(this.store.add(e))}get(e){return Dl(this.store.get(e)).next(t=>(void 0===t&&(t=null),le("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return le("SimpleDb","DELETE",this.store.name,e),Dl(this.store.delete(e))}count(){return le("SimpleDb","COUNT",this.store.name),Dl(this.store.count())}W(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),o=[];return this.G(r,(s,a)=>{o.push(a)}).next(()=>o)}{const r=this.store.getAll(i.range);return new B((o,s)=>{r.onerror=a=>{s(a.target.error)},r.onsuccess=a=>{o(a.target.result)}})}}j(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new B((r,o)=>{i.onerror=s=>{o(s.target.error)},i.onsuccess=s=>{r(s.target.result)}})}H(e,t){le("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.J=!1;const r=this.cursor(i);return this.G(r,(o,s,a)=>a.delete())}Y(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.G(r,t)}Z(e){const t=this.cursor({});return new B((i,r)=>{t.onerror=o=>{const s=HT(o.target.error);r(s)},t.onsuccess=o=>{const s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():i()}):i()}})}G(e,t){const i=[];return new B((r,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{const a=s.target.result;if(!a)return void r();const c=new gX(a),l=t(a.primaryKey,a.value,c);if(l instanceof B){const h=l.catch(p=>(c.done(),B.reject(p)));i.push(h)}c.isDone?r():null===c.$?a.continue():a.continue(c.$)}}).next(()=>B.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.J?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Dl(n){return new B((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=HT(i.target.error);t(r)}})}let uV=!1;function HT(n){const e=es.S((0,cn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new oe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return uV||(uV=!0,setTimeout(()=>{throw i},0)),i}}return n}class vX{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){var t=this;le("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,X.Z)(function*(){t.task=null;try{le("IndexBackiller",`Documents written: ${yield t.X.te()}`)}catch(i){sc(i)?le("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield oc(i)}yield t.ee(6e4)}))}}class yX{constructor(e,t){this.localStore=e,this.persistence=t}te(e=50){var t=this;return(0,X.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.ne(i,e))})()}ne(e,t){const i=new Set;let r=t,o=!0;return B.doWhile(()=>!0===o&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(null!==s&&!i.has(s))return le("IndexBackiller",`Processing collection: ${s}`),this.re(e,s,r).next(a=>{r-=a,i.add(s)});o=!1})).next(()=>t-r)}re(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(o=>{const s=o.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this.ie(r,o)).next(a=>(le("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,t,a))).next(()=>s.size)}))}ie(e,t){let i=e;return t.changes.forEach((r,o)=>{const s=aV(o);jT(s,i)>0&&(i=s)}),new io(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}let ro=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.se(r),this.oe=r=>i.writeSequenceNumber(r))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}return n._e=-1,n})();function Cm(n){return null==n}function Tm(n){return 0===n&&1/n==-1/0}function dV(n){return"number"==typeof n&&Number.isInteger(n)&&!Tm(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function nr(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=hV(e)),e=bX(n.get(t),e);return hV(e)}function bX(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=o}}return t}function hV(n){return n+"\x01\x01"}function Rs(n){const e=n.length;if(Oe(e>=2),2===e)return Oe("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Nt.emptyPath();const t=e-2,i=[];let r="";for(let o=0;o<e;){const s=n.indexOf("\x01",o);switch((s<0||s>t)&&Ce(),n.charAt(s+1)){case"\x01":const a=n.substring(o,s);let c;0===r.length?c=a:(r+=a,c=r,r=""),i.push(c);break;case"\x10":r+=n.substring(o,s),r+="\0";break;case"\x11":r+=n.substring(o,s+1);break;default:Ce()}o=s+2}return new Nt(i)}const fV=["userId","batchId"];function lb(n,e){return[n,nr(e)]}function pV(n,e,t){return[n,nr(e),t]}const wX={},EX=["prefixPath","collectionGroup","readTime","documentId"],IX=["prefixPath","collectionGroup","documentId"],CX=["collectionGroup","readTime","prefixPath","documentId"],TX=["canonicalId","targetId"],xX=["targetId","path"],DX=["path","targetId"],SX=["collectionId","parent"],AX=["indexId","uid"],MX=["uid","sequenceNumber"],kX=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],RX=["indexId","uid","orderedDocumentKey"],PX=["userId","collectionPath","documentId"],OX=["userId","collectionPath","largestBatchId"],NX=["userId","collectionGroup","largestBatchId"],mV=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],FX=[...mV,"documentOverlays"],gV=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],_V=gV,LX=[..._V,"indexConfiguration","indexState","indexEntries"];class $T extends lV{constructor(e,t){super(),this.ae=e,this.currentSequenceNumber=t}}function Ai(n,e){const t=_e(n);return es.M(t.ae,e)}function vV(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ac(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function yV(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class fn{constructor(e,t){this.comparator=e,this.root=t||Ui.EMPTY}insert(e,t){return new fn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ui.BLACK,null,null))}remove(e){return new fn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ui.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ub(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ub(this.root,e,this.comparator,!1)}getReverseIterator(){return new ub(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ub(this.root,e,this.comparator,!0)}}class ub{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,t&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ui{constructor(e,t,i,r,o){this.key=e,this.value=t,this.color=i??Ui.RED,this.left=r??Ui.EMPTY,this.right=o??Ui.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,o){return new Ui(e??this.key,t??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===o?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ui.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Ui.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ui.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ui.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ce();const e=this.left.check();if(e!==this.right.check())throw Ce();return e+(this.isRed()?0:1)}}Ui.EMPTY=null,Ui.RED=!0,Ui.BLACK=!1,Ui.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce()}get value(){throw Ce()}get color(){throw Ce()}get left(){throw Ce()}get right(){throw Ce()}copy(e,t,i,r,o){return this}insert(e,t,i){return new Ui(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class nn{constructor(e){this.comparator=e,this.data=new fn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new bV(this.data.getIterator())}getIteratorFrom(e){return new bV(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof nn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new nn(this.comparator);return t.data=e,t}}class bV{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function rh(n){return n.hasNext()?n.getNext():void 0}class Br{constructor(e){this.fields=e,e.sort(wn.comparator)}static empty(){return new Br([])}unionWith(e){let t=new nn(wn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Br(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return th(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class wV extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ei{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new wV("Invalid base64 string: "+o):o}}(e);return new Ei(t)}static fromUint8Array(e){const t=function(r){let o="";for(let s=0;s<r.length;++s)o+=String.fromCharCode(r[s]);return o}(e);return new Ei(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return tt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ei.EMPTY_BYTE_STRING=new Ei("");const BX=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cc(n){if(Oe(!!n),"string"==typeof n){let e=0;const t=BX.exec(n);if(Oe(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Hn(n.seconds),nanos:Hn(n.nanos)}}function Hn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function fa(n){return"string"==typeof n?Ei.fromBase64String(n):Ei.fromUint8Array(n)}function db(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function hb(n){const e=n.mapValue.fields.__previous_value__;return db(e)?hb(e):e}function xm(n){const e=cc(n.mapValue.fields.__local_write_time__.timestampValue);return new Sn(e.seconds,e.nanos)}class UX{constructor(e,t,i,r,o,s,a,c,l){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}}class lc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new lc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof lc&&e.projectId===this.projectId&&e.database===this.database}}const uc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},fb={nullValue:"NULL_VALUE"};function dc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?db(n)?4:TV(n)?9007199254740991:10:Ce()}function Ps(n,e){if(n===e)return!0;const t=dc(n);if(t!==dc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return xm(n).isEqual(xm(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const s=cc(r.timestampValue),a=cc(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,fa(n.bytesValue).isEqual(fa(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return Hn(r.geoPointValue.latitude)===Hn(o.geoPointValue.latitude)&&Hn(r.geoPointValue.longitude)===Hn(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Hn(r.integerValue)===Hn(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const s=Hn(r.doubleValue),a=Hn(o.doubleValue);return s===a?Tm(s)===Tm(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return th(n.arrayValue.values||[],e.arrayValue.values||[],Ps);case 10:return function(r,o){const s=r.mapValue.fields||{},a=o.mapValue.fields||{};if(vV(s)!==vV(a))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(void 0===a[c]||!Ps(s[c],a[c])))return!1;return!0}(n,e);default:return Ce()}var o}function Dm(n,e){return void 0!==(n.values||[]).find(t=>Ps(t,e))}function hc(n,e){if(n===e)return 0;const t=dc(n),i=dc(e);if(t!==i)return tt(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return tt(n.booleanValue,e.booleanValue);case 2:return function(o,s){const a=Hn(o.integerValue||o.doubleValue),c=Hn(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(n,e);case 3:return EV(n.timestampValue,e.timestampValue);case 4:return EV(xm(n),xm(e));case 5:return tt(n.stringValue,e.stringValue);case 6:return function(o,s){const a=fa(o),c=fa(s);return a.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),c=s.split("/");for(let l=0;l<a.length&&l<c.length;l++){const h=tt(a[l],c[l]);if(0!==h)return h}return tt(a.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){const a=tt(Hn(o.latitude),Hn(s.latitude));return 0!==a?a:tt(Hn(o.longitude),Hn(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],c=s.values||[];for(let l=0;l<a.length&&l<c.length;++l){const h=hc(a[l],c[l]);if(h)return h}return tt(a.length,c.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===uc.mapValue&&s===uc.mapValue)return 0;if(o===uc.mapValue)return 1;if(s===uc.mapValue)return-1;const a=o.fields||{},c=Object.keys(a),l=s.fields||{},h=Object.keys(l);c.sort(),h.sort();for(let p=0;p<c.length&&p<h.length;++p){const g=tt(c[p],h[p]);if(0!==g)return g;const v=hc(a[c[p]],l[h[p]]);if(0!==v)return v}return tt(c.length,h.length)}(n.mapValue,e.mapValue);default:throw Ce()}}function EV(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return tt(n,e);const t=cc(n),i=cc(e),r=tt(t.seconds,i.seconds);return 0!==r?r:tt(t.nanos,i.nanos)}function oh(n){return GT(n)}function GT(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=cc(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?fa(n.bytesValue).toBase64():"referenceValue"in n?ve.fromName(n.referenceValue).toString():"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",r=!0;for(const o of t.values||[])r?r=!1:i+=",",i+=GT(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let r="{",o=!0;for(const s of i)o?o=!1:r+=",",r+=`${s}:${GT(t.fields[s])}`;return r+"}"}(n.mapValue):Ce()}function Sl(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function qT(n){return!!n&&"integerValue"in n}function Sm(n){return!!n&&"arrayValue"in n}function IV(n){return!!n&&"nullValue"in n}function CV(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function mb(n){return!!n&&"mapValue"in n}function Am(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ac(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Am(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Am(n.arrayValue.values[t]);return e}return Object.assign({},n)}function TV(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function jX(n){return"nullValue"in n?fb:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Sl(lc.empty(),ve.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Ce()}function zX(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Sl(lc.empty(),ve.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?uc:Ce()}function xV(n,e){const t=hc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function DV(n,e){const t=hc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class ji{constructor(e){this.value=e}static empty(){return new ji({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!mb(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Am(t)}setAll(e){let t=wn.emptyPath(),i={},r=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){const c=this.getFieldsMap(t);this.applyChanges(c,i,r),i={},r=[],t=a.popLast()}s?i[a.lastSegment()]=Am(s):r.push(a.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,i,r)}delete(e){const t=this.field(e.popLast());mb(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ps(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];mb(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){ac(t,(r,o)=>e[r]=o);for(const r of i)delete e[r]}clone(){return new ji(Am(this.value))}}function SV(n){const e=[];return ac(n.fields,(t,i)=>{const r=new wn([t]);if(mb(i)){const o=SV(i.mapValue).fields;if(0===o.length)e.push(r);else for(const s of o)e.push(r.child(s))}else e.push(r)}),new Br(e)}class En{constructor(e,t,i,r,o,s,a){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new En(e,0,Fe.min(),Fe.min(),Fe.min(),ji.empty(),0)}static newFoundDocument(e,t,i,r){return new En(e,1,t,Fe.min(),i,r,0)}static newNoDocument(e,t){return new En(e,2,t,Fe.min(),Fe.min(),ji.empty(),0)}static newUnknownDocument(e,t){return new En(e,3,t,Fe.min(),Fe.min(),ji.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Fe.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ji.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ji.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof En&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new En(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class fc{constructor(e,t){this.position=e,this.inclusive=t}}function AV(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const o=e[r],s=n.position[r];if(i=o.field.isKeyField()?ve.comparator(ve.fromName(s.referenceValue),t.key):hc(s,t.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function MV(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ps(n.position[t],e.position[t]))return!1;return!0}class Mm{constructor(e,t="asc"){this.field=e,this.dir=t}}function HX(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class kV{}class Rt extends kV{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new $X(e,t,i):"array-contains"===t?new WX(e,i):"in"===t?new LV(e,i):"not-in"===t?new ZX(e,i):"array-contains-any"===t?new KX(e,i):new Rt(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new GX(e,i):new qX(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(hc(t,this.value)):null!==t&&dc(this.value)===dc(t)&&this.matchesComparison(hc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ce()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qt extends kV{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new Qt(e,t)}matches(e){return sh(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function sh(n){return"and"===n.op}function WT(n){return"or"===n.op}function ZT(n){return RV(n)&&sh(n)}function RV(n){for(const e of n.filters)if(e instanceof Qt)return!1;return!0}function KT(n){if(n instanceof Rt)return n.field.canonicalString()+n.op.toString()+oh(n.value);if(ZT(n))return n.filters.map(e=>KT(e)).join(",");{const e=n.filters.map(t=>KT(t)).join(",");return`${n.op}(${e})`}}function PV(n,e){return n instanceof Rt?(i=n,(r=e)instanceof Rt&&i.op===r.op&&i.field.isEqual(r.field)&&Ps(i.value,r.value)):n instanceof Qt?function(i,r){return r instanceof Qt&&i.op===r.op&&i.filters.length===r.filters.length&&i.filters.reduce((o,s,a)=>o&&PV(s,r.filters[a]),!0)}(n,e):void Ce();var i,r}function OV(n,e){const t=n.filters.concat(e);return Qt.create(t,n.op)}function NV(n){return n instanceof Rt?`${(t=n).field.canonicalString()} ${t.op} ${oh(t.value)}`:n instanceof Qt?function(t){return t.op.toString()+" {"+t.getFilters().map(NV).join(" ,")+"}"}(n):"Filter";var t}class $X extends Rt{constructor(e,t,i){super(e,t,i),this.key=ve.fromName(i.referenceValue)}matches(e){const t=ve.comparator(e.key,this.key);return this.matchesComparison(t)}}class GX extends Rt{constructor(e,t){super(e,"in",t),this.keys=FV(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class qX extends Rt{constructor(e,t){super(e,"not-in",t),this.keys=FV(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function FV(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>ve.fromName(i.referenceValue))}class WX extends Rt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Sm(t)&&Dm(t.arrayValue,this.value)}}class LV extends Rt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Dm(this.value.arrayValue,t)}}class ZX extends Rt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Dm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Dm(this.value.arrayValue,t)}}class KX extends Rt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Sm(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Dm(this.value.arrayValue,i))}}class YX{constructor(e,t=null,i=[],r=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}}function YT(n,e=null,t=[],i=[],r=null,o=null,s=null){return new YX(n,e,t,i,r,o,s)}function Al(n){const e=_e(n);if(null===e.ce){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>KT(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(o=i).field.canonicalString()+o.dir;var o}).join(","),Cm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>oh(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>oh(i)).join(",")),e.ce=t}return e.ce}function km(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!HX(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!PV(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!MV(n.startAt,e.startAt)&&MV(n.endAt,e.endAt)}function gb(n){return ve.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function _b(n,e){return n.filters.filter(t=>t instanceof Rt&&t.field.isEqual(e))}function VV(n,e,t){let i=fb,r=!0;for(const o of _b(n,e)){let s=fb,a=!0;switch(o.op){case"<":case"<=":s=jX(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=fb}xV({value:i,inclusive:r},{value:s,inclusive:a})<0&&(i=s,r=a)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const s=t.position[o];xV({value:i,inclusive:r},{value:s,inclusive:t.inclusive})<0&&(i=s,r=t.inclusive);break}return{value:i,inclusive:r}}function BV(n,e,t){let i=uc,r=!0;for(const o of _b(n,e)){let s=uc,a=!0;switch(o.op){case">=":case">":s=zX(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=uc}DV({value:i,inclusive:r},{value:s,inclusive:a})>0&&(i=s,r=a)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const s=t.position[o];DV({value:i,inclusive:r},{value:s,inclusive:t.inclusive})>0&&(i=s,r=t.inclusive);break}return{value:i,inclusive:r}}class pa{constructor(e,t=null,i=[],r=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null}}function UV(n,e,t,i,r,o,s,a){return new pa(n,e,t,i,r,o,s,a)}function ah(n){return new pa(n)}function jV(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function QT(n){return null!==n.collectionGroup}function ch(n){const e=_e(n);if(null===e.le){e.le=[];const t=new Set;for(const o of e.explicitOrderBy)e.le.push(o),t.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new nn(wn.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.le.push(new Mm(o,i))}),t.has(wn.keyField().canonicalString())||e.le.push(new Mm(wn.keyField(),i))}return e.le}function xr(n){const e=_e(n);return e.he||(e.he=function zV(n,e){if("F"===n.limitType)return YT(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(r=>new Mm(r.field,"desc"===r.dir?"asc":"desc"));const t=n.endAt?new fc(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new fc(n.startAt.position,n.startAt.inclusive):null;return YT(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}(e,ch(n))),e.he}function XT(n,e){const t=n.filters.concat([e]);return new pa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function vb(n,e,t){return new pa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Rm(n,e){return km(xr(n),xr(e))&&n.limitType===e.limitType}function HV(n){return`${Al(xr(n))}|lt:${n.limitType}`}function lh(n){return`Query(target=${function(t){let i=t.path.canonicalString();return null!==t.collectionGroup&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(r=>NV(r)).join(", ")}]`),Cm(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(r=>{return`${(s=r).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>oh(r)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>oh(r)).join(",")),`Target(${i})`}(xr(n))}; limitType=${n.limitType})`}function Pm(n,e){return e.isFoundDocument()&&function(i,r){const o=r.key.path;return null!==i.collectionGroup?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):ve.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(n,e)&&function(i,r){for(const o of ch(i))if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((i=n).startAt&&!function(s,a,c){const l=AV(s,a,c);return s.inclusive?l<=0:l<0}(i.startAt,ch(i),r)||i.endAt&&!function(s,a,c){const l=AV(s,a,c);return s.inclusive?l>=0:l>0}(i.endAt,ch(i),r)));var i,r}function $V(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function GV(n){return(e,t)=>{let i=!1;for(const r of ch(n)){const o=QX(r,e,t);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function QX(n,e,t){const i=n.field.isKeyField()?ve.comparator(e.key,t.key):function(o,s,a){const c=s.data.field(o),l=a.data.field(o);return null!==c&&null!==l?hc(c,l):Ce()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ce()}}class ma{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){ac(this.inner,(t,i)=>{for(const[r,o]of i)e(r,o)})}isEmpty(){return yV(this.inner)}size(){return this.innerSize}}const XX=new fn(ve.comparator);function Ur(){return XX}const qV=new fn(ve.comparator);function Om(...n){let e=qV;for(const t of n)e=e.insert(t.key,t);return e}function WV(n){let e=qV;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Os(){return Nm()}function ZV(){return Nm()}function Nm(){return new ma(n=>n.toString(),(n,e)=>n.isEqual(e))}const JX=new fn(ve.comparator),eJ=new nn(ve.comparator);function ut(...n){let e=eJ;for(const t of n)e=e.add(t);return e}const tJ=new nn(tt);function JT(){return tJ}function KV(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tm(e)?"-0":e}}function YV(n){return{integerValue:""+n}}function QV(n,e){return dV(e)?YV(e):KV(n,e)}class yb{constructor(){this._=void 0}}function nJ(n,e,t){return n instanceof uh?function(r,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&db(o)&&(o=hb(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(t,e):n instanceof Ml?JV(n,e):n instanceof kl?e2(n,e):function(r,o){const s=XV(r,o),a=t2(s)+t2(r.Ie);return qT(s)&&qT(r.Ie)?YV(a):KV(r.serializer,a)}(n,e)}function iJ(n,e,t){return n instanceof Ml?JV(n,e):n instanceof kl?e2(n,e):t}function XV(n,e){return n instanceof dh?qT(i=e)||(o=i)&&"doubleValue"in o?e:{integerValue:0}:null;var i,o}class uh extends yb{}class Ml extends yb{constructor(e){super(),this.elements=e}}function JV(n,e){const t=n2(e);for(const i of n.elements)t.some(r=>Ps(r,i))||t.push(i);return{arrayValue:{values:t}}}class kl extends yb{constructor(e){super(),this.elements=e}}function e2(n,e){let t=n2(e);for(const i of n.elements)t=t.filter(r=>!Ps(r,i));return{arrayValue:{values:t}}}class dh extends yb{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function t2(n){return Hn(n.integerValue||n.doubleValue)}function n2(n){return Sm(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Fm{constructor(e,t){this.field=e,this.transform=t}}class oJ{constructor(e,t){this.version=e,this.transformResults=t}}class An{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new An}static exists(e){return new An(void 0,e)}static updateTime(e){return new An(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bb(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class wb{}function r2(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new fh(n.key,An.none()):new hh(n.key,n.data,An.none());{const t=n.data,i=ji.empty();let r=new nn(wn.comparator);for(let o of e.fields)if(!r.has(o)){let s=t.field(o);null===s&&o.length>1&&(o=o.popLast(),s=t.field(o)),null===s?i.delete(o):i.set(o,s),r=r.add(o)}return new ga(n.key,i,new Br(r.toArray()),An.none())}}function sJ(n,e,t){n instanceof hh?function(r,o,s){const a=r.value.clone(),c=a2(r.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof ga?function(r,o,s){if(!bb(r.precondition,o))return void o.convertToUnknownDocument(s.version);const a=a2(r.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(s2(r)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Lm(n,e,t,i){return n instanceof hh?function(o,s,a,c){if(!bb(o.precondition,s))return a;const l=o.value.clone(),h=c2(o.fieldTransforms,c,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(n,e,t,i):n instanceof ga?function(o,s,a,c){if(!bb(o.precondition,s))return a;const l=c2(o.fieldTransforms,c,s),h=s.data;return h.setAll(s2(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),null===a?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(n,e,t,i):(a=t,bb(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function aJ(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),o=XV(i.transform,r||null);null!=o&&(null===t&&(t=ji.empty()),t.set(i.field,o))}return t||null}function o2(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(i=n.fieldTransforms)&&void 0===r||i&&r&&th(i,r,(o,s)=>function rJ(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(i=n.transform)instanceof Ml&&r instanceof Ml||i instanceof kl&&r instanceof kl?th(i.elements,r.elements,Ps):i instanceof dh&&r instanceof dh?Ps(i.Ie,r.Ie):i instanceof uh&&r instanceof uh);var i,r}(o,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var i,r}class hh extends wb{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class ga extends wb{constructor(e,t,i,r,o=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function s2(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function a2(n,e,t){const i=new Map;Oe(n.length===t.length);for(let r=0;r<t.length;r++){const o=n[r],s=o.transform,a=e.data.field(o.field);i.set(o.field,iJ(s,a,t[r]))}return i}function c2(n,e,t){const i=new Map;for(const r of n){const o=r.transform,s=t.data.field(r.field);i.set(r.field,nJ(o,s,e))}return i}class fh extends wb{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ex extends wb{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class tx{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(e.key)&&sJ(o,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Lm(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Lm(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=ZV();return this.mutations.forEach(r=>{const o=e.get(r.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=t.has(r.key)?null:a;const c=r2(s,a);null!==c&&i.set(r.key,c),s.isValidDocument()||s.convertToNoDocument(Fe.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ut())}isEqual(e){return this.batchId===e.batchId&&th(this.mutations,e.mutations,(t,i)=>o2(t,i))&&th(this.baseMutations,e.baseMutations,(t,i)=>o2(t,i))}}class nx{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Oe(e.mutations.length===i.length);let r=JX;const o=e.mutations;for(let s=0;s<o.length;s++)r=r.insert(o[s].key,i[s].version);return new nx(e,t,i,r)}}class ix{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class lJ{constructor(e,t){this.count=e,this.unchangedNames=t}}var li,Ft;function l2(n){switch(n){default:return Ce();case q.CANCELLED:case q.UNKNOWN:case q.DEADLINE_EXCEEDED:case q.RESOURCE_EXHAUSTED:case q.INTERNAL:case q.UNAVAILABLE:case q.UNAUTHENTICATED:return!1;case q.INVALID_ARGUMENT:case q.NOT_FOUND:case q.ALREADY_EXISTS:case q.PERMISSION_DENIED:case q.FAILED_PRECONDITION:case q.ABORTED:case q.OUT_OF_RANGE:case q.UNIMPLEMENTED:case q.DATA_LOSS:return!0}}function u2(n){if(void 0===n)return ei("GRPC error has no .code"),q.UNKNOWN;switch(n){case li.OK:return q.OK;case li.CANCELLED:return q.CANCELLED;case li.UNKNOWN:return q.UNKNOWN;case li.DEADLINE_EXCEEDED:return q.DEADLINE_EXCEEDED;case li.RESOURCE_EXHAUSTED:return q.RESOURCE_EXHAUSTED;case li.INTERNAL:return q.INTERNAL;case li.UNAVAILABLE:return q.UNAVAILABLE;case li.UNAUTHENTICATED:return q.UNAUTHENTICATED;case li.INVALID_ARGUMENT:return q.INVALID_ARGUMENT;case li.NOT_FOUND:return q.NOT_FOUND;case li.ALREADY_EXISTS:return q.ALREADY_EXISTS;case li.PERMISSION_DENIED:return q.PERMISSION_DENIED;case li.FAILED_PRECONDITION:return q.FAILED_PRECONDITION;case li.ABORTED:return q.ABORTED;case li.OUT_OF_RANGE:return q.OUT_OF_RANGE;case li.UNIMPLEMENTED:return q.UNIMPLEMENTED;case li.DATA_LOSS:return q.DATA_LOSS;default:return Ce()}}(Ft=li||(li={}))[Ft.OK=0]="OK",Ft[Ft.CANCELLED=1]="CANCELLED",Ft[Ft.UNKNOWN=2]="UNKNOWN",Ft[Ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ft[Ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ft[Ft.NOT_FOUND=5]="NOT_FOUND",Ft[Ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ft[Ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ft[Ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ft[Ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ft[Ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ft[Ft.ABORTED=10]="ABORTED",Ft[Ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ft[Ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ft[Ft.INTERNAL=13]="INTERNAL",Ft[Ft.UNAVAILABLE=14]="UNAVAILABLE",Ft[Ft.DATA_LOSS=15]="DATA_LOSS";function d2(){return new TextEncoder}const uJ=new Xd([4294967295,4294967295],0);function h2(n){const e=d2().encode(n),t=new iX;return t.update(e),new Uint8Array(t.digest())}function f2(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Xd([t,i],0),new Xd([r,o],0)]}class rx{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Vm(`Invalid padding: ${t}`);if(i<0)throw new Vm(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new Vm(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new Vm(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ee=Xd.fromNumber(this.Te)}de(e,t,i){let r=e.add(t.multiply(Xd.fromNumber(i)));return 1===r.compare(uJ)&&(r=new Xd([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=h2(e),[i,r]=f2(t);for(let o=0;o<this.hashCount;o++){const s=this.de(i,r,o);if(!this.Ae(s))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new rx(o,r,t);return i.forEach(a=>s.insert(a)),s}insert(e){if(0===this.Te)return;const t=h2(e),[i,r]=f2(t);for(let o=0;o<this.hashCount;o++){const s=this.de(i,r,o);this.Re(s)}}Re(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Vm extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Bm{constructor(e,t,i,r,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,Um.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Bm(Fe.min(),r,new fn(tt),Ur(),ut())}}class Um{constructor(e,t,i,r,o){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Um(i,t,ut(),ut(),ut())}}class Ib{constructor(e,t,i,r){this.Ve=e,this.removedTargetIds=t,this.key=i,this.me=r}}class p2{constructor(e,t){this.targetId=e,this.fe=t}}class m2{constructor(e,t,i=Ei.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class g2{constructor(){this.ge=0,this.pe=v2(),this.ye=Ei.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=ut(),t=ut(),i=ut();return this.pe.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:Ce()}}),new Um(this.ye,this.we,e,t,i)}Fe(){this.Se=!1,this.pe=v2()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class dJ{constructor(e){this.Le=e,this.ke=new Map,this.qe=Ur(),this.Qe=_2(),this.Ke=new fn(tt)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,t=>{const i=this.ze(t);switch(e.state){case 0:this.je(t)&&i.Ce(e.resumeToken);break;case 1:i.Ne(),i.be||i.Fe(),i.Ce(e.resumeToken);break;case 2:i.Ne(),i.be||this.removeTarget(t);break;case 3:this.je(t)&&(i.Be(),i.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),i.Ce(e.resumeToken));break;default:Ce()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach((i,r)=>{this.je(r)&&t(r)})}Je(e){const t=e.targetId,i=e.fe.count,r=this.Ye(t);if(r){const o=r.target;if(gb(o))if(0===i){const s=new ve(o.path);this.We(t,s,En.newNoDocument(s,Fe.min()))}else Oe(1===i);else{const s=this.Ze(t);if(s!==i){const a=this.Xe(e),c=a?this.et(a,e,s):1;0!==c&&(this.He(t),this.Ke=this.Ke.insert(t,2===c?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=t;let s,a;try{s=fa(i).toUint8Array()}catch(c){if(c instanceof wV)return Vr("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new rx(s,r,o)}catch(c){return Vr(c instanceof Vm?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return 0===a.Te?null:a}et(e,t,i){return t.fe.count===i-this.rt(e,t.targetId)?0:2}rt(e,t){const i=this.Le.getRemoteKeysForTarget(t);let r=0;return i.forEach(o=>{const s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(t,o,null),r++)}),r}it(e){const t=new Map;this.ke.forEach((o,s)=>{const a=this.Ye(s);if(a){if(o.current&&gb(a.target)){const c=new ve(a.target.path);null!==this.qe.get(c)||this.st(s,c)||this.We(s,c,En.newNoDocument(c,e))}o.De&&(t.set(s,o.ve()),o.Fe())}});let i=ut();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{const l=this.Ye(c);return!l||"TargetPurposeLimboResolution"===l.purpose||(a=!1,!1)}),a&&(i=i.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));const r=new Bm(e,t,this.Ke,this.qe,i);return this.qe=Ur(),this.Qe=_2(),this.Ke=new fn(tt),r}Ue(e,t){if(!this.je(e))return;const i=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,i),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,i){if(!this.je(e))return;const r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),i&&(this.qe=this.qe.insert(t,i))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new g2,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new nn(tt),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||le("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new g2),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function _2(){return new fn(ve.comparator)}function v2(){return new fn(ve.comparator)}const hJ={asc:"ASCENDING",desc:"DESCENDING"},fJ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pJ={and:"AND",or:"OR"};class mJ{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ox(n,e){return n.useProto3Json||Cm(e)?e:{value:e}}function ph(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function y2(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function gJ(n,e){return ph(n,e.toTimestamp())}function ti(n){return Oe(!!n),Fe.fromTimestamp(function(t){const i=cc(t);return new Sn(i.seconds,i.nanos)}(n))}function sx(n,e){return(i=n,new Nt(["projects",i.projectId,"databases",i.database])).child("documents").child(e).canonicalString();var i}function b2(n){const e=Nt.fromString(n);return Oe(A2(e)),e}function jm(n,e){return sx(n.databaseId,e.path)}function Ns(n,e){const t=b2(e);if(t.get(1)!==n.databaseId.projectId)throw new oe(q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new oe(q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ve(E2(t))}function ax(n,e){return sx(n.databaseId,e)}function w2(n){const e=b2(n);return 4===e.length?Nt.emptyPath():E2(e)}function zm(n){return new Nt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function E2(n){return Oe(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function I2(n,e,t){return{name:jm(n,e),fields:t.value.mapValue.fields}}function C2(n,e,t){const i=Ns(n,e.name),r=ti(e.updateTime),o=e.createTime?ti(e.createTime):Fe.min(),s=new ji({mapValue:{fields:e.fields}}),a=En.newFoundDocument(i,r,o,s);return t&&a.setHasCommittedMutations(),t?a.setHasCommittedMutations():a}function Hm(n,e){let t;if(e instanceof hh)t={update:I2(n,e.key,e.value)};else if(e instanceof fh)t={delete:jm(n,e.key)};else if(e instanceof ga)t={update:I2(n,e.key,e.data),updateMask:CJ(e.fieldMask)};else{if(!(e instanceof ex))return Ce();t={verify:jm(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(o,s){const a=s.transform;if(a instanceof uh)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ml)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof kl)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof dh)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw Ce()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:gJ(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:Ce()),t;var o}function cx(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?An.updateTime(ti(o.updateTime)):void 0!==o.exists?An.exists(o.exists):An.none():An.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(s,a){let c=null;"setToServerValue"in a?(Oe("REQUEST_TIME"===a.setToServerValue),c=new uh):"appendMissingElements"in a?c=new Ml(a.appendMissingElements.values||[]):"removeAllFromArray"in a?c=new kl(a.removeAllFromArray.values||[]):"increment"in a?c=new dh(s,a.increment):Ce();const l=wn.fromServerFormat(a.fieldPath);return new Fm(l,c)}(n,r)):[];var o;if(e.update){const r=Ns(n,e.update.name),o=new ji({mapValue:{fields:e.update.fields}});if(e.updateMask){const s=new Br((e.updateMask.fieldPaths||[]).map(h=>wn.fromServerFormat(h)));return new ga(r,o,s,t,i)}return new hh(r,o,t,i)}if(e.delete){const r=Ns(n,e.delete);return new fh(r,t)}if(e.verify){const r=Ns(n,e.verify);return new ex(r,t)}return Ce()}function T2(n,e){return{documents:[ax(n,e.path)]}}function lx(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=ax(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=ax(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(c){if(0!==c.length)return S2(Qt.create(c,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const o=function(c){if(0!==c.length)return c.map(l=>{return{field:pc((p=l).field),direction:wJ(p.dir)};var p})}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const s=ox(n,e.limit);return null!==s&&(t.structuredQuery.limit=s),e.startAt&&(t.structuredQuery.startAt={before:(c=e.startAt).inclusive,values:c.position}),e.endAt&&(t.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),t;var c}function x2(n){let e=w2(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){Oe(1===i);const h=t.from[0];h.allDescendants?r=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=function(p){const g=D2(p);return g instanceof Qt&&ZT(g)?g.getFilters():[g]}(t.where));let s=[];t.orderBy&&(s=t.orderBy.map(g=>{return new Mm(mh((E=g).field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction));var E}));let a=null;t.limit&&(a=function(p){let g;return g="object"==typeof p?p.value:p,Cm(g)?null:g}(t.limit));let c=null;var p;t.startAt&&(c=new fc((p=t.startAt).values||[],!!p.before));let l=null;return t.endAt&&(l=function(p){return new fc(p.values||[],!p.before)}(t.endAt)),UV(e,r,s,o,a,"F",c,l)}function D2(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=mh(t.unaryFilter.field);return Rt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=mh(t.unaryFilter.field);return Rt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=mh(t.unaryFilter.field);return Rt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=mh(t.unaryFilter.field);return Rt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Ce()}}(n):void 0!==n.fieldFilter?Rt.create(mh((t=n).fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ce()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return Qt.create(t.compositeFilter.filters.map(i=>D2(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Ce()}}(t.compositeFilter.op))}(n):Ce();var t}function wJ(n){return hJ[n]}function EJ(n){return fJ[n]}function IJ(n){return pJ[n]}function pc(n){return{fieldPath:n.canonicalString()}}function mh(n){return wn.fromServerFormat(n.fieldPath)}function S2(n){return n instanceof Rt?function(t){if("=="===t.op){if(CV(t.value))return{unaryFilter:{field:pc(t.field),op:"IS_NAN"}};if(IV(t.value))return{unaryFilter:{field:pc(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(CV(t.value))return{unaryFilter:{field:pc(t.field),op:"IS_NOT_NAN"}};if(IV(t.value))return{unaryFilter:{field:pc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pc(t.field),op:EJ(t.op),value:t.value}}}(n):n instanceof Qt?function(t){const i=t.getFilters().map(r=>S2(r));return 1===i.length?i[0]:{compositeFilter:{op:IJ(t.op),filters:i}}}(n):Ce()}function CJ(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function A2(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class _a{constructor(e,t,i,r,o=Fe.min(),s=Fe.min(),a=Ei.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new _a(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new _a(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _a(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _a(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class M2{constructor(e){this.ut=e}}function k2(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Cb(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:jm(o=n.ut,(s=e).key),fields:s.data.value.mapValue.fields,updateTime:ph(o,s.version.toTimestamp()),createTime:ph(o,s.createTime.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:Rl(e.version)};else{if(!e.isUnknownDocument())return Ce();i.unknownDocument={path:t.path.toArray(),version:Rl(e.version)}}var o,s;return i}function Cb(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Rl(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Pl(n){const e=new Sn(n.seconds,n.nanoseconds);return Fe.fromTimestamp(e)}function Ol(n,e){const t=(e.baseMutations||[]).map(o=>cx(n.ut,o));for(let o=0;o<e.mutations.length-1;++o)o+1<e.mutations.length&&void 0!==e.mutations[o+1].transform&&(e.mutations[o].updateTransforms=e.mutations[o+1].transform.fieldTransforms,e.mutations.splice(o+1,1),++o);const i=e.mutations.map(o=>cx(n.ut,o)),r=Sn.fromMillis(e.localWriteTimeMs);return new tx(e.batchId,r,t,i)}function $m(n){const e=Pl(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Pl(n.lastLimboFreeSnapshotVersion):Fe.min();let i;return i=void 0!==n.query.documents?(Oe(1===(o=n.query).documents.length),xr(ah(w2(o.documents[0])))):function(o){return xr(x2(o))}(n.query),new _a(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Ei.fromBase64String(n.resumeToken));var o}function R2(n,e){const t=Rl(e.snapshotVersion),i=Rl(e.lastLimboFreeSnapshotVersion);let r;r=gb(e.target)?T2(n.ut,e.target):lx(n.ut,e.target);const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Al(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function ux(n){const e=x2({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?vb(e,e.limit,"L"):e}function dx(n,e){return new ix(e.largestBatchId,cx(n.ut,e.overlayMutation))}function P2(n,e){const t=e.path.lastSegment();return[n,nr(e.path.popLast()),t]}function O2(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Rl(i.readTime),documentKey:nr(i.documentKey.path),largestBatchId:i.largestBatchId}}class xJ{getBundleMetadata(e,t){return N2(e).get(t).next(i=>{if(i)return{id:(o=i).bundleId,createTime:Pl(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return N2(e).put({bundleId:(r=t).id,createTime:Rl(ti(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return F2(e).get(t).next(i=>{if(i)return{name:(o=i).name,query:ux(o.bundledQuery),readTime:Pl(o.readTime)};var o})}saveNamedQuery(e,t){return F2(e).put({name:(r=t).name,readTime:Rl(ti(r.readTime)),bundledQuery:r.bundledQuery});var r}}function N2(n){return Ai(n,"bundles")}function F2(n){return Ai(n,"namedQueries")}class Tb{constructor(e,t){this.serializer=e,this.userId=t}static ct(e,t){return new Tb(e,t.uid||"")}getOverlay(e,t){return Gm(e).get(P2(this.userId,t)).next(i=>i?dx(this.serializer,i):null)}getOverlays(e,t){const i=Os();return B.forEach(t,r=>this.getOverlay(e,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((o,s)=>{const a=new ix(t,s);r.push(this.lt(e,a))}),B.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(s=>r.add(nr(s.getCollectionPath())));const o=[];return r.forEach(s=>{const a=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,i+1],!1,!0);o.push(Gm(e).H("collectionPathOverlayIndex",a))}),B.waitFor(o)}getOverlaysForCollection(e,t,i){const r=Os(),o=nr(t),s=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Gm(e).W("collectionPathOverlayIndex",s).next(a=>{for(const c of a){const l=dx(this.serializer,c);r.set(l.getKey(),l)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const o=Os();let s;const a=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Gm(e).Y({index:"collectionGroupOverlayIndex",range:a},(c,l,h)=>{const p=dx(this.serializer,l);o.size()<r||p.largestBatchId===s?(o.set(p.getKey(),p),s=p.largestBatchId):h.done()}).next(()=>o)}lt(e,t){return Gm(e).put(function(r,o,s){const[a,c,l]=P2(o,s.mutation.key);return{userId:o,collectionPath:c,documentId:l,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:Hm(r.ut,s.mutation)}}(this.serializer,this.userId,t))}}function Gm(n){return Ai(n,"documentOverlays")}class Nl{constructor(){}ht(e,t){this.Pt(e,t),t.It()}Pt(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et(Hn(e.integerValue));else if("doubleValue"in e){const i=Hn(e.doubleValue);isNaN(i)?this.Tt(t,13):(this.Tt(t,15),Tm(i)?t.Et(0):t.Et(i))}else if("timestampValue"in e){const i=e.timestampValue;this.Tt(t,20),"string"==typeof i?t.dt(i):(t.dt(`${i.seconds||""}`),t.Et(i.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(fa(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.Tt(t,45),t.Et(i.latitude||0),t.Et(i.longitude||0)}else"mapValue"in e?TV(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):Ce()}At(e,t){this.Tt(t,25),this.wt(e,t)}wt(e,t){t.dt(e)}gt(e,t){const i=e.fields||{};this.Tt(t,55);for(const r of Object.keys(i))this.At(r,t),this.Pt(i[r],t)}yt(e,t){const i=e.values||[];this.Tt(t,50);for(const r of i)this.Pt(r,t)}ft(e,t){this.Tt(t,37),ve.fromName(e).path.forEach(i=>{this.Tt(t,60),this.wt(i,t)})}Tt(e,t){e.Et(t)}Rt(e){e.Et(2)}}function DJ(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function L2(n){const e=64-function(i){let r=0;for(let o=0;o<8;++o){const s=DJ(255&i[o]);if(r+=s,8!==s)break}return r}(n);return Math.ceil(e/8)}Nl.St=new Nl;class SJ{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Dt(i.value),i=t.next();this.Ct()}vt(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ft(i.value),i=t.next();this.Mt()}xt(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Dt(i);else if(i<2048)this.Dt(960|i>>>6),this.Dt(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Dt(480|i>>>12),this.Dt(128|63&i>>>6),this.Dt(128|63&i);else{const r=t.codePointAt(0);this.Dt(240|r>>>18),this.Dt(128|63&r>>>12),this.Dt(128|63&r>>>6),this.Dt(128|63&r)}}this.Ct()}Ot(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ft(i);else if(i<2048)this.Ft(960|i>>>6),this.Ft(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ft(480|i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i);else{const r=t.codePointAt(0);this.Ft(240|r>>>18),this.Ft(128|63&r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r)}}this.Mt()}Nt(e){const t=this.Bt(e),i=L2(t);this.Lt(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}kt(e){const t=this.Bt(e),i=L2(t);this.Lt(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Bt(e){const t=function(o){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}Dt(e){const t=255&e;0===t?(this.Qt(0),this.Qt(255)):255===t?(this.Qt(255),this.Qt(0)):this.Qt(t)}Ft(e){const t=255&e;0===t?(this.$t(0),this.$t(255)):255===t?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Lt(1),this.buffer[this.position++]=e}$t(e){this.Lt(1),this.buffer[this.position++]=~e}Lt(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class AJ{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class MJ{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class qm{constructor(){this.Wt=new SJ,this.Gt=new AJ(this.Wt),this.zt=new MJ(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return 0===e?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class Fl{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}Ht(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new Fl(this.indexId,this.documentKey,this.arrayValue,i)}}function mc(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=V2(n.arrayValue,e.arrayValue),0!==t?t:(t=V2(n.directionalValue,e.directionalValue),0!==t?t:ve.comparator(n.documentKey,e.documentKey)))}function V2(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class B2{constructor(e){this.Jt=new nn((t,i)=>wn.comparator(t.field,i.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const t of e.filters){const i=t;i.isInequality()?this.Jt=this.Jt.add(i):this.Zt.push(i)}}get Xt(){return this.Jt.size>1}en(e){if(Oe(e.collectionGroup===this.collectionId),this.Xt)return!1;const t=UT(e);if(void 0!==t&&!this.tn(t))return!1;const i=Tl(e);let r=new Set,o=0,s=0;for(;o<i.length&&this.tn(i[o]);++o)r=r.add(i[o].fieldPath.canonicalString());if(o===i.length)return!0;if(this.Jt.size>0){const a=this.Jt.getIterator().getNext();if(!r.has(a.field.canonicalString())){const c=i[o];if(!this.nn(a,c)||!this.rn(this.Yt[s++],c))return!1}++o}for(;o<i.length;++o)if(s>=this.Yt.length||!this.rn(this.Yt[s++],i[o]))return!1;return!0}sn(){if(this.Xt)return null;let e=new nn(wn.comparator);const t=[];for(const i of this.Zt)if(!i.field.isKeyField())if("array-contains"===i.op||"array-contains-any"===i.op)t.push(new xl(i.field,2));else{if(e.has(i.field))continue;e=e.add(i.field),t.push(new xl(i.field,0))}for(const i of this.Yt)i.field.isKeyField()||e.has(i.field)||(e=e.add(i.field),t.push(new xl(i.field,"asc"===i.dir?0:1)));return new nh(nh.UNKNOWN_ID,this.collectionId,t,ih.empty())}tn(e){for(const t of this.Zt)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}rn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function U2(n){var e,t;if(Oe(n instanceof Rt||n instanceof Qt),n instanceof Rt){if(n instanceof LV){const r=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(o=>Rt.create(n.field,"==",o)))||[];return Qt.create(r,"or")}return n}const i=n.filters.map(r=>U2(r));return Qt.create(i,n.op)}function kJ(n){if(0===n.getFilters().length)return[];const e=px(U2(n));return Oe(j2(e)),hx(e)||fx(e)?[e]:e.getFilters()}function hx(n){return n instanceof Rt}function fx(n){return n instanceof Qt&&ZT(n)}function j2(n){return hx(n)||fx(n)||function(t){if(t instanceof Qt&&WT(t)){for(const i of t.getFilters())if(!hx(i)&&!fx(i))return!1;return!0}return!1}(n)}function px(n){if(Oe(n instanceof Rt||n instanceof Qt),n instanceof Rt)return n;if(1===n.filters.length)return px(n.filters[0]);const e=n.filters.map(i=>px(i));let t=Qt.create(e,n.op);return t=xb(t),j2(t)?t:(Oe(t instanceof Qt),Oe(sh(t)),Oe(t.filters.length>1),t.filters.reduce((i,r)=>mx(i,r)))}function mx(n,e){let t;return Oe(n instanceof Rt||n instanceof Qt),Oe(e instanceof Rt||e instanceof Qt),t=n instanceof Rt?e instanceof Rt?Qt.create([n,e],"and"):z2(n,e):e instanceof Rt?z2(e,n):function(r,o){if(Oe(r.filters.length>0&&o.filters.length>0),sh(r)&&sh(o))return OV(r,o.getFilters());const s=WT(r)?r:o,a=WT(r)?o:r,c=s.filters.map(l=>mx(l,a));return Qt.create(c,"or")}(n,e),xb(t)}function z2(n,e){if(sh(e))return OV(e,n.getFilters());{const t=e.filters.map(i=>mx(n,i));return Qt.create(t,"or")}}function xb(n){if(Oe(n instanceof Rt||n instanceof Qt),n instanceof Rt)return n;const e=n.getFilters();if(1===e.length)return xb(e[0]);if(RV(n))return n;const t=e.map(r=>xb(r)),i=[];return t.forEach(r=>{r instanceof Rt?i.push(r):r instanceof Qt&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:Qt.create(i,n.op)}class RJ{constructor(){this.on=new gx}addToCollectionParentIndex(e,t){return this.on.add(t),B.resolve()}getCollectionParents(e,t){return B.resolve(this.on.getEntries(t))}addFieldIndex(e,t){return B.resolve()}deleteFieldIndex(e,t){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,t){return B.resolve()}getDocumentsMatchingTarget(e,t){return B.resolve(null)}getIndexType(e,t){return B.resolve(0)}getFieldIndexes(e,t){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,t){return B.resolve(io.min())}getMinOffsetFromCollectionGroup(e,t){return B.resolve(io.min())}updateCollectionGroup(e,t,i){return B.resolve()}updateIndexEntries(e,t){return B.resolve()}}class gx{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new nn(Nt.comparator),o=!r.has(i);return this.index[t]=r.add(i),o}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new nn(Nt.comparator)).toArray()}}const Db=new Uint8Array(0);class PJ{constructor(e,t){this.user=e,this.databaseId=t,this._n=new gx,this.an=new ma(i=>Al(i),(i,r)=>km(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this._n.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this._n.add(t)});const o={collectionId:i,parent:nr(r)};return H2(e).put(o)}return B.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[oV(t),""],!1,!0);return H2(e).W(r).next(o=>{for(const s of o){if(s.collectionId!==t)break;i.push(Rs(s.parent))}return i})}addFieldIndex(e,t){const i=Wm(e),r={indexId:(a=t).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])};var a;delete r.indexId;const o=i.add(r);if(t.indexState){const s=_h(e);return o.next(a=>{s.put(O2(a,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return o.next()}deleteFieldIndex(e,t){const i=Wm(e),r=_h(e),o=gh(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=Wm(e),i=gh(e),r=_h(e);return t.H().next(()=>i.H()).next(()=>r.H())}createTargetIndexes(e,t){return B.forEach(this.un(t),i=>this.getIndexType(e,i).next(r=>{if(0===r||1===r){const o=new B2(i).sn();if(null!=o)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,t){const i=gh(e);let r=!0;const o=new Map;return B.forEach(this.un(t),s=>this.cn(e,s).next(a=>{r&&(r=!!a),o.set(s,a)})).next(()=>{if(r){let s=ut();const a=[];return B.forEach(o,(c,l)=>{var U;le("IndexedDbIndexManager",`Using index ${U=c,`id=${U.indexId}|cg=${U.collectionGroup}|f=${U.fields.map(Q=>`${Q.fieldPath}:${Q.kind}`).join(",")}`} to execute ${Al(t)}`);const h=function(U,Q){const pe=UT(Q);if(void 0===pe)return null;for(const ke of _b(U,pe.fieldPath))switch(ke.op){case"array-contains-any":return ke.value.arrayValue.values||[];case"array-contains":return[ke.value]}return null}(l,c),p=function(U,Q){const pe=new Map;for(const ke of Tl(Q))for(const Je of _b(U,ke.fieldPath))switch(Je.op){case"==":case"in":pe.set(ke.fieldPath.canonicalString(),Je.value);break;case"not-in":case"!=":return pe.set(ke.fieldPath.canonicalString(),Je.value),Array.from(pe.values())}return null}(l,c),g=function(U,Q){const pe=[];let ke=!0;for(const Je of Tl(Q)){const rn=0===Je.kind?VV(U,Je.fieldPath,U.startAt):BV(U,Je.fieldPath,U.startAt);pe.push(rn.value),ke&&(ke=rn.inclusive)}return new fc(pe,ke)}(l,c),v=function(U,Q){const pe=[];let ke=!0;for(const Je of Tl(Q)){const rn=0===Je.kind?BV(U,Je.fieldPath,U.endAt):VV(U,Je.fieldPath,U.endAt);pe.push(rn.value),ke&&(ke=rn.inclusive)}return new fc(pe,ke)}(l,c),E=this.ln(c,l,g),C=this.ln(c,l,v),x=this.hn(c,l,p),N=this.Pn(c.indexId,h,E,g.inclusive,C,v.inclusive,x);return B.forEach(N,k=>i.j(k,t.limit).next(U=>{U.forEach(Q=>{const pe=ve.fromSegments(Q.documentKey);s.has(pe)||(s=s.add(pe),a.push(pe))})}))}).next(()=>a)}return B.resolve(null)})}un(e){let t=this.an.get(e);return t||(t=0===e.filters.length?[e]:kJ(Qt.create(e.filters,"and")).map(i=>YT(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.an.set(e,t),t)}Pn(e,t,i,r,o,s,a){const c=(null!=t?t.length:1)*Math.max(i.length,o.length),l=c/(null!=t?t.length:1),h=[];for(let p=0;p<c;++p){const g=t?this.In(t[p/l]):Db,v=this.Tn(e,g,i[p%l],r),E=this.En(e,g,o[p%l],s),C=a.map(x=>this.Tn(e,g,x,!0));h.push(...this.createRange(v,E,C))}return h}Tn(e,t,i,r){const o=new Fl(e,ve.empty(),t,i);return r?o:o.Ht()}En(e,t,i,r){const o=new Fl(e,ve.empty(),t,i);return r?o.Ht():o}cn(e,t){const i=new B2(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(o=>{let s=null;for(const a of o)i.en(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(e,t){let i=2;const r=this.un(t);return B.forEach(r,o=>this.cn(e,o).next(s=>{s?0!==i&&s.fields.length<function(c){let l=new nn(wn.comparator),h=!1;for(const p of c.filters)for(const g of p.getFlattenedFilters())g.field.isKeyField()||("array-contains"===g.op||"array-contains-any"===g.op?h=!0:l=l.add(g.field));for(const p of c.orderBy)p.field.isKeyField()||(l=l.add(p.field));return l.size+(h?1:0)}(o)&&(i=1):i=0})).next(()=>null!==t.limit&&r.length>1&&2===i?1:i)}dn(e,t){const i=new qm;for(const r of Tl(e)){const o=t.data.field(r.fieldPath);if(null==o)return null;const s=i.jt(r.kind);Nl.St.ht(o,s)}return i.Ut()}In(e){const t=new qm;return Nl.St.ht(e,t.jt(0)),t.Ut()}An(e,t){const i=new qm;return Nl.St.ht(Sl(this.databaseId,t),i.jt(function(o){const s=Tl(o);return 0===s.length?0:s[s.length-1].kind}(e))),i.Ut()}hn(e,t,i){if(null===i)return[];let r=[];r.push(new qm);let o=0;for(const s of Tl(e)){const a=i[o++];for(const c of r)if(this.Rn(t,s.fieldPath)&&Sm(a))r=this.Vn(r,s,a);else{const l=c.jt(s.kind);Nl.St.ht(a,l)}}return this.mn(r)}ln(e,t,i){return this.hn(e,t,i.position)}mn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Ut();return t}Vn(e,t,i){const r=[...e],o=[];for(const s of i.arrayValue.values||[])for(const a of r){const c=new qm;c.seed(a.Ut()),Nl.St.ht(s,c.jt(t.kind)),o.push(c)}return o}Rn(e,t){return!!e.filters.find(i=>i instanceof Rt&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=Wm(e),r=_h(e);return(t?i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.W()).next(o=>{const s=[];return B.forEach(o,a=>r.get([a.indexId,this.uid]).next(c=>{s.push(function(h,p){const g=p?new ih(p.sequenceNumber,new io(Pl(p.readTime),new ve(Rs(p.documentKey)),p.largestBatchId)):ih.empty(),v=h.fields.map(([E,C])=>new xl(wn.fromServerFormat(E),C));return new nh(h.indexId,h.collectionGroup,v,g)}(a,c))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==o?o:tt(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=Wm(e),o=_h(e);return this.fn(e).next(s=>r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(a=>B.forEach(a,c=>o.put(O2(c.indexId,this.user,s,i)))))}updateIndexEntries(e,t){const i=new Map;return B.forEach(t,(r,o)=>{const s=i.get(r.collectionGroup);return(s?B.resolve(s):this.getFieldIndexes(e,r.collectionGroup)).next(a=>(i.set(r.collectionGroup,a),B.forEach(a,c=>this.gn(e,r,c).next(l=>{const h=this.pn(o,c);return l.isEqual(h)?B.resolve():this.yn(e,o,c,l,h)}))))})}wn(e,t,i,r){return gh(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.An(i,t.key),documentKey:t.key.path.toArray()})}Sn(e,t,i,r){return gh(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.An(i,t.key),t.key.path.toArray()])}gn(e,t,i){const r=gh(e);let o=new nn(mc);return r.Y({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.An(i,t)])},(s,a)=>{o=o.add(new Fl(i.indexId,t,a.arrayValue,a.directionalValue))}).next(()=>o)}pn(e,t){let i=new nn(mc);const r=this.dn(t,e);if(null==r)return i;const o=UT(t);if(null!=o){const s=e.data.field(o.fieldPath);if(Sm(s))for(const a of s.arrayValue.values||[])i=i.add(new Fl(t.indexId,e.key,this.In(a),r))}else i=i.add(new Fl(t.indexId,e.key,Db,r));return i}yn(e,t,i,r,o){le("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const s=[];return function(c,l,h,p,g){const v=c.getIterator(),E=l.getIterator();let C=rh(v),x=rh(E);for(;C||x;){let N=!1,k=!1;if(C&&x){const U=h(C,x);U<0?k=!0:U>0&&(N=!0)}else null!=C?k=!0:N=!0;N?(p(x),x=rh(E)):k?(g(C),C=rh(v)):(C=rh(v),x=rh(E))}}(r,o,mc,a=>{s.push(this.wn(e,t,i,a))},a=>{s.push(this.Sn(e,t,i,a))}),B.waitFor(s)}fn(e){let t=1;return _h(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((s,a)=>mc(s,a)).filter((s,a,c)=>!a||0!==mc(s,c[a-1]));const r=[];r.push(e);for(const s of i){const a=mc(s,e),c=mc(s,t);if(0===a)r[0]=e.Ht();else if(a>0&&c<0)r.push(s),r.push(s.Ht());else if(c>0)break}r.push(t);const o=[];for(let s=0;s<r.length;s+=2){if(this.bn(r[s],r[s+1]))return[];o.push(IDBKeyRange.bound([r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,Db,[]],[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,Db,[]]))}return o}bn(e,t){return mc(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next($2)}getMinOffset(e,t){return B.mapArray(this.un(t),i=>this.cn(e,i).next(r=>r||Ce())).next($2)}}function H2(n){return Ai(n,"collectionParents")}function gh(n){return Ai(n,"indexEntries")}function Wm(n){return Ai(n,"indexConfiguration")}function _h(n){return Ai(n,"indexState")}function $2(n){Oe(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;jT(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new io(e.readTime,e.documentKey,t)}const G2={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ir{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new ir(e,ir.DEFAULT_COLLECTION_PERCENTILE,ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function q2(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),o=[],s=IDBKeyRange.only(t.batchId);let a=0;const c=i.Y({range:s},(h,p,g)=>(a++,g.delete()));o.push(c.next(()=>{Oe(1===a)}));const l=[];for(const h of t.mutations){const p=pV(e,h.key.path,t.batchId);o.push(r.delete(p)),l.push(h.key)}return B.waitFor(o).next(()=>l)}function Sb(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Ce();e=n.noDocument}return JSON.stringify(e).length}ir.DEFAULT_COLLECTION_PERCENTILE=10,ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ir.DEFAULT=new ir(41943040,ir.DEFAULT_COLLECTION_PERCENTILE,ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ir.DISABLED=new ir(-1,0,0);class Ab{constructor(e,t,i,r){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=r,this.Dn={}}static ct(e,t,i,r){Oe(""!==e.uid);const o=e.isAuthenticated()?e.uid:"";return new Ab(o,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return gc(e).Y({index:"userMutationsIndex",range:i},(r,o,s)=>{t=!1,s.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const o=vh(e),s=gc(e);return s.add({}).next(a=>{Oe("number"==typeof a);const c=new tx(a,t,i,r),l=function(v,E,C){const x=C.baseMutations.map(k=>Hm(v.ut,k)),N=C.mutations.map(k=>Hm(v.ut,k));return{userId:E,batchId:C.batchId,localWriteTimeMs:C.localWriteTime.toMillis(),baseMutations:x,mutations:N}}(this.serializer,this.userId,c),h=[];let p=new nn((g,v)=>tt(g.canonicalString(),v.canonicalString()));for(const g of r){const v=pV(this.userId,g.key.path,a);p=p.add(g.key.path.popLast()),h.push(s.put(l)),h.push(o.put(v,wX))}return p.forEach(g=>{h.push(this.indexManager.addToCollectionParentIndex(e,g))}),e.addOnCommittedListener(()=>{this.Dn[a]=c.keys()}),B.waitFor(h).next(()=>c)})}lookupMutationBatch(e,t){return gc(e).get(t).next(i=>i?(Oe(i.userId===this.userId),Ol(this.serializer,i)):null)}Cn(e,t){return this.Dn[t]?B.resolve(this.Dn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.Dn[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return gc(e).Y({index:"userMutationsIndex",range:r},(s,a,c)=>{a.userId===this.userId&&(Oe(a.batchId>=i),o=Ol(this.serializer,a)),c.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return gc(e).Y({index:"userMutationsIndex",range:t,reverse:!0},(r,o,s)=>{i=o.batchId,s.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return gc(e).W("userMutationsIndex",t).next(i=>i.map(r=>Ol(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=lb(this.userId,t.path),r=IDBKeyRange.lowerBound(i),o=[];return vh(e).Y({range:r},(s,a,c)=>{const[l,h,p]=s,g=Rs(h);if(l===this.userId&&t.path.isEqual(g))return gc(e).get(p).next(v=>{if(!v)throw Ce();Oe(v.userId===this.userId),o.push(Ol(this.serializer,v))});c.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new nn(tt);const r=[];return t.forEach(o=>{const s=lb(this.userId,o.path),a=IDBKeyRange.lowerBound(s),c=vh(e).Y({range:a},(l,h,p)=>{const[g,v,E]=l,C=Rs(v);g===this.userId&&o.path.isEqual(C)?i=i.add(E):p.done()});r.push(c)}),B.waitFor(r).next(()=>this.vn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,o=lb(this.userId,i),s=IDBKeyRange.lowerBound(o);let a=new nn(tt);return vh(e).Y({range:s},(c,l,h)=>{const[p,g,v]=c,E=Rs(g);p===this.userId&&i.isPrefixOf(E)?E.length===r&&(a=a.add(v)):h.done()}).next(()=>this.vn(e,a))}vn(e,t){const i=[],r=[];return t.forEach(o=>{r.push(gc(e).get(o).next(s=>{if(null===s)throw Ce();Oe(s.userId===this.userId),i.push(Ol(this.serializer,s))}))}),B.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return q2(e.ae,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.Fn(t.batchId)}),B.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return B.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return vh(e).Y({range:i},(o,s,a)=>{if(o[0]===this.userId){const c=Rs(o[1]);r.push(c)}else a.done()}).next(()=>{Oe(0===r.length)})})}containsKey(e,t){return W2(e,this.userId,t)}Mn(e){return Z2(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function W2(n,e,t){const i=lb(e,t.path),r=i[1],o=IDBKeyRange.lowerBound(i);let s=!1;return vh(n).Y({range:o,J:!0},(a,c,l)=>{const[h,p,g]=a;h===e&&p===r&&(s=!0),l.done()}).next(()=>s)}function gc(n){return Ai(n,"mutations")}function vh(n){return Ai(n,"documentMutations")}function Z2(n){return Ai(n,"mutationQueues")}class Ll{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Ll(0)}static Nn(){return new Ll(-1)}}class OJ{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Bn(e).next(t=>{const i=new Ll(t.highestTargetId);return t.highestTargetId=i.next(),this.Ln(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(t=>Fe.fromTimestamp(new Sn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.Bn(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Ln(e,r)))}addTargetData(e,t){return this.kn(e,t).next(()=>this.Bn(e).next(i=>(i.targetCount+=1,this.qn(t,i),this.Ln(e,i))))}updateTargetData(e,t){return this.kn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>yh(e).delete(t.targetId)).next(()=>this.Bn(e)).next(i=>(Oe(i.targetCount>0),i.targetCount-=1,this.Ln(e,i)))}removeTargets(e,t,i){let r=0;const o=[];return yh(e).Y((s,a)=>{const c=$m(a);c.sequenceNumber<=t&&null===i.get(c.targetId)&&(r++,o.push(this.removeTargetData(e,c)))}).next(()=>B.waitFor(o)).next(()=>r)}forEachTarget(e,t){return yh(e).Y((i,r)=>{const o=$m(r);t(o)})}Bn(e){return K2(e).get("targetGlobalKey").next(t=>(Oe(null!==t),t))}Ln(e,t){return K2(e).put("targetGlobalKey",t)}kn(e,t){return yh(e).put(R2(this.serializer,t))}qn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.Bn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=Al(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return yh(e).Y({range:r,index:"queryTargetsIndex"},(s,a,c)=>{const l=$m(a);km(t,l.target)&&(o=l,c.done())}).next(()=>o)}addMatchingKeys(e,t,i){const r=[],o=_c(e);return t.forEach(s=>{const a=nr(s.path);r.push(o.put({targetId:i,path:a})),r.push(this.referenceDelegate.addReference(e,i,s))}),B.waitFor(r)}removeMatchingKeys(e,t,i){const r=_c(e);return B.forEach(t,o=>{const s=nr(o.path);return B.waitFor([r.delete([i,s]),this.referenceDelegate.removeReference(e,i,o)])})}removeMatchingKeysForTargetId(e,t){const i=_c(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=_c(e);let o=ut();return r.Y({range:i,J:!0},(s,a,c)=>{const l=Rs(s[1]),h=new ve(l);o=o.add(h)}).next(()=>o)}containsKey(e,t){const i=nr(t.path),r=IDBKeyRange.bound([i],[oV(i)],!1,!0);let o=0;return _c(e).Y({index:"documentTargetsIndex",J:!0,range:r},([s,a],c,l)=>{0!==s&&(o++,l.done())}).next(()=>o>0)}_t(e,t){return yh(e).get(t).next(i=>i?$m(i):null)}}function yh(n){return Ai(n,"targets")}function K2(n){return Ai(n,"targetGlobal")}function _c(n){return Ai(n,"targetDocuments")}function Y2([n,e],[t,i]){const r=tt(n,t);return 0===r?tt(e,i):r}class NJ{constructor(e){this.Qn=e,this.buffer=new nn(Y2),this.Kn=0}$n(){return++this.Kn}Un(e){const t=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();Y2(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Q2{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(e){var t=this;le("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,X.Z)(function*(){t.Wn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){sc(i)?le("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield oc(i)}yield t.Gn(3e5)}))}}class FJ{constructor(e,t){this.zn=e,this.params=t}calculateTargetCount(e,t){return this.zn.jn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return B.resolve(ro._e);const i=new NJ(t);return this.zn.forEachTarget(e,r=>i.Un(r.sequenceNumber)).next(()=>this.zn.Hn(e,r=>i.Un(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.zn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.zn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(G2)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),G2):this.Jn(e,t))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,t){let i,r,o,s,a,c,l;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),r=this.params.maximumSequenceNumbersToCollect):r=p,s=Date.now(),this.nthSequenceNumber(e,r))).next(p=>(i=p,a=Date.now(),this.removeTargets(e,i,t))).next(p=>(o=p,c=Date.now(),this.removeOrphanedDocuments(e,i))).next(p=>(l=Date.now(),eh()<=Ss.in.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-h}ms\n\tDetermined least recently used ${r} in `+(a-s)+`ms\n\tRemoved ${o} targets in `+(c-a)+`ms\n\tRemoved ${p} documents in `+(l-c)+`ms\nTotal Duration: ${l-h}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:p})))}}class LJ{constructor(e,t){this.db=e,this.garbageCollector=function X2(n,e){return new FJ(n,e)}(this,t)}jn(e){const t=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}Yn(e){let t=0;return this.Hn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Hn(e,t){return this.Zn(e,(i,r)=>t(r))}addReference(e,t,i){return Mb(e,i)}removeReference(e,t,i){return Mb(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return Mb(e,t)}Xn(e,t){return function(r,o){let s=!1;return Z2(r).Z(a=>W2(r,a,o).next(c=>(c&&(s=!0),B.resolve(!c)))).next(()=>s)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.Zn(e,(s,a)=>{if(a<=t){const c=this.Xn(e,s).next(l=>{if(!l)return o++,i.getEntry(e,s).next(()=>(i.removeEntry(s,Fe.min()),_c(e).delete([0,nr(s.path)])))});r.push(c)}}).next(()=>B.waitFor(r)).next(()=>i.apply(e)).next(()=>o)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return Mb(e,t)}Zn(e,t){const i=_c(e);let r,o=ro._e;return i.Y({index:"documentTargetsIndex"},([s,a],{path:c,sequenceNumber:l})=>{0===s?(o!==ro._e&&t(new ve(Rs(r)),o),o=l,r=c):o=ro._e}).next(()=>{o!==ro._e&&t(new ve(Rs(r)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Mb(n,e){return _c(n).put((r=n.currentSequenceNumber,{targetId:0,path:nr(e.path),sequenceNumber:r}));var r}class J2{constructor(){this.changes=new ma(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,En.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?B.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class VJ{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return Vl(e).put(i)}removeEntry(e,t,i){return Vl(e).delete(function(o,s){const a=o.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],Cb(s),a[a.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.er(e,i)))}getEntry(e,t){let i=En.newInvalidDocument(t);return Vl(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Zm(t))},(r,o)=>{i=this.tr(t,o)}).next(()=>i)}nr(e,t){let i={size:0,document:En.newInvalidDocument(t)};return Vl(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Zm(t))},(r,o)=>{i={document:this.tr(t,o),size:Sb(o)}}).next(()=>i)}getEntries(e,t){let i=Ur();return this.rr(e,t,(r,o)=>{const s=this.tr(r,o);i=i.insert(r,s)}).next(()=>i)}ir(e,t){let i=Ur(),r=new fn(ve.comparator);return this.rr(e,t,(o,s)=>{const a=this.tr(o,s);i=i.insert(o,a),r=r.insert(o,Sb(s))}).next(()=>({documents:i,sr:r}))}rr(e,t,i){if(t.isEmpty())return B.resolve();let r=new nn(iB);t.forEach(c=>r=r.add(c));const o=IDBKeyRange.bound(Zm(r.first()),Zm(r.last())),s=r.getIterator();let a=s.getNext();return Vl(e).Y({index:"documentKeyIndex",range:o},(c,l,h)=>{const p=ve.fromSegments([...l.prefixPath,l.collectionGroup,l.documentId]);for(;a&&iB(a,p)<0;)i(a,null),a=s.getNext();a&&a.isEqual(p)&&(i(a,l),a=s.hasNext()?s.getNext():null),a?h.U(Zm(a)):h.done()}).next(()=>{for(;a;)i(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,t,i,r,o){const s=t.path,a=[s.popLast().toArray(),s.lastSegment(),Cb(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],c=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Vl(e).W(IDBKeyRange.bound(a,c,!0)).next(l=>{o?.incrementDocumentReadCount(l.length);let h=Ur();for(const p of l){const g=this.tr(ve.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);g.isFoundDocument()&&(Pm(t,g)||r.has(g.key))&&(h=h.insert(g.key,g))}return h})}getAllFromCollectionGroup(e,t,i,r){let o=Ur();const s=nB(t,i),a=nB(t,io.max());return Vl(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(c,l,h)=>{const p=this.tr(ve.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);o=o.insert(p.key,p),o.size===r&&h.done()}).next(()=>o)}newChangeBuffer(e){return new BJ(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return tB(e).get("remoteDocumentGlobalKey").next(t=>(Oe(!!t),t))}er(e,t){return tB(e).put("remoteDocumentGlobalKey",t)}tr(e,t){if(t){const i=function TJ(n,e){let t;if(e.document)t=C2(n.ut,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=ve.fromSegments(e.noDocument.path),r=Pl(e.noDocument.readTime);t=En.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ce();{const i=ve.fromSegments(e.unknownDocument.path),r=Pl(e.unknownDocument.version);t=En.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(r){const o=new Sn(r[0],r[1]);return Fe.fromTimestamp(o)}(e.readTime)),t}(this.serializer,t);if(!i.isNoDocument()||!i.version.isEqual(Fe.min()))return i}return En.newInvalidDocument(e)}}function eB(n){return new VJ(n)}class BJ extends J2{constructor(e,t){super(),this._r=e,this.trackRemovals=t,this.ar=new ma(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new nn((o,s)=>tt(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{const a=this.ar.get(o);if(t.push(this._r.removeEntry(e,o,a.readTime)),s.isValidDocument()){const c=k2(this._r.serializer,s);r=r.add(o.path.popLast());const l=Sb(c);i+=l-a.size,t.push(this._r.addEntry(e,o,c))}else if(i-=a.size,this.trackRemovals){const c=k2(this._r.serializer,s.convertToNoDocument(Fe.min()));t.push(this._r.addEntry(e,o,c))}}),r.forEach(o=>{t.push(this._r.indexManager.addToCollectionParentIndex(e,o))}),t.push(this._r.updateMetadata(e,i)),B.waitFor(t)}getFromCache(e,t){return this._r.nr(e,t).next(i=>(this.ar.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this._r.ir(e,t).next(({documents:i,sr:r})=>(r.forEach((o,s)=>{this.ar.set(o,{size:s,readTime:i.get(o).readTime})}),i))}}function tB(n){return Ai(n,"remoteDocumentGlobal")}function Vl(n){return Ai(n,"remoteDocumentsV14")}function Zm(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function nB(n,e){const t=e.documentKey.path.toArray();return[n,Cb(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function iB(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let o=0;o<t.length-2&&o<i.length-2;++o)if(r=tt(t[o],i[o]),r)return r;return r=tt(t.length,i.length),r||(r=tt(t[t.length-2],i[i.length-2]),r||tt(t[t.length-1],i[i.length-1]))}class UJ{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class rB{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(null!==i&&Lm(i.mutation,r,Br.empty(),Sn.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,ut()).next(()=>i))}getLocalViewOfDocuments(e,t,i=ut()){const r=Os();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(o=>{let s=Om();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){const i=Os();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,ut()))}populateOverlays(e,t,i){const r=[];return i.forEach(o=>{t.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,i,r){let o=Ur();const s=Nm(),a=Nm();return t.forEach((c,l)=>{const h=i.get(l.key);r.has(l.key)&&(void 0===h||h.mutation instanceof ga)?o=o.insert(l.key,l):void 0!==h?(s.set(l.key,h.mutation.getFieldMask()),Lm(h.mutation,l,h.mutation.getFieldMask(),Sn.now())):s.set(l.key,Br.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((l,h)=>s.set(l,h)),t.forEach((l,h)=>{var p;return a.set(l,new UJ(h,null!==(p=s.get(l))&&void 0!==p?p:null))}),a))}recalculateAndSaveOverlays(e,t){const i=Nm();let r=new fn((s,a)=>s-a),o=ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(const a of s)a.keys().forEach(c=>{const l=t.get(c);if(null===l)return;let h=i.get(c)||Br.empty();h=a.applyToLocalView(l,h),i.set(c,h);const p=(r.get(a.batchId)||ut()).add(c);r=r.insert(a.batchId,p)})}).next(()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),l=c.key,h=c.value,p=ZV();h.forEach(g=>{if(!o.has(g)){const v=r2(t.get(g),i.get(g));null!==v&&p.set(g,v),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return B.waitFor(s)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,r){return ve.isDocumentKey((s=t).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):QT(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,r):this.getDocumentsMatchingCollectionQuery(e,t,i,r);var s}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(o=>{const s=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-o.size):B.resolve(Os());let a=-1,c=o;return s.next(l=>B.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?B.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{c=c.insert(h,g)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,c,l,ut())).next(h=>({batchId:a,changes:WV(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ve(t)).next(i=>{let r=Om();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i,r){const o=t.collectionGroup;let s=Om();return this.indexManager.getCollectionParents(e,o).next(a=>B.forEach(a,c=>{const l=(p=t,g=c.child(o),new pa(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt));var p,g;return this.getDocumentsMatchingCollectionQuery(e,l,i,r).next(h=>{h.forEach((p,g)=>{s=s.insert(p,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,o,r))).next(s=>{o.forEach((c,l)=>{const h=l.getKey();null===s.get(h)&&(s=s.insert(h,En.newInvalidDocument(h)))});let a=Om();return s.forEach((c,l)=>{const h=o.get(c);void 0!==h&&Lm(h.mutation,l,Br.empty(),Sn.now()),Pm(t,l)&&(a=a.insert(c,l))}),a})}}class jJ{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,t){return B.resolve(this.ur.get(t))}saveBundleMetadata(e,t){return this.ur.set(t.id,{id:(r=t).id,version:r.version,createTime:ti(r.createTime)}),B.resolve();var r}getNamedQuery(e,t){return B.resolve(this.cr.get(t))}saveNamedQuery(e,t){return this.cr.set(t.name,{name:(r=t).name,query:ux(r.bundledQuery),readTime:ti(r.readTime)}),B.resolve();var r}}class zJ{constructor(){this.overlays=new fn(ve.comparator),this.lr=new Map}getOverlay(e,t){return B.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Os();return B.forEach(t,r=>this.getOverlay(e,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,o)=>{this.lt(e,t,o)}),B.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.lr.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.lr.delete(i)),B.resolve()}getOverlaysForCollection(e,t,i){const r=Os(),o=t.length+1,s=new ve(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const c=a.getNext().value,l=c.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&c.largestBatchId>i&&r.set(c.getKey(),c)}return B.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let o=new fn((l,h)=>l-h);const s=this.overlays.getIterator();for(;s.hasNext();){const l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>i){let h=o.get(l.largestBatchId);null===h&&(h=Os(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}const a=Os(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=r)););return B.resolve(a)}lt(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const s=this.lr.get(r.largestBatchId).delete(i.key);this.lr.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new ix(t,i));let o=this.lr.get(t);void 0===o&&(o=ut(),this.lr.set(t,o)),this.lr.set(t,o.add(i.key))}}class _x{constructor(){this.hr=new nn(Mi.Pr),this.Ir=new nn(Mi.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,t){const i=new Mi(e,t);this.hr=this.hr.add(i),this.Ir=this.Ir.add(i)}Er(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.dr(new Mi(e,t))}Ar(e,t){e.forEach(i=>this.removeReference(i,t))}Rr(e){const t=new ve(new Nt([])),i=new Mi(t,e),r=new Mi(t,e+1),o=[];return this.Ir.forEachInRange([i,r],s=>{this.dr(s),o.push(s.key)}),o}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const t=new ve(new Nt([])),i=new Mi(t,e),r=new Mi(t,e+1);let o=ut();return this.Ir.forEachInRange([i,r],s=>{o=o.add(s.key)}),o}containsKey(e){const t=new Mi(e,0),i=this.hr.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Mi{constructor(e,t){this.key=e,this.gr=t}static Pr(e,t){return ve.comparator(e.key,t.key)||tt(e.gr,t.gr)}static Tr(e,t){return tt(e.gr,t.gr)||ve.comparator(e.key,t.key)}}class HJ{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.pr=1,this.yr=new nn(Mi.Pr)}checkEmpty(e){return B.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const o=this.pr;this.pr++;const s=new tx(o,t,i,r);this.mutationQueue.push(s);for(const a of r)this.yr=this.yr.add(new Mi(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return B.resolve(s)}lookupMutationBatch(e,t){return B.resolve(this.wr(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.Sr(t+1),o=r<0?0:r;return B.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Mi(t,0),r=new Mi(t,Number.POSITIVE_INFINITY),o=[];return this.yr.forEachInRange([i,r],s=>{const a=this.wr(s.gr);o.push(a)}),B.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new nn(tt);return t.forEach(r=>{const o=new Mi(r,0),s=new Mi(r,Number.POSITIVE_INFINITY);this.yr.forEachInRange([o,s],a=>{i=i.add(a.gr)})}),B.resolve(this.br(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let o=i;ve.isDocumentKey(o)||(o=o.child(""));const s=new Mi(new ve(o),0);let a=new nn(tt);return this.yr.forEachWhile(c=>{const l=c.key.path;return!!i.isPrefixOf(l)&&(l.length===r&&(a=a.add(c.gr)),!0)},s),B.resolve(this.br(a))}br(e){const t=[];return e.forEach(i=>{const r=this.wr(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){Oe(0===this.Dr(t.batchId,"removed")),this.mutationQueue.shift();let i=this.yr;return B.forEach(t.mutations,r=>{const o=new Mi(r.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.yr=i})}Fn(e){}containsKey(e,t){const i=new Mi(t,0),r=this.yr.firstAfterOrEqual(i);return B.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return B.resolve()}Dr(e,t){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class $J{constructor(e){this.Cr=e,this.docs=new fn(ve.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),o=r?r.size:0,s=this.Cr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return B.resolve(i?i.document.mutableCopy():En.newInvalidDocument(t))}getEntries(e,t){let i=Ur();return t.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():En.newInvalidDocument(r))}),B.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let o=Ur();const s=t.path,a=new ve(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:l,value:{document:h}}=c.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||jT(aV(h),i)<=0||(r.has(h.key)||Pm(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return B.resolve(o)}getAllFromCollectionGroup(e,t,i,r){Ce()}vr(e,t){return B.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new GJ(this)}getSize(e){return B.resolve(this.size)}}class GJ extends J2{constructor(e){super(),this._r=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this._r.addEntry(e,r)):this._r.removeEntry(i)}),B.waitFor(t)}getFromCache(e,t){return this._r.getEntry(e,t)}getAllFromCache(e,t){return this._r.getEntries(e,t)}}class qJ{constructor(e){this.persistence=e,this.Fr=new ma(t=>Al(t),km),this.lastRemoteSnapshotVersion=Fe.min(),this.highestTargetId=0,this.Mr=0,this.Or=new _x,this.targetCount=0,this.Nr=Ll.On()}forEachTarget(e,t){return this.Fr.forEach((i,r)=>t(r)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Mr&&(this.Mr=t),B.resolve()}kn(e){this.Fr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Nr=new Ll(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,t){return this.kn(t),this.targetCount+=1,B.resolve()}updateTargetData(e,t){return this.kn(t),B.resolve()}removeTargetData(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,t,i){let r=0;const o=[];return this.Fr.forEach((s,a)=>{a.sequenceNumber<=t&&null===i.get(a.targetId)&&(this.Fr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),B.waitFor(o).next(()=>r)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,t){const i=this.Fr.get(t)||null;return B.resolve(i)}addMatchingKeys(e,t,i){return this.Or.Er(t,i),B.resolve()}removeMatchingKeys(e,t,i){this.Or.Ar(t,i);const r=this.persistence.referenceDelegate,o=[];return r&&t.forEach(s=>{o.push(r.markPotentiallyOrphaned(e,s))}),B.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Or.Rr(t),B.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Or.mr(t);return B.resolve(i)}containsKey(e,t){return B.resolve(this.Or.containsKey(t))}}class vx{constructor(e,t){this.Br={},this.overlays={},this.Lr=new ro(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new qJ(this),this.indexManager=new RJ,this.remoteDocumentCache=new $J(i=>this.referenceDelegate.Qr(i)),this.serializer=new M2(t),this.Kr=new jJ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new zJ,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Br[e.toKey()];return i||(i=new HJ(t,this.referenceDelegate),this.Br[e.toKey()]=i),i}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,t,i){le("MemoryPersistence","Starting transaction:",e);const r=new WJ(this.Lr.next());return this.referenceDelegate.$r(),i(r).next(o=>this.referenceDelegate.Ur(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Wr(e,t){return B.or(Object.values(this.Br).map(i=>()=>i.containsKey(e,t)))}}class WJ extends lV{constructor(e){super(),this.currentSequenceNumber=e}}class kb{constructor(e){this.persistence=e,this.Gr=new _x,this.zr=null}static jr(e){return new kb(e)}get Hr(){if(this.zr)return this.zr;throw Ce()}addReference(e,t,i){return this.Gr.addReference(i,t),this.Hr.delete(i.toString()),B.resolve()}removeReference(e,t,i){return this.Gr.removeReference(i,t),this.Hr.add(i.toString()),B.resolve()}markPotentiallyOrphaned(e,t){return this.Hr.add(t.toString()),B.resolve()}removeTarget(e,t){this.Gr.Rr(t.targetId).forEach(r=>this.Hr.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(o=>this.Hr.add(o.toString()))}).next(()=>i.removeTargetData(e,t))}$r(){this.zr=new Set}Ur(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.Hr,i=>{const r=ve.fromPath(i);return this.Jr(e,r).next(o=>{o||t.removeEntry(r,Fe.min())})}).next(()=>(this.zr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Jr(e,t).next(i=>{i?this.Hr.delete(t.toString()):this.Hr.add(t.toString())})}Qr(e){return 0}Jr(e,t){return B.or([()=>B.resolve(this.Gr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Wr(e,t)])}}class ZJ{constructor(e){this.serializer=e}N(e,t,i,r){const o=new cb("createOrUpgrade",t);var c;i<1&&r>=1&&(e.createObjectStore("owner"),(c=e).createObjectStore("mutationQueues",{keyPath:"userId"}),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",fV,{unique:!0}),c.createObjectStore("documentMutations"),oB(e),function(c){c.createObjectStore("remoteDocuments")}(e));let s=B.resolve();return i<3&&r>=3&&(0!==i&&(function(c){c.deleteObjectStore("targetDocuments"),c.deleteObjectStore("targets"),c.deleteObjectStore("targetGlobal")}(e),oB(e)),s=s.next(()=>function(c){const l=c.store("targetGlobal"),h={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Fe.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",h)}(o))),i<4&&r>=4&&(0!==i&&(s=s.next(()=>function(c,l){return l.store("mutations").W().next(h=>{c.deleteObjectStore("mutations"),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",fV,{unique:!0});const p=l.store("mutations"),g=h.map(v=>p.put(v));return B.waitFor(g)})}(e,o))),s=s.next(()=>{!function(c){c.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(s=s.next(()=>this.Zr(o))),i<6&&r>=6&&(s=s.next(()=>(function(c){c.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(o)))),i<7&&r>=7&&(s=s.next(()=>this.ei(o))),i<8&&r>=8&&(s=s.next(()=>this.ti(e,o))),i<9&&r>=9&&(s=s.next(()=>{!function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(s=s.next(()=>this.ni(o))),i<11&&r>=11&&(s=s.next(()=>{(function(c){c.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(c){c.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(s=s.next(()=>{!function(c){const l=c.createObjectStore("documentOverlays",{keyPath:PX});l.createIndex("collectionPathOverlayIndex",OX,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",NX,{unique:!1})}(e)})),i<13&&r>=13&&(s=s.next(()=>function(c){const l=c.createObjectStore("remoteDocumentsV14",{keyPath:EX});l.createIndex("documentKeyIndex",IX),l.createIndex("collectionGroupIndex",CX)}(e)).next(()=>this.ri(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(s=s.next(()=>this.ii(e,o))),i<15&&r>=15&&(s=s.next(()=>function(c){c.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),c.createObjectStore("indexState",{keyPath:AX}).createIndex("sequenceNumberIndex",MX,{unique:!1}),c.createObjectStore("indexEntries",{keyPath:kX}).createIndex("documentKeyIndex",RX,{unique:!1})}(e))),s}Xr(e){let t=0;return e.store("remoteDocuments").Y((i,r)=>{t+=Sb(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Zr(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.W().next(r=>B.forEach(r,o=>{const s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",s).next(a=>B.forEach(a,c=>{Oe(c.userId===o.userId);const l=Ol(this.serializer,c);return q2(e,o.userId,l).next(()=>{})}))}))}ei(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return i.Y((s,a)=>{const c=new Nt(s),l=[0,nr(c)];o.push(t.get(l).next(h=>h?B.resolve():t.put({targetId:0,path:nr(c),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>B.waitFor(o))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:SX});const i=t.store("collectionParents"),r=new gx,o=s=>{if(r.add(s)){const a=s.lastSegment(),c=s.popLast();return i.put({collectionId:a,parent:nr(c)})}};return t.store("remoteDocuments").Y({J:!0},(s,a)=>{const c=new Nt(s);return o(c.popLast())}).next(()=>t.store("documentMutations").Y({J:!0},([s,a,c],l)=>{const h=Rs(a);return o(h.popLast())}))}ni(e){const t=e.store("targets");return t.Y((i,r)=>{const o=$m(r),s=R2(this.serializer,o);return t.put(s)})}ri(e,t){const i=t.store("remoteDocuments"),r=[];return i.Y((o,s)=>{const a=t.store("remoteDocumentsV14"),c=(p=s,p.document?new ve(Nt.fromString(p.document.name).popFirst(5)):p.noDocument?ve.fromSegments(p.noDocument.path):p.unknownDocument?ve.fromSegments(p.unknownDocument.path):Ce()).path.toArray(),l={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};var p;r.push(a.put(l))}).next(()=>B.waitFor(r))}ii(e,t){const i=t.store("mutations"),r=eB(this.serializer),o=new vx(kb.jr,this.serializer.ut);return i.W().next(s=>{const a=new Map;return s.forEach(c=>{var l;let h=null!==(l=a.get(c.userId))&&void 0!==l?l:ut();Ol(this.serializer,c).keys().forEach(p=>h=h.add(p)),a.set(c.userId,h)}),B.forEach(a,(c,l)=>{const h=new Si(l),p=Tb.ct(this.serializer,h),g=o.getIndexManager(h),v=Ab.ct(h,this.serializer,g,o.referenceDelegate);return new rB(r,v,p,g).recalculateAndSaveOverlaysForDocumentKeys(new $T(t,ro._e),c).next()})})}}function oB(n){n.createObjectStore("targetDocuments",{keyPath:xX}).createIndex("documentTargetsIndex",DX,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",TX,{unique:!0}),n.createObjectStore("targetGlobal")}const yx="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class bx{constructor(e,t,i,r,o,s,a,c,l,h,p=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.si=o,this.window=s,this.document=a,this.oi=l,this._i=h,this.ai=p,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=g=>Promise.resolve(),!bx.D())throw new oe(q.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new LJ(this,r),this.Ii=t+"main",this.serializer=new M2(c),this.Ti=new es(this.Ii,this.ai,new ZJ(this.serializer)),this.qr=new OJ(this.referenceDelegate,this.serializer),this.remoteDocumentCache=eB(this.serializer),this.Kr=new xJ,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===h&&ei("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new oe(q.FAILED_PRECONDITION,yx);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.qr.getHighestSequenceNumber(e))}).then(e=>{this.Lr=new ro(e,this.oi)}).then(()=>{this.kr=!0}).catch(e=>(this.Ti&&this.Ti.close(),Promise.reject(e)))}mi(e){var t=this;return this.Pi=function(){var i=(0,X.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L(function(){var t=(0,X.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((0,X.Z)(function*(){t.started&&(yield t.di())})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Pb(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(e)).next(t=>this.isPrimary&&!t?this.pi(e).next(()=>!1):!!t&&this.yi(e).next(()=>!0))).catch(e=>{if(sc(e))return le("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return le("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.Pi(e)),this.isPrimary=e})}fi(e){return Km(e).get("owner").next(t=>B.resolve(this.wi(t)))}Si(e){return Pb(e).delete(this.clientId)}bi(){var e=this;return(0,X.Z)(function*(){if(e.isPrimary&&!e.Di(e.hi,18e5)){e.hi=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Ai(i,"clientMetadata");return r.W().next(o=>{const s=e.Ci(o,18e5),a=o.filter(c=>-1===s.indexOf(c));return B.forEach(a,c=>r.delete(c.clientId)).next(()=>a)})}).catch(()=>[]);if(e.Ei)for(const i of t)e.Ei.removeItem(e.vi(i.clientId))}})()}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?B.resolve(!0):Km(e).get("owner").next(t=>{if(null!==t&&this.Di(t.leaseTimestampMs,5e3)&&!this.Fi(t.ownerId)){if(this.wi(t)&&this.networkEnabled)return!0;if(!this.wi(t)){if(!t.allowTabSynchronization)throw new oe(q.FAILED_PRECONDITION,yx);return!1}}return!(!this.networkEnabled||!this.inForeground)||Pb(e).W().next(i=>void 0===this.Ci(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(t=>(this.isPrimary!==t&&le("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,X.Z)(function*(){e.kr=!1,e.Mi(),e.li&&(e.li.cancel(),e.li=null),e.xi(),e.Oi(),yield e.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new $T(t,ro._e);return e.pi(i).next(()=>e.Si(i))}),e.Ti.close(),e.Ni()})()}Ci(e,t){return e.filter(i=>this.Di(i.updateTimeMs,t)&&!this.Fi(i.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>Pb(e).W().next(t=>this.Ci(t,18e5).map(i=>i.clientId)))}get started(){return this.kr}getMutationQueue(e,t){return Ab.ct(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new PJ(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return Tb.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,t,i){le("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",o=15===(c=this.ai)?LX:14===c?_V:13===c?gV:12===c?FX:11===c?mV:void Ce();var c;let s;return this.Ti.runTransaction(e,r,o,a=>(s=new $T(a,this.Lr?this.Lr.next():ro._e),"readwrite-primary"===t?this.fi(s).next(c=>!!c||this.gi(s)).next(c=>{if(!c)throw ei(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new oe(q.FAILED_PRECONDITION,cV);return i(s)}).next(c=>this.yi(s).next(()=>c)):this.Li(s).next(()=>i(s)))).then(a=>(s.raiseOnCommittedEvent(),a))}Li(e){return Km(e).get("owner").next(t=>{if(null!==t&&this.Di(t.leaseTimestampMs,5e3)&&!this.Fi(t.ownerId)&&!this.wi(t)&&!(this._i||this.allowTabSynchronization&&t.allowTabSynchronization))throw new oe(q.FAILED_PRECONDITION,yx)})}yi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Km(e).put("owner",t)}static D(){return es.D()}pi(e){const t=Km(e);return t.get("owner").next(i=>this.wi(i)?(le("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):B.resolve())}Di(e,t){const i=Date.now();return!(e<i-t||e>i&&(ei(`Detected an update time that is in the future: ${e} > ${i}`),1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Mi();const t=/(?:Version|Mobile)\/1[456]/;(0,cn.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var t;try{const i=null!==(null===(t=this.Ei)||void 0===t?void 0:t.getItem(this.vi(e)));return le("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return ei("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){ei("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Km(n){return Ai(n,"owner")}function Pb(n){return Ai(n,"clientMetadata")}function wx(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class Ex{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.ki=i,this.qi=r}static Qi(e,t){let i=ut(),r=ut();for(const o of t.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new Ex(e,t.fromCache,i,r)}}class KJ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class sB{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}getDocumentsMatchingQuery(e,t,i,r){const o={result:null};return this.zi(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ji(e,t,r,i).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new KJ;return this.Hi(e,t,s).next(a=>{if(o.result=a,this.$i)return this.Ji(e,t,s,a.size)})}).next(()=>o.result)}Ji(e,t,i,r){return i.documentReadCount<this.Ui?(eh()<=Ss.in.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",lh(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),B.resolve()):(eh()<=Ss.in.DEBUG&&le("QueryEngine","Query:",lh(t),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Wi*r?(eh()<=Ss.in.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",lh(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xr(t))):B.resolve())}zi(e,t){if(jV(t))return B.resolve(null);let i=xr(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=vb(t,null,"F"),i=xr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{const s=ut(...o);return this.Gi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,i).next(c=>{const l=this.Yi(t,a);return this.Zi(t,l,s,c.readTime)?this.zi(e,vb(t,null,"F")):this.Xi(e,l,t,c)}))})))}ji(e,t,i,r){return jV(t)||r.isEqual(Fe.min())?B.resolve(null):this.Gi.getDocuments(e,i).next(o=>{const s=this.Yi(t,o);return this.Zi(t,s,i,r)?B.resolve(null):(eh()<=Ss.in.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),lh(t)),this.Xi(e,s,t,sV(r,-1)).next(a=>a))})}Yi(e,t){let i=new nn(GV(e));return t.forEach((r,o)=>{Pm(e,o)&&(i=i.add(o))}),i}Zi(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Hi(e,t,i){return eh()<=Ss.in.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",lh(t)),this.Gi.getDocumentsMatchingQuery(e,t,io.min(),i)}Xi(e,t,i,r){return this.Gi.getDocumentsMatchingQuery(e,i,r).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}}class YJ{constructor(e,t,i,r){this.persistence=e,this.es=t,this.serializer=r,this.ts=new fn(tt),this.ns=new ma(o=>Al(o),km),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(i)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rB(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ts))}}function aB(n,e,t,i){return new YJ(n,e,t,i)}function cB(n,e){return Ix.apply(this,arguments)}function Ix(){return Ix=(0,X.Z)(function*(n,e){const t=_e(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,t.os(e),t.mutationQueue.getAllMutationBatches(i))).next(o=>{const s=[],a=[];let c=ut();for(const l of r){s.push(l.batchId);for(const h of l.mutations)c=c.add(h.key)}for(const l of o){a.push(l.batchId);for(const h of l.mutations)c=c.add(h.key)}return t.localDocuments.getDocuments(i,c).next(l=>({_s:l,removedBatchIds:s,addedBatchIds:a}))})})}),Ix.apply(this,arguments)}function lB(n){const e=_e(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.qr.getLastRemoteSnapshotVersion(t))}function uB(n,e,t){let i=ut(),r=ut();return t.forEach(o=>i=i.add(o)),e.getEntries(n,i).next(o=>{let s=Ur();return t.forEach((a,c)=>{const l=o.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(r=r.add(a)),c.isNoDocument()&&c.version.isEqual(Fe.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||0===c.version.compareTo(l.version)&&l.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):le("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{us:s,cs:r}})}function JJ(n,e){const t=_e(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function bh(n,e){const t=_e(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.qr.getTargetData(i,e).next(o=>o?(r=o,B.resolve(r)):t.qr.allocateTargetId(i).next(s=>(r=new _a(e,s,"TargetPurposeListen",i.currentSequenceNumber),t.qr.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.ts.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.ts=t.ts.insert(i.targetId,i),t.ns.set(e,i.targetId)),i})}function wh(n,e,t){return Cx.apply(this,arguments)}function Cx(){return Cx=(0,X.Z)(function*(n,e,t){const i=_e(n),r=i.ts.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",o,s=>i.persistence.referenceDelegate.removeTarget(s,r)))}catch(s){if(!sc(s))throw s;le("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}i.ts=i.ts.remove(e),i.ns.delete(r.target)}),Cx.apply(this,arguments)}function Ob(n,e,t){const i=_e(n);let r=Fe.min(),o=ut();return i.persistence.runTransaction("Execute query","readwrite",s=>function(c,l,h){const p=_e(c),g=p.ns.get(h);return void 0!==g?B.resolve(p.ts.get(g)):p.qr.getTargetData(l,h)}(i,s,xr(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.qr.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>i.es.getDocumentsMatchingQuery(s,e,t?r:Fe.min(),t?o:ut())).next(a=>(fB(i,$V(e),a),{documents:a,ls:o})))}function dB(n,e){const t=_e(n),i=_e(t.qr),r=t.ts.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",o=>i._t(o,e).next(s=>s?s.target:null))}function hB(n,e){const t=_e(n),i=t.rs.get(e)||Fe.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.ss.getAllFromCollectionGroup(r,e,sV(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(fB(t,e,r),r))}function fB(n,e,t){let i=n.rs.get(e)||Fe.min();t.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.rs.set(e,i)}function Tx(){return Tx=(0,X.Z)(function*(n,e,t,i){const r=_e(n);let o=ut(),s=Ur();for(const l of t){const h=e.hs(l.metadata.name);l.document&&(o=o.add(h));const p=e.Ps(l);p.setReadTime(e.Is(l.metadata.readTime)),s=s.insert(h,p)}const a=r.ss.newChangeBuffer({trackRemovals:!0}),c=yield bh(r,(h=i,xr(ah(Nt.fromString(`__bundle__/docs/${h}`)))));var h;return r.persistence.runTransaction("Apply bundle documents","readwrite",l=>uB(l,a,s).next(h=>(a.apply(l),h)).next(h=>r.qr.removeMatchingKeysForTargetId(l,c.targetId).next(()=>r.qr.addMatchingKeys(l,o,c.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(l,h.us,h.cs)).next(()=>h.us)))}),Tx.apply(this,arguments)}function tee(n,e){return xx.apply(this,arguments)}function xx(){return xx=(0,X.Z)(function*(n,e,t=ut()){const i=yield bh(n,xr(ux(e.bundledQuery))),r=_e(n);return r.persistence.runTransaction("Save named query","readwrite",o=>{const s=ti(e.readTime);if(i.snapshotVersion.compareTo(s)>=0)return r.Kr.saveNamedQuery(o,e);const a=i.withResumeToken(Ei.EMPTY_BYTE_STRING,s);return r.ts=r.ts.insert(a.targetId,a),r.qr.updateTargetData(o,a).next(()=>r.qr.removeMatchingKeysForTargetId(o,i.targetId)).next(()=>r.qr.addMatchingKeys(o,t,i.targetId)).next(()=>r.Kr.saveNamedQuery(o,e))})}),xx.apply(this,arguments)}function pB(n,e){return`firestore_clients_${n}_${e}`}function mB(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function Dx(n,e){return`firestore_targets_${n}_${e}`}class Nb{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static Ts(e,t,i){const r=JSON.parse(i);let o,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(o=new oe(r.error.code,r.error.message))),s?new Nb(e,t,r.state,o):(ei("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ym{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Ts(e,t){const i=JSON.parse(t);let r,o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(r=new oe(i.error.code,i.error.message))),o?new Ym(e,i.state,r):(ei("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Fb{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ts(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,o=JT();for(let s=0;r&&s<i.activeTargetIds.length;++s)r=dV(i.activeTargetIds[s]),o=o.add(i.activeTargetIds[s]);return r?new Fb(e,o):(ei("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Sx{constructor(e,t){this.clientId=e,this.onlineState=t}static Ts(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Sx(t.clientId,t.onlineState):(ei("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Ax{constructor(){this.activeTargetIds=JT()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Mx{constructor(e,t,i,r,o){this.window=e,this.si=t,this.persistenceKey=i,this.Rs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new fn(tt),this.started=!1,this.ps=[];const s=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.ys=pB(this.persistenceKey,this.Rs),this.ws=`firestore_sequence_number_${this.persistenceKey}`,this.gs=this.gs.insert(this.Rs,new Ax),this.Ss=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.bs=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.Cs=`firestore_online_state_${this.persistenceKey}`,this.vs=function(c){return`firestore_bundle_loaded_v2_${c}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,X.Z)(function*(){const t=yield e.syncEngine.Bi();for(const r of t){if(r===e.Rs)continue;const o=e.getItem(pB(e.persistenceKey,r));if(o){const s=Fb.Ts(r,o);s&&(e.gs=e.gs.insert(s.clientId,s))}}e.Fs();const i=e.storage.getItem(e.Cs);if(i){const r=e.Ms(i);r&&e.xs(r)}for(const r of e.ps)e.fs(r);e.ps=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let t=!1;return this.gs.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,t,i){this.Ns(e,t,i),this.Bs(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(Dx(this.persistenceKey,e));if(i){const r=Ym.Ts(e,i);r&&(t=r.state)}}return this.Ls.ds(e),this.Fs(),t}removeLocalQueryTarget(e){this.Ls.As(e),this.Fs()}isLocalQueryTarget(e){return this.Ls.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Dx(this.persistenceKey,e))}updateQueryState(e,t,i){this.ks(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Bs(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return le("SharedClientState","READ",e,t),t}setItem(e,t){le("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){le("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){var t=this;const i=e;if(i.storageArea===this.storage){if(le("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ys)return void ei("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,X.Z)(function*(){if(t.started){if(null!==i.key)if(t.Ss.test(i.key)){if(null==i.newValue){const r=t.Ks(i.key);return t.$s(r,null)}{const r=t.Us(i.key,i.newValue);if(r)return t.$s(r.clientId,r)}}else if(t.bs.test(i.key)){if(null!==i.newValue){const r=t.Ws(i.key,i.newValue);if(r)return t.Gs(r)}}else if(t.Ds.test(i.key)){if(null!==i.newValue){const r=t.zs(i.key,i.newValue);if(r)return t.js(r)}}else if(i.key===t.Cs){if(null!==i.newValue){const r=t.Ms(i.newValue);if(r)return t.xs(r)}}else if(i.key===t.ws){const r=function(s){let a=ro._e;if(null!=s)try{const c=JSON.parse(s);Oe("number"==typeof c),a=c}catch(c){ei("SharedClientState","Failed to read sequence number from WebStorage",c)}return a}(i.newValue);r!==ro._e&&t.sequenceNumberHandler(r)}else if(i.key===t.vs){const r=t.Hs(i.newValue);yield Promise.all(r.map(o=>t.syncEngine.Js(o)))}}else t.ps.push(i)}))}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(e,t,i){const r=new Nb(this.currentUser,e,t,i),o=mB(this.persistenceKey,this.currentUser,e);this.setItem(o,r.Es())}Bs(e){const t=mB(this.persistenceKey,this.currentUser,e);this.removeItem(t)}qs(e){this.storage.setItem(this.Cs,JSON.stringify({clientId:this.Rs,onlineState:e}))}ks(e,t,i){const r=Dx(this.persistenceKey,e),o=new Ym(e,t,i);this.setItem(r,o.Es())}Qs(e){const t=JSON.stringify(Array.from(e));this.setItem(this.vs,t)}Ks(e){const t=this.Ss.exec(e);return t?t[1]:null}Us(e,t){const i=this.Ks(e);return Fb.Ts(i,t)}Ws(e,t){const i=this.bs.exec(e),r=Number(i[1]);return Nb.Ts(new Si(void 0!==i[2]?i[2]:null),r,t)}zs(e,t){const i=this.Ds.exec(e),r=Number(i[1]);return Ym.Ts(r,t)}Ms(e){return Sx.Ts(e)}Hs(e){return JSON.parse(e)}Gs(e){var t=this;return(0,X.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Ys(e.batchId,e.state,e.error);le("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,t){const i=t?this.gs.insert(e,t):this.gs.remove(e),r=this.Os(this.gs),o=this.Os(i),s=[],a=[];return o.forEach(c=>{r.has(c)||s.push(c)}),r.forEach(c=>{o.has(c)||a.push(c)}),this.syncEngine.Xs(s,a).then(()=>{this.gs=i})}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let t=JT();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class gB{constructor(){this.eo=new Ax,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,t,i){this.no[e]=t}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new Ax,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class nee{ro(e){}shutdown(){}}class _B{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Lb=null;function kx(){return null===Lb?Lb=268435456+Math.round(2147483648*Math.random()):Lb++,"0x"+Lb.toString(16)}const iee={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ree{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const rr="WebChannelConnection";class oee extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.mo=i+"://"+t.host,this.fo=`projects/${r}/databases/${o}`,this.po="(default)"===this.databaseId.database?`project_id=${r}`:`project_id=${r}&database_id=${o}`}get yo(){return!1}wo(t,i,r,o,s){const a=kx(),c=this.So(t,i);le("RestConnection",`Sending RPC '${t}' ${a}:`,c,r);const l={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(l,o,s),this.Do(t,c,l,r).then(h=>(le("RestConnection",`Received RPC '${t}' ${a}: `,h),h),h=>{throw Vr("RestConnection",`RPC '${t}' ${a} failed with error: `,h,"url: ",c,"request:",r),h})}Co(t,i,r,o,s,a){return this.wo(t,i,r,o,s)}bo(t,i,r){t["X-Goog-Api-Client"]="gl-js/ fire/"+Jd,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,s)=>t[s]=o),r&&r.headers.forEach((o,s)=>t[s]=o)}So(t,i){return`${this.mo}/v1/${i}:${iee[t]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,t,i,r){const o=kx();return new Promise((s,a)=>{const c=new nX;c.setWithCredentials(!0),c.listenOnce(JQ.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case VT.NO_ERROR:const h=c.getResponseJson();le(rr,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case VT.TIMEOUT:le(rr,`RPC '${e}' ${o} timed out`),a(new oe(q.DEADLINE_EXCEEDED,"Request time out"));break;case VT.HTTP_ERROR:const p=c.getStatus();if(le(rr,`RPC '${e}' ${o} failed with status:`,p,"response text:",c.getResponseText()),p>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);const v=g?.error;if(v&&v.status&&v.message){const E=function(x){const N=x.toLowerCase().replace(/_/g,"-");return Object.values(q).indexOf(N)>=0?N:q.UNKNOWN}(v.status);a(new oe(E,v.message))}else a(new oe(q.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new oe(q.UNAVAILABLE,"Connection failed."));break;default:Ce()}}finally{le(rr,`RPC '${e}' ${o} completed.`)}});const l=JSON.stringify(r);le(rr,`RPC '${e}' ${o} sending request:`,r),c.send(t,"POST",l,i,15)})}vo(e,t,i){const r=kx(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=QQ(),a=XQ(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.xmlHttpFactory=new tX({})),this.bo(c.initMessageHeaders,t,i),c.encodeInitMessageHeaders=!0;const h=o.join("");le(rr,`Creating RPC '${e}' stream ${r}: ${h}`,c);const p=s.createWebChannel(h,c);let g=!1,v=!1;const E=new ree({co:x=>{v?le(rr,`Not sending because RPC '${e}' stream ${r} is closed:`,x):(g||(le(rr,`Opening RPC '${e}' stream ${r} transport.`),p.open(),g=!0),le(rr,`RPC '${e}' stream ${r} sending:`,x),p.send(x))},lo:()=>p.close()}),C=(x,N,k)=>{x.listen(N,U=>{try{k(U)}catch(Q){setTimeout(()=>{throw Q},0)}})};return C(p,ab.EventType.OPEN,()=>{v||le(rr,`RPC '${e}' stream ${r} transport opened.`)}),C(p,ab.EventType.CLOSE,()=>{v||(v=!0,le(rr,`RPC '${e}' stream ${r} transport closed`),E.Ro())}),C(p,ab.EventType.ERROR,x=>{v||(v=!0,Vr(rr,`RPC '${e}' stream ${r} transport errored:`,x),E.Ro(new oe(q.UNAVAILABLE,"The operation could not be completed")))}),C(p,ab.EventType.MESSAGE,x=>{var N;if(!v){const k=x.data[0];Oe(!!k);const Q=k.error||(null===(N=k[0])||void 0===N?void 0:N.error);if(Q){le(rr,`RPC '${e}' stream ${r} received error:`,Q);const pe=Q.status;let ke=function(kr){const zr=li[kr];if(void 0!==zr)return u2(zr)}(pe),Je=Q.message;void 0===ke&&(ke=q.INTERNAL,Je="Unknown error status: "+pe+" with message "+Q.message),v=!0,E.Ro(new oe(ke,Je)),p.close()}else le(rr,`RPC '${e}' stream ${r} received:`,k),E.Vo(k)}}),C(a,eX.STAT_EVENT,x=>{x.stat===eV.PROXY?le(rr,`RPC '${e}' stream ${r} detected buffering proxy`):x.stat===eV.NOPROXY&&le(rr,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{E.Ao()},0),E}}function vB(){return typeof window<"u"?window:null}function Vb(){return typeof document<"u"?document:null}function Qm(n){return new mJ(n,!0)}class Rx{constructor(e,t,i=1e3,r=1.5,o=6e4){this.si=e,this.timerId=t,this.Fo=i,this.Mo=r,this.xo=o,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const t=Math.floor(this.Oo+this.qo()),i=Math.max(0,Date.now()-this.Bo),r=Math.max(0,t-i);r>0&&le("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Oo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,r,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class yB{constructor(e,t,i,r,o,s,a,c){this.si=e,this.Ko=i,this.$o=r,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new Rx(e,t)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return(0,X.Z)(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return(0,X.Z)(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,t){var i=this;return(0,X.Z)(function*(){i.t_(),i.n_(),i.zo.cancel(),i.Uo++,4!==e?i.zo.reset():t&&t.code===q.RESOURCE_EXHAUSTED?(ei(t.toString()),ei("Using maximum backoff delay to prevent overloading the backend."),i.zo.Lo()):t&&t.code===q.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.r_(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Io(t)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),t=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Uo===t&&this.s_(i,r)},i=>{e(()=>{const r=new oe(q.UNKNOWN,"Fetching auth token failed: "+i.message);return this.o_(r)})})}s_(e,t){const i=this.i_(this.Uo);this.stream=this.__(e,t),this.stream.ho(()=>{i(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(r=>{i(()=>this.o_(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Jo(){var e=this;this.state=5,this.zo.ko((0,X.Z)(function*(){e.state=0,e.start()}))}o_(e){return le("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return t=>{this.si.enqueueAndForget(()=>this.Uo===e?t():(le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class see extends yB{constructor(e,t,i,r,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,s),this.serializer=o}__(e,t){return this.connection.vo("Listen",e,t)}onMessage(e){this.zo.reset();const t=function vJ(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(l=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===l?1:"REMOVE"===l?2:"CURRENT"===l?3:"RESET"===l?4:Ce(),r=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(Oe(void 0===h||"string"==typeof h),Ei.fromBase64String(h||"")):(Oe(void 0===h||h instanceof Uint8Array),Ei.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){const h=void 0===l.code?q.UNKNOWN:u2(l.code);return new oe(h,l.message||"")}(s);t=new m2(i,r,o,a||null)}else if("documentChange"in e){const i=e.documentChange,r=Ns(n,i.document.name),o=ti(i.document.updateTime),s=i.document.createTime?ti(i.document.createTime):Fe.min(),a=new ji({mapValue:{fields:i.document.fields}}),c=En.newFoundDocument(r,o,s,a);t=new Ib(i.targetIds||[],i.removedTargetIds||[],c.key,c)}else if("documentDelete"in e){const i=e.documentDelete,r=Ns(n,i.document),o=i.readTime?ti(i.readTime):Fe.min(),s=En.newNoDocument(r,o);t=new Ib([],i.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const i=e.documentRemove,r=Ns(n,i.document);t=new Ib([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return Ce();{const i=e.filter,{count:r=0,unchangedNames:o}=i,s=new lJ(r,o);t=new p2(i.targetId,s)}}var l;return t}(this.serializer,e),i=function(o){if(!("targetChange"in o))return Fe.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Fe.min():s.readTime?ti(s.readTime):Fe.min()}(e);return this.listener.a_(t,i)}u_(e){const t={};t.database=zm(this.serializer),t.addTarget=function(o,s){let a;const c=s.target;if(a=gb(c)?{documents:T2(o,c)}:{query:lx(o,c)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=y2(o,s.resumeToken);const l=ox(o,s.expectedCount);null!==l&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(Fe.min())>0){a.readTime=ph(o,s.snapshotVersion.toTimestamp());const l=ox(o,s.expectedCount);null!==l&&(a.expectedCount=l)}return a}(this.serializer,e);const i=function bJ(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.e_(t)}c_(e){const t={};t.database=zm(this.serializer),t.removeTarget=e,this.e_(t)}}class aee extends yB{constructor(e,t,i,r,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,s),this.serializer=o,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,t){return this.connection.vo("Write",e,t)}onMessage(e){if(Oe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const t=function yJ(n,e){return n&&n.length>0?(Oe(void 0!==e),n.map(t=>function(r,o){let s=ti(r.updateTime?r.updateTime:o);return s.isEqual(Fe.min())&&(s=ti(o)),new oJ(s,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=ti(e.commitTime);return this.listener.I_(i,t)}return Oe(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=zm(this.serializer),this.e_(e)}P_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>Hm(this.serializer,i))};this.e_(t)}}class cee extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.d_=!1}A_(){if(this.d_)throw new oe(q.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,t,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.wo(e,t,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new oe(q.UNKNOWN,r.toString())})}Co(e,t,i,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(e,t,i,o,s,r)).catch(o=>{throw"FirebaseError"===o.name?(o.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new oe(q.UNKNOWN,o.toString())})}terminate(){this.d_=!0}}class uee{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(ei(t),this.f_=!1):le("OnlineStateTracker",t)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class dee{constructor(e,t,i,r,o){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=o,this.F_.ro(a=>{i.enqueueAndForget((0,X.Z)(function*(){var c;vc(s)&&(le("RemoteStore","Restarting streams for network reachability change."),yield(c=(0,X.Z)(function*(h){const p=_e(h);p.C_.add(4),yield Eh(p),p.M_.set("Unknown"),p.C_.delete(4),yield Xm(p)}),function l(h){return c.apply(this,arguments)})(s))}))}),this.M_=new uee(i,r)}}function Xm(n){return Ox.apply(this,arguments)}function Ox(){return Ox=(0,X.Z)(function*(n){if(vc(n))for(const e of n.v_)yield e(!0)}),Ox.apply(this,arguments)}function Eh(n){return Nx.apply(this,arguments)}function Nx(){return Nx=(0,X.Z)(function*(n){for(const e of n.v_)yield e(!1)}),Nx.apply(this,arguments)}function Bb(n,e){const t=_e(n);t.D_.has(e.targetId)||(t.D_.set(e.targetId,e),Vx(t)?Lx(t):Ch(t).Ho()&&Fx(t,e))}function Jm(n,e){const t=_e(n),i=Ch(t);t.D_.delete(e),i.Ho()&&bB(t,e),0===t.D_.size&&(i.Ho()?i.Zo():vc(t)&&t.M_.set("Unknown"))}function Fx(n,e){if(n.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Fe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ch(n).u_(e)}function bB(n,e){n.x_.Oe(e),Ch(n).c_(e)}function Lx(n){n.x_=new dJ({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>n.D_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),Ch(n).start(),n.M_.g_()}function Vx(n){return vc(n)&&!Ch(n).jo()&&n.D_.size>0}function vc(n){return 0===_e(n).C_.size}function wB(n){n.x_=void 0}function hee(n){return Bx.apply(this,arguments)}function Bx(){return Bx=(0,X.Z)(function*(n){n.D_.forEach((e,t)=>{Fx(n,e)})}),Bx.apply(this,arguments)}function fee(n,e){return Ux.apply(this,arguments)}function Ux(){return Ux=(0,X.Z)(function*(n,e){wB(n),Vx(n)?(n.M_.w_(e),Lx(n)):n.M_.set("Unknown")}),Ux.apply(this,arguments)}function pee(n,e,t){return jx.apply(this,arguments)}function jx(){return jx=(0,X.Z)(function*(n,e,t){if(n.M_.set("Online"),e instanceof m2&&2===e.state&&e.cause)try{yield(i=(0,X.Z)(function*(o,s){const a=s.cause;for(const c of s.targetIds)o.D_.has(c)&&(yield o.remoteSyncer.rejectListen(c,a),o.D_.delete(c),o.x_.removeTarget(c))}),function r(o,s){return i.apply(this,arguments)})(n,e)}catch(i){le("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield Ub(n,i)}else if(e instanceof Ib?n.x_.$e(e):e instanceof p2?n.x_.Je(e):n.x_.Ge(e),!t.isEqual(Fe.min()))try{const i=yield lB(n.localStore);t.compareTo(i)>=0&&(yield function(o,s){const a=o.x_.it(s);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){const h=o.D_.get(l);h&&o.D_.set(l,h.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,l)=>{const h=o.D_.get(c);if(!h)return;o.D_.set(c,h.withResumeToken(Ei.EMPTY_BYTE_STRING,h.snapshotVersion)),bB(o,c);const p=new _a(h.target,c,l,h.sequenceNumber);Fx(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(i){le("RemoteStore","Failed to raise snapshot:",i),yield Ub(n,i)}var i}),jx.apply(this,arguments)}function Ub(n,e,t){return zx.apply(this,arguments)}function zx(){return zx=(0,X.Z)(function*(n,e,t){if(!sc(e))throw e;n.C_.add(1),yield Eh(n),n.M_.set("Offline"),t||(t=()=>lB(n.localStore)),n.asyncQueue.enqueueRetryable((0,X.Z)(function*(){le("RemoteStore","Retrying IndexedDB access"),yield t(),n.C_.delete(1),yield Xm(n)}))}),zx.apply(this,arguments)}function EB(n,e){return e().catch(t=>Ub(n,t,e))}function Ih(n){return Hx.apply(this,arguments)}function Hx(){return Hx=(0,X.Z)(function*(n){const e=_e(n),t=yc(e);let i=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;mee(e);)try{const r=yield JJ(e.localStore,i);if(null===r){0===e.b_.length&&t.Zo();break}i=r.batchId,gee(e,r)}catch(r){yield Ub(e,r)}IB(e)&&CB(e)}),Hx.apply(this,arguments)}function mee(n){return vc(n)&&n.b_.length<10}function gee(n,e){n.b_.push(e);const t=yc(n);t.Ho()&&t.h_&&t.P_(e.mutations)}function IB(n){return vc(n)&&!yc(n).jo()&&n.b_.length>0}function CB(n){yc(n).start()}function _ee(n){return $x.apply(this,arguments)}function $x(){return $x=(0,X.Z)(function*(n){yc(n).E_()}),$x.apply(this,arguments)}function vee(n){return Gx.apply(this,arguments)}function Gx(){return Gx=(0,X.Z)(function*(n){const e=yc(n);for(const t of n.b_)e.P_(t.mutations)}),Gx.apply(this,arguments)}function yee(n,e,t){return qx.apply(this,arguments)}function qx(){return qx=(0,X.Z)(function*(n,e,t){const i=n.b_.shift(),r=nx.from(i,e,t);yield EB(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Ih(n)}),qx.apply(this,arguments)}function bee(n,e){return Wx.apply(this,arguments)}function Wx(){return Wx=(0,X.Z)(function*(n,e){var t;e&&yc(n).h_&&(yield(t=(0,X.Z)(function*(r,o){if(l2(a=o.code)&&a!==q.ABORTED){const s=r.b_.shift();yc(r).Yo(),yield EB(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,o)),yield Ih(r)}var a}),function i(r,o){return t.apply(this,arguments)})(n,e)),IB(n)&&CB(n)}),Wx.apply(this,arguments)}function TB(n,e){return Zx.apply(this,arguments)}function Zx(){return Zx=(0,X.Z)(function*(n,e){const t=_e(n);t.asyncQueue.verifyOperationInProgress(),le("RemoteStore","RemoteStore received new credentials");const i=vc(t);t.C_.add(3),yield Eh(t),i&&t.M_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.C_.delete(3),yield Xm(t)}),Zx.apply(this,arguments)}function Kx(n,e){return Yx.apply(this,arguments)}function Yx(){return Yx=(0,X.Z)(function*(n,e){const t=_e(n);e?(t.C_.delete(2),yield Xm(t)):e||(t.C_.add(2),yield Eh(t),t.M_.set("Unknown"))}),Yx.apply(this,arguments)}function Ch(n){return n.O_||(n.O_=function(t,i,r){const o=_e(t);return o.A_(),new see(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{ho:hee.bind(null,n),Io:fee.bind(null,n),a_:pee.bind(null,n)}),n.v_.push(function(){var e=(0,X.Z)(function*(t){t?(n.O_.Yo(),Vx(n)?Lx(n):n.M_.set("Unknown")):(yield n.O_.stop(),wB(n))});return function(t){return e.apply(this,arguments)}}())),n.O_}function yc(n){return n.N_||(n.N_=function(t,i,r){const o=_e(t);return o.A_(),new aee(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{ho:_ee.bind(null,n),Io:bee.bind(null,n),T_:vee.bind(null,n),I_:yee.bind(null,n)}),n.v_.push(function(){var e=(0,X.Z)(function*(t){t?(n.N_.Yo(),yield Ih(n)):(yield n.N_.stop(),n.b_.length>0&&(le("RemoteStore",`Stopping write stream with ${n.b_.length} pending writes`),n.b_=[]))});return function(t){return e.apply(this,arguments)}}())),n.N_}class Qx{constructor(e,t,i,r,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new wi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,o){const s=Date.now()+i,a=new Qx(e,t,s,r,o);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new oe(q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Th(n,e){if(ei("AsyncQueue",`${e}: ${n}`),sc(n))return new oe(q.UNAVAILABLE,`${e}: ${n}`);throw n}class xh{constructor(e){this.comparator=e?(t,i)=>e(t,i)||ve.comparator(t.key,i.key):(t,i)=>ve.comparator(t.key,i.key),this.keyedMap=Om(),this.sortedSet=new fn(this.comparator)}static emptySet(e){return new xh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof xh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new xh;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class xB{constructor(){this.B_=new fn(ve.comparator)}track(e){const t=e.doc.key,i=this.B_.get(t);i?0!==e.type&&3===i.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==i.type?this.B_=this.B_.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.B_=this.B_.remove(t):1===e.type&&2===i.type?this.B_=this.B_.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):Ce():this.B_=this.B_.insert(t,e)}L_(){const e=[];return this.B_.inorderTraversal((t,i)=>{e.push(i)}),e}}class Dh{constructor(e,t,i,r,o,s,a,c,l){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,t,i,r,o){const s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new Dh(e,t,xh.emptySet(t),s,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class wee{constructor(){this.k_=void 0,this.listeners=[]}}class Eee{constructor(){this.queries=new ma(e=>HV(e),Rm),this.onlineState="Unknown",this.q_=new Set}}function Xx(n,e){return Jx.apply(this,arguments)}function Jx(){return Jx=(0,X.Z)(function*(n,e){const t=_e(n),i=e.query;let r=!1,o=t.queries.get(i);if(o||(r=!0,o=new wee),r)try{o.k_=yield t.onListen(i)}catch(s){const a=Th(s,`Initialization of query '${lh(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.listeners.push(e),e.Q_(t.onlineState),o.k_&&e.K_(o.k_)&&nD(t)}),Jx.apply(this,arguments)}function eD(n,e){return tD.apply(this,arguments)}function tD(){return tD=(0,X.Z)(function*(n,e){const t=_e(n),i=e.query;let r=!1;const o=t.queries.get(i);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),r=0===o.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),tD.apply(this,arguments)}function Iee(n,e){const t=_e(n);let i=!1;for(const r of e){const s=t.queries.get(r.query);if(s){for(const a of s.listeners)a.K_(r)&&(i=!0);s.k_=r}}i&&nD(t)}function Cee(n,e,t){const i=_e(n),r=i.queries.get(e);if(r)for(const o of r.listeners)o.onError(t);i.queries.delete(e)}function nD(n){n.q_.forEach(e=>{e.next()})}class iD{constructor(e,t,i){this.query=e,this.U_=t,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=i||{}}K_(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new Dh(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.W_?this.z_(e)&&(this.U_.next(e),t=!0):this.j_(e,this.onlineState)&&(this.H_(e),t=!0),this.G_=e,t}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let t=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),t=!0),t}j_(e,t){return!e.fromCache||(!this.options.J_||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=Dh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class Tee{constructor(e,t){this.Y_=e,this.byteLength=t}Z_(){return"metadata"in this.Y_}}class DB{constructor(e){this.serializer=e}hs(e){return Ns(this.serializer,e)}Ps(e){return e.metadata.exists?C2(this.serializer,e.document,!1):En.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return ti(e)}}class xee{constructor(e,t,i){this.X_=e,this.localStore=t,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=SB(e)}ea(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++t;const i=Nt.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ta(e){const t=new Map,i=new DB(this.serializer);for(const r of e)if(r.metadata.queries){const o=i.hs(r.metadata.name);for(const s of r.metadata.queries){const a=(t.get(s)||ut()).add(o);t.set(s,a)}}return t}complete(){var e=this;return(0,X.Z)(function*(){const t=yield function eee(n,e,t,i){return Tx.apply(this,arguments)}(e.localStore,new DB(e.serializer),e.documents,e.X_.id),i=e.ta(e.documents);for(const r of e.queries)yield tee(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,na:e.collectionGroups,ra:t}})()}}function SB(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class AB{constructor(e){this.key=e}}class MB{constructor(e){this.key=e}}class kB{constructor(e,t){this.query=e,this.ia=t,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=ut(),this.mutatedKeys=ut(),this._a=GV(e),this.aa=new xh(this._a)}get ua(){return this.ia}ca(e,t){const i=t?t.la:new xB,r=t?t.aa:this.aa;let o=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const c="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((h,p)=>{const g=r.get(h),v=Pm(this.query,p)?p:null,E=!!g&&this.mutatedKeys.has(g.key),C=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let x=!1;g&&v?g.data.isEqual(v.data)?E!==C&&(i.track({type:3,doc:v}),x=!0):this.ha(g,v)||(i.track({type:2,doc:v}),x=!0,(c&&this._a(v,c)>0||l&&this._a(v,l)<0)&&(a=!0)):!g&&v?(i.track({type:0,doc:v}),x=!0):g&&!v&&(i.track({type:1,doc:g}),x=!0,(c||l)&&(a=!0)),x&&(v?(s=s.add(v),o=C?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const h="F"===this.query.limitType?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),i.track({type:1,doc:h})}return{aa:s,la:i,Zi:a,mutatedKeys:o}}ha(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const o=e.la.L_();o.sort((l,h)=>function(g,v){const E=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce()}};return E(g)-E(v)}(l.type,h.type)||this._a(l.doc,h.doc)),this.Pa(i);const s=t?this.Ia():[],a=0===this.oa.size&&this.current?1:0,c=a!==this.sa;return this.sa=a,0!==o.length||c?{snapshot:new Dh(this.query,e.aa,r,o,e.mutatedKeys,0===a,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ta:s}:{Ta:s}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new xB,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(t=>this.ia=this.ia.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.ia=this.ia.delete(t)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=ut(),this.aa.forEach(i=>{this.Ea(i.key)&&(this.oa=this.oa.add(i.key))});const t=[];return e.forEach(i=>{this.oa.has(i)||t.push(new MB(i))}),this.oa.forEach(i=>{e.has(i)||t.push(new AB(i))}),t}da(e){this.ia=e.ls,this.oa=ut();const t=this.ca(e.documents);return this.applyChanges(t,!0)}Aa(){return Dh.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class Dee{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class See{constructor(e){this.key=e,this.Ra=!1}}class Aee{constructor(e,t,i,r,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Va={},this.ma=new ma(a=>HV(a),Rm),this.fa=new Map,this.ga=new Set,this.pa=new fn(ve.comparator),this.ya=new Map,this.wa=new _x,this.Sa={},this.ba=new Map,this.Da=Ll.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function Mee(n,e){return rD.apply(this,arguments)}function rD(){return rD=(0,X.Z)(function*(n,e){const t=DD(n);let i,r;const o=t.ma.get(e);if(o)i=o.targetId,t.sharedClientState.addLocalQueryTarget(i),r=o.view.Aa();else{const s=yield bh(t.localStore,xr(e)),a=t.sharedClientState.addLocalQueryTarget(s.targetId);i=s.targetId,r=yield oD(t,e,i,"current"===a,s.resumeToken),t.isPrimaryClient&&Bb(t.remoteStore,s)}return r}),rD.apply(this,arguments)}function oD(n,e,t,i,r){return sD.apply(this,arguments)}function sD(){return sD=(0,X.Z)(function*(n,e,t,i,r){n.va=(p,g,v)=>{return(E=(0,X.Z)(function*(x,N,k,U){let Q=N.view.ca(k);Q.Zi&&(Q=yield Ob(x.localStore,N.query,!1).then(({documents:Je})=>N.view.ca(Je,Q)));const pe=U&&U.targetChanges.get(N.targetId),ke=N.view.applyChanges(Q,x.isPrimaryClient,pe);return gD(x,N.targetId,ke.Ta),ke.snapshot}),function C(x,N,k,U){return E.apply(this,arguments)})(n,p,g,v);var E};const o=yield Ob(n.localStore,e,!0),s=new kB(e,o.ls),a=s.ca(o.documents),c=Um.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),l=s.applyChanges(a,n.isPrimaryClient,c);gD(n,t,l.Ta);const h=new Dee(e,t,s);return n.ma.set(e,h),n.fa.has(t)?n.fa.get(t).push(e):n.fa.set(t,[e]),l.snapshot}),sD.apply(this,arguments)}function kee(n,e){return aD.apply(this,arguments)}function aD(){return aD=(0,X.Z)(function*(n,e){const t=_e(n),i=t.ma.get(e),r=t.fa.get(i.targetId);if(r.length>1)return t.fa.set(i.targetId,r.filter(o=>!Rm(o,e))),void t.ma.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield wh(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),Jm(t.remoteStore,i.targetId),Sh(t,i.targetId)}).catch(oc))):(Sh(t,i.targetId),yield wh(t.localStore,i.targetId,!0))}),aD.apply(this,arguments)}function cD(){return cD=(0,X.Z)(function*(n,e,t){const i=SD(n);try{const r=yield function(s,a){const c=_e(s),l=Sn.now(),h=a.reduce((v,E)=>v.add(E.key),ut());let p,g;return c.persistence.runTransaction("Locally write mutations","readwrite",v=>{let E=Ur(),C=ut();return c.ss.getEntries(v,h).next(x=>{E=x,E.forEach((N,k)=>{k.isValidDocument()||(C=C.add(N))})}).next(()=>c.localDocuments.getOverlayedDocuments(v,E)).next(x=>{p=x;const N=[];for(const k of a){const U=aJ(k,p.get(k.key).overlayedDocument);null!=U&&N.push(new ga(k.key,U,SV(U.value.mapValue),An.exists(!0)))}return c.mutationQueue.addMutationBatch(v,l,N,a)}).next(x=>{g=x;const N=x.applyToLocalDocumentSet(p,C);return c.documentOverlayCache.saveOverlays(v,x.batchId,N)})}).then(()=>({batchId:g.batchId,changes:WV(p)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,a,c){let l=s.Sa[s.currentUser.toKey()];l||(l=new fn(tt)),l=l.insert(a,c),s.Sa[s.currentUser.toKey()]=l}(i,r.batchId,t),yield va(i,r.changes),yield Ih(i.remoteStore)}catch(r){const o=Th(r,"Failed to persist write");t.reject(o)}}),cD.apply(this,arguments)}function RB(n,e){return lD.apply(this,arguments)}function lD(){return lD=(0,X.Z)(function*(n,e){const t=_e(n);try{const i=yield function XJ(n,e){const t=_e(n),i=e.snapshotVersion;let r=t.ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=t.ss.newChangeBuffer({trackRemovals:!0});r=t.ts;const a=[];e.targetChanges.forEach((h,p)=>{const g=r.get(p);if(!g)return;a.push(t.qr.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.qr.addMatchingKeys(o,h.addedDocuments,p)));let v=g.withSequenceNumber(o.currentSequenceNumber);var C,x,N;null!==e.targetMismatches.get(p)?v=v.withResumeToken(Ei.EMPTY_BYTE_STRING,Fe.min()).withLastLimboFreeSnapshotVersion(Fe.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,i)),r=r.insert(p,v),x=v,N=h,(0===(C=g).resumeToken.approximateByteSize()||x.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=3e8||N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0)&&a.push(t.qr.updateTargetData(o,v))});let c=Ur(),l=ut();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(uB(o,s,e.documentUpdates).next(h=>{c=h.us,l=h.cs})),!i.isEqual(Fe.min())){const h=t.qr.getLastRemoteSnapshotVersion(o).next(p=>t.qr.setTargetsMetadata(o,o.currentSequenceNumber,i));a.push(h)}return B.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,c,l)).next(()=>c)}).then(o=>(t.ts=r,o))}(t.localStore,e);e.targetChanges.forEach((r,o)=>{const s=t.ya.get(o);s&&(Oe(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?s.Ra=!0:r.modifiedDocuments.size>0?Oe(s.Ra):r.removedDocuments.size>0&&(Oe(s.Ra),s.Ra=!1))}),yield va(t,i,e)}catch(i){yield oc(i)}}),lD.apply(this,arguments)}function PB(n,e,t){const i=_e(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.ma.forEach((o,s)=>{const a=s.view.Q_(e);a.snapshot&&r.push(a.snapshot)}),function(s,a){const c=_e(s);c.onlineState=a;let l=!1;c.queries.forEach((h,p)=>{for(const g of p.listeners)g.Q_(a)&&(l=!0)}),l&&nD(c)}(i.eventManager,e),r.length&&i.Va.a_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function Pee(n,e,t){return uD.apply(this,arguments)}function uD(){return uD=(0,X.Z)(function*(n,e,t){const i=_e(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.ya.get(e),o=r&&r.key;if(o){let s=new fn(ve.comparator);s=s.insert(o,En.newNoDocument(o,Fe.min()));const a=ut().add(o),c=new Bm(Fe.min(),new Map,new fn(tt),s,a);yield RB(i,c),i.pa=i.pa.remove(o),i.ya.delete(e),_D(i)}else yield wh(i.localStore,e,!1).then(()=>Sh(i,e,t)).catch(oc)}),uD.apply(this,arguments)}function Oee(n,e){return dD.apply(this,arguments)}function dD(){return dD=(0,X.Z)(function*(n,e){const t=_e(n),i=e.batch.batchId;try{const r=yield function QJ(n,e){const t=_e(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),o=t.ss.newChangeBuffer({trackRemovals:!0});return function(a,c,l,h){const p=l.batch,g=p.keys();let v=B.resolve();return g.forEach(E=>{v=v.next(()=>h.getEntry(c,E)).next(C=>{const x=l.docVersions.get(E);Oe(null!==x),C.version.compareTo(x)<0&&(p.applyToRemoteDocument(C,l),C.isValidDocument()&&(C.setReadTime(l.commitVersion),h.addEntry(C)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(c,p))}(t,i,e,o).next(()=>o.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let c=ut();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}(t.localStore,e);mD(t,i,null),pD(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield va(t,r)}catch(r){yield oc(r)}}),dD.apply(this,arguments)}function Nee(n,e,t){return hD.apply(this,arguments)}function hD(){return hD=(0,X.Z)(function*(n,e,t){const i=_e(n);try{const r=yield function(s,a){const c=_e(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return c.mutationQueue.lookupMutationBatch(l,a).next(p=>(Oe(null!==p),h=p.keys(),c.mutationQueue.removeMutationBatch(l,p))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>c.localDocuments.getDocuments(l,h))})}(i.localStore,e);mD(i,e,t),pD(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield va(i,r)}catch(r){yield oc(r)}}),hD.apply(this,arguments)}function fD(){return fD=(0,X.Z)(function*(n,e){const t=_e(n);vc(t.remoteStore)||le("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const a=_e(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",c=>a.mutationQueue.getHighestUnacknowledgedBatchId(c))}(t.localStore);if(-1===i)return void e.resolve();const r=t.ba.get(i)||[];r.push(e),t.ba.set(i,r)}catch(i){const r=Th(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),fD.apply(this,arguments)}function pD(n,e){(n.ba.get(e)||[]).forEach(t=>{t.resolve()}),n.ba.delete(e)}function mD(n,e,t){const i=_e(n);let r=i.Sa[i.currentUser.toKey()];if(r){const o=r.get(e);o&&(t?o.reject(t):o.resolve(),r=r.remove(e)),i.Sa[i.currentUser.toKey()]=r}}function Sh(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.fa.get(e))n.ma.delete(i),t&&n.Va.Fa(i,t);n.fa.delete(e),n.isPrimaryClient&&n.wa.Rr(e).forEach(i=>{n.wa.containsKey(i)||OB(n,i)})}function OB(n,e){n.ga.delete(e.path.canonicalString());const t=n.pa.get(e);null!==t&&(Jm(n.remoteStore,t),n.pa=n.pa.remove(e),n.ya.delete(t),_D(n))}function gD(n,e,t){for(const i of t)i instanceof AB?(n.wa.addReference(i.key,e),Lee(n,i)):i instanceof MB?(le("SyncEngine","Document no longer in limbo: "+i.key),n.wa.removeReference(i.key,e),n.wa.containsKey(i.key)||OB(n,i.key)):Ce()}function Lee(n,e){const t=e.key,i=t.path.canonicalString();n.pa.get(t)||n.ga.has(i)||(le("SyncEngine","New document in limbo: "+t),n.ga.add(i),_D(n))}function _D(n){for(;n.ga.size>0&&n.pa.size<n.maxConcurrentLimboResolutions;){const e=n.ga.values().next().value;n.ga.delete(e);const t=new ve(Nt.fromString(e)),i=n.Da.next();n.ya.set(i,new See(t)),n.pa=n.pa.insert(t,i),Bb(n.remoteStore,new _a(xr(ah(t.path)),i,"TargetPurposeLimboResolution",ro._e))}}function va(n,e,t){return vD.apply(this,arguments)}function vD(){return vD=(0,X.Z)(function*(n,e,t){const i=_e(n),r=[],o=[],s=[];var a;i.ma.isEmpty()||(i.ma.forEach((a,c)=>{s.push(i.va(c,e,t).then(l=>{if((l||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(c.targetId,l?.fromCache?"not-current":"current"),l){r.push(l);const h=Ex.Qi(c.targetId,l);o.push(h)}}))}),yield Promise.all(s),i.Va.a_(r),yield(a=(0,X.Z)(function*(l,h){const p=_e(l);try{yield p.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>B.forEach(h,v=>B.forEach(v.ki,E=>p.persistence.referenceDelegate.addReference(g,v.targetId,E)).next(()=>B.forEach(v.qi,E=>p.persistence.referenceDelegate.removeReference(g,v.targetId,E)))))}catch(g){if(!sc(g))throw g;le("LocalStore","Failed to update sequence numbers: "+g)}for(const g of h){const v=g.targetId;if(!g.fromCache){const E=p.ts.get(v),x=E.withLastLimboFreeSnapshotVersion(E.snapshotVersion);p.ts=p.ts.insert(v,x)}}}),function c(l,h){return a.apply(this,arguments)})(i.localStore,o))}),vD.apply(this,arguments)}function Vee(n,e){return yD.apply(this,arguments)}function yD(){return yD=(0,X.Z)(function*(n,e){const t=_e(n);if(!t.currentUser.isEqual(e)){le("SyncEngine","User change. New user:",e.toKey());const i=yield cB(t.localStore,e);t.currentUser=e,(o=t).ba.forEach(a=>{a.forEach(c=>{c.reject(new oe(q.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.ba.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield va(t,i._s)}var o}),yD.apply(this,arguments)}function Bee(n,e){const t=_e(n),i=t.ya.get(e);if(i&&i.Ra)return ut().add(i.key);{let r=ut();const o=t.fa.get(e);if(!o)return r;for(const s of o){const a=t.ma.get(s);r=r.unionWith(a.view.ua)}return r}}function Uee(n,e){return bD.apply(this,arguments)}function bD(){return bD=(0,X.Z)(function*(n,e){const t=_e(n),i=yield Ob(t.localStore,e.query,!0),r=e.view.da(i);return t.isPrimaryClient&&gD(t,e.targetId,r.Ta),r}),bD.apply(this,arguments)}function jee(n,e){return wD.apply(this,arguments)}function wD(){return wD=(0,X.Z)(function*(n,e){const t=_e(n);return hB(t.localStore,e).then(i=>va(t,i))}),wD.apply(this,arguments)}function zee(n,e,t,i){return ED.apply(this,arguments)}function ED(){return ED=(0,X.Z)(function*(n,e,t,i){const r=_e(n),o=yield function(a,c){const l=_e(a),h=_e(l.mutationQueue);return l.persistence.runTransaction("Lookup mutation documents","readonly",p=>h.Cn(p,c).next(g=>g?l.localDocuments.getDocuments(p,g):B.resolve(null)))}(r.localStore,e);var c;null!==o?("pending"===t?yield Ih(r.remoteStore):"acknowledged"===t||"rejected"===t?(mD(r,e,i||null),pD(r,e),c=e,_e(_e(r.localStore).mutationQueue).Fn(c)):Ce(),yield va(r,o)):le("SyncEngine","Cannot apply mutation batch with id: "+e)}),ED.apply(this,arguments)}function ID(){return ID=(0,X.Z)(function*(n,e){const t=_e(n);if(DD(t),SD(t),!0===e&&!0!==t.Ca){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield NB(t,i.toArray());t.Ca=!0,yield Kx(t.remoteStore,!0);for(const o of r)Bb(t.remoteStore,o)}else if(!1===e&&!1!==t.Ca){const i=[];let r=Promise.resolve();t.fa.forEach((o,s)=>{t.sharedClientState.isLocalQueryTarget(s)?i.push(s):r=r.then(()=>(Sh(t,s),wh(t.localStore,s,!0))),Jm(t.remoteStore,s)}),yield r,yield NB(t,i),function(s){const a=_e(s);a.ya.forEach((c,l)=>{Jm(a.remoteStore,l)}),a.wa.Vr(),a.ya=new Map,a.pa=new fn(ve.comparator)}(t),t.Ca=!1,yield Kx(t.remoteStore,!1)}}),ID.apply(this,arguments)}function NB(n,e,t){return CD.apply(this,arguments)}function CD(){return CD=(0,X.Z)(function*(n,e,t){const i=_e(n),r=[],o=[];for(const s of e){let a;const c=i.fa.get(s);if(c&&0!==c.length){a=yield bh(i.localStore,xr(c[0]));for(const l of c){const h=i.ma.get(l),p=yield Uee(i,h);p.snapshot&&o.push(p.snapshot)}}else{const l=yield dB(i.localStore,s);a=yield bh(i.localStore,l),yield oD(i,FB(l),s,!1,a.resumeToken)}r.push(a)}return i.Va.a_(o),r}),CD.apply(this,arguments)}function FB(n){return UV(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function $ee(n){return t=_e(n).localStore,_e(_e(t).persistence).Bi();var t}function Gee(n,e,t,i){return TD.apply(this,arguments)}function TD(){return TD=(0,X.Z)(function*(n,e,t,i){const r=_e(n);if(r.Ca)return void le("SyncEngine","Ignoring unexpected query state notification.");const o=r.fa.get(e);if(o&&o.length>0)switch(t){case"current":case"not-current":{const s=yield hB(r.localStore,$V(o[0])),a=Bm.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Ei.EMPTY_BYTE_STRING);yield va(r,s,a);break}case"rejected":yield wh(r.localStore,e,!0),Sh(r,e,i);break;default:Ce()}}),TD.apply(this,arguments)}function qee(n,e,t){return xD.apply(this,arguments)}function xD(){return xD=(0,X.Z)(function*(n,e,t){const i=DD(n);if(i.Ca){for(const r of e){if(i.fa.has(r)){le("SyncEngine","Adding an already active target "+r);continue}const o=yield dB(i.localStore,r),s=yield bh(i.localStore,o);yield oD(i,FB(o),s.targetId,!1,s.resumeToken),Bb(i.remoteStore,s)}for(const r of t)i.fa.has(r)&&(yield wh(i.localStore,r,!1).then(()=>{Jm(i.remoteStore,r),Sh(i,r)}).catch(oc))}}),xD.apply(this,arguments)}function DD(n){const e=_e(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=RB.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Bee.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Pee.bind(null,e),e.Va.a_=Iee.bind(null,e.eventManager),e.Va.Fa=Cee.bind(null,e.eventManager),e}function SD(n){const e=_e(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Oee.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Nee.bind(null,e),e}class eg{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,X.Z)(function*(){t.serializer=Qm(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return aB(this.persistence,new sB,e.initialUser,this.serializer)}createPersistence(e){return new vx(kb.jr,this.serializer)}createSharedClientState(e){return new gB}terminate(){var e=this;return(0,X.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class AD extends eg{constructor(e,t,i){super(),this.xa=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,X.Z)(function*(){yield t().call(i,e),yield i.xa.initialize(i,e),yield SD(i.xa.syncEngine),yield Ih(i.xa.remoteStore),yield i.persistence.mi(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return aB(this.persistence,new sB,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new Q2(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const i=new yX(t,this.persistence);return new vX(e.asyncQueue,i)}createPersistence(e){const t=wx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?ir.withCacheSize(this.cacheSizeBytes):ir.DEFAULT;return new bx(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,vB(),Vb(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new gB}}class LB extends AD{constructor(e,t){super(e,t,!1),this.xa=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,X.Z)(function*(){yield t().call(i,e);const r=i.xa.syncEngine;i.sharedClientState instanceof Mx&&(i.sharedClientState.syncEngine={Ys:zee.bind(null,r),Zs:Gee.bind(null,r),Xs:qee.bind(null,r),Bi:$ee.bind(null,r),Js:jee.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.mi(function(){var o=(0,X.Z)(function*(s){yield function Hee(n,e){return ID.apply(this,arguments)}(i.xa.syncEngine,s),i.gcScheduler&&(s&&!i.gcScheduler.started?i.gcScheduler.start():s||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(s&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():s||i.indexBackfillerScheduler.stop())});return function(s){return o.apply(this,arguments)}}())})()}createSharedClientState(e){const t=vB();if(!Mx.D(t))throw new oe(q.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=wx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Mx(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class Ah{initialize(e,t){var i=this;return(0,X.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>PB(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=Vee.bind(null,i.syncEngine),yield Kx(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Eee}createDatastore(e){const t=Qm(e.databaseInfo.databaseId),i=new oee(e.databaseInfo);return new cee(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return i=this.localStore,r=this.datastore,o=e.asyncQueue,s=t=>PB(this.syncEngine,t,0),a=_B.D()?new _B:new nee,new dee(i,r,o,s,a);var i,r,o,s,a}createSyncEngine(e,t){return function(r,o,s,a,c,l,h){const p=new Aee(r,o,s,a,c,l);return h&&(p.Ca=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,X.Z)(function*(i){const r=_e(i);le("RemoteStore","RemoteStore shutting down."),r.C_.add(5),yield Eh(r),r.F_.shutdown(),r.M_.set("Unknown")}),function t(i){return e.apply(this,arguments)})(this.remoteStore);var e}}function VB(n,e=10240){let t=0;return{read:()=>(0,X.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,X.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class jb{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):ei("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Kee{constructor(e,t){this.Ba=e,this.serializer=t,this.metadata=new wi,this.buffer=new Uint8Array,this.La=new TextDecoder("utf-8"),this.ka().then(i=>{i&&i.Z_()?this.metadata.resolve(i.Y_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Y_)}`))},i=>this.metadata.reject(i))}close(){return this.Ba.cancel()}getMetadata(){var e=this;return(0,X.Z)(function*(){return e.metadata.promise})()}Ma(){var e=this;return(0,X.Z)(function*(){return yield e.getMetadata(),e.ka()})()}ka(){var e=this;return(0,X.Z)(function*(){const t=yield e.qa();if(null===t)return null;const i=e.La.decode(t),r=Number(i);isNaN(r)&&e.Qa(`length string (${i}) is not valid number`);const o=yield e.Ka(r);return new Tee(JSON.parse(o),t.length+r)})()}$a(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}qa(){var e=this;return(0,X.Z)(function*(){for(;e.$a()<0&&!(yield e.Ua()););if(0===e.buffer.length)return null;const t=e.$a();t<0&&e.Qa("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}Ka(e){var t=this;return(0,X.Z)(function*(){for(;t.buffer.length<e;)(yield t.Ua())&&t.Qa("Reached the end of bundle when more is expected.");const i=t.La.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Qa(e){throw this.Ba.cancel(),new Error(`Invalid bundle format: ${e}`)}Ua(){var e=this;return(0,X.Z)(function*(){const t=yield e.Ba.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class Yee{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,X.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new oe(q.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,X.Z)(function*(s,a){const c=_e(s),l=zm(c.serializer)+"/documents",h={documents:a.map(E=>jm(c.serializer,E))},p=yield c.Co("BatchGetDocuments",l,h,a.length),g=new Map;p.forEach(E=>{const C=function _J(n,e){return"found"in e?function(i,r){Oe(!!r.found);const o=Ns(i,r.found.name),s=ti(r.found.updateTime),a=r.found.createTime?ti(r.found.createTime):Fe.min(),c=new ji({mapValue:{fields:r.found.fields}});return En.newFoundDocument(o,s,a,c)}(n,e):"missing"in e?function(i,r){Oe(!!r.missing),Oe(!!r.readTime);const o=Ns(i,r.missing),s=ti(r.readTime);return En.newNoDocument(o,s)}(n,e):Ce()}(c.serializer,E);g.set(C.key.toString(),C)});const v=[];return a.forEach(E=>{const C=g.get(E.toString());Oe(!!C),v.push(C)}),v}),function o(s,a){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new fh(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,X.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const o=ve.fromPath(r);e.mutations.push(new ex(o,e.precondition(o)))}),yield(i=(0,X.Z)(function*(o,s){const a=_e(o),c=zm(a.serializer)+"/documents",l={writes:s.map(h=>Hm(a.serializer,h))};yield a.wo("Commit",c,l)}),function r(o,s){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ce();t=Fe.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new oe(q.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Fe.min())?An.exists(!1):An.updateTime(t):An.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Fe.min()))throw new oe(q.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return An.updateTime(t)}return An.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Qee{constructor(e,t,i,r,o){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=o,this.Wa=i.maxAttempts,this.zo=new Rx(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){var e=this;this.zo.ko((0,X.Z)(function*(){const t=new Yee(e.datastore),i=e.za(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(o=>{e.ja(o)}))}).catch(r=>{e.ja(r)})}))}za(e){try{const t=this.updateFunction(e);return!Cm(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}ja(e){this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ga(),Promise.resolve()))):this.deferred.reject(e)}Ha(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!l2(t)}return!1}}class Xee{constructor(e,t,i,r){var o=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=Si.UNAUTHENTICATED,this.clientId=rV.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var s=(0,X.Z)(function*(a){le("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(i,s=>(le("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}getConfiguration(){var e=this;return(0,X.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new oe(q.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new wi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,X.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=Th(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function zb(n,e){return MD.apply(this,arguments)}function MD(){return MD=(0,X.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),le("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,X.Z)(function*(o){i.isEqual(o)||(yield cB(e.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),MD.apply(this,arguments)}function kD(n,e){return RD.apply(this,arguments)}function RD(){return RD=(0,X.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield PD(n);le("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>TB(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>TB(e.remoteStore,o)),n._onlineComponents=e}),RD.apply(this,arguments)}function BB(n){return"FirebaseError"===n.name?n.code===q.FAILED_PRECONDITION||n.code===q.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function PD(n){return OD.apply(this,arguments)}function OD(){return OD=(0,X.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){le("FirestoreClient","Using user provided OfflineComponentProvider");try{yield zb(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!BB(t))throw t;Vr("Error using user provided cache. Falling back to memory cache: "+t),yield zb(n,new eg)}}else le("FirestoreClient","Using default OfflineComponentProvider"),yield zb(n,new eg);return n._offlineComponents}),OD.apply(this,arguments)}function Hb(n){return ND.apply(this,arguments)}function ND(){return ND=(0,X.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(le("FirestoreClient","Using user provided OnlineComponentProvider"),yield kD(n,n._uninitializedComponentsProvider._online)):(le("FirestoreClient","Using default OnlineComponentProvider"),yield kD(n,new Ah))),n._onlineComponents}),ND.apply(this,arguments)}function UB(n){return PD(n).then(e=>e.persistence)}function Mh(n){return PD(n).then(e=>e.localStore)}function jB(n){return Hb(n).then(e=>e.remoteStore)}function FD(n){return Hb(n).then(e=>e.syncEngine)}function kh(n){return LD.apply(this,arguments)}function LD(){return LD=(0,X.Z)(function*(n){const e=yield Hb(n),t=e.eventManager;return t.onListen=Mee.bind(null,e.syncEngine),t.onUnlisten=kee.bind(null,e.syncEngine),t}),LD.apply(this,arguments)}function HB(n,e,t={}){const i=new wi;return n.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return function(o,s,a,c,l){const h=new jb({next:g=>{s.enqueueAndForget(()=>eD(o,p));const v=g.docs.has(a);!v&&g.fromCache?l.reject(new oe(q.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&g.fromCache&&c&&"server"===c.source?l.reject(new oe(q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(g)},error:g=>l.reject(g)}),p=new iD(ah(a.path),h,{includeMetadataChanges:!0,J_:!0});return Xx(o,p)}(yield kh(n),n.asyncQueue,e,t,i)})),i.promise}function $B(n,e,t={}){const i=new wi;return n.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return function(o,s,a,c,l){const h=new jb({next:g=>{s.enqueueAndForget(()=>eD(o,p)),g.fromCache&&"server"===c.source?l.reject(new oe(q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(g)},error:g=>l.reject(g)}),p=new iD(a,h,{includeMetadataChanges:!0,J_:!0});return Xx(o,p)}(yield kh(n),n.asyncQueue,e,t,i)})),i.promise}function GB(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const qB=new Map;function VD(n,e,t){if(!t)throw new oe(q.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function WB(n,e,t,i){if(!0===e&&!0===i)throw new oe(q.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function ZB(n){if(!ve.isDocumentKey(n))throw new oe(q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function KB(n){if(ve.isDocumentKey(n))throw new oe(q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function $b(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(i=n).constructor?i.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var i;return"function"==typeof n?"a function":Ce()}function St(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new oe(q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=$b(n);throw new oe(q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function YB(n,e){if(e<=0)throw new oe(q.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class QB{constructor(e){var t,i;if(void 0===e.host){if(void 0!==e.ssl)throw new oe(q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new oe(q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}WB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=GB(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new oe(q.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new oe(q.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new oe(q.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class tg{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new QB({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new oe(q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new oe(q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new QB(e),void 0!==e.credentials&&(this._authCredentials=function(i){if(!i)return new sX;switch(i.type){case"firstParty":return new uX(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new oe(q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=qB.get(t);i&&(le("ComponentProvider","Removing Datastore"),qB.delete(t),i.terminate())}(this),Promise.resolve()}}class zi{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new zi(this.firestore,e,this._query)}}class In{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new In(this.firestore,e,this._key)}}class Fs extends zi{constructor(e,t,i){super(e,t,ah(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new In(this.firestore,null,new ve(e))}withConverter(e){return new Fs(this.firestore,e,this._path)}}function JB(n,e,...t){if(n=(0,cn.m9)(n),VD("collection","path",e),n instanceof tg){const i=Nt.fromString(e,...t);return KB(i),new Fs(n,null,i)}{if(!(n instanceof In||n instanceof Fs))throw new oe(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Nt.fromString(e,...t));return KB(i),new Fs(n.firestore,null,i)}}function Gb(n,e,...t){if(n=(0,cn.m9)(n),1===arguments.length&&(e=rV.newId()),VD("doc","path",e),n instanceof tg){const i=Nt.fromString(e,...t);return ZB(i),new In(n,null,new ve(i))}{if(!(n instanceof In||n instanceof Fs))throw new oe(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Nt.fromString(e,...t));return ZB(i),new In(n.firestore,n instanceof Fs?n.converter:null,new ve(i))}}function eU(n,e){return n=(0,cn.m9)(n),e=(0,cn.m9)(e),(n instanceof In||n instanceof Fs)&&(e instanceof In||e instanceof Fs)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function BD(n,e){return n=(0,cn.m9)(n),e=(0,cn.m9)(e),n instanceof zi&&e instanceof zi&&n.firestore===e.firestore&&Rm(n._query,e._query)&&n.converter===e.converter}class ute{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new Rx(this,"async_queue_retry"),this.iu=()=>{const t=Vb();t&&le("AsyncQueue","Visibility state changed to "+t.visibilityState),this.zo.Qo()};const e=Vb();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const t=Vb();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const t=new wi;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return(0,X.Z)(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(t){if(!sc(t))throw t;le("AsyncQueue","Operation failed with retryable error: "+t)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const t=this.Ja.then(()=>(this.tu=!0,e().catch(i=>{throw this.eu=i,this.tu=!1,ei("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(i)),i}).then(i=>(this.tu=!1,i))));return this.Ja=t,t}enqueueAfterDelay(e,t,i){this.su(),this.ru.indexOf(e)>-1&&(t=0);const r=Qx.createAndSchedule(this,e,t,i,o=>this.au(o));return this.Xa.push(r),r}su(){this.eu&&Ce()}verifyOperationInProgress(){}uu(){var e=this;return(0,X.Z)(function*(){let t;do{t=e.Ja,yield t}while(t!==e.Ja)})()}cu(e){for(const t of this.Xa)if(t.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Xa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const t=this.Xa.indexOf(e);this.Xa.splice(t,1)}}function UD(n){return function(t,i){if("object"!=typeof t||null===t)return!1;const r=t;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class dte{constructor(){this._progressObserver={},this._taskCompletionResolver=new wi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class pn extends tg{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new ute,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||tU(this),this._firestoreClient.terminate()}}function $n(n){return n._firestoreClient||tU(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function tU(n){var e,t,i;const r=n._freezeSettings(),o=(c=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new UX(n._databaseId,c,n._persistenceKey,(h=r).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,GB(h.experimentalLongPollingOptions),h.useFetchStreams));var c,h;n._firestoreClient=new Xee(n._authCredentials,n._appCheckCredentials,n._queue,o),null!==(t=r.localCache)&&void 0!==t&&t._offlineComponentProvider&&null!==(i=r.localCache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}function nU(n,e,t){const i=new wi;return n.asyncQueue.enqueue((0,X.Z)(function*(){try{yield zb(n,t),yield kD(n,e),i.resolve()}catch(r){const o=r;if(!BB(o))throw o;Vr("Error enabling indexeddb cache. Falling back to memory cache: "+o),i.reject(o)}})).then(()=>i.promise)}function iU(n){if(n._initialized||n._terminated)throw new oe(q.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ls{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ls(Ei.fromBase64String(e))}catch(t){throw new oe(q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ls(Ei.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ya{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new oe(q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Bl{constructor(e){this._methodName=e}}class qb{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new oe(q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new oe(q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return tt(this._lat,e._lat)||tt(this._long,e._long)}}const Ete=/^__.*__$/;class Ite{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new ga(e,this.data,this.fieldMask,t,this.fieldTransforms):new hh(e,this.data,t,this.fieldTransforms)}}class rU{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new ga(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function oU(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce()}}class Wb{constructor(e,t,i,r,o,s){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===o&&this.Pu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new Wb(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tu({path:i,du:!1});return r.Au(e),r}Ru(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tu({path:i,du:!1});return r.Pu(),r}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return Yb(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(oU(this.Iu)&&Ete.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class Cte{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Qm(e)}pu(e,t,i,r=!1){return new Wb({Iu:e,methodName:t,gu:i,path:wn.emptyPath(),du:!1,fu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ul(n){const e=n._freezeSettings(),t=Qm(n._databaseId);return new Cte(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Zb(n,e,t,i,r,o={}){const s=n.pu(o.merge||o.mergeFields?2:0,e,t,r);$D("Data must be an object, but it was:",s,i);const a=cU(i,s);let c,l;if(o.merge)c=new Br(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){const h=[];for(const p of o.mergeFields){const g=rg(e,p,t);if(!s.contains(g))throw new oe(q.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);uU(h,g)||h.push(g)}c=new Br(h),l=s.fieldTransforms.filter(p=>c.covers(p.field))}else c=null,l=s.fieldTransforms;return new Ite(new ji(a),c,l)}class ig extends Bl{_toFieldTransform(e){if(2!==e.Iu)throw e.mu(1===e.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ig}}function sU(n,e,t){return new Wb({Iu:3,gu:e.settings.gu,methodName:n._methodName,du:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class jD extends Bl{_toFieldTransform(e){return new Fm(e.path,new uh)}isEqual(e){return e instanceof jD}}class Tte extends Bl{constructor(e,t){super(e),this.yu=t}_toFieldTransform(e){const t=sU(this,e,!0),i=this.yu.map(o=>jl(o,t)),r=new Ml(i);return new Fm(e.path,r)}isEqual(e){return this===e}}class xte extends Bl{constructor(e,t){super(e),this.yu=t}_toFieldTransform(e){const t=sU(this,e,!0),i=this.yu.map(o=>jl(o,t)),r=new kl(i);return new Fm(e.path,r)}isEqual(e){return this===e}}class Dte extends Bl{constructor(e,t){super(e),this.wu=t}_toFieldTransform(e){const t=new dh(e.serializer,QV(e.serializer,this.wu));return new Fm(e.path,t)}isEqual(e){return this===e}}function zD(n,e,t,i){const r=n.pu(1,e,t);$D("Data must be an object, but it was:",r,i);const o=[],s=ji.empty();ac(i,(c,l)=>{const h=Kb(e,c,t);l=(0,cn.m9)(l);const p=r.Ru(h);if(l instanceof ig)o.push(h);else{const g=jl(l,p);null!=g&&(o.push(h),s.set(h,g))}});const a=new Br(o);return new rU(s,a,r.fieldTransforms)}function HD(n,e,t,i,r,o){const s=n.pu(1,e,t),a=[rg(e,i,t)],c=[r];if(o.length%2!=0)throw new oe(q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)a.push(rg(e,o[g])),c.push(o[g+1]);const l=[],h=ji.empty();for(let g=a.length-1;g>=0;--g)if(!uU(l,a[g])){const v=a[g];let E=c[g];E=(0,cn.m9)(E);const C=s.Ru(v);if(E instanceof ig)l.push(v);else{const x=jl(E,C);null!=x&&(l.push(v),h.set(v,x))}}const p=new Br(l);return new rU(h,p,s.fieldTransforms)}function aU(n,e,t,i=!1){return jl(t,n.pu(i?4:3,e))}function jl(n,e){if(lU(n=(0,cn.m9)(n)))return $D("Unsupported field value:",e,n),cU(n,e);if(n instanceof Bl)return function(i,r){if(!oU(r.Iu))throw r.mu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.mu(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(i,r){const o=[];let s=0;for(const a of i){let c=jl(a,r.Vu(s));null==c&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(n,e)}return function(i,r){if(null===(i=(0,cn.m9)(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return QV(r.serializer,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){const o=Sn.fromDate(i);return{timestampValue:ph(r.serializer,o)}}if(i instanceof Sn){const o=new Sn(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:ph(r.serializer,o)}}if(i instanceof qb)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Ls)return{bytesValue:y2(r.serializer,i._byteString)};if(i instanceof In){const o=r.databaseId,s=i.firestore._databaseId;if(!s.isEqual(o))throw r.mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:sx(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.mu(`Unsupported field value: ${$b(i)}`)}(n,e)}function cU(n,e){const t={};return yV(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ac(n,(i,r)=>{const o=jl(r,e.Eu(i));null!=o&&(t[i]=o)}),{mapValue:{fields:t}}}function lU(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Sn||n instanceof qb||n instanceof Ls||n instanceof In||n instanceof Bl)}function $D(n,e,t){if(!lU(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const i=$b(t);throw e.mu("an object"===i?n+" a custom object":n+" "+i)}var r}function rg(n,e,t){if((e=(0,cn.m9)(e))instanceof ya)return e._internalPath;if("string"==typeof e)return Kb(n,e);throw Yb("Field path arguments must be of type string or ",n,!1,void 0,t)}const Ste=new RegExp("[~\\*/\\[\\]]");function Kb(n,e,t){if(e.search(Ste)>=0)throw Yb(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ya(...e.split("."))._internalPath}catch{throw Yb(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Yb(n,e,t,i,r){const o=i&&!i.isEmpty(),s=void 0!==r;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${i}`),s&&(c+=` in document ${r}`),c+=")"),new oe(q.INVALID_ARGUMENT,a+n+c)}function uU(n,e){return n.some(t=>t.isEqual(e))}class og{constructor(e,t,i,r,o){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new In(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Ate(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Qb("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Ate extends og{data(){return super.data()}}function Qb(n,e){return"string"==typeof e?Kb(n,e):e instanceof ya?e._internalPath:e._delegate._internalPath}function dU(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new oe(q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class GD{}class sg extends GD{}function bc(n,e,...t){let i=[];e instanceof GD&&i.push(e),i=i.concat(t),function(o){const s=o.filter(c=>c instanceof Rh).length,a=o.filter(c=>c instanceof ag).length;if(s>1||s>0&&a>0)throw new oe(q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class ag extends sg{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new ag(e,t,i)}_apply(e){const t=this._parse(e);return mU(e._query,t),new zi(e.firestore,e.converter,XT(e._query,t))}_parse(e){const t=Ul(e.firestore);return function(o,s,a,c,l,h,p){let g;if(l.isKeyField()){if("array-contains"===h||"array-contains-any"===h)throw new oe(q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if("in"===h||"not-in"===h){pU(p,h);const v=[];for(const E of p)v.push(fU(c,o,E));g={arrayValue:{values:v}}}else g=fU(c,o,p)}else"in"!==h&&"not-in"!==h&&"array-contains-any"!==h||pU(p,h),g=aU(a,"where",p,"in"===h||"not-in"===h);return Rt.create(l,h,g)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Rh extends GD{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Rh(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:Qt.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,o){let s=r;const a=o.getFlattenedFilters();for(const c of a)mU(s,c),s=XT(s,c)}(e._query,t),new zi(e.firestore,e.converter,XT(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class qD extends sg{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new qD(e,t)}_apply(e){const t=function(r,o,s){if(null!==r.startAt)throw new oe(q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new oe(q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Mm(o,s)}(e._query,this._field,this._direction);return new zi(e.firestore,e.converter,function(r,o){const s=r.explicitOrderBy.concat([o]);return new pa(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class Xb extends sg{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new Xb(e,t,i)}_apply(e){return new zi(e.firestore,e.converter,vb(e._query,this._limit,this._limitType))}}class Jb extends sg{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new Jb(e,t,i)}_apply(e){const t=hU(e,this.type,this._docOrFields,this._inclusive);return new zi(e.firestore,e.converter,(o=t,new pa((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class e0 extends sg{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new e0(e,t,i)}_apply(e){const t=hU(e,this.type,this._docOrFields,this._inclusive);return new zi(e.firestore,e.converter,(o=t,new pa((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function hU(n,e,t,i){if(t[0]=(0,cn.m9)(t[0]),t[0]instanceof og)return function(o,s,a,c,l){if(!c)throw new oe(q.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const h=[];for(const p of ch(o))if(p.field.isKeyField())h.push(Sl(s,c.key));else{const g=c.data.field(p.field);if(db(g))throw new oe(q.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+p.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===g){const v=p.field.canonicalString();throw new oe(q.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${v}' (used as the orderBy) does not exist.`)}h.push(g)}return new fc(h,l)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=Ul(n.firestore);return function(s,a,c,l,h,p){const g=s.explicitOrderBy;if(h.length>g.length)throw new oe(q.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const v=[];for(let E=0;E<h.length;E++){const C=h[E];if(g[E].field.isKeyField()){if("string"!=typeof C)throw new oe(q.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof C}`);if(!QT(s)&&-1!==C.indexOf("/"))throw new oe(q.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${C}' contains a slash.`);const x=s.path.child(Nt.fromString(C));if(!ve.isDocumentKey(x))throw new oe(q.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${x}' is not because it contains an odd number of segments.`);const N=new ve(x);v.push(Sl(a,N))}else{const x=aU(c,l,C);v.push(x)}}return new fc(v,p)}(n._query,n.firestore._databaseId,r,e,t,i)}}function fU(n,e,t){if("string"==typeof(t=(0,cn.m9)(t))){if(""===t)throw new oe(q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!QT(e)&&-1!==t.indexOf("/"))throw new oe(q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Nt.fromString(t));if(!ve.isDocumentKey(i))throw new oe(q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Sl(n,new ve(i))}if(t instanceof In)return Sl(n,t._key);throw new oe(q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$b(t)}.`)}function pU(n,e){if(!Array.isArray(n)||0===n.length)throw new oe(q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function mU(n,e){const t=function(r,o){for(const s of r)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new oe(q.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class WD{convertValue(e,t="none"){switch(dc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Hn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(fa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ce()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return ac(e,(r,o)=>{i[r]=this.convertValue(o,t)}),i}convertGeoPoint(e){return new qb(Hn(e.latitude),Hn(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=hb(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(xm(e));default:return null}}convertTimestamp(e){const t=cc(e);return new Sn(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Nt.fromString(e);Oe(A2(i));const r=new lc(i.get(1),i.get(3)),o=new ve(i.popFirst(5));return r.isEqual(t)||ei(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}function t0(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class Vte extends WD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ls(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new In(this.firestore,null,t)}}class zl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ba extends og{constructor(e,t,i,r,o,s){super(e,t,i,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new cg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Qb("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class cg extends ba{data(e={}){return super.data(e)}}class wc{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new zl(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new cg(this._firestore,this._userDataWriter,i.key,i,new zl(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new oe(q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(a=>({type:"added",doc:new cg(r._firestore,r._userDataWriter,a.doc.key,a.doc,new zl(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>o||3!==a.type).map(a=>{const c=new cg(r._firestore,r._userDataWriter,a.doc.key,a.doc,new zl(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,h=-1;return 0!==a.type&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:Ute(a.type),doc:c,oldIndex:l,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Ute(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce()}}function _U(n,e){return n instanceof ba&&e instanceof ba?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof wc&&e instanceof wc&&n._firestore===e._firestore&&BD(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Ec extends WD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ls(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new In(this.firestore,null,t)}}function vU(n,e,t){n=St(n,In);const i=St(n.firestore,pn),r=t0(n.converter,e,t);return Ph(i,[Zb(Ul(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,An.none())])}function yU(n,e,t,...i){n=St(n,In);const r=St(n.firestore,pn),o=Ul(r);let s;return s="string"==typeof(e=(0,cn.m9)(e))||e instanceof ya?HD(o,"updateDoc",n._key,e,t,i):zD(o,"updateDoc",n._key,e),Ph(r,[s.toMutation(n._key,An.exists(!0))])}function bU(n,...e){var t,i,r;n=(0,cn.m9)(n);let o={includeMetadataChanges:!1},s=0;"object"!=typeof e[s]||UD(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges};if(UD(e[s])){const p=e[s];e[s]=null===(t=p.next)||void 0===t?void 0:t.bind(p),e[s+1]=null===(i=p.error)||void 0===i?void 0:i.bind(p),e[s+2]=null===(r=p.complete)||void 0===r?void 0:r.bind(p)}let c,l,h;if(n instanceof In)l=St(n.firestore,pn),h=ah(n._key.path),c={next:p=>{e[s]&&e[s](ZD(l,n,p))},error:e[s+1],complete:e[s+2]};else{const p=St(n,zi);l=St(p.firestore,pn),h=p._query;const g=new Ec(l);c={next:v=>{e[s]&&e[s](new wc(l,g,p,v))},error:e[s+1],complete:e[s+2]},dU(n._query)}return function(g,v,E,C){const x=new jb(C),N=new iD(v,x,E);return g.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return Xx(yield kh(g),N)})),()=>{x.Na(),g.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return eD(yield kh(g),N)}))}}($n(l),h,a,c)}function Ph(n,e){return function(i,r){const o=new wi;return i.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return function Ree(n,e,t){return cD.apply(this,arguments)}(yield FD(i),r,o)})),o.promise}($n(n),e)}function ZD(n,e,t){const i=t.docs.get(e._key),r=new Ec(n);return new ba(n,r,e._key,i,new zl(t.hasPendingWrites,t.fromCache),e.converter)}const rne={maxAttempts:5};class wU{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Ul(e)}set(e,t,i){this._verifyNotCommitted();const r=Ic(e,this._firestore),o=t0(r.converter,t,i),s=Zb(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,i);return this._mutations.push(s.toMutation(r._key,An.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const o=Ic(e,this._firestore);let s;return s="string"==typeof(t=(0,cn.m9)(t))||t instanceof ya?HD(this._dataReader,"WriteBatch.update",o._key,t,i,r):zD(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(s.toMutation(o._key,An.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Ic(e,this._firestore);return this._mutations=this._mutations.concat(new fh(t._key,An.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new oe(q.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ic(n,e){if((n=(0,cn.m9)(n)).firestore!==e)throw new oe(q.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class one extends class{constructor(t,i){this._firestore=t,this._transaction=i,this._dataReader=Ul(t)}get(t){const i=Ic(t,this._firestore),r=new Vte(this._firestore);return this._transaction.lookup([i._key]).then(o=>{if(!o||1!==o.length)return Ce();const s=o[0];if(s.isFoundDocument())return new og(this._firestore,r,s.key,s,i.converter);if(s.isNoDocument())return new og(this._firestore,r,i._key,null,i.converter);throw Ce()})}set(t,i,r){const o=Ic(t,this._firestore),s=t0(o.converter,i,r),a=Zb(this._dataReader,"Transaction.set",o._key,s,null!==o.converter,r);return this._transaction.set(o._key,a),this}update(t,i,r,...o){const s=Ic(t,this._firestore);let a;return a="string"==typeof(i=(0,cn.m9)(i))||i instanceof ya?HD(this._dataReader,"Transaction.update",s._key,i,r,o):zD(this._dataReader,"Transaction.update",s._key,i),this._transaction.update(s._key,a),this}delete(t){const i=Ic(t,this._firestore);return this._transaction.delete(i._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Ic(e,this._firestore),i=new Ec(this._firestore);return super.get(e).then(r=>new ba(this._firestore,i,t._key,r._document,new zl(!1,!1),t.converter))}}function YD(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new oe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function TU(){if(typeof Uint8Array>"u")throw new oe("unimplemented","Uint8Arrays are not available in this environment.")}function xU(){if(!function VX(){return typeof atob<"u"}())throw new oe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,t=!0){Jd=Hd.SDK_VERSION,(0,Hd._registerComponent)(new IF.wA("firestore",(i,{instanceIdentifier:r,options:o})=>{const s=i.getProvider("app").getImmediate(),a=new pn(new cX(i.getProvider("auth-internal")),new dX(i.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new oe(q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lc(l.options.projectId,h)}(s,r),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),(0,Hd.registerVersion)(tV,"4.3.2",e),(0,Hd.registerVersion)(tV,"4.3.2","esm2017")}();class lg{constructor(e){this._delegate=e}static fromBase64String(e){return xU(),new lg(Ls.fromBase64String(e))}static fromUint8Array(e){return TU(),new lg(Ls.fromUint8Array(e))}toBase64(){return xU(),this._delegate.toBase64()}toUint8Array(){return TU(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function QD(n){return function mne(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class gne{enableIndexedDbPersistence(e,t){return function fte(n,e){iU(n=St(n,pn));const t=$n(n);if(t._uninitializedComponentsProvider)throw new oe(q.FAILED_PRECONDITION,"SDK cache is already specified.");Vr("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new Ah;return nU(t,r,new AD(r,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function pte(n){iU(n=St(n,pn));const e=$n(n);if(e._uninitializedComponentsProvider)throw new oe(q.FAILED_PRECONDITION,"SDK cache is already specified.");Vr("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),i=new Ah;return nU(e,i,new LB(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function mte(n){if(n._initialized&&!n._terminated)throw new oe(q.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new wi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,X.Z)(function*(){try{yield(t=(0,X.Z)(function*(r){if(!es.D())return Promise.resolve();const o=r+"main";yield es.delete(o)}),function i(r){return t.apply(this,arguments)})(wx(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class DU{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof lc||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Vr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function XB(n,e,t,i={}){var r;const o=(n=St(n,tg))._getSettings(),s=`${e}:${t}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&Vr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),i.mockUserToken){let a,c;if("string"==typeof i.mockUserToken)a=i.mockUserToken,c=Si.MOCK_USER;else{a=(0,cn.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const l=i.mockUserToken.sub||i.mockUserToken.user_id;if(!l)throw new oe(q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Si(l)}n._authCredentials=new aX(new nV(a,c))}}(this._delegate,e,t,i)}enableNetwork(){return function _te(n){return function Jee(n){return n.asyncQueue.enqueue((0,X.Z)(function*(){const e=yield UB(n),t=yield jB(n);return e.setNetworkEnabled(!0),function(r){const o=_e(r);return o.C_.delete(0),Xm(o)}(t)}))}($n(n=St(n,pn)))}(this._delegate)}disableNetwork(){return function vte(n){return function ete(n){return n.asyncQueue.enqueue((0,X.Z)(function*(){const e=yield UB(n),t=yield jB(n);return e.setNetworkEnabled(!1),(i=(0,X.Z)(function*(o){const s=_e(o);s.C_.add(0),yield Eh(s),s.M_.set("Offline")}),function r(o){return i.apply(this,arguments)})(t);var i}))}($n(n=St(n,pn)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,WB("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function gte(n){return function(t){const i=new wi;return t.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return function Fee(n,e){return fD.apply(this,arguments)}(yield FD(t),i)})),i.promise}($n(n=St(n,pn)))}(this._delegate)}onSnapshotsInSync(e){return function Kte(n,e){return function ite(n,e){const t=new jb(e);return n.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return r=yield kh(n),o=t,_e(r).q_.add(o),void o.next();var r,o})),()=>{t.Na(),n.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return r=yield kh(n),o=t,void _e(r).q_.delete(o);var r,o}))}}($n(n=St(n,pn)),UD(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new oe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Oh(this,JB(this._delegate,e))}catch(t){throw Dr(t,"collection()","Firestore.collection()")}}doc(e){try{return new Po(this,Gb(this._delegate,e))}catch(t){throw Dr(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Sr(this,function lte(n,e){if(n=St(n,tg),VD("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new oe(q.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new zi(n,null,(i=e,new pa(Nt.emptyPath(),i)));var i}(this._delegate,e))}catch(t){throw Dr(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function sne(n,e,t){n=St(n,pn);const i=Object.assign(Object.assign({},rne),t);return function(o){if(o.maxAttempts<1)throw new oe(q.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(o,s,a){const c=new wi;return o.asyncQueue.enqueueAndForget((0,X.Z)(function*(){const l=yield function zB(n){return Hb(n).then(e=>e.datastore)}(o);new Qee(o.asyncQueue,l,a,s,c).run()})),c.promise}($n(n),r=>e(new one(n,r)),i)}(this._delegate,t=>e(new SU(this,t)))}batch(){return $n(this._delegate),new AU(new wU(this._delegate,e=>Ph(this._delegate,e)))}loadBundle(e){return function yte(n,e){const t=$n(n=St(n,pn)),i=new dte;return function rte(n,e,t,i){const r=function(s,a){let c;return c="string"==typeof s?d2().encode(s):s,h=function(h,p){if(h instanceof Uint8Array)return VB(h,p);if(h instanceof ArrayBuffer)return VB(new Uint8Array(h),p);if(h instanceof ReadableStream)return h.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(c),new Kee(h,a);var h}(t,Qm(e));n.asyncQueue.enqueueAndForget((0,X.Z)(function*(){!function Wee(n,e,t){const i=_e(n);var r;(r=(0,X.Z)(function*(s,a,c){try{const l=yield a.getMetadata();if(yield function(E,C){const x=_e(E),N=ti(C.createTime);return x.persistence.runTransaction("hasNewerBundle","readonly",k=>x.Kr.getBundleMetadata(k,C.id)).then(k=>!!k&&k.createTime.compareTo(N)>=0)}(s.localStore,l))return yield a.close(),c._completeWith({taskState:"Success",documentsLoaded:(E=l).totalDocuments,bytesLoaded:E.totalBytes,totalDocuments:E.totalDocuments,totalBytes:E.totalBytes}),Promise.resolve(new Set);c._updateProgress(SB(l));const h=new xee(l,s.localStore,a.serializer);let p=yield a.Ma();for(;p;){const v=yield h.ea(p);v&&c._updateProgress(v),p=yield a.Ma()}const g=yield h.complete();return yield va(s,g.ra,void 0),yield function(E,C){const x=_e(E);return x.persistence.runTransaction("Save bundle","readwrite",N=>x.Kr.saveBundleMetadata(N,C))}(s.localStore,l),c._completeWith(g.progress),Promise.resolve(g.na)}catch(l){return Vr("SyncEngine",`Loading bundle failed with ${l}`),c._failWith(l),Promise.resolve(new Set)}var E}),function o(s,a,c){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield FD(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function bte(n,e){return function ote(n,e){return n.asyncQueue.enqueue((0,X.Z)(function*(){return function(i,r){const o=_e(i);return o.persistence.runTransaction("Get named query","readonly",s=>o.Kr.getNamedQuery(s,r))}(yield Mh(n),e)}))}($n(n=St(n,pn)),e).then(t=>t?new zi(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Sr(this,t):null)}}class r0 extends WD{constructor(e){super(),this.firestore=e}convertBytes(e){return new lg(new Ls(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Po.forKey(t,this.firestore,null)}}class SU{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new r0(e)}get(e){const t=$l(e);return this._delegate.get(t).then(i=>new ug(this._firestore,new ba(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=$l(e);return i?(YD("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const o=$l(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,i,...r),this}delete(e){const t=$l(e);return this._delegate.delete(t),this}}class AU{constructor(e){this._delegate=e}set(e,t,i){const r=$l(e);return i?(YD("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const o=$l(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,i,...r),this}delete(e){const t=$l(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Hl{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new cg(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new dg(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=Hl.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let o=r.get(t);return o||(o=new Hl(e,new r0(e),t),r.set(t,o)),o}}Hl.INSTANCES=new WeakMap;class Po{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new r0(e)}static forPath(e,t,i){if(e.length%2!=0)throw new oe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Po(t,new In(t._delegate,i,new ve(e)))}static forKey(e,t,i){return new Po(t,new In(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new Oh(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Oh(this.firestore,JB(this._delegate,e))}catch(t){throw Dr(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,cn.m9)(e))instanceof In&&eU(this._delegate,e)}set(e,t){t=YD("DocumentReference.set",t);try{return t?vU(this._delegate,e,t):vU(this._delegate,e)}catch(i){throw Dr(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?yU(this._delegate,e):yU(this._delegate,e,t,...i)}catch(r){throw Dr(r,"updateDoc()","DocumentReference.update()")}}delete(){return function Wte(n){return Ph(St(n.firestore,pn),[new fh(n._key,An.none())])}(this._delegate)}onSnapshot(...e){const t=MU(e),i=kU(e,r=>new ug(this.firestore,new ba(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return bU(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function zte(n){n=St(n,In);const e=St(n.firestore,pn),t=$n(e),i=new Ec(e);return function tte(n,e){const t=new wi;return n.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return(i=(0,X.Z)(function*(o,s,a){try{const c=yield function(h,p){const g=_e(h);return g.persistence.runTransaction("read document","readonly",v=>g.localDocuments.getDocument(v,p))}(o,s);c.isFoundDocument()?a.resolve(c):c.isNoDocument()?a.resolve(null):a.reject(new oe(q.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(c){const l=Th(c,`Failed to get document '${s} from cache`);a.reject(l)}}),function r(o,s,a){return i.apply(this,arguments)})(yield Mh(n),e,t);var i})),t.promise}(t,n._key).then(r=>new ba(e,i,n._key,r,new zl(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function Hte(n){n=St(n,In);const e=St(n.firestore,pn);return HB($n(e),n._key,{source:"server"}).then(t=>ZD(e,n,t))}(this._delegate):function jte(n){n=St(n,In);const e=St(n.firestore,pn);return HB($n(e),n._key).then(t=>ZD(e,n,t))}(this._delegate),t.then(i=>new ug(this.firestore,new ba(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new Po(this.firestore,this._delegate.withConverter(e?Hl.getInstance(this.firestore,e):null))}}function Dr(n,e,t){return n.message=n.message.replace(e,t),n}function MU(n){for(const e of n)if("object"==typeof e&&!QD(e))return e;return{}}function kU(n,e){var t,i;let r;return r=QD(n[0])?n[0]:QD(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{r.next&&r.next(e(o))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class ug{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Po(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return _U(this._delegate,e._delegate)}}class dg extends ug{data(e){const t=this._delegate.data(e);return this._delegate._converter||function oX(n,e){n||Ce()}(void 0!==t),t}}class Sr{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new r0(e)}where(e,t,i){try{return new Sr(this.firestore,bc(this._delegate,function Mte(n,e,t){const i=e,r=Qb("where",n);return ag._create(r,i,t)}(e,t,i)))}catch(r){throw Dr(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Sr(this.firestore,bc(this._delegate,function kte(n,e="asc"){const t=e,i=Qb("orderBy",n);return qD._create(i,t)}(e,t)))}catch(i){throw Dr(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Sr(this.firestore,bc(this._delegate,function Rte(n){return YB("limit",n),Xb._create("limit",n,"F")}(e)))}catch(t){throw Dr(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Sr(this.firestore,bc(this._delegate,function Pte(n){return YB("limitToLast",n),Xb._create("limitToLast",n,"L")}(e)))}catch(t){throw Dr(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Sr(this.firestore,bc(this._delegate,function Ote(...n){return Jb._create("startAt",n,!0)}(...e)))}catch(t){throw Dr(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Sr(this.firestore,bc(this._delegate,function Nte(...n){return Jb._create("startAfter",n,!1)}(...e)))}catch(t){throw Dr(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Sr(this.firestore,bc(this._delegate,function Fte(...n){return e0._create("endBefore",n,!1)}(...e)))}catch(t){throw Dr(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Sr(this.firestore,bc(this._delegate,function Lte(...n){return e0._create("endAt",n,!0)}(...e)))}catch(t){throw Dr(t,"endAt()","Query.endAt()")}}isEqual(e){return BD(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function Gte(n){n=St(n,zi);const e=St(n.firestore,pn),t=$n(e),i=new Ec(e);return function nte(n,e){const t=new wi;return n.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return(i=(0,X.Z)(function*(o,s,a){try{const c=yield Ob(o,s,!0),l=new kB(s,c.ls),h=l.ca(c.documents),p=l.applyChanges(h,!1);a.resolve(p.snapshot)}catch(c){const l=Th(c,`Failed to execute query '${s} against cache`);a.reject(l)}}),function r(o,s,a){return i.apply(this,arguments)})(yield Mh(n),e,t);var i})),t.promise}(t,n._query).then(r=>new wc(e,i,n,r))}(this._delegate):"server"===e?.source?function qte(n){n=St(n,zi);const e=St(n.firestore,pn),t=$n(e),i=new Ec(e);return $B(t,n._query,{source:"server"}).then(r=>new wc(e,i,n,r))}(this._delegate):function $te(n){n=St(n,zi);const e=St(n.firestore,pn),t=$n(e),i=new Ec(e);return dU(n._query),$B(t,n._query).then(r=>new wc(e,i,n,r))}(this._delegate),t.then(i=>new XD(this.firestore,new wc(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=MU(e),i=kU(e,r=>new XD(this.firestore,new wc(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return bU(this._delegate,t,i)}withConverter(e){return new Sr(this.firestore,this._delegate.withConverter(e?Hl.getInstance(this.firestore,e):null))}}class vne{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new dg(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class XD{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Sr(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new dg(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new vne(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new dg(this._firestore,i))})}isEqual(e){return _U(this._delegate,e._delegate)}}class Oh extends Sr{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Po(this.firestore,e):null}doc(e){try{return new Po(this.firestore,void 0===e?Gb(this._delegate):Gb(this._delegate,e))}catch(t){throw Dr(t,"doc()","CollectionReference.doc()")}}add(e){return function Zte(n,e){const t=St(n.firestore,pn),i=Gb(n),r=t0(n.converter,e);return Ph(t,[Zb(Ul(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,An.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new Po(this.firestore,t))}isEqual(e){return eU(this._delegate,e._delegate)}withConverter(e){return new Oh(this.firestore,this._delegate.withConverter(e?Hl.getInstance(this.firestore,e):null))}}function $l(n){return St(n,In)}class JD{constructor(...e){this._delegate=new ya(...e)}static documentId(){return new JD(wn.keyField().canonicalString())}isEqual(e){return(e=(0,cn.m9)(e))instanceof ya&&this._delegate._internalPath.isEqual(e._internalPath)}}class Gl{constructor(e){this._delegate=e}static serverTimestamp(){const e=function cne(){return new jD("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Gl(e)}static delete(){const e=function ane(){return new ig("deleteField")}();return e._methodName="FieldValue.delete",new Gl(e)}static arrayUnion(...e){const t=function lne(...n){return new Tte("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Gl(t)}static arrayRemove(...e){const t=function une(...n){return new xte("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Gl(t)}static increment(e){const t=function dne(n){return new Dte("increment",n)}(e);return t._methodName="FieldValue.increment",new Gl(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const yne={Firestore:DU,GeoPoint:qb,Timestamp:Sn,Blob:lg,Transaction:SU,WriteBatch:AU,DocumentReference:Po,DocumentSnapshot:ug,Query:Sr,QueryDocumentSnapshot:dg,QuerySnapshot:XD,CollectionReference:Oh,FieldPath:JD,FieldValue:Gl,setLogLevel:function _ne(n){!function rX(n){rc.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function RU(n,e){return function Ene(n,e=Jp){return new et(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function eS(n,e){return RU(n,e).pipe(me(t=>({payload:t,type:"query"})))}!function wne(n){(function bne(n,e){n.INTERNAL.registerComponent(new IF.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},yne)))})(n,(e,t)=>new DU(e,t,new gne)),n.registerVersion("@firebase/firestore-compat","0.3.22")}(tc.Z);class PU{ref;afs;constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:o}=LU(i,t);return new FU(r,o,this.afs)}snapshotChanges(){return function Ine(n,e){return RU(n,e).pipe(Pp(void 0),YC(),me(t=>{const[i,r]=t;return r.exists?i?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(to)}valueChanges(e={}){return this.snapshotChanges().pipe(me(({payload:t})=>e.idField?{...t.data(),[e.idField]:t.id}:t.data()))}get(e){return b(this.ref.get(e)).pipe(to)}}function o0(n,e){return eS(n,e).pipe(Pp(void 0),YC(),me(t=>{const[i,r]=t,o=r.payload.docChanges(),s=o.map(a=>({type:a.type,payload:a}));return i&&JSON.stringify(i.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((a,c)=>{const l=o.find(p=>p.doc.ref.isEqual(a.ref)),h=i?.payload.docs.find(p=>p.ref.isEqual(a.ref));l&&JSON.stringify(l.doc.metadata)===JSON.stringify(a.metadata)||!l&&h&&JSON.stringify(h.metadata)===JSON.stringify(a.metadata)||s.push({type:"modified",payload:{oldIndex:c,newIndex:c,type:"modified",doc:a}})}),s}))}function OU(n,e,t){return o0(n,t).pipe(sy((i,r)=>function Cne(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function Tne(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return tS(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return tS(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return tS(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(o=>o.payload),e),[]),He(),me(i=>i.map(r=>({type:r.type,payload:r}))))}function tS(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function NU(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class FU{ref;query;afs;constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=o0(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe(me(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(Pp(void 0),YC(),Cr(([i,r])=>r.length>0||!i),me(([,i])=>i),to)}auditTrail(e){return this.stateChanges(e).pipe(sy((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=NU(e);return OU(this.query,t,this.afs.schedulers.outsideAngular).pipe(to)}valueChanges(e={}){return eS(this.query,this.afs.schedulers.outsideAngular).pipe(me(t=>t.payload.docs.map(i=>e.idField?{...i.data(),[e.idField]:i.id}:i.data())),to)}get(e){return b(this.query.get(e)).pipe(to)}add(e){return this.ref.add(e)}doc(e){return new PU(this.ref.doc(e),this.afs)}}class xne{query;afs;constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?o0(this.query,this.afs.schedulers.outsideAngular).pipe(me(t=>t.filter(i=>e.indexOf(i.type)>-1)),Cr(t=>t.length>0),to):o0(this.query,this.afs.schedulers.outsideAngular).pipe(to)}auditTrail(e){return this.stateChanges(e).pipe(sy((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=NU(e);return OU(this.query,t,this.afs.schedulers.outsideAngular).pipe(to)}valueChanges(e={}){return eS(this.query,this.afs.schedulers.outsideAngular).pipe(me(i=>i.payload.docs.map(r=>e.idField?{[e.idField]:r.id,...r.data()}:r.data())),to)}get(e){return b(this.query.get(e)).pipe(to)}}const Dne=new ie("angularfire2.enableFirestorePersistence"),Sne=new ie("angularfire2.firestore.persistenceSettings"),Ane=new ie("angularfire2.firestore.settings"),Mne=new ie("angularfire2.firestore.use-emulator");function LU(n,e=(t=>t)){return{query:e(n),ref:n}}let kne=(()=>{class n{schedulers;firestore;persistenceEnabled$;constructor(t,i,r,o,s,a,c,l,h,p,g,v,E,C,x,N,k){this.schedulers=c;const U=KC(t,a,i),Q=h;p&&VF(U,a,g,E,C,x,v,N),[this.firestore,this.persistenceEnabled$]=SF(`${U.name}.firestore`,"AngularFirestore",U.name,()=>{const pe=a.runOutsideAngular(()=>U.firestore());if(o&&pe.settings(o),Q&&pe.useEmulator(...Q),r&&!Xv(s)){const ke=()=>{try{return b(pe.enablePersistence(l||void 0).then(()=>!0,()=>!1))}catch(Je){return typeof console<"u"&&console.warn(Je),S(!1)}};return[pe,a.runOutsideAngular(ke)]}return[pe,S(!1)]},[o,Q,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:o,query:s}=LU(r,i),a=this.schedulers.ngZone.run(()=>o);return new FU(a,s,this)}collectionGroup(t,i){const r=i||(s=>s),o=this.firestore.collectionGroup(t);return new xne(r(o),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new PU(r,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(i){return new(i||n)(V(Ry),V(Py,8),V(Dne,8),V(Ane,8),V(Ho),V(Xe),V(xF),V(Sne,8),V(Mne,8),V(Oy,8),V(RF,8),V(PF,8),V(OF,8),V(NF,8),V(FF,8),V(LF,8),V(CF,8))};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),ql=(()=>{class n{constructor(t,i,r){this.afAuth=t,this.router=i,this.firestore=r,this.userSubject=new y(null),this.user=this.userSubject.asObservable(),this.afAuth.authState.subscribe(o=>{this.userSubject.next(o)})}getUser(){return this.user}isLoggedIn(){return!!localStorage.getItem("token")}setDisplayName(t,i){const r=`${t} ${i}`;return this.afAuth.currentUser.then(o=>o?.updateProfile({displayName:r}))}signIn(t,i,r){this.afAuth.signInWithEmailAndPassword(t,i).then(o=>{o.user?.emailVerified?(""!=r?(localStorage.setItem("rememberMe","true"),localStorage.setItem("token",o.user?.uid)):(localStorage.setItem("rememberMe","false"),localStorage.removeItem("token")),this.router.navigate(["/tasks"])):o.user&&(o.user.sendEmailVerification(),this.router.navigate(["/verify-email"]))},o=>{alert(o.message),this.router.navigate(["/login"])})}register(t){this.afAuth.createUserWithEmailAndPassword(t.email,t.password).then(i=>{i.user?.updateProfile({displayName:t.userName}),this.storeAdditionalUserData(i.user?.uid,{fullName:t.fullName,username:t.userName}),i.user&&(i.user.sendEmailVerification(),this.router.navigate(["/verify-email"]))},i=>{alert(i.message)})}storeAdditionalUserData(t,i){t&&this.firestore.collection("users").doc(t).set(i,{merge:!0}).then(()=>{console.log("Additional user data stored successfully")}).catch(r=>{console.error("Error storing additional user data:",r)})}signOut(){this.afAuth.signOut().then(()=>{localStorage.removeItem("token"),this.router.navigate(["/login"])},t=>{alert(t.message)})}forgotPassword(t){this.afAuth.sendPasswordResetEmail(t).then(()=>{this.email=t,this.router.navigate(["/verify-email"])},i=>{alert(i.message)})}deleteCurrentUser(){this.afAuth.currentUser.then(t=>{t&&(t.delete(),localStorage.removeItem("token"),this.router.navigate(["/login"]))},t=>{alert(t.message)})}singInWithGoogle(){return this.afAuth.signInWithPopup(new EF.X).then(t=>{const i=t.user;if(i){const[r,o]=i.displayName?.split(" ")||["",""];i.updateProfile({displayName:i.displayName,photoURL:i.photoURL}).then(()=>{localStorage.setItem("token",t.user?.uid),this.router.navigate(["/tasks"])})}},t=>{alert(t.message),this.router.navigate(["/login"])})}singInWithGithub(){return this.afAuth.signInWithPopup(new EF.Y).then(t=>{const i=t.user;if(i){const[r,o]=i.displayName?.split(" ")||["",""];i.updateProfile({displayName:i.displayName,photoURL:i.photoURL}).then(()=>{localStorage.setItem("token",t.user?.uid),this.router.navigate(["/tasks"])})}},t=>{alert(t.message),this.router.navigate(["/login"])})}static#e=this.\u0275fac=function(i){return new(i||n)(V(Oy),V(Ji),V(kne))};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),VU=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static#e=this.\u0275fac=function(i){return new(i||n)(j(ea),j(un))};static#t=this.\u0275dir=Ee({type:n})}return n})(),Wl=(()=>{class n extends VU{static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=Un(n)))(r||n)}}();static#t=this.\u0275dir=Ee({type:n,features:[st]})}return n})();const Ar=new ie("NgValueAccessor"),Rne={provide:Ar,useExisting:L(()=>s0),multi:!0};let s0=(()=>{class n extends Wl{writeValue(t){this.setProperty("checked",t)}static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=Un(n)))(r||n)}}();static#t=this.\u0275dir=Ee({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,r){1&i&&qe("change",function(s){return r.onChange(s.target.checked)})("blur",function(){return r.onTouched()})},features:[zt([Rne]),st]})}return n})();const Pne={provide:Ar,useExisting:L(()=>Zl),multi:!0},Nne=new ie("CompositionEventMode");let Zl=(()=>{class n extends VU{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function One(){const n=Za()?Za().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static#e=this.\u0275fac=function(i){return new(i||n)(j(ea),j(un),j(Nne,8))};static#t=this.\u0275dir=Ee({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&qe("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[zt([Pne]),st]})}return n})();const ki=new ie("NgValidators"),Tc=new ie("NgAsyncValidators");function zU(n){return function Cc(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}(n.value)?{required:!0}:null}function a0(n){return null}function ZU(n){return null!=n}function KU(n){return gp(n)?b(n):n}function YU(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function QU(n,e){return e.map(t=>t(n))}function XU(n){return n.map(e=>function Lne(n){return!n.validate}(e)?e:t=>e.validate(t))}function nS(n){return null!=n?function JU(n){if(!n)return null;const e=n.filter(ZU);return 0==e.length?null:function(t){return YU(QU(t,e))}}(XU(n)):null}function iS(n){return null!=n?function ej(n){if(!n)return null;const e=n.filter(ZU);return 0==e.length?null:function(t){return zC(QU(t,e).map(KU)).pipe(me(YU))}}(XU(n)):null}function tj(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function rS(n){return n?Array.isArray(n)?n:[n]:[]}function c0(n,e){return Array.isArray(n)?n.includes(e):n===e}function rj(n,e){const t=rS(e);return rS(n).forEach(r=>{c0(t,r)||t.push(r)}),t}function oj(n,e){return rS(e).filter(t=>!c0(n,t))}class sj{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=nS(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=iS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Mr extends sj{get formDirective(){return null}get path(){return null}}class xc extends sj{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class aj{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Nh=(()=>{class n extends aj{constructor(t){super(t)}static#e=this.\u0275fac=function(i){return new(i||n)(j(xc,2))};static#t=this.\u0275dir=Ee({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&bi("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[st]})}return n})(),oS=(()=>{class n extends aj{constructor(t){super(t)}static#e=this.\u0275fac=function(i){return new(i||n)(j(Mr,10))};static#t=this.\u0275dir=Ee({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){2&i&&bi("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[st]})}return n})();const hg="VALID",u0="INVALID",Fh="PENDING",fg="DISABLED";function cS(n){return(d0(n)?n.validators:n)||null}function lS(n,e){return(d0(e)?e.asyncValidators:n)||null}function d0(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class dj{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===hg}get invalid(){return this.status===u0}get pending(){return this.status==Fh}get disabled(){return this.status===fg}get enabled(){return this.status!==fg}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(rj(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(rj(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(oj(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(oj(e,this._rawAsyncValidators))}hasValidator(e){return c0(this._rawValidators,e)}hasAsyncValidator(e){return c0(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Fh,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=fg,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=hg,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===hg||this.status===Fh)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?fg:hg}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Fh,this._hasOwnPendingAsyncValidator=!0;const t=KU(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Ut,this.statusChanges=new Ut}_calculateStatus(){return this._allControlsDisabled()?fg:this.errors?u0:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Fh)?Fh:this._anyControlsHaveStatus(u0)?u0:hg}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){d0(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function jne(n){return Array.isArray(n)?nS(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function zne(n){return Array.isArray(n)?iS(n):n||null}(this._rawAsyncValidators)}}class uS extends dj{constructor(e,t,i){super(cS(t),lS(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function uj(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new F(1002,"")})})(this,0,e),Object.keys(e).forEach(i=>{(function lj(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new F(1e3,"");if(!i[t])throw new F(1001,"")})(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,o)=>{i=t(i,r,o)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const Lh=new ie("CallSetDisabledState",{providedIn:"root",factory:()=>h0}),h0="always";function pg(n,e,t=h0){dS(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function Gne(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&hj(n,e)})}(n,e),function Wne(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function qne(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&hj(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function $ne(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function m0(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function dS(n,e){const t=function nj(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(tj(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=function ij(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(tj(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();m0(e._rawValidators,r),m0(e._rawAsyncValidators,r)}function hj(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const Xne={provide:Mr,useExisting:L(()=>gg)},mg=(()=>Promise.resolve())();let gg=(()=>{class n extends Mr{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Ut,this.form=new uS({},nS(t),iS(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){mg.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),pg(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){mg.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){mg.then(()=>{const i=this._findContainer(t.path),r=new uS({});(function fj(n,e){dS(n,e)})(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){mg.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){mg.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function pj(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static#e=this.\u0275fac=function(i){return new(i||n)(j(ki,10),j(Tc,10),j(Lh,8))};static#t=this.\u0275dir=Ee({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){1&i&&qe("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[zt([Xne]),st]})}return n})();function mj(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function gj(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const _j=class extends dj{constructor(e=null,t,i){super(cS(t),lS(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),d0(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=gj(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){mj(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){mj(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){gj(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},tie={provide:xc,useExisting:L(()=>Kl)},bj=(()=>Promise.resolve())();let Kl=(()=>{class n extends xc{constructor(t,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new _j,this._registered=!1,this.name="",this.update=new Ut,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function pS(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(o=>{o.constructor===Zl?t=o:function Yne(n){return Object.getPrototypeOf(n.constructor)===Wl}(o)?i=o:r=o}),r||i||t||null}(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function fS(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){pg(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){bj.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&xd(i);bj.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function f0(n,e){return[...e.path,n]}(t,this._parent):[t]}static#e=this.\u0275fac=function(i){return new(i||n)(j(Mr,9),j(ki,10),j(Tc,10),j(Ar,10),j(Cs,8),j(Lh,8))};static#t=this.\u0275dir=Ee({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[zt([tie]),st,vr]})}return n})(),mS=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Ee({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return n})(),Ej=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Et({type:n});static#n=this.\u0275inj=wt({})}return n})(),Yl=(()=>{class n{constructor(){this._validator=a0}ngOnChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):a0,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Ee({type:n,features:[vr]})}return n})();const yie={provide:ki,useExisting:L(()=>_g),multi:!0};let wS,_g=(()=>{class n extends Yl{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=xd,this.createValidator=t=>zU}enabled(t){return t}static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=Un(n)))(r||n)}}();static#t=this.\u0275dir=Ee({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){2&i&&oi("required",r._enabled?"":null)},inputs:{required:"required"},features:[zt([yie]),st]})}return n})(),Tie=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Et({type:n});static#n=this.\u0275inj=wt({imports:[Ej]})}return n})(),Die=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Lh,useValue:t.callSetDisabledState??h0}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Et({type:n});static#n=this.\u0275inj=wt({imports:[Tie]})}return n})();try{wS=typeof Intl<"u"&&Intl.v8BreakIterator}catch{wS=!1}let vg,Ql,ES,jr=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function bW(n){return n===DO}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!wS)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(i){return new(i||n)(V(Ho))};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function yg(n){return function Sie(){if(null==vg&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>vg=!0}))}finally{vg=vg||!1}return vg}()?n:!!n.capture}function Aie(){if(null==Ql){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Ql=!1,Ql;if("scrollBehavior"in document.documentElement.style)Ql=!0;else{const n=Element.prototype.scrollTo;Ql=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Ql}function Dc(n){return n.composedPath?n.composedPath()[0]:n.target}function IS(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Uj(n){return Cr((e,t)=>n<=t)}function Ii(n){return null!=n&&"false"!=`${n}`}function Vs(n,e=0){return function Lie(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function y0(n){return Array.isArray(n)?n:[n]}function ui(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Bh(n){return n instanceof un?n.nativeElement:n}const jj=new Set;let Xl,Bie=(()=>{class n{constructor(t,i){this._platform=t,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):jie}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function Uie(n,e){if(!jj.has(n))try{Xl||(Xl=document.createElement("style"),e&&(Xl.nonce=e),Xl.setAttribute("type","text/css"),document.head.appendChild(Xl)),Xl.sheet&&(Xl.sheet.insertRule(`@media ${n} {body{ }}`,0),jj.add(n))}catch(t){console.error(t)}}(t,this._nonce),this._matchMedia(t)}static#e=this.\u0275fac=function(i){return new(i||n)(V(jr),V(fE,8))};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function jie(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let zie=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new G}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return zj(y0(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let o=ny(zj(y0(t)).map(s=>this._registerQuery(s).observable));return o=ry(o.pipe(aa(1)),o.pipe(Uj(1),function Vie(n,e=Jp){return ee((t,i)=>{let r=null,o=null,s=null;const a=()=>{if(r){r.unsubscribe(),r=null;const l=o;o=null,i.next(l)}};function c(){const l=s+n,h=e.now();if(h<l)return r=this.schedule(void 0,l-h),void i.add(r);a()}t.subscribe(ge(i,l=>{o=l,s=e.now(),r||(r=e.schedule(c,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{o=r=null}))})}(0))),o.pipe(me(s=>{const a={matches:!1,breakpoints:{}};return s.forEach(({matches:c,query:l})=>{a.matches=a.matches||c,a.breakpoints[l]=c}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),o={observable:new et(s=>{const a=c=>this._zone.run(()=>s.next(c));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(Pp(i),me(({matches:s})=>({query:t,matches:s})),ay(this._destroySubject)),mql:i};return this._queries.set(t,o),o}static#e=this.\u0275fac=function(i){return new(i||n)(V(Bie),V(Xe))};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function zj(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function qj(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function Wj(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const Yie=new ie("cdk-input-modality-detector-options"),Qie={ignoreKeys:[18,17,224,91,16]},Uh=yg({passive:!0,capture:!0});let Xie=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,i,r,o){this._platform=t,this._mostRecentTarget=null,this._modality=new y(null),this._lastTouchMs=0,this._onKeydown=s=>{this._options?.ignoreKeys?.some(a=>a===s.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Dc(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<650||(this._modality.next(qj(s)?"keyboard":"mouse"),this._mostRecentTarget=Dc(s))},this._onTouchstart=s=>{Wj(s)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Dc(s))},this._options={...Qie,...o},this.modalityDetected=this._modality.pipe(Uj(1)),this.modalityChanged=this.modalityDetected.pipe(He()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Uh),r.addEventListener("mousedown",this._onMousedown,Uh),r.addEventListener("touchstart",this._onTouchstart,Uh)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Uh),document.removeEventListener("mousedown",this._onMousedown,Uh),document.removeEventListener("touchstart",this._onTouchstart,Uh))}static#e=this.\u0275fac=function(i){return new(i||n)(V(jr),V(Xe),V(kt),V(Yie,8))};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const ere=new ie("cdk-focus-monitor-default-options"),b0=yg({passive:!0,capture:!0});let CS=(()=>{class n{constructor(t,i,r,o,s){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new G,this._rootNodeFocusAndBlurListener=a=>{for(let l=Dc(a);l;l=l.parentElement)"focus"===a.type?this._onFocus(a,l):this._onBlur(a,l)},this._document=o,this._detectionMode=s?.detectionMode||0}monitor(t,i=!1){const r=Bh(t);if(!this._platform.isBrowser||1!==r.nodeType)return S();const o=function kie(n){if(function Mie(){if(null==ES){const n=typeof document<"u"?document.head:null;ES=!(!n||!n.createShadowRoot&&!n.attachShadow)}return ES}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),s=this._elementInfo.get(r);if(s)return i&&(s.checkChildren=!0),s.subject;const a={checkChildren:i,subject:new G,rootNode:o};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){const i=Bh(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const o=Bh(t);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([a,c])=>this._originChanged(a,i,c)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),o=Dc(t);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,b0),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,b0)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(ay(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,b0),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,b0),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,o)=>{(o===t||r.checkChildren&&o.contains(t))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const o=t.labels;if(o)for(let s=0;s<o.length;s++)if(o[s].contains(i))return!0;return!1}static#e=this.\u0275fac=function(i){return new(i||n)(V(Xe),V(jr),V(Xie),V(kt,8),V(ere,8))};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Kj="cdk-high-contrast-black-on-white",Yj="cdk-high-contrast-white-on-black",TS="cdk-high-contrast-active";let tre=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=he(zie).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(TS,Kj,Yj),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(TS,Kj):2===i&&t.add(TS,Yj)}}static#e=this.\u0275fac=function(i){return new(i||n)(V(jr),V(kt))};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const nre=new ie("cdk-dir-doc",{providedIn:"root",factory:function ire(){return he(kt)}}),rre=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let sre=(()=>{class n{constructor(t){this.value="ltr",this.change=new Ut,t&&(this.value=function ore(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?rre.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(i){return new(i||n)(V(nre,8))};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),bg=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Et({type:n});static#n=this.\u0275inj=wt({})}return n})();const cre=new ie("mat-sanity-checks",{providedIn:"root",factory:function are(){return!0}});let Fn=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!IS()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}static#e=this.\u0275fac=function(i){return new(i||n)(V(tre),V(cre,8),V(kt))};static#t=this.\u0275mod=Et({type:n});static#n=this.\u0275inj=wt({imports:[bg,bg]})}return n})();function xS(n){return class extends n{get disabled(){return this._disabled}set disabled(e){this._disabled=Ii(e)}constructor(...e){super(...e),this._disabled=!1}}}function wg(n,e){return class extends n{get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...t){super(...t),this.defaultColor=e,this.color=e}}}function w0(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Ii(e)}constructor(...e){super(...e),this._disableRipple=!1}}}function DS(n,e=0){return class extends n{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?Vs(t):this.defaultTabIndex}constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}}}let Jj=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Et({type:n});static#n=this.\u0275inj=wt({imports:[Fn,Fn]})}return n})();class ure{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const e4=yg({passive:!0,capture:!0});class dre{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=Dc(e);t&&this._events.get(e.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(o=>o.handleEvent(e))})}}addHandler(e,t,i,r){const o=this._events.get(t);if(o){const s=o.get(i);s?s.add(r):o.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,e4)})}removeHandler(e,t,i){const r=this._events.get(e);if(!r)return;const o=r.get(t);o&&(o.delete(i),0===o.size&&r.delete(t),0===r.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,e4)))}}const t4={enterDuration:225,exitDuration:150},n4=yg({passive:!0,capture:!0}),i4=["mousedown","touchstart"],r4=["mouseup","mouseleave","touchend","touchcancel"];class E0{static#e=this._eventManager=new dre;constructor(e,t,i,r){this._target=e,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Bh(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...t4,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const s=i.radius||function fre(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),a=e-r.left,c=t-r.top,l=o.enterDuration,h=document.createElement("div");h.classList.add("mat-ripple-element"),h.style.left=a-s+"px",h.style.top=c-s+"px",h.style.height=2*s+"px",h.style.width=2*s+"px",null!=i.color&&(h.style.backgroundColor=i.color),h.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(h);const p=window.getComputedStyle(h),v=p.transitionDuration,E="none"===p.transitionProperty||"0s"===v||"0s, 0s"===v||0===r.width&&0===r.height,C=new ure(this,h,i,E);h.style.transform="scale3d(1, 1, 1)",C.state=0,i.persistent||(this._mostRecentTransientRipple=C);let x=null;return!E&&(l||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const N=()=>this._finishRippleTransition(C),k=()=>this._destroyRipple(C);h.addEventListener("transitionend",N),h.addEventListener("transitioncancel",k),x={onTransitionEnd:N,onTransitionCancel:k}}),this._activeRipples.set(C,x),(E||!l)&&this._finishRippleTransition(C),C}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={...t4,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Bh(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,i4.forEach(i=>{E0._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{r4.forEach(t=>{this._triggerElement.addEventListener(t,this,n4)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=qj(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!Wj(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;if(t)for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(i4.forEach(t=>E0._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&r4.forEach(t=>e.removeEventListener(t,this,n4)))}}const o4=new ie("mat-ripple-global-options");let Ig=(()=>{class n{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,i,r,o,s){this._elementRef=t,this._animationMode=s,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new E0(this,i,t,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}static#e=this.\u0275fac=function(i){return new(i||n)(j(un),j(Xe),j(jr),j(o4,8),j(Js,8))};static#t=this.\u0275dir=Ee({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){2&i&&bi("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return n})(),jh=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Et({type:n});static#n=this.\u0275inj=wt({imports:[Fn,Fn]})}return n})();const s4={capture:!0},a4=["focus","click","mouseenter","touchstart"],SS="mat-ripple-loader-uninitialized",AS="mat-ripple-loader-class-name",c4="mat-ripple-loader-centered",I0="mat-ripple-loader-disabled";let pre=(()=>{class n{constructor(){this._document=he(kt,{optional:!0}),this._animationMode=he(Js,{optional:!0}),this._globalRippleOptions=he(o4,{optional:!0}),this._platform=he(jr),this._ngZone=he(Xe),this._onInteraction=t=>{if(!(t.target instanceof HTMLElement))return;const r=t.target.closest(`[${SS}]`);r&&this.createRipple(r)},this._ngZone.runOutsideAngular(()=>{for(const t of a4)this._document?.addEventListener(t,this._onInteraction,s4)})}ngOnDestroy(){for(const t of a4)this._document?.removeEventListener(t,this._onInteraction,s4)}configureRipple(t,i){t.setAttribute(SS,""),(i.className||!t.hasAttribute(AS))&&t.setAttribute(AS,i.className||""),i.centered&&t.setAttribute(c4,""),i.disabled&&t.setAttribute(I0,"")}getRipple(t){return t.matRipple?t.matRipple:this.createRipple(t)}setDisabled(t,i){const r=t.matRipple;r?r.disabled=i:i?t.setAttribute(I0,""):t.removeAttribute(I0)}createRipple(t){if(!this._document)return;t.querySelector(".mat-ripple")?.remove();const i=this._document.createElement("span");i.classList.add("mat-ripple",t.getAttribute(AS)),t.append(i);const r=new Ig(new un(i),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return r._isInitialized=!0,r.trigger=t,r.centered=t.hasAttribute(c4),r.disabled=t.hasAttribute(I0),this.attachRipple(t,r),r}attachRipple(t,i){t.removeAttribute(SS),t.matRipple=i}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const mre=["*",[["mat-toolbar-row"]]],gre=["*","mat-toolbar-row"],_re=wg(class{constructor(n){this._elementRef=n}});let vre=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Ee({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]})}return n})(),yre=(()=>{class n extends _re{constructor(t,i,r){super(t),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}static#e=this.\u0275fac=function(i){return new(i||n)(j(un),j(jr),j(kt))};static#t=this.\u0275cmp=Bn({type:n,selectors:[["mat-toolbar"]],contentQueries:function(i,r,o){if(1&i&&function kv(n,e,t,i){const r=Ct();if(r.firstCreatePass){const o=Xn();a1(r,new r1(e,t,i),o.index),function C9(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(r,n),2==(2&t)&&(r.staticContentQueries=!0)}s1(r,re(),t)}(o,vre,5),2&i){let s;Wo(s=Zo())&&(r._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(i,r){2&i&&bi("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[st],ngContentSelectors:gre,decls:2,vars:0,template:function(i,r){1&i&&(bs(mre),br(0),br(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}return n})(),bre=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Et({type:n});static#n=this.\u0275inj=wt({imports:[Fn,Fn]})}return n})();const Ere=["mat-icon-button",""],Ire=["*"],Cre=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],Tre=wg(xS(w0(class{constructor(n){this._elementRef=n}})));let xre=(()=>{class n extends Tre{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(t){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,t)}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Ii(t),this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(t){this._disabled=Ii(t),this._updateRippleDisabled()}constructor(t,i,r,o){super(t),this._platform=i,this._ngZone=r,this._animationMode=o,this._focusMonitor=he(CS),this._rippleLoader=he(pre),this._isFab=!1,this._disableRipple=!1,this._disabled=!1,this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-button-ripple"});const s=t.nativeElement.classList;for(const a of Cre)this._hasHostAttributes(a.selector)&&a.mdcClasses.forEach(c=>{s.add(c)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",i){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...t){return t.some(i=>this._elementRef.nativeElement.hasAttribute(i))}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(i){ud()};static#t=this.\u0275dir=Ee({type:n,features:[st]})}return n})(),Are=(()=>{class n extends xre{constructor(t,i,r,o){super(t,i,r,o),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static#e=this.\u0275fac=function(i){return new(i||n)(j(un),j(jr),j(Xe),j(Js,8))};static#t=this.\u0275cmp=Bn({type:n,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(i,r){2&i&&(oi("disabled",r.disabled||null),bi("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[st],attrs:Ere,ngContentSelectors:Ire,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(bs(),gt(0,"span",0),br(1),gt(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color);--mdc-icon-button-state-layer-size:48px;--mdc-icon-button-icon-size:24px;--mdc-icon-button-disabled-icon-color:black;--mdc-icon-button-disabled-icon-opacity:0.38}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;font-size:var(--mdc-icon-button-icon-size);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return n})(),Mre=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Et({type:n});static#n=this.\u0275inj=wt({imports:[Fn,jh,Fn]})}return n})();const kre=["*"];let C0;function Cg(n){return function Rre(){if(void 0===C0&&(C0=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(C0=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return C0}()?.createHTML(n)||n}function l4(n){return Error(`Unable to find icon with the name "${n}"`)}function u4(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function d4(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Jl{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}}let T0=(()=>{class n{constructor(t,i,r,o){this._httpClient=t,this._sanitizer=i,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,o){return this._addSvgIconConfig(t,i,new Jl(r,null,o))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,o){const s=this._sanitizer.sanitize(Li.HTML,r);if(!s)throw d4(r);const a=Cg(s);return this._addSvgIconConfig(t,i,new Jl("",a,o))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new Jl(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){const o=this._sanitizer.sanitize(Li.HTML,i);if(!o)throw d4(i);const s=Cg(o);return this._addSvgIconSetConfig(t,new Jl("",s,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(Li.RESOURCE_URL,t);if(!i)throw u4(t);const r=this._cachedIconsByUrl.get(i);return r?S(x0(r)):this._loadSvgIconFromConfig(new Jl(t,null)).pipe(ci(o=>this._cachedIconsByUrl.set(i,o)),me(o=>x0(o)))}getNamedSvgIcon(t,i=""){const r=h4(i,t);let o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,t),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);const s=this._iconSetConfigs.get(i);return s?this._getSvgFromIconSetConfigs(t,s):Ad(l4(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?S(x0(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(me(i=>x0(i)))}_getSvgFromIconSetConfigs(t,i){const r=this._extractIconWithNameFromAnySet(t,i);return r?S(r):zC(i.filter(s=>!s.svgText).map(s=>this._loadSvgIconSetFromConfig(s).pipe(ca(a=>{const l=`Loading icon set URL: ${this._sanitizer.sanitize(Li.RESOURCE_URL,s.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(l)),S(null)})))).pipe(me(()=>{const s=this._extractIconWithNameFromAnySet(t,i);if(!s)throw l4(t);return s}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){const o=i[r];if(o.svgText&&o.svgText.toString().indexOf(t)>-1){const s=this._svgElementFromConfig(o),a=this._extractSvgIconFromSet(s,t,o.options);if(a)return a}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(ci(i=>t.svgText=i),me(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?S(null):this._fetchIcon(t).pipe(ci(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){const o=t.querySelector(`[id="${i}"]`);if(!o)return null;const s=o.cloneNode(!0);if(s.removeAttribute("id"),"svg"===s.nodeName.toLowerCase())return this._setSvgAttributes(s,r);if("symbol"===s.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(s),r);const a=this._svgElementFromString(Cg("<svg></svg>"));return a.appendChild(s),this._setSvgAttributes(a,r)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const i=this._svgElementFromString(Cg("<svg></svg>")),r=t.attributes;for(let o=0;o<r.length;o++){const{name:s,value:a}=r[o];"id"!==s&&i.setAttribute(s,a)}for(let o=0;o<t.childNodes.length;o++)t.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){const{url:i,options:r}=t,o=r?.withCredentials??!1;if(!this._httpClient)throw function Pre(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const s=this._sanitizer.sanitize(Li.RESOURCE_URL,i);if(!s)throw u4(i);const a=this._inProgressUrlFetches.get(s);if(a)return a;const c=this._httpClient.get(s,{responseType:"text",withCredentials:o}).pipe(me(l=>Cg(l)),kd(()=>this._inProgressUrlFetches.delete(s)),K());return this._inProgressUrlFetches.set(s,c),c}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(h4(t,i),r),this}_addSvgIconSetConfig(t,i){const r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){const o=this._resolvers[r](i,t);if(o)return Nre(o)?new Jl(o.url,null,o.options):new Jl(o,null)}}static#e=this.\u0275fac=function(i){return new(i||n)(V(Yp,8),V(gC),V(kt,8),V(So))};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function x0(n){return n.cloneNode(!0)}function h4(n,e){return n+":"+e}function Nre(n){return!(!n.url||!n.options)}const Fre=wg(class{constructor(n){this._elementRef=n}}),Lre=new ie("MAT_ICON_DEFAULT_OPTIONS"),Vre=new ie("mat-icon-location",{providedIn:"root",factory:function Bre(){const n=he(kt),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),f4=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Ure=f4.map(n=>`[${n}]`).join(", "),jre=/^url\(['"]?#(.*?)['"]?\)$/;let p4=(()=>{class n extends Fre{get inline(){return this._inline}set inline(t){this._inline=Ii(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(t,i,r,o,s,a){super(t),this._iconRegistry=i,this._location=o,this._errorHandler=s,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=_t.EMPTY,a&&(a.color&&(this.color=this.defaultColor=a.color),a.fontSet&&(this.fontSet=a.fontSet)),r||t.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=t.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>t.classList.remove(r)),i.forEach(r=>t.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(s=>{o.setAttribute(s.name,`url('${t}#${s.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll(Ure),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)f4.forEach(s=>{const a=i[o],c=a.getAttribute(s),l=c?c.match(jre):null;if(l){let h=r.get(a);h||(h=[],r.set(a,h)),h.push({name:s,value:l[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(aa(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${o.message}`))})}}static#e=this.\u0275fac=function(i){return new(i||n)(j(un),j(T0),Ua("aria-hidden"),j(Vre),j(So),j(Lre,8))};static#t=this.\u0275cmp=Bn({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(i,r){2&i&&(oi("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),bi("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[st],ngContentSelectors:kre,decls:1,vars:0,template:function(i,r){1&i&&(bs(),br(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return n})(),zre=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Et({type:n});static#n=this.\u0275inj=wt({imports:[Fn,Fn]})}return n})();const m4={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let D0;const Hre=new Uint8Array(16);function $re(){if(!D0&&(D0=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!D0))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return D0(Hre)}const Hi=[];for(let n=0;n<256;++n)Hi.push((n+256).toString(16).slice(1));const qre=function Gre(n,e,t){if(m4.randomUUID&&!e&&!n)return m4.randomUUID();const i=(n=n||{}).random||(n.rng||$re)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e){t=t||0;for(let r=0;r<16;++r)e[t+r]=i[r];return e}return function g4(n,e=0){return Hi[n[e+0]]+Hi[n[e+1]]+Hi[n[e+2]]+Hi[n[e+3]]+"-"+Hi[n[e+4]]+Hi[n[e+5]]+"-"+Hi[n[e+6]]+Hi[n[e+7]]+"-"+Hi[n[e+8]]+Hi[n[e+9]]+"-"+Hi[n[e+10]]+Hi[n[e+11]]+Hi[n[e+12]]+Hi[n[e+13]]+Hi[n[e+14]]+Hi[n[e+15]]}(i)};class MS{setModel(e,t,i){this.name=t,this.id=e||qre(),this.deleted=i||!1}}class kS{setModel(e,t,i,r){this.name=t,this.id=e,this.completed=i||!1,this.deleted=r||!1}}let Wre=(()=>{class n{constructor(t){this.http=t,this.apiTodo=Cy_apiUrl+"/api/todos/",this.apiTasks=Cy_apiUrl+"/api/tasks/"}createTodo(t,i){return this.http.post(this.apiTodo+t,i)}patchTodo(t,i){return this.http.patch(this.apiTodo+t,i)}getTasks(t){return this.http.get(this.apiTasks+t)}createTasks(t,i){return this.http.post(this.apiTasks+i,t)}patchTasks(t,i){return this.http.patch(this.apiTasks+t,i)}static#e=this.\u0275fac=function(i){return new(i||n)(V(Yp))};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Zre=(()=>{class n{constructor(){this._listeners=[]}notify(t,i){for(let r of this._listeners)r(t,i)}listen(t){return this._listeners.push(t),()=>{this._listeners=this._listeners.filter(i=>t!==i)}}ngOnDestroy(){this._listeners=[]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Kre=["input"],Yre=["*"];let _4=0;class v4{constructor(e,t){this.source=e,this.value=t}}const y4=new ie("MatRadioGroup"),Xre=new ie("mat-radio-default-options",{providedIn:"root",factory:function Jre(){return{color:"accent"}}});class toe{constructor(e){this._elementRef=e}}const noe=w0(DS(toe));let ioe=(()=>{class n extends noe{get checked(){return this._checked}set checked(t){const i=Ii(t);this._checked!==i&&(this._checked=i,i&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!i&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),i&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===t),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(t){this._labelPosition=t}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(t){this._setDisabled(Ii(t))}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(t){this._required=Ii(t)}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(t){this._color=t}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(t,i,r,o,s,a,c,l){super(i),this._changeDetector=r,this._focusMonitor=o,this._radioDispatcher=s,this._providerOverride=c,this._uniqueId="mat-radio-"+ ++_4,this.id=this._uniqueId,this.change=new Ut,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=t,this._noopAnimations="NoopAnimations"===a,l&&(this.tabIndex=Vs(l,0))}focus(t,i){i?this._focusMonitor.focusVia(this._inputElement,i,t):this._inputElement.nativeElement.focus(t)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((t,i)=>{t!==this.id&&i===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{!t&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new v4(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(t){t.stopPropagation()}_onInputInteraction(t){if(t.stopPropagation(),!this.checked&&!this.disabled){const i=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),i&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(t){this._onInputInteraction(t),this.disabled||this._inputElement.nativeElement.focus()}_setDisabled(t){this._disabled!==t&&(this._disabled=t,this._changeDetector.markForCheck())}_updateTabIndex(){const t=this.radioGroup;let i;if(i=t&&t.selected&&!this.disabled?t.selected===this?this.tabIndex:-1:this.tabIndex,i!==this._previousTabIndex){const r=this._inputElement?.nativeElement;r&&(r.setAttribute("tabindex",i+""),this._previousTabIndex=i)}}static#e=this.\u0275fac=function(i){ud()};static#t=this.\u0275dir=Ee({type:n,viewQuery:function(i,r){if(1&i&&Ga(Kre,5),2&i){let o;Wo(o=Zo())&&(r._inputElement=o.first)}},inputs:{id:"id",name:"name",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],checked:"checked",value:"value",labelPosition:"labelPosition",disabled:"disabled",required:"required",color:"color"},outputs:{change:"change"},features:[st]})}return n})(),b4=(()=>{class n extends ioe{constructor(t,i,r,o,s,a,c,l){super(t,i,r,o,s,a,c,l)}static#e=this.\u0275fac=function(i){return new(i||n)(j(y4,8),j(un),j(Cs),j(CS),j(Zre),j(Js,8),j(Xre,8),Ua("tabindex"))};static#t=this.\u0275cmp=Bn({type:n,selectors:[["mat-radio-button"]],hostAttrs:[1,"mat-mdc-radio-button"],hostVars:15,hostBindings:function(i,r){1&i&&qe("focus",function(){return r._inputElement.nativeElement.focus()}),2&i&&(oi("id",r.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),bi("mat-primary","primary"===r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("mat-mdc-radio-checked",r.checked)("_mat-animation-noopable",r._noopAnimations))},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matRadioButton"],features:[st],ngContentSelectors:Yre,decls:13,vars:17,consts:[[1,"mdc-form-field"],["formField",""],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio",1,"mdc-radio__native-control",3,"id","checked","disabled","required","change"],["input",""],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mdc-label",3,"for"]],template:function(i,r){if(1&i&&(bs(),te(0,"div",0,1)(2,"div",2)(3,"div",3),qe("click",function(s){return r._onTouchTargetClick(s)}),ue(),te(4,"input",4,5),qe("change",function(s){return r._onInputInteraction(s)}),ue(),te(6,"div",6),gt(7,"div",7)(8,"div",8),ue(),te(9,"div",9),gt(10,"div",10),ue()(),te(11,"label",11),br(12),ue()()),2&i){const o=mp(1);bi("mdc-form-field--align-end","before"==r.labelPosition),Ne(2),bi("mdc-radio--disabled",r.disabled),Ne(2),Ue("id",r.inputId)("checked",r.checked)("disabled",r.disabled)("required",r.required),oi("name",r.name)("value",r.value)("aria-label",r.ariaLabel)("aria-labelledby",r.ariaLabelledby)("aria-describedby",r.ariaDescribedby),Ne(5),Ue("matRippleTrigger",o)("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",!0),Ne(2),Ue("for",r.inputId)}},dependencies:[Ig],styles:['.mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color}.mdc-radio[hidden]{display:none}.mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;z-index:1}.mdc-radio--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-radio--touch .mdc-radio__native-control{top:calc((40px - 48px) / 2);right:calc((40px - 48px) / 2);left:calc((40px - 48px) / 2);width:48px;height:48px}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{border-color:CanvasText}}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{border-color:CanvasText}}.mdc-radio__native-control:checked+.mdc-radio__background,.mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio--disabled{cursor:default;pointer-events:none}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5);transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:disabled+.mdc-radio__background,[aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background{cursor:default}.mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mat-mdc-radio-button{--mdc-radio-disabled-selected-icon-opacity:0.38;--mdc-radio-disabled-unselected-icon-opacity:0.38;--mdc-radio-state-layer-size:40px;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{padding:calc((var(--mdc-radio-state-layer-size) - 20px) / 2)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-disabled-selected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-unselected-icon-opacity)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{top:calc(-1 * (var(--mdc-radio-state-layer-size) - 20px) / 2);left:calc(-1 * (var(--mdc-radio-state-layer-size) - 20px) / 2);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control{top:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);right:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);left:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color)}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple .mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, black)}.mat-mdc-radio-button.cdk-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-radio-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}[dir=rtl] .mat-mdc-radio-touch-target{left:0;right:50%;transform:translate(50%, -50%)}'],encapsulation:2,changeDetection:0})}return n})(),ooe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Et({type:n});static#n=this.\u0275inj=wt({imports:[Fn,Sd,jh,Fn]})}return n})();const soe=["*"],doe=new ie("MAT_CARD_CONFIG");let w4=(()=>{class n{constructor(t){this.appearance=t?.appearance||"raised"}static#e=this.\u0275fac=function(i){return new(i||n)(j(doe,8))};static#t=this.\u0275cmp=Bn({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(i,r){2&i&&bi("mat-mdc-card-outlined","outlined"===r.appearance)("mdc-card--outlined","outlined"===r.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:soe,decls:1,vars:0,template:function(i,r){1&i&&(bs(),br(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation);--mdc-elevated-card-container-shape:4px;--mdc-outlined-card-container-shape:4px;--mdc-outlined-card-outline-width:1px}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})}return n})(),hoe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Et({type:n});static#n=this.\u0275inj=wt({imports:[Fn,Sd,Fn]})}return n})();function foe(n,e){if(1&n){const t=si();te(0,"div")(1,"input",8),qe("ngModelChange",function(r){return en(t),tn(je().addedTask=r)})("keyup.enter",function(){return en(t),tn(je().onEnterTask())}),ue()()}if(2&n){const t=je();Ne(1),Ue("ngModel",t.addedTask)}}function poe(n,e){if(1&n&&(te(0,"div"),We(1),ue()),2&n){const t=je(2).$implicit;Ne(1),vp(" ",t.name," ")}}function moe(n,e){if(1&n){const t=si();te(0,"div")(1,"input",27),qe("ngModelChange",function(r){return en(t),tn(je(4).taskLabelName=r)})("keyup.enter",function(){en(t);const r=je(2).$implicit;return tn(je(2).onEnterCardLabel(r.id))}),ue()()}if(2&n){const t=je(4);Ne(1),Ue("ngModel",t.taskLabelName)}}function goe(n,e){if(1&n){const t=si();te(0,"div",28)(1,"button",29),qe("click",function(){en(t);const r=je(2).$implicit;return tn(je(2).menuItemClicked("delete",r))}),te(2,"mat-icon"),We(3,"delete"),ue(),We(4,"Delete"),ue(),te(5,"button",29),qe("click",function(){en(t);const r=je(2).$implicit;return tn(je(2).menuItemClicked("edit",r))}),te(6,"mat-icon"),We(7,"edit"),ue(),We(8,"Edit"),ue()()}}function _oe(n,e){if(1&n){const t=si();te(0,"div")(1,"input",8),qe("ngModelChange",function(r){return en(t),tn(je(4).addedTodo=r)})("keyup.enter",function(){en(t);const r=je(2).$implicit;return tn(je(2).onEnterTodo(r.id))}),ue()()}if(2&n){const t=je(4);Ne(1),Ue("ngModel",t.addedTodo)}}function voe(n,e){if(1&n){const t=si();te(0,"div")(1,"mat-radio-button",31),qe("click",function(){en(t);const r=je().$implicit;return tn(je(4).onCheckboxClick(r))}),We(2),ue()()}if(2&n){const t=je().$implicit;Ne(2),dl(t.name)}}function yoe(n,e){if(1&n&&(te(0,"div",30),Lt(1,voe,3,1,"div",4),ue()),2&n){const t=e.$implicit,i=je(2).$implicit;Ne(1),Ue("ngIf",!t.deleted&&!t.completed&&t.id===i.id)}}function boe(n,e){1&n&&(te(0,"div")(1,"span",32),We(2,"Completed"),ue()())}function woe(n,e){if(1&n){const t=si();te(0,"div",33)(1,"span",32),We(2),ue(),te(3,"button",34),qe("click",function(){en(t);const r=je(2).$implicit;return tn(je(2).toggleForCompletedList(r.id))}),ue()()}if(2&n){const t=je(2).$implicit,i=je(2);Ne(2),vp("Completed(",i.completedTodosCountObj[t.id],")"),Ne(1),Ue("textContent",i.isCompletedListOpen.includes(t.id)?"\u039b":"V")}}function Eoe(n,e){if(1&n&&(te(0,"span",38),We(1),ue()),2&n){const t=je().$implicit;Ne(1),dl(t.name)}}function Ioe(n,e){if(1&n){const t=si();te(0,"button",39),qe("click",function(){en(t);const r=je().$implicit;return tn(je(5).deleteCompleteList(r))}),te(1,"mat-icon"),We(2,"delete"),ue()()}}function Coe(n,e){if(1&n&&(te(0,"li",30),Lt(1,Eoe,2,1,"span",36),Lt(2,Ioe,3,0,"button",37),ue()),2&n){const t=e.$implicit,i=je(3).$implicit;Ne(1),Ue("ngIf",!t.deleted&&t.completed&&t.id===i.id),Ne(1),Ue("ngIf",!t.deleted&&t.completed&&t.id===i.id)}}function Toe(n,e){if(1&n&&(te(0,"ul",35),Lt(1,Coe,3,2,"li",23),ue()),2&n){const t=je(4);Ne(1),Ue("ngForOf",t.todos)}}function xoe(n,e){if(1&n){const t=si();te(0,"div")(1,"mat-card")(2,"div",11)(3,"div",12)(4,"div",13),Lt(5,poe,2,1,"div",4),Lt(6,moe,2,1,"div",4),te(7,"div",14)(8,"div",15)(9,"button",16),qe("click",function(){en(t);const r=je().$implicit;return tn(je(2).ellipseMenu(r.id))}),te(10,"mat-icon",17),We(11,"more_vert"),ue()(),Lt(12,goe,9,0,"div",18),ue()()(),te(13,"div",19)(14,"button",20),qe("click",function(){en(t);const r=je().$implicit;return tn(je(2).addTodo(r.id))}),te(15,"mat-icon",21),We(16,"add"),ue(),We(17,"Add Task"),ue()(),Lt(18,_oe,2,1,"div",4),ue(),te(19,"div",22),Lt(20,yoe,2,1,"div",23),ue(),te(21,"div",24),Lt(22,boe,3,0,"div",4),Lt(23,woe,4,2,"div",25),Lt(24,Toe,2,1,"ul",26),ue()()()()}if(2&n){const t=je().$implicit,i=je(2);Ne(5),Ue("ngIf",i.editTaskLabel!=t.id),Ne(1),Ue("ngIf",i.editTaskLabel===t.id),Ne(6),Ue("ngIf",i.isMenuOpen===t.id),Ne(2),Ue("ngClass",i.isAddTodo===t.id?"active-button":"add-button"),Ne(1),Ue("ngClass",i.isAddTodo===t.id?"active-button":"add-icon"),Ne(3),Ue("ngIf",i.isAddTodo===t.id),Ne(2),Ue("ngForOf",i.todos),Ne(2),Ue("ngIf",i.completedTodosCountObj&&!i.completedTodosCountObj.hasOwnProperty(t.id)),Ne(1),Ue("ngIf",i.completedTodosCountObj&&i.completedTodosCountObj[t.id]&&0!=i.completedTodosCountObj[t.id]),Ne(1),Ue("ngIf",i.isCompletedListOpen.includes(t.id))}}function Doe(n,e){if(1&n&&(te(0,"div"),Lt(1,xoe,25,10,"div",4),ue()),2&n){const t=e.$implicit;Ne(1),Ue("ngIf",!t.deleted)}}function Soe(n,e){if(1&n&&(te(0,"div",9),Lt(1,Doe,2,1,"div",10),ue()),2&n){const t=je();Ne(1),Ue("ngForOf",t.tasks)}}let Aoe=(()=>{class n{constructor(t,i){this.cardService=t,this.authService=i,this.addedTask="",this.addedTodo="",this.isCompletedListOpen=[],this.isAddTodo="",this.addTasksInput=!1,this.isMenuOpen=""}ngOnInit(){this.authService.getUser().subscribe(t=>{t&&t.uid&&""!=t.uid&&null!=t.uid&&(this.uid=t.uid,this.getLatestTasks(t.uid))})}ngafterviewinit(){}completedTodosCount(t){const i={};for(const r of t)if(!0===r.completed&&!1===r.deleted){const o=r.id;i[o]||(i[o]=0),i[o]++}return i}getLatestTasks(t){this.cardService.getTasks(t).subscribe(i=>{this.tasks=i[0].tasks,this.todos=i[0].todos,this.completedTodosCountObj=this.completedTodosCount(this.todos)})}addTasksIcon(){this.addTasksInput=!this.addTasksInput,this.addedTask=""}onEnterTask(){""!=this.addedTask?(this.tasksModel=new MS,this.tasksModel.setModel(void 0,this.addedTask),this.cardService.createTasks(this.tasksModel,this.uid).subscribe(t=>{this.getLatestTasks(this.uid),this.addedTask=""})):alert("Please enter name of task")}onEnterCardLabel(t){""!=this.editTaskLabel?(this.tasksModel=new MS,this.tasksModel.setModel(t,this.taskLabelName),this.cardService.patchTasks(this.uid,this.tasksModel).subscribe(i=>{this.getLatestTasks(this.uid),this.editTaskLabel=""})):alert("Please enter name of task")}ellipseMenu(t){this.isMenuOpen=this.isMenuOpen==t?"":t}menuItemClicked(t,i){if("delete"==t)this.tasksModel=new MS,this.tasksModel.setModel(i.id,i.name,!0),this.cardService.patchTasks(this.uid,this.tasksModel).subscribe(r=>{this.isMenuOpen="",this.getLatestTasks(this.uid)});else if("edit"==t){this.editTaskLabel=i.id;let r=this.tasks.find(o=>o.id==o.id);this.taskLabelName=r.name,this.isMenuOpen=""}}addTodo(t){this.isAddTodo==t?this.isAddTodo="":(this.isAddTodo=t,this.addedTodo="")}onEnterTodo(t){""!=this.addedTodo?(this.todosModel=new kS,this.todosModel.setModel(t,this.addedTodo),this.cardService.createTodo(this.uid,this.todosModel).subscribe(i=>{this.getLatestTasks(this.uid),this.addedTodo=""})):alert("Please enter name of todo")}onCheckboxClick(t){this.todosModel=new kS,this.todosModel.setModel(t.id,t.name,!0),this.cardService.patchTodo(this.uid,this.todosModel).subscribe(i=>{this.getLatestTasks(this.uid)})}deleteCompleteList(t){this.todosModel=new kS,this.todosModel.setModel(t.id,t.name,void 0,!0),this.cardService.patchTodo(this.uid,this.todosModel).subscribe(i=>{this.getLatestTasks(this.uid)})}toggleForCompletedList(t){if(this.isCompletedListOpen.includes(t)){let i=this.isCompletedListOpen.findIndex(r=>r===t);this.isCompletedListOpen.splice(i,1)}else this.isCompletedListOpen.push(t)}static#e=this.\u0275fac=function(i){return new(i||n)(j(Wre),j(ql))};static#t=this.\u0275cmp=Bn({type:n,selectors:[["app-card"]],inputs:{userData:"userData"},decls:9,vars:2,consts:[[1,"add-todo-action"],[1,"main-board"],["id","main-board"],[1,"add-todo-text"],[4,"ngIf"],[1,"add-todo",3,"click"],[1,"bx","bxs-plus-circle"],["class","cards-container",4,"ngIf"],["type","text",1,"add_Task",3,"ngModel","ngModelChange","keyup.enter"],[1,"cards-container"],[4,"ngFor","ngForOf"],[1,"card"],[1,"card-header"],[1,"ellipse"],[1,"ellipse-card"],[1,"menu-container"],[1,"ellipse-button",3,"click"],[1,"vertical-ellipse-button"],["class","menu-items",4,"ngIf"],[1,"add-action"],["id","add-button-click",3,"ngClass","click"],[3,"ngClass"],[1,"card-content"],["class","check",4,"ngFor","ngForOf"],[1,"card-footer"],["class","list-container",4,"ngIf"],["class","list",4,"ngIf"],["type","text",1,"edit_Task",3,"ngModel","ngModelChange","keyup.enter"],[1,"menu-items"],[3,"click"],[1,"check"],[1,"round-checkbox",3,"click"],[1,"completed-button"],[1,"list-container"],["type","button",1,"toggle-button",3,"textContent","click"],[1,"list"],["class","completed-list",4,"ngIf"],["class","delete-button","type","button",3,"click",4,"ngIf"],[1,"completed-list"],["type","button",1,"delete-button",3,"click"]],template:function(i,r){1&i&&(te(0,"div",0)(1,"div",1)(2,"h3",2),We(3,"Main Board"),ue()(),te(4,"div",3),Lt(5,foe,2,1,"div",4),te(6,"button",5),qe("click",function(){return r.addTasksIcon()}),gt(7,"i",6),ue()()(),Lt(8,Soe,2,1,"div",7)),2&i&&(Ne(5),Ue("ngIf",r.addTasksInput),Ne(3),Ue("ngIf",r.tasks&&r.tasks.length>0))},dependencies:[JI,eC,gl,Zl,Nh,Kl,b4,p4,w4],styles:[".card[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:5px;box-shadow:0 2px 4px #0000001a;padding:10px;margin:10px;width:100%;height:100%;background-color:#fff}.card-header[_ngcontent-%COMP%]{color:gray;padding:10px;border-top-left-radius:7px;border-top-right-radius:7px;font-size:large}.card-content[_ngcontent-%COMP%]{padding:10px}.card-footer[_ngcontent-%COMP%]{padding:10px;border-bottom-left-radius:7px;border-bottom-right-radius:7px}.toggle-button[_ngcontent-%COMP%]{border:none;color:gray;background-color:transparent;font-size:small;margin-left:10px;display:flex;align-items:center}.completed-button[_ngcontent-%COMP%]{font-size:large;color:gray;margin-right:140px}.dynamic-card[_ngcontent-%COMP%]{width:100%;height:auto;max-width:500px;margin:0 auto}.round-checkbox[_ngcontent-%COMP%]{font-size:medium;color:gray}.completed-list[_ngcontent-%COMP%]{font-size:medium;color:gray;margin-top:15px;margin-left:40px}.list-container[_ngcontent-%COMP%], .check[_ngcontent-%COMP%]{display:flex;list-style:none;align-items:center;justify-content:space-between}.mat-radio-button[_ngcontent-%COMP%]{flex:1}.delete-button[_ngcontent-%COMP%]{margin-left:10px;border:none;background-color:transparent;font-size:large;display:flex;align-items:center}.mat-icon[_ngcontent-%COMP%]{font-size:24px}.list[_ngcontent-%COMP%]{padding-left:0}.main-board-dark[_ngcontent-%COMP%]{color:#fff}.main-board-light[_ngcontent-%COMP%]{color:#bdbdbd}.cards-container[_ngcontent-%COMP%]{height:100%;display:flex;flex-wrap:nowrap;justify-content:left;flex-direction:row;overflow-x:auto;overflow-y:hidden}@media (max-width: 576px){.cards-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:left;flex-direction:row}}.cards-container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{width:300px;margin-right:50px;margin-bottom:50px}.checkbox-container[_ngcontent-%COMP%]{display:flex;align-items:center}.add_Task[_ngcontent-%COMP%]{width:90%;box-sizing:border-box;padding:.3rem;border:1px solid #ccc;border-radius:.25rem;margin-top:5px;margin-left:10px;appearance:none;font:large;outline:none}.checkbox[_ngcontent-%COMP%]{width:20px;height:20px;margin-right:10px}.textarea[_ngcontent-%COMP%]{width:200px;height:50px}.add-action[_ngcontent-%COMP%]{margin-top:20px}.add-button[_ngcontent-%COMP%]{background:transparent;border:none;display:flex;align-items:center;color:gray}.add-icon[_ngcontent-%COMP%]{background:transparent;border:none;display:flex;align-items:center;color:#3f3fd1}mat-icon[_ngcontent-%COMP%]{margin-right:8px;color:gray}.active-button[_ngcontent-%COMP%]{color:#3f3fd1;background:transparent;border:none;display:flex;align-items:center}.ellipse-button[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background-color:#3498db;color:#fff;border:none;cursor:pointer}.add-todo[_ngcontent-%COMP%]{background-color:transparent;border:none}.add-todo-icon[_ngcontent-%COMP%]{color:#fff;margin-top:2px;margin-left:2px}.add-todo-action[_ngcontent-%COMP%], .add-todo-text[_ngcontent-%COMP%], .ellipse[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.menu-container[_ngcontent-%COMP%]{position:relative;display:inline-block}.ellipse-button[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;color:#fff;border:none;cursor:pointer;background-color:transparent}.menu-items[_ngcontent-%COMP%]{position:absolute;bottom:-75px;left:35px;background-color:#fff;border:1px solid #ccc;border-radius:5px;display:flex;flex-direction:column;z-index:1;padding:8px}.menu-items[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;padding:5px 10px;background-color:transparent;cursor:pointer;display:flex;align-items:center}.vertical-ellipse-button[_ngcontent-%COMP%]{margin-top:6px;margin-left:2.5px;color:gray;font-size:20px}.bxs-plus-circle[_ngcontent-%COMP%]{color:#3498db;font-size:45px}"]})}return n})();function Moe(n,e){if(1&n){const t=si();te(0,"button",35),qe("click",function(){en(t);const r=je().$implicit;return tn(je(2).menuItemClicked(r._id))}),We(1),ue()}if(2&n){const t=je().$implicit;Ne(1),dl(t.taskLabel)}}function koe(n,e){if(1&n&&(te(0,"div"),Lt(1,Moe,2,1,"button",34),ue()),2&n){const t=e.$implicit;Ne(1),Ue("ngIf",!t.deleted)}}function Roe(n,e){if(1&n&&(te(0,"div",32),Lt(1,koe,2,1,"div",33),ue()),2&n){const t=je();Ne(1),Ue("ngForOf",t.tasks)}}function Poe(n,e){if(1&n){const t=si();Ys(),La(),te(0,"img",36),qe("click",function(){return en(t),tn(je().toggleProfileOptions())}),ue()}2&n&&Ue("src",je().photoURL,rE)}function Ooe(n,e){if(1&n){const t=si();Ys(),La(),te(0,"i",37),qe("click",function(){return en(t),tn(je().toggleProfileOptions())}),ue()}}function Noe(n,e){if(1&n){const t=si();Ys(),La(),te(0,"div",38)(1,"ul")(2,"li")(3,"a",39),qe("click",function(){return en(t),tn(je().logout())}),We(4,"Logout"),ue()(),te(5,"li")(6,"a",39),qe("click",function(){return en(t),tn(je().deleteAccount())}),We(7,"Delete account"),ue()()()()}}let Foe=(()=>{class n{constructor(t,i,r){this.headerService=t,this.cacheService=i,this.authService=r,this.mode=!1,this.menuOpen=!1,this.errorMsg="API failing",this.showProfileOptions=!1}ngOnInit(){this.authService.getUser().subscribe(t=>{t&&(this.photoURL=t.photoURL,t.uid&&""!=t.uid&&null!=t.uid&&(this.uid=t.uid,this.getAllData(t.uid)))})}getAllData(t){this.headerService.getUIDData(t).subscribe(i=>{i&&i.length>0?(this.userData=i[0],this.loadData()):this.getAllData(t)})}loadData(){this.forkSub=zC({mode:this.headerService.getMode(this.uid).pipe(ca(t=>S(alert("API Failing"))))}).subscribe({next:({mode:t})=>{this.mode="dark"==t,this.mode?(document.body.classList.add("dark-mode"),document.body.classList.remove("light-mode"),document.getElementById("main-board").classList.add("main-board-dark"),document.getElementById("main-board").classList.remove("main-board-light")):(document.body.classList.add("light-mode"),document.body.classList.remove("dark-mode"),document.getElementById("main-board").classList.add("main-board-light"),document.getElementById("main-board").classList.remove("main-board-dark"))}})}ngafterviewinit(){}darkMode(t){t.target.checked?(document.body.classList.add("dark-mode"),document.body.classList.remove("light-mode"),document.getElementById("main-board").classList.add("main-board-dark"),document.getElementById("main-board").classList.remove("main-board-light"),this.mode=!0,this.cacheService.setData("modeKey",this.mode),this.headerService.updateMode("dark",this.uid).subscribe(r=>{})):(document.body.classList.add("light-mode"),document.body.classList.remove("dark-mode"),document.getElementById("main-board").classList.add("main-board-light"),document.getElementById("main-board").classList.remove("main-board-dark"),this.mode=!1,this.cacheService.setData("modeKey",this.mode),this.headerService.updateMode("light",this.uid).subscribe(r=>{}))}toggleProfileOptions(){this.showProfileOptions=!this.showProfileOptions}deleteAccount(){this.authService.deleteCurrentUser()}logout(){this.authService.signOut()}menuItemClicked(t){}menuBtn(){this.menuOpen=!this.menuOpen}static#e=this.\u0275fac=function(i){return new(i||n)(j(CY),j(wF),j(ql))};static#t=this.\u0275cmp=Bn({type:n,selectors:[["app-header"]],decls:36,vars:7,consts:[[1,"header",3,"ngClass"],["mat-icon-button","","aria-label","Example icon-button with menu icon",1,"example-icon",3,"click"],[1,"menu-container"],["class","menu-items",4,"ngIf"],[1,"example-spacer"],[1,"profile"],["type","checkbox","id","darkmode-toggle",1,"input_toggle",3,"ngModel","click","ngModelChange"],["for","darkmode-toggle",1,"label_toggle"],["version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","viewBox","0 0 496 496",0,"xml","space","preserve",1,"sun",2,"enable-background","new 0 0 496 496"],["x","152.994","y","58.921","transform","matrix(0.3827 0.9239 -0.9239 0.3827 168.6176 -118.5145)","width","40.001","height","16"],["x","46.9","y","164.979","transform","matrix(0.9239 0.3827 -0.3827 0.9239 71.29 -12.4346)","width","40.001","height","16"],["x","46.947","y","315.048","transform","matrix(0.9239 -0.3827 0.3827 0.9239 -118.531 50.2116)","width","40.001","height","16"],["x","164.966","y","409.112","transform","matrix(-0.9238 -0.3828 0.3828 -0.9238 168.4872 891.7491)","width","16","height","39.999"],["x","303.031","y","421.036","transform","matrix(-0.3827 -0.9239 0.9239 -0.3827 50.2758 891.6655)","width","40.001","height","16"],["x","409.088","y","315.018","transform","matrix(-0.9239 -0.3827 0.3827 -0.9239 701.898 785.6559)","width","40.001","height","16"],["x","409.054","y","165.011","transform","matrix(-0.9239 0.3827 -0.3827 -0.9239 891.6585 168.6574)","width","40.001","height","16"],["x","315.001","y","46.895","transform","matrix(0.9238 0.3828 -0.3828 0.9238 50.212 -118.5529)","width","16","height","39.999"],["d","M248,88c-88.224,0-160,71.776-160,160s71.776,160,160,160s160-71.776,160-160S336.224,88,248,88z M248,392\n        \t\t\t\tc-79.4,0-144-64.6-144-144s64.6-144,144-144s144,64.6,144,144S327.4,392,248,392z"],["x","240","width","16","height","72"],["x","62.097","y","90.096","transform","matrix(0.7071 0.7071 -0.7071 0.7071 98.0963 -40.6334)","width","71.999","height","16"],["y","240","width","72","height","16"],["x","90.091","y","361.915","transform","matrix(-0.7071 -0.7071 0.7071 -0.7071 -113.9157 748.643)","width","16","height","71.999"],["x","240","y","424","width","16","height","72"],["x","361.881","y","389.915","transform","matrix(-0.7071 -0.7071 0.7071 -0.7071 397.8562 960.6281)","width","71.999","height","16"],["x","424","y","240","width","72","height","16"],["x","389.911","y","62.091","transform","matrix(0.7071 0.7071 -0.7071 0.7071 185.9067 -252.6357)","width","16","height","71.999"],["version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","viewBox","0 0 49.739 49.739",0,"xml","space","preserve",1,"moon",2,"enable-background","new 0 0 49.739 49.739"],["d","M25.068,48.889c-9.173,0-18.017-5.06-22.396-13.804C-3.373,23.008,1.164,8.467,13.003,1.979l2.061-1.129l-0.615,2.268\n               c-1.479,5.459-0.899,11.25,1.633,16.306c2.75,5.493,7.476,9.587,13.305,11.526c5.831,1.939,12.065,1.492,17.559-1.258v0\n               c0.25-0.125,0.492-0.258,0.734-0.391l2.061-1.13l-0.585,2.252c-1.863,6.873-6.577,12.639-12.933,15.822\n               C32.639,48.039,28.825,48.888,25.068,48.889z M12.002,4.936c-9.413,6.428-12.756,18.837-7.54,29.253\n               c5.678,11.34,19.522,15.945,30.864,10.268c5.154-2.582,9.136-7.012,11.181-12.357c-5.632,2.427-11.882,2.702-17.752,0.748\n               c-6.337-2.108-11.473-6.557-14.463-12.528C11.899,15.541,11.11,10.16,12.002,4.936z"],["class","profile-img","alt","Profile Icon",3,"src","click",4,"ngIf"],["class","bx bxs-face","alt","Profile Icon",3,"click",4,"ngIf"],["class","profile-options",4,"ngIf"],[3,"userData"],[1,"menu-items"],[4,"ngFor","ngForOf"],[3,"click",4,"ngIf"],[3,"click"],["alt","Profile Icon",1,"profile-img",3,"src","click"],["alt","Profile Icon",1,"bx","bxs-face",3,"click"],[1,"profile-options"],["href","#",3,"click"]],template:function(i,r){1&i&&(te(0,"mat-toolbar",0)(1,"button",1),qe("click",function(){return r.menuBtn()}),te(2,"mat-icon"),We(3,"menu"),ue()(),te(4,"div",2),Lt(5,Roe,2,1,"div",3),ue(),te(6,"span"),We(7,"TasksBoard"),ue(),gt(8,"span",4),te(9,"div",5)(10,"input",6),qe("click",function(s){return r.darkMode(s)})("ngModelChange",function(s){return r.mode=s}),ue(),te(11,"label",7),Ys(),te(12,"svg",8),gt(13,"rect",9)(14,"rect",10)(15,"rect",11)(16,"rect",12)(17,"rect",13)(18,"rect",14)(19,"rect",15)(20,"rect",16)(21,"path",17)(22,"rect",18)(23,"rect",19)(24,"rect",20)(25,"rect",21)(26,"rect",22)(27,"rect",23)(28,"rect",24)(29,"rect",25),ue(),te(30,"svg",26),gt(31,"path",27),ue()(),Lt(32,Poe,1,1,"img",28),Lt(33,Ooe,1,0,"i",29),Lt(34,Noe,8,0,"div",30),ue()(),La(),gt(35,"app-card",31)),2&i&&(Ue("ngClass",!0===r.mode?"mat-toolbar-dark":"mat-toolbar-light"),Ne(5),Ue("ngIf",r.menuOpen),Ne(5),Ue("ngModel",r.mode),Ne(22),Ue("ngIf",null!=r.photoURL),Ne(1),Ue("ngIf",null==r.photoURL),Ne(1),Ue("ngIf",r.showProfileOptions),Ne(1),Ue("userData",r.userData))},dependencies:[JI,eC,gl,s0,Nh,Kl,yre,Are,p4,Aoe],styles:['.header[_ngcontent-%COMP%]{overflow:hidden}.example-spacer[_ngcontent-%COMP%]{flex:2 1 auto}.mat-toolbar-dark[_ngcontent-%COMP%]{box-shadow:0 0 4px #0003;color:#fff}.mat-toolbar-light[_ngcontent-%COMP%]{box-shadow:0 0 4px #0003;color:#178a8a}.menu-items[_ngcontent-%COMP%]{position:absolute;top:0;left:0;background-color:#fff;border:1px solid #ccc;border-radius:5px;display:flex;flex-direction:column;z-index:1;padding:8px}.menu-items[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;padding:5px 10px;background-color:transparent;cursor:pointer;display:flex;align-items:center}.menu-container[_ngcontent-%COMP%]{position:relative;display:inline-block}.label_toggle[_ngcontent-%COMP%]{margin-right:50px;width:50px;height:20px;position:relative;display:block;background:#ebebeb;border-radius:200px;box-shadow:inset 0 5px 15px #0006,inset 0 -5px 15px #fff6;cursor:pointer}.label_toggle[_ngcontent-%COMP%]:after{content:"";width:20px;height:20px;position:absolute;background:linear-gradient(180deg,#ffcc89,#d8860b);border-radius:180px;box-shadow:0 5px 10px #0003}.input_toggle[_ngcontent-%COMP%]{width:0;height:0;visibility:hidden}.input_toggle[_ngcontent-%COMP%]:checked + .label_toggle[_ngcontent-%COMP%]{background:#242424}.input_toggle[_ngcontent-%COMP%]:checked + .label_toggle[_ngcontent-%COMP%]:after{left:50px;transform:translate(-100%);background:linear-gradient(180deg,#777,#3a3a3a)}.label_toggle[_ngcontent-%COMP%], .label_toggle[_ngcontent-%COMP%]:after{transition:.3s}.label_toggle[_ngcontent-%COMP%]:active:after{width:50px}.label_toggle[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{position:absolute;width:13px;top:3px;z-index:100}.label_toggle[_ngcontent-%COMP%]   svg.sun[_ngcontent-%COMP%]{left:3px;fill:#fff;transition:.3s}.label_toggle[_ngcontent-%COMP%]   svg.moon[_ngcontent-%COMP%]{left:33px;fill:#7e7e7e;transition:.3s}.input_toggle[_ngcontent-%COMP%]:checked + .label_toggle[_ngcontent-%COMP%]   svg.sun[_ngcontent-%COMP%]{fill:#7e7e7e}.input_toggle[_ngcontent-%COMP%]:checked + .label_toggle[_ngcontent-%COMP%]   svg.moon[_ngcontent-%COMP%]{fill:#fff}.profile-img[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:100px}.profile[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.profile-options[_ngcontent-%COMP%]{position:absolute;top:50px;right:10px;background-color:#fff;border:1px solid #ccc;border-radius:50px;box-shadow:0 2px 5px #0000001a;z-index:1}.profile-options[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;padding:0;margin:0}.profile-options[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px}.profile-options[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#333;display:block}.profile-options[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}.bxs-face[_ngcontent-%COMP%]{font-size:xx-large}']})}return n})();function Loe(n,e){if(1&n&&(te(0,"span",6),We(1,"We've sent a verification mail to "),te(2,"strong",7),We(3),ue()()),2&n){const t=je();Ne(3),dl(t.email)}}function Voe(n,e){if(1&n&&(te(0,"span",6),We(1,"We've sent instructions on how to reset "),gt(2,"br"),We(3," your password to "),te(4,"strong",7),We(5),ue()()),2&n){const t=je();Ne(5),dl(t.email)}}function Boe(n,e){1&n&&(te(0,"span",6),We(1,"Please go to your mail to verify your email."),ue())}let Uoe=(()=>{class n{constructor(t){this.authService=t,this.email=null,this.forgotPassLabel=!1}ngOnInit(){this.authService.getUser().subscribe(t=>{t?this.email=t.email:(this.email=this.authService.email,this.forgotPassLabel=!0)})}static#e=this.\u0275fac=function(i){return new(i||n)(j(ql))};static#t=this.\u0275cmp=Bn({type:n,selectors:[["app-verifyemail"]],decls:10,vars:3,consts:[[1,"container"],[1,"box"],["src","assets/mail.png"],[1,"title"],["class","title1",4,"ngIf"],["href","login",1,"title2"],[1,"title1"],[1,"bold-email"]],template:function(i,r){1&i&&(te(0,"div",0)(1,"div",1),gt(2,"img",2),te(3,"span",3),We(4,"Check your email"),ue(),Lt(5,Loe,4,1,"span",4),Lt(6,Voe,6,1,"span",4),Lt(7,Boe,2,0,"span",4),te(8,"a",5),We(9,"Verified logging in"),ue()()()),2&i&&(Ne(5),Ue("ngIf",!r.forgotPassLabel),Ne(1),Ue("ngIf",r.forgotPassLabel),Ne(1),Ue("ngIf",!r.forgotPassLabel))},dependencies:[gl],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;height:100%;background-color:#cdcde1;max-width:1500px}.box[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;background-color:#fff;padding:75px 50px;border-radius:10px;box-shadow:0 0 10px #0003}.box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-bottom:10px}.title[_ngcontent-%COMP%]{font-weight:600;font-size:larger;margin-bottom:20px;color:#2b2b2b}.bold-email[_ngcontent-%COMP%]{font-weight:700;color:#2b2b2b}.title1[_ngcontent-%COMP%]{margin-bottom:2%;color:gray;font-size:14px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}.title2[_ngcontent-%COMP%]{color:#228be6;text-decoration:none;font-weight:500;margin-top:2%;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}.title2[_ngcontent-%COMP%]:hover{color:#00f}"]})}return n})(),joe=(()=>{class n{constructor(t){this.authService=t,this.email=""}forgotPasswordMail(){this.authService.forgotPassword(this.email)}static#e=this.\u0275fac=function(i){return new(i||n)(j(ql))};static#t=this.\u0275cmp=Bn({type:n,selectors:[["app-forgotpassword"]],decls:13,vars:1,consts:[[1,"container"],[1,"box"],[1,"title"],[1,"title1"],["for","email",1,"emailLabel"],["type","email","id","email","name","email","aria-describedby","email",1,"emailInput",3,"ngModel","ngModelChange"],[1,"btn",3,"click"],["href","login",1,"title2"]],template:function(i,r){1&i&&(te(0,"div",0)(1,"div",1)(2,"span",2),We(3,"Forgot your password?"),ue(),te(4,"span",3),We(5,"Your password will be reset by email."),ue(),te(6,"label",4),We(7,"Enter your email address"),ue(),te(8,"input",5),qe("ngModelChange",function(s){return r.email=s}),ue(),te(9,"button",6),qe("click",function(){return r.forgotPasswordMail()}),We(10,"Next"),ue(),te(11,"a",7),We(12,"Back to log in"),ue()()()),2&i&&(Ne(8),Ue("ngModel",r.email))},dependencies:[Zl,Nh,Kl],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;height:100%;background-color:#cdcde1;max-width:1500px}.box[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;background-color:#fff;padding:45px 80px;border-radius:10px;box-shadow:0 0 10px #0003}.title[_ngcontent-%COMP%]{font-weight:600;font-size:x-large;margin-bottom:4%;color:#228be6}.btn[_ngcontent-%COMP%]{background-color:#228be6;color:#fff;margin-top:10px;height:40px;width:125%;padding:5px 60%;border:none;border-radius:5px;cursor:pointer;margin-bottom:5%}.title1[_ngcontent-%COMP%]{margin-bottom:6%;color:gray;font-size:13px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}.emailLabel[_ngcontent-%COMP%]{color:gray;font-size:13px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;margin-bottom:3%;font-weight:500;margin-left:-180px}.emailInput[_ngcontent-%COMP%]{padding-left:1%;border-radius:5px;border:solid 1px #3a3a3a;outline:none;height:40px;width:125%;margin-bottom:4%}.title2[_ngcontent-%COMP%]{color:#228be6;text-decoration:none;font-weight:500;margin-top:2%;font-size:14px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}.title2[_ngcontent-%COMP%]:hover{color:#00f}"]})}return n})(),zoe=(()=>{class n{constructor(t,i){this.authService=t,this.router=i}canActivate(t,i){return this.authService.isLoggedIn()||"false"==localStorage.getItem("rememberMe")?(localStorage.removeItem("rememberMe"),!0):(this.router.navigate(["/login"]),!1)}static#e=this.\u0275fac=function(i){return new(i||n)(V(ql),V(Ji))};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Hoe=["registerationForm"];function $oe(n,e){if(1&n){const t=si();te(0,"i",28),qe("click",function(){return en(t),tn(je().togglePasswordVisibility())}),ue()}}function Goe(n,e){if(1&n){const t=si();te(0,"i",29),qe("click",function(){return en(t),tn(je().togglePasswordVisibility())}),ue()}}function qoe(n,e){if(1&n){const t=si();te(0,"i",28),qe("click",function(){return en(t),tn(je().toggleConfirmPasswordVisibility())}),ue()}}function Woe(n,e){if(1&n){const t=si();te(0,"i",29),qe("click",function(){return en(t),tn(je().toggleConfirmPasswordVisibility())}),ue()}}let Zoe=(()=>{class n{constructor(t,i){this.authService=t,this.router=i,this.passwordToggle=!1,this.confirmPasswordToggle=!1}ngOnInit(){}register(){this.registerationForm.valid?this.registerationForm.valid&&this.registerationForm.value.password!=this.registerationForm.value.confirmPassword?alert("Password and Confirm password does not matching"):this.registerationForm.valid&&this.registerationForm.value.password==this.registerationForm.value.confirmPassword&&this.authService.register(this.registerationForm.value):alert("Please enter your registration details")}alreadyHaveAccount(){this.router.navigate(["/login"])}togglePasswordVisibility(){const t=document.getElementById("password");"password"===t.type?(t.type="text",this.passwordToggle=!1):(t.type="password",this.passwordToggle=!0)}toggleConfirmPasswordVisibility(){const t=document.getElementById("confirmPassword");"password"===t.type?(t.type="text",this.confirmPasswordToggle=!1):(t.type="password",this.confirmPasswordToggle=!0)}static#e=this.\u0275fac=function(i){return new(i||n)(j(ql),j(Ji))};static#t=this.\u0275cmp=Bn({type:n,selectors:[["app-register"]],viewQuery:function(i,r){if(1&i&&Ga(Hoe,5),2&i){let o;Wo(o=Zo())&&(r.registerationForm=o.first)}},decls:40,vars:4,consts:[[1,"pleaseFillOutFormToRegister"],[3,"ngSubmit"],["registerationForm","ngForm"],["for","fullName",1,"fullName"],["type","text","id","fullName","placeholder","Full Name","name","fullName","aria-describedby","fullName","ngModel","","required","",1,"rectangle9"],["for","userName",1,"userName"],["type","text","id","userName","placeholder","User Name","name","userName","aria-describedby","userName","ngModel","","required","",1,"rectangle2"],["for","email",1,"email"],["type","email","id","email","placeholder","Email","name","email","aria-describedby","email","ngModel","","required","",1,"rectangle10"],["for","password",1,"password"],[1,"rectangle3"],["type","password","id","password","placeholder","Password","id","password","name","password","ngModel","","required",""],[1,"passwordIcon"],["class","bx bx-show",3,"click",4,"ngIf"],["class","bx bx-hide",3,"click",4,"ngIf"],["for","confirmPassword",1,"confirmPassword"],[1,"rectangle8"],["type","password","id","confirmPassword","placeholder","Password","id","confirmPassword","name","confirmPassword","ngModel","","required",""],[1,"rectangle4"],["type","submit",1,"register"],[1,"yesIHaveAnAccountLogin"],[1,"labelWrapper"],[1,"label"],["href","login",1,"label2"],[1,"label3"],[1,"rectangle6"],[1,"rectangle7"],[1,"pc-reg"],[1,"bx","bx-show",3,"click"],[1,"bx","bx-hide",3,"click"]],template:function(i,r){1&i&&(te(0,"div",0),We(1,"Please Fill out form to Register!"),ue(),te(2,"form",1,2),qe("ngSubmit",function(){return r.register()}),te(4,"label",3),We(5,"Full name:"),ue(),gt(6,"input",4),te(7,"label",5),We(8,"Username:"),ue(),gt(9,"input",6),te(10,"label",7),We(11,"Email:"),ue(),gt(12,"input",8),te(13,"label",9),We(14,"Password:"),ue(),te(15,"div",10),gt(16,"input",11),te(17,"div",12),Lt(18,$oe,1,0,"i",13),Lt(19,Goe,1,0,"i",14),ue()(),te(20,"label",15),We(21,"Confirm Password:"),ue(),te(22,"div",16),gt(23,"input",17),te(24,"div",12),Lt(25,qoe,1,0,"i",13),Lt(26,Woe,1,0,"i",14),ue()(),gt(27,"div",18),te(28,"button",19),We(29,"Register"),ue()(),te(30,"div",20)(31,"p",21)(32,"span",22),We(33,"Yes i have an account?"),ue(),te(34,"a",23),We(35,"Login"),ue(),gt(36,"span",24),ue()(),gt(37,"div",25)(38,"div",26)(39,"div",27)),2&i&&(Ne(18),Ue("ngIf",r.passwordToggle),Ne(1),Ue("ngIf",!r.passwordToggle),Ne(6),Ue("ngIf",r.confirmPasswordToggle),Ne(1),Ue("ngIf",!r.confirmPasswordToggle))},dependencies:[gl,mS,Zl,Nh,oS,_g,Kl,gg],styles:['[_nghost-%COMP%], *[_ngcontent-%COMP%]{box-sizing:border-box;margin:0;padding:0;background:none;border:none;flex-shrink:0;text-decoration:none;min-width:0;overflow-wrap:anywhere}[_nghost-%COMP%], [_ngcontent-%COMP%]:not(span, a[_ngcontent-%COMP%], ul[_ngcontent-%COMP%], ol[_ngcontent-%COMP%], li[_ngcontent-%COMP%], p)[_ngcontent-%COMP%]{display:flex}ul[_ngcontent-%COMP%], ol[_ngcontent-%COMP%]{text-indent:0;padding-inline-start:1.5em}p[_ngcontent-%COMP%]:empty:before{content:"";display:inline-block}img[_ngcontent-%COMP%]{object-fit:contain}svg[_ngcontent-%COMP%]{overflow:visible}[_nghost-%COMP%]{position:relative;width:100vw;height:100vh;flex-direction:column;align-items:flex-start;background-color:#ebefff;overflow:hidden}.rectangle2[_ngcontent-%COMP%]{position:absolute;left:756px;top:240px;width:367px;height:34px;outline:solid 1px #656ed3;outline-offset:-1px;border-radius:50px;background-color:#afb3ff00;padding-left:1%}.rectangle9[_ngcontent-%COMP%]{position:absolute;left:756px;top:164px;width:367px;height:34px;outline:solid 1px #656ed3;outline-offset:-1px;border-radius:50px;background-color:#afb3ff00;padding-left:1%}.rectangle3[_ngcontent-%COMP%]{position:absolute;left:758px;top:396px;width:367px;height:34px;outline:solid 1px #656ed3;outline-offset:-1px;border-radius:50px;background-color:#afb3ff00;padding-left:1%}.rectangle10[_ngcontent-%COMP%]{position:absolute;left:756px;top:320px;width:367px;height:34px;outline:solid 1px #656ed3;outline-offset:-1px;border-radius:50px;background-color:#afb3ff00;padding-left:1%}.rectangle8[_ngcontent-%COMP%]{position:absolute;left:758px;top:472px;width:367px;height:34px;outline:solid 1px #656ed3;outline-offset:-1px;border-radius:50px;background-color:#afb3ff00;padding-left:1%}.userName[_ngcontent-%COMP%]{color:#000;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:756px;top:210px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.fullName[_ngcontent-%COMP%]{color:#000;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:756px;top:134px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.yesIHaveAnAccountLogin[_ngcontent-%COMP%]{position:absolute;left:838px;top:590px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.labelWrapper[_ngcontent-%COMP%]{font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;flex-shrink:1}.label[_ngcontent-%COMP%]{color:#000;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}.label2[_ngcontent-%COMP%]{color:#000;font-size:16px;font-weight:500;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}.label3[_ngcontent-%COMP%]{color:#000;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}.rectangle4[_ngcontent-%COMP%]{position:absolute;left:760px;top:529px;width:365px;height:34px;border-radius:50px;background-color:#656ed3}.register[_ngcontent-%COMP%]{color:#fff;font-size:16px;font-weight:500;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:910px;top:533px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.password[_ngcontent-%COMP%]{color:#000;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:760px;top:366px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.email[_ngcontent-%COMP%]{color:#000;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:758px;top:290px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.confirmPassword[_ngcontent-%COMP%]{color:#000;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:760px;top:442px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.rectangle6[_ngcontent-%COMP%]{transform-origin:top left;position:absolute;left:180.2554px;top:510.0889px;width:635px;height:377px;border-radius:105.5304px;background-color:#656ed3;transform:matrix(-.1248,-.9922,.9922,-.1248,0,0)}.rectangle7[_ngcontent-%COMP%]{transform-origin:top left;position:absolute;left:165px;top:536px;width:635px;height:377px;border-radius:105.5304px;background-color:#afb3ff;transform:matrix(0,-1,1,0,0,0)}.socialMediaIcons[_ngcontent-%COMP%]{position:absolute;left:917px;top:636px;width:88.2188px;height:24.2188px;overflow:visible}.icon[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.pleaseFillOutFormToRegister[_ngcontent-%COMP%]{color:#1a1a1a;font-size:16px;font-weight:700;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:818px;top:92px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.pc-reg[_ngcontent-%COMP%]{position:absolute;inset:24.5833% 45.3906% 7.0833% 12.7344%;background-image:url(/assets/pc-reg.svg);background-position:center;background-repeat:no-repeat;background-size:cover}.passwordIcon[_ngcontent-%COMP%]{position:absolute;left:335px;top:9px}']})}return n})();const Koe=["loginForm"];function Yoe(n,e){if(1&n){const t=si();te(0,"i",29),qe("click",function(){return en(t),tn(je().togglePasswordVisibility())}),ue()}}function Qoe(n,e){if(1&n){const t=si();te(0,"i",30),qe("click",function(){return en(t),tn(je().togglePasswordVisibility())}),ue()}}const Xoe=[{path:"",redirectTo:"/tasks",pathMatch:"full"},{path:"tasks",component:Foe,canActivate:[zoe]},{path:"login",component:(()=>{class n{constructor(t,i){this.authService=t,this.router=i,this.passwordToggle=!1}ngOnInit(){}login(t){this.loginForm.valid?this.authService.signIn(t.email,t.password,t.rememberMe):alert("Please enter your email and password")}forgotPass(){this.router.navigate(["/forgot-password"])}togglePasswordVisibility(){const t=document.getElementById("password");"password"===t.type?(t.type="text",this.passwordToggle=!1):(t.type="password",this.passwordToggle=!0)}signInWithGoogle(){this.authService.singInWithGoogle()}signInWithGithub(){this.authService.singInWithGithub()}static#e=this.\u0275fac=function(i){return new(i||n)(j(ql),j(Ji))};static#t=this.\u0275cmp=Bn({type:n,selectors:[["app-login"]],viewQuery:function(i,r){if(1&i&&Ga(Koe,5),2&i){let o;Wo(o=Zo())&&(r.loginForm=o.first)}},decls:40,vars:2,consts:[[1,"rectangle1"],[1,"pc-login"],[1,"welcomeBack"],[3,"ngSubmit"],["loginForm","ngForm"],["for","exampleInputEmail",1,"username"],["type","email","id","exampleInputEmail","placeholder","Email","name","email","aria-describedby","emailHelp","ngModel","","required","",1,"rectangle2"],["for","exampleInputPassword",1,"password"],[1,"rectangle3"],["type","password","id","exampleInputPassword","placeholder","Password","id","password","name","password","ngModel","","required",""],[1,"passwordIcon"],["class","bx bx-show",3,"click",4,"ngIf"],["class","bx bx-hide",3,"click",4,"ngIf"],[1,"dontHaveAndAccountRegister1"],[1,"labelWrapper"],["type","checkbox","id","rememberMe","name","rememberMe","ngModel",""],["for","rememberMe",1,"rememberMe"],["href","forgot-password",1,"forgotPassword"],[1,"dontHaveAndAccountRegister"],[1,"label"],["href","register",1,"label2"],[1,"rectangle4"],["type","submit",1,"login"],[1,"socialMediaIcons"],[3,"click"],["src","assets/google.svg","alt","",1,"icon"],["src","assets/github.svg","alt","",1,"icon"],[1,"rectangle5"],[1,"rectangle6"],[1,"bx","bx-show",3,"click"],[1,"bx","bx-hide",3,"click"]],template:function(i,r){if(1&i){const o=si();gt(0,"div",0)(1,"div",1),te(2,"div",2),We(3,"Welcome Back!"),ue(),te(4,"form",3,4),qe("ngSubmit",function(){en(o);const a=mp(5);return tn(r.login(a.value))}),te(6,"label",5),We(7,"Username:"),ue(),gt(8,"input",6),te(9,"label",7),We(10,"Password:"),ue(),te(11,"div",8),gt(12,"input",9),te(13,"div",10),Lt(14,Yoe,1,0,"i",11),Lt(15,Qoe,1,0,"i",12),ue()(),te(16,"div",13)(17,"div",14)(18,"div"),gt(19,"input",15),te(20,"span",16),We(21,"Remember Me"),ue()(),te(22,"a",17),We(23,"Forgot Password"),ue()()(),te(24,"div",18)(25,"p",14)(26,"span",19),We(27,"Dont have and account?"),ue(),te(28,"a",20),We(29,"Register"),ue()()(),gt(30,"div",21),te(31,"button",22),We(32,"Login"),ue(),te(33,"div",23)(34,"a",24),qe("click",function(){return r.signInWithGoogle()}),gt(35,"img",25),ue(),te(36,"a",24),qe("click",function(){return r.signInWithGithub()}),gt(37,"img",26),ue()()(),gt(38,"div",27)(39,"div",28)}2&i&&(Ne(14),Ue("ngIf",r.passwordToggle),Ne(1),Ue("ngIf",!r.passwordToggle))},dependencies:[gl,mS,Zl,s0,Nh,oS,_g,Kl,gg],styles:['[_nghost-%COMP%], *[_ngcontent-%COMP%]{box-sizing:border-box;margin:0;padding:0;background:none;border:none;flex-shrink:0;text-decoration:none;min-width:0;overflow-wrap:anywhere}[_nghost-%COMP%], [_ngcontent-%COMP%]:not(span, a[_ngcontent-%COMP%], ul[_ngcontent-%COMP%], ol[_ngcontent-%COMP%], li[_ngcontent-%COMP%], p)[_ngcontent-%COMP%]{display:flex}ul[_ngcontent-%COMP%], ol[_ngcontent-%COMP%]{text-indent:0;padding-inline-start:1.5em}p[_ngcontent-%COMP%]:empty:before{content:"";display:inline-block}img[_ngcontent-%COMP%]{object-fit:contain}svg[_ngcontent-%COMP%]{overflow:visible}[_nghost-%COMP%]{position:relative;width:100vw;height:100vh;flex-direction:column;align-items:flex-start;background-color:#ebefff;overflow:hidden}.rectangle1[_ngcontent-%COMP%]{position:absolute;left:842px;top:0;width:525px;height:720px;background-color:#afb3ff}.socialMediaIcons[_ngcontent-%COMP%]{position:absolute;left:256px;top:530px;width:40px;height:35px;overflow:visible}.icon[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.rectangle2[_ngcontent-%COMP%]{position:absolute;left:122px;top:250px;width:367px;height:34px;padding-left:1%;outline:solid 1px #656ed3;outline-offset:-1px;border-radius:50px;background-color:#afb3ff00}.passwordIcon[_ngcontent-%COMP%]{position:absolute;left:335px;top:9px}.rectangle3[_ngcontent-%COMP%]{position:absolute;left:122px;top:326px;width:367px;height:34px;padding-left:1%;outline:solid 1px #656ed3;outline-offset:-1px;border-radius:50px;background-color:#afb3ff00}.username[_ngcontent-%COMP%]{color:#000;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:122px;top:220px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.dontHaveAndAccountRegister1[_ngcontent-%COMP%]{position:absolute;left:134px;top:379px;width:max-content;height:min-content;white-space:nowrap;flex-direction:column}.rememberMe[_ngcontent-%COMP%]{margin-left:6%}.dontHaveAndAccountRegister[_ngcontent-%COMP%]{position:absolute;left:188px;top:480px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.labelWrapper[_ngcontent-%COMP%]{font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;flex-shrink:1}.label[_ngcontent-%COMP%]{color:#000;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}.label2[_ngcontent-%COMP%]{color:#000;font-size:16px;font-weight:500;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}.forgotPassword[_ngcontent-%COMP%]{color:#000;font-size:16px;font-weight:500;margin-left:30%;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}.welcomeBack[_ngcontent-%COMP%]{color:#1a1a1a;font-size:16px;font-weight:700;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:240px;top:177px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.rectangle4[_ngcontent-%COMP%]{position:absolute;left:124px;top:420px;width:365px;height:34px;border-radius:50px;background-color:#656ed3}.login[_ngcontent-%COMP%]{color:#fff;font-size:16px;font-weight:500;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:285px;top:424px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.password[_ngcontent-%COMP%]{color:#000;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:124px;top:296px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.rectangle5[_ngcontent-%COMP%]{transform-origin:top left;position:absolute;left:-287px;top:912.3164px;width:596.734px;height:141.396px;border-radius:105.5304px;background-color:#838cf1;transform:matrix(.7535,-.6574,.6574,.7535,0,0)}.rectangle6[_ngcontent-%COMP%]{transform-origin:top left;position:absolute;left:-252px;top:895.0518px;width:553.7418px;height:131.209px;border-radius:105.5304px;background-color:#afb3ff;transform:matrix(.7535,-.6574,.6574,.7535,0,0)}.pc-login[_ngcontent-%COMP%]{position:absolute;left:565px;top:-37px;width:600px;height:590px;flex-direction:column;align-items:flex-start;right:0;background-image:url(/assets/pc-login.svg);background-position:center;background-repeat:no-repeat;background-size:cover}']})}return n})()},{path:"register",component:Zoe},{path:"verify-email",component:Uoe},{path:"forgot-password",component:joe}];let Joe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Et({type:n});static#n=this.\u0275inj=wt({imports:[iF.forRoot(Xoe),iF]})}return n})(),ese=(()=>{class n{constructor(){this.title="tasks"}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Bn({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(i,r){1&i&&gt(0,"router-outlet")},dependencies:[RC]})}return n})(),C4=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Et({type:n});static#n=this.\u0275inj=wt({})}return n})(),fse=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Et({type:n});static#n=this.\u0275inj=wt({imports:[Fn,jh,C4,Fn,C4]})}return n})(),gse=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Et({type:n});static#n=this.\u0275inj=wt({imports:[Jj,Fn,Jj,Fn]})}return n})(),D4=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Et({type:n});static#n=this.\u0275inj=wt({})}return n})(),Sse=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Et({type:n});static#n=this.\u0275inj=wt({imports:[D4,Fn,jh,Sd,D4,Fn]})}return n})(),Lse=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Et({type:n});static#n=this.\u0275inj=wt({imports:[Fn,Sd,jh]})}return n})();class M4{}class Vse{}const wa="*";function R4(n,e=null){return{type:2,steps:n,options:e}}function tu(n){return{type:6,styles:n,offset:null}}class Tg{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class O4{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}function N4(n){return new F(3e3,!1)}function Sc(n){switch(n.length){case 0:return new Tg;case 1:return n[0];default:return new O4(n)}}function F4(n,e,t=new Map,i=new Map){const r=[],o=[];let s=-1,a=null;if(e.forEach(c=>{const l=c.get("offset"),h=l==s,p=h&&a||new Map;c.forEach((g,v)=>{let E=v,C=g;if("offset"!==v)switch(E=n.normalizePropertyName(E,r),C){case"!":C=t.get(v);break;case wa:C=i.get(v);break;default:C=n.normalizeStyleValue(v,E,C,r)}p.set(E,C)}),h||o.push(p),a=p,s=l}),r.length)throw function aae(n){return new F(3502,!1)}();return o}function NS(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&FS(t,"start",n)));break;case"done":n.onDone(()=>i(t&&FS(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&FS(t,"destroy",n)))}}function FS(n,e,t){const o=LS(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),s=n._data;return null!=s&&(o._data=s),o}function LS(n,e,t,i,r="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function oo(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function L4(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const yae=(()=>typeof document>"u"?null:document.documentElement)();function VS(n){const e=n.parentNode||n.host||null;return e===yae?null:e}let nu=null,V4=!1;function B4(n,e){for(;e;){if(e===n)return!0;e=VS(e)}return!1}function U4(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]}let j4=(()=>{class n{validateStyleProperty(t){return function wae(n){nu||(nu=function Eae(){return typeof document<"u"?document.body:null}()||{},V4=!!nu.style&&"WebkitAppearance"in nu.style);let e=!0;return nu.style&&!function bae(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in nu.style,!e&&V4&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in nu.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return B4(t,i)}getParentElement(t){return VS(t)}query(t,i,r){return U4(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,o,s,a=[],c){return new Tg(r,o)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac})}return n})(),BS=(()=>{class n{static#e=this.NOOP=new j4}return n})();const Iae=1e3,US="ng-enter",S0="ng-leave",A0="ng-trigger",M0=".ng-trigger",H4="ng-animating",jS=".ng-animating";function Ea(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:zS(parseFloat(e[1]),e[2])}function zS(n,e){return"s"===e?n*Iae:n}function k0(n,e,t){return n.hasOwnProperty("duration")?n:function Tae(n,e,t){let r,o=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(N4()),{duration:0,delay:0,easing:""};r=zS(parseFloat(a[1]),a[2]);const c=a[3];null!=c&&(o=zS(parseFloat(c),a[4]));const l=a[5];l&&(s=l)}else r=n;if(!t){let a=!1,c=e.length;r<0&&(e.push(function Bse(){return new F(3100,!1)}()),a=!0),o<0&&(e.push(function Use(){return new F(3101,!1)}()),a=!0),a&&e.splice(c,0,N4())}return{duration:r,delay:o,easing:s}}(n,e,t)}function xg(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function $4(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Ac(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function Bs(n,e,t){e.forEach((i,r)=>{const o=$S(r);t&&!t.has(r)&&t.set(r,n.style[o]),n.style[o]=i})}function iu(n,e){e.forEach((t,i)=>{const r=$S(i);n.style[r]=""})}function Dg(n){return Array.isArray(n)?1==n.length?n[0]:R4(n):n}const HS=new RegExp("{{\\s*(.+?)\\s*}}","g");function q4(n){let e=[];if("string"==typeof n){let t;for(;t=HS.exec(n);)e.push(t[1]);HS.lastIndex=0}return e}function Sg(n,e,t){const i=n.toString(),r=i.replace(HS,(o,s)=>{let a=e[s];return null==a&&(t.push(function zse(n){return new F(3003,!1)}()),a=""),a.toString()});return r==i?n:r}function R0(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Sae=/-+([a-z0-9])/g;function $S(n){return n.replace(Sae,(...e)=>e[1].toUpperCase())}function so(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function Hse(n){return new F(3004,!1)}()}}function W4(n,e){return window.getComputedStyle(n)[e]}const P0="*";function kae(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function Rae(n,e,t){if(":"==n[0]){const c=function Pae(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function iae(n){return new F(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof c)return void e.push(c);n=c}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function nae(n){return new F(3015,!1)}()),e;const r=i[1],o=i[2],s=i[3];e.push(Z4(r,s));"<"==o[0]&&!(r==P0&&s==P0)&&e.push(Z4(s,r))}(i,t,e)):t.push(n),t}const O0=new Set(["true","1"]),N0=new Set(["false","0"]);function Z4(n,e){const t=O0.has(n)||N0.has(n),i=O0.has(e)||N0.has(e);return(r,o)=>{let s=n==P0||n==r,a=e==P0||e==o;return!s&&t&&"boolean"==typeof r&&(s=r?O0.has(n):N0.has(n)),!a&&i&&"boolean"==typeof o&&(a=o?O0.has(e):N0.has(e)),s&&a}}const Oae=new RegExp("s*:selfs*,?","g");function GS(n,e,t,i){return new Nae(n).build(e,t,i)}class Nae{constructor(e){this._driver=e}build(e,t,i){const r=new Vae(t);return this._resetContextStyleTimingState(r),so(this,Dg(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const o=[],s=[];return"@"==e.name.charAt(0)&&t.errors.push(function Gse(){return new F(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const c=a,l=c.name;l.toString().split(/\s*,\s*/).forEach(h=>{c.name=h,o.push(this.visitState(c,t))}),c.name=l}else if(1==a.type){const c=this.visitTransition(a,t);i+=c.queryCount,r+=c.depCount,s.push(c)}else t.errors.push(function qse(){return new F(3007,!1)}())}),{type:7,name:e.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const o=new Set,s=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{q4(c).forEach(l=>{s.hasOwnProperty(l)||o.add(l)})})}),o.size&&(R0(o.values()),t.errors.push(function Wse(n,e){return new F(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=so(this,Dg(e.animation),t);return{type:1,matchers:kae(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:ru(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>so(this,i,t)),options:ru(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const o=e.steps.map(s=>{t.currentTime=i;const a=so(this,s,t);return r=Math.max(r,t.currentTime),a});return t.currentTime=r,{type:3,steps:o,options:ru(e.options)}}visitAnimate(e,t){const i=function Uae(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return qS(k0(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=qS(0,0,"");return o.dynamic=!0,o.strValue=t,o}const r=k0(t,e);return qS(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,o=e.styles?e.styles:tu({});if(5==o.type)r=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;const l={};i.easing&&(l.easing=i.easing),s=tu(l)}t.currentTime+=i.duration+i.delay;const c=this.visitStyle(s,t);c.isEmptyStep=a,r=c}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of r)"string"==typeof a?a===wa?i.push(a):t.errors.push(new F(3002,!1)):i.push($4(a));let o=!1,s=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let c of a.values())if(c.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,o=t.currentTime;i&&o>0&&(o-=i.duration+i.delay),e.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,c)=>{const l=t.collectedStyles.get(t.currentQuerySelector),h=l.get(c);let p=!0;h&&(o!=r&&o>=h.startTime&&r<=h.endTime&&(t.errors.push(function Kse(n,e,t,i,r){return new F(3010,!1)}()),p=!1),o=h.startTime),p&&l.set(c,{startTime:o,endTime:r}),t.options&&function Dae(n,e,t){const i=e.params||{},r=q4(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||t.push(function jse(n){return new F(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function Yse(){return new F(3011,!1)}()),i;let o=0;const s=[];let a=!1,c=!1,l=0;const h=e.steps.map(N=>{const k=this._makeStyleAst(N,t);let U=null!=k.offset?k.offset:function Bae(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(k.styles),Q=0;return null!=U&&(o++,Q=k.offset=U),c=c||Q<0||Q>1,a=a||Q<l,l=Q,s.push(Q),k});c&&t.errors.push(function Qse(){return new F(3012,!1)}()),a&&t.errors.push(function Xse(){return new F(3200,!1)}());const p=e.steps.length;let g=0;o>0&&o<p?t.errors.push(function Jse(){return new F(3202,!1)}()):0==o&&(g=1/(p-1));const v=p-1,E=t.currentTime,C=t.currentAnimateTimings,x=C.duration;return h.forEach((N,k)=>{const U=g>0?k==v?1:g*k:s[k],Q=U*x;t.currentTime=E+C.delay+Q,C.duration=Q,this._validateStyleAst(N,t),N.offset=U,i.styles.push(N)}),i}visitReference(e,t){return{type:8,animation:so(this,Dg(e.animation),t),options:ru(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:ru(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:ru(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[o,s]=function Fae(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(Oae,"")),n=n.replace(/@\*/g,M0).replace(/@\w+/g,t=>M0+"-"+t.slice(1)).replace(/:animating/g,jS),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+o:o,oo(t.collectedStyles,t.currentQuerySelector,new Map);const a=so(this,Dg(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:ru(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function eae(){return new F(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:k0(e.timings,t.errors,!0);return{type:12,animation:so(this,Dg(e.animation),t),timings:i,options:null}}}class Vae{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function ru(n){return n?(n=xg(n)).params&&(n.params=function Lae(n){return n?xg(n):null}(n.params)):n={},n}function qS(n,e,t){return{duration:n,delay:e,easing:t}}function WS(n,e,t,i,r,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}class F0{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Hae=new RegExp(":enter","g"),Gae=new RegExp(":leave","g");function ZS(n,e,t,i,r,o=new Map,s=new Map,a,c,l=[]){return(new qae).buildKeyframes(n,e,t,i,r,o,s,a,c,l)}class qae{buildKeyframes(e,t,i,r,o,s,a,c,l,h=[]){l=l||new F0;const p=new KS(e,t,l,r,o,h,[]);p.options=c;const g=c.delay?Ea(c.delay):0;p.currentTimeline.delayNextStep(g),p.currentTimeline.setStyles([s],null,p.errors,c),so(this,i,p);const v=p.timelines.filter(E=>E.containsAnimation());if(v.length&&a.size){let E;for(let C=v.length-1;C>=0;C--){const x=v[C];if(x.element===t){E=x;break}}E&&!E.allowOnlyTimelineStyles()&&E.setStyles([a],null,p.errors,c)}return v.length?v.map(E=>E.buildKeyframes()):[WS(t,[],[],[],0,g,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const o=r?.delay;if(o){const s="number"==typeof o?o:Ea(Sg(o,r?.params??{},t.errors));i.delayNextStep(s)}}}_visitSubInstructions(e,t,i){let o=t.currentTimeline.currentTime;const s=null!=i.duration?Ea(i.duration):null,a=null!=i.delay?Ea(i.delay):null;return 0!==s&&e.forEach(c=>{const l=t.appendInstructionToTimeline(c,s,a);o=Math.max(o,l.duration+l.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),so(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const o=e.options;if(o&&(o.params||o.delay)&&(r=t.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=L0);const s=Ea(o.delay);r.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>so(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const o=e.options&&e.options.delay?Ea(e.options.delay):0;e.steps.forEach(s=>{const a=t.createSubContext(e.options);o&&a.delayNextStep(o),so(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return k0(t.params?Sg(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const o=e.style;5==o.type?this.visitKeyframes(o,t):(t.incrementTime(i.duration),this.visitStyle(o,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(o):i.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,o=i.duration,a=t.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(c=>{a.forwardTime((c.offset||0)*o),a.setStyles(c.styles,c.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(r+o),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},o=r.delay?Ea(r.delay):0;o&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=L0);let s=i;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=a.length;let c=null;a.forEach((l,h)=>{t.currentQueryIndex=h;const p=t.createSubContext(e.options,l);o&&p.delayNextStep(o),l===t.element&&(c=p.currentTimeline),so(this,e.animation,p),p.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,p.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1);let c=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=i.currentStaggerTime}const h=t.currentTimeline;c&&h.delayNextStep(c);const p=h.currentTime;so(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-p+(r.startTime-i.currentTimeline.startTime)}}const L0={};class KS{constructor(e,t,i,r,o,s,a,c){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=L0,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new V0(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=Ea(i.duration)),null!=i.delay&&(r.delay=Ea(i.delay));const o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=Sg(o[a],s,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,o=new KS(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=L0,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},o=new Wae(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,o,s){let a=[];if(r&&a.push(this.element),e.length>0){e=(e=e.replace(Hae,"."+this._enterClassName)).replace(Gae,"."+this._leaveClassName);let l=this._driver.query(this.element,e,1!=i);0!==i&&(l=i<0?l.slice(l.length+i,l.length):l.slice(0,i)),a.push(...l)}return!o&&0==a.length&&s.push(function tae(n){return new F(3014,!1)}()),a}}class V0{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new V0(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||wa),this._currentKeyframe.set(t,wa);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const o=r&&r.params||{},s=function Zae(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let o of i)t.set(o,wa)}else Ac(r,t)}),t}(e,this._globalTimelineStyles);for(let[a,c]of s){const l=Sg(c,o,i);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??wa),this._updateStyle(a,l)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,c)=>{const l=Ac(a,new Map,this._backFill);l.forEach((h,p)=>{"!"===h?e.add(p):h===wa&&t.add(p)}),i||l.set("offset",c/this.duration),r.push(l)});const o=e.size?R0(e.values()):[],s=t.size?R0(t.values()):[];if(i){const a=r[0],c=new Map(a);a.set("offset",0),c.set("offset",1),r=[a,c]}return WS(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}}class Wae extends V0{constructor(e,t,i,r,o,s,a=!1){super(e,t,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],s=i+t,a=t/s,c=Ac(e[0]);c.set("offset",0),o.push(c);const l=Ac(e[0]);l.set("offset",Q4(a)),o.push(l);const h=e.length-1;for(let p=1;p<=h;p++){let g=Ac(e[p]);const v=g.get("offset");g.set("offset",Q4((t+v*i)/s)),o.push(g)}i=s,t=0,r="",e=o}return WS(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function Q4(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class YS{}const Kae=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Yae extends YS{normalizePropertyName(e,t){return $S(e)}normalizeStyleValue(e,t,i,r){let o="";const s=i.toString().trim();if(Kae.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function $se(n,e){return new F(3005,!1)}())}return s+o}}function X4(n,e,t,i,r,o,s,a,c,l,h,p,g){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:h,totalTime:p,errors:g}}const QS={};class J4{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function Qae(n,e,t,i,r){return n.some(o=>o(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,o,s,a,c,l,h){const p=[],g=this.ast.options&&this.ast.options.params||QS,E=this.buildStyles(i,a&&a.params||QS,p),C=c&&c.params||QS,x=this.buildStyles(r,C,p),N=new Set,k=new Map,U=new Map,Q="void"===r,pe={params:Xae(C,g),delay:this.ast.options?.delay},ke=h?[]:ZS(e,t,this.ast.animation,o,s,E,x,pe,l,p);let Je=0;if(ke.forEach(kr=>{Je=Math.max(kr.duration+kr.delay,Je)}),p.length)return X4(t,this._triggerName,i,r,Q,E,x,[],[],k,U,Je,p);ke.forEach(kr=>{const zr=kr.element,$0=oo(k,zr,new Set);kr.preStyleProps.forEach(su=>$0.add(su));const kg=oo(U,zr,new Set);kr.postStyleProps.forEach(su=>kg.add(su)),zr!==t&&N.add(zr)});const rn=R0(N.values());return X4(t,this._triggerName,i,r,Q,E,x,ke,rn,k,U,Je)}}function Xae(n,e){const t=xg(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class Jae{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=xg(this.defaultParams);return Object.keys(e).forEach(o=>{const s=e[o];null!==s&&(r[o]=s)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=Sg(s,r,t));const c=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,c,s,t),i.set(a,s)})}),i}}class tce{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new Jae(r.style,r.options&&r.options.params||{},i))}),ez(this.states,"true","1"),ez(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new J4(e,r,this.states))}),this.fallbackTransition=function nce(n,e,t){return new J4(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(s=>s.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function ez(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const ice=new F0;class rce{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],o=GS(this._driver,t,i,[]);if(i.length)throw function cae(n){return new F(3503,!1)}();this._animations.set(e,o)}_buildPlayer(e,t,i){const r=e.element,o=F4(this._normalizer,e.keyframes,t,i);return this._driver.animate(r,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],o=this._animations.get(e);let s;const a=new Map;if(o?(s=ZS(this._driver,t,o,US,S0,new Map,new Map,i,ice,r),s.forEach(h=>{const p=oo(a,h.element,new Map);h.postStyleProps.forEach(g=>p.set(g,null))})):(r.push(function lae(){return new F(3300,!1)}()),s=[]),r.length)throw function uae(n){return new F(3504,!1)}();a.forEach((h,p)=>{h.forEach((g,v)=>{h.set(v,this._driver.computeStyle(p,v,wa))})});const l=Sc(s.map(h=>{const p=a.get(h.element);return this._buildPlayer(h,new Map,p)}));return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function dae(n){return new F(3301,!1)}();return t}listen(e,t,i,r){const o=LS(t,"","","");return NS(this._getPlayer(e),i,o,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const o=this._getPlayer(e);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const tz="ng-animate-queued",XS="ng-animate-disabled",lce=[],nz={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},uce={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ts="__ng_removed";class JS{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function pce(n){return n??null}(i?e.value:e),i){const o=xg(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const Ag="void",eA=new JS(Ag);class dce{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Oo(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function hae(n,e){return new F(3302,!1)}();if(null==i||0==i.length)throw function fae(n){return new F(3303,!1)}();if(!function mce(n){return"start"==n||"done"==n}(i))throw function pae(n,e){return new F(3400,!1)}();const o=oo(this._elementListeners,e,[]),s={name:t,phase:i,callback:r};o.push(s);const a=oo(this._engine.statesByElement,e,new Map);return a.has(t)||(Oo(e,A0),Oo(e,A0+"-"+t),a.set(t,eA)),()=>{this._engine.afterFlush(()=>{const c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function mae(n){return new F(3401,!1)}();return t}trigger(e,t,i,r=!0){const o=this._getTrigger(t),s=new tA(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(Oo(e,A0),Oo(e,A0+"-"+t),this._engine.statesByElement.set(e,a=new Map));let c=a.get(t);const l=new JS(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),a.set(t,l),c||(c=eA),l.value!==Ag&&c.value===l.value){if(!function vce(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const o=t[r];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}(c.params,l.params)){const C=[],x=o.matchStyles(c.value,c.params,C),N=o.matchStyles(l.value,l.params,C);C.length?this._engine.reportError(C):this._engine.afterFlush(()=>{iu(e,x),Bs(e,N)})}return}const g=oo(this._engine.playersByElement,e,[]);g.forEach(C=>{C.namespaceId==this.id&&C.triggerName==t&&C.queued&&C.destroy()});let v=o.matchTransition(c.value,l.value,e,l.params),E=!1;if(!v){if(!r)return;v=o.fallbackTransition,E=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:v,fromState:c,toState:l,player:s,isFallbackTransition:E}),E||(Oo(e,tz),s.onStart(()=>{zh(e,tz)})),s.onDone(()=>{let C=this.players.indexOf(s);C>=0&&this.players.splice(C,1);const x=this._engine.playersByElement.get(e);if(x){let N=x.indexOf(s);N>=0&&x.splice(N,1)}}),this.players.push(s),g.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,M0,!0);i.forEach(r=>{if(r[ts])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const o=this._engine.statesByElement.get(e),s=new Map;if(o){const a=[];if(o.forEach((c,l)=>{if(s.set(l,c.value),this._triggers.has(l)){const h=this.trigger(e,l,Ag,r);h&&a.push(h)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),i&&Sc(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(o=>{const s=o.name;if(r.has(s))return;r.add(s);const c=this._triggers.get(s).fallbackTransition,l=i.get(s)||eA,h=new JS(Ag),p=new tA(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:c,fromState:l,toState:h,player:p,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else{let s=e;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const o=e[ts];(!o||o===nz)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Oo(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){const c=LS(o,i.triggerName,i.fromState.value,i.toState.value);c._data=e,NS(i.player,a.phase,c,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const o=i.transition.ast.depCount,s=r.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class hce{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new dce(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){const c=r.get(a);if(c){const l=i.indexOf(c);i.splice(l+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&t.add(o)}return t}trigger(e,t,i,r){if(B0(t)){const o=this._fetchNamespace(e);if(o)return o.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!B0(t))return;const o=t[ts];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){const s=this._fetchNamespace(e);s&&s.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Oo(e,XS)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),zh(e,XS))}removeNode(e,t,i){if(B0(t)){const r=e?this._fetchNamespace(e):null;r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,r,o){this.collectedLeaveElements.push(t),t[ts]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,i,r,o){return B0(t)?this._fetchNamespace(e).listen(t,i,r,o):()=>{}}_buildInstruction(e,t,i,r,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,M0,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,jS,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Sc(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[ts];if(t&&t.setForRemoval){if(e[ts]=nz,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(XS)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Oo(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?Sc(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function gae(n){return new F(3402,!1)}()}_flushAnimations(e,t){const i=new F0,r=[],o=new Map,s=[],a=new Map,c=new Map,l=new Map,h=new Set;this.disabledNodes.forEach(Re=>{h.add(Re);const ze=this.driver.query(Re,".ng-animate-queued",!0);for(let Ke=0;Ke<ze.length;Ke++)h.add(ze[Ke])});const p=this.bodyNode,g=Array.from(this.statesByElement.keys()),v=oz(g,this.collectedEnterElements),E=new Map;let C=0;v.forEach((Re,ze)=>{const Ke=US+C++;E.set(ze,Ke),Re.forEach(Vt=>Oo(Vt,Ke))});const x=[],N=new Set,k=new Set;for(let Re=0;Re<this.collectedLeaveElements.length;Re++){const ze=this.collectedLeaveElements[Re],Ke=ze[ts];Ke&&Ke.setForRemoval&&(x.push(ze),N.add(ze),Ke.hasAnimation?this.driver.query(ze,".ng-star-inserted",!0).forEach(Vt=>N.add(Vt)):k.add(ze))}const U=new Map,Q=oz(g,Array.from(N));Q.forEach((Re,ze)=>{const Ke=S0+C++;U.set(ze,Ke),Re.forEach(Vt=>Oo(Vt,Ke))}),e.push(()=>{v.forEach((Re,ze)=>{const Ke=E.get(ze);Re.forEach(Vt=>zh(Vt,Ke))}),Q.forEach((Re,ze)=>{const Ke=U.get(ze);Re.forEach(Vt=>zh(Vt,Ke))}),x.forEach(Re=>{this.processLeaveNode(Re)})});const pe=[],ke=[];for(let Re=this._namespaceList.length-1;Re>=0;Re--)this._namespaceList[Re].drainQueuedTransitions(t).forEach(Ke=>{const Vt=Ke.player,Ri=Ke.element;if(pe.push(Vt),this.collectedEnterElements.length){const or=Ri[ts];if(or&&or.setForMove){if(or.previousTriggersValues&&or.previousTriggersValues.has(Ke.triggerName)){const au=or.previousTriggersValues.get(Ke.triggerName),No=this.statesByElement.get(Ke.element);if(No&&No.has(Ke.triggerName)){const G0=No.get(Ke.triggerName);G0.value=au,No.set(Ke.triggerName,G0)}}return void Vt.destroy()}}const Us=!p||!this.driver.containsElement(p,Ri),ao=U.get(Ri),Mc=E.get(Ri),Ln=this._buildInstruction(Ke,i,Mc,ao,Us);if(Ln.errors&&Ln.errors.length)return void ke.push(Ln);if(Us)return Vt.onStart(()=>iu(Ri,Ln.fromStyles)),Vt.onDestroy(()=>Bs(Ri,Ln.toStyles)),void r.push(Vt);if(Ke.isFallbackTransition)return Vt.onStart(()=>iu(Ri,Ln.fromStyles)),Vt.onDestroy(()=>Bs(Ri,Ln.toStyles)),void r.push(Vt);const kz=[];Ln.timelines.forEach(or=>{or.stretchStartingKeyframe=!0,this.disabledNodes.has(or.element)||kz.push(or)}),Ln.timelines=kz,i.append(Ri,Ln.timelines),s.push({instruction:Ln,player:Vt,element:Ri}),Ln.queriedElements.forEach(or=>oo(a,or,[]).push(Vt)),Ln.preStyleProps.forEach((or,au)=>{if(or.size){let No=c.get(au);No||c.set(au,No=new Set),or.forEach((G0,uA)=>No.add(uA))}}),Ln.postStyleProps.forEach((or,au)=>{let No=l.get(au);No||l.set(au,No=new Set),or.forEach((G0,uA)=>No.add(uA))})});if(ke.length){const Re=[];ke.forEach(ze=>{Re.push(function _ae(n,e){return new F(3505,!1)}())}),pe.forEach(ze=>ze.destroy()),this.reportError(Re)}const Je=new Map,rn=new Map;s.forEach(Re=>{const ze=Re.element;i.has(ze)&&(rn.set(ze,ze),this._beforeAnimationBuild(Re.player.namespaceId,Re.instruction,Je))}),r.forEach(Re=>{const ze=Re.element;this._getPreviousPlayers(ze,!1,Re.namespaceId,Re.triggerName,null).forEach(Vt=>{oo(Je,ze,[]).push(Vt),Vt.destroy()})});const kr=x.filter(Re=>az(Re,c,l)),zr=new Map;rz(zr,this.driver,k,l,wa).forEach(Re=>{az(Re,c,l)&&kr.push(Re)});const kg=new Map;v.forEach((Re,ze)=>{rz(kg,this.driver,new Set(Re),c,"!")}),kr.forEach(Re=>{const ze=zr.get(Re),Ke=kg.get(Re);zr.set(Re,new Map([...ze?.entries()??[],...Ke?.entries()??[]]))});const su=[],Az=[],Mz={};s.forEach(Re=>{const{element:ze,player:Ke,instruction:Vt}=Re;if(i.has(ze)){if(h.has(ze))return Ke.onDestroy(()=>Bs(ze,Vt.toStyles)),Ke.disabled=!0,Ke.overrideTotalTime(Vt.totalTime),void r.push(Ke);let Ri=Mz;if(rn.size>1){let ao=ze;const Mc=[];for(;ao=ao.parentNode;){const Ln=rn.get(ao);if(Ln){Ri=Ln;break}Mc.push(ao)}Mc.forEach(Ln=>rn.set(Ln,Ri))}const Us=this._buildAnimation(Ke.namespaceId,Vt,Je,o,kg,zr);if(Ke.setRealPlayer(Us),Ri===Mz)su.push(Ke);else{const ao=this.playersByElement.get(Ri);ao&&ao.length&&(Ke.parentPlayer=Sc(ao)),r.push(Ke)}}else iu(ze,Vt.fromStyles),Ke.onDestroy(()=>Bs(ze,Vt.toStyles)),Az.push(Ke),h.has(ze)&&r.push(Ke)}),Az.forEach(Re=>{const ze=o.get(Re.element);if(ze&&ze.length){const Ke=Sc(ze);Re.setRealPlayer(Ke)}}),r.forEach(Re=>{Re.parentPlayer?Re.syncPlayerEvents(Re.parentPlayer):Re.destroy()});for(let Re=0;Re<x.length;Re++){const ze=x[Re],Ke=ze[ts];if(zh(ze,S0),Ke&&Ke.hasAnimation)continue;let Vt=[];if(a.size){let Us=a.get(ze);Us&&Us.length&&Vt.push(...Us);let ao=this.driver.query(ze,jS,!0);for(let Mc=0;Mc<ao.length;Mc++){let Ln=a.get(ao[Mc]);Ln&&Ln.length&&Vt.push(...Ln)}}const Ri=Vt.filter(Us=>!Us.destroyed);Ri.length?gce(this,ze,Ri):this.processLeaveNode(ze)}return x.length=0,su.forEach(Re=>{this.players.push(Re),Re.onDone(()=>{Re.destroy();const ze=this.players.indexOf(Re);this.players.splice(ze,1)}),Re.play()}),su}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,o){let s=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(s=a)}else{const a=this.playersByElement.get(e);if(a){const c=!o||o==Ag;a.forEach(l=>{l.queued||!c&&l.triggerName!=r||s.push(l)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(e,t,i){const o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const c of t.timelines){const l=c.element,h=l!==o,p=oo(i,l,[]);this._getPreviousPlayers(l,h,s,a,t.toState).forEach(v=>{const E=v.getRealPlayer();E.beforeDestroy&&E.beforeDestroy(),v.destroy(),p.push(v)})}iu(o,t.fromStyles)}_buildAnimation(e,t,i,r,o,s){const a=t.triggerName,c=t.element,l=[],h=new Set,p=new Set,g=t.timelines.map(E=>{const C=E.element;h.add(C);const x=C[ts];if(x&&x.removedBeforeQueried)return new Tg(E.duration,E.delay);const N=C!==c,k=function _ce(n){const e=[];return sz(n,e),e}((i.get(C)||lce).map(Je=>Je.getRealPlayer())).filter(Je=>!!Je.element&&Je.element===C),U=o.get(C),Q=s.get(C),pe=F4(this._normalizer,E.keyframes,U,Q),ke=this._buildPlayer(E,pe,k);if(E.subTimeline&&r&&p.add(C),N){const Je=new tA(e,a,C);Je.setRealPlayer(ke),l.push(Je)}return ke});l.forEach(E=>{oo(this.playersByQueriedElement,E.element,[]).push(E),E.onDone(()=>function fce(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,E.element,E))}),h.forEach(E=>Oo(E,H4));const v=Sc(g);return v.onDestroy(()=>{h.forEach(E=>zh(E,H4)),Bs(c,t.toStyles)}),p.forEach(E=>{oo(r,E,[]).push(v)}),v}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new Tg(e.duration,e.delay)}}class tA{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new Tg,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>NS(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){oo(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function B0(n){return n&&1===n.nodeType}function iz(n,e){const t=n.style.display;return n.style.display=e??"none",t}function rz(n,e,t,i,r){const o=[];t.forEach(c=>o.push(iz(c)));const s=[];i.forEach((c,l)=>{const h=new Map;c.forEach(p=>{const g=e.computeStyle(l,p,r);h.set(p,g),(!g||0==g.length)&&(l[ts]=uce,s.push(l))}),n.set(l,h)});let a=0;return t.forEach(c=>iz(c,o[a++])),s}function oz(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const r=new Set(e),o=new Map;function s(a){if(!a)return 1;let c=o.get(a);if(c)return c;const l=a.parentNode;return c=t.has(l)?l:r.has(l)?1:s(l),o.set(a,c),c}return e.forEach(a=>{const c=s(a);1!==c&&t.get(c).push(a)}),t}function Oo(n,e){n.classList?.add(e)}function zh(n,e){n.classList?.remove(e)}function gce(n,e,t){Sc(t).onDone(()=>n.processLeaveNode(e))}function sz(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof O4?sz(i.players,e):e.push(i)}}function az(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(o=>r.add(o)):e.set(n,i),t.delete(n),!0}class U0{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new hce(e,t,i),this._timelineEngine=new rce(e,t,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(e,t,i,r,o){const s=e+"-"+r;let a=this._triggerCache[s];if(!a){const c=[],h=GS(this._driver,o,c,[]);if(c.length)throw function sae(n,e){return new F(3404,!1)}();a=function ece(n,e,t){return new tce(n,e,t)}(r,h,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,r,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[o,s]=L4(i);this._timelineEngine.command(o,t,s,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,o){if("@"==i.charAt(0)){const[s,a]=L4(i);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,i,r,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let bce=(()=>{class n{static#e=this.initialStylesByElement=new WeakMap;constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Bs(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Bs(this._element,this._initialStyles),this._endStyles&&(Bs(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(iu(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(iu(this._element,this._endStyles),this._endStyles=null),Bs(this._element,this._initialStyles),this._state=3)}}return n})();function nA(n){let e=null;return n.forEach((t,i)=>{(function wce(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class cz{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:W4(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class Ece{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return B4(e,t)}getParentElement(e){return VS(e)}query(e,t,i){return U4(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,o,s=[]){const c={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(c.easing=o);const l=new Map,h=s.filter(v=>v instanceof cz);(function Aae(n,e){return 0===n||0===e})(i,r)&&h.forEach(v=>{v.currentSnapshot.forEach((E,C)=>l.set(C,E))});let p=function xae(n){return n.length?n[0]instanceof Map?n:n.map(e=>$4(e)):[]}(t).map(v=>Ac(v));p=function Mae(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<e.length;o++){let s=e[o];r.forEach(a=>s.set(a,W4(n,a)))}}return e}(e,p,l);const g=function yce(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=nA(e[0]),e.length>1&&(i=nA(e[e.length-1]))):e instanceof Map&&(t=nA(e)),t||i?new bce(n,t,i):null}(e,p);return new cz(e,p,c,g)}}let Ice=(()=>{class n extends M4{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:Rr.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?R4(t):t;return lz(this._renderer,null,i,"register",[r]),new Cce(i,this._renderer)}static#e=this.\u0275fac=function(i){return new(i||n)(V(op),V(kt))};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac})}return n})();class Cce extends Vse{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new Tce(this._id,e,t||{},this._renderer)}}class Tce{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return lz(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function lz(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const uz="@.disabled";let xce=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(o,s)=>{const a=s?.parentNode(o);a&&s.removeChild(a,o)}}createRenderer(t,i){const o=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let h=this._rendererCache.get(o);return h||(h=new dz("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,h)),h}const s=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const c=h=>{Array.isArray(h)?h.forEach(c):this.engine.registerTrigger(s,a,t,h.name,h)};return i.data.animation.forEach(c),new Dce(this,a,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(i){return new(i||n)(V(op),V(U0),V(Xe))};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac})}return n})();class dz{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==uz?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Dce extends dz{constructor(e,t,i,r,o){super(t,i,r,o),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==uz?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function Sce(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let o=t.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function Ace(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(e,t,i)}}let Mce=(()=>{class n extends U0{constructor(t,i,r,o){super(t.body,i,r)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(i){return new(i||n)(V(kt),V(BS),V(YS),V(Wa))};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac})}return n})();const hz=[{provide:M4,useClass:Ice},{provide:YS,useFactory:function kce(){return new Yae}},{provide:U0,useClass:Mce},{provide:op,useFactory:function Rce(n,e,t){return new xce(n,e,t)},deps:[hC,U0,Xe]}],iA=[{provide:BS,useFactory:()=>new Ece},{provide:Js,useValue:"BrowserAnimations"},...hz],fz=[{provide:BS,useClass:j4},{provide:Js,useValue:"NoopAnimations"},...hz];let Pce=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?fz:iA}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Et({type:n});static#n=this.\u0275inj=wt({providers:iA,imports:[GO]})}return n})();const Oce=["addListener","removeListener"],Nce=["addEventListener","removeEventListener"],Fce=["on","off"];function rA(n,e,t,i){if(T(t)&&(i=t,t=void 0),i)return rA(n,e,t).pipe(_C(i));const[r,o]=function Bce(n){return T(n.addEventListener)&&T(n.removeEventListener)}(n)?Nce.map(s=>a=>n[s](e,a,t)):function Lce(n){return T(n.addListener)&&T(n.removeListener)}(n)?Oce.map(pz(n,e)):function Vce(n){return T(n.on)&&T(n.off)}(n)?Fce.map(pz(n,e)):[];if(!r&&Dt(n))return Bt(s=>rA(s,e,t))(bt(n));if(!r)throw new TypeError("Invalid event target");return new et(s=>{const a=(...c)=>s.next(1<c.length?c:c[0]);return r(a),()=>o(a)})}function pz(n,e){return t=>i=>n[t](e,i)}const Mg={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=Mg;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(o=>{t=void 0,n(o)});return new _t(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=Mg;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=Mg;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class jce extends ky{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class Uce extends My{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=Mg.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:o}=e;null!=t&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==t&&(Mg.cancelAnimationFrame(t),e._scheduled=void 0)}});let oA,Hce=1;const z0={};function mz(n){return n in z0&&(delete z0[n],!0)}const $ce={setImmediate(n){const e=Hce++;return z0[e]=!0,oA||(oA=Promise.resolve()),oA.then(()=>mz(e)&&n()),e},clearImmediate(n){mz(n)}},{setImmediate:Gce,clearImmediate:qce}=$ce,H0={setImmediate(...n){const{delegate:e}=H0;return(e?.setImmediate||Gce)(...n)},clearImmediate(n){const{delegate:e}=H0;return(e?.clearImmediate||qce)(n)},delegate:void 0};new class Zce extends ky{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class Wce extends My{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=H0.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:o}=e;null!=t&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==t&&(H0.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}});function gz(n,e=Jp){return function Yce(n){return ee((e,t)=>{let i=!1,r=null,o=null,s=!1;const a=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const l=r;r=null,t.next(l)}s&&t.complete()},c=()=>{o=null,s&&t.complete()};e.subscribe(ge(t,l=>{i=!0,r=l,o||bt(n(l)).subscribe(o=ge(t,a,c))},()=>{s=!0,(!i||!o||o.closed)&&t.complete()}))})}(()=>function Xce(n=0,e,t=kY){let i=-1;return null!=e&&(xn(e)?t=e:i=e),new et(r=>{let o=function Qce(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}(n,e))}let ele=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new G,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new et(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(gz(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):S()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(Cr(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,t)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=Bh(i),o=t.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>rA(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(i){return new(i||n)(V(Xe),V(jr),V(kt,8))};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),_z=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new G,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,o=r.getBoundingClientRect();return{top:-o.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(gz(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(i){return new(i||n)(V(jr),V(Xe),V(kt,8))};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),sA=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Et({type:n});static#n=this.\u0275inj=wt({})}return n})(),vz=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Et({type:n});static#n=this.\u0275inj=wt({imports:[bg,sA,bg,sA]})}return n})();class aA{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class nle extends aA{constructor(e,t,i,r,o){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=o}}class ile extends aA{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class rle extends aA{constructor(e){super(),this.element=e instanceof un?e.nativeElement:e}}class ole{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof nle?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof ile?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof rle?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class sle extends ole{constructor(e,t,i,r,o){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=s=>{const a=s.element,c=this._document.createComment("dom-portal");a.parentNode.insertBefore(c,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(a,c)})},this._document=o}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||Qi.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let ale=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Et({type:n});static#n=this.\u0275inj=wt({})}return n})();const yz=Aie();class cle{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=ui(-this._previousScrollPosition.left),e.style.top=ui(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,o=i.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),yz&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),yz&&(i.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class lle{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe(Cr(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class bz{enable(){}disable(){}attach(){}}function cA(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function wz(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class ule{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();cA(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let dle=(()=>{class n{constructor(t,i,r,o){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new bz,this.close=s=>new lle(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new cle(this._viewportRuler,this._document),this.reposition=s=>new ule(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=o}static#e=this.\u0275fac=function(i){return new(i||n)(V(ele),V(_z),V(Xe),V(kt))};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class hle{constructor(e){if(this.scrollStrategy=new bz,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class fle{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let Ez=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(i){return new(i||n)(V(kt))};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ple=(()=>{class n extends Ez{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let s=o.length-1;s>-1;s--)if(o[s]._keydownEvents.observers.length>0){const a=o[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(r)):a.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(i){return new(i||n)(V(kt),V(Xe,8))};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),mle=(()=>{class n extends Ez{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Dc(o)},this._clickListener=o=>{const s=Dc(o),a="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const c=this._attachedOverlays.slice();for(let l=c.length-1;l>-1;l--){const h=c[l];if(h._outsidePointerEvents.observers.length<1||!h.hasAttached())continue;if(h.overlayElement.contains(s)||h.overlayElement.contains(a))break;const p=h._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>p.next(o)):p.next(o)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(i){return new(i||n)(V(kt),V(jr),V(Xe,8))};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Iz=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||IS()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(t),IS()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}static#e=this.\u0275fac=function(i){return new(i||n)(V(kt),V(jr))};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class gle{constructor(e,t,i,r,o,s,a,c,l,h=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=c,this._outsideClickDispatcher=l,this._animationsDisabled=h,this._backdropElement=null,this._backdropClick=new G,this._attachments=new G,this._detachments=new G,this._locationChanges=_t.EMPTY,this._backdropClickHandler=p=>this._backdropClick.next(p),this._backdropTransitionendHandler=p=>{this._disposeBackdrop(p.target)},this._keydownEvents=new G,this._outsidePointerEvents=new G,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(aa(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=ui(this._config.width),e.height=ui(this._config.height),e.minWidth=ui(this._config.minWidth),e.minHeight=ui(this._config.minHeight),e.maxWidth=ui(this._config.maxWidth),e.maxHeight=ui(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){const r=y0(t||[]).filter(o=>!!o);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(ay(I(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const Cz="cdk-overlay-connected-position-bounding-box",_le=/([A-Za-z%]+)$/;class vle{get positions(){return this._preferredPositions}constructor(e,t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new G,this._resizeSubscription=_t.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(Cz),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let s;for(let a of this._preferredPositions){let c=this._getOriginPoint(e,r,a),l=this._getOverlayPoint(c,t,a),h=this._getOverlayFit(l,t,i,a);if(h.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,c);this._canFitWithFlexibleDimensions(h,l,i)?o.push({position:a,origin:c,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(c,a)}):(!s||s.overlayFit.visibleArea<h.visibleArea)&&(s={overlayFit:h,overlayPoint:l,originPoint:c,position:a,overlayRect:t})}if(o.length){let a=null,c=-1;for(const l of o){const h=l.boundingBoxRect.width*l.boundingBoxRect.height*(l.position.weight||1);h>c&&(c=h,a=l)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&ou(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Cz),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,o;if("center"==i.originX)r=e.left+e.width/2;else{const s=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;r="start"==i.originX?s:a}return t.left<0&&(r-=t.left),o="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(o-=t.top),{x:r,y:o}}_getOverlayPoint(e,t,i){let r,o;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,o="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+o}}_getOverlayFit(e,t,i,r){const o=xz(t);let{x:s,y:a}=e,c=this._getOffset(r,"x"),l=this._getOffset(r,"y");c&&(s+=c),l&&(a+=l);let g=0-a,v=a+o.height-i.height,E=this._subtractOverflows(o.width,0-s,s+o.width-i.width),C=this._subtractOverflows(o.height,g,v),x=E*C;return{visibleArea:x,isCompletelyWithinViewport:o.width*o.height===x,fitsInViewportVertically:C===o.height,fitsInViewportHorizontally:E==o.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,o=i.right-t.x,s=Tz(this._overlayRef.getConfig().minHeight),a=Tz(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=s&&s<=r)&&(e.fitsInViewportHorizontally||null!=a&&a<=o)}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=xz(t),o=this._viewportRect,s=Math.max(e.x+r.width-o.width,0),a=Math.max(e.y+r.height-o.height,0),c=Math.max(o.top-i.top-e.y,0),l=Math.max(o.left-i.left-e.x,0);let h=0,p=0;return h=r.width<=o.width?l||-s:e.x<this._viewportMargin?o.left-i.left-e.x:0,p=r.height<=o.height?c||-a:e.y<this._viewportMargin?o.top-i.top-e.y:0,this._previousPushAmount={x:h,y:p},{x:e.x+h,y:e.y+p}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new fle(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let o,s,a,h,p,g;if("top"===t.overlayY)s=e.y,o=i.height-s+this._viewportMargin;else if("bottom"===t.overlayY)a=i.height-e.y+2*this._viewportMargin,o=i.height-a+this._viewportMargin;else{const v=Math.min(i.bottom-e.y+i.top,e.y),E=this._lastBoundingBoxSize.height;o=2*v,s=e.y-v,o>E&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-E/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)g=i.width-e.x+this._viewportMargin,h=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)p=e.x,h=i.right-e.x;else{const v=Math.min(i.right-e.x+i.left,e.x),E=this._lastBoundingBoxSize.width;h=2*v,p=e.x-v,h>E&&!this._isInitialRender&&!this._growAfterOpen&&(p=e.x-E/2)}return{top:s,left:p,bottom:a,right:g,width:h,height:o}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=ui(i.height),r.top=ui(i.top),r.bottom=ui(i.bottom),r.width=ui(i.width),r.left=ui(i.left),r.right=ui(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=ui(o)),s&&(r.maxWidth=ui(s))}this._lastBoundingBoxSize=i,ou(this._boundingBox.style,r)}_resetBoundingBoxStyles(){ou(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){ou(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const h=this._viewportRuler.getViewportScrollPosition();ou(i,this._getExactOverlayY(t,e,h)),ou(i,this._getExactOverlayX(t,e,h))}else i.position="static";let a="",c=this._getOffset(t,"x"),l=this._getOffset(t,"y");c&&(a+=`translateX(${c}px) `),l&&(a+=`translateY(${l}px)`),i.transform=a.trim(),s.maxHeight&&(r?i.maxHeight=ui(s.maxHeight):o&&(i.maxHeight="")),s.maxWidth&&(r?i.maxWidth=ui(s.maxWidth):o&&(i.maxWidth="")),ou(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=ui(o.y),r}_getExactOverlayX(e,t,i){let s,r={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),s=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===s?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=ui(o.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:wz(e,i),isOriginOutsideView:cA(e,i),isOverlayClipped:wz(t,i),isOverlayOutsideView:cA(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&y0(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof un)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function ou(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function Tz(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(_le);return t&&"px"!==t?null:parseFloat(e)}return n||null}function xz(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const Dz="cdk-global-overlay-wrapper";class yle{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(Dz),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=i,c=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),l=!("100%"!==o&&"100vh"!==o||a&&"100%"!==a&&"100vh"!==a),h=this._xPosition,p=this._xOffset,g="rtl"===this._overlayRef.getConfig().direction;let v="",E="",C="";c?C="flex-start":"center"===h?(C="center",g?E=p:v=p):g?"left"===h||"end"===h?(C="flex-end",v=p):("right"===h||"start"===h)&&(C="flex-start",E=p):"left"===h||"start"===h?(C="flex-start",v=p):("right"===h||"end"===h)&&(C="flex-end",E=p),e.position=this._cssPosition,e.marginLeft=c?"0":v,e.marginTop=l?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=c?"0":E,t.justifyContent=C,t.alignItems=l?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(Dz),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let ble=(()=>{class n{constructor(t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new yle}flexibleConnectedTo(t){return new vle(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(i){return new(i||n)(V(_z),V(kt),V(jr),V(Iz))};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),wle=0,lA=(()=>{class n{constructor(t,i,r,o,s,a,c,l,h,p,g,v){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=s,this._injector=a,this._ngZone=c,this._document=l,this._directionality=h,this._location=p,this._outsideClickDispatcher=g,this._animationsModuleType=v}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),s=new hle(t);return s.direction=s.direction||this._directionality.value,new gle(o,i,r,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+wle++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(Wa)),new sle(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(i){return new(i||n)(V(dle),V(Iz),V(rp),V(ble),V(ple),V(Qi),V(Xe),V(kt),V(sre),V(jv),V(mle),V(Js,8))};static#t=this.\u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Cle={provide:new ie("cdk-connected-overlay-scroll-strategy"),deps:[lA],useFactory:function Ile(n){return()=>n.scrollStrategies.reposition()}};let Tle=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Et({type:n});static#n=this.\u0275inj=wt({providers:[lA,Cle],imports:[bg,ale,vz,vz]})}return n})();const Ale={provide:new ie("mat-menu-scroll-strategy"),deps:[lA],useFactory:function Sle(n){return()=>n.scrollStrategies.reposition()}};let Mle=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Et({type:n});static#n=this.\u0275inj=wt({providers:[Ale],imports:[Sd,jh,Fn,Tle,sA,Fn]})}return n})();const kle_firebase={apiKey:"AIzaSyDEFnGE_jUVrWMEMuY2-bdk3TCL8PwiUxs",authDomain:"tasks-2aa20.firebaseapp.com",projectId:"tasks-2aa20",storageBucket:"tasks-2aa20.appspot.com",messagingSenderId:"289908118671",appId:"1:289908118671:web:40a2c8d77b6819feb10cfa",measurementId:"G-PRWGNQ569P"};let Rle=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Et({type:n,bootstrap:[ese]});static#n=this.\u0275inj=wt({imports:[GO,Joe,vY,Die,fse,ooe,bre,Mre,zre,gse,hoe,Sse,Lse,Pce,Mle,GY.initializeApp(kle_firebase),YY]})}return n})();h7().bootstrapModule(Rle).catch(n=>console.error(n))},106:(co,Gn,Be)=>{Be.d(Gn,{Z:()=>qn});var T=Be(58),Y=Be(537),O=Be(534),Me=Be(879);class _t{constructor(Ye,Qe){this._delegate=Ye,this.firebase=Qe,(0,O._addComponent)(Ye,new Y.wA("app-compat",()=>this,"PUBLIC")),this.container=Ye.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ye){this._delegate.automaticDataCollectionEnabled=Ye}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ye=>{this._delegate.checkDestroyed(),Ye()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(Ye,Qe=O._DEFAULT_ENTRY_NAME){var ni;this._delegate.checkDestroyed();const Cn=this._delegate.container.getProvider(Ye);return!Cn.isInitialized()&&"EXPLICIT"===(null===(ni=Cn.getComponent())||void 0===ni?void 0:ni.instantiationMode)&&Cn.initialize(),Cn.getImmediate({identifier:Qe})}_removeServiceInstance(Ye,Qe=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ye).clearInstance(Qe)}_addComponent(Ye){(0,O._addComponent)(this._delegate,Ye)}_addOrOverwriteComponent(Ye){(0,O._addOrOverwriteComponent)(this._delegate,Ye)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Mn=new T.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),J=function At(){const yt=function Xt(yt){const Ye={},Qe={__esModule:!0,initializeApp:function vt(at,ce={}){const xt=O.initializeApp(at,ce);if((0,T.r3)(Ye,xt.name))return Ye[xt.name];const on=new yt(xt,Qe);return Ye[xt.name]=on,on},app:Cn,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function sr(at){const ce=at.name,xt=ce.replace("-compat","");if(O._registerComponent(at)&&"PUBLIC"===at.type){const on=(Tn=Cn())=>{if("function"!=typeof Tn[xt])throw Mn.create("invalid-app-argument",{appName:ce});return Tn[xt]()};void 0!==at.serviceProps&&(0,T.ZB)(on,at.serviceProps),Qe[xt]=on,yt.prototype[xt]=function(...Tn){return this._getService.bind(this,ce).apply(this,at.multipleInstances?Tn:[])}}return"PUBLIC"===at.type?Qe[xt]:null},removeApp:function ni(at){delete Ye[at]},useAsService:function Vn(at,ce){return"serverAuth"===ce?null:ce},modularAPIs:O}};function Cn(at){if(!(0,T.r3)(Ye,at=at||O._DEFAULT_ENTRY_NAME))throw Mn.create("no-app",{appName:at});return Ye[at]}return Qe.default=Qe,Object.defineProperty(Qe,"apps",{get:function jt(){return Object.keys(Ye).map(at=>Ye[at])}}),Cn.App=yt,Qe}(_t);return yt.INTERNAL=Object.assign(Object.assign({},yt.INTERNAL),{createFirebaseNamespace:At,extendNamespace:function Ye(Qe){(0,T.ZB)(yt,Qe)},createSubscribe:T.ne,ErrorFactory:T.LL,deepExtend:T.ZB}),yt}(),de=new Me.Yd("@firebase/app-compat");if((0,T.jU)()&&void 0!==self.firebase){de.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const yt=self.firebase.SDK_VERSION;yt&&yt.indexOf("LITE")>=0&&de.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const qn=J;!function Pt(yt){(0,O.registerVersion)("@firebase/app-compat","0.2.23",yt)}()},534:(co,Gn,Be)=>{Be.r(Gn),Be.d(Gn,{FirebaseError:()=>Me.ZR,SDK_VERSION:()=>po,_DEFAULT_ENTRY_NAME:()=>qr,_addComponent:()=>lr,_addOrOverwriteComponent:()=>ur,_apps:()=>Ci,_clearComponents:()=>Rn,_components:()=>cr,_getProvider:()=>Bt,_registerComponent:()=>hi,_removeServiceInstance:()=>dr,deleteApp:()=>Yn,getApp:()=>Zr,getApps:()=>Kn,initializeApp:()=>mo,onLog:()=>Ia,registerVersion:()=>hr,setLogLevel:()=>ns});var T=Be(861),Y=Be(537),O=Be(879),Me=Be(58);const _t=(L,R)=>R.some(ae=>L instanceof ae);let mn,Mn;const J=new WeakMap,de=new WeakMap,Ae=new WeakMap,nt=new WeakMap,Pt=new WeakMap;let Ye={get(L,R,ae){if(L instanceof IDBTransaction){if("done"===R)return de.get(L);if("objectStoreNames"===R)return L.objectStoreNames||Ae.get(L);if("store"===R)return ae.objectStoreNames[1]?void 0:ae.objectStore(ae.objectStoreNames[0])}return vt(L[R])},set:(L,R,ae)=>(L[R]=ae,!0),has:(L,R)=>L instanceof IDBTransaction&&("done"===R||"store"===R)||R in L};function Cn(L){return"function"==typeof L?function ni(L){return L!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function At(){return Mn||(Mn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(L)?function(...R){return L.apply(jt(this),R),vt(J.get(this))}:function(...R){return vt(L.apply(jt(this),R))}:function(R,...ae){const Se=L.call(jt(this),R,...ae);return Ae.set(Se,R.sort?R.sort():[R]),vt(Se)}}(L):(L instanceof IDBTransaction&&function yt(L){if(de.has(L))return;const R=new Promise((ae,Se)=>{const ct=()=>{L.removeEventListener("complete",dt),L.removeEventListener("error",F),L.removeEventListener("abort",F)},dt=()=>{ae(),ct()},F=()=>{Se(L.error||new DOMException("AbortError","AbortError")),ct()};L.addEventListener("complete",dt),L.addEventListener("error",F),L.addEventListener("abort",F)});de.set(L,R)}(L),_t(L,function Xt(){return mn||(mn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(L,Ye):L)}function vt(L){if(L instanceof IDBRequest)return function qn(L){const R=new Promise((ae,Se)=>{const ct=()=>{L.removeEventListener("success",dt),L.removeEventListener("error",F)},dt=()=>{ae(vt(L.result)),ct()},F=()=>{Se(L.error),ct()};L.addEventListener("success",dt),L.addEventListener("error",F)});return R.then(ae=>{ae instanceof IDBCursor&&J.set(ae,L)}).catch(()=>{}),Pt.set(R,L),R}(L);if(nt.has(L))return nt.get(L);const R=Cn(L);return R!==L&&(nt.set(L,R),Pt.set(R,L)),R}const jt=L=>Pt.get(L),at=["get","getKey","getAll","getAllKeys","count"],ce=["put","add","delete","clear"],xt=new Map;function on(L,R){if(!(L instanceof IDBDatabase)||R in L||"string"!=typeof R)return;if(xt.get(R))return xt.get(R);const ae=R.replace(/FromIndex$/,""),Se=R!==ae,ct=ce.includes(ae);if(!(ae in(Se?IDBIndex:IDBObjectStore).prototype)||!ct&&!at.includes(ae))return;const dt=function(){var F=(0,T.Z)(function*(Pn,...De){const mt=this.transaction(Pn,ct?"readwrite":"readonly");let Rc=mt.store;return Se&&(Rc=Rc.index(De.shift())),(yield Promise.all([Rc[ae](...De),ct&&mt.done]))[0]});return function(De){return F.apply(this,arguments)}}();return xt.set(R,dt),dt}!function Qe(L){Ye=L(Ye)}(L=>({...L,get:(R,ae,Se)=>on(R,ae)||L.get(R,ae,Se),has:(R,ae)=>!!on(R,ae)||L.has(R,ae)}));class Tn{constructor(R){this.container=R}getPlatformInfoString(){return this.container.getProviders().map(ae=>{if(function kn(L){const R=L.getComponent();return"VERSION"===R?.type}(ae)){const Se=ae.getImmediate();return`${Se.library}/${Se.version}`}return null}).filter(ae=>ae).join(" ")}}const Hr="@firebase/app",et=new O.Yd("@firebase/app"),qr="[DEFAULT]",Wr={[Hr]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ci=new Map,cr=new Map;function lr(L,R){try{L.container.addComponent(R)}catch(ae){et.debug(`Component ${R.name} failed to register with FirebaseApp ${L.name}`,ae)}}function ur(L,R){L.container.addOrOverwriteComponent(R)}function hi(L){const R=L.name;if(cr.has(R))return et.debug(`There were multiple attempts to register component ${R}.`),!1;cr.set(R,L);for(const ae of Ci.values())lr(ae,L);return!0}function Bt(L,R){const ae=L.container.getProvider("heartbeat").getImmediate({optional:!0});return ae&&ae.triggerHeartbeat(),L.container.getProvider(R)}function dr(L,R,ae=qr){Bt(L,R).clearInstance(ae)}function Rn(){cr.clear()}const _n=new Me.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class xn{constructor(R,ae,Se){this._isDeleted=!1,this._options=Object.assign({},R),this._config=Object.assign({},ae),this._name=ae.name,this._automaticDataCollectionEnabled=ae.automaticDataCollectionEnabled,this._container=Se,this.container.addComponent(new Y.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(R){this.checkDestroyed(),this._automaticDataCollectionEnabled=R}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(R){this._isDeleted=R}checkDestroyed(){if(this.isDeleted)throw _n.create("app-deleted",{appName:this._name})}}const po="10.6.0";function mo(L,R={}){let ae=L;"object"!=typeof R&&(R={name:R});const Se=Object.assign({name:qr,automaticDataCollectionEnabled:!1},R),ct=Se.name;if("string"!=typeof ct||!ct)throw _n.create("bad-app-name",{appName:String(ct)});if(ae||(ae=(0,Me.aH)()),!ae)throw _n.create("no-options");const dt=Ci.get(ct);if(dt){if((0,Me.vZ)(ae,dt.options)&&(0,Me.vZ)(Se,dt.config))return dt;throw _n.create("duplicate-app",{appName:ct})}const F=new Y.H0(ct);for(const De of cr.values())F.addComponent(De);const Pn=new xn(ae,Se,F);return Ci.set(ct,Pn),Pn}function Zr(L=qr){const R=Ci.get(L);if(!R&&L===qr&&(0,Me.aH)())return mo();if(!R)throw _n.create("no-app",{appName:L});return R}function Kn(){return Array.from(Ci.values())}function Yn(L){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,T.Z)(function*(L){const R=L.name;Ci.has(R)&&(Ci.delete(R),yield Promise.all(L.container.getProviders().map(ae=>ae.delete())),L.isDeleted=!0)})).apply(this,arguments)}function hr(L,R,ae){var Se;let ct=null!==(Se=Wr[L])&&void 0!==Se?Se:L;ae&&(ct+=`-${ae}`);const dt=ct.match(/\s|\//),F=R.match(/\s|\//);if(dt||F){const Pn=[`Unable to register library "${ct}" with version "${R}":`];return dt&&Pn.push(`library name "${ct}" contains illegal characters (whitespace or "/")`),dt&&F&&Pn.push("and"),F&&Pn.push(`version name "${R}" contains illegal characters (whitespace or "/")`),void et.warn(Pn.join(" "))}hi(new Y.wA(`${ct}-version`,()=>({library:ct,version:R}),"VERSION"))}function Ia(L,R){if(null!==L&&"function"!=typeof L)throw _n.create("invalid-log-argument");(0,O.Am)(L,R)}function ns(L){(0,O.Ub)(L)}const js="firebase-heartbeat-database",go=1,M="firebase-heartbeat-store";let D=null;function b(){return D||(D=function sr(L,R,{blocked:ae,upgrade:Se,blocking:ct,terminated:dt}={}){const F=indexedDB.open(L,R),Pn=vt(F);return Se&&F.addEventListener("upgradeneeded",De=>{Se(vt(F.result),De.oldVersion,De.newVersion,vt(F.transaction),De)}),ae&&F.addEventListener("blocked",De=>ae(De.oldVersion,De.newVersion,De)),Pn.then(De=>{dt&&De.addEventListener("close",()=>dt()),ct&&De.addEventListener("versionchange",mt=>ct(mt.oldVersion,mt.newVersion,mt))}).catch(()=>{}),Pn}(js,go,{upgrade:(L,R)=>{0===R&&L.createObjectStore(M)}}).catch(L=>{throw _n.create("idb-open",{originalErrorMessage:L.message})})),D}function y(){return(y=(0,T.Z)(function*(L){try{return yield(yield b()).transaction(M).objectStore(M).get(Ie(L))}catch(R){if(R instanceof Me.ZR)et.warn(R.message);else{const ae=_n.create("idb-get",{originalErrorMessage:R?.message});et.warn(ae.message)}}})).apply(this,arguments)}function S(L,R){return K.apply(this,arguments)}function K(){return(K=(0,T.Z)(function*(L,R){try{const Se=(yield b()).transaction(M,"readwrite");yield Se.objectStore(M).put(R,Ie(L)),yield Se.done}catch(ae){if(ae instanceof Me.ZR)et.warn(ae.message);else{const Se=_n.create("idb-set",{originalErrorMessage:ae?.message});et.warn(Se.message)}}})).apply(this,arguments)}function Ie(L){return`${L.name}!${L.options.appId}`}class Mt{constructor(R){this.container=R,this._heartbeatsCache=null;const ae=this.container.getProvider("app").getImmediate();this._storage=new Pe(ae),this._heartbeatsCachePromise=this._storage.read().then(Se=>(this._heartbeatsCache=Se,Se))}triggerHeartbeat(){var R=this;return(0,T.Z)(function*(){var ae;const ct=R.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),dt=be();if(null==(null===(ae=R._heartbeatsCache)||void 0===ae?void 0:ae.heartbeats)&&(R._heartbeatsCache=yield R._heartbeatsCachePromise),R._heartbeatsCache.lastSentHeartbeatDate!==dt&&!R._heartbeatsCache.heartbeats.some(F=>F.date===dt))return R._heartbeatsCache.heartbeats.push({date:dt,agent:ct}),R._heartbeatsCache.heartbeats=R._heartbeatsCache.heartbeats.filter(F=>{const Pn=new Date(F.date).valueOf();return Date.now()-Pn<=2592e6}),R._storage.overwrite(R._heartbeatsCache)})()}getHeartbeatsHeader(){var R=this;return(0,T.Z)(function*(){var ae;if(null===R._heartbeatsCache&&(yield R._heartbeatsCachePromise),null==(null===(ae=R._heartbeatsCache)||void 0===ae?void 0:ae.heartbeats)||0===R._heartbeatsCache.heartbeats.length)return"";const Se=be(),{heartbeatsToSend:ct,unsentEntries:dt}=function Gt(L,R=1024){const ae=[];let Se=L.slice();for(const ct of L){const dt=ae.find(F=>F.agent===ct.agent);if(dt){if(dt.dates.push(ct.date),ii(ae)>R){dt.dates.pop();break}}else if(ae.push({agent:ct.agent,dates:[ct.date]}),ii(ae)>R){ae.pop();break}Se=Se.slice(1)}return{heartbeatsToSend:ae,unsentEntries:Se}}(R._heartbeatsCache.heartbeats),F=(0,Me.L)(JSON.stringify({version:2,heartbeats:ct}));return R._heartbeatsCache.lastSentHeartbeatDate=Se,dt.length>0?(R._heartbeatsCache.heartbeats=dt,yield R._storage.overwrite(R._heartbeatsCache)):(R._heartbeatsCache.heartbeats=[],R._storage.overwrite(R._heartbeatsCache)),F})()}}function be(){return(new Date).toISOString().substring(0,10)}class Pe{constructor(R){this.app=R,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,T.Z)(function*(){return!!(0,Me.hl)()&&(0,Me.eu)().then(()=>!0).catch(()=>!1)})()}read(){var R=this;return(0,T.Z)(function*(){return(yield R._canUseIndexedDBPromise)&&(yield function I(L){return y.apply(this,arguments)}(R.app))||{heartbeats:[]}})()}overwrite(R){var ae=this;return(0,T.Z)(function*(){var Se;if(yield ae._canUseIndexedDBPromise){const dt=yield ae.read();return S(ae.app,{lastSentHeartbeatDate:null!==(Se=R.lastSentHeartbeatDate)&&void 0!==Se?Se:dt.lastSentHeartbeatDate,heartbeats:R.heartbeats})}})()}add(R){var ae=this;return(0,T.Z)(function*(){var Se;if(yield ae._canUseIndexedDBPromise){const dt=yield ae.read();return S(ae.app,{lastSentHeartbeatDate:null!==(Se=R.lastSentHeartbeatDate)&&void 0!==Se?Se:dt.lastSentHeartbeatDate,heartbeats:[...dt.heartbeats,...R.heartbeats]})}})()}}function ii(L){return(0,Me.L)(JSON.stringify({version:2,heartbeats:L})).length}!function zs(L){hi(new Y.wA("platform-logger",R=>new Tn(R),"PRIVATE")),hi(new Y.wA("heartbeat",R=>new Mt(R),"PRIVATE")),hr(Hr,"0.9.23",L),hr(Hr,"0.9.23","esm2017"),hr("fire-js","")}("")},537:(co,Gn,Be)=>{Be.d(Gn,{H0:()=>Xt,wA:()=>O});var T=Be(861),Y=Be(58);class O{constructor(J,de,Ae){this.name=J,this.instanceFactory=de,this.type=Ae,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(J){return this.instantiationMode=J,this}setMultipleInstances(J){return this.multipleInstances=J,this}setServiceProps(J){return this.serviceProps=J,this}setInstanceCreatedCallback(J){return this.onInstanceCreated=J,this}}const Me="[DEFAULT]";class _t{constructor(J,de){this.name=J,this.container=de,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(J){const de=this.normalizeInstanceIdentifier(J);if(!this.instancesDeferred.has(de)){const Ae=new Y.BH;if(this.instancesDeferred.set(de,Ae),this.isInitialized(de)||this.shouldAutoInitialize())try{const nt=this.getOrInitializeService({instanceIdentifier:de});nt&&Ae.resolve(nt)}catch{}}return this.instancesDeferred.get(de).promise}getImmediate(J){var de;const Ae=this.normalizeInstanceIdentifier(J?.identifier),nt=null!==(de=J?.optional)&&void 0!==de&&de;if(!this.isInitialized(Ae)&&!this.shouldAutoInitialize()){if(nt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ae})}catch(Pt){if(nt)return null;throw Pt}}getComponent(){return this.component}setComponent(J){if(J.name!==this.name)throw Error(`Mismatching Component ${J.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=J,this.shouldAutoInitialize()){if(function Mn(At){return"EAGER"===At.instantiationMode}(J))try{this.getOrInitializeService({instanceIdentifier:Me})}catch{}for(const[de,Ae]of this.instancesDeferred.entries()){const nt=this.normalizeInstanceIdentifier(de);try{const Pt=this.getOrInitializeService({instanceIdentifier:nt});Ae.resolve(Pt)}catch{}}}}clearInstance(J=Me){this.instancesDeferred.delete(J),this.instancesOptions.delete(J),this.instances.delete(J)}delete(){var J=this;return(0,T.Z)(function*(){const de=Array.from(J.instances.values());yield Promise.all([...de.filter(Ae=>"INTERNAL"in Ae).map(Ae=>Ae.INTERNAL.delete()),...de.filter(Ae=>"_delete"in Ae).map(Ae=>Ae._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(J=Me){return this.instances.has(J)}getOptions(J=Me){return this.instancesOptions.get(J)||{}}initialize(J={}){const{options:de={}}=J,Ae=this.normalizeInstanceIdentifier(J.instanceIdentifier);if(this.isInitialized(Ae))throw Error(`${this.name}(${Ae}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const nt=this.getOrInitializeService({instanceIdentifier:Ae,options:de});for(const[Pt,qn]of this.instancesDeferred.entries())Ae===this.normalizeInstanceIdentifier(Pt)&&qn.resolve(nt);return nt}onInit(J,de){var Ae;const nt=this.normalizeInstanceIdentifier(de),Pt=null!==(Ae=this.onInitCallbacks.get(nt))&&void 0!==Ae?Ae:new Set;Pt.add(J),this.onInitCallbacks.set(nt,Pt);const qn=this.instances.get(nt);return qn&&J(qn,nt),()=>{Pt.delete(J)}}invokeOnInitCallbacks(J,de){const Ae=this.onInitCallbacks.get(de);if(Ae)for(const nt of Ae)try{nt(J,de)}catch{}}getOrInitializeService({instanceIdentifier:J,options:de={}}){let Ae=this.instances.get(J);if(!Ae&&this.component&&(Ae=this.component.instanceFactory(this.container,{instanceIdentifier:(At=J,At===Me?void 0:At),options:de}),this.instances.set(J,Ae),this.instancesOptions.set(J,de),this.invokeOnInitCallbacks(Ae,J),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,J,Ae)}catch{}var At;return Ae||null}normalizeInstanceIdentifier(J=Me){return this.component?this.component.multipleInstances?J:Me:J}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Xt{constructor(J){this.name=J,this.providers=new Map}addComponent(J){const de=this.getProvider(J.name);if(de.isComponentSet())throw new Error(`Component ${J.name} has already been registered with ${this.name}`);de.setComponent(J)}addOrOverwriteComponent(J){this.getProvider(J.name).isComponentSet()&&this.providers.delete(J.name),this.addComponent(J)}getProvider(J){if(this.providers.has(J))return this.providers.get(J);const de=new _t(J,this);return this.providers.set(J,de),de}getProviders(){return Array.from(this.providers.values())}}},879:(co,Gn,Be)=>{Be.d(Gn,{Am:()=>At,Ub:()=>Xt,Yd:()=>Mn,in:()=>Y});const T=[];var Y=function(J){return J[J.DEBUG=0]="DEBUG",J[J.VERBOSE=1]="VERBOSE",J[J.INFO=2]="INFO",J[J.WARN=3]="WARN",J[J.ERROR=4]="ERROR",J[J.SILENT=5]="SILENT",J}(Y||{});const O={debug:Y.DEBUG,verbose:Y.VERBOSE,info:Y.INFO,warn:Y.WARN,error:Y.ERROR,silent:Y.SILENT},Me=Y.INFO,_t={[Y.DEBUG]:"log",[Y.VERBOSE]:"log",[Y.INFO]:"info",[Y.WARN]:"warn",[Y.ERROR]:"error"},mn=(J,de,...Ae)=>{if(de<J.logLevel)return;const nt=(new Date).toISOString(),Pt=_t[de];if(!Pt)throw new Error(`Attempted to log a message with an invalid logType (value: ${de})`);console[Pt](`[${nt}]  ${J.name}:`,...Ae)};class Mn{constructor(de){this.name=de,this._logLevel=Me,this._logHandler=mn,this._userLogHandler=null,T.push(this)}get logLevel(){return this._logLevel}set logLevel(de){if(!(de in Y))throw new TypeError(`Invalid value "${de}" assigned to \`logLevel\``);this._logLevel=de}setLogLevel(de){this._logLevel="string"==typeof de?O[de]:de}get logHandler(){return this._logHandler}set logHandler(de){if("function"!=typeof de)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=de}get userLogHandler(){return this._userLogHandler}set userLogHandler(de){this._userLogHandler=de}debug(...de){this._userLogHandler&&this._userLogHandler(this,Y.DEBUG,...de),this._logHandler(this,Y.DEBUG,...de)}log(...de){this._userLogHandler&&this._userLogHandler(this,Y.VERBOSE,...de),this._logHandler(this,Y.VERBOSE,...de)}info(...de){this._userLogHandler&&this._userLogHandler(this,Y.INFO,...de),this._logHandler(this,Y.INFO,...de)}warn(...de){this._userLogHandler&&this._userLogHandler(this,Y.WARN,...de),this._logHandler(this,Y.WARN,...de)}error(...de){this._userLogHandler&&this._userLogHandler(this,Y.ERROR,...de),this._logHandler(this,Y.ERROR,...de)}}function Xt(J){T.forEach(de=>{de.setLogLevel(J)})}function At(J,de){for(const Ae of T){let nt=null;de&&de.level&&(nt=O[de.level]),Ae.userLogHandler=null===J?null:(Pt,qn,...yt)=>{const Ye=yt.map(Qe=>{if(null==Qe)return null;if("string"==typeof Qe)return Qe;if("number"==typeof Qe||"boolean"==typeof Qe)return Qe.toString();if(Qe instanceof Error)return Qe.message;try{return JSON.stringify(Qe)}catch{return null}}).filter(Qe=>Qe).join(" ");qn>=(nt??Pt.logLevel)&&J({level:Y[qn].toLowerCase(),message:Ye,args:yt,type:Pt.name})}}}},365:(co,Gn,Be)=>{Be.r(Gn);var T=Be(861),Y=Be(106),O=Be(562),Me=Be(58),Mn=(Be(534),Be(879),Be(537));function Xt(){return window}function de(){return de=(0,T.Z)(function*(b,I,y){var S;const{BuildInfo:K}=Xt();(0,O.au)(I.sessionId,"AuthEvent did not contain a session ID");const Ie=yield function Qe(b){return ni.apply(this,arguments)}(I.sessionId),Te={};return(0,O.av)()?Te.ibi=K.packageName:(0,O.aw)()?Te.apn=K.packageName:(0,O.ax)(b,"operation-not-supported-in-this-environment"),K.displayName&&(Te.appDisplayName=K.displayName),Te.sessionId=Ie,(0,O.ay)(b,y,I.type,void 0,null!==(S=I.eventId)&&void 0!==S?S:void 0,Te)}),de.apply(this,arguments)}function nt(){return(nt=(0,T.Z)(function*(b){const{BuildInfo:I}=Xt(),y={};(0,O.av)()?y.iosBundleId=I.packageName:(0,O.aw)()?y.androidPackageName=I.packageName:(0,O.ax)(b,"operation-not-supported-in-this-environment"),yield(0,O.az)(b,y)})).apply(this,arguments)}function yt(){return(yt=(0,T.Z)(function*(b,I,y){const{cordova:S}=Xt();let K=()=>{};try{yield new Promise((Ie,Te)=>{let He=null;function Mt(){var Pe;Ie();const ii=null===(Pe=S.plugins.browsertab)||void 0===Pe?void 0:Pe.close;"function"==typeof ii&&ii(),"function"==typeof y?.close&&y.close()}function be(){He||(He=window.setTimeout(()=>{Te((0,O.aB)(b,"redirect-cancelled-by-user"))},2e3))}function Gt(){"visible"===document?.visibilityState&&be()}I.addPassiveListener(Mt),document.addEventListener("resume",be,!1),(0,O.aw)()&&document.addEventListener("visibilitychange",Gt,!1),K=()=>{I.removePassiveListener(Mt),document.removeEventListener("resume",be,!1),document.removeEventListener("visibilitychange",Gt,!1),He&&window.clearTimeout(He)}})}finally{K()}})).apply(this,arguments)}function ni(){return(ni=(0,T.Z)(function*(b){const I=function Cn(b){if((0,O.au)(/[0-9a-zA-Z]+/.test(b),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(b);const I=new ArrayBuffer(b.length),y=new Uint8Array(I);for(let S=0;S<b.length;S++)y[S]=b.charCodeAt(S);return y}(b),y=yield crypto.subtle.digest("SHA-256",I);return Array.from(new Uint8Array(y)).map(K=>K.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class jt extends O.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(I=>{this.resolveInialized=I})}addPassiveListener(I){this.passiveListeners.add(I)}removePassiveListener(I){this.passiveListeners.delete(I)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(I){return this.resolveInialized(),this.passiveListeners.forEach(y=>y(I)),super.onEvent(I)}initialized(){var I=this;return(0,T.Z)(function*(){yield I.initPromise})()}}function at(b){return ce.apply(this,arguments)}function ce(){return(ce=(0,T.Z)(function*(b){const I=yield Tn()._get(kn(b));return I&&(yield Tn()._remove(kn(b))),I})).apply(this,arguments)}function on(){const b=[];for(let y=0;y<20;y++){const S=Math.floor(62*Math.random());b.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(S))}return b.join("")}function Tn(){return(0,O.aE)(O.b)}function kn(b){return(0,O.aF)("authEvent",b.config.apiKey,b.name)}function et(b){if(!b?.includes("?"))return{};const[I,...y]=b.split("?");return(0,Me.zd)(y.join("?"))}const $=class lo{constructor(){this._redirectPersistence=O.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=O.aG,this._overrideRedirectResult=O.aH}_initialize(I){var y=this;return(0,T.Z)(function*(){const S=I._key();let K=y.eventManagers.get(S);return K||(K=new jt(I),y.eventManagers.set(S,K),y.attachCallbackListeners(I,K)),K})()}_openPopup(I){(0,O.ax)(I,"operation-not-supported-in-this-environment")}_openRedirect(I,y,S,K){var Ie=this;return(0,T.Z)(function*(){!function Ye(b){var I,y,S,K,Ie,Te,He,Mt,be,Gt;const Pe=Xt();(0,O.aC)("function"==typeof(null===(I=Pe?.universalLinks)||void 0===I?void 0:I.subscribe),b,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,O.aC)(typeof(null===(y=Pe?.BuildInfo)||void 0===y?void 0:y.packageName)<"u",b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,O.aC)("function"==typeof(null===(Ie=null===(K=null===(S=Pe?.cordova)||void 0===S?void 0:S.plugins)||void 0===K?void 0:K.browsertab)||void 0===Ie?void 0:Ie.openUrl),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,O.aC)("function"==typeof(null===(Mt=null===(He=null===(Te=Pe?.cordova)||void 0===Te?void 0:Te.plugins)||void 0===He?void 0:He.browsertab)||void 0===Mt?void 0:Mt.isAvailable),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,O.aC)("function"==typeof(null===(Gt=null===(be=Pe?.cordova)||void 0===be?void 0:be.InAppBrowser)||void 0===Gt?void 0:Gt.open),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(I);const Te=yield Ie._initialize(I);yield Te.initialized(),Te.resetRedirect(),(0,O.aI)(),yield Ie._originValidation(I);const He=function sr(b,I,y=null){return{type:I,eventId:y,urlResponse:null,sessionId:on(),postBody:null,tenantId:b.tenantId,error:(0,O.aB)(b,"no-auth-event")}}(I,S,K);yield function Vn(b,I){return Tn()._set(kn(b),I)}(I,He);const Mt=yield function J(b,I,y){return de.apply(this,arguments)}(I,He,y),be=yield function Pt(b){const{cordova:I}=Xt();return new Promise(y=>{I.plugins.browsertab.isAvailable(S=>{let K=null;S?I.plugins.browsertab.openUrl(b):K=I.InAppBrowser.open(b,(0,O.aA)()?"_blank":"_system","location=yes"),y(K)})})}(Mt);return function qn(b,I,y){return yt.apply(this,arguments)}(I,Te,be)})()}_isIframeWebStorageSupported(I,y){throw new Error("Method not implemented.")}_originValidation(I){const y=I._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function Ae(b){return nt.apply(this,arguments)}(I)),this.originValidationPromises[y]}attachCallbackListeners(I,y){const{universalLinks:S,handleOpenURL:K,BuildInfo:Ie}=Xt(),Te=setTimeout((0,T.Z)(function*(){yield at(I),y.onEvent(W())}),500),He=function(){var Gt=(0,T.Z)(function*(Pe){clearTimeout(Te);const ii=yield at(I);let zs=null;ii&&Pe?.url&&(zs=function xt(b,I){var y,S;const K=function $r(b){const I=et(b),y=I.link?decodeURIComponent(I.link):void 0,S=et(y).link,K=I.deep_link_id?decodeURIComponent(I.deep_link_id):void 0;return et(K).link||K||S||y||b}(I);if(K.includes("/__/auth/callback")){const Ie=et(K),Te=Ie.firebaseError?function Hr(b){try{return JSON.parse(b)}catch{return null}}(decodeURIComponent(Ie.firebaseError)):null,He=null===(S=null===(y=Te?.code)||void 0===y?void 0:y.split("auth/"))||void 0===S?void 0:S[1],Mt=He?(0,O.aB)(He):null;return Mt?{type:b.type,eventId:b.eventId,tenantId:b.tenantId,error:Mt,urlResponse:null,sessionId:null,postBody:null}:{type:b.type,eventId:b.eventId,tenantId:b.tenantId,sessionId:b.sessionId,urlResponse:K,postBody:null}}return null}(ii,Pe.url)),y.onEvent(zs||W())});return function(ii){return Gt.apply(this,arguments)}}();typeof S<"u"&&"function"==typeof S.subscribe&&S.subscribe(null,He);const Mt=K,be=`${Ie.packageName.toLowerCase()}://`;Xt().handleOpenURL=function(){var Gt=(0,T.Z)(function*(Pe){if(Pe.toLowerCase().startsWith(be)&&He({url:Pe}),"function"==typeof Mt)try{Mt(Pe)}catch(ii){console.error(ii)}});return function(Pe){return Gt.apply(this,arguments)}}()}};function W(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,O.aB)("no-auth-event")}}function ge(){var b;return(null===(b=self?.location)||void 0===b?void 0:b.protocol)||null}function me(b=(0,Me.z$)()){return!("file:"!==ge()&&"ionic:"!==ge()&&"capacitor:"!==ge()||!b.toLowerCase().match(/iphone|ipad|ipod|android/))}function gn(){try{const b=self.localStorage,I=O.aN();if(b)return b.setItem(I,"1"),b.removeItem(I),!function Zt(b=(0,Me.z$)()){return function Dt(){return(0,Me.w1)()&&11===document?.documentMode}()||function ln(b=(0,Me.z$)()){return/Edge\/\d+/.test(b)}(b)}()||(0,Me.hl)()}catch{return Wn()&&(0,Me.hl)()}return!1}function Wn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Zn(){return(function pt(){return"http:"===ge()||"https:"===ge()}()||(0,Me.ru)()||me())&&!function Le(){return(0,Me.b$)()||(0,Me.UG)()}()&&gn()&&!Wn()}function di(){return me()&&typeof document<"u"}function Gr(){return(Gr=(0,T.Z)(function*(){return!!di()&&new Promise(b=>{const I=setTimeout(()=>{b(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(I),b(!0)})})})).apply(this,arguments)}const bt={LOCAL:"local",NONE:"none",SESSION:"session"},ho=O.aC,fo="persistence";function Wr(b){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,T.Z)(function*(b){yield b._initializationPromise;const I=lr(),y=O.aF(fo,b.config.apiKey,b.name);I&&I.setItem(y,b._getPersistence())})).apply(this,arguments)}function lr(){var b;try{return(null===(b=function uo(){return typeof window<"u"?window:null}())||void 0===b?void 0:b.sessionStorage)||null}catch{return null}}const ur=O.aC;class hi{constructor(){this.browserResolver=O.aE(O.k),this.cordovaResolver=O.aE($),this.underlyingResolver=null,this._redirectPersistence=O.a,this._completeRedirectFn=O.aG,this._overrideRedirectResult=O.aH}_initialize(I){var y=this;return(0,T.Z)(function*(){return yield y.selectUnderlyingResolver(),y.assertedUnderlyingResolver._initialize(I)})()}_openPopup(I,y,S,K){var Ie=this;return(0,T.Z)(function*(){return yield Ie.selectUnderlyingResolver(),Ie.assertedUnderlyingResolver._openPopup(I,y,S,K)})()}_openRedirect(I,y,S,K){var Ie=this;return(0,T.Z)(function*(){return yield Ie.selectUnderlyingResolver(),Ie.assertedUnderlyingResolver._openRedirect(I,y,S,K)})()}_isIframeWebStorageSupported(I,y){this.assertedUnderlyingResolver._isIframeWebStorageSupported(I,y)}_originValidation(I){return this.assertedUnderlyingResolver._originValidation(I)}get _shouldInitProactively(){return di()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ur(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var I=this;return(0,T.Z)(function*(){if(I.underlyingResolver)return;const y=yield function $i(){return Gr.apply(this,arguments)}();I.underlyingResolver=y?I.cordovaResolver:I.browserResolver})()}}function Bt(b){return b.unwrap()}function Rn(b){return _n(b)}function _n(b){const{_tokenResponse:I}=b instanceof Me.ZR?b.customData:b;if(!I)return null;if(!(b instanceof Me.ZR)&&"temporaryProof"in I&&"phoneNumber"in I)return O.P.credentialFromResult(b);const y=I.providerId;if(!y||y===O.p.PASSWORD)return null;let S;switch(y){case O.p.GOOGLE:S=O.X;break;case O.p.FACEBOOK:S=O.W;break;case O.p.GITHUB:S=O.Y;break;case O.p.TWITTER:S=O.$;break;default:const{oauthIdToken:K,oauthAccessToken:Ie,oauthTokenSecret:Te,pendingToken:He,nonce:Mt}=I;return Ie||Te||K||He?He?y.startsWith("saml.")?O.aQ._create(y,He):O.N._fromParams({providerId:y,signInMethod:y,pendingToken:He,idToken:K,accessToken:Ie}):new O.Z(y).credential({idToken:K,accessToken:Ie,rawNonce:Mt}):null}return b instanceof Me.ZR?S.credentialFromError(b):S.credentialFromResult(b)}function xn(b,I){return I.catch(y=>{throw y instanceof Me.ZR&&function kc(b,I){var y;const S=null===(y=I.customData)||void 0===y?void 0:y._tokenResponse;if("auth/multi-factor-auth-required"===I?.code)I.resolver=new Zr(b,O.as(b,I));else if(S){const K=_n(I),Ie=I;K&&(Ie.credential=K,Ie.tenantId=S.tenantId||void 0,Ie.email=S.email||void 0,Ie.phoneNumber=S.phoneNumber||void 0)}}(b,y),y}).then(y=>{const K=y.user;return{operationType:y.operationType,credential:Rn(y),additionalUserInfo:O.aq(y),user:Kn.getOrCreate(K)}})}function po(b,I){return mo.apply(this,arguments)}function mo(){return(mo=(0,T.Z)(function*(b,I){const y=yield I;return{verificationId:y.verificationId,confirm:S=>xn(b,y.confirm(S))}})).apply(this,arguments)}class Zr{constructor(I,y){this.resolver=y,this.auth=function dr(b){return b.wrapped()}(I)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(I){return xn(Bt(this.auth),this.resolver.resolveSignIn(I))}}class Kn{constructor(I){this._delegate=I,this.multiFactor=O.at(I)}static getOrCreate(I){return Kn.USER_MAP.has(I)||Kn.USER_MAP.set(I,new Kn(I)),Kn.USER_MAP.get(I)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(I){return this._delegate.getIdTokenResult(I)}getIdToken(I){return this._delegate.getIdToken(I)}linkAndRetrieveDataWithCredential(I){return this.linkWithCredential(I)}linkWithCredential(I){var y=this;return(0,T.Z)(function*(){return xn(y.auth,O.a2(y._delegate,I))})()}linkWithPhoneNumber(I,y){var S=this;return(0,T.Z)(function*(){return po(S.auth,O.l(S._delegate,I,y))})()}linkWithPopup(I){var y=this;return(0,T.Z)(function*(){return xn(y.auth,O.d(y._delegate,I,hi))})()}linkWithRedirect(I){var y=this;return(0,T.Z)(function*(){return yield Wr(O.aJ(y.auth)),O.g(y._delegate,I,hi)})()}reauthenticateAndRetrieveDataWithCredential(I){return this.reauthenticateWithCredential(I)}reauthenticateWithCredential(I){var y=this;return(0,T.Z)(function*(){return xn(y.auth,O.a3(y._delegate,I))})()}reauthenticateWithPhoneNumber(I,y){return po(this.auth,O.r(this._delegate,I,y))}reauthenticateWithPopup(I){return xn(this.auth,O.e(this._delegate,I,hi))}reauthenticateWithRedirect(I){var y=this;return(0,T.Z)(function*(){return yield Wr(O.aJ(y.auth)),O.h(y._delegate,I,hi)})()}sendEmailVerification(I){return O.ag(this._delegate,I)}unlink(I){var y=this;return(0,T.Z)(function*(){return yield O.ap(y._delegate,I),y})()}updateEmail(I){return O.al(this._delegate,I)}updatePassword(I){return O.am(this._delegate,I)}updatePhoneNumber(I){return O.u(this._delegate,I)}updateProfile(I){return O.ak(this._delegate,I)}verifyBeforeUpdateEmail(I,y){return O.ah(this._delegate,I,y)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Kn.USER_MAP=new WeakMap;const Yn=O.aC;let Pi=(()=>{class b{constructor(y,S){if(this.app=y,S.isInitialized())return this._delegate=S.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:K}=y.options;Yn(K,"invalid-api-key",{appName:y.name}),Yn(K,"invalid-api-key",{appName:y.name});const Ie=typeof window<"u"?hi:void 0;this._delegate=S.initialize({options:{persistence:Ia(K,y.name),popupRedirectResolver:Ie}}),this._delegate._updateErrorMap(O.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Kn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(y){this._delegate.languageCode=y}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(y){this._delegate.tenantId=y}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(y,S){O.K(this._delegate,y,S)}applyActionCode(y){return O.a7(this._delegate,y)}checkActionCode(y){return O.a8(this._delegate,y)}confirmPasswordReset(y,S){return O.a6(this._delegate,y,S)}createUserWithEmailAndPassword(y,S){var K=this;return(0,T.Z)(function*(){return xn(K._delegate,O.aa(K._delegate,y,S))})()}fetchProvidersForEmail(y){return this.fetchSignInMethodsForEmail(y)}fetchSignInMethodsForEmail(y){return O.af(this._delegate,y)}isSignInWithEmailLink(y){return O.ad(this._delegate,y)}getRedirectResult(){var y=this;return(0,T.Z)(function*(){Yn(Zn(),y._delegate,"operation-not-supported-in-this-environment");const S=yield O.j(y._delegate,hi);return S?xn(y._delegate,Promise.resolve(S)):{credential:null,user:null}})()}addFrameworkForLogging(y){!function G(b,I){(0,O.aJ)(b)._logFramework(I)}(this._delegate,y)}onAuthStateChanged(y,S,K){const{next:Ie,error:Te,complete:He}=hr(y,S,K);return this._delegate.onAuthStateChanged(Ie,Te,He)}onIdTokenChanged(y,S,K){const{next:Ie,error:Te,complete:He}=hr(y,S,K);return this._delegate.onIdTokenChanged(Ie,Te,He)}sendSignInLinkToEmail(y,S){return O.ac(this._delegate,y,S)}sendPasswordResetEmail(y,S){return O.a5(this._delegate,y,S||void 0)}setPersistence(y){var S=this;return(0,T.Z)(function*(){let K;switch(function qr(b,I){ho(Object.values(bt).includes(I),b,"invalid-persistence-type"),(0,Me.b$)()?ho(I!==bt.SESSION,b,"unsupported-persistence-type"):(0,Me.UG)()?ho(I===bt.NONE,b,"unsupported-persistence-type"):Wn()?ho(I===bt.NONE||I===bt.LOCAL&&(0,Me.hl)(),b,"unsupported-persistence-type"):ho(I===bt.NONE||gn(),b,"unsupported-persistence-type")}(S._delegate,y),y){case bt.SESSION:K=O.a;break;case bt.LOCAL:K=(yield O.aE(O.i)._isAvailable())?O.i:O.b;break;case bt.NONE:K=O.U;break;default:return O.ax("argument-error",{appName:S._delegate.name})}return S._delegate.setPersistence(K)})()}signInAndRetrieveDataWithCredential(y){return this.signInWithCredential(y)}signInAnonymously(){return xn(this._delegate,O.a0(this._delegate))}signInWithCredential(y){return xn(this._delegate,O.a1(this._delegate,y))}signInWithCustomToken(y){return xn(this._delegate,O.a4(this._delegate,y))}signInWithEmailAndPassword(y,S){return xn(this._delegate,O.ab(this._delegate,y,S))}signInWithEmailLink(y,S){return xn(this._delegate,O.ae(this._delegate,y,S))}signInWithPhoneNumber(y,S){return po(this._delegate,O.s(this._delegate,y,S))}signInWithPopup(y){var S=this;return(0,T.Z)(function*(){return Yn(Zn(),S._delegate,"operation-not-supported-in-this-environment"),xn(S._delegate,O.c(S._delegate,y,hi))})()}signInWithRedirect(y){var S=this;return(0,T.Z)(function*(){return Yn(Zn(),S._delegate,"operation-not-supported-in-this-environment"),yield Wr(S._delegate),O.f(S._delegate,y,hi)})()}updateCurrentUser(y){return this._delegate.updateCurrentUser(y)}verifyPasswordResetCode(y){return O.a9(this._delegate,y)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return b.Persistence=bt,b})();function hr(b,I,y){let S=b;"function"!=typeof b&&({next:S,error:I,complete:y}=b);const K=S;return{next:Te=>K(Te&&Kn.getOrCreate(Te)),error:I,complete:y}}function Ia(b,I){const y=function cr(b,I){const y=lr();if(!y)return[];const S=O.aF(fo,b,I);switch(y.getItem(S)){case bt.NONE:return[O.U];case bt.LOCAL:return[O.i,O.a];case bt.SESSION:return[O.a];default:return[]}}(b,I);if(typeof self<"u"&&!y.includes(O.i)&&y.push(O.i),typeof window<"u")for(const S of[O.b,O.a])y.includes(S)||y.push(S);return y.includes(O.U)||y.push(O.U),y}class ns{constructor(){this.providerId="phone",this._delegate=new O.P(Bt(Y.Z.auth()))}static credential(I,y){return O.P.credential(I,y)}verifyPhoneNumber(I,y){return this._delegate.verifyPhoneNumber(I,y)}unwrap(){return this._delegate}}ns.PHONE_SIGN_IN_METHOD=O.P.PHONE_SIGN_IN_METHOD,ns.PROVIDER_ID=O.P.PROVIDER_ID;const js=O.aC;class go{constructor(I,y,S=Y.Z.app()){var K;js(null===(K=S.options)||void 0===K?void 0:K.apiKey,"invalid-api-key",{appName:S.name}),this._delegate=new O.R(S.auth(),I,y),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function D(b){b.INTERNAL.registerComponent(new Mn.wA("auth-compat",I=>{const y=I.getProvider("app-compat").getImmediate(),S=I.getProvider("auth");return new Pi(y,S)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:O.A.EMAIL_SIGNIN,PASSWORD_RESET:O.A.PASSWORD_RESET,RECOVER_EMAIL:O.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:O.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:O.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:O.A.VERIFY_EMAIL}},EmailAuthProvider:O.V,FacebookAuthProvider:O.W,GithubAuthProvider:O.Y,GoogleAuthProvider:O.X,OAuthProvider:O.Z,SAMLAuthProvider:O._,PhoneAuthProvider:ns,PhoneMultiFactorGenerator:O.m,RecaptchaVerifier:go,TwitterAuthProvider:O.$,Auth:Pi,AuthCredential:O.L,Error:Me.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),b.registerVersion("@firebase/auth-compat","0.4.9")}(Y.Z)},861:(co,Gn,Be)=>{function T(O,Me,_t,mn,Mn,Xt,At){try{var J=O[Xt](At),de=J.value}catch(Ae){return void _t(Ae)}J.done?Me(de):Promise.resolve(de).then(mn,Mn)}function Y(O){return function(){var Me=this,_t=arguments;return new Promise(function(mn,Mn){var Xt=O.apply(Me,_t);function At(de){T(Xt,mn,Mn,At,J,"next",de)}function J(de){T(Xt,mn,Mn,At,J,"throw",de)}At(void 0)})}}Be.d(Gn,{Z:()=>Y})},582:(co,Gn,Be)=>{function Me($,W){var G={};for(var H in $)Object.prototype.hasOwnProperty.call($,H)&&W.indexOf(H)<0&&(G[H]=$[H]);if(null!=$&&"function"==typeof Object.getOwnPropertySymbols){var ne=0;for(H=Object.getOwnPropertySymbols($);ne<H.length;ne++)W.indexOf(H[ne])<0&&Object.prototype.propertyIsEnumerable.call($,H[ne])&&(G[H[ne]]=$[H[ne]])}return G}function Ae($,W,G,H){return new(G||(G=Promise))(function(ee,ge){function pt(Dt){try{Le(H.next(Dt))}catch(ln){ge(ln)}}function me(Dt){try{Le(H.throw(Dt))}catch(ln){ge(ln)}}function Le(Dt){Dt.done?ee(Dt.value):function ne(ee){return ee instanceof G?ee:new G(function(ge){ge(ee)})}(Dt.value).then(pt,me)}Le((H=H.apply($,W||[])).next())})}function vt($){return this instanceof vt?(this.v=$,this):new vt($)}function jt($,W,G){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ne,H=G.apply($,W||[]),ee=[];return ne={},ge("next"),ge("throw"),ge("return"),ne[Symbol.asyncIterator]=function(){return this},ne;function ge(Zt){H[Zt]&&(ne[Zt]=function(gn){return new Promise(function(Wn,Zn){ee.push([Zt,gn,Wn,Zn])>1||pt(Zt,gn)})})}function pt(Zt,gn){try{!function me(Zt){Zt.value instanceof vt?Promise.resolve(Zt.value.v).then(Le,Dt):ln(ee[0][2],Zt)}(H[Zt](gn))}catch(Wn){ln(ee[0][3],Wn)}}function Le(Zt){pt("next",Zt)}function Dt(Zt){pt("throw",Zt)}function ln(Zt,gn){Zt(gn),ee.shift(),ee.length&&pt(ee[0][0],ee[0][1])}}function Vn($){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var G,W=$[Symbol.asyncIterator];return W?W.call($):($=function yt($){var W="function"==typeof Symbol&&Symbol.iterator,G=W&&$[W],H=0;if(G)return G.call($);if($&&"number"==typeof $.length)return{next:function(){return $&&H>=$.length&&($=void 0),{value:$&&$[H++],done:!$}}};throw new TypeError(W?"Object is not iterable.":"Symbol.iterator is not defined.")}($),G={},H("next"),H("throw"),H("return"),G[Symbol.asyncIterator]=function(){return this},G);function H(ee){G[ee]=$[ee]&&function(ge){return new Promise(function(pt,me){!function ne(ee,ge,pt,me){Promise.resolve(me).then(function(Le){ee({value:Le,done:pt})},ge)}(pt,me,(ge=$[ee](ge)).done,ge.value)})}}}Be.d(Gn,{FC:()=>jt,KL:()=>Vn,_T:()=>Me,mG:()=>Ae,qq:()=>vt}),"function"==typeof SuppressedError&&SuppressedError}},co=>{co(co.s=140)}]);