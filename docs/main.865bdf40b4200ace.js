"use strict";(self.webpackChunktasks=self.webpackChunktasks||[]).push([[179],{4206:(Nt,$e,F)=>{F.d($e,{$:()=>Mo,A:()=>ae,G:()=>We,K:()=>ns,L:()=>vs,N:()=>Jr,P:()=>wp,R:()=>To,U:()=>Dt,V:()=>gi,W:()=>Kr,X:()=>Mr,Y:()=>la,Z:()=>Po,_:()=>fo,a:()=>ko,a0:()=>ea,a1:()=>Ni,a2:()=>Xr,a3:()=>Cs,a4:()=>Zi,a5:()=>ji,a6:()=>Ha,a7:()=>ta,a8:()=>js,a9:()=>gl,aA:()=>Ut,aB:()=>Oe,aC:()=>ye,aD:()=>ql,aE:()=>Ve,aF:()=>jt,aG:()=>ls,aH:()=>Tl,aI:()=>ni,aJ:()=>Ln,aN:()=>nn,aQ:()=>Ro,aa:()=>ja,ab:()=>Oo,ac:()=>jl,ad:()=>Sa,ae:()=>ml,af:()=>$a,ag:()=>Y,ah:()=>q,ak:()=>en,al:()=>dr,am:()=>nr,ap:()=>ca,aq:()=>Fi,as:()=>Gn,at:()=>Ht,au:()=>Ie,av:()=>Qe,aw:()=>Ee,ax:()=>le,ay:()=>Dd,az:()=>wo,b:()=>Pa,c:()=>Pu,d:()=>xu,e:()=>Ru,f:()=>Td,g:()=>Sp,h:()=>zh,i:()=>I,j:()=>Lo,k:()=>Xh,l:()=>Ec,m:()=>Ac,p:()=>se,r:()=>zo,s:()=>jh,u:()=>Gl});var p=F(5861),L=F(9058),_=F(534),Ce=F(7879),B=F(7582),Q=F(4537);const se={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ae={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const We=function we(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},dt=function He(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},nt=new L.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),lt=new Ce.Yd("@firebase/auth");function ft(E,...f){lt.logLevel<=Ce.in.ERROR&&lt.error(`Auth (${_.SDK_VERSION}): ${E}`,...f)}function le(E,...f){throw De(E,...f)}function Oe(E,...f){return De(E,...f)}function he(E,f,g){const w=Object.assign(Object.assign({},dt()),{[f]:g});return new L.LL("auth","Firebase",w).create(f,{appName:E.name})}function ge(E,f,g){if(!(f instanceof g))throw g.name!==f.constructor.name&&le(E,"argument-error"),he(E,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function De(E,...f){if("string"!=typeof E){const g=f[0],w=[...f.slice(1)];return w[0]&&(w[0].appName=E.name),E._errorFactory.create(g,...w)}return nt.create(E,...f)}function ye(E,f,...g){if(!E)throw De(f,...g)}function rt(E){const f="INTERNAL ASSERTION FAILED: "+E;throw ft(f),new Error(f)}function Ie(E,f){E||rt(f)}function Vt(){var E;return typeof self<"u"&&(null===(E=self.location)||void 0===E?void 0:E.href)||""}function It(){return"http:"===ut()||"https:"===ut()}function ut(){var E;return typeof self<"u"&&(null===(E=self.location)||void 0===E?void 0:E.protocol)||null}class Pt{constructor(f,g){this.shortDelay=f,this.longDelay=g,Ie(g>f,"Short delay should be less than long delay!"),this.isMobile=(0,L.uI)()||(0,L.b$)()}get(){return function Tn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(It()||(0,L.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function kt(E,f){Ie(E.emulator,"Emulator should always be set here");const{url:g}=E.emulator;return f?`${g}${f.startsWith("/")?f.slice(1):f}`:g}class Se{static initialize(f,g,w){this.fetchImpl=f,g&&(this.headersImpl=g),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void rt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void rt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void rt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ke={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},qe=new Pt(3e4,6e4);function Fe(E,f){return E.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:E.tenantId}):f}function Ke(E,f,g,w){return ct.apply(this,arguments)}function ct(){return(ct=(0,p.Z)(function*(E,f,g,w,W={}){return At(E,W,(0,p.Z)(function*(){let oe={},Ue={};w&&("GET"===f?Ue=w:oe={body:JSON.stringify(w)});const at=(0,L.xO)(Object.assign({key:E.config.apiKey},Ue)).slice(1),wt=yield E._getAdditionalHeaders();return wt["Content-Type"]="application/json",E.languageCode&&(wt["X-Firebase-Locale"]=E.languageCode),Se.fetch()(On(E,E.config.apiHost,g,at),Object.assign({method:f,headers:wt,referrerPolicy:"no-referrer"},oe))}))})).apply(this,arguments)}function At(E,f,g){return vt.apply(this,arguments)}function vt(){return(vt=(0,p.Z)(function*(E,f,g){E._canInitEmulator=!1;const w=Object.assign(Object.assign({},ke),f);try{const W=new zn(E),oe=yield Promise.race([g(),W.promise]);W.clearNetworkTimeout();const Ue=yield oe.json();if("needConfirmation"in Ue)throw fn(E,"account-exists-with-different-credential",Ue);if(oe.ok&&!("errorMessage"in Ue))return Ue;{const at=oe.ok?Ue.errorMessage:Ue.error.message,[wt,sn]=at.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===wt)throw fn(E,"credential-already-in-use",Ue);if("EMAIL_EXISTS"===wt)throw fn(E,"email-already-in-use",Ue);if("USER_DISABLED"===wt)throw fn(E,"user-disabled",Ue);const mn=w[wt]||wt.toLowerCase().replace(/[_\s]+/g,"-");if(sn)throw he(E,mn,sn);le(E,mn)}}catch(W){if(W instanceof L.ZR)throw W;le(E,"network-request-failed",{message:String(W)})}})).apply(this,arguments)}function Dn(E,f,g,w){return cn.apply(this,arguments)}function cn(){return(cn=(0,p.Z)(function*(E,f,g,w,W={}){const oe=yield Ke(E,f,g,w,W);return"mfaPendingCredential"in oe&&le(E,"multi-factor-auth-required",{_serverResponse:oe}),oe})).apply(this,arguments)}function On(E,f,g,w){const W=`${f}${g}?${w}`;return E.config.emulator?kt(E.config,W):`${E.config.apiScheme}://${W}`}function pn(E){switch(E){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class zn{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((g,w)=>{this.timer=setTimeout(()=>w(Oe(this.auth,"network-request-failed")),qe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function fn(E,f,g){const w={appName:E.name};g.email&&(w.email=g.email),g.phoneNumber&&(w.phoneNumber=g.phoneNumber);const W=Oe(E,f,w);return W.customData._tokenResponse=g,W}function jn(E){return void 0!==E&&void 0!==E.getResponse}function An(E){return void 0!==E&&void 0!==E.enterprise}class Xt{constructor(f){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===f.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=f.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=f.recaptchaEnforcementState}getProviderEnforcementState(f){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const g of this.recaptchaEnforcementState)if(g.provider&&g.provider===f)return pn(g.enforcementState);return null}isProviderEnabled(f){return"ENFORCE"===this.getProviderEnforcementState(f)||"AUDIT"===this.getProviderEnforcementState(f)}}function _r(){return(_r=(0,p.Z)(function*(E){return(yield Ke(E,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Mn(E,f){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,p.Z)(function*(E,f){return Ke(E,"GET","/v2/recaptchaConfig",Fe(E,f))})).apply(this,arguments)}function dn(){return(dn=(0,p.Z)(function*(E,f){return Ke(E,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function _n(){return(_n=(0,p.Z)(function*(E,f){return Ke(E,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function or(){return(or=(0,p.Z)(function*(E,f){return Ke(E,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function Ir(E){if(E)try{const f=new Date(Number(E));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function Re(){return(Re=(0,p.Z)(function*(E,f=!1){const g=(0,L.m9)(E),w=yield g.getIdToken(f),W=Ze(w);ye(W&&W.exp&&W.auth_time&&W.iat,g.auth,"internal-error");const oe="object"==typeof W.firebase?W.firebase:void 0,Ue=oe?.sign_in_provider;return{claims:W,token:w,authTime:Ir(Ge(W.auth_time)),issuedAtTime:Ir(Ge(W.iat)),expirationTime:Ir(Ge(W.exp)),signInProvider:Ue||null,signInSecondFactor:oe?.sign_in_second_factor||null}})).apply(this,arguments)}function Ge(E){return 1e3*Number(E)}function Ze(E){const[f,g,w]=E.split(".");if(void 0===f||void 0===g||void 0===w)return ft("JWT malformed, contained fewer than 3 sections"),null;try{const W=(0,L.tV)(g);return W?JSON.parse(W):(ft("Failed to decode base64 JWT payload"),null)}catch(W){return ft("Caught error parsing JWT payload as JSON",W?.toString()),null}}function Mt(E,f){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,p.Z)(function*(E,f,g=!1){if(g)return f;try{return yield f}catch(w){throw w instanceof L.ZR&&function yn({code:E}){return"auth/user-disabled"===E||"auth/user-token-expired"===E}(w)&&E.auth.currentUser===E&&(yield E.auth.signOut()),w}})).apply(this,arguments)}class jr{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var g;if(f){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const W=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,W)}}schedule(f=!1){var g=this;if(!this.isRunning)return;const w=this.getInterval(f);this.timerId=setTimeout((0,p.Z)(function*(){yield g.iteration()}),w)}iteration(){var f=this;return(0,p.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&f.schedule(!0))}f.schedule()})()}}class di{constructor(f,g){this.createdAt=f,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ir(this.lastLoginAt),this.creationTime=Ir(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function kn(E){return Ar.apply(this,arguments)}function Ar(){return Ar=(0,p.Z)(function*(E){var f;const g=E.auth,w=yield E.getIdToken(),W=yield Mt(E,function on(E,f){return or.apply(this,arguments)}(g,{idToken:w}));ye(W?.users.length,g,"internal-error");const oe=W.users[0];E._notifyReloadListener(oe);const Ue=null!==(f=oe.providerUserInfo)&&void 0!==f&&f.length?function $r(E){return E.map(f=>{var{providerId:g}=f,w=(0,B._T)(f,["providerId"]);return{providerId:g,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}(oe.providerUserInfo):[],at=function Ti(E,f){return[...E.filter(w=>!f.some(W=>W.providerId===w.providerId)),...f]}(E.providerData,Ue),mn=!!E.isAnonymous&&!(E.email&&oe.passwordHash||at?.length),vr={uid:oe.localId,displayName:oe.displayName||null,photoURL:oe.photoUrl||null,email:oe.email||null,emailVerified:oe.emailVerified||!1,phoneNumber:oe.phoneNumber||null,tenantId:oe.tenantId||null,providerData:at,metadata:new di(oe.createdAt,oe.lastLoginAt),isAnonymous:mn};Object.assign(E,vr)}),Ar.apply(this,arguments)}function ai(){return(ai=(0,p.Z)(function*(E){const f=(0,L.m9)(E);yield kn(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function Yr(){return(Yr=(0,p.Z)(function*(E,f){const g=yield At(E,{},(0,p.Z)(function*(){const w=(0,L.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:W,apiKey:oe}=E.config,Ue=On(E,W,"/v1/token",`key=${oe}`),at=yield E._getAdditionalHeaders();return at["Content-Type"]="application/x-www-form-urlencoded",Se.fetch()(Ue,{method:"POST",headers:at,body:w})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}function re(){return(re=(0,p.Z)(function*(E,f){return Ke(E,"POST","/v2/accounts:revokeToken",Fe(E,f))})).apply(this,arguments)}class ${constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){ye(f.idToken,"internal-error"),ye(typeof f.idToken<"u","internal-error"),ye(typeof f.refreshToken<"u","internal-error");const g="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function zt(E){const f=Ze(E);return ye(f,"internal-error"),ye(typeof f.exp<"u","internal-error"),ye(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,g)}getToken(f,g=!1){var w=this;return(0,p.Z)(function*(){return ye(!w.accessToken||w.refreshToken,f,"user-token-expired"),g||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(f,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,g){var w=this;return(0,p.Z)(function*(){const{accessToken:W,refreshToken:oe,expiresIn:Ue}=yield function kr(E,f){return Yr.apply(this,arguments)}(f,g);w.updateTokensAndExpiration(W,oe,Number(Ue))})()}updateTokensAndExpiration(f,g,w){this.refreshToken=g||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(f,g){const{refreshToken:w,accessToken:W,expirationTime:oe}=g,Ue=new $;return w&&(ye("string"==typeof w,"internal-error",{appName:f}),Ue.refreshToken=w),W&&(ye("string"==typeof W,"internal-error",{appName:f}),Ue.accessToken=W),oe&&(ye("number"==typeof oe,"internal-error",{appName:f}),Ue.expirationTime=oe),Ue}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new $,this.toJSON())}_performRefresh(){return rt("not implemented")}}function k(E,f){ye("string"==typeof E||typeof E>"u","internal-error",{appName:f})}class N{constructor(f){var{uid:g,auth:w,stsTokenManager:W}=f,oe=(0,B._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new jr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=w,this.stsTokenManager=W,this.accessToken=W.accessToken,this.displayName=oe.displayName||null,this.email=oe.email||null,this.emailVerified=oe.emailVerified||!1,this.phoneNumber=oe.phoneNumber||null,this.photoURL=oe.photoURL||null,this.isAnonymous=oe.isAnonymous||!1,this.tenantId=oe.tenantId||null,this.providerData=oe.providerData?[...oe.providerData]:[],this.metadata=new di(oe.createdAt||void 0,oe.lastLoginAt||void 0)}getIdToken(f){var g=this;return(0,p.Z)(function*(){const w=yield Mt(g,g.stsTokenManager.getToken(g.auth,f));return ye(w,g.auth,"internal-error"),g.accessToken!==w&&(g.accessToken=w,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),w})()}getIdTokenResult(f){return function St(E){return Re.apply(this,arguments)}(this,f)}reload(){return function oi(E){return ai.apply(this,arguments)}(this)}_assign(f){this!==f&&(ye(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(g=>Object.assign({},g)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){const g=new N(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(f){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,g=!1){var w=this;return(0,p.Z)(function*(){let W=!1;f.idToken&&f.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(f),W=!0),g&&(yield kn(w)),yield w.auth._persistUserIfCurrent(w),W&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var f=this;return(0,p.Z)(function*(){const g=yield f.getIdToken();return yield Mt(f,function Pr(E,f){return dn.apply(this,arguments)}(f.auth,{idToken:g})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,g){var w,W,oe,Ue,at,wt,sn,mn;const vr=null!==(w=g.displayName)&&void 0!==w?w:void 0,zs=null!==(W=g.email)&&void 0!==W?W:void 0,Sl=null!==(oe=g.phoneNumber)&&void 0!==oe?oe:void 0,Zo=null!==(Ue=g.photoURL)&&void 0!==Ue?Ue:void 0,tf=null!==(at=g.tenantId)&&void 0!==at?at:void 0,Ss=null!==(wt=g._redirectEventId)&&void 0!==wt?wt:void 0,nf=null!==(sn=g.createdAt)&&void 0!==sn?sn:void 0,$u=null!==(mn=g.lastLoginAt)&&void 0!==mn?mn:void 0,{uid:Yl,emailVerified:va,isAnonymous:rf,providerData:Jl,stsTokenManager:Np}=g;ye(Yl&&Np,f,"internal-error");const n_=$.fromJSON(this.name,Np);ye("string"==typeof Yl,f,"internal-error"),k(vr,f.name),k(zs,f.name),ye("boolean"==typeof va,f,"internal-error"),ye("boolean"==typeof rf,f,"internal-error"),k(Sl,f.name),k(Zo,f.name),k(tf,f.name),k(Ss,f.name),k(nf,f.name),k($u,f.name);const tr=new N({uid:Yl,auth:f,email:zs,emailVerified:va,displayName:vr,isAnonymous:rf,photoURL:Zo,phoneNumber:Sl,tenantId:tf,stsTokenManager:n_,createdAt:nf,lastLoginAt:$u});return Jl&&Array.isArray(Jl)&&(tr.providerData=Jl.map(Mc=>Object.assign({},Mc))),Ss&&(tr._redirectEventId=Ss),tr}static _fromIdTokenResponse(f,g,w=!1){return(0,p.Z)(function*(){const W=new $;W.updateFromServerResponse(g);const oe=new N({uid:g.localId,auth:f,stsTokenManager:W,isAnonymous:w});return yield kn(oe),oe})()}}const de=new Map;function Ve(E){Ie(E instanceof Function,"Expected a class definition");let f=de.get(E);return f?(Ie(f instanceof E,"Instance stored in cache mismatched with class"),f):(f=new E,de.set(E,f),f)}const Dt=(()=>{class E{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,p.Z)(function*(){return!0})()}_set(g,w){var W=this;return(0,p.Z)(function*(){W.storage[g]=w})()}_get(g){var w=this;return(0,p.Z)(function*(){const W=w.storage[g];return void 0===W?null:W})()}_remove(g){var w=this;return(0,p.Z)(function*(){delete w.storage[g]})()}_addListener(g,w){}_removeListener(g,w){}}return E.type="NONE",E})();function jt(E,f,g){return`firebase:${E}:${f}:${g}`}class Wt{constructor(f,g,w){this.persistence=f,this.auth=g,this.userKey=w;const{config:W,name:oe}=this.auth;this.fullUserKey=jt(this.userKey,W.apiKey,oe),this.fullPersistenceKey=jt("persistence",W.apiKey,oe),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,p.Z)(function*(){const g=yield f.persistence._get(f.fullUserKey);return g?N._fromJSON(f.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var g=this;return(0,p.Z)(function*(){if(g.persistence===f)return;const w=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=f,w?g.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,g,w="authUser"){return(0,p.Z)(function*(){if(!g.length)return new Wt(Ve(Dt),f,w);const W=(yield Promise.all(g.map(function(){var sn=(0,p.Z)(function*(mn){if(yield mn._isAvailable())return mn});return function(mn){return sn.apply(this,arguments)}}()))).filter(sn=>sn);let oe=W[0]||Ve(Dt);const Ue=jt(w,f.config.apiKey,f.name);let at=null;for(const sn of g)try{const mn=yield sn._get(Ue);if(mn){const vr=N._fromJSON(f,mn);sn!==oe&&(at=vr),oe=sn;break}}catch{}const wt=W.filter(sn=>sn._shouldAllowMigration);return oe._shouldAllowMigration&&wt.length?(oe=wt[0],at&&(yield oe._set(Ue,at.toJSON())),yield Promise.all(g.map(function(){var sn=(0,p.Z)(function*(mn){if(mn!==oe)try{yield mn._remove(Ue)}catch{}});return function(mn){return sn.apply(this,arguments)}}())),new Wt(oe,f,w)):new Wt(oe,f,w)})()}}function an(E){const f=E.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Pe(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(Zn(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Te(f))return"Blackberry";if(je(f))return"Webos";if(Me(f))return"Safari";if((f.includes("chrome/")||_e(f))&&!f.includes("edge/"))return"Chrome";if(Ee(f))return"Android";{const w=E.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function Zn(E=(0,L.z$)()){return/firefox\//i.test(E)}function Me(E=(0,L.z$)()){const f=E.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function _e(E=(0,L.z$)()){return/crios\//i.test(E)}function Pe(E=(0,L.z$)()){return/iemobile/i.test(E)}function Ee(E=(0,L.z$)()){return/android/i.test(E)}function Te(E=(0,L.z$)()){return/blackberry/i.test(E)}function je(E=(0,L.z$)()){return/webos/i.test(E)}function Qe(E=(0,L.z$)()){return/iphone|ipad|ipod/i.test(E)||/macintosh/i.test(E)&&/mobile/i.test(E)}function Ut(E=(0,L.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(E)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(E)}function pr(E=(0,L.z$)()){return Qe(E)||Ee(E)||je(E)||Te(E)||/windows phone/i.test(E)||Pe(E)}function ur(E,f=[]){let g;switch(E){case"Browser":g=an((0,L.z$)());break;case"Worker":g=`${an((0,L.z$)())}-${E}`;break;default:g=E}const w=f.length?f.join(","):"FirebaseCore-web";return`${g}/JsCore/${_.SDK_VERSION}/${w}`}class Lr{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,g){const w=oe=>new Promise((Ue,at)=>{try{Ue(f(oe))}catch(wt){at(wt)}});w.onAbort=g,this.queue.push(w);const W=this.queue.length-1;return()=>{this.queue[W]=()=>Promise.resolve()}}runMiddleware(f){var g=this;return(0,p.Z)(function*(){if(g.auth.currentUser===f)return;const w=[];try{for(const W of g.queue)yield W(f),W.onAbort&&w.push(W.onAbort)}catch(W){w.reverse();for(const oe of w)try{oe()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:W?.message})}})()}}function gr(){return(gr=(0,p.Z)(function*(E,f={}){return Ke(E,"GET","/v2/passwordPolicy",Fe(E,f))})).apply(this,arguments)}class ri{constructor(f){var g,w,W,oe;const Ue=f.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(g=Ue.minPasswordLength)&&void 0!==g?g:6,Ue.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Ue.maxPasswordLength),void 0!==Ue.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Ue.containsLowercaseCharacter),void 0!==Ue.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Ue.containsUppercaseCharacter),void 0!==Ue.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Ue.containsNumericCharacter),void 0!==Ue.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Ue.containsNonAlphanumericCharacter),this.enforcementState=f.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(W=null===(w=f.allowedNonAlphanumericCharacters)||void 0===w?void 0:w.join(""))&&void 0!==W?W:"",this.forceUpgradeOnSignin=null!==(oe=f.forceUpgradeOnSignin)&&void 0!==oe&&oe,this.schemaVersion=f.schemaVersion}validatePassword(f){var g,w,W,oe,Ue,at;const wt={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(f,wt),this.validatePasswordCharacterOptions(f,wt),wt.isValid&&(wt.isValid=null===(g=wt.meetsMinPasswordLength)||void 0===g||g),wt.isValid&&(wt.isValid=null===(w=wt.meetsMaxPasswordLength)||void 0===w||w),wt.isValid&&(wt.isValid=null===(W=wt.containsLowercaseLetter)||void 0===W||W),wt.isValid&&(wt.isValid=null===(oe=wt.containsUppercaseLetter)||void 0===oe||oe),wt.isValid&&(wt.isValid=null===(Ue=wt.containsNumericCharacter)||void 0===Ue||Ue),wt.isValid&&(wt.isValid=null===(at=wt.containsNonAlphanumericCharacter)||void 0===at||at),wt}validatePasswordLengthOptions(f,g){const w=this.customStrengthOptions.minPasswordLength,W=this.customStrengthOptions.maxPasswordLength;w&&(g.meetsMinPasswordLength=f.length>=w),W&&(g.meetsMaxPasswordLength=f.length<=W)}validatePasswordCharacterOptions(f,g){let w;this.updatePasswordCharacterOptionsStatuses(g,!1,!1,!1,!1);for(let W=0;W<f.length;W++)w=f.charAt(W),this.updatePasswordCharacterOptionsStatuses(g,w>="a"&&w<="z",w>="A"&&w<="Z",w>="0"&&w<="9",this.allowedNonAlphanumericCharacters.includes(w))}updatePasswordCharacterOptionsStatuses(f,g,w,W,oe){this.customStrengthOptions.containsLowercaseLetter&&(f.containsLowercaseLetter||(f.containsLowercaseLetter=g)),this.customStrengthOptions.containsUppercaseLetter&&(f.containsUppercaseLetter||(f.containsUppercaseLetter=w)),this.customStrengthOptions.containsNumericCharacter&&(f.containsNumericCharacter||(f.containsNumericCharacter=W)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(f.containsNonAlphanumericCharacter||(f.containsNonAlphanumericCharacter=oe))}}class Zs{constructor(f,g,w,W){this.app=f,this.heartbeatServiceProvider=g,this.appCheckServiceProvider=w,this.config=W,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yi(this),this.idTokenSubscription=new yi(this),this.beforeStateQueue=new Lr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=W.sdkClientVersion}_initializeWithPersistence(f,g){var w=this;return g&&(this._popupRedirectResolver=Ve(g)),this._initializationPromise=this.queue((0,p.Z)(function*(){var W,oe;if(!w._deleted&&(w.persistenceManager=yield Wt.create(w,f),!w._deleted)){if(null!==(W=w._popupRedirectResolver)&&void 0!==W&&W._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(g),w.lastNotifiedUid=(null===(oe=w.currentUser)||void 0===oe?void 0:oe.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,p.Z)(function*(){if(f._deleted)return;const g=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||g){if(f.currentUser&&g&&f.currentUser.uid===g.uid)return f._currentUser._assign(g),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(g,!0)}})()}initializeCurrentUser(f){var g=this;return(0,p.Z)(function*(){var w;const W=yield g.assertedPersistence.getCurrentUser();let oe=W,Ue=!1;if(f&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const at=null===(w=g.redirectUser)||void 0===w?void 0:w._redirectEventId,wt=oe?._redirectEventId,sn=yield g.tryRedirectSignIn(f);(!at||at===wt)&&sn?.user&&(oe=sn.user,Ue=!0)}if(!oe)return g.directlySetCurrentUser(null);if(!oe._redirectEventId){if(Ue)try{yield g.beforeStateQueue.runMiddleware(oe)}catch(at){oe=W,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(at))}return oe?g.reloadAndSetCurrentUserOrClear(oe):g.directlySetCurrentUser(null)}return ye(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===oe._redirectEventId?g.directlySetCurrentUser(oe):g.reloadAndSetCurrentUserOrClear(oe)})()}tryRedirectSignIn(f){var g=this;return(0,p.Z)(function*(){let w=null;try{w=yield g._popupRedirectResolver._completeRedirectFn(g,f,!0)}catch{yield g._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(f){var g=this;return(0,p.Z)(function*(){try{yield kn(f)}catch(w){if("auth/network-request-failed"!==w?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function Rt(){if(typeof navigator>"u")return null;const E=navigator;return E.languages&&E.languages[0]||E.language||null}()}_delete(){var f=this;return(0,p.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var g=this;return(0,p.Z)(function*(){const w=f?(0,L.m9)(f):null;return w&&ye(w.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(w&&w._clone(g))})()}_updateCurrentUser(f,g=!1){var w=this;return(0,p.Z)(function*(){if(!w._deleted)return f&&ye(w.tenantId===f.tenantId,w,"tenant-id-mismatch"),g||(yield w.beforeStateQueue.runMiddleware(f)),w.queue((0,p.Z)(function*(){yield w.directlySetCurrentUser(f),w.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,p.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var g=this;return this.queue((0,p.Z)(function*(){yield g.assertedPersistence.setPersistence(Ve(f))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(f){var g=this;return(0,p.Z)(function*(){g._getPasswordPolicyInternal()||(yield g._updatePasswordPolicy());const w=g._getPasswordPolicyInternal();return w.schemaVersion!==g.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(g._errorFactory.create("unsupported-password-policy-schema-version",{})):w.validatePassword(f)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var f=this;return(0,p.Z)(function*(){const g=yield function Pi(E){return gr.apply(this,arguments)}(f),w=new ri(g);null===f.tenantId?f._projectPasswordPolicy=w:f._tenantPasswordPolicies[f.tenantId]=w})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new L.LL("auth","Firebase",f())}onAuthStateChanged(f,g,w){return this.registerStateListener(this.authStateSubscription,f,g,w)}beforeAuthStateChanged(f,g){return this.beforeStateQueue.pushCallback(f,g)}onIdTokenChanged(f,g,w){return this.registerStateListener(this.idTokenSubscription,f,g,w)}authStateReady(){return new Promise((f,g)=>{if(this.currentUser)f();else{const w=this.onAuthStateChanged(()=>{w(),f()},g)}})}revokeAccessToken(f){var g=this;return(0,p.Z)(function*(){if(g.currentUser){const w=yield g.currentUser.getIdToken(),W={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:f,idToken:w};null!=g.tenantId&&(W.tenantId=g.tenantId),yield function Ae(E,f){return re.apply(this,arguments)}(g,W)}})()}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,g){var w=this;return(0,p.Z)(function*(){const W=yield w.getOrInitRedirectPersistenceManager(g);return null===f?W.removeCurrentUser():W.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var g=this;return(0,p.Z)(function*(){if(!g.redirectPersistenceManager){const w=f&&Ve(f)||g._popupRedirectResolver;ye(w,g,"argument-error"),g.redirectPersistenceManager=yield Wt.create(g,[Ve(w._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(f){var g=this;return(0,p.Z)(function*(){var w,W;return g._isInitialized&&(yield g.queue((0,p.Z)(function*(){}))),(null===(w=g._currentUser)||void 0===w?void 0:w._redirectEventId)===f?g._currentUser:(null===(W=g.redirectUser)||void 0===W?void 0:W._redirectEventId)===f?g.redirectUser:null})()}_persistUserIfCurrent(f){var g=this;return(0,p.Z)(function*(){if(f===g.currentUser)return g.queue((0,p.Z)(function*(){return g.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(g=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,g,w,W){if(this._deleted)return()=>{};const oe="function"==typeof g?g:g.next.bind(g);let Ue=!1;const at=this._isInitialized?Promise.resolve():this._initializationPromise;if(ye(at,this,"internal-error"),at.then(()=>{Ue||oe(this.currentUser)}),"function"==typeof g){const wt=f.addObserver(g,w,W);return()=>{Ue=!0,wt()}}{const wt=f.addObserver(g);return()=>{Ue=!0,wt()}}}directlySetCurrentUser(f){var g=this;return(0,p.Z)(function*(){g.currentUser&&g.currentUser!==f&&g._currentUser._stopProactiveRefresh(),f&&g.isProactiveRefreshEnabled&&f._startProactiveRefresh(),g.currentUser=f,f?yield g.assertedPersistence.setCurrentUser(f):yield g.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=ur(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,p.Z)(function*(){var g;const w={"X-Client-Version":f.clientVersion};f.app.options.appId&&(w["X-Firebase-gmpid"]=f.app.options.appId);const W=yield null===(g=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();W&&(w["X-Firebase-Client"]=W);const oe=yield f._getAppCheckToken();return oe&&(w["X-Firebase-AppCheck"]=oe),w})()}_getAppCheckToken(){var f=this;return(0,p.Z)(function*(){var g;const w=yield null===(g=f.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getToken();return w?.error&&function bt(E,...f){lt.logLevel<=Ce.in.WARN&&lt.warn(`Auth (${_.SDK_VERSION}): ${E}`,...f)}(`Error while retrieving App Check token: ${w.error}`),w?.token})()}}function Ln(E){return(0,L.m9)(E)}class yi{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,L.ne)(g=>this.observer=g)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ds={loadJS:()=>(0,p.Z)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ks(E){return ds.loadJS(E)}function Gr(E){return`__${E}${Math.floor(1e6*Math.random())}`}class Gi{constructor(f){this.type="recaptcha-enterprise",this.auth=Ln(f)}verify(f="verify",g=!1){var w=this;return(0,p.Z)(function*(){function oe(){return oe=(0,p.Z)(function*(at){if(!g){if(null==at.tenantId&&null!=at._agentRecaptchaConfig)return at._agentRecaptchaConfig.siteKey;if(null!=at.tenantId&&void 0!==at._tenantRecaptchaConfigs[at.tenantId])return at._tenantRecaptchaConfigs[at.tenantId].siteKey}return new Promise(function(){var wt=(0,p.Z)(function*(sn,mn){Mn(at,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(vr=>{if(void 0!==vr.recaptchaKey){const zs=new Xt(vr);return null==at.tenantId?at._agentRecaptchaConfig=zs:at._tenantRecaptchaConfigs[at.tenantId]=zs,sn(zs.siteKey)}mn(new Error("recaptcha Enterprise site key undefined"))}).catch(vr=>{mn(vr)})});return function(sn,mn){return wt.apply(this,arguments)}}())}),oe.apply(this,arguments)}function Ue(at,wt,sn){const mn=window.grecaptcha;An(mn)?mn.enterprise.ready(()=>{mn.enterprise.execute(at,{action:f}).then(vr=>{wt(vr)}).catch(()=>{wt("NO_RECAPTCHA")})}):sn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((at,wt)=>{(function W(at){return oe.apply(this,arguments)})(w.auth).then(sn=>{if(!g&&An(window.grecaptcha))Ue(sn,at,wt);else{if(typeof window>"u")return void wt(new Error("RecaptchaVerifier is only supported in browser"));let mn=function So(){return ds.recaptchaEnterpriseScript}();0!==mn.length&&(mn+=sn),ks(mn).then(()=>{Ue(sn,at,wt)}).catch(vr=>{wt(vr)})}}).catch(sn=>{wt(sn)})})})()}}function zi(E,f,g){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,p.Z)(function*(E,f,g,w=!1){const W=new Gi(E);let oe;try{oe=yield W.verify(g)}catch{oe=yield W.verify(g,!0)}const Ue=Object.assign({},f);return Object.assign(Ue,w?{captchaResp:oe}:{captchaResponse:oe}),Object.assign(Ue,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Ue,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Ue})).apply(this,arguments)}function ts(E,f,g,w){return Ci.apply(this,arguments)}function Ci(){return Ci=(0,p.Z)(function*(E,f,g,w){var W;if(null!==(W=E._getRecaptchaConfig())&&void 0!==W&&W.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const oe=yield zi(E,f,g,"getOobCode"===g);return w(E,oe)}return w(E,f).catch(function(){var oe=(0,p.Z)(function*(Ue){if("auth/missing-recaptcha-token"===Ue.code){console.log(`${g} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const at=yield zi(E,f,g,"getOobCode"===g);return w(E,at)}return Promise.reject(Ue)});return function(Ue){return oe.apply(this,arguments)}}())}),Ci.apply(this,arguments)}function ns(E,f,g){const w=Ln(E);ye(w._canInitEmulator,w,"emulator-config-failed"),ye(/^https?:\/\//.test(f),w,"invalid-emulator-scheme");const W=!!g?.disableWarnings,oe=Wi(f),{host:Ue,port:at}=function Fs(E){const f=Wi(E),g=/(\/\/)?([^?#/]+)/.exec(E.substr(f.length));if(!g)return{host:"",port:null};const w=g[2].split("@").pop()||"",W=/^(\[[^\]]+\])(:|$)/.exec(w);if(W){const oe=W[1];return{host:oe,port:ao(w.substr(oe.length+1))}}{const[oe,Ue]=w.split(":");return{host:oe,port:ao(Ue)}}}(f);w.config.emulator={url:`${oe}//${Ue}${null===at?"":`:${at}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:Ue,port:at,protocol:oe.replace(":",""),options:Object.freeze({disableWarnings:W})}),W||function Qs(){function E(){const f=document.createElement("p"),g=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",E):E())}()}function Wi(E){const f=E.indexOf(":");return f<0?"":E.substr(0,f+1)}function ao(E){if(!E)return null;const f=Number(E);return isNaN(f)?null:f}class vs{constructor(f,g){this.providerId=f,this.signInMethod=g}toJSON(){return rt("not implemented")}_getIdTokenResponse(f){return rt("not implemented")}_linkToIdToken(f,g){return rt("not implemented")}_getReauthenticationResolver(f){return rt("not implemented")}}function Vs(E,f){return qi.apply(this,arguments)}function qi(){return(qi=(0,p.Z)(function*(E,f){return Ke(E,"POST","/v1/accounts:resetPassword",Fe(E,f))})).apply(this,arguments)}function Fr(){return(Fr=(0,p.Z)(function*(E,f){return Ke(E,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function bi(E,f){return hs.apply(this,arguments)}function hs(){return(hs=(0,p.Z)(function*(E,f){return Ke(E,"POST","/v1/accounts:signUp",f)})).apply(this,arguments)}function hi(){return(hi=(0,p.Z)(function*(E,f){return Ke(E,"POST","/v1/accounts:update",Fe(E,f))})).apply(this,arguments)}function lo(E,f){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,p.Z)(function*(E,f){return Dn(E,"POST","/v1/accounts:signInWithPassword",Fe(E,f))})).apply(this,arguments)}function Ki(E,f){return fs.apply(this,arguments)}function fs(){return(fs=(0,p.Z)(function*(E,f){return Ke(E,"POST","/v1/accounts:sendOobCode",Fe(E,f))})).apply(this,arguments)}function qt(){return(qt=(0,p.Z)(function*(E,f){return Ki(E,f)})).apply(this,arguments)}function Nn(E,f){return qn.apply(this,arguments)}function qn(){return(qn=(0,p.Z)(function*(E,f){return Ki(E,f)})).apply(this,arguments)}function fi(E,f){return xs.apply(this,arguments)}function xs(){return(xs=(0,p.Z)(function*(E,f){return Ki(E,f)})).apply(this,arguments)}function Di(){return(Di=(0,p.Z)(function*(E,f){return Ki(E,f)})).apply(this,arguments)}function Ui(){return(Ui=(0,p.Z)(function*(E,f){return Dn(E,"POST","/v1/accounts:signInWithEmailLink",Fe(E,f))})).apply(this,arguments)}function Cn(){return(Cn=(0,p.Z)(function*(E,f){return Dn(E,"POST","/v1/accounts:signInWithEmailLink",Fe(E,f))})).apply(this,arguments)}class Ai extends vs{constructor(f,g,w,W=null){super("password",w),this._email=f,this._password=g,this._tenantId=W}static _fromEmailAndPassword(f,g){return new Ai(f,g,"password")}static _fromEmailAndCode(f,g,w=null){return new Ai(f,g,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(f){var g=this;return(0,p.Z)(function*(){switch(g.signInMethod){case"password":return ts(f,{returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",lo);case"emailLink":return function ar(E,f){return Ui.apply(this,arguments)}(f,{email:g._email,oobCode:g._password});default:le(f,"internal-error")}})()}_linkToIdToken(f,g){var w=this;return(0,p.Z)(function*(){switch(w.signInMethod){case"password":return ts(f,{idToken:g,returnSecureToken:!0,email:w._email,password:w._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",bi);case"emailLink":return function Is(E,f){return Cn.apply(this,arguments)}(f,{idToken:g,email:w._email,oobCode:w._password});default:le(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function rs(E,f){return Es.apply(this,arguments)}function Es(){return(Es=(0,p.Z)(function*(E,f){return Dn(E,"POST","/v1/accounts:signInWithIdp",Fe(E,f))})).apply(this,arguments)}class Jr extends vs{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const g=new Jr(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(g.idToken=f.idToken),f.accessToken&&(g.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(g.nonce=f.nonce),f.pendingToken&&(g.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(g.accessToken=f.oauthToken,g.secret=f.oauthTokenSecret):le("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:w,signInMethod:W}=g,oe=(0,B._T)(g,["providerId","signInMethod"]);if(!w||!W)return null;const Ue=new Jr(w,W);return Ue.idToken=oe.idToken||void 0,Ue.accessToken=oe.accessToken||void 0,Ue.secret=oe.secret,Ue.nonce=oe.nonce,Ue.pendingToken=oe.pendingToken||null,Ue}_getIdTokenResponse(f){return rs(f,this.buildRequest())}_linkToIdToken(f,g){const w=this.buildRequest();return w.idToken=g,rs(f,w)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,rs(f,g)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),f.postBody=(0,L.xO)(g)}return f}}function vi(){return(vi=(0,p.Z)(function*(E,f){return Ke(E,"POST","/v1/accounts:sendVerificationCode",Fe(E,f))})).apply(this,arguments)}function er(){return(er=(0,p.Z)(function*(E,f){return Dn(E,"POST","/v1/accounts:signInWithPhoneNumber",Fe(E,f))})).apply(this,arguments)}function Br(){return(Br=(0,p.Z)(function*(E,f){const g=yield Dn(E,"POST","/v1/accounts:signInWithPhoneNumber",Fe(E,f));if(g.temporaryProof)throw fn(E,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Bi={USER_NOT_FOUND:"user-not-found"};function Bn(){return(Bn=(0,p.Z)(function*(E,f){return Dn(E,"POST","/v1/accounts:signInWithPhoneNumber",Fe(E,Object.assign(Object.assign({},f),{operation:"REAUTH"})),Bi)})).apply(this,arguments)}class Ys extends vs{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,g){return new Ys({verificationId:f,verificationCode:g})}static _fromTokenResponse(f,g){return new Ys({phoneNumber:f,temporaryProof:g})}_getIdTokenResponse(f){return function uo(E,f){return er.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,g){return function xi(E,f){return Br.apply(this,arguments)}(f,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function co(E,f){return Bn.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:g,verificationId:w,verificationCode:W}=this.params;return f&&g?{temporaryProof:f,phoneNumber:g}:{sessionInfo:w,code:W}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:g,verificationCode:w,phoneNumber:W,temporaryProof:oe}=f;return w||g||W||oe?new Ys({verificationId:g,verificationCode:w,phoneNumber:W,temporaryProof:oe}):null}}class pi{constructor(f){var g,w,W,oe,Ue,at;const wt=(0,L.zd)((0,L.pd)(f)),sn=null!==(g=wt.apiKey)&&void 0!==g?g:null,mn=null!==(w=wt.oobCode)&&void 0!==w?w:null,vr=function aa(E){switch(E){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(W=wt.mode)&&void 0!==W?W:null);ye(sn&&mn&&vr,"argument-error"),this.apiKey=sn,this.operation=vr,this.code=mn,this.continueUrl=null!==(oe=wt.continueUrl)&&void 0!==oe?oe:null,this.languageCode=null!==(Ue=wt.languageCode)&&void 0!==Ue?Ue:null,this.tenantId=null!==(at=wt.tenantId)&&void 0!==at?at:null}static parseLink(f){const g=function jo(E){const f=(0,L.zd)((0,L.pd)(E)).link,g=f?(0,L.zd)((0,L.pd)(f)).deep_link_id:null,w=(0,L.zd)((0,L.pd)(E)).deep_link_id;return(w?(0,L.zd)((0,L.pd)(w)).link:null)||w||g||f||E}(f);try{return new pi(g)}catch{return null}}}let gi=(()=>{class E{constructor(){this.providerId=E.PROVIDER_ID}static credential(g,w){return Ai._fromEmailAndPassword(g,w)}static credentialWithLink(g,w){const W=pi.parseLink(w);return ye(W,"argument-error"),Ai._fromEmailAndCode(g,W.code,W.tenantId)}}return E.PROVIDER_ID="password",E.EMAIL_PASSWORD_SIGN_IN_METHOD="password",E.EMAIL_LINK_SIGN_IN_METHOD="emailLink",E})();class Si{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class xr extends Si{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Po extends xr{static credentialFromJSON(f){const g="string"==typeof f?JSON.parse(f):f;return ye("providerId"in g&&"signInMethod"in g,"argument-error"),Jr._fromParams(g)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return ye(f.idToken||f.accessToken,"argument-error"),Jr._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Po.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Po.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:g,oauthAccessToken:w,oauthTokenSecret:W,pendingToken:oe,nonce:Ue,providerId:at}=f;if(!w&&!W&&!g&&!oe||!at)return null;try{return new Po(at)._credential({idToken:g,accessToken:w,nonce:Ue,pendingToken:oe})}catch{return null}}}let Kr=(()=>{class E extends xr{constructor(){super("facebook.com")}static credential(g){return Jr._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return E.credentialFromTaggedObject(g)}static credentialFromError(g){return E.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return E.credential(g.oauthAccessToken)}catch{return null}}}return E.FACEBOOK_SIGN_IN_METHOD="facebook.com",E.PROVIDER_ID="facebook.com",E})(),Mr=(()=>{class E extends xr{constructor(){super("google.com"),this.addScope("profile")}static credential(g,w){return Jr._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:w})}static credentialFromResult(g){return E.credentialFromTaggedObject(g)}static credentialFromError(g){return E.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:w,oauthAccessToken:W}=g;if(!w&&!W)return null;try{return E.credential(w,W)}catch{return null}}}return E.GOOGLE_SIGN_IN_METHOD="google.com",E.PROVIDER_ID="google.com",E})(),la=(()=>{class E extends xr{constructor(){super("github.com")}static credential(g){return Jr._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return E.credentialFromTaggedObject(g)}static credentialFromError(g){return E.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return E.credential(g.oauthAccessToken)}catch{return null}}}return E.GITHUB_SIGN_IN_METHOD="github.com",E.PROVIDER_ID="github.com",E})();class Ro extends vs{constructor(f,g){super(f,f),this.pendingToken=g}_getIdTokenResponse(f){return rs(f,this.buildRequest())}_linkToIdToken(f,g){const w=this.buildRequest();return w.idToken=g,rs(f,w)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,rs(f,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:w,signInMethod:W,pendingToken:oe}=g;return w&&W&&oe&&w===W?new Ro(w,oe):null}static _create(f,g){return new Ro(f,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class fo extends Si{constructor(f){ye(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return fo.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return fo.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const g=Ro.fromJSON(f);return ye(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:g,providerId:w}=f;if(!g||!w)return null;try{return Ro._create(w,g)}catch{return null}}}let Mo=(()=>{class E extends xr{constructor(){super("twitter.com")}static credential(g,w){return Jr._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:w})}static credentialFromResult(g){return E.credentialFromTaggedObject(g)}static credentialFromError(g){return E.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:w,oauthTokenSecret:W}=g;if(!w||!W)return null;try{return E.credential(w,W)}catch{return null}}}return E.TWITTER_SIGN_IN_METHOD="twitter.com",E.PROVIDER_ID="twitter.com",E})();function Us(E,f){return ua.apply(this,arguments)}function ua(){return(ua=(0,p.Z)(function*(E,f){return Dn(E,"POST","/v1/accounts:signUp",Fe(E,f))})).apply(this,arguments)}class gs{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,g,w,W=!1){return(0,p.Z)(function*(){const oe=yield N._fromIdTokenResponse(f,w,W),Ue=po(w);return new gs({user:oe,providerId:Ue,_tokenResponse:w,operationType:g})})()}static _forOperation(f,g,w){return(0,p.Z)(function*(){yield f._updateTokensIfNecessary(w,!0);const W=po(w);return new gs({user:f,providerId:W,_tokenResponse:w,operationType:g})})()}}function po(E){return E.providerId?E.providerId:"phoneNumber"in E?"phone":null}function ea(E){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,p.Z)(function*(E){var f;const g=Ln(E);if(yield g._initializationPromise,null!==(f=g.currentUser)&&void 0!==f&&f.isAnonymous)return new gs({user:g.currentUser,providerId:null,operationType:"signIn"});const w=yield Us(g,{returnSecureToken:!0}),W=yield gs._fromIdTokenResponse(g,"signIn",w,!0);return yield g._updateCurrentUser(W.user),W})).apply(this,arguments)}class Aa extends L.ZR{constructor(f,g,w,W){var oe;super(g.code,g.message),this.operationType=w,this.user=W,Object.setPrototypeOf(this,Aa.prototype),this.customData={appName:f.name,tenantId:null!==(oe=f.tenantId)&&void 0!==oe?oe:void 0,_serverResponse:g.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(f,g,w,W){return new Aa(f,g,w,W)}}function Tr(E,f,g,w){return("reauthenticate"===f?g._getReauthenticationResolver(E):g._getIdTokenResponse(E)).catch(oe=>{throw"auth/multi-factor-auth-required"===oe.code?Aa._fromErrorAndOperation(E,oe,f,w):oe})}function Bs(E){return new Set(E.map(({providerId:f})=>f).filter(f=>!!f))}function ca(E,f){return z.apply(this,arguments)}function z(){return z=(0,p.Z)(function*(E,f){const g=(0,L.m9)(E);yield ie(!0,g,f);const{providerUserInfo:w}=yield function ln(E,f){return _n.apply(this,arguments)}(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[f]}),W=Bs(w||[]);return g.providerData=g.providerData.filter(oe=>W.has(oe.providerId)),W.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g}),z.apply(this,arguments)}function K(E,f){return x.apply(this,arguments)}function x(){return(x=(0,p.Z)(function*(E,f,g=!1){const w=yield Mt(E,f._linkToIdToken(E.auth,yield E.getIdToken()),g);return gs._forOperation(E,"link",w)})).apply(this,arguments)}function ie(E,f,g){return xe.apply(this,arguments)}function xe(){return(xe=(0,p.Z)(function*(E,f,g){yield kn(f);const W=!1===E?"provider-already-linked":"no-such-provider";ye(Bs(f.providerData).has(g)===E,f.auth,W)})).apply(this,arguments)}function Gt(E,f){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,p.Z)(function*(E,f,g=!1){const{auth:w}=E,W="reauthenticate";try{const oe=yield Mt(E,Tr(w,W,f,E),g);ye(oe.idToken,w,"internal-error");const Ue=Ze(oe.idToken);ye(Ue,w,"internal-error");const{sub:at}=Ue;return ye(E.uid===at,w,"user-mismatch"),gs._forOperation(E,W,oe)}catch(oe){throw"auth/user-not-found"===oe?.code&&le(w,"user-mismatch"),oe}})).apply(this,arguments)}function Oi(E,f){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,p.Z)(function*(E,f,g=!1){const w="signIn",W=yield Tr(E,w,f),oe=yield gs._fromIdTokenResponse(E,w,W);return g||(yield E._updateCurrentUser(oe.user)),oe})).apply(this,arguments)}function Ni(E,f){return go.apply(this,arguments)}function go(){return(go=(0,p.Z)(function*(E,f){return Oi(Ln(E),f)})).apply(this,arguments)}function Xr(E,f){return ki.apply(this,arguments)}function ki(){return(ki=(0,p.Z)(function*(E,f){const g=(0,L.m9)(E);return yield ie(!1,g,f.providerId),K(g,f)})).apply(this,arguments)}function Cs(E,f){return da.apply(this,arguments)}function da(){return(da=(0,p.Z)(function*(E,f){return Gt((0,L.m9)(E),f)})).apply(this,arguments)}function mo(){return(mo=(0,p.Z)(function*(E,f){return Dn(E,"POST","/v1/accounts:signInWithCustomToken",Fe(E,f))})).apply(this,arguments)}function Zi(E,f){return ha.apply(this,arguments)}function ha(){return ha=(0,p.Z)(function*(E,f){const g=Ln(E),w=yield function Hr(E,f){return mo.apply(this,arguments)}(g,{token:f,returnSecureToken:!0}),W=yield gs._fromIdTokenResponse(g,"signIn",w);return yield g._updateCurrentUser(W.user),W}),ha.apply(this,arguments)}class _o{constructor(f,g){this.factorId=f,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(f,g){return"phoneInfo"in g?Os._fromServerResponse(f,g):"totpInfo"in g?Js._fromServerResponse(f,g):le(f,"internal-error")}}class Os extends _o{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,g){return new Os(g)}}class Js extends _o{constructor(f){super("totp",f)}static _fromServerResponse(f,g){return new Js(g)}}function Xs(E,f,g){var w;ye((null===(w=g.url)||void 0===w?void 0:w.length)>0,E,"invalid-continue-uri"),ye(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,E,"invalid-dynamic-link-domain"),f.continueUrl=g.url,f.dynamicLinkDomain=g.dynamicLinkDomain,f.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(ye(g.iOS.bundleId.length>0,E,"missing-ios-bundle-id"),f.iOSBundleId=g.iOS.bundleId),g.android&&(ye(g.android.packageName.length>0,E,"missing-android-pkg-name"),f.androidInstallApp=g.android.installApp,f.androidMinimumVersionCode=g.android.minimumVersion,f.androidPackageName=g.android.packageName)}function ws(E){return xo.apply(this,arguments)}function xo(){return(xo=(0,p.Z)(function*(E){const f=Ln(E);f._getPasswordPolicyInternal()&&(yield f._updatePasswordPolicy())})).apply(this,arguments)}function ji(E,f,g){return yo.apply(this,arguments)}function yo(){return(yo=(0,p.Z)(function*(E,f,g){const w=Ln(E),W={requestType:"PASSWORD_RESET",email:f,clientType:"CLIENT_TYPE_WEB"};g&&Xs(w,W,g),yield ts(w,W,"getOobCode",Nn)})).apply(this,arguments)}function Ha(E,f,g){return eo.apply(this,arguments)}function eo(){return eo=(0,p.Z)(function*(E,f,g){yield Vs((0,L.m9)(E),{oobCode:f,newPassword:g}).catch(function(){var w=(0,p.Z)(function*(W){throw"auth/password-does-not-meet-requirements"===W.code&&ws(E),W});return function(W){return w.apply(this,arguments)}}())}),eo.apply(this,arguments)}function ta(E,f){return Hs.apply(this,arguments)}function Hs(){return Hs=(0,p.Z)(function*(E,f){yield function Wr(E,f){return hi.apply(this,arguments)}((0,L.m9)(E),{oobCode:f})}),Hs.apply(this,arguments)}function js(E,f){return to.apply(this,arguments)}function to(){return(to=(0,p.Z)(function*(E,f){const g=(0,L.m9)(E),w=yield Vs(g,{oobCode:f}),W=w.requestType;switch(ye(W,g,"internal-error"),W){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ye(w.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ye(w.mfaInfo,g,"internal-error");default:ye(w.email,g,"internal-error")}let oe=null;return w.mfaInfo&&(oe=_o._fromServerResponse(Ln(g),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:oe},operation:W}})).apply(this,arguments)}function gl(E,f){return fa.apply(this,arguments)}function fa(){return(fa=(0,p.Z)(function*(E,f){const{data:g}=yield js((0,L.m9)(E),f);return g.email})).apply(this,arguments)}function ja(E,f,g){return $o.apply(this,arguments)}function $o(){return($o=(0,p.Z)(function*(E,f,g){const w=Ln(E),Ue=yield ts(w,{returnSecureToken:!0,email:f,password:g,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Us).catch(wt=>{throw"auth/password-does-not-meet-requirements"===wt.code&&ws(E),wt}),at=yield gs._fromIdTokenResponse(w,"signIn",Ue);return yield w._updateCurrentUser(at.user),at})).apply(this,arguments)}function Oo(E,f,g){return Ni((0,L.m9)(E),gi.credential(f,g)).catch(function(){var w=(0,p.Z)(function*(W){throw"auth/password-does-not-meet-requirements"===W.code&&ws(E),W});return function(W){return w.apply(this,arguments)}}())}function jl(E,f,g){return pa.apply(this,arguments)}function pa(){return(pa=(0,p.Z)(function*(E,f,g){const w=Ln(E),W={requestType:"EMAIL_SIGNIN",email:f,clientType:"CLIENT_TYPE_WEB"};(function oe(Ue,at){ye(at.handleCodeInApp,w,"argument-error"),at&&Xs(w,Ue,at)})(W,g),yield ts(w,W,"getOobCode",fi)})).apply(this,arguments)}function Sa(E,f){const g=pi.parseLink(f);return"EMAIL_SIGNIN"===g?.operation}function ml(E,f,g){return vo.apply(this,arguments)}function vo(){return(vo=(0,p.Z)(function*(E,f,g){const w=(0,L.m9)(E),W=gi.credentialWithLink(f,g||Vt());return ye(W._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),Ni(w,W)})).apply(this,arguments)}function Go(){return(Go=(0,p.Z)(function*(E,f){return Ke(E,"POST","/v1/accounts:createAuthUri",Fe(E,f))})).apply(this,arguments)}function $a(E,f){return b.apply(this,arguments)}function b(){return b=(0,p.Z)(function*(E,f){const w={identifier:f,continueUri:It()?Vt():"http://localhost"},{signinMethods:W}=yield function Qi(E,f){return Go.apply(this,arguments)}((0,L.m9)(E),w);return W||[]}),b.apply(this,arguments)}function Y(E,f){return O.apply(this,arguments)}function O(){return O=(0,p.Z)(function*(E,f){const g=(0,L.m9)(E),W={requestType:"VERIFY_EMAIL",idToken:yield E.getIdToken()};f&&Xs(g.auth,W,f);const{email:oe}=yield function Ur(E,f){return qt.apply(this,arguments)}(g.auth,W);oe!==E.email&&(yield E.reload())}),O.apply(this,arguments)}function q(E,f,g){return pe.apply(this,arguments)}function pe(){return pe=(0,p.Z)(function*(E,f,g){const w=(0,L.m9)(E),oe={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield E.getIdToken(),newEmail:f};g&&Xs(w.auth,oe,g);const{email:Ue}=yield function qr(E,f){return Di.apply(this,arguments)}(w.auth,oe);Ue!==E.email&&(yield E.reload())}),pe.apply(this,arguments)}function gt(){return(gt=(0,p.Z)(function*(E,f){return Ke(E,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function en(E,f){return cr.apply(this,arguments)}function cr(){return cr=(0,p.Z)(function*(E,{displayName:f,photoURL:g}){if(void 0===f&&void 0===g)return;const w=(0,L.m9)(E),oe={idToken:yield w.getIdToken(),displayName:f,photoUrl:g,returnSecureToken:!0},Ue=yield Mt(w,function st(E,f){return gt.apply(this,arguments)}(w.auth,oe));w.displayName=Ue.displayName||null,w.photoURL=Ue.photoUrl||null;const at=w.providerData.find(({providerId:wt})=>"password"===wt);at&&(at.displayName=w.displayName,at.photoURL=w.photoURL),yield w._updateTokensIfNecessary(Ue)}),cr.apply(this,arguments)}function dr(E,f){return $n((0,L.m9)(E),f,null)}function nr(E,f){return $n((0,L.m9)(E),null,f)}function $n(E,f,g){return Zr.apply(this,arguments)}function Zr(){return Zr=(0,p.Z)(function*(E,f,g){const{auth:w}=E,oe={idToken:yield E.getIdToken(),returnSecureToken:!0};f&&(oe.email=f),g&&(oe.password=g);const Ue=yield Mt(E,function Wn(E,f){return Fr.apply(this,arguments)}(w,oe));yield E._updateTokensIfNecessary(Ue,!0)}),Zr.apply(this,arguments)}class rr{constructor(f,g,w={}){this.isNewUser=f,this.providerId=g,this.profile=w}}class Or extends rr{constructor(f,g,w,W){super(f,g,w),this.username=W}}class ss extends rr{constructor(f,g){super(f,"facebook.com",g)}}class no extends Or{constructor(f,g){super(f,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class Li extends rr{constructor(f,g){super(f,"google.com",g)}}class $s extends Or{constructor(f,g,w){super(f,"twitter.com",g,w)}}function Fi(E){const{user:f,_tokenResponse:g}=E;return f.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function hr(E){var f,g;if(!E)return null;const{providerId:w}=E,W=E.rawUserInfo?JSON.parse(E.rawUserInfo):{},oe=E.isNewUser||"identitytoolkit#SignupNewUserResponse"===E.kind;if(!w&&E?.idToken){const Ue=null===(g=null===(f=Ze(E.idToken))||void 0===f?void 0:f.firebase)||void 0===g?void 0:g.sign_in_provider;if(Ue)return new rr(oe,"anonymous"!==Ue&&"custom"!==Ue?Ue:null)}if(!w)return null;switch(w){case"facebook.com":return new ss(oe,W);case"github.com":return new no(oe,W);case"google.com":return new Li(oe,W);case"twitter.com":return new $s(oe,W,E.screenName||null);case"custom":case"anonymous":return new rr(oe,null);default:return new rr(oe,w,W)}}(g)}class Tt{constructor(f,g,w){this.type=f,this.credential=g,this.user=w}static _fromIdtoken(f,g){return new Tt("enroll",f,g)}static _fromMfaPendingCredential(f){return new Tt("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var g,w;if(f?.multiFactorSession){if(null!==(g=f.multiFactorSession)&&void 0!==g&&g.pendingCredential)return Tt._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(w=f.multiFactorSession)&&void 0!==w&&w.idToken)return Tt._fromIdtoken(f.multiFactorSession.idToken)}return null}}class Yt{constructor(f,g,w){this.session=f,this.hints=g,this.signInResolver=w}static _fromError(f,g){const w=Ln(f),W=g.customData._serverResponse,oe=(W.mfaInfo||[]).map(at=>_o._fromServerResponse(w,at));ye(W.mfaPendingCredential,w,"internal-error");const Ue=Tt._fromMfaPendingCredential(W.mfaPendingCredential);return new Yt(Ue,oe,function(){var at=(0,p.Z)(function*(wt){const sn=yield wt._process(w,Ue);delete W.mfaInfo,delete W.mfaPendingCredential;const mn=Object.assign(Object.assign({},W),{idToken:sn.idToken,refreshToken:sn.refreshToken});switch(g.operationType){case"signIn":const vr=yield gs._fromIdTokenResponse(w,g.operationType,mn);return yield w._updateCurrentUser(vr.user),vr;case"reauthenticate":return ye(g.user,w,"internal-error"),gs._forOperation(g.user,g.operationType,mn);default:le(w,"internal-error")}});return function(wt){return at.apply(this,arguments)}}())}resolveSignIn(f){var g=this;return(0,p.Z)(function*(){return g.signInResolver(f)})()}}function Gn(E,f){var g;const w=(0,L.m9)(E),W=f;return ye(f.customData.operationType,w,"argument-error"),ye(null===(g=W.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,w,"argument-error"),Yt._fromError(w,W)}class mi{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(w=>_o._fromServerResponse(f.auth,w)))})}static _fromUser(f){return new mi(f)}getSession(){var f=this;return(0,p.Z)(function*(){return Tt._fromIdtoken(yield f.user.getIdToken(),f.user)})()}enroll(f,g){var w=this;return(0,p.Z)(function*(){const W=f,oe=yield w.getSession(),Ue=yield Mt(w.user,W._process(w.user.auth,oe,g));return yield w.user._updateTokensIfNecessary(Ue),w.user.reload()})()}unenroll(f){var g=this;return(0,p.Z)(function*(){const w="string"==typeof f?f:f.uid,W=yield g.user.getIdToken();try{const oe=yield Mt(g.user,function Qt(E,f){return Ke(E,"POST","/v2/accounts/mfaEnrollment:withdraw",Fe(E,f))}(g.user.auth,{idToken:W,mfaEnrollmentId:w}));g.enrolledFactors=g.enrolledFactors.filter(({uid:Ue})=>Ue!==w),yield g.user._updateTokensIfNecessary(oe),yield g.user.reload()}catch(oe){throw oe}})()}}const Bt=new WeakMap;function Ht(E){const f=(0,L.m9)(E);return Bt.has(f)||Bt.set(f,mi._fromUser(f)),Bt.get(f)}const No="__sak";class Lt{constructor(f,g){this.storageRetriever=f,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(No,"1"),this.storage.removeItem(No),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,g){return this.storage.setItem(f,JSON.stringify(g)),Promise.resolve()}_get(f){const g=this.storage.getItem(f);return Promise.resolve(g?JSON.parse(g):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const Pa=(()=>{class E extends Lt{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,w)=>this.onStorageEvent(g,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function et(){const E=(0,L.z$)();return Me(E)||Qe(E)}()&&function Rn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=pr(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const w of Object.keys(this.listeners)){const W=this.storage.getItem(w),oe=this.localCache[w];W!==oe&&g(w,oe,W)}}onStorageEvent(g,w=!1){if(!g.key)return void this.forAllChangedKeys((at,wt,sn)=>{this.notifyListeners(at,sn)});const W=g.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const at=this.storage.getItem(W);if(g.newValue!==at)null!==g.newValue?this.storage.setItem(W,g.newValue):this.storage.removeItem(W);else if(this.localCache[W]===g.newValue&&!w)return}const oe=()=>{const at=this.storage.getItem(W);!w&&this.localCache[W]===at||this.notifyListeners(W,at)},Ue=this.storage.getItem(W);!function gn(){return(0,L.w1)()&&10===document.documentMode}()||Ue===g.newValue||g.newValue===g.oldValue?oe():setTimeout(oe,10)}notifyListeners(g,w){this.localCache[g]=w;const W=this.listeners[g];if(W)for(const oe of Array.from(W))oe(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,w,W)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:w,newValue:W}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,w){var W=()=>super._set,oe=this;return(0,p.Z)(function*(){yield W().call(oe,g,w),oe.localCache[g]=JSON.stringify(w)})()}_get(g){var w=()=>super._get,W=this;return(0,p.Z)(function*(){const oe=yield w().call(W,g);return W.localCache[g]=JSON.stringify(oe),oe})()}_remove(g){var w=()=>super._remove,W=this;return(0,p.Z)(function*(){yield w().call(W,g),delete W.localCache[g]})()}}return E.type="LOCAL",E})(),ko=(()=>{class E extends Lt{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,w){}_removeListener(g,w){}}return E.type="SESSION",E})();let fr=(()=>{class E{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const w=this.receivers.find(oe=>oe.isListeningto(g));if(w)return w;const W=new E(g);return this.receivers.push(W),W}isListeningto(g){return this.eventTarget===g}handleEvent(g){var w=this;return(0,p.Z)(function*(){const W=g,{eventId:oe,eventType:Ue,data:at}=W.data,wt=w.handlersMap[Ue];if(!wt?.size)return;W.ports[0].postMessage({status:"ack",eventId:oe,eventType:Ue});const sn=Array.from(wt).map(function(){var vr=(0,p.Z)(function*(zs){return zs(W.origin,at)});return function(zs){return vr.apply(this,arguments)}}()),mn=yield function Et(E){return Promise.all(E.map(function(){var f=(0,p.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(w){return{fulfilled:!1,reason:w}}});return function(g){return f.apply(this,arguments)}}()))}(sn);W.ports[0].postMessage({status:"done",eventId:oe,eventType:Ue,response:mn})})()}_subscribe(g,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(w)}_unsubscribe(g,w){this.handlersMap[g]&&w&&this.handlersMap[g].delete(w),(!w||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return E.receivers=[],E})();function nn(E="",f=10){let g="";for(let w=0;w<f;w++)g+=Math.floor(10*Math.random());return E+g}class bn{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,g,w=50){var W=this;return(0,p.Z)(function*(){const oe=typeof MessageChannel<"u"?new MessageChannel:null;if(!oe)throw new Error("connection_unavailable");let Ue,at;return new Promise((wt,sn)=>{const mn=nn("",20);oe.port1.start();const vr=setTimeout(()=>{sn(new Error("unsupported_event"))},w);at={messageChannel:oe,onMessage(zs){const Sl=zs;if(Sl.data.eventId===mn)switch(Sl.data.status){case"ack":clearTimeout(vr),Ue=setTimeout(()=>{sn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ue),wt(Sl.data.response);break;default:clearTimeout(vr),clearTimeout(Ue),sn(new Error("invalid_response"))}}},W.handlers.add(at),oe.port1.addEventListener("message",at.onMessage),W.target.postMessage({eventType:f,eventId:mn,data:g},[oe.port2])}).finally(()=>{at&&W.removeMessageHandler(at)})})()}}function Kt(){return window}function ti(){return typeof Kt().WorkerGlobalScope<"u"&&"function"==typeof Kt().importScripts}function ui(){return(ui=(0,p.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const hn="firebaseLocalStorageDb",rn="firebaseLocalStorage",as="fbase_key";class Qn{constructor(f){this.request=f}toPromise(){return new Promise((f,g)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Ft(E,f){return E.transaction([rn],f?"readwrite":"readonly").objectStore(rn)}function _l(){const E=indexedDB.open(hn,1);return new Promise((f,g)=>{E.addEventListener("error",()=>{g(E.error)}),E.addEventListener("upgradeneeded",()=>{const w=E.result;try{w.createObjectStore(rn,{keyPath:as})}catch(W){g(W)}}),E.addEventListener("success",(0,p.Z)(function*(){const w=E.result;w.objectStoreNames.contains(rn)?f(w):(w.close(),yield function Yi(){const E=indexedDB.deleteDatabase(hn);return new Qn(E).toPromise()}(),f(yield _l()))}))})}function ma(E,f,g){return yc.apply(this,arguments)}function yc(){return(yc=(0,p.Z)(function*(E,f,g){const w=Ft(E,!0).put({[as]:f,value:g});return new Qn(w).toPromise()})).apply(this,arguments)}function $l(){return($l=(0,p.Z)(function*(E,f){const g=Ft(E,!1).get(f),w=yield new Qn(g).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function _a(E,f){const g=Ft(E,!0).delete(f);return new Qn(g).toPromise()}const I=(()=>{class E{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,p.Z)(function*(){return g.db||(g.db=yield _l()),g.db})()}_withRetries(g){var w=this;return(0,p.Z)(function*(){let W=0;for(;;)try{const oe=yield w._openDb();return yield g(oe)}catch(oe){if(W++>3)throw oe;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,p.Z)(function*(){return ti()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,p.Z)(function*(){g.receiver=fr._getInstance(function Vn(){return ti()?self:null}()),g.receiver._subscribe("keyChanged",function(){var w=(0,p.Z)(function*(W,oe){return{keyProcessed:(yield g._poll()).includes(oe.key)}});return function(W,oe){return w.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var w=(0,p.Z)(function*(W,oe){return["keyChanged"]});return function(W,oe){return w.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,p.Z)(function*(){var w,W;if(g.activeServiceWorker=yield function un(){return ui.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new bn(g.activeServiceWorker);const oe=yield g.sender._send("ping",{},800);oe&&null!==(w=oe[0])&&void 0!==w&&w.fulfilled&&null!==(W=oe[0])&&void 0!==W&&W.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var w=this;return(0,p.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function ro(){var E;return(null===(E=navigator?.serviceWorker)||void 0===E?void 0:E.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:g},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,p.Z)(function*(){try{if(!indexedDB)return!1;const g=yield _l();return yield ma(g,No,"1"),yield _a(g,No),!0}catch{}return!1})()}_withPendingWrite(g){var w=this;return(0,p.Z)(function*(){w.pendingWrites++;try{yield g()}finally{w.pendingWrites--}})()}_set(g,w){var W=this;return(0,p.Z)(function*(){return W._withPendingWrite((0,p.Z)(function*(){return yield W._withRetries(oe=>ma(oe,g,w)),W.localCache[g]=w,W.notifyServiceWorker(g)}))})()}_get(g){var w=this;return(0,p.Z)(function*(){const W=yield w._withRetries(oe=>function za(E,f){return $l.apply(this,arguments)}(oe,g));return w.localCache[g]=W,W})()}_remove(g){var w=this;return(0,p.Z)(function*(){return w._withPendingWrite((0,p.Z)(function*(){return yield w._withRetries(W=>_a(W,g)),delete w.localCache[g],w.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,p.Z)(function*(){const w=yield g._withRetries(Ue=>{const at=Ft(Ue,!1).getAll();return new Qn(at).toPromise()});if(!w)return[];if(0!==g.pendingWrites)return[];const W=[],oe=new Set;if(0!==w.length)for(const{fbase_key:Ue,value:at}of w)oe.add(Ue),JSON.stringify(g.localCache[Ue])!==JSON.stringify(at)&&(g.notifyListeners(Ue,at),W.push(Ue));for(const Ue of Object.keys(g.localCache))g.localCache[Ue]&&!oe.has(Ue)&&(g.notifyListeners(Ue,null),W.push(Ue));return W})()}notifyListeners(g,w){this.localCache[g]=w;const W=this.listeners[g];if(W)for(const oe of Array.from(W))oe(w)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,p.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return E.type="LOCAL",E})(),Je=1e12;class $t{constructor(f){this.auth=f,this.counter=Je,this._widgets=new Map}render(f,g){const w=this.counter;return this._widgets.set(w,new Yn(f,this.auth.name,g||{})),this.counter++,w}reset(f){var g;const w=f||Je;null===(g=this._widgets.get(w))||void 0===g||g.delete(),this._widgets.delete(w)}getResponse(f){var g;return(null===(g=this._widgets.get(f||Je))||void 0===g?void 0:g.getResponse())||""}execute(f){var g=this;return(0,p.Z)(function*(){var w;return null===(w=g._widgets.get(f||Je))||void 0===w||w.execute(),""})()}}class Yn{constructor(f,g,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const W="string"==typeof f?document.getElementById(f):f;ye(W,"argument-error",{appName:g}),this.container=W,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Kn(E){const f=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<E;w++)f.push(g.charAt(Math.floor(62*Math.random())));return f.join("")}(50);const{callback:f,"expired-callback":g}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Un=Gr("rcb"),Nr=new Pt(3e4,6e4);class Eo{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=Kt().grecaptcha)||void 0===f||!f.render)}load(f,g=""){return ye(function Wa(E){return E.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(E)}(g),f,"argument-error"),this.shouldResolveImmediately(g)&&jn(Kt().grecaptcha)?Promise.resolve(Kt().grecaptcha):new Promise((w,W)=>{const oe=Kt().setTimeout(()=>{W(Oe(f,"network-request-failed"))},Nr.get());Kt()[Un]=()=>{Kt().clearTimeout(oe),delete Kt()[Un];const at=Kt().grecaptcha;if(!at||!jn(at))return void W(Oe(f,"internal-error"));const wt=at.render;at.render=(sn,mn)=>{const vr=wt(sn,mn);return this.counter++,vr},this.hostLanguage=g,w(at)},ks(`${function Ls(){return ds.recaptchaV2Script}()}?${(0,L.xO)({onload:Un,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(oe),W(Oe(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var g;return!(null===(g=Kt().grecaptcha)||void 0===g||!g.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class yl{load(f){return(0,p.Z)(function*(){return new $t(f)})()}clearedOneInstance(){}}const Ra="recaptcha",Ic={theme:"light",type:"image"};class To{constructor(f,g,w=Object.assign({},Ic)){this.parameters=w,this.type=Ra,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ln(f),this.isInvisible="invisible"===this.parameters.size,ye(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const W="string"==typeof g?document.getElementById(g):g;ye(W,this.auth,"argument-error"),this.container=W,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new yl:new Eo,this.validateStartingState()}verify(){var f=this;return(0,p.Z)(function*(){f.assertNotDestroyed();const g=yield f.render(),w=f.getAssertedRecaptcha();return w.getResponse(g)||new Promise(oe=>{const Ue=at=>{at&&(f.tokenChangeListeners.delete(Ue),oe(at))};f.tokenChangeListeners.add(Ue),f.isInvisible&&w.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){ye(!this.parameters.sitekey,this.auth,"argument-error"),ye(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ye(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return g=>{if(this.tokenChangeListeners.forEach(w=>w(g)),"function"==typeof f)f(g);else if("string"==typeof f){const w=Kt()[f];"function"==typeof w&&w(g)}}}assertNotDestroyed(){ye(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,p.Z)(function*(){if(yield f.init(),!f.widgetId){let g=f.container;if(!f.isInvisible){const w=document.createElement("div");g.appendChild(w),g=w}f.widgetId=f.getAssertedRecaptcha().render(g,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,p.Z)(function*(){ye(It()&&!ti(),f.auth,"internal-error"),yield function qa(){let E=null;return new Promise(f=>{"complete"!==document.readyState?(E=()=>f(),window.addEventListener("load",E)):f()}).catch(f=>{throw E&&window.removeEventListener("load",E),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const g=yield function vn(E){return _r.apply(this,arguments)}(f.auth);ye(g,f.auth,"internal-error"),f.parameters.sitekey=g})()}getAssertedRecaptcha(){return ye(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Co{constructor(f,g){this.verificationId=f,this.onConfirmation=g}confirm(f){const g=Ys._fromVerification(this.verificationId,f);return this.onConfirmation(g)}}function jh(E,f,g){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,p.Z)(function*(E,f,g){const w=Ln(E),W=yield Ka(w,f,(0,L.m9)(g));return new Co(W,oe=>Ni(w,oe))})).apply(this,arguments)}function Ec(E,f,g){return vl.apply(this,arguments)}function vl(){return(vl=(0,p.Z)(function*(E,f,g){const w=(0,L.m9)(E);yield ie(!1,w,"phone");const W=yield Ka(w.auth,f,(0,L.m9)(g));return new Co(W,oe=>Xr(w,oe))})).apply(this,arguments)}function zo(E,f,g){return Au.apply(this,arguments)}function Au(){return(Au=(0,p.Z)(function*(E,f,g){const w=(0,L.m9)(E),W=yield Ka(w.auth,f,(0,L.m9)(g));return new Co(W,oe=>Cs(w,oe))})).apply(this,arguments)}function Ka(E,f,g){return Tc.apply(this,arguments)}function Tc(){return Tc=(0,p.Z)(function*(E,f,g){var w;const W=yield g.verify();try{let oe;if(ye("string"==typeof W,E,"argument-error"),ye(g.type===Ra,E,"argument-error"),oe="string"==typeof f?{phoneNumber:f}:f,"session"in oe){const Ue=oe.session;if("phoneNumber"in oe)return ye("enroll"===Ue.type,E,"internal-error"),(yield function xn(E,f){return Ke(E,"POST","/v2/accounts/mfaEnrollment:start",Fe(E,f))}(E,{idToken:Ue.credential,phoneEnrollmentInfo:{phoneNumber:oe.phoneNumber,recaptchaToken:W}})).phoneSessionInfo.sessionInfo;{ye("signin"===Ue.type,E,"internal-error");const at=(null===(w=oe.multiFactorHint)||void 0===w?void 0:w.uid)||oe.multiFactorUid;return ye(at,E,"missing-multi-factor-info"),(yield function P(E,f){return Ke(E,"POST","/v2/accounts/mfaSignIn:start",Fe(E,f))}(E,{mfaPendingCredential:Ue.credential,mfaEnrollmentId:at,phoneSignInInfo:{recaptchaToken:W}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ue}=yield function is(E,f){return vi.apply(this,arguments)}(E,{phoneNumber:oe.phoneNumber,recaptchaToken:W});return Ue}}finally{g._reset()}}),Tc.apply(this,arguments)}function Gl(E,f){return Il.apply(this,arguments)}function Il(){return(Il=(0,p.Z)(function*(E,f){yield K((0,L.m9)(E),f)})).apply(this,arguments)}let wp=(()=>{class E{constructor(g){this.providerId=E.PROVIDER_ID,this.auth=Ln(g)}verifyPhoneNumber(g,w){return Ka(this.auth,g,(0,L.m9)(w))}static credential(g,w){return Ys._fromVerification(g,w)}static credentialFromResult(g){return E.credentialFromTaggedObject(g)}static credentialFromError(g){return E.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:w,temporaryProof:W}=g;return w&&W?Ys._fromTokenResponse(w,W):null}}return E.PROVIDER_ID="phone",E.PHONE_SIGN_IN_METHOD="phone",E})();function zl(E,f){return f?Ve(f):(ye(E._popupRedirectResolver,E,"argument-error"),E._popupRedirectResolver)}class Su extends vs{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return rs(f,this._buildIdpRequest())}_linkToIdToken(f,g){return rs(f,this._buildIdpRequest(g))}_getReauthenticationResolver(f){return rs(f,this._buildIdpRequest())}_buildIdpRequest(f){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(g.idToken=f),g}}function t_(E){return Oi(E.auth,new Su(E),E.bypassAuthState)}function bp(E){const{auth:f,user:g}=E;return ye(g,f,"internal-error"),Gt(g,new Su(E),E.bypassAuthState)}function Dp(E){return $h.apply(this,arguments)}function $h(){return($h=(0,p.Z)(function*(E){const{auth:f,user:g}=E;return ye(g,f,"internal-error"),K(g,new Su(E),E.bypassAuthState)})).apply(this,arguments)}class Ap{constructor(f,g,w,W,oe=!1){this.auth=f,this.resolver=w,this.user=W,this.bypassAuthState=oe,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var f=this;return new Promise(function(){var g=(0,p.Z)(function*(w,W){f.pendingPromise={resolve:w,reject:W};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(oe){f.reject(oe)}});return function(w,W){return g.apply(this,arguments)}}())}onAuthEvent(f){var g=this;return(0,p.Z)(function*(){const{urlResponse:w,sessionId:W,postBody:oe,tenantId:Ue,error:at,type:wt}=f;if(at)return void g.reject(at);const sn={auth:g.auth,requestUri:w,sessionId:W,tenantId:Ue||void 0,postBody:oe||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(wt)(sn))}catch(mn){g.reject(mn)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return t_;case"linkViaPopup":case"linkViaRedirect":return Dp;case"reauthViaPopup":case"reauthViaRedirect":return bp;default:le(this.auth,"internal-error")}}resolve(f){Ie(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){Ie(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const vd=new Pt(2e3,1e4);function Pu(E,f,g){return Id.apply(this,arguments)}function Id(){return(Id=(0,p.Z)(function*(E,f,g){const w=Ln(E);ge(E,f,Si);const W=zl(w,g);return new Ou(w,"signInViaPopup",f,W).executeNotNull()})).apply(this,arguments)}function Ru(E,f,g){return Mu.apply(this,arguments)}function Mu(){return(Mu=(0,p.Z)(function*(E,f,g){const w=(0,L.m9)(E);ge(w.auth,f,Si);const W=zl(w.auth,g);return new Ou(w.auth,"reauthViaPopup",f,W,w).executeNotNull()})).apply(this,arguments)}function xu(E,f,g){return Gh.apply(this,arguments)}function Gh(){return(Gh=(0,p.Z)(function*(E,f,g){const w=(0,L.m9)(E);ge(w.auth,f,Si);const W=zl(w.auth,g);return new Ou(w.auth,"linkViaPopup",f,W,w).executeNotNull()})).apply(this,arguments)}let Ou=(()=>{class E extends Ap{constructor(g,w,W,oe,Ue){super(g,w,oe,Ue),this.provider=W,this.authWindow=null,this.pollId=null,E.currentPopupAction&&E.currentPopupAction.cancel(),E.currentPopupAction=this}executeNotNull(){var g=this;return(0,p.Z)(function*(){const w=yield g.execute();return ye(w,g.auth,"internal-error"),w})()}onExecution(){var g=this;return(0,p.Z)(function*(){Ie(1===g.filter.length,"Popup operations only handle one event");const w=nn();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],w),g.authWindow.associatedEvent=w,g.resolver._originValidation(g.auth).catch(W=>{g.reject(W)}),g.resolver._isIframeWebStorageSupported(g.auth,W=>{W||g.reject(Oe(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(Oe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,E.currentPopupAction=null}pollUserCancellation(){const g=()=>{var w,W;this.pollId=null!==(W=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==W&&W.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Oe(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(g,vd.get())};g()}}return E.currentPopupAction=null,E})();const Ed="pendingRedirect",Nu=new Map;class Wo extends Ap{constructor(f,g,w=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,w),this.eventId=null}execute(){var f=()=>super.execute,g=this;return(0,p.Z)(function*(){let w=Nu.get(g.auth._key());if(!w){try{const oe=(yield function bs(E,f){return El.apply(this,arguments)}(g.resolver,g.auth))?yield f().call(g):null;w=()=>Promise.resolve(oe)}catch(W){w=()=>Promise.reject(W)}Nu.set(g.auth._key(),w)}return g.bypassAuthState||Nu.set(g.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(f){var g=()=>super.onAuthEvent,w=this;return(0,p.Z)(function*(){if("signInViaRedirect"===f.type)return g().call(w,f);if("unknown"!==f.type){if(f.eventId){const W=yield w.auth._redirectUserForId(f.eventId);if(W)return w.user=W,g().call(w,f);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,p.Z)(function*(){})()}cleanUp(){}}function El(){return(El=(0,p.Z)(function*(E,f){const g=Qr(f),w=Ds(E);if(!(yield w._isAvailable()))return!1;const W="true"===(yield w._get(g));return yield w._remove(g),W})).apply(this,arguments)}function qo(E,f){return ku.apply(this,arguments)}function ku(){return(ku=(0,p.Z)(function*(E,f){return Ds(E)._set(Qr(f),"true")})).apply(this,arguments)}function ni(){Nu.clear()}function Tl(E,f){Nu.set(E._key(),f)}function Ds(E){return Ve(E._redirectPersistence)}function Qr(E){return jt(Ed,E.config.apiKey,E.name)}function Td(E,f,g){return function Cl(E,f,g){return Ns.apply(this,arguments)}(E,f,g)}function Ns(){return(Ns=(0,p.Z)(function*(E,f,g){const w=Ln(E);ge(E,f,Si),yield w._initializationPromise;const W=zl(w,g);return yield qo(W,w),W._openRedirect(w,f,"signInViaRedirect")})).apply(this,arguments)}function zh(E,f,g){return function Cc(E,f,g){return ci.apply(this,arguments)}(E,f,g)}function ci(){return(ci=(0,p.Z)(function*(E,f,g){const w=(0,L.m9)(E);ge(w.auth,f,Si),yield w.auth._initializationPromise;const W=zl(w.auth,g);yield qo(W,w.auth);const oe=yield Cd(w);return W._openRedirect(w.auth,f,"reauthViaRedirect",oe)})).apply(this,arguments)}function Sp(E,f,g){return function Ma(E,f,g){return Ii.apply(this,arguments)}(E,f,g)}function Ii(){return(Ii=(0,p.Z)(function*(E,f,g){const w=(0,L.m9)(E);ge(w.auth,f,Si),yield w.auth._initializationPromise;const W=zl(w.auth,g);yield ie(!1,w,f.providerId),yield qo(W,w.auth);const oe=yield Cd(w);return W._openRedirect(w.auth,f,"linkViaRedirect",oe)})).apply(this,arguments)}function Lo(E,f){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,p.Z)(function*(E,f){return yield Ln(E)._initializationPromise,ls(E,f,!1)})).apply(this,arguments)}function ls(E,f){return wl.apply(this,arguments)}function wl(){return(wl=(0,p.Z)(function*(E,f,g=!1){const w=Ln(E),W=zl(w,f),Ue=yield new Wo(w,W,g).execute();return Ue&&!g&&(delete Ue.user._redirectEventId,yield w._persistUserIfCurrent(Ue.user),yield w._setRedirectUser(null,f)),Ue})).apply(this,arguments)}function Cd(E){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,p.Z)(function*(E){const f=nn(`${E.uid}:::`);return E._redirectEventId=f,yield E.auth._setRedirectUser(E),yield E.auth._persistUserIfCurrent(E),f})).apply(this,arguments)}class ql{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let g=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(f,w)&&(g=!0,this.sendToConsumer(f,w),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function ya(E){switch(E.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Gs(E);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=f,g=!0)),g}sendToConsumer(f,g){var w;if(f.error&&!Gs(f)){const W=(null===(w=f.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";g.onError(Oe(this.auth,W))}else g.onAuthEvent(f)}isEventForConsumer(f,g){const w=null===g.eventId||!!f.eventId&&f.eventId===g.eventId;return g.filter.includes(f.type)&&w}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(na(f))}saveEventToCache(f){this.cachedEventUids.add(na(f)),this.lastProcessedEventTime=Date.now()}}function na(E){return[E.type,E.eventId,E.sessionId,E.tenantId].filter(f=>f).join("-")}function Gs({type:E,error:f}){return"unknown"===E&&"auth/no-auth-event"===f?.code}function wo(E){return Lu.apply(this,arguments)}function Lu(){return(Lu=(0,p.Z)(function*(E,f={}){return Ke(E,"GET","/v1/projects",f)})).apply(this,arguments)}const Qa=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ya=/^https?/;function xa(){return(xa=(0,p.Z)(function*(E){if(E.config.emulator)return;const{authorizedDomains:f}=yield wo(E);for(const g of f)try{if(Wh(g))return}catch{}le(E,"unauthorized-domain")})).apply(this,arguments)}function Wh(E){const f=Vt(),{protocol:g,hostname:w}=new URL(f);if(E.startsWith("chrome-extension://")){const Ue=new URL(E);return""===Ue.hostname&&""===w?"chrome-extension:"===g&&E.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===g&&Ue.hostname===w}if(!Ya.test(g))return!1;if(Qa.test(E))return w===E;const W=E.replace(/\./g,"\\.");return new RegExp("^(.+\\."+W+"|"+W+")$","i").test(w)}const wc=new Pt(3e4,6e4);function qh(){const E=Kt().___jsl;if(E?.H)for(const f of Object.keys(E.H))if(E.H[f].r=E.H[f].r||[],E.H[f].L=E.H[f].L||[],E.H[f].r=[...E.H[f].L],E.CP)for(let g=0;g<E.CP.length;g++)E.CP[g]=null}let Kl=null;const bl=new Pt(5e3,15e3),Rp="__/auth/iframe",Mp="emulator/auth/iframe",us={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Kh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Xi(E){const f=E.config;ye(f.authDomain,E,"auth-domain-config-required");const g=f.emulator?kt(f,Mp):`https://${E.config.authDomain}/${Rp}`,w={apiKey:f.apiKey,appName:E.name,v:_.SDK_VERSION},W=Kh.get(E.config.apiHost);W&&(w.eid=W);const oe=E._getFrameworks();return oe.length&&(w.fw=oe.join(",")),`${g}?${(0,L.xO)(w).slice(1)}`}function mr(){return mr=(0,p.Z)(function*(E){const f=yield function bc(E){return Kl=Kl||function Pp(E){return new Promise((f,g)=>{var w,W,oe;function Ue(){qh(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{qh(),g(Oe(E,"network-request-failed"))},timeout:wc.get()})}if(null!==(W=null===(w=Kt().gapi)||void 0===w?void 0:w.iframes)&&void 0!==W&&W.Iframe)f(gapi.iframes.getContext());else{if(null===(oe=Kt().gapi)||void 0===oe||!oe.load){const at=Gr("iframefcb");return Kt()[at]=()=>{gapi.load?Ue():g(Oe(E,"network-request-failed"))},ks(`${function ys(){return ds.gapiScript}()}?onload=${at}`).catch(wt=>g(wt))}Ue()}}).catch(f=>{throw Kl=null,f})}(E),Kl}(E),g=Kt().gapi;return ye(g,E,"internal-error"),f.open({where:document.body,url:Xi(E),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:us,dontclear:!0},w=>new Promise(function(){var W=(0,p.Z)(function*(oe,Ue){yield w.restyle({setHideOnLeave:!1});const at=Oe(E,"network-request-failed"),wt=Kt().setTimeout(()=>{Ue(at)},bl.get());function sn(){Kt().clearTimeout(wt),oe(w)}w.ping(sn).then(sn,()=>{Ue(at)})});return function(oe,Ue){return W.apply(this,arguments)}}()))}),mr.apply(this,arguments)}const Fo={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Qh{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const As="__/auth/handler",Vu="emulator/auth/handler",Ja=encodeURIComponent("fac");function Dd(E,f,g,w,W,oe){return Zl.apply(this,arguments)}function Zl(){return(Zl=(0,p.Z)(function*(E,f,g,w,W,oe){ye(E.config.authDomain,E,"auth-domain-config-required"),ye(E.config.apiKey,E,"invalid-api-key");const Ue={apiKey:E.config.apiKey,appName:E.name,authType:g,redirectUrl:w,v:_.SDK_VERSION,eventId:W};if(f instanceof Si){f.setDefaultLanguage(E.languageCode),Ue.providerId=f.providerId||"",(0,L.xb)(f.getCustomParameters())||(Ue.customParameters=JSON.stringify(f.getCustomParameters()));for(const[mn,vr]of Object.entries(oe||{}))Ue[mn]=vr}if(f instanceof xr){const mn=f.getScopes().filter(vr=>""!==vr);mn.length>0&&(Ue.scopes=mn.join(","))}E.tenantId&&(Ue.tid=E.tenantId);const at=Ue;for(const mn of Object.keys(at))void 0===at[mn]&&delete at[mn];const wt=yield E._getAppCheckToken(),sn=wt?`#${Ja}=${encodeURIComponent(wt)}`:"";return`${function Yh({config:E}){return E.emulator?kt(E,Vu):`https://${E.authDomain}/${As}`}(E)}?${(0,L.xO)(at).slice(1)}${sn}`})).apply(this,arguments)}const Dc="webStorageSupport",Xh=class Jh{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ko,this._completeRedirectFn=ls,this._overrideRedirectResult=Tl}_openPopup(f,g,w,W){var oe=this;return(0,p.Z)(function*(){var Ue;Ie(null===(Ue=oe.eventManagers[f._key()])||void 0===Ue?void 0:Ue.manager,"_initialize() not called before _openPopup()");const at=yield Dd(f,g,w,Vt(),W);return function Cr(E,f,g,w=500,W=600){const oe=Math.max((window.screen.availHeight-W)/2,0).toString(),Ue=Math.max((window.screen.availWidth-w)/2,0).toString();let at="";const wt=Object.assign(Object.assign({},Fo),{width:w.toString(),height:W.toString(),top:oe,left:Ue}),sn=(0,L.z$)().toLowerCase();g&&(at=_e(sn)?"_blank":g),Zn(sn)&&(f=f||"http://localhost",wt.scrollbars="yes");const mn=Object.entries(wt).reduce((zs,[Sl,Zo])=>`${zs}${Sl}=${Zo},`,"");if(function yt(E=(0,L.z$)()){var f;return Qe(E)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(sn)&&"_self"!==at)return function ii(E,f){const g=document.createElement("a");g.href=E,g.target=f;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(w)}(f||"",at),new Qh(null);const vr=window.open(f||"",at,mn);ye(vr,E,"popup-blocked");try{vr.focus()}catch{}return new Qh(vr)}(f,at,nn())})()}_openRedirect(f,g,w,W){var oe=this;return(0,p.Z)(function*(){return yield oe._originValidation(f),function yr(E){Kt().location.href=E}(yield Dd(f,g,w,Vt(),W)),new Promise(()=>{})})()}_initialize(f){const g=f._key();if(this.eventManagers[g]){const{manager:W,promise:oe}=this.eventManagers[g];return W?Promise.resolve(W):(Ie(oe,"If manager is not set, promise should be"),oe)}const w=this.initAndGetManager(f);return this.eventManagers[g]={promise:w},w.catch(()=>{delete this.eventManagers[g]}),w}initAndGetManager(f){var g=this;return(0,p.Z)(function*(){const w=yield function Zh(E){return mr.apply(this,arguments)}(f),W=new ql(f);return w.register("authEvent",oe=>(ye(oe?.authEvent,f,"invalid-auth-event"),{status:W.onEvent(oe.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[f._key()]={manager:W},g.iframes[f._key()]=w,W})()}_isIframeWebStorageSupported(f,g){this.iframes[f._key()].send(Dc,{type:Dc},W=>{var oe;const Ue=null===(oe=W?.[0])||void 0===oe?void 0:oe[Dc];void 0!==Ue&&g(!!Ue),le(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function wd(E){return xa.apply(this,arguments)}(f)),this.originValidationPromises[g]}get _shouldInitProactively(){return pr()||Me()||Qe()}};class Op{constructor(f){this.factorId=f}_process(f,g,w){switch(g.type){case"enroll":return this._finalizeEnroll(f,g.credential,w);case"signin":return this._finalizeSignIn(f,g.credential);default:return rt("unexpected MultiFactorSessionType")}}}class Ad extends Op{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new Ad(f)}_finalizeEnroll(f,g,w){return function wn(E,f){return Ke(E,"POST","/v2/accounts/mfaEnrollment:finalize",Fe(E,f))}(f,{idToken:g,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,g){return function V(E,f){return Ke(E,"POST","/v2/accounts/mfaSignIn:finalize",Fe(E,f))}(f,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Ac=(()=>{class E{constructor(){}static assertion(g){return Ad._fromCredential(g)}}return E.FACTOR_ID="phone",E})();var Bu="@firebase/auth";class Xa{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var g=this;return(0,p.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const g=this.auth.onIdTokenChanged(w=>{f(w?.stsTokenManager.accessToken||null)});this.internalListeners.set(f,g),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const g=this.internalListeners.get(f);g&&(this.internalListeners.delete(f),g(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,L.Pz)("authIdTokenMaxAge"),function Ri(E){ds=E}({loadJS:E=>new Promise((f,g)=>{const w=document.createElement("script");w.setAttribute("src",E),w.onload=f,w.onerror=W=>{const oe=Oe("internal-error");oe.customData=W,g(oe)},w.type="text/javascript",w.charset="UTF-8",function Ql(){var E,f;return null!==(f=null===(E=document.getElementsByTagName("head"))||void 0===E?void 0:E[0])&&void 0!==f?f:document}().appendChild(w)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Al(E){(0,_._registerComponent)(new Q.wA("auth",(f,{options:g})=>{const w=f.getProvider("app").getImmediate(),W=f.getProvider("heartbeat"),oe=f.getProvider("app-check-internal"),{apiKey:Ue,authDomain:at}=w.options;ye(Ue&&!Ue.includes(":"),"invalid-api-key",{appName:w.name});const wt={apiKey:Ue,authDomain:at,clientPlatform:E,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ur(E)},sn=new Zs(w,W,oe,wt);return function zr(E,f){const g=f?.persistence||[],w=(Array.isArray(g)?g:[g]).map(Ve);f?.errorMap&&E._updateErrorMap(f.errorMap),E._initializeWithPersistence(w,f?.popupRedirectResolver)}(sn,g),sn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,g,w)=>{f.getProvider("auth-internal").initialize()})),(0,_._registerComponent)(new Q.wA("auth-internal",f=>{const g=Ln(f.getProvider("auth").getImmediate());return new Xa(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,_.registerVersion)(Bu,"1.6.2",function Dl(E){switch(E){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(E)),(0,_.registerVersion)(Bu,"1.6.2","esm2017")}("Browser")},9058:(Nt,$e,F)=>{F.d($e,{BH:()=>he,G6:()=>kt,L:()=>ce,LL:()=>ct,Pz:()=>Oe,Sg:()=>ge,UG:()=>rt,ZB:()=>we,ZR:()=>Ke,aH:()=>le,b$:()=>It,eu:()=>ke,hl:()=>Se,jU:()=>Ie,m9:()=>Yr,ne:()=>or,pd:()=>_n,r3:()=>An,ru:()=>Vt,tV:()=>J,uI:()=>ye,vZ:()=>Mn,w1:()=>Tn,xO:()=>dn,xb:()=>vn,z$:()=>De,zd:()=>ln});const Ce=function(Ae){const re=[];let $=0;for(let k=0;k<Ae.length;k++){let N=Ae.charCodeAt(k);N<128?re[$++]=N:N<2048?(re[$++]=N>>6|192,re[$++]=63&N|128):55296==(64512&N)&&k+1<Ae.length&&56320==(64512&Ae.charCodeAt(k+1))?(N=65536+((1023&N)<<10)+(1023&Ae.charCodeAt(++k)),re[$++]=N>>18|240,re[$++]=N>>12&63|128,re[$++]=N>>6&63|128,re[$++]=63&N|128):(re[$++]=N>>12|224,re[$++]=N>>6&63|128,re[$++]=63&N|128)}return re},Q={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Ae,re){if(!Array.isArray(Ae))throw Error("encodeByteArray takes an array as a parameter");this.init_();const $=re?this.byteToCharMapWebSafe_:this.byteToCharMap_,k=[];for(let N=0;N<Ae.length;N+=3){const de=Ae[N],Ve=N+1<Ae.length,pt=Ve?Ae[N+1]:0,Dt=N+2<Ae.length,jt=Dt?Ae[N+2]:0;let Zn=(15&pt)<<2|jt>>6,Me=63&jt;Dt||(Me=64,Ve||(Zn=64)),k.push($[de>>2],$[(3&de)<<4|pt>>4],$[Zn],$[Me])}return k.join("")},encodeString(Ae,re){return this.HAS_NATIVE_SUPPORT&&!re?btoa(Ae):this.encodeByteArray(Ce(Ae),re)},decodeString(Ae,re){return this.HAS_NATIVE_SUPPORT&&!re?atob(Ae):function(Ae){const re=[];let $=0,k=0;for(;$<Ae.length;){const N=Ae[$++];if(N<128)re[k++]=String.fromCharCode(N);else if(N>191&&N<224){const de=Ae[$++];re[k++]=String.fromCharCode((31&N)<<6|63&de)}else if(N>239&&N<365){const Dt=((7&N)<<18|(63&Ae[$++])<<12|(63&Ae[$++])<<6|63&Ae[$++])-65536;re[k++]=String.fromCharCode(55296+(Dt>>10)),re[k++]=String.fromCharCode(56320+(1023&Dt))}else{const de=Ae[$++],Ve=Ae[$++];re[k++]=String.fromCharCode((15&N)<<12|(63&de)<<6|63&Ve)}}return re.join("")}(this.decodeStringToByteArray(Ae,re))},decodeStringToByteArray(Ae,re){this.init_();const $=re?this.charToByteMapWebSafe_:this.charToByteMap_,k=[];for(let N=0;N<Ae.length;){const de=$[Ae.charAt(N++)],pt=N<Ae.length?$[Ae.charAt(N)]:0;++N;const jt=N<Ae.length?$[Ae.charAt(N)]:64;++N;const an=N<Ae.length?$[Ae.charAt(N)]:64;if(++N,null==de||null==pt||null==jt||null==an)throw new Z;k.push(de<<2|pt>>4),64!==jt&&(k.push(pt<<4&240|jt>>2),64!==an&&k.push(jt<<6&192|an))}return k},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ae=0;Ae<this.ENCODED_VALS.length;Ae++)this.byteToCharMap_[Ae]=this.ENCODED_VALS.charAt(Ae),this.charToByteMap_[this.byteToCharMap_[Ae]]=Ae,this.byteToCharMapWebSafe_[Ae]=this.ENCODED_VALS_WEBSAFE.charAt(Ae),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ae]]=Ae,Ae>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ae)]=Ae,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ae)]=Ae)}}};class Z extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ce=function(Ae){return function(Ae){const re=Ce(Ae);return Q.encodeByteArray(re,!0)}(Ae).replace(/\./g,"")},J=function(Ae){try{return Q.decodeString(Ae,!0)}catch(re){console.error("base64Decode failed: ",re)}return null};function we(Ae,re){if(!(re instanceof Object))return re;switch(re.constructor){case Date:return new Date(re.getTime());case Object:void 0===Ae&&(Ae={});break;case Array:Ae=[];break;default:return re}for(const $ in re)!re.hasOwnProperty($)||!He($)||(Ae[$]=we(Ae[$],re[$]));return Ae}function He(Ae){return"__proto__"!==Ae}const lt=()=>{try{return function We(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Ae=process.env.__FIREBASE_DEFAULTS__;return Ae?JSON.parse(Ae):void 0})()||(()=>{if(typeof document>"u")return;let Ae;try{Ae=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const re=Ae&&J(Ae[1]);return re&&JSON.parse(re)})()}catch(Ae){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Ae}`)}},le=()=>{var Ae;return null===(Ae=lt())||void 0===Ae?void 0:Ae.config},Oe=Ae=>{var re;return null===(re=lt())||void 0===re?void 0:re[`_${Ae}`]};class he{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((re,$)=>{this.resolve=re,this.reject=$})}wrapCallback(re){return($,k)=>{$?this.reject($):this.resolve(k),"function"==typeof re&&(this.promise.catch(()=>{}),1===re.length?re($):re($,k))}}}function ge(Ae,re){if(Ae.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const k=re||"demo-project",N=Ae.iat||0,de=Ae.sub||Ae.user_id;if(!de)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ve=Object.assign({iss:`https://securetoken.google.com/${k}`,aud:k,iat:N,exp:N+3600,auth_time:N,sub:de,user_id:de,firebase:{sign_in_provider:"custom",identities:{}}},Ae);return[ce(JSON.stringify({alg:"none",type:"JWT"})),ce(JSON.stringify(Ve)),""].join(".")}function De(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ye(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(De())}function rt(){var Ae;const re=null===(Ae=lt())||void 0===Ae?void 0:Ae.forceEnvironment;if("node"===re)return!0;if("browser"===re)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ie(){return"object"==typeof self&&self.self===self}function Vt(){const Ae="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ae&&void 0!==Ae.id}function It(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Tn(){const Ae=De();return Ae.indexOf("MSIE ")>=0||Ae.indexOf("Trident/")>=0}function kt(){return!rt()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Se(){try{return"object"==typeof indexedDB}catch{return!1}}function ke(){return new Promise((Ae,re)=>{try{let $=!0;const k="validate-browser-context-for-indexeddb-analytics-module",N=self.indexedDB.open(k);N.onsuccess=()=>{N.result.close(),$||self.indexedDB.deleteDatabase(k),Ae(!0)},N.onupgradeneeded=()=>{$=!1},N.onerror=()=>{var de;re((null===(de=N.error)||void 0===de?void 0:de.message)||"")}}catch($){re($)}})}class Ke extends Error{constructor(re,$,k){super($),this.code=re,this.customData=k,this.name="FirebaseError",Object.setPrototypeOf(this,Ke.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ct.prototype.create)}}class ct{constructor(re,$,k){this.service=re,this.serviceName=$,this.errors=k}create(re,...$){const k=$[0]||{},N=`${this.service}/${re}`,de=this.errors[re],Ve=de?function At(Ae,re){return Ae.replace(vt,($,k)=>{const N=re[k];return null!=N?String(N):`<${k}?>`})}(de,k):"Error";return new Ke(N,`${this.serviceName}: ${Ve} (${N}).`,k)}}const vt=/\{\$([^}]+)}/g;function An(Ae,re){return Object.prototype.hasOwnProperty.call(Ae,re)}function vn(Ae){for(const re in Ae)if(Object.prototype.hasOwnProperty.call(Ae,re))return!1;return!0}function Mn(Ae,re){if(Ae===re)return!0;const $=Object.keys(Ae),k=Object.keys(re);for(const N of $){if(!k.includes(N))return!1;const de=Ae[N],Ve=re[N];if(Jn(de)&&Jn(Ve)){if(!Mn(de,Ve))return!1}else if(de!==Ve)return!1}for(const N of k)if(!$.includes(N))return!1;return!0}function Jn(Ae){return null!==Ae&&"object"==typeof Ae}function dn(Ae){const re=[];for(const[$,k]of Object.entries(Ae))Array.isArray(k)?k.forEach(N=>{re.push(encodeURIComponent($)+"="+encodeURIComponent(N))}):re.push(encodeURIComponent($)+"="+encodeURIComponent(k));return re.length?"&"+re.join("&"):""}function ln(Ae){const re={};return Ae.replace(/^\?/,"").split("&").forEach(k=>{if(k){const[N,de]=k.split("=");re[decodeURIComponent(N)]=decodeURIComponent(de)}}),re}function _n(Ae){const re=Ae.indexOf("?");if(!re)return"";const $=Ae.indexOf("#",re);return Ae.substring(re,$>0?$:void 0)}function or(Ae,re){const $=new Ir(Ae,re);return $.subscribe.bind($)}class Ir{constructor(re,$){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=$,this.task.then(()=>{re(this)}).catch(k=>{this.error(k)})}next(re){this.forEachObserver($=>{$.next(re)})}error(re){this.forEachObserver($=>{$.error(re)}),this.close(re)}complete(){this.forEachObserver(re=>{re.complete()}),this.close()}subscribe(re,$,k){let N;if(void 0===re&&void 0===$&&void 0===k)throw new Error("Missing Observer.");N=function St(Ae,re){if("object"!=typeof Ae||null===Ae)return!1;for(const $ of re)if($ in Ae&&"function"==typeof Ae[$])return!0;return!1}(re,["next","error","complete"])?re:{next:re,error:$,complete:k},void 0===N.next&&(N.next=Re),void 0===N.error&&(N.error=Re),void 0===N.complete&&(N.complete=Re);const de=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?N.error(this.finalError):N.complete()}catch{}}),this.observers.push(N),de}unsubscribeOne(re){void 0===this.observers||void 0===this.observers[re]||(delete this.observers[re],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(re){if(!this.finalized)for(let $=0;$<this.observers.length;$++)this.sendOne($,re)}sendOne(re,$){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[re])try{$(this.observers[re])}catch(k){typeof console<"u"&&console.error&&console.error(k)}})}close(re){this.finalized||(this.finalized=!0,void 0!==re&&(this.finalError=re),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Re(){}function Yr(Ae){return Ae&&Ae._delegate?Ae._delegate:Ae}},477:(Nt,$e,F)=>{F.d($e,{Q:()=>L});var p=F(5879);let L=(()=>{class _{setData(B,Q){localStorage.setItem(B,JSON.stringify(Q))}getData(B){const Q=localStorage.getItem(B);return Q?JSON.parse(Q):null}removeData(B){localStorage.removeItem(B)}static#e=this.\u0275fac=function(Q){return new(Q||_)};static#t=this.\u0275prov=p.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})()},9445:(Nt,$e,F)=>{F.d($e,{e:()=>aE});var p=F(4206),L=F(9058),_=F(534),Ce=F(7879),B=F(4537),Q=F(5619),Z=F(3106),se=F(5879),ce=F(7213),J=F(477),ae=F(3781),we=F(6814),He=F(8326),We=F(7217),dt=F(6321),nt=F(5592),it=F(2459),lt=F(2096),bt=F(7921),ft=F(9360),le=F(8251);function Oe(){return(0,ft.e)((i,e)=>{let n,s=!1;i.subscribe((0,le.x)(e,l=>{const c=n;n=l,s&&e.next([c,l]),s=!0}))})}var ut,he=F(7398),ge=F(6699),De=F(3997),ye=F(2181),Ie=(F(6365),F(5861)),Vt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},It={},Tn=Tn||{},Rt=Vt||self;function Pt(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function kt(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var ke="closure_uid_"+(1e9*Math.random()>>>0),qe=0;function Fe(i,e,n){return i.call.apply(i.bind,arguments)}function Ke(i,e,n){if(!i)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var l=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(l,s),i.apply(e,l)}}return function(){return i.apply(e,arguments)}}function ct(i,e,n){return(ct=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Fe:Ke).apply(null,arguments)}function At(i,e){var n=Array.prototype.slice.call(arguments,1);return function(){var s=n.slice();return s.push.apply(s,arguments),i.apply(this,s)}}function vt(i,e){function n(){}n.prototype=e.prototype,i.$=e.prototype,i.prototype=new n,i.prototype.constructor=i,i.ac=function(s,l,c){for(var h=Array(arguments.length-2),D=2;D<arguments.length;D++)h[D-2]=arguments[D];return e.prototype[l].apply(s,h)}}function Dn(){this.s=this.s,this.o=this.o}Dn.prototype.s=!1,Dn.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Se(i){Object.prototype.hasOwnProperty.call(i,ke)&&i[ke]||(i[ke]=++qe)}(this)},Dn.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const On=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let n=0;n<i.length;n++)if(n in i&&i[n]===e)return n;return-1};function pn(i){const e=i.length;if(0<e){const n=Array(e);for(let s=0;s<e;s++)n[s]=i[s];return n}return[]}function zn(i,e){for(let n=1;n<arguments.length;n++){const s=arguments[n];if(Pt(s)){const l=i.length||0,c=s.length||0;i.length=l+c;for(let h=0;h<c;h++)i[l+h]=s[h]}else i.push(s)}}function fn(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}fn.prototype.h=function(){this.defaultPrevented=!0};var jn=function(){if(!Rt.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{const n=()=>{};Rt.addEventListener("test",n,e),Rt.removeEventListener("test",n,e)}catch{}return i}();function An(i){return/^[\s\xa0]*$/.test(i)}function Xt(){var i=Rt.navigator;return i&&(i=i.userAgent)?i:""}function vn(i){return-1!=Xt().indexOf(i)}function _r(i){return _r[" "](i),i}_r[" "]=function(){};var Ir,i,Jn=vn("Opera"),Pr=vn("Trident")||vn("MSIE"),dn=vn("Edge"),ln=dn||Pr,_n=vn("Gecko")&&!(-1!=Xt().toLowerCase().indexOf("webkit")&&!vn("Edge"))&&!(vn("Trident")||vn("MSIE"))&&!vn("Edge"),on=-1!=Xt().toLowerCase().indexOf("webkit")&&!vn("Edge");function or(){var i=Rt.document;return i?i.documentMode:void 0}e:{var Ye="",St=(i=Xt(),_n?/rv:([^\);]+)(\)|;)/.exec(i):dn?/Edge\/([\d\.]+)/.exec(i):Pr?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):on?/WebKit\/(\S+)/.exec(i):Jn?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(St&&(Ye=St?St[1]:""),Pr){var Re=or();if(null!=Re&&Re>parseFloat(Ye)){Ir=String(Re);break e}}Ir=Ye}var zt=Rt.document&&Pr&&(or()||parseInt(Ir,10))||void 0;function Mt(i,e){if(fn.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var n=this.type=i.type,s=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(_n){e:{try{_r(e.nodeName);var l=!0;break e}catch{}l=!1}l||(e=null)}}else"mouseover"==n?e=i.fromElement:"mouseout"==n&&(e=i.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Xn[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Mt.$.h.call(this)}}vt(Mt,fn);var Xn={2:"touch",3:"pen",4:"mouse"};Mt.prototype.h=function(){Mt.$.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var yn="closure_listenable_"+(1e6*Math.random()|0),jr=0;function di(i,e,n,s,l){this.listener=i,this.proxy=null,this.src=e,this.type=n,this.capture=!!s,this.la=l,this.key=++jr,this.fa=this.ia=!1}function kn(i){i.fa=!0,i.listener=null,i.proxy=null,i.src=null,i.la=null}function Ar(i,e,n){for(const s in i)e.call(n,i[s],s,i)}function ai(i){const e={};for(const n in i)e[n]=i[n];return e}const Ti="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $r(i,e){let n,s;for(let l=1;l<arguments.length;l++){for(n in s=arguments[l],s)i[n]=s[n];for(let c=0;c<Ti.length;c++)n=Ti[c],Object.prototype.hasOwnProperty.call(s,n)&&(i[n]=s[n])}}function kr(i){this.src=i,this.g={},this.h=0}function Yr(i,e){var n=e.type;if(n in i.g){var c,s=i.g[n],l=On(s,e);(c=0<=l)&&Array.prototype.splice.call(s,l,1),c&&(kn(e),0==i.g[n].length&&(delete i.g[n],i.h--))}}function Ae(i,e,n,s){for(var l=0;l<i.length;++l){var c=i[l];if(!c.fa&&c.listener==e&&c.capture==!!n&&c.la==s)return l}return-1}kr.prototype.add=function(i,e,n,s,l){var c=i.toString();(i=this.g[c])||(i=this.g[c]=[],this.h++);var h=Ae(i,e,s,l);return-1<h?(e=i[h],n||(e.ia=!1)):((e=new di(e,this.src,c,!!s,l)).ia=n,i.push(e)),e};var re="closure_lm_"+(1e6*Math.random()|0),$={};function k(i,e,n,s,l){if(s&&s.once)return Ve(i,e,n,s,l);if(Array.isArray(e)){for(var c=0;c<e.length;c++)k(i,e[c],n,s,l);return null}return n=Me(n),i&&i[yn]?i.O(e,n,kt(s)?!!s.capture:!!s,l):N(i,e,n,!1,s,l)}function N(i,e,n,s,l,c){if(!e)throw Error("Invalid event type");var h=kt(l)?!!l.capture:!!l,D=an(i);if(D||(i[re]=D=new kr(i)),(n=D.add(e,n,s,h,c)).proxy)return n;if(s=function de(){const e=Wt;return function i(n){return e.call(i.src,i.listener,n)}}(),n.proxy=s,s.src=i,s.listener=n,i.addEventListener)jn||(l=h),void 0===l&&(l=!1),i.addEventListener(e.toString(),s,l);else if(i.attachEvent)i.attachEvent(jt(e.toString()),s);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(s)}return n}function Ve(i,e,n,s,l){if(Array.isArray(e)){for(var c=0;c<e.length;c++)Ve(i,e[c],n,s,l);return null}return n=Me(n),i&&i[yn]?i.P(e,n,kt(s)?!!s.capture:!!s,l):N(i,e,n,!0,s,l)}function pt(i,e,n,s,l){if(Array.isArray(e))for(var c=0;c<e.length;c++)pt(i,e[c],n,s,l);else s=kt(s)?!!s.capture:!!s,n=Me(n),i&&i[yn]?(i=i.i,(e=String(e).toString())in i.g&&-1<(n=Ae(c=i.g[e],n,s,l))&&(kn(c[n]),Array.prototype.splice.call(c,n,1),0==c.length&&(delete i.g[e],i.h--))):i&&(i=an(i))&&(e=i.g[e.toString()],i=-1,e&&(i=Ae(e,n,s,l)),(n=-1<i?e[i]:null)&&Dt(n))}function Dt(i){if("number"!=typeof i&&i&&!i.fa){var e=i.src;if(e&&e[yn])Yr(e.i,i);else{var n=i.type,s=i.proxy;e.removeEventListener?e.removeEventListener(n,s,i.capture):e.detachEvent?e.detachEvent(jt(n),s):e.addListener&&e.removeListener&&e.removeListener(s),(n=an(e))?(Yr(n,i),0==n.h&&(n.src=null,e[re]=null)):kn(i)}}}function jt(i){return i in $?$[i]:$[i]="on"+i}function Wt(i,e){if(i.fa)i=!0;else{e=new Mt(e,this);var n=i.listener,s=i.la||i.src;i.ia&&Dt(i),i=n.call(s,e)}return i}function an(i){return(i=i[re])instanceof kr?i:null}var Zn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Me(i){return"function"==typeof i?i:(i[Zn]||(i[Zn]=function(e){return i.handleEvent(e)}),i[Zn])}function _e(){Dn.call(this),this.i=new kr(this),this.S=this,this.J=null}function Pe(i,e){var n,s=i.J;if(s)for(n=[];s;s=s.J)n.push(s);if(i=i.S,s=e.type||e,"string"==typeof e)e=new fn(e,i);else if(e instanceof fn)e.target=e.target||i;else{var l=e;$r(e=new fn(s,i),l)}if(l=!0,n)for(var c=n.length-1;0<=c;c--){var h=e.g=n[c];l=Ee(h,s,!0,e)&&l}if(l=Ee(h=e.g=i,s,!0,e)&&l,l=Ee(h,s,!1,e)&&l,n)for(c=0;c<n.length;c++)l=Ee(h=e.g=n[c],s,!1,e)&&l}function Ee(i,e,n,s){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var l=!0,c=0;c<e.length;++c){var h=e[c];if(h&&!h.fa&&h.capture==n){var D=h.listener,M=h.la||h.src;h.ia&&Yr(i.i,h),l=!1!==D.call(M,s)&&l}}return l&&!s.defaultPrevented}vt(_e,Dn),_e.prototype[yn]=!0,_e.prototype.removeEventListener=function(i,e,n,s){pt(this,i,e,n,s)},_e.prototype.N=function(){if(_e.$.N.call(this),this.i){var e,i=this.i;for(e in i.g){for(var n=i.g[e],s=0;s<n.length;s++)kn(n[s]);delete i.g[e],i.h--}}this.J=null},_e.prototype.O=function(i,e,n,s){return this.i.add(String(i),e,!1,n,s)},_e.prototype.P=function(i,e,n,s){return this.i.add(String(i),e,!0,n,s)};var Te=Rt.JSON.stringify;function Qe(){var i=Pi;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var yt=new class je{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new gn,i=>i.reset());class gn{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function pr(i){var e=1;i=i.split(":");const n=[];for(;0<e&&i.length;)n.push(i.shift()),e--;return i.length&&n.push(i.join(":")),n}function Rn(i){Rt.setTimeout(()=>{throw i},0)}let ur,Lr=!1,Pi=new class Ut{constructor(){this.h=this.g=null}add(e,n){const s=yt.get();s.set(e,n),this.h?this.h.next=s:this.g=s,this.h=s}},gr=()=>{const i=Rt.Promise.resolve(void 0);ur=()=>{i.then(Rr)}};var Rr=()=>{for(var i;i=Qe();){try{i.h.call(i.g)}catch(n){Rn(n)}var e=yt;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}Lr=!1};function ri(i,e){_e.call(this),this.h=i||1,this.g=e||Rt,this.j=ct(this.qb,this),this.l=Date.now()}function Zs(i){i.ga=!1,i.T&&(i.g.clearTimeout(i.T),i.T=null)}function Ln(i,e,n){if("function"==typeof i)n&&(i=ct(i,n));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=ct(i.handleEvent,i)}return 2147483647<Number(e)?-1:Rt.setTimeout(i,e||0)}function yi(i){i.g=Ln(()=>{i.g=null,i.i&&(i.i=!1,yi(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}vt(ri,_e),(ut=ri.prototype).ga=!1,ut.T=null,ut.qb=function(){if(this.ga){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-i):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Pe(this,"tick"),this.ga&&(Zs(this),this.start()))}},ut.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ut.N=function(){ri.$.N.call(this),Zs(this),delete this.g};class ds extends Dn{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:yi(this)}N(){super.N(),this.g&&(Rt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ri(i){Dn.call(this),this.h=i,this.g={}}vt(Ri,Dn);var ks=[];function Ls(i,e,n,s){Array.isArray(n)||(n&&(ks[0]=n.toString()),n=ks);for(var l=0;l<n.length;l++){var c=k(e,n[l],s||i.handleEvent,!1,i.h||i);if(!c)break;i.g[c.key]=c}}function So(i){Ar(i.g,function(e,n){this.g.hasOwnProperty(n)&&Dt(e)},i),i.g={}}function ys(){this.g=!0}function li(i,e,n,s){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function zi(i,e){if(!i.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(i=0;i<n.length;i++)if(Array.isArray(n[i])){var s=n[i];if(!(2>s.length)){var l=s[1];if(Array.isArray(l)&&!(1>l.length)){var c=l[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var h=1;h<l.length;h++)l[h]=""}}}return Te(n)}catch{return e}}(i,n)+(s?" "+s:"")})}Ri.prototype.N=function(){Ri.$.N.call(this),So(this)},Ri.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ys.prototype.Ea=function(){this.g=!1},ys.prototype.info=function(){};var Mi={},ts=null;function Ci(){return ts=ts||new _e}function sa(i){fn.call(this,Mi.Ta,i)}function wi(i){const e=Ci();Pe(e,new sa(e))}function oa(i,e){fn.call(this,Mi.STAT_EVENT,i),this.stat=e}function zr(i){const e=Ci();Pe(e,new oa(e,i))}function ns(i,e){fn.call(this,Mi.Ua,i),this.size=e}function Wi(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return Rt.setTimeout(function(){i()},e)}Mi.Ta="serverreachability",vt(sa,fn),Mi.STAT_EVENT="statevent",vt(oa,fn),Mi.Ua="timingevent",vt(ns,fn);var Fs={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},ao={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Qs(){}function Vs(){}Qs.prototype.h=null;var bi,qi={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Wn(){fn.call(this,"d")}function Fr(){fn.call(this,"c")}function hs(){}function Wr(i,e,n,s){this.l=i,this.j=e,this.m=n,this.W=s||1,this.U=new Ri(this),this.P=lo,this.V=new ri(i=ln?125:void 0),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new hi}function hi(){this.i=null,this.g="",this.h=!1}vt(Wn,fn),vt(Fr,fn),vt(hs,Qs),hs.prototype.g=function(){return new XMLHttpRequest},hs.prototype.i=function(){return{}},bi=new hs;var lo=45e3,Ms={},Ki={};function fs(i,e,n){i.L=1,i.A=xi(Jr(e)),i.u=n,i.S=!0,Ur(i,null)}function Ur(i,e){i.G=Date.now(),fi(i),i.B=Jr(i.A);var n=i.B,s=i.W;Array.isArray(s)||(s=[String(s)]),Po(n.i,"t",s),i.o=0,n=i.l.J,i.h=new hi,i.g=Sa(i.l,n?e:null,!i.u),0<i.O&&(i.M=new ds(ct(i.Pa,i,i.g),i.O)),Ls(i.U,i.g,"readystatechange",i.nb),e=i.I?ai(i.I):{},i.u?(i.v||(i.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ha(i.B,i.v,i.u,e)):(i.v="GET",i.g.ha(i.B,i.v,null,e)),wi(),function Gr(i,e,n,s,l,c){i.info(function(){if(i.g)if(c)for(var h="",D=c.split("&"),M=0;M<D.length;M++){var j=D[M].split("=");if(1<j.length){var X=j[0];j=j[1];var fe=X.split("_");h=2<=fe.length&&"type"==fe[1]?h+(X+"=")+j+"&":h+(X+"=redacted&")}}else h=null;else h=c;return"XMLHTTP REQ ("+s+") [attempt "+l+"]: "+e+"\n"+n+"\n"+h})}(i.j,i.v,i.B,i.m,i.W,i.u)}function qt(i){return!!i.g&&"GET"==i.v&&2!=i.L&&i.l.Ha}function Nn(i,e,n){let l,s=!0;for(;!i.J&&i.o<n.length;){if(l=qn(i,n),l==Ki){4==e&&(i.s=4,zr(14),s=!1),li(i.j,i.m,null,"[Incomplete Response]");break}if(l==Ms){i.s=4,zr(15),li(i.j,i.m,n,"[Invalid Chunk]"),s=!1;break}li(i.j,i.m,l,null),Ui(i,l)}qt(i)&&0!=i.o&&(i.h.g=i.h.g.slice(i.o),i.o=0),4!=e||0!=n.length||i.h.h||(i.s=1,zr(16),s=!1),i.i=i.i&&s,s?0<n.length&&!i.ba&&(i.ba=!0,(e=i.l).g==i&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),to(e),e.M=!0,zr(11))):(li(i.j,i.m,n,"[Invalid Chunked Response]"),ar(i),Di(i))}function qn(i,e){var n=i.o,s=e.indexOf("\n",n);return-1==s?Ki:(n=Number(e.substring(n,s)),isNaN(n)?Ms:(s+=1)+n>e.length?Ki:(e=e.slice(s,s+n),i.o=s+n,e))}function fi(i){i.Y=Date.now()+i.P,xs(i,i.P)}function xs(i,e){if(null!=i.C)throw Error("WatchDog timer not null");i.C=Wi(ct(i.lb,i),e)}function qr(i){i.C&&(Rt.clearTimeout(i.C),i.C=null)}function Di(i){0==i.l.H||i.J||ja(i.l,i)}function ar(i){qr(i);var e=i.M;e&&"function"==typeof e.sa&&e.sa(),i.M=null,Zs(i.V),So(i.U),i.g&&(e=i.g,i.g=null,e.abort(),e.sa())}function Ui(i,e){try{var n=i.l;if(0!=n.H&&(n.g==i||Mo(n.i,i)))if(!i.K&&Mo(n.i,i)&&3==n.H){try{var s=n.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&3==s.length){var l=s;if(0==l[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<i.G))break e;fa(n),ws(n)}js(n),zr(18)}}else n.Fa=l[1],0<n.Fa-n.V&&37500>l[2]&&n.G&&0==n.A&&!n.v&&(n.v=Wi(ct(n.ib,n),6e3));if(1>=fo(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Oo(n,11)}else if((i.K||n.g==i)&&fa(n),!An(e))for(l=n.Ja.g.parse(e),e=0;e<l.length;e++){let j=l[e];if(n.V=j[0],j=j[1],2==n.H)if("c"==j[0]){n.K=j[1],n.pa=j[2];const X=j[3];null!=X&&(n.ra=X,n.l.info("VER="+n.ra));const fe=j[4];null!=fe&&(n.Ga=fe,n.l.info("SVER="+n.Ga));const Le=j[5];null!=Le&&"number"==typeof Le&&0<Le&&(n.L=s=1.5*Le,n.l.info("backChannelRequestTimeoutMs_="+s)),s=n;const tt=i.g;if(tt){const Ot=tt.g?tt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ot){var c=s.i;c.g||-1==Ot.indexOf("spdy")&&-1==Ot.indexOf("quic")&&-1==Ot.indexOf("h2")||(c.j=c.l,c.g=new Set,c.h&&(Us(c,c.h),c.h=null))}if(s.F){const Jt=tt.g?tt.g.getResponseHeader("X-HTTP-Session-Id"):null;Jt&&(s.Da=Jt,er(s.I,s.F,Jt))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-i.G,n.l.info("Handshake RTT: "+n.S+"ms"));var h=i;if((s=n).wa=pa(s,s.J?s.pa:null,s.Y),h.K){ua(s.i,h);var D=h,M=s.L;M&&D.setTimeout(M),D.C&&(qr(D),fi(D)),s.g=h}else Hs(s);0<n.j.length&&ji(n)}else"stop"!=j[0]&&"close"!=j[0]||Oo(n,7);else 3==n.H&&("stop"==j[0]||"close"==j[0]?"stop"==j[0]?Oo(n,7):Xs(n):"noop"!=j[0]&&n.h&&n.h.Aa(j),n.A=0)}wi()}catch{}}function Ai(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(Pt(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var n=function Cn(i){if(i.ta&&"function"==typeof i.ta)return i.ta();if(!i.Z||"function"!=typeof i.Z){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(Pt(i)||"string"==typeof i){var e=[];i=i.length;for(var n=0;n<i;n++)e.push(n);return e}e=[],n=0;for(const s in i)e[n++]=s;return e}}}(i),s=function Is(i){if(i.Z&&"function"==typeof i.Z)return i.Z();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(Pt(i)){for(var e=[],n=i.length,s=0;s<n;s++)e.push(i[s]);return e}for(s in e=[],n=0,i)e[n++]=i[s];return e}(i),l=s.length,c=0;c<l;c++)e.call(void 0,s[c],n&&n[c],i)}(ut=Wr.prototype).setTimeout=function(i){this.P=i},ut.nb=function(i){i=i.target;const e=this.M;e&&3==Hr(i)?e.l():this.Pa(i)},ut.Pa=function(i){try{if(i==this.g)e:{const X=Hr(this.g);var e=this.g.Ia();if(this.g.da(),!(3>X)&&(3!=X||ln||this.g&&(this.h.h||this.g.ja()||mo(this.g)))){this.J||4!=X||7==e||wi(),qr(this);var n=this.g.da();this.ca=n;t:if(qt(this)){var s=mo(this.g);i="";var l=s.length,c=4==Hr(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ar(this),Di(this);var h="";break t}this.h.i=new Rt.TextDecoder}for(e=0;e<l;e++)this.h.h=!0,i+=this.h.i.decode(s[e],{stream:c&&e==l-1});s.length=0,this.h.g+=i,this.o=0,h=this.h.g}else h=this.g.ja();if(this.i=200==n,function Rs(i,e,n,s,l,c,h){i.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+l+"]: "+e+"\n"+n+"\n"+c+" "+h})}(this.j,this.v,this.B,this.m,this.W,X,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var D,M=this.g;if((D=M.g?M.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!An(D)){var j=D;break t}}j=null}if(!(n=j)){this.i=!1,this.s=3,zr(12),ar(this),Di(this);break e}li(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ui(this,n)}this.S?(Nn(this,X,h),ln&&this.i&&3==X&&(Ls(this.U,this.V,"tick",this.mb),this.V.start())):(li(this.j,this.m,h,null),Ui(this,h)),4==X&&ar(this),this.i&&!this.J&&(4==X?ja(this.l,this):(this.i=!1,fi(this)))}else(function Zi(i){const e={};i=(i.g&&2<=Hr(i)&&i.g.getAllResponseHeaders()||"").split("\r\n");for(let s=0;s<i.length;s++){if(An(i[s]))continue;var n=pr(i[s]);const l=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const c=e[l]||[];e[l]=c,c.push(n)}!function oi(i,e){for(const n in i)e.call(void 0,i[n],n,i)}(e,function(s){return s.join(", ")})})(this.g),400==n&&0<h.indexOf("Unknown SID")?(this.s=3,zr(12)):(this.s=0,zr(13)),ar(this),Di(this)}}}catch{}},ut.mb=function(){if(this.g){var i=Hr(this.g),e=this.g.ja();this.o<e.length&&(qr(this),Nn(this,i,e),this.i&&4!=i&&fi(this))}},ut.cancel=function(){this.J=!0,ar(this)},ut.lb=function(){this.C=null;const i=Date.now();0<=i-this.Y?(function Gi(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.B),2!=this.L&&(wi(),zr(17)),ar(this),this.s=2,Di(this)):xs(this,this.Y-i)};var rs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Er(i){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof Er){this.h=i.h,is(this,i.j),this.s=i.s,this.g=i.g,vi(this,i.m),this.l=i.l;var e=i.i,n=new ho;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),uo(this,n),this.o=i.o}else i&&(e=String(i).match(rs))?(this.h=!1,is(this,e[1]||"",!0),this.s=Br(e[2]||""),this.g=Br(e[3]||"",!0),vi(this,e[4]),this.l=Br(e[5]||"",!0),uo(this,e[6]||"",!0),this.o=Br(e[7]||"")):(this.h=!1,this.i=new ho(null,this.h))}function Jr(i){return new Er(i)}function is(i,e,n){i.j=n?Br(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function vi(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function uo(i,e,n){e instanceof ho?(i.i=e,function Mr(i,e){e&&!i.j&&(gi(i),i.i=null,i.g.forEach(function(n,s){var l=s.toLowerCase();s!=l&&(Si(this,s),Po(this,l,n))},i)),i.j=e}(i.i,i.h)):(n||(e=Bi(e,jo)),i.i=new ho(e,i.h))}function er(i,e,n){i.i.set(e,n)}function xi(i){return er(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Br(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Bi(i,e,n){return"string"==typeof i?(i=encodeURI(i).replace(e,co),n&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function co(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Er.prototype.toString=function(){var i=[],e=this.j;e&&i.push(Bi(e,Bn,!0),":");var n=this.g;return(n||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(Bi(e,Bn,!0),"@"),i.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&i.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&i.push("/"),i.push(Bi(n,"/"==n.charAt(0)?aa:Ys,!0))),(n=this.i.toString())&&i.push("?",n),(n=this.o)&&i.push("#",Bi(n,pi)),i.join("")};var Bn=/[#\/\?@]/g,Ys=/[#\?:]/g,aa=/[#\?]/g,jo=/[#\?@]/g,pi=/#/g;function ho(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function gi(i){i.g||(i.g=new Map,i.h=0,i.i&&function Es(i,e){if(i){i=i.split("&");for(var n=0;n<i.length;n++){var s=i[n].indexOf("="),l=null;if(0<=s){var c=i[n].substring(0,s);l=i[n].substring(s+1)}else c=i[n];e(c,l?decodeURIComponent(l.replace(/\+/g," ")):"")}}}(i.i,function(e,n){i.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Si(i,e){gi(i),e=Kr(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function xr(i,e){return gi(i),e=Kr(i,e),i.g.has(e)}function Po(i,e,n){Si(i,e),0<n.length&&(i.i=null,i.g.set(Kr(i,e),pn(n)),i.h+=n.length)}function Kr(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function Hi(i){this.l=i||Ro,i=Rt.PerformanceNavigationTiming?0<(i=Rt.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(Rt.g&&Rt.g.Ka&&Rt.g.Ka()&&Rt.g.Ka().dc),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ut=ho.prototype).add=function(i,e){gi(this),this.i=null,i=Kr(this,i);var n=this.g.get(i);return n||this.g.set(i,n=[]),n.push(e),this.h+=1,this},ut.forEach=function(i,e){gi(this),this.g.forEach(function(n,s){n.forEach(function(l){i.call(e,l,s,this)},this)},this)},ut.ta=function(){gi(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let s=0;s<e.length;s++){const l=i[s];for(let c=0;c<l.length;c++)n.push(e[s])}return n},ut.Z=function(i){gi(this);let e=[];if("string"==typeof i)xr(this,i)&&(e=e.concat(this.g.get(Kr(this,i))));else{i=Array.from(this.g.values());for(let n=0;n<i.length;n++)e=e.concat(i[n])}return e},ut.set=function(i,e){return gi(this),this.i=null,xr(this,i=Kr(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},ut.get=function(i,e){return i&&0<(i=this.Z(i)).length?String(i[0]):e},ut.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var s=e[n];const c=encodeURIComponent(String(s)),h=this.Z(s);for(s=0;s<h.length;s++){var l=c;""!==h[s]&&(l+="="+encodeURIComponent(String(h[s]))),i.push(l)}}return this.i=i.join("&")};var Ro=10;function ps(i){return!!i.h||!!i.g&&i.g.size>=i.j}function fo(i){return i.h?1:i.g?i.g.size:0}function Mo(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function Us(i,e){i.g?i.g.add(e):i.h=e}function ua(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function gs(i){if(null!=i.h)return i.i.concat(i.h.F);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const n of i.g.values())e=e.concat(n.F);return e}return pn(i.i)}Hi.prototype.cancel=function(){if(this.i=gs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}};var po=class{stringify(i){return Rt.JSON.stringify(i,void 0)}parse(i){return Rt.JSON.parse(i,void 0)}};function ea(){this.g=new po}function Ba(i,e,n){const s=n||"";try{Ai(i,function(l,c){let h=l;kt(l)&&(h=Te(l)),e.push(s+c+"="+encodeURIComponent(h))})}catch(l){throw e.push(s+"type="+encodeURIComponent("_badmap")),l}}function Tr(i,e,n,s,l){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,l(s)}catch{}}function Bs(i){this.l=i.ec||null,this.j=i.ob||!1}function ca(i,e){_e.call(this),this.F=i,this.u=e,this.m=void 0,this.readyState=z,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}vt(Bs,Qs),Bs.prototype.g=function(){return new ca(this.l,this.j)},Bs.prototype.i=function(i){return function(){return i}}({}),vt(ca,_e);var z=0;function K(i){i.j.read().then(i.Xa.bind(i)).catch(i.ka.bind(i))}function x(i){i.readyState=4,i.l=null,i.j=null,i.A=null,ie(i)}function ie(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(ut=ca.prototype).open=function(i,e){if(this.readyState!=z)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,ie(this)},ut.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.F||Rt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},ut.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,x(this)),this.readyState=z},ut.$a=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,ie(this)),this.g&&(this.readyState=3,ie(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Rt.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;K(this)}else i.text().then(this.Za.bind(this),this.ka.bind(this))},ut.Xa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?x(this):ie(this),3==this.readyState&&K(this)}},ut.Za=function(i){this.g&&(this.response=this.responseText=i,x(this))},ut.Ya=function(i){this.g&&(this.response=i,x(this))},ut.ka=function(){this.g&&x(this)},ut.setRequestHeader=function(i,e){this.v.append(i,e)},ut.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},ut.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var n=e.next();!n.done;)i.push((n=n.value)[0]+": "+n[1]),n=e.next();return i.join("\r\n")},Object.defineProperty(ca.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var xe=Rt.JSON.parse;function Gt(i){_e.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Sn,this.L=this.M=!1}vt(Gt,_e);var Sn="",Oi=/^https?$/i,Ts=["POST","PUT"];function go(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,Xr(i),Cs(i)}function Xr(i){i.F||(i.F=!0,Pe(i,"complete"),Pe(i,"error"))}function ki(i){if(i.h&&typeof Tn<"u"&&(!i.C[1]||4!=Hr(i)||2!=i.da()))if(i.v&&4==Hr(i))Ln(i.La,0,i);else if(Pe(i,"readystatechange"),4==Hr(i)){i.h=!1;try{const h=i.da();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var s;if(s=0===h){var l=String(i.I).match(rs)[1]||null;!l&&Rt.self&&Rt.self.location&&(l=Rt.self.location.protocol.slice(0,-1)),s=!Oi.test(l?l.toLowerCase():"")}n=s}if(n)Pe(i,"complete"),Pe(i,"success");else{i.m=6;try{var c=2<Hr(i)?i.g.statusText:""}catch{c=""}i.j=c+" ["+i.da()+"]",Xr(i)}}finally{Cs(i)}}}function Cs(i,e){if(i.g){da(i);const n=i.g,s=i.C[0]?()=>{}:null;i.g=null,i.C=null,e||Pe(i,"ready");try{n.onreadystatechange=s}catch{}}}function da(i){i.g&&i.L&&(i.g.ontimeout=null),i.A&&(Rt.clearTimeout(i.A),i.A=null)}function Hr(i){return i.g?i.g.readyState:0}function mo(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.K){case Sn:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function ha(i){let e="";return Ar(i,function(n,s){e+=s,e+=":",e+=n,e+="\r\n"}),e}function _o(i,e,n){e:{for(s in n){var s=!1;break e}s=!0}s||(n=ha(n),"string"==typeof i?null!=n&&encodeURIComponent(String(n)):er(i,e,n))}function Os(i,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[i]||e}function Js(i){this.Ga=0,this.j=[],this.l=new ys,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Os("failFast",!1,i),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Os("baseRetryDelayMs",5e3,i),this.hb=Os("retryDelaySeedMs",1e4,i),this.eb=Os("forwardChannelMaxRetries",2,i),this.xa=Os("forwardChannelRequestTimeoutMs",2e4,i),this.va=i&&i.xmlHttpFactory||void 0,this.Ha=i&&i.useFetchStreams||!1,this.L=void 0,this.J=i&&i.supportsCrossDomainXhr||!1,this.K="",this.i=new Hi(i&&i.concurrentRequestLimit),this.Ja=new ea,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=i&&i.bc||!1,i&&i.Ea&&this.l.Ea(),i&&i.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&i&&i.detectBufferingProxy||!1,this.qa=void 0,i&&i.longPollingTimeout&&0<i.longPollingTimeout&&(this.qa=i.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Xs(i){if(xo(i),3==i.H){var e=i.W++,n=Jr(i.I);if(er(n,"SID",i.K),er(n,"RID",e),er(n,"TYPE","terminate"),eo(i,n),(e=new Wr(i,i.l,e)).L=2,e.A=xi(Jr(n)),n=!1,Rt.navigator&&Rt.navigator.sendBeacon)try{n=Rt.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&Rt.Image&&((new Image).src=e.A,n=!0),n||(e.g=Sa(e.l,null),e.g.ha(e.A)),e.G=Date.now(),fi(e)}jl(i)}function ws(i){i.g&&(to(i),i.g.cancel(),i.g=null)}function xo(i){ws(i),i.u&&(Rt.clearTimeout(i.u),i.u=null),fa(i),i.i.cancel(),i.m&&("number"==typeof i.m&&Rt.clearTimeout(i.m),i.m=null)}function ji(i){if(!ps(i.i)&&!i.m){i.m=!0;var e=i.Na;ur||gr(),Lr||(ur(),Lr=!0),Pi.add(e,i),i.C=0}}function Ha(i,e){var n;n=e?e.m:i.W++;const s=Jr(i.I);er(s,"SID",i.K),er(s,"RID",n),er(s,"AID",i.V),eo(i,s),i.o&&i.s&&_o(s,i.o,i.s),n=new Wr(i,i.l,n,i.C+1),null===i.o&&(n.I=i.s),e&&(i.j=e.F.concat(i.j)),e=ta(i,n,1e3),n.setTimeout(Math.round(.5*i.xa)+Math.round(.5*i.xa*Math.random())),Us(i.i,n),fs(n,s,e)}function eo(i,e){i.na&&Ar(i.na,function(n,s){er(e,s,n)}),i.h&&Ai({},function(n,s){er(e,s,n)})}function ta(i,e,n){n=Math.min(i.j.length,n);var s=i.h?ct(i.h.Va,i.h,i):null;e:{var l=i.j;let c=-1;for(;;){const h=["count="+n];-1==c?0<n?(c=l[0].g,h.push("ofs="+c)):c=0:h.push("ofs="+c);let D=!0;for(let M=0;M<n;M++){let j=l[M].g;const X=l[M].map;if(j-=c,0>j)c=Math.max(0,l[M].g-100),D=!1;else try{Ba(X,h,"req"+j+"_")}catch{s&&s(X)}}if(D){s=h.join("&");break e}}}return i=i.j.splice(0,n),e.F=i,s}function Hs(i){if(!i.g&&!i.u){i.ba=1;var e=i.Ma;ur||gr(),Lr||(ur(),Lr=!0),Pi.add(e,i),i.A=0}}function js(i){return!(i.g||i.u||3<=i.A||(i.ba++,i.u=Wi(ct(i.Ma,i),$o(i,i.A)),i.A++,0))}function to(i){null!=i.B&&(Rt.clearTimeout(i.B),i.B=null)}function gl(i){i.g=new Wr(i,i.l,"rpc",i.ba),null===i.o&&(i.g.I=i.s),i.g.O=0;var e=Jr(i.wa);er(e,"RID","rpc"),er(e,"SID",i.K),er(e,"AID",i.V),er(e,"CI",i.G?"0":"1"),!i.G&&i.qa&&er(e,"TO",i.qa),er(e,"TYPE","xmlhttp"),eo(i,e),i.o&&i.s&&_o(e,i.o,i.s),i.L&&i.g.setTimeout(i.L);var n=i.g;i=i.pa,n.L=1,n.A=xi(Jr(e)),n.u=null,n.S=!0,Ur(n,i)}function fa(i){null!=i.v&&(Rt.clearTimeout(i.v),i.v=null)}function ja(i,e){var n=null;if(i.g==e){fa(i),to(i),i.g=null;var s=2}else{if(!Mo(i.i,e))return;n=e.F,ua(i.i,e),s=1}if(0!=i.H)if(e.i)if(1==s){n=e.u?e.u.length:0,e=Date.now()-e.G;var l=i.C;Pe(s=Ci(),new ns(s,n)),ji(i)}else Hs(i);else if(3==(l=e.s)||0==l&&0<e.ca||!(1==s&&function yo(i,e){return!(fo(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.j=e.F.concat(i.j),0):1==i.H||2==i.H||i.C>=(i.cb?0:i.eb)||(i.m=Wi(ct(i.Na,i,e),$o(i,i.C)),i.C++,0)))}(i,e)||2==s&&js(i)))switch(n&&0<n.length&&(e=i.i,e.i=e.i.concat(n)),l){case 1:Oo(i,5);break;case 4:Oo(i,10);break;case 3:Oo(i,6);break;default:Oo(i,2)}}function $o(i,e){let n=i.ab+Math.floor(Math.random()*i.hb);return i.isActive()||(n*=2),n*e}function Oo(i,e){if(i.l.info("Error code "+e),2==e){var n=null;i.h&&(n=null);var s=ct(i.pb,i);n||(n=new Er("//www.google.com/images/cleardot.gif"),Rt.location&&"http"==Rt.location.protocol||is(n,"https"),xi(n)),function Aa(i,e){const n=new ys;if(Rt.Image){const s=new Image;s.onload=At(Tr,n,s,"TestLoadImage: loaded",!0,e),s.onerror=At(Tr,n,s,"TestLoadImage: error",!1,e),s.onabort=At(Tr,n,s,"TestLoadImage: abort",!1,e),s.ontimeout=At(Tr,n,s,"TestLoadImage: timeout",!1,e),Rt.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=i}else e(!1)}(n.toString(),s)}else zr(2);i.H=0,i.h&&i.h.za(e),jl(i),xo(i)}function jl(i){if(i.H=0,i.ma=[],i.h){const e=gs(i.i);(0!=e.length||0!=i.j.length)&&(zn(i.ma,e),zn(i.ma,i.j),i.i.i.length=0,pn(i.j),i.j.length=0),i.h.ya()}}function pa(i,e,n){var s=n instanceof Er?Jr(n):new Er(n);if(""!=s.g)e&&(s.g=e+"."+s.g),vi(s,s.m);else{var l=Rt.location;s=l.protocol,e=e?e+"."+l.hostname:l.hostname,l=+l.port;var c=new Er(null);s&&is(c,s),e&&(c.g=e),l&&vi(c,l),n&&(c.l=n),s=c}return e=i.Da,(n=i.F)&&e&&er(s,n,e),er(s,"VER",i.ra),eo(i,s),s}function Sa(i,e,n){if(e&&!i.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Gt(i.Ha&&!i.va?new Bs({ob:n}):i.va)).Oa(i.J),e}function ml(){}function vo(){if(Pr&&!(10<=Number(zt)))throw Error("Environmental error: no available transport.")}function Qi(i,e){_e.call(this),this.g=new Js(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(i?i["X-WebChannel-Client-Profile"]=e.Ca:i={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=i,(i=e&&e.cc)&&!An(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!An(e)&&(this.g.F=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new b(this)}function Go(i){Wn.call(this),i.__headers__&&(this.headers=i.__headers__,this.statusCode=i.__status__,delete i.__headers__,delete i.__status__);var e=i.__sm__;if(e){e:{for(const n in e){i=n;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function $a(){Fr.call(this),this.status=1}function b(i){this.g=i}function O(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function q(i,e,n){n||(n=0);var s=Array(16);if("string"==typeof e)for(var l=0;16>l;++l)s[l]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(l=0;16>l;++l)s[l]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var c=i.g[3],h=(e=i.g[0])+(c^(n=i.g[1])&((l=i.g[2])^c))+s[0]+3614090360&4294967295;h=(n=(l=(c=(e=(n=(l=(c=(e=(n=(l=(c=(e=(n=(l=(c=(e=(n=(l=(c=(e=(n=(l=(c=(e=(n=(l=(c=(e=(n=(l=(c=(e=(n=(l=(c=(e=(n=(l=(c=(e=(n=(l=(c=(e=(n=(l=(c=(e=(n=(l=(c=(e=(n=(l=(c=(e=(n=(l=(c=(e=n+(h<<7&4294967295|h>>>25))+((h=c+(l^e&(n^l))+s[1]+3905402710&4294967295)<<12&4294967295|h>>>20))+((h=l+(n^c&(e^n))+s[2]+606105819&4294967295)<<17&4294967295|h>>>15))+((h=n+(e^l&(c^e))+s[3]+3250441966&4294967295)<<22&4294967295|h>>>10))+((h=e+(c^n&(l^c))+s[4]+4118548399&4294967295)<<7&4294967295|h>>>25))+((h=c+(l^e&(n^l))+s[5]+1200080426&4294967295)<<12&4294967295|h>>>20))+((h=l+(n^c&(e^n))+s[6]+2821735955&4294967295)<<17&4294967295|h>>>15))+((h=n+(e^l&(c^e))+s[7]+4249261313&4294967295)<<22&4294967295|h>>>10))+((h=e+(c^n&(l^c))+s[8]+1770035416&4294967295)<<7&4294967295|h>>>25))+((h=c+(l^e&(n^l))+s[9]+2336552879&4294967295)<<12&4294967295|h>>>20))+((h=l+(n^c&(e^n))+s[10]+4294925233&4294967295)<<17&4294967295|h>>>15))+((h=n+(e^l&(c^e))+s[11]+2304563134&4294967295)<<22&4294967295|h>>>10))+((h=e+(c^n&(l^c))+s[12]+1804603682&4294967295)<<7&4294967295|h>>>25))+((h=c+(l^e&(n^l))+s[13]+4254626195&4294967295)<<12&4294967295|h>>>20))+((h=l+(n^c&(e^n))+s[14]+2792965006&4294967295)<<17&4294967295|h>>>15))+((h=n+(e^l&(c^e))+s[15]+1236535329&4294967295)<<22&4294967295|h>>>10))+((h=e+(l^c&(n^l))+s[1]+4129170786&4294967295)<<5&4294967295|h>>>27))+((h=c+(n^l&(e^n))+s[6]+3225465664&4294967295)<<9&4294967295|h>>>23))+((h=l+(e^n&(c^e))+s[11]+643717713&4294967295)<<14&4294967295|h>>>18))+((h=n+(c^e&(l^c))+s[0]+3921069994&4294967295)<<20&4294967295|h>>>12))+((h=e+(l^c&(n^l))+s[5]+3593408605&4294967295)<<5&4294967295|h>>>27))+((h=c+(n^l&(e^n))+s[10]+38016083&4294967295)<<9&4294967295|h>>>23))+((h=l+(e^n&(c^e))+s[15]+3634488961&4294967295)<<14&4294967295|h>>>18))+((h=n+(c^e&(l^c))+s[4]+3889429448&4294967295)<<20&4294967295|h>>>12))+((h=e+(l^c&(n^l))+s[9]+568446438&4294967295)<<5&4294967295|h>>>27))+((h=c+(n^l&(e^n))+s[14]+3275163606&4294967295)<<9&4294967295|h>>>23))+((h=l+(e^n&(c^e))+s[3]+4107603335&4294967295)<<14&4294967295|h>>>18))+((h=n+(c^e&(l^c))+s[8]+1163531501&4294967295)<<20&4294967295|h>>>12))+((h=e+(l^c&(n^l))+s[13]+2850285829&4294967295)<<5&4294967295|h>>>27))+((h=c+(n^l&(e^n))+s[2]+4243563512&4294967295)<<9&4294967295|h>>>23))+((h=l+(e^n&(c^e))+s[7]+1735328473&4294967295)<<14&4294967295|h>>>18))+((h=n+(c^e&(l^c))+s[12]+2368359562&4294967295)<<20&4294967295|h>>>12))+((h=e+(n^l^c)+s[5]+4294588738&4294967295)<<4&4294967295|h>>>28))+((h=c+(e^n^l)+s[8]+2272392833&4294967295)<<11&4294967295|h>>>21))+((h=l+(c^e^n)+s[11]+1839030562&4294967295)<<16&4294967295|h>>>16))+((h=n+(l^c^e)+s[14]+4259657740&4294967295)<<23&4294967295|h>>>9))+((h=e+(n^l^c)+s[1]+2763975236&4294967295)<<4&4294967295|h>>>28))+((h=c+(e^n^l)+s[4]+1272893353&4294967295)<<11&4294967295|h>>>21))+((h=l+(c^e^n)+s[7]+4139469664&4294967295)<<16&4294967295|h>>>16))+((h=n+(l^c^e)+s[10]+3200236656&4294967295)<<23&4294967295|h>>>9))+((h=e+(n^l^c)+s[13]+681279174&4294967295)<<4&4294967295|h>>>28))+((h=c+(e^n^l)+s[0]+3936430074&4294967295)<<11&4294967295|h>>>21))+((h=l+(c^e^n)+s[3]+3572445317&4294967295)<<16&4294967295|h>>>16))+((h=n+(l^c^e)+s[6]+76029189&4294967295)<<23&4294967295|h>>>9))+((h=e+(n^l^c)+s[9]+3654602809&4294967295)<<4&4294967295|h>>>28))+((h=c+(e^n^l)+s[12]+3873151461&4294967295)<<11&4294967295|h>>>21))+((h=l+(c^e^n)+s[15]+530742520&4294967295)<<16&4294967295|h>>>16))+((h=n+(l^c^e)+s[2]+3299628645&4294967295)<<23&4294967295|h>>>9))+((h=e+(l^(n|~c))+s[0]+4096336452&4294967295)<<6&4294967295|h>>>26))+((h=c+(n^(e|~l))+s[7]+1126891415&4294967295)<<10&4294967295|h>>>22))+((h=l+(e^(c|~n))+s[14]+2878612391&4294967295)<<15&4294967295|h>>>17))+((h=n+(c^(l|~e))+s[5]+4237533241&4294967295)<<21&4294967295|h>>>11))+((h=e+(l^(n|~c))+s[12]+1700485571&4294967295)<<6&4294967295|h>>>26))+((h=c+(n^(e|~l))+s[3]+2399980690&4294967295)<<10&4294967295|h>>>22))+((h=l+(e^(c|~n))+s[10]+4293915773&4294967295)<<15&4294967295|h>>>17))+((h=n+(c^(l|~e))+s[1]+2240044497&4294967295)<<21&4294967295|h>>>11))+((h=e+(l^(n|~c))+s[8]+1873313359&4294967295)<<6&4294967295|h>>>26))+((h=c+(n^(e|~l))+s[15]+4264355552&4294967295)<<10&4294967295|h>>>22))+((h=l+(e^(c|~n))+s[6]+2734768916&4294967295)<<15&4294967295|h>>>17))+((h=n+(c^(l|~e))+s[13]+1309151649&4294967295)<<21&4294967295|h>>>11))+((c=(e=n+((h=e+(l^(n|~c))+s[4]+4149444226&4294967295)<<6&4294967295|h>>>26))+((h=c+(n^(e|~l))+s[11]+3174756917&4294967295)<<10&4294967295|h>>>22))^((l=c+((h=l+(e^(c|~n))+s[2]+718787259&4294967295)<<15&4294967295|h>>>17))|~e))+s[9]+3951481745&4294967295,i.g[0]=i.g[0]+e&4294967295,i.g[1]=i.g[1]+(l+(h<<21&4294967295|h>>>11))&4294967295,i.g[2]=i.g[2]+l&4294967295,i.g[3]=i.g[3]+c&4294967295}function pe(i,e){this.h=e;for(var n=[],s=!0,l=i.length-1;0<=l;l--){var c=0|i[l];s&&c==e||(n[l]=c,s=!1)}this.g=n}(ut=Gt.prototype).Oa=function(i){this.M=i},ut.ha=function(i,e,n,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+i);e=e?e.toUpperCase():"GET",this.I=i,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():bi.g(),this.C=function vs(i){return i.h||(i.h=i.i())}(this.u?this.u:bi),this.g.onreadystatechange=ct(this.La,this);try{this.G=!0,this.g.open(e,String(i),!0),this.G=!1}catch(c){return void go(this,c)}if(i=n||"",n=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var l in s)n.set(l,s[l]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const c of s.keys())n.set(c,s.get(c))}s=Array.from(n.keys()).find(c=>"content-type"==c.toLowerCase()),l=Rt.FormData&&i instanceof Rt.FormData,!(0<=On(Ts,e))||s||l||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[c,h]of n)this.g.setRequestHeader(c,h);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{da(this),0<this.B&&((this.L=function Ni(i){return Pr&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ct(this.ua,this)):this.A=Ln(this.ua,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(c){go(this,c)}},ut.ua=function(){typeof Tn<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Pe(this,"timeout"),this.abort(8))},ut.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Pe(this,"complete"),Pe(this,"abort"),Cs(this))},ut.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Cs(this,!0)),Gt.$.N.call(this)},ut.La=function(){this.s||(this.G||this.v||this.l?ki(this):this.kb())},ut.kb=function(){ki(this)},ut.isActive=function(){return!!this.g},ut.da=function(){try{return 2<Hr(this)?this.g.status:-1}catch{return-1}},ut.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},ut.Wa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),xe(e)}},ut.Ia=function(){return this.m},ut.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ut=Js.prototype).ra=8,ut.H=1,ut.Na=function(i){if(this.m)if(this.m=null,1==this.H){if(!i){this.W=Math.floor(1e5*Math.random()),i=this.W++;const l=new Wr(this,this.l,i);let c=this.s;if(this.U&&(c?(c=ai(c),$r(c,this.U)):c=this.U),null!==this.o||this.O||(l.I=c,c=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var s=this.j[n];if(void 0===(s="__data__"in s.map&&"string"==typeof(s=s.map.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=ta(this,l,e),er(n=Jr(this.I),"RID",i),er(n,"CVER",22),this.F&&er(n,"X-HTTP-Session-Id",this.F),eo(this,n),c&&(this.O?e="headers="+encodeURIComponent(String(ha(c)))+"&"+e:this.o&&_o(n,this.o,c)),Us(this.i,l),this.bb&&er(n,"TYPE","init"),this.P?(er(n,"$req",e),er(n,"SID","null"),l.aa=!0,fs(l,n,null)):fs(l,n,e),this.H=2}}else 3==this.H&&(i?Ha(this,i):0==this.j.length||ps(this.i)||Ha(this))},ut.Ma=function(){if(this.u=null,gl(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var i=2*this.S;this.l.info("BP detection timer enabled: "+i),this.B=Wi(ct(this.jb,this),i)}},ut.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,zr(10),ws(this),gl(this))},ut.ib=function(){null!=this.v&&(this.v=null,ws(this),js(this),zr(19))},ut.pb=function(i){i?(this.l.info("Successfully pinged google.com"),zr(2)):(this.l.info("Failed to ping google.com"),zr(1))},ut.isActive=function(){return!!this.h&&this.h.isActive(this)},(ut=ml.prototype).Ba=function(){},ut.Aa=function(){},ut.za=function(){},ut.ya=function(){},ut.isActive=function(){return!0},ut.Va=function(){},vo.prototype.g=function(i,e){return new Qi(i,e)},vt(Qi,_e),Qi.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var i=this.g,e=this.l,n=this.h||void 0;zr(0),i.Y=e,i.na=n||{},i.G=i.aa,i.I=pa(i,null,i.Y),ji(i)},Qi.prototype.close=function(){Xs(this.g)},Qi.prototype.u=function(i){var e=this.g;if("string"==typeof i){var n={};n.__data__=i,i=n}else this.v&&((n={}).__data__=Te(i),i=n);e.j.push(new class{constructor(i,e){this.g=i,this.map=e}}(e.fb++,i)),3==e.H&&ji(e)},Qi.prototype.N=function(){this.g.h=null,delete this.j,Xs(this.g),delete this.g,Qi.$.N.call(this)},vt(Go,Wn),vt($a,Fr),vt(b,ml),b.prototype.Ba=function(){Pe(this.g,"a")},b.prototype.Aa=function(i){Pe(this.g,new Go(i))},b.prototype.za=function(i){Pe(this.g,new $a)},b.prototype.ya=function(){Pe(this.g,"b")},vt(O,function Y(){this.blockSize=-1}),O.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},O.prototype.j=function(i,e){void 0===e&&(e=i.length);for(var n=e-this.blockSize,s=this.m,l=this.h,c=0;c<e;){if(0==l)for(;c<=n;)q(this,i,c),c+=this.blockSize;if("string"==typeof i){for(;c<e;)if(s[l++]=i.charCodeAt(c++),l==this.blockSize){q(this,s),l=0;break}}else for(;c<e;)if(s[l++]=i[c++],l==this.blockSize){q(this,s),l=0;break}}this.h=l,this.i+=e},O.prototype.l=function(){var i=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);i[0]=128;for(var e=1;e<i.length-8;++e)i[e]=0;var n=8*this.i;for(e=i.length-8;e<i.length;++e)i[e]=255&n,n/=256;for(this.j(i),i=Array(16),e=n=0;4>e;++e)for(var s=0;32>s;s+=8)i[n++]=this.g[e]>>>s&255;return i};var st={};function gt(i){return-128<=i&&128>i?function Mn(i,e){var n=st;return Object.prototype.hasOwnProperty.call(n,i)?n[i]:n[i]=e(i)}(i,function(e){return new pe([0|e],0>e?-1:0)}):new pe([0|i],0>i?-1:0)}function en(i){if(isNaN(i)||!isFinite(i))return nr;if(0>i)return Or(en(-i));for(var e=[],n=1,s=0;i>=n;s++)e[s]=i/n|0,n*=dr;return new pe(e,0)}var dr=4294967296,nr=gt(0),$n=gt(1),Zr=gt(16777216);function hr(i){if(0!=i.h)return!1;for(var e=0;e<i.g.length;e++)if(0!=i.g[e])return!1;return!0}function rr(i){return-1==i.h}function Or(i){for(var e=i.g.length,n=[],s=0;s<e;s++)n[s]=~i.g[s];return new pe(n,~i.h).add($n)}function ss(i,e){return i.add(Or(e))}function no(i,e){for(;(65535&i[e])!=i[e];)i[e+1]+=i[e]>>>16,i[e]&=65535,e++}function Li(i,e){this.g=i,this.h=e}function $s(i,e){if(hr(e))throw Error("division by zero");if(hr(i))return new Li(nr,nr);if(rr(i))return e=$s(Or(i),e),new Li(Or(e.g),Or(e.h));if(rr(e))return e=$s(i,Or(e)),new Li(Or(e.g),e.h);if(30<i.g.length){if(rr(i)||rr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=$n,s=e;0>=s.X(i);)n=Fi(n),s=Fi(s);var l=os(n,1),c=os(s,1);for(s=os(s,2),n=os(n,2);!hr(s);){var h=c.add(s);0>=h.X(i)&&(l=l.add(n),c=h),s=os(s,1),n=os(n,1)}return e=ss(i,l.R(e)),new Li(l,e)}for(l=nr;0<=i.X(e);){for(n=Math.max(1,Math.floor(i.ea()/e.ea())),s=48>=(s=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,s-48),h=(c=en(n)).R(e);rr(h)||0<h.X(i);)h=(c=en(n-=s)).R(e);hr(c)&&(c=$n),l=l.add(c),i=ss(i,h)}return new Li(l,i)}function Fi(i){for(var e=i.g.length+1,n=[],s=0;s<e;s++)n[s]=i.D(s)<<1|i.D(s-1)>>>31;return new pe(n,i.h)}function os(i,e){var n=e>>5;e%=32;for(var s=i.g.length-n,l=[],c=0;c<s;c++)l[c]=0<e?i.D(c+n)>>>e|i.D(c+n+1)<<32-e:i.D(c+n);return new pe(l,i.h)}(ut=pe.prototype).ea=function(){if(rr(this))return-Or(this).ea();for(var i=0,e=1,n=0;n<this.g.length;n++){var s=this.D(n);i+=(0<=s?s:dr+s)*e,e*=dr}return i},ut.toString=function(i){if(2>(i=i||10)||36<i)throw Error("radix out of range: "+i);if(hr(this))return"0";if(rr(this))return"-"+Or(this).toString(i);for(var e=en(Math.pow(i,6)),n=this,s="";;){var l=$s(n,e).g,c=((0<(n=ss(n,l.R(e))).g.length?n.g[0]:n.h)>>>0).toString(i);if(hr(n=l))return c+s;for(;6>c.length;)c="0"+c;s=c+s}},ut.D=function(i){return 0>i?0:i<this.g.length?this.g[i]:this.h},ut.X=function(i){return rr(i=ss(this,i))?-1:hr(i)?0:1},ut.abs=function(){return rr(this)?Or(this):this},ut.add=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],s=0,l=0;l<=e;l++){var c=s+(65535&this.D(l))+(65535&i.D(l)),h=(c>>>16)+(this.D(l)>>>16)+(i.D(l)>>>16);s=h>>>16,n[l]=(h&=65535)<<16|(c&=65535)}return new pe(n,-2147483648&n[n.length-1]?-1:0)},ut.R=function(i){if(hr(this)||hr(i))return nr;if(rr(this))return rr(i)?Or(this).R(Or(i)):Or(Or(this).R(i));if(rr(i))return Or(this.R(Or(i)));if(0>this.X(Zr)&&0>i.X(Zr))return en(this.ea()*i.ea());for(var e=this.g.length+i.g.length,n=[],s=0;s<2*e;s++)n[s]=0;for(s=0;s<this.g.length;s++)for(var l=0;l<i.g.length;l++){var c=this.D(s)>>>16,h=65535&this.D(s),D=i.D(l)>>>16,M=65535&i.D(l);n[2*s+2*l]+=h*M,no(n,2*s+2*l),n[2*s+2*l+1]+=c*M,no(n,2*s+2*l+1),n[2*s+2*l+1]+=h*D,no(n,2*s+2*l+1),n[2*s+2*l+2]+=c*D,no(n,2*s+2*l+2)}for(s=0;s<e;s++)n[s]=n[2*s+1]<<16|n[2*s];for(s=e;s<2*e;s++)n[s]=0;return new pe(n,0)},ut.gb=function(i){return $s(this,i).h},ut.and=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)&i.D(s);return new pe(n,this.h&i.h)},ut.or=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)|i.D(s);return new pe(n,this.h|i.h)},ut.xor=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)^i.D(s);return new pe(n,this.h^i.h)},vo.prototype.createWebChannel=vo.prototype.g,Qi.prototype.send=Qi.prototype.u,Qi.prototype.open=Qi.prototype.m,Qi.prototype.close=Qi.prototype.close,Fs.NO_ERROR=0,Fs.TIMEOUT=8,Fs.HTTP_ERROR=6,ao.COMPLETE="complete",Vs.EventType=qi,qi.OPEN="a",qi.CLOSE="b",qi.ERROR="c",qi.MESSAGE="d",_e.prototype.listen=_e.prototype.O,Gt.prototype.listenOnce=Gt.prototype.P,Gt.prototype.getLastError=Gt.prototype.Sa,Gt.prototype.getLastErrorCode=Gt.prototype.Ia,Gt.prototype.getStatus=Gt.prototype.da,Gt.prototype.getResponseJson=Gt.prototype.Wa,Gt.prototype.getResponseText=Gt.prototype.ja,Gt.prototype.send=Gt.prototype.ha,Gt.prototype.setWithCredentials=Gt.prototype.Oa,O.prototype.digest=O.prototype.l,O.prototype.reset=O.prototype.reset,O.prototype.update=O.prototype.j,pe.prototype.add=pe.prototype.add,pe.prototype.multiply=pe.prototype.R,pe.prototype.modulo=pe.prototype.gb,pe.prototype.compare=pe.prototype.X,pe.prototype.toNumber=pe.prototype.ea,pe.prototype.toString=pe.prototype.toString,pe.prototype.getBits=pe.prototype.D,pe.fromNumber=en,pe.fromString=function cr(i,e){if(0==i.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==i.charAt(0))return Or(cr(i.substring(1),e));if(0<=i.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=en(Math.pow(e,8)),s=nr,l=0;l<i.length;l+=8){var c=Math.min(8,i.length-l),h=parseInt(i.substring(l,l+c),e);8>c?(c=en(Math.pow(e,c)),s=s.R(c).add(en(h))):s=(s=s.R(n)).add(en(h))}return s};var Du=It.createWebChannelTransport=function(){return new vo},ei=It.getStatEventTarget=function(){return Ci()},H=It.ErrorCode=Fs,v=It.EventType=ao,y=It.Event=Mi,R=It.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},ne=(It.FetchXmlHttpFactory=Bs,It.WebChannel=Vs),be=It.XhrIo=Gt,Ne=It.Md5=O,Xe=It.Integer=pe;const ht="@firebase/firestore";class Tt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Tt.UNAUTHENTICATED=new Tt(null),Tt.GOOGLE_CREDENTIALS=new Tt("google-credentials-uid"),Tt.FIRST_PARTY=new Tt("first-party-uid"),Tt.MOCK_USER=new Tt("mock-user");let Yt="10.9.0";const Gn=new Ce.Yd("@firebase/firestore");function xn(){return Gn.logLevel}function ot(i,...e){if(Gn.logLevel<=Ce.in.DEBUG){const n=e.map(mi);Gn.debug(`Firestore (${Yt}): ${i}`,...n)}}function Fn(i,...e){if(Gn.logLevel<=Ce.in.ERROR){const n=e.map(mi);Gn.error(`Firestore (${Yt}): ${i}`,...n)}}function Qt(i,...e){if(Gn.logLevel<=Ce.in.WARN){const n=e.map(mi);Gn.warn(`Firestore (${Yt}): ${i}`,...n)}}function mi(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function Bt(i="Unexpected state"){const e=`FIRESTORE (${Yt}) INTERNAL ASSERTION FAILED: `+i;throw Fn(e),new Error(e)}function Ht(i,e){i||Bt()}function Lt(i,e){return i}const et={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class mt extends L.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Vr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class Io{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Pa{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Tt.UNAUTHENTICATED))}shutdown(){}}class Ga{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class ko{constructor(e){this.t=e,this.currentUser=Tt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var s=this;let l=this.i;const c=j=>this.i!==l?(l=this.i,n(j)):Promise.resolve();let h=new Vr;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Vr,e.enqueueRetryable(()=>c(this.currentUser))};const D=()=>{const j=h;e.enqueueRetryable((0,Ie.Z)(function*(){yield j.promise,yield c(s.currentUser)}))},M=j=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=j,this.auth.addAuthTokenListener(this.o),D()};this.t.onInit(j=>M(j)),setTimeout(()=>{if(!this.auth){const j=this.t.getImmediate({optional:!0});j?M(j):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Vr)}},0),D()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ht("string"==typeof s.accessToken),new Io(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ht(null===e||"string"==typeof e),new Tt(e)}}class Et{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=Tt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class fr{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new Et(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Tt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class nn{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bn{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const s=c=>{null!=c.error&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const h=c.token!==this.R;return this.R=c.token,ot("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const l=c=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>l(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?l(c):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ht("string"==typeof n.token),this.R=n.token,new nn(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function yr(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}class ti{static newId(){const n=62*Math.floor(256/62);let s="";for(;s.length<20;){const l=yr(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<n&&(s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(l[c]%62))}return s}}function un(i,e){return i<e?-1:i>e?1:0}function ui(i,e,n){return i.length===e.length&&i.every((s,l)=>n(s,e[l]))}function ro(i){return i+"\0"}class Vn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new mt(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new mt(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new mt(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new mt(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Vn.fromMillis(Date.now())}static fromDate(e){return Vn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new Vn(n,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?un(this.nanoseconds,e.nanoseconds):un(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class hn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new hn(e)}static min(){return new hn(new Vn(0,0))}static max(){return new hn(new Vn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ga{constructor(e,n,s){void 0===n?n=0:n>e.length&&Bt(),void 0===s?s=e.length-n:s>e.length-n&&Bt(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return 0===ga.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ga?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let l=0;l<s;l++){const c=e.get(l),h=n.get(l);if(c<h)return-1;if(c>h)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class rn extends ga{construct(e,n,s){return new rn(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new mt(et.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(l=>l.length>0))}return new rn(n)}static emptyPath(){return new rn([])}}const as=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qn extends ga{construct(e,n,s){return new Qn(e,n,s)}static isValidIdentifier(e){return as.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Qn(["__name__"])}static fromServerFormat(e){const n=[];let s="",l=0;const c=()=>{if(0===s.length)throw new mt(et.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;l<e.length;){const D=e[l];if("\\"===D){if(l+1===e.length)throw new mt(et.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const M=e[l+1];if("\\"!==M&&"."!==M&&"`"!==M)throw new mt(et.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=M,l+=2}else"`"===D?(h=!h,l++):"."!==D||h?(s+=D,l++):(c(),l++)}if(c(),h)throw new mt(et.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qn(n)}static emptyPath(){return new Qn([])}}class Ft{constructor(e){this.path=e}static fromPath(e){return new Ft(rn.fromString(e))}static fromName(e){return new Ft(rn.fromString(e).popFirst(5))}static empty(){return new Ft(rn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===rn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return rn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ft(new rn(e.slice()))}}class Yi{constructor(e,n,s,l){this.indexId=e,this.collectionGroup=n,this.fields=s,this.indexState=l}}function _l(i){return i.fields.find(e=>2===e.kind)}function ma(i){return i.fields.filter(e=>2!==e.kind)}Yi.UNKNOWN_ID=-1;class za{constructor(e,n){this.fieldPath=e,this.kind=n}}class _a{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new _a(0,A.min())}}function vc(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,l=hn.fromTimestamp(1e9===s?new Vn(n+1,0):new Vn(n,s));return new A(l,Ft.empty(),e)}function T(i){return new A(i.readTime,i.key,-1)}class A{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new A(hn.min(),Ft.empty(),-1)}static max(){return new A(hn.max(),Ft.empty(),-1)}}function I(i,e){let n=i.readTime.compareTo(e.readTime);return 0!==n?n:(n=Ft.comparator(i.documentKey,e.documentKey),0!==n?n:un(i.largestBatchId,e.largestBatchId))}const P="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class V{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function te(i){return ve.apply(this,arguments)}function ve(){return ve=(0,Ie.Z)(function*(i){if(i.code!==et.FAILED_PRECONDITION||i.message!==P)throw i;ot("LocalStore","Unexpectedly lost primary lease")}),ve.apply(this,arguments)}class ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Bt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ue((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,l)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ue?n:ue.resolve(n)}catch(n){return ue.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ue.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ue.reject(n)}static resolve(e){return new ue((n,s)=>{n(e)})}static reject(e){return new ue((n,s)=>{s(e)})}static waitFor(e){return new ue((n,s)=>{let l=0,c=0,h=!1;e.forEach(D=>{++l,D.next(()=>{++c,h&&c===l&&n()},M=>s(M))}),h=!0,c===l&&n()})}static or(e){let n=ue.resolve(!1);for(const s of e)n=n.next(l=>l?ue.resolve(l):s());return n}static forEach(e,n){const s=[];return e.forEach((l,c)=>{s.push(n.call(this,l,c))}),this.waitFor(s)}static mapArray(e,n){return new ue((s,l)=>{const c=e.length,h=new Array(c);let D=0;for(let M=0;M<c;M++){const j=M;n(e[j]).next(X=>{h[j]=X,++D,D===c&&s(h)},X=>l(X))}})}static doWhile(e,n){return new ue((s,l)=>{const c=()=>{!0===e()?n().next(()=>{c()},l):s()};c()})}}class Je{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Vr,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Kn(e,n.error)):this.V.resolve()},this.transaction.onerror=s=>{const l=yl(s.target.error);this.V.reject(new Kn(e,l))}}static open(e,n,s,l){try{return new Je(n,e.transaction(l,s))}catch(c){throw new Kn(n,c)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(ot("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const n=this.transaction.objectStore(e);return new Nr(n)}}class $t{constructor(e,n,s){this.name=e,this.version=n,this.p=s,12.2===$t.S((0,L.z$)())&&Fn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ot("SimpleDb","Removing database:",e),Eo(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,L.hl)())return!1;if($t.C())return!0;const e=(0,L.z$)(),n=$t.S(e),s=0<n&&n<10,l=$t.v(e),c=0<l&&l<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||c)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.F)}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static v(e){const n=e.match(/Android ([\d.]+)/i),s=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(s)}O(e){var n=this;return(0,Ie.Z)(function*(){return n.db||(ot("SimpleDb","Opening database:",n.name),n.db=yield new Promise((s,l)=>{const c=indexedDB.open(n.name,n.version);c.onsuccess=h=>{s(h.target.result)},c.onblocked=()=>{l(new Kn(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=h=>{const D=h.target.error;l("VersionError"===D.name?new mt(et.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===D.name?new mt(et.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+D):new Kn(e,D))},c.onupgradeneeded=h=>{ot("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',h.oldVersion),n.p.N(h.target.result,c.transaction,h.oldVersion,n.version).next(()=>{ot("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.L&&(n.db.onversionchange=s=>n.L(s)),n.db})()}B(e){this.L=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,s,l){var c=this;return(0,Ie.Z)(function*(){const h="readonly"===n;let D=0;for(;;){++D;try{c.db=yield c.O(e);const M=Je.open(c.db,e,h?"readonly":"readwrite",s),j=l(M).next(X=>(M.g(),X)).catch(X=>(M.abort(X),ue.reject(X))).toPromise();return j.catch(()=>{}),yield M.m,j}catch(M){const j=M,X="FirebaseError"!==j.name&&D<3;if(ot("SimpleDb","Transaction failed with error:",j.message,"Retrying:",X),c.close(),!X)return Promise.reject(j)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Yn{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Eo(this.k.delete())}}class Kn extends mt{constructor(e,n){super(et.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Un(i){return"IndexedDbTransactionError"===i.name}class Nr{constructor(e){this.store=e}put(e,n){let s;return void 0!==n?(ot("SimpleDb","PUT",this.store.name,e,n),s=this.store.put(n,e)):(ot("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),Eo(s)}add(e){return ot("SimpleDb","ADD",this.store.name,e,e),Eo(this.store.add(e))}get(e){return Eo(this.store.get(e)).next(n=>(void 0===n&&(n=null),ot("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return ot("SimpleDb","DELETE",this.store.name,e),Eo(this.store.delete(e))}count(){return ot("SimpleDb","COUNT",this.store.name),Eo(this.store.count())}W(e,n){const s=this.options(e,n),l=s.index?this.store.index(s.index):this.store;if("function"==typeof l.getAll){const c=l.getAll(s.range);return new ue((h,D)=>{c.onerror=M=>{D(M.target.error)},c.onsuccess=M=>{h(M.target.result)}})}{const c=this.cursor(s),h=[];return this.G(c,(D,M)=>{h.push(M)}).next(()=>h)}}j(e,n){const s=this.store.getAll(e,null===n?void 0:n);return new ue((l,c)=>{s.onerror=h=>{c(h.target.error)},s.onsuccess=h=>{l(h.target.result)}})}H(e,n){ot("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,n);s.J=!1;const l=this.cursor(s);return this.G(l,(c,h,D)=>D.delete())}Y(e,n){let s;n?s=e:(s={},n=e);const l=this.cursor(s);return this.G(l,n)}Z(e){const n=this.cursor({});return new ue((s,l)=>{n.onerror=c=>{const h=yl(c.target.error);l(h)},n.onsuccess=c=>{const h=c.target.result;h?e(h.primaryKey,h.value).next(D=>{D?h.continue():s()}):s()}})}G(e,n){const s=[];return new ue((l,c)=>{e.onerror=h=>{c(h.target.error)},e.onsuccess=h=>{const D=h.target.result;if(!D)return void l();const M=new Yn(D),j=n(D.primaryKey,D.value,M);if(j instanceof ue){const X=j.catch(fe=>(M.done(),ue.reject(fe)));s.push(X)}M.isDone?l():null===M.$?D.continue():D.continue(M.$)}}).next(()=>ue.waitFor(s))}options(e,n){let s;return void 0!==e&&("string"==typeof e?s=e:n=e),{index:s,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const s=this.store.index(e.index);return e.J?s.openKeyCursor(e.range,n):s.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Eo(i){return new ue((e,n)=>{i.onsuccess=s=>{e(s.target.result)},i.onerror=s=>{const l=yl(s.target.error);n(l)}})}let Wa=!1;function yl(i){const e=$t.S((0,L.z$)());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(n)>=0){const s=new mt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Wa||(Wa=!0,setTimeout(()=>{throw s},0)),s}}return i}class Ra{constructor(e,n){this.asyncQueue=e,this.X=n,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){var n=this;ot("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Ie.Z)(function*(){n.task=null;try{ot("IndexBackfiller",`Documents written: ${yield n.X.te()}`)}catch(s){Un(s)?ot("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",s):yield te(s)}yield n.ee(6e4)}))}}class Ic{constructor(e,n){this.localStore=e,this.persistence=n}te(e=50){var n=this;return(0,Ie.Z)(function*(){return n.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>n.ne(s,e))})()}ne(e,n){const s=new Set;let l=n,c=!0;return ue.doWhile(()=>!0===c&&l>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(h=>{if(null!==h&&!s.has(h))return ot("IndexBackfiller",`Processing collection: ${h}`),this.re(e,h,l).next(D=>{l-=D,s.add(h)});c=!1})).next(()=>n-l)}re(e,n,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(l=>this.localStore.localDocuments.getNextDocuments(e,n,l,s).next(c=>{const h=c.changes;return this.localStore.indexManager.updateIndexEntries(e,h).next(()=>this.ie(l,c)).next(D=>(ot("IndexBackfiller",`Updating offset: ${D}`),this.localStore.indexManager.updateCollectionGroup(e,n,D))).next(()=>h.size)}))}ie(e,n){let s=e;return n.changes.forEach((l,c)=>{const h=T(c);I(h,s)>0&&(s=h)}),new A(s.readTime,s.documentKey,Math.max(n.batchId,e.largestBatchId))}}let To=(()=>{class i{constructor(n,s){this.previousValue=n,s&&(s.sequenceNumberHandler=l=>this.se(l),this.oe=l=>s.writeSequenceNumber(l))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.oe&&this.oe(n),n}}return i._e=-1,i})();function qa(i){return null==i}function Co(i){return 0===i&&1/i==-1/0}function jh(i){return"number"==typeof i&&Number.isInteger(i)&&!Co(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}function Ji(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=vl(e)),e=Ec(i.get(n),e);return vl(e)}function Ec(i,e){let n=e;const s=i.length;for(let l=0;l<s;l++){const c=i.charAt(l);switch(c){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=c}}return n}function vl(i){return i+"\x01\x01"}function zo(i){const e=i.length;if(Ht(e>=2),2===e)return Ht("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),rn.emptyPath();const n=e-2,s=[];let l="";for(let c=0;c<e;){const h=i.indexOf("\x01",c);switch((h<0||h>n)&&Bt(),i.charAt(h+1)){case"\x01":const D=i.substring(c,h);let M;0===l.length?M=D:(l+=D,M=l,l=""),s.push(M);break;case"\x10":l+=i.substring(c,h),l+="\0";break;case"\x11":l+=i.substring(c,h+1);break;default:Bt()}c=h+2}return new rn(s)}const Au=["userId","batchId"];function Ka(i,e){return[i,Ji(e)]}function Tc(i,e,n){return[i,Ji(e),n]}const Gl={},Il=["prefixPath","collectionGroup","readTime","documentId"],wp=["prefixPath","collectionGroup","documentId"],zl=["collectionGroup","readTime","prefixPath","documentId"],Su=["canonicalId","targetId"],t_=["targetId","path"],bp=["path","targetId"],Dp=["collectionId","parent"],$h=["indexId","uid"],Ap=["uid","sequenceNumber"],vd=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Pu=["indexId","uid","orderedDocumentKey"],Id=["userId","collectionPath","documentId"],Ru=["userId","collectionPath","largestBatchId"],Mu=["userId","collectionGroup","largestBatchId"],xu=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Gh=[...xu,"documentOverlays"],Ou=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Ed=Ou,Nu=[...Ed,"indexConfiguration","indexState","indexEntries"];class Wo extends V{constructor(e,n){super(),this.ae=e,this.currentSequenceNumber=n}}function bs(i,e){const n=Lt(i);return $t.M(n.ae,e)}function El(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function qo(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function ku(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class ni{constructor(e,n){this.comparator=e,this.root=n||Ds.EMPTY}insert(e,n){return new ni(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ds.BLACK,null,null))}remove(e){return new ni(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ds.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(0===s)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(0===l)return n+s.left.size;l<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Tl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Tl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Tl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Tl(this.root,e,this.comparator,!0)}}class Tl{constructor(e,n,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?s(e.key,n):1,n&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ds{constructor(e,n,s,l,c){this.key=e,this.value=n,this.color=s??Ds.RED,this.left=l??Ds.EMPTY,this.right=c??Ds.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,l,c){return new Ds(e??this.key,n??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let l=this;const c=s(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,n,s),null):0===c?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ds.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===n(e,l.key)){if(l.right.isEmpty())return Ds.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ds.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ds.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Bt();const e=this.left.check();if(e!==this.right.check())throw Bt();return e+(this.isRed()?0:1)}}Ds.EMPTY=null,Ds.RED=!0,Ds.BLACK=!1,Ds.EMPTY=new class{constructor(){this.size=0}get key(){throw Bt()}get value(){throw Bt()}get color(){throw Bt()}get left(){throw Bt()}get right(){throw Bt()}copy(e,n,s,l,c){return this}insert(e,n,s){return new Ds(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Qr{constructor(e){this.comparator=e,this.data=new ni(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let s;for(s=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Td(this.data.getIterator())}getIteratorFrom(e){return new Td(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Qr)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=s.getNext().key;if(0!==this.comparator(l,c))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Qr(this.comparator);return n.data=e,n}}class Td{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Cl(i){return i.hasNext()?i.getNext():void 0}class Ns{constructor(e){this.fields=e,e.sort(Qn.comparator)}static empty(){return new Ns([])}unionWith(e){let n=new Qr(Qn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Ns(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ui(this.fields,e.fields,(n,s)=>n.isEqual(s))}}class zh extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ci{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new zh("Invalid base64 string: "+c):c}}(e);return new ci(n)}static fromUint8Array(e){const n=function(l){let c="";for(let h=0;h<l.length;++h)c+=String.fromCharCode(l[h]);return c}(e);return new ci(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let l=0;l<n.length;l++)s[l]=n.charCodeAt(l);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return un(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ci.EMPTY_BYTE_STRING=new ci("");const Sp=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ma(i){if(Ht(!!i),"string"==typeof i){let e=0;const n=Sp.exec(i);if(Ht(!!n),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ii(i.seconds),nanos:Ii(i.nanos)}}function Ii(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Lo(i){return"string"==typeof i?ci.fromBase64String(i):ci.fromUint8Array(i)}function Wl(i){var e,n;return"server_timestamp"===(null===(n=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ls(i){const e=i.mapValue.fields.__previous_value__;return Wl(e)?ls(e):e}function wl(i){const e=Ma(i.mapValue.fields.__local_write_time__.timestampValue);return new Vn(e.seconds,e.nanos)}class Cd{constructor(e,n,s,l,c,h,D,M,j){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=h,this.autoDetectLongPolling=D,this.longPollingOptions=M,this.useFetchStreams=j}}class Ko{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ko("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ko&&e.projectId===this.projectId&&e.database===this.database}}const Za={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ql={nullValue:"NULL_VALUE"};function na(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Wl(i)?4:bl(i)?9007199254740991:10:Bt()}function Gs(i,e){if(i===e)return!0;const n=na(i);if(n!==na(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return wl(i).isEqual(wl(e));case 3:return function(l,c){if("string"==typeof l.timestampValue&&"string"==typeof c.timestampValue&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const h=Ma(l.timestampValue),D=Ma(c.timestampValue);return h.seconds===D.seconds&&h.nanos===D.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return c=e,Lo(i.bytesValue).isEqual(Lo(c.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(l,c){return Ii(l.geoPointValue.latitude)===Ii(c.geoPointValue.latitude)&&Ii(l.geoPointValue.longitude)===Ii(c.geoPointValue.longitude)}(i,e);case 2:return function(l,c){if("integerValue"in l&&"integerValue"in c)return Ii(l.integerValue)===Ii(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const h=Ii(l.doubleValue),D=Ii(c.doubleValue);return h===D?Co(h)===Co(D):isNaN(h)&&isNaN(D)}return!1}(i,e);case 9:return ui(i.arrayValue.values||[],e.arrayValue.values||[],Gs);case 10:return function(l,c){const h=l.mapValue.fields||{},D=c.mapValue.fields||{};if(El(h)!==El(D))return!1;for(const M in h)if(h.hasOwnProperty(M)&&(void 0===D[M]||!Gs(h[M],D[M])))return!1;return!0}(i,e);default:return Bt()}var c}function ya(i,e){return void 0!==(i.values||[]).find(n=>Gs(n,e))}function wo(i,e){if(i===e)return 0;const n=na(i),s=na(e);if(n!==s)return un(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return un(i.booleanValue,e.booleanValue);case 2:return function(c,h){const D=Ii(c.integerValue||c.doubleValue),M=Ii(h.integerValue||h.doubleValue);return D<M?-1:D>M?1:D===M?0:isNaN(D)?isNaN(M)?0:-1:1}(i,e);case 3:return Lu(i.timestampValue,e.timestampValue);case 4:return Lu(wl(i),wl(e));case 5:return un(i.stringValue,e.stringValue);case 6:return function(c,h){const D=Lo(c),M=Lo(h);return D.compareTo(M)}(i.bytesValue,e.bytesValue);case 7:return function(c,h){const D=c.split("/"),M=h.split("/");for(let j=0;j<D.length&&j<M.length;j++){const X=un(D[j],M[j]);if(0!==X)return X}return un(D.length,M.length)}(i.referenceValue,e.referenceValue);case 8:return function(c,h){const D=un(Ii(c.latitude),Ii(h.latitude));return 0!==D?D:un(Ii(c.longitude),Ii(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(c,h){const D=c.values||[],M=h.values||[];for(let j=0;j<D.length&&j<M.length;++j){const X=wo(D[j],M[j]);if(X)return X}return un(D.length,M.length)}(i.arrayValue,e.arrayValue);case 10:return function(c,h){if(c===Za.mapValue&&h===Za.mapValue)return 0;if(c===Za.mapValue)return 1;if(h===Za.mapValue)return-1;const D=c.fields||{},M=Object.keys(D),j=h.fields||{},X=Object.keys(j);M.sort(),X.sort();for(let fe=0;fe<M.length&&fe<X.length;++fe){const Le=un(M[fe],X[fe]);if(0!==Le)return Le;const tt=wo(D[M[fe]],j[X[fe]]);if(0!==tt)return tt}return un(M.length,X.length)}(i.mapValue,e.mapValue);default:throw Bt()}}function Lu(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return un(i,e);const n=Ma(i),s=Ma(e),l=un(n.seconds,s.seconds);return 0!==l?l:un(n.nanos,s.nanos)}function Qa(i){return Ya(i)}function Ya(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=Ma(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?Lo(i.bytesValue).toBase64():"referenceValue"in i?Ft.fromName(i.referenceValue).toString():"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",l=!0;for(const c of n.values||[])l?l=!1:s+=",",s+=Ya(c);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let l="{",c=!0;for(const h of s)c?c=!1:l+=",",l+=`${h}:${Ya(n.fields[h])}`;return l+"}"}(i.mapValue):Bt()}function xa(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Wh(i){return!!i&&"integerValue"in i}function wc(i){return!!i&&"arrayValue"in i}function qh(i){return!!i&&"nullValue"in i}function Pp(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Kl(i){return!!i&&"mapValue"in i}function bc(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return qo(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=bc(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=bc(i.arrayValue.values[n]);return e}return Object.assign({},i)}function bl(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function Rp(i){return"nullValue"in i?ql:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?xa(Ko.empty(),Ft.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:Bt()}function Mp(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?xa(Ko.empty(),Ft.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?Za:Bt()}function us(i,e){const n=wo(i.value,e.value);return 0!==n?n:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function Kh(i,e){const n=wo(i.value,e.value);return 0!==n?n:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class Xi{constructor(e){this.value=e}static empty(){return new Xi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Kl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=bc(n)}setAll(e){let n=Qn.emptyPath(),s={},l=[];e.forEach((h,D)=>{if(!n.isImmediateParentOf(D)){const M=this.getFieldsMap(n);this.applyChanges(M,s,l),s={},l=[],n=D.popLast()}h?s[D.lastSegment()]=bc(h):l.push(D.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,s,l)}delete(e){const n=this.field(e.popLast());Kl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Gs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=n.mapValue.fields[e.get(s)];Kl(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,s){qo(n,(l,c)=>e[l]=c);for(const l of s)delete e[l]}clone(){return new Xi(bc(this.value))}}function Zh(i){const e=[];return qo(i.fields,(n,s)=>{const l=new Qn([n]);if(Kl(s)){const c=Zh(s.mapValue).fields;if(0===c.length)e.push(l);else for(const h of c)e.push(l.child(h))}else e.push(l)}),new Ns(e)}class mr{constructor(e,n,s,l,c,h,D){this.key=e,this.documentType=n,this.version=s,this.readTime=l,this.createTime=c,this.data=h,this.documentState=D}static newInvalidDocument(e){return new mr(e,0,hn.min(),hn.min(),hn.min(),Xi.empty(),0)}static newFoundDocument(e,n,s,l){return new mr(e,1,n,hn.min(),s,l,0)}static newNoDocument(e,n){return new mr(e,2,n,hn.min(),hn.min(),Xi.empty(),0)}static newUnknownDocument(e,n){return new mr(e,3,n,hn.min(),hn.min(),Xi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(hn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=hn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof mr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Fo{constructor(e,n){this.position=e,this.inclusive=n}}function bd(i,e,n){let s=0;for(let l=0;l<i.position.length;l++){const c=e[l],h=i.position[l];if(s=c.field.isKeyField()?Ft.comparator(Ft.fromName(h.referenceValue),n.key):wo(h,n.data.field(c.field)),"desc"===c.dir&&(s*=-1),0!==s)break}return s}function Fu(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Gs(i.position[n],e.position[n]))return!1;return!0}class Oa{constructor(e,n="asc"){this.field=e,this.dir=n}}function xp(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class Qh{}class Cr extends Qh{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,s):new Xh(e,n,s):"array-contains"===n?new Sd(e,s):"in"===n?new Sc(e,s):"not-in"===n?new Uu(e,s):"array-contains-any"===n?new Pc(e,s):new Cr(e,n,s)}static createKeyFieldInFilter(e,n,s){return"in"===n?new Op(e,s):new Ad(e,s)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(wo(n,this.value)):null!==n&&na(this.value)===na(n)&&this.matchesComparison(wo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Bt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ii extends Qh{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new ii(e,n)}matches(e){return As(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function As(i){return"and"===i.op}function Vu(i){return"or"===i.op}function Ja(i){return Dd(i)&&As(i)}function Dd(i){for(const e of i.filters)if(e instanceof ii)return!1;return!0}function Zl(i){if(i instanceof Cr)return i.field.canonicalString()+i.op.toString()+Qa(i.value);if(Ja(i))return i.filters.map(e=>Zl(e)).join(",");{const e=i.filters.map(n=>Zl(n)).join(",");return`${i.op}(${e})`}}function Yh(i,e){return i instanceof Cr?(s=i,(l=e)instanceof Cr&&s.op===l.op&&s.field.isEqual(l.field)&&Gs(s.value,l.value)):i instanceof ii?function(s,l){return l instanceof ii&&s.op===l.op&&s.filters.length===l.filters.length&&s.filters.reduce((c,h,D)=>c&&Yh(h,l.filters[D]),!0)}(i,e):void Bt();var s,l}function Dc(i,e){const n=i.filters.concat(e);return ii.create(n,i.op)}function Jh(i){return i instanceof Cr?`${(n=i).field.canonicalString()} ${n.op} ${Qa(n.value)}`:i instanceof ii?function(n){return n.op.toString()+" {"+n.getFilters().map(Jh).join(" ,")+"}"}(i):"Filter";var n}class Xh extends Cr{constructor(e,n,s){super(e,n,s),this.key=Ft.fromName(s.referenceValue)}matches(e){const n=Ft.comparator(e.key,this.key);return this.matchesComparison(n)}}class Op extends Cr{constructor(e,n){super(e,"in",n),this.keys=Ac(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Ad extends Cr{constructor(e,n){super(e,"not-in",n),this.keys=Ac(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Ac(i,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(s=>Ft.fromName(s.referenceValue))}class Sd extends Cr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return wc(n)&&ya(n.arrayValue,this.value)}}class Sc extends Cr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&ya(this.value.arrayValue,n)}}class Uu extends Cr{constructor(e,n){super(e,"not-in",n)}matches(e){if(ya(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!ya(this.value.arrayValue,n)}}class Pc extends Cr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!wc(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>ya(this.value.arrayValue,s))}}class Bu{constructor(e,n=null,s=[],l=[],c=null,h=null,D=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=h,this.endAt=D,this.ce=null}}function Rc(i,e=null,n=[],s=[],l=null,c=null,h=null){return new Bu(i,e,n,s,l,c,h)}function Xa(i){const e=Lt(i);if(null===e.ce){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Zl(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>{return(c=s).field.canonicalString()+c.dir;var c}).join(","),qa(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Qa(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Qa(s)).join(",")),e.ce=n}return e.ce}function Dl(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!xp(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!Yh(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Fu(i.startAt,e.startAt)&&Fu(i.endAt,e.endAt)}function Al(i){return Ft.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function Hu(i,e){return i.filters.filter(n=>n instanceof Cr&&n.field.isEqual(e))}function ef(i,e,n){let s=ql,l=!0;for(const c of Hu(i,e)){let h=ql,D=!0;switch(c.op){case"<":case"<=":h=Rp(c.value);break;case"==":case"in":case">=":h=c.value;break;case">":h=c.value,D=!1;break;case"!=":case"not-in":h=ql}us({value:s,inclusive:l},{value:h,inclusive:D})<0&&(s=h,l=D)}if(null!==n)for(let c=0;c<i.orderBy.length;++c)if(i.orderBy[c].field.isEqual(e)){const h=n.position[c];us({value:s,inclusive:l},{value:h,inclusive:n.inclusive})<0&&(s=h,l=n.inclusive);break}return{value:s,inclusive:l}}function Pd(i,e,n){let s=Za,l=!0;for(const c of Hu(i,e)){let h=Za,D=!0;switch(c.op){case">=":case">":h=Mp(c.value),D=!1;break;case"==":case"in":case"<=":h=c.value;break;case"<":h=c.value,D=!1;break;case"!=":case"not-in":h=Za}Kh({value:s,inclusive:l},{value:h,inclusive:D})>0&&(s=h,l=D)}if(null!==n)for(let c=0;c<i.orderBy.length;++c)if(i.orderBy[c].field.isEqual(e)){const h=n.position[c];Kh({value:s,inclusive:l},{value:h,inclusive:n.inclusive})>0&&(s=h,l=n.inclusive);break}return{value:s,inclusive:l}}class bo{constructor(e,n=null,s=[],l=[],c=null,h="F",D=null,M=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=h,this.startAt=D,this.endAt=M,this.le=null,this.he=null,this.Pe=null}}function ju(i,e,n,s,l,c,h,D){return new bo(i,e,n,s,l,c,h,D)}function Ql(i){return new bo(i)}function E(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function f(i){return null!==i.collectionGroup}function g(i){const e=Lt(i);if(null===e.le){e.le=[];const n=new Set;for(const c of e.explicitOrderBy)e.le.push(c),n.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let D=new Qr(Qn.comparator);return h.filters.forEach(M=>{M.getFlattenedFilters().forEach(j=>{j.isInequality()&&(D=D.add(j.field))})}),D})(e).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||e.le.push(new Oa(c,s))}),n.has(Qn.keyField().canonicalString())||e.le.push(new Oa(Qn.keyField(),s))}return e.le}function w(i){const e=Lt(i);return e.he||(e.he=function W(i,e){if("F"===i.limitType)return Rc(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(l=>new Oa(l.field,"desc"===l.dir?"asc":"desc"));const n=i.endAt?new Fo(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Fo(i.startAt.position,i.startAt.inclusive):null;return Rc(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}(e,g(i))),e.he}function oe(i,e){const n=i.filters.concat([e]);return new bo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Ue(i,e,n){return new bo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function at(i,e){return Dl(w(i),w(e))&&i.limitType===e.limitType}function wt(i){return`${Xa(w(i))}|lt:${i.limitType}`}function sn(i){return`Query(target=${function(n){let s=n.path.canonicalString();return null!==n.collectionGroup&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(l=>Jh(l)).join(", ")}]`),qa(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(l=>{return`${(h=l).field.canonicalString()} (${h.dir})`;var h}).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(l=>Qa(l)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(l=>Qa(l)).join(",")),`Target(${s})`}(w(i))}; limitType=${i.limitType})`}function mn(i,e){return e.isFoundDocument()&&function(s,l){const c=l.key.path;return null!==s.collectionGroup?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):Ft.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(i,e)&&function(s,l){for(const c of g(s))if(!c.field.isKeyField()&&null===l.data.field(c.field))return!1;return!0}(i,e)&&function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0}(i,e)&&(l=e,!((s=i).startAt&&!function(h,D,M){const j=bd(h,D,M);return h.inclusive?j<=0:j<0}(s.startAt,g(s),l)||s.endAt&&!function(h,D,M){const j=bd(h,D,M);return h.inclusive?j>=0:j>0}(s.endAt,g(s),l)));var s,l}function vr(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function zs(i){return(e,n)=>{let s=!1;for(const l of g(i)){const c=Sl(l,e,n);if(0!==c)return c;s=s||l.field.isKeyField()}return 0}}function Sl(i,e,n){const s=i.field.isKeyField()?Ft.comparator(e.key,n.key):function(c,h,D){const M=h.data.field(c),j=D.data.field(c);return null!==M&&null!==j?wo(M,j):Bt()}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Bt()}}class Zo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(void 0!==s)for(const[l,c]of s)if(this.equalsFn(l,e))return c}has(e){return void 0!==this.get(e)}set(e,n){const s=this.mapKeyFn(e),l=this.inner[s];if(void 0===l)return this.inner[s]=[[e,n]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(void 0===s)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return 1===s.length?delete this.inner[n]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){qo(this.inner,(n,s)=>{for(const[l,c]of s)e(l,c)})}isEmpty(){return ku(this.inner)}size(){return this.innerSize}}const tf=new ni(Ft.comparator);function Ss(){return tf}const nf=new ni(Ft.comparator);function $u(...i){let e=nf;for(const n of i)e=e.insert(n.key,n);return e}function Yl(i){let e=nf;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function va(){return Jl()}function rf(){return Jl()}function Jl(){return new Zo(i=>i.toString(),(i,e)=>i.isEqual(e))}const Np=new ni(Ft.comparator),n_=new Qr(Ft.comparator);function tr(...i){let e=n_;for(const n of i)e=e.add(n);return e}const Mc=new Qr(un);function xc(){return Mc}function kp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Co(e)?"-0":e}}function Lp(i){return{integerValue:""+i}}function Fp(i,e){return jh(e)?Lp(e):kp(i,e)}class Pl{constructor(){this._=void 0}}function r_(i,e,n){return i instanceof Rl?function(l,c){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Wl(c)&&(c=ls(c)),c&&(h.fields.__previous_value__=c),{mapValue:h}}(n,e):i instanceof el?s_(i,e):i instanceof Gu?o_(i,e):function(l,c){const h=Rd(l,c),D=sf(h)+sf(l.Ie);return Wh(h)&&Wh(l.Ie)?Lp(D):kp(l.serializer,D)}(i,e)}function i_(i,e,n){return i instanceof el?s_(i,e):i instanceof Gu?o_(i,e):n}function Rd(i,e){return i instanceof zu?Wh(s=e)||(c=s)&&"doubleValue"in c?e:{integerValue:0}:null;var s,c}class Rl extends Pl{}class el extends Pl{constructor(e){super(),this.elements=e}}function s_(i,e){const n=a_(e);for(const s of i.elements)n.some(l=>Gs(l,s))||n.push(s);return{arrayValue:{values:n}}}class Gu extends Pl{constructor(e){super(),this.elements=e}}function o_(i,e){let n=a_(e);for(const s of i.elements)n=n.filter(l=>!Gs(l,s));return{arrayValue:{values:n}}}class zu extends Pl{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function sf(i){return Ii(i.integerValue||i.doubleValue)}function a_(i){return wc(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Md{constructor(e,n){this.field=e,this.transform=n}}class l_{constructor(e,n){this.version=e,this.transformResults=n}}class $i{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new $i}static exists(e){return new $i(void 0,e)}static updateTime(e){return new $i(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function af(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class io{}function lf(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new Ku(i.key,$i.none()):new qu(i.key,i.data,$i.none());{const n=i.data,s=Xi.empty();let l=new Qr(Qn.comparator);for(let c of e.fields)if(!l.has(c)){let h=n.field(c);null===h&&c.length>1&&(c=c.popLast(),h=n.field(c)),null===h?s.delete(c):s.set(c,h),l=l.add(c)}return new tl(i.key,s,new Ns(l.toArray()),$i.none())}}function u_(i,e,n){i instanceof qu?function(l,c,h){const D=l.value.clone(),M=Vp(l.fieldTransforms,c,h.transformResults);D.setAll(M),c.convertToFoundDocument(h.version,D).setHasCommittedMutations()}(i,e,n):i instanceof tl?function(l,c,h){if(!af(l.precondition,c))return void c.convertToUnknownDocument(h.version);const D=Vp(l.fieldTransforms,c,h.transformResults),M=c.data;M.setAll(c_(l)),M.setAll(D),c.convertToFoundDocument(h.version,M).setHasCommittedMutations()}(i,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Wu(i,e,n,s){return i instanceof qu?function(c,h,D,M){if(!af(c.precondition,h))return D;const j=c.value.clone(),X=d_(c.fieldTransforms,M,h);return j.setAll(X),h.convertToFoundDocument(h.version,j).setHasLocalMutations(),null}(i,e,n,s):i instanceof tl?function(c,h,D,M){if(!af(c.precondition,h))return D;const j=d_(c.fieldTransforms,M,h),X=h.data;return X.setAll(c_(c)),X.setAll(j),h.convertToFoundDocument(h.version,X).setHasLocalMutations(),null===D?null:D.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(fe=>fe.field))}(i,e,n,s):(D=n,af(i.precondition,h=e)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):D);var h,D}function Do(i,e){let n=null;for(const s of i.fieldTransforms){const l=e.data.field(s.field),c=Rd(s.transform,l||null);null!=c&&(null===n&&(n=Xi.empty()),n.set(s.field,c))}return n||null}function Oc(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(l=e.fieldTransforms,!!(void 0===(s=i.fieldTransforms)&&void 0===l||s&&l&&ui(s,l,(c,h)=>function Nv(i,e){return i.field.isEqual(e.field)&&(l=e.transform,(s=i.transform)instanceof el&&l instanceof el||s instanceof Gu&&l instanceof Gu?ui(s.elements,l.elements,Gs):s instanceof zu&&l instanceof zu?Gs(s.Ie,l.Ie):s instanceof Rl&&l instanceof Rl);var s,l}(c,h))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var s,l}class qu extends io{constructor(e,n,s,l=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class tl extends io{constructor(e,n,s,l,c=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function c_(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function Vp(i,e,n){const s=new Map;Ht(i.length===n.length);for(let l=0;l<n.length;l++){const c=i[l],h=c.transform,D=e.data.field(c.field);s.set(c.field,i_(h,D,n[l]))}return s}function d_(i,e,n){const s=new Map;for(const l of i){const c=l.transform,h=n.data.field(l.field);s.set(l.field,r_(c,h,e))}return s}class Ku extends io{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Up extends io{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class uf{constructor(e,n,s,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&u_(c,e,s[l])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Wu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Wu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=rf();return this.mutations.forEach(l=>{const c=e.get(l.key),h=c.overlayedDocument;let D=this.applyToLocalView(h,c.mutatedFields);D=n.has(l.key)?null:D;const M=lf(h,D);null!==M&&s.set(l.key,M),h.isValidDocument()||h.convertToNoDocument(hn.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),tr())}isEqual(e){return this.batchId===e.batchId&&ui(this.mutations,e.mutations,(n,s)=>Oc(n,s))&&ui(this.baseMutations,e.baseMutations,(n,s)=>Oc(n,s))}}class Bp{constructor(e,n,s,l){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=l}static from(e,n,s){Ht(e.mutations.length===s.length);let l=Np;const c=e.mutations;for(let h=0;h<c.length;h++)l=l.insert(c[h].key,s[h].version);return new Bp(e,n,s,l)}}class Hp{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class $p{constructor(e,n){this.count=e,this.unchangedNames=n}}var Ps,wr;function h_(i){switch(i){default:return Bt();case et.CANCELLED:case et.UNKNOWN:case et.DEADLINE_EXCEEDED:case et.RESOURCE_EXHAUSTED:case et.INTERNAL:case et.UNAVAILABLE:case et.UNAUTHENTICATED:return!1;case et.INVALID_ARGUMENT:case et.NOT_FOUND:case et.ALREADY_EXISTS:case et.PERMISSION_DENIED:case et.FAILED_PRECONDITION:case et.ABORTED:case et.OUT_OF_RANGE:case et.UNIMPLEMENTED:case et.DATA_LOSS:return!0}}function f_(i){if(void 0===i)return Fn("GRPC error has no .code"),et.UNKNOWN;switch(i){case Ps.OK:return et.OK;case Ps.CANCELLED:return et.CANCELLED;case Ps.UNKNOWN:return et.UNKNOWN;case Ps.DEADLINE_EXCEEDED:return et.DEADLINE_EXCEEDED;case Ps.RESOURCE_EXHAUSTED:return et.RESOURCE_EXHAUSTED;case Ps.INTERNAL:return et.INTERNAL;case Ps.UNAVAILABLE:return et.UNAVAILABLE;case Ps.UNAUTHENTICATED:return et.UNAUTHENTICATED;case Ps.INVALID_ARGUMENT:return et.INVALID_ARGUMENT;case Ps.NOT_FOUND:return et.NOT_FOUND;case Ps.ALREADY_EXISTS:return et.ALREADY_EXISTS;case Ps.PERMISSION_DENIED:return et.PERMISSION_DENIED;case Ps.FAILED_PRECONDITION:return et.FAILED_PRECONDITION;case Ps.ABORTED:return et.ABORTED;case Ps.OUT_OF_RANGE:return et.OUT_OF_RANGE;case Ps.UNIMPLEMENTED:return et.UNIMPLEMENTED;case Ps.DATA_LOSS:return et.DATA_LOSS;default:return Bt()}}(wr=Ps||(Ps={}))[wr.OK=0]="OK",wr[wr.CANCELLED=1]="CANCELLED",wr[wr.UNKNOWN=2]="UNKNOWN",wr[wr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",wr[wr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",wr[wr.NOT_FOUND=5]="NOT_FOUND",wr[wr.ALREADY_EXISTS=6]="ALREADY_EXISTS",wr[wr.PERMISSION_DENIED=7]="PERMISSION_DENIED",wr[wr.UNAUTHENTICATED=16]="UNAUTHENTICATED",wr[wr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",wr[wr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",wr[wr.ABORTED=10]="ABORTED",wr[wr.OUT_OF_RANGE=11]="OUT_OF_RANGE",wr[wr.UNIMPLEMENTED=12]="UNIMPLEMENTED",wr[wr.INTERNAL=13]="INTERNAL",wr[wr.UNAVAILABLE=14]="UNAVAILABLE",wr[wr.DATA_LOSS=15]="DATA_LOSS";function Gp(){return new TextEncoder}const p_=new Xe([4294967295,4294967295],0);function Zu(i){const e=Gp().encode(i),n=new Ne;return n.update(e),new Uint8Array(n.digest())}function Od(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Xe([n,s],0),new Xe([l,c],0)]}class cf{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Qu(`Invalid padding: ${n}`);if(s<0)throw new Qu(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new Qu(`Invalid hash count: ${s}`);if(0===e.length&&0!==n)throw new Qu(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Xe.fromNumber(this.Te)}de(e,n,s){let l=e.add(n.multiply(Xe.fromNumber(s)));return 1===l.compare(p_)&&(l=new Xe([l.getBits(0),l.getBits(1)],0)),l.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const n=Zu(e),[s,l]=Od(n);for(let c=0;c<this.hashCount;c++){const h=this.de(s,l,c);if(!this.Ae(h))return!1}return!0}static create(e,n,s){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),h=new cf(c,l,n);return s.forEach(D=>h.insert(D)),h}insert(e){if(0===this.Te)return;const n=Zu(e),[s,l]=Od(n);for(let c=0;c<this.hashCount;c++){const h=this.de(s,l,c);this.Re(h)}}Re(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class Qu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Xl{constructor(e,n,s,l,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const l=new Map;return l.set(e,Nd.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Xl(hn.min(),l,new ni(un),Ss(),tr())}}class Nd{constructor(e,n,s,l,c){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Nd(s,n,tr(),tr(),tr())}}class df{constructor(e,n,s,l){this.Ve=e,this.removedTargetIds=n,this.key=s,this.me=l}}class g_{constructor(e,n){this.targetId=e,this.fe=n}}class m_{constructor(e,n,s=ci.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=l}}class __{constructor(){this.ge=0,this.pe=kd(),this.ye=ci.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=tr(),n=tr(),s=tr();return this.pe.forEach((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:s=s.add(l);break;default:Bt()}}),new Nd(this.ye,this.we,e,n,s)}Fe(){this.Se=!1,this.pe=kd()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Ht(this.ge>=0)}Le(){this.Se=!0,this.we=!0}}class kv{constructor(e){this.Be=e,this.ke=new Map,this.qe=Ss(),this.Qe=zp(),this.Ke=new ni(un)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const s=this.ze(n);switch(e.state){case 0:this.je(n)&&s.Ce(e.resumeToken);break;case 1:s.Ne(),s.be||s.Fe(),s.Ce(e.resumeToken);break;case 2:s.Ne(),s.be||this.removeTarget(n);break;case 3:this.je(n)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),s.Ce(e.resumeToken));break;default:Bt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((s,l)=>{this.je(l)&&n(l)})}Je(e){const n=e.targetId,s=e.fe.count,l=this.Ye(n);if(l){const c=l.target;if(Al(c))if(0===s){const h=new Ft(c.path);this.We(n,h,mr.newNoDocument(h,hn.min()))}else Ht(1===s);else{const h=this.Ze(n);if(h!==s){const D=this.Xe(e),M=D?this.et(D,e,h):1;0!==M&&(this.He(n),this.Ke=this.Ke.insert(n,2===M?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=n;let h,D;try{h=Lo(s).toUint8Array()}catch(M){if(M instanceof zh)return Qt("Decoding the base64 bloom filter in existence filter failed ("+M.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw M}try{D=new cf(h,l,c)}catch(M){return Qt(M instanceof Qu?"BloomFilter error: ":"Applying bloom filter failed: ",M),null}return 0===D.Te?null:D}et(e,n,s){return n.fe.count===s-this.rt(e,n.targetId)?0:2}rt(e,n){const s=this.Be.getRemoteKeysForTarget(n);let l=0;return s.forEach(c=>{const h=this.Be.nt(),D=`projects/${h.projectId}/databases/${h.database}/documents/${c.path.canonicalString()}`;e.mightContain(D)||(this.We(n,c,null),l++)}),l}it(e){const n=new Map;this.ke.forEach((c,h)=>{const D=this.Ye(h);if(D){if(c.current&&Al(D.target)){const M=new Ft(D.target.path);null!==this.qe.get(M)||this.st(h,M)||this.We(h,M,mr.newNoDocument(M,e))}c.De&&(n.set(h,c.ve()),c.Fe())}});let s=tr();this.Qe.forEach((c,h)=>{let D=!0;h.forEachWhile(M=>{const j=this.Ye(M);return!j||"TargetPurposeLimboResolution"===j.purpose||(D=!1,!1)}),D&&(s=s.add(c))}),this.qe.forEach((c,h)=>h.setReadTime(e));const l=new Xl(e,n,this.Ke,this.qe,s);return this.qe=Ss(),this.Qe=zp(),this.Ke=new ni(un),l}Ue(e,n){if(!this.je(e))return;const s=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,s),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,s){if(!this.je(e))return;const l=this.ze(e);this.st(e,n)?l.Me(n,1):l.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),s&&(this.qe=this.qe.insert(n,s))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new __,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Qr(un),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=null!==this.Ye(e);return n||ot("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Be._t(e)}He(e){this.ke.set(e,new __),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}}function zp(){return new ni(Ft.comparator)}function kd(){return new ni(Ft.comparator)}const Wp={asc:"ASCENDING",desc:"DESCENDING"},qp={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Lv={and:"AND",or:"OR"};class Fv{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ld(i,e){return i.useProto3Json||qa(e)?e:{value:e}}function Yu(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function eu(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function y_(i,e){return Yu(i,e.toTimestamp())}function cs(i){return Ht(!!i),hn.fromTimestamp(function(n){const s=Ma(n);return new Vn(s.seconds,s.nanos)}(i))}function Kp(i,e){return v_(i,e).canonicalString()}function v_(i,e){const n=(l=i,new rn(["projects",l.projectId,"databases",l.database])).child("documents");var l;return void 0===e?n:n.child(e)}function Fd(i){const e=rn.fromString(i);return Ht(w_(e)),e}function Vd(i,e){return Kp(i.databaseId,e.path)}function Na(i,e){const n=Fd(e);if(n.get(1)!==i.databaseId.projectId)throw new mt(et.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new mt(et.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Ft(Yp(n))}function Zp(i,e){return Kp(i.databaseId,e)}function Qp(i){const e=Fd(i);return 4===e.length?rn.emptyPath():Yp(e)}function Ud(i){return new rn(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Yp(i){return Ht(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function Bd(i,e,n){return{name:Vd(i,e),fields:n.value.mapValue.fields}}function Nc(i,e,n){const s=Na(i,e.name),l=cs(e.updateTime),c=e.createTime?cs(e.createTime):hn.min(),h=new Xi({mapValue:{fields:e.fields}}),D=mr.newFoundDocument(s,l,c,h);return n&&D.setHasCommittedMutations(),n?D.setHasCommittedMutations():D}function tu(i,e){let n;if(e instanceof qu)n={update:Bd(i,e.key,e.value)};else if(e instanceof Ku)n={delete:Vd(i,e.key)};else if(e instanceof tl)n={update:Bd(i,e.key,e.data),updateMask:Bv(e.fieldMask)};else{if(!(e instanceof Up))return Bt();n={verify:Vd(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(c,h){const D=h.transform;if(D instanceof Rl)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(D instanceof el)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:D.elements}};if(D instanceof Gu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:D.elements}};if(D instanceof zu)return{fieldPath:h.field.canonicalString(),increment:D.Ie};throw Bt()}(0,s))),e.precondition.isNone||(n.currentDocument=void 0!==(c=e.precondition).updateTime?{updateTime:y_(i,c.updateTime)}:void 0!==c.exists?{exists:c.exists}:Bt()),n;var c}function hf(i,e){const n=e.currentDocument?void 0!==(c=e.currentDocument).updateTime?$i.updateTime(cs(c.updateTime)):void 0!==c.exists?$i.exists(c.exists):$i.none():$i.none(),s=e.updateTransforms?e.updateTransforms.map(l=>function(h,D){let M=null;"setToServerValue"in D?(Ht("REQUEST_TIME"===D.setToServerValue),M=new Rl):"appendMissingElements"in D?M=new el(D.appendMissingElements.values||[]):"removeAllFromArray"in D?M=new Gu(D.removeAllFromArray.values||[]):"increment"in D?M=new zu(h,D.increment):Bt();const j=Qn.fromServerFormat(D.fieldPath);return new Md(j,M)}(i,l)):[];var c;if(e.update){const l=Na(i,e.update.name),c=new Xi({mapValue:{fields:e.update.fields}});if(e.updateMask){const h=new Ns((e.updateMask.fieldPaths||[]).map(X=>Qn.fromServerFormat(X)));return new tl(l,c,h,n,s)}return new qu(l,c,n,s)}if(e.delete){const l=Na(i,e.delete);return new Ku(l,n)}if(e.verify){const l=Na(i,e.verify);return new Up(l,n)}return Bt()}function kc(i,e){return{documents:[Zp(i,e.path)]}}function eg(i,e){const n={structuredQuery:{}},s=e.path;let l;null!==e.collectionGroup?(l=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Zp(i,l);const c=function(j){if(0!==j.length)return Ju(ii.create(j,"and"))}(e.filters);c&&(n.structuredQuery.where=c);const h=function(j){if(0!==j.length)return j.map(X=>{return{field:ka((Le=X).field),direction:Uv(Le.dir)};var Le})}(e.orderBy);h&&(n.structuredQuery.orderBy=h);const D=Ld(i,e.limit);return null!==D&&(n.structuredQuery.limit=D),e.startAt&&(n.structuredQuery.startAt={before:(j=e.startAt).inclusive,values:j.position}),e.endAt&&(n.structuredQuery.endAt=function(j){return{before:!j.inclusive,values:j.position}}(e.endAt)),{ut:n,parent:l};var j}function tg(i){let e=Qp(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let l=null;if(s>0){Ht(1===s);const X=n.from[0];X.allDescendants?l=X.collectionId:e=e.child(X.collectionId)}let c=[];n.where&&(c=function(fe){const Le=E_(fe);return Le instanceof ii&&Ja(Le)?Le.getFilters():[Le]}(n.where));let h=[];n.orderBy&&(h=n.orderBy.map(Le=>{return new Oa(nu((Ot=Le).field),function(Zt){switch(Zt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ot.direction));var Ot}));let D=null;n.limit&&(D=function(fe){let Le;return Le="object"==typeof fe?fe.value:fe,qa(Le)?null:Le}(n.limit));let M=null;var fe;n.startAt&&(M=new Fo((fe=n.startAt).values||[],!!fe.before));let j=null;return n.endAt&&(j=function(fe){return new Fo(fe.values||[],!fe.before)}(n.endAt)),ju(e,l,h,c,D,"F",M,j)}function E_(i){return void 0!==i.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=nu(n.unaryFilter.field);return Cr.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=nu(n.unaryFilter.field);return Cr.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=nu(n.unaryFilter.field);return Cr.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=nu(n.unaryFilter.field);return Cr.create(h,"!=",{nullValue:"NULL_VALUE"});default:return Bt()}}(i):void 0!==i.fieldFilter?Cr.create(nu((n=i).fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Bt()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==i.compositeFilter?function(n){return ii.create(n.compositeFilter.filters.map(s=>E_(s)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Bt()}}(n.compositeFilter.op))}(i):Bt();var n}function Uv(i){return Wp[i]}function T_(i){return qp[i]}function C_(i){return Lv[i]}function ka(i){return{fieldPath:i.canonicalString()}}function nu(i){return Qn.fromServerFormat(i.fieldPath)}function Ju(i){return i instanceof Cr?function(n){if("=="===n.op){if(Pp(n.value))return{unaryFilter:{field:ka(n.field),op:"IS_NAN"}};if(qh(n.value))return{unaryFilter:{field:ka(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(Pp(n.value))return{unaryFilter:{field:ka(n.field),op:"IS_NOT_NAN"}};if(qh(n.value))return{unaryFilter:{field:ka(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ka(n.field),op:T_(n.op),value:n.value}}}(i):i instanceof ii?function(n){const s=n.getFilters().map(l=>Ju(l));return 1===s.length?s[0]:{compositeFilter:{op:C_(n.op),filters:s}}}(i):Bt()}function Bv(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function w_(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class ru{constructor(e,n,s,l,c=hn.min(),h=hn.min(),D=ci.EMPTY_BYTE_STRING,M=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=D,this.expectedCount=M}withSequenceNumber(e){return new ru(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ru(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ru(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ru(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class b_{constructor(e){this.ct=e}}function D_(i,e){const n=e.key,s={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Ml(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:Vd(c=i.ct,(h=e).key),fields:h.data.value.mapValue.fields,updateTime:Yu(c,h.version.toTimestamp()),createTime:Yu(c,h.createTime.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:n.path.toArray(),readTime:nl(e.version)};else{if(!e.isUnknownDocument())return Bt();s.unknownDocument={path:n.path.toArray(),version:nl(e.version)}}var c,h;return s}function Ml(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function nl(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function xl(i){const e=new Vn(i.seconds,i.nanoseconds);return hn.fromTimestamp(e)}function iu(i,e){const n=(e.baseMutations||[]).map(c=>hf(i.ct,c));for(let c=0;c<e.mutations.length-1;++c)c+1<e.mutations.length&&void 0!==e.mutations[c+1].transform&&(e.mutations[c].updateTransforms=e.mutations[c+1].transform.fieldTransforms,e.mutations.splice(c+1,1),++c);const s=e.mutations.map(c=>hf(i.ct,c)),l=Vn.fromMillis(e.localWriteTimeMs);return new uf(e.batchId,l,n,s)}function Lc(i){const e=xl(i.readTime),n=void 0!==i.lastLimboFreeSnapshotVersion?xl(i.lastLimboFreeSnapshotVersion):hn.min();let s;return s=void 0!==i.query.documents?(Ht(1===(c=i.query).documents.length),w(Ql(Qp(c.documents[0])))):function(c){return w(tg(c))}(i.query),new ru(s,i.targetId,"TargetPurposeListen",i.lastListenSequenceNumber,e,n,ci.fromBase64String(i.resumeToken));var c}function rg(i,e){const n=nl(e.snapshotVersion),s=nl(e.lastLimboFreeSnapshotVersion);let l;l=Al(e.target)?kc(i.ct,e.target):eg(i.ct,e.target).ut;const c=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Xa(e.target),readTime:n,resumeToken:c,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:l}}function Ol(i){const e=tg({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?Ue(e,e.limit,"L"):e}function ig(i,e){return new Hp(e.largestBatchId,hf(i.ct,e.overlayMutation))}function A_(i,e){const n=e.path.lastSegment();return[i,Ji(e.path.popLast()),n]}function S_(i,e,n,s){return{indexId:i,uid:e,sequenceNumber:n,readTime:nl(s.readTime),documentKey:Ji(s.documentKey.path),largestBatchId:s.largestBatchId}}class Hv{getBundleMetadata(e,n){return P_(e).get(n).next(s=>{if(s)return{id:(c=s).bundleId,createTime:xl(c.createTime),version:c.version};var c})}saveBundleMetadata(e,n){return P_(e).put({bundleId:(l=n).id,createTime:nl(cs(l.createTime)),version:l.version});var l}getNamedQuery(e,n){return rl(e).get(n).next(s=>{if(s)return{name:(c=s).name,query:Ol(c.bundledQuery),readTime:xl(c.readTime)};var c})}saveNamedQuery(e,n){return rl(e).put({name:(l=n).name,readTime:nl(cs(l.readTime)),bundledQuery:l.bundledQuery});var l}}function P_(i){return bs(i,"bundles")}function rl(i){return bs(i,"namedQueries")}class Nl{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){return new Nl(e,n.uid||"")}getOverlay(e,n){return Hd(e).get(A_(this.userId,n)).next(s=>s?ig(this.serializer,s):null)}getOverlays(e,n){const s=va();return ue.forEach(n,l=>this.getOverlay(e,l).next(c=>{null!==c&&s.set(l,c)})).next(()=>s)}saveOverlays(e,n,s){const l=[];return s.forEach((c,h)=>{const D=new Hp(n,h);l.push(this.ht(e,D))}),ue.waitFor(l)}removeOverlaysForBatchId(e,n,s){const l=new Set;n.forEach(h=>l.add(Ji(h.getCollectionPath())));const c=[];return l.forEach(h=>{const D=IDBKeyRange.bound([this.userId,h,s],[this.userId,h,s+1],!1,!0);c.push(Hd(e).H("collectionPathOverlayIndex",D))}),ue.waitFor(c)}getOverlaysForCollection(e,n,s){const l=va(),c=Ji(n),h=IDBKeyRange.bound([this.userId,c,s],[this.userId,c,Number.POSITIVE_INFINITY],!0);return Hd(e).W("collectionPathOverlayIndex",h).next(D=>{for(const M of D){const j=ig(this.serializer,M);l.set(j.getKey(),j)}return l})}getOverlaysForCollectionGroup(e,n,s,l){const c=va();let h;const D=IDBKeyRange.bound([this.userId,n,s],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Hd(e).Y({index:"collectionGroupOverlayIndex",range:D},(M,j,X)=>{const fe=ig(this.serializer,j);c.size()<l||fe.largestBatchId===h?(c.set(fe.getKey(),fe),h=fe.largestBatchId):X.done()}).next(()=>c)}ht(e,n){return Hd(e).put(function(l,c,h){const[D,M,j]=A_(c,h.mutation.key);return{userId:c,collectionPath:M,documentId:j,collectionGroup:h.mutation.key.getCollectionGroup(),largestBatchId:h.largestBatchId,overlayMutation:tu(l.ct,h.mutation)}}(this.serializer,this.userId,n))}}function Hd(i){return bs(i,"documentOverlays")}class Xu{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(Ii(e.integerValue));else if("doubleValue"in e){const s=Ii(e.doubleValue);isNaN(s)?this.Et(n,13):(this.Et(n,15),Co(s)?n.dt(0):n.dt(s))}else if("timestampValue"in e){const s=e.timestampValue;this.Et(n,20),"string"==typeof s?n.At(s):(n.At(`${s.seconds||""}`),n.dt(s.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(Lo(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){const s=e.geoPointValue;this.Et(n,45),n.dt(s.latitude||0),n.dt(s.longitude||0)}else"mapValue"in e?bl(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):Bt()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){const s=e.fields||{};this.Et(n,55);for(const l of Object.keys(s))this.Rt(l,n),this.It(s[l],n)}wt(e,n){const s=e.values||[];this.Et(n,50);for(const l of s)this.It(l,n)}gt(e,n){this.Et(n,37),Ft.fromName(e).path.forEach(s=>{this.Et(n,60),this.St(s,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}}function jv(i){if(0===i)return 8;let e=0;return!(i>>4)&&(e+=4,i<<=4),!(i>>6)&&(e+=2,i<<=2),!(i>>7)&&(e+=1),e}function R_(i){const e=64-function(s){let l=0;for(let c=0;c<8;++c){const h=jv(255&s[c]);if(l+=h,8!==h)break}return l}(i);return Math.ceil(e/8)}Xu.bt=new Xu;class $v{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const n=e[Symbol.iterator]();let s=n.next();for(;!s.done;)this.Ct(s.value),s=n.next();this.vt()}Ft(e){const n=e[Symbol.iterator]();let s=n.next();for(;!s.done;)this.Mt(s.value),s=n.next();this.xt()}Ot(e){for(const n of e){const s=n.charCodeAt(0);if(s<128)this.Ct(s);else if(s<2048)this.Ct(960|s>>>6),this.Ct(128|63&s);else if(n<"\ud800"||"\udbff"<n)this.Ct(480|s>>>12),this.Ct(128|63&s>>>6),this.Ct(128|63&s);else{const l=n.codePointAt(0);this.Ct(240|l>>>18),this.Ct(128|63&l>>>12),this.Ct(128|63&l>>>6),this.Ct(128|63&l)}}this.vt()}Nt(e){for(const n of e){const s=n.charCodeAt(0);if(s<128)this.Mt(s);else if(s<2048)this.Mt(960|s>>>6),this.Mt(128|63&s);else if(n<"\ud800"||"\udbff"<n)this.Mt(480|s>>>12),this.Mt(128|63&s>>>6),this.Mt(128|63&s);else{const l=n.codePointAt(0);this.Mt(240|l>>>18),this.Mt(128|63&l>>>12),this.Mt(128|63&l>>>6),this.Mt(128|63&l)}}this.xt()}Lt(e){const n=this.Bt(e),s=R_(n);this.kt(1+s),this.buffer[this.position++]=255&s;for(let l=n.length-s;l<n.length;++l)this.buffer[this.position++]=255&n[l]}qt(e){const n=this.Bt(e),s=R_(n);this.kt(1+s),this.buffer[this.position++]=~(255&s);for(let l=n.length-s;l<n.length;++l)this.buffer[this.position++]=~(255&n[l])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){const n=function(c){const h=new DataView(new ArrayBuffer(8));return h.setFloat64(0,c,!1),new Uint8Array(h.buffer)}(e),s=0!=(128&n[0]);n[0]^=s?255:128;for(let l=1;l<n.length;++l)n[l]^=s?255:0;return n}Ct(e){const n=255&e;0===n?(this.Kt(0),this.Kt(255)):255===n?(this.Kt(255),this.Kt(0)):this.Kt(n)}Mt(e){const n=255&e;0===n?(this.Ut(0),this.Ut(255)):255===n?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const n=e+this.position;if(n<=this.buffer.length)return;let s=2*this.buffer.length;s<n&&(s=n);const l=new Uint8Array(s);l.set(this.buffer),this.buffer=l}}class Gv{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}}class M_{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class jd{constructor(){this.Gt=new $v,this.zt=new Gv(this.Gt),this.jt=new M_(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return 0===e?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class ec{constructor(e,n,s,l){this.indexId=e,this.documentKey=n,this.arrayValue=s,this.directionalValue=l}Jt(){const e=this.directionalValue.length,n=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(n);return s.set(this.directionalValue,0),n!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new ec(this.indexId,this.documentKey,this.arrayValue,s)}}function su(i,e){let n=i.indexId-e.indexId;return 0!==n?n:(n=x_(i.arrayValue,e.arrayValue),0!==n?n:(n=x_(i.directionalValue,e.directionalValue),0!==n?n:Ft.comparator(i.documentKey,e.documentKey)))}function x_(i,e){for(let n=0;n<i.length&&n<e.length;++n){const s=i[n]-e[n];if(0!==s)return s}return i.length-e.length}class $d{constructor(e){this.Yt=new Qr((n,s)=>Qn.comparator(n.field,s.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const n of e.filters){const s=n;s.isInequality()?this.Yt=this.Yt.add(s):this.Xt.push(s)}}get en(){return this.Yt.size>1}tn(e){if(Ht(e.collectionGroup===this.collectionId),this.en)return!1;const n=_l(e);if(void 0!==n&&!this.nn(n))return!1;const s=ma(e);let l=new Set,c=0,h=0;for(;c<s.length&&this.nn(s[c]);++c)l=l.add(s[c].fieldPath.canonicalString());if(c===s.length)return!0;if(this.Yt.size>0){const D=this.Yt.getIterator().getNext();if(!l.has(D.field.canonicalString())){const M=s[c];if(!this.rn(D,M)||!this.sn(this.Zt[h++],M))return!1}++c}for(;c<s.length;++c)if(h>=this.Zt.length||!this.sn(this.Zt[h++],s[c]))return!1;return!0}on(){if(this.en)return null;let e=new Qr(Qn.comparator);const n=[];for(const s of this.Xt)if(!s.field.isKeyField())if("array-contains"===s.op||"array-contains-any"===s.op)n.push(new za(s.field,2));else{if(e.has(s.field))continue;e=e.add(s.field),n.push(new za(s.field,0))}for(const s of this.Zt)s.field.isKeyField()||e.has(s.field)||(e=e.add(s.field),n.push(new za(s.field,"asc"===s.dir?0:1)));return new Yi(Yi.UNKNOWN_ID,this.collectionId,n,_a.empty())}nn(e){for(const n of this.Xt)if(this.rn(n,e))return!0;return!1}rn(e,n){return!(void 0===e||!e.field.isEqual(n.fieldPath))&&2===n.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,n){return!!e.field.isEqual(n.fieldPath)&&(0===n.kind&&"asc"===e.dir||1===n.kind&&"desc"===e.dir)}}function il(i){var e,n;if(Ht(i instanceof Cr||i instanceof ii),i instanceof Cr){if(i instanceof Sc){const l=(null===(n=null===(e=i.value.arrayValue)||void 0===e?void 0:e.values)||void 0===n?void 0:n.map(c=>Cr.create(i.field,"==",c)))||[];return ii.create(l,"or")}return i}const s=i.filters.map(l=>il(l));return ii.create(s,i.op)}function Gd(i){if(0===i.getFilters().length)return[];const e=O_(il(i));return Ht(sg(e)),ff(e)||pf(e)?[e]:e.getFilters()}function ff(i){return i instanceof Cr}function pf(i){return i instanceof ii&&Ja(i)}function sg(i){return ff(i)||pf(i)||function(n){if(n instanceof ii&&Vu(n)){for(const s of n.getFilters())if(!ff(s)&&!pf(s))return!1;return!0}return!1}(i)}function O_(i){if(Ht(i instanceof Cr||i instanceof ii),i instanceof Cr)return i;if(1===i.filters.length)return O_(i.filters[0]);const e=i.filters.map(s=>O_(s));let n=ii.create(e,i.op);return n=Fc(n),sg(n)?n:(Ht(n instanceof ii),Ht(As(n)),Ht(n.filters.length>1),n.filters.reduce((s,l)=>N_(s,l)))}function N_(i,e){let n;return Ht(i instanceof Cr||i instanceof ii),Ht(e instanceof Cr||e instanceof ii),n=i instanceof Cr?e instanceof Cr?ii.create([i,e],"and"):zv(i,e):e instanceof Cr?zv(e,i):function(l,c){if(Ht(l.filters.length>0&&c.filters.length>0),As(l)&&As(c))return Dc(l,c.getFilters());const h=Vu(l)?l:c,D=Vu(l)?c:l,M=h.filters.map(j=>N_(j,D));return ii.create(M,"or")}(i,e),Fc(n)}function zv(i,e){if(As(e))return Dc(e,i.getFilters());{const n=e.filters.map(s=>N_(i,s));return ii.create(n,"or")}}function Fc(i){if(Ht(i instanceof Cr||i instanceof ii),i instanceof Cr)return i;const e=i.getFilters();if(1===e.length)return Fc(e[0]);if(Dd(i))return i;const n=e.map(l=>Fc(l)),s=[];return n.forEach(l=>{l instanceof Cr?s.push(l):l instanceof ii&&(l.op===i.op?s.push(...l.filters):s.push(l))}),1===s.length?s[0]:ii.create(s,i.op)}class og{constructor(){this._n=new k_}addToCollectionParentIndex(e,n){return this._n.add(n),ue.resolve()}getCollectionParents(e,n){return ue.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return ue.resolve()}deleteFieldIndex(e,n){return ue.resolve()}deleteAllFieldIndexes(e){return ue.resolve()}createTargetIndexes(e,n){return ue.resolve()}getDocumentsMatchingTarget(e,n){return ue.resolve(null)}getIndexType(e,n){return ue.resolve(0)}getFieldIndexes(e,n){return ue.resolve([])}getNextCollectionGroupToUpdate(e){return ue.resolve(null)}getMinOffset(e,n){return ue.resolve(A.min())}getMinOffsetFromCollectionGroup(e,n){return ue.resolve(A.min())}updateCollectionGroup(e,n,s){return ue.resolve()}updateIndexEntries(e,n){return ue.resolve()}}class k_{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),l=this.index[n]||new Qr(rn.comparator),c=!l.has(s);return this.index[n]=l.add(s),c}has(e){const n=e.lastSegment(),s=e.popLast(),l=this.index[n];return l&&l.has(s)}getEntries(e){return(this.index[e]||new Qr(rn.comparator)).toArray()}}const ag=new Uint8Array(0);class L_{constructor(e,n){this.databaseId=n,this.an=new k_,this.un=new Zo(s=>Xa(s),(s,l)=>Dl(s,l)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.an.has(n)){const s=n.lastSegment(),l=n.popLast();e.addOnCommittedListener(()=>{this.an.add(n)});const c={collectionId:s,parent:Ji(l)};return F_(e).put(c)}return ue.resolve()}getCollectionParents(e,n){const s=[],l=IDBKeyRange.bound([n,""],[ro(n),""],!1,!0);return F_(e).W(l).next(c=>{for(const h of c){if(h.collectionId!==n)break;s.push(zo(h.parent))}return s})}addFieldIndex(e,n){const s=zd(e),l={indexId:(D=n).indexId,collectionGroup:D.collectionGroup,fields:D.fields.map(M=>[M.fieldPath.canonicalString(),M.kind])};var D;delete l.indexId;const c=s.add(l);if(n.indexState){const h=Uc(e);return c.next(D=>{h.put(S_(D,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return c.next()}deleteFieldIndex(e,n){const s=zd(e),l=Uc(e),c=Vc(e);return s.delete(n.indexId).next(()=>l.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>c.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=zd(e),s=Vc(e),l=Uc(e);return n.H().next(()=>s.H()).next(()=>l.H())}createTargetIndexes(e,n){return ue.forEach(this.cn(n),s=>this.getIndexType(e,s).next(l=>{if(0===l||1===l){const c=new $d(s).on();if(null!=c)return this.addFieldIndex(e,c)}}))}getDocumentsMatchingTarget(e,n){const s=Vc(e);let l=!0;const c=new Map;return ue.forEach(this.cn(n),h=>this.ln(e,h).next(D=>{l&&(l=!!D),c.set(h,D)})).next(()=>{if(l){let h=tr();const D=[];return ue.forEach(c,(M,j)=>{var En;ot("IndexedDbIndexManager",`Using index ${En=M,`id=${En.indexId}|cg=${En.collectionGroup}|f=${En.fields.map(ir=>`${ir.fieldPath}:${ir.kind}`).join(",")}`} to execute ${Xa(n)}`);const X=function(En,ir){const br=_l(ir);if(void 0===br)return null;for(const si of Hu(En,br.fieldPath))switch(si.op){case"array-contains-any":return si.value.arrayValue.values||[];case"array-contains":return[si.value]}return null}(j,M),fe=function(En,ir){const br=new Map;for(const si of ma(ir))for(const es of Hu(En,si.fieldPath))switch(es.op){case"==":case"in":br.set(si.fieldPath.canonicalString(),es.value);break;case"not-in":case"!=":return br.set(si.fieldPath.canonicalString(),es.value),Array.from(br.values())}return null}(j,M),Le=function(En,ir){const br=[];let si=!0;for(const es of ma(ir)){const Ua=0===es.kind?ef(En,es.fieldPath,En.startAt):Pd(En,es.fieldPath,En.startAt);br.push(Ua.value),si&&(si=Ua.inclusive)}return new Fo(br,si)}(j,M),tt=function(En,ir){const br=[];let si=!0;for(const es of ma(ir)){const Ua=0===es.kind?Pd(En,es.fieldPath,En.endAt):ef(En,es.fieldPath,En.endAt);br.push(Ua.value),si&&(si=Ua.inclusive)}return new Fo(br,si)}(j,M),Ot=this.hn(M,j,Le),Jt=this.hn(M,j,tt),Zt=this.Pn(M,j,fe),In=this.In(M.indexId,X,Ot,Le.inclusive,Jt,tt.inclusive,Zt);return ue.forEach(In,Hn=>s.j(Hn,n.limit).next(En=>{En.forEach(ir=>{const br=Ft.fromSegments(ir.documentKey);h.has(br)||(h=h.add(br),D.push(br))})}))}).next(()=>D)}return ue.resolve(null)})}cn(e){let n=this.un.get(e);return n||(n=0===e.filters.length?[e]:Gd(ii.create(e.filters,"and")).map(s=>Rc(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,n),n)}In(e,n,s,l,c,h,D){const M=(null!=n?n.length:1)*Math.max(s.length,c.length),j=M/(null!=n?n.length:1),X=[];for(let fe=0;fe<M;++fe){const Le=n?this.Tn(n[fe/j]):ag,tt=this.En(e,Le,s[fe%j],l),Ot=this.dn(e,Le,c[fe%j],h),Jt=D.map(Zt=>this.En(e,Le,Zt,!0));X.push(...this.createRange(tt,Ot,Jt))}return X}En(e,n,s,l){const c=new ec(e,Ft.empty(),n,s);return l?c:c.Jt()}dn(e,n,s,l){const c=new ec(e,Ft.empty(),n,s);return l?c.Jt():c}ln(e,n){const s=new $d(n),l=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,l).next(c=>{let h=null;for(const D of c)s.tn(D)&&(!h||D.fields.length>h.fields.length)&&(h=D);return h})}getIndexType(e,n){let s=2;const l=this.cn(n);return ue.forEach(l,c=>this.ln(e,c).next(h=>{h?0!==s&&h.fields.length<function(M){let j=new Qr(Qn.comparator),X=!1;for(const fe of M.filters)for(const Le of fe.getFlattenedFilters())Le.field.isKeyField()||("array-contains"===Le.op||"array-contains-any"===Le.op?X=!0:j=j.add(Le.field));for(const fe of M.orderBy)fe.field.isKeyField()||(j=j.add(fe.field));return j.size+(X?1:0)}(c)&&(s=1):s=0})).next(()=>null!==n.limit&&l.length>1&&2===s?1:s)}An(e,n){const s=new jd;for(const l of ma(e)){const c=n.data.field(l.fieldPath);if(null==c)return null;const h=s.Ht(l.kind);Xu.bt.Pt(c,h)}return s.Wt()}Tn(e){const n=new jd;return Xu.bt.Pt(e,n.Ht(0)),n.Wt()}Rn(e,n){const s=new jd;return Xu.bt.Pt(xa(this.databaseId,n),s.Ht(function(c){const h=ma(c);return 0===h.length?0:h[h.length-1].kind}(e))),s.Wt()}Pn(e,n,s){if(null===s)return[];let l=[];l.push(new jd);let c=0;for(const h of ma(e)){const D=s[c++];for(const M of l)if(this.Vn(n,h.fieldPath)&&wc(D))l=this.mn(l,h,D);else{const j=M.Ht(h.kind);Xu.bt.Pt(D,j)}}return this.fn(l)}hn(e,n,s){return this.Pn(e,n,s.position)}fn(e){const n=[];for(let s=0;s<e.length;++s)n[s]=e[s].Wt();return n}mn(e,n,s){const l=[...e],c=[];for(const h of s.arrayValue.values||[])for(const D of l){const M=new jd;M.seed(D.Wt()),Xu.bt.Pt(h,M.Ht(n.kind)),c.push(M)}return c}Vn(e,n){return!!e.filters.find(s=>s instanceof Cr&&s.field.isEqual(n)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,n){const s=zd(e),l=Uc(e);return(n?s.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):s.W()).next(c=>{const h=[];return ue.forEach(c,D=>l.get([D.indexId,this.uid]).next(M=>{h.push(function(X,fe){const Le=fe?new _a(fe.sequenceNumber,new A(xl(fe.readTime),new Ft(zo(fe.documentKey)),fe.largestBatchId)):_a.empty(),tt=X.fields.map(([Ot,Jt])=>new za(Qn.fromServerFormat(Ot),Jt));return new Yi(X.indexId,X.collectionGroup,tt,Le)}(D,M))})).next(()=>h)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>0===n.length?null:(n.sort((s,l)=>{const c=s.indexState.sequenceNumber-l.indexState.sequenceNumber;return 0!==c?c:un(s.collectionGroup,l.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,s){const l=zd(e),c=Uc(e);return this.gn(e).next(h=>l.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(D=>ue.forEach(D,M=>c.put(S_(M.indexId,this.uid,h,s)))))}updateIndexEntries(e,n){const s=new Map;return ue.forEach(n,(l,c)=>{const h=s.get(l.collectionGroup);return(h?ue.resolve(h):this.getFieldIndexes(e,l.collectionGroup)).next(D=>(s.set(l.collectionGroup,D),ue.forEach(D,M=>this.pn(e,l,M).next(j=>{const X=this.yn(c,M);return j.isEqual(X)?ue.resolve():this.wn(e,c,M,j,X)}))))})}Sn(e,n,s,l){return Vc(e).put({indexId:l.indexId,uid:this.uid,arrayValue:l.arrayValue,directionalValue:l.directionalValue,orderedDocumentKey:this.Rn(s,n.key),documentKey:n.key.path.toArray()})}bn(e,n,s,l){return Vc(e).delete([l.indexId,this.uid,l.arrayValue,l.directionalValue,this.Rn(s,n.key),n.key.path.toArray()])}pn(e,n,s){const l=Vc(e);let c=new Qr(su);return l.Y({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.Rn(s,n)])},(h,D)=>{c=c.add(new ec(s.indexId,n,D.arrayValue,D.directionalValue))}).next(()=>c)}yn(e,n){let s=new Qr(su);const l=this.An(n,e);if(null==l)return s;const c=_l(n);if(null!=c){const h=e.data.field(c.fieldPath);if(wc(h))for(const D of h.arrayValue.values||[])s=s.add(new ec(n.indexId,e.key,this.Tn(D),l))}else s=s.add(new ec(n.indexId,e.key,ag,l));return s}wn(e,n,s,l,c){ot("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const h=[];return function(M,j,X,fe,Le){const tt=M.getIterator(),Ot=j.getIterator();let Jt=Cl(tt),Zt=Cl(Ot);for(;Jt||Zt;){let In=!1,Hn=!1;if(Jt&&Zt){const En=X(Jt,Zt);En<0?Hn=!0:En>0&&(In=!0)}else null!=Jt?Hn=!0:In=!0;In?(fe(Zt),Zt=Cl(Ot)):Hn?(Le(Jt),Jt=Cl(tt)):(Jt=Cl(tt),Zt=Cl(Ot))}}(l,c,su,D=>{h.push(this.Sn(e,n,s,D))},D=>{h.push(this.bn(e,n,s,D))}),ue.waitFor(h)}gn(e){let n=1;return Uc(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,l,c)=>{c.done(),n=l.sequenceNumber+1}).next(()=>n)}createRange(e,n,s){s=s.sort((h,D)=>su(h,D)).filter((h,D,M)=>!D||0!==su(h,M[D-1]));const l=[];l.push(e);for(const h of s){const D=su(h,e),M=su(h,n);if(0===D)l[0]=e.Jt();else if(D>0&&M<0)l.push(h),l.push(h.Jt());else if(M>0)break}l.push(n);const c=[];for(let h=0;h<l.length;h+=2){if(this.Dn(l[h],l[h+1]))return[];c.push(IDBKeyRange.bound([l[h].indexId,this.uid,l[h].arrayValue,l[h].directionalValue,ag,[]],[l[h+1].indexId,this.uid,l[h+1].arrayValue,l[h+1].directionalValue,ag,[]]))}return c}Dn(e,n){return su(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(lg)}getMinOffset(e,n){return ue.mapArray(this.cn(n),s=>this.ln(e,s).next(l=>l||Bt())).next(lg)}}function F_(i){return bs(i,"collectionParents")}function Vc(i){return bs(i,"indexEntries")}function zd(i){return bs(i,"indexConfiguration")}function Uc(i){return bs(i,"indexState")}function lg(i){Ht(0!==i.length);let e=i[0].indexState.offset,n=e.largestBatchId;for(let s=1;s<i.length;s++){const l=i[s].indexState.offset;I(l,e)<0&&(e=l),n<l.largestBatchId&&(n=l.largestBatchId)}return new A(e.readTime,e.documentKey,n)}const Wd={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class so{constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new so(e,so.DEFAULT_COLLECTION_PERCENTILE,so.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function gf(i,e,n){const s=i.store("mutations"),l=i.store("documentMutations"),c=[],h=IDBKeyRange.only(n.batchId);let D=0;const M=s.Y({range:h},(X,fe,Le)=>(D++,Le.delete()));c.push(M.next(()=>{Ht(1===D)}));const j=[];for(const X of n.mutations){const fe=Tc(e,X.key.path,n.batchId);c.push(l.delete(fe)),j.push(X.key)}return ue.waitFor(c).next(()=>j)}function mf(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw Bt();e=i.noDocument}return JSON.stringify(e).length}so.DEFAULT_COLLECTION_PERCENTILE=10,so.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,so.DEFAULT=new so(41943040,so.DEFAULT_COLLECTION_PERCENTILE,so.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),so.DISABLED=new so(-1,0,0);class sl{constructor(e,n,s,l){this.userId=e,this.serializer=n,this.indexManager=s,this.referenceDelegate=l,this.Cn={}}static lt(e,n,s,l){Ht(""!==e.uid);const c=e.isAuthenticated()?e.uid:"";return new sl(c,n,s,l)}checkEmpty(e){let n=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ou(e).Y({index:"userMutationsIndex",range:s},(l,c,h)=>{n=!1,h.done()}).next(()=>n)}addMutationBatch(e,n,s,l){const c=au(e),h=ou(e);return h.add({}).next(D=>{Ht("number"==typeof D);const M=new uf(D,n,s,l),j=function(tt,Ot,Jt){const Zt=Jt.baseMutations.map(Hn=>tu(tt.ct,Hn)),In=Jt.mutations.map(Hn=>tu(tt.ct,Hn));return{userId:Ot,batchId:Jt.batchId,localWriteTimeMs:Jt.localWriteTime.toMillis(),baseMutations:Zt,mutations:In}}(this.serializer,this.userId,M),X=[];let fe=new Qr((Le,tt)=>un(Le.canonicalString(),tt.canonicalString()));for(const Le of l){const tt=Tc(this.userId,Le.key.path,D);fe=fe.add(Le.key.path.popLast()),X.push(h.put(j)),X.push(c.put(tt,Gl))}return fe.forEach(Le=>{X.push(this.indexManager.addToCollectionParentIndex(e,Le))}),e.addOnCommittedListener(()=>{this.Cn[D]=M.keys()}),ue.waitFor(X).next(()=>M)})}lookupMutationBatch(e,n){return ou(e).get(n).next(s=>s?(Ht(s.userId===this.userId),iu(this.serializer,s)):null)}vn(e,n){return this.Cn[n]?ue.resolve(this.Cn[n]):this.lookupMutationBatch(e,n).next(s=>{if(s){const l=s.keys();return this.Cn[n]=l,l}return null})}getNextMutationBatchAfterBatchId(e,n){const s=n+1,l=IDBKeyRange.lowerBound([this.userId,s]);let c=null;return ou(e).Y({index:"userMutationsIndex",range:l},(h,D,M)=>{D.userId===this.userId&&(Ht(D.batchId>=s),c=iu(this.serializer,D)),M.done()}).next(()=>c)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return ou(e).Y({index:"userMutationsIndex",range:n,reverse:!0},(l,c,h)=>{s=c.batchId,h.done()}).next(()=>s)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ou(e).W("userMutationsIndex",n).next(s=>s.map(l=>iu(this.serializer,l)))}getAllMutationBatchesAffectingDocumentKey(e,n){const s=Ka(this.userId,n.path),l=IDBKeyRange.lowerBound(s),c=[];return au(e).Y({range:l},(h,D,M)=>{const[j,X,fe]=h,Le=zo(X);if(j===this.userId&&n.path.isEqual(Le))return ou(e).get(fe).next(tt=>{if(!tt)throw Bt();Ht(tt.userId===this.userId),c.push(iu(this.serializer,tt))});M.done()}).next(()=>c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Qr(un);const l=[];return n.forEach(c=>{const h=Ka(this.userId,c.path),D=IDBKeyRange.lowerBound(h),M=au(e).Y({range:D},(j,X,fe)=>{const[Le,tt,Ot]=j,Jt=zo(tt);Le===this.userId&&c.path.isEqual(Jt)?s=s.add(Ot):fe.done()});l.push(M)}),ue.waitFor(l).next(()=>this.Fn(e,s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,l=s.length+1,c=Ka(this.userId,s),h=IDBKeyRange.lowerBound(c);let D=new Qr(un);return au(e).Y({range:h},(M,j,X)=>{const[fe,Le,tt]=M,Ot=zo(Le);fe===this.userId&&s.isPrefixOf(Ot)?Ot.length===l&&(D=D.add(tt)):X.done()}).next(()=>this.Fn(e,D))}Fn(e,n){const s=[],l=[];return n.forEach(c=>{l.push(ou(e).get(c).next(h=>{if(null===h)throw Bt();Ht(h.userId===this.userId),s.push(iu(this.serializer,h))}))}),ue.waitFor(l).next(()=>s)}removeMutationBatch(e,n){return gf(e.ae,this.userId,n).next(s=>(e.addOnCommittedListener(()=>{this.Mn(n.batchId)}),ue.forEach(s,l=>this.referenceDelegate.markPotentiallyOrphaned(e,l))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return ue.resolve();const s=IDBKeyRange.lowerBound([this.userId]),l=[];return au(e).Y({range:s},(c,h,D)=>{if(c[0]===this.userId){const M=zo(c[1]);l.push(M)}else D.done()}).next(()=>{Ht(0===l.length)})})}containsKey(e,n){return V_(e,this.userId,n)}xn(e){return ug(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function V_(i,e,n){const s=Ka(e,n.path),l=s[1],c=IDBKeyRange.lowerBound(s);let h=!1;return au(i).Y({range:c,J:!0},(D,M,j)=>{const[X,fe,Le]=D;X===e&&fe===l&&(h=!0),j.done()}).next(()=>h)}function ou(i){return bs(i,"mutations")}function au(i){return bs(i,"documentMutations")}function ug(i){return bs(i,"mutationQueues")}class tc{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new tc(0)}static Ln(){return new tc(-1)}}class Wv{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Bn(e).next(n=>{const s=new tc(n.highestTargetId);return n.highestTargetId=s.next(),this.kn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(n=>hn.fromTimestamp(new Vn(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,s){return this.Bn(e).next(l=>(l.highestListenSequenceNumber=n,s&&(l.lastRemoteSnapshotVersion=s.toTimestamp()),n>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=n),this.kn(e,l)))}addTargetData(e,n){return this.qn(e,n).next(()=>this.Bn(e).next(s=>(s.targetCount+=1,this.Qn(n,s),this.kn(e,s))))}updateTargetData(e,n){return this.qn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Bc(e).delete(n.targetId)).next(()=>this.Bn(e)).next(s=>(Ht(s.targetCount>0),s.targetCount-=1,this.kn(e,s)))}removeTargets(e,n,s){let l=0;const c=[];return Bc(e).Y((h,D)=>{const M=Lc(D);M.sequenceNumber<=n&&null===s.get(M.targetId)&&(l++,c.push(this.removeTargetData(e,M)))}).next(()=>ue.waitFor(c)).next(()=>l)}forEachTarget(e,n){return Bc(e).Y((s,l)=>{const c=Lc(l);n(c)})}Bn(e){return U_(e).get("targetGlobalKey").next(n=>(Ht(null!==n),n))}kn(e,n){return U_(e).put("targetGlobalKey",n)}qn(e,n){return Bc(e).put(rg(this.serializer,n))}Qn(e,n){let s=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,s=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.Bn(e).next(n=>n.targetCount)}getTargetData(e,n){const s=Xa(n),l=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let c=null;return Bc(e).Y({range:l,index:"queryTargetsIndex"},(h,D,M)=>{const j=Lc(D);Dl(n,j.target)&&(c=j,M.done())}).next(()=>c)}addMatchingKeys(e,n,s){const l=[],c=kl(e);return n.forEach(h=>{const D=Ji(h.path);l.push(c.put({targetId:s,path:D})),l.push(this.referenceDelegate.addReference(e,s,h))}),ue.waitFor(l)}removeMatchingKeys(e,n,s){const l=kl(e);return ue.forEach(n,c=>{const h=Ji(c.path);return ue.waitFor([l.delete([s,h]),this.referenceDelegate.removeReference(e,s,c)])})}removeMatchingKeysForTargetId(e,n){const s=kl(e),l=IDBKeyRange.bound([n],[n+1],!1,!0);return s.delete(l)}getMatchingKeysForTargetId(e,n){const s=IDBKeyRange.bound([n],[n+1],!1,!0),l=kl(e);let c=tr();return l.Y({range:s,J:!0},(h,D,M)=>{const j=zo(h[1]),X=new Ft(j);c=c.add(X)}).next(()=>c)}containsKey(e,n){const s=Ji(n.path),l=IDBKeyRange.bound([s],[ro(s)],!1,!0);let c=0;return kl(e).Y({index:"documentTargetsIndex",J:!0,range:l},([h,D],M,j)=>{0!==h&&(c++,j.done())}).next(()=>c>0)}_t(e,n){return Bc(e).get(n).next(s=>s?Lc(s):null)}}function Bc(i){return bs(i,"targets")}function U_(i){return bs(i,"targetGlobal")}function kl(i){return bs(i,"targetDocuments")}function qv([i,e],[n,s]){const l=un(i,n);return 0===l?un(e,s):l}class GE{constructor(e){this.Kn=e,this.buffer=new Qr(qv),this.$n=0}Un(){return++this.$n}Wn(e){const n=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();qv(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Hc{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(e){var n=this;ot("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Ie.Z)(function*(){n.Gn=null;try{yield n.localStore.collectGarbage(n.garbageCollector)}catch(s){Un(s)?ot("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield te(s)}yield n.zn(3e5)}))}}class qd{constructor(e,n){this.jn=e,this.params=n}calculateTargetCount(e,n){return this.jn.Hn(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(0===n)return ue.resolve(To._e);const s=new GE(n);return this.jn.forEachTarget(e,l=>s.Wn(l.sequenceNumber)).next(()=>this.jn.Jn(e,l=>s.Wn(l))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.jn.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.jn.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),ue.resolve(Wd)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Wd):this.Yn(e,n))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,n){let s,l,c,h,D,M,j;const X=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(fe=>(fe>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${fe}`),l=this.params.maximumSequenceNumbersToCollect):l=fe,h=Date.now(),this.nthSequenceNumber(e,l))).next(fe=>(s=fe,D=Date.now(),this.removeTargets(e,s,n))).next(fe=>(c=fe,M=Date.now(),this.removeOrphanedDocuments(e,s))).next(fe=>(j=Date.now(),xn()<=Ce.in.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${h-X}ms\n\tDetermined least recently used ${l} in `+(D-h)+`ms\n\tRemoved ${c} targets in `+(M-D)+`ms\n\tRemoved ${fe} documents in `+(j-M)+`ms\nTotal Duration: ${j-X}ms`),ue.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:fe})))}}class B_{constructor(e,n){this.db=e,this.garbageCollector=function cg(i,e){return new qd(i,e)}(this,n)}Hn(e){const n=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(s=>n.next(l=>s+l))}Zn(e){let n=0;return this.Jn(e,s=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Jn(e,n){return this.Xn(e,(s,l)=>n(l))}addReference(e,n,s){return jc(e,s)}removeReference(e,n,s){return jc(e,s)}removeTargets(e,n,s){return this.db.getTargetCache().removeTargets(e,n,s)}markPotentiallyOrphaned(e,n){return jc(e,n)}er(e,n){return function(l,c){let h=!1;return ug(l).Z(D=>V_(l,D,c).next(M=>(M&&(h=!0),ue.resolve(!M)))).next(()=>h)}(e,n)}removeOrphanedDocuments(e,n){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),l=[];let c=0;return this.Xn(e,(h,D)=>{if(D<=n){const M=this.er(e,h).next(j=>{if(!j)return c++,s.getEntry(e,h).next(()=>(s.removeEntry(h,hn.min()),kl(e).delete([0,Ji(h.path)])))});l.push(M)}}).next(()=>ue.waitFor(l)).next(()=>s.apply(e)).next(()=>c)}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,n){return jc(e,n)}Xn(e,n){const s=kl(e);let l,c=To._e;return s.Y({index:"documentTargetsIndex"},([h,D],{path:M,sequenceNumber:j})=>{0===h?(c!==To._e&&n(new Ft(zo(l)),c),c=j,l=M):c=To._e}).next(()=>{c!==To._e&&n(new Ft(zo(l)),c)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function jc(i,e){return kl(i).put((l=i.currentSequenceNumber,{targetId:0,path:Ji(e.path),sequenceNumber:l}));var l}class _f{constructor(){this.changes=new Zo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,mr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return void 0!==s?ue.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Kv{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,s){return $c(e).put(s)}removeEntry(e,n,s){return $c(e).delete(function(c,h){const D=c.path.toArray();return[D.slice(0,D.length-2),D[D.length-2],Ml(h),D[D.length-1]]}(n,s))}updateMetadata(e,n){return this.getMetadata(e).next(s=>(s.byteSize+=n,this.tr(e,s)))}getEntry(e,n){let s=mr.newInvalidDocument(n);return $c(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(nc(n))},(l,c)=>{s=this.nr(n,c)}).next(()=>s)}rr(e,n){let s={size:0,document:mr.newInvalidDocument(n)};return $c(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(nc(n))},(l,c)=>{s={document:this.nr(n,c),size:mf(c)}}).next(()=>s)}getEntries(e,n){let s=Ss();return this.ir(e,n,(l,c)=>{const h=this.nr(l,c);s=s.insert(l,h)}).next(()=>s)}sr(e,n){let s=Ss(),l=new ni(Ft.comparator);return this.ir(e,n,(c,h)=>{const D=this.nr(c,h);s=s.insert(c,D),l=l.insert(c,mf(h))}).next(()=>({documents:s,_r:l}))}ir(e,n,s){if(n.isEmpty())return ue.resolve();let l=new Qr(yf);n.forEach(M=>l=l.add(M));const c=IDBKeyRange.bound(nc(l.first()),nc(l.last())),h=l.getIterator();let D=h.getNext();return $c(e).Y({index:"documentKeyIndex",range:c},(M,j,X)=>{const fe=Ft.fromSegments([...j.prefixPath,j.collectionGroup,j.documentId]);for(;D&&yf(D,fe)<0;)s(D,null),D=h.getNext();D&&D.isEqual(fe)&&(s(D,j),D=h.hasNext()?h.getNext():null),D?X.U(nc(D)):X.done()}).next(()=>{for(;D;)s(D,null),D=h.hasNext()?h.getNext():null})}getDocumentsMatchingQuery(e,n,s,l,c){const h=n.path,D=[h.popLast().toArray(),h.lastSegment(),Ml(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],M=[h.popLast().toArray(),h.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return $c(e).W(IDBKeyRange.bound(D,M,!0)).next(j=>{c?.incrementDocumentReadCount(j.length);let X=Ss();for(const fe of j){const Le=this.nr(Ft.fromSegments(fe.prefixPath.concat(fe.collectionGroup,fe.documentId)),fe);Le.isFoundDocument()&&(mn(n,Le)||l.has(Le.key))&&(X=X.insert(Le.key,Le))}return X})}getAllFromCollectionGroup(e,n,s,l){let c=Ss();const h=j_(n,s),D=j_(n,A.max());return $c(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(h,D,!0)},(M,j,X)=>{const fe=this.nr(Ft.fromSegments(j.prefixPath.concat(j.collectionGroup,j.documentId)),j);c=c.insert(fe.key,fe),c.size===l&&X.done()}).next(()=>c)}newChangeBuffer(e){return new H_(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return Kd(e).get("remoteDocumentGlobalKey").next(n=>(Ht(!!n),n))}tr(e,n){return Kd(e).put("remoteDocumentGlobalKey",n)}nr(e,n){if(n){const s=function ng(i,e){let n;if(e.document)n=Nc(i.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=Ft.fromSegments(e.noDocument.path),l=xl(e.noDocument.readTime);n=mr.newNoDocument(s,l),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Bt();{const s=Ft.fromSegments(e.unknownDocument.path),l=xl(e.unknownDocument.version);n=mr.newUnknownDocument(s,l)}}return e.readTime&&n.setReadTime(function(l){const c=new Vn(l[0],l[1]);return hn.fromTimestamp(c)}(e.readTime)),n}(this.serializer,n);if(!s.isNoDocument()||!s.version.isEqual(hn.min()))return s}return mr.newInvalidDocument(e)}}function dg(i){return new Kv(i)}class H_ extends _f{constructor(e,n){super(),this.ar=e,this.trackRemovals=n,this.ur=new Zo(s=>s.toString(),(s,l)=>s.isEqual(l))}applyChanges(e){const n=[];let s=0,l=new Qr((c,h)=>un(c.canonicalString(),h.canonicalString()));return this.changes.forEach((c,h)=>{const D=this.ur.get(c);if(n.push(this.ar.removeEntry(e,c,D.readTime)),h.isValidDocument()){const M=D_(this.ar.serializer,h);l=l.add(c.path.popLast());const j=mf(M);s+=j-D.size,n.push(this.ar.addEntry(e,c,M))}else if(s-=D.size,this.trackRemovals){const M=D_(this.ar.serializer,h.convertToNoDocument(hn.min()));n.push(this.ar.addEntry(e,c,M))}}),l.forEach(c=>{n.push(this.ar.indexManager.addToCollectionParentIndex(e,c))}),n.push(this.ar.updateMetadata(e,s)),ue.waitFor(n)}getFromCache(e,n){return this.ar.rr(e,n).next(s=>(this.ur.set(n,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,n){return this.ar.sr(e,n).next(({documents:s,_r:l})=>(l.forEach((c,h)=>{this.ur.set(c,{size:h,readTime:s.get(c).readTime})}),s))}}function Kd(i){return bs(i,"remoteDocumentGlobal")}function $c(i){return bs(i,"remoteDocumentsV14")}function nc(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function j_(i,e){const n=e.documentKey.path.toArray();return[i,Ml(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function yf(i,e){const n=i.path.toArray(),s=e.path.toArray();let l=0;for(let c=0;c<n.length-2&&c<s.length-2;++c)if(l=un(n[c],s[c]),l)return l;return l=un(n.length,s.length),l||(l=un(n[n.length-2],s[s.length-2]),l||un(n[n.length-1],s[s.length-1]))}class $_{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class hg{constructor(e,n,s,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=l}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(l=>(s=l,this.remoteDocumentCache.getEntry(e,n))).next(l=>(null!==s&&Wu(s.mutation,l,Ns.empty(),Vn.now()),l))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,tr()).next(()=>s))}getLocalViewOfDocuments(e,n,s=tr()){const l=va();return this.populateOverlays(e,l,n).next(()=>this.computeViews(e,n,l,s).next(c=>{let h=$u();return c.forEach((D,M)=>{h=h.insert(D,M.overlayedDocument)}),h}))}getOverlayedDocuments(e,n){const s=va();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,tr()))}populateOverlays(e,n,s){const l=[];return s.forEach(c=>{n.has(c)||l.push(c)}),this.documentOverlayCache.getOverlays(e,l).next(c=>{c.forEach((h,D)=>{n.set(h,D)})})}computeViews(e,n,s,l){let c=Ss();const h=Jl(),D=Jl();return n.forEach((M,j)=>{const X=s.get(j.key);l.has(j.key)&&(void 0===X||X.mutation instanceof tl)?c=c.insert(j.key,j):void 0!==X?(h.set(j.key,X.mutation.getFieldMask()),Wu(X.mutation,j,X.mutation.getFieldMask(),Vn.now())):h.set(j.key,Ns.empty())}),this.recalculateAndSaveOverlays(e,c).next(M=>(M.forEach((j,X)=>h.set(j,X)),n.forEach((j,X)=>{var fe;return D.set(j,new $_(X,null!==(fe=h.get(j))&&void 0!==fe?fe:null))}),D))}recalculateAndSaveOverlays(e,n){const s=Jl();let l=new ni((h,D)=>h-D),c=tr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(h=>{for(const D of h)D.keys().forEach(M=>{const j=n.get(M);if(null===j)return;let X=s.get(M)||Ns.empty();X=D.applyToLocalView(j,X),s.set(M,X);const fe=(l.get(D.batchId)||tr()).add(M);l=l.insert(D.batchId,fe)})}).next(()=>{const h=[],D=l.getReverseIterator();for(;D.hasNext();){const M=D.getNext(),j=M.key,X=M.value,fe=rf();X.forEach(Le=>{if(!c.has(Le)){const tt=lf(n.get(Le),s.get(Le));null!==tt&&fe.set(Le,tt),c=c.add(Le)}}),h.push(this.documentOverlayCache.saveOverlays(e,j,fe))}return ue.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,l){return Ft.isDocumentKey((h=n).path)&&null===h.collectionGroup&&0===h.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):f(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,l):this.getDocumentsMatchingCollectionQuery(e,n,s,l);var h}getNextDocuments(e,n,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,l).next(c=>{const h=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,l-c.size):ue.resolve(va());let D=-1,M=c;return h.next(j=>ue.forEach(j,(X,fe)=>(D<fe.largestBatchId&&(D=fe.largestBatchId),c.get(X)?ue.resolve():this.remoteDocumentCache.getEntry(e,X).next(Le=>{M=M.insert(X,Le)}))).next(()=>this.populateOverlays(e,j,c)).next(()=>this.computeViews(e,M,j,tr())).next(X=>({batchId:D,changes:Yl(X)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ft(n)).next(s=>{let l=$u();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}getDocumentsMatchingCollectionGroupQuery(e,n,s,l){const c=n.collectionGroup;let h=$u();return this.indexManager.getCollectionParents(e,c).next(D=>ue.forEach(D,M=>{const j=(fe=n,Le=M.child(c),new bo(Le,null,fe.explicitOrderBy.slice(),fe.filters.slice(),fe.limit,fe.limitType,fe.startAt,fe.endAt));var fe,Le;return this.getDocumentsMatchingCollectionQuery(e,j,s,l).next(X=>{X.forEach((fe,Le)=>{h=h.insert(fe,Le)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,n,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(h=>(c=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,c,l))).next(h=>{c.forEach((M,j)=>{const X=j.getKey();null===h.get(X)&&(h=h.insert(X,mr.newInvalidDocument(X)))});let D=$u();return h.forEach((M,j)=>{const X=c.get(M);void 0!==X&&Wu(X.mutation,j,Ns.empty(),Vn.now()),mn(n,j)&&(D=D.insert(M,j))}),D})}}class rc{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return ue.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,{id:(l=n).id,version:l.version,createTime:cs(l.createTime)}),ue.resolve();var l}getNamedQuery(e,n){return ue.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,{name:(l=n).name,query:Ol(l.bundledQuery),readTime:cs(l.readTime)}),ue.resolve();var l}}class Zv{constructor(){this.overlays=new ni(Ft.comparator),this.hr=new Map}getOverlay(e,n){return ue.resolve(this.overlays.get(n))}getOverlays(e,n){const s=va();return ue.forEach(n,l=>this.getOverlay(e,l).next(c=>{null!==c&&s.set(l,c)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((l,c)=>{this.ht(e,n,c)}),ue.resolve()}removeOverlaysForBatchId(e,n,s){const l=this.hr.get(s);return void 0!==l&&(l.forEach(c=>this.overlays=this.overlays.remove(c)),this.hr.delete(s)),ue.resolve()}getOverlaysForCollection(e,n,s){const l=va(),c=n.length+1,h=new Ft(n.child("")),D=this.overlays.getIteratorFrom(h);for(;D.hasNext();){const M=D.getNext().value,j=M.getKey();if(!n.isPrefixOf(j.path))break;j.path.length===c&&M.largestBatchId>s&&l.set(M.getKey(),M)}return ue.resolve(l)}getOverlaysForCollectionGroup(e,n,s,l){let c=new ni((j,X)=>j-X);const h=this.overlays.getIterator();for(;h.hasNext();){const j=h.getNext().value;if(j.getKey().getCollectionGroup()===n&&j.largestBatchId>s){let X=c.get(j.largestBatchId);null===X&&(X=va(),c=c.insert(j.largestBatchId,X)),X.set(j.getKey(),j)}}const D=va(),M=c.getIterator();for(;M.hasNext()&&(M.getNext().value.forEach((j,X)=>D.set(j,X)),!(D.size()>=l)););return ue.resolve(D)}ht(e,n,s){const l=this.overlays.get(s.key);if(null!==l){const h=this.hr.get(l.largestBatchId).delete(s.key);this.hr.set(l.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new Hp(n,s));let c=this.hr.get(n);void 0===c&&(c=tr(),this.hr.set(n,c)),this.hr.set(n,c.add(s.key))}}class Zd{constructor(){this.Pr=new Qr(ms.Ir),this.Tr=new Qr(ms.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const s=new ms(e,n);this.Pr=this.Pr.add(s),this.Tr=this.Tr.add(s)}dr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Ar(new ms(e,n))}Rr(e,n){e.forEach(s=>this.removeReference(s,n))}Vr(e){const n=new Ft(new rn([])),s=new ms(n,e),l=new ms(n,e+1),c=[];return this.Tr.forEachInRange([s,l],h=>{this.Ar(h),c.push(h.key)}),c}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new Ft(new rn([])),s=new ms(n,e),l=new ms(n,e+1);let c=tr();return this.Tr.forEachInRange([s,l],h=>{c=c.add(h.key)}),c}containsKey(e){const n=new ms(e,0),s=this.Pr.firstAfterOrEqual(n);return null!==s&&e.isEqual(s.key)}}class ms{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return Ft.comparator(e.key,n.key)||un(e.pr,n.pr)}static Er(e,n){return un(e.pr,n.pr)||Ft.comparator(e.key,n.key)}}class Qv{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Qr(ms.Ir)}checkEmpty(e){return ue.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,s,l){const c=this.yr;this.yr++;const h=new uf(c,n,s,l);this.mutationQueue.push(h);for(const D of l)this.wr=this.wr.add(new ms(D.key,c)),this.indexManager.addToCollectionParentIndex(e,D.key.path.popLast());return ue.resolve(h)}lookupMutationBatch(e,n){return ue.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const l=this.br(n+1),c=l<0?0:l;return ue.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new ms(n,0),l=new ms(n,Number.POSITIVE_INFINITY),c=[];return this.wr.forEachInRange([s,l],h=>{const D=this.Sr(h.pr);c.push(D)}),ue.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Qr(un);return n.forEach(l=>{const c=new ms(l,0),h=new ms(l,Number.POSITIVE_INFINITY);this.wr.forEachInRange([c,h],D=>{s=s.add(D.pr)})}),ue.resolve(this.Dr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,l=s.length+1;let c=s;Ft.isDocumentKey(c)||(c=c.child(""));const h=new ms(new Ft(c),0);let D=new Qr(un);return this.wr.forEachWhile(M=>{const j=M.key.path;return!!s.isPrefixOf(j)&&(j.length===l&&(D=D.add(M.pr)),!0)},h),ue.resolve(this.Dr(D))}Dr(e){const n=[];return e.forEach(s=>{const l=this.Sr(s);null!==l&&n.push(l)}),n}removeMutationBatch(e,n){Ht(0===this.Cr(n.batchId,"removed")),this.mutationQueue.shift();let s=this.wr;return ue.forEach(n.mutations,l=>{const c=new ms(l.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.wr=s})}Mn(e){}containsKey(e,n){const s=new ms(n,0),l=this.wr.firstAfterOrEqual(s);return ue.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return ue.resolve()}Cr(e,n){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class fg{constructor(e){this.vr=e,this.docs=new ni(Ft.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,l=this.docs.get(s),c=l?l.size:0,h=this.vr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ue.resolve(s?s.document.mutableCopy():mr.newInvalidDocument(n))}getEntries(e,n){let s=Ss();return n.forEach(l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():mr.newInvalidDocument(l))}),ue.resolve(s)}getDocumentsMatchingQuery(e,n,s,l){let c=Ss();const h=n.path,D=new Ft(h.child("")),M=this.docs.getIteratorFrom(D);for(;M.hasNext();){const{key:j,value:{document:X}}=M.getNext();if(!h.isPrefixOf(j.path))break;j.path.length>h.length+1||I(T(X),s)<=0||(l.has(X.key)||mn(n,X))&&(c=c.insert(X.key,X.mutableCopy()))}return ue.resolve(c)}getAllFromCollectionGroup(e,n,s,l){Bt()}Fr(e,n){return ue.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new vf(this)}getSize(e){return ue.resolve(this.size)}}class vf extends _f{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((s,l)=>{l.isValidDocument()?n.push(this.ar.addEntry(e,l)):this.ar.removeEntry(s)}),ue.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}class ol{constructor(e){this.persistence=e,this.Mr=new Zo(n=>Xa(n),Dl),this.lastRemoteSnapshotVersion=hn.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Zd,this.targetCount=0,this.Lr=tc.Nn()}forEachTarget(e,n){return this.Mr.forEach((s,l)=>n(l)),ue.resolve()}getLastRemoteSnapshotVersion(e){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ue.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.Or&&(this.Or=n),ue.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new tc(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,ue.resolve()}updateTargetData(e,n){return this.qn(n),ue.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,ue.resolve()}removeTargets(e,n,s){let l=0;const c=[];return this.Mr.forEach((h,D)=>{D.sequenceNumber<=n&&null===s.get(D.targetId)&&(this.Mr.delete(h),c.push(this.removeMatchingKeysForTargetId(e,D.targetId)),l++)}),ue.waitFor(c).next(()=>l)}getTargetCount(e){return ue.resolve(this.targetCount)}getTargetData(e,n){const s=this.Mr.get(n)||null;return ue.resolve(s)}addMatchingKeys(e,n,s){return this.Nr.dr(n,s),ue.resolve()}removeMatchingKeys(e,n,s){this.Nr.Rr(n,s);const l=this.persistence.referenceDelegate,c=[];return l&&n.forEach(h=>{c.push(l.markPotentiallyOrphaned(e,h))}),ue.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),ue.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Nr.gr(n);return ue.resolve(s)}containsKey(e,n){return ue.resolve(this.Nr.containsKey(n))}}class lu{constructor(e,n){this.Br={},this.overlays={},this.kr=new To(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new ol(this),this.indexManager=new og,this.remoteDocumentCache=new fg(s=>this.referenceDelegate.Kr(s)),this.serializer=new b_(n),this.$r=new rc(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Zv,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Br[e.toKey()];return s||(s=new Qv(n,this.referenceDelegate),this.Br[e.toKey()]=s),s}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,s){ot("MemoryPersistence","Starting transaction:",e);const l=new pg(this.kr.next());return this.referenceDelegate.Ur(),s(l).next(c=>this.referenceDelegate.Wr(l).next(()=>c)).toPromise().then(c=>(l.raiseOnCommittedEvent(),c))}Gr(e,n){return ue.or(Object.values(this.Br).map(s=>()=>s.containsKey(e,n)))}}class pg extends V{constructor(e){super(),this.currentSequenceNumber=e}}class If{constructor(e){this.persistence=e,this.zr=new Zd,this.jr=null}static Hr(e){return new If(e)}get Jr(){if(this.jr)return this.jr;throw Bt()}addReference(e,n,s){return this.zr.addReference(s,n),this.Jr.delete(s.toString()),ue.resolve()}removeReference(e,n,s){return this.zr.removeReference(s,n),this.Jr.add(s.toString()),ue.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),ue.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(l=>this.Jr.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(l=>{l.forEach(c=>this.Jr.add(c.toString()))}).next(()=>s.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.Jr,s=>{const l=Ft.fromPath(s);return this.Yr(e,l).next(c=>{c||n.removeEntry(l,hn.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(s=>{s?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return ue.or([()=>ue.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}class G_{constructor(e){this.serializer=e}N(e,n,s,l){const c=new Je("createOrUpgrade",n);var M;s<1&&l>=1&&(e.createObjectStore("owner"),(M=e).createObjectStore("mutationQueues",{keyPath:"userId"}),M.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Au,{unique:!0}),M.createObjectStore("documentMutations"),ic(e),function(M){M.createObjectStore("remoteDocuments")}(e));let h=ue.resolve();return s<3&&l>=3&&(0!==s&&(function(M){M.deleteObjectStore("targetDocuments"),M.deleteObjectStore("targets"),M.deleteObjectStore("targetGlobal")}(e),ic(e)),h=h.next(()=>function(M){const j=M.store("targetGlobal"),X={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:hn.min().toTimestamp(),targetCount:0};return j.put("targetGlobalKey",X)}(c))),s<4&&l>=4&&(0!==s&&(h=h.next(()=>function(M,j){return j.store("mutations").W().next(X=>{M.deleteObjectStore("mutations"),M.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Au,{unique:!0});const fe=j.store("mutations"),Le=X.map(tt=>fe.put(tt));return ue.waitFor(Le)})}(e,c))),h=h.next(()=>{!function(M){M.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&l>=5&&(h=h.next(()=>this.Xr(c))),s<6&&l>=6&&(h=h.next(()=>(function(M){M.createObjectStore("remoteDocumentGlobal")}(e),this.ei(c)))),s<7&&l>=7&&(h=h.next(()=>this.ti(c))),s<8&&l>=8&&(h=h.next(()=>this.ni(e,c))),s<9&&l>=9&&(h=h.next(()=>{!function(M){M.objectStoreNames.contains("remoteDocumentChanges")&&M.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&l>=10&&(h=h.next(()=>this.ri(c))),s<11&&l>=11&&(h=h.next(()=>{(function(M){M.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(M){M.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&l>=12&&(h=h.next(()=>{!function(M){const j=M.createObjectStore("documentOverlays",{keyPath:Id});j.createIndex("collectionPathOverlayIndex",Ru,{unique:!1}),j.createIndex("collectionGroupOverlayIndex",Mu,{unique:!1})}(e)})),s<13&&l>=13&&(h=h.next(()=>function(M){const j=M.createObjectStore("remoteDocumentsV14",{keyPath:Il});j.createIndex("documentKeyIndex",wp),j.createIndex("collectionGroupIndex",zl)}(e)).next(()=>this.ii(e,c)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&l>=14&&(h=h.next(()=>this.si(e,c))),s<15&&l>=15&&(h=h.next(()=>function(M){M.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),M.createObjectStore("indexState",{keyPath:$h}).createIndex("sequenceNumberIndex",Ap,{unique:!1}),M.createObjectStore("indexEntries",{keyPath:vd}).createIndex("documentKeyIndex",Pu,{unique:!1})}(e))),h}ei(e){let n=0;return e.store("remoteDocuments").Y((s,l)=>{n+=mf(l)}).next(()=>{const s={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}Xr(e){const n=e.store("mutationQueues"),s=e.store("mutations");return n.W().next(l=>ue.forEach(l,c=>{const h=IDBKeyRange.bound([c.userId,-1],[c.userId,c.lastAcknowledgedBatchId]);return s.W("userMutationsIndex",h).next(D=>ue.forEach(D,M=>{Ht(M.userId===c.userId);const j=iu(this.serializer,M);return gf(e,c.userId,j).next(()=>{})}))}))}ti(e){const n=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(l=>{const c=[];return s.Y((h,D)=>{const M=new rn(h),j=[0,Ji(M)];c.push(n.get(j).next(X=>X?ue.resolve():n.put({targetId:0,path:Ji(M),sequenceNumber:l.highestListenSequenceNumber})))}).next(()=>ue.waitFor(c))})}ni(e,n){e.createObjectStore("collectionParents",{keyPath:Dp});const s=n.store("collectionParents"),l=new k_,c=h=>{if(l.add(h)){const D=h.lastSegment(),M=h.popLast();return s.put({collectionId:D,parent:Ji(M)})}};return n.store("remoteDocuments").Y({J:!0},(h,D)=>{const M=new rn(h);return c(M.popLast())}).next(()=>n.store("documentMutations").Y({J:!0},([h,D,M],j)=>{const X=zo(D);return c(X.popLast())}))}ri(e){const n=e.store("targets");return n.Y((s,l)=>{const c=Lc(l),h=rg(this.serializer,c);return n.put(h)})}ii(e,n){const s=n.store("remoteDocuments"),l=[];return s.Y((c,h)=>{const D=n.store("remoteDocumentsV14"),M=(fe=h,fe.document?new Ft(rn.fromString(fe.document.name).popFirst(5)):fe.noDocument?Ft.fromSegments(fe.noDocument.path):fe.unknownDocument?Ft.fromSegments(fe.unknownDocument.path):Bt()).path.toArray(),j={prefixPath:M.slice(0,M.length-2),collectionGroup:M[M.length-2],documentId:M[M.length-1],readTime:h.readTime||[0,0],unknownDocument:h.unknownDocument,noDocument:h.noDocument,document:h.document,hasCommittedMutations:!!h.hasCommittedMutations};var fe;l.push(D.put(j))}).next(()=>ue.waitFor(l))}si(e,n){const s=n.store("mutations"),l=dg(this.serializer),c=new lu(If.Hr,this.serializer.ct);return s.W().next(h=>{const D=new Map;return h.forEach(M=>{var j;let X=null!==(j=D.get(M.userId))&&void 0!==j?j:tr();iu(this.serializer,M).keys().forEach(fe=>X=X.add(fe)),D.set(M.userId,X)}),ue.forEach(D,(M,j)=>{const X=new Tt(j),fe=Nl.lt(this.serializer,X),Le=c.getIndexManager(X),tt=sl.lt(X,this.serializer,Le,c.referenceDelegate);return new hg(l,tt,fe,Le).recalculateAndSaveOverlaysForDocumentKeys(new Wo(n,To._e),M).next()})})}}function ic(i){i.createObjectStore("targetDocuments",{keyPath:t_}).createIndex("documentTargetsIndex",bp,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Su,{unique:!0}),i.createObjectStore("targetGlobal")}const gg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class mg{constructor(e,n,s,l,c,h,D,M,j,X,fe=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=s,this.oi=c,this.window=h,this.document=D,this._i=j,this.ai=X,this.ui=fe,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=Le=>Promise.resolve(),!mg.D())throw new mt(et.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new B_(this,l),this.Ti=n+"main",this.serializer=new b_(M),this.Ei=new $t(this.Ti,this.ui,new G_(this.serializer)),this.Qr=new Wv(this.referenceDelegate,this.serializer),this.remoteDocumentCache=dg(this.serializer),this.$r=new Hv,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===X&&Fn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new mt(et.FAILED_PRECONDITION,gg);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new To(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){var n=this;return this.Ii=function(){var s=(0,Ie.Z)(function*(l){if(n.started)return e(l)});return function(l){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.B(function(){var n=(0,Ie.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return n.apply(this,arguments)}}())}setNetworkEnabled(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget((0,Ie.Z)(function*(){n.started&&(yield n.Ai())})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Gc(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(n=>{n||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(n=>this.isPrimary&&!n?this.yi(e).next(()=>!1):!!n&&this.wi(e).next(()=>!0))).catch(e=>{if(Un(e))return ot("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ot("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return Qd(e).get("owner").next(n=>ue.resolve(this.Si(n)))}bi(e){return Gc(e).delete(this.clientId)}Di(){var e=this;return(0,Ie.Z)(function*(){if(e.isPrimary&&!e.Ci(e.Pi,18e5)){e.Pi=Date.now();const n=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const l=bs(s,"clientMetadata");return l.W().next(c=>{const h=e.vi(c,18e5),D=c.filter(M=>-1===h.indexOf(M));return ue.forEach(D,M=>l.delete(M.clientId)).next(()=>D)})}).catch(()=>[]);if(e.di)for(const s of n)e.di.removeItem(e.Fi(s.clientId))}})()}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?ue.resolve(!0):Qd(e).get("owner").next(n=>{if(null!==n&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)){if(this.Si(n)&&this.networkEnabled)return!0;if(!this.Si(n)){if(!n.allowTabSynchronization)throw new mt(et.FAILED_PRECONDITION,gg);return!1}}return!(!this.networkEnabled||!this.inForeground)||Gc(e).W().next(s=>void 0===this.vi(s,5e3).find(l=>!(this.clientId===l.clientId||!(!this.networkEnabled&&l.networkEnabled||!this.inForeground&&l.inForeground&&this.networkEnabled===l.networkEnabled))))}).next(n=>(this.isPrimary!==n&&ot("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var e=this;return(0,Ie.Z)(function*(){e.qr=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Oi(),e.Ni(),yield e.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],n=>{const s=new Wo(n,To._e);return e.yi(s).next(()=>e.bi(s))}),e.Ei.close(),e.Li()})()}vi(e,n){return e.filter(s=>this.Ci(s.updateTimeMs,n)&&!this.Mi(s.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>Gc(e).W().next(n=>this.vi(n,18e5).map(s=>s.clientId)))}get started(){return this.qr}getMutationQueue(e,n){return sl.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new L_(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return Nl.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,n,s){ot("IndexedDbPersistence","Starting transaction:",e);const l="readonly"===n?"readonly":"readwrite",c=15===(M=this.ui)?Nu:14===M?Ed:13===M?Ou:12===M?Gh:11===M?xu:void Bt();var M;let h;return this.Ei.runTransaction(e,l,c,D=>(h=new Wo(D,this.kr?this.kr.next():To._e),"readwrite-primary"===n?this.gi(h).next(M=>!!M||this.pi(h)).next(M=>{if(!M)throw Fn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new mt(et.FAILED_PRECONDITION,P);return s(h)}).next(M=>this.wi(h).next(()=>M)):this.ki(h).next(()=>s(h)))).then(D=>(h.raiseOnCommittedEvent(),D))}ki(e){return Qd(e).get("owner").next(n=>{if(null!==n&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)&&!this.Si(n)&&!(this.ai||this.allowTabSynchronization&&n.allowTabSynchronization))throw new mt(et.FAILED_PRECONDITION,gg)})}wi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Qd(e).put("owner",n)}static D(){return $t.D()}yi(e){const n=Qd(e);return n.get("owner").next(s=>this.Si(s)?(ot("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):ue.resolve())}Ci(e,n){const s=Date.now();return!(e<s-n||e>s&&(Fn(`Detected an update time that is in the future: ${e} > ${s}`),1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const n=/(?:Version|Mobile)\/1[456]/;(0,L.G6)()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var n;try{const s=null!==(null===(n=this.di)||void 0===n?void 0:n.getItem(this.Fi(e)));return ot("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return Fn("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){Fn("Failed to set zombie client id.",e)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Qd(i){return bs(i,"owner")}function Gc(i){return bs(i,"clientMetadata")}function Tf(i,e){let n=i.projectId;return i.isDefaultDatabase||(n+="."+i.database),"firestore/"+e+"/"+n+"/"}class _g{constructor(e,n,s,l){this.targetId=e,this.fromCache=n,this.qi=s,this.Qi=l}static Ki(e,n){let s=tr(),l=tr();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new _g(e,n.fromCache,s,l)}}class z_{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Cf{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=(0,L.G6)()?8:$t.v((0,L.z$)())>0?6:4}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,s,l){const c={result:null};return this.ji(e,n).next(h=>{c.result=h}).next(()=>{if(!c.result)return this.Hi(e,n,l,s).next(h=>{c.result=h})}).next(()=>{if(c.result)return;const h=new z_;return this.Ji(e,n,h).next(D=>{if(c.result=D,this.Ui)return this.Yi(e,n,h,D.size)})}).next(()=>c.result)}Yi(e,n,s,l){return s.documentReadCount<this.Wi?(xn()<=Ce.in.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",sn(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),ue.resolve()):(xn()<=Ce.in.DEBUG&&ot("QueryEngine","Query:",sn(n),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.Gi*l?(xn()<=Ce.in.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",sn(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,w(n))):ue.resolve())}ji(e,n){if(E(n))return ue.resolve(null);let s=w(n);return this.indexManager.getIndexType(e,s).next(l=>0===l?null:(null!==n.limit&&1===l&&(n=Ue(n,null,"F"),s=w(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const h=tr(...c);return this.zi.getDocuments(e,h).next(D=>this.indexManager.getMinOffset(e,s).next(M=>{const j=this.Zi(n,D);return this.Xi(n,j,h,M.readTime)?this.ji(e,Ue(n,null,"F")):this.es(e,j,n,M)}))})))}Hi(e,n,s,l){return E(n)||l.isEqual(hn.min())?ue.resolve(null):this.zi.getDocuments(e,s).next(c=>{const h=this.Zi(n,c);return this.Xi(n,h,s,l)?ue.resolve(null):(xn()<=Ce.in.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),sn(n)),this.es(e,h,n,vc(l,-1)).next(D=>D))})}Zi(e,n){let s=new Qr(zs(e));return n.forEach((l,c)=>{mn(e,c)&&(s=s.add(c))}),s}Xi(e,n,s,l){if(null===e.limit)return!1;if(s.size!==n.size)return!0;const c="F"===e.limitType?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ji(e,n,s){return xn()<=Ce.in.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",sn(n)),this.zi.getDocumentsMatchingQuery(e,n,A.min(),s)}es(e,n,s,l){return this.zi.getDocumentsMatchingQuery(e,s,l).next(c=>(n.forEach(h=>{c=c.insert(h.key,h)}),c))}}class zE{constructor(e,n,s,l){this.persistence=e,this.ts=n,this.serializer=l,this.ns=new ni(un),this.rs=new Zo(c=>Xa(c),Dl),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(s)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hg(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function W_(i,e,n,s){return new zE(i,e,n,s)}function q_(i,e){return yg.apply(this,arguments)}function yg(){return yg=(0,Ie.Z)(function*(i,e){const n=Lt(i);return yield n.persistence.runTransaction("Handle user change","readonly",s=>{let l;return n.mutationQueue.getAllMutationBatches(s).next(c=>(l=c,n._s(e),n.mutationQueue.getAllMutationBatches(s))).next(c=>{const h=[],D=[];let M=tr();for(const j of l){h.push(j.batchId);for(const X of j.mutations)M=M.add(X.key)}for(const j of c){D.push(j.batchId);for(const X of j.mutations)M=M.add(X.key)}return n.localDocuments.getDocuments(s,M).next(j=>({us:j,removedBatchIds:h,addedBatchIds:D}))})})}),yg.apply(this,arguments)}function Yv(i){const e=Lt(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function K_(i,e,n){let s=tr(),l=tr();return n.forEach(c=>s=s.add(c)),e.getEntries(i,s).next(c=>{let h=Ss();return n.forEach((D,M)=>{const j=c.get(D);M.isFoundDocument()!==j.isFoundDocument()&&(l=l.add(D)),M.isNoDocument()&&M.version.isEqual(hn.min())?(e.removeEntry(D,M.readTime),h=h.insert(D,M)):!j.isValidDocument()||M.version.compareTo(j.version)>0||0===M.version.compareTo(j.version)&&j.hasPendingWrites?(e.addEntry(M),h=h.insert(D,M)):ot("LocalStore","Ignoring outdated watch update for ",D,". Current version:",j.version," Watch version:",M.version)}),{cs:h,ls:l}})}function vg(i,e){const n=Lt(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function uu(i,e){const n=Lt(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return n.Qr.getTargetData(s,e).next(c=>c?(l=c,ue.resolve(l)):n.Qr.allocateTargetId(s).next(h=>(l=new ru(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.Qr.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=n.ns.get(s.targetId);return(null===l||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.ns=n.ns.insert(s.targetId,s),n.rs.set(e,s.targetId)),s})}function La(i,e,n){return Yd.apply(this,arguments)}function Yd(){return Yd=(0,Ie.Z)(function*(i,e,n){const s=Lt(i),l=s.ns.get(e),c=n?"readwrite":"readwrite-primary";try{n||(yield s.persistence.runTransaction("Release target",c,h=>s.persistence.referenceDelegate.removeTarget(h,l)))}catch(h){if(!Un(h))throw h;ot("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}s.ns=s.ns.remove(e),s.rs.delete(l.target)}),Yd.apply(this,arguments)}function zc(i,e,n){const s=Lt(i);let l=hn.min(),c=tr();return s.persistence.runTransaction("Execute query","readwrite",h=>function(M,j,X){const fe=Lt(M),Le=fe.rs.get(X);return void 0!==Le?ue.resolve(fe.ns.get(Le)):fe.Qr.getTargetData(j,X)}(s,h,w(e)).next(D=>{if(D)return l=D.lastLimboFreeSnapshotVersion,s.Qr.getMatchingKeysForTargetId(h,D.targetId).next(M=>{c=M})}).next(()=>s.ts.getDocumentsMatchingQuery(h,e,n?l:hn.min(),n?c:tr())).next(D=>(sc(s,vr(e),D),{documents:D,hs:c})))}function Wc(i,e){const n=Lt(i),s=Lt(n.Qr),l=n.ns.get(e);return l?Promise.resolve(l.target):n.persistence.runTransaction("Get target data","readonly",c=>s._t(c,e).next(h=>h?h.target:null))}function Jd(i,e){const n=Lt(i),s=n.ss.get(e)||hn.min();return n.persistence.runTransaction("Get new document changes","readonly",l=>n.os.getAllFromCollectionGroup(l,e,vc(s,-1),Number.MAX_SAFE_INTEGER)).then(l=>(sc(n,e,l),l))}function sc(i,e,n){let s=i.ss.get(e)||hn.min();n.forEach((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),i.ss.set(e,s)}function Xd(){return Xd=(0,Ie.Z)(function*(i,e,n,s){const l=Lt(i);let c=tr(),h=Ss();for(const j of n){const X=e.Ps(j.metadata.name);j.document&&(c=c.add(X));const fe=e.Is(j);fe.setReadTime(e.Ts(j.metadata.readTime)),h=h.insert(X,fe)}const D=l.os.newChangeBuffer({trackRemovals:!0}),M=yield uu(l,(X=s,w(Ql(rn.fromString(`__bundle__/docs/${X}`)))));var X;return l.persistence.runTransaction("Apply bundle documents","readwrite",j=>K_(j,D,h).next(X=>(D.apply(j),X)).next(X=>l.Qr.removeMatchingKeysForTargetId(j,M.targetId).next(()=>l.Qr.addMatchingKeys(j,c,M.targetId)).next(()=>l.localDocuments.getLocalViewOfDocuments(j,X.cs,X.ls)).next(()=>X.cs)))}),Xd.apply(this,arguments)}function bf(i,e){return Z_.apply(this,arguments)}function Z_(){return Z_=(0,Ie.Z)(function*(i,e,n=tr()){const s=yield uu(i,w(Ol(e.bundledQuery))),l=Lt(i);return l.persistence.runTransaction("Save named query","readwrite",c=>{const h=cs(e.readTime);if(s.snapshotVersion.compareTo(h)>=0)return l.$r.saveNamedQuery(c,e);const D=s.withResumeToken(ci.EMPTY_BYTE_STRING,h);return l.ns=l.ns.insert(D.targetId,D),l.Qr.updateTargetData(c,D).next(()=>l.Qr.removeMatchingKeysForTargetId(c,s.targetId)).next(()=>l.Qr.addMatchingKeys(c,n,s.targetId)).next(()=>l.$r.saveNamedQuery(c,e))})}),Z_.apply(this,arguments)}function Df(i,e){return`firestore_clients_${i}_${e}`}function qc(i,e,n){let s=`firestore_mutations_${i}_${n}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function Eg(i,e){return`firestore_targets_${i}_${e}`}class eh{constructor(e,n,s,l){this.user=e,this.batchId=n,this.state=s,this.error=l}static Es(e,n,s){const l=JSON.parse(s);let c,h="object"==typeof l&&-1!==["pending","acknowledged","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return h&&l.error&&(h="string"==typeof l.error.message&&"string"==typeof l.error.code,h&&(c=new mt(l.error.code,l.error.message))),h?new eh(e,n,l.state,c):(Fn("SharedClientState",`Failed to parse mutation state for ID '${n}': ${s}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class th{constructor(e,n,s){this.targetId=e,this.state=n,this.error=s}static Es(e,n){const s=JSON.parse(n);let l,c="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return c&&s.error&&(c="string"==typeof s.error.message&&"string"==typeof s.error.code,c&&(l=new mt(s.error.code,s.error.message))),c?new th(e,s.state,l):(Fn("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Af{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Es(e,n){const s=JSON.parse(n);let l="object"==typeof s&&s.activeTargetIds instanceof Array,c=xc();for(let h=0;l&&h<s.activeTargetIds.length;++h)l=jh(s.activeTargetIds[h]),c=c.add(s.activeTargetIds[h]);return l?new Af(e,c):(Fn("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class nh{constructor(e,n){this.clientId=e,this.onlineState=n}static Es(e){const n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new nh(n.clientId,n.onlineState):(Fn("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Sf{constructor(){this.activeTargetIds=xc()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Tg{constructor(e,n,s,l,c){this.window=e,this.oi=n,this.persistenceKey=s,this.Vs=l,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new ni(un),this.started=!1,this.ys=[];const h=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=c,this.ws=Df(this.persistenceKey,this.Vs),this.Ss=`firestore_sequence_number_${this.persistenceKey}`,this.ps=this.ps.insert(this.Vs,new Sf),this.bs=new RegExp(`^firestore_clients_${h}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${h}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${h}_(\\d+)$`),this.vs=`firestore_online_state_${this.persistenceKey}`,this.Fs=function(M){return`firestore_bundle_loaded_v2_${M}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ie.Z)(function*(){const n=yield e.syncEngine.Bi();for(const l of n){if(l===e.Vs)continue;const c=e.getItem(Df(e.persistenceKey,l));if(c){const h=Af.Es(l,c);h&&(e.ps=e.ps.insert(h.clientId,h))}}e.Ms();const s=e.storage.getItem(e.vs);if(s){const l=e.xs(s);l&&e.Os(l)}for(const l of e.ys)e.gs(l);e.ys=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let n=!1;return this.ps.forEach((s,l)=>{l.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,n,s){this.Ls(e,n,s),this.Bs(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(Eg(this.persistenceKey,e));if(s){const l=th.Es(e,s);l&&(n=l.state)}}return this.ks.As(e),this.Ms(),n}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Eg(this.persistenceKey,e))}updateQueryState(e,n,s){this.qs(e,n,s)}handleUserChange(e,n,s){n.forEach(l=>{this.Bs(l)}),this.currentUser=e,s.forEach(l=>{this.addPendingMutation(l)})}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return ot("SharedClientState","READ",e,n),n}setItem(e,n){ot("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){ot("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){var n=this;const s=e;if(s.storageArea===this.storage){if(ot("SharedClientState","EVENT",s.key,s.newValue),s.key===this.ws)return void Fn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((0,Ie.Z)(function*(){if(n.started){if(null!==s.key)if(n.bs.test(s.key)){if(null==s.newValue){const l=n.$s(s.key);return n.Us(l,null)}{const l=n.Ws(s.key,s.newValue);if(l)return n.Us(l.clientId,l)}}else if(n.Ds.test(s.key)){if(null!==s.newValue){const l=n.Gs(s.key,s.newValue);if(l)return n.zs(l)}}else if(n.Cs.test(s.key)){if(null!==s.newValue){const l=n.js(s.key,s.newValue);if(l)return n.Hs(l)}}else if(s.key===n.vs){if(null!==s.newValue){const l=n.xs(s.newValue);if(l)return n.Os(l)}}else if(s.key===n.Ss){const l=function(h){let D=To._e;if(null!=h)try{const M=JSON.parse(h);Ht("number"==typeof M),D=M}catch(M){Fn("SharedClientState","Failed to read sequence number from WebStorage",M)}return D}(s.newValue);l!==To._e&&n.sequenceNumberHandler(l)}else if(s.key===n.Fs){const l=n.Js(s.newValue);yield Promise.all(l.map(c=>n.syncEngine.Ys(c)))}}else n.ys.push(s)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(e,n,s){const l=new eh(this.currentUser,e,n,s),c=qc(this.persistenceKey,this.currentUser,e);this.setItem(c,l.ds())}Bs(e){const n=qc(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Qs(e){this.storage.setItem(this.vs,JSON.stringify({clientId:this.Vs,onlineState:e}))}qs(e,n,s){const l=Eg(this.persistenceKey,e),c=new th(e,n,s);this.setItem(l,c.ds())}Ks(e){const n=JSON.stringify(Array.from(e));this.setItem(this.Fs,n)}$s(e){const n=this.bs.exec(e);return n?n[1]:null}Ws(e,n){const s=this.$s(e);return Af.Es(s,n)}Gs(e,n){const s=this.Ds.exec(e),l=Number(s[1]);return eh.Es(new Tt(void 0!==s[2]?s[2]:null),l,n)}js(e,n){const s=this.Cs.exec(e),l=Number(s[1]);return th.Es(l,n)}xs(e){return nh.Es(e)}Js(e){return JSON.parse(e)}zs(e){var n=this;return(0,Ie.Z)(function*(){if(e.user.uid===n.currentUser.uid)return n.syncEngine.Zs(e.batchId,e.state,e.error);ot("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,n){const s=n?this.ps.insert(e,n):this.ps.remove(e),l=this.Ns(this.ps),c=this.Ns(s),h=[],D=[];return c.forEach(M=>{l.has(M)||h.push(M)}),l.forEach(M=>{c.has(M)||D.push(M)}),this.syncEngine.eo(h,D).then(()=>{this.ps=s})}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let n=xc();return e.forEach((s,l)=>{n=n.unionWith(l.activeTargetIds)}),n}}class Q_{constructor(){this.no=new Sf,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,s){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Sf,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class qE{io(e){}shutdown(){}}class Y_{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){ot("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){ot("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let oc=null;function rh(){return null===oc?oc=268435456+Math.round(2147483648*Math.random()):oc++,"0x"+oc.toString(16)}const Jv={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class J_{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}const Ws="WebChannelConnection";class Pf extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const s=n.ssl?"https":"http",l=encodeURIComponent(this.databaseId.projectId),c=encodeURIComponent(this.databaseId.database);this.fo=s+"://"+n.host,this.po=`projects/${l}/databases/${c}`,this.yo="(default)"===this.databaseId.database?`project_id=${l}`:`project_id=${l}&database_id=${c}`}get wo(){return!1}So(n,s,l,c,h){const D=rh(),M=this.bo(n,s.toUriEncodedString());ot("RestConnection",`Sending RPC '${n}' ${D}:`,M,l);const j={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(j,c,h),this.Co(n,M,j,l).then(X=>(ot("RestConnection",`Received RPC '${n}' ${D}: `,X),X),X=>{throw Qt("RestConnection",`RPC '${n}' ${D} failed with error: `,X,"url: ",M,"request:",l),X})}vo(n,s,l,c,h,D){return this.So(n,s,l,c,h)}Do(n,s,l){n["X-Goog-Api-Client"]="gl-js/ fire/"+Yt,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((c,h)=>n[h]=c),l&&l.headers.forEach((c,h)=>n[h]=c)}bo(n,s){return`${this.fo}/v1/${s}:${Jv[n]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,s,l){const c=rh();return new Promise((h,D)=>{const M=new be;M.setWithCredentials(!0),M.listenOnce(v.COMPLETE,()=>{try{switch(M.getLastErrorCode()){case H.NO_ERROR:const X=M.getResponseJson();ot(Ws,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(X)),h(X);break;case H.TIMEOUT:ot(Ws,`RPC '${e}' ${c} timed out`),D(new mt(et.DEADLINE_EXCEEDED,"Request time out"));break;case H.HTTP_ERROR:const fe=M.getStatus();if(ot(Ws,`RPC '${e}' ${c} failed with status:`,fe,"response text:",M.getResponseText()),fe>0){let Le=M.getResponseJson();Array.isArray(Le)&&(Le=Le[0]);const tt=Le?.error;if(tt&&tt.status&&tt.message){const Ot=function(Zt){const In=Zt.toLowerCase().replace(/_/g,"-");return Object.values(et).indexOf(In)>=0?In:et.UNKNOWN}(tt.status);D(new mt(Ot,tt.message))}else D(new mt(et.UNKNOWN,"Server responded with status "+M.getStatus()))}else D(new mt(et.UNAVAILABLE,"Connection failed."));break;default:Bt()}}finally{ot(Ws,`RPC '${e}' ${c} completed.`)}});const j=JSON.stringify(l);ot(Ws,`RPC '${e}' ${c} sending request:`,l),M.send(n,"POST",j,s,15)})}Fo(e,n,s){const l=rh(),c=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=Du(),D=ei(),M={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},j=this.longPollingOptions.timeoutSeconds;void 0!==j&&(M.longPollingTimeout=Math.round(1e3*j)),this.useFetchStreams&&(M.useFetchStreams=!0),this.Do(M.initMessageHeaders,n,s),M.encodeInitMessageHeaders=!0;const X=c.join("");ot(Ws,`Creating RPC '${e}' stream ${l}: ${X}`,M);const fe=h.createWebChannel(X,M);let Le=!1,tt=!1;const Ot=new J_({lo:Zt=>{tt?ot(Ws,`Not sending because RPC '${e}' stream ${l} is closed:`,Zt):(Le||(ot(Ws,`Opening RPC '${e}' stream ${l} transport.`),fe.open(),Le=!0),ot(Ws,`RPC '${e}' stream ${l} sending:`,Zt),fe.send(Zt))},ho:()=>fe.close()}),Jt=(Zt,In,Hn)=>{Zt.listen(In,En=>{try{Hn(En)}catch(ir){setTimeout(()=>{throw ir},0)}})};return Jt(fe,ne.EventType.OPEN,()=>{tt||ot(Ws,`RPC '${e}' stream ${l} transport opened.`)}),Jt(fe,ne.EventType.CLOSE,()=>{tt||(tt=!0,ot(Ws,`RPC '${e}' stream ${l} transport closed`),Ot.Vo())}),Jt(fe,ne.EventType.ERROR,Zt=>{tt||(tt=!0,Qt(Ws,`RPC '${e}' stream ${l} transport errored:`,Zt),Ot.Vo(new mt(et.UNAVAILABLE,"The operation could not be completed")))}),Jt(fe,ne.EventType.MESSAGE,Zt=>{var In;if(!tt){const Hn=Zt.data[0];Ht(!!Hn);const ir=Hn.error||(null===(In=Hn[0])||void 0===In?void 0:In.error);if(ir){ot(Ws,`RPC '${e}' stream ${l} received error:`,ir);const br=ir.status;let si=function(vv){const Gm=Ps[vv];if(void 0!==Gm)return f_(Gm)}(br),es=ir.message;void 0===si&&(si=et.INTERNAL,es="Unknown error status: "+br+" with message "+ir.message),tt=!0,Ot.Vo(new mt(si,es)),fe.close()}else ot(Ws,`RPC '${e}' stream ${l} received:`,Hn),Ot.mo(Hn)}}),Jt(D,y.STAT_EVENT,Zt=>{Zt.stat===R.PROXY?ot(Ws,`RPC '${e}' stream ${l} detected buffering proxy`):Zt.stat===R.NOPROXY&&ot(Ws,`RPC '${e}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{Ot.Ro()},0),Ot}}function X_(){return typeof window<"u"?window:null}function ih(){return typeof document<"u"?document:null}function sh(i){return new Fv(i,!0)}class Rf{constructor(e,n,s=1e3,l=1.5,c=6e4){this.oi=e,this.timerId=n,this.Mo=s,this.xo=l,this.Oo=c,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),s=Math.max(0,Date.now()-this.Bo),l=Math.max(0,n-s);l>0&&ot("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,l,()=>(this.Bo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){null!==this.Lo&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){null!==this.Lo&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}}class Xv{constructor(e,n,s,l,c,h,D,M){this.oi=e,this.$o=s,this.Uo=l,this.connection=c,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=D,this.listener=M,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new Rf(e,n)}Ho(){return 1===this.state||5===this.state||this.Jo()}Jo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Yo()}stop(){var e=this;return(0,Ie.Z)(function*(){e.Ho()&&(yield e.close(0))})()}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}e_(){var e=this;return(0,Ie.Z)(function*(){if(e.Jo())return e.close(0)})()}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}close(e,n){var s=this;return(0,Ie.Z)(function*(){s.n_(),s.r_(),s.jo.cancel(),s.Wo++,4!==e?s.jo.reset():n&&n.code===et.RESOURCE_EXHAUSTED?(Fn(n.toString()),Fn("Using maximum backoff delay to prevent overloading the backend."),s.jo.ko()):n&&n.code===et.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.i_(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.To(n)})()}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,l])=>{this.Wo===n&&this.o_(s,l)},s=>{e(()=>{const l=new mt(et.UNKNOWN,"Fetching auth token failed: "+s.message);return this.__(l)})})}o_(e,n){const s=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{s(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(l=>{s(()=>this.__(l))}),this.stream.onMessage(l=>{s(()=>this.onMessage(l))})}Yo(){var e=this;this.state=5,this.jo.qo((0,Ie.Z)(function*(){e.state=0,e.start()}))}__(e){return ot("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(ot("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class eI extends Xv{constructor(e,n,s,l,c,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,l,h),this.serializer=c}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=function Jp(i,e){let n;if("targetChange"in e){const s="NO_CHANGE"===(j=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===j?1:"REMOVE"===j?2:"CURRENT"===j?3:"RESET"===j?4:Bt(),l=e.targetChange.targetIds||[],c=function(j,X){return j.useProto3Json?(Ht(void 0===X||"string"==typeof X),ci.fromBase64String(X||"")):(Ht(void 0===X||X instanceof Uint8Array),ci.fromUint8Array(X||new Uint8Array))}(i,e.targetChange.resumeToken),h=e.targetChange.cause,D=h&&function(j){const X=void 0===j.code?et.UNKNOWN:f_(j.code);return new mt(X,j.message||"")}(h);n=new m_(s,l,c,D||null)}else if("documentChange"in e){const s=e.documentChange,l=Na(i,s.document.name),c=cs(s.document.updateTime),h=s.document.createTime?cs(s.document.createTime):hn.min(),D=new Xi({mapValue:{fields:s.document.fields}}),M=mr.newFoundDocument(l,c,h,D);n=new df(s.targetIds||[],s.removedTargetIds||[],M.key,M)}else if("documentDelete"in e){const s=e.documentDelete,l=Na(i,s.document),c=s.readTime?cs(s.readTime):hn.min(),h=mr.newNoDocument(l,c);n=new df([],s.removedTargetIds||[],h.key,h)}else if("documentRemove"in e){const s=e.documentRemove,l=Na(i,s.document);n=new df([],s.removedTargetIds||[],l,null)}else{if(!("filter"in e))return Bt();{const s=e.filter,{count:l=0,unchangedNames:c}=s,h=new $p(l,c);n=new g_(s.targetId,h)}}var j;return n}(this.serializer,e),s=function(c){if(!("targetChange"in c))return hn.min();const h=c.targetChange;return h.targetIds&&h.targetIds.length?hn.min():h.readTime?cs(h.readTime):hn.min()}(e);return this.listener.u_(n,s)}c_(e){const n={};n.database=Ud(this.serializer),n.addTarget=function(c,h){let D;const M=h.target;if(D=Al(M)?{documents:kc(c,M)}:{query:eg(c,M).ut},D.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){D.resumeToken=eu(c,h.resumeToken);const j=Ld(c,h.expectedCount);null!==j&&(D.expectedCount=j)}else if(h.snapshotVersion.compareTo(hn.min())>0){D.readTime=Yu(c,h.snapshotVersion.toTimestamp());const j=Ld(c,h.expectedCount);null!==j&&(D.expectedCount=j)}return D}(this.serializer,e);const s=function Vv(i,e){const n=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Bt()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);s&&(n.labels=s),this.t_(n)}l_(e){const n={};n.database=Ud(this.serializer),n.removeTarget=e,this.t_(n)}}class Mf extends Xv{constructor(e,n,s,l,c,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,l,h),this.serializer=c,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(Ht(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=function Xp(i,e){return i&&i.length>0?(Ht(void 0!==e),i.map(n=>function(l,c){let h=cs(l.updateTime?l.updateTime:c);return h.isEqual(hn.min())&&(h=cs(c)),new l_(h,l.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),s=cs(e.commitTime);return this.listener.T_(s,n)}return Ht(!e.writeResults||0===e.writeResults.length),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=Ud(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>tu(this.serializer,s))};this.t_(n)}}class tI extends class{}{constructor(e,n,s,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=l,this.A_=!1}R_(){if(this.A_)throw new mt(et.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,s,l){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,h])=>this.connection.So(e,v_(n,s),l,c,h)).catch(c=>{throw"FirebaseError"===c.name?(c.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new mt(et.UNKNOWN,c.toString())})}vo(e,n,s,l,c){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,D])=>this.connection.vo(e,v_(n,s),l,h,D,c)).catch(h=>{throw"FirebaseError"===h.name?(h.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new mt(et.UNKNOWN,h.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class nI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,"Online"===e&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Fn(n),this.g_=!1):ot("OnlineStateTracker",n)}b_(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}class ey{constructor(e,n,s,l,c){var h=this;this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=c,this.M_.io(D=>{s.enqueueAndForget((0,Ie.Z)(function*(){var M;du(h)&&(ot("RemoteStore","Restarting streams for network reachability change."),yield(M=(0,Ie.Z)(function*(X){const fe=Lt(X);fe.v_.add(4),yield Zc(fe),fe.x_.set("Unknown"),fe.v_.delete(4),yield oh(fe)}),function j(X){return M.apply(this,arguments)})(h))}))}),this.x_=new nI(s,l)}}function oh(i){return Cg.apply(this,arguments)}function Cg(){return Cg=(0,Ie.Z)(function*(i){if(du(i))for(const e of i.F_)yield e(!0)}),Cg.apply(this,arguments)}function Zc(i){return xf.apply(this,arguments)}function xf(){return xf=(0,Ie.Z)(function*(i){for(const e of i.F_)yield e(!1)}),xf.apply(this,arguments)}function ah(i,e){const n=Lt(i);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),wg(n)?Nf(n):lc(n).Jo()&&ty(n,e))}function cu(i,e){const n=Lt(i),s=lc(n);n.C_.delete(e),s.Jo()&&Of(n,e),0===n.C_.size&&(s.Jo()?s.Xo():du(n)&&n.x_.set("Unknown"))}function ty(i,e){if(i.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(hn.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}lc(i).c_(e)}function Of(i,e){i.O_.Oe(e),lc(i).l_(e)}function Nf(i){i.O_=new kv({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>i.C_.get(e)||null,nt:()=>i.datastore.serializer.databaseId}),lc(i).start(),i.x_.p_()}function wg(i){return du(i)&&!lc(i).Ho()&&i.C_.size>0}function du(i){return 0===Lt(i).v_.size}function bg(i){i.O_=void 0}function rI(i){return kf.apply(this,arguments)}function kf(){return kf=(0,Ie.Z)(function*(i){i.C_.forEach((e,n)=>{ty(i,e)})}),kf.apply(this,arguments)}function iI(i,e){return Dg.apply(this,arguments)}function Dg(){return Dg=(0,Ie.Z)(function*(i,e){bg(i),wg(i)?(i.x_.S_(e),Nf(i)):i.x_.set("Unknown")}),Dg.apply(this,arguments)}function KE(i,e,n){return Lf.apply(this,arguments)}function Lf(){return Lf=(0,Ie.Z)(function*(i,e,n){if(i.x_.set("Online"),e instanceof m_&&2===e.state&&e.cause)try{yield(s=(0,Ie.Z)(function*(c,h){const D=h.cause;for(const M of h.targetIds)c.C_.has(M)&&(yield c.remoteSyncer.rejectListen(M,D),c.C_.delete(M),c.O_.removeTarget(M))}),function l(c,h){return s.apply(this,arguments)})(i,e)}catch(s){ot("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield lh(i,s)}else if(e instanceof df?i.O_.$e(e):e instanceof g_?i.O_.Je(e):i.O_.Ge(e),!n.isEqual(hn.min()))try{const s=yield Yv(i.localStore);n.compareTo(s)>=0&&(yield function(c,h){const D=c.O_.it(h);return D.targetChanges.forEach((M,j)=>{if(M.resumeToken.approximateByteSize()>0){const X=c.C_.get(j);X&&c.C_.set(j,X.withResumeToken(M.resumeToken,h))}}),D.targetMismatches.forEach((M,j)=>{const X=c.C_.get(M);if(!X)return;c.C_.set(M,X.withResumeToken(ci.EMPTY_BYTE_STRING,X.snapshotVersion)),Of(c,M);const fe=new ru(X.target,M,j,X.sequenceNumber);ty(c,fe)}),c.remoteSyncer.applyRemoteEvent(D)}(i,n))}catch(s){ot("RemoteStore","Failed to raise snapshot:",s),yield lh(i,s)}var s}),Lf.apply(this,arguments)}function lh(i,e,n){return ra.apply(this,arguments)}function ra(){return ra=(0,Ie.Z)(function*(i,e,n){if(!Un(e))throw e;i.v_.add(1),yield Zc(i),i.x_.set("Offline"),n||(n=()=>Yv(i.localStore)),i.asyncQueue.enqueueRetryable((0,Ie.Z)(function*(){ot("RemoteStore","Retrying IndexedDB access"),yield n(),i.v_.delete(1),yield oh(i)}))}),ra.apply(this,arguments)}function Ag(i,e){return e().catch(n=>lh(i,n,e))}function uh(i){return ch.apply(this,arguments)}function ch(){return ch=(0,Ie.Z)(function*(i){const e=Lt(i),n=Ll(e);let s=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;hu(e);)try{const l=yield vg(e.localStore,s);if(null===l){0===e.D_.length&&n.Xo();break}s=l.batchId,Sg(e,l)}catch(l){yield lh(e,l)}ny(e)&&sI(e)}),ch.apply(this,arguments)}function hu(i){return du(i)&&i.D_.length<10}function Sg(i,e){i.D_.push(e);const n=Ll(i);n.Jo()&&n.P_&&n.I_(e.mutations)}function ny(i){return du(i)&&!Ll(i).Ho()&&i.D_.length>0}function sI(i){Ll(i).start()}function oI(i){return dh.apply(this,arguments)}function dh(){return dh=(0,Ie.Z)(function*(i){Ll(i).d_()}),dh.apply(this,arguments)}function al(i){return Ff.apply(this,arguments)}function Ff(){return Ff=(0,Ie.Z)(function*(i){const e=Ll(i);for(const n of i.D_)e.I_(n.mutations)}),Ff.apply(this,arguments)}function aI(i,e,n){return ry.apply(this,arguments)}function ry(){return ry=(0,Ie.Z)(function*(i,e,n){const s=i.D_.shift(),l=Bp.from(s,e,n);yield Ag(i,()=>i.remoteSyncer.applySuccessfulWrite(l)),yield uh(i)}),ry.apply(this,arguments)}function qs(i,e){return Pg.apply(this,arguments)}function Pg(){return Pg=(0,Ie.Z)(function*(i,e){var n;e&&Ll(i).P_&&(yield(n=(0,Ie.Z)(function*(l,c){if(h_(D=c.code)&&D!==et.ABORTED){const h=l.D_.shift();Ll(l).Zo(),yield Ag(l,()=>l.remoteSyncer.rejectFailedWrite(h.batchId,c)),yield uh(l)}var D}),function s(l,c){return n.apply(this,arguments)})(i,e)),ny(i)&&sI(i)}),Pg.apply(this,arguments)}function Vf(i,e){return Rg.apply(this,arguments)}function Rg(){return Rg=(0,Ie.Z)(function*(i,e){const n=Lt(i);n.asyncQueue.verifyOperationInProgress(),ot("RemoteStore","RemoteStore received new credentials");const s=du(n);n.v_.add(3),yield Zc(n),s&&n.x_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),yield oh(n)}),Rg.apply(this,arguments)}function Mg(i,e){return hh.apply(this,arguments)}function hh(){return hh=(0,Ie.Z)(function*(i,e){const n=Lt(i);e?(n.v_.delete(2),yield oh(n)):e||(n.v_.add(2),yield Zc(n),n.x_.set("Unknown"))}),hh.apply(this,arguments)}function lc(i){return i.N_||(i.N_=function(n,s,l){const c=Lt(n);return c.R_(),new eI(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(i.datastore,i.asyncQueue,{Po:rI.bind(null,i),To:iI.bind(null,i),u_:KE.bind(null,i)}),i.F_.push(function(){var e=(0,Ie.Z)(function*(n){n?(i.N_.Zo(),wg(i)?Nf(i):i.x_.set("Unknown")):(yield i.N_.stop(),bg(i))});return function(n){return e.apply(this,arguments)}}())),i.N_}function Ll(i){return i.L_||(i.L_=function(n,s,l){const c=Lt(n);return c.R_(),new Mf(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(i.datastore,i.asyncQueue,{Po:oI.bind(null,i),To:qs.bind(null,i),E_:al.bind(null,i),T_:aI.bind(null,i)}),i.F_.push(function(){var e=(0,Ie.Z)(function*(n){n?(i.L_.Zo(),yield uh(i)):(yield i.L_.stop(),i.D_.length>0&&(ot("RemoteStore",`Stopping write stream with ${i.D_.length} pending writes`),i.D_=[]))});return function(n){return e.apply(this,arguments)}}())),i.L_}class xg{constructor(e,n,s,l,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new Vr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,l,c){const h=Date.now()+s,D=new xg(e,n,h,l,c);return D.start(s),D}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new mt(et.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function uc(i,e){if(Fn("AsyncQueue",`${e}: ${i}`),Un(i))return new mt(et.UNAVAILABLE,`${e}: ${i}`);throw i}class cc{constructor(e){this.comparator=e?(n,s)=>e(n,s)||Ft.comparator(n.key,s.key):(n,s)=>Ft.comparator(n.key,s.key),this.keyedMap=$u(),this.sortedSet=new ni(this.comparator)}static emptySet(e){return new cc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof cc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const s=new cc;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class iy{constructor(){this.B_=new ni(Ft.comparator)}track(e){const n=e.doc.key,s=this.B_.get(n);s?0!==e.type&&3===s.type?this.B_=this.B_.insert(n,e):3===e.type&&1!==s.type?this.B_=this.B_.insert(n,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.B_=this.B_.remove(n):1===e.type&&2===s.type?this.B_=this.B_.insert(n,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):Bt():this.B_=this.B_.insert(n,e)}k_(){const e=[];return this.B_.inorderTraversal((n,s)=>{e.push(s)}),e}}class Qc{constructor(e,n,s,l,c,h,D,M,j){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=h,this.syncStateChanged=D,this.excludesMetadataChanges=M,this.hasCachedResults=j}static fromInitialDocuments(e,n,s,l,c){const h=[];return n.forEach(D=>{h.push({type:0,doc:D})}),new Qc(e,n,cc.emptySet(n),h,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&at(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==s[l].type||!n[l].doc.isEqual(s[l].doc))return!1;return!0}}class sy{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some(e=>e.U_())}}class oy{constructor(){this.queries=new Zo(e=>wt(e),at),this.onlineState="Unknown",this.W_=new Set}}function fu(i,e){return Fa.apply(this,arguments)}function Fa(){return Fa=(0,Ie.Z)(function*(i,e){const n=Lt(i);let s=3;const l=e.query;let c=n.queries.get(l);c?!c.K_()&&e.U_()&&(s=2):(c=new sy,s=e.U_()?0:1);try{switch(s){case 0:c.q_=yield n.onListen(l,!0);break;case 1:c.q_=yield n.onListen(l,!1);break;case 2:yield n.onFirstRemoteStoreListen(l)}}catch(h){const D=uc(h,`Initialization of query '${sn(e.query)}' failed`);return void e.onError(D)}n.queries.set(l,c),c.Q_.push(e),e.G_(n.onlineState),c.q_&&e.z_(c.q_)&&Uf(n)}),Fa.apply(this,arguments)}function pu(i,e){return Og.apply(this,arguments)}function Og(){return Og=(0,Ie.Z)(function*(i,e){const n=Lt(i),s=e.query;let l=3;const c=n.queries.get(s);if(c){const h=c.Q_.indexOf(e);h>=0&&(c.Q_.splice(h,1),0===c.Q_.length?l=e.U_()?0:1:!c.K_()&&e.U_()&&(l=2))}switch(l){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}),Og.apply(this,arguments)}function lI(i,e){const n=Lt(i);let s=!1;for(const l of e){const h=n.queries.get(l.query);if(h){for(const D of h.Q_)D.z_(l)&&(s=!0);h.q_=l}}s&&Uf(n)}function ay(i,e,n){const s=Lt(i),l=s.queries.get(e);if(l)for(const c of l.Q_)c.onError(n);s.queries.delete(e)}function Uf(i){i.W_.forEach(e=>{e.next()})}var fh,Yc;(Yc=fh||(fh={})).j_="default",Yc.Cache="cache";class Jc{constructor(e,n,s){this.query=e,this.H_=n,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=s||{}}z_(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)3!==l.type&&s.push(l);e=new Qc(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),n=!0):this.X_(e,this.onlineState)&&(this.ea(e),n=!0),this.Y_=e,n}onError(e){this.H_.error(e)}G_(e){this.onlineState=e;let n=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),n=!0),n}X_(e,n){return!e.fromCache||!this.U_()||(!this.options.ta||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}ea(e){e=Qc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}U_(){return this.options.source!==fh.Cache}}class ly{constructor(e,n){this.na=e,this.byteLength=n}ra(){return"metadata"in this.na}}class Ng{constructor(e){this.serializer=e}Ps(e){return Na(this.serializer,e)}Is(e){return e.metadata.exists?Nc(this.serializer,e.document,!1):mr.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return cs(e)}}class uI{constructor(e,n,s){this.ia=e,this.localStore=n,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=uy(e)}sa(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.na.namedQuery)this.queries.push(e.na.namedQuery);else if(e.na.documentMetadata){this.documents.push({metadata:e.na.documentMetadata}),e.na.documentMetadata.exists||++n;const s=rn.fromString(e.na.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.na.document&&(this.documents[this.documents.length-1].document=e.na.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}oa(e){const n=new Map,s=new Ng(this.serializer);for(const l of e)if(l.metadata.queries){const c=s.Ps(l.metadata.name);for(const h of l.metadata.queries){const D=(n.get(h)||tr()).add(c);n.set(h,D)}}return n}complete(){var e=this;return(0,Ie.Z)(function*(){const n=yield function Ig(i,e,n,s){return Xd.apply(this,arguments)}(e.localStore,new Ng(e.serializer),e.documents,e.ia.id),s=e.oa(e.documents);for(const l of e.queries)yield bf(e.localStore,l,s.get(l.name));return e.progress.taskState="Success",{progress:e.progress,_a:e.collectionGroups,aa:n}})()}}function uy(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class cy{constructor(e){this.key=e}}class dy{constructor(e){this.key=e}}class kg{constructor(e,n){this.query=e,this.ua=n,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=tr(),this.mutatedKeys=tr(),this.ha=zs(e),this.Pa=new cc(this.ha)}get Ia(){return this.ua}Ta(e,n){const s=n?n.Ea:new iy,l=n?n.Pa:this.Pa;let c=n?n.mutatedKeys:this.mutatedKeys,h=l,D=!1;const M="F"===this.query.limitType&&l.size===this.query.limit?l.last():null,j="L"===this.query.limitType&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((X,fe)=>{const Le=l.get(X),tt=mn(this.query,fe)?fe:null,Ot=!!Le&&this.mutatedKeys.has(Le.key),Jt=!!tt&&(tt.hasLocalMutations||this.mutatedKeys.has(tt.key)&&tt.hasCommittedMutations);let Zt=!1;Le&&tt?Le.data.isEqual(tt.data)?Ot!==Jt&&(s.track({type:3,doc:tt}),Zt=!0):this.da(Le,tt)||(s.track({type:2,doc:tt}),Zt=!0,(M&&this.ha(tt,M)>0||j&&this.ha(tt,j)<0)&&(D=!0)):!Le&&tt?(s.track({type:0,doc:tt}),Zt=!0):Le&&!tt&&(s.track({type:1,doc:Le}),Zt=!0,(M||j)&&(D=!0)),Zt&&(tt?(h=h.add(tt),c=Jt?c.add(X):c.delete(X)):(h=h.delete(X),c=c.delete(X)))}),null!==this.query.limit)for(;h.size>this.query.limit;){const X="F"===this.query.limitType?h.last():h.first();h=h.delete(X.key),c=c.delete(X.key),s.track({type:1,doc:X})}return{Pa:h,Ea:s,Xi:D,mutatedKeys:c}}da(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,l){const c=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;const h=e.Ea.k_();h.sort((X,fe)=>function(tt,Ot){const Jt=Zt=>{switch(Zt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Bt()}};return Jt(tt)-Jt(Ot)}(X.type,fe.type)||this.ha(X.doc,fe.doc)),this.Aa(s),l=null!=l&&l;const D=n&&!l?this.Ra():[],M=0===this.la.size&&this.current&&!l?1:0,j=M!==this.ca;return this.ca=M,0!==h.length||j?{snapshot:new Qc(this.query,e.Pa,c,h,e.mutatedKeys,0===M,j,!1,!!s&&s.resumeToken.approximateByteSize()>0),Va:D}:{Va:D}}G_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new iy,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}Aa(e){e&&(e.addedDocuments.forEach(n=>this.ua=this.ua.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ua=this.ua.delete(n)),this.current=e.current)}Ra(){if(!this.current)return[];const e=this.la;this.la=tr(),this.Pa.forEach(s=>{this.ma(s.key)&&(this.la=this.la.add(s.key))});const n=[];return e.forEach(s=>{this.la.has(s)||n.push(new dy(s))}),this.la.forEach(s=>{e.has(s)||n.push(new cy(s))}),n}fa(e){this.ua=e.hs,this.la=tr();const n=this.Ta(e.documents);return this.applyChanges(n,!0)}ga(){return Qc.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,0===this.ca,this.hasCachedResults)}}class ZE{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class cI{constructor(e){this.key=e,this.pa=!1}}class QE{constructor(e,n,s,l,c,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=h,this.ya={},this.wa=new Zo(D=>wt(D),at),this.Sa=new Map,this.ba=new Set,this.Da=new ni(Ft.comparator),this.Ca=new Map,this.va=new Zd,this.Fa={},this.Ma=new Map,this.xa=tc.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return!0===this.Oa}}function YE(i,e){return Bf.apply(this,arguments)}function Bf(){return Bf=(0,Ie.Z)(function*(i,e,n=!0){const s=Zf(i);let l;const c=s.wa.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.ga()):l=yield ph(s,e,n,!0),l}),Bf.apply(this,arguments)}function hy(i,e){return fy.apply(this,arguments)}function fy(){return fy=(0,Ie.Z)(function*(i,e){const n=Zf(i);yield ph(n,e,!0,!1)}),fy.apply(this,arguments)}function ph(i,e,n,s){return Hf.apply(this,arguments)}function Hf(){return Hf=(0,Ie.Z)(function*(i,e,n,s){const l=yield uu(i.localStore,w(e)),c=l.targetId,h=n?i.sharedClientState.addLocalQueryTarget(c):"not-current";let D;return s&&(D=yield jf(i,e,c,"current"===h,l.resumeToken)),i.isPrimaryClient&&n&&ah(i.remoteStore,l),D}),Hf.apply(this,arguments)}function jf(i,e,n,s,l){return Lg.apply(this,arguments)}function Lg(){return Lg=(0,Ie.Z)(function*(i,e,n,s,l){i.Na=(fe,Le,tt)=>{return(Ot=(0,Ie.Z)(function*(Zt,In,Hn,En){let ir=In.view.Ta(Hn);ir.Xi&&(ir=yield zc(Zt.localStore,In.query,!1).then(({documents:Ua})=>In.view.Ta(Ua,ir)));const br=En&&En.targetChanges.get(In.targetId),si=En&&null!=En.targetMismatches.get(In.targetId),es=In.view.applyChanges(ir,Zt.isPrimaryClient,br,si);return qf(Zt,In.targetId,es.Va),es.snapshot}),function Jt(Zt,In,Hn,En){return Ot.apply(this,arguments)})(i,fe,Le,tt);var Ot};const c=yield zc(i.localStore,e,!0),h=new kg(e,c.hs),D=h.Ta(c.documents),M=Nd.createSynthesizedTargetChangeForCurrentChange(n,s&&"Offline"!==i.onlineState,l),j=h.applyChanges(D,i.isPrimaryClient,M);qf(i,n,j.Va);const X=new ZE(e,n,h);return i.wa.set(e,X),i.Sa.has(n)?i.Sa.get(n).push(e):i.Sa.set(n,[e]),j.snapshot}),Lg.apply(this,arguments)}function py(i,e,n){return $f.apply(this,arguments)}function $f(){return $f=(0,Ie.Z)(function*(i,e,n){const s=Lt(i),l=s.wa.get(e),c=s.Sa.get(l.targetId);if(c.length>1)return s.Sa.set(l.targetId,c.filter(h=>!at(h,e))),void s.wa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||(yield La(s.localStore,l.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(l.targetId),n&&cu(s.remoteStore,l.targetId),ed(s,l.targetId)}).catch(te))):(ed(s,l.targetId),yield La(s.localStore,l.targetId,!0))}),$f.apply(this,arguments)}function lr(i,e){return Gf.apply(this,arguments)}function Gf(){return Gf=(0,Ie.Z)(function*(i,e){const n=Lt(i),s=n.wa.get(e),l=n.Sa.get(s.targetId);n.isPrimaryClient&&1===l.length&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),cu(n.remoteStore,s.targetId))}),Gf.apply(this,arguments)}function gu(){return gu=(0,Ie.Z)(function*(i,e,n){const s=Zg(i);try{const l=yield function(h,D){const M=Lt(h),j=Vn.now(),X=D.reduce((tt,Ot)=>tt.add(Ot.key),tr());let fe,Le;return M.persistence.runTransaction("Locally write mutations","readwrite",tt=>{let Ot=Ss(),Jt=tr();return M.os.getEntries(tt,X).next(Zt=>{Ot=Zt,Ot.forEach((In,Hn)=>{Hn.isValidDocument()||(Jt=Jt.add(In))})}).next(()=>M.localDocuments.getOverlayedDocuments(tt,Ot)).next(Zt=>{fe=Zt;const In=[];for(const Hn of D){const En=Do(Hn,fe.get(Hn.key).overlayedDocument);null!=En&&In.push(new tl(Hn.key,En,Zh(En.value.mapValue),$i.exists(!0)))}return M.mutationQueue.addMutationBatch(tt,j,In,D)}).next(Zt=>{Le=Zt;const In=Zt.applyToLocalDocumentSet(fe,Jt);return M.documentOverlayCache.saveOverlays(tt,Zt.batchId,In)})}).then(()=>({batchId:Le.batchId,changes:Yl(fe)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(l.batchId),function(h,D,M){let j=h.Fa[h.currentUser.toKey()];j||(j=new ni(un)),j=j.insert(D,M),h.Fa[h.currentUser.toKey()]=j}(s,l.batchId,n),yield Fl(s,l.changes),yield uh(s.remoteStore)}catch(l){const c=uc(l,"Failed to persist write");n.reject(c)}}),gu.apply(this,arguments)}function Fg(i,e){return Vg.apply(this,arguments)}function Vg(){return Vg=(0,Ie.Z)(function*(i,e){const n=Lt(i);try{const s=yield function wf(i,e){const n=Lt(i),s=e.snapshotVersion;let l=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const h=n.os.newChangeBuffer({trackRemovals:!0});l=n.ns;const D=[];e.targetChanges.forEach((X,fe)=>{const Le=l.get(fe);if(!Le)return;D.push(n.Qr.removeMatchingKeys(c,X.removedDocuments,fe).next(()=>n.Qr.addMatchingKeys(c,X.addedDocuments,fe)));let tt=Le.withSequenceNumber(c.currentSequenceNumber);var Jt,Zt,In;null!==e.targetMismatches.get(fe)?tt=tt.withResumeToken(ci.EMPTY_BYTE_STRING,hn.min()).withLastLimboFreeSnapshotVersion(hn.min()):X.resumeToken.approximateByteSize()>0&&(tt=tt.withResumeToken(X.resumeToken,s)),l=l.insert(fe,tt),Zt=tt,In=X,(0===(Jt=Le).resumeToken.approximateByteSize()||Zt.snapshotVersion.toMicroseconds()-Jt.snapshotVersion.toMicroseconds()>=3e8||In.addedDocuments.size+In.modifiedDocuments.size+In.removedDocuments.size>0)&&D.push(n.Qr.updateTargetData(c,tt))});let M=Ss(),j=tr();if(e.documentUpdates.forEach(X=>{e.resolvedLimboDocuments.has(X)&&D.push(n.persistence.referenceDelegate.updateLimboDocument(c,X))}),D.push(K_(c,h,e.documentUpdates).next(X=>{M=X.cs,j=X.ls})),!s.isEqual(hn.min())){const X=n.Qr.getLastRemoteSnapshotVersion(c).next(fe=>n.Qr.setTargetsMetadata(c,c.currentSequenceNumber,s));D.push(X)}return ue.waitFor(D).next(()=>h.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,M,j)).next(()=>M)}).then(c=>(n.ns=l,c))}(n.localStore,e);e.targetChanges.forEach((l,c)=>{const h=n.Ca.get(c);h&&(Ht(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?h.pa=!0:l.modifiedDocuments.size>0?Ht(h.pa):l.removedDocuments.size>0&&(Ht(h.pa),h.pa=!1))}),yield Fl(n,s,e)}catch(s){yield te(s)}}),Vg.apply(this,arguments)}function gh(i,e,n){const s=Lt(i);if(s.isPrimaryClient&&0===n||!s.isPrimaryClient&&1===n){const l=[];s.wa.forEach((c,h)=>{const D=h.view.G_(e);D.snapshot&&l.push(D.snapshot)}),function(h,D){const M=Lt(h);M.onlineState=D;let j=!1;M.queries.forEach((X,fe)=>{for(const Le of fe.Q_)Le.G_(D)&&(j=!0)}),j&&Uf(M)}(s.eventManager,e),l.length&&s.ya.u_(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function Xc(i,e,n){return mh.apply(this,arguments)}function mh(){return mh=(0,Ie.Z)(function*(i,e,n){const s=Lt(i);s.sharedClientState.updateQueryState(e,"rejected",n);const l=s.Ca.get(e),c=l&&l.key;if(c){let h=new ni(Ft.comparator);h=h.insert(c,mr.newNoDocument(c,hn.min()));const D=tr().add(c),M=new Xl(hn.min(),new Map,new ni(un),h,D);yield Fg(s,M),s.Da=s.Da.remove(c),s.Ca.delete(e),jg(s)}else yield La(s.localStore,e,!1).then(()=>ed(s,e,n)).catch(te)}),mh.apply(this,arguments)}function _h(i,e){return zf.apply(this,arguments)}function zf(){return zf=(0,Ie.Z)(function*(i,e){const n=Lt(i),s=e.batch.batchId;try{const l=yield function WE(i,e){const n=Lt(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=e.batch.keys(),c=n.os.newChangeBuffer({trackRemovals:!0});return function(D,M,j,X){const fe=j.batch,Le=fe.keys();let tt=ue.resolve();return Le.forEach(Ot=>{tt=tt.next(()=>X.getEntry(M,Ot)).next(Jt=>{const Zt=j.docVersions.get(Ot);Ht(null!==Zt),Jt.version.compareTo(Zt)<0&&(fe.applyToRemoteDocument(Jt,j),Jt.isValidDocument()&&(Jt.setReadTime(j.commitVersion),X.addEntry(Jt)))})}),tt.next(()=>D.mutationQueue.removeMutationBatch(M,fe))}(n,s,e,c).next(()=>c.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,l,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(D){let M=tr();for(let j=0;j<D.mutationResults.length;++j)D.mutationResults[j].transformResults.length>0&&(M=M.add(D.batch.mutations[j].key));return M}(e))).next(()=>n.localDocuments.getDocuments(s,l))})}(n.localStore,e);Hg(n,s,null),vh(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),yield Fl(n,l)}catch(l){yield te(l)}}),zf.apply(this,arguments)}function Ug(i,e,n){return yh.apply(this,arguments)}function yh(){return yh=(0,Ie.Z)(function*(i,e,n){const s=Lt(i);try{const l=yield function(h,D){const M=Lt(h);return M.persistence.runTransaction("Reject batch","readwrite-primary",j=>{let X;return M.mutationQueue.lookupMutationBatch(j,D).next(fe=>(Ht(null!==fe),X=fe.keys(),M.mutationQueue.removeMutationBatch(j,fe))).next(()=>M.mutationQueue.performConsistencyCheck(j)).next(()=>M.documentOverlayCache.removeOverlaysForBatchId(j,X,D)).next(()=>M.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(j,X)).next(()=>M.localDocuments.getDocuments(j,X))})}(s.localStore,e);Hg(s,e,n),vh(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),yield Fl(s,l)}catch(l){yield te(l)}}),yh.apply(this,arguments)}function Wf(){return Wf=(0,Ie.Z)(function*(i,e){const n=Lt(i);du(n.remoteStore)||ot("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(h){const D=Lt(h);return D.persistence.runTransaction("Get highest unacknowledged batch id","readonly",M=>D.mutationQueue.getHighestUnacknowledgedBatchId(M))}(n.localStore);if(-1===s)return void e.resolve();const l=n.Ma.get(s)||[];l.push(e),n.Ma.set(s,l)}catch(s){const l=uc(s,"Initialization of waitForPendingWrites() operation failed");e.reject(l)}}),Wf.apply(this,arguments)}function vh(i,e){(i.Ma.get(e)||[]).forEach(n=>{n.resolve()}),i.Ma.delete(e)}function Hg(i,e,n){const s=Lt(i);let l=s.Fa[s.currentUser.toKey()];if(l){const c=l.get(e);c&&(n?c.reject(n):c.resolve(),l=l.remove(e)),s.Fa[s.currentUser.toKey()]=l}}function ed(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Sa.get(e))i.wa.delete(s),n&&i.ya.La(s,n);i.Sa.delete(e),i.isPrimaryClient&&i.va.Vr(e).forEach(s=>{i.va.containsKey(s)||my(i,s)})}function my(i,e){i.ba.delete(e.path.canonicalString());const n=i.Da.get(e);null!==n&&(cu(i.remoteStore,n),i.Da=i.Da.remove(e),i.Ca.delete(n),jg(i))}function qf(i,e,n){for(const s of n)s instanceof cy?(i.va.addReference(s.key,e),dI(i,s)):s instanceof dy?(ot("SyncEngine","Document no longer in limbo: "+s.key),i.va.removeReference(s.key,e),i.va.containsKey(s.key)||my(i,s.key)):Bt()}function dI(i,e){const n=e.key,s=n.path.canonicalString();i.Da.get(n)||i.ba.has(s)||(ot("SyncEngine","New document in limbo: "+n),i.ba.add(s),jg(i))}function jg(i){for(;i.ba.size>0&&i.Da.size<i.maxConcurrentLimboResolutions;){const e=i.ba.values().next().value;i.ba.delete(e);const n=new Ft(rn.fromString(e)),s=i.xa.next();i.Ca.set(s,new cI(n)),i.Da=i.Da.insert(n,s),ah(i.remoteStore,new ru(w(Ql(n.path)),s,"TargetPurposeLimboResolution",To._e))}}function Fl(i,e,n){return $g.apply(this,arguments)}function $g(){return $g=(0,Ie.Z)(function*(i,e,n){const s=Lt(i),l=[],c=[],h=[];var D;s.wa.isEmpty()||(s.wa.forEach((D,M)=>{h.push(s.Na(M,e,n).then(j=>{if((j||n)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(M.targetId,j?.fromCache?"not-current":"current"),j){l.push(j);const X=_g.Ki(M.targetId,j);c.push(X)}}))}),yield Promise.all(h),s.ya.u_(l),yield(D=(0,Ie.Z)(function*(j,X){const fe=Lt(j);try{yield fe.persistence.runTransaction("notifyLocalViewChanges","readwrite",Le=>ue.forEach(X,tt=>ue.forEach(tt.qi,Ot=>fe.persistence.referenceDelegate.addReference(Le,tt.targetId,Ot)).next(()=>ue.forEach(tt.Qi,Ot=>fe.persistence.referenceDelegate.removeReference(Le,tt.targetId,Ot)))))}catch(Le){if(!Un(Le))throw Le;ot("LocalStore","Failed to update sequence numbers: "+Le)}for(const Le of X){const tt=Le.targetId;if(!Le.fromCache){const Ot=fe.ns.get(tt),Zt=Ot.withLastLimboFreeSnapshotVersion(Ot.snapshotVersion);fe.ns=fe.ns.insert(tt,Zt)}}}),function M(j,X){return D.apply(this,arguments)})(s.localStore,c))}),$g.apply(this,arguments)}function _y(i,e){return Kf.apply(this,arguments)}function Kf(){return Kf=(0,Ie.Z)(function*(i,e){const n=Lt(i);if(!n.currentUser.isEqual(e)){ot("SyncEngine","User change. New user:",e.toKey());const s=yield q_(n.localStore,e);n.currentUser=e,(c=n).Ma.forEach(D=>{D.forEach(M=>{M.reject(new mt(et.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),c.Ma.clear(),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield Fl(n,s.us)}var c}),Kf.apply(this,arguments)}function hI(i,e){const n=Lt(i),s=n.Ca.get(e);if(s&&s.pa)return tr().add(s.key);{let l=tr();const c=n.Sa.get(e);if(!c)return l;for(const h of c){const D=n.wa.get(h);l=l.unionWith(D.view.Ia)}return l}}function fI(i,e){return Vo.apply(this,arguments)}function Vo(){return Vo=(0,Ie.Z)(function*(i,e){const n=Lt(i),s=yield zc(n.localStore,e.query,!0),l=e.view.fa(s);return n.isPrimaryClient&&qf(n,e.targetId,l.Va),l}),Vo.apply(this,arguments)}function pI(i,e){return Gg.apply(this,arguments)}function Gg(){return Gg=(0,Ie.Z)(function*(i,e){const n=Lt(i);return Jd(n.localStore,e).then(s=>Fl(n,s))}),Gg.apply(this,arguments)}function JE(i,e,n,s){return Ih.apply(this,arguments)}function Ih(){return Ih=(0,Ie.Z)(function*(i,e,n,s){const l=Lt(i),c=yield function(D,M){const j=Lt(D),X=Lt(j.mutationQueue);return j.persistence.runTransaction("Lookup mutation documents","readonly",fe=>X.vn(fe,M).next(Le=>Le?j.localDocuments.getDocuments(fe,Le):ue.resolve(null)))}(l.localStore,e);var M;null!==c?("pending"===n?yield uh(l.remoteStore):"acknowledged"===n||"rejected"===n?(Hg(l,e,s||null),vh(l,e),M=e,Lt(Lt(l.localStore).mutationQueue).Mn(M)):Bt(),yield Fl(l,c)):ot("SyncEngine","Cannot apply mutation batch with id: "+e)}),Ih.apply(this,arguments)}function zg(){return zg=(0,Ie.Z)(function*(i,e){const n=Lt(i);if(Zf(n),Zg(n),!0===e&&!0!==n.Oa){const s=n.sharedClientState.getAllActiveQueryTargets(),l=yield vy(n,s.toArray());n.Oa=!0,yield Mg(n.remoteStore,!0);for(const c of l)ah(n.remoteStore,c)}else if(!1===e&&!1!==n.Oa){const s=[];let l=Promise.resolve();n.Sa.forEach((c,h)=>{n.sharedClientState.isLocalQueryTarget(h)?s.push(h):l=l.then(()=>(ed(n,h),La(n.localStore,h,!0))),cu(n.remoteStore,h)}),yield l,yield vy(n,s),function(h){const D=Lt(h);D.Ca.forEach((M,j)=>{cu(D.remoteStore,j)}),D.va.mr(),D.Ca=new Map,D.Da=new ni(Ft.comparator)}(n),n.Oa=!1,yield Mg(n.remoteStore,!1)}}),zg.apply(this,arguments)}function vy(i,e,n){return Wg.apply(this,arguments)}function Wg(){return Wg=(0,Ie.Z)(function*(i,e,n){const s=Lt(i),l=[],c=[];for(const h of e){let D;const M=s.Sa.get(h);if(M&&0!==M.length){D=yield uu(s.localStore,w(M[0]));for(const j of M){const X=s.wa.get(j),fe=yield fI(s,X);fe.snapshot&&c.push(fe.snapshot)}}else{const j=yield Wc(s.localStore,h);D=yield uu(s.localStore,j),yield jf(s,qg(j),h,!1,D.resumeToken)}l.push(D)}return s.ya.u_(c),l}),Wg.apply(this,arguments)}function qg(i){return ju(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function gI(i){return n=Lt(i).localStore,Lt(Lt(n).persistence).Bi();var n}function mI(i,e,n,s){return Eh.apply(this,arguments)}function Eh(){return Eh=(0,Ie.Z)(function*(i,e,n,s){const l=Lt(i);if(l.Oa)return void ot("SyncEngine","Ignoring unexpected query state notification.");const c=l.Sa.get(e);if(c&&c.length>0)switch(n){case"current":case"not-current":{const h=yield Jd(l.localStore,vr(c[0])),D=Xl.createSynthesizedRemoteEventForCurrentChange(e,"current"===n,ci.EMPTY_BYTE_STRING);yield Fl(l,h,D);break}case"rejected":yield La(l.localStore,e,!0),ed(l,e,s);break;default:Bt()}}),Eh.apply(this,arguments)}function _I(i,e,n){return Kg.apply(this,arguments)}function Kg(){return Kg=(0,Ie.Z)(function*(i,e,n){const s=Zf(i);if(s.Oa){for(const l of e){if(s.Sa.has(l)&&s.sharedClientState.isActiveQueryTarget(l)){ot("SyncEngine","Adding an already active target "+l);continue}const c=yield Wc(s.localStore,l),h=yield uu(s.localStore,c);yield jf(s,qg(c),h.targetId,!1,h.resumeToken),ah(s.remoteStore,h)}for(const l of n)s.Sa.has(l)&&(yield La(s.localStore,l,!1).then(()=>{cu(s.remoteStore,l),ed(s,l)}).catch(te))}}),Kg.apply(this,arguments)}function Zf(i){const e=Lt(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Fg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=hI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Xc.bind(null,e),e.ya.u_=lI.bind(null,e.eventManager),e.ya.La=ay.bind(null,e.eventManager),e}function Zg(i){const e=Lt(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_h.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ug.bind(null,e),e}class Qo{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,Ie.Z)(function*(){n.serializer=sh(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return W_(this.persistence,new Cf,e.initialUser,this.serializer)}createPersistence(e){return new lu(If.Hr,this.serializer)}createSharedClientState(e){return new Q_}terminate(){var e=this;return(0,Ie.Z)(function*(){var n,s;null===(n=e.gcScheduler)||void 0===n||n.stop(),null===(s=e.indexBackfillerScheduler)||void 0===s||s.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Yg extends Qo{constructor(e,n,s){super(),this.ka=e,this.cacheSizeBytes=n,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var n=()=>super.initialize,s=this;return(0,Ie.Z)(function*(){yield n().call(s,e),yield s.ka.initialize(s,e),yield Zg(s.ka.syncEngine),yield uh(s.ka.remoteStore),yield s.persistence.fi(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return W_(this.persistence,new Cf,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){return new Hc(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const s=new Ic(n,this.persistence);return new Ra(e.asyncQueue,s)}createPersistence(e){const n=Tf(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?so.withCacheSize(this.cacheSizeBytes):so.DEFAULT;return new mg(this.synchronizeTabs,n,e.clientId,s,e.asyncQueue,X_(),ih(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Q_}}class Jg extends Yg{constructor(e,n){super(e,n,!1),this.ka=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){var n=()=>super.initialize,s=this;return(0,Ie.Z)(function*(){yield n().call(s,e);const l=s.ka.syncEngine;s.sharedClientState instanceof Tg&&(s.sharedClientState.syncEngine={Zs:JE.bind(null,l),Xs:mI.bind(null,l),eo:_I.bind(null,l),Bi:gI.bind(null,l),Ys:pI.bind(null,l)},yield s.sharedClientState.start()),yield s.persistence.fi(function(){var c=(0,Ie.Z)(function*(h){yield function yy(i,e){return zg.apply(this,arguments)}(s.ka.syncEngine,h),s.gcScheduler&&(h&&!s.gcScheduler.started?s.gcScheduler.start():h||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(h&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():h||s.indexBackfillerScheduler.stop())});return function(h){return c.apply(this,arguments)}}())})()}createSharedClientState(e){const n=X_();if(!Tg.D(n))throw new mt(et.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=Tf(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Tg(n,e.asyncQueue,s,e.clientId,e.initialUser)}}class td{initialize(e,n){var s=this;return(0,Ie.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(n),s.remoteStore=s.createRemoteStore(n),s.eventManager=s.createEventManager(n),s.syncEngine=s.createSyncEngine(n,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=l=>gh(s.syncEngine,l,1),s.remoteStore.remoteSyncer.handleCredentialChange=_y.bind(null,s.syncEngine),yield Mg(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new oy}createDatastore(e){const n=sh(e.databaseInfo.databaseId),s=new Pf(e.databaseInfo);return new tI(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return s=this.localStore,l=this.datastore,c=e.asyncQueue,h=n=>gh(this.syncEngine,n,0),D=Y_.D()?new Y_:new qE,new ey(s,l,c,h,D);var s,l,c,h,D}createSyncEngine(e,n){return function(l,c,h,D,M,j,X){const fe=new QE(l,c,h,D,M,j);return X&&(fe.Oa=!0),fe}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){var e=this;return(0,Ie.Z)(function*(){var n,s;yield(s=(0,Ie.Z)(function*(c){const h=Lt(c);ot("RemoteStore","RemoteStore shutting down."),h.v_.add(5),yield Zc(h),h.M_.shutdown(),h.x_.set("Unknown")}),function l(c){return s.apply(this,arguments)})(e.remoteStore),null===(n=e.datastore)||void 0===n||n.terminate()})()}}function Xg(i,e=10240){let n=0;return{read:()=>(0,Ie.Z)(function*(){if(n<i.byteLength){const s={value:i.slice(n,n+e),done:!1};return n+=e,s}return{done:!0}})(),cancel:()=>(0,Ie.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Th{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.qa(this.observer.next,e)}error(e){this.observer.error?this.qa(this.observer.error,e):Fn("Uncaught Error in snapshot listener:",e.toString())}Qa(){this.muted=!0}qa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Qf{constructor(e,n){this.Ka=e,this.serializer=n,this.metadata=new Vr,this.buffer=new Uint8Array,this.$a=new TextDecoder("utf-8"),this.Ua().then(s=>{s&&s.ra()?this.metadata.resolve(s.na.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(s?.na)}`))},s=>this.metadata.reject(s))}close(){return this.Ka.cancel()}getMetadata(){var e=this;return(0,Ie.Z)(function*(){return e.metadata.promise})()}Ba(){var e=this;return(0,Ie.Z)(function*(){return yield e.getMetadata(),e.Ua()})()}Ua(){var e=this;return(0,Ie.Z)(function*(){const n=yield e.Wa();if(null===n)return null;const s=e.$a.decode(n),l=Number(s);isNaN(l)&&e.Ga(`length string (${s}) is not valid number`);const c=yield e.za(l);return new ly(JSON.parse(c),n.length+l)})()}ja(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Wa(){var e=this;return(0,Ie.Z)(function*(){for(;e.ja()<0&&!(yield e.Ha()););if(0===e.buffer.length)return null;const n=e.ja();n<0&&e.Ga("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,n);return e.buffer=e.buffer.slice(n),s})()}za(e){var n=this;return(0,Ie.Z)(function*(){for(;n.buffer.length<e;)(yield n.Ha())&&n.Ga("Reached the end of bundle when more is expected.");const s=n.$a.decode(n.buffer.slice(0,e));return n.buffer=n.buffer.slice(e),s})()}Ga(e){throw this.Ka.cancel(),new Error(`Invalid bundle format: ${e}`)}Ha(){var e=this;return(0,Ie.Z)(function*(){const n=yield e.Ka.read();if(!n.done){const s=new Uint8Array(e.buffer.length+n.value.length);s.set(e.buffer),s.set(n.value,e.buffer.length),e.buffer=s}return n.done})()}}class em{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var n=this;return(0,Ie.Z)(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw n.lastTransactionError=new mt(et.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),n.lastTransactionError;const s=yield(l=(0,Ie.Z)(function*(h,D){const M=Lt(h),j={documents:D.map(tt=>Vd(M.serializer,tt))},X=yield M.vo("BatchGetDocuments",M.serializer.databaseId,rn.emptyPath(),j,D.length),fe=new Map;X.forEach(tt=>{const Ot=function I_(i,e){return"found"in e?function(s,l){Ht(!!l.found);const c=Na(s,l.found.name),h=cs(l.found.updateTime),D=l.found.createTime?cs(l.found.createTime):hn.min(),M=new Xi({mapValue:{fields:l.found.fields}});return mr.newFoundDocument(c,h,D,M)}(i,e):"missing"in e?function(s,l){Ht(!!l.missing),Ht(!!l.readTime);const c=Na(s,l.missing),h=cs(l.readTime);return mr.newNoDocument(c,h)}(i,e):Bt()}(M.serializer,tt);fe.set(Ot.key.toString(),Ot)});const Le=[];return D.forEach(tt=>{const Ot=fe.get(tt.toString());Ht(!!Ot),Le.push(Ot)}),Le}),function c(h,D){return l.apply(this,arguments)})(n.datastore,e);var l;return s.forEach(l=>n.recordVersion(l)),s})()}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ku(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ie.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const n=e.readVersions;var s;e.mutations.forEach(s=>{n.delete(s.key.toString())}),n.forEach((s,l)=>{const c=Ft.fromPath(l);e.mutations.push(new Up(c,e.precondition(c)))}),yield(s=(0,Ie.Z)(function*(c,h){const D=Lt(c),M={writes:h.map(j=>tu(D.serializer,j))};yield D.So("Commit",D.serializer.databaseId,rn.emptyPath(),M)}),function l(c,h){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Bt();n=hn.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!n.isEqual(s))throw new mt(et.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(hn.min())?$i.exists(!1):$i.updateTime(n):$i.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(hn.min()))throw new mt(et.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return $i.updateTime(n)}return $i.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class XE{constructor(e,n,s,l,c){this.asyncQueue=e,this.datastore=n,this.options=s,this.updateFunction=l,this.deferred=c,this.Ja=s.maxAttempts,this.jo=new Rf(this.asyncQueue,"transaction_retry")}Ya(){this.Ja-=1,this.Za()}Za(){var e=this;this.jo.qo((0,Ie.Z)(function*(){const n=new em(e.datastore),s=e.Xa(n);s&&s.then(l=>{e.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{e.deferred.resolve(l)}).catch(c=>{e.eu(c)}))}).catch(l=>{e.eu(l)})}))}Xa(e){try{const n=this.updateFunction(e);return!qa(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}eu(e){this.Ja>0&&this.tu(e)?(this.Ja-=1,this.asyncQueue.enqueueAndForget(()=>(this.Za(),Promise.resolve()))):this.deferred.reject(e)}tu(e){if("FirebaseError"===e.name){const n=e.code;return"aborted"===n||"failed-precondition"===n||"already-exists"===n||!h_(n)}return!1}}class Iy{constructor(e,n,s,l){var c=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=l,this.user=Tt.UNAUTHENTICATED,this.clientId=ti.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var h=(0,Ie.Z)(function*(D){ot("FirestoreClient","Received user=",D.uid),yield c.authCredentialListener(D),c.user=D});return function(D){return h.apply(this,arguments)}}()),this.appCheckCredentials.start(s,h=>(ot("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new mt(et.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Vr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ie.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(s){const l=uc(s,"Failed to shutdown persistence");n.reject(l)}})),n.promise}}function Ch(i,e){return Yf.apply(this,arguments)}function Yf(){return Yf=(0,Ie.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),ot("FirestoreClient","Initializing OfflineComponentProvider");const n=i.configuration;yield e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(function(){var l=(0,Ie.Z)(function*(c){s.isEqual(c)||(yield q_(e.localStore,c),s=c)});return function(c){return l.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}),Yf.apply(this,arguments)}function Jf(i,e){return wh.apply(this,arguments)}function wh(){return wh=(0,Ie.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const n=yield tm(i);ot("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>Vf(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,l)=>Vf(e.remoteStore,l)),i._onlineComponents=e}),wh.apply(this,arguments)}function ll(i){return"FirebaseError"===i.name?i.code===et.FAILED_PRECONDITION||i.code===et.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code}function tm(i){return nm.apply(this,arguments)}function nm(){return nm=(0,Ie.Z)(function*(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ot("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Ch(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!ll(n))throw n;Qt("Error using user provided cache. Falling back to memory cache: "+n),yield Ch(i,new Qo)}}else ot("FirestoreClient","Using default OfflineComponentProvider"),yield Ch(i,new Qo);return i._offlineComponents}),nm.apply(this,arguments)}function nd(i){return rm.apply(this,arguments)}function rm(){return rm=(0,Ie.Z)(function*(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ot("FirestoreClient","Using user provided OnlineComponentProvider"),yield Jf(i,i._uninitializedComponentsProvider._online)):(ot("FirestoreClient","Using default OnlineComponentProvider"),yield Jf(i,new td))),i._onlineComponents}),rm.apply(this,arguments)}function im(i){return tm(i).then(e=>e.persistence)}function rd(i){return tm(i).then(e=>e.localStore)}function bh(i){return nd(i).then(e=>e.remoteStore)}function dc(i){return nd(i).then(e=>e.syncEngine)}function Vl(i){return Ey.apply(this,arguments)}function Ey(){return Ey=(0,Ie.Z)(function*(i){const e=yield nd(i),n=e.eventManager;return n.onListen=YE.bind(null,e.syncEngine),n.onUnlisten=py.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=hy.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=lr.bind(null,e.syncEngine),n}),Ey.apply(this,arguments)}function wy(i,e,n={}){const s=new Vr;return i.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return function(c,h,D,M,j){const X=new Th({next:Le=>{h.enqueueAndForget(()=>pu(c,fe));const tt=Le.docs.has(D);!tt&&Le.fromCache?j.reject(new mt(et.UNAVAILABLE,"Failed to get document because the client is offline.")):tt&&Le.fromCache&&M&&"server"===M.source?j.reject(new mt(et.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):j.resolve(Le)},error:Le=>j.reject(Le)}),fe=new Jc(Ql(D.path),X,{includeMetadataChanges:!0,ta:!0});return fu(c,fe)}(yield Vl(i),i.asyncQueue,e,n,s)})),s.promise}function om(i,e,n={}){const s=new Vr;return i.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return function(c,h,D,M,j){const X=new Th({next:Le=>{h.enqueueAndForget(()=>pu(c,fe)),Le.fromCache&&"server"===M.source?j.reject(new mt(et.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):j.resolve(Le)},error:Le=>j.reject(Le)}),fe=new Jc(D,X,{includeMetadataChanges:!0,ta:!0});return fu(c,fe)}(yield Vl(i),i.asyncQueue,e,n,s)})),s.promise}function Sy(i){const e={};return void 0!==i.timeoutSeconds&&(e.timeoutSeconds=i.timeoutSeconds),e}const id=new Map;function am(i,e,n){if(!n)throw new mt(et.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Py(i,e,n,s){if(!0===e&&!0===s)throw new mt(et.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function Ry(i){if(!Ft.isDocumentKey(i))throw new mt(et.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function My(i){if(Ft.isDocumentKey(i))throw new mt(et.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Xf(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(s=i).constructor?s.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var s;return"function"==typeof i?"a function":Bt()}function Sr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new mt(et.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Xf(i);throw new mt(et.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function xy(i,e){if(e<=0)throw new mt(et.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class Oy{constructor(e){var n,s;if(void 0===e.host){if(void 0!==e.ssl)throw new mt(et.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new mt(et.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Py("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Sy(null!==(s=e.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(c){if(void 0!==c.timeoutSeconds){if(isNaN(c.timeoutSeconds))throw new mt(et.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new mt(et.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new mt(et.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sd{constructor(e,n,s,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Oy({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new mt(et.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new mt(et.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Oy(e),void 0!==e.credentials&&(this._authCredentials=function(s){if(!s)return new Pa;switch(s.type){case"firstParty":return new fr(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new mt(et.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=id.get(n);s&&(ot("ComponentProvider","Removing Datastore"),id.delete(n),s.terminate())}(this),Promise.resolve()}}class oo{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new oo(this.firestore,e,this._query)}}class _i{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ul(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _i(this.firestore,e,this._key)}}class ul extends oo{constructor(e,n,s){super(e,n,Ql(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _i(this.firestore,null,new Ft(e))}withConverter(e){return new ul(this.firestore,e,this._path)}}function Ny(i,e,...n){if(i=(0,L.m9)(i),am("collection","path",e),i instanceof sd){const s=rn.fromString(e,...n);return My(s),new ul(i,null,s)}{if(!(i instanceof _i||i instanceof ul))throw new mt(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(rn.fromString(e,...n));return My(s),new ul(i.firestore,null,s)}}function tp(i,e,...n){if(i=(0,L.m9)(i),1===arguments.length&&(e=ti.newId()),am("doc","path",e),i instanceof sd){const s=rn.fromString(e,...n);return Ry(s),new _i(i,null,new Ft(s))}{if(!(i instanceof _i||i instanceof ul))throw new mt(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(rn.fromString(e,...n));return Ry(s),new _i(i.firestore,i instanceof ul?i.converter:null,new Ft(s))}}function ky(i,e){return i=(0,L.m9)(i),e=(0,L.m9)(e),(i instanceof _i||i instanceof ul)&&(e instanceof _i||e instanceof ul)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function lm(i,e){return i=(0,L.m9)(i),e=(0,L.m9)(e),i instanceof oo&&e instanceof oo&&i.firestore===e.firestore&&at(i._query,e._query)&&i.converter===e.converter}class wI{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new Rf(this,"async_queue_retry"),this.cu=()=>{const n=ih();n&&ot("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=ih();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;const n=ih();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise(()=>{});const n=new Vr;return this.hu(()=>this.iu&&this.au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ru.push(e),this.Pu()))}Pu(){var e=this;return(0,Ie.Z)(function*(){if(0!==e.ru.length){try{yield e.ru[0](),e.ru.shift(),e.jo.reset()}catch(n){if(!Un(n))throw n;ot("AsyncQueue","Operation failed with retryable error: "+n)}e.ru.length>0&&e.jo.qo(()=>e.Pu())}})()}hu(e){const n=this.nu.then(()=>(this._u=!0,e().catch(s=>{throw this.ou=s,this._u=!1,Fn("INTERNAL UNHANDLED ERROR: ",function(h){let D=h.message||"";return h.stack&&(D=h.stack.includes(h.message)?h.stack:h.message+"\n"+h.stack),D}(s)),s}).then(s=>(this._u=!1,s))));return this.nu=n,n}enqueueAfterDelay(e,n,s){this.lu(),this.uu.indexOf(e)>-1&&(n=0);const l=xg.createAndSchedule(this,e,n,s,c=>this.Iu(c));return this.su.push(l),l}lu(){this.ou&&Bt()}verifyOperationInProgress(){}Tu(){var e=this;return(0,Ie.Z)(function*(){let n;do{n=e.nu,yield n}while(n!==e.nu)})()}Eu(e){for(const n of this.su)if(n.timerId===e)return!0;return!1}du(e){return this.Tu().then(()=>{this.su.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.su)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.Tu()})}Au(e){this.uu.push(e)}Iu(e){const n=this.su.indexOf(e);this.su.splice(n,1)}}function np(i){return function(n,s){if("object"!=typeof n||null===n)return!1;const l=n;for(const c of["next","error","complete"])if(c in l&&"function"==typeof l[c])return!0;return!1}(i)}class Ly{constructor(){this._progressObserver={},this._taskCompletionResolver=new Vr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,s){this._progressObserver={next:e,error:n,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Vi extends sd{constructor(e,n,s,l){super(e,n,s,l),this.type="firestore",this._queue=new wI,this._persistenceKey=l?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Ah(this),this._firestoreClient.terminate()}}function _s(i){return i._firestoreClient||Ah(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Ah(i){var e,n,s;const l=i._freezeSettings(),c=(M=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new Cd(i._databaseId,M,i._persistenceKey,(X=l).host,X.ssl,X.experimentalForceLongPolling,X.experimentalAutoDetectLongPolling,Sy(X.experimentalLongPollingOptions),X.useFetchStreams));var M,X;i._firestoreClient=new Iy(i._authCredentials,i._appCheckCredentials,i._queue,c),null!==(n=l.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(s=l.localCache)&&void 0!==s&&s._onlineComponentProvider&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:l.localCache.kind,_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider})}function rp(i,e,n){const s=new Vr;return i.asyncQueue.enqueue((0,Ie.Z)(function*(){try{yield Ch(i,n),yield Jf(i,e),s.resolve()}catch(l){const c=l;if(!ll(c))throw c;Qt("Error enabling indexeddb cache. Falling back to memory cache: "+c),s.reject(c)}})).then(()=>s.promise)}function sp(i){if(i._initialized||i._terminated)throw new mt(et.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Uo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Uo(ci.fromBase64String(e))}catch(n){throw new mt(et.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Uo(ci.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Yo{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new mt(et.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ea{constructor(e){this._methodName=e}}class Ul{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new mt(et.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new mt(et.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return un(this._lat,e._lat)||un(this._long,e._long)}}const ld=/^__.*__$/;class ud{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return null!==this.fieldMask?new tl(e,this.data,this.fieldMask,n,this.fieldTransforms):new qu(e,this.data,n,this.fieldTransforms)}}class um{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new tl(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function cm(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Bt()}}class Rh{constructor(e,n,s,l,c,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=l,void 0===c&&this.Ru(),this.fieldTransforms=c||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new Rh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var n;const s=null===(n=this.path)||void 0===n?void 0:n.child(e),l=this.mu({path:s,gu:!1});return l.pu(e),l}yu(e){var n;const s=null===(n=this.path)||void 0===n?void 0:n.child(e),l=this.mu({path:s,gu:!1});return l.Ru(),l}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return _u(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(0===e.length)throw this.Su("Document fields must not be empty");if(cm(this.Vu)&&ld.test(e))throw this.Su('Document fields cannot begin and end with "__"')}}class Fy{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||sh(e)}Cu(e,n,s,l=!1){return new Rh({Vu:e,methodName:n,Du:s,path:Qn.emptyPath(),gu:!1,bu:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function mu(i){const e=i._freezeSettings(),n=sh(i._databaseId);return new Fy(i._databaseId,!!e.ignoreUndefinedProperties,n)}function Mh(i,e,n,s,l,c={}){const h=i.Cu(c.merge||c.mergeFields?2:0,e,n,l);pm("Data must be an object, but it was:",h,s);const D=Hy(s,h);let M,j;if(c.merge)M=new Ns(h.fieldMask),j=h.fieldTransforms;else if(c.mergeFields){const X=[];for(const fe of c.mergeFields){const Le=Oh(e,fe,n);if(!h.contains(Le))throw new mt(et.INVALID_ARGUMENT,`Field '${Le}' is specified in your field mask but missing from your input data.`);ap(X,Le)||X.push(Le)}M=new Ns(X),j=h.fieldTransforms.filter(fe=>M.covers(fe.field))}else M=null,j=h.fieldTransforms;return new ud(new Xi(D),M,j)}class cd extends Ea{_toFieldTransform(e){if(2!==e.Vu)throw e.Su(1===e.Vu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof cd}}function dm(i,e,n){return new Rh({Vu:3,Du:e.settings.Du,methodName:i._methodName,gu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class op extends Ea{_toFieldTransform(e){return new Md(e.path,new Rl)}isEqual(e){return e instanceof op}}class xh extends Ea{constructor(e,n){super(e),this.vu=n}_toFieldTransform(e){const n=dm(this,e,!0),s=this.vu.map(c=>dd(c,n)),l=new el(s);return new Md(e.path,l)}isEqual(e){return e instanceof xh&&(0,L.vZ)(this.vu,e.vu)}}class hm extends Ea{constructor(e,n){super(e),this.vu=n}_toFieldTransform(e){const n=dm(this,e,!0),s=this.vu.map(c=>dd(c,n)),l=new Gu(s);return new Md(e.path,l)}isEqual(e){return e instanceof hm&&(0,L.vZ)(this.vu,e.vu)}}class Vy extends Ea{constructor(e,n){super(e),this.Fu=n}_toFieldTransform(e){const n=new zu(e.serializer,Fp(e.serializer,this.Fu));return new Md(e.path,n)}isEqual(e){return e instanceof Vy&&this.Fu===e.Fu}}function Uy(i,e,n,s){const l=i.Cu(1,e,n);pm("Data must be an object, but it was:",l,s);const c=[],h=Xi.empty();qo(s,(M,j)=>{const X=hd(e,M,n);j=(0,L.m9)(j);const fe=l.yu(X);if(j instanceof cd)c.push(X);else{const Le=dd(j,fe);null!=Le&&(c.push(X),h.set(X,Le))}});const D=new Ns(c);return new um(h,D,l.fieldTransforms)}function fm(i,e,n,s,l,c){const h=i.Cu(1,e,n),D=[Oh(e,s,n)],M=[l];if(c.length%2!=0)throw new mt(et.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Le=0;Le<c.length;Le+=2)D.push(Oh(e,c[Le])),M.push(c[Le+1]);const j=[],X=Xi.empty();for(let Le=D.length-1;Le>=0;--Le)if(!ap(j,D[Le])){const tt=D[Le];let Ot=M[Le];Ot=(0,L.m9)(Ot);const Jt=h.yu(tt);if(Ot instanceof cd)j.push(tt);else{const Zt=dd(Ot,Jt);null!=Zt&&(j.push(tt),X.set(tt,Zt))}}const fe=new Ns(j);return new um(X,fe,h.fieldTransforms)}function By(i,e,n,s=!1){return dd(n,i.Cu(s?4:3,e))}function dd(i,e){if(MI(i=(0,L.m9)(i)))return pm("Unsupported field value:",e,i),Hy(i,e);if(i instanceof Ea)return function(s,l){if(!cm(l.Vu))throw l.Su(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Su(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.gu&&4!==e.Vu)throw e.Su("Nested arrays are not supported");return function(s,l){const c=[];let h=0;for(const D of s){let M=dd(D,l.wu(h));null==M&&(M={nullValue:"NULL_VALUE"}),c.push(M),h++}return{arrayValue:{values:c}}}(i,e)}return function(s,l){if(null===(s=(0,L.m9)(s)))return{nullValue:"NULL_VALUE"};if("number"==typeof s)return Fp(l.serializer,s);if("boolean"==typeof s)return{booleanValue:s};if("string"==typeof s)return{stringValue:s};if(s instanceof Date){const c=Vn.fromDate(s);return{timestampValue:Yu(l.serializer,c)}}if(s instanceof Vn){const c=new Vn(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Yu(l.serializer,c)}}if(s instanceof Ul)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Uo)return{bytesValue:eu(l.serializer,s._byteString)};if(s instanceof _i){const c=l.databaseId,h=s.firestore._databaseId;if(!h.isEqual(c))throw l.Su(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Kp(s.firestore._databaseId||l.databaseId,s._key.path)}}throw l.Su(`Unsupported field value: ${Xf(s)}`)}(i,e)}function Hy(i,e){const n={};return ku(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):qo(i,(s,l)=>{const c=dd(l,e.fu(s));null!=c&&(n[s]=c)}),{mapValue:{fields:n}}}function MI(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Vn||i instanceof Ul||i instanceof Uo||i instanceof _i||i instanceof Ea)}function pm(i,e,n){if(!MI(n)||"object"!=typeof(l=n)||null===l||Object.getPrototypeOf(l)!==Object.prototype&&null!==Object.getPrototypeOf(l)){const s=Xf(n);throw e.Su("an object"===s?i+" a custom object":i+" "+s)}var l}function Oh(i,e,n){if((e=(0,L.m9)(e))instanceof Yo)return e._internalPath;if("string"==typeof e)return hd(i,e);throw _u("Field path arguments must be of type string or ",i,!1,void 0,n)}const xI=new RegExp("[~\\*/\\[\\]]");function hd(i,e,n){if(e.search(xI)>=0)throw _u(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Yo(...e.split("."))._internalPath}catch{throw _u(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function _u(i,e,n,s,l){const c=s&&!s.isEmpty(),h=void 0!==l;let D=`Function ${e}() called with invalid data`;n&&(D+=" (via `toFirestore()`)"),D+=". ";let M="";return(c||h)&&(M+=" (found",c&&(M+=` in field ${s}`),h&&(M+=` in document ${l}`),M+=")"),new mt(et.INVALID_ARGUMENT,D+i+M)}function ap(i,e){return i.some(n=>n.isEqual(e))}class yu{constructor(e,n,s,l,c){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new _i(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new jy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(vu("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class jy extends yu{data(){return super.data()}}function vu(i,e){return"string"==typeof e?hd(i,e):e instanceof Yo?e._internalPath:e._delegate._internalPath}function gm(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new mt(et.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class mm{}class Bl extends mm{}function Iu(i,e,...n){let s=[];e instanceof mm&&s.push(e),s=s.concat(n),function(c){const h=c.filter(M=>M instanceof fd).length,D=c.filter(M=>M instanceof Nh).length;if(h>1||h>0&&D>0)throw new mt(et.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const l of s)i=l._apply(i);return i}class Nh extends Bl{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Nh(e,n,s)}_apply(e){const n=this._parse(e);return Zy(e._query,n),new oo(e.firestore,e.converter,oe(e._query,n))}_parse(e){const n=mu(e.firestore);return function(c,h,D,M,j,X,fe){let Le;if(j.isKeyField()){if("array-contains"===X||"array-contains-any"===X)throw new mt(et.INVALID_ARGUMENT,`Invalid Query. You can't perform '${X}' queries on documentId().`);if("in"===X||"not-in"===X){Ky(fe,X);const tt=[];for(const Ot of fe)tt.push(qy(M,c,Ot));Le={arrayValue:{values:tt}}}else Le=qy(M,c,fe)}else"in"!==X&&"not-in"!==X&&"array-contains-any"!==X||Ky(fe,X),Le=By(D,"where",fe,"in"===X||"not-in"===X);return Cr.create(j,X,Le)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}class fd extends mm{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new fd(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===n.length?n[0]:ii.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(l,c){let h=l;const D=c.getFlattenedFilters();for(const M of D)Zy(h,M),h=oe(h,M)}(e._query,n),new oo(e.firestore,e.converter,oe(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class pd extends Bl{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new pd(e,n)}_apply(e){const n=function(l,c,h){if(null!==l.startAt)throw new mt(et.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==l.endAt)throw new mt(et.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Oa(c,h)}(e._query,this._field,this._direction);return new oo(e.firestore,e.converter,function(l,c){const h=l.explicitOrderBy.concat([c]);return new bo(l.path,l.collectionGroup,h,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(e._query,n))}}class lp extends Bl{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new lp(e,n,s)}_apply(e){return new oo(e.firestore,e.converter,Ue(e._query,this._limit,this._limitType))}}class up extends Bl{constructor(e,n,s){super(),this.type=e,this._docOrFields=n,this._inclusive=s}static _create(e,n,s){return new up(e,n,s)}_apply(e){const n=vm(e,this.type,this._docOrFields,this._inclusive);return new oo(e.firestore,e.converter,(c=n,new bo((l=e._query).path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,c,l.endAt)));var l,c}}class cp extends Bl{constructor(e,n,s){super(),this.type=e,this._docOrFields=n,this._inclusive=s}static _create(e,n,s){return new cp(e,n,s)}_apply(e){const n=vm(e,this.type,this._docOrFields,this._inclusive);return new oo(e.firestore,e.converter,(c=n,new bo((l=e._query).path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,c)));var l,c}}function vm(i,e,n,s){if(n[0]=(0,L.m9)(n[0]),n[0]instanceof yu)return function(c,h,D,M,j){if(!M)throw new mt(et.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${D}().`);const X=[];for(const fe of g(c))if(fe.field.isKeyField())X.push(xa(h,M.key));else{const Le=M.data.field(fe.field);if(Wl(Le))throw new mt(et.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+fe.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Le){const tt=fe.field.canonicalString();throw new mt(et.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${tt}' (used as the orderBy) does not exist.`)}X.push(Le)}return new Fo(X,j)}(i._query,i.firestore._databaseId,e,n[0]._document,s);{const l=mu(i.firestore);return function(h,D,M,j,X,fe){const Le=h.explicitOrderBy;if(X.length>Le.length)throw new mt(et.INVALID_ARGUMENT,`Too many arguments provided to ${j}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const tt=[];for(let Ot=0;Ot<X.length;Ot++){const Jt=X[Ot];if(Le[Ot].field.isKeyField()){if("string"!=typeof Jt)throw new mt(et.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${j}(), but got a ${typeof Jt}`);if(!f(h)&&-1!==Jt.indexOf("/"))throw new mt(et.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${j}() must be a plain document ID, but '${Jt}' contains a slash.`);const Zt=h.path.child(rn.fromString(Jt));if(!Ft.isDocumentKey(Zt))throw new mt(et.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${j}() must result in a valid document path, but '${Zt}' is not because it contains an odd number of segments.`);const In=new Ft(Zt);tt.push(xa(D,In))}else{const Zt=By(M,j,Jt);tt.push(Zt)}}return new Fo(tt,fe)}(i._query,i.firestore._databaseId,l,e,n,s)}}function qy(i,e,n){if("string"==typeof(n=(0,L.m9)(n))){if(""===n)throw new mt(et.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!f(e)&&-1!==n.indexOf("/"))throw new mt(et.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(rn.fromString(n));if(!Ft.isDocumentKey(s))throw new mt(et.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return xa(i,new Ft(s))}if(n instanceof _i)return xa(i,n._key);throw new mt(et.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xf(n)}.`)}function Ky(i,e){if(!Array.isArray(i)||0===i.length)throw new mt(et.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Zy(i,e){const n=function(l,c){for(const h of l)for(const D of h.getFlattenedFilters())if(c.indexOf(D.op)>=0)return D.op;return null}(i.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new mt(et.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class kh{convertValue(e,n="none"){switch(na(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ii(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Lo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Bt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return qo(e,(l,c)=>{s[l]=this.convertValue(c,n)}),s}convertGeoPoint(e){return new Ul(Ii(e.latitude),Ii(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=ls(e);return null==s?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(wl(e));default:return null}}convertTimestamp(e){const n=Ma(e);return new Vn(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=rn.fromString(e);Ht(w_(s));const l=new Ko(s.get(1),s.get(3)),c=new Ft(s.popFirst(5));return l.isEqual(n)||Fn(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}function gd(i,e,n){let s;return s=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,s}class LI extends kh{constructor(e){super(),this.firestore=e}convertBytes(e){return new Uo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new _i(this.firestore,null,n)}}class hc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Hl extends yu{constructor(e,n,s,l,c,h){super(e,n,s,l,h),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Eu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(vu("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Eu extends Hl{data(e={}){return super.data(e)}}class Va{constructor(e,n,s,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new hc(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Eu(this._firestore,this._userDataWriter,s.key,s,new hc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new mt(et.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(l,c){if(l._snapshot.oldDocs.isEmpty()){let h=0;return l._snapshot.docChanges.map(D=>({type:"added",doc:new Eu(l._firestore,l._userDataWriter,D.doc.key,D.doc,new hc(l._snapshot.mutatedKeys.has(D.doc.key),l._snapshot.fromCache),l.query.converter),oldIndex:-1,newIndex:h++}))}{let h=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(D=>c||3!==D.type).map(D=>{const M=new Eu(l._firestore,l._userDataWriter,D.doc.key,D.doc,new hc(l._snapshot.mutatedKeys.has(D.doc.key),l._snapshot.fromCache),l.query.converter);let j=-1,X=-1;return 0!==D.type&&(j=h.indexOf(D.doc.key),h=h.delete(D.doc.key)),1!==D.type&&(h=h.add(D.doc),X=h.indexOf(D.doc.key)),{type:wm(D.type),doc:M,oldIndex:j,newIndex:X}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function wm(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Bt()}}function bm(i,e){return i instanceof Hl&&e instanceof Hl?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof Va&&e instanceof Va&&i._firestore===e._firestore&&lm(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}class Tu extends kh{constructor(e){super(),this.firestore=e}convertBytes(e){return new Uo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new _i(this.firestore,null,n)}}function Xy(i,e,n){i=Sr(i,_i);const s=Sr(i.firestore,Vi),l=gd(i.converter,e,n);return fc(s,[Mh(mu(s),"setDoc",i._key,l,null!==i.converter,n).toMutation(i._key,$i.none())])}function Sm(i,e,n,...s){i=Sr(i,_i);const l=Sr(i.firestore,Vi),c=mu(l);let h;return h="string"==typeof(e=(0,L.m9)(e))||e instanceof Yo?fm(c,"updateDoc",i._key,e,n,s):Uy(c,"updateDoc",i._key,e),fc(l,[h.toMutation(i._key,$i.exists(!0))])}function Pm(i,...e){var n,s,l;i=(0,L.m9)(i);let c={includeMetadataChanges:!1,source:"default"},h=0;"object"!=typeof e[h]||np(e[h])||(c=e[h],h++);const D={includeMetadataChanges:c.includeMetadataChanges,source:c.source};if(np(e[h])){const fe=e[h];e[h]=null===(n=fe.next)||void 0===n?void 0:n.bind(fe),e[h+1]=null===(s=fe.error)||void 0===s?void 0:s.bind(fe),e[h+2]=null===(l=fe.complete)||void 0===l?void 0:l.bind(fe)}let M,j,X;if(i instanceof _i)j=Sr(i.firestore,Vi),X=Ql(i._key.path),M={next:fe=>{e[h]&&e[h](dp(j,i,fe))},error:e[h+1],complete:e[h+2]};else{const fe=Sr(i,oo);j=Sr(fe.firestore,Vi),X=fe._query;const Le=new Tu(j);M={next:tt=>{e[h]&&e[h](new Va(j,Le,fe,tt))},error:e[h+1],complete:e[h+2]},gm(i._query)}return function(Le,tt,Ot,Jt){const Zt=new Th(Jt),In=new Jc(tt,Zt,Ot);return Le.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return fu(yield Vl(Le),In)})),()=>{Zt.Qa(),Le.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return pu(yield Vl(Le),In)}))}}(_s(j),X,D,M)}function fc(i,e){return function(s,l){const c=new Vr;return s.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return function gy(i,e,n){return gu.apply(this,arguments)}(yield dc(s),l,c)})),c.promise}(_s(i),e)}function dp(i,e,n){const s=n.docs.get(e._key),l=new Tu(i);return new Hl(i,l,e._key,s,new hc(n.hasPendingWrites,n.fromCache),e.converter)}const Mm={maxAttempts:5};class wu{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=mu(e)}set(e,n,s){this._verifyNotCommitted();const l=hl(e,this._firestore),c=gd(l.converter,n,s),h=Mh(this._dataReader,"WriteBatch.set",l._key,c,null!==l.converter,s);return this._mutations.push(h.toMutation(l._key,$i.none())),this}update(e,n,s,...l){this._verifyNotCommitted();const c=hl(e,this._firestore);let h;return h="string"==typeof(n=(0,L.m9)(n))||n instanceof Yo?fm(this._dataReader,"WriteBatch.update",c._key,n,s,l):Uy(this._dataReader,"WriteBatch.update",c._key,n),this._mutations.push(h.toMutation(c._key,$i.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=hl(e,this._firestore);return this._mutations=this._mutations.concat(new Ku(n._key,$i.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new mt(et.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function hl(i,e){if((i=(0,L.m9)(i)).firestore!==e)throw new mt(et.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class WI extends class{constructor(n,s){this._firestore=n,this._transaction=s,this._dataReader=mu(n)}get(n){const s=hl(n,this._firestore),l=new LI(this._firestore);return this._transaction.lookup([s._key]).then(c=>{if(!c||1!==c.length)return Bt();const h=c[0];if(h.isFoundDocument())return new yu(this._firestore,l,h.key,h,s.converter);if(h.isNoDocument())return new yu(this._firestore,l,s._key,null,s.converter);throw Bt()})}set(n,s,l){const c=hl(n,this._firestore),h=gd(c.converter,s,l),D=Mh(this._dataReader,"Transaction.set",c._key,h,null!==c.converter,l);return this._transaction.set(c._key,D),this}update(n,s,l,...c){const h=hl(n,this._firestore);let D;return D="string"==typeof(s=(0,L.m9)(s))||s instanceof Yo?fm(this._dataReader,"Transaction.update",h._key,s,l,c):Uy(this._dataReader,"Transaction.update",h._key,s),this._transaction.update(h._key,D),this}delete(n){const s=hl(n,this._firestore);return this._transaction.delete(s._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=hl(e,this._firestore),s=new Tu(this._firestore);return super.get(e).then(l=>new Hl(this._firestore,s,n._key,l._document,new hc(!1,!1),n.converter))}}function lv(i,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new mt("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return e}function Lm(){if(typeof Uint8Array>"u")throw new mt("unimplemented","Uint8Arrays are not available in this environment.")}function fp(){if(!function Cc(){return typeof atob<"u"}())throw new mt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,n=!0){Yt=_.SDK_VERSION,(0,_._registerComponent)(new B.wA("firestore",(s,{instanceIdentifier:l,options:c})=>{const h=s.getProvider("app").getImmediate(),D=new Vi(new ko(s.getProvider("auth-internal")),new bn(s.getProvider("app-check-internal")),function(j,X){if(!Object.prototype.hasOwnProperty.apply(j.options,["projectId"]))throw new mt(et.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ko(j.options.projectId,X)}(h,l),h);return c=Object.assign({useFetchStreams:n},c),D._setSettings(c),D},"PUBLIC").setMultipleInstances(!0)),(0,_.registerVersion)(ht,"4.5.0",e),(0,_.registerVersion)(ht,"4.5.0","esm2017")}();class Jo{constructor(e){this._delegate=e}static fromBase64String(e){return fp(),new Jo(Uo.fromBase64String(e))}static fromUint8Array(e){return Lm(),new Jo(Uo.fromUint8Array(e))}toBase64(){return fp(),this._delegate.toBase64()}toUint8Array(){return Lm(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Fm(i){return function uv(i,e){if("object"!=typeof i||null===i)return!1;const n=i;for(const s of e)if(s in n&&"function"==typeof n[s])return!0;return!1}(i,["next","error","complete"])}class fl{enableIndexedDbPersistence(e,n){return function SI(i,e){sp(i=Sr(i,Vi));const n=_s(i);if(n._uninitializedComponentsProvider)throw new mt(et.FAILED_PRECONDITION,"SDK cache is already specified.");Qt("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const s=i._freezeSettings(),l=new td;return rp(n,l,new Yg(l,s.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return function PI(i){sp(i=Sr(i,Vi));const e=_s(i);if(e._uninitializedComponentsProvider)throw new mt(et.FAILED_PRECONDITION,"SDK cache is already specified.");Qt("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=i._freezeSettings(),s=new td;return rp(e,s,new Jg(s,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function RI(i){if(i._initialized&&!i._terminated)throw new mt(et.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Vr;return i._queue.enqueueAndForgetEvenWhileRestricted((0,Ie.Z)(function*(){try{yield(n=(0,Ie.Z)(function*(l){if(!$t.D())return Promise.resolve();const c=l+"main";yield $t.delete(c)}),function s(l){return n.apply(this,arguments)})(Tf(i._databaseId,i._persistenceKey)),e.resolve()}catch(n){e.reject(n)}var n})),e.promise}(e._delegate)}}class Ta{constructor(e,n,s){this._delegate=n,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ko||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Qt("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},n),e)).merge,this._delegate._setSettings(e)}useEmulator(e,n,s={}){!function ep(i,e,n,s={}){var l;const c=(i=Sr(i,sd))._getSettings(),h=`${e}:${n}`;if("firestore.googleapis.com"!==c.host&&c.host!==h&&Qt("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},c),{host:h,ssl:!1})),s.mockUserToken){let D,M;if("string"==typeof s.mockUserToken)D=s.mockUserToken,M=Tt.MOCK_USER;else{D=(0,L.Sg)(s.mockUserToken,null===(l=i._app)||void 0===l?void 0:l.options.projectId);const j=s.mockUserToken.sub||s.mockUserToken.user_id;if(!j)throw new mt(et.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");M=new Tt(j)}i._authCredentials=new Ga(new Io(D,M))}}(this._delegate,e,n,s)}enableNetwork(){return function Sh(i){return function vI(i){return i.asyncQueue.enqueue((0,Ie.Z)(function*(){const e=yield im(i),n=yield bh(i);return e.setNetworkEnabled(!0),function(l){const c=Lt(l);return c.v_.delete(0),oh(c)}(n)}))}(_s(i=Sr(i,Vi)))}(this._delegate)}disableNetwork(){return function Ao(i){return function Ty(i){return i.asyncQueue.enqueue((0,Ie.Z)(function*(){const e=yield im(i),n=yield bh(i);return e.setNetworkEnabled(!1),(s=(0,Ie.Z)(function*(c){const h=Lt(c);h.v_.add(0),yield Zc(h),h.x_.set("Offline")}),function l(c){return s.apply(this,arguments)})(n);var s}))}(_s(i=Sr(i,Vi)))}(this._delegate)}enablePersistence(e){let n=!1,s=!1;return e&&(n=!!e.synchronizeTabs,s=!!e.experimentalForceOwningTab,Py("synchronizeTabs",n,"experimentalForceOwningTab",s)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function cl(i){return function(n){const s=new Vr;return n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return function Bg(i,e){return Wf.apply(this,arguments)}(yield dc(n),s)})),s.promise}(_s(i=Sr(i,Vi)))}(this._delegate)}onSnapshotsInSync(e){return function UI(i,e){return function by(i,e){const n=new Th(e);return i.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return l=yield Vl(i),c=n,Lt(l).W_.add(c),void c.next();var l,c})),()=>{n.Qa(),i.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return l=yield Vl(i),c=n,void Lt(l).W_.delete(c);var l,c}))}}(_s(i=Sr(i,Vi)),np(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new mt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new mc(this,Ny(this._delegate,e))}catch(n){throw Bo(n,"collection()","Firestore.collection()")}}doc(e){try{return new Ca(this,tp(this._delegate,e))}catch(n){throw Bo(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ho(this,function CI(i,e){if(i=Sr(i,sd),am("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new mt(et.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new oo(i,null,(s=e,new bo(rn.emptyPath(),s)));var s}(this._delegate,e))}catch(n){throw Bo(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function xm(i,e,n){i=Sr(i,Vi);const s=Object.assign(Object.assign({},Mm),n);return function(c){if(c.maxAttempts<1)throw new mt(et.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(c,h,D){const M=new Vr;return c.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){const j=yield function sm(i){return nd(i).then(e=>e.datastore)}(c);new XE(c.asyncQueue,j,D,h,M).Ya()})),M.promise}(_s(i),l=>e(new WI(i,l)),s)}(this._delegate,n=>e(new Vm(this,n)))}batch(){return _s(this._delegate),new dv(new wu(this._delegate,e=>fc(this._delegate,e)))}loadBundle(e){return function ip(i,e){const n=_s(i=Sr(i,Vi)),s=new Ly;return function Dh(i,e,n,s){const l=function(h,D){let M;return M="string"==typeof h?Gp().encode(h):h,X=function(X,fe){if(X instanceof Uint8Array)return Xg(X,void 0);if(X instanceof ArrayBuffer)return Xg(new Uint8Array(X),void 0);if(X instanceof ReadableStream)return X.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(M),new Qf(X,D);var X}(n,sh(e));i.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){!function yI(i,e,n){const s=Lt(i);var l;(l=(0,Ie.Z)(function*(h,D,M){try{const j=yield D.getMetadata();if(yield function(Ot,Jt){const Zt=Lt(Ot),In=cs(Jt.createTime);return Zt.persistence.runTransaction("hasNewerBundle","readonly",Hn=>Zt.$r.getBundleMetadata(Hn,Jt.id)).then(Hn=>!!Hn&&Hn.createTime.compareTo(In)>=0)}(h.localStore,j))return yield D.close(),M._completeWith({taskState:"Success",documentsLoaded:(Ot=j).totalDocuments,bytesLoaded:Ot.totalBytes,totalDocuments:Ot.totalDocuments,totalBytes:Ot.totalBytes}),Promise.resolve(new Set);M._updateProgress(uy(j));const X=new uI(j,h.localStore,D.serializer);let fe=yield D.Ba();for(;fe;){const tt=yield X.sa(fe);tt&&M._updateProgress(tt),fe=yield D.Ba()}const Le=yield X.complete();return yield Fl(h,Le.aa,void 0),yield function(Ot,Jt){const Zt=Lt(Ot);return Zt.persistence.runTransaction("Save bundle","readwrite",In=>Zt.$r.saveBundleMetadata(In,Jt))}(h.localStore,j),M._completeWith(Le.progress),Promise.resolve(Le._a)}catch(j){return Qt("SyncEngine",`Loading bundle failed with ${j}`),M._failWith(j),Promise.resolve(new Set)}var Ot}),function c(h,D,M){return l.apply(this,arguments)})(s,e,n).then(l=>{s.sharedClientState.notifyBundleLoaded(l)})}(yield dc(i),l,s)}))}(n,i._databaseId,e,s),s}(this._delegate,e)}namedQuery(e){return function Ia(i,e){return function EI(i,e){return i.asyncQueue.enqueue((0,Ie.Z)(function*(){return function(s,l){const c=Lt(s);return c.persistence.runTransaction("Get named query","readonly",h=>c.$r.getNamedQuery(h,l))}(yield rd(i),e)}))}(_s(i=Sr(i,Vi)),e).then(n=>n?new oo(i,null,n.query):null)}(this._delegate,e).then(n=>n?new Ho(this,n):null)}}class Xo extends kh{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jo(new Uo(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return Ca.forKey(n,this.firestore,null)}}class Vm{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new Xo(e)}get(e){const n=pl(e);return this._delegate.get(n).then(s=>new Fh(this._firestore,new Hl(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,n.converter)))}set(e,n,s){const l=pl(e);return s?(lv("Transaction.set",s),this._delegate.set(l,n,s)):this._delegate.set(l,n),this}update(e,n,s,...l){const c=pl(e);return 2===arguments.length?this._delegate.update(c,n):this._delegate.update(c,n,s,...l),this}delete(e){const n=pl(e);return this._delegate.delete(n),this}}class dv{constructor(e){this._delegate=e}set(e,n,s){const l=pl(e);return s?(lv("WriteBatch.set",s),this._delegate.set(l,n,s)):this._delegate.set(l,n),this}update(e,n,s,...l){const c=pl(e);return 2===arguments.length?this._delegate.update(c,n):this._delegate.update(c,n,s,...l),this}delete(e){const n=pl(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class gc{constructor(e,n,s){this._firestore=e,this._userDataWriter=n,this._delegate=s}fromFirestore(e,n){const s=new Eu(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new _d(this._firestore,s),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const s=gc.INSTANCES;let l=s.get(e);l||(l=new WeakMap,s.set(e,l));let c=l.get(n);return c||(c=new gc(e,new Xo(e),n),l.set(n,c)),c}}gc.INSTANCES=new WeakMap;class Ca{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Xo(e)}static forPath(e,n,s){if(e.length%2!=0)throw new mt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ca(n,new _i(n._delegate,s,new Ft(e)))}static forKey(e,n,s){return new Ca(n,new _i(n._delegate,s,e))}get id(){return this._delegate.id}get parent(){return new mc(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new mc(this.firestore,Ny(this._delegate,e))}catch(n){throw Bo(n,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,L.m9)(e))instanceof _i&&ky(this._delegate,e)}set(e,n){n=lv("DocumentReference.set",n);try{return n?Xy(this._delegate,e,n):Xy(this._delegate,e)}catch(s){throw Bo(s,"setDoc()","DocumentReference.set()")}}update(e,n,...s){try{return 1===arguments.length?Sm(this._delegate,e):Sm(this._delegate,e,n,...s)}catch(l){throw Bo(l,"updateDoc()","DocumentReference.update()")}}delete(){return function ev(i){return fc(Sr(i.firestore,Vi),[new Ku(i._key,$i.none())])}(this._delegate)}onSnapshot(...e){const n=pp(e),s=md(e,l=>new Fh(this.firestore,new Hl(this.firestore._delegate,this._userDataWriter,l._key,l._document,l.metadata,this._delegate.converter)));return Pm(this._delegate,n,s)}get(e){let n;return n="cache"===e?.source?function Qy(i){i=Sr(i,_i);const e=Sr(i.firestore,Vi),n=_s(e),s=new Tu(e);return function Cy(i,e){const n=new Vr;return i.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return(s=(0,Ie.Z)(function*(c,h,D){try{const M=yield function(X,fe){const Le=Lt(X);return Le.persistence.runTransaction("read document","readonly",tt=>Le.localDocuments.getDocument(tt,fe))}(c,h);M.isFoundDocument()?D.resolve(M):M.isNoDocument()?D.resolve(null):D.reject(new mt(et.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(M){const j=uc(M,`Failed to get document '${h} from cache`);D.reject(j)}}),function l(c,h,D){return s.apply(this,arguments)})(yield rd(i),e,n);var s})),n.promise}(n,i._key).then(l=>new Hl(e,s,i._key,l,new hc(null!==l&&l.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===e?.source?function Dm(i){i=Sr(i,_i);const e=Sr(i.firestore,Vi);return wy(_s(e),i._key,{source:"server"}).then(n=>dp(e,i,n))}(this._delegate):function VI(i){i=Sr(i,_i);const e=Sr(i.firestore,Vi);return wy(_s(e),i._key).then(n=>dp(e,i,n))}(this._delegate),n.then(s=>new Fh(this.firestore,new Hl(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(e){return new Ca(this.firestore,this._delegate.withConverter(e?gc.getInstance(this.firestore,e):null))}}function Bo(i,e,n){return i.message=i.message.replace(e,n),i}function pp(i){for(const e of i)if("object"==typeof e&&!Fm(e))return e;return{}}function md(i,e){var n,s;let l;return l=Fm(i[0])?i[0]:Fm(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:c=>{l.next&&l.next(e(c))},error:null===(n=l.error)||void 0===n?void 0:n.bind(l),complete:null===(s=l.complete)||void 0===s?void 0:s.bind(l)}}class Fh{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new Ca(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return bm(this._delegate,e._delegate)}}class _d extends Fh{data(e){const n=this._delegate.data(e);return this._delegate._converter||function No(i,e){i||Bt()}(void 0!==n),n}}class Ho{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Xo(e)}where(e,n,s){try{return new Ho(this.firestore,Iu(this._delegate,function OI(i,e,n){const s=e,l=vu("where",i);return Nh._create(l,s,n)}(e,n,s)))}catch(l){throw Bo(l,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new Ho(this.firestore,Iu(this._delegate,function e0(i,e="asc"){const n=e,s=vu("orderBy",i);return pd._create(s,n)}(e,n)))}catch(s){throw Bo(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Ho(this.firestore,Iu(this._delegate,function NI(i){return xy("limit",i),lp._create("limit",i,"F")}(e)))}catch(n){throw Bo(n,"limit()","Query.limit()")}}limitToLast(e){try{return new Ho(this.firestore,Iu(this._delegate,function ym(i){return xy("limitToLast",i),lp._create("limitToLast",i,"L")}(e)))}catch(n){throw Bo(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Ho(this.firestore,Iu(this._delegate,function Gy(...i){return up._create("startAt",i,!0)}(...e)))}catch(n){throw Bo(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Ho(this.firestore,Iu(this._delegate,function kI(...i){return up._create("startAfter",i,!1)}(...e)))}catch(n){throw Bo(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Ho(this.firestore,Iu(this._delegate,function zy(...i){return cp._create("endBefore",i,!1)}(...e)))}catch(n){throw Bo(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Ho(this.firestore,Iu(this._delegate,function Wy(...i){return cp._create("endAt",i,!0)}(...e)))}catch(n){throw Bo(n,"endAt()","Query.endAt()")}}isEqual(e){return lm(this._delegate,e._delegate)}get(e){let n;return n="cache"===e?.source?function Am(i){i=Sr(i,oo);const e=Sr(i.firestore,Vi),n=_s(e),s=new Tu(e);return function II(i,e){const n=new Vr;return i.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return(s=(0,Ie.Z)(function*(c,h,D){try{const M=yield zc(c,h,!0),j=new kg(h,M.hs),X=j.Ta(M.documents),fe=j.applyChanges(X,!1);D.resolve(fe.snapshot)}catch(M){const j=uc(M,`Failed to execute query '${h} against cache`);D.reject(j)}}),function l(c,h,D){return s.apply(this,arguments)})(yield rd(i),e,n);var s})),n.promise}(n,i._query).then(l=>new Va(e,s,i,l))}(this._delegate):"server"===e?.source?function Jy(i){i=Sr(i,oo);const e=Sr(i.firestore,Vi),n=_s(e),s=new Tu(e);return om(n,i._query,{source:"server"}).then(l=>new Va(e,s,i,l))}(this._delegate):function Yy(i){i=Sr(i,oo);const e=Sr(i.firestore,Vi),n=_s(e),s=new Tu(e);return gm(i._query),om(n,i._query).then(l=>new Va(e,s,i,l))}(this._delegate),n.then(s=>new gp(this.firestore,new Va(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...e){const n=pp(e),s=md(e,l=>new gp(this.firestore,new Va(this.firestore._delegate,this._userDataWriter,this._delegate,l._snapshot)));return Pm(this._delegate,n,s)}withConverter(e){return new Ho(this.firestore,this._delegate.withConverter(e?gc.getInstance(this.firestore,e):null))}}class XI{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new _d(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class gp{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new Ho(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new _d(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new XI(this._firestore,n))}forEach(e,n){this._delegate.forEach(s=>{e.call(n,new _d(this._firestore,s))})}isEqual(e){return bm(this._delegate,e._delegate)}}class mc extends Ho{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ca(this.firestore,e):null}doc(e){try{return new Ca(this.firestore,void 0===e?tp(this._delegate):tp(this._delegate,e))}catch(n){throw Bo(n,"doc()","CollectionReference.doc()")}}add(e){return function tv(i,e){const n=Sr(i.firestore,Vi),s=tp(i),l=gd(i.converter,e);return fc(n,[Mh(mu(i.firestore),"addDoc",s._key,l,null!==i.converter,{}).toMutation(s._key,$i.exists(!1))]).then(()=>s)}(this._delegate,e).then(n=>new Ca(this.firestore,n))}isEqual(e){return ky(this._delegate,e._delegate)}withConverter(e){return new mc(this.firestore,this._delegate.withConverter(e?gc.getInstance(this.firestore,e):null))}}function pl(i){return Sr(i,_i)}class Um{constructor(...e){this._delegate=new Yo(...e)}static documentId(){return new Um(Qn.keyField().canonicalString())}isEqual(e){return(e=(0,L.m9)(e))instanceof Yo&&this._delegate._internalPath.isEqual(e._internalPath)}}class bu{constructor(e){this._delegate=e}static serverTimestamp(){const e=function s0(){return new op("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new bu(e)}static delete(){const e=function r0(){return new cd("deleteField")}();return e._methodName="FieldValue.delete",new bu(e)}static arrayUnion(...e){const n=function qI(...i){return new xh("arrayUnion",i)}(...e);return n._methodName="FieldValue.arrayUnion",new bu(n)}static arrayRemove(...e){const n=function KI(...i){return new hm("arrayRemove",i)}(...e);return n._methodName="FieldValue.arrayRemove",new bu(n)}static increment(e){const n=function ov(i){return new Vy("increment",i)}(e);return n._methodName="FieldValue.increment",new bu(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const hv={Firestore:Ta,GeoPoint:Ul,Timestamp:Vn,Blob:Jo,Transaction:Vm,WriteBatch:dv,DocumentReference:Ca,DocumentSnapshot:Fh,Query:Ho,QueryDocumentSnapshot:_d,QuerySnapshot:gp,CollectionReference:mc,FieldPath:Um,FieldValue:bu,setLogLevel:function cv(i){!function wn(i){Gn.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};function Vh(i,e){return function Bm(i,e=dt.z){return new nt.y(n=>{let s;return null!=e?e.schedule(()=>{s=i.onSnapshot({includeMetadataChanges:!0},n)}):s=i.onSnapshot({includeMetadataChanges:!0},n),()=>{s?.()}})}(i,e)}function mp(i,e){return Vh(i,e).pipe((0,he.U)(n=>({payload:n,type:"query"})))}!function eE(i){(function fv(i,e){i.INTERNAL.registerComponent(new B.wA("firestore-compat",n=>{const s=n.getProvider("app-compat").getImmediate(),l=n.getProvider("firestore").getImmediate();return e(s,l)},"PUBLIC").setServiceProps(Object.assign({},hv)))})(i,(e,n)=>new Ta(e,n,new fl)),i.registerVersion("@firebase/firestore-compat","0.3.27")}(Z.Z),F(7142);class jm{ref;afs;constructor(e,n){this.ref=e,this.afs=n}set(e,n){return this.ref.set(e,n)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,n){const s=this.ref.collection(e),{ref:l,query:c}=yv(s,n);return new _v(l,c,this.afs)}snapshotChanges(){return function Hm(i,e){return Vh(i,e).pipe((0,bt.O)(void 0),Oe(),(0,he.U)(n=>{const[s,l]=n;return l.exists?s?.exists?{payload:l,type:"modified"}:{payload:l,type:"added"}:{payload:l,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(He.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,he.U)(({payload:n})=>e.idField?{...n.data(),[e.idField]:n.id}:n.data()))}get(e){return(0,it.D)(this.ref.get(e)).pipe(He.iC)}}function Uh(i,e){return mp(i,e).pipe((0,bt.O)(void 0),Oe(),(0,he.U)(n=>{const[s,l]=n,c=l.payload.docChanges(),h=c.map(D=>({type:D.type,payload:D}));return s&&JSON.stringify(s.payload.metadata)!==JSON.stringify(l.payload.metadata)&&l.payload.docs.forEach((D,M)=>{const j=c.find(fe=>fe.doc.ref.isEqual(D.ref)),X=s?.payload.docs.find(fe=>fe.ref.isEqual(D.ref));j&&JSON.stringify(j.doc.metadata)===JSON.stringify(D.metadata)||!j&&X&&JSON.stringify(X.metadata)===JSON.stringify(D.metadata)||h.push({type:"modified",payload:{oldIndex:M,newIndex:M,type:"modified",doc:D}})}),h}))}function $m(i,e,n){return Uh(i,n).pipe((0,ge.R)((s,l)=>function pv(i,e,n){return e.forEach(s=>{n.indexOf(s.type)>-1&&(i=function gv(i,e){switch(e.type){case"added":if(!i[e.newIndex]||!i[e.newIndex].doc.ref.isEqual(e.doc.ref))return _p(i,e.newIndex,0,e);break;case"modified":if(null==i[e.oldIndex]||i[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=i.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return _p(i,e.newIndex,1,e)}break;case"removed":if(i[e.oldIndex]&&i[e.oldIndex].doc.ref.isEqual(e.doc.ref))return _p(i,e.oldIndex,1)}return i}(i,s))}),i}(s,l.map(c=>c.payload),e),[]),(0,De.x)(),(0,he.U)(s=>s.map(l=>({type:l.type,payload:l}))))}function _p(i,e,n,...s){const l=i.slice();return l.splice(e,n,...s),l}function mv(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}class _v{ref;query;afs;constructor(e,n,s){this.ref=e,this.query=n,this.afs=s}stateChanges(e){let n=Uh(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(n=n.pipe((0,he.U)(s=>s.filter(l=>e.indexOf(l.type)>-1)))),n.pipe((0,bt.O)(void 0),Oe(),(0,ye.h)(([s,l])=>l.length>0||!s),(0,he.U)(([,s])=>s),He.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,ge.R)((n,s)=>[...n,...s],[]))}snapshotChanges(e){const n=mv(e);return $m(this.query,n,this.afs.schedulers.outsideAngular).pipe(He.iC)}valueChanges(e={}){return mp(this.query,this.afs.schedulers.outsideAngular).pipe((0,he.U)(n=>n.payload.docs.map(s=>e.idField?{...s.data(),[e.idField]:s.id}:s.data())),He.iC)}get(e){return(0,it.D)(this.query.get(e)).pipe(He.iC)}add(e){return this.ref.add(e)}doc(e){return new jm(this.ref.doc(e),this.afs)}}class tE{query;afs;constructor(e,n){this.query=e,this.afs=n}stateChanges(e){return e&&0!==e.length?Uh(this.query,this.afs.schedulers.outsideAngular).pipe((0,he.U)(n=>n.filter(s=>e.indexOf(s.type)>-1)),(0,ye.h)(n=>n.length>0),He.iC):Uh(this.query,this.afs.schedulers.outsideAngular).pipe(He.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,ge.R)((n,s)=>[...n,...s],[]))}snapshotChanges(e){const n=mv(e);return $m(this.query,n,this.afs.schedulers.outsideAngular).pipe(He.iC)}valueChanges(e={}){return mp(this.query,this.afs.schedulers.outsideAngular).pipe((0,he.U)(s=>s.payload.docs.map(l=>e.idField?{[e.idField]:l.id,...l.data()}:l.data())),He.iC)}get(e){return(0,it.D)(this.query.get(e)).pipe(He.iC)}}const nE=new se.OlP("angularfire2.enableFirestorePersistence"),rE=new se.OlP("angularfire2.firestore.persistenceSettings"),iE=new se.OlP("angularfire2.firestore.settings"),sE=new se.OlP("angularfire2.firestore.use-emulator");function yv(i,e=(n=>n)){return{query:e(i),ref:i}}let oE=(()=>{class i{schedulers;firestore;persistenceEnabled$;constructor(n,s,l,c,h,D,M,j,X,fe,Le,tt,Ot,Jt,Zt,In,Hn){this.schedulers=M;const En=(0,We.on)(n,D,s),ir=X;fe&&(0,ce.nw)(En,D,Le,Ot,Jt,Zt,tt,In),[this.firestore,this.persistenceEnabled$]=(0,We.cc)(`${En.name}.firestore`,"AngularFirestore",En.name,()=>{const br=D.runOutsideAngular(()=>En.firestore());if(c&&br.settings(c),ir&&br.useEmulator(...ir),l&&!(0,we.PM)(h)){const si=()=>{try{return(0,it.D)(br.enablePersistence(j||void 0).then(()=>!0,()=>!1))}catch(es){return typeof console<"u"&&console.warn(es),(0,lt.of)(!1)}};return[br,D.runOutsideAngular(si)]}return[br,(0,lt.of)(!1)]},[c,ir,l])}collection(n,s){let l;l="string"==typeof n?this.firestore.collection(n):n;const{ref:c,query:h}=yv(l,s),D=this.schedulers.ngZone.run(()=>c);return new _v(D,h,this)}collectionGroup(n,s){const l=s||(h=>h),c=this.firestore.collectionGroup(n);return new tE(l(c),this)}doc(n){let s;s="string"==typeof n?this.firestore.doc(n):n;const l=this.schedulers.ngZone.run(()=>s);return new jm(l,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(s){return new(s||i)(se.LFG(We.Dh),se.LFG(We.xv,8),se.LFG(nE,8),se.LFG(iE,8),se.LFG(se.Lbi),se.LFG(se.R0b),se.LFG(He.HU),se.LFG(rE,8),se.LFG(sE,8),se.LFG(ce.zQ,8),se.LFG(ce.Qv,8),se.LFG(ce.L6,8),se.LFG(ce._Q,8),se.LFG(ce.rT,8),se.LFG(ce.lh,8),se.LFG(ce.f7,8),se.LFG(He.Rf,8))};static \u0275prov=se.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"})}return i})(),aE=(()=>{class i{constructor(n,s,l,c){this.afAuth=n,this.cacheService=s,this.router=l,this.firestore=c,this.userSubject=new Q.X(null),this.user=this.userSubject.asObservable(),this.afAuth.authState.subscribe(h=>{this.userSubject.next(h)})}sendVerificationCode(n){const s=n,l=new Z.Z.auth.RecaptchaVerifier("recaptcha-container",{size:"invisible"});return this.afAuth.signInWithPhoneNumber(s,l).then(c=>c.verificationId,c=>{alert(c.message),this.router.navigate(["/login"])})}verifyCode(n,s){const l=Z.Z.auth.PhoneAuthProvider.credential(n,s);return this.afAuth.signInWithCredential(l).then(c=>(null!=c.user.displayName&&(this.cacheService.setData("token",c.user),this.router.navigate(["/tasks"])),c.user),c=>{alert(c.message),this.router.navigate(["/login"])})}updateInfo(n,s,l){n?.updateProfile({displayName:s}),n=n.multiFactor.user,this.storeAdditionalUserData(n?.uid,{fullName:l,username:s}),n={...n,displayName:s},this.cacheService.setData("token",n),this.router.navigate(["/tasks"])}getUser(){return this.user}setDisplayName(n,s){const l=`${n} ${s}`;return this.afAuth.currentUser.then(c=>c?.updateProfile({displayName:l}))}signIn(n,s,l){this.afAuth.signInWithEmailAndPassword(n,s).then(c=>{c.user?.emailVerified?(this.cacheService.setData("token",c.user),this.router.navigate(["/tasks"],{state:{rememberMe:l}})):c.user&&(c.user.sendEmailVerification(),this.router.navigate(["/verify-email"]))},c=>{alert(c.message),this.router.navigate(["/login"])})}register(n){this.afAuth.createUserWithEmailAndPassword(n.email,n.password).then(s=>{s.user?.updateProfile({displayName:n.userName}),this.storeAdditionalUserData(s.user?.uid,{fullName:n.fullName,username:n.userName}),s.user&&(s.user.sendEmailVerification(),this.router.navigate(["/verify-email"]))},s=>{alert(s.message)})}storeAdditionalUserData(n,s){n&&this.firestore.collection("users").doc(n).set(s,{merge:!0})}signOut(){this.afAuth.signOut().then(()=>{this.cacheService.removeData("token"),this.router.navigate(["/login"])},n=>{alert(n.message)})}forgotPassword(n){this.afAuth.sendPasswordResetEmail(n).then(()=>{this.email=n,this.router.navigate(["/verify-email"])},s=>{alert(s.message)})}deleteCurrentUser(){this.afAuth.currentUser.then(n=>{n&&(n.delete(),this.cacheService.removeData("token"),this.router.navigate(["/login"]))},n=>{alert(n.message)})}singInWithGoogle(){return this.afAuth.signInWithPopup(new p.X).then(n=>{const s=n.user;if(s){const[l,c]=s.displayName?.split(" ")||["",""];s.updateProfile({displayName:s.displayName,photoURL:s.photoURL}).then(()=>{this.cacheService.setData("token",n.user),this.router.navigate(["/tasks"]),"/tasks"==this.router.url&&window.location.reload()})}},n=>{alert(n.message),this.router.navigate(["/login"])})}singInWithGithub(){return this.afAuth.signInWithPopup(new p.Y).then(n=>{const s=n.user;if(s){const[l,c]=s.displayName?.split(" ")||["",""];s.updateProfile({displayName:s.displayName,photoURL:s.photoURL}).then(()=>{this.cacheService.setData("token",n.user),this.router.navigate(["/tasks"])})}},n=>{alert(n.message),this.router.navigate(["/login"])})}static#e=this.\u0275fac=function(s){return new(s||i)(se.LFG(ce.zQ),se.LFG(J.Q),se.LFG(ae.F0),se.LFG(oE))};static#t=this.\u0275prov=se.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})()},553:(Nt,$e,F)=>{F.d($e,{N:()=>p});const p={production:!0,firebaseConfig:{apiKey:"AIzaSyDEFnGE_jUVrWMEMuY2-bdk3TCL8PwiUxs",authDomain:"tasks-2aa20.firebaseapp.com",projectId:"tasks-2aa20",storageBucket:"tasks-2aa20.appspot.com",messagingSenderId:"289908118671",appId:"1:289908118671:web:40a2c8d77b6819feb10cfa",measurementId:"G-PRWGNQ569P"}}},636:(Nt,$e,F)=>{var p=F(6593),L=F(3781),_=F(5879),Ce=F(9445),B=F(6814);function Q(H,v){if(1&H&&(_.TgZ(0,"span",6),_._uU(1,"We've sent a verification mail to "),_.TgZ(2,"strong",7),_._uU(3),_.qZA()()),2&H){const y=_.oxw();_.xp6(3),_.Oqu(y.email)}}function Z(H,v){if(1&H&&(_.TgZ(0,"span",6),_._uU(1,"We've sent instructions on how to reset "),_._UZ(2,"br"),_._uU(3," your password to "),_.TgZ(4,"strong",7),_._uU(5),_.qZA()()),2&H){const y=_.oxw();_.xp6(5),_.Oqu(y.email)}}function se(H,v){1&H&&(_.TgZ(0,"span",6),_._uU(1,"Please go to your mail to verify your email."),_.qZA())}let ce=(()=>{class H{constructor(y){this.authService=y,this.email=null,this.forgotPassLabel=!1}ngOnInit(){this.authService.getUser().subscribe(y=>{y?this.email=y.email:(this.email=this.authService.email,this.forgotPassLabel=!0)})}static#e=this.\u0275fac=function(R){return new(R||H)(_.Y36(Ce.e))};static#t=this.\u0275cmp=_.Xpm({type:H,selectors:[["app-verifyemail"]],decls:10,vars:3,consts:[[1,"container"],[1,"box"],["src","assets/mail.png"],[1,"title"],["class","title1",4,"ngIf"],["href","#login",1,"title2"],[1,"title1"],[1,"bold-email"]],template:function(R,G){1&R&&(_.TgZ(0,"div",0)(1,"div",1),_._UZ(2,"img",2),_.TgZ(3,"span",3),_._uU(4,"Check your email"),_.qZA(),_.YNc(5,Q,4,1,"span",4),_.YNc(6,Z,6,1,"span",4),_.YNc(7,se,2,0,"span",4),_.TgZ(8,"a",5),_._uU(9,"Verified logging in"),_.qZA()()()),2&R&&(_.xp6(5),_.Q6J("ngIf",!G.forgotPassLabel),_.xp6(1),_.Q6J("ngIf",G.forgotPassLabel),_.xp6(1),_.Q6J("ngIf",!G.forgotPassLabel))},dependencies:[B.O5],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;height:100vh;background-color:#cdcde1;max-width:-webkit-fill-available}.box[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;background-color:#fff;padding:75px 50px;border-radius:10px;box-shadow:0 0 10px #0003}.box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-bottom:10px}.title[_ngcontent-%COMP%]{font-weight:600;font-size:larger;margin-bottom:20px;color:#2b2b2b}.bold-email[_ngcontent-%COMP%]{font-weight:700;color:#2b2b2b}.title1[_ngcontent-%COMP%]{margin-bottom:2%;color:gray;font-size:14px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}.title2[_ngcontent-%COMP%]{color:#228be6;text-decoration:none;font-weight:500;margin-top:2%;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;transition:color .3s ease}.title2[_ngcontent-%COMP%]:hover{color:#08f}"]})}return H})();var J=F(95);let ae=(()=>{class H{constructor(y){this.authService=y,this.email=""}forgotPasswordMail(){this.authService.forgotPassword(this.email)}static#e=this.\u0275fac=function(R){return new(R||H)(_.Y36(Ce.e))};static#t=this.\u0275cmp=_.Xpm({type:H,selectors:[["app-forgotpassword"]],decls:13,vars:1,consts:[[1,"container"],[1,"box"],[1,"title"],[1,"title1"],["for","email",1,"emailLabel"],["type","email","id","email","name","email","aria-describedby","email",1,"emailInput",3,"ngModel","ngModelChange"],[1,"btn",3,"click"],["href","#login",1,"title2"]],template:function(R,G){1&R&&(_.TgZ(0,"div",0)(1,"div",1)(2,"span",2),_._uU(3,"Forgot your password?"),_.qZA(),_.TgZ(4,"span",3),_._uU(5,"Your password will be reset by email."),_.qZA(),_.TgZ(6,"label",4),_._uU(7,"Enter your email address"),_.qZA(),_.TgZ(8,"input",5),_.NdJ("ngModelChange",function(be){return G.email=be}),_.qZA(),_.TgZ(9,"button",6),_.NdJ("click",function(){return G.forgotPasswordMail()}),_._uU(10,"Next"),_.qZA(),_.TgZ(11,"a",7),_._uU(12,"Back to log in"),_.qZA()()()),2&R&&(_.xp6(8),_.Q6J("ngModel",G.email))},dependencies:[J.Fj,J.JJ,J.On],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;height:100vh;background-color:#cdcde1;max-width:-webkit-fill-available}.box[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;background-color:#fff;padding:45px 80px;border-radius:10px;box-shadow:0 0 10px #0003}.title[_ngcontent-%COMP%]{font-weight:600;font-size:x-large;margin-bottom:4%;color:#228be6}.btn[_ngcontent-%COMP%]{background-color:#228be6;color:#fff;margin-top:10px;height:40px;width:125%;padding:5px;border:none;border-radius:5px;cursor:pointer;margin-bottom:5%;transition:background-color .3s ease}.btn[_ngcontent-%COMP%]:hover{background-color:#08f}.title1[_ngcontent-%COMP%]{margin-bottom:6%;color:gray;font-size:13px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}.emailLabel[_ngcontent-%COMP%]{color:gray;font-size:13px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;margin-bottom:3%;font-weight:500;margin-left:-167px}.emailInput[_ngcontent-%COMP%]{padding-left:1%;border-radius:5px;border:solid 1px #3a3a3a;outline:none;height:40px;width:125%;margin-bottom:4%}.title2[_ngcontent-%COMP%]{color:#228be6;text-decoration:none;font-weight:500;margin-top:2%;font-size:14px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;transition:color .3s ease}.title2[_ngcontent-%COMP%]:hover{color:#08f}"]})}return H})();var we=F(477);let He=(()=>{class H{constructor(y,R){this.cacheService=y,this.router=R}canActivate(){return this.userData()?this.userData():(this.userData(),this.router.navigate(["/login"]),!1)}userData(){let y=this.cacheService.getData("token");return!(!y||!(y.emailVerified||""!=y.phoneNumber&&null!=y.phoneNumber))||(this.router.navigate(["/login"]),!1)}static#e=this.\u0275fac=function(R){return new(R||H)(_.LFG(we.Q),_.LFG(L.F0))};static#t=this.\u0275prov=_.Yz7({token:H,factory:H.\u0275fac,providedIn:"root"})}return H})();const We=["registerationForm"];function dt(H,v){if(1&H){const y=_.EpF();_.TgZ(0,"i",27),_.NdJ("click",function(){_.CHM(y);const G=_.oxw();return _.KtG(G.togglePasswordVisibility())}),_.qZA()}}function nt(H,v){if(1&H){const y=_.EpF();_.TgZ(0,"i",28),_.NdJ("click",function(){_.CHM(y);const G=_.oxw();return _.KtG(G.togglePasswordVisibility())}),_.qZA()}}function it(H,v){if(1&H){const y=_.EpF();_.TgZ(0,"i",27),_.NdJ("click",function(){_.CHM(y);const G=_.oxw();return _.KtG(G.toggleConfirmPasswordVisibility())}),_.qZA()}}function lt(H,v){if(1&H){const y=_.EpF();_.TgZ(0,"i",28),_.NdJ("click",function(){_.CHM(y);const G=_.oxw();return _.KtG(G.toggleConfirmPasswordVisibility())}),_.qZA()}}let bt=(()=>{class H{constructor(y,R){this.authService=y,this.router=R,this.passwordToggle=!1,this.confirmPasswordToggle=!1}ngOnInit(){}register(){this.registerationForm.valid?this.registerationForm.valid&&this.registerationForm.value.password!=this.registerationForm.value.confirmPassword?alert("Password and Confirm password does not matching"):this.registerationForm.valid&&this.registerationForm.value.password==this.registerationForm.value.confirmPassword&&this.authService.register(this.registerationForm.value):alert("Please enter your registration details")}alreadyHaveAccount(){this.router.navigate(["/login"])}togglePasswordVisibility(){const y=document.getElementById("password");"password"===y.type?(y.type="text",this.passwordToggle=!1):(y.type="password",this.passwordToggle=!0)}toggleConfirmPasswordVisibility(){const y=document.getElementById("confirmPassword");"password"===y.type?(y.type="text",this.confirmPasswordToggle=!1):(y.type="password",this.confirmPasswordToggle=!0)}static#e=this.\u0275fac=function(R){return new(R||H)(_.Y36(Ce.e),_.Y36(L.F0))};static#t=this.\u0275cmp=_.Xpm({type:H,selectors:[["app-register"]],viewQuery:function(R,G){if(1&R&&_.Gf(We,5),2&R){let ne;_.iGM(ne=_.CRH())&&(G.registerationForm=ne.first)}},decls:39,vars:4,consts:[[1,"pleaseFillOutFormToRegister"],[3,"ngSubmit"],["registerationForm","ngForm"],["for","fullName",1,"fullName"],["type","text","id","fullName","placeholder","Full Name","name","fullName","aria-describedby","fullName","ngModel","","required","",1,"rectangle9"],["for","userName",1,"userName"],["type","text","id","userName","placeholder","User Name","name","userName","aria-describedby","userName","ngModel","","required","",1,"rectangle2"],["for","email",1,"email"],["type","email","id","email","placeholder","Email","name","email","aria-describedby","email","ngModel","","required","",1,"rectangle10"],["for","password",1,"password"],[1,"rectangle3"],["type","password","id","password","placeholder","Password","id","password","name","password","ngModel","","required","",1,"passwordInput"],[1,"passwordIcon"],["class","bx bx-show",3,"click",4,"ngIf"],["class","bx bx-hide",3,"click",4,"ngIf"],["for","confirmPassword",1,"confirmPassword"],[1,"rectangle8"],["type","password","id","confirmPassword","placeholder","Password","id","confirmPassword","name","confirmPassword","ngModel","","required","",1,"passwordInput"],["type","submit",1,"btn"],[1,"yesIHaveAnAccountLogin"],[1,"labelWrapper"],[1,"label"],["href","#login",1,"label2"],[1,"label3"],[1,"rectangle6"],[1,"rectangle7"],[1,"pc-reg"],[1,"bx","bx-show",3,"click"],[1,"bx","bx-hide",3,"click"]],template:function(R,G){1&R&&(_.TgZ(0,"div",0),_._uU(1,"Please Fill out form to Register!"),_.qZA(),_.TgZ(2,"form",1,2),_.NdJ("ngSubmit",function(){return G.register()}),_.TgZ(4,"label",3),_._uU(5,"Full name:"),_.qZA(),_._UZ(6,"input",4),_.TgZ(7,"label",5),_._uU(8,"Username:"),_.qZA(),_._UZ(9,"input",6),_.TgZ(10,"label",7),_._uU(11,"Email:"),_.qZA(),_._UZ(12,"input",8),_.TgZ(13,"label",9),_._uU(14,"Password:"),_.qZA(),_.TgZ(15,"div",10),_._UZ(16,"input",11),_.TgZ(17,"div",12),_.YNc(18,dt,1,0,"i",13),_.YNc(19,nt,1,0,"i",14),_.qZA()(),_.TgZ(20,"label",15),_._uU(21,"Confirm Password:"),_.qZA(),_.TgZ(22,"div",16),_._UZ(23,"input",17),_.TgZ(24,"div",12),_.YNc(25,it,1,0,"i",13),_.YNc(26,lt,1,0,"i",14),_.qZA()(),_.TgZ(27,"button",18),_._uU(28,"Register"),_.qZA()(),_.TgZ(29,"div",19)(30,"p",20)(31,"span",21),_._uU(32,"Yes i have an account? "),_.qZA(),_.TgZ(33,"a",22),_._uU(34,"Login"),_.qZA(),_._UZ(35,"span",23),_.qZA()(),_._UZ(36,"div",24)(37,"div",25)(38,"div",26)),2&R&&(_.xp6(18),_.Q6J("ngIf",G.passwordToggle),_.xp6(1),_.Q6J("ngIf",!G.passwordToggle),_.xp6(6),_.Q6J("ngIf",G.confirmPasswordToggle),_.xp6(1),_.Q6J("ngIf",!G.confirmPasswordToggle))},dependencies:[B.O5,J._Y,J.Fj,J.JJ,J.JL,J.Q7,J.On,J.F],styles:['[_nghost-%COMP%], *[_ngcontent-%COMP%]{box-sizing:border-box;margin:0;padding:0;background:none;border:none;flex-shrink:0;text-decoration:none;min-width:0;overflow-wrap:anywhere}[_nghost-%COMP%], [_ngcontent-%COMP%]:not(span, a[_ngcontent-%COMP%], ul[_ngcontent-%COMP%], ol[_ngcontent-%COMP%], li[_ngcontent-%COMP%], p)[_ngcontent-%COMP%]{display:flex}ul[_ngcontent-%COMP%], ol[_ngcontent-%COMP%]{text-indent:0;padding-inline-start:1.5em}p[_ngcontent-%COMP%]:empty:before{content:"";display:inline-block}img[_ngcontent-%COMP%]{object-fit:contain}svg[_ngcontent-%COMP%]{overflow:visible}[_nghost-%COMP%]{position:relative;width:100vw;height:100vh;flex-direction:column;align-items:flex-start;background-color:#ebefff;overflow:hidden}.rectangle2[_ngcontent-%COMP%]{position:absolute;left:756px;top:240px;width:367px;height:40px;outline:solid 1px #3a3a3a;outline-offset:-1px;border-radius:5px;background-color:#afb3ff00;padding-left:.8%}.rectangle9[_ngcontent-%COMP%]{position:absolute;left:756px;top:164px;width:367px;height:40px;outline:solid 1px #3a3a3a;outline-offset:-1px;border-radius:5px;background-color:#afb3ff00;padding-left:.8%}.passwordInput[_ngcontent-%COMP%]{padding-left:3.2%}.rectangle3[_ngcontent-%COMP%]{position:absolute;left:758px;top:396px;width:367px;height:40px;outline:solid 1px #3a3a3a;outline-offset:-1px;border-radius:5px;background-color:#afb3ff00}.rectangle10[_ngcontent-%COMP%]{position:absolute;left:756px;top:320px;width:367px;height:40px;outline:solid 1px #3a3a3a;outline-offset:-1px;border-radius:5px;background-color:#afb3ff00;padding-left:.8%}.rectangle8[_ngcontent-%COMP%]{position:absolute;left:758px;top:472px;width:367px;height:40px;outline:solid 1px #3a3a3a;outline-offset:-1px;border-radius:5px;background-color:#afb3ff00}.userName[_ngcontent-%COMP%]{color:#000;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:756px;top:210px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.fullName[_ngcontent-%COMP%]{color:#000;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:756px;top:134px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.yesIHaveAnAccountLogin[_ngcontent-%COMP%]{position:absolute;left:838px;top:599px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.labelWrapper[_ngcontent-%COMP%]{font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;flex-shrink:1}.label[_ngcontent-%COMP%]{color:#000;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}.label2[_ngcontent-%COMP%]{color:#000;font-size:16px;font-weight:500;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}.label3[_ngcontent-%COMP%]{color:#000;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}.rectangle4[_ngcontent-%COMP%]{position:absolute;left:760px;top:532px;width:365px;height:40px;border-radius:5px;background-color:#228be6;transition:background-color .3s ease}.rectangle4[_ngcontent-%COMP%]:hover{background-color:#08f}.btn[_ngcontent-%COMP%]{box-sizing:border-box;background-color:#228be6;color:#fff;margin-top:10px;border:none;border-radius:5px;cursor:pointer;margin-bottom:5%;transition:background-color .3s ease;justify-content:center;align-items:center;position:absolute;left:760px;top:534px;width:368px;height:40px;font-size:16px;font-weight:500;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}.btn[_ngcontent-%COMP%]:hover{background-color:#08f;color:#fff}.rectangle3[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .rectangle8[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none;width:100%}.password[_ngcontent-%COMP%]{color:#000;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:760px;top:366px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.email[_ngcontent-%COMP%]{color:#000;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:758px;top:290px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.confirmPassword[_ngcontent-%COMP%]{color:#000;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:760px;top:442px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.rectangle6[_ngcontent-%COMP%]{transform-origin:top left;position:absolute;left:180.2554px;top:510.0889px;width:635px;height:377px;border-radius:105.5304px;background-color:#228be690;transform:matrix(-.1248,-.9922,.9922,-.1248,0,0)}.rectangle7[_ngcontent-%COMP%]{transform-origin:top left;position:absolute;left:165px;top:536px;width:635px;height:377px;border-radius:105.5304px;background-color:#228be61f;transform:matrix(0,-1,1,0,0,0)}.socialMediaIcons[_ngcontent-%COMP%]{position:absolute;left:917px;top:636px;width:88.2188px;height:24.2188px;overflow:visible}.icon[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.pleaseFillOutFormToRegister[_ngcontent-%COMP%]{color:#1a1a1a;font-size:18px;font-weight:700;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:808px;top:88px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.pc-reg[_ngcontent-%COMP%]{position:absolute;inset:24.5833% 45.3906% 7.0833% 16.7344%;width:420px;height:420px;background-image:url(pc-reg.d15c0a20eefd0708.svg);background-position:center;background-repeat:no-repeat;background-size:contain}.passwordIcon[_ngcontent-%COMP%]{position:absolute;left:335px;top:14px}']})}return H})();var ft=F(6321),le=F(5592),Oe=F(671);const ye=["digit1"],rt=["digit2"],Ie=["digit3"],Vt=["digit4"],It=["digit5"],ut=["digit6"];function Tn(H,v){1&H&&(_.TgZ(0,"span",14),_._uU(1,"Please enter the 6-digit code sent to your phone number "),_.qZA())}function Rt(H,v){if(1&H&&(_.TgZ(0,"span",14),_._uU(1),_.qZA()),2&H){const y=_.oxw();_.xp6(1),_.AsE("",y.phoneCode,"",y.phoneNumber,"")}}function Pt(H,v){1&H&&(_.TgZ(0,"span",14),_._uU(1," for verification."),_.qZA())}function kt(H,v){if(1&H){const y=_.EpF();_.TgZ(0,"div",15)(1,"input",16,17),_.NdJ("input",function(G){_.CHM(y);const ne=_.oxw();return _.KtG(ne.onInput(1,G))}),_.qZA(),_.TgZ(3,"input",16,18),_.NdJ("input",function(G){_.CHM(y);const ne=_.oxw();return _.KtG(ne.onInput(2,G))}),_.qZA(),_.TgZ(5,"input",16,19),_.NdJ("input",function(G){_.CHM(y);const ne=_.oxw();return _.KtG(ne.onInput(3,G))}),_.qZA(),_.TgZ(7,"input",16,20),_.NdJ("input",function(G){_.CHM(y);const ne=_.oxw();return _.KtG(ne.onInput(4,G))}),_.qZA(),_.TgZ(9,"input",16,21),_.NdJ("input",function(G){_.CHM(y);const ne=_.oxw();return _.KtG(ne.onInput(5,G))}),_.qZA(),_.TgZ(11,"input",16,22),_.NdJ("input",function(G){_.CHM(y);const ne=_.oxw();return _.KtG(ne.onInput(6,G))}),_.qZA()()}}function Se(H,v){1&H&&(_.TgZ(0,"span",14),_._uU(1,"Didn\u2019t receive any code? "),_.qZA())}function ke(H,v){if(1&H&&(_.TgZ(0,"span"),_._uU(1),_.qZA()),2&H){const y=_.oxw();_.xp6(1),_.Oqu(y.countdownDisplay)}}function qe(H,v){if(1&H){const y=_.EpF();_.TgZ(0,"span",23),_.NdJ("click",function(){_.CHM(y);const G=_.oxw();return _.KtG(G.resendBtn())}),_._uU(1,"Resend Again"),_.qZA()}}function Fe(H,v){if(1&H){const y=_.EpF();_.TgZ(0,"input",24),_.NdJ("ngModelChange",function(G){_.CHM(y);const ne=_.oxw();return _.KtG(ne.phoneCode=G)}),_.qZA()}if(2&H){const y=_.oxw();_.Q6J("ngModel",y.phoneCode)}}function Ke(H,v){if(1&H){const y=_.EpF();_.TgZ(0,"input",25),_.NdJ("input",function(G){_.CHM(y);const ne=_.oxw();return _.KtG(ne.onInputPhone(G))})("ngModelChange",function(G){_.CHM(y);const ne=_.oxw();return _.KtG(ne.phoneNumber=G)}),_.qZA()}if(2&H){const y=_.oxw();_.Q6J("ngModel",y.phoneNumber)}}function ct(H,v){1&H&&(_.TgZ(0,"span",14),_._uU(1," First time user? Please update info! "),_.qZA())}function At(H,v){if(1&H){const y=_.EpF();_.TgZ(0,"input",26),_.NdJ("ngModelChange",function(G){_.CHM(y);const ne=_.oxw();return _.KtG(ne.fullName=G)}),_.qZA()}if(2&H){const y=_.oxw();_.Q6J("ngModel",y.fullName)}}function vt(H,v){if(1&H){const y=_.EpF();_.TgZ(0,"input",27),_.NdJ("ngModelChange",function(G){_.CHM(y);const ne=_.oxw();return _.KtG(ne.userName=G)}),_.qZA()}if(2&H){const y=_.oxw();_.Q6J("ngModel",y.userName)}}function Dn(H,v){1&H&&_._UZ(0,"div",28)}function cn(H,v){if(1&H){const y=_.EpF();_.TgZ(0,"button",29),_.NdJ("click",function(){_.CHM(y);const G=_.oxw();return _.KtG(G.sendOtp())}),_._uU(1,"Send OTP"),_.qZA()}if(2&H){const y=_.oxw();_.Q6J("disabled",y.btnDis)}}function On(H,v){if(1&H){const y=_.EpF();_.TgZ(0,"button",30),_.NdJ("click",function(){_.CHM(y);const G=_.oxw();return _.KtG(G.updateData())}),_._uU(1,"Update"),_.qZA()}}let pn=(()=>{class H{constructor(y){this.authService=y,this.phoneCode="+91",this.otpInput=!1,this.phoneInputFlg=!0,this.otpRecaptcha=!1,this.updateInput=!1,this.btnDis=!0,this.otpEntered=new _.vpe,this.closeModal=new _.vpe,this.countdownTotalSeconds=120,this.showResendBtn=!1}ngOnInit(){}resendBtn(){this.countdownTotalSeconds=120,this.showResendBtn=!1}startCountdown(){(function De(H=0,v=ft.z){return H<0&&(H=0),function ge(H=0,v,y=ft.P){let R=-1;return null!=v&&((0,Oe.K)(v)?y=v:R=v),new le.y(G=>{let ne=function he(H){return H instanceof Date&&!isNaN(H)}(H)?+H-y.now():H;ne<0&&(ne=0);let be=0;return y.schedule(function(){G.closed||(G.next(be++),0<=R?this.schedule(void 0,R):G.complete())},ne)})}(H,H,v)})(1e3).subscribe(()=>{if(this.countdownTotalSeconds<=0)this.showResendBtn=!0;else{this.countdownTotalSeconds--;const y=Math.floor(this.countdownTotalSeconds/60),R=this.countdownTotalSeconds%60;this.countdownDisplay=`${y.toString().padStart(2,"0")}:${R.toString().padStart(2,"0")}`}})}onInput(y,R){const G=this[`digit${y+1}`];1===R.target.value.length&&G&&G.nativeElement.focus();const ne=this.getOTPValue();6===ne.length&&this.onOTPEntered(ne)}onInputPhone(y){10===y.target.value.length&&""!=this.phoneCode?(this.otpRecaptcha=!0,this.btnDis=!1):this.btnDis=!0}getOTPValue(){return[this.digit1.nativeElement.value,this.digit2.nativeElement.value,this.digit3.nativeElement.value,this.digit4.nativeElement.value,this.digit5.nativeElement.value,this.digit6.nativeElement.value].join("")}onOTPEntered(y){this.authService.verifyCode(this.verificationId,y).then(R=>{this.user=R,this.otpRecaptcha=!1,this.btnDis=!0,this.otpInput=!1,this.phoneInputFlg=!1,!this.user.displayName&&null==this.user.displayName&&(this.updateInput=!0)}).catch(R=>{console.error(R)})}closePopup(){this.closeModal.emit(),this.otpRecaptcha=!1,this.updateInput=!1,this.btnDis=!0,this.otpInput=!1,this.phoneInputFlg=!0}sendOtp(){this.authService.sendVerificationCode(this.phoneCode+this.phoneNumber).then(R=>{this.otpRecaptcha=!1,this.updateInput=!1,this.btnDis=!0,this.otpInput=!0,this.phoneInputFlg=!1,this.verificationId=R,this.startCountdown()}).catch(R=>{console.error(R)})}updateData(){this.authService.updateInfo(this.user,this.userName,this.fullName),this.closePopup()}static#e=this.\u0275fac=function(R){return new(R||H)(_.Y36(Ce.e))};static#t=this.\u0275cmp=_.Xpm({type:H,selectors:[["app-phone-auth"]],viewQuery:function(R,G){if(1&R&&(_.Gf(ye,5),_.Gf(rt,5),_.Gf(Ie,5),_.Gf(Vt,5),_.Gf(It,5),_.Gf(ut,5)),2&R){let ne;_.iGM(ne=_.CRH())&&(G.digit1=ne.first),_.iGM(ne=_.CRH())&&(G.digit2=ne.first),_.iGM(ne=_.CRH())&&(G.digit3=ne.first),_.iGM(ne=_.CRH())&&(G.digit4=ne.first),_.iGM(ne=_.CRH())&&(G.digit5=ne.first),_.iGM(ne=_.CRH())&&(G.digit6=ne.first)}},outputs:{otpEntered:"otpEntered",closeModal:"closeModal"},decls:19,vars:15,consts:[[1,"box"],[1,"popUpHeader"],[1,"pi","pi-times",3,"click"],["class","title1",4,"ngIf"],["class","otp-input",4,"ngIf"],[4,"ngIf"],["class","title2",3,"click",4,"ngIf"],["type","text","class","phoneCode",3,"ngModel","ngModelChange",4,"ngIf"],["type","text","class","phoneInput","placeholder","Phone Number",3,"ngModel","input","ngModelChange",4,"ngIf"],["type","text","class","InputFirstName","placeholder","Full Name",3,"ngModel","ngModelChange",4,"ngIf"],["type","text","class","Inputs","placeholder","User Name",3,"ngModel","ngModelChange",4,"ngIf"],["id","recaptcha-container",4,"ngIf"],["class","sendOtpBtn",3,"disabled","click",4,"ngIf"],["class","updateBtn",3,"click",4,"ngIf"],[1,"title1"],[1,"otp-input"],["type","text","maxlength","1",3,"input"],["digit1",""],["digit2",""],["digit3",""],["digit4",""],["digit5",""],["digit6",""],[1,"title2",3,"click"],["type","text",1,"phoneCode",3,"ngModel","ngModelChange"],["type","text","placeholder","Phone Number",1,"phoneInput",3,"ngModel","input","ngModelChange"],["type","text","placeholder","Full Name",1,"InputFirstName",3,"ngModel","ngModelChange"],["type","text","placeholder","User Name",1,"Inputs",3,"ngModel","ngModelChange"],["id","recaptcha-container"],[1,"sendOtpBtn",3,"disabled","click"],[1,"updateBtn",3,"click"]],template:function(R,G){1&R&&(_.TgZ(0,"div",0)(1,"div",1),_._UZ(2,"div"),_.TgZ(3,"i",2),_.NdJ("click",function(){return G.closePopup()}),_.qZA()(),_.YNc(4,Tn,2,0,"span",3),_.YNc(5,Rt,2,2,"span",3),_.YNc(6,Pt,2,0,"span",3),_.YNc(7,kt,13,0,"div",4),_.YNc(8,Se,2,0,"span",3),_.YNc(9,ke,2,1,"span",5),_.YNc(10,qe,2,0,"span",6),_.YNc(11,Fe,1,1,"input",7),_.YNc(12,Ke,1,1,"input",8),_.YNc(13,ct,2,0,"span",3),_.YNc(14,At,1,1,"input",9),_.YNc(15,vt,1,1,"input",10),_.YNc(16,Dn,1,0,"div",11),_.YNc(17,cn,2,1,"button",12),_.YNc(18,On,2,0,"button",13),_.qZA()),2&R&&(_.xp6(4),_.Q6J("ngIf",G.otpInput),_.xp6(1),_.Q6J("ngIf",G.otpInput),_.xp6(1),_.Q6J("ngIf",G.otpInput),_.xp6(1),_.Q6J("ngIf",G.otpInput),_.xp6(1),_.Q6J("ngIf",G.otpInput),_.xp6(1),_.Q6J("ngIf",G.otpInput&&!G.showResendBtn),_.xp6(1),_.Q6J("ngIf",G.otpInput&&G.showResendBtn),_.xp6(1),_.Q6J("ngIf",G.phoneInputFlg),_.xp6(1),_.Q6J("ngIf",G.phoneInputFlg),_.xp6(1),_.Q6J("ngIf",G.updateInput),_.xp6(1),_.Q6J("ngIf",G.updateInput),_.xp6(1),_.Q6J("ngIf",G.updateInput),_.xp6(1),_.Q6J("ngIf",G.otpRecaptcha),_.xp6(1),_.Q6J("ngIf",G.phoneInputFlg),_.xp6(1),_.Q6J("ngIf",G.updateInput))},dependencies:[B.O5,J.Fj,J.JJ,J.On],styles:[".modal-content[_ngcontent-%COMP%]{margin-top:150px;position:relative;display:flex;flex-direction:column;width:100%;color:var(--bs-modal-color);pointer-events:auto;background-clip:padding-box;outline:0}.modal-body[_ngcontent-%COMP%]{position:relative;flex:1 1 auto;padding:var(--bs-modal-padding)}.phoneInput[_ngcontent-%COMP%]{padding-left:14%;border-radius:5px;border:solid 1px #3a3a3a;outline:none;height:40px;width:80%;margin-bottom:4%}.InputFirstName[_ngcontent-%COMP%]{padding-left:2%;border-radius:5px;border:solid 1px #3a3a3a;outline:none;height:40px;width:80%;margin-bottom:4%;margin-top:20px}.Inputs[_ngcontent-%COMP%]{padding-left:2%;border-radius:5px;border:solid 1px #3a3a3a;outline:none;height:40px;width:80%;margin-bottom:4%}.popUpHeader[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-right:20px;margin-bottom:20px}.box[_ngcontent-%COMP%]{flex-direction:row;text-align:center;background-color:#fff;padding:25px 10px;border-radius:10px;width:400px;height:100%;box-shadow:0 0 10px #0003}.updateBtn[_ngcontent-%COMP%], .sendOtpBtn[_ngcontent-%COMP%]{background-color:#228be6;color:#fff;margin-top:10px;height:40px;width:80%;padding:5px;border:none;border-radius:5px;cursor:pointer;margin-bottom:5%;transition:background-color .3s ease}.sendOtpBtn[_ngcontent-%COMP%]:disabled{background-color:gray}.otp-input[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin-bottom:20px;margin-top:20px}.phoneCode[_ngcontent-%COMP%]{outline:none;position:absolute;width:40px;height:35px;margin-top:3px;margin-left:5px;text-align:center;padding-bottom:2px;border:none;border-right:solid 1px #3a3a3a}.otp-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:40px;height:40px;margin-right:10px;text-align:center;font-size:16px;border:1px solid #ccc;border-radius:5px}.otp-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:last-child{margin-right:0}.title2[_ngcontent-%COMP%]{color:#228be6;text-decoration:none;font-weight:500;margin-top:2%;font-size:14px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;transition:color .3s ease}.title2[_ngcontent-%COMP%]:hover{color:#08f}.title1[_ngcontent-%COMP%]{margin-bottom:2%;color:gray;font-size:14px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}"]})}return H})();const zn=["loginForm"];function fn(H,v){if(1&H){const y=_.EpF();_.TgZ(0,"i",35),_.NdJ("click",function(){_.CHM(y);const G=_.oxw();return _.KtG(G.togglePasswordVisibility())}),_.qZA()}}function jn(H,v){if(1&H){const y=_.EpF();_.TgZ(0,"i",36),_.NdJ("click",function(){_.CHM(y);const G=_.oxw();return _.KtG(G.togglePasswordVisibility())}),_.qZA()}}const An=function(H){return{display:H}},Xt=function(H){return{"blur-background":H}},_r=[{path:"",redirectTo:"/tasks",pathMatch:"full"},{path:"tasks",loadChildren:()=>F.e(12).then(F.bind(F,5012)).then(H=>H.AdminModule),canActivate:[He]},{path:"login",component:(()=>{class H{constructor(y,R){this.authService=y,this.router=R,this.passwordToggle=!1,this.displayPhoneModal="none"}openModal(){this.displayPhoneModal="flex"}closeModal(){this.displayPhoneModal="none"}login(y){this.loginForm.valid?this.authService.signIn(y.email,y.password,y.rememberMe):alert("Please enter your email and password")}forgotPass(){this.router.navigate(["/forgot-password"])}togglePasswordVisibility(){const y=document.getElementById("password");"password"===y.type?(y.type="text",this.passwordToggle=!1):(y.type="password",this.passwordToggle=!0)}signInWithGoogle(){this.authService.singInWithGoogle()}signInWithGithub(){this.authService.singInWithGithub()}static#e=this.\u0275fac=function(R){return new(R||H)(_.Y36(Ce.e),_.Y36(L.F0))};static#t=this.\u0275cmp=_.Xpm({type:H,selectors:[["app-login"]],viewQuery:function(R,G){if(1&R&&_.Gf(zn,5),2&R){let ne;_.iGM(ne=_.CRH())&&(G.loginForm=ne.first)}},decls:45,vars:8,consts:[[1,"rectangle1"],[1,"pc-login"],[1,"welcomeBack"],[3,"ngSubmit"],["loginForm","ngForm"],["for","exampleInputEmail",1,"username"],["type","email","id","exampleInputEmail","placeholder","Email","name","email","aria-describedby","emailHelp","ngModel","","required","",1,"rectangle2"],["for","exampleInputPassword",1,"password"],[1,"rectangle3"],["type","password","id","exampleInputPassword","placeholder","Password","id","password","name","password","ngModel","","required","",1,"passwordInput"],[1,"passwordIcon"],["class","bx bx-show",3,"click",4,"ngIf"],["class","bx bx-hide",3,"click",4,"ngIf"],[1,"dontHaveAndAccountRegister1"],[1,"labelWrapper1"],["type","checkbox","id","rememberMe","name","rememberMe","ngModel",""],["for","rememberMe",1,"rememberMe"],["href","#forgot-password",1,"forgotPassword"],[1,"dontHaveAndAccountRegister"],[1,"labelWrapper"],[1,"label"],["href","#register",1,"label2"],["type","submit",1,"btn"],[1,"socialMediaIcons"],[3,"click"],["src","assets/google.svg","alt","",1,"icon"],["src","assets/github.svg","alt","",1,"icon"],["data-toggle","modal","data-target","#myPhoneModal",1,"pi","pi-phone","phoneIcon",3,"click"],[1,"rectangle5"],[1,"rectangle6"],["id","myPhoneModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal",3,"ngStyle","ngClass"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-body"],[3,"closeModal"],[1,"bx","bx-show",3,"click"],[1,"bx","bx-hide",3,"click"]],template:function(R,G){if(1&R){const ne=_.EpF();_._UZ(0,"div",0)(1,"div",1),_.TgZ(2,"div",2),_._uU(3,"Welcome Back!"),_.qZA(),_.TgZ(4,"form",3,4),_.NdJ("ngSubmit",function(){_.CHM(ne);const Ne=_.MAs(5);return _.KtG(G.login(Ne.value))}),_.TgZ(6,"label",5),_._uU(7,"Email:"),_.qZA(),_._UZ(8,"input",6),_.TgZ(9,"label",7),_._uU(10,"Password:"),_.qZA(),_.TgZ(11,"div",8),_._UZ(12,"input",9),_.TgZ(13,"div",10),_.YNc(14,fn,1,0,"i",11),_.YNc(15,jn,1,0,"i",12),_.qZA()(),_.TgZ(16,"div",13)(17,"div",14)(18,"div"),_._UZ(19,"input",15),_.TgZ(20,"span",16),_._uU(21,"Remember Me"),_.qZA()(),_.TgZ(22,"a",17),_._uU(23,"Forgot Password"),_.qZA()()(),_.TgZ(24,"div",18)(25,"p",19)(26,"span",20),_._uU(27,"Dont have and account? "),_.qZA(),_.TgZ(28,"a",21),_._uU(29,"Register"),_.qZA()()(),_.TgZ(30,"button",22),_._uU(31,"Login"),_.qZA(),_.TgZ(32,"div",23)(33,"a",24),_.NdJ("click",function(){return G.signInWithGoogle()}),_._UZ(34,"img",25),_.qZA(),_.TgZ(35,"a",24),_.NdJ("click",function(){return G.signInWithGithub()}),_._UZ(36,"img",26),_.qZA(),_.TgZ(37,"i",27),_.NdJ("click",function(){return G.openModal()}),_.qZA()()(),_._UZ(38,"div",28)(39,"div",29),_.TgZ(40,"div",30)(41,"div",31)(42,"div",32)(43,"div",33)(44,"app-phone-auth",34),_.NdJ("closeModal",function(){return G.closeModal()}),_.qZA()()()()()}2&R&&(_.xp6(14),_.Q6J("ngIf",G.passwordToggle),_.xp6(1),_.Q6J("ngIf",!G.passwordToggle),_.xp6(25),_.Q6J("ngStyle",_.VKq(4,An,G.displayPhoneModal))("ngClass",_.VKq(6,Xt,G.displayPhoneModal)))},dependencies:[B.mk,B.O5,B.PC,J._Y,J.Fj,J.Wl,J.JJ,J.JL,J.Q7,J.On,J.F,pn],styles:['[_nghost-%COMP%], *[_ngcontent-%COMP%]{box-sizing:border-box;margin:0;padding:0;background:none;border:none;flex-shrink:0;text-decoration:none;min-width:0;overflow-wrap:anywhere}[_nghost-%COMP%], [_ngcontent-%COMP%]:not(span, a[_ngcontent-%COMP%], ul[_ngcontent-%COMP%], ol[_ngcontent-%COMP%], li[_ngcontent-%COMP%], p)[_ngcontent-%COMP%]{display:flex}ul[_ngcontent-%COMP%], ol[_ngcontent-%COMP%]{text-indent:0;padding-inline-start:1.5em}p[_ngcontent-%COMP%]:empty:before{content:"";display:inline-block}img[_ngcontent-%COMP%]{object-fit:contain}svg[_ngcontent-%COMP%]{overflow:visible}[_nghost-%COMP%]{position:relative;width:100vw;height:100vh;flex-direction:column;align-items:flex-start;background-color:#ebefff;overflow:hidden}.rectangle1[_ngcontent-%COMP%]{position:absolute;left:842px;top:0;width:100%;height:100%;background-color:#228be62f}.socialMediaIcons[_ngcontent-%COMP%]{position:absolute;left:256px;top:530px;width:40px;height:35px;overflow:visible}.icon[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.rectangle2[_ngcontent-%COMP%]{position:absolute;left:122px;top:250px;width:367px;height:40px;padding-left:.8%;outline:solid 1px #3a3a3a;outline-offset:-1px;border-radius:5px;background-color:#afb3ff00}.rectangle28[_ngcontent-%COMP%]{position:absolute;left:122px;top:20px;width:367px;height:40px;padding-left:.8%;outline:solid 1px #3a3a3a;outline-offset:-1px;border-radius:5px;background-color:#afb3ff00}.passwordIcon[_ngcontent-%COMP%]{position:absolute;left:335px;top:14px}.rectangle3[_ngcontent-%COMP%]{position:absolute;left:122px;top:326px;width:367px;height:40px;outline:solid 1px #3a3a3a;outline-offset:-1px;border-radius:5px;background-color:#afb3ff00}.rectangle3[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none;width:90%}.username[_ngcontent-%COMP%]{color:#000;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:122px;top:220px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.dontHaveAndAccountRegister1[_ngcontent-%COMP%]{position:absolute;left:134px;top:382px;width:350px;height:min-content;white-space:nowrap;flex-direction:column}.rememberMe[_ngcontent-%COMP%]{margin-left:6%}.dontHaveAndAccountRegister[_ngcontent-%COMP%]{position:absolute;left:188px;top:480px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.labelWrapper[_ngcontent-%COMP%]{font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;flex-shrink:1;margin-top:6px}.blur-background[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(1px);backdrop-filter:blur(1px);display:flex;align-items:center;justify-content:center;transition:-webkit-backdrop-filter .5s ease;transition:backdrop-filter .5s ease;transition:backdrop-filter .5s ease,-webkit-backdrop-filter .5s ease}.labelWrapper1[_ngcontent-%COMP%]{font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;display:flex;justify-content:space-between;align-items:center;margin-left:-10px}.label[_ngcontent-%COMP%]{color:#000;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}.label2[_ngcontent-%COMP%]{color:#000;font-size:16px;font-weight:500;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}.forgotPassword[_ngcontent-%COMP%]{color:#000;font-size:16px;font-weight:500;margin-left:30%;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}.welcomeBack[_ngcontent-%COMP%]{color:#1a1a1a;font-size:20px;font-weight:700;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:240px;top:165px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.passwordInput[_ngcontent-%COMP%]{padding-left:3.2%}.btn[_ngcontent-%COMP%]{background-color:#228be6;color:#fff;margin-top:10px;border:none;border-radius:5px;cursor:pointer;margin-bottom:5%;transition:background-color .3s ease;justify-content:center;align-items:center;position:absolute;left:124px;top:420px;width:368px;height:40px;font-size:16px;font-weight:500;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif}.phoneIcon[_ngcontent-%COMP%]{font-size:1.5rem;margin-top:6px;margin-left:5px;color:#0079e2;font-weight:700}.modal-content[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;width:100%;color:var(--bs-modal-color);pointer-events:auto;background-clip:padding-box;outline:0}.modal-body[_ngcontent-%COMP%]{position:relative;flex:1 1 auto;padding:var(--bs-modal-padding)}.btn[_ngcontent-%COMP%]:hover{background-color:#08f;color:#fff}.rectangle4[_ngcontent-%COMP%]{position:absolute;left:124px;top:420px;width:365px;height:40px;border-radius:5px;background-color:#228be6;transition:background-color .3s ease}.rectangle4[_ngcontent-%COMP%]:hover{background-color:#08f}.login[_ngcontent-%COMP%]{color:#fff;font-size:16px;font-weight:500;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:285px;top:427px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.password[_ngcontent-%COMP%]{color:#000;font-size:16px;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif;position:absolute;left:124px;top:296px;width:min-content;height:min-content;white-space:nowrap;flex-direction:column}.rectangle5[_ngcontent-%COMP%]{transform-origin:top left;position:absolute;left:-287px;top:912.3164px;width:596.734px;height:141.396px;border-radius:105.5304px;background-color:#228be690;transform:matrix(.7535,-.6574,.6574,.7535,0,0)}.rectangle6[_ngcontent-%COMP%]{transform-origin:top left;position:absolute;left:-252px;top:895.0518px;width:553.7418px;height:131.209px;border-radius:105.5304px;background-color:#2b3a4755;transform:matrix(.7535,-.6574,.6574,.7535,0,0)}.pc-login[_ngcontent-%COMP%]{position:absolute;left:565px;top:-37px;width:600px;height:590px;flex-direction:column;align-items:flex-start;right:0;background-image:url(pc-login.e75ae37e4f5b2e76.svg);background-position:center;background-repeat:no-repeat;background-size:cover}']})}return H})()},{path:"register",component:bt},{path:"verify-email",component:ce},{path:"forgot-password",component:ae}];let Mn=(()=>{class H{static#e=this.\u0275fac=function(R){return new(R||H)};static#t=this.\u0275mod=_.oAB({type:H});static#n=this.\u0275inj=_.cJS({imports:[L.Bz.forRoot(_r,{preloadingStrategy:L.wm}),L.Bz]})}return H})(),Jn=(()=>{class H{constructor(){this.title="tasks"}static#e=this.\u0275fac=function(R){return new(R||H)};static#t=this.\u0275cmp=_.Xpm({type:H,selectors:[["app-root"]],decls:1,vars:0,template:function(R,G){1&R&&_._UZ(0,"router-outlet")},dependencies:[L.lC]})}return H})();var Pr=F(9862),dn=F(6825);function _n(H){return new _.vHH(3e3,!1)}function _e(H){switch(H.length){case 0:return new dn.ZN;case 1:return H[0];default:return new dn.ZE(H)}}function Pe(H,v,y=new Map,R=new Map){const G=[],ne=[];let be=-1,Ne=null;if(v.forEach(Xe=>{const ht=Xe.get("offset"),Tt=ht==be,Yt=Tt&&Ne||new Map;Xe.forEach((Gn,xn)=>{let wn=xn,ot=Gn;if("offset"!==xn)switch(wn=H.normalizePropertyName(wn,G),ot){case dn.k1:ot=y.get(xn);break;case dn.l3:ot=R.get(xn);break;default:ot=H.normalizeStyleValue(xn,wn,ot,G)}Yt.set(wn,ot)}),Tt||ne.push(Yt),Ne=Yt,be=ht}),G.length)throw function re(H){return new _.vHH(3502,!1)}();return ne}function Ee(H,v,y,R){switch(v){case"start":H.onStart(()=>R(y&&Te(y,"start",H)));break;case"done":H.onDone(()=>R(y&&Te(y,"done",H)));break;case"destroy":H.onDestroy(()=>R(y&&Te(y,"destroy",H)))}}function Te(H,v,y){const ne=je(H.element,H.triggerName,H.fromState,H.toState,v||H.phaseName,y.totalTime??H.totalTime,!!y.disabled),be=H._data;return null!=be&&(ne._data=be),ne}function je(H,v,y,R,G="",ne=0,be){return{element:H,triggerName:v,fromState:y,toState:R,phaseName:G,totalTime:ne,disabled:!!be}}function Qe(H,v,y){let R=H.get(v);return R||H.set(v,R=y),R}function Ut(H){const v=H.indexOf(":");return[H.substring(1,v),H.slice(v+1)]}const yt=(()=>typeof document>"u"?null:document.documentElement)();function gn(H){const v=H.parentNode||H.host||null;return v===yt?null:v}let Rn=null,ur=!1;function Rr(H,v){for(;v;){if(v===H)return!0;v=gn(v)}return!1}function ri(H,v,y){if(y)return Array.from(H.querySelectorAll(v));const R=H.querySelector(v);return R?[R]:[]}let Ln=(()=>{class H{validateStyleProperty(y){return function Lr(H){Rn||(Rn=function gr(){return typeof document<"u"?document.body:null}()||{},ur=!!Rn.style&&"WebkitAppearance"in Rn.style);let v=!0;return Rn.style&&!function pr(H){return"ebkit"==H.substring(1,6)}(H)&&(v=H in Rn.style,!v&&ur&&(v="Webkit"+H.charAt(0).toUpperCase()+H.slice(1)in Rn.style)),v}(y)}matchesElement(y,R){return!1}containsElement(y,R){return Rr(y,R)}getParentElement(y){return gn(y)}query(y,R,G){return ri(y,R,G)}computeStyle(y,R,G){return G||""}animate(y,R,G,ne,be,Ne=[],Xe){return new dn.ZN(G,ne)}static#e=this.\u0275fac=function(R){return new(R||H)};static#t=this.\u0275prov=_.Yz7({token:H,factory:H.\u0275fac})}return H})(),yi=(()=>{class H{static#e=this.NOOP=new Ln}return H})();const ds=1e3,Ls="ng-enter",So="ng-leave",ys="ng-trigger",Gr=".ng-trigger",Rs="ng-animating",li=".ng-animating";function Gi(H){if("number"==typeof H)return H;const v=H.match(/^(-?[\.\d]+)(m?s)/);return!v||v.length<2?0:zi(parseFloat(v[1]),v[2])}function zi(H,v){return"s"===v?H*ds:H}function Mi(H,v,y){return H.hasOwnProperty("duration")?H:function ts(H,v,y){let G,ne=0,be="";if("string"==typeof H){const Ne=H.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Ne)return v.push(_n()),{duration:0,delay:0,easing:""};G=zi(parseFloat(Ne[1]),Ne[2]);const Xe=Ne[3];null!=Xe&&(ne=zi(parseFloat(Xe),Ne[4]));const ht=Ne[5];ht&&(be=ht)}else G=H;if(!y){let Ne=!1,Xe=v.length;G<0&&(v.push(function on(){return new _.vHH(3100,!1)}()),Ne=!0),ne<0&&(v.push(function or(){return new _.vHH(3101,!1)}()),Ne=!0),Ne&&v.splice(Xe,0,_n())}return{duration:G,delay:ne,easing:be}}(H,v,y)}function Ci(H,v={}){return Object.keys(H).forEach(y=>{v[y]=H[y]}),v}function sa(H){const v=new Map;return Object.keys(H).forEach(y=>{v.set(y,H[y])}),v}function zr(H,v=new Map,y){if(y)for(let[R,G]of y)v.set(R,G);for(let[R,G]of H)v.set(R,G);return v}function ns(H,v,y){v.forEach((R,G)=>{const ne=Fr(G);y&&!y.has(G)&&y.set(G,H.style[ne]),H.style[ne]=R})}function Wi(H,v){v.forEach((y,R)=>{const G=Fr(R);H.style[G]=""})}function Fs(H){return Array.isArray(H)?1==H.length?H[0]:(0,dn.vP)(H):H}const Qs=new RegExp("{{\\s*(.+?)\\s*}}","g");function vs(H){let v=[];if("string"==typeof H){let y;for(;y=Qs.exec(H);)v.push(y[1]);Qs.lastIndex=0}return v}function Vs(H,v,y){const R=H.toString(),G=R.replace(Qs,(ne,be)=>{let Ne=v[be];return null==Ne&&(y.push(function Ye(H){return new _.vHH(3003,!1)}()),Ne=""),Ne.toString()});return G==R?H:G}function qi(H){const v=[];let y=H.next();for(;!y.done;)v.push(y.value),y=H.next();return v}const Wn=/-+([a-z0-9])/g;function Fr(H){return H.replace(Wn,(...v)=>v[1].toUpperCase())}function hi(H,v,y){switch(v.type){case 7:return H.visitTrigger(v,y);case 0:return H.visitState(v,y);case 1:return H.visitTransition(v,y);case 2:return H.visitSequence(v,y);case 3:return H.visitGroup(v,y);case 4:return H.visitAnimate(v,y);case 5:return H.visitKeyframes(v,y);case 6:return H.visitStyle(v,y);case 8:return H.visitReference(v,y);case 9:return H.visitAnimateChild(v,y);case 10:return H.visitAnimateRef(v,y);case 11:return H.visitQuery(v,y);case 12:return H.visitStagger(v,y);default:throw function St(H){return new _.vHH(3004,!1)}()}}function lo(H,v){return window.getComputedStyle(H)[v]}const qn="*";function fi(H,v){const y=[];return"string"==typeof H?H.split(/\s*,\s*/).forEach(R=>function xs(H,v,y){if(":"==H[0]){const Xe=function qr(H,v){switch(H){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(y,R)=>parseFloat(R)>parseFloat(y);case":decrement":return(y,R)=>parseFloat(R)<parseFloat(y);default:return v.push(function $r(H){return new _.vHH(3016,!1)}()),"* => *"}}(H,y);if("function"==typeof Xe)return void v.push(Xe);H=Xe}const R=H.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==R||R.length<4)return y.push(function Ti(H){return new _.vHH(3015,!1)}()),v;const G=R[1],ne=R[2],be=R[3];v.push(Ui(G,be));"<"==ne[0]&&!(G==qn&&be==qn)&&v.push(Ui(be,G))}(R,y,v)):y.push(H),y}const Di=new Set(["true","1"]),ar=new Set(["false","0"]);function Ui(H,v){const y=Di.has(H)||ar.has(H),R=Di.has(v)||ar.has(v);return(G,ne)=>{let be=H==qn||H==G,Ne=v==qn||v==ne;return!be&&y&&"boolean"==typeof G&&(be=G?Di.has(H):ar.has(H)),!Ne&&R&&"boolean"==typeof ne&&(Ne=ne?Di.has(v):ar.has(v)),be&&Ne}}const Cn=new RegExp("s*:selfs*,?","g");function Ai(H,v,y,R){return new Es(H).build(v,y,R)}class Es{constructor(v){this._driver=v}build(v,y,R){const G=new is(y);return this._resetContextStyleTimingState(G),hi(this,Fs(v),G)}_resetContextStyleTimingState(v){v.currentQuerySelector="",v.collectedStyles=new Map,v.collectedStyles.set("",new Map),v.currentTime=0}visitTrigger(v,y){let R=y.queryCount=0,G=y.depCount=0;const ne=[],be=[];return"@"==v.name.charAt(0)&&y.errors.push(function Ge(){return new _.vHH(3006,!1)}()),v.definitions.forEach(Ne=>{if(this._resetContextStyleTimingState(y),0==Ne.type){const Xe=Ne,ht=Xe.name;ht.toString().split(/\s*,\s*/).forEach(Tt=>{Xe.name=Tt,ne.push(this.visitState(Xe,y))}),Xe.name=ht}else if(1==Ne.type){const Xe=this.visitTransition(Ne,y);R+=Xe.queryCount,G+=Xe.depCount,be.push(Xe)}else y.errors.push(function Ze(){return new _.vHH(3007,!1)}())}),{type:7,name:v.name,states:ne,transitions:be,queryCount:R,depCount:G,options:null}}visitState(v,y){const R=this.visitStyle(v.styles,y),G=v.options&&v.options.params||null;if(R.containsDynamicStyles){const ne=new Set,be=G||{};R.styles.forEach(Ne=>{Ne instanceof Map&&Ne.forEach(Xe=>{vs(Xe).forEach(ht=>{be.hasOwnProperty(ht)||ne.add(ht)})})}),ne.size&&(qi(ne.values()),y.errors.push(function zt(H,v){return new _.vHH(3008,!1)}()))}return{type:0,name:v.name,style:R,options:G?{params:G}:null}}visitTransition(v,y){y.queryCount=0,y.depCount=0;const R=hi(this,Fs(v.animation),y);return{type:1,matchers:fi(v.expr,y.errors),animation:R,queryCount:y.queryCount,depCount:y.depCount,options:er(v.options)}}visitSequence(v,y){return{type:2,steps:v.steps.map(R=>hi(this,R,y)),options:er(v.options)}}visitGroup(v,y){const R=y.currentTime;let G=0;const ne=v.steps.map(be=>{y.currentTime=R;const Ne=hi(this,be,y);return G=Math.max(G,y.currentTime),Ne});return y.currentTime=G,{type:3,steps:ne,options:er(v.options)}}visitAnimate(v,y){const R=function uo(H,v){if(H.hasOwnProperty("duration"))return H;if("number"==typeof H)return xi(Mi(H,v).duration,0,"");const y=H;if(y.split(/\s+/).some(ne=>"{"==ne.charAt(0)&&"{"==ne.charAt(1))){const ne=xi(0,0,"");return ne.dynamic=!0,ne.strValue=y,ne}const G=Mi(y,v);return xi(G.duration,G.delay,G.easing)}(v.timings,y.errors);y.currentAnimateTimings=R;let G,ne=v.styles?v.styles:(0,dn.oB)({});if(5==ne.type)G=this.visitKeyframes(ne,y);else{let be=v.styles,Ne=!1;if(!be){Ne=!0;const ht={};R.easing&&(ht.easing=R.easing),be=(0,dn.oB)(ht)}y.currentTime+=R.duration+R.delay;const Xe=this.visitStyle(be,y);Xe.isEmptyStep=Ne,G=Xe}return y.currentAnimateTimings=null,{type:4,timings:R,style:G,options:null}}visitStyle(v,y){const R=this._makeStyleAst(v,y);return this._validateStyleAst(R,y),R}_makeStyleAst(v,y){const R=[],G=Array.isArray(v.styles)?v.styles:[v.styles];for(let Ne of G)"string"==typeof Ne?Ne===dn.l3?R.push(Ne):y.errors.push(new _.vHH(3002,!1)):R.push(sa(Ne));let ne=!1,be=null;return R.forEach(Ne=>{if(Ne instanceof Map&&(Ne.has("easing")&&(be=Ne.get("easing"),Ne.delete("easing")),!ne))for(let Xe of Ne.values())if(Xe.toString().indexOf("{{")>=0){ne=!0;break}}),{type:6,styles:R,easing:be,offset:v.offset,containsDynamicStyles:ne,options:null}}_validateStyleAst(v,y){const R=y.currentAnimateTimings;let G=y.currentTime,ne=y.currentTime;R&&ne>0&&(ne-=R.duration+R.delay),v.styles.forEach(be=>{"string"!=typeof be&&be.forEach((Ne,Xe)=>{const ht=y.collectedStyles.get(y.currentQuerySelector),Tt=ht.get(Xe);let Yt=!0;Tt&&(ne!=G&&ne>=Tt.startTime&&G<=Tt.endTime&&(y.errors.push(function yn(H,v,y,R,G){return new _.vHH(3010,!1)}()),Yt=!1),ne=Tt.startTime),Yt&&ht.set(Xe,{startTime:ne,endTime:G}),y.options&&function ao(H,v,y){const R=v.params||{},G=vs(H);G.length&&G.forEach(ne=>{R.hasOwnProperty(ne)||y.push(function Ir(H){return new _.vHH(3001,!1)}())})}(Ne,y.options,y.errors)})})}visitKeyframes(v,y){const R={type:5,styles:[],options:null};if(!y.currentAnimateTimings)return y.errors.push(function jr(){return new _.vHH(3011,!1)}()),R;let ne=0;const be=[];let Ne=!1,Xe=!1,ht=0;const Tt=v.steps.map(Qt=>{const mi=this._makeStyleAst(Qt,y);let Bt=null!=mi.offset?mi.offset:function vi(H){if("string"==typeof H)return null;let v=null;if(Array.isArray(H))H.forEach(y=>{if(y instanceof Map&&y.has("offset")){const R=y;v=parseFloat(R.get("offset")),R.delete("offset")}});else if(H instanceof Map&&H.has("offset")){const y=H;v=parseFloat(y.get("offset")),y.delete("offset")}return v}(mi.styles),Ht=0;return null!=Bt&&(ne++,Ht=mi.offset=Bt),Xe=Xe||Ht<0||Ht>1,Ne=Ne||Ht<ht,ht=Ht,be.push(Ht),mi});Xe&&y.errors.push(function di(){return new _.vHH(3012,!1)}()),Ne&&y.errors.push(function kn(){return new _.vHH(3200,!1)}());const Yt=v.steps.length;let Gn=0;ne>0&&ne<Yt?y.errors.push(function Ar(){return new _.vHH(3202,!1)}()):0==ne&&(Gn=1/(Yt-1));const xn=Yt-1,wn=y.currentTime,ot=y.currentAnimateTimings,Fn=ot.duration;return Tt.forEach((Qt,mi)=>{const Bt=Gn>0?mi==xn?1:Gn*mi:be[mi],Ht=Bt*Fn;y.currentTime=wn+ot.delay+Ht,ot.duration=Ht,this._validateStyleAst(Qt,y),Qt.offset=Bt,R.styles.push(Qt)}),R}visitReference(v,y){return{type:8,animation:hi(this,Fs(v.animation),y),options:er(v.options)}}visitAnimateChild(v,y){return y.depCount++,{type:9,options:er(v.options)}}visitAnimateRef(v,y){return{type:10,animation:this.visitReference(v.animation,y),options:er(v.options)}}visitQuery(v,y){const R=y.currentQuerySelector,G=v.options||{};y.queryCount++,y.currentQuery=v;const[ne,be]=function Er(H){const v=!!H.split(/\s*,\s*/).find(y=>":self"==y);return v&&(H=H.replace(Cn,"")),H=H.replace(/@\*/g,Gr).replace(/@\w+/g,y=>Gr+"-"+y.slice(1)).replace(/:animating/g,li),[H,v]}(v.selector);y.currentQuerySelector=R.length?R+" "+ne:ne,Qe(y.collectedStyles,y.currentQuerySelector,new Map);const Ne=hi(this,Fs(v.animation),y);return y.currentQuery=null,y.currentQuerySelector=R,{type:11,selector:ne,limit:G.limit||0,optional:!!G.optional,includeSelf:be,animation:Ne,originalSelector:v.selector,options:er(v.options)}}visitStagger(v,y){y.currentQuery||y.errors.push(function oi(){return new _.vHH(3013,!1)}());const R="full"===v.timings?{duration:0,delay:0,easing:"full"}:Mi(v.timings,y.errors,!0);return{type:12,animation:hi(this,Fs(v.animation),y),timings:R,options:null}}}class is{constructor(v){this.errors=v,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function er(H){return H?(H=Ci(H)).params&&(H.params=function Jr(H){return H?Ci(H):null}(H.params)):H={},H}function xi(H,v,y){return{duration:H,delay:v,easing:y}}function Br(H,v,y,R,G,ne,be=null,Ne=!1){return{type:1,element:H,keyframes:v,preStyleProps:y,postStyleProps:R,duration:G,delay:ne,totalTime:G+ne,easing:be,subTimeline:Ne}}class Bi{constructor(){this._map=new Map}get(v){return this._map.get(v)||[]}append(v,y){let R=this._map.get(v);R||this._map.set(v,R=[]),R.push(...y)}has(v){return this._map.has(v)}clear(){this._map.clear()}}const Ys=new RegExp(":enter","g"),jo=new RegExp(":leave","g");function pi(H,v,y,R,G,ne=new Map,be=new Map,Ne,Xe,ht=[]){return(new ho).buildKeyframes(H,v,y,R,G,ne,be,Ne,Xe,ht)}class ho{buildKeyframes(v,y,R,G,ne,be,Ne,Xe,ht,Tt=[]){ht=ht||new Bi;const Yt=new Si(v,y,ht,G,ne,Tt,[]);Yt.options=Xe;const Gn=Xe.delay?Gi(Xe.delay):0;Yt.currentTimeline.delayNextStep(Gn),Yt.currentTimeline.setStyles([be],null,Yt.errors,Xe),hi(this,R,Yt);const xn=Yt.timelines.filter(wn=>wn.containsAnimation());if(xn.length&&Ne.size){let wn;for(let ot=xn.length-1;ot>=0;ot--){const Fn=xn[ot];if(Fn.element===y){wn=Fn;break}}wn&&!wn.allowOnlyTimelineStyles()&&wn.setStyles([Ne],null,Yt.errors,Xe)}return xn.length?xn.map(wn=>wn.buildKeyframes()):[Br(y,[],[],[],0,Gn,"",!1)]}visitTrigger(v,y){}visitState(v,y){}visitTransition(v,y){}visitAnimateChild(v,y){const R=y.subInstructions.get(y.element);if(R){const G=y.createSubContext(v.options),ne=y.currentTimeline.currentTime,be=this._visitSubInstructions(R,G,G.options);ne!=be&&y.transformIntoNewTimeline(be)}y.previousNode=v}visitAnimateRef(v,y){const R=y.createSubContext(v.options);R.transformIntoNewTimeline(),this._applyAnimationRefDelays([v.options,v.animation.options],y,R),this.visitReference(v.animation,R),y.transformIntoNewTimeline(R.currentTimeline.currentTime),y.previousNode=v}_applyAnimationRefDelays(v,y,R){for(const G of v){const ne=G?.delay;if(ne){const be="number"==typeof ne?ne:Gi(Vs(ne,G?.params??{},y.errors));R.delayNextStep(be)}}}_visitSubInstructions(v,y,R){let ne=y.currentTimeline.currentTime;const be=null!=R.duration?Gi(R.duration):null,Ne=null!=R.delay?Gi(R.delay):null;return 0!==be&&v.forEach(Xe=>{const ht=y.appendInstructionToTimeline(Xe,be,Ne);ne=Math.max(ne,ht.duration+ht.delay)}),ne}visitReference(v,y){y.updateOptions(v.options,!0),hi(this,v.animation,y),y.previousNode=v}visitSequence(v,y){const R=y.subContextCount;let G=y;const ne=v.options;if(ne&&(ne.params||ne.delay)&&(G=y.createSubContext(ne),G.transformIntoNewTimeline(),null!=ne.delay)){6==G.previousNode.type&&(G.currentTimeline.snapshotCurrentStyles(),G.previousNode=gi);const be=Gi(ne.delay);G.delayNextStep(be)}v.steps.length&&(v.steps.forEach(be=>hi(this,be,G)),G.currentTimeline.applyStylesToKeyframe(),G.subContextCount>R&&G.transformIntoNewTimeline()),y.previousNode=v}visitGroup(v,y){const R=[];let G=y.currentTimeline.currentTime;const ne=v.options&&v.options.delay?Gi(v.options.delay):0;v.steps.forEach(be=>{const Ne=y.createSubContext(v.options);ne&&Ne.delayNextStep(ne),hi(this,be,Ne),G=Math.max(G,Ne.currentTimeline.currentTime),R.push(Ne.currentTimeline)}),R.forEach(be=>y.currentTimeline.mergeTimelineCollectedStyles(be)),y.transformIntoNewTimeline(G),y.previousNode=v}_visitTiming(v,y){if(v.dynamic){const R=v.strValue;return Mi(y.params?Vs(R,y.params,y.errors):R,y.errors)}return{duration:v.duration,delay:v.delay,easing:v.easing}}visitAnimate(v,y){const R=y.currentAnimateTimings=this._visitTiming(v.timings,y),G=y.currentTimeline;R.delay&&(y.incrementTime(R.delay),G.snapshotCurrentStyles());const ne=v.style;5==ne.type?this.visitKeyframes(ne,y):(y.incrementTime(R.duration),this.visitStyle(ne,y),G.applyStylesToKeyframe()),y.currentAnimateTimings=null,y.previousNode=v}visitStyle(v,y){const R=y.currentTimeline,G=y.currentAnimateTimings;!G&&R.hasCurrentStyleProperties()&&R.forwardFrame();const ne=G&&G.easing||v.easing;v.isEmptyStep?R.applyEmptyStep(ne):R.setStyles(v.styles,ne,y.errors,y.options),y.previousNode=v}visitKeyframes(v,y){const R=y.currentAnimateTimings,G=y.currentTimeline.duration,ne=R.duration,Ne=y.createSubContext().currentTimeline;Ne.easing=R.easing,v.styles.forEach(Xe=>{Ne.forwardTime((Xe.offset||0)*ne),Ne.setStyles(Xe.styles,Xe.easing,y.errors,y.options),Ne.applyStylesToKeyframe()}),y.currentTimeline.mergeTimelineCollectedStyles(Ne),y.transformIntoNewTimeline(G+ne),y.previousNode=v}visitQuery(v,y){const R=y.currentTimeline.currentTime,G=v.options||{},ne=G.delay?Gi(G.delay):0;ne&&(6===y.previousNode.type||0==R&&y.currentTimeline.hasCurrentStyleProperties())&&(y.currentTimeline.snapshotCurrentStyles(),y.previousNode=gi);let be=R;const Ne=y.invokeQuery(v.selector,v.originalSelector,v.limit,v.includeSelf,!!G.optional,y.errors);y.currentQueryTotal=Ne.length;let Xe=null;Ne.forEach((ht,Tt)=>{y.currentQueryIndex=Tt;const Yt=y.createSubContext(v.options,ht);ne&&Yt.delayNextStep(ne),ht===y.element&&(Xe=Yt.currentTimeline),hi(this,v.animation,Yt),Yt.currentTimeline.applyStylesToKeyframe(),be=Math.max(be,Yt.currentTimeline.currentTime)}),y.currentQueryIndex=0,y.currentQueryTotal=0,y.transformIntoNewTimeline(be),Xe&&(y.currentTimeline.mergeTimelineCollectedStyles(Xe),y.currentTimeline.snapshotCurrentStyles()),y.previousNode=v}visitStagger(v,y){const R=y.parentContext,G=y.currentTimeline,ne=v.timings,be=Math.abs(ne.duration),Ne=be*(y.currentQueryTotal-1);let Xe=be*y.currentQueryIndex;switch(ne.duration<0?"reverse":ne.easing){case"reverse":Xe=Ne-Xe;break;case"full":Xe=R.currentStaggerTime}const Tt=y.currentTimeline;Xe&&Tt.delayNextStep(Xe);const Yt=Tt.currentTime;hi(this,v.animation,y),y.previousNode=v,R.currentStaggerTime=G.currentTime-Yt+(G.startTime-R.currentTimeline.startTime)}}const gi={};class Si{constructor(v,y,R,G,ne,be,Ne,Xe){this._driver=v,this.element=y,this.subInstructions=R,this._enterClassName=G,this._leaveClassName=ne,this.errors=be,this.timelines=Ne,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=gi,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Xe||new xr(this._driver,y,0),Ne.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(v,y){if(!v)return;const R=v;let G=this.options;null!=R.duration&&(G.duration=Gi(R.duration)),null!=R.delay&&(G.delay=Gi(R.delay));const ne=R.params;if(ne){let be=G.params;be||(be=this.options.params={}),Object.keys(ne).forEach(Ne=>{(!y||!be.hasOwnProperty(Ne))&&(be[Ne]=Vs(ne[Ne],be,this.errors))})}}_copyOptions(){const v={};if(this.options){const y=this.options.params;if(y){const R=v.params={};Object.keys(y).forEach(G=>{R[G]=y[G]})}}return v}createSubContext(v=null,y,R){const G=y||this.element,ne=new Si(this._driver,G,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(G,R||0));return ne.previousNode=this.previousNode,ne.currentAnimateTimings=this.currentAnimateTimings,ne.options=this._copyOptions(),ne.updateOptions(v),ne.currentQueryIndex=this.currentQueryIndex,ne.currentQueryTotal=this.currentQueryTotal,ne.parentContext=this,this.subContextCount++,ne}transformIntoNewTimeline(v){return this.previousNode=gi,this.currentTimeline=this.currentTimeline.fork(this.element,v),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(v,y,R){const G={duration:y??v.duration,delay:this.currentTimeline.currentTime+(R??0)+v.delay,easing:""},ne=new Po(this._driver,v.element,v.keyframes,v.preStyleProps,v.postStyleProps,G,v.stretchStartingKeyframe);return this.timelines.push(ne),G}incrementTime(v){this.currentTimeline.forwardTime(this.currentTimeline.duration+v)}delayNextStep(v){v>0&&this.currentTimeline.delayNextStep(v)}invokeQuery(v,y,R,G,ne,be){let Ne=[];if(G&&Ne.push(this.element),v.length>0){v=(v=v.replace(Ys,"."+this._enterClassName)).replace(jo,"."+this._leaveClassName);let ht=this._driver.query(this.element,v,1!=R);0!==R&&(ht=R<0?ht.slice(ht.length+R,ht.length):ht.slice(0,R)),Ne.push(...ht)}return!ne&&0==Ne.length&&be.push(function ai(H){return new _.vHH(3014,!1)}()),Ne}}class xr{constructor(v,y,R,G){this._driver=v,this.element=y,this.startTime=R,this._elementTimelineStylesLookup=G,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(y),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(y,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(v){const y=1===this._keyframes.size&&this._pendingStyles.size;this.duration||y?(this.forwardTime(this.currentTime+v),y&&this.snapshotCurrentStyles()):this.startTime+=v}fork(v,y){return this.applyStylesToKeyframe(),new xr(this._driver,v,y||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(v){this.applyStylesToKeyframe(),this.duration=v,this._loadKeyframe()}_updateStyle(v,y){this._localTimelineStyles.set(v,y),this._globalTimelineStyles.set(v,y),this._styleSummary.set(v,{time:this.currentTime,value:y})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(v){v&&this._previousKeyframe.set("easing",v);for(let[y,R]of this._globalTimelineStyles)this._backFill.set(y,R||dn.l3),this._currentKeyframe.set(y,dn.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(v,y,R,G){y&&this._previousKeyframe.set("easing",y);const ne=G&&G.params||{},be=function Mr(H,v){const y=new Map;let R;return H.forEach(G=>{if("*"===G){R=R||v.keys();for(let ne of R)y.set(ne,dn.l3)}else zr(G,y)}),y}(v,this._globalTimelineStyles);for(let[Ne,Xe]of be){const ht=Vs(Xe,ne,R);this._pendingStyles.set(Ne,ht),this._localTimelineStyles.has(Ne)||this._backFill.set(Ne,this._globalTimelineStyles.get(Ne)??dn.l3),this._updateStyle(Ne,ht)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((v,y)=>{this._currentKeyframe.set(y,v)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((v,y)=>{this._currentKeyframe.has(y)||this._currentKeyframe.set(y,v)}))}snapshotCurrentStyles(){for(let[v,y]of this._localTimelineStyles)this._pendingStyles.set(v,y),this._updateStyle(v,y)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const v=[];for(let y in this._currentKeyframe)v.push(y);return v}mergeTimelineCollectedStyles(v){v._styleSummary.forEach((y,R)=>{const G=this._styleSummary.get(R);(!G||y.time>G.time)&&this._updateStyle(R,y.value)})}buildKeyframes(){this.applyStylesToKeyframe();const v=new Set,y=new Set,R=1===this._keyframes.size&&0===this.duration;let G=[];this._keyframes.forEach((Ne,Xe)=>{const ht=zr(Ne,new Map,this._backFill);ht.forEach((Tt,Yt)=>{Tt===dn.k1?v.add(Yt):Tt===dn.l3&&y.add(Yt)}),R||ht.set("offset",Xe/this.duration),G.push(ht)});const ne=v.size?qi(v.values()):[],be=y.size?qi(y.values()):[];if(R){const Ne=G[0],Xe=new Map(Ne);Ne.set("offset",0),Xe.set("offset",1),G=[Ne,Xe]}return Br(this.element,G,ne,be,this.duration,this.startTime,this.easing,!1)}}class Po extends xr{constructor(v,y,R,G,ne,be,Ne=!1){super(v,y,be.delay),this.keyframes=R,this.preStyleProps=G,this.postStyleProps=ne,this._stretchStartingKeyframe=Ne,this.timings={duration:be.duration,delay:be.delay,easing:be.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let v=this.keyframes,{delay:y,duration:R,easing:G}=this.timings;if(this._stretchStartingKeyframe&&y){const ne=[],be=R+y,Ne=y/be,Xe=zr(v[0]);Xe.set("offset",0),ne.push(Xe);const ht=zr(v[0]);ht.set("offset",Kr(Ne)),ne.push(ht);const Tt=v.length-1;for(let Yt=1;Yt<=Tt;Yt++){let Gn=zr(v[Yt]);const xn=Gn.get("offset");Gn.set("offset",Kr((y+xn*R)/be)),ne.push(Gn)}R=be,y=0,G="",v=ne}return Br(this.element,v,this.preStyleProps,this.postStyleProps,R,y,G,!0)}}function Kr(H,v=3){const y=Math.pow(10,v-1);return Math.round(H*y)/y}class Hi{}const ps=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class fo extends Hi{normalizePropertyName(v,y){return Fr(v)}normalizeStyleValue(v,y,R,G){let ne="";const be=R.toString().trim();if(ps.has(y)&&0!==R&&"0"!==R)if("number"==typeof R)ne="px";else{const Ne=R.match(/^[+-]?[\d\.]+([a-z]*)$/);Ne&&0==Ne[1].length&&G.push(function Re(H,v){return new _.vHH(3005,!1)}())}return be+ne}}function Mo(H,v,y,R,G,ne,be,Ne,Xe,ht,Tt,Yt,Gn){return{type:0,element:H,triggerName:v,isRemovalTransition:G,fromState:y,fromStyles:ne,toState:R,toStyles:be,timelines:Ne,queriedElements:Xe,preStyleProps:ht,postStyleProps:Tt,totalTime:Yt,errors:Gn}}const Us={};class ua{constructor(v,y,R){this._triggerName=v,this.ast=y,this._stateStyles=R}match(v,y,R,G){return function po(H,v,y,R,G){return H.some(ne=>ne(v,y,R,G))}(this.ast.matchers,v,y,R,G)}buildStyles(v,y,R){let G=this._stateStyles.get("*");return void 0!==v&&(G=this._stateStyles.get(v?.toString())||G),G?G.buildStyles(y,R):new Map}build(v,y,R,G,ne,be,Ne,Xe,ht,Tt){const Yt=[],Gn=this.ast.options&&this.ast.options.params||Us,wn=this.buildStyles(R,Ne&&Ne.params||Us,Yt),ot=Xe&&Xe.params||Us,Fn=this.buildStyles(G,ot,Yt),Qt=new Set,mi=new Map,Bt=new Map,Ht="void"===G,No={params:ea(ot,Gn),delay:this.ast.options?.delay},Lt=Tt?[]:pi(v,y,this.ast.animation,ne,be,wn,Fn,No,ht,Yt);let et=0;if(Lt.forEach(Vr=>{et=Math.max(Vr.duration+Vr.delay,et)}),Yt.length)return Mo(y,this._triggerName,R,G,Ht,wn,Fn,[],[],mi,Bt,et,Yt);Lt.forEach(Vr=>{const Io=Vr.element,Pa=Qe(mi,Io,new Set);Vr.preStyleProps.forEach(ko=>Pa.add(ko));const Ga=Qe(Bt,Io,new Set);Vr.postStyleProps.forEach(ko=>Ga.add(ko)),Io!==y&&Qt.add(Io)});const mt=qi(Qt.values());return Mo(y,this._triggerName,R,G,Ht,wn,Fn,Lt,mt,mi,Bt,et)}}function ea(H,v){const y=Ci(v);for(const R in H)H.hasOwnProperty(R)&&null!=H[R]&&(y[R]=H[R]);return y}class Ba{constructor(v,y,R){this.styles=v,this.defaultParams=y,this.normalizer=R}buildStyles(v,y){const R=new Map,G=Ci(this.defaultParams);return Object.keys(v).forEach(ne=>{const be=v[ne];null!==be&&(G[ne]=be)}),this.styles.styles.forEach(ne=>{"string"!=typeof ne&&ne.forEach((be,Ne)=>{be&&(be=Vs(be,G,y));const Xe=this.normalizer.normalizePropertyName(Ne,y);be=this.normalizer.normalizeStyleValue(Ne,Xe,be,y),R.set(Ne,be)})}),R}}class Tr{constructor(v,y,R){this.name=v,this.ast=y,this._normalizer=R,this.transitionFactories=[],this.states=new Map,y.states.forEach(G=>{this.states.set(G.name,new Ba(G.style,G.options&&G.options.params||{},R))}),ca(this.states,"true","1"),ca(this.states,"false","0"),y.transitions.forEach(G=>{this.transitionFactories.push(new ua(v,G,this.states))}),this.fallbackTransition=function Bs(H,v,y){return new ua(H,{type:1,animation:{type:2,steps:[],options:null},matchers:[(be,Ne)=>!0],options:null,queryCount:0,depCount:0},v)}(v,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(v,y,R,G){return this.transitionFactories.find(be=>be.match(v,y,R,G))||null}matchStyles(v,y,R){return this.fallbackTransition.buildStyles(v,y,R)}}function ca(H,v,y){H.has(v)?H.has(y)||H.set(y,H.get(v)):H.has(y)&&H.set(v,H.get(y))}const z=new Bi;class K{constructor(v,y,R){this.bodyNode=v,this._driver=y,this._normalizer=R,this._animations=new Map,this._playersById=new Map,this.players=[]}register(v,y){const R=[],ne=Ai(this._driver,y,R,[]);if(R.length)throw function $(H){return new _.vHH(3503,!1)}();this._animations.set(v,ne)}_buildPlayer(v,y,R){const G=v.element,ne=Pe(this._normalizer,v.keyframes,y,R);return this._driver.animate(G,ne,v.duration,v.delay,v.easing,[],!0)}create(v,y,R={}){const G=[],ne=this._animations.get(v);let be;const Ne=new Map;if(ne?(be=pi(this._driver,y,ne,Ls,So,new Map,new Map,R,z,G),be.forEach(Tt=>{const Yt=Qe(Ne,Tt.element,new Map);Tt.postStyleProps.forEach(Gn=>Yt.set(Gn,null))})):(G.push(function k(){return new _.vHH(3300,!1)}()),be=[]),G.length)throw function N(H){return new _.vHH(3504,!1)}();Ne.forEach((Tt,Yt)=>{Tt.forEach((Gn,xn)=>{Tt.set(xn,this._driver.computeStyle(Yt,xn,dn.l3))})});const ht=_e(be.map(Tt=>{const Yt=Ne.get(Tt.element);return this._buildPlayer(Tt,new Map,Yt)}));return this._playersById.set(v,ht),ht.onDestroy(()=>this.destroy(v)),this.players.push(ht),ht}destroy(v){const y=this._getPlayer(v);y.destroy(),this._playersById.delete(v);const R=this.players.indexOf(y);R>=0&&this.players.splice(R,1)}_getPlayer(v){const y=this._playersById.get(v);if(!y)throw function de(H){return new _.vHH(3301,!1)}();return y}listen(v,y,R,G){const ne=je(y,"","","");return Ee(this._getPlayer(v),R,ne,G),()=>{}}command(v,y,R,G){if("register"==R)return void this.register(v,G[0]);if("create"==R)return void this.create(v,y,G[0]||{});const ne=this._getPlayer(v);switch(R){case"play":ne.play();break;case"pause":ne.pause();break;case"reset":ne.reset();break;case"restart":ne.restart();break;case"finish":ne.finish();break;case"init":ne.init();break;case"setPosition":ne.setPosition(parseFloat(G[0]));break;case"destroy":this.destroy(v)}}}const x="ng-animate-queued",xe="ng-animate-disabled",Ts=[],Ni={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},go={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Xr="__ng_removed";class ki{get params(){return this.options.params}constructor(v,y=""){this.namespaceId=y;const R=v&&v.hasOwnProperty("value");if(this.value=function _o(H){return H??null}(R?v.value:v),R){const ne=Ci(v);delete ne.value,this.options=ne}else this.options={};this.options.params||(this.options.params={})}absorbOptions(v){const y=v.params;if(y){const R=this.options.params;Object.keys(y).forEach(G=>{null==R[G]&&(R[G]=y[G])})}}}const Cs="void",da=new ki(Cs);class Hr{constructor(v,y,R){this.id=v,this.hostElement=y,this._engine=R,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+v,ji(y,this._hostClassName)}listen(v,y,R,G){if(!this._triggers.has(y))throw function Ve(H,v){return new _.vHH(3302,!1)}();if(null==R||0==R.length)throw function pt(H){return new _.vHH(3303,!1)}();if(!function Js(H){return"start"==H||"done"==H}(R))throw function Dt(H,v){return new _.vHH(3400,!1)}();const ne=Qe(this._elementListeners,v,[]),be={name:y,phase:R,callback:G};ne.push(be);const Ne=Qe(this._engine.statesByElement,v,new Map);return Ne.has(y)||(ji(v,ys),ji(v,ys+"-"+y),Ne.set(y,da)),()=>{this._engine.afterFlush(()=>{const Xe=ne.indexOf(be);Xe>=0&&ne.splice(Xe,1),this._triggers.has(y)||Ne.delete(y)})}}register(v,y){return!this._triggers.has(v)&&(this._triggers.set(v,y),!0)}_getTrigger(v){const y=this._triggers.get(v);if(!y)throw function jt(H){return new _.vHH(3401,!1)}();return y}trigger(v,y,R,G=!0){const ne=this._getTrigger(y),be=new Zi(this.id,y,v);let Ne=this._engine.statesByElement.get(v);Ne||(ji(v,ys),ji(v,ys+"-"+y),this._engine.statesByElement.set(v,Ne=new Map));let Xe=Ne.get(y);const ht=new ki(R,this.id);if(!(R&&R.hasOwnProperty("value"))&&Xe&&ht.absorbOptions(Xe.options),Ne.set(y,ht),Xe||(Xe=da),ht.value!==Cs&&Xe.value===ht.value){if(!function Hs(H,v){const y=Object.keys(H),R=Object.keys(v);if(y.length!=R.length)return!1;for(let G=0;G<y.length;G++){const ne=y[G];if(!v.hasOwnProperty(ne)||H[ne]!==v[ne])return!1}return!0}(Xe.params,ht.params)){const ot=[],Fn=ne.matchStyles(Xe.value,Xe.params,ot),Qt=ne.matchStyles(ht.value,ht.params,ot);ot.length?this._engine.reportError(ot):this._engine.afterFlush(()=>{Wi(v,Fn),ns(v,Qt)})}return}const Gn=Qe(this._engine.playersByElement,v,[]);Gn.forEach(ot=>{ot.namespaceId==this.id&&ot.triggerName==y&&ot.queued&&ot.destroy()});let xn=ne.matchTransition(Xe.value,ht.value,v,ht.params),wn=!1;if(!xn){if(!G)return;xn=ne.fallbackTransition,wn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:v,triggerName:y,transition:xn,fromState:Xe,toState:ht,player:be,isFallbackTransition:wn}),wn||(ji(v,x),be.onStart(()=>{yo(v,x)})),be.onDone(()=>{let ot=this.players.indexOf(be);ot>=0&&this.players.splice(ot,1);const Fn=this._engine.playersByElement.get(v);if(Fn){let Qt=Fn.indexOf(be);Qt>=0&&Fn.splice(Qt,1)}}),this.players.push(be),Gn.push(be),be}deregister(v){this._triggers.delete(v),this._engine.statesByElement.forEach(y=>y.delete(v)),this._elementListeners.forEach((y,R)=>{this._elementListeners.set(R,y.filter(G=>G.name!=v))})}clearElementCache(v){this._engine.statesByElement.delete(v),this._elementListeners.delete(v);const y=this._engine.playersByElement.get(v);y&&(y.forEach(R=>R.destroy()),this._engine.playersByElement.delete(v))}_signalRemovalForInnerTriggers(v,y){const R=this._engine.driver.query(v,Gr,!0);R.forEach(G=>{if(G[Xr])return;const ne=this._engine.fetchNamespacesByElement(G);ne.size?ne.forEach(be=>be.triggerLeaveAnimation(G,y,!1,!0)):this.clearElementCache(G)}),this._engine.afterFlushAnimationsDone(()=>R.forEach(G=>this.clearElementCache(G)))}triggerLeaveAnimation(v,y,R,G){const ne=this._engine.statesByElement.get(v),be=new Map;if(ne){const Ne=[];if(ne.forEach((Xe,ht)=>{if(be.set(ht,Xe.value),this._triggers.has(ht)){const Tt=this.trigger(v,ht,Cs,G);Tt&&Ne.push(Tt)}}),Ne.length)return this._engine.markElementAsRemoved(this.id,v,!0,y,be),R&&_e(Ne).onDone(()=>this._engine.processLeaveNode(v)),!0}return!1}prepareLeaveAnimationListeners(v){const y=this._elementListeners.get(v),R=this._engine.statesByElement.get(v);if(y&&R){const G=new Set;y.forEach(ne=>{const be=ne.name;if(G.has(be))return;G.add(be);const Xe=this._triggers.get(be).fallbackTransition,ht=R.get(be)||da,Tt=new ki(Cs),Yt=new Zi(this.id,be,v);this._engine.totalQueuedPlayers++,this._queue.push({element:v,triggerName:be,transition:Xe,fromState:ht,toState:Tt,player:Yt,isFallbackTransition:!0})})}}removeNode(v,y){const R=this._engine;if(v.childElementCount&&this._signalRemovalForInnerTriggers(v,y),this.triggerLeaveAnimation(v,y,!0))return;let G=!1;if(R.totalAnimations){const ne=R.players.length?R.playersByQueriedElement.get(v):[];if(ne&&ne.length)G=!0;else{let be=v;for(;be=be.parentNode;)if(R.statesByElement.get(be)){G=!0;break}}}if(this.prepareLeaveAnimationListeners(v),G)R.markElementAsRemoved(this.id,v,!1,y);else{const ne=v[Xr];(!ne||ne===Ni)&&(R.afterFlush(()=>this.clearElementCache(v)),R.destroyInnerAnimations(v),R._onRemovalComplete(v,y))}}insertNode(v,y){ji(v,this._hostClassName)}drainQueuedTransitions(v){const y=[];return this._queue.forEach(R=>{const G=R.player;if(G.destroyed)return;const ne=R.element,be=this._elementListeners.get(ne);be&&be.forEach(Ne=>{if(Ne.name==R.triggerName){const Xe=je(ne,R.triggerName,R.fromState.value,R.toState.value);Xe._data=v,Ee(R.player,Ne.phase,Xe,Ne.callback)}}),G.markedForDestroy?this._engine.afterFlush(()=>{G.destroy()}):y.push(R)}),this._queue=[],y.sort((R,G)=>{const ne=R.transition.ast.depCount,be=G.transition.ast.depCount;return 0==ne||0==be?ne-be:this._engine.driver.containsElement(R.element,G.element)?1:-1})}destroy(v){this.players.forEach(y=>y.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,v)}}class mo{_onRemovalComplete(v,y){this.onRemovalComplete(v,y)}constructor(v,y,R){this.bodyNode=v,this.driver=y,this._normalizer=R,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(G,ne)=>{}}get queuedPlayers(){const v=[];return this._namespaceList.forEach(y=>{y.players.forEach(R=>{R.queued&&v.push(R)})}),v}createNamespace(v,y){const R=new Hr(v,y,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,y)?this._balanceNamespaceList(R,y):(this.newHostElements.set(y,R),this.collectEnterElement(y)),this._namespaceLookup[v]=R}_balanceNamespaceList(v,y){const R=this._namespaceList,G=this.namespacesByHostElement;if(R.length-1>=0){let be=!1,Ne=this.driver.getParentElement(y);for(;Ne;){const Xe=G.get(Ne);if(Xe){const ht=R.indexOf(Xe);R.splice(ht+1,0,v),be=!0;break}Ne=this.driver.getParentElement(Ne)}be||R.unshift(v)}else R.push(v);return G.set(y,v),v}register(v,y){let R=this._namespaceLookup[v];return R||(R=this.createNamespace(v,y)),R}registerTrigger(v,y,R){let G=this._namespaceLookup[v];G&&G.register(y,R)&&this.totalAnimations++}destroy(v,y){v&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const R=this._fetchNamespace(v);this.namespacesByHostElement.delete(R.hostElement);const G=this._namespaceList.indexOf(R);G>=0&&this._namespaceList.splice(G,1),R.destroy(y),delete this._namespaceLookup[v]}))}_fetchNamespace(v){return this._namespaceLookup[v]}fetchNamespacesByElement(v){const y=new Set,R=this.statesByElement.get(v);if(R)for(let G of R.values())if(G.namespaceId){const ne=this._fetchNamespace(G.namespaceId);ne&&y.add(ne)}return y}trigger(v,y,R,G){if(Os(y)){const ne=this._fetchNamespace(v);if(ne)return ne.trigger(y,R,G),!0}return!1}insertNode(v,y,R,G){if(!Os(y))return;const ne=y[Xr];if(ne&&ne.setForRemoval){ne.setForRemoval=!1,ne.setForMove=!0;const be=this.collectedLeaveElements.indexOf(y);be>=0&&this.collectedLeaveElements.splice(be,1)}if(v){const be=this._fetchNamespace(v);be&&be.insertNode(y,R)}G&&this.collectEnterElement(y)}collectEnterElement(v){this.collectedEnterElements.push(v)}markElementAsDisabled(v,y){y?this.disabledNodes.has(v)||(this.disabledNodes.add(v),ji(v,xe)):this.disabledNodes.has(v)&&(this.disabledNodes.delete(v),yo(v,xe))}removeNode(v,y,R){if(Os(y)){const G=v?this._fetchNamespace(v):null;G?G.removeNode(y,R):this.markElementAsRemoved(v,y,!1,R);const ne=this.namespacesByHostElement.get(y);ne&&ne.id!==v&&ne.removeNode(y,R)}else this._onRemovalComplete(y,R)}markElementAsRemoved(v,y,R,G,ne){this.collectedLeaveElements.push(y),y[Xr]={namespaceId:v,setForRemoval:G,hasAnimation:R,removedBeforeQueried:!1,previousTriggersValues:ne}}listen(v,y,R,G,ne){return Os(y)?this._fetchNamespace(v).listen(y,R,G,ne):()=>{}}_buildInstruction(v,y,R,G,ne){return v.transition.build(this.driver,v.element,v.fromState.value,v.toState.value,R,G,v.fromState.options,v.toState.options,y,ne)}destroyInnerAnimations(v){let y=this.driver.query(v,Gr,!0);y.forEach(R=>this.destroyActiveAnimationsForElement(R)),0!=this.playersByQueriedElement.size&&(y=this.driver.query(v,li,!0),y.forEach(R=>this.finishActiveQueriedAnimationOnElement(R)))}destroyActiveAnimationsForElement(v){const y=this.playersByElement.get(v);y&&y.forEach(R=>{R.queued?R.markedForDestroy=!0:R.destroy()})}finishActiveQueriedAnimationOnElement(v){const y=this.playersByQueriedElement.get(v);y&&y.forEach(R=>R.finish())}whenRenderingDone(){return new Promise(v=>{if(this.players.length)return _e(this.players).onDone(()=>v());v()})}processLeaveNode(v){const y=v[Xr];if(y&&y.setForRemoval){if(v[Xr]=Ni,y.namespaceId){this.destroyInnerAnimations(v);const R=this._fetchNamespace(y.namespaceId);R&&R.clearElementCache(v)}this._onRemovalComplete(v,y.setForRemoval)}v.classList?.contains(xe)&&this.markElementAsDisabled(v,!1),this.driver.query(v,".ng-animate-disabled",!0).forEach(R=>{this.markElementAsDisabled(R,!1)})}flush(v=-1){let y=[];if(this.newHostElements.size&&(this.newHostElements.forEach((R,G)=>this._balanceNamespaceList(R,G)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let R=0;R<this.collectedEnterElements.length;R++)ji(this.collectedEnterElements[R],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const R=[];try{y=this._flushAnimations(R,v)}finally{for(let G=0;G<R.length;G++)R[G]()}}else for(let R=0;R<this.collectedLeaveElements.length;R++)this.processLeaveNode(this.collectedLeaveElements[R]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(R=>R()),this._flushFns=[],this._whenQuietFns.length){const R=this._whenQuietFns;this._whenQuietFns=[],y.length?_e(y).onDone(()=>{R.forEach(G=>G())}):R.forEach(G=>G())}}reportError(v){throw function Wt(H){return new _.vHH(3402,!1)}()}_flushAnimations(v,y){const R=new Bi,G=[],ne=new Map,be=[],Ne=new Map,Xe=new Map,ht=new Map,Tt=new Set;this.disabledNodes.forEach(nn=>{Tt.add(nn);const bn=this.driver.query(nn,".ng-animate-queued",!0);for(let Kt=0;Kt<bn.length;Kt++)Tt.add(bn[Kt])});const Yt=this.bodyNode,Gn=Array.from(this.statesByElement.keys()),xn=xo(Gn,this.collectedEnterElements),wn=new Map;let ot=0;xn.forEach((nn,bn)=>{const Kt=Ls+ot++;wn.set(bn,Kt),nn.forEach(yr=>ji(yr,Kt))});const Fn=[],Qt=new Set,mi=new Set;for(let nn=0;nn<this.collectedLeaveElements.length;nn++){const bn=this.collectedLeaveElements[nn],Kt=bn[Xr];Kt&&Kt.setForRemoval&&(Fn.push(bn),Qt.add(bn),Kt.hasAnimation?this.driver.query(bn,".ng-star-inserted",!0).forEach(yr=>Qt.add(yr)):mi.add(bn))}const Bt=new Map,Ht=xo(Gn,Array.from(Qt));Ht.forEach((nn,bn)=>{const Kt=So+ot++;Bt.set(bn,Kt),nn.forEach(yr=>ji(yr,Kt))}),v.push(()=>{xn.forEach((nn,bn)=>{const Kt=wn.get(bn);nn.forEach(yr=>yo(yr,Kt))}),Ht.forEach((nn,bn)=>{const Kt=Bt.get(bn);nn.forEach(yr=>yo(yr,Kt))}),Fn.forEach(nn=>{this.processLeaveNode(nn)})});const No=[],Lt=[];for(let nn=this._namespaceList.length-1;nn>=0;nn--)this._namespaceList[nn].drainQueuedTransitions(y).forEach(Kt=>{const yr=Kt.player,ti=Kt.element;if(No.push(yr),this.collectedEnterElements.length){const rn=ti[Xr];if(rn&&rn.setForMove){if(rn.previousTriggersValues&&rn.previousTriggersValues.has(Kt.triggerName)){const as=rn.previousTriggersValues.get(Kt.triggerName),Qn=this.statesByElement.get(Kt.element);if(Qn&&Qn.has(Kt.triggerName)){const Ft=Qn.get(Kt.triggerName);Ft.value=as,Qn.set(Kt.triggerName,Ft)}}return void yr.destroy()}}const un=!Yt||!this.driver.containsElement(Yt,ti),ui=Bt.get(ti),ro=wn.get(ti),Vn=this._buildInstruction(Kt,R,ro,ui,un);if(Vn.errors&&Vn.errors.length)return void Lt.push(Vn);if(un)return yr.onStart(()=>Wi(ti,Vn.fromStyles)),yr.onDestroy(()=>ns(ti,Vn.toStyles)),void G.push(yr);if(Kt.isFallbackTransition)return yr.onStart(()=>Wi(ti,Vn.fromStyles)),yr.onDestroy(()=>ns(ti,Vn.toStyles)),void G.push(yr);const hn=[];Vn.timelines.forEach(rn=>{rn.stretchStartingKeyframe=!0,this.disabledNodes.has(rn.element)||hn.push(rn)}),Vn.timelines=hn,R.append(ti,Vn.timelines),be.push({instruction:Vn,player:yr,element:ti}),Vn.queriedElements.forEach(rn=>Qe(Ne,rn,[]).push(yr)),Vn.preStyleProps.forEach((rn,as)=>{if(rn.size){let Qn=Xe.get(as);Qn||Xe.set(as,Qn=new Set),rn.forEach((Ft,Yi)=>Qn.add(Yi))}}),Vn.postStyleProps.forEach((rn,as)=>{let Qn=ht.get(as);Qn||ht.set(as,Qn=new Set),rn.forEach((Ft,Yi)=>Qn.add(Yi))})});if(Lt.length){const nn=[];Lt.forEach(bn=>{nn.push(function Zn(H,v){return new _.vHH(3505,!1)}())}),No.forEach(bn=>bn.destroy()),this.reportError(nn)}const et=new Map,mt=new Map;be.forEach(nn=>{const bn=nn.element;R.has(bn)&&(mt.set(bn,bn),this._beforeAnimationBuild(nn.player.namespaceId,nn.instruction,et))}),G.forEach(nn=>{const bn=nn.element;this._getPreviousPlayers(bn,!1,nn.namespaceId,nn.triggerName,null).forEach(yr=>{Qe(et,bn,[]).push(yr),yr.destroy()})});const Vr=Fn.filter(nn=>js(nn,Xe,ht)),Io=new Map;ws(Io,this.driver,mi,ht,dn.l3).forEach(nn=>{js(nn,Xe,ht)&&Vr.push(nn)});const Ga=new Map;xn.forEach((nn,bn)=>{ws(Ga,this.driver,new Set(nn),Xe,dn.k1)}),Vr.forEach(nn=>{const bn=Io.get(nn),Kt=Ga.get(nn);Io.set(nn,new Map([...bn?.entries()??[],...Kt?.entries()??[]]))});const ko=[],Et=[],fr={};be.forEach(nn=>{const{element:bn,player:Kt,instruction:yr}=nn;if(R.has(bn)){if(Tt.has(bn))return Kt.onDestroy(()=>ns(bn,yr.toStyles)),Kt.disabled=!0,Kt.overrideTotalTime(yr.totalTime),void G.push(Kt);let ti=fr;if(mt.size>1){let ui=bn;const ro=[];for(;ui=ui.parentNode;){const Vn=mt.get(ui);if(Vn){ti=Vn;break}ro.push(ui)}ro.forEach(Vn=>mt.set(Vn,ti))}const un=this._buildAnimation(Kt.namespaceId,yr,et,ne,Ga,Io);if(Kt.setRealPlayer(un),ti===fr)ko.push(Kt);else{const ui=this.playersByElement.get(ti);ui&&ui.length&&(Kt.parentPlayer=_e(ui)),G.push(Kt)}}else Wi(bn,yr.fromStyles),Kt.onDestroy(()=>ns(bn,yr.toStyles)),Et.push(Kt),Tt.has(bn)&&G.push(Kt)}),Et.forEach(nn=>{const bn=ne.get(nn.element);if(bn&&bn.length){const Kt=_e(bn);nn.setRealPlayer(Kt)}}),G.forEach(nn=>{nn.parentPlayer?nn.syncPlayerEvents(nn.parentPlayer):nn.destroy()});for(let nn=0;nn<Fn.length;nn++){const bn=Fn[nn],Kt=bn[Xr];if(yo(bn,So),Kt&&Kt.hasAnimation)continue;let yr=[];if(Ne.size){let un=Ne.get(bn);un&&un.length&&yr.push(...un);let ui=this.driver.query(bn,li,!0);for(let ro=0;ro<ui.length;ro++){let Vn=Ne.get(ui[ro]);Vn&&Vn.length&&yr.push(...Vn)}}const ti=yr.filter(un=>!un.destroyed);ti.length?Ha(this,bn,ti):this.processLeaveNode(bn)}return Fn.length=0,ko.forEach(nn=>{this.players.push(nn),nn.onDone(()=>{nn.destroy();const bn=this.players.indexOf(nn);this.players.splice(bn,1)}),nn.play()}),ko}afterFlush(v){this._flushFns.push(v)}afterFlushAnimationsDone(v){this._whenQuietFns.push(v)}_getPreviousPlayers(v,y,R,G,ne){let be=[];if(y){const Ne=this.playersByQueriedElement.get(v);Ne&&(be=Ne)}else{const Ne=this.playersByElement.get(v);if(Ne){const Xe=!ne||ne==Cs;Ne.forEach(ht=>{ht.queued||!Xe&&ht.triggerName!=G||be.push(ht)})}}return(R||G)&&(be=be.filter(Ne=>!(R&&R!=Ne.namespaceId||G&&G!=Ne.triggerName))),be}_beforeAnimationBuild(v,y,R){const ne=y.element,be=y.isRemovalTransition?void 0:v,Ne=y.isRemovalTransition?void 0:y.triggerName;for(const Xe of y.timelines){const ht=Xe.element,Tt=ht!==ne,Yt=Qe(R,ht,[]);this._getPreviousPlayers(ht,Tt,be,Ne,y.toState).forEach(xn=>{const wn=xn.getRealPlayer();wn.beforeDestroy&&wn.beforeDestroy(),xn.destroy(),Yt.push(xn)})}Wi(ne,y.fromStyles)}_buildAnimation(v,y,R,G,ne,be){const Ne=y.triggerName,Xe=y.element,ht=[],Tt=new Set,Yt=new Set,Gn=y.timelines.map(wn=>{const ot=wn.element;Tt.add(ot);const Fn=ot[Xr];if(Fn&&Fn.removedBeforeQueried)return new dn.ZN(wn.duration,wn.delay);const Qt=ot!==Xe,mi=function eo(H){const v=[];return ta(H,v),v}((R.get(ot)||Ts).map(et=>et.getRealPlayer())).filter(et=>!!et.element&&et.element===ot),Bt=ne.get(ot),Ht=be.get(ot),No=Pe(this._normalizer,wn.keyframes,Bt,Ht),Lt=this._buildPlayer(wn,No,mi);if(wn.subTimeline&&G&&Yt.add(ot),Qt){const et=new Zi(v,Ne,ot);et.setRealPlayer(Lt),ht.push(et)}return Lt});ht.forEach(wn=>{Qe(this.playersByQueriedElement,wn.element,[]).push(wn),wn.onDone(()=>function ha(H,v,y){let R=H.get(v);if(R){if(R.length){const G=R.indexOf(y);R.splice(G,1)}0==R.length&&H.delete(v)}return R}(this.playersByQueriedElement,wn.element,wn))}),Tt.forEach(wn=>ji(wn,Rs));const xn=_e(Gn);return xn.onDestroy(()=>{Tt.forEach(wn=>yo(wn,Rs)),ns(Xe,y.toStyles)}),Yt.forEach(wn=>{Qe(G,wn,[]).push(xn)}),xn}_buildPlayer(v,y,R){return y.length>0?this.driver.animate(v.element,y,v.duration,v.delay,v.easing,R):new dn.ZN(v.duration,v.delay)}}class Zi{constructor(v,y,R){this.namespaceId=v,this.triggerName=y,this.element=R,this._player=new dn.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(v){this._containsRealPlayer||(this._player=v,this._queuedCallbacks.forEach((y,R)=>{y.forEach(G=>Ee(v,R,void 0,G))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(v.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(v){this.totalTime=v}syncPlayerEvents(v){const y=this._player;y.triggerCallback&&v.onStart(()=>y.triggerCallback("start")),v.onDone(()=>this.finish()),v.onDestroy(()=>this.destroy())}_queueEvent(v,y){Qe(this._queuedCallbacks,v,[]).push(y)}onDone(v){this.queued&&this._queueEvent("done",v),this._player.onDone(v)}onStart(v){this.queued&&this._queueEvent("start",v),this._player.onStart(v)}onDestroy(v){this.queued&&this._queueEvent("destroy",v),this._player.onDestroy(v)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(v){this.queued||this._player.setPosition(v)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(v){const y=this._player;y.triggerCallback&&y.triggerCallback(v)}}function Os(H){return H&&1===H.nodeType}function Xs(H,v){const y=H.style.display;return H.style.display=v??"none",y}function ws(H,v,y,R,G){const ne=[];y.forEach(Xe=>ne.push(Xs(Xe)));const be=[];R.forEach((Xe,ht)=>{const Tt=new Map;Xe.forEach(Yt=>{const Gn=v.computeStyle(ht,Yt,G);Tt.set(Yt,Gn),(!Gn||0==Gn.length)&&(ht[Xr]=go,be.push(ht))}),H.set(ht,Tt)});let Ne=0;return y.forEach(Xe=>Xs(Xe,ne[Ne++])),be}function xo(H,v){const y=new Map;if(H.forEach(Ne=>y.set(Ne,[])),0==v.length)return y;const G=new Set(v),ne=new Map;function be(Ne){if(!Ne)return 1;let Xe=ne.get(Ne);if(Xe)return Xe;const ht=Ne.parentNode;return Xe=y.has(ht)?ht:G.has(ht)?1:be(ht),ne.set(Ne,Xe),Xe}return v.forEach(Ne=>{const Xe=be(Ne);1!==Xe&&y.get(Xe).push(Ne)}),y}function ji(H,v){H.classList?.add(v)}function yo(H,v){H.classList?.remove(v)}function Ha(H,v,y){_e(y).onDone(()=>H.processLeaveNode(v))}function ta(H,v){for(let y=0;y<H.length;y++){const R=H[y];R instanceof dn.ZE?ta(R.players,v):v.push(R)}}function js(H,v,y){const R=y.get(H);if(!R)return!1;let G=v.get(H);return G?R.forEach(ne=>G.add(ne)):v.set(H,R),y.delete(H),!0}class to{constructor(v,y,R){this.bodyNode=v,this._driver=y,this._normalizer=R,this._triggerCache={},this.onRemovalComplete=(G,ne)=>{},this._transitionEngine=new mo(v,y,R),this._timelineEngine=new K(v,y,R),this._transitionEngine.onRemovalComplete=(G,ne)=>this.onRemovalComplete(G,ne)}registerTrigger(v,y,R,G,ne){const be=v+"-"+G;let Ne=this._triggerCache[be];if(!Ne){const Xe=[],Tt=Ai(this._driver,ne,Xe,[]);if(Xe.length)throw function Ae(H,v){return new _.vHH(3404,!1)}();Ne=function Aa(H,v,y){return new Tr(H,v,y)}(G,Tt,this._normalizer),this._triggerCache[be]=Ne}this._transitionEngine.registerTrigger(y,G,Ne)}register(v,y){this._transitionEngine.register(v,y)}destroy(v,y){this._transitionEngine.destroy(v,y)}onInsert(v,y,R,G){this._transitionEngine.insertNode(v,y,R,G)}onRemove(v,y,R){this._transitionEngine.removeNode(v,y,R)}disableAnimations(v,y){this._transitionEngine.markElementAsDisabled(v,y)}process(v,y,R,G){if("@"==R.charAt(0)){const[ne,be]=Ut(R);this._timelineEngine.command(ne,y,be,G)}else this._transitionEngine.trigger(v,y,R,G)}listen(v,y,R,G,ne){if("@"==R.charAt(0)){const[be,Ne]=Ut(R);return this._timelineEngine.listen(be,y,Ne,ne)}return this._transitionEngine.listen(v,y,R,G,ne)}flush(v=-1){this._transitionEngine.flush(v)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(v){this._transitionEngine.afterFlushAnimationsDone(v)}}let fa=(()=>{class H{static#e=this.initialStylesByElement=new WeakMap;constructor(y,R,G){this._element=y,this._startStyles=R,this._endStyles=G,this._state=0;let ne=H.initialStylesByElement.get(y);ne||H.initialStylesByElement.set(y,ne=new Map),this._initialStyles=ne}start(){this._state<1&&(this._startStyles&&ns(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ns(this._element,this._initialStyles),this._endStyles&&(ns(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(H.initialStylesByElement.delete(this._element),this._startStyles&&(Wi(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Wi(this._element,this._endStyles),this._endStyles=null),ns(this._element,this._initialStyles),this._state=3)}}return H})();function ja(H){let v=null;return H.forEach((y,R)=>{(function $o(H){return"display"===H||"position"===H})(R)&&(v=v||new Map,v.set(R,y))}),v}class Oo{constructor(v,y,R,G){this.element=v,this.keyframes=y,this.options=R,this._specialStyles=G,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=R.duration,this._delay=R.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(v=>v()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const v=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,v,this.options),this._finalKeyframe=v.length?v[v.length-1]:new Map;const y=()=>this._onFinish();this.domPlayer.addEventListener("finish",y),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",y)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(v){const y=[];return v.forEach(R=>{y.push(Object.fromEntries(R))}),y}_triggerWebAnimation(v,y,R){return v.animate(this._convertKeyframesToObject(y),R)}onStart(v){this._originalOnStartFns.push(v),this._onStartFns.push(v)}onDone(v){this._originalOnDoneFns.push(v),this._onDoneFns.push(v)}onDestroy(v){this._onDestroyFns.push(v)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(v=>v()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(v=>v()),this._onDestroyFns=[])}setPosition(v){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=v*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const v=new Map;this.hasStarted()&&this._finalKeyframe.forEach((R,G)=>{"offset"!==G&&v.set(G,this._finished?R:lo(this.element,G))}),this.currentSnapshot=v}triggerCallback(v){const y="start"===v?this._onStartFns:this._onDoneFns;y.forEach(R=>R()),y.length=0}}class jl{validateStyleProperty(v){return!0}validateAnimatableStyleProperty(v){return!0}matchesElement(v,y){return!1}containsElement(v,y){return Rr(v,y)}getParentElement(v){return gn(v)}query(v,y,R){return ri(v,y,R)}computeStyle(v,y,R){return window.getComputedStyle(v)[y]}animate(v,y,R,G,ne,be=[]){const Xe={duration:R,delay:G,fill:0==G?"both":"forwards"};ne&&(Xe.easing=ne);const ht=new Map,Tt=be.filter(xn=>xn instanceof Oo);(function hs(H,v){return 0===H||0===v})(R,G)&&Tt.forEach(xn=>{xn.currentSnapshot.forEach((wn,ot)=>ht.set(ot,wn))});let Yt=function wi(H){return H.length?H[0]instanceof Map?H:H.map(v=>sa(v)):[]}(y).map(xn=>zr(xn));Yt=function Wr(H,v,y){if(y.size&&v.length){let R=v[0],G=[];if(y.forEach((ne,be)=>{R.has(be)||G.push(be),R.set(be,ne)}),G.length)for(let ne=1;ne<v.length;ne++){let be=v[ne];G.forEach(Ne=>be.set(Ne,lo(H,Ne)))}}return v}(v,Yt,ht);const Gn=function gl(H,v){let y=null,R=null;return Array.isArray(v)&&v.length?(y=ja(v[0]),v.length>1&&(R=ja(v[v.length-1]))):v instanceof Map&&(y=ja(v)),y||R?new fa(H,y,R):null}(v,Yt);return new Oo(v,Yt,Xe,Gn)}}let pa=(()=>{class H extends dn._j{constructor(y,R){super(),this._nextAnimationId=0,this._renderer=y.createRenderer(R.body,{id:"0",encapsulation:_.ifc.None,styles:[],data:{animation:[]}})}build(y){const R=this._nextAnimationId.toString();this._nextAnimationId++;const G=Array.isArray(y)?(0,dn.vP)(y):y;return vo(this._renderer,null,R,"register",[G]),new Sa(R,this._renderer)}static#e=this.\u0275fac=function(R){return new(R||H)(_.LFG(_.FYo),_.LFG(B.K0))};static#t=this.\u0275prov=_.Yz7({token:H,factory:H.\u0275fac})}return H})();class Sa extends dn.LC{constructor(v,y){super(),this._id=v,this._renderer=y}create(v,y){return new ml(this._id,v,y||{},this._renderer)}}class ml{constructor(v,y,R,G){this.id=v,this.element=y,this._renderer=G,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",R)}_listen(v,y){return this._renderer.listen(this.element,`@@${this.id}:${v}`,y)}_command(v,...y){return vo(this._renderer,this.element,this.id,v,y)}onDone(v){this._listen("done",v)}onStart(v){this._listen("start",v)}onDestroy(v){this._listen("destroy",v)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(v){this._command("setPosition",v)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function vo(H,v,y,R,G){return H.setProperty(v,`@@${y}:${R}`,G)}const Go="@.disabled";let $a=(()=>{class H{constructor(y,R,G){this.delegate=y,this.engine=R,this._zone=G,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,R.onRemovalComplete=(ne,be)=>{const Ne=be?.parentNode(ne);Ne&&be.removeChild(Ne,ne)}}createRenderer(y,R){const ne=this.delegate.createRenderer(y,R);if(!(y&&R&&R.data&&R.data.animation)){let Tt=this._rendererCache.get(ne);return Tt||(Tt=new b("",ne,this.engine,()=>this._rendererCache.delete(ne)),this._rendererCache.set(ne,Tt)),Tt}const be=R.id,Ne=R.id+"-"+this._currentId;this._currentId++,this.engine.register(Ne,y);const Xe=Tt=>{Array.isArray(Tt)?Tt.forEach(Xe):this.engine.registerTrigger(be,Ne,y,Tt.name,Tt)};return R.data.animation.forEach(Xe),new Y(this,Ne,ne,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(y,R,G){y>=0&&y<this._microtaskId?this._zone.run(()=>R(G)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(ne=>{const[be,Ne]=ne;be(Ne)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([R,G]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(R){return new(R||H)(_.LFG(_.FYo),_.LFG(to),_.LFG(_.R0b))};static#t=this.\u0275prov=_.Yz7({token:H,factory:H.\u0275fac})}return H})();class b{constructor(v,y,R,G){this.namespaceId=v,this.delegate=y,this.engine=R,this._onDestroy=G}get data(){return this.delegate.data}destroyNode(v){this.delegate.destroyNode?.(v)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(v,y){return this.delegate.createElement(v,y)}createComment(v){return this.delegate.createComment(v)}createText(v){return this.delegate.createText(v)}appendChild(v,y){this.delegate.appendChild(v,y),this.engine.onInsert(this.namespaceId,y,v,!1)}insertBefore(v,y,R,G=!0){this.delegate.insertBefore(v,y,R),this.engine.onInsert(this.namespaceId,y,v,G)}removeChild(v,y,R){this.engine.onRemove(this.namespaceId,y,this.delegate)}selectRootElement(v,y){return this.delegate.selectRootElement(v,y)}parentNode(v){return this.delegate.parentNode(v)}nextSibling(v){return this.delegate.nextSibling(v)}setAttribute(v,y,R,G){this.delegate.setAttribute(v,y,R,G)}removeAttribute(v,y,R){this.delegate.removeAttribute(v,y,R)}addClass(v,y){this.delegate.addClass(v,y)}removeClass(v,y){this.delegate.removeClass(v,y)}setStyle(v,y,R,G){this.delegate.setStyle(v,y,R,G)}removeStyle(v,y,R){this.delegate.removeStyle(v,y,R)}setProperty(v,y,R){"@"==y.charAt(0)&&y==Go?this.disableAnimations(v,!!R):this.delegate.setProperty(v,y,R)}setValue(v,y){this.delegate.setValue(v,y)}listen(v,y,R){return this.delegate.listen(v,y,R)}disableAnimations(v,y){this.engine.disableAnimations(v,y)}}class Y extends b{constructor(v,y,R,G,ne){super(y,R,G,ne),this.factory=v,this.namespaceId=y}setProperty(v,y,R){"@"==y.charAt(0)?"."==y.charAt(1)&&y==Go?this.disableAnimations(v,R=void 0===R||!!R):this.engine.process(this.namespaceId,v,y.slice(1),R):this.delegate.setProperty(v,y,R)}listen(v,y,R){if("@"==y.charAt(0)){const G=function O(H){switch(H){case"body":return document.body;case"document":return document;case"window":return window;default:return H}}(v);let ne=y.slice(1),be="";return"@"!=ne.charAt(0)&&([ne,be]=function q(H){const v=H.indexOf(".");return[H.substring(0,v),H.slice(v+1)]}(ne)),this.engine.listen(this.namespaceId,G,ne,be,Ne=>{this.factory.scheduleListenerCallback(Ne._data||-1,R,Ne)})}return this.delegate.listen(v,y,R)}}const en=[{provide:dn._j,useClass:pa},{provide:Hi,useFactory:function st(){return new fo}},{provide:to,useClass:(()=>{class H extends to{constructor(y,R,G,ne){super(y.body,R,G)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(R){return new(R||H)(_.LFG(B.K0),_.LFG(yi),_.LFG(Hi),_.LFG(_.z2F))};static#t=this.\u0275prov=_.Yz7({token:H,factory:H.\u0275fac})}return H})()},{provide:_.FYo,useFactory:function gt(H,v,y){return new $a(H,v,y)},deps:[p.se,to,_.R0b]}],cr=[{provide:yi,useFactory:()=>new jl},{provide:_.QbO,useValue:"BrowserAnimations"},...en],dr=[{provide:yi,useClass:Ln},{provide:_.QbO,useValue:"NoopAnimations"},...en];let nr=(()=>{class H{static withConfig(y){return{ngModule:H,providers:y.disableAnimations?dr:cr}}static#e=this.\u0275fac=function(R){return new(R||H)};static#t=this.\u0275mod=_.oAB({type:H});static#n=this.\u0275inj=_.cJS({providers:cr,imports:[p.b2]})}return H})();var rr=F(7217),Or=F(7213),ss=F(553),no=F(336),Li=F(5124),$s=F(4532),Fi=F(8516),os=F(3714),Du=F(734);let ei=(()=>{class H{static#e=this.\u0275fac=function(R){return new(R||H)};static#t=this.\u0275mod=_.oAB({type:H,bootstrap:[Jn]});static#n=this.\u0275inj=_.cJS({providers:[{provide:B.S$,useClass:B.Do}],imports:[p.b2,Mn,Pr.JF,J.u5,nr,$s.d,rr.hO.initializeApp(ss.N.firebaseConfig),Or.ww,no.hJ,Li.nD,Fi.W6,os.j,Du.y]})}return H})();p.q6().bootstrapModule(ei).catch(H=>console.error(H))},5619:(Nt,$e,F)=>{F.d($e,{X:()=>L});var p=F(8645);class L extends p.x{constructor(Ce){super(),this._value=Ce}get value(){return this.getValue()}_subscribe(Ce){const B=super._subscribe(Ce);return!B.closed&&Ce.next(this._value),B}getValue(){const{hasError:Ce,thrownError:B,_value:Q}=this;if(Ce)throw B;return this._throwIfClosed(),Q}next(Ce){super.next(this._value=Ce)}}},5592:(Nt,$e,F)=>{F.d($e,{y:()=>se});var p=F(305),L=F(7394),_=F(4850),Ce=F(8407),B=F(2653),Q=F(4674),Z=F(1441);let se=(()=>{class we{constructor(We){We&&(this._subscribe=We)}lift(We){const dt=new we;return dt.source=this,dt.operator=We,dt}subscribe(We,dt,nt){const it=function ae(we){return we&&we instanceof p.Lv||function J(we){return we&&(0,Q.m)(we.next)&&(0,Q.m)(we.error)&&(0,Q.m)(we.complete)}(we)&&(0,L.Nn)(we)}(We)?We:new p.Hp(We,dt,nt);return(0,Z.x)(()=>{const{operator:lt,source:bt}=this;it.add(lt?lt.call(it,bt):bt?this._subscribe(it):this._trySubscribe(it))}),it}_trySubscribe(We){try{return this._subscribe(We)}catch(dt){We.error(dt)}}forEach(We,dt){return new(dt=ce(dt))((nt,it)=>{const lt=new p.Hp({next:bt=>{try{We(bt)}catch(ft){it(ft),lt.unsubscribe()}},error:it,complete:nt});this.subscribe(lt)})}_subscribe(We){var dt;return null===(dt=this.source)||void 0===dt?void 0:dt.subscribe(We)}[_.L](){return this}pipe(...We){return(0,Ce.U)(We)(this)}toPromise(We){return new(We=ce(We))((dt,nt)=>{let it;this.subscribe(lt=>it=lt,lt=>nt(lt),()=>dt(it))})}}return we.create=He=>new we(He),we})();function ce(we){var He;return null!==(He=we??B.config.Promise)&&void 0!==He?He:Promise}},8645:(Nt,$e,F)=>{F.d($e,{x:()=>Z});var p=F(5592),L=F(7394);const Ce=(0,F(2306).d)(ce=>function(){ce(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var B=F(9039),Q=F(1441);let Z=(()=>{class ce extends p.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ae){const we=new se(this,this);return we.operator=ae,we}_throwIfClosed(){if(this.closed)throw new Ce}next(ae){(0,Q.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const we of this.currentObservers)we.next(ae)}})}error(ae){(0,Q.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ae;const{observers:we}=this;for(;we.length;)we.shift().error(ae)}})}complete(){(0,Q.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ae}=this;for(;ae.length;)ae.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ae;return(null===(ae=this.observers)||void 0===ae?void 0:ae.length)>0}_trySubscribe(ae){return this._throwIfClosed(),super._trySubscribe(ae)}_subscribe(ae){return this._throwIfClosed(),this._checkFinalizedStatuses(ae),this._innerSubscribe(ae)}_innerSubscribe(ae){const{hasError:we,isStopped:He,observers:We}=this;return we||He?L.Lc:(this.currentObservers=null,We.push(ae),new L.w0(()=>{this.currentObservers=null,(0,B.P)(We,ae)}))}_checkFinalizedStatuses(ae){const{hasError:we,thrownError:He,isStopped:We}=this;we?ae.error(He):We&&ae.complete()}asObservable(){const ae=new p.y;return ae.source=this,ae}}return ce.create=(J,ae)=>new se(J,ae),ce})();class se extends Z{constructor(J,ae){super(),this.destination=J,this.source=ae}next(J){var ae,we;null===(we=null===(ae=this.destination)||void 0===ae?void 0:ae.next)||void 0===we||we.call(ae,J)}error(J){var ae,we;null===(we=null===(ae=this.destination)||void 0===ae?void 0:ae.error)||void 0===we||we.call(ae,J)}complete(){var J,ae;null===(ae=null===(J=this.destination)||void 0===J?void 0:J.complete)||void 0===ae||ae.call(J)}_subscribe(J){var ae,we;return null!==(we=null===(ae=this.source)||void 0===ae?void 0:ae.subscribe(J))&&void 0!==we?we:L.Lc}}},305:(Nt,$e,F)=>{F.d($e,{Hp:()=>nt,Lv:()=>we});var p=F(4674),L=F(7394),_=F(2653),Ce=F(3894),B=F(2420);const Q=ce("C",void 0,void 0);function ce(le,Oe,he){return{kind:le,value:Oe,error:he}}var J=F(7599),ae=F(1441);class we extends L.w0{constructor(Oe){super(),this.isStopped=!1,Oe?(this.destination=Oe,(0,L.Nn)(Oe)&&Oe.add(this)):this.destination=ft}static create(Oe,he,ge){return new nt(Oe,he,ge)}next(Oe){this.isStopped?bt(function se(le){return ce("N",le,void 0)}(Oe),this):this._next(Oe)}error(Oe){this.isStopped?bt(function Z(le){return ce("E",void 0,le)}(Oe),this):(this.isStopped=!0,this._error(Oe))}complete(){this.isStopped?bt(Q,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Oe){this.destination.next(Oe)}_error(Oe){try{this.destination.error(Oe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const He=Function.prototype.bind;function We(le,Oe){return He.call(le,Oe)}class dt{constructor(Oe){this.partialObserver=Oe}next(Oe){const{partialObserver:he}=this;if(he.next)try{he.next(Oe)}catch(ge){it(ge)}}error(Oe){const{partialObserver:he}=this;if(he.error)try{he.error(Oe)}catch(ge){it(ge)}else it(Oe)}complete(){const{partialObserver:Oe}=this;if(Oe.complete)try{Oe.complete()}catch(he){it(he)}}}class nt extends we{constructor(Oe,he,ge){let De;if(super(),(0,p.m)(Oe)||!Oe)De={next:Oe??void 0,error:he??void 0,complete:ge??void 0};else{let ye;this&&_.config.useDeprecatedNextContext?(ye=Object.create(Oe),ye.unsubscribe=()=>this.unsubscribe(),De={next:Oe.next&&We(Oe.next,ye),error:Oe.error&&We(Oe.error,ye),complete:Oe.complete&&We(Oe.complete,ye)}):De=Oe}this.destination=new dt(De)}}function it(le){_.config.useDeprecatedSynchronousErrorHandling?(0,ae.O)(le):(0,Ce.h)(le)}function bt(le,Oe){const{onStoppedNotification:he}=_.config;he&&J.z.setTimeout(()=>he(le,Oe))}const ft={closed:!0,next:B.Z,error:function lt(le){throw le},complete:B.Z}},7394:(Nt,$e,F)=>{F.d($e,{Lc:()=>Q,w0:()=>B,Nn:()=>Z});var p=F(4674);const _=(0,F(2306).d)(ce=>function(ae){ce(this),this.message=ae?`${ae.length} errors occurred during unsubscription:\n${ae.map((we,He)=>`${He+1}) ${we.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ae});var Ce=F(9039);class B{constructor(J){this.initialTeardown=J,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let J;if(!this.closed){this.closed=!0;const{_parentage:ae}=this;if(ae)if(this._parentage=null,Array.isArray(ae))for(const We of ae)We.remove(this);else ae.remove(this);const{initialTeardown:we}=this;if((0,p.m)(we))try{we()}catch(We){J=We instanceof _?We.errors:[We]}const{_finalizers:He}=this;if(He){this._finalizers=null;for(const We of He)try{se(We)}catch(dt){J=J??[],dt instanceof _?J=[...J,...dt.errors]:J.push(dt)}}if(J)throw new _(J)}}add(J){var ae;if(J&&J!==this)if(this.closed)se(J);else{if(J instanceof B){if(J.closed||J._hasParent(this))return;J._addParent(this)}(this._finalizers=null!==(ae=this._finalizers)&&void 0!==ae?ae:[]).push(J)}}_hasParent(J){const{_parentage:ae}=this;return ae===J||Array.isArray(ae)&&ae.includes(J)}_addParent(J){const{_parentage:ae}=this;this._parentage=Array.isArray(ae)?(ae.push(J),ae):ae?[ae,J]:J}_removeParent(J){const{_parentage:ae}=this;ae===J?this._parentage=null:Array.isArray(ae)&&(0,Ce.P)(ae,J)}remove(J){const{_finalizers:ae}=this;ae&&(0,Ce.P)(ae,J),J instanceof B&&J._removeParent(this)}}B.EMPTY=(()=>{const ce=new B;return ce.closed=!0,ce})();const Q=B.EMPTY;function Z(ce){return ce instanceof B||ce&&"closed"in ce&&(0,p.m)(ce.remove)&&(0,p.m)(ce.add)&&(0,p.m)(ce.unsubscribe)}function se(ce){(0,p.m)(ce)?ce():ce.unsubscribe()}},2653:(Nt,$e,F)=>{F.d($e,{config:()=>p});const p={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},5211:(Nt,$e,F)=>{F.d($e,{z:()=>B});var p=F(7537),_=F(9940),Ce=F(2459);function B(...Q){return function L(){return(0,p.J)(1)}()((0,Ce.D)(Q,(0,_.yG)(Q)))}},6232:(Nt,$e,F)=>{F.d($e,{E:()=>L});const L=new(F(5592).y)(B=>B.complete())},2459:(Nt,$e,F)=>{F.d($e,{D:()=>Oe});var p=F(4829),L=F(3093),_=F(5137),Q=F(5592),se=F(4971),ce=F(4674),J=F(7103);function we(he,ge){if(!he)throw new Error("Iterable cannot be null");return new Q.y(De=>{(0,J.f)(De,ge,()=>{const ye=he[Symbol.asyncIterator]();(0,J.f)(De,ge,()=>{ye.next().then(rt=>{rt.done?De.complete():De.next(rt.value)})},0,!0)})})}var He=F(8382),We=F(4026),dt=F(4266),nt=F(3664),it=F(5726),lt=F(9853),bt=F(541);function Oe(he,ge){return ge?function le(he,ge){if(null!=he){if((0,He.c)(he))return function Ce(he,ge){return(0,p.Xf)(he).pipe((0,_.R)(ge),(0,L.Q)(ge))}(he,ge);if((0,dt.z)(he))return function Z(he,ge){return new Q.y(De=>{let ye=0;return ge.schedule(function(){ye===he.length?De.complete():(De.next(he[ye++]),De.closed||this.schedule())})})}(he,ge);if((0,We.t)(he))return function B(he,ge){return(0,p.Xf)(he).pipe((0,_.R)(ge),(0,L.Q)(ge))}(he,ge);if((0,it.D)(he))return we(he,ge);if((0,nt.T)(he))return function ae(he,ge){return new Q.y(De=>{let ye;return(0,J.f)(De,ge,()=>{ye=he[se.h](),(0,J.f)(De,ge,()=>{let rt,Ie;try{({value:rt,done:Ie}=ye.next())}catch(Vt){return void De.error(Vt)}Ie?De.complete():De.next(rt)},0,!0)}),()=>(0,ce.m)(ye?.return)&&ye.return()})}(he,ge);if((0,bt.L)(he))return function ft(he,ge){return we((0,bt.Q)(he),ge)}(he,ge)}throw(0,lt.z)(he)}(he,ge):(0,p.Xf)(he)}},4829:(Nt,$e,F)=>{F.d($e,{Xf:()=>He});var p=F(7582),L=F(4266),_=F(4026),Ce=F(5592),B=F(8382),Q=F(5726),Z=F(9853),se=F(3664),ce=F(541),J=F(4674),ae=F(3894),we=F(4850);function He(le){if(le instanceof Ce.y)return le;if(null!=le){if((0,B.c)(le))return function We(le){return new Ce.y(Oe=>{const he=le[we.L]();if((0,J.m)(he.subscribe))return he.subscribe(Oe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(le);if((0,L.z)(le))return function dt(le){return new Ce.y(Oe=>{for(let he=0;he<le.length&&!Oe.closed;he++)Oe.next(le[he]);Oe.complete()})}(le);if((0,_.t)(le))return function nt(le){return new Ce.y(Oe=>{le.then(he=>{Oe.closed||(Oe.next(he),Oe.complete())},he=>Oe.error(he)).then(null,ae.h)})}(le);if((0,Q.D)(le))return lt(le);if((0,se.T)(le))return function it(le){return new Ce.y(Oe=>{for(const he of le)if(Oe.next(he),Oe.closed)return;Oe.complete()})}(le);if((0,ce.L)(le))return function bt(le){return lt((0,ce.Q)(le))}(le)}throw(0,Z.z)(le)}function lt(le){return new Ce.y(Oe=>{(function ft(le,Oe){var he,ge,De,ye;return(0,p.mG)(this,void 0,void 0,function*(){try{for(he=(0,p.KL)(le);!(ge=yield he.next()).done;)if(Oe.next(ge.value),Oe.closed)return}catch(rt){De={error:rt}}finally{try{ge&&!ge.done&&(ye=he.return)&&(yield ye.call(he))}finally{if(De)throw De.error}}Oe.complete()})})(le,Oe).catch(he=>Oe.error(he))})}},3019:(Nt,$e,F)=>{F.d($e,{T:()=>Q});var p=F(7537),L=F(4829),_=F(6232),Ce=F(9940),B=F(2459);function Q(...Z){const se=(0,Ce.yG)(Z),ce=(0,Ce._6)(Z,1/0),J=Z;return J.length?1===J.length?(0,L.Xf)(J[0]):(0,p.J)(ce)((0,B.D)(J,se)):_.E}},2096:(Nt,$e,F)=>{F.d($e,{of:()=>_});var p=F(9940),L=F(2459);function _(...Ce){const B=(0,p.yG)(Ce);return(0,L.D)(Ce,B)}},8251:(Nt,$e,F)=>{F.d($e,{x:()=>L});var p=F(305);function L(Ce,B,Q,Z,se){return new _(Ce,B,Q,Z,se)}class _ extends p.Lv{constructor(B,Q,Z,se,ce,J){super(B),this.onFinalize=ce,this.shouldUnsubscribe=J,this._next=Q?function(ae){try{Q(ae)}catch(we){B.error(we)}}:super._next,this._error=se?function(ae){try{se(ae)}catch(we){B.error(we)}finally{this.unsubscribe()}}:super._error,this._complete=Z?function(){try{Z()}catch(ae){B.error(ae)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var B;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Q}=this;super.unsubscribe(),!Q&&(null===(B=this.onFinalize)||void 0===B||B.call(this))}}}},6328:(Nt,$e,F)=>{F.d($e,{b:()=>_});var p=F(1631),L=F(4674);function _(Ce,B){return(0,L.m)(B)?(0,p.z)(Ce,B,1):(0,p.z)(Ce,1)}},3572:(Nt,$e,F)=>{F.d($e,{d:()=>_});var p=F(9360),L=F(8251);function _(Ce){return(0,p.e)((B,Q)=>{let Z=!1;B.subscribe((0,L.x)(Q,se=>{Z=!0,Q.next(se)},()=>{Z||Q.next(Ce),Q.complete()}))})}},3997:(Nt,$e,F)=>{F.d($e,{x:()=>Ce});var p=F(2737),L=F(9360),_=F(8251);function Ce(Q,Z=p.y){return Q=Q??B,(0,L.e)((se,ce)=>{let J,ae=!0;se.subscribe((0,_.x)(ce,we=>{const He=Z(we);(ae||!Q(J,He))&&(ae=!1,J=He,ce.next(we))}))})}function B(Q,Z){return Q===Z}},2181:(Nt,$e,F)=>{F.d($e,{h:()=>_});var p=F(9360),L=F(8251);function _(Ce,B){return(0,p.e)((Q,Z)=>{let se=0;Q.subscribe((0,L.x)(Z,ce=>Ce.call(B,ce,se++)&&Z.next(ce)))})}},4716:(Nt,$e,F)=>{F.d($e,{x:()=>L});var p=F(9360);function L(_){return(0,p.e)((Ce,B)=>{try{Ce.subscribe(B)}finally{B.add(_)}})}},1374:(Nt,$e,F)=>{F.d($e,{P:()=>Z});var p=F(6973),L=F(2181),_=F(8180),Ce=F(3572),B=F(3026),Q=F(2737);function Z(se,ce){const J=arguments.length>=2;return ae=>ae.pipe(se?(0,L.h)((we,He)=>se(we,He,ae)):Q.y,(0,_.q)(1),J?(0,Ce.d)(ce):(0,B.T)(()=>new p.K))}},7398:(Nt,$e,F)=>{F.d($e,{U:()=>_});var p=F(9360),L=F(8251);function _(Ce,B){return(0,p.e)((Q,Z)=>{let se=0;Q.subscribe((0,L.x)(Z,ce=>{Z.next(Ce.call(B,ce,se++))}))})}},7537:(Nt,$e,F)=>{F.d($e,{J:()=>_});var p=F(1631),L=F(2737);function _(Ce=1/0){return(0,p.z)(L.y,Ce)}},1631:(Nt,$e,F)=>{F.d($e,{z:()=>se});var p=F(7398),L=F(4829),_=F(9360),Ce=F(7103),B=F(8251),Z=F(4674);function se(ce,J,ae=1/0){return(0,Z.m)(J)?se((we,He)=>(0,p.U)((We,dt)=>J(we,We,He,dt))((0,L.Xf)(ce(we,He))),ae):("number"==typeof J&&(ae=J),(0,_.e)((we,He)=>function Q(ce,J,ae,we,He,We,dt,nt){const it=[];let lt=0,bt=0,ft=!1;const le=()=>{ft&&!it.length&&!lt&&J.complete()},Oe=ge=>lt<we?he(ge):it.push(ge),he=ge=>{We&&J.next(ge),lt++;let De=!1;(0,L.Xf)(ae(ge,bt++)).subscribe((0,B.x)(J,ye=>{He?.(ye),We?Oe(ye):J.next(ye)},()=>{De=!0},void 0,()=>{if(De)try{for(lt--;it.length&&lt<we;){const ye=it.shift();dt?(0,Ce.f)(J,dt,()=>he(ye)):he(ye)}le()}catch(ye){J.error(ye)}}))};return ce.subscribe((0,B.x)(J,Oe,()=>{ft=!0,le()})),()=>{nt?.()}}(we,He,ce,ae)))}},3093:(Nt,$e,F)=>{F.d($e,{Q:()=>Ce});var p=F(7103),L=F(9360),_=F(8251);function Ce(B,Q=0){return(0,L.e)((Z,se)=>{Z.subscribe((0,_.x)(se,ce=>(0,p.f)(se,B,()=>se.next(ce),Q),()=>(0,p.f)(se,B,()=>se.complete(),Q),ce=>(0,p.f)(se,B,()=>se.error(ce),Q)))})}},6699:(Nt,$e,F)=>{F.d($e,{R:()=>Ce});var p=F(9360),L=F(8251);function Ce(B,Q){return(0,p.e)(function _(B,Q,Z,se,ce){return(J,ae)=>{let we=Z,He=Q,We=0;J.subscribe((0,L.x)(ae,dt=>{const nt=We++;He=we?B(He,dt,nt):(we=!0,dt),se&&ae.next(He)},ce&&(()=>{we&&ae.next(He),ae.complete()})))}}(B,Q,arguments.length>=2,!0))}},3020:(Nt,$e,F)=>{F.d($e,{B:()=>B});var p=F(4829),L=F(8645),_=F(305),Ce=F(9360);function B(Z={}){const{connector:se=(()=>new L.x),resetOnError:ce=!0,resetOnComplete:J=!0,resetOnRefCountZero:ae=!0}=Z;return we=>{let He,We,dt,nt=0,it=!1,lt=!1;const bt=()=>{We?.unsubscribe(),We=void 0},ft=()=>{bt(),He=dt=void 0,it=lt=!1},le=()=>{const Oe=He;ft(),Oe?.unsubscribe()};return(0,Ce.e)((Oe,he)=>{nt++,!lt&&!it&&bt();const ge=dt=dt??se();he.add(()=>{nt--,0===nt&&!lt&&!it&&(We=Q(le,ae))}),ge.subscribe(he),!He&&nt>0&&(He=new _.Hp({next:De=>ge.next(De),error:De=>{lt=!0,bt(),We=Q(ft,ce,De),ge.error(De)},complete:()=>{it=!0,bt(),We=Q(ft,J),ge.complete()}}),(0,p.Xf)(Oe).subscribe(He))})(we)}}function Q(Z,se,...ce){if(!0===se)return void Z();if(!1===se)return;const J=new _.Hp({next:()=>{J.unsubscribe(),Z()}});return(0,p.Xf)(se(...ce)).subscribe(J)}},7921:(Nt,$e,F)=>{F.d($e,{O:()=>Ce});var p=F(5211),L=F(9940),_=F(9360);function Ce(...B){const Q=(0,L.yG)(B);return(0,_.e)((Z,se)=>{(Q?(0,p.z)(B,Z,Q):(0,p.z)(B,Z)).subscribe(se)})}},5137:(Nt,$e,F)=>{F.d($e,{R:()=>L});var p=F(9360);function L(_,Ce=0){return(0,p.e)((B,Q)=>{Q.add(_.schedule(()=>B.subscribe(Q),Ce))})}},4664:(Nt,$e,F)=>{F.d($e,{w:()=>Ce});var p=F(4829),L=F(9360),_=F(8251);function Ce(B,Q){return(0,L.e)((Z,se)=>{let ce=null,J=0,ae=!1;const we=()=>ae&&!ce&&se.complete();Z.subscribe((0,_.x)(se,He=>{ce?.unsubscribe();let We=0;const dt=J++;(0,p.Xf)(B(He,dt)).subscribe(ce=(0,_.x)(se,nt=>se.next(Q?Q(He,nt,dt,We++):nt),()=>{ce=null,we()}))},()=>{ae=!0,we()}))})}},8180:(Nt,$e,F)=>{F.d($e,{q:()=>Ce});var p=F(6232),L=F(9360),_=F(8251);function Ce(B){return B<=0?()=>p.E:(0,L.e)((Q,Z)=>{let se=0;Q.subscribe((0,_.x)(Z,ce=>{++se<=B&&(Z.next(ce),B<=se&&Z.complete())}))})}},9397:(Nt,$e,F)=>{F.d($e,{b:()=>B});var p=F(4674),L=F(9360),_=F(8251),Ce=F(2737);function B(Q,Z,se){const ce=(0,p.m)(Q)||Z||se?{next:Q,error:Z,complete:se}:Q;return ce?(0,L.e)((J,ae)=>{var we;null===(we=ce.subscribe)||void 0===we||we.call(ce);let He=!0;J.subscribe((0,_.x)(ae,We=>{var dt;null===(dt=ce.next)||void 0===dt||dt.call(ce,We),ae.next(We)},()=>{var We;He=!1,null===(We=ce.complete)||void 0===We||We.call(ce),ae.complete()},We=>{var dt;He=!1,null===(dt=ce.error)||void 0===dt||dt.call(ce,We),ae.error(We)},()=>{var We,dt;He&&(null===(We=ce.unsubscribe)||void 0===We||We.call(ce)),null===(dt=ce.finalize)||void 0===dt||dt.call(ce)}))}):Ce.y}},3026:(Nt,$e,F)=>{F.d($e,{T:()=>Ce});var p=F(6973),L=F(9360),_=F(8251);function Ce(Q=B){return(0,L.e)((Z,se)=>{let ce=!1;Z.subscribe((0,_.x)(se,J=>{ce=!0,se.next(J)},()=>ce?se.complete():se.error(Q())))})}function B(){return new p.K}},1954:(Nt,$e,F)=>{F.d($e,{o:()=>B});var p=F(7394);class L extends p.w0{constructor(Z,se){super()}schedule(Z,se=0){return this}}const _={setInterval(Q,Z,...se){const{delegate:ce}=_;return ce?.setInterval?ce.setInterval(Q,Z,...se):setInterval(Q,Z,...se)},clearInterval(Q){const{delegate:Z}=_;return(Z?.clearInterval||clearInterval)(Q)},delegate:void 0};var Ce=F(9039);class B extends L{constructor(Z,se){super(Z,se),this.scheduler=Z,this.work=se,this.pending=!1}schedule(Z,se=0){var ce;if(this.closed)return this;this.state=Z;const J=this.id,ae=this.scheduler;return null!=J&&(this.id=this.recycleAsyncId(ae,J,se)),this.pending=!0,this.delay=se,this.id=null!==(ce=this.id)&&void 0!==ce?ce:this.requestAsyncId(ae,this.id,se),this}requestAsyncId(Z,se,ce=0){return _.setInterval(Z.flush.bind(Z,this),ce)}recycleAsyncId(Z,se,ce=0){if(null!=ce&&this.delay===ce&&!1===this.pending)return se;null!=se&&_.clearInterval(se)}execute(Z,se){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ce=this._execute(Z,se);if(ce)return ce;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Z,se){let J,ce=!1;try{this.work(Z)}catch(ae){ce=!0,J=ae||new Error("Scheduled action threw falsy error")}if(ce)return this.unsubscribe(),J}unsubscribe(){if(!this.closed){const{id:Z,scheduler:se}=this,{actions:ce}=se;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Ce.P)(ce,this),null!=Z&&(this.id=this.recycleAsyncId(se,Z,null)),this.delay=null,super.unsubscribe()}}}},2631:(Nt,$e,F)=>{F.d($e,{v:()=>_});var p=F(4552);class L{constructor(B,Q=L.now){this.schedulerActionCtor=B,this.now=Q}schedule(B,Q=0,Z){return new this.schedulerActionCtor(this,B).schedule(Z,Q)}}L.now=p.l.now;class _ extends L{constructor(B,Q=L.now){super(B,Q),this.actions=[],this._active=!1}flush(B){const{actions:Q}=this;if(this._active)return void Q.push(B);let Z;this._active=!0;do{if(Z=B.execute(B.state,B.delay))break}while(B=Q.shift());if(this._active=!1,Z){for(;B=Q.shift();)B.unsubscribe();throw Z}}}},6321:(Nt,$e,F)=>{F.d($e,{P:()=>Ce,z:()=>_});var p=F(1954);const _=new(F(2631).v)(p.o),Ce=_},4552:(Nt,$e,F)=>{F.d($e,{l:()=>p});const p={now:()=>(p.delegate||Date).now(),delegate:void 0}},7599:(Nt,$e,F)=>{F.d($e,{z:()=>p});const p={setTimeout(L,_,...Ce){const{delegate:B}=p;return B?.setTimeout?B.setTimeout(L,_,...Ce):setTimeout(L,_,...Ce)},clearTimeout(L){const{delegate:_}=p;return(_?.clearTimeout||clearTimeout)(L)},delegate:void 0}},4971:(Nt,$e,F)=>{F.d($e,{h:()=>L});const L=function p(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(Nt,$e,F)=>{F.d($e,{L:()=>p});const p="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(Nt,$e,F)=>{F.d($e,{K:()=>L});const L=(0,F(2306).d)(_=>function(){_(this),this.name="EmptyError",this.message="no elements in sequence"})},9940:(Nt,$e,F)=>{F.d($e,{_6:()=>Q,jO:()=>Ce,yG:()=>B});var p=F(4674),L=F(671);function _(Z){return Z[Z.length-1]}function Ce(Z){return(0,p.m)(_(Z))?Z.pop():void 0}function B(Z){return(0,L.K)(_(Z))?Z.pop():void 0}function Q(Z,se){return"number"==typeof _(Z)?Z.pop():se}},7453:(Nt,$e,F)=>{F.d($e,{D:()=>B});const{isArray:p}=Array,{getPrototypeOf:L,prototype:_,keys:Ce}=Object;function B(Z){if(1===Z.length){const se=Z[0];if(p(se))return{args:se,keys:null};if(function Q(Z){return Z&&"object"==typeof Z&&L(Z)===_}(se)){const ce=Ce(se);return{args:ce.map(J=>se[J]),keys:ce}}}return{args:Z,keys:null}}},9039:(Nt,$e,F)=>{function p(L,_){if(L){const Ce=L.indexOf(_);0<=Ce&&L.splice(Ce,1)}}F.d($e,{P:()=>p})},2306:(Nt,$e,F)=>{function p(L){const Ce=L(B=>{Error.call(B),B.stack=(new Error).stack});return Ce.prototype=Object.create(Error.prototype),Ce.prototype.constructor=Ce,Ce}F.d($e,{d:()=>p})},2714:(Nt,$e,F)=>{function p(L,_){return L.reduce((Ce,B,Q)=>(Ce[B]=_[Q],Ce),{})}F.d($e,{n:()=>p})},1441:(Nt,$e,F)=>{F.d($e,{O:()=>Ce,x:()=>_});var p=F(2653);let L=null;function _(B){if(p.config.useDeprecatedSynchronousErrorHandling){const Q=!L;if(Q&&(L={errorThrown:!1,error:null}),B(),Q){const{errorThrown:Z,error:se}=L;if(L=null,Z)throw se}}else B()}function Ce(B){p.config.useDeprecatedSynchronousErrorHandling&&L&&(L.errorThrown=!0,L.error=B)}},7103:(Nt,$e,F)=>{function p(L,_,Ce,B=0,Q=!1){const Z=_.schedule(function(){Ce(),Q?L.add(this.schedule(null,B)):this.unsubscribe()},B);if(L.add(Z),!Q)return Z}F.d($e,{f:()=>p})},2737:(Nt,$e,F)=>{function p(L){return L}F.d($e,{y:()=>p})},4266:(Nt,$e,F)=>{F.d($e,{z:()=>p});const p=L=>L&&"number"==typeof L.length&&"function"!=typeof L},5726:(Nt,$e,F)=>{F.d($e,{D:()=>L});var p=F(4674);function L(_){return Symbol.asyncIterator&&(0,p.m)(_?.[Symbol.asyncIterator])}},4674:(Nt,$e,F)=>{function p(L){return"function"==typeof L}F.d($e,{m:()=>p})},8382:(Nt,$e,F)=>{F.d($e,{c:()=>_});var p=F(4850),L=F(4674);function _(Ce){return(0,L.m)(Ce[p.L])}},3664:(Nt,$e,F)=>{F.d($e,{T:()=>_});var p=F(4971),L=F(4674);function _(Ce){return(0,L.m)(Ce?.[p.h])}},4026:(Nt,$e,F)=>{F.d($e,{t:()=>L});var p=F(4674);function L(_){return(0,p.m)(_?.then)}},541:(Nt,$e,F)=>{F.d($e,{L:()=>Ce,Q:()=>_});var p=F(7582),L=F(4674);function _(B){return(0,p.FC)(this,arguments,function*(){const Z=B.getReader();try{for(;;){const{value:se,done:ce}=yield(0,p.qq)(Z.read());if(ce)return yield(0,p.qq)(void 0);yield yield(0,p.qq)(se)}}finally{Z.releaseLock()}})}function Ce(B){return(0,L.m)(B?.getReader)}},671:(Nt,$e,F)=>{F.d($e,{K:()=>L});var p=F(4674);function L(_){return _&&(0,p.m)(_.schedule)}},9360:(Nt,$e,F)=>{F.d($e,{A:()=>L,e:()=>_});var p=F(4674);function L(Ce){return(0,p.m)(Ce?.lift)}function _(Ce){return B=>{if(L(B))return B.lift(function(Q){try{return Ce(Q,this)}catch(Z){this.error(Z)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(Nt,$e,F)=>{F.d($e,{Z:()=>Ce});var p=F(7398);const{isArray:L}=Array;function Ce(B){return(0,p.U)(Q=>function _(B,Q){return L(Q)?B(...Q):B(Q)}(B,Q))}},2420:(Nt,$e,F)=>{function p(){}F.d($e,{Z:()=>p})},8407:(Nt,$e,F)=>{F.d($e,{U:()=>_,z:()=>L});var p=F(2737);function L(...Ce){return _(Ce)}function _(Ce){return 0===Ce.length?p.y:1===Ce.length?Ce[0]:function(Q){return Ce.reduce((Z,se)=>se(Z),Q)}}},3894:(Nt,$e,F)=>{F.d($e,{h:()=>_});var p=F(2653),L=F(7599);function _(Ce){L.z.setTimeout(()=>{const{onUnhandledError:B}=p.config;if(!B)throw Ce;B(Ce)})}},9853:(Nt,$e,F)=>{function p(L){return new TypeError(`You provided ${null!==L&&"object"==typeof L?"an invalid object":`'${L}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d($e,{z:()=>p})},6825:(Nt,$e,F)=>{F.d($e,{LC:()=>L,SB:()=>ce,X$:()=>Ce,ZE:()=>lt,ZN:()=>it,_j:()=>p,eR:()=>ae,jt:()=>B,k1:()=>bt,l3:()=>_,oB:()=>se,vP:()=>Z});class p{}class L{}const _="*";function Ce(ft,le){return{type:7,name:ft,definitions:le,options:{}}}function B(ft,le=null){return{type:4,styles:le,timings:ft}}function Z(ft,le=null){return{type:2,steps:ft,options:le}}function se(ft){return{type:6,styles:ft,offset:null}}function ce(ft,le,Oe){return{type:0,name:ft,styles:le,options:Oe}}function ae(ft,le,Oe=null){return{type:1,expr:ft,animation:le,options:Oe}}class it{constructor(le=0,Oe=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=le+Oe}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(le=>le()),this._onDoneFns=[])}onStart(le){this._originalOnStartFns.push(le),this._onStartFns.push(le)}onDone(le){this._originalOnDoneFns.push(le),this._onDoneFns.push(le)}onDestroy(le){this._onDestroyFns.push(le)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(le=>le()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(le=>le()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(le){this._position=this.totalTime?le*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(le){const Oe="start"==le?this._onStartFns:this._onDoneFns;Oe.forEach(he=>he()),Oe.length=0}}class lt{constructor(le){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=le;let Oe=0,he=0,ge=0;const De=this.players.length;0==De?queueMicrotask(()=>this._onFinish()):this.players.forEach(ye=>{ye.onDone(()=>{++Oe==De&&this._onFinish()}),ye.onDestroy(()=>{++he==De&&this._onDestroy()}),ye.onStart(()=>{++ge==De&&this._onStart()})}),this.totalTime=this.players.reduce((ye,rt)=>Math.max(ye,rt.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(le=>le()),this._onDoneFns=[])}init(){this.players.forEach(le=>le.init())}onStart(le){this._onStartFns.push(le)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(le=>le()),this._onStartFns=[])}onDone(le){this._onDoneFns.push(le)}onDestroy(le){this._onDestroyFns.push(le)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(le=>le.play())}pause(){this.players.forEach(le=>le.pause())}restart(){this.players.forEach(le=>le.restart())}finish(){this._onFinish(),this.players.forEach(le=>le.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(le=>le.destroy()),this._onDestroyFns.forEach(le=>le()),this._onDestroyFns=[])}reset(){this.players.forEach(le=>le.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(le){const Oe=le*this.totalTime;this.players.forEach(he=>{const ge=he.totalTime?Math.min(1,Oe/he.totalTime):1;he.setPosition(ge)})}getPosition(){const le=this.players.reduce((Oe,he)=>null===Oe||he.totalTime>Oe.totalTime?he:Oe,null);return null!=le?le.getPosition():0}beforeDestroy(){this.players.forEach(le=>{le.beforeDestroy&&le.beforeDestroy()})}triggerCallback(le){const Oe="start"==le?this._onStartFns:this._onDoneFns;Oe.forEach(he=>he()),Oe.length=0}}const bt="!"},6814:(Nt,$e,F)=>{F.d($e,{Do:()=>nt,EM:()=>is,HT:()=>Ce,JF:()=>xi,K0:()=>Q,Mx:()=>Lr,NF:()=>Ai,O5:()=>ks,PC:()=>ts,PM:()=>rs,S$:()=>He,V_:()=>se,Ye:()=>it,b0:()=>dt,bD:()=>ar,ez:()=>Di,mk:()=>Rr,q:()=>_,sg:()=>yi,tP:()=>Ci,w_:()=>B});var p=F(5879);let L=null;function _(){return L}function Ce(b){L||(L=b)}class B{}const Q=new p.OlP("DocumentToken");let Z=(()=>{class b{historyGo(O){throw new Error("Not implemented")}static#e=this.\u0275fac=function(q){return new(q||b)};static#t=this.\u0275prov=p.Yz7({token:b,factory:function(){return(0,p.f3M)(ce)},providedIn:"platform"})}return b})();const se=new p.OlP("Location Initialized");let ce=(()=>{class b extends Z{constructor(){super(),this._doc=(0,p.f3M)(Q),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return _().getBaseHref(this._doc)}onPopState(O){const q=_().getGlobalEventTarget(this._doc,"window");return q.addEventListener("popstate",O,!1),()=>q.removeEventListener("popstate",O)}onHashChange(O){const q=_().getGlobalEventTarget(this._doc,"window");return q.addEventListener("hashchange",O,!1),()=>q.removeEventListener("hashchange",O)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(O){this._location.pathname=O}pushState(O,q,pe){this._history.pushState(O,q,pe)}replaceState(O,q,pe){this._history.replaceState(O,q,pe)}forward(){this._history.forward()}back(){this._history.back()}historyGo(O=0){this._history.go(O)}getState(){return this._history.state}static#e=this.\u0275fac=function(q){return new(q||b)};static#t=this.\u0275prov=p.Yz7({token:b,factory:function(){return new b},providedIn:"platform"})}return b})();function J(b,Y){if(0==b.length)return Y;if(0==Y.length)return b;let O=0;return b.endsWith("/")&&O++,Y.startsWith("/")&&O++,2==O?b+Y.substring(1):1==O?b+Y:b+"/"+Y}function ae(b){const Y=b.match(/#|\?|$/),O=Y&&Y.index||b.length;return b.slice(0,O-("/"===b[O-1]?1:0))+b.slice(O)}function we(b){return b&&"?"!==b[0]?"?"+b:b}let He=(()=>{class b{historyGo(O){throw new Error("Not implemented")}static#e=this.\u0275fac=function(q){return new(q||b)};static#t=this.\u0275prov=p.Yz7({token:b,factory:function(){return(0,p.f3M)(dt)},providedIn:"root"})}return b})();const We=new p.OlP("appBaseHref");let dt=(()=>{class b extends He{constructor(O,q){super(),this._platformLocation=O,this._removeListenerFns=[],this._baseHref=q??this._platformLocation.getBaseHrefFromDOM()??(0,p.f3M)(Q).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(O){this._removeListenerFns.push(this._platformLocation.onPopState(O),this._platformLocation.onHashChange(O))}getBaseHref(){return this._baseHref}prepareExternalUrl(O){return J(this._baseHref,O)}path(O=!1){const q=this._platformLocation.pathname+we(this._platformLocation.search),pe=this._platformLocation.hash;return pe&&O?`${q}${pe}`:q}pushState(O,q,pe,st){const gt=this.prepareExternalUrl(pe+we(st));this._platformLocation.pushState(O,q,gt)}replaceState(O,q,pe,st){const gt=this.prepareExternalUrl(pe+we(st));this._platformLocation.replaceState(O,q,gt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(O=0){this._platformLocation.historyGo?.(O)}static#e=this.\u0275fac=function(q){return new(q||b)(p.LFG(Z),p.LFG(We,8))};static#t=this.\u0275prov=p.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"})}return b})(),nt=(()=>{class b extends He{constructor(O,q){super(),this._platformLocation=O,this._baseHref="",this._removeListenerFns=[],null!=q&&(this._baseHref=q)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(O){this._removeListenerFns.push(this._platformLocation.onPopState(O),this._platformLocation.onHashChange(O))}getBaseHref(){return this._baseHref}path(O=!1){let q=this._platformLocation.hash;return null==q&&(q="#"),q.length>0?q.substring(1):q}prepareExternalUrl(O){const q=J(this._baseHref,O);return q.length>0?"#"+q:q}pushState(O,q,pe,st){let gt=this.prepareExternalUrl(pe+we(st));0==gt.length&&(gt=this._platformLocation.pathname),this._platformLocation.pushState(O,q,gt)}replaceState(O,q,pe,st){let gt=this.prepareExternalUrl(pe+we(st));0==gt.length&&(gt=this._platformLocation.pathname),this._platformLocation.replaceState(O,q,gt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(O=0){this._platformLocation.historyGo?.(O)}static#e=this.\u0275fac=function(q){return new(q||b)(p.LFG(Z),p.LFG(We,8))};static#t=this.\u0275prov=p.Yz7({token:b,factory:b.\u0275fac})}return b})(),it=(()=>{class b{constructor(O){this._subject=new p.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=O;const q=this._locationStrategy.getBaseHref();this._basePath=function le(b){if(new RegExp("^(https?:)?//").test(b)){const[,O]=b.split(/\/\/[^\/]+/);return O}return b}(ae(ft(q))),this._locationStrategy.onPopState(pe=>{this._subject.emit({url:this.path(!0),pop:!0,state:pe.state,type:pe.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(O=!1){return this.normalize(this._locationStrategy.path(O))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(O,q=""){return this.path()==this.normalize(O+we(q))}normalize(O){return b.stripTrailingSlash(function bt(b,Y){if(!b||!Y.startsWith(b))return Y;const O=Y.substring(b.length);return""===O||["/",";","?","#"].includes(O[0])?O:Y}(this._basePath,ft(O)))}prepareExternalUrl(O){return O&&"/"!==O[0]&&(O="/"+O),this._locationStrategy.prepareExternalUrl(O)}go(O,q="",pe=null){this._locationStrategy.pushState(pe,"",O,q),this._notifyUrlChangeListeners(this.prepareExternalUrl(O+we(q)),pe)}replaceState(O,q="",pe=null){this._locationStrategy.replaceState(pe,"",O,q),this._notifyUrlChangeListeners(this.prepareExternalUrl(O+we(q)),pe)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(O=0){this._locationStrategy.historyGo?.(O)}onUrlChange(O){return this._urlChangeListeners.push(O),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(q=>{this._notifyUrlChangeListeners(q.url,q.state)})),()=>{const q=this._urlChangeListeners.indexOf(O);this._urlChangeListeners.splice(q,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(O="",q){this._urlChangeListeners.forEach(pe=>pe(O,q))}subscribe(O,q,pe){return this._subject.subscribe({next:O,error:q,complete:pe})}static#e=this.normalizeQueryParams=we;static#t=this.joinWithSlash=J;static#n=this.stripTrailingSlash=ae;static#r=this.\u0275fac=function(q){return new(q||b)(p.LFG(He))};static#i=this.\u0275prov=p.Yz7({token:b,factory:function(){return function lt(){return new it((0,p.LFG)(He))}()},providedIn:"root"})}return b})();function ft(b){return b.replace(/\/index.html$/,"")}function Lr(b,Y){Y=encodeURIComponent(Y);for(const O of b.split(";")){const q=O.indexOf("="),[pe,st]=-1==q?[O,""]:[O.slice(0,q),O.slice(q+1)];if(pe.trim()===Y)return decodeURIComponent(st)}return null}const Pi=/\s+/,gr=[];let Rr=(()=>{class b{constructor(O,q,pe,st){this._iterableDiffers=O,this._keyValueDiffers=q,this._ngEl=pe,this._renderer=st,this.initialClasses=gr,this.stateMap=new Map}set klass(O){this.initialClasses=null!=O?O.trim().split(Pi):gr}set ngClass(O){this.rawClass="string"==typeof O?O.trim().split(Pi):O}ngDoCheck(){for(const q of this.initialClasses)this._updateState(q,!0);const O=this.rawClass;if(Array.isArray(O)||O instanceof Set)for(const q of O)this._updateState(q,!0);else if(null!=O)for(const q of Object.keys(O))this._updateState(q,!!O[q]);this._applyStateDiff()}_updateState(O,q){const pe=this.stateMap.get(O);void 0!==pe?(pe.enabled!==q&&(pe.changed=!0,pe.enabled=q),pe.touched=!0):this.stateMap.set(O,{enabled:q,changed:!0,touched:!0})}_applyStateDiff(){for(const O of this.stateMap){const q=O[0],pe=O[1];pe.changed?(this._toggleClass(q,pe.enabled),pe.changed=!1):pe.touched||(pe.enabled&&this._toggleClass(q,!1),this.stateMap.delete(q)),pe.touched=!1}}_toggleClass(O,q){(O=O.trim()).length>0&&O.split(Pi).forEach(pe=>{q?this._renderer.addClass(this._ngEl.nativeElement,pe):this._renderer.removeClass(this._ngEl.nativeElement,pe)})}static#e=this.\u0275fac=function(q){return new(q||b)(p.Y36(p.ZZ4),p.Y36(p.aQg),p.Y36(p.SBq),p.Y36(p.Qsj))};static#t=this.\u0275dir=p.lG2({type:b,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return b})();class Ln{constructor(Y,O,q,pe){this.$implicit=Y,this.ngForOf=O,this.index=q,this.count=pe}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let yi=(()=>{class b{set ngForOf(O){this._ngForOf=O,this._ngForOfDirty=!0}set ngForTrackBy(O){this._trackByFn=O}get ngForTrackBy(){return this._trackByFn}constructor(O,q,pe){this._viewContainer=O,this._template=q,this._differs=pe,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(O){O&&(this._template=O)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const O=this._ngForOf;!this._differ&&O&&(this._differ=this._differs.find(O).create(this.ngForTrackBy))}if(this._differ){const O=this._differ.diff(this._ngForOf);O&&this._applyChanges(O)}}_applyChanges(O){const q=this._viewContainer;O.forEachOperation((pe,st,gt)=>{if(null==pe.previousIndex)q.createEmbeddedView(this._template,new Ln(pe.item,this._ngForOf,-1,-1),null===gt?void 0:gt);else if(null==gt)q.remove(null===st?void 0:st);else if(null!==st){const en=q.get(st);q.move(en,gt),ds(en,pe)}});for(let pe=0,st=q.length;pe<st;pe++){const en=q.get(pe).context;en.index=pe,en.count=st,en.ngForOf=this._ngForOf}O.forEachIdentityChange(pe=>{ds(q.get(pe.currentIndex),pe)})}static ngTemplateContextGuard(O,q){return!0}static#e=this.\u0275fac=function(q){return new(q||b)(p.Y36(p.s_b),p.Y36(p.Rgc),p.Y36(p.ZZ4))};static#t=this.\u0275dir=p.lG2({type:b,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return b})();function ds(b,Y){b.context.$implicit=Y.item}let ks=(()=>{class b{constructor(O,q){this._viewContainer=O,this._context=new Ls,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=q}set ngIf(O){this._context.$implicit=this._context.ngIf=O,this._updateView()}set ngIfThen(O){So("ngIfThen",O),this._thenTemplateRef=O,this._thenViewRef=null,this._updateView()}set ngIfElse(O){So("ngIfElse",O),this._elseTemplateRef=O,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(O,q){return!0}static#e=this.\u0275fac=function(q){return new(q||b)(p.Y36(p.s_b),p.Y36(p.Rgc))};static#t=this.\u0275dir=p.lG2({type:b,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return b})();class Ls{constructor(){this.$implicit=null,this.ngIf=null}}function So(b,Y){if(Y&&!Y.createEmbeddedView)throw new Error(`${b} must be a TemplateRef, but received '${(0,p.AaK)(Y)}'.`)}let ts=(()=>{class b{constructor(O,q,pe){this._ngEl=O,this._differs=q,this._renderer=pe,this._ngStyle=null,this._differ=null}set ngStyle(O){this._ngStyle=O,!this._differ&&O&&(this._differ=this._differs.find(O).create())}ngDoCheck(){if(this._differ){const O=this._differ.diff(this._ngStyle);O&&this._applyChanges(O)}}_setStyle(O,q){const[pe,st]=O.split("."),gt=-1===pe.indexOf("-")?void 0:p.JOm.DashCase;null!=q?this._renderer.setStyle(this._ngEl.nativeElement,pe,st?`${q}${st}`:q,gt):this._renderer.removeStyle(this._ngEl.nativeElement,pe,gt)}_applyChanges(O){O.forEachRemovedItem(q=>this._setStyle(q.key,null)),O.forEachAddedItem(q=>this._setStyle(q.key,q.currentValue)),O.forEachChangedItem(q=>this._setStyle(q.key,q.currentValue))}static#e=this.\u0275fac=function(q){return new(q||b)(p.Y36(p.SBq),p.Y36(p.aQg),p.Y36(p.Qsj))};static#t=this.\u0275dir=p.lG2({type:b,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return b})(),Ci=(()=>{class b{constructor(O){this._viewContainerRef=O,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(O){if(O.ngTemplateOutlet||O.ngTemplateOutletInjector){const q=this._viewContainerRef;if(this._viewRef&&q.remove(q.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:pe,ngTemplateOutletContext:st,ngTemplateOutletInjector:gt}=this;this._viewRef=q.createEmbeddedView(pe,st,gt?{injector:gt}:void 0)}else this._viewRef=null}else this._viewRef&&O.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(q){return new(q||b)(p.Y36(p.s_b))};static#t=this.\u0275dir=p.lG2({type:b,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[p.TTD]})}return b})(),Di=(()=>{class b{static#e=this.\u0275fac=function(q){return new(q||b)};static#t=this.\u0275mod=p.oAB({type:b});static#n=this.\u0275inj=p.cJS({})}return b})();const ar="browser",Ui="server";function Ai(b){return b===ar}function rs(b){return b===Ui}let is=(()=>{class b{static#e=this.\u0275prov=(0,p.Yz7)({token:b,providedIn:"root",factory:()=>new vi((0,p.LFG)(Q),window)})}return b})();class vi{constructor(Y,O){this.document=Y,this.window=O,this.offset=()=>[0,0]}setOffset(Y){this.offset=Array.isArray(Y)?()=>Y:Y}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(Y){this.supportsScrolling()&&this.window.scrollTo(Y[0],Y[1])}scrollToAnchor(Y){if(!this.supportsScrolling())return;const O=function uo(b,Y){const O=b.getElementById(Y)||b.getElementsByName(Y)[0];if(O)return O;if("function"==typeof b.createTreeWalker&&b.body&&"function"==typeof b.body.attachShadow){const q=b.createTreeWalker(b.body,NodeFilter.SHOW_ELEMENT);let pe=q.currentNode;for(;pe;){const st=pe.shadowRoot;if(st){const gt=st.getElementById(Y)||st.querySelector(`[name="${Y}"]`);if(gt)return gt}pe=q.nextNode()}}return null}(this.document,Y);O&&(this.scrollToElement(O),O.focus())}setHistoryScrollRestoration(Y){this.supportsScrolling()&&(this.window.history.scrollRestoration=Y)}scrollToElement(Y){const O=Y.getBoundingClientRect(),q=O.left+this.window.pageXOffset,pe=O.top+this.window.pageYOffset,st=this.offset();this.window.scrollTo(q-st[0],pe-st[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class xi{}},9862:(Nt,$e,F)=>{F.d($e,{JF:()=>N,eN:()=>Se});var p=F(5879),L=F(2096),_=F(2459),Ce=F(5592),B=F(6328),Q=F(2181),Z=F(7398),se=F(4716),ce=F(4664),J=F(6814);class ae{}class we{}class He{constructor(_e){this.normalizedNames=new Map,this.lazyUpdate=null,_e?"string"==typeof _e?this.lazyInit=()=>{this.headers=new Map,_e.split("\n").forEach(Pe=>{const Ee=Pe.indexOf(":");if(Ee>0){const Te=Pe.slice(0,Ee),je=Te.toLowerCase(),Qe=Pe.slice(Ee+1).trim();this.maybeSetNormalizedName(Te,je),this.headers.has(je)?this.headers.get(je).push(Qe):this.headers.set(je,[Qe])}})}:typeof Headers<"u"&&_e instanceof Headers?(this.headers=new Map,_e.forEach((Pe,Ee)=>{this.setHeaderEntries(Ee,Pe)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(_e).forEach(([Pe,Ee])=>{this.setHeaderEntries(Pe,Ee)})}:this.headers=new Map}has(_e){return this.init(),this.headers.has(_e.toLowerCase())}get(_e){this.init();const Pe=this.headers.get(_e.toLowerCase());return Pe&&Pe.length>0?Pe[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(_e){return this.init(),this.headers.get(_e.toLowerCase())||null}append(_e,Pe){return this.clone({name:_e,value:Pe,op:"a"})}set(_e,Pe){return this.clone({name:_e,value:Pe,op:"s"})}delete(_e,Pe){return this.clone({name:_e,value:Pe,op:"d"})}maybeSetNormalizedName(_e,Pe){this.normalizedNames.has(Pe)||this.normalizedNames.set(Pe,_e)}init(){this.lazyInit&&(this.lazyInit instanceof He?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(_e=>this.applyUpdate(_e)),this.lazyUpdate=null))}copyFrom(_e){_e.init(),Array.from(_e.headers.keys()).forEach(Pe=>{this.headers.set(Pe,_e.headers.get(Pe)),this.normalizedNames.set(Pe,_e.normalizedNames.get(Pe))})}clone(_e){const Pe=new He;return Pe.lazyInit=this.lazyInit&&this.lazyInit instanceof He?this.lazyInit:this,Pe.lazyUpdate=(this.lazyUpdate||[]).concat([_e]),Pe}applyUpdate(_e){const Pe=_e.name.toLowerCase();switch(_e.op){case"a":case"s":let Ee=_e.value;if("string"==typeof Ee&&(Ee=[Ee]),0===Ee.length)return;this.maybeSetNormalizedName(_e.name,Pe);const Te=("a"===_e.op?this.headers.get(Pe):void 0)||[];Te.push(...Ee),this.headers.set(Pe,Te);break;case"d":const je=_e.value;if(je){let Qe=this.headers.get(Pe);if(!Qe)return;Qe=Qe.filter(Ut=>-1===je.indexOf(Ut)),0===Qe.length?(this.headers.delete(Pe),this.normalizedNames.delete(Pe)):this.headers.set(Pe,Qe)}else this.headers.delete(Pe),this.normalizedNames.delete(Pe)}}setHeaderEntries(_e,Pe){const Ee=(Array.isArray(Pe)?Pe:[Pe]).map(je=>je.toString()),Te=_e.toLowerCase();this.headers.set(Te,Ee),this.maybeSetNormalizedName(_e,Te)}forEach(_e){this.init(),Array.from(this.normalizedNames.keys()).forEach(Pe=>_e(this.normalizedNames.get(Pe),this.headers.get(Pe)))}}class dt{encodeKey(_e){return bt(_e)}encodeValue(_e){return bt(_e)}decodeKey(_e){return decodeURIComponent(_e)}decodeValue(_e){return decodeURIComponent(_e)}}const it=/%(\d[a-f0-9])/gi,lt={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function bt(Me){return encodeURIComponent(Me).replace(it,(_e,Pe)=>lt[Pe]??_e)}function ft(Me){return`${Me}`}class le{constructor(_e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=_e.encoder||new dt,_e.fromString){if(_e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function nt(Me,_e){const Pe=new Map;return Me.length>0&&Me.replace(/^\?/,"").split("&").forEach(Te=>{const je=Te.indexOf("="),[Qe,Ut]=-1==je?[_e.decodeKey(Te),""]:[_e.decodeKey(Te.slice(0,je)),_e.decodeValue(Te.slice(je+1))],yt=Pe.get(Qe)||[];yt.push(Ut),Pe.set(Qe,yt)}),Pe}(_e.fromString,this.encoder)}else _e.fromObject?(this.map=new Map,Object.keys(_e.fromObject).forEach(Pe=>{const Ee=_e.fromObject[Pe],Te=Array.isArray(Ee)?Ee.map(ft):[ft(Ee)];this.map.set(Pe,Te)})):this.map=null}has(_e){return this.init(),this.map.has(_e)}get(_e){this.init();const Pe=this.map.get(_e);return Pe?Pe[0]:null}getAll(_e){return this.init(),this.map.get(_e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(_e,Pe){return this.clone({param:_e,value:Pe,op:"a"})}appendAll(_e){const Pe=[];return Object.keys(_e).forEach(Ee=>{const Te=_e[Ee];Array.isArray(Te)?Te.forEach(je=>{Pe.push({param:Ee,value:je,op:"a"})}):Pe.push({param:Ee,value:Te,op:"a"})}),this.clone(Pe)}set(_e,Pe){return this.clone({param:_e,value:Pe,op:"s"})}delete(_e,Pe){return this.clone({param:_e,value:Pe,op:"d"})}toString(){return this.init(),this.keys().map(_e=>{const Pe=this.encoder.encodeKey(_e);return this.map.get(_e).map(Ee=>Pe+"="+this.encoder.encodeValue(Ee)).join("&")}).filter(_e=>""!==_e).join("&")}clone(_e){const Pe=new le({encoder:this.encoder});return Pe.cloneFrom=this.cloneFrom||this,Pe.updates=(this.updates||[]).concat(_e),Pe}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(_e=>this.map.set(_e,this.cloneFrom.map.get(_e))),this.updates.forEach(_e=>{switch(_e.op){case"a":case"s":const Pe=("a"===_e.op?this.map.get(_e.param):void 0)||[];Pe.push(ft(_e.value)),this.map.set(_e.param,Pe);break;case"d":if(void 0===_e.value){this.map.delete(_e.param);break}{let Ee=this.map.get(_e.param)||[];const Te=Ee.indexOf(ft(_e.value));-1!==Te&&Ee.splice(Te,1),Ee.length>0?this.map.set(_e.param,Ee):this.map.delete(_e.param)}}}),this.cloneFrom=this.updates=null)}}class he{constructor(){this.map=new Map}set(_e,Pe){return this.map.set(_e,Pe),this}get(_e){return this.map.has(_e)||this.map.set(_e,_e.defaultValue()),this.map.get(_e)}delete(_e){return this.map.delete(_e),this}has(_e){return this.map.has(_e)}keys(){return this.map.keys()}}function De(Me){return typeof ArrayBuffer<"u"&&Me instanceof ArrayBuffer}function ye(Me){return typeof Blob<"u"&&Me instanceof Blob}function rt(Me){return typeof FormData<"u"&&Me instanceof FormData}class Vt{constructor(_e,Pe,Ee,Te){let je;if(this.url=Pe,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=_e.toUpperCase(),function ge(Me){switch(Me){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Te?(this.body=void 0!==Ee?Ee:null,je=Te):je=Ee,je&&(this.reportProgress=!!je.reportProgress,this.withCredentials=!!je.withCredentials,je.responseType&&(this.responseType=je.responseType),je.headers&&(this.headers=je.headers),je.context&&(this.context=je.context),je.params&&(this.params=je.params)),this.headers||(this.headers=new He),this.context||(this.context=new he),this.params){const Qe=this.params.toString();if(0===Qe.length)this.urlWithParams=Pe;else{const Ut=Pe.indexOf("?");this.urlWithParams=Pe+(-1===Ut?"?":Ut<Pe.length-1?"&":"")+Qe}}else this.params=new le,this.urlWithParams=Pe}serializeBody(){return null===this.body?null:De(this.body)||ye(this.body)||rt(this.body)||function Ie(Me){return typeof URLSearchParams<"u"&&Me instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof le?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||rt(this.body)?null:ye(this.body)?this.body.type||null:De(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof le?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(_e={}){const Pe=_e.method||this.method,Ee=_e.url||this.url,Te=_e.responseType||this.responseType,je=void 0!==_e.body?_e.body:this.body,Qe=void 0!==_e.withCredentials?_e.withCredentials:this.withCredentials,Ut=void 0!==_e.reportProgress?_e.reportProgress:this.reportProgress;let yt=_e.headers||this.headers,gn=_e.params||this.params;const pr=_e.context??this.context;return void 0!==_e.setHeaders&&(yt=Object.keys(_e.setHeaders).reduce((Rn,ur)=>Rn.set(ur,_e.setHeaders[ur]),yt)),_e.setParams&&(gn=Object.keys(_e.setParams).reduce((Rn,ur)=>Rn.set(ur,_e.setParams[ur]),gn)),new Vt(Pe,Ee,je,{params:gn,headers:yt,context:pr,reportProgress:Ut,responseType:Te,withCredentials:Qe})}}var It=function(Me){return Me[Me.Sent=0]="Sent",Me[Me.UploadProgress=1]="UploadProgress",Me[Me.ResponseHeader=2]="ResponseHeader",Me[Me.DownloadProgress=3]="DownloadProgress",Me[Me.Response=4]="Response",Me[Me.User=5]="User",Me}(It||{});class ut{constructor(_e,Pe=200,Ee="OK"){this.headers=_e.headers||new He,this.status=void 0!==_e.status?_e.status:Pe,this.statusText=_e.statusText||Ee,this.url=_e.url||null,this.ok=this.status>=200&&this.status<300}}class Tn extends ut{constructor(_e={}){super(_e),this.type=It.ResponseHeader}clone(_e={}){return new Tn({headers:_e.headers||this.headers,status:void 0!==_e.status?_e.status:this.status,statusText:_e.statusText||this.statusText,url:_e.url||this.url||void 0})}}class Rt extends ut{constructor(_e={}){super(_e),this.type=It.Response,this.body=void 0!==_e.body?_e.body:null}clone(_e={}){return new Rt({body:void 0!==_e.body?_e.body:this.body,headers:_e.headers||this.headers,status:void 0!==_e.status?_e.status:this.status,statusText:_e.statusText||this.statusText,url:_e.url||this.url||void 0})}}class Pt extends ut{constructor(_e){super(_e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${_e.url||"(unknown url)"}`:`Http failure response for ${_e.url||"(unknown url)"}: ${_e.status} ${_e.statusText}`,this.error=_e.error||null}}function kt(Me,_e){return{body:_e,headers:Me.headers,context:Me.context,observe:Me.observe,params:Me.params,reportProgress:Me.reportProgress,responseType:Me.responseType,withCredentials:Me.withCredentials}}let Se=(()=>{class Me{constructor(Pe){this.handler=Pe}request(Pe,Ee,Te={}){let je;if(Pe instanceof Vt)je=Pe;else{let yt,gn;yt=Te.headers instanceof He?Te.headers:new He(Te.headers),Te.params&&(gn=Te.params instanceof le?Te.params:new le({fromObject:Te.params})),je=new Vt(Pe,Ee,void 0!==Te.body?Te.body:null,{headers:yt,context:Te.context,params:gn,reportProgress:Te.reportProgress,responseType:Te.responseType||"json",withCredentials:Te.withCredentials})}const Qe=(0,L.of)(je).pipe((0,B.b)(yt=>this.handler.handle(yt)));if(Pe instanceof Vt||"events"===Te.observe)return Qe;const Ut=Qe.pipe((0,Q.h)(yt=>yt instanceof Rt));switch(Te.observe||"body"){case"body":switch(je.responseType){case"arraybuffer":return Ut.pipe((0,Z.U)(yt=>{if(null!==yt.body&&!(yt.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return yt.body}));case"blob":return Ut.pipe((0,Z.U)(yt=>{if(null!==yt.body&&!(yt.body instanceof Blob))throw new Error("Response is not a Blob.");return yt.body}));case"text":return Ut.pipe((0,Z.U)(yt=>{if(null!==yt.body&&"string"!=typeof yt.body)throw new Error("Response is not a string.");return yt.body}));default:return Ut.pipe((0,Z.U)(yt=>yt.body))}case"response":return Ut;default:throw new Error(`Unreachable: unhandled observe type ${Te.observe}}`)}}delete(Pe,Ee={}){return this.request("DELETE",Pe,Ee)}get(Pe,Ee={}){return this.request("GET",Pe,Ee)}head(Pe,Ee={}){return this.request("HEAD",Pe,Ee)}jsonp(Pe,Ee){return this.request("JSONP",Pe,{params:(new le).append(Ee,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Pe,Ee={}){return this.request("OPTIONS",Pe,Ee)}patch(Pe,Ee,Te={}){return this.request("PATCH",Pe,kt(Te,Ee))}post(Pe,Ee,Te={}){return this.request("POST",Pe,kt(Te,Ee))}put(Pe,Ee,Te={}){return this.request("PUT",Pe,kt(Te,Ee))}static#e=this.\u0275fac=function(Ee){return new(Ee||Me)(p.LFG(ae))};static#t=this.\u0275prov=p.Yz7({token:Me,factory:Me.\u0275fac})}return Me})();function Dn(Me,_e){return _e(Me)}function cn(Me,_e){return(Pe,Ee)=>_e.intercept(Pe,{handle:Te=>Me(Te,Ee)})}const pn=new p.OlP(""),zn=new p.OlP(""),fn=new p.OlP("");function jn(){let Me=null;return(_e,Pe)=>{null===Me&&(Me=((0,p.f3M)(pn,{optional:!0})??[]).reduceRight(cn,Dn));const Ee=(0,p.f3M)(p.HDt),Te=Ee.add();return Me(_e,Pe).pipe((0,se.x)(()=>Ee.remove(Te)))}}let An=(()=>{class Me extends ae{constructor(Pe,Ee){super(),this.backend=Pe,this.injector=Ee,this.chain=null,this.pendingTasks=(0,p.f3M)(p.HDt)}handle(Pe){if(null===this.chain){const Te=Array.from(new Set([...this.injector.get(zn),...this.injector.get(fn,[])]));this.chain=Te.reduceRight((je,Qe)=>function On(Me,_e,Pe){return(Ee,Te)=>Pe.runInContext(()=>_e(Ee,je=>Me(je,Te)))}(je,Qe,this.injector),Dn)}const Ee=this.pendingTasks.add();return this.chain(Pe,Te=>this.backend.handle(Te)).pipe((0,se.x)(()=>this.pendingTasks.remove(Ee)))}static#e=this.\u0275fac=function(Ee){return new(Ee||Me)(p.LFG(we),p.LFG(p.lqb))};static#t=this.\u0275prov=p.Yz7({token:Me,factory:Me.\u0275fac})}return Me})();const Ir=/^\)\]\}',?\n/;let St=(()=>{class Me{constructor(Pe){this.xhrFactory=Pe}handle(Pe){if("JSONP"===Pe.method)throw new p.vHH(-2800,!1);const Ee=this.xhrFactory;return(Ee.\u0275loadImpl?(0,_.D)(Ee.\u0275loadImpl()):(0,L.of)(null)).pipe((0,ce.w)(()=>new Ce.y(je=>{const Qe=Ee.build();if(Qe.open(Pe.method,Pe.urlWithParams),Pe.withCredentials&&(Qe.withCredentials=!0),Pe.headers.forEach((gr,Rr)=>Qe.setRequestHeader(gr,Rr.join(","))),Pe.headers.has("Accept")||Qe.setRequestHeader("Accept","application/json, text/plain, */*"),!Pe.headers.has("Content-Type")){const gr=Pe.detectContentTypeHeader();null!==gr&&Qe.setRequestHeader("Content-Type",gr)}if(Pe.responseType){const gr=Pe.responseType.toLowerCase();Qe.responseType="json"!==gr?gr:"text"}const Ut=Pe.serializeBody();let yt=null;const gn=()=>{if(null!==yt)return yt;const gr=Qe.statusText||"OK",Rr=new He(Qe.getAllResponseHeaders()),ri=function Ye(Me){return"responseURL"in Me&&Me.responseURL?Me.responseURL:/^X-Request-URL:/m.test(Me.getAllResponseHeaders())?Me.getResponseHeader("X-Request-URL"):null}(Qe)||Pe.url;return yt=new Tn({headers:Rr,status:Qe.status,statusText:gr,url:ri}),yt},pr=()=>{let{headers:gr,status:Rr,statusText:ri,url:Zs}=gn(),Ln=null;204!==Rr&&(Ln=typeof Qe.response>"u"?Qe.responseText:Qe.response),0===Rr&&(Rr=Ln?200:0);let yi=Rr>=200&&Rr<300;if("json"===Pe.responseType&&"string"==typeof Ln){const ds=Ln;Ln=Ln.replace(Ir,"");try{Ln=""!==Ln?JSON.parse(Ln):null}catch(Ri){Ln=ds,yi&&(yi=!1,Ln={error:Ri,text:Ln})}}yi?(je.next(new Rt({body:Ln,headers:gr,status:Rr,statusText:ri,url:Zs||void 0})),je.complete()):je.error(new Pt({error:Ln,headers:gr,status:Rr,statusText:ri,url:Zs||void 0}))},Rn=gr=>{const{url:Rr}=gn(),ri=new Pt({error:gr,status:Qe.status||0,statusText:Qe.statusText||"Unknown Error",url:Rr||void 0});je.error(ri)};let ur=!1;const Lr=gr=>{ur||(je.next(gn()),ur=!0);let Rr={type:It.DownloadProgress,loaded:gr.loaded};gr.lengthComputable&&(Rr.total=gr.total),"text"===Pe.responseType&&Qe.responseText&&(Rr.partialText=Qe.responseText),je.next(Rr)},Pi=gr=>{let Rr={type:It.UploadProgress,loaded:gr.loaded};gr.lengthComputable&&(Rr.total=gr.total),je.next(Rr)};return Qe.addEventListener("load",pr),Qe.addEventListener("error",Rn),Qe.addEventListener("timeout",Rn),Qe.addEventListener("abort",Rn),Pe.reportProgress&&(Qe.addEventListener("progress",Lr),null!==Ut&&Qe.upload&&Qe.upload.addEventListener("progress",Pi)),Qe.send(Ut),je.next({type:It.Sent}),()=>{Qe.removeEventListener("error",Rn),Qe.removeEventListener("abort",Rn),Qe.removeEventListener("load",pr),Qe.removeEventListener("timeout",Rn),Pe.reportProgress&&(Qe.removeEventListener("progress",Lr),null!==Ut&&Qe.upload&&Qe.upload.removeEventListener("progress",Pi)),Qe.readyState!==Qe.DONE&&Qe.abort()}})))}static#e=this.\u0275fac=function(Ee){return new(Ee||Me)(p.LFG(J.JF))};static#t=this.\u0275prov=p.Yz7({token:Me,factory:Me.\u0275fac})}return Me})();const Re=new p.OlP("XSRF_ENABLED"),Ze=new p.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Mt=new p.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Xn{}let yn=(()=>{class Me{constructor(Pe,Ee,Te){this.doc=Pe,this.platform=Ee,this.cookieName=Te,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Pe=this.doc.cookie||"";return Pe!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,J.Mx)(Pe,this.cookieName),this.lastCookieString=Pe),this.lastToken}static#e=this.\u0275fac=function(Ee){return new(Ee||Me)(p.LFG(J.K0),p.LFG(p.Lbi),p.LFG(Ze))};static#t=this.\u0275prov=p.Yz7({token:Me,factory:Me.\u0275fac})}return Me})();function jr(Me,_e){const Pe=Me.url.toLowerCase();if(!(0,p.f3M)(Re)||"GET"===Me.method||"HEAD"===Me.method||Pe.startsWith("http://")||Pe.startsWith("https://"))return _e(Me);const Ee=(0,p.f3M)(Xn).getToken(),Te=(0,p.f3M)(Mt);return null!=Ee&&!Me.headers.has(Te)&&(Me=Me.clone({headers:Me.headers.set(Te,Ee)})),_e(Me)}var kn=function(Me){return Me[Me.Interceptors=0]="Interceptors",Me[Me.LegacyInterceptors=1]="LegacyInterceptors",Me[Me.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Me[Me.NoXsrfProtection=3]="NoXsrfProtection",Me[Me.JsonpSupport=4]="JsonpSupport",Me[Me.RequestsMadeViaParent=5]="RequestsMadeViaParent",Me[Me.Fetch=6]="Fetch",Me}(kn||{});function oi(...Me){const _e=[Se,St,An,{provide:ae,useExisting:An},{provide:we,useExisting:St},{provide:zn,useValue:jr,multi:!0},{provide:Re,useValue:!0},{provide:Xn,useClass:yn}];for(const Pe of Me)_e.push(...Pe.\u0275providers);return(0,p.MR2)(_e)}const Ti=new p.OlP("LEGACY_INTERCEPTOR_FN");function $r(){return function Ar(Me,_e){return{\u0275kind:Me,\u0275providers:_e}}(kn.LegacyInterceptors,[{provide:Ti,useFactory:jn},{provide:zn,useExisting:Ti,multi:!0}])}let N=(()=>{class Me{static#e=this.\u0275fac=function(Ee){return new(Ee||Me)};static#t=this.\u0275mod=p.oAB({type:Me});static#n=this.\u0275inj=p.cJS({providers:[oi($r())]})}return Me})()},5879:(Nt,$e,F)=>{F.d($e,{$8M:()=>na,$WT:()=>hs,$Z:()=>Fg,AFp:()=>Tf,AaK:()=>we,AsE:()=>Hm,BQk:()=>Va,CHM:()=>nn,CRH:()=>_T,EJc:()=>kb,EiD:()=>so,EpF:()=>Qy,F$t:()=>fc,F4k:()=>Yy,FYo:()=>ey,FiY:()=>Uu,Gf:()=>gT,GfV:()=>xf,GkF:()=>wm,Gpc:()=>dt,HDt:()=>UT,Hsn:()=>dp,JOm:()=>el,JVY:()=>Xu,JZr:()=>ft,KtG:()=>bn,L6k:()=>jv,LAX:()=>$v,LFG:()=>Dt,LSH:()=>au,Lbi:()=>Cf,Lck:()=>Iw,MAs:()=>Im,MMx:()=>H0,MR2:()=>_f,NdJ:()=>Am,O4$:()=>Eo,Ojb:()=>q_,OlP:()=>Ze,Oqu:()=>Bm,P3R:()=>kl,PXZ:()=>cD,Q6J:()=>kh,QGY:()=>Dm,QbO:()=>W_,Qsj:()=>oh,R0b:()=>qs,RDi:()=>D_,Rgc:()=>Jm,SBq:()=>ac,Sil:()=>Vb,Suo:()=>mT,TTD:()=>$n,TgZ:()=>Em,Tol:()=>uv,VKq:()=>Z0,VuI:()=>WD,WLB:()=>Q0,X6Q:()=>yD,XFs:()=>ln,Xpm:()=>zr,Xq5:()=>AI,Xts:()=>qd,Y36:()=>gu,YKP:()=>U0,YNc:()=>zy,Yjl:()=>qi,Yz7:()=>pn,Z0I:()=>An,ZZ4:()=>BE,_Bn:()=>V0,_UZ:()=>Cm,_c5:()=>ND,_uU:()=>hv,aQg:()=>HE,c2e:()=>VT,cJS:()=>fn,cg1:()=>es,dDg:()=>oD,dqk:()=>St,eBb:()=>R_,eFA:()=>ZT,eJc:()=>wE,ekj:()=>fp,eoX:()=>zT,evT:()=>sy,f3M:()=>Wt,g9A:()=>z_,h0i:()=>Bh,hGG:()=>kD,hij:()=>Vh,iGM:()=>pT,ifc:()=>Qe,ip1:()=>FT,jDz:()=>j0,kEZ:()=>Y0,kL8:()=>vv,lG2:()=>Vs,lqb:()=>ol,lri:()=>$T,mCW:()=>$d,n5z:()=>Cd,oAB:()=>ao,oxw:()=>Pm,pB0:()=>Gv,q3G:()=>sl,q4F:()=>ah,qFp:()=>KD,qLn:()=>hu,qOj:()=>ep,qZA:()=>Tm,qzn:()=>Nl,rWj:()=>GT,rg0:()=>st,sBO:()=>vD,s_b:()=>Dv,soG:()=>Sv,tb:()=>NE,tp0:()=>Bu,uIk:()=>sp,vHH:()=>le,vpe:()=>al,wAp:()=>yp,xp6:()=>Gf,ynx:()=>Eu,z2F:()=>Tp,z3N:()=>rl,zSh:()=>Zd,zs3:()=>ra});var p=F(8645),L=F(7394),_=F(5592),Ce=F(3019),B=F(5619),Q=F(2096),Z=F(3020),se=F(4664),ce=F(3997);function J(t){for(let r in t)if(t[r]===J)return r;throw Error("Could not find renamed property on target object.")}function ae(t,r){for(const o in r)r.hasOwnProperty(o)&&!t.hasOwnProperty(o)&&(t[o]=r[o])}function we(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(we).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const r=t.toString();if(null==r)return""+r;const o=r.indexOf("\n");return-1===o?r:r.substring(0,o)}function He(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}const We=J({__forward_ref__:J});function dt(t){return t.__forward_ref__=dt,t.toString=function(){return we(this())},t}function nt(t){return it(t)?t():t}function it(t){return"function"==typeof t&&t.hasOwnProperty(We)&&t.__forward_ref__===dt}function lt(t){return t&&!!t.\u0275providers}const ft="https://g.co/ng/security#xss";class le extends Error{constructor(r,o){super(function Oe(t,r){return`NG0${Math.abs(t)}${r?": "+r:""}`}(r,o)),this.code=r}}function he(t){return"string"==typeof t?t:null==t?"":String(t)}function Ie(t,r){throw new le(-201,!1)}function At(t,r){null==t&&function vt(t,r,o,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${o} ${a} ${r} <=Actual]`))}(r,t,null,"!=")}function pn(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function fn(t){return{providers:t.providers||[],imports:t.imports||[]}}function jn(t){return Xt(t,Mn)||Xt(t,Pr)}function An(t){return null!==jn(t)}function Xt(t,r){return t.hasOwnProperty(r)?t[r]:null}function _r(t){return t&&(t.hasOwnProperty(Jn)||t.hasOwnProperty(dn))?t[Jn]:null}const Mn=J({\u0275prov:J}),Jn=J({\u0275inj:J}),Pr=J({ngInjectableDef:J}),dn=J({ngInjectorDef:J});var ln=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ln||{});let _n;function or(t){const r=_n;return _n=t,r}function Ir(t,r,o){const a=jn(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:o&ln.Optional?null:void 0!==r?r:void Ie(we(t))}const St=globalThis;class Ze{constructor(r,o){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=pn({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const $r={},kr="__NG_DI_FLAG__",Yr="ngTempTokenPath",re=/\n/gm,k="__source";let N;function Ve(t){const r=N;return N=t,r}function pt(t,r=ln.Default){if(void 0===N)throw new le(-203,!1);return null===N?Ir(t,void 0,r):N.get(t,r&ln.Optional?null:void 0,r)}function Dt(t,r=ln.Default){return(function on(){return _n}()||pt)(nt(t),r)}function Wt(t,r=ln.Default){return Dt(t,an(r))}function an(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Zn(t){const r=[];for(let o=0;o<t.length;o++){const a=nt(t[o]);if(Array.isArray(a)){if(0===a.length)throw new le(900,!1);let u,d=ln.Default;for(let m=0;m<a.length;m++){const C=a[m],S=_e(C);"number"==typeof S?-1===S?u=C.token:d|=S:u=C}r.push(Dt(u,d))}else r.push(Dt(a))}return r}function Me(t,r){return t[kr]=r,t.prototype[kr]=r,t}function _e(t){return t[kr]}function Te(t){return{toString:t}.toString()}var je=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(je||{}),Qe=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Qe||{});const Ut={},yt=[],gn=J({\u0275cmp:J}),pr=J({\u0275dir:J}),Rn=J({\u0275pipe:J}),ur=J({\u0275mod:J}),Lr=J({\u0275fac:J}),Pi=J({__NG_ELEMENT_ID__:J}),gr=J({__NG_ENV_ID__:J});function Rr(t,r,o){let a=t.length;for(;;){const u=t.indexOf(r,o);if(-1===u)return u;if(0===u||t.charCodeAt(u-1)<=32){const d=r.length;if(u+d===a||t.charCodeAt(u+d)<=32)return u}o=u+1}}function ri(t,r,o){let a=0;for(;a<o.length;){const u=o[a];if("number"==typeof u){if(0!==u)break;a++;const d=o[a++],m=o[a++],C=o[a++];t.setAttribute(r,m,C,d)}else{const d=u,m=o[++a];Ln(d)?t.setProperty(r,d,m):t.setAttribute(r,d,m),a++}}return a}function Zs(t){return 3===t||4===t||6===t}function Ln(t){return 64===t.charCodeAt(0)}function yi(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else{let o=-1;for(let a=0;a<r.length;a++){const u=r[a];"number"==typeof u?o=u:0===o||ds(t,o,u,null,-1===o||2===o?r[++a]:null)}}return t}function ds(t,r,o,a,u){let d=0,m=t.length;if(-1===r)m=-1;else for(;d<t.length;){const C=t[d++];if("number"==typeof C){if(C===r){m=-1;break}if(C>r){m=d-1;break}}}for(;d<t.length;){const C=t[d];if("number"==typeof C)break;if(C===o){if(null===a)return void(null!==u&&(t[d+1]=u));if(a===t[d+1])return void(t[d+2]=u)}d++,null!==a&&d++,null!==u&&d++}-1!==m&&(t.splice(m,0,r),d=m+1),t.splice(d++,0,o),null!==a&&t.splice(d++,0,a),null!==u&&t.splice(d++,0,u)}const Ri="ng-template";function ks(t,r,o){let a=0,u=!0;for(;a<t.length;){let d=t[a++];if("string"==typeof d&&u){const m=t[a++];if(o&&"class"===d&&-1!==Rr(m.toLowerCase(),r,0))return!0}else{if(1===d){for(;a<t.length&&"string"==typeof(d=t[a++]);)if(d.toLowerCase()===r)return!0;return!1}"number"==typeof d&&(u=!1)}}return!1}function Ls(t){return 4===t.type&&t.value!==Ri}function So(t,r,o){return r===(4!==t.type||o?t.value:Ri)}function ys(t,r,o){let a=4;const u=t.attrs||[],d=function zi(t){for(let r=0;r<t.length;r++)if(Zs(t[r]))return r;return t.length}(u);let m=!1;for(let C=0;C<r.length;C++){const S=r[C];if("number"!=typeof S){if(!m)if(4&a){if(a=2|1&a,""!==S&&!So(t,S,o)||""===S&&1===r.length){if(Gr(a))return!1;m=!0}}else{const U=8&a?S:r[++C];if(8&a&&null!==t.attrs){if(!ks(t.attrs,U,o)){if(Gr(a))return!1;m=!0}continue}const me=Rs(8&a?"class":S,u,Ls(t),o);if(-1===me){if(Gr(a))return!1;m=!0;continue}if(""!==U){let Be;Be=me>d?"":u[me+1].toLowerCase();const ze=8&a?Be:null;if(ze&&-1!==Rr(ze,U,0)||2&a&&U!==Be){if(Gr(a))return!1;m=!0}}}}else{if(!m&&!Gr(a)&&!Gr(S))return!1;if(m&&Gr(S))continue;m=!1,a=S|1&a}}return Gr(a)||m}function Gr(t){return 0==(1&t)}function Rs(t,r,o,a){if(null===r)return-1;let u=0;if(a||!o){let d=!1;for(;u<r.length;){const m=r[u];if(m===t)return u;if(3===m||6===m)d=!0;else{if(1===m||2===m){let C=r[++u];for(;"string"==typeof C;)C=r[++u];continue}if(4===m)break;if(0===m){u+=4;continue}}u+=d?1:2}return-1}return function Mi(t,r){let o=t.indexOf(4);if(o>-1)for(o++;o<t.length;){const a=t[o];if("number"==typeof a)return-1;if(a===r)return o;o++}return-1}(r,t)}function li(t,r,o=!1){for(let a=0;a<r.length;a++)if(ys(t,r[a],o))return!0;return!1}function ts(t,r){e:for(let o=0;o<r.length;o++){const a=r[o];if(t.length===a.length){for(let u=0;u<t.length;u++)if(t[u]!==a[u])continue e;return!0}}return!1}function Ci(t,r){return t?":not("+r.trim()+")":r}function sa(t){let r=t[0],o=1,a=2,u="",d=!1;for(;o<t.length;){let m=t[o];if("string"==typeof m)if(2&a){const C=t[++o];u+="["+m+(C.length>0?'="'+C+'"':"")+"]"}else 8&a?u+="."+m:4&a&&(u+=" "+m);else""!==u&&!Gr(m)&&(r+=Ci(d,u),u=""),a=m,d=d||!Gr(a);o++}return""!==u&&(r+=Ci(d,u)),r}function zr(t){return Te(()=>{const r=hi(t),o={...r,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===je.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Qe.Emulated,styles:t.styles||yt,_:null,schemas:t.schemas||null,tView:null,id:""};lo(o);const a=t.dependencies;return o.directiveDefs=Ms(a,!1),o.pipeDefs=Ms(a,!0),o.id=function fs(t){let r=0;const o=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const u of o)r=Math.imul(31,r)+u.charCodeAt(0)<<0;return r+=2147483648,"c"+r}(o),o})}function Wi(t){return Wn(t)||Fr(t)}function Fs(t){return null!==t}function ao(t){return Te(()=>({type:t.type,bootstrap:t.bootstrap||yt,declarations:t.declarations||yt,imports:t.imports||yt,exports:t.exports||yt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function vs(t,r){if(null==t)return Ut;const o={};for(const a in t)if(t.hasOwnProperty(a)){let u=t[a],d=u;Array.isArray(u)&&(d=u[1],u=u[0]),o[u]=a,r&&(r[u]=d)}return o}function Vs(t){return Te(()=>{const r=hi(t);return lo(r),r})}function qi(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Wn(t){return t[gn]||null}function Fr(t){return t[pr]||null}function bi(t){return t[Rn]||null}function hs(t){const r=Wn(t)||Fr(t)||bi(t);return null!==r&&r.standalone}function Wr(t,r){const o=t[ur]||null;if(!o&&!0===r)throw new Error(`Type ${we(t)} does not have '\u0275mod' property.`);return o}function hi(t){const r={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputTransforms:null,inputConfig:t.inputs||Ut,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||yt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:vs(t.inputs,r),outputs:vs(t.outputs)}}function lo(t){t.features?.forEach(r=>r(t))}function Ms(t,r){if(!t)return null;const o=r?bi:Wi;return()=>("function"==typeof t?t():t).map(a=>o(a)).filter(Fs)}const Ur=0,qt=1,Nn=2,qn=3,fi=4,xs=5,qr=6,Di=7,ar=8,Ui=9,Is=10,Cn=11,Ai=12,rs=13,Es=14,Er=15,Jr=16,is=17,vi=18,uo=19,er=20,xi=21,Br=22,Bi=23,co=24,Bn=25,aa=1,jo=2,pi=7,gi=9,xr=11;function Kr(t){return Array.isArray(t)&&"object"==typeof t[aa]}function Mr(t){return Array.isArray(t)&&!0===t[aa]}function la(t){return 0!=(4&t.flags)}function Hi(t){return t.componentOffset>-1}function Ro(t){return 1==(1&t.flags)}function ps(t){return!!t.template}function fo(t){return 0!=(512&t[Nn])}function Xr(t,r){return t.hasOwnProperty(Lr)?t[Lr]:null}let Hr=null,mo=!1;function Zi(t){const r=Hr;return Hr=t,r}const ha={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Os(t){if(!Hs(t)||t.dirty){if(!t.producerMustRecompute(t)&&!yo(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function ws(t){t.dirty=!0,function Js(t){if(void 0===t.liveConsumerNode)return;const r=mo;mo=!0;try{for(const o of t.liveConsumerNode)o.dirty||ws(o)}finally{mo=r}}(t),t.consumerMarkedDirty?.(t)}function xo(t){return t&&(t.nextProducerIndex=0),Zi(t)}function ji(t,r){if(Zi(r),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Hs(t))for(let o=t.nextProducerIndex;o<t.producerNode.length;o++)ta(t.producerNode[o],t.producerIndexOfThis[o]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function yo(t){js(t);for(let r=0;r<t.producerNode.length;r++){const o=t.producerNode[r],a=t.producerLastReadVersion[r];if(a!==o.version||(Os(o),a!==o.version))return!0}return!1}function Ha(t){if(js(t),Hs(t))for(let r=0;r<t.producerNode.length;r++)ta(t.producerNode[r],t.producerIndexOfThis[r]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function ta(t,r){if(function to(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),js(t),1===t.liveConsumerNode.length)for(let a=0;a<t.producerNode.length;a++)ta(t.producerNode[a],t.producerIndexOfThis[a]);const o=t.liveConsumerNode.length-1;if(t.liveConsumerNode[r]=t.liveConsumerNode[o],t.liveConsumerIndexOfThis[r]=t.liveConsumerIndexOfThis[o],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,r<t.liveConsumerNode.length){const a=t.liveConsumerIndexOfThis[r],u=t.liveConsumerNode[r];js(u),u.producerIndexOfThis[a]=r}}function Hs(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function js(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let pa=null;function st(t){const r=Zi(null);try{return t()}finally{Zi(r)}}const en=()=>{},cr=(()=>({...ha,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:en}))();class nr{constructor(r,o,a){this.previousValue=r,this.currentValue=o,this.firstChange=a}isFirstChange(){return this.firstChange}}function $n(){return Zr}function Zr(t){return t.type.prototype.ngOnChanges&&(t.setInput=rr),hr}function hr(){const t=ss(this),r=t?.current;if(r){const o=t.previous;if(o===Ut)t.previous=r;else for(let a in r)o[a]=r[a];t.current=null,this.ngOnChanges(r)}}function rr(t,r,o,a){const u=this.declaredInputs[o],d=ss(t)||function no(t,r){return t[Or]=r}(t,{previous:Ut,current:null}),m=d.current||(d.current={}),C=d.previous,S=C[u];m[u]=new nr(S&&S.currentValue,r,C===Ut),t[a]=r}$n.ngInherit=!0;const Or="__ngSimpleChanges__";function ss(t){return t[Or]||null}const Fi=function(t,r,o){},os="svg";function ei(t){for(;Array.isArray(t);)t=t[Ur];return t}function v(t,r){return ei(r[t])}function y(t,r){return ei(r[t.index])}function G(t,r){return t.data[r]}function be(t,r){const o=r[t];return Kr(o)?o:o[Ur]}function Tt(t,r){return null==r?null:t[r]}function Yt(t){t[is]=0}function Gn(t){1024&t[Nn]||(t[Nn]|=1024,wn(t,1))}function xn(t){1024&t[Nn]&&(t[Nn]&=-1025,wn(t,-1))}function wn(t,r){let o=t[qn];if(null===o)return;o[xs]+=r;let a=o;for(o=o[qn];null!==o&&(1===r&&1===a[xs]||-1===r&&0===a[xs]);)o[xs]+=r,a=o,o=o[qn]}const Qt={lFrame:te(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function et(){return Qt.bindingsEnabled}function mt(){return null!==Qt.skipHydrationRootTNode}function Et(){return Qt.lFrame.lView}function fr(){return Qt.lFrame.tView}function nn(t){return Qt.lFrame.contextLView=t,t[ar]}function bn(t){return Qt.lFrame.contextLView=null,t}function Kt(){let t=yr();for(;null!==t&&64===t.type;)t=t.parent;return t}function yr(){return Qt.lFrame.currentTNode}function un(t,r){const o=Qt.lFrame;o.currentTNode=t,o.isParent=r}function ui(){return Qt.lFrame.isParent}function ro(){Qt.lFrame.isParent=!1}function rn(){const t=Qt.lFrame;let r=t.bindingRootIndex;return-1===r&&(r=t.bindingRootIndex=t.tView.bindingStartIndex),r}function Ft(){return Qt.lFrame.bindingIndex++}function Yi(t){const r=Qt.lFrame,o=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,o}function yc(t,r){const o=Qt.lFrame;o.bindingIndex=o.bindingRootIndex=t,$l(r)}function $l(t){Qt.lFrame.currentDirectiveIndex=t}function vc(){return Qt.lFrame.currentQueryIndex}function T(t){Qt.lFrame.currentQueryIndex=t}function A(t){const r=t[qt];return 2===r.type?r.declTNode:1===r.type?t[qr]:null}function I(t,r,o){if(o&ln.SkipSelf){let u=r,d=t;for(;!(u=u.parent,null!==u||o&ln.Host||(u=A(d),null===u||(d=d[Es],10&u.type))););if(null===u)return!1;r=u,t=d}const a=Qt.lFrame=V();return a.currentTNode=r,a.lView=t,!0}function P(t){const r=V(),o=t[qt];Qt.lFrame=r,r.currentTNode=o.firstChild,r.lView=t,r.tView=o,r.contextLView=t,r.bindingIndex=o.bindingStartIndex,r.inI18n=!1}function V(){const t=Qt.lFrame,r=null===t?null:t.child;return null===r?te(t):r}function te(t){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function ve(){const t=Qt.lFrame;return Qt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const ue=ve;function Je(){const t=ve();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Kn(){return Qt.lFrame.selectedIndex}function Un(t){Qt.lFrame.selectedIndex=t}function Nr(){const t=Qt.lFrame;return G(t.tView,t.selectedIndex)}function Eo(){Qt.lFrame.currentNamespace=os}let To=!0;function qa(){return To}function Co(t){To=t}function Ji(t,r){for(let o=r.directiveStart,a=r.directiveEnd;o<a;o++){const d=t.data[o].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:C,ngAfterViewInit:S,ngAfterViewChecked:U,ngOnDestroy:ee}=d;m&&(t.contentHooks??=[]).push(-o,m),C&&((t.contentHooks??=[]).push(o,C),(t.contentCheckHooks??=[]).push(o,C)),S&&(t.viewHooks??=[]).push(-o,S),U&&((t.viewHooks??=[]).push(o,U),(t.viewCheckHooks??=[]).push(o,U)),null!=ee&&(t.destroyHooks??=[]).push(o,ee)}}function Ec(t,r,o){Au(t,r,3,o)}function vl(t,r,o,a){(3&t[Nn])===o&&Au(t,r,o,a)}function zo(t,r){let o=t[Nn];(3&o)===r&&(o&=8191,o+=1,t[Nn]=o)}function Au(t,r,o,a){const d=a??-1,m=r.length-1;let C=0;for(let S=void 0!==a?65535&t[is]:0;S<m;S++)if("number"==typeof r[S+1]){if(C=r[S],null!=a&&C>=a)break}else r[S]<0&&(t[is]+=65536),(C<d||-1==d)&&(Tc(t,o,r,S),t[is]=(4294901760&t[is])+S+2),S++}function Ka(t,r){Fi(4,t,r);const o=Zi(null);try{r.call(t)}finally{Zi(o),Fi(5,t,r)}}function Tc(t,r,o,a){const u=o[a]<0,d=o[a+1],C=t[u?-o[a]:o[a]];u?t[Nn]>>13<t[is]>>16&&(3&t[Nn])===r&&(t[Nn]+=8192,Ka(C,d)):Ka(C,d)}const Gl=-1;class Il{constructor(r,o,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=a}}function vd(t){return t!==Gl}function Pu(t){return 32767&t}function Ru(t,r){let o=function Id(t){return t>>16}(t),a=r;for(;o>0;)a=a[Es],o--;return a}let Mu=!0;function xu(t){const r=Mu;return Mu=t,r}const Ou=255,Ed=5;let Nu=0;const Wo={};function El(t,r){const o=ku(t,r);if(-1!==o)return o;const a=r[qt];a.firstCreatePass&&(t.injectorIndex=r.length,qo(a.data,t),qo(r,null),qo(a.blueprint,null));const u=ni(t,r),d=t.injectorIndex;if(vd(u)){const m=Pu(u),C=Ru(u,r),S=C[qt].data;for(let U=0;U<8;U++)r[d+U]=C[m+U]|S[m+U]}return r[d+8]=u,d}function qo(t,r){t.push(0,0,0,0,0,0,0,0,r)}function ku(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function ni(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let o=0,a=null,u=r;for(;null!==u;){if(a=ql(u),null===a)return Gl;if(o++,u=u[Es],-1!==a.injectorIndex)return a.injectorIndex|o<<16}return Gl}function Tl(t,r,o){!function bs(t,r,o){let a;"string"==typeof o?a=o.charCodeAt(0)||0:o.hasOwnProperty(Pi)&&(a=o[Pi]),null==a&&(a=o[Pi]=Nu++);const u=a&Ou;r.data[t+(u>>Ed)]|=1<<u}(t,r,o)}function Qr(t,r,o){if(o&ln.Optional||void 0!==t)return t;Ie()}function Td(t,r,o,a){if(o&ln.Optional&&void 0===a&&(a=null),!(o&(ln.Self|ln.Host))){const u=t[Ui],d=or(void 0);try{return u?u.get(r,a,o&ln.Optional):Ir(r,a,o&ln.Optional)}finally{or(d)}}return Qr(a,0,o)}function Cl(t,r,o,a=ln.Default,u){if(null!==t){if(2048&r[Nn]&&!(a&ln.Self)){const m=function Za(t,r,o,a,u){let d=t,m=r;for(;null!==d&&null!==m&&2048&m[Nn]&&!(512&m[Nn]);){const C=Ns(d,m,o,a|ln.Self,Wo);if(C!==Wo)return C;let S=d.parent;if(!S){const U=m[er];if(U){const ee=U.get(o,Wo,a);if(ee!==Wo)return ee}S=ql(m),m=m[Es]}d=S}return u}(t,r,o,a,Wo);if(m!==Wo)return m}const d=Ns(t,r,o,a,Wo);if(d!==Wo)return d}return Td(r,o,a,u)}function Ns(t,r,o,a,u){const d=function Sp(t){if("string"==typeof t)return t.charCodeAt(0)||0;const r=t.hasOwnProperty(Pi)?t[Pi]:void 0;return"number"==typeof r?r>=0?r&Ou:wl:r}(o);if("function"==typeof d){if(!I(r,t,a))return a&ln.Host?Qr(u,0,a):Td(r,o,a,u);try{let m;if(m=d(a),null!=m||a&ln.Optional)return m;Ie()}finally{ue()}}else if("number"==typeof d){let m=null,C=ku(t,r),S=Gl,U=a&ln.Host?r[Er][qr]:null;for((-1===C||a&ln.SkipSelf)&&(S=-1===C?ni(t,r):r[C+8],S!==Gl&&Ii(a,!1)?(m=r[qt],C=Pu(S),r=Ru(S,r)):C=-1);-1!==C;){const ee=r[qt];if(Ma(d,C,ee.data)){const me=zh(C,r,o,m,a,U);if(me!==Wo)return me}S=r[C+8],S!==Gl&&Ii(a,r[qt].data[C+8]===U)&&Ma(d,C,r)?(m=ee,C=Pu(S),r=Ru(S,r)):C=-1}}return u}function zh(t,r,o,a,u,d){const m=r[qt],C=m.data[t+8],ee=Cc(C,m,o,null==a?Hi(C)&&Mu:a!=m&&0!=(3&C.type),u&ln.Host&&d===C);return null!==ee?ci(r,m,ee,C):Wo}function Cc(t,r,o,a,u){const d=t.providerIndexes,m=r.data,C=1048575&d,S=t.directiveStart,ee=d>>20,Be=u?C+ee:t.directiveEnd;for(let ze=a?C:C+ee;ze<Be;ze++){const _t=m[ze];if(ze<S&&o===_t||ze>=S&&_t.type===o)return ze}if(u){const ze=m[S];if(ze&&ps(ze)&&ze.type===o)return S}return null}function ci(t,r,o,a){let u=t[o];const d=r.data;if(function wp(t){return t instanceof Il}(u)){const m=u;m.resolving&&function De(t,r){const o=r?`. Dependency path: ${r.join(" > ")} > ${t}`:"";throw new le(-200,`Circular dependency in DI detected for ${t}${o}`)}(function ge(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():he(t)}(d[o]));const C=xu(m.canSeeViewProviders);m.resolving=!0;const U=m.injectImpl?or(m.injectImpl):null;I(t,a,ln.Default);try{u=t[o]=m.factory(void 0,d,t,a),r.firstCreatePass&&o>=a.directiveStart&&function jh(t,r,o){const{ngOnChanges:a,ngOnInit:u,ngDoCheck:d}=r.type.prototype;if(a){const m=Zr(r);(o.preOrderHooks??=[]).push(t,m),(o.preOrderCheckHooks??=[]).push(t,m)}u&&(o.preOrderHooks??=[]).push(0-t,u),d&&((o.preOrderHooks??=[]).push(t,d),(o.preOrderCheckHooks??=[]).push(t,d))}(o,d[o],r)}finally{null!==U&&or(U),xu(C),m.resolving=!1,ue()}}return u}function Ma(t,r,o){return!!(o[r+(t>>Ed)]&1<<t)}function Ii(t,r){return!(t&ln.Self||t&ln.Host&&r)}class ls{constructor(r,o){this._tNode=r,this._lView=o}get(r,o,a){return Cl(this._tNode,this._lView,r,an(a),o)}}function wl(){return new ls(Kt(),Et())}function Cd(t){return Te(()=>{const r=t.prototype.constructor,o=r[Lr]||Ko(r),a=Object.prototype;let u=Object.getPrototypeOf(t.prototype).constructor;for(;u&&u!==a;){const d=u[Lr]||Ko(u);if(d&&d!==o)return d;u=Object.getPrototypeOf(u)}return d=>new d})}function Ko(t){return it(t)?()=>{const r=Ko(nt(t));return r&&r()}:Xr(t)}function ql(t){const r=t[qt],o=r.type;return 2===o?r.declTNode:1===o?t[qr]:null}function na(t){return function Ds(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;const o=t.attrs;if(o){const a=o.length;let u=0;for(;u<a;){const d=o[u];if(Zs(d))break;if(0===d)u+=2;else if("number"==typeof d)for(u++;u<a&&"string"==typeof o[u];)u++;else{if(d===r)return o[u+1];u+=2}}}return null}(Kt(),t)}const ya="__parameters__";function Ya(t,r,o){return Te(()=>{const a=function Qa(t){return function(...o){if(t){const a=t(...o);for(const u in a)this[u]=a[u]}}}(r);function u(...d){if(this instanceof u)return a.apply(this,d),this;const m=new u(...d);return C.annotation=m,C;function C(S,U,ee){const me=S.hasOwnProperty(ya)?S[ya]:Object.defineProperty(S,ya,{value:[]})[ya];for(;me.length<=ee;)me.push(null);return(me[ee]=me[ee]||[]).push(m),S}}return o&&(u.prototype=Object.create(o.prototype)),u.prototype.ngMetadataName=t,u.annotationCls=u,u})}function Fo(t,r){t.forEach(o=>Array.isArray(o)?Fo(o,r):r(o))}function bd(t,r,o){r>=t.length?t.push(o):t.splice(r,0,o)}function Fu(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function Oa(t,r){const o=[];for(let a=0;a<t;a++)o.push(r);return o}function As(t,r,o){let a=Ja(t,r);return a>=0?t[1|a]=o:(a=~a,function Cr(t,r,o,a){let u=t.length;if(u==r)t.push(o,a);else if(1===u)t.push(a,t[0]),t[0]=o;else{for(u--,t.push(t[u-1],t[u]);u>r;)t[u]=t[u-2],u--;t[r]=o,t[r+1]=a}}(t,a,r,o)),a}function Vu(t,r){const o=Ja(t,r);if(o>=0)return t[1|o]}function Ja(t,r){return function Zl(t,r,o){let a=0,u=t.length>>o;for(;u!==a;){const d=a+(u-a>>1),m=t[d<<o];if(r===m)return d<<o;m>r?u=d:a=d+1}return~(u<<o)}(t,r,1)}const Uu=Me(Ya("Optional"),8),Bu=Me(Ya("SkipSelf"),4);function Rd(t){return 128==(128&t.flags)}var el=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(el||{});const s_=/^>|^->|<!--|-->|--!>|<!-$/g,Gu=/(<|>)/g,o_="\u200b$1\u200b";const sf=new Map;let a_=0;const Wu="__ngContext__";function Do(t,r){Kr(r)?(t[Wu]=r[uo],function Nv(t){sf.set(t[uo],t)}(r)):t[Wu]=r}let jp;function $p(t,r){return jp(t,r)}function wr(t){const r=t[qn];return Mr(r)?r[qn]:r}function xd(t){return p_(t[Ai])}function Gp(t){return p_(t[fi])}function p_(t){for(;null!==t&&!Mr(t);)t=t[fi];return t}function Zu(t,r,o,a,u){if(null!=a){let d,m=!1;Mr(a)?d=a:Kr(a)&&(m=!0,a=a[Ur]);const C=ei(a);0===t&&null!==o?null==u?y_(r,o,C):eu(r,o,C,u||null,!0):1===t&&null!==o?eu(r,o,C,u||null,!0):2===t?function tu(t,r,o){const a=Fd(t,r);a&&function Kp(t,r,o,a){t.removeChild(r,o,a)}(t,a,r,o)}(r,C,m):3===t&&r.destroyNode(C),null!=d&&function Vv(t,r,o,a,u){const d=o[pi];d!==ei(o)&&Zu(r,t,a,d,u);for(let C=xr;C<o.length;C++){const S=o[C];kc(S[qt],S,t,r,a,d)}}(r,t,d,o,u)}}function Qu(t,r){return t.createComment(function zu(t){return t.replace(s_,r=>r.replace(Gu,o_))}(r))}function Xl(t,r,o){return t.createElement(r,o)}function zp(t,r){const o=t[gi],a=o.indexOf(r);xn(r),o.splice(a,1)}function kd(t,r){if(t.length<=xr)return;const o=xr+r,a=t[o];if(a){const u=a[Jr];null!==u&&u!==t&&zp(u,a),r>0&&(t[o-1][fi]=a[fi]);const d=Fu(t,xr+r);!function Nd(t,r){kc(t,r,r[Cn],2,null,null),r[Ur]=null,r[qr]=null}(a[qt],a);const m=d[vi];null!==m&&m.detachView(d[qt]),a[qn]=null,a[fi]=null,a[Nn]&=-129}return a}function Wp(t,r){if(!(256&r[Nn])){const o=r[Cn];r[Bi]&&Ha(r[Bi]),r[co]&&Ha(r[co]),o.destroyNode&&kc(t,r,o,3,null,null),function m_(t){let r=t[Ai];if(!r)return qp(t[qt],t);for(;r;){let o=null;if(Kr(r))o=r[Ai];else{const a=r[xr];a&&(o=a)}if(!o){for(;r&&!r[fi]&&r!==t;)Kr(r)&&qp(r[qt],r),r=r[qn];null===r&&(r=t),Kr(r)&&qp(r[qt],r),o=r&&r[fi]}r=o}}(r)}}function qp(t,r){if(!(256&r[Nn])){r[Nn]&=-129,r[Nn]|=256,function Fv(t,r){let o;if(null!=t&&null!=(o=t.destroyHooks))for(let a=0;a<o.length;a+=2){const u=r[o[a]];if(!(u instanceof Il)){const d=o[a+1];if(Array.isArray(d))for(let m=0;m<d.length;m+=2){const C=u[d[m]],S=d[m+1];Fi(4,C,S);try{S.call(C)}finally{Fi(5,C,S)}}else{Fi(4,u,d);try{d.call(u)}finally{Fi(5,u,d)}}}}}(t,r),function Lv(t,r){const o=t.cleanup,a=r[Di];if(null!==o)for(let d=0;d<o.length-1;d+=2)if("string"==typeof o[d]){const m=o[d+3];m>=0?a[m]():a[-m].unsubscribe(),d+=2}else o[d].call(a[o[d+1]]);null!==a&&(r[Di]=null);const u=r[xi];if(null!==u){r[xi]=null;for(let d=0;d<u.length;d++)(0,u[d])()}}(t,r),1===r[qt].type&&r[Cn].destroy();const o=r[Jr];if(null!==o&&Mr(r[qn])){o!==r[qn]&&zp(o,r);const a=r[vi];null!==a&&a.detachView(t)}!function $i(t){sf.delete(t[uo])}(r)}}function Ld(t,r,o){return function Yu(t,r,o){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return o[Ur];{const{componentOffset:u}=a;if(u>-1){const{encapsulation:d}=t.data[a.directiveStart+u];if(d===Qe.None||d===Qe.Emulated)return null}return y(a,o)}}(t,r.parent,o)}function eu(t,r,o,a,u){t.insertBefore(r,o,a,u)}function y_(t,r,o){t.appendChild(r,o)}function cs(t,r,o,a,u){null!==a?eu(t,r,o,a,u):y_(t,r,o)}function Fd(t,r){return t.parentNode(r)}function Na(t,r,o){return Qp(t,r,o)}let Ud,ka,ng,nl,Qp=function Zp(t,r,o){return 40&t.type?y(t,o):null};function Bd(t,r,o,a){const u=Ld(t,a,r),d=r[Cn],C=Na(a.parent||r[qr],a,r);if(null!=u)if(Array.isArray(o))for(let S=0;S<o.length;S++)cs(d,u,o[S],C,!1);else cs(d,u,o,C,!1);void 0!==Ud&&Ud(d,a,r,o,u)}function Nc(t,r){if(null!==r){const o=r.type;if(3&o)return y(r,t);if(4&o)return Jp(-1,t[r.index]);if(8&o){const a=r.child;if(null!==a)return Nc(t,a);{const u=t[r.index];return Mr(u)?Jp(-1,u):ei(u)}}if(32&o)return $p(r,t)()||ei(t[r.index]);{const a=I_(t,r);return null!==a?Array.isArray(a)?a[0]:Nc(wr(t[Er]),a):Nc(t,r.next)}}return null}function I_(t,r){return null!==r?t[Er][qr].projection[r.projection]:null}function Jp(t,r){const o=xr+t+1;if(o<r.length){const a=r[o],u=a[qt].firstChild;if(null!==u)return Nc(a,u)}return r[pi]}function Xp(t,r,o,a,u,d,m){for(;null!=o;){const C=a[o.index],S=o.type;if(m&&0===r&&(C&&Do(ei(C),a),o.flags|=2),32!=(32&o.flags))if(8&S)Xp(t,r,o.child,a,u,d,!1),Zu(r,t,u,C,d);else if(32&S){const U=$p(o,a);let ee;for(;ee=U();)Zu(r,t,u,ee,d);Zu(r,t,u,C,d)}else 16&S?tg(t,r,a,o,u,d):Zu(r,t,u,C,d);o=m?o.projectionNext:o.next}}function kc(t,r,o,a,u,d){Xp(o,a,t.firstChild,r,u,d,!1)}function tg(t,r,o,a,u,d){const m=o[Er],S=m[qr].projection[a.projection];if(Array.isArray(S))for(let U=0;U<S.length;U++)Zu(r,t,u,S[U],d);else{let U=S;const ee=m[qn];Rd(a)&&(U.flags|=128),Xp(t,r,U,ee,u,d,!0)}}function T_(t,r,o){""===o?t.removeAttribute(r,"class"):t.setAttribute(r,"class",o)}function C_(t,r,o){const{mergedAttrs:a,classes:u,styles:d}=o;null!==a&&ri(t,r,a),null!==u&&T_(t,r,u),null!==d&&function Uv(t,r,o){t.setAttribute(r,"style",o)}(t,r,d)}function Ju(t){return function nu(){if(void 0===ka&&(ka=null,St.trustedTypes))try{ka=St.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return ka}()?.createHTML(t)||t}function D_(t){ng=t}function rg(t){return function xl(){if(void 0===nl&&(nl=null,St.trustedTypes))try{nl=St.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return nl}()?.createScriptURL(t)||t}class Ol{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ft})`}}class ig extends Ol{getTypeName(){return"HTML"}}class A_ extends Ol{getTypeName(){return"Style"}}class S_ extends Ol{getTypeName(){return"Script"}}class Hv extends Ol{getTypeName(){return"URL"}}class P_ extends Ol{getTypeName(){return"ResourceURL"}}function rl(t){return t instanceof Ol?t.changingThisBreaksApplicationSecurity:t}function Nl(t,r){const o=function Hd(t){return t instanceof Ol&&t.getTypeName()||null}(t);if(null!=o&&o!==r){if("ResourceURL"===o&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${o} (see ${ft})`)}return o===r}function Xu(t){return new ig(t)}function jv(t){return new A_(t)}function R_(t){return new S_(t)}function $v(t){return new Hv(t)}function Gv(t){return new P_(t)}class jd{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const o=(new window.DOMParser).parseFromString(Ju(r),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(r):(o.removeChild(o.firstChild),o)}catch{return null}}}class ec{constructor(r){this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(r){const o=this.inertDocument.createElement("template");return o.innerHTML=Ju(r),o}}const x_=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function $d(t){return(t=String(t)).match(x_)?t:"unsafe:"+t}function il(t){const r={};for(const o of t.split(","))r[o]=!0;return r}function Gd(...t){const r={};for(const o of t)for(const a in o)o.hasOwnProperty(a)&&(r[a]=!0);return r}const ff=il("area,br,col,hr,img,wbr"),pf=il("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),sg=il("rp,rt"),Fc=Gd(ff,Gd(pf,il("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Gd(sg,il("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Gd(sg,pf)),og=il("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),L_=Gd(og,il("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),il("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),F_=il("script,style,template");class Vc{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let o=r.firstChild,a=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?a=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,a&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let u=this.checkClobberedElement(o,o.nextSibling);if(u){o=u;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(r){const o=r.nodeName.toLowerCase();if(!Fc.hasOwnProperty(o))return this.sanitizedSomething=!0,!F_.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const a=r.attributes;for(let u=0;u<a.length;u++){const d=a.item(u),m=d.name,C=m.toLowerCase();if(!L_.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let S=d.value;og[C]&&(S=$d(S)),this.buf.push(" ",m,'="',lg(S),'"')}return this.buf.push(">"),!0}endElement(r){const o=r.nodeName.toLowerCase();Fc.hasOwnProperty(o)&&!ff.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(r){this.buf.push(lg(r))}checkClobberedElement(r,o){if(o&&(r.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return o}}const zd=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Uc=/([^\#-~ |!])/g;function lg(t){return t.replace(/&/g,"&amp;").replace(zd,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(Uc,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Wd;function so(t,r){let o=null;try{Wd=Wd||function M_(t){const r=new ec(t);return function su(){try{return!!(new window.DOMParser).parseFromString(Ju(""),"text/html")}catch{return!1}}()?new jd(r):r}(t);let a=r?String(r):"";o=Wd.getInertBodyElement(a);let u=5,d=a;do{if(0===u)throw new Error("Failed to sanitize html because the input is unstable");u--,a=d,d=o.innerHTML,o=Wd.getInertBodyElement(a)}while(a!==d);return Ju((new Vc).sanitizeChildren(gf(o)||o))}finally{if(o){const a=gf(o)||o;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function gf(t){return"content"in t&&function mf(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var sl=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(sl||{});function au(t){const r=Hc();return r?r.sanitize(sl.URL,t)||"":Nl(t,"URL")?rl(t):$d(he(t))}function ug(t){const r=Hc();if(r)return rg(r.sanitize(sl.RESOURCE_URL,t)||"");if(Nl(t,"ResourceURL"))return rg(rl(t));throw new le(904,!1)}function kl(t,r,o){return function U_(t,r){return"src"===r&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===r&&("base"===t||"link"===t)?ug:au}(r,o)(t)}function Hc(){const t=Et();return t&&t[Is].sanitizer}const qd=new Ze("ENVIRONMENT_INITIALIZER"),cg=new Ze("INJECTOR",-1),B_=new Ze("INJECTOR_DEF_TYPES");class jc{get(r,o=$r){if(o===$r){const a=new Error(`NullInjectorError: No provider for ${we(r)}!`);throw a.name="NullInjectorError",a}return o}}function _f(t){return{\u0275providers:t}}function Kv(...t){return{\u0275providers:dg(0,t),\u0275fromNgModule:!0}}function dg(t,...r){const o=[],a=new Set;let u;const d=m=>{o.push(m)};return Fo(r,m=>{const C=m;Kd(C,d,[],a)&&(u||=[],u.push(C))}),void 0!==u&&H_(u,d),o}function H_(t,r){for(let o=0;o<t.length;o++){const{ngModule:a,providers:u}=t[o];nc(u,d=>{r(d,a)})}}function Kd(t,r,o,a){if(!(t=nt(t)))return!1;let u=null,d=_r(t);const m=!d&&Wn(t);if(d||m){if(m&&!m.standalone)return!1;u=t}else{const S=t.ngModule;if(d=_r(S),!d)return!1;u=S}const C=a.has(u);if(m){if(C)return!1;if(a.add(u),m.dependencies){const S="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const U of S)Kd(U,r,o,a)}}else{if(!d)return!1;{if(null!=d.imports&&!C){let U;a.add(u);try{Fo(d.imports,ee=>{Kd(ee,r,o,a)&&(U||=[],U.push(ee))})}finally{}void 0!==U&&H_(U,r)}if(!C){const U=Xr(u)||(()=>new u);r({provide:u,useFactory:U,deps:yt},u),r({provide:B_,useValue:u,multi:!0},u),r({provide:qd,useValue:()=>Dt(u),multi:!0},u)}const S=d.providers;if(null!=S&&!C){const U=t;nc(S,ee=>{r(ee,U)})}}}return u!==t&&void 0!==t.providers}function nc(t,r){for(let o of t)lt(o)&&(o=o.\u0275providers),Array.isArray(o)?nc(o,r):r(o)}const j_=J({provide:String,useValue:J});function yf(t){return null!==t&&"object"==typeof t&&j_ in t}function rc(t){return"function"==typeof t}const Zd=new Ze("Set Injector scope."),ms={},Qv={};let fg;function vf(){return void 0===fg&&(fg=new jc),fg}class ol{}class lu extends ol{get destroyed(){return this._destroyed}constructor(r,o,a,u){super(),this.parent=o,this.source=a,this.scopes=u,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Gc(r,m=>this.processProvider(m)),this.records.set(cg,ic(void 0,this)),u.has("environment")&&this.records.set(ol,ic(void 0,this));const d=this.records.get(Zd);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(B_.multi,yt,ln.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of r)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(r){return this.assertNotDestroyed(),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r)}runInContext(r){this.assertNotDestroyed();const o=Ve(this),a=or(void 0);try{return r()}finally{Ve(o),or(a)}}get(r,o=$r,a=ln.Default){if(this.assertNotDestroyed(),r.hasOwnProperty(gr))return r[gr](this);a=an(a);const d=Ve(this),m=or(void 0);try{if(!(a&ln.SkipSelf)){let S=this.records.get(r);if(void 0===S){const U=function Qd(t){return"function"==typeof t||"object"==typeof t&&t instanceof Ze}(r)&&jn(r);S=U&&this.injectableDefInScope(U)?ic(pg(r),ms):null,this.records.set(r,S)}if(null!=S)return this.hydrate(r,S)}return(a&ln.Self?vf():this.parent).get(r,o=a&ln.Optional&&o===$r?null:o)}catch(C){if("NullInjectorError"===C.name){if((C[Yr]=C[Yr]||[]).unshift(we(r)),d)throw C;return function Pe(t,r,o,a){const u=t[Yr];throw r[k]&&u.unshift(r[k]),t.message=function Ee(t,r,o,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let u=we(r);if(Array.isArray(r))u=r.map(we).join(" -> ");else if("object"==typeof r){let d=[];for(let m in r)if(r.hasOwnProperty(m)){let C=r[m];d.push(m+":"+("string"==typeof C?JSON.stringify(C):we(C)))}u=`{${d.join(", ")}}`}return`${o}${a?"("+a+")":""}[${u}]: ${t.replace(re,"\n  ")}`}("\n"+t.message,u,o,a),t.ngTokenPath=u,t[Yr]=null,t}(C,r,"R3InjectorError",this.source)}throw C}finally{or(m),Ve(d)}}resolveInjectorInitializers(){const r=Ve(this),o=or(void 0);try{const u=this.get(qd.multi,yt,ln.Self);for(const d of u)d()}finally{Ve(r),or(o)}}toString(){const r=[],o=this.records;for(const a of o.keys())r.push(we(a));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new le(205,!1)}processProvider(r){let o=rc(r=nt(r))?r:nt(r&&r.provide);const a=function Ef(t){return yf(t)?ic(void 0,t.useValue):ic(G_(t),ms)}(r);if(rc(r)||!0!==r.multi)this.records.get(o);else{let u=this.records.get(o);u||(u=ic(void 0,ms,!0),u.factory=()=>Zn(u.multi),this.records.set(o,u)),o=r,u.multi.push(r)}this.records.set(o,a)}hydrate(r,o){return o.value===ms&&(o.value=Qv,o.value=o.factory()),"object"==typeof o.value&&o.value&&function mg(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(r){if(!r.providedIn)return!1;const o=nt(r.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}removeOnDestroy(r){const o=this._onDestroyHooks.indexOf(r);-1!==o&&this._onDestroyHooks.splice(o,1)}}function pg(t){const r=jn(t),o=null!==r?r.factory:Xr(t);if(null!==o)return o;if(t instanceof Ze)throw new le(204,!1);if(t instanceof Function)return function If(t){const r=t.length;if(r>0)throw Oa(r,"?"),new le(204,!1);const o=function vn(t){return t&&(t[Mn]||t[Pr])||null}(t);return null!==o?()=>o.factory(t):()=>new t}(t);throw new le(204,!1)}function G_(t,r,o){let a;if(rc(t)){const u=nt(t);return Xr(u)||pg(u)}if(yf(t))a=()=>nt(t.useValue);else if(function hg(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...Zn(t.deps||[]));else if(function $_(t){return!(!t||!t.useExisting)}(t))a=()=>Dt(nt(t.useExisting));else{const u=nt(t&&(t.useClass||t.provide));if(!function gg(t){return!!t.deps}(t))return Xr(u)||pg(u);a=()=>new u(...Zn(t.deps))}return a}function ic(t,r,o=!1){return{factory:t,value:r,multi:o?[]:void 0}}function Gc(t,r){for(const o of t)Array.isArray(o)?Gc(o,r):o&&lt(o)?Gc(o.\u0275providers,r):r(o)}const Tf=new Ze("AppId",{providedIn:"root",factory:()=>_g}),_g="ng",z_=new Ze("Platform Initializer"),Cf=new Ze("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),W_=new Ze("AnimationModuleType"),q_=new Ze("CSP nonce",{providedIn:"root",factory:()=>function Ml(){if(void 0!==ng)return ng;if(typeof document<"u")return document;throw new le(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let eh=(t,r,o)=>null;function nh(t,r,o=!1){return eh(t,r,o)}class X_{}class ih{}class eI{resolveComponentFactory(r){throw function sh(t){const r=Error(`No component factory found for ${we(t)}.`);return r.ngComponent=t,r}(r)}}let Mf=(()=>{class t{static#e=this.NULL=new eI}return t})();function tI(){return Kc(Kt(),Et())}function Kc(t,r){return new ac(y(t,r))}let ac=(()=>{class t{constructor(o){this.nativeElement=o}static#e=this.__NG_ELEMENT_ID__=tI}return t})();function nI(t){return t instanceof ac?t.nativeElement:t}class ey{}let oh=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function Cg(){const t=Et(),o=be(Kt().index,t);return(Kr(o)?o:t)[Cn]}()}return t})(),Zc=(()=>{class t{static#e=this.\u0275prov=pn({token:t,providedIn:"root",factory:()=>null})}return t})();class xf{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const ah=new xf("16.2.12"),cu={};function Lf(t,r=null,o=null,a){const u=lh(t,r,o,a);return u.resolveInjectorInitializers(),u}function lh(t,r=null,o=null,a,u=new Set){const d=[o||yt,Kv(t)];return a=a||("object"==typeof t?void 0:we(t)),new lu(d,r||vf(),a||null,u)}let ra=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=$r;static#t=this.NULL=new jc;static create(o,a){if(Array.isArray(o))return Lf({name:""},a,o,"");{const u=o.name??"";return Lf({name:u},o.parent,o.providers,u)}}static#n=this.\u0275prov=pn({token:t,providedIn:"any",factory:()=>Dt(cg)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function ch(t){return t.ngOriginalError}class hu{constructor(){this._console=console}handleError(r){const o=this._findOriginalError(r);this._console.error("ERROR",r),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(r){let o=r&&ch(r);for(;o&&ch(o);)o=ch(o);return o||null}}function dh(t){return r=>{setTimeout(t,void 0,r)}}const al=class oI extends p.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,o,a){let u=r,d=o||(()=>null),m=a;if(r&&"object"==typeof r){const S=r;u=S.next?.bind(S),d=S.error?.bind(S),m=S.complete?.bind(S)}this.__isAsync&&(d=dh(d),u&&(u=dh(u)),m&&(m=dh(m)));const C=super.subscribe({next:u,error:d,complete:m});return r instanceof L.w0&&r.add(C),C}};function Ff(...t){}class qs{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new al(!1),this.onMicrotaskEmpty=new al(!1),this.onStable=new al(!1),this.onError=new al(!1),typeof Zone>"u")throw new le(908,!1);Zone.assertZonePatched();const u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!a&&o,u.shouldCoalesceRunChangeDetection=a,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function aI(){const t="function"==typeof St.requestAnimationFrame;let r=St[t?"requestAnimationFrame":"setTimeout"],o=St[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&r&&o){const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a);const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function Mg(t){const r=()=>{!function Rg(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(St,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,hh(t),t.isCheckStableRunning=!0,Vf(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),hh(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,a,u,d,m,C)=>{if(function iy(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(C))return o.invokeTask(u,d,m,C);try{return lc(t),o.invokeTask(u,d,m,C)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||t.shouldCoalesceRunChangeDetection)&&r(),Ll(t)}},onInvoke:(o,a,u,d,m,C,S)=>{try{return lc(t),o.invoke(u,d,m,C,S)}finally{t.shouldCoalesceRunChangeDetection&&r(),Ll(t)}},onHasTask:(o,a,u,d)=>{o.hasTask(u,d),a===u&&("microTask"==d.change?(t._hasPendingMicrotasks=d.microTask,hh(t),Vf(t)):"macroTask"==d.change&&(t.hasPendingMacrotasks=d.macroTask))},onHandleError:(o,a,u,d)=>(o.handleError(u,d),t.runOutsideAngular(()=>t.onError.emit(d)),!1)})}(u)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!qs.isInAngularZone())throw new le(909,!1)}static assertNotInAngularZone(){if(qs.isInAngularZone())throw new le(909,!1)}run(r,o,a){return this._inner.run(r,o,a)}runTask(r,o,a,u){const d=this._inner,m=d.scheduleEventTask("NgZoneEvent: "+u,r,Pg,Ff,Ff);try{return d.runTask(m,o,a)}finally{d.cancelTask(m)}}runGuarded(r,o,a){return this._inner.runGuarded(r,o,a)}runOutsideAngular(r){return this._outer.run(r)}}const Pg={};function Vf(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function hh(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function lc(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Ll(t){t._nesting--,Vf(t)}class xg{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new al,this.onMicrotaskEmpty=new al,this.onStable=new al,this.onError=new al}run(r,o,a){return r.apply(o,a)}runGuarded(r,o,a){return r.apply(o,a)}runOutsideAngular(r){return r()}runTask(r,o,a,u){return r.apply(o,a)}}const uc=new Ze("",{providedIn:"root",factory:cc});function cc(){const t=Wt(qs);let r=!0;const o=new _.y(u=>{r=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{u.next(r),u.complete()})}),a=new _.y(u=>{let d;t.runOutsideAngular(()=>{d=t.onStable.subscribe(()=>{qs.assertNotInAngularZone(),queueMicrotask(()=>{!r&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(r=!0,u.next(!0))})})});const m=t.onUnstable.subscribe(()=>{qs.assertInAngularZone(),r&&(r=!1,t.runOutsideAngular(()=>{u.next(!1)}))});return()=>{d.unsubscribe(),m.unsubscribe()}});return(0,Ce.T)(o,a.pipe((0,Z.B)()))}function sy(t){return t.ownerDocument}function Fa(t){return t instanceof Function?t():t}let fh=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=pn({token:t,providedIn:"root",factory:()=>new t})}return t})();function Yc(t){for(;t;){t[Nn]|=64;const r=wr(t);if(fo(t)&&!r)return t;t=r}return null}const Ng=new Ze("",{providedIn:"root",factory:()=>!1});let ph=null;function Hf(t,r){return t[r]??$f()}function jf(t,r){const o=$f();o.producerNode?.length&&(t[r]=ph,o.lView=t,ph=py())}const Lg={...ha,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Yc(t.lView)},lView:null};function py(){return Object.create(Lg)}function $f(){return ph??=py(),ph}const lr={};function Gf(t){gy(fr(),Et(),Kn()+t,!1)}function gy(t,r,o,a){if(!a)if(3==(3&r[Nn])){const d=t.preOrderCheckHooks;null!==d&&Ec(r,d,o)}else{const d=t.preOrderHooks;null!==d&&vl(r,d,0,o)}Un(o)}function gu(t,r=ln.Default){const o=Et();return null===o?Dt(t,r):Cl(Kt(),o,nt(t),r)}function Fg(){throw new Error("invalid")}function gh(t,r,o,a,u,d,m,C,S,U,ee){const me=r.blueprint.slice();return me[Ur]=u,me[Nn]=140|a,(null!==U||t&&2048&t[Nn])&&(me[Nn]|=2048),Yt(me),me[qn]=me[Es]=t,me[ar]=o,me[Is]=m||t&&t[Is],me[Cn]=C||t&&t[Cn],me[Ui]=S||t&&t[Ui]||null,me[qr]=d,me[uo]=function Md(){return a_++}(),me[Br]=ee,me[er]=U,me[Er]=2==r.type?t[Er]:me,me}function Xc(t,r,o,a,u){let d=t.data[r];if(null===d)d=function mh(t,r,o,a,u){const d=yr(),m=ui(),S=t.data[r]=function $g(t,r,o,a,u,d){let m=r?r.injectorIndex:-1,C=0;return mt()&&(C|=128),{type:o,index:a,insertBeforeIndex:null,injectorIndex:m,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:C,providerIndexes:0,value:u,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?d:d&&d.parent,o,r,a,u);return null===t.firstChild&&(t.firstChild=S),null!==d&&(m?null==d.child&&null!==S.parent&&(d.child=S):null===d.next&&(d.next=S,S.prev=d)),S}(t,r,o,a,u),function _l(){return Qt.lFrame.inI18n}()&&(d.flags|=32);else if(64&d.type){d.type=o,d.value=a,d.attrs=u;const m=function ti(){const t=Qt.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}();d.injectorIndex=null===m?-1:m.injectorIndex}return un(d,!0),d}function _h(t,r,o,a){if(0===o)return-1;const u=r.length;for(let d=0;d<o;d++)r.push(a),t.blueprint.push(a),t.data.push(null);return u}function zf(t,r,o,a,u){const d=Hf(r,Bi),m=Kn(),C=2&a;try{Un(-1),C&&r.length>Bn&&gy(t,r,Bn,!1),Fi(C?2:0,u);const U=C?d:null,ee=xo(U);try{null!==U&&(U.dirty=!1),o(a,u)}finally{ji(U,ee)}}finally{C&&null===r[Bi]&&jf(r,Bi),Un(m),Fi(C?3:1,u)}}function Ug(t,r,o){if(la(r)){const a=Zi(null);try{const d=r.directiveEnd;for(let m=r.directiveStart;m<d;m++){const C=t.data[m];C.contentQueries&&C.contentQueries(1,o[m],m)}}finally{Zi(a)}}}function yh(t,r,o){et()&&(function Wg(t,r,o,a){const u=o.directiveStart,d=o.directiveEnd;Hi(o)&&function yI(t,r,o){const a=y(r,t),u=Wf(o);let m=16;o.signals?m=4096:o.onPush&&(m=64);const C=Qf(t,gh(t,u,null,m,a,r,null,t[Is].rendererFactory.createRenderer(a,o),null,null,null));t[r.index]=C}(r,o,t.data[u+o.componentOffset]),t.firstCreatePass||El(o,r),Do(a,r);const m=o.initialInputs;for(let C=u;C<d;C++){const S=t.data[C],U=ci(r,t,C,o);Do(U,r),null!==m&&Yg(0,C-u,U,S,0,m),ps(S)&&(be(o.index,r)[ar]=ci(r,t,C,o))}}(t,r,o,y(o,r)),64==(64&o.flags)&&qg(t,r,o))}function Bg(t,r,o=y){const a=r.localNames;if(null!==a){let u=r.index+1;for(let d=0;d<a.length;d+=2){const m=a[d+1],C=-1===m?o(r,t):t[m];t[u++]=C}}}function Wf(t){const r=t.tView;return null===r||r.incompleteFirstPass?t.tView=vh(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):r}function vh(t,r,o,a,u,d,m,C,S,U,ee){const me=Bn+a,Be=me+u,ze=function Hg(t,r){const o=[];for(let a=0;a<r;a++)o.push(a<t?null:lr);return o}(me,Be),_t="function"==typeof U?U():U;return ze[qt]={type:t,blueprint:ze,template:o,queries:null,viewQuery:C,declTNode:r,data:ze.slice().fill(null,me),bindingStartIndex:me,expandoStartIndex:Be,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:S,consts:_t,incompleteFirstPass:!1,ssrId:ee}}let qf=t=>null;function _y(t,r,o,a){for(let u in t)if(t.hasOwnProperty(u)){o=null===o?{}:o;const d=t[u];null===a?Kf(o,r,u,d):a.hasOwnProperty(u)&&Kf(o,r,a[u],d)}return o}function Kf(t,r,o,a){t.hasOwnProperty(o)?t[o].push(r,a):t[o]=[r,a]}function Ih(t,r,o,a){if(et()){const u=null===a?null:{"":-1},d=function mI(t,r){const o=t.directiveRegistry;let a=null,u=null;if(o)for(let d=0;d<o.length;d++){const m=o[d];if(li(r,m.selectors,!1))if(a||(a=[]),ps(m))if(null!==m.findHostDirectiveDefs){const C=[];u=u||new Map,m.findHostDirectiveDefs(m,C,u),a.unshift(...C,m),Eh(t,r,C.length)}else a.unshift(m),Eh(t,r,0);else u=u||new Map,m.findHostDirectiveDefs?.(m,a,u),a.push(m)}return null===a?null:[a,u]}(t,o);let m,C;null===d?m=C=null:[m,C]=d,null!==m&&yy(t,r,o,m,u,C),u&&function _I(t,r,o){if(r){const a=t.localNames=[];for(let u=0;u<r.length;u+=2){const d=o[r[u+1]];if(null==d)throw new le(-301,!1);a.push(r[u],d)}}}(o,a,u)}o.mergedAttrs=yi(o.mergedAttrs,o.attrs)}function yy(t,r,o,a,u,d){for(let U=0;U<a.length;U++)Tl(El(o,r),t,a[U].type);!function Zf(t,r,o){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+o,t.providerIndexes=r}(o,t.data.length,a.length);for(let U=0;U<a.length;U++){const ee=a[U];ee.providersResolver&&ee.providersResolver(ee)}let m=!1,C=!1,S=_h(t,r,a.length,null);for(let U=0;U<a.length;U++){const ee=a[U];o.mergedAttrs=yi(o.mergedAttrs,ee.hostAttrs),Zg(t,o,r,S,ee),Kg(S,ee,u),null!==ee.contentQueries&&(o.flags|=4),(null!==ee.hostBindings||null!==ee.hostAttrs||0!==ee.hostVars)&&(o.flags|=64);const me=ee.type.prototype;!m&&(me.ngOnChanges||me.ngOnInit||me.ngDoCheck)&&((t.preOrderHooks??=[]).push(o.index),m=!0),!C&&(me.ngOnChanges||me.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(o.index),C=!0),S++}!function hI(t,r,o){const u=r.directiveEnd,d=t.data,m=r.attrs,C=[];let S=null,U=null;for(let ee=r.directiveStart;ee<u;ee++){const me=d[ee],Be=o?o.get(me):null,_t=Be?Be.outputs:null;S=_y(me.inputs,ee,S,Be?Be.inputs:null),U=_y(me.outputs,ee,U,_t);const xt=null===S||null===m||Ls(r)?null:td(S,ee,m);C.push(xt)}null!==S&&(S.hasOwnProperty("class")&&(r.flags|=8),S.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=C,r.inputs=S,r.outputs=U}(t,o,d)}function qg(t,r,o){const a=o.directiveStart,u=o.directiveEnd,d=o.index,m=function za(){return Qt.lFrame.currentDirectiveIndex}();try{Un(d);for(let C=a;C<u;C++){const S=t.data[C],U=r[C];$l(C),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&gI(S,U)}}finally{Un(-1),$l(m)}}function gI(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function Eh(t,r,o){r.componentOffset=o,(t.components??=[]).push(r.index)}function Kg(t,r,o){if(o){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)o[r.exportAs[a]]=t;ps(r)&&(o[""]=t)}}function Zg(t,r,o,a,u){t.data[a]=u;const d=u.factory||(u.factory=Xr(u.type)),m=new Il(d,ps(u),gu);t.blueprint[a]=m,o[a]=m,function zg(t,r,o,a,u){const d=u.hostBindings;if(d){let m=t.hostBindingOpCodes;null===m&&(m=t.hostBindingOpCodes=[]);const C=~r.index;(function vy(t){let r=t.length;for(;r>0;){const o=t[--r];if("number"==typeof o&&o<0)return o}return 0})(m)!=C&&m.push(C),m.push(o,a,d)}}(t,r,a,_h(t,o,u.hostVars,lr),u)}function Qo(t,r,o,a,u,d){const m=y(t,r);!function Qg(t,r,o,a,u,d,m){if(null==d)t.removeAttribute(r,u,o);else{const C=null==m?he(d):m(d,a||"",u);t.setAttribute(r,u,C,o)}}(r[Cn],m,d,t.value,o,a,u)}function Yg(t,r,o,a,u,d){const m=d[r];if(null!==m)for(let C=0;C<m.length;)Jg(a,o,m[C++],m[C++],m[C++])}function Jg(t,r,o,a,u){const d=Zi(null);try{const m=t.inputTransforms;null!==m&&m.hasOwnProperty(a)&&(u=m[a].call(r,u)),null!==t.setInput?t.setInput(r,u,o,a):r[a]=u}finally{Zi(d)}}function td(t,r,o){let a=null,u=0;for(;u<o.length;){const d=o[u];if(0!==d)if(5!==d){if("number"==typeof d)break;if(t.hasOwnProperty(d)){null===a&&(a=[]);const m=t[d];for(let C=0;C<m.length;C+=2)if(m[C]===r){a.push(d,m[C+1],o[u+1]);break}}u+=2}else u+=2;else u+=4}return a}function Xg(t,r,o,a){return[t,!0,!1,r,null,0,a,o,null,null,null]}function Th(t,r){const o=t.contentQueries;if(null!==o)for(let a=0;a<o.length;a+=2){const d=o[a+1];if(-1!==d){const m=t.data[d];T(o[a]),m.contentQueries(2,r[d],d)}}}function Qf(t,r){return t[Ai]?t[rs][fi]=r:t[Ai]=r,t[rs]=r,r}function em(t,r,o){T(0);const a=Zi(null);try{r(t,o)}finally{Zi(a)}}function Iy(t){return t[Di]||(t[Di]=[])}function Ch(t){return t.cleanup||(t.cleanup=[])}function Jf(t,r){const o=t[Ui],a=o?o.get(hu,null):null;a&&a.handleError(r)}function wh(t,r,o,a,u){for(let d=0;d<o.length;){const m=o[d++],C=o[d++];Jg(t.data[m],r[m],a,C,u)}}function ll(t,r,o){const a=v(r,t);!function cf(t,r,o){t.setValue(r,o)}(t[Cn],a,o)}function tm(t,r){const o=be(r,t),a=o[qt];!function nm(t,r){for(let o=r.length;o<t.blueprint.length;o++)r.push(t.blueprint[o])}(a,o);const u=o[Ur];null!==u&&null===o[Br]&&(o[Br]=nh(u,o[Ui])),nd(a,o,o[ar])}function nd(t,r,o){P(r);try{const a=t.viewQuery;null!==a&&em(1,a,o);const u=t.template;null!==u&&zf(t,r,u,1,o),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Th(t,r),t.staticViewQueries&&em(2,t.viewQuery,o);const d=t.components;null!==d&&function rm(t,r){for(let o=0;o<r.length;o++)tm(t,r[o])}(r,d)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{r[Nn]&=-5,Je()}}let im=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(o,a,u){const d=typeof Zone>"u"?null:Zone.current,m=function gt(t,r,o){const a=Object.create(cr);o&&(a.consumerAllowSignalWrites=!0),a.fn=t,a.schedule=r;const u=m=>{a.cleanupFn=m};return a.ref={notify:()=>ws(a),run:()=>{if(a.dirty=!1,a.hasRun&&!yo(a))return;a.hasRun=!0;const m=xo(a);try{a.cleanupFn(),a.cleanupFn=en,a.fn(u)}finally{ji(a,m)}},cleanup:()=>a.cleanupFn()},a.ref}(o,U=>{this.all.has(U)&&this.queue.set(U,d)},u);let C;this.all.add(m),m.notify();const S=()=>{m.cleanup(),C?.(),this.all.delete(m),this.queue.delete(m)};return C=a?.onDestroy(S),{destroy:S}}flush(){if(0!==this.queue.size)for(const[o,a]of this.queue)this.queue.delete(o),a?a.run(()=>o.run()):o.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=pn({token:t,providedIn:"root",factory:()=>new t})}return t})();function bh(t,r,o){let a=o?t.styles:null,u=o?t.classes:null,d=0;if(null!==r)for(let m=0;m<r.length;m++){const C=r[m];"number"==typeof C?d=C:1==d?u=He(u,C):2==d&&(a=He(a,C+": "+r[++m]+";"))}o?t.styles=a:t.stylesWithoutHost=a,o?t.classes=u:t.classesWithoutHost=u}function dc(t,r,o,a,u=!1){for(;null!==o;){const d=r[o.index];null!==d&&a.push(ei(d)),Mr(d)&&sm(d,a);const m=o.type;if(8&m)dc(t,r,o.child,a);else if(32&m){const C=$p(o,r);let S;for(;S=C();)a.push(S)}else if(16&m){const C=I_(r,o);if(Array.isArray(C))a.push(...C);else{const S=wr(r[Er]);dc(S[qt],S,C,a,!0)}}o=u?o.projectionNext:o.next}return a}function sm(t,r){for(let o=xr;o<t.length;o++){const a=t[o],u=a[qt].firstChild;null!==u&&dc(a[qt],a,u,r)}t[pi]!==t[Ur]&&r.push(t[pi])}function Vl(t,r,o,a=!0){const u=r[Is],d=u.rendererFactory,m=u.afterRenderEventManager;d.begin?.(),m?.begin();try{Ty(t,r,t.template,o)}catch(S){throw a&&Jf(r,S),S}finally{d.end?.(),u.effectManager?.flush(),m?.end()}}function Ty(t,r,o,a){const u=r[Nn];if(256!=(256&u)){r[Is].effectManager?.flush(),P(r);try{Yt(r),function Qn(t){return Qt.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==o&&zf(t,r,o,2,a);const m=3==(3&u);if(m){const U=t.preOrderCheckHooks;null!==U&&Ec(r,U,null)}else{const U=t.preOrderHooks;null!==U&&vl(r,U,0,null),zo(r,0)}if(function wy(t){for(let r=xd(t);null!==r;r=Gp(r)){if(!r[jo])continue;const o=r[gi];for(let a=0;a<o.length;a++){Gn(o[a])}}}(r),Cy(r,2),null!==t.contentQueries&&Th(t,r),m){const U=t.contentCheckHooks;null!==U&&Ec(r,U)}else{const U=t.contentHooks;null!==U&&vl(r,U,1),zo(r,1)}!function Vg(t,r){const o=t.hostBindingOpCodes;if(null===o)return;const a=Hf(r,co);try{for(let u=0;u<o.length;u++){const d=o[u];if(d<0)Un(~d);else{const m=d,C=o[++u],S=o[++u];yc(C,m),a.dirty=!1;const U=xo(a);try{S(2,r[m])}finally{ji(a,U)}}}}finally{null===r[co]&&jf(r,co),Un(-1)}}(t,r);const C=t.components;null!==C&&by(r,C,0);const S=t.viewQuery;if(null!==S&&em(2,S,a),m){const U=t.viewCheckHooks;null!==U&&Ec(r,U)}else{const U=t.viewHooks;null!==U&&vl(r,U,2),zo(r,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),r[Nn]&=-73,xn(r)}finally{Je()}}}function Cy(t,r){for(let o=xd(t);null!==o;o=Gp(o))for(let a=xr;a<o.length;a++)om(o[a],r)}function II(t,r,o){om(be(r,t),o)}function om(t,r){if(!function Xe(t){return 128==(128&t[Nn])}(t))return;const o=t[qt],a=t[Nn];if(80&a&&0===r||1024&a||2===r)Ty(o,t,o.template,t[ar]);else if(t[xs]>0){Cy(t,1);const u=o.components;null!==u&&by(t,u,1)}}function by(t,r,o){for(let a=0;a<r.length;a++)II(t,r[a],o)}class Dh{get rootNodes(){const r=this._lView,o=r[qt];return dc(o,r,o.firstChild,[])}constructor(r,o){this._lView=r,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ar]}set context(r){this._lView[ar]=r}get destroyed(){return 256==(256&this._lView[Nn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[qn];if(Mr(r)){const o=r[8],a=o?o.indexOf(this):-1;a>-1&&(kd(r,a),Fu(o,a))}this._attachedToViewContainer=!1}Wp(this._lView[qt],this._lView)}onDestroy(r){!function ot(t,r){if(256==(256&t[Nn]))throw new le(911,!1);null===t[xi]&&(t[xi]=[]),t[xi].push(r)}(this._lView,r)}markForCheck(){Yc(this._cdRefInjectingView||this._lView)}detach(){this._lView[Nn]&=-129}reattach(){this._lView[Nn]|=128}detectChanges(){Vl(this._lView[qt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new le(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function g_(t,r){kc(t,r,r[Cn],2,null,null)}(this._lView[qt],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new le(902,!1);this._appRef=r}}class EI extends Dh{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;Vl(r[qt],r,r[ar],!1)}checkNoChanges(){}get context(){return null}}class Dy extends Mf{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const o=Wn(r);return new id(o,this.ngModule)}}function Ay(t){const r=[];for(let o in t)t.hasOwnProperty(o)&&r.push({propName:t[o],templateName:o});return r}class Sy{constructor(r,o){this.injector=r,this.parentInjector=o}get(r,o,a){a=an(a);const u=this.injector.get(r,cu,a);return u!==cu||o===cu?u:this.parentInjector.get(r,o,a)}}class id extends ih{get inputs(){const r=this.componentDef,o=r.inputTransforms,a=Ay(r.inputs);if(null!==o)for(const u of a)o.hasOwnProperty(u.propName)&&(u.transform=o[u.propName]);return a}get outputs(){return Ay(this.componentDef.outputs)}constructor(r,o){super(),this.componentDef=r,this.ngModule=o,this.componentType=r.type,this.selector=function wi(t){return t.map(sa).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!o}create(r,o,a,u){let d=(u=u||this.ngModule)instanceof ol?u:u?.injector;d&&null!==this.componentDef.getStandaloneInjector&&(d=this.componentDef.getStandaloneInjector(d)||d);const m=d?new Sy(r,d):r,C=m.get(ey,null);if(null===C)throw new le(407,!1);const me={rendererFactory:C,sanitizer:m.get(Zc,null),effectManager:m.get(im,null),afterRenderEventManager:m.get(fh,null)},Be=C.createRenderer(null,this.componentDef),ze=this.componentDef.selectors[0][0]||"div",_t=a?function ed(t,r,o,a){const d=a.get(Ng,!1)||o===Qe.ShadowDom,m=t.selectRootElement(r,d);return function my(t){qf(t)}(m),m}(Be,a,this.componentDef.encapsulation,m):Xl(Be,ze,function TI(t){const r=t.toLowerCase();return"svg"===r?os:"math"===r?"math":null}(ze)),Pn=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Ct=null;null!==_t&&(Ct=nh(_t,m,!0));const sr=vh(0,null,null,1,0,null,null,null,null,null,null),Dr=gh(null,sr,null,Pn,null,null,me,Be,m,null,Ct);let Ei,Da;P(Dr);try{const _c=this.componentDef;let Cp,$E=null;_c.findHostDirectiveDefs?(Cp=[],$E=new Map,_c.findHostDirectiveDefs(_c,Cp,$E),Cp.push(_c)):Cp=[_c];const ZD=function Py(t,r){const o=t[qt],a=Bn;return t[a]=r,Xc(o,a,2,"#host",null)}(Dr,_t),QD=function Ry(t,r,o,a,u,d,m){const C=u[qt];!function My(t,r,o,a){for(const u of t)r.mergedAttrs=yi(r.mergedAttrs,u.hostAttrs);null!==r.mergedAttrs&&(bh(r,r.mergedAttrs,!0),null!==o&&C_(a,o,r))}(a,t,r,m);let S=null;null!==r&&(S=nh(r,u[Ui]));const U=d.rendererFactory.createRenderer(r,o);let ee=16;o.signals?ee=4096:o.onPush&&(ee=64);const me=gh(u,Wf(o),null,ee,u[t.index],t,d,U,null,null,S);return C.firstCreatePass&&Eh(C,t,a.length-1),Qf(u,me),u[t.index]=me}(ZD,_t,_c,Cp,Dr,me,Be);Da=G(sr,Bn),_t&&function Sr(t,r,o,a){if(a)ri(t,o,["ng-version",ah.full]);else{const{attrs:u,classes:d}=function oa(t){const r=[],o=[];let a=1,u=2;for(;a<t.length;){let d=t[a];if("string"==typeof d)2===u?""!==d&&r.push(d,t[++a]):8===u&&o.push(d);else{if(!Gr(u))break;u=d}a++}return{attrs:r,classes:o}}(r.selectors[0]);u&&ri(t,o,u),d&&d.length>0&&T_(t,o,d.join(" "))}}(Be,_c,_t,a),void 0!==o&&function xy(t,r,o){const a=t.projection=[];for(let u=0;u<r.length;u++){const d=o[u];a.push(null!=d?Array.from(d):null)}}(Da,this.ngContentSelectors,o),Ei=function Xf(t,r,o,a,u,d){const m=Kt(),C=u[qt],S=y(m,u);yy(C,u,m,o,null,a);for(let ee=0;ee<o.length;ee++)Do(ci(u,C,m.directiveStart+ee,m),u);qg(C,u,m),S&&Do(S,u);const U=ci(u,C,m.directiveStart+m.componentOffset,m);if(t[ar]=u[ar]=U,null!==d)for(const ee of d)ee(U,r);return Ug(C,m,t),U}(QD,_c,Cp,$E,Dr,[Oy]),nd(sr,Dr,null)}finally{Je()}return new am(this.componentType,Ei,Kc(Da,Dr),Dr,Da)}}class am extends X_{constructor(r,o,a,u,d){super(),this.location=a,this._rootLView=u,this._tNode=d,this.previousInputValues=null,this.instance=o,this.hostView=this.changeDetectorRef=new EI(u),this.componentType=r}setInput(r,o){const a=this._tNode.inputs;let u;if(null!==a&&(u=a[r])){if(this.previousInputValues??=new Map,this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),o))return;const d=this._rootLView;wh(d[qt],d,u,r,o),this.previousInputValues.set(r,o),Yc(be(this._tNode.index,d))}}get injector(){return new ls(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function Oy(){const t=Kt();Ji(Et()[qt],t)}function ep(t){let r=function sd(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),o=!0;const a=[t];for(;r;){let u;if(ps(t))u=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new le(903,!1);u=r.\u0275dir}if(u){if(o){a.push(u);const m=t;m.inputs=_i(t.inputs),m.inputTransforms=_i(t.inputTransforms),m.declaredInputs=_i(t.declaredInputs),m.outputs=_i(t.outputs);const C=u.hostBindings;C&&CI(t,C);const S=u.viewQuery,U=u.contentQueries;if(S&&ul(t,S),U&&Ny(t,U),ae(t.inputs,u.inputs),ae(t.declaredInputs,u.declaredInputs),ae(t.outputs,u.outputs),null!==u.inputTransforms&&(null===m.inputTransforms&&(m.inputTransforms={}),ae(m.inputTransforms,u.inputTransforms)),ps(u)&&u.data.animation){const ee=t.data;ee.animation=(ee.animation||[]).concat(u.data.animation)}}const d=u.features;if(d)for(let m=0;m<d.length;m++){const C=d[m];C&&C.ngInherit&&C(t),C===ep&&(o=!1)}}r=Object.getPrototypeOf(r)}!function oo(t){let r=0,o=null;for(let a=t.length-1;a>=0;a--){const u=t[a];u.hostVars=r+=u.hostVars,u.hostAttrs=yi(u.hostAttrs,o=yi(o,u.hostAttrs))}}(a)}function _i(t){return t===Ut?{}:t===yt?[]:t}function ul(t,r){const o=t.viewQuery;t.viewQuery=o?(a,u)=>{r(a,u),o(a,u)}:r}function Ny(t,r){const o=t.contentQueries;t.contentQueries=o?(a,u,d)=>{r(a,u,d),o(a,u,d)}:r}function CI(t,r){const o=t.hostBindings;t.hostBindings=o?(a,u)=>{r(a,u),o(a,u)}:r}function AI(t){const r=t.inputConfig,o={};for(const a in r)if(r.hasOwnProperty(a)){const u=r[a];Array.isArray(u)&&u[2]&&(o[a]=u[2])}t.inputTransforms=o}function Ah(t){return!!rp(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function rp(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function cl(t,r,o){return t[r]=o}function Ao(t,r,o){return!Object.is(t[r],o)&&(t[r]=o,!0)}function od(t,r,o,a){const u=Ao(t,r,o);return Ao(t,r+1,a)||u}function sp(t,r,o,a){const u=Et();return Ao(u,Ft(),r)&&(fr(),Qo(Nr(),u,t,r,o,a)),sp}function Uo(t,r,o,a,u,d){const C=od(t,function as(){return Qt.lFrame.bindingIndex}(),o,u);return Yi(2),C?r+he(o)+a+he(u)+d:lr}function zy(t,r,o,a,u,d,m,C){const S=Et(),U=fr(),ee=t+Bn,me=U.firstCreatePass?function cp(t,r,o,a,u,d,m,C,S){const U=r.consts,ee=Xc(r,t,4,m||null,Tt(U,C));Ih(r,o,ee,Tt(U,S)),Ji(r,ee);const me=ee.tView=vh(2,ee,a,u,d,r.directiveRegistry,r.pipeRegistry,null,r.schemas,U,null);return null!==r.queries&&(r.queries.template(r,ee),me.queries=r.queries.embeddedTView(ee)),ee}(ee,U,S,r,o,a,u,d,m):U.data[ee];un(me,!1);const Be=Wy(U,S,me,t);qa()&&Bd(U,S,Be,me),Do(Be,S),Qf(S,S[ee]=Xg(Be,S,Be,me)),Ro(me)&&yh(U,S,me),null!=m&&Bg(S,me,C)}let Wy=function vm(t,r,o,a){return Co(!0),r[Cn].createComment("")};function Im(t){return function ne(t,r){return t[r]}(function Vn(){return Qt.lFrame.contextLView}(),Bn+t)}function kh(t,r,o){const a=Et();return Ao(a,Ft(),r)&&function Vo(t,r,o,a,u,d,m,C){const S=y(r,o);let ee,U=r.inputs;!C&&null!=U&&(ee=U[a])?(wh(t,o,ee,a,u),Hi(r)&&function pI(t,r){const o=be(r,t);16&o[Nn]||(o[Nn]|=64)}(o,r.index)):3&r.type&&(a=function fI(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),u=null!=m?m(u,r.value||"",a):u,d.setProperty(S,a,u))}(fr(),Nr(),a,t,r,a[Cn],o,!1),kh}function gd(t,r,o,a,u){const m=u?"class":"style";wh(t,o,r.inputs[m],m,a)}function Em(t,r,o,a){const u=Et(),d=fr(),m=Bn+t,C=u[Cn],S=d.firstCreatePass?function LI(t,r,o,a,u,d){const m=r.consts,S=Xc(r,t,2,a,Tt(m,u));return Ih(r,o,S,Tt(m,d)),null!==S.attrs&&bh(S,S.attrs,!1),null!==S.mergedAttrs&&bh(S,S.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,S),S}(m,d,u,r,o,a):d.data[m],U=FI(d,u,S,C,r,t);u[m]=U;const ee=Ro(S);return un(S,!0),C_(C,U,S),32!=(32&S.flags)&&qa()&&Bd(d,u,U,S),0===function Ht(){return Qt.lFrame.elementDepthCount}()&&Do(U,u),function No(){Qt.lFrame.elementDepthCount++}(),ee&&(yh(d,u,S),Ug(d,S,u)),null!==a&&Bg(u,S),Em}function Tm(){let t=Kt();ui()?ro():(t=t.parent,un(t,!1));const r=t;(function Vr(t){return Qt.skipHydrationRootTNode===t})(r)&&function ko(){Qt.skipHydrationRootTNode=null}(),function Lt(){Qt.lFrame.elementDepthCount--}();const o=fr();return o.firstCreatePass&&(Ji(o,t),la(t)&&o.queries.elementEnd(t)),null!=r.classesWithoutHost&&function bp(t){return 0!=(8&t.flags)}(r)&&gd(o,r,Et(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function Dp(t){return 0!=(16&t.flags)}(r)&&gd(o,r,Et(),r.stylesWithoutHost,!1),Tm}function Cm(t,r,o,a){return Em(t,r,o,a),Tm(),Cm}let FI=(t,r,o,a,u,d)=>(Co(!0),Xl(a,u,function Ic(){return Qt.lFrame.currentNamespace}()));function Eu(t,r,o){const a=Et(),u=fr(),d=t+Bn,m=u.firstCreatePass?function Hl(t,r,o,a,u){const d=r.consts,m=Tt(d,a),C=Xc(r,t,8,"ng-container",m);return null!==m&&bh(C,m,!0),Ih(r,o,C,Tt(d,u)),null!==r.queries&&r.queries.elementStart(r,C),C}(d,u,a,r,o):u.data[d];un(m,!0);const C=bm(u,a,m,t);return a[d]=C,qa()&&Bd(u,a,C,m),Do(C,a),Ro(m)&&(yh(u,a,m),Ug(u,m,a)),null!=o&&Bg(a,m),Eu}function Va(){let t=Kt();const r=fr();return ui()?ro():(t=t.parent,un(t,!1)),r.firstCreatePass&&(Ji(r,t),la(t)&&r.queries.elementEnd(t)),Va}function wm(t,r,o){return Eu(t,r,o),Va(),wm}let bm=(t,r,o,a)=>(Co(!0),Qu(r[Cn],""));function Qy(){return Et()}function Dm(t){return!!t&&"function"==typeof t.then}function Yy(t){return!!t&&"function"==typeof t.subscribe}function Am(t,r,o,a){const u=Et(),d=fr(),m=Kt();return function Sm(t,r,o,a,u,d,m){const C=Ro(a),U=t.firstCreatePass&&Ch(t),ee=r[ar],me=Iy(r);let Be=!0;if(3&a.type||m){const xt=y(a,r),tn=m?m(xt):xt,Pn=me.length,Ct=m?Dr=>m(ei(Dr[a.index])):a.index;let sr=null;if(!m&&C&&(sr=function Xy(t,r,o,a){const u=t.cleanup;if(null!=u)for(let d=0;d<u.length-1;d+=2){const m=u[d];if(m===o&&u[d+1]===a){const C=r[Di],S=u[d+2];return C.length>S?C[S]:null}"string"==typeof m&&(d+=2)}return null}(t,r,u,a.index)),null!==sr)(sr.__ngLastListenerFn__||sr).__ngNextListenerFn__=d,sr.__ngLastListenerFn__=d,Be=!1;else{d=tv(a,r,ee,d,!1);const Dr=o.listen(tn,u,d);me.push(d,Dr),U&&U.push(u,Ct,Pn,Pn+1)}}else d=tv(a,r,ee,d,!1);const ze=a.outputs;let _t;if(Be&&null!==ze&&(_t=ze[u])){const xt=_t.length;if(xt)for(let tn=0;tn<xt;tn+=2){const Ei=r[_t[tn]][_t[tn+1]].subscribe(d),Da=me.length;me.push(d,Ei),U&&U.push(u,a.index,Da,-(Da+1))}}}(d,u,u[Cn],m,t,r,a),Am}function ev(t,r,o,a){try{return Fi(6,r,o),!1!==o(a)}catch(u){return Jf(t,u),!1}finally{Fi(7,r,o)}}function tv(t,r,o,a,u){return function d(m){if(m===Function)return a;Yc(t.componentOffset>-1?be(t.index,r):r);let S=ev(r,o,a,m),U=d.__ngNextListenerFn__;for(;U;)S=ev(r,o,U,m)&&S,U=U.__ngNextListenerFn__;return u&&!1===S&&m.preventDefault(),S}}function Pm(t=1){return function $t(t){return(Qt.lFrame.contextLView=function Yn(t,r){for(;t>0;)r=r[Es],t--;return r}(t,Qt.lFrame.contextLView))[ar]}(t)}function UI(t,r){let o=null;const a=function Gi(t){const r=t.attrs;if(null!=r){const o=r.indexOf(5);if(!(1&o))return r[o+1]}return null}(t);for(let u=0;u<r.length;u++){const d=r[u];if("*"!==d){if(null===a?li(t,d,!0):ts(a,d))return u}else o=u}return o}function fc(t){const r=Et()[Er][qr];if(!r.projection){const a=r.projection=Oa(t?t.length:1,null),u=a.slice();let d=r.child;for(;null!==d;){const m=t?UI(d,t):0;null!==m&&(u[m]?u[m].projectionNext=d:a[m]=d,u[m]=d),d=d.next}}}function dp(t,r=0,o){const a=Et(),u=fr(),d=Xc(u,Bn+t,16,null,o||null);null===d.projection&&(d.projection=r),ro(),(!a[Br]||mt())&&32!=(32&d.flags)&&function eg(t,r,o){tg(r[Cn],0,r,o,Ld(t,o,r),Na(o.parent||r[qr],o,r))}(u,a,d)}function hp(t,r){return t<<17|r<<2}function Cu(t){return t>>17&32767}function Mm(t){return 2|t}function wu(t){return(131068&t)>>2}function hl(t,r){return-131069&t|r<<2}function xm(t){return 1|t}function ov(t,r,o,a,u){const d=t[o+1],m=null===r;let C=a?Cu(d):wu(d),S=!1;for(;0!==C&&(!1===S||m);){const ee=t[C+1];o0(t[C],r)&&(S=!0,t[C+1]=a?xm(ee):Mm(ee)),C=a?Cu(ee):wu(ee)}S&&(t[o+1]=a?Mm(d):xm(d))}function o0(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&Ja(t,r)>=0}const Ks={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Om(t){return t.substring(Ks.key,Ks.keyEnd)}function QI(t,r){const o=Ks.textEnd;return o===r?-1:(r=Ks.keyEnd=function u0(t,r,o){for(;r<o&&t.charCodeAt(r)>32;)r++;return r}(t,Ks.key=r,o),pc(t,r,o))}function pc(t,r,o){for(;r<o&&t.charCodeAt(r)<=32;)r++;return r}function fp(t,r){return function Ta(t,r,o,a){const u=Et(),d=fr(),m=Yi(2);d.firstUpdatePass&&Vm(d,t,m,a),r!==lr&&Ao(u,m,r)&&gp(d,d.data[Kn()],u,u[Cn],t,u[m+1]=function Um(t,r){return null==t||""===t||("string"==typeof r?t+=r:"object"==typeof t&&(t=we(rl(t)))),t}(r,o),a,m)}(t,r,null,!0),fp}function uv(t){!function Xo(t,r,o,a){const u=fr(),d=Yi(2);u.firstUpdatePass&&Vm(u,null,d,a);const m=Et();if(o!==lr&&Ao(m,d,o)){const C=u.data[Kn()];if(bu(C,a)&&!cv(u,d)){let S=a?C.classesWithoutHost:C.stylesWithoutHost;null!==S&&(o=He(S,o||"")),gd(u,C,m,o,a)}else!function XI(t,r,o,a,u,d,m,C){u===lr&&(u=yt);let S=0,U=0,ee=0<u.length?u[0]:null,me=0<d.length?d[0]:null;for(;null!==ee||null!==me;){const Be=S<u.length?u[S+1]:void 0,ze=U<d.length?d[U+1]:void 0;let xt,_t=null;ee===me?(S+=2,U+=2,Be!==ze&&(_t=me,xt=ze)):null===me||null!==ee&&ee<me?(S+=2,_t=ee):(U+=2,_t=me,xt=ze),null!==_t&&gp(t,r,o,a,_t,xt,m,C),ee=S<u.length?u[S]:null,me=U<d.length?d[U]:null}}(u,C,m,m[Cn],m[d+1],m[d+1]=function Fh(t,r,o){if(null==o||""===o)return yt;const a=[],u=rl(o);if(Array.isArray(u))for(let d=0;d<u.length;d++)t(a,u[d],!0);else if("object"==typeof u)for(const d in u)u.hasOwnProperty(d)&&t(a,d,u[d]);else"string"==typeof u&&r(a,u);return a}(t,r,o),a,d)}}(Ho,fl,t,!0)}function fl(t,r){for(let o=function a0(t){return function Nm(t){Ks.key=0,Ks.keyEnd=0,Ks.value=0,Ks.valueEnd=0,Ks.textEnd=t.length}(t),QI(t,pc(t,0,Ks.textEnd))}(r);o>=0;o=QI(r,o))As(t,Om(r),!0)}function cv(t,r){return r>=t.expandoStartIndex}function Vm(t,r,o,a){const u=t.data;if(null===u[o+1]){const d=u[Kn()],m=cv(t,o);bu(d,a)&&null===r&&!m&&(r=!1),r=function dv(t,r,o,a){const u=function _a(t){const r=Qt.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}(t);let d=a?r.residualClasses:r.residualStyles;if(null===u)0===(a?r.classBindings:r.styleBindings)&&(o=md(o=pp(null,t,r,o,a),r.attrs,a),d=null);else{const m=r.directiveStylingLast;if(-1===m||t[m]!==u)if(o=pp(u,t,r,o,a),null===d){let S=function gc(t,r,o){const a=o?r.classBindings:r.styleBindings;if(0!==wu(a))return t[Cu(a)]}(t,r,a);void 0!==S&&Array.isArray(S)&&(S=pp(null,t,r,S[1],a),S=md(S,r.attrs,a),function Ca(t,r,o,a){t[Cu(o?r.classBindings:r.styleBindings)]=a}(t,r,a,S))}else d=function Bo(t,r,o){let a;const u=r.directiveEnd;for(let d=1+r.directiveStylingLast;d<u;d++)a=md(a,t[d].hostAttrs,o);return md(a,r.attrs,o)}(t,r,a)}return void 0!==d&&(a?r.residualClasses=d:r.residualStyles=d),o}(u,d,r,a),function qI(t,r,o,a,u,d){let m=d?r.classBindings:r.styleBindings,C=Cu(m),S=wu(m);t[a]=o;let ee,U=!1;if(Array.isArray(o)?(ee=o[1],(null===ee||Ja(o,ee)>0)&&(U=!0)):ee=o,u)if(0!==S){const Be=Cu(t[C+1]);t[a+1]=hp(Be,C),0!==Be&&(t[Be+1]=hl(t[Be+1],a)),t[C+1]=function n0(t,r){return 131071&t|r<<17}(t[C+1],a)}else t[a+1]=hp(C,0),0!==C&&(t[C+1]=hl(t[C+1],a)),C=a;else t[a+1]=hp(S,0),0===C?C=a:t[S+1]=hl(t[S+1],a),S=a;U&&(t[a+1]=Mm(t[a+1])),ov(t,ee,a,!0),ov(t,ee,a,!1),function KI(t,r,o,a,u){const d=u?t.residualClasses:t.residualStyles;null!=d&&"string"==typeof r&&Ja(d,r)>=0&&(o[a+1]=xm(o[a+1]))}(r,ee,t,a,d),m=hp(C,S),d?r.classBindings=m:r.styleBindings=m}(u,d,r,o,m,a)}}function pp(t,r,o,a,u){let d=null;const m=o.directiveEnd;let C=o.directiveStylingLast;for(-1===C?C=o.directiveStart:C++;C<m&&(d=r[C],a=md(a,d.hostAttrs,u),d!==t);)C++;return null!==t&&(o.directiveStylingLast=C),a}function md(t,r,o){const a=o?1:2;let u=-1;if(null!==r)for(let d=0;d<r.length;d++){const m=r[d];"number"==typeof m?u=m:u===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),As(t,m,!!o||r[++d]))}return void 0===t?null:t}function Ho(t,r,o){const a=String(r);""!==a&&!a.includes(" ")&&As(t,a,o)}function gp(t,r,o,a,u,d,m,C){if(!(3&r.type))return;const S=t.data,U=S[C+1],ee=function WI(t){return 1==(1&t)}(U)?mc(S,r,o,u,wu(U),m):void 0;pl(ee)||(pl(d)||function zI(t){return 2==(2&t)}(U)&&(d=mc(S,null,o,u,C,m)),function E_(t,r,o,a,u){if(r)u?t.addClass(o,a):t.removeClass(o,a);else{let d=-1===a.indexOf("-")?void 0:el.DashCase;null==u?t.removeStyle(o,a,d):("string"==typeof u&&u.endsWith("!important")&&(u=u.slice(0,-10),d|=el.Important),t.setStyle(o,a,u,d))}}(a,m,v(Kn(),o),u,d))}function mc(t,r,o,a,u,d){const m=null===r;let C;for(;u>0;){const S=t[u],U=Array.isArray(S),ee=U?S[1]:S,me=null===ee;let Be=o[u+1];Be===lr&&(Be=me?yt:void 0);let ze=me?Vu(Be,a):ee===a?Be:void 0;if(U&&!pl(ze)&&(ze=Vu(S,a)),pl(ze)&&(C=ze,m))return C;const _t=t[u+1];u=m?Cu(_t):wu(_t)}if(null!==r){let S=d?r.residualClasses:r.residualStyles;null!=S&&(C=Vu(S,a))}return C}function pl(t){return void 0!==t}function bu(t,r){return 0!=(t.flags&(r?8:16))}function hv(t,r=""){const o=Et(),a=fr(),u=t+Bn,d=a.firstCreatePass?Xc(a,u,1,r,null):a.data[u],m=fv(a,o,d,r,t);o[u]=m,qa()&&Bd(a,o,m,d),un(d,!1)}let fv=(t,r,o,a,u)=>(Co(!0),function Od(t,r){return t.createText(r)}(r[Cn],a));function Bm(t){return Vh("",t,""),Bm}function Vh(t,r,o){const a=Et(),u=function ad(t,r,o,a){return Ao(t,Ft(),o)?r+he(o)+a:lr}(a,t,r,o);return u!==lr&&ll(a,Kn(),u),Vh}function Hm(t,r,o,a,u){const d=Et(),m=Uo(d,t,r,o,a,u);return m!==lr&&ll(d,Kn(),m),Hm}const Hn=void 0;var ir=["en",[["a","p"],["AM","PM"],Hn],[["AM","PM"],Hn,Hn],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Hn,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Hn,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Hn,"{1} 'at' {0}",Hn],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function En(t){const o=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===a?1:5}];let br={};function es(t){const r=function EC(t){return t.toLowerCase().replace(/_/g,"-")}(t);let o=Gm(r);if(o)return o;const a=r.split("-")[0];if(o=Gm(a),o)return o;if("en"===a)return ir;throw new le(701,!1)}function vv(t){return es(t)[yp.PluralCase]}function Gm(t){return t in br||(br[t]=St.ng&&St.ng.common&&St.ng.common.locales&&St.ng.common.locales[t]),br[t]}var yp=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(yp||{});const vp="en-US";let h0=vp;function cE(t,r,o,a,u){if(t=nt(t),Array.isArray(t))for(let d=0;d<t.length;d++)cE(t[d],r,o,a,u);else{const d=fr(),m=Et(),C=Kt();let S=rc(t)?t:nt(t.provide);const U=G_(t),ee=1048575&C.providerIndexes,me=C.directiveStart,Be=C.providerIndexes>>20;if(rc(t)||!t.multi){const ze=new Il(U,u,gu),_t=hE(S,r,u?ee:ee+Be,me);-1===_t?(Tl(El(C,m),d,S),dE(d,t,r.length),r.push(S),C.directiveStart++,C.directiveEnd++,u&&(C.providerIndexes+=1048576),o.push(ze),m.push(ze)):(o[_t]=ze,m[_t]=ze)}else{const ze=hE(S,r,ee+Be,me),_t=hE(S,r,ee,ee+Be),tn=_t>=0&&o[_t];if(u&&!tn||!u&&!(ze>=0&&o[ze])){Tl(El(C,m),d,S);const Pn=function vw(t,r,o,a,u){const d=new Il(t,o,gu);return d.multi=[],d.index=r,d.componentProviders=0,F0(d,u,a&&!o),d}(u?yw:_w,o.length,u,a,U);!u&&tn&&(o[_t].providerFactory=Pn),dE(d,t,r.length,0),r.push(S),C.directiveStart++,C.directiveEnd++,u&&(C.providerIndexes+=1048576),o.push(Pn),m.push(Pn)}else dE(d,t,ze>-1?ze:_t,F0(o[u?_t:ze],U,!u&&a));!u&&a&&tn&&o[_t].componentProviders++}}}function dE(t,r,o,a){const u=rc(r),d=function Zv(t){return!!t.useClass}(r);if(u||d){const S=(d?nt(r.useClass):r).prototype.ngOnDestroy;if(S){const U=t.destroyHooks||(t.destroyHooks=[]);if(!u&&r.multi){const ee=U.indexOf(o);-1===ee?U.push(o,[a,S]):U[ee+1].push(a,S)}else U.push(o,S)}}}function F0(t,r,o){return o&&t.componentProviders++,t.multi.push(r)-1}function hE(t,r,o,a){for(let u=o;u<a;u++)if(r[u]===t)return u;return-1}function _w(t,r,o,a){return fE(this.multi,[])}function yw(t,r,o,a){const u=this.multi;let d;if(this.providerFactory){const m=this.providerFactory.componentProviders,C=ci(o,o[qt],this.providerFactory.index,a);d=C.slice(0,m),fE(u,d);for(let S=m;S<C.length;S++)d.push(C[S])}else d=[],fE(u,d);return d}function fE(t,r){for(let o=0;o<t.length;o++)r.push((0,t[o])());return r}function V0(t,r=[]){return o=>{o.providersResolver=(a,u)=>function mw(t,r,o){const a=fr();if(a.firstCreatePass){const u=ps(t);cE(o,a.data,a.blueprint,u,!0),cE(r,a.data,a.blueprint,u,!1)}}(a,u?u(t):t,r)}}class Bh{}class U0{}function Iw(t,r){return new pE(t,r??null,[])}class pE extends Bh{constructor(r,o,a){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Dy(this);const u=Wr(r);this._bootstrapComponents=Fa(u.bootstrap),this._r3Injector=lh(r,o,[{provide:Bh,useValue:this},{provide:Mf,useValue:this.componentFactoryResolver},...a],we(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class gE extends U0{constructor(r){super(),this.moduleType=r}create(r){return new pE(this.moduleType,r,[])}}class B0 extends Bh{constructor(r){super(),this.componentFactoryResolver=new Dy(this),this.instance=null;const o=new lu([...r.providers,{provide:Bh,useValue:this},{provide:Mf,useValue:this.componentFactoryResolver}],r.parent||vf(),r.debugName,new Set(["environment"]));this.injector=o,r.runEnvironmentInitializers&&o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function H0(t,r,o=null){return new B0({providers:t,parent:r,debugName:o,runEnvironmentInitializers:!0}).injector}let Tw=(()=>{class t{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o)){const a=dg(0,o.type),u=a.length>0?H0([a],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o,u)}return this.cachedInjectors.get(o)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=pn({token:t,providedIn:"environment",factory:()=>new t(Dt(ol))})}return t})();function j0(t){t.getStandaloneInjector=r=>r.get(Tw).getOrCreateStandaloneInjector(t)}function Z0(t,r,o,a){return function J0(t,r,o,a,u,d){const m=r+o;return Ao(t,m,u)?cl(t,m+1,d?a.call(d,u):a(u)):Qm(t,m+1)}(Et(),rn(),t,r,o,a)}function Q0(t,r,o,a,u){return function X0(t,r,o,a,u,d,m){const C=r+o;return od(t,C,u,d)?cl(t,C+2,m?a.call(m,u,d):a(u,d)):Qm(t,C+2)}(Et(),rn(),t,r,o,a,u)}function Y0(t,r,o,a,u,d){return function eT(t,r,o,a,u,d,m,C){const S=r+o;return function ip(t,r,o,a,u){const d=od(t,r,o,a);return Ao(t,r+2,u)||d}(t,S,u,d,m)?cl(t,S+3,C?a.call(C,u,d,m):a(u,d,m)):Qm(t,S+3)}(Et(),rn(),t,r,o,a,u,d)}function Qm(t,r){const o=t[r];return o===lr?void 0:o}function zw(){return this._results[Symbol.iterator]()}class _E{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new al)}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=_E.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=zw)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,o){return this._results.reduce(r,o)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,o){const a=this;a.dirty=!1;const u=function mr(t){return t.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function Zh(t,r,o){if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++){let u=t[a],d=r[a];if(o&&(u=o(u),d=o(d)),d!==u)return!1}return!0}(a._results,u,o))&&(a._results=u,a.length=u.length,a.last=u[this.length-1],a.first=u[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function qw(t,r,o,a=!0){const u=r[qt];if(function __(t,r,o,a){const u=xr+a,d=o.length;a>0&&(o[u-1][fi]=r),a<d-xr?(r[fi]=o[u],bd(o,xr+a,r)):(o.push(r),r[fi]=null),r[qn]=o;const m=r[Jr];null!==m&&o!==m&&function kv(t,r){const o=t[gi];r[Er]!==r[qn][qn][Er]&&(t[jo]=!0),null===o?t[gi]=[r]:o.push(r)}(m,r);const C=r[vi];null!==C&&C.insertView(t),r[Nn]|=128}(u,r,t,o),a){const d=Jp(o,t),m=r[Cn],C=Fd(m,t[pi]);null!==C&&function df(t,r,o,a,u,d){a[Ur]=u,a[qr]=r,kc(t,a,o,1,u,d)}(u,t[qr],m,r,C,d)}}let Jm=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=Qw}return t})();const Kw=Jm,Zw=class extends Kw{constructor(r,o,a){super(),this._declarationLView=r,this._declarationTContainer=o,this.elementRef=a}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(r,o){return this.createEmbeddedViewImpl(r,o)}createEmbeddedViewImpl(r,o,a){const u=function Ww(t,r,o,a){const u=r.tView,C=gh(t,u,o,4096&t[Nn]?4096:16,null,r,null,null,null,a?.injector??null,a?.hydrationInfo??null);C[Jr]=t[r.index];const U=t[vi];return null!==U&&(C[vi]=U.createEmbeddedView(u)),nd(u,C,o),C}(this._declarationLView,this._declarationTContainer,r,{injector:o,hydrationInfo:a});return new Dh(u)}};function Qw(){return wv(Kt(),Et())}function wv(t,r){return 4&t.type?new Zw(r,t,Kc(t,r)):null}let Dv=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=nb}return t})();function nb(){return uT(Kt(),Et())}const rb=Dv,aT=class extends rb{constructor(r,o,a){super(),this._lContainer=r,this._hostTNode=o,this._hostLView=a}get element(){return Kc(this._hostTNode,this._hostLView)}get injector(){return new ls(this._hostTNode,this._hostLView)}get parentInjector(){const r=ni(this._hostTNode,this._hostLView);if(vd(r)){const o=Ru(r,this._hostLView),a=Pu(r);return new ls(o[qt].data[a+8],o)}return new ls(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const o=lT(this._lContainer);return null!==o&&o[r]||null}get length(){return this._lContainer.length-xr}createEmbeddedView(r,o,a){let u,d;"number"==typeof a?u=a:null!=a&&(u=a.index,d=a.injector);const C=r.createEmbeddedViewImpl(o||{},d,null);return this.insertImpl(C,u,false),C}createComponent(r,o,a,u,d){const m=r&&!function Xi(t){return"function"==typeof t}(r);let C;if(m)C=o;else{const xt=o||{};C=xt.index,a=xt.injector,u=xt.projectableNodes,d=xt.environmentInjector||xt.ngModuleRef}const S=m?r:new id(Wn(r)),U=a||this.parentInjector;if(!d&&null==S.ngModule){const tn=(m?U:this.parentInjector).get(ol,null);tn&&(d=tn)}Wn(S.componentType??{});const ze=S.create(U,u,null,d);return this.insertImpl(ze.hostView,C,false),ze}insert(r,o){return this.insertImpl(r,o,!1)}insertImpl(r,o,a){const u=r._lView;if(function ht(t){return Mr(t[qn])}(u)){const S=this.indexOf(r);if(-1!==S)this.detach(S);else{const U=u[qn],ee=new aT(U,U[qr],U[qn]);ee.detach(ee.indexOf(r))}}const m=this._adjustIndex(o),C=this._lContainer;return qw(C,u,m,!a),r.attachToViewContainerRef(),bd(yE(C),m,r),r}move(r,o){return this.insert(r,o)}indexOf(r){const o=lT(this._lContainer);return null!==o?o.indexOf(r):-1}remove(r){const o=this._adjustIndex(r,-1),a=kd(this._lContainer,o);a&&(Fu(yE(this._lContainer),o),Wp(a[qt],a))}detach(r){const o=this._adjustIndex(r,-1),a=kd(this._lContainer,o);return a&&null!=Fu(yE(this._lContainer),o)?new Dh(a):null}_adjustIndex(r,o=0){return r??this.length+o}};function lT(t){return t[8]}function yE(t){return t[8]||(t[8]=[])}function uT(t,r){let o;const a=r[t.index];return Mr(a)?o=a:(o=Xg(a,r,null,t),r[t.index]=o,Qf(r,o)),cT(o,r,t,a),new aT(o,t,r)}let cT=function dT(t,r,o,a){if(t[pi])return;let u;u=8&o.type?ei(a):function ib(t,r){const o=t[Cn],a=o.createComment(""),u=y(r,t);return eu(o,Fd(o,u),a,function Vd(t,r){return t.nextSibling(r)}(o,u),!1),a}(r,o),t[pi]=u};class vE{constructor(r){this.queryList=r,this.matches=null}clone(){return new vE(this.queryList)}setDirty(){this.queryList.setDirty()}}class IE{constructor(r=[]){this.queries=r}createEmbeddedView(r){const o=r.queries;if(null!==o){const a=null!==r.contentQueries?r.contentQueries[0]:o.length,u=[];for(let d=0;d<a;d++){const m=o.getByIndex(d);u.push(this.queries[m.indexInDeclarationView].clone())}return new IE(u)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let o=0;o<this.queries.length;o++)null!==IT(r,o).matches&&this.queries[o].setDirty()}}class hT{constructor(r,o,a=null){this.predicate=r,this.flags=o,this.read=a}}class EE{constructor(r=[]){this.queries=r}elementStart(r,o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,o)}elementEnd(r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(r)}embeddedTView(r){let o=null;for(let a=0;a<this.length;a++){const u=null!==o?o.length:0,d=this.getByIndex(a).embeddedTView(r,u);d&&(d.indexInDeclarationView=a,null!==o?o.push(d):o=[d])}return null!==o?new EE(o):null}template(r,o){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,o)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class TE{constructor(r,o=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(r,o){this.isApplyingToNode(o)&&this.matchTNode(r,o)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,o){this.elementStart(r,o)}embeddedTView(r,o){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,o),new TE(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==o;)a=a.parent;return o===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,o){const a=this.metadata.predicate;if(Array.isArray(a))for(let u=0;u<a.length;u++){const d=a[u];this.matchTNodeWithReadOption(r,o,ab(o,d)),this.matchTNodeWithReadOption(r,o,Cc(o,r,d,!1,!1))}else a===Jm?4&o.type&&this.matchTNodeWithReadOption(r,o,-1):this.matchTNodeWithReadOption(r,o,Cc(o,r,a,!1,!1))}matchTNodeWithReadOption(r,o,a){if(null!==a){const u=this.metadata.read;if(null!==u)if(u===ac||u===Dv||u===Jm&&4&o.type)this.addMatch(o.index,-2);else{const d=Cc(o,r,u,!1,!1);null!==d&&this.addMatch(o.index,d)}else this.addMatch(o.index,a)}}addMatch(r,o){null===this.matches?this.matches=[r,o]:this.matches.push(r,o)}}function ab(t,r){const o=t.localNames;if(null!==o)for(let a=0;a<o.length;a+=2)if(o[a]===r)return o[a+1];return null}function ub(t,r,o,a){return-1===o?function lb(t,r){return 11&t.type?Kc(t,r):4&t.type?wv(t,r):null}(r,t):-2===o?function cb(t,r,o){return o===ac?Kc(r,t):o===Jm?wv(r,t):o===Dv?uT(r,t):void 0}(t,r,a):ci(t,t[qt],o,r)}function fT(t,r,o,a){const u=r[vi].queries[a];if(null===u.matches){const d=t.data,m=o.matches,C=[];for(let S=0;S<m.length;S+=2){const U=m[S];C.push(U<0?null:ub(r,d[U],m[S+1],o.metadata.read))}u.matches=C}return u.matches}function CE(t,r,o,a){const u=t.queries.getByIndex(o),d=u.matches;if(null!==d){const m=fT(t,r,u,o);for(let C=0;C<d.length;C+=2){const S=d[C];if(S>0)a.push(m[C/2]);else{const U=d[C+1],ee=r[-S];for(let me=xr;me<ee.length;me++){const Be=ee[me];Be[Jr]===Be[qn]&&CE(Be[qt],Be,U,a)}if(null!==ee[gi]){const me=ee[gi];for(let Be=0;Be<me.length;Be++){const ze=me[Be];CE(ze[qt],ze,U,a)}}}}}return a}function pT(t){const r=Et(),o=fr(),a=vc();T(a+1);const u=IT(o,a);if(t.dirty&&function Ne(t){return 4==(4&t[Nn])}(r)===(2==(2&u.metadata.flags))){if(null===u.matches)t.reset([]);else{const d=u.crossesNgTemplate?CE(o,r,a,[]):fT(o,r,u,a);t.reset(d,nI),t.notifyOnChanges()}return!0}return!1}function gT(t,r,o){const a=fr();a.firstCreatePass&&(vT(a,new hT(t,r,o),-1),2==(2&r)&&(a.staticViewQueries=!0)),yT(a,Et(),r)}function mT(t,r,o,a){const u=fr();if(u.firstCreatePass){const d=Kt();vT(u,new hT(r,o,a),d.index),function hb(t,r){const o=t.contentQueries||(t.contentQueries=[]);r!==(o.length?o[o.length-1]:-1)&&o.push(t.queries.length-1,r)}(u,t),2==(2&o)&&(u.staticContentQueries=!0)}yT(u,Et(),o)}function _T(){return function db(t,r){return t[vi].queries[r].queryList}(Et(),vc())}function yT(t,r,o){const a=new _E(4==(4&o));(function Fl(t,r,o,a){const u=Iy(r);u.push(o),t.firstCreatePass&&Ch(t).push(a,u.length-1)})(t,r,a,a.destroy),null===r[vi]&&(r[vi]=new IE),r[vi].queries.push(new vE(a))}function vT(t,r,o){null===t.queries&&(t.queries=new EE),t.queries.track(new TE(r,o))}function IT(t,r){return t.queries.getByIndex(r)}function wE(t){return!!Wr(t)}const FT=new Ze("Application Initializer");let PE=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((o,a)=>{this.resolve=o,this.reject=a}),this.appInits=Wt(FT,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const o=[];for(const u of this.appInits){const d=u();if(Dm(d))o.push(d);else if(Yy(d)){const m=new Promise((C,S)=>{d.subscribe({complete:C,error:S})});o.push(m)}}const a=()=>{this.done=!0,this.resolve()};Promise.all(o).then(()=>{a()}).catch(u=>{this.reject(u)}),0===o.length&&a(),this.initialized=!0}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=pn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),VT=(()=>{class t{log(o){console.log(o)}warn(o){console.warn(o)}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=pn({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const Sv=new Ze("LocaleId",{providedIn:"root",factory:()=>Wt(Sv,ln.Optional|ln.SkipSelf)||function Nb(){return typeof $localize<"u"&&$localize.locale||vp}()}),kb=new Ze("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let UT=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new B.X(!1)}add(){this.hasPendingTasks.next(!0);const o=this.taskId++;return this.pendingTasks.add(o),o}remove(o){this.pendingTasks.delete(o),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=pn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class Fb{constructor(r,o){this.ngModuleFactory=r,this.componentFactories=o}}let Vb=(()=>{class t{compileModuleSync(o){return new gE(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const a=this.compileModuleSync(o),d=Fa(Wr(o).declarations).reduce((m,C)=>{const S=Wn(C);return S&&m.push(new id(S)),m},[]);return new Fb(a,d)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=pn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const $T=new Ze(""),GT=new Ze("");let xE,oD=(()=>{class t{constructor(o,a,u){this._ngZone=o,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,xE||(function aD(t){xE=t}(u),u.addToWindow(a)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{qs.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(o)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,a,u){let d=-1;a&&a>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==d),o(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:o,timeoutId:d,updateCb:u})}whenStable(o,a,u){if(u&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,a,u),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,a,u){return[]}static#e=this.\u0275fac=function(a){return new(a||t)(Dt(qs),Dt(zT),Dt(GT))};static#t=this.\u0275prov=pn({token:t,factory:t.\u0275fac})}return t})(),zT=(()=>{class t{constructor(){this._applications=new Map}registerApplication(o,a){this._applications.set(o,a)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,a=!0){return xE?.findTestabilityInTree(this,o,a)??null}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=pn({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),yd=null;const WT=new Ze("AllowMultipleToken"),OE=new Ze("PlatformDestroyListeners"),NE=new Ze("appBootstrapListener");class cD{constructor(r,o){this.name=r,this.token=o}}function ZT(t,r,o=[]){const a=`Platform: ${r}`,u=new Ze(a);return(d=[])=>{let m=kE();if(!m||m.injector.get(WT,!1)){const C=[...o,...d,{provide:u,useValue:!0}];t?t(C):function dD(t){if(yd&&!yd.get(WT,!1))throw new le(400,!1);(function qT(){!function ml(t){pa=t}(()=>{throw new le(600,!1)})})(),yd=t;const r=t.get(YT);(function KT(t){t.get(z_,null)?.forEach(o=>o())})(t)}(function QT(t=[],r){return ra.create({name:r,providers:[{provide:Zd,useValue:"platform"},{provide:OE,useValue:new Set([()=>yd=null])},...t]})}(C,a))}return function fD(t){const r=kE();if(!r)throw new le(401,!1);return r}()}}function kE(){return yd?.get(YT)??null}let YT=(()=>{class t{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,a){const u=function pD(t="zone.js",r){return"noop"===t?new xg:"zone.js"===t?new qs(r):t}(a?.ngZone,function JT(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:a?.ngZoneEventCoalescing,runCoalescing:a?.ngZoneRunCoalescing}));return u.run(()=>{const d=function Ew(t,r,o){return new pE(t,r,o)}(o.moduleType,this.injector,function rC(t){return[{provide:qs,useFactory:t},{provide:qd,multi:!0,useFactory:()=>{const r=Wt(mD,{optional:!0});return()=>r.initialize()}},{provide:nC,useFactory:gD},{provide:uc,useFactory:cc}]}(()=>u)),m=d.injector.get(hu,null);return u.runOutsideAngular(()=>{const C=u.onError.subscribe({next:S=>{m.handleError(S)}});d.onDestroy(()=>{Rv(this._modules,d),C.unsubscribe()})}),function XT(t,r,o){try{const a=o();return Dm(a)?a.catch(u=>{throw r.runOutsideAngular(()=>t.handleError(u)),u}):a}catch(a){throw r.runOutsideAngular(()=>t.handleError(a)),a}}(m,u,()=>{const C=d.injector.get(PE);return C.runInitializers(),C.donePromise.then(()=>(function f0(t){At(t,"Expected localeId to be defined"),"string"==typeof t&&(h0=t.toLowerCase().replace(/_/g,"-"))}(d.injector.get(Sv,vp)||vp),this._moduleDoBootstrap(d),d))})})}bootstrapModule(o,a=[]){const u=eC({},a);return function lD(t,r,o){const a=new gE(o);return Promise.resolve(a)}(0,0,o).then(d=>this.bootstrapModuleFactory(d,u))}_moduleDoBootstrap(o){const a=o.injector.get(Tp);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(u=>a.bootstrap(u));else{if(!o.instance.ngDoBootstrap)throw new le(-403,!1);o.instance.ngDoBootstrap(a)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new le(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const o=this._injector.get(OE,null);o&&(o.forEach(a=>a()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(a){return new(a||t)(Dt(ra))};static#t=this.\u0275prov=pn({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function eC(t,r){return Array.isArray(r)?r.reduce(eC,t):{...t,...r}}let Tp=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Wt(nC),this.zoneIsStable=Wt(uc),this.componentTypes=[],this.components=[],this.isStable=Wt(UT).hasPendingTasks.pipe((0,se.w)(o=>o?(0,Q.of)(!1):this.zoneIsStable),(0,ce.x)(),(0,Z.B)()),this._injector=Wt(ol)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,a){const u=o instanceof ih;if(!this._injector.get(PE).done)throw!u&&hs(o),new le(405,!1);let m;m=u?o:this._injector.get(Mf).resolveComponentFactory(o),this.componentTypes.push(m.componentType);const C=function uD(t){return t.isBoundToModule}(m)?void 0:this._injector.get(Bh),U=m.create(ra.NULL,[],a||m.selector,C),ee=U.location.nativeElement,me=U.injector.get($T,null);return me?.registerApplication(ee),U.onDestroy(()=>{this.detachView(U.hostView),Rv(this.components,U),me?.unregisterApplication(ee)}),this._loadComponent(U),U}tick(){if(this._runningTick)throw new le(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1}}attachView(o){const a=o;this._views.push(a),a.attachToAppRef(this)}detachView(o){const a=o;Rv(this._views,a),a.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const a=this._injector.get(NE,[]);a.push(...this._bootstrapListeners),a.forEach(u=>u(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>Rv(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new le(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=pn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Rv(t,r){const o=t.indexOf(r);o>-1&&t.splice(o,1)}const nC=new Ze("",{providedIn:"root",factory:()=>Wt(hu).handleError.bind(void 0)});function gD(){const t=Wt(qs),r=Wt(hu);return o=>t.runOutsideAngular(()=>r.handleError(o))}let mD=(()=>{class t{constructor(){this.zone=Wt(qs),this.applicationRef=Wt(Tp)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=pn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function yD(){return!1}let vD=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=ID}return t})();function ID(t){return function ED(t,r,o){if(Hi(t)&&!o){const a=be(t.index,r);return new Dh(a,a)}return 47&t.type?new Dh(r[Er],r):null}(Kt(),Et(),16==(16&t))}class aC{constructor(){}supports(r){return Ah(r)}create(r){return new AD(r)}}const DD=(t,r)=>r;class AD{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||DD}forEachItem(r){let o;for(o=this._itHead;null!==o;o=o._next)r(o)}forEachOperation(r){let o=this._itHead,a=this._removalsHead,u=0,d=null;for(;o||a;){const m=!a||o&&o.currentIndex<uC(a,u,d)?o:a,C=uC(m,u,d),S=m.currentIndex;if(m===a)u--,a=a._nextRemoved;else if(o=o._next,null==m.previousIndex)u++;else{d||(d=[]);const U=C-u,ee=S-u;if(U!=ee){for(let Be=0;Be<U;Be++){const ze=Be<d.length?d[Be]:d[Be]=0,_t=ze+Be;ee<=_t&&_t<U&&(d[Be]=ze+1)}d[m.previousIndex]=ee-U}}C!==S&&r(m,C,S)}}forEachPreviousItem(r){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachMovedItem(r){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}forEachIdentityChange(r){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)r(o)}diff(r){if(null==r&&(r=[]),!Ah(r))throw new le(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let u,d,m,o=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let C=0;C<this.length;C++)d=r[C],m=this._trackByFn(C,d),null!==o&&Object.is(o.trackById,m)?(a&&(o=this._verifyReinsertion(o,d,m,C)),Object.is(o.item,d)||this._addIdentityChange(o,d)):(o=this._mismatch(o,d,m,C),a=!0),o=o._next}else u=0,function PI(t,r){if(Array.isArray(t))for(let o=0;o<t.length;o++)r(t[o]);else{const o=t[Symbol.iterator]();let a;for(;!(a=o.next()).done;)r(a.value)}}(r,C=>{m=this._trackByFn(u,C),null!==o&&Object.is(o.trackById,m)?(a&&(o=this._verifyReinsertion(o,C,m,u)),Object.is(o.item,C)||this._addIdentityChange(o,C)):(o=this._mismatch(o,C,m,u),a=!0),o=o._next,u++}),this.length=u;return this._truncate(o),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,o,a,u){let d;return null===r?d=this._itTail:(d=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._reinsertAfter(r,d,u)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,u))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._moveAfter(r,d,u)):r=this._addAfter(new SD(o,a),d,u),r}_verifyReinsertion(r,o,a,u){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==d?r=this._reinsertAfter(d,r._prev,u):r.currentIndex!=u&&(r.currentIndex=u,this._addToMoves(r,u)),r}_truncate(r){for(;null!==r;){const o=r._next;this._addToRemovals(this._unlink(r)),r=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,o,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const u=r._prevRemoved,d=r._nextRemoved;return null===u?this._removalsHead=d:u._nextRemoved=d,null===d?this._removalsTail=u:d._prevRemoved=u,this._insertAfter(r,o,a),this._addToMoves(r,a),r}_moveAfter(r,o,a){return this._unlink(r),this._insertAfter(r,o,a),this._addToMoves(r,a),r}_addAfter(r,o,a){return this._insertAfter(r,o,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,o,a){const u=null===o?this._itHead:o._next;return r._next=u,r._prev=o,null===u?this._itTail=r:u._prev=r,null===o?this._itHead=r:o._next=r,null===this._linkedRecords&&(this._linkedRecords=new lC),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const o=r._prev,a=r._next;return null===o?this._itHead=a:o._next=a,null===a?this._itTail=o:a._prev=o,r}_addToMoves(r,o){return r.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new lC),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,o){return r.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class SD{constructor(r,o){this.item=r,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class PD{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,o){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===o||o<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const o=r._prevDup,a=r._nextDup;return null===o?this._head=a:o._nextDup=a,null===a?this._tail=o:a._prevDup=o,null===this._head}}class lC{constructor(){this.map=new Map}put(r){const o=r.trackById;let a=this.map.get(o);a||(a=new PD,this.map.set(o,a)),a.add(r)}get(r,o){const u=this.map.get(r);return u?u.get(r,o):null}remove(r){const o=r.trackById;return this.map.get(o).remove(r)&&this.map.delete(o),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function uC(t,r,o){const a=t.previousIndex;if(null===a)return a;let u=0;return o&&a<o.length&&(u=o[a]),a+r+u}class cC{constructor(){}supports(r){return r instanceof Map||rp(r)}create(){return new RD}}class RD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let o;for(o=this._mapHead;null!==o;o=o._next)r(o)}forEachPreviousItem(r){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)r(o)}forEachChangedItem(r){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}diff(r){if(r){if(!(r instanceof Map||rp(r)))throw new le(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,u)=>{if(o&&o.key===u)this._maybeAddToChanges(o,a),this._appendAfter=o,o=o._next;else{const d=this._getOrCreateRecordForKey(u,a);o=this._insertBeforeOrAppend(o,d)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let a=o;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,o){if(r){const a=r._prev;return o._next=r,o._prev=a,r._prev=o,a&&(a._next=o),r===this._mapHead&&(this._mapHead=o),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(r,o){if(this._records.has(r)){const u=this._records.get(r);this._maybeAddToChanges(u,o);const d=u._prev,m=u._next;return d&&(d._next=m),m&&(m._prev=d),u._next=null,u._prev=null,u}const a=new MD(r);return this._records.set(r,a),a.currentValue=o,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,o){Object.is(o,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=o,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,o){r instanceof Map?r.forEach(o):Object.keys(r).forEach(a=>o(r[a],a))}}class MD{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function dC(){return new BE([new aC])}let BE=(()=>{class t{static#e=this.\u0275prov=pn({token:t,providedIn:"root",factory:dC});constructor(o){this.factories=o}static create(o,a){if(null!=a){const u=a.factories.slice();o=o.concat(u)}return new t(o)}static extend(o){return{provide:t,useFactory:a=>t.create(o,a||dC()),deps:[[t,new Bu,new Uu]]}}find(o){const a=this.factories.find(u=>u.supports(o));if(null!=a)return a;throw new le(901,!1)}}return t})();function hC(){return new HE([new cC])}let HE=(()=>{class t{static#e=this.\u0275prov=pn({token:t,providedIn:"root",factory:hC});constructor(o){this.factories=o}static create(o,a){if(a){const u=a.factories.slice();o=o.concat(u)}return new t(o)}static extend(o){return{provide:t,useFactory:a=>t.create(o,a||hC()),deps:[[t,new Bu,new Uu]]}}find(o){const a=this.factories.find(u=>u.supports(o));if(a)return a;throw new le(901,!1)}}return t})();const ND=ZT(null,"core",[]);let kD=(()=>{class t{constructor(o){}static#e=this.\u0275fac=function(a){return new(a||t)(Dt(Tp))};static#t=this.\u0275mod=ao({type:t});static#n=this.\u0275inj=fn({})}return t})();function WD(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function KD(t){const r=Wn(t);if(!r)return null;const o=new id(r);return{get selector(){return o.selector},get type(){return o.componentType},get inputs(){return o.inputs},get outputs(){return o.outputs},get ngContentSelectors(){return o.ngContentSelectors},get isStandalone(){return r.standalone},get isSignal(){return r.signals}}}},7213:(Nt,$e,F)=>{F.d($e,{zQ:()=>Tn,ww:()=>Rt,rT:()=>Ie,f7:()=>It,L6:()=>ye,_Q:()=>rt,lh:()=>Vt,Qv:()=>De,nw:()=>ut}),F(6365);var L=F(6814),_=F(5879),Ce=F(8326),B=F(7217),Q=F(8645),Z=F(2096),se=F(5592),ce=F(2459),J=F(3019),ae=F(3093),we=F(4664),He=F(7398),We=F(4552);class dt extends Q.x{constructor(kt=1/0,Se=1/0,ke=We.l){super(),this._bufferSize=kt,this._windowTime=Se,this._timestampProvider=ke,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Se===1/0,this._bufferSize=Math.max(1,kt),this._windowTime=Math.max(1,Se)}next(kt){const{isStopped:Se,_buffer:ke,_infiniteTimeWindow:qe,_timestampProvider:Fe,_windowTime:Ke}=this;Se||(ke.push(kt),!qe&&ke.push(Fe.now()+Ke)),this._trimBuffer(),super.next(kt)}_subscribe(kt){this._throwIfClosed(),this._trimBuffer();const Se=this._innerSubscribe(kt),{_infiniteTimeWindow:ke,_buffer:qe}=this,Fe=qe.slice();for(let Ke=0;Ke<Fe.length&&!kt.closed;Ke+=ke?1:2)kt.next(Fe[Ke]);return this._checkFinalizedStatuses(kt),Se}_trimBuffer(){const{_bufferSize:kt,_timestampProvider:Se,_buffer:ke,_infiniteTimeWindow:qe}=this,Fe=(qe?1:2)*kt;if(kt<1/0&&Fe<ke.length&&ke.splice(0,ke.length-Fe),!qe){const Ke=Se.now();let ct=0;for(let At=1;At<ke.length&&ke[At]<=Ke;At+=2)ct=At;ct&&ke.splice(0,ct+1)}}}var nt=F(3020);function it(Pt,kt,Se){let ke,qe=!1;return Pt&&"object"==typeof Pt?({bufferSize:ke=1/0,windowTime:kt=1/0,refCount:qe=!1,scheduler:Se}=Pt):ke=Pt??1/0,(0,nt.B)({connector:()=>new dt(ke,kt,Se),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:qe})}var lt=F(1374),bt=F(4674);function ft(Pt,kt){return(0,bt.m)(kt)?(0,we.w)(()=>Pt,kt):(0,we.w)(()=>Pt)}var le=F(5137),Oe=F(2181),he=F(7142);const De=new _.OlP("angularfire2.auth.use-emulator"),ye=new _.OlP("angularfire2.auth.settings"),rt=new _.OlP("angularfire2.auth.tenant-id"),Ie=new _.OlP("angularfire2.auth.langugage-code"),Vt=new _.OlP("angularfire2.auth.use-device-language"),It=new _.OlP("angularfire.auth.persistence"),ut=(Pt,kt,Se,ke,qe,Fe,Ke,ct)=>(0,B.cc)(`${Pt.name}.auth`,"AngularFireAuth",Pt.name,()=>{const At=kt.runOutsideAngular(()=>Pt.auth());if(Se&&At.useEmulator(...Se),ke&&(At.tenantId=ke),At.languageCode=qe,Fe&&At.useDeviceLanguage(),Ke)for(const[vt,Dn]of Object.entries(Ke))At.settings[vt]=Dn;return ct&&At.setPersistence(ct),At},[Se,ke,qe,Fe,Ke,ct]);let Tn=(()=>{class Pt{authState;idToken;user;idTokenResult;credential;constructor(Se,ke,qe,Fe,Ke,ct,At,vt,Dn,cn,On,pn){const zn=new Q.x,fn=(0,Z.of)(void 0).pipe((0,ae.Q)(Ke.outsideAngular),(0,we.w)(()=>Fe.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,6365)))),(0,He.U)(()=>(0,B.on)(Se,Fe,ke)),(0,He.U)(jn=>ut(jn,Fe,ct,vt,Dn,cn,At,On)),it({bufferSize:1,refCount:!1}));if((0,L.PM)(qe))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Z.of)(null);else{fn.pipe((0,lt.P)()).subscribe();const jn=fn.pipe((0,we.w)(vn=>vn.getRedirectResult().then(_r=>_r,()=>null)),Ce.iC,it({bufferSize:1,refCount:!1})),An=fn.pipe((0,we.w)(vn=>new se.y(_r=>({unsubscribe:Fe.runOutsideAngular(()=>vn.onAuthStateChanged(Mn=>_r.next(Mn),Mn=>_r.error(Mn),()=>_r.complete()))})))),Xt=fn.pipe((0,we.w)(vn=>new se.y(_r=>({unsubscribe:Fe.runOutsideAngular(()=>vn.onIdTokenChanged(Mn=>_r.next(Mn),Mn=>_r.error(Mn),()=>_r.complete()))}))));this.authState=jn.pipe(ft(An),(0,le.R)(Ke.outsideAngular),(0,ae.Q)(Ke.insideAngular)),this.user=jn.pipe(ft(Xt),(0,le.R)(Ke.outsideAngular),(0,ae.Q)(Ke.insideAngular)),this.idToken=this.user.pipe((0,we.w)(vn=>vn?(0,ce.D)(vn.getIdToken()):(0,Z.of)(null))),this.idTokenResult=this.user.pipe((0,we.w)(vn=>vn?(0,ce.D)(vn.getIdTokenResult()):(0,Z.of)(null))),this.credential=(0,J.T)(jn,zn,this.authState.pipe((0,Oe.h)(vn=>!vn))).pipe((0,He.U)(vn=>vn?.user?vn:null),(0,le.R)(Ke.outsideAngular),(0,ae.Q)(Ke.insideAngular))}return(0,B.pX)(this,fn,Fe,{spy:{apply:(jn,An,Xt)=>{(jn.startsWith("signIn")||jn.startsWith("createUser"))&&Xt.then(vn=>zn.next(vn))}}})}static \u0275fac=function(ke){return new(ke||Pt)(_.LFG(B.Dh),_.LFG(B.xv,8),_.LFG(_.Lbi),_.LFG(_.R0b),_.LFG(Ce.HU),_.LFG(De,8),_.LFG(ye,8),_.LFG(rt,8),_.LFG(Ie,8),_.LFG(Vt,8),_.LFG(It,8),_.LFG(Ce.Rf,8))};static \u0275prov=_.Yz7({token:Pt,factory:Pt.\u0275fac,providedIn:"any"})}return Pt})(),Rt=(()=>{class Pt{constructor(){he.Z.registerVersion("angularfire",Ce.q4.full,"auth-compat")}static \u0275fac=function(ke){return new(ke||Pt)};static \u0275mod=_.oAB({type:Pt});static \u0275inj=_.cJS({providers:[Tn]})}return Pt})()},7217:(Nt,$e,F)=>{F.d($e,{Dh:()=>se,GT:()=>Q,cc:()=>We,hO:()=>He,on:()=>J,pX:()=>B,xv:()=>ce});var p=F(5879),L=F(8326),_=F(7142);const Ce=["ngOnDestroy"],B=(lt,bt,ft,le={})=>new Proxy(lt,{get:(Oe,he)=>ft.runOutsideAngular(()=>{if(lt[he])return le?.spy?.get&&le.spy.get(he,lt[he]),lt[he];if(Ce.indexOf(he)>-1)return()=>{};const ge=bt.toPromise().then(De=>{const ye=De?.[he];return"function"==typeof ye?ye.bind(De):ye?.then?ye.then(rt=>ft.run(()=>rt)):ft.run(()=>ye)});return new Proxy(()=>{},{get:(De,ye)=>ge[ye],apply:(De,ye,rt)=>ge.then(Ie=>{const Vt=Ie?.(...rt);return le?.spy?.apply&&le.spy.apply(he,rt,Vt),Vt})})})}),Q=(lt,bt)=>{bt.forEach(ft=>{Object.getOwnPropertyNames(ft.prototype||ft).forEach(le=>{Object.defineProperty(lt.prototype,le,Object.getOwnPropertyDescriptor(ft.prototype||ft,le))})})};class Z{constructor(bt){return bt}}const se=new p.OlP("angularfire2.app.options"),ce=new p.OlP("angularfire2.app.name");function J(lt,bt,ft){const Oe="object"==typeof ft&&ft||{};Oe.name=Oe.name||"string"==typeof ft&&ft||"[DEFAULT]";const ge=_.Z.apps.filter(De=>De&&De.name===Oe.name)[0]||bt.runOutsideAngular(()=>_.Z.initializeApp(lt,Oe));try{if(JSON.stringify(lt)!==JSON.stringify(ge.options)){const De=!!module.hot;ae("error",`${ge.name} Firebase App already initialized with different options${De?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Z(ge)}const ae=(lt,...bt)=>{(0,p.X6Q)()&&typeof console<"u"&&console[lt](...bt)},we={provide:Z,useFactory:J,deps:[se,p.R0b,[new p.FiY,ce]]};let He=(()=>{class lt{static initializeApp(ft,le){return{ngModule:lt,providers:[{provide:se,useValue:ft},{provide:ce,useValue:le}]}}constructor(ft){_.Z.registerVersion("angularfire",L.q4.full,"core"),_.Z.registerVersion("angularfire",L.q4.full,"app-compat"),_.Z.registerVersion("angular",p.q4F.full,ft.toString())}static \u0275fac=function(le){return new(le||lt)(p.LFG(p.Lbi))};static \u0275mod=p.oAB({type:lt});static \u0275inj=p.cJS({providers:[we]})}return lt})();function We(lt,bt,ft,le,Oe){const[,he,ge]=globalThis.\u0275AngularfireInstanceCache.find(De=>De[0]===lt)||[];if(he)return function dt(lt,bt){try{return lt.toString()===bt.toString()}catch{return lt===bt}}(Oe,ge)||(it("error",`${bt} was already initialized on the ${ft} Firebase App with different settings.${nt?" You may need to reload as Firebase is not HMR aware.":""}`),it("warn",{is:Oe,was:ge})),he;{const De=le();return globalThis.\u0275AngularfireInstanceCache.push([lt,De,Oe]),De}}const nt=typeof module<"u"&&!!module.hot,it=(lt,...bt)=>{(0,p.X6Q)()&&typeof console<"u"&&console[lt](...bt)};globalThis.\u0275AngularfireInstanceCache||=[]},8326:(Nt,$e,F)=>{F.d($e,{q4:()=>dt,iC:()=>It,HU:()=>ge,Rf:()=>bt});var p=F(5879),L=F(534);(0,L.registerVersion)("firebase","10.9.0","app");var B=F(1954),Z=F(2631);const ce=new class se extends Z.v{}(class Q extends B.o{constructor(kt,Se){super(kt,Se),this.scheduler=kt,this.work=Se}schedule(kt,Se=0){return Se>0?super.schedule(kt,Se):(this.delay=Se,this.state=kt,this.scheduler.flush(this),this)}execute(kt,Se){return Se>0||this.closed?super.execute(kt,Se):this._execute(kt,Se)}requestAsyncId(kt,Se,ke=0){return null!=ke&&ke>0||null==ke&&this.delay>0?super.requestAsyncId(kt,Se,ke):(kt.flush(this),0)}});var ae=F(6321),we=F(9397),He=F(5137),We=F(3093);const dt=new p.GfV("ANGULARFIRE2_VERSION");class bt{constructor(){return((Pt,kt)=>{const Se=(0,L.getApps)(),ke=[];return Se.forEach(qe=>{qe.container.getProvider(Pt).instances.forEach(Ke=>{ke.includes(Ke)||ke.push(Ke)})}),ke})(ft)}}const ft="app-check";function le(){}class Oe{zone;delegate;constructor(kt,Se=ce){this.zone=kt,this.delegate=Se}now(){return this.delegate.now()}schedule(kt,Se,ke){const qe=this.zone;return this.delegate.schedule(function(Ke){qe.runGuarded(()=>{kt.apply(this,[Ke])})},Se,ke)}}class he{zone;task=null;constructor(kt){this.zone=kt}call(kt,Se){const ke=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",le,{},le,le)),Se.pipe((0,we.b)({next:ke,complete:ke,error:ke})).subscribe(kt).add(ke)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ge=(()=>{class Pt{ngZone;outsideAngular;insideAngular;constructor(Se){this.ngZone=Se,this.outsideAngular=Se.runOutsideAngular(()=>new Oe(Zone.current)),this.insideAngular=Se.run(()=>new Oe(Zone.current,ae.z)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(ke){return new(ke||Pt)(p.LFG(p.R0b))};static \u0275prov=p.Yz7({token:Pt,factory:Pt.\u0275fac,providedIn:"root"})}return Pt})();function It(Pt){return function ut(Pt){return function(Se){return(Se=Se.lift(new he(Pt.ngZone))).pipe((0,He.R)(Pt.outsideAngular),(0,We.Q)(Pt.insideAngular))}}(function De(){const Pt=globalThis.\u0275AngularFireScheduler;if(!Pt)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return Pt}())(Pt)}},95:(Nt,$e,F)=>{F.d($e,{Wl:()=>it,Fj:()=>le,u5:()=>Bs,JU:()=>dt,JJ:()=>_n,JL:()=>on,F:()=>Rs,On:()=>Qs,Q7:()=>pi,_Y:()=>vs});var p=F(5879),L=F(6814),_=F(2459),Ce=F(5592),B=F(7453),Q=F(4829),Z=F(9940),se=F(8251),ce=F(7400),J=F(2714),we=F(7398);let He=(()=>{class z{constructor(x,ie){this._renderer=x,this._elementRef=ie,this.onChange=xe=>{},this.onTouched=()=>{}}setProperty(x,ie){this._renderer.setProperty(this._elementRef.nativeElement,x,ie)}registerOnTouched(x){this.onTouched=x}registerOnChange(x){this.onChange=x}setDisabledState(x){this.setProperty("disabled",x)}static#e=this.\u0275fac=function(ie){return new(ie||z)(p.Y36(p.Qsj),p.Y36(p.SBq))};static#t=this.\u0275dir=p.lG2({type:z})}return z})(),We=(()=>{class z extends He{static#e=this.\u0275fac=function(){let x;return function(xe){return(x||(x=p.n5z(z)))(xe||z)}}();static#t=this.\u0275dir=p.lG2({type:z,features:[p.qOj]})}return z})();const dt=new p.OlP("NgValueAccessor"),nt={provide:dt,useExisting:(0,p.Gpc)(()=>it),multi:!0};let it=(()=>{class z extends We{writeValue(x){this.setProperty("checked",x)}static#e=this.\u0275fac=function(){let x;return function(xe){return(x||(x=p.n5z(z)))(xe||z)}}();static#t=this.\u0275dir=p.lG2({type:z,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(ie,xe){1&ie&&p.NdJ("change",function(Sn){return xe.onChange(Sn.target.checked)})("blur",function(){return xe.onTouched()})},features:[p._Bn([nt]),p.qOj]})}return z})();const lt={provide:dt,useExisting:(0,p.Gpc)(()=>le),multi:!0},ft=new p.OlP("CompositionEventMode");let le=(()=>{class z extends He{constructor(x,ie,xe){super(x,ie),this._compositionMode=xe,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function bt(){const z=(0,L.q)()?(0,L.q)().getUserAgent():"";return/android (\d+)/.test(z.toLowerCase())}())}writeValue(x){this.setProperty("value",x??"")}_handleInput(x){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(x)}_compositionStart(){this._composing=!0}_compositionEnd(x){this._composing=!1,this._compositionMode&&this.onChange(x)}static#e=this.\u0275fac=function(ie){return new(ie||z)(p.Y36(p.Qsj),p.Y36(p.SBq),p.Y36(ft,8))};static#t=this.\u0275dir=p.lG2({type:z,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(ie,xe){1&ie&&p.NdJ("input",function(Sn){return xe._handleInput(Sn.target.value)})("blur",function(){return xe.onTouched()})("compositionstart",function(){return xe._compositionStart()})("compositionend",function(Sn){return xe._compositionEnd(Sn.target.value)})},features:[p._Bn([lt]),p.qOj]})}return z})();const ge=new p.OlP("NgValidators"),De=new p.OlP("NgAsyncValidators");function It(z){return function Oe(z){return null==z||("string"==typeof z||Array.isArray(z))&&0===z.length}(z.value)?{required:!0}:null}function Se(z){return null}function ke(z){return null!=z}function qe(z){return(0,p.QGY)(z)?(0,_.D)(z):z}function Fe(z){let K={};return z.forEach(x=>{K=null!=x?{...K,...x}:K}),0===Object.keys(K).length?null:K}function Ke(z,K){return K.map(x=>x(z))}function At(z){return z.map(K=>function ct(z){return!z.validate}(K)?K:x=>K.validate(x))}function Dn(z){return null!=z?function vt(z){if(!z)return null;const K=z.filter(ke);return 0==K.length?null:function(x){return Fe(Ke(x,K))}}(At(z)):null}function On(z){return null!=z?function cn(z){if(!z)return null;const K=z.filter(ke);return 0==K.length?null:function(x){return function ae(...z){const K=(0,Z.jO)(z),{args:x,keys:ie}=(0,B.D)(z),xe=new Ce.y(Gt=>{const{length:Sn}=x;if(!Sn)return void Gt.complete();const Oi=new Array(Sn);let Ts=Sn,Ni=Sn;for(let go=0;go<Sn;go++){let Xr=!1;(0,Q.Xf)(x[go]).subscribe((0,se.x)(Gt,ki=>{Xr||(Xr=!0,Ni--),Oi[go]=ki},()=>Ts--,void 0,()=>{(!Ts||!Xr)&&(Ni||Gt.next(ie?(0,J.n)(ie,Oi):Oi),Gt.complete())}))}});return K?xe.pipe((0,ce.Z)(K)):xe}(Ke(x,K).map(qe)).pipe((0,we.U)(Fe))}}(At(z)):null}function pn(z,K){return null===z?[K]:Array.isArray(z)?[...z,K]:[z,K]}function jn(z){return z?Array.isArray(z)?z:[z]:[]}function An(z,K){return Array.isArray(z)?z.includes(K):z===K}function Xt(z,K){const x=jn(K);return jn(z).forEach(xe=>{An(x,xe)||x.push(xe)}),x}function vn(z,K){return jn(K).filter(x=>!An(z,x))}class _r{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(K){this._rawValidators=K||[],this._composedValidatorFn=Dn(this._rawValidators)}_setAsyncValidators(K){this._rawAsyncValidators=K||[],this._composedAsyncValidatorFn=On(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(K){this._onDestroyCallbacks.push(K)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(K=>K()),this._onDestroyCallbacks=[]}reset(K=void 0){this.control&&this.control.reset(K)}hasError(K,x){return!!this.control&&this.control.hasError(K,x)}getError(K,x){return this.control?this.control.getError(K,x):null}}class Mn extends _r{get formDirective(){return null}get path(){return null}}class Jn extends _r{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Pr{constructor(K){this._cd=K}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let _n=(()=>{class z extends Pr{constructor(x){super(x)}static#e=this.\u0275fac=function(ie){return new(ie||z)(p.Y36(Jn,2))};static#t=this.\u0275dir=p.lG2({type:z,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(ie,xe){2&ie&&p.ekj("ng-untouched",xe.isUntouched)("ng-touched",xe.isTouched)("ng-pristine",xe.isPristine)("ng-dirty",xe.isDirty)("ng-valid",xe.isValid)("ng-invalid",xe.isInvalid)("ng-pending",xe.isPending)},features:[p.qOj]})}return z})(),on=(()=>{class z extends Pr{constructor(x){super(x)}static#e=this.\u0275fac=function(ie){return new(ie||z)(p.Y36(Mn,10))};static#t=this.\u0275dir=p.lG2({type:z,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(ie,xe){2&ie&&p.ekj("ng-untouched",xe.isUntouched)("ng-touched",xe.isTouched)("ng-pristine",xe.isPristine)("ng-dirty",xe.isDirty)("ng-valid",xe.isValid)("ng-invalid",xe.isInvalid)("ng-pending",xe.isPending)("ng-submitted",xe.isSubmitted)},features:[p.qOj]})}return z})();const Ti="VALID",$r="INVALID",kr="PENDING",Yr="DISABLED";function Ae(z){return(N(z)?z.validators:z)||null}function $(z,K){return(N(K)?K.asyncValidators:z)||null}function N(z){return null!=z&&!Array.isArray(z)&&"object"==typeof z}class pt{constructor(K,x){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(K),this._assignAsyncValidators(x)}get validator(){return this._composedValidatorFn}set validator(K){this._rawValidators=this._composedValidatorFn=K}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(K){this._rawAsyncValidators=this._composedAsyncValidatorFn=K}get parent(){return this._parent}get valid(){return this.status===Ti}get invalid(){return this.status===$r}get pending(){return this.status==kr}get disabled(){return this.status===Yr}get enabled(){return this.status!==Yr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(K){this._assignValidators(K)}setAsyncValidators(K){this._assignAsyncValidators(K)}addValidators(K){this.setValidators(Xt(K,this._rawValidators))}addAsyncValidators(K){this.setAsyncValidators(Xt(K,this._rawAsyncValidators))}removeValidators(K){this.setValidators(vn(K,this._rawValidators))}removeAsyncValidators(K){this.setAsyncValidators(vn(K,this._rawAsyncValidators))}hasValidator(K){return An(this._rawValidators,K)}hasAsyncValidator(K){return An(this._rawAsyncValidators,K)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(K={}){this.touched=!0,this._parent&&!K.onlySelf&&this._parent.markAsTouched(K)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(K=>K.markAllAsTouched())}markAsUntouched(K={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(x=>{x.markAsUntouched({onlySelf:!0})}),this._parent&&!K.onlySelf&&this._parent._updateTouched(K)}markAsDirty(K={}){this.pristine=!1,this._parent&&!K.onlySelf&&this._parent.markAsDirty(K)}markAsPristine(K={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(x=>{x.markAsPristine({onlySelf:!0})}),this._parent&&!K.onlySelf&&this._parent._updatePristine(K)}markAsPending(K={}){this.status=kr,!1!==K.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!K.onlySelf&&this._parent.markAsPending(K)}disable(K={}){const x=this._parentMarkedDirty(K.onlySelf);this.status=Yr,this.errors=null,this._forEachChild(ie=>{ie.disable({...K,onlySelf:!0})}),this._updateValue(),!1!==K.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...K,skipPristineCheck:x}),this._onDisabledChange.forEach(ie=>ie(!0))}enable(K={}){const x=this._parentMarkedDirty(K.onlySelf);this.status=Ti,this._forEachChild(ie=>{ie.enable({...K,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:K.emitEvent}),this._updateAncestors({...K,skipPristineCheck:x}),this._onDisabledChange.forEach(ie=>ie(!1))}_updateAncestors(K){this._parent&&!K.onlySelf&&(this._parent.updateValueAndValidity(K),K.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(K){this._parent=K}getRawValue(){return this.value}updateValueAndValidity(K={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ti||this.status===kr)&&this._runAsyncValidator(K.emitEvent)),!1!==K.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!K.onlySelf&&this._parent.updateValueAndValidity(K)}_updateTreeValidity(K={emitEvent:!0}){this._forEachChild(x=>x._updateTreeValidity(K)),this.updateValueAndValidity({onlySelf:!0,emitEvent:K.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Yr:Ti}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(K){if(this.asyncValidator){this.status=kr,this._hasOwnPendingAsyncValidator=!0;const x=qe(this.asyncValidator(this));this._asyncValidationSubscription=x.subscribe(ie=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(ie,{emitEvent:K})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(K,x={}){this.errors=K,this._updateControlsErrors(!1!==x.emitEvent)}get(K){let x=K;return null==x||(Array.isArray(x)||(x=x.split(".")),0===x.length)?null:x.reduce((ie,xe)=>ie&&ie._find(xe),this)}getError(K,x){const ie=x?this.get(x):this;return ie&&ie.errors?ie.errors[K]:null}hasError(K,x){return!!this.getError(K,x)}get root(){let K=this;for(;K._parent;)K=K._parent;return K}_updateControlsErrors(K){this.status=this._calculateStatus(),K&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(K)}_initObservables(){this.valueChanges=new p.vpe,this.statusChanges=new p.vpe}_calculateStatus(){return this._allControlsDisabled()?Yr:this.errors?$r:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(kr)?kr:this._anyControlsHaveStatus($r)?$r:Ti}_anyControlsHaveStatus(K){return this._anyControls(x=>x.status===K)}_anyControlsDirty(){return this._anyControls(K=>K.dirty)}_anyControlsTouched(){return this._anyControls(K=>K.touched)}_updatePristine(K={}){this.pristine=!this._anyControlsDirty(),this._parent&&!K.onlySelf&&this._parent._updatePristine(K)}_updateTouched(K={}){this.touched=this._anyControlsTouched(),this._parent&&!K.onlySelf&&this._parent._updateTouched(K)}_registerOnCollectionChange(K){this._onCollectionChange=K}_setUpdateStrategy(K){N(K)&&null!=K.updateOn&&(this._updateOn=K.updateOn)}_parentMarkedDirty(K){return!K&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(K){return null}_assignValidators(K){this._rawValidators=Array.isArray(K)?K.slice():K,this._composedValidatorFn=function re(z){return Array.isArray(z)?Dn(z):z||null}(this._rawValidators)}_assignAsyncValidators(K){this._rawAsyncValidators=Array.isArray(K)?K.slice():K,this._composedAsyncValidatorFn=function k(z){return Array.isArray(z)?On(z):z||null}(this._rawAsyncValidators)}}class Dt extends pt{constructor(K,x,ie){super(Ae(x),$(ie,x)),this.controls=K,this._initObservables(),this._setUpdateStrategy(x),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(K,x){return this.controls[K]?this.controls[K]:(this.controls[K]=x,x.setParent(this),x._registerOnCollectionChange(this._onCollectionChange),x)}addControl(K,x,ie={}){this.registerControl(K,x),this.updateValueAndValidity({emitEvent:ie.emitEvent}),this._onCollectionChange()}removeControl(K,x={}){this.controls[K]&&this.controls[K]._registerOnCollectionChange(()=>{}),delete this.controls[K],this.updateValueAndValidity({emitEvent:x.emitEvent}),this._onCollectionChange()}setControl(K,x,ie={}){this.controls[K]&&this.controls[K]._registerOnCollectionChange(()=>{}),delete this.controls[K],x&&this.registerControl(K,x),this.updateValueAndValidity({emitEvent:ie.emitEvent}),this._onCollectionChange()}contains(K){return this.controls.hasOwnProperty(K)&&this.controls[K].enabled}setValue(K,x={}){(function Ve(z,K,x){z._forEachChild((ie,xe)=>{if(void 0===x[xe])throw new p.vHH(1002,"")})})(this,0,K),Object.keys(K).forEach(ie=>{(function de(z,K,x){const ie=z.controls;if(!(K?Object.keys(ie):ie).length)throw new p.vHH(1e3,"");if(!ie[x])throw new p.vHH(1001,"")})(this,!0,ie),this.controls[ie].setValue(K[ie],{onlySelf:!0,emitEvent:x.emitEvent})}),this.updateValueAndValidity(x)}patchValue(K,x={}){null!=K&&(Object.keys(K).forEach(ie=>{const xe=this.controls[ie];xe&&xe.patchValue(K[ie],{onlySelf:!0,emitEvent:x.emitEvent})}),this.updateValueAndValidity(x))}reset(K={},x={}){this._forEachChild((ie,xe)=>{ie.reset(K?K[xe]:null,{onlySelf:!0,emitEvent:x.emitEvent})}),this._updatePristine(x),this._updateTouched(x),this.updateValueAndValidity(x)}getRawValue(){return this._reduceChildren({},(K,x,ie)=>(K[ie]=x.getRawValue(),K))}_syncPendingControls(){let K=this._reduceChildren(!1,(x,ie)=>!!ie._syncPendingControls()||x);return K&&this.updateValueAndValidity({onlySelf:!0}),K}_forEachChild(K){Object.keys(this.controls).forEach(x=>{const ie=this.controls[x];ie&&K(ie,x)})}_setUpControls(){this._forEachChild(K=>{K.setParent(this),K._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(K){for(const[x,ie]of Object.entries(this.controls))if(this.contains(x)&&K(ie))return!0;return!1}_reduceValue(){return this._reduceChildren({},(x,ie,xe)=>((ie.enabled||this.disabled)&&(x[xe]=ie.value),x))}_reduceChildren(K,x){let ie=K;return this._forEachChild((xe,Gt)=>{ie=x(ie,xe,Gt)}),ie}_allControlsDisabled(){for(const K of Object.keys(this.controls))if(this.controls[K].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(K){return this.controls.hasOwnProperty(K)?this.controls[K]:null}}const Me=new p.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>_e}),_e="always";function Ee(z,K,x=_e){Ut(z,K),K.valueAccessor.writeValue(z.value),(z.disabled||"always"===x)&&K.valueAccessor.setDisabledState?.(z.disabled),function gn(z,K){K.valueAccessor.registerOnChange(x=>{z._pendingValue=x,z._pendingChange=!0,z._pendingDirty=!0,"change"===z.updateOn&&Rn(z,K)})}(z,K),function ur(z,K){const x=(ie,xe)=>{K.valueAccessor.writeValue(ie),xe&&K.viewToModelUpdate(ie)};z.registerOnChange(x),K._registerOnDestroy(()=>{z._unregisterOnChange(x)})}(z,K),function pr(z,K){K.valueAccessor.registerOnTouched(()=>{z._pendingTouched=!0,"blur"===z.updateOn&&z._pendingChange&&Rn(z,K),"submit"!==z.updateOn&&z.markAsTouched()})}(z,K),function Qe(z,K){if(K.valueAccessor.setDisabledState){const x=ie=>{K.valueAccessor.setDisabledState(ie)};z.registerOnDisabledChange(x),K._registerOnDestroy(()=>{z._unregisterOnDisabledChange(x)})}}(z,K)}function je(z,K){z.forEach(x=>{x.registerOnValidatorChange&&x.registerOnValidatorChange(K)})}function Ut(z,K){const x=function zn(z){return z._rawValidators}(z);null!==K.validator?z.setValidators(pn(x,K.validator)):"function"==typeof x&&z.setValidators([x]);const ie=function fn(z){return z._rawAsyncValidators}(z);null!==K.asyncValidator?z.setAsyncValidators(pn(ie,K.asyncValidator)):"function"==typeof ie&&z.setAsyncValidators([ie]);const xe=()=>z.updateValueAndValidity();je(K._rawValidators,xe),je(K._rawAsyncValidators,xe)}function Rn(z,K){z._pendingDirty&&z.markAsDirty(),z.setValue(z._pendingValue,{emitModelToViewChange:!1}),K.viewToModelUpdate(z._pendingValue),z._pendingChange=!1}const ys={provide:Mn,useExisting:(0,p.Gpc)(()=>Rs)},Gr=(()=>Promise.resolve())();let Rs=(()=>{class z extends Mn{constructor(x,ie,xe){super(),this.callSetDisabledState=xe,this.submitted=!1,this._directives=new Set,this.ngSubmit=new p.vpe,this.form=new Dt({},Dn(x),On(ie))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(x){Gr.then(()=>{const ie=this._findContainer(x.path);x.control=ie.registerControl(x.name,x.control),Ee(x.control,x,this.callSetDisabledState),x.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(x)})}getControl(x){return this.form.get(x.path)}removeControl(x){Gr.then(()=>{const ie=this._findContainer(x.path);ie&&ie.removeControl(x.name),this._directives.delete(x)})}addFormGroup(x){Gr.then(()=>{const ie=this._findContainer(x.path),xe=new Dt({});(function Lr(z,K){Ut(z,K)})(xe,x),ie.registerControl(x.name,xe),xe.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(x){Gr.then(()=>{const ie=this._findContainer(x.path);ie&&ie.removeControl(x.name)})}getFormGroup(x){return this.form.get(x.path)}updateModel(x,ie){Gr.then(()=>{this.form.get(x.path).setValue(ie)})}setValue(x){this.control.setValue(x)}onSubmit(x){return this.submitted=!0,function Ri(z,K){z._syncPendingControls(),K.forEach(x=>{const ie=x.control;"submit"===ie.updateOn&&ie._pendingChange&&(x.viewToModelUpdate(ie._pendingValue),ie._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(x),"dialog"===x?.target?.method}onReset(){this.resetForm()}resetForm(x=void 0){this.form.reset(x),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(x){return x.pop(),x.length?this.form.get(x):this.form}static#e=this.\u0275fac=function(ie){return new(ie||z)(p.Y36(ge,10),p.Y36(De,10),p.Y36(Me,8))};static#t=this.\u0275dir=p.lG2({type:z,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(ie,xe){1&ie&&p.NdJ("submit",function(Sn){return xe.onSubmit(Sn)})("reset",function(){return xe.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[p._Bn([ys]),p.qOj]})}return z})();function li(z,K){const x=z.indexOf(K);x>-1&&z.splice(x,1)}function Gi(z){return"object"==typeof z&&null!==z&&2===Object.keys(z).length&&"value"in z&&"disabled"in z}const zi=class extends pt{constructor(K=null,x,ie){super(Ae(x),$(ie,x)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(K),this._setUpdateStrategy(x),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),N(x)&&(x.nonNullable||x.initialValueIsDefault)&&(this.defaultValue=Gi(K)?K.value:K)}setValue(K,x={}){this.value=this._pendingValue=K,this._onChange.length&&!1!==x.emitModelToViewChange&&this._onChange.forEach(ie=>ie(this.value,!1!==x.emitViewToModelChange)),this.updateValueAndValidity(x)}patchValue(K,x={}){this.setValue(K,x)}reset(K=this.defaultValue,x={}){this._applyFormState(K),this.markAsPristine(x),this.markAsUntouched(x),this.setValue(this.value,x),this._pendingChange=!1}_updateValue(){}_anyControls(K){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(K){this._onChange.push(K)}_unregisterOnChange(K){li(this._onChange,K)}registerOnDisabledChange(K){this._onDisabledChange.push(K)}_unregisterOnDisabledChange(K){li(this._onDisabledChange,K)}_forEachChild(K){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(K){Gi(K)?(this.value=this._pendingValue=K.value,K.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=K}},Fs={provide:Jn,useExisting:(0,p.Gpc)(()=>Qs)},ao=(()=>Promise.resolve())();let Qs=(()=>{class z extends Jn{constructor(x,ie,xe,Gt,Sn,Oi){super(),this._changeDetectorRef=Sn,this.callSetDisabledState=Oi,this.control=new zi,this._registered=!1,this.name="",this.update=new p.vpe,this._parent=x,this._setValidators(ie),this._setAsyncValidators(xe),this.valueAccessor=function ks(z,K){if(!K)return null;let x,ie,xe;return Array.isArray(K),K.forEach(Gt=>{Gt.constructor===le?x=Gt:function ds(z){return Object.getPrototypeOf(z.constructor)===We}(Gt)?ie=Gt:xe=Gt}),xe||ie||x||null}(0,Gt)}ngOnChanges(x){if(this._checkForErrors(),!this._registered||"name"in x){if(this._registered&&(this._checkName(),this.formDirective)){const ie=x.name.previousValue;this.formDirective.removeControl({name:ie,path:this._getPath(ie)})}this._setUpControl()}"isDisabled"in x&&this._updateDisabled(x),function yi(z,K){if(!z.hasOwnProperty("model"))return!1;const x=z.model;return!!x.isFirstChange()||!Object.is(K,x.currentValue)}(x,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(x){this.viewModel=x,this.update.emit(x)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ee(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(x){ao.then(()=>{this.control.setValue(x,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(x){const ie=x.isDisabled.currentValue,xe=0!==ie&&(0,p.VuI)(ie);ao.then(()=>{xe&&!this.control.disabled?this.control.disable():!xe&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(x){return this._parent?function Pe(z,K){return[...K.path,z]}(x,this._parent):[x]}static#e=this.\u0275fac=function(ie){return new(ie||z)(p.Y36(Mn,9),p.Y36(ge,10),p.Y36(De,10),p.Y36(dt,10),p.Y36(p.sBO,8),p.Y36(Me,8))};static#t=this.\u0275dir=p.lG2({type:z,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[p._Bn([Fs]),p.qOj,p.TTD]})}return z})(),vs=(()=>{class z{static#e=this.\u0275fac=function(ie){return new(ie||z)};static#t=this.\u0275dir=p.lG2({type:z,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return z})(),bi=(()=>{class z{static#e=this.\u0275fac=function(ie){return new(ie||z)};static#t=this.\u0275mod=p.oAB({type:z});static#n=this.\u0275inj=p.cJS({})}return z})(),Br=(()=>{class z{constructor(){this._validator=Se}ngOnChanges(x){if(this.inputName in x){const ie=this.normalizeInput(x[this.inputName].currentValue);this._enabled=this.enabled(ie),this._validator=this._enabled?this.createValidator(ie):Se,this._onChange&&this._onChange()}}validate(x){return this._validator(x)}registerOnValidatorChange(x){this._onChange=x}enabled(x){return null!=x}static#e=this.\u0275fac=function(ie){return new(ie||z)};static#t=this.\u0275dir=p.lG2({type:z,features:[p.TTD]})}return z})();const aa={provide:ge,useExisting:(0,p.Gpc)(()=>pi),multi:!0};let pi=(()=>{class z extends Br{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=p.VuI,this.createValidator=x=>It}enabled(x){return x}static#e=this.\u0275fac=function(){let x;return function(xe){return(x||(x=p.n5z(z)))(xe||z)}}();static#t=this.\u0275dir=p.lG2({type:z,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(ie,xe){2&ie&&p.uIk("required",xe._enabled?"":null)},inputs:{required:"required"},features:[p._Bn([aa]),p.qOj]})}return z})(),Mo=(()=>{class z{static#e=this.\u0275fac=function(ie){return new(ie||z)};static#t=this.\u0275mod=p.oAB({type:z});static#n=this.\u0275inj=p.cJS({imports:[bi]})}return z})(),Bs=(()=>{class z{static withConfig(x){return{ngModule:z,providers:[{provide:Me,useValue:x.callSetDisabledState??_e}]}}static#e=this.\u0275fac=function(ie){return new(ie||z)};static#t=this.\u0275mod=p.oAB({type:z});static#n=this.\u0275inj=p.cJS({imports:[Mo]})}return z})()},6593:(Nt,$e,F)=>{F.d($e,{Dx:()=>Jn,H7:()=>jr,b2:()=>An,q6:()=>pn,se:()=>ye});var p=F(5879),L=F(6814);class _ extends L.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ce extends _{static makeCurrent(){(0,L.HT)(new Ce)}onAndCancel($,k,N){return $.addEventListener(k,N),()=>{$.removeEventListener(k,N)}}dispatchEvent($,k){$.dispatchEvent(k)}remove($){$.parentNode&&$.parentNode.removeChild($)}createElement($,k){return(k=k||this.getDefaultDocument()).createElement($)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode($){return $.nodeType===Node.ELEMENT_NODE}isShadowRoot($){return $ instanceof DocumentFragment}getGlobalEventTarget($,k){return"window"===k?window:"document"===k?$:"body"===k?$.body:null}getBaseHref($){const k=function Q(){return B=B||document.querySelector("base"),B?B.getAttribute("href"):null}();return null==k?null:function se(re){Z=Z||document.createElement("a"),Z.setAttribute("href",re);const $=Z.pathname;return"/"===$.charAt(0)?$:`/${$}`}(k)}resetBaseElement(){B=null}getUserAgent(){return window.navigator.userAgent}getCookie($){return(0,L.Mx)(document.cookie,$)}}let Z,B=null,J=(()=>{class re{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(N){return new(N||re)};static#t=this.\u0275prov=p.Yz7({token:re,factory:re.\u0275fac})}return re})();const ae=new p.OlP("EventManagerPlugins");let we=(()=>{class re{constructor(k,N){this._zone=N,this._eventNameToPlugin=new Map,k.forEach(de=>{de.manager=this}),this._plugins=k.slice().reverse()}addEventListener(k,N,de){return this._findPluginFor(N).addEventListener(k,N,de)}getZone(){return this._zone}_findPluginFor(k){let N=this._eventNameToPlugin.get(k);if(N)return N;if(N=this._plugins.find(Ve=>Ve.supports(k)),!N)throw new p.vHH(5101,!1);return this._eventNameToPlugin.set(k,N),N}static#e=this.\u0275fac=function(N){return new(N||re)(p.LFG(ae),p.LFG(p.R0b))};static#t=this.\u0275prov=p.Yz7({token:re,factory:re.\u0275fac})}return re})();class He{constructor($){this._doc=$}}const We="ng-app-id";let dt=(()=>{class re{constructor(k,N,de,Ve={}){this.doc=k,this.appId=N,this.nonce=de,this.platformId=Ve,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,L.PM)(Ve),this.resetHostNodes()}addStyles(k){for(const N of k)1===this.changeUsageCount(N,1)&&this.onStyleAdded(N)}removeStyles(k){for(const N of k)this.changeUsageCount(N,-1)<=0&&this.onStyleRemoved(N)}ngOnDestroy(){const k=this.styleNodesInDOM;k&&(k.forEach(N=>N.remove()),k.clear());for(const N of this.getAllStyles())this.onStyleRemoved(N);this.resetHostNodes()}addHost(k){this.hostNodes.add(k);for(const N of this.getAllStyles())this.addStyleToHost(k,N)}removeHost(k){this.hostNodes.delete(k)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(k){for(const N of this.hostNodes)this.addStyleToHost(N,k)}onStyleRemoved(k){const N=this.styleRef;N.get(k)?.elements?.forEach(de=>de.remove()),N.delete(k)}collectServerRenderedStyles(){const k=this.doc.head?.querySelectorAll(`style[${We}="${this.appId}"]`);if(k?.length){const N=new Map;return k.forEach(de=>{null!=de.textContent&&N.set(de.textContent,de)}),N}return null}changeUsageCount(k,N){const de=this.styleRef;if(de.has(k)){const Ve=de.get(k);return Ve.usage+=N,Ve.usage}return de.set(k,{usage:N,elements:[]}),N}getStyleElement(k,N){const de=this.styleNodesInDOM,Ve=de?.get(N);if(Ve?.parentNode===k)return de.delete(N),Ve.removeAttribute(We),Ve;{const pt=this.doc.createElement("style");return this.nonce&&pt.setAttribute("nonce",this.nonce),pt.textContent=N,this.platformIsServer&&pt.setAttribute(We,this.appId),pt}}addStyleToHost(k,N){const de=this.getStyleElement(k,N);k.appendChild(de);const Ve=this.styleRef,pt=Ve.get(N)?.elements;pt?pt.push(de):Ve.set(N,{elements:[de],usage:1})}resetHostNodes(){const k=this.hostNodes;k.clear(),k.add(this.doc.head)}static#e=this.\u0275fac=function(N){return new(N||re)(p.LFG(L.K0),p.LFG(p.AFp),p.LFG(p.Ojb,8),p.LFG(p.Lbi))};static#t=this.\u0275prov=p.Yz7({token:re,factory:re.\u0275fac})}return re})();const nt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},it=/%COMP%/g,Oe=new p.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function De(re,$){return $.map(k=>k.replace(it,re))}let ye=(()=>{class re{constructor(k,N,de,Ve,pt,Dt,jt,Wt=null){this.eventManager=k,this.sharedStylesHost=N,this.appId=de,this.removeStylesOnCompDestroy=Ve,this.doc=pt,this.platformId=Dt,this.ngZone=jt,this.nonce=Wt,this.rendererByCompId=new Map,this.platformIsServer=(0,L.PM)(Dt),this.defaultRenderer=new rt(k,pt,jt,this.platformIsServer)}createRenderer(k,N){if(!k||!N)return this.defaultRenderer;this.platformIsServer&&N.encapsulation===p.ifc.ShadowDom&&(N={...N,encapsulation:p.ifc.Emulated});const de=this.getOrCreateRenderer(k,N);return de instanceof Rt?de.applyToHost(k):de instanceof Tn&&de.applyStyles(),de}getOrCreateRenderer(k,N){const de=this.rendererByCompId;let Ve=de.get(N.id);if(!Ve){const pt=this.doc,Dt=this.ngZone,jt=this.eventManager,Wt=this.sharedStylesHost,an=this.removeStylesOnCompDestroy,Zn=this.platformIsServer;switch(N.encapsulation){case p.ifc.Emulated:Ve=new Rt(jt,Wt,N,this.appId,an,pt,Dt,Zn);break;case p.ifc.ShadowDom:return new ut(jt,Wt,k,N,pt,Dt,this.nonce,Zn);default:Ve=new Tn(jt,Wt,N,an,pt,Dt,Zn)}de.set(N.id,Ve)}return Ve}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(N){return new(N||re)(p.LFG(we),p.LFG(dt),p.LFG(p.AFp),p.LFG(Oe),p.LFG(L.K0),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(p.Ojb))};static#t=this.\u0275prov=p.Yz7({token:re,factory:re.\u0275fac})}return re})();class rt{constructor($,k,N,de){this.eventManager=$,this.doc=k,this.ngZone=N,this.platformIsServer=de,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement($,k){return k?this.doc.createElementNS(nt[k]||k,$):this.doc.createElement($)}createComment($){return this.doc.createComment($)}createText($){return this.doc.createTextNode($)}appendChild($,k){(It($)?$.content:$).appendChild(k)}insertBefore($,k,N){$&&(It($)?$.content:$).insertBefore(k,N)}removeChild($,k){$&&$.removeChild(k)}selectRootElement($,k){let N="string"==typeof $?this.doc.querySelector($):$;if(!N)throw new p.vHH(-5104,!1);return k||(N.textContent=""),N}parentNode($){return $.parentNode}nextSibling($){return $.nextSibling}setAttribute($,k,N,de){if(de){k=de+":"+k;const Ve=nt[de];Ve?$.setAttributeNS(Ve,k,N):$.setAttribute(k,N)}else $.setAttribute(k,N)}removeAttribute($,k,N){if(N){const de=nt[N];de?$.removeAttributeNS(de,k):$.removeAttribute(`${N}:${k}`)}else $.removeAttribute(k)}addClass($,k){$.classList.add(k)}removeClass($,k){$.classList.remove(k)}setStyle($,k,N,de){de&(p.JOm.DashCase|p.JOm.Important)?$.style.setProperty(k,N,de&p.JOm.Important?"important":""):$.style[k]=N}removeStyle($,k,N){N&p.JOm.DashCase?$.style.removeProperty(k):$.style[k]=""}setProperty($,k,N){$[k]=N}setValue($,k){$.nodeValue=k}listen($,k,N){if("string"==typeof $&&!($=(0,L.q)().getGlobalEventTarget(this.doc,$)))throw new Error(`Unsupported event target ${$} for event ${k}`);return this.eventManager.addEventListener($,k,this.decoratePreventDefault(N))}decoratePreventDefault($){return k=>{if("__ngUnwrap__"===k)return $;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>$(k)):$(k))&&k.preventDefault()}}}function It(re){return"TEMPLATE"===re.tagName&&void 0!==re.content}class ut extends rt{constructor($,k,N,de,Ve,pt,Dt,jt){super($,Ve,pt,jt),this.sharedStylesHost=k,this.hostEl=N,this.shadowRoot=N.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Wt=De(de.id,de.styles);for(const an of Wt){const Zn=document.createElement("style");Dt&&Zn.setAttribute("nonce",Dt),Zn.textContent=an,this.shadowRoot.appendChild(Zn)}}nodeOrShadowRoot($){return $===this.hostEl?this.shadowRoot:$}appendChild($,k){return super.appendChild(this.nodeOrShadowRoot($),k)}insertBefore($,k,N){return super.insertBefore(this.nodeOrShadowRoot($),k,N)}removeChild($,k){return super.removeChild(this.nodeOrShadowRoot($),k)}parentNode($){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot($)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Tn extends rt{constructor($,k,N,de,Ve,pt,Dt,jt){super($,Ve,pt,Dt),this.sharedStylesHost=k,this.removeStylesOnCompDestroy=de,this.styles=jt?De(jt,N.styles):N.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Rt extends Tn{constructor($,k,N,de,Ve,pt,Dt,jt){const Wt=de+"-"+N.id;super($,k,N,Ve,pt,Dt,jt,Wt),this.contentAttr=function he(re){return"_ngcontent-%COMP%".replace(it,re)}(Wt),this.hostAttr=function ge(re){return"_nghost-%COMP%".replace(it,re)}(Wt)}applyToHost($){this.applyStyles(),this.setAttribute($,this.hostAttr,"")}createElement($,k){const N=super.createElement($,k);return super.setAttribute(N,this.contentAttr,""),N}}let Pt=(()=>{class re extends He{constructor(k){super(k)}supports(k){return!0}addEventListener(k,N,de){return k.addEventListener(N,de,!1),()=>this.removeEventListener(k,N,de)}removeEventListener(k,N,de){return k.removeEventListener(N,de)}static#e=this.\u0275fac=function(N){return new(N||re)(p.LFG(L.K0))};static#t=this.\u0275prov=p.Yz7({token:re,factory:re.\u0275fac})}return re})();const kt=["alt","control","meta","shift"],Se={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ke={alt:re=>re.altKey,control:re=>re.ctrlKey,meta:re=>re.metaKey,shift:re=>re.shiftKey};let qe=(()=>{class re extends He{constructor(k){super(k)}supports(k){return null!=re.parseEventName(k)}addEventListener(k,N,de){const Ve=re.parseEventName(N),pt=re.eventCallback(Ve.fullKey,de,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,L.q)().onAndCancel(k,Ve.domEventName,pt))}static parseEventName(k){const N=k.toLowerCase().split("."),de=N.shift();if(0===N.length||"keydown"!==de&&"keyup"!==de)return null;const Ve=re._normalizeKey(N.pop());let pt="",Dt=N.indexOf("code");if(Dt>-1&&(N.splice(Dt,1),pt="code."),kt.forEach(Wt=>{const an=N.indexOf(Wt);an>-1&&(N.splice(an,1),pt+=Wt+".")}),pt+=Ve,0!=N.length||0===Ve.length)return null;const jt={};return jt.domEventName=de,jt.fullKey=pt,jt}static matchEventFullKeyCode(k,N){let de=Se[k.key]||k.key,Ve="";return N.indexOf("code.")>-1&&(de=k.code,Ve="code."),!(null==de||!de)&&(de=de.toLowerCase()," "===de?de="space":"."===de&&(de="dot"),kt.forEach(pt=>{pt!==de&&(0,ke[pt])(k)&&(Ve+=pt+".")}),Ve+=de,Ve===N)}static eventCallback(k,N,de){return Ve=>{re.matchEventFullKeyCode(Ve,k)&&de.runGuarded(()=>N(Ve))}}static _normalizeKey(k){return"esc"===k?"escape":k}static#e=this.\u0275fac=function(N){return new(N||re)(p.LFG(L.K0))};static#t=this.\u0275prov=p.Yz7({token:re,factory:re.\u0275fac})}return re})();const pn=(0,p.eFA)(p._c5,"browser",[{provide:p.Lbi,useValue:L.bD},{provide:p.g9A,useValue:function vt(){Ce.makeCurrent()},multi:!0},{provide:L.K0,useFactory:function cn(){return(0,p.RDi)(document),document},deps:[]}]),zn=new p.OlP(""),fn=[{provide:p.rWj,useClass:class ce{addToWindow($){p.dqk.getAngularTestability=(N,de=!0)=>{const Ve=$.findTestabilityInTree(N,de);if(null==Ve)throw new p.vHH(5103,!1);return Ve},p.dqk.getAllAngularTestabilities=()=>$.getAllTestabilities(),p.dqk.getAllAngularRootElements=()=>$.getAllRootElements(),p.dqk.frameworkStabilizers||(p.dqk.frameworkStabilizers=[]),p.dqk.frameworkStabilizers.push(N=>{const de=p.dqk.getAllAngularTestabilities();let Ve=de.length,pt=!1;const Dt=function(jt){pt=pt||jt,Ve--,0==Ve&&N(pt)};de.forEach(jt=>{jt.whenStable(Dt)})})}findTestabilityInTree($,k,N){return null==k?null:$.getTestability(k)??(N?(0,L.q)().isShadowRoot(k)?this.findTestabilityInTree($,k.host,!0):this.findTestabilityInTree($,k.parentElement,!0):null)}},deps:[]},{provide:p.lri,useClass:p.dDg,deps:[p.R0b,p.eoX,p.rWj]},{provide:p.dDg,useClass:p.dDg,deps:[p.R0b,p.eoX,p.rWj]}],jn=[{provide:p.zSh,useValue:"root"},{provide:p.qLn,useFactory:function Dn(){return new p.qLn},deps:[]},{provide:ae,useClass:Pt,multi:!0,deps:[L.K0,p.R0b,p.Lbi]},{provide:ae,useClass:qe,multi:!0,deps:[L.K0]},ye,dt,we,{provide:p.FYo,useExisting:ye},{provide:L.JF,useClass:J,deps:[]},[]];let An=(()=>{class re{constructor(k){}static withServerTransition(k){return{ngModule:re,providers:[{provide:p.AFp,useValue:k.appId}]}}static#e=this.\u0275fac=function(N){return new(N||re)(p.LFG(zn,12))};static#t=this.\u0275mod=p.oAB({type:re});static#n=this.\u0275inj=p.cJS({providers:[...jn,...fn],imports:[L.ez,p.hGG]})}return re})(),Jn=(()=>{class re{constructor(k){this._doc=k}getTitle(){return this._doc.title}setTitle(k){this._doc.title=k||""}static#e=this.\u0275fac=function(N){return new(N||re)(p.LFG(L.K0))};static#t=this.\u0275prov=p.Yz7({token:re,factory:function(N){let de=null;return de=N?new N:function Mn(){return new Jn((0,p.LFG)(L.K0))}(),de},providedIn:"root"})}return re})();typeof window<"u"&&window;let jr=(()=>{class re{static#e=this.\u0275fac=function(N){return new(N||re)};static#t=this.\u0275prov=p.Yz7({token:re,factory:function(N){let de=null;return de=N?new(N||re):p.LFG(kn),de},providedIn:"root"})}return re})(),kn=(()=>{class re extends jr{constructor(k){super(),this._doc=k}sanitize(k,N){if(null==N)return null;switch(k){case p.q3G.NONE:return N;case p.q3G.HTML:return(0,p.qzn)(N,"HTML")?(0,p.z3N)(N):(0,p.EiD)(this._doc,String(N)).toString();case p.q3G.STYLE:return(0,p.qzn)(N,"Style")?(0,p.z3N)(N):N;case p.q3G.SCRIPT:if((0,p.qzn)(N,"Script"))return(0,p.z3N)(N);throw new p.vHH(5200,!1);case p.q3G.URL:return(0,p.qzn)(N,"URL")?(0,p.z3N)(N):(0,p.mCW)(String(N));case p.q3G.RESOURCE_URL:if((0,p.qzn)(N,"ResourceURL"))return(0,p.z3N)(N);throw new p.vHH(5201,!1);default:throw new p.vHH(5202,!1)}}bypassSecurityTrustHtml(k){return(0,p.JVY)(k)}bypassSecurityTrustStyle(k){return(0,p.L6k)(k)}bypassSecurityTrustScript(k){return(0,p.eBb)(k)}bypassSecurityTrustUrl(k){return(0,p.LAX)(k)}bypassSecurityTrustResourceUrl(k){return(0,p.pB0)(k)}static#e=this.\u0275fac=function(N){return new(N||re)(p.LFG(L.K0))};static#t=this.\u0275prov=p.Yz7({token:re,factory:function(N){let de=null;return de=N?new N:function di(re){return new kn(re.get(L.K0))}(p.LFG(p.zs3)),de},providedIn:"root"})}return re})()},3781:(Nt,$e,F)=>{F.d($e,{wm:()=>xn,F0:()=>be,Bz:()=>hn,lC:()=>Ai});var p=F(5879),L=F(5592),_=F(4674),B=F(2459),Q=F(2096),Z=F(5619),se=F(7453),ce=F(2737),J=F(7400),ae=F(9940),we=F(2714),He=F(8251),We=F(7103);function dt(...T){const A=(0,ae.yG)(T),I=(0,ae.jO)(T),{args:P,keys:V}=(0,se.D)(T);if(0===P.length)return(0,B.D)([],A);const te=new L.y(function nt(T,A,I=ce.y){return P=>{it(A,()=>{const{length:V}=T,te=new Array(V);let ve=V,ue=V;for(let Je=0;Je<V;Je++)it(A,()=>{const $t=(0,B.D)(T[Je],A);let Yn=!1;$t.subscribe((0,He.x)(P,Kn=>{te[Je]=Kn,Yn||(Yn=!0,ue--),ue||P.next(I(te.slice()))},()=>{--ve||P.complete()}))},P)},P)}}(P,A,V?ve=>(0,we.n)(V,ve):ce.y));return I?te.pipe((0,J.Z)(I)):te}function it(T,A,I){T?(0,We.f)(I,T,A):A()}var lt=F(6973),bt=F(5211),ft=F(4829);function le(T){return new L.y(A=>{(0,ft.Xf)(T()).subscribe(A)})}var Oe=F(8407);function he(T,A){const I=(0,_.m)(T)?T:()=>T,P=V=>V.error(I());return new L.y(A?V=>A.schedule(P,0,V):P)}var ge=F(6232),De=F(7394),ye=F(9360);function rt(){return(0,ye.e)((T,A)=>{let I=null;T._refCount++;const P=(0,He.x)(A,void 0,void 0,void 0,()=>{if(!T||T._refCount<=0||0<--T._refCount)return void(I=null);const V=T._connection,te=I;I=null,V&&(!te||V===te)&&V.unsubscribe(),A.unsubscribe()});T.subscribe(P),P.closed||(I=T.connect())})}class Ie extends L.y{constructor(A,I){super(),this.source=A,this.subjectFactory=I,this._subject=null,this._refCount=0,this._connection=null,(0,ye.A)(A)&&(this.lift=A.lift)}_subscribe(A){return this.getSubject().subscribe(A)}getSubject(){const A=this._subject;return(!A||A.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:A}=this;this._subject=this._connection=null,A?.unsubscribe()}connect(){let A=this._connection;if(!A){A=this._connection=new De.w0;const I=this.getSubject();A.add(this.source.subscribe((0,He.x)(I,void 0,()=>{this._teardown(),I.complete()},P=>{this._teardown(),I.error(P)},()=>this._teardown()))),A.closed&&(this._connection=null,A=De.w0.EMPTY)}return A}refCount(){return rt()(this)}}var Vt=F(8645),It=F(6814),ut=F(7398),Tn=F(4664),Rt=F(8180),Pt=F(7921),kt=F(2181),Se=F(1631),ke=F(1374),qe=F(6328),Fe=F(9397);function Ke(T){return(0,ye.e)((A,I)=>{let te,P=null,V=!1;P=A.subscribe((0,He.x)(I,void 0,void 0,ve=>{te=(0,ft.Xf)(T(ve,Ke(T)(A))),P?(P.unsubscribe(),P=null,te.subscribe(I)):V=!0})),V&&(P.unsubscribe(),P=null,te.subscribe(I))})}var ct=F(6699),At=F(3572);function vt(T){return T<=0?()=>ge.E:(0,ye.e)((A,I)=>{let P=[];A.subscribe((0,He.x)(I,V=>{P.push(V),T<P.length&&P.shift()},()=>{for(const V of P)I.next(V);I.complete()},void 0,()=>{P=null}))})}var Dn=F(3026),pn=F(4716),zn=F(2420),jn=F(7537),An=F(6593);const Xt="primary",vn=Symbol("RouteTitle");class _r{constructor(A){this.params=A||{}}has(A){return Object.prototype.hasOwnProperty.call(this.params,A)}get(A){if(this.has(A)){const I=this.params[A];return Array.isArray(I)?I[0]:I}return null}getAll(A){if(this.has(A)){const I=this.params[A];return Array.isArray(I)?I:[I]}return[]}get keys(){return Object.keys(this.params)}}function Mn(T){return new _r(T)}function Jn(T,A,I){const P=I.path.split("/");if(P.length>T.length||"full"===I.pathMatch&&(A.hasChildren()||P.length<T.length))return null;const V={};for(let te=0;te<P.length;te++){const ve=P[te],ue=T[te];if(ve.startsWith(":"))V[ve.substring(1)]=ue;else if(ve!==ue.path)return null}return{consumed:T.slice(0,P.length),posParams:V}}function dn(T,A){const I=T?Object.keys(T):void 0,P=A?Object.keys(A):void 0;if(!I||!P||I.length!=P.length)return!1;let V;for(let te=0;te<I.length;te++)if(V=I[te],!ln(T[V],A[V]))return!1;return!0}function ln(T,A){if(Array.isArray(T)&&Array.isArray(A)){if(T.length!==A.length)return!1;const I=[...T].sort(),P=[...A].sort();return I.every((V,te)=>P[te]===V)}return T===A}function _n(T){return T.length>0?T[T.length-1]:null}function on(T){return function Ce(T){return!!T&&(T instanceof L.y||(0,_.m)(T.lift)&&(0,_.m)(T.subscribe))}(T)?T:(0,p.QGY)(T)?(0,B.D)(Promise.resolve(T)):(0,Q.of)(T)}const or={exact:function Re(T,A,I){if(!kn(T.segments,A.segments)||!Mt(T.segments,A.segments,I)||T.numberOfChildren!==A.numberOfChildren)return!1;for(const P in A.children)if(!T.children[P]||!Re(T.children[P],A.children[P],I))return!1;return!0},subset:Ze},Ir={exact:function St(T,A){return dn(T,A)},subset:function Ge(T,A){return Object.keys(A).length<=Object.keys(T).length&&Object.keys(A).every(I=>ln(T[I],A[I]))},ignored:()=>!0};function Ye(T,A,I){return or[I.paths](T.root,A.root,I.matrixParams)&&Ir[I.queryParams](T.queryParams,A.queryParams)&&!("exact"===I.fragment&&T.fragment!==A.fragment)}function Ze(T,A,I){return zt(T,A,A.segments,I)}function zt(T,A,I,P){if(T.segments.length>I.length){const V=T.segments.slice(0,I.length);return!(!kn(V,I)||A.hasChildren()||!Mt(V,I,P))}if(T.segments.length===I.length){if(!kn(T.segments,I)||!Mt(T.segments,I,P))return!1;for(const V in A.children)if(!T.children[V]||!Ze(T.children[V],A.children[V],P))return!1;return!0}{const V=I.slice(0,T.segments.length),te=I.slice(T.segments.length);return!!(kn(T.segments,V)&&Mt(T.segments,V,P)&&T.children[Xt])&&zt(T.children[Xt],A,te,P)}}function Mt(T,A,I){return A.every((P,V)=>Ir[I](T[V].parameters,P.parameters))}class Xn{constructor(A=new yn([],{}),I={},P=null){this.root=A,this.queryParams=I,this.fragment=P}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Mn(this.queryParams)),this._queryParamMap}toString(){return Ti.serialize(this)}}class yn{constructor(A,I){this.segments=A,this.children=I,this.parent=null,Object.values(I).forEach(P=>P.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return $r(this)}}class jr{constructor(A,I){this.path=A,this.parameters=I}get parameterMap(){return this._parameterMap||(this._parameterMap=Mn(this.parameters)),this._parameterMap}toString(){return de(this)}}function kn(T,A){return T.length===A.length&&T.every((I,P)=>I.path===A[P].path)}let oi=(()=>{class T{static#e=this.\u0275fac=function(P){return new(P||T)};static#t=this.\u0275prov=p.Yz7({token:T,factory:function(){return new ai},providedIn:"root"})}return T})();class ai{parse(A){const I=new Ee(A);return new Xn(I.parseRootSegment(),I.parseQueryParams(),I.parseFragment())}serialize(A){const I=`/${kr(A.root,!0)}`,P=function pt(T){const A=Object.keys(T).map(I=>{const P=T[I];return Array.isArray(P)?P.map(V=>`${Ae(I)}=${Ae(V)}`).join("&"):`${Ae(I)}=${Ae(P)}`}).filter(I=>!!I);return A.length?`?${A.join("&")}`:""}(A.queryParams);return`${I}${P}${"string"==typeof A.fragment?`#${function re(T){return encodeURI(T)}(A.fragment)}`:""}`}}const Ti=new ai;function $r(T){return T.segments.map(A=>de(A)).join("/")}function kr(T,A){if(!T.hasChildren())return $r(T);if(A){const I=T.children[Xt]?kr(T.children[Xt],!1):"",P=[];return Object.entries(T.children).forEach(([V,te])=>{V!==Xt&&P.push(`${V}:${kr(te,!1)}`)}),P.length>0?`${I}(${P.join("//")})`:I}{const I=function Ar(T,A){let I=[];return Object.entries(T.children).forEach(([P,V])=>{P===Xt&&(I=I.concat(A(V,P)))}),Object.entries(T.children).forEach(([P,V])=>{P!==Xt&&(I=I.concat(A(V,P)))}),I}(T,(P,V)=>V===Xt?[kr(T.children[Xt],!1)]:[`${V}:${kr(P,!1)}`]);return 1===Object.keys(T.children).length&&null!=T.children[Xt]?`${$r(T)}/${I[0]}`:`${$r(T)}/(${I.join("//")})`}}function Yr(T){return encodeURIComponent(T).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ae(T){return Yr(T).replace(/%3B/gi,";")}function $(T){return Yr(T).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function k(T){return decodeURIComponent(T)}function N(T){return k(T.replace(/\+/g,"%20"))}function de(T){return`${$(T.path)}${function Ve(T){return Object.keys(T).map(A=>`;${$(A)}=${$(T[A])}`).join("")}(T.parameters)}`}const Dt=/^[^\/()?;#]+/;function jt(T){const A=T.match(Dt);return A?A[0]:""}const Wt=/^[^\/()?;=#]+/,Zn=/^[^=?&#]+/,_e=/^[^&#]+/;class Ee{constructor(A){this.url=A,this.remaining=A}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new yn([],{}):new yn([],this.parseChildren())}parseQueryParams(){const A={};if(this.consumeOptional("?"))do{this.parseQueryParam(A)}while(this.consumeOptional("&"));return A}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const A=[];for(this.peekStartsWith("(")||A.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),A.push(this.parseSegment());let I={};this.peekStartsWith("/(")&&(this.capture("/"),I=this.parseParens(!0));let P={};return this.peekStartsWith("(")&&(P=this.parseParens(!1)),(A.length>0||Object.keys(I).length>0)&&(P[Xt]=new yn(A,I)),P}parseSegment(){const A=jt(this.remaining);if(""===A&&this.peekStartsWith(";"))throw new p.vHH(4009,!1);return this.capture(A),new jr(k(A),this.parseMatrixParams())}parseMatrixParams(){const A={};for(;this.consumeOptional(";");)this.parseParam(A);return A}parseParam(A){const I=function an(T){const A=T.match(Wt);return A?A[0]:""}(this.remaining);if(!I)return;this.capture(I);let P="";if(this.consumeOptional("=")){const V=jt(this.remaining);V&&(P=V,this.capture(P))}A[k(I)]=k(P)}parseQueryParam(A){const I=function Me(T){const A=T.match(Zn);return A?A[0]:""}(this.remaining);if(!I)return;this.capture(I);let P="";if(this.consumeOptional("=")){const ve=function Pe(T){const A=T.match(_e);return A?A[0]:""}(this.remaining);ve&&(P=ve,this.capture(P))}const V=N(I),te=N(P);if(A.hasOwnProperty(V)){let ve=A[V];Array.isArray(ve)||(ve=[ve],A[V]=ve),ve.push(te)}else A[V]=te}parseParens(A){const I={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const P=jt(this.remaining),V=this.remaining[P.length];if("/"!==V&&")"!==V&&";"!==V)throw new p.vHH(4010,!1);let te;P.indexOf(":")>-1?(te=P.slice(0,P.indexOf(":")),this.capture(te),this.capture(":")):A&&(te=Xt);const ve=this.parseChildren();I[te]=1===Object.keys(ve).length?ve[Xt]:new yn([],ve),this.consumeOptional("//")}return I}peekStartsWith(A){return this.remaining.startsWith(A)}consumeOptional(A){return!!this.peekStartsWith(A)&&(this.remaining=this.remaining.substring(A.length),!0)}capture(A){if(!this.consumeOptional(A))throw new p.vHH(4011,!1)}}function Te(T){return T.segments.length>0?new yn([],{[Xt]:T}):T}function je(T){const A={};for(const P of Object.keys(T.children)){const te=je(T.children[P]);if(P===Xt&&0===te.segments.length&&te.hasChildren())for(const[ve,ue]of Object.entries(te.children))A[ve]=ue;else(te.segments.length>0||te.hasChildren())&&(A[P]=te)}return function Qe(T){if(1===T.numberOfChildren&&T.children[Xt]){const A=T.children[Xt];return new yn(T.segments.concat(A.segments),A.children)}return T}(new yn(T.segments,A))}function Ut(T){return T instanceof Xn}function gn(T){let A;const V=Te(function I(te){const ve={};for(const Je of te.children){const $t=I(Je);ve[Je.outlet]=$t}const ue=new yn(te.url,ve);return te===T&&(A=ue),ue}(T.root));return A??V}function pr(T,A,I,P){let V=T;for(;V.parent;)V=V.parent;if(0===A.length)return Lr(V,V,V,I,P);const te=function Rr(T){if("string"==typeof T[0]&&1===T.length&&"/"===T[0])return new gr(!0,0,T);let A=0,I=!1;const P=T.reduce((V,te,ve)=>{if("object"==typeof te&&null!=te){if(te.outlets){const ue={};return Object.entries(te.outlets).forEach(([Je,$t])=>{ue[Je]="string"==typeof $t?$t.split("/"):$t}),[...V,{outlets:ue}]}if(te.segmentPath)return[...V,te.segmentPath]}return"string"!=typeof te?[...V,te]:0===ve?(te.split("/").forEach((ue,Je)=>{0==Je&&"."===ue||(0==Je&&""===ue?I=!0:".."===ue?A++:""!=ue&&V.push(ue))}),V):[...V,te]},[]);return new gr(I,A,P)}(A);if(te.toRoot())return Lr(V,V,new yn([],{}),I,P);const ve=function Zs(T,A,I){if(T.isAbsolute)return new ri(A,!0,0);if(!I)return new ri(A,!1,NaN);if(null===I.parent)return new ri(I,!0,0);const P=Rn(T.commands[0])?0:1;return function Ln(T,A,I){let P=T,V=A,te=I;for(;te>V;){if(te-=V,P=P.parent,!P)throw new p.vHH(4005,!1);V=P.segments.length}return new ri(P,!1,V-te)}(I,I.segments.length-1+P,T.numberOfDoubleDots)}(te,V,T),ue=ve.processChildren?Ri(ve.segmentGroup,ve.index,te.commands):ds(ve.segmentGroup,ve.index,te.commands);return Lr(V,ve.segmentGroup,ue,I,P)}function Rn(T){return"object"==typeof T&&null!=T&&!T.outlets&&!T.segmentPath}function ur(T){return"object"==typeof T&&null!=T&&T.outlets}function Lr(T,A,I,P,V){let ve,te={};P&&Object.entries(P).forEach(([Je,$t])=>{te[Je]=Array.isArray($t)?$t.map(Yn=>`${Yn}`):`${$t}`}),ve=T===A?I:Pi(T,A,I);const ue=Te(je(ve));return new Xn(ue,te,V)}function Pi(T,A,I){const P={};return Object.entries(T.children).forEach(([V,te])=>{P[V]=te===A?I:Pi(te,A,I)}),new yn(T.segments,P)}class gr{constructor(A,I,P){if(this.isAbsolute=A,this.numberOfDoubleDots=I,this.commands=P,A&&P.length>0&&Rn(P[0]))throw new p.vHH(4003,!1);const V=P.find(ur);if(V&&V!==_n(P))throw new p.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ri{constructor(A,I,P){this.segmentGroup=A,this.processChildren=I,this.index=P}}function ds(T,A,I){if(T||(T=new yn([],{})),0===T.segments.length&&T.hasChildren())return Ri(T,A,I);const P=function ks(T,A,I){let P=0,V=A;const te={match:!1,pathIndex:0,commandIndex:0};for(;V<T.segments.length;){if(P>=I.length)return te;const ve=T.segments[V],ue=I[P];if(ur(ue))break;const Je=`${ue}`,$t=P<I.length-1?I[P+1]:null;if(V>0&&void 0===Je)break;if(Je&&$t&&"object"==typeof $t&&void 0===$t.outlets){if(!Gr(Je,$t,ve))return te;P+=2}else{if(!Gr(Je,{},ve))return te;P++}V++}return{match:!0,pathIndex:V,commandIndex:P}}(T,A,I),V=I.slice(P.commandIndex);if(P.match&&P.pathIndex<T.segments.length){const te=new yn(T.segments.slice(0,P.pathIndex),{});return te.children[Xt]=new yn(T.segments.slice(P.pathIndex),T.children),Ri(te,0,V)}return P.match&&0===V.length?new yn(T.segments,{}):P.match&&!T.hasChildren()?Ls(T,A,I):P.match?Ri(T,0,V):Ls(T,A,I)}function Ri(T,A,I){if(0===I.length)return new yn(T.segments,{});{const P=function yi(T){return ur(T[0])?T[0].outlets:{[Xt]:T}}(I),V={};if(Object.keys(P).some(te=>te!==Xt)&&T.children[Xt]&&1===T.numberOfChildren&&0===T.children[Xt].segments.length){const te=Ri(T.children[Xt],A,I);return new yn(T.segments,te.children)}return Object.entries(P).forEach(([te,ve])=>{"string"==typeof ve&&(ve=[ve]),null!==ve&&(V[te]=ds(T.children[te],A,ve))}),Object.entries(T.children).forEach(([te,ve])=>{void 0===P[te]&&(V[te]=ve)}),new yn(T.segments,V)}}function Ls(T,A,I){const P=T.segments.slice(0,A);let V=0;for(;V<I.length;){const te=I[V];if(ur(te)){const Je=So(te.outlets);return new yn(P,Je)}if(0===V&&Rn(I[0])){P.push(new jr(T.segments[A].path,ys(I[0]))),V++;continue}const ve=ur(te)?te.outlets[Xt]:`${te}`,ue=V<I.length-1?I[V+1]:null;ve&&ue&&Rn(ue)?(P.push(new jr(ve,ys(ue))),V+=2):(P.push(new jr(ve,{})),V++)}return new yn(P,{})}function So(T){const A={};return Object.entries(T).forEach(([I,P])=>{"string"==typeof P&&(P=[P]),null!==P&&(A[I]=Ls(new yn([],{}),0,P))}),A}function ys(T){const A={};return Object.entries(T).forEach(([I,P])=>A[I]=`${P}`),A}function Gr(T,A,I){return T==I.path&&dn(A,I.parameters)}const Rs="imperative";class li{constructor(A,I){this.id=A,this.url=I}}class Gi extends li{constructor(A,I,P="imperative",V=null){super(A,I),this.type=0,this.navigationTrigger=P,this.restoredState=V}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class zi extends li{constructor(A,I,P){super(A,I),this.urlAfterRedirects=P,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Mi extends li{constructor(A,I,P,V){super(A,I),this.reason=P,this.code=V,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ts extends li{constructor(A,I,P,V){super(A,I),this.reason=P,this.code=V,this.type=16}}class Ci extends li{constructor(A,I,P,V){super(A,I),this.error=P,this.target=V,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class sa extends li{constructor(A,I,P,V){super(A,I),this.urlAfterRedirects=P,this.state=V,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wi extends li{constructor(A,I,P,V){super(A,I),this.urlAfterRedirects=P,this.state=V,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oa extends li{constructor(A,I,P,V,te){super(A,I),this.urlAfterRedirects=P,this.state=V,this.shouldActivate=te,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class zr extends li{constructor(A,I,P,V){super(A,I),this.urlAfterRedirects=P,this.state=V,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ns extends li{constructor(A,I,P,V){super(A,I),this.urlAfterRedirects=P,this.state=V,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wi{constructor(A){this.route=A,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Fs{constructor(A){this.route=A,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ao{constructor(A){this.snapshot=A,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qs{constructor(A){this.snapshot=A,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vs{constructor(A){this.snapshot=A,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vs{constructor(A){this.snapshot=A,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qi{constructor(A,I,P){this.routerEvent=A,this.position=I,this.anchor=P,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Wn{}class Fr{constructor(A){this.url=A}}class hs{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Wr,this.attachRef=null}}let Wr=(()=>{class T{constructor(){this.contexts=new Map}onChildOutletCreated(I,P){const V=this.getOrCreateContext(I);V.outlet=P,this.contexts.set(I,V)}onChildOutletDestroyed(I){const P=this.getContext(I);P&&(P.outlet=null,P.attachRef=null)}onOutletDeactivated(){const I=this.contexts;return this.contexts=new Map,I}onOutletReAttached(I){this.contexts=I}getOrCreateContext(I){let P=this.getContext(I);return P||(P=new hs,this.contexts.set(I,P)),P}getContext(I){return this.contexts.get(I)||null}static#e=this.\u0275fac=function(P){return new(P||T)};static#t=this.\u0275prov=p.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})();class hi{constructor(A){this._root=A}get root(){return this._root.value}parent(A){const I=this.pathFromRoot(A);return I.length>1?I[I.length-2]:null}children(A){const I=lo(A,this._root);return I?I.children.map(P=>P.value):[]}firstChild(A){const I=lo(A,this._root);return I&&I.children.length>0?I.children[0].value:null}siblings(A){const I=Ms(A,this._root);return I.length<2?[]:I[I.length-2].children.map(V=>V.value).filter(V=>V!==A)}pathFromRoot(A){return Ms(A,this._root).map(I=>I.value)}}function lo(T,A){if(T===A.value)return A;for(const I of A.children){const P=lo(T,I);if(P)return P}return null}function Ms(T,A){if(T===A.value)return[A];for(const I of A.children){const P=Ms(T,I);if(P.length)return P.unshift(A),P}return[]}class Ki{constructor(A,I){this.value=A,this.children=I}toString(){return`TreeNode(${this.value})`}}function fs(T){const A={};return T&&T.children.forEach(I=>A[I.value.outlet]=I),A}class Ur extends hi{constructor(A,I){super(A),this.snapshot=I,ar(this,A)}toString(){return this.snapshot.toString()}}function qt(T,A){const I=function Nn(T,A){const ve=new qr([],{},{},"",{},Xt,A,null,{});return new Di("",new Ki(ve,[]))}(0,A),P=new Z.X([new jr("",{})]),V=new Z.X({}),te=new Z.X({}),ve=new Z.X({}),ue=new Z.X(""),Je=new qn(P,V,ve,ue,te,Xt,A,I.root);return Je.snapshot=I.root,new Ur(new Ki(Je,[]),I)}class qn{constructor(A,I,P,V,te,ve,ue,Je){this.urlSubject=A,this.paramsSubject=I,this.queryParamsSubject=P,this.fragmentSubject=V,this.dataSubject=te,this.outlet=ve,this.component=ue,this._futureSnapshot=Je,this.title=this.dataSubject?.pipe((0,ut.U)($t=>$t[vn]))??(0,Q.of)(void 0),this.url=A,this.params=I,this.queryParams=P,this.fragment=V,this.data=te}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ut.U)(A=>Mn(A)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ut.U)(A=>Mn(A)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function fi(T,A="emptyOnly"){const I=T.pathFromRoot;let P=0;if("always"!==A)for(P=I.length-1;P>=1;){const V=I[P],te=I[P-1];if(V.routeConfig&&""===V.routeConfig.path)P--;else{if(te.component)break;P--}}return function xs(T){return T.reduce((A,I)=>({params:{...A.params,...I.params},data:{...A.data,...I.data},resolve:{...I.data,...A.resolve,...I.routeConfig?.data,...I._resolvedData}}),{params:{},data:{},resolve:{}})}(I.slice(P))}class qr{get title(){return this.data?.[vn]}constructor(A,I,P,V,te,ve,ue,Je,$t){this.url=A,this.params=I,this.queryParams=P,this.fragment=V,this.data=te,this.outlet=ve,this.component=ue,this.routeConfig=Je,this._resolve=$t}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Mn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Mn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(P=>P.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Di extends hi{constructor(A,I){super(I),this.url=A,ar(this,I)}toString(){return Ui(this._root)}}function ar(T,A){A.value._routerState=T,A.children.forEach(I=>ar(T,I))}function Ui(T){const A=T.children.length>0?` { ${T.children.map(Ui).join(", ")} } `:"";return`${T.value}${A}`}function Is(T){if(T.snapshot){const A=T.snapshot,I=T._futureSnapshot;T.snapshot=I,dn(A.queryParams,I.queryParams)||T.queryParamsSubject.next(I.queryParams),A.fragment!==I.fragment&&T.fragmentSubject.next(I.fragment),dn(A.params,I.params)||T.paramsSubject.next(I.params),function Pr(T,A){if(T.length!==A.length)return!1;for(let I=0;I<T.length;++I)if(!dn(T[I],A[I]))return!1;return!0}(A.url,I.url)||T.urlSubject.next(I.url),dn(A.data,I.data)||T.dataSubject.next(I.data)}else T.snapshot=T._futureSnapshot,T.dataSubject.next(T._futureSnapshot.data)}function Cn(T,A){const I=dn(T.params,A.params)&&function di(T,A){return kn(T,A)&&T.every((I,P)=>dn(I.parameters,A[P].parameters))}(T.url,A.url);return I&&!(!T.parent!=!A.parent)&&(!T.parent||Cn(T.parent,A.parent))}let Ai=(()=>{class T{constructor(){this.activated=null,this._activatedRoute=null,this.name=Xt,this.activateEvents=new p.vpe,this.deactivateEvents=new p.vpe,this.attachEvents=new p.vpe,this.detachEvents=new p.vpe,this.parentContexts=(0,p.f3M)(Wr),this.location=(0,p.f3M)(p.s_b),this.changeDetector=(0,p.f3M)(p.sBO),this.environmentInjector=(0,p.f3M)(p.lqb),this.inputBinder=(0,p.f3M)(Es,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(I){if(I.name){const{firstChange:P,previousValue:V}=I.name;if(P)return;this.isTrackedInParentContexts(V)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(V)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(I){return this.parentContexts.getContext(I)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const I=this.parentContexts.getContext(this.name);I?.route&&(I.attachRef?this.attach(I.attachRef,I.route):this.activateWith(I.route,I.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new p.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new p.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new p.vHH(4012,!1);this.location.detach();const I=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(I.instance),I}attach(I,P){this.activated=I,this._activatedRoute=P,this.location.insert(I.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(I.instance)}deactivate(){if(this.activated){const I=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(I)}}activateWith(I,P){if(this.isActivated)throw new p.vHH(4013,!1);this._activatedRoute=I;const V=this.location,ve=I.snapshot.component,ue=this.parentContexts.getOrCreateContext(this.name).children,Je=new rs(I,ue,V.injector);this.activated=V.createComponent(ve,{index:V.length,injector:Je,environmentInjector:P??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(P){return new(P||T)};static#t=this.\u0275dir=p.lG2({type:T,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[p.TTD]})}return T})();class rs{constructor(A,I,P){this.route=A,this.childContexts=I,this.parent=P}get(A,I){return A===qn?this.route:A===Wr?this.childContexts:this.parent.get(A,I)}}const Es=new p.OlP("");let Er=(()=>{class T{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(I){this.unsubscribeFromRouteData(I),this.subscribeToRouteData(I)}unsubscribeFromRouteData(I){this.outletDataSubscriptions.get(I)?.unsubscribe(),this.outletDataSubscriptions.delete(I)}subscribeToRouteData(I){const{activatedRoute:P}=I,V=dt([P.queryParams,P.params,P.data]).pipe((0,Tn.w)(([te,ve,ue],Je)=>(ue={...te,...ve,...ue},0===Je?(0,Q.of)(ue):Promise.resolve(ue)))).subscribe(te=>{if(!I.isActivated||!I.activatedComponentRef||I.activatedRoute!==P||null===P.component)return void this.unsubscribeFromRouteData(I);const ve=(0,p.qFp)(P.component);if(ve)for(const{templateName:ue}of ve.inputs)I.activatedComponentRef.setInput(ue,te[ue]);else this.unsubscribeFromRouteData(I)});this.outletDataSubscriptions.set(I,V)}static#e=this.\u0275fac=function(P){return new(P||T)};static#t=this.\u0275prov=p.Yz7({token:T,factory:T.\u0275fac})}return T})();function is(T,A,I){if(I&&T.shouldReuseRoute(A.value,I.value.snapshot)){const P=I.value;P._futureSnapshot=A.value;const V=function vi(T,A,I){return A.children.map(P=>{for(const V of I.children)if(T.shouldReuseRoute(P.value,V.value.snapshot))return is(T,P,V);return is(T,P)})}(T,A,I);return new Ki(P,V)}{if(T.shouldAttach(A.value)){const te=T.retrieve(A.value);if(null!==te){const ve=te.route;return ve.value._futureSnapshot=A.value,ve.children=A.children.map(ue=>is(T,ue)),ve}}const P=function uo(T){return new qn(new Z.X(T.url),new Z.X(T.params),new Z.X(T.queryParams),new Z.X(T.fragment),new Z.X(T.data),T.outlet,T.component,T)}(A.value),V=A.children.map(te=>is(T,te));return new Ki(P,V)}}const er="ngNavigationCancelingError";function xi(T,A){const{redirectTo:I,navigationBehaviorOptions:P}=Ut(A)?{redirectTo:A,navigationBehaviorOptions:void 0}:A,V=Br(!1,0,A);return V.url=I,V.navigationBehaviorOptions=P,V}function Br(T,A,I){const P=new Error("NavigationCancelingError: "+(T||""));return P[er]=!0,P.cancellationCode=A,I&&(P.url=I),P}function co(T){return T&&T[er]}let Bn=(()=>{class T{static#e=this.\u0275fac=function(P){return new(P||T)};static#t=this.\u0275cmp=p.Xpm({type:T,selectors:[["ng-component"]],standalone:!0,features:[p.jDz],decls:1,vars:0,template:function(P,V){1&P&&p._UZ(0,"router-outlet")},dependencies:[Ai],encapsulation:2})}return T})();function Kr(T){const A=T.children&&T.children.map(Kr),I=A?{...T,children:A}:{...T};return!I.component&&!I.loadComponent&&(A||I.loadChildren)&&I.outlet&&I.outlet!==Xt&&(I.component=Bn),I}function Mr(T){return T.outlet||Xt}function Hi(T){if(!T)return null;if(T.routeConfig?._injector)return T.routeConfig._injector;for(let A=T.parent;A;A=A.parent){const I=A.routeConfig;if(I?._loadedInjector)return I._loadedInjector;if(I?._injector)return I._injector}return null}class fo{constructor(A,I,P,V,te){this.routeReuseStrategy=A,this.futureState=I,this.currState=P,this.forwardEvent=V,this.inputBindingEnabled=te}activate(A){const I=this.futureState._root,P=this.currState?this.currState._root:null;this.deactivateChildRoutes(I,P,A),Is(this.futureState.root),this.activateChildRoutes(I,P,A)}deactivateChildRoutes(A,I,P){const V=fs(I);A.children.forEach(te=>{const ve=te.value.outlet;this.deactivateRoutes(te,V[ve],P),delete V[ve]}),Object.values(V).forEach(te=>{this.deactivateRouteAndItsChildren(te,P)})}deactivateRoutes(A,I,P){const V=A.value,te=I?I.value:null;if(V===te)if(V.component){const ve=P.getContext(V.outlet);ve&&this.deactivateChildRoutes(A,I,ve.children)}else this.deactivateChildRoutes(A,I,P);else te&&this.deactivateRouteAndItsChildren(I,P)}deactivateRouteAndItsChildren(A,I){A.value.component&&this.routeReuseStrategy.shouldDetach(A.value.snapshot)?this.detachAndStoreRouteSubtree(A,I):this.deactivateRouteAndOutlet(A,I)}detachAndStoreRouteSubtree(A,I){const P=I.getContext(A.value.outlet),V=P&&A.value.component?P.children:I,te=fs(A);for(const ve of Object.keys(te))this.deactivateRouteAndItsChildren(te[ve],V);if(P&&P.outlet){const ve=P.outlet.detach(),ue=P.children.onOutletDeactivated();this.routeReuseStrategy.store(A.value.snapshot,{componentRef:ve,route:A,contexts:ue})}}deactivateRouteAndOutlet(A,I){const P=I.getContext(A.value.outlet),V=P&&A.value.component?P.children:I,te=fs(A);for(const ve of Object.keys(te))this.deactivateRouteAndItsChildren(te[ve],V);P&&(P.outlet&&(P.outlet.deactivate(),P.children.onOutletDeactivated()),P.attachRef=null,P.route=null)}activateChildRoutes(A,I,P){const V=fs(I);A.children.forEach(te=>{this.activateRoutes(te,V[te.value.outlet],P),this.forwardEvent(new Vs(te.value.snapshot))}),A.children.length&&this.forwardEvent(new Qs(A.value.snapshot))}activateRoutes(A,I,P){const V=A.value,te=I?I.value:null;if(Is(V),V===te)if(V.component){const ve=P.getOrCreateContext(V.outlet);this.activateChildRoutes(A,I,ve.children)}else this.activateChildRoutes(A,I,P);else if(V.component){const ve=P.getOrCreateContext(V.outlet);if(this.routeReuseStrategy.shouldAttach(V.snapshot)){const ue=this.routeReuseStrategy.retrieve(V.snapshot);this.routeReuseStrategy.store(V.snapshot,null),ve.children.onOutletReAttached(ue.contexts),ve.attachRef=ue.componentRef,ve.route=ue.route.value,ve.outlet&&ve.outlet.attach(ue.componentRef,ue.route.value),Is(ue.route.value),this.activateChildRoutes(A,null,ve.children)}else{const ue=Hi(V.snapshot);ve.attachRef=null,ve.route=V,ve.injector=ue,ve.outlet&&ve.outlet.activateWith(V,ve.injector),this.activateChildRoutes(A,null,ve.children)}}else this.activateChildRoutes(A,null,P)}}class Mo{constructor(A){this.path=A,this.route=this.path[this.path.length-1]}}class Us{constructor(A,I){this.component=A,this.route=I}}function ua(T,A,I){const P=T._root;return ea(P,A?A._root:null,I,[P.value])}function po(T,A){const I=Symbol(),P=A.get(T,I);return P===I?"function"!=typeof T||(0,p.Z0I)(T)?A.get(T):T:P}function ea(T,A,I,P,V={canDeactivateChecks:[],canActivateChecks:[]}){const te=fs(A);return T.children.forEach(ve=>{(function Ba(T,A,I,P,V={canDeactivateChecks:[],canActivateChecks:[]}){const te=T.value,ve=A?A.value:null,ue=I?I.getContext(T.value.outlet):null;if(ve&&te.routeConfig===ve.routeConfig){const Je=function Aa(T,A,I){if("function"==typeof I)return I(T,A);switch(I){case"pathParamsChange":return!kn(T.url,A.url);case"pathParamsOrQueryParamsChange":return!kn(T.url,A.url)||!dn(T.queryParams,A.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Cn(T,A)||!dn(T.queryParams,A.queryParams);default:return!Cn(T,A)}}(ve,te,te.routeConfig.runGuardsAndResolvers);Je?V.canActivateChecks.push(new Mo(P)):(te.data=ve.data,te._resolvedData=ve._resolvedData),ea(T,A,te.component?ue?ue.children:null:I,P,V),Je&&ue&&ue.outlet&&ue.outlet.isActivated&&V.canDeactivateChecks.push(new Us(ue.outlet.component,ve))}else ve&&Tr(A,ue,V),V.canActivateChecks.push(new Mo(P)),ea(T,null,te.component?ue?ue.children:null:I,P,V)})(ve,te[ve.value.outlet],I,P.concat([ve.value]),V),delete te[ve.value.outlet]}),Object.entries(te).forEach(([ve,ue])=>Tr(ue,I.getContext(ve),V)),V}function Tr(T,A,I){const P=fs(T),V=T.value;Object.entries(P).forEach(([te,ve])=>{Tr(ve,V.component?A?A.children.getContext(te):null:A,I)}),I.canDeactivateChecks.push(new Us(V.component&&A&&A.outlet&&A.outlet.isActivated?A.outlet.component:null,V))}function Bs(T){return"function"==typeof T}function Oi(T){return T instanceof lt.K||"EmptyError"===T?.name}const Ts=Symbol("INITIAL_VALUE");function Ni(){return(0,Tn.w)(T=>dt(T.map(A=>A.pipe((0,Rt.q)(1),(0,Pt.O)(Ts)))).pipe((0,ut.U)(A=>{for(const I of A)if(!0!==I){if(I===Ts)return Ts;if(!1===I||I instanceof Xn)return I}return!0}),(0,kt.h)(A=>A!==Ts),(0,Rt.q)(1)))}function _o(T){return(0,Oe.z)((0,Fe.b)(A=>{if(Ut(A))throw xi(0,A)}),(0,ut.U)(A=>!0===A))}class Js{constructor(A){this.segmentGroup=A||null}}class Xs{constructor(A){this.urlTree=A}}function ws(T){return he(new Js(T))}function xo(T){return he(new Xs(T))}class Ha{constructor(A,I){this.urlSerializer=A,this.urlTree=I}noMatchError(A){return new p.vHH(4002,!1)}lineralizeSegments(A,I){let P=[],V=I.root;for(;;){if(P=P.concat(V.segments),0===V.numberOfChildren)return(0,Q.of)(P);if(V.numberOfChildren>1||!V.children[Xt])return he(new p.vHH(4e3,!1));V=V.children[Xt]}}applyRedirectCommands(A,I,P){return this.applyRedirectCreateUrlTree(I,this.urlSerializer.parse(I),A,P)}applyRedirectCreateUrlTree(A,I,P,V){const te=this.createSegmentGroup(A,I.root,P,V);return new Xn(te,this.createQueryParams(I.queryParams,this.urlTree.queryParams),I.fragment)}createQueryParams(A,I){const P={};return Object.entries(A).forEach(([V,te])=>{if("string"==typeof te&&te.startsWith(":")){const ue=te.substring(1);P[V]=I[ue]}else P[V]=te}),P}createSegmentGroup(A,I,P,V){const te=this.createSegments(A,I.segments,P,V);let ve={};return Object.entries(I.children).forEach(([ue,Je])=>{ve[ue]=this.createSegmentGroup(A,Je,P,V)}),new yn(te,ve)}createSegments(A,I,P,V){return I.map(te=>te.path.startsWith(":")?this.findPosParam(A,te,V):this.findOrReturn(te,P))}findPosParam(A,I,P){const V=P[I.path.substring(1)];if(!V)throw new p.vHH(4001,!1);return V}findOrReturn(A,I){let P=0;for(const V of I){if(V.path===A.path)return I.splice(P),V;P++}return A}}const eo={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ta(T,A,I,P,V){const te=Hs(T,A,I);return te.matched?(P=function Ys(T,A){return T.providers&&!T._injector&&(T._injector=(0,p.MMx)(T.providers,A,`Route: ${T.path}`)),T._injector??A}(A,P),function Os(T,A,I,P){const V=A.canMatch;if(!V||0===V.length)return(0,Q.of)(!0);const te=V.map(ve=>{const ue=po(ve,T);return on(function xe(T){return T&&Bs(T.canMatch)}(ue)?ue.canMatch(A,I):T.runInContext(()=>ue(A,I)))});return(0,Q.of)(te).pipe(Ni(),_o())}(P,A,I).pipe((0,ut.U)(ve=>!0===ve?te:{...eo}))):(0,Q.of)(te)}function Hs(T,A,I){if(""===A.path)return"full"===A.pathMatch&&(T.hasChildren()||I.length>0)?{...eo}:{matched:!0,consumedSegments:[],remainingSegments:I,parameters:{},positionalParamSegments:{}};const V=(A.matcher||Jn)(I,T,A);if(!V)return{...eo};const te={};Object.entries(V.posParams??{}).forEach(([ue,Je])=>{te[ue]=Je.path});const ve=V.consumed.length>0?{...te,...V.consumed[V.consumed.length-1].parameters}:te;return{matched:!0,consumedSegments:V.consumed,remainingSegments:I.slice(V.consumed.length),parameters:ve,positionalParamSegments:V.posParams??{}}}function js(T,A,I,P){return I.length>0&&function fa(T,A,I){return I.some(P=>$o(T,A,P)&&Mr(P)!==Xt)}(T,I,P)?{segmentGroup:new yn(A,gl(P,new yn(I,T.children))),slicedSegments:[]}:0===I.length&&function ja(T,A,I){return I.some(P=>$o(T,A,P))}(T,I,P)?{segmentGroup:new yn(T.segments,to(T,0,I,P,T.children)),slicedSegments:I}:{segmentGroup:new yn(T.segments,T.children),slicedSegments:I}}function to(T,A,I,P,V){const te={};for(const ve of P)if($o(T,I,ve)&&!V[Mr(ve)]){const ue=new yn([],{});te[Mr(ve)]=ue}return{...V,...te}}function gl(T,A){const I={};I[Xt]=A;for(const P of T)if(""===P.path&&Mr(P)!==Xt){const V=new yn([],{});I[Mr(P)]=V}return I}function $o(T,A,I){return(!(T.hasChildren()||A.length>0)||"full"!==I.pathMatch)&&""===I.path}class Sa{constructor(A,I,P,V,te,ve,ue){this.injector=A,this.configLoader=I,this.rootComponentType=P,this.config=V,this.urlTree=te,this.paramsInheritanceStrategy=ve,this.urlSerializer=ue,this.allowRedirects=!0,this.applyRedirects=new Ha(this.urlSerializer,this.urlTree)}noMatchError(A){return new p.vHH(4002,!1)}recognize(){const A=js(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,A,Xt).pipe(Ke(I=>{if(I instanceof Xs)return this.allowRedirects=!1,this.urlTree=I.urlTree,this.match(I.urlTree);throw I instanceof Js?this.noMatchError(I):I}),(0,ut.U)(I=>{const P=new qr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Xt,this.rootComponentType,null,{}),V=new Ki(P,I),te=new Di("",V),ve=function yt(T,A,I=null,P=null){return pr(gn(T),A,I,P)}(P,[],this.urlTree.queryParams,this.urlTree.fragment);return ve.queryParams=this.urlTree.queryParams,te.url=this.urlSerializer.serialize(ve),this.inheritParamsAndData(te._root),{state:te,tree:ve}}))}match(A){return this.processSegmentGroup(this.injector,this.config,A.root,Xt).pipe(Ke(P=>{throw P instanceof Js?this.noMatchError(P):P}))}inheritParamsAndData(A){const I=A.value,P=fi(I,this.paramsInheritanceStrategy);I.params=Object.freeze(P.params),I.data=Object.freeze(P.data),A.children.forEach(V=>this.inheritParamsAndData(V))}processSegmentGroup(A,I,P,V){return 0===P.segments.length&&P.hasChildren()?this.processChildren(A,I,P):this.processSegment(A,I,P,P.segments,V,!0)}processChildren(A,I,P){const V=[];for(const te of Object.keys(P.children))"primary"===te?V.unshift(te):V.push(te);return(0,B.D)(V).pipe((0,qe.b)(te=>{const ve=P.children[te],ue=function la(T,A){const I=T.filter(P=>Mr(P)===A);return I.push(...T.filter(P=>Mr(P)!==A)),I}(I,te);return this.processSegmentGroup(A,ue,ve,te)}),(0,ct.R)((te,ve)=>(te.push(...ve),te)),(0,At.d)(null),function cn(T,A){const I=arguments.length>=2;return P=>P.pipe(T?(0,kt.h)((V,te)=>T(V,te,P)):ce.y,vt(1),I?(0,At.d)(A):(0,Dn.T)(()=>new lt.K))}(),(0,Se.z)(te=>{if(null===te)return ws(P);const ve=Qi(te);return function ml(T){T.sort((A,I)=>A.value.outlet===Xt?-1:I.value.outlet===Xt?1:A.value.outlet.localeCompare(I.value.outlet))}(ve),(0,Q.of)(ve)}))}processSegment(A,I,P,V,te,ve){return(0,B.D)(I).pipe((0,qe.b)(ue=>this.processSegmentAgainstRoute(ue._injector??A,I,ue,P,V,te,ve).pipe(Ke(Je=>{if(Je instanceof Js)return(0,Q.of)(null);throw Je}))),(0,ke.P)(ue=>!!ue),Ke(ue=>{if(Oi(ue))return function jl(T,A,I){return 0===A.length&&!T.children[I]}(P,V,te)?(0,Q.of)([]):ws(P);throw ue}))}processSegmentAgainstRoute(A,I,P,V,te,ve,ue){return function Oo(T,A,I,P){return!!(Mr(T)===P||P!==Xt&&$o(A,I,T))&&("**"===T.path||Hs(A,T,I).matched)}(P,V,te,ve)?void 0===P.redirectTo?this.matchSegmentAgainstRoute(A,V,P,te,ve,ue):ue&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(A,V,I,P,te,ve):ws(V):ws(V)}expandSegmentAgainstRouteUsingRedirect(A,I,P,V,te,ve){return"**"===V.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(A,P,V,ve):this.expandRegularSegmentAgainstRouteUsingRedirect(A,I,P,V,te,ve)}expandWildCardWithParamsAgainstRouteUsingRedirect(A,I,P,V){const te=this.applyRedirects.applyRedirectCommands([],P.redirectTo,{});return P.redirectTo.startsWith("/")?xo(te):this.applyRedirects.lineralizeSegments(P,te).pipe((0,Se.z)(ve=>{const ue=new yn(ve,{});return this.processSegment(A,I,ue,ve,V,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(A,I,P,V,te,ve){const{matched:ue,consumedSegments:Je,remainingSegments:$t,positionalParamSegments:Yn}=Hs(I,V,te);if(!ue)return ws(I);const Kn=this.applyRedirects.applyRedirectCommands(Je,V.redirectTo,Yn);return V.redirectTo.startsWith("/")?xo(Kn):this.applyRedirects.lineralizeSegments(V,Kn).pipe((0,Se.z)(Un=>this.processSegment(A,P,I,Un.concat($t),ve,!1)))}matchSegmentAgainstRoute(A,I,P,V,te,ve){let ue;if("**"===P.path){const Je=V.length>0?_n(V).parameters:{},$t=new qr(V,Je,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,$a(P),Mr(P),P.component??P._loadedComponent??null,P,b(P));ue=(0,Q.of)({snapshot:$t,consumedSegments:[],remainingSegments:[]}),I.children={}}else ue=ta(I,P,V,A).pipe((0,ut.U)(({matched:Je,consumedSegments:$t,remainingSegments:Yn,parameters:Kn})=>Je?{snapshot:new qr($t,Kn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,$a(P),Mr(P),P.component??P._loadedComponent??null,P,b(P)),consumedSegments:$t,remainingSegments:Yn}:null));return ue.pipe((0,Tn.w)(Je=>null===Je?ws(I):this.getChildConfig(A=P._injector??A,P,V).pipe((0,Tn.w)(({routes:$t})=>{const Yn=P._loadedInjector??A,{snapshot:Kn,consumedSegments:Un,remainingSegments:Nr}=Je,{segmentGroup:Eo,slicedSegments:Wa}=js(I,Un,Nr,$t);if(0===Wa.length&&Eo.hasChildren())return this.processChildren(Yn,$t,Eo).pipe((0,ut.U)(Ra=>null===Ra?null:[new Ki(Kn,Ra)]));if(0===$t.length&&0===Wa.length)return(0,Q.of)([new Ki(Kn,[])]);const yl=Mr(P)===te;return this.processSegment(Yn,$t,Eo,Wa,yl?Xt:te,!0).pipe((0,ut.U)(Ra=>[new Ki(Kn,Ra)]))}))))}getChildConfig(A,I,P){return I.children?(0,Q.of)({routes:I.children,injector:A}):I.loadChildren?void 0!==I._loadedRoutes?(0,Q.of)({routes:I._loadedRoutes,injector:I._loadedInjector}):function ha(T,A,I,P){const V=A.canLoad;if(void 0===V||0===V.length)return(0,Q.of)(!0);const te=V.map(ve=>{const ue=po(ve,T);return on(function z(T){return T&&Bs(T.canLoad)}(ue)?ue.canLoad(A,I):T.runInContext(()=>ue(A,I)))});return(0,Q.of)(te).pipe(Ni(),_o())}(A,I,P).pipe((0,Se.z)(V=>V?this.configLoader.loadChildren(A,I).pipe((0,Fe.b)(te=>{I._loadedRoutes=te.routes,I._loadedInjector=te.injector})):function yo(T){return he(Br(!1,3))}())):(0,Q.of)({routes:[],injector:A})}}function vo(T){const A=T.value.routeConfig;return A&&""===A.path}function Qi(T){const A=[],I=new Set;for(const P of T){if(!vo(P)){A.push(P);continue}const V=A.find(te=>P.value.routeConfig===te.value.routeConfig);void 0!==V?(V.children.push(...P.children),I.add(V)):A.push(P)}for(const P of I){const V=Qi(P.children);A.push(new Ki(P.value,V))}return A.filter(P=>!I.has(P))}function $a(T){return T.data||{}}function b(T){return T.resolve||{}}function en(T){return"string"==typeof T.title||null===T.title}function cr(T){return(0,Tn.w)(A=>{const I=T(A);return I?(0,B.D)(I).pipe((0,ut.U)(()=>A)):(0,Q.of)(A)})}const dr=new p.OlP("ROUTES");let nr=(()=>{class T{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,p.f3M)(p.Sil)}loadComponent(I){if(this.componentLoaders.get(I))return this.componentLoaders.get(I);if(I._loadedComponent)return(0,Q.of)(I._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(I);const P=on(I.loadComponent()).pipe((0,ut.U)(hr),(0,Fe.b)(te=>{this.onLoadEndListener&&this.onLoadEndListener(I),I._loadedComponent=te}),(0,pn.x)(()=>{this.componentLoaders.delete(I)})),V=new Ie(P,()=>new Vt.x).pipe(rt());return this.componentLoaders.set(I,V),V}loadChildren(I,P){if(this.childrenLoaders.get(P))return this.childrenLoaders.get(P);if(P._loadedRoutes)return(0,Q.of)({routes:P._loadedRoutes,injector:P._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(P);const te=function $n(T,A,I,P){return on(T.loadChildren()).pipe((0,ut.U)(hr),(0,Se.z)(V=>V instanceof p.YKP||Array.isArray(V)?(0,Q.of)(V):(0,B.D)(A.compileModuleAsync(V))),(0,ut.U)(V=>{P&&P(T);let te,ve,ue=!1;return Array.isArray(V)?(ve=V,!0):(te=V.create(I).injector,ve=te.get(dr,[],{optional:!0,self:!0}).flat()),{routes:ve.map(Kr),injector:te}}))}(P,this.compiler,I,this.onLoadEndListener).pipe((0,pn.x)(()=>{this.childrenLoaders.delete(P)})),ve=new Ie(te,()=>new Vt.x).pipe(rt());return this.childrenLoaders.set(P,ve),ve}static#e=this.\u0275fac=function(P){return new(P||T)};static#t=this.\u0275prov=p.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})();function hr(T){return function Zr(T){return T&&"object"==typeof T&&"default"in T}(T)?T.default:T}let rr=(()=>{class T{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Vt.x,this.transitionAbortSubject=new Vt.x,this.configLoader=(0,p.f3M)(nr),this.environmentInjector=(0,p.f3M)(p.lqb),this.urlSerializer=(0,p.f3M)(oi),this.rootContexts=(0,p.f3M)(Wr),this.inputBindingEnabled=null!==(0,p.f3M)(Es,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Q.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=V=>this.events.next(new Fs(V)),this.configLoader.onLoadStartListener=V=>this.events.next(new Wi(V))}complete(){this.transitions?.complete()}handleNavigationRequest(I){const P=++this.navigationId;this.transitions?.next({...this.transitions.value,...I,id:P})}setupNavigations(I,P,V){return this.transitions=new Z.X({id:0,currentUrlTree:P,currentRawUrl:P,currentBrowserUrl:P,extractedUrl:I.urlHandlingStrategy.extract(P),urlAfterRedirects:I.urlHandlingStrategy.extract(P),rawUrl:P,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Rs,restoredState:null,currentSnapshot:V.snapshot,targetSnapshot:null,currentRouterState:V,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,kt.h)(te=>0!==te.id),(0,ut.U)(te=>({...te,extractedUrl:I.urlHandlingStrategy.extract(te.rawUrl)})),(0,Tn.w)(te=>{this.currentTransition=te;let ve=!1,ue=!1;return(0,Q.of)(te).pipe((0,Fe.b)(Je=>{this.currentNavigation={id:Je.id,initialUrl:Je.rawUrl,extractedUrl:Je.extractedUrl,trigger:Je.source,extras:Je.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Tn.w)(Je=>{const $t=Je.currentBrowserUrl.toString(),Yn=!I.navigated||Je.extractedUrl.toString()!==$t||$t!==Je.currentUrlTree.toString();if(!Yn&&"reload"!==(Je.extras.onSameUrlNavigation??I.onSameUrlNavigation)){const Un="";return this.events.next(new ts(Je.id,this.urlSerializer.serialize(Je.rawUrl),Un,0)),Je.resolve(null),ge.E}if(I.urlHandlingStrategy.shouldProcessUrl(Je.rawUrl))return(0,Q.of)(Je).pipe((0,Tn.w)(Un=>{const Nr=this.transitions?.getValue();return this.events.next(new Gi(Un.id,this.urlSerializer.serialize(Un.extractedUrl),Un.source,Un.restoredState)),Nr!==this.transitions?.getValue()?ge.E:Promise.resolve(Un)}),function Y(T,A,I,P,V,te){return(0,Se.z)(ve=>function pa(T,A,I,P,V,te,ve="emptyOnly"){return new Sa(T,A,I,P,V,ve,te).recognize()}(T,A,I,P,ve.extractedUrl,V,te).pipe((0,ut.U)(({state:ue,tree:Je})=>({...ve,targetSnapshot:ue,urlAfterRedirects:Je}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,I.config,this.urlSerializer,I.paramsInheritanceStrategy),(0,Fe.b)(Un=>{te.targetSnapshot=Un.targetSnapshot,te.urlAfterRedirects=Un.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Un.urlAfterRedirects};const Nr=new sa(Un.id,this.urlSerializer.serialize(Un.extractedUrl),this.urlSerializer.serialize(Un.urlAfterRedirects),Un.targetSnapshot);this.events.next(Nr)}));if(Yn&&I.urlHandlingStrategy.shouldProcessUrl(Je.currentRawUrl)){const{id:Un,extractedUrl:Nr,source:Eo,restoredState:Wa,extras:yl}=Je,Ra=new Gi(Un,this.urlSerializer.serialize(Nr),Eo,Wa);this.events.next(Ra);const Ic=qt(0,this.rootComponentType).snapshot;return this.currentTransition=te={...Je,targetSnapshot:Ic,urlAfterRedirects:Nr,extras:{...yl,skipLocationChange:!1,replaceUrl:!1}},(0,Q.of)(te)}{const Un="";return this.events.next(new ts(Je.id,this.urlSerializer.serialize(Je.extractedUrl),Un,1)),Je.resolve(null),ge.E}}),(0,Fe.b)(Je=>{const $t=new wi(Je.id,this.urlSerializer.serialize(Je.extractedUrl),this.urlSerializer.serialize(Je.urlAfterRedirects),Je.targetSnapshot);this.events.next($t)}),(0,ut.U)(Je=>(this.currentTransition=te={...Je,guards:ua(Je.targetSnapshot,Je.currentSnapshot,this.rootContexts)},te)),function go(T,A){return(0,Se.z)(I=>{const{targetSnapshot:P,currentSnapshot:V,guards:{canActivateChecks:te,canDeactivateChecks:ve}}=I;return 0===ve.length&&0===te.length?(0,Q.of)({...I,guardsResult:!0}):function Xr(T,A,I,P){return(0,B.D)(T).pipe((0,Se.z)(V=>function Zi(T,A,I,P,V){const te=A&&A.routeConfig?A.routeConfig.canDeactivate:null;if(!te||0===te.length)return(0,Q.of)(!0);const ve=te.map(ue=>{const Je=Hi(A)??V,$t=po(ue,Je);return on(function ie(T){return T&&Bs(T.canDeactivate)}($t)?$t.canDeactivate(T,A,I,P):Je.runInContext(()=>$t(T,A,I,P))).pipe((0,ke.P)())});return(0,Q.of)(ve).pipe(Ni())}(V.component,V.route,I,A,P)),(0,ke.P)(V=>!0!==V,!0))}(ve,P,V,T).pipe((0,Se.z)(ue=>ue&&function ca(T){return"boolean"==typeof T}(ue)?function ki(T,A,I,P){return(0,B.D)(A).pipe((0,qe.b)(V=>(0,bt.z)(function da(T,A){return null!==T&&A&&A(new ao(T)),(0,Q.of)(!0)}(V.route.parent,P),function Cs(T,A){return null!==T&&A&&A(new vs(T)),(0,Q.of)(!0)}(V.route,P),function mo(T,A,I){const P=A[A.length-1],te=A.slice(0,A.length-1).reverse().map(ve=>function gs(T){const A=T.routeConfig?T.routeConfig.canActivateChild:null;return A&&0!==A.length?{node:T,guards:A}:null}(ve)).filter(ve=>null!==ve).map(ve=>le(()=>{const ue=ve.guards.map(Je=>{const $t=Hi(ve.node)??I,Yn=po(Je,$t);return on(function x(T){return T&&Bs(T.canActivateChild)}(Yn)?Yn.canActivateChild(P,T):$t.runInContext(()=>Yn(P,T))).pipe((0,ke.P)())});return(0,Q.of)(ue).pipe(Ni())}));return(0,Q.of)(te).pipe(Ni())}(T,V.path,I),function Hr(T,A,I){const P=A.routeConfig?A.routeConfig.canActivate:null;if(!P||0===P.length)return(0,Q.of)(!0);const V=P.map(te=>le(()=>{const ve=Hi(A)??I,ue=po(te,ve);return on(function K(T){return T&&Bs(T.canActivate)}(ue)?ue.canActivate(A,T):ve.runInContext(()=>ue(A,T))).pipe((0,ke.P)())}));return(0,Q.of)(V).pipe(Ni())}(T,V.route,I))),(0,ke.P)(V=>!0!==V,!0))}(P,te,T,A):(0,Q.of)(ue)),(0,ut.U)(ue=>({...I,guardsResult:ue})))})}(this.environmentInjector,Je=>this.events.next(Je)),(0,Fe.b)(Je=>{if(te.guardsResult=Je.guardsResult,Ut(Je.guardsResult))throw xi(0,Je.guardsResult);const $t=new oa(Je.id,this.urlSerializer.serialize(Je.extractedUrl),this.urlSerializer.serialize(Je.urlAfterRedirects),Je.targetSnapshot,!!Je.guardsResult);this.events.next($t)}),(0,kt.h)(Je=>!!Je.guardsResult||(this.cancelNavigationTransition(Je,"",3),!1)),cr(Je=>{if(Je.guards.canActivateChecks.length)return(0,Q.of)(Je).pipe((0,Fe.b)($t=>{const Yn=new zr($t.id,this.urlSerializer.serialize($t.extractedUrl),this.urlSerializer.serialize($t.urlAfterRedirects),$t.targetSnapshot);this.events.next(Yn)}),(0,Tn.w)($t=>{let Yn=!1;return(0,Q.of)($t).pipe(function O(T,A){return(0,Se.z)(I=>{const{targetSnapshot:P,guards:{canActivateChecks:V}}=I;if(!V.length)return(0,Q.of)(I);let te=0;return(0,B.D)(V).pipe((0,qe.b)(ve=>function q(T,A,I,P){const V=T.routeConfig,te=T._resolve;return void 0!==V?.title&&!en(V)&&(te[vn]=V.title),function pe(T,A,I,P){const V=function st(T){return[...Object.keys(T),...Object.getOwnPropertySymbols(T)]}(T);if(0===V.length)return(0,Q.of)({});const te={};return(0,B.D)(V).pipe((0,Se.z)(ve=>function gt(T,A,I,P){const V=Hi(A)??P,te=po(T,V);return on(te.resolve?te.resolve(A,I):V.runInContext(()=>te(A,I)))}(T[ve],A,I,P).pipe((0,ke.P)(),(0,Fe.b)(ue=>{te[ve]=ue}))),vt(1),function On(T){return(0,ut.U)(()=>T)}(te),Ke(ve=>Oi(ve)?ge.E:he(ve)))}(te,T,A,P).pipe((0,ut.U)(ve=>(T._resolvedData=ve,T.data=fi(T,I).resolve,V&&en(V)&&(T.data[vn]=V.title),null)))}(ve.route,P,T,A)),(0,Fe.b)(()=>te++),vt(1),(0,Se.z)(ve=>te===V.length?(0,Q.of)(I):ge.E))})}(I.paramsInheritanceStrategy,this.environmentInjector),(0,Fe.b)({next:()=>Yn=!0,complete:()=>{Yn||this.cancelNavigationTransition($t,"",2)}}))}),(0,Fe.b)($t=>{const Yn=new ns($t.id,this.urlSerializer.serialize($t.extractedUrl),this.urlSerializer.serialize($t.urlAfterRedirects),$t.targetSnapshot);this.events.next(Yn)}))}),cr(Je=>{const $t=Yn=>{const Kn=[];Yn.routeConfig?.loadComponent&&!Yn.routeConfig._loadedComponent&&Kn.push(this.configLoader.loadComponent(Yn.routeConfig).pipe((0,Fe.b)(Un=>{Yn.component=Un}),(0,ut.U)(()=>{})));for(const Un of Yn.children)Kn.push(...$t(Un));return Kn};return dt($t(Je.targetSnapshot.root)).pipe((0,At.d)(),(0,Rt.q)(1))}),cr(()=>this.afterPreactivation()),(0,ut.U)(Je=>{const $t=function Jr(T,A,I){const P=is(T,A._root,I?I._root:void 0);return new Ur(P,A)}(I.routeReuseStrategy,Je.targetSnapshot,Je.currentRouterState);return this.currentTransition=te={...Je,targetRouterState:$t},te}),(0,Fe.b)(()=>{this.events.next(new Wn)}),((T,A,I,P)=>(0,ut.U)(V=>(new fo(A,V.targetRouterState,V.currentRouterState,I,P).activate(T),V)))(this.rootContexts,I.routeReuseStrategy,Je=>this.events.next(Je),this.inputBindingEnabled),(0,Rt.q)(1),(0,Fe.b)({next:Je=>{ve=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new zi(Je.id,this.urlSerializer.serialize(Je.extractedUrl),this.urlSerializer.serialize(Je.urlAfterRedirects))),I.titleStrategy?.updateTitle(Je.targetRouterState.snapshot),Je.resolve(!0)},complete:()=>{ve=!0}}),function fn(T){return(0,ye.e)((A,I)=>{(0,ft.Xf)(T).subscribe((0,He.x)(I,()=>I.complete(),zn.Z)),!I.closed&&A.subscribe(I)})}(this.transitionAbortSubject.pipe((0,Fe.b)(Je=>{throw Je}))),(0,pn.x)(()=>{ve||ue||this.cancelNavigationTransition(te,"",1),this.currentNavigation?.id===te.id&&(this.currentNavigation=null)}),Ke(Je=>{if(ue=!0,co(Je))this.events.next(new Mi(te.id,this.urlSerializer.serialize(te.extractedUrl),Je.message,Je.cancellationCode)),function Bi(T){return co(T)&&Ut(T.url)}(Je)?this.events.next(new Fr(Je.url)):te.resolve(!1);else{this.events.next(new Ci(te.id,this.urlSerializer.serialize(te.extractedUrl),Je,te.targetSnapshot??void 0));try{te.resolve(I.errorHandler(Je))}catch($t){te.reject($t)}}return ge.E}))}))}cancelNavigationTransition(I,P,V){const te=new Mi(I.id,this.urlSerializer.serialize(I.extractedUrl),P,V);this.events.next(te),I.resolve(!1)}static#e=this.\u0275fac=function(P){return new(P||T)};static#t=this.\u0275prov=p.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})();function Or(T){return T!==Rs}let ss=(()=>{class T{buildTitle(I){let P,V=I.root;for(;void 0!==V;)P=this.getResolvedTitleForRoute(V)??P,V=V.children.find(te=>te.outlet===Xt);return P}getResolvedTitleForRoute(I){return I.data[vn]}static#e=this.\u0275fac=function(P){return new(P||T)};static#t=this.\u0275prov=p.Yz7({token:T,factory:function(){return(0,p.f3M)(no)},providedIn:"root"})}return T})(),no=(()=>{class T extends ss{constructor(I){super(),this.title=I}updateTitle(I){const P=this.buildTitle(I);void 0!==P&&this.title.setTitle(P)}static#e=this.\u0275fac=function(P){return new(P||T)(p.LFG(An.Dx))};static#t=this.\u0275prov=p.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})(),Li=(()=>{class T{static#e=this.\u0275fac=function(P){return new(P||T)};static#t=this.\u0275prov=p.Yz7({token:T,factory:function(){return(0,p.f3M)(Fi)},providedIn:"root"})}return T})();class $s{shouldDetach(A){return!1}store(A,I){}shouldAttach(A){return!1}retrieve(A){return null}shouldReuseRoute(A,I){return A.routeConfig===I.routeConfig}}let Fi=(()=>{class T extends $s{static#e=this.\u0275fac=function(){let I;return function(V){return(I||(I=p.n5z(T)))(V||T)}}();static#t=this.\u0275prov=p.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})();const os=new p.OlP("",{providedIn:"root",factory:()=>({})});let Du=(()=>{class T{static#e=this.\u0275fac=function(P){return new(P||T)};static#t=this.\u0275prov=p.Yz7({token:T,factory:function(){return(0,p.f3M)(ei)},providedIn:"root"})}return T})(),ei=(()=>{class T{shouldProcessUrl(I){return!0}extract(I){return I}merge(I,P){return I}static#e=this.\u0275fac=function(P){return new(P||T)};static#t=this.\u0275prov=p.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})();var H=function(T){return T[T.COMPLETE=0]="COMPLETE",T[T.FAILED=1]="FAILED",T[T.REDIRECTING=2]="REDIRECTING",T}(H||{});function v(T,A){T.events.pipe((0,kt.h)(I=>I instanceof zi||I instanceof Mi||I instanceof Ci||I instanceof ts),(0,ut.U)(I=>I instanceof zi||I instanceof ts?H.COMPLETE:I instanceof Mi&&(0===I.code||1===I.code)?H.REDIRECTING:H.FAILED),(0,kt.h)(I=>I!==H.REDIRECTING),(0,Rt.q)(1)).subscribe(()=>{A()})}function y(T){throw T}function R(T,A,I){return A.parse("/")}const G={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ne={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let be=(()=>{class T{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,p.f3M)(p.c2e),this.isNgZoneEnabled=!1,this._events=new Vt.x,this.options=(0,p.f3M)(os,{optional:!0})||{},this.pendingTasks=(0,p.f3M)(p.HDt),this.errorHandler=this.options.errorHandler||y,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||R,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,p.f3M)(Du),this.routeReuseStrategy=(0,p.f3M)(Li),this.titleStrategy=(0,p.f3M)(ss),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,p.f3M)(dr,{optional:!0})?.flat()??[],this.navigationTransitions=(0,p.f3M)(rr),this.urlSerializer=(0,p.f3M)(oi),this.location=(0,p.f3M)(It.Ye),this.componentInputBindingEnabled=!!(0,p.f3M)(Es,{optional:!0}),this.eventsSubscription=new De.w0,this.isNgZoneEnabled=(0,p.f3M)(p.R0b)instanceof p.R0b&&p.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Xn,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=qt(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(I=>{this.lastSuccessfulId=I.id,this.currentPageId=this.browserPageId},I=>{this.console.warn(`Unhandled Navigation Error: ${I}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const I=this.navigationTransitions.events.subscribe(P=>{try{const{currentTransition:V}=this.navigationTransitions;if(null===V)return void(Xe(P)&&this._events.next(P));if(P instanceof Gi)Or(V.source)&&(this.browserUrlTree=V.extractedUrl);else if(P instanceof ts)this.rawUrlTree=V.rawUrl;else if(P instanceof sa){if("eager"===this.urlUpdateStrategy){if(!V.extras.skipLocationChange){const te=this.urlHandlingStrategy.merge(V.urlAfterRedirects,V.rawUrl);this.setBrowserUrl(te,V)}this.browserUrlTree=V.urlAfterRedirects}}else if(P instanceof Wn)this.currentUrlTree=V.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(V.urlAfterRedirects,V.rawUrl),this.routerState=V.targetRouterState,"deferred"===this.urlUpdateStrategy&&(V.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,V),this.browserUrlTree=V.urlAfterRedirects);else if(P instanceof Mi)0!==P.code&&1!==P.code&&(this.navigated=!0),(3===P.code||2===P.code)&&this.restoreHistory(V);else if(P instanceof Fr){const te=this.urlHandlingStrategy.merge(P.url,V.currentRawUrl),ve={skipLocationChange:V.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Or(V.source)};this.scheduleNavigation(te,Rs,null,ve,{resolve:V.resolve,reject:V.reject,promise:V.promise})}P instanceof Ci&&this.restoreHistory(V,!0),P instanceof zi&&(this.navigated=!0),Xe(P)&&this._events.next(P)}catch(V){this.navigationTransitions.transitionAbortSubject.next(V)}});this.eventsSubscription.add(I)}resetRootComponentType(I){this.routerState.root.component=I,this.navigationTransitions.rootComponentType=I}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const I=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Rs,I)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(I=>{const P="popstate"===I.type?"popstate":"hashchange";"popstate"===P&&setTimeout(()=>{this.navigateToSyncWithBrowser(I.url,P,I.state)},0)}))}navigateToSyncWithBrowser(I,P,V){const te={replaceUrl:!0},ve=V?.navigationId?V:null;if(V){const Je={...V};delete Je.navigationId,delete Je.\u0275routerPageId,0!==Object.keys(Je).length&&(te.state=Je)}const ue=this.parseUrl(I);this.scheduleNavigation(ue,P,ve,te)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(I){this.config=I.map(Kr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(I,P={}){const{relativeTo:V,queryParams:te,fragment:ve,queryParamsHandling:ue,preserveFragment:Je}=P,$t=Je?this.currentUrlTree.fragment:ve;let Kn,Yn=null;switch(ue){case"merge":Yn={...this.currentUrlTree.queryParams,...te};break;case"preserve":Yn=this.currentUrlTree.queryParams;break;default:Yn=te||null}null!==Yn&&(Yn=this.removeEmptyProps(Yn));try{Kn=gn(V?V.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof I[0]||!I[0].startsWith("/"))&&(I=[]),Kn=this.currentUrlTree.root}return pr(Kn,I,Yn,$t??null)}navigateByUrl(I,P={skipLocationChange:!1}){const V=Ut(I)?I:this.parseUrl(I),te=this.urlHandlingStrategy.merge(V,this.rawUrlTree);return this.scheduleNavigation(te,Rs,null,P)}navigate(I,P={skipLocationChange:!1}){return function Ne(T){for(let A=0;A<T.length;A++)if(null==T[A])throw new p.vHH(4008,!1)}(I),this.navigateByUrl(this.createUrlTree(I,P),P)}serializeUrl(I){return this.urlSerializer.serialize(I)}parseUrl(I){let P;try{P=this.urlSerializer.parse(I)}catch(V){P=this.malformedUriErrorHandler(V,this.urlSerializer,I)}return P}isActive(I,P){let V;if(V=!0===P?{...G}:!1===P?{...ne}:P,Ut(I))return Ye(this.currentUrlTree,I,V);const te=this.parseUrl(I);return Ye(this.currentUrlTree,te,V)}removeEmptyProps(I){return Object.keys(I).reduce((P,V)=>{const te=I[V];return null!=te&&(P[V]=te),P},{})}scheduleNavigation(I,P,V,te,ve){if(this.disposed)return Promise.resolve(!1);let ue,Je,$t;ve?(ue=ve.resolve,Je=ve.reject,$t=ve.promise):$t=new Promise((Kn,Un)=>{ue=Kn,Je=Un});const Yn=this.pendingTasks.add();return v(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Yn))}),this.navigationTransitions.handleNavigationRequest({source:P,restoredState:V,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:I,extras:te,resolve:ue,reject:Je,promise:$t,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),$t.catch(Kn=>Promise.reject(Kn))}setBrowserUrl(I,P){const V=this.urlSerializer.serialize(I);if(this.location.isCurrentPathEqualTo(V)||P.extras.replaceUrl){const ve={...P.extras.state,...this.generateNgRouterState(P.id,this.browserPageId)};this.location.replaceState(V,"",ve)}else{const te={...P.extras.state,...this.generateNgRouterState(P.id,this.browserPageId+1)};this.location.go(V,"",te)}}restoreHistory(I,P=!1){if("computed"===this.canceledNavigationResolution){const te=this.currentPageId-this.browserPageId;0!==te?this.location.historyGo(te):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===te&&(this.resetState(I),this.browserUrlTree=I.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(P&&this.resetState(I),this.resetUrlToCurrentUrlTree())}resetState(I){this.routerState=I.currentRouterState,this.currentUrlTree=I.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,I.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(I,P){return"computed"===this.canceledNavigationResolution?{navigationId:I,\u0275routerPageId:P}:{navigationId:I}}static#e=this.\u0275fac=function(P){return new(P||T)};static#t=this.\u0275prov=p.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})();function Xe(T){return!(T instanceof Wn||T instanceof Fr)}class Gn{}let xn=(()=>{class T{preload(I,P){return P().pipe(Ke(()=>(0,Q.of)(null)))}static#e=this.\u0275fac=function(P){return new(P||T)};static#t=this.\u0275prov=p.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})(),ot=(()=>{class T{constructor(I,P,V,te,ve){this.router=I,this.injector=V,this.preloadingStrategy=te,this.loader=ve}setUpPreloading(){this.subscription=this.router.events.pipe((0,kt.h)(I=>I instanceof zi),(0,qe.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(I,P){const V=[];for(const te of P){te.providers&&!te._injector&&(te._injector=(0,p.MMx)(te.providers,I,`Route: ${te.path}`));const ve=te._injector??I,ue=te._loadedInjector??ve;(te.loadChildren&&!te._loadedRoutes&&void 0===te.canLoad||te.loadComponent&&!te._loadedComponent)&&V.push(this.preloadConfig(ve,te)),(te.children||te._loadedRoutes)&&V.push(this.processRoutes(ue,te.children??te._loadedRoutes))}return(0,B.D)(V).pipe((0,jn.J)())}preloadConfig(I,P){return this.preloadingStrategy.preload(P,()=>{let V;V=P.loadChildren&&void 0===P.canLoad?this.loader.loadChildren(I,P):(0,Q.of)(null);const te=V.pipe((0,Se.z)(ve=>null===ve?(0,Q.of)(void 0):(P._loadedRoutes=ve.routes,P._loadedInjector=ve.injector,this.processRoutes(ve.injector??I,ve.routes))));if(P.loadComponent&&!P._loadedComponent){const ve=this.loader.loadComponent(P);return(0,B.D)([te,ve]).pipe((0,jn.J)())}return te})}static#e=this.\u0275fac=function(P){return new(P||T)(p.LFG(be),p.LFG(p.Sil),p.LFG(p.lqb),p.LFG(Gn),p.LFG(nr))};static#t=this.\u0275prov=p.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"})}return T})();const Fn=new p.OlP("");let Qt=(()=>{class T{constructor(I,P,V,te,ve={}){this.urlSerializer=I,this.transitions=P,this.viewportScroller=V,this.zone=te,this.options=ve,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},ve.scrollPositionRestoration=ve.scrollPositionRestoration||"disabled",ve.anchorScrolling=ve.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(I=>{I instanceof Gi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=I.navigationTrigger,this.restoredId=I.restoredState?I.restoredState.navigationId:0):I instanceof zi?(this.lastId=I.id,this.scheduleScrollEvent(I,this.urlSerializer.parse(I.urlAfterRedirects).fragment)):I instanceof ts&&0===I.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(I,this.urlSerializer.parse(I.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(I=>{I instanceof qi&&(I.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(I.position):I.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(I.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(I,P){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new qi(I,"popstate"===this.lastSource?this.store[this.restoredId]:null,P))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(P){p.$Z()};static#t=this.\u0275prov=p.Yz7({token:T,factory:T.\u0275fac})}return T})();function Ht(T,A){return{\u0275kind:T,\u0275providers:A}}function Vr(){const T=(0,p.f3M)(p.zs3);return A=>{const I=T.get(p.z2F);if(A!==I.components[0])return;const P=T.get(be),V=T.get(Io);1===T.get(Pa)&&P.initialNavigation(),T.get(fr,null,p.XFs.Optional)?.setUpPreloading(),T.get(Fn,null,p.XFs.Optional)?.init(),P.resetRootComponentType(I.componentTypes[0]),V.closed||(V.next(),V.complete(),V.unsubscribe())}}const Io=new p.OlP("",{factory:()=>new Vt.x}),Pa=new p.OlP("",{providedIn:"root",factory:()=>1}),fr=new p.OlP("");function nn(T){return Ht(0,[{provide:fr,useExisting:ot},{provide:Gn,useExisting:T}])}const ui=new p.OlP("ROUTER_FORROOT_GUARD"),ro=[It.Ye,{provide:oi,useClass:ai},be,Wr,{provide:qn,useFactory:function Bt(T){return T.routerState.root},deps:[be]},nr,[]];function Vn(){return new p.PXZ("Router",be)}let hn=(()=>{class T{constructor(I){}static forRoot(I,P){return{ngModule:T,providers:[ro,[],{provide:dr,multi:!0,useValue:I},{provide:ui,useFactory:Qn,deps:[[be,new p.FiY,new p.tp0]]},{provide:os,useValue:P||{}},P?.useHash?{provide:It.S$,useClass:It.Do}:{provide:It.S$,useClass:It.b0},{provide:Fn,useFactory:()=>{const T=(0,p.f3M)(It.EM),A=(0,p.f3M)(p.R0b),I=(0,p.f3M)(os),P=(0,p.f3M)(rr),V=(0,p.f3M)(oi);return I.scrollOffset&&T.setOffset(I.scrollOffset),new Qt(V,P,T,A,I)}},P?.preloadingStrategy?nn(P.preloadingStrategy).\u0275providers:[],{provide:p.PXZ,multi:!0,useFactory:Vn},P?.initialNavigation?Ft(P):[],P?.bindToComponentInputs?Ht(8,[Er,{provide:Es,useExisting:Er}]).\u0275providers:[],[{provide:Yi,useFactory:Vr},{provide:p.tb,multi:!0,useExisting:Yi}]]}}static forChild(I){return{ngModule:T,providers:[{provide:dr,multi:!0,useValue:I}]}}static#e=this.\u0275fac=function(P){return new(P||T)(p.LFG(ui,8))};static#t=this.\u0275mod=p.oAB({type:T});static#n=this.\u0275inj=p.cJS({})}return T})();function Qn(T){return"guarded"}function Ft(T){return["disabled"===T.initialNavigation?Ht(3,[{provide:p.ip1,multi:!0,useFactory:()=>{const A=(0,p.f3M)(be);return()=>{A.setUpLocationChangeListener()}}},{provide:Pa,useValue:2}]).\u0275providers:[],"enabledBlocking"===T.initialNavigation?Ht(2,[{provide:Pa,useValue:0},{provide:p.ip1,multi:!0,deps:[p.zs3],useFactory:A=>{const I=A.get(It.V_,Promise.resolve());return()=>I.then(()=>new Promise(P=>{const V=A.get(be),te=A.get(Io);v(V,()=>{P(!0)}),A.get(rr).afterPreactivation=()=>(P(!0),te.closed?(0,Q.of)(void 0):te),V.initialNavigation()}))}}]).\u0275providers:[]]}const Yi=new p.OlP("")},3106:(Nt,$e,F)=>{F.d($e,{Z:()=>dt});var p=F(9058),L=F(4537),_=F(534),Ce=F(7879);class B{constructor(it,lt){this._delegate=it,this.firebase=lt,(0,_._addComponent)(it,new L.wA("app-compat",()=>this,"PUBLIC")),this.container=it.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(it){this._delegate.automaticDataCollectionEnabled=it}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(it=>{this._delegate.checkDestroyed(),it()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,_.deleteApp)(this._delegate)))}_getService(it,lt=_._DEFAULT_ENTRY_NAME){var bt;this._delegate.checkDestroyed();const ft=this._delegate.container.getProvider(it);return!ft.isInitialized()&&"EXPLICIT"===(null===(bt=ft.getComponent())||void 0===bt?void 0:bt.instantiationMode)&&ft.initialize(),ft.getImmediate({identifier:lt})}_removeServiceInstance(it,lt=_._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(it).clearInstance(lt)}_addComponent(it){(0,_._addComponent)(this._delegate,it)}_addOrOverwriteComponent(it){(0,_._addOrOverwriteComponent)(this._delegate,it)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Z=new p.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),J=function ce(){const nt=function se(nt){const it={},lt={__esModule:!0,initializeApp:function le(De,ye={}){const rt=_.initializeApp(De,ye);if((0,p.r3)(it,rt.name))return it[rt.name];const Ie=new nt(rt,lt);return it[rt.name]=Ie,Ie},app:ft,registerVersion:_.registerVersion,setLogLevel:_.setLogLevel,onLog:_.onLog,apps:null,SDK_VERSION:_.SDK_VERSION,INTERNAL:{registerComponent:function he(De){const ye=De.name,rt=ye.replace("-compat","");if(_._registerComponent(De)&&"PUBLIC"===De.type){const Ie=(Vt=ft())=>{if("function"!=typeof Vt[rt])throw Z.create("invalid-app-argument",{appName:ye});return Vt[rt]()};void 0!==De.serviceProps&&(0,p.ZB)(Ie,De.serviceProps),lt[rt]=Ie,nt.prototype[rt]=function(...Vt){return this._getService.bind(this,ye).apply(this,De.multipleInstances?Vt:[])}}return"PUBLIC"===De.type?lt[rt]:null},removeApp:function bt(De){delete it[De]},useAsService:function ge(De,ye){return"serverAuth"===ye?null:ye},modularAPIs:_}};function ft(De){if(!(0,p.r3)(it,De=De||_._DEFAULT_ENTRY_NAME))throw Z.create("no-app",{appName:De});return it[De]}return lt.default=lt,Object.defineProperty(lt,"apps",{get:function Oe(){return Object.keys(it).map(De=>it[De])}}),ft.App=nt,lt}(B);return nt.INTERNAL=Object.assign(Object.assign({},nt.INTERNAL),{createFirebaseNamespace:ce,extendNamespace:function it(lt){(0,p.ZB)(nt,lt)},createSubscribe:p.ne,ErrorFactory:p.LL,deepExtend:p.ZB}),nt}(),ae=new Ce.Yd("@firebase/app-compat");if((0,p.jU)()&&void 0!==self.firebase){ae.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const nt=self.firebase.SDK_VERSION;nt&&nt.indexOf("LITE")>=0&&ae.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const dt=J;!function We(nt){(0,_.registerVersion)("@firebase/app-compat","0.2.29",nt)}()},534:(Nt,$e,F)=>{F.r($e),F.d($e,{FirebaseError:()=>Ce.ZR,SDK_VERSION:()=>yn,_DEFAULT_ENTRY_NAME:()=>ln,_addComponent:()=>Ir,_addOrOverwriteComponent:()=>Ye,_apps:()=>on,_clearComponents:()=>Ze,_components:()=>or,_getProvider:()=>Re,_registerComponent:()=>St,_removeServiceInstance:()=>Ge,deleteApp:()=>Ar,getApp:()=>di,getApps:()=>kn,initializeApp:()=>jr,onLog:()=>Ti,registerVersion:()=>ai,setLogLevel:()=>$r});var p=F(5861),L=F(4537),_=F(7879),Ce=F(9058);const B=(Ee,Te)=>Te.some(je=>Ee instanceof je);let Q,Z;const J=new WeakMap,ae=new WeakMap,we=new WeakMap,He=new WeakMap,We=new WeakMap;let it={get(Ee,Te,je){if(Ee instanceof IDBTransaction){if("done"===Te)return ae.get(Ee);if("objectStoreNames"===Te)return Ee.objectStoreNames||we.get(Ee);if("store"===Te)return je.objectStoreNames[1]?void 0:je.objectStore(je.objectStoreNames[0])}return le(Ee[Te])},set:(Ee,Te,je)=>(Ee[Te]=je,!0),has:(Ee,Te)=>Ee instanceof IDBTransaction&&("done"===Te||"store"===Te)||Te in Ee};function ft(Ee){return"function"==typeof Ee?function bt(Ee){return Ee!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ce(){return Z||(Z=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Ee)?function(...Te){return Ee.apply(Oe(this),Te),le(J.get(this))}:function(...Te){return le(Ee.apply(Oe(this),Te))}:function(Te,...je){const Qe=Ee.call(Oe(this),Te,...je);return we.set(Qe,Te.sort?Te.sort():[Te]),le(Qe)}}(Ee):(Ee instanceof IDBTransaction&&function nt(Ee){if(ae.has(Ee))return;const Te=new Promise((je,Qe)=>{const Ut=()=>{Ee.removeEventListener("complete",yt),Ee.removeEventListener("error",gn),Ee.removeEventListener("abort",gn)},yt=()=>{je(),Ut()},gn=()=>{Qe(Ee.error||new DOMException("AbortError","AbortError")),Ut()};Ee.addEventListener("complete",yt),Ee.addEventListener("error",gn),Ee.addEventListener("abort",gn)});ae.set(Ee,Te)}(Ee),B(Ee,function se(){return Q||(Q=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Ee,it):Ee)}function le(Ee){if(Ee instanceof IDBRequest)return function dt(Ee){const Te=new Promise((je,Qe)=>{const Ut=()=>{Ee.removeEventListener("success",yt),Ee.removeEventListener("error",gn)},yt=()=>{je(le(Ee.result)),Ut()},gn=()=>{Qe(Ee.error),Ut()};Ee.addEventListener("success",yt),Ee.addEventListener("error",gn)});return Te.then(je=>{je instanceof IDBCursor&&J.set(je,Ee)}).catch(()=>{}),We.set(Te,Ee),Te}(Ee);if(He.has(Ee))return He.get(Ee);const Te=ft(Ee);return Te!==Ee&&(He.set(Ee,Te),We.set(Te,Ee)),Te}const Oe=Ee=>We.get(Ee),De=["get","getKey","getAll","getAllKeys","count"],ye=["put","add","delete","clear"],rt=new Map;function Ie(Ee,Te){if(!(Ee instanceof IDBDatabase)||Te in Ee||"string"!=typeof Te)return;if(rt.get(Te))return rt.get(Te);const je=Te.replace(/FromIndex$/,""),Qe=Te!==je,Ut=ye.includes(je);if(!(je in(Qe?IDBIndex:IDBObjectStore).prototype)||!Ut&&!De.includes(je))return;const yt=function(){var gn=(0,p.Z)(function*(pr,...Rn){const ur=this.transaction(pr,Ut?"readwrite":"readonly");let Lr=ur.store;return Qe&&(Lr=Lr.index(Rn.shift())),(yield Promise.all([Lr[je](...Rn),Ut&&ur.done]))[0]});return function(Rn){return gn.apply(this,arguments)}}();return rt.set(Te,yt),yt}!function lt(Ee){it=Ee(it)}(Ee=>({...Ee,get:(Te,je,Qe)=>Ie(Te,je)||Ee.get(Te,je,Qe),has:(Te,je)=>!!Ie(Te,je)||Ee.has(Te,je)}));class Vt{constructor(Te){this.container=Te}getPlatformInfoString(){return this.container.getProviders().map(je=>{if(function It(Ee){const Te=Ee.getComponent();return"VERSION"===Te?.type}(je)){const Qe=je.getImmediate();return`${Qe.library}/${Qe.version}`}return null}).filter(je=>je).join(" ")}}const ut="@firebase/app",Rt=new _.Yd("@firebase/app"),ln="[DEFAULT]",_n={[ut]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},on=new Map,or=new Map;function Ir(Ee,Te){try{Ee.container.addComponent(Te)}catch(je){Rt.debug(`Component ${Te.name} failed to register with FirebaseApp ${Ee.name}`,je)}}function Ye(Ee,Te){Ee.container.addOrOverwriteComponent(Te)}function St(Ee){const Te=Ee.name;if(or.has(Te))return Rt.debug(`There were multiple attempts to register component ${Te}.`),!1;or.set(Te,Ee);for(const je of on.values())Ir(je,Ee);return!0}function Re(Ee,Te){const je=Ee.container.getProvider("heartbeat").getImmediate({optional:!0});return je&&je.triggerHeartbeat(),Ee.container.getProvider(Te)}function Ge(Ee,Te,je=ln){Re(Ee,Te).clearInstance(je)}function Ze(){or.clear()}const Mt=new Ce.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Xn{constructor(Te,je,Qe){this._isDeleted=!1,this._options=Object.assign({},Te),this._config=Object.assign({},je),this._name=je.name,this._automaticDataCollectionEnabled=je.automaticDataCollectionEnabled,this._container=Qe,this.container.addComponent(new L.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Te){this.checkDestroyed(),this._automaticDataCollectionEnabled=Te}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Te){this._isDeleted=Te}checkDestroyed(){if(this.isDeleted)throw Mt.create("app-deleted",{appName:this._name})}}const yn="10.9.0";function jr(Ee,Te={}){let je=Ee;"object"!=typeof Te&&(Te={name:Te});const Qe=Object.assign({name:ln,automaticDataCollectionEnabled:!1},Te),Ut=Qe.name;if("string"!=typeof Ut||!Ut)throw Mt.create("bad-app-name",{appName:String(Ut)});if(je||(je=(0,Ce.aH)()),!je)throw Mt.create("no-options");const yt=on.get(Ut);if(yt){if((0,Ce.vZ)(je,yt.options)&&(0,Ce.vZ)(Qe,yt.config))return yt;throw Mt.create("duplicate-app",{appName:Ut})}const gn=new L.H0(Ut);for(const Rn of or.values())gn.addComponent(Rn);const pr=new Xn(je,Qe,gn);return on.set(Ut,pr),pr}function di(Ee=ln){const Te=on.get(Ee);if(!Te&&Ee===ln&&(0,Ce.aH)())return jr();if(!Te)throw Mt.create("no-app",{appName:Ee});return Te}function kn(){return Array.from(on.values())}function Ar(Ee){return oi.apply(this,arguments)}function oi(){return(oi=(0,p.Z)(function*(Ee){const Te=Ee.name;on.has(Te)&&(on.delete(Te),yield Promise.all(Ee.container.getProviders().map(je=>je.delete())),Ee.isDeleted=!0)})).apply(this,arguments)}function ai(Ee,Te,je){var Qe;let Ut=null!==(Qe=_n[Ee])&&void 0!==Qe?Qe:Ee;je&&(Ut+=`-${je}`);const yt=Ut.match(/\s|\//),gn=Te.match(/\s|\//);if(yt||gn){const pr=[`Unable to register library "${Ut}" with version "${Te}":`];return yt&&pr.push(`library name "${Ut}" contains illegal characters (whitespace or "/")`),yt&&gn&&pr.push("and"),gn&&pr.push(`version name "${Te}" contains illegal characters (whitespace or "/")`),void Rt.warn(pr.join(" "))}St(new L.wA(`${Ut}-version`,()=>({library:Ut,version:Te}),"VERSION"))}function Ti(Ee,Te){if(null!==Ee&&"function"!=typeof Ee)throw Mt.create("invalid-log-argument");(0,_.Am)(Ee,Te)}function $r(Ee){(0,_.Ub)(Ee)}const kr="firebase-heartbeat-database",Yr=1,Ae="firebase-heartbeat-store";let re=null;function $(){return re||(re=function he(Ee,Te,{blocked:je,upgrade:Qe,blocking:Ut,terminated:yt}={}){const gn=indexedDB.open(Ee,Te),pr=le(gn);return Qe&&gn.addEventListener("upgradeneeded",Rn=>{Qe(le(gn.result),Rn.oldVersion,Rn.newVersion,le(gn.transaction),Rn)}),je&&gn.addEventListener("blocked",Rn=>je(Rn.oldVersion,Rn.newVersion,Rn)),pr.then(Rn=>{yt&&Rn.addEventListener("close",()=>yt()),Ut&&Rn.addEventListener("versionchange",ur=>Ut(ur.oldVersion,ur.newVersion,ur))}).catch(()=>{}),pr}(kr,Yr,{upgrade:(Ee,Te)=>{if(0===Te)try{Ee.createObjectStore(Ae)}catch(je){console.warn(je)}}}).catch(Ee=>{throw Mt.create("idb-open",{originalErrorMessage:Ee.message})})),re}function N(){return(N=(0,p.Z)(function*(Ee){try{const je=(yield $()).transaction(Ae),Qe=yield je.objectStore(Ae).get(pt(Ee));return yield je.done,Qe}catch(Te){if(Te instanceof Ce.ZR)Rt.warn(Te.message);else{const je=Mt.create("idb-get",{originalErrorMessage:Te?.message});Rt.warn(je.message)}}})).apply(this,arguments)}function de(Ee,Te){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,p.Z)(function*(Ee,Te){try{const Qe=(yield $()).transaction(Ae,"readwrite");yield Qe.objectStore(Ae).put(Te,pt(Ee)),yield Qe.done}catch(je){if(je instanceof Ce.ZR)Rt.warn(je.message);else{const Qe=Mt.create("idb-set",{originalErrorMessage:je?.message});Rt.warn(Qe.message)}}})).apply(this,arguments)}function pt(Ee){return`${Ee.name}!${Ee.options.appId}`}class Wt{constructor(Te){this.container=Te,this._heartbeatsCache=null;const je=this.container.getProvider("app").getImmediate();this._storage=new Me(je),this._heartbeatsCachePromise=this._storage.read().then(Qe=>(this._heartbeatsCache=Qe,Qe))}triggerHeartbeat(){var Te=this;return(0,p.Z)(function*(){var je,Qe;const yt=Te.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),gn=an();if((null!=(null===(je=Te._heartbeatsCache)||void 0===je?void 0:je.heartbeats)||(Te._heartbeatsCache=yield Te._heartbeatsCachePromise,null!=(null===(Qe=Te._heartbeatsCache)||void 0===Qe?void 0:Qe.heartbeats)))&&Te._heartbeatsCache.lastSentHeartbeatDate!==gn&&!Te._heartbeatsCache.heartbeats.some(pr=>pr.date===gn))return Te._heartbeatsCache.heartbeats.push({date:gn,agent:yt}),Te._heartbeatsCache.heartbeats=Te._heartbeatsCache.heartbeats.filter(pr=>{const Rn=new Date(pr.date).valueOf();return Date.now()-Rn<=2592e6}),Te._storage.overwrite(Te._heartbeatsCache)})()}getHeartbeatsHeader(){var Te=this;return(0,p.Z)(function*(){var je;if(null===Te._heartbeatsCache&&(yield Te._heartbeatsCachePromise),null==(null===(je=Te._heartbeatsCache)||void 0===je?void 0:je.heartbeats)||0===Te._heartbeatsCache.heartbeats.length)return"";const Qe=an(),{heartbeatsToSend:Ut,unsentEntries:yt}=function Zn(Ee,Te=1024){const je=[];let Qe=Ee.slice();for(const Ut of Ee){const yt=je.find(gn=>gn.agent===Ut.agent);if(yt){if(yt.dates.push(Ut.date),_e(je)>Te){yt.dates.pop();break}}else if(je.push({agent:Ut.agent,dates:[Ut.date]}),_e(je)>Te){je.pop();break}Qe=Qe.slice(1)}return{heartbeatsToSend:je,unsentEntries:Qe}}(Te._heartbeatsCache.heartbeats),gn=(0,Ce.L)(JSON.stringify({version:2,heartbeats:Ut}));return Te._heartbeatsCache.lastSentHeartbeatDate=Qe,yt.length>0?(Te._heartbeatsCache.heartbeats=yt,yield Te._storage.overwrite(Te._heartbeatsCache)):(Te._heartbeatsCache.heartbeats=[],Te._storage.overwrite(Te._heartbeatsCache)),gn})()}}function an(){return(new Date).toISOString().substring(0,10)}class Me{constructor(Te){this.app=Te,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,p.Z)(function*(){return!!(0,Ce.hl)()&&(0,Ce.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Te=this;return(0,p.Z)(function*(){if(yield Te._canUseIndexedDBPromise){const Qe=yield function k(Ee){return N.apply(this,arguments)}(Te.app);return Qe?.heartbeats?Qe:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(Te){var je=this;return(0,p.Z)(function*(){var Qe;if(yield je._canUseIndexedDBPromise){const yt=yield je.read();return de(je.app,{lastSentHeartbeatDate:null!==(Qe=Te.lastSentHeartbeatDate)&&void 0!==Qe?Qe:yt.lastSentHeartbeatDate,heartbeats:Te.heartbeats})}})()}add(Te){var je=this;return(0,p.Z)(function*(){var Qe;if(yield je._canUseIndexedDBPromise){const yt=yield je.read();return de(je.app,{lastSentHeartbeatDate:null!==(Qe=Te.lastSentHeartbeatDate)&&void 0!==Qe?Qe:yt.lastSentHeartbeatDate,heartbeats:[...yt.heartbeats,...Te.heartbeats]})}})()}}function _e(Ee){return(0,Ce.L)(JSON.stringify({version:2,heartbeats:Ee})).length}!function Pe(Ee){St(new L.wA("platform-logger",Te=>new Vt(Te),"PRIVATE")),St(new L.wA("heartbeat",Te=>new Wt(Te),"PRIVATE")),ai(ut,"0.9.29",Ee),ai(ut,"0.9.29","esm2017"),ai("fire-js","")}("")},4537:(Nt,$e,F)=>{F.d($e,{H0:()=>se,wA:()=>_});var p=F(5861),L=F(9058);class _{constructor(J,ae,we){this.name=J,this.instanceFactory=ae,this.type=we,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(J){return this.instantiationMode=J,this}setMultipleInstances(J){return this.multipleInstances=J,this}setServiceProps(J){return this.serviceProps=J,this}setInstanceCreatedCallback(J){return this.onInstanceCreated=J,this}}const Ce="[DEFAULT]";class B{constructor(J,ae){this.name=J,this.container=ae,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(J){const ae=this.normalizeInstanceIdentifier(J);if(!this.instancesDeferred.has(ae)){const we=new L.BH;if(this.instancesDeferred.set(ae,we),this.isInitialized(ae)||this.shouldAutoInitialize())try{const He=this.getOrInitializeService({instanceIdentifier:ae});He&&we.resolve(He)}catch{}}return this.instancesDeferred.get(ae).promise}getImmediate(J){var ae;const we=this.normalizeInstanceIdentifier(J?.identifier),He=null!==(ae=J?.optional)&&void 0!==ae&&ae;if(!this.isInitialized(we)&&!this.shouldAutoInitialize()){if(He)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:we})}catch(We){if(He)return null;throw We}}getComponent(){return this.component}setComponent(J){if(J.name!==this.name)throw Error(`Mismatching Component ${J.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=J,this.shouldAutoInitialize()){if(function Z(ce){return"EAGER"===ce.instantiationMode}(J))try{this.getOrInitializeService({instanceIdentifier:Ce})}catch{}for(const[ae,we]of this.instancesDeferred.entries()){const He=this.normalizeInstanceIdentifier(ae);try{const We=this.getOrInitializeService({instanceIdentifier:He});we.resolve(We)}catch{}}}}clearInstance(J=Ce){this.instancesDeferred.delete(J),this.instancesOptions.delete(J),this.instances.delete(J)}delete(){var J=this;return(0,p.Z)(function*(){const ae=Array.from(J.instances.values());yield Promise.all([...ae.filter(we=>"INTERNAL"in we).map(we=>we.INTERNAL.delete()),...ae.filter(we=>"_delete"in we).map(we=>we._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(J=Ce){return this.instances.has(J)}getOptions(J=Ce){return this.instancesOptions.get(J)||{}}initialize(J={}){const{options:ae={}}=J,we=this.normalizeInstanceIdentifier(J.instanceIdentifier);if(this.isInitialized(we))throw Error(`${this.name}(${we}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const He=this.getOrInitializeService({instanceIdentifier:we,options:ae});for(const[We,dt]of this.instancesDeferred.entries())we===this.normalizeInstanceIdentifier(We)&&dt.resolve(He);return He}onInit(J,ae){var we;const He=this.normalizeInstanceIdentifier(ae),We=null!==(we=this.onInitCallbacks.get(He))&&void 0!==we?we:new Set;We.add(J),this.onInitCallbacks.set(He,We);const dt=this.instances.get(He);return dt&&J(dt,He),()=>{We.delete(J)}}invokeOnInitCallbacks(J,ae){const we=this.onInitCallbacks.get(ae);if(we)for(const He of we)try{He(J,ae)}catch{}}getOrInitializeService({instanceIdentifier:J,options:ae={}}){let we=this.instances.get(J);if(!we&&this.component&&(we=this.component.instanceFactory(this.container,{instanceIdentifier:(ce=J,ce===Ce?void 0:ce),options:ae}),this.instances.set(J,we),this.instancesOptions.set(J,ae),this.invokeOnInitCallbacks(we,J),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,J,we)}catch{}var ce;return we||null}normalizeInstanceIdentifier(J=Ce){return this.component?this.component.multipleInstances?J:Ce:J}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class se{constructor(J){this.name=J,this.providers=new Map}addComponent(J){const ae=this.getProvider(J.name);if(ae.isComponentSet())throw new Error(`Component ${J.name} has already been registered with ${this.name}`);ae.setComponent(J)}addOrOverwriteComponent(J){this.getProvider(J.name).isComponentSet()&&this.providers.delete(J.name),this.addComponent(J)}getProvider(J){if(this.providers.has(J))return this.providers.get(J);const ae=new B(J,this);return this.providers.set(J,ae),ae}getProviders(){return Array.from(this.providers.values())}}},7879:(Nt,$e,F)=>{F.d($e,{Am:()=>ce,Ub:()=>se,Yd:()=>Z,in:()=>L});const p=[];var L=function(J){return J[J.DEBUG=0]="DEBUG",J[J.VERBOSE=1]="VERBOSE",J[J.INFO=2]="INFO",J[J.WARN=3]="WARN",J[J.ERROR=4]="ERROR",J[J.SILENT=5]="SILENT",J}(L||{});const _={debug:L.DEBUG,verbose:L.VERBOSE,info:L.INFO,warn:L.WARN,error:L.ERROR,silent:L.SILENT},Ce=L.INFO,B={[L.DEBUG]:"log",[L.VERBOSE]:"log",[L.INFO]:"info",[L.WARN]:"warn",[L.ERROR]:"error"},Q=(J,ae,...we)=>{if(ae<J.logLevel)return;const He=(new Date).toISOString(),We=B[ae];if(!We)throw new Error(`Attempted to log a message with an invalid logType (value: ${ae})`);console[We](`[${He}]  ${J.name}:`,...we)};class Z{constructor(ae){this.name=ae,this._logLevel=Ce,this._logHandler=Q,this._userLogHandler=null,p.push(this)}get logLevel(){return this._logLevel}set logLevel(ae){if(!(ae in L))throw new TypeError(`Invalid value "${ae}" assigned to \`logLevel\``);this._logLevel=ae}setLogLevel(ae){this._logLevel="string"==typeof ae?_[ae]:ae}get logHandler(){return this._logHandler}set logHandler(ae){if("function"!=typeof ae)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ae}get userLogHandler(){return this._userLogHandler}set userLogHandler(ae){this._userLogHandler=ae}debug(...ae){this._userLogHandler&&this._userLogHandler(this,L.DEBUG,...ae),this._logHandler(this,L.DEBUG,...ae)}log(...ae){this._userLogHandler&&this._userLogHandler(this,L.VERBOSE,...ae),this._logHandler(this,L.VERBOSE,...ae)}info(...ae){this._userLogHandler&&this._userLogHandler(this,L.INFO,...ae),this._logHandler(this,L.INFO,...ae)}warn(...ae){this._userLogHandler&&this._userLogHandler(this,L.WARN,...ae),this._logHandler(this,L.WARN,...ae)}error(...ae){this._userLogHandler&&this._userLogHandler(this,L.ERROR,...ae),this._logHandler(this,L.ERROR,...ae)}}function se(J){p.forEach(ae=>{ae.setLogLevel(J)})}function ce(J,ae){for(const we of p){let He=null;ae&&ae.level&&(He=_[ae.level]),we.userLogHandler=null===J?null:(We,dt,...nt)=>{const it=nt.map(lt=>{if(null==lt)return null;if("string"==typeof lt)return lt;if("number"==typeof lt||"boolean"==typeof lt)return lt.toString();if(lt instanceof Error)return lt.message;try{return JSON.stringify(lt)}catch{return null}}).filter(lt=>lt).join(" ");dt>=(He??We.logLevel)&&J({level:L[dt].toLowerCase(),message:it,args:nt,type:We.name})}}}},7142:(Nt,$e,F)=>{F.d($e,{Z:()=>p.Z});var p=F(3106);p.Z.registerVersion("firebase","10.9.0","app-compat")},6365:(Nt,$e,F)=>{F.r($e);var p=F(5861),L=F(3106),_=F(4206),Ce=F(9058),Z=(F(534),F(7879),F(4537));function se(){return window}function ae(){return ae=(0,p.Z)(function*($,k,N){var de;const{BuildInfo:Ve}=se();(0,_.au)(k.sessionId,"AuthEvent did not contain a session ID");const pt=yield function lt($){return bt.apply(this,arguments)}(k.sessionId),Dt={};return(0,_.av)()?Dt.ibi=Ve.packageName:(0,_.aw)()?Dt.apn=Ve.packageName:(0,_.ax)($,"operation-not-supported-in-this-environment"),Ve.displayName&&(Dt.appDisplayName=Ve.displayName),Dt.sessionId=pt,(0,_.ay)($,N,k.type,void 0,null!==(de=k.eventId)&&void 0!==de?de:void 0,Dt)}),ae.apply(this,arguments)}function He(){return(He=(0,p.Z)(function*($){const{BuildInfo:k}=se(),N={};(0,_.av)()?N.iosBundleId=k.packageName:(0,_.aw)()?N.androidPackageName=k.packageName:(0,_.ax)($,"operation-not-supported-in-this-environment"),yield(0,_.az)($,N)})).apply(this,arguments)}function nt(){return(nt=(0,p.Z)(function*($,k,N){const{cordova:de}=se();let Ve=()=>{};try{yield new Promise((pt,Dt)=>{let jt=null;function Wt(){var Me;pt();const _e=null===(Me=de.plugins.browsertab)||void 0===Me?void 0:Me.close;"function"==typeof _e&&_e(),"function"==typeof N?.close&&N.close()}function an(){jt||(jt=window.setTimeout(()=>{Dt((0,_.aB)($,"redirect-cancelled-by-user"))},2e3))}function Zn(){"visible"===document?.visibilityState&&an()}k.addPassiveListener(Wt),document.addEventListener("resume",an,!1),(0,_.aw)()&&document.addEventListener("visibilitychange",Zn,!1),Ve=()=>{k.removePassiveListener(Wt),document.removeEventListener("resume",an,!1),document.removeEventListener("visibilitychange",Zn,!1),jt&&window.clearTimeout(jt)}})}finally{Ve()}})).apply(this,arguments)}function bt(){return(bt=(0,p.Z)(function*($){const k=function ft($){if((0,_.au)(/[0-9a-zA-Z]+/.test($),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode($);const k=new ArrayBuffer($.length),N=new Uint8Array(k);for(let de=0;de<$.length;de++)N[de]=$.charCodeAt(de);return N}($),N=yield crypto.subtle.digest("SHA-256",k);return Array.from(new Uint8Array(N)).map(Ve=>Ve.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Oe extends _.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(k=>{this.resolveInialized=k})}addPassiveListener(k){this.passiveListeners.add(k)}removePassiveListener(k){this.passiveListeners.delete(k)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(k){return this.resolveInialized(),this.passiveListeners.forEach(N=>N(k)),super.onEvent(k)}initialized(){var k=this;return(0,p.Z)(function*(){yield k.initPromise})()}}function De($){return ye.apply(this,arguments)}function ye(){return(ye=(0,p.Z)(function*($){const k=yield Vt()._get(It($));return k&&(yield Vt()._remove(It($))),k})).apply(this,arguments)}function Ie(){const $=[];for(let N=0;N<20;N++){const de=Math.floor(62*Math.random());$.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(de))}return $.join("")}function Vt(){return(0,_.aE)(_.b)}function It($){return(0,_.aF)("authEvent",$.config.apiKey,$.name)}function Rt($){if(!$?.includes("?"))return{};const[k,...N]=$.split("?");return(0,Ce.zd)(N.join("?"))}const Se=class kt{constructor(){this._redirectPersistence=_.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=_.aG,this._overrideRedirectResult=_.aH}_initialize(k){var N=this;return(0,p.Z)(function*(){const de=k._key();let Ve=N.eventManagers.get(de);return Ve||(Ve=new Oe(k),N.eventManagers.set(de,Ve),N.attachCallbackListeners(k,Ve)),Ve})()}_openPopup(k){(0,_.ax)(k,"operation-not-supported-in-this-environment")}_openRedirect(k,N,de,Ve){var pt=this;return(0,p.Z)(function*(){!function it($){var k,N,de,Ve,pt,Dt,jt,Wt,an,Zn;const Me=se();(0,_.aC)("function"==typeof(null===(k=Me?.universalLinks)||void 0===k?void 0:k.subscribe),$,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,_.aC)(typeof(null===(N=Me?.BuildInfo)||void 0===N?void 0:N.packageName)<"u",$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,_.aC)("function"==typeof(null===(pt=null===(Ve=null===(de=Me?.cordova)||void 0===de?void 0:de.plugins)||void 0===Ve?void 0:Ve.browsertab)||void 0===pt?void 0:pt.openUrl),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,_.aC)("function"==typeof(null===(Wt=null===(jt=null===(Dt=Me?.cordova)||void 0===Dt?void 0:Dt.plugins)||void 0===jt?void 0:jt.browsertab)||void 0===Wt?void 0:Wt.isAvailable),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,_.aC)("function"==typeof(null===(Zn=null===(an=Me?.cordova)||void 0===an?void 0:an.InAppBrowser)||void 0===Zn?void 0:Zn.open),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(k);const Dt=yield pt._initialize(k);yield Dt.initialized(),Dt.resetRedirect(),(0,_.aI)(),yield pt._originValidation(k);const jt=function he($,k,N=null){return{type:k,eventId:N,urlResponse:null,sessionId:Ie(),postBody:null,tenantId:$.tenantId,error:(0,_.aB)($,"no-auth-event")}}(k,de,Ve);yield function ge($,k){return Vt()._set(It($),k)}(k,jt);const Wt=yield function J($,k,N){return ae.apply(this,arguments)}(k,jt,N),an=yield function We($){const{cordova:k}=se();return new Promise(N=>{k.plugins.browsertab.isAvailable(de=>{let Ve=null;de?k.plugins.browsertab.openUrl($):Ve=k.InAppBrowser.open($,(0,_.aA)()?"_blank":"_system","location=yes"),N(Ve)})})}(Wt);return function dt($,k,N){return nt.apply(this,arguments)}(k,Dt,an)})()}_isIframeWebStorageSupported(k,N){throw new Error("Method not implemented.")}_originValidation(k){const N=k._key();return this.originValidationPromises[N]||(this.originValidationPromises[N]=function we($){return He.apply(this,arguments)}(k)),this.originValidationPromises[N]}attachCallbackListeners(k,N){const{universalLinks:de,handleOpenURL:Ve,BuildInfo:pt}=se(),Dt=setTimeout((0,p.Z)(function*(){yield De(k),N.onEvent(ke())}),500),jt=function(){var Zn=(0,p.Z)(function*(Me){clearTimeout(Dt);const _e=yield De(k);let Pe=null;_e&&Me?.url&&(Pe=function rt($,k){var N,de;const Ve=function Tn($){const k=Rt($),N=k.link?decodeURIComponent(k.link):void 0,de=Rt(N).link,Ve=k.deep_link_id?decodeURIComponent(k.deep_link_id):void 0;return Rt(Ve).link||Ve||de||N||$}(k);if(Ve.includes("/__/auth/callback")){const pt=Rt(Ve),Dt=pt.firebaseError?function ut($){try{return JSON.parse($)}catch{return null}}(decodeURIComponent(pt.firebaseError)):null,jt=null===(de=null===(N=Dt?.code)||void 0===N?void 0:N.split("auth/"))||void 0===de?void 0:de[1],Wt=jt?(0,_.aB)(jt):null;return Wt?{type:$.type,eventId:$.eventId,tenantId:$.tenantId,error:Wt,urlResponse:null,sessionId:null,postBody:null}:{type:$.type,eventId:$.eventId,tenantId:$.tenantId,sessionId:$.sessionId,urlResponse:Ve,postBody:null}}return null}(_e,Me.url)),N.onEvent(Pe||ke())});return function(_e){return Zn.apply(this,arguments)}}();typeof de<"u"&&"function"==typeof de.subscribe&&de.subscribe(null,jt);const Wt=Ve,an=`${pt.packageName.toLowerCase()}://`;se().handleOpenURL=function(){var Zn=(0,p.Z)(function*(Me){if(Me.toLowerCase().startsWith(an)&&jt({url:Me}),"function"==typeof Wt)try{Wt(Me)}catch(_e){console.error(_e)}});return function(Me){return Zn.apply(this,arguments)}}()}};function ke(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,_.aB)("no-auth-event")}}function At(){var $;return(null===($=self?.location)||void 0===$?void 0:$.protocol)||null}function Dn($=(0,Ce.z$)()){return!("file:"!==At()&&"ionic:"!==At()&&"capacitor:"!==At()||!$.toLowerCase().match(/iphone|ipad|ipod|android/))}function fn(){try{const $=self.localStorage,k=_.aN();if($)return $.setItem(k,"1"),$.removeItem(k),!function zn($=(0,Ce.z$)()){return function On(){return(0,Ce.w1)()&&11===document?.documentMode}()||function pn($=(0,Ce.z$)()){return/Edge\/\d+/.test($)}($)}()||(0,Ce.hl)()}catch{return jn()&&(0,Ce.hl)()}return!1}function jn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function An(){return(function vt(){return"http:"===At()||"https:"===At()}()||(0,Ce.ru)()||Dn())&&!function cn(){return(0,Ce.b$)()||(0,Ce.UG)()}()&&fn()&&!jn()}function Xt(){return Dn()&&typeof document<"u"}function _r(){return(_r=(0,p.Z)(function*(){return!!Xt()&&new Promise($=>{const k=setTimeout(()=>{$(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(k),$(!0)})})})).apply(this,arguments)}const Jn={LOCAL:"local",NONE:"none",SESSION:"session"},Pr=_.aC,dn="persistence";function _n($){return on.apply(this,arguments)}function on(){return(on=(0,p.Z)(function*($){yield $._initializationPromise;const k=Ir(),N=_.aF(dn,$.config.apiKey,$.name);k&&k.setItem(N,$._getPersistence())})).apply(this,arguments)}function Ir(){var $;try{return(null===($=function Mn(){return typeof window<"u"?window:null}())||void 0===$?void 0:$.sessionStorage)||null}catch{return null}}const Ye=_.aC;class St{constructor(){this.browserResolver=_.aE(_.k),this.cordovaResolver=_.aE(Se),this.underlyingResolver=null,this._redirectPersistence=_.a,this._completeRedirectFn=_.aG,this._overrideRedirectResult=_.aH}_initialize(k){var N=this;return(0,p.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._initialize(k)})()}_openPopup(k,N,de,Ve){var pt=this;return(0,p.Z)(function*(){return yield pt.selectUnderlyingResolver(),pt.assertedUnderlyingResolver._openPopup(k,N,de,Ve)})()}_openRedirect(k,N,de,Ve){var pt=this;return(0,p.Z)(function*(){return yield pt.selectUnderlyingResolver(),pt.assertedUnderlyingResolver._openRedirect(k,N,de,Ve)})()}_isIframeWebStorageSupported(k,N){this.assertedUnderlyingResolver._isIframeWebStorageSupported(k,N)}_originValidation(k){return this.assertedUnderlyingResolver._originValidation(k)}get _shouldInitProactively(){return Xt()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ye(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var k=this;return(0,p.Z)(function*(){if(k.underlyingResolver)return;const N=yield function vn(){return _r.apply(this,arguments)}();k.underlyingResolver=N?k.cordovaResolver:k.browserResolver})()}}function Re($){return $.unwrap()}function Ze($){return Mt($)}function Mt($){const{_tokenResponse:k}=$ instanceof Ce.ZR?$.customData:$;if(!k)return null;if(!($ instanceof Ce.ZR)&&"temporaryProof"in k&&"phoneNumber"in k)return _.P.credentialFromResult($);const N=k.providerId;if(!N||N===_.p.PASSWORD)return null;let de;switch(N){case _.p.GOOGLE:de=_.X;break;case _.p.FACEBOOK:de=_.W;break;case _.p.GITHUB:de=_.Y;break;case _.p.TWITTER:de=_.$;break;default:const{oauthIdToken:Ve,oauthAccessToken:pt,oauthTokenSecret:Dt,pendingToken:jt,nonce:Wt}=k;return pt||Dt||Ve||jt?jt?N.startsWith("saml.")?_.aQ._create(N,jt):_.N._fromParams({providerId:N,signInMethod:N,pendingToken:jt,idToken:Ve,accessToken:pt}):new _.Z(N).credential({idToken:Ve,accessToken:pt,rawNonce:Wt}):null}return $ instanceof Ce.ZR?de.credentialFromError($):de.credentialFromResult($)}function Xn($,k){return k.catch(N=>{throw N instanceof Ce.ZR&&function zt($,k){var N;const de=null===(N=k.customData)||void 0===N?void 0:N._tokenResponse;if("auth/multi-factor-auth-required"===k?.code)k.resolver=new di($,_.as($,k));else if(de){const Ve=Mt(k),pt=k;Ve&&(pt.credential=Ve,pt.tenantId=de.tenantId||void 0,pt.email=de.email||void 0,pt.phoneNumber=de.phoneNumber||void 0)}}($,N),N}).then(N=>{const Ve=N.user;return{operationType:N.operationType,credential:Ze(N),additionalUserInfo:_.aq(N),user:kn.getOrCreate(Ve)}})}function yn($,k){return jr.apply(this,arguments)}function jr(){return(jr=(0,p.Z)(function*($,k){const N=yield k;return{verificationId:N.verificationId,confirm:de=>Xn($,N.confirm(de))}})).apply(this,arguments)}class di{constructor(k,N){this.resolver=N,this.auth=function Ge($){return $.wrapped()}(k)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(k){return Xn(Re(this.auth),this.resolver.resolveSignIn(k))}}class kn{constructor(k){this._delegate=k,this.multiFactor=_.at(k)}static getOrCreate(k){return kn.USER_MAP.has(k)||kn.USER_MAP.set(k,new kn(k)),kn.USER_MAP.get(k)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(k){return this._delegate.getIdTokenResult(k)}getIdToken(k){return this._delegate.getIdToken(k)}linkAndRetrieveDataWithCredential(k){return this.linkWithCredential(k)}linkWithCredential(k){var N=this;return(0,p.Z)(function*(){return Xn(N.auth,_.a2(N._delegate,k))})()}linkWithPhoneNumber(k,N){var de=this;return(0,p.Z)(function*(){return yn(de.auth,_.l(de._delegate,k,N))})()}linkWithPopup(k){var N=this;return(0,p.Z)(function*(){return Xn(N.auth,_.d(N._delegate,k,St))})()}linkWithRedirect(k){var N=this;return(0,p.Z)(function*(){return yield _n(_.aJ(N.auth)),_.g(N._delegate,k,St)})()}reauthenticateAndRetrieveDataWithCredential(k){return this.reauthenticateWithCredential(k)}reauthenticateWithCredential(k){var N=this;return(0,p.Z)(function*(){return Xn(N.auth,_.a3(N._delegate,k))})()}reauthenticateWithPhoneNumber(k,N){return yn(this.auth,_.r(this._delegate,k,N))}reauthenticateWithPopup(k){return Xn(this.auth,_.e(this._delegate,k,St))}reauthenticateWithRedirect(k){var N=this;return(0,p.Z)(function*(){return yield _n(_.aJ(N.auth)),_.h(N._delegate,k,St)})()}sendEmailVerification(k){return _.ag(this._delegate,k)}unlink(k){var N=this;return(0,p.Z)(function*(){return yield _.ap(N._delegate,k),N})()}updateEmail(k){return _.al(this._delegate,k)}updatePassword(k){return _.am(this._delegate,k)}updatePhoneNumber(k){return _.u(this._delegate,k)}updateProfile(k){return _.ak(this._delegate,k)}verifyBeforeUpdateEmail(k,N){return _.ah(this._delegate,k,N)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}kn.USER_MAP=new WeakMap;const Ar=_.aC;let oi=(()=>{class ${constructor(N,de){if(this.app=N,de.isInitialized())return this._delegate=de.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ve}=N.options;Ar(Ve,"invalid-api-key",{appName:N.name}),Ar(Ve,"invalid-api-key",{appName:N.name});const pt=typeof window<"u"?St:void 0;this._delegate=de.initialize({options:{persistence:Ti(Ve,N.name),popupRedirectResolver:pt}}),this._delegate._updateErrorMap(_.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?kn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(N){this._delegate.languageCode=N}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(N){this._delegate.tenantId=N}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(N,de){_.K(this._delegate,N,de)}applyActionCode(N){return _.a7(this._delegate,N)}checkActionCode(N){return _.a8(this._delegate,N)}confirmPasswordReset(N,de){return _.a6(this._delegate,N,de)}createUserWithEmailAndPassword(N,de){var Ve=this;return(0,p.Z)(function*(){return Xn(Ve._delegate,_.aa(Ve._delegate,N,de))})()}fetchProvidersForEmail(N){return this.fetchSignInMethodsForEmail(N)}fetchSignInMethodsForEmail(N){return _.af(this._delegate,N)}isSignInWithEmailLink(N){return _.ad(this._delegate,N)}getRedirectResult(){var N=this;return(0,p.Z)(function*(){Ar(An(),N._delegate,"operation-not-supported-in-this-environment");const de=yield _.j(N._delegate,St);return de?Xn(N._delegate,Promise.resolve(de)):{credential:null,user:null}})()}addFrameworkForLogging(N){!function qe($,k){(0,_.aJ)($)._logFramework(k)}(this._delegate,N)}onAuthStateChanged(N,de,Ve){const{next:pt,error:Dt,complete:jt}=ai(N,de,Ve);return this._delegate.onAuthStateChanged(pt,Dt,jt)}onIdTokenChanged(N,de,Ve){const{next:pt,error:Dt,complete:jt}=ai(N,de,Ve);return this._delegate.onIdTokenChanged(pt,Dt,jt)}sendSignInLinkToEmail(N,de){return _.ac(this._delegate,N,de)}sendPasswordResetEmail(N,de){return _.a5(this._delegate,N,de||void 0)}setPersistence(N){var de=this;return(0,p.Z)(function*(){let Ve;switch(function ln($,k){Pr(Object.values(Jn).includes(k),$,"invalid-persistence-type"),(0,Ce.b$)()?Pr(k!==Jn.SESSION,$,"unsupported-persistence-type"):(0,Ce.UG)()?Pr(k===Jn.NONE,$,"unsupported-persistence-type"):jn()?Pr(k===Jn.NONE||k===Jn.LOCAL&&(0,Ce.hl)(),$,"unsupported-persistence-type"):Pr(k===Jn.NONE||fn(),$,"unsupported-persistence-type")}(de._delegate,N),N){case Jn.SESSION:Ve=_.a;break;case Jn.LOCAL:Ve=(yield _.aE(_.i)._isAvailable())?_.i:_.b;break;case Jn.NONE:Ve=_.U;break;default:return _.ax("argument-error",{appName:de._delegate.name})}return de._delegate.setPersistence(Ve)})()}signInAndRetrieveDataWithCredential(N){return this.signInWithCredential(N)}signInAnonymously(){return Xn(this._delegate,_.a0(this._delegate))}signInWithCredential(N){return Xn(this._delegate,_.a1(this._delegate,N))}signInWithCustomToken(N){return Xn(this._delegate,_.a4(this._delegate,N))}signInWithEmailAndPassword(N,de){return Xn(this._delegate,_.ab(this._delegate,N,de))}signInWithEmailLink(N,de){return Xn(this._delegate,_.ae(this._delegate,N,de))}signInWithPhoneNumber(N,de){return yn(this._delegate,_.s(this._delegate,N,de))}signInWithPopup(N){var de=this;return(0,p.Z)(function*(){return Ar(An(),de._delegate,"operation-not-supported-in-this-environment"),Xn(de._delegate,_.c(de._delegate,N,St))})()}signInWithRedirect(N){var de=this;return(0,p.Z)(function*(){return Ar(An(),de._delegate,"operation-not-supported-in-this-environment"),yield _n(de._delegate),_.f(de._delegate,N,St)})()}updateCurrentUser(N){return this._delegate.updateCurrentUser(N)}verifyPasswordResetCode(N){return _.a9(this._delegate,N)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return $.Persistence=Jn,$})();function ai($,k,N){let de=$;"function"!=typeof $&&({next:de,error:k,complete:N}=$);const Ve=de;return{next:Dt=>Ve(Dt&&kn.getOrCreate(Dt)),error:k,complete:N}}function Ti($,k){const N=function or($,k){const N=Ir();if(!N)return[];const de=_.aF(dn,$,k);switch(N.getItem(de)){case Jn.NONE:return[_.U];case Jn.LOCAL:return[_.i,_.a];case Jn.SESSION:return[_.a];default:return[]}}($,k);if(typeof self<"u"&&!N.includes(_.i)&&N.push(_.i),typeof window<"u")for(const de of[_.b,_.a])N.includes(de)||N.push(de);return N.includes(_.U)||N.push(_.U),N}class $r{constructor(){this.providerId="phone",this._delegate=new _.P(Re(L.Z.auth()))}static credential(k,N){return _.P.credential(k,N)}verifyPhoneNumber(k,N){return this._delegate.verifyPhoneNumber(k,N)}unwrap(){return this._delegate}}$r.PHONE_SIGN_IN_METHOD=_.P.PHONE_SIGN_IN_METHOD,$r.PROVIDER_ID=_.P.PROVIDER_ID;const kr=_.aC;class Yr{constructor(k,N,de=L.Z.app()){var Ve;kr(null===(Ve=de.options)||void 0===Ve?void 0:Ve.apiKey,"invalid-api-key",{appName:de.name}),this._delegate=new _.R(de.auth(),k,N),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function re($){$.INTERNAL.registerComponent(new Z.wA("auth-compat",k=>{const N=k.getProvider("app-compat").getImmediate(),de=k.getProvider("auth");return new oi(N,de)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:_.A.EMAIL_SIGNIN,PASSWORD_RESET:_.A.PASSWORD_RESET,RECOVER_EMAIL:_.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:_.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:_.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:_.A.VERIFY_EMAIL}},EmailAuthProvider:_.V,FacebookAuthProvider:_.W,GithubAuthProvider:_.Y,GoogleAuthProvider:_.X,OAuthProvider:_.Z,SAMLAuthProvider:_._,PhoneAuthProvider:$r,PhoneMultiFactorGenerator:_.m,RecaptchaVerifier:Yr,TwitterAuthProvider:_.$,Auth:oi,AuthCredential:_.L,Error:Ce.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),$.registerVersion("@firebase/auth-compat","0.5.4")}(L.Z)},5219:(Nt,$e,F)=>{F.d($e,{F0:()=>we,b4:()=>We,jx:()=>it,m8:()=>lt});var p=F(5879),L=F(8645),_=F(6814);let se=(()=>class le{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static IN="in";static LESS_THAN="lt";static LESS_THAN_OR_EQUAL_TO="lte";static GREATER_THAN="gt";static GREATER_THAN_OR_EQUAL_TO="gte";static BETWEEN="between";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static DATE_IS="dateIs";static DATE_IS_NOT="dateIsNot";static DATE_BEFORE="dateBefore";static DATE_AFTER="dateAfter"})(),we=(()=>{class le{clickSource=new L.x;clickObservable=this.clickSource.asObservable();add(he){he&&this.clickSource.next(he)}static \u0275fac=function(ge){return new(ge||le)};static \u0275prov=p.Yz7({token:le,factory:le.\u0275fac,providedIn:"root"})}return le})(),We=(()=>{class le{ripple=!1;inputStyle="outlined";overlayOptions={};filterMatchModeOptions={text:[se.STARTS_WITH,se.CONTAINS,se.NOT_CONTAINS,se.ENDS_WITH,se.EQUALS,se.NOT_EQUALS],numeric:[se.EQUALS,se.NOT_EQUALS,se.LESS_THAN,se.LESS_THAN_OR_EQUAL_TO,se.GREATER_THAN,se.GREATER_THAN_OR_EQUAL_TO],date:[se.DATE_IS,se.DATE_IS_NOT,se.DATE_BEFORE,se.DATE_AFTER]};translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyFilterMessage:"No results found",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"{page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",previousPageLabel:"Previous Page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left"}};zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100};translationSource=new L.x;translationObserver=this.translationSource.asObservable();getTranslation(he){return this.translation[he]}setTranslation(he){this.translation={...this.translation,...he},this.translationSource.next(this.translation)}static \u0275fac=function(ge){return new(ge||le)};static \u0275prov=p.Yz7({token:le,factory:le.\u0275fac,providedIn:"root"})}return le})(),it=(()=>{class le{template;type;name;constructor(he){this.template=he}getType(){return this.name}static \u0275fac=function(ge){return new(ge||le)(p.Y36(p.Rgc))};static \u0275dir=p.lG2({type:le,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}})}return le})(),lt=(()=>{class le{static \u0275fac=function(ge){return new(ge||le)};static \u0275mod=p.oAB({type:le});static \u0275inj=p.cJS({imports:[_.ez]})}return le})()},4713:(Nt,$e,F)=>{F.d($e,{s:()=>Ce});var p=F(5879),L=F(2332);const _=["*"];let Ce=(()=>{class B{label;spin=!1;styleClass;role;ariaLabel;ariaHidden;ngOnInit(){this.getAttributes()}getAttributes(){const Z=L.gb.isEmpty(this.label);this.role=Z?void 0:"img",this.ariaLabel=Z?void 0:this.label,this.ariaHidden=Z}getClassNames(){return`p-icon ${this.styleClass?this.styleClass+" ":""}${this.spin?"p-icon-spin":""}`}static \u0275fac=function(se){return new(se||B)};static \u0275cmp=p.Xpm({type:B,selectors:[["ng-component"]],hostAttrs:[1,"p-element","p-icon-wrapper"],inputs:{label:"label",spin:"spin",styleClass:"styleClass"},standalone:!0,features:[p.jDz],ngContentSelectors:_,decls:1,vars:0,template:function(se,ce){1&se&&(p.F$t(),p.Hsn(0))},encapsulation:2,changeDetection:0})}return B})()},336:(Nt,$e,F)=>{F.d($e,{hJ:()=>rt});var p=F(6814),L=F(5879),_=F(5219),Ce=F(4713),B=F(2332);let Q=(()=>{class Ie extends Ce.s{pathId;ngOnInit(){this.pathId="url(#"+(0,B.Th)()+")"}static \u0275fac=function(){let It;return function(Tn){return(It||(It=L.n5z(Ie)))(Tn||Ie)}}();static \u0275cmp=L.Xpm({type:Ie,selectors:[["SpinnerIcon"]],standalone:!0,features:[L.qOj,L.jDz],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(ut,Tn){1&ut&&(L.O4$(),L.TgZ(0,"svg",0)(1,"g"),L._UZ(2,"path",1),L.qZA(),L.TgZ(3,"defs")(4,"clipPath",2),L._UZ(5,"rect",3),L.qZA()()()),2&ut&&(L.Tol(Tn.getClassNames()),L.uIk("aria-label",Tn.ariaLabel)("aria-hidden",Tn.ariaHidden)("role",Tn.role),L.xp6(1),L.uIk("clip-path",Tn.pathId),L.xp6(3),L.Q6J("id",Tn.pathId))},encapsulation:2})}return Ie})();var Z=F(4480);let rt=(()=>{class Ie{static \u0275fac=function(ut){return new(ut||Ie)};static \u0275mod=L.oAB({type:Ie});static \u0275inj=L.cJS({imports:[p.ez,Z.T,_.m8,Q,_.m8]})}return Ie})()},4532:(Nt,$e,F)=>{F.d($e,{d:()=>nt});var p=F(6814),L=F(5879),_=F(5219);let nt=(()=>{class it{static \u0275fac=function(ft){return new(ft||it)};static \u0275mod=L.oAB({type:it});static \u0275inj=L.cJS({imports:[p.ez,_.m8]})}return it})()},5124:(Nt,$e,F)=>{F.d($e,{nD:()=>Oe});var p=F(6814),L=F(5879),_=F(95),Ce=F(5219),B=F(4713);let Q=(()=>{class he extends B.s{static \u0275fac=function(){let De;return function(rt){return(De||(De=L.n5z(he)))(rt||he)}}();static \u0275cmp=L.Xpm({type:he,selectors:[["CheckIcon"]],standalone:!0,features:[L.qOj,L.jDz],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M4.86199 11.5948C4.78717 11.5923 4.71366 11.5745 4.64596 11.5426C4.57826 11.5107 4.51779 11.4652 4.46827 11.4091L0.753985 7.69483C0.683167 7.64891 0.623706 7.58751 0.580092 7.51525C0.536478 7.44299 0.509851 7.36177 0.502221 7.27771C0.49459 7.19366 0.506156 7.10897 0.536046 7.03004C0.565935 6.95111 0.613367 6.88 0.674759 6.82208C0.736151 6.76416 0.8099 6.72095 0.890436 6.69571C0.970973 6.67046 1.05619 6.66385 1.13966 6.67635C1.22313 6.68886 1.30266 6.72017 1.37226 6.76792C1.44186 6.81567 1.4997 6.8786 1.54141 6.95197L4.86199 10.2503L12.6397 2.49483C12.7444 2.42694 12.8689 2.39617 12.9932 2.40745C13.1174 2.41873 13.2343 2.47141 13.3251 2.55705C13.4159 2.64268 13.4753 2.75632 13.4938 2.87973C13.5123 3.00315 13.4888 3.1292 13.4271 3.23768L5.2557 11.4091C5.20618 11.4652 5.14571 11.5107 5.07801 11.5426C5.01031 11.5745 4.9368 11.5923 4.86199 11.5948Z","fill","currentColor"]],template:function(ye,rt){1&ye&&(L.O4$(),L.TgZ(0,"svg",0),L._UZ(1,"path",1),L.qZA()),2&ye&&(L.Tol(rt.getClassNames()),L.uIk("aria-label",rt.ariaLabel)("aria-hidden",rt.ariaHidden)("role",rt.role))},encapsulation:2})}return he})();var Z=F(2332);const se=["input"];function ce(he,ge){if(1&he&&L._UZ(0,"span",10),2&he){const De=L.oxw(3);L.Q6J("ngClass",De.checkboxIcon),L.uIk("data-pc-section","icon")}}function J(he,ge){1&he&&L._UZ(0,"CheckIcon",11),2&he&&(L.Q6J("styleClass","p-checkbox-icon"),L.uIk("data-pc-section","icon"))}function ae(he,ge){if(1&he&&(L.ynx(0),L.YNc(1,ce,1,2,"span",8),L.YNc(2,J,1,2,"CheckIcon",9),L.BQk()),2&he){const De=L.oxw(2);L.xp6(1),L.Q6J("ngIf",De.checkboxIcon),L.xp6(1),L.Q6J("ngIf",!De.checkboxIcon)}}function we(he,ge){}function He(he,ge){1&he&&L.YNc(0,we,0,0,"ng-template")}function We(he,ge){if(1&he&&(L.TgZ(0,"span",12),L.YNc(1,He,1,0,null,13),L.qZA()),2&he){const De=L.oxw(2);L.uIk("data-pc-section","icon"),L.xp6(1),L.Q6J("ngTemplateOutlet",De.checkboxIconTemplate)}}function dt(he,ge){if(1&he&&(L.ynx(0),L.YNc(1,ae,3,2,"ng-container",5),L.YNc(2,We,2,2,"span",7),L.BQk()),2&he){const De=L.oxw();L.xp6(1),L.Q6J("ngIf",!De.checkboxIconTemplate),L.xp6(1),L.Q6J("ngIf",De.checkboxIconTemplate)}}const nt=function(he,ge,De){return{"p-checkbox-label":!0,"p-checkbox-label-active":he,"p-disabled":ge,"p-checkbox-label-focus":De}};function it(he,ge){if(1&he){const De=L.EpF();L.TgZ(0,"label",14),L.NdJ("click",function(rt){L.CHM(De);const Ie=L.oxw();return L.KtG(Ie.onClick(rt))}),L._uU(1),L.qZA()}if(2&he){const De=L.oxw();L.Tol(De.labelStyleClass),L.Q6J("ngClass",L.kEZ(6,nt,De.checked(),De.disabled,De.focused)),L.uIk("for",De.inputId)("data-pc-section","label"),L.xp6(1),L.hij(" ",De.label,"")}}const lt=function(he,ge,De){return{"p-checkbox p-component":!0,"p-checkbox-checked":he,"p-checkbox-disabled":ge,"p-checkbox-focused":De}},bt=function(he,ge,De){return{"p-highlight":he,"p-disabled":ge,"p-focus":De}},ft={provide:_.JU,useExisting:(0,L.Gpc)(()=>le),multi:!0};let le=(()=>{class he{cd;value;name;disabled;binary;label;ariaLabelledBy;ariaLabel;tabindex;inputId;style;styleClass;labelStyleClass;formControl;checkboxIcon;readonly;required;trueValue=!0;falseValue=!1;onChange=new L.vpe;inputViewChild;templates;checkboxIconTemplate;model;onModelChange=()=>{};onModelTouched=()=>{};focused=!1;constructor(De){this.cd=De}ngAfterContentInit(){this.templates.forEach(De=>{"icon"===De.getType()&&(this.checkboxIconTemplate=De.template)})}onClick(De){if(!this.disabled&&!this.readonly){let ye;this.inputViewChild.nativeElement.focus(),this.binary?(ye=this.checked()?this.falseValue:this.trueValue,this.model=ye,this.onModelChange(ye)):(ye=this.checked()?this.model.filter(rt=>!Z.gb.equals(rt,this.value)):this.model?[...this.model,this.value]:[this.value],this.onModelChange(ye),this.model=ye,this.formControl&&this.formControl.setValue(ye)),this.onChange.emit({checked:ye,originalEvent:De})}}onFocus(){this.focused=!0}onBlur(){this.focused=!1,this.onModelTouched()}writeValue(De){this.model=De,this.cd.markForCheck()}registerOnChange(De){this.onModelChange=De}registerOnTouched(De){this.onModelTouched=De}setDisabledState(De){this.disabled=De,this.cd.markForCheck()}checked(){return this.binary?this.model===this.trueValue:Z.gb.contains(this.value,this.model)}static \u0275fac=function(ye){return new(ye||he)(L.Y36(L.sBO))};static \u0275cmp=L.Xpm({type:he,selectors:[["p-checkbox"]],contentQueries:function(ye,rt,Ie){if(1&ye&&L.Suo(Ie,Ce.jx,4),2&ye){let Vt;L.iGM(Vt=L.CRH())&&(rt.templates=Vt)}},viewQuery:function(ye,rt){if(1&ye&&L.Gf(se,5),2&ye){let Ie;L.iGM(Ie=L.CRH())&&(rt.inputViewChild=Ie.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",name:"name",disabled:"disabled",binary:"binary",label:"label",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",tabindex:"tabindex",inputId:"inputId",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass",formControl:"formControl",checkboxIcon:"checkboxIcon",readonly:"readonly",required:"required",trueValue:"trueValue",falseValue:"falseValue"},outputs:{onChange:"onChange"},features:[L._Bn([ft])],decls:7,vars:35,consts:[[3,"ngStyle","ngClass","click"],[1,"p-hidden-accessible"],["type","checkbox",3,"value","checked","disabled","readonly","focus","blur"],["input",""],[1,"p-checkbox-box",3,"ngClass"],[4,"ngIf"],[3,"class","ngClass","click",4,"ngIf"],["class","p-checkbox-icon",4,"ngIf"],["class","p-checkbox-icon",3,"ngClass",4,"ngIf"],[3,"styleClass",4,"ngIf"],[1,"p-checkbox-icon",3,"ngClass"],[3,"styleClass"],[1,"p-checkbox-icon"],[4,"ngTemplateOutlet"],[3,"ngClass","click"]],template:function(ye,rt){1&ye&&(L.TgZ(0,"div",0),L.NdJ("click",function(Vt){return rt.onClick(Vt)}),L.TgZ(1,"div",1)(2,"input",2,3),L.NdJ("focus",function(){return rt.onFocus()})("blur",function(){return rt.onBlur()}),L.qZA()(),L.TgZ(4,"div",4),L.YNc(5,dt,3,2,"ng-container",5),L.qZA()(),L.YNc(6,it,2,10,"label",6)),2&ye&&(L.Tol(rt.styleClass),L.Q6J("ngStyle",rt.style)("ngClass",L.kEZ(27,lt,rt.checked(),rt.disabled,rt.focused)),L.uIk("data-pc-name","checkbox")("data-pc-section","root"),L.xp6(1),L.uIk("data-pc-section","hiddenInputWrapper")("data-p-hidden-accessible",!0),L.xp6(1),L.Q6J("value",rt.value)("checked",rt.checked())("disabled",rt.disabled)("readonly",rt.readonly),L.uIk("id",rt.inputId)("name",rt.name)("tabindex",rt.tabindex)("required",rt.required)("aria-labelledby",rt.ariaLabelledBy)("aria-label",rt.ariaLabel)("aria-checked",rt.checked())("data-pc-section","hiddenInput"),L.xp6(2),L.Q6J("ngClass",L.kEZ(31,bt,rt.checked(),rt.disabled,rt.focused)),L.uIk("data-p-highlight",rt.checked())("data-p-disabled",rt.disabled)("data-p-focused",rt.focused)("data-pc-section","input"),L.xp6(1),L.Q6J("ngIf",rt.checked()),L.xp6(1),L.Q6J("ngIf",rt.label))},dependencies:function(){return[p.mk,p.O5,p.tP,p.PC,Q]},styles:["@layer primeng{.p-checkbox{display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;vertical-align:bottom;position:relative}.p-checkbox-disabled{cursor:default!important;pointer-events:none}.p-checkbox-box{display:flex;justify-content:center;align-items:center}p-checkbox{display:inline-flex;vertical-align:bottom;align-items:center}.p-checkbox-label{line-height:1}}\n"],encapsulation:2,changeDetection:0})}return he})(),Oe=(()=>{class he{static \u0275fac=function(ye){return new(ye||he)};static \u0275mod=L.oAB({type:he});static \u0275inj=L.cJS({imports:[p.ez,Q,Ce.m8]})}return he})()},2076:(Nt,$e,F)=>{F.d($e,{V:()=>L,p:()=>p});let p=(()=>{class _{static zindex=1e3;static calculatedScrollbarWidth=null;static calculatedScrollbarHeight=null;static browser;static addClass(B,Q){B&&Q&&(B.classList?B.classList.add(Q):B.className+=" "+Q)}static addMultipleClasses(B,Q){if(B&&Q)if(B.classList){let Z=Q.trim().split(" ");for(let se=0;se<Z.length;se++)B.classList.add(Z[se])}else{let Z=Q.split(" ");for(let se=0;se<Z.length;se++)B.className+=" "+Z[se]}}static removeClass(B,Q){B&&Q&&(B.classList?B.classList.remove(Q):B.className=B.className.replace(new RegExp("(^|\\b)"+Q.split(" ").join("|")+"(\\b|$)","gi")," "))}static removeMultipleClasses(B,Q){B&&Q&&[Q].flat().filter(Boolean).forEach(Z=>Z.split(" ").forEach(se=>this.removeClass(B,se)))}static hasClass(B,Q){return!(!B||!Q)&&(B.classList?B.classList.contains(Q):new RegExp("(^| )"+Q+"( |$)","gi").test(B.className))}static siblings(B){return Array.prototype.filter.call(B.parentNode.children,function(Q){return Q!==B})}static find(B,Q){return Array.from(B.querySelectorAll(Q))}static findSingle(B,Q){return this.isElement(B)?B.querySelector(Q):null}static index(B){let Q=B.parentNode.childNodes,Z=0;for(var se=0;se<Q.length;se++){if(Q[se]==B)return Z;1==Q[se].nodeType&&Z++}return-1}static indexWithinGroup(B,Q){let Z=B.parentNode?B.parentNode.childNodes:[],se=0;for(var ce=0;ce<Z.length;ce++){if(Z[ce]==B)return se;Z[ce].attributes&&Z[ce].attributes[Q]&&1==Z[ce].nodeType&&se++}return-1}static appendOverlay(B,Q,Z="self"){"self"!==Z&&B&&Q&&this.appendChild(B,Q)}static alignOverlay(B,Q,Z="self",se=!0){B&&Q&&(se&&(B.style.minWidth=`${_.getOuterWidth(Q)}px`),"self"===Z?this.relativePosition(B,Q):this.absolutePosition(B,Q))}static relativePosition(B,Q){const Z=ft=>{if(ft)return"relative"===getComputedStyle(ft).getPropertyValue("position")?ft:Z(ft.parentElement)},se=B.offsetParent?{width:B.offsetWidth,height:B.offsetHeight}:this.getHiddenElementDimensions(B),ce=Q.offsetHeight,J=Q.getBoundingClientRect(),ae=this.getWindowScrollTop(),we=this.getWindowScrollLeft(),He=this.getViewport(),dt=Z(B)?.getBoundingClientRect()||{top:-1*ae,left:-1*we};let nt,it;J.top+ce+se.height>He.height?(nt=J.top-dt.top-se.height,B.style.transformOrigin="bottom",J.top+nt<0&&(nt=-1*J.top)):(nt=ce+J.top-dt.top,B.style.transformOrigin="top");const lt=J.left+se.width-He.width;it=se.width>He.width?-1*(J.left-dt.left):lt>0?J.left-dt.left-lt:J.left-dt.left,B.style.top=nt+"px",B.style.left=it+"px"}static absolutePosition(B,Q){const Z=B.offsetParent?{width:B.offsetWidth,height:B.offsetHeight}:this.getHiddenElementDimensions(B),se=Z.height,ce=Z.width,J=Q.offsetHeight,ae=Q.offsetWidth,we=Q.getBoundingClientRect(),He=this.getWindowScrollTop(),We=this.getWindowScrollLeft(),dt=this.getViewport();let nt,it;we.top+J+se>dt.height?(nt=we.top+He-se,B.style.transformOrigin="bottom",nt<0&&(nt=He)):(nt=J+we.top+He,B.style.transformOrigin="top"),it=we.left+ce>dt.width?Math.max(0,we.left+We+ae-ce):we.left+We,B.style.top=nt+"px",B.style.left=it+"px"}static getParents(B,Q=[]){return null===B.parentNode?Q:this.getParents(B.parentNode,Q.concat([B.parentNode]))}static getScrollableParents(B){let Q=[];if(B){let Z=this.getParents(B);const se=/(auto|scroll)/,ce=J=>{let ae=window.getComputedStyle(J,null);return se.test(ae.getPropertyValue("overflow"))||se.test(ae.getPropertyValue("overflowX"))||se.test(ae.getPropertyValue("overflowY"))};for(let J of Z){let ae=1===J.nodeType&&J.dataset.scrollselectors;if(ae){let we=ae.split(",");for(let He of we){let We=this.findSingle(J,He);We&&ce(We)&&Q.push(We)}}9!==J.nodeType&&ce(J)&&Q.push(J)}}return Q}static getHiddenElementOuterHeight(B){B.style.visibility="hidden",B.style.display="block";let Q=B.offsetHeight;return B.style.display="none",B.style.visibility="visible",Q}static getHiddenElementOuterWidth(B){B.style.visibility="hidden",B.style.display="block";let Q=B.offsetWidth;return B.style.display="none",B.style.visibility="visible",Q}static getHiddenElementDimensions(B){let Q={};return B.style.visibility="hidden",B.style.display="block",Q.width=B.offsetWidth,Q.height=B.offsetHeight,B.style.display="none",B.style.visibility="visible",Q}static scrollInView(B,Q){let Z=getComputedStyle(B).getPropertyValue("borderTopWidth"),se=Z?parseFloat(Z):0,ce=getComputedStyle(B).getPropertyValue("paddingTop"),J=ce?parseFloat(ce):0,ae=B.getBoundingClientRect(),He=Q.getBoundingClientRect().top+document.body.scrollTop-(ae.top+document.body.scrollTop)-se-J,We=B.scrollTop,dt=B.clientHeight,nt=this.getOuterHeight(Q);He<0?B.scrollTop=We+He:He+nt>dt&&(B.scrollTop=We+He-dt+nt)}static fadeIn(B,Q){B.style.opacity=0;let Z=+new Date,se=0,ce=function(){se=+B.style.opacity.replace(",",".")+((new Date).getTime()-Z)/Q,B.style.opacity=se,Z=+new Date,+se<1&&(window.requestAnimationFrame&&requestAnimationFrame(ce)||setTimeout(ce,16))};ce()}static fadeOut(B,Q){var Z=1,J=50/Q;let ae=setInterval(()=>{(Z-=J)<=0&&(Z=0,clearInterval(ae)),B.style.opacity=Z},50)}static getWindowScrollTop(){let B=document.documentElement;return(window.pageYOffset||B.scrollTop)-(B.clientTop||0)}static getWindowScrollLeft(){let B=document.documentElement;return(window.pageXOffset||B.scrollLeft)-(B.clientLeft||0)}static matches(B,Q){var Z=Element.prototype;return(Z.matches||Z.webkitMatchesSelector||Z.mozMatchesSelector||Z.msMatchesSelector||function(ce){return-1!==[].indexOf.call(document.querySelectorAll(ce),this)}).call(B,Q)}static getOuterWidth(B,Q){let Z=B.offsetWidth;if(Q){let se=getComputedStyle(B);Z+=parseFloat(se.marginLeft)+parseFloat(se.marginRight)}return Z}static getHorizontalPadding(B){let Q=getComputedStyle(B);return parseFloat(Q.paddingLeft)+parseFloat(Q.paddingRight)}static getHorizontalMargin(B){let Q=getComputedStyle(B);return parseFloat(Q.marginLeft)+parseFloat(Q.marginRight)}static innerWidth(B){let Q=B.offsetWidth,Z=getComputedStyle(B);return Q+=parseFloat(Z.paddingLeft)+parseFloat(Z.paddingRight),Q}static width(B){let Q=B.offsetWidth,Z=getComputedStyle(B);return Q-=parseFloat(Z.paddingLeft)+parseFloat(Z.paddingRight),Q}static getInnerHeight(B){let Q=B.offsetHeight,Z=getComputedStyle(B);return Q+=parseFloat(Z.paddingTop)+parseFloat(Z.paddingBottom),Q}static getOuterHeight(B,Q){let Z=B.offsetHeight;if(Q){let se=getComputedStyle(B);Z+=parseFloat(se.marginTop)+parseFloat(se.marginBottom)}return Z}static getHeight(B){let Q=B.offsetHeight,Z=getComputedStyle(B);return Q-=parseFloat(Z.paddingTop)+parseFloat(Z.paddingBottom)+parseFloat(Z.borderTopWidth)+parseFloat(Z.borderBottomWidth),Q}static getWidth(B){let Q=B.offsetWidth,Z=getComputedStyle(B);return Q-=parseFloat(Z.paddingLeft)+parseFloat(Z.paddingRight)+parseFloat(Z.borderLeftWidth)+parseFloat(Z.borderRightWidth),Q}static getViewport(){let B=window,Q=document,Z=Q.documentElement,se=Q.getElementsByTagName("body")[0];return{width:B.innerWidth||Z.clientWidth||se.clientWidth,height:B.innerHeight||Z.clientHeight||se.clientHeight}}static getOffset(B){var Q=B.getBoundingClientRect();return{top:Q.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:Q.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(B,Q){let Z=B.parentNode;if(!Z)throw"Can't replace element";return Z.replaceChild(Q,B)}static getUserAgent(){if(navigator&&this.isClient())return navigator.userAgent}static isIE(){var B=window.navigator.userAgent;return B.indexOf("MSIE ")>0||(B.indexOf("Trident/")>0?(B.indexOf("rv:"),!0):B.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(B,Q){if(this.isElement(Q))Q.appendChild(B);else{if(!(Q&&Q.el&&Q.el.nativeElement))throw"Cannot append "+Q+" to "+B;Q.el.nativeElement.appendChild(B)}}static removeChild(B,Q){if(this.isElement(Q))Q.removeChild(B);else{if(!Q.el||!Q.el.nativeElement)throw"Cannot remove "+B+" from "+Q;Q.el.nativeElement.removeChild(B)}}static removeElement(B){"remove"in Element.prototype?B.remove():B.parentNode.removeChild(B)}static isElement(B){return"object"==typeof HTMLElement?B instanceof HTMLElement:B&&"object"==typeof B&&null!==B&&1===B.nodeType&&"string"==typeof B.nodeName}static calculateScrollbarWidth(B){if(B){let Q=getComputedStyle(B);return B.offsetWidth-B.clientWidth-parseFloat(Q.borderLeftWidth)-parseFloat(Q.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let Q=document.createElement("div");Q.className="p-scrollbar-measure",document.body.appendChild(Q);let Z=Q.offsetWidth-Q.clientWidth;return document.body.removeChild(Q),this.calculatedScrollbarWidth=Z,Z}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let B=document.createElement("div");B.className="p-scrollbar-measure",document.body.appendChild(B);let Q=B.offsetHeight-B.clientHeight;return document.body.removeChild(B),this.calculatedScrollbarWidth=Q,Q}static invokeElementMethod(B,Q,Z){B[Q].apply(B,Z)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let B=this.resolveUserAgent();this.browser={},B.browser&&(this.browser[B.browser]=!0,this.browser.version=B.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let B=navigator.userAgent.toLowerCase(),Q=/(chrome)[ \/]([\w.]+)/.exec(B)||/(webkit)[ \/]([\w.]+)/.exec(B)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(B)||/(msie) ([\w.]+)/.exec(B)||B.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(B)||[];return{browser:Q[1]||"",version:Q[2]||"0"}}static isInteger(B){return Number.isInteger?Number.isInteger(B):"number"==typeof B&&isFinite(B)&&Math.floor(B)===B}static isHidden(B){return!B||null===B.offsetParent}static isVisible(B){return B&&null!=B.offsetParent}static isExist(B){return null!==B&&typeof B<"u"&&B.nodeName&&B.parentNode}static focus(B,Q){B&&document.activeElement!==B&&B.focus(Q)}static getFocusableElements(B,Q=""){let Z=this.find(B,`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${Q},\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${Q},\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${Q},\n                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${Q},\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${Q},\n                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${Q},\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${Q}`),se=[];for(let ce of Z)"none"!=getComputedStyle(ce).display&&"hidden"!=getComputedStyle(ce).visibility&&se.push(ce);return se}static getFirstFocusableElement(B,Q){const Z=this.getFocusableElements(B,Q);return Z.length>0?Z[0]:null}static getLastFocusableElement(B,Q){const Z=this.getFocusableElements(B,Q);return Z.length>0?Z[Z.length-1]:null}static getNextFocusableElement(B,Q=!1){const Z=_.getFocusableElements(B);let se=0;if(Z&&Z.length>0){const ce=Z.indexOf(Z[0].ownerDocument.activeElement);Q?se=-1==ce||0===ce?Z.length-1:ce-1:-1!=ce&&ce!==Z.length-1&&(se=ce+1)}return Z[se]}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}static getSelection(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null}static getTargetElement(B,Q){if(!B)return null;switch(B){case"document":return document;case"window":return window;case"@next":return Q?.nextElementSibling;case"@prev":return Q?.previousElementSibling;case"@parent":return Q?.parentElement;case"@grandparent":return Q?.parentElement.parentElement;default:const Z=typeof B;if("string"===Z)return document.querySelector(B);if("object"===Z&&B.hasOwnProperty("nativeElement"))return this.isExist(B.nativeElement)?B.nativeElement:void 0;const ce=(J=B)&&J.constructor&&J.call&&J.apply?B():B;return ce&&9===ce.nodeType||this.isExist(ce)?ce:null}var J}static isClient(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}static getAttribute(B,Q){if(B){const Z=B.getAttribute(Q);return isNaN(Z)?"true"===Z||"false"===Z?"true"===Z:Z:+Z}}static calculateBodyScrollbarWidth(){return window.innerWidth-document.documentElement.offsetWidth}static blockBodyScroll(B="p-overflow-hidden"){document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,B)}static unblockBodyScroll(B="p-overflow-hidden"){document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,B)}}return _})();class L{element;listener;scrollableParents;constructor(Ce,B=(()=>{})){this.element=Ce,this.listener=B}bindScrollListener(){this.scrollableParents=p.getScrollableParents(this.element);for(let Ce=0;Ce<this.scrollableParents.length;Ce++)this.scrollableParents[Ce].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let Ce=0;Ce<this.scrollableParents.length;Ce++)this.scrollableParents[Ce].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}},3714:(Nt,$e,F)=>{F.d($e,{j:()=>B,o:()=>Ce});var p=F(5879),L=F(6814),_=F(95);let Ce=(()=>{class Q{el;ngModel;cd;filled;constructor(se,ce,J){this.el=se,this.ngModel=ce,this.cd=J}ngAfterViewInit(){this.updateFilledState(),this.cd.detectChanges()}ngDoCheck(){this.updateFilledState()}onInput(){this.updateFilledState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model}static \u0275fac=function(ce){return new(ce||Q)(p.Y36(p.SBq),p.Y36(_.On,8),p.Y36(p.sBO))};static \u0275dir=p.lG2({type:Q,selectors:[["","pInputText",""]],hostAttrs:[1,"p-inputtext","p-component","p-element"],hostVars:2,hostBindings:function(ce,J){1&ce&&p.NdJ("input",function(we){return J.onInput(we)}),2&ce&&p.ekj("p-filled",J.filled)}})}return Q})(),B=(()=>{class Q{static \u0275fac=function(ce){return new(ce||Q)};static \u0275mod=p.oAB({type:Q});static \u0275inj=p.cJS({imports:[L.ez]})}return Q})()},8516:(Nt,$e,F)=>{F.d($e,{W6:()=>Ir});var p=F(6814),L=F(5879),_=F(3781),Ce=F(5219),B=F(4713);let Q=(()=>{class Ye extends B.s{static \u0275fac=function(){let Re;return function(Ze){return(Re||(Re=L.n5z(Ye)))(Ze||Ye)}}();static \u0275cmp=L.Xpm({type:Ye,selectors:[["AngleDownIcon"]],standalone:!0,features:[L.qOj,L.jDz],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M3.58659 4.5007C3.68513 4.50023 3.78277 4.51945 3.87379 4.55723C3.9648 4.59501 4.04735 4.65058 4.11659 4.7207L7.11659 7.7207L10.1166 4.7207C10.2619 4.65055 10.4259 4.62911 10.5843 4.65956C10.7427 4.69002 10.8871 4.77074 10.996 4.88976C11.1049 5.00877 11.1726 5.15973 11.1889 5.32022C11.2052 5.48072 11.1693 5.6422 11.0866 5.7807L7.58659 9.2807C7.44597 9.42115 7.25534 9.50004 7.05659 9.50004C6.85784 9.50004 6.66722 9.42115 6.52659 9.2807L3.02659 5.7807C2.88614 5.64007 2.80725 5.44945 2.80725 5.2507C2.80725 5.05195 2.88614 4.86132 3.02659 4.7207C3.09932 4.64685 3.18675 4.58911 3.28322 4.55121C3.37969 4.51331 3.48305 4.4961 3.58659 4.5007Z","fill","currentColor"]],template:function(Ge,Ze){1&Ge&&(L.O4$(),L.TgZ(0,"svg",0),L._UZ(1,"path",1),L.qZA()),2&Ge&&(L.Tol(Ze.getClassNames()),L.uIk("aria-label",Ze.ariaLabel)("aria-hidden",Ze.ariaHidden)("role",Ze.role))},encapsulation:2})}return Ye})(),Z=(()=>{class Ye extends B.s{static \u0275fac=function(){let Re;return function(Ze){return(Re||(Re=L.n5z(Ye)))(Ze||Ye)}}();static \u0275cmp=L.Xpm({type:Ye,selectors:[["AngleRightIcon"]],standalone:!0,features:[L.qOj,L.jDz],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M5.25 11.1728C5.14929 11.1694 5.05033 11.1455 4.9592 11.1025C4.86806 11.0595 4.78666 10.9984 4.72 10.9228C4.57955 10.7822 4.50066 10.5916 4.50066 10.3928C4.50066 10.1941 4.57955 10.0035 4.72 9.86283L7.72 6.86283L4.72 3.86283C4.66067 3.71882 4.64765 3.55991 4.68275 3.40816C4.71785 3.25642 4.79932 3.11936 4.91585 3.01602C5.03238 2.91268 5.17819 2.84819 5.33305 2.83149C5.4879 2.81479 5.64411 2.84671 5.78 2.92283L9.28 6.42283C9.42045 6.56346 9.49934 6.75408 9.49934 6.95283C9.49934 7.15158 9.42045 7.34221 9.28 7.48283L5.78 10.9228C5.71333 10.9984 5.63193 11.0595 5.5408 11.1025C5.44966 11.1455 5.35071 11.1694 5.25 11.1728Z","fill","currentColor"]],template:function(Ge,Ze){1&Ge&&(L.O4$(),L.TgZ(0,"svg",0),L._UZ(1,"path",1),L.qZA()),2&Ge&&(L.Tol(Ze.getClassNames()),L.uIk("aria-label",Ze.ariaLabel)("aria-hidden",Ze.ariaHidden)("role",Ze.role))},encapsulation:2})}return Ye})(),se=(()=>{class Ye extends B.s{static \u0275fac=function(){let Re;return function(Ze){return(Re||(Re=L.n5z(Ye)))(Ze||Ye)}}();static \u0275cmp=L.Xpm({type:Ye,selectors:[["BarsIcon"]],standalone:!0,features:[L.qOj,L.jDz],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M13.3226 3.6129H0.677419C0.497757 3.6129 0.325452 3.54152 0.198411 3.41448C0.0713707 3.28744 0 3.11514 0 2.93548C0 2.75581 0.0713707 2.58351 0.198411 2.45647C0.325452 2.32943 0.497757 2.25806 0.677419 2.25806H13.3226C13.5022 2.25806 13.6745 2.32943 13.8016 2.45647C13.9286 2.58351 14 2.75581 14 2.93548C14 3.11514 13.9286 3.28744 13.8016 3.41448C13.6745 3.54152 13.5022 3.6129 13.3226 3.6129ZM13.3226 7.67741H0.677419C0.497757 7.67741 0.325452 7.60604 0.198411 7.479C0.0713707 7.35196 0 7.17965 0 6.99999C0 6.82033 0.0713707 6.64802 0.198411 6.52098C0.325452 6.39394 0.497757 6.32257 0.677419 6.32257H13.3226C13.5022 6.32257 13.6745 6.39394 13.8016 6.52098C13.9286 6.64802 14 6.82033 14 6.99999C14 7.17965 13.9286 7.35196 13.8016 7.479C13.6745 7.60604 13.5022 7.67741 13.3226 7.67741ZM0.677419 11.7419H13.3226C13.5022 11.7419 13.6745 11.6706 13.8016 11.5435C13.9286 11.4165 14 11.2442 14 11.0645C14 10.8848 13.9286 10.7125 13.8016 10.5855C13.6745 10.4585 13.5022 10.3871 13.3226 10.3871H0.677419C0.497757 10.3871 0.325452 10.4585 0.198411 10.5855C0.0713707 10.7125 0 10.8848 0 11.0645C0 11.2442 0.0713707 11.4165 0.198411 11.5435C0.325452 11.6706 0.497757 11.7419 0.677419 11.7419Z","fill","currentColor"]],template:function(Ge,Ze){1&Ge&&(L.O4$(),L.TgZ(0,"svg",0),L._UZ(1,"path",1),L.qZA()),2&Ge&&(L.Tol(Ze.getClassNames()),L.uIk("aria-label",Ze.ariaLabel)("aria-hidden",Ze.ariaHidden)("role",Ze.role))},encapsulation:2})}return Ye})();var ce=F(4480);let ae=(()=>{class Ye{static \u0275fac=function(Ge){return new(Ge||Ye)};static \u0275mod=L.oAB({type:Ye});static \u0275inj=L.cJS({imports:[p.ez]})}return Ye})(),Ir=(()=>{class Ye{static \u0275fac=function(Ge){return new(Ge||Ye)};static \u0275mod=L.oAB({type:Ye});static \u0275inj=L.cJS({imports:[p.ez,_.Bz,ce.T,ae,Ce.m8,se,Q,Z,_.Bz,ae,Ce.m8]})}return Ye})()},734:(Nt,$e,F)=>{F.d($e,{T:()=>ft,y:()=>le});var p=F(6825),L=F(6814),_=F(5879),Ce=F(5219),B=F(2076),Q=F(4713);let Z=(()=>{class Oe extends Q.s{static \u0275fac=function(){let ge;return function(ye){return(ge||(ge=_.n5z(Oe)))(ye||Oe)}}();static \u0275cmp=_.Xpm({type:Oe,selectors:[["TimesIcon"]],standalone:!0,features:[_.qOj,_.jDz],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z","fill","currentColor"]],template:function(De,ye){1&De&&(_.O4$(),_.TgZ(0,"svg",0),_._UZ(1,"path",1),_.qZA()),2&De&&(_.Tol(ye.getClassNames()),_.uIk("aria-label",ye.ariaLabel)("aria-hidden",ye.ariaHidden)("role",ye.role))},encapsulation:2})}return Oe})();var se=F(4480),ce=F(2332);function J(Oe,he){1&Oe&&_.GkF(0)}function ae(Oe,he){1&Oe&&_._UZ(0,"TimesIcon",8),2&Oe&&_.Q6J("styleClass","p-overlaypanel-close-icon")}function we(Oe,he){}function He(Oe,he){1&Oe&&_.YNc(0,we,0,0,"ng-template")}function We(Oe,he){if(1&Oe&&(_.TgZ(0,"span",9),_.YNc(1,He,1,0,null,3),_.qZA()),2&Oe){const ge=_.oxw(3);_.xp6(1),_.Q6J("ngTemplateOutlet",ge.closeIconTemplate)}}function dt(Oe,he){if(1&Oe){const ge=_.EpF();_.TgZ(0,"button",5),_.NdJ("click",function(ye){_.CHM(ge);const rt=_.oxw(2);return _.KtG(rt.onCloseClick(ye))})("keydown.enter",function(){_.CHM(ge);const ye=_.oxw(2);return _.KtG(ye.hide())}),_.YNc(1,ae,1,1,"TimesIcon",6),_.YNc(2,We,2,1,"span",7),_.qZA()}if(2&Oe){const ge=_.oxw(2);_.uIk("aria-label",ge.ariaCloseLabel),_.xp6(1),_.Q6J("ngIf",!ge.closeIconTemplate),_.xp6(1),_.Q6J("ngIf",ge.closeIconTemplate)}}const nt=function(Oe,he){return{showTransitionParams:Oe,hideTransitionParams:he}},it=function(Oe,he){return{value:Oe,params:he}};function lt(Oe,he){if(1&Oe){const ge=_.EpF();_.TgZ(0,"div",1),_.NdJ("click",function(ye){_.CHM(ge);const rt=_.oxw();return _.KtG(rt.onOverlayClick(ye))})("@animation.start",function(ye){_.CHM(ge);const rt=_.oxw();return _.KtG(rt.onAnimationStart(ye))})("@animation.done",function(ye){_.CHM(ge);const rt=_.oxw();return _.KtG(rt.onAnimationEnd(ye))}),_.TgZ(1,"div",2),_.NdJ("click",function(){_.CHM(ge);const ye=_.oxw();return _.KtG(ye.onContentClick())})("mousedown",function(){_.CHM(ge);const ye=_.oxw();return _.KtG(ye.onContentClick())}),_.Hsn(2),_.YNc(3,J,1,0,"ng-container",3),_.qZA(),_.YNc(4,dt,3,3,"button",4),_.qZA()}if(2&Oe){const ge=_.oxw();_.Tol(ge.styleClass),_.Q6J("ngClass","p-overlaypanel p-component")("ngStyle",ge.style)("@animation",_.WLB(11,it,ge.overlayVisible?"open":"close",_.WLB(8,nt,ge.showTransitionOptions,ge.hideTransitionOptions))),_.uIk("aria-modal",ge.overlayVisible),_.xp6(3),_.Q6J("ngTemplateOutlet",ge.contentTemplate),_.xp6(1),_.Q6J("ngIf",ge.showCloseIcon)}}const bt=["*"];let ft=(()=>{class Oe{document;platformId;el;renderer;cd;zone;config;overlayService;dismissable=!0;showCloseIcon;style;styleClass;appendTo="body";autoZIndex=!0;ariaCloseLabel;baseZIndex=0;focusOnShow=!0;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";onShow=new _.vpe;onHide=new _.vpe;templates;container;overlayVisible=!1;render=!1;isOverlayAnimationInProgress=!1;selfClick=!1;documentClickListener;target;willHide;scrollHandler;documentResizeListener;contentTemplate;closeIconTemplate;destroyCallback;overlayEventListener;overlaySubscription;constructor(ge,De,ye,rt,Ie,Vt,It,ut){this.document=ge,this.platformId=De,this.el=ye,this.renderer=rt,this.cd=Ie,this.zone=Vt,this.config=It,this.overlayService=ut}ngAfterContentInit(){this.templates?.forEach(ge=>{switch(ge.getType()){case"content":default:this.contentTemplate=ge.template;break;case"closeicon":this.closeIconTemplate=ge.template}this.cd.markForCheck()})}bindDocumentClickListener(){if((0,L.NF)(this.platformId)&&!this.documentClickListener&&this.dismissable){let ge=B.p.isIOS()?"touchstart":"click";this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:this.document,ge,ye=>{!this.container?.contains(ye.target)&&this.target!==ye.target&&!this.target.contains(ye.target)&&this.hide(),this.cd.markForCheck()})}}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null,this.selfClick=!1)}toggle(ge,De){this.isOverlayAnimationInProgress||(this.overlayVisible?(this.hasTargetChanged(ge,De)&&(this.destroyCallback=()=>{this.show(null,De||ge.currentTarget||ge.target)}),this.hide()):this.show(ge,De))}show(ge,De){De&&ge&&ge.stopPropagation(),!this.isOverlayAnimationInProgress&&(this.target=De||ge.currentTarget||ge.target,this.overlayVisible=!0,this.render=!0,this.cd.markForCheck())}onOverlayClick(ge){this.overlayService.add({originalEvent:ge,target:this.el.nativeElement}),this.selfClick=!0}onContentClick(){this.selfClick=!0}hasTargetChanged(ge,De){return null!=this.target&&this.target!==(De||ge.currentTarget||ge.target)}appendContainer(){this.appendTo&&("body"===this.appendTo?this.renderer.appendChild(this.document.body,this.container):B.p.appendChild(this.container,this.appendTo))}restoreAppend(){this.container&&this.appendTo&&this.renderer.appendChild(this.el.nativeElement,this.container)}align(){this.autoZIndex&&ce.P9.set("overlay",this.container,this.baseZIndex+this.config.zIndex.overlay),B.p.absolutePosition(this.container,this.target);const ge=B.p.getOffset(this.container),De=B.p.getOffset(this.target),ye=this.document.defaultView?.getComputedStyle(this.container).getPropertyValue("border-radius");let rt=0;ge.left<De.left&&(rt=De.left-ge.left-2*parseFloat(ye)),this.container?.style.setProperty("--overlayArrowLeft",`${rt}px`),ge.top<De.top&&(B.p.addClass(this.container,"p-overlaypanel-flipped"),this.showCloseIcon&&this.renderer.setStyle(this.container,"margin-top","-30px"))}onAnimationStart(ge){"open"===ge.toState&&(this.container=ge.element,this.appendContainer(),this.align(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.focusOnShow&&this.focus(),this.overlayEventListener=De=>{this.container&&this.container.contains(De.target)&&(this.selfClick=!0)},this.overlaySubscription=this.overlayService.clickObservable.subscribe(this.overlayEventListener),this.onShow.emit(null)),this.isOverlayAnimationInProgress=!0}onAnimationEnd(ge){switch(ge.toState){case"void":this.destroyCallback&&(this.destroyCallback(),this.destroyCallback=null),this.overlaySubscription&&this.overlaySubscription.unsubscribe();break;case"close":this.autoZIndex&&ce.P9.clear(this.container),this.overlaySubscription&&this.overlaySubscription.unsubscribe(),this.onContainerDestroy(),this.onHide.emit({}),this.render=!1}this.isOverlayAnimationInProgress=!1}focus(){let ge=B.p.findSingle(this.container,"[autofocus]");ge&&this.zone.runOutsideAngular(()=>{setTimeout(()=>ge.focus(),5)})}hide(){this.overlayVisible=!1,this.cd.markForCheck()}onCloseClick(ge){this.hide(),ge.preventDefault()}onEscapeKeydown(ge){this.hide()}onWindowResize(){this.overlayVisible&&!B.p.isTouchDevice()&&this.hide()}bindDocumentResizeListener(){(0,L.NF)(this.platformId)&&!this.documentResizeListener&&(this.documentResizeListener=this.renderer.listen(this.document.defaultView,"resize",this.onWindowResize.bind(this)))}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindScrollListener(){(0,L.NF)(this.platformId)&&(this.scrollHandler||(this.scrollHandler=new B.V(this.target,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener())}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}onContainerDestroy(){this.cd.destroyed||(this.target=null),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener()}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.container&&this.autoZIndex&&ce.P9.clear(this.container),this.cd.destroyed||(this.target=null),this.destroyCallback=null,this.container&&(this.restoreAppend(),this.onContainerDestroy()),this.overlaySubscription&&this.overlaySubscription.unsubscribe()}static \u0275fac=function(De){return new(De||Oe)(_.Y36(L.K0),_.Y36(_.Lbi),_.Y36(_.SBq),_.Y36(_.Qsj),_.Y36(_.sBO),_.Y36(_.R0b),_.Y36(Ce.b4),_.Y36(Ce.F0))};static \u0275cmp=_.Xpm({type:Oe,selectors:[["p-overlayPanel"]],contentQueries:function(De,ye,rt){if(1&De&&_.Suo(rt,Ce.jx,4),2&De){let Ie;_.iGM(Ie=_.CRH())&&(ye.templates=Ie)}},hostAttrs:[1,"p-element"],hostBindings:function(De,ye){1&De&&_.NdJ("keydown.escape",function(Ie){return ye.onEscapeKeydown(Ie)},!1,_.evT)},inputs:{dismissable:"dismissable",showCloseIcon:"showCloseIcon",style:"style",styleClass:"styleClass",appendTo:"appendTo",autoZIndex:"autoZIndex",ariaCloseLabel:"ariaCloseLabel",baseZIndex:"baseZIndex",focusOnShow:"focusOnShow",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onShow:"onShow",onHide:"onHide"},ngContentSelectors:bt,decls:1,vars:1,consts:[["role","dialog",3,"ngClass","ngStyle","class","click",4,"ngIf"],["role","dialog",3,"ngClass","ngStyle","click"],[1,"p-overlaypanel-content",3,"click","mousedown"],[4,"ngTemplateOutlet"],["type","button","class","p-overlaypanel-close p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],["type","button","pRipple","",1,"p-overlaypanel-close","p-link",3,"click","keydown.enter"],[3,"styleClass",4,"ngIf"],["class","p-overlaypanel-close-icon",4,"ngIf"],[3,"styleClass"],[1,"p-overlaypanel-close-icon"]],template:function(De,ye){1&De&&(_.F$t(),_.YNc(0,lt,5,14,"div",0)),2&De&&_.Q6J("ngIf",ye.render)},dependencies:function(){return[L.mk,L.O5,L.tP,L.PC,se.H,Z]},styles:['@layer primeng{.p-overlaypanel{position:absolute;margin-top:10px;top:0;left:0}.p-overlaypanel-flipped{margin-top:0;margin-bottom:10px}.p-overlaypanel-close{display:flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-overlaypanel:after,.p-overlaypanel:before{bottom:100%;left:calc(var(--overlayArrowLeft, 0) + 1.25rem);content:" ";height:0;width:0;position:absolute;pointer-events:none}.p-overlaypanel:after{border-width:8px;margin-left:-8px}.p-overlaypanel:before{border-width:10px;margin-left:-10px}.p-overlaypanel-shifted:after,.p-overlaypanel-shifted:before{left:auto;right:1.25em;margin-left:auto}.p-overlaypanel-flipped:after,.p-overlaypanel-flipped:before{bottom:auto;top:100%}.p-overlaypanel.p-overlaypanel-flipped:after{border-bottom-color:transparent}.p-overlaypanel.p-overlaypanel-flipped:before{border-bottom-color:transparent}}\n'],encapsulation:2,data:{animation:[(0,p.X$)("animation",[(0,p.SB)("void",(0,p.oB)({transform:"scaleY(0.8)",opacity:0})),(0,p.SB)("close",(0,p.oB)({opacity:0})),(0,p.SB)("open",(0,p.oB)({transform:"translateY(0)",opacity:1})),(0,p.eR)("void => open",(0,p.jt)("{{showTransitionParams}}")),(0,p.eR)("open => close",(0,p.jt)("{{hideTransitionParams}}"))])]},changeDetection:0})}return Oe})(),le=(()=>{class Oe{static \u0275fac=function(De){return new(De||Oe)};static \u0275mod=_.oAB({type:Oe});static \u0275inj=_.cJS({imports:[L.ez,se.T,Ce.m8,Z,Ce.m8]})}return Oe})()},4480:(Nt,$e,F)=>{F.d($e,{H:()=>B,T:()=>Q});var p=F(6814),L=F(5879),_=F(2076),Ce=F(5219);let B=(()=>{class Z{document;platformId;renderer;el;zone;config;constructor(ce,J,ae,we,He,We){this.document=ce,this.platformId=J,this.renderer=ae,this.el=we,this.zone=He,this.config=We}animationListener;mouseDownListener;timeout;ngAfterViewInit(){(0,p.NF)(this.platformId)&&this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.renderer.listen(this.el.nativeElement,"mousedown",this.onMouseDown.bind(this))})}onMouseDown(ce){let J=this.getInk();if(!J||"none"===this.document.defaultView?.getComputedStyle(J,null).display)return;if(_.p.removeClass(J,"p-ink-active"),!_.p.getHeight(J)&&!_.p.getWidth(J)){let We=Math.max(_.p.getOuterWidth(this.el.nativeElement),_.p.getOuterHeight(this.el.nativeElement));J.style.height=We+"px",J.style.width=We+"px"}let ae=_.p.getOffset(this.el.nativeElement),we=ce.pageX-ae.left+this.document.body.scrollTop-_.p.getWidth(J)/2,He=ce.pageY-ae.top+this.document.body.scrollLeft-_.p.getHeight(J)/2;this.renderer.setStyle(J,"top",He+"px"),this.renderer.setStyle(J,"left",we+"px"),_.p.addClass(J,"p-ink-active"),this.timeout=setTimeout(()=>{let We=this.getInk();We&&_.p.removeClass(We,"p-ink-active")},401)}getInk(){const ce=this.el.nativeElement.children;for(let J=0;J<ce.length;J++)if("string"==typeof ce[J].className&&-1!==ce[J].className.indexOf("p-ink"))return ce[J];return null}resetInk(){let ce=this.getInk();ce&&_.p.removeClass(ce,"p-ink-active")}onAnimationEnd(ce){this.timeout&&clearTimeout(this.timeout),_.p.removeClass(ce.currentTarget,"p-ink-active")}create(){let ce=this.renderer.createElement("span");this.renderer.addClass(ce,"p-ink"),this.renderer.appendChild(this.el.nativeElement,ce),this.renderer.setAttribute(ce,"aria-hidden","true"),this.renderer.setAttribute(ce,"role","presentation"),this.animationListener||(this.animationListener=this.renderer.listen(ce,"animationend",this.onAnimationEnd.bind(this)))}remove(){let ce=this.getInk();ce&&(this.mouseDownListener&&this.mouseDownListener(),this.animationListener&&this.animationListener(),this.mouseDownListener=null,this.animationListener=null,_.p.removeElement(ce))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}static \u0275fac=function(J){return new(J||Z)(L.Y36(p.K0),L.Y36(L.Lbi),L.Y36(L.Qsj),L.Y36(L.SBq),L.Y36(L.R0b),L.Y36(Ce.b4,8))};static \u0275dir=L.lG2({type:Z,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"]})}return Z})(),Q=(()=>{class Z{static \u0275fac=function(J){return new(J||Z)};static \u0275mod=L.oAB({type:Z});static \u0275inj=L.cJS({imports:[p.ez]})}return Z})()},2332:(Nt,$e,F)=>{F.d($e,{P9:()=>B,Th:()=>_,gb:()=>p});class p{static equals(Z,se,ce){return ce?this.resolveFieldData(Z,ce)===this.resolveFieldData(se,ce):this.equalsByValue(Z,se)}static equalsByValue(Z,se){if(Z===se)return!0;if(Z&&se&&"object"==typeof Z&&"object"==typeof se){var ae,we,He,ce=Array.isArray(Z),J=Array.isArray(se);if(ce&&J){if((we=Z.length)!=se.length)return!1;for(ae=we;0!=ae--;)if(!this.equalsByValue(Z[ae],se[ae]))return!1;return!0}if(ce!=J)return!1;var We=this.isDate(Z),dt=this.isDate(se);if(We!=dt)return!1;if(We&&dt)return Z.getTime()==se.getTime();var nt=Z instanceof RegExp,it=se instanceof RegExp;if(nt!=it)return!1;if(nt&&it)return Z.toString()==se.toString();var lt=Object.keys(Z);if((we=lt.length)!==Object.keys(se).length)return!1;for(ae=we;0!=ae--;)if(!Object.prototype.hasOwnProperty.call(se,lt[ae]))return!1;for(ae=we;0!=ae--;)if(!this.equalsByValue(Z[He=lt[ae]],se[He]))return!1;return!0}return Z!=Z&&se!=se}static resolveFieldData(Z,se){if(Z&&se){if(this.isFunction(se))return se(Z);if(-1==se.indexOf("."))return Z[se];{let ce=se.split("."),J=Z;for(let ae=0,we=ce.length;ae<we;++ae){if(null==J)return null;J=J[ce[ae]]}return J}}return null}static isFunction(Z){return!!(Z&&Z.constructor&&Z.call&&Z.apply)}static reorderArray(Z,se,ce){Z&&se!==ce&&(ce>=Z.length&&(ce%=Z.length,se%=Z.length),Z.splice(ce,0,Z.splice(se,1)[0]))}static insertIntoOrderedArray(Z,se,ce,J){if(ce.length>0){let ae=!1;for(let we=0;we<ce.length;we++)if(this.findIndexInList(ce[we],J)>se){ce.splice(we,0,Z),ae=!0;break}ae||ce.push(Z)}else ce.push(Z)}static findIndexInList(Z,se){let ce=-1;if(se)for(let J=0;J<se.length;J++)if(se[J]==Z){ce=J;break}return ce}static contains(Z,se){if(null!=Z&&se&&se.length)for(let ce of se)if(this.equals(Z,ce))return!0;return!1}static removeAccents(Z){return Z&&Z.search(/[\xC0-\xFF]/g)>-1&&(Z=Z.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),Z}static isDate(Z){return"[object Date]"===Object.prototype.toString.call(Z)}static isEmpty(Z){return null==Z||""===Z||Array.isArray(Z)&&0===Z.length||!this.isDate(Z)&&"object"==typeof Z&&0===Object.keys(Z).length}static isNotEmpty(Z){return!this.isEmpty(Z)}static compare(Z,se,ce,J=1){let ae=-1;const we=this.isEmpty(Z),He=this.isEmpty(se);return ae=we&&He?0:we?J:He?-J:"string"==typeof Z&&"string"==typeof se?Z.localeCompare(se,ce,{numeric:!0}):Z<se?-1:Z>se?1:0,ae}static sort(Z,se,ce=1,J,ae=1){return(1===ae?ce:ae)*p.compare(Z,se,J,ce)}static merge(Z,se){if(null!=Z||null!=se)return null!=Z&&"object"!=typeof Z||null!=se&&"object"!=typeof se?null!=Z&&"string"!=typeof Z||null!=se&&"string"!=typeof se?se||Z:[Z||"",se||""].join(" "):{...Z||{},...se||{}}}static isPrintableCharacter(Z=""){return this.isNotEmpty(Z)&&1===Z.length&&Z.match(/\S| /)}static getItemValue(Z,...se){return this.isFunction(Z)?Z(...se):Z}static findLastIndex(Z,se){let ce=-1;if(this.isNotEmpty(Z))try{ce=Z.findLastIndex(se)}catch{ce=Z.lastIndexOf([...Z].reverse().find(se))}return ce}static findLast(Z,se){let ce;if(this.isNotEmpty(Z))try{ce=Z.findLast(se)}catch{ce=[...Z].reverse().find(se)}return ce}}var L=0;function _(Q="pn_id_"){return`${Q}${++L}`}var B=function Ce(){let Q=[];const J=ae=>ae&&parseInt(ae.style.zIndex,10)||0;return{get:J,set:(ae,we,He)=>{we&&(we.style.zIndex=String(((ae,we)=>{let He=Q.length>0?Q[Q.length-1]:{key:ae,value:we},We=He.value+(He.key===ae?0:we)+2;return Q.push({key:ae,value:We}),We})(ae,He)))},clear:ae=>{ae&&((ae=>{Q=Q.filter(we=>we.value!==ae)})(J(ae)),ae.style.zIndex="")},getCurrent:()=>Q.length>0?Q[Q.length-1].value:0}}()},5861:(Nt,$e,F)=>{function p(_,Ce,B,Q,Z,se,ce){try{var J=_[se](ce),ae=J.value}catch(we){return void B(we)}J.done?Ce(ae):Promise.resolve(ae).then(Q,Z)}function L(_){return function(){var Ce=this,B=arguments;return new Promise(function(Q,Z){var se=_.apply(Ce,B);function ce(ae){p(se,Q,Z,ce,J,"next",ae)}function J(ae){p(se,Q,Z,ce,J,"throw",ae)}ce(void 0)})}}F.d($e,{Z:()=>L})},7582:(Nt,$e,F)=>{function Ce(Se,ke){var qe={};for(var Fe in Se)Object.prototype.hasOwnProperty.call(Se,Fe)&&ke.indexOf(Fe)<0&&(qe[Fe]=Se[Fe]);if(null!=Se&&"function"==typeof Object.getOwnPropertySymbols){var Ke=0;for(Fe=Object.getOwnPropertySymbols(Se);Ke<Fe.length;Ke++)ke.indexOf(Fe[Ke])<0&&Object.prototype.propertyIsEnumerable.call(Se,Fe[Ke])&&(qe[Fe[Ke]]=Se[Fe[Ke]])}return qe}function we(Se,ke,qe,Fe){return new(qe||(qe=Promise))(function(ct,At){function vt(On){try{cn(Fe.next(On))}catch(pn){At(pn)}}function Dn(On){try{cn(Fe.throw(On))}catch(pn){At(pn)}}function cn(On){On.done?ct(On.value):function Ke(ct){return ct instanceof qe?ct:new qe(function(At){At(ct)})}(On.value).then(vt,Dn)}cn((Fe=Fe.apply(Se,ke||[])).next())})}function le(Se){return this instanceof le?(this.v=Se,this):new le(Se)}function Oe(Se,ke,qe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ke,Fe=qe.apply(Se,ke||[]),ct=[];return Ke={},At("next"),At("throw"),At("return"),Ke[Symbol.asyncIterator]=function(){return this},Ke;function At(zn){Fe[zn]&&(Ke[zn]=function(fn){return new Promise(function(jn,An){ct.push([zn,fn,jn,An])>1||vt(zn,fn)})})}function vt(zn,fn){try{!function Dn(zn){zn.value instanceof le?Promise.resolve(zn.value.v).then(cn,On):pn(ct[0][2],zn)}(Fe[zn](fn))}catch(jn){pn(ct[0][3],jn)}}function cn(zn){vt("next",zn)}function On(zn){vt("throw",zn)}function pn(zn,fn){zn(fn),ct.shift(),ct.length&&vt(ct[0][0],ct[0][1])}}function ge(Se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var qe,ke=Se[Symbol.asyncIterator];return ke?ke.call(Se):(Se=function nt(Se){var ke="function"==typeof Symbol&&Symbol.iterator,qe=ke&&Se[ke],Fe=0;if(qe)return qe.call(Se);if(Se&&"number"==typeof Se.length)return{next:function(){return Se&&Fe>=Se.length&&(Se=void 0),{value:Se&&Se[Fe++],done:!Se}}};throw new TypeError(ke?"Object is not iterable.":"Symbol.iterator is not defined.")}(Se),qe={},Fe("next"),Fe("throw"),Fe("return"),qe[Symbol.asyncIterator]=function(){return this},qe);function Fe(ct){qe[ct]=Se[ct]&&function(At){return new Promise(function(vt,Dn){!function Ke(ct,At,vt,Dn){Promise.resolve(Dn).then(function(cn){ct({value:cn,done:vt})},At)}(vt,Dn,(At=Se[ct](At)).done,At.value)})}}}F.d($e,{FC:()=>Oe,KL:()=>ge,_T:()=>Ce,mG:()=>we,qq:()=>le}),"function"==typeof SuppressedError&&SuppressedError}},Nt=>{Nt(Nt.s=636)}]);